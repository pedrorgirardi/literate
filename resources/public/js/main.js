var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Ka,L,sb,A){var w=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;sb.exports=function(){try{if(!Object.assign)return!1;var q=new String("abc");q[5]="de";if("5"===Object.getOwnPropertyNames(q)[0])return!1;var t={};for(q=0;10>q;q++)t["_"+String.fromCharCode(q)]=q;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(f){return t[f]}).join(""))return!1;var m={};"abcdefghijklmnopqrst".split("").forEach(function(f){m[f]=
f});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},m)).join("")?!1:!0}catch(f){return!1}}()?Object.assign:function(q,t){if(null===q||void 0===q)throw new TypeError("Object.assign cannot be called with null or undefined");var m=Object(q);for(var f,b=1;b<arguments.length;b++){var c=Object(arguments[b]);for(var e in c)k.call(c,e)&&(m[e]=c[e]);if(w){f=w(c);for(var g=0;g<f.length;g++)p.call(c,f[g])&&(m[f[g]]=c[f[g]])}}return m}};
shadow$provide[1]=function(Ka,L,sb,A){function w(aa){if(null===aa||"object"!==typeof aa)return null;aa=T&&aa[T]||aa["@@iterator"];return"function"===typeof aa?aa:null}function k(aa){for(var C="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+aa,B=1;B<arguments.length;B++)C+="\x26args[]\x3d"+encodeURIComponent(arguments[B]);return"Minified React error #"+aa+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(aa,
C,B){this.props=aa;this.context=C;this.refs=ca;this.updater=B||R}function q(){}function t(aa,C,B){this.props=aa;this.context=C;this.refs=ca;this.updater=B||R}function m(aa,C,B){var N,Y={},Aa=null,sa=null;if(null!=C)for(N in void 0!==C.ref&&(sa=C.ref),void 0!==C.key&&(Aa=""+C.key),C)ba.call(C,N)&&!W.hasOwnProperty(N)&&(Y[N]=C[N]);var la=arguments.length-2;if(1===la)Y.children=B;else if(1<la){for(var Ia=Array(la),bb=0;bb<la;bb++)Ia[bb]=arguments[bb+2];Y.children=Ia}if(aa&&aa.defaultProps)for(N in la=
aa.defaultProps,la)void 0===Y[N]&&(Y[N]=la[N]);return{$$typeof:H,type:aa,key:Aa,ref:sa,props:Y,_owner:M.current}}function f(aa,C){return{$$typeof:H,type:aa.type,key:C,ref:aa.ref,props:aa.props,_owner:aa._owner}}function b(aa){return"object"===typeof aa&&null!==aa&&aa.$$typeof===H}function c(aa){var C={"\x3d":"\x3d0",":":"\x3d2"};return"$"+aa.replace(/[=:]/g,function(B){return C[B]})}function e(aa,C){return"object"===typeof aa&&null!==aa&&null!=aa.key?c(""+aa.key):C.toString(36)}function g(aa,C,B,
N,Y){var Aa=typeof aa;if("undefined"===Aa||"boolean"===Aa)aa=null;var sa=!1;if(null===aa)sa=!0;else switch(Aa){case "string":case "number":sa=!0;break;case "object":switch(aa.$$typeof){case H:case F:sa=!0}}if(sa)return sa=aa,Y=Y(sa),aa=""===N?"."+e(sa,0):N,Array.isArray(Y)?(B="",null!=aa&&(B=aa.replace(ea,"$\x26/")+"/"),g(Y,C,B,"",function(bb){return bb})):null!=Y&&(b(Y)&&(Y=f(Y,B+(!Y.key||sa&&sa.key===Y.key?"":(""+Y.key).replace(ea,"$\x26/")+"/")+aa)),C.push(Y)),1;sa=0;N=""===N?".":N+":";if(Array.isArray(aa))for(var la=
0;la<aa.length;la++){Aa=aa[la];var Ia=N+e(Aa,la);sa+=g(Aa,C,B,Ia,Y)}else if(Ia=w(aa),"function"===typeof Ia)for(aa=Ia.call(aa),la=0;!(Aa=aa.next()).done;)Aa=Aa.value,Ia=N+e(Aa,la++),sa+=g(Aa,C,B,Ia,Y);else if("object"===Aa)throw C=""+aa,Error(k(31,"[object Object]"===C?"object with keys {"+Object.keys(aa).join(", ")+"}":C));return sa}function n(aa,C,B){if(null==aa)return aa;var N=[],Y=0;g(aa,N,"","",function(Aa){return C.call(B,Aa,Y++)});return N}function h(aa){if(-1===aa._status){var C=aa._result;
C=C();aa._status=0;aa._result=C;C.then(function(B){0===aa._status&&(B=B.default,aa._status=1,aa._result=B)},function(B){0===aa._status&&(aa._status=2,aa._result=B)})}if(1===aa._status)return aa._result;throw aa._result;}function x(){var aa=La.current;if(null===aa)throw Error(k(321));return aa}var O=L(0),H=60103,F=60106;A.Fragment=60107;A.StrictMode=60108;A.Profiler=60114;var J=60109,D=60110,r=60112;A.Suspense=60113;var z=60115,G=60116;"function"===typeof Symbol&&Symbol.for&&(Ka=Symbol.for,H=Ka("react.element"),
F=Ka("react.portal"),A.Fragment=Ka("react.fragment"),A.StrictMode=Ka("react.strict_mode"),A.Profiler=Ka("react.profiler"),J=Ka("react.provider"),D=Ka("react.context"),r=Ka("react.forward_ref"),A.Suspense=Ka("react.suspense"),z=Ka("react.memo"),G=Ka("react.lazy"));var T="function"===typeof Symbol&&Symbol.iterator,R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ca={};p.prototype.isReactComponent={};p.prototype.setState=
function(aa,C){if("object"!==typeof aa&&"function"!==typeof aa&&null!=aa)throw Error(k(85));this.updater.enqueueSetState(this,aa,C,"setState")};p.prototype.forceUpdate=function(aa){this.updater.enqueueForceUpdate(this,aa,"forceUpdate")};q.prototype=p.prototype;Ka=t.prototype=new q;Ka.constructor=t;O(Ka,p.prototype);Ka.isPureReactComponent=!0;var M={current:null},ba=Object.prototype.hasOwnProperty,W={key:!0,ref:!0,__self:!0,__source:!0},ea=/\/+/g,La={current:null};Ka={ReactCurrentDispatcher:La,ReactCurrentBatchConfig:{transition:0},
ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:O};A.Children={map:n,forEach:function(aa,C,B){n(aa,function(){C.apply(this,arguments)},B)},count:function(aa){var C=0;n(aa,function(){C++});return C},toArray:function(aa){return n(aa,function(C){return C})||[]},only:function(aa){if(!b(aa))throw Error(k(143));return aa}};A.Component=p;A.PureComponent=t;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ka;A.cloneElement=function(aa,C,B){if(null===aa||void 0===aa)throw Error(k(267,aa));
var N=O({},aa.props),Y=aa.key,Aa=aa.ref,sa=aa._owner;if(null!=C){void 0!==C.ref&&(Aa=C.ref,sa=M.current);void 0!==C.key&&(Y=""+C.key);if(aa.type&&aa.type.defaultProps)var la=aa.type.defaultProps;for(Ia in C)ba.call(C,Ia)&&!W.hasOwnProperty(Ia)&&(N[Ia]=void 0===C[Ia]&&void 0!==la?la[Ia]:C[Ia])}var Ia=arguments.length-2;if(1===Ia)N.children=B;else if(1<Ia){la=Array(Ia);for(var bb=0;bb<Ia;bb++)la[bb]=arguments[bb+2];N.children=la}return{$$typeof:H,type:aa.type,key:Y,ref:Aa,props:N,_owner:sa}};A.createContext=
function(aa,C){void 0===C&&(C=null);aa={$$typeof:D,_calculateChangedBits:C,_currentValue:aa,_currentValue2:aa,_threadCount:0,Provider:null,Consumer:null};aa.Provider={$$typeof:J,_context:aa};return aa.Consumer=aa};A.createElement=m;A.createFactory=function(aa){var C=m.bind(null,aa);C.type=aa;return C};A.createRef=function(){return{current:null}};A.forwardRef=function(aa){return{$$typeof:r,render:aa}};A.isValidElement=b;A.lazy=function(aa){return{$$typeof:G,_payload:{_status:-1,_result:aa},_init:h}};
A.memo=function(aa,C){return{$$typeof:z,type:aa,compare:void 0===C?null:C}};A.useCallback=function(aa,C){return x().useCallback(aa,C)};A.useContext=function(aa,C){return x().useContext(aa,C)};A.useDebugValue=function(){};A.useEffect=function(aa,C){return x().useEffect(aa,C)};A.useImperativeHandle=function(aa,C,B){return x().useImperativeHandle(aa,C,B)};A.useLayoutEffect=function(aa,C){return x().useLayoutEffect(aa,C)};A.useMemo=function(aa,C){return x().useMemo(aa,C)};A.useReducer=function(aa,C,B){return x().useReducer(aa,
C,B)};A.useRef=function(aa){return x().useRef(aa)};A.useState=function(aa){return x().useState(aa)};A.version="17.0.2"};
shadow$provide[3]=function(Ka,L,sb,A){sb.exports=L(1)};
shadow$provide[4]=function(Ka,L,sb,A){function w(B,N){var Y=B.length;B.push(N);a:for(;;){var Aa=Y-1>>>1,sa=B[Aa];if(void 0!==sa&&0<q(sa,N))B[Aa]=N,B[Y]=sa,Y=Aa;else break a}}function k(B){B=B[0];return void 0===B?null:B}function p(B){var N=B[0];if(void 0!==N){var Y=B.pop();if(Y!==N){B[0]=Y;var Aa=0,sa=B.length;a:for(;Aa<sa;){var la=2*(Aa+1)-1,Ia=B[la],bb=la+1,ib=B[bb];if(void 0!==Ia&&0>q(Ia,Y))void 0!==ib&&0>q(ib,Ia)?(B[Aa]=ib,B[bb]=Y,Aa=bb):(B[Aa]=Ia,B[la]=Y,Aa=la);else if(void 0!==ib&&0>q(ib,Y))B[Aa]=
ib,B[bb]=Y,Aa=bb;else break a}}return N}return null}function q(B,N){var Y=B.sortIndex-N.sortIndex;return 0!==Y?Y:B.id-N.id}function t(B){for(var N=k(M);null!==N;){if(null===N.callback)p(M);else if(N.startTime<=B)p(M),N.sortIndex=N.expirationTime,w(ca,N);else break;N=k(M)}}function m(B){C=!1;t(B);if(!aa)if(null!==k(ca))aa=!0,x(f);else{var N=k(M);null!==N&&O(m,N.startTime-B)}}function f(B,N){aa=!1;C&&(C=!1,H());La=!0;var Y=ea;try{t(N);for(W=k(ca);null!==W&&(!(W.expirationTime>N)||B&&!A.unstable_shouldYield());){var Aa=
W.callback;if("function"===typeof Aa){W.callback=null;ea=W.priorityLevel;var sa=Aa(W.expirationTime<=N);N=A.unstable_now();"function"===typeof sa?W.callback=sa:W===k(ca)&&p(ca);t(N)}else p(ca);W=k(ca)}if(null!==W)var la=!0;else{var Ia=k(M);null!==Ia&&O(m,Ia.startTime-N);la=!1}return la}finally{W=null,ea=Y,La=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var b=performance;A.unstable_now=function(){return b.now()}}else{var c=Date,e=c.now();A.unstable_now=function(){return c.now()-
e}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var g=null,n=null,h=function(){if(null!==g)try{var B=A.unstable_now();g(!0,B);g=null}catch(N){throw setTimeout(h,0),N;}};var x=function(B){null!==g?setTimeout(x,0,B):(g=B,setTimeout(h,0))};var O=function(B,N){n=setTimeout(B,N)};var H=function(){clearTimeout(n)};A.unstable_shouldYield=function(){return!1};Ka=A.unstable_forceFrameRate=function(){}}else{var F=window.setTimeout,J=window.clearTimeout;"undefined"!==typeof console&&(Ka=
window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof Ka&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var D=!1,r=null,z=-1,G=5,T=0;A.unstable_shouldYield=function(){return A.unstable_now()>=
T};Ka=function(){};A.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1E3/B):5};L=new MessageChannel;var R=L.port2;L.port1.onmessage=function(){if(null!==r){var B=A.unstable_now();T=B+G;try{r(!0,B)?R.postMessage(null):(D=!1,r=null)}catch(N){throw R.postMessage(null),N;}}else D=!1};x=function(B){r=B;D||(D=!0,R.postMessage(null))};O=function(B,N){z=F(function(){B(A.unstable_now())},
N)};H=function(){J(z);z=-1}}var ca=[],M=[],ba=1,W=null,ea=3,La=!1,aa=!1,C=!1;A.unstable_IdlePriority=5;A.unstable_ImmediatePriority=1;A.unstable_LowPriority=4;A.unstable_NormalPriority=3;A.unstable_Profiling=null;A.unstable_UserBlockingPriority=2;A.unstable_cancelCallback=function(B){B.callback=null};A.unstable_continueExecution=function(){aa||La||(aa=!0,x(f))};A.unstable_getCurrentPriorityLevel=function(){return ea};A.unstable_getFirstCallbackNode=function(){return k(ca)};A.unstable_next=function(B){switch(ea){case 1:case 2:case 3:var N=
3;break;default:N=ea}var Y=ea;ea=N;try{return B()}finally{ea=Y}};A.unstable_pauseExecution=function(){};A.unstable_requestPaint=Ka;A.unstable_runWithPriority=function(B,N){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=ea;ea=B;try{return N()}finally{ea=Y}};A.unstable_scheduleCallback=function(B,N,Y){var Aa=A.unstable_now();"object"===typeof Y&&null!==Y?(Y=Y.delay,Y="number"===typeof Y&&0<Y?Aa+Y:Aa):Y=Aa;switch(B){case 1:var sa=-1;break;case 2:sa=250;break;case 5:sa=1073741823;
break;case 4:sa=1E4;break;default:sa=5E3}sa=Y+sa;B={id:ba++,callback:N,priorityLevel:B,startTime:Y,expirationTime:sa,sortIndex:-1};Y>Aa?(B.sortIndex=Y,w(M,B),null===k(ca)&&B===k(M)&&(C?H():C=!0,O(m,Y-Aa))):(B.sortIndex=sa,w(ca,B),aa||La||(aa=!0,x(f)));return B};A.unstable_wrapCallback=function(B){var N=ea;return function(){var Y=ea;ea=N;try{return B.apply(this,arguments)}finally{ea=Y}}}};
shadow$provide[6]=function(Ka,L,sb,A){sb.exports=L(4)};
shadow$provide[7]=function(Ka,L,sb,A){function w(v){for(var E="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+v,V=1;V<arguments.length;V++)E+="\x26args[]\x3d"+encodeURIComponent(arguments[V]);return"Minified React error #"+v+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(v,E){p(v,E);p(v+"Capture",E)}function p(v,E){Rg[v]=E;for(v=0;v<E.length;v++)ci.add(E[v])}function q(v){if(xg.call(Kg,v))return!0;
if(xg.call(Ah,v))return!1;if(li.test(v))return Kg[v]=!0;Ah[v]=!0;return!1}function t(v,E,V,Qa){if(null!==V&&0===V.type)return!1;switch(typeof E){case "function":case "symbol":return!0;case "boolean":if(Qa)return!1;if(null!==V)return!V.acceptsBooleans;v=v.toLowerCase().slice(0,5);return"data-"!==v&&"aria-"!==v;default:return!1}}function m(v,E,V,Qa){if(null===E||"undefined"===typeof E||t(v,E,V,Qa))return!0;if(Qa)return!1;if(null!==V)switch(V.type){case 3:return!E;case 4:return!1===E;case 5:return isNaN(E);
case 6:return isNaN(E)||1>E}return!1}function f(v,E,V,Qa,hb,Db,cc){this.acceptsBooleans=2===E||3===E||4===E;this.attributeName=Qa;this.attributeNamespace=hb;this.mustUseProperty=V;this.propertyName=v;this.type=E;this.sanitizeURL=Db;this.removeEmptyString=cc}function b(v){return v[1].toUpperCase()}function c(v,E,V,Qa){var hb=eh.hasOwnProperty(E)?eh[E]:null;(null!==hb?0===hb.type:Qa?0:2<E.length&&("o"===E[0]||"O"===E[0])&&("n"===E[1]||"N"===E[1]))||(m(E,V,hb,Qa)&&(V=null),Qa||null===hb?q(E)&&(null===
V?v.removeAttribute(E):v.setAttribute(E,""+V)):hb.mustUseProperty?v[hb.propertyName]=null===V?3===hb.type?!1:"":V:(E=hb.attributeName,Qa=hb.attributeNamespace,null===V?v.removeAttribute(E):(hb=hb.type,V=3===hb||4===hb&&!0===V?"":""+V,Qa?v.setAttributeNS(Qa,E,V):v.setAttribute(E,V))))}function e(v){if(null===v||"object"!==typeof v)return null;v=Oi&&v[Oi]||v["@@iterator"];return"function"===typeof v?v:null}function g(v){if(void 0===ia)try{throw Error();}catch(V){var E=V.stack.trim().match(/\n( *(at )?)/);
ia=E&&E[1]||""}return"\n"+ia+v}function n(v,E){if(!v||Na)return"";Na=!0;var V=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error();},Object.defineProperty(E.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(E,[])}catch(cd){var Qa=cd}Reflect.construct(v,[],E)}else{try{E.call()}catch(cd){Qa=cd}v.call(E.prototype)}else{try{throw Error();}catch(cd){Qa=cd}v()}}catch(cd){if(cd&&Qa&&"string"===
typeof cd.stack){for(var hb=cd.stack.split("\n"),Db=Qa.stack.split("\n"),cc=hb.length-1,vc=Db.length-1;1<=cc&&0<=vc&&hb[cc]!==Db[vc];)vc--;for(;1<=cc&&0<=vc;cc--,vc--)if(hb[cc]!==Db[vc]){if(1!==cc||1!==vc){do if(cc--,vc--,0>vc||hb[cc]!==Db[vc])return"\n"+hb[cc].replace(" at new "," at ");while(1<=cc&&0<=vc)}break}}}finally{Na=!1,Error.prepareStackTrace=V}return(v=v?v.displayName||v.name:"")?g(v):""}function h(v){switch(v.tag){case 5:return g(v.type);case 16:return g("Lazy");case 13:return g("Suspense");
case 19:return g("SuspenseList");case 0:case 2:case 15:return v=n(v.type,!1),v;case 11:return v=n(v.type.render,!1),v;case 22:return v=n(v.type._render,!1),v;case 1:return v=n(v.type,!0),v;default:return""}}function x(v){if(null==v)return null;if("function"===typeof v)return v.displayName||v.name||null;if("string"===typeof v)return v;switch(v){case xh:return"Fragment";case Yg:return"Portal";case yi:return"Profiler";case Ih:return"StrictMode";case Zg:return"Suspense";case Zi:return"SuspenseList"}if("object"===
typeof v)switch(v.$$typeof){case Yf:return(v.displayName||"Context")+".Consumer";case di:return(v._context.displayName||"Context")+".Provider";case yg:var E=v.render;E=E.displayName||E.name||"";return v.displayName||(""!==E?"ForwardRef("+E+")":"ForwardRef");case ei:return x(v.type);case Oh:return x(v._render);case lj:E=v._payload;v=v._init;try{return x(v(E))}catch(V){}}return null}function O(v){switch(typeof v){case "boolean":case "number":case "object":case "string":case "undefined":return v;default:return""}}
function H(v){var E=v.type;return(v=v.nodeName)&&"input"===v.toLowerCase()&&("checkbox"===E||"radio"===E)}function F(v){var E=H(v)?"checked":"value",V=Object.getOwnPropertyDescriptor(v.constructor.prototype,E),Qa=""+v[E];if(!v.hasOwnProperty(E)&&"undefined"!==typeof V&&"function"===typeof V.get&&"function"===typeof V.set){var hb=V.get,Db=V.set;Object.defineProperty(v,E,{configurable:!0,get:function(){return hb.call(this)},set:function(cc){Qa=""+cc;Db.call(this,cc)}});Object.defineProperty(v,E,{enumerable:V.enumerable});
return{getValue:function(){return Qa},setValue:function(cc){Qa=""+cc},stopTracking:function(){v._valueTracker=null;delete v[E]}}}}function J(v){v._valueTracker||(v._valueTracker=F(v))}function D(v){if(!v)return!1;var E=v._valueTracker;if(!E)return!0;var V=E.getValue(),Qa="";v&&(Qa=H(v)?v.checked?"true":"false":v.value);v=Qa;return v!==V?(E.setValue(v),!0):!1}function r(v){v=v||("undefined"!==typeof document?document:void 0);if("undefined"===typeof v)return null;try{return v.activeElement||v.body}catch(E){return v.body}}
function z(v,E){var V=E.checked;return Hf({},E,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=V?V:v._wrapperState.initialChecked})}function G(v,E){var V=null==E.defaultValue?"":E.defaultValue,Qa=null!=E.checked?E.checked:E.defaultChecked;V=O(null!=E.value?E.value:V);v._wrapperState={initialChecked:Qa,initialValue:V,controlled:"checkbox"===E.type||"radio"===E.type?null!=E.checked:null!=E.value}}function T(v,E){E=E.checked;null!=E&&c(v,"checked",E,!1)}function R(v,E){T(v,E);var V=
O(E.value),Qa=E.type;if(null!=V)if("number"===Qa){if(0===V&&""===v.value||v.value!=V)v.value=""+V}else v.value!==""+V&&(v.value=""+V);else if("submit"===Qa||"reset"===Qa){v.removeAttribute("value");return}E.hasOwnProperty("value")?M(v,E.type,V):E.hasOwnProperty("defaultValue")&&M(v,E.type,O(E.defaultValue));null==E.checked&&null!=E.defaultChecked&&(v.defaultChecked=!!E.defaultChecked)}function ca(v,E,V){if(E.hasOwnProperty("value")||E.hasOwnProperty("defaultValue")){var Qa=E.type;if(!("submit"!==
Qa&&"reset"!==Qa||void 0!==E.value&&null!==E.value))return;E=""+v._wrapperState.initialValue;V||E===v.value||(v.value=E);v.defaultValue=E}V=v.name;""!==V&&(v.name="");v.defaultChecked=!!v._wrapperState.initialChecked;""!==V&&(v.name=V)}function M(v,E,V){if("number"!==E||r(v.ownerDocument)!==v)null==V?v.defaultValue=""+v._wrapperState.initialValue:v.defaultValue!==""+V&&(v.defaultValue=""+V)}function ba(v){var E="";pf.Children.forEach(v,function(V){null!=V&&(E+=V)});return E}function W(v,E){v=Hf({children:void 0},
E);if(E=ba(E.children))v.children=E;return v}function ea(v,E,V,Qa){v=v.options;if(E){E={};for(var hb=0;hb<V.length;hb++)E["$"+V[hb]]=!0;for(V=0;V<v.length;V++)hb=E.hasOwnProperty("$"+v[V].value),v[V].selected!==hb&&(v[V].selected=hb),hb&&Qa&&(v[V].defaultSelected=!0)}else{V=""+O(V);E=null;for(hb=0;hb<v.length;hb++){if(v[hb].value===V){v[hb].selected=!0;Qa&&(v[hb].defaultSelected=!0);return}null!==E||v[hb].disabled||(E=v[hb])}null!==E&&(E.selected=!0)}}function La(v,E){if(null!=E.dangerouslySetInnerHTML)throw Error(w(91));
return Hf({},E,{value:void 0,defaultValue:void 0,children:""+v._wrapperState.initialValue})}function aa(v,E){var V=E.value;if(null==V){V=E.children;E=E.defaultValue;if(null!=V){if(null!=E)throw Error(w(92));if(Array.isArray(V)){if(!(1>=V.length))throw Error(w(93));V=V[0]}E=V}null==E&&(E="");V=E}v._wrapperState={initialValue:O(V)}}function C(v,E){var V=O(E.value),Qa=O(E.defaultValue);null!=V&&(V=""+V,V!==v.value&&(v.value=V),null==E.defaultValue&&v.defaultValue!==V&&(v.defaultValue=V));null!=Qa&&(v.defaultValue=
""+Qa)}function B(v){var E=v.textContent;E===v._wrapperState.initialValue&&""!==E&&null!==E&&(v.value=E)}function N(v){switch(v){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(v,E){return null==v||"http://www.w3.org/1999/xhtml"===v?N(E):"http://www.w3.org/2000/svg"===v&&"foreignObject"===E?"http://www.w3.org/1999/xhtml":v}function Aa(v,E){if(E){var V=v.firstChild;if(V&&V===v.lastChild&&3===
V.nodeType){V.nodeValue=E;return}}v.textContent=E}function sa(v,E,V){return null==E||"boolean"===typeof E||""===E?"":V||"number"!==typeof E||0===E||ac.hasOwnProperty(v)&&ac[v]?(""+E).trim():E+"px"}function la(v,E){v=v.style;for(var V in E)if(E.hasOwnProperty(V)){var Qa=0===V.indexOf("--"),hb=sa(V,E[V],Qa);"float"===V&&(V="cssFloat");Qa?v.setProperty(V,hb):v[V]=hb}}function Ia(v,E){if(E){if(Ac[v]&&(null!=E.children||null!=E.dangerouslySetInnerHTML))throw Error(w(137,v));if(null!=E.dangerouslySetInnerHTML){if(null!=
E.children)throw Error(w(60));if(!("object"===typeof E.dangerouslySetInnerHTML&&"__html"in E.dangerouslySetInnerHTML))throw Error(w(61));}if(null!=E.style&&"object"!==typeof E.style)throw Error(w(62));}}function bb(v,E){if(-1===v.indexOf("-"))return"string"===typeof E.is;switch(v){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function ib(v){v=v.target||
v.srcElement||window;v.correspondingUseElement&&(v=v.correspondingUseElement);return 3===v.nodeType?v.parentNode:v}function Ja(v){if(v=Bb(v)){if("function"!==typeof hd)throw Error(w(280));var E=v.stateNode;E&&(E=Uc(E),hd(v.stateNode,v.type,E))}}function ma(v){Ld?ae?ae.push(v):ae=[v]:Ld=v}function Fa(){if(Ld){var v=Ld,E=ae;ae=Ld=null;Ja(v);if(E)for(v=0;v<E.length;v++)Ja(E[v])}}function Pa(v,E){return v(E)}function qa(v,E,V,Qa,hb){return v(E,V,Qa,hb)}function ya(){}function oa(){if(null!==Ld||null!==
ae)ya(),Fa()}function va(v,E,V){if(Qe)return v(E,V);Qe=!0;try{return kd(v,E,V)}finally{Qe=!1,oa()}}function Ua(v,E){var V=v.stateNode;if(null===V)return null;var Qa=Uc(V);if(null===Qa)return null;V=Qa[E];a:switch(E){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Qa=!Qa.disabled)||(v=v.type,Qa=!("button"===v||
"input"===v||"select"===v||"textarea"===v));v=!Qa;break a;default:v=!1}if(v)return null;if(V&&"function"!==typeof V)throw Error(w(231,E,typeof V));return V}function eb(v,E,V,Qa,hb,Db,cc,vc,cd){var Qd=Array.prototype.slice.call(arguments,3);try{E.apply(V,Qd)}catch(Xe){this.onError(Xe)}}function ra(v,E,V,Qa,hb,Db,cc,vc,cd){Zf=!1;Dg=null;eb.apply($e,arguments)}function Oa(v,E,V,Qa,hb,Db,cc,vc,cd){ra.apply(this,arguments);if(Zf){if(Zf){var Qd=Dg;Zf=!1;Dg=null}else throw Error(w(198));fh||(fh=!0,lh=Qd)}}
function ja(v){var E=v,V=v;if(v.alternate)for(;E.return;)E=E.return;else{v=E;do E=v,0!==(E.flags&1026)&&(V=E.return),v=E.return;while(v)}return 3===E.tag?V:null}function U(v){if(13===v.tag){var E=v.memoizedState;null===E&&(v=v.alternate,null!==v&&(E=v.memoizedState));if(null!==E)return E.dehydrated}return null}function ka(v){if(ja(v)!==v)throw Error(w(188));}function wa(v){var E=v.alternate;if(!E){E=ja(v);if(null===E)throw Error(w(188));return E!==v?null:v}for(var V=v,Qa=E;;){var hb=V.return;if(null===
hb)break;var Db=hb.alternate;if(null===Db){Qa=hb.return;if(null!==Qa){V=Qa;continue}break}if(hb.child===Db.child){for(Db=hb.child;Db;){if(Db===V)return ka(hb),v;if(Db===Qa)return ka(hb),E;Db=Db.sibling}throw Error(w(188));}if(V.return!==Qa.return)V=hb,Qa=Db;else{for(var cc=!1,vc=hb.child;vc;){if(vc===V){cc=!0;V=hb;Qa=Db;break}if(vc===Qa){cc=!0;Qa=hb;V=Db;break}vc=vc.sibling}if(!cc){for(vc=Db.child;vc;){if(vc===V){cc=!0;V=Db;Qa=hb;break}if(vc===Qa){cc=!0;Qa=Db;V=hb;break}vc=vc.sibling}if(!cc)throw Error(w(189));
}}if(V.alternate!==Qa)throw Error(w(190));}if(3!==V.tag)throw Error(w(188));return V.stateNode.current===V?v:E}function Ta(v){v=wa(v);if(!v)return null;for(var E=v;;){if(5===E.tag||6===E.tag)return E;if(E.child)E.child.return=E,E=E.child;else{if(E===v)break;for(;!E.sibling;){if(!E.return||E.return===v)return null;E=E.return}E.sibling.return=E.return;E=E.sibling}}return null}function db(v,E){for(var V=v.alternate;null!==E;){if(E===v||E===V)return!0;E=E.return}return!1}function lb(v,E,V,Qa,hb){return{blockedOn:v,
domEventName:E,eventSystemFlags:V|16,nativeEvent:hb,targetContainers:[Qa]}}function nb(v,E){switch(v){case "focusin":case "focusout":rg=null;break;case "dragenter":case "dragleave":Jh=null;break;case "mouseover":case "mouseout":Oe=null;break;case "pointerover":case "pointerout":ve.delete(E.pointerId);break;case "gotpointercapture":case "lostpointercapture":Ve.delete(E.pointerId)}}function Mb(v,E,V,Qa,hb,Db){if(null===v||v.nativeEvent!==Db)return v=lb(E,V,Qa,hb,Db),null!==E&&(E=Bb(E),null!==E&&hl(E)),
v;v.eventSystemFlags|=Qa;E=v.targetContainers;null!==hb&&-1===E.indexOf(hb)&&E.push(hb);return v}function $b(v,E,V,Qa,hb){switch(E){case "focusin":return rg=Mb(rg,v,E,V,Qa,hb),!0;case "dragenter":return Jh=Mb(Jh,v,E,V,Qa,hb),!0;case "mouseover":return Oe=Mb(Oe,v,E,V,Qa,hb),!0;case "pointerover":var Db=hb.pointerId;ve.set(Db,Mb(ve.get(Db)||null,v,E,V,Qa,hb));return!0;case "gotpointercapture":return Db=hb.pointerId,Ve.set(Db,Mb(Ve.get(Db)||null,v,E,V,Qa,hb)),!0}return!1}function Gc(v){var E=rb(v.target);
if(null!==E){var V=ja(E);if(null!==V)if(E=V.tag,13===E){if(E=U(V),null!==E){v.blockedOn=E;yl(v.lanePriority,function(){mg.unstable_runWithPriority(v.priority,function(){il(V)})});return}}else if(3===E&&V.stateNode.hydrate){v.blockedOn=3===V.tag?V.stateNode.containerInfo:null;return}}v.blockedOn=null}function zc(v){if(null!==v.blockedOn)return!1;for(var E=v.targetContainers;0<E.length;){var V=Tb(v.domEventName,v.eventSystemFlags,E[0],v.nativeEvent);if(null!==V)return E=Bb(V),null!==E&&hl(E),v.blockedOn=
V,!1;E.shift()}return!0}function Bc(v,E,V){zc(v)&&V.delete(E)}function uc(){for(gh=!1;0<nf.length;){var v=nf[0];if(null!==v.blockedOn){v=Bb(v.blockedOn);null!==v&&zl(v);break}for(var E=v.targetContainers;0<E.length;){var V=Tb(v.domEventName,v.eventSystemFlags,E[0],v.nativeEvent);if(null!==V){v.blockedOn=V;break}E.shift()}null===v.blockedOn&&nf.shift()}null!==rg&&zc(rg)&&(rg=null);null!==Jh&&zc(Jh)&&(Jh=null);null!==Oe&&zc(Oe)&&(Oe=null);ve.forEach(Bc);Ve.forEach(Bc)}function id(v,E){v.blockedOn===
E&&(v.blockedOn=null,gh||(gh=!0,mg.unstable_scheduleCallback(mg.unstable_NormalPriority,uc)))}function Hb(v){function E(hb){return id(hb,v)}if(0<nf.length){id(nf[0],v);for(var V=1;V<nf.length;V++){var Qa=nf[V];Qa.blockedOn===v&&(Qa.blockedOn=null)}}null!==rg&&id(rg,v);null!==Jh&&id(Jh,v);null!==Oe&&id(Oe,v);ve.forEach(E);Ve.forEach(E);for(V=0;V<xe.length;V++)Qa=xe[V],Qa.blockedOn===v&&(Qa.blockedOn=null);for(;0<xe.length&&(V=xe[0],null===V.blockedOn);)Gc(V),null===V.blockedOn&&xe.shift()}function Ab(v,
E){var V={};V[v.toLowerCase()]=E.toLowerCase();V["Webkit"+v]="webkit"+E;V["Moz"+v]="moz"+E;return V}function dc(v){if(yf[v])return yf[v];if(!Eg[v])return v;var E=Eg[v],V;for(V in E)if(E.hasOwnProperty(V)&&V in mh)return yf[v]=E[V];return v}function Wb(v,E){for(var V=0;V<v.length;V+=2){var Qa=v[V],hb=v[V+1];hb="on"+(hb[0].toUpperCase()+hb.slice(1));Kj.set(Qa,E);$i.set(Qa,hb);k(hb,[Qa])}}function mc(v){if(0!==(1&v))return Fg=15,1;if(0!==(2&v))return Fg=14,2;if(0!==(4&v))return Fg=13,4;var E=24&v;if(0!==
E)return Fg=12,E;if(0!==(v&32))return Fg=11,32;E=192&v;if(0!==E)return Fg=10,E;if(0!==(v&256))return Fg=9,256;E=3584&v;if(0!==E)return Fg=8,E;if(0!==(v&4096))return Fg=7,4096;E=4186112&v;if(0!==E)return Fg=6,E;E=62914560&v;if(0!==E)return Fg=5,E;if(v&67108864)return Fg=4,67108864;if(0!==(v&134217728))return Fg=3,134217728;E=805306368&v;if(0!==E)return Fg=2,E;if(0!==(1073741824&v))return Fg=1,1073741824;Fg=8;return v}function Kc(v){switch(v){case 99:return 15;case 98:return 10;case 97:case 96:return 8;
case 95:return 2;default:return 0}}function Fc(v){switch(v){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(w(358,v));}}function Sc(v,E){var V=v.pendingLanes;if(0===V)return Fg=0;var Qa=0,hb=0,Db=v.expiredLanes,cc=v.suspendedLanes,vc=v.pingedLanes;if(0!==Db)Qa=Db,hb=Fg=15;else if(Db=V&134217727,0!==Db){var cd=Db&~cc;0!==cd?(Qa=mc(cd),hb=Fg):(vc&=Db,0!==vc&&(Qa=
mc(vc),hb=Fg))}else Db=V&~cc,0!==Db?(Qa=mc(Db),hb=Fg):0!==vc&&(Qa=mc(vc),hb=Fg);if(0===Qa)return 0;Qa=31-Gi(Qa);Qa=V&((0>Qa?0:1<<Qa)<<1)-1;if(0!==E&&E!==Qa&&0===(E&cc)){mc(E);if(hb<=Fg)return E;Fg=hb}E=v.entangledLanes;if(0!==E)for(v=v.entanglements,E&=Qa;0<E;)V=31-Gi(E),hb=1<<V,Qa|=v[V],E&=~hb;return Qa}function jd(v){v=v.pendingLanes&-1073741825;return 0!==v?v:v&1073741824?1073741824:0}function $d(v,E){switch(v){case 15:return 1;case 14:return 2;case 12:return v=Ba(24&~E),0===v?$d(10,E):v;case 10:return v=
Ba(192&~E),0===v?$d(8,E):v;case 8:return v=Ba(3584&~E),0===v&&(v=Ba(4186112&~E),0===v&&(v=512)),v;case 2:return E=Ba(805306368&~E),0===E&&(E=268435456),E}throw Error(w(358,v));}function Ba(v){return v&-v}function ua(v){for(var E=[],V=0;31>V;V++)E.push(v);return E}function Ca(v,E,V){v.pendingLanes|=E;var Qa=E-1;v.suspendedLanes&=Qa;v.pingedLanes&=Qa;v=v.eventTimes;E=31-Gi(E);v[E]=V}function $a(v){return 0===v?32:31-(aj(v)/bj|0)|0}function jb(v,E,V,Qa){oe||ya();var hb=Ub,Db=oe;oe=!0;try{qa(hb,v,E,V,
Qa)}finally{(oe=Db)||oa()}}function yb(v,E,V,Qa){xk(cj,Ub.bind(null,v,E,V,Qa))}function Ub(v,E,V,Qa){if(Lj){var hb;if((hb=0===(E&4))&&0<nf.length&&-1<lg.indexOf(v))v=lb(null,v,E,V,Qa),nf.push(v);else{var Db=Tb(v,E,V,Qa);if(null===Db)hb&&nb(v,Qa);else{if(hb){if(-1<lg.indexOf(v)){v=lb(Db,v,E,V,Qa);nf.push(v);return}if($b(Db,v,E,V,Qa))return;nb(v,Qa)}af(v,E,Qa,null,V)}}}}function Tb(v,E,V,Qa){var hb=ib(Qa);hb=rb(hb);if(null!==hb){var Db=ja(hb);if(null===Db)hb=null;else{var cc=Db.tag;if(13===cc){hb=U(Db);
if(null!==hb)return hb;hb=null}else if(3===cc){if(Db.stateNode.hydrate)return 3===Db.tag?Db.stateNode.containerInfo:null;hb=null}else Db!==hb&&(hb=null)}}af(v,E,Qa,hb,V);return null}function Vb(){if(mi)return mi;var v,E=Pi,V=E.length,Qa,hb="value"in si?si.value:si.textContent,Db=hb.length;for(v=0;v<V&&E[v]===hb[v];v++);var cc=V-v;for(Qa=1;Qa<=cc&&E[V-Qa]===hb[Db-Qa];Qa++);return mi=hb.slice(v,1<Qa?1-Qa:void 0)}function Ic(v){var E=v.keyCode;"charCode"in v?(v=v.charCode,0===v&&13===E&&(v=13)):v=E;
10===v&&(v=13);return 32<=v||13===v?v:0}function Yc(){return!0}function dd(){return!1}function nd(v){function E(V,Qa,hb,Db,cc){this._reactName=V;this._targetInst=hb;this.type=Qa;this.nativeEvent=Db;this.target=cc;this.currentTarget=null;for(var vc in v)v.hasOwnProperty(vc)&&(V=v[vc],this[vc]=V?V(Db):Db[vc]);this.isDefaultPrevented=(null!=Db.defaultPrevented?Db.defaultPrevented:!1===Db.returnValue)?Yc:dd;this.isPropagationStopped=dd;return this}Hf(E.prototype,{preventDefault:function(){this.defaultPrevented=
!0;var V=this.nativeEvent;V&&(V.preventDefault?V.preventDefault():"unknown"!==typeof V.returnValue&&(V.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var V=this.nativeEvent;V&&(V.stopPropagation?V.stopPropagation():"unknown"!==typeof V.cancelBubble&&(V.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc});return E}function xd(v){var E=this.nativeEvent;return E.getModifierState?E.getModifierState(v):(v=dj[v])?!!E[v]:!1}function Nd(){return xd}
function Xd(v,E){switch(v){case "keyup":return-1!==S.indexOf(E.keyCode);case "keydown":return 229!==E.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ge(v){v=v.detail;return"object"===typeof v&&"data"in v?v.data:null}function le(v,E){switch(v){case "compositionend":return ge(E);case "keypress":if(32!==E.which)return null;wb=!0;return Ya;case "textInput":return v=E.data,v===Ya&&wb?null:v;default:return null}}function qe(v,E){if(Rb)return"compositionend"===
v||!Q&&Xd(v,E)?(v=Vb(),mi=Pi=si=null,Rb=!1,v):null;switch(v){case "paste":return null;case "keypress":if(!(E.ctrlKey||E.altKey||E.metaKey)||E.ctrlKey&&E.altKey){if(E.char&&1<E.char.length)return E.char;if(E.which)return String.fromCharCode(E.which)}return null;case "compositionend":return Va&&"ko"!==E.locale?null:E.data;default:return null}}function wd(v){var E=v&&v.nodeName&&v.nodeName.toLowerCase();return"input"===E?!!ec[v.type]:"textarea"===E?!0:!1}function qf(v,E,V,Qa){ma(Qa);E=rc(E,"onChange");
0<E.length&&(V=new Jf("onChange","change",null,V,Qa),v.push({event:V,listeners:E}))}function gf(v){Ce(v,0)}function te(v){var E=ic(v);if(D(E))return v}function We(v,E){if("change"===v)return E}function za(){Mc&&(Mc.detachEvent("onpropertychange",Za),Wc=Mc=null)}function Za(v){if("value"===v.propertyName&&te(Wc)){var E=[];qf(E,Wc,v,ib(v));v=gf;if(oe)v(E);else{oe=!0;try{Pa(v,E)}finally{oe=!1,oa()}}}}function tb(v,E,V){"focusin"===v?(za(),Mc=E,Wc=V,Mc.attachEvent("onpropertychange",Za)):"focusout"===
v&&za()}function Jb(v){if("selectionchange"===v||"keyup"===v||"keydown"===v)return te(Wc)}function fc(v,E){if("click"===v)return te(E)}function nc(v,E){if("input"===v||"change"===v)return te(E)}function Hc(v,E){return v===E&&(0!==v||1/v===1/E)||v!==v&&E!==E}function Dc(v,E){if(zg(v,E))return!0;if("object"!==typeof v||null===v||"object"!==typeof E||null===E)return!1;var V=Object.keys(v),Qa=Object.keys(E);if(V.length!==Qa.length)return!1;for(Qa=0;Qa<V.length;Qa++)if(!lf.call(E,V[Qa])||!zg(v[V[Qa]],
E[V[Qa]]))return!1;return!0}function lc(v){for(;v&&v.firstChild;)v=v.firstChild;return v}function ld(v,E){var V=lc(v);v=0;for(var Qa;V;){if(3===V.nodeType){Qa=v+V.textContent.length;if(v<=E&&Qa>=E)return{node:V,offset:E-v};v=Qa}a:{for(;V;){if(V.nextSibling){V=V.nextSibling;break a}V=V.parentNode}V=void 0}V=lc(V)}}function sd(v,E){return v&&E?v===E?!0:v&&3===v.nodeType?!1:E&&3===E.nodeType?sd(v,E.parentNode):"contains"in v?v.contains(E):v.compareDocumentPosition?!!(v.compareDocumentPosition(E)&16):
!1:!1}function Hd(){for(var v=window,E=r();E instanceof v.HTMLIFrameElement;){try{var V="string"===typeof E.contentWindow.location.href}catch(Qa){V=!1}if(V)v=E.contentWindow;else break;E=r(v.document)}return E}function Vd(v){var E=v&&v.nodeName&&v.nodeName.toLowerCase();return E&&("input"===E&&("text"===v.type||"search"===v.type||"tel"===v.type||"url"===v.type||"password"===v.type)||"textarea"===E||"true"===v.contentEditable)}function be(v,E,V){var Qa=V.window===V?V.document:9===V.nodeType?V:V.ownerDocument;
Of||null==cg||cg!==r(Qa)||(Qa=cg,"selectionStart"in Qa&&Vd(Qa)?Qa={start:Qa.selectionStart,end:Qa.selectionEnd}:(Qa=(Qa.ownerDocument&&Qa.ownerDocument.defaultView||window).getSelection(),Qa={anchorNode:Qa.anchorNode,anchorOffset:Qa.anchorOffset,focusNode:Qa.focusNode,focusOffset:Qa.focusOffset}),sg&&Dc(sg,Qa)||(sg=Qa,Qa=rc(Lg,"onSelect"),0<Qa.length&&(E=new Jf("onSelect","select",null,E,V),v.push({event:E,listeners:Qa}),E.target=cg)))}function he(v,E,V){var Qa=v.type||"unknown-event";v.currentTarget=
V;Oa(Qa,E,void 0,v);v.currentTarget=null}function Ce(v,E){E=0!==(E&4);for(var V=0;V<v.length;V++){var Qa=v[V],hb=Qa.event;Qa=Qa.listeners;a:{var Db=void 0;if(E)for(var cc=Qa.length-1;0<=cc;cc--){var vc=Qa[cc],cd=vc.instance,Qd=vc.currentTarget;vc=vc.listener;if(cd!==Db&&hb.isPropagationStopped())break a;he(hb,vc,Qd);Db=cd}else for(cc=0;cc<Qa.length;cc++){vc=Qa[cc];cd=vc.instance;Qd=vc.currentTarget;vc=vc.listener;if(cd!==Db&&hb.isPropagationStopped())break a;he(hb,vc,Qd);Db=cd}}}if(fh)throw v=lh,
fh=!1,lh=null,v;}function re(v,E){var V=Rd(E),Qa=v+"__bubble";V.has(Qa)||(Re(E,v,2,!1),V.add(Qa))}function vf(v){v[Ph]||(v[Ph]=!0,ci.forEach(function(E){Kh.has(E)||Ge(E,!1,v,null);Ge(E,!0,v,null)}))}function Ge(v,E,V,Qa){var hb=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,Db=V;"selectionchange"===v&&9!==V.nodeType&&(Db=V.ownerDocument);if(null!==Qa&&!E&&Kh.has(v)){if("scroll"!==v)return;hb|=2;Db=Qa}var cc=Rd(Db),vc=v+"__"+(E?"capture":"bubble");cc.has(vc)||(E&&(hb|=4),Re(Db,v,hb,E),cc.add(vc))}
function Re(v,E,V,Qa){var hb=Kj.get(E);switch(void 0===hb?2:hb){case 0:hb=jb;break;case 1:hb=yb;break;default:hb=Ub}V=hb.bind(null,E,V,v);hb=void 0;!xf||"touchstart"!==E&&"touchmove"!==E&&"wheel"!==E||(hb=!0);Qa?void 0!==hb?v.addEventListener(E,V,{capture:!0,passive:hb}):v.addEventListener(E,V,!0):void 0!==hb?v.addEventListener(E,V,{passive:hb}):v.addEventListener(E,V,!1)}function af(v,E,V,Qa,hb){var Db=Qa;if(0===(E&1)&&0===(E&2)&&null!==Qa)a:for(;;){if(null===Qa)return;var cc=Qa.tag;if(3===cc||4===
cc){var vc=Qa.stateNode.containerInfo;if(vc===hb||8===vc.nodeType&&vc.parentNode===hb)break;if(4===cc)for(cc=Qa.return;null!==cc;){var cd=cc.tag;if(3===cd||4===cd)if(cd=cc.stateNode.containerInfo,cd===hb||8===cd.nodeType&&cd.parentNode===hb)return;cc=cc.return}for(;null!==vc;){cc=rb(vc);if(null===cc)return;cd=cc.tag;if(5===cd||6===cd){Qa=Db=cc;continue a}vc=vc.parentNode}}Qa=Qa.return}va(function(){var Qd=Db,Xe=ib(V),If=[];a:{var me=$i.get(v);if(void 0!==me){var rf=Jf,Kf=v;switch(v){case "keypress":if(0===
Ic(V))break a;case "keydown":case "keyup":rf=Mj;break;case "focusin":Kf="focus";rf=mj;break;case "focusout":Kf="blur";rf=mj;break;case "beforeblur":case "afterblur":rf=mj;break;case "click":if(2===V.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":rf=yj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":rf=Hi;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":rf=
sh;break;case yh:case oi:case Nj:rf=Qi;break;case zi:rf=nj;break;case "scroll":rf=hk;break;case "wheel":rf=u;break;case "copy":case "cut":case "paste":rf=yk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":rf=Vh}var Ef=0!==(E&4),Cd=!Ef&&"scroll"===v,md=Ef?null!==me?me+"Capture":null:me;Ef=[];for(var zd=Qd,de;null!==zd;){de=zd;var ke=de.stateNode;5===de.tag&&null!==ke&&(de=ke,null!==
md&&(ke=Ua(zd,md),null!=ke&&Ef.push(Qb(zd,ke,de))));if(Cd)break;zd=zd.return}0<Ef.length&&(me=new rf(me,Kf,null,V,Xe),If.push({event:me,listeners:Ef}))}}if(0===(E&7)){me="mouseover"===v||"pointerover"===v;rf="mouseout"===v||"pointerout"===v;if(!me||0!==(E&16)||!(Kf=V.relatedTarget||V.fromElement)||!rb(Kf)&&!Kf[Oj])if(rf||me){me=Xe.window===Xe?Xe:(me=Xe.ownerDocument)?me.defaultView||me.parentWindow:window;if(rf){if(Kf=V.relatedTarget||V.toElement,rf=Qd,Kf=Kf?rb(Kf):null,null!==Kf&&(Cd=ja(Kf),Kf!==
Cd||5!==Kf.tag&&6!==Kf.tag))Kf=null}else rf=null,Kf=Qd;if(rf!==Kf){Ef=yj;ke="onMouseLeave";md="onMouseEnter";zd="mouse";if("pointerout"===v||"pointerover"===v)Ef=Vh,ke="onPointerLeave",md="onPointerEnter",zd="pointer";Cd=null==rf?me:ic(rf);de=null==Kf?me:ic(Kf);me=new Ef(ke,zd+"leave",rf,V,Xe);me.target=Cd;me.relatedTarget=de;ke=null;rb(Xe)===Qd&&(Ef=new Ef(md,zd+"enter",Kf,V,Xe),Ef.target=de,Ef.relatedTarget=Cd,ke=Ef);Cd=ke;if(rf&&Kf)b:{Ef=rf;md=Kf;zd=0;for(de=Ef;de;de=bd(de))zd++;de=0;for(ke=md;ke;ke=
bd(ke))de++;for(;0<zd-de;)Ef=bd(Ef),zd--;for(;0<de-zd;)md=bd(md),de--;for(;zd--;){if(Ef===md||null!==md&&Ef===md.alternate)break b;Ef=bd(Ef);md=bd(md)}Ef=null}else Ef=null;null!==rf&&Ad(If,me,rf,Ef,!1);null!==Kf&&null!==Cd&&Ad(If,Cd,Kf,Ef,!0)}}me=Qd?ic(Qd):window;rf=me.nodeName&&me.nodeName.toLowerCase();if("select"===rf||"input"===rf&&"file"===me.type)var Qf=We;else if(wd(me))if(ad)Qf=nc;else{Qf=Jb;var kf=tb}else(rf=me.nodeName)&&"input"===rf.toLowerCase()&&("checkbox"===me.type||"radio"===me.type)&&
(Qf=fc);Qf&&(Qf=Qf(v,Qd))?qf(If,Qf,V,Xe):(kf&&kf(v,me,Qd),"focusout"===v&&(kf=me._wrapperState)&&kf.controlled&&"number"===me.type&&M(me,"number",me.value));kf=Qd?ic(Qd):window;switch(v){case "focusin":if(wd(kf)||"true"===kf.contentEditable)cg=kf,Lg=Qd,sg=null;break;case "focusout":sg=Lg=cg=null;break;case "mousedown":Of=!0;break;case "contextmenu":case "mouseup":case "dragend":Of=!1;be(If,V,Xe);break;case "selectionchange":if(Gg)break;case "keydown":case "keyup":be(If,V,Xe)}var Rf;if(Q)a:{switch(v){case "compositionstart":var Pf=
"onCompositionStart";break a;case "compositionend":Pf="onCompositionEnd";break a;case "compositionupdate":Pf="onCompositionUpdate";break a}Pf=void 0}else Rb?Xd(v,V)&&(Pf="onCompositionEnd"):"keydown"===v&&229===V.keyCode&&(Pf="onCompositionStart");Pf&&(Va&&"ko"!==V.locale&&(Rb||"onCompositionStart"!==Pf?"onCompositionEnd"===Pf&&Rb&&(Rf=Vb()):(si=Xe,Pi="value"in si?si.value:si.textContent,Rb=!0)),kf=rc(Qd,Pf),0<kf.length&&(Pf=new Pj(Pf,v,null,V,Xe),If.push({event:Pf,listeners:kf}),Rf?Pf.data=Rf:(Rf=
ge(V),null!==Rf&&(Pf.data=Rf))));if(Rf=Ga?le(v,V):qe(v,V))Qd=rc(Qd,"onBeforeInput"),0<Qd.length&&(Xe=new Pj("onBeforeInput","beforeinput",null,V,Xe),If.push({event:Xe,listeners:Qd}),Xe.data=Rf)}Ce(If,E)})}function Qb(v,E,V){return{instance:v,listener:E,currentTarget:V}}function rc(v,E){for(var V=E+"Capture",Qa=[];null!==v;){var hb=v,Db=hb.stateNode;5===hb.tag&&null!==Db&&(hb=Db,Db=Ua(v,V),null!=Db&&Qa.unshift(Qb(v,Db,hb)),Db=Ua(v,E),null!=Db&&Qa.push(Qb(v,Db,hb)));v=v.return}return Qa}function bd(v){if(null===
v)return null;do v=v.return;while(v&&5!==v.tag);return v?v:null}function Ad(v,E,V,Qa,hb){for(var Db=E._reactName,cc=[];null!==V&&V!==Qa;){var vc=V,cd=vc.alternate,Qd=vc.stateNode;if(null!==cd&&cd===Qa)break;5===vc.tag&&null!==Qd&&(vc=Qd,hb?(cd=Ua(V,Db),null!=cd&&cc.unshift(Qb(V,cd,vc))):hb||(cd=Ua(V,Db),null!=cd&&cc.push(Qb(V,cd,vc))));V=V.return}0!==cc.length&&v.push({event:E,listeners:cc})}function xa(){}function Xa(v,E){switch(v){case "button":case "input":case "select":case "textarea":return!!E.autoFocus}return!1}
function zb(v,E){return"textarea"===v||"option"===v||"noscript"===v||"string"===typeof E.children||"number"===typeof E.children||"object"===typeof E.dangerouslySetInnerHTML&&null!==E.dangerouslySetInnerHTML&&null!=E.dangerouslySetInnerHTML.__html}function Xb(v){1===v.nodeType?v.textContent="":9===v.nodeType&&(v=v.body,null!=v&&(v.textContent=""))}function tc(v){for(;null!=v;v=v.nextSibling){var E=v.nodeType;if(1===E||3===E)break}return v}function gd(v){v=v.previousSibling;for(var E=0;v;){if(8===v.nodeType){var V=
v.data;if("$"===V||"$!"===V||"$?"===V){if(0===E)return v;E--}else"/$"===V&&E++}v=v.previousSibling}return null}function qc(v){return{$$typeof:ti,toString:v,valueOf:v}}function rb(v){var E=v[oj];if(E)return E;for(var V=v.parentNode;V;){if(E=V[Oj]||V[oj]){V=E.alternate;if(null!==E.child||null!==V&&null!==V.child)for(v=gd(v);null!==v;){if(V=v[oj])return V;v=gd(v)}return E}v=V;V=v.parentNode}return null}function Bb(v){v=v[oj]||v[Oj];return!v||5!==v.tag&&6!==v.tag&&13!==v.tag&&3!==v.tag?null:v}function ic(v){if(5===
v.tag||6===v.tag)return v.stateNode;throw Error(w(33));}function Uc(v){return v[Qj]||null}function Rd(v){var E=v[jl];void 0===E&&(E=v[jl]=new Set);return E}function Md(v){return{current:v}}function Gd(v){0>Rj||(v.current=Pk[Rj],Pk[Rj]=null,Rj--)}function Pd(v,E){Rj++;Pk[Rj]=v.current;v.current=E}function Me(v,E){var V=v.type.contextTypes;if(!V)return Ri;var Qa=v.stateNode;if(Qa&&Qa.__reactInternalMemoizedUnmaskedChildContext===E)return Qa.__reactInternalMemoizedMaskedChildContext;var hb={},Db;for(Db in V)hb[Db]=
E[Db];Qa&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=E,v.__reactInternalMemoizedMaskedChildContext=hb);return hb}function Se(v){v=v.childContextTypes;return null!==v&&void 0!==v}function ha(){Gd(pi);Gd(Qh)}function ob(v,E,V){if(Qh.current!==Ri)throw Error(w(168));Pd(Qh,E);Pd(pi,V)}function Ea(v,E,V){var Qa=v.stateNode;v=E.childContextTypes;if("function"!==typeof Qa.getChildContext)return V;Qa=Qa.getChildContext();for(var hb in Qa)if(!(hb in v))throw Error(w(108,x(E)||"Unknown",hb));
return Hf({},V,Qa)}function Ib(v){v=(v=v.stateNode)&&v.__reactInternalMemoizedMergedChildContext||Ri;pj=Qh.current;Pd(Qh,v);Pd(pi,pi.current);return!0}function Yb(v,E,V){var Qa=v.stateNode;if(!Qa)throw Error(w(169));V?(v=Ea(v,E,pj),Qa.__reactInternalMemoizedMergedChildContext=v,Gd(pi),Gd(Qh),Pd(Qh,v)):Gd(pi);Pd(pi,V)}function kc(){switch(Qk()){case Sj:return 99;case kl:return 98;case zk:return 97;case Rk:return 96;case ui:return 95;default:throw Error(w(332));}}function Nc(v){switch(v){case 99:return Sj;
case 98:return kl;case 97:return zk;case 96:return Rk;case 95:return ui;default:throw Error(w(332));}}function Jc(v,E){v=Nc(v);return Vf(v,E)}function pd(v,E,V){v=Nc(v);return hh(v,E,V)}function qd(){if(null!==Ak){var v=Ak;Ak=null;se(v)}Yd()}function Yd(){if(!Tj&&null!==Ai){Tj=!0;var v=0;try{var E=Ai;Jc(99,function(){for(;v<E.length;v++){var V=E[v];do V=V(!0);while(null!==V)}});Ai=null}catch(V){throw null!==Ai&&(Ai=Ai.slice(v+1)),hh(Sj,qd),V;}finally{Tj=!1}}}function Od(v,E){if(v&&v.defaultProps){E=
Hf({},E);v=v.defaultProps;for(var V in v)void 0===E[V]&&(E[V]=v[V])}return E}function Jd(v){var E=Rh.current;Gd(Rh);v.type._context._currentValue=E}function ed(v,E){for(;null!==v;){var V=v.alternate;if((v.childLanes&E)===E)if(null===V||(V.childLanes&E)===E)break;else V.childLanes|=E;else v.childLanes|=E,null!==V&&(V.childLanes|=E);v=v.return}}function td(v,E){qj=v;rj=sj=null;v=v.dependencies;null!==v&&null!==v.firstContext&&(0!==(v.lanes&E)&&(Ii=!0),v.firstContext=null)}function wc(v,E){if(rj!==v&&
!1!==E&&0!==E){if("number"!==typeof E||1073741823===E)rj=v,E=1073741823;E={context:v,observedBits:E,next:null};if(null===sj){if(null===qj)throw Error(w(308));sj=E;qj.dependencies={lanes:0,firstContext:E,responders:null}}else sj=sj.next=E}return v._currentValue}function Rc(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Lc(v,E){v=v.updateQueue;E.updateQueue===v&&(E.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,
lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects})}function ud(v,E){return{eventTime:v,lane:E,tag:0,payload:null,callback:null,next:null}}function kb(v,E){v=v.updateQueue;if(null!==v){v=v.shared;var V=v.pending;null===V?E.next=E:(E.next=V.next,V.next=E);v.pending=E}}function Gb(v,E){var V=v.updateQueue,Qa=v.alternate;if(null!==Qa&&(Qa=Qa.updateQueue,V===Qa)){var hb=null,Db=null;V=V.firstBaseUpdate;if(null!==V){do{var cc={eventTime:V.eventTime,lane:V.lane,tag:V.tag,payload:V.payload,
callback:V.callback,next:null};null===Db?hb=Db=cc:Db=Db.next=cc;V=V.next}while(null!==V);null===Db?hb=Db=E:Db=Db.next=E}else hb=Db=E;V={baseState:Qa.baseState,firstBaseUpdate:hb,lastBaseUpdate:Db,shared:Qa.shared,effects:Qa.effects};v.updateQueue=V}else v=V.lastBaseUpdate,null===v?V.firstBaseUpdate=E:v.next=E,V.lastBaseUpdate=E}function Pb(v,E,V,Qa){var hb=v.updateQueue;Wh=!1;var Db=hb.firstBaseUpdate,cc=hb.lastBaseUpdate,vc=hb.shared.pending;if(null!==vc){hb.shared.pending=null;var cd=vc,Qd=cd.next;
cd.next=null;null===cc?Db=Qd:cc.next=Qd;cc=cd;var Xe=v.alternate;if(null!==Xe){Xe=Xe.updateQueue;var If=Xe.lastBaseUpdate;If!==cc&&(null===If?Xe.firstBaseUpdate=Qd:If.next=Qd,Xe.lastBaseUpdate=cd)}}if(null!==Db){If=hb.baseState;cc=0;Xe=Qd=cd=null;do{vc=Db.lane;var me=Db.eventTime;if((Qa&vc)===vc){null!==Xe&&(Xe=Xe.next={eventTime:me,lane:0,tag:Db.tag,payload:Db.payload,callback:Db.callback,next:null});a:{var rf=v,Kf=Db;vc=E;me=V;switch(Kf.tag){case 1:rf=Kf.payload;if("function"===typeof rf){If=rf.call(me,
If,vc);break a}If=rf;break a;case 3:rf.flags=rf.flags&-4097|64;case 0:rf=Kf.payload;vc="function"===typeof rf?rf.call(me,If,vc):rf;if(null===vc||void 0===vc)break a;If=Hf({},If,vc);break a;case 2:Wh=!0}}null!==Db.callback&&(v.flags|=32,vc=hb.effects,null===vc?hb.effects=[Db]:vc.push(Db))}else me={eventTime:me,lane:vc,tag:Db.tag,payload:Db.payload,callback:Db.callback,next:null},null===Xe?(Qd=Xe=me,cd=If):Xe=Xe.next=me,cc|=vc;Db=Db.next;if(null===Db)if(vc=hb.shared.pending,null===vc)break;else Db=
vc.next,vc.next=null,hb.lastBaseUpdate=vc,hb.shared.pending=null}while(1);null===Xe&&(cd=If);hb.baseState=cd;hb.firstBaseUpdate=Qd;hb.lastBaseUpdate=Xe;tj|=cc;v.lanes=cc;v.memoizedState=If}}function bc(v,E,V){v=E.effects;E.effects=null;if(null!==v)for(E=0;E<v.length;E++){var Qa=v[E],hb=Qa.callback;if(null!==hb){Qa.callback=null;Qa=V;if("function"!==typeof hb)throw Error(w(191,hb));hb.call(Qa)}}}function fa(v,E,V,Qa){E=v.memoizedState;V=V(Qa,E);V=null===V||void 0===V?E:Hf({},E,V);v.memoizedState=V;
0===v.lanes&&(v.updateQueue.baseState=V)}function Ha(v,E,V,Qa,hb,Db,cc){v=v.stateNode;return"function"===typeof v.shouldComponentUpdate?v.shouldComponentUpdate(Qa,Db,cc):E.prototype&&E.prototype.isPureReactComponent?!Dc(V,Qa)||!Dc(hb,Db):!0}function gb(v,E,V){var Qa=!1,hb=Ri,Db=E.contextType;"object"===typeof Db&&null!==Db?Db=wc(Db):(hb=Se(E)?pj:Qh.current,Qa=E.contextTypes,Db=(Qa=null!==Qa&&void 0!==Qa)?Me(v,hb):Ri);E=new E(V,Db);v.memoizedState=null!==E.state&&void 0!==E.state?E.state:null;E.updater=
Bk;v.stateNode=E;E._reactInternals=v;Qa&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=hb,v.__reactInternalMemoizedMaskedChildContext=Db);return E}function Fb(v,E,V,Qa){v=E.state;"function"===typeof E.componentWillReceiveProps&&E.componentWillReceiveProps(V,Qa);"function"===typeof E.UNSAFE_componentWillReceiveProps&&E.UNSAFE_componentWillReceiveProps(V,Qa);E.state!==v&&Bk.enqueueReplaceState(E,E.state,null)}function Kb(v,E,V,Qa){var hb=v.stateNode;hb.props=V;hb.state=v.memoizedState;
hb.refs=Ck;Rc(v);var Db=E.contextType;"object"===typeof Db&&null!==Db?hb.context=wc(Db):(Db=Se(E)?pj:Qh.current,hb.context=Me(v,Db));Pb(v,V,hb,Qa);hb.state=v.memoizedState;Db=E.getDerivedStateFromProps;"function"===typeof Db&&(fa(v,E,Db,V),hb.state=v.memoizedState);"function"===typeof E.getDerivedStateFromProps||"function"===typeof hb.getSnapshotBeforeUpdate||"function"!==typeof hb.UNSAFE_componentWillMount&&"function"!==typeof hb.componentWillMount||(E=hb.state,"function"===typeof hb.componentWillMount&&
hb.componentWillMount(),"function"===typeof hb.UNSAFE_componentWillMount&&hb.UNSAFE_componentWillMount(),E!==hb.state&&Bk.enqueueReplaceState(hb,hb.state,null),Pb(v,V,hb,Qa),hb.state=v.memoizedState);"function"===typeof hb.componentDidMount&&(v.flags|=4)}function Ob(v,E,V){v=V.ref;if(null!==v&&"function"!==typeof v&&"object"!==typeof v){if(V._owner){if(V=V._owner){if(1!==V.tag)throw Error(w(309));var Qa=V.stateNode}if(!Qa)throw Error(w(147,v));var hb=""+v;if(null!==E&&null!==E.ref&&"function"===typeof E.ref&&
E.ref._stringRef===hb)return E.ref;E=function(Db){var cc=Qa.refs;cc===Ck&&(cc=Qa.refs={});null===Db?delete cc[hb]:cc[hb]=Db};E._stringRef=hb;return E}if("string"!==typeof v)throw Error(w(284));if(!V._owner)throw Error(w(290,v));}return v}function oc(v,E){if("textarea"!==v.type)throw Error(w(31,"[object Object]"===Object.prototype.toString.call(E)?"object with keys {"+Object.keys(E).join(", ")+"}":E));}function Oc(v){function E(Cd,md){if(v){var zd=Cd.lastEffect;null!==zd?(zd.nextEffect=md,Cd.lastEffect=
md):Cd.firstEffect=Cd.lastEffect=md;md.nextEffect=null;md.flags=8}}function V(Cd,md){if(!v)return null;for(;null!==md;)E(Cd,md),md=md.sibling;return null}function Qa(Cd,md){for(Cd=new Map;null!==md;)null!==md.key?Cd.set(md.key,md):Cd.set(md.index,md),md=md.sibling;return Cd}function hb(Cd,md){Cd=pa(Cd,md);Cd.index=0;Cd.sibling=null;return Cd}function Db(Cd,md,zd){Cd.index=zd;if(!v)return md;zd=Cd.alternate;if(null!==zd)return zd=zd.index,zd<md?(Cd.flags=2,md):zd;Cd.flags=2;return md}function cc(Cd){v&&
null===Cd.alternate&&(Cd.flags=2);return Cd}function vc(Cd,md,zd,de){if(null===md||6!==md.tag)return md=gc(zd,Cd.mode,de),md.return=Cd,md;md=hb(md,zd);md.return=Cd;return md}function cd(Cd,md,zd,de){if(null!==md&&md.elementType===zd.type)return de=hb(md,zd.props),de.ref=Ob(Cd,md,zd),de.return=Cd,de;de=Ra(zd.type,zd.key,zd.props,null,Cd.mode,de);de.ref=Ob(Cd,md,zd);de.return=Cd;return de}function Qd(Cd,md,zd,de){if(null===md||4!==md.tag||md.stateNode.containerInfo!==zd.containerInfo||md.stateNode.implementation!==
zd.implementation)return md=Qc(zd,Cd.mode,de),md.return=Cd,md;md=hb(md,zd.children||[]);md.return=Cd;return md}function Xe(Cd,md,zd,de,ke){if(null===md||7!==md.tag)return md=mb(zd,Cd.mode,de,ke),md.return=Cd,md;md=hb(md,zd);md.return=Cd;return md}function If(Cd,md,zd){if("string"===typeof md||"number"===typeof md)return md=gc(""+md,Cd.mode,zd),md.return=Cd,md;if("object"===typeof md&&null!==md){switch(md.$$typeof){case Lf:return zd=Ra(md.type,md.key,md.props,null,Cd.mode,zd),zd.ref=Ob(Cd,null,md),
zd.return=Cd,zd;case Yg:return md=Qc(md,Cd.mode,zd),md.return=Cd,md}if(Si(md)||e(md))return md=mb(md,Cd.mode,zd,null),md.return=Cd,md;oc(Cd,md)}return null}function me(Cd,md,zd,de){var ke=null!==md?md.key:null;if("string"===typeof zd||"number"===typeof zd)return null!==ke?null:vc(Cd,md,""+zd,de);if("object"===typeof zd&&null!==zd){switch(zd.$$typeof){case Lf:return zd.key===ke?zd.type===xh?Xe(Cd,md,zd.props.children,de,ke):cd(Cd,md,zd,de):null;case Yg:return zd.key===ke?Qd(Cd,md,zd,de):null}if(Si(zd)||
e(zd))return null!==ke?null:Xe(Cd,md,zd,de,null);oc(Cd,zd)}return null}function rf(Cd,md,zd,de,ke){if("string"===typeof de||"number"===typeof de)return Cd=Cd.get(zd)||null,vc(md,Cd,""+de,ke);if("object"===typeof de&&null!==de){switch(de.$$typeof){case Lf:return Cd=Cd.get(null===de.key?zd:de.key)||null,de.type===xh?Xe(md,Cd,de.props.children,ke,de.key):cd(md,Cd,de,ke);case Yg:return Cd=Cd.get(null===de.key?zd:de.key)||null,Qd(md,Cd,de,ke)}if(Si(de)||e(de))return Cd=Cd.get(zd)||null,Xe(md,Cd,de,ke,
null);oc(md,de)}return null}function Kf(Cd,md,zd,de){for(var ke=null,Qf=null,kf=md,Rf=md=0,Pf=null;null!==kf&&Rf<zd.length;Rf++){kf.index>Rf?(Pf=kf,kf=null):Pf=kf.sibling;var $f=me(Cd,kf,zd[Rf],de);if(null===$f){null===kf&&(kf=Pf);break}v&&kf&&null===$f.alternate&&E(Cd,kf);md=Db($f,md,Rf);null===Qf?ke=$f:Qf.sibling=$f;Qf=$f;kf=Pf}if(Rf===zd.length)return V(Cd,kf),ke;if(null===kf){for(;Rf<zd.length;Rf++)kf=If(Cd,zd[Rf],de),null!==kf&&(md=Db(kf,md,Rf),null===Qf?ke=kf:Qf.sibling=kf,Qf=kf);return ke}for(kf=
Qa(Cd,kf);Rf<zd.length;Rf++)Pf=rf(kf,Cd,Rf,zd[Rf],de),null!==Pf&&(v&&null!==Pf.alternate&&kf.delete(null===Pf.key?Rf:Pf.key),md=Db(Pf,md,Rf),null===Qf?ke=Pf:Qf.sibling=Pf,Qf=Pf);v&&kf.forEach(function(Hg){return E(Cd,Hg)});return ke}function Ef(Cd,md,zd,de){var ke=e(zd);if("function"!==typeof ke)throw Error(w(150));zd=ke.call(zd);if(null==zd)throw Error(w(151));for(var Qf=ke=null,kf=md,Rf=md=0,Pf=null,$f=zd.next();null!==kf&&!$f.done;Rf++,$f=zd.next()){kf.index>Rf?(Pf=kf,kf=null):Pf=kf.sibling;var Hg=
me(Cd,kf,$f.value,de);if(null===Hg){null===kf&&(kf=Pf);break}v&&kf&&null===Hg.alternate&&E(Cd,kf);md=Db(Hg,md,Rf);null===Qf?ke=Hg:Qf.sibling=Hg;Qf=Hg;kf=Pf}if($f.done)return V(Cd,kf),ke;if(null===kf){for(;!$f.done;Rf++,$f=zd.next())$f=If(Cd,$f.value,de),null!==$f&&(md=Db($f,md,Rf),null===Qf?ke=$f:Qf.sibling=$f,Qf=$f);return ke}for(kf=Qa(Cd,kf);!$f.done;Rf++,$f=zd.next())$f=rf(kf,Cd,Rf,$f.value,de),null!==$f&&(v&&null!==$f.alternate&&kf.delete(null===$f.key?Rf:$f.key),md=Db($f,md,Rf),null===Qf?ke=
$f:Qf.sibling=$f,Qf=$f);v&&kf.forEach(function(ih){return E(Cd,ih)});return ke}return function(Cd,md,zd,de){var ke="object"===typeof zd&&null!==zd&&zd.type===xh&&null===zd.key;ke&&(zd=zd.props.children);var Qf="object"===typeof zd&&null!==zd;if(Qf)switch(zd.$$typeof){case Lf:a:{Qf=zd.key;for(ke=md;null!==ke;){if(ke.key===Qf){switch(ke.tag){case 7:if(zd.type===xh){V(Cd,ke.sibling);md=hb(ke,zd.props.children);md.return=Cd;Cd=md;break a}break;default:if(ke.elementType===zd.type){V(Cd,ke.sibling);md=
hb(ke,zd.props);md.ref=Ob(Cd,ke,zd);md.return=Cd;Cd=md;break a}}V(Cd,ke);break}else E(Cd,ke);ke=ke.sibling}zd.type===xh?(md=mb(zd.props.children,Cd.mode,de,zd.key),md.return=Cd,Cd=md):(de=Ra(zd.type,zd.key,zd.props,null,Cd.mode,de),de.ref=Ob(Cd,md,zd),de.return=Cd,Cd=de)}return cc(Cd);case Yg:a:{for(ke=zd.key;null!==md;){if(md.key===ke)if(4===md.tag&&md.stateNode.containerInfo===zd.containerInfo&&md.stateNode.implementation===zd.implementation){V(Cd,md.sibling);md=hb(md,zd.children||[]);md.return=
Cd;Cd=md;break a}else{V(Cd,md);break}else E(Cd,md);md=md.sibling}md=Qc(zd,Cd.mode,de);md.return=Cd;Cd=md}return cc(Cd)}if("string"===typeof zd||"number"===typeof zd)return zd=""+zd,null!==md&&6===md.tag?(V(Cd,md.sibling),md=hb(md,zd),md.return=Cd,Cd=md):(V(Cd,md),md=gc(zd,Cd.mode,de),md.return=Cd,Cd=md),cc(Cd);if(Si(zd))return Kf(Cd,md,zd,de);if(e(zd))return Ef(Cd,md,zd,de);Qf&&oc(Cd,zd);if("undefined"===typeof zd&&!ke)switch(Cd.tag){case 1:case 22:case 0:case 11:case 15:throw Error(w(152,x(Cd.type)||
"Component"));}return V(Cd,md)}}function yc(v){if(v===ik)throw Error(w(174));return v}function fd(v,E){Pd(Uj,E);Pd(uj,v);Pd(Sh,ik);v=E.nodeType;switch(v){case 9:case 11:E=(E=E.documentElement)?E.namespaceURI:Y(null,"");break;default:v=8===v?E.parentNode:E,E=v.namespaceURI||null,v=v.tagName,E=Y(E,v)}Gd(Sh);Pd(Sh,E)}function Ec(){Gd(Sh);Gd(uj);Gd(Uj)}function Fd(v){yc(Uj.current);var E=yc(Sh.current),V=Y(E,v.type);E!==V&&(Pd(uj,v),Pd(Sh,V))}function Be(v){uj.current===v&&(Gd(Sh),Gd(uj))}function fe(v){for(var E=
v;null!==E;){if(13===E.tag){var V=E.memoizedState;if(null!==V&&(V=V.dehydrated,null===V||"$?"===V.data||"$!"===V.data))return E}else if(19===E.tag&&void 0!==E.memoizedProps.revealOrder){if(0!==(E.flags&64))return E}else if(null!==E.child){E.child.return=E;E=E.child;continue}if(E===v)break;for(;null===E.sibling;){if(null===E.return||E.return===v)return null;E=E.return}E.sibling.return=E.return;E=E.sibling}return null}function Ae(v,E){var V=pc(5,null,null,0);V.elementType="DELETED";V.type="DELETED";
V.stateNode=E;V.return=v;V.flags=8;null!==v.lastEffect?(v.lastEffect.nextEffect=V,v.lastEffect=V):v.firstEffect=v.lastEffect=V}function Zd(v,E){switch(v.tag){case 5:var V=v.type;E=1!==E.nodeType||V.toLowerCase()!==E.nodeName.toLowerCase()?null:E;return null!==E?(v.stateNode=E,!0):!1;case 6:return E=""===v.pendingProps||3!==E.nodeType?null:E,null!==E?(v.stateNode=E,!0):!1;case 13:return!1;default:return!1}}function vd(v){if(Bi){var E=Ti;if(E){var V=E;if(!Zd(v,E)){E=tc(V.nextSibling);if(!E||!Zd(v,E)){v.flags=
v.flags&-1025|2;Bi=!1;Ji=v;return}Ae(Ji,V)}Ji=v;Ti=tc(E.firstChild)}else v.flags=v.flags&-1025|2,Bi=!1,Ji=v}}function Kd(v){for(v=v.return;null!==v&&5!==v.tag&&3!==v.tag&&13!==v.tag;)v=v.return;Ji=v}function ee(v){if(v!==Ji)return!1;if(!Bi)return Kd(v),Bi=!0,!1;var E=v.type;if(5!==v.tag||"head"!==E&&"body"!==E&&!zb(E,v.memoizedProps))for(E=Ti;E;)Ae(v,E),E=tc(E.nextSibling);Kd(v);if(13===v.tag){v=v.memoizedState;v=null!==v?v.dehydrated:null;if(!v)throw Error(w(317));a:{v=v.nextSibling;for(E=0;v;){if(8===
v.nodeType){var V=v.data;if("/$"===V){if(0===E){Ti=tc(v.nextSibling);break a}E--}else"$"!==V&&"$!"!==V&&"$?"!==V||E++}v=v.nextSibling}Ti=null}}else Ti=Ji?tc(v.stateNode.nextSibling):null;return!0}function we(){for(var v=0;v<Vj.length;v++)Vj[v]._workInProgressVersionPrimary=null;Vj.length=0}function ye(){throw Error(w(321));}function Te(v,E){if(null===E)return!1;for(var V=0;V<E.length&&V<v.length;V++)if(!zg(v[V],E[V]))return!1;return!0}function Id(v,E,V,Qa,hb,Db){jk=Db;th=E;E.memoizedState=null;E.updateQueue=
null;E.lanes=0;kk.current=null===v||null===v.memoizedState?ll:Al;v=V(Qa,hb);if(Wj){Db=0;do{Wj=!1;if(!(25>Db))throw Error(w(301));Db+=1;Th=Uh=null;E.updateQueue=null;kk.current=ml;v=V(Qa,hb)}while(Wj)}kk.current=Dk;E=null!==Uh&&null!==Uh.next;jk=0;Th=Uh=th=null;zj=!1;if(E)throw Error(w(300));return v}function sf(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Th?th.memoizedState=Th=v:Th=Th.next=v;return Th}function zf(){if(null===Uh){var v=th.alternate;v=null!==
v?v.memoizedState:null}else v=Uh.next;var E=null===Th?th.memoizedState:Th.next;if(null!==E)Th=E,Uh=v;else{if(null===v)throw Error(w(310));Uh=v;v={memoizedState:Uh.memoizedState,baseState:Uh.baseState,baseQueue:Uh.baseQueue,queue:Uh.queue,next:null};null===Th?th.memoizedState=Th=v:Th=Th.next=v}return Th}function Ff(v,E){return"function"===typeof E?E(v):E}function $g(v){var E=zf(),V=E.queue;if(null===V)throw Error(w(311));V.lastRenderedReducer=v;var Qa=Uh,hb=Qa.baseQueue,Db=V.pending;if(null!==Db){if(null!==
hb){var cc=hb.next;hb.next=Db.next;Db.next=cc}Qa.baseQueue=hb=Db;V.pending=null}if(null!==hb){hb=hb.next;Qa=Qa.baseState;var vc=cc=Db=null,cd=hb;do{var Qd=cd.lane;if((jk&Qd)===Qd)null!==vc&&(vc=vc.next={lane:0,action:cd.action,eagerReducer:cd.eagerReducer,eagerState:cd.eagerState,next:null}),Qa=cd.eagerReducer===v?cd.eagerState:v(Qa,cd.action);else{var Xe={lane:Qd,action:cd.action,eagerReducer:cd.eagerReducer,eagerState:cd.eagerState,next:null};null===vc?(cc=vc=Xe,Db=Qa):vc=vc.next=Xe;th.lanes|=Qd;
tj|=Qd}cd=cd.next}while(null!==cd&&cd!==hb);null===vc?Db=Qa:vc.next=cc;zg(Qa,E.memoizedState)||(Ii=!0);E.memoizedState=Qa;E.baseState=Db;E.baseQueue=vc;V.lastRenderedState=Qa}return[E.memoizedState,V.dispatch]}function ie(v){var E=zf(),V=E.queue;if(null===V)throw Error(w(311));V.lastRenderedReducer=v;var Qa=V.dispatch,hb=V.pending,Db=E.memoizedState;if(null!==hb){V.pending=null;var cc=hb=hb.next;do Db=v(Db,cc.action),cc=cc.next;while(cc!==hb);zg(Db,E.memoizedState)||(Ii=!0);E.memoizedState=Db;null===
E.baseQueue&&(E.baseState=Db);V.lastRenderedState=Db}return[Db,Qa]}function mf(v,E,V){var Qa=E._getVersion;Qa=Qa(E._source);var hb=E._workInProgressVersionPrimary;if(null!==hb)v=hb===Qa;else if(v=v.mutableReadLanes,v=(jk&v)===v)E._workInProgressVersionPrimary=Qa,Vj.push(E);if(v)return V(E._source);Vj.push(E);throw Error(w(350));}function Sf(v,E,V,Qa){var hb=ah;if(null===hb)throw Error(w(349));var Db=E._getVersion,cc=Db(E._source),vc=kk.current,cd=vc.useState(function(){return mf(hb,E,V)}),Qd=cd[1],
Xe=cd[0];cd=Th;var If=v.memoizedState,me=If.refs,rf=me.getSnapshot,Kf=If.source;If=If.subscribe;var Ef=th;v.memoizedState={refs:me,source:E,subscribe:Qa};vc.useEffect(function(){me.getSnapshot=V;me.setSnapshot=Qd;var Cd=Db(E._source);if(!zg(cc,Cd)){Cd=V(E._source);zg(Xe,Cd)||(Qd(Cd),Cd=Af(Ef),hb.mutableReadLanes|=Cd&hb.pendingLanes);Cd=hb.mutableReadLanes;hb.entangledLanes|=Cd;for(var md=hb.entanglements,zd=Cd;0<zd;){var de=31-Gi(zd),ke=1<<de;md[de]|=Cd;zd&=~ke}}},[V,E,Qa]);vc.useEffect(function(){return Qa(E._source,
function(){var Cd=me.getSnapshot,md=me.setSnapshot;try{md(Cd(E._source));var zd=Af(Ef);hb.mutableReadLanes|=zd&hb.pendingLanes}catch(de){md(function(){throw de;})}})},[E,Qa]);zg(rf,V)&&zg(Kf,E)&&zg(If,Qa)||(v={pending:null,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:Xe},v.dispatch=Qd=Wa.bind(null,th,v),cd.queue=v,cd.baseQueue=null,Xe=mf(hb,E,V),cd.memoizedState=cd.baseState=Xe);return Xe}function Gf(v,E,V){var Qa=zf();return Sf(Qa,v,E,V)}function Ag(v){var E=sf();"function"===typeof v&&
(v=v());E.memoizedState=E.baseState=v;v=E.queue={pending:null,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:v};v=v.dispatch=Wa.bind(null,th,v);return[E.memoizedState,v]}function ng(v,E,V,Qa){v={tag:v,create:E,destroy:V,deps:Qa,next:null};E=th.updateQueue;null===E?(E={lastEffect:null},th.updateQueue=E,E.lastEffect=v.next=v):(V=E.lastEffect,null===V?E.lastEffect=v.next=v:(Qa=V.next,V.next=v,v.next=Qa,E.lastEffect=v));return v}function tg(v){var E=sf();v={current:v};return E.memoizedState=v}
function Sg(){return zf().memoizedState}function ig(v,E,V,Qa){var hb=sf();th.flags|=v;hb.memoizedState=ng(1|E,V,void 0,void 0===Qa?null:Qa)}function Bf(v,E,V,Qa){var hb=zf();Qa=void 0===Qa?null:Qa;var Db=void 0;if(null!==Uh){var cc=Uh.memoizedState;Db=cc.destroy;if(null!==Qa&&Te(Qa,cc.deps)){ng(E,V,Db,Qa);return}}th.flags|=v;hb.memoizedState=ng(1|E,V,Db,Qa)}function ug(v,E){return ig(516,4,v,E)}function og(v,E){return Bf(516,4,v,E)}function Tf(v,E){return Bf(4,2,v,E)}function Wf(v,E){if("function"===
typeof E)return v=v(),E(v),function(){E(null)};if(null!==E&&void 0!==E)return v=v(),E.current=v,function(){E.current=null}}function Tg(v,E,V){V=null!==V&&void 0!==V?V.concat([v]):null;return Bf(4,2,Wf.bind(null,E,v),V)}function bh(){}function Mg(v,E){var V=zf();E=void 0===E?null:E;var Qa=V.memoizedState;if(null!==Qa&&null!==E&&Te(E,Qa[1]))return Qa[0];V.memoizedState=[v,E];return v}function Ig(v,E){var V=zf();E=void 0===E?null:E;var Qa=V.memoizedState;if(null!==Qa&&null!==E&&Te(E,Qa[1]))return Qa[0];
v=v();V.memoizedState=[v,E];return v}function Ng(v,E){var V=kc();Jc(98>V?98:V,function(){v(!0)});Jc(97<V?97:V,function(){var Qa=Ci.transition;Ci.transition=1;try{v(!1),E()}finally{Ci.transition=Qa}})}function Wa(v,E,V){var Qa=dg(),hb=Af(v),Db={lane:hb,action:V,eagerReducer:null,eagerState:null,next:null},cc=E.pending;null===cc?Db.next=Db:(Db.next=cc.next,cc.next=Db);E.pending=Db;cc=v.alternate;if(v===th||null!==cc&&cc===th)Wj=zj=!0;else{if(0===v.lanes&&(null===cc||0===cc.lanes)&&(cc=E.lastRenderedReducer,
null!==cc))try{var vc=E.lastRenderedState,cd=cc(vc,V);Db.eagerReducer=cc;Db.eagerState=cd;if(zg(cd,vc))return}catch(Qd){}finally{}jg(v,hb,Qa)}}function Cb(v,E,V,Qa){E.child=null===v?Sk(E,null,V,Qa):Di(E,v.child,V,Qa)}function hc(v,E,V,Qa,hb){V=V.render;var Db=E.ref;td(E,hb);Qa=Id(v,E,V,Qa,Db,hb);if(null!==v&&!Ii)return E.updateQueue=v.updateQueue,E.flags&=-517,v.lanes&=~hb,uh(v,E,hb);E.flags|=1;Cb(v,E,Qa,hb);return E.child}function yd(v,E,V,Qa,hb,Db){if(null===v){var cc=V.type;if("function"===typeof cc&&
!sc(cc)&&void 0===cc.defaultProps&&null===V.compare&&void 0===V.defaultProps)return E.tag=15,E.type=cc,Dd(v,E,cc,Qa,hb,Db);v=Ra(V.type,null,Qa,E,E.mode,Db);v.ref=E.ref;v.return=E;return E.child=v}cc=v.child;if(0===(hb&Db)&&(hb=cc.memoizedProps,V=V.compare,V=null!==V?V:Dc,V(hb,Qa)&&v.ref===E.ref))return uh(v,E,Db);E.flags|=1;v=pa(cc,Qa);v.ref=E.ref;v.return=E;return E.child=v}function Dd(v,E,V,Qa,hb,Db){if(null!==v&&Dc(v.memoizedProps,Qa)&&v.ref===E.ref)if(Ii=!1,0!==(Db&hb))0!==(v.flags&16384)&&(Ii=
!0);else return E.lanes=v.lanes,uh(v,E,Db);return uf(v,E,V,Qa,Db)}function ne(v,E,V){var Qa=E.pendingProps,hb=Qa.children,Db=null!==v?v.memoizedState:null;if("hidden"===Qa.mode||"unstable-defer-without-hiding"===Qa.mode)if(0===(E.mode&4))E.memoizedState={baseLanes:0},df(E,V);else if(0!==(V&1073741824))E.memoizedState={baseLanes:0},df(E,null!==Db?Db.baseLanes:V);else return v=null!==Db?Db.baseLanes|V:V,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:v},df(E,v),null;else null!==Db?(Qa=Db.baseLanes|
V,E.memoizedState=null):Qa=V,df(E,Qa);Cb(v,E,hb,V);return E.child}function of(v,E){var V=E.ref;if(null===v&&null!==V||null!==v&&v.ref!==V)E.flags|=128}function uf(v,E,V,Qa,hb){var Db=Se(V)?pj:Qh.current;Db=Me(E,Db);td(E,hb);V=Id(v,E,V,Qa,Db,hb);if(null!==v&&!Ii)return E.updateQueue=v.updateQueue,E.flags&=-517,v.lanes&=~hb,uh(v,E,hb);E.flags|=1;Cb(v,E,V,hb);return E.child}function Wg(v,E,V,Qa,hb){if(Se(V)){var Db=!0;Ib(E)}else Db=!1;td(E,hb);if(null===E.stateNode)null!==v&&(v.alternate=null,E.alternate=
null,E.flags|=2),gb(E,V,Qa),Kb(E,V,Qa,hb),Qa=!0;else if(null===v){var cc=E.stateNode,vc=E.memoizedProps;cc.props=vc;var cd=cc.context,Qd=V.contextType;"object"===typeof Qd&&null!==Qd?Qd=wc(Qd):(Qd=Se(V)?pj:Qh.current,Qd=Me(E,Qd));var Xe=V.getDerivedStateFromProps,If="function"===typeof Xe||"function"===typeof cc.getSnapshotBeforeUpdate;If||"function"!==typeof cc.UNSAFE_componentWillReceiveProps&&"function"!==typeof cc.componentWillReceiveProps||(vc!==Qa||cd!==Qd)&&Fb(E,cc,Qa,Qd);Wh=!1;var me=E.memoizedState;
cc.state=me;Pb(E,Qa,cc,hb);cd=E.memoizedState;vc!==Qa||me!==cd||pi.current||Wh?("function"===typeof Xe&&(fa(E,V,Xe,Qa),cd=E.memoizedState),(vc=Wh||Ha(E,V,vc,Qa,me,cd,Qd))?(If||"function"!==typeof cc.UNSAFE_componentWillMount&&"function"!==typeof cc.componentWillMount||("function"===typeof cc.componentWillMount&&cc.componentWillMount(),"function"===typeof cc.UNSAFE_componentWillMount&&cc.UNSAFE_componentWillMount()),"function"===typeof cc.componentDidMount&&(E.flags|=4)):("function"===typeof cc.componentDidMount&&
(E.flags|=4),E.memoizedProps=Qa,E.memoizedState=cd),cc.props=Qa,cc.state=cd,cc.context=Qd,Qa=vc):("function"===typeof cc.componentDidMount&&(E.flags|=4),Qa=!1)}else{cc=E.stateNode;Lc(v,E);vc=E.memoizedProps;Qd=E.type===E.elementType?vc:Od(E.type,vc);cc.props=Qd;If=E.pendingProps;me=cc.context;cd=V.contextType;"object"===typeof cd&&null!==cd?cd=wc(cd):(cd=Se(V)?pj:Qh.current,cd=Me(E,cd));var rf=V.getDerivedStateFromProps;(Xe="function"===typeof rf||"function"===typeof cc.getSnapshotBeforeUpdate)||
"function"!==typeof cc.UNSAFE_componentWillReceiveProps&&"function"!==typeof cc.componentWillReceiveProps||(vc!==If||me!==cd)&&Fb(E,cc,Qa,cd);Wh=!1;me=E.memoizedState;cc.state=me;Pb(E,Qa,cc,hb);var Kf=E.memoizedState;vc!==If||me!==Kf||pi.current||Wh?("function"===typeof rf&&(fa(E,V,rf,Qa),Kf=E.memoizedState),(Qd=Wh||Ha(E,V,Qd,Qa,me,Kf,cd))?(Xe||"function"!==typeof cc.UNSAFE_componentWillUpdate&&"function"!==typeof cc.componentWillUpdate||("function"===typeof cc.componentWillUpdate&&cc.componentWillUpdate(Qa,
Kf,cd),"function"===typeof cc.UNSAFE_componentWillUpdate&&cc.UNSAFE_componentWillUpdate(Qa,Kf,cd)),"function"===typeof cc.componentDidUpdate&&(E.flags|=4),"function"===typeof cc.getSnapshotBeforeUpdate&&(E.flags|=256)):("function"!==typeof cc.componentDidUpdate||vc===v.memoizedProps&&me===v.memoizedState||(E.flags|=4),"function"!==typeof cc.getSnapshotBeforeUpdate||vc===v.memoizedProps&&me===v.memoizedState||(E.flags|=256),E.memoizedProps=Qa,E.memoizedState=Kf),cc.props=Qa,cc.state=Kf,cc.context=
cd,Qa=Qd):("function"!==typeof cc.componentDidUpdate||vc===v.memoizedProps&&me===v.memoizedState||(E.flags|=4),"function"!==typeof cc.getSnapshotBeforeUpdate||vc===v.memoizedProps&&me===v.memoizedState||(E.flags|=256),Qa=!1)}return Uf(v,E,V,Qa,Db,hb)}function Uf(v,E,V,Qa,hb,Db){of(v,E);var cc=0!==(E.flags&64);if(!Qa&&!cc)return hb&&Yb(E,V,!1),uh(v,E,Db);Qa=E.stateNode;Tk.current=E;var vc=cc&&"function"!==typeof V.getDerivedStateFromError?null:Qa.render();E.flags|=1;null!==v&&cc?(E.child=Di(E,v.child,
null,Db),E.child=Di(E,null,vc,Db)):Cb(v,E,vc,Db);E.memoizedState=Qa.state;hb&&Yb(E,V,!0);return E.child}function Xg(v){var E=v.stateNode;E.pendingContext?ob(v,E.pendingContext,E.pendingContext!==E.context):E.context&&ob(v,E.context,!1);fd(v,E.containerInfo)}function Fh(v,E,V){var Qa=E.pendingProps,hb=Bh.current,Db=!1,cc;(cc=0!==(E.flags&64))||(cc=null!==v&&null===v.memoizedState?!1:0!==(hb&2));cc?(Db=!0,E.flags&=-65):null!==v&&null===v.memoizedState||void 0===Qa.fallback||!0===Qa.unstable_avoidThisFallback||
(hb|=1);Pd(Bh,hb&1);if(null===v){void 0!==Qa.fallback&&vd(E);v=Qa.children;hb=Qa.fallback;if(Db)return v=ph(E,v,hb,V),E.child.memoizedState={baseLanes:V},E.memoizedState=Xh,v;if("number"===typeof Qa.unstable_expectedLoadTime)return v=ph(E,v,hb,V),E.child.memoizedState={baseLanes:V},E.memoizedState=Xh,E.lanes=33554432,v;V=pb({mode:"visible",children:v},E.mode,V,null);V.return=E;return E.child=V}if(null!==v.memoizedState){if(Db)return Qa=Ug(v,E,Qa.children,Qa.fallback,V),Db=E.child,hb=v.child.memoizedState,
Db.memoizedState=null===hb?{baseLanes:V}:{baseLanes:hb.baseLanes|V},Db.childLanes=v.childLanes&~V,E.memoizedState=Xh,Qa;V=vg(v,E,Qa.children,V);E.memoizedState=null;return V}if(Db)return Qa=Ug(v,E,Qa.children,Qa.fallback,V),Db=E.child,hb=v.child.memoizedState,Db.memoizedState=null===hb?{baseLanes:V}:{baseLanes:hb.baseLanes|V},Db.childLanes=v.childLanes&~V,E.memoizedState=Xh,Qa;V=vg(v,E,Qa.children,V);E.memoizedState=null;return V}function ph(v,E,V,Qa){var hb=v.mode,Db=v.child;E={mode:"hidden",children:E};
0===(hb&2)&&null!==Db?(Db.childLanes=0,Db.pendingProps=E):Db=pb(E,hb,0,null);V=mb(V,hb,Qa,null);Db.return=v;V.return=v;Db.sibling=V;v.child=Db;return V}function vg(v,E,V,Qa){var hb=v.child;v=hb.sibling;V=pa(hb,{mode:"visible",children:V});0===(E.mode&2)&&(V.lanes=Qa);V.return=E;V.sibling=null;null!==v&&(v.nextEffect=null,v.flags=8,E.firstEffect=E.lastEffect=v);return E.child=V}function Ug(v,E,V,Qa,hb){var Db=E.mode,cc=v.child;v=cc.sibling;var vc={mode:"hidden",children:V};0===(Db&2)&&E.child!==cc?
(V=E.child,V.childLanes=0,V.pendingProps=vc,cc=V.lastEffect,null!==cc?(E.firstEffect=V.firstEffect,E.lastEffect=cc,cc.nextEffect=null):E.firstEffect=E.lastEffect=null):V=pa(cc,vc);null!==v?Qa=pa(v,Qa):(Qa=mb(Qa,Db,hb,null),Qa.flags|=2);Qa.return=E;V.return=E;V.sibling=Qa;E.child=V;return Qa}function nh(v,E){v.lanes|=E;var V=v.alternate;null!==V&&(V.lanes|=E);ed(v.return,E)}function qh(v,E,V,Qa,hb,Db){var cc=v.memoizedState;null===cc?v.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,
last:Qa,tail:V,tailMode:hb,lastEffect:Db}:(cc.isBackwards=E,cc.rendering=null,cc.renderingStartTime=0,cc.last=Qa,cc.tail=V,cc.tailMode=hb,cc.lastEffect=Db)}function Lh(v,E,V){var Qa=E.pendingProps,hb=Qa.revealOrder,Db=Qa.tail;Cb(v,E,Qa.children,V);Qa=Bh.current;if(0!==(Qa&2))Qa=Qa&1|2,E.flags|=64;else{if(null!==v&&0!==(v.flags&64))a:for(v=E.child;null!==v;){if(13===v.tag)null!==v.memoizedState&&nh(v,V);else if(19===v.tag)nh(v,V);else if(null!==v.child){v.child.return=v;v=v.child;continue}if(v===E)break a;
for(;null===v.sibling;){if(null===v.return||v.return===E)break a;v=v.return}v.sibling.return=v.return;v=v.sibling}Qa&=1}Pd(Bh,Qa);if(0===(E.mode&2))E.memoizedState=null;else switch(hb){case "forwards":V=E.child;for(hb=null;null!==V;)v=V.alternate,null!==v&&null===fe(v)&&(hb=V),V=V.sibling;V=hb;null===V?(hb=E.child,E.child=null):(hb=V.sibling,V.sibling=null);qh(E,!1,hb,V,Db,E.lastEffect);break;case "backwards":V=null;hb=E.child;for(E.child=null;null!==hb;){v=hb.alternate;if(null!==v&&null===fe(v)){E.child=
hb;break}v=hb.sibling;hb.sibling=V;V=hb;hb=v}qh(E,!0,V,null,Db,E.lastEffect);break;case "together":qh(E,!1,null,null,void 0,E.lastEffect);break;default:E.memoizedState=null}return E.child}function uh(v,E,V){null!==v&&(E.dependencies=v.dependencies);tj|=E.lanes;if(0!==(V&E.childLanes)){if(null!==v&&E.child!==v.child)throw Error(w(153));if(null!==E.child){v=E.child;V=pa(v,v.pendingProps);E.child=V;for(V.return=E;null!==v.sibling;)v=v.sibling,V=V.sibling=pa(v,v.pendingProps),V.return=E;V.sibling=null}return E.child}return null}
function Eh(v,E){if(!Bi)switch(v.tailMode){case "hidden":E=v.tail;for(var V=null;null!==E;)null!==E.alternate&&(V=E),E=E.sibling;null===V?v.tail=null:V.sibling=null;break;case "collapsed":V=v.tail;for(var Qa=null;null!==V;)null!==V.alternate&&(Qa=V),V=V.sibling;null===Qa?E||null===v.tail?v.tail=null:v.tail.sibling=null:Qa.sibling=null}}function Jg(v,E,V){var Qa=E.pendingProps;switch(E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Se(E.type)&&
ha(),null;case 3:Ec();Gd(pi);Gd(Qh);we();Qa=E.stateNode;Qa.pendingContext&&(Qa.context=Qa.pendingContext,Qa.pendingContext=null);if(null===v||null===v.child)ee(E)?E.flags|=4:Qa.hydrate||(E.flags|=256);Uk(E);return null;case 5:Be(E);var hb=yc(Uj.current);V=E.type;if(null!==v&&null!=E.stateNode)Vk(v,E,V,Qa,hb),v.ref!==E.ref&&(E.flags|=128);else{if(!Qa){if(null===E.stateNode)throw Error(w(166));return null}v=yc(Sh.current);if(ee(E)){Qa=E.stateNode;V=E.type;var Db=E.memoizedProps;Qa[oj]=E;Qa[Qj]=Db;switch(V){case "dialog":re("cancel",
Qa);re("close",Qa);break;case "iframe":case "object":case "embed":re("load",Qa);break;case "video":case "audio":for(v=0;v<pg.length;v++)re(pg[v],Qa);break;case "source":re("error",Qa);break;case "img":case "image":case "link":re("error",Qa);re("load",Qa);break;case "details":re("toggle",Qa);break;case "input":G(Qa,Db);re("invalid",Qa);break;case "select":Qa._wrapperState={wasMultiple:!!Db.multiple};re("invalid",Qa);break;case "textarea":aa(Qa,Db),re("invalid",Qa)}Ia(V,Db);v=null;for(var cc in Db)Db.hasOwnProperty(cc)&&
(hb=Db[cc],"children"===cc?"string"===typeof hb?Qa.textContent!==hb&&(v=["children",hb]):"number"===typeof hb&&Qa.textContent!==""+hb&&(v=["children",""+hb]):Rg.hasOwnProperty(cc)&&null!=hb&&"onScroll"===cc&&re("scroll",Qa));switch(V){case "input":J(Qa);ca(Qa,Db,!0);break;case "textarea":J(Qa);B(Qa);break;case "select":case "option":break;default:"function"===typeof Db.onClick&&(Qa.onclick=xa)}Qa=v;E.updateQueue=Qa;null!==Qa&&(E.flags|=4)}else{cc=9===hb.nodeType?hb:hb.ownerDocument;v===Sa.html&&(v=
N(V));v===Sa.html?"script"===V?(v=cc.createElement("div"),v.innerHTML="\x3cscript\x3e\x3c/script\x3e",v=v.removeChild(v.firstChild)):"string"===typeof Qa.is?v=cc.createElement(V,{is:Qa.is}):(v=cc.createElement(V),"select"===V&&(cc=v,Qa.multiple?cc.multiple=!0:Qa.size&&(cc.size=Qa.size))):v=cc.createElementNS(v,V);v[oj]=E;v[Qj]=Qa;Wk(v,E,!1,!1);E.stateNode=v;cc=bb(V,Qa);switch(V){case "dialog":re("cancel",v);re("close",v);hb=Qa;break;case "iframe":case "object":case "embed":re("load",v);hb=Qa;break;
case "video":case "audio":for(hb=0;hb<pg.length;hb++)re(pg[hb],v);hb=Qa;break;case "source":re("error",v);hb=Qa;break;case "img":case "image":case "link":re("error",v);re("load",v);hb=Qa;break;case "details":re("toggle",v);hb=Qa;break;case "input":G(v,Qa);hb=z(v,Qa);re("invalid",v);break;case "option":hb=W(v,Qa);break;case "select":v._wrapperState={wasMultiple:!!Qa.multiple};hb=Hf({},Qa,{value:void 0});re("invalid",v);break;case "textarea":aa(v,Qa);hb=La(v,Qa);re("invalid",v);break;default:hb=Qa}Ia(V,
hb);var vc=hb;for(Db in vc)if(vc.hasOwnProperty(Db)){var cd=vc[Db];"style"===Db?la(v,cd):"dangerouslySetInnerHTML"===Db?(cd=cd?cd.__html:void 0,null!=cd&&Zb(v,cd)):"children"===Db?"string"===typeof cd?("textarea"!==V||""!==cd)&&Aa(v,cd):"number"===typeof cd&&Aa(v,""+cd):"suppressContentEditableWarning"!==Db&&"suppressHydrationWarning"!==Db&&"autoFocus"!==Db&&(Rg.hasOwnProperty(Db)?null!=cd&&"onScroll"===Db&&re("scroll",v):null!=cd&&c(v,Db,cd,cc))}switch(V){case "input":J(v);ca(v,Qa,!1);break;case "textarea":J(v);
B(v);break;case "option":null!=Qa.value&&v.setAttribute("value",""+O(Qa.value));break;case "select":v.multiple=!!Qa.multiple;Db=Qa.value;null!=Db?ea(v,!!Qa.multiple,Db,!1):null!=Qa.defaultValue&&ea(v,!!Qa.multiple,Qa.defaultValue,!0);break;default:"function"===typeof hb.onClick&&(v.onclick=xa)}Xa(V,Qa)&&(E.flags|=4)}null!==E.ref&&(E.flags|=128)}return null;case 6:if(v&&null!=E.stateNode)Ei(v,E,v.memoizedProps,Qa);else{if("string"!==typeof Qa&&null===E.stateNode)throw Error(w(166));V=yc(Uj.current);
yc(Sh.current);ee(E)?(Qa=E.stateNode,V=E.memoizedProps,Qa[oj]=E,Qa.nodeValue!==V&&(E.flags|=4)):(Qa=(9===V.nodeType?V:V.ownerDocument).createTextNode(Qa),Qa[oj]=E,E.stateNode=Qa)}return null;case 13:Gd(Bh);Qa=E.memoizedState;if(0!==(E.flags&64))return E.lanes=V,E;Qa=null!==Qa;V=!1;null===v?void 0!==E.memoizedProps.fallback&&ee(E):V=null!==v.memoizedState;if(Qa&&!V&&0!==(E.mode&2))if(null===v&&!0!==E.memoizedProps.unstable_avoidThisFallback||0!==(Bh.current&1))0===Gh&&(Gh=3);else{if(0===Gh||3===Gh)Gh=
4;null===ah||0===(tj&134217727)&&0===(Aj&134217727)||Og(ah,Mh)}if(Qa||V)E.flags|=4;return null;case 4:return Ec(),Uk(E),null===v&&vf(E.stateNode.containerInfo),null;case 10:return Jd(E),null;case 17:return Se(E.type)&&ha(),null;case 19:Gd(Bh);Qa=E.memoizedState;if(null===Qa)return null;Db=0!==(E.flags&64);cc=Qa.rendering;if(null===cc)if(Db)Eh(Qa,!1);else{if(0!==Gh||null!==v&&0!==(v.flags&64))for(v=E.child;null!==v;){cc=fe(v);if(null!==cc){E.flags|=64;Eh(Qa,!1);Db=cc.updateQueue;null!==Db&&(E.updateQueue=
Db,E.flags|=4);null===Qa.lastEffect&&(E.firstEffect=null);E.lastEffect=Qa.lastEffect;Qa=V;for(V=E.child;null!==V;)Db=V,v=Qa,Db.flags&=2,Db.nextEffect=null,Db.firstEffect=null,Db.lastEffect=null,cc=Db.alternate,null===cc?(Db.childLanes=0,Db.lanes=v,Db.child=null,Db.memoizedProps=null,Db.memoizedState=null,Db.updateQueue=null,Db.dependencies=null,Db.stateNode=null):(Db.childLanes=cc.childLanes,Db.lanes=cc.lanes,Db.child=cc.child,Db.memoizedProps=cc.memoizedProps,Db.memoizedState=cc.memoizedState,Db.updateQueue=
cc.updateQueue,Db.type=cc.type,v=cc.dependencies,Db.dependencies=null===v?null:{lanes:v.lanes,firstContext:v.firstContext}),V=V.sibling;Pd(Bh,Bh.current&1|2);return E.child}v=v.sibling}null!==Qa.tail&&fi()>lk&&(E.flags|=64,Db=!0,Eh(Qa,!1),E.lanes=33554432)}else{if(!Db)if(v=fe(cc),null!==v){if(E.flags|=64,Db=!0,V=v.updateQueue,null!==V&&(E.updateQueue=V,E.flags|=4),Eh(Qa,!0),null===Qa.tail&&"hidden"===Qa.tailMode&&!cc.alternate&&!Bi)return E=E.lastEffect=Qa.lastEffect,null!==E&&(E.nextEffect=null),
null}else 2*fi()-Qa.renderingStartTime>lk&&1073741824!==V&&(E.flags|=64,Db=!0,Eh(Qa,!1),E.lanes=33554432);Qa.isBackwards?(cc.sibling=E.child,E.child=cc):(V=Qa.last,null!==V?V.sibling=cc:E.child=cc,Qa.last=cc)}return null!==Qa.tail?(V=Qa.tail,Qa.rendering=V,Qa.tail=V.sibling,Qa.lastEffect=E.lastEffect,Qa.renderingStartTime=fi(),V.sibling=null,E=Bh.current,Pd(Bh,Db?E&1|2:E&1),V):null;case 23:case 24:return Ch(),null!==v&&null!==v.memoizedState!==(null!==E.memoizedState)&&"unstable-defer-without-hiding"!==
Qa.mode&&(E.flags|=4),null}throw Error(w(156,E.tag));}function K(v){switch(v.tag){case 1:Se(v.type)&&ha();var E=v.flags;return E&4096?(v.flags=E&-4097|64,v):null;case 3:Ec();Gd(pi);Gd(Qh);we();E=v.flags;if(0!==(E&64))throw Error(w(285));v.flags=E&-4097|64;return v;case 5:return Be(v),null;case 13:return Gd(Bh),E=v.flags,E&4096?(v.flags=E&-4097|64,v):null;case 19:return Gd(Bh),null;case 4:return Ec(),null;case 10:return Jd(v),null;case 23:case 24:return Ch(),null;default:return null}}function da(v,
E){try{var V="",Qa=E;do V+=h(Qa),Qa=Qa.return;while(Qa)}catch(hb){V="\nError generating stack: "+hb.message+"\n"+hb.stack}return{value:v,source:E,stack:V}}function Ma(v,E){try{console.error(E.value)}catch(V){setTimeout(function(){throw V;})}}function fb(v,E,V){V=ud(-1,V);V.tag=3;V.payload={element:null};var Qa=E.value;V.callback=function(){Ek||(Ek=!0,Xk=Qa);Ma(v,E)};return V}function Eb(v,E,V){V=ud(-1,V);V.tag=3;var Qa=v.type.getDerivedStateFromError;if("function"===typeof Qa){var hb=E.value;V.payload=
function(){Ma(v,E);return Qa(hb)}}var Db=v.stateNode;null!==Db&&"function"===typeof Db.componentDidCatch&&(V.callback=function(){"function"!==typeof Qa&&(null===Ki?Ki=new Set([this]):Ki.add(this),Ma(v,E));var cc=E.stack;this.componentDidCatch(E.value,{componentStack:null!==cc?cc:""})});return V}function Sb(v){var E=v.ref;if(null!==E)if("function"===typeof E)try{E(null)}catch(V){Da(v,V)}else E.current=null}function Cc(v,E){switch(E.tag){case 0:case 11:case 15:case 22:return;case 1:if(E.flags&256&&
null!==v){var V=v.memoizedProps,Qa=v.memoizedState;v=E.stateNode;E=v.getSnapshotBeforeUpdate(E.elementType===E.type?V:Od(E.type,V),Qa);v.__reactInternalSnapshotBeforeUpdate=E}return;case 3:E.flags&256&&Xb(E.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(w(163));}function Zc(v,E,V){switch(V.tag){case 0:case 11:case 15:case 22:E=V.updateQueue;E=null!==E?E.lastEffect:null;if(null!==E){v=E=E.next;do{if(3===(v.tag&3)){var Qa=v.create;v.destroy=Qa()}v=v.next}while(v!==E)}E=
V.updateQueue;E=null!==E?E.lastEffect:null;if(null!==E){v=E=E.next;do{var hb=v;Qa=hb.next;hb=hb.tag;0!==(hb&4)&&0!==(hb&1)&&(eg(V,v),Pe(V,v));v=Qa}while(v!==E)}return;case 1:v=V.stateNode;V.flags&4&&(null===E?v.componentDidMount():(Qa=V.elementType===V.type?E.memoizedProps:Od(V.type,E.memoizedProps),v.componentDidUpdate(Qa,E.memoizedState,v.__reactInternalSnapshotBeforeUpdate)));E=V.updateQueue;null!==E&&bc(V,E,v);return;case 3:E=V.updateQueue;if(null!==E){v=null;if(null!==V.child)switch(V.child.tag){case 5:v=
V.child.stateNode;break;case 1:v=V.child.stateNode}bc(V,E,v)}return;case 5:v=V.stateNode;null===E&&V.flags&4&&Xa(V.type,V.memoizedProps)&&v.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===V.memoizedState&&(V=V.alternate,null!==V&&(V=V.memoizedState,null!==V&&(V=V.dehydrated,null!==V&&Hb(V))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(w(163));}function $c(v,E){for(var V=v;;){if(5===V.tag){var Qa=V.stateNode;if(E)Qa=Qa.style,"function"===typeof Qa.setProperty?
Qa.setProperty("display","none","important"):Qa.display="none";else{Qa=V.stateNode;var hb=V.memoizedProps.style;hb=void 0!==hb&&null!==hb&&hb.hasOwnProperty("display")?hb.display:null;Qa.style.display=sa("display",hb)}}else if(6===V.tag)V.stateNode.nodeValue=E?"":V.memoizedProps;else if((23!==V.tag&&24!==V.tag||null===V.memoizedState||V===v)&&null!==V.child){V.child.return=V;V=V.child;continue}if(V===v)break;for(;null===V.sibling;){if(null===V.return||V.return===v)return;V=V.return}V.sibling.return=
V.return;V=V.sibling}}function rd(v,E){if(gi&&"function"===typeof gi.onCommitFiberUnmount)try{gi.onCommitFiberUnmount(mk,E)}catch(Db){}switch(E.tag){case 0:case 11:case 14:case 15:case 22:v=E.updateQueue;if(null!==v&&(v=v.lastEffect,null!==v)){var V=v=v.next;do{var Qa=V,hb=Qa.destroy;Qa=Qa.tag;if(void 0!==hb)if(0!==(Qa&4))eg(E,V);else{Qa=E;try{hb()}catch(Db){Da(Qa,Db)}}V=V.next}while(V!==v)}break;case 1:Sb(E);v=E.stateNode;if("function"===typeof v.componentWillUnmount)try{v.props=E.memoizedProps,
v.state=E.memoizedState,v.componentWillUnmount()}catch(Db){Da(E,Db)}break;case 5:Sb(E);break;case 4:Ke(v,E)}}function ce(v){v.alternate=null;v.child=null;v.dependencies=null;v.firstEffect=null;v.lastEffect=null;v.memoizedProps=null;v.memoizedState=null;v.pendingProps=null;v.return=null;v.updateQueue=null}function ze(v){return 5===v.tag||3===v.tag||4===v.tag}function ef(v){a:{for(var E=v.return;null!==E;){if(ze(E))break a;E=E.return}throw Error(w(160));}var V=E;E=V.stateNode;switch(V.tag){case 5:var Qa=
!1;break;case 3:E=E.containerInfo;Qa=!0;break;case 4:E=E.containerInfo;Qa=!0;break;default:throw Error(w(161));}V.flags&16&&(Aa(E,""),V.flags&=-17);V=v;a:b:for(;;){for(;null===V.sibling;){if(null===V.return||ze(V.return)){V=null;break a}V=V.return}V.sibling.return=V.return;for(V=V.sibling;5!==V.tag&&6!==V.tag&&18!==V.tag;){if(V.flags&2)continue b;if(null===V.child||4===V.tag)continue b;else V.child.return=V,V=V.child}if(!(V.flags&2)){V=V.stateNode;break a}}Qa?Cf(v,V,E):Mf(v,V,E)}function Cf(v,E,V){var Qa=
v.tag,hb=5===Qa||6===Qa;if(hb)v=hb?v.stateNode:v.stateNode.instance,E?8===V.nodeType?V.parentNode.insertBefore(v,E):V.insertBefore(v,E):(8===V.nodeType?(E=V.parentNode,E.insertBefore(v,V)):(E=V,E.appendChild(v)),V=V._reactRootContainer,null!==V&&void 0!==V||null!==E.onclick||(E.onclick=xa));else if(4!==Qa&&(v=v.child,null!==v))for(Cf(v,E,V),v=v.sibling;null!==v;)Cf(v,E,V),v=v.sibling}function Mf(v,E,V){var Qa=v.tag,hb=5===Qa||6===Qa;if(hb)v=hb?v.stateNode:v.stateNode.instance,E?V.insertBefore(v,E):
V.appendChild(v);else if(4!==Qa&&(v=v.child,null!==v))for(Mf(v,E,V),v=v.sibling;null!==v;)Mf(v,E,V),v=v.sibling}function Ke(v,E){for(var V=E,Qa=!1,hb,Db;;){if(!Qa){Qa=V.return;a:for(;;){if(null===Qa)throw Error(w(160));hb=Qa.stateNode;switch(Qa.tag){case 5:Db=!1;break a;case 3:hb=hb.containerInfo;Db=!0;break a;case 4:hb=hb.containerInfo;Db=!0;break a}Qa=Qa.return}Qa=!0}if(5===V.tag||6===V.tag){var cc=v,vc=V,cd=vc;a:for(;;)if(rd(cc,cd),null!==cd.child&&4!==cd.tag)cd.child.return=cd,cd=cd.child;else{if(cd===
vc)break a;for(;null===cd.sibling;){if(null===cd.return||cd.return===vc)break a;cd=cd.return}cd.sibling.return=cd.return;cd=cd.sibling}Db?(cc=hb,vc=V.stateNode,8===cc.nodeType?cc.parentNode.removeChild(vc):cc.removeChild(vc)):hb.removeChild(V.stateNode)}else if(4===V.tag){if(null!==V.child){hb=V.stateNode.containerInfo;Db=!0;V.child.return=V;V=V.child;continue}}else if(rd(v,V),null!==V.child){V.child.return=V;V=V.child;continue}if(V===E)break;for(;null===V.sibling;){if(null===V.return||V.return===
E)return;V=V.return;4===V.tag&&(Qa=!1)}V.sibling.return=V.return;V=V.sibling}}function ag(v,E){switch(E.tag){case 0:case 11:case 14:case 15:case 22:var V=E.updateQueue;V=null!==V?V.lastEffect:null;if(null!==V){var Qa=V=V.next;do 3===(Qa.tag&3)&&(v=Qa.destroy,Qa.destroy=void 0,void 0!==v&&v()),Qa=Qa.next;while(Qa!==V)}return;case 1:return;case 5:V=E.stateNode;if(null!=V){Qa=E.memoizedProps;var hb=null!==v?v.memoizedProps:Qa;v=E.type;var Db=E.updateQueue;E.updateQueue=null;if(null!==Db){V[Qj]=Qa;"input"===
v&&"radio"===Qa.type&&null!=Qa.name&&T(V,Qa);bb(v,hb);E=bb(v,Qa);for(hb=0;hb<Db.length;hb+=2){var cc=Db[hb],vc=Db[hb+1];"style"===cc?la(V,vc):"dangerouslySetInnerHTML"===cc?Zb(V,vc):"children"===cc?Aa(V,vc):c(V,cc,vc,E)}switch(v){case "input":R(V,Qa);break;case "textarea":C(V,Qa);break;case "select":v=V._wrapperState.wasMultiple,V._wrapperState.wasMultiple=!!Qa.multiple,Db=Qa.value,null!=Db?ea(V,!!Qa.multiple,Db,!1):v!==!!Qa.multiple&&(null!=Qa.defaultValue?ea(V,!!Qa.multiple,Qa.defaultValue,!0):
ea(V,!!Qa.multiple,Qa.multiple?[]:"",!1))}}}return;case 6:if(null===E.stateNode)throw Error(w(162));E.stateNode.nodeValue=E.memoizedProps;return;case 3:V=E.stateNode;V.hydrate&&(V.hydrate=!1,Hb(V.containerInfo));return;case 12:return;case 13:null!==E.memoizedState&&(nk=fi(),$c(E.child,!0));wg(E);return;case 19:wg(E);return;case 17:return;case 23:case 24:$c(E,null!==E.memoizedState);return}throw Error(w(163));}function wg(v){var E=v.updateQueue;if(null!==E){v.updateQueue=null;var V=v.stateNode;null===
V&&(V=v.stateNode=new Bl);E.forEach(function(Qa){var hb=xb.bind(null,v,Qa);V.has(Qa)||(V.add(Qa),Qa.then(hb,hb))})}}function vh(v,E){return null!==v&&(v=v.memoizedState,null===v||null!==v.dehydrated)?(E=E.memoizedState,null!==E&&null===E.dehydrated):!1}function ch(){lk=fi()+500}function dg(){return 0!==(Nf&48)?fi():-1!==Fk?Fk:Fk=fi()}function Af(v){v=v.mode;if(0===(v&2))return 1;if(0===(v&4))return 99===kc()?1:2;0===Ui&&(Ui=Xj);if(0!==Cl.transition){0!==ok&&(ok=null!==Yk?Yk.pendingLanes:0);v=Ui;var E=
4186112&~ok;E&=-E;0===E&&(v=4186112&~v,E=v&-v,0===E&&(E=8192));return E}v=kc();0!==(Nf&4)&&98===v?v=$d(12,Ui):(v=Kc(v),v=$d(v,Ui));return v}function jg(v,E,V){if(50<Yj)throw Yj=0,Gk=null,Error(w(185));v=bg(v,E);if(null===v)return null;Ca(v,E,V);v===ah&&(Aj|=E,4===Gh&&Og(v,Mh));var Qa=kc();1===E?0!==(Nf&8)&&0===(Nf&48)?zh(v):(qg(v,V),0===Nf&&(ch(),qd())):(0===(Nf&4)||98!==Qa&&99!==Qa||(null===qi?qi=new Set([v]):qi.add(v)),qg(v,V));Yk=v}function bg(v,E){v.lanes|=E;var V=v.alternate;null!==V&&(V.lanes|=
E);V=v;for(v=v.return;null!==v;)v.childLanes|=E,V=v.alternate,null!==V&&(V.childLanes|=E),V=v,v=v.return;return 3===V.tag?V.stateNode:null}function qg(v,E){for(var V=v.callbackNode,Qa=v.suspendedLanes,hb=v.pingedLanes,Db=v.expirationTimes,cc=v.pendingLanes;0<cc;){var vc=31-Gi(cc),cd=1<<vc,Qd=Db[vc];if(-1===Qd){if(0===(cd&Qa)||0!==(cd&hb)){Qd=E;mc(cd);var Xe=Fg;Db[vc]=10<=Xe?Qd+250:6<=Xe?Qd+5E3:-1}}else Qd<=E&&(v.expiredLanes|=cd);cc&=~cd}Qa=Sc(v,v===ah?Mh:0);E=Fg;if(0===Qa)null!==V&&(V!==Zj&&se(V),
v.callbackNode=null,v.callbackPriority=0);else{if(null!==V){if(v.callbackPriority===E)return;V!==Zj&&se(V)}15===E?(V=zh.bind(null,v),null===Ai?(Ai=[V],Ak=hh(Sj,Yd)):Ai.push(V),V=Zj):14===E?V=pd(99,zh.bind(null,v)):(V=Fc(E),V=pd(V,wh.bind(null,v)));v.callbackPriority=E;v.callbackNode=V}}function wh(v){Fk=-1;ok=Ui=0;if(0!==(Nf&48))throw Error(w(327));var E=v.callbackNode;if(Df()&&v.callbackNode!==E)return null;var V=Sc(v,v===ah?Mh:0);if(0===V)return null;var Qa=V,hb=Nf;Nf|=16;var Db=Pg();if(ah!==v||
Mh!==Qa)ch(),hf(v,Qa);do try{for(;null!==Hh&&!hi();)Yh(Hh);break}catch(vc){jf(v,vc)}while(1);rj=sj=qj=null;Vi.current=Db;Nf=hb;null!==Hh?Qa=0:(ah=null,Mh=0,Qa=Gh);if(0!==(Xj&Aj))hf(v,0);else if(0!==Qa){2===Qa&&(Nf|=64,v.hydrate&&(v.hydrate=!1,Xb(v.containerInfo)),V=jd(v),0!==V&&(Qa=Nh(v,V)));if(1===Qa)throw E=Bj,hf(v,0),Og(v,V),qg(v,fi()),E;v.finishedWork=v.current.alternate;v.finishedLanes=V;switch(Qa){case 0:case 1:throw Error(w(345));case 2:dh(v);break;case 3:Og(v,V);if((V&62914560)===V&&(Qa=nk+
500-fi(),10<Qa)){if(0!==Sc(v,0))break;hb=v.suspendedLanes;if((hb&V)!==V){dg();v.pingedLanes|=v.suspendedLanes&hb;break}v.timeoutHandle=Wi(dh.bind(null,v),Qa);break}dh(v);break;case 4:Og(v,V);if((V&4186112)===V)break;Qa=v.eventTimes;for(hb=-1;0<V;){var cc=31-Gi(V);Db=1<<cc;cc=Qa[cc];cc>hb&&(hb=cc);V&=~Db}V=hb;V=fi()-V;V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3E3>V?3E3:4320>V?4320:1960*Dl(V/1960))-V;if(10<V){v.timeoutHandle=Wi(dh.bind(null,v),V);break}dh(v);break;case 5:dh(v);break;default:throw Error(w(329));
}}qg(v,fi());return v.callbackNode===E?wh.bind(null,v):null}function Og(v,E){E&=~pk;E&=~Aj;v.suspendedLanes|=E;v.pingedLanes&=~E;for(v=v.expirationTimes;0<E;){var V=31-Gi(E),Qa=1<<V;v[V]=-1;E&=~Qa}}function zh(v){if(0!==(Nf&48))throw Error(w(327));Df();if(v===ah&&0!==(v.expiredLanes&Mh)){var E=Mh,V=Nh(v,E);0!==(Xj&Aj)&&(E=Sc(v,E),V=Nh(v,E))}else E=Sc(v,0),V=Nh(v,E);0!==v.tag&&2===V&&(Nf|=64,v.hydrate&&(v.hydrate=!1,Xb(v.containerInfo)),E=jd(v),0!==E&&(V=Nh(v,E)));if(1===V)throw V=Bj,hf(v,0),Og(v,
E),qg(v,fi()),V;v.finishedWork=v.current.alternate;v.finishedLanes=E;dh(v);qg(v,fi());return null}function ri(){if(null!==qi){var v=qi;qi=null;v.forEach(function(E){E.expiredLanes|=24&E.pendingLanes;qg(E,fi())})}qd()}function Zh(v,E){var V=Nf;Nf|=1;try{return v(E)}finally{Nf=V,0===Nf&&(ch(),qd())}}function $h(v,E){var V=Nf;Nf&=-2;Nf|=8;try{return v(E)}finally{Nf=V,0===Nf&&(ch(),qd())}}function df(v,E){Pd(Zk,Xi);Xi|=E;Xj|=E}function Ch(){Xi=Zk.current;Gd(Zk)}function hf(v,E){v.finishedWork=null;v.finishedLanes=
0;var V=v.timeoutHandle;-1!==V&&(v.timeoutHandle=-1,qk(V));if(null!==Hh)for(V=Hh.return;null!==V;){var Qa=V;switch(Qa.tag){case 1:Qa=Qa.type.childContextTypes;null!==Qa&&void 0!==Qa&&ha();break;case 3:Ec();Gd(pi);Gd(Qh);we();break;case 5:Be(Qa);break;case 4:Ec();break;case 13:Gd(Bh);break;case 19:Gd(Bh);break;case 10:Jd(Qa);break;case 23:case 24:Ch()}V=V.return}ah=v;Hh=pa(v.current,null);Mh=Xi=Xj=E;Gh=0;Bj=null;pk=Aj=tj=0}function jf(v,E){do{var V=Hh;try{rj=sj=qj=null;kk.current=Dk;if(zj){for(var Qa=
th.memoizedState;null!==Qa;){var hb=Qa.queue;null!==hb&&(hb.pending=null);Qa=Qa.next}zj=!1}jk=0;Th=Uh=th=null;Wj=!1;$k.current=null;if(null===V||null===V.return){Gh=1;Bj=E;Hh=null;break}a:{var Db=v,cc=V.return,vc=V,cd=E;E=Mh;vc.flags|=2048;vc.firstEffect=vc.lastEffect=null;if(null!==cd&&"object"===typeof cd&&"function"===typeof cd.then){var Qd=cd;if(0===(vc.mode&2)){var Xe=vc.alternate;Xe?(vc.updateQueue=Xe.updateQueue,vc.memoizedState=Xe.memoizedState,vc.lanes=Xe.lanes):(vc.updateQueue=null,vc.memoizedState=
null)}var If=0!==(Bh.current&1),me=cc;do{var rf;if(rf=13===me.tag){var Kf=me.memoizedState;if(null!==Kf)rf=null!==Kf.dehydrated?!0:!1;else{var Ef=me.memoizedProps;rf=void 0===Ef.fallback?!1:!0!==Ef.unstable_avoidThisFallback?!0:If?!1:!0}}if(rf){var Cd=me.updateQueue;if(null===Cd){var md=new Set;md.add(Qd);me.updateQueue=md}else Cd.add(Qd);if(0===(me.mode&2)){me.flags|=64;vc.flags|=16384;vc.flags&=-2981;if(1===vc.tag)if(null===vc.alternate)vc.tag=17;else{var zd=ud(-1,1);zd.tag=2;kb(vc,zd)}vc.lanes|=
1;break a}cd=void 0;vc=E;var de=Db.pingCache;null===de?(de=Db.pingCache=new Cj,cd=new Set,de.set(Qd,cd)):(cd=de.get(Qd),void 0===cd&&(cd=new Set,de.set(Qd,cd)));if(!cd.has(vc)){cd.add(vc);var ke=ab.bind(null,Db,Qd,vc);Qd.then(ke,ke)}me.flags|=4096;me.lanes=E;break a}me=me.return}while(null!==me);cd=Error((x(vc.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==
Gh&&(Gh=2);cd=da(cd,vc);me=cc;do{switch(me.tag){case 3:Db=cd;me.flags|=4096;E&=-E;me.lanes|=E;var Qf=fb(me,Db,E);Gb(me,Qf);break a;case 1:Db=cd;var kf=me.type,Rf=me.stateNode;if(0===(me.flags&64)&&("function"===typeof kf.getDerivedStateFromError||null!==Rf&&"function"===typeof Rf.componentDidCatch&&(null===Ki||!Ki.has(Rf)))){me.flags|=4096;E&=-E;me.lanes|=E;var Pf=Eb(me,Db,E);Gb(me,Pf);break a}}me=me.return}while(null!==me)}ai(V)}catch($f){E=$f;Hh===V&&null!==V&&(Hh=V.return);continue}break}while(1)}
function Pg(){var v=Vi.current;Vi.current=Dk;return null===v?Dk:v}function Nh(v,E){var V=Nf;Nf|=16;var Qa=Pg();ah===v&&Mh===E||hf(v,E);do try{for(;null!==Hh;)Yh(Hh);break}catch(hb){jf(v,hb)}while(1);rj=sj=qj=null;Nf=V;Vi.current=Qa;if(null!==Hh)throw Error(w(261));ah=null;Mh=0;return Gh}function Yh(v){var E=El(v.alternate,v,Xi);v.memoizedProps=v.pendingProps;null===E?ai(v):Hh=E;$k.current=null}function ai(v){var E=v;do{var V=E.alternate;v=E.return;if(0===(E.flags&2048)){V=Jg(V,E,Xi);if(null!==V){Hh=
V;return}V=E;if(24!==V.tag&&23!==V.tag||null===V.memoizedState||0!==(Xi&1073741824)||0===(V.mode&4)){for(var Qa=0,hb=V.child;null!==hb;)Qa|=hb.lanes|hb.childLanes,hb=hb.sibling;V.childLanes=Qa}null!==v&&0===(v.flags&2048)&&(null===v.firstEffect&&(v.firstEffect=E.firstEffect),null!==E.lastEffect&&(null!==v.lastEffect&&(v.lastEffect.nextEffect=E.firstEffect),v.lastEffect=E.lastEffect),1<E.flags&&(null!==v.lastEffect?v.lastEffect.nextEffect=E:v.firstEffect=E,v.lastEffect=E))}else{V=K(E);if(null!==V){V.flags&=
2047;Hh=V;return}null!==v&&(v.firstEffect=v.lastEffect=null,v.flags|=2048)}E=E.sibling;if(null!==E){Hh=E;return}Hh=E=v}while(null!==E);0===Gh&&(Gh=5)}function dh(v){var E=kc();Jc(99,ue.bind(null,v,E));return null}function ue(v,E){do Df();while(null!==rk);if(0!==(Nf&48))throw Error(w(327));var V=v.finishedWork;if(null===V)return null;v.finishedWork=null;v.finishedLanes=0;if(V===v.current)throw Error(w(177));v.callbackNode=null;var Qa=V.lanes|V.childLanes,hb=Qa,Db=v.pendingLanes&~hb;v.pendingLanes=
hb;v.suspendedLanes=0;v.pingedLanes=0;v.expiredLanes&=hb;v.mutableReadLanes&=hb;v.entangledLanes&=hb;hb=v.entanglements;for(var cc=v.eventTimes,vc=v.expirationTimes;0<Db;){var cd=31-Gi(Db),Qd=1<<cd;hb[cd]=0;cc[cd]=-1;vc[cd]=-1;Db&=~Qd}null!==qi&&0===(Qa&24)&&qi.has(v)&&qi.delete(v);v===ah&&(Hh=ah=null,Mh=0);1<V.flags?null!==V.lastEffect?(V.lastEffect.nextEffect=V,Qa=V.firstEffect):Qa=V:Qa=V.firstEffect;if(null!==Qa){hb=Nf;Nf|=32;$k.current=null;bi=Lj;cc=Hd();if(Vd(cc)){if("selectionStart"in cc)vc=
{start:cc.selectionStart,end:cc.selectionEnd};else a:if(vc=(vc=cc.ownerDocument)&&vc.defaultView||window,(Qd=vc.getSelection&&vc.getSelection())&&0!==Qd.rangeCount){vc=Qd.anchorNode;Db=Qd.anchorOffset;cd=Qd.focusNode;Qd=Qd.focusOffset;try{vc.nodeType,cd.nodeType}catch($f){vc=null;break a}var Xe=0,If=-1,me=-1,rf=0,Kf=0,Ef=cc,Cd=null;b:for(;;){for(var md;;){Ef!==vc||0!==Db&&3!==Ef.nodeType||(If=Xe+Db);Ef!==cd||0!==Qd&&3!==Ef.nodeType||(me=Xe+Qd);3===Ef.nodeType&&(Xe+=Ef.nodeValue.length);if(null===
(md=Ef.firstChild))break;Cd=Ef;Ef=md}for(;;){if(Ef===cc)break b;Cd===vc&&++rf===Db&&(If=Xe);Cd===cd&&++Kf===Qd&&(me=Xe);if(null!==(md=Ef.nextSibling))break;Ef=Cd;Cd=Ef.parentNode}Ef=md}vc=-1===If||-1===me?null:{start:If,end:me}}else vc=null;vc=vc||{start:0,end:0}}else vc=null;Li={focusedElem:cc,selectionRange:vc};Lj=!1;ak=null;Dj=!1;Ye=Qa;do try{Je()}catch($f){if(null===Ye)throw Error(w(330));Da(Ye,$f);Ye=Ye.nextEffect}while(null!==Ye);ak=null;Ye=Qa;do try{for(cc=v;null!==Ye;){var zd=Ye.flags;zd&
16&&Aa(Ye.stateNode,"");if(zd&128){var de=Ye.alternate;if(null!==de){var ke=de.ref;null!==ke&&("function"===typeof ke?ke(null):ke.current=null)}}switch(zd&1038){case 2:ef(Ye);Ye.flags&=-3;break;case 6:ef(Ye);Ye.flags&=-3;ag(Ye.alternate,Ye);break;case 1024:Ye.flags&=-1025;break;case 1028:Ye.flags&=-1025;ag(Ye.alternate,Ye);break;case 4:ag(Ye.alternate,Ye);break;case 8:vc=Ye;Ke(cc,vc);var Qf=vc.alternate;ce(vc);null!==Qf&&ce(Qf)}Ye=Ye.nextEffect}}catch($f){if(null===Ye)throw Error(w(330));Da(Ye,$f);
Ye=Ye.nextEffect}while(null!==Ye);ke=Li;de=Hd();zd=ke.focusedElem;cc=ke.selectionRange;if(de!==zd&&zd&&zd.ownerDocument&&sd(zd.ownerDocument.documentElement,zd)){null!==cc&&Vd(zd)&&(de=cc.start,ke=cc.end,void 0===ke&&(ke=de),"selectionStart"in zd?(zd.selectionStart=de,zd.selectionEnd=Math.min(ke,zd.value.length)):(ke=(de=zd.ownerDocument||document)&&de.defaultView||window,ke.getSelection&&(ke=ke.getSelection(),vc=zd.textContent.length,Qf=Math.min(cc.start,vc),cc=void 0===cc.end?Qf:Math.min(cc.end,
vc),!ke.extend&&Qf>cc&&(vc=cc,cc=Qf,Qf=vc),vc=ld(zd,Qf),Db=ld(zd,cc),vc&&Db&&(1!==ke.rangeCount||ke.anchorNode!==vc.node||ke.anchorOffset!==vc.offset||ke.focusNode!==Db.node||ke.focusOffset!==Db.offset)&&(de=de.createRange(),de.setStart(vc.node,vc.offset),ke.removeAllRanges(),Qf>cc?(ke.addRange(de),ke.extend(Db.node,Db.offset)):(de.setEnd(Db.node,Db.offset),ke.addRange(de))))));de=[];for(ke=zd;ke=ke.parentNode;)1===ke.nodeType&&de.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});"function"===
typeof zd.focus&&zd.focus();for(zd=0;zd<de.length;zd++)ke=de[zd],ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}Lj=!!bi;Li=bi=null;v.current=V;Ye=Qa;do try{for(zd=v;null!==Ye;){var kf=Ye.flags;kf&36&&Zc(zd,Ye.alternate,Ye);if(kf&128){de=void 0;var Rf=Ye.ref;if(null!==Rf){var Pf=Ye.stateNode;switch(Ye.tag){case 5:de=Pf;break;default:de=Pf}"function"===typeof Rf?Rf(de):Rf.current=de}}Ye=Ye.nextEffect}}catch($f){if(null===Ye)throw Error(w(330));Da(Ye,$f);Ye=Ye.nextEffect}while(null!==Ye);
Ye=null;Fl();Nf=hb}else v.current=V;if(ej)ej=!1,rk=v,bk=E;else for(Ye=Qa;null!==Ye;)E=Ye.nextEffect,Ye.nextEffect=null,Ye.flags&8&&(kf=Ye,kf.sibling=null,kf.stateNode=null),Ye=E;Qa=v.pendingLanes;0===Qa&&(Ki=null);1===Qa?v===Gk?Yj++:(Yj=0,Gk=v):Yj=0;V=V.stateNode;if(gi&&"function"===typeof gi.onCommitFiberRoot)try{gi.onCommitFiberRoot(mk,V,void 0,64===(V.current.flags&64))}catch($f){}qg(v,fi());if(Ek)throw Ek=!1,v=Xk,Xk=null,v;if(0!==(Nf&8))return null;qd();return null}function Je(){for(;null!==Ye;){var v=
Ye.alternate;Dj||null===ak||(0!==(Ye.flags&8)?db(Ye,ak)&&(Dj=!0):13===Ye.tag&&vh(v,Ye)&&db(Ye,ak)&&(Dj=!0));var E=Ye.flags;0!==(E&256)&&Cc(v,Ye);0===(E&512)||ej||(ej=!0,pd(97,function(){Df();return null}));Ye=Ye.nextEffect}}function Df(){if(90!==bk){var v=97<bk?97:bk;bk=90;return Jc(v,fg)}return!1}function Pe(v,E){Hk.push(E,v);ej||(ej=!0,pd(97,function(){Df();return null}))}function eg(v,E){Ej.push(E,v);ej||(ej=!0,pd(97,function(){Df();return null}))}function fg(){if(null===rk)return!1;var v=rk;rk=
null;if(0!==(Nf&48))throw Error(w(331));var E=Nf;Nf|=32;var V=Ej;Ej=[];for(var Qa=0;Qa<V.length;Qa+=2){var hb=V[Qa],Db=V[Qa+1],cc=hb.destroy;hb.destroy=void 0;if("function"===typeof cc)try{cc()}catch(cd){if(null===Db)throw Error(w(330));Da(Db,cd)}}V=Hk;Hk=[];for(Qa=0;Qa<V.length;Qa+=2){hb=V[Qa];Db=V[Qa+1];try{var vc=hb.create;hb.destroy=vc()}catch(cd){if(null===Db)throw Error(w(330));Da(Db,cd)}}for(vc=v.current.firstEffect;null!==vc;)v=vc.nextEffect,vc.nextEffect=null,vc.flags&8&&(vc.sibling=null,
vc.stateNode=null),vc=v;Nf=E;qd();return!0}function ff(v,E,V){E=da(V,E);E=fb(v,E,1);kb(v,E);E=dg();v=bg(v,1);null!==v&&(Ca(v,1,E),qg(v,E))}function Da(v,E){if(3===v.tag)ff(v,v,E);else for(var V=v.return;null!==V;){if(3===V.tag){ff(V,v,E);break}else if(1===V.tag){var Qa=V.stateNode;if("function"===typeof V.type.getDerivedStateFromError||"function"===typeof Qa.componentDidCatch&&(null===Ki||!Ki.has(Qa))){v=da(E,v);var hb=Eb(V,v,1);kb(V,hb);hb=dg();V=bg(V,1);if(null!==V)Ca(V,1,hb),qg(V,hb);else if("function"===
typeof Qa.componentDidCatch&&(null===Ki||!Ki.has(Qa)))try{Qa.componentDidCatch(E,v)}catch(Db){}break}}V=V.return}}function ab(v,E,V){var Qa=v.pingCache;null!==Qa&&Qa.delete(E);E=dg();v.pingedLanes|=v.suspendedLanes&V;ah===v&&(Mh&V)===V&&(4===Gh||3===Gh&&(Mh&62914560)===Mh&&500>fi()-nk?hf(v,0):pk|=V);qg(v,E)}function xb(v,E){var V=v.stateNode;null!==V&&V.delete(E);E=0;0===E&&(E=v.mode,0===(E&2)?E=1:0===(E&4)?E=99===kc()?1:2:(0===Ui&&(Ui=Xj),E=Ba(62914560&~Ui),0===E&&(E=4194304)));V=dg();v=bg(v,E);
null!==v&&(Ca(v,E,V),qg(v,V))}function Lb(v,E,V,Qa){this.tag=v;this.key=V;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=E;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Qa;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function pc(v,E,V,Qa){return new Lb(v,E,V,Qa)}function sc(v){v=v.prototype;return!(!v||!v.isReactComponent)}
function Vc(v){if("function"===typeof v)return sc(v)?1:0;if(void 0!==v&&null!==v){v=v.$$typeof;if(v===yg)return 11;if(v===ei)return 14}return 2}function pa(v,E){var V=v.alternate;null===V?(V=pc(v.tag,E,v.key,v.mode),V.elementType=v.elementType,V.type=v.type,V.stateNode=v.stateNode,V.alternate=v,v.alternate=V):(V.pendingProps=E,V.type=v.type,V.flags=0,V.nextEffect=null,V.firstEffect=null,V.lastEffect=null);V.childLanes=v.childLanes;V.lanes=v.lanes;V.child=v.child;V.memoizedProps=v.memoizedProps;V.memoizedState=
v.memoizedState;V.updateQueue=v.updateQueue;E=v.dependencies;V.dependencies=null===E?null:{lanes:E.lanes,firstContext:E.firstContext};V.sibling=v.sibling;V.index=v.index;V.ref=v.ref;return V}function Ra(v,E,V,Qa,hb,Db){var cc=2;Qa=v;if("function"===typeof v)sc(v)&&(cc=1);else if("string"===typeof v)cc=5;else a:switch(v){case xh:return mb(V.children,hb,Db,E);case vj:cc=8;hb|=16;break;case Ih:cc=8;hb|=1;break;case yi:return v=pc(12,V,E,hb|8),v.elementType=yi,v.type=yi,v.lanes=Db,v;case Zg:return v=
pc(13,V,E,hb),v.type=Zg,v.elementType=Zg,v.lanes=Db,v;case Zi:return v=pc(19,V,E,hb),v.elementType=Zi,v.lanes=Db,v;case Yi:return pb(V,hb,Db,E);case ni:return v=pc(24,V,E,hb),v.elementType=ni,v.lanes=Db,v;default:if("object"===typeof v&&null!==v)switch(v.$$typeof){case di:cc=10;break a;case Yf:cc=9;break a;case yg:cc=11;break a;case ei:cc=14;break a;case lj:cc=16;Qa=null;break a;case Oh:cc=22;break a}throw Error(w(130,null==v?v:typeof v,""));}E=pc(cc,V,E,hb);E.elementType=v;E.type=Qa;E.lanes=Db;return E}
function mb(v,E,V,Qa){v=pc(7,v,Qa,E);v.lanes=V;return v}function pb(v,E,V,Qa){v=pc(23,v,Qa,E);v.elementType=Yi;v.lanes=V;return v}function gc(v,E,V){v=pc(6,v,null,E);v.lanes=V;return v}function Qc(v,E,V){E=pc(4,null!==v.children?v.children:[],v.key,E);E.lanes=V;E.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation};return E}function Xc(v,E,V){this.tag=E;this.containerInfo=v;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=
-1;this.pendingContext=this.context=null;this.hydrate=V;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=ua(0);this.expirationTimes=ua(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=ua(0);this.mutableSourceEagerHydrationData=null}function Bd(v,E,V){var Qa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Yg,key:null==Qa?null:""+Qa,children:v,containerInfo:E,
implementation:V}}function Tc(v,E,V,Qa){var hb=E.current,Db=dg(),cc=Af(hb);a:if(V){V=V._reactInternals;b:{if(ja(V)!==V||1!==V.tag)throw Error(w(170));var vc=V;do{switch(vc.tag){case 3:vc=vc.stateNode.context;break b;case 1:if(Se(vc.type)){vc=vc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}vc=vc.return}while(null!==vc);throw Error(w(171));}if(1===V.tag){var cd=V.type;if(Se(cd)){V=Ea(V,cd,vc);break a}}V=vc}else V=Ri;null===E.context?E.context=V:E.pendingContext=V;E=ud(Db,cc);E.payload=
{element:v};Qa=void 0===Qa?null:Qa;null!==Qa&&(E.callback=Qa);kb(hb,E);jg(hb,cc,Db);return cc}function Sd(v){v=v.current;if(!v.child)return null;switch(v.child.tag){case 5:return v.child.stateNode;default:return v.child.stateNode}}function Td(v,E){v=v.memoizedState;if(null!==v&&null!==v.dehydrated){var V=v.retryLane;v.retryLane=0!==V&&V<E?V:E}}function De(v,E){Td(v,E);(v=v.alternate)&&Td(v,E)}function tf(){return null}function Ze(v,E,V){var Qa=null!=V&&null!=V.hydrationOptions&&V.hydrationOptions.mutableSources||
null;V=new Xc(v,E,null!=V&&!0===V.hydrate);E=pc(3,null,null,2===E?7:1===E?3:0);V.current=E;E.stateNode=V;Rc(E);v[Oj]=V.current;vf(8===v.nodeType?v.parentNode:v);if(Qa)for(v=0;v<Qa.length;v++){E=Qa[v];var hb=E._getVersion;hb=hb(E._source);null==V.mutableSourceEagerHydrationData?V.mutableSourceEagerHydrationData=[E,hb]:V.mutableSourceEagerHydrationData.push(E,hb)}this._internalRoot=V}function cf(v){return!(!v||1!==v.nodeType&&9!==v.nodeType&&11!==v.nodeType&&(8!==v.nodeType||" react-mount-point-unstable "!==
v.nodeValue))}function Bg(v,E){E||(E=v?9===v.nodeType?v.documentElement:v.firstChild:null,E=!(!E||1!==E.nodeType||!E.hasAttribute("data-reactroot")));if(!E)for(var V;V=v.lastChild;)v.removeChild(V);return new Ze(v,0,E?{hydrate:!0}:void 0)}function gg(v,E,V,Qa,hb){var Db=V._reactRootContainer;if(Db){var cc=Db._internalRoot;if("function"===typeof hb){var vc=hb;hb=function(){var Qd=Sd(cc);vc.call(Qd)}}Tc(E,cc,v,hb)}else{Db=V._reactRootContainer=Bg(V,Qa);cc=Db._internalRoot;if("function"===typeof hb){var cd=
hb;hb=function(){var Qd=Sd(cc);cd.call(Qd)}}$h(function(){Tc(E,cc,v,hb)})}return Sd(cc)}function He(v,E){var V=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!cf(E))throw Error(w(200));return Bd(v,E,null,V)}var pf=L(3),Hf=L(0),mg=L(6);if(!pf)throw Error(w(227));var ci=new Set,Rg={},Cg=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),li=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
xg=Object.prototype.hasOwnProperty,Ah={},Kg={},eh={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(v){eh[v]=new f(v,0,!1,v,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(v){var E=v[0];eh[E]=new f(E,1,!1,v[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(v){eh[v]=
new f(v,2,!1,v.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(v){eh[v]=new f(v,2,!1,v,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(v){eh[v]=new f(v,3,!1,v.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(v){eh[v]=new f(v,3,!0,v,null,!1,!1)});["capture","download"].forEach(function(v){eh[v]=new f(v,4,!1,v,null,!1,!1)});["cols","rows","size","span"].forEach(function(v){eh[v]=new f(v,6,!1,v,null,!1,!1)});["rowSpan","start"].forEach(function(v){eh[v]=new f(v,5,!1,v.toLowerCase(),null,!1,!1)});var ii=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(v){var E=
v.replace(ii,b);eh[E]=new f(E,1,!1,v,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(v){var E=v.replace(ii,b);eh[E]=new f(E,1,!1,v,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(v){var E=v.replace(ii,b);eh[E]=new f(E,1,!1,v,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(v){eh[v]=new f(v,1,!1,v.toLowerCase(),null,!1,!1)});eh.xlinkHref=new f("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(v){eh[v]=new f(v,1,!1,v.toLowerCase(),null,!0,!0)});var ji=pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lf=60103,Yg=60106,xh=60107,Ih=60108,yi=60114,di=60109,Yf=60110,yg=60112,Zg=60113,Zi=60120,ei=60115,lj=60116,Oh=60121,ti=60128,vj=60129,Yi=60130,ni=60131;if("function"===typeof Symbol&&Symbol.for){var rh=Symbol.for;Lf=rh("react.element");Yg=rh("react.portal");xh=rh("react.fragment");
Ih=rh("react.strict_mode");yi=rh("react.profiler");di=rh("react.provider");Yf=rh("react.context");yg=rh("react.forward_ref");Zg=rh("react.suspense");Zi=rh("react.suspense_list");ei=rh("react.memo");lj=rh("react.lazy");Oh=rh("react.block");rh("react.scope");ti=rh("react.opaque.id");vj=rh("react.debug_trace_mode");Yi=rh("react.offscreen");ni=rh("react.legacy_hidden")}var Oi="function"===typeof Symbol&&Symbol.iterator,ia,Na=!1,Sa={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},ub,Zb=function(v){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(E,V,Qa,hb){MSApp.execUnsafeLocalFunction(function(){return v(E,V,Qa,hb)})}:v}(function(v,E){if(v.namespaceURI!==Sa.svg||"innerHTML"in v)v.innerHTML=E;else{ub=ub||document.createElement("div");ub.innerHTML="\x3csvg\x3e"+E.valueOf().toString()+"\x3c/svg\x3e";for(E=ub.firstChild;v.firstChild;)v.removeChild(v.firstChild);for(;E.firstChild;)v.appendChild(E.firstChild)}}),ac={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jc=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(v){jc.forEach(function(E){E=E+v.charAt(0).toUpperCase()+v.substring(1);ac[E]=ac[v]})});var Ac=Hf({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),hd=null,Ld=null,ae=null,kd=Pa,oe=!1,Qe=!1,xf=!1;if(Cg)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){xf=
!0}});window.addEventListener("test",Ne,Ne);window.removeEventListener("test",Ne,Ne)}catch(v){xf=!1}var Zf=!1,Dg=null,fh=!1,lh=null,$e={onError:function(v){Zf=!0;Dg=v}},gh=!1,nf=[],rg=null,Jh=null,Oe=null,ve=new Map,Ve=new Map,xe=[],lg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),Eg=
{animationend:Ab("Animation","AnimationEnd"),animationiteration:Ab("Animation","AnimationIteration"),animationstart:Ab("Animation","AnimationStart"),transitionend:Ab("Transition","TransitionEnd")},yf={},mh={};Cg&&(mh=document.createElement("div").style,"AnimationEvent"in window||(delete Eg.animationend.animation,delete Eg.animationiteration.animation,delete Eg.animationstart.animation),"TransitionEvent"in window||delete Eg.transitionend.transition);var yh=dc("animationend"),oi=dc("animationiteration"),
Nj=dc("animationstart"),zi=dc("transitionend"),$i=new Map,Kj=new Map,sk=["abort","abort",yh,"animationEnd",oi,"animationIteration",Nj,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",zi,"transitionEnd","waiting","waiting"],fj=mg.unstable_now;fj();var Fg=8,Gi=Math.clz32?Math.clz32:$a,aj=Math.log,bj=Math.LN2,cj=mg.unstable_UserBlockingPriority,xk=mg.unstable_runWithPriority,Lj=!0,si=null,Pi=null,mi=null,Dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(v){return v.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=nd(Dh),Fi=Hf({},Dh,{view:0,detail:0}),
hk=nd(Fi),vi,gj,hj,oh=Hf({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(v){return void 0===v.relatedTarget?v.fromElement===v.srcElement?v.toElement:v.fromElement:v.relatedTarget},movementX:function(v){if("movementX"in v)return v.movementX;v!==hj&&(hj&&"mousemove"===v.type?(vi=v.screenX-hj.screenX,gj=v.screenY-hj.screenY):gj=vi=0,hj=v);return vi},movementY:function(v){return"movementY"in
v?v.movementY:gj}}),yj=nd(oh),Ik=Hf({},oh,{dataTransfer:0}),Hi=nd(Ik),ij=Hf({},Fi,{relatedTarget:0}),mj=nd(ij),jj=Hf({},Dh,{animationName:0,elapsedTime:0,pseudoElement:0}),Qi=nd(jj),wj=Hf({},Dh,{clipboardData:function(v){return"clipboardData"in v?v.clipboardData:window.clipboardData}}),yk=nd(wj),ck=Hf({},Dh,{data:0}),Pj=nd(ck),Fj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},Gj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
tk=Hf({},Fi,{key:function(v){if(v.key){var E=Fj[v.key]||v.key;if("Unidentified"!==E)return E}return"keypress"===v.type?(v=Ic(v),13===v?"Enter":String.fromCharCode(v)):"keydown"===v.type||"keyup"===v.type?Gj[v.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(v){return"keypress"===v.type?Ic(v):0},keyCode:function(v){return"keydown"===v.type||"keyup"===v.type?v.keyCode:0},which:function(v){return"keypress"===
v.type?Ic(v):"keydown"===v.type||"keyup"===v.type?v.keyCode:0}}),Mj=nd(tk),dk=Hf({},oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vh=nd(dk),Qg=Hf({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd}),sh=nd(Qg),al=Hf({},Dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),nj=nd(al),a=Hf({},oh,{deltaX:function(v){return"deltaX"in v?v.deltaX:"wheelDeltaX"in v?-v.wheelDeltaX:
0},deltaY:function(v){return"deltaY"in v?v.deltaY:"wheelDeltaY"in v?-v.wheelDeltaY:"wheelDelta"in v?-v.wheelDelta:0},deltaZ:0,deltaMode:0}),u=nd(a),S=[9,13,27,32],Q=Cg&&"CompositionEvent"in window,Z=null;Cg&&"documentMode"in document&&(Z=document.documentMode);var Ga=Cg&&"TextEvent"in window&&!Z,Va=Cg&&(!Q||Z&&8<Z&&11>=Z),Ya=String.fromCharCode(32),wb=!1,Rb=!1,ec={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,
week:!0},Mc=null,Wc=null,ad=!1;if(Cg){if(Cg){var Wd="oninput"in document;if(!Wd){var Ee=document.createElement("div");Ee.setAttribute("oninput","return;");Wd="function"===typeof Ee.oninput}var wf=Wd}else wf=!1;ad=wf&&(!document.documentMode||9<document.documentMode)}var zg="function"===typeof Object.is?Object.is:Hc,lf=Object.prototype.hasOwnProperty,Gg=Cg&&"documentMode"in document&&11>=document.documentMode,cg=null,Lg=null,sg=null,Of=!1;Wb("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Wb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Wb(sk,2);for(var Vg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),hg=0;hg<Vg.length;hg++)Kj.set(Vg[hg],0);p("onMouseEnter",["mouseout","mouseover"]);p("onMouseLeave",
["mouseout","mouseover"]);p("onPointerEnter",["pointerout","pointerover"]);p("onPointerLeave",["pointerout","pointerover"]);k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));k("onBeforeInput",["compositionend","keypress","textInput","paste"]);k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));k("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kh=new Set("cancel close invalid load scroll toggle".split(" ").concat(pg)),Ph="_reactListening"+Math.random().toString(36).slice(2),
bi=null,Li=null,Wi="function"===typeof setTimeout?setTimeout:void 0,qk="function"===typeof clearTimeout?clearTimeout:void 0,bl=0,Jk=Math.random().toString(36).slice(2),oj="__reactFiber$"+Jk,Qj="__reactProps$"+Jk,Oj="__reactContainer$"+Jk,jl="__reactEvents$"+Jk,Pk=[],Rj=-1,Ri={},Qh=Md(Ri),pi=Md(!1),pj=Ri,mk=null,gi=null,Vf=mg.unstable_runWithPriority,hh=mg.unstable_scheduleCallback,se=mg.unstable_cancelCallback,hi=mg.unstable_shouldYield,kj=mg.unstable_requestPaint,Kk=mg.unstable_now,Qk=mg.unstable_getCurrentPriorityLevel,
Sj=mg.unstable_ImmediatePriority,kl=mg.unstable_UserBlockingPriority,zk=mg.unstable_NormalPriority,Rk=mg.unstable_LowPriority,ui=mg.unstable_IdlePriority,Zj={},Fl=void 0!==kj?kj:function(){},Ai=null,Ak=null,Tj=!1,nl=Kk(),fi=1E4>nl?Kk:function(){return Kk()-nl},Cl=ji.ReactCurrentBatchConfig,Rh=Md(null),qj=null,sj=null,rj=null,Wh=!1,Ck=(new pf.Component).refs,Bk={isMounted:function(v){return(v=v._reactInternals)?ja(v)===v:!1},enqueueSetState:function(v,E,V){v=v._reactInternals;var Qa=dg(),hb=Af(v),
Db=ud(Qa,hb);Db.payload=E;void 0!==V&&null!==V&&(Db.callback=V);kb(v,Db);jg(v,hb,Qa)},enqueueReplaceState:function(v,E,V){v=v._reactInternals;var Qa=dg(),hb=Af(v),Db=ud(Qa,hb);Db.tag=1;Db.payload=E;void 0!==V&&null!==V&&(Db.callback=V);kb(v,Db);jg(v,hb,Qa)},enqueueForceUpdate:function(v,E){v=v._reactInternals;var V=dg(),Qa=Af(v),hb=ud(V,Qa);hb.tag=2;void 0!==E&&null!==E&&(hb.callback=E);kb(v,hb);jg(v,Qa,V)}},Si=Array.isArray,Di=Oc(!0),Sk=Oc(!1),ik={},Sh=Md(ik),uj=Md(ik),Uj=Md(ik),Bh=Md(0),Ji=null,
Ti=null,Bi=!1,Vj=[],kk=ji.ReactCurrentDispatcher,Ci=ji.ReactCurrentBatchConfig,jk=0,th=null,Uh=null,Th=null,zj=!1,Wj=!1,Dk={readContext:wc,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useOpaqueIdentifier:ye,unstable_isNewReconciler:!1},ll={readContext:wc,useCallback:function(v,E){sf().memoizedState=[v,void 0===E?null:E];return v},useContext:wc,
useEffect:ug,useImperativeHandle:function(v,E,V){V=null!==V&&void 0!==V?V.concat([v]):null;return ig(4,2,Wf.bind(null,E,v),V)},useLayoutEffect:function(v,E){return ig(4,2,v,E)},useMemo:function(v,E){var V=sf();E=void 0===E?null:E;v=v();V.memoizedState=[v,E];return v},useReducer:function(v,E,V){var Qa=sf();E=void 0!==V?V(E):E;Qa.memoizedState=Qa.baseState=E;v=Qa.queue={pending:null,dispatch:null,lastRenderedReducer:v,lastRenderedState:E};v=v.dispatch=Wa.bind(null,th,v);return[Qa.memoizedState,v]},
useRef:tg,useState:Ag,useDebugValue:bh,useDeferredValue:function(v){var E=Ag(v),V=E[0],Qa=E[1];ug(function(){var hb=Ci.transition;Ci.transition=1;try{Qa(v)}finally{Ci.transition=hb}},[v]);return V},useTransition:function(){var v=Ag(!1),E=v[0];v=Ng.bind(null,v[1]);tg(v);return[v,E]},useMutableSource:function(v,E,V){var Qa=sf();Qa.memoizedState={refs:{getSnapshot:E,setSnapshot:null},source:v,subscribe:V};return Sf(Qa,v,E,V)},useOpaqueIdentifier:function(){if(Bi){var v=!1,E=qc(function(){v||(v=!0,V("r:"+
(bl++).toString(36)));throw Error(w(355));}),V=Ag(E)[1];0===(th.mode&2)&&(th.flags|=516,ng(5,function(){V("r:"+(bl++).toString(36))},void 0,null));return E}E="r:"+(bl++).toString(36);Ag(E);return E},unstable_isNewReconciler:!1},Al={readContext:wc,useCallback:Mg,useContext:wc,useEffect:og,useImperativeHandle:Tg,useLayoutEffect:Tf,useMemo:Ig,useReducer:$g,useRef:Sg,useState:function(){return $g(Ff)},useDebugValue:bh,useDeferredValue:function(v){var E=$g(Ff),V=E[0],Qa=E[1];og(function(){var hb=Ci.transition;
Ci.transition=1;try{Qa(v)}finally{Ci.transition=hb}},[v]);return V},useTransition:function(){var v=$g(Ff)[0];return[Sg().current,v]},useMutableSource:Gf,useOpaqueIdentifier:function(){return $g(Ff)[0]},unstable_isNewReconciler:!1},ml={readContext:wc,useCallback:Mg,useContext:wc,useEffect:og,useImperativeHandle:Tg,useLayoutEffect:Tf,useMemo:Ig,useReducer:ie,useRef:Sg,useState:function(){return ie(Ff)},useDebugValue:bh,useDeferredValue:function(v){var E=ie(Ff),V=E[0],Qa=E[1];og(function(){var hb=Ci.transition;
Ci.transition=1;try{Qa(v)}finally{Ci.transition=hb}},[v]);return V},useTransition:function(){var v=ie(Ff)[0];return[Sg().current,v]},useMutableSource:Gf,useOpaqueIdentifier:function(){return ie(Ff)[0]},unstable_isNewReconciler:!1},Tk=ji.ReactCurrentOwner,Ii=!1,Xh={dehydrated:null,retryLane:0};var Wk=function(v,E){for(var V=E.child;null!==V;){if(5===V.tag||6===V.tag)v.appendChild(V.stateNode);else if(4!==V.tag&&null!==V.child){V.child.return=V;V=V.child;continue}if(V===E)break;for(;null===V.sibling;){if(null===
V.return||V.return===E)return;V=V.return}V.sibling.return=V.return;V=V.sibling}};var Uk=function(){};var Vk=function(v,E,V,Qa){var hb=v.memoizedProps;if(hb!==Qa){v=E.stateNode;yc(Sh.current);var Db=null;switch(V){case "input":hb=z(v,hb);Qa=z(v,Qa);Db=[];break;case "option":hb=W(v,hb);Qa=W(v,Qa);Db=[];break;case "select":hb=Hf({},hb,{value:void 0});Qa=Hf({},Qa,{value:void 0});Db=[];break;case "textarea":hb=La(v,hb);Qa=La(v,Qa);Db=[];break;default:"function"!==typeof hb.onClick&&"function"===typeof Qa.onClick&&
(v.onclick=xa)}Ia(V,Qa);var cc;V=null;for(Qd in hb)if(!Qa.hasOwnProperty(Qd)&&hb.hasOwnProperty(Qd)&&null!=hb[Qd])if("style"===Qd){var vc=hb[Qd];for(cc in vc)vc.hasOwnProperty(cc)&&(V||(V={}),V[cc]="")}else"dangerouslySetInnerHTML"!==Qd&&"children"!==Qd&&"suppressContentEditableWarning"!==Qd&&"suppressHydrationWarning"!==Qd&&"autoFocus"!==Qd&&(Rg.hasOwnProperty(Qd)?Db||(Db=[]):(Db=Db||[]).push(Qd,null));for(Qd in Qa){var cd=Qa[Qd];vc=null!=hb?hb[Qd]:void 0;if(Qa.hasOwnProperty(Qd)&&cd!==vc&&(null!=
cd||null!=vc))if("style"===Qd)if(vc){for(cc in vc)!vc.hasOwnProperty(cc)||cd&&cd.hasOwnProperty(cc)||(V||(V={}),V[cc]="");for(cc in cd)cd.hasOwnProperty(cc)&&vc[cc]!==cd[cc]&&(V||(V={}),V[cc]=cd[cc])}else V||(Db||(Db=[]),Db.push(Qd,V)),V=cd;else"dangerouslySetInnerHTML"===Qd?(cd=cd?cd.__html:void 0,vc=vc?vc.__html:void 0,null!=cd&&vc!==cd&&(Db=Db||[]).push(Qd,cd)):"children"===Qd?"string"!==typeof cd&&"number"!==typeof cd||(Db=Db||[]).push(Qd,""+cd):"suppressContentEditableWarning"!==Qd&&"suppressHydrationWarning"!==
Qd&&(Rg.hasOwnProperty(Qd)?(null!=cd&&"onScroll"===Qd&&re("scroll",v),Db||vc===cd||(Db=[])):"object"===typeof cd&&null!==cd&&cd.$$typeof===ti?cd.toString():(Db=Db||[]).push(Qd,cd))}V&&(Db=Db||[]).push("style",V);var Qd;if(E.updateQueue=Db)E.flags|=4}};var Ei=function(v,E,V,Qa){V!==Qa&&(E.flags|=4)};var Cj="function"===typeof WeakMap?WeakMap:Map,Bl="function"===typeof WeakSet?WeakSet:Set,Dl=Math.ceil,Vi=ji.ReactCurrentDispatcher,$k=ji.ReactCurrentOwner,Nf=0,ah=null,Hh=null,Mh=0,Xi=0,Zk=Md(0),Gh=0,
Bj=null,Xj=0,tj=0,Aj=0,pk=0,Yk=null,nk=0,lk=Infinity,Ye=null,Ek=!1,Xk=null,Ki=null,ej=!1,rk=null,bk=90,Hk=[],Ej=[],qi=null,Yj=0,Gk=null,Fk=-1,Ui=0,ok=0,ak=null,Dj=!1;var El=function(v,E,V){var Qa=E.lanes;if(null!==v)if(v.memoizedProps!==E.pendingProps||pi.current)Ii=!0;else if(0!==(V&Qa))Ii=0!==(v.flags&16384)?!0:!1;else{Ii=!1;switch(E.tag){case 3:Xg(E);Ti=Ji=null;Bi=!1;break;case 5:Fd(E);break;case 1:Se(E.type)&&Ib(E);break;case 4:fd(E,E.stateNode.containerInfo);break;case 10:Qa=E.memoizedProps.value;
var hb=E.type._context;Pd(Rh,hb._currentValue);hb._currentValue=Qa;break;case 13:if(null!==E.memoizedState){if(0!==(V&E.child.childLanes))return Fh(v,E,V);Pd(Bh,Bh.current&1);E=uh(v,E,V);return null!==E?E.sibling:null}Pd(Bh,Bh.current&1);break;case 19:Qa=0!==(V&E.childLanes);if(0!==(v.flags&64)){if(Qa)return Lh(v,E,V);E.flags|=64}hb=E.memoizedState;null!==hb&&(hb.rendering=null,hb.tail=null,hb.lastEffect=null);Pd(Bh,Bh.current);if(Qa)break;else return null;case 23:case 24:return E.lanes=0,ne(v,E,
V)}return uh(v,E,V)}else Ii=!1;E.lanes=0;switch(E.tag){case 2:Qa=E.type;null!==v&&(v.alternate=null,E.alternate=null,E.flags|=2);v=E.pendingProps;hb=Me(E,Qh.current);td(E,V);hb=Id(null,E,Qa,v,hb,V);E.flags|=1;if("object"===typeof hb&&null!==hb&&"function"===typeof hb.render&&void 0===hb.$$typeof){E.tag=1;E.memoizedState=null;E.updateQueue=null;if(Se(Qa)){var Db=!0;Ib(E)}else Db=!1;E.memoizedState=null!==hb.state&&void 0!==hb.state?hb.state:null;Rc(E);var cc=Qa.getDerivedStateFromProps;"function"===
typeof cc&&fa(E,Qa,cc,v);hb.updater=Bk;E.stateNode=hb;hb._reactInternals=E;Kb(E,Qa,v,V);E=Uf(null,E,Qa,!0,Db,V)}else E.tag=0,Cb(null,E,hb,V),E=E.child;return E;case 16:hb=E.elementType;a:{null!==v&&(v.alternate=null,E.alternate=null,E.flags|=2);v=E.pendingProps;Db=hb._init;hb=Db(hb._payload);E.type=hb;Db=E.tag=Vc(hb);v=Od(hb,v);switch(Db){case 0:E=uf(null,E,hb,v,V);break a;case 1:E=Wg(null,E,hb,v,V);break a;case 11:E=hc(null,E,hb,v,V);break a;case 14:E=yd(null,E,hb,Od(hb.type,v),Qa,V);break a}throw Error(w(306,
hb,""));}return E;case 0:return Qa=E.type,hb=E.pendingProps,hb=E.elementType===Qa?hb:Od(Qa,hb),uf(v,E,Qa,hb,V);case 1:return Qa=E.type,hb=E.pendingProps,hb=E.elementType===Qa?hb:Od(Qa,hb),Wg(v,E,Qa,hb,V);case 3:Xg(E);Qa=E.updateQueue;if(null===v||null===Qa)throw Error(w(282));Qa=E.pendingProps;hb=E.memoizedState;hb=null!==hb?hb.element:null;Lc(v,E);Pb(E,Qa,null,V);Qa=E.memoizedState.element;if(Qa===hb)Ti=Ji=null,Bi=!1,E=uh(v,E,V);else{hb=E.stateNode;if(Db=hb.hydrate)Ti=tc(E.stateNode.containerInfo.firstChild),
Ji=E,Db=Bi=!0;if(Db){v=hb.mutableSourceEagerHydrationData;if(null!=v)for(hb=0;hb<v.length;hb+=2)Db=v[hb],Db._workInProgressVersionPrimary=v[hb+1],Vj.push(Db);V=Sk(E,null,Qa,V);for(E.child=V;V;)V.flags=V.flags&-3|1024,V=V.sibling}else Cb(v,E,Qa,V),Ti=Ji=null,Bi=!1;E=E.child}return E;case 5:return Fd(E),null===v&&vd(E),Qa=E.type,hb=E.pendingProps,Db=null!==v?v.memoizedProps:null,cc=hb.children,zb(Qa,hb)?cc=null:null!==Db&&zb(Qa,Db)&&(E.flags|=16),of(v,E),Cb(v,E,cc,V),E.child;case 6:return null===v&&
vd(E),null;case 13:return Fh(v,E,V);case 4:return fd(E,E.stateNode.containerInfo),Qa=E.pendingProps,null===v?E.child=Di(E,null,Qa,V):Cb(v,E,Qa,V),E.child;case 11:return Qa=E.type,hb=E.pendingProps,hb=E.elementType===Qa?hb:Od(Qa,hb),hc(v,E,Qa,hb,V);case 7:return Cb(v,E,E.pendingProps,V),E.child;case 8:return Cb(v,E,E.pendingProps.children,V),E.child;case 12:return Cb(v,E,E.pendingProps.children,V),E.child;case 10:a:{Qa=E.type._context;hb=E.pendingProps;cc=E.memoizedProps;Db=hb.value;var vc=E.type._context;
Pd(Rh,vc._currentValue);vc._currentValue=Db;if(null!==cc)if(vc=cc.value,Db=zg(vc,Db)?0:("function"===typeof Qa._calculateChangedBits?Qa._calculateChangedBits(vc,Db):1073741823)|0,0===Db){if(cc.children===hb.children&&!pi.current){E=uh(v,E,V);break a}}else for(vc=E.child,null!==vc&&(vc.return=E);null!==vc;){var cd=vc.dependencies;if(null!==cd){cc=vc.child;for(var Qd=cd.firstContext;null!==Qd;){if(Qd.context===Qa&&0!==(Qd.observedBits&Db)){1===vc.tag&&(Qd=ud(-1,V&-V),Qd.tag=2,kb(vc,Qd));vc.lanes|=V;
Qd=vc.alternate;null!==Qd&&(Qd.lanes|=V);ed(vc.return,V);cd.lanes|=V;break}Qd=Qd.next}}else cc=10===vc.tag?vc.type===E.type?null:vc.child:vc.child;if(null!==cc)cc.return=vc;else for(cc=vc;null!==cc;){if(cc===E){cc=null;break}vc=cc.sibling;if(null!==vc){vc.return=cc.return;cc=vc;break}cc=cc.return}vc=cc}Cb(v,E,hb.children,V);E=E.child}return E;case 9:return hb=E.type,Db=E.pendingProps,Qa=Db.children,td(E,V),hb=wc(hb,Db.unstable_observedBits),Qa=Qa(hb),E.flags|=1,Cb(v,E,Qa,V),E.child;case 14:return hb=
E.type,Db=Od(hb,E.pendingProps),Db=Od(hb.type,Db),yd(v,E,hb,Db,Qa,V);case 15:return Dd(v,E,E.type,E.pendingProps,Qa,V);case 17:return Qa=E.type,hb=E.pendingProps,hb=E.elementType===Qa?hb:Od(Qa,hb),null!==v&&(v.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,Se(Qa)?(v=!0,Ib(E)):v=!1,td(E,V),gb(E,Qa,hb),Kb(E,Qa,hb,V),Uf(null,E,Qa,!0,v,V);case 19:return Lh(v,E,V);case 23:return ne(v,E,V);case 24:return ne(v,E,V)}throw Error(w(156,E.tag));};Ze.prototype.render=function(v){Tc(v,this._internalRoot,
null,null)};Ze.prototype.unmount=function(){var v=this._internalRoot,E=v.containerInfo;Tc(null,v,null,function(){E[Oj]=null})};var zl=function(v){if(13===v.tag){var E=dg();jg(v,4,E);De(v,4)}};var hl=function(v){if(13===v.tag){var E=dg();jg(v,67108864,E);De(v,67108864)}};var il=function(v){if(13===v.tag){var E=dg(),V=Af(v);jg(v,V,E);De(v,V)}};var yl=function(v,E){return E()};hd=function(v,E,V){switch(E){case "input":R(v,V);E=V.name;if("radio"===V.type&&null!=E){for(V=v;V.parentNode;)V=V.parentNode;
V=V.querySelectorAll("input[name\x3d"+JSON.stringify(""+E)+'][type\x3d"radio"]');for(E=0;E<V.length;E++){var Qa=V[E];if(Qa!==v&&Qa.form===v.form){var hb=Uc(Qa);if(!hb)throw Error(w(90));D(Qa);R(Qa,hb)}}}break;case "textarea":C(v,V);break;case "select":E=V.value,null!=E&&ea(v,!!V.multiple,E,!1)}};Pa=Zh;qa=function(v,E,V,Qa,hb){var Db=Nf;Nf|=4;try{return Jc(98,v.bind(null,E,V,Qa,hb))}finally{Nf=Db,0===Nf&&(ch(),qd())}};ya=function(){0===(Nf&49)&&(ri(),Df())};kd=function(v,E){var V=Nf;Nf|=2;try{return v(E)}finally{Nf=
V,0===Nf&&(ch(),qd())}};var ol={Events:[Bb,ic,Uc,ma,Fa,Df,{current:!1}]},ek={findFiberByHostInstance:rb,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Gl={bundleType:ek.bundleType,version:ek.version,rendererPackageName:ek.rendererPackageName,rendererConfig:ek.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,
currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(v){v=Ta(v);return null===v?null:v.stateNode},findFiberByHostInstance:ek.findFiberByHostInstance||tf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lk.isDisabled&&Lk.supportsFiber)try{mk=Lk.inject(Gl),gi=Lk}catch(v){}}A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=
ol;A.createPortal=He;A.findDOMNode=function(v){if(null==v)return null;if(1===v.nodeType)return v;var E=v._reactInternals;if(void 0===E){if("function"===typeof v.render)throw Error(w(188));throw Error(w(268,Object.keys(v)));}v=Ta(E);return v=null===v?null:v.stateNode};A.flushSync=function(v,E){var V=Nf;if(0!==(V&48))return v(E);Nf|=1;try{if(v)return Jc(99,v.bind(null,E))}finally{Nf=V,qd()}};A.hydrate=function(v,E,V){if(!cf(E))throw Error(w(200));return gg(null,v,E,!0,V)};A.render=function(v,E,V){if(!cf(E))throw Error(w(200));
return gg(null,v,E,!1,V)};A.unmountComponentAtNode=function(v){if(!cf(v))throw Error(w(40));return v._reactRootContainer?($h(function(){gg(null,null,v,!1,function(){v._reactRootContainer=null;v[Oj]=null})}),!0):!1};A.unstable_batchedUpdates=Zh;A.unstable_createPortal=function(v,E){return He(v,E,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};A.unstable_renderSubtreeIntoContainer=function(v,E,V,Qa){if(!cf(V))throw Error(w(200));if(null==v||void 0===v._reactInternals)throw Error(w(38));
return gg(v,E,V,!1,Qa)};A.version="17.0.2"};
shadow$provide[12]=function(Ka,L,sb,A){function w(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w)}catch(k){console.error(k)}}w();sb.exports=L(7)};
shadow$provide[13]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?sb.exports=k():"function"===typeof define&&define.amd?define(k):(w="undefined"!==typeof globalThis?globalThis:w||self,w.marked=k())})(this,function(){function w(ra,Oa){for(var ja=0;ja<Oa.length;ja++){var U=Oa[ja];U.enumerable=U.enumerable||!1;U.configurable=!0;"value"in U&&(U.writable=!0);Object.defineProperty(ra,U.key,U)}}function k(ra,Oa,ja){Oa&&w(ra.prototype,Oa);ja&&w(ra,ja);return ra}function p(ra,
Oa){if(ra){if("string"===typeof ra)return q(ra,Oa);var ja=Object.prototype.toString.call(ra).slice(8,-1);"Object"===ja&&ra.constructor&&(ja=ra.constructor.name);if("Map"===ja||"Set"===ja)return Array.from(ra);if("Arguments"===ja||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ja))return q(ra,Oa)}}function q(ra,Oa){if(null==Oa||Oa>ra.length)Oa=ra.length;for(var ja=0,U=Array(Oa);ja<Oa;ja++)U[ja]=ra[ja];return U}function t(ra,Oa){var ja="undefined"!==typeof Symbol&&ra[Symbol.iterator]||ra["@@iterator"];
if(ja)return(ja=ja.call(ra)).next.bind(ja);if(Array.isArray(ra)||(ja=p(ra))||Oa&&ra&&"number"===typeof ra.length){ja&&(ra=ja);var U=0;return function(){return U>=ra.length?{done:!0}:{done:!1,value:ra[U++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function m(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,
pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function f(ra){return ra.replace(z,function(Oa,ja){ja=ja.toLowerCase();return"colon"===ja?":":"#"===ja.charAt(0)?"x"===ja.charAt(1)?String.fromCharCode(parseInt(ja.substring(2),16)):String.fromCharCode(+ja.substring(1)):""})}function b(ra,Oa,ja){var U=ra.length;if(0===U)return"";for(var ka=0;ka<U;){var wa=ra.charAt(U-ka-1);if(wa!==Oa||ja)if(wa!==Oa&&ja)ka++;else break;
else ka++}return ra.substr(0,U-ka)}function c(ra,Oa,ja,U){var ka=Oa.href;Oa=Oa.title?B(Oa.title):null;var wa=ra[1].replace(/\\([\[\]])/g,"$1");return"!"!==ra[0].charAt(0)?(U.state.inLink=!0,ra={type:"link",raw:ja,href:ka,title:Oa,text:wa,tokens:U.inlineTokens(wa,[])},U.state.inLink=!1,ra):{type:"image",raw:ja,href:ka,title:Oa,text:B(wa)}}function e(ra,Oa){ra=ra.match(/^(\s+)(?:```)/);if(null===ra)return Oa;var ja=ra[1];return Oa.split("\n").map(function(U){var ka=U.match(/^\s+/);return null===ka?
U:ka[0].length>=ja.length?U.slice(ja.length):U}).join("\n")}function g(ra){return ra.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function n(ra){var Oa="",ja,U=ra.length;for(ja=0;ja<U;ja++){var ka=ra.charCodeAt(ja);.5<Math.random()&&(ka="x"+ka.toString(16));Oa+="\x26#"+ka+";"}return Oa}function h(ra,Oa,ja){if("undefined"===typeof ra||null===ra)throw Error("marked(): input parameter is undefined or null");
if("string"!==typeof ra)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(ra)+", string expected");"function"===typeof Oa&&(ja=Oa,Oa=null);Oa=va({},h.defaults,Oa||{});Ua(Oa);if(ja){var U=Oa.highlight;try{var ka=ya.lex(ra,Oa)}catch(lb){return ja(lb)}var wa=function(lb){if(!lb)try{Oa.walkTokens&&h.walkTokens(ka,Oa.walkTokens);var nb=oa.parse(ka,Oa)}catch(Mb){lb=Mb}Oa.highlight=U;return lb?ja(lb):ja(null,nb)};if(!U||3>U.length)return wa();delete Oa.highlight;if(!ka.length)return wa();
var Ta=0;h.walkTokens(ka,function(lb){"code"===lb.type&&(Ta++,setTimeout(function(){U(lb.text,lb.lang,function(nb,Mb){if(nb)return wa(nb);null!=Mb&&Mb!==lb.text&&(lb.text=Mb,lb.escaped=!0);Ta--;0===Ta&&wa()})},0))});0===Ta&&wa()}else try{var db=ya.lex(ra,Oa);Oa.walkTokens&&h.walkTokens(db,Oa.walkTokens);return oa.parse(db,Oa)}catch(lb){lb.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Oa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+eb(lb.message+"",!0)+
"\x3c/pre\x3e";throw lb;}}var x=m();var O=/[&<>"']/,H=/[&<>"']/g,F=/[<>"']|&(?!#?\w+;)/,J=/[<>"']|&(?!#?\w+;)/g,D={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},r=function(ra){return D[ra]},z=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,G=/(^|[^\[])\^/g,T=/[^\w:]/g,R=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,ca={},M=/^[^:]+:\/*[^/]*$/,ba=/^([^:]+:)[\s\S]*$/,W=/^([^:]+:\/*[^/]*)[\s\S]*$/,ea=function(ra,Oa){if(Oa){if(O.test(ra))return ra.replace(H,r)}else if(F.test(ra))return ra.replace(J,
r);return ra},La=function(ra){for(var Oa=1,ja,U;Oa<arguments.length;Oa++)for(U in ja=arguments[Oa],ja)Object.prototype.hasOwnProperty.call(ja,U)&&(ra[U]=ja[U]);return ra},aa=x,C=function(ra,Oa){ra=ra.replace(/\|/g,function(U,ka,wa){for(U=!1;0<=--ka&&"\\"===wa[ka];)U=!U;return U?"|":" |"}).split(/ \|/);var ja=0;ra[0].trim()||ra.shift();ra[ra.length-1].trim()||ra.pop();if(ra.length>Oa)ra.splice(Oa);else for(;ra.length<Oa;)ra.push("");for(;ja<ra.length;ja++)ra[ja]=ra[ja].trim().replace(/\\\|/g,"|");
return ra},B=ea,N=function(){function ra(ja){this.options=ja||aa}var Oa=ra.prototype;Oa.space=function(ja){if(ja=this.rules.block.newline.exec(ja))return 1<ja[0].length?{type:"space",raw:ja[0]}:{raw:"\n"}};Oa.code=function(ja){if(ja=this.rules.block.code.exec(ja)){var U=ja[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ja[0],codeBlockStyle:"indented",text:this.options.pedantic?U:b(U,"\n")}}};Oa.fences=function(ja){if(ja=this.rules.block.fences.exec(ja)){var U=ja[0],ka=e(U,ja[3]||"");return{type:"code",
raw:U,lang:ja[2]?ja[2].trim():ja[2],text:ka}}};Oa.heading=function(ja){if(ja=this.rules.block.heading.exec(ja)){var U=ja[2].trim();if(/#$/.test(U)){var ka=b(U,"#");if(this.options.pedantic)U=ka.trim();else if(!ka||/ $/.test(ka))U=ka.trim()}ja={type:"heading",raw:ja[0],depth:ja[1].length,text:U,tokens:[]};this.lexer.inline(ja.text,ja.tokens);return ja}};Oa.hr=function(ja){if(ja=this.rules.block.hr.exec(ja))return{type:"hr",raw:ja[0]}};Oa.blockquote=function(ja){if(ja=this.rules.block.blockquote.exec(ja)){var U=
ja[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ja[0],tokens:this.lexer.blockTokens(U,[]),text:U}}};Oa.list=function(ja){var U=this.rules.block.list.exec(ja);if(U){var ka,wa;var Ta=U[1].trim();U=1<Ta.length;var db={type:"list",raw:"",ordered:U,start:U?+Ta.slice(0,-1):"",loose:!1,items:[]};Ta=U?"\\d{1,9}\\"+Ta.slice(-1):"\\"+Ta;this.options.pedantic&&(Ta=U?Ta:"[*+-]");for(var lb=new RegExp("^( {0,3}"+Ta+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");ja&&!this.rules.block.hr.test(ja)&&(U=lb.exec(ja));){var nb=
U[2].split("\n");if(this.options.pedantic){var Mb=2;var $b=nb[0].trimLeft()}else Mb=U[2].search(/[^ ]/),Mb=U[1].length+(4<Mb?1:Mb),$b=nb[0].slice(Mb-U[1].length);var Gc=!1;var zc=U[0];!nb[0]&&/^ *$/.test(nb[1])&&(zc=U[1]+nb.slice(0,2).join("\n")+"\n",db.loose=!0,nb=[]);var Bc=new RegExp("^ {0,"+Math.min(3,Mb-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Ta=1;Ta<nb.length;Ta++){var uc=nb[Ta];this.options.pedantic&&(uc=uc.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "));if(Bc.test(uc)){zc=U[1]+nb.slice(0,Ta).join("\n")+
"\n";break}if(Gc)if(uc.search(/[^ ]/)>=Mb||!uc.trim())$b+="\n"+uc.slice(Mb);else{zc=U[1]+nb.slice(0,Ta).join("\n")+"\n";break}else uc.trim()||(Gc=!0),$b=uc.search(/[^ ]/)>=Mb?$b+("\n"+uc.slice(Mb)):$b+("\n"+uc)}db.loose||(wa?db.loose=!0:/\n *\n *$/.test(zc)&&(wa=!0));if(this.options.gfm&&(ka=/^\[[ xX]\] /.exec($b))){var id="[ ] "!==ka[0];$b=$b.replace(/^\[[ xX]\] +/,"")}db.items.push({type:"list_item",raw:zc,task:!!ka,checked:id,loose:!1,text:$b});db.raw+=zc;ja=ja.slice(zc.length)}db.items[db.items.length-
1].raw=zc.trimRight();db.items[db.items.length-1].text=$b.trimRight();db.raw=db.raw.trimRight();ja=db.items.length;for(Ta=0;Ta<ja;Ta++)this.lexer.state.top=!1,db.items[Ta].tokens=this.lexer.blockTokens(db.items[Ta].text,[]),db.items[Ta].tokens.some(function(Hb){return"space"===Hb.type})&&(db.loose=!0,db.items[Ta].loose=!0);return db}};Oa.html=function(ja){if(ja=this.rules.block.html.exec(ja)){var U={type:"html",raw:ja[0],pre:!this.options.sanitizer&&("pre"===ja[1]||"script"===ja[1]||"style"===ja[1]),
text:ja[0]};this.options.sanitize&&(U.type="paragraph",U.text=this.options.sanitizer?this.options.sanitizer(ja[0]):B(ja[0]),U.tokens=[],this.lexer.inline(U.text,U.tokens));return U}};Oa.def=function(ja){if(ja=this.rules.block.def.exec(ja))return ja[3]&&(ja[3]=ja[3].substring(1,ja[3].length-1)),{type:"def",tag:ja[1].toLowerCase().replace(/\s+/g," "),raw:ja[0],href:ja[2],title:ja[3]}};Oa.table=function(ja){var U=this.rules.block.table.exec(ja);if(U&&(ja={type:"table",header:C(U[1]).map(function(db){return{text:db}}),
align:U[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:U[3]?U[3].replace(/\n$/,"").split("\n"):[]},ja.header.length===ja.align.length)){ja.raw=U[0];U=ja.align.length;var ka,wa;for(ka=0;ka<U;ka++)/^ *-+: *$/.test(ja.align[ka])?ja.align[ka]="right":/^ *:-+: *$/.test(ja.align[ka])?ja.align[ka]="center":/^ *:-+ *$/.test(ja.align[ka])?ja.align[ka]="left":ja.align[ka]=null;U=ja.rows.length;for(ka=0;ka<U;ka++)ja.rows[ka]=C(ja.rows[ka],ja.header.length).map(function(db){return{text:db}});U=ja.header.length;
for(ka=0;ka<U;ka++)ja.header[ka].tokens=[],this.lexer.inlineTokens(ja.header[ka].text,ja.header[ka].tokens);U=ja.rows.length;for(ka=0;ka<U;ka++){var Ta=ja.rows[ka];for(wa=0;wa<Ta.length;wa++)Ta[wa].tokens=[],this.lexer.inlineTokens(Ta[wa].text,Ta[wa].tokens)}return ja}};Oa.lheading=function(ja){if(ja=this.rules.block.lheading.exec(ja))return ja={type:"heading",raw:ja[0],depth:"\x3d"===ja[2].charAt(0)?1:2,text:ja[1],tokens:[]},this.lexer.inline(ja.text,ja.tokens),ja};Oa.paragraph=function(ja){if(ja=
this.rules.block.paragraph.exec(ja))return ja={type:"paragraph",raw:ja[0],text:"\n"===ja[1].charAt(ja[1].length-1)?ja[1].slice(0,-1):ja[1],tokens:[]},this.lexer.inline(ja.text,ja.tokens),ja};Oa.text=function(ja){if(ja=this.rules.block.text.exec(ja))return ja={type:"text",raw:ja[0],text:ja[0],tokens:[]},this.lexer.inline(ja.text,ja.tokens),ja};Oa.escape=function(ja){if(ja=this.rules.inline.escape.exec(ja))return{type:"escape",raw:ja[0],text:B(ja[1])}};Oa.tag=function(ja){if(ja=this.rules.inline.tag.exec(ja))return!this.lexer.state.inLink&&
/^<a /i.test(ja[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ja[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ja[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ja[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ja[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?
this.options.sanitizer(ja[0]):B(ja[0]):ja[0]}};Oa.link=function(ja){if(ja=this.rules.inline.link.exec(ja)){var U=ja[2].trim();if(!this.options.pedantic&&/^</.test(U)){if(!/>$/.test(U))return;var ka=b(U.slice(0,-1),"\\");if(0===(U.length-ka.length)%2)return}else{a:{ka=ja[2];if(-1!==ka.indexOf(")"))for(var wa=ka.length,Ta=0,db=0;db<wa;db++)if("\\"===ka[db])db++;else if("("===ka[db])Ta++;else if(")"===ka[db]&&(Ta--,0>Ta)){ka=db;break a}ka=-1}-1<ka&&(wa=(0===ja[0].indexOf("!")?5:4)+ja[1].length+ka,ja[2]=
ja[2].substring(0,ka),ja[0]=ja[0].substring(0,wa).trim(),ja[3]="")}ka=ja[2];wa="";if(this.options.pedantic){if(Ta=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ka))ka=Ta[1],wa=Ta[3]}else wa=ja[3]?ja[3].slice(1,-1):"";ka=ka.trim();/^</.test(ka)&&(ka=this.options.pedantic&&!/>$/.test(U)?ka.slice(1):ka.slice(1,-1));return c(ja,{href:ka?ka.replace(this.rules.inline._escapes,"$1"):ka,title:wa?wa.replace(this.rules.inline._escapes,"$1"):wa},ja[0],this.lexer)}};Oa.reflink=function(ja,U){var ka;if((ka=this.rules.inline.reflink.exec(ja))||
(ka=this.rules.inline.nolink.exec(ja)))return ja=(ka[2]||ka[1]).replace(/\s+/g," "),ja=U[ja.toLowerCase()],ja&&ja.href?c(ka,ja,ka[0],this.lexer):(U=ka[0].charAt(0),{type:"text",raw:U,text:U})};Oa.emStrong=function(ja,U,ka){void 0===ka&&(ka="");var wa=this.rules.inline.emStrong.lDelim.exec(ja);if(wa&&(!wa[3]||!ka.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ta=
wa[1]||wa[2]||"";if(!Ta||Ta&&(""===ka||this.rules.inline.punctuation.exec(ka))){var db=ka=wa[0].length-1,lb=0,nb="*"===wa[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;nb.lastIndex=0;for(U=U.slice(-1*ja.length+ka);null!=(wa=nb.exec(U));)if(Ta=wa[1]||wa[2]||wa[3]||wa[4]||wa[5]||wa[6])if(Ta=Ta.length,wa[3]||wa[4])db+=Ta;else if((wa[5]||wa[6])&&ka%3&&!((ka+Ta)%3))lb+=Ta;else if(db-=Ta,!(0<db)){Ta=Math.min(Ta,Ta+db+lb);if(Math.min(ka,Ta)%2)return U=ja.slice(1,ka+wa.index+
Ta),{type:"em",raw:ja.slice(0,ka+wa.index+Ta+1),text:U,tokens:this.lexer.inlineTokens(U,[])};U=ja.slice(2,ka+wa.index+Ta-1);return{type:"strong",raw:ja.slice(0,ka+wa.index+Ta+1),text:U,tokens:this.lexer.inlineTokens(U,[])}}}}};Oa.codespan=function(ja){if(ja=this.rules.inline.code.exec(ja)){var U=ja[2].replace(/\n/g," "),ka=/[^ ]/.test(U),wa=/^ /.test(U)&&/ $/.test(U);ka&&wa&&(U=U.substring(1,U.length-1));U=B(U,!0);return{type:"codespan",raw:ja[0],text:U}}};Oa.br=function(ja){if(ja=this.rules.inline.br.exec(ja))return{type:"br",
raw:ja[0]}};Oa.del=function(ja){if(ja=this.rules.inline.del.exec(ja))return{type:"del",raw:ja[0],text:ja[2],tokens:this.lexer.inlineTokens(ja[2],[])}};Oa.autolink=function(ja,U){if(ja=this.rules.inline.autolink.exec(ja)){if("@"===ja[2]){U=B(this.options.mangle?U(ja[1]):ja[1]);var ka="mailto:"+U}else ka=U=B(ja[1]);return{type:"link",raw:ja[0],text:U,href:ka,tokens:[{type:"text",raw:U,text:U}]}}};Oa.url=function(ja,U){if(ja=this.rules.inline.url.exec(ja)){if("@"===ja[2]){U=B(this.options.mangle?U(ja[0]):
ja[0]);var ka="mailto:"+U}else{do U=ja[0],ja[0]=this.rules.inline._backpedal.exec(ja[0])[0];while(U!==ja[0]);U=B(ja[0]);ka="www."===ja[1]?"http://"+U:U}return{type:"link",raw:ja[0],text:U,href:ka,tokens:[{type:"text",raw:U,text:U}]}}};Oa.inlineText=function(ja,U){if(ja=this.rules.inline.text.exec(ja))return U=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ja[0]):B(ja[0]):ja[0]:B(this.options.smartypants?U(ja[0]):ja[0]),{type:"text",raw:ja[0],text:U}};
return ra}(),Y={exec:function(){}},Aa=function(ra,Oa){ra=ra.source||ra;Oa=Oa||"";var ja={replace:function(U,ka){ka=ka.source||ka;ka=ka.replace(G,"$1");ra=ra.replace(U,ka);return ja},getRegex:function(){return new RegExp(ra,Oa)}};return ja},sa={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:\x3c(script|pre|style|textarea)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|\x3c(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|\x3c/(?!script|pre|style|textarea)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};sa.def=Aa(sa.def).replace("label",sa._label).replace("title",sa._title).getRegex();sa.bullet=/(?:[*+-]|\d{1,9}[.)])/;sa.listItemStart=Aa(/^( *)(bull) */).replace("bull",
sa.bullet).getRegex();sa.list=Aa(sa.list).replace(/bull/g,sa.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+sa.def.source+")").getRegex();sa._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
sa._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;sa.html=Aa(sa.html,"i").replace("comment",sa._comment).replace("tag",sa._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();sa.paragraph=Aa(sa._paragraph).replace("hr",sa.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|textarea|!--)").replace("tag",sa._tag).getRegex();sa.blockquote=Aa(sa.blockquote).replace("paragraph",sa.paragraph).getRegex();sa.normal=La({},sa);sa.gfm=La({},sa.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});sa.gfm.table=Aa(sa.gfm.table).replace("hr",sa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote",
" {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|textarea|!--)").replace("tag",sa._tag).getRegex();sa.pedantic=La({},sa.normal,{html:Aa("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",sa._comment).replace(/tag/g,
"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Y,paragraph:Aa(sa.normal._paragraph).replace("hr",sa.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",sa.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html",
"").getRegex()});var la={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Y,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[punct*](_+)(?=[\s]|$)|[^punct*_\s](_+)(?=[punct*\s]|$)|[punct*\s](_+)(?=[^punct*_\s])|[\s](_+)(?=[punct*])|[punct*](_+)(?=[punct*])/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};la.punctuation=Aa(la.punctuation).replace(/punctuation/g,la._punctuation).getRegex();la.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;la.escapedEmSt=/\\\*|\\_/g;la._comment=Aa(sa._comment).replace("(?:--\x3e|$)","--\x3e").getRegex();la.emStrong.lDelim=
Aa(la.emStrong.lDelim).replace(/punct/g,la._punctuation).getRegex();la.emStrong.rDelimAst=Aa(la.emStrong.rDelimAst,"g").replace(/punct/g,la._punctuation).getRegex();la.emStrong.rDelimUnd=Aa(la.emStrong.rDelimUnd,"g").replace(/punct/g,la._punctuation).getRegex();la._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;la._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;la._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
la.autolink=Aa(la.autolink).replace("scheme",la._scheme).replace("email",la._email).getRegex();la._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;la.tag=Aa(la.tag).replace("comment",la._comment).replace("attribute",la._attribute).getRegex();la._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;la._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;la._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;la.link=Aa(la.link).replace("label",
la._label).replace("href",la._href).replace("title",la._title).getRegex();la.reflink=Aa(la.reflink).replace("label",la._label).getRegex();la.reflinkSearch=Aa(la.reflinkSearch,"g").replace("reflink",la.reflink).replace("nolink",la.nolink).getRegex();la.normal=La({},la);la.pedantic=La({},la.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Aa(/^!?\[(label)\]\((.*?)\)/).replace("label",la._label).getRegex(),reflink:Aa(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",la._label).getRegex()});la.gfm=La({},la.normal,{escape:Aa(la.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});la.gfm.url=Aa(la.gfm.url,"i").replace("email",la.gfm._extended_email).getRegex();la.breaks=La({},la.gfm,{br:Aa(la.br).replace("{2,}","*").getRegex(),text:Aa(la.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});
var Ia=x,bb=function(ra,Oa){if(1>Oa)return"";for(var ja="";1<Oa;)Oa&1&&(ja+=ra),Oa>>=1,ra+=ra;return ja+ra};Y=function(){function ra(ja){this.tokens=[];this.tokens.links=Object.create(null);this.options=ja||Ia;this.options.tokenizer=this.options.tokenizer||new N;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;this.tokenizer.lexer=this;this.inlineQueue=[];this.state={inLink:!1,inRawBlock:!1,top:!0};ja={block:sa.normal,inline:la.normal};this.options.pedantic?(ja.block=sa.pedantic,
ja.inline=la.pedantic):this.options.gfm&&(ja.block=sa.gfm,ja.inline=this.options.breaks?la.breaks:la.gfm);this.tokenizer.rules=ja}ra.lex=function(ja,U){return(new ra(U)).lex(ja)};ra.lexInline=function(ja,U){return(new ra(U)).inlineTokens(ja)};var Oa=ra.prototype;Oa.lex=function(ja){ja=ja.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");for(this.blockTokens(ja,this.tokens);ja=this.inlineQueue.shift();)this.inlineTokens(ja.src,ja.tokens);return this.tokens};Oa.blockTokens=function(ja,U){var ka=this;void 0===
U&&(U=[]);this.options.pedantic&&(ja=ja.replace(/^ +$/gm,""));for(var wa,Ta,db,lb;ja;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(nb){return(wa=nb.call({lexer:ka},ja,U))?(ja=ja.substring(wa.raw.length),U.push(wa),!0):!1})))if(wa=this.tokenizer.space(ja))ja=ja.substring(wa.raw.length),wa.type&&U.push(wa);else if(wa=this.tokenizer.code(ja))ja=ja.substring(wa.raw.length),Ta=U[U.length-1],!Ta||"paragraph"!==Ta.type&&"text"!==Ta.type?U.push(wa):
(Ta.raw+="\n"+wa.raw,Ta.text+="\n"+wa.text,this.inlineQueue[this.inlineQueue.length-1].src=Ta.text);else if(wa=this.tokenizer.fences(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.heading(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.hr(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.blockquote(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.list(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=
this.tokenizer.html(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.def(ja))ja=ja.substring(wa.raw.length),Ta=U[U.length-1],!Ta||"paragraph"!==Ta.type&&"text"!==Ta.type?this.tokens.links[wa.tag]||(this.tokens.links[wa.tag]={href:wa.href,title:wa.title}):(Ta.raw+="\n"+wa.raw,Ta.text+="\n"+wa.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ta.text);else if(wa=this.tokenizer.table(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.lheading(ja))ja=ja.substring(wa.raw.length),
U.push(wa);else if(db=ja,this.options.extensions&&this.options.extensions.startBlock&&function(){var nb=Infinity,Mb=ja.slice(1),$b=void 0;ka.options.extensions.startBlock.forEach(function(Gc){$b=Gc.call({lexer:this},Mb);"number"===typeof $b&&0<=$b&&(nb=Math.min(nb,$b))});Infinity>nb&&0<=nb&&(db=ja.substring(0,nb+1))}(),this.state.top&&(wa=this.tokenizer.paragraph(db)))Ta=U[U.length-1],lb&&"paragraph"===Ta.type?(Ta.raw+="\n"+wa.raw,Ta.text+="\n"+wa.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-
1].src=Ta.text):U.push(wa),lb=db.length!==ja.length,ja=ja.substring(wa.raw.length);else if(wa=this.tokenizer.text(ja))ja=ja.substring(wa.raw.length),(Ta=U[U.length-1])&&"text"===Ta.type?(Ta.raw+="\n"+wa.raw,Ta.text+="\n"+wa.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ta.text):U.push(wa);else if(ja)if(Ta="Infinite loop on byte: "+ja.charCodeAt(0),this.options.silent){console.error(Ta);break}else throw Error(Ta);this.state.top=!0;return U};Oa.inline=function(ja,U){this.inlineQueue.push({src:ja,
tokens:U})};Oa.inlineTokens=function(ja,U){var ka=this;void 0===U&&(U=[]);var wa,Ta,db=ja,lb;if(this.tokens.links){var nb=Object.keys(this.tokens.links);if(0<nb.length)for(;null!=(Ta=this.tokenizer.rules.inline.reflinkSearch.exec(db));)nb.includes(Ta[0].slice(Ta[0].lastIndexOf("[")+1,-1))&&(db=db.slice(0,Ta.index)+"["+bb("a",Ta[0].length-2)+"]"+db.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ta=this.tokenizer.rules.inline.blockSkip.exec(db));)db=db.slice(0,Ta.index)+"["+
bb("a",Ta[0].length-2)+"]"+db.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Ta=this.tokenizer.rules.inline.escapedEmSt.exec(db));)db=db.slice(0,Ta.index)+"++"+db.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;ja;){Mb||(lb="");var Mb=!1;if(!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Gc){return(wa=Gc.call({lexer:ka},ja,U))?(ja=ja.substring(wa.raw.length),U.push(wa),!0):!1})))if(wa=this.tokenizer.escape(ja))ja=
ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.tag(ja))ja=ja.substring(wa.raw.length),(Ta=U[U.length-1])&&"text"===wa.type&&"text"===Ta.type?(Ta.raw+=wa.raw,Ta.text+=wa.text):U.push(wa);else if(wa=this.tokenizer.link(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.reflink(ja,this.tokens.links))ja=ja.substring(wa.raw.length),(Ta=U[U.length-1])&&"text"===wa.type&&"text"===Ta.type?(Ta.raw+=wa.raw,Ta.text+=wa.text):U.push(wa);else if(wa=this.tokenizer.emStrong(ja,
db,lb))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.codespan(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.br(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.del(ja))ja=ja.substring(wa.raw.length),U.push(wa);else if(wa=this.tokenizer.autolink(ja,n))ja=ja.substring(wa.raw.length),U.push(wa);else if(!this.state.inLink&&(wa=this.tokenizer.url(ja,n)))ja=ja.substring(wa.raw.length),U.push(wa);else{var $b=ja;this.options.extensions&&
this.options.extensions.startInline&&function(){var Gc=Infinity,zc=ja.slice(1),Bc=void 0;ka.options.extensions.startInline.forEach(function(uc){Bc=uc.call({lexer:this},zc);"number"===typeof Bc&&0<=Bc&&(Gc=Math.min(Gc,Bc))});Infinity>Gc&&0<=Gc&&($b=ja.substring(0,Gc+1))}();if(wa=this.tokenizer.inlineText($b,g))ja=ja.substring(wa.raw.length),"_"!==wa.raw.slice(-1)&&(lb=wa.raw.slice(-1)),Mb=!0,(Ta=U[U.length-1])&&"text"===Ta.type?(Ta.raw+=wa.raw,Ta.text+=wa.text):U.push(wa);else if(ja)if(db="Infinite loop on byte: "+
ja.charCodeAt(0),this.options.silent){console.error(db);break}else throw Error(db);}}return U};k(ra,null,[{key:"rules",get:function(){return{block:sa,inline:la}}}]);return ra}();var ib=x,Ja=function(ra,Oa,ja){if(ra){try{var U=decodeURIComponent(f(ja)).replace(T,"").toLowerCase()}catch(ka){return null}if(0===U.indexOf("javascript:")||0===U.indexOf("vbscript:")||0===U.indexOf("data:"))return null}Oa&&!R.test(ja)&&(ra=Oa,ca[" "+ra]||(M.test(ra)?ca[" "+ra]=ra+"/":ca[" "+ra]=b(ra,"/",!0)),ra=ca[" "+ra],
Oa=-1===ra.indexOf(":"),ja="//"===ja.substring(0,2)?Oa?ja:ra.replace(ba,"$1")+ja:"/"===ja.charAt(0)?Oa?ja:ra.replace(W,"$1")+ja:ra+ja);try{ja=encodeURI(ja).replace(/%25/g,"%")}catch(ka){return null}return ja},ma=function(){function ra(ja){this.options=ja||ib}var Oa=ra.prototype;Oa.code=function(ja,U,ka){U=(U||"").match(/\S*/)[0];if(this.options.highlight){var wa=this.options.highlight(ja,U);null!=wa&&wa!==ja&&(ka=!0,ja=wa)}ja=ja.replace(/\n$/,"")+"\n";return U?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+
ea(U,!0)+'"\x3e'+(ka?ja:ea(ja,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(ka?ja:ea(ja,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Oa.blockquote=function(ja){return"\x3cblockquote\x3e\n"+ja+"\x3c/blockquote\x3e\n"};Oa.html=function(ja){return ja};Oa.heading=function(ja,U,ka,wa){return this.options.headerIds?"\x3ch"+U+' id\x3d"'+this.options.headerPrefix+wa.slug(ka)+'"\x3e'+ja+"\x3c/h"+U+"\x3e\n":"\x3ch"+U+"\x3e"+ja+"\x3c/h"+U+"\x3e\n"};Oa.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":
"\x3chr\x3e\n"};Oa.list=function(ja,U,ka){var wa=U?"ol":"ul";return"\x3c"+wa+(U&&1!==ka?' start\x3d"'+ka+'"':"")+"\x3e\n"+ja+"\x3c/"+wa+"\x3e\n"};Oa.listitem=function(ja){return"\x3cli\x3e"+ja+"\x3c/li\x3e\n"};Oa.checkbox=function(ja){return"\x3cinput "+(ja?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?" /":"")+"\x3e "};Oa.paragraph=function(ja){return"\x3cp\x3e"+ja+"\x3c/p\x3e\n"};Oa.table=function(ja,U){U&&(U="\x3ctbody\x3e"+U+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+
ja+"\x3c/thead\x3e\n"+U+"\x3c/table\x3e\n"};Oa.tablerow=function(ja){return"\x3ctr\x3e\n"+ja+"\x3c/tr\x3e\n"};Oa.tablecell=function(ja,U){var ka=U.header?"th":"td";return(U.align?"\x3c"+ka+' align\x3d"'+U.align+'"\x3e':"\x3c"+ka+"\x3e")+ja+"\x3c/"+ka+"\x3e\n"};Oa.strong=function(ja){return"\x3cstrong\x3e"+ja+"\x3c/strong\x3e"};Oa.em=function(ja){return"\x3cem\x3e"+ja+"\x3c/em\x3e"};Oa.codespan=function(ja){return"\x3ccode\x3e"+ja+"\x3c/code\x3e"};Oa.br=function(){return this.options.xhtml?"\x3cbr/\x3e":
"\x3cbr\x3e"};Oa.del=function(ja){return"\x3cdel\x3e"+ja+"\x3c/del\x3e"};Oa.link=function(ja,U,ka){ja=Ja(this.options.sanitize,this.options.baseUrl,ja);if(null===ja)return ka;ja='\x3ca href\x3d"'+ea(ja)+'"';U&&(ja+=' title\x3d"'+U+'"');return ja+("\x3e"+ka+"\x3c/a\x3e")};Oa.image=function(ja,U,ka){ja=Ja(this.options.sanitize,this.options.baseUrl,ja);if(null===ja)return ka;ja='\x3cimg src\x3d"'+ja+'" alt\x3d"'+ka+'"';U&&(ja+=' title\x3d"'+U+'"');return ja+=this.options.xhtml?"/\x3e":"\x3e"};Oa.text=
function(ja){return ja};return ra}(),Fa=function(){function ra(){}var Oa=ra.prototype;Oa.strong=function(ja){return ja};Oa.em=function(ja){return ja};Oa.codespan=function(ja){return ja};Oa.del=function(ja){return ja};Oa.html=function(ja){return ja};Oa.text=function(ja){return ja};Oa.link=function(ja,U,ka){return""+ka};Oa.image=function(ja,U,ka){return""+ka};Oa.br=function(){return""};return ra}(),Pa=function(){function ra(){this.seen={}}var Oa=ra.prototype;Oa.serialize=function(ja){return ja.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,
"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Oa.getNextSafeSlug=function(ja,U){var ka=ja,wa=0;if(this.seen.hasOwnProperty(ka)){wa=this.seen[ja];do wa++,ka=ja+"-"+wa;while(this.seen.hasOwnProperty(ka))}U||(this.seen[ja]=wa,this.seen[ka]=0);return ka};Oa.slug=function(ja,U){void 0===U&&(U={});ja=this.serialize(ja);return this.getNextSafeSlug(ja,U.dryrun)};return ra}(),qa=x;Aa=function(){function ra(ja){this.options=ja||qa;this.options.renderer=
this.options.renderer||new ma;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Fa;this.slugger=new Pa}ra.parse=function(ja,U){return(new ra(U)).parse(ja)};ra.parseInline=function(ja,U){return(new ra(U)).parseInline(ja)};var Oa=ra.prototype;Oa.parse=function(ja,U){void 0===U&&(U=!0);var ka="",wa,Ta,db,lb=ja.length;for(wa=0;wa<lb;wa++){var nb=ja[wa];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[nb.type]){var Mb=
this.options.extensions.renderers[nb.type].call({parser:this},nb);if(!1!==Mb||!"space hr heading code table blockquote list html paragraph text".split(" ").includes(nb.type)){ka+=Mb||"";continue}}switch(nb.type){case "space":continue;case "hr":ka+=this.renderer.hr();continue;case "heading":ka+=this.renderer.heading(this.parseInline(nb.tokens),nb.depth,f(this.parseInline(nb.tokens,this.textRenderer)),this.slugger);continue;case "code":ka+=this.renderer.code(nb.text,nb.lang,nb.escaped);continue;case "table":var $b=
db="";var Gc=nb.header.length;for(Mb=0;Mb<Gc;Mb++)$b+=this.renderer.tablecell(this.parseInline(nb.header[Mb].tokens),{header:!0,align:nb.align[Mb]});db+=this.renderer.tablerow($b);var zc="";Gc=nb.rows.length;for(Mb=0;Mb<Gc;Mb++){var Bc=nb.rows[Mb];$b="";var uc=Bc.length;for(Ta=0;Ta<uc;Ta++)$b+=this.renderer.tablecell(this.parseInline(Bc[Ta].tokens),{header:!1,align:nb.align[Ta]});zc+=this.renderer.tablerow($b)}ka+=this.renderer.table(db,zc);continue;case "blockquote":zc=this.parse(nb.tokens);ka+=
this.renderer.blockquote(zc);continue;case "list":Ta=nb.ordered;uc=nb.start;Bc=nb.loose;Gc=nb.items.length;zc="";for(Mb=0;Mb<Gc;Mb++){db=nb.items[Mb];var id=db.checked;var Hb=db.task;$b="";if(db.task){var Ab=this.renderer.checkbox(id);Bc?0<db.tokens.length&&"paragraph"===db.tokens[0].type?(db.tokens[0].text=Ab+" "+db.tokens[0].text,db.tokens[0].tokens&&0<db.tokens[0].tokens.length&&"text"===db.tokens[0].tokens[0].type&&(db.tokens[0].tokens[0].text=Ab+" "+db.tokens[0].tokens[0].text)):db.tokens.unshift({type:"text",
text:Ab}):$b+=Ab}$b+=this.parse(db.tokens,Bc);zc+=this.renderer.listitem($b,Hb,id)}ka+=this.renderer.list(zc,Ta,uc);continue;case "html":ka+=this.renderer.html(nb.text);continue;case "paragraph":ka+=this.renderer.paragraph(this.parseInline(nb.tokens));continue;case "text":for(zc=nb.tokens?this.parseInline(nb.tokens):nb.text;wa+1<lb&&"text"===ja[wa+1].type;)nb=ja[++wa],zc+="\n"+(nb.tokens?this.parseInline(nb.tokens):nb.text);ka+=U?this.renderer.paragraph(zc):zc;continue;default:ja='Token with "'+nb.type+
'" type was not found.';if(this.options.silent){console.error(ja);return}throw Error(ja);}}return ka};Oa.parseInline=function(ja,U){U=U||this.renderer;var ka="",wa,Ta=ja.length;for(wa=0;wa<Ta;wa++){var db=ja[wa];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[db.type]){var lb=this.options.extensions.renderers[db.type].call({parser:this},db);if(!1!==lb||!"escape html link image strong em codespan br del text".split(" ").includes(db.type)){ka+=lb||"";
continue}}switch(db.type){case "escape":ka+=U.text(db.text);break;case "html":ka+=U.html(db.text);break;case "link":ka+=U.link(db.href,db.title,this.parseInline(db.tokens,U));break;case "image":ka+=U.image(db.href,db.title,db.text);break;case "strong":ka+=U.strong(this.parseInline(db.tokens,U));break;case "em":ka+=U.em(this.parseInline(db.tokens,U));break;case "codespan":ka+=U.codespan(db.text);break;case "br":ka+=U.br();break;case "del":ka+=U.del(this.parseInline(db.tokens,U));break;case "text":ka+=
U.text(db.text);break;default:ja='Token with "'+db.type+'" type was not found.';if(this.options.silent){console.error(ja);return}throw Error(ja);}}return ka};return ra}();var ya=Y,oa=Aa,va=La,Ua=function(ra){ra&&ra.sanitize&&!ra.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},eb=ea;h.options=h.setOptions=function(ra){va(h.defaults,
ra);x=h.defaults;return h};h.getDefaults=m;h.defaults=x;h.use=function(){for(var ra=arguments.length,Oa=Array(ra),ja=0;ja<ra;ja++)Oa[ja]=arguments[ja];var U=va.apply(void 0,[{}].concat(Oa)),ka=h.defaults.extensions||{renderers:{},childTokens:{}},wa;Oa.forEach(function(Ta){Ta.extensions&&(wa=!0,Ta.extensions.forEach(function(lb){if(!lb.name)throw Error("extension name required");if(lb.renderer){var nb=ka.renderers?ka.renderers[lb.name]:null;ka.renderers[lb.name]=nb?function(){for(var Mb=arguments.length,
$b=Array(Mb),Gc=0;Gc<Mb;Gc++)$b[Gc]=arguments[Gc];Mb=lb.renderer.apply(this,$b);!1===Mb&&(Mb=nb.apply(this,$b));return Mb}:lb.renderer}if(lb.tokenizer){if(!lb.level||"block"!==lb.level&&"inline"!==lb.level)throw Error("extension level must be 'block' or 'inline'");ka[lb.level]?ka[lb.level].unshift(lb.tokenizer):ka[lb.level]=[lb.tokenizer];lb.start&&("block"===lb.level?ka.startBlock?ka.startBlock.push(lb.start):ka.startBlock=[lb.start]:"inline"===lb.level&&(ka.startInline?ka.startInline.push(lb.start):
ka.startInline=[lb.start]))}lb.childTokens&&(ka.childTokens[lb.name]=lb.childTokens)}));Ta.renderer&&function(){var lb=h.defaults.renderer||new ma,nb=function($b){var Gc=lb[$b];lb[$b]=function(){for(var zc=arguments.length,Bc=Array(zc),uc=0;uc<zc;uc++)Bc[uc]=arguments[uc];zc=Ta.renderer[$b].apply(lb,Bc);!1===zc&&(zc=Gc.apply(lb,Bc));return zc}},Mb;for(Mb in Ta.renderer)nb(Mb);U.renderer=lb}();Ta.tokenizer&&function(){var lb=h.defaults.tokenizer||new N,nb=function($b){var Gc=lb[$b];lb[$b]=function(){for(var zc=
arguments.length,Bc=Array(zc),uc=0;uc<zc;uc++)Bc[uc]=arguments[uc];zc=Ta.tokenizer[$b].apply(lb,Bc);!1===zc&&(zc=Gc.apply(lb,Bc));return zc}},Mb;for(Mb in Ta.tokenizer)nb(Mb);U.tokenizer=lb}();if(Ta.walkTokens){var db=h.defaults.walkTokens;U.walkTokens=function(lb){Ta.walkTokens.call(this,lb);db&&db.call(this,lb)}}wa&&(U.extensions=ka);h.setOptions(U)})};h.walkTokens=function(ra,Oa){var ja=function(){var ka=U.value;Oa.call(h,ka);switch(ka.type){case "table":for(var wa=t(ka.header),Ta;!(Ta=wa()).done;)h.walkTokens(Ta.value.tokens,
Oa);for(wa=t(ka.rows);!(Ta=wa()).done;){Ta=t(Ta.value);for(var db;!(db=Ta()).done;)h.walkTokens(db.value.tokens,Oa)}break;case "list":h.walkTokens(ka.items,Oa);break;default:h.defaults.extensions&&h.defaults.extensions.childTokens&&h.defaults.extensions.childTokens[ka.type]?h.defaults.extensions.childTokens[ka.type].forEach(function(lb){h.walkTokens(ka[lb],Oa)}):ka.tokens&&h.walkTokens(ka.tokens,Oa)}};ra=t(ra);for(var U;!(U=ra()).done;)ja()};h.parseInline=function(ra,Oa){if("undefined"===typeof ra||
null===ra)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof ra)throw Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ra)+", string expected");Oa=va({},h.defaults,Oa||{});Ua(Oa);try{var ja=ya.lexInline(ra,Oa);Oa.walkTokens&&h.walkTokens(ja,Oa.walkTokens);return oa.parseInline(ja,Oa)}catch(U){U.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Oa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+
eb(U.message+"",!0)+"\x3c/pre\x3e";throw U;}};h.Parser=oa;h.parser=oa.parse;h.Renderer=ma;h.TextRenderer=Fa;h.Lexer=ya;h.lexer=ya.lex;h.Tokenizer=N;h.Slugger=Pa;return h.parse=h})};
shadow$provide[14]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={}))})(this,function(w){function k(qa,ya,oa){qa.fields=ya||[];qa.fname=oa;return qa}function p(qa){return null==qa?null:qa.fields}function q(qa){return 1===qa.length?ca(qa[0]):M(qa)}function t(qa){throw Error(qa);}function m(qa){function ya(){oa.push(ra+qa.substring(Oa,ja));
ra="";Oa=ja+1}const oa=[],va=qa.length;let Ua=null,eb=0,ra="",Oa,ja,U;qa+="";for(Oa=ja=0;ja<va;++ja)(U=qa[ja],"\\"===U)?(ra+=qa.substring(Oa,ja),ra+=qa.substring(++ja,++ja),Oa=ja):U===Ua?(ya(),Ua=null,eb=-1):Ua||(Oa===eb&&'"'===U?(Oa=ja+1,Ua=U):Oa===eb&&"'"===U?(Oa=ja+1,Ua=U):"."!==U||eb?"["===U?(ja>Oa&&ya(),eb=Oa=ja+1):"]"===U&&(eb||t("Access path missing open bracket: "+qa),0<eb&&ya(),eb=0,Oa=ja+1):ja>Oa?ya():Oa=ja+1);eb&&t("Access path missing closing bracket: "+qa);Ua&&t("Access path missing closing quote: "+
qa);ja>Oa&&(ja++,ya());return oa}function f(qa,ya,oa){const va=m(qa);qa=1===va.length?va[0]:qa;return k((oa&&oa.get||q)(va),[qa],ya||qa)}function b(qa,ya,oa){ya=[ya].concat([].slice.call(oa));console[qa].apply(console,ya)}function c(qa){return qa===Object(qa)}function e(qa,ya,oa,va){if("__proto__"!==ya){var Ua;if(c(oa)&&!B(oa))for(Ua in qa=c(qa[ya])?qa[ya]:qa[ya]={},oa)va&&(!0===va||va[Ua])?e(qa,Ua,oa[Ua]):"__proto__"!==Ua&&(qa[Ua]=oa[Ua]);else qa[ya]=oa}}function g(qa,ya){function oa(eb){va[eb.name]||
(va[eb.name]=1,Ua.push(eb))}if(null==qa)return ya;const va={},Ua=[];ya.forEach(oa);qa.forEach(oa);return Ua}function n(qa){return qa[qa.length-1]}function h(qa){return null==qa||""===qa?null:+qa}function x(qa,ya,oa,va){const Ua=oa(qa[0]);qa=oa(n(qa));ya*=qa-Ua;return[va(Ua-ya),va(qa-ya)]}function O(qa,ya,oa,va,Ua){const eb=va(qa[0]);qa=va(n(qa));ya=null!=ya?va(ya):(eb+qa)/2;return[Ua(ya+(eb-ya)*oa),Ua(ya+(qa-ya)*oa)]}function H(qa){return null!=qa?B(qa)?qa:[qa]:[]}function F(qa){return"function"===
typeof qa}function J(qa){for(let ya,oa,va=1,Ua=arguments.length;va<Ua;++va)for(oa in ya=arguments[va],ya)qa[oa]=ya[oa];return qa}function D(qa,ya){return ma.call(qa,ya)}function r(qa){return"[object Date]"===Object.prototype.toString.call(qa)}function z(qa){return"number"===typeof qa}function G(qa){return"string"===typeof qa}function T(qa,ya){let oa="";for(;0<=--ya;)oa+=qa;return oa}function R(qa){return B(qa)?"["+qa.map(R)+"]":c(qa)||G(qa)?JSON.stringify(qa).replace("\u2028","\\u2028").replace("\u2029",
"\\u2029"):qa}const ca=qa=>function(ya){return ya[qa]},M=qa=>{const ya=qa.length;return function(oa){for(let va=0;va<ya;++va)oa=oa[qa[va]];return oa}},ba=f("id"),W=k(qa=>qa,[],"identity"),ea=k(()=>0,[],"zero"),La=k(()=>1,[],"one"),aa=k(()=>!0,[],"true"),C=k(()=>!1,[],"false");var B=Array.isArray;const N=qa=>ya=>qa*Math.exp(ya),Y=qa=>ya=>Math.log(qa*ya),Aa=qa=>ya=>Math.sign(ya)*Math.log1p(Math.abs(ya/qa)),sa=qa=>ya=>Math.sign(ya)*Math.expm1(Math.abs(ya))*qa,la=qa=>ya=>0>ya?-Math.pow(-ya,qa):Math.pow(ya,
qa),Ia=(qa,ya)=>(qa<ya||null==qa)&&null!=ya?-1:(qa>ya||null==ya)&&null!=qa?1:(ya=ya instanceof Date?+ya:ya,qa=qa instanceof Date?+qa:qa)!==qa&&ya===ya?-1:ya!==ya&&qa===qa?1:0,bb=(qa,ya)=>1===qa.length?ib(qa[0],ya[0]):Ja(qa,ya,qa.length),ib=(qa,ya)=>function(oa,va){return Ia(qa(oa),qa(va))*ya},Ja=(qa,ya,oa)=>{ya.push(0);return function(va,Ua){var eb=0;let ra=-1;for(;0===eb&&++ra<oa;)eb=qa[ra],eb=Ia(eb(va),eb(Ua));return eb*ya[ra]}},ma=Object.prototype.hasOwnProperty,Fa={},Pa=qa=>z(qa)?qa:r(qa)?qa:
Date.parse(qa);w.Debug=4;w.Error=1;w.Info=3;w.None=0;w.Warn=2;w.accessor=k;w.accessorFields=p;w.accessorName=function(qa){return null==qa?null:qa.fname};w.array=H;w.ascending=Ia;w.clampRange=function(qa,ya,oa){let va=qa[0];qa=qa[1];let Ua;qa<va&&(Ua=qa,qa=va,va=Ua);Ua=qa-va;return Ua>=oa-ya?[ya,oa]:[va=Math.min(Math.max(va,ya),oa-Ua),va+Ua]};w.compare=function(qa,ya,oa){oa=oa||{};ya=H(ya)||[];const va=[],Ua=[],eb={},ra=oa.comparator||bb;H(qa).forEach((Oa,ja)=>{null!=Oa&&(va.push("descending"===ya[ja]?
-1:1),Ua.push(Oa=F(Oa)?Oa:f(Oa,null,oa)),(p(Oa)||[]).forEach(U=>eb[U]=1))});return 0===Ua.length?null:k(ra(Ua,va),Object.keys(eb))};w.constant=function(qa){return F(qa)?qa:()=>qa};w.debounce=function(qa,ya){let oa;return va=>{oa&&clearTimeout(oa);oa=setTimeout(()=>(ya(va),oa=null),qa)}};w.error=t;w.extend=J;w.extent=function(qa,ya){let oa=0,va,Ua,eb,ra;if(qa&&(va=qa.length))if(null==ya){for(Ua=qa[oa];oa<va&&(null==Ua||Ua!==Ua);Ua=qa[++oa]);for(eb=ra=Ua;oa<va;++oa)Ua=qa[oa],null!=Ua&&(Ua<eb&&(eb=Ua),
Ua>ra&&(ra=Ua))}else{for(Ua=ya(qa[oa]);oa<va&&(null==Ua||Ua!==Ua);Ua=ya(qa[++oa]));for(eb=ra=Ua;oa<va;++oa)Ua=ya(qa[oa]),null!=Ua&&(Ua<eb&&(eb=Ua),Ua>ra&&(ra=Ua))}return[eb,ra]};w.extentIndex=function(qa,ya){const oa=qa.length;let va=-1,Ua,eb,ra,Oa,ja;if(null==ya){for(;++va<oa;)if(eb=qa[va],null!=eb&&eb>=eb){Ua=ra=eb;break}if(va===oa)return[-1,-1];for(Oa=ja=va;++va<oa;)eb=qa[va],null!=eb&&(Ua>eb&&(Ua=eb,Oa=va),ra<eb&&(ra=eb,ja=va))}else{for(;++va<oa;)if(eb=ya(qa[va],va,qa),null!=eb&&eb>=eb){Ua=ra=
eb;break}if(va===oa)return[-1,-1];for(Oa=ja=va;++va<oa;)eb=ya(qa[va],va,qa),null!=eb&&(Ua>eb&&(Ua=eb,Oa=va),ra<eb&&(ra=eb,ja=va))}return[Oa,ja]};w.falsy=C;w.fastmap=function(qa){function ya(eb){return D(oa,eb)&&oa[eb]!==Fa}let oa={},va;const Ua={size:0,empty:0,object:oa,has:ya,get(eb){return ya(eb)?oa[eb]:void 0},set(eb,ra){ya(eb)||(++Ua.size,oa[eb]===Fa&&--Ua.empty);oa[eb]=ra;return this},delete(eb){ya(eb)&&(--Ua.size,++Ua.empty,oa[eb]=Fa);return this},clear(){Ua.size=Ua.empty=0;Ua.object=oa={}},
test(eb){return arguments.length?(va=eb,Ua):va},clean(){const eb={};let ra=0;for(const Oa in oa){const ja=oa[Oa];ja===Fa||va&&va(ja)||(eb[Oa]=ja,++ra)}Ua.size=ra;Ua.empty=0;Ua.object=oa=eb}};qa&&Object.keys(qa).forEach(eb=>{Ua.set(eb,qa[eb])});return Ua};w.field=f;w.flush=function(qa,ya,oa,va,Ua,eb){if(!oa&&0!==oa)return eb;oa=+oa;let ra=qa[0],Oa=n(qa);Oa<ra&&(qa=ra,ra=Oa,Oa=qa);qa=Math.abs(ya-ra);ya=Math.abs(Oa-ya);return qa<ya&&qa<=oa?va:ya<=oa?Ua:eb};w.hasOwnProperty=D;w.id=ba;w.identity=W;w.inherits=
function(qa,ya,oa){ya=qa.prototype=Object.create(ya.prototype);Object.defineProperty(ya,"constructor",{value:qa,writable:!0,enumerable:!0,configurable:!0});return J(ya,oa)};w.inrange=function(qa,ya,oa,va){let Ua=ya[0];ya=ya[ya.length-1];let eb;Ua>ya&&(eb=Ua,Ua=ya,ya=eb);return(void 0===oa||oa?Ua<=qa:Ua<qa)&&(void 0===va||va?qa<=ya:qa<ya)};w.isArray=B;w.isBoolean=function(qa){return"boolean"===typeof qa};w.isDate=r;w.isFunction=F;w.isIterable=function(qa){return qa&&F(qa[Symbol.iterator])};w.isNumber=
z;w.isObject=c;w.isRegExp=function(qa){return"[object RegExp]"===Object.prototype.toString.call(qa)};w.isString=G;w.key=function(qa,ya,oa){qa&&(qa=ya?H(qa).map(eb=>eb.replace(/\\(.)/g,"$1")):H(qa));const va=qa&&qa.length,Ua=oa&&oa.get||q;oa=eb=>Ua(ya?[eb]:m(eb));if(va)if(1===va){const eb=oa(qa[0]);oa=function(ra){return""+eb(ra)}}else{const eb=qa.map(oa);oa=function(ra){let Oa=""+eb[0](ra),ja=0;for(;++ja<va;)Oa+="|"+eb[ja](ra);return Oa}}else oa=function(){return""};return k(oa,qa,"key")};w.lerp=
function(qa,ya){const oa=qa[0];qa=n(qa);return(ya=+ya)?1===ya?qa:oa+ya*(qa-oa):oa};w.logger=function(qa,ya,oa=b){let va=qa||0;return{level(Ua){return arguments.length?(va=+Ua,this):va},error(){1<=va&&oa(ya||"error","ERROR",arguments);return this},warn(){2<=va&&oa(ya||"warn","WARN",arguments);return this},info(){3<=va&&oa(ya||"log","INFO",arguments);return this},debug(){4<=va&&oa(ya||"log","DEBUG",arguments);return this}}};w.lruCache=function(qa){qa=+qa||1E4;let ya,oa,va;const Ua=()=>{ya={};oa={};
va=0},eb=(ra,Oa)=>{++va>qa&&(oa=ya,ya={},va=1);return ya[ra]=Oa};Ua();return{clear:Ua,has:ra=>D(ya,ra)||D(oa,ra),get:ra=>D(ya,ra)?ya[ra]:D(oa,ra)?eb(ra,oa[ra]):void 0,set:(ra,Oa)=>D(ya,ra)?ya[ra]=Oa:eb(ra,Oa)}};w.merge=function(qa,ya,oa,va){const Ua=ya.length,eb=oa.length;if(!eb)return ya;if(!Ua)return oa;va=va||new ya.constructor(Ua+eb);let ra=0,Oa=0,ja=0;for(;ra<Ua&&Oa<eb;++ja)va[ja]=0<qa(ya[ra],oa[Oa])?oa[Oa++]:ya[ra++];for(;ra<Ua;++ra,++ja)va[ja]=ya[ra];for(;Oa<eb;++Oa,++ja)va[ja]=oa[Oa];return va};
w.mergeConfig=function(...qa){return qa.reduce((ya,oa)=>{for(const va in oa)"signals"===va?ya.signals=g(ya.signals,oa.signals):e(ya,va,oa[va],"legend"===va?{layout:1}:"style"===va?!0:null);return ya},{})};w.one=La;w.pad=function(qa,ya,oa,va){oa=oa||" ";qa+="";ya-=qa.length;return 0>=ya?qa:"left"===va?T(oa,ya)+qa:"center"===va?T(oa,~~(ya/2))+qa+T(oa,Math.ceil(ya/2)):qa+T(oa,ya)};w.panLinear=function(qa,ya){return x(qa,ya,h,W)};w.panLog=function(qa,ya){var oa=Math.sign(qa[0]);return x(qa,ya,Y(oa),N(oa))};
w.panPow=function(qa,ya,oa){return x(qa,ya,la(oa),la(1/oa))};w.panSymlog=function(qa,ya,oa){return x(qa,ya,Aa(oa),sa(oa))};w.peek=n;w.quarter=function(qa){return 1+~~((new Date(qa)).getMonth()/3)};w.repeat=T;w.span=function(qa){return qa&&n(qa)-qa[0]||0};w.splitAccessPath=m;w.stringValue=R;w.toBoolean=function(qa){return null==qa||""===qa?null:qa&&"false"!==qa&&"0"!==qa?!!qa:!1};w.toDate=function(qa,ya){ya=ya||Pa;return null==qa||""===qa?null:ya(qa)};w.toNumber=h;w.toSet=function(qa){const ya={},
oa=qa.length;for(let va=0;va<oa;++va)ya[qa[va]]=!0;return ya};w.toString=function(qa){return null==qa||""===qa?null:qa+""};w.truncate=function(qa,ya,oa,va){va=null!=va?va:"";qa+="";const Ua=qa.length,eb=Math.max(0,ya-va.length);return Ua<=ya?qa:"left"===oa?va+qa.slice(Ua-eb):"center"===oa?qa.slice(0,Math.ceil(eb/2))+va+qa.slice(Ua-~~(eb/2)):qa.slice(0,eb)+va};w.truthy=aa;w.utcquarter=function(qa){return 1+~~((new Date(qa)).getUTCMonth()/3)};w.visitArray=function(qa,ya,oa){if(qa)if(ya){const va=qa.length;
for(let Ua=0;Ua<va;++Ua){const eb=ya(qa[Ua]);eb&&oa(eb,Ua,qa)}}else qa.forEach(oa)};w.writeConfig=e;w.zero=ea;w.zoomLinear=function(qa,ya,oa){return O(qa,ya,oa,h,W)};w.zoomLog=function(qa,ya,oa){const va=Math.sign(qa[0]);return O(qa,ya,oa,Y(va),N(va))};w.zoomPow=function(qa,ya,oa,va){return O(qa,ya,oa,la(va),la(1/va))};w.zoomSymlog=function(qa,ya,oa,va){return O(qa,ya,oa,Aa(va),sa(va))};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[15]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w=w||self,k(w.topojson=w.topojson||{}))})(this,function(w){function k(h){return h}function p(h){if(null==h)return k;var x,O,H=h.scale[0],F=h.scale[1],J=h.translate[0],D=h.translate[1];return function(r,z){z||(x=O=0);z=2;var G=r.length,T=Array(G);T[0]=(x+=r[0])*H+J;for(T[1]=(O+=r[1])*F+D;z<G;)T[z]=r[z],++z;return T}}function q(h){function x(G){G=
H(G);G[0]<J&&(J=G[0]);G[0]>r&&(r=G[0]);G[1]<D&&(D=G[1]);G[1]>z&&(z=G[1])}function O(G){switch(G.type){case "GeometryCollection":G.geometries.forEach(O);break;case "Point":x(G.coordinates);break;case "MultiPoint":G.coordinates.forEach(x)}}var H=p(h.transform),F,J=Infinity,D=J,r=-J,z=-J;h.arcs.forEach(function(G){for(var T=-1,R=G.length,ca;++T<R;)ca=H(G[T],T),ca[0]<J&&(J=ca[0]),ca[0]>r&&(r=ca[0]),ca[1]<D&&(D=ca[1]),ca[1]>z&&(z=ca[1])});for(F in h.objects)O(h.objects[F]);return[J,D,r,z]}function t(h,
x){var O=x.id,H=x.bbox,F=null==x.properties?{}:x.properties;h=m(h,x);return null==O&&null==H?{type:"Feature",properties:F,geometry:h}:null==H?{type:"Feature",id:O,properties:F,geometry:h}:{type:"Feature",id:O,bbox:H,properties:F,geometry:h}}function m(h,x){function O(G){return r(G)}function H(G){for(var T=[],R=0,ca=G.length;R<ca;++R){var M=G[R],ba=T;ba.length&&ba.pop();for(var W=z[0>M?~M:M],ea=0,La=W.length;ea<La;++ea)ba.push(r(W[ea],ea));if(0>M)for(M=ba,ba=M.length,W=ba-La;W<--ba;)La=M[W],M[W++]=
M[ba],M[ba]=La}2>T.length&&T.push(T[0]);return T}function F(G){for(G=H(G);4>G.length;)G.push(G[0]);return G}function J(G){return G.map(F)}function D(G){var T=G.type;switch(T){case "GeometryCollection":return{type:T,geometries:G.geometries.map(D)};case "Point":G=r(G.coordinates);break;case "MultiPoint":G=G.coordinates.map(O);break;case "LineString":G=H(G.arcs);break;case "MultiLineString":G=G.arcs.map(H);break;case "Polygon":G=J(G.arcs);break;case "MultiPolygon":G=G.arcs.map(J);break;default:return null}return{type:T,
coordinates:G}}var r=p(h.transform),z=h.arcs;return D(x)}function f(h,x){function O(G){var T=h.arcs[0>G?~G:G],R=T[0];if(h.transform){var ca=[0,0];T.forEach(function(M){ca[0]+=M[0];ca[1]+=M[1]})}else ca=T[T.length-1];return 0>G?[ca,R]:[R,ca]}function H(G,T){for(var R in G){var ca=G[R];delete T[ca.start];delete ca.start;delete ca.end;ca.forEach(function(M){F[0>M?~M:M]=1});r.push(ca)}}var F={},J={},D={},r=[],z=-1;x.forEach(function(G,T){var R=h.arcs[0>G?~G:G];3>R.length&&!R[1][0]&&!R[1][1]&&(R=x[++z],
x[z]=G,x[T]=R)});x.forEach(function(G){var T=O(G),R=T[0],ca=T[1];(T=D[R])?(delete D[T.end],T.push(G),T.end=ca,(G=J[ca])?(delete J[G.start],R=G===T?T:T.concat(G),J[R.start=T.start]=D[R.end=G.end]=R):J[T.start]=D[T.end]=T):(T=J[ca])?(delete J[T.start],T.unshift(G),T.start=R,(G=D[R])?(delete D[G.end],R=G===T?T:G.concat(T),J[R.start=G.start]=D[R.end=T.end]=R):J[T.start]=D[T.end]=T):(T=[G],J[T.start=R]=D[T.end=ca]=T)});H(D,J);H(J,D);x.forEach(function(G){F[0>G?~G:G]||r.push([G])});return r}function b(h,
x,O){var H;if(1<arguments.length)var F=c(h,x,O);else{var J=0;for(F=Array(H=h.arcs.length);J<H;++J)F[J]=J}return{type:"MultiLineString",arcs:f(h,F)}}function c(h,x,O){function H(T){var R=0>T?~T:T;(z[R]||(z[R]=[])).push({i:T,g:G})}function F(T){T.forEach(H)}function J(T){T.forEach(F)}function D(T){switch(G=T,T.type){case "GeometryCollection":T.geometries.forEach(D);break;case "LineString":F(T.arcs);break;case "MultiLineString":case "Polygon":J(T.arcs);break;case "MultiPolygon":T.arcs.forEach(J)}}var r=
[],z=[],G;D(x);z.forEach(null==O?function(T){r.push(T[0].i)}:function(T){O(T[0].g,T[T.length-1].g)&&r.push(T[0].i)});return r}function e(h,x){function O(z){switch(z.type){case "GeometryCollection":z.geometries.forEach(O);break;case "Polygon":H(z.arcs);break;case "MultiPolygon":z.arcs.forEach(H)}}function H(z){z.forEach(function(G){G.forEach(function(T){(J[T=0>T?~T:T]||(J[T]=[])).push(z)})});D.push(z)}function F(z){z=m(h,{type:"Polygon",arcs:[z]}).coordinates[0];for(var G=-1,T=z.length,R,ca=z[T-1],
M=0;++G<T;)R=ca,ca=z[G],M+=R[0]*ca[1]-R[1]*ca[0];return Math.abs(M)}var J={},D=[],r=[];x.forEach(O);D.forEach(function(z){if(!z._){var G=[],T=[z];z._=1;for(r.push(G);z=T.pop();)G.push(z),z.forEach(function(R){R.forEach(function(ca){J[0>ca?~ca:ca].forEach(function(M){M._||(M._=1,T.push(M))})})})}});D.forEach(function(z){delete z._});return{type:"MultiPolygon",arcs:r.map(function(z){var G=[];z.forEach(function(M){M.forEach(function(ba){ba.forEach(function(W){2>J[0>W?~W:W].length&&G.push(W)})})});G=
f(h,G);if(1<(z=G.length))for(var T=1,R=F(G[0]),ca;T<z;++T)(ca=F(G[T]))>R&&(R=G[0],G[0]=G[T],G[T]=R,R=ca);return G}).filter(function(z){return 0<z.length})}}function g(h,x){for(var O=0,H=h.length;O<H;){var F=O+H>>>1;h[F]<x?O=F+1:H=F}return O}function n(h){if(null==h)return k;var x,O,H=h.scale[0],F=h.scale[1],J=h.translate[0],D=h.translate[1];return function(r,z){z||(x=O=0);z=2;var G=r.length,T=Array(G),R=Math.round((r[0]-J)/H),ca=Math.round((r[1]-D)/F);T[0]=R-x;x=R;T[1]=ca-O;for(O=ca;z<G;)T[z]=r[z],
++z;return T}}w.bbox=q;w.feature=function(h,x){"string"===typeof x&&(x=h.objects[x]);return"GeometryCollection"===x.type?{type:"FeatureCollection",features:x.geometries.map(function(O){return t(h,O)})}:t(h,x)};w.merge=function(h){return m(h,e.apply(this,arguments))};w.mergeArcs=e;w.mesh=function(h){return m(h,b.apply(this,arguments))};w.meshArcs=b;w.neighbors=function(h){function x(ba,W){ba.forEach(function(ea){0>ea&&(ea=~ea);var La=F[ea];La?La.push(W):F[ea]=[W]})}function O(ba,W){ba.forEach(function(ea){x(ea,
W)})}function H(ba,W){if("GeometryCollection"===ba.type)ba.geometries.forEach(function(ea){H(ea,W)});else if(ba.type in D)D[ba.type](ba.arcs,W)}var F={},J=h.map(function(){return[]}),D={LineString:x,MultiLineString:O,Polygon:O,MultiPolygon:function(ba,W){ba.forEach(function(ea){O(ea,W)})}};h.forEach(H);for(var r in F){h=F[r];for(var z=h.length,G=0;G<z;++G)for(var T=G+1;T<z;++T){var R=h[G],ca=h[T],M;(M=J[R])[r=g(M,ca)]!==ca&&M.splice(r,0,ca);(M=J[ca])[r=g(M,R)]!==R&&M.splice(r,0,R)}}return J};w.quantize=
function(h,x){function O(R){return G(R)}function H(R){switch(R.type){case "GeometryCollection":var ca={type:"GeometryCollection",geometries:R.geometries.map(H)};break;case "Point":ca={type:"Point",coordinates:G(R.coordinates)};break;case "MultiPoint":ca={type:"MultiPoint",coordinates:R.coordinates.map(O)};break;default:return R}null!=R.id&&(ca.id=R.id);null!=R.bbox&&(ca.bbox=R.bbox);null!=R.properties&&(ca.properties=R.properties);return ca}if(h.transform)throw Error("already quantized");if(x&&x.scale)var F=
h.bbox;else{if(!(2<=(z=Math.floor(x))))throw Error("n must be 2");F=h.bbox||q(h);x=F[0];var J=F[1],D=F[2],r=F[3],z;x={scale:[D-x?(D-x)/(z-1):1,r-J?(r-J)/(z-1):1],translate:[x,J]}}var G=n(x),T;J=h.objects;D={};for(T in J)D[T]=H(J[T]);return{type:"Topology",bbox:F,transform:x,objects:D,arcs:h.arcs.map(function(R){var ca=0,M=1,ba=R.length,W,ea=Array(ba);for(ea[0]=G(R[0],0);++ca<ba;)if((W=G(R[ca],ca))[0]||W[1])ea[M++]=W;1===M&&(ea[M++]=[0,0]);ea.length=M;return ea})}};w.transform=p;w.untransform=n;Object.defineProperty(w,
"__esModule",{value:!0})})};
shadow$provide[16]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega))})(this,function(w,k){function p(U){const ka=k.array(U).slice(),wa={};ka.length||k.error("Missing time unit.");ka.forEach(Ta=>{k.hasOwnProperty(G,Ta)?wa[Ta]=1:k.error(`Invalid time unit: ${Ta}.`)});1<(wa.week||wa.day?1:0)+(wa.quarter||wa.month||
wa.date?1:0)+(wa.dayofyear?1:0)&&k.error(`Incompatible time units: ${U}`);ka.sort((Ta,db)=>G[Ta]-G[db]);return ka}function q(U,ka,wa,Ta){function db(lb){return U(lb=0===arguments.length?new Date:new Date(+lb)),lb}db.floor=function(lb){return U(lb=new Date(+lb)),lb};db.ceil=function(lb){return U(lb=new Date(lb-1)),ka(lb,1),U(lb),lb};db.round=function(lb){var nb=db(lb),Mb=db.ceil(lb);return lb-nb<Mb-lb?nb:Mb};db.offset=function(lb,nb){return ka(lb=new Date(+lb),null==nb?1:Math.floor(nb)),lb};db.range=
function(lb,nb,Mb){var $b=[],Gc;lb=db.ceil(lb);Mb=null==Mb?1:Math.floor(Mb);if(!(lb<nb&&0<Mb))return $b;do $b.push(Gc=new Date(+lb)),ka(lb,Mb),U(lb);while(Gc<lb&&lb<nb);return $b};db.filter=function(lb){return q(function(nb){if(nb>=nb)for(;U(nb),!lb(nb);)nb.setTime(nb-1)},function(nb,Mb){if(nb>=nb)if(0>Mb)for(;0>=++Mb;)for(;ka(nb,-1),!lb(nb););else for(;0<=--Mb;)for(;ka(nb,1),!lb(nb););})};wa&&(db.count=function(lb,nb){R.setTime(+lb);ca.setTime(+nb);U(R);U(ca);return Math.floor(wa(R,ca))},db.every=
function(lb){lb=Math.floor(lb);return isFinite(lb)&&0<lb?1<lb?db.filter(Ta?function(nb){return 0===Ta(nb)%lb}:function(nb){return 0===db.count(0,nb)%lb}):db:null});return db}function t(U){return q(function(ka){ka.setDate(ka.getDate()-(ka.getDay()+7-U)%7);ka.setHours(0,0,0,0)},function(ka,wa){ka.setDate(ka.getDate()+7*wa)},function(ka,wa){return(wa-ka-6E4*(wa.getTimezoneOffset()-ka.getTimezoneOffset()))/ba})}function m(U){return q(function(ka){ka.setUTCDate(ka.getUTCDate()-(ka.getUTCDay()+7-U)%7);
ka.setUTCHours(0,0,0,0)},function(ka,wa){ka.setUTCDate(ka.getUTCDate()+7*wa)},function(ka,wa){return(wa-ka)/ba})}function f(U,ka){return null==U||null==ka?NaN:U<ka?-1:U>ka?1:U>=ka?0:NaN}function b(U){function ka(lb,nb,Mb=0,$b=lb.length){if(Mb<$b){if(0!==Ta(nb,nb))return $b;do{const Gc=Mb+$b>>>1;0>db(lb[Gc],nb)?Mb=Gc+1:$b=Gc}while(Mb<$b)}return Mb}let wa=U,Ta=U,db=U;2!==U.length&&(wa=(lb,nb)=>U(lb)-nb,Ta=f,db=(lb,nb)=>f(U(lb),nb));return{left:ka,center:function(lb,nb,Mb=0,$b=lb.length){$b=ka(lb,nb,
Mb,$b-1);return $b>Mb&&wa(lb[$b-1],nb)>-wa(lb[$b],nb)?$b-1:$b},right:function(lb,nb,Mb=0,$b=lb.length){if(Mb<$b){if(0!==Ta(nb,nb))return $b;do{const Gc=Mb+$b>>>1;0>=db(lb[Gc],nb)?Mb=Gc+1:$b=Gc}while(Mb<$b)}return Mb}}}function c(U,ka,wa){var Ta=Math.abs(ka-U)/Math.max(0,wa);wa=Math.pow(10,Math.floor(Math.log(Ta)/Math.LN10));Ta/=wa;Ta>=ib?wa*=10:Ta>=Ja?wa*=5:Ta>=ma&&(wa*=2);return ka<U?-wa:wa}function e(U){Fa.setFullYear(U);Fa.setMonth(0);Fa.setDate(1);Fa.setHours(0,0,0,0);return Fa}function g(U){return aa.count(e(U.getFullYear())-
1,U)}function n(U){return C.count(e(U.getFullYear())-1,U)}function h(U,ka,wa,Ta,db,lb,nb){return 0<=U&&100>U?(ka=new Date(-1,ka,wa,Ta,db,lb,nb),ka.setFullYear(U),ka):new Date(U,ka,wa,Ta,db,lb,nb)}function x(U){const ka=Date.UTC(U.getUTCFullYear(),0,1);return sa.count(ka-1,U)}function O(U){const ka=Date.UTC(U.getUTCFullYear(),0,1);return la.count(ka-1,U)}function H(U){Fa.setTime(Date.UTC(U,0,1));return Fa.getUTCDay()}function F(U,ka,wa,Ta,db,lb,nb){return 0<=U&&100>U?(U=new Date(Date.UTC(-1,ka,wa,
Ta,db,lb,nb)),U.setUTCFullYear(wa.y),U):new Date(Date.UTC(U,ka,wa,Ta,db,lb,nb))}function J(U,ka,wa,Ta,db){const lb=ka||1,nb=k.peek(U);ka=(Ab,dc,Wb)=>{Wb=Wb||Ab;return D(wa[Wb],Ta[Wb],Ab===nb&&lb,dc)};const Mb=new Date;U=k.toSet(U);const $b=U.year?ka("year"):k.constant(2012),Gc=U.month?ka("month"):U.quarter?ka("quarter"):k.zero,zc=U.week&&U.day?ka("day",1,"weekday"):U.week?ka("week",1):U.day?ka("day",1):U.date?ka("date",1):U.dayofyear?ka("dayofyear",1):k.one,Bc=U.hours?ka("hours"):k.zero,uc=U.minutes?
ka("minutes"):k.zero,id=U.seconds?ka("seconds"):k.zero,Hb=U.milliseconds?ka("milliseconds"):k.zero;return function(Ab){Mb.setTime(+Ab);Ab=$b(Mb);return db(Ab,Gc(Mb),zc(Mb,Ab),Bc(Mb),uc(Mb),id(Mb),Hb(Mb))}}function D(U,ka,wa,Ta){const db=1>=wa?U:Ta?(lb,nb)=>Ta+wa*Math.floor((U(lb,nb)-Ta)/wa):(lb,nb)=>wa*Math.floor(U(lb,nb)/wa);return ka?(lb,nb)=>ka(db(lb,nb),nb):db}function r(U,ka,wa){return ka+7*U-(wa+6)%7}const z="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),
G=z.reduce((U,ka,wa)=>(U[ka]=1+wa,U),{}),T={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var R=new Date,ca=new Date,M=q(function(){},function(U,ka){U.setTime(+U+ka)},function(U,ka){return ka-U});M.every=function(U){U=Math.floor(U);return isFinite(U)&&0<U?1<U?q(function(ka){ka.setTime(Math.floor(ka/U)*U)},function(ka,
wa){ka.setTime(+ka+wa*U)},function(ka,wa){return(wa-ka)/U}):M:null};const ba=6048E5;var W=q(function(U){U.setTime(U-U.getMilliseconds())},function(U,ka){U.setTime(+U+1E3*ka)},function(U,ka){return(ka-U)/1E3},function(U){return U.getUTCSeconds()}),ea=q(function(U){U.setTime(U-U.getMilliseconds()-1E3*U.getSeconds())},function(U,ka){U.setTime(+U+6E4*ka)},function(U,ka){return(ka-U)/6E4},function(U){return U.getMinutes()}),La=q(function(U){U.setTime(U-U.getMilliseconds()-1E3*U.getSeconds()-6E4*U.getMinutes())},
function(U,ka){U.setTime(+U+36E5*ka)},function(U,ka){return(ka-U)/36E5},function(U){return U.getHours()}),aa=q(U=>U.setHours(0,0,0,0),(U,ka)=>U.setDate(U.getDate()+ka),(U,ka)=>(ka-U-6E4*(ka.getTimezoneOffset()-U.getTimezoneOffset()))/864E5,U=>U.getDate()-1),C=t(0);t(1);t(2);t(3);t(4);t(5);t(6);var B=q(function(U){U.setDate(1);U.setHours(0,0,0,0)},function(U,ka){U.setMonth(U.getMonth()+ka)},function(U,ka){return ka.getMonth()-U.getMonth()+12*(ka.getFullYear()-U.getFullYear())},function(U){return U.getMonth()}),
N=q(function(U){U.setMonth(0,1);U.setHours(0,0,0,0)},function(U,ka){U.setFullYear(U.getFullYear()+ka)},function(U,ka){return ka.getFullYear()-U.getFullYear()},function(U){return U.getFullYear()});N.every=function(U){return isFinite(U=Math.floor(U))&&0<U?q(function(ka){ka.setFullYear(Math.floor(ka.getFullYear()/U)*U);ka.setMonth(0,1);ka.setHours(0,0,0,0)},function(ka,wa){ka.setFullYear(ka.getFullYear()+wa*U)}):null};var Y=q(function(U){U.setUTCSeconds(0,0)},function(U,ka){U.setTime(+U+6E4*ka)},function(U,
ka){return(ka-U)/6E4},function(U){return U.getUTCMinutes()}),Aa=q(function(U){U.setUTCMinutes(0,0,0)},function(U,ka){U.setTime(+U+36E5*ka)},function(U,ka){return(ka-U)/36E5},function(U){return U.getUTCHours()}),sa=q(function(U){U.setUTCHours(0,0,0,0)},function(U,ka){U.setUTCDate(U.getUTCDate()+ka)},function(U,ka){return(ka-U)/864E5},function(U){return U.getUTCDate()-1}),la=m(0);m(1);m(2);m(3);m(4);m(5);m(6);var Ia=q(function(U){U.setUTCDate(1);U.setUTCHours(0,0,0,0)},function(U,ka){U.setUTCMonth(U.getUTCMonth()+
ka)},function(U,ka){return ka.getUTCMonth()-U.getUTCMonth()+12*(ka.getUTCFullYear()-U.getUTCFullYear())},function(U){return U.getUTCMonth()}),bb=q(function(U){U.setUTCMonth(0,1);U.setUTCHours(0,0,0,0)},function(U,ka){U.setUTCFullYear(U.getUTCFullYear()+ka)},function(U,ka){return ka.getUTCFullYear()-U.getUTCFullYear()},function(U){return U.getUTCFullYear()});bb.every=function(U){return isFinite(U=Math.floor(U))&&0<U?q(function(ka){ka.setUTCFullYear(Math.floor(ka.getUTCFullYear()/U)*U);ka.setUTCMonth(0,
1);ka.setUTCHours(0,0,0,0)},function(ka,wa){ka.setUTCFullYear(ka.getUTCFullYear()+wa*U)}):null};var ib=Math.sqrt(50),Ja=Math.sqrt(10),ma=Math.sqrt(2);const Fa=new Date,Pa={year:U=>U.getFullYear(),quarter:U=>Math.floor(U.getMonth()/3),month:U=>U.getMonth(),date:U=>U.getDate(),hours:U=>U.getHours(),minutes:U=>U.getMinutes(),seconds:U=>U.getSeconds(),milliseconds:U=>U.getMilliseconds(),dayofyear:U=>g(U),week:U=>n(U),weekday:(U,ka)=>r(n(U),U.getDay(),e(ka).getDay()),day:(U,ka)=>r(1,U.getDay(),e(ka).getDay())},
qa={quarter:U=>3*U,week:(U,ka)=>r(U,0,e(ka).getDay())},ya={year:U=>U.getUTCFullYear(),quarter:U=>Math.floor(U.getUTCMonth()/3),month:U=>U.getUTCMonth(),date:U=>U.getUTCDate(),hours:U=>U.getUTCHours(),minutes:U=>U.getUTCMinutes(),seconds:U=>U.getUTCSeconds(),milliseconds:U=>U.getUTCMilliseconds(),dayofyear:U=>x(U),week:U=>O(U),day:(U,ka)=>r(1,U.getUTCDay(),H(ka)),weekday:(U,ka)=>r(O(U),U.getUTCDay(),H(ka))},oa={quarter:U=>3*U,week:(U,ka)=>r(U,0,H(ka))},va={year:N,quarter:B.every(3),month:B,week:C,
date:aa,day:aa,dayofyear:aa,hours:La,minutes:ea,seconds:W,milliseconds:M},Ua={year:bb,quarter:Ia.every(3),month:Ia,week:la,date:sa,day:sa,dayofyear:sa,hours:Aa,minutes:Y,seconds:W,milliseconds:M};W=6048E5;ea=2592E6;const eb=31536E6,ra="year month date hours minutes seconds milliseconds".split(" ");La=ra.slice(0,-1);B=La.slice(0,-1);N=B.slice(0,-1);Y=N.slice(0,-1);Aa=["year","month"];const Oa=["year"],ja=[[La,1,1E3],[La,5,5E3],[La,15,15E3],[La,30,3E4],[B,1,6E4],[B,5,3E5],[B,15,9E5],[B,30,18E5],[N,
1,36E5],[N,3,108E5],[N,6,216E5],[N,12,432E5],[Y,1,864E5],[["year","week"],1,W],[Aa,1,ea],[Aa,3,3*ea],[Oa,1,eb]];w.DATE="date";w.DAY="day";w.DAYOFYEAR="dayofyear";w.HOURS="hours";w.MILLISECONDS="milliseconds";w.MINUTES="minutes";w.MONTH="month";w.QUARTER="quarter";w.SECONDS="seconds";w.TIME_UNITS=z;w.WEEK="week";w.YEAR="year";w.dayofyear=function(U){return g(new Date(U))};w.timeBin=function(U){var ka=U.extent;U=U.maxbins||40;var wa=Math.abs(k.span(ka))/U;let Ta=b(db=>db[2]).right(ja,wa);Ta===ja.length?
(wa=Oa,ka=c(ka[0]/eb,ka[1]/eb,U)):Ta?(Ta=ja[wa/ja[Ta-1][2]<ja[Ta][2]/wa?Ta-1:Ta],wa=Ta[0],ka=Ta[1]):(wa=ra,ka=Math.max(c(ka[0],ka[1],U),1));return{units:wa,step:ka}};w.timeFloor=function(U,ka){return J(U,ka||1,Pa,qa,h)};w.timeInterval=function(U){return va[U]};w.timeOffset=function(U,ka,wa){return(U=va[U])?U.offset(ka,wa):void 0};w.timeSequence=function(U,ka,wa,Ta){return(U=va[U])?U.range(ka,wa,Ta):void 0};w.timeUnitSpecifier=function(U,ka){ka=k.extend({},T,ka);U=p(U);const wa=U.length;let Ta="",
db,lb,nb;for(db=0;db<wa;)for(lb=U.length;lb>db;--lb)if(nb=U.slice(db,lb).join("-"),null!=ka[nb]){Ta+=ka[nb];db=lb;break}return Ta.trim()};w.timeUnits=p;w.utcFloor=function(U,ka){return J(U,ka||1,ya,oa,F)};w.utcInterval=function(U){return Ua[U]};w.utcOffset=function(U,ka,wa){return(U=Ua[U])?U.offset(ka,wa):void 0};w.utcSequence=function(U,ka,wa,Ta){return(U=Ua[U])?U.range(ka,wa,Ta):void 0};w.utcdayofyear=function(U){return x(new Date(U))};w.utcweek=function(U){return O(new Date(U))};w.week=function(U){return n(new Date(U))};
Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(16),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(rb){const Bb={};return ic=>Bb[ic]||(Bb[ic]=rb(ic))}function t(rb,Bb){if(0>(Bb=(rb=Bb?rb.toExponential(Bb-1):rb.toExponential()).indexOf("e")))return null;var ic=rb.slice(0,Bb);return[1<
ic.length?ic[0]+ic.slice(2):ic,+rb.slice(Bb+1)]}function m(rb){return rb=t(Math.abs(rb)),rb?rb[1]:NaN}function f(rb,Bb){return function(ic,Uc){for(var Rd=ic.length,Md=[],Gd=0,Pd=rb[0],Me=0;0<Rd&&0<Pd;){Me+Pd+1>Uc&&(Pd=Math.max(1,Uc-Me));Md.push(ic.substring(Rd-=Pd,Rd+Pd));if((Me+=Pd+1)>Uc)break;Pd=rb[Gd=(Gd+1)%rb.length]}return Md.reverse().join(Bb)}}function b(rb){return function(Bb){return Bb.replace(/[0-9]/g,function(ic){return rb[+ic]})}}function c(rb){if(!(Bb=We.exec(rb)))throw Error("invalid format: "+
rb);var Bb;return new e({fill:Bb[1],align:Bb[2],sign:Bb[3],symbol:Bb[4],zero:Bb[5],width:Bb[6],comma:Bb[7],precision:Bb[8]&&Bb[8].slice(1),trim:Bb[9],type:Bb[10]})}function e(rb){this.fill=void 0===rb.fill?" ":rb.fill+"";this.align=void 0===rb.align?"\x3e":rb.align+"";this.sign=void 0===rb.sign?"-":rb.sign+"";this.symbol=void 0===rb.symbol?"":rb.symbol+"";this.zero=!!rb.zero;this.width=void 0===rb.width?void 0:+rb.width;this.comma=!!rb.comma;this.precision=void 0===rb.precision?void 0:+rb.precision;
this.trim=!!rb.trim;this.type=void 0===rb.type?"":rb.type+""}function g(rb,Bb){Bb=t(rb,Bb);if(!Bb)return rb+"";rb=Bb[0];Bb=Bb[1];return 0>Bb?"0."+Array(-Bb).join("0")+rb:rb.length>Bb+1?rb.slice(0,Bb+1)+"."+rb.slice(Bb+1):rb+Array(Bb-rb.length+2).join("0")}function n(rb){return rb}function h(rb){function Bb(ha){function ob(Rc){var Lc=Jd,ud=ed,kb,Gb;if("c"===Od)ud=td(Rc)+ud,Rc="";else{Rc=+Rc;var Pb=0>Rc||0>1/Rc;Rc=isNaN(Rc)?Se:td(Math.abs(Rc),qd);if(Yd){var bc=Rc.length,fa=1,Ha=-1;a:for(;fa<bc;++fa)switch(Rc[fa]){case ".":Ha=
kb=fa;break;case "0":0===Ha&&(Ha=fa);kb=fa;break;default:if(!+Rc[fa])break a;0<Ha&&(Ha=0)}Rc=0<Ha?Rc.slice(0,Ha)+Rc.slice(kb+1):Rc}Pb&&0===+Rc&&"+"!==Yb&&(Pb=!1);Lc=(Pb?"("===Yb?Yb:Me:"-"===Yb||"("===Yb?"":Yb)+Lc;ud=("s"===Od?Jb[8+za/3]:"")+ud+(Pb&&"("===Yb?")":"");if(wc)for(Pb=-1,kb=Rc.length;++Pb<kb;)if(Gb=Rc.charCodeAt(Pb),48>Gb||57<Gb){ud=(46===Gb?Md+Rc.slice(Pb+1):Rc.slice(Pb))+ud;Rc=Rc.slice(0,Pb);break}}pd&&!Nc&&(Rc=ic(Rc,Infinity));Gb=Lc.length+Rc.length+ud.length;Pb=Gb<Jc?Array(Jc-Gb+1).join(Ea):
"";pd&&Nc&&(Rc=ic(Pb+Rc,Pb.length?Jc-ud.length:Infinity),Pb="");switch(Ib){case "\x3c":Rc=Lc+Rc+ud+Pb;break;case "\x3d":Rc=Lc+Pb+Rc+ud;break;case "^":Rc=Pb.slice(0,Gb=Pb.length>>1)+Lc+Rc+ud+Pb.slice(Gb);break;default:Rc=Pb+Lc+Rc+ud}return Gd(Rc)}ha=c(ha);var Ea=ha.fill,Ib=ha.align,Yb=ha.sign,kc=ha.symbol,Nc=ha.zero,Jc=ha.width,pd=ha.comma,qd=ha.precision,Yd=ha.trim,Od=ha.type;"n"===Od?(pd=!0,Od="g"):Za[Od]||(void 0===qd&&(qd=12),Yd=!0,Od="g");if(Nc||"0"===Ea&&"\x3d"===Ib)Nc=!0,Ea="0",Ib="\x3d";var Jd=
"$"===kc?Uc:"#"===kc&&/[boxX]/.test(Od)?"0"+Od.toLowerCase():"",ed="$"===kc?Rd:/[%p]/.test(Od)?Pd:"",td=Za[Od],wc=/[defgprs%]/.test(Od);qd=void 0===qd?6:/[gprs]/.test(Od)?Math.max(1,Math.min(21,qd)):Math.max(0,Math.min(20,qd));ob.toString=function(){return ha+""};return ob}var ic=void 0===rb.grouping||void 0===rb.thousands?n:f(tb.call(rb.grouping,Number),rb.thousands+""),Uc=void 0===rb.currency?"":rb.currency[0]+"",Rd=void 0===rb.currency?"":rb.currency[1]+"",Md=void 0===rb.decimal?".":rb.decimal+
"",Gd=void 0===rb.numerals?n:b(tb.call(rb.numerals,String)),Pd=void 0===rb.percent?"%":rb.percent+"",Me=void 0===rb.minus?"":rb.minus+"",Se=void 0===rb.nan?"NaN":rb.nan+"";return{format:Bb,formatPrefix:function(ha,ob){var Ea=Bb((ha=c(ha),ha.type="f",ha));ha=3*Math.max(-8,Math.min(8,Math.floor(m(ob)/3)));var Ib=Math.pow(10,-ha),Yb=Jb[8+ha/3];return function(kc){return Ea(Ib*kc)+Yb}}}}function x(rb,Bb){return ic=>{ic=rb(ic);const Uc=ic.indexOf(Bb);if(0>Uc)return ic;a:{var Rd=ic.lastIndexOf("e");if(!(0<
Rd)){for(Rd=ic.length;--Rd>Uc;){var Md=ic.charCodeAt(Rd);if(48<=Md&&57>=Md){Rd+=1;break a}}Rd=void 0}}for(Md=Rd<ic.length?ic.slice(Rd):"";--Rd>Uc;)if("0"!==ic[Rd]){++Rd;break}return ic.slice(0,Rd)+Md}}function O(rb){const Bb=q(rb.format),ic=rb.formatPrefix;return{format:Bb,formatPrefix:ic,formatFloat(Uc){Uc=c(Uc||",");if(null==Uc.precision){Uc.precision=12;switch(Uc.type){case "%":Uc.precision-=2;break;case "e":--Uc.precision}return x(Bb(Uc),Bb(".1f")(1)[1])}return Bb(Uc)},formatSpan(Uc,Rd,Md,Gd){Gd=
c(null==Gd?",f":Gd);var Pd=Math.abs(Rd-Uc)/Math.max(0,Md);Md=Math.pow(10,Math.floor(Math.log(Pd)/Math.LN10));Pd/=Md;Pd>=qf?Md*=10:Pd>=gf?Md*=5:Pd>=te&&(Md*=2);Md=Rd<Uc?-Md:Md;Uc=Math.max(Math.abs(Uc),Math.abs(Rd));if(null==Gd.precision)switch(Gd.type){case "s":return Rd=isNaN,Md=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(m(Uc)/3)))-m(Math.abs(Md))),Rd(Rd=Md)||(Gd.precision=Rd),ic(Gd,Uc);case "":case "e":case "g":case "p":case "r":Rd=isNaN;Md=Math.abs(Md);Uc=Math.abs(Uc)-Md;Uc=Math.max(0,m(Uc)-
m(Md))+1;Rd(Rd=Uc)||(Gd.precision=Rd-("e"===Gd.type));break;case "f":case "%":isNaN(Rd=Math.max(0,-m(Math.abs(Md))))||(Gd.precision=Rd-2*("%"===Gd.type))}return Bb(Gd)}}}function H(){return Dc=O({format:nc,formatPrefix:Hc})}function F(rb){return O(h(rb))}function J(rb){return arguments.length?Dc=F(rb):Dc}function D(rb,Bb,ic,Uc){function Rd(Md){return rb(Md=0===arguments.length?new Date:new Date(+Md)),Md}Rd.floor=function(Md){return rb(Md=new Date(+Md)),Md};Rd.ceil=function(Md){return rb(Md=new Date(Md-
1)),Bb(Md,1),rb(Md),Md};Rd.round=function(Md){var Gd=Rd(Md),Pd=Rd.ceil(Md);return Md-Gd<Pd-Md?Gd:Pd};Rd.offset=function(Md,Gd){return Bb(Md=new Date(+Md),null==Gd?1:Math.floor(Gd)),Md};Rd.range=function(Md,Gd,Pd){var Me=[],Se;Md=Rd.ceil(Md);Pd=null==Pd?1:Math.floor(Pd);if(!(Md<Gd&&0<Pd))return Me;do Me.push(Se=new Date(+Md)),Bb(Md,Pd),rb(Md);while(Se<Md&&Md<Gd);return Me};Rd.filter=function(Md){return D(function(Gd){if(Gd>=Gd)for(;rb(Gd),!Md(Gd);)Gd.setTime(Gd-1)},function(Gd,Pd){if(Gd>=Gd)if(0>Pd)for(;0>=
++Pd;)for(;Bb(Gd,-1),!Md(Gd););else for(;0<=--Pd;)for(;Bb(Gd,1),!Md(Gd););})};ic&&(Rd.count=function(Md,Gd){lc.setTime(+Md);ld.setTime(+Gd);rb(lc);rb(ld);return Math.floor(ic(lc,ld))},Rd.every=function(Md){Md=Math.floor(Md);return isFinite(Md)&&0<Md?1<Md?Rd.filter(Uc?function(Gd){return 0===Uc(Gd)%Md}:function(Gd){return 0===Rd.count(0,Gd)%Md}):Rd:null});return Rd}function r(rb){return D(function(Bb){Bb.setDate(Bb.getDate()-(Bb.getDay()+7-rb)%7);Bb.setHours(0,0,0,0)},function(Bb,ic){Bb.setDate(Bb.getDate()+
7*ic)},function(Bb,ic){return(ic-Bb-6E4*(ic.getTimezoneOffset()-Bb.getTimezoneOffset()))/6048E5})}function z(rb){return D(function(Bb){Bb.setUTCDate(Bb.getUTCDate()-(Bb.getUTCDay()+7-rb)%7);Bb.setUTCHours(0,0,0,0)},function(Bb,ic){Bb.setUTCDate(Bb.getUTCDate()+7*ic)},function(Bb,ic){return(ic-Bb)/6048E5})}function G(rb){if(0<=rb.y&&100>rb.y){var Bb=new Date(-1,rb.m,rb.d,rb.H,rb.M,rb.S,rb.L);Bb.setFullYear(rb.y);return Bb}return new Date(rb.y,rb.m,rb.d,rb.H,rb.M,rb.S,rb.L)}function T(rb){if(0<=rb.y&&
100>rb.y){var Bb=new Date(Date.UTC(-1,rb.m,rb.d,rb.H,rb.M,rb.S,rb.L));Bb.setUTCFullYear(rb.y);return Bb}return new Date(Date.UTC(rb.y,rb.m,rb.d,rb.H,rb.M,rb.S,rb.L))}function R(rb,Bb,ic){return{y:rb,m:Bb,d:ic,H:0,M:0,S:0,L:0}}function ca(rb){function Bb(wc,Rc){return function(Lc){var ud=[],kb=-1,Gb=0,Pb=wc.length,bc,fa;for(Lc instanceof Date||(Lc=new Date(+Lc));++kb<Pb;)if(37===wc.charCodeAt(kb)){ud.push(wc.slice(Gb,kb));null!=(Gb=rc[bc=wc.charAt(++kb)])?bc=wc.charAt(++kb):Gb="e"===bc?" ":"0";if(fa=
Rc[bc])bc=fa(Lc,Gb);ud.push(bc);Gb=kb+1}ud.push(wc.slice(Gb,kb));return ud.join("")}}function ic(wc,Rc){return function(Lc){var ud=R(1900,void 0,1);if(Uc(ud,wc,Lc+="",0)!=Lc.length)return null;if("Q"in ud)return new Date(ud.Q);if("s"in ud)return new Date(1E3*ud.s+("L"in ud?ud.L:0));!Rc||"Z"in ud||(ud.Z=0);"p"in ud&&(ud.H=ud.H%12+12*ud.p);void 0===ud.m&&(ud.m="q"in ud?ud.q:0);if("V"in ud){if(1>ud.V||53<ud.V)return null;"w"in ud||(ud.w=1);if("Z"in ud){Lc=T(R(ud.y,0,1));var kb=Lc.getUTCDay();Lc=4<kb||
0===kb?Ge.ceil(Lc):Ge(Lc);Lc=re.offset(Lc,7*(ud.V-1));ud.y=Lc.getUTCFullYear();ud.m=Lc.getUTCMonth();ud.d=Lc.getUTCDate()+(ud.w+6)%7}else Lc=G(R(ud.y,0,1)),kb=Lc.getDay(),Lc=4<kb||0===kb?Vd.ceil(Lc):Vd(Lc),Lc=sd.offset(Lc,7*(ud.V-1)),ud.y=Lc.getFullYear(),ud.m=Lc.getMonth(),ud.d=Lc.getDate()+(ud.w+6)%7}else if("W"in ud||"U"in ud)"w"in ud||(ud.w="u"in ud?ud.u%7:"W"in ud?1:0),kb="Z"in ud?T(R(ud.y,0,1)).getUTCDay():G(R(ud.y,0,1)).getDay(),ud.m=0,ud.d="W"in ud?(ud.w+6)%7+7*ud.W-(kb+5)%7:ud.w+7*ud.U-(kb+
6)%7;return"Z"in ud?(ud.H+=ud.Z/100|0,ud.M+=ud.Z%100,T(ud)):G(ud)}}function Uc(wc,Rc,Lc,ud){for(var kb=0,Gb=Rc.length,Pb=Lc.length,bc;kb<Gb;){if(ud>=Pb)return-1;bc=Rc.charCodeAt(kb++);if(37===bc){if(bc=Rc.charAt(kb++),bc=td[bc in rc?Rc.charAt(kb++):bc],!bc||0>(ud=bc(wc,Lc,ud)))return-1}else if(bc!=Lc.charCodeAt(ud++))return-1}return ud}var Rd=rb.dateTime,Md=rb.date,Gd=rb.time,Pd=rb.periods,Me=rb.days,Se=rb.shortDays,ha=rb.months,ob=rb.shortMonths,Ea=W(Pd),Ib=ea(Pd),Yb=W(Me),kc=ea(Me),Nc=W(Se),Jc=
ea(Se),pd=W(ha),qd=ea(ha),Yd=W(ob),Od=ea(ob),Jd={a:function(wc){return Se[wc.getDay()]},A:function(wc){return Me[wc.getDay()]},b:function(wc){return ob[wc.getMonth()]},B:function(wc){return ha[wc.getMonth()]},c:null,d:Ua,e:Ua,f:U,g:Bc,G:id,H:eb,I:ra,j:Oa,L:ja,m:ka,M:wa,p:function(wc){return Pd[+(12<=wc.getHours())]},q:function(wc){return 1+~~(wc.getMonth()/3)},Q:nd,s:xd,S:Ta,u:db,U:lb,V:Mb,w:$b,W:Gc,x:null,X:null,y:zc,Y:uc,Z:Hb,"%":dd},ed={a:function(wc){return Se[wc.getUTCDay()]},A:function(wc){return Me[wc.getUTCDay()]},
b:function(wc){return ob[wc.getUTCMonth()]},B:function(wc){return ha[wc.getUTCMonth()]},c:null,d:Ab,e:Ab,f:Fc,g:Tb,G:Ic,H:dc,I:Wb,j:mc,L:Kc,m:Sc,M:jd,p:function(wc){return Pd[+(12<=wc.getUTCHours())]},q:function(wc){return 1+~~(wc.getUTCMonth()/3)},Q:nd,s:xd,S:$d,u:Ba,U:ua,V:$a,w:jb,W:yb,x:null,X:null,y:Ub,Y:Vb,Z:Yc,"%":dd},td={a:function(wc,Rc,Lc){return(Rc=Nc.exec(Rc.slice(Lc)))?(wc.w=Jc.get(Rc[0].toLowerCase()),Lc+Rc[0].length):-1},A:function(wc,Rc,Lc){return(Rc=Yb.exec(Rc.slice(Lc)))?(wc.w=kc.get(Rc[0].toLowerCase()),
Lc+Rc[0].length):-1},b:function(wc,Rc,Lc){return(Rc=Yd.exec(Rc.slice(Lc)))?(wc.m=Od.get(Rc[0].toLowerCase()),Lc+Rc[0].length):-1},B:function(wc,Rc,Lc){return(Rc=pd.exec(Rc.slice(Lc)))?(wc.m=qd.get(Rc[0].toLowerCase()),Lc+Rc[0].length):-1},c:function(wc,Rc,Lc){return Uc(wc,Rd,Rc,Lc)},d:bb,e:bb,f:qa,g:Aa,G:Y,H:Ja,I:Ja,j:ib,L:Pa,m:Ia,M:ma,p:function(wc,Rc,Lc){return(Rc=Ea.exec(Rc.slice(Lc)))?(wc.p=Ib.get(Rc[0].toLowerCase()),Lc+Rc[0].length):-1},q:la,Q:oa,s:va,S:Fa,u:aa,U:C,V:B,w:La,W:N,x:function(wc,
Rc,Lc){return Uc(wc,Md,Rc,Lc)},X:function(wc,Rc,Lc){return Uc(wc,Gd,Rc,Lc)},y:Aa,Y,Z:sa,"%":ya};Jd.x=Bb(Md,Jd);Jd.X=Bb(Gd,Jd);Jd.c=Bb(Rd,Jd);ed.x=Bb(Md,ed);ed.X=Bb(Gd,ed);ed.c=Bb(Rd,ed);return{format:function(wc){var Rc=Bb(wc+="",Jd);Rc.toString=function(){return wc};return Rc},parse:function(wc){var Rc=ic(wc+="",!1);Rc.toString=function(){return wc};return Rc},utcFormat:function(wc){var Rc=Bb(wc+="",ed);Rc.toString=function(){return wc};return Rc},utcParse:function(wc){var Rc=ic(wc+="",!0);Rc.toString=
function(){return wc};return Rc}}}function M(rb,Bb,ic){var Uc=0>rb?"-":"";rb=(Uc?-rb:rb)+"";var Rd=rb.length;return Uc+(Rd<ic?Array(ic-Rd+1).join(Bb)+rb:rb)}function ba(rb){return rb.replace(xa,"\\$\x26")}function W(rb){return new RegExp("^(?:"+rb.map(ba).join("|")+")","i")}function ea(rb){return new Map(rb.map((Bb,ic)=>[Bb.toLowerCase(),ic]))}function La(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+1)))?(rb.w=+Bb[0],ic+Bb[0].length):-1}function aa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+1)))?(rb.u=
+Bb[0],ic+Bb[0].length):-1}function C(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.U=+Bb[0],ic+Bb[0].length):-1}function B(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.V=+Bb[0],ic+Bb[0].length):-1}function N(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.W=+Bb[0],ic+Bb[0].length):-1}function Y(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+4)))?(rb.y=+Bb[0],ic+Bb[0].length):-1}function Aa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.y=+Bb[0]+(68<+Bb[0]?1900:2E3),ic+Bb[0].length):
-1}function sa(rb,Bb,ic){return(Bb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Bb.slice(ic,ic+6)))?(rb.Z=Bb[1]?0:-(Bb[2]+(Bb[3]||"00")),ic+Bb[0].length):-1}function la(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+1)))?(rb.q=3*Bb[0]-3,ic+Bb[0].length):-1}function Ia(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.m=Bb[0]-1,ic+Bb[0].length):-1}function bb(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.d=+Bb[0],ic+Bb[0].length):-1}function ib(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+3)))?(rb.m=0,rb.d=
+Bb[0],ic+Bb[0].length):-1}function Ja(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.H=+Bb[0],ic+Bb[0].length):-1}function ma(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.M=+Bb[0],ic+Bb[0].length):-1}function Fa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.S=+Bb[0],ic+Bb[0].length):-1}function Pa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+3)))?(rb.L=+Bb[0],ic+Bb[0].length):-1}function qa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+6)))?(rb.L=Math.floor(Bb[0]/1E3),ic+Bb[0].length):
-1}function ya(rb,Bb,ic){return(rb=Ad.exec(Bb.slice(ic,ic+1)))?ic+rb[0].length:-1}function oa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic)))?(rb.Q=+Bb[0],ic+Bb[0].length):-1}function va(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic)))?(rb.s=+Bb[0],ic+Bb[0].length):-1}function Ua(rb,Bb){return M(rb.getDate(),Bb,2)}function eb(rb,Bb){return M(rb.getHours(),Bb,2)}function ra(rb,Bb){return M(rb.getHours()%12||12,Bb,2)}function Oa(rb,Bb){return M(1+sd.count(Ce(rb),rb),Bb,3)}function ja(rb,Bb){return M(rb.getMilliseconds(),
Bb,3)}function U(rb,Bb){return ja(rb,Bb)+"000"}function ka(rb,Bb){return M(rb.getMonth()+1,Bb,2)}function wa(rb,Bb){return M(rb.getMinutes(),Bb,2)}function Ta(rb,Bb){return M(rb.getSeconds(),Bb,2)}function db(rb){rb=rb.getDay();return 0===rb?7:rb}function lb(rb,Bb){return M(Hd.count(Ce(rb)-1,rb),Bb,2)}function nb(rb){var Bb=rb.getDay();return 4<=Bb||0===Bb?be(rb):be.ceil(rb)}function Mb(rb,Bb){rb=nb(rb);return M(be.count(Ce(rb),rb)+(4===Ce(rb).getDay()),Bb,2)}function $b(rb){return rb.getDay()}function Gc(rb,
Bb){return M(Vd.count(Ce(rb)-1,rb),Bb,2)}function zc(rb,Bb){return M(rb.getFullYear()%100,Bb,2)}function Bc(rb,Bb){rb=nb(rb);return M(rb.getFullYear()%100,Bb,2)}function uc(rb,Bb){return M(rb.getFullYear()%1E4,Bb,4)}function id(rb,Bb){var ic=rb.getDay();rb=4<=ic||0===ic?be(rb):be.ceil(rb);return M(rb.getFullYear()%1E4,Bb,4)}function Hb(rb){rb=rb.getTimezoneOffset();return(0<rb?"-":(rb*=-1,"+"))+M(rb/60|0,"0",2)+M(rb%60,"0",2)}function Ab(rb,Bb){return M(rb.getUTCDate(),Bb,2)}function dc(rb,Bb){return M(rb.getUTCHours(),
Bb,2)}function Wb(rb,Bb){return M(rb.getUTCHours()%12||12,Bb,2)}function mc(rb,Bb){return M(1+re.count(Qb(rb),rb),Bb,3)}function Kc(rb,Bb){return M(rb.getUTCMilliseconds(),Bb,3)}function Fc(rb,Bb){return Kc(rb,Bb)+"000"}function Sc(rb,Bb){return M(rb.getUTCMonth()+1,Bb,2)}function jd(rb,Bb){return M(rb.getUTCMinutes(),Bb,2)}function $d(rb,Bb){return M(rb.getUTCSeconds(),Bb,2)}function Ba(rb){rb=rb.getUTCDay();return 0===rb?7:rb}function ua(rb,Bb){return M(vf.count(Qb(rb)-1,rb),Bb,2)}function Ca(rb){var Bb=
rb.getUTCDay();return 4<=Bb||0===Bb?Re(rb):Re.ceil(rb)}function $a(rb,Bb){rb=Ca(rb);return M(Re.count(Qb(rb),rb)+(4===Qb(rb).getUTCDay()),Bb,2)}function jb(rb){return rb.getUTCDay()}function yb(rb,Bb){return M(Ge.count(Qb(rb)-1,rb),Bb,2)}function Ub(rb,Bb){return M(rb.getUTCFullYear()%100,Bb,2)}function Tb(rb,Bb){rb=Ca(rb);return M(rb.getUTCFullYear()%100,Bb,2)}function Vb(rb,Bb){return M(rb.getUTCFullYear()%1E4,Bb,4)}function Ic(rb,Bb){var ic=rb.getUTCDay();rb=4<=ic||0===ic?Re(rb):Re.ceil(rb);return M(rb.getUTCFullYear()%
1E4,Bb,4)}function Yc(){return"+0000"}function dd(){return"%"}function nd(rb){return+rb}function xd(rb){return Math.floor(+rb/1E3)}function Nd(rb,Bb,ic){ic=ic||{};p.isObject(ic)||p.error(`Invalid time multi-format specifier: ${ic}`);const Uc=Bb(k.SECONDS),Rd=Bb(k.MINUTES),Md=Bb(k.HOURS),Gd=Bb(k.DATE),Pd=Bb(k.WEEK),Me=Bb(k.MONTH),Se=Bb(k.QUARTER),ha=Bb(k.YEAR),ob=rb(ic[k.MILLISECONDS]||".%L"),Ea=rb(ic[k.SECONDS]||":%S"),Ib=rb(ic[k.MINUTES]||"%I:%M"),Yb=rb(ic[k.HOURS]||"%I %p"),kc=rb(ic[k.DATE]||ic[k.DAY]||
"%a %d"),Nc=rb(ic[k.WEEK]||"%b %d"),Jc=rb(ic[k.MONTH]||"%B"),pd=rb(ic[k.QUARTER]||"%B"),qd=rb(ic[k.YEAR]||"%Y");return Yd=>(Uc(Yd)<Yd?ob:Rd(Yd)<Yd?Ea:Md(Yd)<Yd?Ib:Gd(Yd)<Yd?Yb:Me(Yd)<Yd?Pd(Yd)<Yd?kc:Nc:ha(Yd)<Yd?Se(Yd)<Yd?Jc:pd:qd)(Yd)}function Xd(rb){const Bb=q(rb.format),ic=q(rb.utcFormat);return{timeFormat:Uc=>p.isString(Uc)?Bb(Uc):Nd(Bb,k.timeInterval,Uc),utcFormat:Uc=>p.isString(Uc)?ic(Uc):Nd(ic,k.utcInterval,Uc),timeParse:q(rb.parse),utcParse:q(rb.utcParse)}}function ge(){return qc=Xd({format:zb,
parse:Xb,utcFormat:tc,utcParse:gd})}function le(rb){return Xd(ca(rb))}function qe(rb){return arguments.length?qc=le(rb):qc}function wd(rb,Bb){var ic=arguments.length;ic&&2!==ic&&p.error("defaultLocale expects either zero or two arguments.");if(ic){ic=J(rb);var Uc=qe(Bb);ic=p.extend({},ic,Uc)}else ic=J(),Uc=qe(),ic=p.extend({},ic,Uc);return ic}var qf=Math.sqrt(50),gf=Math.sqrt(10),te=Math.sqrt(2),We=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;c.prototype=e.prototype;
e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var za,Za={"%":(rb,Bb)=>(100*rb).toFixed(Bb),b:rb=>Math.round(rb).toString(2),c:rb=>rb+"",d:function(rb){return 1E21<=Math.abs(rb=Math.round(rb))?rb.toLocaleString("en").replace(/,/g,""):rb.toString(10)},e:(rb,Bb)=>rb.toExponential(Bb),f:(rb,
Bb)=>rb.toFixed(Bb),g:(rb,Bb)=>rb.toPrecision(Bb),o:rb=>Math.round(rb).toString(8),p:(rb,Bb)=>g(100*rb,Bb),r:g,s:function(rb,Bb){var ic=t(rb,Bb);if(!ic)return rb+"";var Uc=ic[0];ic=ic[1];ic=ic-(za=3*Math.max(-8,Math.min(8,Math.floor(ic/3))))+1;var Rd=Uc.length;return ic===Rd?Uc:ic>Rd?Uc+Array(ic-Rd+1).join("0"):0<ic?Uc.slice(0,ic)+"."+Uc.slice(ic):"0."+Array(1-ic).join("0")+t(rb,Math.max(0,Bb+ic-1))[0]},X:rb=>Math.round(rb).toString(16).toUpperCase(),x:rb=>Math.round(rb).toString(16)},tb=Array.prototype.map,
Jb="y z a f p n  m  k M G T P E Z Y".split(" "),fc,nc,Hc;(function(rb){fc=h(rb);nc=fc.format;Hc=fc.formatPrefix;return fc})({thousands:",",grouping:[3],currency:["$",""]});let Dc;H();var lc=new Date,ld=new Date,sd=D(rb=>rb.setHours(0,0,0,0),(rb,Bb)=>rb.setDate(rb.getDate()+Bb),(rb,Bb)=>(Bb-rb-6E4*(Bb.getTimezoneOffset()-rb.getTimezoneOffset()))/864E5,rb=>rb.getDate()-1),Hd=r(0),Vd=r(1);r(2);r(3);var be=r(4);r(5);r(6);var he=D(function(rb){rb.setMonth(0,1);rb.setHours(0,0,0,0)},function(rb,Bb){rb.setFullYear(rb.getFullYear()+
Bb)},function(rb,Bb){return Bb.getFullYear()-rb.getFullYear()},function(rb){return rb.getFullYear()});he.every=function(rb){return isFinite(rb=Math.floor(rb))&&0<rb?D(function(Bb){Bb.setFullYear(Math.floor(Bb.getFullYear()/rb)*rb);Bb.setMonth(0,1);Bb.setHours(0,0,0,0)},function(Bb,ic){Bb.setFullYear(Bb.getFullYear()+ic*rb)}):null};var Ce=he,re=D(function(rb){rb.setUTCHours(0,0,0,0)},function(rb,Bb){rb.setUTCDate(rb.getUTCDate()+Bb)},function(rb,Bb){return(Bb-rb)/864E5},function(rb){return rb.getUTCDate()-
1}),vf=z(0),Ge=z(1);z(2);z(3);var Re=z(4);z(5);z(6);var af=D(function(rb){rb.setUTCMonth(0,1);rb.setUTCHours(0,0,0,0)},function(rb,Bb){rb.setUTCFullYear(rb.getUTCFullYear()+Bb)},function(rb,Bb){return Bb.getUTCFullYear()-rb.getUTCFullYear()},function(rb){return rb.getUTCFullYear()});af.every=function(rb){return isFinite(rb=Math.floor(rb))&&0<rb?D(function(Bb){Bb.setUTCFullYear(Math.floor(Bb.getUTCFullYear()/rb)*rb);Bb.setUTCMonth(0,1);Bb.setUTCHours(0,0,0,0)},function(Bb,ic){Bb.setUTCFullYear(Bb.getUTCFullYear()+
ic*rb)}):null};var Qb=af,rc={"-":"",_:" ",0:"0"},bd=/^\s*\d+/,Ad=/^%/,xa=/[\\^$*+?|[\]().{}]/g,Xa,zb,Xb,tc,gd;(function(rb){Xa=ca(rb);zb=Xa.format;Xb=Xa.parse;tc=Xa.utcFormat;gd=Xa.utcParse;return Xa})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let qc;ge();w.defaultLocale=wd;w.locale=function(rb,Bb){rb=rb?F(rb):J();Bb=Bb?le(Bb):qe();return p.extend({},rb,Bb)};w.numberFormatDefaultLocale=J;w.numberFormatLocale=F;w.resetDefaultLocale=function(){H();ge();return wd()};w.resetNumberFormatDefaultLocale=H;w.resetTimeFormatDefaultLocale=ge;w.timeFormatDefaultLocale=qe;w.timeFormatLocale=le;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[18]=function(Ka,L,sb,A){function w(t){var m=t.length;if(0<m%4)throw Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("\x3d");-1===t&&(t=m);return[t,t===m?0:4-t%4]}A.byteLength=function(t){t=w(t);var m=t[1];return 3*(t[0]+m)/4-m};A.toByteArray=function(t){var m=w(t);var f=m[0];m=m[1];var b=new q(3*(f+m)/4-m),c=0,e=0<m?f-4:f,g;for(g=0;g<e;g+=4)f=p[t.charCodeAt(g)]<<18|p[t.charCodeAt(g+1)]<<12|p[t.charCodeAt(g+2)]<<6|p[t.charCodeAt(g+3)],b[c++]=f>>16&255,b[c++]=f>>8&
255,b[c++]=f&255;2===m&&(f=p[t.charCodeAt(g)]<<2|p[t.charCodeAt(g+1)]>>4,b[c++]=f&255);1===m&&(f=p[t.charCodeAt(g)]<<10|p[t.charCodeAt(g+1)]<<4|p[t.charCodeAt(g+2)]>>2,b[c++]=f>>8&255,b[c++]=f&255);return b};A.fromByteArray=function(t){for(var m=t.length,f=m%3,b=[],c=0,e=m-f;c<e;c+=16383){for(var g=b,n=g.push,h,x=t,O=c+16383>e?e:c+16383,H=[],F=c;F<O;F+=3)h=(x[F]<<16&16711680)+(x[F+1]<<8&65280)+(x[F+2]&255),H.push(k[h>>18&63]+k[h>>12&63]+k[h>>6&63]+k[h&63]);h=H.join("");n.call(g,h)}1===f?(t=t[m-1],
b.push(k[t>>2]+k[t<<4&63]+"\x3d\x3d")):2===f&&(t=(t[m-2]<<8)+t[m-1],b.push(k[t>>10]+k[t>>4&63]+k[t<<2&63]+"\x3d"));return b.join("")};var k=[],p=[],q="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ka=0;64>Ka;++Ka)k[Ka]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ka],p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ka)]=Ka;p[45]=62;p[95]=63};
shadow$provide[19]=function(Ka,L,sb,A){A.read=function(w,k,p,q,t){var m=8*t-q-1;var f=(1<<m)-1,b=f>>1,c=-7;t=p?t-1:0;var e=p?-1:1,g=w[k+t];t+=e;p=g&(1<<-c)-1;g>>=-c;for(c+=m;0<c;p=256*p+w[k+t],t+=e,c-=8);m=p&(1<<-c)-1;p>>=-c;for(c+=q;0<c;m=256*m+w[k+t],t+=e,c-=8);if(0===p)p=1-b;else{if(p===f)return m?NaN:Infinity*(g?-1:1);m+=Math.pow(2,q);p-=b}return(g?-1:1)*m*Math.pow(2,p-q)};A.write=function(w,k,p,q,t,m){var f,b=8*m-t-1,c=(1<<b)-1,e=c>>1,g=23===t?Math.pow(2,-24)-Math.pow(2,-77):0;m=q?0:m-1;var n=
q?1:-1,h=0>k||0===k&&0>1/k?1:0;k=Math.abs(k);isNaN(k)||Infinity===k?(k=isNaN(k)?1:0,q=c):(q=Math.floor(Math.log(k)/Math.LN2),1>k*(f=Math.pow(2,-q))&&(q--,f*=2),k=1<=q+e?k+g/f:k+g*Math.pow(2,1-e),2<=k*f&&(q++,f/=2),q+e>=c?(k=0,q=c):1<=q+e?(k=(k*f-1)*Math.pow(2,t),q+=e):(k=k*Math.pow(2,e-1)*Math.pow(2,t),q=0));for(;8<=t;w[p+m]=k&255,m+=n,k/=256,t-=8);q=q<<t|k;for(b+=t;0<b;w[p+m]=q&255,m+=n,q/=256,b-=8);w[p+m-n]|=128*h}};
shadow$provide[20]=function(Ka,L,sb,A){var w={}.toString;sb.exports=Array.isArray||function(k){return"[object Array]"==w.call(k)}};
shadow$provide[21]=function(Ka,L,sb,A){function w(){try{var C=new Uint8Array(1);C.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===C.foo()&&"function"===typeof C.subarray&&0===C.subarray(1,1).byteLength}catch(B){return!1}}function k(C,B){if((p.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<B)throw new RangeError("Invalid typed array length");p.TYPED_ARRAY_SUPPORT?(C=new Uint8Array(B),C.__proto__=p.prototype):(null===C&&(C=new p(B)),C.length=B);return C}function p(C,B,N){if(!(p.TYPED_ARRAY_SUPPORT||
this instanceof p))return new p(C,B,N);if("number"===typeof C){if("string"===typeof B)throw Error("If encoding is specified then the first argument must be a string");return m(this,C)}return q(this,C,B,N)}function q(C,B,N,Y){if("number"===typeof B)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&B instanceof ArrayBuffer){B.byteLength;if(0>N||B.byteLength<N)throw new RangeError("'offset' is out of bounds");if(B.byteLength<N+(Y||0))throw new RangeError("'length' is out of bounds");
B=void 0===N&&void 0===Y?new Uint8Array(B):void 0===Y?new Uint8Array(B,N):new Uint8Array(B,N,Y);p.TYPED_ARRAY_SUPPORT?(C=B,C.__proto__=p.prototype):C=f(C,B);return C}if("string"===typeof B){Y=C;C=N;if("string"!==typeof C||""===C)C="utf8";if(!p.isEncoding(C))throw new TypeError('"encoding" must be a valid string encoding');N=e(B,C)|0;Y=k(Y,N);B=Y.write(B,C);B!==N&&(Y=Y.slice(0,B));return Y}return b(C,B)}function t(C){if("number"!==typeof C)throw new TypeError('"size" argument must be a number');if(0>
C)throw new RangeError('"size" argument must not be negative');}function m(C,B){t(B);C=k(C,0>B?0:c(B)|0);if(!p.TYPED_ARRAY_SUPPORT)for(var N=0;N<B;++N)C[N]=0;return C}function f(C,B){var N=0>B.length?0:c(B.length)|0;C=k(C,N);for(var Y=0;Y<N;Y+=1)C[Y]=B[Y]&255;return C}function b(C,B){if(p.isBuffer(B)){var N=c(B.length)|0;C=k(C,N);if(0===C.length)return C;B.copy(C,0,0,N);return C}if(B){if("undefined"!==typeof ArrayBuffer&&B.buffer instanceof ArrayBuffer||"length"in B)return(N="number"!==typeof B.length)||
(N=B.length,N=N!==N),N?k(C,0):f(C,B);if("Buffer"===B.type&&ea(B.data))return f(C,B.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function c(C){if(C>=(p.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(p.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return C|0}function e(C,B){if(p.isBuffer(C))return C.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(C)||C instanceof ArrayBuffer))return C.byteLength;"string"!==typeof C&&(C=""+C);var N=C.length;if(0===N)return 0;for(var Y=!1;;)switch(B){case "ascii":case "latin1":case "binary":return N;case "utf8":case "utf-8":case void 0:return T(C).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*N;case "hex":return N>>>1;case "base64":return ca(C).length;default:if(Y)return T(C).length;B=(""+B).toLowerCase();Y=!0}}function g(C,
B,N){var Y=!1;if(void 0===B||0>B)B=0;if(B>this.length)return"";if(void 0===N||N>this.length)N=this.length;if(0>=N)return"";N>>>=0;B>>>=0;if(N<=B)return"";for(C||(C="utf8");;)switch(C){case "hex":C=B;B=N;N=this.length;if(!C||0>C)C=0;if(!B||0>B||B>N)B=N;Y="";for(N=C;N<B;++N)C=Y,Y=this[N],Y=16>Y?"0"+Y.toString(16):Y.toString(16),Y=C+Y;return Y;case "utf8":case "utf-8":return O(this,B,N);case "ascii":C="";for(N=Math.min(this.length,N);B<N;++B)C+=String.fromCharCode(this[B]&127);return C;case "latin1":case "binary":C=
"";for(N=Math.min(this.length,N);B<N;++B)C+=String.fromCharCode(this[B]);return C;case "base64":return B=0===B&&N===this.length?ba.fromByteArray(this):ba.fromByteArray(this.slice(B,N)),B;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":B=this.slice(B,N);N="";for(C=0;C<B.length;C+=2)N+=String.fromCharCode(B[C]+256*B[C+1]);return N;default:if(Y)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase();Y=!0}}function n(C,B,N){var Y=C[B];C[B]=C[N];C[N]=Y}function h(C,B,N,Y,Aa){if(0===
C.length)return-1;"string"===typeof N?(Y=N,N=0):2147483647<N?N=2147483647:-2147483648>N&&(N=-2147483648);N=+N;isNaN(N)&&(N=Aa?0:C.length-1);0>N&&(N=C.length+N);if(N>=C.length){if(Aa)return-1;N=C.length-1}else if(0>N)if(Aa)N=0;else return-1;"string"===typeof B&&(B=p.from(B,Y));if(p.isBuffer(B))return 0===B.length?-1:x(C,B,N,Y,Aa);if("number"===typeof B)return B&=255,p.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?Aa?Uint8Array.prototype.indexOf.call(C,B,N):Uint8Array.prototype.lastIndexOf.call(C,
B,N):x(C,[B],N,Y,Aa);throw new TypeError("val must be string, number or Buffer");}function x(C,B,N,Y,Aa){function sa(ib,Ja){return 1===la?ib[Ja]:ib.readUInt16BE(Ja*la)}var la=1,Ia=C.length,bb=B.length;if(void 0!==Y&&(Y=String(Y).toLowerCase(),"ucs2"===Y||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(2>C.length||2>B.length)return-1;la=2;Ia/=2;bb/=2;N/=2}if(Aa)for(Y=-1;N<Ia;N++)if(sa(C,N)===sa(B,-1===Y?0:N-Y)){if(-1===Y&&(Y=N),N-Y+1===bb)return Y*la}else-1!==Y&&(N-=N-Y),Y=-1;else for(N+bb>Ia&&(N=
Ia-bb);0<=N;N--){Ia=!0;for(Y=0;Y<bb;Y++)if(sa(C,N+Y)!==sa(B,Y)){Ia=!1;break}if(Ia)return N}return-1}function O(C,B,N){N=Math.min(C.length,N);for(var Y=[];B<N;){var Aa=C[B],sa=null,la=239<Aa?4:223<Aa?3:191<Aa?2:1;if(B+la<=N)switch(la){case 1:128>Aa&&(sa=Aa);break;case 2:var Ia=C[B+1];128===(Ia&192)&&(Aa=(Aa&31)<<6|Ia&63,127<Aa&&(sa=Aa));break;case 3:Ia=C[B+1];var bb=C[B+2];128===(Ia&192)&&128===(bb&192)&&(Aa=(Aa&15)<<12|(Ia&63)<<6|bb&63,2047<Aa&&(55296>Aa||57343<Aa)&&(sa=Aa));break;case 4:Ia=C[B+1];
bb=C[B+2];var ib=C[B+3];128===(Ia&192)&&128===(bb&192)&&128===(ib&192)&&(Aa=(Aa&15)<<18|(Ia&63)<<12|(bb&63)<<6|ib&63,65535<Aa&&1114112>Aa&&(sa=Aa))}null===sa?(sa=65533,la=1):65535<sa&&(sa-=65536,Y.push(sa>>>10&1023|55296),sa=56320|sa&1023);Y.push(sa);B+=la}C=Y.length;if(C<=La)Y=String.fromCharCode.apply(String,Y);else{N="";for(B=0;B<C;)N+=String.fromCharCode.apply(String,Y.slice(B,B+=La));Y=N}return Y}function H(C,B,N){if(0!==C%1||0>C)throw new RangeError("offset is not uint");if(C+B>N)throw new RangeError("Trying to access beyond buffer length");
}function F(C,B,N,Y,Aa,sa){if(!p.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>Aa||B<sa)throw new RangeError('"value" argument is out of bounds');if(N+Y>C.length)throw new RangeError("Index out of range");}function J(C,B,N,Y){0>B&&(B=65535+B+1);for(var Aa=0,sa=Math.min(C.length-N,2);Aa<sa;++Aa)C[N+Aa]=(B&255<<8*(Y?Aa:1-Aa))>>>8*(Y?Aa:1-Aa)}function D(C,B,N,Y){0>B&&(B=4294967295+B+1);for(var Aa=0,sa=Math.min(C.length-N,4);Aa<sa;++Aa)C[N+Aa]=B>>>8*(Y?Aa:3-Aa)&255}
function r(C,B,N,Y,Aa,sa){if(N+Y>C.length)throw new RangeError("Index out of range");if(0>N)throw new RangeError("Index out of range");}function z(C,B,N,Y,Aa){Aa||r(C,B,N,4,3.4028234663852886E38,-3.4028234663852886E38);W.write(C,B,N,Y,23,4);return N+4}function G(C,B,N,Y,Aa){Aa||r(C,B,N,8,1.7976931348623157E308,-1.7976931348623157E308);W.write(C,B,N,Y,52,8);return N+8}function T(C,B){B=B||Infinity;for(var N,Y=C.length,Aa=null,sa=[],la=0;la<Y;++la){N=C.charCodeAt(la);if(55295<N&&57344>N){if(!Aa){if(56319<
N){-1<(B-=3)&&sa.push(239,191,189);continue}else if(la+1===Y){-1<(B-=3)&&sa.push(239,191,189);continue}Aa=N;continue}if(56320>N){-1<(B-=3)&&sa.push(239,191,189);Aa=N;continue}N=(Aa-55296<<10|N-56320)+65536}else Aa&&-1<(B-=3)&&sa.push(239,191,189);Aa=null;if(128>N){if(0>--B)break;sa.push(N)}else if(2048>N){if(0>(B-=2))break;sa.push(N>>6|192,N&63|128)}else if(65536>N){if(0>(B-=3))break;sa.push(N>>12|224,N>>6&63|128,N&63|128)}else if(1114112>N){if(0>(B-=4))break;sa.push(N>>18|240,N>>12&63|128,N>>6&63|
128,N&63|128)}else throw Error("Invalid code point");}return sa}function R(C){for(var B=[],N=0;N<C.length;++N)B.push(C.charCodeAt(N)&255);return B}function ca(C){var B=ba,N=B.toByteArray;C=(C.trim?C.trim():C.replace(/^\s+|\s+$/g,"")).replace(aa,"");if(2>C.length)C="";else for(;0!==C.length%4;)C+="\x3d";return N.call(B,C)}function M(C,B,N,Y){for(var Aa=0;Aa<Y&&!(Aa+N>=B.length||Aa>=C.length);++Aa)B[Aa+N]=C[Aa];return Aa}var ba=L(18),W=L(19),ea=L(20);A.Buffer=p;A.SlowBuffer=function(C){+C!=C&&(C=0);
return p.alloc(+C)};A.INSPECT_MAX_BYTES=50;p.TYPED_ARRAY_SUPPORT=void 0!==Ka.TYPED_ARRAY_SUPPORT?Ka.TYPED_ARRAY_SUPPORT:w();A.kMaxLength=p.TYPED_ARRAY_SUPPORT?2147483647:1073741823;p.poolSize=8192;p._augment=function(C){C.__proto__=p.prototype;return C};p.from=function(C,B,N){return q(null,C,B,N)};p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,
configurable:!0}));p.alloc=function(C,B,N){t(C);C=0>=C?k(null,C):void 0!==B?"string"===typeof N?k(null,C).fill(B,N):k(null,C).fill(B):k(null,C);return C};p.allocUnsafe=function(C){return m(null,C)};p.allocUnsafeSlow=function(C){return m(null,C)};p.isBuffer=function(C){return!(null==C||!C._isBuffer)};p.compare=function(C,B){if(!p.isBuffer(C)||!p.isBuffer(B))throw new TypeError("Arguments must be Buffers");if(C===B)return 0;for(var N=C.length,Y=B.length,Aa=0,sa=Math.min(N,Y);Aa<sa;++Aa)if(C[Aa]!==B[Aa]){N=
C[Aa];Y=B[Aa];break}return N<Y?-1:Y<N?1:0};p.isEncoding=function(C){switch(String(C).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};p.concat=function(C,B){if(!ea(C))throw new TypeError('"list" argument must be an Array of Buffers');if(0===C.length)return p.alloc(0);var N;if(void 0===B)for(N=B=0;N<C.length;++N)B+=C[N].length;B=p.allocUnsafe(B);var Y=0;for(N=
0;N<C.length;++N){var Aa=C[N];if(!p.isBuffer(Aa))throw new TypeError('"list" argument must be an Array of Buffers');Aa.copy(B,Y);Y+=Aa.length}return B};p.byteLength=e;p.prototype._isBuffer=!0;p.prototype.swap16=function(){var C=this.length;if(0!==C%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<C;B+=2)n(this,B,B+1);return this};p.prototype.swap32=function(){var C=this.length;if(0!==C%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<
C;B+=4)n(this,B,B+3),n(this,B+1,B+2);return this};p.prototype.swap64=function(){var C=this.length;if(0!==C%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<C;B+=8)n(this,B,B+7),n(this,B+1,B+6),n(this,B+2,B+5),n(this,B+3,B+4);return this};p.prototype.toString=function(){var C=this.length|0;return 0===C?"":0===arguments.length?O(this,0,C):g.apply(this,arguments)};p.prototype.equals=function(C){if(!p.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===
C?!0:0===p.compare(this,C)};p.prototype.inspect=function(){var C="",B=A.INSPECT_MAX_BYTES;0<this.length&&(C=this.toString("hex",0,B).match(/.{2}/g).join(" "),this.length>B&&(C+=" ... "));return"\x3cBuffer "+C+"\x3e"};p.prototype.compare=function(C,B,N,Y,Aa){if(!p.isBuffer(C))throw new TypeError("Argument must be a Buffer");void 0===B&&(B=0);void 0===N&&(N=C?C.length:0);void 0===Y&&(Y=0);void 0===Aa&&(Aa=this.length);if(0>B||N>C.length||0>Y||Aa>this.length)throw new RangeError("out of range index");
if(Y>=Aa&&B>=N)return 0;if(Y>=Aa)return-1;if(B>=N)return 1;B>>>=0;N>>>=0;Y>>>=0;Aa>>>=0;if(this===C)return 0;var sa=Aa-Y,la=N-B,Ia=Math.min(sa,la);Y=this.slice(Y,Aa);C=C.slice(B,N);for(B=0;B<Ia;++B)if(Y[B]!==C[B]){sa=Y[B];la=C[B];break}return sa<la?-1:la<sa?1:0};p.prototype.includes=function(C,B,N){return-1!==this.indexOf(C,B,N)};p.prototype.indexOf=function(C,B,N){return h(this,C,B,N,!0)};p.prototype.lastIndexOf=function(C,B,N){return h(this,C,B,N,!1)};p.prototype.write=function(C,B,N,Y){if(void 0===
B)Y="utf8",N=this.length,B=0;else if(void 0===N&&"string"===typeof B)Y=B,N=this.length,B=0;else if(isFinite(B))B|=0,isFinite(N)?(N|=0,void 0===Y&&(Y="utf8")):(Y=N,N=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Aa=this.length-B;if(void 0===N||N>Aa)N=Aa;if(0<C.length&&(0>N||0>B)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");for(Aa=!1;;)switch(Y){case "hex":a:{B=Number(B)||0;Y=this.length-B;N?(N=
Number(N),N>Y&&(N=Y)):N=Y;Y=C.length;if(0!==Y%2)throw new TypeError("Invalid hex string");N>Y/2&&(N=Y/2);for(Y=0;Y<N;++Y){Aa=parseInt(C.substr(2*Y,2),16);if(isNaN(Aa)){C=Y;break a}this[B+Y]=Aa}C=Y}return C;case "utf8":case "utf-8":return M(T(C,this.length-B),this,B,N);case "ascii":return M(R(C),this,B,N);case "latin1":case "binary":return M(R(C),this,B,N);case "base64":return M(ca(C),this,B,N);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":Y=C;Aa=this.length-B;for(var sa=[],la=0;la<Y.length&&
!(0>(Aa-=2));++la){var Ia=Y.charCodeAt(la);C=Ia>>8;Ia%=256;sa.push(Ia);sa.push(C)}return M(sa,this,B,N);default:if(Aa)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase();Aa=!0}};p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var La=4096;p.prototype.slice=function(C,B){var N=this.length;C=~~C;B=void 0===B?N:~~B;0>C?(C+=N,0>C&&(C=0)):C>N&&(C=N);0>B?(B+=N,0>B&&(B=0)):B>N&&(B=N);B<C&&(B=C);if(p.TYPED_ARRAY_SUPPORT)B=this.subarray(C,
B),B.__proto__=p.prototype;else{N=B-C;B=new p(N,void 0);for(var Y=0;Y<N;++Y)B[Y]=this[Y+C]}return B};p.prototype.readUIntLE=function(C,B,N){C|=0;B|=0;N||H(C,B,this.length);N=this[C];for(var Y=1,Aa=0;++Aa<B&&(Y*=256);)N+=this[C+Aa]*Y;return N};p.prototype.readUIntBE=function(C,B,N){C|=0;B|=0;N||H(C,B,this.length);N=this[C+--B];for(var Y=1;0<B&&(Y*=256);)N+=this[C+--B]*Y;return N};p.prototype.readUInt8=function(C,B){B||H(C,1,this.length);return this[C]};p.prototype.readUInt16LE=function(C,B){B||H(C,
2,this.length);return this[C]|this[C+1]<<8};p.prototype.readUInt16BE=function(C,B){B||H(C,2,this.length);return this[C]<<8|this[C+1]};p.prototype.readUInt32LE=function(C,B){B||H(C,4,this.length);return(this[C]|this[C+1]<<8|this[C+2]<<16)+16777216*this[C+3]};p.prototype.readUInt32BE=function(C,B){B||H(C,4,this.length);return 16777216*this[C]+(this[C+1]<<16|this[C+2]<<8|this[C+3])};p.prototype.readIntLE=function(C,B,N){C|=0;B|=0;N||H(C,B,this.length);N=this[C];for(var Y=1,Aa=0;++Aa<B&&(Y*=256);)N+=
this[C+Aa]*Y;N>=128*Y&&(N-=Math.pow(2,8*B));return N};p.prototype.readIntBE=function(C,B,N){C|=0;B|=0;N||H(C,B,this.length);N=B;for(var Y=1,Aa=this[C+--N];0<N&&(Y*=256);)Aa+=this[C+--N]*Y;Aa>=128*Y&&(Aa-=Math.pow(2,8*B));return Aa};p.prototype.readInt8=function(C,B){B||H(C,1,this.length);return this[C]&128?-1*(255-this[C]+1):this[C]};p.prototype.readInt16LE=function(C,B){B||H(C,2,this.length);C=this[C]|this[C+1]<<8;return C&32768?C|4294901760:C};p.prototype.readInt16BE=function(C,B){B||H(C,2,this.length);
C=this[C+1]|this[C]<<8;return C&32768?C|4294901760:C};p.prototype.readInt32LE=function(C,B){B||H(C,4,this.length);return this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24};p.prototype.readInt32BE=function(C,B){B||H(C,4,this.length);return this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]};p.prototype.readFloatLE=function(C,B){B||H(C,4,this.length);return W.read(this,C,!0,23,4)};p.prototype.readFloatBE=function(C,B){B||H(C,4,this.length);return W.read(this,C,!1,23,4)};p.prototype.readDoubleLE=function(C,
B){B||H(C,8,this.length);return W.read(this,C,!0,52,8)};p.prototype.readDoubleBE=function(C,B){B||H(C,8,this.length);return W.read(this,C,!1,52,8)};p.prototype.writeUIntLE=function(C,B,N,Y){C=+C;B|=0;N|=0;Y||F(this,C,B,N,Math.pow(2,8*N)-1,0);Y=1;var Aa=0;for(this[B]=C&255;++Aa<N&&(Y*=256);)this[B+Aa]=C/Y&255;return B+N};p.prototype.writeUIntBE=function(C,B,N,Y){C=+C;B|=0;N|=0;Y||F(this,C,B,N,Math.pow(2,8*N)-1,0);Y=N-1;var Aa=1;for(this[B+Y]=C&255;0<=--Y&&(Aa*=256);)this[B+Y]=C/Aa&255;return B+N};
p.prototype.writeUInt8=function(C,B,N){C=+C;B|=0;N||F(this,C,B,1,255,0);p.TYPED_ARRAY_SUPPORT||(C=Math.floor(C));this[B]=C&255;return B+1};p.prototype.writeUInt16LE=function(C,B,N){C=+C;B|=0;N||F(this,C,B,2,65535,0);p.TYPED_ARRAY_SUPPORT?(this[B]=C&255,this[B+1]=C>>>8):J(this,C,B,!0);return B+2};p.prototype.writeUInt16BE=function(C,B,N){C=+C;B|=0;N||F(this,C,B,2,65535,0);p.TYPED_ARRAY_SUPPORT?(this[B]=C>>>8,this[B+1]=C&255):J(this,C,B,!1);return B+2};p.prototype.writeUInt32LE=function(C,B,N){C=+C;
B|=0;N||F(this,C,B,4,4294967295,0);p.TYPED_ARRAY_SUPPORT?(this[B+3]=C>>>24,this[B+2]=C>>>16,this[B+1]=C>>>8,this[B]=C&255):D(this,C,B,!0);return B+4};p.prototype.writeUInt32BE=function(C,B,N){C=+C;B|=0;N||F(this,C,B,4,4294967295,0);p.TYPED_ARRAY_SUPPORT?(this[B]=C>>>24,this[B+1]=C>>>16,this[B+2]=C>>>8,this[B+3]=C&255):D(this,C,B,!1);return B+4};p.prototype.writeIntLE=function(C,B,N,Y){C=+C;B|=0;Y||(Y=Math.pow(2,8*N-1),F(this,C,B,N,Y-1,-Y));Y=0;var Aa=1,sa=0;for(this[B]=C&255;++Y<N&&(Aa*=256);)0>C&&
0===sa&&0!==this[B+Y-1]&&(sa=1),this[B+Y]=(C/Aa>>0)-sa&255;return B+N};p.prototype.writeIntBE=function(C,B,N,Y){C=+C;B|=0;Y||(Y=Math.pow(2,8*N-1),F(this,C,B,N,Y-1,-Y));Y=N-1;var Aa=1,sa=0;for(this[B+Y]=C&255;0<=--Y&&(Aa*=256);)0>C&&0===sa&&0!==this[B+Y+1]&&(sa=1),this[B+Y]=(C/Aa>>0)-sa&255;return B+N};p.prototype.writeInt8=function(C,B,N){C=+C;B|=0;N||F(this,C,B,1,127,-128);p.TYPED_ARRAY_SUPPORT||(C=Math.floor(C));0>C&&(C=255+C+1);this[B]=C&255;return B+1};p.prototype.writeInt16LE=function(C,B,N){C=
+C;B|=0;N||F(this,C,B,2,32767,-32768);p.TYPED_ARRAY_SUPPORT?(this[B]=C&255,this[B+1]=C>>>8):J(this,C,B,!0);return B+2};p.prototype.writeInt16BE=function(C,B,N){C=+C;B|=0;N||F(this,C,B,2,32767,-32768);p.TYPED_ARRAY_SUPPORT?(this[B]=C>>>8,this[B+1]=C&255):J(this,C,B,!1);return B+2};p.prototype.writeInt32LE=function(C,B,N){C=+C;B|=0;N||F(this,C,B,4,2147483647,-2147483648);p.TYPED_ARRAY_SUPPORT?(this[B]=C&255,this[B+1]=C>>>8,this[B+2]=C>>>16,this[B+3]=C>>>24):D(this,C,B,!0);return B+4};p.prototype.writeInt32BE=
function(C,B,N){C=+C;B|=0;N||F(this,C,B,4,2147483647,-2147483648);0>C&&(C=4294967295+C+1);p.TYPED_ARRAY_SUPPORT?(this[B]=C>>>24,this[B+1]=C>>>16,this[B+2]=C>>>8,this[B+3]=C&255):D(this,C,B,!1);return B+4};p.prototype.writeFloatLE=function(C,B,N){return z(this,C,B,!0,N)};p.prototype.writeFloatBE=function(C,B,N){return z(this,C,B,!1,N)};p.prototype.writeDoubleLE=function(C,B,N){return G(this,C,B,!0,N)};p.prototype.writeDoubleBE=function(C,B,N){return G(this,C,B,!1,N)};p.prototype.copy=function(C,B,
N,Y){N||(N=0);Y||0===Y||(Y=this.length);B>=C.length&&(B=C.length);B||(B=0);0<Y&&Y<N&&(Y=N);if(Y===N||0===C.length||0===this.length)return 0;if(0>B)throw new RangeError("targetStart out of bounds");if(0>N||N>=this.length)throw new RangeError("sourceStart out of bounds");if(0>Y)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length);C.length-B<Y-N&&(Y=C.length-B+N);var Aa=Y-N;if(this===C&&N<B&&B<Y)for(Y=Aa-1;0<=Y;--Y)C[Y+B]=this[Y+N];else if(1E3>Aa||!p.TYPED_ARRAY_SUPPORT)for(Y=
0;Y<Aa;++Y)C[Y+B]=this[Y+N];else Uint8Array.prototype.set.call(C,this.subarray(N,N+Aa),B);return Aa};p.prototype.fill=function(C,B,N,Y){if("string"===typeof C){"string"===typeof B?(Y=B,B=0,N=this.length):"string"===typeof N&&(Y=N,N=this.length);if(1===C.length){var Aa=C.charCodeAt(0);256>Aa&&(C=Aa)}if(void 0!==Y&&"string"!==typeof Y)throw new TypeError("encoding must be a string");if("string"===typeof Y&&!p.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);}else"number"===typeof C&&(C&=255);
if(0>B||this.length<B||this.length<N)throw new RangeError("Out of range index");if(N<=B)return this;B>>>=0;N=void 0===N?this.length:N>>>0;C||(C=0);if("number"===typeof C)for(Y=B;Y<N;++Y)this[Y]=C;else for(C=p.isBuffer(C)?C:T((new p(C,Y)).toString()),Aa=C.length,Y=0;Y<N-B;++Y)this[Y+B]=C[Y%Aa];return this};var aa=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[22]=function(Ka,L,sb,A){var w=L(21).Buffer;(function(k,p){"object"===typeof A&&"undefined"!==typeof sb?p(A,L(14),L(15),L(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,p(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,p,q,t){function m(sa,la){const Ia=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const bb=yield Ia.sanitize(sa,la),ib=bb.href;
return bb.localFile?Ia.file(ib):Ia.http(ib,la)})}function f(sa,la){const Ia=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){la=p.extend({},Ia.options,la);const bb=Ia.fileAccess,ib={href:null};var Ja;let ma;var Fa=M.test(sa.replace(ba,""));null!=sa&&"string"===typeof sa&&Fa||p.error("Sanitize failure, invalid URI: "+p.stringValue(sa));Fa=ca.test(sa);(Ja=la.baseURL)&&!Fa&&(sa.startsWith("/")||Ja.endsWith("/")||(sa="/"+sa),sa=Ja+sa);ma=(Ja=sa.startsWith("file://"))||"file"===la.mode||
"http"!==la.mode&&!Fa&&bb;Ja?sa=sa.slice(7):sa.startsWith("//")&&("file"===la.defaultProtocol?(sa=sa.slice(2),ma=!0):sa=(la.defaultProtocol||"http")+":"+sa);Object.defineProperty(ib,"localFile",{value:!!ma});ib.href=sa;la.target&&(ib.target=la.target+"");la.rel&&(ib.rel=la.rel+"");"image"===la.context&&la.crossOrigin&&(ib.crossOrigin=la.crossOrigin+"");return ib})}function b(sa){return sa?la=>new Promise((Ia,bb)=>{sa.readFile(la,(ib,Ja)=>{ib?bb(ib):Ia(Ja)})}):c}function c(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){p.error("No file system access.")})}
function e(sa){return sa?function(la,Ia){const bb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var ib=p.extend({},bb.options.http,Ia);const Ja=Ia&&Ia.response;ib=yield sa(la,ib);return ib.ok?p.isFunction(ib[Ja])?ib[Ja]():ib.text():p.error(ib.status+""+ib.statusText)})}:g}function g(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){p.error("No HTTP fetch method available.")})}function n(sa,la){if(!sa||!sa.length)return"unknown";const Ia=sa.length,bb=La.length,
ib=La.map((Ja,ma)=>ma+1);for(let Ja=0,ma=0,Fa,Pa;Ja<Ia;++Ja)for(Pa=la?sa[Ja][la]:sa[Ja],Fa=0;Fa<bb;++Fa)if(ib[Fa]&&null!=Pa&&Pa===Pa&&!La[Fa](Pa)&&(ib[Fa]=0,++ma,ma===La.length))return"string";return aa[ib.reduce((Ja,ma)=>0===Ja?ma:Ja,0)-1]}function h(sa,la){return la.reduce((Ia,bb)=>{Ia[bb]=n(sa,bb);return Ia},{})}function x(sa){return new Function("d","return {"+sa.map(function(la,Ia){return JSON.stringify(la)+": d["+Ia+'] || ""'}).join(",")+"}")}function O(sa,la){var Ia=x(sa);return function(bb,
ib){return la(Ia(bb),ib,sa)}}function H(sa){var la=Object.create(null),Ia=[];sa.forEach(function(bb){for(var ib in bb)ib in la||Ia.push(la[ib]=ib)});return Ia}function F(sa,la){sa+="";var Ia=sa.length;return Ia<la?Array(la-Ia+1).join(0)+sa:sa}function J(sa){function la(Fa,Pa){function qa(){if(ra)return B;if(Oa)return Oa=!1,C;var U,ka=va,wa;if(34===Fa.charCodeAt(ka)){for(;va++<oa&&34!==Fa.charCodeAt(va)||34===Fa.charCodeAt(++va););(U=va)>=oa?ra=!0:10===(wa=Fa.charCodeAt(va++))?Oa=!0:13===wa&&(Oa=!0,
10===Fa.charCodeAt(va)&&++va);return Fa.slice(ka+1,U-1).replace(/""/g,'"')}for(;va<oa;){if(10===(wa=Fa.charCodeAt(U=va++)))Oa=!0;else if(13===wa)Oa=!0,10===Fa.charCodeAt(va)&&++va;else if(wa!==ma)continue;return Fa.slice(ka,U)}return ra=!0,Fa.slice(ka,oa)}var ya=[],oa=Fa.length,va=0,Ua=0,eb,ra=0>=oa,Oa=!1;10===Fa.charCodeAt(oa-1)&&--oa;for(13===Fa.charCodeAt(oa-1)&&--oa;(eb=qa())!==B;){for(var ja=[];eb!==C&&eb!==B;)ja.push(eb),eb=qa();Pa&&null==(ja=Pa(ja,Ua++))||ya.push(ja)}return ya}function Ia(Fa,
Pa){return Fa.map(function(qa){return Pa.map(function(ya){return ib(qa[ya])}).join(sa)})}function bb(Fa){return Fa.map(ib).join(sa)}function ib(Fa){if(null==Fa)Fa="";else{if(Fa instanceof Date){var Pa=Fa.getUTCHours();var qa=Fa.getUTCMinutes(),ya=Fa.getUTCSeconds(),oa=Fa.getUTCMilliseconds();if(isNaN(Fa))Fa="Invalid Date";else{var va=Fa.getUTCFullYear();Fa=(0>va?"-"+F(-va,6):9999<va?"+"+F(va,6):F(va,4))+"-"+F(Fa.getUTCMonth()+1,2)+"-"+F(Fa.getUTCDate(),2)+(oa?"T"+F(Pa,2)+":"+F(qa,2)+":"+F(ya,2)+"."+
F(oa,3)+"Z":ya?"T"+F(Pa,2)+":"+F(qa,2)+":"+F(ya,2)+"Z":qa||Pa?"T"+F(Pa,2)+":"+F(qa,2)+"Z":"")}Pa=Fa}else Pa=Ja.test(Fa+="")?'"'+Fa.replace(/"/g,'""')+'"':Fa;Fa=Pa}return Fa}var Ja=new RegExp('["'+sa+"\n\r]"),ma=sa.charCodeAt(0);return{parse:function(Fa,Pa){var qa,ya;Fa=la(Fa,function(oa,va){if(qa)return qa(oa,va-1);ya=oa;qa=Pa?O(oa,Pa):x(oa)});Fa.columns=ya||[];return Fa},parseRows:la,format:function(Fa,Pa){null==Pa&&(Pa=H(Fa));return[Pa.map(ib).join(sa)].concat(Ia(Fa,Pa)).join("\n")},formatBody:function(Fa,
Pa){null==Pa&&(Pa=H(Fa));return Ia(Fa,Pa).join("\n")},formatRows:function(Fa){return Fa.map(bb).join("\n")},formatRow:bb,formatValue:ib}}function D(sa){const la=function(Ia,bb){const ib={delimiter:sa};return r(Ia,bb?p.extend(bb,ib):ib)};la.responseType="text";return la}function r(sa,la){la.header&&(sa=la.header.map(p.stringValue).join(la.delimiter)+"\n"+sa);return J(la.delimiter).parse(sa+"")}function z(sa,la){const Ia=la&&la.property?p.field(la.property):p.identity;var bb;if(bb=p.isObject(sa))bb=
!("function"===typeof w&&p.isFunction(w.isBuffer)&&w.isBuffer(sa));bb?(sa=Ia(sa),!p.isArray(sa)&&p.isIterable(sa)&&(sa=[...sa]),la=la&&la.copy?JSON.parse(JSON.stringify(sa)):sa):la=Ia(JSON.parse(sa));return la}function G(sa,la){let Ia,bb,ib,Ja;sa=z(sa,la);la&&la.feature?(Ia=q.feature,ib=la.feature):la&&la.mesh?(Ia=q.mesh,ib=la.mesh,Ja=N[la.filter]):p.error("Missing TopoJSON feature or mesh parameter.");return(bb=(bb=sa.objects[ib])?Ia(sa,bb,Ja):p.error("Invalid TopoJSON object: "+ib))&&bb.features||
[bb]}function T(sa,la){return 1<arguments.length?(Y[sa]=la,this):p.hasOwnProperty(Y,sa)?Y[sa]:null}function R(sa,la,Ia,bb){if(sa.length){var ib=t.timeFormatDefaultLocale();Ia=Ia||ib.timeParse;bb=bb||ib.utcParse;ib=sa.columns||Object.keys(sa[0]);var Ja,ma;"auto"===la&&(la=h(sa,ib));ib=Object.keys(la);var Fa=ib.map(va=>{var Ua=la[va];if(Ua&&(Ua.startsWith("date:")||Ua.startsWith("utc:"))){va=Ua.split(/:(.+)?/,2);Ua=va[1];if("'"===Ua[0]&&"'"===Ua[Ua.length-1]||'"'===Ua[0]&&'"'===Ua[Ua.length-1])Ua=Ua.slice(1,
-1);return("utc"===va[0]?bb:Ia)(Ua)}if(!ea[Ua])throw Error("Illegal format pattern: "+va+":"+Ua);return ea[Ua]});var Pa=0;var qa=sa.length;for(ma=ib.length;Pa<qa;++Pa){var ya=sa[Pa];for(Ja=0;Ja<ma;++Ja){var oa=ib[Ja];ya[oa]=Fa[Ja](ya[oa])}}}}const ca=/^(data:|([A-Za-z]+:)?\/\/)/,M=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ba=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,W=sa=>!Number.isNaN(+sa)&&!(sa instanceof Date),ea={boolean:p.toBoolean,
integer:p.toNumber,number:p.toNumber,date:p.toDate,string:p.toString,unknown:p.identity},La=[sa=>"true"===sa||"false"===sa||!0===sa||!1===sa,sa=>W(sa)&&Number.isInteger(+sa),W,sa=>!Number.isNaN(Date.parse(sa))],aa=["boolean","integer","number","date"];var C={},B={};r.responseType="text";z.responseType="json";const N={interior:(sa,la)=>sa!==la,exterior:(sa,la)=>sa===la};G.responseType="json";const Y={dsv:r,csv:D(","),tsv:D("\t"),json:z,topojson:G},Aa=function(sa,la){return Ia=>({options:Ia||{},sanitize:f,
load:m,fileAccess:!!la,file:b(la),http:e(sa)})}("undefined"!==typeof fetch&&fetch,null);k.format=Y;k.formats=T;k.inferType=n;k.inferTypes=h;k.loader=Aa;k.read=function(sa,la,Ia,bb){la=la||{};const ib=T(la.type||"json");ib||p.error("Unknown data format type: "+la.type);sa=ib(sa,la);la.parse&&R(sa,la.parse,Ia,bb);p.hasOwnProperty(sa,"columns")&&delete sa.columns;return sa};k.responseType=function(sa){return(sa=T(sa))&&sa.responseType||"text"};k.typeParsers=ea;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[23]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(22),L(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega))})(this,function(w,k,p,q){function t(Ja){const ma=Ja||k.identity,Fa=[],Pa={};Fa.add=qa=>{const ya=ma(qa);Pa[ya]||(Pa[ya]=1,Fa.push(qa));return Fa};Fa.remove=qa=>{const ya=ma(qa);Pa[ya]&&(Pa[ya]=
0,qa=Fa.indexOf(qa),0<=qa&&Fa.splice(qa,1));return Fa};return Fa}function m(Ja,ma){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield ma(Ja)}catch(Fa){Ja.error(Fa)}})}function f(Ja){Ja=Ja===Object(Ja)?Ja:{data:Ja};if(!Ja[B]){var ma=N++;Ja[B]=ma}return Ja}function b(Ja,ma){for(const Fa in Ja)ma[Fa]=Ja[Fa];return ma}function c(Ja){return Ja&&Ja.constructor===e}function e(){const Ja=[],ma=[],Fa=[],Pa=[],qa=[];let ya=null,oa=!1;return{constructor:e,insert(va){va=k.array(va);const Ua=
va.length;for(let eb=0;eb<Ua;++eb)Ja.push(va[eb]);return this},remove(va){const Ua=k.isFunction(va)?Pa:ma;va=k.array(va);const eb=va.length;for(let ra=0;ra<eb;++ra)Ua.push(va[ra]);return this},modify(va,Ua,eb){Ua={field:Ua,value:k.constant(eb)};k.isFunction(va)?(Ua.filter=va,qa.push(Ua)):(Ua.tuple=va,Fa.push(Ua));return this},encode(va,Ua){k.isFunction(va)?qa.push({filter:va,field:Ua}):Fa.push({tuple:va,field:Ua});return this},clean(va){ya=va;return this},reflow(){oa=!0;return this},pulse(va,Ua){function eb(lb,
nb,Mb){Mb?lb[nb]=Mb(lb):va.encode=nb;oa||(Oa[lb[B]]=lb)}const ra={},Oa={};let ja,U,ka,wa,Ta,db;ja=0;for(U=Ua.length;ja<U;++ja)ra[Ua[ja][B]]=1;ja=0;for(U=ma.length;ja<U;++ja)Ta=ma[ja],ra[Ta[B]]=-1;ja=0;for(U=Pa.length;ja<U;++ja)wa=Pa[ja],Ua.forEach(lb=>{wa(lb)&&(ra[lb[B]]=-1)});ja=0;for(U=Ja.length;ja<U;++ja)Ta=Ja[ja],db=Ta[B],ra[db]?ra[db]=1:va.add.push(f(Ja[ja]));ja=0;for(U=Ua.length;ja<U;++ja)Ta=Ua[ja],0>ra[Ta[B]]&&va.rem.push(Ta);ja=0;for(U=Fa.length;ja<U;++ja)ka=Fa[ja],Ta=ka.tuple,wa=ka.field,
db=ra[Ta[B]],0<db&&(eb(Ta,wa,ka.value),va.modifies(wa));ja=0;for(U=qa.length;ja<U;++ja)ka=qa[ja],wa=ka.filter,Ua.forEach(lb=>{wa(lb)&&0<ra[lb[B]]&&eb(lb,ka.field,ka.value)}),va.modifies(ka.field);if(oa)va.mod=ma.length||Pa.length?Ua.filter(lb=>0<ra[lb[B]]):Ua.slice();else for(db in Oa)va.mod.push(Oa[db]);(ya||null==ya&&(ma.length||Pa.length))&&va.clean(!0);return va}}}function g(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function n(Ja,ma,Fa,Pa){this.id=++Y;this.value=Ja;this.qrank=
this.rank=this.stamp=-1;this.flags=0;ma&&(this._update=ma);Fa&&this.parameters(Fa,Pa)}function h(Ja){return function(ma){const Fa=this.flags;if(0===arguments.length)return!!(Fa&Ja);this.flags=ma?Fa|Ja:Fa&~Ja;return this}}function x(Ja,ma,Fa){this.id=++sa;this.value=null;Fa&&(this.receive=Fa);Ja&&(this._filter=Ja);ma&&(this._apply=ma)}function O(Ja,ma,Fa){return new x(Ja,ma,Fa)}function H(Ja){let ma;const Fa=new Promise(Pa=>ma=Pa);Fa.requests=0;Fa.done=()=>{0===--Fa.requests&&(Ja._pending=null,ma(Ja))};
return Ja._pending=Fa}function F(Ja,ma,Fa,Pa,qa,ya){const oa=k.extend({},ya,la);let va;k.isFunction(Fa)||(Fa=k.constant(Fa));void 0===Pa?qa=Ua=>Ja.touch(Fa(Ua)):k.isFunction(Pa)?(va=new n(null,Pa,qa,!1),qa=Ua=>{va.evaluate(Ua);Ua=Fa(Ua);const eb=va.value;c(eb)?Ja.pulse(Ua,eb,ya):Ja.update(Ua,eb,oa)}):qa=Ua=>Ja.update(Fa(Ua),Pa,oa);ma.apply(qa)}function J(Ja,ma,Fa,Pa,qa,ya){void 0===Pa?ma.targets().add(Fa):(ya=ya||{},Pa=new n(null,D(Fa,Pa),qa,!1),Pa.modified(ya.force),Pa.rank=ma.rank,ma.targets().add(Pa),
Fa&&(Pa.skip(!0),Pa.value=Fa.value,Pa.targets().add(Fa),Ja.connect(Fa,[Pa])))}function D(Ja,ma){ma=k.isFunction(ma)?ma:k.constant(ma);return Ja?function(Fa,Pa){Fa=ma(Fa,Pa);Ja.skip()||(Ja.skip(Fa!==this.value).value=Fa);return Fa}:ma}function r(Ja,ma,Fa){this.dataflow=Ja;this.stamp=null==ma?-1:ma;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Fa||null}function z(Ja,ma){const Fa=[];k.visitArray(Ja,ma,Pa=>Fa.push(Pa));return Fa}function G(Ja,ma){const Fa={};Ja.visit(ma,Pa=>{Fa[Pa[B]]=
1});return Pa=>Fa[Pa[B]]?null:Pa}function T(Ja,ma){return Ja?(Fa,Pa)=>Ja(Fa,Pa)&&ma(Fa,Pa):ma}function R(Ja,ma,Fa,Pa){const qa=Fa.length;let ya=0;this.dataflow=Ja;this.stamp=ma;this.fields=null;this.encode=Pa||null;this.pulses=Fa;for(Ja=0;Ja<qa;++Ja)if(Pa=Fa[Ja],Pa.stamp===ma){if(Pa.fields){const oa=this.fields||(this.fields={});for(const va in Pa.fields)oa[va]=1}Pa.changed(this.ADD)&&(ya|=this.ADD);Pa.changed(this.REM)&&(ya|=this.REM);Pa.changed(this.MOD)&&(ya|=this.MOD)}this.changes=ya}function ca(Ja){Ja.error("Dataflow already running. Use runAsync() to chain invocations.");
return Ja}function M(Ja,ma){if(ma&&ma.stamp===Ja.stamp)return ma;Ja=Ja.fork();ma&&ma!==Ia&&(Ja.source=ma.source);return Ja}function ba(Ja){let ma=[];return{clear:()=>ma=[],size:()=>ma.length,peek:()=>ma[0],push:Fa=>{ma.push(Fa);return W(ma,0,ma.length-1,Ja)},pop:()=>{var Fa=ma.pop();let Pa;if(ma.length){Pa=ma[0];ma[0]=Fa;Fa=ma;var qa=0;const ya=qa,oa=Fa.length,va=Fa[qa];let Ua=(qa<<1)+1,eb;for(;Ua<oa;)eb=Ua+1,eb<oa&&0<=Ja(Fa[Ua],Fa[eb])&&(Ua=eb),Fa[qa]=Fa[Ua],qa=Ua,Ua=(qa<<1)+1;Fa[qa]=va;W(Fa,ya,
qa,Ja)}else Pa=Fa;return Pa}}}function W(Ja,ma,Fa,Pa){let qa,ya;const oa=Ja[Fa];for(;Fa>ma;)if(ya=Fa-1>>1,qa=Ja[ya],0>Pa(oa,qa))Ja[Fa]=qa,Fa=ya;else break;return Ja[Fa]=oa}function ea(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=q.defaultLocale();try{this._loader=p.loader()}catch(Ja){}this._touched=t(k.id);this._input={};this._pulse=null;this._heap=ba((Ja,ma)=>Ja.qrank-ma.qrank);this._postrun=[]}function La(Ja){return function(){return this._log[Ja].apply(this,
arguments)}}function aa(Ja,ma){n.call(this,Ja,null,ma)}function C(Ja){Ja=Ja&&Ja.toLowerCase();return k.hasOwnProperty(ib,Ja)?ib[Ja]:null}const B=Symbol("vega_id");let N=1;g.prototype={set(Ja,ma,Fa,Pa){const qa=this[Ja],ya=this["_:mod:_"];if(null!=ma&&0<=ma){if(qa[ma]!==Fa||Pa)qa[ma]=Fa,ya[ma+":"+Ja]=-1,ya[Ja]=-1}else if(qa!==Fa||Pa)this[Ja]=Fa,ya[Ja]=k.isArray(Fa)?1+Fa.length:-1;return this},modified(Ja,ma){const Fa=this["_:mod:_"];if(!arguments.length){for(var Pa in Fa)if(Fa[Pa])return!0;return!1}if(k.isArray(Ja)){for(Pa=
0;Pa<Ja.length;++Pa)if(Fa[Ja[Pa]])return!0;return!1}return null!=ma&&0<=ma?ma+1<Fa[Ja]||!!Fa[ma+":"+Ja]:!!Fa[Ja]},clear(){this["_:mod:_"]={};return this}};let Y=0;const Aa=new g;n.prototype={targets(){return this._targets||(this._targets=t(k.id))},set(Ja){return this.value!==Ja?(this.value=Ja,1):0},skip:h(1),modified:h(2),parameters(Ja,ma,Fa){ma=!1!==ma;const Pa=this._argval=this._argval||new g,qa=this._argops=this._argops||[],ya=[];let oa,va,Ua,eb;const ra=(Oa,ja,U)=>{U instanceof n?(U!==this&&(ma&&
U.targets().add(this),ya.push(U)),qa.push({op:U,name:Oa,index:ja})):Pa.set(Oa,ja,U)};for(oa in Ja)if(va=Ja[oa],"pulse"===oa)k.array(va).forEach(Oa=>{Oa instanceof n?Oa!==this&&(Oa.targets().add(this),ya.push(Oa)):k.error("Pulse parameters must be operator instances.")}),this.source=va;else if(k.isArray(va))for(Pa.set(oa,-1,Array(Ua=va.length)),eb=0;eb<Ua;++eb)ra(oa,eb,va[eb]);else ra(oa,-1,va);this.marshall().clear();Fa&&(qa.initonly=!0);return ya},marshall(Ja){const ma=this._argval||Aa,Fa=this._argops;
let Pa,qa,ya,oa;if(Fa){const va=Fa.length;for(qa=0;qa<va;++qa)Pa=Fa[qa],ya=Pa.op,oa=ya.modified()&&ya.stamp===Ja,ma.set(Pa.name,Pa.index,ya.value,oa);if(Fa.initonly){for(qa=0;qa<va;++qa)Pa=Fa[qa],Pa.op.targets().remove(this);this._update=this._argops=null}}return ma},detach(){const Ja=this._argops;let ma,Fa;if(Ja)for(ma=0,Fa=Ja.length;ma<Fa;++ma){var Pa=Ja[ma];Pa=Pa.op;Pa._targets&&Pa._targets.remove(this)}this.source=this.pulse=null},evaluate(Ja){var ma=this._update;if(ma){const Fa=this.marshall(Ja.stamp);
ma=ma.call(this,Fa,Ja);Fa.clear();if(ma!==this.value)this.value=ma;else if(!this.modified())return Ja.StopPropagation}},run(Ja){if(Ja.stamp<this.stamp)return Ja.StopPropagation;let ma;this.skip()?(this.skip(!1),ma=0):ma=this.evaluate(Ja);return this.pulse=ma||Ja}};let sa=0;x.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=t(k.id))},consume(Ja){if(!arguments.length)return!!this._consume;this._consume=!!Ja;return this},receive(Ja){if(this._filter(Ja)){const ma=
this.value=this._apply(Ja),Fa=this._targets,Pa=Fa?Fa.length:0;for(let qa=0;qa<Pa;++qa)Fa[qa].receive(ma);this._consume&&(Ja.preventDefault(),Ja.stopPropagation())}},filter(Ja){Ja=O(Ja);this.targets().add(Ja);return Ja},apply(Ja){Ja=O(null,Ja);this.targets().add(Ja);return Ja},merge(){const Ja=O();this.targets().add(Ja);for(let ma=0,Fa=arguments.length;ma<Fa;++ma)arguments[ma].targets().add(Ja);return Ja},throttle(Ja){let ma=-1;return this.filter(()=>{const Fa=Date.now();return Fa-ma>Ja?(ma=Fa,1):
0})},debounce(Ja){const ma=O();this.targets().add(O(null,null,k.debounce(Ja,Fa=>{const Pa=Fa.dataflow;ma.receive(Fa);Pa&&Pa.run&&Pa.run()})));return ma},between(Ja,ma){let Fa=!1;Ja.targets().add(O(null,null,()=>Fa=!0));ma.targets().add(O(null,null,()=>Fa=!1));return this.filter(()=>Fa)},detach(){this._filter=k.truthy;this._targets=null}};const la={skip:!0},Ia={};r.prototype={StopPropagation:Ia,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(Ja){return(new r(this.dataflow)).init(this,
Ja)},clone(){const Ja=this.fork(7);Ja.add=Ja.add.slice();Ja.rem=Ja.rem.slice();Ja.mod=Ja.mod.slice();Ja.source&&(Ja.source=Ja.source.slice());return Ja.materialize(23)},addAll(){let Ja=this;Ja.source&&Ja.add!==Ja.rem&&(Ja.rem.length||Ja.source.length!==Ja.add.length)&&(Ja=(new r(this.dataflow)).init(this),Ja.add=Ja.source,Ja.rem=[]);return Ja},init(Ja,ma){this.stamp=Ja.stamp;this.encode=Ja.encode;!Ja.fields||ma&64||(this.fields=Ja.fields);ma&1?(this.addF=Ja.addF,this.add=Ja.add):(this.addF=null,this.add=
[]);ma&2?(this.remF=Ja.remF,this.rem=Ja.rem):(this.remF=null,this.rem=[]);ma&4?(this.modF=Ja.modF,this.mod=Ja.mod):(this.modF=null,this.mod=[]);ma&32?this.source=this.srcF=null:(this.srcF=Ja.srcF,this.source=Ja.source,Ja.cleans&&(this.cleans=Ja.cleans));return this},runAfter(Ja){this.dataflow.runAfter(Ja)},changed(Ja){Ja=Ja||7;return Ja&1&&this.add.length||Ja&2&&this.rem.length||Ja&4&&this.mod.length},reflow(Ja){if(Ja)return this.fork(7).reflow();Ja=this.add.length;const ma=this.source&&this.source.length;
ma&&ma!==Ja&&(this.mod=this.source,Ja&&this.filter(4,G(this,1)));return this},clean(Ja){return arguments.length?(this.cleans=!!Ja,this):this.cleans},modifies(Ja){const ma=this.fields||(this.fields={});k.isArray(Ja)?Ja.forEach(Fa=>ma[Fa]=!0):ma[Ja]=!0;return this},modified(Ja,ma){const Fa=this.fields;return(ma||this.mod.length)&&Fa?arguments.length?k.isArray(Ja)?Ja.some(Pa=>Fa[Pa]):Fa[Ja]:!!Fa:!1},filter(Ja,ma){Ja&1&&(this.addF=T(this.addF,ma));Ja&2&&(this.remF=T(this.remF,ma));Ja&4&&(this.modF=T(this.modF,
ma));Ja&16&&(this.srcF=T(this.srcF,ma));return this},materialize(Ja){Ja=Ja||7;Ja&1&&this.addF&&(this.add=z(this.add,this.addF),this.addF=null);Ja&2&&this.remF&&(this.rem=z(this.rem,this.remF),this.remF=null);Ja&4&&this.modF&&(this.mod=z(this.mod,this.modF),this.modF=null);Ja&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(Ja,ma){if(Ja&16)return k.visitArray(this.source,this.srcF,ma),this;Ja&1&&k.visitArray(this.add,this.addF,ma);Ja&2&&k.visitArray(this.rem,
this.remF,ma);Ja&4&&k.visitArray(this.mod,this.modF,ma);const Fa=this.source;Ja&8&&Fa&&(Ja=this.add.length+this.mod.length,Ja!==Fa.length&&(Ja?k.visitArray(Fa,G(this,5),ma):k.visitArray(Fa,this.srcF,ma)));return this}};k.inherits(R,r,{fork(Ja){const ma=(new r(this.dataflow)).init(this,Ja&this.NO_FIELDS);void 0!==Ja&&(Ja&ma.ADD&&this.visit(ma.ADD,Fa=>ma.add.push(Fa)),Ja&ma.REM&&this.visit(ma.REM,Fa=>ma.rem.push(Fa)),Ja&ma.MOD&&this.visit(ma.MOD,Fa=>ma.mod.push(Fa)));return ma},changed(Ja){return this.changes&
Ja},modified(Ja){const ma=this.fields;return ma&&this.changes&this.MOD?k.isArray(Ja)?Ja.some(Fa=>ma[Fa]):ma[Ja]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},visit(Ja,ma){const Fa=this.pulses,Pa=Fa.length;let qa=0;if(Ja&this.SOURCE)for(;qa<Pa;++qa)Fa[qa].visit(Ja,ma);else for(;qa<Pa;++qa)Fa[qa].stamp===this.stamp&&Fa[qa].visit(Ja,ma);return this}});const bb={skip:!1,force:!1};ea.prototype={stamp(){return this._clock},
loader(Ja){return arguments.length?(this._loader=Ja,this):this._loader},locale(Ja){return arguments.length?(this._locale=Ja,this):this._locale},logger(Ja){return arguments.length?(this._log=Ja,this):this._log},error:La("error"),warn:La("warn"),info:La("info"),debug:La("debug"),logLevel:La("level"),cleanThreshold:1E4,add:function(Ja,ma,Fa,Pa){let qa=1;Ja instanceof n||(Ja&&Ja.prototype instanceof n?Ja=new Ja:k.isFunction(Ja)?Ja=new n(null,Ja):(qa=0,Ja=new n(Ja,ma)));this.rank(Ja);qa&&(Pa=Fa,Fa=ma);
Fa&&this.connect(Ja,Ja.parameters(Fa,Pa));this.touch(Ja);return Ja},connect:function(Ja,ma){const Fa=Ja.rank,Pa=ma.length;for(let qa=0;qa<Pa;++qa)if(Fa<ma[qa].rank){this.rerank(Ja);break}},rank:function(Ja){Ja.rank=++this._rank},rerank:function(Ja){const ma=[Ja];let Fa,Pa,qa;for(;ma.length;)if(this.rank(Fa=ma.pop()),Pa=Fa._targets)for(qa=Pa.length;0<=--qa;)ma.push(Fa=Pa[qa]),Fa===Ja&&k.error("Cycle detected in dataflow graph.")},pulse:function(Ja,ma,Fa){this.touch(Ja,Fa||bb);Fa=new r(this,this._clock+
(this._pulse?0:1));const Pa=Ja.pulse&&Ja.pulse.source||[];Fa.target=Ja;this._input[Ja.id]=ma.pulse(Fa,Pa);return this},touch:function(Ja,ma){ma=ma||bb;this._pulse?this._enqueue(Ja):this._touched.add(Ja);ma.skip&&Ja.skip(!0);return this},update:function(Ja,ma,Fa){Fa=Fa||bb;(Ja.set(ma)||Fa.force)&&this.touch(Ja,Fa);return this},changeset:e,ingest:function(Ja,ma,Fa){ma=this.parse(ma,Fa);return this.pulse(Ja,this.changeset().insert(ma))},parse:function(Ja,ma){const Fa=this.locale();return p.read(Ja,ma,
Fa.timeParse,Fa.utcParse)},preload:function(Ja,ma,Fa){const Pa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const qa=Pa._pending||H(Pa);qa.requests+=1;const ya=yield Pa.request(ma,Fa);Pa.pulse(Ja,Pa.changeset().remove(k.truthy).insert(ya.data||[]));qa.done();return ya})},request:function(Ja,ma){const Fa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let Pa=0,qa;try{qa=yield Fa.loader().load(Ja,{context:"dataflow",response:p.responseType(ma&&ma.type)});
try{qa=Fa.parse(qa,ma)}catch(ya){Pa=-2,Fa.warn("Data ingestion failed",Ja,ya)}}catch(ya){Pa=-1,Fa.warn("Loading failed",Ja,ya)}return{data:qa,status:Pa}})},events:function(Ja,ma,Fa,Pa){const qa=this,ya=O(Fa,Pa);Fa=function(oa){oa.dataflow=qa;try{ya.receive(oa)}catch(va){qa.error(va)}finally{qa.run()}};Ja="string"===typeof Ja&&"undefined"!==typeof document?document.querySelectorAll(Ja):k.array(Ja);Pa=Ja.length;for(let oa=0;oa<Pa;++oa)Ja[oa].addEventListener(ma,Fa);return ya},on:function(Ja,ma,Fa,Pa,
qa){(Ja instanceof n?J:F)(this,Ja,ma,Fa,Pa,qa);return this},evaluate:function(Ja,ma,Fa){const Pa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const qa=[];if(Pa._pulse)return ca(Pa);Pa._pending&&(yield Pa._pending);ma&&(yield m(Pa,ma));if(!Pa._touched.length)return Pa.debug("Dataflow invoked, but nothing to do."),Pa;var ya=++Pa._clock;Pa._pulse=new r(Pa,ya,Ja);Pa._touched.forEach(ra=>Pa._enqueue(ra,!0));Pa._touched=t(k.id);var oa=0;let va,Ua,eb;try{for(;0<Pa._heap.size();)va=
Pa._heap.pop(),va.rank!==va.qrank?Pa._enqueue(va,!0):(Ua=va.run(Pa._getPulse(va,Ja)),Ua.then?Ua=yield Ua:Ua.async&&(qa.push(Ua.async),Ua=Ia),Ua!==Ia&&va._targets&&va._targets.forEach(ra=>Pa._enqueue(ra)),++oa)}catch(ra){Pa._heap.clear(),eb=ra}Pa._input={};Pa._pulse=null;Pa.debug(`Pulse ${ya}: ${oa} operators`);eb&&(Pa._postrun=[],Pa.error(eb));if(Pa._postrun.length)for(ya=Pa._postrun.sort((ra,Oa)=>Oa.priority-ra.priority),Pa._postrun=[],oa=0;oa<ya.length;++oa)yield m(Pa,ya[oa].callback);Fa&&(yield m(Pa,
Fa));qa.length&&Promise.all(qa).then(ra=>Pa.runAsync(null,()=>{ra.forEach(Oa=>{try{Oa(Pa)}catch(ja){Pa.error(ja)}})}));return Pa})},run:function(Ja,ma,Fa){return this._pulse?ca(this):(this.evaluate(Ja,ma,Fa),this)},runAsync:function(Ja,ma,Fa){const Pa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;Pa._running;)yield Pa._running;const qa=()=>Pa._running=null;(Pa._running=Pa.evaluate(Ja,ma,Fa)).then(qa,qa);return Pa._running})},runAfter:function(Ja,ma,Fa){if(this._pulse||
ma)this._postrun.push({priority:Fa||0,callback:Ja});else try{Ja(this)}catch(Pa){this.error(Pa)}},_enqueue:function(Ja,ma){const Fa=Ja.stamp<this._clock;Fa&&(Ja.stamp=this._clock);if(Fa||ma)Ja.qrank=Ja.rank,this._heap.push(Ja)},_getPulse:function(Ja,ma){const Fa=Ja.source,Pa=this._clock;return Fa&&k.isArray(Fa)?new R(this,Pa,Fa.map(qa=>qa.pulse),ma):this._input[Ja.id]||M(this._pulse,Fa&&Fa.pulse)}};k.inherits(aa,n,{run(Ja){if(Ja.stamp<this.stamp)return Ja.StopPropagation;let ma;this.skip()?this.skip(!1):
ma=this.evaluate(Ja);ma=ma||Ja;ma.then?ma=ma.then(Fa=>this.pulse=Fa):ma!==Ja.StopPropagation&&(this.pulse=ma);return ma},evaluate(Ja){const ma=this.marshall(Ja.stamp);Ja=this.transform(ma,Ja);ma.clear();return Ja},transform(){}});const ib={};w.Dataflow=ea;w.EventStream=x;w.MultiPulse=R;w.Operator=n;w.Parameters=g;w.Pulse=r;w.Transform=aa;w.UniqueList=t;w.asyncCallback=m;w.changeset=e;w.definition=function(Ja){return(Ja=C(Ja))&&Ja.Definition||null};w.derive=function(Ja){return b(Ja,f({}))};w.ingest=
f;w.isChangeSet=c;w.isTuple=function(Ja){return!(!Ja||!Ja[B])};w.rederive=b;w.replace=function(Ja,ma){ma[B]=Ja[B];return ma};w.stableCompare=function(Ja,ma){return Ja?ma?(Fa,Pa)=>Ja(Fa,Pa)||ma(Fa)[B]-ma(Pa)[B]:(Fa,Pa)=>Ja(Fa,Pa)||Fa[B]-Pa[B]:null};w.transform=C;w.transforms=ib;w.tupleid=function(Ja){return Ja[B]};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[24]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={}))})(this,function(w){function*k(ma,Fa){if(null==Fa)for(var Pa of ma)null!=Pa&&""!==Pa&&(Pa=+Pa)>=Pa&&(yield Pa);else{Pa=-1;for(let qa of ma)qa=Fa(qa,++Pa,ma),null!=qa&&""!==qa&&(qa=+qa)>=qa&&(yield qa)}}function p(ma,Fa){return null==ma||null==Fa?NaN:ma<Fa?-1:ma>Fa?1:ma>=
Fa?0:NaN}function q(ma){return null===ma?NaN:+ma}function*t(ma,Fa){if(void 0===Fa)for(var Pa of ma)null!=Pa&&(Pa=+Pa)>=Pa&&(yield Pa);else{Pa=-1;for(let qa of ma)null!=(qa=Fa(qa,++Pa,ma))&&(qa=+qa)>=qa&&(yield qa)}}function m(ma=p){if(ma===p)return f;if("function"!==typeof ma)throw new TypeError("compare is not a function");return(Fa,Pa)=>{const qa=ma(Fa,Pa);return qa||0===qa?qa:(0===ma(Pa,Pa))-(0===ma(Fa,Fa))}}function f(ma,Fa){return(null==ma||!(ma>=ma))-(null==Fa||!(Fa>=Fa))||(ma<Fa?-1:ma>Fa?1:
0)}function b(ma,Fa){let Pa;if(void 0===Fa)for(var qa of ma)null!=qa&&(Pa<qa||void 0===Pa&&qa>=qa)&&(Pa=qa);else{qa=-1;for(let ya of ma)null!=(ya=Fa(ya,++qa,ma))&&(Pa<ya||void 0===Pa&&ya>=ya)&&(Pa=ya)}return Pa}function c(ma,Fa){let Pa;if(void 0===Fa)for(var qa of ma)null!=qa&&(Pa>qa||void 0===Pa&&qa>=qa)&&(Pa=qa);else{qa=-1;for(let ya of ma)null!=(ya=Fa(ya,++qa,ma))&&(Pa>ya||void 0===Pa&&ya>=ya)&&(Pa=ya)}return Pa}function e(ma,Fa,Pa=0,qa=ma.length-1,ya){for(ya=void 0===ya?f:m(ya);qa>Pa;){if(600<
qa-Pa){var oa=qa-Pa+1,va=Fa-Pa+1,Ua=Math.log(oa),eb=.5*Math.exp(2*Ua/3);Ua=.5*Math.sqrt(Ua*eb*(oa-eb)/oa)*(0>va-oa/2?-1:1);e(ma,Fa,Math.max(Pa,Math.floor(Fa-va*eb/oa+Ua)),Math.min(qa,Math.floor(Fa+(oa-va)*eb/oa+Ua)),ya)}oa=ma[Fa];va=Pa;eb=qa;g(ma,Pa,Fa);for(0<ya(ma[qa],oa)&&g(ma,Pa,qa);va<eb;){g(ma,va,eb);++va;for(--eb;0>ya(ma[va],oa);)++va;for(;0<ya(ma[eb],oa);)--eb}0===ya(ma[Pa],oa)?g(ma,Pa,eb):(++eb,g(ma,eb,qa));eb<=Fa&&(Pa=eb+1);Fa<=eb&&(qa=eb-1)}return ma}function g(ma,Fa,Pa){const qa=ma[Fa];
ma[Fa]=ma[Pa];ma[Pa]=qa}function n(ma,Fa,Pa){ma=Float64Array.from(t(ma,Pa));if(Pa=ma.length){if(0>=(Fa=+Fa)||2>Pa)return c(ma);if(1<=Fa)return b(ma);Fa*=Pa-1;Pa=Math.floor(Fa);var qa=b(e(ma,Pa).subarray(0,Pa+1));ma=c(ma.subarray(Pa+1));return qa+(ma-qa)*(Fa-Pa)}}function h(ma,Fa,Pa=q){if(qa=ma.length){if(0>=(Fa=+Fa)||2>qa)return+Pa(ma[0],0,ma);if(1<=Fa)return+Pa(ma[qa-1],qa-1,ma);var qa;Fa*=qa-1;qa=Math.floor(Fa);var ya=+Pa(ma[qa],qa,ma);ma=+Pa(ma[qa+1],qa+1,ma);return ya+(ma-ya)*(Fa-qa)}}function x(ma,
Fa,Pa){const qa=Float64Array.from(k(ma,Pa));qa.sort(p);return Fa.map(ya=>h(qa,ya))}function O(ma,Fa){return x(ma,[.25,.5,.75],Fa)}function H(ma,Fa){const Pa=ma.length;{var qa=0;let oa,va=0,Ua=0;if(void 0===Fa)for(var ya of ma)null!=ya&&(ya=+ya)>=ya&&(oa=ya-va,va+=oa/++qa,Ua+=oa*(ya-va));else{ya=-1;for(let eb of ma)null!=(eb=Fa(eb,++ya,ma))&&(eb=+eb)>=eb&&(oa=eb-va,va+=oa/++qa,Ua+=oa*(eb-va))}qa=1<qa?Ua/(qa-1):void 0}qa=qa?Math.sqrt(qa):qa;ma=O(ma,Fa);return 1.06*(Math.min(qa,(ma[2]-ma[0])/1.34)||
qa||Math.abs(ma[0])||1)*Math.pow(Pa,-.2)}function F(ma,Fa){const Pa=ma.length;let qa=0,ya=1,oa,va;for(;ma[qa]===ma[ya];)++ya;for(;ya<Pa;){for(oa=ya+1;ma[ya]===ma[oa];)++oa;if(ma[ya]-ma[ya-1]<Fa){for(va=ya+(qa+oa-ya-ya>>1);va<ya;)ma[va++]=ma[ya];for(;va>ya;)ma[va--]=ma[qa]}qa=ya;ya=oa}return ma}function J(ma,Fa){ma=ma||0;Fa=null==Fa?1:Fa;let Pa,qa;if(ib===ib)Pa=ib,ib=NaN;else{do{Pa=2*w.random()-1;qa=2*w.random()-1;var ya=Pa*Pa+qa*qa}while(0===ya||1<ya);ya=Math.sqrt(-2*Math.log(ya)/ya);Pa*=ya;ib=qa*
ya}return ma+Pa*Fa}function D(ma,Fa,Pa){Pa=null==Pa?1:Pa;ma=(ma-(Fa||0))/Pa;return Math.exp(-.5*ma*ma)/(Pa*Ia)}function r(ma,Fa,Pa){ma=(ma-(Fa||0))/(null==Pa?1:Pa);Fa=Math.abs(ma);37<Fa?Pa=0:(Pa=Math.exp(-Fa*Fa/2),7.07106781186547>Fa?(Pa*=(((((.0352624965998911*Fa+.700383064443688)*Fa+6.37396220353165)*Fa+33.912866078383)*Fa+112.079291497871)*Fa+221.213596169931)*Fa+220.206867912376,Pa/=((((((.0883883476483184*Fa+1.75566716318264)*Fa+16.064177579207)*Fa+86.7807322029461)*Fa+296.564248779674)*Fa+637.333633378831)*
Fa+793.826512519948)*Fa+440.413735824752):Pa=Pa/(Fa+1/(Fa+2/(Fa+3/(Fa+4/(Fa+.65)))))/2.506628274631);return 0<ma?1-Pa:Pa}function z(ma,Fa,Pa){if(0>ma||1<ma)return NaN;ma=2*ma-1;var qa=-Math.log((1-ma)*(1+ma));6.25>qa?(qa-=3.125,qa=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+
(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa):16>qa?(qa=Math.sqrt(qa)-3.25,qa=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+
(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa):Number.isFinite(qa)?(qa=Math.sqrt(qa)-5,qa=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+
(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa)*qa):qa=Infinity;return(Fa||0)+(null==Pa?1:Pa)*bb*qa*ma}function G(ma,Fa){let Pa,qa;const ya={mean(oa){return arguments.length?(Pa=oa||0,ya):Pa},stdev(oa){return arguments.length?
(qa=null==oa?1:oa,ya):qa},sample:()=>J(Pa,qa),pdf:oa=>D(oa,Pa,qa),cdf:oa=>r(oa,Pa,qa),icdf:oa=>z(oa,Pa,qa)};return ya.mean(ma).stdev(Fa)}function T(ma,Fa){Fa=null==Fa?1:Fa;return Math.exp((ma||0)+J()*Fa)}function R(ma,Fa,Pa){if(0>=ma)return 0;Pa=null==Pa?1:Pa;Fa=(Math.log(ma)-(Fa||0))/Pa;return Math.exp(-.5*Fa*Fa)/(Pa*Ia*ma)}function ca(ma,Fa,Pa){return r(Math.log(ma),Fa,Pa)}function M(ma,Fa,Pa){return Math.exp(z(ma,Fa,Pa))}function ba(ma,Fa){null==Fa&&(Fa=null==ma?1:ma,ma=0);return ma+(Fa-ma)*w.random()}
function W(ma,Fa,Pa){null==Pa&&(Pa=null==Fa?1:Fa,Fa=0);return ma>=Fa&&ma<=Pa?1/(Pa-Fa):0}function ea(ma,Fa,Pa){null==Pa&&(Pa=null==Fa?1:Fa,Fa=0);return ma<Fa?0:ma>Pa?1:(ma-Fa)/(Pa-Fa)}function La(ma,Fa,Pa){null==Pa&&(Pa=null==Fa?1:Fa,Fa=0);return 0<=ma&&1>=ma?Fa+ma*(Pa-Fa):NaN}function aa(ma,Fa,Pa,qa){qa-=ma*ma;Pa=1E-24>Math.abs(qa)?0:(Pa-ma*Fa)/qa;return[Fa-Pa*ma,Pa]}function C(ma,Fa,Pa,qa){ma=ma.filter(ja=>{let U=Fa(ja);ja=Pa(ja);return null!=U&&(U=+U)>=U&&null!=ja&&(ja=+ja)>=ja});qa&&ma.sort((ja,
U)=>Fa(ja)-Fa(U));qa=ma.length;const ya=new Float64Array(qa),oa=new Float64Array(qa);let va=0,Ua=0,eb=0,ra,Oa;for(Oa of ma)ya[va]=ma=+Fa(Oa),oa[va]=ra=+Pa(Oa),++va,Ua+=(ma-Ua)/va,eb+=(ra-eb)/va;for(va=0;va<qa;++va)ya[va]-=Ua,oa[va]-=eb;return[ya,oa,Ua,eb]}function B(ma,Fa,Pa,qa){let ya=-1,oa;for(const va of ma)ma=Fa(va),oa=Pa(va),null!=ma&&(ma=+ma)>=ma&&null!=oa&&(oa=+oa)>=oa&&qa(ma,oa,++ya)}function N(ma,Fa,Pa,qa,ya){let oa=0,va=0;B(ma,Fa,Pa,(Ua,eb)=>{Ua=eb-ya(Ua);eb-=qa;oa+=Ua*Ua;va+=eb*eb});return 1-
oa/va}function Y(ma,Fa,Pa){let qa=0,ya=0,oa=0,va=0,Ua=0;B(ma,Fa,Pa,(Oa,ja)=>{++Ua;qa+=(Oa-qa)/Ua;ya+=(ja-ya)/Ua;oa+=(Oa*ja-oa)/Ua;va+=(Oa*Oa-va)/Ua});const eb=aa(qa,ya,oa,va),ra=Oa=>eb[0]+eb[1]*Oa;return{coef:eb,predict:ra,rSquared:N(ma,Fa,Pa,ya,ra)}}function Aa(ma,Fa,Pa){const [qa,ya,oa,va]=C(ma,Fa,Pa);var Ua=qa.length,eb=0;let ra=0;var Oa=0;let ja=0,U=0,ka,wa,Ta,db;for(ka=0;ka<Ua;)wa=qa[ka],Ta=ya[ka++],db=wa*wa,eb+=(db-eb)/ka,ra+=(db*wa-ra)/ka,Oa+=(db*db-Oa)/ka,ja+=(wa*Ta-ja)/ka,U+=(db*Ta-U)/ka;
Ua=Oa-eb*eb;Oa=eb*Ua-ra*ra;const lb=(U*eb-ja*ra)/Oa,nb=(ja*Ua-U*ra)/Oa,Mb=-lb*eb;eb=$b=>{$b-=oa;return lb*$b*$b+nb*$b+Mb+va};return{coef:[Mb-nb*oa+lb*oa*oa+va,nb-2*lb*oa,lb],predict:eb,rSquared:N(ma,Fa,Pa,va,eb)}}function sa(ma,Fa,Pa,qa){const ya=Array(ma);let oa,va,Ua;for(oa=0;oa<ma;++oa)ya[oa]=0;for(oa=ma-1;0<=oa;--oa)for(va=Fa[oa],Ua=1,ya[oa]+=va,ma=1;ma<=oa;++ma)Ua*=(oa+1-ma)/ma,ya[oa-ma]+=va*Math.pow(Pa,ma)*Ua;ya[0]+=qa;return ya}function la(ma){const Fa=ma.length-1,Pa=[];let qa,ya,oa,va,Ua;
for(qa=0;qa<Fa;++qa){va=qa;for(ya=qa+1;ya<Fa;++ya)Math.abs(ma[qa][ya])>Math.abs(ma[qa][va])&&(va=ya);for(oa=qa;oa<Fa+1;++oa)Ua=ma[oa][qa],ma[oa][qa]=ma[oa][va],ma[oa][va]=Ua;for(ya=qa+1;ya<Fa;++ya)for(oa=Fa;oa>=qa;oa--)ma[oa][ya]-=ma[oa][qa]*ma[qa][ya]/ma[qa][qa]}for(ya=Fa-1;0<=ya;--ya){Ua=0;for(oa=ya+1;oa<Fa;++oa)Ua+=ma[oa][ya]*Pa[oa];Pa[ya]=(ma[Fa][ya]-Ua)/ma[ya][ya]}return Pa}w.random=Math.random;const Ia=Math.sqrt(2*Math.PI),bb=Math.SQRT2;let ib=NaN;const Ja=.5*Math.PI/180;w.bandwidthNRD=H;w.bin=
function(ma){var Fa=ma.maxbins||20;const Pa=ma.base||10,qa=Math.log(Pa),ya=ma.divide||[5,2];let oa=ma.extent[0],va=ma.extent[1];let Ua,eb,ra,Oa;const ja=ma.span||va-oa||Math.abs(oa)||1;if(ma.step)var U=ma.step;else if(ma.steps){eb=ja/Fa;ra=0;for(Oa=ma.steps.length;ra<Oa&&ma.steps[ra]<eb;++ra);U=ma.steps[Math.max(0,ra-1)]}else{U=Math.ceil(Math.log(Fa)/qa);Ua=ma.minstep||0;for(U=Math.max(Ua,Math.pow(Pa,Math.round(Math.log(ja)/qa)-U));Math.ceil(ja/U)>Fa;)U*=Pa;ra=0;for(Oa=ya.length;ra<Oa;++ra)eb=U/ya[ra],
eb>=Ua&&ja/eb<=Fa&&(U=eb)}eb=Math.log(U);Fa=Math.pow(Pa,-(0<=eb?0:~~(-eb/qa)+1)-1);if(ma.nice||void 0===ma.nice)eb=Math.floor(oa/U+Fa)*U,oa=oa<eb?eb-U:eb,va=Math.ceil(va/U)*U;return{start:oa,stop:va===oa?oa+U:va,step:U}};w.bootstrapCI=function(ma,Fa,Pa,qa){if(!ma.length)return[void 0,void 0];ma=Float64Array.from(k(ma,qa));qa=ma.length;let ya,oa,va,Ua;va=0;for(Ua=Array(Fa);va<Fa;++va){for(oa=ya=0;oa<qa;++oa)ya+=ma[~~(w.random()*qa)];Ua[va]=ya/qa}Ua.sort(p);return[n(Ua,Pa/2),n(Ua,1-Pa/2)]};w.cumulativeLogNormal=
ca;w.cumulativeNormal=r;w.cumulativeUniform=ea;w.densityLogNormal=R;w.densityNormal=D;w.densityUniform=W;w.dotbin=function(ma,Fa,Pa,qa){qa=qa||(U=>U);const ya=ma.length,oa=new Float64Array(ya);let va=0,Ua=1,eb=qa(ma[0]),ra=eb,Oa=eb+Fa,ja;for(;Ua<ya;++Ua){ja=qa(ma[Ua]);if(ja>=Oa){for(ra=(eb+ra)/2;va<Ua;++va)oa[va]=ra;Oa=ja+Fa;eb=ja}ra=ja}for(ra=(eb+ra)/2;va<Ua;++va)oa[va]=ra;return Pa?F(oa,Fa+Fa/4):oa};w.quantileLogNormal=M;w.quantileNormal=z;w.quantileUniform=La;w.quantiles=x;w.quartiles=O;w.randomInteger=
function(ma,Fa){null==Fa&&(Fa=ma,ma=0);let Pa,qa,ya;const oa={min(va){return arguments.length?(Pa=va||0,ya=qa-Pa,oa):Pa},max(va){return arguments.length?(qa=va||0,ya=qa-Pa,oa):qa},sample(){return Pa+Math.floor(ya*w.random())},pdf(va){return va===Math.floor(va)&&va>=Pa&&va<qa?1/ya:0},cdf(va){va=Math.floor(va);return va<Pa?0:va>=qa?1:(va-Pa+1)/ya},icdf(va){return 0<=va&&1>=va?Pa-1+Math.floor(va*ya):NaN}};return oa.min(ma).max(Fa)};w.randomKDE=function(ma,Fa){const Pa=G();let qa=0;const ya={data(oa){return arguments.length?
(qa=(ma=oa)?oa.length:0,ya.bandwidth(Fa)):ma},bandwidth(oa){if(!arguments.length)return Fa;Fa=oa;!Fa&&ma&&(Fa=H(ma));return ya},sample(){return ma[~~(w.random()*qa)]+Fa*Pa.sample()},pdf(oa){let va=0,Ua=0;for(;Ua<qa;++Ua)va+=Pa.pdf((oa-ma[Ua])/Fa);return va/Fa/qa},cdf(oa){let va=0,Ua=0;for(;Ua<qa;++Ua)va+=Pa.cdf((oa-ma[Ua])/Fa);return va/qa},icdf(){throw Error("KDE icdf not supported.");}};return ya.data(ma)};w.randomLCG=function(ma){return function(){ma=(1103515245*ma+12345)%2147483647;return ma/
2147483647}};w.randomLogNormal=function(ma,Fa){let Pa,qa;const ya={mean(oa){return arguments.length?(Pa=oa||0,ya):Pa},stdev(oa){return arguments.length?(qa=null==oa?1:oa,ya):qa},sample:()=>T(Pa,qa),pdf:oa=>R(oa,Pa,qa),cdf:oa=>ca(oa,Pa,qa),icdf:oa=>M(oa,Pa,qa)};return ya.mean(ma).stdev(Fa)};w.randomMixture=function(ma,Fa){let Pa=0,qa;const ya={weights(oa){if(arguments.length){var va=Fa=oa||[];const Ua=[];let eb=0,ra;for(ra=0;ra<Pa;++ra)eb+=Ua[ra]=null==va[ra]?1:+va[ra];for(ra=0;ra<Pa;++ra)Ua[ra]/=
eb;qa=Ua;return ya}return Fa},distributions(oa){return arguments.length?(oa?(Pa=oa.length,ma=oa):(Pa=0,ma=[]),ya.weights(Fa)):ma},sample(){const oa=w.random();let va=ma[Pa-1],Ua=qa[0],eb=0;for(;eb<Pa-1;Ua+=qa[++eb])if(oa<Ua){va=ma[eb];break}return va.sample()},pdf(oa){let va=0,Ua=0;for(;Ua<Pa;++Ua)va+=qa[Ua]*ma[Ua].pdf(oa);return va},cdf(oa){let va=0,Ua=0;for(;Ua<Pa;++Ua)va+=qa[Ua]*ma[Ua].cdf(oa);return va},icdf(){throw Error("Mixture icdf not supported.");}};return ya.distributions(ma).weights(Fa)};
w.randomNormal=G;w.randomUniform=function(ma,Fa){let Pa,qa;const ya={min(oa){return arguments.length?(Pa=oa||0,ya):Pa},max(oa){return arguments.length?(qa=null==oa?1:oa,ya):qa},sample:()=>ba(Pa,qa),pdf:oa=>W(oa,Pa,qa),cdf:oa=>ea(oa,Pa,qa),icdf:oa=>La(oa,Pa,qa)};null==Fa&&(Fa=null==ma?1:ma,ma=0);return ya.min(ma).max(Fa)};w.regressionExp=function(ma,Fa,Pa){const [qa,,ya,oa]=C(ma,Fa,Pa);let va=0,Ua=0,eb=0,ra=0,Oa=0,ja,U,ka;B(ma,Fa,Pa,(lb,nb)=>{ja=qa[Oa++];U=Math.log(nb);ka=ja*nb;va+=(nb*U-va)/Oa;Ua+=
(ka-Ua)/Oa;eb+=(ka*U-eb)/Oa;ra+=(ja*ka-ra)/Oa});const [wa,Ta]=aa(Ua/oa,va/oa,eb/oa,ra/oa),db=lb=>Math.exp(wa+Ta*(lb-ya));return{coef:[Math.exp(wa-Ta*ya),Ta],predict:db,rSquared:N(ma,Fa,Pa,oa,db)}};w.regressionLinear=Y;w.regressionLoess=function(ma,Fa,Pa,qa){const [ya,oa,va,Ua]=C(ma,Fa,Pa,!0);ma=ya.length;Fa=Math.max(2,~~(qa*ma));qa=new Float64Array(ma);Pa=new Float64Array(ma);var eb=(new Float64Array(ma)).fill(1);for(var ra=-1;2>=++ra;){var Oa=[0,Fa-1];for(let Mb=0;Mb<ma;++Mb){var ja=ya[Mb],U=Oa[0],
ka=Oa[1],wa=0,Ta=0,db=0,lb=0;let $b=0;const Gc=1/Math.abs(ya[ja-ya[U]>ya[ka]-ja?U:ka]-ja||1);for(;U<=ka;++U){const uc=ya[U],id=oa[U];var nb=Math.abs(ja-uc)*Gc;const Hb=(nb=1-nb*nb*nb)*nb*nb*eb[U];nb=uc*Hb;wa+=Hb;Ta+=nb;db+=id*Hb;lb+=id*nb;$b+=uc*nb}const [zc,Bc]=aa(Ta/wa,db/wa,lb/wa,$b/wa);qa[Mb]=zc+Bc*ja;Pa[Mb]=Math.abs(oa[Mb]-qa[Mb]);ja=ya;ka=Mb+1;wa=Oa;Ta=ja[ka];db=wa[0];lb=wa[1]+1;if(!(lb>=ja.length))for(;ka>db&&ja[lb]-Ta<=Ta-ja[db];)wa[0]=++db,wa[1]=lb,++lb}if(2===ra)break;Oa=n(Pa,.5,void 0);
if(1E-12>Math.abs(Oa))break;for(let Mb=0,$b,Gc;Mb<ma;++Mb)$b=Pa[Mb]/(6*Oa),eb[Mb]=1<=$b?1E-12:(Gc=1-$b*$b)*Gc}ma=ya.length;Fa=[];eb=Pa=0;for(ra=[];Pa<ma;++Pa)Oa=ya[Pa]+va,ra[0]===Oa?ra[1]+=(qa[Pa]-ra[1])/++eb:(eb=0,ra[1]+=Ua,ra=[Oa,qa[Pa]],Fa.push(ra));ra[1]+=Ua;return Fa};w.regressionLog=function(ma,Fa,Pa){let qa=0,ya=0,oa=0,va=0,Ua=0;B(ma,Fa,Pa,(Oa,ja)=>{++Ua;Oa=Math.log(Oa);qa+=(Oa-qa)/Ua;ya+=(ja-ya)/Ua;oa+=(Oa*ja-oa)/Ua;va+=(Oa*Oa-va)/Ua});const eb=aa(qa,ya,oa,va),ra=Oa=>eb[0]+eb[1]*Math.log(Oa);
return{coef:eb,predict:ra,rSquared:N(ma,Fa,Pa,ya,ra)}};w.regressionPoly=function(ma,Fa,Pa,qa){if(1===qa)return Y(ma,Fa,Pa);if(2===qa)return Aa(ma,Fa,Pa);const [ya,oa,va,Ua]=C(ma,Fa,Pa);var eb=ya.length;const ra=[],Oa=[],ja=qa+1;let U,ka,wa,Ta;for(U=0;U<ja;++U){for(wa=ka=0;ka<eb;++ka)wa+=Math.pow(ya[ka],U)*oa[ka];ra.push(wa);Ta=new Float64Array(ja);for(qa=0;qa<ja;++qa){for(wa=ka=0;ka<eb;++ka)wa+=Math.pow(ya[ka],U+qa);Ta[qa]=wa}Oa.push(Ta)}Oa.push(ra);const db=la(Oa);eb=lb=>{lb-=va;let nb=Ua+db[0]+
db[1]*lb+db[2]*lb*lb;for(U=3;U<ja;++U)nb+=db[U]*Math.pow(lb,U);return nb};return{coef:sa(ja,db,-va,Ua),predict:eb,rSquared:N(ma,Fa,Pa,Ua,eb)}};w.regressionPow=function(ma,Fa,Pa){let qa=0,ya=0,oa=0,va=0,Ua=0,eb=0;B(ma,Fa,Pa,(ja,U)=>{ja=Math.log(ja);const ka=Math.log(U);++eb;qa+=(ja-qa)/eb;ya+=(ka-ya)/eb;oa+=(ja*ka-oa)/eb;va+=(ja*ja-va)/eb;Ua+=(U-Ua)/eb});const ra=aa(qa,ya,oa,va),Oa=ja=>ra[0]*Math.pow(ja,ra[1]);ra[0]=Math.exp(ra[0]);return{coef:ra,predict:Oa,rSquared:N(ma,Fa,Pa,Ua,Oa)}};w.regressionQuad=
Aa;w.sampleCurve=function(ma,Fa,Pa,qa){Pa=Pa||25;qa=Math.max(Pa,qa||200);var ya=Fa[0],oa=Fa[1],va=oa-ya,Ua=va/qa;Fa=[[ya,ma(ya)]];var eb=[];if(Pa===qa){for(var ra=1;ra<qa;++ra){Ua=Fa;eb=Ua.push;var Oa=ya+ra/Pa*va;Oa=[Oa,ma(Oa)];eb.call(Ua,Oa)}Fa.push([oa,ma(oa)]);return Fa}eb.push([oa,ma(oa)]);for(ra=Pa;0<--ra;)qa=eb,oa=qa.push,Oa=ya+ra/Pa*va,Oa=[Oa,ma(Oa)],oa.call(qa,Oa);Pa=Fa[0];ya=eb[eb.length-1];va=1/va;qa=oa=Pa[1];ra=eb.length;for(Oa=0;Oa<ra;++Oa){const ja=eb[Oa][1];ja<qa&&(qa=ja);ja>oa&&(oa=
ja)}for(qa=1/(oa-qa);ya;)oa=(Pa[0]+ya[0])/2,oa=[oa,ma(oa)],oa[0]-Pa[0]>=Ua&&Math.abs(Math.atan2(qa*(ya[1]-Pa[1]),va*(ya[0]-Pa[0]))-Math.atan2(qa*(oa[1]-Pa[1]),va*(oa[0]-Pa[0])))>Ja?eb.push(oa):(Pa=ya,Fa.push(ya),eb.pop()),ya=eb[eb.length-1];return Fa};w.sampleLogNormal=T;w.sampleNormal=J;w.sampleUniform=ba;w.setRandom=function(ma){w.random=ma};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[25]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(23),L(24),L(16)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t){function m(za){return Za=>{const tb=za.length;let Jb=1,fc=String(za[0](Za));for(;Jb<tb;++Jb)fc+="|"+za[Jb](Za);return fc}}function f(za){return za&&
za.length?1===za.length?za[0]:m(za):function(){return""}}function b(za,Za){return tb=>k.extend({name:za,out:tb||za},nd,Za)}function c(za,Za){return za.idx-Za.idx}function e(za){const Za={};za.forEach(Jb=>Za[Jb.name]=Jb);const tb=Jb=>{Jb.req&&Jb.req.forEach(fc=>{Za[fc]||tb(Za[fc]=xd[fc]())})};za.forEach(tb);return Object.values(Za).sort(c)}function g(){this.missing=this.valid=0;this._ops.forEach(za=>za.init(this))}function n(za,Za){null==za||""===za?++this.missing:za===za&&(++this.valid,this._ops.forEach(tb=>
tb.add(this,za,Za)))}function h(za,Za){null==za||""===za?--this.missing:za===za&&(--this.valid,this._ops.forEach(tb=>tb.rem(this,za,Za)))}function x(za){this._out.forEach(Za=>za[Za.out]=Za.value(this));return za}function O(za,Za){function tb(nc){this._ops=Jb;this._out=fc;this.cell=nc;this.init()}Za=Za||k.identity;const Jb=e(za),fc=za.slice().sort(c);tb.prototype.init=g;tb.prototype.add=n;tb.prototype.rem=h;tb.prototype.set=x;tb.prototype.get=Za;tb.fields=za.map(nc=>nc.out);return tb}function H(za){this._key=
za?k.field(za):p.tupleid;this.reset()}function F(za){p.Transform.call(this,null,za);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function J(za){p.Transform.call(this,null,za)}function D(za,Za,tb){let Jb=Za||[],fc=tb||[],nc={},Hc=0;return{add:Dc=>fc.push(Dc),remove:Dc=>nc[za(Dc)]=++Hc,size:()=>Jb.length,data:(Dc,lc)=>{Hc&&(Jb=Jb.filter(ld=>!nc[za(ld)]),
nc={},Hc=0);lc&&Dc&&Jb.sort(Dc);fc.length&&(Jb=Dc?k.merge(Dc,Jb,fc.sort(Dc)):Jb.concat(fc),fc=[]);return Jb}}}function r(za){p.Transform.call(this,[],za)}function z(za){p.Operator.call(this,null,G,za)}function G(za){return this.value&&!za.modified()?this.value:k.compare(za.fields,za.orders)}function T(za){p.Transform.call(this,null,za)}function R(za){p.Transform.call(this,null,za)}function ca(za,Za){var tb=za["function"];k.hasOwnProperty(ge,tb)||k.error("Unknown distribution function: "+tb);tb=ge[tb]();
for(const Jb in za)if("field"===Jb)tb.data((za.from||Za()).map(za[Jb]));else if("distributions"===Jb)tb[Jb](za[Jb].map(fc=>ca(fc,Za)));else if("function"===typeof tb[Jb])tb[Jb](za[Jb]);return tb}function M(za){p.Transform.call(this,null,za)}function ba(za){return()=>za.materialize(za.SOURCE).source}function W(za,Za){return za?za.map((tb,Jb)=>Za[Jb]||k.accessorName(tb)):null}function ea(za,Za,tb){const Jb=[],fc=Hd=>Hd(lc);let nc,Hc,Dc,lc,ld,sd;if(null==Za)Jb.push(za.map(tb));else for(nc={},Hc=0,Dc=
za.length;Hc<Dc;++Hc)lc=za[Hc],ld=Za.map(fc),sd=nc[ld],sd||(nc[ld]=sd=[],sd.dims=ld,Jb.push(sd)),sd.push(tb(lc));return Jb}function La(za){p.Transform.call(this,null,za)}function aa(za){p.Operator.call(this,null,C,za);this.modified(!0)}function C(za){const Za=za.expr;return this.value&&!za.modified("expr")?this.value:k.accessor(tb=>Za(tb,za),k.accessorFields(Za),k.accessorName(Za))}function B(za){p.Transform.call(this,[void 0,void 0],za)}function N(za,Za){p.Operator.call(this,za);this.parent=Za;this.count=
0}function Y(za){p.Transform.call(this,{},za);this._keys=k.fastmap();const Za=this._targets=[];Za.active=0;Za.forEach=tb=>{for(let Jb=0,fc=Za.active;Jb<fc;++Jb)tb(Za[Jb],Jb,Za)}}function Aa(za){p.Operator.call(this,null,sa,za)}function sa(za){return this.value&&!za.modified()?this.value:k.isArray(za.name)?k.array(za.name).map(Za=>k.field(Za)):k.field(za.name,za.as)}function la(za){p.Transform.call(this,k.fastmap(),za)}function Ia(za){p.Transform.call(this,[],za)}function bb(za){p.Transform.call(this,
[],za)}function ib(za){p.Transform.call(this,null,za)}function Ja(za){p.Transform.call(this,[],za)}function ma(za,Za){return null==za||null==Za?NaN:za<Za?-1:za>Za?1:za>=Za?0:NaN}function Fa(za){function Za(nc,Hc,Dc=0,lc=nc.length){if(Dc<lc){if(0!==Jb(Hc,Hc))return lc;do{const ld=Dc+lc>>>1;0>fc(nc[ld],Hc)?Dc=ld+1:lc=ld}while(Dc<lc)}return Dc}let tb=za,Jb=za,fc=za;2!==za.length&&(tb=(nc,Hc)=>za(nc)-Hc,Jb=ma,fc=(nc,Hc)=>ma(za(nc),Hc));return{left:Za,center:function(nc,Hc,Dc=0,lc=nc.length){lc=Za(nc,
Hc,Dc,lc-1);return lc>Dc&&tb(nc[lc-1],Hc)>-tb(nc[lc],Hc)?lc-1:lc},right:function(nc,Hc,Dc=0,lc=nc.length){if(Dc<lc){if(0!==Jb(Hc,Hc))return lc;do{const ld=Dc+lc>>>1;0>=fc(nc[ld],Hc)?Dc=ld+1:lc=ld}while(Dc<lc)}return Dc}}}function*Pa(za,Za){if(void 0===Za)for(var tb of za)null!=tb&&(tb=+tb)>=tb&&(yield tb);else{tb=-1;for(let Jb of za)null!=(Jb=Za(Jb,++tb,za))&&(Jb=+Jb)>=Jb&&(yield Jb)}}function qa(za=ma){if(za===ma)return ya;if("function"!==typeof za)throw new TypeError("compare is not a function");
return(Za,tb)=>{const Jb=za(Za,tb);return Jb||0===Jb?Jb:(0===za(tb,tb))-(0===za(Za,Za))}}function ya(za,Za){return(null==za||!(za>=za))-(null==Za||!(Za>=Za))||(za<Za?-1:za>Za?1:0)}function oa(za,Za){let tb;if(void 0===Za)for(var Jb of za)null!=Jb&&(tb<Jb||void 0===tb&&Jb>=Jb)&&(tb=Jb);else{Jb=-1;for(let fc of za)null!=(fc=Za(fc,++Jb,za))&&(tb<fc||void 0===tb&&fc>=fc)&&(tb=fc)}return tb}function va(za,Za){let tb;if(void 0===Za)for(var Jb of za)null!=Jb&&(tb>Jb||void 0===tb&&Jb>=Jb)&&(tb=Jb);else{Jb=
-1;for(let fc of za)null!=(fc=Za(fc,++Jb,za))&&(tb>fc||void 0===tb&&fc>=fc)&&(tb=fc)}return tb}function Ua(za,Za,tb=0,Jb=za.length-1,fc){for(fc=void 0===fc?ya:qa(fc);Jb>tb;){if(600<Jb-tb){var nc=Jb-tb+1,Hc=Za-tb+1,Dc=Math.log(nc),lc=.5*Math.exp(2*Dc/3);Dc=.5*Math.sqrt(Dc*lc*(nc-lc)/nc)*(0>Hc-nc/2?-1:1);Ua(za,Za,Math.max(tb,Math.floor(Za-Hc*lc/nc+Dc)),Math.min(Jb,Math.floor(Za+(nc-Hc)*lc/nc+Dc)),fc)}nc=za[Za];Hc=tb;lc=Jb;eb(za,tb,Za);for(0<fc(za[Jb],nc)&&eb(za,tb,Jb);Hc<lc;){eb(za,Hc,lc);++Hc;for(--lc;0>
fc(za[Hc],nc);)++Hc;for(;0<fc(za[lc],nc);)--lc}0===fc(za[tb],nc)?eb(za,tb,lc):(++lc,eb(za,lc,Jb));lc<=Za&&(tb=lc+1);Za<=lc&&(Jb=lc-1)}return za}function eb(za,Za,tb){const Jb=za[Za];za[Za]=za[tb];za[tb]=Jb}function ra(za,Za,tb){za=+za;Za=+Za;tb=2>(fc=arguments.length)?(Za=za,za=0,1):3>fc?1:+tb;for(var Jb=-1,fc=Math.max(0,Math.ceil((Za-za)/tb))|0,nc=Array(fc);++Jb<fc;)nc[Jb]=za+Jb*tb;return nc}function Oa(za){p.Transform.call(this,[],za)}function ja(za){var Za=za.method||qe.value;if(null==qe[Za])k.error("Unrecognized imputation method: "+
Za);else{if(Za===qe.value){var tb=void 0!==za.value?za.value:0;return()=>tb}return qe[Za]}}function U(za){const Za=za.field;return tb=>tb?Za(tb):NaN}function ka(za,Za,tb,Jb){var fc=Ce=>Ce(Hd),nc=[];Jb=Jb?Jb.slice():[];var Hc={},Dc={},lc,ld;Jb.forEach((Ce,re)=>Hc[Ce]=re+1);var sd=0;for(ld=za.length;sd<ld;++sd){var Hd=za[sd];var Vd=tb(Hd);var be=Hc[Vd]||(Hc[Vd]=Jb.push(Vd));var he=(Vd=Za?Za.map(fc):wd)+"";(lc=Dc[he])||(lc=Dc[he]=[],nc.push(lc),lc.values=Vd);lc[be-1]=Hd}nc.domain=Jb;return nc}function wa(za){F.call(this,
za)}function Ta(za){p.Transform.call(this,null,za)}function db(za){p.Operator.call(this,null,lb,za)}function lb(za){return this.value&&!za.modified()?this.value:k.key(za.fields,za.flat)}function nb(za){p.Transform.call(this,[],za);this._pending=null}function Mb(za){return za.modified("async")&&!(za.modified("values")||za.modified("url")||za.modified("format"))}function $b(za,Za,tb){tb.forEach(p.ingest);Za=Za.fork(Za.NO_FIELDS&Za.NO_SOURCE);Za.rem=za.value;za.value=Za.source=Za.add=tb;za._pending=
null;Za.rem.length&&Za.clean(!0);return Za}function Gc(za){p.Transform.call(this,{},za)}function zc(za){p.Operator.call(this,null,Bc,za)}function Bc(za){if(this.value&&!za.modified())return this.value;za=za.extents;const Za=za.length;let tb=Infinity,Jb=-Infinity,fc,nc;for(fc=0;fc<Za;++fc)nc=za[fc],nc[0]<tb&&(tb=nc[0]),nc[1]>Jb&&(Jb=nc[1]);return[tb,Jb]}function uc(za){p.Operator.call(this,null,id,za)}function id(za){return this.value&&!za.modified()?this.value:za.values.reduce((Za,tb)=>Za.concat(tb),
[])}function Hb(za){p.Transform.call(this,null,za)}function Ab(za){F.call(this,za)}function dc(za,Za){const tb=za.field,Jb=za.value,fc=("count"===za.op?"__count__":za.op)||"sum",nc=k.accessorFields(tb).concat(k.accessorFields(Jb)),Hc=mc(tb,za.limit||0,Za);Za.changed()&&za.set("__pivot__",null,null,!0);return{key:za.key,groupby:za.groupby,ops:Hc.map(()=>fc),fields:Hc.map(Dc=>Wb(Dc,tb,Jb,nc)),as:Hc.map(Dc=>Dc+""),modified:za.modified.bind(za)}}function Wb(za,Za,tb,Jb){return k.accessor(fc=>Za(fc)===
za?tb(fc):NaN,Jb,za+"")}function mc(za,Za,tb){const Jb={},fc=[];tb.visit(tb.SOURCE,nc=>{nc=za(nc);Jb[nc]||(Jb[nc]=1,fc.push(nc))});fc.sort(k.ascending);return Za?fc.slice(0,Za):fc}function Kc(za){Y.call(this,za)}function Fc(za){p.Transform.call(this,null,za)}function Sc(za){p.Transform.call(this,null,za)}function jd(za){p.Transform.call(this,null,za)}function $d(za){p.Transform.call(this,null,za)}function Ba(za){p.Transform.call(this,[],za);this.count=0}function ua(za){p.Transform.call(this,null,
za)}function Ca(za){p.Transform.call(this,null,za);this.modified(!0)}function $a(za){p.Transform.call(this,null,za)}function jb(za){p.Transform.call(this,k.fastmap(),za)}function yb(za){p.Transform.call(this,null,za)}function Ub(za,Za,tb,Jb){const fc=gf[za](Za,tb);return{init:fc.init||k.zero,update:function(nc,Hc){Hc[Jb]=fc.next(nc)}}}function Tb(za){function Za(be){k.array(k.accessorFields(be)).forEach(he=>lc[he]=1)}const tb=k.array(za.ops),Jb=k.array(za.fields),fc=k.array(za.params),nc=k.array(za.as),
Hc=this.outputs=[],Dc=this.windows=[],lc={},ld={},sd=[],Hd=[];let Vd=!0;Za(za.sort);tb.forEach((be,he)=>{const Ce=Jb[he],re=k.accessorName(Ce),vf=nc[he]||be+(re?"_"+re:"");Za(Ce);Hc.push(vf);k.hasOwnProperty(gf,be)?Dc.push(Ub(be,Jb[he],fc[he],vf)):(null==Ce&&"count"!==be&&k.error("Null aggregate field specified."),"count"===be?sd.push(vf):(Vd=!1,he=ld[re],he||(he=ld[re]=[],he.field=Ce,Hd.push(he)),he.push(xd[be](vf))))});if(sd.length||Hd.length)this.cell=Vb(Hd,sd,Vd);this.inputs=Object.keys(lc)}function Vb(za,
Za,tb){za=za.map(lc=>O(lc,lc.field));const Jb={num:0,agg:null,store:!1,count:Za};if(!tb)for(var fc=za.length,nc=Jb.agg=Array(fc),Hc=0;Hc<fc;++Hc)nc[Hc]=new za[Hc](Jb);if(Jb.store)var Dc=Jb.data=new H;Jb.add=function(lc){Jb.num+=1;if(!tb){Dc&&Dc.add(lc);for(let ld=0;ld<fc;++ld)nc[ld].add(nc[ld].get(lc),lc)}};Jb.rem=function(lc){--Jb.num;if(!tb){Dc&&Dc.rem(lc);for(let ld=0;ld<fc;++ld)nc[ld].rem(nc[ld].get(lc),lc)}};Jb.set=function(lc){let ld,sd;Dc&&Dc.values();ld=0;for(sd=Za.length;ld<sd;++ld)lc[Za[ld]]=
Jb.num;if(!tb)for(ld=0,sd=nc.length;ld<sd;++ld)nc[ld].set(lc)};Jb.init=function(){Jb.num=0;Dc&&Dc.reset();for(let lc=0;lc<fc;++lc)nc[lc].init()};return Jb}function Ic(za){p.Transform.call(this,{},za);this._mlen=0;this._mods=[]}function Yc(za,Za,tb,Jb){var fc=Jb.sort;const nc=fc&&!Jb.ignorePeers;Jb=Jb.frame||[null,0];za=za.data(tb);tb=za.length;const Hc=nc?Fa(fc):null;fc={i0:0,i1:0,p0:0,p1:0,index:0,data:za,compare:fc||k.constant(-1)};Za.init();for(let Hd=0;Hd<tb;++Hd){var Dc=fc,lc=Jb,ld=Hd,sd=tb;
Dc.p0=Dc.i0;Dc.p1=Dc.i1;Dc.i0=null==lc[0]?0:Math.max(0,ld-Math.abs(lc[0]));Dc.i1=null==lc[1]?sd:Math.min(sd,ld+Math.abs(lc[1])+1);Dc.index=ld;if(nc){Dc=fc;lc=Hc;ld=Dc.i0;sd=Dc.i1-1;const Vd=Dc.compare,be=Dc.data,he=be.length-1;0<ld&&!Vd(be[ld],be[ld-1])&&(Dc.i0=lc.left(be,be[ld]));sd<he&&!Vd(be[sd],be[sd+1])&&(Dc.i1=lc.right(be,be[sd]))}Za.update(fc,za[Hd])}}const dd=()=>{},nd={init:dd,add:dd,rem:dd,idx:0},xd={values:{init:za=>za.cell.store=!0,value:za=>za.cell.data.values(),idx:-1},count:{value:za=>
za.cell.num},__count__:{value:za=>za.missing+za.valid},missing:{value:za=>za.missing},valid:{value:za=>za.valid},sum:{init:za=>za.sum=0,value:za=>za.sum,add:(za,Za)=>za.sum+=+Za,rem:(za,Za)=>za.sum-=Za},product:{init:za=>za.product=1,value:za=>za.valid?za.product:void 0,add:(za,Za)=>za.product*=Za,rem:(za,Za)=>za.product/=Za},mean:{init:za=>za.mean=0,value:za=>za.valid?za.mean:void 0,add:(za,Za)=>(za.mean_d=Za-za.mean,za.mean+=za.mean_d/za.valid),rem:(za,Za)=>(za.mean_d=Za-za.mean,za.mean-=za.valid?
za.mean_d/za.valid:za.mean)},average:{value:za=>za.valid?za.mean:void 0,req:["mean"],idx:1},variance:{init:za=>za.dev=0,value:za=>1<za.valid?za.dev/(za.valid-1):void 0,add:(za,Za)=>za.dev+=za.mean_d*(Za-za.mean),rem:(za,Za)=>za.dev-=za.mean_d*(Za-za.mean),req:["mean"],idx:1},variancep:{value:za=>1<za.valid?za.dev/za.valid:void 0,req:["variance"],idx:2},stdev:{value:za=>1<za.valid?Math.sqrt(za.dev/(za.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:za=>1<za.valid?Math.sqrt(za.dev/za.valid):
void 0,req:["variance"],idx:2},stderr:{value:za=>1<za.valid?Math.sqrt(za.dev/(za.valid*(za.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:za=>za.cell.data.distinct(za.get),req:["values"],idx:3},ci0:{value:za=>za.cell.data.ci0(za.get),req:["values"],idx:3},ci1:{value:za=>za.cell.data.ci1(za.get),req:["values"],idx:3},median:{value:za=>za.cell.data.q2(za.get),req:["values"],idx:3},q1:{value:za=>za.cell.data.q1(za.get),req:["values"],idx:3},q3:{value:za=>za.cell.data.q3(za.get),req:["values"],
idx:3},min:{init:za=>za.min=void 0,value:za=>za.min=Number.isNaN(za.min)?za.cell.data.min(za.get):za.min,add:(za,Za)=>{if(Za<za.min||void 0===za.min)za.min=Za},rem:(za,Za)=>{Za<=za.min&&(za.min=NaN)},req:["values"],idx:4},max:{init:za=>za.max=void 0,value:za=>za.max=Number.isNaN(za.max)?za.cell.data.max(za.get):za.max,add:(za,Za)=>{if(Za>za.max||void 0===za.max)za.max=Za},rem:(za,Za)=>{Za>=za.max&&(za.max=NaN)},req:["values"],idx:4},argmin:{init:za=>za.argmin=void 0,value:za=>za.argmin||za.cell.data.argmin(za.get),
add:(za,Za,tb)=>{Za<za.min&&(za.argmin=tb)},rem:(za,Za)=>{Za<=za.min&&(za.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:za=>za.argmax=void 0,value:za=>za.argmax||za.cell.data.argmax(za.get),add:(za,Za,tb)=>{Za>za.max&&(za.argmax=tb)},rem:(za,Za)=>{Za>=za.max&&(za.argmax=void 0)},req:["max","values"],idx:3}},Nd=Object.keys(xd);Nd.forEach(za=>{xd[za]=b(za,xd[za])});const Xd=H.prototype;Xd.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Xd.add=function(za){this._add.push(za)};
Xd.rem=function(za){this._rem.push(za)};Xd.values=function(){this._get=null;if(0===this._rem.length)return this._add;const za=this._add;var Za=this._rem;const tb=this._key,Jb=za.length,fc=Za.length,nc=Array(Jb-fc),Hc={};let Dc,lc;for(Dc=0;Dc<fc;++Dc)Hc[tb(Za[Dc])]=1;for(Za=Dc=0;Dc<Jb;++Dc)Hc[tb(lc=za[Dc])]?Hc[tb(lc)]=0:nc[Za++]=lc;this._rem=[];return this._add=nc};Xd.distinct=function(za){const Za=this.values(),tb={};let Jb=Za.length,fc=0,nc;for(;0<=--Jb;)nc=za(Za[Jb])+"",k.hasOwnProperty(tb,nc)||
(tb[nc]=1,++fc);return fc};Xd.extent=function(za){if(this._get!==za||!this._ext){const Za=this.values(),tb=k.extentIndex(Za,za);this._ext=[Za[tb[0]],Za[tb[1]]];this._get=za}return this._ext};Xd.argmin=function(za){return this.extent(za)[0]||{}};Xd.argmax=function(za){return this.extent(za)[1]||{}};Xd.min=function(za){const Za=this.extent(za)[0];return null!=Za?za(Za):void 0};Xd.max=function(za){const Za=this.extent(za)[1];return null!=Za?za(Za):void 0};Xd.quartile=function(za){this._get===za&&this._q||
(this._q=q.quartiles(this.values(),za),this._get=za);return this._q};Xd.q1=function(za){return this.quartile(za)[0]};Xd.q2=function(za){return this.quartile(za)[1]};Xd.q3=function(za){return this.quartile(za)[2]};Xd.ci=function(za){this._get===za&&this._ci||(this._ci=q.bootstrapCI(this.values(),1E3,.05,za),this._get=za);return this._ci};Xd.ci0=function(za){return this.ci(za)[0]};Xd.ci1=function(za){return this.ci(za)[1]};F.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Nd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};k.inherits(F,p.Transform,{transform(za,Za){const tb=this,Jb=Za.fork(Za.NO_SOURCE|Za.NO_FIELDS),fc=za.modified();tb.stamp=Jb.stamp;tb.value&&(fc||Za.modified(tb._inputs,!0))?(tb._prev=tb.value,tb.value=fc?tb.init(za):{},Za.visit(Za.SOURCE,
nc=>tb.add(nc))):(tb.value=tb.value||tb.init(za),Za.visit(Za.REM,nc=>tb.rem(nc)),Za.visit(Za.ADD,nc=>tb.add(nc)));Jb.modifies(tb._outputs);tb._drop=!1!==za.drop;za.cross&&1<tb._dims.length&&(tb._drop=!1,tb.cross());Za.clean()&&tb._drop&&Jb.clean(!0).runAfter(()=>this.clean());return tb.changes(Jb)},cross(){function za(Dc){let lc,ld,sd,Hd;for(lc in Dc)for(sd=Dc[lc].tuple,ld=0;ld<Hc;++ld)nc[ld][Hd=sd[fc[ld]]]=Hd}function Za(Dc,lc,ld){const sd=fc[ld],Hd=nc[ld++];for(const Vd in Hd){const be=Dc?Dc+"|"+
Vd:Vd;lc[sd]=Hd[Vd];ld<Hc?Za(be,lc,ld):Jb[be]||tb.cell(be,lc)}}const tb=this,Jb=tb.value,fc=tb._dnames,nc=fc.map(()=>({})),Hc=fc.length;za(tb._prev);za(Jb);Za("",{},0)},init(za){function Za(Ce){Ce=k.array(k.accessorFields(Ce));const re=Ce.length;let vf=0,Ge;for(;vf<re;++vf)fc[Ge=Ce[vf]]||(fc[Ge]=1,tb.push(Ge))}const tb=this._inputs=[],Jb=this._outputs=[],fc={};this._dims=k.array(za.groupby);this._dnames=this._dims.map(Ce=>{const re=k.accessorName(Ce);Za(Ce);Jb.push(re);return re});this.cellkey=za.key?
za.key:f(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const nc=za.fields||[null],Hc=za.ops||["count"];za=za.as||[];const Dc=nc.length,lc={};let ld,sd,Hd,Vd,be,he;Dc!==Hc.length&&k.error("Unmatched number of fields and aggregate ops.");for(he=0;he<Dc;++he)ld=nc[he],sd=Hc[he],null==ld&&"count"!==sd&&k.error("Null aggregate field specified."),Vd=k.accessorName(ld),be=za[he]||sd+(Vd?"_"+Vd:""),Jb.push(be),"count"===sd?this._counts.push(be):(Hd=lc[Vd],Hd||(Za(ld),Hd=lc[Vd]=[],Hd.field=
ld,this._measures.push(Hd)),"count"!==sd&&(this._countOnly=!1),Hd.push(xd[sd](be)));this._measures=this._measures.map(Ce=>O(Ce,Ce.field));return{}},cellkey:f(),cell(za,Za){let tb=this.value[za];tb?0===tb.num&&this._drop&&tb.stamp<this.stamp?(tb.stamp=this.stamp,this._adds[this._alen++]=tb):tb.stamp<this.stamp&&(tb.stamp=this.stamp,this._mods[this._mlen++]=tb):(tb=this.value[za]=this.newcell(za,Za),this._adds[this._alen++]=tb);return tb},newcell(za,Za){za={key:za,num:0,agg:null,tuple:this.newtuple(Za,
this._prev&&this._prev[za]),stamp:this.stamp,store:!1};if(!this._countOnly){Za=this._measures;const tb=Za.length;za.agg=Array(tb);for(let Jb=0;Jb<tb;++Jb)za.agg[Jb]=new Za[Jb](za)}za.store&&(za.data=new H);return za},newtuple(za,Za){const tb=this._dnames,Jb=this._dims,fc=Jb.length,nc={};for(let Hc=0;Hc<fc;++Hc)nc[tb[Hc]]=Jb[Hc](za);return Za?p.replace(Za.tuple,nc):p.ingest(nc)},clean(){const za=this.value;for(const Za in za)0===za[Za].num&&delete za[Za]},add(za){var Za=this.cellkey(za);Za=this.cell(Za,
za);Za.num+=1;if(!this._countOnly){Za.store&&Za.data.add(za);Za=Za.agg;for(let tb=0,Jb=Za.length;tb<Jb;++tb)Za[tb].add(Za[tb].get(za),za)}},rem(za){var Za=this.cellkey(za);Za=this.cell(Za,za);--Za.num;if(!this._countOnly){Za.store&&Za.data.rem(za);Za=Za.agg;for(let tb=0,Jb=Za.length;tb<Jb;++tb)Za[tb].rem(Za[tb].get(za),za)}},celltuple(za){const Za=za.tuple,tb=this._counts;za.store&&za.data.values();for(let Jb=0,fc=tb.length;Jb<fc;++Jb)Za[tb[Jb]]=za.num;if(!this._countOnly){za=za.agg;for(let Jb=0,
fc=za.length;Jb<fc;++Jb)za[Jb].set(Za)}return Za},changes(za){const Za=this._adds,tb=this._mods;var Jb=this._prev;const fc=this._drop,nc=za.add,Hc=za.rem,Dc=za.mod;let lc;var ld;if(Jb)for(ld in Jb)lc=Jb[ld],fc&&!lc.num||Hc.push(lc.tuple);Jb=0;for(ld=this._alen;Jb<ld;++Jb)nc.push(this.celltuple(Za[Jb])),Za[Jb]=null;Jb=0;for(ld=this._mlen;Jb<ld;++Jb)lc=tb[Jb],(0===lc.num&&fc?Hc:Dc).push(this.celltuple(lc)),tb[Jb]=null;this._alen=this._mlen=0;this._prev=null;return za}});J.Definition={type:"Bin",metadata:{modifies:!0},
params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},
{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};k.inherits(J,p.Transform,{transform(za,Za){const tb=!1!==za.interval,Jb=this._bins(za),fc=Jb.start,nc=Jb.step,Hc=za.as||["bin0","bin1"],Dc=Hc[0],lc=Hc[1];za.modified()?(Za=Za.reflow(!0),za=Za.SOURCE):za=Za.modified(k.accessorFields(za.field))?Za.ADD_MOD:Za.ADD;Za.visit(za,tb?ld=>{const sd=Jb(ld);ld[Dc]=sd;ld[lc]=null==sd?null:fc+nc*(1+(sd-fc)/nc)}:ld=>ld[Dc]=Jb(ld));return Za.modifies(tb?Hc:Dc)},_bins(za){if(this.value&&
!za.modified())return this.value;const Za=za.field,tb=q.bin(za),Jb=tb.step;let fc=tb.start,nc=fc+Math.ceil((tb.stop-fc)/Jb)*Jb;var Hc;null!=(Hc=za.anchor)&&(Hc-=fc+Jb*Math.floor((Hc-fc)/Jb),fc+=Hc,nc+=Hc);Hc=function(Dc){Dc=k.toNumber(Za(Dc));return null==Dc?null:Dc<fc?-Infinity:Dc>nc?Infinity:(Dc=Math.max(fc,Math.min(Dc,nc-Jb)),fc+Jb*Math.floor(1E-14+(Dc-fc)/Jb))};Hc.start=fc;Hc.stop=tb.stop;Hc.step=Jb;return this.value=k.accessor(Hc,k.accessorFields(Za),za.name||"bin_"+k.accessorName(Za))}});r.Definition=
{type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};k.inherits(r,p.Transform,{transform(za,Za){const tb=Za.fork(Za.ALL),Jb=D(p.tupleid,this.value,tb.materialize(tb.ADD).add),fc=za.sort;za=Za.changed()||fc&&(za.modified("sort")||Za.modified(fc.fields));tb.visit(tb.REM,Jb.remove);this.modified(za);this.value=tb.source=Jb.data(p.stableCompare(fc),za);Za.source&&Za.source.root&&(this.value.root=Za.source.root);return tb}});k.inherits(z,p.Operator);T.Definition={type:"CountPattern",
metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};k.inherits(T,p.Transform,{transform(za,Za){var tb=sd=>Hd=>{Hd=Dc(Hd);var Vd=nc;switch(za.case){case "upper":Hd=Hd.toUpperCase();break;case "lower":Hd=Hd.toLowerCase()}Hd=Hd.match(Vd)||
[];var be;Vd=0;for(var he=Hd.length;Vd<he;++Vd)Hc.test(be=Hd[Vd])||sd(be)};const Jb=this._parameterCheck(za,Za),fc=this._counts,nc=this._match,Hc=this._stop,Dc=za.field,lc=za.as||["text","count"],ld=tb(sd=>fc[sd]=1+(fc[sd]||0));tb=tb(sd=>--fc[sd]);Jb?Za.visit(Za.SOURCE,ld):(Za.visit(Za.ADD,ld),Za.visit(Za.REM,tb));return this._finish(Za,lc)},_parameterCheck(za,Za){let tb=!1;if(za.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(za.stopwords||"")+"$","i"),tb=!0;if(za.modified("pattern")||
!this._match)this._match=new RegExp(za.pattern||"[\\w']+","g"),tb=!0;if(za.modified("field")||Za.modified(za.field.fields))tb=!0;tb&&(this._counts={});return tb},_finish(za,Za){const tb=this._counts,Jb=this._tuples||(this._tuples={}),fc=Za[0],nc=Za[1];za=za.fork(za.NO_SOURCE|za.NO_FIELDS);let Hc,Dc,lc;for(Hc in tb)Dc=Jb[Hc],lc=tb[Hc]||0,!Dc&&lc?(Jb[Hc]=Dc=p.ingest({}),Dc[fc]=Hc,Dc[nc]=lc,za.add.push(Dc)):0===lc?(Dc&&za.rem.push(Dc),tb[Hc]=null,Jb[Hc]=null):Dc[nc]!==lc&&(Dc[nc]=lc,za.mod.push(Dc));
return za.modifies(Za)}});R.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};k.inherits(R,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE),Jb=za.as||["a","b"],fc=Jb[0],nc=Jb[1];var Hc=!this.value||Za.changed(Za.ADD_REM)||za.modified("as")||za.modified("filter"),Dc=this.value;if(Hc){Dc&&(tb.rem=Dc);Za=Dc=Za.materialize(Za.SOURCE).source;za=za.filter||k.truthy;Hc=[];Dc={};for(var lc=Za.length,
ld=0,sd,Hd;ld<lc;++ld)for(Dc[fc]=Hd=Za[ld],sd=0;sd<lc;++sd)Dc[nc]=Za[sd],za(Dc)&&(Hc.push(p.ingest(Dc)),Dc={},Dc[fc]=Hd);tb.add=this.value=Hc}else tb.mod=Dc;tb.source=this.value;return tb.modifies(Jb)}});const ge={kde:q.randomKDE,mixture:q.randomMixture,normal:q.randomNormal,lognormal:q.randomLogNormal,uniform:q.randomUniform},le=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",
type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];M.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",
"default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:le.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:le},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(M,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE|Za.NO_FIELDS);if(!this.value||Za.changed()||za.modified()){const Jb=
ca(za.distribution,ba(Za));Za=za.steps||za.minsteps||25;const fc=za.steps||za.maxsteps||200;let nc=za.method||"pdf";"pdf"!==nc&&"cdf"!==nc&&k.error("Invalid density method: "+nc);za.extent||Jb.data||k.error("Missing density extent parameter.");nc=Jb[nc];const Hc=za.as||["value","density"];za=za.extent||k.extent(Jb.data());za=q.sampleCurve(nc,za,Za,fc).map(Dc=>{const lc={};lc[Hc[0]]=Dc[0];lc[Hc[1]]=Dc[1];return p.ingest(lc)});this.value&&(tb.rem=this.value);this.value=tb.add=tb.source=za}return tb}});
La.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};k.inherits(La,p.Transform,{transform(za,Za){if(this.value&&!za.modified()&&!Za.changed())return Za;var tb=Za.materialize(Za.SOURCE).source;const Jb=ea(Za.source,za.groupby,k.identity),fc=za.smooth||!1,nc=za.field;tb=za.step||k.span(k.extent(tb,nc))/
30;const Hc=p.stableCompare((Vd,be)=>nc(Vd)-nc(be));za=za.as||"bin";const Dc=Jb.length;let lc=Infinity,ld=-Infinity,sd=0,Hd;for(;sd<Dc;++sd){const Vd=Jb[sd].sort(Hc);Hd=-1;for(const be of q.dotbin(Vd,tb,fc,nc))be<lc&&(lc=be),be>ld&&(ld=be),Vd[++Hd][za]=be}this.value={start:lc,stop:ld,step:tb};return Za.reflow(!0).modifies(za)}});k.inherits(aa,p.Operator);B.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};k.inherits(B,p.Transform,{transform(za,Za){var tb=this.value;
const Jb=za.field;za=Za.changed()||Za.modified(Jb.fields)||za.modified("field");let fc=tb[0],nc=tb[1];if(za||null==fc)fc=Infinity,nc=-Infinity;Za.visit(za?Za.SOURCE:Za.ADD,Hc=>{Hc=k.toNumber(Jb(Hc));null!=Hc&&(Hc<fc&&(fc=Hc),Hc>nc&&(nc=Hc))});Number.isFinite(fc)&&Number.isFinite(nc)||((tb=k.accessorName(Jb))&&(tb=` for field "${tb}"`),Za.dataflow.warn(`Infinite extent${tb}: [${fc}, ${nc}]`),fc=nc=void 0);this.value=[fc,nc]}});k.inherits(N,p.Operator,{connect(za){this.detachSubflow=za.detachSubflow;
this.targets().add(za);return za.source=this},add(za){this.count+=1;this.value.add.push(za)},rem(za){--this.count;this.value.rem.push(za)},mod(za){this.value.mod.push(za)},init(za){this.value.init(za,za.NO_SOURCE)},evaluate(){return this.value}});k.inherits(Y,p.Transform,{activate(za){this._targets[this._targets.active++]=za},subflow(za,Za,tb,Jb){const fc=this.value;let nc=k.hasOwnProperty(fc,za)&&fc[za],Hc;nc?nc.value.stamp<tb.stamp&&(nc.init(tb),this.activate(nc)):(Hc=Jb||(Hc=this._group[za])&&
Hc.tuple,Jb=tb.dataflow,nc=new N(tb.fork(tb.NO_SOURCE),this),Jb.add(nc).connect(Za(Jb,za,Hc)),fc[za]=nc,this.activate(nc));return nc},clean(){var za=this.value;let Za=0;for(const tb in za)if(0===za[tb].count){const Jb=za[tb].detachSubflow;Jb&&Jb();delete za[tb];++Za}Za&&(za=this._targets.filter(tb=>tb&&0<tb.count),this.initTargets(za))},initTargets(za){const Za=this._targets,tb=Za.length,Jb=za?za.length:0;let fc=0;for(;fc<Jb;++fc)Za[fc]=za[fc];for(;fc<tb&&null!=Za[fc];++fc)Za[fc]=null;Za.active=Jb},
transform(za,Za){const tb=Za.dataflow,Jb=za.key,fc=za.subflow,nc=this._keys,Hc=za.modified("key"),Dc=lc=>this.subflow(lc,fc,Za);this._group=za.group||{};this.initTargets();Za.visit(Za.REM,lc=>{const ld=p.tupleid(lc),sd=nc.get(ld);void 0!==sd&&(nc.delete(ld),Dc(sd).rem(lc))});Za.visit(Za.ADD,lc=>{const ld=Jb(lc);nc.set(p.tupleid(lc),ld);Dc(ld).add(lc)});Hc||Za.modified(Jb.fields)?Za.visit(Za.MOD,lc=>{const ld=p.tupleid(lc),sd=nc.get(ld),Hd=Jb(lc);sd===Hd?Dc(Hd).mod(lc):(nc.set(ld,Hd),Dc(sd).rem(lc),
Dc(Hd).add(lc))}):Za.changed(Za.MOD)&&Za.visit(Za.MOD,lc=>{Dc(nc.get(p.tupleid(lc))).mod(lc)});Hc&&Za.visit(Za.REFLOW,lc=>{const ld=p.tupleid(lc),sd=nc.get(ld),Hd=Jb(lc);sd!==Hd&&(nc.set(ld,Hd),Dc(sd).rem(lc),Dc(Hd).add(lc))});Za.clean()?tb.runAfter(()=>{this.clean();nc.clean()}):nc.empty>tb.cleanThreshold&&tb.runAfter(nc.clean);return Za}});k.inherits(Aa,p.Operator);la.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};k.inherits(la,p.Transform,{transform(za,
Za){function tb(Hd){const Vd=p.tupleid(Hd),be=ld(Hd,za),he=fc.get(Vd);be&&he?(fc.delete(Vd),Hc.push(Hd)):be||he?sd&&be&&!he&&lc.push(Hd):(fc.set(Vd,1),Dc.push(Hd))}const Jb=Za.dataflow,fc=this.value,nc=Za.fork(),Hc=nc.add,Dc=nc.rem,lc=nc.mod,ld=za.expr;let sd=!0;Za.visit(Za.REM,Hd=>{const Vd=p.tupleid(Hd);fc.has(Vd)?fc.delete(Vd):Dc.push(Hd)});Za.visit(Za.ADD,Hd=>{ld(Hd,za)?Hc.push(Hd):fc.set(p.tupleid(Hd),1)});Za.visit(Za.MOD,tb);za.modified()&&(sd=!1,Za.visit(Za.REFLOW,tb));fc.empty>Jb.cleanThreshold&&
Jb.runAfter(fc.clean);return nc}});Ia.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};k.inherits(Ia,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE),Jb=za.fields,fc=W(Jb,za.as||[]),nc=za.index||null,Hc=fc.length;tb.rem=this.value;Za.visit(Za.SOURCE,Dc=>{const lc=Jb.map(he=>he(Dc)),ld=lc.reduce((he,Ce)=>Math.max(he,Ce.length),0);let sd=0,Hd,Vd,be;for(;sd<ld;++sd){Vd=
p.derive(Dc);for(Hd=0;Hd<Hc;++Hd)Vd[fc[Hd]]=null==(be=lc[Hd][sd])?null:be;nc&&(Vd[nc]=sd);tb.add.push(Vd)}});this.value=tb.source=tb.add;nc&&tb.modifies(nc);return tb.modifies(fc)}});bb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};k.inherits(bb,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE),Jb=za.fields,fc=Jb.map(k.accessorName);za=za.as||["key","value"];
const nc=za[0],Hc=za[1],Dc=Jb.length;tb.rem=this.value;Za.visit(Za.SOURCE,lc=>{for(let ld=0,sd;ld<Dc;++ld)sd=p.derive(lc),sd[nc]=fc[ld],sd[Hc]=Jb[ld](lc),tb.add.push(sd)});this.value=tb.source=tb.add;return tb.modifies(za)}});ib.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};k.inherits(ib,p.Transform,{transform(za,Za){const tb=za.expr,Jb=za.as,fc=za.modified(),nc=za.initonly?Za.ADD:
fc?Za.SOURCE:Za.modified(tb.fields)||Za.modified(Jb)?Za.ADD_MOD:Za.ADD;fc&&(Za=Za.materialize().reflow(!0));za.initonly||Za.modifies(Jb);return Za.visit(nc,Hc=>Hc[Jb]=tb(Hc,za))}});k.inherits(Ja,p.Transform,{transform(za,Za){Za=Za.fork(Za.ALL);const tb=za.generator;let Jb=this.value,fc=za.size-Jb.length,nc,Hc;if(0<fc){for(nc=[];0<=--fc;)nc.push(Hc=p.ingest(tb(za))),Jb.push(Hc);Za.add=Za.add.length?Za.materialize(Za.ADD).add.concat(nc):nc}else za=Jb.slice(0,-fc),Za.rem=Za.rem.length?Za.materialize(Za.REM).rem.concat(za):
za,Jb=Jb.slice(-fc);Za.source=this.value=Jb;return Za}});const qe={value:"value",median:function(za,Za){var tb=.5;za=Float64Array.from(Pa(za,Za));if(Za=za.length)if(0>=(tb=+tb)||2>Za)za=va(za);else if(1<=tb)za=oa(za);else{tb*=Za-1;Za=Math.floor(tb);var Jb=oa(Ua(za,Za).subarray(0,Za+1));za=va(za.subarray(Za+1));za=Jb+(za-Jb)*(tb-Za)}else za=void 0;return za},mean:function(za,Za){let tb=0,Jb=0;if(void 0===Za)for(var fc of za)null!=fc&&(fc=+fc)>=fc&&(++tb,Jb+=fc);else{fc=-1;for(let nc of za)null!=(nc=
Za(nc,++fc,za))&&(nc=+nc)>=nc&&(++tb,Jb+=nc)}if(tb)return Jb/tb},min:va,max:oa},wd=[];Oa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};k.inherits(Oa,p.Transform,{transform(za,Za){var tb=Za.fork(Za.ALL),Jb=ja(za),fc=U(za),nc=k.accessorName(za.field),
Hc=k.accessorName(za.key),Dc=(za.groupby||[]).map(k.accessorName);za=ka(Za.source,za.groupby,za.key,za.keyvals);Za=[];var lc=this.value,ld=za.domain.length,sd,Hd,Vd;var be=0;for(Hd=za.length;be<Hd;++be){var he=za[be];var Ce=he.values;var re=NaN;for(sd=0;sd<ld;++sd)if(null==he[sd]){var vf=za.domain[sd];var Ge={_impute:!0};var Re=0;for(Vd=Ce.length;Re<Vd;++Re)Ge[Dc[Re]]=Ce[Re];Ge[Hc]=vf;Ge[nc]=Number.isNaN(re)?re=Jb(he,fc):re;Za.push(p.ingest(Ge))}}Za.length&&(tb.add=tb.materialize(tb.ADD).add.concat(Za));
lc.length&&(tb.rem=tb.materialize(tb.REM).rem.concat(lc));this.value=Za;return tb}});wa.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Nd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};k.inherits(wa,F,{transform(za,Za){const tb=this,Jb=za.modified();let fc;tb.value&&(Jb||Za.modified(tb._inputs,!0))?(fc=tb.value=Jb?tb.init(za):{},
Za.visit(Za.SOURCE,nc=>tb.add(nc))):(fc=tb.value=tb.value||this.init(za),Za.visit(Za.REM,nc=>tb.rem(nc)),Za.visit(Za.ADD,nc=>tb.add(nc)));tb.changes();Za.visit(Za.SOURCE,nc=>{k.extend(nc,fc[tb.cellkey(nc)].tuple)});return Za.reflow(Jb).modifies(this._outputs)},changes(){const za=this._adds,Za=this._mods;let tb,Jb;tb=0;for(Jb=this._alen;tb<Jb;++tb)this.celltuple(za[tb]),za[tb]=null;tb=0;for(Jb=this._mlen;tb<Jb;++tb)this.celltuple(Za[tb]),Za[tb]=null;this._alen=this._mlen=0}});Ta.Definition={type:"KDE",
metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},
{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(Ta,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE|Za.NO_FIELDS);if(!this.value||Za.changed()||za.modified()){Za=Za.materialize(Za.SOURCE).source;const Jb=ea(Za,za.groupby,za.field),fc=(za.groupby||[]).map(k.accessorName),nc=za.bandwidth,Hc=za.cumulative?"cdf":"pdf",Dc=za.as||["value","density"],lc=[];let ld=za.extent,sd=za.steps||za.minsteps||25,Hd=za.steps||za.maxsteps||200;"pdf"!==Hc&&"cdf"!==Hc&&k.error("Invalid density method: "+
Hc);"shared"===za.resolve&&(ld||(ld=k.extent(Za,za.field)),sd=Hd=za.steps||Hd);Jb.forEach(Vd=>{const be=q.randomKDE(Vd,nc)[Hc],he=za.counts?Vd.length:1,Ce=ld||k.extent(Vd);q.sampleCurve(be,Ce,sd,Hd).forEach(re=>{const vf={};for(let Ge=0;Ge<fc.length;++Ge)vf[fc[Ge]]=Vd.dims[Ge];vf[Dc[0]]=re[0];vf[Dc[1]]=re[1]*he;lc.push(p.ingest(vf))})});this.value&&(tb.rem=this.value);this.value=tb.add=tb.source=lc}return tb}});k.inherits(db,p.Operator);k.inherits(nb,p.Transform,{transform(za,Za){const tb=Za.dataflow;
return this._pending?$b(this,Za,this._pending):Mb(za)?Za.StopPropagation:za.values?$b(this,Za,tb.parse(za.values,za.format)):za.async?{async:tb.request(za.url,za.format).then(Jb=>{this._pending=k.array(Jb.data);return fc=>fc.touch(this)})}:tb.request(za.url,za.format).then(Jb=>$b(this,Za,k.array(Jb.data)))}});Gc.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",
array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};k.inherits(Gc,p.Transform,{transform(za,Za){const tb=za.fields,Jb=za.index,fc=za.values,nc=null==za.default?null:za.default;var Hc=za.modified();const Dc=tb.length;let lc=Hc?Za.SOURCE:Za.ADD,ld=Za,sd=za.as,Hd;fc?(Hd=fc.length,1<Dc&&!sd&&k.error('Multi-field lookup requires explicit "as" parameter.'),sd&&sd.length!==Dc*Hd&&k.error('The "as" parameter has too few output field names.'),
sd=sd||fc.map(k.accessorName),za=function(Vd){for(var be=0,he=0,Ce,re;be<Dc;++be)if(re=Jb.get(tb[be](Vd)),null==re)for(Ce=0;Ce<Hd;++Ce,++he)Vd[sd[he]]=nc;else for(Ce=0;Ce<Hd;++Ce,++he)Vd[sd[he]]=fc[Ce](re)}):(sd||k.error("Missing output field names."),za=function(Vd){for(var be=0,he;be<Dc;++be)he=Jb.get(tb[be](Vd)),Vd[sd[be]]=null==he?nc:he});Hc?ld=Za.reflow(!0):(Hc=tb.some(Vd=>Za.modified(Vd.fields)),lc|=Hc?Za.MOD:0);Za.visit(lc,za);return ld.modifies(sd)}});k.inherits(zc,p.Operator);k.inherits(uc,
p.Operator);k.inherits(Hb,p.Transform,{transform(za,Za){this.modified(za.modified());this.value=za;return Za.fork(Za.NO_SOURCE|Za.NO_FIELDS)}});Ab.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Nd,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};k.inherits(Ab,F,{_transform:F.prototype.transform,
transform(za,Za){return this._transform(dc(za,Za),Za)}});k.inherits(Kc,Y,{transform(za,Za){const tb=za.subflow,Jb=za.field,fc=nc=>this.subflow(p.tupleid(nc),tb,Za,nc);(za.modified("field")||Jb&&Za.modified(k.accessorFields(Jb)))&&k.error("PreFacet does not support field modification.");this.initTargets();Jb?(Za.visit(Za.MOD,nc=>{const Hc=fc(nc);Jb(nc).forEach(Dc=>Hc.mod(Dc))}),Za.visit(Za.ADD,nc=>{const Hc=fc(nc);Jb(nc).forEach(Dc=>Hc.add(p.ingest(Dc)))}),Za.visit(Za.REM,nc=>{const Hc=fc(nc);Jb(nc).forEach(Dc=>
Hc.rem(Dc))})):(Za.visit(Za.MOD,nc=>fc(nc).mod(nc)),Za.visit(Za.ADD,nc=>fc(nc).add(nc)),Za.visit(Za.REM,nc=>fc(nc).rem(nc)));Za.clean()&&Za.runAfter(()=>this.clean());return Za}});Fc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};k.inherits(Fc,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE),Jb=za.fields,fc=W(za.fields,za.as||[]),nc=Jb?(Dc,lc)=>{for(let ld=0,sd=Jb.length;ld<sd;++ld)lc[fc[ld]]=
Jb[ld](Dc);return lc}:p.rederive;let Hc;this.value?Hc=this.value:(Za=Za.addAll(),Hc=this.value={});Za.visit(Za.REM,Dc=>{Dc=p.tupleid(Dc);tb.rem.push(Hc[Dc]);Hc[Dc]=null});Za.visit(Za.ADD,Dc=>{const lc=nc(Dc,p.ingest({}));Hc[p.tupleid(Dc)]=lc;tb.add.push(lc)});Za.visit(Za.MOD,Dc=>{tb.mod.push(nc(Dc,Hc[p.tupleid(Dc)]))});return tb}});k.inherits(Sc,p.Transform,{transform(za,Za){this.value=za.value;return za.modified("value")?Za.fork(Za.NO_SOURCE|Za.NO_FIELDS):Za.StopPropagation}});jd.Definition={type:"Quantile",
metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};k.inherits(jd,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE|Za.NO_FIELDS),Jb=za.as||["prob","value"];if(this.value&&!za.modified()&&!Za.changed())return tb.source=this.value,tb;Za=Za.materialize(Za.SOURCE).source;Za=ea(Za,
za.groupby,za.field);const fc=(za.groupby||[]).map(k.accessorName),nc=[],Hc=za.step||.01,Dc=za.probs||ra(Hc/2,1-1E-14,Hc),lc=Dc.length;Za.forEach(ld=>{const sd=q.quantiles(ld,Dc);for(let Hd=0;Hd<lc;++Hd){const Vd={};for(let be=0;be<fc.length;++be)Vd[fc[be]]=ld.dims[be];Vd[Jb[0]]=Dc[Hd];Vd[Jb[1]]=sd[Hd];nc.push(p.ingest(Vd))}});this.value&&(tb.rem=this.value);this.value=tb.add=tb.source=nc;return tb}});k.inherits($d,p.Transform,{transform(za,Za){let tb,Jb;this.value?Jb=this.value:(tb=Za=Za.addAll(),
Jb=this.value={});za.derive&&(tb=Za.fork(Za.NO_SOURCE),Za.visit(Za.REM,fc=>{fc=p.tupleid(fc);tb.rem.push(Jb[fc]);Jb[fc]=null}),Za.visit(Za.ADD,fc=>{const nc=p.derive(fc);Jb[p.tupleid(fc)]=nc;tb.add.push(nc)}),Za.visit(Za.MOD,fc=>{const nc=Jb[p.tupleid(fc)];for(const Hc in fc)nc[Hc]=fc[Hc],tb.modifies(Hc);tb.mod.push(nc)}));return tb}});Ba.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};k.inherits(Ba,p.Transform,{transform(za,Za){function tb(sd){let Hd,Vd;
Dc.length<nc?Dc.push(sd):(Vd=~~((lc+1)*q.random()),Vd<Dc.length&&Vd>=ld&&(Hd=Dc[Vd],Hc[p.tupleid(Hd)]&&Jb.rem.push(Hd),Dc[Vd]=sd));++lc}const Jb=Za.fork(Za.NO_SOURCE);var fc=za.modified("size");const nc=za.size,Hc=this.value.reduce((sd,Hd)=>(sd[p.tupleid(Hd)]=1,sd),{});let Dc=this.value,lc=this.count,ld=0;Za.rem.length&&(Za.visit(Za.REM,sd=>{const Hd=p.tupleid(sd);Hc[Hd]&&(Hc[Hd]=-1,Jb.rem.push(sd));--lc}),Dc=Dc.filter(sd=>-1!==Hc[p.tupleid(sd)]));(Za.rem.length||fc)&&Dc.length<nc&&Za.source&&(ld=
lc=Dc.length,Za.visit(Za.SOURCE,sd=>{Hc[p.tupleid(sd)]||tb(sd)}),ld=-1);if(fc&&Dc.length>nc){za=Dc.length-nc;for(fc=0;fc<za;++fc)Hc[p.tupleid(Dc[fc])]=-1,Jb.rem.push(Dc[fc]);Dc=Dc.slice(za)}Za.mod.length&&Za.visit(Za.MOD,sd=>{Hc[p.tupleid(sd)]&&Jb.mod.push(sd)});Za.add.length&&Za.visit(Za.ADD,tb);if(Za.add.length||0>ld)Jb.add=Dc.filter(sd=>!Hc[p.tupleid(sd)]);this.count=lc;this.value=Jb.source=Dc;return Jb}});ua.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",
type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};k.inherits(ua,p.Transform,{transform(za,Za){if(!this.value||za.modified()){var tb=Za.materialize().fork(Za.MOD),Jb=za.as||"data";tb.rem=this.value?Za.rem.concat(this.value):Za.rem;this.value=ra(za.start,za.stop,za.step||1).map(fc=>{const nc={};nc[Jb]=fc;return p.ingest(nc)});tb.add=Za.add.concat(this.value);return tb}}});k.inherits(Ca,p.Transform,
{transform(za,Za){this.value=Za.source;return Za.changed()?Za.fork(Za.NO_SOURCE|Za.NO_FIELDS):Za.StopPropagation}});const qf=["unit0","unit1"];$a.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:t.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",
values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":qf}]};k.inherits($a,p.Transform,{transform(za,Za){const tb=za.field,Jb=!1!==za.interval;var fc="utc"===za.timezone;const nc=this._floor(za,Za),Hc=(fc?t.utcInterval:t.timeInterval)(nc.unit).offset;fc=za.as||qf;const Dc=fc[0],lc=fc[1],ld=nc.step;let sd=nc.start||Infinity,Hd=nc.stop||-Infinity,Vd=Za.ADD;if(za.modified()||Za.changed(Za.REM)||Za.modified(k.accessorFields(tb)))Za=Za.reflow(!0),Vd=Za.SOURCE,sd=Infinity,Hd=-Infinity;
Za.visit(Vd,be=>{var he=tb(be);let Ce;null==he?(be[Dc]=null,Jb&&(be[lc]=null)):(be[Dc]=he=Ce=nc(he),Jb&&(be[lc]=Ce=Hc(he,ld)),he<sd&&(sd=he),Ce>Hd&&(Hd=Ce))});nc.start=sd;nc.stop=Hd;return Za.modifies(Jb?fc:Dc)},_floor(za,Za){var tb="utc"===za.timezone;const {units:Jb,step:fc}=za.units?{units:za.units,step:za.step||1}:t.timeBin({extent:za.extent||k.extent(Za.materialize(Za.SOURCE).source,za.field),maxbins:za.maxbins});za=t.timeUnits(Jb);Za=this.value||{};tb=(tb?t.utcFloor:t.timeFloor)(za,fc);tb.unit=
k.peek(za);tb.units=za;tb.step=fc;tb.start=Za.start;tb.stop=Za.stop;return this.value=tb}});k.inherits(jb,p.Transform,{transform(za,Za){const tb=Za.dataflow,Jb=za.field,fc=this.value,nc=Dc=>fc.set(Jb(Dc),Dc);let Hc=!0;za.modified("field")||Za.modified(Jb.fields)?(fc.clear(),Za.visit(Za.SOURCE,nc)):Za.changed()?(Za.visit(Za.REM,Dc=>fc.delete(Jb(Dc))),Za.visit(Za.ADD,nc)):Hc=!1;this.modified(Hc);fc.empty>tb.cleanThreshold&&tb.runAfter(fc.clean);return Za.fork()}});k.inherits(yb,p.Transform,{transform(za,
Za){if(!this.value||za.modified("field")||za.modified("sort")||Za.changed()||za.sort&&Za.modified(za.sort.fields))this.value=(za.sort?Za.source.slice().sort(p.stableCompare(za.sort)):Za.source).map(za.field)}});const gf={row_number:function(){return{next:za=>za.index+1}},rank:function(){let za;return{init:()=>za=1,next:Za=>{const tb=Za.index,Jb=Za.data;return tb&&Za.compare(Jb[tb-1],Jb[tb])?za=tb+1:za}}},dense_rank:function(){let za;return{init:()=>za=1,next:Za=>{const tb=Za.index,Jb=Za.data;return tb&&
Za.compare(Jb[tb-1],Jb[tb])?++za:za}}},percent_rank:function(){const za=gf.rank(),Za=za.next;return{init:za.init,next:tb=>(Za(tb)-1)/(tb.data.length-1)}},cume_dist:function(){let za;return{init:()=>za=0,next:Za=>{const tb=Za.data,Jb=Za.compare;Za=Za.index;if(za<Za){for(;Za+1<tb.length&&!Jb(tb[Za],tb[Za+1]);)++Za;za=Za}return(1+za)/tb.length}}},ntile:function(za,Za){Za=+Za;0<Za||k.error("ntile num must be greater than zero.");za=gf.cume_dist();const tb=za.next;return{init:za.init,next:Jb=>Math.ceil(Za*
tb(Jb))}},lag:function(za,Za){Za=+Za||1;return{next:tb=>{const Jb=tb.index-Za;return 0<=Jb?za(tb.data[Jb]):null}}},lead:function(za,Za){Za=+Za||1;return{next:tb=>{const Jb=tb.index+Za;tb=tb.data;return Jb<tb.length?za(tb[Jb]):null}}},first_value:function(za){return{next:Za=>za(Za.data[Za.i0])}},last_value:function(za){return{next:Za=>za(Za.data[Za.i1-1])}},nth_value:function(za,Za){Za=+Za;0<Za||k.error("nth_value nth must be greater than zero.");return{next:tb=>{const Jb=tb.i0+(Za-1);return Jb<tb.i1?
za(tb.data[Jb]):null}}},prev_value:function(za){let Za;return{init:()=>Za=null,next:tb=>{tb=za(tb.data[tb.index]);return null!=tb?Za=tb:Za}}},next_value:function(za){let Za,tb;return{init:()=>(Za=null,tb=-1),next:Jb=>{var fc=Jb.data;if(Jb.index<=tb)fc=Za;else{a:{Jb=Jb.index;for(let nc=fc.length;Jb<nc;++Jb)if(null!=za(fc[Jb]))break a;Jb=-1}fc=0>(tb=Jb)?(tb=fc.length,Za=null):Za=za(fc[tb])}return fc}}}},te=Object.keys(gf),We=Tb.prototype;We.init=function(){this.windows.forEach(za=>za.init());this.cell&&
this.cell.init()};We.update=function(za,Za){const tb=this.cell,Jb=this.windows,fc=za.data,nc=Jb&&Jb.length;let Hc;if(tb){for(Hc=za.p0;Hc<za.i0;++Hc)tb.rem(fc[Hc]);for(Hc=za.p1;Hc<za.i1;++Hc)tb.add(fc[Hc]);tb.set(Za)}for(Hc=0;Hc<nc;++Hc)Jb[Hc].update(za,Za)};Ic.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:te.concat(Nd)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};k.inherits(Ic,p.Transform,{transform(za,Za){this.stamp=Za.stamp;const tb=za.modified(),Jb=p.stableCompare(za.sort),fc=f(za.groupby),nc=Dc=>this.group(fc(Dc));let Hc=this.state;if(!Hc||tb)Hc=this.state=new Tb(za);tb||Za.modified(Hc.inputs)?(this.value={},Za.visit(Za.SOURCE,Dc=>nc(Dc).add(Dc))):(Za.visit(Za.REM,
Dc=>nc(Dc).remove(Dc)),Za.visit(Za.ADD,Dc=>nc(Dc).add(Dc)));for(let Dc=0,lc=this._mlen;Dc<lc;++Dc)Yc(this._mods[Dc],Hc,Jb,za);this._mlen=0;this._mods=[];return Za.reflow(tb).modifies(Hc.outputs)},group(za){let Za=this.value[za];Za||(Za=this.value[za]=D(p.tupleid),Za.stamp=-1);Za.stamp<this.stamp&&(Za.stamp=this.stamp,this._mods[this._mlen++]=Za);return Za}});w.aggregate=F;w.bin=J;w.collect=r;w.compare=z;w.countpattern=T;w.cross=R;w.density=M;w.dotbin=La;w.expression=aa;w.extent=B;w.facet=Y;w.field=
Aa;w.filter=la;w.flatten=Ia;w.fold=bb;w.formula=ib;w.generate=Ja;w.impute=Oa;w.joinaggregate=wa;w.kde=Ta;w.key=db;w.load=nb;w.lookup=Gc;w.multiextent=zc;w.multivalues=uc;w.params=Hb;w.pivot=Ab;w.prefacet=Kc;w.project=Fc;w.proxy=Sc;w.quantile=jd;w.relay=$d;w.sample=Ba;w.sequence=ua;w.sieve=Ca;w.subflow=N;w.timeunit=$a;w.tupleindex=jb;w.values=yb;w.window=Ic;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[26]=function(Ka,L,sb,A){!function(w,k){"object"==typeof A&&"undefined"!=typeof sb?k(A):"function"==typeof define&&define.amd?define(["exports"],k):k((w="undefined"!=typeof globalThis?globalThis:w||self).vega={})}(this,function(w){function k(p,q){if("undefined"!=typeof document&&document.createElement){const t=document.createElement("canvas");if(t&&t.getContext)return t.width=p,t.height=q,t}return null}w.canvas=k;w.domCanvas=k;w.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(w,
"__esModule",{value:!0})})};
shadow$provide[27]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(16)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(ia,Na,Sa){Na=ia-Na+2*Sa;return ia?0<Na?Na:1:0}function t(ia){return function(Na){let Sa=Na[0];Na=Na[1];let ub;Na<Sa&&(ub=Sa,Sa=Na,Na=ub);return[ia.invert(Sa),ia.invert(Na)]}}function m(ia){return function(Na){const Sa=
ia.range();let ub=Na[0];Na=Na[1];let Zb=-1,ac;let jc;if(Na<ub){var Ac=ub;ub=Na;Na=Ac}Ac=0;for(jc=Sa.length;Ac<jc;++Ac)Sa[Ac]>=ub&&Sa[Ac]<=Na&&(0>Zb&&(Zb=Ac),ac=Ac);if(!(0>Zb))return ub=ia.invertExtent(Sa[Zb]),Na=ia.invertExtent(Sa[ac]),[void 0===ub[0]?ub[1]:ub[0],void 0===Na[1]?Na[0]:Na[1]]}}function f(ia,Na){return null==ia||null==Na?NaN:ia<Na?-1:ia>Na?1:ia>=Na?0:NaN}function b(ia){function Na(ac,jc,Ac=0,hd=ac.length){if(Ac<hd){if(0!==ub(jc,jc))return hd;do{const Ld=Ac+hd>>>1;0>Zb(ac[Ld],jc)?Ac=
Ld+1:hd=Ld}while(Ac<hd)}return Ac}let Sa=ia,ub=ia,Zb=ia;2!==ia.length&&(Sa=(ac,jc)=>ia(ac)-jc,ub=f,Zb=(ac,jc)=>f(ia(ac),jc));return{left:Na,center:function(ac,jc,Ac=0,hd=ac.length){hd=Na(ac,jc,Ac,hd-1);return hd>Ac&&Sa(ac[hd-1],jc)>-Sa(ac[hd],jc)?hd-1:hd},right:function(ac,jc,Ac=0,hd=ac.length){if(Ac<hd){if(0!==ub(jc,jc))return hd;do{const Ld=Ac+hd>>>1;0>=Zb(ac[Ld],jc)?Ac=Ld+1:hd=Ld}while(Ac<hd)}return Ac}}}function c(ia){return null===ia?NaN:+ia}function e({_intern:ia,_key:Na},Sa){Na=Na(Sa);return ia.has(Na)?
ia.get(Na):Sa}function g({_intern:ia,_key:Na},Sa){Na=Na(Sa);if(ia.has(Na))return ia.get(Na);ia.set(Na,Sa);return Sa}function n({_intern:ia,_key:Na},Sa){Na=Na(Sa);ia.has(Na)&&(Sa=ia.get(Na),ia.delete(Na));return Sa}function h(ia){return null!==ia&&"object"===typeof ia?ia.valueOf():ia}function x(ia,Na,Sa){var ub,Zb=-1,ac;Na=+Na;ia=+ia;Sa=+Sa;if(ia===Na&&0<Sa)return[ia];if(ub=Na<ia){var jc=ia;ia=Na;Na=jc}if(0===(ac=O(ia,Na,Sa))||!isFinite(ac))return[];if(0<ac)for(Sa=Math.round(ia/ac),jc=Math.round(Na/
ac),Sa*ac<ia&&++Sa,jc*ac>Na&&--jc,ia=Array(jc=jc-Sa+1);++Zb<jc;)ia[Zb]=(Sa+Zb)*ac;else for(ac=-ac,Sa=Math.round(ia*ac),jc=Math.round(Na*ac),Sa/ac<ia&&++Sa,jc/ac>Na&&--jc,ia=Array(jc=jc-Sa+1);++Zb<jc;)ia[Zb]=(Sa+Zb)/ac;ub&&ia.reverse();return ia}function O(ia,Na,Sa){Na=(Na-ia)/Math.max(0,Sa);ia=Math.floor(Math.log(Na)/Math.LN10);Na/=Math.pow(10,ia);return 0<=ia?(Na>=Cc?10:Na>=Zc?5:Na>=$c?2:1)*Math.pow(10,ia):-Math.pow(10,-ia)/(Na>=Cc?10:Na>=Zc?5:Na>=$c?2:1)}function H(ia,Na,Sa){var ub=Math.abs(Na-
ia)/Math.max(0,Sa);Sa=Math.pow(10,Math.floor(Math.log(ub)/Math.LN10));ub/=Sa;ub>=Cc?Sa*=10:ub>=Zc?Sa*=5:ub>=$c&&(Sa*=2);return Na<ia?-Sa:Sa}function F(ia,Na,Sa=c){if(ub=ia.length){if(0>=(Na=+Na)||2>ub)return+Sa(ia[0],0,ia);if(1<=Na)return+Sa(ia[ub-1],ub-1,ia);var ub;Na*=ub-1;ub=Math.floor(Na);var Zb=+Sa(ia[ub],ub,ia);ia=+Sa(ia[ub+1],ub+1,ia);return Zb+(ia-Zb)*(Na-ub)}}function J(ia,Na,Sa){ia=+ia;Na=+Na;Sa=2>(Zb=arguments.length)?(Na=ia,ia=0,1):3>Zb?1:+Sa;for(var ub=-1,Zb=Math.max(0,Math.ceil((Na-
ia)/Sa))|0,ac=Array(Zb);++ub<Zb;)ac[ub]=ia+ub*Sa;return ac}function D(ia,Na){switch(arguments.length){case 0:break;case 1:this.range(ia);break;default:this.range(Na).domain(ia)}return this}function r(ia,Na){switch(arguments.length){case 0:break;case 1:"function"===typeof ia?this.interpolator(ia):this.range(ia);break;default:this.domain(ia),"function"===typeof Na?this.interpolator(Na):this.range(Na)}return this}function z(){function ia(ac){let jc=Na.get(ac);if(void 0===jc){if(Zb!==rd)return Zb;Na.set(ac,
jc=Sa.push(ac)-1)}return ub[jc%ub.length]}var Na=new Sb,Sa=[],ub=[],Zb=rd;ia.domain=function(ac){if(!arguments.length)return Sa.slice();Sa=[];Na=new Sb;for(const jc of ac)Na.has(jc)||Na.set(jc,Sa.push(jc)-1);return ia};ia.range=function(ac){return arguments.length?(ub=Array.from(ac),ia):ub.slice()};ia.unknown=function(ac){return arguments.length?(Zb=ac,ia):Zb};ia.copy=function(){return z(Sa,ub).unknown(Zb)};D.apply(ia,arguments);return ia}function G(ia,Na,Sa){ia.prototype=Na.prototype=Sa;Sa.constructor=
ia}function T(ia,Na){ia=Object.create(ia.prototype);for(var Sa in Na)ia[Sa]=Na[Sa];return ia}function R(){}function ca(){return this.rgb().formatHex()}function M(){return this.rgb().formatRgb()}function ba(ia){var Na,Sa;ia=(ia+"").trim().toLowerCase();return(Na=ze.exec(ia))?(Sa=Na[1].length,Na=parseInt(Na[1],16),6===Sa?W(Na):3===Sa?new C(Na>>8&15|Na>>4&240,Na>>4&15|Na&240,(Na&15)<<4|Na&15,1):8===Sa?ea(Na>>24&255,Na>>16&255,Na>>8&255,(Na&255)/255):4===Sa?ea(Na>>12&15|Na>>8&240,Na>>8&15|Na>>4&240,Na>>
4&15|Na&240,((Na&15)<<4|Na&15)/255):null):(Na=ef.exec(ia))?new C(Na[1],Na[2],Na[3],1):(Na=Cf.exec(ia))?new C(255*Na[1]/100,255*Na[2]/100,255*Na[3]/100,1):(Na=Mf.exec(ia))?ea(Na[1],Na[2],Na[3],Na[4]):(Na=Ke.exec(ia))?ea(255*Na[1]/100,255*Na[2]/100,255*Na[3]/100,Na[4]):(Na=ag.exec(ia))?Aa(Na[1],Na[2]/100,Na[3]/100,1):(Na=wg.exec(ia))?Aa(Na[1],Na[2]/100,Na[3]/100,Na[4]):vh.hasOwnProperty(ia)?W(vh[ia]):"transparent"===ia?new C(NaN,NaN,NaN,0):null}function W(ia){return new C(ia>>16&255,ia>>8&255,ia&255,
1)}function ea(ia,Na,Sa,ub){0>=ub&&(ia=Na=Sa=NaN);return new C(ia,Na,Sa,ub)}function La(ia){ia instanceof R||(ia=ba(ia));if(!ia)return new C;ia=ia.rgb();return new C(ia.r,ia.g,ia.b,ia.opacity)}function aa(ia,Na,Sa,ub){return 1===arguments.length?La(ia):new C(ia,Na,Sa,null==ub?1:ub)}function C(ia,Na,Sa,ub){this.r=+ia;this.g=+Na;this.b=+Sa;this.opacity=+ub}function B(){return"#"+Y(this.r)+Y(this.g)+Y(this.b)}function N(){var ia=this.opacity;ia=isNaN(ia)?1:Math.max(0,Math.min(1,ia));return(1===ia?"rgb(":
"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===ia?")":", "+ia+")")}function Y(ia){ia=Math.max(0,Math.min(255,Math.round(ia)||0));return(16>ia?"0":"")+ia.toString(16)}function Aa(ia,Na,Sa,ub){0>=ub?ia=Na=Sa=NaN:0>=Sa||1<=Sa?ia=Na=NaN:0>=Na&&(ia=NaN);return new Ia(ia,Na,Sa,ub)}function sa(ia){if(ia instanceof Ia)return new Ia(ia.h,ia.s,ia.l,ia.opacity);ia instanceof R||(ia=ba(ia));
if(!ia)return new Ia;if(ia instanceof Ia)return ia;ia=ia.rgb();var Na=ia.r/255,Sa=ia.g/255,ub=ia.b/255,Zb=Math.min(Na,Sa,ub),ac=Math.max(Na,Sa,ub),jc=NaN,Ac=ac-Zb,hd=(ac+Zb)/2;Ac?(jc=Na===ac?(Sa-ub)/Ac+6*(Sa<ub):Sa===ac?(ub-Na)/Ac+2:(Na-Sa)/Ac+4,Ac/=.5>hd?ac+Zb:2-ac-Zb,jc*=60):Ac=0<hd&&1>hd?0:jc;return new Ia(jc,Ac,hd,ia.opacity)}function la(ia,Na,Sa,ub){return 1===arguments.length?sa(ia):new Ia(ia,Na,Sa,null==ub?1:ub)}function Ia(ia,Na,Sa,ub){this.h=+ia;this.s=+Na;this.l=+Sa;this.opacity=+ub}function bb(ia,
Na,Sa){return 255*(60>ia?Na+(Sa-Na)*ia/60:180>ia?Sa:240>ia?Na+(Sa-Na)*(240-ia)/60:Na)}function ib(ia){if(ia instanceof ma)return new ma(ia.l,ia.a,ia.b,ia.opacity);if(ia instanceof Ua)return eb(ia);ia instanceof C||(ia=La(ia));var Na=ya(ia.r),Sa=ya(ia.g),ub=ya(ia.b),Zb=Fa(.2225045*Na+.7168786*Sa+.0606169*ub);if(Na===Sa&&Sa===ub)var ac=Na=Zb;else ac=Fa((.4360747*Na+.3850649*Sa+.1430804*ub)/.96422),Na=Fa((.0139322*Na+.0971045*Sa+.7141733*ub)/.82521);return new ma(116*Zb-16,500*(ac-Zb),200*(Zb-Na),ia.opacity)}
function Ja(ia,Na,Sa,ub){return 1===arguments.length?ib(ia):new ma(ia,Na,Sa,null==ub?1:ub)}function ma(ia,Na,Sa,ub){this.l=+ia;this.a=+Na;this.b=+Sa;this.opacity=+ub}function Fa(ia){return ia>qg?Math.pow(ia,1/3):ia/bg+Af}function Pa(ia){return ia>jg?ia*ia*ia:bg*(ia-Af)}function qa(ia){return 255*(.0031308>=ia?12.92*ia:1.055*Math.pow(ia,1/2.4)-.055)}function ya(ia){return.04045>=(ia/=255)?ia/12.92:Math.pow((ia+.055)/1.055,2.4)}function oa(ia){if(ia instanceof Ua)return new Ua(ia.h,ia.c,ia.l,ia.opacity);
ia instanceof ma||(ia=ib(ia));if(0===ia.a&&0===ia.b)return new Ua(NaN,0<ia.l&&100>ia.l?0:NaN,ia.l,ia.opacity);var Na=Math.atan2(ia.b,ia.a)*dg;return new Ua(0>Na?Na+360:Na,Math.sqrt(ia.a*ia.a+ia.b*ia.b),ia.l,ia.opacity)}function va(ia,Na,Sa,ub){return 1===arguments.length?oa(ia):new Ua(ia,Na,Sa,null==ub?1:ub)}function Ua(ia,Na,Sa,ub){this.h=+ia;this.c=+Na;this.l=+Sa;this.opacity=+ub}function eb(ia){if(isNaN(ia.h))return new ma(ia.l,0,0,ia.opacity);var Na=ia.h*ch;return new ma(ia.l,Math.cos(Na)*ia.c,
Math.sin(Na)*ia.c,ia.opacity)}function ra(ia,Na,Sa,ub){if(1===arguments.length){var Zb=ia;if(Zb instanceof Oa)Zb=new Oa(Zb.h,Zb.s,Zb.l,Zb.opacity);else{Zb instanceof C||(Zb=La(Zb));var ac=Zb.g/255,jc=Zb.b/255,Ac=(wh*jc+Zb.r/255*-1.7884503806-3.5172982438*ac)/(wh+-1.7884503806-3.5172982438);jc-=Ac;var hd=(1.97294*(ac-Ac)- -.29227*jc)/-.90649;jc=(ac=Math.sqrt(hd*hd+jc*jc)/(1.97294*Ac*(1-Ac)))?Math.atan2(hd,jc)*dg-120:NaN;Zb=new Oa(0>jc?jc+360:jc,ac,Ac,Zb.opacity)}}else Zb=new Oa(ia,Na,Sa,null==ub?1:
ub);return Zb}function Oa(ia,Na,Sa,ub){this.h=+ia;this.s=+Na;this.l=+Sa;this.opacity=+ub}function ja(ia,Na,Sa,ub,Zb){var ac=ia*ia,jc=ac*ia;return((1-3*ia+3*ac-jc)*Na+(4-6*ac+3*jc)*Sa+(1+3*ia+3*ac-3*jc)*ub+jc*Zb)/6}function U(ia){var Na=ia.length-1;return function(Sa){var ub=0>=Sa?Sa=0:1<=Sa?(Sa=1,Na-1):Math.floor(Sa*Na),Zb=ia[ub],ac=ia[ub+1];return ja((Sa-ub/Na)*Na,0<ub?ia[ub-1]:2*Zb-ac,Zb,ac,ub<Na-1?ia[ub+2]:2*ac-Zb)}}function ka(ia){var Na=ia.length;return function(Sa){var ub=Math.floor((0>(Sa%=
1)?++Sa:Sa)*Na);return ja((Sa-ub/Na)*Na,ia[(ub+Na-1)%Na],ia[ub%Na],ia[(ub+1)%Na],ia[(ub+2)%Na])}}function wa(ia,Na){return function(Sa){return ia+Sa*Na}}function Ta(ia,Na,Sa){return ia=Math.pow(ia,Sa),Na=Math.pow(Na,Sa)-ia,Sa=1/Sa,function(ub){return Math.pow(ia+ub*Na,Sa)}}function db(ia,Na){var Sa=Na-ia;return Sa?wa(ia,180<Sa||-180>Sa?Sa-360*Math.round(Sa/360):Sa):Og(isNaN(ia)?Na:ia)}function lb(ia){return 1===(ia=+ia)?nb:function(Na,Sa){return Sa-Na?Ta(Na,Sa,ia):Og(isNaN(Na)?Sa:Na)}}function nb(ia,
Na){var Sa=Na-ia;return Sa?wa(ia,Sa):Og(isNaN(ia)?Na:ia)}function Mb(ia){return function(Na){var Sa=Na.length,ub=Array(Sa),Zb=Array(Sa),ac=Array(Sa),jc;for(jc=0;jc<Sa;++jc){var Ac=aa(Na[jc]);ub[jc]=Ac.r||0;Zb[jc]=Ac.g||0;ac[jc]=Ac.b||0}ub=ia(ub);Zb=ia(Zb);ac=ia(ac);Ac.opacity=1;return function(hd){Ac.r=ub(hd);Ac.g=Zb(hd);Ac.b=ac(hd);return Ac+""}}}function $b(ia,Na){Na||(Na=[]);var Sa=ia?Math.min(Na.length,ia.length):0,ub=Na.slice(),Zb;return function(ac){for(Zb=0;Zb<Sa;++Zb)ub[Zb]=ia[Zb]*(1-ac)+
Na[Zb]*ac;return ub}}function Gc(ia){return ArrayBuffer.isView(ia)&&!(ia instanceof DataView)}function zc(ia,Na){var Sa=Na?Na.length:0,ub=ia?Math.min(Sa,ia.length):0,Zb=Array(ub),ac=Array(Sa),jc;for(jc=0;jc<ub;++jc)Zb[jc]=Wb(ia[jc],Na[jc]);for(;jc<Sa;++jc)ac[jc]=Na[jc];return function(Ac){for(jc=0;jc<ub;++jc)ac[jc]=Zb[jc](Ac);return ac}}function Bc(ia,Na){var Sa=new Date;return ia=+ia,Na=+Na,function(ub){return Sa.setTime(ia*(1-ub)+Na*ub),Sa}}function uc(ia,Na){return ia=+ia,Na=+Na,function(Sa){return ia*
(1-Sa)+Na*Sa}}function id(ia,Na){var Sa={},ub={},Zb;if(null===ia||"object"!==typeof ia)ia={};if(null===Na||"object"!==typeof Na)Na={};for(Zb in Na)Zb in ia?Sa[Zb]=Wb(ia[Zb],Na[Zb]):ub[Zb]=Na[Zb];return function(ac){for(Zb in Sa)ub[Zb]=Sa[Zb](ac);return ub}}function Hb(ia){return function(){return ia}}function Ab(ia){return function(Na){return ia(Na)+""}}function dc(ia,Na){var Sa=$h.lastIndex=df.lastIndex=0,ub,Zb,ac,jc=-1,Ac=[],hd=[];ia+="";for(Na+="";(ub=$h.exec(ia))&&(Zb=df.exec(Na));)(ac=Zb.index)>
Sa&&(ac=Na.slice(Sa,ac),Ac[jc]?Ac[jc]+=ac:Ac[++jc]=ac),(ub=ub[0])===(Zb=Zb[0])?Ac[jc]?Ac[jc]+=Zb:Ac[++jc]=Zb:(Ac[++jc]=null,hd.push({i:jc,x:uc(ub,Zb)})),Sa=df.lastIndex;Sa<Na.length&&(ac=Na.slice(Sa),Ac[jc]?Ac[jc]+=ac:Ac[++jc]=ac);return 2>Ac.length?hd[0]?Ab(hd[0].x):Hb(Na):(Na=hd.length,function(Ld){for(var ae=0,kd;ae<Na;++ae)Ac[(kd=hd[ae]).i]=kd.x(Ld);return Ac.join("")})}function Wb(ia,Na){var Sa=typeof Na,ub;return null==Na||"boolean"===Sa?Og(Na):("number"===Sa?uc:"string"===Sa?(ub=ba(Na))?(Na=
ub,zh):dc:Na instanceof ba?zh:Na instanceof Date?Bc:Gc(Na)?$b:Array.isArray(Na)?zc:"function"!==typeof Na.valueOf&&"function"!==typeof Na.toString||isNaN(Na)?id:uc)(ia,Na)}function mc(ia,Na){return ia=+ia,Na=+Na,function(Sa){return Math.round(ia*(1-Sa)+Na*Sa)}}function Kc(ia,Na,Sa,ub,Zb,ac){var jc,Ac,hd;if(jc=Math.sqrt(ia*ia+Na*Na))ia/=jc,Na/=jc;if(hd=ia*Sa+Na*ub)Sa-=ia*hd,ub-=Na*hd;if(Ac=Math.sqrt(Sa*Sa+ub*ub))Sa/=Ac,ub/=Ac,hd/=Ac;ia*ub<Na*Sa&&(ia=-ia,Na=-Na,hd=-hd,jc=-jc);return{translateX:Zb,translateY:ac,
rotate:Math.atan2(Na,ia)*Ch,skewX:Math.atan(hd)*Ch,scaleX:jc,scaleY:Ac}}function Fc(ia,Na,Sa,ub){function Zb(Ld){return Ld.length?Ld.pop()+" ":""}function ac(Ld,ae,kd,oe,Qe,xf){Ld!==kd||ae!==oe?(Qe=Qe.push("translate(",null,Na,null,Sa),xf.push({i:Qe-4,x:uc(Ld,kd)},{i:Qe-2,x:uc(ae,oe)})):(kd||oe)&&Qe.push("translate("+kd+Na+oe+Sa)}function jc(Ld,ae,kd,oe){Ld!==ae?(180<Ld-ae?ae+=360:180<ae-Ld&&(Ld+=360),oe.push({i:kd.push(Zb(kd)+"rotate(",null,ub)-2,x:uc(Ld,ae)})):ae&&kd.push(Zb(kd)+"rotate("+ae+ub)}
function Ac(Ld,ae,kd,oe){Ld!==ae?oe.push({i:kd.push(Zb(kd)+"skewX(",null,ub)-2,x:uc(Ld,ae)}):ae&&kd.push(Zb(kd)+"skewX("+ae+ub)}function hd(Ld,ae,kd,oe,Qe,xf){Ld!==kd||ae!==oe?(Qe=Qe.push(Zb(Qe)+"scale(",null,",",null,")"),xf.push({i:Qe-4,x:uc(Ld,kd)},{i:Qe-2,x:uc(ae,oe)})):1===kd&&1===oe||Qe.push(Zb(Qe)+"scale("+kd+","+oe+")")}return function(Ld,ae){var kd=[],oe=[];Ld=ia(Ld);ae=ia(ae);ac(Ld.translateX,Ld.translateY,ae.translateX,ae.translateY,kd,oe);jc(Ld.rotate,ae.rotate,kd,oe);Ac(Ld.skewX,ae.skewX,
kd,oe);hd(Ld.scaleX,Ld.scaleY,ae.scaleX,ae.scaleY,kd,oe);Ld=ae=null;return function(Qe){for(var xf=-1,Ne=oe.length,Zf;++xf<Ne;)kd[(Zf=oe[xf]).i]=Zf.x(Qe);return kd.join("")}}}function Sc(ia){return((ia=Math.exp(ia))+1/ia)/2}function jd(ia){return function(Na,Sa){var ub=ia((Na=la(Na)).h,(Sa=la(Sa)).h),Zb=nb(Na.s,Sa.s),ac=nb(Na.l,Sa.l),jc=nb(Na.opacity,Sa.opacity);return function(Ac){Na.h=ub(Ac);Na.s=Zb(Ac);Na.l=ac(Ac);Na.opacity=jc(Ac);return Na+""}}}function $d(ia){return function(Na,Sa){var ub=ia((Na=
va(Na)).h,(Sa=va(Sa)).h),Zb=nb(Na.c,Sa.c),ac=nb(Na.l,Sa.l),jc=nb(Na.opacity,Sa.opacity);return function(Ac){Na.h=ub(Ac);Na.c=Zb(Ac);Na.l=ac(Ac);Na.opacity=jc(Ac);return Na+""}}}function Ba(ia){return function ub(Sa){function Zb(ac,jc){var Ac=ia((ac=ra(ac)).h,(jc=ra(jc)).h),hd=nb(ac.s,jc.s),Ld=nb(ac.l,jc.l),ae=nb(ac.opacity,jc.opacity);return function(kd){ac.h=Ac(kd);ac.s=hd(kd);ac.l=Ld(Math.pow(kd,Sa));ac.opacity=ae(kd);return ac+""}}Sa=+Sa;Zb.gamma=ub;return Zb}(1)}function ua(ia,Na){void 0===Na&&
(Na=ia,ia=Wb);for(var Sa=0,ub=Na.length-1,Zb=Na[0],ac=Array(0>ub?0:ub);Sa<ub;)ac[Sa]=ia(Zb,Zb=Na[++Sa]);return function(jc){var Ac=Math.max(0,Math.min(ub-1,Math.floor(jc*=ub)));return ac[Ac](jc-Ac)}}function Ca(ia){return function(){return ia}}function $a(ia){return+ia}function jb(ia){return ia}function yb(ia,Na){return(Na-=ia=+ia)?function(Sa){return(Sa-ia)/Na}:Ca(isNaN(Na)?NaN:.5)}function Ub(ia,Na){if(ia>Na){var Sa=ia;ia=Na;Na=Sa}return function(ub){return Math.max(ia,Math.min(Na,ub))}}function Tb(ia,
Na,Sa){var ub=ia[0];ia=ia[1];var Zb=Na[0];Na=Na[1];ia<ub?(ub=yb(ia,ub),Zb=Sa(Na,Zb)):(ub=yb(ub,ia),Zb=Sa(Zb,Na));return function(ac){return Zb(ub(ac))}}function Vb(ia,Na,Sa){var ub=Math.min(ia.length,Na.length)-1,Zb=Array(ub),ac=Array(ub),jc=-1;ia[ub]<ia[0]&&(ia=ia.slice().reverse(),Na=Na.slice().reverse());for(;++jc<ub;)Zb[jc]=yb(ia[jc],ia[jc+1]),ac[jc]=Sa(Na[jc],Na[jc+1]);return function(Ac){var hd=Eb(ia,Ac,1,ub)-1;return ac[hd](Zb[hd](Ac))}}function Ic(ia,Na){return Na.domain(ia.domain()).range(ia.range()).interpolate(ia.interpolate()).clamp(ia.clamp()).unknown(ia.unknown())}
function Yc(){function ia(){var oe=Math.min(Sa.length,ub.length);hd!==jb&&(hd=Ub(Sa[0],Sa[oe-1]));Ld=2<oe?Vb:Tb;ae=kd=null;return Na}function Na(oe){return null==oe||isNaN(oe=+oe)?Ac:(ae||(ae=Ld(Sa.map(ac),ub,Zb)))(ac(hd(oe)))}var Sa=fg,ub=fg,Zb=Wb,ac,jc,Ac,hd=jb,Ld,ae,kd;Na.invert=function(oe){return hd(jc((kd||(kd=Ld(ub,Sa.map(ac),uc)))(oe)))};Na.domain=function(oe){return arguments.length?(Sa=Array.from(oe,$a),ia()):Sa.slice()};Na.range=function(oe){return arguments.length?(ub=Array.from(oe),ia()):
ub.slice()};Na.rangeRound=function(oe){return ub=Array.from(oe),Zb=mc,ia()};Na.clamp=function(oe){return arguments.length?(hd=oe?!0:jb,ia()):hd!==jb};Na.interpolate=function(oe){return arguments.length?(Zb=oe,ia()):Zb};Na.unknown=function(oe){return arguments.length?(Ac=oe,Na):Ac};return function(oe,Qe){ac=oe;jc=Qe;return ia()}}function dd(ia,Na){if(0>(Na=(ia=Na?ia.toExponential(Na-1):ia.toExponential()).indexOf("e")))return null;var Sa=ia.slice(0,Na);return[1<Sa.length?Sa[0]+Sa.slice(2):Sa,+ia.slice(Na+
1)]}function nd(ia){return ia=dd(Math.abs(ia)),ia?ia[1]:NaN}function xd(ia,Na){return function(Sa,ub){for(var Zb=Sa.length,ac=[],jc=0,Ac=ia[0],hd=0;0<Zb&&0<Ac;){hd+Ac+1>ub&&(Ac=Math.max(1,ub-hd));ac.push(Sa.substring(Zb-=Ac,Zb+Ac));if((hd+=Ac+1)>ub)break;Ac=ia[jc=(jc+1)%ia.length]}return ac.reverse().join(Na)}}function Nd(ia){return function(Na){return Na.replace(/[0-9]/g,function(Sa){return ia[+Sa]})}}function Xd(ia){if(!(Na=ff.exec(ia)))throw Error("invalid format: "+ia);var Na;return new ge({fill:Na[1],
align:Na[2],sign:Na[3],symbol:Na[4],zero:Na[5],width:Na[6],comma:Na[7],precision:Na[8]&&Na[8].slice(1),trim:Na[9],type:Na[10]})}function ge(ia){this.fill=void 0===ia.fill?" ":ia.fill+"";this.align=void 0===ia.align?"\x3e":ia.align+"";this.sign=void 0===ia.sign?"-":ia.sign+"";this.symbol=void 0===ia.symbol?"":ia.symbol+"";this.zero=!!ia.zero;this.width=void 0===ia.width?void 0:+ia.width;this.comma=!!ia.comma;this.precision=void 0===ia.precision?void 0:+ia.precision;this.trim=!!ia.trim;this.type=void 0===
ia.type?"":ia.type+""}function le(ia,Na){Na=dd(ia,Na);if(!Na)return ia+"";ia=Na[0];Na=Na[1];return 0>Na?"0."+Array(-Na).join("0")+ia:ia.length>Na+1?ia.slice(0,Na+1)+"."+ia.slice(Na+1):ia+Array(Na-ia.length+2).join("0")}function qe(ia){return ia}function wd(ia){function Na(ae){function kd(ve){var Ve=nf,xe=rg,lg,Eg;if("c"===gh)xe=Jh(ve)+xe,ve="";else{ve=+ve;var yf=0>ve||0>1/ve;ve=isNaN(ve)?Ld:Jh(Math.abs(ve),lh);if($e){var mh=ve.length,yh=1,oi=-1;a:for(;yh<mh;++yh)switch(ve[yh]){case ".":oi=lg=yh;break;
case "0":0===oi&&(oi=yh);lg=yh;break;default:if(!+ve[yh])break a;0<oi&&(oi=0)}ve=0<oi?ve.slice(0,oi)+ve.slice(lg+1):ve}yf&&0===+ve&&"+"!==xf&&(yf=!1);Ve=(yf?"("===xf?xf:hd:"-"===xf||"("===xf?"":xf)+Ve;xe=("s"===gh?Lb[8+Da/3]:"")+xe+(yf&&"("===xf?")":"");if(Oe)for(yf=-1,lg=ve.length;++yf<lg;)if(Eg=ve.charCodeAt(yf),48>Eg||57<Eg){xe=(46===Eg?ac+ve.slice(yf+1):ve.slice(yf))+xe;ve=ve.slice(0,yf);break}}fh&&!Zf&&(ve=Sa(ve,Infinity));Eg=Ve.length+ve.length+xe.length;yf=Eg<Dg?Array(Dg-Eg+1).join(oe):"";
fh&&Zf&&(ve=Sa(yf+ve,yf.length?Dg-xe.length:Infinity),yf="");switch(Qe){case "\x3c":ve=Ve+ve+xe+yf;break;case "\x3d":ve=Ve+yf+ve+xe;break;case "^":ve=yf.slice(0,Eg=yf.length>>1)+Ve+ve+xe+yf.slice(Eg);break;default:ve=yf+Ve+ve+xe}return jc(ve)}ae=Xd(ae);var oe=ae.fill,Qe=ae.align,xf=ae.sign,Ne=ae.symbol,Zf=ae.zero,Dg=ae.width,fh=ae.comma,lh=ae.precision,$e=ae.trim,gh=ae.type;"n"===gh?(fh=!0,gh="g"):ab[gh]||(void 0===lh&&(lh=12),$e=!0,gh="g");if(Zf||"0"===oe&&"\x3d"===Qe)Zf=!0,oe="0",Qe="\x3d";var nf=
"$"===Ne?ub:"#"===Ne&&/[boxX]/.test(gh)?"0"+gh.toLowerCase():"",rg="$"===Ne?Zb:/[%p]/.test(gh)?Ac:"",Jh=ab[gh],Oe=/[defgprs%]/.test(gh);lh=void 0===lh?6:/[gprs]/.test(gh)?Math.max(1,Math.min(21,lh)):Math.max(0,Math.min(20,lh));kd.toString=function(){return ae+""};return kd}var Sa=void 0===ia.grouping||void 0===ia.thousands?qe:xd(xb.call(ia.grouping,Number),ia.thousands+""),ub=void 0===ia.currency?"":ia.currency[0]+"",Zb=void 0===ia.currency?"":ia.currency[1]+"",ac=void 0===ia.decimal?".":ia.decimal+
"",jc=void 0===ia.numerals?qe:Nd(xb.call(ia.numerals,String)),Ac=void 0===ia.percent?"%":ia.percent+"",hd=void 0===ia.minus?"":ia.minus+"",Ld=void 0===ia.nan?"NaN":ia.nan+"";return{format:Na,formatPrefix:function(ae,kd){var oe=Na((ae=Xd(ae),ae.type="f",ae));ae=3*Math.max(-8,Math.min(8,Math.floor(nd(kd)/3)));var Qe=Math.pow(10,-ae),xf=Lb[8+ae/3];return function(Ne){return oe(Qe*Ne)+xf}}}}function qf(ia,Na,Sa,ub){Sa=H(ia,Na,Sa);ub=Xd(null==ub?",f":ub);switch(ub.type){case "s":ia=Math.max(Math.abs(ia),
Math.abs(Na));if(Na=null==ub.precision){var Zb=isNaN;Sa=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nd(ia)/3)))-nd(Math.abs(Sa)));Na=!Zb(Zb=Sa)}Na&&(ub.precision=Zb);return Vc(ub,ia);case "":case "e":case "g":case "p":case "r":var ac;if(ac=null==ub.precision)Zb=isNaN,ia=Math.max(Math.abs(ia),Math.abs(Na)),Sa=Math.abs(Sa),ia=Math.abs(ia)-Sa,Sa=Math.max(0,nd(ia)-nd(Sa))+1,ac=!Zb(Zb=Sa);ac&&(ub.precision=Zb-("e"===ub.type));break;case "f":case "%":null!=ub.precision||isNaN(Zb=Math.max(0,-nd(Math.abs(Sa))))||
(ub.precision=Zb-2*("%"===ub.type))}return sc(ub)}function gf(ia){var Na=ia.domain;ia.ticks=function(Sa){var ub=Na();return x(ub[0],ub[ub.length-1],null==Sa?10:Sa)};ia.tickFormat=function(Sa,ub){var Zb=Na();return qf(Zb[0],Zb[Zb.length-1],null==Sa?10:Sa,ub)};ia.nice=function(Sa){null==Sa&&(Sa=10);var ub=Na(),Zb=0,ac=ub.length-1,jc=ub[Zb],Ac=ub[ac],hd=10;if(Ac<jc){var Ld=jc;jc=Ac;Ac=Ld;Ld=Zb;Zb=ac;ac=Ld}for(;0<hd--;){Ld=O(jc,Ac,Sa);if(Ld===ae)return ub[Zb]=jc,ub[ac]=Ac,Na(ub);if(0<Ld)jc=Math.floor(jc/
Ld)*Ld,Ac=Math.ceil(Ac/Ld)*Ld;else if(0>Ld)jc=Math.ceil(jc*Ld)/Ld,Ac=Math.floor(Ac*Ld)/Ld;else break;var ae=Ld}return ia};return ia}function te(){var ia=Yc()(jb,jb);ia.copy=function(){return Ic(ia,te())};D.apply(ia,arguments);return gf(ia)}function We(ia){function Na(ub){return null==ub||isNaN(ub=+ub)?Sa:ub}var Sa;Na.invert=Na;Na.domain=Na.range=function(ub){return arguments.length?(ia=Array.from(ub,$a),Na):ia.slice()};Na.unknown=function(ub){return arguments.length?(Sa=ub,Na):Sa};Na.copy=function(){return We(ia).unknown(Sa)};
ia=arguments.length?Array.from(ia,$a):[0,1];return gf(Na)}function za(ia,Na){ia=ia.slice();var Sa=0,ub=ia.length-1,Zb=ia[Sa],ac=ia[ub];if(ac<Zb){var jc=Sa;Sa=ub;ub=jc;jc=Zb;Zb=ac;ac=jc}ia[Sa]=Na.floor(Zb);ia[ub]=Na.ceil(ac);return ia}function Za(ia){return Math.log(ia)}function tb(ia){return Math.exp(ia)}function Jb(ia){return-Math.log(-ia)}function fc(ia){return-Math.exp(-ia)}function nc(ia){return isFinite(ia)?+("1e"+ia):0>ia?0:ia}function Hc(ia){return 10===ia?nc:ia===Math.E?Math.exp:Na=>Math.pow(ia,
Na)}function Dc(ia){return ia===Math.E?Math.log:10===ia&&Math.log10||2===ia&&Math.log2||(ia=Math.log(ia),Na=>Math.log(Na)/ia)}function lc(ia){return(Na,Sa)=>-ia(-Na,Sa)}function ld(ia){function Na(){ac=Dc(Zb);jc=Hc(Zb);0>ub()[0]?(ac=lc(ac),jc=lc(jc),ia(Jb,fc)):ia(Za,tb);return Sa}const Sa=ia(Za,tb),ub=Sa.domain;let Zb=10,ac,jc;Sa.base=function(Ac){return arguments.length?(Zb=+Ac,Na()):Zb};Sa.domain=function(Ac){return arguments.length?(ub(Ac),Na()):ub()};Sa.ticks=Ac=>{var hd=ub();let Ld=hd[0];hd=
hd[hd.length-1];const ae=hd<Ld;ae&&([Ld,hd]=[hd,Ld]);let kd=ac(Ld),oe=ac(hd),Qe;const xf=null==Ac?10:+Ac;let Ne=[];if(!(Zb%1)&&oe-kd<xf){kd=Math.floor(kd);oe=Math.ceil(oe);if(0<Ld)for(;kd<=oe;++kd)for(Ac=1;Ac<Zb;++Ac){if(Qe=0>kd?Ac/jc(-kd):Ac*jc(kd),!(Qe<Ld)){if(Qe>hd)break;Ne.push(Qe)}}else for(;kd<=oe;++kd)for(Ac=Zb-1;1<=Ac;--Ac)if(Qe=0<kd?Ac/jc(-kd):Ac*jc(kd),!(Qe<Ld)){if(Qe>hd)break;Ne.push(Qe)}2*Ne.length<xf&&(Ne=x(Ld,hd,xf))}else Ne=x(kd,oe,Math.min(oe-kd,xf)).map(jc);return ae?Ne.reverse():
Ne};Sa.tickFormat=(Ac,hd)=>{null==Ac&&(Ac=10);null==hd&&(hd=10===Zb?"s":",");"function"!==typeof hd&&(Zb%1||null!=(hd=Xd(hd)).precision||(hd.trim=!0),hd=sc(hd));if(Infinity===Ac)return hd;const Ld=Math.max(1,Zb*Ac/Sa.ticks().length);return ae=>{let kd=ae/jc(Math.round(ac(ae)));kd*Zb<Zb-.5&&(kd*=Zb);return kd<=Ld?hd(ae):""}};Sa.nice=()=>ub(za(ub(),{floor:Ac=>jc(Math.floor(ac(Ac))),ceil:Ac=>jc(Math.ceil(ac(Ac)))}));return Sa}function sd(){const ia=ld(Yc()).domain([1,10]);ia.copy=()=>Ic(ia,sd()).base(ia.base());
D.apply(ia,arguments);return ia}function Hd(ia){return function(Na){return Math.sign(Na)*Math.log1p(Math.abs(Na/ia))}}function Vd(ia){return function(Na){return Math.sign(Na)*Math.expm1(Math.abs(Na))*ia}}function be(ia){var Na=1,Sa=ia(Hd(Na),Vd(Na));Sa.constant=function(ub){return arguments.length?ia(Hd(Na=+ub),Vd(Na)):Na};return gf(Sa)}function he(){var ia=be(Yc());ia.copy=function(){return Ic(ia,he()).constant(ia.constant())};return D.apply(ia,arguments)}function Ce(ia){return function(Na){return 0>
Na?-Math.pow(-Na,ia):Math.pow(Na,ia)}}function re(ia){return 0>ia?-Math.sqrt(-ia):Math.sqrt(ia)}function vf(ia){return 0>ia?-ia*ia:ia*ia}function Ge(ia){var Na=ia(jb,jb),Sa=1;Na.exponent=function(ub){return arguments.length?(Sa=+ub,1===Sa?ia(jb,jb):.5===Sa?ia(re,vf):ia(Ce(Sa),Ce(1/Sa))):Sa};return gf(Na)}function Re(){var ia=Ge(Yc());ia.copy=function(){return Ic(ia,Re()).exponent(ia.exponent())};D.apply(ia,arguments);return ia}function af(){function ia(){var jc=0,Ac=Math.max(1,ub.length);for(Zb=Array(Ac-
1);++jc<Ac;)Zb[jc-1]=F(Sa,jc/Ac);return Na}function Na(jc){return null==jc||isNaN(jc=+jc)?ac:ub[Eb(Zb,jc)]}var Sa=[],ub=[],Zb=[],ac;Na.invertExtent=function(jc){jc=ub.indexOf(jc);return 0>jc?[NaN,NaN]:[0<jc?Zb[jc-1]:Sa[0],jc<Zb.length?Zb[jc]:Sa[Sa.length-1]]};Na.domain=function(jc){if(!arguments.length)return Sa.slice();Sa=[];for(let Ac of jc)null==Ac||isNaN(Ac=+Ac)||Sa.push(Ac);Sa.sort(f);return ia()};Na.range=function(jc){return arguments.length?(ub=Array.from(jc),ia()):ub.slice()};Na.unknown=function(jc){return arguments.length?
(ac=jc,Na):ac};Na.quantiles=function(){return Zb.slice()};Na.copy=function(){return af().domain(Sa).range(ub).unknown(ac)};return D.apply(Na,arguments)}function Qb(){function ia(hd){return null!=hd&&hd<=hd?jc[Eb(ac,hd,0,Zb)]:Ac}function Na(){var hd=-1;for(ac=Array(Zb);++hd<Zb;)ac[hd]=((hd+1)*ub-(hd-Zb)*Sa)/(Zb+1);return ia}var Sa=0,ub=1,Zb=1,ac=[.5],jc=[0,1],Ac;ia.domain=function(hd){return arguments.length?([Sa,ub]=hd,Sa=+Sa,ub=+ub,Na()):[Sa,ub]};ia.range=function(hd){return arguments.length?(Zb=
(jc=Array.from(hd)).length-1,Na()):jc.slice()};ia.invertExtent=function(hd){hd=jc.indexOf(hd);return 0>hd?[NaN,NaN]:1>hd?[Sa,ac[0]]:hd>=Zb?[ac[Zb-1],ub]:[ac[hd-1],ac[hd]]};ia.unknown=function(hd){return arguments.length?(Ac=hd,ia):ia};ia.thresholds=function(){return ac.slice()};ia.copy=function(){return Qb().domain([Sa,ub]).range(jc).unknown(Ac)};return D.apply(gf(ia),arguments)}function rc(){function ia(ac){return null!=ac&&ac<=ac?Sa[Eb(Na,ac,0,Zb)]:ub}var Na=[.5],Sa=[0,1],ub,Zb=1;ia.domain=function(ac){return arguments.length?
(Na=Array.from(ac),Zb=Math.min(Na.length,Sa.length-1),ia):Na.slice()};ia.range=function(ac){return arguments.length?(Sa=Array.from(ac),Zb=Math.min(Na.length,Sa.length-1),ia):Sa.slice()};ia.invertExtent=function(ac){ac=Sa.indexOf(ac);return[Na[ac-1],Na[ac]]};ia.unknown=function(ac){return arguments.length?(ub=ac,ia):ub};ia.copy=function(){return rc().domain(Na).range(Sa).unknown(ub)};return D.apply(ia,arguments)}function bd(ia,Na,Sa,ub){function Zb(ac){return ia(ac=0===arguments.length?new Date:new Date(+ac)),
ac}Zb.floor=function(ac){return ia(ac=new Date(+ac)),ac};Zb.ceil=function(ac){return ia(ac=new Date(ac-1)),Na(ac,1),ia(ac),ac};Zb.round=function(ac){var jc=Zb(ac),Ac=Zb.ceil(ac);return ac-jc<Ac-ac?jc:Ac};Zb.offset=function(ac,jc){return Na(ac=new Date(+ac),null==jc?1:Math.floor(jc)),ac};Zb.range=function(ac,jc,Ac){var hd=[],Ld;ac=Zb.ceil(ac);Ac=null==Ac?1:Math.floor(Ac);if(!(ac<jc&&0<Ac))return hd;do hd.push(Ld=new Date(+ac)),Na(ac,Ac),ia(ac);while(Ld<ac&&ac<jc);return hd};Zb.filter=function(ac){return bd(function(jc){if(jc>=
jc)for(;ia(jc),!ac(jc);)jc.setTime(jc-1)},function(jc,Ac){if(jc>=jc)if(0>Ac)for(;0>=++Ac;)for(;Na(jc,-1),!ac(jc););else for(;0<=--Ac;)for(;Na(jc,1),!ac(jc););})};Sa&&(Zb.count=function(ac,jc){pa.setTime(+ac);Ra.setTime(+jc);ia(pa);ia(Ra);return Math.floor(Sa(pa,Ra))},Zb.every=function(ac){ac=Math.floor(ac);return isFinite(ac)&&0<ac?1<ac?Zb.filter(ub?function(jc){return 0===ub(jc)%ac}:function(jc){return 0===Zb.count(0,jc)%ac}):Zb:null});return Zb}function Ad(ia){return bd(function(Na){Na.setDate(Na.getDate()-
(Na.getDay()+7-ia)%7);Na.setHours(0,0,0,0)},function(Na,Sa){Na.setDate(Na.getDate()+7*Sa)},function(Na,Sa){return(Sa-Na-6E4*(Sa.getTimezoneOffset()-Na.getTimezoneOffset()))/gc})}function xa(ia){return bd(function(Na){Na.setUTCDate(Na.getUTCDate()-(Na.getUTCDay()+7-ia)%7);Na.setUTCHours(0,0,0,0)},function(Na,Sa){Na.setUTCDate(Na.getUTCDate()+7*Sa)},function(Na,Sa){return(Sa-Na)/gc})}function Xa(ia,Na,Sa,ub,Zb,ac){function jc(hd,Ld,ae){const kd=Math.abs(Ld-hd)/ae,oe=b(([,,Ne])=>Ne).right(Ac,kd);if(oe===
Ac.length)return ia.every(H(hd/Xc,Ld/Xc,ae));if(0===oe)return pb.every(Math.max(H(hd,Ld,ae),1));const [Qe,xf]=Ac[kd/Ac[oe-1][2]<Ac[oe][2]/kd?oe-1:oe];return Qe.every(xf)}const Ac=[[Bd,1,1E3],[Bd,5,5E3],[Bd,15,15E3],[Bd,30,3E4],[ac,1,6E4],[ac,5,3E5],[ac,15,9E5],[ac,30,18E5],[Zb,1,36E5],[Zb,3,108E5],[Zb,6,216E5],[Zb,12,432E5],[ub,1,864E5],[ub,2,1728E5],[Sa,1,gc],[Na,1,Qc],[Na,3,3*Qc],[ia,1,Xc]];return[function(hd,Ld,ae){const kd=Ld<hd;kd&&([hd,Ld]=[Ld,hd]);hd=(ae=ae&&"function"===typeof ae.range?ae:
jc(hd,Ld,ae))?ae.range(hd,+Ld+1):[];return kd?hd.reverse():hd},jc]}function zb(ia){if(0<=ia.y&&100>ia.y){var Na=new Date(-1,ia.m,ia.d,ia.H,ia.M,ia.S,ia.L);Na.setFullYear(ia.y);return Na}return new Date(ia.y,ia.m,ia.d,ia.H,ia.M,ia.S,ia.L)}function Xb(ia){if(0<=ia.y&&100>ia.y){var Na=new Date(Date.UTC(-1,ia.m,ia.d,ia.H,ia.M,ia.S,ia.L));Na.setUTCFullYear(ia.y);return Na}return new Date(Date.UTC(ia.y,ia.m,ia.d,ia.H,ia.M,ia.S,ia.L))}function tc(ia,Na,Sa){return{y:ia,m:Na,d:Sa,H:0,M:0,S:0,L:0}}function gd(ia){function Na(Oe,
ve){return function(Ve){var xe=[],lg=-1,Eg=0,yf=Oe.length,mh,yh;for(Ve instanceof Date||(Ve=new Date(+Ve));++lg<yf;)if(37===Oe.charCodeAt(lg)){xe.push(Oe.slice(Eg,lg));null!=(Eg=ji[mh=Oe.charAt(++lg)])?mh=Oe.charAt(++lg):Eg="e"===mh?" ":"0";if(yh=ve[mh])mh=yh(Ve,Eg);xe.push(mh);Eg=lg+1}xe.push(Oe.slice(Eg,lg));return xe.join("")}}function Sa(Oe,ve){return function(Ve){var xe=tc(1900,void 0,1);if(ub(xe,Oe,Ve+="",0)!=Ve.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(1E3*
xe.s+("L"in xe?xe.L:0));!ve||"Z"in xe||(xe.Z=0);"p"in xe&&(xe.H=xe.H%12+12*xe.p);void 0===xe.m&&(xe.m="q"in xe?xe.q:0);if("V"in xe){if(1>xe.V||53<xe.V)return null;"w"in xe||(xe.w=1);if("Z"in xe){Ve=Xb(tc(xe.y,0,1));var lg=Ve.getUTCDay();Ve=4<lg||0===lg?ci.ceil(Ve):ci(Ve);Ve=Hf.offset(Ve,7*(xe.V-1));xe.y=Ve.getUTCFullYear();xe.m=Ve.getUTCMonth();xe.d=Ve.getUTCDate()+(xe.w+6)%7}else Ve=zb(tc(xe.y,0,1)),lg=Ve.getDay(),Ve=4<lg||0===lg?tf.ceil(Ve):tf(Ve),Ve=Td.offset(Ve,7*(xe.V-1)),xe.y=Ve.getFullYear(),
xe.m=Ve.getMonth(),xe.d=Ve.getDate()+(xe.w+6)%7}else if("W"in xe||"U"in xe)"w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),lg="Z"in xe?Xb(tc(xe.y,0,1)).getUTCDay():zb(tc(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+7*xe.W-(lg+5)%7:xe.w+7*xe.U-(lg+6)%7;return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,Xb(xe)):zb(xe)}}function ub(Oe,ve,Ve,xe){for(var lg=0,Eg=ve.length,yf=Ve.length,mh;lg<Eg;){if(xe>=yf)return-1;mh=ve.charCodeAt(lg++);if(37===mh){if(mh=ve.charAt(lg++),mh=Jh[mh in ji?ve.charAt(lg++):
mh],!mh||0>(xe=mh(Oe,Ve,xe)))return-1}else if(mh!=Ve.charCodeAt(xe++))return-1}return xe}var Zb=ia.dateTime,ac=ia.date,jc=ia.time,Ac=ia.periods,hd=ia.days,Ld=ia.shortDays,ae=ia.months,kd=ia.shortMonths,oe=Bb(Ac),Qe=ic(Ac),xf=Bb(hd),Ne=ic(hd),Zf=Bb(Ld),Dg=ic(Ld),fh=Bb(ae),lh=ic(ae),$e=Bb(kd),gh=ic(kd),nf={a:function(Oe){return Ld[Oe.getDay()]},A:function(Oe){return hd[Oe.getDay()]},b:function(Oe){return kd[Oe.getMonth()]},B:function(Oe){return ae[Oe.getMonth()]},c:null,d:ed,e:ed,f:ud,g:oc,G:yc,H:td,
I:wc,j:Rc,L:Lc,m:kb,M:Gb,p:function(Oe){return Ac[+(12<=Oe.getHours())]},q:function(Oe){return 1+~~(Oe.getMonth()/3)},Q:Ag,s:ng,S:Pb,u:bc,U:fa,V:gb,w:Fb,W:Kb,x:null,X:null,y:Ob,Y:Oc,Z:fd,"%":Gf},rg={a:function(Oe){return Ld[Oe.getUTCDay()]},A:function(Oe){return hd[Oe.getUTCDay()]},b:function(Oe){return kd[Oe.getUTCMonth()]},B:function(Oe){return ae[Oe.getUTCMonth()]},c:null,d:Ec,e:Ec,f:Zd,g:$g,G:mf,H:Fd,I:Be,j:fe,L:Ae,m:vd,M:Kd,p:function(Oe){return Ac[+(12<=Oe.getUTCHours())]},q:function(Oe){return 1+
~~(Oe.getUTCMonth()/3)},Q:Ag,s:ng,S:ee,u:we,U:ye,V:Id,w:sf,W:zf,x:null,X:null,y:Ff,Y:ie,Z:Sf,"%":Gf},Jh={a:function(Oe,ve,Ve){return(ve=Zf.exec(ve.slice(Ve)))?(Oe.w=Dg.get(ve[0].toLowerCase()),Ve+ve[0].length):-1},A:function(Oe,ve,Ve){return(ve=xf.exec(ve.slice(Ve)))?(Oe.w=Ne.get(ve[0].toLowerCase()),Ve+ve[0].length):-1},b:function(Oe,ve,Ve){return(ve=$e.exec(ve.slice(Ve)))?(Oe.m=gh.get(ve[0].toLowerCase()),Ve+ve[0].length):-1},B:function(Oe,ve,Ve){return(ve=fh.exec(ve.slice(Ve)))?(Oe.m=lh.get(ve[0].toLowerCase()),
Ve+ve[0].length):-1},c:function(Oe,ve,Ve){return ub(Oe,Zb,ve,Ve)},d:Ib,e:Ib,f:qd,g:Se,G:Me,H:kc,I:kc,j:Yb,L:pd,m:Ea,M:Nc,p:function(Oe,ve,Ve){return(ve=oe.exec(ve.slice(Ve)))?(Oe.p=Qe.get(ve[0].toLowerCase()),Ve+ve[0].length):-1},q:ob,Q:Od,s:Jd,S:Jc,u:Rd,U:Md,V:Gd,w:Uc,W:Pd,x:function(Oe,ve,Ve){return ub(Oe,ac,ve,Ve)},X:function(Oe,ve,Ve){return ub(Oe,jc,ve,Ve)},y:Se,Y:Me,Z:ha,"%":Yd};nf.x=Na(ac,nf);nf.X=Na(jc,nf);nf.c=Na(Zb,nf);rg.x=Na(ac,rg);rg.X=Na(jc,rg);rg.c=Na(Zb,rg);return{format:function(Oe){var ve=
Na(Oe+="",nf);ve.toString=function(){return Oe};return ve},parse:function(Oe){var ve=Sa(Oe+="",!1);ve.toString=function(){return Oe};return ve},utcFormat:function(Oe){var ve=Na(Oe+="",rg);ve.toString=function(){return Oe};return ve},utcParse:function(Oe){var ve=Sa(Oe+="",!0);ve.toString=function(){return Oe};return ve}}}function qc(ia,Na,Sa){var ub=0>ia?"-":"";ia=(ub?-ia:ia)+"";var Zb=ia.length;return ub+(Zb<Sa?Array(Sa-Zb+1).join(Na)+ia:ia)}function rb(ia){return ia.replace(xh,"\\$\x26")}function Bb(ia){return new RegExp("^(?:"+
ia.map(rb).join("|")+")","i")}function ic(ia){return new Map(ia.map((Na,Sa)=>[Na.toLowerCase(),Sa]))}function Uc(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+1)))?(ia.w=+Na[0],Sa+Na[0].length):-1}function Rd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+1)))?(ia.u=+Na[0],Sa+Na[0].length):-1}function Md(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.U=+Na[0],Sa+Na[0].length):-1}function Gd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.V=+Na[0],Sa+Na[0].length):-1}function Pd(ia,Na,Sa){return(Na=
Lf.exec(Na.slice(Sa,Sa+2)))?(ia.W=+Na[0],Sa+Na[0].length):-1}function Me(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+4)))?(ia.y=+Na[0],Sa+Na[0].length):-1}function Se(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.y=+Na[0]+(68<+Na[0]?1900:2E3),Sa+Na[0].length):-1}function ha(ia,Na,Sa){return(Na=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Na.slice(Sa,Sa+6)))?(ia.Z=Na[1]?0:-(Na[2]+(Na[3]||"00")),Sa+Na[0].length):-1}function ob(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+1)))?(ia.q=3*Na[0]-3,Sa+Na[0].length):
-1}function Ea(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.m=Na[0]-1,Sa+Na[0].length):-1}function Ib(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.d=+Na[0],Sa+Na[0].length):-1}function Yb(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+3)))?(ia.m=0,ia.d=+Na[0],Sa+Na[0].length):-1}function kc(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.H=+Na[0],Sa+Na[0].length):-1}function Nc(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.M=+Na[0],Sa+Na[0].length):-1}function Jc(ia,Na,Sa){return(Na=
Lf.exec(Na.slice(Sa,Sa+2)))?(ia.S=+Na[0],Sa+Na[0].length):-1}function pd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+3)))?(ia.L=+Na[0],Sa+Na[0].length):-1}function qd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+6)))?(ia.L=Math.floor(Na[0]/1E3),Sa+Na[0].length):-1}function Yd(ia,Na,Sa){return(ia=Yg.exec(Na.slice(Sa,Sa+1)))?Sa+ia[0].length:-1}function Od(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa)))?(ia.Q=+Na[0],Sa+Na[0].length):-1}function Jd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa)))?(ia.s=+Na[0],Sa+Na[0].length):
-1}function ed(ia,Na){return qc(ia.getDate(),Na,2)}function td(ia,Na){return qc(ia.getHours(),Na,2)}function wc(ia,Na){return qc(ia.getHours()%12||12,Na,2)}function Rc(ia,Na){return qc(1+Td.count(gg(ia),ia),Na,3)}function Lc(ia,Na){return qc(ia.getMilliseconds(),Na,3)}function ud(ia,Na){return Lc(ia,Na)+"000"}function kb(ia,Na){return qc(ia.getMonth()+1,Na,2)}function Gb(ia,Na){return qc(ia.getMinutes(),Na,2)}function Pb(ia,Na){return qc(ia.getSeconds(),Na,2)}function bc(ia){ia=ia.getDay();return 0===
ia?7:ia}function fa(ia,Na){return qc(De.count(gg(ia)-1,ia),Na,2)}function Ha(ia){var Na=ia.getDay();return 4<=Na||0===Na?Ze(ia):Ze.ceil(ia)}function gb(ia,Na){ia=Ha(ia);return qc(Ze.count(gg(ia),ia)+(4===gg(ia).getDay()),Na,2)}function Fb(ia){return ia.getDay()}function Kb(ia,Na){return qc(tf.count(gg(ia)-1,ia),Na,2)}function Ob(ia,Na){return qc(ia.getFullYear()%100,Na,2)}function oc(ia,Na){ia=Ha(ia);return qc(ia.getFullYear()%100,Na,2)}function Oc(ia,Na){return qc(ia.getFullYear()%1E4,Na,4)}function yc(ia,
Na){var Sa=ia.getDay();ia=4<=Sa||0===Sa?Ze(ia):Ze.ceil(ia);return qc(ia.getFullYear()%1E4,Na,4)}function fd(ia){ia=ia.getTimezoneOffset();return(0<ia?"-":(ia*=-1,"+"))+qc(ia/60|0,"0",2)+qc(ia%60,"0",2)}function Ec(ia,Na){return qc(ia.getUTCDate(),Na,2)}function Fd(ia,Na){return qc(ia.getUTCHours(),Na,2)}function Be(ia,Na){return qc(ia.getUTCHours()%12||12,Na,2)}function fe(ia,Na){return qc(1+Hf.count(xg(ia),ia),Na,3)}function Ae(ia,Na){return qc(ia.getUTCMilliseconds(),Na,3)}function Zd(ia,Na){return Ae(ia,
Na)+"000"}function vd(ia,Na){return qc(ia.getUTCMonth()+1,Na,2)}function Kd(ia,Na){return qc(ia.getUTCMinutes(),Na,2)}function ee(ia,Na){return qc(ia.getUTCSeconds(),Na,2)}function we(ia){ia=ia.getUTCDay();return 0===ia?7:ia}function ye(ia,Na){return qc(mg.count(xg(ia)-1,ia),Na,2)}function Te(ia){var Na=ia.getUTCDay();return 4<=Na||0===Na?Rg(ia):Rg.ceil(ia)}function Id(ia,Na){ia=Te(ia);return qc(Rg.count(xg(ia),ia)+(4===xg(ia).getUTCDay()),Na,2)}function sf(ia){return ia.getUTCDay()}function zf(ia,
Na){return qc(ci.count(xg(ia)-1,ia),Na,2)}function Ff(ia,Na){return qc(ia.getUTCFullYear()%100,Na,2)}function $g(ia,Na){ia=Te(ia);return qc(ia.getUTCFullYear()%100,Na,2)}function ie(ia,Na){return qc(ia.getUTCFullYear()%1E4,Na,4)}function mf(ia,Na){var Sa=ia.getUTCDay();ia=4<=Sa||0===Sa?Rg(ia):Rg.ceil(ia);return qc(ia.getUTCFullYear()%1E4,Na,4)}function Sf(){return"+0000"}function Gf(){return"%"}function Ag(ia){return+ia}function ng(ia){return Math.floor(+ia/1E3)}function tg(ia){return new Date(ia)}
function Sg(ia){return ia instanceof Date?+ia:+new Date(+ia)}function ig(ia,Na,Sa,ub,Zb,ac,jc,Ac,hd,Ld){function ae(nf){return(hd(nf)<nf?xf:Ac(nf)<nf?Ne:jc(nf)<nf?Zf:ac(nf)<nf?Dg:ub(nf)<nf?Zb(nf)<nf?fh:lh:Sa(nf)<nf?$e:gh)(nf)}var kd=Yc()(jb,jb),oe=kd.invert,Qe=kd.domain,xf=Ld(".%L"),Ne=Ld(":%S"),Zf=Ld("%I:%M"),Dg=Ld("%I %p"),fh=Ld("%a %d"),lh=Ld("%b %d"),$e=Ld("%B"),gh=Ld("%Y");kd.invert=function(nf){return new Date(oe(nf))};kd.domain=function(nf){return arguments.length?Qe(Array.from(nf,Sg)):Qe().map(tg)};
kd.ticks=function(nf){var rg=Qe();return ia(rg[0],rg[rg.length-1],null==nf?10:nf)};kd.tickFormat=function(nf,rg){return null==rg?ae:Ld(rg)};kd.nice=function(nf){var rg=Qe();nf&&"function"===typeof nf.range||(nf=Na(rg[0],rg[rg.length-1],null==nf?10:nf));return nf?Qe(za(rg,nf)):kd};kd.copy=function(){return Ic(kd,ig(ia,Na,Sa,ub,Zb,ac,jc,Ac,hd,Ld))};return kd}function Bf(){function ia(kd){return null==kd||isNaN(kd=+kd)?ae:hd(0===jc?.5:(kd=(Ac(kd)-Zb)*jc,Ld?Math.max(0,Math.min(1,kd)):kd))}function Na(kd){return function(oe){var Qe,
xf;return arguments.length?([Qe,xf]=oe,hd=kd(Qe,xf),ia):[hd(0),hd(1)]}}var Sa=0,ub=1,Zb,ac,jc,Ac,hd=jb,Ld=!1,ae;ia.domain=function(kd){return arguments.length?([Sa,ub]=kd,Zb=Ac(Sa=+Sa),ac=Ac(ub=+ub),jc=Zb===ac?0:1/(ac-Zb),ia):[Sa,ub]};ia.clamp=function(kd){return arguments.length?(Ld=!!kd,ia):Ld};ia.interpolator=function(kd){return arguments.length?(hd=kd,ia):hd};ia.range=Na(Wb);ia.rangeRound=Na(mc);ia.unknown=function(kd){return arguments.length?(ae=kd,ia):ae};return function(kd){Ac=kd;Zb=kd(Sa);
ac=kd(ub);jc=Zb===ac?0:1/(ac-Zb);return ia}}function ug(ia,Na){return Na.domain(ia.domain()).interpolator(ia.interpolator()).clamp(ia.clamp()).unknown(ia.unknown())}function og(){var ia=gf(Bf()(jb));ia.copy=function(){return ug(ia,og())};return r.apply(ia,arguments)}function Tf(){var ia=ld(Bf()).domain([1,10]);ia.copy=function(){return ug(ia,Tf()).base(ia.base())};return r.apply(ia,arguments)}function Wf(){var ia=be(Bf());ia.copy=function(){return ug(ia,Wf()).constant(ia.constant())};return r.apply(ia,
arguments)}function Tg(){var ia=Ge(Bf());ia.copy=function(){return ug(ia,Tg()).exponent(ia.exponent())};return r.apply(ia,arguments)}function bh(){function ia(Ne){return isNaN(Ne=+Ne)?xf:(Ne=.5+((Ne=+oe(Ne))-Ac)*(ac*Ne<ac*Ac?Ld:ae),kd(Qe?Math.max(0,Math.min(1,Ne)):Ne))}function Na(Ne){return function(Zf){var Dg,fh,lh;return arguments.length?([Dg,fh,lh]=Zf,kd=ua(Ne,[Dg,fh,lh]),ia):[kd(0),kd(.5),kd(1)]}}var Sa=0,ub=.5,Zb=1,ac=1,jc,Ac,hd,Ld,ae,kd=jb,oe,Qe=!1,xf;ia.domain=function(Ne){return arguments.length?
([Sa,ub,Zb]=Ne,jc=oe(Sa=+Sa),Ac=oe(ub=+ub),hd=oe(Zb=+Zb),Ld=jc===Ac?0:.5/(Ac-jc),ae=Ac===hd?0:.5/(hd-Ac),ac=Ac<jc?-1:1,ia):[Sa,ub,Zb]};ia.clamp=function(Ne){return arguments.length?(Qe=!!Ne,ia):Qe};ia.interpolator=function(Ne){return arguments.length?(kd=Ne,ia):kd};ia.range=Na(Wb);ia.rangeRound=Na(mc);ia.unknown=function(Ne){return arguments.length?(xf=Ne,ia):xf};return function(Ne){oe=Ne;jc=Ne(Sa);Ac=Ne(ub);hd=Ne(Zb);Ld=jc===Ac?0:.5/(Ac-jc);ae=Ac===hd?0:.5/(hd-Ac);ac=Ac<jc?-1:1;return ia}}function Mg(){var ia=
gf(bh()(jb));ia.copy=function(){return ug(ia,Mg())};return r.apply(ia,arguments)}function Ig(){var ia=ld(bh()).domain([.1,1,10]);ia.copy=function(){return ug(ia,Ig()).base(ia.base())};return r.apply(ia,arguments)}function Ng(){var ia=be(bh());ia.copy=function(){return ug(ia,Ng()).constant(ia.constant())};return r.apply(ia,arguments)}function Wa(){var ia=Ge(bh());ia.copy=function(){return ug(ia,Wa()).exponent(ia.exponent())};return r.apply(ia,arguments)}function Cb(){function ia(){var kd=Sa().length;
const oe=Zb[1]<Zb[0],Qe=Zb[1-oe],xf=q(kd,hd,Ld);let Ne=Zb[oe-0];ac=(Qe-Ne)/(xf||1);Ac&&(ac=Math.floor(ac));Ne+=(Qe-Ne-ac*(kd-hd))*ae;jc=ac*(1-hd);Ac&&(Ne=Math.round(Ne),jc=Math.round(jc));kd=J(kd).map(Zf=>Ne+ac*Zf);return ub(oe?kd.reverse():kd)}const Na=z().unknown(void 0),Sa=Na.domain,ub=Na.range;let Zb=[0,1],ac,jc,Ac=!1,hd=0,Ld=0,ae=.5;delete Na.unknown;Na.domain=function(kd){return arguments.length?(Sa(kd),ia()):Sa()};Na.range=function(kd){return arguments.length?(Zb=[+kd[0],+kd[1]],ia()):Zb.slice()};
Na.rangeRound=function(kd){Zb=[+kd[0],+kd[1]];Ac=!0;return ia()};Na.bandwidth=function(){return jc};Na.step=function(){return ac};Na.round=function(kd){return arguments.length?(Ac=!!kd,ia()):Ac};Na.padding=function(kd){return arguments.length?(hd=Ld=Math.max(0,Math.min(1,kd)),ia()):hd};Na.paddingInner=function(kd){return arguments.length?(hd=Math.max(0,Math.min(1,kd)),ia()):hd};Na.paddingOuter=function(kd){return arguments.length?(Ld=Math.max(0,Math.min(1,kd)),ia()):Ld};Na.align=function(kd){return arguments.length?
(ae=Math.max(0,Math.min(1,kd)),ia()):ae};Na.invertRange=function(kd){if(null!=kd[0]&&null!=kd[1]){var oe=Zb[1]<Zb[0],Qe=oe?ub().reverse():ub(),xf=Qe.length-1,Ne=+kd[0],Zf=+kd[1];if(Ne===Ne&&Zf===Zf){if(Zf<Ne){var Dg=Ne;Ne=Zf;Zf=Dg}if(!(Zf<Qe[0]||Ne>Zb[1-oe]))return kd=Math.max(0,fb(Qe,Ne)-1),Zf=Ne===Zf?kd:fb(Qe,Zf)-1,Ne-Qe[kd]>jc+1E-10&&++kd,oe&&(Dg=kd,kd=xf-Zf,Zf=xf-Dg),kd>Zf?void 0:Sa().slice(kd,Zf+1)}}};Na.invert=function(kd){return(kd=Na.invertRange([kd,kd]))?kd[0]:kd};Na.copy=function(){return Cb().domain(Sa()).range(Zb).round(Ac).paddingInner(hd).paddingOuter(Ld).align(ae)};
return ia()}function hc(ia){const Na=ia.copy;ia.padding=ia.paddingOuter;delete ia.paddingInner;ia.copy=function(){return hc(Na())};return ia}function yd(){function ia(ub){return null==ub||ub!==ub?void 0:Sa[(Eb(Na,ub)-1)%Sa.length]}let Na=[],Sa=[];ia.domain=function(ub){return arguments.length?(Na=Yf.call(ub,k.toNumber),ia):Na.slice()};ia.range=function(ub){return arguments.length?(Sa=yg.call(ub),ia):Sa.slice()};ia.tickFormat=function(ub,Zb){return qf(Na[0],k.peek(Na),null==ub?10:ub,Zb)};ia.copy=function(){return yd().domain(ia.domain()).range(ia.range())};
return ia}function Dd(ia,Na,Sa){const ub=function(){const Zb=Na();Zb.invertRange||(Zb.invertRange=Zb.invert?t(Zb):Zb.invertExtent?m(Zb):void 0);Zb.type=ia;return Zb};ub.metadata=k.toSet(k.array(Sa));return ub}function ne(ia,Na,Sa){return 1<arguments.length?(Zg[ia]=Dd(ia,Na,Sa),this):of(ia)?Zg[ia]:void 0}function of(ia){return k.hasOwnProperty(Zg,ia)}function uf(ia,Na){return(ia=Zg[ia])&&ia.metadata[Na]}function Wg(ia){return uf(ia,"discrete")}function Uf(ia){return uf(ia,"discretizing")}function Xg(ia){return uf(ia,
"log")}function Fh(ia){return uf(ia,"temporal")}function ph(ia,Na,Sa){return ua(vg(Na||"rgb",Sa),ia)}function vg(ia,Na){ia=eg[Ug(ia)];return null!=Na&&ia&&ia.gamma?ia.gamma(Na):ia}function Ug(ia){return"interpolate"+ia.toLowerCase().split("-").map(Na=>Na[0].toUpperCase()+Na.slice(1)).join("")}function nh(ia){const Na=ia.length/6|0,Sa=Array(Na);for(let ub=0;ub<Na;)Sa[ub]="#"+ia.slice(6*ub,6*++ub);return Sa}function qh(ia,Na){for(const Sa in ia)Lh(Sa,Na(ia[Sa]))}function Lh(ia,Na){ia=ia&&ia.toLowerCase();
return 1<arguments.length?(ei[ia]=Na,this):ei[ia]}function uh(ia,Na,Sa){var ub=ia.range();let Zb=ub[0],ac=k.peek(ub);ub=Oh;Zb>ac&&(ub=ac,ac=Zb,Zb=ub,ub=ti);Zb=Math.floor(Zb);ac=Math.ceil(ac);Na=Na.map(jc=>[jc,ia(jc)]).filter(jc=>Zb<=jc[1]&&jc[1]<=ac).sort(ub).map(jc=>jc[0]);if(0<Sa&&1<Na.length){for(ub=[Na[0],k.peek(Na)];Na.length>Sa&&3<=Na.length;)Na=Na.filter((jc,Ac)=>!(Ac%2));3>Na.length&&(Na=ub)}return Na}function Eh(ia,Na){return ia.bins?uh(ia,ia.bins):ia.ticks?ia.ticks(Na):ia.domain()}function Jg(ia,
Na,Sa,ub,Zb,ac){const jc=Na.type;let Ac=lj;if("time"===jc||"time"===Zb)Ac=ia.timeFormat(ub);else if("utc"===jc||"utc"===Zb)Ac=ia.utcFormat(ub);else if(Xg(jc)){const hd=ia.formatFloat(ub);if(ac||Na.bins)Ac=hd;else{const Ld=K(Na,Sa,!1);Ac=ae=>Ld(ae)?hd(ae):""}}else Na.tickFormat?(Na=Na.domain(),Ac=ia.formatSpan(Na[0],Na[Na.length-1],Sa,ub)):ub&&(Ac=ia.format(ub));return Ac}function K(ia,Na,Sa){const ub=Eh(ia,Na),Zb=ia.base(),ac=Math.log(Zb),jc=Math.max(1,Zb*Na/ub.length);ia=Ac=>{Ac/=Math.pow(Zb,Math.round(Math.log(Ac)/
ac));Ac*Zb<Zb-.5&&(Ac*=Zb);return Ac<=jc};return Sa?ub.filter(ia):ia}function da(ia,Na){ia.bins?(ia=ia.bins,Na=ia.slice(0,-1),Na.max=k.peek(ia),ia=Na):"log"===ia.type?ia=K(ia,Na,!0):vj[ia.type]?(ia=ia[vj[ia.type]](),ia=[-Infinity].concat(ia),ia.max=Infinity):ia=Eh(ia,Na);return ia}function Ma(ia,Na,Sa,ub,Zb,ac,jc){if(Yi[Na.type]&&"time"!==ac&&"utc"!==ac){Sa=Na[Yi[Na.type]]();ac=Sa.length;jc=1<ac?Sa[1]-Sa[0]:Sa[0];let Ac;for(Ac=1;Ac<ac;++Ac)jc=Math.min(jc,Sa[Ac]-Sa[Ac-1]);ia=ia.formatSpan(0,jc,30,
Zb)}else ia=Jg(ia,Na,Sa,Zb,ac,jc);return"symbol"===ub&&(vj[Na.type]||Na.bins)?ni(ia):"discrete"===ub?rh(ia):Oi(ia)}const fb=b(f).right;b(c).center;var Eb=fb;class Sb extends Map{constructor(ia,Na=h){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Na}});if(null!=ia)for(const [Sa,ub]of ia)this.set(Sa,ub)}get(ia){return super.get(e(this,ia))}has(ia){return super.has(e(this,ia))}set(ia,Na){return super.set(g(this,ia),Na)}delete(ia){return super.delete(n(this,ia))}}var Cc=Math.sqrt(50),
Zc=Math.sqrt(10),$c=Math.sqrt(2);const rd=Symbol("implicit");var ce=1/.7,ze=/^#([0-9a-f]{3,8})$/,ef=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Cf=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Mf=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ke=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ag=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),wg=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),vh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
G(R,ba,{copy:function(ia){return Object.assign(new this.constructor,this,ia)},displayable:function(){return this.rgb().displayable()},hex:ca,formatHex:ca,formatHsl:function(){return sa(this).formatHsl()},formatRgb:M,toString:M});G(C,aa,T(R,{brighter:function(ia){ia=null==ia?ce:Math.pow(ce,ia);return new C(this.r*ia,this.g*ia,this.b*ia,this.opacity)},darker:function(ia){ia=null==ia?.7:Math.pow(.7,ia);return new C(this.r*ia,this.g*ia,this.b*ia,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:B,formatHex:B,formatRgb:N,toString:N}));G(Ia,la,T(R,{brighter:function(ia){ia=null==ia?ce:Math.pow(ce,ia);return new Ia(this.h,this.s,this.l*ia,this.opacity)},darker:function(ia){ia=null==ia?.7:Math.pow(.7,ia);return new Ia(this.h,this.s,this.l*ia,this.opacity)},rgb:function(){var ia=this.h%360+360*(0>this.h),Na=isNaN(ia)||isNaN(this.s)?0:this.s,Sa=this.l;Na=Sa+(.5>Sa?Sa:1-Sa)*Na;Sa=2*
Sa-Na;return new C(bb(240<=ia?ia-240:ia+120,Sa,Na),bb(ia,Sa,Na),bb(120>ia?ia+240:ia-120,Sa,Na),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var ia=this.opacity;ia=isNaN(ia)?1:Math.max(0,Math.min(1,ia));return(1===ia?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===ia?")":", "+ia+")")}}));const ch=Math.PI/180,dg=180/Math.PI,Af=4/29,jg=6/29,bg=3*jg*jg,qg=
jg*jg*jg;G(ma,Ja,T(R,{brighter:function(ia){return new ma(this.l+18*(null==ia?1:ia),this.a,this.b,this.opacity)},darker:function(ia){return new ma(this.l-18*(null==ia?1:ia),this.a,this.b,this.opacity)},rgb:function(){var ia=(this.l+16)/116,Na=isNaN(this.a)?ia:ia+this.a/500,Sa=isNaN(this.b)?ia:ia-this.b/200;Na=.96422*Pa(Na);ia=1*Pa(ia);Sa=.82521*Pa(Sa);return new C(qa(3.1338561*Na-1.6168667*ia-.4906146*Sa),qa(-.9787684*Na+1.9161415*ia+.033454*Sa),qa(.0719453*Na-.2289914*ia+1.4052427*Sa),this.opacity)}}));
G(Ua,va,T(R,{brighter:function(ia){return new Ua(this.h,this.c,this.l+18*(null==ia?1:ia),this.opacity)},darker:function(ia){return new Ua(this.h,this.c,this.l-18*(null==ia?1:ia),this.opacity)},rgb:function(){return eb(this).rgb()}}));var wh=1.78277*-.29227-.1347134789;G(Oa,ra,T(R,{brighter:function(ia){ia=null==ia?ce:Math.pow(ce,ia);return new Oa(this.h,this.s,this.l*ia,this.opacity)},darker:function(ia){ia=null==ia?.7:Math.pow(.7,ia);return new Oa(this.h,this.s,this.l*ia,this.opacity)},rgb:function(){var ia=
isNaN(this.h)?0:(this.h+120)*ch,Na=+this.l,Sa=isNaN(this.s)?0:this.s*Na*(1-Na),ub=Math.cos(ia);ia=Math.sin(ia);return new C(255*(Na+Sa*(-.14861*ub+1.78277*ia)),255*(Na+Sa*(-.29227*ub+-.90649*ia)),255*(Na+1.97294*Sa*ub),this.opacity)}}));var Og=ia=>()=>ia,zh=function Sa(Na){function ub(ac,jc){var Ac=Zb((ac=aa(ac)).r,(jc=aa(jc)).r),hd=Zb(ac.g,jc.g),Ld=Zb(ac.b,jc.b),ae=nb(ac.opacity,jc.opacity);return function(kd){ac.r=Ac(kd);ac.g=hd(kd);ac.b=Ld(kd);ac.opacity=ae(kd);return ac+""}}var Zb=lb(Na);ub.gamma=
Sa;return ub}(1),ri=Mb(U),Zh=Mb(ka),$h=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,df=new RegExp($h.source,"g"),Ch=180/Math.PI,hf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},jf,Pg=Fc(function(Na){Na=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(Na+"");return Na.isIdentity?hf:Kc(Na.a,Na.b,Na.c,Na.d,Na.e,Na.f)},"px, ","px)","deg)"),Nh=Fc(function(Na){if(null==Na)return hf;jf||(jf=document.createElementNS("http://www.w3.org/2000/svg","g"));jf.setAttribute("transform",
Na);if(!(Na=jf.transform.baseVal.consolidate()))return hf;Na=Na.matrix;return Kc(Na.a,Na.b,Na.c,Na.d,Na.e,Na.f)},", ",")",")"),Yh=function ac(Sa,ub,Zb){function jc(Ac,hd){var Ld=Ac[0],ae=Ac[1],kd=Ac[2];Ac=hd[2];var oe=hd[0]-Ld,Qe=hd[1]-ae,xf=oe*oe+Qe*Qe;if(1E-12>xf){var Ne=Math.log(Ac/kd)/Sa;Ac=function(fh){return[Ld+fh*oe,ae+fh*Qe,kd*Math.exp(Sa*fh*Ne)]}}else{var Zf=Math.sqrt(xf);hd=(Ac*Ac-kd*kd+Zb*xf)/(2*kd*ub*Zf);Ac=(Ac*Ac-kd*kd-Zb*xf)/(2*Ac*ub*Zf);var Dg=Math.log(Math.sqrt(hd*hd+1)-hd);Ne=(Math.log(Math.sqrt(Ac*
Ac+1)-Ac)-Dg)/Sa;Ac=function(fh){fh*=Ne;var lh=Sc(Dg),$e=Sa*fh+Dg;var gh=(($e=Math.exp(2*$e))-1)/($e+1);var nf=Dg;$e=((nf=Math.exp(nf))-1/nf)/2;gh=kd/(ub*Zf)*(lh*gh-$e);return[Ld+gh*oe,ae+gh*Qe,kd*lh/Sc(Sa*fh+Dg)]}}Ac.duration=1E3*Ne*Sa/Math.SQRT2;return Ac}jc.rho=function(Ac){Ac=Math.max(.001,+Ac);var hd=Ac*Ac;return ac(Ac,hd,hd*hd)};return jc}(Math.SQRT2,2,4),ai=jd(db),dh=jd(nb),ue=$d(db),Je=$d(nb),Df=Ba(db),Pe=Ba(nb),eg=Object.freeze({__proto__:null,interpolate:Wb,interpolateArray:function(Sa,
ub){return(Gc(ub)?$b:zc)(Sa,ub)},interpolateBasis:U,interpolateBasisClosed:ka,interpolateDate:Bc,interpolateDiscrete:function(Sa){var ub=Sa.length;return function(Zb){return Sa[Math.max(0,Math.min(ub-1,Math.floor(Zb*ub)))]}},interpolateHue:function(Sa,ub){var Zb=db(+Sa,+ub);return function(ac){ac=Zb(ac);return ac-360*Math.floor(ac/360)}},interpolateNumber:uc,interpolateNumberArray:$b,interpolateObject:id,interpolateRound:mc,interpolateString:dc,interpolateTransformCss:Pg,interpolateTransformSvg:Nh,
interpolateZoom:Yh,interpolateRgb:zh,interpolateRgbBasis:ri,interpolateRgbBasisClosed:Zh,interpolateHsl:ai,interpolateHslLong:dh,interpolateLab:function(Sa,ub){var Zb=nb((Sa=Ja(Sa)).l,(ub=Ja(ub)).l),ac=nb(Sa.a,ub.a),jc=nb(Sa.b,ub.b),Ac=nb(Sa.opacity,ub.opacity);return function(hd){Sa.l=Zb(hd);Sa.a=ac(hd);Sa.b=jc(hd);Sa.opacity=Ac(hd);return Sa+""}},interpolateHcl:ue,interpolateHclLong:Je,interpolateCubehelix:Df,interpolateCubehelixLong:Pe,piecewise:ua,quantize:function(Sa,ub){for(var Zb=Array(ub),
ac=0;ac<ub;++ac)Zb[ac]=Sa(ac/(ub-1));return Zb}}),fg=[0,1],ff=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Xd.prototype=ge.prototype;ge.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Da,ab={"%":(Sa,ub)=>(100*Sa).toFixed(ub),b:Sa=>Math.round(Sa).toString(2),
c:Sa=>Sa+"",d:function(Sa){return 1E21<=Math.abs(Sa=Math.round(Sa))?Sa.toLocaleString("en").replace(/,/g,""):Sa.toString(10)},e:(Sa,ub)=>Sa.toExponential(ub),f:(Sa,ub)=>Sa.toFixed(ub),g:(Sa,ub)=>Sa.toPrecision(ub),o:Sa=>Math.round(Sa).toString(8),p:(Sa,ub)=>le(100*Sa,ub),r:le,s:function(Sa,ub){var Zb=dd(Sa,ub);if(!Zb)return Sa+"";var ac=Zb[0];Zb=Zb[1];Zb=Zb-(Da=3*Math.max(-8,Math.min(8,Math.floor(Zb/3))))+1;var jc=ac.length;return Zb===jc?ac:Zb>jc?ac+Array(Zb-jc+1).join("0"):0<Zb?ac.slice(0,Zb)+"."+
ac.slice(Zb):"0."+Array(1-Zb).join("0")+dd(Sa,Math.max(0,ub+Zb-1))[0]},X:Sa=>Math.round(Sa).toString(16).toUpperCase(),x:Sa=>Math.round(Sa).toString(16)},xb=Array.prototype.map,Lb="y z a f p n  m  k M G T P E Z Y".split(" "),pc,sc,Vc;(function(Sa){pc=wd(Sa);sc=pc.format;Vc=pc.formatPrefix;return pc})({thousands:",",grouping:[3],currency:["$",""]});var pa=new Date,Ra=new Date,mb=bd(function(){},function(Sa,ub){Sa.setTime(+Sa+ub)},function(Sa,ub){return ub-Sa});mb.every=function(Sa){Sa=Math.floor(Sa);
return isFinite(Sa)&&0<Sa?1<Sa?bd(function(ub){ub.setTime(Math.floor(ub/Sa)*Sa)},function(ub,Zb){ub.setTime(+ub+Zb*Sa)},function(ub,Zb){return(Zb-ub)/Sa}):mb:null};var pb=mb;const gc=6048E5,Qc=2592E6,Xc=31536E6;var Bd=bd(function(Sa){Sa.setTime(Sa-Sa.getMilliseconds())},function(Sa,ub){Sa.setTime(+Sa+1E3*ub)},function(Sa,ub){return(ub-Sa)/1E3},function(Sa){return Sa.getUTCSeconds()}),Tc=bd(function(Sa){Sa.setTime(Sa-Sa.getMilliseconds()-1E3*Sa.getSeconds())},function(Sa,ub){Sa.setTime(+Sa+6E4*ub)},
function(Sa,ub){return(ub-Sa)/6E4},function(Sa){return Sa.getMinutes()}),Sd=bd(function(Sa){Sa.setTime(Sa-Sa.getMilliseconds()-1E3*Sa.getSeconds()-6E4*Sa.getMinutes())},function(Sa,ub){Sa.setTime(+Sa+36E5*ub)},function(Sa,ub){return(ub-Sa)/36E5},function(Sa){return Sa.getHours()}),Td=bd(Sa=>Sa.setHours(0,0,0,0),(Sa,ub)=>Sa.setDate(Sa.getDate()+ub),(Sa,ub)=>(ub-Sa-6E4*(ub.getTimezoneOffset()-Sa.getTimezoneOffset()))/864E5,Sa=>Sa.getDate()-1),De=Ad(0),tf=Ad(1);Ad(2);Ad(3);var Ze=Ad(4);Ad(5);Ad(6);var cf=
bd(function(Sa){Sa.setDate(1);Sa.setHours(0,0,0,0)},function(Sa,ub){Sa.setMonth(Sa.getMonth()+ub)},function(Sa,ub){return ub.getMonth()-Sa.getMonth()+12*(ub.getFullYear()-Sa.getFullYear())},function(Sa){return Sa.getMonth()}),Bg=bd(function(Sa){Sa.setMonth(0,1);Sa.setHours(0,0,0,0)},function(Sa,ub){Sa.setFullYear(Sa.getFullYear()+ub)},function(Sa,ub){return ub.getFullYear()-Sa.getFullYear()},function(Sa){return Sa.getFullYear()});Bg.every=function(Sa){return isFinite(Sa=Math.floor(Sa))&&0<Sa?bd(function(ub){ub.setFullYear(Math.floor(ub.getFullYear()/
Sa)*Sa);ub.setMonth(0,1);ub.setHours(0,0,0,0)},function(ub,Zb){ub.setFullYear(ub.getFullYear()+Zb*Sa)}):null};var gg=Bg,He=bd(function(Sa){Sa.setUTCSeconds(0,0)},function(Sa,ub){Sa.setTime(+Sa+6E4*ub)},function(Sa,ub){return(ub-Sa)/6E4},function(Sa){return Sa.getUTCMinutes()}),pf=bd(function(Sa){Sa.setUTCMinutes(0,0,0)},function(Sa,ub){Sa.setTime(+Sa+36E5*ub)},function(Sa,ub){return(ub-Sa)/36E5},function(Sa){return Sa.getUTCHours()}),Hf=bd(function(Sa){Sa.setUTCHours(0,0,0,0)},function(Sa,ub){Sa.setUTCDate(Sa.getUTCDate()+
ub)},function(Sa,ub){return(ub-Sa)/864E5},function(Sa){return Sa.getUTCDate()-1}),mg=xa(0),ci=xa(1);xa(2);xa(3);var Rg=xa(4);xa(5);xa(6);var Cg=bd(function(Sa){Sa.setUTCDate(1);Sa.setUTCHours(0,0,0,0)},function(Sa,ub){Sa.setUTCMonth(Sa.getUTCMonth()+ub)},function(Sa,ub){return ub.getUTCMonth()-Sa.getUTCMonth()+12*(ub.getUTCFullYear()-Sa.getUTCFullYear())},function(Sa){return Sa.getUTCMonth()}),li=bd(function(Sa){Sa.setUTCMonth(0,1);Sa.setUTCHours(0,0,0,0)},function(Sa,ub){Sa.setUTCFullYear(Sa.getUTCFullYear()+
ub)},function(Sa,ub){return ub.getUTCFullYear()-Sa.getUTCFullYear()},function(Sa){return Sa.getUTCFullYear()});li.every=function(Sa){return isFinite(Sa=Math.floor(Sa))&&0<Sa?bd(function(ub){ub.setUTCFullYear(Math.floor(ub.getUTCFullYear()/Sa)*Sa);ub.setUTCMonth(0,1);ub.setUTCHours(0,0,0,0)},function(ub,Zb){ub.setUTCFullYear(ub.getUTCFullYear()+Zb*Sa)}):null};var xg=li;const [Ah,Kg]=Xa(xg,Cg,mg,Hf,pf,He),[eh,ii]=Xa(gg,cf,De,Td,Sd,Tc);var ji={"-":"",_:" ",0:"0"},Lf=/^\s*\d+/,Yg=/^%/,xh=/[\\^$*+?|[\]().{}]/g,
Ih,yi,di;(function(Sa){Ih=gd(Sa);yi=Ih.format;di=Ih.utcFormat;return Ih})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Yf=Array.prototype.map;const yg=Array.prototype.slice,
Zg={};ne("identity",We);ne("linear",te,"continuous");ne("log",sd,["continuous","log"]);ne("pow",Re,"continuous");ne("sqrt",function(){return Re.apply(null,arguments).exponent(.5)},"continuous");ne("symlog",he,"continuous");ne("time",function(){return D.apply(ig(eh,ii,gg,cf,De,Td,Sd,Tc,Bd,yi).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);ne("utc",function(){return D.apply(ig(Ah,Kg,xg,Cg,mg,Hf,pf,He,Bd,di).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},
["continuous","temporal"]);ne("sequential",og,["continuous","interpolating"]);ne("sequential-linear",og,["continuous","interpolating"]);ne("sequential-log",Tf,["continuous","interpolating","log"]);ne("sequential-pow",Tg,["continuous","interpolating"]);ne("sequential-sqrt",function(){return Tg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);ne("sequential-symlog",Wf,["continuous","interpolating"]);ne("diverging-linear",Mg,["continuous","interpolating"]);ne("diverging-log",Ig,["continuous",
"interpolating","log"]);ne("diverging-pow",Wa,["continuous","interpolating"]);ne("diverging-sqrt",function(){return Wa.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);ne("diverging-symlog",Ng,["continuous","interpolating"]);ne("quantile",af,["discretizing","quantile"]);ne("quantize",Qb,"discretizing");ne("threshold",rc,"discretizing");ne("bin-ordinal",yd,["discrete","discretizing"]);ne("ordinal",z,"discrete");ne("band",Cb,"discrete");ne("point",function(){return hc(Cb().paddingInner(1))},
"discrete");const Zi=["clamp","base","constant","exponent"],ei={};qh({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",
tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",
set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},nh);qh({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",
purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",
purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",
brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",
redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",
inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",
rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Sa=>ph(nh(Sa)));const lj=Sa=>k.isArray(Sa)?Sa.map(ub=>String(ub)):String(Sa),Oh=(Sa,ub)=>Sa[1]-ub[1],ti=(Sa,ub)=>ub[1]-Sa[1],vj={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Yi={quantile:"quantiles",quantize:"domain"},ni=Sa=>(ub,Zb,ac)=>{Zb=ac[Zb+1];ac=ac.max;ac=null!=ac?ac:Infinity;Zb=null!=
Zb?Zb:ac;ub=Number.isFinite(ub)?Sa(ub):null;Zb=Number.isFinite(Zb)?Sa(Zb):null;return ub&&Zb?ub+"  "+Zb:Zb?"\x3c "+Zb:" "+ub},rh=Sa=>(ub,Zb)=>Zb?Sa(ub):null,Oi=Sa=>ub=>Sa(ub);w.Band="band";w.BinOrdinal="bin-ordinal";w.DiscreteLegend="discrete";w.Diverging="diverging";w.GradientLegend="gradient";w.Identity="identity";w.Linear="linear";w.Log="log";w.Ordinal="ordinal";w.Point="point";w.Pow="pow";w.Quantile="quantile";w.Quantize="quantize";w.Sequential="sequential";w.Sqrt="sqrt";w.SymbolLegend="symbol";
w.Symlog="symlog";w.Threshold="threshold";w.Time="time";w.UTC="utc";w.bandSpace=q;w.domainCaption=function(Sa,ub,Zb){Zb=Zb||{};var ac=Math.max(3,Zb.maxlen||7),jc=Zb.format;const Ac=(Zb=Zb.formatType)||ub.type;k.isString(jc)&&Fh(Ac)&&(jc=jc.replace(/%a/g,"%A").replace(/%b/g,"%B"));Sa=jc||"time"!==Ac?jc||"utc"!==Ac?Ma(Sa,ub,5,null,jc,Zb,!0):Sa.utcFormat("%A, %d %B %Y, %X UTC"):Sa.timeFormat("%A, %d %B %Y, %X");if(Uf(ub.type))return ac=da(ub).slice(1).map(Sa),ub=ac.length,`${ub} boundar${1===ub?"y":
"ies"}: ${ac.join(", ")}`;if(Wg(ub.type))return jc=ub.domain(),ub=jc.length,ac=ub>ac?jc.slice(0,ac-2).map(Sa).join(", ")+", ending with "+jc.slice(-1).map(Sa):jc.map(Sa).join(", "),`${ub} value${1===ub?"":"s"}: ${ac}`;ac=ub.domain();return`values from ${Sa(ac[0])} to ${Sa(k.peek(ac))}`};w.interpolate=vg;w.interpolateColors=ph;w.interpolateRange=function(Sa,ub){const Zb=ub[0],ac=k.peek(ub)-Zb;return function(jc){return Sa(Zb+jc*ac)}};w.isContinuous=function(Sa){return uf(Sa,"continuous")};w.isDiscrete=
Wg;w.isDiscretizing=Uf;w.isInterpolating=function(Sa){return uf(Sa,"interpolating")};w.isLogarithmic=Xg;w.isQuantile=function(Sa){return uf(Sa,"quantile")};w.isTemporal=Fh;w.isValidScaleType=of;w.labelFormat=Ma;w.labelFraction=function(Sa){var ub=Sa.domain();const Zb=ub.length-1;let ac=+ub[0];ub=+k.peek(ub);let jc=ub-ac;"threshold"===Sa.type&&(Sa=Zb?jc/Zb:.1,ac-=Sa,ub+=Sa,jc=ub-ac);return Ac=>(Ac-ac)/jc};w.labelValues=da;w.quantizeInterpolator=function(Sa,ub){const Zb=Array(ub),ac=ub+1;for(let jc=
0;jc<ub;)Zb[jc]=Sa(++jc/ac);return Zb};w.scale=ne;w.scaleCopy=function(Sa){const ub=Sa.type;Sa=Sa.copy();Sa.type=ub;return Sa};w.scaleFraction=function(Sa,ub,Zb){var ac=Zb-ub;let jc,Ac;return ac&&Number.isFinite(ac)?(ac=(jc=Sa.type).indexOf("-"),jc=0>ac?jc:jc.slice(ac+1),Ac=ne(jc)().domain([ub,Zb]).range([0,1]),Zi.forEach(hd=>Sa[hd]?Ac[hd](Sa[hd]()):0),Ac):k.constant(.5)};w.scaleImplicit=rd;w.scheme=Lh;w.tickCount=function(Sa,ub,Zb){let ac;k.isNumber(ub)&&(Sa.bins&&(ub=Math.max(ub,Sa.bins.length)),
null!=Zb&&(ub=Math.min(ub,Math.floor(k.span(Sa.domain())/Zb||1))));k.isObject(ub)&&(ac=ub.step,ub=ub.interval);k.isString(ub)&&(ub="time"===Sa.type?p.timeInterval(ub):"utc"==Sa.type?p.utcInterval(ub):k.error("Only time and utc scales accept interval strings."),ac&&(ub=ub.every(ac)));return ub};w.tickFormat=Jg;w.tickValues=Eh;w.validTicks=uh;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(26),L(22),L(27)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t){function m(Da,ab,xb){const Lb=Da.gradient;let pc=Da.id,sc="radial"===Lb?"p_":"";pc||(pc=Da.id="gradient_"+Ob++,"radial"===Lb?(Da.x1=f(Da.x1,
.5),Da.y1=f(Da.y1,.5),Da.r1=f(Da.r1,0),Da.x2=f(Da.x2,.5),Da.y2=f(Da.y2,.5),Da.r2=f(Da.r2,.5),sc="p_"):(Da.x1=f(Da.x1,0),Da.y1=f(Da.y1,0),Da.x2=f(Da.x2,1),Da.y2=f(Da.y2,0)));ab[pc]=Da;return"url("+(xb||"")+"#"+sc+pc+")"}function f(Da,ab){return null!=Da?Da:ab}function b(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function c(){return new b}function e(Da){return function(){return Da}}function g(Da){return 1<=Da?Kd:-1>=Da?-Kd:Math.asin(Da)}function n(Da){return Da.innerRadius}function h(Da){return Da.outerRadius}
function x(Da){return Da.startAngle}function O(Da){return Da.endAngle}function H(Da){return Da&&Da.padAngle}function F(Da,ab,xb,Lb,pc,sc,Vc){var pa=Da-xb,Ra=ab-Lb;Vc=(Vc?sc:-sc)/Zd(pa*pa+Ra*Ra);Ra*=Vc;pa*=-Vc;var mb=Da+Ra,pb=ab+pa,gc=xb+Ra,Qc=Lb+pa;xb=(mb+gc)/2;Lb=(pb+Qc)/2;ab=gc-mb;Da=Qc-pb;Vc=ab*ab+Da*Da;sc=pc-sc;Qc=mb*Qc-gc*pb;var Xc=(0>Da?-1:1)*Zd(Be(0,sc*sc*Vc-Qc*Qc));mb=(Qc*Da-ab*Xc)/Vc;pb=(-Qc*ab-Da*Xc)/Vc;gc=(Qc*Da+ab*Xc)/Vc;ab=(-Qc*ab+Da*Xc)/Vc;Da=mb-xb;Vc=pb-Lb;xb=gc-xb;Lb=ab-Lb;Da*Da+Vc*
Vc>xb*xb+Lb*Lb&&(mb=gc,pb=ab);return{cx:mb,cy:pb,x01:-Ra,y01:-pa,x11:mb*(pc/sc-1),y11:pb*(pc/sc-1)}}function J(Da){return"object"===typeof Da&&"length"in Da?Da:Array.from(Da)}function D(Da){this._context=Da}function r(Da){return new D(Da)}function z(Da){return Da[0]}function G(Da){return Da[1]}function T(Da,ab){function xb(pa){var Ra,mb=(pa=J(pa)).length,pb,gc=!1,Qc;null==pc&&(Vc=sc(Qc=c()));for(Ra=0;Ra<=mb;++Ra)!(Ra<mb&&Lb(pb=pa[Ra],Ra,pa))===gc&&((gc=!gc)?Vc.lineStart():Vc.lineEnd()),gc&&Vc.point(+Da(pb,
Ra,pa),+ab(pb,Ra,pa));if(Qc)return Vc=null,Qc+""||null}var Lb=e(!0),pc=null,sc=r,Vc=null;Da="function"===typeof Da?Da:void 0===Da?z:e(Da);ab="function"===typeof ab?ab:void 0===ab?G:e(ab);xb.x=function(pa){return arguments.length?(Da="function"===typeof pa?pa:e(+pa),xb):Da};xb.y=function(pa){return arguments.length?(ab="function"===typeof pa?pa:e(+pa),xb):ab};xb.defined=function(pa){return arguments.length?(Lb="function"===typeof pa?pa:e(!!pa),xb):Lb};xb.curve=function(pa){return arguments.length?
(sc=pa,null!=pc&&(Vc=sc(pc)),xb):sc};xb.context=function(pa){return arguments.length?(null==pa?pc=Vc=null:Vc=sc(pc=pa),xb):pc};return xb}function R(Da,ab,xb){function Lb(pb){var gc,Qc,Xc=(pb=J(pb)).length,Bd,Tc=!1,Sd,Td=Array(Xc),De=Array(Xc);null==pa&&(mb=Ra(Sd=c()));for(gc=0;gc<=Xc;++gc){if(!(gc<Xc&&Vc(Bd=pb[gc],gc,pb))===Tc)if(Tc=!Tc){var tf=gc;mb.areaStart();mb.lineStart()}else{mb.lineEnd();mb.lineStart();for(Qc=gc-1;Qc>=tf;--Qc)mb.point(Td[Qc],De[Qc]);mb.lineEnd();mb.areaEnd()}Tc&&(Td[gc]=+Da(Bd,
gc,pb),De[gc]=+ab(Bd,gc,pb),mb.point(sc?+sc(Bd,gc,pb):Td[gc],xb?+xb(Bd,gc,pb):De[gc]))}if(Sd)return mb=null,Sd+""||null}function pc(){return T().defined(Vc).curve(Ra).context(pa)}var sc=null,Vc=e(!0),pa=null,Ra=r,mb=null;Da="function"===typeof Da?Da:void 0===Da?z:e(+Da);ab="function"===typeof ab?ab:void 0===ab?e(0):e(+ab);xb="function"===typeof xb?xb:void 0===xb?G:e(+xb);Lb.x=function(pb){return arguments.length?(Da="function"===typeof pb?pb:e(+pb),sc=null,Lb):Da};Lb.x0=function(pb){return arguments.length?
(Da="function"===typeof pb?pb:e(+pb),Lb):Da};Lb.x1=function(pb){return arguments.length?(sc=null==pb?null:"function"===typeof pb?pb:e(+pb),Lb):sc};Lb.y=function(pb){return arguments.length?(ab="function"===typeof pb?pb:e(+pb),xb=null,Lb):ab};Lb.y0=function(pb){return arguments.length?(ab="function"===typeof pb?pb:e(+pb),Lb):ab};Lb.y1=function(pb){return arguments.length?(xb=null==pb?null:"function"===typeof pb?pb:e(+pb),Lb):xb};Lb.lineX0=Lb.lineY0=function(){return pc().x(Da).y(ab)};Lb.lineY1=function(){return pc().x(Da).y(xb)};
Lb.lineX1=function(){return pc().x(sc).y(ab)};Lb.defined=function(pb){return arguments.length?(Vc="function"===typeof pb?pb:e(!!pb),Lb):Vc};Lb.curve=function(pb){return arguments.length?(Ra=pb,null!=pa&&(mb=Ra(pa)),Lb):Ra};Lb.context=function(pb){return arguments.length?(null==pb?pa=mb=null:mb=Ra(pa=pb),Lb):pa};return Lb}function ca(){}function M(Da,ab,xb){Da._context.bezierCurveTo((2*Da._x0+Da._x1)/3,(2*Da._y0+Da._y1)/3,(Da._x0+2*Da._x1)/3,(Da._y0+2*Da._y1)/3,(Da._x0+4*Da._x1+ab)/6,(Da._y0+4*Da._y1+
xb)/6)}function ba(Da){this._context=Da}function W(Da){this._context=Da}function ea(Da){this._context=Da}function La(Da,ab){this._basis=new ba(Da);this._beta=ab}function aa(Da,ab,xb){Da._context.bezierCurveTo(Da._x1+Da._k*(Da._x2-Da._x0),Da._y1+Da._k*(Da._y2-Da._y0),Da._x2+Da._k*(Da._x1-ab),Da._y2+Da._k*(Da._y1-xb),Da._x2,Da._y2)}function C(Da,ab){this._context=Da;this._k=(1-ab)/6}function B(Da,ab){this._context=Da;this._k=(1-ab)/6}function N(Da,ab){this._context=Da;this._k=(1-ab)/6}function Y(Da,
ab,xb){var Lb=Da._x1,pc=Da._y1,sc=Da._x2,Vc=Da._y2;if(1E-12<Da._l01_a){var pa=2*Da._l01_2a+3*Da._l01_a*Da._l12_a+Da._l12_2a,Ra=3*Da._l01_a*(Da._l01_a+Da._l12_a);Lb=(Lb*pa-Da._x0*Da._l12_2a+Da._x2*Da._l01_2a)/Ra;pc=(pc*pa-Da._y0*Da._l12_2a+Da._y2*Da._l01_2a)/Ra}1E-12<Da._l23_a&&(pa=2*Da._l23_2a+3*Da._l23_a*Da._l12_a+Da._l12_2a,Ra=3*Da._l23_a*(Da._l23_a+Da._l12_a),sc=(sc*pa+Da._x1*Da._l23_2a-ab*Da._l12_2a)/Ra,Vc=(Vc*pa+Da._y1*Da._l23_2a-xb*Da._l12_2a)/Ra);Da._context.bezierCurveTo(Lb,pc,sc,Vc,Da._x2,
Da._y2)}function Aa(Da,ab){this._context=Da;this._alpha=ab}function sa(Da,ab){this._context=Da;this._alpha=ab}function la(Da,ab){this._context=Da;this._alpha=ab}function Ia(Da){this._context=Da}function bb(Da,ab,xb){var Lb=Da._x1-Da._x0;ab-=Da._x1;var pc=(Da._y1-Da._y0)/(Lb||0>ab&&-0);Da=(xb-Da._y1)/(ab||0>Lb&&-0);return((0>pc?-1:1)+(0>Da?-1:1))*Math.min(Math.abs(pc),Math.abs(Da),.5*Math.abs((pc*ab+Da*Lb)/(Lb+ab)))||0}function ib(Da,ab){var xb=Da._x1-Da._x0;return xb?(3*(Da._y1-Da._y0)/xb-ab)/2:ab}
function Ja(Da,ab,xb){var Lb=Da._x0,pc=Da._x1,sc=Da._y1,Vc=(pc-Lb)/3;Da._context.bezierCurveTo(Lb+Vc,Da._y0+Vc*ab,pc-Vc,sc-Vc*xb,pc,sc)}function ma(Da){this._context=Da}function Fa(Da){this._context=new Pa(Da)}function Pa(Da){this._context=Da}function qa(Da){this._context=Da}function ya(Da){var ab,xb=Da.length-1,Lb=Array(xb),pc=Array(xb),sc=Array(xb);Lb[0]=0;pc[0]=2;sc[0]=Da[0]+2*Da[1];for(ab=1;ab<xb-1;++ab)Lb[ab]=1,pc[ab]=4,sc[ab]=4*Da[ab]+2*Da[ab+1];Lb[xb-1]=2;pc[xb-1]=7;sc[xb-1]=8*Da[xb-1]+Da[xb];
for(ab=1;ab<xb;++ab){var Vc=Lb[ab]/pc[ab-1];pc[ab]-=Vc;sc[ab]-=Vc*sc[ab-1]}Lb[xb-1]=sc[xb-1]/pc[xb-1];for(ab=xb-2;0<=ab;--ab)Lb[ab]=(sc[ab]-Lb[ab+1])/pc[ab];pc[xb-1]=(Da[xb]+Lb[xb-1])/2;for(ab=0;ab<xb-1;++ab)pc[ab]=2*Da[ab+1]-Lb[ab+1];return[Lb,pc]}function oa(Da,ab){this._context=Da;this._t=ab}function va(Da,ab,xb){Da=k.hasOwnProperty(ie,Da)&&ie[Da];var Lb=null;Da&&(Lb=Da.curve||Da[ab||"vertical"],Da.tension&&null!=xb&&(Lb=Lb[Da.tension](xb)));return Lb}function Ua(Da){const ab=[];(Da.match(Sf)||
[]).forEach(xb=>{let Lb=xb[0];var pc=Lb.toLowerCase();const sc=mf[pc];var Vc=xb.slice(1).trim();xb=[];for(let Ra=0;sc&&Ra<Vc.length;)for(let mb=0;mb<sc;++mb){var pa="a"!==pc||3!==mb&&4!==mb?Gf:ng;pa=Vc.slice(Ra).match(pa);if(null===pa)throw Error("Invalid SVG path, incorrect parameter type");Ra+=pa[0].length;xb.push(+pa[0]);pa=Vc.slice(Ra).match(Ag);null!==pa&&(Ra+=pa[0].length)}Vc=xb.length;if(Vc<sc||Vc&&0!==Vc%sc)throw Error("Invalid SVG path, incorrect parameter count");ab.push([Lb,...xb.slice(0,
sc)]);if(Vc!==sc)for("m"===pc&&(Lb="M"===Lb?"L":"l"),pc=sc;pc<Vc;pc+=sc)ab.push([Lb,...xb.slice(pc,pc+sc)])});return ab}function eb(Da,ab,xb,Lb,pc,sc,Vc,pa,Ra){const mb=Tf.call(arguments);if(ug[mb])return ug[mb];var pb=Vc*tg;const gc=Math.sin(pb);pb=Math.cos(pb);xb=Math.abs(xb);Lb=Math.abs(Lb);var Qc=pb*(pa-Da)*.5+gc*(Ra-ab)*.5,Xc=pb*(Ra-ab)*.5-gc*(pa-Da)*.5;Qc=Qc*Qc/(xb*xb)+Xc*Xc/(Lb*Lb);1<Qc&&(Qc=Math.sqrt(Qc),xb*=Qc,Lb*=Qc);var Bd=pb/xb,Tc=gc/xb,Sd=-gc/Lb,Td=pb/Lb;Qc=Bd*pa+Tc*Ra;Xc=Sd*pa+Td*Ra;
Bd=Bd*Da+Tc*ab;Tc=Sd*Da+Td*ab;Sd=1/((Bd-Qc)*(Bd-Qc)+(Tc-Xc)*(Tc-Xc))-.25;0>Sd&&(Sd=0);Td=Math.sqrt(Sd);sc==pc&&(Td=-Td);Sd=.5*(Qc+Bd)-Td*(Tc-Xc);Td=.5*(Xc+Tc)+Td*(Bd-Qc);Qc=Math.atan2(Xc-Td,Qc-Sd);Xc=Math.atan2(Tc-Td,Bd-Sd)-Qc;0>Xc&&1===sc?Xc+=ig:0<Xc&&0===sc&&(Xc-=ig);Bd=Math.ceil(Math.abs(Xc/(Sg+.001)));Tc=[];for(let De=0;De<Bd;++De)Tc[De]=[Sd,Td,Qc+De*Xc/Bd,Qc+(De+1)*Xc/Bd,xb,Lb,gc,pb];return ug[mb]=Tc}function ra(Da,ab,xb,Lb,pc,sc){var Vc=null,pa=0,Ra=0,mb=0,pb=0,gc=0,Qc=0;null==xb&&(xb=0);null==
Lb&&(Lb=0);null==pc&&(pc=1);null==sc&&(sc=pc);Da.beginPath&&Da.beginPath();for(var Xc=0,Bd=ab.length;Xc<Bd;++Xc){var Tc=ab[Xc];if(1!==pc||1!==sc){var Sd=pc;var Td=sc;var De=Wf[0]=Tc[0];if("a"===De||"A"===De)Wf[1]=Sd*Tc[1],Wf[2]=Td*Tc[2],Wf[3]=Tc[3],Wf[4]=Tc[4],Wf[5]=Tc[5],Wf[6]=Sd*Tc[6],Wf[7]=Td*Tc[7];else if("h"===De||"H"===De)Wf[1]=Sd*Tc[1];else if("v"===De||"V"===De)Wf[1]=Td*Tc[1];else{De=1;for(var tf=Tc.length;De<tf;++De)Wf[De]=(1==De%2?Sd:Td)*Tc[De]}Tc=Wf}switch(Tc[0]){case "l":pa+=Tc[1];Ra+=
Tc[2];Da.lineTo(pa+xb,Ra+Lb);break;case "L":pa=Tc[1];Ra=Tc[2];Da.lineTo(pa+xb,Ra+Lb);break;case "h":pa+=Tc[1];Da.lineTo(pa+xb,Ra+Lb);break;case "H":pa=Tc[1];Da.lineTo(pa+xb,Ra+Lb);break;case "v":Ra+=Tc[1];Da.lineTo(pa+xb,Ra+Lb);break;case "V":Ra=Tc[1];Da.lineTo(pa+xb,Ra+Lb);break;case "m":pa+=Tc[1];Ra+=Tc[2];gc=pa;Qc=Ra;Da.moveTo(pa+xb,Ra+Lb);break;case "M":pa=Tc[1];Ra=Tc[2];gc=pa;Qc=Ra;Da.moveTo(pa+xb,Ra+Lb);break;case "c":Sd=pa+Tc[5];Td=Ra+Tc[6];mb=pa+Tc[3];pb=Ra+Tc[4];Da.bezierCurveTo(pa+Tc[1]+
xb,Ra+Tc[2]+Lb,mb+xb,pb+Lb,Sd+xb,Td+Lb);pa=Sd;Ra=Td;break;case "C":pa=Tc[5];Ra=Tc[6];mb=Tc[3];pb=Tc[4];Da.bezierCurveTo(Tc[1]+xb,Tc[2]+Lb,mb+xb,pb+Lb,pa+xb,Ra+Lb);break;case "s":Sd=pa+Tc[3];Td=Ra+Tc[4];mb=2*pa-mb;pb=2*Ra-pb;Da.bezierCurveTo(mb+xb,pb+Lb,pa+Tc[1]+xb,Ra+Tc[2]+Lb,Sd+xb,Td+Lb);mb=pa+Tc[1];pb=Ra+Tc[2];pa=Sd;Ra=Td;break;case "S":Sd=Tc[3];Td=Tc[4];mb=2*pa-mb;pb=2*Ra-pb;Da.bezierCurveTo(mb+xb,pb+Lb,Tc[1]+xb,Tc[2]+Lb,Sd+xb,Td+Lb);pa=Sd;Ra=Td;mb=Tc[1];pb=Tc[2];break;case "q":Sd=pa+Tc[3];Td=
Ra+Tc[4];mb=pa+Tc[1];pb=Ra+Tc[2];Da.quadraticCurveTo(mb+xb,pb+Lb,Sd+xb,Td+Lb);pa=Sd;Ra=Td;break;case "Q":Sd=Tc[3];Td=Tc[4];Da.quadraticCurveTo(Tc[1]+xb,Tc[2]+Lb,Sd+xb,Td+Lb);pa=Sd;Ra=Td;mb=Tc[1];pb=Tc[2];break;case "t":Sd=pa+Tc[1];Td=Ra+Tc[2];null===Vc[0].match(/[QqTt]/)?(mb=pa,pb=Ra):"t"===Vc[0]?(mb=2*pa-Ze,pb=2*Ra-cf):"q"===Vc[0]&&(mb=2*pa-mb,pb=2*Ra-pb);var Ze=mb;var cf=pb;Da.quadraticCurveTo(mb+xb,pb+Lb,Sd+xb,Td+Lb);pa=Sd;Ra=Td;mb=pa+Tc[1];pb=Ra+Tc[2];break;case "T":Sd=Tc[1];Td=Tc[2];mb=2*pa-
mb;pb=2*Ra-pb;Da.quadraticCurveTo(mb+xb,pb+Lb,Sd+xb,Td+Lb);pa=Sd;Ra=Td;break;case "a":Oa(Da,pa+xb,Ra+Lb,[Tc[1],Tc[2],Tc[3],Tc[4],Tc[5],Tc[6]+pa+xb,Tc[7]+Ra+Lb]);pa+=Tc[6];Ra+=Tc[7];break;case "A":Oa(Da,pa+xb,Ra+Lb,[Tc[1],Tc[2],Tc[3],Tc[4],Tc[5],Tc[6]+xb,Tc[7]+Lb]);pa=Tc[6];Ra=Tc[7];break;case "z":case "Z":pa=gc,Ra=Qc,Da.closePath()}Vc=Tc}}function Oa(Da,ab,xb,Lb){ab=eb(Lb[5],Lb[6],Lb[0],Lb[1],Lb[3],Lb[4],Lb[2],ab,xb);for(xb=0;xb<ab.length;++xb){a:{var pc=ab[xb];Lb=Tf.call(pc);if(og[Lb]){Lb=og[Lb];
break a}var sc=pc[0],Vc=pc[1],pa=pc[2],Ra=pc[3],mb=pc[4],pb=pc[5],gc=pc[6],Qc=pc[7];pc=Qc*mb;const Bd=-gc*pb;mb*=gc;pb*=Qc;var Xc=Math.cos(pa);const Tc=Math.sin(pa);gc=Math.cos(Ra);Qc=Math.sin(Ra);pa=.5*(Ra-pa);Ra=Math.sin(.5*pa);Ra=8/3*Ra*Ra/Math.sin(pa);pa=sc+Xc-Ra*Tc;Xc=Vc+Tc+Ra*Xc;sc+=gc;Vc+=Qc;Qc=sc+Ra*Qc;gc=Vc-Ra*gc;Lb=og[Lb]=[pc*pa+Bd*Xc,mb*pa+pb*Xc,pc*Qc+Bd*gc,mb*Qc+pb*gc,pc*sc+Bd*Vc,mb*sc+pb*Vc]}Da.bezierCurveTo(Lb[0],Lb[1],Lb[2],Lb[3],Lb[4],Lb[5])}}function ja(Da){return k.hasOwnProperty(Tg,
Da)?Tg[Da]:U(Da)}function U(Da){if(!k.hasOwnProperty(bh,Da)){const ab=Ua(Da);bh[Da]={draw:function(xb,Lb){ra(xb,ab,0,0,Math.sqrt(Lb)/2)}}}return bh[Da]}function ka(Da){return Da.x}function wa(Da){return Da.y}function Ta(Da){return Da.width}function db(Da){return Da.height}function lb(Da){return"function"===typeof Da?Da:()=>+Da}function nb(Da,ab,xb){return Math.max(ab,Math.min(Da,xb))}function Mb(){function Da(pb,gc,Qc){var Xc;gc=null!=gc?gc:+ab.call(this,pb);Qc=null!=Qc?Qc:+xb.call(this,pb);var Bd=
+Lb.call(this,pb),Tc=+pc.call(this,pb),Sd=Math.min(Bd,Tc)/2,Td=nb(+sc.call(this,pb),0,Sd),De=nb(+Vc.call(this,pb),0,Sd),tf=nb(+pa.call(this,pb),0,Sd);pb=nb(+Ra.call(this,pb),0,Sd);mb||(mb=Xc=c());0>=Td&&0>=De&&0>=tf&&0>=pb?mb.rect(gc,Qc,Bd,Tc):(Bd=gc+Bd,Tc=Qc+Tc,mb.moveTo(gc+Td,Qc),mb.lineTo(Bd-De,Qc),mb.bezierCurveTo(Bd-.448084975506*De,Qc,Bd,Qc+.448084975506*De,Bd,Qc+De),mb.lineTo(Bd,Tc-pb),mb.bezierCurveTo(Bd,Tc-.448084975506*pb,Bd-.448084975506*pb,Tc,Bd-pb,Tc),mb.lineTo(gc+tf,Tc),mb.bezierCurveTo(gc+
.448084975506*tf,Tc,gc,Tc-.448084975506*tf,gc,Tc-tf),mb.lineTo(gc,Qc+Td),mb.bezierCurveTo(gc,Qc+.448084975506*Td,gc+.448084975506*Td,Qc,gc+Td,Qc),mb.closePath());if(Xc)return mb=null,Xc+""||null}var ab=ka,xb=wa,Lb=Ta,pc=db,sc=lb(0),Vc=sc,pa=sc,Ra=sc,mb=null;Da.x=function(pb){return arguments.length?(ab=lb(pb),Da):ab};Da.y=function(pb){return arguments.length?(xb=lb(pb),Da):xb};Da.width=function(pb){return arguments.length?(Lb=lb(pb),Da):Lb};Da.height=function(pb){return arguments.length?(pc=lb(pb),
Da):pc};Da.cornerRadius=function(pb,gc,Qc,Xc){return arguments.length?(sc=lb(pb),Vc=null!=gc?lb(gc):sc,Ra=null!=Qc?lb(Qc):sc,pa=null!=Xc?lb(Xc):Vc,Da):sc};Da.context=function(pb){return arguments.length?(mb=null==pb?null:pb,Da):mb};return Da}function $b(){function Da(pb){var gc,Qc=pb.length,Xc,Bd=!1,Tc;null==sc&&(sc=Tc=c());for(gc=0;gc<=Qc;++gc)if(!(gc<Qc&&pc(Xc=pb[gc],gc,pb))===Bd&&(Bd=!Bd)&&(Vc=0),Bd){var Sd=+ab(Xc,gc,pb),Td=+xb(Xc,gc,pb);const gg=+Lb(Xc,gc,pb)/2;if(Vc){var De=Ra-Td,tf=Sd-pa;if(De||
tf){var Ze=Math.sqrt(De*De+tf*tf),cf=(De/=Ze)*mb;Ze=(tf/=Ze)*mb;var Bg=Math.atan2(tf,De);sc.moveTo(pa-cf,Ra-Ze);sc.lineTo(Sd-De*gg,Td-tf*gg);sc.arc(Sd,Td,gg,Bg-Math.PI,Bg);sc.lineTo(pa+cf,Ra+Ze);sc.arc(pa,Ra,mb,Bg,Bg+Math.PI)}else sc.arc(Sd,Td,gg,0,ig);sc.closePath()}else Vc=1;pa=Sd;Ra=Td;mb=gg}if(Tc)return sc=null,Tc+""||null}var ab,xb,Lb,pc,sc=null,Vc,pa,Ra,mb;Da.x=function(pb){return arguments.length?(ab=pb,Da):ab};Da.y=function(pb){return arguments.length?(xb=pb,Da):xb};Da.size=function(pb){return arguments.length?
(Lb=pb,Da):Lb};Da.defined=function(pb){return arguments.length?(pc=pb,Da):pc};Da.context=function(pb){return arguments.length?(sc=null==pb?null:pb,Da):sc};return Da}function Gc(Da,ab){return null!=Da?Da:ab}function zc(Da){return Da.cornerRadius||Da.cornerRadiusTopLeft||Da.cornerRadiusTopRight||Da.cornerRadiusBottomRight||Da.cornerRadiusBottomLeft}function Bc(Da,ab,xb,Lb){return Dd.context(Da)(ab,xb,Lb)}function uc(Da,ab,xb){var Lb=ab.clip;Da=Da._defs;ab=ab.clip_id||(ab.clip_id="clip"+uf++);Da=Da.clipping[ab]||
(Da.clipping[ab]={id:ab});k.isFunction(Lb)?Da.path=Lb(null):zc(xb)?Da.path=Bc(null,xb,0,0):(Da.width=xb.width||0,Da.height=xb.height||0);return"url(#"+ab+")"}function id(Da){this.clear();Da&&this.union(Da)}function Hb(Da){this.mark=Da;this.bounds=this.bounds||new id}function Ab(Da){Hb.call(this,Da);this.items=this.items||[]}function dc(Da){this._pending=0;this._loader=Da||q.loader()}function Wb(Da,ab,xb){if(ab.stroke&&0!==ab.opacity&&0!==ab.strokeOpacity){const Lb=null!=ab.strokeWidth?+ab.strokeWidth:
1;Da.expand(Lb+(xb?ab.strokeJoin&&"miter"!==ab.strokeJoin?0:Lb:0))}return Da}function mc(Da,ab){Uf=Da;ab?(ph=ab*tg,vg=qh=Math.cos(ph),Ug=Math.sin(ph),nh=-Ug):(vg=qh=1,ph=Ug=nh=0);return da}function Kc(Da,ab,xb,Lb){xb=(Da-ab)/(Da+xb-2*ab);0<xb&&1>xb&&Lb(Da+(ab-Da)*xb)}function Fc(Da,ab,xb,Lb,pc){const sc=Lb-Da+3*ab-3*xb,Vc=Da+xb-2*ab;var pa=Da-ab;let Ra=0,mb=0;1E-14<Math.abs(sc)?(pa=Vc*Vc+pa*sc,0<=pa&&(pa=Math.sqrt(pa),Ra=(-Vc+pa)/sc,mb=(-Vc-pa)/sc)):Ra=.5*pa/Vc;0<Ra&&1>Ra&&pc(Sc(Ra,Da,ab,xb,Lb));
0<mb&&1>mb&&pc(Sc(mb,Da,ab,xb,Lb))}function Sc(Da,ab,xb,Lb,pc){const sc=1-Da,Vc=sc*sc,pa=Da*Da;return Vc*sc*ab+3*Vc*Da*xb+3*sc*pa*Lb+pa*Da*pc}function jd(Da){return function(ab,xb){if(!Ma)return!0;Da(Ma,ab);fb.clear().union(ab.bounds).intersect(xb).round();const {x1:Lb,y1:pc,x2:sc,y2:Vc}=fb;for(ab=pc;ab<=Vc;++ab)for(xb=Lb;xb<=sc;++xb)if(Ma.isPointInPath(xb,ab))return!0;return!1}}function $d(Da,ab){return ab.contains(Da.x||0,Da.y||0)}function Ba(Da,ab){const xb=Da.x||0,Lb=Da.y||0;return ab.intersects(fb.set(xb,
Lb,xb+(Da.width||0),Lb+(Da.height||0)))}function ua(Da,ab){const xb=Da.x||0,Lb=Da.y||0;return Ca(ab,xb,Lb,null!=Da.x2?Da.x2:xb,null!=Da.y2?Da.y2:Lb)}function Ca(Da,ab,xb,Lb,pc){const {x1:sc,y1:Vc,x2:pa,y2:Ra}=Da;Da=Lb-ab;pc-=xb;Lb=0;let mb=1,pb,gc,Qc,Xc;for(Xc=0;4>Xc;++Xc){0===Xc&&(pb=-Da,gc=-(sc-ab));1===Xc&&(pb=Da,gc=pa-ab);2===Xc&&(pb=-pc,gc=-(Vc-xb));3===Xc&&(pb=pc,gc=Ra-xb);if(1E-10>Math.abs(pb)&&0>gc)return!1;Qc=gc/pb;if(0>pb){if(Qc>mb)return!1;Qc>Lb&&(Lb=Qc)}else if(0<pb){if(Qc<Lb)return!1;
Qc<mb&&(mb=Qc)}}return!0}function $a(Da,ab){Da.globalCompositeOperation=ab.blend||"source-over"}function jb(Da,ab){return null==Da?ab:Da}function yb(Da,ab){const xb=ab.length;for(let Lb=0;Lb<xb;++Lb)Da.addColorStop(ab[Lb].offset,ab[Lb].color);return Da}function Ub(Da,ab,xb){const Lb=xb.width(),pc=xb.height();if("radial"===ab.gradient)Da=Da.createRadialGradient(xb.x1+jb(ab.x1,.5)*Lb,xb.y1+jb(ab.y1,.5)*pc,Math.max(Lb,pc)*jb(ab.r1,0),xb.x1+jb(ab.x2,.5)*Lb,xb.y1+jb(ab.y2,.5)*pc,Math.max(Lb,pc)*jb(ab.r2,
.5));else{const sc=jb(ab.x1,0),Vc=jb(ab.y1,0),pa=jb(ab.x2,1),Ra=jb(ab.y2,0);if(sc===pa||Vc===Ra||Lb===pc)Da=Da.createLinearGradient(xb.x1+sc*Lb,xb.y1+Vc*pc,xb.x1+pa*Lb,xb.y1+Ra*pc);else{xb=p.canvas(Math.ceil(Lb),Math.ceil(pc));const mb=xb.getContext("2d");mb.scale(Lb,pc);mb.fillStyle=yb(mb.createLinearGradient(sc,Vc,pa,Ra),ab.stops);mb.fillRect(0,0,Lb,pc);return Da.createPattern(xb,"no-repeat")}}return yb(Da,ab.stops)}function Tb(Da,ab,xb){xb*=null==ab.fillOpacity?1:ab.fillOpacity;return 0<xb?(Da.globalAlpha=
xb,ab=(xb=ab.fill)&&xb.gradient?Ub(Da,xb,ab.bounds):xb,Da.fillStyle=ab,!0):!1}function Vb(Da,ab,xb){var Lb=null!=(Lb=ab.strokeWidth)?Lb:1;if(0>=Lb)return!1;xb*=null==ab.strokeOpacity?1:ab.strokeOpacity;return 0<xb?(Da.globalAlpha=xb,xb=(xb=ab.stroke)&&xb.gradient?Ub(Da,xb,ab.bounds):xb,Da.strokeStyle=xb,Da.lineWidth=Lb,Da.lineCap=ab.strokeCap||"butt",Da.lineJoin=ab.strokeJoin||"miter",Da.miterLimit=ab.strokeMiterLimit||10,Da.setLineDash&&(Da.setLineDash(ab.strokeDash||Eb),Da.lineDashOffset=ab.strokeDashOffset||
0),!0):!1}function Ic(Da,ab){return Da.zindex-ab.zindex||Da.index-ab.index}function Yc(Da){if(!Da.zdirty)return Da.zitems;var ab=Da.items,xb=[],Lb;var pc=0;for(Lb=ab.length;pc<Lb;++pc){var sc=ab[pc];sc.index=pc;sc.zindex&&xb.push(sc)}Da.zdirty=!1;return Da.zitems=xb.sort(Ic)}function dd(Da,ab){var xb=Da.items,Lb;if(xb&&xb.length){var pc=Yc(Da);if(pc&&pc.length){Da=0;for(Lb=xb.length;Da<Lb;++Da)xb[Da].zindex||ab(xb[Da]);xb=pc}Da=0;for(Lb=xb.length;Da<Lb;++Da)ab(xb[Da])}}function nd(Da,ab){var xb=Da.items,
Lb,pc;if(!xb||!xb.length)return null;const sc=Yc(Da);sc&&sc.length&&(xb=sc);for(pc=xb.length;0<=--pc;)if(Lb=ab(xb[pc]))return Lb;if(xb===sc)for(xb=Da.items,pc=xb.length;0<=--pc;)if(!xb[pc].zindex&&(Lb=ab(xb[pc])))return Lb;return null}function xd(Da){return function(ab,xb,Lb){dd(xb,pc=>{Lb&&!Lb.intersects(pc.bounds)||Xd(Da,ab,pc,pc)})}}function Nd(Da){return function(ab,xb,Lb){!xb.items.length||Lb&&!Lb.intersects(xb.bounds)||Xd(Da,ab,xb.items[0],xb.items)}}function Xd(Da,ab,xb,Lb){var pc=null==xb.opacity?
1:xb.opacity;0===pc||Da(ab,Lb)||($a(ab,xb),xb.fill&&Tb(ab,xb,pc)&&ab.fill(),xb.stroke&&Vb(ab,xb,pc)&&ab.stroke())}function ge(Da){Da=Da||k.truthy;return function(ab,xb,Lb,pc,sc,Vc){Lb*=ab.pixelRatio;pc*=ab.pixelRatio;return nd(xb,pa=>{const Ra=pa.bounds;if((!Ra||Ra.contains(sc,Vc))&&Ra&&Da(ab,pa,Lb,pc,sc,Vc))return pa})}}function le(Da,ab){return function(xb,Lb,pc,sc){var Vc=Array.isArray(Lb)?Lb[0]:Lb,pa=null==ab?Vc.fill:ab,Ra=Vc.stroke&&xb.isPointInStroke;if(Ra){var mb=Vc.strokeWidth;Vc=Vc.strokeCap;
xb.lineWidth=null!=mb?mb:1;xb.lineCap=null!=Vc?Vc:"butt"}return Da(xb,Lb)?!1:pa&&xb.isPointInPath(pc,sc)||Ra&&xb.isPointInStroke(pc,sc)}}function qe(Da,ab){return"translate("+Da+","+ab+")"}function wd(Da,ab,xb){function Lb(pc,sc){var Vc=sc.x||0,pa=sc.y||0,Ra=sc.angle||0;pc.translate(Vc,pa);Ra&&pc.rotate(Ra*=tg);pc.beginPath();ab(pc,sc);Ra&&pc.rotate(-Ra);pc.translate(-Vc,-pa)}return{type:Da,tag:"path",nested:!1,attr:function(pc,sc){var Vc=qe(sc.x||0,sc.y||0)+(sc.angle?" rotate("+(sc.angle+")"):"");
pc("transform",Vc);pc("d",ab(null,sc))},bound:function(pc,sc){ab(mc(pc,sc.angle),sc);return Wb(pc,sc).translate(sc.x||0,sc.y||0)},draw:xd(Lb),pick:ge(le(Lb)),isect:xb||jd(Lb)}}function qf(Da,ab,xb){function Lb(sc,Vc){sc.beginPath();ab(sc,Vc)}const pc=le(Lb);return{type:Da,tag:"path",nested:!0,attr:function(sc,Vc){Vc=Vc.mark.items;Vc.length&&sc("d",ab(null,Vc))},bound:function(sc,Vc){Vc=Vc.items;if(0===Vc.length)return sc;ab(mc(sc),Vc);return Wb(sc,Vc[0])},draw:Nd(Lb),pick:function(sc,Vc,pa,Ra,mb,
pb){var gc=Vc.items;Vc=Vc.bounds;if(!gc||!gc.length||Vc&&!Vc.contains(mb,pb))return null;pa*=sc.pixelRatio;Ra*=sc.pixelRatio;return pc(sc,gc,pa,Ra)?gc[0]:null},isect:$d,tip:xb}}function gf(Da,ab){Da.beginPath();zc(ab)?Bc(Da,ab,0,0):Da.rect(0,0,ab.width||0,ab.height||0);Da.clip()}function te(Da){const ab=jb(Da.strokeWidth,1);return null!=Da.strokeOffset?Da.strokeOffset:Da.stroke&&.5<ab&&1.5>ab?.5-Math.abs(ab-1):0}function We(Da,ab,xb,Lb){const pc=te(ab);Da.beginPath();Bc(Da,ab,(xb||0)+pc,(Lb||0)+pc)}
function za(Da,ab){var xb=Da.image;if(!xb||Da.url&&Da.url!==xb.url)xb={complete:!1,width:0,height:0},ab.loadImage(Da.url).then(Lb=>{Da.image=Lb;Da.image.url=Da.url});return xb}function Za(Da,ab){return null!=Da.width?Da.width:ab&&ab.width?!1!==Da.aspect&&Da.height?Da.height*ab.width/ab.height:ab.width:0}function tb(Da,ab){return null!=Da.height?Da.height:ab&&ab.height?!1!==Da.aspect&&Da.width?Da.width*ab.height/ab.width:ab.height:0}function Jb(Da,ab){return"center"===Da?ab/2:"right"===Da?ab:0}function fc(Da,
ab){return"middle"===Da?ab/2:"bottom"===Da?ab:0}function nc(Da,ab){var xb=ab.path;if(null==xb)return!0;var Lb=ab.x||0,pc=ab.y||0,sc=ab.scaleX||1,Vc=ab.scaleY||1,pa=(ab.angle||0)*tg,Ra=ab.pathCache;Ra&&Ra.path===xb||((ab.pathCache=Ra=Ua(xb)).path=xb);pa&&Da.rotate&&Da.translate?(Da.translate(Lb,pc),Da.rotate(pa),ra(Da,Ra,0,0,sc,Vc),Da.rotate(-pa),Da.translate(-Lb,-pc)):ra(Da,Ra,Lb,pc,sc,Vc)}function Hc(Da,ab){Da.beginPath();Bc(Da,ab)}function Dc(Da,ab,xb){if(ab.stroke&&Vb(Da,ab,xb)){xb=ab.x||0;var Lb=
ab.y||0;var pc=null!=ab.x2?ab.x2:xb;ab=null!=ab.y2?ab.y2:Lb;Da.beginPath();Da.moveTo(xb,Lb);Da.lineTo(pc,ab);return!0}return!1}function lc(Da){dg.width=Da&&Ma?sd:ld}function ld(Da,ab){ab=Ce(Da,ab);Da=Vd(Da);return~~(.8*ab.length*Da)}function sd(Da,ab){return 0>=Vd(Da)||!(ab=Ce(Da,ab))?0:Hd(ab,Ge(Da))}function Hd(Da,ab){const xb=`(${ab}) ${Da}`;let Lb=ch.get(xb);void 0===Lb&&(Ma.font=ab,Lb=Ma.measureText(Da).width,ch.set(xb,Lb));return Lb}function Vd(Da){return null!=Da.fontSize?+Da.fontSize||0:11}
function be(Da){return null!=Da.lineHeight?Da.lineHeight:Vd(Da)+2}function he(Da){Da=Da.lineBreak&&Da.text&&!k.isArray(Da.text)?Da.text.split(Da.lineBreak):Da.text;return k.isArray(Da)?1<Da.length?Da:Da[0]:Da}function Ce(Da,ab){ab=null==ab?"":(ab+"").trim();if(0<Da.limit&&ab.length){var xb=+Da.limit,Lb=re(Da);if(!(Lb(ab)<xb)){var pc=Da.ellipsis||"",sc="rtl"===Da.dir;Da=0;var Vc=ab.length;xb-=Lb(pc);if(sc){for(;Da<Vc;)sc=Da+Vc>>>1,Lb(ab.slice(sc))>xb?Da=sc+1:Vc=sc;ab=pc+ab.slice(Da)}else{for(;Da<
Vc;)sc=1+(Da+Vc>>>1),Lb(ab.slice(0,sc))<xb?Da=sc:Vc=sc-1;ab=ab.slice(0,Da)+pc}}}return ab}function re(Da){if(dg.width===sd){const xb=Ge(Da);return Lb=>Hd(Lb,xb)}const ab=Vd(Da);return xb=>~~(.8*xb.length*ab)}function vf(Da,ab){Da=Da.font;return(ab&&Da?String(Da).replace(/"/g,"'"):Da)||"sans-serif"}function Ge(Da,ab){return(Da.fontStyle?Da.fontStyle+" ":"")+(Da.fontVariant?Da.fontVariant+" ":"")+(Da.fontWeight?Da.fontWeight+" ":"")+Vd(Da)+"px "+vf(Da,ab)}function Re(Da){var ab=Da.baseline,xb=Vd(Da);
return Math.round("top"===ab?.79*xb:"middle"===ab?.3*xb:"bottom"===ab?-.21*xb:"line-top"===ab?.29*xb+.5*be(Da):"line-bottom"===ab?.29*xb-.5*be(Da):0)}function af(Da){var ab=Da.x||0,xb=Da.y||0,Lb=Da.radius||0;Lb&&(Da=(Da.theta||0)-Sg,ab+=Lb*Math.cos(Da),xb+=Lb*Math.sin(Da));jg.x1=ab;jg.y1=xb;return jg}function Qb(Da,ab,xb){var Lb=dg.height(ab),pc=ab.align,sc=af(ab),Vc=sc.x1;sc=sc.y1;var pa=ab.dx||0,Ra=(ab.dy||0)+Re(ab)-Math.round(.8*Lb),mb=he(ab);k.isArray(mb)?(Lb+=be(ab)*(mb.length-1),mb=mb.reduce((pb,
gc)=>Math.max(pb,dg.width(ab,gc)),0)):mb=dg.width(ab,mb);"center"===pc?pa-=mb/2:"right"===pc&&(pa-=mb);Da.set(pa+=Vc,Ra+=sc,pa+mb,Ra+Lb);if(ab.angle&&!xb)Da.rotate(ab.angle*tg,Vc,sc);else if(2===xb)return Da.rotatedPoints(ab.angle*tg,Vc,sc);return Da}function rc(Da,ab,xb){var Lb=wh[Da.mark.marktype];ab=ab||Lb.bound;Lb.nested&&(Da=Da.mark);return ab(Da.bounds||(Da.bounds=new id),Da,xb)}function bd(Da,ab,xb){var Lb=wh[Da.marktype],pc=Lb.bound,sc=Da.items,Vc=sc&&sc.length;if(Lb.nested)return Vc?Da=sc[0]:
(Og.mark=Da,Da=Og),xb=rc(Da,pc,xb),ab=ab&&ab.union(xb)||xb;ab=ab||Da.bounds&&Da.bounds.clear()||new id;if(Vc)for(Lb=0,Vc=sc.length;Lb<Vc;++Lb)ab.union(rc(sc[Lb],pc,xb));return Da.bounds=ab}function Ad(Da,ab){return JSON.stringify(Da,zh,ab)}function xa(Da){Da="string"===typeof Da?JSON.parse(Da):Da;return Xa(Da)}function Xa(Da){var ab=Da.marktype,xb=Da.items,Lb;if(xb){var pc=0;for(Lb=xb.length;pc<Lb;++pc){var sc=ab?"mark":"group";xb[pc][sc]=Da;xb[pc].zindex&&(xb[pc][sc].zdirty=!0);"group"===(ab||sc)&&
Xa(xb[pc])}}ab&&bd(Da);return Da}function zb(Da){arguments.length?this.root=xa(Da):(this.root=Xb({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ab(this.root)])}function Xb(Da,ab){ab={bounds:new id,clip:!!Da.clip,group:ab,interactive:!1===Da.interactive?!1:!0,items:[],marktype:Da.marktype,name:Da.name||void 0,role:Da.role||void 0,zindex:Da.zindex||0};null!=Da.aria&&(ab.aria=Da.aria);Da.description&&(ab.description=Da.description);return ab}function tc(Da,ab,xb){!Da&&"undefined"!==
typeof document&&document.createElement&&(Da=document);return Da?xb?Da.createElementNS(xb,ab):Da.createElement(ab):null}function gd(Da,ab){ab=ab.toLowerCase();Da=Da.childNodes;for(var xb=0,Lb=Da.length;xb<Lb;++xb)if(Da[xb].tagName.toLowerCase()===ab)return Da[xb]}function qc(Da,ab,xb,Lb){ab=Da.childNodes[ab];if(!ab||ab.tagName.toLowerCase()!==xb.toLowerCase()){var pc=ab||null;ab=tc(Da.ownerDocument,xb,Lb);Da.insertBefore(ab,pc)}return ab}function rb(Da,ab){for(var xb=Da.childNodes,Lb=xb.length;Lb>
ab;)Da.removeChild(xb[--Lb]);return Da}function Bb(Da){return"mark-"+Da.marktype+(Da.role?" role-"+Da.role:"")+(Da.name?" "+Da.name:"")}function ic(Da,ab){const xb=ab.getBoundingClientRect();return[Da.clientX-xb.left-(ab.clientLeft||0),Da.clientY-xb.top-(ab.clientTop||0)]}function Uc(Da,ab){this._active=null;this._handlers={};this._loader=Da||q.loader();this._tooltip=ab||Rd}function Rd(Da,ab,xb,Lb){Da.element().setAttribute("title",Lb||"")}function Md(Da){this._bgcolor=this._el=null;this._loader=
new dc(Da)}function Gd(Da,ab){Uc.call(this,Da,ab);this._touch=this._down=null;this._first=!0;this._events={}}function Pd(Da,ab){("touchstart"===ab||"touchmove"===ab||"touchend"===ab?["touchstart","touchmove","touchend"]:[ab]).forEach(xb=>Me(Da,xb))}function Me(Da,ab){const xb=Da.canvas();xb&&!Da._events[ab]&&(Da._events[ab]=1,xb.addEventListener(ab,Da[ab]?Lb=>Da[ab](Lb):Lb=>Da.fire(ab,Lb)))}function Se(Da,ab,xb){return function(Lb){const pc=this._active,sc=this.pickEvent(Lb);sc!==pc&&(pc&&pc.exit||
this.fire(xb,Lb),this._active=sc,this.fire(ab,Lb));this.fire(Da,Lb)}}function ha(Da){return function(ab){this.fire(Da,ab);this._active=null}}function ob(Da){Md.call(this,Da);this._options={};this._redraw=!1;this._dirty=new id;this._tempb=new id}function Ea(Da,ab){Uc.call(this,Da,ab);const xb=this;xb._hrefHandler=$h(xb,(Lb,pc)=>{pc&&pc.href&&xb.handleHref(Lb,pc,pc.href)});xb._tooltipHandler=$h(xb,(Lb,pc)=>{xb.handleTooltip(Lb,pc,"mouseout"!==Lb.type)})}function Ib(Da,ab){var xb=!1===ab.aria;Da("aria-hidden",
xb||void 0);if(xb||null==ab.description)for(const Lb in jf)Da(jf[Lb],void 0);else xb=ab.mark.marktype,Da("aria-label",ab.description),Da("role",ab.ariaRole||("group"===xb?"graphics-object":"graphics-symbol")),Da("aria-roledescription",ab.ariaRoleDescription||`${xb} mark`)}function Yb(Da){return!1===Da.aria?{["aria-hidden"]:!0}:Ch[Da.role]?null:hf[Da.role]?Nc(Da,hf[Da.role]):kc(Da)}function kc(Da){const ab=Da.marktype,xb="group"===ab||"text"===ab||Da.items.some(Lb=>null!=Lb.description&&!1!==Lb.aria);
return df(xb?"graphics-object":"graphics-symbol",`${ab} mark container`,Da.description)}function Nc(Da,ab){try{const xb=Da.items[0],Lb=ab.caption||(()=>"");return df(ab.role||"graphics-symbol",ab.desc,xb.description||Lb(xb))}catch(xb){return null}}function Jc(Da){try{return k.array(k.peek(Da.items).items[0].text).join(" ")}catch(ab){return null}}function pd(Da){Da=Da.map(ab=>ab+("fill"===ab||"stroke"===ab?" color":""));return 2>Da.length?Da[0]:Da.slice(0,-1).join(", ")+" and "+k.peek(Da)}function qd(){let Da=
"",ab="",xb="";const Lb=[],pc=(Vc,pa)=>{null!=pa&&(ab+=` ${Vc}="${Pg(pa).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return sc},sc={open(Vc,...pa){ab&&(Da+=`${ab}>${xb}`,ab=xb="");Lb.push(Vc);ab="\x3c"+Vc;for(const Ra of pa)for(const mb in Ra)pc(mb,Ra[mb]);return sc},close(){const Vc=Lb.pop();Da=ab?Da+(ab+(xb?`>${xb}</${Vc}>`:"/\x3e")):Da+`</${Vc}>`;ab=xb="";return sc},attr:pc,text:Vc=>(xb+=Pg(Vc),sc),toString:()=>Da};return sc}function Yd(Da,
ab){Da.open(ab.tagName);if(ab.hasAttributes()){const xb=ab.attributes,Lb=xb.length;for(let pc=0;pc<Lb;++pc)Da.attr(xb[pc].name,xb[pc].value)}if(ab.hasChildNodes()){ab=ab.childNodes;for(const xb of ab)3===xb.nodeType?Da.text(xb.nodeValue):Yd(Da,xb)}return Da.close()}function Od(Da){Md.call(this,Da);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Jd(Da,ab){for(;Da&&Da.dirty!==ab;Da=Da.mark.group)if(Da.dirty=ab,Da.mark&&Da.mark.dirty!==ab)Da.mark.dirty=ab;else break}function ed(Da,
ab,xb){ab=ab.lastChild.previousSibling;let Lb,pc=0;dd(xb,sc=>{Lb=Da.mark(ab,sc,Lb);++pc});rb(ab,1+pc)}function td(Da,ab,xb,Lb,pc){let sc=Da._svg;if(!sc){var Vc=ab.ownerDocument;sc=tc(Vc,Lb,ue);Da._svg=sc;Da.mark&&(sc.__data__=Da,sc.__values__={fill:"default"},"g"===Lb&&(Lb=tc(Vc,"path",ue),sc.appendChild(Lb),Lb.__data__=Da,Lb=tc(Vc,"g",ue),sc.appendChild(Lb),Lb.__data__=Da,Vc=tc(Vc,"path",ue),sc.appendChild(Vc),Vc.__data__=Da,Vc.__values__={fill:"default"}))}(sc.ownerSVGElement!==pc||sc.parentNode&&
1<sc.parentNode.childNodes.length&&sc.previousSibling!=xb)&&ab.insertBefore(sc,xb?xb.nextSibling:ab.firstChild);return sc}function wc(Da,ab,xb){if(ab!==Pe[Da]){if(xb){var Lb=Df;null!=ab?Lb.setAttributeNS(xb,Da,ab):Lb.removeAttributeNS(xb,Da)}else ud(Df,Da,ab);Pe[Da]=ab}}function Rc(Da,ab,xb){xb!==Pe[ab]&&(null==xb?Da.style.removeProperty(ab):Da.style.setProperty(ab,xb+""),Pe[ab]=xb)}function Lc(Da,ab){for(const xb in ab)ud(Da,xb,ab[xb])}function ud(Da,ab,xb){null!=xb?Da.setAttribute(ab,xb):Da.removeAttribute(ab)}
function kb(){let Da;return"undefined"===typeof window?"":(Da=window.location).hash?Da.href.slice(0,-Da.hash.length):Da.href}function Gb(Da){Md.call(this,Da);this._text=null;this._defs={gradient:{},clipping:{}}}function Pb(Da,ab,xb,Lb,pc){let sc;if(null==ab)return Da;"bgrect"===Lb&&!1===xb.interactive&&(Da["pointer-events"]="none");if("bgfore"===Lb&&(!1===xb.interactive&&(Da["pointer-events"]="none"),Da.display="none",null!==ab.fill))return Da;"image"===Lb&&!1===ab.smooth&&(sc=["image-rendering: optimizeSpeed;",
"image-rendering: pixelated;"]);"text"===Lb&&(Da["font-family"]=vf(ab),Da["font-size"]=Vd(ab)+"px",Da["font-style"]=ab.fontStyle,Da["font-variant"]=ab.fontVariant,Da["font-weight"]=ab.fontWeight);for(const Vc in Yh)xb=ab[Vc],Lb=Yh[Vc],("transparent"!==xb||"fill"!==Lb&&"stroke"!==Lb)&&null!=xb&&(xb&&xb.gradient&&(xb=m(xb,pc.gradient,"")),Da[Lb]=xb);for(const Vc in ai)pc=ab[Vc],null!=pc&&(sc=sc||[],sc.push(`${ai[Vc]}: ${pc};`));sc&&(Da.style=sc.join(" "));return Da}function bc(Da,ab,xb,Lb){if(Da.bounds&&
ab.intersects(Da.bounds)&&("group"===Da.marktype||!1!==Da.interactive&&(!xb||xb(Da)))){const sc=Da.items;var pc=Da.marktype;Da=sc.length;let Vc=0;if("group"===pc)for(;Vc<Da;++Vc)fa(sc[Vc],ab,xb,Lb);else for(xb=wh[pc].isect;Vc<Da;++Vc)pc=sc[Vc],Ha(pc,ab,xb)&&Lb.push(pc)}return Lb}function fa(Da,ab,xb,Lb){xb&&xb(Da.mark)&&Ha(Da,ab,wh.group.isect)&&Lb.push(Da);const pc=Da.items,sc=pc&&pc.length;if(sc){const Vc=Da.x||0;Da=Da.y||0;ab.translate(-Vc,-Da);for(let pa=0;pa<sc;++pa)bc(pc[pa],ab,xb,Lb);ab.translate(Vc,
Da)}return Lb}function Ha(Da,ab,xb){const Lb=Da.bounds;return ab.encloses(Lb)||ab.intersects(Lb)&&xb(Da,ab)}function gb(Da,ab,xb){return Da===ab?!0:"path"===xb?Fb(Da,ab):Da instanceof Date&&ab instanceof Date?+Da===+ab:k.isNumber(Da)&&k.isNumber(ab)?1E-9>=Math.abs(Da-ab):Da&&ab&&(k.isObject(Da)||k.isObject(ab))?Kb(Da,ab):Da==ab}function Fb(Da,ab){return gb(Ua(Da),Ua(ab))}function Kb(Da,ab){var xb=Object.keys(Da),Lb=Object.keys(ab),pc;if(xb.length!==Lb.length)return!1;xb.sort();Lb.sort();for(pc=xb.length-
1;0<=pc;pc--)if(xb[pc]!=Lb[pc])return!1;for(pc=xb.length-1;0<=pc;pc--)if(Lb=xb[pc],!gb(Da[Lb],ab[Lb],Lb))return!1;return typeof Da===typeof ab}let Ob=0;const oc=Math.PI,Oc=2*oc,yc=Oc-1E-6;b.prototype=c.prototype={constructor:b,moveTo:function(Da,ab){this._+="M"+(this._x0=this._x1=+Da)+","+(this._y0=this._y1=+ab)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(Da,ab){this._+="L"+(this._x1=+Da)+","+(this._y1=+ab)},quadraticCurveTo:function(Da,
ab,xb,Lb){this._+="Q"+ +Da+","+ +ab+","+(this._x1=+xb)+","+(this._y1=+Lb)},bezierCurveTo:function(Da,ab,xb,Lb,pc,sc){this._+="C"+ +Da+","+ +ab+","+ +xb+","+ +Lb+","+(this._x1=+pc)+","+(this._y1=+sc)},arcTo:function(Da,ab,xb,Lb,pc){Da=+Da;ab=+ab;xb=+xb;Lb=+Lb;pc=+pc;var sc=this._x1,Vc=this._y1,pa=xb-Da,Ra=Lb-ab,mb=sc-Da,pb=Vc-ab,gc=mb*mb+pb*pb;if(0>pc)throw Error("negative radius: "+pc);if(null===this._x1)this._+="M"+(this._x1=Da)+","+(this._y1=ab);else if(1E-6<gc)if(1E-6<Math.abs(pb*pa-Ra*mb)&&pc){xb-=
sc;Lb-=Vc;var Qc=pa*pa+Ra*Ra;Vc=Math.sqrt(Qc);sc=Math.sqrt(gc);gc=pc*Math.tan((oc-Math.acos((Qc+gc-(xb*xb+Lb*Lb))/(2*Vc*sc)))/2);sc=gc/sc;gc/=Vc;1E-6<Math.abs(sc-1)&&(this._+="L"+(Da+sc*mb)+","+(ab+sc*pb));this._+="A"+pc+","+pc+",0,0,"+ +(pb*xb>mb*Lb)+","+(this._x1=Da+gc*pa)+","+(this._y1=ab+gc*Ra)}else this._+="L"+(this._x1=Da)+","+(this._y1=ab)},arc:function(Da,ab,xb,Lb,pc,sc){Da=+Da;ab=+ab;xb=+xb;sc=!!sc;var Vc=xb*Math.cos(Lb),pa=xb*Math.sin(Lb),Ra=Da+Vc,mb=ab+pa,pb=1^sc;Lb=sc?Lb-pc:pc-Lb;if(0>
xb)throw Error("negative radius: "+xb);if(null===this._x1)this._+="M"+Ra+","+mb;else if(1E-6<Math.abs(this._x1-Ra)||1E-6<Math.abs(this._y1-mb))this._+="L"+Ra+","+mb;xb&&(0>Lb&&(Lb=Lb%Oc+Oc),Lb>yc?this._+="A"+xb+","+xb+",0,1,"+pb+","+(Da-Vc)+","+(ab-pa)+"A"+xb+","+xb+",0,1,"+pb+","+(this._x1=Ra)+","+(this._y1=mb):1E-6<Lb&&(this._+="A"+xb+","+xb+",0,"+ +(Lb>=oc)+","+pb+","+(this._x1=Da+xb*Math.cos(pc))+","+(this._y1=ab+xb*Math.sin(pc))))},rect:function(Da,ab,xb,Lb){this._+="M"+(this._x0=this._x1=+Da)+
","+(this._y0=this._y1=+ab)+"h"+ +xb+"v"+ +Lb+"h"+-xb+"Z"},toString:function(){return this._}};const fd=Math.abs,Ec=Math.atan2,Fd=Math.cos,Be=Math.max,fe=Math.min,Ae=Math.sin,Zd=Math.sqrt,vd=Math.PI,Kd=vd/2,ee=2*vd;D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,ab){Da=+Da;ab=+ab;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(Da,ab):this._context.moveTo(Da,ab);break;case 1:this._point=2;default:this._context.lineTo(Da,ab)}}};var we={draw(Da,ab){ab=Zd(ab/vd);Da.moveTo(ab,0);Da.arc(0,0,ab,0,ee)}};ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:M(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==
this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,ab){Da=+Da;ab=+ab;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Da,ab):this._context.moveTo(Da,ab);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:M(this,Da,ab)}this._x0=this._x1;this._x1=Da;this._y0=this._y1;this._y1=ab}};W.prototype={areaStart:ca,areaEnd:ca,lineStart:function(){this._x0=this._x1=
this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(Da,
ab){Da=+Da;ab=+ab;switch(this._point){case 0:this._point=1;this._x2=Da;this._y2=ab;break;case 1:this._point=2;this._x3=Da;this._y3=ab;break;case 2:this._point=3;this._x4=Da;this._y4=ab;this._context.moveTo((this._x0+4*this._x1+Da)/6,(this._y0+4*this._y1+ab)/6);break;default:M(this,Da,ab)}this._x0=this._x1;this._x1=Da;this._y0=this._y1;this._y1=ab}};ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=
0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,ab){Da=+Da;ab=+ab;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var xb=(this._x0+4*this._x1+Da)/6,Lb=(this._y0+4*this._y1+ab)/6;this._line?this._context.lineTo(xb,Lb):this._context.moveTo(xb,Lb);break;case 3:this._point=4;default:M(this,Da,ab)}this._x0=this._x1;this._x1=Da;this._y0=this._y1;this._y1=ab}};La.prototype=
{lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var Da=this._x,ab=this._y,xb=Da.length-1;if(0<xb)for(var Lb=Da[0],pc=ab[0],sc=Da[xb]-Lb,Vc=ab[xb]-pc,pa=-1,Ra;++pa<=xb;)Ra=pa/xb,this._basis.point(this._beta*Da[pa]+(1-this._beta)*(Lb+Ra*sc),this._beta*ab[pa]+(1-this._beta)*(pc+Ra*Vc));this._x=this._y=null;this._basis.lineEnd()},point:function(Da,ab){this._x.push(+Da);this._y.push(+ab)}};var ye=function xb(ab){function Lb(pc){return 1===ab?new ba(pc):new La(pc,
ab)}Lb.beta=function(pc){return xb(+pc)};return Lb}(.85);C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:aa(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ab,xb){ab=+ab;xb=+xb;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(ab,xb):this._context.moveTo(ab,xb);break;case 1:this._point=2;this._x1=ab;this._y1=xb;break;case 2:this._point=3;default:aa(this,ab,xb)}this._x0=this._x1;this._x1=this._x2;this._x2=ab;this._y0=this._y1;this._y1=this._y2;this._y2=xb}};var Te=function Lb(xb){function pc(sc){return new C(sc,xb)}pc.tension=function(sc){return Lb(+sc)};return pc}(0);B.prototype={areaStart:ca,areaEnd:ca,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=
this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(xb,Lb){xb=+xb;Lb=+Lb;switch(this._point){case 0:this._point=1;this._x3=xb;this._y3=Lb;break;case 1:this._point=2;this._context.moveTo(this._x4=
xb,this._y4=Lb);break;case 2:this._point=3;this._x5=xb;this._y5=Lb;break;default:aa(this,xb,Lb)}this._x0=this._x1;this._x1=this._x2;this._x2=xb;this._y0=this._y1;this._y1=this._y2;this._y2=Lb}};var Id=function pc(Lb){function sc(Vc){return new B(Vc,Lb)}sc.tension=function(Vc){return pc(+Vc)};return sc}(0);N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Lb,pc){Lb=+Lb;pc=+pc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:aa(this,Lb,pc)}this._x0=this._x1;this._x1=this._x2;this._x2=Lb;this._y0=this._y1;this._y1=this._y2;this._y2=pc}};var sf=function sc(pc){function Vc(pa){return new N(pa,
pc)}Vc.tension=function(pa){return sc(+pa)};return Vc}(0);Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(pc,sc){pc=+pc;sc=+sc;if(this._point){var Vc=this._x2-pc,pa=this._y2-sc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Vc*Vc+pa*pa,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pc,sc):this._context.moveTo(pc,sc);break;case 1:this._point=2;break;case 2:this._point=3;default:Y(this,pc,sc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;
this._x2=pc;this._y0=this._y1;this._y1=this._y2;this._y2=sc}};var zf=function Vc(sc){function pa(Ra){return sc?new Aa(Ra,sc):new C(Ra,0)}pa.alpha=function(Ra){return Vc(+Ra)};return pa}(.5);sa.prototype={areaStart:ca,areaEnd:ca,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(sc,Vc){sc=+sc;Vc=+Vc;if(this._point){var pa=this._x2-sc,Ra=this._y2-Vc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(pa*pa+Ra*Ra,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=sc;this._y3=Vc;break;case 1:this._point=2;this._context.moveTo(this._x4=sc,
this._y4=Vc);break;case 2:this._point=3;this._x5=sc;this._y5=Vc;break;default:Y(this,sc,Vc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=sc;this._y0=this._y1;this._y1=this._y2;this._y2=Vc}};var Ff=function pa(Vc){function Ra(mb){return Vc?new sa(mb,Vc):new B(mb,0)}Ra.alpha=function(mb){return pa(+mb)};return Ra}(.5);la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},
lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Vc,pa){Vc=+Vc;pa=+pa;if(this._point){var Ra=this._x2-Vc,mb=this._y2-pa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ra*Ra+mb*mb,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Y(this,Vc,pa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Vc;this._y0=this._y1;this._y1=this._y2;this._y2=pa}};var $g=function Ra(pa){function mb(pb){return pa?new la(pb,pa):new N(pb,0)}mb.alpha=function(pb){return Ra(+pb)};return mb}(.5);Ia.prototype=
{areaStart:ca,areaEnd:ca,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(pa,Ra){pa=+pa;Ra=+Ra;this._point?this._context.lineTo(pa,Ra):(this._point=1,this._context.moveTo(pa,Ra))}};ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;
case 3:Ja(this,this._t0,ib(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pa,Ra){var mb=NaN;pa=+pa;Ra=+Ra;if(pa!==this._x1||Ra!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pa,Ra):this._context.moveTo(pa,Ra);break;case 1:this._point=2;break;case 2:this._point=3;Ja(this,ib(this,mb=bb(this,pa,Ra)),mb);break;default:Ja(this,this._t0,mb=bb(this,pa,Ra))}this._x0=this._x1;this._x1=pa;
this._y0=this._y1;this._y1=Ra;this._t0=mb}}};(Fa.prototype=Object.create(ma.prototype)).point=function(pa,Ra){ma.prototype.point.call(this,Ra,pa)};Pa.prototype={moveTo:function(pa,Ra){this._context.moveTo(Ra,pa)},closePath:function(){this._context.closePath()},lineTo:function(pa,Ra){this._context.lineTo(Ra,pa)},bezierCurveTo:function(pa,Ra,mb,pb,gc,Qc){this._context.bezierCurveTo(Ra,pa,pb,mb,Qc,gc)}};qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=
[];this._y=[]},lineEnd:function(){var pa=this._x,Ra=this._y,mb=pa.length;if(mb)if(this._line?this._context.lineTo(pa[0],Ra[0]):this._context.moveTo(pa[0],Ra[0]),2===mb)this._context.lineTo(pa[1],Ra[1]);else for(var pb=ya(pa),gc=ya(Ra),Qc=0,Xc=1;Xc<mb;++Qc,++Xc)this._context.bezierCurveTo(pb[0][Qc],gc[0][Qc],pb[1][Qc],gc[1][Qc],pa[Xc],Ra[Xc]);(this._line||0!==this._line&&1===mb)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(pa,Ra){this._x.push(+pa);this._y.push(+Ra)}};
oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(pa,Ra){pa=+pa;Ra=+Ra;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pa,Ra):this._context.moveTo(pa,
Ra);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Ra),this._context.lineTo(pa,Ra);else{var mb=this._x*(1-this._t)+pa*this._t;this._context.lineTo(mb,this._y);this._context.lineTo(mb,Ra)}}this._x=pa;this._y=Ra}};const ie={basis:{curve:function(pa){return new ba(pa)}},"basis-closed":{curve:function(pa){return new W(pa)}},"basis-open":{curve:function(pa){return new ea(pa)}},bundle:{curve:ye,tension:"beta",value:.85},cardinal:{curve:Te,tension:"tension",value:0},"cardinal-open":{curve:sf,
tension:"tension",value:0},"cardinal-closed":{curve:Id,tension:"tension",value:0},"catmull-rom":{curve:zf,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Ff,tension:"alpha",value:.5},"catmull-rom-open":{curve:$g,tension:"alpha",value:.5},linear:{curve:r},"linear-closed":{curve:function(pa){return new Ia(pa)}},monotone:{horizontal:function(pa){return new Fa(pa)},vertical:function(pa){return new ma(pa)}},natural:{curve:function(pa){return new qa(pa)}},step:{curve:function(pa){return new oa(pa,
.5)}},"step-after":{curve:function(pa){return new oa(pa,1)}},"step-before":{curve:function(pa){return new oa(pa,0)}}},mf={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Sf=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Gf=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Ag=/^((\s+,?\s*)|(,\s*))/,ng=/^[01]/,tg=Math.PI/180,Sg=Math.PI/2,ig=2*Math.PI,Bf=Math.sqrt(3)/2;var ug={},og={},Tf=[].join;const Wf=["l",0,0,0,0,0,0,0],Tg={circle:{draw:function(pa,Ra){Ra=Math.sqrt(Ra)/2;pa.moveTo(Ra,0);pa.arc(0,0,Ra,
0,ig)}},cross:{draw:function(pa,Ra){Ra=Math.sqrt(Ra)/2;var mb=Ra/2.5;pa.moveTo(-Ra,-mb);pa.lineTo(-Ra,mb);pa.lineTo(-mb,mb);pa.lineTo(-mb,Ra);pa.lineTo(mb,Ra);pa.lineTo(mb,mb);pa.lineTo(Ra,mb);pa.lineTo(Ra,-mb);pa.lineTo(mb,-mb);pa.lineTo(mb,-Ra);pa.lineTo(-mb,-Ra);pa.lineTo(-mb,-mb);pa.closePath()}},diamond:{draw:function(pa,Ra){Ra=Math.sqrt(Ra)/2;pa.moveTo(-Ra,0);pa.lineTo(0,-Ra);pa.lineTo(Ra,0);pa.lineTo(0,Ra);pa.closePath()}},square:{draw:function(pa,Ra){Ra=Math.sqrt(Ra);var mb=-Ra/2;pa.rect(mb,
mb,Ra,Ra)}},arrow:{draw:function(pa,Ra){Ra=Math.sqrt(Ra)/2;var mb=Ra/7,pb=Ra/2.5,gc=Ra/8;pa.moveTo(-mb,Ra);pa.lineTo(mb,Ra);pa.lineTo(mb,-gc);pa.lineTo(pb,-gc);pa.lineTo(0,-Ra);pa.lineTo(-pb,-gc);pa.lineTo(-mb,-gc);pa.closePath()}},wedge:{draw:function(pa,Ra){var mb=Math.sqrt(Ra)/2;Ra=Bf*mb;var pb=Ra-.5773502691896257*mb;mb/=4;pa.moveTo(0,-Ra-pb);pa.lineTo(-mb,Ra-pb);pa.lineTo(mb,Ra-pb);pa.closePath()}},triangle:{draw:function(pa,Ra){Ra=Math.sqrt(Ra)/2;var mb=Bf*Ra,pb=mb-.5773502691896257*Ra;pa.moveTo(0,
-mb-pb);pa.lineTo(-Ra,mb-pb);pa.lineTo(Ra,mb-pb);pa.closePath()}},"triangle-up":{draw:function(pa,Ra){Ra=Math.sqrt(Ra)/2;var mb=Bf*Ra;pa.moveTo(0,-mb);pa.lineTo(-Ra,mb);pa.lineTo(Ra,mb);pa.closePath()}},"triangle-down":{draw:function(pa,Ra){Ra=Math.sqrt(Ra)/2;var mb=Bf*Ra;pa.moveTo(0,mb);pa.lineTo(-Ra,-mb);pa.lineTo(Ra,-mb);pa.closePath()}},"triangle-right":{draw:function(pa,Ra){Ra=Math.sqrt(Ra)/2;var mb=Bf*Ra;pa.moveTo(mb,0);pa.lineTo(-mb,-Ra);pa.lineTo(-mb,Ra);pa.closePath()}},"triangle-left":{draw:function(pa,
Ra){Ra=Math.sqrt(Ra)/2;var mb=Bf*Ra;pa.moveTo(-mb,0);pa.lineTo(mb,-Ra);pa.lineTo(mb,Ra);pa.closePath()}},stroke:{draw:function(pa,Ra){Ra=Math.sqrt(Ra)/2;pa.moveTo(-Ra,0);pa.lineTo(Ra,0)}}};var bh={};const Mg=pa=>pa.x||0,Ig=pa=>pa.y||0,Ng=pa=>!1!==pa.defined,Wa=function(){function pa(){var Sd,Td=+Ra.apply(this,arguments),De=+mb.apply(this,arguments),tf=Qc.apply(this,arguments)-Kd,Ze=Xc.apply(this,arguments)-Kd,cf=fd(Ze-tf),Bg=Ze>tf;Tc||(Tc=Sd=c());if(De<Td){var gg=De;De=Td;Td=gg}if(1E-12<De)if(cf>
ee-1E-12)Tc.moveTo(De*Fd(tf),De*Ae(tf)),Tc.arc(0,0,De,tf,Ze,!Bg),1E-12<Td&&(Tc.moveTo(Td*Fd(Ze),Td*Ae(Ze)),Tc.arc(0,0,Td,Ze,tf,Bg));else{var He=tf,pf=Ze;gg=tf;var Hf=Ze,mg=cf,ci=cf,Rg=Bd.apply(this,arguments)/2,Cg=1E-12<Rg&&(gc?+gc.apply(this,arguments):Zd(Td*Td+De*De)),li=fe(fd(De-Td)/2,+pb.apply(this,arguments)),xg=li,Ah=li;if(1E-12<Cg){var Kg=g(Cg/Td*Ae(Rg));Rg=g(Cg/De*Ae(Rg));1E-12<(mg-=2*Kg)?(Kg*=Bg?1:-1,gg+=Kg,Hf-=Kg):(mg=0,gg=Hf=(tf+Ze)/2);1E-12<(ci-=2*Rg)?(Rg*=Bg?1:-1,He+=Rg,pf-=Rg):(ci=0,
He=pf=(tf+Ze)/2)}tf=De*Fd(He);Ze=De*Ae(He);Kg=Td*Fd(Hf);Rg=Td*Ae(Hf);if(1E-12<li){var eh=De*Fd(pf),ii=De*Ae(pf),ji=Td*Fd(gg),Lf=Td*Ae(gg);if(cf=cf<vd){var Yg=ji-tf;cf=Lf-Ze;Cg=Kg-eh;var xh=Rg-ii,Ih=xh*Yg-Cg*cf;1E-12>Ih*Ih?Yg=void 0:(Ih=(Cg*(Ze-ii)-xh*(tf-eh))/Ih,Yg=[tf+Ih*Yg,Ze+Ih*cf]);cf=Yg}cf&&(xg=tf-Yg[0],Ah=Ze-Yg[1],cf=eh-Yg[0],Cg=ii-Yg[1],xg=(xg*cf+Ah*Cg)/(Zd(xg*xg+Ah*Ah)*Zd(cf*cf+Cg*Cg)),Ah=1/Ae((1<xg?0:-1>xg?vd:Math.acos(xg))/2),Yg=Zd(Yg[0]*Yg[0]+Yg[1]*Yg[1]),xg=fe(li,(Td-Yg)/(Ah-1)),Ah=fe(li,
(De-Yg)/(Ah+1)))}1E-12<ci?1E-12<Ah?(He=F(ji,Lf,tf,Ze,De,Ah,Bg),pf=F(eh,ii,Kg,Rg,De,Ah,Bg),Tc.moveTo(He.cx+He.x01,He.cy+He.y01),Ah<li?Tc.arc(He.cx,He.cy,Ah,Ec(He.y01,He.x01),Ec(pf.y01,pf.x01),!Bg):(Tc.arc(He.cx,He.cy,Ah,Ec(He.y01,He.x01),Ec(He.y11,He.x11),!Bg),Tc.arc(0,0,De,Ec(He.cy+He.y11,He.cx+He.x11),Ec(pf.cy+pf.y11,pf.cx+pf.x11),!Bg),Tc.arc(pf.cx,pf.cy,Ah,Ec(pf.y11,pf.x11),Ec(pf.y01,pf.x01),!Bg))):(Tc.moveTo(tf,Ze),Tc.arc(0,0,De,He,pf,!Bg)):Tc.moveTo(tf,Ze);1E-12<Td&&1E-12<mg?1E-12<xg?(He=F(Kg,
Rg,eh,ii,Td,-xg,Bg),pf=F(tf,Ze,ji,Lf,Td,-xg,Bg),Tc.lineTo(He.cx+He.x01,He.cy+He.y01),xg<li?Tc.arc(He.cx,He.cy,xg,Ec(He.y01,He.x01),Ec(pf.y01,pf.x01),!Bg):(Tc.arc(He.cx,He.cy,xg,Ec(He.y01,He.x01),Ec(He.y11,He.x11),!Bg),Tc.arc(0,0,Td,Ec(He.cy+He.y11,He.cx+He.x11),Ec(pf.cy+pf.y11,pf.cx+pf.x11),Bg),Tc.arc(pf.cx,pf.cy,xg,Ec(pf.y11,pf.x11),Ec(pf.y01,pf.x01),!Bg))):Tc.arc(0,0,Td,Hf,gg,Bg):Tc.lineTo(Kg,Rg)}else Tc.moveTo(0,0);Tc.closePath();if(Sd)return Tc=null,Sd+""||null}var Ra=n,mb=h,pb=e(0),gc=null,Qc=
x,Xc=O,Bd=H,Tc=null;pa.centroid=function(){var Sd=(+Ra.apply(this,arguments)+ +mb.apply(this,arguments))/2,Td=(+Qc.apply(this,arguments)+ +Xc.apply(this,arguments))/2-vd/2;return[Fd(Td)*Sd,Ae(Td)*Sd]};pa.innerRadius=function(Sd){return arguments.length?(Ra="function"===typeof Sd?Sd:e(+Sd),pa):Ra};pa.outerRadius=function(Sd){return arguments.length?(mb="function"===typeof Sd?Sd:e(+Sd),pa):mb};pa.cornerRadius=function(Sd){return arguments.length?(pb="function"===typeof Sd?Sd:e(+Sd),pa):pb};pa.padRadius=
function(Sd){return arguments.length?(gc=null==Sd?null:"function"===typeof Sd?Sd:e(+Sd),pa):gc};pa.startAngle=function(Sd){return arguments.length?(Qc="function"===typeof Sd?Sd:e(+Sd),pa):Qc};pa.endAngle=function(Sd){return arguments.length?(Xc="function"===typeof Sd?Sd:e(+Sd),pa):Xc};pa.padAngle=function(Sd){return arguments.length?(Bd="function"===typeof Sd?Sd:e(+Sd),pa):Bd};pa.context=function(Sd){return arguments.length?(Tc=null==Sd?null:Sd,pa):Tc};return pa}().startAngle(pa=>pa.startAngle||0).endAngle(pa=>
pa.endAngle||0).padAngle(pa=>pa.padAngle||0).innerRadius(pa=>pa.innerRadius||0).outerRadius(pa=>pa.outerRadius||0).cornerRadius(pa=>pa.cornerRadius||0),Cb=R().x(Mg).y1(Ig).y0(pa=>(pa.y||0)+(pa.height||0)).defined(Ng),hc=R().y(Ig).x1(Mg).x0(pa=>(pa.x||0)+(pa.width||0)).defined(Ng),yd=T().x(Mg).y(Ig).defined(Ng),Dd=Mb().x(Mg).y(Ig).width(pa=>pa.width||0).height(pa=>pa.height||0).cornerRadius(pa=>Gc(pa.cornerRadiusTopLeft,pa.cornerRadius)||0,pa=>Gc(pa.cornerRadiusTopRight,pa.cornerRadius)||0,pa=>Gc(pa.cornerRadiusBottomRight,
pa.cornerRadius)||0,pa=>Gc(pa.cornerRadiusBottomLeft,pa.cornerRadius)||0),ne=function(pa,Ra){function mb(){let gc;pb||(pb=gc=c());pa.apply(this,arguments).draw(pb,+Ra.apply(this,arguments));if(gc)return pb=null,gc+""||null}let pb=null;pa="function"===typeof pa?pa:e(pa||we);Ra="function"===typeof Ra?Ra:e(void 0===Ra?64:+Ra);mb.type=function(gc){return arguments.length?(pa="function"===typeof gc?gc:e(gc),mb):pa};mb.size=function(gc){return arguments.length?(Ra="function"===typeof gc?gc:e(+gc),mb):Ra};
mb.context=function(gc){return arguments.length?(pb=null==gc?null:gc,mb):pb};return mb}().type(pa=>ja(pa.shape||"circle")).size(pa=>Gc(pa.size,64)),of=$b().x(Mg).y(Ig).defined(Ng).size(pa=>pa.size||1);var uf=1;id.prototype={clone(){return new id(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},
equals(pa){return this.x1===pa.x1&&this.y1===pa.y1&&this.x2===pa.x2&&this.y2===pa.y2},set(pa,Ra,mb,pb){mb<pa?(this.x2=pa,this.x1=mb):(this.x1=pa,this.x2=mb);pb<Ra?(this.y2=Ra,this.y1=pb):(this.y1=Ra,this.y2=pb);return this},add(pa,Ra){pa<this.x1&&(this.x1=pa);Ra<this.y1&&(this.y1=Ra);pa>this.x2&&(this.x2=pa);Ra>this.y2&&(this.y2=Ra);return this},expand(pa){this.x1-=pa;this.y1-=pa;this.x2+=pa;this.y2+=pa;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);
this.y2=Math.ceil(this.y2);return this},scale(pa){this.x1*=pa;this.y1*=pa;this.x2*=pa;this.y2*=pa;return this},translate(pa,Ra){this.x1+=pa;this.x2+=pa;this.y1+=Ra;this.y2+=Ra;return this},rotate(pa,Ra,mb){pa=this.rotatedPoints(pa,Ra,mb);return this.clear().add(pa[0],pa[1]).add(pa[2],pa[3]).add(pa[4],pa[5]).add(pa[6],pa[7])},rotatedPoints(pa,Ra,mb){var {x1:pb,y1:gc,x2:Qc,y2:Xc}=this,Bd=Math.cos(pa);pa=Math.sin(pa);var Tc=Ra-Ra*Bd+mb*pa;Ra=mb-Ra*pa-mb*Bd;return[Bd*pb-pa*gc+Tc,pa*pb+Bd*gc+Ra,Bd*pb-
pa*Xc+Tc,pa*pb+Bd*Xc+Ra,Bd*Qc-pa*gc+Tc,pa*Qc+Bd*gc+Ra,Bd*Qc-pa*Xc+Tc,pa*Qc+Bd*Xc+Ra]},union(pa){pa.x1<this.x1&&(this.x1=pa.x1);pa.y1<this.y1&&(this.y1=pa.y1);pa.x2>this.x2&&(this.x2=pa.x2);pa.y2>this.y2&&(this.y2=pa.y2);return this},intersect(pa){pa.x1>this.x1&&(this.x1=pa.x1);pa.y1>this.y1&&(this.y1=pa.y1);pa.x2<this.x2&&(this.x2=pa.x2);pa.y2<this.y2&&(this.y2=pa.y2);return this},encloses(pa){return pa&&this.x1<=pa.x1&&this.x2>=pa.x2&&this.y1<=pa.y1&&this.y2>=pa.y2},alignsWith(pa){return pa&&(this.x1==
pa.x1||this.x2==pa.x2||this.y1==pa.y1||this.y2==pa.y2)},intersects(pa){return pa&&!(this.x2<pa.x1||this.x1>pa.x2||this.y2<pa.y1||this.y1>pa.y2)},contains(pa,Ra){return!(pa<this.x1||pa>this.x2||Ra<this.y1||Ra>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};k.inherits(Ab,Hb);dc.prototype={pending(){return this._pending},sanitizeURL(pa){const Ra=this;Ra._pending+=1;return Ra._loader.sanitize(pa,{context:"href"}).then(mb=>{--Ra._pending;return mb}).catch(()=>{--Ra._pending;
return null})},loadImage(pa){const Ra=this,mb=p.image();Ra._pending+=1;return Ra._loader.sanitize(pa,{context:"image"}).then(pb=>{const gc=pb.href;if(!gc||!mb)throw{url:gc};const Qc=new mb;pb=k.hasOwnProperty(pb,"crossOrigin")?pb.crossOrigin:"anonymous";null!=pb&&(Qc.crossOrigin=pb);Qc.onload=()=>{--Ra._pending};Qc.onerror=()=>{--Ra._pending};Qc.src=gc;return Qc}).catch(pb=>{--Ra._pending;return{complete:!1,width:0,height:0,src:pb&&pb.url||""}})},ready(){const pa=this;return new Promise(Ra=>{function mb(pb){pa.pending()?
setTimeout(()=>{mb(!0)},10):Ra(pb)}mb(!1)})}};const Wg=ig-1E-8;let Uf,Xg,Fh,ph,vg,Ug,nh,qh;const Lh=(pa,Ra)=>{pa=Xg=pa;Ra=Fh=Ra;return Uf.add(pa,Ra)},uh=pa=>Uf.add(pa,Uf.y1),Eh=pa=>Uf.add(Uf.x1,pa),Jg=(pa,Ra)=>Uf.add(vg*pa+nh*Ra,Ug*pa+qh*Ra),K=(pa,Ra)=>Lh(vg*pa+nh*Ra,Ug*pa+qh*Ra),da={beginPath(){},closePath(){},moveTo:K,lineTo:K,rect(pa,Ra,mb,pb){ph?(Jg(pa+mb,Ra),Jg(pa+mb,Ra+pb),Jg(pa,Ra+pb),K(pa,Ra)):(Uf.add(pa+mb,Ra+pb),Lh(pa,Ra))},quadraticCurveTo(pa,Ra,mb,pb){const gc=Ug*pa+qh*Ra,Qc=vg*mb+nh*
pb;mb=Ug*mb+qh*pb;Kc(Xg,vg*pa+nh*Ra,Qc,uh);Kc(Fh,gc,mb,Eh);Lh(Qc,mb)},bezierCurveTo(pa,Ra,mb,pb,gc,Qc){const Xc=Ug*pa+qh*Ra,Bd=Ug*mb+qh*pb,Tc=vg*gc+nh*Qc;gc=Ug*gc+qh*Qc;Fc(Xg,vg*pa+nh*Ra,vg*mb+nh*pb,Tc,uh);Fc(Fh,Xc,Bd,gc,Eh);Lh(Tc,gc)},arc(pa,Ra,mb,pb,gc,Qc){pb+=ph;gc+=ph;Xg=mb*Math.cos(gc)+pa;Fh=mb*Math.sin(gc)+Ra;if(Math.abs(gc-pb)>Wg)Uf.add(pa-mb,Ra-mb),Uf.add(pa+mb,Ra+mb);else{const Xc=Tc=>Uf.add(mb*Math.cos(Tc)+pa,mb*Math.sin(Tc)+Ra);let Bd;Xc(pb);Xc(gc);if(gc!==pb)if(pb%=ig,0>pb&&(pb+=ig),gc%=
ig,0>gc&&(gc+=ig),gc<pb&&(Qc=!Qc,Bd=pb,pb=gc,gc=Bd),Qc)for(gc-=ig,Bd=pb-pb%Sg,pb=0;4>pb&&Bd>gc;++pb,Bd-=Sg)Xc(Bd);else for(Bd=pb-pb%Sg+Sg,pb=0;4>pb&&Bd<gc;++pb,Bd+=Sg)Xc(Bd)}}};var Ma=(Ma=p.canvas(1,1))?Ma.getContext("2d"):null;const fb=new id;var Eb=[],Sb=wd("arc",function(pa,Ra){return Wa.context(pa)(Ra)}),Cc=qf("area",function(pa,Ra){const mb=Ra[0];return("horizontal"===mb.orient?hc:Cb).curve(va(mb.interpolate||"linear",mb.orient,mb.tension)).context(pa)(Ra)},function(pa,Ra){Ra="horizontal"===
pa[0].orient?Ra[1]:Ra[0];for(var mb="horizontal"===pa[0].orient?"y":"x",pb=pa.length,gc=Infinity,Qc,Xc;0<=--pb;)!1!==pa[pb].defined&&(Xc=Math.abs(pa[pb][mb]-Ra),Xc<gc&&(gc=Xc,Qc=pa[pb]));return Qc});const Zc=le(We),$c=le(We,!1),rd=le(We,!0);var ce={type:"group",tag:"g",nested:!1,attr:function(pa,Ra){pa("transform",qe(Ra.x||0,Ra.y||0))},bound:function(pa,Ra){if(!Ra.clip&&Ra.items){const mb=Ra.items,pb=mb.length;for(let gc=0;gc<pb;++gc)pa.union(mb[gc].bounds)}(Ra.clip||Ra.width||Ra.height)&&!Ra.noBound&&
pa.add(0,0).add(Ra.width||0,Ra.height||0);Wb(pa,Ra);return pa.translate(Ra.x||0,Ra.y||0)},draw:function(pa,Ra,mb){dd(Ra,pb=>{const gc=pb.x||0,Qc=pb.y||0,Xc=pb.strokeForeground,Bd=null==pb.opacity?1:pb.opacity;(pb.stroke||pb.fill)&&Bd&&(We(pa,pb,gc,Qc),$a(pa,pb),pb.fill&&Tb(pa,pb,Bd)&&pa.fill(),pb.stroke&&!Xc&&Vb(pa,pb,Bd)&&pa.stroke());pa.save();pa.translate(gc,Qc);pb.clip&&gf(pa,pb);mb&&mb.translate(-gc,-Qc);dd(pb,Tc=>{this.draw(pa,Tc,mb)});mb&&mb.translate(gc,Qc);pa.restore();Xc&&pb.stroke&&Bd&&
(We(pa,pb,gc,Qc),$a(pa,pb),Vb(pa,pb,Bd)&&pa.stroke())})},pick:function(pa,Ra,mb,pb,gc,Qc){if(Ra.bounds&&!Ra.bounds.contains(gc,Qc)||!Ra.items)return null;const Xc=mb*pa.pixelRatio,Bd=pb*pa.pixelRatio;return nd(Ra,Tc=>{let Sd,Td;var De=Tc.bounds;if(!De||De.contains(gc,Qc)){Sd=Tc.x||0;Td=Tc.y||0;De=Sd+(Tc.width||0);var tf=Td+(Tc.height||0),Ze=Tc.clip;if(!Ze||!(gc<Sd||gc>De||Qc<Td||Qc>tf)){pa.save();pa.translate(Sd,Td);Sd=gc-Sd;Td=Qc-Td;if(Ze&&zc(Tc)&&!rd(pa,Tc,Xc,Bd))return pa.restore(),null;tf=Tc.strokeForeground;
if((Ze=!1!==Ra.interactive)&&tf&&Tc.stroke&&$c(pa,Tc,Xc,Bd))return pa.restore(),Tc;De=nd(Tc,cf=>(!1!==cf.interactive||"group"===cf.marktype)&&cf.bounds&&cf.bounds.contains(Sd,Td)?this.pick(cf,mb,pb,Sd,Td):null);!De&&Ze&&(Tc.fill||!tf&&Tc.stroke)&&Zc(pa,Tc,Xc,Bd)&&(De=Tc);pa.restore();return De||null}}})},isect:Ba,content:function(pa,Ra,mb){Ra=Ra.clip?uc(mb,Ra,Ra):null;pa("clip-path",Ra)},background:function(pa,Ra){pa("class","background");pa("aria-hidden",!0);const mb=te(Ra);pa("d",Bc(null,Ra,mb,
mb))},foreground:function(pa,Ra){pa("class","foreground");pa("aria-hidden",!0);if(Ra.strokeForeground){const mb=te(Ra);pa("d",Bc(null,Ra,mb,mb))}else pa("d","")}},ze={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},ef={type:"image",tag:"image",nested:!1,attr:function(pa,Ra,mb){var pb=za(Ra,mb);mb=Za(Ra,pb);const gc=tb(Ra,pb),Qc=(Ra.x||0)-Jb(Ra.align,mb),Xc=(Ra.y||0)-fc(Ra.baseline,gc);pb=!pb.src&&pb.toDataURL?pb.toDataURL():pb.src||"";pa("href",pb,ze["xmlns:xlink"],
"xlink:href");pa("transform",qe(Qc,Xc));pa("width",mb);pa("height",gc);pa("preserveAspectRatio",!1===Ra.aspect?"none":"xMidYMid")},bound:function(pa,Ra){var mb=Ra.image;const pb=Za(Ra,mb);mb=tb(Ra,mb);const gc=(Ra.x||0)-Jb(Ra.align,pb);Ra=(Ra.y||0)-fc(Ra.baseline,mb);return pa.set(gc,Ra,gc+pb,Ra+mb)},draw:function(pa,Ra,mb){dd(Ra,pb=>{if(!mb||mb.intersects(pb.bounds)){var gc=za(pb,this),Qc=Za(pb,gc),Xc=tb(pb,gc);if(0!==Qc&&0!==Xc){var Bd=(pb.x||0)-Jb(pb.align,Qc),Tc=(pb.y||0)-fc(pb.baseline,Xc),Sd;
if(!1!==pb.aspect){var Td=gc.width/gc.height;var De=pb.width/pb.height;Td===Td&&De===De&&Td!==De&&(De<Td?(Td=Qc/Td,Tc+=(Xc-Td)/2,Xc=Td):(Td*=Xc,Bd+=(Qc-Td)/2,Qc=Td))}if(gc.complete||gc.toDataURL)$a(pa,pb),pa.globalAlpha=null!=(Sd=pb.opacity)?Sd:1,pa.imageSmoothingEnabled=!1!==pb.smooth,pa.drawImage(gc,Bd,Tc,Qc,Xc)}}})},pick:ge(),isect:k.truthy,get:za,xOffset:Jb,yOffset:fc},Cf=qf("line",function(pa,Ra){const mb=Ra[0];return yd.curve(va(mb.interpolate||"linear",mb.orient,mb.tension)).context(pa)(Ra)},
function(pa,Ra){for(var mb=Math.pow(pa[0].strokeWidth||1,2),pb=pa.length,gc,Qc;0<=--pb;)if(!1!==pa[pb].defined&&(gc=pa[pb].x-Ra[0],Qc=pa[pb].y-Ra[1],gc=gc*gc+Qc*Qc,gc<mb))return pa[pb];return null}),Mf={type:"path",tag:"path",nested:!1,attr:function(pa,Ra){var mb=Ra.scaleY||1;1===(Ra.scaleX||1)&&1===mb||pa("vector-effect","non-scaling-stroke");mb=qe(Ra.x||0,Ra.y||0)+(Ra.angle?" rotate("+(Ra.angle+")"):"")+(Ra.scaleX||Ra.scaleY?" scale("+((Ra.scaleX||1)+","+(Ra.scaleY||1)+")"):"");pa("transform",mb);
pa("d",Ra.path)},bound:function(pa,Ra){return nc(mc(pa,Ra.angle),Ra)?pa.set(0,0,0,0):Wb(pa,Ra,!0)},draw:xd(nc),pick:ge(le(nc)),isect:jd(nc)},Ke={type:"rect",tag:"path",nested:!1,attr:function(pa,Ra){pa("d",Bc(null,Ra))},bound:function(pa,Ra){var mb,pb;return Wb(pa.set(mb=Ra.x||0,pb=Ra.y||0,mb+Ra.width||0,pb+Ra.height||0),Ra)},draw:xd(Hc),pick:ge(le(Hc)),isect:Ba},ag={type:"rule",tag:"line",nested:!1,attr:function(pa,Ra){pa("transform",qe(Ra.x||0,Ra.y||0));pa("x2",null!=Ra.x2?Ra.x2-(Ra.x||0):0);pa("y2",
null!=Ra.y2?Ra.y2-(Ra.y||0):0)},bound:function(pa,Ra){var mb,pb;return Wb(pa.set(mb=Ra.x||0,pb=Ra.y||0,null!=Ra.x2?Ra.x2:mb,null!=Ra.y2?Ra.y2:pb),Ra)},draw:function(pa,Ra,mb){dd(Ra,pb=>{if(!mb||mb.intersects(pb.bounds)){var gc=null==pb.opacity?1:pb.opacity;gc&&Dc(pa,pb,gc)&&($a(pa,pb),pa.stroke())}})},pick:ge(function(pa,Ra,mb,pb){return pa.isPointInStroke?Dc(pa,Ra,1)&&pa.isPointInStroke(mb,pb):!1}),isect:ua},wg=wd("shape",function(pa,Ra){return(Ra.mark.shape||Ra.shape).context(pa)(Ra)}),vh=wd("symbol",
function(pa,Ra){return ne.context(pa)(Ra)},$d);const ch=k.lruCache();var dg={height:Vd,measureWidth:sd,estimateWidth:ld,width:ld,canvas:lc};lc(!0);const Af={left:"start",center:"middle",right:"end"},jg=new id;var bg={type:"text",tag:"text",nested:!1,attr:function(pa,Ra){var mb=Ra.dx||0,pb=(Ra.dy||0)+Re(Ra),gc=af(Ra),Qc=gc.x1;gc=gc.y1;var Xc=Ra.angle||0;pa("text-anchor",Af[Ra.align]||"start");if(Xc){if(Ra=qe(Qc,gc)+" rotate("+(Xc+")"),mb||pb)Ra+=" "+qe(mb,pb)}else Ra=qe(Qc+mb,gc+pb);pa("transform",
Ra)},bound:Qb,draw:function(pa,Ra,mb){dd(Ra,pb=>{var gc=null==pb.opacity?1:pb.opacity,Qc;if(!(mb&&!mb.intersects(pb.bounds)||0===gc||0>=pb.fontSize||null==pb.text||0===pb.text.length)){pa.font=Ge(pb);pa.textAlign=pb.align||"left";var Xc=af(pb);var Bd=Xc.x1;Xc=Xc.y1;pb.angle&&(pa.save(),pa.translate(Bd,Xc),pa.rotate(pb.angle*tg),Bd=Xc=0);Bd+=pb.dx||0;Xc+=(pb.dy||0)+Re(pb);var Tc=he(pb);$a(pa,pb);if(k.isArray(Tc)){var Sd=be(pb);for(Qc=0;Qc<Tc.length;++Qc){var Td=Ce(pb,Tc[Qc]);pb.fill&&Tb(pa,pb,gc)&&
pa.fillText(Td,Bd,Xc);pb.stroke&&Vb(pa,pb,gc)&&pa.strokeText(Td,Bd,Xc);Xc+=Sd}}else Td=Ce(pb,Tc),pb.fill&&Tb(pa,pb,gc)&&pa.fillText(Td,Bd,Xc),pb.stroke&&Vb(pa,pb,gc)&&pa.strokeText(Td,Bd,Xc);pb.angle&&pa.restore()}})},pick:ge(function(pa,Ra,mb,pb,gc,Qc){if(0>=Ra.fontSize)return!1;if(!Ra.angle)return!0;mb=af(Ra);pa=mb.x1;mb=mb.y1;pb=Qb(jg,Ra,1);var Xc=-Ra.angle*tg;Ra=Math.cos(Xc);Xc=Math.sin(Xc);return pb.contains(Ra*gc-Xc*Qc+(pa-Ra*pa+Xc*mb),Xc*gc+Ra*Qc+(mb-Xc*pa-Ra*mb))}),isect:function(pa,Ra){pa=
Qb(jg,pa,2);return Ca(Ra,pa[0],pa[1],pa[2],pa[3])||Ca(Ra,pa[0],pa[1],pa[4],pa[5])||Ca(Ra,pa[4],pa[5],pa[6],pa[7])||Ca(Ra,pa[2],pa[3],pa[6],pa[7])}},qg=qf("trail",function(pa,Ra){return of.context(pa)(Ra)},function(pa,Ra){for(var mb=pa.length,pb,gc;0<=--mb;)if(!1!==pa[mb].defined&&(pb=pa[mb].x-Ra[0],gc=pa[mb].y-Ra[1],gc=pb*pb+gc*gc,pb=pa[mb].size||1,gc<pb*pb))return pa[mb];return null}),wh={arc:Sb,area:Cc,group:ce,image:ef,line:Cf,path:Mf,rect:Ke,rule:ag,shape:wg,symbol:vh,text:bg,trail:qg},Og={mark:null};
const zh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
zb.prototype={toJSON(pa){return Ad(this.root,pa||0)},mark(pa,Ra,mb){Ra=Ra||this.root.items[0];pa=Xb(pa,Ra);Ra.items[mb]=pa;pa.zindex&&(pa.group.zdirty=!0);return pa}};Uc.prototype={initialize(pa,Ra,mb){this._el=pa;this._obj=mb||null;return this.origin(Ra)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(pa){return arguments.length?(this._origin=pa||[0,0],this):this._origin.slice()},scene(pa){if(!arguments.length)return this._scene;this._scene=pa;return this},on(){},
off(){},_handlerIndex(pa,Ra,mb){for(let pb=pa?pa.length:0;0<=--pb;)if(pa[pb].type===Ra&&(!mb||pa[pb].handler===mb))return pb;return-1},handlers(pa){const Ra=this._handlers,mb=[];if(pa)mb.push(...Ra[this.eventName(pa)]);else for(const pb in Ra)mb.push(...Ra[pb]);return mb},eventName(pa){const Ra=pa.indexOf(".");return 0>Ra?pa:pa.slice(0,Ra)},handleHref(pa,Ra,mb){this._loader.sanitize(mb,{context:"href"}).then(pb=>{const gc=new MouseEvent(pa.type,pa),Qc=tc(null,"a");for(const Xc in pb)Qc.setAttribute(Xc,
pb[Xc]);Qc.dispatchEvent(gc)}).catch(()=>{})},handleTooltip(pa,Ra,mb){if(Ra&&null!=Ra.tooltip){var pb=this.canvas(),gc=this._origin,Qc=Ra&&Ra.mark,Xc;if(Qc&&(Xc=wh[Qc.marktype]).tip){pb=ic(pa,pb);pb[0]-=gc[0];for(pb[1]-=gc[1];Ra=Ra.mark.group;)pb[0]-=Ra.x||0,pb[1]-=Ra.y||0;Ra=Xc.tip(Qc.items,pb)}this._tooltip.call(this._obj,this,pa,Ra,mb&&Ra&&Ra.tooltip||null)}},getItemBoundingClientRect(pa){var Ra=this.canvas();if(Ra){var mb=Ra.getBoundingClientRect(),pb=this._origin,gc=pa.bounds;Ra=gc.width();var Qc=
gc.height(),Xc=gc.x1+pb[0]+mb.left;for(mb=gc.y1+pb[1]+mb.top;pa.mark&&(pa=pa.mark.group);)Xc+=pa.x||0,mb+=pa.y||0;return{x:Xc,y:mb,width:Ra,height:Qc,left:Xc,top:mb,right:Xc+Ra,bottom:mb+Qc}}}};Md.prototype={initialize(pa,Ra,mb,pb,gc){this._el=pa;return this.resize(Ra,mb,pb,gc)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(pa){if(0===arguments.length)return this._bgcolor;this._bgcolor=pa;return this},resize(pa,Ra,mb,pb){this._width=pa;this._height=Ra;this._origin=
mb||[0,0];this._scale=pb||1;return this},dirty(){},render(pa){const Ra=this;Ra._call=function(){Ra._render(pa)};Ra._call();Ra._call=null;return Ra},_render(){},renderAsync(pa){const Ra=this.render(pa);return this._ready?this._ready.then(()=>Ra):Promise.resolve(Ra)},_load(pa,Ra){var mb=this;pa=mb._loader[pa](Ra);if(!mb._ready){const pb=mb._call;mb._ready=mb._loader.ready().then(gc=>{gc&&pb();mb._ready=null})}return pa},sanitizeURL(pa){return this._load("sanitizeURL",pa)},loadImage(pa){return this._load("loadImage",
pa)}};k.inherits(Gd,Uc,{initialize(pa,Ra,mb){this._canvas=pa&&gd(pa,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(pb=>Pd(this,pb));return Uc.prototype.initialize.call(this,pa,Ra,mb)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(pa){this.fire("mousewheel",
pa)},mousemove:Se("mousemove","mouseover","mouseout"),dragover:Se("dragover","dragenter","dragleave"),mouseout:ha("mouseout"),dragleave:ha("dragleave"),mousedown(pa){this._down=this._active;this.fire("mousedown",pa)},click(pa){this._down===this._active&&(this.fire("click",pa),this._down=null)},touchstart(pa){this._touch=this.pickEvent(pa.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",pa,!0)},touchmove(pa){this.fire("touchmove",pa,!0)},touchend(pa){this.fire("touchend",
pa,!0);this._touch=null},fire(pa,Ra,mb){mb=mb?this._touch:this._active;const pb=this._handlers[pa];Ra.vegaType=pa;"click"===pa&&mb&&mb.href?this.handleHref(Ra,mb,mb.href):("mousemove"===pa||"mouseout"===pa)&&this.handleTooltip(Ra,mb,"mouseout"!==pa);if(pb)for(let gc=0,Qc=pb.length;gc<Qc;++gc)pb[gc].handler.call(this._obj,Ra,mb)},on(pa,Ra){const mb=this.eventName(pa),pb=this._handlers;0>this._handlerIndex(pb[mb],pa,Ra)&&(Pd(this,pa),(pb[mb]||(pb[mb]=[])).push({type:pa,handler:Ra}));return this},off(pa,
Ra){var mb=this.eventName(pa);mb=this._handlers[mb];pa=this._handlerIndex(mb,pa,Ra);0<=pa&&mb.splice(pa,1);return this},pickEvent(pa){pa=ic(pa,this._canvas);const Ra=this._origin;return this.pick(this._scene,pa[0],pa[1],pa[0]-Ra[0],pa[1]-Ra[1])},pick(pa,Ra,mb,pb,gc){const Qc=this.context();return wh[pa.marktype].pick.call(this,Qc,pa,Ra,mb,pb,gc)}});var ri="undefined"!==typeof window?window.devicePixelRatio||1:1;const Zh=Md.prototype;k.inherits(ob,Md,{initialize(pa,Ra,mb,pb,gc,Qc){this._options=Qc||
{};this._canvas=this._options.externalContext?null:p.canvas(1,1,this._options.type);pa&&this._canvas&&(rb(pa,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Zh.initialize.call(this,pa,Ra,mb,pb,gc)},resize(pa,Ra,mb,pb){Zh.resize.call(this,pa,Ra,mb,pb);if(this._canvas){pa=this._canvas;Ra=this._width;mb=this._height;pb=this._origin;var gc=this._scale,Qc=this._options.context;const Bd="undefined"!==typeof HTMLElement&&pa instanceof HTMLElement&&null!=pa.parentNode,Tc=pa.getContext("2d");
gc=Bd?ri:gc;pa.width=Ra*gc;pa.height=mb*gc;for(var Xc in Qc)Tc[Xc]=Qc[Xc];Bd&&1!==gc&&(pa.style.width=Ra+"px",pa.style.height=mb+"px");Tc.pixelRatio=gc;Tc.setTransform(gc,0,0,gc,gc*pb[0],gc*pb[1])}else(Xc=this._options.externalContext)||k.error("CanvasRenderer is missing a valid canvas or context"),Xc.scale(this._scale,this._scale),Xc.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?
this._canvas.getContext("2d"):null)},dirty(pa){const Ra=this._tempb.clear().union(pa.bounds);for(pa=pa.mark.group;pa;)Ra.translate(pa.x||0,pa.y||0),pa=pa.mark.group;this._dirty.union(Ra)},_render(pa){const Ra=this.context(),mb=this._origin,pb=this._width,gc=this._height,Qc=this._dirty;var Xc=(new id).set(0,0,pb,gc).translate(-mb[0],-mb[1]);Ra.save();this._redraw||Qc.empty()?Xc=(this._redraw=!1,Xc.expand(1)):(Xc=Xc.intersect(Qc),Xc.expand(1).round(),Ra.pixelRatio%1&&Xc.scale(Ra.pixelRatio).round().scale(1/
Ra.pixelRatio),Xc.translate(-(mb[0]%1),-(mb[1]%1)),Ra.beginPath(),Ra.rect(Xc.x1,Xc.y1,Xc.width(),Xc.height()),Ra.clip());this.clear(-mb[0],-mb[1],pb,gc);this.draw(Ra,pa,Xc);Ra.restore();Qc.clear();return this},draw(pa,Ra,mb){const pb=wh[Ra.marktype];if(Ra.clip){var gc=Ra.clip;pa.save();k.isFunction(gc)?(pa.beginPath(),gc(pa),pa.clip()):gf(pa,Ra.group)}pb.draw.call(this,pa,Ra,mb);Ra.clip&&pa.restore()},clear(pa,Ra,mb,pb){const gc=this._options,Qc=this.context();"pdf"===gc.type||gc.externalContext||
Qc.clearRect(pa,Ra,mb,pb);null!=this._bgcolor&&(Qc.fillStyle=this._bgcolor,Qc.fillRect(pa,Ra,mb,pb))}});const $h=(pa,Ra)=>mb=>{let pb=mb.target.__data__;pb=Array.isArray(pb)?pb[0]:pb;mb.vegaType=mb.type;Ra.call(pa._obj,mb,pb)};k.inherits(Ea,Uc,{initialize(pa,Ra,mb){let pb=this._svg;pb&&(pb.removeEventListener("click",this._hrefHandler),pb.removeEventListener("mousemove",this._tooltipHandler),pb.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=pb=pa&&gd(pa,"svg"))pb.addEventListener("click",
this._hrefHandler),pb.addEventListener("mousemove",this._tooltipHandler),pb.addEventListener("mouseout",this._tooltipHandler);return Uc.prototype.initialize.call(this,pa,Ra,mb)},canvas(){return this._svg},on(pa,Ra){const mb=this.eventName(pa),pb=this._handlers;0>this._handlerIndex(pb[mb],pa,Ra)&&(pa={type:pa,handler:Ra,listener:$h(this,Ra)},(pb[mb]||(pb[mb]=[])).push(pa),this._svg&&this._svg.addEventListener(mb,pa.listener));return this},off(pa,Ra){const mb=this.eventName(pa),pb=this._handlers[mb];
pa=this._handlerIndex(pb,pa,Ra);0<=pa&&(this._svg&&this._svg.removeEventListener(mb,pb[pa].listener),pb.splice(pa,1));return this}});const df=(pa,Ra,mb)=>({role:pa,["aria-roledescription"]:Ra,["aria-label"]:mb||void 0}),Ch=k.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),hf={axis:{desc:"axis",caption:function(pa){var Ra=pa.datum;const mb=pa.orient,pb=Ra.title?Jc(pa):null;var gc=pa.context;
Ra=gc.scales[Ra.scale].value;gc=gc.dataflow.locale();const Qc=Ra.type;return`${"left"===mb||"right"===mb?"Y":"X"}-axis`+(pb?` titled '${pb}'`:"")+` for a ${t.isDiscrete(Qc)?"discrete":Qc} scale`+` with ${t.domainCaption(gc,Ra,pa)}`}},legend:{desc:"legend",caption:function(pa){var Ra=pa.datum;const mb=Ra.title?Jc(pa):null,pb=`${Ra.type||""} legend`.trim();var gc=Ra.scales;Ra=Object.keys(gc);var Qc=pa.context;gc=Qc.scales[gc[Ra[0]]].value;Qc=Qc.dataflow.locale();return(pb.length?pb[0].toUpperCase()+
pb.slice(1):pb)+(mb?` titled '${mb}'`:"")+` for ${pd(Ra)}`+` with ${t.domainCaption(Qc,gc,pa)}`}},"title-text":{desc:"title",caption:pa=>`Title text '${k.array(pa.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:pa=>`Subtitle text '${k.array(pa.text).join(" ")}'`}},jf={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Pg=pa=>(pa+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Nh=pa=>Yd(qd(),pa)+"",Yh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},ai={blend:"mix-blend-mode"},dh={fill:"none","stroke-miterlimit":10},ue=ze.xmlns,Je=Md.prototype;k.inherits(Od,Md,{initialize(pa,Ra,mb,pb,gc){this._defs={};this._clearDefs();pa&&(this._svg=qc(pa,0,"svg",ue),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",ue),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",ze["xmlns:xlink"]),this._svg.setAttribute("version",ze.version),this._svg.setAttribute("class","marks"),rb(pa,1),this._root=qc(this._svg,0,"g",ue),Lc(this._root,dh),rb(this._svg,1));this.background(this._bgcolor);return Je.initialize.call(this,pa,Ra,mb,pb,gc)},background(pa){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",pa);return Je.background.apply(this,arguments)},resize(pa,Ra,mb,pb){Je.resize.call(this,
pa,Ra,mb,pb);this._svg&&(Lc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const pa=this._svg,Ra=this._bgcolor;if(!pa)return null;let mb;Ra&&(pa.removeAttribute("style"),mb=qc(pa,0,"rect",ue),Lc(mb,{width:this._width,height:this._height,fill:Ra}));const pb=Nh(pa);Ra&&(pa.removeChild(mb),this._svg.style.setProperty("background-color",
Ra));return pb},_render(pa){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,pa),rb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(pa){pa.dirty!==this._dirtyID&&(pa.dirty=this._dirtyID,this._dirty.push(pa))},isDirty(pa){return this._dirtyAll||!pa._svg||!pa._svg.ownerSVGElement||pa.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const pa=this._dirty;if(!pa.length||!this._dirtyID)return!0;const Ra=++this._dirtyID;let mb;let pb,gc,Qc,Xc;
Qc=0;for(Xc=pa.length;Qc<Xc;++Qc){mb=pa[Qc];var Bd=mb.mark;Bd.marktype!==pb&&(pb=Bd.marktype,gc=wh[pb]);Bd.zdirty&&Bd.dirty!==Ra&&(this._dirtyAll=!1,Jd(mb,Ra),Bd.items.forEach(Tc=>{Tc.dirty=Ra}));Bd.zdirty||(mb.exit?(gc.nested&&Bd.items.length?(Bd=Bd.items[0],Bd._svg&&this._update(gc,Bd._svg,Bd)):mb._svg&&(Bd=mb._svg.parentNode)&&Bd.removeChild(mb._svg),mb._svg=null):(mb=gc.nested?Bd.items[0]:mb,mb._update!==Ra&&(mb._svg&&mb._svg.ownerSVGElement?this._update(gc,mb._svg,mb):(this._dirtyAll=!1,Jd(mb,
Ra)),mb._update=Ra)))}return!this._dirtyAll},mark(pa,Ra,mb){if(!this.isDirty(Ra))return Ra._svg;const pb=this._svg,gc=wh[Ra.marktype];var Qc=!1===Ra.interactive?"none":null;const Xc="g"===gc.tag,Bd=td(Ra,pa,mb,"g",pb);Bd.setAttribute("class",Bb(Ra));pa=Yb(Ra);for(const Td in pa)ud(Bd,Td,pa[Td]);Xc||ud(Bd,"pointer-events",Qc);ud(Bd,"clip-path",Ra.clip?uc(this,Ra,Ra.group):null);let Tc=null,Sd=0;Qc=Td=>{const De=this.isDirty(Td),tf=td(Td,Bd,Tc,gc.tag,pb);De&&(this._update(gc,tf,Td),Xc&&ed(this,tf,Td));
Tc=tf;++Sd};gc.nested?Ra.items.length&&Qc(Ra.items[0]):dd(Ra,Qc);rb(Bd,Sd);return Bd},_update(pa,Ra,mb){Df=Ra;Pe=Ra.__values__;Ib(wc,mb);pa.attr(wc,mb,this);const pb=eg[pa.type];pb&&pb.call(this,pa,Ra,mb);Df&&this.style(Df,mb)},style(pa,Ra){if(null!=Ra){for(const mb in Yh){let pb="font"===mb?vf(Ra):Ra[mb];if(pb===Pe[mb])continue;const gc=Yh[mb];null==pb?pa.removeAttribute(gc):(pb&&pb.gradient&&(pb=m(pb,this._defs.gradient,kb())),pa.setAttribute(gc,pb+""));Pe[mb]=pb}for(const mb in ai)Rc(pa,ai[mb],
Ra[mb])}},defs(){const pa=this._svg,Ra=this._defs;let mb=Ra.el;var pb=0;for(var gc in Ra.gradient){mb||(Ra.el=mb=qc(pa,1,"defs",ue));var Qc=void 0;let Tc,Sd;var Xc=mb,Bd=Ra.gradient[gc];"radial"===Bd.gradient?(Qc=qc(Xc,pb++,"pattern",ue),Lc(Qc,{id:"p_"+Bd.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Qc=qc(Qc,0,"rect",ue),Lc(Qc,{width:1,height:1,fill:`url(${kb()}#${Bd.id})`}),Xc=qc(Xc,pb++,"radialGradient",ue),Lc(Xc,{id:Bd.id,fx:Bd.x1,fy:Bd.y1,fr:Bd.r1,cx:Bd.x2,
cy:Bd.y2,r:Bd.r2})):(Xc=qc(Xc,pb++,"linearGradient",ue),Lc(Xc,{id:Bd.id,x1:Bd.x1,x2:Bd.x2,y1:Bd.y1,y2:Bd.y2}));Sd=0;for(Tc=Bd.stops.length;Sd<Tc;++Sd)Qc=qc(Xc,Sd,"stop",ue),Qc.setAttribute("offset",Bd.stops[Sd].offset),Qc.setAttribute("stop-color",Bd.stops[Sd].color);rb(Xc,Sd)}for(const Tc in Ra.clipping)mb||(Ra.el=mb=qc(pa,1,"defs",ue)),Xc=mb,Bd=Ra.clipping[Tc],gc=pb,Xc=qc(Xc,gc,"clipPath",ue),Xc.setAttribute("id",Bd.id),Bd.path?(pb=qc(Xc,0,"path",ue),pb.setAttribute("d",Bd.path)):(pb=qc(Xc,0,"rect",
ue),Lc(pb,{x:0,y:0,width:Bd.width,height:Bd.height})),rb(Xc,1),pb=gc+1;mb&&(0===pb?(pa.removeChild(mb),Ra.el=null):rb(mb,pb))},_clearDefs(){const pa=this._defs;pa.gradient={};pa.clipping={}}});let Df=null,Pe=null;const eg={group(pa,Ra,mb){const pb=Df=Ra.childNodes[2];Pe=pb.__values__;pa.foreground(wc,mb,this);Pe=Ra.__values__;Df=Ra.childNodes[1];pa.content(wc,mb,this);Ra=Df=Ra.childNodes[0];pa.background(wc,mb,this);pa=!1===mb.mark.interactive?"none":null;pa!==Pe.events&&(ud(pb,"pointer-events",pa),
ud(Ra,"pointer-events",pa),Pe.events=pa);mb.strokeForeground&&mb.stroke?(pa=mb.fill,ud(pb,"display",null),this.style(Ra,mb),ud(Ra,"stroke",null),pa&&(mb.fill=null),Pe=pb.__values__,this.style(pb,mb),pa&&(mb.fill=pa),Df=null):ud(pb,"display","none")},image(pa,Ra,mb){!1===mb.smooth?(Rc(Ra,"image-rendering","optimizeSpeed"),Rc(Ra,"image-rendering","pixelated")):Rc(Ra,"image-rendering",null)},text(pa,Ra,mb){pa=he(mb);let pb,gc,Qc;k.isArray(pa)?(pb=pa.map(Xc=>Ce(mb,Xc)),pa=pb.join("\n"),pa!==Pe.text&&
(rb(Ra,0),gc=Ra.ownerDocument,Qc=be(mb),pb.forEach((Xc,Bd)=>{const Tc=tc(gc,"tspan",ue);Tc.__data__=mb;Tc.textContent=Xc;Bd&&(Tc.setAttribute("x",0),Tc.setAttribute("dy",Qc));Ra.appendChild(Tc)}),Pe.text=pa)):(pb=Ce(mb,pa),pb!==Pe.text&&(Ra.textContent=pb,Pe.text=pb));ud(Ra,"font-family",vf(mb));ud(Ra,"font-size",Vd(mb)+"px");ud(Ra,"font-style",mb.fontStyle);ud(Ra,"font-variant",mb.fontVariant);ud(Ra,"font-weight",mb.fontWeight)}};k.inherits(Gb,Md,{svg(){return this._text},_render(pa){const Ra=qd();
Ra.open("svg",k.extend({},ze,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const mb=this._bgcolor;mb&&"transparent"!==mb&&"none"!==mb&&Ra.open("rect",{width:this._width,height:this._height,fill:mb}).close();Ra.open("g",dh,{transform:"translate("+this._origin+")"});this.mark(Ra,pa);Ra.close();this.defs(Ra);this._text=Ra.close()+"";return this},mark(pa,Ra){const mb=wh[Ra.marktype],pb=mb.tag,gc=[Ib,mb.attr];pa.open("g",{"class":Bb(Ra),
"clip-path":Ra.clip?uc(this,Ra,Ra.group):null},Yb(Ra),{"pointer-events":"g"!==pb&&!1===Ra.interactive?"none":null});const Qc=Xc=>{const Bd=this.href(Xc);Bd&&pa.open("a",Bd);pa.open(pb,this.attr(Ra,Xc,gc,"g"!==pb?pb:null));if("text"===pb){var Tc=he(Xc);if(k.isArray(Tc)){var Sd={x:0,dy:be(Xc)};for(var Td=0;Td<Tc.length;++Td)pa.open("tspan",Td?Sd:null).text(Ce(Xc,Tc[Td])).close()}else pa.text(Ce(Xc,Tc))}else"g"===pb&&(Tc=Xc.strokeForeground,Sd=Xc.fill,Td=Xc.stroke,Tc&&Td&&(Xc.stroke=null),pa.open("path",
this.attr(Ra,Xc,mb.background,"bgrect")).close(),pa.open("g",this.attr(Ra,Xc,mb.content)),dd(Xc,De=>this.mark(pa,De)),pa.close(),Tc&&Td?(Sd&&(Xc.fill=null),Xc.stroke=Td,pa.open("path",this.attr(Ra,Xc,mb.foreground,"bgrect")).close(),Sd&&(Xc.fill=Sd)):pa.open("path",this.attr(Ra,Xc,mb.foreground,"bgfore")).close());pa.close();Bd&&pa.close()};mb.nested?Ra.items&&Ra.items.length&&Qc(Ra.items[0]):dd(Ra,Qc);return pa.close()},href(pa){const Ra=pa.href;if(Ra){if(pa=this._hrefs&&this._hrefs[Ra])return pa;
this.sanitizeURL(Ra).then(mb=>{mb["xlink:href"]=mb.href;mb.href=null;(this._hrefs||(this._hrefs={}))[Ra]=mb})}return null},attr(pa,Ra,mb,pb){const gc={},Qc=(Xc,Bd,Tc,Sd)=>{gc[Sd||Xc]=Bd};Array.isArray(mb)?mb.forEach(Xc=>Xc(Qc,Ra,this)):mb(Qc,Ra,this);pb&&Pb(gc,Ra,pa,pb,this._defs);return gc},defs(pa){var Ra=this._defs.gradient;const mb=this._defs.clipping;if(0!==Object.keys(Ra).length+Object.keys(mb).length){pa.open("defs");for(const gc in Ra){var pb=Ra[gc];const Qc=pb.stops;"radial"===pb.gradient?
(pa.open("pattern",{id:"p_"+gc,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),pa.open("rect",{width:"1",height:"1",fill:"url(#"+gc+")"}).close(),pa.close(),pa.open("radialGradient",{id:gc,fx:pb.x1,fy:pb.y1,fr:pb.r1,cx:pb.x2,cy:pb.y2,r:pb.r2})):pa.open("linearGradient",{id:gc,x1:pb.x1,x2:pb.x2,y1:pb.y1,y2:pb.y2});for(pb=0;pb<Qc.length;++pb)pa.open("stop",{offset:Qc[pb].offset,"stop-color":Qc[pb].color}).close();pa.close()}for(const gc in mb)Ra=mb[gc],pa.open("clipPath",
{id:gc}),Ra.path?pa.open("path",{d:Ra.path}).close():pa.open("rect",{x:0,y:0,width:Ra.width,height:Ra.height}).close(),pa.close();pa.close()}}});const fg={};fg.canvas=fg.png={renderer:ob,headless:ob,handler:Gd};fg.svg={renderer:Od,headless:Gb,handler:Ea};fg.none={};const ff=new id;w.Bounds=id;w.CanvasHandler=Gd;w.CanvasRenderer=ob;w.Gradient=function(pa,Ra){var mb=[],pb;return pb={gradient:"linear",x1:pa?pa[0]:0,y1:pa?pa[1]:0,x2:Ra?Ra[0]:1,y2:Ra?Ra[1]:0,stops:mb,stop:function(gc,Qc){mb.push({offset:gc,
color:Qc});return pb}}};w.GroupItem=Ab;w.Handler=Uc;w.Item=Hb;w.Marks=wh;w.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};w.Renderer=Md;w.ResourceLoader=dc;w.SVGHandler=Ea;w.SVGRenderer=Od;w.SVGStringRenderer=Gb;w.Scenegraph=zb;w.boundClip=function(pa){const Ra=pa.clip;if(k.isFunction(Ra))Ra(mc(ff.clear()));else if(Ra)ff.set(0,0,pa.group.width,pa.group.height);else return;pa.bounds.intersect(ff)};w.boundContext=mc;w.boundItem=rc;w.boundMark=bd;w.boundStroke=Wb;w.domChild=qc;w.domClear=
rb;w.domCreate=tc;w.domFind=gd;w.font=Ge;w.fontFamily=vf;w.fontSize=Vd;w.intersect=function(pa,Ra,mb){const pb=[];Ra=(new id).union(Ra);const gc=pa.marktype;return gc?bc(pa,Ra,mb,pb):"group"===gc?fa(pa,Ra,mb,pb):k.error("Intersect scene must be mark node or group item.")};w.intersectBoxLine=Ca;w.intersectPath=jd;w.intersectPoint=$d;w.intersectRule=ua;w.lineHeight=be;w.markup=qd;w.multiLineOffset=function(pa){const Ra=he(pa);return(k.isArray(Ra)?Ra.length-1:0)*be(pa)};w.path=c;w.pathCurves=va;w.pathEqual=
Fb;w.pathParse=Ua;w.pathRectangle=Mb;w.pathRender=ra;w.pathSymbols=ja;w.pathTrail=$b;w.point=ic;w.renderModule=function(pa,Ra){pa=String(pa||"").toLowerCase();return 1<arguments.length?(fg[pa]=Ra,this):fg[pa]};w.resetSVGClipId=function(){uf=1};w.resetSVGDefIds=function(){uf=1;Ob=0};w.sceneEqual=gb;w.sceneFromJSON=xa;w.scenePickVisit=nd;w.sceneToJSON=Ad;w.sceneVisit=dd;w.sceneZOrder=Yc;w.serializeXML=Nh;w.textMetrics=dg;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(28),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega))})(this,function(w,k,p,q){function t(oa){k.Transform.call(this,null,oa)}function m(oa,va,Ua){return va(oa.bounds.clear(),oa,Ua)}function f(oa){k.Transform.call(this,
0,oa)}function b(oa){return oa._signals[":vega_identifier:"]||(oa._signals[":vega_identifier:"]=oa.add(0))}function c(oa){k.Transform.call(this,null,oa)}function e(oa){const va=oa.groups;oa=oa.parent;return va&&1===va.size?va.get(Object.keys(va.object)[0]):va&&oa?va.lookup(oa):null}function g(oa){k.Transform.call(this,null,oa)}function n(oa){k.Transform.call(this,null,oa)}function h(oa,va,Ua){return oa[va]===Ua?0:(oa[va]=Ua,1)}function x(oa){oa=oa.items[0].orient;return"left"===oa||"right"===oa}function O(oa,
va,Ua,eb){va=va.items[0];var ra=va.datum,Oa=null!=va.translate?va.translate:.5,ja=va.orient,U=+ra.grid;var ka=[ra.ticks?U++:-1,ra.labels?U++:-1,U+ +ra.domain];U=va.range;var wa=va.offset,Ta=va.position,db=va.minExtent,lb=va.maxExtent;ra=ra.title&&va.items[ka[2]].items[0];var nb=va.titlePadding,Mb=va.bounds,$b=ra&&p.multiLineOffset(ra),Gc;Pa.clear().union(Mb);Mb.clear();-1<(Gc=ka[0])&&Mb.union(va.items[Gc].bounds);-1<(Gc=ka[1])&&Mb.union(va.items[Gc].bounds);switch(ja){case "top":Ua=Ta||0;eb=-wa;db=
Math.max(db,Math.min(lb,-Mb.y1));Mb.add(0,-db).add(U,0);ra&&H(oa,ra,db,nb,$b,0,-1,Mb);break;case "left":Ua=-wa;eb=Ta||0;db=Math.max(db,Math.min(lb,-Mb.x1));Mb.add(-db,0).add(0,U);ra&&H(oa,ra,db,nb,$b,1,-1,Mb);break;case "right":Ua+=wa;eb=Ta||0;db=Math.max(db,Math.min(lb,Mb.x2));Mb.add(0,0).add(db,U);ra&&H(oa,ra,db,nb,$b,1,1,Mb);break;case "bottom":Ua=Ta||0;eb+=wa;db=Math.max(db,Math.min(lb,Mb.y2));Mb.add(0,0).add(U,db);ra&&H(oa,ra,db,nb,0,0,1,Mb);break;default:Ua=va.x,eb=va.y}p.boundStroke(Mb.translate(Ua,
eb),va);h(va,"x",Ua+Oa)|h(va,"y",eb+Oa)&&(va.bounds=Pa,oa.dirty(va),va.bounds=Mb,oa.dirty(va));return va.mark.bounds.clear().union(Mb)}function H(oa,va,Ua,eb,ra,Oa,ja,U){const ka=va.bounds;va.auto&&(Ua=ja*(Ua+ra+eb),ra=eb=0,oa.dirty(va),Oa?eb=(va.x||0)-(va.x=Ua):ra=(va.y||0)-(va.y=Ua),va.mark.bounds.clear().union(ka.translate(-eb,-ra)),oa.dirty(va));U.union(ka)}function F(oa){return(new p.Bounds).set(0,0,oa.width||0,oa.height||0)}function J(oa){const va=oa.bounds.clone();return va.empty()?va.set(0,
0,0,0):va.translate(-(oa.x||0),-(oa.y||0))}function D(oa,va,Ua){oa=q.isObject(oa)?oa[va]:oa;return null!=oa?oa:void 0!==Ua?Ua:0}function r(oa){return 0>oa?Math.ceil(-oa):0}function z(oa,va,Ua){var eb=!Ua.nodirty,ra="flush"===Ua.bounds?F:J,Oa=Pa.set(0,0,0,0),ja=D(Ua.align,"column"),U=D(Ua.align,"row"),ka=D(Ua.padding,"column"),wa=D(Ua.padding,"row"),Ta=Ua.columns||va.length,db=0>=Ta?1:Math.ceil(va.length/Ta),lb=va.length,nb=Array(lb),Mb=Array(Ta),$b=0,Gc=Array(lb),zc=Array(db),Bc=0,uc=Array(lb),id=
Array(lb),Hb=Array(lb),Ab,dc,Wb;for(Ab=0;Ab<Ta;++Ab)Mb[Ab]=0;for(Ab=0;Ab<db;++Ab)zc[Ab]=0;for(Ab=0;Ab<lb;++Ab){var mc=va[Ab];var Kc=Hb[Ab]=ra(mc);mc.x=mc.x||0;uc[Ab]=0;mc.y=mc.y||0;id[Ab]=0;mc=Ab%Ta;var Fc=~~(Ab/Ta);$b=Math.max($b,dc=Math.ceil(Kc.x2));Bc=Math.max(Bc,Wb=Math.ceil(Kc.y2));Mb[mc]=Math.max(Mb[mc],dc);zc[Fc]=Math.max(zc[Fc],Wb);nb[Ab]=ka+r(Kc.x1);Gc[Ab]=wa+r(Kc.y1);eb&&oa.dirty(va[Ab])}for(Ab=0;Ab<lb;++Ab)0===Ab%Ta&&(nb[Ab]=0),Ab<Ta&&(Gc[Ab]=0);if("each"===ja)for(mc=1;mc<Ta;++mc){ra=0;
for(Ab=mc;Ab<lb;Ab+=Ta)ra<nb[Ab]&&(ra=nb[Ab]);for(Ab=mc;Ab<lb;Ab+=Ta)nb[Ab]=ra+Mb[mc-1]}else if("all"===ja){for(Ab=ra=0;Ab<lb;++Ab)Ab%Ta&&ra<nb[Ab]&&(ra=nb[Ab]);for(Ab=0;Ab<lb;++Ab)Ab%Ta&&(nb[Ab]=ra+$b)}else for(ja=!1,mc=1;mc<Ta;++mc)for(Ab=mc;Ab<lb;Ab+=Ta)nb[Ab]+=Mb[mc-1];if("each"===U)for(Fc=1;Fc<db;++Fc){ra=0;Ab=Fc*Ta;for(mc=Ab+Ta;Ab<mc;++Ab)ra<Gc[Ab]&&(ra=Gc[Ab]);for(Ab=Fc*Ta;Ab<mc;++Ab)Gc[Ab]=ra+zc[Fc-1]}else if("all"===U){ra=0;for(Ab=Ta;Ab<lb;++Ab)ra<Gc[Ab]&&(ra=Gc[Ab]);for(Ab=Ta;Ab<lb;++Ab)Gc[Ab]=
ra+Bc}else for(U=!1,Fc=1;Fc<db;++Fc)for(Ab=Fc*Ta,mc=Ab+Ta;Ab<mc;++Ab)Gc[Ab]+=zc[Fc-1];for(Ab=Fc=0;Ab<lb;++Ab)Fc=nb[Ab]+(Ab%Ta?Fc:0),uc[Ab]+=Fc-va[Ab].x;for(mc=0;mc<Ta;++mc)for(nb=0,Ab=mc;Ab<lb;Ab+=Ta)nb+=Gc[Ab],id[Ab]+=nb-va[Ab].y;if(ja&&D(Ua.center,"column")&&1<db)for(Ab=0;Ab<lb;++Ab)Kc="all"===ja?$b:Mb[Ab%Ta],Fc=Kc-Hb[Ab].x2-va[Ab].x-uc[Ab],0<Fc&&(uc[Ab]+=Fc/2);if(U&&D(Ua.center,"row")&&1!==Ta)for(Ab=0;Ab<lb;++Ab)Kc="all"===U?Bc:zc[~~(Ab/Ta)],nb=Kc-Hb[Ab].y2-va[Ab].y-id[Ab],0<nb&&(id[Ab]+=nb/2);
for(Ab=0;Ab<lb;++Ab)Oa.union(Hb[Ab].translate(uc[Ab],id[Ab]));Fc=D(Ua.anchor,"x");nb=D(Ua.anchor,"y");switch(D(Ua.anchor,"column")){case "end":Fc-=Oa.width();break;case "middle":Fc-=Oa.width()/2}switch(D(Ua.anchor,"row")){case "end":nb-=Oa.height();break;case "middle":nb-=Oa.height()/2}Fc=Math.round(Fc);nb=Math.round(nb);Oa.clear();for(Ab=0;Ab<lb;++Ab)va[Ab].mark.bounds.clear();for(Ab=0;Ab<lb;++Ab)mc=va[Ab],mc.x+=uc[Ab]+=Fc,mc.y+=id[Ab]+=nb,Oa.union(mc.mark.bounds.union(mc.bounds.translate(uc[Ab],
id[Ab]))),eb&&oa.dirty(mc);return Oa}function G(oa,va){return"x1"===va?oa.x||0:"y1"===va?oa.y||0:"x2"===va?(oa.x||0)+(oa.width||0):"y2"===va?(oa.y||0)+(oa.height||0):void 0}function T(oa,va){return oa.bounds[va]}function R(oa,va,Ua,eb,ra,Oa,ja,U,ka,wa,Ta,db,lb,nb){var Mb=Ua.length,$b=eb=0,Gc,zc;if(!Mb)return eb;for(Gc=Ta;Gc<Mb;Gc+=db)Ua[Gc]&&(eb=ja(eb,ka(Ua[Gc],wa)));if(!va.length)return eb;va.length>ra&&(oa.warn("Grid headers exceed limit: "+ra),va=va.slice(0,ra));eb+=Oa;ra=0;for(Oa=va.length;ra<
Oa;++ra)oa.dirty(va[ra]),va[ra].mark.bounds.clear();Gc=Ta;ra=0;for(Oa=va.length;ra<Oa;++ra,Gc+=db){ka=va[ra];Ta=ka.mark.bounds;for(Mb=Gc;0<=Mb&&null==(zc=Ua[Mb]);Mb-=lb);if(U){Mb=null==nb?zc.x:Math.round(zc.bounds.x1+nb*zc.bounds.width());var Bc=eb}else Mb=eb,Bc=null==nb?zc.y:Math.round(zc.bounds.y1+nb*zc.bounds.height());Ta.union(ka.bounds.translate(Mb-(ka.x||0),Bc-(ka.y||0)));ka.x=Mb;ka.y=Bc;oa.dirty(ka);$b=ja($b,Ta[wa])}return $b}function ca(oa,va,Ua,eb,ra,Oa){if(va){oa.dirty(va);var ja=Ua;eb?
ja=Math.round(ra.x1+Oa*ra.width()):Ua=Math.round(ra.y1+Oa*ra.height());va.bounds.translate(ja-(va.x||0),Ua-(va.y||0));va.mark.bounds.clear().union(va.bounds);va.x=ja;va.y=Ua;oa.dirty(va)}}function M(oa,va){const Ua=oa[va]||{};return(eb,ra)=>null!=Ua[eb]?Ua[eb]:null!=oa[eb]?oa[eb]:ra}function ba(oa,va){let Ua=-Infinity;oa.forEach(eb=>{null!=eb.offset&&(Ua=Math.max(Ua,eb.offset))});return-Infinity<Ua?Ua:va}function W(oa,va,Ua,eb,ra,Oa,ja){const U=M(Ua,va);Ua=ba(oa,U("offset",0));const ka=U("anchor",
"start"),wa="end"===ka?1:"middle"===ka?.5:0;oa={align:"each",bounds:U("bounds","flush"),columns:"vertical"===U("direction")?1:oa.length,padding:U("margin",8),center:U("center"),nodirty:!0};switch(va){case "left":oa.anchor={x:Math.floor(eb.x1)-Ua,column:"end",y:wa*(ja||eb.height()+2*eb.y1),row:ka};break;case "right":oa.anchor={x:Math.ceil(eb.x2)+Ua,y:wa*(ja||eb.height()+2*eb.y1),row:ka};break;case "top":oa.anchor={y:Math.floor(ra.y1)-Ua,row:"end",x:wa*(Oa||ra.width()+2*ra.x1),column:ka};break;case "bottom":oa.anchor=
{y:Math.ceil(ra.y2)+Ua,x:wa*(Oa||ra.width()+2*ra.x1),column:ka};break;case "top-left":oa.anchor={x:Ua,y:Ua};break;case "top-right":oa.anchor={x:Oa-Ua,y:Ua,column:"end"};break;case "bottom-left":oa.anchor={x:Ua,y:ja-Ua,row:"end"};break;case "bottom-right":oa.anchor={x:Oa-Ua,y:ja-Ua,column:"end",row:"end"}}return oa}function ea(oa,va){va=va.items[0];var Ua=va.datum,eb=va.orient,ra=va.bounds,Oa=va.x,ja=va.y;va._bounds?va._bounds.clear().union(ra):va._bounds=ra.clone();ra.clear();var U=va.items[0].items[0];
var ka=va.padding,wa=ka-U.x,Ta=ka-U.y;if(va.datum.title){var db=va.items[1].items[0],lb=db.anchor,nb=va.titlePadding||0,Mb=ka-db.x,$b=ka-db.y;switch(db.orient){case "left":wa+=Math.ceil(db.bounds.width())+nb;break;case "right":case "bottom":break;default:Ta+=db.bounds.height()+nb}(wa||Ta)&&C(oa,U,wa,Ta);switch(db.orient){case "left":$b+=aa(va,U,db,lb,1,1);break;case "right":Mb+=aa(va,U,db,"end",0,0)+nb;$b+=aa(va,U,db,lb,1,1);break;case "bottom":Mb+=aa(va,U,db,lb,0,0);$b+=aa(va,U,db,"end",-1,0,1)+
nb;break;default:Mb+=aa(va,U,db,lb,0,0)}(Mb||$b)&&C(oa,db,Mb,$b);0>(Mb=Math.round(db.bounds.x1-ka))&&(C(oa,U,-Mb,0),C(oa,db,-Mb,0))}else(wa||Ta)&&C(oa,U,wa,Ta);ra=La(va,ra);oa=2*va.padding;U=2*va.padding;ra.empty()||(oa=Math.ceil(ra.width()+oa),U=Math.ceil(ra.height()+U));"symbol"===Ua.type&&B(va.items[0].items[0].items[0].items);"none"!==eb&&(va.x=Oa=0,va.y=ja=0);va.width=oa;va.height=U;p.boundStroke(ra.set(Oa,ja,Oa+oa,ja+U),va);va.mark.bounds.clear().union(ra);return va}function La(oa,va){oa.items.forEach(Ua=>
va.union(Ua.bounds));va.x1=oa.padding;va.y1=oa.padding;return va}function aa(oa,va,Ua,eb,ra,Oa,ja){const U=Ua.datum.vgrad;oa=("symbol"===oa.datum.type||!Oa&&U||ja?va:va.items[0]).bounds[ra?"y2":"x2"]-oa.padding;va=U&&Oa?oa:0;Oa=U&&Oa?0:oa;Ua=0>=ra?0:p.multiLineOffset(Ua);return Math.round("start"===eb?va:"end"===eb?Oa-Ua:.5*(oa-Ua))}function C(oa,va,Ua,eb){va.x+=Ua;va.y+=eb;va.bounds.translate(Ua,eb);va.mark.bounds.translate(Ua,eb);oa.dirty(va)}function B(oa){const va=oa.reduce((Ua,eb)=>{Ua[eb.column]=
Math.max(eb.bounds.x2-eb.x,Ua[eb.column]||0);return Ua},{});oa.forEach(Ua=>{Ua.width=va[Ua.column];Ua.height=Ua.bounds.y2-Ua.y})}function N(oa,va,Ua,eb,ra){var Oa=va.items[0],ja=Oa.orient,U=Oa.anchor,ka=Oa.offset,wa=Oa.padding,Ta=Oa.items[0].items[0],db=Oa.items[1]&&Oa.items[1].items[0],lb="left"===ja||"right"===ja?eb:Ua,nb=0,Mb=Ua=0;"group"!==Oa.frame?"left"===ja?(nb=ra.y2,lb=ra.y1):"right"===ja?(nb=ra.y1,lb=ra.y2):(nb=ra.x1,lb=ra.x2):"left"===ja&&(nb=eb,lb=0);eb="start"===U?nb:"end"===U?lb:(nb+
lb)/2;if(db&&db.text){switch(ja){case "top":case "bottom":Mb=Ta.bounds.height()+wa;break;case "left":Ua=Ta.bounds.width()+wa;break;case "right":Ua=-Ta.bounds.width()-wa}Pa.clear().union(db.bounds);Pa.translate(Ua-(db.x||0),Mb-(db.y||0));h(db,"x",Ua)|h(db,"y",Mb)&&(oa.dirty(db),db.bounds.clear().union(Pa),db.mark.bounds.clear().union(Pa),oa.dirty(db));Pa.clear().union(db.bounds)}else Pa.clear();Pa.union(Ta.bounds);switch(ja){case "top":ja=eb;ra=ra.y1-Pa.height()-ka;break;case "left":ja=ra.x1-Pa.width()-
ka;ra=eb;break;case "right":ja=ra.x2+Pa.width()+ka;ra=eb;break;case "bottom":ja=eb;ra=ra.y2+ka;break;default:ja=Oa.x,ra=Oa.y}h(Oa,"x",ja)|h(Oa,"y",ra)&&(Pa.translate(ja,ra),oa.dirty(Oa),Oa.bounds.clear().union(Pa),va.bounds.clear().union(Pa),oa.dirty(Oa));return Oa.bounds}function Y(oa){k.Transform.call(this,null,oa)}function Aa(oa){return oa&&"legend-entry"!==oa.mark.role}function sa(oa,va,Ua){var eb=va.items,ra=Math.max(0,va.width||0),Oa=Math.max(0,va.height||0),ja=(new p.Bounds).set(0,0,ra,Oa),
U=ja.clone(),ka=ja.clone(),wa=[],Ta,db;var lb=0;for(db=eb.length;lb<db;++lb){var nb=eb[lb];switch(nb.role){case "axis":var Mb=x(nb)?U:ka;Mb.union(O(oa,nb,ra,Oa));break;case "title":var $b=nb;break;case "legend":wa.push(ea(oa,nb));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":U.union(nb.bounds);ka.union(nb.bounds);break;default:ja.union(nb.bounds)}}if(wa.length){const Gc={};wa.forEach(zc=>{Ta=zc.orient||
"right";"none"!==Ta&&(Gc[Ta]||(Gc[Ta]=[])).push(zc)});for(const zc in Gc)eb=Gc[zc],z(oa,eb,W(eb,zc,Ua.legends,U,ka,ra,Oa));wa.forEach(zc=>{const Bc=zc.bounds;Bc.equals(zc._bounds)||(zc.bounds=zc._bounds,oa.dirty(zc),zc.bounds=Bc,oa.dirty(zc));if(Ua.autosize&&"fit"===Ua.autosize.type)switch(zc.orient){case "left":case "right":ja.add(Bc.x1,0).add(Bc.x2,0);break;case "top":case "bottom":ja.add(0,Bc.y1).add(0,Bc.y2)}else ja.union(Bc)})}ja.union(U).union(ka);$b&&ja.union(N(oa,$b,ra,Oa,ja));va.clip&&ja.set(0,
0,va.width||0,va.height||0);la(oa,va,ja,Ua)}function la(oa,va,Ua,eb){eb=eb.autosize||{};const ra=eb.type;if(!(1>oa._autosize)&&ra){var Oa=oa._width,ja=oa._height,U=Math.max(0,va.width||0),ka=Math.max(0,Math.ceil(-Ua.x1));va=Math.max(0,va.height||0);var wa=Math.max(0,Math.ceil(-Ua.y1)),Ta=Math.max(0,Math.ceil(Ua.x2-U));Ua=Math.max(0,Math.ceil(Ua.y2-va));if("padding"===eb.contains){const db=oa.padding();Oa-=db.left+db.right;ja-=db.top+db.bottom}"none"===ra?(wa=ka=0,U=Oa,va=ja):"fit"===ra?(U=Math.max(0,
Oa-ka-Ta),va=Math.max(0,ja-wa-Ua)):"fit-x"===ra?(U=Math.max(0,Oa-ka-Ta),ja=va+wa+Ua):"fit-y"===ra?(Oa=U+ka+Ta,va=Math.max(0,ja-wa-Ua)):"pad"===ra&&(Oa=U+ka+Ta,ja=va+wa+Ua);oa._resizeView(Oa,ja,U,va,[ka,wa],eb.resize)}}q.inherits(t,k.Transform,{transform(oa,va){const Ua=va.dataflow,eb=oa.mark,ra=eb.marktype,Oa=p.Marks[ra],ja=Oa.bound;let U=eb.bounds,ka;if(Oa.nested)eb.items.length&&Ua.dirty(eb.items[0]),U=m(eb,ja),eb.items.forEach(wa=>{wa.bounds.clear().union(U)});else if("group"===ra||oa.modified())switch(va.visit(va.MOD,
wa=>Ua.dirty(wa)),U.clear(),eb.items.forEach(wa=>U.union(m(wa,ja))),eb.role){case "axis":case "legend":case "title":va.reflow()}else ka=va.changed(va.REM),va.visit(va.ADD,wa=>{U.union(m(wa,ja))}),va.visit(va.MOD,wa=>{ka=ka||U.alignsWith(wa.bounds);Ua.dirty(wa);U.union(m(wa,ja))}),ka&&(U.clear(),eb.items.forEach(wa=>U.union(wa.bounds)));p.boundClip(eb);return va.modifies("bounds")}});f.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};q.inherits(f,
k.Transform,{transform(oa,va){const Ua=b(va.dataflow),eb=oa.as;let ra=Ua.value;va.visit(va.ADD,Oa=>Oa[eb]=Oa[eb]||++ra);Ua.set(this.value=ra);return va}});q.inherits(c,k.Transform,{transform(oa,va){let Ua=this.value;Ua||(Ua=va.dataflow.scenegraph().mark(oa.markdef,e(oa),oa.index),Ua.group.context=oa.context,oa.context.group||(oa.context.group=Ua.group),Ua.source=this.source,Ua.clip=oa.clip,Ua.interactive=oa.interactive,this.value=Ua);const eb="group"===Ua.marktype?p.GroupItem:p.Item;va.visit(va.ADD,
ra=>eb.call(ra,Ua));if(oa.modified("clip")||oa.modified("interactive"))Ua.clip=oa.clip,Ua.interactive=!!oa.interactive,Ua.zdirty=!0,va.reflow();Ua.items=va.source;return va}});const Ia={parity:oa=>oa.filter((va,Ua)=>Ua%2?va.opacity=0:1),greedy:(oa,va)=>{let Ua;return oa.filter((eb,ra)=>ra&&bb(Ua.bounds,eb.bounds,va)?eb.opacity=0:(Ua=eb,1))}},bb=(oa,va,Ua)=>Ua>Math.max(va.x1-oa.x2,oa.x1-va.x2,va.y1-oa.y2,oa.y1-va.y2),ib=(oa,va)=>{for(var Ua=1,eb=oa.length,ra=oa[0].bounds;Ua<eb;++Ua)if(bb(ra,ra=oa[Ua].bounds,
va))return!0},Ja=oa=>{oa=oa.bounds;return 1<oa.width()&&1<oa.height()},ma=(oa,va,Ua)=>{oa=oa.range();var eb=new p.Bounds;"top"===va||"bottom"===va?eb.set(oa[0],-Infinity,oa[1],Infinity):eb.set(-Infinity,oa[0],Infinity,oa[1]);eb.expand(Ua||1);return ra=>eb.encloses(ra.bounds)},Fa=oa=>{oa.forEach(va=>va.opacity=1);return oa};q.inherits(g,k.Transform,{transform(oa,va){const Ua=Ia[oa.method]||Ia.parity,eb=oa.separation||0;let ra=va.materialize(va.SOURCE).source,Oa,ja;if(ra&&ra.length){if(!oa.method)return oa.modified("method")&&
(Fa(ra),va=va.reflow(oa.modified()).modifies("opacity")),va;ra=ra.filter(Ja);if(ra.length){oa.sort&&(ra=ra.slice().sort(oa.sort));Oa=Fa(ra);va=va.reflow(oa.modified()).modifies("opacity");if(3<=Oa.length&&ib(Oa,eb)){do Oa=Ua(Oa,eb);while(3<=Oa.length&&ib(Oa,eb));3>Oa.length&&!q.peek(ra).opacity&&(1<Oa.length&&(q.peek(Oa).opacity=0),q.peek(ra).opacity=1)}oa.boundScale&&0<=oa.boundTolerance&&(ja=ma(oa.boundScale,oa.boundOrient,+oa.boundTolerance),ra.forEach(ka=>{ja(ka)||(ka.opacity=0)}));var U=Oa[0].mark.bounds.clear();
ra.forEach(ka=>{ka.opacity&&U.union(ka.bounds)});return va}}}});q.inherits(n,k.Transform,{transform(oa,va){const Ua=va.dataflow;va.visit(va.ALL,eb=>Ua.dirty(eb));va.fields&&va.fields.zindex&&(oa=va.source&&va.source[0])&&(oa.mark.zdirty=!0)}});const Pa=new p.Bounds,qa=(oa,va)=>Math.floor(Math.min(oa,va)),ya=(oa,va)=>Math.ceil(Math.max(oa,va));q.inherits(Y,k.Transform,{transform(oa,va){const Ua=va.dataflow;oa.mark.items.forEach(eb=>{if(oa.layout){var ra=oa.layout;var Oa=eb.items;for(var ja=Oa.length,
U=0,ka,wa,Ta={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};U<ja;++U)if(ka=Oa[U],wa=ka.items,"group"===ka.marktype)switch(ka.role){case "axis":case "legend":case "title":break;case "row-header":Ta.rowheaders.push(...wa);break;case "row-footer":Ta.rowfooters.push(...wa);break;case "column-header":Ta.colheaders.push(...wa);break;case "column-footer":Ta.colfooters.push(...wa);break;case "row-title":Ta.rowtitle=wa[0];break;case "column-title":Ta.coltitle=
wa[0];break;default:Ta.marks.push(...wa)}Oa=Ta;wa=Oa.marks;Ta="flush"===ra.bounds?G:T;ja=ra.offset;var db=ra.columns||wa.length,lb=0>=db?1:Math.ceil(wa.length/db),nb=lb*db;U=z(Ua,wa,ra);U.empty()&&U.set(0,0,0,0);if(Oa.rowheaders){ka=D(ra.headerBand,"row",null);var Mb=R(Ua,Oa.rowheaders,wa,db,lb,-D(ja,"rowHeader"),qa,0,Ta,"x1",0,db,1,ka)}if(Oa.colheaders){ka=D(ra.headerBand,"column",null);var $b=R(Ua,Oa.colheaders,wa,db,db,-D(ja,"columnHeader"),qa,1,Ta,"y1",0,1,db,ka)}if(Oa.rowfooters){ka=D(ra.footerBand,
"row",null);var Gc=R(Ua,Oa.rowfooters,wa,db,lb,D(ja,"rowFooter"),ya,0,Ta,"x2",db-1,db,1,ka)}if(Oa.colfooters){ka=D(ra.footerBand,"column",null);var zc=R(Ua,Oa.colfooters,wa,db,db,D(ja,"columnFooter"),ya,1,Ta,"y2",nb-db,1,db,ka)}Oa.rowtitle&&(ka=D(ra.titleAnchor,"row"),wa=D(ja,"rowTitle"),wa="end"===ka?Gc+wa:Mb-wa,ka=D(ra.titleBand,"row",.5),ca(Ua,Oa.rowtitle,wa,0,U,ka));Oa.coltitle&&(ka=D(ra.titleAnchor,"column"),wa=D(ja,"columnTitle"),wa="end"===ka?zc+wa:$b-wa,ka=D(ra.titleBand,"column",.5),ca(Ua,
Oa.coltitle,wa,1,U,ka))}sa(Ua,eb,oa)});return Aa(oa.mark.group)?va.reflow():va}});w.bound=t;w.identifier=f;w.mark=c;w.overlap=g;w.render=n;w.viewlayout=Y;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(27),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega))})(this,function(w,k,p,q){function t(ua){k.Transform.call(this,null,ua)}function m(ua){k.Transform.call(this,null,ua)}function f(){return k.ingest({})}function b(ua){const Ca=q.fastmap().test($a=>
$a.exit);Ca.lookup=$a=>Ca.get(ua($a));return Ca}function c(ua){k.Transform.call(this,null,ua)}function e(ua){k.Transform.call(this,[],ua)}function g(ua){k.Transform.call(this,{},ua)}function n(ua,Ca,$a){ua=+ua;Ca=+Ca;$a=2>(yb=arguments.length)?(Ca=ua,ua=0,1):3>yb?1:+$a;for(var jb=-1,yb=Math.max(0,Math.ceil((Ca-ua)/$a))|0,Ub=Array(yb);++jb<yb;)Ub[jb]=ua+jb*$a;return Ub}function h(ua,Ca){let $a=0;if(void 0===Ca)for(var jb of ua){if(jb=+jb)$a+=jb}else{jb=-1;for(let yb of ua)if(yb=+Ca(yb,++jb,ua))$a+=
yb}return $a}function x(ua){k.Transform.call(this,null,ua)}function O(ua,Ca,$a){ua.prototype=Ca.prototype=$a;$a.constructor=ua}function H(ua,Ca){ua=Object.create(ua.prototype);for(var $a in Ca)ua[$a]=Ca[$a];return ua}function F(){}function J(){return this.rgb().formatHex()}function D(){return this.rgb().formatRgb()}function r(ua){var Ca,$a;ua=(ua+"").trim().toLowerCase();return(Ca=Bc.exec(ua))?($a=Ca[1].length,Ca=parseInt(Ca[1],16),6===$a?z(Ca):3===$a?new R(Ca>>8&15|Ca>>4&240,Ca>>4&15|Ca&240,(Ca&
15)<<4|Ca&15,1):8===$a?G(Ca>>24&255,Ca>>16&255,Ca>>8&255,(Ca&255)/255):4===$a?G(Ca>>12&15|Ca>>8&240,Ca>>8&15|Ca>>4&240,Ca>>4&15|Ca&240,((Ca&15)<<4|Ca&15)/255):null):(Ca=uc.exec(ua))?new R(Ca[1],Ca[2],Ca[3],1):(Ca=id.exec(ua))?new R(255*Ca[1]/100,255*Ca[2]/100,255*Ca[3]/100,1):(Ca=Hb.exec(ua))?G(Ca[1],Ca[2],Ca[3],Ca[4]):(Ca=Ab.exec(ua))?G(255*Ca[1]/100,255*Ca[2]/100,255*Ca[3]/100,Ca[4]):(Ca=dc.exec(ua))?W(Ca[1],Ca[2]/100,Ca[3]/100,1):(Ca=Wb.exec(ua))?W(Ca[1],Ca[2]/100,Ca[3]/100,Ca[4]):mc.hasOwnProperty(ua)?
z(mc[ua]):"transparent"===ua?new R(NaN,NaN,NaN,0):null}function z(ua){return new R(ua>>16&255,ua>>8&255,ua&255,1)}function G(ua,Ca,$a,jb){0>=jb&&(ua=Ca=$a=NaN);return new R(ua,Ca,$a,jb)}function T(ua,Ca,$a,jb){if(1===arguments.length){var yb=ua;yb instanceof F||(yb=r(yb));yb?(yb=yb.rgb(),yb=new R(yb.r,yb.g,yb.b,yb.opacity)):yb=new R}else yb=new R(ua,Ca,$a,null==jb?1:jb);return yb}function R(ua,Ca,$a,jb){this.r=+ua;this.g=+Ca;this.b=+$a;this.opacity=+jb}function ca(){return"#"+ba(this.r)+ba(this.g)+
ba(this.b)}function M(){var ua=this.opacity;ua=isNaN(ua)?1:Math.max(0,Math.min(1,ua));return(1===ua?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===ua?")":", "+ua+")")}function ba(ua){ua=Math.max(0,Math.min(255,Math.round(ua)||0));return(16>ua?"0":"")+ua.toString(16)}function W(ua,Ca,$a,jb){0>=jb?ua=Ca=$a=NaN:0>=$a||1<=$a?ua=Ca=NaN:0>=Ca&&(ua=NaN);return new La(ua,Ca,$a,jb)}
function ea(ua){if(ua instanceof La)return new La(ua.h,ua.s,ua.l,ua.opacity);ua instanceof F||(ua=r(ua));if(!ua)return new La;if(ua instanceof La)return ua;ua=ua.rgb();var Ca=ua.r/255,$a=ua.g/255,jb=ua.b/255,yb=Math.min(Ca,$a,jb),Ub=Math.max(Ca,$a,jb),Tb=NaN,Vb=Ub-yb,Ic=(Ub+yb)/2;Vb?(Tb=Ca===Ub?($a-jb)/Vb+6*($a<jb):$a===Ub?(jb-Ca)/Vb+2:(Ca-$a)/Vb+4,Vb/=.5>Ic?Ub+yb:2-Ub-yb,Tb*=60):Vb=0<Ic&&1>Ic?0:Tb;return new La(Tb,Vb,Ic,ua.opacity)}function La(ua,Ca,$a,jb){this.h=+ua;this.s=+Ca;this.l=+$a;this.opacity=
+jb}function aa(ua,Ca,$a){return 255*(60>ua?Ca+($a-Ca)*ua/60:180>ua?$a:240>ua?Ca+($a-Ca)*(240-ua)/60:Ca)}function C(ua,Ca){return function($a){return ua+$a*Ca}}function B(ua,Ca,$a){return ua=Math.pow(ua,$a),Ca=Math.pow(Ca,$a)-ua,$a=1/$a,function(jb){return Math.pow(ua+jb*Ca,$a)}}function N(ua){return 1===(ua=+ua)?Y:function(Ca,$a){return $a-Ca?B(Ca,$a,ua):Kc(isNaN(Ca)?$a:Ca)}}function Y(ua,Ca){var $a=Ca-ua;return $a?C(ua,$a):Kc(isNaN(ua)?Ca:ua)}function Aa(ua,Ca){Ca||(Ca=[]);var $a=ua?Math.min(Ca.length,
ua.length):0,jb=Ca.slice(),yb;return function(Ub){for(yb=0;yb<$a;++yb)jb[yb]=ua[yb]*(1-Ub)+Ca[yb]*Ub;return jb}}function sa(ua,Ca){var $a=Ca?Ca.length:0,jb=ua?Math.min($a,ua.length):0,yb=Array(jb),Ub=Array($a),Tb;for(Tb=0;Tb<jb;++Tb)yb[Tb]=Fa(ua[Tb],Ca[Tb]);for(;Tb<$a;++Tb)Ub[Tb]=Ca[Tb];return function(Vb){for(Tb=0;Tb<jb;++Tb)Ub[Tb]=yb[Tb](Vb);return Ub}}function la(ua,Ca){var $a=new Date;return ua=+ua,Ca=+Ca,function(jb){return $a.setTime(ua*(1-jb)+Ca*jb),$a}}function Ia(ua,Ca){return ua=+ua,Ca=
+Ca,function($a){return ua*(1-$a)+Ca*$a}}function bb(ua,Ca){var $a={},jb={},yb;if(null===ua||"object"!==typeof ua)ua={};if(null===Ca||"object"!==typeof Ca)Ca={};for(yb in Ca)yb in ua?$a[yb]=Fa(ua[yb],Ca[yb]):jb[yb]=Ca[yb];return function(Ub){for(yb in $a)jb[yb]=$a[yb](Ub);return jb}}function ib(ua){return function(){return ua}}function Ja(ua){return function(Ca){return ua(Ca)+""}}function ma(ua,Ca){var $a=Sc.lastIndex=jd.lastIndex=0,jb,yb,Ub,Tb=-1,Vb=[],Ic=[];ua+="";for(Ca+="";(jb=Sc.exec(ua))&&(yb=
jd.exec(Ca));)(Ub=yb.index)>$a&&(Ub=Ca.slice($a,Ub),Vb[Tb]?Vb[Tb]+=Ub:Vb[++Tb]=Ub),(jb=jb[0])===(yb=yb[0])?Vb[Tb]?Vb[Tb]+=yb:Vb[++Tb]=yb:(Vb[++Tb]=null,Ic.push({i:Tb,x:Ia(jb,yb)})),$a=jd.lastIndex;$a<Ca.length&&(Ub=Ca.slice($a),Vb[Tb]?Vb[Tb]+=Ub:Vb[++Tb]=Ub);return 2>Vb.length?Ic[0]?Ja(Ic[0].x):ib(Ca):(Ca=Ic.length,function(Yc){for(var dd=0,nd;dd<Ca;++dd)Vb[(nd=Ic[dd]).i]=nd.x(Yc);return Vb.join("")})}function Fa(ua,Ca){var $a=typeof Ca;if(null==Ca||"boolean"===$a)ua=Kc(Ca);else{if("number"===$a)var jb=
Ia;else"string"===$a?$a=(jb=r(Ca))?(Ca=jb,Fc):ma:(Ca instanceof r?jb=Fc:Ca instanceof Date?jb=la:(jb=Ca,jb=!ArrayBuffer.isView(jb)||jb instanceof DataView?Array.isArray(Ca)?sa:"function"!==typeof Ca.valueOf&&"function"!==typeof Ca.toString||isNaN(Ca)?bb:Ia:Aa),$a=jb),jb=$a;ua=jb(ua,Ca)}return ua}function Pa(ua,Ca){return ua=+ua,Ca=+Ca,function($a){return Math.round(ua*(1-$a)+Ca*$a)}}function qa(ua){return p.isContinuous(ua)&&ua!==p.Sequential}function ya(ua){k.Transform.call(this,null,ua);this.modified(!0)}
function oa(ua,Ca,$a){p.isLogarithmic(ua)&&Math.abs(Ca.reduce((jb,yb)=>jb+(0>yb?-1:0<yb?1:0),0))!==Ca.length&&$a.warn("Log scale domain includes zero: "+q.stringValue(Ca));return Ca}function va(ua,Ca,$a){return q.isFunction(ua)&&(Ca||$a)?p.interpolateRange(ua,Ua(Ca||[0,1],$a)):ua}function Ua(ua,Ca){return Ca?ua.slice().reverse():ua}function eb(ua){k.Transform.call(this,null,ua)}function ra(ua){k.Transform.call(this,null,ua)}function Oa(ua,Ca,$a,jb,yb){Ca=(Ca-ua.sum)/2;for(var Ub=ua.length,Tb=0,Vb;Tb<
Ub;++Tb)Vb=ua[Tb],Vb[jb]=Ca,Vb[yb]=Ca+=Math.abs($a(Vb))}function ja(ua,Ca,$a,jb,yb){Ca=1/ua.sum;for(var Ub=0,Tb=ua.length,Vb=0,Ic=0,Yc;Vb<Tb;++Vb)Yc=ua[Vb],Yc[jb]=Ub,Yc[yb]=Ub=Ca*(Ic+=Math.abs($a(Yc)))}function U(ua,Ca,$a,jb,yb){for(var Ub=Ca=0,Tb=ua.length,Vb=0,Ic,Yc;Vb<Tb;++Vb)Yc=ua[Vb],Ic=+$a(Yc),0>Ic?(Yc[jb]=Ub,Yc[yb]=Ub+=Ic):(Yc[jb]=Ca,Yc[yb]=Ca+=Ic)}function ka(ua,Ca,$a,jb){var yb=[],Ub=xd=>xd(Yc),Tb;if(null==Ca)yb.push(ua.slice());else{var Vb={};var Ic=0;for(Tb=ua.length;Ic<Tb;++Ic){var Yc=
ua[Ic];var dd=Ca.map(Ub);var nd=Vb[dd];nd||(Vb[dd]=nd=[],yb.push(nd));nd.push(Yc)}}Ub=dd=0;for(ua=yb.length;dd<ua;++dd){nd=yb[dd];Ca=Ic=0;for(Tb=nd.length;Ic<Tb;++Ic)Ca+=Math.abs(jb(nd[Ic]));nd.sum=Ca;Ca>Ub&&(Ub=Ca);$a&&nd.sort($a)}yb.max=Ub;return yb}q.inherits(t,k.Transform,{transform(ua,Ca){if(this.value&&!ua.modified())return Ca.StopPropagation;var $a=Ca.dataflow.locale();Ca=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS);var jb=this.value,yb=ua.scale,Ub=p.tickCount(yb,null==ua.count?ua.values?ua.values.length:
10:ua.count,ua.minstep),Tb=ua.format||p.tickFormat($a,yb,Ub,ua.formatSpecifier,ua.formatType,!!ua.values),Vb=ua.values?p.validTicks(yb,ua.values,Ub):p.tickValues(yb,Ub);jb&&(Ca.rem=jb);jb=Vb.map((Ic,Yc)=>k.ingest({index:Yc/(Vb.length-1||1),value:Ic,label:Tb(Ic)}));ua.extra&&jb.length&&jb.push(k.ingest({index:-1,extra:{value:jb[0].value},label:""}));Ca.source=jb;this.value=Ca.add=jb;return Ca}});q.inherits(m,k.Transform,{transform(ua,Ca){var $a=Ca.dataflow,jb=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS),yb=
ua.item||f,Ub=ua.key||k.tupleid,Tb=this.value;q.isArray(jb.encode)&&(jb.encode=null);Tb&&(ua.modified("key")||Ca.modified(Ub))&&q.error("DataJoin does not support modified key function or fields.");Tb||(Ca=Ca.addAll(),this.value=Tb=b(Ub));Ca.visit(Ca.ADD,Vb=>{const Ic=Ub(Vb);let Yc=Tb.get(Ic);Yc?Yc.exit?(Tb.empty--,jb.add.push(Yc)):jb.mod.push(Yc):(Yc=yb(Vb),Tb.set(Ic,Yc),jb.add.push(Yc));Yc.datum=Vb;Yc.exit=!1});Ca.visit(Ca.MOD,Vb=>{var Ic=Ub(Vb);if(Ic=Tb.get(Ic))Ic.datum=Vb,jb.mod.push(Ic)});Ca.visit(Ca.REM,
Vb=>{var Ic=Ub(Vb);Ic=Tb.get(Ic);Vb!==Ic.datum||Ic.exit||(jb.rem.push(Ic),Ic.exit=!0,++Tb.empty)});Ca.changed(Ca.ADD_MOD)&&jb.modifies("datum");(Ca.clean()||ua.clean&&Tb.empty>$a.cleanThreshold)&&$a.runAfter(Tb.clean);return jb}});q.inherits(c,k.Transform,{transform(ua,Ca){var $a=Ca.fork(Ca.ADD_REM),jb=ua.mod||!1,yb=ua.encoders,Ub=Ca.encode;if(q.isArray(Ub))if($a.changed()||Ub.every(nd=>yb[nd]))Ub=Ub[0],$a.encode=null;else return Ca.StopPropagation;var Tb="enter"===Ub,Vb=yb.update||q.falsy,Ic=yb.enter||
q.falsy,Yc=yb.exit||q.falsy,dd=(Ub&&!Tb?yb[Ub]:Vb)||q.falsy;Ca.changed(Ca.ADD)&&(Ca.visit(Ca.ADD,nd=>{Ic(nd,ua);Vb(nd,ua)}),$a.modifies(Ic.output),$a.modifies(Vb.output),dd!==q.falsy&&dd!==Vb&&(Ca.visit(Ca.ADD,nd=>{dd(nd,ua)}),$a.modifies(dd.output)));Ca.changed(Ca.REM)&&Yc!==q.falsy&&(Ca.visit(Ca.REM,nd=>{Yc(nd,ua)}),$a.modifies(Yc.output));if(Tb||dd!==q.falsy)Ub=Ca.MOD|(ua.modified()?Ca.REFLOW:0),Tb?(Ca.visit(Ub,nd=>{const xd=Ic(nd,ua)||jb;(dd(nd,ua)||xd)&&$a.mod.push(nd)}),$a.mod.length&&$a.modifies(Ic.output)):
Ca.visit(Ub,nd=>{(dd(nd,ua)||jb)&&$a.mod.push(nd)}),$a.mod.length&&$a.modifies(dd.output);return $a.changed()?$a:Ca.StopPropagation}});q.inherits(e,k.Transform,{transform(ua,Ca){if(null!=this.value&&!ua.modified())return Ca.StopPropagation;var $a=Ca.dataflow.locale(),jb=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS),yb=this.value,Ub=ua.type||p.SymbolLegend,Tb=ua.scale,Vb=+ua.limit,Ic=p.tickCount(Tb,null==ua.count?5:ua.count,ua.minstep),Yc=!!ua.values||Ub===p.SymbolLegend,dd=ua.format||p.labelFormat($a,Tb,Ic,
Ub,ua.formatSpecifier,ua.formatType,Yc),nd=ua.values||p.labelValues(Tb,Ic),xd;yb&&(jb.rem=yb);if(Ub===p.SymbolLegend){if(Vb&&nd.length>Vb){Ca.dataflow.warn("Symbol legend count exceeds limit, filtering items.");yb=nd.slice(0,Vb-1);var Nd=!0}else yb=nd;if(q.isFunction(xd=ua.size)){ua.values||0!==Tb(yb[0])||(yb=yb.slice(1));var Xd=yb.reduce((le,qe)=>Math.max(le,xd(qe,ua)),0)}else xd=q.constant(Xd=xd||8);yb=yb.map((le,qe)=>k.ingest({index:qe,label:dd(le,qe,yb),value:le,offset:Xd,size:xd(le,ua)}));Nd&&
(Nd=nd[yb.length],yb.push(k.ingest({index:yb.length,label:`\u2026${nd.length-yb.length} entries`,value:Nd,offset:Xd,size:xd(Nd,ua)})))}else if(Ub===p.GradientLegend){Ca=Tb.domain();var ge=p.scaleFraction(Tb,Ca[0],q.peek(Ca));3>nd.length&&!ua.values&&Ca[0]!==q.peek(Ca)&&(nd=[Ca[0],q.peek(Ca)]);yb=nd.map((le,qe)=>k.ingest({index:qe,label:dd(le,qe,nd),value:le,perc:ge(le)}))}else xd=nd.length-1,ge=p.labelFraction(Tb),yb=nd.map((le,qe)=>k.ingest({index:qe,label:dd(le,qe,nd),value:le,perc:qe?ge(le):0,
perc2:qe===xd?1:ge(nd[qe+1])}));jb.source=yb;this.value=jb.add=yb;return jb}});const wa=ua=>ua.source.x,Ta=ua=>ua.source.y,db=ua=>ua.target.x,lb=ua=>ua.target.y;g.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical",
"radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};q.inherits(g,k.Transform,{transform(ua,Ca){var $a=ua.sourceX||wa,jb=ua.sourceY||Ta,yb=ua.targetX||db,Ub=ua.targetY||lb,Tb=ua.as||"path",Vb=ua.shape||"line",Ic=Gc.get(Vb+"-"+(ua.orient||"vertical"))||Gc.get(Vb);Ic||q.error("LinkPath unsupported type: "+ua.shape+(ua.orient?"-"+ua.orient:""));Ca.visit(Ca.SOURCE,Yc=>{Yc[Tb]=
Ic($a(Yc),jb(Yc),yb(Yc),Ub(Yc))});return Ca.reflow(ua.modified()).modifies(Tb)}});const nb=(ua,Ca,$a,jb)=>"M"+ua+","+Ca+"L"+$a+","+jb,Mb=(ua,Ca,$a,jb)=>{var yb=$a-ua,Ub=jb-Ca,Tb=Math.sqrt(yb*yb+Ub*Ub)/2;return"M"+ua+","+Ca+"A"+Tb+","+Tb+" "+180*Math.atan2(Ub,yb)/Math.PI+" 0 1 "+$a+","+jb},$b=(ua,Ca,$a,jb)=>{var yb=$a-ua;const Ub=jb-Ca,Tb=.2*(yb+Ub);yb=.2*(Ub-yb);return"M"+ua+","+Ca+"C"+(ua+Tb)+","+(Ca+yb)+" "+($a+yb)+","+(jb-Tb)+" "+$a+","+jb},Gc=q.fastmap({line:nb,"line-radial":(ua,Ca,$a,jb)=>nb(Ca*
Math.cos(ua),Ca*Math.sin(ua),jb*Math.cos($a),jb*Math.sin($a)),arc:Mb,"arc-radial":(ua,Ca,$a,jb)=>Mb(Ca*Math.cos(ua),Ca*Math.sin(ua),jb*Math.cos($a),jb*Math.sin($a)),curve:$b,"curve-radial":(ua,Ca,$a,jb)=>$b(Ca*Math.cos(ua),Ca*Math.sin(ua),jb*Math.cos($a),jb*Math.sin($a)),"orthogonal-horizontal":(ua,Ca,$a,jb)=>"M"+ua+","+Ca+"V"+jb+"H"+$a,"orthogonal-vertical":(ua,Ca,$a,jb)=>"M"+ua+","+Ca+"H"+$a+"V"+jb,"orthogonal-radial":(ua,Ca,$a,jb)=>{const yb=Math.cos($a),Ub=Math.sin($a);return"M"+Ca*Math.cos(ua)+
","+Ca*Math.sin(ua)+"A"+Ca+","+Ca+" 0 0,"+((Math.abs($a-ua)>Math.PI?$a<=ua:$a>ua)?1:0)+" "+Ca*yb+","+Ca*Ub+"L"+jb*yb+","+jb*Ub},"diagonal-horizontal":(ua,Ca,$a,jb)=>{const yb=(ua+$a)/2;return"M"+ua+","+Ca+"C"+yb+","+Ca+" "+yb+","+jb+" "+$a+","+jb},"diagonal-vertical":(ua,Ca,$a,jb)=>{const yb=(Ca+jb)/2;return"M"+ua+","+Ca+"C"+ua+","+yb+" "+$a+","+yb+" "+$a+","+jb},"diagonal-radial":(ua,Ca,$a,jb)=>{const yb=Math.cos(ua);ua=Math.sin(ua);const Ub=Math.cos($a);$a=Math.sin($a);const Tb=(Ca+jb)/2;return"M"+
Ca*yb+","+Ca*ua+"C"+Tb*yb+","+Tb*ua+" "+Tb*Ub+","+Tb*$a+" "+jb*Ub+","+jb*$a}});x.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};q.inherits(x,k.Transform,{transform(ua,Ca){var $a=ua.as||["startAngle","endAngle"],jb=$a[0],yb=$a[1],Ub=ua.startAngle||
0,Tb=null!=ua.endAngle?ua.endAngle:2*Math.PI,Vb=Ca.source,Ic=Vb.map(ua.field||q.one),Yc=Ic.length,dd=Ub;Ub=(Tb-Ub)/h(Ic);Tb=n(Yc);var nd;ua.sort&&Tb.sort((Xd,ge)=>Ic[Xd]-Ic[ge]);for(nd=0;nd<Yc;++nd){var xd=Ic[Tb[nd]];var Nd=Vb[Tb[nd]];Nd[jb]=dd;Nd[yb]=dd+=xd*Ub}this.value=Ic;return Ca.reflow(ua.modified()).modifies($a)}});var zc=1/.7,Bc=/^#([0-9a-f]{3,8})$/,uc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),id=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Hb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ab=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),dc=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Wb=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),mc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O(F,r,{copy:function(ua){return Object.assign(new this.constructor,this,ua)},displayable:function(){return this.rgb().displayable()},hex:J,formatHex:J,formatHsl:function(){return ea(this).formatHsl()},
formatRgb:D,toString:D});O(R,T,H(F,{brighter:function(ua){ua=null==ua?zc:Math.pow(zc,ua);return new R(this.r*ua,this.g*ua,this.b*ua,this.opacity)},darker:function(ua){ua=null==ua?.7:Math.pow(.7,ua);return new R(this.r*ua,this.g*ua,this.b*ua,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:ca,formatHex:ca,formatRgb:M,toString:M}));O(La,function(ua,Ca,$a,jb){return 1===
arguments.length?ea(ua):new La(ua,Ca,$a,null==jb?1:jb)},H(F,{brighter:function(ua){ua=null==ua?zc:Math.pow(zc,ua);return new La(this.h,this.s,this.l*ua,this.opacity)},darker:function(ua){ua=null==ua?.7:Math.pow(.7,ua);return new La(this.h,this.s,this.l*ua,this.opacity)},rgb:function(){var ua=this.h%360+360*(0>this.h),Ca=isNaN(ua)||isNaN(this.s)?0:this.s,$a=this.l;Ca=$a+(.5>$a?$a:1-$a)*Ca;$a=2*$a-Ca;return new R(aa(240<=ua?ua-240:ua+120,$a,Ca),aa(ua,$a,Ca),aa(120>ua?ua+240:ua-120,$a,Ca),this.opacity)},
displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var ua=this.opacity;ua=isNaN(ua)?1:Math.max(0,Math.min(1,ua));return(1===ua?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===ua?")":", "+ua+")")}}));var Kc=ua=>()=>ua,Fc=function $a(Ca){function jb(Ub,Tb){var Vb=yb((Ub=T(Ub)).r,(Tb=T(Tb)).r),Ic=yb(Ub.g,Tb.g),Yc=yb(Ub.b,Tb.b),dd=Y(Ub.opacity,Tb.opacity);return function(nd){Ub.r=
Vb(nd);Ub.g=Ic(nd);Ub.b=Yc(nd);Ub.opacity=dd(nd);return Ub+""}}var yb=N(Ca);jb.gamma=$a;return jb}(1),Sc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jd=new RegExp(Sc.source,"g");const $d=q.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));q.inherits(ya,k.Transform,{transform(Ca,$a){var jb=$a.dataflow,yb=this.value;var Ub=Ca.type;var Tb=
"";if(Ub===p.Sequential)Ub=p.Sequential+"-"+p.Linear;else{var Vb=Ca.type;p.isContinuous(Vb)&&Vb!==p.Time&&Vb!==p.UTC&&(Ca.scheme||Ca.range&&Ca.range.length&&Ca.range.every(q.isString))&&(Tb=Ca.rawDomain?Ca.rawDomain.length:Ca.domain?Ca.domain.length+ +(null!=Ca.domainMid):0,Tb=2===Tb?p.Sequential+"-":3===Tb?p.Diverging+"-":"");Ub=(Tb+Ub||p.Linear).toLowerCase()}yb&&Ub===yb.type||(this.value=yb=p.scale(Ub)());for(Ub in Ca)$d[Ub]||"padding"===Ub&&qa(yb.type)||(q.isFunction(yb[Ub])?yb[Ub](Ca[Ub]):jb.warn("Unsupported scale property: "+
Ub));Tb=Ub=yb;(Vb=Ca.domainRaw)?(yb.domain(oa(yb.type,Vb,jb)),Vb=Vb.length):Vb=-1;if(-1<Vb)jb=Vb;else{var Ic=Ca.domain;Vb=yb.type;var Yc;!(Yc=Ca.zero)&&(Yc=void 0===Ca.zero)&&(Yc=yb.type,Yc=!yb.bins&&(Yc===p.Linear||Yc===p.Pow||Yc===p.Sqrt));if(Ic){if(qa(Vb)&&Ca.padding&&Ic[0]!==q.peek(Ic)){var dd=Ca.range,nd=Ca.padding;var xd=Ca.exponent;var Nd=Ca.constant;dd=Math.abs(q.peek(dd)-dd[0]);nd=dd/(dd-2*nd);xd=Vb===p.Log?q.zoomLog(Ic,null,nd):Vb===p.Sqrt?q.zoomPow(Ic,null,nd,.5):Vb===p.Pow?q.zoomPow(Ic,
null,nd,xd||1):Vb===p.Symlog?q.zoomSymlog(Ic,null,nd,Nd||1):q.zoomLinear(Ic,null,nd);Ic=Ic.slice();Ic[0]=xd[0];Ic[Ic.length-1]=xd[1]}if(Yc||null!=Ca.domainMin||null!=Ca.domainMax||null!=Ca.domainMid)xd=(Ic=Ic.slice()).length-1||1,Yc&&(0<Ic[0]&&(Ic[0]=0),0>Ic[xd]&&(Ic[xd]=0)),null!=Ca.domainMin&&(Ic[0]=Ca.domainMin),null!=Ca.domainMax&&(Ic[xd]=Ca.domainMax),null!=Ca.domainMid&&(Yc=Ca.domainMid,Nd=Yc>Ic[xd]?xd+1:Yc<Ic[0]?0:xd,Nd!==xd&&jb.warn("Scale domainMid exceeds domain min or max.",Yc),Ic.splice(Nd,
0,Yc));yb.domain(oa(Vb,Ic,jb));Vb===p.Ordinal&&yb.unknown(Ca.domainImplicit?p.scaleImplicit:void 0);Ca.nice&&yb.nice&&yb.nice(!0!==Ca.nice&&p.tickCount(yb,Ca.nice)||null);jb=Ic.length}else jb=0}(Vb=Ca.bins)&&!q.isArray(Vb)&&(Yc=Tb.domain(),yb=Yc[0],Yc=q.peek(Yc),Ic=Vb.step,xd=null==Vb.start?yb:Vb.start,Vb=null==Vb.stop?Yc:Vb.stop,Ic||q.error("Scale bins parameter missing step property."),xd<yb&&(xd=Ic*Math.ceil(yb/Ic)),Vb>Yc&&(Vb=Ic*Math.floor(Yc/Ic)),Vb=n(xd,Vb+Ic/2,Ic));Vb?Tb.bins=Vb:Tb.bins&&delete Tb.bins;
Tb.type===p.BinOrdinal&&(Vb?Ca.domain||Ca.domainRaw||(Tb.domain(Vb),jb=Vb.length):Tb.bins=Tb.domain());yb=jb;a:{Tb=Ub.type;jb=Ca.round||!1;Vb=Ca.range;if(null!=Ca.rangeStep)Tb!==p.Band&&Tb!==p.Point&&q.error("Only band and point scales support rangeStep."),Vb=[0,Ca.rangeStep*p.bandSpace(yb,Tb===p.Point?1:(null!=Ca.paddingInner?Ca.paddingInner:Ca.padding)||0,(null!=Ca.paddingOuter?Ca.paddingOuter:Ca.padding)||0)];else if(Ca.scheme&&(Vb=Ca.schemeExtent,q.isArray(Ca.scheme)?Yc=p.interpolateColors(Ca.scheme,
Ca.interpolate,Ca.interpolateGamma):(Yc=Ca.scheme.toLowerCase(),(Yc=p.scheme(Yc))||q.error(`Unrecognized scheme name: ${Ca.scheme}`)),yb=Tb===p.Threshold?yb+1:Tb===p.BinOrdinal?yb-1:Tb===p.Quantile||Tb===p.Quantize?+Ca.schemeCount||5:yb,Vb=p.isInterpolating(Tb)?va(Yc,Vb,Ca.reverse):q.isFunction(Yc)?p.quantizeInterpolator(va(Yc,Vb),yb):Tb===p.Ordinal?Yc:Yc.slice(0,yb),q.isFunction(Vb)))if(Ub.interpolator){Ub.interpolator(Vb);break a}else q.error(`Scale type ${Tb} does not support interpolating color schemes.`);
Vb&&p.isInterpolating(Tb)?Ub.interpolator(p.interpolateColors(Ua(Vb,Ca.reverse),Ca.interpolate,Ca.interpolateGamma)):(Vb&&Ca.interpolate&&Ub.interpolate?Ub.interpolate(p.interpolate(Ca.interpolate,Ca.interpolateGamma)):q.isFunction(Ub.round)?Ub.round(jb):q.isFunction(Ub.rangeRound)&&Ub.interpolate(jb?Pa:Fa),Vb&&Ub.range(Ua(Vb,Ca.reverse)))}return $a.fork($a.NO_SOURCE|$a.NO_FIELDS)}});q.inherits(eb,k.Transform,{transform(Ca,$a){const jb=Ca.modified("sort")||$a.changed($a.ADD)||$a.modified(Ca.sort.fields)||
$a.modified("datum");jb&&$a.source.sort(k.stableCompare(Ca.sort));this.modified(jb);return $a}});const Ba=["y0","y1"];ra.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":Ba}]};q.inherits(ra,k.Transform,{transform(Ca,$a){var jb=Ca.as||Ba,yb=jb[0],Ub=jb[1],Tb=k.stableCompare(Ca.sort),
Vb=Ca.field||q.one,Ic="center"===Ca.offset?Oa:"normalize"===Ca.offset?ja:U,Yc;Tb=ka($a.source,Ca.groupby,Tb,Vb);var dd=0;var nd=Tb.length;for(Yc=Tb.max;dd<nd;++dd)Ic(Tb[dd],Yc,Vb,yb,Ub);return $a.reflow(Ca.modified()).modifies(jb)}});w.axisticks=t;w.datajoin=m;w.encode=c;w.legendentries=e;w.linkpath=g;w.pie=x;w.scale=ya;w.sortitems=eb;w.stack=ra;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[31]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={}))})(this,function(w){function*k(kb){for(const Gb of kb)yield*Gb}function p(kb){return 1<kb?0:-1>kb?xd:Math.acos(kb)}function q(kb){return 1<kb?Nd:-1>kb?-Nd:Math.asin(kb)}function t(){}function m(kb,Gb){if(kb&&Dc.hasOwnProperty(kb.type))Dc[kb.type](kb,Gb)}function f(kb,Gb,
Pb){var bc=-1;Pb=kb.length-Pb;for(Gb.lineStart();++bc<Pb;){var fa=kb[bc];Gb.point(fa[0],fa[1],fa[2])}Gb.lineEnd()}function b(kb,Gb){var Pb=-1,bc=kb.length;for(Gb.polygonStart();++Pb<bc;)f(kb[Pb],Gb,1);Gb.polygonEnd()}function c(kb,Gb){if(kb&&Hc.hasOwnProperty(kb.type))Hc[kb.type](kb,Gb);else m(kb,Gb)}function e(kb){return[gf(kb[1],kb[0]),q(kb[2])]}function g(kb){var Gb=kb[0];kb=kb[1];var Pb=te(kb);return[Pb*te(Gb),Pb*tb(Gb),tb(kb)]}function n(kb,Gb){return kb[0]*Gb[0]+kb[1]*Gb[1]+kb[2]*Gb[2]}function h(kb,
Gb){return[kb[1]*Gb[2]-kb[2]*Gb[1],kb[2]*Gb[0]-kb[0]*Gb[2],kb[0]*Gb[1]-kb[1]*Gb[0]]}function x(kb,Gb){kb[0]+=Gb[0];kb[1]+=Gb[1];kb[2]+=Gb[2]}function O(kb,Gb){return[kb[0]*Gb,kb[1]*Gb,kb[2]*Gb]}function H(kb){var Gb=fc(kb[0]*kb[0]+kb[1]*kb[1]+kb[2]*kb[2]);kb[0]/=Gb;kb[1]/=Gb;kb[2]/=Gb}function F(kb,Gb){function Pb(bc,fa){return bc=kb(bc,fa),Gb(bc[0],bc[1])}kb.invert&&Gb.invert&&(Pb.invert=function(bc,fa){return bc=Gb.invert(bc,fa),bc&&kb.invert(bc[0],bc[1])});return Pb}function J(kb,Gb){return[wd(kb)>
xd?kb+Math.round(-kb/ge)*ge:kb,Gb]}function D(kb,Gb,Pb){return(kb%=ge)?Gb||Pb?F(z(kb),G(Gb,Pb)):z(kb):Gb||Pb?G(Gb,Pb):J}function r(kb){return function(Gb,Pb){return Gb+=kb,[Gb>xd?Gb-ge:Gb<-xd?Gb+ge:Gb,Pb]}}function z(kb){var Gb=r(kb);Gb.invert=r(-kb);return Gb}function G(kb,Gb){function Pb(Fb,Kb){var Ob=te(Kb),oc=te(Fb)*Ob;Fb=tb(Fb)*Ob;Kb=tb(Kb);Ob=Kb*bc+oc*fa;return[gf(Fb*Ha-Ob*gb,oc*bc-Kb*fa),q(Ob*Ha+Fb*gb)]}var bc=te(kb),fa=tb(kb),Ha=te(Gb),gb=tb(Gb);Pb.invert=function(Fb,Kb){var Ob=te(Kb),oc=
te(Fb)*Ob;Fb=tb(Fb)*Ob;Kb=tb(Kb);Ob=Kb*Ha-Fb*gb;return[gf(Fb*Ha+Kb*gb,oc*bc+Ob*fa),q(Ob*bc-oc*fa)]};return Pb}function T(kb){function Gb(Pb){Pb=kb(Pb[0]*qe,Pb[1]*qe);return Pb[0]*=le,Pb[1]*=le,Pb}kb=D(kb[0]*qe,kb[1]*qe,2<kb.length?kb[2]*qe:0);Gb.invert=function(Pb){Pb=kb.invert(Pb[0]*qe,Pb[1]*qe);return Pb[0]*=le,Pb[1]*=le,Pb};return Gb}function R(kb,Gb){Gb=g(Gb);Gb[0]-=kb;H(Gb);kb=p(-Gb[1]);return((0>-Gb[2]?-kb:kb)+ge-1E-6)%ge}function ca(){var kb=[],Gb;return{point:function(Pb,bc,fa){Gb.push([Pb,
bc,fa])},lineStart:function(){kb.push(Gb=[])},lineEnd:t,rejoin:function(){1<kb.length&&kb.push(kb.pop().concat(kb.shift()))},result:function(){var Pb=kb;kb=[];Gb=null;return Pb}}}function M(kb,Gb){return 1E-6>wd(kb[0]-Gb[0])&&1E-6>wd(kb[1]-Gb[1])}function ba(kb,Gb,Pb,bc){this.x=kb;this.z=Gb;this.o=Pb;this.e=bc;this.v=!1;this.n=this.p=null}function W(kb,Gb,Pb,bc,fa){var Ha=[],gb=[];kb.forEach(function(Oc){if(!(0>=(yc=Oc.length-1))){var yc,fd=Oc[0],Ec=Oc[yc];if(M(fd,Ec)){if(!fd[2]&&!Ec[2]){fa.lineStart();
for(Fb=0;Fb<yc;++Fb)fa.point((fd=Oc[Fb])[0],fd[1]);fa.lineEnd();return}Ec[0]+=2E-6}Ha.push(yc=new ba(fd,Oc,null,!0));gb.push(yc.o=new ba(fd,null,yc,!1));Ha.push(yc=new ba(Ec,Oc,null,!1));gb.push(yc.o=new ba(Ec,null,yc,!0))}});if(Ha.length){gb.sort(Gb);ea(Ha);ea(gb);var Fb=0;for(kb=gb.length;Fb<kb;++Fb)gb[Fb].e=Pb=!Pb;Pb=Ha[0];for(var Kb;;){for(var Ob=Pb,oc=!0;Ob.v;)if((Ob=Ob.n)===Pb)return;Gb=Ob.z;fa.lineStart();do{Ob.v=Ob.o.v=!0;if(Ob.e){if(oc)for(Fb=0,kb=Gb.length;Fb<kb;++Fb)fa.point((Kb=Gb[Fb])[0],
Kb[1]);else bc(Ob.x,Ob.n.x,1,fa);Ob=Ob.n}else{if(oc)for(Gb=Ob.p.z,Fb=Gb.length-1;0<=Fb;--Fb)fa.point((Kb=Gb[Fb])[0],Kb[1]);else bc(Ob.x,Ob.p.x,-1,fa);Ob=Ob.p}Ob=Ob.o;Gb=Ob.z;oc=!oc}while(!Ob.v);fa.lineEnd()}}}function ea(kb){if(Gb=kb.length){for(var Gb,Pb=0,bc=kb[0],fa;++Pb<Gb;)bc.n=fa=kb[Pb],fa.p=bc,bc=fa;bc.n=fa=kb[0];fa.p=bc}}function La(kb){return wd(kb[0])<=xd?kb[0]:Jb(kb[0])*((wd(kb[0])+xd)%ge-xd)}function aa(kb,Gb,Pb,bc){return function(fa){function Ha(vd,Kd){kb(vd,Kd)&&fa.point(vd,Kd)}function gb(vd,
Kd){yc.point(vd,Kd)}function Fb(){Zd.point=gb;yc.lineStart()}function Kb(){Zd.point=Ha;yc.lineEnd()}function Ob(vd,Kd){Ae.push([vd,Kd]);Ec.point(vd,Kd)}function oc(){Ec.lineStart();Ae=[]}function Oc(){Ob(Ae[0][0],Ae[0][1]);Ec.lineEnd();var vd=Ec.clean(),Kd=fd.result(),ee=Kd.length,we;Ae.pop();Be.push(Ae);Ae=null;if(ee)if(vd&1){if(ee=Kd[0],0<(Kd=ee.length-1)){Fd||(fa.polygonStart(),Fd=!0);fa.lineStart();for(vd=0;vd<Kd;++vd)fa.point((we=ee[vd])[0],we[1]);fa.lineEnd()}}else 1<ee&&vd&2&&Kd.push(Kd.pop().concat(Kd.shift())),
fe.push(Kd.filter(C))}var yc=Gb(fa),fd=ca(),Ec=Gb(fd),Fd=!1,Be,fe,Ae,Zd={point:Ha,lineStart:Fb,lineEnd:Kb,polygonStart:function(){Zd.point=Ob;Zd.lineStart=oc;Zd.lineEnd=Oc;fe=[];Be=[]},polygonEnd:function(){Zd.point=Ha;Zd.lineStart=Fb;Zd.lineEnd=Kb;fe=Array.from(k(fe));var vd=Be;var Kd=La(bc),ee=bc[1],we=tb(ee),ye=[tb(Kd),-te(Kd),0],Te=0,Id=0,sf=new nd;1===we?ee=Nd+1E-6:-1===we&&(ee=-Nd-1E-6);we=0;for(var zf=vd.length;we<zf;++we)if($g=(Ff=vd[we]).length){var Ff,$g,ie=Ff[$g-1],mf=La(ie),Sf=ie[1]/2+
Xd,Gf=tb(Sf),Ag=te(Sf);for(Sf=0;Sf<$g;++Sf,mf=tg,Gf=Sg,Ag=ig,ie=ng){var ng=Ff[Sf],tg=La(ng);ig=ng[1]/2+Xd;var Sg=tb(ig),ig=te(ig),Bf=tg-mf,ug=0<=Bf?1:-1,og=ug*Bf,Tf=og>xd;Gf*=Sg;sf.add(gf(Gf*ug*tb(og),Ag*ig+Gf*te(og)));Te+=Tf?Bf+ug*ge:Bf;Tf^mf>=Kd^tg>=Kd&&(ie=h(g(ie),g(ng)),H(ie),mf=h(ye,ie),H(mf),mf=(Tf^0<=Bf?-1:1)*q(mf[2]),ee>mf||ee===mf&&(ie[0]||ie[1]))&&(Id+=Tf^0<=Bf?1:-1)}}vd=(-1E-6>Te||1E-6>Te&&-1E-12>sf)^Id&1;fe.length?(Fd||(fa.polygonStart(),Fd=!0),W(fe,B,vd,Pb,fa)):vd&&(Fd||(fa.polygonStart(),
Fd=!0),fa.lineStart(),Pb(null,null,1,fa),fa.lineEnd());Fd&&(fa.polygonEnd(),Fd=!1);fe=Be=null},sphere:function(){fa.polygonStart();fa.lineStart();Pb(null,null,1,fa);fa.lineEnd();fa.polygonEnd()}};return Zd}}function C(kb){return 1<kb.length}function B(kb,Gb){return(0>(kb=kb.x)[0]?kb[1]-Nd-1E-6:Nd-kb[1])-(0>(Gb=Gb.x)[0]?Gb[1]-Nd-1E-6:Nd-Gb[1])}function N(kb){function Gb(Kb,Ob){return te(Kb)*te(Ob)>fa}function Pb(Kb,Ob,oc){var Oc=g(Kb),yc=g(Ob),fd=[1,0,0];yc=h(Oc,yc);var Ec=n(yc,yc);Oc=yc[0];var Fd=
Ec-Oc*Oc;if(!Fd)return!oc&&Kb;Ec=fa*Ec/Fd;Fd=-fa*Oc/Fd;Oc=h(fd,yc);fd=O(fd,Ec);yc=O(yc,Fd);x(fd,yc);yc=n(fd,Oc);Ec=n(Oc,Oc);Fd=yc*yc-Ec*(n(fd,fd)-1);if(!(0>Fd)){var Be=fc(Fd);Fd=O(Oc,(-yc-Be)/Ec);x(Fd,fd);Fd=e(Fd);if(!oc)return Fd;oc=Kb[0];var fe=Ob[0];Kb=Kb[1];Ob=Ob[1];if(fe<oc){var Ae=oc;oc=fe;fe=Ae}var Zd=fe-oc,vd=1E-6>wd(Zd-xd);!vd&&Ob<Kb&&(Ae=Kb,Kb=Ob,Ob=Ae);if(vd||1E-6>Zd?vd?0<Kb+Ob^Fd[1]<(1E-6>wd(Fd[0]-oc)?Kb:Ob):Kb<=Fd[1]&&Fd[1]<=Ob:Zd>xd^(oc<=Fd[0]&&Fd[0]<=fe))return Ob=O(Oc,(-yc+Be)/Ec),
x(Ob,fd),[Fd,e(Ob)]}}function bc(Kb,Ob){var oc=gb?kb:xd-kb,Oc=0;Kb<-oc?Oc|=1:Kb>oc&&(Oc|=2);Ob<-oc?Oc|=4:Ob>oc&&(Oc|=8);return Oc}var fa=te(kb),Ha=6*qe,gb=0<fa,Fb=1E-6<wd(fa);return aa(Gb,function(Kb){var Ob,oc,Oc,yc,fd;return{lineStart:function(){yc=Oc=!1;fd=1},point:function(Ec,Fd){var Be=[Ec,Fd],fe=Gb(Ec,Fd);Fd=gb?fe?0:bc(Ec,Fd):fe?bc(Ec+(0>Ec?xd:-xd),Fd):0;!Ob&&(yc=Oc=fe)&&Kb.lineStart();fe!==Oc&&(Ec=Pb(Ob,Be),!Ec||M(Ob,Ec)||M(Be,Ec))&&(Be[2]=1);if(fe!==Oc)fd=0,fe?(Kb.lineStart(),Ec=Pb(Be,Ob),
Kb.point(Ec[0],Ec[1])):(Ec=Pb(Ob,Be),Kb.point(Ec[0],Ec[1],2),Kb.lineEnd()),Ob=Ec;else if(Fb&&Ob&&gb^fe){var Ae;Fd&oc||!(Ae=Pb(Be,Ob,!0))||(fd=0,gb?(Kb.lineStart(),Kb.point(Ae[0][0],Ae[0][1]),Kb.point(Ae[1][0],Ae[1][1]),Kb.lineEnd()):(Kb.point(Ae[1][0],Ae[1][1]),Kb.lineEnd(),Kb.lineStart(),Kb.point(Ae[0][0],Ae[0][1],3)))}!fe||Ob&&M(Ob,Be)||Kb.point(Be[0],Be[1]);Ob=Be;Oc=fe;oc=Fd},lineEnd:function(){Oc&&Kb.lineEnd();Ob=null},clean:function(){return fd|(yc&&Oc)<<1}}},function(Kb,Ob,oc,Oc){var yc=Kb;
if(Ha){Kb=te(kb);var fd=tb(kb),Ec=oc*Ha;if(null==yc)yc=kb+oc*ge,Ob=kb-Ec/2;else if(yc=R(Kb,yc),Ob=R(Kb,Ob),0<oc?yc<Ob:yc>Ob)yc+=oc*ge;for(var Fd=yc;0<oc?Fd>Ob:Fd<Ob;Fd-=Ec)yc=e([Kb,-fd*te(Fd),-fd*tb(Fd)]),Oc.point(yc[0],yc[1])}},gb?[0,-kb]:[-xd,kb-xd])}function Y(kb,Gb,Pb,bc,fa,Ha){var gb=kb[0],Fb=kb[1],Kb=0,Ob=1,oc=Gb[0]-gb,Oc=Gb[1]-Fb;Pb-=gb;if(oc||!(0<Pb)){Pb/=oc;if(0>oc){if(Pb<Kb)return;Pb<Ob&&(Ob=Pb)}else if(0<oc){if(Pb>Ob)return;Pb>Kb&&(Kb=Pb)}Pb=fa-gb;if(oc||!(0>Pb)){Pb/=oc;if(0>oc){if(Pb>
Ob)return;Pb>Kb&&(Kb=Pb)}else if(0<oc){if(Pb<Kb)return;Pb<Ob&&(Ob=Pb)}Pb=bc-Fb;if(Oc||!(0<Pb)){Pb/=Oc;if(0>Oc){if(Pb<Kb)return;Pb<Ob&&(Ob=Pb)}else if(0<Oc){if(Pb>Ob)return;Pb>Kb&&(Kb=Pb)}Pb=Ha-Fb;if(Oc||!(0>Pb)){Pb/=Oc;if(0>Oc){if(Pb>Ob)return;Pb>Kb&&(Kb=Pb)}else if(0<Oc){if(Pb<Kb)return;Pb<Ob&&(Ob=Pb)}0<Kb&&(kb[0]=gb+Kb*oc,kb[1]=Fb+Kb*Oc);1>Ob&&(Gb[0]=gb+Ob*oc,Gb[1]=Fb+Ob*Oc);return!0}}}}}function Aa(kb,Gb,Pb,bc){function fa(Kb,Ob,oc,Oc){var yc=0,fd=0;if(null==Kb||(yc=Ha(Kb,oc))!==(fd=Ha(Ob,oc))||
0>Fb(Kb,Ob)^0<oc){do Oc.point(0===yc||3===yc?kb:Pb,1<yc?bc:Gb);while((yc=(yc+oc+4)%4)!==fd)}else Oc.point(Ob[0],Ob[1])}function Ha(Kb,Ob){return 1E-6>wd(Kb[0]-kb)?0<Ob?0:3:1E-6>wd(Kb[0]-Pb)?0<Ob?2:1:1E-6>wd(Kb[1]-Gb)?0<Ob?1:0:0<Ob?3:2}function gb(Kb,Ob){return Fb(Kb.x,Ob.x)}function Fb(Kb,Ob){var oc=Ha(Kb,1),Oc=Ha(Ob,1);return oc!==Oc?oc-Oc:0===oc?Ob[1]-Kb[1]:1===oc?Kb[0]-Ob[0]:2===oc?Kb[1]-Ob[1]:Ob[0]-Kb[0]}return function(Kb){function Ob(Te,Id){kb<=Te&&Te<=Pb&&Gb<=Id&&Id<=bc&&Oc.point(Te,Id)}function oc(Te,
Id){var sf=kb<=Te&&Te<=Pb&&Gb<=Id&&Id<=bc;Ec&&Fd.push([Te,Id]);if(ee)Be=Te,fe=Id,Ae=sf,ee=!1,sf&&(Oc.lineStart(),Oc.point(Te,Id));else if(sf&&Kd)Oc.point(Te,Id);else{var zf=[Zd=Math.max(-1E9,Math.min(1E9,Zd)),vd=Math.max(-1E9,Math.min(1E9,vd))],Ff=[Te=Math.max(-1E9,Math.min(1E9,Te)),Id=Math.max(-1E9,Math.min(1E9,Id))];Y(zf,Ff,kb,Gb,Pb,bc)?(Kd||(Oc.lineStart(),Oc.point(zf[0],zf[1])),Oc.point(Ff[0],Ff[1]),sf||Oc.lineEnd(),we=!1):sf&&(Oc.lineStart(),Oc.point(Te,Id),we=!1)}Zd=Te;vd=Id;Kd=sf}var Oc=Kb,
yc=ca(),fd,Ec,Fd,Be,fe,Ae,Zd,vd,Kd,ee,we,ye={point:Ob,lineStart:function(){ye.point=oc;Ec&&Ec.push(Fd=[]);ee=!0;Kd=!1;Zd=vd=NaN},lineEnd:function(){fd&&(oc(Be,fe),Ae&&Kd&&yc.rejoin(),fd.push(yc.result()));ye.point=Ob;Kd&&Oc.lineEnd()},polygonStart:function(){Oc=yc;fd=[];Ec=[];we=!0},polygonEnd:function(){for(var Te,Id=Te=0,sf=Ec.length;Id<sf;++Id){var zf=Ec[Id],Ff=1,$g=zf.length,ie=zf[0],mf=ie[0];for(ie=ie[1];Ff<$g;++Ff){var Sf=mf;var Gf=ie;ie=zf[Ff];mf=ie[0];ie=ie[1];Gf<=bc?ie>bc&&(mf-Sf)*(bc-Gf)>
(ie-Gf)*(kb-Sf)&&++Te:ie<=bc&&(mf-Sf)*(bc-Gf)<(ie-Gf)*(kb-Sf)&&--Te}}Id=we&&Te;sf=(fd=Array.from(k(fd))).length;if(Id||sf)Kb.polygonStart(),Id&&(Kb.lineStart(),fa(null,null,1,Kb),Kb.lineEnd()),sf&&W(fd,gb,Te,fa,Kb),Kb.polygonEnd();Oc=Kb;fd=Ec=Fd=null}};return ye}}function sa(){re.point=la}function la(kb,Gb){re.point=Ia;Vd=he=kb;be=Ce=Gb}function Ia(kb,Gb){Hd.add(Ce*kb-he*Gb);he=kb;Ce=Gb}function bb(){Ia(Vd,be)}function ib(kb,Gb){bd+=kb;Ad+=Gb;++xa}function Ja(){Rd.point=ma}function ma(kb,Gb){Rd.point=
Fa;ib(ic=kb,Uc=Gb)}function Fa(kb,Gb){var Pb=kb-ic,bc=Gb-Uc;Pb=fc(Pb*Pb+bc*bc);Xa+=Pb*(ic+kb)/2;zb+=Pb*(Uc+Gb)/2;Xb+=Pb;ib(ic=kb,Uc=Gb)}function Pa(){Rd.point=ib}function qa(){Rd.point=oa}function ya(){va(rb,Bb)}function oa(kb,Gb){Rd.point=va;ib(rb=ic=kb,Bb=Uc=Gb)}function va(kb,Gb){var Pb=kb-ic,bc=Gb-Uc;Pb=fc(Pb*Pb+bc*bc);Xa+=Pb*(ic+kb)/2;zb+=Pb*(Uc+Gb)/2;Xb+=Pb;Pb=Uc*kb-ic*Gb;tc+=Pb*(ic+kb);gd+=Pb*(Uc+Gb);qc+=3*Pb;ib(ic=kb,Uc=Gb)}function Ua(kb){this._context=kb}function eb(kb,Gb){Ea.point=ra;Me=
ha=kb;Se=ob=Gb}function ra(kb,Gb){ha-=kb;ob-=Gb;Gd.add(fc(ha*ha+ob*ob));ha=kb;ob=Gb}function Oa(){this._string=[]}function ja(kb){return"m0,"+kb+"a"+kb+","+kb+" 0 1,1 0,"+-2*kb+"a"+kb+","+kb+" 0 1,1 0,"+2*kb+"z"}function U(kb,Gb){function Pb(gb){gb&&("function"===typeof bc&&Ha.pointRadius(+bc.apply(this,arguments)),c(gb,fa(Ha)));return Ha.result()}var bc=4.5,fa,Ha;Pb.area=function(gb){c(gb,fa(vf));return vf.result()};Pb.measure=function(gb){c(gb,fa(Ib));return Ib.result()};Pb.bounds=function(gb){c(gb,
fa(rc));return rc.result()};Pb.centroid=function(gb){c(gb,fa(Md));return Md.result()};Pb.projection=function(gb){return arguments.length?(fa=null==gb?(kb=null,ld):(kb=gb).stream,Pb):kb};Pb.context=function(gb){if(!arguments.length)return Gb;Ha=null==gb?(Gb=null,new Oa):new Ua(Gb=gb);"function"!==typeof bc&&Ha.pointRadius(bc);return Pb};Pb.pointRadius=function(gb){if(!arguments.length)return bc;bc="function"===typeof gb?gb:(Ha.pointRadius(+gb),+gb);return Pb};return Pb.projection(kb).context(Gb)}function ka(kb){return function(Gb){var Pb=
new wa,bc;for(bc in kb)Pb[bc]=kb[bc];Pb.stream=Gb;return Pb}}function wa(){}function Ta(kb,Gb,Pb){var bc=kb.clipExtent&&kb.clipExtent();kb.scale(150).translate([0,0]);null!=bc&&kb.clipExtent(null);c(Pb,kb.stream(rc));Gb(rc.result());null!=bc&&kb.clipExtent(bc);return kb}function db(kb,Gb,Pb){return Ta(kb,function(bc){var fa=Gb[1][0]-Gb[0][0],Ha=Gb[1][1]-Gb[0][1],gb=Math.min(fa/(bc[1][0]-bc[0][0]),Ha/(bc[1][1]-bc[0][1]));fa=+Gb[0][0]+(fa-gb*(bc[1][0]+bc[0][0]))/2;bc=+Gb[0][1]+(Ha-gb*(bc[1][1]+bc[0][1]))/
2;kb.scale(150*gb).translate([fa,bc])},Pb)}function lb(kb,Gb,Pb){return Ta(kb,function(bc){var fa=+Gb,Ha=fa/(bc[1][0]-bc[0][0]);fa=(fa-Ha*(bc[1][0]+bc[0][0]))/2;bc=-Ha*bc[0][1];kb.scale(150*Ha).translate([fa,bc])},Pb)}function nb(kb,Gb,Pb){return Ta(kb,function(bc){var fa=+Gb,Ha=fa/(bc[1][1]-bc[0][1]),gb=-Ha*bc[0][0];bc=(fa-Ha*(bc[1][1]+bc[0][1]))/2;kb.scale(150*Ha).translate([gb,bc])},Pb)}function Mb(kb){return ka({point:function(Gb,Pb){Gb=kb(Gb,Pb);this.stream.point(Gb[0],Gb[1])}})}function $b(kb,
Gb){function Pb(bc,fa,Ha,gb,Fb,Kb,Ob,oc,Oc,yc,fd,Ec,Fd,Be){var fe=Ob-bc,Ae=oc-fa,Zd=fe*fe+Ae*Ae;if(Zd>4*Gb&&Fd--){var vd=gb+yc,Kd=Fb+fd,ee=Kb+Ec,we=fc(vd*vd+Kd*Kd+ee*ee),ye=q(ee/=we),Te=1E-6>wd(wd(ee)-1)||1E-6>wd(Ha-Oc)?(Ha+Oc)/2:gf(Kd,vd),Id=kb(Te,ye);ye=Id[0];Id=Id[1];var sf=ye-bc,zf=Id-fa,Ff=Ae*sf-fe*zf;if(Ff*Ff/Zd>Gb||.3<wd((fe*sf+Ae*zf)/Zd-.5)||gb*yc+Fb*fd+Kb*Ec<Yb)Pb(bc,fa,Ha,gb,Fb,Kb,ye,Id,Te,vd/=we,Kd/=we,ee,Fd,Be),Be.point(ye,Id),Pb(ye,Id,Te,vd,Kd,ee,Ob,oc,Oc,yc,fd,Ec,Fd,Be)}}return function(bc){function fa(ye,
Te){ye=kb(ye,Te);bc.point(ye[0],ye[1])}function Ha(){Ae=NaN;we.point=gb;bc.lineStart()}function gb(ye,Te){var Id=g([ye,Te]);Te=kb(ye,Te);Pb(Ae,Zd,fe,vd,Kd,ee,Ae=Te[0],Zd=Te[1],fe=ye,vd=Id[0],Kd=Id[1],ee=Id[2],16,bc);bc.point(Ae,Zd)}function Fb(){we.point=fa;bc.lineEnd()}function Kb(){Ha();we.point=Ob;we.lineEnd=oc}function Ob(ye,Te){gb(Oc=ye,Te);yc=Ae;fd=Zd;Ec=vd;Fd=Kd;Be=ee;we.point=gb}function oc(){Pb(Ae,Zd,fe,vd,Kd,ee,yc,fd,Oc,Ec,Fd,Be,16,bc);we.lineEnd=Fb;Fb()}var Oc,yc,fd,Ec,Fd,Be,fe,Ae,Zd,vd,
Kd,ee,we={point:fa,lineStart:Ha,lineEnd:Fb,polygonStart:function(){bc.polygonStart();we.lineStart=Kb},polygonEnd:function(){bc.polygonEnd();we.lineStart=Ha}};return we}}function Gc(kb){return ka({point:function(Gb,Pb){Gb=kb(Gb,Pb);return this.stream.point(Gb[0],Gb[1])}})}function zc(kb,Gb,Pb,bc,fa){function Ha(gb,Fb){gb*=bc;Fb*=fa;return[Gb+kb*gb,Pb-kb*Fb]}Ha.invert=function(gb,Fb){return[(gb-Gb)/kb*bc,(Pb-Fb)/kb*fa]};return Ha}function Bc(kb,Gb,Pb,bc,fa,Ha){function gb(Ec,Fd){Ec*=bc;Fd*=fa;return[Kb*
Ec-Ob*Fd+Gb,Pb-Ob*Ec-Kb*Fd]}if(!Ha)return zc(kb,Gb,Pb,bc,fa);var Fb=te(Ha);Ha=tb(Ha);var Kb=Fb*kb,Ob=Ha*kb,oc=Fb/kb,Oc=Ha/kb,yc=(Ha*Pb-Fb*Gb)/kb,fd=(Ha*Gb+Fb*Pb)/kb;gb.invert=function(Ec,Fd){return[bc*(oc*Ec-Oc*Fd+yc),fa*(fd-Oc*Ec-oc*Fd)]};return gb}function uc(kb){return id(function(){return kb})()}function id(kb){function Gb(ie){return zf(ie[0]*qe,ie[1]*qe)}function Pb(ie){return(ie=zf.invert(ie[0],ie[1]))&&[ie[0]*le,ie[1]*le]}function bc(){var ie=Bc(gb,0,0,Be,fe,Fd).apply(null,Ha(Ob,oc));ie=Bc(gb,
Fb-ie[0],Kb-ie[1],Be,fe,Fd);Ec=D(Oc,yc,fd);sf=F(Ha,ie);zf=F(Ec,sf);ie=sf;Id=+Te?$b(ie,Te):Mb(ie);return fa()}function fa(){Ff=$g=null;return Gb}var Ha,gb=150,Fb=480,Kb=250,Ob=0,oc=0,Oc=0,yc=0,fd=0,Ec,Fd=0,Be=1,fe=1,Ae=null,Zd=lc,vd=null,Kd,ee,we,ye=ld,Te=.5,Id,sf,zf,Ff,$g;Gb.stream=function(ie){return Ff&&$g===ie?Ff:Ff=kc(Gc(Ec)(Zd(Id(ye($g=ie)))))};Gb.preclip=function(ie){return arguments.length?(Zd=ie,Ae=void 0,fa()):Zd};Gb.postclip=function(ie){return arguments.length?(ye=ie,vd=Kd=ee=we=null,fa()):
ye};Gb.clipAngle=function(ie){return arguments.length?(Zd=+ie?N(Ae=ie*qe):(Ae=null,lc),fa()):Ae*le};Gb.clipExtent=function(ie){return arguments.length?(ye=null==ie?(vd=Kd=ee=we=null,ld):Aa(vd=+ie[0][0],Kd=+ie[0][1],ee=+ie[1][0],we=+ie[1][1]),fa()):null==vd?null:[[vd,Kd],[ee,we]]};Gb.scale=function(ie){return arguments.length?(gb=+ie,bc()):gb};Gb.translate=function(ie){return arguments.length?(Fb=+ie[0],Kb=+ie[1],bc()):[Fb,Kb]};Gb.center=function(ie){return arguments.length?(Ob=ie[0]%360*qe,oc=ie[1]%
360*qe,bc()):[Ob*le,oc*le]};Gb.rotate=function(ie){return arguments.length?(Oc=ie[0]%360*qe,yc=ie[1]%360*qe,fd=2<ie.length?ie[2]%360*qe:0,bc()):[Oc*le,yc*le,fd*le]};Gb.angle=function(ie){return arguments.length?(Fd=ie%360*qe,bc()):Fd*le};Gb.reflectX=function(ie){return arguments.length?(Be=ie?-1:1,bc()):0>Be};Gb.reflectY=function(ie){return arguments.length?(fe=ie?-1:1,bc()):0>fe};Gb.precision=function(ie){if(arguments.length){var mf=sf;var Sf=Te=ie*ie;mf=(Id=+Sf?$b(mf,Sf):Mb(mf),fa())}else mf=fc(Te);
return mf};Gb.fitExtent=function(ie,mf){return db(Gb,ie,mf)};Gb.fitSize=function(ie,mf){return db(Gb,[[0,0],ie],mf)};Gb.fitWidth=function(ie,mf){return lb(Gb,ie,mf)};Gb.fitHeight=function(ie,mf){return nb(Gb,ie,mf)};return function(){Ha=kb.apply(this,arguments);Gb.invert=Ha.invert&&Pb;return bc()}}function Hb(kb){var Gb=0,Pb=xd/3,bc=id(kb);kb=bc(Gb,Pb);kb.parallels=function(fa){return arguments.length?bc(Gb=fa[0]*qe,Pb=fa[1]*qe):[Gb*le,Pb*le]};return kb}function Ab(kb){function Gb(bc,fa){return[bc*
Pb,tb(fa)/Pb]}var Pb=te(kb);Gb.invert=function(bc,fa){return[bc/Pb,q(fa*Pb)]};return Gb}function dc(kb,Gb){function Pb(Fb,Kb){Kb=fc(Ha-2*fa*tb(Kb))/fa;return[Kb*tb(Fb*=fa),gb-Kb*te(Fb)]}var bc=tb(kb),fa=(bc+tb(Gb))/2;if(1E-6>wd(fa))return Ab(kb);var Ha=1+bc*(2*fa-bc),gb=fc(Ha)/fa;Pb.invert=function(Fb,Kb){Kb=gb-Kb;var Ob=gf(Fb,wd(Kb))*Jb(Kb);0>Kb*fa&&(Ob-=xd*Jb(Fb)*Jb(Kb));return[Ob/fa,q((Ha-(Fb*Fb+Kb*Kb)*fa*fa)/(2*fa))]};return Pb}function Wb(){return Hb(dc).scale(155.424).center([0,33.6442])}function mc(){return Wb().parallels([29.5,
45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Kc(kb){var Gb=kb.length;return{point:function(Pb,bc){for(var fa=-1;++fa<Gb;)kb[fa].point(Pb,bc)},sphere:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].sphere()},lineStart:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].lineStart()},lineEnd:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].lineEnd()},polygonStart:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].polygonStart()},polygonEnd:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].polygonEnd()}}}function Fc(kb){return function(Gb,
Pb){var bc=te(Gb),fa=te(Pb);bc=kb(bc*fa);return Infinity===bc?[2,0]:[bc*fa*tb(Gb),bc*tb(Pb)]}}function Sc(kb){return function(Gb,Pb){var bc=fc(Gb*Gb+Pb*Pb),fa=kb(bc),Ha=tb(fa);fa=te(fa);return[gf(Gb*Ha,bc*fa),q(bc&&Pb*Ha/bc)]}}function jd(kb,Gb){return[kb,za(nc((Nd+Gb)/2))]}function $d(kb){function Gb(){var Oc=xd*fa(),yc=Pb(T(Pb.rotate()).invert([0,0]));return gb(null==Fb?[[yc[0]-Oc,yc[1]-Oc],[yc[0]+Oc,yc[1]+Oc]]:kb===jd?[[Math.max(yc[0]-Oc,Fb),Kb],[Math.min(yc[0]+Oc,Ob),oc]]:[[Fb,Math.max(yc[1]-
Oc,Kb)],[Ob,Math.min(yc[1]+Oc,oc)]])}var Pb=uc(kb),bc=Pb.center,fa=Pb.scale,Ha=Pb.translate,gb=Pb.clipExtent,Fb=null,Kb,Ob,oc;Pb.scale=function(Oc){return arguments.length?(fa(Oc),Gb()):fa()};Pb.translate=function(Oc){return arguments.length?(Ha(Oc),Gb()):Ha()};Pb.center=function(Oc){return arguments.length?(bc(Oc),Gb()):bc()};Pb.clipExtent=function(Oc){return arguments.length?(null==Oc?Fb=Kb=Ob=oc=null:(Fb=+Oc[0][0],Kb=+Oc[0][1],Ob=+Oc[1][0],oc=+Oc[1][1]),Gb()):null==Fb?null:[[Fb,Kb],[Ob,oc]]};return Gb()}
function Ba(kb,Gb){function Pb(gb,Fb){0<Ha?Fb<-Nd+1E-6&&(Fb=-Nd+1E-6):Fb>Nd-1E-6&&(Fb=Nd-1E-6);Fb=Ha/Za(nc((Nd+Fb)/2),fa);return[Fb*tb(fa*gb),Ha-Fb*te(fa*gb)]}var bc=te(kb),fa=kb===Gb?tb(kb):za(bc/te(Gb))/za(nc((Nd+Gb)/2)/nc((Nd+kb)/2)),Ha=bc*Za(nc((Nd+kb)/2),fa)/fa;if(!fa)return jd;Pb.invert=function(gb,Fb){Fb=Ha-Fb;var Kb=Jb(fa)*fc(gb*gb+Fb*Fb),Ob=gf(gb,wd(Fb))*Jb(Fb);0>Fb*fa&&(Ob-=xd*Jb(gb)*Jb(Fb));return[Ob/fa,2*qf(Za(Ha/Kb,1/fa))-Nd]};return Pb}function ua(kb,Gb){return[kb,Gb]}function Ca(kb,
Gb){function Pb(gb,Fb){Fb=Ha-Fb;gb*=fa;return[Fb*tb(gb),Ha-Fb*te(gb)]}var bc=te(kb),fa=kb===Gb?tb(kb):(bc-te(Gb))/(Gb-kb),Ha=bc/fa+kb;if(1E-6>wd(fa))return ua;Pb.invert=function(gb,Fb){Fb=Ha-Fb;var Kb=gf(gb,wd(Fb))*Jb(Fb);0>Fb*fa&&(Kb-=xd*Jb(gb)*Jb(Fb));return[Kb/fa,Ha-Jb(fa)*fc(gb*gb+Fb*Fb)]};return Pb}function $a(kb,Gb){Gb=q(pd*tb(Gb));var Pb=Gb*Gb,bc=Pb*Pb*Pb;return[kb*te(Gb)/(pd*(1.340264+3*-.081106*Pb+bc*(7*8.93E-4+.034164*Pb))),Gb*(1.340264+-.081106*Pb+bc*(8.93E-4+.003796*Pb))]}function jb(kb,
Gb){var Pb=te(Gb),bc=te(kb)*Pb;return[Pb*tb(kb)/bc,tb(Gb)/bc]}function yb(kb,Gb){var Pb=Gb*Gb,bc=Pb*Pb;return[kb*(.8707-.131979*Pb+bc*(-.013791+bc*(.003971*Pb-.001529*bc))),Gb*(1.007226+Pb*(.015085+bc*(-.044475+.028874*Pb-.005916*bc)))]}function Ub(kb,Gb){return[te(Gb)*tb(kb),tb(Gb)]}function Tb(kb,Gb){var Pb=te(Gb),bc=1+te(kb)*Pb;return[Pb*tb(kb)/bc,tb(Gb)/bc]}function Vb(kb,Gb){return[za(nc((Nd+Gb)/2)),-kb]}function Ic(kb){return 1<kb?ed:-1>kb?-ed:Math.asin(kb)}function Yc(kb,Gb){return function bc(){const fa=
Gb();fa.type=kb;fa.path=U().projection(fa);fa.copy=fa.copy||function(){const Ha=bc();Lc.forEach(gb=>{if(fa[gb])Ha[gb](fa[gb]())});Ha.path.pointRadius(fa.path.pointRadius());return Ha};return fa}}function dd(kb,Gb){if(!kb||"string"!==typeof kb)throw Error("Projection type must be a name string.");kb=kb.toLowerCase();return 1<arguments.length?(ud[kb]=Yc(kb,Gb),this):ud[kb]||null}class nd{constructor(){this._partials=new Float64Array(32);this._n=0}add(kb){const Gb=this._partials;let Pb=0;for(let bc=
0;bc<this._n&&32>bc;bc++){const fa=Gb[bc],Ha=kb+fa;(kb=Math.abs(kb)<Math.abs(fa)?kb-(Ha-fa):fa-(Ha-kb))&&(Gb[Pb++]=kb);kb=Ha}Gb[Pb]=kb;this._n=Pb+1;return this}valueOf(){const kb=this._partials;let Gb=this._n;let Pb,bc=0;if(0<Gb){for(bc=kb[--Gb];0<Gb;){var fa=bc;Pb=kb[--Gb];bc=fa+Pb;if(fa=Pb-(bc-fa))break}0<Gb&&(0>fa&&0>kb[Gb-1]||0<fa&&0<kb[Gb-1])&&(Pb=2*fa,fa=bc+Pb,Pb==fa-bc&&(bc=fa))}return bc}}var xd=Math.PI,Nd=xd/2,Xd=xd/4,ge=2*xd,le=180/xd,qe=xd/180,wd=Math.abs,qf=Math.atan,gf=Math.atan2,te=
Math.cos,We=Math.exp,za=Math.log,Za=Math.pow,tb=Math.sin,Jb=Math.sign||function(kb){return 0<kb?1:0>kb?-1:0},fc=Math.sqrt,nc=Math.tan,Hc={Feature:function(kb,Gb){m(kb.geometry,Gb)},FeatureCollection:function(kb,Gb){kb=kb.features;for(var Pb=-1,bc=kb.length;++Pb<bc;)m(kb[Pb].geometry,Gb)}},Dc={Sphere:function(kb,Gb){Gb.sphere()},Point:function(kb,Gb){kb=kb.coordinates;Gb.point(kb[0],kb[1],kb[2])},MultiPoint:function(kb,Gb){for(var Pb=kb.coordinates,bc=-1,fa=Pb.length;++bc<fa;)kb=Pb[bc],Gb.point(kb[0],
kb[1],kb[2])},LineString:function(kb,Gb){f(kb.coordinates,Gb,0)},MultiLineString:function(kb,Gb){kb=kb.coordinates;for(var Pb=-1,bc=kb.length;++Pb<bc;)f(kb[Pb],Gb,0)},Polygon:function(kb,Gb){b(kb.coordinates,Gb)},MultiPolygon:function(kb,Gb){kb=kb.coordinates;for(var Pb=-1,bc=kb.length;++Pb<bc;)b(kb[Pb],Gb)},GeometryCollection:function(kb,Gb){kb=kb.geometries;for(var Pb=-1,bc=kb.length;++Pb<bc;)m(kb[Pb],Gb)}};J.invert=J;var lc=aa(function(){return!0},function(kb){var Gb=NaN,Pb=NaN,bc=NaN,fa;return{lineStart:function(){kb.lineStart();
fa=1},point:function(Ha,gb){var Fb=0<Ha?xd:-xd,Kb=wd(Ha-Gb);if(1E-6>wd(Kb-xd))kb.point(Gb,Pb=0<(Pb+gb)/2?Nd:-Nd),kb.point(bc,Pb),kb.lineEnd(),kb.lineStart(),kb.point(Fb,Pb),kb.point(Ha,Pb),fa=0;else if(bc!==Fb&&Kb>=xd){1E-6>wd(Gb-bc)&&(Gb-=1E-6*bc);1E-6>wd(Ha-Fb)&&(Ha-=1E-6*Fb);Kb=Gb;var Ob=Pb,oc=Ha,Oc,yc,fd=tb(Kb-oc);Pb=1E-6<wd(fd)?qf((tb(Ob)*(yc=te(gb))*tb(oc)-tb(gb)*(Oc=te(Ob))*tb(Kb))/(Oc*yc*fd)):(Ob+gb)/2;kb.point(bc,Pb);kb.lineEnd();kb.lineStart();kb.point(Fb,Pb);fa=0}kb.point(Gb=Ha,Pb=gb);
bc=Fb},lineEnd:function(){kb.lineEnd();Gb=Pb=NaN},clean:function(){return 2-fa}}},function(kb,Gb,Pb,bc){null==kb?(Pb*=Nd,bc.point(-xd,Pb),bc.point(0,Pb),bc.point(xd,Pb),bc.point(xd,0),bc.point(xd,-Pb),bc.point(0,-Pb),bc.point(-xd,-Pb),bc.point(-xd,0),bc.point(-xd,Pb)):1E-6<wd(kb[0]-Gb[0])?(kb=kb[0]<Gb[0]?xd:-xd,Pb=Pb*kb/2,bc.point(-kb,Pb),bc.point(0,Pb),bc.point(kb,Pb)):bc.point(Gb[0],Gb[1])},[-xd,-Nd]),ld=kb=>kb,sd=new nd,Hd=new nd,Vd,be,he,Ce,re={point:t,lineStart:t,lineEnd:t,polygonStart:function(){re.lineStart=
sa;re.lineEnd=bb},polygonEnd:function(){re.lineStart=re.lineEnd=re.point=t;sd.add(wd(Hd));Hd=new nd},result:function(){var kb=sd/2;sd=new nd;return kb}},vf=re,Ge=Infinity,Re=Ge,af=-Ge,Qb=af,rc={point:function(kb,Gb){kb<Ge&&(Ge=kb);kb>af&&(af=kb);Gb<Re&&(Re=Gb);Gb>Qb&&(Qb=Gb)},lineStart:t,lineEnd:t,polygonStart:t,polygonEnd:t,result:function(){var kb=[[Ge,Re],[af,Qb]];af=Qb=-(Re=Ge=Infinity);return kb}},bd=0,Ad=0,xa=0,Xa=0,zb=0,Xb=0,tc=0,gd=0,qc=0,rb,Bb,ic,Uc,Rd={point:ib,lineStart:Ja,lineEnd:Pa,polygonStart:function(){Rd.lineStart=
qa;Rd.lineEnd=ya},polygonEnd:function(){Rd.point=ib;Rd.lineStart=Ja;Rd.lineEnd=Pa},result:function(){var kb=qc?[tc/qc,gd/qc]:Xb?[Xa/Xb,zb/Xb]:xa?[bd/xa,Ad/xa]:[NaN,NaN];bd=Ad=xa=Xa=zb=Xb=tc=gd=qc=0;return kb}},Md=Rd;Ua.prototype={_radius:4.5,pointRadius:function(kb){return this._radius=kb,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(kb,
Gb){switch(this._point){case 0:this._context.moveTo(kb,Gb);this._point=1;break;case 1:this._context.lineTo(kb,Gb);break;default:this._context.moveTo(kb+this._radius,Gb),this._context.arc(kb,Gb,this._radius,0,ge)}},result:t};var Gd=new nd,Pd,Me,Se,ha,ob,Ea={point:t,lineStart:function(){Ea.point=eb},lineEnd:function(){Pd&&ra(Me,Se);Ea.point=t},polygonStart:function(){Pd=!0},polygonEnd:function(){Pd=null},result:function(){var kb=+Gd;Gd=new nd;return kb}},Ib=Ea;Oa.prototype={_radius:4.5,_circle:ja(4.5),
pointRadius:function(kb){(kb=+kb)!==this._radius&&(this._radius=kb,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(kb,Gb){switch(this._point){case 0:this._string.push("M",kb,",",Gb);this._point=1;break;case 1:this._string.push("L",kb,",",Gb);break;default:null==this._circle&&(this._circle=ja(this._radius)),this._string.push("M",
kb,",",Gb,this._circle)}},result:function(){if(this._string.length){var kb=this._string.join("");this._string=[];return kb}return null}};wa.prototype={constructor:wa,point:function(kb,Gb){this.stream.point(kb,Gb)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yb=te(30*qe),kc=ka({point:function(kb,Gb){this.stream.point(kb*
qe,Gb*qe)}}),Nc=Fc(function(kb){return fc(2/(1+kb))});Nc.invert=Sc(function(kb){return 2*q(kb/2)});var Jc=Fc(function(kb){return(kb=p(kb))&&kb/tb(kb)});Jc.invert=Sc(function(kb){return kb});jd.invert=function(kb,Gb){return[kb,2*qf(We(Gb))-Nd]};ua.invert=ua;var pd=fc(3)/2;$a.invert=function(kb,Gb){for(var Pb=Gb,bc=Pb*Pb,fa=bc*bc*bc,Ha=0,gb;12>Ha&&!(gb=Pb*(1.340264+-.081106*bc+fa*(8.93E-4+.003796*bc))-Gb,bc=1.340264+3*-.081106*bc+fa*(7*8.93E-4+.034164*bc),Pb-=gb/=bc,bc=Pb*Pb,fa=bc*bc*bc,1E-12>wd(gb));++Ha);
return[pd*kb*(1.340264+3*-.081106*bc+fa*(7*8.93E-4+.034164*bc))/te(Pb),q(tb(Pb)/pd)]};jb.invert=Sc(qf);yb.invert=function(kb,Gb){var Pb=Gb,bc=25;do{var fa=Pb*Pb;var Ha=fa*fa;Pb-=Ha=(Pb*(1.007226+fa*(.015085+Ha*(-.044475+.028874*fa-.005916*Ha)))-Gb)/(1.007226+fa*(.045255+Ha*(-.311325+.259866*fa-.005916*11*Ha)))}while(1E-6<wd(Ha)&&0<--bc);return[kb/(.8707+(fa=Pb*Pb)*(-.131979+fa*(-.013791+fa*fa*fa*(.003971-.001529*fa)))),Pb]};Ub.invert=Sc(q);Tb.invert=Sc(function(kb){return 2*qf(kb)});Vb.invert=function(kb,
Gb){return[-Gb,2*qf(We(kb))-Nd]};var qd=Math.abs,Yd=Math.cos,Od=Math.sin,Jd=Math.PI,ed=Jd/2,td=Math.sqrt(2),wc=function(kb,Gb,Pb){function bc(fa,Ha){var gb=Ha,Fb=Pb*Od(gb),Kb=30,Ob;do gb-=Ob=(gb+Od(gb)-Fb)/(1+Yd(gb));while(1E-6<qd(Ob)&&0<--Kb);return[kb*fa*Yd(Ha=gb/2),Gb*Od(Ha)]}bc.invert=function(fa,Ha){return Ha=Ic(Ha/Gb),[fa/(kb*Yd(Ha)),Ic((2*Ha+Od(2*Ha))/Pb)]};return bc}(td/ed,td,Jd);const Rc=U(),Lc="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),
ud={albers:mc,albersusa:function(){function kb(yc){var fd=yc[0];yc=yc[1];return oc=null,(Ha.point(fd,yc),oc)||(Fb.point(fd,yc),oc)||(Ob.point(fd,yc),oc)}function Gb(){Pb=bc=null;return kb}var Pb,bc,fa=mc(),Ha,gb=Wb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Fb,Kb=Wb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ob,oc,Oc={point:function(yc,fd){oc=[yc,fd]}};kb.invert=function(yc){var fd=fa.scale(),Ec=fa.translate(),Fd=(yc[0]-Ec[0])/fd;fd=(yc[1]-Ec[1])/fd;return(.12<=fd&&.234>fd&&
-.425<=Fd&&-.214>Fd?gb:.166<=fd&&.234>fd&&-.214<=Fd&&-.115>Fd?Kb:fa).invert(yc)};kb.stream=function(yc){return Pb&&bc===yc?Pb:Pb=Kc([fa.stream(bc=yc),gb.stream(yc),Kb.stream(yc)])};kb.precision=function(yc){if(!arguments.length)return fa.precision();fa.precision(yc);gb.precision(yc);Kb.precision(yc);return Gb()};kb.scale=function(yc){if(!arguments.length)return fa.scale();fa.scale(yc);gb.scale(.35*yc);Kb.scale(yc);return kb.translate(fa.translate())};kb.translate=function(yc){if(!arguments.length)return fa.translate();
var fd=fa.scale(),Ec=+yc[0],Fd=+yc[1];Ha=fa.translate(yc).clipExtent([[Ec-.455*fd,Fd-.238*fd],[Ec+.455*fd,Fd+.238*fd]]).stream(Oc);Fb=gb.translate([Ec-.307*fd,Fd+.201*fd]).clipExtent([[Ec-.425*fd+1E-6,Fd+.12*fd+1E-6],[Ec-.214*fd-1E-6,Fd+.234*fd-1E-6]]).stream(Oc);Ob=Kb.translate([Ec-.205*fd,Fd+.212*fd]).clipExtent([[Ec-.214*fd+1E-6,Fd+.166*fd+1E-6],[Ec-.115*fd-1E-6,Fd+.234*fd-1E-6]]).stream(Oc);return Gb()};kb.fitExtent=function(yc,fd){return db(kb,yc,fd)};kb.fitSize=function(yc,fd){return db(kb,
[[0,0],yc],fd)};kb.fitWidth=function(yc,fd){return lb(kb,yc,fd)};kb.fitHeight=function(yc,fd){return nb(kb,yc,fd)};return kb.scale(1070)},azimuthalequalarea:function(){return uc(Nc).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return uc(Jc).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Hb(Ba).scale(109.5).parallels([30,30])},conicequalarea:Wb,conicequidistant:function(){return Hb(Ca).scale(131.154).center([0,13.9389])},equalEarth:function(){return uc($a).scale(177.158)},
equirectangular:function(){return uc(ua).scale(152.63)},gnomonic:function(){return uc(jb).scale(144.049).clipAngle(60)},identity:function(){function kb(){Ec=Pb*Ha;Fd=Pb*gb;Ae=Zd=null;return Gb}function Gb(vd){var Kd=vd[0]*Ec;vd=vd[1]*Fd;if(Fb){var ee=vd*Kb-Kd*Ob;Kd=Kd*Kb+vd*Ob;vd=ee}return[Kd+bc,vd+fa]}var Pb=1,bc=0,fa=0,Ha=1,gb=1,Fb=0,Kb,Ob,oc=null,Oc,yc,fd,Ec=1,Fd=1,Be=ka({point:function(vd,Kd){vd=Gb([vd,Kd]);this.stream.point(vd[0],vd[1])}}),fe=ld,Ae,Zd;Gb.invert=function(vd){var Kd=vd[0]-bc;vd=
vd[1]-fa;if(Fb){var ee=vd*Kb+Kd*Ob;Kd=Kd*Kb-vd*Ob;vd=ee}return[Kd/Ec,vd/Fd]};Gb.stream=function(vd){return Ae&&Zd===vd?Ae:Ae=Be(fe(Zd=vd))};Gb.postclip=function(vd){return arguments.length?(fe=vd,oc=Oc=yc=fd=null,kb()):fe};Gb.clipExtent=function(vd){return arguments.length?(fe=null==vd?(oc=Oc=yc=fd=null,ld):Aa(oc=+vd[0][0],Oc=+vd[0][1],yc=+vd[1][0],fd=+vd[1][1]),kb()):null==oc?null:[[oc,Oc],[yc,fd]]};Gb.scale=function(vd){return arguments.length?(Pb=+vd,kb()):Pb};Gb.translate=function(vd){return arguments.length?
(bc=+vd[0],fa=+vd[1],kb()):[bc,fa]};Gb.angle=function(vd){return arguments.length?(Fb=vd%360*qe,Ob=tb(Fb),Kb=te(Fb),kb()):Fb*le};Gb.reflectX=function(vd){return arguments.length?(Ha=vd?-1:1,kb()):0>Ha};Gb.reflectY=function(vd){return arguments.length?(gb=vd?-1:1,kb()):0>gb};Gb.fitExtent=function(vd,Kd){return db(Gb,vd,Kd)};Gb.fitSize=function(vd,Kd){return db(Gb,[[0,0],vd],Kd)};Gb.fitWidth=function(vd,Kd){return lb(Gb,vd,Kd)};Gb.fitHeight=function(vd,Kd){return nb(Gb,vd,Kd)};return Gb},mercator:function(){return $d(jd).scale(961/
ge)},mollweide:function(){return uc(wc).scale(169.529)},naturalEarth1:function(){return uc(yb).scale(175.295)},orthographic:function(){return uc(Ub).scale(249.5).clipAngle(90.000001)},stereographic:function(){return uc(Tb).scale(250).clipAngle(142)},transversemercator:function(){var kb=$d(Vb),Gb=kb.center,Pb=kb.rotate;kb.center=function(bc){return arguments.length?Gb([-bc[1],bc[0]]):(bc=Gb(),[bc[1],-bc[0]])};kb.rotate=function(bc){return arguments.length?Pb([bc[0],bc[1],2<bc.length?bc[2]+90:90]):
(bc=Pb(),[bc[0],bc[1],bc[2]-90])};return Pb([0,0,90]).scale(159.155)}};for(const kb in ud)dd(kb,ud[kb]);w.getProjectionPath=function(kb){return kb&&kb.path||Rc};w.projection=dd;w.projectionProperties=Lc;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[32]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14),L(24),L(31),L(26)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,m){function f(Ba,ua){let Ca;if(void 0===ua)for(var $a of Ba)null!=$a&&
(Ca<$a||void 0===Ca&&$a>=$a)&&(Ca=$a);else{$a=-1;for(let jb of Ba)null!=(jb=ua(jb,++$a,Ba))&&(Ca<jb||void 0===Ca&&jb>=jb)&&(Ca=jb)}return Ca}function b(Ba,ua,Ca){Ba=+Ba;ua=+ua;Ca=2>(jb=arguments.length)?(ua=Ba,Ba=0,1):3>jb?1:+Ca;for(var $a=-1,jb=Math.max(0,Math.ceil((ua-Ba)/Ca))|0,yb=Array(jb);++$a<jb;)yb[$a]=Ba+$a*Ca;return yb}function c(Ba,ua){let Ca=0;if(void 0===ua)for(var $a of Ba){if($a=+$a)Ca+=$a}else{$a=-1;for(let jb of Ba)if(jb=+ua(jb,++$a,Ba))Ca+=jb}return Ca}function e(){}function g(){function Ba(Tb,
Vb){return Vb.map(Ic=>ua(Tb,Ic))}function ua(Tb,Vb){var Ic=[],Yc=[];Ca(Tb,Vb,dd=>{Ub(dd,Tb,Vb);for(var nd=0,xd=dd.length,Nd=dd[xd-1][1]*dd[0][0]-dd[xd-1][0]*dd[0][1];++nd<xd;)Nd+=dd[nd-1][1]*dd[nd][0]-dd[nd-1][0]*dd[nd][1];0<Nd?Ic.push([dd]):Yc.push(dd)});Yc.forEach(dd=>{for(var nd=0,xd=Ic.length,Nd;nd<xd;++nd){a:{var Xd=(Nd=Ic[nd])[0];for(var ge=dd,le=-1,qe=ge.length;++le<qe;){b:{var wd=Xd;for(var qf=ge[le],gf=qf[0],te=qf[1],We=-1,za=0,Za=wd.length,tb=Za-1;za<Za;tb=za++){var Jb=wd[za],fc=Jb[0],nc=
Jb[1],Hc=wd[tb];tb=Hc[0];var Dc=Hc[1],lc,ld=Jb;Jb=Hc;Hc=qf;if(lc=(Jb[0]-ld[0])*(Hc[1]-ld[1])===(Hc[0]-ld[0])*(Jb[1]-ld[1]))ld=ld[lc=+(ld[0]===Jb[0])],Hc=Hc[lc],Jb=Jb[lc],lc=ld<=Hc&&Hc<=Jb||Jb<=Hc&&Hc<=ld;if(lc){wd=0;break b}nc>te!==Dc>te&&gf<(tb-fc)*(te-nc)/(Dc-nc)+fc&&(We=-We)}wd=We}if(wd){Xd=wd;break a}}Xd=0}if(-1!==Xd){Nd.push(dd);break}}});return{type:"MultiPolygon",value:Vb,coordinates:Ic}}function Ca(Tb,Vb,Ic){function Yc(wd){var qf=[wd[0][0]+Nd,wd[0][1]+xd];wd=[wd[1][0]+Nd,wd[1][1]+xd];var gf=
2*qf[0]+qf[1]*(jb+1)*4,te=2*wd[0]+wd[1]*(jb+1)*4,We,za;(We=nd[gf])?(za=dd[te])?(delete nd[We.end],delete dd[za.start],We===za?(We.ring.push(wd),Ic(We.ring)):dd[We.start]=nd[za.end]={start:We.start,end:za.end,ring:We.ring.concat(za.ring)}):(delete nd[We.end],We.ring.push(wd),nd[We.end=te]=We):(We=dd[te])?(za=nd[gf])?(delete dd[We.start],delete nd[za.end],We===za?(We.ring.push(wd),Ic(We.ring)):dd[za.start]=nd[We.end]={start:za.start,end:We.end,ring:za.ring.concat(We.ring)}):(delete dd[We.start],We.ring.unshift(qf),
dd[We.start=gf]=We):dd[gf]=nd[te]={start:gf,end:te,ring:[qf,wd]}}var dd=[],nd=[],xd;var Nd=xd=-1;var Xd=Tb[0]>=Vb;for(Bc[Xd<<1].forEach(Yc);++Nd<jb-1;){var ge=Xd;Xd=Tb[Nd+1]>=Vb;Bc[ge|Xd<<1].forEach(Yc)}for(Bc[Xd<<0].forEach(Yc);++xd<yb-1;){Nd=-1;Xd=Tb[xd*jb+jb]>=Vb;var le=Tb[xd*jb]>=Vb;for(Bc[Xd<<1|le<<2].forEach(Yc);++Nd<jb-1;){ge=Xd;Xd=Tb[xd*jb+jb+Nd+1]>=Vb;var qe=le;le=Tb[xd*jb+Nd+1]>=Vb;Bc[ge|Xd<<1|le<<2|qe<<3].forEach(Yc)}Bc[Xd|le<<3].forEach(Yc)}Nd=-1;le=Tb[xd*jb]>=Vb;for(Bc[le<<2].forEach(Yc);++Nd<
jb-1;)qe=le,le=Tb[xd*jb+Nd+1]>=Vb,Bc[le<<2|qe<<3].forEach(Yc);Bc[le<<3].forEach(Yc)}function $a(Tb,Vb,Ic){Tb.forEach(Yc=>{var dd=Yc[0],nd=Yc[1],xd=dd|0,Nd=nd|0,Xd=Vb[Nd*jb+xd];if(0<dd&&dd<jb&&xd===dd){var ge=Vb[Nd*jb+xd-1];Yc[0]=dd+(Ic-ge)/(Xd-ge)-.5}0<nd&&nd<yb&&Nd===nd&&(ge=Vb[(Nd-1)*jb+xd],Yc[1]=nd+(Ic-ge)/(Xd-ge)-.5)})}var jb=1,yb=1,Ub=$a;Ba.contour=ua;Ba.size=function(Tb){if(!arguments.length)return[jb,yb];var Vb=Math.floor(Tb[0]),Ic=Math.floor(Tb[1]);0<=Vb&&0<=Ic||p.error("invalid size");return jb=
Vb,yb=Ic,Ba};Ba.smooth=function(Tb){return arguments.length?(Ub=Tb?$a:e,Ba):Ub===$a};return Ba}function n(Ba,ua,Ca){return function($a){var jb=p.extent($a);$a=Ca?Math.min(jb[0],0):jb[0];jb=jb[1];var yb=jb-$a;if(ua){var Ub=Math.abs(jb-$a)/Math.max(0,Ba);yb=Math.pow(10,Math.floor(Math.log(Ub)/Math.LN10));Ub/=yb;Ub>=$b?yb*=10:Ub>=Gc?yb*=5:Ub>=zc&&(yb*=2);yb=jb<$a?-yb:yb}else yb/=Ba+1;return b($a+yb,jb,yb)}}function h(Ba){k.Transform.call(this,null,Ba)}function x(Ba,ua,Ca){const $a=n(Ca.levels||10,Ca.nice,
!1!==Ca.zero);return"shared"!==Ca.resolve?$a:$a(Ba.map(jb=>f(ua(jb).values)))}function O(Ba,ua,Ca,$a){var jb=$a.scale||ua.scale;let yb=$a.translate||ua.translate;p.isFunction(jb)&&(jb=jb(Ca,$a));p.isFunction(yb)&&(yb=yb(Ca,$a));if(1!==jb&&null!=jb||yb)Ca=(p.isNumber(jb)?jb:jb[0])||1,jb=(p.isNumber(jb)?jb:jb[1])||1,Ba.forEach(H(ua,Ca,jb,yb&&yb[0]||0,yb&&yb[1]||0))}function H(Ba,ua,Ca,$a,jb){function yb(dd){dd.forEach(Ub)}function Ub(dd){Yc&&dd.reverse();dd.forEach(Tb)}function Tb(dd){dd[0]=(dd[0]-
Vb)*ua+$a;dd[1]=(dd[1]-Ic)*Ca+jb}const Vb=Ba.x1||0,Ic=Ba.y1||0,Yc=0>ua*Ca;return function(dd){dd.coordinates.forEach(yb);return dd}}function F(Ba,ua,Ca){Ba=0<=Ba?Ba:q.bandwidthNRD(ua,Ca);return Math.round((Math.sqrt(4*Ba*Ba+1)-1)/2)}function J(Ba){return p.isFunction(Ba)?Ba:p.constant(+Ba)}function D(){function Ba(Vb,Ic){const Yc=F(jb[0],Vb,ua)>>Tb,dd=F(jb[1],Vb,Ca)>>Tb,nd=Yc?Yc+2:0,xd=dd?dd+2:0,Nd=2*nd+(yb>>Tb),Xd=2*xd+(Ub>>Tb),ge=new Float32Array(Nd*Xd),le=new Float32Array(Nd*Xd);let qe=ge;Vb.forEach(wd=>
{const qf=nd+(+ua(wd)>>Tb),gf=xd+(+Ca(wd)>>Tb);0<=qf&&qf<Nd&&0<=gf&&gf<Xd&&(ge[qf+gf*Nd]+=+$a(wd))});0<Yc&&0<dd?(r(Nd,Xd,ge,le,Yc),z(Nd,Xd,le,ge,dd),r(Nd,Xd,ge,le,Yc),z(Nd,Xd,le,ge,dd),r(Nd,Xd,ge,le,Yc),z(Nd,Xd,le,ge,dd)):0<Yc?(r(Nd,Xd,ge,le,Yc),r(Nd,Xd,le,ge,Yc),r(Nd,Xd,ge,le,Yc),qe=le):0<dd&&(z(Nd,Xd,ge,le,dd),z(Nd,Xd,le,ge,dd),z(Nd,Xd,ge,le,dd),qe=le);Vb=Ic?Math.pow(2,-2*Tb):1/c(qe);for(let wd=0,qf=Nd*Xd;wd<qf;++wd)qe[wd]*=Vb;return{values:qe,scale:1<<Tb,width:Nd,height:Xd,x1:nd,y1:xd,x2:nd+(yb>>
Tb),y2:xd+(Ub>>Tb)}}var ua=Vb=>Vb[0],Ca=Vb=>Vb[1],$a=p.one,jb=[-1,-1],yb=960,Ub=500,Tb=2;Ba.x=function(Vb){return arguments.length?(ua=J(Vb),Ba):ua};Ba.y=function(Vb){return arguments.length?(Ca=J(Vb),Ba):Ca};Ba.weight=function(Vb){return arguments.length?($a=J(Vb),Ba):$a};Ba.size=function(Vb){if(!arguments.length)return[yb,Ub];var Ic=+Vb[0],Yc=+Vb[1];0<=Ic&&0<=Yc||p.error("invalid size");return yb=Ic,Ub=Yc,Ba};Ba.cellSize=function(Vb){if(!arguments.length)return 1<<Tb;1<=(Vb=+Vb)||p.error("invalid cell size");
Tb=Math.floor(Math.log(Vb)/Math.LN2);return Ba};Ba.bandwidth=function(Vb){if(!arguments.length)return jb;Vb=p.array(Vb);1===Vb.length&&(Vb=[+Vb[0],+Vb[0]]);2!==Vb.length&&p.error("invalid bandwidth");return jb=Vb,Ba};return Ba}function r(Ba,ua,Ca,$a,jb){const yb=(jb<<1)+1;for(let Ub=0;Ub<ua;++Ub)for(let Tb=0,Vb=0;Tb<Ba+jb;++Tb)Tb<Ba&&(Vb+=Ca[Tb+Ub*Ba]),Tb>=jb&&(Tb>=yb&&(Vb-=Ca[Tb-yb+Ub*Ba]),$a[Tb-jb+Ub*Ba]=Vb/Math.min(Tb+1,Ba-1+yb-Tb,yb))}function z(Ba,ua,Ca,$a,jb){const yb=(jb<<1)+1;for(let Ub=0;Ub<
Ba;++Ub)for(let Tb=0,Vb=0;Tb<ua+jb;++Tb)Tb<ua&&(Vb+=Ca[Ub+Tb*Ba]),Tb>=jb&&(Tb>=yb&&(Vb-=Ca[Ub+(Tb-yb)*Ba]),$a[Ub+(Tb-jb)*Ba]=Vb/Math.min(Tb+1,ua-1+yb-Tb,yb))}function G(Ba){k.Transform.call(this,null,Ba)}function T(Ba,ua){uc.forEach(Ca=>null!=ua[Ca]?Ba[Ca](ua[Ca]):0);return Ba}function R(Ba,ua){var Ca=[],$a=Yc=>Yc(Tb),jb;if(null==ua)Ca.push(Ba);else{var yb={};var Ub=0;for(jb=Ba.length;Ub<jb;++Ub){var Tb=Ba[Ub];var Vb=ua.map($a);var Ic=yb[Vb];Ic||(yb[Vb]=Ic=[],Ic.dims=Vb,Ca.push(Ic));Ic.push(Tb)}}return Ca}
function ca(Ba){k.Transform.call(this,null,Ba)}function M(Ba){k.Transform.call(this,null,Ba)}function ba(Ba){k.Transform.call(this,null,Ba)}function W(Ba,ua){const Ca=Ba.pointRadius();Ba.context(null);null!=ua&&Ba.pointRadius(ua);return Ca}function ea(Ba){k.Transform.call(this,null,Ba)}function La(Ba){k.Transform.call(this,null,Ba)}function aa(Ba,ua,Ca){const $a=null==Ca?jb=>Ba(ua(jb)):jb=>{var yb=Ba.pointRadius();jb=Ba.pointRadius(Ca)(ua(jb));Ba.pointRadius(yb);return jb};$a.context=jb=>{Ba.context(jb);
return $a};return $a}function C(Ba,ua,Ca){var $a=b(Ba,ua-1E-6,Ca).concat(ua);return function(jb){return $a.map(function(yb){return[jb,yb]})}}function B(Ba,ua,Ca){var $a=b(Ba,ua-1E-6,Ca).concat(ua);return function(jb){return $a.map(function(yb){return[yb,jb]})}}function N(){function Ba(){return{type:"MultiLineString",coordinates:ua()}}function ua(){return b(Hb(yb/nd)*nd,jb,nd).map(ge).concat(b(Hb(Ic/xd)*xd,Vb,xd).map(le)).concat(b(Hb($a/Yc)*Yc,Ca,Yc).filter(function(wd){return 1E-6<id(wd%nd)}).map(Nd)).concat(b(Hb(Tb/
dd)*dd,Ub,dd).filter(function(wd){return 1E-6<id(wd%xd)}).map(Xd))}var Ca,$a,jb,yb,Ub,Tb,Vb,Ic,Yc=10,dd=Yc,nd=90,xd=360,Nd,Xd,ge,le,qe=2.5;Ba.lines=function(){return ua().map(function(wd){return{type:"LineString",coordinates:wd}})};Ba.outline=function(){return{type:"Polygon",coordinates:[ge(yb).concat(le(Vb).slice(1),ge(jb).reverse().slice(1),le(Ic).reverse().slice(1))]}};Ba.extent=function(wd){return arguments.length?Ba.extentMajor(wd).extentMinor(wd):Ba.extentMinor()};Ba.extentMajor=function(wd){if(!arguments.length)return[[yb,
Ic],[jb,Vb]];yb=+wd[0][0];jb=+wd[1][0];Ic=+wd[0][1];Vb=+wd[1][1];yb>jb&&(wd=yb,yb=jb,jb=wd);Ic>Vb&&(wd=Ic,Ic=Vb,Vb=wd);return Ba.precision(qe)};Ba.extentMinor=function(wd){if(!arguments.length)return[[$a,Tb],[Ca,Ub]];$a=+wd[0][0];Ca=+wd[1][0];Tb=+wd[0][1];Ub=+wd[1][1];$a>Ca&&(wd=$a,$a=Ca,Ca=wd);Tb>Ub&&(wd=Tb,Tb=Ub,Ub=wd);return Ba.precision(qe)};Ba.step=function(wd){return arguments.length?Ba.stepMajor(wd).stepMinor(wd):Ba.stepMinor()};Ba.stepMajor=function(wd){if(!arguments.length)return[nd,xd];
nd=+wd[0];xd=+wd[1];return Ba};Ba.stepMinor=function(wd){if(!arguments.length)return[Yc,dd];Yc=+wd[0];dd=+wd[1];return Ba};Ba.precision=function(wd){if(!arguments.length)return qe;qe=+wd;Nd=C(Tb,Ub,90);Xd=B($a,Ca,qe);ge=C(Ic,Vb,90);le=B(yb,jb,qe);return Ba};return Ba.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Y(Ba){k.Transform.call(this,[],Ba);this.generator=N()}function Aa(Ba,ua,Ca){Ba.prototype=ua.prototype=Ca;Ca.constructor=Ba}function sa(Ba,
ua){Ba=Object.create(Ba.prototype);for(var Ca in ua)Ba[Ca]=ua[Ca];return Ba}function la(){}function Ia(){return this.rgb().formatHex()}function bb(){return this.rgb().formatRgb()}function ib(Ba){var ua,Ca;Ba=(Ba+"").trim().toLowerCase();return(ua=dc.exec(Ba))?(Ca=ua[1].length,ua=parseInt(ua[1],16),6===Ca?Ja(ua):3===Ca?new Pa(ua>>8&15|ua>>4&240,ua>>4&15|ua&240,(ua&15)<<4|ua&15,1):8===Ca?ma(ua>>24&255,ua>>16&255,ua>>8&255,(ua&255)/255):4===Ca?ma(ua>>12&15|ua>>8&240,ua>>8&15|ua>>4&240,ua>>4&15|ua&240,
((ua&15)<<4|ua&15)/255):null):(ua=Wb.exec(Ba))?new Pa(ua[1],ua[2],ua[3],1):(ua=mc.exec(Ba))?new Pa(255*ua[1]/100,255*ua[2]/100,255*ua[3]/100,1):(ua=Kc.exec(Ba))?ma(ua[1],ua[2],ua[3],ua[4]):(ua=Fc.exec(Ba))?ma(255*ua[1]/100,255*ua[2]/100,255*ua[3]/100,ua[4]):(ua=Sc.exec(Ba))?va(ua[1],ua[2]/100,ua[3]/100,1):(ua=jd.exec(Ba))?va(ua[1],ua[2]/100,ua[3]/100,ua[4]):$d.hasOwnProperty(Ba)?Ja($d[Ba]):"transparent"===Ba?new Pa(NaN,NaN,NaN,0):null}function Ja(Ba){return new Pa(Ba>>16&255,Ba>>8&255,Ba&255,1)}function ma(Ba,
ua,Ca,$a){0>=$a&&(Ba=ua=Ca=NaN);return new Pa(Ba,ua,Ca,$a)}function Fa(Ba,ua,Ca,$a){if(1===arguments.length){var jb=Ba;jb instanceof la||(jb=ib(jb));jb?(jb=jb.rgb(),jb=new Pa(jb.r,jb.g,jb.b,jb.opacity)):jb=new Pa}else jb=new Pa(Ba,ua,Ca,null==$a?1:$a);return jb}function Pa(Ba,ua,Ca,$a){this.r=+Ba;this.g=+ua;this.b=+Ca;this.opacity=+$a}function qa(){return"#"+oa(this.r)+oa(this.g)+oa(this.b)}function ya(){var Ba=this.opacity;Ba=isNaN(Ba)?1:Math.max(0,Math.min(1,Ba));return(1===Ba?"rgb(":"rgba(")+Math.max(0,
Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Ba?")":", "+Ba+")")}function oa(Ba){Ba=Math.max(0,Math.min(255,Math.round(Ba)||0));return(16>Ba?"0":"")+Ba.toString(16)}function va(Ba,ua,Ca,$a){0>=$a?Ba=ua=Ca=NaN:0>=Ca||1<=Ca?Ba=ua=NaN:0>=ua&&(Ba=NaN);return new eb(Ba,ua,Ca,$a)}function Ua(Ba){if(Ba instanceof eb)return new eb(Ba.h,Ba.s,Ba.l,Ba.opacity);Ba instanceof la||(Ba=ib(Ba));if(!Ba)return new eb;
if(Ba instanceof eb)return Ba;Ba=Ba.rgb();var ua=Ba.r/255,Ca=Ba.g/255,$a=Ba.b/255,jb=Math.min(ua,Ca,$a),yb=Math.max(ua,Ca,$a),Ub=NaN,Tb=yb-jb,Vb=(yb+jb)/2;Tb?(Ub=ua===yb?(Ca-$a)/Tb+6*(Ca<$a):Ca===yb?($a-ua)/Tb+2:(ua-Ca)/Tb+4,Tb/=.5>Vb?yb+jb:2-yb-jb,Ub*=60):Tb=0<Vb&&1>Vb?0:Ub;return new eb(Ub,Tb,Vb,Ba.opacity)}function eb(Ba,ua,Ca,$a){this.h=+Ba;this.s=+ua;this.l=+Ca;this.opacity=+$a}function ra(Ba,ua,Ca){return 255*(60>Ba?ua+(Ca-ua)*Ba/60:180>Ba?Ca:240>Ba?ua+(Ca-ua)*(240-Ba)/60:ua)}function Oa(Ba){k.Transform.call(this,
null,Ba)}function ja(Ba,ua){let Ca;p.isFunction(Ba)?(Ca=$a=>Fa(Ba($a,ua)),Ca.dep=ka(Ba)):Ca=p.constant(Fa(Ba||"#888"));return Ca}function U(Ba,ua){let Ca;p.isFunction(Ba)?(Ca=$a=>Ba($a,ua),Ca.dep=ka(Ba)):Ba?Ca=p.constant(Ba):(Ca=$a=>$a.$value/$a.$max||0,Ca.dep=!0);return Ca}function ka(Ba){if(!p.isFunction(Ba))return!1;Ba=p.toSet(p.accessorFields(Ba));return Ba.$x||Ba.$y||Ba.$value||Ba.$max}function wa(Ba,ua,Ca,$a){const jb=Ba.width;var yb=Ba.height;const Ub=Ba.x1||0,Tb=Ba.y1||0,Vb=Ba.x2||jb;yb=Ba.y2||
yb;const Ic=Ba.values;Ba=Ic?Nd=>Ic[Nd]:p.zero;const Yc=m.canvas(Vb-Ub,yb-Tb),dd=Yc.getContext("2d"),nd=dd.getImageData(0,0,Vb-Ub,yb-Tb),xd=nd.data;for(let Nd=Tb,Xd=0;Nd<yb;++Nd){ua.$y=Nd-Tb;for(let ge=Ub,le=Nd*jb;ge<Vb;++ge,Xd+=4){ua.$x=ge-Ub;ua.$value=Ba(ge+le);const qe=Ca(ua);xd[Xd+0]=qe.r;xd[Xd+1]=qe.g;xd[Xd+2]=qe.b;xd[Xd+3]=~~(255*$a(ua))}}dd.putImageData(nd,0,0);return Yc}function Ta(Ba){k.Transform.call(this,null,Ba);this.modified(!0)}function db(Ba,ua){const Ca=nb(ua.fit);ua.extent?Ba.fitExtent(ua.extent,
Ca):ua.size?Ba.fitSize(ua.size,Ca):0}function lb(Ba){const ua=t.projection((Ba||"mercator").toLowerCase());ua||p.error("Unrecognized projection type: "+Ba);return ua()}function nb(Ba){Ba=p.array(Ba);return 1===Ba.length?Ba[0]:{type:"FeatureCollection",features:Ba.reduce((ua,Ca)=>ua.concat(Mb(Ca)),[])}}function Mb(Ba){return"FeatureCollection"===Ba.type?Ba.features:p.array(Ba).filter(ua=>null!=ua).map(ua=>"Feature"===ua.type?ua:{type:"Feature",geometry:ua})}var $b=Math.sqrt(50),Gc=Math.sqrt(10),zc=
Math.sqrt(2);const Bc=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];h.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",
type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};p.inherits(h,k.Transform,{transform(Ba,ua){if(this.value&&!ua.changed()&&!Ba.modified())return ua.StopPropagation;var Ca=ua.fork(ua.NO_SOURCE|ua.NO_FIELDS);
ua=ua.materialize(ua.SOURCE).source;var $a=Ba.field||p.identity,jb=g().smooth(!1!==Ba.smooth),yb=Ba.thresholds||x(ua,$a,Ba),Ub=null===Ba.as?null:Ba.as||"contour",Tb=[];ua.forEach(Vb=>{const Ic=$a(Vb),Yc=jb.size([Ic.width,Ic.height])(Ic.values,p.isArray(yb)?yb:yb(Ic.values));O(Yc,Ic,Vb,Ba);Yc.forEach(dd=>{Tb.push(k.rederive(Vb,k.ingest(null!=Ub?{[Ub]:dd}:dd)))})});this.value&&(Ca.rem=this.value);this.value=Ca.source=Ca.add=Tb;return Ca}});G.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",
type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const uc="x y weight size cellSize bandwidth".split(" ");p.inherits(G,k.Transform,{transform(Ba,ua){if(this.value&&!ua.changed()&&!Ba.modified())return ua.StopPropagation;
var Ca=ua.fork(ua.NO_SOURCE|ua.NO_FIELDS);ua=ua.materialize(ua.SOURCE).source;ua=R(ua,Ba.groupby);var $a=(Ba.groupby||[]).map(p.accessorName),jb=T(D(),Ba),yb=Ba.as||"grid",Ub=[];Ub=ua.map(Tb=>{var Vb=k.ingest,Ic={[yb]:jb(Tb,Ba.counts)};Tb=Tb.dims;for(let Yc=0;Yc<$a.length;++Yc)Ic[$a[Yc]]=Tb[Yc];return Vb.call(k,Ic)});this.value&&(Ca.rem=this.value);this.value=Ca.source=Ca.add=Ub;return Ca}});ca.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,
required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};p.inherits(ca,k.Transform,{transform(Ba,ua){if(this.value&&!ua.changed()&&!Ba.modified())return ua.StopPropagation;var Ca=ua.fork(ua.NO_SOURCE|ua.NO_FIELDS),
$a=g().smooth(!1!==Ba.smooth),jb=Ba.values,yb=Ba.thresholds||n(Ba.count||10,Ba.nice,!!jb),Ub=Ba.size;if(!jb){jb=ua.materialize(ua.SOURCE).source;Ba=T(D(),Ba)(jb,!0);var Tb=H(Ba,Ba.scale||1,Ba.scale||1,0,0);Ub=[Ba.width,Ba.height];jb=Ba.values}yb=p.isArray(yb)?yb:yb(jb);jb=$a.size(Ub)(jb,yb);Tb&&jb.forEach(Tb);this.value&&(Ca.rem=this.value);this.value=Ca.source=Ca.add=(jb||[]).map(k.ingest);return Ca}});M.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},
{name:"geojson",type:"field"}]};p.inherits(M,k.Transform,{transform(Ba,ua){var Ca=this._features,$a=this._points,jb=Ba.fields,yb=jb&&jb[0],Ub=jb&&jb[1],Tb=Ba.geojson||!jb&&p.identity;jb=ua.ADD;Ba=Ba.modified()||ua.changed(ua.REM)||ua.modified(p.accessorFields(Tb))||yb&&ua.modified(p.accessorFields(yb))||Ub&&ua.modified(p.accessorFields(Ub));if(!this.value||Ba)jb=ua.SOURCE,this._features=Ca=[],this._points=$a=[];Tb&&ua.visit(jb,Vb=>Ca.push(Tb(Vb)));yb&&Ub&&(ua.visit(jb,Vb=>{var Ic=yb(Vb);Vb=Ub(Vb);
null!=Ic&&null!=Vb&&(Ic=+Ic)===Ic&&(Vb=+Vb)===Vb&&$a.push([Ic,Vb])}),Ca=Ca.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:$a}}));this.value={type:"FeatureCollection",features:Ca}}});ba.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};p.inherits(ba,k.Transform,{transform(Ba,ua){var Ca=ua.fork(ua.ALL),$a=this.value,jb=Ba.field||
p.identity,yb=Ba.as||"path",Ub=Ca.SOURCE;!$a||Ba.modified()?(this.value=$a=t.getProjectionPath(Ba.projection),Ca.materialize().reflow()):Ub=jb===p.identity||ua.modified(jb.fields)?Ca.ADD_MOD:Ca.ADD;Ba=W($a,Ba.pointRadius);Ca.visit(Ub,Tb=>Tb[yb]=$a(jb(Tb)));$a.pointRadius(Ba);return Ca.modifies(yb)}});ea.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,
length:2,"default":["x","y"]}]};p.inherits(ea,k.Transform,{transform(Ba,ua){function Ca(Ic){const Yc=$a([jb(Ic),yb(Ic)]);Yc?(Ic[Tb]=Yc[0],Ic[Vb]=Yc[1]):(Ic[Tb]=void 0,Ic[Vb]=void 0)}var $a=Ba.projection,jb=Ba.fields[0],yb=Ba.fields[1],Ub=Ba.as||["x","y"],Tb=Ub[0],Vb=Ub[1];Ba.modified()?ua=ua.materialize().reflow(!0).visit(ua.SOURCE,Ca):(Ba=ua.modified(jb.fields)||ua.modified(yb.fields),ua.visit(Ba?ua.ADD_MOD:ua.ADD,Ca));return ua.modifies(Ub)}});La.Definition={type:"GeoShape",metadata:{modifies:!0,
nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};p.inherits(La,k.Transform,{transform(Ba,ua){ua=ua.fork(ua.ALL);var Ca=this.value,$a=Ba.as||"shape",jb=ua.ADD;if(!Ca||Ba.modified())this.value=Ca=aa(t.getProjectionPath(Ba.projection),Ba.field||p.field("datum"),Ba.pointRadius),ua.materialize().reflow(),jb=ua.SOURCE;ua.visit(jb,yb=>yb[$a]=Ca);return ua.modifies($a)}});
var id=Math.abs,Hb=Math.ceil;Y.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",
type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};p.inherits(Y,k.Transform,{transform(Ba,ua){var Ca=this.value,$a=this.generator;if(!Ca.length||Ba.modified())for(const jb in Ba)if(p.isFunction($a[jb]))$a[jb](Ba[jb]);Ba=$a();Ca.length?ua.mod.push(k.replace(Ca[0],Ba)):ua.add.push(k.ingest(Ba));Ca[0]=Ba;return ua}});var Ab=1/.7,dc=/^#([0-9a-f]{3,8})$/,Wb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),mc=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Kc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Fc=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Sc=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
jd=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),$d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Aa(la,ib,{copy:function(Ba){return Object.assign(new this.constructor,this,Ba)},displayable:function(){return this.rgb().displayable()},hex:Ia,formatHex:Ia,formatHsl:function(){return Ua(this).formatHsl()},
formatRgb:bb,toString:bb});Aa(Pa,Fa,sa(la,{brighter:function(Ba){Ba=null==Ba?Ab:Math.pow(Ab,Ba);return new Pa(this.r*Ba,this.g*Ba,this.b*Ba,this.opacity)},darker:function(Ba){Ba=null==Ba?.7:Math.pow(.7,Ba);return new Pa(this.r*Ba,this.g*Ba,this.b*Ba,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:qa,formatHex:qa,formatRgb:ya,toString:ya}));Aa(eb,function(Ba,
ua,Ca,$a){return 1===arguments.length?Ua(Ba):new eb(Ba,ua,Ca,null==$a?1:$a)},sa(la,{brighter:function(Ba){Ba=null==Ba?Ab:Math.pow(Ab,Ba);return new eb(this.h,this.s,this.l*Ba,this.opacity)},darker:function(Ba){Ba=null==Ba?.7:Math.pow(.7,Ba);return new eb(this.h,this.s,this.l*Ba,this.opacity)},rgb:function(){var Ba=this.h%360+360*(0>this.h),ua=isNaN(Ba)||isNaN(this.s)?0:this.s,Ca=this.l;ua=Ca+(.5>Ca?Ca:1-Ca)*ua;Ca=2*Ca-ua;return new Pa(ra(240<=Ba?Ba-240:Ba+120,Ca,ua),ra(Ba,Ca,ua),ra(120>Ba?Ba+240:
Ba-120,Ca,ua),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var Ba=this.opacity;Ba=isNaN(Ba)?1:Math.max(0,Math.min(1,Ba));return(1===Ba?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Ba?")":", "+Ba+")")}}));Oa.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",
expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};p.inherits(Oa,k.Transform,{transform(Ba,ua){if(!ua.changed()&&!Ba.modified())return ua.StopPropagation;var Ca=ua.materialize(ua.SOURCE).source,$a="shared"===Ba.resolve,jb=Ba.field||p.identity,yb=U(Ba.opacity,Ba),Ub=ja(Ba.color,Ba),Tb=Ba.as||"image",Vb={$x:0,$y:0,$value:0,$max:$a?f(Ca.map(Ic=>f(jb(Ic).values))):0};Ca.forEach(Ic=>{const Yc=jb(Ic),dd=p.extend({},
Ic,Vb);$a||(dd.$max=f(Yc.values||[]));Ic[Tb]=wa(Yc,dd,Ub.dep?Ub:p.constant(Ub(dd)),yb.dep?yb:p.constant(yb(dd)))});return ua.reflow(!0).modifies(Tb)}});p.inherits(Ta,k.Transform,{transform(Ba,ua){let Ca=this.value;!Ca||Ba.modified("type")?(this.value=Ca=lb(Ba.type),t.projectionProperties.forEach($a=>{if(null!=Ba[$a]){var jb=Ca,yb=Ba[$a];if(p.isFunction(jb[$a]))jb[$a](yb)}})):t.projectionProperties.forEach($a=>{if(Ba.modified($a)){var jb=Ca,yb=Ba[$a];if(p.isFunction(jb[$a]))jb[$a](yb)}});null!=Ba.pointRadius&&
Ca.path.pointRadius(Ba.pointRadius);Ba.fit&&db(Ca,Ba);return ua.fork(ua.NO_SOURCE|ua.NO_FIELDS)}});w.contour=ca;w.geojson=M;w.geopath=ba;w.geopoint=ea;w.geoshape=La;w.graticule=Y;w.heatmap=Oa;w.isocontour=h;w.kde2d=G;w.projection=Ta;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega))})(this,function(w,k,p){function q(ra,Oa,ja,U){if(isNaN(Oa)||isNaN(ja))return ra;var ka,wa=ra._root;U={data:U};var Ta=ra._x0,db=ra._y0,lb=ra._x1,nb=ra._y1,Mb,$b,Gc,zc,Bc;if(!wa)return ra._root=
U,ra;for(;wa.length;)if((Gc=Oa>=(Mb=(Ta+lb)/2))?Ta=Mb:lb=Mb,(zc=ja>=($b=(db+nb)/2))?db=$b:nb=$b,ka=wa,!(wa=wa[Bc=zc<<1|Gc]))return ka[Bc]=U,ra;var uc=+ra._x.call(null,wa.data);var id=+ra._y.call(null,wa.data);if(Oa===uc&&ja===id)return U.next=wa,ka?ka[Bc]=U:ra._root=U,ra;do ka=ka?ka[Bc]=Array(4):ra._root=Array(4),(Gc=Oa>=(Mb=(Ta+lb)/2))?Ta=Mb:lb=Mb,(zc=ja>=($b=(db+nb)/2))?db=$b:nb=$b;while((Bc=zc<<1|Gc)===(Gc=(id>=$b)<<1|uc>=Mb));return ka[Gc]=wa,ka[Bc]=U,ra}function t(ra,Oa,ja,U,ka){this.node=ra;
this.x0=Oa;this.y0=ja;this.x1=U;this.y1=ka}function m(ra){return ra[0]}function f(ra){return ra[1]}function b(ra,Oa,ja){Oa=new c(null==Oa?m:Oa,null==ja?f:ja,NaN,NaN,NaN,NaN);return null==ra?Oa:Oa.addAll(ra)}function c(ra,Oa,ja,U,ka,wa){this._x=ra;this._y=Oa;this._x0=ja;this._y0=U;this._x1=ka;this._y1=wa;this._root=void 0}function e(ra){for(var Oa={data:ra.data},ja=Oa;ra=ra.next;)ja=ja.next={data:ra.data};return Oa}function g(ra){return function(){return ra}}function n(ra){return ra.x+ra.vx}function h(ra){return ra.y+
ra.vy}function x(ra){return ra.index}function O(ra,Oa){ra=ra.get(Oa);if(!ra)throw Error("node not found: "+Oa);return ra}function H(){for(var ra=0,Oa=arguments.length,ja={},U;ra<Oa;++ra){if(!(U=arguments[ra]+"")||U in ja||/[\s.]/.test(U))throw Error("illegal type: "+U);ja[U]=[]}return new F(ja)}function F(ra){this._=ra}function J(ra,Oa){return ra.trim().split(/^|\s+/).map(function(ja){var U="",ka=ja.indexOf(".");0<=ka&&(U=ja.slice(ka+1),ja=ja.slice(0,ka));if(ja&&!Oa.hasOwnProperty(ja))throw Error("unknown type: "+
ja);return{type:ja,name:U}})}function D(ra,Oa,ja){for(var U=0,ka=ra.length;U<ka;++U)if(ra[U].name===Oa){ra[U]=Aa;ra=ra.slice(0,U).concat(ra.slice(U+1));break}null!=ja&&ra.push({name:Oa,value:ja});return ra}function r(){ma=0}function z(){this._call=this._time=this._next=null}function G(ra,Oa,ja){var U=new z;U.restart(ra,Oa,ja);return U}function T(){ma=(Ja=Pa.now())+Fa;sa=la=0;try{ma||(qa(r),ma=Pa.now()+Fa);++sa;for(var ra=bb,Oa;ra;)0<=(Oa=ma-ra._time)&&ra._call.call(void 0,Oa),ra=ra._next;--sa}finally{sa=
0;ra=bb;for(var ja=Infinity;ra;)if(ra._call){ja>ra._time&&(ja=ra._time);var U=ra;ra=ra._next}else Oa=ra._next,ra._next=null,ra=U?U._next=Oa:bb=Oa;ib=U;ca(ja);ma=0}}function R(){var ra=Pa.now(),Oa=ra-Ja;1E3<Oa&&(Fa-=Oa,Ja=ra)}function ca(ra){sa||(la&&(la=clearTimeout(la)),24<ra-ma?(Infinity>ra&&(la=setTimeout(T,ra-Pa.now()-Fa)),Ia&&(Ia=clearInterval(Ia))):(Ia||(Ja=Pa.now(),Ia=setInterval(R,1E3)),sa=1,qa(T)))}function M(){let ra=1;return()=>(ra=(1664525*ra+1013904223)%4294967296)/4294967296}function ba(ra){return ra.x}
function W(ra){return ra.y}function ea(ra){function Oa(){ja();zc.call("tick",wa);Ta<db&&(Gc.stop(),zc.call("end",wa))}function ja(uc){var id,Hb=ra.length;void 0===uc&&(uc=1);for(var Ab=0;Ab<uc;++Ab)for(Ta+=(nb-Ta)*lb,$b.forEach(function(Wb){Wb(Ta)}),id=0;id<Hb;++id){var dc=ra[id];null==dc.fx?dc.x+=dc.vx*=Mb:(dc.x=dc.fx,dc.vx=0);null==dc.fy?dc.y+=dc.vy*=Mb:(dc.y=dc.fy,dc.vy=0)}return wa}function U(){for(var uc=0,id=ra.length,Hb;uc<id;++uc){Hb=ra[uc];Hb.index=uc;null!=Hb.fx&&(Hb.x=Hb.fx);null!=Hb.fy&&
(Hb.y=Hb.fy);if(isNaN(Hb.x)||isNaN(Hb.y)){var Ab=10*Math.sqrt(.5+uc),dc=uc*ya;Hb.x=Ab*Math.cos(dc);Hb.y=Ab*Math.sin(dc)}if(isNaN(Hb.vx)||isNaN(Hb.vy))Hb.vx=Hb.vy=0}}function ka(uc){uc.initialize&&uc.initialize(ra,Bc);return uc}var wa,Ta=1,db=.001,lb=1-Math.pow(db,1/300),nb=0,Mb=.6,$b=new Map,Gc=G(Oa),zc=H("tick","end"),Bc=M();null==ra&&(ra=[]);U();return wa={tick:ja,restart:function(){return Gc.restart(Oa),wa},stop:function(){return Gc.stop(),wa},nodes:function(uc){return arguments.length?(ra=uc,
U(),$b.forEach(ka),wa):ra},alpha:function(uc){return arguments.length?(Ta=+uc,wa):Ta},alphaMin:function(uc){return arguments.length?(db=+uc,wa):db},alphaDecay:function(uc){return arguments.length?(lb=+uc,wa):+lb},alphaTarget:function(uc){return arguments.length?(nb=+uc,wa):nb},velocityDecay:function(uc){return arguments.length?(Mb=1-uc,wa):1-Mb},randomSource:function(uc){return arguments.length?(Bc=uc,$b.forEach(ka),wa):Bc},force:function(uc,id){return 1<arguments.length?(null==id?$b.delete(uc):$b.set(uc,
ka(id)),wa):$b.get(uc)},find:function(uc,id,Hb){var Ab,dc=ra.length;Hb=null==Hb?Infinity:Hb*Hb;for(Ab=0;Ab<dc;++Ab){var Wb=ra[Ab];var mc=uc-Wb.x;var Kc=id-Wb.y;mc=mc*mc+Kc*Kc;if(mc<Hb){var Fc=Wb;Hb=mc}}return Fc},on:function(uc,id){return 1<arguments.length?(zc.on(uc,id),wa):zc.on(uc)}}}function La(ra){k.Transform.call(this,null,ra)}function aa(ra,Oa){return()=>ra.touch(Oa).run()}function C(ra,Oa){ra=ea(ra);const ja=ra.stop,U=ra.restart;let ka=!1;ra.stopped=()=>ka;ra.restart=()=>(ka=!1,U());ra.stop=
()=>(ka=!0,ja());return B(ra,Oa,!0).on("end",()=>ka=!0)}function B(ra,Oa,ja,U){var ka=p.array(Oa.forces),wa;var Ta=0;for(wa=va.length;Ta<wa;++Ta){var db=va[Ta];if("forces"!==db&&Oa.modified(db))ra[db](Oa[db])}Ta=0;for(wa=ka.length;Ta<wa;++Ta){var lb="forces"+Ta;if(ja||Oa.modified("forces",Ta)){db=void 0;var nb=ka[Ta];p.hasOwnProperty(oa,nb.force)||p.error("Unrecognized force: "+nb.force);var Mb=oa[nb.force]();for(db in nb)p.isFunction(Mb[db])&&N(Mb[db],nb[db],nb);db=Mb}else{if(db=U)a:{Mb=db=void 0;
nb=ka[Ta];var $b=U;for(Mb in nb)if(p.isFunction(db=nb[Mb])&&$b.modified(p.accessorFields(db))){db=1;break a}db=0}db=db?ra.force(lb):null}db&&ra.force(lb,db)}for(wa=ra.numForces||0;Ta<wa;++Ta)ra.force("forces"+Ta,null);ra.numForces=ka.length;return ra}function N(ra,Oa,ja){ra(p.isFunction(Oa)?U=>Oa(U,ja):Oa)}var Y=b.prototype=c.prototype;Y.copy=function(){var ra=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Oa=this._root,ja,U;if(!Oa)return ra;if(!Oa.length)return ra._root=e(Oa),ra;for(ja=
[{source:Oa,target:ra._root=Array(4)}];Oa=ja.pop();)for(var ka=0;4>ka;++ka)if(U=Oa.source[ka])U.length?ja.push({source:U,target:Oa.target[ka]=Array(4)}):Oa.target[ka]=e(U);return ra};Y.add=function(ra){const Oa=+this._x.call(null,ra),ja=+this._y.call(null,ra);return q(this.cover(Oa,ja),Oa,ja,ra)};Y.addAll=function(ra){var Oa,ja,U=ra.length,ka,wa,Ta=Array(U),db=Array(U),lb=Infinity,nb=Infinity,Mb=-Infinity,$b=-Infinity;for(ja=0;ja<U;++ja)isNaN(ka=+this._x.call(null,Oa=ra[ja]))||isNaN(wa=+this._y.call(null,
Oa))||(Ta[ja]=ka,db[ja]=wa,ka<lb&&(lb=ka),ka>Mb&&(Mb=ka),wa<nb&&(nb=wa),wa>$b&&($b=wa));if(lb>Mb||nb>$b)return this;this.cover(lb,nb).cover(Mb,$b);for(ja=0;ja<U;++ja)q(this,Ta[ja],db[ja],ra[ja]);return this};Y.cover=function(ra,Oa){if(isNaN(ra=+ra)||isNaN(Oa=+Oa))return this;var ja=this._x0,U=this._y0,ka=this._x1,wa=this._y1;if(isNaN(ja))ka=(ja=Math.floor(ra))+1,wa=(U=Math.floor(Oa))+1;else{for(var Ta=ka-ja||1,db=this._root,lb,nb;ja>ra||ra>=ka||U>Oa||Oa>=wa;)switch(nb=(Oa<U)<<1|ra<ja,lb=Array(4),
lb[nb]=db,db=lb,Ta*=2,nb){case 0:ka=ja+Ta;wa=U+Ta;break;case 1:ja=ka-Ta;wa=U+Ta;break;case 2:ka=ja+Ta;U=wa-Ta;break;case 3:ja=ka-Ta,U=wa-Ta}this._root&&this._root.length&&(this._root=db)}this._x0=ja;this._y0=U;this._x1=ka;this._y1=wa;return this};Y.data=function(){var ra=[];this.visit(function(Oa){if(!Oa.length){do ra.push(Oa.data);while(Oa=Oa.next)}});return ra};Y.extent=function(ra){return arguments.length?this.cover(+ra[0][0],+ra[0][1]).cover(+ra[1][0],+ra[1][1]):isNaN(this._x0)?void 0:[[this._x0,
this._y0],[this._x1,this._y1]]};Y.find=function(ra,Oa,ja){var U=this._x0,ka=this._y0,wa,Ta,db,lb,nb=this._x1,Mb=this._y1,$b=[],Gc=this._root,zc;Gc&&$b.push(new t(Gc,U,ka,nb,Mb));null==ja?ja=Infinity:(U=ra-ja,ka=Oa-ja,nb=ra+ja,Mb=Oa+ja,ja*=ja);for(;zc=$b.pop();)if(!(!(Gc=zc.node)||(wa=zc.x0)>nb||(Ta=zc.y0)>Mb||(db=zc.x1)<U||(lb=zc.y1)<ka))if(Gc.length){zc=(wa+db)/2;var Bc=(Ta+lb)/2;$b.push(new t(Gc[3],zc,Bc,db,lb),new t(Gc[2],wa,Bc,zc,lb),new t(Gc[1],zc,Ta,db,Bc),new t(Gc[0],wa,Ta,zc,Bc));if(Gc=(Oa>=
Bc)<<1|ra>=zc)zc=$b[$b.length-1],$b[$b.length-1]=$b[$b.length-1-Gc],$b[$b.length-1-Gc]=zc}else if(zc=ra-+this._x.call(null,Gc.data),Bc=Oa-+this._y.call(null,Gc.data),zc=zc*zc+Bc*Bc,zc<ja){var uc=Math.sqrt(ja=zc);U=ra-uc;ka=Oa-uc;nb=ra+uc;Mb=Oa+uc;uc=Gc.data}return uc};Y.remove=function(ra){if(isNaN(lb=+this._x.call(null,ra))||isNaN(nb=+this._y.call(null,ra)))return this;var Oa,ja=this._root,U,ka=this._x0,wa=this._y0,Ta=this._x1,db=this._y1,lb,nb,Mb,$b,Gc,zc,Bc;if(!ja)return this;if(ja.length)for(;;){(Gc=
lb>=(Mb=(ka+Ta)/2))?ka=Mb:Ta=Mb;(zc=nb>=($b=(wa+db)/2))?wa=$b:db=$b;if(!(Oa=ja,ja=ja[Bc=zc<<1|Gc]))return this;if(!ja.length)break;if(Oa[Bc+1&3]||Oa[Bc+2&3]||Oa[Bc+3&3]){var uc=Oa;var id=Bc}}for(;ja.data!==ra;)if(!(U=ja,ja=ja.next))return this;(ra=ja.next)&&delete ja.next;if(U)return ra?U.next=ra:delete U.next,this;if(!Oa)return this._root=ra,this;ra?Oa[Bc]=ra:delete Oa[Bc];(ja=Oa[0]||Oa[1]||Oa[2]||Oa[3])&&ja===(Oa[3]||Oa[2]||Oa[1]||Oa[0])&&!ja.length&&(uc?uc[id]=ja:this._root=ja);return this};Y.removeAll=
function(ra){for(var Oa=0,ja=ra.length;Oa<ja;++Oa)this.remove(ra[Oa]);return this};Y.root=function(){return this._root};Y.size=function(){var ra=0;this.visit(function(Oa){if(!Oa.length){do++ra;while(Oa=Oa.next)}});return ra};Y.visit=function(ra){var Oa=[],ja,U=this._root,ka,wa,Ta,db,lb;for(U&&Oa.push(new t(U,this._x0,this._y0,this._x1,this._y1));ja=Oa.pop();)if(!ra(U=ja.node,wa=ja.x0,Ta=ja.y0,db=ja.x1,lb=ja.y1)&&U.length){ja=(wa+db)/2;var nb=(Ta+lb)/2;(ka=U[3])&&Oa.push(new t(ka,ja,nb,db,lb));(ka=
U[2])&&Oa.push(new t(ka,wa,nb,ja,lb));(ka=U[1])&&Oa.push(new t(ka,ja,Ta,db,nb));(ka=U[0])&&Oa.push(new t(ka,wa,Ta,ja,nb))}return this};Y.visitAfter=function(ra){var Oa=[],ja=[],U;for(this._root&&Oa.push(new t(this._root,this._x0,this._y0,this._x1,this._y1));U=Oa.pop();){var ka=U.node;if(ka.length){var wa,Ta=U.x0,db=U.y0,lb=U.x1,nb=U.y1,Mb=(Ta+lb)/2,$b=(db+nb)/2;(wa=ka[0])&&Oa.push(new t(wa,Ta,db,Mb,$b));(wa=ka[1])&&Oa.push(new t(wa,Mb,db,lb,$b));(wa=ka[2])&&Oa.push(new t(wa,Ta,$b,Mb,nb));(wa=ka[3])&&
Oa.push(new t(wa,Mb,$b,lb,nb))}ja.push(U)}for(;U=ja.pop();)ra(U.node,U.x0,U.y0,U.x1,U.y1);return this};Y.x=function(ra){return arguments.length?(this._x=ra,this):this._x};Y.y=function(ra){return arguments.length?(this._y=ra,this):this._y};var Aa={value:()=>{}};F.prototype=H.prototype={constructor:F,on:function(ra,Oa){var ja=this._,U=J(ra+"",ja),ka,wa=-1,Ta=U.length;if(2>arguments.length)for(;++wa<Ta;){var db;if(db=ka=(ra=U[wa]).type){a:{db=ja[ka];for(var lb=0,nb=db.length;lb<nb;++lb)if((ka=db[lb]).name===
ra.name){ka=ka.value;break a}ka=void 0}db=ka}if(db)return ka}else{if(null!=Oa&&"function"!==typeof Oa)throw Error("invalid callback: "+Oa);for(;++wa<Ta;)if(ka=(ra=U[wa]).type)ja[ka]=D(ja[ka],ra.name,Oa);else if(null==Oa)for(ka in ja)ja[ka]=D(ja[ka],ra.name,null);return this}},copy:function(){var ra={},Oa=this._,ja;for(ja in Oa)ra[ja]=Oa[ja].slice();return new F(ra)},call:function(ra,Oa){if(0<(ka=arguments.length-2))for(var ja=Array(ka),U=0,ka,wa;U<ka;++U)ja[U]=arguments[U+2];if(!this._.hasOwnProperty(ra))throw Error("unknown type: "+
ra);wa=this._[ra];U=0;for(ka=wa.length;U<ka;++U)wa[U].value.apply(Oa,ja)},apply:function(ra,Oa,ja){if(!this._.hasOwnProperty(ra))throw Error("unknown type: "+ra);ra=this._[ra];for(var U=0,ka=ra.length;U<ka;++U)ra[U].value.apply(Oa,ja)}};var sa=0,la=0,Ia=0,bb,ib,Ja=0,ma=0,Fa=0,Pa="object"===typeof performance&&performance.now?performance:Date,qa="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ra){setTimeout(ra,17)};z.prototype=G.prototype={constructor:z,
restart:function(ra,Oa,ja){if("function"!==typeof ra)throw new TypeError("callback is not a function");ja=(null==ja?ma||(qa(r),ma=Pa.now()+Fa):+ja)+(null==Oa?0:+Oa);this._next||ib===this||(ib?ib._next=this:bb=this,ib=this);this._call=ra;this._time=ja;ca()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ca())}};var ya=Math.PI*(3-Math.sqrt(5));const oa={center:function(ra,Oa){function ja(){var wa,Ta=U.length,db=0,lb=0;for(wa=0;wa<Ta;++wa){var nb=U[wa];db+=nb.x;lb+=nb.y}db=(db/Ta-ra)*
ka;lb=(lb/Ta-Oa)*ka;for(wa=0;wa<Ta;++wa)nb=U[wa],nb.x-=db,nb.y-=lb}var U,ka=1;null==ra&&(ra=0);null==Oa&&(Oa=0);ja.initialize=function(wa){U=wa};ja.x=function(wa){return arguments.length?(ra=+wa,ja):ra};ja.y=function(wa){return arguments.length?(Oa=+wa,ja):Oa};ja.strength=function(wa){return arguments.length?(ka=+wa,ja):ka};return ja},collide:function(ra){function Oa(){function nb(dc,Wb,mc,Kc,Fc){var Sc=dc.data;dc=dc.r;var jd=id+dc;if(Sc)Sc.index>zc.index&&(Wb=Bc-Sc.x-Sc.vx,mc=uc-Sc.y-Sc.vy,Kc=Wb*
Wb+mc*mc,Kc<jd*jd&&(0===Wb&&(Wb=1E-6*(Ta()-.5),Kc+=Wb*Wb),0===mc&&(mc=1E-6*(Ta()-.5),Kc+=mc*mc),Kc=(jd-(Kc=Math.sqrt(Kc)))/Kc*db,zc.vx+=(Wb*=Kc)*(jd=(dc*=dc)/(Hb+dc)),zc.vy+=(mc*=Kc)*jd,Sc.vx-=Wb*(jd=1-jd),Sc.vy-=mc*jd));else return Wb>Bc+jd||Kc<Bc-jd||mc>uc+jd||Fc<uc-jd}for(var Mb,$b=ka.length,Gc,zc,Bc,uc,id,Hb,Ab=0;Ab<lb;++Ab)for(Gc=b(ka,n,h).visitAfter(ja),Mb=0;Mb<$b;++Mb)zc=ka[Mb],id=wa[zc.index],Hb=id*id,Bc=zc.x+zc.vx,uc=zc.y+zc.vy,Gc.visit(nb)}function ja(nb){if(nb.data)return nb.r=wa[nb.data.index];
for(var Mb=nb.r=0;4>Mb;++Mb)nb[Mb]&&nb[Mb].r>nb.r&&(nb.r=nb[Mb].r)}function U(){if(ka){var nb,Mb=ka.length;wa=Array(Mb);for(nb=0;nb<Mb;++nb){var $b=ka[nb];wa[$b.index]=+ra($b,nb,ka)}}}var ka,wa,Ta,db=1,lb=1;"function"!==typeof ra&&(ra=g(null==ra?1:+ra));Oa.initialize=function(nb,Mb){ka=nb;Ta=Mb;U()};Oa.iterations=function(nb){return arguments.length?(lb=+nb,Oa):lb};Oa.strength=function(nb){return arguments.length?(db=+nb,Oa):db};Oa.radius=function(nb){return arguments.length?(ra="function"===typeof nb?
nb:g(+nb),U(),Oa):ra};return Oa},nbody:function(){function ra(zc){var Bc=ka.length,uc=b(ka,ba,W).visitAfter(ja);db=zc;for(zc=0;zc<Bc;++zc)wa=ka[zc],uc.visit(U)}function Oa(){if(ka){var zc,Bc=ka.length;nb=Array(Bc);for(zc=0;zc<Bc;++zc){var uc=ka[zc];nb[uc.index]=+lb(uc,zc,ka)}}}function ja(zc){var Bc=0,uc,id,Hb=0,Ab,dc,Wb;if(zc.length){for(Ab=dc=Wb=0;4>Wb;++Wb)(uc=zc[Wb])&&(id=Math.abs(uc.value))&&(Bc+=uc.value,Hb+=id,Ab+=id*uc.x,dc+=id*uc.y);zc.x=Ab/Hb;zc.y=dc/Hb}else{uc=zc;uc.x=uc.data.x;uc.y=uc.data.y;
do Bc+=nb[uc.data.index];while(uc=uc.next)}zc.value=Bc}function U(zc,Bc,uc,id){if(!zc.value)return!0;uc=zc.x-wa.x;var Hb=zc.y-wa.y;Bc=id-Bc;id=uc*uc+Hb*Hb;if(Bc*Bc/Gc<id)return id<$b&&(0===uc&&(uc=1E-6*(Ta()-.5),id+=uc*uc),0===Hb&&(Hb=1E-6*(Ta()-.5),id+=Hb*Hb),id<Mb&&(id=Math.sqrt(Mb*id)),wa.vx+=uc*zc.value*db/id,wa.vy+=Hb*zc.value*db/id),!0;if(!(zc.length||id>=$b)){if(zc.data!==wa||zc.next)0===uc&&(uc=1E-6*(Ta()-.5),id+=uc*uc),0===Hb&&(Hb=1E-6*(Ta()-.5),id+=Hb*Hb),id<Mb&&(id=Math.sqrt(Mb*id));do zc.data!==
wa&&(Bc=nb[zc.data.index]*db/id,wa.vx+=uc*Bc,wa.vy+=Hb*Bc);while(zc=zc.next)}}var ka,wa,Ta,db,lb=g(-30),nb,Mb=1,$b=Infinity,Gc=.81;ra.initialize=function(zc,Bc){ka=zc;Ta=Bc;Oa()};ra.strength=function(zc){return arguments.length?(lb="function"===typeof zc?zc:g(+zc),Oa(),ra):lb};ra.distanceMin=function(zc){return arguments.length?(Mb=zc*zc,ra):Math.sqrt(Mb)};ra.distanceMax=function(zc){return arguments.length?($b=zc*zc,ra):Math.sqrt($b)};ra.theta=function(zc){return arguments.length?(Gc=zc*zc,ra):Math.sqrt(Gc)};
return ra},link:function(ra){function Oa(uc){for(var id=0,Hb=ra.length;id<Bc;++id)for(var Ab=0,dc,Wb,mc,Kc,Fc;Ab<Hb;++Ab)dc=ra[Ab],Wb=dc.source,dc=dc.target,mc=dc.x+dc.vx-Wb.x-Wb.vx||1E-6*(zc()-.5),Kc=dc.y+dc.vy-Wb.y-Wb.vy||1E-6*(zc()-.5),Fc=Math.sqrt(mc*mc+Kc*Kc),Fc=(Fc-nb[Ab])/Fc*uc*db[Ab],mc*=Fc,Kc*=Fc,dc.vx-=mc*(Fc=Gc[Ab]),dc.vy-=Kc*Fc,Wb.vx+=mc*(Fc=1-Fc),Wb.vy+=Kc*Fc}function ja(){if(Mb){var uc=Mb.length,id=ra.length,Hb=new Map(Mb.map((dc,Wb)=>[wa(dc,Wb,Mb),dc]));var Ab=0;for($b=Array(uc);Ab<
id;++Ab)uc=ra[Ab],uc.index=Ab,"object"!==typeof uc.source&&(uc.source=O(Hb,uc.source)),"object"!==typeof uc.target&&(uc.target=O(Hb,uc.target)),$b[uc.source.index]=($b[uc.source.index]||0)+1,$b[uc.target.index]=($b[uc.target.index]||0)+1;Ab=0;for(Gc=Array(id);Ab<id;++Ab)uc=ra[Ab],Gc[Ab]=$b[uc.source.index]/($b[uc.source.index]+$b[uc.target.index]);db=Array(id);U();nb=Array(id);ka()}}function U(){if(Mb)for(var uc=0,id=ra.length;uc<id;++uc)db[uc]=+Ta(ra[uc],uc,ra)}function ka(){if(Mb)for(var uc=0,id=
ra.length;uc<id;++uc)nb[uc]=+lb(ra[uc],uc,ra)}var wa=x,Ta=function(uc){return 1/Math.min($b[uc.source.index],$b[uc.target.index])},db,lb=g(30),nb,Mb,$b,Gc,zc,Bc=1;null==ra&&(ra=[]);Oa.initialize=function(uc,id){Mb=uc;zc=id;ja()};Oa.links=function(uc){return arguments.length?(ra=uc,ja(),Oa):ra};Oa.id=function(uc){return arguments.length?(wa=uc,Oa):wa};Oa.iterations=function(uc){return arguments.length?(Bc=+uc,Oa):Bc};Oa.strength=function(uc){return arguments.length?(Ta="function"===typeof uc?uc:g(+uc),
U(),Oa):Ta};Oa.distance=function(uc){return arguments.length?(lb="function"===typeof uc?uc:g(+uc),ka(),Oa):lb};return Oa},x:function(ra){function Oa(db){for(var lb=0,nb=ka.length,Mb;lb<nb;++lb)Mb=ka[lb],Mb.vx+=(Ta[lb]-Mb.x)*wa[lb]*db}function ja(){if(ka){var db,lb=ka.length;wa=Array(lb);Ta=Array(lb);for(db=0;db<lb;++db)wa[db]=isNaN(Ta[db]=+ra(ka[db],db,ka))?0:+U(ka[db],db,ka)}}var U=g(.1),ka,wa,Ta;"function"!==typeof ra&&(ra=g(null==ra?0:+ra));Oa.initialize=function(db){ka=db;ja()};Oa.strength=function(db){return arguments.length?
(U="function"===typeof db?db:g(+db),ja(),Oa):U};Oa.x=function(db){return arguments.length?(ra="function"===typeof db?db:g(+db),ja(),Oa):ra};return Oa},y:function(ra){function Oa(db){for(var lb=0,nb=ka.length,Mb;lb<nb;++lb)Mb=ka[lb],Mb.vy+=(Ta[lb]-Mb.y)*wa[lb]*db}function ja(){if(ka){var db,lb=ka.length;wa=Array(lb);Ta=Array(lb);for(db=0;db<lb;++db)wa[db]=isNaN(Ta[db]=+ra(ka[db],db,ka))?0:+U(ka[db],db,ka)}}var U=g(.1),ka,wa,Ta;"function"!==typeof ra&&(ra=g(null==ra?0:+ra));Oa.initialize=function(db){ka=
db;ja()};Oa.strength=function(db){return arguments.length?(U="function"===typeof db?db:g(+db),ja(),Oa):U};Oa.y=function(db){return arguments.length?(ra="function"===typeof db?db:g(+db),ja(),Oa):ra};return Oa}},va=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Ua=["static","iterations"],eb=["x","y","vx","vy"];La.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number",
"default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},
{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",
type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":eb}]};p.inherits(La,k.Transform,{transform(ra,Oa){var ja=this.value,U=Oa.changed(Oa.ADD_REM),ka=ra.modified(va),wa=ra.iterations||300;ja?(U&&(Oa.modifies("index"),ja.nodes(Oa.source)),(ka||Oa.changed(Oa.MOD))&&B(ja,ra,0,Oa)):(this.value=ja=C(Oa.source,ra),ja.on("tick",aa(Oa.dataflow,this)),ra.static||(U=!0,ja.tick()),Oa.modifies("index"));
if(ka||U||ra.modified(Ua)||Oa.changed()&&ra.restart)if(ja.alpha(Math.max(ja.alpha(),ra.alpha||1)).alphaDecay(1-Math.pow(ja.alphaMin(),1/wa)),ra.static)for(ja.stop();0<=--wa;)ja.tick();else if(ja.stopped()&&ja.restart(),!U)return Oa.StopPropagation;return this.finish(ra,Oa)},finish(ra,Oa){const ja=Oa.dataflow;for(let db=this._argops,lb=0,nb=db.length,Mb;lb<nb;++lb)if(Mb=db[lb],"forces"===Mb.name&&"link"===Mb.op._argval.force)for(var U=Mb.op._argops,ka=0,wa=U.length,Ta;ka<wa;++ka)if("links"===U[ka].name&&
(Ta=U[ka].op.source)){ja.pulse(Ta,ja.changeset().reflow());break}return Oa.reflow(ra.modified()).modifies(eb)}});w.force=La;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[34]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(Hb,Ab,dc){const Wb={};Hb.each(mc=>{const Kc=mc.data;dc(Kc)&&(Wb[Ab(Kc)]=mc)});Hb.lookup=Wb;return Hb}function t(Hb,Ab){return Hb.parent===Ab.parent?1:2}function m(Hb,Ab){return Hb+
Ab.x}function f(Hb,Ab){return Math.max(Hb,Ab.y)}function b(Hb){for(var Ab;Ab=Hb.children;)Hb=Ab[0];return Hb}function c(Hb){for(var Ab;Ab=Hb.children;)Hb=Ab[Ab.length-1];return Hb}function e(Hb){var Ab=0,dc=Hb.children,Wb=dc&&dc.length;if(Wb)for(;0<=--Wb;)Ab+=dc[Wb].value;else Ab=1;Hb.value=Ab}function g(Hb,Ab){Hb instanceof Map?(Hb=[void 0,Hb],void 0===Ab&&(Ab=h)):void 0===Ab&&(Ab=n);Hb=new H(Hb);for(var dc,Wb=[Hb],mc,Kc,Fc,Sc;dc=Wb.pop();)if((Kc=Ab(dc.data))&&(Sc=(Kc=Array.from(Kc)).length))for(dc.children=
Kc,Fc=Sc-1;0<=Fc;--Fc)Wb.push(mc=Kc[Fc]=new H(Kc[Fc])),mc.parent=dc,mc.depth=dc.depth+1;return Hb.eachBefore(O)}function n(Hb){return Hb.children}function h(Hb){return Array.isArray(Hb)?Hb[1]:null}function x(Hb){void 0!==Hb.data.value&&(Hb.value=Hb.data.value);Hb.data=Hb.data.data}function O(Hb){var Ab=0;do Hb.height=Ab;while((Hb=Hb.parent)&&Hb.height<++Ab)}function H(Hb){this.data=Hb;this.depth=this.height=0;this.parent=null}function F(Hb,Ab){var dc=Hb.r-Ab.r,Wb=Ab.x-Hb.x;Hb=Ab.y-Hb.y;return 0>dc||
dc*dc<Wb*Wb+Hb*Hb}function J(Hb,Ab){var dc=Hb.r-Ab.r+1E-9*Math.max(Hb.r,Ab.r,1),Wb=Ab.x-Hb.x;Hb=Ab.y-Hb.y;return 0<dc&&dc*dc>Wb*Wb+Hb*Hb}function D(Hb,Ab){for(var dc=0;dc<Ab.length;++dc)if(!J(Hb,Ab[dc]))return!1;return!0}function r(Hb,Ab){var dc=Hb.x,Wb=Hb.y;Hb=Hb.r;var mc=Ab.x,Kc=Ab.y;Ab=Ab.r;var Fc=mc-dc,Sc=Kc-Wb,jd=Ab-Hb,$d=Math.sqrt(Fc*Fc+Sc*Sc);return{x:(dc+mc+Fc/$d*jd)/2,y:(Wb+Kc+Sc/$d*jd)/2,r:($d+Hb+Ab)/2}}function z(Hb,Ab,dc){var Wb=Hb.x,mc=Hb.y;Hb=Hb.r;var Kc=Ab.x,Fc=Ab.y,Sc=Ab.r,jd=dc.x,
$d=dc.y,Ba=dc.r;dc=Wb-Kc;Ab=Wb-jd;var ua=mc-Fc,Ca=mc-$d,$a=Sc-Hb,jb=Ba-Hb,yb=Wb*Wb+mc*mc-Hb*Hb;Fc=yb-Kc*Kc-Fc*Fc+Sc*Sc;$d=yb-jd*jd-$d*$d+Ba*Ba;jd=Ab*ua-dc*Ca;Kc=(ua*$d-Ca*Fc)/(2*jd)-Wb;ua=(Ca*$a-ua*jb)/jd;Ca=(Ab*Fc-dc*$d)/(2*jd)-mc;dc=(dc*jb-Ab*$a)/jd;Ab=ua*ua+dc*dc-1;$a=2*(Hb+Kc*ua+Ca*dc);Hb=Kc*Kc+Ca*Ca-Hb*Hb;Hb=-(Ab?($a+Math.sqrt($a*$a-4*Ab*Hb))/(2*Ab):Hb/$a);return{x:Wb+Kc+ua*Hb,y:mc+Ca+dc*Hb,r:Hb}}function G(Hb,Ab,dc){var Wb=Hb.x-Ab.x,mc=Hb.y-Ab.y,Kc=Wb*Wb+mc*mc;if(Kc){var Fc=Ab.r+dc.r;Fc*=Fc;
var Sc=Hb.r+dc.r;Sc*=Sc;if(Fc>Sc){var jd=(Kc+Sc-Fc)/(2*Kc);Fc=Math.sqrt(Math.max(0,Sc/Kc-jd*jd));dc.x=Hb.x-jd*Wb-Fc*mc;dc.y=Hb.y-jd*mc+Fc*Wb}else jd=(Kc+Fc-Sc)/(2*Kc),Fc=Math.sqrt(Math.max(0,Fc/Kc-jd*jd)),dc.x=Ab.x+jd*Wb-Fc*mc,dc.y=Ab.y+jd*mc+Fc*Wb}else dc.x=Ab.x+dc.r,dc.y=Ab.y}function T(Hb,Ab){var dc=Hb.r+Ab.r-1E-6,Wb=Ab.x-Hb.x;Hb=Ab.y-Hb.y;return 0<dc&&dc*dc>Wb*Wb+Hb*Hb}function R(Hb){var Ab=Hb._,dc=Hb.next._,Wb=Ab.r+dc.r;Hb=(Ab.x*dc.r+dc.x*Ab.r)/Wb;Ab=(Ab.y*dc.r+dc.y*Ab.r)/Wb;return Hb*Hb+Ab*
Ab}function ca(Hb){this._=Hb;this.previous=this.next=null}function M(Hb){if(!(dc=(Hb="object"===typeof Hb&&"length"in Hb?Hb:Array.from(Hb)).length))return 0;var Ab,dc;var Wb=Hb[0];Wb.x=0;Wb.y=0;if(!(1<dc))return Wb.r;var mc=Hb[1];Wb.x=-mc.r;mc.x=Wb.r;mc.y=0;if(!(2<dc))return Wb.r+mc.r;G(mc,Wb,Ab=Hb[2]);Wb=new ca(Wb);mc=new ca(mc);Ab=new ca(Ab);Wb.next=Ab.previous=mc;mc.next=Wb.previous=Ab;Ab.next=mc.previous=Wb;var Kc=3;a:for(;Kc<dc;++Kc){G(Wb._,mc._,Ab=Hb[Kc]);Ab=new ca(Ab);var Fc=mc.next;var Sc=
Wb.previous;var jd=mc._.r;var $d=Wb._.r;do if(jd<=$d){if(T(Fc._,Ab._)){mc=Fc;Wb.next=mc;mc.previous=Wb;--Kc;continue a}jd+=Fc._.r;Fc=Fc.next}else{if(T(Sc._,Ab._)){Wb=Sc;Wb.next=mc;mc.previous=Wb;--Kc;continue a}$d+=Sc._.r;Sc=Sc.previous}while(Fc!==Sc.next);Ab.previous=Wb;Ab.next=mc;Wb.next=mc.previous=mc=Ab;for(Fc=R(Wb);(Ab=Ab.next)!==mc;)(Sc=R(Ab))<Fc&&(Wb=Ab,Fc=Sc);mc=Wb.next}Wb=[mc._];for(Ab=mc;(Ab=Ab.next)!==mc;)Wb.push(Ab._);Ab=0;Wb=Array.from(Wb);for(mc=Wb.length;mc;)Fc=Math.random()*mc--|0,
Kc=Wb[mc],Wb[mc]=Wb[Fc],Wb[Fc]=Kc;mc=Wb.length;Kc=[];for(var Ba;Ab<mc;)if(Fc=Wb[Ab],Ba&&J(Ba,Fc))++Ab;else{a:if(Ba=Kc,D(Fc,Ba))Ba=[Fc];else{for(Kc=0;Kc<Ba.length;++Kc)if(F(Fc,Ba[Kc])&&D(r(Ba[Kc],Fc),Ba)){Ba=[Ba[Kc],Fc];break a}for(Kc=0;Kc<Ba.length-1;++Kc)for(Ab=Kc+1;Ab<Ba.length;++Ab)if(F(r(Ba[Kc],Ba[Ab]),Fc)&&F(r(Ba[Kc],Fc),Ba[Ab])&&F(r(Ba[Ab],Fc),Ba[Kc])&&D(z(Ba[Kc],Ba[Ab],Fc),Ba)){Ba=[Ba[Kc],Ba[Ab],Fc];break a}throw Error();}a:{Ba=Kc=Ba;switch(Ba.length){case 1:Ba=Ba[0];Ba={x:Ba.x,y:Ba.y,r:Ba.r};
break a;case 2:Ba=r(Ba[0],Ba[1]);break a;case 3:Ba=z(Ba[0],Ba[1],Ba[2]);break a}Ba=void 0}Ab=0}Ab=Ba;for(Kc=0;Kc<dc;++Kc)Wb=Hb[Kc],Wb.x-=Ab.x,Wb.y-=Ab.y;return Ab.r}function ba(Hb){if("function"!==typeof Hb)throw Error();return Hb}function W(){return 0}function ea(Hb){return function(){return Hb}}function La(Hb){return Math.sqrt(Hb.value)}function aa(Hb){return function(Ab){Ab.children||(Ab.r=Math.max(0,+Hb(Ab)||0))}}function C(Hb,Ab){return function(dc){if(Wb=dc.children){var Wb,mc,Kc=Wb.length,
Fc=Hb(dc)*Ab||0;if(Fc)for(mc=0;mc<Kc;++mc)Wb[mc].r+=Fc;var Sc=M(Wb);if(Fc)for(mc=0;mc<Kc;++mc)Wb[mc].r-=Fc;dc.r=Sc+Fc}}}function B(Hb){return function(Ab){var dc=Ab.parent;Ab.r*=Hb;dc&&(Ab.x=dc.x+Hb*Ab.x,Ab.y=dc.y+Hb*Ab.y)}}function N(Hb){Hb.x0=Math.round(Hb.x0);Hb.y0=Math.round(Hb.y0);Hb.x1=Math.round(Hb.x1);Hb.y1=Math.round(Hb.y1)}function Y(Hb,Ab,dc,Wb,mc){var Kc=Hb.children,Fc=-1,Sc=Kc.length;for(Wb=Hb.value&&(Wb-Ab)/Hb.value;++Fc<Sc;)Hb=Kc[Fc],Hb.y0=dc,Hb.y1=mc,Hb.x0=Ab,Hb.x1=Ab+=Hb.value*Wb}
function Aa(Hb){return Hb.id}function sa(Hb){return Hb.parentId}function la(){function Hb(mc){var Kc=Array.from(mc),Fc=Ab,Sc=dc,jd,$d,Ba=new Map;if(null!=Wb){const Ub=Kc.map((Vb,Ic)=>{Vb=Wb(Vb,Ic,mc);Vb=`${Vb}`;Ic=Vb.length;bb(Vb,Ic-1)&&!bb(Vb,Ic-2)&&(Vb=Vb.slice(0,-1));return"/"===Vb[0]?Vb:`/${Vb}`}),Tb=Ub.map(Ia);Fc=(new Set(Ub)).add("");for($a of Tb)Fc.has($a)||(Fc.add($a),Ub.push($a),Tb.push(Ia($a)),Kc.push(nb));Fc=(Vb,Ic)=>Ub[Ic];Sc=(Vb,Ic)=>Tb[Ic]}var ua=0;for(jd=Kc.length;ua<jd;++ua){var Ca=
Kc[ua];var $a=Kc[ua]=new H(Ca);if(null!=($d=Fc(Ca,ua,mc))&&($d+="")){var jb=$a.id=$d;Ba.set(jb,Ba.has(jb)?lb:$a)}null!=($d=Sc(Ca,ua,mc))&&($d+="")&&($a.parent=$d)}for(ua=0;ua<jd;++ua)if($a=Kc[ua],$d=$a.parent){Fc=Ba.get($d);if(!Fc)throw Error("missing: "+$d);if(Fc===lb)throw Error("ambiguous: "+$d);Fc.children?Fc.children.push($a):Fc.children=[$a];$a.parent=Fc}else{if(yb)throw Error("multiple roots");var yb=$a}if(!yb)throw Error("no root");if(null!=Wb){for(;yb.data===nb&&1===yb.children.length;)yb=
yb.children[0],--jd;for($d=Kc.length-1;0<=$d;--$d){$a=Kc[$d];if($a.data!==nb)break;$a.data=null}}yb.parent=db;yb.eachBefore(function(Ub){Ub.depth=Ub.parent.depth+1;--jd}).eachBefore(O);yb.parent=null;if(0<jd)throw Error("cycle");return yb}var Ab=Aa,dc=sa,Wb;Hb.id=function(mc){return arguments.length?(Ab=null==mc?null:ba(mc),Hb):Ab};Hb.parentId=function(mc){return arguments.length?(dc=null==mc?null:ba(mc),Hb):dc};Hb.path=function(mc){return arguments.length?(Wb=null==mc?null:ba(mc),Hb):Wb};return Hb}
function Ia(Hb){let Ab=Hb.length;if(2>Ab)return"";for(;1<--Ab&&!bb(Hb,Ab););return Hb.slice(0,Ab)}function bb(Hb,Ab){if("/"===Hb[Ab]){let dc=0;for(;0<Ab&&"\\"===Hb[--Ab];)++dc;if(0===(dc&1))return!0}return!1}function ib(Hb,Ab){return Hb.parent===Ab.parent?1:2}function Ja(Hb){var Ab=Hb.children;return Ab?Ab[0]:Hb.t}function ma(Hb){var Ab=Hb.children;return Ab?Ab[Ab.length-1]:Hb.t}function Fa(Hb,Ab){this._=Hb;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;
this.i=Ab}function Pa(Hb){Hb=new Fa(Hb,0);for(var Ab,dc=[Hb],Wb,mc,Kc;Ab=dc.pop();)if(mc=Ab._.children)for(Ab.children=Array(Wb=mc.length),Kc=Wb-1;0<=Kc;--Kc)dc.push(Wb=Ab.children[Kc]=new Fa(mc[Kc],Kc)),Wb.parent=Ab;(Hb.parent=new Fa(null,0)).children=[Hb];return Hb}function qa(Hb,Ab,dc,Wb,mc){var Kc=Hb.children,Fc=-1,Sc=Kc.length;for(mc=Hb.value&&(mc-dc)/Hb.value;++Fc<Sc;)Hb=Kc[Fc],Hb.x0=Ab,Hb.x1=Wb,Hb.y0=dc,Hb.y1=dc+=Hb.value*mc}function ya(Hb,Ab,dc,Wb,mc,Kc){for(var Fc=[],Sc=Ab.children,jd,$d,
Ba=jd=0,ua=Sc.length,Ca,$a=Ab.value,jb,yb,Ub,Tb,Vb,Ic;jd<ua;){Ab=mc-dc;Ca=Kc-Wb;do jb=Sc[Ba++].value;while(!jb&&Ba<ua);yb=Ub=jb;Ic=Math.max(Ca/Ab,Ab/Ca)/($a*Hb);Tb=jb*jb*Ic;for(Vb=Math.max(Ub/Tb,Tb/yb);Ba<ua;++Ba){jb+=$d=Sc[Ba].value;$d<yb&&(yb=$d);$d>Ub&&(Ub=$d);Tb=jb*jb*Ic;Tb=Math.max(Ub/Tb,Tb/yb);if(Tb>Vb){jb-=$d;break}Vb=Tb}Fc.push(jd={value:jb,dice:Ab<Ca,children:Sc.slice(jd,Ba)});jd.dice?Y(jd,dc,Wb,mc,$a?Wb+=Ca*jb/$a:Kc):qa(jd,dc,Wb,$a?dc+=Ab*jb/$a:mc,Kc);$a-=jb;jd=Ba}return Fc}function oa(){function Hb(Ca){Ca.x0=
Ca.y0=0;Ca.x1=mc;Ca.y1=Kc;Ca.eachBefore(Ab);Fc=[0];Wb&&Ca.eachBefore(N);return Ca}function Ab(Ca){var $a=Fc[Ca.depth],jb=Ca.x0+$a,yb=Ca.y0+$a,Ub=Ca.x1-$a,Tb=Ca.y1-$a;Ub<jb&&(jb=Ub=(jb+Ub)/2);Tb<yb&&(yb=Tb=(yb+Tb)/2);Ca.x0=jb;Ca.y0=yb;Ca.x1=Ub;Ca.y1=Tb;Ca.children&&($a=Fc[Ca.depth+1]=Sc(Ca)/2,jb+=ua(Ca)-$a,yb+=jd(Ca)-$a,Ub-=$d(Ca)-$a,Tb-=Ba(Ca)-$a,Ub<jb&&(jb=Ub=(jb+Ub)/2),Tb<yb&&(yb=Tb=(yb+Tb)/2),dc(Ca,jb,yb,Ub,Tb))}var dc=$b,Wb=!1,mc=1,Kc=1,Fc=[0],Sc=W,jd=W,$d=W,Ba=W,ua=W;Hb.round=function(Ca){return arguments.length?
(Wb=!!Ca,Hb):Wb};Hb.size=function(Ca){return arguments.length?(mc=+Ca[0],Kc=+Ca[1],Hb):[mc,Kc]};Hb.tile=function(Ca){return arguments.length?(dc=ba(Ca),Hb):dc};Hb.padding=function(Ca){return arguments.length?Hb.paddingInner(Ca).paddingOuter(Ca):Hb.paddingInner()};Hb.paddingInner=function(Ca){return arguments.length?(Sc="function"===typeof Ca?Ca:ea(+Ca),Hb):Sc};Hb.paddingOuter=function(Ca){return arguments.length?Hb.paddingTop(Ca).paddingRight(Ca).paddingBottom(Ca).paddingLeft(Ca):Hb.paddingTop()};
Hb.paddingTop=function(Ca){return arguments.length?(jd="function"===typeof Ca?Ca:ea(+Ca),Hb):jd};Hb.paddingRight=function(Ca){return arguments.length?($d="function"===typeof Ca?Ca:ea(+Ca),Hb):$d};Hb.paddingBottom=function(Ca){return arguments.length?(Ba="function"===typeof Ca?Ca:ea(+Ca),Hb):Ba};Hb.paddingLeft=function(Ca){return arguments.length?(ua="function"===typeof Ca?Ca:ea(+Ca),Hb):ua};return Hb}function va(Hb){k.Transform.call(this,null,Hb)}function Ua(){function Hb(mc,Kc){if(Kc>=dc.length)return mc;
const Fc=mc.length,Sc=dc[Kc++],jd={},$d={};let Ba=-1,ua,Ca,$a;for(;++Ba<Fc;)ua=Sc(Ca=mc[Ba])+"",($a=jd[ua])?$a.push(Ca):jd[ua]=[Ca];for(ua in jd)$d[ua]=Hb(jd[ua],Kc);return $d}function Ab(mc,Kc){if(++Kc>dc.length)return mc;const Fc=[];for(const Sc in mc)Fc.push({key:Sc,values:Ab(mc[Sc],Kc)});return Fc}const dc=[],Wb={entries:mc=>Ab(Hb(mc,0),0),key:mc=>(dc.push(mc),Wb)};return Wb}function eb(Hb){k.Transform.call(this,null,Hb)}function ra(Hb,Ab,dc){for(let Wb,mc=0,Kc=Ab.length;mc<Kc;++mc)if(Wb=Ab[mc],
Wb in dc)Hb[Wb](dc[Wb])}function Oa(Hb){eb.call(this,Hb)}function ja(Hb){eb.call(this,Hb)}function U(Hb){k.Transform.call(this,null,Hb)}function ka(Hb){eb.call(this,Hb)}function wa(Hb){k.Transform.call(this,[],Hb)}function Ta(Hb){eb.call(this,Hb)}H.prototype=g.prototype={constructor:H,count:function(){return this.eachAfter(e)},each:function(Hb,Ab){let dc=-1;for(const Wb of this)Hb.call(Ab,Wb,++dc,this);return this},eachAfter:function(Hb,Ab){for(var dc,Wb=[this],mc=[],Kc,Fc,Sc=-1;dc=Wb.pop();)if(mc.push(dc),
dc=dc.children)for(Kc=0,Fc=dc.length;Kc<Fc;++Kc)Wb.push(dc[Kc]);for(;dc=mc.pop();)Hb.call(Ab,dc,++Sc,this);return this},eachBefore:function(Hb,Ab){for(var dc,Wb=[this],mc,Kc=-1;dc=Wb.pop();)if(Hb.call(Ab,dc,++Kc,this),dc=dc.children)for(mc=dc.length-1;0<=mc;--mc)Wb.push(dc[mc]);return this},find:function(Hb,Ab){let dc=-1;for(const Wb of this)if(Hb.call(Ab,Wb,++dc,this))return Wb},sum:function(Hb){return this.eachAfter(function(Ab){for(var dc=+Hb(Ab.data)||0,Wb=Ab.children,mc=Wb&&Wb.length;0<=--mc;)dc+=
Wb[mc].value;Ab.value=dc})},sort:function(Hb){return this.eachBefore(function(Ab){Ab.children&&Ab.children.sort(Hb)})},path:function(Hb){var Ab=this;var dc=Ab;var Wb=Hb;if(dc!==Wb){var mc=dc.ancestors(),Kc=Wb.ancestors(),Fc=null;dc=mc.pop();for(Wb=Kc.pop();dc===Wb;)Fc=dc,dc=mc.pop(),Wb=Kc.pop();dc=Fc}for(Wb=[Ab];Ab!==dc;)Ab=Ab.parent,Wb.push(Ab);for(Ab=Wb.length;Hb!==dc;)Wb.splice(Ab,0,Hb),Hb=Hb.parent;return Wb},ancestors:function(){for(var Hb=this,Ab=[Hb];Hb=Hb.parent;)Ab.push(Hb);return Ab},descendants:function(){return Array.from(this)},
leaves:function(){var Hb=[];this.eachBefore(function(Ab){Ab.children||Hb.push(Ab)});return Hb},links:function(){var Hb=this,Ab=[];Hb.each(function(dc){dc!==Hb&&Ab.push({source:dc.parent,target:dc})});return Ab},copy:function(){return g(this).eachBefore(x)},[Symbol.iterator]:function*(){var Hb,Ab=[this],dc;do{var Wb=Ab.reverse();for(Ab=[];Hb=Wb.pop();)if(yield Hb,Hb=Hb.children){var mc=0;for(dc=Hb.length;mc<dc;++mc)Ab.push(Hb[mc])}}while(Ab.length)}};var db={depth:-1},lb={},nb={};Fa.prototype=Object.create(H.prototype);
var Mb=(1+Math.sqrt(5))/2,$b=function dc(Ab){function Wb(mc,Kc,Fc,Sc,jd){ya(Ab,mc,Kc,Fc,Sc,jd)}Wb.ratio=function(mc){return dc(1<(mc=+mc)?mc:1)};return Wb}(Mb);Mb=function Wb(dc){function mc(Kc,Fc,Sc,jd,$d){if((Ba=Kc._squarify)&&Ba.ratio===dc)for(var Ba,ua,Ca,$a=-1,jb,yb=Ba.length,Ub=Kc.value;++$a<yb;){Kc=Ba[$a];ua=Kc.children;Ca=Kc.value=0;for(jb=ua.length;Ca<jb;++Ca)Kc.value+=ua[Ca].value;Kc.dice?Y(Kc,Fc,Sc,jd,Ub?Sc+=($d-Sc)*Kc.value/Ub:$d):qa(Kc,Fc,Sc,Ub?Fc+=(jd-Fc)*Kc.value/Ub:jd,$d);Ub-=Kc.value}else Kc._squarify=
Ba=ya(dc,Kc,Fc,Sc,jd,$d),Ba.ratio=dc}mc.ratio=function(Kc){return Wb(1<(Kc=+Kc)?Kc:1)};return mc}(Mb);va.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Gc=dc=>dc.values;p.inherits(va,k.Transform,{transform(dc,Wb){Wb.source||p.error("Nest transform requires an upstream data source.");var mc=dc.generate,Kc=dc.modified(),Fc=Wb.clone(),Sc=this.value;if(!Sc||Kc||Wb.changed())Sc&&Sc.each(jd=>{jd.children&&
k.isTuple(jd.data)&&Fc.rem.push(jd.data)}),this.value=Sc=g({values:p.array(dc.keys).reduce((jd,$d)=>{jd.key($d);return jd},Ua()).entries(Fc.source)},Gc),mc&&Sc.each(jd=>{jd.children&&(jd=k.ingest(jd.data),Fc.add.push(jd),Fc.source.push(jd))}),q(Sc,k.tupleid,k.tupleid);Fc.source.root=Sc;return Fc}});const zc=(dc,Wb)=>dc.parent===Wb.parent?1:2;p.inherits(eb,k.Transform,{transform(dc,Wb){Wb.source&&Wb.source.root||p.error(this.constructor.name+" transform requires a backing tree data source.");const mc=
this.layout(dc.method),Kc=this.fields,Fc=Wb.source.root,Sc=dc.as||Kc;dc.field?Fc.sum(dc.field):Fc.count();dc.sort&&Fc.sort(k.stableCompare(dc.sort,jd=>jd.data));ra(mc,this.params,dc);mc.separation&&mc.separation(!1!==dc.separation?zc:p.one);try{this.value=mc(Fc)}catch(jd){p.error(jd)}Fc.each(jd=>{const $d=jd.data,Ba=Kc.length-1;for(let ua=0;ua<Ba;++ua)$d[Sc[ua]]=jd[Kc[ua]];$d[Sc[Ba]]=jd.children?jd.children.length:0});return Wb.reflow(dc.modified()).modifies(Sc).modifies("leaf")}});var Bc=["x","y",
"r","depth","children"];Oa.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Bc.length,"default":Bc}]};p.inherits(Oa,eb,{layout:function(){function dc(Sc){Sc.x=mc/2;Sc.y=Kc/2;Wb?Sc.eachBefore(aa(Wb)).eachAfter(C(Fc,.5)).eachBefore(B(1)):Sc.eachBefore(aa(La)).eachAfter(C(W,
1)).eachAfter(C(Fc,Sc.r/Math.min(mc,Kc))).eachBefore(B(Math.min(mc,Kc)/(2*Sc.r)));return Sc}var Wb=null,mc=1,Kc=1,Fc=W;dc.radius=function(Sc){return arguments.length?(Wb=null==Sc?null:ba(Sc),dc):Wb};dc.size=function(Sc){return arguments.length?(mc=+Sc[0],Kc=+Sc[1],dc):[mc,Kc]};dc.padding=function(Sc){return arguments.length?(Fc="function"===typeof Sc?Sc:ea(+Sc),dc):Fc};return dc},params:["radius","size","padding"],fields:Bc});Bc="x0 y0 x1 y1 depth children".split(" ");ja.Definition={type:"Partition",
metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Bc.length,"default":Bc}]};p.inherits(ja,eb,{layout:function(){function dc(jd){var $d=jd.height+1;jd.x0=jd.y0=Fc;jd.x1=mc;jd.y1=Kc/$d;jd.eachBefore(Wb(Kc,$d));Sc&&jd.eachBefore(N);return jd}function Wb(jd,$d){return function(Ba){Ba.children&&
Y(Ba,Ba.x0,jd*(Ba.depth+1)/$d,Ba.x1,jd*(Ba.depth+2)/$d);var ua=Ba.x0,Ca=Ba.y0,$a=Ba.x1-Fc,jb=Ba.y1-Fc;$a<ua&&(ua=$a=(ua+$a)/2);jb<Ca&&(Ca=jb=(Ca+jb)/2);Ba.x0=ua;Ba.y0=Ca;Ba.x1=$a;Ba.y1=jb}}var mc=1,Kc=1,Fc=0,Sc=!1;dc.round=function(jd){return arguments.length?(Sc=!!jd,dc):Sc};dc.size=function(jd){return arguments.length?(mc=+jd[0],Kc=+jd[1],dc):[mc,Kc]};dc.padding=function(jd){return arguments.length?(Fc=+jd,dc):Fc};return dc},params:["size","round","padding"],fields:Bc});U.Definition={type:"Stratify",
metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};p.inherits(U,k.Transform,{transform(dc,Wb){Wb.source||p.error("Stratify transform requires an upstream data source.");let mc=this.value;const Kc=dc.modified(),Fc=Wb.fork(Wb.ALL).materialize(Wb.SOURCE);Wb=!mc||Kc||Wb.changed(Wb.ADD_REM)||Wb.modified(dc.key.fields)||Wb.modified(dc.parentKey.fields);Fc.source=Fc.source.slice();Wb&&(mc=Fc.source.length?q(la().id(dc.key).parentId(dc.parentKey)(Fc.source),
dc.key,p.truthy):q(la()([{}]),dc.key,dc.key));Fc.source.root=this.value=mc;return Fc}});const uc={tidy:function(){function dc(Ba){var ua=Pa(Ba);ua.eachAfter(Wb);ua.parent.m=-ua.z;ua.eachBefore(mc);if($d)Ba.eachBefore(Kc);else{var Ca=Ba,$a=Ba,jb=Ba;Ba.eachBefore(function(Vb){Vb.x<Ca.x&&(Ca=Vb);Vb.x>$a.x&&($a=Vb);Vb.depth>jb.depth&&(jb=Vb)});ua=Ca===$a?1:Fc(Ca,$a)/2;var yb=ua-Ca.x,Ub=Sc/($a.x+ua+yb),Tb=jd/(jb.depth||1);Ba.eachBefore(function(Vb){Vb.x=(Vb.x+yb)*Ub;Vb.y=Vb.depth*Tb})}return Ba}function Wb(Ba){var ua=
Ba.children,Ca=Ba.parent.children,$a=Ba.i?Ca[Ba.i-1]:null;if(ua){for(var jb=0,yb=0,Ub=Ba.children,Tb=Ub.length,Vb;0<=--Tb;)Vb=Ub[Tb],Vb.z+=jb,Vb.m+=jb,jb+=Vb.s+(yb+=Vb.c);ua=(ua[0].z+ua[ua.length-1].z)/2;$a?(Ba.z=$a.z+Fc(Ba._,$a._),Ba.m=Ba.z-ua):Ba.z=ua}else $a&&(Ba.z=$a.z+Fc(Ba._,$a._));ua=Ba.parent;Ca=Ba.parent.A||Ca[0];if($a){yb=jb=Ba;Ub=jb.parent.children[0];Tb=jb.m;Vb=yb.m;for(var Ic=$a.m,Yc=Ub.m,dd;$a=ma($a),jb=Ja(jb),$a&&jb;){Ub=Ja(Ub);yb=ma(yb);yb.a=Ba;dd=$a.z+Ic-jb.z-Tb+Fc($a._,jb._);if(0<
dd){var nd=$a.a.parent===Ba.parent?$a.a:Ca,xd=Ba,Nd=dd,Xd=Nd/(xd.i-nd.i);xd.c-=Xd;xd.s+=Nd;nd.c+=Xd;xd.z+=Nd;xd.m+=Nd;Tb+=dd;Vb+=dd}Ic+=$a.m;Tb+=jb.m;Yc+=Ub.m;Vb+=yb.m}$a&&!ma(yb)&&(yb.t=$a,yb.m+=Ic-Vb);jb&&!Ja(Ub)&&(Ub.t=jb,Ub.m+=Tb-Yc,Ca=Ba)}ua.A=Ca}function mc(Ba){Ba._.x=Ba.z+Ba.parent.m;Ba.m+=Ba.parent.m}function Kc(Ba){Ba.x*=Sc;Ba.y=Ba.depth*jd}var Fc=ib,Sc=1,jd=1,$d=null;dc.separation=function(Ba){return arguments.length?(Fc=Ba,dc):Fc};dc.size=function(Ba){return arguments.length?($d=!1,Sc=
+Ba[0],jd=+Ba[1],dc):$d?null:[Sc,jd]};dc.nodeSize=function(Ba){return arguments.length?($d=!0,Sc=+Ba[0],jd=+Ba[1],dc):$d?[Sc,jd]:null};return dc},cluster:function(){function dc(Sc){var jd,$d=0;Sc.eachAfter(function(jb){var yb=jb.children;if(yb){var Ub=yb.reduce(m,0)/yb.length;jb.x=Ub;jb.y=1+yb.reduce(f,0)}else jb.x=jd?$d+=Wb(jb,jd):0,jb.y=0,jd=jb});var Ba=b(Sc),ua=c(Sc),Ca=Ba.x-Wb(Ba,ua)/2,$a=ua.x+Wb(ua,Ba)/2;return Sc.eachAfter(Fc?function(jb){jb.x=(jb.x-Sc.x)*mc;jb.y=(Sc.y-jb.y)*Kc}:function(jb){jb.x=
(jb.x-Ca)/($a-Ca)*mc;jb.y=(1-(Sc.y?jb.y/Sc.y:1))*Kc})}var Wb=t,mc=1,Kc=1,Fc=!1;dc.separation=function(Sc){return arguments.length?(Wb=Sc,dc):Wb};dc.size=function(Sc){return arguments.length?(Fc=!1,mc=+Sc[0],Kc=+Sc[1],dc):Fc?null:[mc,Kc]};dc.nodeSize=function(Sc){return arguments.length?(Fc=!0,mc=+Sc[0],Kc=+Sc[1],dc):Fc?[mc,Kc]:null};return dc}};Bc=["x","y","depth","children"];ka.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Bc.length,"default":Bc}]};p.inherits(ka,eb,{layout(dc){dc=dc||"tidy";if(p.hasOwnProperty(uc,dc))return uc[dc]();p.error("Unrecognized Tree layout method: "+dc)},params:["size","nodeSize"],fields:Bc});wa.Definition={type:"TreeLinks",metadata:{tree:!0,
generates:!0,changes:!0},params:[]};p.inherits(wa,k.Transform,{transform(dc,Wb){dc=this.value;const mc=Wb.source&&Wb.source.root,Kc=Wb.fork(Wb.NO_SOURCE),Fc={};mc||p.error("TreeLinks transform requires a tree data source.");Wb.changed(Wb.ADD_REM)?(Kc.rem=dc,Wb.visit(Wb.SOURCE,Sc=>Fc[k.tupleid(Sc)]=1),mc.each(Sc=>{const jd=Sc.data;(Sc=Sc.parent&&Sc.parent.data)&&Fc[k.tupleid(jd)]&&Fc[k.tupleid(Sc)]&&Kc.add.push(k.ingest({source:Sc,target:jd}))}),this.value=Kc.add):Wb.changed(Wb.MOD)&&(Wb.visit(Wb.MOD,
Sc=>Fc[k.tupleid(Sc)]=1),dc.forEach(Sc=>{(Fc[k.tupleid(Sc.source)]||Fc[k.tupleid(Sc.target)])&&Kc.mod.push(Sc)}));return Kc}});const id={binary:function(dc,Wb,mc,Kc,Fc){function Sc($a,jb,yb,Ub,Tb,Vb,Ic){if($a>=jb-1)$a=jd[$a],$a.x0=Ub,$a.y0=Tb,$a.x1=Vb,$a.y1=Ic;else{for(var Yc=Ca[$a],dd=yb/2+Yc,nd=$a+1,xd=jb-1;nd<xd;){var Nd=nd+xd>>>1;Ca[Nd]<dd?nd=Nd+1:xd=Nd}dd-Ca[nd-1]<Ca[nd]-dd&&$a+1<nd&&--nd;Yc=Ca[nd]-Yc;dd=yb-Yc;Vb-Ub>Ic-Tb?(yb=yb?(Ub*dd+Vb*Yc)/yb:Vb,Sc($a,nd,Yc,Ub,Tb,yb,Ic),Sc(nd,jb,dd,yb,Tb,
Vb,Ic)):(yb=yb?(Tb*dd+Ic*Yc)/yb:Ic,Sc($a,nd,Yc,Ub,Tb,Vb,yb),Sc(nd,jb,dd,Ub,yb,Vb,Ic))}}var jd=dc.children,$d,Ba=jd.length,ua,Ca=Array(Ba+1);for(Ca[0]=ua=$d=0;$d<Ba;++$d)Ca[$d+1]=ua+=jd[$d].value;Sc(0,Ba,dc.value,Wb,mc,Kc,Fc)},dice:Y,slice:qa,slicedice:function(dc,Wb,mc,Kc,Fc){(dc.depth&1?qa:Y)(dc,Wb,mc,Kc,Fc)},squarify:$b,resquarify:Mb};Mb="x0 y0 x1 y1 depth children".split(" ");Ta.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},
{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Mb.length,"default":Mb}]};p.inherits(Ta,eb,{layout(){const dc=oa();dc.ratio=Wb=>{const mc=dc.tile();mc.ratio&&dc.tile(mc.ratio(Wb))};dc.method=Wb=>{p.hasOwnProperty(id,Wb)?dc.tile(id[Wb]):p.error("Unrecognized Treemap layout method: "+Wb)};return dc},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Mb});w.nest=va;w.pack=Oa;w.partition=ja;w.stratify=U;w.tree=ka;w.treelinks=wa;w.treemap=Ta;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(28),L(26),L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t){function m(aa,C){const B=aa.bitmap();(C||[]).forEach(N=>B.set(aa(N.boundary[0]),aa(N.boundary[3])));
return[B,void 0]}function f(aa,C,B,N,Y){const Aa=aa.width,sa=aa.height;N=N||Y;const la=p.canvas(Aa,sa).getContext("2d");var Ia=p.canvas(Aa,sa).getContext("2d"),bb=N&&p.canvas(Aa,sa).getContext("2d");B.forEach(va=>b(la,va,!1));b(Ia,C,!1);N&&b(bb,C,!0);C=new Uint32Array(la.getImageData(0,0,Aa,sa).data.buffer);B=new Uint32Array(Ia.getImageData(0,0,Aa,sa).data.buffer);bb=N&&new Uint32Array(bb.getImageData(0,0,Aa,sa).data.buffer);Ia=aa.bitmap();const ib=N&&aa.bitmap();let Ja,ma;let Fa,Pa,qa,ya;for(ma=
0;ma<sa;++ma)for(Ja=0;Ja<Aa;++Ja){var oa=ma*Aa+Ja;Pa=C[oa]&4278190080;ya=B[oa]&4278190080;qa=N&&bb[oa]&4278190080;if(Pa||qa||ya)oa=aa(Ja),Fa=aa(ma),Y||!Pa&&!ya||Ia.set(oa,Fa),N&&(Pa||qa)&&ib.set(oa,Fa)}return[Ia,ib]}function b(aa,C,B){if(C.length){var N=C[0].mark.marktype;"group"===N?C.forEach(Y=>{Y.items.forEach(Aa=>b(aa,Aa.items,B))}):k.Marks[N].draw(aa,{items:B?C.map(c):C})}}function c(aa){aa=q.rederive(aa,{});return aa.stroke&&0!==aa.strokeOpacity||aa.fill&&0!==aa.fillOpacity?Object.assign({},
aa,{strokeOpacity:1,stroke:"#000",fillOpacity:0}):aa}function e(aa,C){const B=new Uint32Array(~~((aa*C+32)/32));return{array:B,get:(N,Y)=>{N=Y*aa+N;return B[N>>>5]&1<<(N&31)},set:(N,Y)=>{N=Y*aa+N;B[N>>>5]|=1<<(N&31)},clear:(N,Y)=>{N=Y*aa+N;B[N>>>5]&=~(1<<(N&31))},getRange:(N,Y,Aa,sa)=>{let la,Ia,bb;for(;sa>=Y;--sa){var ib=sa*aa+N;la=sa*aa+Aa;Ia=ib>>>5;bb=la>>>5;if(Ia===bb){if(B[Ia]&z[ib&31]&G[(la&31)+1])return!0}else{if(B[Ia]&z[ib&31]||B[bb]&G[(la&31)+1])return!0;for(ib=Ia+1;ib<bb;++ib)if(B[ib])return!0}}return!1},
setRange:(N,Y,Aa,sa)=>{let la,Ia,bb;for(;Y<=sa;++Y){var ib=Y*aa+N;la=Y*aa+Aa;Ia=ib>>>5;bb=la>>>5;if(Ia===bb)B[Ia]|=z[ib&31]&G[(la&31)+1];else for(B[Ia]|=z[ib&31],B[bb]|=G[(la&31)+1],ib=Ia+1;ib<bb;++ib)B[ib]|=4294967295}},clearRange:(N,Y,Aa,sa)=>{let la,Ia,bb;for(;Y<=sa;++Y){var ib=Y*aa+N;la=Y*aa+Aa;Ia=ib>>>5;bb=la>>>5;if(Ia===bb)B[Ia]&=G[ib&31]|z[(la&31)+1];else for(B[Ia]&=G[ib&31],B[bb]&=z[(la&31)+1],ib=Ia+1;ib<bb;++ib)B[ib]&=0}},outOfBounds:(N,Y,Aa,sa)=>0>N||0>Y||sa>=C||Aa>=aa}}function g(aa,C,
B){const N=Math.max(1,Math.sqrt(aa*C/1E6)),Y=~~((aa+2*B+N)/N),Aa=~~((C+2*B+N)/N),sa=la=>~~((la+B)/N);sa.invert=la=>la*N-B;sa.bitmap=()=>e(Y,Aa);sa.ratio=N;sa.padding=B;sa.width=aa;sa.height=C;return sa}function n(aa,C,B,N,Y,Aa){B/=2;return 0>aa-B||aa+B>Y||0>C-(B=N/2)||C+B>Aa}function h(aa,C,B,N,Y,Aa,sa,la){Y=Y*Aa/(2*N);N=aa(C-Y);C=aa(C+Y);Y=aa(B-(Aa/=2));aa=aa(B+Aa);return sa.outOfBounds(N,Y,C,aa)||sa.getRange(N,Y,C,aa)||la&&la.getRange(N,Y,C,aa)}function x(aa,C,B,N){const Y=aa.width,Aa=aa.height,
sa=C[0],la=C[1],Ia=N.length;return function(bb){const ib=bb.boundary,Ja=bb.datum.fontSize;if(0>ib[2]||0>ib[5]||ib[0]>Y||ib[3]>Aa)return!1;var ma;let Fa=null!=(ma=bb.textWidth)?ma:0,Pa;let qa,ya;let oa;let va;let Ua,eb;for(let Gc=0;Gc<Ia;++Gc){ma=(B[Gc]&3)-1;Pa=(B[Gc]>>>2&3)-1;var ra=0===ma&&0===Pa||0>N[Gc];var Oa=ma&&Pa?Math.SQRT1_2:1;qa=0>N[Gc]?-1:1;ya=ib[1+ma]+N[Gc]*ma*Oa;va=ib[4+Pa]+qa*Ja*Pa/2+N[Gc]*Pa*Oa;Oa=va-Ja/2;oa=va+Ja/2;var ja=aa(ya);Ua=aa(Oa);eb=aa(oa);if(!Fa){var U=ja;var ka=Ua;var wa=
eb;var Ta=sa,db=la,lb=ra;if(Ta.outOfBounds(U,ka,ja,wa)||(lb&&db||Ta).getRange(U,ka,ja,wa))continue;else Fa=k.textMetrics.width(bb.datum,bb.datum.text)}ka=ya+qa*Fa*ma/2;ya=ka-Fa/2;U=ka+Fa/2;ja=aa(ya);wa=aa(U);Ta=ja;db=wa;lb=Ua;var nb=eb,Mb=sa,$b=la;if(!Mb.outOfBounds(Ta,lb,db,nb)&&!(ra&&$b||Mb).getRange(Ta,lb,db,nb))return bb.x=ma?0>ma*qa?U:ya:ka,bb.y=Pa?0>Pa*qa?oa:Oa:va,bb.align=ca[ma*qa+1],bb.baseline=M[Pa*qa+1],sa.setRange(ja,Ua,wa,eb),!0}return!1}}function O(aa,C,B,N,Y,Aa,sa,la,Ia,bb,ib){if(!aa.length)return aa;
var Ja=Math.max(N.length,Y.length);const ma=H(N,Ja);Y=F(Y,Ja);const Fa=J(aa[0].datum);var Pa="group"===Fa&&aa[0].datum.items[Ia].marktype;Ja="area"===Pa;const qa=D(Fa,Pa,la,Ia),ya=null===bb||Infinity===bb;Pa=Ja&&"naive"===ib;let oa=-1,va=-1;la=aa.map(ra=>{const Oa=ya?k.textMetrics.width(ra,ra.text):void 0;oa=Math.max(oa,Oa);va=Math.max(va,ra.fontSize);return{datum:ra,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:qa(ra),textWidth:Oa}});bb=null===bb||Infinity===bb?Math.max(oa,va)+
Math.max(...N):bb;C=g(C[0],C[1],bb);if(!Pa){B&&la.sort((ra,Oa)=>B(ra.datum,Oa.datum));var Ua=!1;for(N=0;N<Y.length&&!Ua;++N)Ua=5===Y[N]||0>ma[N];aa=(Fa&&sa||Ja)&&aa.map(ra=>ra.datum);Ua=Aa.length||aa?f(C,aa||[],Aa,Ua,Ja):m(C,sa&&la)}const eb=Ja?W[ib](C,Ua,sa,Ia):x(C,Ua,Y,ma);la.forEach(ra=>ra.opacity=+eb(ra));return la}function H(aa,C){const B=new Float64Array(C),N=aa.length;for(let Y=0;Y<N;++Y)B[Y]=aa[Y]||0;for(aa=N;aa<C;++aa)B[aa]=B[N-1];return B}function F(aa,C){const B=new Int8Array(C),N=aa.length;
for(let Y=0;Y<N;++Y)B[Y]|=ba[aa[Y]];for(aa=N;aa<C;++aa)B[aa]=B[N-1];return B}function J(aa){return aa&&aa.mark&&aa.mark.marktype}function D(aa,C,B,N){const Y=Aa=>[Aa.x,Aa.x,Aa.x,Aa.y,Aa.y,Aa.y];return aa?"line"===aa||"area"===aa?Aa=>Y(Aa.datum):"line"===C?Aa=>{Aa=Aa.datum.items[N].items;return Y(Aa.length?Aa["start"===B?0:Aa.length-1]:{x:NaN,y:NaN})}:Aa=>{Aa=Aa.datum.bounds;return[Aa.x1,(Aa.x1+Aa.x2)/2,Aa.x2,Aa.y1,(Aa.y1+Aa.y2)/2,Aa.y2]}:Y}function r(aa){q.Transform.call(this,null,aa)}const z=new Uint32Array(33),
G=new Uint32Array(33);G[0]=0;z[0]=~G[0];for(let aa=1;32>=aa;++aa)G[aa]=G[aa-1]<<1|1,z[aa]=~G[aa];const T=[-1,-1,1,1],R=[-1,1,-1,1],ca=["right","center","left"],M=["bottom","middle","top"],ba={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},W={naive:function(aa,C,B,N){const Y=aa.width,Aa=aa.height;return function(sa){const la=sa.datum.datum.items[N].items,Ia=la.length,bb=sa.datum.fontSize,ib=k.textMetrics.width(sa.datum,sa.datum.text);let Ja=0;let ma,
Fa,Pa,qa,ya;for(let va=0;va<Ia;++va){var oa=la[va].x;Fa=la[va].y;ma=void 0===la[va].x2?oa:la[va].x2;Pa=void 0===la[va].y2?Fa:la[va].y2;qa=(oa+ma)/2;ya=(Fa+Pa)/2;oa=Math.abs(ma-oa+Pa-Fa);oa>=Ja&&(Ja=oa,sa.x=qa,sa.y=ya)}qa=ib/2;ya=bb/2;oa=sa.x-qa;ma=sa.x+qa;Fa=sa.y-ya;Pa=sa.y+ya;sa.align="center";0>oa&&ma<=Y?sa.align="left":0<=oa&&Y<ma&&(sa.align="right");sa.baseline="middle";0>Fa&&Pa<=Aa?sa.baseline="top":0<=Fa&&Aa<Pa&&(sa.baseline="bottom");return!0}},"reduced-search":function(aa,C,B,N){function Y(bb,
ib,Ja,ma,Fa){bb=aa.invert(bb);ib=aa.invert(ib);let Pa=Ja,qa=sa,ya;if(!n(bb,ib,ma,Fa,Aa,sa)&&!h(aa,bb,ib,Fa,ma,Pa,la,Ia)&&!h(aa,bb,ib,Fa,ma,Fa,la,null)){for(;1<=qa-Pa;)ya=(Pa+qa)/2,h(aa,bb,ib,Fa,ma,ya,la,Ia)?qa=ya:Pa=ya;if(Pa>Ja)return[bb,ib,Pa,!0]}}const Aa=aa.width,sa=aa.height,la=C[0],Ia=C[1];return function(bb){const ib=bb.datum.datum.items[N].items,Ja=ib.length,ma=bb.datum.fontSize,Fa=k.textMetrics.width(bb.datum,bb.datum.text);let Pa=B?ma:0,qa=!1,ya=!1,oa=0;let va;let Ua;let eb,ra,Oa,ja,U,ka,
wa,Ta;for(let Mb=0;Mb<Ja;++Mb){var db=ib[Mb].x;var lb=ib[Mb].y;va=void 0===ib[Mb].x2?db:ib[Mb].x2;Ua=void 0===ib[Mb].y2?lb:ib[Mb].y2;if(db>va){var nb=db;db=va;va=nb}lb>Ua&&(nb=lb,lb=Ua,Ua=nb);ra=aa(db);ja=aa(va);Oa=~~((ra+ja)/2);U=aa(lb);wa=aa(Ua);ka=~~((U+wa)/2);for(nb=Oa;nb>=ra;--nb)for(eb=ka;eb>=U;--eb)(Ta=Y(nb,eb,Pa,Fa,ma))&&([bb.x,bb.y,Pa,qa]=Ta);for(nb=Oa;nb<=ja;++nb)for(eb=ka;eb<=wa;++eb)(Ta=Y(nb,eb,Pa,Fa,ma))&&([bb.x,bb.y,Pa,qa]=Ta);qa||B||(nb=Math.abs(va-db+Ua-lb),db=(db+va)/2,lb=(lb+Ua)/
2,nb>=oa&&!n(db,lb,Fa,ma,Aa,sa)&&!h(aa,db,lb,ma,Fa,ma,la,null)&&(oa=nb,bb.x=db,bb.y=lb,ya=!0))}return qa||ya?(db=Fa/2,lb=ma/2,la.setRange(aa(bb.x-db),aa(bb.y-lb),aa(bb.x+db),aa(bb.y+lb)),bb.align="center",bb.baseline="middle",!0):!1}},floodfill:function(aa,C,B,N){const Y=aa.width,Aa=aa.height,sa=C[0],la=C[1],Ia=aa.bitmap();return function(bb){const ib=bb.datum.datum.items[N].items,Ja=ib.length,ma=bb.datum.fontSize,Fa=k.textMetrics.width(bb.datum,bb.datum.text),Pa=[];let qa=B?ma:0,ya=!1,oa=!1,va=0,
Ua,eb,ra,Oa,ja,U;var ka;for(let db=0;db<Ja;++db){Ua=ib[db].x;ra=ib[db].y;eb=void 0===ib[db].x2?Ua:ib[db].x2;Oa=void 0===ib[db].y2?ra:ib[db].y2;for(Pa.push([aa((Ua+eb)/2),aa((ra+Oa)/2)]);Pa.length;)if([wa,Ta]=Pa.pop(),!(sa.get(wa,Ta)||la.get(wa,Ta)||Ia.get(wa,Ta))){Ia.set(wa,Ta);for(ka=0;4>ka;++ka)ja=wa+T[ka],U=Ta+R[ka],Ia.outOfBounds(ja,U,ja,U)||Pa.push([ja,U]);ja=aa.invert(wa);U=aa.invert(Ta);var wa=qa;var Ta=Aa;if(!n(ja,U,Fa,ma,Y,Aa)&&!h(aa,ja,U,ma,Fa,wa,sa,la)&&!h(aa,ja,U,ma,Fa,ma,sa,null)){for(;1<=
Ta-wa;)ka=(wa+Ta)/2,h(aa,ja,U,ma,Fa,ka,sa,la)?Ta=ka:wa=ka;wa>qa&&(bb.x=ja,bb.y=U,qa=wa,ya=!0)}}ya||B||(wa=Math.abs(eb-Ua+Oa-ra),ja=(Ua+eb)/2,U=(ra+Oa)/2,wa>=va&&!n(ja,U,Fa,ma,Y,Aa)&&!h(aa,ja,U,ma,Fa,ma,sa,null)&&(va=wa,bb.x=ja,bb.y=U,oa=!0))}return ya||oa?(ja=Fa/2,U=ma/2,sa.setRange(aa(bb.x-ja),aa(bb.y-U),aa(bb.x+ja),aa(bb.y+U)),bb.align="center",bb.baseline="middle",!0):!1}}},ea=["x","y","opacity","align","baseline"],La="top-left left bottom-left top bottom top-right right bottom-right".split(" ");
r.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:La},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",
type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:ea.length,default:ea}]};t.inherits(r,q.Transform,{transform(aa,C){function B(Aa){Aa=aa[Aa];return t.isFunction(Aa)&&C.modified(Aa.fields)}const N=aa.modified();if(N||C.changed(C.ADD_REM)||B("sort")){aa.size&&2===aa.size.length||t.error("Size parameter should be specified as a [width, height] array.");var Y=aa.as||ea;O(C.materialize(C.SOURCE).source||[],aa.size,aa.sort,t.array(null==aa.offset?1:aa.offset),t.array(aa.anchor||La),
aa.avoidMarks||[],!1!==aa.avoidBaseMark,aa.lineAnchor||"end",aa.markIndex||0,void 0===aa.padding?0:aa.padding,aa.method||"naive").forEach(Aa=>{const sa=Aa.datum;sa[Y[0]]=Aa.x;sa[Y[1]]=Aa.y;sa[Y[2]]=Aa.opacity;sa[Y[3]]=Aa.align;sa[Y[4]]=Aa.baseline});return C.reflow(N).modifies(Y)}}});w.label=r;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[36]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(24),L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega))})(this,function(w,k,p,q){function t(c,e){var g=[],n=function(D){return D(H)},h;if(null==e)g.push(c);else{var x={};var O=0;for(h=c.length;O<h;++O){var H=c[O];var F=e.map(n);var J=x[F];
J||(x[F]=J=[],J.dims=F,g.push(J));J.push(H)}}return g}function m(c){p.Transform.call(this,null,c)}function f(c){p.Transform.call(this,null,c)}m.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};q.inherits(m,p.Transform,{transform(c,e){const g=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||
c.modified()){e=e.materialize(e.SOURCE).source;e=t(e,c.groupby);const n=(c.groupby||[]).map(q.accessorName),h=n.length,x=c.as||[q.accessorName(c.x),q.accessorName(c.y)],O=[];e.forEach(H=>{k.regressionLoess(H,c.x,c.y,c.bandwidth||.3).forEach(F=>{const J={};for(let D=0;D<h;++D)J[n[D]]=H.dims[D];J[x[0]]=F[0];J[x[1]]=F[1];O.push(p.ingest(J))})});this.value&&(g.rem=this.value);this.value=g.add=g.source=O}return g}});const b={linear:k.regressionLinear,log:k.regressionLog,exp:k.regressionExp,pow:k.regressionPow,
quad:k.regressionQuad,poly:k.regressionPoly};f.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(b)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};q.inherits(f,p.Transform,{transform(c,e){const g=
e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||c.modified()){var n=e.materialize(e.SOURCE).source;n=t(n,c.groupby);const h=(c.groupby||[]).map(q.accessorName),x=c.method||"linear",O=c.order||3,H="poly"===x?O:"quad"===x?2:1,F=c.as||[q.accessorName(c.x),q.accessorName(c.y)],J=b[x],D=[];let r=c.extent;q.hasOwnProperty(b,x)||q.error("Invalid regression method: "+x);null!=r&&"log"===x&&0>=r[0]&&(e.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),r=null);n.forEach(z=>
{if(z.length<=H)e.dataflow.warn("Skipping regression with more parameters than data points.");else{var G=J(z,c.x,c.y,O);if(c.params)D.push(p.ingest({keys:z.dims,coef:G.coef,rSquared:G.rSquared}));else{var T=r||q.extent(z,c.x),R=ca=>{const M={};for(let ba=0;ba<h.length;++ba)M[h[ba]]=z.dims[ba];M[F[0]]=ca[0];M[F[1]]=ca[1];D.push(p.ingest(M))};"linear"===x?T.forEach(ca=>R([ca,G.predict(ca)])):k.sampleCurve(G.predict,T,25,200).forEach(R)}}});this.value&&(g.rem=this.value);this.value=g.add=g.source=D}return g}});
w.loess=m;w.regression=f;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega))})(this,function(w,k,p){function q(C,B,N,Y,Aa){let sa,la;let Ia=B[0],bb=Y[0],ib=0,Ja=0;bb>Ia===bb>-Ia?(sa=Ia,Ia=B[++ib]):(sa=bb,bb=Y[++Ja]);let ma=0;if(ib<C&&Ja<N){if(bb>Ia===bb>-Ia){la=
Ia+sa;var Fa=sa-(la-Ia);Ia=B[++ib]}else la=bb+sa,Fa=sa-(la-bb),bb=Y[++Ja];sa=la;for(0!==Fa&&(Aa[ma++]=Fa);ib<C&&Ja<N;)bb>Ia===bb>-Ia?(la=sa+Ia,Fa=la-sa,Fa=sa-(la-Fa)+(Ia-Fa),Ia=B[++ib]):(la=sa+bb,Fa=la-sa,Fa=sa-(la-Fa)+(bb-Fa),bb=Y[++Ja]),sa=la,0!==Fa&&(Aa[ma++]=Fa)}for(;ib<C;)la=sa+Ia,Fa=la-sa,Fa=sa-(la-Fa)+(Ia-Fa),Ia=B[++ib],sa=la,0!==Fa&&(Aa[ma++]=Fa);for(;Ja<N;)la=sa+bb,Fa=la-sa,Fa=sa-(la-Fa)+(bb-Fa),bb=Y[++Ja],sa=la,0!==Fa&&(Aa[ma++]=Fa);if(0!==sa||0===ma)Aa[ma++]=sa;return ma}function t(C,B,
N,Y,Aa,sa){var la=(B-sa)*(N-Aa),Ia=(C-Aa)*(Y-sa),bb=la-Ia;if(0===la||0===Ia||0<la!==0<Ia)return bb;la=Math.abs(la+Ia);if(Math.abs(bb)>=3.3306690738754716E-16*la)return bb;{let ya;bb=C-Aa;const oa=N-Aa;Ia=B-sa;const va=Y-sa;var ib=bb*va;var Ja=134217729*bb;var ma=Ja-(Ja-bb);var Fa=bb-ma;Ja=134217729*va;Ja-=Ja-va;ya=va-Ja;var Pa=Fa*ya-(ib-ma*Ja-Fa*Ja-ma*ya);var qa=Ia*oa;Ja=134217729*Ia;ma=Ja-(Ja-Ia);Fa=Ia-ma;Ja=134217729*oa;Ja-=Ja-oa;ya=oa-Ja;Ja=Fa*ya-(qa-ma*Ja-Fa*Ja-ma*ya);Fa=Pa-Ja;ma=Pa-Fa;F[0]=Pa-
(Fa+ma)+(ma-Ja);Pa=ib+Fa;ma=Pa-ib;ib=ib-(Pa-ma)+(Fa-ma);Fa=ib-qa;ma=ib-Fa;F[1]=ib-(Fa+ma)+(ma-qa);qa=Pa+Fa;ma=qa-Pa;F[2]=Pa-(qa-ma)+(Fa-ma);F[3]=qa;qa=F[0];for(ib=1;4>ib;ib++)qa+=F[ib];ib=2.2204460492503146E-16*la;qa>=ib||-qa>=ib?Y=qa:(ma=C-bb,C=C-(bb+ma)+(ma-Aa),ma=N-oa,N=N-(oa+ma)+(ma-Aa),ma=B-Ia,B=B-(Ia+ma)+(ma-sa),ma=Y-va,Y=Y-(va+ma)+(ma-sa),0===C&&0===B&&0===N&&0===Y?Y=qa:(ib=1.1093356479670487E-31*la+3.3306690738754706E-16*Math.abs(qa),qa+=bb*Y+va*C-(Ia*N+oa*B),qa>=ib||-qa>=ib?Y=qa:(ib=C*va,
Ja=134217729*C,ma=Ja-(Ja-C),Fa=C-ma,Ja=134217729*va,Ja-=Ja-va,ya=va-Ja,Pa=Fa*ya-(ib-ma*Ja-Fa*Ja-ma*ya),qa=B*oa,Ja=134217729*B,ma=Ja-(Ja-B),Fa=B-ma,Ja=134217729*oa,Ja-=Ja-oa,ya=oa-Ja,Ja=Fa*ya-(qa-ma*Ja-Fa*Ja-ma*ya),Fa=Pa-Ja,ma=Pa-Fa,z[0]=Pa-(Fa+ma)+(ma-Ja),Pa=ib+Fa,ma=Pa-ib,ib=ib-(Pa-ma)+(Fa-ma),Fa=ib-qa,ma=ib-Fa,z[1]=ib-(Fa+ma)+(ma-qa),qa=Pa+Fa,ma=qa-Pa,z[2]=Pa-(qa-ma)+(Fa-ma),z[3]=qa,sa=q(4,F,4,z,J),ib=bb*Y,Ja=134217729*bb,ma=Ja-(Ja-bb),Fa=bb-ma,Ja=134217729*Y,Ja-=Ja-Y,ya=Y-Ja,Pa=Fa*ya-(ib-ma*Ja-
Fa*Ja-ma*ya),qa=Ia*N,Ja=134217729*Ia,ma=Ja-(Ja-Ia),Fa=Ia-ma,Ja=134217729*N,Ja-=Ja-N,ya=N-Ja,Ja=Fa*ya-(qa-ma*Ja-Fa*Ja-ma*ya),Fa=Pa-Ja,ma=Pa-Fa,z[0]=Pa-(Fa+ma)+(ma-Ja),Pa=ib+Fa,ma=Pa-ib,ib=ib-(Pa-ma)+(Fa-ma),Fa=ib-qa,ma=ib-Fa,z[1]=ib-(Fa+ma)+(ma-qa),qa=Pa+Fa,ma=qa-Pa,z[2]=Pa-(qa-ma)+(Fa-ma),z[3]=qa,sa=q(sa,J,4,z,D),ib=C*Y,Ja=134217729*C,ma=Ja-(Ja-C),Fa=C-ma,Ja=134217729*Y,Ja-=Ja-Y,ya=Y-Ja,Pa=Fa*ya-(ib-ma*Ja-Fa*Ja-ma*ya),qa=B*N,Ja=134217729*B,ma=Ja-(Ja-B),Fa=B-ma,Ja=134217729*N,Ja-=Ja-N,ya=N-Ja,Ja=Fa*
ya-(qa-ma*Ja-Fa*Ja-ma*ya),Fa=Pa-Ja,ma=Pa-Fa,z[0]=Pa-(Fa+ma)+(ma-Ja),Pa=ib+Fa,ma=Pa-ib,ib=ib-(Pa-ma)+(Fa-ma),Fa=ib-qa,ma=ib-Fa,z[1]=ib-(Fa+ma)+(ma-qa),qa=Pa+Fa,ma=qa-Pa,z[2]=Pa-(qa-ma)+(Fa-ma),z[3]=qa,Y=q(sa,D,4,z,r),Y=r[Y-1])))}return-Y}function m(C,B,N,Y){C-=N;B-=Y;return C*C+B*B}function f(C,B,N,Y){if(20>=Y-N)for(var Aa=N+1;Aa<=Y;Aa++){for(var sa=C[Aa],la=B[sa],Ia=Aa-1;Ia>=N&&B[C[Ia]]>la;)C[Ia+1]=C[Ia--];C[Ia+1]=sa}else{Aa=N+1;sa=Y;b(C,N+Y>>1,Aa);B[C[N]]>B[C[Y]]&&b(C,N,Y);B[C[Aa]]>B[C[Y]]&&b(C,
Aa,Y);B[C[N]]>B[C[Aa]]&&b(C,N,Aa);la=C[Aa];for(Ia=B[la];;){do Aa++;while(B[C[Aa]]<Ia);do sa--;while(B[C[sa]]>Ia);if(sa<Aa)break;b(C,Aa,sa)}C[N+1]=C[sa];C[sa]=la;Y-Aa+1>=sa-N?(f(C,B,Aa,Y),f(C,B,N,sa-1)):(f(C,B,N,sa-1),f(C,B,Aa,Y))}}function b(C,B,N){const Y=C[B];C[B]=C[N];C[N]=Y}function c(C){return C[0]}function e(C){return C[1]}function g(C){return C[0]}function n(C){return C[1]}function h(C){const {triangles:B,coords:N}=C;for(C=0;C<B.length;C+=3){const Y=2*B[C],Aa=2*B[C+1],sa=2*B[C+2];if(1E-10<
(N[sa]-N[Y])*(N[Aa+1]-N[Y+1])-(N[Aa]-N[Y])*(N[sa+1]-N[Y+1]))return!1}return!0}function x(C,B,N){return[C+Math.sin(C+B)*N,B+Math.cos(C-B)*N]}function*O(C,B,N,Y){let Aa=0;for(const sa of C)yield B.call(Y,sa,Aa,C),yield N.call(Y,sa,Aa,C),++Aa}function H(C){k.Transform.call(this,null,C)}const F=new Float64Array(4),J=new Float64Array(8),D=new Float64Array(12),r=new Float64Array(16),z=new Float64Array(4),G=Math.pow(2,-52),T=new Uint32Array(512);class R{static from(C,B=c,N=e){const Y=C.length,Aa=new Float64Array(2*
Y);for(let sa=0;sa<Y;sa++){const la=C[sa];Aa[2*sa]=B(la);Aa[2*sa+1]=N(la)}return new R(Aa)}constructor(C){const B=C.length>>1;if(0<B&&"number"!==typeof C[0])throw Error("Expected coords to contain numbers.");this.coords=C;C=Math.max(2*B-5,0);this._triangles=new Uint32Array(3*C);this._halfedges=new Int32Array(3*C);this._hashSize=Math.ceil(Math.sqrt(B));this._hullPrev=new Uint32Array(B);this._hullNext=new Uint32Array(B);this._hullTri=new Uint32Array(B);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);
this._ids=new Uint32Array(B);this._dists=new Float64Array(B);this.update()}update(){const {coords:C,_hullPrev:B,_hullNext:N,_hullTri:Y,_hullHash:Aa}=this;var sa=C.length>>1,la=Infinity,Ia=Infinity,bb=-Infinity,ib=-Infinity;for(var Ja=0;Ja<sa;Ja++){var ma=C[2*Ja];var Fa=C[2*Ja+1];ma<la&&(la=ma);Fa<Ia&&(Ia=Fa);ma>bb&&(bb=ma);Fa>ib&&(ib=Fa);this._ids[Ja]=Ja}bb=(la+bb)/2;Ia=(Ia+ib)/2;la=Infinity;for(ib=0;ib<sa;ib++)if(Ja=m(bb,Ia,C[2*ib],C[2*ib+1]),Ja<la){var Pa=ib;la=Ja}Ia=C[2*Pa];ib=C[2*Pa+1];la=Infinity;
for(bb=0;bb<sa;bb++)if(bb!==Pa&&(Ja=m(Ia,ib,C[2*bb],C[2*bb+1]),Ja<la&&0<Ja)){var qa=bb;la=Ja}la=C[2*qa];bb=C[2*qa+1];Fa=Infinity;for(Ja=0;Ja<sa;Ja++)if(Ja!==Pa&&Ja!==qa){ma=la-Ia;var ya=bb-ib;var oa=C[2*Ja]-Ia;var va=C[2*Ja+1]-ib,Ua=ma*ma+ya*ya,eb=oa*oa+va*va,ra=.5/(ma*va-ya*oa);ya=(va*Ua-ya*eb)*ra;ma=(ma*eb-oa*Ua)*ra;ma=ya*ya+ma*ma;if(ma<Fa){var Oa=Ja;Fa=ma}}Ja=C[2*Oa];ma=C[2*Oa+1];if(Infinity===Fa){for(Pa=0;Pa<sa;Pa++)this._dists[Pa]=C[2*Pa]-C[0]||C[2*Pa+1]-C[1];f(this._ids,this._dists,0,sa-1);
Pa=new Uint32Array(sa);qa=0;for(let ja=0,U=-Infinity;ja<sa;ja++)Oa=this._ids[ja],this._dists[Oa]>U&&(Pa[qa++]=Oa,U=this._dists[Oa]);this.hull=Pa.subarray(0,qa);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>t(Ia,ib,la,bb,Ja,ma)&&(Fa=qa,oa=la,Ua=bb,qa=Oa,la=Ja,bb=ma,Oa=Fa,Ja=oa,ma=Ua);oa=la-Ia;Fa=bb-ib;Ua=Ja-Ia;va=ma-ib;eb=oa*oa+Fa*Fa;ra=Ua*Ua+va*va;ya=.5/(oa*va-Fa*Ua);Fa=Ia+(va*eb-Fa*ra)*ya;oa=ib+(oa*ra-Ua*eb)*ya;this._cx=Fa;this._cy=oa;for(Ua=0;Ua<sa;Ua++)this._dists[Ua]=
m(C[2*Ua],C[2*Ua+1],Fa,oa);f(this._ids,this._dists,0,sa-1);this._hullStart=Pa;sa=3;N[Pa]=B[Oa]=qa;N[qa]=B[Pa]=Oa;N[Oa]=B[qa]=Pa;Y[Pa]=0;Y[qa]=1;Y[Oa]=2;Aa.fill(-1);Aa[this._hashKey(Ia,ib)]=Pa;Aa[this._hashKey(la,bb)]=qa;Aa[this._hashKey(Ja,ma)]=Oa;this.trianglesLen=0;this._addTriangle(Pa,qa,Oa,-1,-1,-1);for(let ja=0,U,ka;ja<this._ids.length;ja++){Ia=this._ids[ja];ib=C[2*Ia];la=C[2*Ia+1];if(0<ja&&Math.abs(ib-U)<=G&&Math.abs(la-ka)<=G)continue;U=ib;ka=la;if(Ia===Pa||Ia===qa||Ia===Oa)continue;bb=0;for(let Ta=
0,db=this._hashKey(ib,la);Ta<this._hashSize&&(bb=Aa[(db+Ta)%this._hashSize],-1===bb||bb===N[bb]);Ta++);Ja=bb=B[bb];let wa;for(;wa=N[Ja],0<=t(ib,la,C[2*Ja],C[2*Ja+1],C[2*wa],C[2*wa+1]);)if(Ja=wa,Ja===bb){Ja=-1;break}if(-1!==Ja){ma=this._addTriangle(Ja,Ia,N[Ja],-1,-1,Y[Ja]);Y[Ia]=this._legalize(ma+2);Y[Ja]=ma;sa++;for(Fa=N[Ja];wa=N[Fa],0>t(ib,la,C[2*Fa],C[2*Fa+1],C[2*wa],C[2*wa+1]);)ma=this._addTriangle(Fa,Ia,wa,Y[Ia],-1,Y[Fa]),Y[Ia]=this._legalize(ma+2),N[Fa]=Fa,sa--,Fa=wa;if(Ja===bb)for(;wa=B[Ja],
0>t(ib,la,C[2*wa],C[2*wa+1],C[2*Ja],C[2*Ja+1]);)ma=this._addTriangle(wa,Ia,Ja,-1,Y[Ja],Y[wa]),this._legalize(ma+2),Y[wa]=ma,N[Ja]=Ja,sa--,Ja=wa;this._hullStart=B[Ia]=Ja;N[Ja]=B[Fa]=Ia;N[Ia]=Fa;Aa[this._hashKey(ib,la)]=Ia;Aa[this._hashKey(C[2*Ja],C[2*Ja+1])]=Ja}}this.hull=new Uint32Array(sa);for(let ja=0,U=this._hullStart;ja<sa;ja++)this.hull[ja]=U,U=N[U];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(C,B){var N=Math;
C-=this._cx;B-=this._cy;C/=Math.abs(C)+Math.abs(B);return N.floor.call(N,(0<B?3-C:1+C)/4*this._hashSize)%this._hashSize}_legalize(C){const {_triangles:B,_halfedges:N,coords:Y}=this;let Aa=0;for(var sa;;){const Fa=N[C];var la=C-C%3;sa=la+(C+2)%3;if(-1===Fa){if(0===Aa)break;C=T[--Aa];continue}const Pa=Fa-Fa%3,qa=Pa+(Fa+2)%3;var Ia=B[sa],bb=B[C],ib=B[la+(C+1)%3];la=B[qa];var Ja=Y[2*la],ma=Y[2*la+1];const ya=Y[2*Ia]-Ja,oa=Y[2*Ia+1]-ma,va=Y[2*bb]-Ja;bb=Y[2*bb+1]-ma;Ja=Y[2*ib]-Ja;ma=Y[2*ib+1]-ma;ib=va*
va+bb*bb;const Ua=Ja*Ja+ma*ma;if(0>ya*(bb*Ua-ib*ma)-oa*(va*Ua-ib*Ja)+(ya*ya+oa*oa)*(va*ma-bb*Ja)){B[C]=la;B[Fa]=Ia;Ia=N[qa];if(-1===Ia){la=this._hullStart;do{if(this._hullTri[la]===qa){this._hullTri[la]=C;break}la=this._hullPrev[la]}while(la!==this._hullStart)}this._link(C,Ia);this._link(Fa,N[sa]);this._link(sa,qa);sa=Pa+(Fa+1)%3;Aa<T.length&&(T[Aa++]=sa)}else{if(0===Aa)break;C=T[--Aa]}}return sa}_link(C,B){this._halfedges[C]=B;-1!==B&&(this._halfedges[B]=C)}_addTriangle(C,B,N,Y,Aa,sa){const la=this.trianglesLen;
this._triangles[la]=C;this._triangles[la+1]=B;this._triangles[la+2]=N;this._link(la,Y);this._link(la+1,Aa);this._link(la+2,sa);this.trianglesLen+=3;return la}}class ca{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(C,B){this._+=`M${this._x0=this._x1=+C},${this._y0=this._y1=+B}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(C,B){this._+=`L${this._x1=+C},${this._y1=+B}`}arc(C,B,N){C=+C;B=+B;N=+N;const Y=C+N,Aa=B;if(0>N)throw Error("negative radius");
if(null===this._x1)this._+=`M${Y},${Aa}`;else if(1E-6<Math.abs(this._x1-Y)||1E-6<Math.abs(this._y1-Aa))this._+="L"+Y+","+Aa;N&&(this._+=`A${N},${N},0,1,1,${C-N},${B}A${N},${N},0,1,1,${this._x1=Y},${this._y1=Aa}`)}rect(C,B,N,Y){this._+=`M${this._x0=this._x1=+C},${this._y0=this._y1=+B}h${+N}v${+Y}h${-N}Z`}value(){return this._||null}}class M{constructor(){this._=[]}moveTo(C,B){this._.push([C,B])}closePath(){this._.push(this._[0].slice())}lineTo(C,B){this._.push([C,B])}value(){return this._.length?this._:
null}}class ba{constructor(C,[B,N,Y,Aa]=[0,0,960,500]){if(!((Y=+Y)>=(B=+B)&&(Aa=+Aa)>=(N=+N)))throw Error("invalid bounds");this.delaunay=C;this._circumcenters=new Float64Array(2*C.points.length);this.vectors=new Float64Array(2*C.points.length);this.xmax=Y;this.xmin=B;this.ymax=Aa;this.ymin=N;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:C,hull:B,triangles:N},vectors:Y}=this;var Aa=this.circumcenters=this._circumcenters.subarray(0,N.length/3*
2);for(let qa=0,ya=0,oa=N.length,va,Ua;qa<oa;qa+=3,ya+=2){var sa=2*N[qa],la=2*N[qa+1],Ia=2*N[qa+2],bb=C[sa];sa=C[sa+1];var ib=C[Ia],Ja=C[Ia+1],ma=C[la]-bb,Fa=C[la+1]-sa;la=ib-bb;Ia=Ja-sa;var Pa=2*(ma*Ia-Fa*la);1E-9>Math.abs(Pa)?(ma=1E9,Fa=2*N[0],ma*=Math.sign((C[Fa]-bb)*Ia-(C[Fa+1]-sa)*la),va=(bb+ib)/2-ma*Ia,Ua=(sa+Ja)/2+ma*la):(ib=1/Pa,Ja=ma*ma+Fa*Fa,Pa=la*la+Ia*Ia,va=bb+(Ia*Ja-Fa*Pa)*ib,Ua=sa+(ma*Pa-la*Ja)*ib);Aa[ya]=va;Aa[ya+1]=Ua}Aa=B[B.length-1];sa=4*Aa;Ia=C[2*Aa];ma=C[2*Aa+1];Y.fill(0);for(Ja=
0;Ja<B.length;++Ja)Aa=B[Ja],bb=sa,la=Ia,ib=ma,sa=4*Aa,Ia=C[2*Aa],ma=C[2*Aa+1],Y[bb+2]=Y[sa]=ib-ma,Y[bb+3]=Y[sa+1]=Ia-la}render(C){const B=null==C?C=new ca:void 0,{delaunay:{halfedges:N,inedges:Y,hull:Aa},circumcenters:sa,vectors:la}=this;if(1>=Aa.length)return null;for(let ma=0,Fa=N.length;ma<Fa;++ma){var Ia=N[ma];if(!(Ia<ma)){var bb=2*Math.floor(ma/3);Ia=2*Math.floor(Ia/3);this._renderSegment(sa[bb],sa[bb+1],sa[Ia],sa[Ia+1],C)}}bb=Aa[Aa.length-1];for(Ia=0;Ia<Aa.length;++Ia){var ib=bb;bb=Aa[Ia];var Ja=
2*Math.floor(Y[bb]/3);const ma=sa[Ja];Ja=sa[Ja+1];ib*=4;(ib=this._project(ma,Ja,la[ib+2],la[ib+3]))&&this._renderSegment(ma,Ja,ib[0],ib[1],C)}return B&&B.value()}renderBounds(C){const B=null==C?C=new ca:void 0;C.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return B&&B.value()}renderCell(C,B){const N=null==B?B=new ca:void 0;C=this._clip(C);if(null!==C&&C.length){B.moveTo(C[0],C[1]);for(var Y=C.length;C[0]===C[Y-2]&&C[1]===C[Y-1]&&1<Y;)Y-=2;for(let Aa=2;Aa<Y;Aa+=2)C[Aa]===C[Aa-
2]&&C[Aa+1]===C[Aa-1]||B.lineTo(C[Aa],C[Aa+1]);B.closePath();return N&&N.value()}}*cellPolygons(){var {delaunay:{points:C}}=this;for(let B=0,N=C.length/2;B<N;++B)if(C=this.cellPolygon(B))C.index=B,yield C}cellPolygon(C){const B=new M;this.renderCell(C,B);return B.value()}_renderSegment(C,B,N,Y,Aa){const sa=this._regioncode(C,B),la=this._regioncode(N,Y);if(0===sa&&0===la)Aa.moveTo(C,B),Aa.lineTo(N,Y);else if(C=this._clipSegment(C,B,N,Y,sa,la))Aa.moveTo(C[0],C[1]),Aa.lineTo(C[2],C[3])}contains(C,B,
N){return(B=+B,B!==B)||(N=+N,N!==N)?!1:this.delaunay._step(C,B,N)===C}*neighbors(C){const B=this._clip(C);if(B)for(const N of this.delaunay.neighbors(C))if(C=this._clip(N))a:for(let Y=0,Aa=B.length;Y<Aa;Y+=2)for(let sa=0,la=C.length;sa<la;sa+=2)if(B[Y]==C[sa]&&B[Y+1]==C[sa+1]&&B[(Y+2)%Aa]==C[(sa+la-2)%la]&&B[(Y+3)%Aa]==C[(sa+la-1)%la]){yield N;break a}}_cell(C){const {circumcenters:B,delaunay:{inedges:N,halfedges:Y,triangles:Aa}}=this,sa=N[C];if(-1===sa)return null;const la=[];let Ia=sa;do{const bb=
Math.floor(Ia/3);la.push(B[2*bb],B[2*bb+1]);Ia=2===Ia%3?Ia-2:Ia+1;if(Aa[Ia]!==C)break;Ia=Y[Ia]}while(Ia!==sa&&-1!==Ia);return la}_clip(C){if(0===C&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const B=this._cell(C);if(null===B)return null;const {vectors:N}=this,Y=4*C;return N[Y]||N[Y+1]?this._clipInfinite(C,B,N[Y],N[Y+1],N[Y+2],N[Y+3]):this._clipFinite(C,B)}_clipFinite(C,B){const N=B.length;let Y=null;let Aa=B[N-2],sa=B[N-1];
let la=this._regioncode(Aa,sa),Ia=0;for(let ma=0;ma<N;ma+=2){var bb=Aa;var ib=sa;Aa=B[ma];sa=B[ma+1];var Ja=la;la=this._regioncode(Aa,sa);if(0===Ja&&0===la)Ia=0,Y?Y.push(Aa,sa):Y=[Aa,sa];else{let Fa,Pa;if(0===Ja){if(null===(bb=this._clipSegment(bb,ib,Aa,sa,Ja,la)))continue;[ib,Ja,Fa,Pa]=bb}else{if(null===(bb=this._clipSegment(Aa,sa,bb,ib,la,Ja)))continue;[Fa,Pa,ib,Ja]=bb;bb=Ia;Ia=this._edgecode(ib,Ja);bb&&Ia&&this._edge(C,bb,Ia,Y,Y.length);Y?Y.push(ib,Ja):Y=[ib,Ja]}bb=Ia;Ia=this._edgecode(Fa,Pa);
bb&&Ia&&this._edge(C,bb,Ia,Y,Y.length);Y?Y.push(Fa,Pa):Y=[Fa,Pa]}}if(Y)bb=Ia,Ia=this._edgecode(Y[0],Y[1]),bb&&Ia&&this._edge(C,bb,Ia,Y,Y.length);else if(this.contains(C,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Y}_clipSegment(C,B,N,Y,Aa,sa){for(;;){if(0===Aa&&0===sa)return[C,B,N,Y];if(Aa&sa)return null;var la=void 0;let Ia;la=Aa||sa;la&8?(la=C+(N-C)*(this.ymax-B)/(Y-B),Ia=this.ymax):la&4?(la=C+(N-
C)*(this.ymin-B)/(Y-B),Ia=this.ymin):la&2?(Ia=B+(Y-B)*(this.xmax-C)/(N-C),la=this.xmax):(Ia=B+(Y-B)*(this.xmin-C)/(N-C),la=this.xmin);Aa?(C=la,B=Ia,Aa=this._regioncode(C,B)):(N=la,Y=Ia,sa=this._regioncode(N,Y))}}_clipInfinite(C,B,N,Y,Aa,sa){B=Array.from(B);let la;(la=this._project(B[0],B[1],N,Y))&&B.unshift(la[0],la[1]);(la=this._project(B[B.length-2],B[B.length-1],Aa,sa))&&B.push(la[0],la[1]);if(B=this._clipFinite(C,B))for(let Ia=0,bb=B.length,ib,Ja=this._edgecode(B[bb-2],B[bb-1]);Ia<bb;Ia+=2)ib=
Ja,Ja=this._edgecode(B[Ia],B[Ia+1]),ib&&Ja&&(Ia=this._edge(C,ib,Ja,B,Ia),bb=B.length);else this.contains(C,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(B=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return B}_edge(C,B,N,Y,Aa){for(;B!==N;){let sa,la;switch(B){case 5:B=4;continue;case 4:B=6;sa=this.xmax;la=this.ymin;break;case 6:B=2;continue;case 2:B=10;sa=this.xmax;la=this.ymax;break;case 10:B=8;continue;case 8:B=9;sa=this.xmin;la=this.ymax;break;case 9:B=
1;continue;case 1:B=5,sa=this.xmin,la=this.ymin}Y[Aa]===sa&&Y[Aa+1]===la||!this.contains(C,sa,la)||(Y.splice(Aa,0,sa,la),Aa+=2)}if(4<Y.length)for(C=0;C<Y.length;C+=2)if(B=(C+2)%Y.length,N=(C+4)%Y.length,Y[C]===Y[B]&&Y[B]===Y[N]||Y[C+1]===Y[B+1]&&Y[B+1]===Y[N+1])Y.splice(B,2),C-=2;return Aa}_project(C,B,N,Y){let Aa=Infinity,sa,la,Ia;if(0>Y){if(B<=this.ymin)return null;(sa=(this.ymin-B)/Y)<Aa&&(Ia=this.ymin,la=C+(Aa=sa)*N)}else if(0<Y){if(B>=this.ymax)return null;(sa=(this.ymax-B)/Y)<Aa&&(Ia=this.ymax,
la=C+(Aa=sa)*N)}if(0<N){if(C>=this.xmax)return null;(sa=(this.xmax-C)/N)<Aa&&(la=this.xmax,Ia=B+sa*Y)}else if(0>N){if(C<=this.xmin)return null;(sa=(this.xmin-C)/N)<Aa&&(la=this.xmin,Ia=B+sa*Y)}return[la,Ia]}_edgecode(C,B){return(C===this.xmin?1:C===this.xmax?2:0)|(B===this.ymin?4:B===this.ymax?8:0)}_regioncode(C,B){return(C<this.xmin?1:C>this.xmax?2:0)|(B<this.ymin?4:B>this.ymax?8:0)}}const W=2*Math.PI,ea=Math.pow;class La{static from(C,B=g,N=n,Y){if("length"in C){const Aa=C.length,sa=new Float64Array(2*
Aa);for(let la=0;la<Aa;++la){const Ia=C[la];sa[2*la]=B.call(Y,Ia,la,C);sa[2*la+1]=N.call(Y,Ia,la,C)}C=sa}else C=Float64Array.from(O(C,B,N,Y));return new La(C)}constructor(C){this._delaunator=new R(C);this.inedges=new Int32Array(C.length/2);this._hullIndex=new Int32Array(C.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var C=this._delaunator;const B=this.points;if(C.hull&&2<C.hull.length&&h(C)){this.collinear=Int32Array.from({length:B.length/
2},(la,Ia)=>Ia).sort((la,Ia)=>B[2*la]-B[2*Ia]||B[2*la+1]-B[2*Ia+1]);C=this.collinear[0];var N=this.collinear[this.collinear.length-1];C=[B[2*C],B[2*C+1],B[2*N],B[2*N+1]];C=1E-8*Math.hypot(C[3]-C[1],C[2]-C[0]);for(let la=0,Ia=B.length/2;la<Ia;++la)N=x(B[2*la],B[2*la+1],C),B[2*la]=N[0],B[2*la+1]=N[1];this._delaunator=new R(B)}else delete this.collinear;C=this.halfedges=this._delaunator.halfedges;N=this.hull=this._delaunator.hull;const Y=this.triangles=this._delaunator.triangles,Aa=this.inedges.fill(-1),
sa=this._hullIndex.fill(-1);for(let la=0,Ia=C.length;la<Ia;++la){const bb=Y[2===la%3?la-2:la+1];if(-1===C[la]||-1===Aa[bb])Aa[bb]=la}for(let la=0,Ia=N.length;la<Ia;++la)sa[N[la]]=la;2>=N.length&&0<N.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=N[0],Aa[N[0]]=1,2===N.length&&(Aa[N[1]]=0,this.triangles[1]=N[1],this.triangles[2]=N[1]))}voronoi(C){return new ba(this,C)}*neighbors(C){const {inedges:B,hull:N,_hullIndex:Y,halfedges:Aa,
triangles:sa,collinear:la}=this;if(la){var Ia=la.indexOf(C);0<Ia&&(yield la[Ia-1]);Ia<la.length-1&&(yield la[Ia+1])}else{var bb=B[C];if(-1!==bb){var ib=bb;do{yield(Ia=sa[ib]);ib=2===ib%3?ib-2:ib+1;if(sa[ib]!==C)break;ib=Aa[ib];if(-1===ib){C=N[(Y[C]+1)%N.length];C!==Ia&&(yield C);break}}while(ib!==bb)}}}find(C,B,N=0){if((C=+C,C!==C)||(B=+B,B!==B))return-1;const Y=N;let Aa;for(;0<=(Aa=this._step(N,C,B))&&Aa!==N&&Aa!==Y;)N=Aa;return Aa}_step(C,B,N){const {inedges:Y,hull:Aa,_hullIndex:sa,halfedges:la,
triangles:Ia,points:bb}=this;if(-1===Y[C]||!bb.length)return(C+1)%(bb.length>>1);let ib=C,Ja=ea(B-bb[2*C],2)+ea(N-bb[2*C+1],2);const ma=Y[C];let Fa=ma;do{let Pa=Ia[Fa];const qa=ea(B-bb[2*Pa],2)+ea(N-bb[2*Pa+1],2);qa<Ja&&(Ja=qa,ib=Pa);Fa=2===Fa%3?Fa-2:Fa+1;if(Ia[Fa]!==C)break;Fa=la[Fa];if(-1===Fa){Fa=Aa[(sa[C]+1)%Aa.length];if(Fa!==Pa&&ea(B-bb[2*Fa],2)+ea(N-bb[2*Fa+1],2)<Ja)return Fa;break}}while(Fa!==ma);return ib}render(C){const B=null==C?C=new ca:void 0,{points:N,halfedges:Y,triangles:Aa}=this;
for(let la=0,Ia=Y.length;la<Ia;++la){var sa=Y[la];if(sa<la)continue;const bb=2*Aa[la];sa=2*Aa[sa];C.moveTo(N[bb],N[bb+1]);C.lineTo(N[sa],N[sa+1])}this.renderHull(C);return B&&B.value()}renderPoints(C,B){void 0!==B||C&&"function"===typeof C.moveTo||(B=C,C=null);B=void 0==B?2:+B;const N=null==C?C=new ca:void 0,{points:Y}=this;for(let Aa=0,sa=Y.length;Aa<sa;Aa+=2){const la=Y[Aa],Ia=Y[Aa+1];C.moveTo(la+B,Ia);C.arc(la,Ia,B,0,W)}return N&&N.value()}renderHull(C){const B=null==C?C=new ca:void 0,{hull:N,
points:Y}=this;var Aa=2*N[0];const sa=N.length;C.moveTo(Y[Aa],Y[Aa+1]);for(Aa=1;Aa<sa;++Aa){const la=2*N[Aa];C.lineTo(Y[la],Y[la+1])}C.closePath();return B&&B.value()}hullPolygon(){const C=new M;this.renderHull(C);return C.value()}renderTriangle(C,B){const N=null==B?B=new ca:void 0,{points:Y,triangles:Aa}=this,sa=2*Aa[C*=3],la=2*Aa[C+1];C=2*Aa[C+2];B.moveTo(Y[sa],Y[sa+1]);B.lineTo(Y[la],Y[la+1]);B.lineTo(Y[C],Y[C+1]);B.closePath();return N&&N.value()}*trianglePolygons(){const {triangles:C}=this;for(let B=
0,N=C.length/3;B<N;++B)yield this.trianglePolygon(B)}trianglePolygon(C){const B=new M;this.renderTriangle(C,B);return B.value()}}H.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const aa=[-1E5,-1E5,1E5,1E5];
p.inherits(H,k.Transform,{transform(C,B){const N=C.as||"path",Y=B.source;if(!Y||!Y.length)return B;var Aa=C.size;Aa=Aa?[0,0,Aa[0],Aa[1]]:(Aa=C.extent)?[Aa[0][0],Aa[0][1],Aa[1][0],Aa[1][1]]:aa;Aa=this.value=La.from(Y,C.x,C.y).voronoi(Aa);for(let Ia=0,bb=Y.length;Ia<bb;++Ia){var sa=Aa.cellPolygon(Ia),la=Y[Ia];if(sa){const ib=sa[0][0],Ja=sa[0][1];let ma=sa.length-1;for(;sa[ma][0]===ib&&sa[ma][1]===Ja;--ma);sa="M"+sa.slice(0,ma+1).join("L")+"Z"}else sa=null;la[N]=sa}return B.reflow(C.modified()).modifies(N)}});
w.voronoi=H;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(26),L(23),L(14),L(27),L(24)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,m){function f(){function J(C){C.width=C.height=1;var B=Math.sqrt(C.getContext("2d").getImageData(0,
0,1,1).data.length>>2);C.width=2048/B;C.height=2048/B;C=C.getContext("2d");C.fillStyle=C.strokeStyle="red";C.textAlign="center";return{context:C,ratio:B}}function D(C,B,N){for(var Y=B.x,Aa=B.y,sa=Math.sqrt(r[0]*r[0]+r[1]*r[1]),la=W(r),Ia=.5>La()?1:-1,bb=-Ia,ib,Ja;ib=la(bb+=Ia);){Ja=~~ib[0];ib=~~ib[1];if(Math.min(Math.abs(Ja),Math.abs(ib))>=sa)break;B.x=Y+Ja;B.y=Aa+ib;if(!(0>B.x+B.x0||0>B.y+B.y0||B.x+B.x1>r[0]||B.y+B.y1>r[1])){if(!(Ja=!N)){a:{Ja=r[0];Ja>>=5;ib=B.sprite;var ma=B.width>>5;var Fa=B.x-
(ma<<4);for(var Pa=Fa&127,qa=32-Pa,ya=B.y1-B.y0,oa=(B.y+B.y0)*Ja+(Fa>>5),va=0;va<ya;va++){for(var Ua=Fa=0;Ua<=ma;Ua++)if((Fa<<qa|(Ua<ma?(Fa=ib[va*ma+Ua])>>>Pa:0))&C[oa+Ua]){Ja=!0;break a}oa+=Ja}Ja=!1}Ja=!Ja}if(Ja&&(!N||B.x+B.x1>N[0].x&&B.x+B.x0<N[1].x&&B.y+B.y1>N[0].y&&B.y+B.y0<N[1].y)){N=B.sprite;Y=B.width>>5;Aa=r[0]>>5;bb=B.x-(Y<<4);sa=bb&127;la=32-sa;Ia=B.y1-B.y0;bb=(B.y+B.y0)*Aa+(bb>>5);for(ib=0;ib<Ia;ib++){for(ma=Ja=0;ma<=Y;ma++)C[bb+ma]=C[bb+ma]|Ja<<la|(ma<Y?(Ja=N[ib*Y+ma])>>>sa:0);bb+=Aa}B.sprite=
null;return!0}}}return!1}var r=[256,256],z,G,T,R,ca,M,ba,W=e,ea=[],La=Math.random,aa={layout:function(){for(var C=J(k.canvas()),B=g((r[0]>>5)*r[1]),N=null,Y=ea.length,Aa=-1,sa=[],la=ea.map(bb=>({text:z(bb),font:G(bb),style:R(bb),weight:ca(bb),rotate:M(bb),size:~~(T(bb)+1E-14),padding:ba(bb),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:bb})).sort((bb,ib)=>ib.size-bb.size);++Aa<Y;){var Ia=la[Aa];Ia.x=r[0]*(La()+.5)>>1;Ia.y=r[1]*(La()+.5)>>1;b(C,Ia,la,Aa);Ia.hasText&&D(B,Ia,N)&&(sa.push(Ia),
N?c(N,Ia):N=[{x:Ia.x+Ia.x0,y:Ia.y+Ia.y0},{x:Ia.x+Ia.x1,y:Ia.y+Ia.y1}],Ia.x-=r[0]>>1,Ia.y-=r[1]>>1)}return sa},words:function(C){return arguments.length?(ea=C,aa):ea},size:function(C){return arguments.length?(r=[+C[0],+C[1]],aa):r},font:function(C){return arguments.length?(G=n(C),aa):G},fontStyle:function(C){return arguments.length?(R=n(C),aa):R},fontWeight:function(C){return arguments.length?(ca=n(C),aa):ca},rotate:function(C){return arguments.length?(M=n(C),aa):M},text:function(C){return arguments.length?
(z=n(C),aa):z},spiral:function(C){return arguments.length?(W=O[C]||C,aa):W},fontSize:function(C){return arguments.length?(T=n(C),aa):T},padding:function(C){return arguments.length?(ba=n(C),aa):ba},random:function(C){return arguments.length?(La=C,aa):La}};return aa}function b(J,D,r,z){if(!D.sprite){var G=J.context,T=J.ratio;G.clearRect(0,0,2048/T,2048/T);var R=J=0,ca=0,M=r.length;for(--z;++z<M;){D=r[z];G.save();G.font=D.style+" "+D.weight+" "+~~((D.size+1)/T)+"px "+D.font;var ba=G.measureText(D.text+
"m").width*T;var W=D.size<<1;if(D.rotate){var ea=Math.sin(D.rotate*x),La=Math.cos(D.rotate*x),aa=ba*La,C=ba*ea;La*=W;ba=W*ea;ba=Math.max(Math.abs(aa+ba),Math.abs(aa-ba))+31>>5<<5;W=~~Math.max(Math.abs(C+La),Math.abs(C-La))}else ba=ba+31>>5<<5;W>ca&&(ca=W);2048<=J+ba&&(J=0,R+=ca,ca=0);if(2048<=R+W)break;G.translate((J+(ba>>1))/T,(R+(W>>1))/T);D.rotate&&G.rotate(D.rotate*x);G.fillText(D.text,0,0);D.padding&&(G.lineWidth=2*D.padding,G.strokeText(D.text,0,0));G.restore();D.width=ba;D.height=W;D.xoff=
J;D.yoff=R;D.x1=ba>>1;D.y1=W>>1;D.x0=-D.x1;D.y0=-D.y1;D.hasText=!0;J+=ba}M=G.getImageData(0,0,2048/T,2048/T).data;for(aa=[];0<=--z;)if(D=r[z],D.hasText){ba=D.width;G=ba>>5;W=D.y1-D.y0;for(T=0;T<W*G;T++)aa[T]=0;J=D.xoff;if(null==J)break;R=D.yoff;C=0;ea=-1;for(ca=0;ca<W;ca++){for(T=0;T<ba;T++)La=M[2048*(R+ca)+(J+T)<<2]?1<<31-T%32:0,aa[G*ca+(T>>5)]|=La,C|=La;C?ea=ca:(D.y0++,W--,ca--,R++)}D.y1=D.y0+ea;D.sprite=aa.slice(0,(D.y1-D.y0)*G)}}}function c(J,D){var r=J[0];J=J[1];D.x+D.x0<r.x&&(r.x=D.x+D.x0);
D.y+D.y0<r.y&&(r.y=D.y+D.y0);D.x+D.x1>J.x&&(J.x=D.x+D.x1);D.y+D.y1>J.y&&(J.y=D.y+D.y1)}function e(J){var D=J[0]/J[1];return function(r){return[D*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function g(J){for(var D=[],r=-1;++r<J;)D[r]=0;return D}function n(J){return"function"===typeof J?J:function(){return J}}function h(J){p.Transform.call(this,f(),J)}var x=Math.PI/180,O={archimedean:e,rectangular:function(J){var D=4*J[0]/J[1],r=0,z=0;return function(G){var T=0>G?-1:1;switch(Math.sqrt(1+4*T*G)-T&3){case 0:r+=
D;break;case 1:z+=4;break;case 2:r-=D;break;default:z-=4}return[r,z]}}};const H="x y font fontSize fontStyle fontWeight angle".split(" "),F="text font rotate fontSize fontStyle fontWeight".split(" ");h.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",
type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":H}]};q.inherits(h,p.Transform,{transform(J,D){function r(ba){ba=J[ba];return q.isFunction(ba)&&D.modified(ba.fields)}!J.size||J.size[0]&&J.size[1]||q.error("Wordcloud size dimensions must be non-zero.");
const z=J.modified();if(z||D.changed(D.ADD_REM)||F.some(r)){var G=D.materialize(D.SOURCE).source,T=this.value,R=J.as||H,ca=J.fontSize||14,M;q.isFunction(ca)?M=J.fontSizeRange:ca=q.constant(ca);if(M){const ba=ca,W=t.scale("sqrt")().domain(q.extent(G,ba)).range(M);ca=ea=>W(ba(ea))}G.forEach(ba=>{ba[R[0]]=NaN;ba[R[1]]=NaN;ba[R[3]]=0});G=T.words(G).text(J.text).size(J.size||[500,500]).padding(J.padding||1).spiral(J.spiral||"archimedean").rotate(J.rotate||0).font(J.font||"sans-serif").fontStyle(J.fontStyle||
"normal").fontWeight(J.fontWeight||"normal").fontSize(ca).random(m.random).layout();ca=T.size();T=ca[0]>>1;ca=ca[1]>>1;M=G.length;for(let ba=0,W,ea;ba<M;++ba)W=G[ba],ea=W.datum,ea[R[0]]=W.x+T,ea[R[1]]=W.y+ca,ea[R[2]]=W.font,ea[R[3]]=W.size,ea[R[4]]=W.style,ea[R[5]]=W.weight,ea[R[6]]=W.rotate;return D.reflow(z).modifies(R)}}});w.wordcloud=h;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega))})(this,function(w,k,p){function q(){let r=8,z=[],G=new Uint32Array(0),T=t(0,r),R=t(0,r);return{data:()=>z,seen:()=>{var ca=G;var M=z.length;ca.length>=M||(M=new ca.constructor(M),M.set(ca),
ca=M);return G=ca},add(ca){for(let M=0,ba=z.length,W=ca.length,ea;M<W;++M)ea=ca[M],ea._index=ba++,z.push(ea)},remove(ca,M){const ba=z.length;ca=Array(ba-ca);const W=z;let ea,La,aa;for(La=0;!M[La]&&La<ba;++La)ca[La]=z[La],W[La]=La;for(aa=La;La<ba;++La)ea=z[La],M[La]?W[La]=-1:(W[La]=aa,T[aa]=T[La],R[aa]=R[La],ca[aa]=ea,ea._index=aa++),T[La]=0;z=ca;return W},size:()=>z.length,curr:()=>T,prev:()=>R,reset:ca=>R[ca]=T[ca],all:()=>257>r?255:65537>r?65535:4294967295,set(ca,M){T[ca]|=M},clear(ca,M){T[ca]&=
~M},resize(ca,M){if(ca>T.length||M>r)r=Math.max(M,r),T=t(ca,r,T),R=t(ca,r)}}}function t(r,z,G){r=(257>z?x:65537>z?O:H)(r);G&&r.set(G);return r}function m(r,z,G){const T=1<<z;return{one:T,zero:~T,range:G.slice(),bisect:r.bisect,index:r.index,size:r.size,onAdd(R,ca){var M=this.bisect(this.range,R.value);R=R.index;const ba=M[0];M=M[1];const W=R.length;let ea;for(ea=0;ea<ba;++ea)ca[R[ea]]|=T;for(ea=M;ea<W;++ea)ca[R[ea]]|=T;return this}}}function f(r,z){return null==r||null==z?NaN:r<z?-1:r>z?1:r>=z?0:
NaN}function b(r){function z(ca,M,ba=0,W=ca.length){if(ba<W){if(0!==T(M,M))return W;do{const ea=ba+W>>>1;0>R(ca[ea],M)?ba=ea+1:W=ea}while(ba<W)}return ba}let G=r,T=r,R=r;2!==r.length&&(G=(ca,M)=>r(ca)-M,T=f,R=(ca,M)=>f(r(ca),M));return{left:z,center:function(ca,M,ba=0,W=ca.length){W=z(ca,M,ba,W-1);return W>ba&&G(ca[W-1],M)>-G(ca[W],M)?W-1:W},right:function(ca,M,ba=0,W=ca.length){if(ba<W){if(0!==T(M,M))return W;do{const ea=ba+W>>>1;0>=R(ca[ea],M)?ba=ea+1:W=ea}while(ba<W)}return ba}}}function c(r,z){return Array.from(z,
G=>r[G])}function e(){let r=new Uint32Array(0),z=[],G=0;return{insert:function(T,R,ca){if(!R.length)return[];const M=G,ba=R.length,W=new Uint32Array(ba);let ea=Array(ba);var La;for(La=0;La<ba;++La)ea[La]=T(R[La]),W[La]=La;ea=g(ea,W);if(M){T=z;R=r;z=Array(M+ba);r=new Uint32Array(M+ba);La=ea;var aa=z,C=r;let B=0,N=0,Y;for(Y=0;B<M&&N<ba;++Y)T[B]<La[N]?(aa[Y]=T[B],C[Y]=R[B++]):(aa[Y]=La[N],C[Y]=W[N++]+ca);for(;B<M;++B,++Y)aa[Y]=T[B],C[Y]=R[B];for(;N<ba;++N,++Y)aa[Y]=La[N],C[Y]=W[N]+ca}else{if(0<ca)for(La=
0;La<ba;++La)W[La]+=ca;z=ea;r=W}G=M+ba;return{index:W,value:ea}},remove:function(T,R){const ca=G;let M,ba,W;for(ba=0;!R[r[ba]]&&ba<ca;++ba);for(W=ba;ba<ca;++ba)R[M=r[ba]]||(r[W]=M,z[W]=z[ba],++W);G=ca-T},bisect:function(T,R){let ca;R?ca=R.length:(R=z,ca=G);return[D(R,T[0],0,ca),J(R,T[1],0,ca)]},reindex:function(T){for(let R=0,ca=G;R<ca;++R)r[R]=T[r[R]]},index:()=>r,size:()=>G}}function g(r,z){r.sort.call(z,(G,T)=>{G=r[G];T=r[T];return G<T?-1:G>T?1:0});return c(r,z)}function n(r){k.Transform.call(this,
q(),r);this._dims=this._indices=null}function h(r){k.Transform.call(this,null,r)}const x=r=>new Uint8Array(r),O=r=>new Uint16Array(r),H=r=>new Uint32Array(r),F=b(f),J=F.right,D=F.left;b(function(r){return null===r?NaN:+r}).center;n.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};p.inherits(n,k.Transform,{transform(r,z){return this._dims?r.modified("fields")||
r.fields.some(G=>z.modified(G.fields))?this.reinit(r,z):this.eval(r,z):this.init(r,z)},init(r,z){const G=r.fields,T=r.query,R=this._indices={},ca=this._dims=[],M=T.length;let ba=0;for(var W;ba<M;++ba)W=G[ba].fname,W=R[W]||(R[W]=e()),ca.push(m(W,ba,T[ba]));return this.eval(r,z)},reinit(r,z){const G=z.materialize().fork(),T=r.fields,R=r.query,ca=this._indices,M=this._dims,ba=this.value,W=ba.curr(),ea=ba.prev(),La=ba.all(),aa=G.rem=G.add,C=G.mod,B=R.length,N={};let Y;var Aa;let sa,la,Ia,bb;ea.set(W);
z.rem.length&&(sa=this.remove(r,z,G));z.add.length&&ba.add(z.add);if(z.mod.length){la={};var ib=z.mod;Ia=0;for(Aa=ib.length;Ia<Aa;++Ia)la[ib[Ia]._index]=1}for(Ia=0;Ia<B;++Ia)if(bb=T[Ia],!M[Ia]||r.modified("fields",Ia)||z.modified(bb.fields))Aa=bb.fname,(ib=N[Aa])||(ca[Aa]=Y=e(),N[Aa]=ib=Y.insert(bb,z.source,0)),M[Ia]=m(Y,Ia,R[Ia]).onAdd(ib,W);Ia=0;for(Aa=ba.data().length;Ia<Aa;++Ia)sa[Ia]||(ea[Ia]!==W[Ia]?aa.push(Ia):la[Ia]&&W[Ia]!==La&&C.push(Ia));ba.mask=(1<<B)-1;return G},eval(r,z){const G=z.materialize().fork(),
T=this._dims.length;let R=0;z.rem.length&&(this.remove(r,z,G),R|=(1<<T)-1);r.modified("query")&&!r.modified("fields")&&(R|=this.update(r,z,G));z.add.length&&(this.insert(r,z,G),R|=(1<<T)-1);z.mod.length&&(this.modify(z,G),R|=(1<<T)-1);this.value.mask=R;return G},insert(r,z,G){z=z.add;var T=this.value;const R=this._dims,ca=this._indices;r=r.fields;const M={};G=G.add;const ba=T.size()+z.length,W=R.length;let ea=T.size();T.resize(ba,W);T.add(z);const La=T.curr(),aa=T.prev(),C=T.all();for(T=0;T<W;++T){var B=
r[T].fname;B=M[B]||(M[B]=ca[B].insert(r[T],z,ea));R[T].onAdd(B,La)}for(;ea<ba;++ea)aa[ea]=C,La[ea]!==C&&G.push(ea)},modify(r,z){z=z.mod;var G=this.value;const T=G.curr();G=G.all();r=r.mod;let R,ca,M;R=0;for(ca=r.length;R<ca;++R)M=r[R]._index,T[M]!==G&&z.push(M)},remove(r,z,G){r=this._indices;var T=this.value;const R=T.curr(),ca=T.prev();T=T.all();const M={};G=G.rem;const ba=z.rem;let W,ea,La,aa;W=0;for(ea=ba.length;W<ea;++W)La=ba[W]._index,M[La]=1,ca[La]=aa=R[La],R[La]=T,aa!==T&&G.push(La);for(La in r)r[La].remove(ea,
M);this.reindex(z,ea,M);return M},reindex(r,z,G){const T=this._indices,R=this.value;r.runAfter(()=>{const ca=R.remove(z,G);for(const M in T)T[M].reindex(ca)})},update(r,z,G){const T=this._dims,R=r.query;z=z.stamp;const ca=T.length;let M=0,ba,W;for(W=G.filters=0;W<ca;++W)r.modified("query",W)&&(ba=W,++M);if(1===M)M=T[ba].one,this.incrementOne(T[ba],R[ba],G.add,G.rem);else for(M=W=0;W<ca;++W)r.modified("query",W)&&(M|=T[W].one,this.incrementAll(T[W],R[W],z,G.add),G.rem=G.add);return M},incrementAll(r,
z,G,T){var R=this.value;const ca=R.seen(),M=R.curr();R=R.prev();const ba=r.index();var W=r.bisect(r.range),ea=r.bisect(z);const La=ea[0];ea=ea[1];const aa=W[0];W=W[1];const C=r.one;let B,N,Y;if(La<aa)for(B=La,N=Math.min(aa,ea);B<N;++B)Y=ba[B],ca[Y]!==G&&(R[Y]=M[Y],ca[Y]=G,T.push(Y)),M[Y]^=C;else if(La>aa)for(B=aa,N=Math.min(La,W);B<N;++B)Y=ba[B],ca[Y]!==G&&(R[Y]=M[Y],ca[Y]=G,T.push(Y)),M[Y]^=C;if(ea>W)for(B=Math.max(La,W),N=ea;B<N;++B)Y=ba[B],ca[Y]!==G&&(R[Y]=M[Y],ca[Y]=G,T.push(Y)),M[Y]^=C;else if(ea<
W)for(B=Math.max(aa,ea),N=W;B<N;++B)Y=ba[B],ca[Y]!==G&&(R[Y]=M[Y],ca[Y]=G,T.push(Y)),M[Y]^=C;r.range=z.slice()},incrementOne(r,z,G,T){const R=this.value.curr(),ca=r.index();var M=r.bisect(r.range),ba=r.bisect(z);const W=ba[0];ba=ba[1];const ea=M[0];M=M[1];const La=r.one;let aa,C,B;if(W<ea)for(aa=W,C=Math.min(ea,ba);aa<C;++aa)B=ca[aa],R[B]^=La,G.push(B);else if(W>ea)for(aa=ea,C=Math.min(W,M);aa<C;++aa)B=ca[aa],R[B]^=La,T.push(B);if(ba>M)for(aa=Math.max(W,M),C=ba;aa<C;++aa)B=ca[aa],R[B]^=La,G.push(B);
else if(ba<M)for(aa=Math.max(ea,ba),C=M;aa<C;++aa)B=ca[aa],R[B]^=La,T.push(B);r.range=z.slice()}});h.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};p.inherits(h,k.Transform,{transform(r,z){const G=~(r.ignore||0);r=r.filter;const T=r.mask;if(0===(T&G))return z.StopPropagation;z=z.fork(z.ALL);
const R=r.data(),ca=r.curr(),M=r.prev(),ba=W=>ca[W]&G?null:R[W];z.filter(z.MOD,ba);T&T-1?(z.filter(z.ADD,W=>{const ea=ca[W]&G;return!ea&&ea^M[W]&G?R[W]:null}),z.filter(z.REM,W=>{const ea=ca[W]&G;return!ea||ea^ea^M[W]&G?null:R[W]})):(z.filter(z.ADD,ba),z.filter(z.REM,W=>(ca[W]&G)===T?R[W]:null));return z.filter(z.SOURCE,W=>ba(W._index))}});w.crossfilter=n;w.resolvefilter=h;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega))})(this,function(w,k){function p(ya){this.type=ya}function q(ya){switch(ya.type){case "ArrayExpression":return ya.elements;case "BinaryExpression":case "LogicalExpression":return[ya.left,ya.right];case "CallExpression":return[ya.callee].concat(ya.arguments);
case "ConditionalExpression":return[ya.test,ya.consequent,ya.alternate];case "MemberExpression":return[ya.object,ya.property];case "ObjectExpression":return ya.properties;case "Property":return[ya.key,ya.value];case "UnaryExpression":return[ya.argument];default:return[]}}function t(ya,oa){if(!ya)throw Error("ASSERT: "+oa);}function m(ya){return 48<=ya&&57>=ya}function f(ya){return 0<="0123456789abcdefABCDEF".indexOf(ya)}function b(ya){return 0<="01234567".indexOf(ya)}function c(ya){return 10===ya||
13===ya||8232===ya||8233===ya}function e(ya){return 36===ya||95===ya||65<=ya&&90>=ya||97<=ya&&122>=ya||92===ya||128<=ya&&Ja.test(String.fromCharCode(ya))}function g(ya){return 36===ya||95===ya||65<=ya&&90>=ya||97<=ya&&122>=ya||48<=ya&&57>=ya||92===ya||128<=ya&&ma.test(String.fromCharCode(ya))}function n(){for(;Ia<bb;){const ya=la.charCodeAt(Ia);if(32===ya||9===ya||11===ya||12===ya||160===ya||5760<=ya&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ya)||
c(ya))++Ia;else break}}function h(ya){var oa=0;var va="u"===ya?4:2;for(ya=0;ya<va;++ya)if(Ia<bb&&f(la[Ia])){var Ua=la[Ia++];oa=16*oa+"0123456789abcdef".indexOf(Ua.toLowerCase())}else M({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(oa)}function x(){var ya=la.charCodeAt(Ia++);var oa=String.fromCharCode(ya);92===ya&&(117!==la.charCodeAt(Ia)&&M({},"Unexpected token %0","ILLEGAL"),++Ia,(ya=h("u"))&&"\\"!==ya&&e(ya.charCodeAt(0))||M({},"Unexpected token %0","ILLEGAL"),oa=ya);for(;Ia<bb;){ya=
la.charCodeAt(Ia);if(!g(ya))break;++Ia;oa+=String.fromCharCode(ya);92===ya&&(oa=oa.substr(0,oa.length-1),117!==la.charCodeAt(Ia)&&M({},"Unexpected token %0","ILLEGAL"),++Ia,(ya=h("u"))&&"\\"!==ya&&g(ya.charCodeAt(0))||M({},"Unexpected token %0","ILLEGAL"),oa+=ya)}return oa}function O(){var ya=Ia,oa=la.charCodeAt(Ia),va=la[Ia];switch(oa){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ia,{type:7,value:String.fromCharCode(oa),start:ya,end:Ia};
default:var Ua=la.charCodeAt(Ia+1);if(61===Ua)switch(oa){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ia+=2,{type:7,value:String.fromCharCode(oa)+String.fromCharCode(Ua),start:ya,end:Ia};case 33:case 61:return Ia+=2,61===la.charCodeAt(Ia)&&++Ia,{type:7,value:la.slice(ya,Ia),start:ya,end:Ia}}}oa=la.substr(Ia,4);if("\x3e\x3e\x3e\x3d"===oa)return Ia+=4,{type:7,value:oa,start:ya,end:Ia};oa=oa.substr(0,3);if("\x3e\x3e\x3e"===oa||"\x3c\x3c\x3d"===oa||"\x3e\x3e\x3d"===
oa)return Ia+=3,{type:7,value:oa,start:ya,end:Ia};oa=oa.substr(0,2);if(va===oa[1]&&0<="+-\x3c\x3e\x26|".indexOf(va)||"\x3d\x3e"===oa)return Ia+=2,{type:7,value:oa,start:ya,end:Ia};"//"===oa&&M({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(va))return++Ia,{type:7,value:va,start:ya,end:Ia};M({},"Unexpected token %0","ILLEGAL")}function H(){var ya=la[Ia];t(m(ya.charCodeAt(0))||"."===ya,"Numeric literal must start with a decimal digit or a decimal point");var oa=Ia;var va=
"";if("."!==ya){va=la[Ia++];ya=la[Ia];if("0"===va){if("x"===ya||"X"===ya){++Ia;for(va="";Ia<bb&&f(la[Ia]);)va+=la[Ia++];0===va.length&&M({},"Unexpected token %0","ILLEGAL");e(la.charCodeAt(Ia))&&M({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+va,16),start:oa,end:Ia}}if(b(ya)){for(va="0"+la[Ia++];Ia<bb&&b(la[Ia]);)va+=la[Ia++];(e(la.charCodeAt(Ia))||m(la.charCodeAt(Ia)))&&M({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(va,8),octal:!0,start:oa,end:Ia}}ya&&
m(ya.charCodeAt(0))&&M({},"Unexpected token %0","ILLEGAL")}for(;m(la.charCodeAt(Ia));)va+=la[Ia++];ya=la[Ia]}if("."===ya){for(va+=la[Ia++];m(la.charCodeAt(Ia));)va+=la[Ia++];ya=la[Ia]}if("e"===ya||"E"===ya){va+=la[Ia++];ya=la[Ia];if("+"===ya||"-"===ya)va+=la[Ia++];if(m(la.charCodeAt(Ia)))for(;m(la.charCodeAt(Ia));)va+=la[Ia++];else M({},"Unexpected token %0","ILLEGAL")}e(la.charCodeAt(Ia))&&M({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(va),start:oa,end:Ia}}function F(ya,oa){let va=
ya;0<=oa.indexOf("u")&&(va=va.replace(/\\u\{([0-9a-fA-F]+)\}/g,(Ua,eb)=>{if(1114111>=parseInt(eb,16))return"x";M({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(va)}catch(Ua){M({},"Invalid regular expression")}try{return new RegExp(ya,oa)}catch(Ua){return null}}function J(){n();if(Ia>=bb)return{type:2,start:Ia,end:Ia};var ya=la.charCodeAt(Ia);if(e(ya)){ya=Ia;if(92===la.charCodeAt(Ia))var oa=x();else a:{for(oa=Ia++;Ia<bb;){var va=la.charCodeAt(Ia);
if(92===va){Ia=oa;oa=x();break a}if(g(va))++Ia;else break}oa=la.slice(oa,Ia)}return{type:1===oa.length?3:Fa.hasOwnProperty(oa)?4:"null"===oa?5:"true"===oa||"false"===oa?1:3,value:oa,start:ya,end:Ia}}if(40===ya||41===ya||59===ya)return O();if(39===ya||34===ya){var Ua="";va=!1;ya=la[Ia];t("'"===ya||'"'===ya,"String literal must starts with a quote");oa=Ia;for(++Ia;Ia<bb;){var eb=la[Ia++];if(eb===ya){ya="";break}else if("\\"===eb)if((eb=la[Ia++])&&c(eb.charCodeAt(0)))"\r"===eb&&"\n"===la[Ia]&&++Ia;else switch(eb){case "u":case "x":if("{"===
la[Ia]){++Ia;var ra=la[Ia];eb=0;for("}"===ra&&M({},"Unexpected token %0","ILLEGAL");Ia<bb;){ra=la[Ia++];if(!f(ra))break;eb=16*eb+"0123456789abcdef".indexOf(ra.toLowerCase())}(1114111<eb||"}"!==ra)&&M({},"Unexpected token %0","ILLEGAL");eb=65535>=eb?String.fromCharCode(eb):String.fromCharCode((eb-65536>>10)+55296,(eb-65536&1023)+56320);Ua+=eb}else Ua+=h(eb);break;case "n":Ua+="\n";break;case "r":Ua+="\r";break;case "t":Ua+="\t";break;case "b":Ua+="\b";break;case "f":Ua+="\f";break;case "v":Ua+="\v";
break;default:b(eb)?(ra="01234567".indexOf(eb),0!==ra&&(va=!0),Ia<bb&&b(la[Ia])&&(va=!0,ra=8*ra+"01234567".indexOf(la[Ia++]),0<="0123".indexOf(eb)&&Ia<bb&&b(la[Ia])&&(ra=8*ra+"01234567".indexOf(la[Ia++]))),Ua+=String.fromCharCode(ra)):Ua+=eb}else if(c(eb.charCodeAt(0)))break;else Ua+=eb}""!==ya&&M({},"Unexpected token %0","ILLEGAL");return{type:8,value:Ua,octal:va,start:oa,end:Ia}}return 46===ya?m(la.charCodeAt(Ia+1))?H():O():m(ya)?H():O()}function D(){const ya=ib;Ia=ya.end;ib=J();Ia=ya.end;return ya}
function r(){const ya=Ia;ib=J();Ia=ya}function z(ya,oa,va){const Ua=new p("||"===ya||"\x26\x26"===ya?"LogicalExpression":"BinaryExpression");Ua.operator=ya;Ua.left=oa;Ua.right=va;return Ua}function G(ya){const oa=new p("Identifier");oa.name=ya;return oa}function T(ya){const oa=new p("Literal");oa.value=ya.value;oa.raw=la.slice(ya.start,ya.end);ya.regex&&("//"===oa.raw&&(oa.raw="/(?:)/"),oa.regex=ya.regex);return oa}function R(ya,oa,va){const Ua=new p("MemberExpression");Ua.computed="["===ya;Ua.object=
oa;Ua.property=va;Ua.computed||(va.member=!0);return Ua}function ca(ya,oa,va){const Ua=new p("Property");Ua.key=oa;Ua.value=va;Ua.kind=ya;return Ua}function M(ya,oa){var va=Array.prototype.slice.call(arguments,2),Ua=oa.replace(/%(\d)/g,(ra,Oa)=>{t(Oa<va.length,"Message reference must be in range");return va[Oa]});var eb=Error(Ua);eb.index=Ia;eb.description=Ua;throw eb;}function ba(ya){2===ya.type&&M(ya,"Unexpected end of input");6===ya.type&&M(ya,"Unexpected number");8===ya.type&&M(ya,"Unexpected string");
3===ya.type&&M(ya,"Unexpected identifier");4===ya.type&&M(ya,"Unexpected reserved word");M(ya,"Unexpected token %0",ya.value)}function W(ya){const oa=D();7===oa.type&&oa.value===ya||ba(oa)}function ea(ya){return 7===ib.type&&ib.value===ya}function La(){Ia=ib.start;const ya=D();return 8===ya.type||6===ya.type?(ya.octal&&M(ya,"Octal literals are not allowed in strict mode."),T(ya)):G(ya.value)}function aa(){if(ea("(")){W("(");var ya=Aa();W(")");return ya}if(ea("[")){ya=[];Ia=ib.start;for(W("[");!ea("]");)ea(",")?
(D(),ya.push(null)):(ya.push(Y()),ea("]")||W(","));D();var oa=new p("ArrayExpression");oa.elements=ya;return oa}if(ea("{")){ya=[];oa={};var va=String;Ia=ib.start;for(W("{");!ea("}");){Ia=ib.start;var Ua=ib;if(3===Ua.type){var eb=La();W(":");Ua=Y();Ua=ca("init",eb,Ua)}else 2===Ua.type||7===Ua.type?(ba(Ua),Ua=void 0):(eb=La(),W(":"),Ua=Y(),Ua=ca("init",eb,Ua));eb="Identifier"===Ua.key.type?Ua.key.name:va(Ua.key.value);eb="$"+eb;Object.prototype.hasOwnProperty.call(oa,eb)?M({},"Duplicate data property in object literal not allowed in strict mode"):
oa[eb]=!0;ya.push(Ua);ea("}")||W(",")}W("}");oa=new p("ObjectExpression");oa.properties=ya;return oa}ya=ib.type;Ia=ib.start;if(3===ya||Pa[ib.value])oa=G(D().value);else if(8===ya||6===ya)ib.octal&&M(ib,"Octal literals are not allowed in strict mode."),oa=T(D());else{if(4===ya)throw Error("Disabled.");if(1===ya)ya=D(),ya.value="true"===ya.value,oa=T(ya);else if(5===ya)ya=D(),ya.value=null,oa=T(ya);else if(ea("/")||ea("/\x3d")){var ra;ib=null;n();ya=Ia;oa=la[Ia];t("/"===oa,"Regular expression literal must start with a slash");
va=la[Ia++];for(eb=Ua=!1;Ia<bb;)if(oa=la[Ia++],va+=oa,"\\"===oa)oa=la[Ia++],c(oa.charCodeAt(0))&&M({},"Invalid regular expression: missing /"),va+=oa;else if(c(oa.charCodeAt(0)))M({},"Invalid regular expression: missing /");else if(Ua)"]"===oa&&(Ua=!1);else if("/"===oa){eb=!0;break}else"["===oa&&(Ua=!0);eb||M({},"Invalid regular expression: missing /");oa=va.substr(1,va.length-2);for(ra=eb="";Ia<bb;){Ua=la[Ia];if(!g(Ua.charCodeAt(0)))break;++Ia;"\\"===Ua&&Ia<bb?M({},"Unexpected token %0","ILLEGAL"):
(ra+=Ua,eb+=Ua)}0<=ra.search(/[^gimuy]/g)&&M({},"Invalid regular expression",ra);Ua=ra;ra=F(oa,Ua);oa=T({literal:va+eb,value:ra,regex:{pattern:oa,flags:Ua},start:ya,end:Ia});r()}else ba(D())}return oa}function C(){var ya;for(ya=aa();;)if(ea(".")){W(".");Ia=ib.start;var oa=D();3===oa.type||4===oa.type||1===oa.type||5===oa.type||ba(oa);oa=G(oa.value);ya=R(".",ya,oa)}else if(ea("(")){oa=[];W("(");if(!ea(")"))for(;Ia<bb;){oa.push(Y());if(ea(")"))break;W(",")}W(")");const va=new p("CallExpression");va.callee=
ya;va.arguments=oa;ya=va}else if(ea("["))W("["),oa=Aa(),W("]"),ya=R("[",ya,oa);else break;if(7===ib.type&&(ea("++")||ea("--")))throw Error("Disabled.");return ya}function B(){if(7!==ib.type&&4!==ib.type)var ya=C();else{if(ea("++")||ea("--"))throw Error("Disabled.");if(ea("+")||ea("-")||ea("~")||ea("!")){var oa=D();ya=B();oa=oa.value;const va=new p("UnaryExpression");va.operator=oa;va.argument=ya;va.prefix=!0;ya=va}else{if(4===ib.type&&"delete"===ib.value||4===ib.type&&"void"===ib.value||4===ib.type&&
"typeof"===ib.value)throw Error("Disabled.");ya=C()}}return ya}function N(ya){let oa=0;if(7!==ya.type&&4!==ya.type)return 0;switch(ya.value){case "||":oa=1;break;case "\x26\x26":oa=2;break;case "|":oa=3;break;case "^":oa=4;break;case "\x26":oa=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":oa=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":oa=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":oa=8;break;case "+":case "-":oa=
9;break;case "*":case "/":case "%":oa=11}return oa}function Y(){var ya=ib;var oa=B();var va=ib;var Ua=N(va);if(0===Ua)var eb=oa;else{va.prec=Ua;D();ya=[ya,ib];var ra=B();for(eb=[oa,va,ra];0<(Ua=N(ib));){for(;2<eb.length&&Ua<=eb[eb.length-2].prec;)ra=eb.pop(),va=eb.pop().value,oa=eb.pop(),ya.pop(),oa=z(va,oa,ra),eb.push(oa);va=D();va.prec=Ua;eb.push(va);ya.push(ib);oa=B();eb.push(oa)}Ua=eb.length-1;oa=eb[Ua];for(ya.pop();1<Ua;)ya.pop(),oa=z(eb[Ua-1].value,eb[Ua-2],oa),Ua-=2;eb=oa}ea("?")&&(D(),ya=
Y(),W(":"),Ua=Y(),oa=new p("ConditionalExpression"),oa.test=eb,oa.consequent=ya,oa.alternate=Ua,eb=oa);return eb}function Aa(){const ya=Y();if(ea(","))throw Error("Disabled.");return ya}function sa(ya){function oa(va,Ua,eb){return ra=>{let Oa=ya(ra[0]);Ua&&(Oa=Ua+"("+Oa+")",0===Ua.lastIndexOf("new ",0)&&(Oa="("+Oa+")"));return Oa+"."+va+(0>eb?"":0===eb?"()":"("+ra.slice(1).map(ya).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",
atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(va){3>va.length&&k.error("Missing arguments to clamp function.");3<va.length&&k.error("Too many arguments to clamp function.");va=va.map(ya);return"Math.max("+va[1]+", Math.min("+va[2]+","+va[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",
date:oa("getDate","new Date",0),day:oa("getDay","new Date",0),year:oa("getFullYear","new Date",0),month:oa("getMonth","new Date",0),hours:oa("getHours","new Date",0),minutes:oa("getMinutes","new Date",0),seconds:oa("getSeconds","new Date",0),milliseconds:oa("getMilliseconds","new Date",0),time:oa("getTime","new Date",0),timezoneoffset:oa("getTimezoneOffset","new Date",0),utcdate:oa("getUTCDate","new Date",0),utcday:oa("getUTCDay","new Date",0),utcyear:oa("getUTCFullYear","new Date",0),utcmonth:oa("getUTCMonth",
"new Date",0),utchours:oa("getUTCHours","new Date",0),utcminutes:oa("getUTCMinutes","new Date",0),utcseconds:oa("getUTCSeconds","new Date",0),utcmilliseconds:oa("getUTCMilliseconds","new Date",0),length:oa("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:oa("toUpperCase","String",0),lower:oa("toLowerCase","String",0),substring:oa("substring","String"),split:oa("split","String"),trim:oa("trim","String",0),regexp:"RegExp",test:oa("test","RegExp"),if:function(va){3>va.length&&k.error("Missing arguments to if function.");
3<va.length&&k.error("Too many arguments to if function.");va=va.map(ya);return"("+va[0]+"?"+va[1]+":"+va[2]+")"}}}p.prototype.visit=function(ya){let oa,va,Ua;if(ya(this))return 1;oa=q(this);va=0;for(Ua=oa.length;va<Ua;++va)if(oa[va].visit(ya))return 1};var la,Ia,bb,ib,Ja=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
ma=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const Fa={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Pa={"if":1};var qa={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};w.ASTNode=p;w.ArrayExpression="ArrayExpression";w.BinaryExpression="BinaryExpression";w.CallExpression="CallExpression";w.ConditionalExpression="ConditionalExpression";w.Identifier="Identifier";w.Literal="Literal";w.LogicalExpression="LogicalExpression";w.MemberExpression="MemberExpression";w.ObjectExpression="ObjectExpression";
w.Property="Property";w.RawCode="RawCode";w.UnaryExpression="UnaryExpression";w.codegenExpression=function(ya){function oa(nb){if(k.isString(nb))return nb;const Mb=lb[nb.type];null==Mb&&k.error("Unsupported type: "+nb.type);return Mb(nb)}function va(nb){nb={code:oa(nb),globals:Object.keys(wa),fields:Object.keys(Ta)};wa={};Ta={};return nb}ya=ya||{};const Ua=ya.allowed?k.toSet(ya.allowed):{},eb=ya.forbidden?k.toSet(ya.forbidden):{},ra=ya.constants||qa,Oa=(ya.functions||sa)(oa),ja=ya.globalvar,U=ya.fieldvar,
ka=k.isFunction(ja)?ja:nb=>`${ja}["${nb}"]`;let wa={},Ta={},db=0;const lb={Literal:nb=>nb.raw,Identifier:nb=>{nb=nb.name;if(0<db)return nb;if(k.hasOwnProperty(eb,nb))return k.error("Illegal identifier: "+nb);if(k.hasOwnProperty(ra,nb))return ra[nb];if(k.hasOwnProperty(Ua,nb))return nb;wa[nb]=1;return ka(nb)},MemberExpression:nb=>{const Mb=!nb.computed,$b=oa(nb.object);Mb&&(db+=1);nb=oa(nb.property);if($b===U){var Gc=Ta;var zc=(zc=nb&&nb.length-1)&&('"'===nb[0]&&'"'===nb[zc]||"'"===nb[0]&&"'"===nb[zc])?
nb.slice(1,-1):nb;Gc[zc]=1}Mb&&--db;return $b+(Mb?"."+nb:"["+nb+"]")},CallExpression:nb=>{"Identifier"!==nb.callee.type&&k.error("Illegal callee type: "+nb.callee.type);const Mb=nb.callee.name;nb=nb.arguments;const $b=k.hasOwnProperty(Oa,Mb)&&Oa[Mb];$b||k.error("Unrecognized function: "+Mb);return k.isFunction($b)?$b(nb):$b+"("+nb.map(oa).join(",")+")"},ArrayExpression:nb=>"["+nb.elements.map(oa).join(",")+"]",BinaryExpression:nb=>"("+oa(nb.left)+" "+nb.operator+" "+oa(nb.right)+")",UnaryExpression:nb=>
"("+nb.operator+oa(nb.argument)+")",ConditionalExpression:nb=>"("+oa(nb.test)+"?"+oa(nb.consequent)+":"+oa(nb.alternate)+")",LogicalExpression:nb=>"("+oa(nb.left)+nb.operator+oa(nb.right)+")",ObjectExpression:nb=>"{"+nb.properties.map(oa).join(",")+"}",Property:nb=>{db+=1;const Mb=oa(nb.key);--db;return Mb+":"+oa(nb.value)}};va.functions=Oa;va.constants=ra;return va};w.constants=qa;w.functions=sa;w.parseExpression=function(ya){la=ya;Ia=0;bb=la.length;ib=null;r();ya=Aa();if(2!==ib.type)throw Error("Unexpect token after expression.");
return ya};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(40)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(g){return(n,h)=>{n=g(n);return n<h?-1:n>h?1:n>=h?0:NaN}}function t(g,n){var h=n.fields;n=n.values;for(var x=h.length,O=0,H,F;O<x;++O)if(F=h[O],F.getter=k.field.getter||k.field(F.field),
H=F.getter(g),k.isDate(H)&&(H=k.toNumber(H)),k.isDate(n[O])&&(n[O]=k.toNumber(n[O])),k.isDate(n[O][0])&&(n[O]=n[O].map(k.toNumber)),"E"===F.type){if(k.isArray(n[O])?0>n[O].indexOf(H):H!==n[O])return!1}else if("R"===F.type){if(!k.inrange(H,n[O]))return!1}else if("R-RE"===F.type){if(!k.inrange(H,n[O],!0,!1))return!1}else if("R-E"===F.type){if(!k.inrange(H,n[O],!1,!1))return!1}else if("R-LE"===F.type&&!k.inrange(H,n[O],!1,!0))return!1;return!0}const m=k.field("_vgsid_"),f=function(g){function n(O,H,
F,J){null==F&&(F=0);null==J&&(J=O.length);for(;F<J;){const D=F+J>>>1;0>x(O[D],H)?F=D+1:J=D}return F}let h=g,x=g;1===g.length&&(h=(O,H)=>g(O)-H,x=q(g));return{left:n,center:function(O,H,F,J){null==F&&(F=0);null==J&&(J=O.length);J=n(O,H,F,J-1);return J>F&&h(O[J-1],H)>-h(O[J],H)?J-1:J},right:function(O,H,F,J){null==F&&(F=0);null==J&&(J=O.length);for(;F<J;){const D=F+J>>>1;0<x(O[D],H)?J=D:F=D+1}return F}}}(m),b=f.left,c=f.right;var e={E_union:function(g,n){if(!g.length)return n;for(var h=0,x=n.length;h<
x;++h)0>g.indexOf(n[h])&&g.push(n[h]);return g},E_intersect:function(g,n){return g.length?g.filter(h=>0<=n.indexOf(h)):n},R_union:function(g,n){var h=k.toNumber(n[0]),x=k.toNumber(n[1]);h>x&&(h=n[1],x=n[0]);if(!g.length)return[h,x];g[0]>h&&(g[0]=h);g[1]<x&&(g[1]=x);return g},R_intersect:function(g,n){var h=k.toNumber(n[0]),x=k.toNumber(n[1]);h>x&&(h=n[1],x=n[0]);if(!g.length)return[h,x];if(x<g[0]||g[1]<h)return[];g[0]<h&&(g[0]=h);g[1]>x&&(g[1]=x);return g}};w.selectionIdTest=function(g,n,h){var x=
this.context.data[g];g=x?x.values.value:[];x=x?x["index:unit"]&&x["index:unit"].value:void 0;h="intersect"===h;n=m(n);const O=b(g,n);if(O===g.length||m(g[O])!==n)return!1;if(x&&h){if(1===x.size)return!0;if(c(g,n)-O<x.size)return!1}return!0};w.selectionResolve=function(g,n,h,x){g=(g=this.context.data[g])?g.values.value:[];for(var O={},H={},F={},J,D,r,z,G,T,R=g.length,ca=0,M,ba;ca<R;++ca){J=g[ca];r=J.unit;D=J.fields;J=J.values;M=0;for(ba=D.length;M<ba;++M)z=D[M],G=O[z.field]||(O[z.field]={}),T=G[r]||
(G[r]=[]),F[z.field]=z=z.type.charAt(0),z=e[z+"_union"],G[r]=z(T,k.array(J[M]));h&&(T=H[r]||(H[r]=[]),T.push(k.array(J).reduce((W,ea,La)=>(W[D[La].field]=ea,W),{})))}n=n||"union";Object.keys(O).forEach(W=>{O[W]=Object.keys(O[W]).map(ea=>O[W][ea]).reduce((ea,La)=>void 0===ea?La:e[F[W]+"_"+n](ea,La))});g=Object.keys(H);h&&g.length&&(O[x?"vlPoint":"vlMulti"]="union"===n?{or:g.reduce((W,ea)=>(W.push(...H[ea]),W),[])}:{and:g.map(W=>({or:H[W]}))});return O};w.selectionTest=function(g,n,h){var x=this.context.data[g];
g=x?x.values.value:[];x=x?x["index:unit"]&&x["index:unit"].value:void 0;h="intersect"===h;for(var O=g.length,H=0,F,J,D,r;H<O;++H)if(F=g[H],x&&h){if(J=J||{},D=J[r=F.unit]||0,-1!==D){F=t(n,F);J[r]=F?-1:++D;if(F&&1===x.size)return!0;if(!F&&D===x.get(r).count)return!1}}else if(F=t(n,F),h^F)return F;return O&&h};w.selectionTuples=function(g,n){return g.map(h=>k.extend({values:n.fields.map(x=>(x.getter||(x.getter=k.field(x.field)))(h.datum))},n))};w.selectionVisitor=function(g,n,h,x){n[0].type!==p.Literal&&
k.error("First argument to selection functions must be a string literal.");g=n[0].value;n=2<=n.length&&k.peek(n).value;const O=":"+g;"intersect"!==n||k.hasOwnProperty(x,"@unit")||(x["@unit"]=h.getData(g).indataRef(h,"unit"));k.hasOwnProperty(x,O)||(x[O]=h.getData(g).tuplesRef())};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(40),L(23),L(27),L(28),L(41),L(24),L(16)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,m,f,b,c){function e(Wa){return(Wa=
this.context.data[Wa])?Wa.values.value:[]}function g(Wa,Cb,hc){return(hc=(Wa=this.context.data[Wa]["index:"+Cb])?Wa.value.get(hc):void 0)?hc.count:hc}function n(Wa,Cb){const hc=this.context.dataflow;hc.pulse(this.context.data[Wa].input,hc.changeset().remove(k.truthy).insert(Cb));return 1}function h(Wa,Cb,hc){if(Wa){const yd=this.context.dataflow;yd.pulse(Wa.mark.source,yd.changeset().encode(Wa,Cb))}return void 0!==hc?hc:Wa}function x(Wa,Cb,hc){if(!Number.isInteger(Wa)||!Number.isInteger(Cb))return"";
Bb.setYear(2E3);Bb.setMonth(Wa);Bb.setDate(Cb);return tc.call(this,Bb,hc)}function O(Wa){return x.call(this,Wa,1,"%B")}function H(Wa){return x.call(this,Wa,1,"%b")}function F(Wa){return x.call(this,0,2+Wa,"%A")}function J(Wa){return x.call(this,0,2+Wa,"%a")}function D(Wa,Cb,hc,yd){Cb[0].type!==p.Literal&&k.error("First argument to data functions must be a string literal.");Wa=Cb[0].value;Cb=":"+Wa;if(!k.hasOwnProperty(Cb,yd))try{yd[Cb]=hc.getData(Wa).tuplesRef()}catch(Dd){}}function r(Wa,Cb,hc,yd){Cb[0].type!==
p.Literal&&k.error("First argument to indata must be a string literal.");Cb[1].type!==p.Literal&&k.error("Second argument to indata must be a string literal.");Wa=Cb[0].value;Cb=Cb[1].value;const Dd="@"+Cb;k.hasOwnProperty(Dd,yd)||(yd[Dd]=hc.getData(Wa).indataRef(hc,Cb))}function z(Wa,Cb,hc,yd){if(Cb[0].type===p.Literal)G(hc,yd,Cb[0].value);else for(Wa in hc.scales)G(hc,yd,Wa)}function G(Wa,Cb,hc){const yd="%"+hc;if(!k.hasOwnProperty(Cb,yd))try{Cb[yd]=Wa.scaleRef(hc)}catch(Dd){}}function T(Wa,Cb){let hc;
return k.isFunction(Wa)?Wa:k.isString(Wa)?(hc=Cb.scales[Wa])&&hc.value:void 0}function R(Wa,Cb,hc){Cb.__bandwidth=Dd=>Dd&&Dd.bandwidth?Dd.bandwidth():0;hc._bandwidth=z;hc._range=z;hc._scale=z;const yd=Dd=>"_["+(Dd.type===p.Literal?k.stringValue("%"+Dd.value):k.stringValue("%")+"+"+Wa(Dd))+"]";return{_bandwidth:Dd=>`this.__bandwidth(${yd(Dd[0])})`,_range:Dd=>`${yd(Dd[0])}.range()`,_scale:Dd=>`${yd(Dd[0])}(${Wa(Dd[1])})`}}function ca(Wa){return 1<Wa?Rd:-1>Wa?-Rd:Math.asin(Wa)}function M(){}function ba(Wa,
Cb){if(Wa&&Nc.hasOwnProperty(Wa.type))Nc[Wa.type](Wa,Cb)}function W(Wa,Cb,hc){var yd=-1;hc=Wa.length-hc;for(Cb.lineStart();++yd<hc;){var Dd=Wa[yd];Cb.point(Dd[0],Dd[1],Dd[2])}Cb.lineEnd()}function ea(Wa,Cb){var hc=-1,yd=Wa.length;for(Cb.polygonStart();++hc<yd;)W(Wa[hc],Cb,1);Cb.polygonEnd()}function La(Wa,Cb){if(Wa&&kc.hasOwnProperty(Wa.type))kc[Wa.type](Wa,Cb);else ba(Wa,Cb)}function aa(){td.point=B}function C(){N(qd,Yd)}function B(Wa,Cb){td.point=N;qd=Wa;Yd=Cb;Wa*=Me;Cb*=Me;Od=Wa;Jd=ob(Cb=Cb/2+
Md);ed=Ib(Cb)}function N(Wa,Cb){Wa*=Me;Cb*=Me;Cb=Cb/2+Md;var hc=Wa-Od,yd=0<=hc?1:-1,Dd=yd*hc;hc=ob(Cb);Cb=Ib(Cb);var ne=ed*Cb,of=Jd*hc+ne*ob(Dd);yd=ne*yd*Ib(Dd);Jc.add(ha(yd,of));Od=Wa;Jd=hc;ed=Cb}function Y(Wa,Cb){return[Wa[1]*Cb[2]-Wa[2]*Cb[1],Wa[2]*Cb[0]-Wa[0]*Cb[2],Wa[0]*Cb[1]-Wa[1]*Cb[0]]}function Aa(Wa,Cb){Ha.push(gb=[wc=Wa,Lc=Wa]);Cb<Rc&&(Rc=Cb);Cb>ud&&(ud=Cb)}function sa(Wa,Cb){var hc=[Wa*Me,Cb*Me];var yd=hc[0];hc=hc[1];var Dd=ob(hc);yd=[Dd*ob(yd),Dd*Ib(yd),Ib(hc)];if(bc){hc=Y(bc,yd);Dd=hc=
Y([hc[1],-hc[0],0],hc);var ne=Yb(Dd[0]*Dd[0]+Dd[1]*Dd[1]+Dd[2]*Dd[2]);Dd[0]/=ne;Dd[1]/=ne;Dd[2]/=ne;hc=[ha(hc[1],hc[0]),ca(hc[2])];var of=Wa-kb;Dd=0<of?1:-1;ne=hc[0]*Pd*Dd;of=180<Se(of);of^(Dd*kb<ne&&ne<Dd*Wa)?(hc=hc[1]*Pd,hc>ud&&(ud=hc)):(ne=(ne+360)%360-180,of^(Dd*kb<ne&&ne<Dd*Wa))?(hc=-hc[1]*Pd,hc<Rc&&(Rc=hc)):(Cb<Rc&&(Rc=Cb),Cb>ud&&(ud=Cb));of?Wa<kb?ma(wc,Wa)>ma(wc,Lc)&&(Lc=Wa):ma(Wa,Lc)>ma(wc,Lc)&&(wc=Wa):Lc>=wc?(Wa<wc&&(wc=Wa),Wa>Lc&&(Lc=Wa)):Wa>kb?ma(wc,Wa)>ma(wc,Lc)&&(Lc=Wa):ma(Wa,Lc)>ma(wc,
Lc)&&(wc=Wa)}else Ha.push(gb=[wc=Wa,Lc=Wa]);Cb<Rc&&(Rc=Cb);Cb>ud&&(ud=Cb);bc=yd;kb=Wa}function la(){Fb.point=sa}function Ia(){gb[0]=wc;gb[1]=Lc;Fb.point=Aa;bc=null}function bb(Wa,Cb){if(bc){var hc=Wa-kb;fa.add(180<Se(hc)?hc+(0<hc?360:-360):hc)}else Gb=Wa,Pb=Cb;td.point(Wa,Cb);sa(Wa,Cb)}function ib(){td.lineStart()}function Ja(){bb(Gb,Pb);td.lineEnd();1E-6<Se(fa)&&(wc=-(Lc=180));gb[0]=wc;gb[1]=Lc;bc=null}function ma(Wa,Cb){return 0>(Cb-=Wa)?Cb+360:Cb}function Fa(Wa,Cb){return Wa[0]-Cb[0]}function Pa(Wa,
Cb){return Wa[0]<=Wa[1]?Wa[0]<=Cb&&Cb<=Wa[1]:Cb<Wa[0]||Wa[1]<Cb}function qa(Wa,Cb){Wa*=Me;Cb*=Me;var hc=ob(Cb);ya(hc*ob(Wa),hc*Ib(Wa),Ib(Cb))}function ya(Wa,Cb,hc){++Kb;oc+=(Wa-oc)/Kb;Oc+=(Cb-Oc)/Kb;yc+=(hc-yc)/Kb}function oa(){ye.point=va}function va(Wa,Cb){Wa*=Me;Cb*=Me;var hc=ob(Cb);Kd=hc*ob(Wa);ee=hc*Ib(Wa);we=Ib(Cb);ye.point=Ua;ya(Kd,ee,we)}function Ua(Wa,Cb){Wa*=Me;Cb*=Me;var hc=ob(Cb),yd=hc*ob(Wa);Wa=hc*Ib(Wa);Cb=Ib(Cb);var Dd=ha(Yb((Dd=ee*Cb-we*Wa)*Dd+(Dd=we*yd-Kd*Cb)*Dd+(Dd=Kd*Wa-ee*yd)*
Dd),Kd*yd+ee*Wa+we*Cb);Ob+=Dd;fd+=Dd*(Kd+(Kd=yd));Ec+=Dd*(ee+(ee=Wa));Fd+=Dd*(we+(we=Cb));ya(Kd,ee,we)}function eb(){ye.point=qa}function ra(){ye.point=ja}function Oa(){U(Zd,vd);ye.point=qa}function ja(Wa,Cb){Zd=Wa;vd=Cb;Wa*=Me;Cb*=Me;ye.point=U;var hc=ob(Cb);Kd=hc*ob(Wa);ee=hc*Ib(Wa);we=Ib(Cb);ya(Kd,ee,we)}function U(Wa,Cb){Wa*=Me;Cb*=Me;var hc=ob(Cb),yd=hc*ob(Wa);Wa=hc*Ib(Wa);Cb=Ib(Cb);hc=ee*Cb-we*Wa;var Dd=we*yd-Kd*Cb,ne=Kd*Wa-ee*yd,of=Ea(hc,Dd,ne),uf=ca(of);of=of&&-uf/of;Be.add(of*hc);fe.add(of*
Dd);Ae.add(of*ne);Ob+=uf;fd+=uf*(Kd+(Kd=yd));Ec+=uf*(ee+(ee=Wa));Fd+=uf*(we+(we=Cb));ya(Kd,ee,we)}function ka(Wa,Cb){return function(hc,yd,Dd){return hc?(hc=T(hc,(Dd||this).context))&&hc.path[Wa](yd):Cb(yd)}}function wa(Wa){const Cb=this.context.group;let hc=!1;if(Cb)for(;Wa;){if(Wa===Cb){hc=!0;break}Wa=Wa.mark.group}return hc}function Ta(Wa,Cb,hc){try{Wa[Cb].apply(Wa,["EXPRESSION"].concat([].slice.call(hc)))}catch(yd){Wa.warn(yd)}return hc[hc.length-1]}function db(){return Ta(this.context.dataflow,
"warn",arguments)}function lb(){return Ta(this.context.dataflow,"info",arguments)}function nb(){return Ta(this.context.dataflow,"debug",arguments)}function Mb(Wa,Cb,hc){Wa.prototype=Cb.prototype=hc;hc.constructor=Wa}function $b(Wa,Cb){Wa=Object.create(Wa.prototype);for(var hc in Cb)Wa[hc]=Cb[hc];return Wa}function Gc(){}function zc(){return this.rgb().formatHex()}function Bc(){return this.rgb().formatRgb()}function uc(Wa){var Cb,hc;Wa=(Wa+"").trim().toLowerCase();return(Cb=Ff.exec(Wa))?(hc=Cb[1].length,
Cb=parseInt(Cb[1],16),6===hc?id(Cb):3===hc?new Wb(Cb>>8&15|Cb>>4&240,Cb>>4&15|Cb&240,(Cb&15)<<4|Cb&15,1):8===hc?Hb(Cb>>24&255,Cb>>16&255,Cb>>8&255,(Cb&255)/255):4===hc?Hb(Cb>>12&15|Cb>>8&240,Cb>>8&15|Cb>>4&240,Cb>>4&15|Cb&240,((Cb&15)<<4|Cb&15)/255):null):(Cb=$g.exec(Wa))?new Wb(Cb[1],Cb[2],Cb[3],1):(Cb=ie.exec(Wa))?new Wb(255*Cb[1]/100,255*Cb[2]/100,255*Cb[3]/100,1):(Cb=mf.exec(Wa))?Hb(Cb[1],Cb[2],Cb[3],Cb[4]):(Cb=Sf.exec(Wa))?Hb(255*Cb[1]/100,255*Cb[2]/100,255*Cb[3]/100,Cb[4]):(Cb=Gf.exec(Wa))?
Sc(Cb[1],Cb[2]/100,Cb[3]/100,1):(Cb=Ag.exec(Wa))?Sc(Cb[1],Cb[2]/100,Cb[3]/100,Cb[4]):ng.hasOwnProperty(Wa)?id(ng[Wa]):"transparent"===Wa?new Wb(NaN,NaN,NaN,0):null}function id(Wa){return new Wb(Wa>>16&255,Wa>>8&255,Wa&255,1)}function Hb(Wa,Cb,hc,yd){0>=yd&&(Wa=Cb=hc=NaN);return new Wb(Wa,Cb,hc,yd)}function Ab(Wa){Wa instanceof Gc||(Wa=uc(Wa));if(!Wa)return new Wb;Wa=Wa.rgb();return new Wb(Wa.r,Wa.g,Wa.b,Wa.opacity)}function dc(Wa,Cb,hc,yd){return 1===arguments.length?Ab(Wa):new Wb(Wa,Cb,hc,null==
yd?1:yd)}function Wb(Wa,Cb,hc,yd){this.r=+Wa;this.g=+Cb;this.b=+hc;this.opacity=+yd}function mc(){return"#"+Fc(this.r)+Fc(this.g)+Fc(this.b)}function Kc(){var Wa=this.opacity;Wa=isNaN(Wa)?1:Math.max(0,Math.min(1,Wa));return(1===Wa?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Wa?")":", "+Wa+")")}function Fc(Wa){Wa=Math.max(0,Math.min(255,Math.round(Wa)||0));return(16>Wa?
"0":"")+Wa.toString(16)}function Sc(Wa,Cb,hc,yd){0>=yd?Wa=Cb=hc=NaN:0>=hc||1<=hc?Wa=Cb=NaN:0>=Cb&&(Wa=NaN);return new Ba(Wa,Cb,hc,yd)}function jd(Wa){if(Wa instanceof Ba)return new Ba(Wa.h,Wa.s,Wa.l,Wa.opacity);Wa instanceof Gc||(Wa=uc(Wa));if(!Wa)return new Ba;if(Wa instanceof Ba)return Wa;Wa=Wa.rgb();var Cb=Wa.r/255,hc=Wa.g/255,yd=Wa.b/255,Dd=Math.min(Cb,hc,yd),ne=Math.max(Cb,hc,yd),of=NaN,uf=ne-Dd,Wg=(ne+Dd)/2;uf?(of=Cb===ne?(hc-yd)/uf+6*(hc<yd):hc===ne?(yd-Cb)/uf+2:(Cb-hc)/uf+4,uf/=.5>Wg?ne+Dd:
2-ne-Dd,of*=60):uf=0<Wg&&1>Wg?0:of;return new Ba(of,uf,Wg,Wa.opacity)}function $d(Wa,Cb,hc,yd){return 1===arguments.length?jd(Wa):new Ba(Wa,Cb,hc,null==yd?1:yd)}function Ba(Wa,Cb,hc,yd){this.h=+Wa;this.s=+Cb;this.l=+hc;this.opacity=+yd}function ua(Wa,Cb,hc){return 255*(60>Wa?Cb+(hc-Cb)*Wa/60:180>Wa?hc:240>Wa?Cb+(hc-Cb)*(240-Wa)/60:Cb)}function Ca(Wa){if(Wa instanceof jb)return new jb(Wa.l,Wa.a,Wa.b,Wa.opacity);if(Wa instanceof dd)return nd(Wa);Wa instanceof Wb||(Wa=Ab(Wa));var Cb=Vb(Wa.r),hc=Vb(Wa.g),
yd=Vb(Wa.b),Dd=yb(.2225045*Cb+.7168786*hc+.0606169*yd);if(Cb===hc&&hc===yd)var ne=Cb=Dd;else ne=yb((.4360747*Cb+.3850649*hc+.1430804*yd)/.96422),Cb=yb((.0139322*Cb+.0971045*hc+.7141733*yd)/.82521);return new jb(116*Dd-16,500*(ne-Dd),200*(Dd-Cb),Wa.opacity)}function $a(Wa,Cb,hc,yd){return 1===arguments.length?Ca(Wa):new jb(Wa,Cb,hc,null==yd?1:yd)}function jb(Wa,Cb,hc,yd){this.l=+Wa;this.a=+Cb;this.b=+hc;this.opacity=+yd}function yb(Wa){return Wa>og?Math.pow(Wa,1/3):Wa/ug+ig}function Ub(Wa){return Wa>
Bf?Wa*Wa*Wa:ug*(Wa-ig)}function Tb(Wa){return 255*(.0031308>=Wa?12.92*Wa:1.055*Math.pow(Wa,1/2.4)-.055)}function Vb(Wa){return.04045>=(Wa/=255)?Wa/12.92:Math.pow((Wa+.055)/1.055,2.4)}function Ic(Wa){if(Wa instanceof dd)return new dd(Wa.h,Wa.c,Wa.l,Wa.opacity);Wa instanceof jb||(Wa=Ca(Wa));if(0===Wa.a&&0===Wa.b)return new dd(NaN,0<Wa.l&&100>Wa.l?0:NaN,Wa.l,Wa.opacity);var Cb=Math.atan2(Wa.b,Wa.a)*Sg;return new dd(0>Cb?Cb+360:Cb,Math.sqrt(Wa.a*Wa.a+Wa.b*Wa.b),Wa.l,Wa.opacity)}function Yc(Wa,Cb,hc,yd){return 1===
arguments.length?Ic(Wa):new dd(Wa,Cb,hc,null==yd?1:yd)}function dd(Wa,Cb,hc,yd){this.h=+Wa;this.c=+Cb;this.l=+hc;this.opacity=+yd}function nd(Wa){if(isNaN(Wa.h))return new jb(Wa.l,0,0,Wa.opacity);var Cb=Wa.h*tg;return new jb(Wa.l,Math.cos(Cb)*Wa.c,Math.sin(Cb)*Wa.c,Wa.opacity)}function xd(Wa){Wa/=255;return.03928>=Wa?Wa/12.92:Math.pow((Wa+.055)/1.055,2.4)}function Nd(Wa){var Cb=dc(Wa);Wa=xd(Cb.r);const hc=xd(Cb.g);Cb=xd(Cb.b);return.2126*Wa+.7152*hc+.0722*Cb}function Xd(Wa,Cb){Wa=Nd(Wa);Cb=Nd(Cb);
return(Math.max(Wa,Cb)+.05)/(Math.min(Wa,Cb)+.05)}function ge(){const Wa=[].slice.call(arguments);Wa.unshift({});return k.extend(...Wa)}function le(Wa,Cb){if(Wa===Cb||Wa!==Wa&&Cb!==Cb)Wa=!0;else if(k.isArray(Wa))if(k.isArray(Cb)&&Wa.length===Cb.length)a:{for(let hc=0,yd=Wa.length;hc<yd;++hc)if(!le(Wa[hc],Cb[hc])){Wa=!1;break a}Wa=!0}else Wa=!1;else Wa=k.isObject(Wa)&&k.isObject(Cb)?qe(Wa,Cb):!1;return Wa}function qe(Wa,Cb){for(const hc in Wa)if(!le(Wa[hc],Cb[hc]))return!1;return!0}function wd(Wa){return Cb=>
qe(Wa,Cb)}function qf(Wa,Cb,hc,yd,Dd,ne){const of=this.context.dataflow,uf=this.context.data[Wa],Wg=uf.input;Wa=of.stamp();let Uf=uf.changes,Xg;if(!1===of._trigger||!(Wg.value.length||Cb||yd))return 0;if(!Uf||Uf.stamp<Wa)uf.changes=Uf=of.changeset(),Uf.stamp=Wa,of.runAfter(()=>{uf.modified=!0;of.pulse(Wg,Uf).run()},!0,1);hc&&(hc=!0===hc?k.truthy:k.isArray(hc)||q.isTuple(hc)?hc:wd(hc),Uf.remove(hc));Cb&&Uf.insert(Cb);yd&&(hc=wd(yd),Wg.value.some(hc)?Uf.remove(hc):Uf.insert(yd));if(Dd)for(Xg in ne)Uf.modify(Dd,
Xg,ne[Xg]);return 1}function gf(Wa){var Cb=Wa.touches;Wa=Cb[0].clientX-Cb[1].clientX;Cb=Cb[0].clientY-Cb[1].clientY;return Math.sqrt(Wa*Wa+Cb*Cb)}function te(Wa){Wa=Wa.touches;return Math.atan2(Wa[0].clientY-Wa[1].clientY,Wa[0].clientX-Wa[1].clientX)}function We(Wa,Cb){Cb=Tf[Cb]||(Tf[Cb]=k.field(Cb));return k.isArray(Wa)?Wa.map(Cb):Cb(Wa)}function za(Wa){return k.isArray(Wa)||ArrayBuffer.isView(Wa)?Wa:null}function Za(Wa){return za(Wa)||(k.isString(Wa)?Wa:null)}function tb(Wa,...Cb){return za(Wa).join(...Cb)}
function Jb(Wa,...Cb){return Za(Wa).indexOf(...Cb)}function fc(Wa,...Cb){return Za(Wa).lastIndexOf(...Cb)}function nc(Wa,...Cb){return Za(Wa).slice(...Cb)}function Hc(Wa,Cb,hc){k.isFunction(hc)&&k.error("Function argument passed to replace.");return String(Wa).replace(Cb,hc)}function Dc(Wa){return za(Wa).slice().reverse()}function lc(Wa,Cb,hc){return t.bandSpace(Wa||0,Cb||0,hc||0)}function ld(Wa,Cb){return(Wa=T(Wa,(Cb||this).context))&&Wa.bandwidth?Wa.bandwidth():0}function sd(Wa,Cb){return(Wa=T(Wa,
(Cb||this).context))?Wa.copy():void 0}function Hd(Wa,Cb){return(Wa=T(Wa,(Cb||this).context))?Wa.domain():[]}function Vd(Wa,Cb,hc){return(Wa=T(Wa,(hc||this).context))?k.isArray(Cb)?(Wa.invertRange||Wa.invert)(Cb):(Wa.invert||Wa.invertExtent)(Cb):void 0}function be(Wa,Cb){return(Wa=T(Wa,(Cb||this).context))&&Wa.range?Wa.range():[]}function he(Wa,Cb,hc){return(Wa=T(Wa,(hc||this).context))?Wa(Cb):void 0}function Ce(Wa,Cb,hc,yd,Dd){Wa=T(Wa,(Dd||this).context);const ne=m.Gradient(Cb,hc);Cb=Wa.domain();
hc=Cb[0];Dd=k.peek(Cb);let of=k.identity;Dd-hc?of=t.scaleFraction(Wa,hc,Dd):Wa=(Wa.interpolator?t.scale("sequential")().interpolator(Wa.interpolator()):t.scale("linear")().interpolate(Wa.interpolate()).range(Wa.range())).domain([hc=0,Dd=1]);Wa.ticks&&(Cb=Wa.ticks(+yd||15),hc!==Cb[0]&&Cb.unshift(hc),Dd!==k.peek(Cb)&&Cb.push(Dd));Cb.forEach(uf=>ne.stop(of(uf),Wa(uf)));return ne}function re(Wa,Cb,hc){const yd=T(Wa,(hc||this).context);return function(Dd){return yd?yd.path.context(Dd)(Cb):""}}function vf(Wa){let Cb=
null;return function(hc){return hc?m.pathRender(hc,Cb=Cb||m.pathParse(Wa)):Wa}}function Ge(Wa,Cb){Wa=e.call(Cb,Wa);return Wa.root&&Wa.root.lookup||{}}function Re(Wa,Cb,hc){Wa=Ge(Wa,this);Cb=Wa[Cb];hc=Wa[hc];return Cb&&hc?Cb.path(hc).map(Wf):void 0}function af(Wa,Cb){return(Wa=Ge(Wa,this)[Cb])?Wa.ancestors().map(Wf):void 0}function Qb(){const Wa="undefined"!==typeof window&&window||null;return Wa?Wa.screen:{}}function rc(){const Wa="undefined"!==typeof window&&window||null;return Wa?[Wa.innerWidth,
Wa.innerHeight]:[void 0,void 0]}function bd(){var Wa=this.context.dataflow;return(Wa=Wa.container&&Wa.container())?[Wa.clientWidth,Wa.clientHeight]:[void 0,void 0]}function Ad(Wa,Cb,hc){if(!Wa)return[];const [yd,Dd]=Wa;Wa=(new m.Bounds).set(yd[0],yd[1],Dd[0],Dd[1]);hc=hc||this.context.dataflow.scenegraph().root;return m.intersect(hc,Wa,xa(Cb))}function xa(Wa){let Cb=null;if(Wa){const hc=k.array(Wa.marktype),yd=k.array(Wa.markname);Cb=Dd=>(!hc.length||hc.some(ne=>Dd.marktype===ne))&&(!yd.length||yd.some(ne=>
Dd.name===ne))}return Cb}function Xa(Wa,Cb,hc){if(1===arguments.length)return Tg[Wa];Tg[Wa]=Cb;hc&&(Mg[Wa]=hc);Ng&&(Ng.functions[Wa]="this."+Wa);return this}const zb=Wa=>function(Cb,hc){return this.context.dataflow.locale()[Wa](hc)(Cb)},Xb=zb("format"),tc=zb("timeFormat"),gd=zb("utcFormat"),qc=zb("timeParse"),rb=zb("utcParse"),Bb=new Date(2E3,0,1);class ic{constructor(){this._partials=new Float64Array(32);this._n=0}add(Wa){const Cb=this._partials;let hc=0;for(let yd=0;yd<this._n&&32>yd;yd++){const Dd=
Cb[yd],ne=Wa+Dd;(Wa=Math.abs(Wa)<Math.abs(Dd)?Wa-(ne-Dd):Dd-(ne-Wa))&&(Cb[hc++]=Wa);Wa=ne}Cb[hc]=Wa;this._n=hc+1;return this}valueOf(){const Wa=this._partials;let Cb=this._n;let hc,yd=0;if(0<Cb){for(yd=Wa[--Cb];0<Cb;){var Dd=yd;hc=Wa[--Cb];yd=Dd+hc;if(Dd=hc-(yd-Dd))break}0<Cb&&(0>Dd&&0>Wa[Cb-1]||0<Dd&&0<Wa[Cb-1])&&(hc=2*Dd,Dd=yd+hc,hc==Dd-yd&&(yd=Dd))}return yd}}var Uc=Math.PI,Rd=Uc/2,Md=Uc/4,Gd=2*Uc,Pd=180/Uc,Me=Uc/180,Se=Math.abs,ha=Math.atan2,ob=Math.cos,Ea=Math.hypot,Ib=Math.sin,Yb=Math.sqrt,
kc={Feature:function(Wa,Cb){ba(Wa.geometry,Cb)},FeatureCollection:function(Wa,Cb){Wa=Wa.features;for(var hc=-1,yd=Wa.length;++hc<yd;)ba(Wa[hc].geometry,Cb)}},Nc={Sphere:function(Wa,Cb){Cb.sphere()},Point:function(Wa,Cb){Wa=Wa.coordinates;Cb.point(Wa[0],Wa[1],Wa[2])},MultiPoint:function(Wa,Cb){for(var hc=Wa.coordinates,yd=-1,Dd=hc.length;++yd<Dd;)Wa=hc[yd],Cb.point(Wa[0],Wa[1],Wa[2])},LineString:function(Wa,Cb){W(Wa.coordinates,Cb,0)},MultiLineString:function(Wa,Cb){Wa=Wa.coordinates;for(var hc=-1,
yd=Wa.length;++hc<yd;)W(Wa[hc],Cb,0)},Polygon:function(Wa,Cb){ea(Wa.coordinates,Cb)},MultiPolygon:function(Wa,Cb){Wa=Wa.coordinates;for(var hc=-1,yd=Wa.length;++hc<yd;)ea(Wa[hc],Cb)},GeometryCollection:function(Wa,Cb){Wa=Wa.geometries;for(var hc=-1,yd=Wa.length;++hc<yd;)ba(Wa[hc],Cb)}},Jc=new ic,pd=new ic,qd,Yd,Od,Jd,ed,td={point:M,lineStart:M,lineEnd:M,polygonStart:function(){Jc=new ic;td.lineStart=aa;td.lineEnd=C},polygonEnd:function(){var Wa=+Jc;pd.add(0>Wa?Gd+Wa:Wa);this.lineStart=this.lineEnd=
this.point=M},sphere:function(){pd.add(Gd)}},wc,Rc,Lc,ud,kb,Gb,Pb,bc,fa,Ha,gb,Fb={point:Aa,lineStart:la,lineEnd:Ia,polygonStart:function(){Fb.point=bb;Fb.lineStart=ib;Fb.lineEnd=Ja;fa=new ic;td.polygonStart()},polygonEnd:function(){td.polygonEnd();Fb.point=Aa;Fb.lineStart=la;Fb.lineEnd=Ia;0>Jc?(wc=-(Lc=180),Rc=-(ud=90)):1E-6<fa?ud=90:-1E-6>fa&&(Rc=-90);gb[0]=wc;gb[1]=Lc},sphere:function(){wc=-(Lc=180);Rc=-(ud=90)}},Kb,Ob,oc,Oc,yc,fd,Ec,Fd,Be,fe,Ae,Zd,vd,Kd,ee,we,ye={sphere:M,point:qa,lineStart:oa,
lineEnd:eb,polygonStart:function(){ye.lineStart=ra;ye.lineEnd=Oa},polygonEnd:function(){ye.lineStart=oa;ye.lineEnd=eb}};const Te=ka("area",function(Wa){pd=new ic;La(Wa,td);return 2*pd}),Id=ka("bounds",function(Wa){var Cb,hc,yd;ud=Lc=-(wc=Rc=Infinity);Ha=[];La(Wa,Fb);if(Cb=Ha.length){Ha.sort(Fa);Wa=1;var Dd=Ha[0];for(hc=[Dd];Wa<Cb;++Wa){var ne=Ha[Wa];Pa(Dd,ne[0])||Pa(Dd,ne[1])?(ma(Dd[0],ne[1])>ma(Dd[0],Dd[1])&&(Dd[1]=ne[1]),ma(ne[0],Dd[1])>ma(Dd[0],Dd[1])&&(Dd[0]=ne[0])):hc.push(Dd=ne)}var of=-Infinity;
Cb=hc.length-1;Wa=0;for(Dd=hc[Cb];Wa<=Cb;Dd=ne,++Wa)ne=hc[Wa],(yd=ma(Dd[1],ne[0]))>of&&(of=yd,wc=ne[0],Lc=Dd[1])}Ha=gb=null;return Infinity===wc||Infinity===Rc?[[NaN,NaN],[NaN,NaN]]:[[wc,Rc],[Lc,ud]]}),sf=ka("centroid",function(Wa){Kb=Ob=oc=Oc=yc=fd=Ec=Fd=0;Be=new ic;fe=new ic;Ae=new ic;La(Wa,ye);Wa=+Be;var Cb=+fe,hc=+Ae,yd=Ea(Wa,Cb,hc);return 1E-12>yd&&(Wa=fd,Cb=Ec,hc=Fd,1E-6>Ob&&(Wa=oc,Cb=Oc,hc=yc),yd=Ea(Wa,Cb,hc),1E-12>yd)?[NaN,NaN]:[ha(Cb,Wa)*Pd,ca(hc/yd)*Pd]});var zf=1/.7,Ff=/^#([0-9a-f]{3,8})$/,
$g=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),ie=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),mf=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Sf=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Gf=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ag=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ng={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Mb(Gc,uc,{copy:function(Wa){return Object.assign(new this.constructor,this,Wa)},displayable:function(){return this.rgb().displayable()},hex:zc,formatHex:zc,formatHsl:function(){return jd(this).formatHsl()},formatRgb:Bc,toString:Bc});Mb(Wb,dc,$b(Gc,{brighter:function(Wa){Wa=null==Wa?zf:Math.pow(zf,Wa);return new Wb(this.r*Wa,this.g*Wa,this.b*Wa,this.opacity)},darker:function(Wa){Wa=null==Wa?.7:Math.pow(.7,Wa);return new Wb(this.r*Wa,this.g*Wa,this.b*Wa,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:mc,formatHex:mc,formatRgb:Kc,toString:Kc}));Mb(Ba,$d,$b(Gc,{brighter:function(Wa){Wa=null==Wa?zf:Math.pow(zf,Wa);return new Ba(this.h,this.s,this.l*Wa,this.opacity)},darker:function(Wa){Wa=null==Wa?.7:Math.pow(.7,Wa);return new Ba(this.h,this.s,this.l*Wa,this.opacity)},rgb:function(){var Wa=this.h%360+360*(0>this.h),Cb=isNaN(Wa)||isNaN(this.s)?0:this.s,hc=this.l;Cb=hc+(.5>hc?hc:1-hc)*
Cb;hc=2*hc-Cb;return new Wb(ua(240<=Wa?Wa-240:Wa+120,hc,Cb),ua(Wa,hc,Cb),ua(120>Wa?Wa+240:Wa-120,hc,Cb),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var Wa=this.opacity;Wa=isNaN(Wa)?1:Math.max(0,Math.min(1,Wa));return(1===Wa?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Wa?")":", "+Wa+")")}}));const tg=Math.PI/180,Sg=180/Math.PI,ig=4/29,Bf=6/29,ug=3*
Bf*Bf,og=Bf*Bf*Bf;Mb(jb,$a,$b(Gc,{brighter:function(Wa){return new jb(this.l+18*(null==Wa?1:Wa),this.a,this.b,this.opacity)},darker:function(Wa){return new jb(this.l-18*(null==Wa?1:Wa),this.a,this.b,this.opacity)},rgb:function(){var Wa=(this.l+16)/116,Cb=isNaN(this.a)?Wa:Wa+this.a/500,hc=isNaN(this.b)?Wa:Wa-this.b/200;Cb=.96422*Ub(Cb);Wa=1*Ub(Wa);hc=.82521*Ub(hc);return new Wb(Tb(3.1338561*Cb-1.6168667*Wa-.4906146*hc),Tb(-.9787684*Cb+1.9161415*Wa+.033454*hc),Tb(.0719453*Cb-.2289914*Wa+1.4052427*hc),
this.opacity)}}));Mb(dd,Yc,$b(Gc,{brighter:function(Wa){return new dd(this.h,this.c,this.l+18*(null==Wa?1:Wa),this.opacity)},darker:function(Wa){return new dd(this.h,this.c,this.l-18*(null==Wa?1:Wa),this.opacity)},rgb:function(){return nd(this).rgb()}}));const Tf={},Wf=Wa=>Wa.data,Tg={random(){return b.random()},cumulativeNormal:b.cumulativeNormal,cumulativeLogNormal:b.cumulativeLogNormal,cumulativeUniform:b.cumulativeUniform,densityNormal:b.densityNormal,densityLogNormal:b.densityLogNormal,densityUniform:b.densityUniform,
quantileNormal:b.quantileNormal,quantileLogNormal:b.quantileLogNormal,quantileUniform:b.quantileUniform,sampleNormal:b.sampleNormal,sampleLogNormal:b.sampleLogNormal,sampleUniform:b.sampleUniform,isArray:k.isArray,isBoolean:k.isBoolean,isDate:k.isDate,isDefined(Wa){return void 0!==Wa},isNumber:k.isNumber,isObject:k.isObject,isRegExp:k.isRegExp,isString:k.isString,isTuple:q.isTuple,isValid(Wa){return null!=Wa&&Wa===Wa},toBoolean:k.toBoolean,toDate(Wa){return k.toDate(Wa)},toNumber:k.toNumber,toString:k.toString,
indexof:Jb,join:tb,lastindexof:fc,replace:Hc,reverse:Dc,slice:nc,flush:k.flush,lerp:k.lerp,merge:ge,pad:k.pad,peek:k.peek,pluck:We,span:k.span,inrange:k.inrange,truncate:k.truncate,rgb:dc,lab:$a,hcl:Yc,hsl:$d,luminance:Nd,contrast:Xd,sequence:function(Wa,Cb,hc){Wa=+Wa;Cb=+Cb;hc=2>(Dd=arguments.length)?(Cb=Wa,Wa=0,1):3>Dd?1:+hc;for(var yd=-1,Dd=Math.max(0,Math.ceil((Cb-Wa)/hc))|0,ne=Array(Dd);++yd<Dd;)ne[yd]=Wa+yd*hc;return ne},format:Xb,utcFormat:gd,utcParse:rb,utcOffset:c.utcOffset,utcSequence:c.utcSequence,
timeFormat:tc,timeParse:qc,timeOffset:c.timeOffset,timeSequence:c.timeSequence,timeUnitSpecifier:c.timeUnitSpecifier,monthFormat:O,monthAbbrevFormat:H,dayFormat:F,dayAbbrevFormat:J,quarter:k.quarter,utcquarter:k.utcquarter,week:c.week,utcweek:c.utcweek,dayofyear:c.dayofyear,utcdayofyear:c.utcdayofyear,warn:db,info:lb,debug:nb,extent(Wa){return k.extent(Wa)},inScope:wa,intersect:Ad,clampRange:k.clampRange,pinchDistance:gf,pinchAngle:te,screen:Qb,containerSize:bd,windowSize:rc,bandspace:lc,setdata:n,
pathShape:vf,panLinear:k.panLinear,panLog:k.panLog,panPow:k.panPow,panSymlog:k.panSymlog,zoomLinear:k.zoomLinear,zoomLog:k.zoomLog,zoomPow:k.zoomPow,zoomSymlog:k.zoomSymlog,encode:h,modify:qf,lassoAppend:function(Wa,Cb,hc,yd=5){const Dd=Wa[Wa.length-1];return void 0===Dd||Math.sqrt(Math.pow(Dd[0]-Cb,2)+Math.pow(Dd[1]-hc,2))>yd?(Wa.push([Cb,hc]),[...Wa]):Wa},lassoPath:function(Wa){return(null!=Wa?Wa:[]).reduce((Cb,[hc,yd],Dd)=>Cb+(0==Dd?`M ${hc},${yd} `:Dd===Wa.length-1?" Z":`L ${hc},${yd} `),"")},
intersectLasso:function(Wa,Cb,hc){const {x:yd,y:Dd,mark:ne}=hc;hc=(new m.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [of,uf]of Cb)of<hc.x1&&(hc.x1=of),of>hc.x2&&(hc.x2=of),uf<hc.y1&&(hc.y1=uf),uf>hc.y2&&(hc.y2=uf);hc.translate(yd,Dd);return Ad([[hc.x1,hc.y1],[hc.x2,hc.y2]],Wa,ne).filter(of=>{var uf=of.y;let Wg=0;for(let Uf=0,Xg=Cb.length-1;Uf<Cb.length;Xg=Uf++){const [Fh,ph]=Cb[Xg],[vg,Ug]=Cb[Uf];Ug>uf!=ph>uf&&of.x<(Fh-vg)*
(uf-Ug)/(ph-Ug)+vg&&Wg++}return Wg&1})}},bh="view item group xy x y".split(" "),Mg={},Ig={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Wa=>`_[${k.stringValue("$"+Wa)}]`,functions:function(Wa){const Cb=p.functions(Wa);bh.forEach(hc=>Cb[hc]="event.vega."+hc);for(const hc in Tg)Cb[hc]="this."+hc;k.extend(Cb,R(Wa,Tg,Mg));return Cb},constants:p.constants,visitors:Mg},Ng=p.codegenExpression(Ig);Xa("bandwidth",ld,z);Xa("copy",sd,z);Xa("domain",Hd,z);Xa("range",be,z);Xa("invert",
Vd,z);Xa("scale",he,z);Xa("gradient",Ce,z);Xa("geoArea",Te,z);Xa("geoBounds",Id,z);Xa("geoCentroid",sf,z);Xa("geoShape",re,z);Xa("indata",g,r);Xa("data",e,D);Xa("treePath",Re,D);Xa("treeAncestors",af,D);Xa("vlSelectionTest",f.selectionTest,f.selectionVisitor);Xa("vlSelectionIdTest",f.selectionIdTest,f.selectionVisitor);Xa("vlSelectionResolve",f.selectionResolve,f.selectionVisitor);Xa("vlSelectionTuples",f.selectionTuples);w.DataPrefix=":";w.IndexPrefix="@";w.ScalePrefix="%";w.SignalPrefix="$";w.bandspace=
lc;w.bandwidth=ld;w.codeGenerator=Ng;w.codegenParams=Ig;w.containerSize=bd;w.contrast=Xd;w.copy=sd;w.data=e;w.dataVisitor=D;w.dayAbbrevFormat=J;w.dayFormat=F;w.debug=nb;w.domain=Hd;w.encode=h;w.expressionFunction=Xa;w.format=Xb;w.functionContext=Tg;w.geoArea=Te;w.geoBounds=Id;w.geoCentroid=sf;w.geoShape=re;w.inScope=wa;w.indata=g;w.indataVisitor=r;w.indexof=Jb;w.info=lb;w.invert=Vd;w.join=tb;w.lastindexof=fc;w.luminance=Nd;w.merge=ge;w.modify=qf;w.monthAbbrevFormat=H;w.monthFormat=O;w.parseExpression=
function(Wa,Cb){const hc={};let yd;try{Wa=k.isString(Wa)?Wa:k.stringValue(Wa)+"",yd=p.parseExpression(Wa)}catch(Dd){k.error("Expression parse error: "+Wa)}yd.visit(Dd=>{if(Dd.type===p.CallExpression){var ne=Dd.callee.name,of=Ig.visitors[ne];of&&of(ne,Dd.arguments,Cb,hc)}});Wa=Ng(yd);Wa.globals.forEach(Dd=>{const ne="$"+Dd;!k.hasOwnProperty(hc,ne)&&Cb.getSignal(Dd)&&(hc[ne]=Cb.signalRef(Dd))});return{$expr:k.extend({code:Wa.code},Cb.options.ast?{ast:yd}:null),$fields:Wa.fields,$params:hc}};w.pathShape=
vf;w.pinchAngle=te;w.pinchDistance=gf;w.pluck=We;w.range=be;w.replace=Hc;w.reverse=Dc;w.scale=he;w.scaleGradient=Ce;w.scaleVisitor=z;w.screen=Qb;w.setdata=n;w.slice=nc;w.timeFormat=tc;w.timeParse=qc;w.treeAncestors=af;w.treePath=Re;w.utcFormat=gd;w.utcParse=rb;w.warn=db;w.windowSize=rc;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(h,x,O){";"!==O[O.length-1]&&(O="return("+O+");");x=Function(...x.concat(O));return h&&h.functions?x.bind(h.functions):x}function t(h,x,O){if(!h||!k.isObject(h))return h;for(let H=0,
F=g.length,J;H<F;++H)if(J=g[H],k.hasOwnProperty(h,J.key))return J.parse(h,x,O);return h}function m(h,x,O,H){this.dataflow=h;this.transforms=x;this.events=h.events.bind(h);this.expr=H||e;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};O&&(this.functions=Object.create(O),this.functions.context=this)}function f(h){this.dataflow=h.dataflow;this.transforms=h.transforms;this.events=h.events;this.expr=h.expr;this.signals=Object.create(h.signals);this.scales=Object.create(h.scales);this.nodes=
Object.create(h.nodes);this.data=Object.create(h.data);this.fn=Object.create(h.fn);h.functions&&(this.functions=Object.create(h.functions),this.functions.context=this)}const b=k.toSet(["rule"]),c=k.toSet(["group","image","rect"]);var e={operator:(h,x)=>q(h,["_"],x.code),parameter:(h,x)=>q(h,["datum","_"],x.code),event:(h,x)=>q(h,["event"],x.code),handler:(h,x)=>q(h,["_","event"],`var datum=event.item&&event.item.datum;return ${x.code};`),encode:(h,x)=>{const {marktype:O,channels:H}=x;x="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var F in H){const J="o["+k.stringValue(F)+"]";x+=`$=${H[F].code};if(${J}!==$)${J}=$,m=1;`}F="";b[O]||(H.x2&&(H.x?(c[O]&&(F+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),F+="o.width\x3do.x2-o.x;"):F+="o.x\x3do.x2-(o.width||0);"),H.xc&&(F+="o.x\x3do.xc-(o.width||0)/2;"),H.y2&&(H.y?(c[O]&&(F+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),F+="o.height\x3do.y2-o.y;"):F+="o.y\x3do.y2-(o.height||0);"),H.yc&&(F+="o.y\x3do.yc-(o.height||0)/2;"));x+=F;return q(h,["item","_"],x+"return m;")},codegen:{get(h){h=
`[${h.map(k.stringValue).join("][")}]`;const x=Function("_",`return _${h};`);x.path=h;return x},comparator(h,x){let O;h=Function("a","b","var u, v; return "+h.map((H,F)=>{const J=x[F];let D;H.path?(D=`a${H.path}`,H=`b${H.path}`):((O=O||{})["f"+F]=H,D=`this.f${F}(a)`,H=`this.f${F}(b)`);F=-J;return`((u = ${D}) < (v = ${H}) || u == null) && v != null ? ${F}
  : (u > v || v == null) && u != null ? ${J}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${F}
  : v !== v && u === u ? ${J} : `}).join("")+"0;");return O?h.bind(O):h}}},g=[{key:"$ref",parse:function(h,x){return x.get(h.$ref)||k.error("Operator not defined: "+h.$ref)}},{key:"$key",parse:function(h,x){const O="k:"+h.$key+"_"+!!h.$flat;return x.fn[O]||(x.fn[O]=k.key(h.$key,h.$flat,x.expr.codegen))}},{key:"$expr",parse:function(h,x,O){h.$params&&x.parseParameters(h.$params,O);O="e:"+h.$expr.code+"_"+h.$name;return x.fn[O]||(x.fn[O]=k.accessor(x.parameterExpression(h.$expr),h.$fields,h.$name))}},
{key:"$field",parse:function(h,x){if(!h.$field)return null;const O="f:"+h.$field+"_"+h.$name;return x.fn[O]||(x.fn[O]=k.field(h.$field,h.$name,x.expr.codegen))}},{key:"$encode",parse:function(h,x){h=h.$encode;const O={};for(const H in h){const F=h[H];O[H]=k.accessor(x.encodeExpression(F.$expr),F.$fields);O[H].output=F.$output}return O}},{key:"$compare",parse:function(h,x){const O="c:"+h.$compare+"_"+h.$order,H=k.array(h.$compare).map(F=>F&&F.$tupleid?p.tupleid:F);return x.fn[O]||(x.fn[O]=k.compare(H,
h.$order,x.expr.codegen))}},{key:"$context",parse:function(h,x){return x}},{key:"$subflow",parse:function(h,x){const O=h.$subflow;return function(H,F,J){const D=x.fork().parse(O);H=D.get(O.operators[0].id);(F=D.signals.parent)&&F.set(J);H.detachSubflow=()=>x.detach(D);return H}}},{key:"$tupleid",parse:function(){return p.tupleid}}];const n={skip:!0};m.prototype=f.prototype={fork(){const h=new f(this);(this.subcontext||(this.subcontext=[])).push(h);return h},detach(h){this.subcontext=this.subcontext.filter(O=>
O!==h);const x=Object.keys(h.nodes);for(const O of x)h.nodes[O]._targets=null;for(const O of x)h.nodes[O].detach();h.nodes=null},get(h){return this.nodes[h]},set(h,x){return this.nodes[h]=x},add(h,x){const O=this,H=O.dataflow,F=h.value;O.set(h.id,x);"collect"===(h.type+"").toLowerCase()&&F&&(F.$ingest?H.ingest(x,F.$ingest,F.$format):F.$request?H.preload(x,F.$request,F.$format):H.pulse(x,H.changeset().insert(F)));h.root&&(O.root=x);if(h.parent){let J=O.get(h.parent.$ref);J?(H.connect(J,[x]),x.targets().add(J)):
(O.unresolved=O.unresolved||[]).push(()=>{J=O.get(h.parent.$ref);H.connect(J,[x]);x.targets().add(J)})}h.signal&&(O.signals[h.signal]=x);h.scale&&(O.scales[h.scale]=x);if(h.data)for(const J in h.data){const D=O.data[J]||(O.data[J]={});h.data[J].forEach(r=>D[r]=x)}},resolve(){(this.unresolved||[]).forEach(h=>h());delete this.unresolved;return this},operator(h,x){this.add(h,this.dataflow.add(h.value,x))},transform(h,x){this.add(h,this.dataflow.add(this.transforms[(x+"").toLowerCase()]))},stream(h,x){this.set(h.id,
x)},update(h,x,O,H,F){this.dataflow.on(x,O,H,F,h.options)},operatorExpression(h){return this.expr.operator(this,h)},parameterExpression(h){return this.expr.parameter(this,h)},eventExpression(h){return this.expr.event(this,h)},handlerExpression(h){return this.expr.handler(this,h)},encodeExpression(h){return this.expr.encode(this,h)},parse:function(h){const x=this,O=h.operators||[];h.background&&(x.background=h.background);h.eventConfig&&(x.eventConfig=h.eventConfig);h.locale&&(x.locale=h.locale);O.forEach(H=>
x.parseOperator(H));O.forEach(H=>x.parseOperatorParameters(H));(h.streams||[]).forEach(H=>x.parseStream(H));(h.updates||[]).forEach(H=>x.parseUpdate(H));return x.resolve()},parseOperator:function(h){"operator"!==(h.type+"").toLowerCase()&&h.type?this.transform(h,h.type):this.operator(h,h.update?this.operatorExpression(h.update):null)},parseOperatorParameters:function(h){if(h.params){const x=this.get(h.id);x||k.error("Invalid operator id: "+h.id);this.dataflow.connect(x,x.parameters(this.parseParameters(h.params),
h.react,h.initonly))}},parseParameters:function(h,x){x=x||{};const O=this;for(const H in h){const F=h[H];x[H]=k.isArray(F)?F.map(J=>t(J,O,x)):t(F,O,x)}return x},parseStream:function(h){var x=this,O=null!=h.filter?x.eventExpression(h.filter):void 0,H=null!=h.stream?x.get(h.stream):void 0;if(h.source)H=x.events(h.source,h.type,O);else if(h.merge){var F=h.merge.map(J=>x.get(J));H=F[0].merge.apply(F[0],F.slice(1))}h.between&&(F=h.between.map(J=>x.get(J)),H=H.between(F[0],F[1]));h.filter&&(H=H.filter(O));
null!=h.throttle&&(H=H.throttle(+h.throttle));null!=h.debounce&&(H=H.debounce(+h.debounce));null==H&&k.error("Invalid stream definition: "+JSON.stringify(h));h.consume&&H.consume(!0);x.stream(h,H)},parseUpdate:function(h){var x=k.isObject(x=h.source)?x.$ref:x;x=this.get(x);var O=h.update,H=void 0;x||k.error("Source not defined: "+h.source);var F=h.target&&h.target.$expr?this.eventExpression(h.target.$expr):this.get(h.target);O&&O.$expr&&(O.$params&&(H=this.parseParameters(O.$params)),O=this.handlerExpression(O.$expr));
this.update(h,x,F,O,H)},getState:function(h){var x=this,O={};if(h.signals){var H=O.signals={};Object.keys(x.signals).forEach(J=>{const D=x.signals[J];h.signals(J,D)&&(H[J]=D.value)})}if(h.data){var F=O.data={};Object.keys(x.data).forEach(J=>{const D=x.data[J];h.data(J,D)&&(F[J]=D.input.value)})}x.subcontext&&!1!==h.recurse&&(O.subcontext=x.subcontext.map(J=>J.getState(h)));return O},setState:function(h){var x=this,O=x.dataflow,H=h.data,F=h.signals;Object.keys(F||{}).forEach(J=>{O.update(x.signals[J],
F[J],n)});Object.keys(H||{}).forEach(J=>{O.pulse(x.data[J].input,O.changeset().remove(k.truthy).insert(H[J]))});(h.subcontext||[]).forEach((J,D)=>{(D=x.subcontext[D])&&D.setState(J)})}};w.context=function(h,x,O,H){return new m(h,x,O,H)};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(23),L(28),L(42),L(43),L(17)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,m,f){function b(Ba){const ua=Ba.container();ua&&(ua.setAttribute("role","graphics-document"),
ua.setAttribute("aria-roleDescription","visualization"),c(ua,Ba.description()))}function c(Ba,ua){Ba&&(null==ua?Ba.removeAttribute("aria-label"):Ba.setAttribute("aria-label",ua))}function e(Ba){Ba.add(null,ua=>{Ba._background=ua.bg;Ba._resize=1;return ua.bg},{bg:Ba._signals.background})}function g(Ba){const ua=Ba._signals.cursor||(Ba._signals.cursor=Ba.add({user:"default",item:null}));Ba.on(Ba.events("view","mousemove"),ua,(Ca,$a)=>{const jb=(Ca=ua.value)?k.isString(Ca)?Ca:Ca.user:"default";$a=$a.item&&
$a.item.cursor||null;return Ca&&jb===Ca.user&&$a==Ca.item?Ca:{user:jb,item:$a}});Ba.add(null,function(Ca){Ca=Ca.cursor;let $a=this.value;k.isString(Ca)||($a=Ca.item,Ca=Ca.user);n(Ba,Ca&&"default"!==Ca?Ca:$a||Ca);return $a},{cursor:ua})}function n(Ba,ua){if(Ba=Ba.globalCursor()?"undefined"!==typeof document&&document.body:Ba.container())return null==ua?Ba.style.removeProperty("cursor"):Ba.style.cursor=ua}function h(Ba,ua){Ba=Ba._runtime.data;k.hasOwnProperty(Ba,ua)||k.error("Unrecognized data set: "+
ua);return Ba[ua]}function x(Ba,ua){p.isChangeSet(ua)||k.error("Second argument to changes must be a changeset.");Ba=h(this,Ba);Ba.modified=!0;return this.pulse(Ba.input,ua)}function O(Ba){var ua=Ba.padding();return Math.max(0,Ba._viewWidth+ua.left+ua.right)}function H(Ba){var ua=Ba.padding();return Math.max(0,Ba._viewHeight+ua.top+ua.bottom)}function F(Ba){var ua=Ba.padding();Ba=Ba._origin;return[ua.left+Ba[0],ua.top+Ba[1]]}function J(Ba){var ua=F(Ba),Ca=O(Ba),$a=H(Ba);Ba._renderer.background(Ba.background());
Ba._renderer.resize(Ca,$a,ua);Ba._handler.origin(ua);Ba._resizeListeners.forEach(jb=>{try{jb(Ca,$a)}catch(yb){Ba.error(yb)}})}function D(Ba,ua,Ca){function $a(Ub){var Tb=yb,Vb;if(Ub)for(Vb=ua;Vb;Vb=Vb.mark.group)if(Vb.mark.name===Ub){Tb=Vb;break}return Tb&&Tb.mark&&Tb.mark.interactive?Tb:{}}function jb(Ub){if(!Ub)return Ca;k.isString(Ub)&&(Ub=$a(Ub));const Tb=Ca.slice();for(;Ub;)Tb[0]-=Ub.x||0,Tb[1]-=Ub.y||0,Ub=Ub.mark&&Ub.mark.group;return Tb}const yb=ua?"group"===ua.mark.marktype?ua:ua.mark.group:
null;return{view:k.constant(Ba),item:k.constant(ua||{}),group:$a,xy:jb,x:Ub=>jb(Ub)[0],y:Ub=>jb(Ub)[1]}}function r(Ba){Ba=k.extend({defaults:{}},Ba);const ua=(Ca,$a)=>{$a.forEach(jb=>{k.isArray(Ca[jb])&&(Ca[jb]=k.toSet(Ca[jb]))})};ua(Ba.defaults,["prevent","allow"]);ua(Ba,["view","window","selector"]);return Ba}function z(Ba,ua,Ca,$a){Ba._eventListeners.push({type:Ca,sources:k.array(ua),handler:$a})}function G(Ba,ua,Ca){const $a=Ba._eventConfig&&Ba._eventConfig[ua];return!1===$a||k.isObject($a)&&
!$a[Ca]?(Ba.warn(`Blocked ${ua} ${Ca} event listener.`),!1):!0}function T(Ba){return Ba.item}function R(Ba){return Ba.item.mark.source}function ca(Ba){return function(ua,Ca){return Ca.vega.view().changeset().encode(Ca.item,Ba)}}function M(Ba,ua,Ca){Ba=document.createElement(Ba);for(const $a in ua)Ba.setAttribute($a,ua[$a]);null!=Ca&&(Ba.textContent=Ca);return Ba}function ba(Ba,ua,Ca){var $a=Math.abs(ua-Ba)/Math.max(0,Ca);Ca=Math.pow(10,Math.floor(Math.log($a)/Math.LN10));$a/=Ca;$a>=zc?Ca*=10:$a>=
Bc?Ca*=5:$a>=uc&&(Ca*=2);return ua<Ba?-Ca:Ca}function W(Ba,ua,Ca){if(ua){var $a=Ca.param,jb=Ca.state;jb||(jb=Ca.state={elements:null,active:!1,set:null,update:yb=>{yb!=Ba.signal($a.signal)&&Ba.runAsync(null,()=>{jb.source=!0;Ba.signal($a.signal,yb)})}},$a.debounce&&(jb.update=k.debounce($a.debounce,jb.update)));(null==$a.input&&$a.element?ea:La)(jb,ua,$a,Ba);jb.active||(Ba.on(Ba._signals[$a.signal],null,()=>{jb.source?jb.source=!1:jb.set(Ba.signal($a.signal))}),jb.active=!0);return jb}}function ea(Ba,
ua,Ca,$a){const jb=Ca.event||"input",yb=()=>Ba.update(ua.value);$a.signal(Ca.signal,ua.value);ua.addEventListener(jb,yb);z($a,ua,jb,yb);Ba.set=Ub=>{ua.value=Ub;Ub=ua.dispatchEvent;var Tb="undefined"!==typeof Event?new Event(jb):{type:jb};Ub.call(ua,Tb)}}function La(Ba,ua,Ca,$a){$a=$a.signal(Ca.signal);const jb=M("div",{"class":"vega-bind"}),yb="radio"===Ca.input?jb:jb.appendChild(M("label"));yb.appendChild(M("span",{"class":"vega-bind-name"},Ca.name||Ca.signal));ua.appendChild(jb);ua=aa;switch(Ca.input){case "checkbox":ua=
C;break;case "select":ua=B;break;case "radio":ua=N;break;case "range":ua=Y}ua(Ba,yb,Ca,$a)}function aa(Ba,ua,Ca,$a){const jb=M("input");for(const yb in Ca)"signal"!==yb&&"element"!==yb&&jb.setAttribute("input"===yb?"type":yb,Ca[yb]);jb.setAttribute("name",Ca.signal);jb.value=$a;ua.appendChild(jb);jb.addEventListener("input",()=>Ba.update(jb.value));Ba.elements=[jb];Ba.set=yb=>jb.value=yb}function C(Ba,ua,Ca,$a){Ca={type:"checkbox",name:Ca.signal};$a&&(Ca.checked=!0);const jb=M("input",Ca);ua.appendChild(jb);
jb.addEventListener("change",()=>Ba.update(jb.checked));Ba.elements=[jb];Ba.set=yb=>jb.checked=!!yb||null}function B(Ba,ua,Ca,$a){const jb=M("select",{name:Ca.signal}),yb=Ca.labels||[];Ca.options.forEach((Ub,Tb)=>{const Vb={value:Ub};Aa(Ub,$a)&&(Vb.selected=!0);jb.appendChild(M("option",Vb,(yb[Tb]||Ub)+""))});ua.appendChild(jb);jb.addEventListener("change",()=>{Ba.update(Ca.options[jb.selectedIndex])});Ba.elements=[jb];Ba.set=Ub=>{for(let Tb=0,Vb=Ca.options.length;Tb<Vb;++Tb)if(Aa(Ca.options[Tb],
Ub)){jb.selectedIndex=Tb;break}}}function N(Ba,ua,Ca,$a){const jb=M("span",{"class":"vega-bind-radio"}),yb=Ca.labels||[];ua.appendChild(jb);Ba.elements=Ca.options.map((Ub,Tb)=>{var Vb={type:"radio",name:Ca.signal,value:Ub};Aa(Ub,$a)&&(Vb.checked=!0);Vb=M("input",Vb);Vb.addEventListener("change",()=>Ba.update(Ub));Tb=M("label",{},(yb[Tb]||Ub)+"");Tb.prepend(Vb);jb.appendChild(Tb);return Vb});Ba.set=Ub=>{const Tb=Ba.elements,Vb=Tb.length;for(let Ic=0;Ic<Vb;++Ic)Aa(Tb[Ic].value,Ub)&&(Tb[Ic].checked=
!0)}}function Y(Ba,ua,Ca,$a){$a=void 0!==$a?$a:(+Ca.max+ +Ca.min)/2;const jb=null!=Ca.max?Ca.max:Math.max(100,+$a)||100,yb=Ca.min||Math.min(0,jb,+$a)||0,Ub=Ca.step||ba(yb,jb,100),Tb=M("input",{type:"range",name:Ca.signal,min:yb,max:jb,step:Ub});Tb.value=$a;const Vb=M("span",{},+$a);ua.appendChild(Tb);ua.appendChild(Vb);ua=()=>{Vb.textContent=Tb.value;Ba.update(+Tb.value)};Tb.addEventListener("input",ua);Tb.addEventListener("change",ua);Ba.elements=[Tb];Ba.set=Ic=>{Tb.value=Ic;Vb.textContent=Ic}}function Aa(Ba,
ua){return Ba===ua||Ba+""===ua+""}function sa(Ba,ua,Ca,$a,jb,yb){ua=ua||new $a(Ba.loader());return ua.initialize(Ca,O(Ba),H(Ba),F(Ba),jb,yb).background(Ba.background())}function la(Ba,ua){return ua?function(){try{ua.apply(this,arguments)}catch(Ca){Ba.error(Ca)}}:null}function Ia(Ba,ua,Ca,$a){const jb=(new $a(Ba.loader(),la(Ba,Ba.tooltip()))).scene(Ba.scenegraph().root).initialize(Ca,F(Ba),Ba);ua&&ua.handlers().forEach(yb=>{jb.on(yb.type,yb.handler)});return jb}function bb(Ba,ua,Ca){if("string"===
typeof ua)if("undefined"!==typeof document){if(ua=document.querySelector(ua),!ua)return Ba.error("Signal bind element not found: "+ua),null}else return Ba.error("DOM document instance not found."),null;if(ua&&Ca)try{ua.textContent=""}catch($a){ua=null,Ba.error($a)}return ua}function ib(Ba){k.isObject(Ba)?Ba={top:+Ba.top||0,bottom:+Ba.bottom||0,left:+Ba.left||0,right:+Ba.right||0}:(Ba=+Ba||0,Ba={top:Ba,bottom:Ba,left:Ba,right:Ba});return Ba}function Ja(Ba,ua,Ca,$a){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var jb=
q.renderModule(ua);(jb=jb&&jb.headless)||k.error("Unrecognized renderer type: "+ua);yield Ba.runAsync();return sa(Ba,null,null,jb,Ca,$a).renderAsync(Ba._scenegraph.root)})}function ma(Ba,ua,Ca){return m.context(Ba,p.transforms,t.functionContext,Ca).parse(ua)}function Fa(Ba,ua){var Ca=Ba.autosize();Ba=Ba.padding();return ua-(Ca&&"padding"===Ca.contains?Ba.left+Ba.right:0)}function Pa(Ba,ua){var Ca=Ba.autosize();Ba=Ba.padding();return ua-(Ca&&"padding"===Ca.contains?Ba.top+Ba.bottom:0)}function qa(Ba){function ua(){Ba._autosize=
Ba._resize=1}var Ca=Ba._signals,$a=Ca.width,jb=Ca.height;Ca=Ca.padding;Ba._resizeWidth=Ba.add(null,Ub=>{Ba._width=Ub.size;Ba._viewWidth=Fa(Ba,Ub.size);ua()},{size:$a});Ba._resizeHeight=Ba.add(null,Ub=>{Ba._height=Ub.size;Ba._viewHeight=Pa(Ba,Ub.size);ua()},{size:jb});const yb=Ba.add(null,ua,{pad:Ca});Ba._resizeWidth.rank=$a.rank+1;Ba._resizeHeight.rank=jb.rank+1;yb.rank=Ca.rank+1}function ya(Ba,ua){return ua.modified&&k.isArray(ua.input.value)&&Ba.indexOf("_:vega:_")}function oa(Ba,ua){return!("parent"===
Ba||ua instanceof p.transforms.proxy)}function va(){return Fc||($d(Ua),Fc=jd.now()+Sc)}function Ua(){Fc=0}function eb(){this._call=this._time=this._next=null}function ra(){Fc=(Kc=jd.now())+Sc;Hb=Ab=0;try{va();++Hb;for(var Ba=Wb,ua;Ba;)0<=(ua=Fc-Ba._time)&&Ba._call.call(void 0,ua),Ba=Ba._next;--Hb}finally{Hb=0;Ba=Wb;for(var Ca=Infinity;Ba;)if(Ba._call){Ca>Ba._time&&(Ca=Ba._time);var $a=Ba;Ba=Ba._next}else ua=Ba._next,Ba._next=null,Ba=$a?$a._next=ua:Wb=ua;mc=$a;ja(Ca);Fc=0}}function Oa(){var Ba=jd.now(),
ua=Ba-Kc;1E3<ua&&(Sc-=ua,Kc=Ba)}function ja(Ba){Hb||(Ab&&(Ab=clearTimeout(Ab)),24<Ba-Fc?(Infinity>Ba&&(Ab=setTimeout(ra,Ba-jd.now()-Sc)),dc&&(dc=clearInterval(dc))):(dc||(Kc=jd.now(),dc=setInterval(Oa,1E3)),Hb=1,$d(ra)))}function U(Ba,ua,Ca){var $a=new eb,jb=ua;if(null==ua)return $a.restart(Ba,ua,Ca),$a;$a._restart=$a.restart;$a.restart=function(yb,Ub,Tb){Ub=+Ub;Tb=null==Tb?va():+Tb;$a._restart(function Yc(Ic){Ic+=jb;$a._restart(Yc,jb+=Ub,Tb);yb(Ic)},Ub,Tb)};$a.restart(Ba,ua,Ca);return $a}function ka(Ba,
ua,Ca,$a){if(Ba=Ba.element())ua=Ba.setAttribute,$a=null==$a?"":k.isArray($a)?"["+$a.map(Ta).join(", ")+"]":k.isObject($a)&&!k.isDate($a)?wa($a):$a+"",ua.call(Ba,"title",$a)}function wa(Ba){return Object.keys(Ba).map(ua=>{const Ca=Ba[ua];return ua+": "+(k.isArray(Ca)?"["+Ca.map(Ta).join(", ")+"]":Ta(Ca))}).join("\n")}function Ta(Ba){return k.isArray(Ba)?"[]":k.isObject(Ba)&&!k.isDate(Ba)?"{}":Ba}function db(Ba,ua){ua=ua||{};p.Dataflow.call(this);ua.loader&&this.loader(ua.loader);ua.logger&&this.logger(ua.logger);
null!=ua.logLevel&&this.logLevel(ua.logLevel);if(ua.locale||Ba.locale){var Ca=k.extend({},Ba.locale,ua.locale);this.locale(f.locale(Ca.number,Ca.time))}this._elBind=this._el=null;this._renderType=ua.renderer||q.RenderType.Canvas;this._scenegraph=new q.Scenegraph;Ca=this._scenegraph.root;this._renderer=null;this._tooltip=ua.tooltip||ka;this._redraw=!0;this._handler=(new q.CanvasHandler).scene(Ca);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=
[];this._eventConfig=r(Ba.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const $a=ma(this,Ba,ua.expr);this._runtime=$a;this._signals=$a.signals;this._bind=(Ba.bindings||[]).map(jb=>({state:null,param:k.extend({},jb)}));$a.root&&$a.root.set(Ca);Ca.source=$a.data.root.input;this.pulse($a.data.root.input,this.changeset().insert(Ca.items));this._width=this.width();this._height=this.height();this._viewWidth=Fa(this,this._width);this._viewHeight=Pa(this,this._height);this._origin=[0,0];
this._resize=0;this._autosize=1;qa(this);e(this);g(this);this.description(Ba.description);ua.hover&&this.hover();ua.container&&this.initialize(ua.container,ua.bind)}function lb(Ba,ua){return k.hasOwnProperty(Ba._signals,ua)?Ba._signals[ua]:k.error("Unrecognized signal name: "+k.stringValue(ua))}function nb(Ba,ua){Ba=(Ba._targets||[]).filter(Ca=>Ca._update&&Ca._update.handler===ua);return Ba.length?Ba[0]:null}function Mb(Ba,ua,Ca,$a){let jb=nb(Ca,$a);jb||(jb=la(Ba,()=>$a(ua,Ca.value)),jb.handler=$a,
Ba.on(Ca,null,jb));return Ba}function $b(Ba,ua,Ca){(Ca=nb(ua,Ca))&&ua._targets.remove(Ca);return Ba}const Gc={trap:!1};var zc=Math.sqrt(50),Bc=Math.sqrt(10),uc=Math.sqrt(2),id={skip:!0},Hb=0,Ab=0,dc=0,Wb,mc,Kc=0,Fc=0,Sc=0,jd="object"===typeof performance&&performance.now?performance:Date,$d="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ba){setTimeout(Ba,17)};eb.prototype={constructor:eb,restart:function(Ba,ua,Ca){if("function"!==typeof Ba)throw new TypeError("callback is not a function");
Ca=(null==Ca?va():+Ca)+(null==ua?0:+ua);this._next||mc===this||(mc?mc._next=this:Wb=this,mc=this);this._call=Ba;this._time=Ca;ja()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ja())}};k.inherits(db,p.Dataflow,{evaluate(Ba,ua,Ca){const $a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield p.Dataflow.prototype.evaluate.call($a,Ba,ua);if($a._redraw||$a._resize)try{$a._renderer&&($a._resize&&($a._resize=0,J($a)),yield $a._renderer.renderAsync($a._scenegraph.root)),
$a._redraw=!1}catch(jb){$a.error(jb)}Ca&&p.asyncCallback($a,Ca);return $a})},dirty(Ba){this._redraw=!0;this._renderer&&this._renderer.dirty(Ba)},description(Ba){if(arguments.length){const ua=null!=Ba?Ba+"":null;ua!==this._desc&&c(this._el,this._desc=ua);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Ba,ua,Ca){const $a=lb(this,Ba);return 1===arguments.length?$a.value:this.update($a,ua,Ca)},width(Ba){return arguments.length?
this.signal("width",Ba):this.signal("width")},height(Ba){return arguments.length?this.signal("height",Ba):this.signal("height")},padding(Ba){return arguments.length?this.signal("padding",ib(Ba)):ib(this.signal("padding"))},autosize(Ba){return arguments.length?this.signal("autosize",Ba):this.signal("autosize")},background(Ba){return arguments.length?this.signal("background",Ba):this.signal("background")},renderer(Ba){if(!arguments.length)return this._renderType;q.renderModule(Ba)||k.error("Unrecognized renderer type: "+
Ba);Ba!==this._renderType&&(this._renderType=Ba,this._resetRenderer());return this},tooltip(Ba){if(!arguments.length)return this._tooltip;Ba!==this._tooltip&&(this._tooltip=Ba,this._resetRenderer());return this},loader(Ba){if(!arguments.length)return this._loader;Ba!==this._loader&&(p.Dataflow.prototype.loader.call(this,Ba),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(lb(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,
this._elBind))},_resizeView:function(Ba,ua,Ca,$a,jb,yb){this.runAfter(Ub=>{let Tb=0;Ub._autosize=0;Ub.width()!==Ca&&(Tb=1,Ub.signal("width",Ca,id),Ub._resizeWidth.skip(!0));Ub.height()!==$a&&(Tb=1,Ub.signal("height",$a,id),Ub._resizeHeight.skip(!0));Ub._viewWidth!==Ba&&(Ub._resize=1,Ub._viewWidth=Ba);Ub._viewHeight!==ua&&(Ub._resize=1,Ub._viewHeight=ua);if(Ub._origin[0]!==jb[0]||Ub._origin[1]!==jb[1])Ub._resize=1,Ub._origin=jb;Tb&&Ub.run("enter");yb&&Ub.runAfter(Vb=>Vb.resize())},!1,1)},addEventListener(Ba,
ua,Ca){let $a=ua;Ca&&!1===Ca.trap||($a=la(this,ua),$a.raw=ua);this._handler.on(Ba,$a);return this},removeEventListener(Ba,ua){for(var Ca=this._handler.handlers(Ba),$a=Ca.length,jb,yb;0<=--$a;)if(yb=Ca[$a].type,jb=Ca[$a].handler,Ba===yb&&(ua===jb||ua===jb.raw)){this._handler.off(yb,jb);break}return this},addResizeListener(Ba){const ua=this._resizeListeners;0>ua.indexOf(Ba)&&ua.push(Ba);return this},removeResizeListener(Ba){var ua=this._resizeListeners;Ba=ua.indexOf(Ba);0<=Ba&&ua.splice(Ba,1);return this},
addSignalListener(Ba,ua){return Mb(this,Ba,lb(this,Ba),ua)},removeSignalListener(Ba,ua){return $b(this,lb(this,Ba),ua)},addDataListener(Ba,ua){return Mb(this,Ba,h(this,Ba).values,ua)},removeDataListener(Ba,ua){return $b(this,h(this,Ba).values,ua)},globalCursor(Ba){if(arguments.length){if(this._globalCursor!==!!Ba){const ua=n(this,null);this._globalCursor=!!Ba;ua&&n(this,ua)}return this}return this._globalCursor},preventDefault(Ba){return arguments.length?(this._preventDefault=Ba,this):this._preventDefault},
timer:function(Ba,ua){this._timers.push(U(function(Ca){Ba({timestamp:Date.now(),elapsed:Ca})},ua))},events:function(Ba,ua,Ca){var $a=this,jb=new p.EventStream(Ca);Ca=function(Vb,Ic){$a.runAsync(null,()=>{var Yc;if(Yc="view"===Ba){var dd=$a._eventConfig.defaults;Yc=dd.prevent;dd=dd.allow;Yc=!1===Yc||!0===dd?!1:!0===Yc||!1===dd?!0:Yc?Yc[ua]:dd?!dd[ua]:$a.preventDefault()}Yc&&Vb.preventDefault();Yc=jb.receive;dd=(dd=$a._renderer)&&dd.canvas();if(dd){var nd=F($a);var xd=Vb.changedTouches?Vb.changedTouches[0]:
Vb;xd=q.point(xd,dd);xd[0]-=nd[0];xd[1]-=nd[1]}Vb.dataflow=$a;Vb.item=Ic;Vb.vega=D($a,Ic,xd);Yc.call(jb,Vb)})};var yb;if("timer"===Ba)G($a,"timer",ua)&&$a.timer(Ca,ua);else if("view"===Ba)G($a,"view",ua)&&$a.addEventListener(ua,Ca,Gc);else if("window"===Ba?G($a,"window",ua)&&"undefined"!==typeof window&&(yb=[window]):"undefined"!==typeof document&&G($a,"selector",ua)&&(yb=document.querySelectorAll(Ba)),yb){for(var Ub=0,Tb=yb.length;Ub<Tb;++Ub)yb[Ub].addEventListener(ua,Ca);z($a,yb,ua,Ca)}else $a.warn("Can not resolve event source: "+
Ba);return jb},finalize:function(){var Ba=this._tooltip,ua=this._timers,Ca=this._eventListeners,$a;for($a=ua.length;0<=--$a;)ua[$a].stop();for($a=Ca.length;0<=--$a;){var jb=Ca[$a];for(ua=jb.sources.length;0<=--ua;)jb.sources[ua].removeEventListener(jb.type,jb.handler)}Ba&&Ba.call(this,this._handler,null,null,null);return this},hover:function(Ba,ua){Ba=[Ba||"hover"];ua=[ua||"update",Ba[0]];this.on(this.events("view","mouseover",T),R,ca(Ba));this.on(this.events("view","mouseout",T),R,ca(ua));return this},
data:function(Ba,ua){return 2>arguments.length?h(this,Ba).values.value:x.call(this,Ba,p.changeset().remove(k.truthy).insert(ua))},change:x,insert:function(Ba,ua){return x.call(this,Ba,p.changeset().insert(ua))},remove:function(Ba,ua){return x.call(this,Ba,p.changeset().remove(ua))},scale:function(Ba){var ua=this._runtime.scales;k.hasOwnProperty(ua,Ba)||k.error("Unrecognized scale or projection: "+Ba);return ua[Ba].value},initialize:function(Ba,ua){const Ca=this;var $a=Ca._renderType;const jb=Ca._eventConfig.bind;
var yb=q.renderModule($a);Ba=Ca._el=Ba?bb(Ca,Ba,!0):null;b(Ca);yb||Ca.error("Unrecognized renderer type: "+$a);$a=yb.handler||q.CanvasHandler;yb=Ba?yb.renderer:yb.headless;Ca._renderer=yb?sa(Ca,Ca._renderer,Ba,yb):null;Ca._handler=Ia(Ca,Ca._handler,Ba,$a);Ca._redraw=!0;Ba&&"none"!==jb&&(ua=ua?Ca._elBind=bb(Ca,ua,!0):Ba.appendChild(M("form",{"class":"vega-bindings"})),Ca._bind.forEach(Ub=>{Ub.param.element&&"container"!==jb&&(Ub.element=bb(Ca,Ub.param.element,!!Ub.param.input))}),Ca._bind.forEach(Ub=>
{W(Ca,Ub.element||ua,Ub)}));return Ca},toImageURL:function(Ba,ua){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ba!==q.RenderType.Canvas&&Ba!==q.RenderType.SVG&&Ba!==q.RenderType.PNG&&k.error("Unrecognized image type: "+Ba);var $a=yield Ja(Ca,Ba,ua);Ba===q.RenderType.SVG?($a=$a.svg(),$a=new Blob([$a],{type:"image/svg+xml"}),$a=window.URL.createObjectURL($a)):$a=$a.canvas().toDataURL("image/png");return $a})},toCanvas:function(Ba,ua){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield Ja(Ca,
q.RenderType.Canvas,Ba,ua)).canvas()})},toSVG:function(Ba){const ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield Ja(ua,q.RenderType.SVG,Ba)).svg()})},getState:function(Ba){return this._runtime.getState(Ba||{data:ya,signals:oa,recurse:!0})},setState:function(Ba){this.runAsync(null,ua=>{ua._trigger=!1;ua._runtime.setState(Ba)},ua=>{ua._trigger=!0});return this}});w.View=db;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={}))})(this,function(w){function k(e,g,n,h,x){const O=e.length;let H=0,F;for(;g<O;++g)if(F=e[g],H||F!==n)x&&0<=x.indexOf(F)?--H:h&&0<=h.indexOf(F)&&++H;else break;return g}function p(e){const g=[],n=e.length;let h=0,x=0;for(;x<n;)x=k(e,x,",","[{","]}"),g.push(e.substring(h,
x).trim()),h=++x;if(0===g.length)throw"Empty event selector: "+e;return g}function q(e){if("["===e[0]){var g=e;var n=g.length;e=k(g,1,"]","[","]");if(e===n)throw"Empty between selector: "+g;n=p(g.substring(1,e));if(2!==n.length)throw"Between selector must have two elements: "+g;g=g.slice(e+1).trim();if("\x3e"!==g[0])throw"Expected '\x3e' after between selector: "+g;n=n.map(q);g=q(g.slice(1).trim());g.between?g={between:n,stream:g}:g.between=n}else{n={source:b};const h=[];let x=[0,0],O=0,H=0,F=e.length,
J=0,D;if("}"===e[F-1]){J=e.lastIndexOf("{");if(0<=J){try{x=t(e.substring(J+1,F-1))}catch(r){throw"Invalid throttle specification: "+e;}e=e.slice(0,J).trim();F=e.length}else throw"Unmatched right brace: "+e;J=0}if(!F)throw e;"@"===e[0]&&(O=++J);D=k(e,J,":");D<F&&(h.push(e.substring(H,D).trim()),H=J=++D);J=k(e,J,"[");if(J===F)h.push(e.substring(H,F).trim());else if(h.push(e.substring(H,J).trim()),g=[],H=++J,H===F)throw"Unmatched left bracket: "+e;for(;J<F;){J=k(e,J,"]");if(J===F)throw"Unmatched left bracket: "+
e;g.push(e.substring(H,J).trim());if(J<F-1&&"["!==e[++J])throw"Expected left bracket: "+e;H=++J}if(!(F=h.length)||m.test(h[F-1]))throw"Invalid event selector: "+e;1<F?(n.type=h[1],O?n.markname=h[0].slice(1):c[h[0]]?n.marktype=h[0]:n.source=h[0]):n.type=h[0];"!"===n.type.slice(-1)&&(n.consume=!0,n.type=n.type.slice(0,-1));null!=g&&(n.filter=g);x[0]&&(n.throttle=x[0]);x[1]&&(n.debounce=x[1]);g=n}return g}function t(e){const g=e.split(",");if(!e.length||2<g.length)throw e;return g.map(n=>{n=+n;if(n!==
n)throw e;return n})}const m=/[[\]{}]/,f={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let b,c;w.parseSelector=function(e,g,n){b=g||"view";c=n||f;return p(e.trim()).map(q)};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(42),L(45),L(27),L(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,m){function f(fa){return k.isObject(fa)?fa:{type:fa||"pad"}}function b(fa){k.isObject(fa)?fa=fa.signal?
fa:{top:+fa.top||0,bottom:+fa.bottom||0,left:+fa.left||0,right:+fa.right||0}:(fa=+fa||0,fa={top:fa,bottom:fa,left:fa,right:fa});return fa}function c(fa,Ha,gb,Fb){return null!=gb?(k.isObject(gb)&&!k.isArray(gb)||k.isArray(gb)&&gb.length&&k.isObject(gb[0])?fa.update[Ha]=gb:fa[Fb||"enter"][Ha]={value:gb},1):0}function e(fa,Ha,gb){for(const Fb in Ha)c(fa,Fb,Ha[Fb]);for(const Fb in gb)c(fa,Fb,gb[Fb],"update")}function g(fa,Ha,gb){for(const Fb in Ha)gb&&k.hasOwnProperty(gb,Fb)||(fa[Fb]=k.extend(fa[Fb]||
{},Ha[Fb]));return fa}function n(fa,Ha){return Ha&&(Ha.enter&&Ha.enter[fa]||Ha.update&&Ha.update[fa])}function h(fa,Ha,gb,Fb,Kb){const Ob={},oc={};let Oc,yc;yc="lineBreak";"text"!==Ha||null==Kb[yc]||n(yc,fa)||x(Ob,yc,Kb[yc]);if("legend"==gb||String(gb).startsWith("axis"))gb=null;gb="frame"===gb?Kb.group:"mark"===gb?k.extend({},Kb.mark,Kb[Ha]):null;for(yc in gb)(Ha=n(yc,fa)||("fill"===yc||"stroke"===yc)&&(n("fill",fa)||n("stroke",fa)))||x(Ob,yc,gb[yc]);k.array(Fb).forEach(fd=>{fd=Kb.style&&Kb.style[fd];
for(const Ec in fd)n(Ec,fa)||x(Ob,Ec,fd[Ec])});fa=k.extend({},fa);for(yc in Ob)gb=Ob[yc],gb.signal?(Oc=Oc||{})[yc]=gb:oc[yc]=gb;fa.enter=k.extend(oc,fa.enter);Oc&&(fa.update=k.extend(Oc,fa.update));return fa}function x(fa,Ha,gb){fa[Ha]=gb&&gb.signal?{signal:gb.signal}:{value:gb}}function O(fa){if(null!=fa.gradient)return H(fa);if(fa.signal)var Ha=`(${fa.signal})`;else fa.color?(Ha=fa.color,Ha=Ha.c?he("hcl",Ha.h,Ha.c,Ha.l):Ha.h||Ha.s?he("hsl",Ha.h,Ha.s,Ha.l):Ha.l||Ha.a?he("lab",Ha.l,Ha.a,Ha.b):Ha.r||
Ha.g||Ha.b?he("rgb",Ha.r,Ha.g,Ha.b):null):Ha=null!=fa.field?J(fa.field):void 0!==fa.value?k.stringValue(fa.value):void 0;if(null!=fa.scale){const gb=be(fa.scale);null!=fa.range?Ha=`lerp(_range(${gb}), ${+fa.range})`:(void 0!==Ha&&(Ha=`_scale(${gb}, ${Ha})`),fa.band&&(Ha=(Ha?Ha+"+":"")+`_bandwidth(${gb})`+(1===+fa.band?"":"*"+F(fa.band)),fa.extra&&(Ha=`(datum.extra ? _scale(${gb}, datum.extra.value) : ${Ha})`)),null==Ha&&(Ha="0"))}void 0===Ha&&(Ha=null);null!=fa.exponent&&(Ha=`pow(${Ha},${F(fa.exponent)})`);
null!=fa.mult&&(Ha+=`*${F(fa.mult)}`);null!=fa.offset&&(Ha+=`+${F(fa.offset)}`);fa.round&&(Ha=`round(${Ha})`);return Ha}function H(fa){const Ha=[fa.start,fa.stop,fa.count].map(gb=>null==gb?null:k.stringValue(gb));for(;Ha.length&&null==k.peek(Ha);)Ha.pop();Ha.unshift(be(fa.gradient));return`gradient(${Ha.join(",")})`}function F(fa){return k.isObject(fa)?"("+O(fa)+")":fa}function J(fa){return D(k.isObject(fa)?fa:{datum:fa})}function D(fa){let Ha;if(fa.signal){Ha="datum";var gb=fa.signal}else if(fa.group||
fa.parent){gb=Math.max(1,fa.level||1);for(Ha="item";0<gb--;)Ha+=".mark.group";fa.parent?(gb=fa.parent,Ha+=".datum"):gb=fa.group}else fa.datum?(Ha="datum",gb=fa.datum):k.error("Invalid field reference: "+k.stringValue(fa));fa.signal||(gb=k.isString(gb)?k.splitAccessPath(gb).map(k.stringValue).join("]["):D(gb));return Ha+"["+gb+"]"}function r(fa){let Ha="";fa.forEach(gb=>{const Fb=O(gb);Ha+=gb.test?`(${gb.test})?${Fb}:`:Fb});":"===k.peek(Ha)&&(Ha+="null");return Ha}function z(fa,Ha,gb,Fb,Kb,Ob){const oc=
{};Ob=Ob||{};Ob.encoders={$encode:oc};fa=h(fa,Ha,gb,Fb,Kb.config);for(const Fd in fa){gb=fa[Fd];Fb=Ha;var Oc=Ob,yc=Kb;const Be={},fe={};for(const Ae in gb)if(null!=gb[Ae]){var fd=G;var Ec=gb[Ae];Ec=k.isArray(Ec)?r(Ec):O(Ec);Be[Ae]=fd(Ec,yc,Oc,fe)}gb={$expr:{marktype:Fb,channels:Be},$fields:Object.keys(fe),$output:Object.keys(gb)};oc[Fd]=gb}return Ob}function G(fa,Ha,gb,Fb){fa=p.parseExpression(fa,Ha);fa.$fields.forEach(Kb=>Fb[Kb]=1);k.extend(gb,fa.$params);return fa.$expr}function T(fa,Ha){k.error(fa+
' for "outer" push: '+k.stringValue(Ha))}function R(fa,Ha){const gb=fa.name;if("outer"===fa.push)Ha.signals[gb]||T("No prior signal definition",gb),Ce.forEach(Fb=>{void 0!==fa[Fb]&&T("Invalid property ",Fb)});else{const Fb=Ha.addSignal(gb,fa.value);!1===fa.react&&(Fb.react=!1);fa.bind&&Ha.addBinding(gb,fa.bind)}}function ca(fa,Ha,gb,Fb){this.id=-1;this.type=fa;this.value=Ha;this.params=gb;Fb&&(this.parent=Fb)}function M(fa){const Ha={$ref:fa.id};0>fa.id&&(fa.refs=fa.refs||[]).push(Ha);return Ha}function ba(fa,
Ha){return Ha?{$field:fa,$name:Ha}:{$field:fa}}function W(fa,Ha){fa={$key:fa};Ha&&(fa.$flat=!0);return fa}function ea(fa,Ha){return(fa&&fa.signal?"$"+fa.signal:fa||"")+(fa&&Ha?"_":"")+(Ha&&Ha.signal?"$"+Ha.signal:Ha||"")}function La(fa){return fa&&fa.signal}function aa(fa){if(La(fa))return!0;if(k.isObject(fa))for(const Ha in fa)if(aa(fa[Ha]))return!0;return!1}function C(fa,Ha){return null!=fa?fa:Ha}function B(fa){return fa&&fa.signal||fa}function N(fa,Ha){return(fa.merge?Y:fa.stream?Aa:fa.type?sa:
k.error("Invalid stream specification: "+k.stringValue(fa)))(fa,Ha)}function Y(fa,Ha){const gb=fa.merge.map(Fb=>N(Fb,Ha));fa=la({merge:gb},fa,Ha);return Ha.addStream(fa).id}function Aa(fa,Ha){const gb=N(fa.stream,Ha);fa=la({stream:gb},fa,Ha);return Ha.addStream(fa).id}function sa(fa,Ha){if("timer"===fa.type){var gb=Ha.event("timer",fa.throttle);fa={between:fa.between,filter:fa.filter}}else gb=fa.source,gb=Ha.event.call(Ha,"scope"===gb?"view":gb||"view",fa.type);fa=la({stream:gb},fa,Ha);return 1===
Object.keys(fa).length?gb:Ha.addStream(fa).id}function la(fa,Ha,gb){let Fb=Ha.between;Fb&&(2!==Fb.length&&k.error('Stream "between" parameter must have 2 entries: '+k.stringValue(Ha)),fa.between=[N(Fb[0],gb),N(Fb[1],gb)]);Fb=Ha.filter?[].concat(Ha.filter):[];if(Ha.marktype||Ha.markname||Ha.markrole){var Kb=Fb,Ob=Ha.marktype,oc=Ha.markname,Oc=Ha.markrole;Kb.push.call(Kb,"event.item"+(Ob&&"*"!==Ob?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ob+"'":"")+(Oc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+
Oc+"'":"")+(oc?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+oc+"'":""))}"scope"===Ha.source&&Fb.push("inScope(event.item)");Fb.length&&(fa.filter=p.parseExpression("("+Fb.join(")\x26\x26(")+")",gb).$expr);null!=(Fb=Ha.throttle)&&(fa.throttle=+Fb);null!=(Fb=Ha.debounce)&&(fa.debounce=+Fb);Ha.consume&&(fa.consume=!0);return fa}function Ia(fa,Ha,gb){const Fb=fa.encode,Kb={target:gb};gb=fa.events;let Ob=fa.update,oc=[];gb||k.error("Signal update missing events specification.");k.isString(gb)&&(gb=q.parseSelector(gb,
Ha.isSubscope()?"scope":"view"));gb=k.array(gb).filter(Oc=>Oc.signal||Oc.scale?(oc.push(Oc),0):1);1<oc.length&&(oc=[bb(oc)]);gb.length&&oc.push(1<gb.length?{merge:gb}:gb[0]);null!=Fb&&(Ob&&k.error("Signal encode and update are mutually exclusive."),Ob="encode(item(),"+k.stringValue(Fb)+")");Kb.update=k.isString(Ob)?p.parseExpression(Ob,Ha):null!=Ob.expr?p.parseExpression(Ob.expr,Ha):null!=Ob.value?Ob.value:null!=Ob.signal?{$expr:vf,$params:{$value:Ha.signalRef(Ob.signal)}}:k.error("Invalid signal update specification.");
fa.force&&(Kb.options={force:!0});oc.forEach(Oc=>{var yc=Ha.addUpdate,fd=k.extend;Oc={source:Oc.signal?Ha.signalRef(Oc.signal):Oc.scale?Ha.scaleRef(Oc.scale):N(Oc,Ha)};return yc.call(Ha,fd.call(k,Oc,Kb))})}function bb(fa){return{signal:"["+fa.map(Ha=>Ha.scale?'scale("'+Ha.scale+'")':Ha.signal)+"]"}}function ib(fa,Ha){const gb=Ha.getSignal(fa.name);let Fb=fa.update;fa.init&&(Fb?k.error("Signals can not include both init and update expressions."):(Fb=fa.init,gb.initonly=!0));Fb&&(Fb=p.parseExpression(Fb,
Ha),gb.update=Fb.$expr,gb.params=Fb.$params);fa.on&&fa.on.forEach(Kb=>Ia(Kb,Ha,gb.id))}function Ja(fa,Ha){return k.isObject(fa)?fa.signal?Ha.signalRef(fa.signal):k.error("Unsupported object: "+k.stringValue(fa)):fa}function ma(fa,Ha){return fa.signal?Ha.signalRef(fa.signal):fa.map(gb=>Ja(gb,Ha))}function Fa(fa){k.error("Can not find data set: "+k.stringValue(fa))}function Pa(fa,Ha,gb){if(fa)return fa.signal?gb.signalRef(fa.signal):(k.isArray(fa)?qa:fa.fields?oa:ya)(fa,Ha,gb);null==Ha.domainMin&&null==
Ha.domainMax||k.error("No scale domain defined for domainMin/domainMax to override.")}function qa(fa,Ha,gb){return fa.map(Fb=>Ja(Fb,gb))}function ya(fa,Ha,gb){const Fb=gb.getData(fa.data);Fb||Fa(fa.data);return t.isDiscrete(Ha.type)?Fb.valuesRef(gb,fa.field,Ua(fa.sort,!1)):t.isQuantile(Ha.type)?Fb.domainRef(gb,fa.field):Fb.extentRef(gb,fa.field)}function oa(fa,Ha,gb){const Fb=fa.data,Kb=fa.fields.reduce((Ob,oc)=>{if(k.isString(oc))oc={data:Fb,field:oc};else if(k.isArray(oc)||oc.signal){var Oc=oc;
oc="_:vega:_"+kc++;const yc=rc({});k.isArray(Oc)?yc.value={$ingest:Oc}:Oc.signal&&(Oc="setdata("+k.stringValue(oc)+","+Oc.signal+")",yc.params.input=gb.signalRef(Oc));gb.addDataPipeline(oc,[yc,ob({})]);oc={data:oc,field:"data"}}Ob.push(oc);return Ob},[]);return(t.isDiscrete(Ha.type)?va:t.isQuantile(Ha.type)?eb:ra)(fa,gb,Kb)}function va(fa,Ha,gb){const Fb=Ua(fa.sort,!0);fa=gb.map(Ob=>{const oc=Ha.getData(Ob.data);oc||Fa(Ob.data);return oc.countsRef(Ha,Ob.field,Fb)});const Kb={groupby:re,pulse:fa};
Fb&&(fa=Fb.op||"count",gb=Fb.field?ea(fa,Fb.field):"count",Kb.ops=[Nc[fa]],Kb.fields=[Ha.fieldRef(gb)],Kb.as=[gb]);fa=Ha.add(Re(Kb));fa=Ha.add(rc({pulse:M(fa)}));gb=Ha.add(Yb({field:re,sort:Ha.sortRef(Fb),pulse:M(fa)}));return M(gb)}function Ua(fa,Ha){fa&&(fa.field||fa.op?fa.field||"count"===fa.op?Ha&&fa.field&&fa.op&&!Nc[fa.op]&&k.error("Multiple domain scales can not be sorted using "+fa.op):k.error("No field provided for sort aggregate op: "+fa.op):k.isObject(fa)?fa.field="key":fa={field:"key"});
return fa}function eb(fa,Ha,gb){fa=gb.map(Fb=>{const Kb=Ha.getData(Fb.data);Kb||Fa(Fb.data);return Kb.domainRef(Ha,Fb.field)});return M(Ha.add(ic({values:fa})))}function ra(fa,Ha,gb){fa=gb.map(Fb=>{const Kb=Ha.getData(Fb.data);Kb||Fa(Fb.data);return Kb.extentRef(Ha,Fb.field)});return M(Ha.add(Bb({extents:fa})))}function Oa(fa,Ha,gb){const Fb=Ha.config.range;let Kb=fa.range;if(Kb.signal)return Ha.signalRef(Kb.signal);if(k.isString(Kb)){if(Fb&&k.hasOwnProperty(Fb,Kb))return fa=k.extend({},fa,{range:Fb[Kb]}),
Oa(fa,Ha,gb);"width"===Kb?Kb=[0,{signal:"width"}]:"height"===Kb?Kb=t.isDiscrete(fa.type)?[0,{signal:"height"}]:[{signal:"height"},0]:k.error("Unrecognized scale range value: "+k.stringValue(Kb))}else{if(Kb.scheme){gb.scheme=k.isArray(Kb.scheme)?ma(Kb.scheme,Ha):Ja(Kb.scheme,Ha);Kb.extent&&(gb.schemeExtent=ma(Kb.extent,Ha));Kb.count&&(gb.schemeCount=Ja(Kb.count,Ha));return}if(Kb.step){gb.rangeStep=Ja(Kb.step,Ha);return}if(t.isDiscrete(fa.type)&&!k.isArray(Kb))return Pa(Kb,fa,Ha);k.isArray(Kb)||k.error("Unsupported range type: "+
k.stringValue(Kb))}return Kb.map(Ob=>(k.isArray(Ob)?ma:Ja)(Ob,Ha))}function ja(fa,Ha,gb){return k.isArray(fa)?fa.map(Fb=>ja(Fb,Ha,gb)):k.isObject(fa)?fa.signal?gb.signalRef(fa.signal):"fit"===Ha?fa:k.error("Unsupported parameter object: "+k.stringValue(fa)):fa}function U(fa){fa.type="group";fa.interactive=fa.interactive||!1;return fa}function ka(fa,Ha){const gb=(Fb,Kb)=>C(fa[Fb],C(Ha[Fb],Kb));gb.isVertical=Fb=>"vertical"===C(fa.direction,Ha.direction||(Fb?Ha.symbolDirection:Ha.gradientDirection));
gb.gradientLength=()=>C(fa.gradientLength,Ha.gradientLength||Ha.gradientWidth);gb.gradientThickness=()=>C(fa.gradientThickness,Ha.gradientThickness||Ha.gradientHeight);gb.entryColumns=()=>C(fa.columns,C(Ha.columns,+gb.isVertical(!0)));return gb}function wa(fa,Ha){return(fa=Ha&&(Ha.update&&Ha.update[fa]||Ha.enter&&Ha.enter[fa]))&&fa.signal?fa:fa?fa.value:null}function Ta(fa,Ha,gb){return`item.anchor === '${"start"}' ? ${fa} : item.anchor === '${"end"}' ? ${Ha} : ${gb}`}function db(fa,Ha){return Ha?
fa?k.isObject(fa)?Object.assign({},fa,{offset:db(fa.offset,Ha)}):{value:fa,offset:Ha}:Ha:fa}function lb(fa,Ha){Ha?(fa.name=Ha.name,fa.style=Ha.style||fa.style,fa.interactive=!!Ha.interactive,fa.encode=g(fa.encode,Ha,pd)):fa.interactive=!1;return fa}function nb(fa,Ha,gb,Fb){fa=ka(fa,gb);gb=fa.isVertical();var Kb=fa.gradientThickness();const Ob=fa.gradientLength();let oc,Oc,yc;gb?(gb=[0,1],Oc=[0,0],yc=Kb,Kb=Ob):(gb=[0,0],Oc=[1,0],yc=Ob);Kb={enter:oc={opacity:qd,x:qd,y:qd,width:Vd(yc),height:Vd(Kb)},
update:k.extend({},oc,{opacity:Yd,fill:{gradient:Ha,start:gb,stop:Oc}}),exit:{opacity:qd}};e(Kb,{stroke:fa("gradientStrokeColor"),strokeWidth:fa("gradientStrokeWidth")},{opacity:fa("gradientOpacity")});return lb({type:"rect",role:"legend-gradient",encode:Kb},Fb)}function Mb(fa,Ha,gb,Fb,Kb){fa=ka(fa,gb);const Ob=fa.isVertical();gb=fa.gradientThickness();const oc=fa.gradientLength();var Oc;let yc,fd,Ec,Fd="";Ob?(Oc="y",fd="y2",yc="x",Ec="width",Fd="1-"):(Oc="x",fd="x2",yc="y",Ec="height");Ha={opacity:qd,
fill:{scale:Ha,field:"value"}};Ha[Oc]={signal:Fd+"datum.perc",mult:oc};Ha[yc]=qd;Ha[fd]={signal:Fd+"datum.perc2",mult:oc};Ha[Ec]=Vd(gb);Oc={enter:Ha,update:k.extend({},Ha,{opacity:Yd}),exit:{opacity:qd}};e(Oc,{stroke:fa("gradientStrokeColor"),strokeWidth:fa("gradientStrokeWidth")},{opacity:fa("gradientOpacity")});return lb({type:"rect",role:"legend-band",key:"value",from:Kb,encode:Oc},Fb)}function $b(fa,Ha,gb,Fb){const Kb=ka(fa,Ha);var Ob=Kb.isVertical();const oc=Vd(Kb.gradientThickness()),Oc=Kb.gradientLength();
let yc=Kb("labelOverlap"),fd,Ec,Fd,Be="";const fe={enter:fd={opacity:qd},update:Ec={opacity:Yd,text:{field:"label"}},exit:{opacity:qd}};e(fe,{fill:Kb("labelColor"),fillOpacity:Kb("labelOpacity"),font:Kb("labelFont"),fontSize:Kb("labelFontSize"),fontStyle:Kb("labelFontStyle"),fontWeight:Kb("labelFontWeight"),limit:C(fa.labelLimit,Ha.gradientLabelLimit)});Ob?(fd.align={value:"left"},fd.baseline=Ec.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ob="y",Fd="x",Be="1-"):
(fd.align=Ec.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},fd.baseline={value:"top"},Ob="x",Fd="y");fd[Ob]=Ec[Ob]={signal:Be+"datum.perc",mult:Oc};fd[Fd]=Ec[Fd]=oc;oc.offset=C(fa.labelOffset,Ha.gradientLabelOffset)||0;yc=yc?{separation:Kb("labelSeparation"),method:yc,order:"datum.index"}:void 0;return lb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Fb,encode:fe,overlap:yc},gb)}function Gc(fa,Ha,gb,Fb,Kb){var Ob=ka(fa,Ha);const oc=gb.entries,
Oc=!(!oc||!oc.interactive),yc=oc?oc.name:void 0,fd=Ob("clipHeight"),Ec=Ob("symbolOffset"),Fd={data:"value"},Be=`(${Kb}) ? datum.${"offset"} : datum.${"size"}`,fe=fd?Vd(fd):{field:"size"},Ae=`max(1, ${Kb})`;let Zd,vd;fe.mult=.5;var Kd={enter:Zd={opacity:qd,x:{signal:Be,mult:.5,offset:Ec},y:fe},update:vd={opacity:Yd,x:Zd.x,y:Zd.y},exit:{opacity:qd}};let ee=null,we=null;fa.fill||(ee=Ha.symbolBaseFillColor,we=Ha.symbolBaseStrokeColor);e(Kd,{fill:Ob("symbolFillColor",ee),shape:Ob("symbolType"),size:Ob("symbolSize"),
stroke:Ob("symbolStrokeColor",we),strokeDash:Ob("symbolDash"),strokeDashOffset:Ob("symbolDashOffset"),strokeWidth:Ob("symbolStrokeWidth")},{opacity:Ob("symbolOpacity")});Jc.forEach(ye=>{fa[ye]&&(vd[ye]=Zd[ye]={scale:fa[ye],field:"value"})});Ha=lb({type:"symbol",role:"legend-symbol",key:"value",from:Fd,clip:fd?!0:void 0,encode:Kd},gb.symbols);Kd=Vd(Ec);Kd.offset=Ob("labelOffset");Kd={enter:Zd={opacity:qd,x:{signal:Be,offset:Kd},y:fe},update:vd={opacity:Yd,text:{field:"label"},x:Zd.x,y:Zd.y},exit:{opacity:qd}};
e(Kd,{align:Ob("labelAlign"),baseline:Ob("labelBaseline"),fill:Ob("labelColor"),fillOpacity:Ob("labelOpacity"),font:Ob("labelFont"),fontSize:Ob("labelFontSize"),fontStyle:Ob("labelFontStyle"),fontWeight:Ob("labelFontWeight"),limit:Ob("labelLimit")});gb=lb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Fd,encode:Kd},gb.labels);Kd={enter:{noBound:{value:!fd},width:qd,height:fd?Vd(fd):qd,opacity:qd},exit:{opacity:qd},update:vd={opacity:Yd,row:{signal:null},column:{signal:null}}};
Ob.isVertical(!0)?(Ob=`ceil(item.mark.items.length / ${Ae})`,vd.row.signal=`${"datum.index"}%${Ob}`,vd.column.signal=`floor(${"datum.index"} / ${Ob})`,Ob={field:["row","datum.index"]}):(vd.row.signal=`floor(${"datum.index"} / ${Ae})`,vd.column.signal=`${"datum.index"} % ${Ae}`,Ob={field:"datum.index"});vd.column.signal=`(${Kb})?${vd.column.signal}:${"datum.index"}`;Fb={facet:{data:Fb,name:"value",groupby:"index"}};return U({role:"scope",from:Fb,encode:g(Kd,oc,pd),marks:[Ha,gb],name:yc,interactive:Oc,
sort:Ob})}function zc(fa,Ha){fa=ka(fa,Ha);return{align:fa("gridAlign"),columns:fa.entryColumns(),center:{row:!0,column:!1},padding:{row:fa("rowPadding"),column:fa("columnPadding")}}}function Bc(fa,Ha,gb,Fb){Ha=ka(fa,Ha);const Kb={enter:{opacity:qd},update:{opacity:Yd,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:qd}};e(Kb,{orient:Ha("titleOrient"),_anchor:Ha("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},
angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:ed},baseline:{signal:td},text:fa.title,fill:Ha("titleColor"),fillOpacity:Ha("titleOpacity"),font:Ha("titleFont"),fontSize:Ha("titleFontSize"),fontStyle:Ha("titleFontStyle"),fontWeight:Ha("titleFontWeight"),limit:Ha("titleLimit"),lineHeight:Ha("titleLineHeight")},{align:Ha("titleAlign"),baseline:Ha("titleBaseline")});return lb({type:"text",
role:"legend-title",style:"guide-title",from:Fb,encode:Kb},gb)}function uc(fa,Ha){let gb;k.isObject(fa)&&(fa.signal?gb=fa.signal:fa.path?gb="pathShape("+id(fa.path)+")":fa.sphere&&(gb="geoShape("+id(fa.sphere)+', {type: "Sphere"})'));return gb?Ha.signalRef(gb):!!fa}function id(fa){return k.isObject(fa)&&fa.signal?fa.signal:k.stringValue(fa)}function Hb(fa){const Ha=fa.role||"";return Ha.indexOf("axis")&&Ha.indexOf("legend")&&Ha.indexOf("title")?"group"===fa.type?"scope":Ha||"mark":Ha}function Ab(fa){return{marktype:fa.type,
name:fa.name||void 0,role:fa.role||Hb(fa),zindex:+fa.zindex||void 0,aria:fa.aria,description:fa.description}}function dc(fa,Ha){return fa&&fa.signal?Ha.signalRef(fa.signal):!1===fa?!1:!0}function Wb(fa,Ha){const gb=m.definition(fa.type);gb||k.error("Unrecognized transform type: "+k.stringValue(fa.type));var Fb=gb.type.toLowerCase();var Kb=mc(gb,fa,Ha);Fb=new ca(Fb,null,Kb,void 0);fa.signal&&Ha.addSignal(fa.signal,Ha.proxy(Fb));Fb.metadata=gb.metadata||{};return Fb}function mc(fa,Ha,gb){const Fb={},
Kb=fa.params.length;for(let Ob=0;Ob<Kb;++Ob){const oc=fa.params[Ob];Fb[oc.name]=Kc(oc,Ha,gb)}return Fb}function Kc(fa,Ha,gb){const Fb=fa.type,Kb=Ha[fa.name];if("index"===Fb)return Sc(fa,Ha,gb);if(void 0===Kb)fa.required&&k.error("Missing required "+k.stringValue(Ha.type)+" parameter: "+k.stringValue(fa.name));else return"param"===Fb?jd(fa,Ha,gb):"projection"===Fb?gb.projectionRef(Ha[fa.name]):fa.array&&!La(Kb)?Kb.map(Ob=>Fc(fa,Ob,gb)):Fc(fa,Kb,gb)}function Fc(fa,Ha,gb){const Fb=fa.type;return La(Ha)?
"expr"===Fb?k.error("Expression references can not be signals."):"field"===Fb?gb.fieldRef(Ha):"compare"===Fb?gb.compareRef(Ha):gb.signalRef(Ha.signal):(fa=fa.expr||"field"===Fb)&&Ha&&Ha.expr?gb.exprRef(Ha.expr,Ha.as):fa&&Ha&&Ha.field?ba(Ha.field,Ha.as):"expr"===Fb?p.parseExpression(Ha,gb):"data"===Fb?M(gb.getData(Ha).values):"field"===Fb?ba(Ha):"compare"===Fb?gb.compareRef(Ha):Ha}function Sc(fa,Ha,gb){k.isString(Ha.from)||k.error('Lookup "from" parameter must be a string literal.');return gb.getData(Ha.from).lookupRef(gb,
Ha.key)}function jd(fa,Ha,gb){Ha=Ha[fa.name];return fa.array?(k.isArray(Ha)||k.error("Expected an array of sub-parameters. Instead: "+k.stringValue(Ha)),Ha.map(Fb=>$d(fa,Fb,gb))):$d(fa,Ha,gb)}function $d(fa,Ha,gb){const Fb=fa.params.length;let Kb;for(let Ob=0;Ob<Fb;++Ob){Kb=fa.params[Ob];for(const oc in Kb.key)if(Kb.key[oc]!==Ha[oc]){Kb=null;break}if(Kb)break}Kb||k.error("Unsupported parameter: "+k.stringValue(Ha));fa=k.extend(mc(Kb,Ha,gb),Kb.key);return M(gb.add(Rd(fa)))}function Ba(fa,Ha,gb){let Fb,
Kb,Ob,oc;if(!fa)Ob=M(gb.add(rc(null,[{}])));else if(Fb=fa.facet)Ha||k.error("Only group marks can be faceted."),null!=Fb.field?Ob=oc=ua(Fb,gb):(fa.data?oc=M(gb.getData(fa.data).aggregate):(Ha=Wb(k.extend({type:"aggregate",groupby:k.array(Fb.groupby)},Fb.aggregate),gb),Ha.params.key=gb.keyRef(Fb.groupby),Ha.params.pulse=ua(Fb,gb),Ob=oc=M(gb.add(Ha))),Kb=gb.keyRef(Fb.groupby,!0));Ob||(Ob=ua(fa,gb));return{key:Kb,pulse:Ob,parent:oc}}function ua(fa,Ha){return fa.$ref?fa:fa.data&&fa.data.$ref?fa.data:
M(Ha.getData(fa.data).output)}function Ca(fa,Ha,gb,Fb,Kb){this.scope=fa;this.input=Ha;this.output=gb;this.values=Fb;this.aggregate=Kb;this.index={}}function $a(fa){return k.isString(fa)?fa:null}function jb(fa,Ha,gb){const Fb=ea(gb.op,gb.field);let Kb;if(Ha.ops)for(let Ob=0,oc=Ha.as.length;Ob<oc;++Ob){if(Ha.as[Ob]===Fb)return}else Ha.ops=["count"],Ha.fields=[null],Ha.as=["count"];gb.op&&(Ha.ops.push((Kb=gb.op.signal)?fa.signalRef(Kb):gb.op),Ha.fields.push(fa.fieldRef(gb.field)),Ha.as.push(Fb))}function yb(fa,
Ha,gb,Fb,Kb,Ob,oc){gb=Ha[gb]||(Ha[gb]={});var Oc=k.isObject(Ob)?("descending"===Ob.order?"-":"+")+ea(Ob.op,Ob.field):"";let yc=$a(Kb);if(null!=yc){fa=Ha.scope;yc+=Oc?"|"+Oc:"";var fd=gb[yc]}fd||(fd=Ob?{field:re,pulse:Ha.countsRef(fa,Kb,Ob)}:{field:fa.fieldRef(Kb),pulse:M(Ha.output)},Oc&&(fd.sort=fa.sortRef(Ob)),fa=fa.add(new ca(Fb,void 0,fd,void 0)),oc&&(Ha.index[Kb]=fa),fd=M(fa),null!=yc&&(gb[yc]=fd));return fd}function Ub(fa,Ha,gb){var Fb=fa.from.facet;const Kb=Fb.name,Ob=ua(Fb,Ha);let oc;Fb.name||
k.error("Facet must have a name: "+k.stringValue(Fb));Fb.data||k.error("Facet must reference a data set: "+k.stringValue(Fb));Fb.field?oc=Ha.add(Md({field:Ha.fieldRef(Fb.field),pulse:Ob})):Fb.groupby?oc=Ha.add(zb({key:Ha.keyRef(Fb.groupby),group:M(Ha.proxy(gb.parent)),pulse:Ob})):k.error("Facet must specify groupby or field: "+k.stringValue(Fb));Ha=Ha.fork();gb=Ha.add(rc());Fb=Ha.add(ob({pulse:M(gb)}));Ha.addData(Kb,new Ca(Ha,gb,gb,Fb));Ha.addSignal("parent",null);oc.params.subflow={$subflow:Ha.parse(fa).toRuntime()}}
function Tb(fa,Ha,gb){gb=Ha.add(Md({pulse:gb.pulse}));Ha=Ha.fork();Ha.add(ob());Ha.addSignal("parent",null);gb.params.subflow={$subflow:Ha.parse(fa).toRuntime()}}function Vb(fa,Ha,gb){const Fb=fa.remove,Kb=fa.insert,Ob=fa.toggle,oc=fa.modify,Oc=fa.values,yc=Ha.add(new ca("operator",void 0,void 0,void 0));fa="if("+fa.trigger+',modify("'+gb+'",'+[Kb,Fb,Ob,oc,Oc].map(fd=>null==fd?"null":fd).join(",")+"),0)";Ha=p.parseExpression(fa,Ha);yc.update=Ha.$expr;yc.params=Ha.$params}function Ic(fa,Ha){var gb=
Hb(fa),Fb="group"===fa.type,Kb=fa.from&&fa.from.facet;const Ob=fa.overlap;let oc=fa.layout||"scope"===gb||"frame"===gb,Oc,yc,fd,Ec,Fd,Be;const fe="mark"===gb||oc||Kb,Ae=Ba(fa.from,Fb,Ha);yc=Ha.add(Ad({key:Ae.key||(fa.key?ba(fa.key):void 0),pulse:Ae.pulse,clean:!Fb}));const Zd=M(yc);yc=fd=Ha.add(rc({pulse:Zd}));yc=Ha.add(rb({markdef:Ab(fa),interactive:dc(fa.interactive,Ha),clip:uc(fa.clip,Ha),context:{$context:!0},groups:Ha.lookup(),parent:Ha.signals.parent?Ha.signalRef("parent"):null,index:Ha.markpath(),
pulse:M(yc)}));var vd=M(yc);yc=Ec=Ha.add(xa(z(fa.encode,fa.type,gb,fa.style,Ha,{mod:!1,pulse:vd})));yc.params.parent=Ha.encode();fa.transform&&fa.transform.forEach(ee=>{ee=Wb(ee,Ha);const we=ee.metadata;(we.generates||we.changes)&&k.error("Mark transforms should not generate new data.");we.nomod||(Ec.params.mod=!0);ee.params.pulse=M(yc);Ha.add(yc=ee)});fa.sort&&(yc=Ha.add(Ea({sort:Ha.compareRef(fa.sort),pulse:M(yc)})));gb=M(yc);if(Kb||oc)oc=Ha.add(Ib({layout:Ha.objectProperty(fa.layout),legends:Ha.legends,
mark:vd,pulse:gb})),Be=M(oc);const Kd=Ha.add(Qb({mark:vd,pulse:Be||gb}));vd=M(Kd);Fb&&(fe&&(Oc=Ha.operators,Oc.pop(),oc&&Oc.pop()),Ha.pushState(gb,Be||vd,Zd),Kb?Ub(fa,Ha,Ae):fe?Tb(fa,Ha,Ae):Ha.parse(fa),Ha.popState(),fe&&(oc&&Oc.push(oc),Oc.push(Kd)));Ob&&(vd=Yc(Ob,vd,Ha));Fb=Ha.add(Se({pulse:vd}));Kb=Ha.add(ob({pulse:M(Fb)},void 0,Ha.parent()));null!=fa.name&&(Fd=fa.name,Ha.addData(Fd,new Ca(Ha,fd,Fb,Kb)),fa.on&&fa.on.forEach(ee=>{(ee.insert||ee.remove||ee.toggle)&&k.error("Marks only support modify triggers.");
Vb(ee,Ha,Fd)}))}function Yc(fa,Ha,gb){const Fb=fa.method,Kb=fa.bound,Ob=fa.separation;Ha={separation:La(Ob)?gb.signalRef(Ob.signal):Ob,method:La(Fb)?gb.signalRef(Fb.signal):Fb,pulse:Ha};fa.order&&(Ha.sort=gb.compareRef({field:fa.order}));Kb&&(fa=Kb.tolerance,Ha.boundTolerance=La(fa)?gb.signalRef(fa.signal):+fa,Ha.boundScale=gb.scaleRef(Kb.scale),Ha.boundOrient=Kb.orient);return M(gb.add(Uc(Ha)))}function dd(fa,Ha){const gb=Ha.config.legend,Fb=fa.encode||{},Kb=ka(fa,gb),Ob=Fb.legend||{},oc=Ob.name||
void 0,Oc=Ob.interactive,yc=Ob.style,fd={};let Ec=0,Fd,Be;Jc.forEach(Kd=>fa[Kd]?(fd[Kd]=fa[Kd],Ec=Ec||fa[Kd]):0);Ec||k.error("Missing valid scale for legend.");var fe=nd(fa,Ha.scaleType(Ec));const Ae={title:null!=fa.title,scales:fd,type:fe,vgrad:"symbol"!==fe&&Kb.isVertical()},Zd=M(Ha.add(rc(null,[Ae]))),vd=M(Ha.add(gd(Be={type:fe,scale:Ha.scaleRef(Ec),count:Ha.objectProperty(Kb("tickCount")),limit:Ha.property(Kb("symbolLimit")),values:Ha.objectProperty(fa.values),minstep:Ha.property(fa.tickMinStep),
formatType:Ha.property(fa.formatType),formatSpecifier:Ha.property(fa.format)})));"gradient"===fe?(fe=[nb(fa,Ec,gb,Fb.gradient),$b(fa,gb,Fb.labels,vd)],Be.count=Be.count||Ha.signalRef(`max(2,2*floor((${B(Kb.gradientLength())})/100))`)):"discrete"===fe?fe=[Mb(fa,Ec,gb,Fb.gradient,vd),$b(fa,gb,Fb.labels,vd)]:(Fd=zc(fa,gb),fe=[Gc(fa,gb,Fb,vd,B(Fd.columns))],Be.size=Xd(fa,Ha,fe[0].marks));fe=[U({role:"legend-entry",from:Zd,encode:{enter:{x:{value:0},y:{value:0}}},marks:fe,layout:Fd,interactive:Oc})];Ae.title&&
fe.push(Bc(fa,gb,Fb.title,Zd));return Ic(U({role:"legend",from:Zd,encode:g(Nd(Kb,fa,gb),Ob,pd),marks:fe,aria:Kb("aria"),description:Kb("description"),zindex:Kb("zindex"),name:oc,interactive:Oc,style:yc}),Ha)}function nd(fa,Ha){let gb=fa.type||"symbol";fa.type||1!==xd(fa)||!fa.fill&&!fa.stroke||(gb=t.isContinuous(Ha)?"gradient":t.isDiscretizing(Ha)?"discrete":"symbol");return"gradient"!==gb?gb:t.isDiscretizing(Ha)?"discrete":"gradient"}function xd(fa){return Jc.reduce((Ha,gb)=>Ha+(fa[gb]?1:0),0)}function Nd(fa,
Ha,gb){const Fb={enter:{},update:{}};e(Fb,{orient:fa("orient"),offset:fa("offset"),padding:fa("padding"),titlePadding:fa("titlePadding"),cornerRadius:fa("cornerRadius"),fill:fa("fillColor"),stroke:fa("strokeColor"),strokeWidth:gb.strokeWidth,strokeDash:gb.strokeDash,x:fa("legendX"),y:fa("legendY"),format:Ha.format,formatType:Ha.formatType});return Fb}function Xd(fa,Ha,gb){const Fb=B(ge("size",fa,gb));fa=B(ge("strokeWidth",fa,gb));(gb=wa("fontSize",gb[1].encode))||(gb=(gb=Ha.config.style["guide-label"])&&
gb.fontSize);gb=B(gb);return p.parseExpression(`max(ceil(sqrt(${Fb})+${fa}),${gb})`,Ha)}function ge(fa,Ha,gb){return Ha[fa]?`scale("${Ha[fa]}",datum)`:wa(fa,gb[0].encode)}function le(fa,Ha){fa=k.isString(fa)?{text:fa}:fa;const gb=ka(fa,Ha.config.title);var Fb=fa.encode||{},Kb=Fb.group||{};const Ob=Kb.name||void 0,oc=Kb.interactive,Oc=Kb.style,yc=[],fd=M(Ha.add(rc(null,[{}])));var Ec=yc.push,Fd=fa;var Be=(Be=fa.encode)&&Be.title||k.extend({name:fa.name,interactive:fa.interactive,style:fa.style},Be);
var fe={value:0};fe={enter:{opacity:fe},update:{opacity:{value:1}},exit:{opacity:fe}};e(fe,{text:Fd.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:gb("dx"),dy:gb("dy"),fill:gb("color"),font:gb("font"),fontSize:gb("fontSize"),fontStyle:gb("fontStyle"),fontWeight:gb("fontWeight"),lineHeight:gb("lineHeight")},{align:gb("align"),angle:gb("angle"),baseline:gb("baseline")});Fd=lb({type:"text",role:"title-text",
style:"group-title",from:fd,encode:fe},Be);Ec.call(yc,Fd);fa.subtitle&&(Ec=yc.push,Fb=Fb.subtitle,Fd={value:0},Fd={enter:{opacity:Fd},update:{opacity:{value:1}},exit:{opacity:Fd}},e(Fd,{text:fa.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:gb("dx"),dy:gb("dy"),fill:gb("subtitleColor"),font:gb("subtitleFont"),fontSize:gb("subtitleFontSize"),fontStyle:gb("subtitleFontStyle"),fontWeight:gb("subtitleFontWeight"),
lineHeight:gb("subtitleLineHeight")},{align:gb("align"),angle:gb("angle"),baseline:gb("baseline")}),fa=lb({type:"text",role:"title-subtitle",style:"group-subtitle",from:fd,encode:Fd},Fb),Ec.call(yc,fa));fa={enter:{},update:{}};e(fa,{orient:gb("orient"),anchor:gb("anchor"),align:{signal:Od},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:gb("limit"),frame:gb("frame"),offset:gb("offset")||0,padding:gb("subtitlePadding")});Kb=g(fa,Kb,pd);return Ic(U({role:"title",
from:fd,encode:Kb,marks:yc,aria:gb("aria"),description:gb("description"),zindex:gb("zindex"),name:Ob,interactive:oc,style:Oc}),Ha)}function qe(fa,Ha){const gb=[];fa.transform&&fa.transform.forEach(Fb=>{gb.push(Wb(Fb,Ha))});fa.on&&fa.on.forEach(Fb=>{Vb(Fb,Ha,fa.name)});Ha.addDataPipeline(fa.name,wd(fa,Ha,gb))}function wd(fa,Ha,gb){const Fb=[];let Kb=null,Ob=!1,oc=!1,Oc,yc,fd,Ec;fa.values?La(fa.values)||aa(fa.format)?(Fb.push(gf(Ha,fa)),Fb.push(Kb=qf())):Fb.push(Kb=qf({$ingest:fa.values,$format:fa.format})):
fa.url?aa(fa.url)||aa(fa.format)?(Fb.push(gf(Ha,fa)),Fb.push(Kb=qf())):Fb.push(Kb=qf({$request:fa.url,$format:fa.format})):fa.source&&(Kb=Oc=k.array(fa.source).map(Fd=>M(Ha.getData(Fd).output)),Fb.push(null));fa=0;for(yc=gb.length;fa<yc;++fa)fd=gb[fa],Ec=fd.metadata,Kb||Ec.source||Fb.push(Kb=qf()),Fb.push(fd),Ec.generates&&(oc=!0),Ec.modifies&&!oc&&(Ob=!0),Ec.source?Kb=fd:Ec.changes&&(Kb=null);Oc&&(yc=Oc.length-1,Fb[0]=Me({derive:Ob,pulse:yc?Oc:Oc[0]}),(Ob||yc)&&Fb.splice(1,0,qf()));Kb||Fb.push(qf());
Fb.push(ob({}));return Fb}function qf(fa){fa=rc({},fa);fa.metadata={source:!0};return fa}function gf(fa,Ha){return qc({url:Ha.url?fa.property(Ha.url):void 0,async:Ha.async?fa.property(Ha.async):void 0,values:Ha.values?fa.property(Ha.values):void 0,format:fa.objectProperty(Ha.format)})}function te(fa,Ha,gb,Fb){let Kb;if(Ha&&k.hasOwnProperty(Ha,fa))return Ha[fa];if(k.hasOwnProperty(gb,fa))return gb[fa];if(fa.startsWith("title")){switch(fa){case "titleColor":Kb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Kb=
fa[5].toLowerCase()+fa.slice(6)}return Fb["guide-title"][Kb]}if(fa.startsWith("label")){switch(fa){case "labelColor":Kb="fill";break;case "labelFont":case "labelFontSize":Kb=fa[5].toLowerCase()+fa.slice(6)}return Fb["guide-label"][Kb]}return null}function We(fa){const Ha={};for(const gb of fa)if(gb)for(const Fb in gb)Ha[Fb]=1;return Object.keys(Ha)}function za(fa,Ha,gb,Fb,Kb){return{signal:'flush(range("'+fa+'"), scale("'+fa+'", datum.value), '+Ha+","+gb+","+Fb+","+Kb+")"}}function Za(fa,Ha,gb,Fb){const Kb=
(oc,Oc)=>null!=oc?(gb.update[Oc]=bc(Vd(oc),gb.update[Oc]),!1):n(Oc,Fb)?!1:!0,Ob=Kb(fa("titleX"),"x");fa=Kb(fa("titleY"),"y");gb.enter.auto=fa===Ob?Vd(fa):Rc(Ha,Vd(fa),Vd(Ob))}function tb(fa,Ha,gb){const Fb=k.array(fa.signals),Kb=k.array(fa.scales);gb||Fb.forEach(Ob=>R(Ob,Ha));k.array(fa.projections).forEach(Ob=>{const oc=Ha.config.projection||{},Oc={};for(const yc in Ob)"name"!==yc&&(Oc[yc]=ja(Ob[yc],yc,Ha));for(const yc in oc)null==Oc[yc]&&(Oc[yc]=ja(oc[yc],yc,Ha));Ha.addProjection(Ob.name,Oc)});
Kb.forEach(Ob=>{const oc=Ob.type||"linear";t.isValidScaleType(oc)||k.error("Unrecognized scale type: "+k.stringValue(oc));Ha.addScale(Ob.name,{type:oc,domain:void 0})});k.array(fa.data).forEach(Ob=>qe(Ob,Ha));Kb.forEach(Ob=>{const oc=Ha.getScale(Ob.name).params;let Oc;oc.domain=Pa(Ob.domain,Ob,Ha);null!=Ob.range&&(oc.range=Oa(Ob,Ha,oc));if(null!=Ob.interpolate){var yc=Ob.interpolate;oc.interpolate=Ja(yc.type||yc);null!=yc.gamma&&(oc.interpolateGamma=Ja(yc.gamma))}null!=Ob.nice&&(yc=Ob.nice,yc=k.isObject(yc)?
{interval:Ja(yc.interval),step:Ja(yc.step)}:Ja(yc),oc.nice=yc);null!=Ob.bins&&(yc=Ob.bins,yc=yc.signal||k.isArray(yc)?ma(yc,Ha):Ha.objectProperty(yc),oc.bins=yc);for(Oc in Ob)k.hasOwnProperty(oc,Oc)||"name"===Oc||(oc[Oc]=Ja(Ob[Oc],Ha))});(gb||Fb).forEach(Ob=>ib(Ob,Ha));k.array(fa.axes).forEach(Ob=>{var oc=Ha.config,Oc=oc.style,yc=oc.axis,fd="band"===Ha.scaleType(Ob.scale)&&oc.axisBand,Ec=Ob.orient,Fd;if(La(Ec)){const da=We([oc.axisX,oc.axisY]),Ma=We([oc.axisTop,oc.axisBottom,oc.axisLeft,oc.axisRight]);
var Be={};for(Fd of da)Be[Fd]=Rc(Ec,te(Fd,oc.axisX,yc,Oc),te(Fd,oc.axisY,yc,Oc));var fe={};for(Fd of Ma){var Ae=fe,Zd=Fd,vd=Ec.signal,Kd=te(Fd,oc.axisTop,yc,Oc),ee=te(Fd,oc.axisBottom,yc,Oc),we=te(Fd,oc.axisLeft,yc,Oc),ye=te(Fd,oc.axisRight,yc,Oc);var Te={signal:(null!=we?`${vd} === '${"left"}' ? (${Pb(we)}) : `:"")+(null!=ee?`${vd} === '${"bottom"}' ? (${Pb(ee)}) : `:"")+(null!=ye?`${vd} === '${"right"}' ? (${Pb(ye)}) : `:"")+(null!=Kd?`${vd} === '${"top"}' ? (${Pb(Kd)}) : `:"")+"(null)"};Ae[Zd]=
Te}}else Be="top"===Ec||"bottom"===Ec?oc.axisX:oc.axisY,fe=oc["axis"+Ec[0].toUpperCase()+Ec.slice(1)];var Id=Be||fe||fd?k.extend({},yc,Be,fe,fd):yc;const sf=Ob.encode||{},zf=sf.axis||{},Ff=zf.name||void 0,$g=zf.interactive,ie=zf.style,mf=ka(Ob,Id),Sf=mf("tickBand");let Gf=mf("tickOffset"),Ag,ng;Sf?Sf.signal?(Ag={signal:`(${Sf.signal}) === 'extent' ? 1 : 0.5`},ng={signal:`(${Sf.signal}) === 'extent'`},k.isObject(Gf)||(Gf={signal:`(${Sf.signal}) === 'extent' ? 0 : ${Gf}`})):"extent"===Sf?(Ag=1,ng=!0,
Gf=0):(Ag=.5,ng=!1):(Ag=mf("bandPosition"),ng=mf("tickExtra"));var tg=ng;var Sg=Ag;var ig=Gf;const Bf={scale:Ob.scale,ticks:!!mf("ticks"),labels:!!mf("labels"),grid:!!mf("grid"),domain:!!mf("domain"),title:null!=Ob.title},ug=M(Ha.add(rc({},[Bf]))),og=M(Ha.add(af({scale:Ha.scaleRef(Ob.scale),extra:Ha.property(tg),count:Ha.objectProperty(Ob.tickCount),values:Ha.objectProperty(Ob.values),minstep:Ha.property(Ob.tickMinStep),formatType:Ha.property(Ob.formatType),formatSpecifier:Ha.property(Ob.format)}))),
Tf=[];let Wf;if(Bf.grid){var Tg=Tf.push,bh=sf.grid;const da=ka(Ob,Id),Ma=Ob.orient,fb=Ob.gridScale,Eb=wc(Ma,1,-1);a:{var Mg=Ob.offset,Ig=Eb;if(1!==Ig)if(k.isObject(Mg)){let Mf=Mg=k.extend({},Mg);for(;null!=Mf.mult;)if(k.isObject(Mf.mult))Mf=Mf.mult=k.extend({},Mf.mult);else{Mf.mult=La(Ig)?{signal:`(${Mf.mult}) * (${Ig.signal})`}:Mf.mult*Ig;var Ng=Mg;break a}Mf.mult=Ig}else Mg=La(Ig)?{signal:`(${Ig.signal}) * (${Mg||0})`}:Ig*(Mg||0);Ng=Mg}const Sb=Ng;let Cc,Zc,$c;const rd={enter:Cc={opacity:qd},update:$c=
{opacity:Yd},exit:Zc={opacity:qd}};e(rd,{stroke:da("gridColor"),strokeCap:da("gridCap"),strokeDash:da("gridDash"),strokeDashOffset:da("gridDashOffset"),strokeOpacity:da("gridOpacity"),strokeWidth:da("gridWidth")});const ce={scale:Ob.scale,field:"value",band:Sg,extra:tg,offset:ig,round:da("tickRound")},ze=Rc(Ma,{signal:"height"},{signal:"width"}),ef=fb?{scale:fb,range:0,mult:Eb,offset:Sb}:{value:0,offset:Sb},Cf=fb?{scale:fb,range:1,mult:Eb,offset:Sb}:k.extend(ze,{mult:Eb,offset:Sb});Cc.x=$c.x=Rc(Ma,
ce,ef);Cc.y=$c.y=Lc(Ma,ce,ef);Cc.x2=$c.x2=Lc(Ma,Cf);Cc.y2=$c.y2=Rc(Ma,Cf);Zc.x=Rc(Ma,ce);Zc.y=Lc(Ma,ce);var Wa=lb({type:"rule",role:"axis-grid",key:"value",from:og,encode:rd},bh);Tg.call(Tf,Wa)}if(Bf.ticks){Wf=mf("tickSize");var Cb=Tf.push,hc=sf.ticks,yd=Wf;const da=ka(Ob,Id),Ma=Ob.orient,fb=wc(Ma,-1,1);let Eb,Sb,Cc;const Zc={enter:Eb={opacity:qd},update:Cc={opacity:Yd},exit:Sb={opacity:qd}};e(Zc,{stroke:da("tickColor"),strokeCap:da("tickCap"),strokeDash:da("tickDash"),strokeDashOffset:da("tickDashOffset"),
strokeOpacity:da("tickOpacity"),strokeWidth:da("tickWidth")});const $c=Vd(yd);$c.mult=fb;const rd={scale:Ob.scale,field:"value",band:Sg,extra:tg,offset:ig,round:da("tickRound")};Cc.y=Eb.y=Rc(Ma,qd,rd);Cc.y2=Eb.y2=Rc(Ma,$c);Sb.x=Rc(Ma,rd);Cc.x=Eb.x=Lc(Ma,qd,rd);Cc.x2=Eb.x2=Lc(Ma,$c);Sb.y=Lc(Ma,rd);var Dd=lb({type:"rule",role:"axis-tick",key:"value",from:og,encode:Zc},hc);Cb.call(Tf,Dd)}if(Bf.labels){Wf=Bf.ticks?Wf:0;var ne=Tf.push,of=sf.labels,uf=Wf;const da=ka(Ob,Id),Ma=Ob.orient,fb=Ob.scale,Eb=wc(Ma,
-1,1),Sb=B(da("labelFlush")),Cc=B(da("labelFlushOffset")),Zc=da("labelAlign"),$c=da("labelBaseline");let rd=0===Sb||!!Sb,ce;const ze=Vd(uf);ze.mult=Eb;ze.offset=Vd(da("labelPadding")||0);ze.offset.mult=Eb;const ef={scale:fb,field:"value",band:.5,offset:db(ig,da("labelOffset"))};var Wg=rd?za(fb,Sb,'"left"','"right"','"center"'):{value:"center"},Uf=Ma;var Xg=La(Uf)?Gb(`${Uf.signal} === '${"right"}'`,"left","right"):"right"===Uf?{value:"left"}:{value:"right"};const Cf=Rc(Ma,Wg,Xg),Mf=Rc(Ma,ud(Ma,"bottom",
"top"),rd?za(fb,Sb,'"top"','"bottom"','"middle"'):{value:"middle"}),Ke=za(fb,Sb,`-(${Cc})`,Cc,0);rd=rd&&Cc;const ag={opacity:qd,x:Rc(Ma,ef,ze),y:Lc(Ma,ef,ze)},wg={enter:ag,update:ce={opacity:Yd,text:{field:"label"},x:ag.x,y:ag.y,align:Cf,baseline:Mf},exit:{opacity:qd,x:ag.x,y:ag.y}};e(wg,{dx:!Zc&&rd?Rc(Ma,Ke):null,dy:!$c&&rd?Lc(Ma,Ke):null});e(wg,{angle:da("labelAngle"),fill:da("labelColor"),fillOpacity:da("labelOpacity"),font:da("labelFont"),fontSize:da("labelFontSize"),fontWeight:da("labelFontWeight"),
fontStyle:da("labelFontStyle"),limit:da("labelLimit"),lineHeight:da("labelLineHeight")},{align:Zc,baseline:$c});const vh=da("labelBound");let ch=da("labelOverlap");ch=ch||vh?{separation:da("labelSeparation"),method:ch,order:"datum.index",bound:vh?{scale:fb,orient:Ma,tolerance:vh}:null}:void 0;ce.align!==Cf&&(ce.align=bc(ce.align,Cf));ce.baseline!==Mf&&(ce.baseline=bc(ce.baseline,Mf));var Fh=lb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:og,encode:wg,overlap:ch},of);ne.call(Tf,
Fh)}if(Bf.domain){var ph=Tf.push,vg=sf.domain;const da=ka(Ob,Id),Ma=Ob.orient;let fb,Eb;const Sb={enter:fb={opacity:qd},update:Eb={opacity:Yd},exit:{opacity:qd}};e(Sb,{stroke:da("domainColor"),strokeCap:da("domainCap"),strokeDash:da("domainDash"),strokeDashOffset:da("domainDashOffset"),strokeWidth:da("domainWidth"),strokeOpacity:da("domainOpacity")});const Cc={scale:Ob.scale,range:0},Zc={scale:Ob.scale,range:1};fb.x=Eb.x=Rc(Ma,Cc,qd);fb.x2=Eb.x2=Rc(Ma,Zc);fb.y=Eb.y=Lc(Ma,Cc,qd);fb.y2=Eb.y2=Lc(Ma,
Zc);var Ug=lb({type:"rule",role:"axis-domain",from:ug,encode:Sb},vg);ph.call(Tf,Ug)}if(Bf.title){var nh=Tf.push,qh=sf.title;const da=ka(Ob,Id),Ma=Ob.orient,fb=wc(Ma,-1,1);let Eb,Sb;const Cc={enter:Eb={opacity:qd,anchor:Vd(da("titleAnchor",null)),align:{signal:Od}},update:Sb=k.extend({},Eb,{opacity:Yd,text:Vd(Ob.title)}),exit:{opacity:qd}},Zc={signal:`lerp(range("${Ob.scale}"), ${Ta(0,1,.5)})`};Sb.x=Rc(Ma,Zc);Sb.y=Lc(Ma,Zc);var Lh=Eb,uh=fb;var Eh=La(uh)?{signal:`(${uh.signal}) * ${90}`}:{value:90*
uh};Lh.angle=Rc(Ma,qd,Eh);Eb.baseline=Rc(Ma,ud(Ma,"bottom","top"),{value:"bottom"});Sb.angle=Eb.angle;Sb.baseline=Eb.baseline;e(Cc,{fill:da("titleColor"),fillOpacity:da("titleOpacity"),font:da("titleFont"),fontSize:da("titleFontSize"),fontStyle:da("titleFontStyle"),fontWeight:da("titleFontWeight"),limit:da("titleLimit"),lineHeight:da("titleLineHeight")},{align:da("titleAlign"),angle:da("titleAngle"),baseline:da("titleBaseline")});Za(da,Ma,Cc,qh);Cc.update.align=bc(Cc.update.align,Eb.align);Cc.update.angle=
bc(Cc.update.angle,Eb.angle);Cc.update.baseline=bc(Cc.update.baseline,Eb.baseline);var Jg=lb({type:"text",role:"axis-title",style:"guide-title",from:ug,encode:Cc},qh);nh.call(Tf,Jg)}const K={enter:{},update:{}};e(K,{orient:mf("orient"),offset:mf("offset")||0,position:C(Ob.position,0),titlePadding:mf("titlePadding"),minExtent:mf("minExtent"),maxExtent:mf("maxExtent"),range:{signal:`abs(span(range("${Ob.scale}")))`},translate:mf("translate"),format:Ob.format,formatType:Ob.formatType});return Ic(U({role:"axis",
from:ug,encode:g(K,zf,pd),marks:Tf,aria:mf("aria"),description:mf("description"),zindex:mf("zindex"),name:Ff,interactive:$g,style:ie}),Ha)});k.array(fa.marks).forEach(Ob=>Ic(Ob,Ha));k.array(fa.legends).forEach(Ob=>dd(Ob,Ha));fa.title&&le(fa.title,Ha);Ha.parseLambdas();return Ha}function Jb(fa,Ha){var gb=Ha.config;const Fb=M(Ha.root=Ha.add(new ca("operator",void 0,void 0,void 0))),Kb=nc(fa,gb);Kb.forEach(Oc=>R(Oc,Ha));Ha.description=fa.description||gb.description;Ha.eventConfig=gb.events;Ha.legends=
Ha.objectProperty(gb.legend&&gb.legend.layout);Ha.locale=gb.locale;gb=Ha.add(rc());const Ob=Ha.add(xa(z(g({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},fa.encode),"group","frame",fa.style,Ha,{pulse:M(gb)}))),oc=Ha.add(Ib({layout:Ha.objectProperty(fa.layout),legends:Ha.legends,autosize:Ha.signalRef("autosize"),mark:Fb,pulse:M(Ob)}));Ha.operators.pop();Ha.pushState(M(Ob),M(oc),null);tb(fa,Ha,Kb);Ha.operators.push(oc);fa=Ha.add(Qb({mark:Fb,pulse:M(oc)}));
fa=Ha.add(Se({pulse:M(fa)}));fa=Ha.add(ob({pulse:M(fa)}));Ha.addData("root",new Ca(Ha,gb,gb,fa));return Ha}function fc(fa,Ha){return Ha&&Ha.signal?{name:fa,update:Ha.signal}:{name:fa,value:Ha}}function nc(fa,Ha){const gb=oc=>C(fa[oc],Ha[oc]),Fb=[fc("background",gb("background")),fc("autosize",f(gb("autosize"))),fc("padding",b(gb("padding"))),fc("width",gb("width")||0),fc("height",gb("height")||0)],Kb=Fb.reduce((oc,Oc)=>(oc[Oc.name]=Oc,oc),{}),Ob={};k.array(fa.signals).forEach(oc=>{k.hasOwnProperty(Kb,
oc.name)?oc=k.extend(Kb[oc.name],oc):Fb.push(oc);Ob[oc.name]=oc});k.array(Ha.signals).forEach(oc=>{k.hasOwnProperty(Ob,oc.name)||k.hasOwnProperty(Kb,oc.name)||Fb.push(oc)});return Fb}function Hc(fa,Ha){this.config=fa||{};this.options=Ha||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=
[];this._lookup=[];this._markpath=[]}function Dc(fa){this.config=fa.config;this.options=fa.options;this.legends=fa.legends;this.field=Object.create(fa.field);this.signals=Object.create(fa.signals);this.lambdas=Object.create(fa.lambdas);this.scales=Object.create(fa.scales);this.events=Object.create(fa.events);this.data=Object.create(fa.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++fa._nextsub[0];this._nextsub=fa._nextsub;this._parent=fa._parent.slice();this._encode=
fa._encode.slice();this._lookup=fa._lookup.slice();this._markpath=fa._markpath}function lc(fa){return(k.isArray(fa)?ld:sd)(fa)}function ld(fa){const Ha=fa.length;let gb="[";for(let Fb=0;Fb<Ha;++Fb){const Kb=fa[Fb];gb+=(0<Fb?",":"")+(k.isObject(Kb)?Kb.signal||lc(Kb):k.stringValue(Kb))}return gb+"]"}function sd(fa){let Ha="{",gb=0,Fb,Kb;for(Fb in fa)Kb=fa[Fb],Ha+=(1<++gb?",":"")+k.stringValue(Fb)+":"+(k.isObject(Kb)?Kb.signal||lc(Kb):k.stringValue(Kb));return Ha+"}"}function Hd(){return{description:"Vega visualization",
padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",
fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,
gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",
labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,
0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Vd=fa=>k.isObject(fa)&&!k.isArray(fa)?k.extend({},fa):{value:fa},be=fa=>k.isString(fa)?k.stringValue(fa):fa.signal?`(${fa.signal})`:J(fa),he=(fa,Ha,gb,Fb)=>`(${fa}(${[Ha,gb,Fb].map(O).join(",")})+'')`,Ce=["value","update","init","react","bind"],re=ba("key"),vf={code:"_.$value",ast:{type:"Identifier",value:"value"}},Ge=fa=>(Ha,gb,Fb)=>new ca(fa,gb,Ha||void 0,Fb),Re=Ge("aggregate"),af=
Ge("axisticks"),Qb=Ge("bound"),rc=Ge("collect"),bd=Ge("compare"),Ad=Ge("datajoin"),xa=Ge("encode"),Xa=Ge("expression"),zb=Ge("facet"),Xb=Ge("field"),tc=Ge("key"),gd=Ge("legendentries"),qc=Ge("load"),rb=Ge("mark"),Bb=Ge("multiextent"),ic=Ge("multivalues"),Uc=Ge("overlap"),Rd=Ge("params"),Md=Ge("prefacet"),Gd=Ge("projection"),Pd=Ge("proxy"),Me=Ge("relay"),Se=Ge("render"),ha=Ge("scale"),ob=Ge("sieve"),Ea=Ge("sortitems"),Ib=Ge("viewlayout"),Yb=Ge("values");let kc=0;const Nc={min:"min",max:"max",count:"sum"},
Jc="size shape fill stroke strokeWidth strokeDash opacity".split(" "),pd={name:1,style:1,interactive:1},qd={value:0},Yd={value:1},Od=Ta(k.stringValue("left"),k.stringValue("right"),k.stringValue("center")),Jd=Ta('"top"','"bottom"','"middle"'),ed=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Ta('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Od}`,td=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Jd}) : "top"`;
Ca.fromEntries=function(fa,Ha){const gb=Ha.length,Fb=Ha[gb-1],Kb=Ha[gb-2];let Ob=Ha[0],oc=null,Oc=1;Ob&&"load"===Ob.type&&(Ob=Ha[1]);for(fa.add(Ha[0]);Oc<gb;++Oc)Ha[Oc].params.pulse=M(Ha[Oc-1]),fa.add(Ha[Oc]),"aggregate"===Ha[Oc].type&&(oc=Ha[Oc]);return new Ca(fa,Ob,Kb,Fb,oc)};Ca.prototype={countsRef(fa,Ha,gb){const Fb=this.counts||(this.counts={}),Kb=$a(Ha);if(null!=Kb){fa=this.scope;var Ob=Fb[Kb]}Ob?gb&&gb.field&&jb(fa,Ob.agg.params,gb):(Ob={groupby:fa.fieldRef(Ha,"key"),pulse:M(this.output)},
gb&&gb.field&&jb(fa,Ob,gb),gb=fa.add(Re(Ob)),Ob=fa.add(rc({pulse:M(gb)})),Ob={agg:gb,ref:M(Ob)},null!=Kb&&(Fb[Kb]=Ob));return Ob.ref},tuplesRef(){return M(this.values)},extentRef(fa,Ha){return yb(fa,this,"extent","extent",Ha,!1)},domainRef(fa,Ha){return yb(fa,this,"domain","values",Ha,!1)},valuesRef(fa,Ha,gb){return yb(fa,this,"vals","values",Ha,gb||!0)},lookupRef(fa,Ha){return yb(fa,this,"lookup","tupleindex",Ha,!1)},indataRef(fa,Ha){return yb(fa,this,"indata","tupleindex",Ha,!0,!0)}};const wc=(fa,
Ha,gb)=>{La(fa)?(fa=fa.signal,Ha=Gb(`${fa} === '${"left"}' || ${fa} === '${"top"}'`,Ha,gb)):Ha="left"===fa||"top"===fa?Ha:gb;return Ha},Rc=(fa,Ha,gb)=>{La(fa)?(fa=fa.signal,Ha=kb(`${fa} === '${"top"}' || ${fa} === '${"bottom"}'`,Ha,gb)):Ha="bottom"===fa||"top"===fa?Ha:gb;return Ha},Lc=(fa,Ha,gb)=>{La(fa)?(fa=fa.signal,Ha=kb(`${fa} !== '${"top"}' && ${fa} !== '${"bottom"}'`,Ha,gb)):Ha="bottom"===fa||"top"===fa?gb:Ha;return Ha},ud=(fa,Ha,gb)=>La(fa)?Gb(`${fa.signal} === '${"top"}'`,Ha,gb):"top"===fa?
{value:Ha}:{value:gb},kb=(fa,Ha,gb)=>{Ha=null!=Ha?Vd(Ha):Ha;gb=null!=gb?Vd(gb):gb;if(null!=Ha&&1!==Object.keys(Ha).length||null!=gb&&1!==Object.keys(gb).length)return[k.extend({test:fa},Ha)].concat(gb||[]);Ha=Ha?Ha.signal||k.stringValue(Ha.value):null;gb=gb?gb.signal||k.stringValue(gb.value):null;return{signal:`${fa} ? (${Ha}) : (${gb})`}},Gb=(fa,Ha,gb)=>({signal:`${fa} ? (${Pb(Ha)}) : (${Pb(gb)})`}),Pb=fa=>La(fa)?fa.signal:null==fa?null:k.stringValue(fa),bc=(fa,Ha)=>{const gb=fa.signal;return gb&&
gb.endsWith("(null)")?{signal:gb.slice(0,-6)+Ha.signal}:fa};Hc.prototype=Dc.prototype={parse(fa){return tb(fa,this)},fork(){return new Dc(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(fa){this.operators.push(fa);fa.id=this.id();fa.refs&&(fa.refs.forEach(Ha=>
{Ha.$ref=fa.id}),fa.refs=null);return fa},proxy(fa){fa=fa instanceof ca?M(fa):fa;return this.add(Pd({value:fa}))},addStream(fa){this.streams.push(fa);fa.id=this.id();return fa},addUpdate(fa){this.updates.push(fa);return fa},finish(){function fa(Fb,Kb,Ob){Fb&&(Fb=Fb.data||(Fb.data={}),Kb=Fb[Kb]||(Fb[Kb]=[]),Kb.push(Ob))}let Ha,gb;this.root&&(this.root.root=!0);for(Ha in this.signals)this.signals[Ha].signal=Ha;for(Ha in this.scales)this.scales[Ha].scale=Ha;for(Ha in this.data){gb=this.data[Ha];fa(gb.input,
Ha,"input");fa(gb.output,Ha,"output");fa(gb.values,Ha,"values");for(const Fb in gb.index)fa(gb.index[Fb],Ha,"index:"+Fb)}return this},pushState(fa,Ha,gb){this._encode.push(M(this.add(ob({pulse:fa}))));this._parent.push(Ha);this._lookup.push(gb?M(this.proxy(gb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return k.peek(this._parent)},encode(){return k.peek(this._encode)},lookup(){return k.peek(this._lookup)},markpath(){const fa=
this._markpath;return++fa[fa.length-1]},fieldRef(fa,Ha){if(k.isString(fa))return ba(fa,Ha);fa.signal||k.error("Unsupported field reference: "+k.stringValue(fa));fa=fa.signal;var gb=this.field[fa];gb||(gb={name:this.signalRef(fa)},Ha&&(gb.as=Ha),this.field[fa]=gb=M(this.add(Xb(gb))));return gb},compareRef(fa){let Ha=!1;const gb=Kb=>La(Kb)?(Ha=!0,this.signalRef(Kb.signal)):Kb&&Kb.expr?(Ha=!0,this.exprRef(Kb.expr)):Kb,Fb=k.array(fa.field).map(gb);fa=k.array(fa.order).map(gb);return Ha?M(this.add(bd({fields:Fb,
orders:fa}))):{$compare:Fb,$order:fa}},keyRef(fa,Ha){let gb=!1;const Fb=this.signals;fa=k.array(fa).map(Kb=>La(Kb)?(gb=!0,M(Fb[Kb.signal])):Kb);return gb?M(this.add(tc({fields:fa,flat:Ha}))):W(fa,Ha)},sortRef(fa){if(!fa)return fa;const Ha=ea(fa.op,fa.field);fa=fa.order||"ascending";return fa.signal?M(this.add(bd({fields:Ha,orders:this.signalRef(fa.signal)}))):{$compare:Ha,$order:fa}},event(fa,Ha){const gb=fa+":"+Ha;if(!this.events[gb]){const Fb=this.id();this.streams.push({id:Fb,source:fa,type:Ha});
this.events[gb]=Fb}return this.events[gb]},hasOwnSignal(fa){return k.hasOwnProperty(this.signals,fa)},addSignal(fa,Ha){this.hasOwnSignal(fa)&&k.error("Duplicate signal name: "+k.stringValue(fa));Ha=Ha instanceof ca?Ha:this.add(new ca("operator",Ha,void 0,void 0));return this.signals[fa]=Ha},getSignal(fa){this.signals[fa]||k.error("Unrecognized signal name: "+k.stringValue(fa));return this.signals[fa]},signalRef(fa){if(this.signals[fa])return M(this.signals[fa]);k.hasOwnProperty(this.lambdas,fa)||
(this.lambdas[fa]=this.add(new ca("operator",null,void 0,void 0)));return M(this.lambdas[fa])},parseLambdas(){const fa=Object.keys(this.lambdas);for(let gb=0,Fb=fa.length;gb<Fb;++gb){var Ha=fa[gb];const Kb=p.parseExpression(Ha,this);Ha=this.lambdas[Ha];Ha.params=Kb.$params;Ha.update=Kb.$expr}},property(fa){return fa&&fa.signal?this.signalRef(fa.signal):fa},objectProperty(fa){return fa&&k.isObject(fa)?this.signalRef(fa.signal||lc(fa)):fa},exprRef(fa,Ha){fa={expr:p.parseExpression(fa,this)};Ha&&(fa.expr.$name=
Ha);return M(this.add(Xa(fa)))},addBinding(fa,Ha){this.bindings||k.error("Nested signals do not support binding: "+k.stringValue(fa));this.bindings.push(k.extend({signal:fa},Ha))},addScaleProj(fa,Ha){k.hasOwnProperty(this.scales,fa)&&k.error("Duplicate scale or projection name: "+k.stringValue(fa));this.scales[fa]=this.add(Ha)},addScale(fa,Ha){this.addScaleProj(fa,ha(Ha))},addProjection(fa,Ha){this.addScaleProj(fa,Gd(Ha))},getScale(fa){this.scales[fa]||k.error("Unrecognized scale name: "+k.stringValue(fa));
return this.scales[fa]},scaleRef(fa){return M(this.getScale(fa))},scaleType(fa){return this.getScale(fa).params.type},projectionRef(fa){return this.scaleRef(fa)},projectionType(fa){return this.scaleType(fa)},addData(fa,Ha){k.hasOwnProperty(this.data,fa)&&k.error("Duplicate data set name: "+k.stringValue(fa));return this.data[fa]=Ha},getData(fa){this.data[fa]||k.error("Undefined data set name: "+k.stringValue(fa));return this.data[fa]},addDataPipeline(fa,Ha){k.hasOwnProperty(this.data,fa)&&k.error("Duplicate data set name: "+
k.stringValue(fa));return this.addData(fa,Ca.fromEntries(this,Ha))}};w.AxisDomainRole="axis-domain";w.AxisGridRole="axis-grid";w.AxisLabelRole="axis-label";w.AxisRole="axis";w.AxisTickRole="axis-tick";w.AxisTitleRole="axis-title";w.DataScope=Ca;w.FrameRole="frame";w.LegendEntryRole="legend-entry";w.LegendLabelRole="legend-label";w.LegendRole="legend";w.LegendSymbolRole="legend-symbol";w.LegendTitleRole="legend-title";w.MarkRole="mark";w.Scope=Hc;w.ScopeRole="scope";w.config=Hd;w.parse=function(fa,
Ha,gb){k.isObject(fa)||k.error("Input Vega specification must be an object.");Ha=k.mergeConfig(Hd(),Ha,fa.config);return Jb(fa,new Hc(Ha,gb)).toRuntime()};w.signal=R;w.signalUpdates=ib;w.stream=N;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[47]=function(Ka,L,sb,A){function w(M){if(M&&M.__esModule)return M;var ba=Object.create(null);M&&Object.keys(M).forEach(function(W){if("default"!==W){var ea=Object.getOwnPropertyDescriptor(M,W);Object.defineProperty(ba,W,ea.get?ea:{enumerable:!0,get:function(){return M[W]}})}});ba["default"]=M;return Object.freeze(ba)}Object.defineProperty(A,"__esModule",{value:!0});var k=L(14),p=L(23),q=L(25),t=L(29),m=L(30),f=L(32),b=L(33),c=L(34),e=L(35),g=L(36),n=L(37);sb=L(38);Ka=L(39);var h=L(24),
x=L(16),O=L(22),H=L(28),F=L(27),J=L(31),D=L(44),r=L(17),z=L(42),G=L(46),T=L(43),R=L(40),ca=L(45);L=w(q);t=w(t);m=w(m);f=w(f);b=w(b);c=w(c);e=w(e);g=w(g);n=w(n);sb=w(sb);Ka=w(Ka);k.extend(p.transforms,L,t,m,f,b,e,c,g,n,sb,Ka);Object.defineProperty(A,"Dataflow",{enumerable:!0,get:function(){return p.Dataflow}});Object.defineProperty(A,"EventStream",{enumerable:!0,get:function(){return p.EventStream}});Object.defineProperty(A,"MultiPulse",{enumerable:!0,get:function(){return p.MultiPulse}});Object.defineProperty(A,
"Operator",{enumerable:!0,get:function(){return p.Operator}});Object.defineProperty(A,"Parameters",{enumerable:!0,get:function(){return p.Parameters}});Object.defineProperty(A,"Pulse",{enumerable:!0,get:function(){return p.Pulse}});Object.defineProperty(A,"Transform",{enumerable:!0,get:function(){return p.Transform}});Object.defineProperty(A,"changeset",{enumerable:!0,get:function(){return p.changeset}});Object.defineProperty(A,"definition",{enumerable:!0,get:function(){return p.definition}});Object.defineProperty(A,
"ingest",{enumerable:!0,get:function(){return p.ingest}});Object.defineProperty(A,"isTuple",{enumerable:!0,get:function(){return p.isTuple}});Object.defineProperty(A,"transform",{enumerable:!0,get:function(){return p.transform}});Object.defineProperty(A,"transforms",{enumerable:!0,get:function(){return p.transforms}});Object.defineProperty(A,"tupleid",{enumerable:!0,get:function(){return p.tupleid}});Object.defineProperty(A,"interpolate",{enumerable:!0,get:function(){return F.interpolate}});Object.defineProperty(A,
"interpolateColors",{enumerable:!0,get:function(){return F.interpolateColors}});Object.defineProperty(A,"interpolateRange",{enumerable:!0,get:function(){return F.interpolateRange}});Object.defineProperty(A,"quantizeInterpolator",{enumerable:!0,get:function(){return F.quantizeInterpolator}});Object.defineProperty(A,"scale",{enumerable:!0,get:function(){return F.scale}});Object.defineProperty(A,"scheme",{enumerable:!0,get:function(){return F.scheme}});Object.defineProperty(A,"projection",{enumerable:!0,
get:function(){return J.projection}});Object.defineProperty(A,"View",{enumerable:!0,get:function(){return D.View}});Object.defineProperty(A,"defaultLocale",{enumerable:!0,get:function(){return r.defaultLocale}});Object.defineProperty(A,"formatLocale",{enumerable:!0,get:function(){return r.numberFormatDefaultLocale}});Object.defineProperty(A,"locale",{enumerable:!0,get:function(){return r.locale}});Object.defineProperty(A,"resetDefaultLocale",{enumerable:!0,get:function(){return r.resetDefaultLocale}});
Object.defineProperty(A,"timeFormatLocale",{enumerable:!0,get:function(){return r.timeFormatDefaultLocale}});Object.defineProperty(A,"expressionFunction",{enumerable:!0,get:function(){return z.expressionFunction}});Object.defineProperty(A,"parse",{enumerable:!0,get:function(){return G.parse}});Object.defineProperty(A,"runtimeContext",{enumerable:!0,get:function(){return T.context}});Object.defineProperty(A,"codegenExpression",{enumerable:!0,get:function(){return R.codegenExpression}});Object.defineProperty(A,
"parseExpression",{enumerable:!0,get:function(){return R.parseExpression}});Object.defineProperty(A,"parseSelector",{enumerable:!0,get:function(){return ca.parseSelector}});A.version="5.22.1";Object.keys(k).forEach(function(M){"default"===M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return k[M]}})});Object.keys(h).forEach(function(M){"default"===M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return h[M]}})});Object.keys(x).forEach(function(M){"default"===
M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return x[M]}})});Object.keys(O).forEach(function(M){"default"===M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return O[M]}})});Object.keys(H).forEach(function(M){"default"===M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return H[M]}})})};
shadow$provide[48]=function(Ka,L,sb,A){var w=L(21).Buffer;(function(k,p){"object"===typeof A&&"undefined"!==typeof sb?p(A,L(47)):"function"===typeof define&&define.amd?define(["exports","vega"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,p(k.vegaLite={},k.vega))})(this,function(k,p){function q(l,P){if(l.not)q(l.not,P);else if(l.and)for(const d of l.and)q(d,P);else if(l.or)for(const d of l.or)q(d,P);else P(l)}function t(l,P){return l.not?{not:t(l.not,P)}:l.and?{and:l.and.map(d=>t(d,P))}:
l.or?{or:l.or.map(d=>t(d,P))}:P(l)}function m(l){throw Error(l);}function f(l,P){const d={};for(const y of P)p.hasOwnProperty(l,y)&&(d[y]=l[y]);return d}function b(l,P){l=Object.assign({},l);for(const d of P)delete l[d];return l}function c(l){if(p.isNumber(l))return l;l=p.isString(l)?l:mk(l);if(250>l.length)return l;let P=0;for(let d=0;d<l.length;d++){const y=l.charCodeAt(d);P=(P<<5)-P+y;P&=P}return P}function e(l){return!1===l||null===l}function g(l,P){return l.includes(P)}function n(l,P){let d=
0;for(const y of l.entries()){const [I,X]=y;if(P(X,I,d++))return!0}return!1}function h(l,P){let d=0;for(const y of l.entries()){const [I,X]=y;if(!P(X,I,d++))return!1}return!0}function x(l){for(var P=arguments.length,d=Array(1<P?P-1:0),y=1;y<P;y++)d[y-1]=arguments[y];for(const I of d){P=l;d=null!==I&&void 0!==I?I:{};for(const X of se(d))p.writeConfig(P,X,d[X],!0)}return l}function O(l,P){const d=[],y={};for(const I of l)l=P(I),l in y||(y[l]=1,d.push(I));return d}function H(l,P){if(l.size!==P.size)return!1;
for(const d of l)if(!P.has(d))return!1;return!0}function F(l,P){for(const d of l)if(P.has(d))return!0;return!1}function J(l){const P=new Set;for(const d of l){const y=p.splitAccessPath(d).map((I,X)=>0===X?I:"[".concat(I,"]"));l=y.map((I,X)=>y.slice(0,X+1).join(""));for(const I of l)P.add(I)}return P}function D(l,P){return void 0===l||void 0===P?!0:F(J(l),J(P))}function r(l){return 0===se(l).length}function z(l){return!0===l||!1===l}function G(l){const P=l.replace(/\W/g,"_");return(l.match(/^\d+/)?
"_":"")+P}function T(l,P){return l.not?"!(".concat(T(l.not,P),")"):l.and?"(".concat(l.and.map(d=>T(d,P)).join(") \x26\x26 ("),")"):l.or?"(".concat(l.or.map(d=>T(d,P)).join(") || ("),")"):P(l)}function R(l,P){if(0===P.length)return!0;const d=P.shift();d in l&&R(l[d],P)&&delete l[d];return r(l)}function ca(l){return l.charAt(0).toUpperCase()+l.substr(1)}function M(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const d=p.splitAccessPath(l),y=[];for(let I=1;I<=d.length;I++){const X=
"[".concat(d.slice(0,I).map(p.stringValue).join("]["),"]");y.push("".concat(P).concat(X))}return y.join(" \x26\x26 ")}function ba(l){return"".concat(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum","[").concat(p.stringValue(p.splitAccessPath(l).join(".")),"]")}function W(l){return l.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ea(l){return"".concat(p.splitAccessPath(l).map(W).join("\\."))}function La(l,P,d){return l.replace(new RegExp(P.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),
d)}function aa(l){return"".concat(p.splitAccessPath(l).join("."))}function C(l){return l?p.splitAccessPath(l).length:0}function B(){for(var l=arguments.length,P=Array(l),d=0;d<l;d++)P[d]=arguments[d];for(const y of P)if(void 0!==y)return y}function N(l){const P=++Kk;return l?String(l)+P:P}function Y(l){return Aa(l)?l:"__".concat(l)}function Aa(l){return l.startsWith("__")}function sa(l){if(void 0!==l)return(l%360+360)%360}function la(l){return p.isNumber(l)?!0:!isNaN(l)&&!isNaN(parseFloat(l))}function Ia(l){switch(l){case "latitude":return"y";
case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function bb(l){return"color"===l||"fill"===l||"stroke"===l}function ib(l){return Ja(l)!==l}function Ja(l){switch(l){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return l}function ma(l){if(l in Qk)switch(l){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";
case "radius2":return"innerRadius"}return l}function Fa(l){switch(l){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Pa(l){switch(l){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function qa(l){switch(l){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";
case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function ya(l){switch(l){case "x":return"xOffset";case "y":return"yOffset"}}function oa(l){switch(l){case "xOffset":return"x";case "yOffset":return"y"}}function va(l){return l in rj}function Ua(l){return"width"===l?"x":"y"}function eb(l){switch(l){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Uj;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Ji;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function ra(l){switch(l){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function Oa(l){return!!l&&!!l.argmin}function ja(l){return!!l&&!!l.argmax}function U(l){return p.isString(l)&&!!Ti[l]}function ka(l){return p.isString(l)&&Vj.has(l)}function wa(l){p.isBoolean(l)&&(l=Sg(l,void 0));return"bin"+se(l).map(P=>lb(l[P])?G("_".concat(P,"_").concat(kj(l[P]))):G("_".concat(P,"_").concat(l[P]))).join("")}function Ta(l){return!0===l||p.isObject(l)&&!l.binned}function db(l){return"binned"===l||p.isObject(l)&&!0===l.binned}
function lb(l){return null===l||void 0===l?void 0:l.param}function nb(l){switch(l){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Mb(l){return!(null===l||void 0===l||!l.expr)}function $b(l){const P=se(l||{}),d={};for(const y of P)d[y]=Ab(l[y]);return d}function Gc(l){var P=Object.assign({},l),d=l.anchor;const y=l.frame,
I=l.offset,X=l.orient,na=l.angle,ta=l.limit;var cb=l.color,qb=l.subtitleColor;const vb=l.subtitleFont,Nb=l.subtitleFontSize,xc=l.subtitleFontStyle,od=l.subtitleFontWeight,Pc=l.subtitleLineHeight,Ed=l.subtitlePadding;P=(delete P.anchor,delete P.frame,delete P.offset,delete P.orient,delete P.angle,delete P.limit,delete P.color,delete P.subtitleColor,delete P.subtitleFont,delete P.subtitleFontSize,delete P.subtitleFontStyle,delete P.subtitleFontWeight,delete P.subtitleLineHeight,delete P.subtitlePadding,
P);cb=Object.assign({},P,cb?{fill:cb}:{});d=Object.assign({},d?{anchor:d}:{},y?{frame:y}:{},I?{offset:I}:{},X?{orient:X}:{},void 0!==na?{angle:na}:{},void 0!==ta?{limit:ta}:{});qb=Object.assign({},qb?{subtitleColor:qb}:{},vb?{subtitleFont:vb}:{},Nb?{subtitleFontSize:Nb}:{},xc?{subtitleFontStyle:xc}:{},od?{subtitleFontWeight:od}:{},Pc?{subtitleLineHeight:Pc}:{},Ed?{subtitlePadding:Ed}:{});l=f(l,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:cb,subtitleMarkConfig:l,nonMarkTitleProperties:d,
subtitle:qb}}function zc(l){return p.isString(l)||p.isArray(l)&&p.isString(l[0])}function Bc(l){return!(null===l||void 0===l||!l.signal)}function uc(l){return!!l.step}function id(l){return p.isArray(l)?!1:"field"in l&&"data"in l}function Hb(l){const P=p.isArray(l.condition)?l.condition.map(dc):dc(l.condition);return Object.assign({},Ab(l),{condition:P})}function Ab(l){if(Mb(l)){var P=Object.assign({},l);l=l.expr;P=(delete P.expr,P);return Object.assign({},{signal:l},P)}return l}function dc(l){if(Mb(l)){var P=
Object.assign({},l);l=l.expr;P=(delete P.expr,P);return Object.assign({},{signal:l},P)}return l}function Wb(l){if(Mb(l)){var P=Object.assign({},l);l=l.expr;P=(delete P.expr,P);return Object.assign({},{signal:l},P)}return Bc(l)?l:void 0!==l?{value:l}:void 0}function mc(l){return Bc(l)?l.signal:p.stringValue(l.value)}function Kc(l){return Bc(l)?l.signal:null==l?null:p.stringValue(l)}function Fc(l){var P;return[].concat(l.type,null!==(P=l.style)&&void 0!==P?P:[])}function Sc(l,P,d){let y=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};const {vgChannel:I,ignoreVgConfig:X}=y;if(I&&void 0!==P[I])return P[I];if(void 0!==P[l])return P[l];if(!X||I&&I!==l)return jd(l,P,d,y)}function jd(l,P,d){let {vgChannel:y}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return B(y?$d(l,P,d.style):void 0,$d(l,P,d.style),y?d[P.type][y]:void 0,d[P.type][l],y?d.mark[y]:d.mark[l])}function $d(l,P,d){return Ba(l,Fc(P),d)}function Ba(l,P,d){P=p.array(P);let y;for(const I of P)(P=d[I])&&void 0!==P[l]&&(y=P[l]);
return y}function ua(l,P){return p.array(l).reduce((d,y)=>{var I;d.field.push(Id(y,P));d.order.push(null!==(I=y.sort)&&void 0!==I?I:"ascending");return d},{field:[],order:[]})}function Ca(l,P){const d=[...l];P.forEach(y=>{for(const I of d)if(gi(I,y))return;d.push(y)});return d}function $a(l,P){return gi(l,P)||!P?l:l?[...p.array(l),...p.array(P)].join(", "):P}function jb(l,P){const d=l.value;P=P.value;if(null==d||null===P)return{explicit:l.explicit,value:null};if((zc(d)||Bc(d))&&(zc(P)||Bc(P)))return{explicit:l.explicit,
value:$a(d,P)};if(zc(d)||Bc(d))return{explicit:l.explicit,value:d};if(zc(P)||Bc(P))return{explicit:l.explicit,value:P};if(!(zc(d)||Bc(d)||zc(P)||Bc(P)))return{explicit:l.explicit,value:Ca(d,P)};throw Error("It should never reach here");}function yb(l,P,d){P in l?Object.defineProperty(l,P,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[P]=d;return l}function Ub(l,P,d){P=Tb(l,P,"set");if(P.set)P.set.call(l,d);else{if(!P.writable)throw new TypeError("attempted to set read only private field");
P.value=d}return d}function Tb(l,P,d){if(!P.has(l))throw new TypeError("attempted to "+d+" private field on non-instance");return P.get(l)}function Vb(l){return"Invalid specification ".concat(hh(l),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}function Ic(l){return"".concat("width"==l?"Width":"Height",' "container" only works for single views and layered views.')}function Yc(l){const P="width"==
l?"x":"y";return"".concat("width"==l?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(P,'".')}function dd(l){return l?'Dropping "fit-'.concat(l,'" because spec has discrete ').concat(Pa(l),"."):'Dropping "fit" because spec has discrete size.'}function nd(l){return"Unknown field for ".concat(l,". Cannot calculate view size.")}function xd(l){return'Cannot project a selection on encoding channel "'.concat(l,'", which has no field.')}function Nd(l,P){return'Cannot project a selection on encoding channel "'.concat(l,
'" as it uses an aggregate function ("').concat(P,'").')}function Xd(l){return"Selection not supported for ".concat(l," yet.")}function ge(l){return'The "columns" property cannot be used when "'.concat(l,'" has nested row/column.')}function le(l,P,d){return'An ancestor parsed field "'.concat(l,'" as ').concat(d," but a child wants to parse the field as ").concat(P,".")}function qe(l){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(l," are dropped.")}
function wd(l){return"".concat(l,"Offset dropped because ").concat(l," is continuous")}function qf(l){return"There is no ".concat(l," encoding. Replacing ").concat(l,"Offset encoding as ").concat(l,".")}function gf(l,P){const {fill:d,stroke:y}=P;return"Dropping color ".concat(l," as the plot also has ").concat(d&&y?"fill and stroke":d?"fill":"stroke",".")}function te(l,P){return"Dropping ".concat(hh(l),' from channel "').concat(P,'" since it does not contain any data field, datum, value, or signal.')}
function We(l,P,d){return"".concat(l,' dropped as it is incompatible with "').concat(P,'"').concat(d?" when ".concat(d):"",".")}function za(l){return"".concat(l,"-encoding is dropped as ").concat(l," is not a valid encoding channel.")}function Za(l,P){return'Using discrete channel "'.concat(l,'" to encode "').concat(P,'" field can be misleading as it does not encode ').concat("ordinal"===P?"order":"magnitude",".")}function tb(l,P,d){return"".concat(d,"-scale's \"").concat(P,'" is dropped as it does not work with ').concat(l,
" scale.")}function Jb(l){return'The step for "'.concat(l,'" is dropped because the ').concat("width"===l?"x":"y"," is continuous.")}function fc(l){return'Cannot stack "'.concat(l,'" if there is already "').concat(l,'2".')}function nc(l,P){return"Invalid ".concat(l,": ").concat(hh(P),".")}function Hc(l){return"1D error band does not support ".concat(l,".")}function Dc(l){return"Channel ".concat(l,' is required for "binned" bin.')}function lc(){zj.warn(...arguments)}function ld(){zj.debug(...arguments)}
function sd(l){if(l&&p.isObject(l))for(const P of Tk)if(P in l)return!0;return!1}function Hd(l){la(l)&&(l=+l);if(p.isNumber(l))return l-1;var P=l.toLowerCase();const d=Wj.indexOf(P);if(-1!==d)return d;P=P.substr(0,3);P=Dk.indexOf(P);if(-1!==P)return P;throw Error(nc("month",l));}function Vd(l){la(l)&&(l=+l);if(p.isNumber(l))return l%7;var P=l.toLowerCase();const d=ll.indexOf(P);if(-1!==d)return d;P=P.substr(0,3);P=Al.indexOf(P);if(-1!==P)return P;throw Error(nc("day",l));}function be(l,P){const d=
[];P&&void 0!==l.day&&1<se(l).length&&(lc("Dropping day from datetime ".concat(hh(l)," as day cannot be combined with other units.")),l=Vf(l),delete l.day);void 0!==l.year?d.push(l.year):d.push(2012);if(void 0!==l.month){var y=P?Hd(l.month):l.month;d.push(y)}else if(void 0!==l.quarter){if(P)if(y=l.quarter,la(y)&&(y=+y),p.isNumber(y))4<y&&lc(nc("quarter",y)),--y;else throw Error(nc("quarter",y));else y=l.quarter;d.push(p.isNumber(y)?3*y:"".concat(y,"*3"))}else d.push(0);void 0!==l.date?d.push(l.date):
void 0!==l.day?(P=P?Vd(l.day):l.day,d.push(p.isNumber(P)?P+1:"".concat(P,"+1"))):d.push(1);for(const I of["hours","minutes","seconds","milliseconds"])P=l[I],d.push("undefined"===typeof P?0:P);return d}function he(l){const P=be(l,!0).join(", ");return l.utc?"utc(".concat(P,")"):"datetime(".concat(P,")")}function Ce(l){const P=be(l,!0);return l.utc?+new Date(Date.UTC(...P)):+new Date(...P)}function re(l){return Tk.filter(P=>vf(l,P))}function vf(l,P){const d=l.indexOf(P);return 0>d||0<d&&"seconds"===
P&&"i"===l.charAt(d-1)||l.length>d+3&&"day"===P&&"o"===l.charAt(d+3)||0<d&&"year"===P&&"f"===l.charAt(d-1)?!1:!0}function Ge(l,P){var {end:d}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{end:!1};const y=M(P),I=l.startsWith("utc")?"utc":"";const X={};for(const ta of Tk)if(vf(l,ta)){var na=ta;na="quarter"===na?"(".concat(I,"quarter(").concat(y,")-1)"):"".concat(I).concat(na,"(").concat(y,")");X[ta]=na;na=ta}d&&(X[na]+="+1");d=be(X,!1).join(", ");return X.utc?"utc(".concat(d,")"):"datetime(".concat(d,
")")}function Re(l){if(l)return l=re(l),"timeUnitSpecifier(".concat(hh(l),", ").concat(hh(Ii),")")}function af(l){if(l){var P;p.isString(l)?P={unit:l}:p.isObject(l)&&(P=Object.assign({},l,l.unit?{unit:l.unit}:{}));P.unit.startsWith("utc")&&(P.utc=!0,P.unit=P.unit.substr(3));return P}}function Qb(l){var P=af(l);l=Object.assign({},P);P=P.utc;const d=(delete l.utc,l);return d.unit?(P?"utc":"")+se(d).map(y=>G("".concat("unit"===y?"":"_".concat(y,"_")).concat(d[y]))).join(""):(P?"utc":"")+"timeunit"+se(d).map(y=>
G("_".concat(y,"_").concat(d[y]))).join("")}function rc(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.equal}function bd(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.lt}function Ad(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.lte}function xa(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.gt}function Xa(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.gte}function zb(l){return null!==l&&void 0!==l&&l.field&&(p.isArray(l.range)&&2===l.range.length||Bc(l.range))?
!0:!1}function Xb(l){return!(null===l||void 0===l||!l.field)&&(p.isArray(l.oneOf)||p.isArray(l.in))}function tc(l){return Xb(l)||rc(l)||zb(l)||bd(l)||xa(l)||Ad(l)||Xa(l)}function gd(l,P){return ug(l,{timeUnit:P,wrapTime:!0})}function qc(l,P){return l.map(d=>gd(d,P))}function rb(l){var P,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:y}=l;const I=null===(P=af(l.timeUnit))||void 0===P?void 0:P.unit;P=I?"time(".concat(Ge(I,y),")"):Id(l,{expr:"datum"});if(rc(l))return"".concat(P,"\x3d\x3d\x3d").concat(gd(l.equal,
I));if(bd(l))return d=l.lt,"".concat(P,"\x3c").concat(gd(d,I));if(xa(l))return d=l.gt,"".concat(P,"\x3e").concat(gd(d,I));if(Ad(l))return d=l.lte,"".concat(P,"\x3c\x3d").concat(gd(d,I));if(Xa(l))return d=l.gte,"".concat(P,"\x3e\x3d").concat(gd(d,I));if(Xb(l))return"indexof([".concat(qc(l.oneOf,I).join(","),"], ").concat(P,") !\x3d\x3d -1");if(null!==l&&void 0!==l&&l.field&&void 0!==l.valid)return Bb(P,l.valid);if(zb(l)){var {range:X}=l;y=Bc(X)?{signal:"".concat(X.signal,"[0]")}:X[0];X=Bc(X)?{signal:"".concat(X.signal,
"[1]")}:X[1];if(null!==y&&null!==X&&d)return"inrange("+P+", ["+gd(y,I)+", "+gd(X,I)+"])";d=[];null!==y&&d.push("".concat(P," \x3e\x3d ").concat(gd(y,I)));null!==X&&d.push("".concat(P," \x3c\x3d ").concat(gd(X,I)));return 0<d.length?d.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(hh(l)));}function Bb(l){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?"isValid(".concat(l,") \x26\x26 isFinite(+").concat(l,")"):"!isValid(".concat(l,") || !isFinite(+").concat(l,
")")}function ic(l){if(tc(l)&&l.timeUnit){var P;return Object.assign({},l,{timeUnit:null===(P=af(l.timeUnit))||void 0===P?void 0:P.unit})}return l}function Uc(l){return"quantitative"===l||"temporal"===l}function Rd(l){return"ordinal"===l||"nominal"===l}function Md(l){if(l)switch(l=l.toLowerCase(),l){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}
function Gd(l){return Dl.has(l)}function Pd(l){return Bl.has(l)}function Me(l){return null===l||void 0===l?void 0:l.param}function Se(l,P){switch(P){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(l);case "bins":return!["point","band","identity","ordinal"].includes(l);case "round":return Ei.has(l)||"band"===l||"point"===l;case "padding":case "rangeMin":case "rangeMax":return Ei.has(l)||["point","band"].includes(l);
case "paddingOuter":case "align":return["point","band"].includes(l);case "paddingInner":return"band"===l;case "domainMax":case "domainMid":case "domainMin":case "clamp":return Ei.has(l);case "nice":return Ei.has(l)||"quantize"===l||"threshold"===l;case "exponent":return"pow"===l;case "base":return"log"===l;case "constant":return"symlog"===l;case "zero":return Pd(l)&&!g(["log","time","utc","threshold","quantile"],l)}}function ha(l,P){switch(P){case "interpolate":case "scheme":case "domainMid":if(!bb(l))return'Cannot use the scale property "'.concat(P,
'" with non-color channel.')}}function ob(l,P){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Sh[l])return!1;switch(l){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return Ei.has(P)||"band"===P?!0:"point"===P?!d:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return Ei.has(P)||Cj.has(P)||g(["band","point","ordinal"],P);case "color":case "fill":case "stroke":return"band"!==P;case "strokeDash":case "shape":return"ordinal"===
P||Cj.has(P)}}function Ea(l){return["line","area","trail"].includes(l)}function Ib(l){return l.type}function Yb(l){return l&&void 0!=l.band}function kc(l){const {channel:P,channelDef:d,markDef:y,scale:I,config:X}=l;l=qd(l);if(Ec(d)&&!ka(d.aggregate)&&I&&Ei.has(I.get("type"))){{let {fieldDef:ta,channel:cb,markDef:qb,ref:vb,config:Nb}={fieldDef:d,channel:P,markDef:y,ref:l,config:X};if(Ea(qb.type))l=vb;else if(null===Sc("invalid",qb,Nb)){var na=cb;l=Nc(ta,!0);na="y"===Ja(na)?{field:{group:"height"}}:
{value:0};l=[Object.assign({},{test:l},na),vb]}else l=vb}return l}return l}function Nc(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Bb(p.isString(l)?l:Id(l,{expr:"datum"}),!P)}function Jc(l,P,d,y){const I={};P&&(I.scale=P);Be(l)?({datum:l}=l,sd(l)?I.signal=he(l):Bc(l)?I.signal=l.signal:Mb(l)?I.signal=l.expr:I.value=l):I.field=Id(l,d);if(y){const {offset:X,band:na}=y;X&&(I.offset=X);na&&(I.band=na)}return I}function pd(l){let {scaleName:P,fieldOrDatumDef:d,fieldOrDatumDef2:y,
offset:I,startSuffix:X,bandPosition:na=.5}=l;var ta=0<na&&1>na?"datum":void 0;l=Id(d,{expr:ta,suffix:X});const cb=void 0!==y?Id(y,{expr:ta}):Id(d,{suffix:"end",expr:ta});ta={};0===na||1===na?(ta.scale=P,ta.field=0===na?l:cb):(l=Bc(na)?"".concat(na.signal," * ").concat(l," + (1-").concat(na.signal,") * ").concat(cb):"".concat(na," * ").concat(l," + ").concat(1-na," * ").concat(cb),ta.signal='scale("'.concat(P,'", ').concat(l,")"));I&&(ta.offset=I);return ta}function qd(l){let {channel:P,channelDef:d,
channel2Def:y,markDef:I,config:X,scaleName:na,scale:ta,stack:cb,offset:qb,defaultRef:vb,bandPosition:Nb}=l;if(d){if(Zd(d)){var xc,od;l=null===ta||void 0===ta?void 0:ta.get("type");if(vd(d)){var Pc;null!==(Pc=Nb)&&void 0!==Pc?Pc:Nb=Kb({fieldDef:d,fieldDef2:y,markDef:I,config:X});const {bin:Ed,timeUnit:Ud,type:pe}=d;if(Ta(Ed)||Nb&&Ud&&"temporal"===pe)return null!==cb&&void 0!==cb&&cb.impute?Jc(d,na,{binSuffix:"mid"},{offset:qb}):Nb&&!Gd(l)?pd({scaleName:na,fieldOrDatumDef:d,bandPosition:Nb,offset:qb}):
Jc(d,na,Tf(d,P)?{binSuffix:"range"}:{},{offset:qb});if(db(Ed)){if(Ec(y))return pd({scaleName:na,fieldOrDatumDef:d,fieldOrDatumDef2:y,bandPosition:Nb,offset:qb});lc(Dc("x"===P?"x2":"y2"))}}return Jc(d,na,Gd(l)?{binSuffix:"range"}:{},{offset:qb,band:"band"===l?null!==(xc=null!==(od=Nb)&&void 0!==od?od:d.bandPosition)&&void 0!==xc?xc:.5:void 0})}if(Kd(d))return xc=qb?{offset:qb}:{},Object.assign({},Yd(P,d.value),xc)}p.isFunction(vb)&&(vb=vb());return vb?Object.assign({},vb,qb?{offset:qb}:{}):vb}function Yd(l,
P){return g(["x","x2"],l)&&"width"===P?{field:{group:"width"}}:g(["y","y2"],l)&&"height"===P?{field:{group:"height"}}:Wb(P)}function Od(l){return l&&"number"!==l&&"time"!==l}function Jd(l,P,d){return"".concat(l,"(").concat(P).concat(d?", ".concat(hh(d)):"",")")}function ed(l){let {fieldOrDatumDef:P,format:d,formatType:y,expr:I,normalizeStack:X,config:na}=l;if(Od(y))return wc({fieldOrDatumDef:P,format:d,formatType:y,expr:I,config:na});l=td(P,I,X);var ta=Fd(P);if(void 0===d&&void 0===y&&na.customFormatTypes){if("quantitative"===
ta){if(X&&na.normalizedNumberFormatType)return wc({fieldOrDatumDef:P,format:na.normalizedNumberFormat,formatType:na.normalizedNumberFormatType,expr:I,config:na});if(na.numberFormatType)return wc({fieldOrDatumDef:P,format:na.numberFormat,formatType:na.numberFormatType,expr:I,config:na})}if("temporal"===ta&&na.timeFormatType&&Ec(P)&&void 0===P.timeUnit)return wc({fieldOrDatumDef:P,format:na.timeFormat,formatType:na.timeFormatType,expr:I,config:na})}if(Bf(P)){var cb,qb;{l={field:l,timeUnit:Ec(P)?null===
(cb=af(P.timeUnit))||void 0===cb?void 0:cb.unit:void 0,format:d,formatType:na.timeFormatType,rawTimeFormat:na.timeFormat,isUTCScale:ee(P)&&(null===(qb=P.scale)||void 0===qb?void 0:qb.type)===Xh.UTC};let {field:vb,timeUnit:Nb,format:xc,formatType:od,rawTimeFormat:Pc,isUTCScale:Ed}=l;!Nb||xc?!Nb&&od?cb="".concat(od,"(").concat(vb,", '").concat(xc,"')"):(xc=p.isString(xc)?xc:Pc,cb="".concat(Ed?"utc":"time","Format(").concat(vb,", '").concat(xc,"')")):(l=Nb,cb=vb,ta=Ed,l?(qb=Re(l),l=ta||l.startsWith("utc"),
cb="".concat(l?"utc":"time","Format(").concat(cb,", ").concat(qb,")")):cb=void 0)}return cb?{signal:cb}:void 0}d=ud({type:ta,specifiedFormat:d,config:na,normalizeStack:X});return Ec(P)&&Ta(P.bin)?(cb=Id(P,{expr:I,binSuffix:"end"}),{signal:Pb(l,cb,d,y,na)}):d||"quantitative"===Fd(P)?{signal:"".concat(kb(l,d))}:{signal:"isValid(".concat(l,") ? ").concat(l,' : ""+').concat(l)}}function td(l,P,d){if(Ec(l))return d?"".concat(Id(l,{expr:P,suffix:"end"}),"-").concat(Id(l,{expr:P,suffix:"start"})):Id(l,{expr:P});
({datum:l}=l);l=sd(l)?he(l):"".concat(hh(l));return l}function wc(l){var P;let {fieldOrDatumDef:d,format:y,formatType:I,expr:X,normalizeStack:na,config:ta,field:cb}=l;null!==(P=cb)&&void 0!==P?P:cb=td(d,X,na);return"datum.value"!==cb&&Ec(d)&&Ta(d.bin)?(l=Id(d,{expr:X,binSuffix:"end"}),{signal:Pb(cb,l,y,I,ta)}):{signal:Jd(I,cb,y)}}function Rc(l,P,d,y,I,X){if(!(Od(y)||void 0===d&&void 0===y&&I.customFormatTypes&&"quantitative"===Fd(l)&&(I.normalizedNumberFormatType&&we(l)&&"normalize"===l.stack||I.numberFormatType))){if(we(l)&&
"normalize"===l.stack&&I.normalizedNumberFormat)return ud({type:"quantitative",config:I,normalizeStack:!0});if(Bf(l)){var na;l=Ec(l)?null===(na=af(l.timeUnit))||void 0===na?void 0:na.unit:void 0;if(void 0===l&&I.customFormatTypes&&I.timeFormatType)return;{let {specifiedFormat:ta,timeUnit:cb,config:qb,omitTimeFormatConfig:vb}={specifiedFormat:d,timeUnit:l,config:I,omitTimeFormatConfig:X};d=ta?ta:cb?{signal:Re(cb)}:vb?void 0:qb.timeFormat}return d}return ud({type:P,specifiedFormat:d,config:I})}}function Lc(l,
P,d){if(l&&(Bc(l)||"number"===l||"time"===l))return l;if(Bf(P)&&"time"!==d&&"utc"!==d){var y;return Ec(P)&&null!==(y=af(null===P||void 0===P?void 0:P.timeUnit))&&void 0!==y&&y.utc?"utc":"time"}}function ud(l){let {type:P,specifiedFormat:d,config:y,normalizeStack:I}=l;if(p.isString(d))return d;if("quantitative"===P)return I?y.normalizedNumberFormat:y.numberFormat}function kb(l,P){return"format(".concat(l,', "').concat(P||"",'")')}function Gb(l,P,d,y){var I;return Od(d)?Jd(d,l,P):kb(l,null!==(I=p.isString(P)?
P:void 0)&&void 0!==I?I:y.numberFormat)}function Pb(l,P,d,y,I){if(void 0===d&&void 0===y&&I.customFormatTypes&&I.numberFormatType)return Pb(l,P,I.numberFormat,I.numberFormatType,I);const X=Gb(l,d,y,I);P=Gb(P,d,y,I);return"".concat(Bb(l,!1),' ? "null" : ').concat(X,' + "').concat("  ",'" + ').concat(P)}function bc(l){return!(null===l||void 0===l||!l.encoding)}function fa(l){return l&&("count"===l.op||!!l.field)}function Ha(l){return l&&p.isArray(l)}function gb(l){return"row"in l||"column"in l}function Fb(l){const {field:P,
timeUnit:d,bin:y,aggregate:I}=l;return Object.assign({},d?{timeUnit:d}:{},y?{bin:y}:{},I?{aggregate:I}:{},{field:P})}function Kb(l){let {fieldDef:P,fieldDef2:d,markDef:y,config:I}=l;if(Zd(P)&&void 0!==P.bandPosition)return P.bandPosition;if(Ec(P)){const {timeUnit:X,bin:na}=P;if(X&&!d)return["rect","bar","image","arc"].includes(y.type)?0:jd("timeUnitBandPosition",y,I);if(Ta(na))return.5}}function Ob(l){let {channel:P,fieldDef:d,fieldDef2:y,markDef:I,config:X,scaleType:na,useVlSizeChannel:ta}=l;l=Pa(P);
l=Sc(ta?"size":l,I,X,{vgChannel:l});if(void 0!==l)return l;if(Ec(d)){const {timeUnit:Nb,bin:xc}=d;if(Nb&&!y)return{band:jd("timeUnitBandSize",I,X)};if(Ta(xc)&&!Gd(na))return{band:1}}if(["rect","bar","image","arc"].includes(I.type)){var cb;if(na){if(Gd(na)){var qb;return(null===(qb=X[I.type])||void 0===qb?void 0:qb.discreteBandSize)||{band:1}}var vb;return null===(vb=X[I.type])||void 0===vb?void 0:vb.continuousBandSize}return null===(cb=X[I.type])||void 0===cb?void 0:cb.discreteBandSize}}function oc(l,
P,d,y){return Ta(l.bin)||l.timeUnit&&vd(l)&&"temporal"===l.type?void 0!==Kb({fieldDef:l,fieldDef2:P,markDef:d,config:y}):!1}function Oc(l){return l&&"condition"in l}function yc(l){l=null===l||void 0===l?void 0:l.condition;return!!l&&!p.isArray(l)&&Ec(l)}function fd(l){l=null===l||void 0===l?void 0:l.condition;return!!l&&!p.isArray(l)&&Zd(l)}function Ec(l){return l&&(!!l.field||"count"===l.aggregate)}function Fd(l){return null===l||void 0===l?void 0:l.type}function Be(l){return l&&"datum"in l}function fe(l){return vd(l)&&
!sf(l)||Ae(l)}function Ae(l){return Be(l)&&p.isNumber(l.datum)}function Zd(l){return Ec(l)||Be(l)}function vd(l){return l&&("field"in l||"count"===l.aggregate)&&"type"in l}function Kd(l){return l&&"value"in l&&"value"in l}function ee(l){return l&&("scale"in l||"sort"in l)}function we(l){return l&&("axis"in l||"stack"in l||"impute"in l)}function ye(l){return l&&("format"in l||"formatType"in l)}function Te(l){return b(l,["legend","axis","header","scale"])}function Id(l){let P=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:{},d=l.field;const y=P.prefix;let I=P.suffix,X="";if("count"===l.aggregate)d=Y("count");else{let qb;if(!P.nofn)if("op"in l)qb=l.op;else{const {bin:vb,aggregate:Nb,timeUnit:xc}=l;if(Ta(vb)){var na,ta;qb=wa(vb);I=(null!==(na=P.binSuffix)&&void 0!==na?na:"")+(null!==(ta=P.suffix)&&void 0!==ta?ta:"")}else if(Nb)ja(Nb)?(X='["'.concat(d,'"]'),d="argmax_".concat(Nb.argmax)):Oa(Nb)?(X='["'.concat(d,'"]'),d="argmin_".concat(Nb.argmin)):qb=String(Nb);else if(xc){var cb;qb=Qb(xc);I=
(!["range","mid"].includes(P.binSuffix)&&P.binSuffix||"")+(null!==(cb=P.suffix)&&void 0!==cb?cb:"")}}qb&&(d=d?"".concat(qb,"_").concat(d):qb)}I&&(d="".concat(d,"_").concat(I));y&&(d="".concat(y,"_").concat(d));return P.forAs?aa(d):P.expr?ba(d,P.expr)+X:ea(d)+X}function sf(l){switch(l.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Ec(l)&&!!l.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(l.type,'".'));}function zf(l,P){const {field:d,
bin:y,timeUnit:I,aggregate:X}=l;if("count"===X)return P.countTitle;if(Ta(y))return"".concat(d," (binned)");if(I){var na;if(l=null===(na=af(I))||void 0===na?void 0:na.unit)return"".concat(d," (").concat(re(l).join("-"),")")}else if(X)return ja(X)?"".concat(d," for max ").concat(X.argmax):Oa(X)?"".concat(d," for min ").concat(X.argmin):"".concat(ca(X)," of ").concat(d);return d}function Ff(l,P,d){var y;let {allowDisabling:I,includeDefault:X=!0}=d;d=null===(y=$g(l))||void 0===y?void 0:y.title;if(!Ec(l))return null!==
d&&void 0!==d?d:l.title;P=X?Ej(l,P):void 0;if(I)return B(d,l.title,P);var na;return null!==(na=null!==d&&void 0!==d?d:l.title)&&void 0!==na?na:P}function $g(l){if(we(l)&&l.axis)return l.axis;if(l&&"legend"in l&&l.legend)return l.legend;if(l&&"header"in l&&l.header)return l.header}function ie(l){if(ye(l)){const {format:I,formatType:X}=l;return{format:I,formatType:X}}var P;l=null!==(P=$g(l))&&void 0!==P?P:{};const {format:d,formatType:y}=l;return{format:d,formatType:y}}function mf(l,P){var d;switch(P){case "latitude":case "longitude":return"quantitative";
case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in l&&p.isArray(l.sort))return"ordinal";const {aggregate:y,bin:I,timeUnit:X}=l;if(X)return"temporal";if(I||y&&!ja(y)&&!Oa(y))return"quantitative";if(ee(l)&&null!==(d=l.scale)&&void 0!==d&&d.type)switch(Wk[l.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Sf(l){if(Ec(l))return l;if(yc(l))return l.condition}
function Gf(l){if(Zd(l))return l;if(fd(l))return l.condition}function Ag(l,P,d){var y=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return p.isString(l)||p.isNumber(l)||p.isBoolean(l)?(y=p.isString(l)?"string":p.isNumber(l)?"number":"boolean",y="Channel ".concat(P," is a ").concat(y,". Converted to {value: ").concat(hh(l),"}."),lc(y),{value:l}):Zd(l)?ng(l,P,d,y):fd(l)?Object.assign({},l,{condition:ng(l.condition,P,d,y)}):l}function ng(l,P,d,y){if(ye(l)){var I=Object.assign({},l),X=l.formatType;
I=(delete I.format,delete I.formatType,I);if(Od(X)&&!d.customFormatTypes)return lc(qe(P)),ng(I,P,d,y)}else if((X=we(l)?"axis":l&&"legend"in l?"legend":l&&"header"in l?"header":null)&&l[X]){var na=l[X];I=Object.assign({},na);na=na.formatType;I=(delete I.format,delete I.formatType,I);if(Od(na)&&!d.customFormatTypes)return lc(qe(P)),ng(Object.assign({},l,{[X]:I}),P,d,y)}if(Ec(l))return tg(l,P,y);P=l.type;P||({datum:P}=l,P=p.isNumber(P)?"quantitative":p.isString(P)?"nominal":sd(P)?"temporal":void 0,l=
Object.assign({},l,{type:P}));return l}function tg(l,P){var {compositeMark:d=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:y,timeUnit:I,bin:X,field:na}=l,ta=Object.assign({},l);d||!y||U(y)||ja(y)||Oa(y)||(lc('Invalid aggregation operator "'.concat(y,'".')),delete ta.aggregate);I&&(ta.timeUnit=af(I));na&&(ta.field="".concat(na));Ta(X)&&(ta.bin=Sg(X,P));db(X)&&!va(P)&&lc("Channel ".concat(P,' should not be used with "binned" bin.'));if(vd(ta)){({type:d}=ta);var cb=Md(d);
d!==cb&&(ta.type=cb);"quantitative"!==d&&ka(y)&&(d='Invalid field type "'.concat(d,'" for aggregate: "').concat(y,'", using "quantitative" instead.'),lc(d),ta.type="quantitative")}else ib(P)||(d=mf(ta,P),ta.type=d);if(vd(ta)){const {compatible:vb,warning:Nb}=ig(ta,P)||{};!1===vb&&lc(Nb)}if("sort"in ta&&p.isString(ta.sort)){({sort:d}=ta);if(d in bk)return Object.assign({},ta,{sort:{encoding:d}});cb=d.substr(1);if("-"===d.charAt(0)&&cb in bk)return Object.assign({},ta,{sort:{encoding:cb,order:"descending"}})}if(ta&&
"header"in ta&&({header:d}=ta,d)){var qb=d;cb=Object.assign({},qb);qb=qb.orient;cb=(delete cb.orient,cb);if(qb)return Object.assign({},ta,{header:Object.assign({},cb,{labelOrient:d.labelOrient||qb,titleOrient:d.titleOrient||qb})})}return ta}function Sg(l,P){return p.isBoolean(l)?{maxbins:nb(P)}:"binned"===l?{binned:!0}:l.maxbins||l.step?l:Object.assign({},l,{maxbins:nb(P)})}function ig(l,P){var d=l.type;if("geojson"===d&&"shape"!==P)return{compatible:!1,warning:"Channel ".concat(P," should not be used with a geojson data.")};
switch(P){case "row":case "column":case "facet":return sf(l)?qi:{compatible:!1,warning:"".concat(P," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return qi;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==d?{compatible:!1,
warning:"Channel ".concat(P," should be used with a quantitative field only, not ").concat(l.type," field.")}:qi;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==d||l.sort?qi:{compatible:!1,warning:"Channel ".concat(P," should not be used with an unsorted discrete field.")};case "shape":case "strokeDash":if(d=!sf(l)){var y;d=!(ee(l)&&Cj.has(null===(y=l.scale)||void 0===y?void 0:y.type))}return d?
{compatible:!1,warning:"".concat(P," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}:qi;case "order":return"nominal"!==l.type||"sort"in l?qi:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function Bf(l){var {formatType:P}=ie(l),d;if(!(d="time"===P)){if(P=!P)P=l&&("temporal"===l.type||Ec(l)&&!!l.timeUnit);d=P}return d}function ug(l,P){let {timeUnit:d,type:y,wrapTime:I,undefinedIfExprNotRequired:X}=
P;var na=(P=d&&(null===(na=af(d))||void 0===na?void 0:na.unit))||"temporal"===y;let ta;Mb(l)?ta=l.expr:Bc(l)?ta=l.signal:sd(l)?(na=!0,ta=he(l)):(p.isString(l)||p.isNumber(l))&&na&&(ta="datetime(".concat(hh(l),")"),ml[P]&&(p.isNumber(l)&&1E4>l||p.isString(l)&&isNaN(Date.parse(l)))&&(ta=he({[P]:l})));return ta?I&&na?"time(".concat(ta,")"):ta:X?void 0:hh(l)}function og(l,P){const {type:d}=l;return P.map(y=>{const I=ug(y,{timeUnit:Ec(l)?l.timeUnit:void 0,type:d,undefinedIfExprNotRequired:!0});return void 0!==
I?{signal:I}:y})}function Tf(l,P){return Ta(l.bin)?!!Sh[P]&&["ordinal","nominal"].includes(l.type):(console.warn("Only call this method for binned field defs."),!1)}function Wf(l){return null===l||void 0===l?void 0:l.condition}function Tg(l){return"mark"in l}function bh(l,P){return(l=l&&l[P])?p.isArray(l)?n(l,d=>!!d.field):Ec(l)||yc(l):!1}function Mg(l,P){return(l=l&&l[P])?p.isArray(l)?n(l,d=>!!d.field):Ec(l)||Be(l)||fd(l):!1}function Ig(l,P){if(va(P)){const d=l[P];if((Ec(d)||Be(d))&&Rd(d.type))return P=
ya(P),Mg(l,P)}return!1}function Ng(l){return n(Fl,P=>bh(l,P)?(P=l[P],p.isArray(P)?n(P,d=>!!d.aggregate):(P=Sf(P))&&!!P.aggregate):!1)}function Wa(l,P){const d=[],y=[],I=[],X=[],na={};ne(l,(ta,cb)=>{if(Ec(ta)){var qb=Object.assign({},ta),vb=ta.field;const xc=ta.aggregate,od=ta.bin,Pc=ta.timeUnit;qb=(delete qb.field,delete qb.aggregate,delete qb.bin,delete qb.timeUnit,qb);if(xc||Pc||od){var Nb=$g(ta);const Ed=null===Nb||void 0===Nb?void 0:Nb.title;Nb=Id(ta,{forAs:!0});qb=Object.assign({},Ed?[]:{title:Ff(ta,
P,{allowDisabling:!0})},qb,{field:Nb});if(xc){let Ud;ja(xc)?(Ud="argmax",Nb=Id({op:"argmax",field:xc.argmax},{forAs:!0}),qb.field="".concat(Nb,".").concat(vb)):Oa(xc)?(Ud="argmin",Nb=Id({op:"argmin",field:xc.argmin},{forAs:!0}),qb.field="".concat(Nb,".").concat(vb)):"boxplot"!==xc&&"errorbar"!==xc&&"errorband"!==xc&&(Ud=xc);Ud&&(ta={op:Ud,as:Nb},vb&&(ta.field=vb),X.push(ta))}else d.push(Nb),vd(ta)&&Ta(od)?(y.push({bin:od,field:vb,as:Nb}),d.push(Id(ta,{binSuffix:"end"})),Tf(ta,cb)&&d.push(Id(ta,{binSuffix:"range"})),
va(cb)&&(vb={field:"".concat(Nb,"_end")},na["".concat(cb,"2")]=vb),qb.bin="binned",ib(cb)||(qb.type="quantitative")):Pc&&(I.push({timeUnit:Pc,field:vb,as:Nb}),(vb=vd(ta)&&"temporal"!==ta.type&&"time")&&("text"===cb||"tooltip"===cb?qb.formatType=vb:qj[cb]?qb.legend=Object.assign({},{formatType:vb},qb.legend):va(cb)&&(qb.axis=Object.assign({},{formatType:vb},qb.axis))));na[cb]=qb}else d.push(vb),na[cb]=l[cb]}else na[cb]=l[cb]});return{bins:y,timeUnits:I,aggregate:X,groupby:d,encoding:na}}function Cb(l,
P,d){d=eb(P)[d];return d&&("binned"!==d||(d=l["x2"===P?"x":"y"],Ec(d)&&Ec(l[P])&&db(d.bin)))?!0:!1}function hc(l,P,d,y){const I={};for(var X of se(l))Zj[X]||lc(za(X));for(let ta of Cl)if(l[ta]){X=l[ta];if(ta in Si){var na=oa(ta);const cb=I[na];if(Ec(cb)){if(Uc(cb.type)&&Ec(X)){lc(wd(na));continue}}else ta=na,lc(qf(na))}"angle"!==ta||"arc"!==P||l.theta||(lc("Arc marks uses theta channel rather than angle, replacing angle with theta."),ta="theta");if(Cb(l,ta,P)){if("size"===ta&&"line"===P&&(na=Sf(l[ta]),
null!==na&&void 0!==na&&na.aggregate)){lc("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}if("color"===ta&&(d?"fill"in l:"stroke"in l))lc(gf("encoding",{fill:"fill"in l,stroke:"stroke"in l}));else if("detail"===ta||"order"===ta&&!p.isArray(X)&&!Kd(X)||"tooltip"===ta&&p.isArray(X))X&&(I[ta]=p.array(X).reduce((cb,qb)=>{Ec(qb)?cb.push(tg(qb,ta)):lc(te(qb,ta));return cb},[]));else{if("tooltip"===ta&&null===X)I[ta]=null;else if(!(Ec(X)||Be(X)||
Kd(X)||Oc(X)||Bc(X))){lc(te(X,ta));continue}I[ta]=Ag(X,ta,y)}}else lc(We(ta,P))}return I}function yd(l,P){const d={};for(const y of se(l)){const I=Ag(l[y],y,P,{compositeMark:!0});d[y]=I}return d}function Dd(l){const P=[];for(const d of se(l))if(bh(l,d)){const y=p.array(l[d]);for(const I of y)Ec(I)?P.push(I):yc(I)&&P.push(I.condition)}return P}function ne(l,P,d){if(l)for(const y of se(l)){const I=l[y];if(p.isArray(I))for(const X of I)P.call(d,X,y);else P.call(d,I,y)}}function of(l,P,d,y){return l?
se(l).reduce((I,X)=>{const na=l[X];return p.isArray(na)?na.reduce((ta,cb)=>P.call(y,ta,cb,X),I):P.call(y,I,na,X)},d):d}function uf(l,P){return se(P).reduce((d,y)=>{switch(y){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return d;case "order":if("line"===l||"trail"===
l)return d;case "detail":case "key":y=P[y];if(p.isArray(y)||Ec(y))for(var I of p.array(y))I.aggregate||d.push(Id(I,{}));return d;case "size":if("trail"===l)return d;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(I=Sf(P[y]))&&!I.aggregate&&d.push(Id(I,{})),d}},[])}function Wg(l,P,d){let y=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in d)return{tooltip:d.tooltip};const I=l.map(na=>{let {fieldPrefix:ta,
titlePrefix:cb}=na;na=y?" of ".concat(Uf(P)):"";return{field:ta+P.field,type:P.type,title:Bc(cb)?{signal:"".concat(cb,'"').concat(escape(na),'"')}:cb+na}}),X=Dd(d).map(Te);return{tooltip:[...I,...O(X,c)]}}function Uf(l){const {title:P,field:d}=l;return B(P,d)}function Xg(l,P,d,y,I){const {scale:X,axis:na}=d;return ta=>{let {partName:cb,mark:qb,positionPrefix:vb,endPositionPrefix:Nb,extraEncoding:xc={}}=ta;ta=Uf(d);return Fh(l,cb,I,{mark:qb,encoding:Object.assign({},{[P]:Object.assign({},{field:"".concat(vb,
"_").concat(d.field),type:d.type},void 0!==ta?{title:ta}:{},void 0!==X?{scale:X}:{},void 0!==na?{axis:na}:{})},p.isString(Nb)?{["".concat(P,"2")]:{field:"".concat(Nb,"_").concat(d.field)}}:{},y,xc)})}}function Fh(l,P,d,y){const {clip:I,color:X,opacity:na}=l,ta=l.type;return l[P]||void 0===l[P]&&d[P]?[Object.assign({},y,{mark:Object.assign({},d[P],I?{clip:I}:{},X?{color:X}:{},na?{opacity:na}:{},Ib(y.mark)?y.mark:{type:y.mark},{style:"".concat(ta,"-").concat(String(P))},p.isBoolean(l[P])?{}:l[P])})]:
[]}function ph(l,P,d){({encoding:l}=l);P="vertical"===P?"y":"x";const y=l[P],I=l["".concat(P,"2")],X=l["".concat(P,"Error")];l=l["".concat(P,"Error2")];return{continuousAxisChannelDef:vg(y,d),continuousAxisChannelDef2:vg(I,d),continuousAxisChannelDefError:vg(X,d),continuousAxisChannelDefError2:vg(l,d),continuousAxis:P}}function vg(l,P){if(null!==l&&void 0!==l&&l.aggregate){var d=Object.assign({},l);l=l.aggregate;d=(delete d.aggregate,d);l!==P&&(P="Continuous axis should not have customized aggregation function ".concat(l,
"; ").concat(P," already agregates the axis."),lc(P));return d}return l}function Ug(l,P){const {mark:d,encoding:y}=l,{x:I,y:X}=y;if(Ib(d)&&d.orient)return d.orient;if(fe(I)){if(fe(X)){l=Ec(I)&&I.aggregate;const na=Ec(X)&&X.aggregate;if(!l&&na===P)return"vertical";if(na||l!==P){if(l===P&&na===P)throw Error("Both x and y cannot have aggregate");return Bf(X)&&!Bf(I)?"horizontal":"vertical"}}return"horizontal"}if(fe(X))return"vertical";throw Error("Need a valid continuous axis for ".concat(P,"s"));}function nh(l){return p.isNumber(l)?
"tukey":l}function qh(l,P){var d,{config:y}=P,I=l=Object.assign({},l,{encoding:yd(l.encoding,y)});P=Object.assign({},I);var X=I.mark;I=I.params;P=(delete P.mark,delete P.encoding,delete P.params,delete P.projection,P);X=Ib(X)?X:{type:X};I&&lc(Xd("boxplot"));I=null!==(d=X.extent)&&void 0!==d?d:y.boxplot.extent;var na=Sc("size",X,y);d=nh(I);var ta=l;l=Ug(ta,"boxplot");const {continuousAxisChannelDef:cb,continuousAxis:qb}=ph(ta,l,"boxplot");var vb=cb.field,Nb=nh(I),xc=[...Lh(vb),{op:"median",field:vb,
as:"mid_box_".concat(vb)},{op:"min",field:vb,as:("min-max"===Nb?"lower_whisker_":"min_")+vb},{op:"max",field:vb,as:("min-max"===Nb?"upper_whisker_":"max_")+vb}];vb="min-max"===Nb||"tukey"===Nb?[]:[{calculate:'datum["upper_box_'.concat(vb,'"] - datum["lower_box_').concat(vb,'"]'),as:"iqr_".concat(vb)},{calculate:'min(datum["upper_box_'.concat(vb,'"] + datum["iqr_').concat(vb,'"] * ').concat(I,', datum["max_').concat(vb,'"])'),as:"upper_whisker_".concat(vb)},{calculate:'max(datum["lower_box_'.concat(vb,
'"] - datum["iqr_').concat(vb,'"] * ').concat(I,', datum["min_').concat(vb,'"])'),as:"lower_whisker_".concat(vb)}];ta=Object.assign({},ta.encoding);var od;Nb=(delete ta[qb],ta);ta=Object.assign({},Nb);Nb=Nb.tooltip;ta=(delete ta.tooltip,ta);if(Nb){var Pc;if(p.isArray(Nb)){for(var Ed of Nb)Ed.aggregate?(od||(od=[]),od.push(Ed)):(Pc||(Pc=[]),Pc.push(Ed));od&&(ta.tooltip=od)}else Nb.aggregate?ta.tooltip=Nb:Pc=Nb;p.isArray(Pc)&&1===Pc.length&&(Pc=Pc[0]);od={customTooltipWithoutAggregatedField:Pc,filteredEncoding:ta}}else od=
{filteredEncoding:ta};const {customTooltipWithoutAggregatedField:Ud,filteredEncoding:pe}=od,{bins:Ie,timeUnits:je,aggregate:Fe,groupby:bf,encoding:Ue}=Wa(pe,y);od=[...Ie,...je,{aggregate:[...Fe,...xc],groupby:bf},...vb];const {bins:Le,timeUnits:Xf,transform:jh,continuousAxisChannelDef:kg,continuousAxis:ki,groupby:Mi,aggregate:Hl,encodingWithoutContinuousAxis:kh,ticksOrient:pl,boxOrient:Il,customTooltipWithoutAggregatedField:Xl}={bins:Ie,timeUnits:je,transform:od,groupby:bf,aggregate:Fe,continuousAxisChannelDef:cb,
continuousAxis:qb,encodingWithoutContinuousAxis:Ue,ticksOrient:"vertical"===l?"horizontal":"vertical",boxOrient:l,customTooltipWithoutAggregatedField:Ud};Pc=Object.assign({},kh);od=kh.color;xc=kh.size;Pc=(delete Pc.color,delete Pc.size,Pc);Ed=Xg(X,ki,kg,Pc,y.boxplot);l=Xg(X,ki,kg,kh,y.boxplot);xc=Xg(X,ki,kg,Object.assign({},Pc,xc?{size:xc}:{}),y.boxplot);vb=Wg([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",
titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],kg,kh);ta={type:"tick",color:"black",opacity:1,orient:pl,invalid:null,aria:!1};Nb="min-max"===d?vb:Wg([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],kg,kh);Ed=[...Ed({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Nb}),
...Ed({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Nb}),...Ed({partName:"ticks",mark:ta,positionPrefix:"lower_whisker",extraEncoding:Nb}),...Ed({partName:"ticks",mark:ta,positionPrefix:"upper_whisker",extraEncoding:Nb})];na=[...("tukey"!==d?Ed:[]),...l({partName:"box",mark:Object.assign({},{type:"bar"},na?{size:na}:{},{orient:Il,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",
extraEncoding:vb}),...xc({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},p.isObject(y.boxplot.median)&&y.boxplot.median.color?{color:y.boxplot.median.color}:{},na?{size:na}:{},{orient:pl,aria:!1}),positionPrefix:"mid_box",extraEncoding:vb})];if("min-max"===d){var Hj;return Object.assign({},P,{transform:(null!==(Hj=P.transform)&&void 0!==Hj?Hj:[]).concat(jh),layer:na})}Hj='datum["lower_box_'.concat(kg.field,'"]');d='datum["upper_box_'.concat(kg.field,'"]');l="(".concat(d," - ").concat(Hj,
")");Hj="".concat(Hj," - ").concat(I," * ").concat(l);l="".concat(d," + ").concat(I," * ").concat(l);xc='datum["'.concat(kg.field,'"]');I={joinaggregate:Lh(kg.field),groupby:Mi};d={transform:[{filter:"(".concat(Hj," \x3c\x3d ").concat(xc,") \x26\x26 (").concat(xc," \x3c\x3d ").concat(l,")")},{aggregate:[{op:"min",field:kg.field,as:"lower_whisker_".concat(kg.field)},{op:"max",field:kg.field,as:"upper_whisker_".concat(kg.field)},{op:"min",field:"lower_box_".concat(kg.field),as:"lower_box_".concat(kg.field)},
{op:"max",field:"upper_box_".concat(kg.field),as:"upper_box_".concat(kg.field)},...Hl],groupby:Mi}],layer:Ed};Pc=Object.assign({},Pc);Pc=(delete Pc.tooltip,Pc);const {scale:Yl,axis:om}=kg;Ed=Uf(kg);vb=b(om,["title"]);y=Fh(X,"outliers",y.boxplot,{transform:[{filter:"(".concat(xc," \x3c ").concat(Hj,") || (").concat(xc," \x3e ").concat(l,")")}],mark:"point",encoding:Object.assign({},{[ki]:Object.assign({},{field:kg.field,type:kg.type},void 0!==Ed?{title:Ed}:{},void 0!==Yl?{scale:Yl}:{},r(vb)?{}:{axis:vb})},
Pc,od?{color:od}:{},Xl?{tooltip:Xl}:{})})[0];X=[...Le,...Xf,I];y?y={transform:X,layer:[y,d]}:(y=d,y.transform.unshift(...X));return Object.assign({},P,{layer:[y,{transform:jh,layer:na}]})}function Lh(l){return[{op:"q1",field:l,as:"lower_box_".concat(l)},{op:"q3",field:l,as:"upper_box_".concat(l)}]}function uh(l,P){({config:P}=P);l=Object.assign({},l,{encoding:yd(l.encoding,P)});const {transform:d,continuousAxisChannelDef:y,continuousAxis:I,encodingWithoutContinuousAxis:X,ticksOrient:na,markDef:ta,
outerSpec:cb,tooltipEncoding:qb}=Jg(l,"errorbar",P);delete X.size;l=Xg(ta,I,y,X,P.errorbar);P=ta.thickness;var vb=ta.size;vb=Object.assign({},{type:"tick",orient:na,aria:!1},void 0!==P?{thickness:P}:{},void 0!==vb?{size:vb}:{});l=[...l({partName:"ticks",mark:vb,positionPrefix:"lower",extraEncoding:qb}),...l({partName:"ticks",mark:vb,positionPrefix:"upper",extraEncoding:qb}),...l({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==P?{size:P}:{}),positionPrefix:"lower",
endPositionPrefix:"upper",extraEncoding:qb})];return Object.assign({},cb,{transform:d},1<l.length?{layer:l}:Object.assign({},l[0]))}function Eh(l,P){var {encoding:d}=l;if(!(!Zd(d.x)&&!Zd(d.y)||Zd(d.x2)||Zd(d.y2)||Zd(d.xError)||Zd(d.xError2)||Zd(d.yError)||Zd(d.yError2)))return{orient:Ug(l,P),inputType:"raw"};var y=Zd(d.x2)||Zd(d.y2);var I=Zd(d.xError)||Zd(d.xError2)||Zd(d.yError)||Zd(d.yError2);l=d.x;const X=d.y;if(y){if(I)throw Error("".concat(P," cannot be both type aggregated-upper-lower and aggregated-error"));
y=d.x2;d=d.y2;if(Zd(y)&&Zd(d))throw Error("".concat(P," cannot have both x2 and y2"));if(Zd(y)){if(fe(l))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(P));}if(Zd(d)){if(fe(X))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(P));}}else{y=d.xError;I=d.yError;const na=d.yError2;if(Zd(d.xError2)&&!Zd(y))throw Error("".concat(P," cannot have xError2 without xError"));
if(Zd(na)&&!Zd(I))throw Error("".concat(P," cannot have yError2 without yError"));if(Zd(y)&&Zd(I))throw Error("".concat(P," cannot have both xError and yError with both are quantiative"));if(Zd(y)){if(fe(l))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Zd(I)){if(fe(X))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");
}function Jg(l,P,d){var y,I=Object.assign({},l),X=l.mark,na=l.encoding,ta=l.params;I=(delete I.mark,delete I.encoding,delete I.params,delete I.projection,I);X=Ib(X)?X:{type:X};ta&&lc(Xd(P));const {orient:cb,inputType:qb}=Eh(l,P),{continuousAxisChannelDef:vb,continuousAxisChannelDef2:Nb,continuousAxisChannelDefError:xc,continuousAxisChannelDefError2:od,continuousAxis:Pc}=ph(l,cb,P);var Ed=[];l=[];ta=vb.field;var Ud=!1;if("raw"===qb){var pe=X.center?X.center:X.extent?"iqr"===X.extent?"median":"mean":
d.errorbar.center;var Ie=X.extent?X.extent:"mean"===pe?"stderr":"iqr";"median"===pe!==("iqr"===Ie)&&(Ed=Ie,Ed="".concat(pe," is not usually used with ").concat(Ed," for ").concat(P,"."),lc(Ed));"stderr"===Ie||"stdev"===Ie?(Ed=[{op:Ie,field:ta,as:"extent_".concat(ta)},{op:pe,field:ta,as:"center_".concat(ta)}],l=[{calculate:'datum["center_'.concat(ta,'"] + datum["extent_').concat(ta,'"]'),as:"upper_".concat(ta)},{calculate:'datum["center_'.concat(ta,'"] - datum["extent_').concat(ta,'"]'),as:"lower_".concat(ta)}],
pe=[{fieldPrefix:"center_",titlePrefix:ca(pe)},{fieldPrefix:"upper_",titlePrefix:K(pe,Ie,"+")},{fieldPrefix:"lower_",titlePrefix:K(pe,Ie,"-")}],Ud=!0):("ci"===Ie?(P="mean",pe="ci0",Ie="ci1"):(P="median",pe="q1",Ie="q3"),Ed=[{op:pe,field:ta,as:"lower_".concat(ta)},{op:Ie,field:ta,as:"upper_".concat(ta)},{op:P,field:ta,as:"center_".concat(ta)}],pe=[{fieldPrefix:"upper_",titlePrefix:Ff({field:ta,aggregate:Ie,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ff({field:ta,
aggregate:pe,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ff({field:ta,aggregate:P,type:"quantitative"},d,{allowDisabling:!1})}])}else{if(X.center||X.extent){P=X.center;var je=X.extent;P="".concat(je?"extent ":"").concat(je&&P?"and ":"").concat(P?"center ":"").concat(je&&P?"are ":"is ","not needed when data are aggregated.");lc(P)}"aggregated-upper-lower"===qb?(pe=[],l=[{calculate:'datum["'.concat(Nb.field,'"]'),as:"upper_".concat(ta)},{calculate:'datum["'.concat(ta,
'"]'),as:"lower_".concat(ta)}]):"aggregated-error"===qb&&(pe=[{fieldPrefix:"",titlePrefix:ta}],l=[{calculate:'datum["'.concat(ta,'"] + datum["').concat(xc.field,'"]'),as:"upper_".concat(ta)}],od?l.push({calculate:'datum["'.concat(ta,'"] + datum["').concat(od.field,'"]'),as:"lower_".concat(ta)}):l.push({calculate:'datum["'.concat(ta,'"] - datum["').concat(xc.field,'"]'),as:"lower_".concat(ta)}));for(Ie of l)pe.push({fieldPrefix:Ie.as.substring(0,6),titlePrefix:La(La(Ie.calculate,'datum["',""),'"]',
"")})}const {errorBarSpecificAggregate:Fe,postAggregateCalculates:bf,tooltipSummary:Ue,tooltipTitleWithFieldName:Le}={postAggregateCalculates:l,errorBarSpecificAggregate:Ed,tooltipSummary:pe,tooltipTitleWithFieldName:Ud};na=Object.assign({},na);l="x"===Pc?"x2":"y2";ta="x"===Pc?"xError":"yError";Ud="x"===Pc?"xError2":"yError2";na=(delete na[Pc],delete na[l],delete na[ta],delete na[Ud],na);const {bins:Xf,timeUnits:jh,aggregate:kg,groupby:ki,encoding:Mi}=Wa(na,d);d=[...kg,...Fe];na="raw"!==qb?[]:ki;
l=Wg(Ue,vb,Mi,Le);return{transform:[...(null!==(y=I.transform)&&void 0!==y?y:[]),...Xf,...jh,...(0===d.length?[]:[{aggregate:d,groupby:na}]),...bf],groupby:na,continuousAxisChannelDef:vb,continuousAxis:Pc,encodingWithoutContinuousAxis:Mi,ticksOrient:"vertical"===cb?"horizontal":"vertical",markDef:X,outerSpec:I,tooltipEncoding:l}}function K(l,P,d){return"".concat(ca(l)," ").concat(d," ").concat(P)}function da(l,P){({config:P}=P);l=Object.assign({},l,{encoding:yd(l.encoding,P)});const {transform:d,
continuousAxisChannelDef:y,continuousAxis:I,encodingWithoutContinuousAxis:X,markDef:na,outerSpec:ta,tooltipEncoding:cb}=Jg(l,"errorband",P);P=Xg(na,I,y,X,P.errorband);l=void 0!==l.encoding.x&&void 0!==l.encoding.y;let qb={type:l?"area":"rect"},vb={type:l?"line":"rule"};const Nb=Object.assign({},na.interpolate?{interpolate:na.interpolate}:{},na.tension&&na.interpolate?{tension:na.tension}:{});l?(qb=Object.assign({},qb,Nb,{ariaRoleDescription:"errorband"}),vb=Object.assign({},vb,Nb,{aria:!1})):na.interpolate?
lc(Hc("interpolate")):na.tension&&lc(Hc("tension"));return Object.assign({},ta,{transform:d,layer:[...P({partName:"band",mark:qb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:cb}),...P({partName:"borders",mark:vb,positionPrefix:"lower",extraEncoding:cb}),...P({partName:"borders",mark:vb,positionPrefix:"upper",extraEncoding:cb})]})}function Ma(l,P,d){P=new Dj(l,P);il[l]={normalizer:P,parts:d}}function fb(l){return"legend"===l||!(null===l||void 0===l||!l.legend)}function Eb(l){return fb(l)&&
p.isObject(l)}function Sb(l){return!(null===l||void 0===l||!l.select)}function Cc(l){const P=[];for(const I of l||[])if(!Sb(I)){var d=I,y=Object.assign({},d);l=d.expr;d=d.bind;y=(delete y.expr,delete y.bind,y);d&&l?(l=Object.assign({},y,{bind:d,init:l}),P.push(l)):(l=Object.assign({},y,l?{update:l}:{},d?{bind:d}:{}),P.push(l))}return P}function Zc(l){let {step:P,offsetIsDiscrete:d}=l;if(d){var y;return null!==(y=P.for)&&void 0!==y?y:"offset"}return"position"}function $c(l){return p.isObject(l)&&void 0!==
l.step}function rd(l){return l.view||l.width||l.height}function ce(l,P,d){const y={},{spacing:I,columns:X}=d[P];void 0!==I&&(y.spacing=I);void 0!==X&&("facet"in l&&!gb(l.facet)||"concat"in l)&&(y.columns=X);"vconcat"in l&&(y.columns=1);for(const cb of V)if(void 0!==l[cb])if("spacing"===cb){var na,ta;P=l[cb];y[cb]=p.isNumber(P)?P:{row:null!==(na=P.row)&&void 0!==na?na:I,column:null!==(ta=P.column)&&void 0!==ta?ta:I}}else y[cb]=l[cb];return y}function ze(l,P){var d;return null!==(d=l[P])&&void 0!==
d?d:l["width"===P?"continuousWidth":"continuousHeight"]}function ef(l,P){l=Cf(l,P);return $c(l)?l.step:20}function Cf(l,P){var d;const y=null!==(d=l[P])&&void 0!==d?d:l["width"===P?"discreteWidth":"discreteHeight"];return B(y,{step:l.step})}function Mf(){let l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:p.isObject(l)?Object.assign({},cc,l):cc}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},
style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},
{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Ke(l){var P=se(l||{});const d={};for(const y of P)P=l[y],d[y]=Wf(P)?Hb(P):Ab(P);return d}function ag(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},P=Object.assign({},l),d=l.color,y=l.font,I=l.fontSize;l=l.selection;P=(delete P.color,delete P.font,delete P.fontSize,delete P.selection,P);var X=p.mergeConfig,na=Vf(Qa);y=y?{text:{font:y},style:{"guide-label":{font:y},"guide-title":{font:y},"group-title":{font:y},
"group-subtitle":{font:y}}}:{};d=d?Mf(d):{};I=I?{signals:[{name:"fontSize",value:p.isObject(I)?Object.assign({},Db,I):Db}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};I=X.call(p,{},na,y,d,I,P||{});l&&p.writeConfig(I,"selection",l,!0);l=b(I,vc);for(var ta of["background",
"lineBreak","padding"])I[ta]&&(l[ta]=Ab(I[ta]));for(var cb of ej)I[cb]&&(l[cb]=$b(I[cb]));for(var qb of ak)I[qb]&&(l[qb]=Ke(I[qb]));for(const vb of v)I[vb]&&(l[vb]=$b(I[vb]));I.legend&&(l.legend=$b(I.legend));I.scale&&(l.scale=$b(I.scale));if(I.style){ta=I.style;cb=se(ta);qb={};for(const vb of cb)qb[vb]=Ke(ta[vb]);l.style=qb}I.title&&(l.title=$b(I.title));I.view&&(l.view=$b(I.view));return l}function wg(l){l=Vf(l);for(var P of Qd)delete l[P];if(l.axis)for(var d in l.axis)Wf(l.axis[d])&&delete l.axis[d];
if(l.legend)for(var y of yl)delete l.legend[y];if(l.mark){for(var I of Ki)delete l.mark[I];l.mark.tooltip&&p.isObject(l.mark.tooltip)&&delete l.mark.tooltip}l.params&&(l.signals=(l.signals||[]).concat(Cc(l.params)),delete l.params);for(var X of cd){for(const Nb of Ki)delete l[X][Nb];if(P=Xe[X])for(const Nb of P)delete l[X][Nb];d=P=void 0;y=l;I=X;var na=void 0,ta=y[I];"view"===I&&(na="cell");ta=Object.assign({},ta,y.style[null!==(d=na)&&void 0!==d?d:I]);r(ta)||(y.style[null!==(P=na)&&void 0!==P?P:
I]=ta);delete y[I]}for(const Nb of se(il))delete l[Nb];X=l;const {titleMarkConfig:cb,subtitleMarkConfig:qb,subtitle:vb}=Gc(X.title);r(cb)||(X.style["group-title"]=Object.assign({},X.style["group-title"],cb));r(qb)||(X.style["group-subtitle"]=Object.assign({},X.style["group-subtitle"],qb));r(vb)?delete X.title:X.title=vb;for(const Nb in l)p.isObject(l[Nb])&&r(l[Nb])&&delete l[Nb];return r(l)?void 0:l}function vh(l){return Ec(l)&&"quantitative"===Fd(l)&&!l.bin}function ch(l,P){const d="x"===P?"y":"radius";
var y=l[P];l=l[d];if(Ec(y)&&Ec(l))if(vh(y)&&vh(l)){if(y.stack)return P;if(l.stack)return d;const na=Ec(y)&&!!y.aggregate,ta=Ec(l)&&!!l.aggregate;if(na!==ta)return na?P:d;var I,X;y=null===(I=y.scale)||void 0===I?void 0:I.type;I=null===(X=l.scale)||void 0===X?void 0:X.type;if(y&&"linear"!==y)return d;if(I&&"linear"!==I)return P}else{if(vh(y))return P;if(vh(l))return d}else{if(vh(y))return P;if(vh(l))return d}}function dg(l){switch(l){case "x":return"y";case "y":return"x";case "theta":return"radius";
case "radius":return"theta"}}function Af(l,P){var d,y;l=Ib(l)?l.type:l;if(!rf.has(l))return null;const I=ch(P,"x")||ch(P,"theta");if(!I)return null;const X=P[I];var na=Ec(X)?Id(X,{}):void 0,ta=dg(I);const cb=[],qb=new Set;if(P[ta]){var vb=P[ta];(vb=Ec(vb)?Id(vb,{}):void 0)&&vb!==na&&(cb.push(ta),qb.add(vb));ta="x"===ta?"xOffset":"yOffset";vb=P[ta];(vb=Ec(vb)?Id(vb,{}):void 0)&&vb!==na&&(cb.push(ta),qb.add(vb))}na=sj.reduce((xc,od)=>{if("tooltip"!==od&&bh(P,od)){var Pc=P[od];for(const Ed of p.array(Pc)){Pc=
Sf(Ed);if(Pc.aggregate)continue;const Ud=Id(Pc,{});Ud&&qb.has(Ud)||xc.push({channel:od,fieldDef:Pc})}}return xc},[]);let Nb;void 0!==X.stack?Nb=p.isBoolean(X.stack)?X.stack?"zero":null:X.stack:Kf.has(l)&&(Nb="zero");if(!(Nb&&Nb in me)||Ng(P)&&0===na.length)return null;if(null!==X&&void 0!==X&&null!==(d=X.scale)&&void 0!==d&&d.type&&(null===X||void 0===X?void 0:null===(y=X.scale)||void 0===y?void 0:y.type)!==Xh.LINEAR)return lc("Cannot stack non-linear scale (".concat(X.scale.type,").")),null;if(Zd(P[Fa(I)]))return void 0!==
X.stack&&lc(fc(I)),null;Ec(X)&&X.aggregate&&!kk.has(X.aggregate)&&lc('Stacking is applied even though the aggregate function is non-summative ("'.concat(X.aggregate,'").'));return{groupbyChannels:cb,groupbyFields:qb,fieldChannel:I,impute:null===X.impute?!1:Ea(l),stackBy:na,offset:Nb}}function jg(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=2<arguments.length?arguments[2]:void 0;if("transparent"===l.point)return{opacity:0};if(l.point)return p.isObject(l.point)?l.point:{};if(void 0!==
l.point)return null;if(P.point||d.shape)return p.isObject(P.point)?P.point:{}}function bg(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(l.line)return!0===l.line?{}:l.line;if(void 0!==l.line)return null;if(P.line)return!0===P.line?{}:P.line}function qg(l,P){return P?Zh(l,P):l}function wh(l,P,d){const y=P[l];if(y&&!p.isString(y)&&"repeat"in y){if(y.repeat in d)return Object.assign({},P,{[l]:d[y.repeat]});lc('Unknown repeated value "'.concat(y.repeat,'".'))}else return P}function Og(l,
P){l=wh("field",l,P);if(void 0!==l){if(null===l)return null;"sort"in l&&fa(l.sort)&&(P=wh("field",l.sort,P),l=Object.assign({},l,P?{sort:P}:{}));return l}}function zh(l,P){if(Ec(l))return Og(l,P);P=wh("datum",l,P);P===l||P.type||(P.type="nominal");return P}function ri(l,P){if(Zd(l)){if(P=zh(l,P))return P;if(Oc(l))return{condition:l.condition}}else{if(fd(l)){if(P=zh(l.condition,P))return Object.assign({},l,{condition:P});l=Object.assign({},l);return delete l.condition,l}return l}}function Zh(l,P){const d=
{};for(const I in l)if(p.hasOwnProperty(l,I)){var y=l[I];p.isArray(y)?d[I]=y.map(X=>ri(X,P)).filter(X=>X):(y=ri(y,P),void 0!==y&&(d[I]=y))}return d}function $h(l){let {parentEncoding:P,encoding:d={},layer:y}=l;l={};if(P){var I=new Set([...se(P),...se(d)]);for(const X of I){I=d[X];const na=P[X];if(Zd(I))I=Object.assign({},na,I),l[X]=I;else if(fd(I))l[X]=Object.assign({},I,{condition:Object.assign({},na,I.condition)});else if(I||null===I)l[X]=I;else if(y||Kd(na)||Bc(na)||Zd(na)||p.isArray(na))l[X]=
na}}else l=d;return!l||r(l)?void 0:l}function df(l){const {parentProjection:P,projection:d}=l;if(P&&d){const {parentProjection:y,projection:I}={parentProjection:P,projection:d};l="Layer's shared projection ".concat(hh(y)," is overridden by a child projection ").concat(hh(I),".");lc(l)}return null!==d&&void 0!==d?d:P}function Ch(l){return l.map(P=>"filter"in P?{filter:t(P.filter,ic)}:P)}function hf(l,P){var d=Object.assign({},l);const y=l.transform;d=(delete d.transform,d);return y?(l=y.map(I=>{if("filter"in
I)return{filter:Nh(I,P)};if("bin"in I&&p.isObject(I.bin))return Object.assign({},I,{bin:Pg(I.bin)});if("lookup"in I){var X=I.from,na=Object.assign({},X);X=X.selection;na=(delete na.selection,na);return X?Object.assign({},I,{from:Object.assign({},{param:X},na)}):I}return I}),Object.assign({},d,{transform:l})):l}function jf(l,P){var d,y;l=Vf(l);Ec(l)&&p.isObject(l.bin)&&(l.bin=Pg(l.bin));ee(l)&&null!==(d=l.scale)&&void 0!==d&&null!==(y=d.domain)&&void 0!==y&&y.selection&&(y=l.scale.domain,d=Object.assign({},
y),y=y.selection,d=(delete d.selection,d),l.scale.domain=Object.assign({},d,y?{param:y}:{}));Oc(l)&&(p.isArray(l.condition)?l.condition=l.condition.map(I=>{var X=Object.assign({},I);const na=I.param;X=(delete X.selection,delete X.param,delete X.test,X);return na?I:Object.assign({},X,{test:Nh(I,P)})}):(y=jf(l.condition,P),d=Object.assign({},y),y=y.param,d=(delete d.selection,delete d.param,delete d.test,d),l.condition=y?l.condition:Object.assign({},d,{test:Nh(l.condition,P)})));return l}function Pg(l){var P=
l.extent;if(null!==P&&void 0!==P&&P.selection){var d=Object.assign({},P);P=P.selection;d=(delete d.selection,d);return Object.assign({},l,{extent:Object.assign({},d,{param:P})})}return l}function Nh(l,P){const d=y=>t(y,I=>{var X,na,ta;const cb=null!==(X=P.emptySelections[I])&&void 0!==X?X:!0;X={param:I,empty:cb};null!==(ta=(na=P.selectionPredicates)[I])&&void 0!==ta?ta:na[I]=[];P.selectionPredicates[I].push(X);return X});return l.selection?d(l.selection):t(l.test||l.filter,y=>y.selection?d(y.selection):
y)}function Yh(l,P){var d;return l.name?Object.assign({},P,{path:(null!==(d=P.path)&&void 0!==d?d:[]).concat(l.name)}):P}function ai(l,P){void 0===P&&(P=ag(l.config));const d=dh(l,P),{width:y,height:I}=l;{let {width:X,height:na}={width:y,height:I,autosize:l.autosize};l=Tg(d)||"layer"in d;const ta={};l?"container"==X&&"container"==na?(ta.type="fit",ta.contains="padding"):"container"==X?(ta.type="fit-x",ta.contains="padding"):"container"==na&&(ta.type="fit-y",ta.contains="padding"):("container"==X&&
(lc(Ic("width")),X=void 0),"container"==na&&(lc(Ic("height")),na=void 0));P=Object.assign({},{type:"pad"},ta,P?ue(P.autosize):{},ue(d.autosize));"fit"!==P.type||l||(lc('Autosize "fit" only works for single views and layered views.'),P.type="pad");"container"==X&&"fit"!=P.type&&"fit-x"!=P.type&&lc(Yc("width"));"container"==na&&"fit"!=P.type&&"fit-y"!=P.type&&lc(Yc("height"));P=gi(P,{type:"pad"})?void 0:P}return Object.assign({},d,P?{autosize:P}:{})}function dh(l){const P={config:1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{}};return kf.map(ke.map(Qf.map(l,P),P),P)}function ue(l){return p.isString(l)?{type:l}:null!==l&&void 0!==l?l:{}}function Je(l,P){const d={};for(const y of Rf)l&&void 0!==l[y]&&(d[y]=Ab(l[y]));P&&(d.params=l.params);return d}function Df(l){return{explicit:!0,value:l}}function Pe(l){return{explicit:!1,value:l}}function eg(l){return(P,d,y,I)=>{const X=l(P.value,d.value);return 0<X?P:0>X?d:fg(P,d,y,I)}}function fg(l,P,d,y){if(l.explicit&&P.explicit){var I=l.value;
P=P.value;d="Conflicting ".concat(y.toString(),' property "').concat(d.toString(),'" (').concat(hh(I)," and ").concat(hh(P),"). Using ").concat(hh(I),".");lc(d)}return l}function ff(l,P,d,y){let I=4<arguments.length&&void 0!==arguments[4]?arguments[4]:fg;return void 0===l||void 0===l.value?P:l.explicit&&!P.explicit?l:P.explicit&&!l.explicit?P:gi(l.value,P.value)?l:I(l,P,d,y)}function Da(l){return"name"in l&&!("url"in l)&&!("values"in l)&&!ab(l)}function ab(l){return l&&("sequence"in l||"sphere"in
l||"graticule"in l)}function xb(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p.identity;if(p.isArray(l)){const y=l.map(I=>xb(I,P,d));return P?"[".concat(y.join(", "),"]"):y}return sd(l)?P?d(he(l)):d(Ce(l)):P?d(hh(l)):l}function Lb(l,P){l.component.selection&&se(l.component.selection).length&&(l=p.stringValue(l.getName("cell")),P.unshift({name:"facet",value:{},on:[{events:p.parseSelector("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(l,
").datum")}]}));return Ra(P)}function pc(l,P){var d=!1;for(const I of hi(null!==(y=l.component.selection)&&void 0!==y?y:{})){var y;const X=I.name;d=p.stringValue(X+"_store");if(0===P.filter(na=>na.name===X).length){y="global"===I.resolve?"union":I.resolve;const na="point"===I.type?", true, true)":")";P.push({name:I.name,update:"".concat("vlSelectionResolve","(").concat(d,", ").concat(p.stringValue(y)).concat(na)})}d=!0;for(const na of ql)na.defined(I)&&na.topLevelSignals&&(P=na.topLevelSignals(l,
I,P))}d&&0===P.filter(I=>"unit"===I.name).length&&P.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Ra(P)}function sc(l,P){P=[...P];const d=di(l,{escape:!1});for(const I of hi(null!==(y=l.component.selection)&&void 0!==y?y:{})){var y;l={name:I.name+"_store"};I.project.hasSelectionId&&(l.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(I.init){const X=I.project.items.map(na=>{na=Object.assign({},na);return delete na.signals,na});l.values=
I.project.hasSelectionId?I.init.map(na=>({unit:d,_vgsid_:xb(na,!1)[0]})):I.init.map(na=>({unit:d,fields:X,values:xb(na,!1)}))}P.filter(X=>X.name===I.name+"_store").length||P.push(l)}return P}function Vc(l,P){for(const y of hi(null!==(d=l.component.selection)&&void 0!==d?d:{})){var d;for(const I of ql)I.defined(y)&&I.marks&&(P=I.marks(l,y,P))}return P}function pa(l,P){for(const d of l.children)ec(d)&&(P=Vc(d,P));return P}function Ra(l){return l.map(P=>{P.on&&!P.on.length&&delete P.on;return P})}function mb(l,
P){l=p.stringValue(l.scaleName(P));return"domain(".concat(l,")")}function pb(l){var P;return l.parent&&ad(l.parent)&&(null!==(P=!l.parent.parent)&&void 0!==P?P:pb(l.parent.parent))}function gc(l,P,d,y){const I=d.channel,X=d.signals.visual;d=d.signals.data;const na=fk.defined(P),ta=p.stringValue(l.scaleName(I));var cb=l.getScaleComponent(I);cb=cb?cb.get("type"):void 0;const qb=xc=>"scale(".concat(ta,", ").concat(xc,")"),vb=l.getSizeSignalRef("x"===I?"width":"height").signal,Nb="".concat(I,"(unit)");
l=Qc(P,(xc,od)=>[...xc,{events:od.between[0],update:"[".concat(Nb,", ").concat(Nb,"]")},{events:od,update:"[".concat(X,"[0], clamp(").concat(Nb,", 0, ").concat(vb,")]")}]);l.push({events:{signal:P.name+"_scale_trigger"},update:Pd(cb)?"[".concat(qb("".concat(d,"[0]")),", ").concat(qb("".concat(d,"[1]")),"]"):"[0, 0]"});return na?[{name:d,on:[]}]:[Object.assign({},{name:X},y?{init:xb(y,!0,qb)}:{value:[]},{on:l}),Object.assign({},{name:d},y?{init:xb(y)}:{},{on:[{events:{signal:X},update:"".concat(X,
"[0] \x3d\x3d\x3d ").concat(X,"[1] ? null : invert(").concat(ta,", ").concat(X,")")}]})]}function Qc(l,P){return l.events.reduce((d,y)=>y.between?P(d,y):(lc("".concat(y," is not an ordered event stream for interval selections.")),d),[])}function Xc(l,P,d,y){var I=Oc(P)&&P.condition;P=y(P);return I?(I=p.array(I).map(X=>{const na=y(X);if(X.param){const {param:ta,empty:cb}=X;X=lj(l,{param:ta,empty:cb});return Object.assign({},{test:X},na)}X=ti(l,X.test);return Object.assign({},{test:X},na)}),{[d]:[...I,
...(void 0!==P?[P]:[])]}):void 0!==P?{[d]:P}:{}}function Bd(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return Xc(l,l.encoding[P],P,d=>Tc(d,l.config))}function Tc(l,P){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(l){if(Kd(l))return Wb(l.value);if(Zd(l)){const {format:y,formatType:I}=ie(l);return ed({fieldOrDatumDef:l,format:y,formatType:I,expr:d,config:P})}}}function Sd(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:d,
markDef:y,config:I,stack:X}=l,na=d.tooltip;if(p.isArray(na))return{tooltip:De({tooltip:na},X,I,P)};const ta=P.reactiveGeom?"datum.datum":"datum";return Xc(l,na,"tooltip",cb=>{const qb=Tc(cb,I,ta);if(qb)return qb;if(null!==cb){cb=Sc("tooltip",y,I);!0===cb&&(cb={content:"encoding"});if(p.isString(cb))return{value:cb};if(p.isObject(cb))return Bc(cb)?cb:"encoding"===cb.content?De(d,X,I,P):{signal:ta}}})}function Td(l,P,d){function y(cb,qb){var vb,Nb=Ja(qb);cb=vd(cb)?cb:Object.assign({},cb,{type:l[Nb].type});
Nb=cb.title||Ej(cb,d);Nb=p.array(Nb).join(", ");if(va(qb)){const Pc="x"===qb?"x2":"y2";var xc=Sf(l[Pc]);if(db(cb.bin)&&xc){var od=Id(cb,{expr:na});xc=Id(xc,{expr:na});const {format:Ed,formatType:Ud}=ie(cb);od=Pb(od,xc,Ed,Ud,d);X[Pc]=!0}}if((va(qb)||"theta"===qb||"radius"===qb)&&P&&P.fieldChannel===qb&&"normalize"===P.offset){const {format:Pc,formatType:Ed}=ie(cb);od=ed({fieldOrDatumDef:cb,format:Pc,formatType:Ed,expr:na,config:d,normalizeStack:!0}).signal}null!==(vb=od)&&void 0!==vb?vb:od=Tc(cb,d,
na).signal;ta.push({channel:qb,key:Nb,value:od})}var {reactiveGeom:I}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const X={},na=I?"datum.datum":"datum",ta=[];ne(l,(cb,qb)=>{Ec(cb)?y(cb,qb):yc(cb)&&y(cb.condition,qb)});I={};for(const cb of ta){const {channel:qb,key:vb,value:Nb}=cb;X[qb]||I[vb]||(I[vb]=Nb)}return I}function De(l,P,d){var {reactiveGeom:y}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};y=Td(l,P,d,{reactiveGeom:y});y=kj(y).map(I=>{let [X,na]=I;return'"'.concat(X,
'": ').concat(na)});return 0<y.length?{signal:"{".concat(y.join(", "),"}")}:void 0}function tf(l){const {encoding:P,markDef:d,config:y,stack:I}=l;var X=P.description;if(X)return Xc(l,X,"description",na=>Tc(na,l.config));X=Sc("description",d,y);if(null!=X)return{description:Wb(X)};if(!1===y.aria)return{};X=Td(P,I,y);if(!r(X))return{description:{signal:kj(X).map((na,ta)=>{let [cb,qb]=na;return'"'.concat(0<ta?"; ":"").concat(cb,': " + (').concat(qb,")")}).join(" + ")}}}function Ze(l,P){let d=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:{};const {markDef:y,encoding:I,config:X}=P,{vgChannel:na}=d;let {defaultRef:ta,defaultValue:cb}=d;if(void 0===ta){var qb;null!==(qb=cb)&&void 0!==qb?qb:cb=Sc(l,y,X,{vgChannel:na,ignoreVgConfig:!0});void 0!==cb&&(ta=Wb(cb))}return Xc(P,I[l],null!==na&&void 0!==na?na:l,vb=>qd({channel:l,channelDef:vb,markDef:y,config:X,scaleName:P.scaleName(l),scale:P.getScaleComponent(l),stack:null,defaultRef:ta}))}function cf(l){var P,d,y,I,X=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:{filled:void 0};const {markDef:na,encoding:ta,config:cb}=l;var {type:qb}=na;X=null!==(P=X.filled)&&void 0!==P?P:Sc("filled",na,cb);qb=g(["bar","point","circle","square","geoshape"],qb)?"transparent":void 0;P=null!==(d=null!==(y=Sc(!0===X?"color":void 0,na,cb,{vgChannel:"fill"}))&&void 0!==y?y:cb.mark[!0===X&&"color"])&&void 0!==d?d:qb;d=null!==(I=Sc(!1===X?"color":void 0,na,cb,{vgChannel:"stroke"}))&&void 0!==I?I:cb.mark[!1===X&&"color"];I=X?"fill":"stroke";y=Object.assign({},P?{fill:Wb(P)}:
{},d?{stroke:Wb(d)}:{});na.color&&(X?na.fill:na.stroke)&&lc(gf("property",{fill:"fill"in na,stroke:"stroke"in na}));return Object.assign({},y,Ze("color",l,{vgChannel:I,defaultValue:X?P:d}),Ze("fill",l,{defaultValue:ta.fill?P:void 0}),Ze("stroke",l,{defaultValue:ta.stroke?d:void 0}))}function Bg(l){const {encoding:P,mark:d}=l,y=P.order;return!Ea(d)&&Kd(y)?Xc(l,y,"zindex",I=>Wb(I.value)):{}}function gg(l){let {channel:P,markDef:d,encoding:y={},model:I,bandPosition:X}=l;l="".concat(P,"Offset");const na=
d[l],ta=y[l];return"xOffset"!==l&&"yOffset"!==l||!ta?(l=d[l])?{offsetType:"visual",offset:l}:{}:{offsetType:"encoding",offset:qd({channel:l,channelDef:ta,markDef:d,config:null===I||void 0===I?void 0:I.config,scaleName:I.scaleName(l),scale:I.getScaleComponent(l),stack:null,defaultRef:Wb(na),bandPosition:X})}}function He(l,P,d){let {defaultPos:y,vgChannel:I}=d;const {encoding:X,markDef:na,config:ta,stack:cb}=P;d=X[l];const qb=X[Fa(l)],vb=P.scaleName(l),Nb=P.getScaleComponent(l),{offset:xc,offsetType:od}=
gg({channel:l,markDef:na,encoding:X,model:P,bandPosition:.5}),Pc=pf({model:P,defaultPos:y,channel:l,scaleName:vb,scale:Nb});if(!d&&va(l)&&(X.latitude||X.longitude))P={field:P.getName(l)};else a:{P={channel:l,channelDef:d,channel2Def:qb,markDef:na,config:ta,scaleName:vb,scale:Nb,stack:cb,offset:xc,defaultRef:Pc,bandPosition:"encoding"===od?0:void 0};const {channel:Ed,channelDef:Ud,scaleName:pe,stack:Ie,offset:je,markDef:Fe}=P;if(Zd(Ud)&&Ie&&Ed===Ie.fieldChannel){if(Ec(Ud)&&(P=Ud.bandPosition,void 0!==
P||"text"!==Fe.type||"radius"!==Ed&&"theta"!==Ed||(P=.5),void 0!==P)){P=pd({scaleName:pe,fieldOrDatumDef:Ud,startSuffix:"start",bandPosition:P,offset:je});break a}P=Jc(Ud,pe,{suffix:"end"},{offset:je})}else P=kc(P)}return P?{[I||l]:P}:void 0}function pf(l){let {model:P,defaultPos:d,channel:y,scaleName:I,scale:X}=l;const {markDef:na,config:ta}=P;return()=>{var cb=Ja(y),qb=ma(y);qb=Sc(y,na,ta,{vgChannel:qb});if(void 0!==qb)return Yd(y,qb);switch(d){case "zeroOrMin":case "zeroOrMax":if(I&&(qb=X.get("type"),
!g([Xh.LOG,Xh.TIME,Xh.UTC],qb)&&X.domainDefinitelyIncludesZero()))return{scale:I,value:0};if("zeroOrMin"===d)return"y"===cb?{field:{group:"height"}}:{value:0};switch(cb){case "radius":return{signal:"min(".concat(P.width.signal,",").concat(P.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return cb=P[Pa(y)],Object.assign({},cb,{mult:.5})}}}function Hf(l,P,d){let y=3<arguments.length&&void 0!==arguments[3]?arguments[3]:
"middle";if("radius"===l||"theta"===l)return ma(l);var I="x"===l?"align":"baseline";const X=Sc(I,P,d);Bc(X)?(lc("The ".concat(I," for range marks cannot be an expression")),I=void 0):I=X;return"x"===l?pm[I||("top"===y?"left":"center")]:qm[I||y]}function mg(l,P,d){let {defaultPos:y,defaultPos2:I,range:X}=d;return X?ci(l,P,{defaultPos:y,defaultPos2:I}):He(l,P,{defaultPos:y})}function ci(l,P,d){let {defaultPos:y,defaultPos2:I}=d;const {markDef:X,config:na}=P;var ta=Fa(l);d=Pa(l);{const {encoding:xc,
mark:od,markDef:Pc,stack:Ed,config:Ud}=P;var cb=Ja(ta),qb=Pa(ta);const pe=ma(ta);var vb=xc[cb],Nb=P.scaleName(cb);const Ie=P.getScaleComponent(cb);({offset:cb}=ta in xc||ta in Pc?gg({channel:ta,markDef:Pc,encoding:xc,model:P}):gg({channel:cb,markDef:Pc,encoding:xc,model:P}));if(vb||"x2"!==ta&&"y2"!==ta||!xc.latitude&&!xc.longitude){let {channel:je,channelDef:Fe,channel2Def:bf,markDef:Ue,config:Le,scaleName:Xf,scale:jh,stack:kg,offset:ki,defaultRef:Mi}={channel:ta,channelDef:vb,channel2Def:xc[ta],
markDef:Pc,config:Ud,scaleName:Nb,scale:Ie,stack:Ed,offset:cb,defaultRef:void 0};vb=Zd(Fe)&&kg&&je.charAt(0)===kg.fieldChannel.charAt(0)?Jc(Fe,Xf,{suffix:"start"},{offset:ki}):kc({channel:je,channelDef:bf,scaleName:Xf,scale:jh,stack:kg,markDef:Ue,config:Le,offset:ki,defaultRef:Mi});ta=void 0!==vb?{[pe]:vb}:Rg(ta,Pc)||Rg(ta,{[ta]:$d(ta,Pc,Ud.style),[qb]:$d(qb,Pc,Ud.style)})||Rg(ta,Ud[od])||Rg(ta,Ud.mark)||{[pe]:pf({model:P,defaultPos:I,channel:ta,scaleName:Nb,scale:Ie})()}}else qb=Pa(ta),Nb=P.markDef[qb],
ta=null!=Nb?{[qb]:{value:Nb}}:{[pe]:{field:P.getName(ta)}}}d=ta[d]?Hf(l,X,na):ma(l);return Object.assign({},He(l,P,{defaultPos:y,vgChannel:d}),ta)}function Rg(l,P){const d=Pa(l),y=ma(l);if(void 0!==P[y])return{[y]:Yd(l,P[y])};if(void 0!==P[l])return{[y]:Yd(l,P[l])};if(P[d])if(P=P[d],Yb(P))lc("Position range does not support relative band size for ".concat(d,"."));else return{[d]:Yd(l,P)}}function Cg(l,P){var d,y;const {config:I,encoding:X,markDef:na}=l;var ta=na.type,cb=Fa(P),qb=Pa(P),vb=X[P];cb=
X[cb];var Nb=l.getScaleComponent(P);Nb=Nb?Nb.get("type"):void 0;const xc=na.orient,od=null!==(d=null!==(y=X[qb])&&void 0!==y?y:X.size)&&void 0!==d?d:Sc("size",na,I,{vgChannel:qb});d="bar"===ta&&("x"===P?"vertical"===xc:"horizontal"===xc);if(!Ec(vb)||!(Ta(vb.bin)||db(vb.bin)||vb.timeUnit&&!cb)||od&&!Yb(od)||Gd(Nb)){if((Zd(vb)&&Gd(Nb)||d)&&!cb){var Pc;{const {markDef:Ie,encoding:je,config:Fe,stack:bf}=l;ta=Ie.orient;var Ed=l.scaleName(P);d=l.getScaleComponent(P);var Ud=Pa(P),pe=Fa(P);y=qa(P);y=l.scaleName(y);
ta="horizontal"===ta&&"y"===P||"vertical"===ta&&"x"===P;if(je.size||Ie.size)ta?Pc=Ze("size",l,{vgChannel:Ud,defaultRef:Wb(Ie.size)}):lc('Cannot apply size to non-oriented mark "'.concat(Ie.type,'".'));qb=!!Pc;ta=Ob({channel:P,fieldDef:vb,markDef:Ie,config:Fe,scaleType:null===d||void 0===d?void 0:d.get("type"),useVlSizeChannel:ta});Pc=Pc||{[Ud]:li(Ud,y||Ed,d,Fe,ta)};y="band"===(null===d||void 0===d?void 0:d.get("type"))&&Yb(ta)&&!qb?"top":"middle";y=Hf(P,Ie,Fe,y);qb="xc"===y||"yc"===y;const {offset:Ue,
offsetType:Le}=gg({channel:P,markDef:Ie,encoding:je,model:l,bandPosition:qb?.5:0});l=kc({channel:P,channelDef:vb,markDef:Ie,config:Fe,scaleName:Ed,scale:d,stack:bf,offset:Ue,defaultRef:pf({model:l,defaultPos:"mid",channel:P,scaleName:Ed,scale:d}),bandPosition:qb?"encoding"===Le?0:.5:Bc(ta)?{signal:"(1-".concat(ta,")/2")}:Yb(ta)?(1-ta.band)/2:0});Ud?Pc=Object.assign({},{[y]:l},Pc):(P=ma(pe),Pc=Pc[Ud],Pc=Ue?Object.assign({},Pc,{offset:Ue}):Pc,Pc={[y]:l,[P]:p.isArray(l)?[l[0],Object.assign({},l[1],{offset:Pc})]:
Object.assign({},l,{offset:Pc})})}return Pc}return ci(P,l,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:Ie,fieldDef2:je,channel:Fe,model:bf}={fieldDef:vb,fieldDef2:cb,channel:P,model:l};const {config:Ue,markDef:Le,encoding:Xf}=bf;l=bf.getScaleComponent(Fe);Pc=bf.scaleName(Fe);P=l?l.get("type"):void 0;l=l.get("reverse");P=Ob({channel:Fe,fieldDef:Ie,markDef:Le,config:Ue,scaleType:P});vb=null===(Ed=bf.component.axes[Fe])||void 0===Ed?void 0:Ed[0];vb=null!==(pe=null===vb||void 0===
vb?void 0:vb.get("translate"))&&void 0!==pe?pe:.5;pe=va(Fe)?null!==(Ud=Sc("binSpacing",Le,Ue))&&void 0!==Ud?Ud:0:0;Ud=Fa(Fe);Ed=ma(Fe);d=ma(Ud);({offset:y}=gg({channel:Fe,markDef:Le,encoding:Xf,model:bf,bandPosition:0}));P=Bc(P)?{signal:"(1-".concat(P.signal,")/2")}:Yb(P)?(1-P.band)/2:.5;if(Ta(Ie.bin)||Ie.timeUnit)Pc={[d]:Ah({fieldDef:Ie,scaleName:Pc,bandPosition:P,offset:xg(Ud,pe,l,vb,y)}),[Ed]:Ah({fieldDef:Ie,scaleName:Pc,bandPosition:Bc(P)?{signal:"1-".concat(P.signal)}:1-P,offset:xg(Fe,pe,l,vb,
y)})};else{if(db(Ie.bin)){P=Jc(Ie,Pc,{},{offset:xg(Ud,pe,l,vb,y)});if(Ec(je)){Pc={[d]:P,[Ed]:Jc(je,Pc,{},{offset:xg(Fe,pe,l,vb,y)})};break a}if(p.isObject(Ie.bin)&&Ie.bin.step){Pc={[d]:P,[Ed]:{signal:'scale("'.concat(Pc,'", ').concat(Id(Ie,{expr:"datum"})," + ").concat(Ie.bin.step,")"),offset:xg(Fe,pe,l,vb,y)}};break a}}lc(Dc(Ud));Pc=void 0}}return Pc}function li(l,P,d,y,I){if(Yb(I))if(d){const X=d.get("type");if("band"===X)return l="bandwidth('".concat(P,"')"),1!==I.band&&(l="".concat(I.band," * ").concat(l)),
{signal:"max(0.25, ".concat(l,")")};1!==I.band&&lc("Cannot use the relative band size with ".concat(X," scale."))}else return{mult:I.band,field:{group:l}};else{if(Bc(I))return I;if(I)return{value:I}}return d&&(I=d.get("range"),uc(I)&&p.isNumber(I.step))?{value:I.step-2}:{value:ef(y.view,l)-2}}function xg(l,P,d,y,I){if(l in Qk)return 0;l="x"===l||"y2"===l?-P/2:P/2;if(Bc(d)||Bc(I)||Bc(y))return d=Kc(d),I=Kc(I),y=(y=Kc(y))?"".concat(y," + "):"",d=d?"(".concat(d," ? -1 : 1) * "):"",l=I?"(".concat(I," + ").concat(l,
")"):l,{signal:y+d+l};I=I||0;return y+(d?-I-l:+I+l)}function Ah(l){let {fieldDef:P,scaleName:d,bandPosition:y,offset:I}=l;return pd({scaleName:d,fieldOrDatumDef:P,bandPosition:y,offset:I})}function Kg(l,P){const {fill:d,stroke:y}="include"===P.color?cf(l):{};var I=Object,X=I.assign;P=ii(l.markDef,P);var na=eh(l,"fill",d),ta=eh(l,"stroke",y),cb=Ze("opacity",l),qb=Ze("fillOpacity",l),vb=Ze("strokeOpacity",l),Nb=Ze("strokeWidth",l),xc=Ze("strokeDash",l),od=Bg(l),Pc=Sd(l),Ed=Bd(l,"href");{const {markDef:je,
config:Fe}=l,bf=Sc("aria",je,Fe);if(!1===bf)l={};else{var Ud=Object,pe=Ud.assign;{const {mark:Ue,markDef:Le,config:Xf}=l;if(!1===Xf.aria)var Ie={};else Ie=Sc("ariaRoleDescription",Le,Xf),Ie=null!=Ie?{ariaRoleDescription:{value:Ie}}:Ue in th?{}:{ariaRoleDescription:{value:Ue}}}l=pe.call(Ud,{},bf?{aria:bf}:{},Ie,tf(l))}}return X.call(I,{},P,na,ta,cb,qb,vb,Nb,xc,od,Pc,Ed,l)}function eh(l,P,d){const {config:y,mark:I,markDef:X}=l;return"hide"===Sc("invalid",X,y)&&d&&!Ea(I)&&(l=ji(l,{invalid:!0,channels:uj}))?
{[P]:[{test:l,value:null},...p.array(d)]}:d?{[P]:d}:{}}function ii(l,P){return jk.reduce((d,y)=>{rm.has(y)||void 0===l[y]||"ignore"===P[y]||(d[y]=Wb(l[y]));return d},{})}function ji(l,P){let {invalid:d=!1,channels:y}=P;P=y.reduce((I,X)=>{var na=l.getScaleComponent(X);na&&(na=na.get("type"),(X=l.vgField(X,{expr:"datum"}))&&Pd(na)&&(I[X]=!0));return I},{});P=se(P);if(0<P.length){const I=d?"||":"\x26\x26";return P.map(X=>Nc(X,d)).join(" ".concat(I," "))}}function Lf(l){const {config:P,markDef:d}=l;return Sc("invalid",
d,P)&&(l=Yg(l,{channels:Wh}))?{defined:{signal:l}}:{}}function Yg(l,P){let {invalid:d=!1,channels:y}=P;P=y.reduce((I,X)=>{var na=l.getScaleComponent(X);if(na){var ta;na=na.get("type");(X=l.vgField(X,{expr:"datum",binSuffix:null!==(ta=l.stack)&&void 0!==ta&&ta.impute?"mid":void 0}))&&Pd(na)&&(I[X]=!0)}return I},{});P=se(P);if(0<P.length){const I=d?"||":"\x26\x26";return P.map(X=>Nc(X,d)).join(" ".concat(I," "))}}function xh(l,P){if(void 0!==P)return{[l]:Wb(P)}}function Ih(l,P,d,y,I){var X,na,ta=P.name,
cb=ta+"_translate_anchor";ta+="_translate_delta";var qb=d.channel;const vb=fk.defined(P);P=I.filter(od=>od.name===d.signals[vb?"data":"visual"])[0];y=l.getSizeSignalRef(y).signal;l=l.getScaleComponent(qb);I=l.get("type");var Nb=l.get("reverse");Nb=vb?"x"===qb?Nb?"":"-":Nb?"-":"":"";cb="".concat(cb,".extent_").concat(qb);qb="".concat(Nb).concat(ta,".").concat(qb," / ").concat(vb?"".concat(y):"span(".concat(cb,")"));Nb=vb?"log"===I?"panLog":"symlog"===I?"panSymlog":"pow"===I?"panPow":"panLinear":"panLinear";
const xc=vb?"pow"===I?", ".concat(null!==(X=l.get("exponent"))&&void 0!==X?X:1):"symlog"===I?", ".concat(null!==(na=l.get("constant"))&&void 0!==na?na:1):"":"";X="".concat(Nb,"(").concat(cb,", ").concat(qb).concat(xc,")");P.on.push({events:{signal:ta},update:vb?X:"clampRange(".concat(X,", 0, ").concat(y,")")})}function yi(l,P,d,y,I){var X,na,ta=P.name,cb=d.channel;const qb=fk.defined(P);P=I.filter(od=>od.name===d.signals[qb?"data":"visual"])[0];y=l.getSizeSignalRef(y).signal;I=l.getScaleComponent(cb);
const vb=I.get("type"),Nb=qb?mb(l,cb):P.name;l=ta+"_zoom_delta";ta="".concat(ta).concat("_zoom_anchor",".").concat(cb);cb=qb?"log"===vb?"zoomLog":"symlog"===vb?"zoomSymlog":"pow"===vb?"zoomPow":"zoomLinear":"zoomLinear";const xc=qb?"pow"===vb?", ".concat(null!==(X=I.get("exponent"))&&void 0!==X?X:1):"symlog"===vb?", ".concat(null!==(na=I.get("constant"))&&void 0!==na?na:1):"":"";X="".concat(cb,"(").concat(Nb,", ").concat(ta,", ").concat(l).concat(xc,")");P.on.push({events:{signal:l},update:qb?X:"clampRange(".concat(X,
", 0, ").concat(y,")")})}function di(l){var {escape:P}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};P=P?p.stringValue(l.name):l.name;var d;for(d=l.parent;d&&!Mc(d);)d=d.parent;if(d){const {facet:y}=d;for(const I of ui)y[I]&&(P+=" + '__facet_".concat(I,"_' + (facet[").concat(p.stringValue(d.vgField(I)),"])"))}return P}function Yf(l){var P;return hi(null!==(P=l.component.selection)&&void 0!==P?P:{}).reduce((d,y)=>d||y.project.hasSelectionId,!1)}function yg(l,P){!p.isString(P.select)&&
P.select.on||delete l.events;!p.isString(P.select)&&P.select.clear||delete l.clear;!p.isString(P.select)&&P.select.toggle||delete l.toggle}function Zg(l){const P=[];if("Identifier"===l.type)return[l.name];if("Literal"===l.type)return[l.value];"MemberExpression"===l.type&&(P.push(...Zg(l.object)),P.push(...Zg(l.property)));return P}function Zi(l){return"MemberExpression"===l.object.type?Zi(l.object):"datum"===l.object.name}function ei(l){l=p.parseExpression(l);const P=new Set;l.visit(d=>{"MemberExpression"===
d.type&&Zi(d)&&P.add(Zg(d).slice(1).join("."))});return P}function lj(l,P,d){var y=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",I=p.isString(P)?P:P.param,X=G(I),na=p.stringValue(X+"_store");try{var ta=l.getSelectionComponent(X,I)}catch(cb){return"!!".concat(X)}ta.project.timeUnit&&(I=null!==d&&void 0!==d?d:l.component.data.raw,X=ta.project.timeUnit.clone(),I.parent?X.insertAsParentOf(I):I.parent=X);I=ta.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";ta="global"===
ta.resolve?")":", ".concat(p.stringValue(ta.resolve),")");y="".concat(I).concat(na,", ").concat(y).concat(ta);na="length(data(".concat(na,"))");return!1===P.empty?"".concat(na," \x26\x26 ").concat(y):"!".concat(na," || ").concat(y)}function Oh(l,P,d){const y=G(P),I=d.encoding;let X=d.field,na;try{na=l.getSelectionComponent(y,P)}catch(ta){return y}I||X?I&&!X&&(l=na.project.items.filter(ta=>ta.channel===I),!l.length||1<l.length?(X=na.project.items[0].field,lc((l.length?"Multiple ":"No ")+"matching ".concat(p.stringValue(I),
" encoding found for selection ").concat(p.stringValue(d.param),". ")+'Using "field": '.concat(p.stringValue(X),"."))):X=l[0].field):(X=na.project.items[0].field,1<na.project.items.length&&lc('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(p.stringValue(X),".")));return"".concat(na.name,"[").concat(p.stringValue(ea(X)),"]")}function ti(l,P,d){return T(P,y=>p.isString(y)?y:(null===y||void 0===y?0:y.param)?lj(l,y,d):rb(y))}function vj(l,
P){if(l)return p.isArray(l)&&!zc(l)?l.map(d=>Ej(d,P)).join(", "):l}function Yi(l,P,d,y){var I,X,na,ta,cb;null!==(I=l.encode)&&void 0!==I?I:l.encode={};null!==(na=(X=l.encode)[P])&&void 0!==na?na:X[P]={};null!==(cb=(ta=l.encode[P]).update)&&void 0!==cb?cb:ta.update={};l.encode[P].update[d]=y}function ni(l,P,d){var y=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},I=l.combine(),X=Object.assign({},I),na=I.disable;const ta=I.orient,cb=I.scale;var qb=I.labelExpr;const vb=I.title;I=I.zindex;
X=(delete X.disable,delete X.orient,delete X.scale,delete X.labelExpr,delete X.title,delete X.zindex,X);if(!na){for(const Pc in X){var Nb=Fk[Pc];na=X[Pc];if(Nb&&Nb!==P&&"both"!==Nb)delete X[Pc];else if(Wf(na)){Nb=na;na=Object.assign({},Nb);Nb=Nb.condition;na=(delete na.condition,na);Nb=p.array(Nb);const Ed=Yj[Pc];if(Ed){const {vgProp:Ud,part:pe}=Ed;na=[...Nb.map(Ie=>{var je=Object.assign({},Ie);Ie=Ie.test;je=(delete je.test,je);return Object.assign({},{test:ti(null,Ie)},je)}),na];Yi(X,pe,Ud,na);delete X[Pc]}else null===
Ed&&(na={signal:Nb.map(Ud=>{var pe=Object.assign({},Ud);Ud=Ud.test;pe=(delete pe.test,pe);return"".concat(ti(null,Ud)," ? ").concat(mc(pe)," : ")}).join("")+mc(na)},X[Pc]=na)}else if(Bc(na)&&(Nb=Yj[Pc])){const {vgProp:Ed,part:Ud}=Nb;Yi(X,Ud,Ed,na);delete X[Pc]}g(["labelAlign","labelBaseline"],Pc)&&null===X[Pc]&&delete X[Pc]}if("grid"===P){if(X.grid)return X.encode&&({grid:qb}=X.encode,X.encode=Object.assign({},qb?{grid:qb}:{}),r(X.encode)&&delete X.encode),Object.assign({},{scale:cb,orient:ta},X,
{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:B(I,0)})}else if(y.header||!l.mainExtracted){if(void 0!==qb){var xc,od;y=qb;null!==(xc=X.encode)&&void 0!==xc&&null!==(od=xc.labels)&&void 0!==od&&od.update&&Bc(X.encode.labels.update.text)&&(y=La(qb,"datum.label",X.encode.labels.update.text.signal));Yi(X,"labels","text",{signal:y})}null===X.labelAlign&&delete X.labelAlign;if(X.encode){for(const Pc of Gk)l.hasAxisPart(Pc)||delete X.encode[Pc];r(X.encode)&&delete X.encode}qb=vj(vb,
d);return Object.assign({},{scale:cb,orient:ta,grid:!1},qb?{title:qb}:{},X,!1===d.aria?{aria:!1}:{},{zindex:B(I,0)})}}}function rh(l){const {axes:P}=l.component,d=[];for(const y of Wh)if(P[y])for(const I of P[y])if(!I.get("disable")&&!I.get("gridScale")){const X="x"===y?"height":"width",na=l.getSizeSignalRef(X).signal;X!==na&&d.push({name:X,update:na})}return d}function Oi(l,P){const {x:d=[],y=[]}=l;return[...d.map(I=>ni(I,"grid",P)),...y.map(I=>ni(I,"grid",P)),...d.map(I=>ni(I,"main",P)),...y.map(I=>
ni(I,"main",P))].filter(I=>I)}function ia(l,P,d,y){return Object.assign.apply(null,[{},...l.map(I=>{if("axisOrient"===I){I="x"===d?"bottom":"left";const X=P["x"===d?"axisBottom":"axisLeft"]||{},na=P["x"===d?"axisTop":"axisRight"]||{},ta=new Set([...se(X),...se(na)]),cb={};for(const qb of ta.values())cb[qb]={signal:"".concat(y.signal,' \x3d\x3d\x3d "').concat(I,'" ? ').concat(Kc(X[qb])," : ").concat(Kc(na[qb]))};return cb}return P[I]})])}function Na(l,P,d,y){var I="band"===P?["axisDiscrete","axisBand"]:
"point"===P?["axisDiscrete","axisPoint"]:Vk.has(P)?["axisQuantitative"]:"time"===P||"utc"===P?["axisTemporal"]:[];const X="x"===l?"axisX":"axisY";P=Bc(d)?"axisOrient":"axis".concat(ca(d));I=[...I,...I.map(na=>X+na.substr(4))];P=["axis",P,X];return{vlOnlyAxisConfig:ia(I,y,l,d),vgAxisConfig:ia(P,y,l,d),axisConfigStyle:Sa([...P,...I],y)}}function Sa(l,P){const d=[{}];for(const I of l){var y;if(l=null===(y=P[I])||void 0===y?void 0:y.style){l=p.array(l);for(const X of l)d.push(P.style[X])}}return Object.assign.apply(null,
d)}function ub(l,P,d){let y=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const I=Ba(l,d,P);if(void 0!==I)return{configFrom:"style",configValue:I};for(const na of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var X;if(void 0!==(null===(X=y[na])||void 0===X?void 0:X[l]))return{configFrom:na,configValue:y[na][l]}}return{}}function Zb(l,P,d,y,I){const X=null===P||void 0===P?void 0:P.labelAngle;if(void 0!==X)return Bc(X)?X:sa(X);({configValue:P}=ub("labelAngle",y,null===P||void 0===
P?void 0:P.style,I));if(void 0!==P)return sa(P);if("x"===d&&g(["nominal","ordinal"],l.type)&&(!Ec(l)||!l.timeUnit))return 270}function ac(l){return"(((".concat(l.signal," % 360) + 360) % 360)")}function jc(l,P,d,y){if(void 0!==l)return"x"===d?Bc(l)?(y=ac(l),P=Bc(P)?"(".concat(P.signal,' \x3d\x3d\x3d "top")'):"top"===P,{signal:"(45 \x3c ".concat(y," \x26\x26 ").concat(y," \x3c 135) || (225 \x3c ").concat(y," \x26\x26 ").concat(y,' \x3c 315) ? "middle" :')+"(".concat(y," \x3c\x3d 45 || 315 \x3c\x3d ").concat(y,
") \x3d\x3d\x3d ").concat(P,' ? "bottom" : "top"')}):45<l&&135>l||225<l&&315>l?"middle":Bc(P)?(y=45>=l||315<=l?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(P.signal," ").concat(y,' "top" ? "bottom" : "top"')}):(45>=l||315<=l)===("top"===P)?"bottom":"top":Bc(l)?(l=ac(l),P=Bc(P)?"(".concat(P.signal,' \x3d\x3d\x3d "left")'):"left"===P,y=y?'"middle"':"null",{signal:"".concat(l," \x3c\x3d 45 || 315 \x3c\x3d ").concat(l," || (135 \x3c\x3d ").concat(l," \x26\x26 ").concat(l," \x3c\x3d 225) ? ").concat(y,
" : (45 \x3c\x3d ").concat(l," \x26\x26 ").concat(l," \x3c\x3d 135) \x3d\x3d\x3d ").concat(P,' ? "top" : "bottom"')}):45>=l||315<=l||135<=l&&225>=l?y?"middle":null:Bc(P)?(y=45<=l&&135>=l?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(P.signal," ").concat(y,' "left" ? "top" : "bottom"')}):(45<=l&&135>=l)===("left"===P)?"top":"bottom"}function Ac(l,P,d){if(void 0!==l){var y=(d="x"===d)?0:90,I=d?"bottom":"left";return Bc(l)?(l=ac(l),P=Bc(P)?"(".concat(P.signal,' \x3d\x3d\x3d "').concat(I,'")'):P===I,{signal:"(".concat(y?
"(".concat(l," + 90)"):l," % 180 \x3d\x3d\x3d 0) ? ").concat(d?null:'"center"'," :")+"(".concat(y," \x3c ").concat(l," \x26\x26 ").concat(l," \x3c ").concat(180+y,") \x3d\x3d\x3d ").concat(P,' ? "left" : "right"')}):0===(l+y)%180?d?null:"center":Bc(P)?(d=y<l&&l<180+y?"\x3d\x3d\x3d":"!\x3d\x3d",P="".concat(P.signal," ").concat(d,' "').concat(I,'"'),{signal:"".concat(P,' ? "left" : "right"')}):(y<l&&l<180+y)===(P===I)?"left":"right"}}function hd(l,P){var d="x"===P?"x2":"y2";P=l.fieldDef(P);l=l.fieldDef(d);
d=P?P.title:void 0;l=l?l.title:void 0;if(d&&l)return $a(d,l);if(d)return d;if(l)return l;if(void 0!==d)return d;if(void 0!==l)return l}function Ld(l,P,d){return Id(l,Object.assign({},{prefix:P,suffix:"sort_index"},null!==d&&void 0!==d?d:{}))}function ae(l,P){return g(["top","bottom"],P)?"column":g(["left","right"],P)?"row":"row"===l?"row":"column"}function kd(l,P,d,y){return B((P||{})[l],("row"===y?d.headerRow:"column"===y?d.headerColumn:d.headerFacet)[l],d.header[l])}function oe(l,P,d,y){const I=
{};for(const X of l)l=kd(X,P||{},d,y),void 0!==l&&(I[X]=l);return I}function Qe(l,P){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const d=Ac(P,"row"===l?"left":"top","row"===l?"y":"x");return d?{align:d}:{}}function xf(l,P){return(l=jc(l,"row"===P?"left":"top","row"===P?"y":"x",!0))?{baseline:l}:{}}function Ne(l,P,d){const {format:y,formatType:I,labelAngle:X,labelAnchor:na,labelOrient:ta,labelExpr:cb}=oe("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),
l.header,d,P),qb=ed({fieldOrDatumDef:l,format:y,formatType:I,expr:"parent",config:d}).signal,vb=ae(P,ta);return Object.assign({},{text:{signal:cb?La(La(cb,"datum.label",qb),"datum.value",Id(l,{expr:"parent"})):qb}},"row"===P?{orient:"left"}:{},{style:"guide-label",frame:"group"},xf(X,vb),Qe(vb,X,na),Zf(d,l,P,Lk,ek))}function Zf(l,P,d,y,I){const X={};for(const na of y)I[na]&&(y=kd(na,null===P||void 0===P?void 0:P.header,l,d),void 0!==y&&(X[I[na]]=y));return X}function Dg(l){return[...fh(l,"width"),
...fh(l,"height"),...fh(l,"childWidth"),...fh(l,"childHeight")]}function fh(l,P){var d="width"===P?"x":"y",y=l.component.layoutSize.get(P);if(!y||"merged"===y)return[];P=l.getSizeSignalRef(P).signal;if("step"===y){if(y=l.getScaleComponent(d)){var I=y.get("type");const X=y.get("range");if(Gd(I)&&uc(X))return I=l.scaleName(d),Mc(l.parent)&&"independent"===l.parent.component.resolve.scale[d]?[lh(I,X)]:[lh(I,X),{name:P,update:$e(I,y,"domain('".concat(I,"').length"))}]}throw Error("layout size is step although width/height is not step.");
}return"container"==y?(d=(y=P.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",l=ze(l.config.view,y?"width":"height"),l="isFinite(".concat(d,") ? ").concat(d," : ").concat(l),[{name:P,init:l,on:[{update:l,events:"window:resize"}]}]):[{name:P,value:y}]}function lh(l,P){l="".concat(l,"_step");return Bc(P.step)?{name:l,update:P.step.signal}:{name:l,value:P.step}}function $e(l,P,d){const y=P.get("type"),I=P.get("padding"),X=B(P.get("paddingOuter"),I);P=P.get("paddingInner");P="band"===y?void 0!==
P?P:I:1;return"bandspace(".concat(d,", ").concat(Kc(P),", ").concat(Kc(X),") * ").concat(l,"_step")}function gh(l){return"childWidth"===l?"width":"childHeight"===l?"height":l}function nf(l,P){return se(l).reduce((d,y)=>Object.assign({},d,Xc(P,l[y],y,I=>Wb(I.value))),{})}function rg(l,P){if(Mc(P))return"theta"===l?"independent":"shared";if(ad(P))return"shared";if(Wc(P))return va(l)||"theta"===l||"radius"===l?"independent":"shared";throw Error("invalid model type for resolve");}function Jh(l,P){const d=
l.scale[P],y=va(P)?"axis":"legend";return"independent"===d?("shared"===l[y][P]&&lc('Setting the scale to be independent for "'.concat(P,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):l[y][P]||"shared"}function Oe(l){return Ve(l,(P,d)=>Math.max(P,d.value))}function ve(l){return Ve(l,(P,d)=>B(P,d.value))}function Ve(l,P){const d=null===l||void 0===l?void 0:l.condition;if(d&&(p.isArray(d)||Kd(d)))return p.array(l.condition).reduce(P,l.value);if(Kd(l))return l.value}
function xe(l,P,d){l=P.get("selections");if(null!==l&&void 0!==l&&l.length){var y=p.stringValue(d.field);return l.map(I=>{const X=p.stringValue(G(I)+"_store");return"(!length(data(".concat(X,")) || (").concat(I,"[").concat(y,"] \x26\x26 indexof(").concat(I,"[").concat(y,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function lg(l,P,d,y){l=l.getSizeSignalRef(P).signal;return{signal:"clamp(".concat(l,", ").concat(d,", ").concat(y,")")}}function Eg(l){var P;if(ec(l)){var {encoding:d}=l,y={};for(const bf of["color",
...E]){var I=Gf(d[bf]);if(I&&l.getScaleComponent(bf)&&("shape"!==bf||!Ec(I)||"geojson"!==I.type)){a:{var X=I=void 0,na=void 0,ta=void 0,cb=void 0,qb=void 0;var vb=void 0;var Nb=l,xc=bf;let Ue=Nb.legend(xc);const {markDef:Le,encoding:Xf,config:jh}=Nb;var od=jh.legend;b:{var Pc=Nb;var Ed=xc,Ud=Pc.scaleName(Ed);if("trail"===Pc.mark){if("color"===Ed){Pc={stroke:Ud};break b}if("size"===Ed){Pc={strokeWidth:Ud};break b}}Pc="color"===Ed?Pc.markDef.filled?{fill:Ud}:{stroke:Ud}:{[Ed]:Ud}}Pc=new sm({},Pc);Ed=
null===(ta=Nb.fieldDef(xc))||void 0===ta?void 0:ta.field;for(const kh of hi(null!==(P=Nb.component.selection)&&void 0!==P?P:{})){var pe;if((ta=null!==(pe=kh.project.hasField[Ed])&&void 0!==pe?pe:kh.project.hasChannel[xc])&&Zl.defined(kh)){var Ie;Ud=null!==(Ie=Pc.get("selections"))&&void 0!==Ie?Ie:[];Ud.push(kh.name);Pc.set("selections",Ud,!1);ta.hasLegend=!0}}ta=void 0!==Ue?!Ue:od.disable;Pc.set("disable",ta,void 0!==Ue);if(ta){I=Pc;break a}Ue=Ue||{};Ed=Nb.getScaleComponent(xc).get("type");ta=Gf(Xf[xc]);
var je=Ec(ta)?null===(vb=af(ta.timeUnit))||void 0===vb?void 0:vb.unit:void 0;Ud=Ue.orient||jh.legend.orient||"right";vb={legend:Ue,channel:xc,timeUnit:je,scaleType:Ed};({legend:je}=vb);je=je.type;b:{let {channel:kh,timeUnit:pl,scaleType:Il}=vb;if(bb(kh)){if(g(["quarter","month","day"],pl)){vb="symbol";break b}if(Ei.has(Il)){vb="gradient";break b}}vb="symbol"}vb=B(je,vb);let {legendConfig:kg,legendType:ki,orient:Mi,legend:Hl}={legend:Ue,legendType:vb,orient:Ud,legendConfig:od};if(null!==(na=null!==
(X=Hl.direction)&&void 0!==X?X:kg[ki?"gradientDirection":"symbolDirection"])&&void 0!==na)X=na;else b:{switch(Mi){case "top":case "bottom":X="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:X="gradient"===ki?"horizontal":void 0;break b}X=void 0}od={legend:Ue,channel:xc,model:Nb,markDef:Le,encoding:Xf,fieldOrDatumDef:ta,legendConfig:od,config:jh,scaleType:Ed,orient:Ud,legendType:vb,direction:X};for(const kh of $l)if(!("gradient"===vb&&kh.startsWith("symbol")||"symbol"===
vb&&kh.startsWith("gradient"))&&(X=kh in am?am[kh](od):Ue[kh],void 0!==X)){b:{na=Nb.fieldDef(xc);switch(kh){case "disable":na=void 0!==Ue;break b;case "values":na=!(null===Ue||void 0===Ue||!Ue.values);break b;case "title":if("title"===kh&&X===(null===na||void 0===na?void 0:na.title)){na=!0;break b}}na=X===(Ue||{})[kh]}(na||void 0===jh.legend[kh])&&Pc.set(kh,X,na)}od=null!==(qb=null===(cb=Ue)||void 0===cb?void 0:cb.encoding)&&void 0!==qb?qb:{};cb=Pc.get("selections");qb={};xc={fieldOrDatumDef:ta,model:Nb,
channel:xc,legendCmpt:Pc,legendType:vb};for(const kh of"labels legend title symbols gradient entries".split(" ")){var Fe;X=nf(null!==(Fe=od[kh])&&void 0!==Fe?Fe:{},Nb);X=kh in bm?bm[kh](X,xc):X;void 0===X||r(X)||(qb[kh]=Object.assign({},null!==cb&&void 0!==cb&&cb.length&&Ec(ta)?{name:"".concat(G(ta.field),"_legend_").concat(kh)}:{},null!==cb&&void 0!==cb&&cb.length?{interactive:!!cb}:{},{update:X}))}r(qb)||Pc.set("encode",qb,!(null===(I=Ue)||void 0===I||!I.encoding));I=Pc}y[bf]=I}}P=y}else{const {legends:bf,
resolve:Ue}=l.component;for(d of l.children){Eg(d);for(y of se(d.component.legends))Ue.legend[y]=Jh(l.component.resolve,y),"shared"===Ue.legend[y]&&(bf[y]=yf(bf[y],d.component.legends[y]),bf[y]||(Ue.legend[y]="independent",delete bf[y]))}for(I of se(bf))for(Nb of l.children)Nb.component.legends[I]&&"shared"===Ue.legend[I]&&delete Nb.component.legends[I];P=bf}return l.component.legends=P}function yf(l,P){if(!l)return P.clone();var d=l.getWithExplicit("orient");const y=P.getWithExplicit("orient");if(!d.explicit||
!y.explicit||d.value===y.value){var I=!1;for(const qb of $l)d=ff(l.getWithExplicit(qb),P.getWithExplicit(qb),qb,"legend",(vb,Nb)=>{switch(qb){case "symbolType":return vb="circle"===Nb.value?Nb:vb,vb;case "title":return jb(vb,Nb);case "type":return I=!0,Pe("symbol")}return fg(vb,Nb,qb,"legend")}),l.setWithExplicit(qb,d);if(I){var X,na,ta,cb;null!==(X=l.implicit)&&void 0!==X&&null!==(na=X.encode)&&void 0!==na&&na.gradient&&R(l.implicit,["encode","gradient"]);null!==(ta=l.explicit)&&void 0!==ta&&null!==
(cb=ta.encode)&&void 0!==cb&&cb.gradient&&R(l.explicit,["encode","gradient"])}return l}}function mh(l){const P=l.component.legends,d={};for(const I of se(P)){var y=l.getScaleComponent(I);y=hh(y.get("domains"));if(d[y])for(const X of d[y])yf(X,P[I])||d[y].push(P[I]);else d[y]=[P[I].clone()]}return hi(d).flat().map(I=>{{var X=l.config,na,ta=I.combine();I=Object.assign({},ta);const Ud=ta.disable;ta=ta.labelExpr;I=(delete I.disable,delete I.labelExpr,delete I.selections,I);if(Ud)var cb=void 0;else{!1===
X.aria&&void 0==I.aria&&(I.aria=!1);if(null!==(na=I.encode)&&void 0!==na&&na.symbols){X=I.encode.symbols.update;!X.fill||"transparent"===X.fill.value||X.stroke||I.stroke||(X.stroke={value:"transparent"});for(var qb of E)I[qb]&&delete X[qb]}I.title||delete I.title;if(void 0!==ta){var vb,Nb;qb=ta;null!==(vb=I.encode)&&void 0!==vb&&null!==(Nb=vb.labels)&&void 0!==Nb&&Nb.update&&Bc(I.encode.labels.update.text)&&(qb=La(ta,"datum.label",I.encode.labels.update.text.signal));vb=I;Nb={signal:qb};var xc,od,
Pc,Ed;null!==(cb=vb.encode)&&void 0!==cb?cb:vb.encode={};null!==(od=(xc=vb.encode).labels)&&void 0!==od?od:xc.labels={};null!==(Ed=(Pc=vb.encode.labels).update)&&void 0!==Ed?Ed:Pc.update={};vb.encode.labels.update.text=Nb}cb=I}}return cb}).filter(I=>void 0!==I)}function yh(l){return l.children.reduce((P,d)=>P.concat(d.assembleProjections()),oi(l))}function oi(l){var P=l.component.projection;if(!P||P.merged)return[];const d=P.combine(),{name:y}=d;if(P.data){const I={signal:"[".concat(P.size.map(X=>
X.signal).join(", "),"]")};P=P.data.reduce((X,na)=>{na=Bc(na)?na.signal:"data('".concat(l.lookupDataSource(na),"')");X.includes(na)||X.push(na);return X},[]);if(0>=P.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:y,size:I,fit:{signal:1<P.length?"[".concat(P.join(", "),"]"):P[0]}},d)]}return[Object.assign({},{name:y},{translate:{signal:"[width / 2, height / 2]"}},d)]}function Nj(l){var P=l.component,d;if(ec(l))if(l.hasProjection){const X=$b(l.specifiedProjection);
var y=!(X&&(null!=X.scale||null!=X.translate));const na=y?[l.getSizeSignalRef("width"),l.getSizeSignalRef("height")]:void 0;if(y){y=[];const {encoding:ta}=l;for(I of[["longitude","latitude"],["longitude2","latitude2"]])(Gf(ta[I[0]])||Gf(ta[I[1]]))&&y.push({signal:l.getName("geojson_".concat(y.length))});l.channelHasField("shape")&&"geojson"===l.typedFieldDef("shape").type&&y.push({signal:l.getName("geojson_".concat(y.length))});0===y.length&&y.push(l.requestDataName(Hg.Main));var I=y}else I=void 0;
l=new cm(l.projectionName(!0),Object.assign({},null!==(d=$b(l.config.projection))&&void 0!==d?d:{},null!==X&&void 0!==X?X:{}),na,I);l.get("type")||l.set("type","equalEarth",!1);d=l}else d=void 0;else d=$i(l);P.projection=d}function zi(l,P){const d=h(tm,y=>!p.hasOwnProperty(l.explicit,y)&&!p.hasOwnProperty(P.explicit,y)||p.hasOwnProperty(l.explicit,y)&&p.hasOwnProperty(P.explicit,y)&&gi(l.get(y),P.get(y))?!0:!1);if(gi(l.size,P.size)){if(d)return l;if(gi(l.explicit,{}))return P;if(gi(P.explicit,{}))return l}return null}
function $i(l){if(0!==l.children.length){var P;for(var d of l.children)Nj(d);d=h(l.children,y=>{if(y=y.component.projection){if(P)return(y=zi(P,y))&&(P=y),!!y;P=y}return!0});if(P&&d){d=l.projectionName(!0);const y=new cm(d,P.specifiedProjection,P.size,Vf(P.data));for(const I of l.children)if(l=I.component.projection)l.isFit&&y.data.push(...I.component.projection.data),I.renameProjection(l.get("name"),d),l.merged=!0;return y}}}function Kj(l,P){return"".concat(wa(l),"_").concat(P)}function sk(l,P,d){var y;
d=null!==(y=Sg(d,void 0))&&void 0!==y?y:{};P=Kj(d,P);return l.getName("".concat(P,"_bins"))}function fj(l,P,d){let y;y="as"in l?p.isString(l.as)?[l.as,"".concat(l.as,"_end")]:[l.as[0],l.as[1]]:[Id(l,{forAs:!0}),Id(l,{binSuffix:"end",forAs:!0})];const I=Object.assign({},Sg(P,void 0));P=Kj(I,l.field);var X={signal:d.getName("".concat(P,"_bins")),extentSignal:d.getName("".concat(P,"_extent"))};const {signal:na,extentSignal:ta}=X;if(lb(I.extent)){var cb=I.extent;cb=Oh(d,cb.param,cb);delete I.extent}l=
Object.assign({},{bin:I,field:l.field,as:[y]},na?{signal:na}:{},ta?{extentSignal:ta}:{},cb?{span:cb}:{});return{key:P,binComponent:l}}function Fg(l){return l.startsWith("'")&&l.endsWith("'")||l.startsWith('"')&&l.endsWith('"')?l.slice(1,-1):l}function Gi(l,P){l=M(l);if("number"===P)return"toNumber(".concat(l,")");if("boolean"===P)return"toBoolean(".concat(l,")");if("string"===P)return"toString(".concat(l,")");if("date"===P)return"toDate(".concat(l,")");if("flatten"===P)return l;if(P.startsWith("date:"))return P=
Fg(P.slice(5,P.length)),"timeParse(".concat(l,",'").concat(P,"')");if(P.startsWith("utc:"))return P=Fg(P.slice(4,P.length)),"utcParse(".concat(l,",'").concat(P,"')");lc('Unrecognized parse "'.concat(P,'".'));return null}function aj(l){const P={};q(l.filter,d=>{if(tc(d)){let I=null;if(rc(d))I=Ab(d.equal);else if(Ad(d))I=Ab(d.lte);else if(bd(d))I=Ab(d.lt);else if(xa(d))I=Ab(d.gt);else if(Xa(d))I=Ab(d.gte);else if(zb(d))I=d.range[0];else if(Xb(d)){var y;I=(null!==(y=d.oneOf)&&void 0!==y?y:d["in"])[0]}I&&
(sd(I)?P[d.field]="date":p.isNumber(I)?P[d.field]="number":p.isString(I)&&(P[d.field]="string"));d.timeUnit&&(P[d.field]="date")}});return P}function bj(l){function P(y){if(Bf(y))d[y.field]="date";else{var I;if(I="quantitative"===y.type)I=y.aggregate,I=p.isString(I)&&g(["min","max"],I);I?d[y.field]="number":1<C(y.field)?y.field in d||(d[y.field]="flatten"):ee(y)&&fa(y.sort)&&1<C(y.sort.field)&&(y.sort.field in d||(d[y.sort.field]="flatten"))}}const d={};(ec(l)||Mc(l))&&l.forEachFieldDef((y,I)=>{vd(y)?
P(y):(I=Ja(I),I=l.fieldDef(I),P(Object.assign({},y,{type:I.type})))});if(ec(l)){const {mark:y,markDef:I,encoding:X}=l;if(Ea(y)&&!l.encoding.order){const na=X["horizontal"===I.orient?"y":"x"];!Ec(na)||"quantitative"!==na.type||na.field in d||(d[na.field]="number")}}return d}function cj(l){return l instanceof uk||l instanceof rl||l instanceof sl}function xk(l){return l.stack.stackBy.reduce((P,d)=>{(d=Id(d.fieldDef))&&P.push(d);return P},[])}function Lj(l){return p.isArray(l)&&l.every(P=>p.isString(P))&&
1<l.length}function si(l){function P(d){if(!(d instanceof Mk)){const y=d.clone();if(y instanceof wi){const I="scale_"+y.getSource();y.setSource(I);l.model.component.data.outputNodes[I]=y}else(y instanceof xj||y instanceof gk||y instanceof cl||y instanceof Nk)&&y.addDimensions(l.fields);for(const I of d.children.flatMap(P))I.parent=y;return[y]}return d.children.flatMap(P)}return P}function Pi(l){if(l instanceof Mk)if(1!==l.numChildren()||l.children[0]instanceof wi){var P=l.model.component.data.main;
mi(P);const d=si(l);l=l.children.map(d).flat();for(const y of l)y.parent=P}else P=l.children[0],(P instanceof xj||P instanceof gk||P instanceof cl||P instanceof Nk)&&P.addDimensions(l.fields),P.swapWithParent(),Pi(l);else l.children.map(Pi)}function mi(l){if(l instanceof wi&&l.type===Hg.Main&&1===l.numChildren()){const P=l.children[0];P instanceof Mk||(P.swapWithParent(),mi(l))}}function Dh(l){for(const P of l){for(const d of P.children)if(d.parent!==P)return!1;if(!Dh(P.children))return!1}return!0}
function Jf(l,P){let d=!1;for(const y of P)d=l.optimize(y)||d;return d}function Fi(l,P,d){let y=l.sources,I=!1;I=Jf(new um,y)||I;I=Jf(new vm(P),y)||I;y=y.filter(X=>0<X.numChildren());I=Jf(new wm,y)||I;y=y.filter(X=>0<X.numChildren());d||(I=Jf(new xm,y)||I,I=Jf(new ym(P),y)||I,I=Jf(new zm,y)||I,I=Jf(new Am,y)||I,I=Jf(new Bm,y)||I,I=Jf(new Cm,y)||I,I=Jf(new Dm,y)||I,I=Jf(new Em,y)||I);l.sources=y;return I}function hk(l){const P=l.component.scales;for(const qb of se(P)){var d=l,y=qb,I=d.getScaleComponent(y).get("type"),
{encoding:X}=d;var na=d.scaleDomain(y);var ta=d.typedFieldDef(y),cb=d.config.scale;if("unaggregated"===na){const {valid:vb,reason:Nb}=Hi(ta,I);vb||(lc(Nb),na=void 0)}else void 0===na&&cb.useUnaggregatedDomain&&({valid:ta}=Hi(ta,I),ta&&(na="unaggregated"));na!==d.scaleDomain(y)&&(d.specifiedScales[y]=Object.assign({},d.specifiedScales[y],{domain:na}));d="x"===y&&Gf(X.x2)?Gf(X.x)?ff(oh(I,na,d,"x"),oh(I,na,d,"x2"),"domain","scale",ij):oh(I,na,d,"x2"):"y"===y&&Gf(X.y2)?Gf(X.y)?ff(oh(I,na,d,"y"),oh(I,
na,d,"y2"),"domain","scale",ij):oh(I,na,d,"y2"):oh(I,na,d,y);P[qb].setWithExplicit("domains",d);X=void 0;y=l.component.scales[qb];na=l.specifiedScales[qb].domain;I=null===(X=l.fieldDef(qb))||void 0===X?void 0:X.bin;X=Me(na)&&na;I=p.isObject(I)&&lb(I.extent)&&I.extent;(X||I)&&y.set("selectionExtent",null!==X&&void 0!==X?X:I,!0);if(l.component.data.isFaceted){for(y=l;!Mc(y)&&y.parent;)y=y.parent;if("shared"===y.component.resolve.scale[qb])for(const vb of d.value)id(vb)&&(vb.data="scale_"+vb.data.replace("scale_",
""))}}}function vi(l){for(var P of l.children){var d=P;ec(d)?hk(d):vi(d)}d=l.component.scales;for(const I of se(d)){let X;P=null;for(const na of l.children){var y=na.component.scales[I];y&&(X=void 0===X?y.getWithExplicit("domains"):ff(X,y.getWithExplicit("domains"),"domains","scale",ij),y=y.get("selectionExtent"),P&&y&&P.param!==y.param&&lc("The same selection must be used to override scale domains in a layered view."),P=y)}d[I].setWithExplicit("domains",X);P&&d[I].set("selectionExtent",P,!0)}}function gj(l,
P,d){return l.map(y=>{y=ug(y,{timeUnit:d,type:P});return{signal:"{data: ".concat(y,"}")}})}function hj(l,P,d){var y;d=null===(y=af(d))||void 0===y?void 0:y.unit;return"temporal"===P||d?gj(l,P,d):[l]}function oh(l,P,d,y){var {encoding:I}=d;I=Gf(I[y]);const {type:X}=I,na=I.timeUnit;if(null===P||void 0===P?0:P.unionWith)return y=oh(l,void 0,d,y),P=hj(P.unionWith,X,na),Df([...y.value,...P]);if(Bc(P))return Df([P]);if(P&&"unaggregated"!==P&&!Me(P))return Df(hj(P,X,na));var ta=d.stack;if(ta&&y===ta.fieldChannel){if("normalize"===
ta.offset)return Pe([[0,1]]);P=d.requestDataName(Hg.Main);return Pe([{data:P,field:d.vgField(y,{suffix:"start"})},{data:P,field:d.vgField(y,{suffix:"end"})}])}ta=Sh[y]&&Ec(I)?Ik(d,y,l):void 0;if(Be(I))return y=hj([I.datum],X,na),Pe(y);if("unaggregated"===P)return y=d.requestDataName(Hg.Main),{field:P}=I,Pe([{data:y,field:Id({field:P,aggregate:"min"})},{data:y,field:Id({field:P,aggregate:"max"})}]);if(Ta(I.bin)){if(Gd(l))return"bin-ordinal"===l?Pe([]):Pe([{data:z(ta)?d.requestDataName(Hg.Main):d.requestDataName(Hg.Raw),
field:d.vgField(y,Tf(I,y)?{binSuffix:"range"}:{}),sort:!0!==ta&&p.isObject(ta)?ta:{field:d.vgField(y,{}),op:"min"}}]);({bin:P}=I);if(Ta(P)){const cb=sk(d,I.field,P);return Pe([new Ni(()=>{const qb=d.getSignalName(cb);return"[".concat(qb,".start, ").concat(qb,".stop]")})])}return Pe([{data:d.requestDataName(Hg.Main),field:d.vgField(y,{})}])}return I.timeUnit&&g(["time","utc"],l)&&oc(I,ec(d)?d.encoding[Fa(y)]:void 0,d.markDef,d.config)?(P=d.requestDataName(Hg.Main),Pe([{data:P,field:d.vgField(y)},{data:P,
field:d.vgField(y,{suffix:"end"})}])):ta?Pe([{data:z(ta)?d.requestDataName(Hg.Main):d.requestDataName(Hg.Raw),field:d.vgField(y),sort:ta}]):Pe([{data:d.requestDataName(Hg.Main),field:d.vgField(y)}])}function yj(l,P){const {op:d,field:y,order:I}=l;return Object.assign({},{op:null!==d&&void 0!==d?d:P?"sum":"min"},y?{field:ea(y)}:{},I?{order:I}:{})}function Ik(l,P,d){if(Gd(d)){var y=l.fieldDef(P);d=y.sort;if(Ha(d))return{op:"min",field:Ld(y,P),order:"ascending"};({stack:y}=l);var I=y?new Set([...y.groupbyFields,
...y.stackBy.map(X=>X.fieldDef.field)]):void 0;if(fa(d))return l=y&&!I.has(d.field),yj(d,l);if(bc(d)){const {encoding:X,order:na}=d;l=l.fieldDef(X);const {aggregate:ta,field:cb}=l;P=y&&!I.has(cb);if(Oa(ta)||ja(ta))return yj({field:Id(l),order:na},P);if(U(ta)||!ta)return yj({op:ta,field:cb,order:na},P)}else{if("descending"===d)return{op:"min",field:l.vgField(P),order:"descending"};if(g(["ascending",void 0],d))return!0}}}function Hi(l,P){const {aggregate:d,type:y}=l;return d?p.isString(d)&&!Ci.has(d)?
{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(d,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===y&&"log"===P?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(hh(l),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(hh(l),").")}}function ij(l,P,d,y){if(l.explicit&&P.explicit){var I=l.value,X=P.value;d="Conflicting ".concat(y.toString(),' property "').concat(d.toString(),
'" (').concat(hh(I)," and ").concat(hh(X),"). Using the union of the two domains.");lc(d)}return{explicit:l.explicit,value:[...l.value,...P.value]}}function mj(l){var P=O(l.map(I=>id(I)?(I=Object.assign({},I),delete I.sort,I):I),c),d=O(l.map(I=>{if(id(I))return I=I.sort,void 0===I||z(I)||("op"in I&&"count"===I.op&&delete I.field,"ascending"===I.order&&delete I.order),I}).filter(I=>void 0!==I),c);if(0!==P.length){if(1===P.length){P=l[0];if(id(P)&&0<d.length){var y=d[0];1<d.length?(lc("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
y=!0):p.isObject(y)&&"field"in y&&P.field===y.field&&(y=y.order?{order:y.order}:!0);return Object.assign({},P,{sort:y})}return P}d=O(d.map(I=>{if(z(I)||!("op"in I)||p.isString(I.op)&&I.op in Bi)return I;lc("Dropping sort property ".concat(hh(I),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),c);1===d.length?y=d[0]:1<d.length&&(lc("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),y=!0);d=O(l.map(I=>id(I)?I.data:null),
I=>I);return 1===d.length&&null!==d[0]?Object.assign({},{data:d[0],fields:P.map(I=>I.field)},y?{sort:y}:{}):Object.assign({},{fields:P},y?{sort:y}:{})}}function jj(l){if(id(l)&&p.isString(l.field))return l.field;var P=p.isArray(l)?!1:"fields"in l&&!("data"in l);if(P){let d;for(const y of l.fields)if(id(y)&&p.isString(y.field))if(!d)d=y.field;else if(d!==y.field)return lc("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
d;lc("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return d}P=p.isArray(l)?!1:"fields"in l&&"data"in l;if(P)return lc("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
l=l.fields[0],p.isString(l)?l:void 0}function Qi(l,P){P=l.component.scales[P].get("domains").map(d=>{id(d)&&(d.data=l.lookupDataSource(d.data));return d});return mj(P)}function wj(l){return ad(l)||Wc(l)?l.children.reduce((P,d)=>P.concat(wj(d)),yk(l)):yk(l)}function yk(l){return se(l.component.scales).reduce((P,d)=>{var y=l.component.scales[d];if(y.merged)return P;var I=y.combine(),X=Object.assign({},I);const na=I.name,ta=I.type;var cb=I.selectionExtent;const qb=I.reverse;X=(delete X.name,delete X.type,
delete X.selectionExtent,delete X.domains,delete X.range,delete X.reverse,X);I=I.range;va(d)?uc(I)&&(I={step:{signal:"".concat(na,"_step")}}):p.isObject(I)&&id(I)&&(I=Object.assign({},I,{data:l.lookupDataSource(I.data)}));d=Qi(l,d);cb?(cb=Oh(l,cb.param,cb),y={signal:Pd(y.get("type"))&&p.isArray(d)&&d[0]>d[1]?"isValid(".concat(cb,") \x26\x26 reverse(").concat(cb,")"):cb}):y=null;P.push(Object.assign({},{name:na,type:ta},d?{domain:d}:{},y?{domainRaw:y}:{},{range:I},void 0!==qb?{reverse:qb}:{},X));return P},
[])}function ck(l,P){var d=l.fieldDef(P);if(null!==d&&void 0!==d&&d.bin){const {bin:y,field:I}=d;d=Pa(P);const X=l.getName(d);if(p.isObject(y)&&y.binned&&void 0!==y.step)return new Ni(()=>{var na=l.scaleName(P);na='(domain("'.concat(na,'")[1] - domain("').concat(na,'")[0]) / ').concat(y.step);return"".concat(l.getSignalName(X)," / (").concat(na,")")});if(Ta(y)){const na=sk(l,I,y);return new Ni(()=>{var ta=l.getSignalName(na);ta="(".concat(ta,".stop - ").concat(ta,".start) / ").concat(ta,".step");
return"".concat(l.getSignalName(X)," / (").concat(ta,")")})}}}function Pj(l,P){const d=P.specifiedScales[l];var {size:y}=P,I=P.getScaleComponent(l).get("type");for(var X of Fm)if(void 0!==d[X]){const cb=Se(I,X),qb=ha(l,X);if(cb)if(qb)lc(qb);else switch(X){case "range":I=d.range;if(p.isArray(I)){if(va(l))return Df(I.map(vb=>{if("width"===vb||"height"===vb){vb=P.getName(vb);const Nb=P.getSignalName.bind(P);return Ni.fromName(Nb,vb)}return vb}))}else if(p.isObject(I))return Df({data:P.requestDataName(Hg.Main),
field:I.field,sort:{op:"min",field:P.vgField(l)}});return Df(I);case "scheme":return Df(Fj(d[X]))}else lc(tb(I,X,l))}X="x"===l||"xOffset"===l?"width":"height";y=y[X];if($c(y))if(va(l))if(Gd(I)){if(y=dj(y,P,l))return Df({step:y})}else lc(Jb(X));else if(l in Si&&"band"===P.getScaleComponent("xOffset"===l?"x":"y").get("type")&&(y=tk(y,I)))return Df(y);const {rangeMin:na,rangeMax:ta}=d;l=Gj(l,P);return(void 0!==na||void 0!==ta)&&Se(I,"rangeMin")&&p.isArray(l)&&2===l.length?Df([null!==na&&void 0!==na?
na:l[0],null!==ta&&void 0!==ta?ta:l[1]]):Pe(l)}function Fj(l){return!p.isString(l)&&l.name?Object.assign({},{scheme:l.name},b(l,["name"])):{scheme:l}}function Gj(l,P){const {size:d,config:y,mark:I,encoding:X}=P;var na=P.getSignalName.bind(P),{type:ta}=Gf(X[l]);const cb=P.getScaleComponent(l).get("type"),{domain:qb,domainMid:vb}=P.specifiedScales[l];switch(l){case "x":case "y":if(g(["point","band"],cb)&&(ta=dk(l,d,y.view),$c(ta)))return{step:dj(ta,P,l)};ta=Pa(l);ta=P.getName(ta);return"y"===l&&Pd(cb)?
[Ni.fromName(na,ta),0]:[0,Ni.fromName(na,ta)];case "xOffset":case "yOffset":return Mj(l,P,cb);case "size":return na=P.component.scales[l].get("zero"),na=sh(I,na,y),ta=al(I,d,P,y),Cj.has(cb)?Qg(na,ta,Vh(cb,y,qb,l)):[na,ta];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Ni(()=>{const Nb=P.getSignalName("width"),xc=P.getSignalName("height");return"min(".concat(Nb,",").concat(xc,")/2")})];case "strokeWidth":return[y.scale.minStrokeWidth,y.scale.maxStrokeWidth];
case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===cb?"nominal"===ta?"category":"ordinal":void 0!==vb?"diverging":"rect"===I||"geoshape"===I?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[y.scale.minOpacity,y.scale.maxOpacity]}}function dj(l,P,d){var {encoding:y}=P,I=P.getScaleComponent(d);d=ya(d);const X=y[d];if("offset"===Zc({step:l,offsetIsDiscrete:Zd(X)&&Rd(X.type)})&&
Mg(y,d)){var na;y=P.getScaleComponent(d);P=P.scaleName(d);P="domain('".concat(P,"').length");if("band"===y.get("type")){var ta,cb,qb,vb;d=null!==(ta=null!==(cb=y.get("paddingInner"))&&void 0!==cb?cb:y.get("padding"))&&void 0!==ta?ta:0;ta=null!==(qb=null!==(vb=y.get("paddingOuter"))&&void 0!==vb?vb:y.get("padding"))&&void 0!==qb?qb:0;P="bandspace(".concat(P,", ").concat(d,", ").concat(ta,")")}qb=null!==(na=I.get("paddingInner"))&&void 0!==na?na:I.get("padding");l="".concat(l.step," * ").concat(P," / (1-");
I=l.concat;na=qb;na=Bc(na)?na.signal:p.stringValue(na);return{signal:I.call(l,na,")")}}return l.step}function tk(l,P){if("offset"===Zc({step:l,offsetIsDiscrete:Gd(P)}))return{step:l.step}}function Mj(l,P,d){const y="xOffset"===l?"x":"y",I=P.getScaleComponent(y).get("type"),X=P.scaleName(y);return"band"===I?(l=dk(y,P.size,P.config.view),$c(l)&&(d=tk(l,d))?d:[0,{signal:"bandwidth('".concat(X,"')")}]):m("Cannot use ".concat(l," scale if ").concat(y," scale is not discrete."))}function dk(l,P,d){l="x"===
l?"width":"height";return(P=P[l])?P:Cf(d,l)}function Vh(l,P,d,y){switch(l){case "quantile":return P.scale.quantileCount;case "quantize":return P.scale.quantizeCount;case "threshold":if(void 0!==d&&p.isArray(d))return d.length+1;lc("Domain for ".concat(y," is required for threshold scale."));return 3}}function Qg(l,P,d){const y=()=>{const I=Kc(P),X=Kc(l),na="(".concat(I," - ").concat(X,") / (").concat(d," - 1)");return"sequence(".concat(X,", ").concat(I," + ").concat(na,", ").concat(na,")")};return Bc(P)?
new Ni(y):{signal:y()}}function sh(l,P,d){if(P)return Bc(P)?{signal:"".concat(P.signal," ? 0 : ").concat(sh(l,!1,d))}:0;switch(l){case "bar":case "tick":return d.scale.minBandSize;case "line":case "trail":case "rule":return d.scale.minStrokeWidth;case "text":return d.scale.minFontSize;case "point":case "square":case "circle":return d.scale.minSize}throw Error(We("size",l));}function al(l,P,d,y){d={x:ck(d,"x"),y:ck(d,"y")};switch(l){case "bar":case "tick":if(void 0!==y.scale.maxBandSize)return y.scale.maxBandSize;
const I=nj(P,d,y.view);return p.isNumber(I)?I-1:new Ni(()=>"".concat(I.signal," - 1"));case "line":case "trail":case "rule":return y.scale.maxStrokeWidth;case "text":return y.scale.maxFontSize;case "point":case "square":case "circle":if(y.scale.maxSize)return y.scale.maxSize;const X=nj(P,d,y.view);return p.isNumber(X)?Math.pow(.95*X,2):new Ni(()=>"pow(".concat(.95," * ").concat(X.signal,", 2)"))}throw Error(We("size",l));}function nj(l,P,d){const y=$c(l.width)?l.width.step:ef(d,"width"),I=$c(l.height)?
l.height.step:ef(d,"height");return P.x||P.y?new Ni(()=>"min(".concat([P.x?P.x.signal:y,P.y?P.y.signal:I].join(", "),")")):Math.min(y,I)}function a(l,P){if(ec(l)){const na=l.component.scales,{config:ta,encoding:cb,markDef:qb,specifiedScales:vb}=l;for(const Nb of se(na)){var d=vb[Nb];const xc=na[Nb];var y=l.getScaleComponent(Nb),I=Gf(cb[Nb]),X=d[P];const od=y.get("type"),Pc=y.get("padding");y=y.get("paddingInner");const Ed=Se(od,P),Ud=ha(Nb,P);void 0!==X&&(Ed?Ud&&lc(Ud):lc(tb(od,P,Nb)));if(Ed&&void 0===
Ud)if(void 0!==X)switch(X=I.timeUnit,I=I.type,P){case "domainMax":case "domainMin":sd(d[P])||"temporal"===I||X?xc.set(P,{signal:ug(d[P],{type:I,timeUnit:X})},!0):xc.set(P,d[P],!0);break;default:xc.copyKeyFromObject(P,d)}else d=P in dm?dm[P]({model:l,channel:Nb,fieldOrDatumDef:I,scaleType:od,scalePadding:Pc,scalePaddingInner:y,domain:d.domain,domainMin:d.domainMin,domainMax:d.domainMax,markDef:qb,config:ta,hasNestedOffsetScale:Ig(cb,Nb)}):ta.scale[P],void 0!==d&&xc.set(P,d,!1)}}else S(l,P)}function u(l){if(ec(l)){const P=
l.component.scales;for(const d of uj){const y=P[d];if(!y)continue;const I=Pj(d,l);y.setWithExplicit("range",I)}}else S(l,"range")}function S(l,P){const d=l.component.scales;for(var y of l.children)"range"===P?u(y):a(y,P);for(const I of se(d)){let X;for(const na of l.children)if(y=na.component.scales[I])y=y.getWithExplicit(P),X=ff(X,y,P,"scale",eg((ta,cb)=>{switch(P){case "range":if(ta.step&&cb.step)return ta.step-cb.step}return 0}));d[I].setWithExplicit(P,X)}}function Q(l,P){const d=P.bin;if(Ta(d)){const y=
sk(l,P.field,d);return new Ni(()=>l.getSignalName(y))}if(db(d)&&p.isObject(d)&&void 0!==d.step)return{step:d.step}}function Z(l,P,d,y,I){let X=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===l){if(va(P)){const {bandPaddingInner:na,barBandPaddingInner:ta,rectBandPaddingInner:cb,bandWithNestedOffsetPaddingInner:qb}=I;return X?qb:B(na,"bar"===d?ta:cb)}if(P in Si&&y===Xh.BAND)return I.offsetBandPaddingInner}}function Ga(l,P,d,y,I){let X=5<arguments.length&&void 0!==arguments[5]?
arguments[5]:!1;if(void 0===l)if(va(P)){const {bandPaddingOuter:na,bandWithNestedOffsetPaddingOuter:ta}=I;if(X)return ta;if(d===Xh.BAND)return B(na,Bc(y)?{signal:"".concat(y.signal,"/2")}:y/2)}else if(P in Si){if(d===Xh.POINT)return.5;if(d===Xh.BAND)return I.offsetBandPaddingOuter}}function Va(l,P,d,y){const I=Ya(P,d,y,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1);var {type:X}=l;if(!Sh[P])return null;if(void 0!==X){if(!ob(P,X))return X='Channel "'.concat(P,'" does not work with "').concat(X,
'" scale. We are using "').concat(I,'" scale instead.'),lc(X),I;var na;if(na=Ec(d))na=d.type,na=!(g(["ordinal","nominal"],na)?void 0===X||Gd(X):"temporal"===na?g([Xh.TIME,Xh.UTC,void 0],X):"quantitative"===na?Vk.has(X)||Cj.has(X)||void 0===X:1);return na?(X='FieldDef does not work with "'.concat(X,'" scale. We are using "').concat(I,'" scale instead.'),lc(X),I):X}return I}function Ya(l,P,d,y){switch(P.type){case "nominal":case "ordinal":var I;if(bb(l)||"discrete"===ra(l))return"shape"===l&&"ordinal"===
P.type&&lc(Za(l,"ordinal")),"ordinal";if(va(l)||l in Si){if(g(["rect","bar","image","rule"],d.type)||y)return"band"}else if("arc"===d.type&&l in Ck)return"band";l=d[Pa(l)];return Yb(l)||we(P)&&null!==(I=P.axis)&&void 0!==I&&I.tickBand?"band":"point";case "temporal":if(!bb(l)){if("discrete"===ra(l))return lc(Za(l,"temporal")),"ordinal";if(Ec(P)&&P.timeUnit&&af(P.timeUnit).utc)return"utc"}return"time";case "quantitative":if(bb(l)){if(Ec(P)&&Ta(P.bin))return"bin-ordinal"}else if("discrete"===ra(l))return lc(Za(l,
"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(P.type,'".'));}function wb(l){let {ignoreRange:P}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Rb(l);ec(l)?hk(l):vi(l);for(const d of Nf)a(l,d);P||u(l)}function Rb(l){if(ec(l)){var P=l.component;const {encoding:cb,mark:qb,markDef:vb}=l;var d={};for(var y of uj){var I=Gf(cb[y]);if(!I||qb!==Ye||"shape"!==y||"geojson"!==I.type){var X=I&&I.scale;if(y in Si){var na=oa(y);if(!Ig(cb,na)){X&&
lc("".concat(y," encoding has no scale, so specified scale is ignored."));continue}}if(I&&null!==X&&!1!==X){var ta;null!==(ta=X)&&void 0!==ta?ta:X={};na=Ig(cb,y);I=Va(X,y,I,vb,na);d[y]=new em(l.scaleName("".concat(y),!0),{value:I,explicit:X.type===I})}}}P.scales=d}else{ta=l.component;y=l.component.scales={};na={};const cb=l.component.resolve;for(const qb of l.children){Rb(qb);for(const vb of se(qb.component.scales))if(null!==(I=(X=cb.scale)[vb])&&void 0!==I?I:X[vb]=rg(vb,l),"shared"===cb.scale[vb]){const Nb=
na[vb],xc=qb.component.scales[vb].getWithExplicit("type");if(Nb){const od=Wk[Nb.value],Pc=Wk[xc.value];od===Pc||"ordinal-position"===od&&"time"===Pc||"ordinal-position"===Pc&&"time"===od?na[vb]=ff(Nb,xc,"type","scale",Gm):(cb.scale[vb]="independent",delete na[vb])}else na[vb]=xc}}for(P of se(na)){X=l.scaleName(P,!0);y[P]=new em(X,na[P]);for(d of l.children)if(I=d.component.scales[P])d.renameScale(I.get("name"),X),I.merged=!0}ta.scales=y}}function ec(l){return"unit"===(null===l||void 0===l?void 0:
l.type)}function Mc(l){return"facet"===(null===l||void 0===l?void 0:l.type)}function Wc(l){return"concat"===(null===l||void 0===l?void 0:l.type)}function ad(l){return"layer"===(null===l||void 0===l?void 0:l.type)}function Wd(l){function P(y,I){y instanceof uk&&!(y.isGenerator||"url"in y.data)&&(l.push(I),I={name:null,source:I.name,transform:[]});if(y instanceof xi)if(y.parent instanceof uk&&!I.source){var X;I.format=Object.assign({},null!==(X=I.format)&&void 0!==X?X:{},{parse:y.assembleFormatParse()});
I.transform.push(...y.assembleTransforms(!0))}else I.transform.push(...y.assembleTransforms());if(y instanceof Mk)I.name||(I.name="data_".concat(d++)),!I.source||0<I.transform.length?(l.push(I),y.data=I.name):y.data=I.source,l.push(...y.assemble());else switch((y instanceof rl||y instanceof sl||y instanceof tl||y instanceof dl||y instanceof el||y instanceof ul||y instanceof xj||y instanceof vl||y instanceof cl||y instanceof Nk||y instanceof Jl||y instanceof Kl||y instanceof Ll||y instanceof Ml||y instanceof
Nl||y instanceof Ol||y instanceof vk||y instanceof Pl||y instanceof Ql)&&I.transform.push(y.assemble()),(y instanceof Ij||y instanceof Jj||y instanceof Ok||y instanceof gk||y instanceof fl)&&I.transform.push(...y.assemble()),y instanceof wi&&(I.source&&0===I.transform.length?y.setSource(I.source):y.parent instanceof wi?y.setSource(I.name):(I.name||(I.name="data_".concat(d++)),y.setSource(I.name),1===y.numChildren()&&(l.push(I),I={name:null,source:I.name,transform:[]}))),y.numChildren()){case 0:y instanceof
wi&&(!I.source||0<I.transform.length)&&l.push(I);break;case 1:P(y.children[0],I);break;default:I.name||(I.name="data_".concat(d++));X=I.name;!I.source||0<I.transform.length?l.push(I):X=I.source;for(const na of y.children)P(na,{name:null,source:X,transform:[]})}}let d=0;return P}function Ee(l){const P=[],d=Wd(P);for(const y of l.children)d(y,{source:l.name,name:null,transform:[]});return P}function wf(l,P){const d=[];var y=Wd(d);let I=0;for(const ta of l.sources){ta.hasName()||(ta.dataName="source_".concat(I++));
const cb=ta.assemble();y(ta,cb)}for(const ta of d)0===ta.transform.length&&delete ta.transform;y=0;for(const ta of d.entries()){const [cb,qb]=ta;var X;0!==(null!==(X=qb.transform)&&void 0!==X?X:[]).length||qb.source||d.splice(y++,0,d.splice(cb,1)[0])}for(const ta of d)for(const cb of null!==(na=ta.transform)&&void 0!==na?na:[]){var na;"lookup"===cb.type&&(cb.from=l.outputNodes[cb.from].getSource())}for(const ta of d)ta.name in P&&(ta.values=P[ta.name]);return d}function zg(l,P,d){P="row"===P?"height":
"width";return{labels:d,sizeSignal:l.child.component.layoutSize.get(P)?l.child.getSizeSignalRef(P):void 0,axes:[]}}function lf(l,P){var {child:d}=l;if(d.component.axes[P]){const {layoutHeaders:I,resolve:X}=l.component;X.axis[P]=Jh(X,P);if("shared"===X.axis[P]){const na="x"===P?"column":"row",ta=I[na];for(const cb of d.component.axes[P]){var y;P=cb.get("orient");P="top"===P||"left"===P||Bc(P)?"header":"footer";null!==(y=ta[P])&&void 0!==y?y:ta[P]=[zg(l,na,!1)];(d=ni(cb,"main",l.config,{header:!0}))&&
ta[P][0].axes.push(d);cb.mainExtracted=!0}}}}function Gg(l){for(const P of l.children)P.parseLayoutSize()}function cg(l,P){const d=gh(P),y=Ua(d),I=l.component.resolve,X=l.component.layoutSize;let na;for(const cb of l.children){var ta;const qb=cb.component.layoutSize.getWithExplicit(d),vb=null!==(ta=I.scale[y])&&void 0!==ta?ta:rg(y,l);if("independent"===vb&&"step"===qb.value){na=void 0;break}if(na){if("independent"===vb&&na.value!==qb.value){na=void 0;break}na=ff(na,qb,d,"")}else na=qb}if(na){for(const cb of l.children)l.renameSignal(cb.getName(d),
l.getName(P)),cb.component.layoutSize.set(d,"merged",!1);X.setWithExplicit(P,na)}else X.setWithExplicit(P,{explicit:!1,value:void 0})}function Lg(l,P){const d=l.config;var y=l.getScaleComponent("width"===P?"x":"y");if(y)return l=y.get("type"),y=y.get("range"),Gd(l)?(P=Cf(d.view,P),uc(y)||$c(P)?"step":P):ze(d.view,P);if(l.hasProjection||"arc"===l.mark)return ze(d.view,P);P=Cf(d.view,P);return $c(P)?P.step:P}function sg(l,P,d){return Id(P,Object.assign({},{suffix:"by_".concat(Id(l))},null!==d&&void 0!==
d?d:{}))}function Of(l,P){for(const ta of P){var d,y,I,X;P=ta.data;if(l.name&&ta.hasName()&&l.name!==ta.dataName)continue;const cb=null===(d=l.format)||void 0===d?void 0:d.mesh;var na=null===(y=P.format)||void 0===y?void 0:y.feature;if(cb&&na)continue;const qb=null===(I=l.format)||void 0===I?void 0:I.feature;if(!qb&&!na||qb===na)if(na=null===(X=P.format)||void 0===X?void 0:X.mesh,!cb&&!na||cb===na)if("values"in l&&"values"in P){if(gi(l.values,P.values))return ta}else if("url"in l&&"url"in P){if(l.url===
P.url)return ta}else if(Da(l)&&l.name===ta.dataName)return ta}return null}function Vg(l,P){if(l.data||!l.parent){if(null===l.data)return l=new uk({values:[]}),P.push(l),l;const d=Of(l.data,P);if(d)return ab(l.data)||(d.data.format=x({},l.data.format,d.data.format)),!d.hasName()&&l.data.name&&(d.dataName=l.data.name),d;l=new uk(l.data);P.push(l);return l}return l.parent.component.data.facetRoot?l.parent.component.data.facetRoot:l.parent.component.data.main}function hg(l){var P,d,y,I=Vg(l,l.component.data.sources);
const {outputNodes:X,outputNodeRefCounts:na}=l.component.data,ta=l.data,cb=ta&&(ab(ta)||"url"in ta||"values"in ta)||!l.parent?new $f:l.parent.component.data.ancestorParse.clone();ab(ta)?("sequence"in ta?I=new sl(I,ta.sequence):"graticule"in ta&&(I=new rl(I,ta.graticule)),cb.parseNothing=!0):null===(null===ta||void 0===ta?void 0:null===(P=ta.format)||void 0===P?void 0:P.parse)&&(cb.parseNothing=!0);I=null!==(d=xi.makeExplicit(I,l,cb))&&void 0!==d?d:I;I=new vk(I);P=l.parent&&ad(l.parent);if((ec(l)||
Mc(l))&&P){var qb;I=null!==(qb=Ij.makeFromEncoding(I,l))&&void 0!==qb?qb:I}if(0<l.transforms.length){qb=0;for(const Le of l.transforms){var vb=d=void 0;if("calculate"in Le)vb=I=new el(I,Le),d="derived";else if("filter"in Le){var Nb;vb=aj(Le);vb=I=null!==(Nb=xi.makeWithAncestors(I,{},vb,cb))&&void 0!==Nb?Nb:I;I=new dl(I,l,Le.filter)}else if("bin"in Le)vb=I=Ij.makeFromTransform(I,Le,l),d="number";else if("timeUnit"in Le)d="date",void 0===cb.getWithExplicit(Le.field).value&&(I=new xi(I,{[Le.field]:d}),
cb.set(Le.field,d,!1)),vb=I=Jj.makeFromTransform(I,Le);else if("aggregate"in Le)vb=I=xj.makeFromTransform(I,Le),d="number",Yf(l)&&(I=new vk(I));else if("lookup"in Le)vb=I=vl.make(I,l,Le,qb++),d="derived";else if("window"in Le)vb=I=new cl(I,Le),d="number";else if("joinaggregate"in Le)vb=I=new Nk(I,Le),d="number";else if("stack"in Le)vb=I=gk.makeFromTransform(I,Le),d="derived";else if("fold"in Le)vb=I=new Jl(I,Le),d="derived";else if("flatten"in Le)vb=I=new Kl(I,Le),d="derived";else if("pivot"in Le)vb=
I=new Ql(I,Le),d="derived";else if("sample"in Le)I=new Pl(I,Le);else if("impute"in Le)vb=I=Ok.makeFromTransform(I,Le),d="derived";else if("density"in Le)vb=I=new Ll(I,Le),d="derived";else if("quantile"in Le)vb=I=new Nl(I,Le),d="derived";else if("regression"in Le)vb=I=new Ol(I,Le),d="derived";else if("loess"in Le)vb=I=new Ml(I,Le),d="derived";else{lc("Ignoring an invalid transform: ".concat(hh(Le),"."));continue}if(vb&&void 0!==d)for(const Xf of null!==(xc=vb.producedFields())&&void 0!==xc?xc:[]){var xc;
cb.set(Xf,d,!1)}}}Nb={};if(ec(l)&&l.component.selection)for(var od of se(l.component.selection)){xc=l.component.selection[od];for(const Le of xc.project.items)!Le.channel&&1<C(Le.field)&&(Nb[Le.field]="flatten")}od=bj(l);I=null!==(y=xi.makeWithAncestors(I,{},Object.assign({},Nb,od),cb))&&void 0!==y?y:I;ec(l)&&(I=fl.parseAll(I,l),I=ul.parseAll(I,l));if(ec(l)||Mc(l)){var Pc;if(!P){var Ed;I=null!==(Ed=Ij.makeFromEncoding(I,l))&&void 0!==Ed?Ed:I}I=null!==(Pc=Jj.makeFromEncoding(I,l))&&void 0!==Pc?Pc:
I;I=el.parseAllForSortIndex(I,l)}Pc=l.getDataName(Hg.Raw);y=new wi(I,Pc,Hg.Raw,na);I=X[Pc]=y;if(ec(l)){var Ud,pe;if(Pc=xj.makeFromEncoding(I,l))I=Pc,Yf(l)&&(I=new vk(I));I=null!==(Ud=Ok.makeFromEncoding(I,l))&&void 0!==Ud?Ud:I;I=null!==(pe=gk.makeFromEncoding(I,l))&&void 0!==pe?pe:I}if(ec(l)){var Ie;I=null!==(Ie=tl.make(I,l))&&void 0!==Ie?Ie:I}pe=l.getDataName(Hg.Main);Ud=new wi(I,pe,Hg.Main,na);I=X[pe]=Ud;if(ec(l))for(var je of kj(null!==(Fe=l.component.selection)&&void 0!==Fe?Fe:{})){const [Le,
Xf]=je;var Fe;Fe=l.getName("lookup_".concat(Le));l.component.data.outputNodes[Fe]=Xf.materialized=new wi(new dl(Ud,l,{param:Le}),Fe,Hg.Lookup,l.component.data.outputNodeRefCounts)}Fe=null;if(Mc(l)){var bf;je=l.getName("facet");{Fe=I;const {row:Le,column:Xf}=l.facet;if(Le&&Xf){pe=null;for(Ue of[Le,Xf])if(fa(Ue.sort)){const {field:jh,op:kg="min"}=Ue.sort;Fe=pe=new Nk(Fe,{joinaggregate:[{op:kg,field:jh,as:sg(Ue,Ue.sort,{forAs:!0})}],groupby:[Id(Ue)]})}var Ue=pe}else Ue=null}I=null!==(bf=Ue)&&void 0!==
bf?bf:I;Fe=new Mk(I,l,je,Ud.getSource());X[je]=Fe}return Object.assign({},l.component.data,{outputNodes:X,outputNodeRefCounts:na,raw:y,main:Ud,facetRoot:Fe,ancestorParse:cb})}function pg(l,P,d){var y;const {encoding:I,config:X}=l,na=null!==(y=Gf(I[P]))&&void 0!==y?y:Gf(I[Fa(P)]);l=l.axis(P)||{};const {format:ta,formatType:cb}=l;if(Od(cb))return Object.assign({},{text:wc({fieldOrDatumDef:na,field:"datum.value",format:ta,formatType:cb,config:X})},d);if(void 0===ta&&void 0===cb&&X.customFormatTypes){if("quantitative"===
Fd(na)){if(we(na)&&"normalize"===na.stack&&X.normalizedNumberFormatType)return Object.assign({},{text:wc({fieldOrDatumDef:na,field:"datum.value",format:X.normalizedNumberFormat,formatType:X.normalizedNumberFormatType,config:X})},d);if(X.numberFormatType)return Object.assign({},{text:wc({fieldOrDatumDef:na,field:"datum.value",format:X.numberFormat,formatType:X.numberFormatType,config:X})},d)}if("temporal"===Fd(na)&&X.timeFormatType&&Ec(na)&&!na.timeUnit)return Object.assign({},{text:wc({fieldOrDatumDef:na,
field:"datum.value",format:X.timeFormat,formatType:X.timeFormatType,config:X})},d)}return d}function Kh(l){return Wh.reduce((P,d)=>{l.component.scales[d]&&(P[d]=[Wi(d,l)]);return P},{})}function Ph(l,P){if(l){if(l.length!==P.length)return;const d=l.length;for(let y=0;y<d;y++){const I=l[y],X=P[y];if(!!I!==!!X)return;if(I&&X){const na=I.getWithExplicit("orient"),ta=X.getWithExplicit("orient");if(na.explicit&&ta.explicit&&na.value!==ta.value)return;l[y]=bi(I,X)}}}else return P.map(d=>d.clone());return l}
function bi(l,P){for(const d of fm){const y=ff(l.getWithExplicit(d),P.getWithExplicit(d),d,"axis",(I,X)=>{switch(d){case "title":return jb(I,X);case "gridScale":return{explicit:I.explicit,value:B(I.value,X.value)}}return fg(I,X,d,"axis")});l.setWithExplicit(d,y)}return l}function Li(l,P,d,y,I){if("disable"===P)return void 0!==d;d=d||{};switch(P){case "titleAngle":case "labelAngle":return l===(Bc(d.labelAngle)?d.labelAngle:sa(d.labelAngle));case "values":return!!d.values;case "encode":return!!d.encoding||
!!d.labelAngle;case "title":if(l===hd(y,I))return!0}return l===d[P]}function Wi(l,P){var d,y,I,X,na;let ta=P.axis(l);const cb=new gm;var qb=Gf(P.encoding[l]);const {mark:vb,config:Nb}=P;var xc=(null===(d=ta)||void 0===d?void 0:d.orient)||(null===(y=Nb["x"===l?"axisX":"axisY"])||void 0===y?void 0:y.orient)||(null===(I=Nb.axis)||void 0===I?void 0:I.orient)||("x"===l?"bottom":"left");y=P.getScaleComponent(l).get("type");d=Na(l,y,xc,P.config);I=void 0!==ta?!ta:ub("disable",Nb.style,null===(X=ta)||void 0===
X?void 0:X.style,d).configValue;cb.set("disable",I,void 0!==ta);if(I)return cb;ta=ta||{};X=Zb(qb,ta,l,Nb.style,d);qb={fieldOrDatumDef:qb,axis:ta,channel:l,model:P,scaleType:y,orient:xc,labelAngle:X,mark:vb,config:Nb};for(const Pc of fm)if(xc=Pc in hm?hm[Pc](qb):ok[Pc]?ta[Pc]:void 0,X=void 0!==xc,y=Li(xc,Pc,ta,P,l),X&&y)cb.set(Pc,xc,y);else{const {configValue:Ed,configFrom:Ud}=ok[Pc]&&"values"!==Pc?ub(Pc,Nb.style,ta.style,d):{};I=void 0!==Ed;X&&!I?cb.set(Pc,xc,y):("vgAxisConfig"!==Ud||Hm.has(Pc)&&
I||Wf(Ed)||Bc(Ed))&&cb.set(Pc,Ed,!1)}const od=null!==(na=ta.encoding)&&void 0!==na?na:{};na=Gk.reduce((Pc,Ed)=>{var Ud;if(!cb.hasAxisPart(Ed))return Pc;const pe=nf(null!==(Ud=od[Ed])&&void 0!==Ud?Ud:{},P);Ud="labels"===Ed?pg(P,l,pe):pe;void 0===Ud||r(Ud)||(Pc[Ed]={update:Ud});return Pc},{});r(na)||cb.set("encode",na,!!ta.encoding||void 0!==ta.labelAngle);return cb}function qk(l){let {encoding:P,size:d}=l;for(const y of Wh)l=Pa(y),$c(d[l])&&fe(P[y])&&(delete d[l],lc(Jb(l)));return d}function bl(l,
P,d){l=$b(l);var y=Sc("orient",l,d);l.orient=oj(l.type,P,y);void 0!==y&&y!==l.orient&&(y='Specified orient "'.concat(l.orient,'" overridden with "').concat(y,'".'),lc(y));if("bar"===l.type&&l.orient&&(y=Sc("cornerRadiusEnd",l,d),void 0!==y)){const X="horizontal"===l.orient&&P.x2||"vertical"===l.orient&&P.y2?["cornerRadius"]:rk[l.orient];for(var I of X)l[I]=y;void 0!==l.cornerRadiusEnd&&delete l.cornerRadiusEnd}void 0===Sc("opacity",l,d)&&(I=g([Bj,pk,nk,lk],l.type)&&!Ng(P)?.7:void 0,l.opacity=I);void 0===
Sc("cursor",l,d)&&(P=P.href||l.href||Sc("href",l,d)?"pointer":l.cursor,l.cursor=P);return l}function Jk(l,P,d){({graticule:d}=d);if(d)return!1;P=jd("filled",l,P);l=l.type;return B(P,l!==Bj&&l!==Gh&&l!==tj)}function oj(l,P,d){switch(l){case Bj:case nk:case lk:case Aj:case Xj:case Zk:return}const {x:y,y:I,x2:X,y2:na}=P;switch(l){case Xi:if(Ec(y)&&(db(y.bin)||Ec(I)&&I.aggregate&&!y.aggregate))break;if(Ec(I)&&(db(I.bin)||Ec(y)&&y.aggregate&&!I.aggregate))return"horizontal";if(na||X){if(d)return d;if(!X&&
(Ec(y)&&"quantitative"===y.type&&!Ta(y.bin)||Ae(y)))return"horizontal";if(!na&&(Ec(I)&&"quantitative"===I.type&&!Ta(I.bin)||Ae(I)))break}case tj:if(!(!X||Ec(y)&&db(y.bin)||!na||Ec(I)&&db(I.bin)))return;case Mh:if(na){if(Ec(I)&&db(I.bin))return"horizontal";break}else if(X)if(Ec(y)&&db(y.bin))break;else return"horizontal";else if(l===tj)if(y&&!I)break;else if(I&&!y)return"horizontal";case Gh:case pk:P=fe(y);const ta=fe(I);if(d)return d;if(P&&!ta)return"tick"!==l?"horizontal":"vertical";if(!P&&ta)return"tick"!==
l?"vertical":"horizontal";if(P&&ta){d="temporal"===y.type;P="temporal"===I.type;if(d&&!P)return"tick"!==l?"vertical":"horizontal";if(!d&&P)return"tick"!==l?"horizontal":"vertical";if(!y.aggregate&&I.aggregate)return"tick"!==l?"vertical":"horizontal";if(y.aggregate&&!I.aggregate)return"tick"!==l?"horizontal":"vertical"}else return}return"vertical"}function Qj(l,P){var d=Object,y=d.assign,I=Kg(l,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),X=He("x",
l,{defaultPos:"mid"}),na=He("y",l,{defaultPos:"mid"}),ta=Ze("size",l),cb=Ze("angle",l);l=P?{shape:{value:P}}:Ze("shape",l);return y.call(d,{},I,X,na,ta,cb,l)}function Oj(l){if(g([Gh,Mh,Yk],l.mark)){var P=uf(l.mark,l.encoding);if(0<P.length)return jl(l,P)}else if(l.mark===Xi&&(P=Uh.some(d=>Sc(d,l.markDef,l.config)),l.stack&&!l.fieldDef("size")&&P))return Pk(l);return Ri(l)}function jl(l,P){return[{name:l.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+l.requestDataName(Hg.Main),
data:l.requestDataName(Hg.Main),groupby:P}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Ri(l,{fromPrefix:"faceted_path_"})}]}function Pk(l){var P;const [d]=Ri(l,{fromPrefix:"stack_group_"}),y=l.scaleName(l.stack.fieldChannel),I=function(){return l.vgField(l.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var X=(qb,vb)=>{vb=[I({prefix:"min",suffix:"start",expr:vb}),I({prefix:"max",suffix:"start",expr:vb}),I({prefix:"min",suffix:"end",
expr:vb}),I({prefix:"max",suffix:"end",expr:vb})];return"".concat(qb,"(").concat(vb.map(Nb=>"scale('".concat(y,"',").concat(Nb,")")).join(","),")")};let na;"x"===l.stack.fieldChannel?(X=Object.assign({},f(d.encode.update,["y","yc","y2","height",...Uh]),{x:{signal:X("min","datum")},x2:{signal:X("max","datum")},clip:{value:!0}}),na={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},d.encode.update=Object.assign({},b(d.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(X=
Object.assign({},f(d.encode.update,["x","xc","x2","width"]),{y:{signal:X("min","datum")},y2:{signal:X("max","datum")},clip:{value:!0}}),na={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},d.encode.update=Object.assign({},b(d.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var ta of Uh){var cb=jd(ta,l.markDef,l.config);d.encode.update[ta]?(X[ta]=d.encode.update[ta],delete d.encode.update[ta]):cb&&(X[ta]=Wb(cb));cb&&(d.encode.update[ta]={value:0})}ta=[];if(0<(null===
(P=l.stack.groupbyChannels)||void 0===P?void 0:P.length))for(const qb of l.stack.groupbyChannels)P=l.fieldDef(qb),(cb=Id(P))&&ta.push(cb),(null!==P&&void 0!==P&&P.bin||null!==P&&void 0!==P&&P.timeUnit)&&ta.push(Id(P,{binSuffix:"end"}));X="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((qb,vb)=>{if(d.encode.update[vb])return Object.assign({},qb,{[vb]:d.encode.update[vb]});const Nb=jd(vb,l.markDef,l.config);return void 0!==Nb?Object.assign({},
qb,{[vb]:Wb(Nb)}):qb},X);X.stroke&&(X.strokeForeground={value:!0},X.strokeOffset={value:0});return[{type:"group",from:{facet:{data:l.requestDataName(Hg.Main),name:"stack_group_"+l.requestDataName(Hg.Main),groupby:ta,aggregate:{fields:[I({suffix:"start"}),I({suffix:"start"}),I({suffix:"end"}),I({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:X},marks:[{type:"group",encode:{update:na},marks:[d]}]}]}function Rj(l){const {encoding:P,stack:d,mark:y,markDef:I,config:X}=l;var na=P.order;
if(!(!p.isArray(na)&&Kd(na)&&e(na.value)||!na&&e(Sc("order",I,X)))){if((p.isArray(na)||Ec(na))&&!d)return ua(na,{expr:"datum"});if(Ea(y)){const cb="horizontal"===I.orient?"y":"x",qb=P[cb];if(Ec(qb)){na=qb.sort;if(p.isArray(na))return{field:Id(qb,{prefix:cb,suffix:"sort_index",expr:"datum"})};if(fa(na))return{field:Id({aggregate:Ng(l.encoding)?na.op:void 0,field:na.field},{expr:"datum"})};if(bc(na))return l=l.fieldDef(na.encoding),{field:Id(l,{expr:"datum"}),order:na.order};if(null!==na){var ta;return{field:Id(qb,
{binSuffix:null!==(ta=l.stack)&&void 0!==ta&&ta.impute?"mid":void 0,expr:"datum"})}}}}}}function Ri(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:d,markDef:y,encoding:I,config:X}=l;var na=y.clip;var ta=l.getScaleComponent("x");var cb=l.getScaleComponent("y");ta=null!==ta&&void 0!==ta&&ta.get("selectionExtent")||null!==cb&&void 0!==cb&&cb.get("selectionExtent")?!0:void 0;cb=l.component.projection;na=B(na,ta,cb&&!cb.isFit?!0:void 0);ta=Fc(y);cb=I.key;const qb=
Rj(l);var vb;if(l.component.selection){for(var Nb=vb=se(l.component.selection).length,xc=l.parent;xc&&0===Nb;)Nb=se(xc.component.selection).length,xc=xc.parent;vb=Nb?{interactive:0<vb||!!l.encoding.tooltip}:null}else vb=null;Nb=Sc("aria",y,X);xc=wl[d].postEncodingTransform?wl[d].postEncodingTransform(l):null;return[Object.assign({},{name:l.getName("marks"),type:wl[d].vgMark},na?{clip:!0}:{},ta?{style:ta}:{},cb?{key:cb.field}:{},qb?{sort:qb}:{},vb?vb:{},!1===Nb?{aria:Nb}:{},{from:{data:P.fromPrefix+
l.requestDataName(Hg.Main)},encode:{update:wl[d].encodeEntry(l)}},xc?{transform:xc}:{})]}function Qh(l,P,d,y,I){if("facet"in l)return new xl(l,P,d,I);if("layer"in l)return new im(l,P,d,y,I);if(Tg(l))return new jm(l,P,d,y,I);if("vconcat"in l||"hconcat"in l||"concat"in l)return new Im(l,P,d,I);throw Error(Vb(l));}function pi(l,P){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let y=3<arguments.length?arguments[3]:void 0;const I=l.config?wg(l.config):void 0;d=[].concat(l.assembleSelectionData([]),
wf(l.component.data,d));const X=l.assembleProjections(),na=l.assembleTitle(),ta=l.assembleGroupStyle(),cb=l.assembleGroupEncodeEntry(!0);let qb=l.assembleLayoutSignals();qb=qb.filter(xc=>"width"!==xc.name&&"height"!==xc.name||void 0===xc.value?!0:(P[xc.name]=+xc.value,!1));var vb=Object.assign({},P);const Nb=P.params;vb=(delete vb.params,vb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},l.description?{description:l.description}:{},vb,na?{title:na}:{},ta?{style:ta}:
{},cb?{encode:{update:cb}}:{},{data:d},0<X.length?{projections:X}:{},l.assembleGroup([...qb,...l.assembleSelectionTopLevelSignals([]),...Cc(Nb)]),I?{config:I}:{},y?{usermeta:y}:{})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function d(P){var y=isNaN(P)?1:Number(P);return y?Array.prototype.reduce.call(this,function(I,X){return Array.isArray(X)?I.push.apply(I,d.call(X,y-1)):I.push(X),I},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||
Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(P){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var pj={exports:{}};(function(P){var d=function(){function y(vb,Nb){return null!=Nb&&vb instanceof Nb}function I(vb,Nb,xc,od,Pc){function Ed(je,Fe){if(null===je)return null;if(0===Fe||"object"!=typeof je)return je;if(y(je,ta))var bf=new ta;else if(y(je,cb))bf=new cb;else if(y(je,qb))bf=new qb(function(kg,ki){je.then(function(Mi){kg(Ed(Mi,Fe-1))},
function(Mi){ki(Ed(Mi,Fe-1))})});else if(I.__isArray(je))bf=[];else if(I.__isRegExp(je))bf=new RegExp(je.source,na(je)),je.lastIndex&&(bf.lastIndex=je.lastIndex);else if(I.__isDate(je))bf=new Date(je.getTime());else{if(Ie&&w.isBuffer(je))return bf=w.allocUnsafe?w.allocUnsafe(je.length):new w(je.length),je.copy(bf),bf;if(y(je,Error))bf=Object.create(je);else if("undefined"==typeof od){var Ue=Object.getPrototypeOf(je);bf=Object.create(Ue)}else bf=Object.create(od),Ue=od}if(Nb){var Le=Ud.indexOf(je);
if(-1!=Le)return pe[Le];Ud.push(je);pe.push(bf)}y(je,ta)&&je.forEach(function(kg,ki){ki=Ed(ki,Fe-1);kg=Ed(kg,Fe-1);bf.set(ki,kg)});y(je,cb)&&je.forEach(function(kg){kg=Ed(kg,Fe-1);bf.add(kg)});for(var Xf in je){var jh;Ue&&(jh=Object.getOwnPropertyDescriptor(Ue,Xf));jh&&null==jh.set||(bf[Xf]=Ed(je[Xf],Fe-1))}if(Object.getOwnPropertySymbols)for(Le=Object.getOwnPropertySymbols(je),Xf=0;Xf<Le.length;Xf++)if(jh=Le[Xf],Ue=Object.getOwnPropertyDescriptor(je,jh),!Ue||Ue.enumerable||Pc)bf[jh]=Ed(je[jh],Fe-
1),Ue.enumerable||Object.defineProperty(bf,jh,{enumerable:!1});if(Pc)for(Le=Object.getOwnPropertyNames(je),Xf=0;Xf<Le.length;Xf++)jh=Le[Xf],Ue=Object.getOwnPropertyDescriptor(je,jh),Ue&&Ue.enumerable||(bf[jh]=Ed(je[jh],Fe-1),Object.defineProperty(bf,jh,{enumerable:!1}));return bf}"object"===typeof Nb&&(xc=Nb.depth,od=Nb.prototype,Pc=Nb.includeNonEnumerable,Nb=Nb.circular);var Ud=[],pe=[],Ie="undefined"!=typeof w;"undefined"==typeof Nb&&(Nb=!0);"undefined"==typeof xc&&(xc=Infinity);return Ed(vb,xc)}
function X(vb){return Object.prototype.toString.call(vb)}function na(vb){var Nb="";vb.global&&(Nb+="g");vb.ignoreCase&&(Nb+="i");vb.multiline&&(Nb+="m");return Nb}try{var ta=Map}catch(vb){ta=function(){}}try{var cb=Set}catch(vb){cb=function(){}}try{var qb=Promise}catch(vb){qb=function(){}}I.clonePrototype=function(vb){if(null===vb)return null;var Nb=function(){};Nb.prototype=vb;return new Nb};I.__objToStr=X;I.__isDate=function(vb){return"object"===typeof vb&&"[object Date]"===X(vb)};I.__isArray=function(vb){return"object"===
typeof vb&&"[object Array]"===X(vb)};I.__isRegExp=function(vb){return"object"===typeof vb&&"[object RegExp]"===X(vb)};I.__getRegExpFlags=na;return I}();P.exports&&(P.exports=d)})(pj);var mk=function(P,d){d||(d={});"function"===typeof d&&(d={cmp:d});var y="boolean"===typeof d.cycles?d.cycles:!1,I=d.cmp&&function(na){return function(ta){return function(cb,qb){return na({key:cb,value:ta[cb]},{key:qb,value:ta[qb]})}}}(d.cmp),X=[];return function cb(ta){ta&&ta.toJSON&&"function"===typeof ta.toJSON&&(ta=
ta.toJSON());if(void 0!==ta){if("number"==typeof ta)return isFinite(ta)?""+ta:"null";if("object"!==typeof ta)return JSON.stringify(ta);var qb;if(Array.isArray(ta)){var vb="[";for(qb=0;qb<ta.length;qb++)qb&&(vb+=","),vb+=cb(ta[qb])||"null";return vb+"]"}if(null===ta)return"null";if(-1!==X.indexOf(ta)){if(y)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Nb=X.push(ta)-1,xc=Object.keys(ta).sort(I&&I(ta));vb="";for(qb=0;qb<xc.length;qb++){var od=xc[qb],
Pc=cb(ta[od]);Pc&&(vb&&(vb+=","),vb+=JSON.stringify(od)+":"+Pc)}X.splice(Nb,1);return"{"+vb+"}"}}(P)};const gi=function I(d,y){if(d===y)return!0;if(d&&y&&"object"==typeof d&&"object"==typeof y){if(d.constructor!==y.constructor)return!1;var X;if(Array.isArray(d)){var na=d.length;if(na!=y.length)return!1;for(X=na;0!==X--;)if(!I(d[X],y[X]))return!1;return!0}if(d.constructor===RegExp)return d.source===y.source&&d.flags===y.flags;if(d.valueOf!==Object.prototype.valueOf)return d.valueOf()===y.valueOf();
if(d.toString!==Object.prototype.toString)return d.toString()===y.toString();var ta=Object.keys(d);na=ta.length;if(na!==Object.keys(y).length)return!1;for(X=na;0!==X--;)if(!Object.prototype.hasOwnProperty.call(y,ta[X]))return!1;for(X=na;0!==X--;)if(na=ta[X],!I(d[na],y[na]))return!1;return!0}return d!==d&&y!==y},Vf=pj.exports;Set.prototype.toJSON=function(){return"Set(".concat([...this].map(d=>mk(d)).join(","),")")};const hh=mk,se=Object.keys,hi=Object.values,kj=Object.entries;let Kk=42;const Qk={theta:1,
theta2:1,radius:1,radius2:1},Sj={longitude:1,longitude2:1,latitude:1,latitude2:1},kl=se(Sj),zk=Object.assign({},{x:1,y:1,x2:1,y2:1},Qk,Sj,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),Rk={row:1,column:1,facet:1},ui=se(Rk),Zj=Object.assign({},zk,Rk),Fl=se(Zj);var Ai=Object.assign({},Zj),Ak=(delete Ai.order,delete Ai.detail,delete Ai.tooltip,Ai),
Tj=Object.assign({},Ak);const nl=(delete Tj.row,delete Tj.column,delete Tj.facet,Tj),fi="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Cl=se(zk);var Rh=Object.assign({},zk);const qj=(delete Rh.x,delete Rh.y,delete Rh.x2,delete Rh.y2,delete Rh.xOffset,delete Rh.yOffset,delete Rh.latitude,delete Rh.longitude,delete Rh.latitude2,delete Rh.longitude2,delete Rh.theta,delete Rh.theta2,delete Rh.radius,delete Rh.radius2,Rh),sj=se(qj),rj={x:1,y:1},Wh=se(rj),Ck={theta:1,radius:1},Bk=se(Ck),Si={xOffset:1,
yOffset:1};var Di=Object.assign({},qj);const Sk=(delete Di.text,delete Di.tooltip,delete Di.href,delete Di.url,delete Di.description,delete Di.detail,delete Di.key,delete Di.order,Di),ik=se(Sk),Sh=Object.assign({},rj,Ck,Si,Sk),uj=se(Sh),Uj={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Bh=Object.assign({},Uj);const Ji=(delete Bh.geoshape,
Bh),Ti={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Bi={count:1,min:1,max:1},Vj=new Set(["count","valid","missing","distinct"]),kk=new Set(["count","sum","distinct","valid","missing"]),Ci=new Set("mean average median q1 q3 min max".split(" ")),jk=se({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,
strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,
aspect:1,width:1,height:1,url:1,smooth:1}),th={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Uh=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Th=p.logger(p.Warn);let zj=Th;const Wj="january february march april may june july august september october november december".split(" "),Dk=Wj.map(d=>d.substr(0,3)),ll="sunday monday tuesday wednesday thursday friday saturday".split(" "),Al=ll.map(d=>
d.substr(0,3)),ml={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Tk=se(ml),Ii={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Xh={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Wk={linear:"numeric",log:"numeric",pow:"numeric",
sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Uk={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Vk=new Set(["linear","log","pow","sqrt","symlog"]),Ei=new Set([...Vk,"time","utc"]),
Cj=new Set(["quantile","quantize","threshold"]),Bl=new Set([...Ei,...Cj,"sequential","identity"]),Dl=new Set(["ordinal","bin-ordinal","point","band"]);var Vi=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const $k=(delete Vi.type,delete Vi.domain,delete Vi.range,delete Vi.rangeMax,delete Vi.rangeMin,
delete Vi.scheme,Vi),Nf=se($k),ah={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Hh=ah.arc,Mh=ah.area,Xi=ah.bar,Zk=ah.image,Gh=ah.line,Bj=ah.point,Xj=ah.rect,tj=ah.rule,Aj=ah.text,pk=ah.tick,Yk=ah.trail,nk=ah.circle,lk=ah.square,Ye=ah.geoshape,Ek=new Set(se(ah)),Xk="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),
Ki=se({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),ej=se({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),rk={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},bk={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Hk=(d,y)=>{switch(y.fieldTitle){case "plain":return d.field;
case "functional":{const {aggregate:I,bin:X,timeUnit:na,field:ta}=d;ja(I)?d="".concat(ta," for argmax(").concat(I.argmax,")"):Oa(I)?d="".concat(ta," for argmin(").concat(I.argmin,")"):(d=af(na),d=(d=I||(null===d||void 0===d?void 0:d.unit)||(null===d||void 0===d?void 0:d.maxbins)&&"timeunit"||Ta(X)&&"bin")?"".concat(d.toUpperCase(),"(").concat(ta,")"):ta)}return d;default:return zf(d,y)}};let Ej=Hk;const qi={compatible:!0},Yj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",
vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},
gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Gk=["domain","grid","labels","ticks","title"],Fk={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",
aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",
labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",
titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Ui={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,
labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,
titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},ok=Object.assign({},Ui,{style:1,labelExpr:1,encoding:1}),ak=se({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,
axisYQuantitative:1,axisYTemporal:1});class Dj{constructor(d,y){this.name=d;this.run=y}hasMatchingType(d){return Tg(d)?(d=d.mark,(Ib(d)?d.type:d)===this.name):!1}}const El=new Dj("boxplot",qh),zl=new Dj("errorbar",uh),hl=new Dj("errorband",da),il={};Ma("boxplot",qh,["box","median","outliers","rule","ticks"]);Ma("errorbar",uh,["ticks","rule"]);Ma("errorband",da,["band","borders"]);const yl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength",
"unselectedOpacity"],ol={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},ek={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",
labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Gl=se(ol),Lk=se(ek),v=se({header:1,headerRow:1,headerColumn:1,headerFacet:1}),E="size shape fill stroke strokeDash strokeWidth opacity".split(" "),V=se({align:1,bounds:1,center:1,columns:1,spacing:1}),Qa={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},
area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,
bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",
fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},hb="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),
Db={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},cc={blue:hb[0],orange:hb[1],red:hb[2],teal:hb[3],green:hb[4],yellow:hb[5],purple:hb[6],pink:hb[7],brown:hb[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},vc=[...ej,...ak,...v,"background","padding","legend","lineBreak","scale","style","title","view"],cd=new Set(["view",
...Ek]),Qd="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),Xe=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line",
"point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class If{map(d,y){return"facet"in d?this.mapFacet(d,y):"repeat"in d?this.mapRepeat(d,y):"hconcat"in d?this.mapHConcat(d,y):"vconcat"in d?this.mapVConcat(d,y):"concat"in d?this.mapConcat(d,y):this.mapLayerOrUnit(d,y)}mapLayerOrUnit(d,y){if("layer"in d)return this.mapLayer(d,y);if(Tg(d))return this.mapUnit(d,y);throw Error(Vb(d));
}mapLayer(d,y){return Object.assign({},d,{layer:d.layer.map(I=>this.mapLayerOrUnit(I,y))})}mapHConcat(d,y){return Object.assign({},d,{hconcat:d.hconcat.map(I=>this.map(I,y))})}mapVConcat(d,y){return Object.assign({},d,{vconcat:d.vconcat.map(I=>this.map(I,y))})}mapConcat(d,y){var I=Object.assign({},d);d=d.concat;I=(delete I.concat,I);return Object.assign({},I,{concat:d.map(X=>this.map(X,y))})}mapFacet(d,y){return Object.assign({},d,{spec:this.map(d.spec,y)})}mapRepeat(d,y){return Object.assign({},
d,{spec:this.map(d.spec,y)})}}const me={zero:1,center:1,normalize:1},rf=new Set([Hh,Xi,Mh,tj,Bj,nk,lk,Gh,Aj,pk]),Kf=new Set([Xi,Mh,Hh]);class Ef{constructor(){yb(this,"name","path-overlay")}hasMatchingType(d,y){if(Tg(d)){const {mark:I,encoding:X}=d;d=Ib(I)?I:{type:I};switch(d.type){case "line":case "rule":case "trail":return!!jg(d,y[d.type],X);case "area":return!!jg(d,y[d.type],X)||!!bg(d,y[d.type])}}return!1}run(d,y,I){var {config:X}=y,na=Object.assign({},d),ta=d.params,cb=d.projection,qb=d.mark;
d=d.encoding;na=(delete na.params,delete na.projection,delete na.mark,delete na.encoding,na);d=yd(d,X);qb=Ib(qb)?qb:{type:qb};const vb=jg(qb,X[qb.type],d),Nb="area"===qb.type&&bg(qb,X[qb.type]);var xc=Object,od=xc.assign;var Pc=Object.assign({},"area"===qb.type&&void 0===qb.opacity&&void 0===qb.fillOpacity?{opacity:.7}:{},qb);Pc=Object.assign({},Pc);Pc=(delete Pc.point,delete Pc.line,Pc);Pc=1<se(Pc).length?Pc:Pc.type;ta=[od.call(xc,{},ta?{params:ta}:{},{mark:Pc,encoding:b(d,["shape"])})];xc=Af(qb,
d);od=d;if(xc){const {fieldChannel:Ed,offset:Ud}=xc;od=Object.assign({},d,{[Ed]:Object.assign({},d[Ed],Ud?{stack:Ud}:{})})}Nb&&ta.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"line"},f(qb,["clip","interpolate","tension","tooltip"]),Nb),encoding:od}));vb&&ta.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},f(qb,["clip","tooltip"]),vb),encoding:od}));cb=Object.assign({},na,{layer:ta});na=Object;ta=na.assign;for(const Ed of["line",
"area","rule","trail"])X[Ed]&&(X=Object.assign({},X,{[Ed]:b(X[Ed],["point","line"])}));return I(cb,ta.call(na,{},y,{config:X}))}}class Cd{constructor(){yb(this,"name","RuleForRangedLine")}hasMatchingType(d){if(Tg(d)){const {encoding:y,mark:I}=d;if("line"===I||Ib(I)&&"line"===I.type)for(const X of fi)if(d=Ja(X),d=y[d],y[X]&&(Ec(d)&&!db(d.bin)||Be(d)))return!0}return!1}run(d,y,I){const {encoding:X,mark:na}=d;var ta=!!X.x2;ta="Line mark is for continuous lines and thus cannot be used with ".concat(ta&&
X.y2?"x2 and y2":ta?"x2":"y2",". We will use the rule mark (line segments) instead.");lc(ta);return I(Object.assign({},d,{mark:p.isObject(na)?Object.assign({},na,{type:"rule"}):"rule"}),y)}}class md extends If{constructor(){super(...arguments);yb(this,"nonFacetUnitNormalizers",[El,zl,hl,new Ef,new Cd])}map(d,y){if(Tg(d)){const I=bh(d.encoding,"row"),X=bh(d.encoding,"column"),na=bh(d.encoding,"facet");if(I||X||na)return this.mapFacetedUnit(d,y)}return super.map(d,y)}mapUnit(d,y){const {parentEncoding:I,
parentProjection:X}=y;var na=qg(d.encoding,y.repeater);d=Object.assign({},d,na?{encoding:na}:{});if(I||X)return this.mapUnitWithParentEncodingOrProjection(d,y);na=this.mapLayerOrUnit.bind(this);for(const ta of this.nonFacetUnitNormalizers)if(ta.hasMatchingType(d,y.config))return ta.run(d,y,na);return d}mapRepeat(d,y){return!p.isArray(d.repeat)&&d.repeat.layer?this.mapLayerRepeat(d,y):this.mapNonLayerRepeat(d,y)}mapLayerRepeat(d,y){var I=Object.assign({},d);const X=d.repeat,na=d.spec;I=(delete I.repeat,
delete I.spec,I);const {row:ta,column:cb,layer:qb}=X,{repeater:vb={},repeaterPrefix:Nb=""}=y;return ta||cb?this.mapRepeat(Object.assign({},d,{repeat:Object.assign({},ta?{row:ta}:{},cb?{column:cb}:{}),spec:{repeat:{layer:qb},spec:na}}),y):Object.assign({},I,{layer:qb.map(xc=>{var od=Object.assign({},vb,{layer:xc});xc="".concat((na.name||"")+Nb,"child__layer_").concat(G(xc));od=this.mapLayerOrUnit(na,Object.assign({},y,{repeater:od,repeaterPrefix:xc}));od.name=xc;return od})})}mapNonLayerRepeat(d,y){var I,
X=d,na=Object.assign({},X);const ta=X.repeat,cb=X.spec;X=X.data;na=(delete na.repeat,delete na.spec,delete na.data,na);!p.isArray(ta)&&d.columns&&(d=b(d,["columns"]),lc(ge("repeat")));const qb=[],{repeater:vb={},repeaterPrefix:Nb=""}=y,xc=!p.isArray(ta)&&ta.row||[vb?vb.row:null],od=!p.isArray(ta)&&ta.column||[vb?vb.column:null];var Pc=p.isArray(ta)&&ta||[vb?vb.repeat:null];for(const Ud of Pc)for(const pe of xc)for(const Ie of od){var Ed={repeat:Ud,row:pe,column:Ie,layer:vb.layer};Pc=(cb.name||"")+
Nb+"child__"+(p.isArray(ta)?"".concat(G(Ud)):(ta.row?"row_".concat(G(pe)):"")+(ta.column?"column_".concat(G(Ie)):""));Ed=this.map(cb,Object.assign({},y,{repeater:Ed,repeaterPrefix:Pc}));Ed.name=Pc;qb.push(b(Ed,["data"]))}d=p.isArray(ta)?d.columns:ta.column?ta.column.length:1;return Object.assign({},{data:null!==(I=cb.data)&&void 0!==I?I:X,align:"all"},na,{columns:d,concat:qb})}mapFacet(d,y){const {facet:I}=d;gb(I)&&d.columns&&(d=b(d,["columns"]),lc(ge("facet")));return super.mapFacet(d,y)}mapUnitWithParentEncodingOrProjection(d,
y){const {encoding:I,projection:X}=d,{parentEncoding:na,parentProjection:ta,config:cb}=y,qb=df({parentProjection:ta,projection:X});y=$h({parentEncoding:na,encoding:qg(I,y.repeater)});return this.mapUnit(Object.assign({},d,qb?{projection:qb}:{},y?{encoding:y}:{}),{config:cb})}mapFacetedUnit(d,y){var I=d.encoding,X=Object.assign({},I),na=I.row;const ta=I.column;I=I.facet;const cb=(delete X.row,delete X.column,delete X.facet,X);var qb=Object.assign({},d);X=d.mark;const vb=d.width,Nb=d.projection,xc=
d.height,od=d.view;d=d.params;qb=(delete qb.mark,delete qb.width,delete qb.projection,delete qb.height,delete qb.view,delete qb.params,delete qb.encoding,qb);const {facetMapping:Pc,layout:Ed}=this.getFacetMappingAndLayout({row:na,column:ta,facet:I},y);na=qg(cb,y.repeater);return this.mapFacet(Object.assign({},qb,Ed,{facet:Pc,spec:Object.assign({},vb?{width:vb}:{},xc?{height:xc}:{},od?{view:od}:{},Nb?{projection:Nb}:{},{mark:X,encoding:na},d?{params:d}:{})}),y)}getFacetMappingAndLayout(d,y){const {row:I,
column:X,facet:na}=d;if(I||X){na&&(y=[...(I?["row"]:[]),...(X?["column"]:[])],y="Facet encoding dropped as ".concat(y.join(" and ")," ").concat(1<y.length?"are":"is"," also specified."),lc(y));y={};var ta={};for(var cb of["row","column"]){const xc=d[cb];if(xc){var qb=Object.assign({},xc);qb=(delete qb.align,delete qb.center,delete qb.spacing,delete qb.columns,qb);y[cb]=qb;for(var vb of["align","center","spacing"])if(void 0!==xc[vb]){var Nb;null!==(Nb=ta[vb])&&void 0!==Nb?Nb:ta[vb]={};ta[vb][cb]=xc[vb]}}}return{facetMapping:y,
layout:ta}}ta=Object.assign({},na);d=na.align;Nb=na.center;cb=na.spacing;vb=na.columns;ta=(delete ta.align,delete ta.center,delete ta.spacing,delete ta.columns,ta);y=(y=y.repeater)?gb(ta)?Zh(ta,y):Og(ta,y):ta;return{facetMapping:y,layout:Object.assign({},d?{align:d}:{},Nb?{center:Nb}:{},cb?{spacing:cb}:{},vb?{columns:vb}:{})}}mapLayer(d,y){var I=Object.assign({},y),X=y.parentEncoding;y=y.parentProjection;I=(delete I.parentEncoding,delete I.parentProjection,I);var na=Object.assign({},d);const ta=d.encoding;
d=d.projection;na=(delete na.encoding,delete na.projection,na);X=Object.assign({},I,{parentEncoding:$h({parentEncoding:X,encoding:ta,layer:!0}),parentProjection:df({parentProjection:y,projection:d})});return super.mapLayer(na,X)}}class zd extends If{map(d,y){var I,X;null!==(I=y.emptySelections)&&void 0!==I?I:y.emptySelections={};null!==(X=y.selectionPredicates)&&void 0!==X?X:y.selectionPredicates={};d=hf(d,y);return super.map(d,y)}mapLayerOrUnit(d,y){d=hf(d,y);if(d.encoding){const I={};for(const X of kj(d.encoding)){const [na,
ta]=X;I[na]=jf(ta,y)}d=Object.assign({},d,{encoding:I})}return super.mapLayerOrUnit(d,y)}mapUnit(d,y){var I=Object.assign({},d);const X=d.selection;I=(delete I.selection,I);return X?Object.assign({},I,{params:kj(X).map(na=>{let [ta,cb]=na;var qb=Object.assign({},cb);na=cb.init;const vb=cb.bind,Nb=cb.empty;qb=(delete qb.init,delete qb.bind,delete qb.empty,qb);"single"===qb.type?(qb.type="point",qb.toggle=!1):"multi"===qb.type&&(qb.type="point");y.emptySelections[ta]="none"!==Nb;for(const od of hi(null!==
(xc=y.selectionPredicates[ta])&&void 0!==xc?xc:{})){var xc;od.empty="none"!==Nb}return{name:ta,value:na,select:qb,bind:vb}})}):d}}class de extends If{map(d,y){var I;const X=null!==(I=y.selections)&&void 0!==I?I:[];if(d.params&&!Tg(d)){I=[];for(const na of d.params)Sb(na)?X.push(na):I.push(na);d.params=I}y.selections=X;return super.map(d,Yh(d,y))}mapUnit(d,y){var I;const X=y.selections;if(!X||!X.length)return d;const na=(null!==(I=y.path)&&void 0!==I?I:[]).concat(d.name);y=[];for(const ta of X)if(ta.views&&
ta.views.length)for(const cb of ta.views)(p.isString(cb)&&(cb===d.name||0<=na.indexOf(cb))||p.isArray(cb)&&cb.map(qb=>na.indexOf(qb)).every((qb,vb,Nb)=>-1!==qb&&(0===vb||qb>Nb[vb-1])))&&y.push(ta);else y.push(ta);y.length&&(d.params=y);return d}}for(const d of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const y=de.prototype[d];de.prototype[d]=function(I,X){return y.call(this,I,Yh(I,X))}}const ke=new md,Qf=new zd,kf=new de,Rf=["background","padding"];class Pf{constructor(){let d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=d}clone(){return new Pf(Vf(this.explicit),Vf(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(d){return B(this.explicit[d],this.implicit[d])}getWithExplicit(d){return void 0!==this.explicit[d]?{explicit:!0,value:this.explicit[d]}:void 0!==this.implicit[d]?{explicit:!1,value:this.implicit[d]}:{explicit:!1,value:void 0}}setWithExplicit(d,
y){let {value:I,explicit:X}=y;void 0!==I&&this.set(d,I,X)}set(d,y,I){delete this[I?"implicit":"explicit"][d];this[I?"explicit":"implicit"][d]=y;return this}copyKeyFromSplit(d,y){let {explicit:I,implicit:X}=y;void 0!==I[d]?this.set(d,I[d],!0):void 0!==X[d]&&this.set(d,X[d],!1)}copyKeyFromObject(d,y){void 0!==y[d]&&this.set(d,y[d],!0)}copyAll(d){for(const y of se(d.combine())){const I=d.getWithExplicit(y);this.setWithExplicit(y,I)}}}class $f extends Pf{constructor(){let d=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},I=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(d,y);this.explicit=d;this.implicit=y;this.parseNothing=I}clone(){const d=super.clone();d.parseNothing=this.parseNothing;return d}}let Hg;(function(d){d[d.Raw=0]="Raw";d[d.Main=1]="Main";d[d.Row=2]="Row";d[d.Column=3]="Column";d[d.Lookup=4]="Lookup"})(Hg||(Hg={}));class ih{constructor(d,y){this.debugName=y;yb(this,"_children",[]);yb(this,"_parent",
null);yb(this,"_hash",void 0);d&&(this.parent=d)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(d){(this._parent=d)&&d.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(d,y){this._children.includes(d)?lc("Attempt to add the same child twice."):void 0!==y?this._children.splice(y,0,d):this._children.push(d)}removeChild(d){d=this._children.indexOf(d);this._children.splice(d,1);return d}remove(){let d=this._parent.removeChild(this);
for(const y of this._children)y._parent=this._parent,this._parent.addChild(y,d++)}insertAsParentOf(d){const y=d.parent;y.removeChild(this);this.parent=y;d.parent=this}swapWithParent(){const d=this._parent,y=d.parent;for(var I of this._children)I.parent=d;this._children=[];d.removeChild(this);I=d.parent.removeChild(d);this._parent=y;y.addChild(this,I);d.parent=this}}class wi extends ih{clone(){const d=new this.constructor;d.debugName="clone_".concat(this.debugName);d._source=this._source;d._name="clone_".concat(this._name);
d.type=this.type;d.refCounts=this.refCounts;d.refCounts[d._name]=0;return d}constructor(d,y,I,X){super(d,y);this.type=I;this.refCounts=X;yb(this,"_source",void 0);yb(this,"_name",void 0);this._source=this._name=y;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(N()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(d){this._source=
d}}class Jj extends ih{clone(){return new Jj(null,Vf(this.formula))}constructor(d,y){super(d);this.formula=y}static makeFromEncoding(d,y){y=y.reduceFieldDef((I,X)=>{const {field:na,timeUnit:ta}=X;ta&&(X=Id(X,{forAs:!0}),I[c({as:X,field:na,timeUnit:ta})]={as:X,field:na,timeUnit:ta});return I},{});return r(y)?null:new Jj(d,y)}static makeFromTransform(d,y){var I=Object.assign({},y);y=Object.assign({},I);I=I.timeUnit;y=(delete y.timeUnit,y);I=af(I);y=Object.assign({},y,{timeUnit:I});return new Jj(d,{[c(y)]:y})}merge(d){this.formula=
Object.assign({},this.formula);for(const y in d.formula)this.formula[y]||(this.formula[y]=d.formula[y]);for(const y of d.children)d.removeChild(y),y.parent=this;d.remove()}removeFormulas(d){const y={};for(const I of kj(this.formula)){const [X,na]=I;d.has(na.as)||(y[X]=na)}this.formula=y}producedFields(){return new Set(hi(this.formula).map(d=>d.as))}dependentFields(){return new Set(hi(this.formula).map(d=>d.field))}hash(){return"TimeUnit ".concat(c(this.formula))}assemble(){const d=[];for(const X of hi(this.formula)){const {field:na,
as:ta,timeUnit:cb}=X;var y=af(cb),I=Object.assign({},y);const qb=y.unit;y=y.utc;I=(delete I.unit,delete I.utc,I);d.push(Object.assign({},{field:ea(na),type:"timeunit"},qb?{units:re(qb)}:{},y?{timezone:"utc"}:{},I,{as:[ta,"".concat(ta,"_end")]}))}return d}}class Jm{constructor(){yb(this,"hasChannel",void 0);yb(this,"hasField",void 0);yb(this,"hasSelectionId",void 0);yb(this,"timeUnit",void 0);yb(this,"items",void 0);for(var d=arguments.length,y=Array(d),I=0;I<d;I++)y[I]=arguments[I];this.items=y;this.hasChannel=
{};this.hasField={};this.hasSelectionId=!1}}const fk={defined:d=>"interval"===d.type&&"global"===d.resolve&&d.bind&&"scales"===d.bind,parse:(d,y)=>{const I=y.scales=[];for(const na of y.project.items){var X=na.channel;if(!Sh[X])continue;const ta=(X=d.getScaleComponent(X))?X.get("type"):void 0;X&&Pd(ta)?(X.set("selectionExtent",{param:y.name,field:na.field},!0),I.push(na)):lc("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(d,y,I)=>{const X=
y.scales.filter(ta=>0===I.filter(cb=>cb.name===ta.signals.data).length);if(!d.parent||pb(d)||0===X.length)return I;d=I.filter(ta=>ta.name===y.name)[0];let na=d.update;if(0<=na.indexOf("vlSelectionResolve"))d.update="{".concat(X.map(ta=>"".concat(p.stringValue(ea(ta.field)),": ").concat(ta.signals.data)).join(", "),"}");else{for(const ta of X){const cb="".concat(p.stringValue(ea(ta.field)),": ").concat(ta.signals.data);na.includes(cb)||(na="".concat(na.substring(0,na.length-1),", ").concat(cb,"}"))}d.update=
na}return I.concat(X.map(ta=>({name:ta.signals.data})))},signals:(d,y,I)=>{if(d.parent&&!pb(d))for(const X of y.scales)d=I.filter(na=>na.name===X.signals.data)[0],d.push="outer",delete d.value,delete d.update;return I}},pm={left:"x",center:"xc",right:"x2"},qm={top:"y",middle:"yc",bottom:"y2"},rm=new Set(["aria","width","height"]),km={defined:d=>"point"===d.type&&d.nearest,parse:(d,y)=>{if(y.events)for(const I of y.events)I.markname=d.getName("voronoi")},marks:(d,y,I)=>{const {x:X,y:na}=y.project.hasChannel;
y=d.mark;if(Ea(y))return lc('The "nearest" transform is not supported for '.concat(y," marks.")),I;y={name:d.getName("voronoi"),type:"path",interactive:!0,from:{data:d.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Sd(d,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:X||!na?"datum.datum.x || 0":"0"},y:{expr:na||!X?"datum.datum.y || 0":"0"},size:[d.getSizeSignalRef("width"),d.getSizeSignalRef("height")]}]};
let ta=0,cb=!1;I.forEach((qb,vb)=>{var Nb;qb=null!==(Nb=qb.name)&&void 0!==Nb?Nb:"";qb===d.component.mark[0].name?ta=vb:0<=qb.indexOf("voronoi")&&(cb=!0)});cb||I.splice(ta+1,0,y);return I}},lm={defined:d=>"point"===d.type&&"global"===d.resolve&&d.bind&&"scales"!==d.bind&&!fb(d.bind),parse:(d,y,I)=>yg(y,I),topLevelSignals:(d,y,I)=>{const X=y.name;d=y.project;const na=y.bind,ta=y.init&&y.init[0],cb=km.defined(y)?"(item().isVoronoi ? datum.datum : datum)":"datum";d.items.forEach((qb,vb)=>{const Nb=G("".concat(X,
"_").concat(qb.field));if(!I.filter(Pc=>Pc.name===Nb).length){var xc,od;I.unshift(Object.assign({},{name:Nb},ta?{init:xb(ta[vb])}:{value:null},{on:y.events?[{events:y.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(cb,"[").concat(p.stringValue(qb.field),"] : null")}]:[],bind:null!==(xc=null!==(od=na[qb.field])&&void 0!==od?od:na[qb.channel])&&void 0!==xc?xc:na}))}});return I},signals:(d,y,I)=>{const X=y.name;var na=y.project;d=I.filter(cb=>cb.name===X+"_tuple")[0];
y=X+"_tuple_fields";na=na.items.map(cb=>G("".concat(X,"_").concat(cb.field)));const ta=na.map(cb=>"".concat(cb," !\x3d\x3d null")).join(" \x26\x26 ");na.length&&(d.update="".concat(ta," ? {fields: ").concat(y,", values: [").concat(na.join(", "),"]} : null"));delete d.value;delete d.on;return I}},mm={defined:d=>"point"===d.type&&!!d.toggle,signals:(d,y,I)=>I.concat({name:y.name+"_toggle",value:!1,on:[{events:y.events,update:y.toggle}]}),modifyExpr:(d,y)=>{const I=y.name+"_tuple",X=y.name+"_toggle";
return"".concat(X," ? null : ").concat(I,", ")+("global"===y.resolve?"".concat(X," ? null : true, "):"".concat(X," ? null : {unit: ").concat(di(d),"}, "))+"".concat(X," ? ").concat(I," : null")}},Zl={defined:d=>{const y="global"===d.resolve&&d.bind&&fb(d.bind);d=1===d.project.items.length&&"_vgsid_"!==d.project.items[0].field;y&&!d&&lc("Legend bindings are only supported for selections over an individual field or encoding channel.");return y&&d},parse:(d,y,I)=>{d=Vf(I);d.select=p.isString(d.select)?
{type:d.select,toggle:y.toggle}:Object.assign({},d.select,{toggle:y.toggle});yg(y,d);if(p.isObject(I.select)&&(I.select.on||I.select.clear))for(const na of y.events){var X;na.filter=p.array(null!==(X=na.filter)&&void 0!==X?X:[]);na.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||na.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}I=Eb(y.bind)?y.bind.legend:"click";I=p.isString(I)?p.parseSelector(I,"view"):p.array(I);y.bind={legend:{merge:I}}},
topLevelSignals:(d,y,I)=>{d=y.name;const X=Eb(y.bind)&&y.bind.legend,na=cb=>qb=>{qb=Vf(qb);qb.markname=cb;return qb};for(const cb of y.project.items){if(!cb.hasLegend)continue;var ta="".concat(G(cb.field),"_legend");const qb="".concat(d,"_").concat(ta);0===I.filter(vb=>vb.name===qb).length&&(ta=X.merge.map(na("".concat(ta,"_symbols"))).concat(X.merge.map(na("".concat(ta,"_labels")))).concat(X.merge.map(na("".concat(ta,"_entries")))),I.unshift(Object.assign({},{name:qb},y.init?{}:{value:null},{on:[{events:ta,
update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:X.merge,update:"!event.item || !datum ? null : ".concat(qb),force:!0}]})))}return I},signals:(d,y,I)=>{const X=y.name;var na=y.project;d=I.find(qb=>qb.name===X+"_tuple");var ta=X+"_tuple_fields";na=na.items.filter(qb=>qb.hasLegend).map(qb=>G("".concat(X,"_").concat(G(qb.field),"_legend")));const cb=na.map(qb=>"".concat(qb," !\x3d\x3d null")).join(" \x26\x26 ");ta="".concat(cb," ? {fields: ").concat(ta,", values: [").concat(na.join(", "),
"]} : null");y.events&&0<na.length?d.on.push({events:na.map(qb=>({signal:qb})),update:ta}):0<na.length&&(d.update=ta,delete d.value,delete d.on);d=I.find(qb=>qb.name===X+"_toggle");ta=Eb(y.bind)&&y.bind.legend;d&&(y.events?d.on.push(Object.assign({},d.on[0],{events:ta})):d.on[0].events=ta);return I}},ql=[{defined:d=>"point"===d.type,signals:(d,y,I)=>{var X;const na=y.name,ta=na+"_tuple_fields";var cb=y.project,qb=hi(null!==(X=d.component.selection)&&void 0!==X?X:{}).reduce((vb,Nb)=>"interval"===Nb.type?
vb.concat(Nb.name+"_brush"):vb,[]).map(vb=>"indexof(item().mark.name, '".concat(vb,"') \x3c 0")).join(" \x26\x26 ");X="datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' \x26\x26 indexof(item().mark.role, 'legend') \x3c 0".concat(qb?" \x26\x26 ".concat(qb):"");qb="unit: ".concat(di(d),", ");y.project.hasSelectionId?qb+="".concat("_vgsid_",": ").concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue("_vgsid_"),"]"):(cb=cb.items.map(vb=>{const Nb=d.fieldDef(vb.channel);return null!==
Nb&&void 0!==Nb&&Nb.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue(d.vgField(vb.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue(d.vgField(vb.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue(vb.field),"]")}).join(", "),qb+="fields: ".concat(ta,", values: [").concat(cb,"]"));y=y.events;return I.concat([{name:na+"_tuple",on:y?[{events:y,update:"".concat(X,
" ? {").concat(qb,"} : null"),force:!0}]:[]}])}},{defined:d=>"interval"===d.type,signals:(d,y,I)=>{const X=y.name;var na=X+"_tuple_fields";const ta=fk.defined(y),cb=y.init?y.init[0]:null,qb=[],vb=[];if(y.translate&&!ta){const Nb="!event.item || event.item.mark.name !\x3d\x3d ".concat(p.stringValue(X+"_brush"));Qc(y,(xc,od)=>{var Pc,Ed;od=p.array(null!==(Ed=(Pc=od.between[0]).filter)&&void 0!==Ed?Ed:Pc.filter=[]);od.includes(Nb)||od.push(Nb);return xc})}y.project.items.forEach((Nb,xc)=>{const od=Nb.channel;
if("x"!==od&&"y"!==od)lc("Interval selections only support x and y encoding channels.");else{xc=gc(d,y,Nb,cb?cb[xc]:null);var Pc=Nb.signals.data;Nb=Nb.signals.visual;var Ed=p.stringValue(d.scaleName(od)),Ud=d.getScaleComponent(od).get("type");Ud=Pd(Ud)?"+":"";I.push(...xc);qb.push(Pc);vb.push({scaleName:d.scaleName(od),expr:"(!isArray(".concat(Pc,") || ")+"(".concat(Ud,"invert(").concat(Ed,", ").concat(Nb,")[0] \x3d\x3d\x3d ").concat(Ud).concat(Pc,"[0] \x26\x26 ")+"".concat(Ud,"invert(").concat(Ed,
", ").concat(Nb,")[1] \x3d\x3d\x3d ").concat(Ud).concat(Pc,"[1]))")})}});!ta&&vb.length&&I.push({name:X+"_scale_trigger",value:{},on:[{events:vb.map(Nb=>({scale:Nb.scaleName})),update:"".concat(vb.map(Nb=>Nb.expr).join(" \x26\x26 ")," ? ").concat(X+"_scale_trigger"," : {}")}]});na="unit: ".concat(di(d),", fields: ").concat(na,", values");return I.concat(Object.assign({},{name:X+"_tuple"},cb?{init:"{".concat(na,": ").concat(xb(cb),"}")}:{},qb.length?{on:[{events:[{signal:qb.join(" || ")}],update:"".concat(qb.join(" \x26\x26 "),
" ? {").concat(na,": [").concat(qb,"]} : null")}]}:{}))},marks:(d,y,I)=>{const X=y.name,{x:na,y:ta}=y.project.hasChannel,cb=null===na||void 0===na?void 0:na.signals.visual,qb=null===ta||void 0===ta?void 0:ta.signals.visual;var vb="data(".concat(p.stringValue(y.name+"_store"),")");if(fk.defined(y)||!na&&!ta)return I;const Nb={x:void 0!==na?{signal:"".concat(cb,"[0]")}:{value:0},y:void 0!==ta?{signal:"".concat(qb,"[0]")}:{value:0},x2:void 0!==na?{signal:"".concat(cb,"[1]")}:{field:{group:"width"}},
y2:void 0!==ta?{signal:"".concat(qb,"[1]")}:{field:{group:"height"}}};if("global"===y.resolve)for(var xc of se(Nb))Nb[xc]=[Object.assign({},{test:"".concat(vb,".length \x26\x26 ").concat(vb,"[0].unit \x3d\x3d\x3d ").concat(di(d))},Nb[xc]),{value:0}];xc=y.mark;vb=Object.assign({},xc);d=xc.fill;y=xc.fillOpacity;xc=xc.cursor;const od=(delete vb.fill,delete vb.fillOpacity,delete vb.cursor,vb);vb=se(od).reduce((Pc,Ed)=>{Pc[Ed]=[{test:[void 0!==na&&"".concat(cb,"[0] !\x3d\x3d ").concat(cb,"[1]"),void 0!==
ta&&"".concat(qb,"[0] !\x3d\x3d ").concat(qb,"[1]")].filter(Ud=>Ud).join(" \x26\x26 "),value:od[Ed]},{value:null}];return Pc},{});return[{name:"".concat(X+"_brush","_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:d},fillOpacity:{value:y}},update:Nb}},...I,{name:X+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},xc?{cursor:{value:xc}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Nb,vb)}}]}},{defined:()=>!0,parse:(d,y,I)=>{var X;const na=y.name,ta=null!==(X=y.project)&&void 0!==
X?X:y.project=new Jm,cb={};X={};const qb=new Set,vb=(je,Fe)=>{je="visual"===Fe?je.channel:je.field;let bf=G("".concat(na,"_").concat(je));for(let Ue=1;qb.has(bf);Ue++)bf=G("".concat(na,"_").concat(je,"_").concat(Ue));qb.add(bf);return{[Fe]:bf}},Nb=y.type,xc=d.config.selection[Nb],od=void 0!==I.value?p.array(I.value):null;let {fields:Pc,encodings:Ed}=p.isObject(I.select)?I.select:{};if(!Pc&&!Ed&&od)for(var Ud of od)if(p.isObject(Ud))for(const je of se(Ud))nl[je]?(Ed||(Ed=[])).push(je):"interval"===
Nb?(lc('Interval selections should be initialized using "x" and/or "y" keys.'),Ed=xc.encodings):(Pc||(Pc=[])).push(je);Pc||Ed||(Ed=xc.encodings,"fields"in xc&&(Pc=xc.fields));for(const je of null!==(pe=Ed)&&void 0!==pe?pe:[]){var pe;(pe=d.fieldDef(je))?(I=pe.field,pe.aggregate?lc(Nd(je,pe.aggregate)):I?(pe.timeUnit&&(I=d.vgField(je),Ud={timeUnit:pe.timeUnit,as:I,field:pe.field},X[c(Ud)]=Ud),cb[I]||(Ud="E","interval"===Nb?(pe=d.getScaleComponent(je).get("type"),Pd(pe)&&(Ud="R")):pe.bin&&(Ud="R-RE"),
pe={field:I,channel:je,type:Ud},pe.signals=Object.assign({},vb(pe,"data"),vb(pe,"visual")),ta.items.push(cb[I]=pe),ta.hasField[I]=ta.hasChannel[je]=cb[I],ta.hasSelectionId=ta.hasSelectionId||"_vgsid_"===I)):lc(xd(je))):lc(xd(je))}for(const je of null!==(Ie=Pc)&&void 0!==Ie?Ie:[]){var Ie;ta.hasField[je]||(d={type:"E",field:je},d.signals=Object.assign({},vb(d,"data")),ta.items.push(d),ta.hasField[je]=d,ta.hasSelectionId=ta.hasSelectionId||"_vgsid_"===je)}od&&(y.init=od.map(je=>ta.items.map(Fe=>p.isObject(je)?
void 0!==je[Fe.channel]?je[Fe.channel]:je[Fe.field]:je)));r(X)||(ta.timeUnit=new Jj(null,X))},signals:(d,y,I)=>{const X=y.name+"_tuple_fields";return 0<I.filter(na=>na.name===X).length||y.project.hasSelectionId?I:I.concat({name:X,value:y.project.items.map(na=>{na=Object.assign({},na);na=(delete na.signals,delete na.hasLegend,na);na.field=ea(na.field);return na})})}},mm,lm,fk,Zl,{defined:d=>void 0!==d.clear&&!1!==d.clear,parse:(d,y)=>{y.clear&&(y.clear=p.isString(y.clear)?p.parseSelector(y.clear,"view"):
y.clear)},topLevelSignals:(d,y,I)=>{if(lm.defined(y))for(const X of y.project.items)d=I.findIndex(na=>na.name===G("".concat(y.name,"_").concat(X.field))),-1!==d&&I[d].on.push({events:y.clear,update:"null"});return I},signals:(d,y,I)=>{function X(na,ta){-1!==na&&I[na].on&&I[na].on.push({events:y.clear,update:ta})}if("interval"===y.type)for(const na of y.project.items)d=I.findIndex(ta=>ta.name===na.signals.visual),X(d,"[0, 0]"),-1===d&&(d=I.findIndex(ta=>ta.name===na.signals.data),X(d,"null"));else d=
I.findIndex(na=>na.name===y.name+"_tuple"),X(d,"null"),mm.defined(y)&&(d=I.findIndex(na=>na.name===y.name+"_toggle"),X(d,"false"));return I}},{defined:d=>"interval"===d.type&&d.translate,signals:(d,y,I)=>{const X=y.name,na=fk.defined(y),ta=X+"_translate_anchor",{x:cb,y:qb}=y.project.hasChannel;let vb=p.parseSelector(y.translate,"scope");na||(vb=vb.map(Nb=>(Nb.between[0].markname=X+"_brush",Nb)));I.push({name:ta,value:{},on:[{events:vb.map(Nb=>Nb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==
cb?", extent_x: ".concat(na?mb(d,"x"):"slice(".concat(cb.signals.visual,")")):"")+(void 0!==qb?", extent_y: ".concat(na?mb(d,"y"):"slice(".concat(qb.signals.visual,")")):"")+"}"}]},{name:X+"_translate_delta",value:{},on:[{events:vb,update:"{x: ".concat(ta,".x - x(unit), y: ").concat(ta,".y - y(unit)}")}]});void 0!==cb&&Ih(d,y,cb,"width",I);void 0!==qb&&Ih(d,y,qb,"height",I);return I}},{defined:d=>"interval"===d.type&&d.zoom,signals:(d,y,I)=>{const X=y.name,na=fk.defined(y),ta=X+"_zoom_delta",{x:cb,
y:qb}=y.project.hasChannel,vb=p.stringValue(d.scaleName("x")),Nb=p.stringValue(d.scaleName("y"));let xc=p.parseSelector(y.zoom,"scope");na||(xc=xc.map(od=>(od.markname=X+"_brush",od)));I.push({name:X+"_zoom_anchor",on:[{events:xc,update:na?"{"+[vb?"x: invert(".concat(vb,", x(unit))"):"",Nb?"y: invert(".concat(Nb,", y(unit))"):""].filter(od=>!!od).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:ta,on:[{events:xc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==
cb&&yi(d,y,cb,"width",I);void 0!==qb&&yi(d,y,qb,"height",I);return I}},km];class dl extends ih{clone(){return new dl(null,this.model,Vf(this.filter))}constructor(d,y,I){super(d);this.model=y;this.filter=I;yb(this,"expr",void 0);yb(this,"_dependentFields",void 0);this.expr=ti(this.model,this.filter,this);this._dependentFields=ei(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}
const hm={scale:d=>{let {model:y,channel:I}=d;return y.scaleName(I)},format:d=>{let {fieldOrDatumDef:y,config:I,axis:X}=d;const {format:na,formatType:ta}=X;return Rc(y,y.type,na,ta,I,!0)},formatType:d=>{let {axis:y,fieldOrDatumDef:I,scaleType:X}=d;({formatType:d}=y);return Lc(d,I,X)},grid:d=>{var y;let {fieldOrDatumDef:I,axis:X,scaleType:na}=d;return null!==(y=X.grid)&&void 0!==y?y:!Gd(na)&&Ec(I)&&!Ta(null===I||void 0===I?void 0:I.bin)&&!db(null===I||void 0===I?void 0:I.bin)},gridScale:d=>{let {model:y,
channel:I}=d;d="x"===I?"y":"x";d=y.getScaleComponent(d)?y.scaleName(d):void 0;return d},labelAlign:d=>{let {axis:y,labelAngle:I,orient:X,channel:na}=d;return y.labelAlign||Ac(I,X,na)},labelAngle:d=>{({labelAngle:d}=d);return d},labelBaseline:d=>{let {axis:y,labelAngle:I,orient:X,channel:na}=d;return y.labelBaseline||jc(I,X,na)},labelFlush:d=>{var y;let {axis:I,fieldOrDatumDef:X,channel:na}=d;d=null!==(y=I.labelFlush)&&void 0!==y?y:"x"===na&&g(["quantitative","temporal"],X.type)?!0:void 0;return d},
labelOverlap:d=>{var y;let {axis:I,fieldOrDatumDef:X,scaleType:na}=d;if(null!==(y=I.labelOverlap)&&void 0!==y)d=y;else{d=X.type;y=Ec(X)&&!!X.timeUnit;var ta=Ec(X)?X.sort:void 0;d=y&&!p.isObject(ta)||"nominal"!==d&&"ordinal"!==d?"log"===na||"symlog"===na?"greedy":!0:void 0}return d},orient:d=>{({orient:d}=d);return d},tickCount:d=>{var y;let {channel:I,model:X,axis:na,fieldOrDatumDef:ta,scaleType:cb}=d;d=(d="x"===I?"width":"y"===I?"height":void 0)?X.getSizeSignalRef(d):void 0;if(null===(y=na.tickCount)||
void 0===y)a:{let {fieldOrDatumDef:vb,scaleType:Nb,size:xc,values:od}={fieldOrDatumDef:ta,scaleType:cb,size:d,values:na.values};if(od||Gd(Nb)||"log"===Nb)y=void 0;else{if(Ec(vb)){var qb;if(Ta(vb.bin)){y={signal:"ceil(".concat(xc.signal,"/10)")};break a}if(vb.timeUnit&&g(["month","hours","day","quarter"],null===(qb=af(vb.timeUnit))||void 0===qb?void 0:qb.unit)){y=void 0;break a}}y={signal:"ceil(".concat(xc.signal,"/40)")}}}return y},title:d=>{let {axis:y,model:I,channel:X}=d;if(void 0!==y.title)return y.title;
d=hd(I,X);if(void 0!==d)return d;d=I.typedFieldDef(X);const na=I.fieldDef("x"===X?"x2":"y2");return Ca(d?[Fb(d)]:[],Ec(na)?[Fb(na)]:[])},values:d=>{let {axis:y,fieldOrDatumDef:I}=d;d=y.values;d=p.isArray(d)?og(I,d):Bc(d)?d:void 0;return d},zindex:d=>{var y;let {axis:I,fieldOrDatumDef:X,mark:na}=d;d=null!==(y=I.zindex)&&void 0!==y?y:"rect"===na&&sf(X)?1:0;return d}};class el extends ih{clone(){return new el(null,Vf(this.transform))}constructor(d,y){super(d);this.transform=y;yb(this,"_dependentFields",
void 0);this._dependentFields=ei(this.transform.calculate)}static parseAllForSortIndex(d,y){y.forEachFieldDef((I,X)=>{if(ee(I)&&Ha(I.sort)){const {field:ta,timeUnit:cb}=I;var na=I.sort;na=na.map((qb,vb)=>"".concat(rb({field:ta,timeUnit:cb,equal:qb})," ? ").concat(vb," : ")).join("")+na.length;d=new el(d,{calculate:na,as:Ld(I,X,{forAs:!0})})}});return d}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,
as:this.transform.as}}hash(){return"Calculate ".concat(c(this.transform))}}const Rl=["row","column"],Sl=["header","footer"],Km={column:{start:0,end:1},row:{start:1,end:0}},Lm=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,
labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,
titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),$l=se(Lm);class sm extends Pf{}const bm={symbols:function(d,y){var I,X,na,ta;let {fieldOrDatumDef:cb,model:qb,channel:vb,legendCmpt:Nb,legendType:xc}=y;if("symbol"===xc){var {markDef:od,encoding:Pc,config:Ed,mark:Ud}=qb;y=od.filled&&"trail"!==Ud;var pe=Object,Ie=pe.assign,je={};for(var Fe of Xk){const jh=
jd(Fe,qb.markDef,qb.config);void 0!==jh&&(je[Fe]=Wb(jh))}Fe=Ie.call(pe,{},je,cf(qb,{filled:y}));pe=null!==(I=Nb.get("symbolOpacity"))&&void 0!==I?I:Ed.legend.symbolOpacity;I=null!==(X=Nb.get("symbolFillColor"))&&void 0!==X?X:Ed.legend.symbolFillColor;X=null!==(na=Nb.get("symbolStrokeColor"))&&void 0!==na?na:Ed.legend.symbolStrokeColor;na=void 0===pe?null!==(ta=Oe(Pc.opacity))&&void 0!==ta?ta:od.opacity:void 0;if(Fe.fill)if("fill"===vb||y&&"color"===vb)delete Fe.fill;else if(Fe.fill.field)if(I)delete Fe.fill;
else{var bf;Fe.fill=Wb(null!==(bf=Ed.legend.symbolBaseFillColor)&&void 0!==bf?bf:"black");Fe.fillOpacity=Wb(null!==na&&void 0!==na?na:1)}else if(p.isArray(Fe.fill)){var Ue,Le,Xf;if(ta=null!==(Ue=null!==(Le=ve(null!==(Xf=Pc.fill)&&void 0!==Xf?Xf:Pc.color))&&void 0!==Le?Le:od.fill)&&void 0!==Ue?Ue:y&&od.color)Fe.fill=Wb(ta)}Fe.stroke&&("stroke"===vb||!y&&"color"===vb?delete Fe.stroke:Fe.stroke.field||X?delete Fe.stroke:p.isArray(Fe.stroke)&&(Ue=B(ve(Pc.stroke||Pc.color),od.stroke,y?od.color:void 0))&&
(Fe.stroke={value:Ue}));"opacity"!==vb&&((Ue=Ec(cb)&&xe(qb,Nb,cb))?Fe.opacity=[Object.assign({},{test:Ue},Wb(null!==na&&void 0!==na?na:1)),Wb(Ed.legend.unselectedOpacity)]:na&&(Fe.opacity=Wb(na)));Fe=Object.assign({},Fe,d);return r(Fe)?void 0:Fe}},gradient:function(d,y){var I;let {model:X,legendType:na,legendCmpt:ta}=y;if("gradient"===na){var {config:cb,markDef:qb,encoding:vb}=X;y={};var Nb=void 0===(null!==(I=ta.get("gradientOpacity"))&&void 0!==I?I:cb.legend.gradientOpacity)?Oe(vb.opacity)||qb.opacity:
void 0;Nb&&(y.opacity=Wb(Nb));y=Object.assign({},y,d);return r(y)?void 0:y}},labels:function(d,y){let {fieldOrDatumDef:I,model:X,channel:na,legendCmpt:ta}=y;var cb=X.legend(na)||{};y=X.config;var qb=Ec(I)?xe(X,ta,I):void 0;qb=qb?[{test:qb,value:1},{value:y.legend.unselectedOpacity}]:void 0;const {format:vb,formatType:Nb}=cb;cb=void 0;Od(Nb)?cb=wc({fieldOrDatumDef:I,field:"datum.value",format:vb,formatType:Nb,config:y}):void 0===vb&&void 0===Nb&&y.customFormatTypes&&("quantitative"===I.type&&y.numberFormatType?
cb=wc({fieldOrDatumDef:I,field:"datum.value",format:y.numberFormat,formatType:y.numberFormatType,config:y}):"temporal"===I.type&&y.timeFormatType&&Ec(I)&&void 0===I.timeUnit&&(cb=wc({fieldOrDatumDef:I,field:"datum.value",format:y.timeFormat,formatType:y.timeFormatType,config:y})));d=Object.assign({},qb?{opacity:qb}:{},cb?{text:cb}:{},d);return r(d)?void 0:d},entries:function(d,y){({legendCmpt:y}=y);y=y.get("selections");return null!==y&&void 0!==y&&y.length?Object.assign({},d,{fill:{value:"transparent"}}):
d}},am={direction:d=>{({direction:d}=d);return d},format:d=>{let {fieldOrDatumDef:y,legend:I,config:X}=d;const {format:na,formatType:ta}=I;return Rc(y,y.type,na,ta,X,!1)},formatType:d=>{let {legend:y,fieldOrDatumDef:I,scaleType:X}=d;({formatType:d}=y);return Lc(d,I,X)},gradientLength:d=>{var y,I;const {legend:X,legendConfig:na}=d;if(null!==(y=null!==(I=X.gradientLength)&&void 0!==I?I:na.gradientLength)&&void 0!==y)d=y;else{{let {legendConfig:ta,model:cb,direction:qb,orient:vb,scaleType:Nb}=d;const {gradientHorizontalMaxLength:xc,
gradientHorizontalMinLength:od,gradientVerticalMaxLength:Pc,gradientVerticalMinLength:Ed}=ta;d=Ei.has(Nb)?"horizontal"===qb?"top"===vb||"bottom"===vb?lg(cb,"width",od,xc):od:lg(cb,"height",Ed,Pc):void 0}}return d},labelOverlap:d=>{var y,I;let {legend:X,legendConfig:na,scaleType:ta}=d;d=null!==(y=null!==(I=X.labelOverlap)&&void 0!==I?I:na.labelOverlap)&&void 0!==y?y:g(["quantile","threshold","log","symlog"],ta)?"greedy":void 0;return d},symbolType:d=>{var y;let {legend:I,markDef:X,channel:na,encoding:ta}=
d;if(null!==(y=I.symbolType)&&void 0!==y)var cb=y;else a:{d=X.type;y=X.shape;if("shape"!==na){const qb=null!==(cb=ve(ta.shape))&&void 0!==cb?cb:y;if(qb){cb=qb;break a}}switch(d){case "bar":case "rect":case "image":case "square":cb="square";break a;case "line":case "trail":case "rule":cb="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":cb="circle";break a}cb=void 0}return cb},title:d=>{let {fieldOrDatumDef:y,config:I}=d;return Ff(y,I,{allowDisabling:!0})},
type:d=>{let {legendType:y,scaleType:I,channel:X}=d;if(bb(X)&&Ei.has(I)){if("gradient"===y)return}else if("symbol"===y)return;return y},values:d=>{let {fieldOrDatumDef:y,legend:I}=d;d=I.values;d=p.isArray(d)?og(y,d):Bc(d)?d:void 0;return d}},tm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class cm extends Pf{constructor(d,y,I,X){super(Object.assign({},y),{name:d});this.specifiedProjection=y;
this.size=I;this.data=X;yb(this,"merged",!1)}get isFit(){return!!this.data}}class Ij extends ih{clone(){return new Ij(null,Vf(this.bins))}constructor(d,y){super(d);this.bins=y}static makeFromEncoding(d,y){const I=y.reduceFieldDef((X,na,ta)=>{if(vd(na)&&Ta(na.bin)){const {key:Pc,binComponent:Ed}=fj(na,na.bin,y);var cb=Object,qb=cb.assign,vb=X[Pc];var Nb=y.config;if(Tf(na,ta)){var xc,od;const Ud=ec(y)?null!==(xc=null!==(od=y.axis(ta))&&void 0!==od?od:y.legend(ta))&&void 0!==xc?xc:{}:{};ta=Id(na,{expr:"datum"});
xc=Id(na,{expr:"datum",binSuffix:"end"});na={formulaAs:Id(na,{binSuffix:"range",forAs:!0}),formula:Pb(ta,xc,Ud.format,Ud.formatType,Nb)}}else na={};X[Pc]=qb.call(cb,{},Ed,vb,na)}return X},{});return r(I)?null:new Ij(d,I)}static makeFromTransform(d,y,I){const {key:X,binComponent:na}=fj(y,y.bin,I);return new Ij(d,{[X]:na})}merge(d,y){for(const I of se(d.bins))I in this.bins?(y(d.bins[I].signal,this.bins[I].signal),this.bins[I].as=O([...this.bins[I].as,...d.bins[I].as],c)):this.bins[I]=d.bins[I];for(const I of d.children)d.removeChild(I),
I.parent=this;d.remove()}producedFields(){return new Set(hi(this.bins).map(d=>d.as).flat(2))}dependentFields(){return new Set(hi(this.bins).map(d=>d.field))}hash(){return"Bin ".concat(c(this.bins))}assemble(){return hi(this.bins).flatMap(d=>{const y=[],[I,...X]=d.as;var na=d.bin,ta=Object.assign({},na);na=na.extent;ta=(delete ta.extent,ta);ta=Object.assign({},{type:"bin",field:ea(d.field),as:I,signal:d.signal},lb(na)?{extent:null}:{extent:na},d.span?{span:{signal:"span(".concat(d.span,")")}}:{},ta);
!na&&d.extentSignal&&(y.push({type:"extent",field:ea(d.field),signal:d.extentSignal}),ta.extent={signal:d.extentSignal});y.push(ta);for(const cb of X)for(na=0;2>na;na++)y.push({type:"formula",expr:Id({field:I[na]},{expr:"datum"}),as:cb[na]});d.formula&&y.push({type:"formula",expr:d.formula,as:d.formulaAs});return y})}}class xj extends ih{clone(){return new xj(null,new Set(this.dimensions),Vf(this.measures))}constructor(d,y,I){super(d);this.dimensions=y;this.measures=I}get groupBy(){return this.dimensions}static makeFromEncoding(d,
y){let I=!1;y.forEachFieldDef(ta=>{ta.aggregate&&(I=!0)});const X={},na=new Set;if(!I)return null;y.forEachFieldDef((ta,cb)=>{const {aggregate:qb,field:vb}=ta;if(qb)if("count"===qb){var Nb;null!==(Nb=X["*"])&&void 0!==Nb?Nb:X["*"]={};X["*"].count=new Set([Id(ta,{forAs:!0})])}else{if(Oa(qb)||ja(qb)){var xc;ta=Oa(qb)?"argmin":"argmax";var od=qb[ta];null!==(xc=X[od])&&void 0!==xc?xc:X[od]={};X[od][ta]=new Set([Id({op:ta,field:od},{forAs:!0})])}else{var Pc;null!==(Pc=X[vb])&&void 0!==Pc?Pc:X[vb]={};X[vb][qb]=
new Set([Id(ta,{forAs:!0})])}if(Sh[cb]&&"unaggregated"===y.scaleDomain(cb)){var Ed;null!==(Ed=X[vb])&&void 0!==Ed?Ed:X[vb]={};X[vb].min=new Set([Id({field:vb,aggregate:"min"},{forAs:!0})]);X[vb].max=new Set([Id({field:vb,aggregate:"max"},{forAs:!0})])}}else{xc=ec(y)?y.encoding[Fa(cb)]:void 0;vd(ta)&&ec(y)&&oc(ta,xc,y.markDef,y.config)?(na.add(Id(ta,{})),na.add(Id(ta,{suffix:"end"})),ta.bin&&Tf(ta,cb)&&na.add(Id(ta,{binSuffix:"range"}))):cb in Sj?(cb=Ia(cb),na.add(y.getName(cb))):na.add(Id(ta));if(cb=
ee(ta))cb=null===(od=ta.scale)||void 0===od?void 0:od.range,cb=p.isObject(cb)&&"field"in cb;cb&&na.add(ta.scale.range.field)}});return 0===na.size+se(X).length?null:new xj(d,na,X)}static makeFromTransform(d,y){const I=new Set,X={};for(const qb of y.aggregate){const {op:vb,field:Nb,as:xc}=qb;if(vb)if("count"===vb){var na;null!==(na=X["*"])&&void 0!==na?na:X["*"]={};X["*"].count=new Set([xc?xc:Id(qb,{forAs:!0})])}else{var ta;null!==(ta=X[Nb])&&void 0!==ta?ta:X[Nb]={};X[Nb][vb]=new Set([xc?xc:Id(qb,
{forAs:!0})])}}for(const qb of null!==(cb=y.groupby)&&void 0!==cb?cb:[]){var cb;I.add(qb)}return 0===I.size+se(X).length?null:new xj(d,I,X)}merge(d){if(H(this.dimensions,d.dimensions)){var y=this.measures;d=d.measures;for(const X of se(d)){const na=d[X];for(const ta of se(na))if(X in y){var I;y[X][ta]=new Set([...(null!==(I=y[X][ta])&&void 0!==I?I:[]),...na[ta]])}else y[X]={[ta]:na[ta]}}return!0}ld("different dimensions, cannot merge");return!1}addDimensions(d){d.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,
...se(this.measures)])}producedFields(){const d=new Set;for(const y of se(this.measures))for(const I of se(this.measures[y])){const X=this.measures[y][I];0===X.size?d.add("".concat(I,"_").concat(y)):X.forEach(d.add,d)}return d}hash(){return"Aggregate ".concat(c({dimensions:this.dimensions,measures:this.measures}))}assemble(){const d=[],y=[],I=[];for(const X of se(this.measures))for(const na of se(this.measures[X]))for(const ta of this.measures[X][na])I.push(ta),d.push(na),y.push("*"===X?null:ea(X));
return{type:"aggregate",groupby:[...this.dimensions].map(ea),ops:d,fields:y,as:I}}}class Mk extends ih{constructor(d,y,I,X){super(d);this.model=y;this.name=I;this.data=X;yb(this,"column",void 0);yb(this,"row",void 0);yb(this,"facet",void 0);yb(this,"childModel",void 0);for(const na of ui)if(d=y.facet[na]){const {bin:ta,sort:cb}=d;this[na]=Object.assign({},{name:y.getName("".concat(na,"_domain")),fields:[Id(d),...(Ta(ta)?[Id(d,{binSuffix:"end"})]:[])]},fa(cb)?{sortField:cb}:p.isArray(cb)?{sortIndexField:Ld(d,
na)}:{})}this.childModel=y.child}hash(){let d="Facet";for(const y of ui)this[y]&&(d+=" ".concat(y.charAt(0),":").concat(c(this[y])));return d}get fields(){const d=[];for(const I of ui){var y;null!==(y=this[I])&&void 0!==y&&y.fields&&d.push(...this[I].fields)}return d}dependentFields(){const d=new Set(this.fields);for(const y of ui)this[y]&&(this[y].sortField&&d.add(this[y].sortField.field),this[y].sortIndexField&&d.add(this[y].sortIndexField));return d}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const d=
{};for(const X of Wh){var y=this.childModel.component.scales[X];if(y&&!y.merged){var I=y.get("type");y=y.get("range");Gd(I)&&uc(y)&&(I=Qi(this.childModel,X),(I=jj(I))?d[X]=I:lc(nd(X)))}}return d}assembleRowColumnHeaderData(d,y,I){const X={row:"y",column:"x",facet:void 0}[d],na=[],ta=[],cb=[];X&&I&&I[X]&&(y?(na.push("distinct_".concat(I[X])),ta.push("max")):(na.push(I[X]),ta.push("distinct")),cb.push("distinct_".concat(I[X])));const {sortField:qb,sortIndexField:vb}=this[d];if(qb){const {op:Nb="min",
field:xc}=qb;na.push(xc);ta.push(Nb);cb.push(Id(qb,{forAs:!0}))}else vb&&(na.push(vb),ta.push("max"),cb.push(vb));return{name:this[d].name,source:null!==y&&void 0!==y?y:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[d].fields},na.length?{fields:na,ops:ta,as:cb}:{})]}}assembleFacetHeaderData(d){const {columns:y}=this.model.layout,{layoutHeaders:I}=this.model.component,X=[],na={};for(const xc of Rl){for(const od of Sl){var ta,cb=null!==(ta=I[xc]&&I[xc][od])&&void 0!==ta?ta:[];
for(const Pc of cb){var qb;if(0<(null===(qb=Pc.axes)||void 0===qb?void 0:qb.length)){na[xc]=!0;break}}}na[xc]&&(cb='length(data("'.concat(this.facet.name,'"))'),cb="row"===xc?y?{signal:"ceil(".concat(cb," / ").concat(y,")")}:1:y?{signal:"min(".concat(cb,", ").concat(y,")")}:{signal:cb},X.push({name:"".concat(this.facet.name,"_").concat(xc),transform:[{type:"sequence",start:0,stop:cb}]}))}const {row:vb,column:Nb}=na;(vb||Nb)&&X.unshift(this.assembleRowColumnHeaderData("facet",null,d));return X}assemble(){const d=
[];var y=null;const I=this.getChildIndependentFieldsWithStep(),{column:X,row:na,facet:ta}=this;if(X&&na&&(I.x||I.y)){var cb,qb;y="cross_".concat(this.column.name,"_").concat(this.row.name);const vb=[].concat(null!==(cb=I.x)&&void 0!==cb?cb:[],null!==(qb=I.y)&&void 0!==qb?qb:[]);cb=vb.map(()=>"distinct");d.push({name:y,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:vb,ops:cb}]})}for(const vb of["column","row"])this[vb]&&d.push(this.assembleRowColumnHeaderData(vb,y,I));ta&&
(y=this.assembleFacetHeaderData(I))&&d.push(...y);return d}}class xi extends ih{clone(){return new xi(null,Vf(this._parse))}constructor(d,y){super(d);yb(this,"_parse",void 0);this._parse=y}hash(){return"Parse ".concat(c(this._parse))}static makeExplicit(d,y,I){var X;let na={};y=y.data;!ab(y)&&null!==y&&void 0!==y&&null!==(X=y.format)&&void 0!==X&&X.parse&&(na=y.format.parse);return this.makeWithAncestors(d,na,{},I)}static makeWithAncestors(d,y,I,X){for(var na of se(I)){const cb=X.getWithExplicit(na);
void 0!==cb.value&&(cb.explicit||cb.value===I[na]||"derived"===cb.value||"flatten"===I[na]?delete I[na]:lc(le(na,I[na],cb.value)))}for(var ta of se(y))na=X.get(ta),void 0!==na&&(na===y[ta]?delete y[ta]:lc(le(ta,y[ta],na)));y=new Pf(y,I);X.copyAll(y);I={};for(const cb of se(y.combine()))ta=y.get(cb),null!==ta&&(I[cb]=ta);return 0===se(I).length||X.parseNothing?null:new xi(d,I)}get parse(){return this._parse}merge(d){this._parse=Object.assign({},this._parse,d.parse);d.remove()}assembleFormatParse(){const d=
{};for(const y of se(this._parse)){const I=this._parse[y];1===C(y)&&(d[y]=I)}return d}producedFields(){return new Set(se(this._parse))}dependentFields(){return new Set(se(this._parse))}assembleTransforms(){let d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return se(this._parse).filter(y=>d?1<C(y):!0).map(y=>{const I=Gi(y,this._parse[y]);return I?{type:"formula",expr:I,as:aa(y)}:null}).filter(y=>null!==y)}}class vk extends ih{clone(){return new vk(null)}constructor(d){super(d)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class rl extends ih{clone(){return new rl(null,this.params)}constructor(d,y){super(d);this.params=y}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(c(this.params))}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class sl extends ih{clone(){return new sl(null,this.params)}constructor(d,y){super(d);this.params=y}dependentFields(){return new Set}producedFields(){var d;return new Set([null!==(d=this.params.as)&&
void 0!==d?d:"data"])}hash(){return"Hash ".concat(c(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class uk extends ih{constructor(d){var y;super(null);yb(this,"_data",void 0);yb(this,"_name",void 0);yb(this,"_generator",void 0);null!==(y=d)&&void 0!==y?y:d={name:"source"};let I;ab(d)||(I=d.format?Object.assign({},b(d.format,["parse"])):{});if("values"in d)this._data={values:d.values};else if("url"in d)this._data={url:d.url},I.type||(y=/(?:\.([^.]+))?$/.exec(d.url)[1],
g(["json","csv","tsv","dsv","topojson"],y)||(y="json"),I.type=y);else if("sphere"in d)this._data={values:[{type:"Sphere"}]};else if(Da(d)||ab(d))this._data={};this._generator=ab(d);d.name&&(this._name=d.name);I&&!r(I)&&(this._data.format=I)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(d){this._name=d}set parent(d){throw Error("Source nodes have to be roots.");
}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var gl=new WeakMap;class Tl{constructor(){if(gl.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");gl.set(this,{writable:!0,value:void 0});Ub(this,gl,!1)}setModified(){Ub(this,gl,!0)}get modifiedFlag(){var d=Tb(this,gl,"get");return d.get?d.get.call(this):d.value}}
class wk extends Tl{getNodeDepths(d,y,I){I.set(d,y);for(const X of d.children)this.getNodeDepths(X,y+1,I);return I}optimize(d){d=[...this.getNodeDepths(d,0,new Map).entries()].sort((y,I)=>I[1]-y[1]);for(const y of d)this.run(y[0]);return this.modifiedFlag}}class Ul extends Tl{optimize(d){this.run(d);for(const y of d.children)this.optimize(y);return this.modifiedFlag}}class Dm extends Ul{mergeNodes(d,y){const I=y.shift();for(const X of y)d.removeChild(X),X.parent=I,X.remove()}run(d){const y=d.children.map(X=>
X.hash()),I={};for(let X=0;X<y.length;X++)void 0===I[y[X]]?I[y[X]]=[d.children[X]]:I[y[X]].push(d.children[X]);for(const X of se(I))1<I[X].length&&(this.setModified(),this.mergeNodes(d,I[X]))}}class vm extends Ul{constructor(d){super();yb(this,"requiresSelectionId",void 0);this.requiresSelectionId=d&&Yf(d)}run(d){!(d instanceof vk)||this.requiresSelectionId&&(cj(d.parent)||d.parent instanceof xj||d.parent instanceof xi)||(this.setModified(),d.remove())}}class zm extends Tl{optimize(d){this.run(d,
new Set);return this.modifiedFlag}run(d,y){let I=new Set;d instanceof Jj&&(I=d.producedFields(),F(I,y)&&(this.setModified(),d.removeFormulas(y),0===d.producedFields.length&&d.remove()));for(const X of d.children)this.run(X,new Set([...y,...I]))}}class um extends Ul{constructor(){super()}run(d){d instanceof wi&&!d.isRequired()&&(this.setModified(),d.remove())}}class xm extends wk{run(d){if(!(cj(d)||1<d.numChildren()))for(const y of d.children)y instanceof xi&&(d instanceof xi?(this.setModified(),d.merge(y)):
D(d.producedFields(),y.dependentFields())||(this.setModified(),y.swapWithParent()))}}class Am extends wk{run(d){const y=[...d.children];var I=d.children.filter(na=>na instanceof xi);if(1<d.numChildren()&&1<=I.length){const na={};var X=new Set;for(const ta of I){I=ta.parse;for(const cb of se(I))cb in na?na[cb]!==I[cb]&&X.add(cb):na[cb]=I[cb]}for(const ta of X)delete na[ta];if(!r(na)){this.setModified();X=new xi(d,na);for(const ta of y){if(ta instanceof xi)for(const cb of se(na))delete ta.parse[cb];
d.removeChild(ta);ta.parent=X;ta instanceof xi&&0===se(ta.parse).length&&ta.remove()}}}}}class wm extends wk{run(d){d instanceof wi||0<d.numChildren()||d instanceof Mk||d instanceof uk||(this.setModified(),d.remove())}}class Cm extends wk{run(d){d=d.children.filter(I=>I instanceof Jj);const y=d.pop();for(const I of d)this.setModified(),y.merge(I)}}class Bm extends wk{run(d){var y=d.children.filter(na=>na instanceof xj);const I={};for(var X of y)y=c(X.groupBy),y in I||(I[y]=[]),I[y].push(X);for(const na of se(I))if(X=
I[na],1<X.length){y=X.pop();for(const ta of X)y.merge(ta)&&(d.removeChild(ta),ta.parent=y,ta.remove(),this.setModified())}}}class ym extends wk{constructor(d){super();this.model=d}run(d){var y=!(cj(d)||d instanceof dl||d instanceof xi||d instanceof vk);const I=[],X=[];for(const na of d.children)na instanceof Ij&&(y&&!D(d.producedFields(),na.dependentFields())?I.push(na):X.push(na));if(0<I.length){y=I.pop();for(const na of I)y.merge(na,this.model.renameSignal.bind(this.model));this.setModified();d instanceof
Ij?d.merge(y,this.model.renameSignal.bind(this.model)):y.swapWithParent()}if(1<X.length){d=X.pop();for(const na of X)d.merge(na,this.model.renameSignal.bind(this.model));this.setModified()}}}class Em extends wk{run(d){var y=[...d.children];if(n(y,na=>na instanceof wi)&&!(1>=d.numChildren())){var I=[];for(const na of y)if(na instanceof wi){for(y=na;1===y.numChildren();){const [ta]=y.children;if(ta instanceof wi)y=ta;else break}I.push(...y.children);if(X)d.removeChild(na),na.parent=X.parent,X.parent.removeChild(X),
X.parent=y,this.setModified();else var X=y}else I.push(na);if(I.length){this.setModified();for(const na of I)na.parent.removeChild(na),na.parent=X}}}}class Nk extends ih{clone(){return new Nk(null,Vf(this.transform))}constructor(d,y){super(d);this.transform=y}addDimensions(d){this.transform.groupby=O(this.transform.groupby.concat(d),y=>y)}dependentFields(){const d=new Set;this.transform.groupby&&this.transform.groupby.forEach(d.add,d);this.transform.joinaggregate.map(y=>y.field).filter(y=>void 0!==
y).forEach(d.add,d);return d}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(d){var y;return null!==(y=d.as)&&void 0!==y?y:Id(d)}hash(){return"JoinAggregateTransform ".concat(c(this.transform))}assemble(){const d=[],y=[],I=[];for(var X of this.transform.joinaggregate)y.push(X.op),I.push(this.getDefaultName(X)),d.push(void 0===X.field?null:X.field);X=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:I,ops:y,fields:d},void 0!==
X?{groupby:X}:{})}}class gk extends ih{clone(){return new gk(null,Vf(this._stack))}constructor(d,y){super(d);yb(this,"_stack",void 0);this._stack=y}static makeFromTransform(d,y){const {stack:I,groupby:X,as:na,offset:ta="zero"}=y;var cb=[];const qb=[];if(void 0!==y.sort)for(const vb of y.sort)cb.push(vb.field),qb.push(B(vb.order,"ascending"));cb={field:cb,order:qb};y=Lj(na)?na:p.isString(na)?[na,"".concat(na,"_end")]:["".concat(y.stack,"_start"),"".concat(y.stack,"_end")];return new gk(d,{dimensionFieldDefs:[],
stackField:I,groupby:X,offset:ta,sort:cb,facetby:[],as:y})}static makeFromEncoding(d,y){var I=y.stack;const {encoding:X}=y;if(!I)return null;const {groupbyChannels:na,fieldChannel:ta,offset:cb,impute:qb}=I;I=na.map(xc=>Sf(X[xc])).filter(xc=>!!xc);const vb=xk(y);var Nb=y.encoding.order;Nb=p.isArray(Nb)||Ec(Nb)?ua(Nb):vb.reduce((xc,od)=>{xc.field.push(od);xc.order.push("y"===ta?"descending":"ascending");return xc},{field:[],order:[]});return new gk(d,{dimensionFieldDefs:I,stackField:y.vgField(ta),facetby:[],
stackby:vb,sort:Nb,offset:cb,impute:qb,as:[y.vgField(ta,{suffix:"start",forAs:!0}),y.vgField(ta,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(d){this._stack.facetby.push(...d)}dependentFields(){const d=new Set;d.add(this._stack.stackField);this.getGroupbyFields().forEach(d.add,d);this._stack.facetby.forEach(d.add,d);this._stack.sort.field.forEach(d.add,d);return d}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(c(this._stack))}getGroupbyFields(){const {dimensionFieldDefs:d,
impute:y,groupby:I}=this._stack;return 0<d.length?d.map(X=>X.bin?y?[Id(X,{binSuffix:"mid"})]:[Id(X,{}),Id(X,{binSuffix:"end"})]:[Id(X)]).flat():null!==I&&void 0!==I?I:[]}assemble(){const d=[],{facetby:y,dimensionFieldDefs:I,stackField:X,stackby:na,sort:ta,offset:cb,impute:qb,as:vb}=this._stack;if(qb)for(const Nb of I){const {bandPosition:xc=.5,bin:od}=Nb;if(od){const Pc=Id(Nb,{expr:"datum"}),Ed=Id(Nb,{expr:"datum",binSuffix:"end"});d.push({type:"formula",expr:"".concat(xc,"*").concat(Pc,"+").concat(1-
xc,"*").concat(Ed),as:Id(Nb,{binSuffix:"mid",forAs:!0})})}d.push({type:"impute",field:X,groupby:[...na,...y],key:Id(Nb,{binSuffix:"mid"}),method:"value",value:0})}d.push({type:"stack",groupby:[...this.getGroupbyFields(),...y],field:X,sort:ta,as:vb,offset:cb});return d}}class cl extends ih{clone(){return new cl(null,Vf(this.transform))}constructor(d,y){super(d);this.transform=y}addDimensions(d){this.transform.groupby=O(this.transform.groupby.concat(d),y=>y)}dependentFields(){var d,y;const I=new Set;
(null!==(d=this.transform.groupby)&&void 0!==d?d:[]).forEach(I.add,I);(null!==(y=this.transform.sort)&&void 0!==y?y:[]).forEach(X=>I.add(X.field));this.transform.window.map(X=>X.field).filter(X=>void 0!==X).forEach(I.add,I);return I}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(d){var y;return null!==(y=d.as)&&void 0!==y?y:Id(d)}hash(){return"WindowTransform ".concat(c(this.transform))}assemble(){const d=[],y=[],I=[],X=[];for(var na of this.transform.window)y.push(na.op),
I.push(this.getDefaultName(na)),X.push(void 0===na.param?null:na.param),d.push(void 0===na.field?null:na.field);na=this.transform.frame;const ta=this.transform.groupby;if(na&&null===na[0]&&null===na[1]&&y.every(Nb=>U(Nb)))return Object.assign({},{type:"joinaggregate",as:I,ops:y,fields:d},void 0!==ta?{groupby:ta}:{});const cb=[],qb=[];if(void 0!==this.transform.sort)for(const Nb of this.transform.sort){var vb;cb.push(Nb.field);qb.push(null!==(vb=Nb.order)&&void 0!==vb?vb:"ascending")}vb=this.transform.ignorePeers;
return Object.assign({},{type:"window",params:X,as:I,ops:y,fields:d,sort:{field:cb,order:qb}},void 0!==vb?{ignorePeers:vb}:{},void 0!==ta?{groupby:ta}:{},void 0!==na?{frame:na}:{})}}class Ni{constructor(d){yb(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:d})}static fromName(d,y){return new Ni(()=>d(y))}}class em extends Pf{constructor(d,y){super({},{name:d});yb(this,"merged",!1);this.setWithExplicit("type",y)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?
!0:n(this.get("domains"),d=>p.isArray(d)&&2===d.length&&0>=d[0]&&0<=d[1])}}const Fm=["range","scheme"],dm={bins:d=>{let {model:y,fieldOrDatumDef:I}=d;return Ec(I)?Q(y,I):void 0},interpolate:d=>{let {channel:y,fieldOrDatumDef:I}=d;d=I.type;d=g(["color","fill","stroke"],y)&&"nominal"!==d?"hcl":void 0;return d},nice:d=>{let {scaleType:y,channel:I,domain:X,domainMin:na,domainMax:ta,fieldOrDatumDef:cb}=d;var qb;d=null!==(qb=Sf(cb))&&void 0!==qb&&qb.bin||p.isArray(X)||null!=ta||null!=na||g([Xh.TIME,Xh.UTC],
y)?void 0:va(I)?!0:void 0;return d},padding:d=>{let {channel:y,scaleType:I,fieldOrDatumDef:X,markDef:na,config:ta}=d;a:{d=ta.scale;var cb=ta.bar;if(va(y)){if(Ei.has(I)){if(void 0!==d.continuousPadding){d=d.continuousPadding;break a}const {type:qb,orient:vb}=na;if("bar"===qb&&(!Ec(X)||!X.bin&&!X.timeUnit)&&("vertical"===vb&&"x"===y||"horizontal"===vb&&"y"===y)){d=cb.continuousBandSize;break a}}if(I===Xh.POINT){d=d.pointPadding;break a}}d=void 0}return d},paddingInner:d=>{let {scalePadding:y,channel:I,
markDef:X,scaleType:na,config:ta,hasNestedOffsetScale:cb}=d;return Z(y,I,X.type,na,ta.scale,cb)},paddingOuter:d=>{let {scalePadding:y,channel:I,scaleType:X,scalePaddingInner:na,config:ta,hasNestedOffsetScale:cb}=d;return Ga(y,I,X,na,ta.scale,cb)},reverse:d=>{let {fieldOrDatumDef:y,scaleType:I,channel:X,config:na}=d;d=Ec(y)?y.sort:void 0;var ta=na.scale;d="x"===X&&void 0!==ta.xReverse?Pd(I)&&"descending"===d?Bc(ta.xReverse)?{signal:"!".concat(ta.xReverse.signal)}:!ta.xReverse:ta.xReverse:Pd(I)&&"descending"===
d?!0:void 0;return d},zero:d=>{let {channel:y,fieldOrDatumDef:I,domain:X,markDef:na,scaleType:ta}=d;a:if(X&&"unaggregated"!==X&&Pd(ta)){if(p.isArray(X)&&(d=X[X.length-1],0>=X[0]&&0<=d)){d=!0;break a}d=!1}else if("size"!==y||"quantitative"!==I.type||Cj.has(ta))if(Ec(I)&&I.bin||!g([...Wh,...Bk],y))d=!1;else{const {orient:cb,type:qb}=na;d=g(["bar","area","line","trail"],qb)&&("horizontal"===cb&&"y"===y||"vertical"===cb&&"x"===y)?!1:!0}else d=!0;return d}},Gm=eg((d,y)=>Uk[d]-Uk[y]);class Vl{constructor(){yb(this,
"nameMap",void 0);this.nameMap={}}rename(d,y){this.nameMap[d]=y}has(d){return void 0!==this.nameMap[d]}get(d){for(;this.nameMap[d]&&d!==this.nameMap[d];)d=this.nameMap[d];return d}}class Wl{constructor(d,y,I,X,na,ta,cb){var qb,vb;this.type=y;this.parent=I;this.config=na;yb(this,"name",void 0);yb(this,"size",void 0);yb(this,"title",void 0);yb(this,"description",void 0);yb(this,"data",void 0);yb(this,"transforms",void 0);yb(this,"layout",void 0);yb(this,"scaleNameMap",void 0);yb(this,"projectionNameMap",
void 0);yb(this,"signalNameMap",void 0);yb(this,"component",void 0);yb(this,"view",void 0);yb(this,"children",void 0);yb(this,"correctDataNames",Nb=>{var xc,od,Pc;null!==(xc=Nb.from)&&void 0!==xc&&xc.data&&(Nb.from.data=this.lookupDataSource(Nb.from.data));null!==(od=Nb.from)&&void 0!==od&&null!==(Pc=od.facet)&&void 0!==Pc&&Pc.data&&(Nb.from.facet.data=this.lookupDataSource(Nb.from.facet.data));return Nb});this.parent=I;this.config=na;this.view=$b(cb);this.name=null!==(qb=d.name)&&void 0!==qb?qb:
X;this.title=zc(d.title)?{text:d.title}:d.title?$b(d.title):void 0;this.scaleNameMap=I?I.scaleNameMap:new Vl;this.projectionNameMap=I?I.projectionNameMap:new Vl;this.signalNameMap=I?I.signalNameMap:new Vl;this.data=d.data;this.description=d.description;this.transforms=Ch(null!==(vb=d.transform)&&void 0!==vb?vb:[]);this.layout="layer"===y||"unit"===y?{}:ce(d,y,na);this.component={data:{sources:I?I.component.data.sources:[],outputNodes:I?I.component.data.outputNodes:{},outputNodeRefCounts:I?I.component.data.outputNodeRefCounts:
{},isFaceted:"facet"in d||(null===I||void 0===I?void 0:I.component.data.isFaceted)&&void 0===d.data},layoutSize:new Pf,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},ta?Vf(ta):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();
this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){wb(this)}parseProjection(){Nj(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Eg(this)}assembleEncodeFromView(d){d=Object.assign({},d);d=(delete d.style,d);const y={};for(const I of se(d)){const X=d[I];void 0!==
X&&(y[I]=Wb(X))}return y}assembleGroupEncodeEntry(d){let y={};this.view&&(y=this.assembleEncodeFromView(this.view));if(!d&&(this.description&&(y.description=Wb(this.description)),"unit"===this.type||"layer"===this.type)){var I;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(I=y)&&void 0!==I?I:{})}return r(y)?void 0:y}assembleLayout(){if(this.layout){var d=this.layout,y=Object.assign({},d);d=d.spacing;y=(delete y.spacing,y);var {component:I,
config:X}=this,na=I.layoutHeaders,ta={};for(qb of ui){var cb=na[qb];if(null!==cb&&void 0!==cb&&cb.facetFieldDef){const {titleAnchor:vb,titleOrient:Nb}=oe(["titleAnchor","titleOrient"],cb.facetFieldDef.header,X,qb);cb=ae(qb,Nb);const xc=Km[cb][vb];void 0!==xc&&(ta[cb]=xc)}}var qb=r(ta)?void 0:ta;return Object.assign({},{padding:d},this.assembleDefaultLayout(),y,qb?{titleBand:qb}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:d}=this.component,y=[];for(var I of ui)if(d[I].title){var X=
y,na=X.push;var ta=I;var cb=this.component.layoutHeaders[ta].title,qb=this.config?this.config:void 0,vb=this.component.layoutHeaders[ta].facetFieldDef?this.component.layoutHeaders[ta].facetFieldDef:void 0;const {titleAnchor:pe,titleAngle:Ie,titleOrient:je}=oe(["titleAnchor","titleAngle","titleOrient"],vb.header,qb,ta);var Nb=ae(ta,je),xc=sa(Ie);ta={name:"".concat(ta,"-title"),type:"group",role:"".concat(Nb,"-title"),title:Object.assign({},{text:cb},"row"===ta?{orient:"left"}:{},{style:"guide-title"},
xf(xc,Nb),Qe(Nb,xc,pe),Zf(qb,vb,ta,Gl,ol))};na.call(X,ta)}for(const pe of Rl){d=y;y=d.concat;X=pe;na=this.component.layoutHeaders[X];I=[];for(const Ie of Sl)if(na[Ie])for(const je of na[Ie]){a:{vb=void 0;ta=X;var od=Ie,Pc=na;if(cb=je){qb=null;({facetFieldDef:Ud}=Pc);Nb=this.config?this.config:void 0;Ud&&cb.labels&&({labelOrient:xc}=oe(["labelOrient"],Ud.header,Nb,ta),"row"===ta&&!g(["top","bottom"],xc)||"column"===ta&&!g(["left","right"],xc))&&(qb=Ne(Ud,ta,Nb));const Fe=Mc(this)&&!gb(this.facet),
bf=cb.axes,Ue=0<(null===bf||void 0===bf?void 0:bf.length);if(qb||Ue){const Le="row"===ta?"height":"width";Nb=Object;xc=Nb.assign;od={name:this.getName("".concat(ta,"_").concat(od)),type:"group",role:"".concat(ta,"-").concat(od)};if(Pc.facetFieldDef){Pc={data:this.getName("".concat(ta,"_domain"))};{var Ed=Ud;const {sort:Xf}=Ed;var Ud=fa(Xf)?{field:Id(Xf,{expr:"datum"}),order:null!==(vb=Xf.order)&&void 0!==vb?vb:"ascending"}:p.isArray(Xf)?{field:Ld(Ed,ta,{expr:"datum"}),order:"ascending"}:{field:Id(Ed,
{expr:"datum"}),order:null!==Xf&&void 0!==Xf?Xf:"ascending"}}vb={from:Pc,sort:Ud}}else vb={};ta=xc.call(Nb,{},od,vb,Ue&&Fe?{from:{data:this.getName("facet_domain_".concat(ta))}}:{},qb?{title:qb}:{},cb.sizeSignal?{encode:{update:{[Le]:cb.sizeSignal}}}:{},Ue?{axes:bf}:{});break a}}ta=null}null!=ta&&I.push(ta)}y=y.call(d,I)}return y}assembleAxes(){return Oi(this.component.axes,this.config)}assembleLegends(){return mh(this)}assembleProjections(){var d=ad(this)||Wc(this)?yh(this):oi(this);return d}assembleTitle(){var d,
y=null!==(d=this.title)&&void 0!==d?d:{};d=Object.assign({},y);y=y.encoding;d=(delete d.encoding,d);y=Object.assign({},Gc(this.config.title).nonMarkTitleProperties,d,y?{encode:{update:y}}:{});if(y.text){if(g(["unit","layer"],this.type)){if(g(["middle",void 0],y.anchor)){var I;null!==(I=y.frame)&&void 0!==I?I:y.frame="group"}}else{var X;null!==(X=y.anchor)&&void 0!==X?X:y.anchor="start"}return r(y)?void 0:y}}assembleGroup(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const y={};
d=d.concat(this.assembleSignals());0<d.length&&(y.signals=d);if(d=this.assembleLayout())y.layout=d;y.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());d=!this.parent||Mc(this.parent)?wj(this):[];0<d.length&&(y.scales=d);d=this.assembleAxes();0<d.length&&(y.axes=d);d=this.assembleLegends();0<d.length&&(y.legends=d);return y}getName(d){return G((this.name?"".concat(this.name,"_"):"")+d)}getDataName(d){return this.getName(Hg[d].toLowerCase())}requestDataName(d){d=this.getDataName(d);const y=
this.component.data.outputNodeRefCounts;y[d]=(y[d]||0)+1;return d}getSizeSignalRef(d){if(Mc(this.parent)){var y=gh(d),I=Ua(y);if((y=this.component.scales[I])&&!y.merged){var X=y.get("type");const na=y.get("range");if(Gd(X)&&uc(na)){d=y.get("name");X=Qi(this,I);if(X=jj(X))return I=Id({aggregate:"distinct",field:X},{expr:"datum"}),{signal:$e(d,y,I)};lc(nd(I));return null}}}return{signal:this.signalNameMap.get(this.getName(d))}}lookupDataSource(d){const y=this.component.data.outputNodes[d];return y?
y.getSource():d}getSignalName(d){return this.signalNameMap.get(d)}renameSignal(d,y){this.signalNameMap.rename(d,y)}renameScale(d,y){this.scaleNameMap.rename(d,y)}renameProjection(d,y){this.projectionNameMap.rename(d,y)}scaleName(d,y){if(y)return this.getName(d);if(Zj[d]&&Sh[d]&&this.component.scales[d]||this.scaleNameMap.has(this.getName(d)))return this.scaleNameMap.get(this.getName(d))}projectionName(d){if(d)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(d){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const y=this.component.scales[d];return y&&!y.merged?y:this.parent?this.parent.getScaleComponent(d):void 0}getSelectionComponent(d,y){let I=this.component.selection[d];!I&&this.parent&&(I=this.parent.getSelectionComponent(d,
y));if(!I)throw Error('Cannot find a selection named "'.concat(y,'".'));return I}hasAxisOrientSignalRef(){var d,y;return(null===(d=this.component.axes.x)||void 0===d?void 0:d.some(I=>I.hasOrientSignalRef()))||(null===(y=this.component.axes.y)||void 0===y?void 0:y.some(I=>I.hasOrientSignalRef()))}}class nm extends Wl{vgField(d){let y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const I=this.fieldDef(d);if(I)return Id(I,y)}reduceFieldDef(d,y){return of(this.getMapping(),(I,X,na)=>(X=Sf(X))?
d(I,X,na):I,y)}forEachFieldDef(d,y){ne(this.getMapping(),(I,X)=>{(I=Sf(I))&&d(I,X)},y)}}class Ll extends ih{clone(){return new Ll(null,Vf(this.transform))}constructor(d,y){var I,X,na;super(d);this.transform=y;this.transform=Vf(y);d=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(X=d[0])&&void 0!==X?X:"value",null!==(na=d[1])&&void 0!==na?na:"density"];y.groupby&&null==y.minsteps&&null==y.maxsteps&&null==y.steps&&(this.transform.steps=200)}dependentFields(){var d;
return new Set([this.transform.density,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(c(this.transform))}assemble(){var d=this.transform,y=Object.assign({},d);d=d.density;y=(delete y.density,y);return Object.assign({},{type:"kde",field:d},y)}}class tl extends ih{clone(){return new tl(null,Object.assign({},this.filter))}constructor(d,y){super(d);this.filter=y}static make(d,y){const {config:I,mark:X,
markDef:na}=y;if("filter"!==Sc("invalid",na,I))return null;const ta=y.reduceFieldDef((cb,qb,vb)=>{if(vb=!!Sh[vb]&&y.getScaleComponent(vb))vb=vb.get("type"),Pd(vb)&&"count"!==qb.aggregate&&!Ea(X)&&(cb[qb.field]=qb);return cb},{});return se(ta).length?new tl(d,ta):null}dependentFields(){return new Set(se(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(c(this.filter))}assemble(){const d=se(this.filter).reduce((y,I)=>{I=this.filter[I];const X=Id(I,{expr:"datum"});null!==
I&&("temporal"===I.type?y.push("(isDate(".concat(X,") || (isValid(").concat(X,") \x26\x26 isFinite(+").concat(X,")))")):"quantitative"===I.type&&(y.push("isValid(".concat(X,")")),y.push("isFinite(+".concat(X,")"))));return y},[]);return 0<d.length?{type:"filter",expr:d.join(" \x26\x26 ")}:null}}class Kl extends ih{clone(){return new Kl(this.parent,Vf(this.transform))}constructor(d,y){super(d);this.transform=y;this.transform=Vf(y);const {flatten:I,as:X=[]}=this.transform;this.transform.as=I.map((na,
ta)=>{var cb;return null!==(cb=X[ta])&&void 0!==cb?cb:na})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(c(this.transform))}assemble(){const {flatten:d,as:y}=this.transform;return{type:"flatten",fields:d,as:y}}}class Jl extends ih{clone(){return new Jl(null,Vf(this.transform))}constructor(d,y){var I,X,na;super(d);this.transform=y;this.transform=Vf(y);d=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,
void 0];this.transform.as=[null!==(X=d[0])&&void 0!==X?X:"key",null!==(na=d[1])&&void 0!==na?na:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(c(this.transform))}assemble(){const {fold:d,as:y}=this.transform;return{type:"fold",fields:d,as:y}}}class fl extends ih{clone(){return new fl(null,Vf(this.fields),this.geojson,this.signal)}static parseAll(d,y){if(y.component.projection&&!y.component.projection.isFit)return d;
let I=0;for(var X of[["longitude","latitude"],["longitude2","latitude2"]]){const na=X.map(ta=>{ta=Gf(y.encoding[ta]);return Ec(ta)?ta.field:Be(ta)?{expr:"".concat(ta.datum)}:Kd(ta)?{expr:"".concat(ta.value)}:void 0});if(na[0]||na[1])d=new fl(d,na,null,y.getName("geojson_".concat(I++)))}y.channelHasField("shape")&&(X=y.typedFieldDef("shape"),"geojson"===X.type&&(d=new fl(d,null,X.field,y.getName("geojson_".concat(I++)))));return d}constructor(d,y,I,X){super(d);this.fields=y;this.geojson=I;this.signal=
X}dependentFields(){var d;const y=(null!==(d=this.fields)&&void 0!==d?d:[]).filter(p.isString);return new Set([...(this.geojson?[this.geojson]:[]),...y])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(c(this.fields))}assemble(){return[...(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}
class ul extends ih{clone(){return new ul(null,this.projection,Vf(this.fields),Vf(this.as))}constructor(d,y,I,X){super(d);this.projection=y;this.fields=I;this.as=X}static parseAll(d,y){if(!y.projectionName())return d;for(const I of[["longitude","latitude"],["longitude2","latitude2"]]){const X=I.map(ta=>{ta=Gf(y.encoding[ta]);return Ec(ta)?ta.field:Be(ta)?{expr:"".concat(ta.datum)}:Kd(ta)?{expr:"".concat(ta.value)}:void 0}),na="longitude2"===I[0]?"2":"";if(X[0]||X[1])d=new ul(d,y.projectionName(),
X,[y.getName("x".concat(na)),y.getName("y".concat(na))])}return d}dependentFields(){return new Set(this.fields.filter(p.isString))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(c(this.fields)," ").concat(c(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Ok extends ih{clone(){return new Ok(null,Vf(this.transform))}constructor(d,y){super(d);this.transform=y}dependentFields(){var d;return new Set([this.transform.impute,
this.transform.key,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(d){const {start:y=0,stop:I,step:X}=d;d=[y,I,...(X?[X]:[])].join();return{signal:"sequence(".concat(d,")")}}static makeFromTransform(d,y){return new Ok(d,y)}static makeFromEncoding(d,y){const I=y.encoding;var X=I.x;const na=I.y;if(Ec(X)&&Ec(na)){const ta=X.impute?X:na.impute?na:void 0;if(void 0===ta)return;X=X.impute?na:na.impute?X:void 0;const {method:cb,
value:qb,frame:vb,keyvals:Nb}=ta.impute;y=uf(y.mark,I);return new Ok(d,Object.assign({},{impute:ta.field,key:X.field},cb?{method:cb}:{},void 0!==qb?{value:qb}:{},vb?{frame:vb}:{},void 0!==Nb?{keyvals:Nb}:{},y.length?{groupby:y}:{}))}return null}hash(){return"Impute ".concat(c(this.transform))}assemble(){const {impute:d,key:y,keyvals:I,method:X,groupby:na,value:ta,frame:cb=[null,null]}=this.transform,qb=Object.assign({},{type:"impute",field:d,key:y},I?{keyvals:void 0!==(null===I||void 0===I?void 0:
I.stop)?this.processSequence(I):I}:{},{method:"value"},na?{groupby:na}:{},{value:X&&"value"!==X?null:ta});if(X&&"value"!==X){const vb=Object.assign({},{type:"window",as:["imputed_".concat(d,"_value")],ops:[X],fields:[d],frame:cb,ignorePeers:!1},na?{groupby:na}:{}),Nb={type:"formula",expr:"datum.".concat(d," \x3d\x3d\x3d null ? datum.imputed_").concat(d,"_value : datum.").concat(d),as:d};return[qb,vb,Nb]}return[qb]}}class Ml extends ih{clone(){return new Ml(null,Vf(this.transform))}constructor(d,y){var I,
X,na;super(d);this.transform=y;this.transform=Vf(y);d=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(X=d[0])&&void 0!==X?X:y.on,null!==(na=d[1])&&void 0!==na?na:y.loess]}dependentFields(){var d;return new Set([this.transform.loess,this.transform.on,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(c(this.transform))}assemble(){var d=this.transform,y=Object.assign({},
d);const I=d.loess;d=d.on;y=(delete y.loess,delete y.on,y);return Object.assign({},{type:"loess",x:d,y:I},y)}}class vl extends ih{clone(){return new vl(null,Vf(this.transform),this.secondary)}constructor(d,y,I){super(d);this.transform=y;this.secondary=I}static make(d,y,I,X){const na=y.component.data.sources,{from:ta}=I;var cb=null;if("data"in ta)cb=Of(ta.data,na),cb||(cb=new uk(ta.data),na.push(cb)),X=y.getName("lookup_".concat(X)),cb=new wi(cb,X,Hg.Lookup,y.component.data.outputNodeRefCounts),y.component.data.outputNodes[X]=
cb;else if("param"in ta){X=ta.param;I=Object.assign({},{as:X},I);let qb;try{qb=y.getSelectionComponent(G(X),X)}catch(vb){throw Error('Lookups can only be performed on selection parameters. "'.concat(X,'" is a variable parameter.'));}cb=qb.materialized;if(!cb)throw Error('Cannot define and lookup the "'.concat(X,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");}return new vl(d,I,cb.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
p.array(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(c({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var d=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:p.array(this.transform.as)}:{});else d=this.transform.as,p.isString(d)||(lc('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),d="_lookup"),d={as:[d]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},d,this.transform.default?{default:this.transform.default}:{})}}class Nl extends ih{clone(){return new Nl(null,Vf(this.transform))}constructor(d,y){var I,X,na;super(d);this.transform=y;this.transform=Vf(y);d=null!==(I=this.transform.as)&&void 0!==I?I:[void 0,void 0];this.transform.as=[null!==(X=d[0])&&void 0!==X?X:"prob",null!==(na=d[1])&&void 0!==na?na:"value"]}dependentFields(){var d;return new Set([this.transform.quantile,
...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(c(this.transform))}assemble(){var d=this.transform,y=Object.assign({},d);d=d.quantile;y=(delete y.quantile,y);return Object.assign({},{type:"quantile",field:d},y)}}class Ol extends ih{clone(){return new Ol(null,Vf(this.transform))}constructor(d,y){var I,X,na;super(d);this.transform=y;this.transform=Vf(y);d=null!==(I=this.transform.as)&&void 0!==I?I:
[void 0,void 0];this.transform.as=[null!==(X=d[0])&&void 0!==X?X:y.on,null!==(na=d[1])&&void 0!==na?na:y.regression]}dependentFields(){var d;return new Set([this.transform.regression,this.transform.on,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(c(this.transform))}assemble(){var d=this.transform,y=Object.assign({},d);const I=d.regression;d=d.on;y=(delete y.regression,delete y.on,y);return Object.assign({},
{type:"regression",x:d,y:I},y)}}class Ql extends ih{clone(){return new Ql(null,Vf(this.transform))}constructor(d,y){super(d);this.transform=y}addDimensions(d){var y;this.transform.groupby=O((null!==(y=this.transform.groupby)&&void 0!==y?y:[]).concat(d),I=>I)}producedFields(){}dependentFields(){var d;return new Set([this.transform.pivot,this.transform.value,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}hash(){return"PivotTransform ".concat(c(this.transform))}assemble(){const {pivot:d,value:y,
groupby:I,limit:X,op:na}=this.transform;return Object.assign({},{type:"pivot",field:d,value:y},void 0!==X?{limit:X}:{},void 0!==na?{op:na}:{},void 0!==I?{groupby:I}:{})}}class Pl extends ih{clone(){return new Pl(null,Vf(this.transform))}constructor(d,y){super(d);this.transform=y}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(c(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class xl extends nm{constructor(d,y,I,
X){super(d,"facet",y,I,X,d.resolve);yb(this,"facet",void 0);yb(this,"child",void 0);yb(this,"children",void 0);this.child=Qh(d.spec,this,this.getName("child"),void 0,X);this.children=[this.child];this.facet=this.initFacet(d.facet)}initFacet(d){if(!gb(d))return{facet:this.initFacetFieldDef(d,"facet")};var y=se(d);const I={};for(const X of y){if(!["row","column"].includes(X)){lc(We(X,"facet"));break}y=d[X];if(void 0===y.field){lc(te(y,X));break}I[X]=this.initFacetFieldDef(y,X)}return I}initFacetFieldDef(d,
y){d=tg(d,y);d.header?d.header=$b(d.header):null===d.header&&(d.header=null);return d}channelHasField(d){return!!this.facet[d]}fieldDef(d){return this.facet[d]}parseData(){this.component.data=hg(this);this.child.parseData()}parseLayoutSize(){Gg(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const X of ui){var d=void 0,y=X;const {facet:na,
config:ta,child:cb,component:qb}=this;if(this.channelHasField(y)){const vb=na[y];var I=kd("title",null,ta,y);I=Ff(vb,ta,{allowDisabling:!0,includeDefault:void 0===I||!!I});cb.component.layoutHeaders[y].title&&(I=p.isArray(I)?I.join(", "):I,I+=" / ".concat(cb.component.layoutHeaders[y].title),cb.component.layoutHeaders[y].title=null);const Nb=kd("labelOrient",vb.header,ta,y),xc=null!==vb.header?B(null===(d=vb.header)||void 0===d?void 0:d.labels,ta.header.labels,!0):!1;d=g(["bottom","right"],Nb)?"footer":
"header";qb.layoutHeaders[y]={title:null!==vb.header?I:null,facetFieldDef:vb,[d]:"facet"===y?[]:[zg(this,y,xc)]}}}lf(this,"x");lf(this,"y")}assembleSelectionTopLevelSignals(d){return this.child.assembleSelectionTopLevelSignals(d)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(d){return this.child.assembleSelectionData(d)}getHeaderLayoutMixins(){const d={};for(const cb of ui)for(const qb of Sl){const vb=this.component.layoutHeaders[cb];var y=vb[qb],{facetFieldDef:I}=
vb;if(I&&(I=kd("titleOrient",I.header,this.config,cb),["right","bottom"].includes(I))){var X;I=ae(cb,I);null!==(X=d.titleAnchor)&&void 0!==X?X:d.titleAnchor={};d.titleAnchor[I]="end"}if(null!==y&&void 0!==y&&y[0]){y="row"===cb?"height":"width";I="header"===qb?"headerBand":"footerBand";if("facet"!==cb&&!this.child.component.layoutSize.get(y)){var na;null!==(na=d[I])&&void 0!==na?na:d[I]={};d[I][cb]=.5}if(vb.title){var ta;null!==(ta=d.offset)&&void 0!==ta?ta:d.offset={};d.offset["row"===cb?"rowTitle":
"columnTitle"]=10}}}return d}assembleDefaultLayout(){const {column:d,row:y}=this.facet,I=d?this.columnDistinctSignal():y?1:void 0;let X="all";y||"independent"!==this.component.resolve.scale.x?d||"independent"!==this.component.resolve.scale.y||(X="none"):X="none";return Object.assign({},this.getHeaderLayoutMixins(),I?{columns:I}:{},{bounds:"full",align:X})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof xl)){const d=
this.getName("column_domain");return{signal:"length(data('".concat(d,"'))")}}}assembleGroupStyle(){}assembleGroup(d){return this.parent&&this.parent instanceof xl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Id(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(d)):super.assembleGroup(d)}getCardinalityAggregateForChild(){const d=[],y=[],I=[];if(this.child instanceof xl){if(this.child.channelHasField("column")){var X=Id(this.child.facet.column);d.push(X);
y.push("distinct");I.push("distinct_".concat(X))}}else for(X of Wh){var na=this.child.component.scales[X];if(na&&!na.merged){var ta=na.get("type");na=na.get("range");Gd(ta)&&uc(na)&&(ta=Qi(this.child,X),(ta=jj(ta))?(d.push(ta),y.push("distinct"),I.push("distinct_".concat(ta))):lc(nd(X)))}}return{fields:d,ops:y,as:I}}assembleFacet(){const {name:d,data:y}=this.component.data.facetRoot,{row:I,column:X}=this.facet,{fields:na,ops:ta,as:cb}=this.getCardinalityAggregateForChild(),qb=[];for(var vb of ui){var Nb=
this.facet[vb];if(Nb){qb.push(Id(Nb));const {bin:xc,sort:od}=Nb;Ta(xc)&&qb.push(Id(Nb,{binSuffix:"end"}));if(fa(od)){const {field:Pc,op:Ed="min"}=od;Nb=sg(Nb,od);I&&X?(na.push(Nb),ta.push("max")):(na.push(Pc),ta.push(Ed));cb.push(Nb)}else p.isArray(od)&&(Nb=Ld(Nb,vb),na.push(Nb),ta.push("max"),cb.push(Nb))}}vb=!!I&&!!X;return Object.assign({},{name:d,data:y,groupby:qb},vb||0<na.length?{aggregate:Object.assign({},vb?{cross:vb}:{},na.length?{fields:na,ops:ta,as:cb}:{})}:{})}facetSortFields(d){var {facet:y}=
this;return(y=y[d])?fa(y.sort)?[sg(y,y.sort,{expr:"datum"})]:p.isArray(y.sort)?[Ld(y,d,{expr:"datum"})]:[Id(y,{expr:"datum"})]:[]}facetSortOrder(d){const {facet:y}=this;return(d=y[d])?({sort:d}=d,[(fa(d)?d.order:!p.isArray(d)&&d)||"ascending"]):[]}assembleLabelTitle(){const {facet:d,config:y}=this;if(d.facet)return Ne(d.facet,"facet",y);const I={row:["top","bottom"],column:["left","right"]};for(const na of Rl)if(d[na]){var X;const ta=kd("labelOrient",null===(X=d[na])||void 0===X?void 0:X.header,y,
na);if(I[na].includes(ta))return Ne(d[na],na,y)}}assembleMarks(){const {child:d}=this,y=Ee(this.component.data.facetRoot),I=d.assembleGroupEncodeEntry(!1),X=this.assembleLabelTitle()||d.assembleTitle(),na=d.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},X?{title:X}:{},na?{style:na}:{},{from:{facet:this.assembleFacet()},sort:{field:ui.map(ta=>this.facetSortFields(ta)).flat(),order:ui.map(ta=>this.facetSortOrder(ta)).flat()}},0<y.length?{data:y}:{},I?{encode:{update:I}}:
{},d.assembleGroup(Lb(this,[])))]}getMapping(){return this.facet}}class Im extends Wl{constructor(d,y,I,X){var na,ta,cb,qb;super(d,"concat",y,I,X,d.resolve);yb(this,"children",void 0);"shared"!==(null===(na=d.resolve)||void 0===na?void 0:null===(ta=na.axis)||void 0===ta?void 0:ta.x)&&"shared"!==(null===(cb=d.resolve)||void 0===cb?void 0:null===(qb=cb.axis)||void 0===qb?void 0:qb.y)||lc("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");
this.children=this.getChildren(d).map((vb,Nb)=>Qh(vb,this,this.getName("concat_".concat(Nb)),void 0,X))}parseData(){this.component.data=hg(this);for(const d of this.children)d.parseData()}parseSelections(){this.component.selection={};for(const d of this.children){d.parseSelections();for(const y of se(d.component.selection))this.component.selection[y]=d.component.selection[y]}}parseMarkGroup(){for(const d of this.children)d.parseMarkGroup()}parseAxesAndHeaders(){for(const d of this.children)d.parseAxesAndHeaders()}getChildren(d){return"vconcat"in
d?d.vconcat:"hconcat"in d?d.hconcat:d.concat}parseLayoutSize(){Gg(this);const d=void 0===this.layout.columns?"height":"childHeight";cg(this,1===this.layout.columns?"width":"childWidth");cg(this,d)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(d){return this.children.reduce((y,I)=>I.assembleSelectionTopLevelSignals(y),d)}assembleSignals(){this.children.forEach(d=>d.assembleSignals());return[]}assembleLayoutSignals(){const d=Dg(this);for(const y of this.children)d.push(...y.assembleLayoutSignals());
return d}assembleSelectionData(d){return this.children.reduce((y,I)=>I.assembleSelectionData(y),d)}assembleMarks(){return this.children.map(d=>{const y=d.assembleTitle(),I=d.assembleGroupStyle(),X=d.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:d.getName("group")},y?{title:y}:{},I?{style:I}:{},X?{encode:{update:X}}:{},d.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const d=this.layout.columns;return Object.assign({},null!=d?{columns:d}:{},{bounds:"full",
align:"each"})}}const Mm=Object.assign({},{disable:1,gridScale:1,scale:1},Ui,{labelExpr:1,encode:1}),fm=se(Mm);class gm extends Pf{constructor(){let d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},I=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=d;this.implicit=y;this.mainExtracted=I}clone(){return new gm(Vf(this.explicit),Vf(this.implicit),this.mainExtracted)}hasAxisPart(d){if("axis"===d)return!0;
if("grid"===d||"title"===d)return!!this.get(d);d=this.get(d);return!(!1===d||null===d)}hasOrientSignalRef(){return Bc(this.explicit.orient)}}const Nm={bottom:"top",top:"bottom",left:"right",right:"left"},Hm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),wl={arc:{vgMark:"arc",encodeEntry:d=>Object.assign({},Kg(d,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),He("x",d,{defaultPos:"mid"}),He("y",
d,{defaultPos:"mid"}),Cg(d,"radius"),Cg(d,"theta"))},area:{vgMark:"area",encodeEntry:d=>Object.assign({},Kg(d,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),mg("x",d,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===d.markDef.orient}),mg("y",d,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===d.markDef.orient}),Lf(d))},bar:{vgMark:"rect",encodeEntry:d=>Object.assign({},Kg(d,{align:"ignore",baseline:"ignore",color:"include",
orient:"ignore",size:"ignore",theta:"ignore"}),Cg(d,"x"),Cg(d,"y"))},circle:{vgMark:"symbol",encodeEntry:d=>Qj(d,"circle")},geoshape:{vgMark:"shape",encodeEntry:d=>Object.assign({},Kg(d,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:d=>{var {encoding:y}=d;y=y.shape;return[Object.assign({},{type:"geoshape",projection:d.projectionName()},y&&Ec(y)&&"geojson"===y.type?{field:Id(y,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:d=>
Object.assign({},Kg(d,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Cg(d,"x"),Cg(d,"y"),Bd(d,"url"))},line:{vgMark:"line",encodeEntry:d=>Object.assign({},Kg(d,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),He("x",d,{defaultPos:"mid"}),He("y",d,{defaultPos:"mid"}),Ze("size",d,{vgChannel:"strokeWidth"}),Lf(d))},point:{vgMark:"symbol",encodeEntry:d=>Qj(d)},rect:{vgMark:"rect",encodeEntry:d=>Object.assign({},
Kg(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Cg(d,"x"),Cg(d,"y"))},rule:{vgMark:"rule",encodeEntry:d=>{var {markDef:y}=d;y=y.orient;return d.encoding.x||d.encoding.y||d.encoding.latitude||d.encoding.longitude?Object.assign({},Kg(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),mg("x",d,{defaultPos:"horizontal"===y?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==y}),mg("y",d,{defaultPos:"vertical"===
y?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==y}),Ze("size",d,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:d=>Qj(d,"square")},text:{vgMark:"text",encodeEntry:d=>{var {config:y}=d,I=Object,X=I.assign,na=Kg(d,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),ta=He("x",d,{defaultPos:"mid"}),cb=He("y",d,{defaultPos:"mid"}),qb=Bd(d),vb=Ze("size",d,{vgChannel:"fontSize"}),Nb=Ze("angle",d);var xc=void 0===Sc("align",
d.markDef,y)?"center":void 0;xc=xh("align",xc);y=void 0===Sc("baseline",d.markDef,y)?"middle":void 0;return X.call(I,{},na,ta,cb,qb,vb,Nb,xc,xh("baseline",y),He("radius",d,{defaultPos:null}),He("theta",d,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:d=>{const {config:y,markDef:I}=d;var X=I.orient;const na="horizontal"===X?"width":"height";X="horizontal"===X?"height":"width";var ta=Object,cb=ta.assign,qb=Kg(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),
vb=He("x",d,{defaultPos:"mid",vgChannel:"xc"}),Nb=He("y",d,{defaultPos:"mid",vgChannel:"yc"}),xc;{const {config:Pc,markDef:Ed}=d;var {orient:od}=Ed;const Ud="horizontal"===od?"width":"height";od=d.getScaleComponent("horizontal"===od?"x":"y");const pe=null!==(xc=Sc("size",Ed,Pc,{vgChannel:Ud}))&&void 0!==xc?xc:Pc.tick.bandSize;xc=void 0!==pe?pe:(xc=od?od.get("range"):void 0)&&uc(xc)&&p.isNumber(xc.step)?3*xc.step/4:3*ef(Pc.view,Ud)/4}return cb.call(ta,{},qb,vb,Nb,Ze("size",d,{defaultValue:xc,vgChannel:na}),
{[X]:Wb(Sc("thickness",I,y))})}},trail:{vgMark:"trail",encodeEntry:d=>Object.assign({},Kg(d,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),He("x",d,{defaultPos:"mid"}),He("y",d,{defaultPos:"mid"}),Ze("size",d),Lf(d))}};class jm extends nm{constructor(d,y,I){var X;let na=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},ta=4<arguments.length?arguments[4]:void 0;super(d,"unit",y,I,ta,void 0,rd(d)?d.view:void 0);yb(this,"markDef",void 0);yb(this,
"encoding",void 0);yb(this,"specifiedScales",{});yb(this,"stack",void 0);yb(this,"specifiedAxes",{});yb(this,"specifiedLegends",{});yb(this,"specifiedProjection",{});yb(this,"selection",[]);yb(this,"children",[]);const cb=Ib(d.mark)?Object.assign({},d.mark):{type:d.mark},qb=cb.type;void 0===cb.filled&&(cb.filled=Jk(cb,ta,{graticule:d.data&&"graticule"in d.data}));const vb=this.encoding=hc(d.encoding||{},qb,cb.filled,ta);this.markDef=bl(cb,vb,ta);this.size=qk({encoding:vb,size:rd(d)?Object.assign({},
na,d.width?{width:d.width}:{},d.height?{height:d.height}:{}):na});this.stack=Af(qb,vb);this.specifiedScales=this.initScales(qb,vb);this.specifiedAxes=this.initAxes(vb);this.specifiedLegends=this.initLegends(vb);this.specifiedProjection=d.projection;this.selection=(null!==(X=d.params)&&void 0!==X?X:[]).filter(Nb=>Sb(Nb))}get hasProjection(){const {encoding:d}=this,y=this.mark===Ye,I=d&&kl.some(X=>Zd(d[X]));return y||I}scaleDomain(d){return(d=this.specifiedScales[d])?d.domain:void 0}axis(d){return this.specifiedAxes[d]}legend(d){return this.specifiedLegends[d]}initScales(d,
y){return uj.reduce((I,X)=>{const na=Gf(y[X]);if(na){var ta;I[X]=this.initScale(null!==(ta=na.scale)&&void 0!==ta?ta:{})}return I},{})}initScale(d){const {domain:y,range:I}=d;d=$b(d);p.isArray(y)&&(d.domain=y.map(Ab));p.isArray(I)&&(d.range=I.map(Ab));return d}initAxes(d){return Wh.reduce((y,I)=>{var X=d[I];if(Zd(X)||"x"===I&&Zd(d.x2)||"y"===I&&Zd(d.y2))X=Zd(X)?X.axis:void 0,y[I]=X?this.initAxis(Object.assign({},X)):X;return y},{})}initAxis(d){var y=se(d);const I={};for(const X of y)y=d[X],I[X]=Wf(y)?
Hb(y):Ab(y);return I}initLegends(d){return ik.reduce((y,I)=>{var X=Gf(d[I]),na;if(na=X)a:{switch(I){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":na=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":na=!1;break a}na=void 0}na&&(X=X.legend,y[I]=X?$b(X):X);return y},{})}parseData(){this.component.data=hg(this)}parseLayoutSize(){const {size:d,component:y}=this;for(const X of Wh){const na=Pa(X);if(d[na]){var I=d[na];y.layoutSize.set(na,
$c(I)?"step":I,!0)}else I=Lg(this,na),y.layoutSize.set(na,I,!1)}}parseSelections(){var d=this.component,y;{var I=this.selection;const na={},ta=this.config.selection;if(I&&I.length)for(const cb of I){I=G(cb.name);var X=cb.select;const qb=p.isString(X)?X:X.type;X=p.isObject(X)?Vf(X):{type:qb};const vb=ta[qb];for(const Nb in vb)"fields"!==Nb&&"encodings"!==Nb&&("mark"===Nb&&(X[Nb]=Object.assign({},vb[Nb],X[Nb])),void 0===X[Nb]||!0===X[Nb])&&(X[Nb]=null!==(y=vb[Nb])&&void 0!==y?y:X[Nb]);I=na[I]=Object.assign({},
X,{name:I,type:qb,init:cb.value,bind:cb.bind,events:p.isString(X.on)?p.parseSelector(X.on,"scope"):p.array(Vf(X.on))});for(const Nb of ql)Nb.defined(I)&&Nb.parse&&Nb.parse(this,I,cb)}y=na}d.selection=y}parseMarkGroup(){this.component.mark=Oj(this)}parseAxesAndHeaders(){this.component.axes=Kh(this)}assembleSelectionTopLevelSignals(d){return pc(this,d)}assembleSignals(){var d=[...rh(this)];var y=[];for(const X of hi(null!==(I=this.component.selection)&&void 0!==I?I:{})){var I;I=X.name;let na="".concat(I).concat("_tuple",
", ").concat("global"===X.resolve?"true":"{unit: ".concat(di(this),"}"));for(const ta of ql)ta.defined(X)&&(ta.signals&&(y=ta.signals(this,X,y)),ta.modifyExpr&&(na=ta.modifyExpr(this,X,na)));y.push({name:I+"_modify",on:[{events:{signal:X.name+"_tuple"},update:"modify(".concat(p.stringValue(X.name+"_store"),", ").concat(na,")")}]})}y=Ra(y);return[...d,...y]}assembleSelectionData(d){return sc(this,d)}assembleLayout(){return null}assembleLayoutSignals(){return Dg(this)}assembleMarks(){var d;let y=null!==
(d=this.component.mark)&&void 0!==d?d:[];this.parent&&ad(this.parent)||(y=Vc(this,y));return y.map(this.correctDataNames)}assembleGroupStyle(){const {style:d}=this.view||{};if(void 0!==d)return d;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(d){return bh(this.encoding,d)}fieldDef(d){return Sf(this.encoding[d])}typedFieldDef(d){d=this.fieldDef(d);return vd(d)?d:null}}class im extends Wl{constructor(d,y,I,X,na){super(d,
"layer",y,I,na,d.resolve,d.view);yb(this,"children",void 0);const ta=Object.assign({},X,d.width?{width:d.width}:{},d.height?{height:d.height}:{});this.children=d.layer.map((cb,qb)=>{if("layer"in cb)return new im(cb,this,this.getName("layer_".concat(qb)),ta,na);if(Tg(cb))return new jm(cb,this,this.getName("layer_".concat(qb)),ta,na);throw Error(Vb(cb));})}parseData(){this.component.data=hg(this);for(const d of this.children)d.parseData()}parseLayoutSize(){Gg(this);cg(this,"width");cg(this,"height")}parseSelections(){this.component.selection=
{};for(const d of this.children){d.parseSelections();for(const y of se(d.component.selection))this.component.selection[y]=d.component.selection[y]}}parseMarkGroup(){for(const d of this.children)d.parseMarkGroup()}parseAxesAndHeaders(){const {axes:d,resolve:y}=this.component,I={top:0,bottom:0,right:0,left:0};for(var X of this.children){X.parseAxesAndHeaders();for(const ta of se(X.component.axes))y.axis[ta]=Jh(this.component.resolve,ta),"shared"===y.axis[ta]&&(d[ta]=Ph(d[ta],X.component.axes[ta]),d[ta]||
(y.axis[ta]="independent",delete d[ta]))}for(const ta of Wh){for(const cb of this.children)if(cb.component.axes[ta]){if("independent"===y.axis[ta]){var na;d[ta]=(null!==(na=d[ta])&&void 0!==na?na:[]).concat(cb.component.axes[ta]);for(const qb of cb.component.axes[ta]){const {value:vb,explicit:Nb}=qb.getWithExplicit("orient");Bc(vb)||(0<I[vb]&&!Nb&&(X=Nm[vb],I[vb]>I[X]&&qb.set("orient",X,!1)),I[vb]++)}}delete cb.component.axes[ta]}if("independent"===y.axis[ta]&&d[ta]&&1<d[ta].length)for(const cb of d[ta])cb.get("grid")&&
!cb.explicit.grid&&(cb.implicit.grid=!1)}}assembleSelectionTopLevelSignals(d){return this.children.reduce((y,I)=>I.assembleSelectionTopLevelSignals(y),d)}assembleSignals(){return this.children.reduce((d,y)=>d.concat(y.assembleSignals()),rh(this))}assembleLayoutSignals(){return this.children.reduce((d,y)=>d.concat(y.assembleLayoutSignals()),Dg(this))}assembleSelectionData(d){return this.children.reduce((y,I)=>I.assembleSelectionData(y),d)}assembleGroupStyle(){var d=new Set;for(const y of this.children)for(const I of p.array(y.assembleGroupStyle()))d.add(I);
d=Array.from(d);return 1<d.length?d:1===d.length?d[0]:void 0}assembleTitle(){let d=super.assembleTitle();if(d)return d;for(const y of this.children)if(d=y.assembleTitle())return d}assembleLayout(){return null}assembleMarks(){return pa(this,this.children.flatMap(d=>d.assembleMarks()))}assembleLegends(){return this.children.reduce((d,y)=>d.concat(y.assembleLegends()),mh(this))}}k.accessPathDepth=C;k.accessPathWithDatum=M;k.compile=function(d){let y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{};y.logger&&(zj=y.logger);y.fieldTitle&&(Ej=y.fieldTitle);try{const xc=ag(p.mergeConfig(y.config,d.config)),od=ai(d,xc),Pc=Qh(od,null,"",void 0,xc);Pc.parse();var I=Pc.component.data,X=Pc;Dh(I.sources);let Ed=0,Ud=0;for(var na=0;5>na&&Fi(I,X,!0);na++)Ed++;I.sources.map(Pi);for(na=0;5>na&&Fi(I,X,!1);na++)Ud++;Dh(I.sources);5===Math.max(Ed,Ud)&&lc("Maximum optimization runs(".concat(5,") reached."));var ta=od.autosize;I=xc;X=Pc;const pe=X.component.layoutSize.get("width"),Ie=X.component.layoutSize.get("height");
void 0===ta?(ta={type:"pad"},X.hasAxisOrientSignalRef()&&(ta.resize=!0)):p.isString(ta)&&(ta={type:ta});var cb;if(cb=pe&&Ie){var qb=ta.type;cb="fit"===qb||"fit-x"===qb||"fit-y"===qb}if(cb)if("step"===pe&&"step"===Ie)lc(dd()),ta.type="pad";else if("step"===pe||"step"===Ie){qb="step"===pe?"width":"height";lc(dd(Ua(qb)));cb=ta;var vb=(qb="width"===qb?"height":"width","fit-".concat(Ua(qb)));cb.type=vb}var Nb=Object.assign({},1===se(ta).length&&ta.type?"pad"===ta.type?{}:{autosize:ta.type}:{autosize:ta},
Je(I,!1),Je(d,!0));return{spec:pi(Pc,Nb,d.datasets,d.usermeta),normalized:od}}finally{y.logger&&(zj=Th),y.fieldTitle&&(Ej=Hk)}};k.contains=g;k.deepEqual=gi;k.deleteNestedProperty=R;k.duplicate=Vf;k.entries=kj;k.every=h;k.fieldIntersection=D;k.flatAccessWithDatum=ba;k.getFirstDefined=B;k.hasIntersection=F;k.hash=c;k.internalField=Y;k.isBoolean=z;k.isEmpty=r;k.isEqual=function(d,y){const I=se(d),X=se(y);if(I.length!==X.length)return!1;for(const na of I)if(d[na]!==y[na])return!1;return!0};k.isInternalField=
Aa;k.isNullOrFalse=e;k.isNumeric=la;k.keys=se;k.logicalExpr=T;k.mergeDeep=x;k.never=m;k.normalize=ai;k.normalizeAngle=sa;k.omit=b;k.pick=f;k.prefixGenerator=J;k.removePathFromField=aa;k.replaceAll=La;k.replacePathInField=ea;k.resetIdCounter=function(){Kk=42};k.setEqual=H;k.some=n;k.stringify=hh;k.titleCase=ca;k.unique=O;k.uniqueId=N;k.vals=hi;k.varName=G;k.version="5.2.0";Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ka,L,sb,A){function w(){throw Error("setTimeout has not been defined");}function k(){throw Error("clearTimeout has not been defined");}function p(O){if(c===setTimeout)return setTimeout(O,0);if((c===w||!c)&&setTimeout)return c=setTimeout,setTimeout(O,0);try{return c(O,0)}catch(H){try{return c.call(null,O,0)}catch(F){return c.call(this,O,0)}}}function q(O){if(e===clearTimeout)return clearTimeout(O);if((e===k||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(O);try{return e(O)}catch(H){try{return e.call(null,
O)}catch(F){return e.call(this,O)}}}function t(){n&&h&&(n=!1,h.length?g=h.concat(g):x=-1,g.length&&m())}function m(){if(!n){var O=p(t);n=!0;for(var H=g.length;H;){h=g;for(g=[];++x<H;)h&&h[x].run();x=-1;H=g.length}h=null;n=!1;q(O)}}function f(O,H){this.fun=O;this.array=H}function b(){}Ka=sb.exports={};try{var c="function"===typeof setTimeout?setTimeout:w}catch(O){c=w}try{var e="function"===typeof clearTimeout?clearTimeout:k}catch(O){e=k}var g=[],n=!1,h,x=-1;Ka.nextTick=function(O){var H=Array(arguments.length-
1);if(1<arguments.length)for(var F=1;F<arguments.length;F++)H[F-1]=arguments[F];g.push(new f(O,H));1!==g.length||n||p(m)};f.prototype.run=function(){this.fun.apply(null,this.array)};Ka.title="browser";Ka.browser=!0;Ka.env={};Ka.argv=[];Ka.version="";Ka.versions={};Ka.on=b;Ka.addListener=b;Ka.once=b;Ka.off=b;Ka.removeListener=b;Ka.removeAllListeners=b;Ka.emit=b;Ka.prependListener=b;Ka.prependOnceListener=b;Ka.listeners=function(O){return[]};Ka.binding=function(O){throw Error("process.binding is not supported");
};Ka.cwd=function(){return"/"};Ka.chdir=function(O){throw Error("process.chdir is not supported");};Ka.umask=function(){return 0}};
shadow$provide[50]=function(Ka,L,sb,A){var w=L(49);(function(k,p){"object"===typeof A&&"undefined"!==typeof sb?sb.exports=p(L(47),L(48)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,k.vegaEmbed=p(k.vega,k.vegaLite))})(this,function(k,p){function q(xa){if(xa&&xa.__esModule)return xa;var Xa=Object.create(null);xa&&Object.keys(xa).forEach(function(zb){if("default"!==zb){var Xb=Object.getOwnPropertyDescriptor(xa,zb);Object.defineProperty(Xa,
zb,Xb.get?Xb:{enumerable:!0,get:function(){return xa[zb]}})}});Xa["default"]=xa;return Object.freeze(Xa)}function t(xa){if(Array.isArray(xa)){xa=Array(xa.length);for(var Xa=0;Xa<xa.length;Xa++)xa[Xa]=""+Xa;return xa}if(Object.keys)return Object.keys(xa);Xa=[];for(var zb in xa)Fa.call(xa,zb)&&Xa.push(zb);return Xa}function m(xa){switch(typeof xa){case "object":return JSON.parse(JSON.stringify(xa));case "undefined":return null;default:return xa}}function f(xa){for(var Xa=0,zb=xa.length,Xb;Xa<zb;)if(Xb=
xa.charCodeAt(Xa),48<=Xb&&57>=Xb)Xa++;else return!1;return!0}function b(xa){return-1===xa.indexOf("/")&&-1===xa.indexOf("~")?xa:xa.replace(/~/g,"~0").replace(/\//g,"~1")}function c(xa){return xa.replace(/~1/g,"/").replace(/~0/g,"~")}function e(xa){if(void 0===xa)return!0;if(xa)if(Array.isArray(xa))for(var Xa=0,zb=xa.length;Xa<zb;Xa++){if(e(xa[Xa]))return!0}else if("object"===typeof xa){Xa=t(xa);zb=Xa.length;for(var Xb=0;Xb<zb;Xb++)if(e(xa[Xa[Xb]]))return!0}return!1}function g(xa,Xa){xa=[xa];for(var zb in Xa){var Xb=
"object"===typeof Xa[zb]?JSON.stringify(Xa[zb],null,2):Xa[zb];"undefined"!==typeof Xb&&xa.push(zb+": "+Xb)}return xa.join("\n")}function n(xa,Xa){if(""==Xa)return xa;Xa={op:"_get",path:Xa};h(xa,Xa);return Xa.value}function h(xa,Xa,zb,Xb,tc,gd){void 0===zb&&(zb=!1);void 0===Xb&&(Xb=!0);void 0===tc&&(tc=!0);void 0===gd&&(gd=0);zb&&("function"==typeof zb?zb(Xa,0,xa,Xa.path):O(Xa,0));if(""===Xa.path){tc={newDocument:xa};if("add"===Xa.op)return tc.newDocument=Xa.value,tc;if("replace"===Xa.op)return tc.newDocument=
Xa.value,tc.removed=xa,tc;if("move"===Xa.op||"copy"===Xa.op)return tc.newDocument=n(xa,Xa.from),"move"===Xa.op&&(tc.removed=xa),tc;if("test"===Xa.op){tc.test=F(xa,Xa.value);if(!1===tc.test)throw new qa("Test operation failed","TEST_OPERATION_FAILED",gd,Xa,xa);tc.newDocument=xa;return tc}if("remove"===Xa.op)return tc.removed=xa,tc.newDocument=null,tc;if("_get"===Xa.op)return Xa.value=xa,tc;if(zb)throw new qa("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
gd,Xa,xa);return tc}Xb||(xa=m(xa));Xb=(Xa.path||"").split("/");var qc=xa,rb=1,Bb=Xb.length,ic=void 0,Uc,Rd;for(Rd="function"==typeof zb?zb:O;;){(Uc=Xb[rb])&&-1!=Uc.indexOf("~")&&(Uc=c(Uc));if(tc&&("__proto__"==Uc||"prototype"==Uc&&0<rb&&"constructor"==Xb[rb-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");
zb&&void 0===ic&&(void 0===qc[Uc]?ic=Xb.slice(0,rb).join("/"):rb==Bb-1&&(ic=Xa.path),void 0!==ic&&Rd(Xa,0,xa,ic));rb++;if(Array.isArray(qc)){if("-"===Uc)Uc=qc.length;else{if(zb&&!f(Uc))throw new qa("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",gd,Xa,xa);f(Uc)&&(Uc=~~Uc)}if(rb>=Bb){if(zb&&"add"===Xa.op&&Uc>qc.length)throw new qa("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",gd,Xa,xa);tc=oa[Xa.op].call(Xa,qc,Uc,xa);if(!1===tc.test)throw new qa("Test operation failed","TEST_OPERATION_FAILED",gd,Xa,xa);return tc}}else if(rb>=Bb){tc=ya[Xa.op].call(Xa,qc,Uc,xa);if(!1===tc.test)throw new qa("Test operation failed","TEST_OPERATION_FAILED",gd,Xa,xa);return tc}qc=qc[Uc];if(zb&&rb<Bb&&(!qc||"object"!==typeof qc))throw new qa("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",gd,Xa,xa);}}function x(xa,Xa,zb,Xb,tc){void 0===
Xb&&(Xb=!0);void 0===tc&&(tc=!0);if(zb&&!Array.isArray(Xa))throw new qa("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Xb||(xa=m(xa));Xb=Array(Xa.length);for(var gd=0,qc=Xa.length;gd<qc;gd++)Xb[gd]=h(xa,Xa[gd],zb,!0,tc,gd),xa=Xb[gd].newDocument;Xb.newDocument=xa;return Xb}function O(xa,Xa,zb,Xb){if("object"!==typeof xa||null===xa||Array.isArray(xa))throw new qa("Operation is not an object","OPERATION_NOT_AN_OBJECT",Xa,xa,zb);if(ya[xa.op]){if("string"!==typeof xa.path)throw new qa("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",Xa,xa,zb);if(0!==xa.path.indexOf("/")&&0<xa.path.length)throw new qa('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",Xa,xa,zb);if("move"!==xa.op&&"copy"!==xa.op||"string"===typeof xa.from)if("add"!==xa.op&&"replace"!==xa.op&&"test"!==xa.op||void 0!==xa.value){if(("add"===xa.op||"replace"===xa.op||"test"===xa.op)&&e(xa.value))throw new qa("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
Xa,xa,zb);if(zb)if("add"==xa.op){var tc=xa.path.split("/").length;Xb=Xb.split("/").length;if(tc!==Xb+1&&tc!==Xb)throw new qa("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",Xa,xa,zb);}else if("replace"===xa.op||"remove"===xa.op||"_get"===xa.op){if(xa.path!==Xb)throw new qa("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Xa,xa,zb);}else if(("move"===xa.op||"copy"===xa.op)&&(tc=H([{op:"_get",path:xa.from,value:void 0}],zb))&&
"OPERATION_PATH_UNRESOLVABLE"===tc.name)throw new qa("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Xa,xa,zb);}else throw new qa("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",Xa,xa,zb);else throw new qa("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Xa,xa,zb);}else throw new qa("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",Xa,xa,zb);}function H(xa,Xa,zb){try{if(!Array.isArray(xa))throw new qa("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Xa)x(m(Xa),m(xa),zb||!0);else{zb=zb||O;for(var Xb=0;Xb<xa.length;Xb++)zb(xa[Xb],Xb,Xa,void 0)}}catch(tc){if(tc instanceof qa)return tc;throw tc;}}function F(xa,Xa){if(xa===Xa)return!0;if(xa&&Xa&&"object"==typeof xa&&"object"==typeof Xa){var zb=Array.isArray(xa),Xb=Array.isArray(Xa);if(zb&&Xb){var tc=xa.length;if(tc!=Xa.length)return!1;for(zb=tc;0!==
zb--;)if(!F(xa[zb],Xa[zb]))return!1;return!0}if(zb!=Xb)return!1;Xb=Object.keys(xa);tc=Xb.length;if(tc!==Object.keys(Xa).length)return!1;for(zb=tc;0!==zb--;)if(!Xa.hasOwnProperty(Xb[zb]))return!1;for(zb=tc;0!==zb--;)if(tc=Xb[zb],!F(xa[tc],Xa[tc]))return!1;return!0}return xa!==xa&&Xa!==Xa}function J(xa,Xa){void 0===Xa&&(Xa=!1);var zb=Ua.get(xa.object);D(zb.value,xa.object,xa.patches,"",Xa);xa.patches.length&&x(zb.value,xa.patches);Xa=xa.patches;0<Xa.length&&(xa.patches=[],xa.callback&&xa.callback(Xa));
return Xa}function D(xa,Xa,zb,Xb,tc){if(Xa!==xa){"function"===typeof Xa.toJSON&&(Xa=Xa.toJSON());for(var gd=t(Xa),qc=t(xa),rb=!1,Bb=qc.length-1;0<=Bb;Bb--){var ic=qc[Bb],Uc=xa[ic];if(!Fa.call(Xa,ic)||void 0===Xa[ic]&&void 0!==Uc&&!1===Array.isArray(Xa))Array.isArray(xa)===Array.isArray(Xa)?(tc&&zb.push({op:"test",path:Xb+"/"+b(ic),value:m(Uc)}),zb.push({op:"remove",path:Xb+"/"+b(ic)}),rb=!0):(tc&&zb.push({op:"test",path:Xb,value:xa}),zb.push({op:"replace",path:Xb,value:Xa}));else{var Rd=Xa[ic];"object"==
typeof Uc&&null!=Uc&&"object"==typeof Rd&&null!=Rd&&Array.isArray(Uc)===Array.isArray(Rd)?D(Uc,Rd,zb,Xb+"/"+b(ic),tc):Uc!==Rd&&(tc&&zb.push({op:"test",path:Xb+"/"+b(ic),value:m(Uc)}),zb.push({op:"replace",path:Xb+"/"+b(ic),value:m(Rd)}))}}if(rb||gd.length!=qc.length)for(Bb=0;Bb<gd.length;Bb++)ic=gd[Bb],Fa.call(xa,ic)||void 0===Xa[ic]||zb.push({op:"add",path:Xb+"/"+b(ic),value:m(Xa[ic])})}}function r(xa){var Xa=this;Xa instanceof r||(Xa=new r);Xa.tail=null;Xa.head=null;Xa.length=0;if(xa&&"function"===
typeof xa.forEach)xa.forEach(function(tc){Xa.push(tc)});else if(0<arguments.length)for(var zb=0,Xb=arguments.length;zb<Xb;zb++)Xa.push(arguments[zb]);return Xa}function z(xa,Xa,zb,Xb){if(!(this instanceof z))return new z(xa,Xa,zb,Xb);this.list=Xb;this.value=xa;Xa?(Xa.next=this,this.prev=Xa):this.prev=null;zb?(zb.prev=this,this.next=zb):this.next=null}function G(){if(le)return ge;le=1;const xa=Symbol("SemVer ANY");class Xa{static get ANY(){return xa}constructor(ic,Uc){Uc=zb(Uc);if(ic instanceof Xa){if(ic.loose===
!!Uc.loose)return ic;ic=ic.value}qc("comparator",ic,Uc);this.options=Uc;this.loose=!!Uc.loose;this.parse(ic);this.value=this.semver===xa?"":this.operator+this.semver.version;qc("comp",this)}parse(ic){const Uc=ic.match(this.options.loose?Xb[tc.COMPARATORLOOSE]:Xb[tc.COMPARATOR]);if(!Uc)throw new TypeError("Invalid comparator: ".concat(ic));this.operator=void 0!==Uc[1]?Uc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Uc[2]?new rb(Uc[2],this.options.loose):xa}toString(){return this.value}test(ic){qc("Comparator.test",
ic,this.options.loose);if(this.semver===xa||ic===xa)return!0;if("string"===typeof ic)try{ic=new rb(ic,this.options)}catch(Uc){return!1}return gd(ic,this.operator,this.semver,this.options)}intersects(ic,Uc){if(!(ic instanceof Xa))throw new TypeError("a Comparator is required");Uc&&"object"===typeof Uc||(Uc={loose:!!Uc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Bb(ic.value,Uc)).test(this.value);if(""===ic.operator)return""===ic.value?!0:(new Bb(this.value,Uc)).test(ic.semver);
const Rd=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===ic.operator||"\x3e"===ic.operator),Md=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===ic.operator||"\x3c"===ic.operator),Gd=this.semver.version===ic.semver.version,Pd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===ic.operator||"\x3c\x3d"===ic.operator),Me=gd(this.semver,"\x3c",ic.semver,Uc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===ic.operator||"\x3c"===
ic.operator);ic=gd(this.semver,"\x3e",ic.semver,Uc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===ic.operator||"\x3e"===ic.operator);return Rd||Md||Gd&&Pd||Me||ic}}ge=Xa;const zb=Sc,{re:Xb,t:tc}=jd.exports,gd=Xd,qc=Ba,rb=nd,Bb=T();return ge}function T(){if(wd)return qe;wd=1;class xa{constructor(Ib,Yb){Yb=zb(Yb);if(Ib instanceof xa)return Ib.loose===!!Yb.loose&&Ib.includePrerelease===!!Yb.includePrerelease?Ib:new xa(Ib.raw,Yb);if(Ib instanceof Xb)return this.raw=Ib.value,this.set=
[[Ib]],this.format(),this;this.options=Yb;this.loose=!!Yb.loose;this.includePrerelease=!!Yb.includePrerelease;this.raw=Ib;this.set=Ib.split("||").map(kc=>this.parseRange(kc.trim())).filter(kc=>kc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(Ib));if(1<this.set.length)if(Ib=this.set[0],this.set=this.set.filter(kc=>"\x3c0.0.0-0"!==kc[0].value),0===this.set.length)this.set=[Ib];else if(1<this.set.length)for(const kc of this.set)if(1===kc.length&&""===kc[0].value){this.set=
[kc];break}this.format()}format(){return this.range=this.set.map(Ib=>Ib.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(Ib){Ib=Ib.trim();var Yb=Object.keys(this.options).join(",");Yb="parseRange:".concat(Yb,":").concat(Ib);var kc=Xa.get(Yb);if(kc)return kc;kc=this.options.loose;Ib=Ib.replace(kc?qc[rb.HYPHENRANGELOOSE]:qc[rb.HYPHENRANGE],Ea(this.options.includePrerelease));tc("hyphen replace",Ib);Ib=Ib.replace(qc[rb.COMPARATORTRIM],Bb);tc("comparator trim",Ib);Ib=Ib.replace(qc[rb.TILDETRIM],
ic);Ib=Ib.replace(qc[rb.CARETTRIM],Uc);Ib=Ib.split(/\s+/).join(" ");Ib=Ib.split(" ").map(Jc=>{var pd=Jc;Jc=this.options;tc("comp",pd,Jc);pd=Me(pd,Jc);tc("caret",pd);pd=Gd(pd,Jc);tc("tildes",pd);pd=ha(pd,Jc);tc("xrange",pd);tc("replaceStars",pd,Jc);pd=pd.trim().replace(qc[rb.STAR],"");tc("stars",pd);return pd}).join(" ").split(/\s+/).map(Jc=>{var pd=this.options;tc("replaceGTE0",Jc,pd);return Jc.trim().replace(qc[pd.includePrerelease?rb.GTE0PRE:rb.GTE0],"")});kc&&(Ib=Ib.filter(Jc=>{tc("loose invalid filter",
Jc,this.options);return!!Jc.match(qc[rb.COMPARATORLOOSE])}));tc("range list",Ib);kc=new Map;Ib=Ib.map(Jc=>new Xb(Jc,this.options));for(var Nc of Ib){if("\x3c0.0.0-0"===Nc.value)return[Nc];kc.set(Nc.value,Nc)}1<kc.size&&kc.has("")&&kc.delete("");Nc=[...kc.values()];Xa.set(Yb,Nc);return Nc}intersects(Ib,Yb){if(!(Ib instanceof xa))throw new TypeError("a Range is required");return this.set.some(kc=>Rd(kc,Yb)&&Ib.set.some(Nc=>Rd(Nc,Yb)&&kc.every(Jc=>Nc.every(pd=>Jc.intersects(pd,Yb)))))}test(Ib){if(!Ib)return!1;
if("string"===typeof Ib)try{Ib=new gd(Ib,this.options)}catch(pd){return!1}for(let pd=0;pd<this.set.length;pd++){a:{var Yb=this.set[pd];var kc=Ib,Nc=this.options;for(var Jc=0;Jc<Yb.length;Jc++)if(!Yb[Jc].test(kc)){Yb=!1;break a}if(kc.prerelease.length&&!Nc.includePrerelease){for(Nc=0;Nc<Yb.length;Nc++)if(tc(Yb[Nc].semver),Yb[Nc].semver!==Xb.ANY&&0<Yb[Nc].semver.prerelease.length&&(Jc=Yb[Nc].semver,Jc.major===kc.major&&Jc.minor===kc.minor&&Jc.patch===kc.patch)){Yb=!0;break a}Yb=!1}else Yb=!0}if(Yb)return!0}return!1}}
qe=xa;const Xa=new Kc({max:1E3}),zb=Sc,Xb=G(),tc=Ba,gd=nd,{re:qc,t:rb,comparatorTrimReplace:Bb,tildeTrimReplace:ic,caretTrimReplace:Uc}=jd.exports,Rd=(Ib,Yb)=>{let kc=!0;Ib=Ib.slice();let Nc=Ib.pop();for(;kc&&Ib.length;)kc=Ib.every(Jc=>Nc.intersects(Jc,Yb)),Nc=Ib.pop();return kc},Md=Ib=>!Ib||"x"===Ib.toLowerCase()||"*"===Ib,Gd=(Ib,Yb)=>Ib.trim().split(/\s+/).map(kc=>Pd(kc,Yb)).join(" "),Pd=(Ib,Yb)=>Ib.replace(Yb.loose?qc[rb.TILDELOOSE]:qc[rb.TILDE],(kc,Nc,Jc,pd,qd)=>{tc("tilde",Ib,kc,Nc,Jc,pd,qd);
Md(Nc)?kc="":Md(Jc)?kc="\x3e\x3d".concat(Nc,".0.0 \x3c").concat(+Nc+1,".0.0-0"):Md(pd)?kc="\x3e\x3d".concat(Nc,".").concat(Jc,".0 \x3c").concat(Nc,".").concat(+Jc+1,".0-0"):qd?(tc("replaceTilde pr",qd),kc="\x3e\x3d".concat(Nc,".").concat(Jc,".").concat(pd,"-").concat(qd," \x3c").concat(Nc,".").concat(+Jc+1,".0-0")):kc="\x3e\x3d".concat(Nc,".").concat(Jc,".").concat(pd," \x3c").concat(Nc,".").concat(+Jc+1,".0-0");tc("tilde return",kc);return kc}),Me=(Ib,Yb)=>Ib.trim().split(/\s+/).map(kc=>Se(kc,Yb)).join(" "),
Se=(Ib,Yb)=>{tc("caret",Ib,Yb);const kc=Yb.includePrerelease?"-0":"";return Ib.replace(Yb.loose?qc[rb.CARETLOOSE]:qc[rb.CARET],(Nc,Jc,pd,qd,Yd)=>{tc("caret",Ib,Nc,Jc,pd,qd,Yd);Md(Jc)?Nc="":Md(pd)?Nc="\x3e\x3d".concat(Jc,".0.0").concat(kc," \x3c").concat(+Jc+1,".0.0-0"):Md(qd)?Nc="0"===Jc?"\x3e\x3d".concat(Jc,".").concat(pd,".0").concat(kc," \x3c").concat(Jc,".").concat(+pd+1,".0-0"):"\x3e\x3d".concat(Jc,".").concat(pd,".0").concat(kc," \x3c").concat(+Jc+1,".0.0-0"):Yd?(tc("replaceCaret pr",Yd),Nc=
"0"===Jc?"0"===pd?"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd,"-").concat(Yd," \x3c").concat(Jc,".").concat(pd,".").concat(+qd+1,"-0"):"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd,"-").concat(Yd," \x3c").concat(Jc,".").concat(+pd+1,".0-0"):"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd,"-").concat(Yd," \x3c").concat(+Jc+1,".0.0-0")):(tc("no pr"),Nc="0"===Jc?"0"===pd?"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd).concat(kc," \x3c").concat(Jc,".").concat(pd,".").concat(+qd+1,"-0"):
"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd).concat(kc," \x3c").concat(Jc,".").concat(+pd+1,".0-0"):"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd," \x3c").concat(+Jc+1,".0.0-0"));tc("caret return",Nc);return Nc})},ha=(Ib,Yb)=>{tc("replaceXRanges",Ib,Yb);return Ib.split(/\s+/).map(kc=>ob(kc,Yb)).join(" ")},ob=(Ib,Yb)=>{Ib=Ib.trim();return Ib.replace(Yb.loose?qc[rb.XRANGELOOSE]:qc[rb.XRANGE],(kc,Nc,Jc,pd,qd,Yd)=>{tc("xRange",Ib,kc,Nc,Jc,pd,qd,Yd);const Od=Md(Jc),Jd=Od||Md(pd);qd=Jd||Md(qd);
"\x3d"===Nc&&qd&&(Nc="");Yd=Yb.includePrerelease?"-0":"";Od?kc="\x3e"===Nc||"\x3c"===Nc?"\x3c0.0.0-0":"*":Nc&&qd?(Jd&&(pd=0),qd=0,"\x3e"===Nc?(Nc="\x3e\x3d",Jd?(Jc=+Jc+1,pd=0):pd=+pd+1,qd=0):"\x3c\x3d"===Nc&&(Nc="\x3c",Jd?Jc=+Jc+1:pd=+pd+1),"\x3c"===Nc&&(Yd="-0"),kc="".concat(Nc+Jc,".").concat(pd,".").concat(qd).concat(Yd)):Jd?kc="\x3e\x3d".concat(Jc,".0.0").concat(Yd," \x3c").concat(+Jc+1,".0.0-0"):qd&&(kc="\x3e\x3d".concat(Jc,".").concat(pd,".0").concat(Yd," \x3c").concat(Jc,".").concat(+pd+1,".0-0"));
tc("xRange return",kc);return kc})},Ea=Ib=>(Yb,kc,Nc,Jc,pd,qd,Yd,Od,Jd,ed,td,wc,Rc)=>{kc=Md(Nc)?"":Md(Jc)?"\x3e\x3d".concat(Nc,".0.0").concat(Ib?"-0":""):Md(pd)?"\x3e\x3d".concat(Nc,".").concat(Jc,".0").concat(Ib?"-0":""):qd?"\x3e\x3d".concat(kc):"\x3e\x3d".concat(kc).concat(Ib?"-0":"");Od=Md(Jd)?"":Md(ed)?"\x3c".concat(+Jd+1,".0.0-0"):Md(td)?"\x3c".concat(Jd,".").concat(+ed+1,".0-0"):wc?"\x3c\x3d".concat(Jd,".").concat(ed,".").concat(td,"-").concat(wc):Ib?"\x3c".concat(Jd,".").concat(ed,".").concat(+td+
1,"-0"):"\x3c\x3d".concat(Od);return"".concat(kc," ").concat(Od).trim()};return qe}function R(xa,Xa,zb,Xb,tc,gd){const qc=rb=>nc[rb.type](qc,rb);qc.memberDepth=0;qc.fn=Object.create(Xa);qc.params=zb;qc.datum=Xb;qc.event=tc;qc.item=gd;fc.forEach(rb=>qc.fn[rb]=function(){return tc.vega[rb](...arguments)});return qc(xa)}function ca(xa){const [Xa,zb]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(xa).slice(1,3);return{library:Xa,version:zb}}function M(xa,Xa,zb){xa.fields=Xa||[];xa.fname=zb;return xa}function ba(xa){return 1===
xa.length?sd(xa[0]):Hd(xa)}function W(xa){function Xa(){zb.push(qc+xa.substring(rb,Bb));qc="";rb=Bb+1}const zb=[],Xb=xa.length;let tc=null,gd=0,qc="",rb,Bb,ic;xa+="";for(rb=Bb=0;Bb<Xb;++Bb)if(ic=xa[Bb],"\\"===ic)qc+=xa.substring(rb,Bb),qc+=xa.substring(++Bb,++Bb),rb=Bb;else if(ic===tc)Xa(),tc=null,gd=-1;else if(!tc)if(rb===gd&&'"'===ic)rb=Bb+1,tc=ic;else if(rb===gd&&"'"===ic)rb=Bb+1,tc=ic;else if("."===ic&&!gd)Bb>rb?Xa():rb=Bb+1;else if("["===ic)Bb>rb&&Xa(),gd=rb=Bb+1;else if("]"===ic){if(!gd)throw Error("Access path missing open bracket: "+
xa);0<gd&&Xa();gd=0;rb=Bb+1}if(gd)throw Error("Access path missing closing bracket: "+xa);if(tc)throw Error("Access path missing closing quote: "+xa);Bb>rb&&(Bb++,Xa());return zb}function ea(xa,Xa){var zb={},Xb;for(Xb in xa)Object.prototype.hasOwnProperty.call(xa,Xb)&&0>Xa.indexOf(Xb)&&(zb[Xb]=xa[Xb]);if(null!=xa&&"function"===typeof Object.getOwnPropertySymbols){var tc=0;for(Xb=Object.getOwnPropertySymbols(xa);tc<Xb.length;tc++)0>Xa.indexOf(Xb[tc])&&Object.prototype.propertyIsEnumerable.call(xa,
Xb[tc])&&(zb[Xb[tc]]=xa[Xb[tc]])}return zb}function La(xa){const Xa=[];return function(zb,Xb){if("object"!==typeof Xb||null===Xb)return Xb;zb=Xa.indexOf(this)+1;Xa.length=zb;if(Xa.length>xa)return"[Object]";if(0<=Xa.indexOf(Xb))return"[Circular]";Xa.push(Xb);return Xb}}function aa(xa,Xa,zb){function Xb(Bb){Bb.source===gd&&(rb=0,xa.removeEventListener("message",Xb,!1))}function tc(){0>=rb||(gd.postMessage(zb,qc),setTimeout(tc,250),--rb)}const gd=xa.open(Xa),{origin:qc}=new URL(Xa);let rb=40;xa.addEventListener("message",
Xb,!1);setTimeout(tc,250)}function C(xa){for(var Xa=arguments.length,zb=Array(1<Xa?Xa-1:0),Xb=1;Xb<Xa;Xb++)zb[Xb-1]=arguments[Xb];for(const tc of zb){Xa=xa;zb=tc;for(const gd of Object.keys(zb))k.writeConfig(Xa,gd,zb[gd],!0)}return xa}function B(xa,Xa,zb,Xb){Xa="\x3chtml\x3e\x3chead\x3e".concat(Xa,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');zb="\x3c/code\x3e\x3c/pre\x3e".concat(zb,"\x3c/body\x3e\x3c/html\x3e");const tc=window.open("");tc.document.write(Xa+xa+zb);tc.document.title=
"".concat(Qb[Xb]," JSON Source")}function N(xa,Xa){if(xa.$schema){xa=ca(xa.$schema);if(Xa&&Xa!==xa.library){var zb;console.warn("The given visualization spec is written in ".concat(Qb[xa.library],", but mode argument sets ").concat(null!==(zb=Qb[Xa])&&void 0!==zb?zb:Xa,"."))}Xa=xa.library;gf(rc[Xa],"^".concat(xa.version.slice(1)))||console.warn("The input spec uses ".concat(Qb[Xa]," ").concat(xa.version,", but the current version of ").concat(Qb[Xa]," is v").concat(rc[Xa],"."));return Xa}return"mark"in
xa||"encoding"in xa||"layer"in xa||"hconcat"in xa||"vconcat"in xa||"facet"in xa||"repeat"in xa?"vega-lite":"marks"in xa||"signals"in xa||"scales"in xa||"axes"in xa?"vega":null!==Xa&&void 0!==Xa?Xa:"vega"}function Y(xa){return xa&&"load"in xa?xa:re.loader(xa)}function Aa(xa,Xa){const zb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Xb,tc,gd=2<zb.length&&void 0!==zb[2]?zb[2]:{};let qc,rb;k.isString(Xa)?(rb=Y(gd.loader),qc=JSON.parse(yield rb.load(Xa))):qc=Xa;var Bb,ic,
Uc=null!==(Bb=null===(ic=qc.usermeta)||void 0===ic?void 0:ic.embedOptions)&&void 0!==Bb?Bb:{};k.isString(Uc.defaultStyle)&&(Uc.defaultStyle=!1);Bb=Uc.loader;if(!rb||Bb){var Rd;rb=Y(null!==(Rd=gd.loader)&&void 0!==Rd?Rd:Bb)}Uc=yield sa(Uc,rb);gd=yield sa(gd,rb);gd=Object.assign({},C(gd,Uc),{config:k.mergeConfig(null!==(Xb=gd.config)&&void 0!==Xb?Xb:{},null!==(tc=Uc.config)&&void 0!==tc?tc:{})});return yield Ia(xa,qc,gd,rb)})}function sa(xa,Xa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var zb;
const Xb=k.isString(xa.config)?JSON.parse(yield Xa.load(xa.config)):null!==(zb=xa.config)&&void 0!==zb?zb:{};zb=k.isString(xa.patch)?JSON.parse(yield Xa.load(xa.patch)):xa.patch;return Object.assign({},xa,zb?{patch:zb}:{},Xb?{config:Xb}:{})})}function la(xa){var Xa;xa=xa.getRootNode?xa.getRootNode():document;return xa instanceof ShadowRoot?{root:xa,rootContainer:xa}:{root:document,rootContainer:null!==(Xa=document.head)&&void 0!==Xa?Xa:document.body}}function Ia(xa,Xa){const zb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Xb,
tc,gd,qc,rb,Bb,ic;let Uc=2<zb.length&&void 0!==zb[2]?zb[2]:{};var Rd=3<zb.length?zb[3]:void 0;const Md=Uc.theme?k.mergeConfig(ld[Uc.theme],null!==(Xb=Uc.config)&&void 0!==Xb?Xb:{}):Uc.config;Xb=k.isBoolean(Uc.actions)?Uc.actions:C({},Re,null!==(tc=Uc.actions)&&void 0!==tc?tc:{});tc=Object.assign({},af,Uc.i18n);const Gd=null!==(gd=Uc.renderer)&&void 0!==gd?gd:"canvas";gd=null!==(qc=Uc.logLevel)&&void 0!==qc?qc:re.Warn;qc=null!==(rb=Uc.downloadFileName)&&void 0!==rb?rb:"visualization";rb="string"===
typeof xa?document.querySelector(xa):xa;if(!rb)throw Error("".concat(xa," does not exist"));if(!1!==Uc.defaultStyle){const {root:kc,rootContainer:Nc}=la(rb);if(!kc.getElementById("vega-embed-style")){var Pd=document.createElement("style");Pd.id="vega-embed-style";Pd.innerHTML=void 0===Uc.defaultStyle||!0===Uc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
Uc.defaultStyle;Nc.appendChild(Pd)}}const Me=N(Xa,Uc.mode);let Se=bd[Me](Xa,Md);"vega-lite"===Me&&Se.$schema&&(Pd=ca(Se.$schema),gf(rc.vega,"^".concat(Pd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(Pd.version,", but current version is v").concat(rc.vega,".")));rb.classList.add("vega-embed");Xb&&rb.classList.add("has-actions");rb.innerHTML="";let ha=rb;Xb&&(Pd=document.createElement("div"),Pd.classList.add("chart-wrapper"),rb.appendChild(Pd),ha=Pd);(Pd=Uc.patch)&&(Se=Pd instanceof
Function?Pd(Se):x(Se,Pd,!0,!1).newDocument);Uc.formatLocale&&re.formatLocale(Uc.formatLocale);Uc.timeFormatLocale&&re.timeFormatLocale(Uc.timeFormatLocale);if(Uc.expressionFunctions)for(var ob in Uc.expressionFunctions)Pd=Uc.expressionFunctions[ob],"fn"in Pd?re.expressionFunction(ob,Pd.fn,Pd.visitor):Pd instanceof Function&&re.expressionFunction(ob,Pd);({ast:ob}=Uc);Pd=re.parse(Se,"vega-lite"===Me?{}:Md,{ast:ob});const Ea=new (Uc.viewClass||re.View)(Pd,Object.assign({},{loader:Rd,logLevel:gd,renderer:Gd},
ob?{expr:null!==(Bb=null!==(ic=re.expressionInterpreter)&&void 0!==ic?ic:Uc.expr)&&void 0!==Bb?Bb:Hc}:{}));Ea.addSignalListener("autosize",(kc,Nc)=>{({type:kc}=Nc);"fit-x"==kc?(ha.classList.add("fit-x"),ha.classList.remove("fit-y")):"fit-y"==kc?(ha.classList.remove("fit-x"),ha.classList.add("fit-y")):"fit"==kc?ha.classList.add("fit-x","fit-y"):ha.classList.remove("fit-x","fit-y")});!1!==Uc.tooltip&&(Bb="function"===typeof Uc.tooltip?Uc.tooltip:(new he(!0===Uc.tooltip?{}:Uc.tooltip)).call,Ea.tooltip(Bb));
({hover:Bb}=Uc);void 0===Bb&&(Bb="vega"===Me);if(Bb){const {hoverSet:kc,updateSet:Nc}="boolean"===typeof Bb?{}:Bb;Ea.hover(kc,Nc)}Uc&&(null!=Uc.width&&Ea.width(Uc.width),null!=Uc.height&&Ea.height(Uc.height),null!=Uc.padding&&Ea.padding(Uc.padding));yield Ea.initialize(ha,Uc.bind).runAsync();let Ib;if(!1!==Xb){ic=rb;if(!1!==Uc.defaultStyle){const kc=document.createElement("details");kc.title=tc.CLICK_TO_VIEW_ACTIONS;rb.append(kc);ic=kc;Bb=document.createElement("summary");Bb.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
kc.append(Bb);Ib=Nc=>{kc.contains(Nc.target)||kc.removeAttribute("open")};document.addEventListener("click",Ib)}Bb=document.createElement("div");ic.append(Bb);Bb.classList.add("vega-actions");if(!0===Xb||!1!==Xb.export)for(const kc of["svg","png"])if(!0===Xb||!0===Xb.export||Xb.export[kc])ic=tc["".concat(kc.toUpperCase(),"_ACTION")],Rd=document.createElement("a"),Rd.text=ic,Rd.href="#",Rd.target="_blank",Rd.download="".concat(qc,".").concat(kc),Rd.addEventListener("mousedown",function(Nc){const Jc=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Nc.preventDefault();const pd=yield Ea.toImageURL(kc,Uc.scaleFactor);Jc.href=pd})}),Bb.append(Rd);if(!0===Xb||!1!==Xb.source)qc=document.createElement("a"),qc.text=tc.SOURCE_ACTION,qc.href="#",qc.addEventListener("click",function(kc){var Nc,Jc;B(U(Xa),null!==(Nc=Uc.sourceHeader)&&void 0!==Nc?Nc:"",null!==(Jc=Uc.sourceFooter)&&void 0!==Jc?Jc:"",Me);kc.preventDefault()}),Bb.append(qc);"vega-lite"!==Me||!0!==Xb&&!1===Xb.compiled||(qc=
document.createElement("a"),qc.text=tc.COMPILED_ACTION,qc.href="#",qc.addEventListener("click",function(kc){var Nc,Jc;B(U(Se),null!==(Nc=Uc.sourceHeader)&&void 0!==Nc?Nc:"",null!==(Jc=Uc.sourceFooter)&&void 0!==Jc?Jc:"","vega");kc.preventDefault()}),Bb.append(qc));if(!0===Xb||!1!==Xb.editor){var Yb;const kc=null!==(Yb=Uc.editorUrl)&&void 0!==Yb?Yb:"https://vega.github.io/editor/";Yb=document.createElement("a");Yb.text=tc.EDITOR_ACTION;Yb.href="#";Yb.addEventListener("click",function(Nc){aa(window,
kc,{config:Md,mode:Me,renderer:Gd,spec:U(Xa)});Nc.preventDefault()});Bb.append(Yb)}}return{view:Ea,spec:Xa,vgSpec:Se,finalize:function(){Ib&&document.removeEventListener("click",Ib);Ea.finalize()},embedOptions:Uc}})}function bb(xa){const Xa=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var zb;let Xb=1<Xa.length&&void 0!==Xa[1]?Xa[1]:{};const tc=document.createElement("div");tc.classList.add("vega-embed-wrapper");const gd=document.createElement("div");tc.appendChild(gd);
const qc=!0===Xb.actions||!1===Xb.actions?Xb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(zb=Xb.actions)&&void 0!==zb?zb:{});zb=yield Aa(gd,xa,Object.assign({},{actions:qc},null!==Xb&&void 0!==Xb?Xb:{}));tc.value=zb.view;return tc})}var ib=q(k),Ja=q(p),ma=function(){var xa=function(Xa,zb){xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Xb,tc){Xb.__proto__=tc}||function(Xb,tc){for(var gd in tc)tc.hasOwnProperty(gd)&&(Xb[gd]=tc[gd])};return xa(Xa,zb)};
return function(Xa,zb){function Xb(){this.constructor=Xa}xa(Xa,zb);Xa.prototype=null===zb?Object.create(zb):(Xb.prototype=zb.prototype,new Xb)}}(),Fa=Object.prototype.hasOwnProperty,Pa=function(xa){function Xa(zb,Xb,tc,gd,qc){var rb=this.constructor,Bb=xa.call(this,g(zb,{name:Xb,index:tc,operation:gd,tree:qc}))||this;Bb.name=Xb;Bb.index=tc;Bb.operation=gd;Bb.tree=qc;Object.setPrototypeOf(Bb,rb.prototype);Bb.message=g(zb,{name:Xb,index:tc,operation:gd,tree:qc});return Bb}ma(Xa,xa);return Xa}(Error),
qa=Pa,ya={add:function(xa,Xa,zb){xa[Xa]=this.value;return{newDocument:zb}},remove:function(xa,Xa,zb){var Xb=xa[Xa];delete xa[Xa];return{newDocument:zb,removed:Xb}},replace:function(xa,Xa,zb){var Xb=xa[Xa];xa[Xa]=this.value;return{newDocument:zb,removed:Xb}},move:function(xa,Xa,zb){(xa=n(zb,this.path))&&(xa=m(xa));Xa=h(zb,{op:"remove",path:this.from}).removed;h(zb,{op:"add",path:this.path,value:Xa});return{newDocument:zb,removed:xa}},copy:function(xa,Xa,zb){xa=n(zb,this.from);h(zb,{op:"add",path:this.path,
value:m(xa)});return{newDocument:zb}},test:function(xa,Xa,zb){return{newDocument:zb,test:F(xa[Xa],this.value)}},_get:function(xa,Xa,zb){this.value=xa[Xa];return{newDocument:zb}}},oa={add:function(xa,Xa,zb){f(Xa)?xa.splice(Xa,0,this.value):xa[Xa]=this.value;return{newDocument:zb,index:Xa}},remove:function(xa,Xa,zb){xa=xa.splice(Xa,1);return{newDocument:zb,removed:xa[0]}},replace:function(xa,Xa,zb){var Xb=xa[Xa];xa[Xa]=this.value;return{newDocument:zb,removed:Xb}},move:ya.move,copy:ya.copy,test:ya.test,
_get:ya._get},va=Object.freeze({__proto__:null,JsonPatchError:qa,deepClone:m,getValueByPointer:n,applyOperation:h,applyPatch:x,applyReducer:function(xa,Xa,zb){var Xb=h(xa,Xa);if(!1===Xb.test)throw new qa("Test operation failed","TEST_OPERATION_FAILED",zb,Xa,xa);return Xb.newDocument},validator:O,validate:H,_areEquals:F}),Ua=new WeakMap,eb=function(){return function(xa){this.observers=new Map;this.obj=xa}}(),ra=function(){return function(xa,Xa){this.callback=xa;this.observer=Xa}}(),Oa=Object.freeze({__proto__:null,
unobserve:function(xa,Xa){Xa.unobserve()},observe:function(xa,Xa){var zb=Ua.get(xa);if(zb){var Xb=zb.observers.get(Xa);var tc=Xb&&Xb.observer}else zb=new eb(xa),Ua.set(xa,zb);if(tc)return tc;tc={};zb.value=m(xa);if(Xa){tc.callback=Xa;tc.next=null;var gd=function(){J(tc)},qc=function(){clearTimeout(tc.next);tc.next=setTimeout(gd)};"undefined"!==typeof window&&(window.addEventListener("mouseup",qc),window.addEventListener("keyup",qc),window.addEventListener("mousedown",qc),window.addEventListener("keydown",
qc),window.addEventListener("change",qc))}tc.patches=[];tc.object=xa;tc.unobserve=function(){J(tc);clearTimeout(tc.next);zb.observers.delete(tc.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",qc),window.removeEventListener("keyup",qc),window.removeEventListener("mousedown",qc),window.removeEventListener("keydown",qc),window.removeEventListener("change",qc))};zb.observers.set(Xa,new ra(Xa,tc));return tc},generate:J,compare:function(xa,Xa,zb){void 0===zb&&(zb=!1);var Xb=
[];D(xa,Xa,Xb,"",zb);return Xb}});Object.assign({},va,Oa,{JsonPatchError:Pa,deepClone:m,escapePathComponent:b,unescapePathComponent:c});var ja=/("(?:[^\\"]|\\.)*")|[:,]/g,U=function(xa,Xa){Xa=Xa||{};var zb=JSON.stringify([1],void 0,void 0===Xa.indent?2:Xa.indent).slice(2,-3);var Xb=""===zb?Infinity:void 0===Xa.maxLength?80:Xa.maxLength;var tc=Xa.replacer;return function ic(qc,rb,Bb){qc&&"function"===typeof qc.toJSON&&(qc=qc.toJSON());var Uc=JSON.stringify(qc,tc);if(void 0===Uc)return Uc;Bb=Xb-rb.length-
Bb;if(Uc.length<=Bb){var Rd=Uc.replace(ja,function(Ea,Ib){return Ib||Ea+" "});if(Rd.length<=Bb)return Rd}null!=tc&&(qc=JSON.parse(Uc),tc=void 0);if("object"===typeof qc&&null!==qc){var Md=rb+zb;var Gd=[];var Pd=0;if(Array.isArray(qc)){var Me="[";Rd="]";for(Bb=qc.length;Pd<Bb;Pd++)Gd.push(ic(qc[Pd],Md,Pd===Bb-1?0:1)||"null")}else{Me="{";Rd="}";var Se=Object.keys(qc);for(Bb=Se.length;Pd<Bb;Pd++){var ha=Se[Pd];var ob=JSON.stringify(ha)+": ";ha=ic(qc[ha],Md,ob.length+(Pd===Bb-1?0:1));void 0!==ha&&Gd.push(ob+
ha)}}if(0<Gd.length)return[Me,zb+Gd.join(",\n"+Md),Rd].join("\n"+rb)}return Uc}(xa,"",0)};r.Node=z;r.create=r;r.prototype.removeNode=function(xa){if(xa.list!==this)throw Error("removing node which does not belong to this list");var Xa=xa.next,zb=xa.prev;Xa&&(Xa.prev=zb);zb&&(zb.next=Xa);xa===this.head&&(this.head=Xa);xa===this.tail&&(this.tail=zb);xa.list.length--;xa.next=null;xa.prev=null;xa.list=null;return Xa};r.prototype.unshiftNode=function(xa){if(xa!==this.head){xa.list&&xa.list.removeNode(xa);
var Xa=this.head;xa.list=this;if(xa.next=Xa)Xa.prev=xa;this.head=xa;this.tail||(this.tail=xa);this.length++}};r.prototype.pushNode=function(xa){if(xa!==this.tail){xa.list&&xa.list.removeNode(xa);var Xa=this.tail;xa.list=this;if(xa.prev=Xa)Xa.next=xa;this.tail=xa;this.head||(this.head=xa);this.length++}};r.prototype.push=function(){for(var xa=0,Xa=arguments.length;xa<Xa;xa++)this.tail=new z(arguments[xa],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};r.prototype.unshift=
function(){for(var xa=0,Xa=arguments.length;xa<Xa;xa++)this.head=new z(arguments[xa],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};r.prototype.pop=function(){if(this.tail){var xa=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return xa}};r.prototype.shift=function(){if(this.head){var xa=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return xa}};r.prototype.forEach=function(xa,
Xa){Xa=Xa||this;for(var zb=this.head,Xb=0;null!==zb;Xb++)xa.call(Xa,zb.value,Xb,this),zb=zb.next};r.prototype.forEachReverse=function(xa,Xa){Xa=Xa||this;for(var zb=this.tail,Xb=this.length-1;null!==zb;Xb--)xa.call(Xa,zb.value,Xb,this),zb=zb.prev};r.prototype.get=function(xa){for(var Xa=0,zb=this.head;null!==zb&&Xa<xa;Xa++)zb=zb.next;if(Xa===xa&&null!==zb)return zb.value};r.prototype.getReverse=function(xa){for(var Xa=0,zb=this.tail;null!==zb&&Xa<xa;Xa++)zb=zb.prev;if(Xa===xa&&null!==zb)return zb.value};
r.prototype.map=function(xa,Xa){Xa=Xa||this;for(var zb=new r,Xb=this.head;null!==Xb;)zb.push(xa.call(Xa,Xb.value,this)),Xb=Xb.next;return zb};r.prototype.mapReverse=function(xa,Xa){Xa=Xa||this;for(var zb=new r,Xb=this.tail;null!==Xb;)zb.push(xa.call(Xa,Xb.value,this)),Xb=Xb.prev;return zb};r.prototype.reduce=function(xa,Xa){var zb=this.head;if(1<arguments.length)var Xb=Xa;else if(this.head)zb=this.head.next,Xb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");
for(var tc=0;null!==zb;tc++)Xb=xa(Xb,zb.value,tc),zb=zb.next;return Xb};r.prototype.reduceReverse=function(xa,Xa){var zb=this.tail;if(1<arguments.length)var Xb=Xa;else if(this.tail)zb=this.tail.prev,Xb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var tc=this.length-1;null!==zb;tc--)Xb=xa(Xb,zb.value,tc),zb=zb.prev;return Xb};r.prototype.toArray=function(){for(var xa=Array(this.length),Xa=0,zb=this.head;null!==zb;Xa++)xa[Xa]=zb.value,zb=zb.next;return xa};
r.prototype.toArrayReverse=function(){for(var xa=Array(this.length),Xa=0,zb=this.tail;null!==zb;Xa++)xa[Xa]=zb.value,zb=zb.prev;return xa};r.prototype.slice=function(xa,Xa){Xa=Xa||this.length;0>Xa&&(Xa+=this.length);xa=xa||0;0>xa&&(xa+=this.length);var zb=new r;if(Xa<xa||0>Xa)return zb;0>xa&&(xa=0);Xa>this.length&&(Xa=this.length);for(var Xb=0,tc=this.head;null!==tc&&Xb<xa;Xb++)tc=tc.next;for(;null!==tc&&Xb<Xa;Xb++,tc=tc.next)zb.push(tc.value);return zb};r.prototype.sliceReverse=function(xa,Xa){Xa=
Xa||this.length;0>Xa&&(Xa+=this.length);xa=xa||0;0>xa&&(xa+=this.length);var zb=new r;if(Xa<xa||0>Xa)return zb;0>xa&&(xa=0);Xa>this.length&&(Xa=this.length);for(var Xb=this.length,tc=this.tail;null!==tc&&Xb>Xa;Xb--)tc=tc.prev;for(;null!==tc&&Xb>xa;Xb--,tc=tc.prev)zb.push(tc.value);return zb};r.prototype.splice=function(xa,Xa){xa>this.length&&(xa=this.length-1);0>xa&&(xa=this.length+xa);for(var zb=0,Xb=this.head;null!==Xb&&zb<xa;zb++)Xb=Xb.next;var tc=[];for(zb=0;Xb&&zb<Xa;zb++)tc.push(Xb.value),Xb=
this.removeNode(Xb);null===Xb&&(Xb=this.tail);Xb!==this.head&&Xb!==this.tail&&(Xb=Xb.prev);for(zb=0;zb<(2>=arguments.length?0:arguments.length-2);zb++){var gd=2>zb+2||arguments.length<=zb+2?void 0:arguments[zb+2];Xb=Xb===this.head?new z(gd,null,Xb,this):new z(gd,Xb,Xb.next,this);null===Xb.next&&(this.tail=Xb);null===Xb.prev&&(this.head=Xb);this.length++}return tc};r.prototype.reverse=function(){for(var xa=this.head,Xa=this.tail,zb=xa;null!==zb;zb=zb.prev){var Xb=zb.prev;zb.prev=zb.next;zb.next=Xb}this.head=
Xa;this.tail=xa;return this};try{r.prototype[Symbol.iterator]=function*(){for(let xa=this.head;xa;xa=xa.next)yield xa.value}}catch(xa){}const ka=Symbol("max"),wa=Symbol("length"),Ta=Symbol("lengthCalculator"),db=Symbol("allowStale"),lb=Symbol("maxAge"),nb=Symbol("dispose"),Mb=Symbol("noDisposeOnSet"),$b=Symbol("lruList"),Gc=Symbol("cache"),zc=Symbol("updateAgeOnGet"),Bc=()=>1;class uc{constructor(xa){"number"===typeof xa&&(xa={max:xa});xa||(xa={});if(xa.max&&("number"!==typeof xa.max||0>xa.max))throw new TypeError("max must be a non-negative number");
this[ka]=xa.max||Infinity;const Xa=xa.length||Bc;this[Ta]="function"!==typeof Xa?Bc:Xa;this[db]=xa.stale||!1;if(xa.maxAge&&"number"!==typeof xa.maxAge)throw new TypeError("maxAge must be a number");this[lb]=xa.maxAge||0;this[nb]=xa.dispose;this[Mb]=xa.noDisposeOnSet||!1;this[zc]=xa.updateAgeOnGet||!1;this.reset()}set max(xa){if("number"!==typeof xa||0>xa)throw new TypeError("max must be a non-negative number");this[ka]=xa||Infinity;Ab(this)}get max(){return this[ka]}set allowStale(xa){this[db]=!!xa}get allowStale(){return this[db]}set maxAge(xa){if("number"!==
typeof xa)throw new TypeError("maxAge must be a non-negative number");this[lb]=xa;Ab(this)}get maxAge(){return this[lb]}set lengthCalculator(xa){"function"!==typeof xa&&(xa=Bc);xa!==this[Ta]&&(this[Ta]=xa,this[wa]=0,this[$b].forEach(Xa=>{Xa.length=this[Ta](Xa.value,Xa.key);this[wa]+=Xa.length}));Ab(this)}get lengthCalculator(){return this[Ta]}get length(){return this[wa]}get itemCount(){return this[$b].length}rforEach(xa,Xa){Xa=Xa||this;for(let zb=this[$b].tail;null!==zb;){const Xb=zb.prev;mc(this,
xa,zb,Xa);zb=Xb}}forEach(xa,Xa){Xa=Xa||this;for(let zb=this[$b].head;null!==zb;){const Xb=zb.next;mc(this,xa,zb,Xa);zb=Xb}}keys(){return this[$b].toArray().map(xa=>xa.key)}values(){return this[$b].toArray().map(xa=>xa.value)}reset(){this[nb]&&this[$b]&&this[$b].length&&this[$b].forEach(xa=>this[nb](xa.key,xa.value));this[Gc]=new Map;this[$b]=new r;this[wa]=0}dump(){return this[$b].map(xa=>Hb(this,xa)?!1:{k:xa.key,v:xa.value,e:xa.now+(xa.maxAge||0)}).toArray().filter(xa=>xa)}dumpLru(){return this[$b]}set(xa,
Xa,zb){if((zb=zb||this[lb])&&"number"!==typeof zb)throw new TypeError("maxAge must be a number");const Xb=zb?Date.now():0,tc=this[Ta](Xa,xa);if(this[Gc].has(xa)){if(tc>this[ka])return dc(this,this[Gc].get(xa)),!1;const gd=this[Gc].get(xa).value;if(this[nb]&&!this[Mb])this[nb](xa,gd.value);gd.now=Xb;gd.maxAge=zb;gd.value=Xa;this[wa]+=tc-gd.length;gd.length=tc;this.get(xa);Ab(this);return!0}zb=new Wb(xa,Xa,tc,Xb,zb);if(zb.length>this[ka]){if(this[nb])this[nb](xa,Xa);return!1}this[wa]+=zb.length;this[$b].unshift(zb);
this[Gc].set(xa,this[$b].head);Ab(this);return!0}has(xa){if(!this[Gc].has(xa))return!1;xa=this[Gc].get(xa).value;return!Hb(this,xa)}get(xa){return id(this,xa,!0)}peek(xa){return id(this,xa,!1)}pop(){const xa=this[$b].tail;if(!xa)return null;dc(this,xa);return xa.value}del(xa){dc(this,this[Gc].get(xa))}load(xa){this.reset();const Xa=Date.now();for(let Xb=xa.length-1;0<=Xb;Xb--){const tc=xa[Xb];var zb=tc.e||0;0===zb?this.set(tc.k,tc.v):(zb-=Xa,0<zb&&this.set(tc.k,tc.v,zb))}}prune(){this[Gc].forEach((xa,
Xa)=>id(this,Xa,!1))}}const id=(xa,Xa,zb)=>{if(Xa=xa[Gc].get(Xa)){const Xb=Xa.value;if(Hb(xa,Xb)){if(dc(xa,Xa),!xa[db])return}else zb&&(xa[zc]&&(Xa.value.now=Date.now()),xa[$b].unshiftNode(Xa));return Xb.value}},Hb=(xa,Xa)=>{if(!Xa||!Xa.maxAge&&!xa[lb])return!1;const zb=Date.now()-Xa.now;return Xa.maxAge?zb>Xa.maxAge:xa[lb]&&zb>xa[lb]},Ab=xa=>{if(xa[wa]>xa[ka])for(let Xa=xa[$b].tail;xa[wa]>xa[ka]&&null!==Xa;){const zb=Xa.prev;dc(xa,Xa);Xa=zb}},dc=(xa,Xa)=>{if(Xa){const zb=Xa.value;if(xa[nb])xa[nb](zb.key,
zb.value);xa[wa]-=zb.length;xa[Gc].delete(zb.key);xa[$b].removeNode(Xa)}};class Wb{constructor(xa,Xa,zb,Xb,tc){this.key=xa;this.value=Xa;this.length=zb;this.now=Xb;this.maxAge=tc||0}}const mc=(xa,Xa,zb,Xb)=>{let tc=zb.value;Hb(xa,tc)&&(dc(xa,zb),xa[db]||(tc=void 0));tc&&Xa.call(Xb,tc.value,tc.key,xa)};var Kc=uc;const Fc=["includePrerelease","loose","rtl"];var Sc=xa=>xa?"object"!==typeof xa?{loose:!0}:Fc.filter(Xa=>xa[Xa]).reduce((Xa,zb)=>{Xa[zb]=!0;return Xa},{}):{},jd={exports:{}},$d={SEMVER_SPEC_VERSION:"2.0.0",
MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Ba="object"===typeof w&&w.env&&w.env.NODE_DEBUG&&/\bsemver\b/i.test(w.env.NODE_DEBUG)?function(){for(var xa=arguments.length,Xa=Array(xa),zb=0;zb<xa;zb++)Xa[zb]=arguments[zb];return console.error("SEMVER",...Xa)}:()=>{};(function(xa,Xa){const {MAX_SAFE_COMPONENT_LENGTH:zb}=$d,Xb=Ba;Xa=xa.exports={};const tc=Xa.re=[],gd=Xa.src=[],qc=Xa.t={};let rb=0;xa=(Bb,ic,Uc)=>{const Rd=rb++;Xb(Bb,Rd,ic);qc[Bb]=
Rd;gd[Rd]=ic;tc[Rd]=new RegExp(ic,Uc?"g":void 0)};xa("NUMERICIDENTIFIER","0|[1-9]\\d*");xa("NUMERICIDENTIFIERLOOSE","[0-9]+");xa("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");xa("MAINVERSION","(".concat(gd[qc.NUMERICIDENTIFIER],")\\.")+"(".concat(gd[qc.NUMERICIDENTIFIER],")\\.")+"(".concat(gd[qc.NUMERICIDENTIFIER],")"));xa("MAINVERSIONLOOSE","(".concat(gd[qc.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(gd[qc.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(gd[qc.NUMERICIDENTIFIERLOOSE],")"));xa("PRERELEASEIDENTIFIER",
"(?:".concat(gd[qc.NUMERICIDENTIFIER],"|").concat(gd[qc.NONNUMERICIDENTIFIER],")"));xa("PRERELEASEIDENTIFIERLOOSE","(?:".concat(gd[qc.NUMERICIDENTIFIERLOOSE],"|").concat(gd[qc.NONNUMERICIDENTIFIER],")"));xa("PRERELEASE","(?:-(".concat(gd[qc.PRERELEASEIDENTIFIER],"(?:\\.").concat(gd[qc.PRERELEASEIDENTIFIER],")*))"));xa("PRERELEASELOOSE","(?:-?(".concat(gd[qc.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(gd[qc.PRERELEASEIDENTIFIERLOOSE],")*))"));xa("BUILDIDENTIFIER","[0-9A-Za-z-]+");xa("BUILD","(?:\\+(".concat(gd[qc.BUILDIDENTIFIER],
"(?:\\.").concat(gd[qc.BUILDIDENTIFIER],")*))"));xa("FULLPLAIN","v?".concat(gd[qc.MAINVERSION]).concat(gd[qc.PRERELEASE],"?").concat(gd[qc.BUILD],"?"));xa("FULL","^".concat(gd[qc.FULLPLAIN],"$"));xa("LOOSEPLAIN","[v\x3d\\s]*".concat(gd[qc.MAINVERSIONLOOSE]).concat(gd[qc.PRERELEASELOOSE],"?").concat(gd[qc.BUILD],"?"));xa("LOOSE","^".concat(gd[qc.LOOSEPLAIN],"$"));xa("GTLT","((?:\x3c|\x3e)?\x3d?)");xa("XRANGEIDENTIFIERLOOSE","".concat(gd[qc.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));xa("XRANGEIDENTIFIER",
"".concat(gd[qc.NUMERICIDENTIFIER],"|x|X|\\*"));xa("XRANGEPLAIN","[v\x3d\\s]*(".concat(gd[qc.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(gd[qc.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(gd[qc.XRANGEIDENTIFIER],")")+"(?:".concat(gd[qc.PRERELEASE],")?").concat(gd[qc.BUILD],"?")+")?)?");xa("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(gd[qc.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(gd[qc.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(gd[qc.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(gd[qc.PRERELEASELOOSE],")?").concat(gd[qc.BUILD],
"?")+")?)?");xa("XRANGE","^".concat(gd[qc.GTLT],"\\s*").concat(gd[qc.XRANGEPLAIN],"$"));xa("XRANGELOOSE","^".concat(gd[qc.GTLT],"\\s*").concat(gd[qc.XRANGEPLAINLOOSE],"$"));xa("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(zb,"})")+"(?:\\.(\\d{1,".concat(zb,"}))?")+"(?:\\.(\\d{1,".concat(zb,"}))?")+"(?:$|[^\\d])");xa("COERCERTL",gd[qc.COERCE],!0);xa("LONETILDE","(?:~\x3e?)");xa("TILDETRIM","(\\s*)".concat(gd[qc.LONETILDE],"\\s+"),!0);Xa.tildeTrimReplace="$1~";xa("TILDE","^".concat(gd[qc.LONETILDE]).concat(gd[qc.XRANGEPLAIN],
"$"));xa("TILDELOOSE","^".concat(gd[qc.LONETILDE]).concat(gd[qc.XRANGEPLAINLOOSE],"$"));xa("LONECARET","(?:\\^)");xa("CARETTRIM","(\\s*)".concat(gd[qc.LONECARET],"\\s+"),!0);Xa.caretTrimReplace="$1^";xa("CARET","^".concat(gd[qc.LONECARET]).concat(gd[qc.XRANGEPLAIN],"$"));xa("CARETLOOSE","^".concat(gd[qc.LONECARET]).concat(gd[qc.XRANGEPLAINLOOSE],"$"));xa("COMPARATORLOOSE","^".concat(gd[qc.GTLT],"\\s*(").concat(gd[qc.LOOSEPLAIN],")$|^$"));xa("COMPARATOR","^".concat(gd[qc.GTLT],"\\s*(").concat(gd[qc.FULLPLAIN],
")$|^$"));xa("COMPARATORTRIM","(\\s*)".concat(gd[qc.GTLT],"\\s*(").concat(gd[qc.LOOSEPLAIN],"|").concat(gd[qc.XRANGEPLAIN],")"),!0);Xa.comparatorTrimReplace="$1$2$3";xa("HYPHENRANGE","^\\s*(".concat(gd[qc.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(gd[qc.XRANGEPLAIN],")")+"\\s*$");xa("HYPHENRANGELOOSE","^\\s*(".concat(gd[qc.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(gd[qc.XRANGEPLAINLOOSE],")")+"\\s*$");xa("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");xa("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");xa("GTE0PRE",
"^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(jd,jd.exports);const ua=/^[0-9]+$/,Ca=(xa,Xa)=>{const zb=ua.test(xa),Xb=ua.test(Xa);zb&&Xb&&(xa=+xa,Xa=+Xa);return xa===Xa?0:zb&&!Xb?-1:Xb&&!zb?1:xa<Xa?-1:1};var $a={compareIdentifiers:Ca,rcompareIdentifiers:(xa,Xa)=>Ca(Xa,xa)};const jb=Ba,{MAX_LENGTH:yb,MAX_SAFE_INTEGER:Ub}=$d,{re:Tb,t:Vb}=jd.exports,Ic=Sc,{compareIdentifiers:Yc}=$a;class dd{constructor(xa,Xa){Xa=Ic(Xa);if(xa instanceof dd){if(xa.loose===!!Xa.loose&&xa.includePrerelease===!!Xa.includePrerelease)return xa;
xa=xa.version}else if("string"!==typeof xa)throw new TypeError("Invalid Version: ".concat(xa));if(xa.length>yb)throw new TypeError("version is longer than ".concat(yb," characters"));jb("SemVer",xa,Xa);this.options=Xa;this.loose=!!Xa.loose;this.includePrerelease=!!Xa.includePrerelease;Xa=xa.trim().match(Xa.loose?Tb[Vb.LOOSE]:Tb[Vb.FULL]);if(!Xa)throw new TypeError("Invalid Version: ".concat(xa));this.raw=xa;this.major=+Xa[1];this.minor=+Xa[2];this.patch=+Xa[3];if(this.major>Ub||0>this.major)throw new TypeError("Invalid major version");
if(this.minor>Ub||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>Ub||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=Xa[4]?Xa[4].split(".").map(zb=>{if(/^[0-9]+$/.test(zb)){const Xb=+zb;if(0<=Xb&&Xb<Ub)return Xb}return zb}):[];this.build=Xa[5]?Xa[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(xa){jb("SemVer.compare",
this.version,this.options,xa);if(!(xa instanceof dd)){if("string"===typeof xa&&xa===this.version)return 0;xa=new dd(xa,this.options)}return xa.version===this.version?0:this.compareMain(xa)||this.comparePre(xa)}compareMain(xa){xa instanceof dd||(xa=new dd(xa,this.options));return Yc(this.major,xa.major)||Yc(this.minor,xa.minor)||Yc(this.patch,xa.patch)}comparePre(xa){xa instanceof dd||(xa=new dd(xa,this.options));if(this.prerelease.length&&!xa.prerelease.length)return-1;if(!this.prerelease.length&&
xa.prerelease.length)return 1;if(!this.prerelease.length&&!xa.prerelease.length)return 0;let Xa=0;do{const zb=this.prerelease[Xa],Xb=xa.prerelease[Xa];jb("prerelease compare",Xa,zb,Xb);if(void 0===zb&&void 0===Xb)return 0;if(void 0===Xb)return 1;if(void 0===zb)return-1;if(zb!==Xb)return Yc(zb,Xb)}while(++Xa)}compareBuild(xa){xa instanceof dd||(xa=new dd(xa,this.options));let Xa=0;do{const zb=this.build[Xa],Xb=xa.build[Xa];jb("prerelease compare",Xa,zb,Xb);if(void 0===zb&&void 0===Xb)return 0;if(void 0===
Xb)return 1;if(void 0===zb)return-1;if(zb!==Xb)return Yc(zb,Xb)}while(++Xa)}inc(xa,Xa){switch(xa){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Xa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Xa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Xa);this.inc("pre",Xa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Xa);this.inc("pre",Xa);break;case "major":0===this.minor&&0===
this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(xa=this.prerelease.length;0<=--xa;)"number"===typeof this.prerelease[xa]&&(this.prerelease[xa]++,xa=-2);-1===xa&&this.prerelease.push(0)}Xa&&(0===
Yc(this.prerelease[0],Xa)?isNaN(this.prerelease[1])&&(this.prerelease=[Xa,0]):this.prerelease=[Xa,0]);break;default:throw Error("invalid increment argument: ".concat(xa));}this.format();this.raw=this.version;return this}}var nd=dd;const xd=nd;var Nd=(xa,Xa,zb)=>(new xd(xa,zb)).compare(new xd(Xa,zb)),Xd=(xa,Xa,zb,Xb)=>{switch(Xa){case "\x3d\x3d\x3d":return"object"===typeof xa&&(xa=xa.version),"object"===typeof zb&&(zb=zb.version),xa===zb;case "!\x3d\x3d":return"object"===typeof xa&&(xa=xa.version),
"object"===typeof zb&&(zb=zb.version),xa!==zb;case "":case "\x3d":case "\x3d\x3d":return 0===Nd(xa,zb,Xb);case "!\x3d":return 0!==Nd(xa,zb,Xb);case "\x3e":return 0<Nd(xa,zb,Xb);case "\x3e\x3d":return 0<=Nd(xa,zb,Xb);case "\x3c":return 0>Nd(xa,zb,Xb);case "\x3c\x3d":return 0>=Nd(xa,zb,Xb);default:throw new TypeError("Invalid operator: ".concat(Xa));}},ge,le,qe,wd;const qf=T();var gf=(xa,Xa,zb)=>{try{Xa=new qf(Xa,zb)}catch(Xb){return!1}return Xa.test(xa)},te={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,
LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},We={"*":(xa,Xa)=>xa*Xa,"+":(xa,Xa)=>xa+Xa,"-":(xa,Xa)=>xa-Xa,"/":(xa,Xa)=>xa/Xa,"%":(xa,Xa)=>xa%Xa,"\x3e":(xa,Xa)=>xa>Xa,"\x3c":(xa,Xa)=>xa<Xa,"\x3c\x3d":(xa,Xa)=>xa<=Xa,"\x3e\x3d":(xa,Xa)=>xa>=Xa,"\x3d\x3d":(xa,Xa)=>xa==Xa,"!\x3d":(xa,Xa)=>xa!=Xa,"\x3d\x3d\x3d":(xa,Xa)=>xa===Xa,"!\x3d\x3d":(xa,Xa)=>xa!==Xa,"\x26":(xa,Xa)=>xa&Xa,"|":(xa,Xa)=>xa|Xa,"^":(xa,Xa)=>
xa^Xa,"\x3c\x3c":(xa,Xa)=>xa<<Xa,"\x3e\x3e":(xa,Xa)=>xa>>Xa,"\x3e\x3e\x3e":(xa,Xa)=>xa>>>Xa},za={"+":xa=>+xa,"-":xa=>-xa,"~":xa=>~xa,"!":xa=>!xa};const Za=Array.prototype.slice,tb=(xa,Xa,zb)=>{zb=zb?zb(Xa[0]):Xa[0];return zb[xa].apply(zb,Za.call(Xa,1))};var Jb={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,
round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(xa,Xa,zb)=>Math.max(Xa,Math.min(zb,xa)),now:Date.now,utc:Date.UTC,datetime:(xa,Xa,zb,Xb,tc,gd,qc)=>new Date(xa,Xa||0,null!=zb?zb:1,Xb||0,tc||0,gd||0,qc||0),date:xa=>(new Date(xa)).getDate(),day:xa=>(new Date(xa)).getDay(),year:xa=>(new Date(xa)).getFullYear(),month:xa=>(new Date(xa)).getMonth(),hours:xa=>(new Date(xa)).getHours(),minutes:xa=>(new Date(xa)).getMinutes(),seconds:xa=>(new Date(xa)).getSeconds(),milliseconds:xa=>(new Date(xa)).getMilliseconds(),
time:xa=>(new Date(xa)).getTime(),timezoneoffset:xa=>(new Date(xa)).getTimezoneOffset(),utcdate:xa=>(new Date(xa)).getUTCDate(),utcday:xa=>(new Date(xa)).getUTCDay(),utcyear:xa=>(new Date(xa)).getUTCFullYear(),utcmonth:xa=>(new Date(xa)).getUTCMonth(),utchours:xa=>(new Date(xa)).getUTCHours(),utcminutes:xa=>(new Date(xa)).getUTCMinutes(),utcseconds:xa=>(new Date(xa)).getUTCSeconds(),utcmilliseconds:xa=>(new Date(xa)).getUTCMilliseconds(),length:xa=>xa.length,join:function(){return tb("join",arguments)},
indexof:function(){return tb("indexOf",arguments)},lastindexof:function(){return tb("lastIndexOf",arguments)},slice:function(){return tb("slice",arguments)},reverse:xa=>xa.slice().reverse(),parseFloat,parseInt,upper:xa=>String(xa).toUpperCase(),lower:xa=>String(xa).toLowerCase(),substring:function(){return tb("substring",arguments,String)},split:function(){return tb("split",arguments,String)},replace:function(){return tb("replace",arguments,String)},trim:xa=>String(xa).trim(),regexp:RegExp,test:(xa,
Xa)=>RegExp(xa).test(Xa)};const fc="view item group xy x y".split(" "),nc={Literal:(xa,Xa)=>Xa.value,Identifier:(xa,Xa)=>{Xa=Xa.name;return 0<xa.memberDepth?Xa:"datum"===Xa?xa.datum:"event"===Xa?xa.event:"item"===Xa?xa.item:te[Xa]||xa.params["$"+Xa]},MemberExpression:(xa,Xa)=>{const zb=!Xa.computed,Xb=xa(Xa.object);zb&&(xa.memberDepth+=1);Xa=xa(Xa.property);zb&&--xa.memberDepth;return Xb[Xa]},CallExpression:(xa,Xa)=>{const zb=Xa.arguments;Xa=Xa.callee.name;Xa.startsWith("_")&&(Xa=Xa.slice(1));return"if"===
Xa?xa(zb[0])?xa(zb[1]):xa(zb[2]):(xa.fn[Xa]||Jb[Xa]).apply(xa.fn,zb.map(xa))},ArrayExpression:(xa,Xa)=>Xa.elements.map(xa),BinaryExpression:(xa,Xa)=>We[Xa.operator](xa(Xa.left),xa(Xa.right)),UnaryExpression:(xa,Xa)=>za[Xa.operator](xa(Xa.argument)),ConditionalExpression:(xa,Xa)=>xa(Xa.test)?xa(Xa.consequent):xa(Xa.alternate),LogicalExpression:(xa,Xa)=>"\x26\x26"===Xa.operator?xa(Xa.left)&&xa(Xa.right):xa(Xa.left)||xa(Xa.right),ObjectExpression:(xa,Xa)=>Xa.properties.reduce((zb,Xb)=>{xa.memberDepth+=
1;const tc=xa(Xb.key);--xa.memberDepth;zb[tc]=xa(Xb.value);return zb},{})};var Hc={operator(xa,Xa){const zb=Xa.ast,Xb=xa.functions;return tc=>R(zb,Xb,tc)},parameter(xa,Xa){const zb=Xa.ast,Xb=xa.functions;return(tc,gd)=>R(zb,Xb,gd,tc)},event(xa,Xa){const zb=Xa.ast,Xb=xa.functions;return tc=>R(zb,Xb,void 0,void 0,tc)},handler(xa,Xa){const zb=Xa.ast,Xb=xa.functions;return(tc,gd)=>R(zb,Xb,tc,gd.item&&gd.item.datum,gd)},encode(xa,Xa){const {marktype:zb,channels:Xb}=Xa,tc=xa.functions,gd="group"===zb||
"image"===zb||"rect"===zb;return(qc,rb)=>{const Bb=qc.datum;let ic=0,Uc;for(const Rd in Xb)Uc=R(Xb[Rd].ast,tc,rb,Bb,void 0,qc),qc[Rd]!==Uc&&(qc[Rd]=Uc,ic=1);"rule"!==zb&&(Xb.x2&&(Xb.x?(gd&&qc.x>qc.x2&&(rb=qc.x,qc.x=qc.x2,qc.x2=rb),qc.width=qc.x2-qc.x):qc.x=qc.x2-(qc.width||0)),Xb.xc&&(qc.x=qc.xc-(qc.width||0)/2),Xb.y2&&(Xb.y?(gd&&qc.y>qc.y2&&(rb=qc.y,qc.y=qc.y2,qc.y2=rb),qc.height=qc.y2-qc.y):qc.y=qc.y2-(qc.height||0)),Xb.yc&&(qc.y=qc.yc-(qc.height||0)/2));return ic}}};const Dc={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),
"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},lc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),
"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2",
"#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2",
"#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var ld=Object.freeze({__proto__:null,dark:{background:"#333",
title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},
axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},
background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5",
"#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,
titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",
fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",
fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,
titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Dc["category-6"],diverging:Dc["fireandice-6"],heatmap:Dc["fire-7"],ordinal:Dc["fire-7"],ramp:Dc["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},
symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},
axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",
orient:"right",offset:10},view:{stroke:"transparent"},range:{category:lc["six-groups-cat-1"],diverging:lc["diverging-colors"],heatmap:lc["diverging-colors"],ordinal:lc["six-groups-seq"],ramp:lc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,
size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,
padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const sd=xa=>function(Xa){return Xa[xa]},Hd=xa=>{const Xa=xa.length;return function(zb){for(let Xb=0;Xb<Xa;++Xb)zb=zb[xa[Xb]];return zb}};(function(xa,Xa,zb){const Xb=W(xa);xa=1===Xb.length?Xb[0]:xa;return M((zb&&zb.get||ba)(Xb),[xa],Xa||xa)})("id");M(xa=>xa,[],"identity");M(()=>0,[],"zero");M(()=>1,[],"one");M(()=>!0,[],"true");M(()=>!1,[],"false");var Vd=Array.isArray;
const be={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(xa){return String(xa).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(xa,Xa,zb){if(Vd(xa))return"[".concat(xa.map(tc=>Xa("string"===typeof tc?tc:JSON.stringify(tc,La(zb)))).join(", "),"]");if(xa===Object(xa)){let tc="";const {title:gd,image:qc}=xa;xa=ea(xa,["title","image"]);gd&&(tc+="\x3ch2\x3e".concat(Xa(gd),"\x3c/h2\x3e"));
qc&&(tc+='\x3cimg src\x3d"'.concat(Xa(qc),'"\x3e'));var Xb=Object.keys(xa);if(0<Xb.length){tc+="\x3ctable\x3e";for(const rb of Xb)Xb=xa[rb],void 0!==Xb&&(Xb===Object(Xb)&&(Xb=JSON.stringify(Xb,La(zb))),tc+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(Xa(rb),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(Xa(Xb),"\x3c/td\x3e\x3c/tr\x3e"));tc+="\x3c/table\x3e"}return tc||"{}"}return Xa(xa)}};class he{constructor(xa){this.options=Object.assign(Object.assign({},be),xa);var Xa=this.options.id;this.el=
null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){xa=document.createElement("style");xa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Xa))throw Error("Invalid HTML ID");Xa="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
Xa);xa.innerHTML=Xa;Xa=document.head;0<Xa.childNodes.length?Xa.insertBefore(xa,Xa.childNodes[0]):Xa.appendChild(xa)}}tooltipHandler(xa,Xa,zb,Xb){var tc;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(tc=document.fullscreenElement)&&void 0!==tc?tc:document.body).appendChild(this.el));if(null==Xb||""===Xb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(Xb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));xa=this.el.getBoundingClientRect();tc=this.options.offsetX;zb=this.options.offsetY;Xb=Xa.clientX+tc;Xb+xa.width>window.innerWidth&&(Xb=+Xa.clientX-tc-xa.width);tc=Xa.clientY+zb;tc+xa.height>window.innerHeight&&(tc=+Xa.clientY-zb-xa.height);var {x:gd,y:qc}={x:Xb,y:tc};this.el.setAttribute("style","top: ".concat(qc,"px; left: ").concat(gd,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(xa,Xa){return this.substr(!Xa||0>Xa?0:+Xa,xa.length)===xa});var Ce;const re=ib;let vf=Ja;const Ge="undefined"!==typeof window?window:void 0;void 0===vf&&null!==Ge&&void 0!==Ge&&null!==(Ce=Ge.vl)&&void 0!==Ce&&Ce.compile&&(vf=Ge.vl);const Re={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},af={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Qb={vega:"Vega","vega-lite":"Vega-Lite"},rc={vega:re.version,"vega-lite":vf?vf.version:"not available"},bd={vega:xa=>xa,"vega-lite":(xa,Xa)=>vf.compile(xa,{config:Xa}).spec},Ad=function(){var xa;if(xa=1<arguments.length){if(xa=k.isString(0>=arguments.length?void 0:arguments[0]))xa=0>=arguments.length?void 0:arguments[0],xa=!(xa.startsWith("http://")||xa.startsWith("https://")||xa.startsWith("//"));xa=xa||(0>=arguments.length?void 0:arguments[0])instanceof
HTMLElement||3===arguments.length}return xa?Aa(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):bb(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};Ad.vegaLite=vf;Ad.vl=vf;Ad.container=bb;Ad.embed=Aa;Ad.vega=re;Ad.default=Aa;Ad.version="6.21.0";return Ad})};
shadow$provide[51]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?sb.exports=k():"function"===typeof define&&define.amd?define(k):(w=w||self,w.CodeMirror=k())})(this,function(){function w(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function k(a){for(var u=a.childNodes.length;0<u;--u)a.removeChild(a.firstChild);return a}function p(a,u){return k(a).appendChild(u)}function q(a,u,S,Q){a=document.createElement(a);S&&(a.className=S);Q&&(a.style.cssText=Q);if("string"==
typeof u)a.appendChild(document.createTextNode(u));else if(u)for(S=0;S<u.length;++S)a.appendChild(u[S]);return a}function t(a,u,S,Q){a=q(a,u,S,Q);a.setAttribute("role","presentation");return a}function m(a,u){3==u.nodeType&&(u=u.parentNode);if(a.contains)return a.contains(u);do if(11==u.nodeType&&(u=u.host),u==a)return!0;while(u=u.parentNode)}function f(a){try{var u=a.activeElement}catch(S){u=a.body||null}for(;u&&u.shadowRoot&&u.shadowRoot.activeElement;)u=u.shadowRoot.activeElement;return u}function b(a,
u){var S=a.className;w(u).test(S)||(a.className+=(S?" ":"")+u)}function c(a,u){a=a.split(" ");for(var S=0;S<a.length;S++)a[S]&&!w(a[S]).test(u)&&(u+=" "+a[S]);return u}function e(a){return a.display.wrapper.ownerDocument}function g(a){var u=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,u)}}function n(a,u,S){u||(u={});for(var Q in a)!a.hasOwnProperty(Q)||!1===S&&u.hasOwnProperty(Q)||(u[Q]=a[Q]);return u}function h(a,u,S,Q,Z){null==u&&(u=a.search(/[^\s\u00a0]/),-1==u&&
(u=a.length));Q=Q||0;for(Z=Z||0;;){var Ga=a.indexOf("\t",Q);if(0>Ga||Ga>=u)return Z+(u-Q);Z+=Ga-Q;Z+=S-Z%S;Q=Ga+1}}function x(a,u){for(var S=0;S<a.length;++S)if(a[S]==u)return S;return-1}function O(a,u,S){for(var Q=0,Z=0;;){var Ga=a.indexOf("\t",Q);-1==Ga&&(Ga=a.length);var Va=Ga-Q;if(Ga==a.length||Z+Va>=u)return Q+Math.min(Va,u-Z);Z+=Ga-Q;Z+=S-Z%S;Q=Ga+1;if(Z>=u)return Q}}function H(a){for(;xf.length<=a;)xf.push(F(xf)+" ");return xf[a]}function F(a){return a[a.length-1]}function J(a,u){for(var S=
[],Q=0;Q<a.length;Q++)S[Q]=u(a[Q],Q);return S}function D(a,u,S){for(var Q=0,Z=S(u);Q<a.length&&S(a[Q])<=Z;)Q++;a.splice(Q,0,u)}function r(){}function z(a,u){Object.create?a=Object.create(a):(r.prototype=a,a=new r);u&&n(u,a);return a}function G(a){return/\w/.test(a)||""<a&&(a.toUpperCase()!=a.toLowerCase()||Ne.test(a))}function T(a,u){return u?-1<u.source.indexOf("\\w")&&G(a)?!0:u.test(a):G(a)}function R(a){for(var u in a)if(a.hasOwnProperty(u)&&a[u])return!1;return!0}function ca(a){return 768<=a.charCodeAt(0)&&
Zf.test(a)}function M(a,u,S){for(;(0>S?0<u:u<a.length)&&ca(a.charAt(u));)u+=S;return u}function ba(a,u,S){for(var Q=u>S?-1:1;;){if(u==S)return u;var Z=(u+S)/2;Z=0>Q?Math.ceil(Z):Math.floor(Z);if(Z==u)return a(Z)?u:S;a(Z)?S=Z:u=Z+Q}}function W(a,u,S,Q){if(!a)return Q(u,S,"ltr",0);for(var Z=!1,Ga=0;Ga<a.length;++Ga){var Va=a[Ga];if(Va.from<S&&Va.to>u||u==S&&Va.to==u)Q(Math.max(Va.from,u),Math.min(Va.to,S),1==Va.level?"rtl":"ltr",Ga),Z=!0}Z||Q(u,S,"ltr")}function ea(a,u,S){var Q;Dg=null;for(var Z=0;Z<
a.length;++Z){var Ga=a[Z];if(Ga.from<u&&Ga.to>u)return Z;Ga.to==u&&(Ga.from!=Ga.to&&"before"==S?Q=Z:Dg=Z);Ga.from==u&&(Ga.from!=Ga.to&&"before"!=S?Q=Z:Dg=Z)}return null!=Q?Q:Dg}function La(a,u){var S=a.order;null==S&&(S=a.order=fh(a.text,u));return S}function aa(a,u,S){if(a.removeEventListener)a.removeEventListener(u,S,!1);else if(a.detachEvent)a.detachEvent("on"+u,S);else{var Q=(a=a._handlers)&&a[u];Q&&(S=x(Q,S),-1<S&&(a[u]=Q.slice(0,S).concat(Q.slice(S+1))))}}function C(a,u){var S=a._handlers&&
a._handlers[u]||lh;if(S.length)for(var Q=Array.prototype.slice.call(arguments,2),Z=0;Z<S.length;++Z)S[Z].apply(null,Q)}function B(a,u,S){"string"==typeof u&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}});C(a,S||u.type,a,u);return Ia(u)||u.codemirrorIgnore}function N(a){var u=a._handlers&&a._handlers.cursorActivity;if(u){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var S=0;S<u.length;++S)-1==x(a,u[S])&&a.push(u[S])}}function Y(a,u){return 0<(a._handlers&&
a._handlers[u]||lh).length}function Aa(a){a.prototype.on=function(u,S){$e(this,u,S)};a.prototype.off=function(u,S){aa(this,u,S)}}function sa(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function la(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Ia(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function bb(a){sa(a);la(a)}function ib(a){var u=a.which;null==u&&(a.button&1?u=1:a.button&2?u=3:a.button&4&&(u=2));ia&&a.ctrlKey&&1==u&&(u=3);return u}
function Ja(a,u){2<arguments.length&&(u.dependencies=Array.prototype.slice.call(arguments,2));xe[a]=u}function ma(a){if("string"==typeof a&&lg.hasOwnProperty(a))a=lg[a];else if(a&&"string"==typeof a.name&&lg.hasOwnProperty(a.name)){var u=lg[a.name];"string"==typeof u&&(u={name:u});a=z(u,a);a.name=u.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return ma("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return ma("application/json")}return"string"==typeof a?
{name:a}:a||{name:"null"}}function Fa(a,u){u=ma(u);var S=xe[u.name];if(!S)return Fa(a,"text/plain");a=S(a,u);if(Eg.hasOwnProperty(u.name)){S=Eg[u.name];for(var Q in S)S.hasOwnProperty(Q)&&(a.hasOwnProperty(Q)&&(a["_"+Q]=a[Q]),a[Q]=S[Q])}a.name=u.name;u.helperType&&(a.helperType=u.helperType);if(u.modeProps)for(var Z in u.modeProps)a[Z]=u.modeProps[Z];return a}function Pa(a,u){a=Eg.hasOwnProperty(a)?Eg[a]:Eg[a]={};n(u,a)}function qa(a,u){if(!0===u)return u;if(a.copyState)return a.copyState(u);a={};
for(var S in u){var Q=u[S];Q instanceof Array&&(Q=Q.concat([]));a[S]=Q}return a}function ya(a,u){for(var S;a.innerMode;){S=a.innerMode(u);if(!S||S.mode==a)break;u=S.state;a=S.mode}return S||{mode:a,state:u}}function oa(a,u,S){return a.startState?a.startState(u,S):!0}function va(a,u){u-=a.first;if(0>u||u>=a.size)throw Error("There is no line "+(u+a.first)+" in the document.");for(;!a.lines;)for(var S=0;;++S){var Q=a.children[S],Z=Q.chunkSize();if(u<Z){a=Q;break}u-=Z}return a.lines[u]}function Ua(a,
u,S){var Q=[],Z=u.line;a.iter(u.line,S.line+1,function(Ga){Ga=Ga.text;Z==S.line&&(Ga=Ga.slice(0,S.ch));Z==u.line&&(Ga=Ga.slice(u.ch));Q.push(Ga);++Z});return Q}function eb(a,u,S){var Q=[];a.iter(u,S,function(Z){Q.push(Z.text)});return Q}function ra(a,u){if(u-=a.height)for(;a;a=a.parent)a.height+=u}function Oa(a){if(null==a.parent)return null;var u=a.parent;a=x(u.lines,a);for(var S=u.parent;S;u=S,S=S.parent)for(var Q=0;S.children[Q]!=u;++Q)a+=S.children[Q].chunkSize();return a+u.first}function ja(a,
u){var S=a.first;a:do{for(var Q=0;Q<a.children.length;++Q){var Z=a.children[Q],Ga=Z.height;if(u<Ga){a=Z;continue a}u-=Ga;S+=Z.chunkSize()}return S}while(!a.lines);for(Q=0;Q<a.lines.length;++Q){Z=a.lines[Q].height;if(u<Z)break;u-=Z}return S+Q}function U(a,u){return u>=a.first&&u<a.first+a.size}function ka(a,u){return String(a.lineNumberFormatter(u+a.firstLineNumber))}function wa(a,u,S){void 0===S&&(S=null);if(!(this instanceof wa))return new wa(a,u,S);this.line=a;this.ch=u;this.sticky=S}function Ta(a,
u){return a.line-u.line||a.ch-u.ch}function db(a,u){return a.sticky==u.sticky&&0==Ta(a,u)}function lb(a){return wa(a.line,a.ch)}function nb(a,u){return 0>Ta(a,u)?u:a}function Mb(a,u){return 0>Ta(a,u)?a:u}function $b(a,u){if(u.line<a.first)return wa(a.first,0);var S=a.first+a.size-1;if(u.line>S)return wa(S,va(a,S).text.length);a=va(a,u.line).text.length;S=u.ch;u=null==S||S>a?wa(u.line,a):0>S?wa(u.line,0):u;return u}function Gc(a,u){for(var S=[],Q=0;Q<u.length;Q++)S[Q]=$b(a,u[Q]);return S}function zc(a,
u,S,Q){var Z=[a.state.modeGen],Ga={};mc(a,u.text,a.doc.mode,S,function(wb,Rb){return Z.push(wb,Rb)},Ga,Q);var Va=S.state;Q=function(wb){S.baseTokens=Z;var Rb=a.state.overlays[wb],ec=1,Mc=0;S.state=!0;mc(a,u.text,Rb.mode,S,function(Wc,ad){for(var Wd=ec;Mc<Wc;){var Ee=Z[ec];Ee>Wc&&Z.splice(ec,1,Wc,Z[ec+1],Ee);ec+=2;Mc=Math.min(Wc,Ee)}if(ad)if(Rb.opaque)Z.splice(Wd,ec-Wd,Wc,"overlay "+ad),ec=Wd+2;else for(;Wd<ec;Wd+=2)Wc=Z[Wd+1],Z[Wd+1]=(Wc?Wc+" ":"")+"overlay "+ad},Ga);S.state=Va;S.baseTokens=null;
S.baseTokenPos=1};for(var Ya=0;Ya<a.state.overlays.length;++Ya)Q(Ya);return{styles:Z,classes:Ga.bgClass||Ga.textClass?Ga:null}}function Bc(a,u,S){if(!u.styles||u.styles[0]!=a.state.modeGen){var Q=uc(a,Oa(u)),Z=u.text.length>a.options.maxHighlightLength&&qa(a.doc.mode,Q.state),Ga=zc(a,u,Q);Z&&(Q.state=Z);u.stateAfter=Q.save(!Z);u.styles=Ga.styles;Ga.classes?u.styleClasses=Ga.classes:u.styleClasses&&(u.styleClasses=null);S===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return u.styles}
function uc(a,u,S){var Q=a.doc,Z=a.display;if(!Q.mode.startState)return new yh(Q,!0,u);var Ga=Kc(a,u,S),Va=Ga>Q.first&&va(Q,Ga-1).stateAfter,Ya=Va?yh.fromSaved(Q,Va,Ga):new yh(Q,oa(Q.mode),Ga);Q.iter(Ga,u,function(wb){id(a,wb.text,Ya);var Rb=Ya.line;wb.stateAfter=Rb==u-1||0==Rb%5||Rb>=Z.viewFrom&&Rb<Z.viewTo?Ya.save():null;Ya.nextLine()});S&&(Q.modeFrontier=Ya.line);return Ya}function id(a,u,S,Q){var Z=a.doc.mode;a=new yf(u,a.options.tabSize,S);a.start=a.pos=Q||0;for(""==u&&Hb(Z,S.state);!a.eol();)Ab(Z,
a,S.state),a.start=a.pos}function Hb(a,u){if(a.blankLine)return a.blankLine(u);if(a.innerMode&&(a=ya(a,u),a.mode.blankLine))return a.mode.blankLine(a.state)}function Ab(a,u,S,Q){for(var Z=0;10>Z;Z++){Q&&(Q[0]=ya(a,S).mode);var Ga=a.token(u,S);if(u.pos>u.start)return Ga}throw Error("Mode "+a.name+" failed to advance stream.");}function dc(a,u,S,Q){var Z=a.doc,Ga=Z.mode;u=$b(Z,u);var Va=va(Z,u.line);S=uc(a,u.line,S);a=new yf(Va.text,a.options.tabSize,S);var Ya;for(Q&&(Ya=[]);(Q||a.pos<u.ch)&&!a.eol();){a.start=
a.pos;var wb=Ab(Ga,a,S.state);Q&&Ya.push(new oi(a,wb,qa(Z.mode,S.state)))}return Q?Ya:new oi(a,wb,S.state)}function Wb(a,u){if(a)for(;;){var S=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!S)break;a=a.slice(0,S.index)+a.slice(S.index+S[0].length);var Q=S[1]?"bgClass":"textClass";null==u[Q]?u[Q]=S[2]:(new RegExp("(?:^|\\s)"+S[2]+"(?:$|\\s)")).test(u[Q])||(u[Q]+=" "+S[2])}return a}function mc(a,u,S,Q,Z,Ga,Va){var Ya=S.flattenSpans;null==Ya&&(Ya=a.options.flattenSpans);var wb=0,Rb=null,ec=new yf(u,
a.options.tabSize,Q),Mc=a.options.addModeClass&&[null];for(""==u&&Wb(Hb(S,Q.state),Ga);!ec.eol();){if(ec.pos>a.options.maxHighlightLength){Ya=!1;Va&&id(a,u,Q,ec.pos);ec.pos=u.length;var Wc=null}else Wc=Wb(Ab(S,ec,Q.state,Mc),Ga);if(Mc){var ad=Mc[0].name;ad&&(Wc="m-"+(Wc?ad+" "+Wc:ad))}if(!Ya||Rb!=Wc){for(;wb<ec.start;)wb=Math.min(ec.start,wb+5E3),Z(wb,Rb);Rb=Wc}ec.start=ec.pos}for(;wb<ec.pos;)a=Math.min(ec.pos,wb+5E3),Z(a,Rb),wb=a}function Kc(a,u,S){for(var Q,Z,Ga=a.doc,Va=S?-1:u-(a.doc.mode.innerMode?
1E3:100);u>Va;--u){if(u<=Ga.first)return Ga.first;var Ya=va(Ga,u-1),wb=Ya.stateAfter;if(wb&&(!S||u+(wb instanceof mh?wb.lookAhead:0)<=Ga.modeFrontier))return u;Ya=h(Ya.text,null,a.options.tabSize);if(null==Z||Q>Ya)Z=u-1,Q=Ya}return Z}function Fc(a,u){a.modeFrontier=Math.min(a.modeFrontier,u);if(!(a.highlightFrontier<u-10)){for(var S=a.first,Q=u-1;Q>S;Q--){var Z=va(a,Q).stateAfter;if(Z&&(!(Z instanceof mh)||Q+Z.lookAhead<u)){S=Q+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,S)}}function Sc(a,
u,S){this.marker=a;this.from=u;this.to=S}function jd(a,u){if(a)for(var S=0;S<a.length;++S){var Q=a[S];if(Q.marker==u)return Q}}function $d(a,u){if(u.full)return null;var S=U(a,u.from.line)&&va(a,u.from.line).markedSpans,Q=U(a,u.to.line)&&va(a,u.to.line).markedSpans;if(!S&&!Q)return null;a=u.from.ch;var Z=u.to.ch,Ga=0==Ta(u.from,u.to),Va;if(S)for(var Ya=0;Ya<S.length;++Ya){var wb=S[Ya],Rb=wb.marker;if(null==wb.from||(Rb.inclusiveLeft?wb.from<=a:wb.from<a)||!(wb.from!=a||"bookmark"!=Rb.type||Ga&&wb.marker.insertLeft)){var ec=
null==wb.to||(Rb.inclusiveRight?wb.to>=a:wb.to>a);(Va||(Va=[])).push(new Sc(Rb,wb.from,ec?null:wb.to))}}S=Va;var Mc;if(Q)for(Va=0;Va<Q.length;++Va)if(Ya=Q[Va],wb=Ya.marker,null==Ya.to||(wb.inclusiveRight?Ya.to>=Z:Ya.to>Z)||Ya.from==Z&&"bookmark"==wb.type&&(!Ga||Ya.marker.insertLeft))Rb=null==Ya.from||(wb.inclusiveLeft?Ya.from<=Z:Ya.from<Z),(Mc||(Mc=[])).push(new Sc(wb,Rb?null:Ya.from-Z,null==Ya.to?null:Ya.to-Z));Q=1==u.text.length;Z=F(u.text).length+(Q?a:0);if(S)for(Ga=0;Ga<S.length;++Ga)if(Va=S[Ga],
null==Va.to)(Ya=jd(Mc,Va.marker),Ya)?Q&&(Va.to=null==Ya.to?null:Ya.to+Z):Va.to=a;if(Mc)for(a=0;a<Mc.length;++a)Ga=Mc[a],null!=Ga.to&&(Ga.to+=Z),null==Ga.from?jd(S,Ga.marker)||(Ga.from=Z,Q&&(S||(S=[])).push(Ga)):(Ga.from+=Z,Q&&(S||(S=[])).push(Ga));S&&(S=Ba(S));Mc&&Mc!=S&&(Mc=Ba(Mc));a=[S];if(!Q){u=u.text.length-2;var Wc;if(0<u&&S)for(Q=0;Q<S.length;++Q)null==S[Q].to&&(Wc||(Wc=[])).push(new Sc(S[Q].marker,null,null));for(S=0;S<u;++S)a.push(Wc);a.push(Mc)}return a}function Ba(a){for(var u=0;u<a.length;++u){var S=
a[u];null!=S.from&&S.from==S.to&&!1!==S.marker.clearWhenEmpty&&a.splice(u--,1)}return a.length?a:null}function ua(a,u,S){var Q=null;a.iter(u.line,S.line+1,function(ec){if(ec.markedSpans)for(var Mc=0;Mc<ec.markedSpans.length;++Mc){var Wc=ec.markedSpans[Mc].marker;!Wc.readOnly||Q&&-1!=x(Q,Wc)||(Q||(Q=[])).push(Wc)}});if(!Q)return null;a=[{from:u,to:S}];for(u=0;u<Q.length;++u){S=Q[u];for(var Z=S.find(0),Ga=0;Ga<a.length;++Ga){var Va=a[Ga];if(!(0>Ta(Va.to,Z.from)||0<Ta(Va.from,Z.to))){var Ya=[Ga,1],wb=
Ta(Va.from,Z.from),Rb=Ta(Va.to,Z.to);(0>wb||!S.inclusiveLeft&&!wb)&&Ya.push({from:Va.from,to:Z.from});(0<Rb||!S.inclusiveRight&&!Rb)&&Ya.push({from:Z.to,to:Va.to});a.splice.apply(a,Ya);Ga+=Ya.length-3}}}return a}function Ca(a){var u=a.markedSpans;if(u){for(var S=0;S<u.length;++S)u[S].marker.detachLine(a);a.markedSpans=null}}function $a(a,u){if(u){for(var S=0;S<u.length;++S)u[S].marker.attachLine(a);a.markedSpans=u}}function jb(a,u){var S=a.lines.length-u.lines.length;if(0!=S)return S;S=a.find();var Q=
u.find(),Z=Ta(S.from,Q.from)||(a.inclusiveLeft?-1:0)-(u.inclusiveLeft?-1:0);return Z?-Z:(S=Ta(S.to,Q.to)||(a.inclusiveRight?1:0)-(u.inclusiveRight?1:0))?S:u.id-a.id}function yb(a,u){a=zi&&a.markedSpans;if(a)for(var S,Q=0;Q<a.length;++Q)if(S=a[Q],S.marker.collapsed&&null==(u?S.from:S.to)&&(!Z||0>jb(Z,S.marker)))var Z=S.marker;return Z}function Ub(a,u,S,Q,Z){a=va(a,u);if(a=zi&&a.markedSpans)for(u=0;u<a.length;++u){var Ga=a[u];if(Ga.marker.collapsed){var Va=Ga.marker.find(0),Ya=Ta(Va.from,S)||(Ga.marker.inclusiveLeft?
-1:0)-(Z.inclusiveLeft?-1:0),wb=Ta(Va.to,Q)||(Ga.marker.inclusiveRight?1:0)-(Z.inclusiveRight?1:0);if(!(0<=Ya&&0>=wb||0>=Ya&&0<=wb)&&(0>=Ya&&(Ga.marker.inclusiveRight&&Z.inclusiveLeft?0<=Ta(Va.to,S):0<Ta(Va.to,S))||0<=Ya&&(Ga.marker.inclusiveRight&&Z.inclusiveLeft?0>=Ta(Va.from,Q):0>Ta(Va.from,Q))))return!0}}}function Tb(a){for(var u;u=yb(a,!0);)a=u.find(-1,!0).line;return a}function Vb(a,u){a=va(a,u);var S=Tb(a);return a==S?u:Oa(S)}function Ic(a,u){if(u>a.lastLine())return u;var S=va(a,u);if(!Yc(a,
S))return u;for(;a=yb(S,!1);)S=a.find(1,!0).line;return Oa(S)+1}function Yc(a,u){var S=zi&&u.markedSpans;if(S)for(var Q,Z=0;Z<S.length;++Z)if(Q=S[Z],Q.marker.collapsed&&(null==Q.from||!Q.marker.widgetNode&&0==Q.from&&Q.marker.inclusiveLeft&&dd(a,u,Q)))return!0}function dd(a,u,S){if(null==S.to)return u=S.marker.find(1,!0),dd(a,u.line,jd(u.line.markedSpans,S.marker));if(S.marker.inclusiveRight&&S.to==u.text.length)return!0;for(var Q,Z=0;Z<u.markedSpans.length;++Z)if(Q=u.markedSpans[Z],Q.marker.collapsed&&
!Q.marker.widgetNode&&Q.from==S.to&&(null==Q.to||Q.to!=S.from)&&(Q.marker.inclusiveLeft||S.marker.inclusiveRight)&&dd(a,u,Q))return!0}function nd(a){a=Tb(a);for(var u=0,S=a.parent,Q=0;Q<S.lines.length;++Q){var Z=S.lines[Q];if(Z==a)break;else u+=Z.height}for(a=S.parent;a;S=a,a=S.parent)for(Q=0;Q<a.children.length&&(Z=a.children[Q],Z!=S);++Q)u+=Z.height;return u}function xd(a){if(0==a.height)return 0;for(var u=a.text.length,S,Q=a;S=yb(Q,!0);)S=S.find(0,!0),Q=S.from.line,u+=S.from.ch-S.to.ch;for(Q=a;S=
yb(Q,!1);)a=S.find(0,!0),u-=Q.text.length-a.from.ch,Q=a.to.line,u+=Q.text.length-a.to.ch;return u}function Nd(a){var u=a.display;a=a.doc;u.maxLine=va(a,a.first);u.maxLineLength=xd(u.maxLine);u.maxLineChanged=!0;a.iter(function(S){var Q=xd(S);Q>u.maxLineLength&&(u.maxLineLength=Q,u.maxLine=S)})}function Xd(a,u){if(!a||/^\s*$/.test(a))return null;u=u.addModeClass?sk:Kj;return u[a]||(u[a]=a.replace(/\S+/g,"cm-$\x26"))}function ge(a,u){var S=t("span",null,null,Zg?"padding-right: .1px":null);S={pre:t("pre",
[S],"CodeMirror-line"),content:S,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};u.measure={};for(var Q=0;Q<=(u.rest?u.rest.length:0);Q++){var Z=Q?u.rest[Q-1]:u.line,Ga=void 0;S.pos=0;S.addToken=qe;var Va=a.display.measure;if(null!=rg)Va=rg;else{var Ya=p(Va,document.createTextNode("AA")),wb=Ac(Ya,0,1).getBoundingClientRect();Ya=Ac(Ya,1,2).getBoundingClientRect();k(Va);Va=wb&&wb.left!=wb.right?rg=3>Ya.right-wb.right:!1}Va&&(Ga=La(Z,a.doc.direction))&&(S.addToken=wd(S.addToken,
Ga));S.map=[];var Rb=u!=a.display.externalMeasured&&Oa(Z);a:{var ec=Ya=wb=Va=void 0,Mc=void 0,Wc=void 0,ad=void 0;Ga=S;Rb=Bc(a,Z,Rb);var Wd=Z.markedSpans,Ee=Z.text,wf=0;if(Wd)for(var zg=Ee.length,lf=0,Gg=1,cg="",Lg=0;;){if(Lg==lf){Mc=ec=Ya=Wc="";wb=Va=null;Lg=Infinity;for(var sg=[],Of=void 0,Vg=0;Vg<Wd.length;++Vg){var hg=Wd[Vg],pg=hg.marker;if("bookmark"==pg.type&&hg.from==lf&&pg.widgetNode)sg.push(pg);else if(hg.from<=lf&&(null==hg.to||hg.to>lf||pg.collapsed&&hg.to==lf&&hg.from==lf)){null!=hg.to&&
hg.to!=lf&&Lg>hg.to&&(Lg=hg.to,ec="");pg.className&&(Mc+=" "+pg.className);pg.css&&(Wc=(Wc?Wc+";":"")+pg.css);pg.startStyle&&hg.from==lf&&(Ya+=" "+pg.startStyle);pg.endStyle&&hg.to==Lg&&(Of||(Of=[])).push(pg.endStyle,hg.to);pg.title&&((Va||(Va={})).title=pg.title);if(pg.attributes)for(var Kh in pg.attributes)(Va||(Va={}))[Kh]=pg.attributes[Kh];pg.collapsed&&(!wb||0>jb(wb.marker,pg))&&(wb=hg)}else hg.from>lf&&Lg>hg.from&&(Lg=hg.from)}if(Of)for(Vg=0;Vg<Of.length;Vg+=2)Of[Vg+1]==Lg&&(ec+=" "+Of[Vg]);
if(!wb||wb.from==lf)for(Of=0;Of<sg.length;++Of)qf(Ga,0,sg[Of]);if(wb&&(wb.from||0)==lf){qf(Ga,(null==wb.to?zg+1:wb.to)-lf,wb.marker,null==wb.from);if(null==wb.to)break a;wb.to==lf&&(wb=!1)}}if(lf>=zg)break;for(sg=Math.min(zg,Lg);;){if(cg){Of=lf+cg.length;wb||(Vg=Of>sg?cg.slice(0,sg-lf):cg,Ga.addToken(Ga,Vg,ad?ad+Mc:Mc,Ya,lf+Vg.length==Lg?ec:"",Wc,Va));if(Of>=sg){cg=cg.slice(sg-lf);lf=sg;break}lf=Of;Ya=""}cg=Ee.slice(wf,wf=Rb[Gg++]);ad=Xd(Rb[Gg++],Ga.cm.options)}}else for(Va=1;Va<Rb.length;Va+=2)Ga.addToken(Ga,
Ee.slice(wf,wf=Rb[Va]),Xd(Rb[Va+1],Ga.cm.options))}Z.styleClasses&&(Z.styleClasses.bgClass&&(S.bgClass=c(Z.styleClasses.bgClass,S.bgClass||"")),Z.styleClasses.textClass&&(S.textClass=c(Z.styleClasses.textClass,S.textClass||"")));0==S.map.length&&(Z=S.map,Ga=Z.push,Va=S.content,wb=Va.appendChild,Ya=a.display.measure,null==nf&&(ec=q("span",""),p(Ya,q("span",[ec,document.createTextNode("x")])),0!=Ya.firstChild.offsetHeight&&(nf=1>=ec.offsetWidth&&2<ec.offsetHeight&&!(Yf&&8>yg))),Ya=nf?q("span",""):
q("span","",null,"display: inline-block; width: 1px; margin-right: -1px"),Ya.setAttribute("cm-text",""),Ga.call(Z,0,0,wb.call(Va,Ya)));0==Q?(u.measure.map=S.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(S.map),(u.measure.caches||(u.measure.caches=[])).push({}))}Zg&&(Kh=S.content.lastChild,/\bcm-tab\b/.test(Kh.className)||Kh.querySelector&&Kh.querySelector(".cm-tab"))&&(S.content.className="cm-tab-wrap-hack");C(a,"renderLine",a,u.line,S.pre);S.pre.className&&(S.textClass=c(S.pre.className,
S.textClass||""));return S}function le(a){var u=q("span","","cm-invalidchar");u.title="\\u"+a.charCodeAt(0).toString(16);u.setAttribute("aria-label",u.title);return u}function qe(a,u,S,Q,Z,Ga,Va){if(u){if(a.splitSpaces){var Ya=a.trailingSpace;if(1<u.length&&!/  /.test(u))Ya=u;else{for(var wb="",Rb=0;Rb<u.length;Rb++){var ec=u.charAt(Rb);" "!=ec||!Ya||Rb!=u.length-1&&32!=u.charCodeAt(Rb+1)||(ec="");wb+=ec;Ya=" "==ec}Ya=wb}}else Ya=u;wb=Ya;Rb=a.cm.state.specialChars;ec=!1;if(Rb.test(u)){Ya=document.createDocumentFragment();
for(var Mc=0;;){Rb.lastIndex=Mc;var Wc=Rb.exec(u),ad=Wc?Wc.index-Mc:u.length-Mc;if(ad){var Wd=document.createTextNode(wb.slice(Mc,Mc+ad));Yf&&9>yg?Ya.appendChild(q("span",[Wd])):Ya.appendChild(Wd);a.map.push(a.pos,a.pos+ad,Wd);a.col+=ad;a.pos+=ad}if(!Wc)break;Mc+=ad+1;"\t"==Wc[0]?(Wc=a.cm.options.tabSize,Wc-=a.col%Wc,ad=Ya.appendChild(q("span",H(Wc),"cm-tab")),ad.setAttribute("role","presentation"),ad.setAttribute("cm-text","\t"),a.col+=Wc):("\r"==Wc[0]||"\n"==Wc[0]?(ad=Ya.appendChild(q("span","\r"==
Wc[0]?"":"","cm-invalidchar")),ad.setAttribute("cm-text",Wc[0])):(ad=a.cm.options.specialCharPlaceholder(Wc[0]),ad.setAttribute("cm-text",Wc[0]),Yf&&9>yg?Ya.appendChild(q("span",[ad])):Ya.appendChild(ad)),a.col+=1);a.map.push(a.pos,a.pos+1,ad);a.pos++}}else a.col+=u.length,Ya=document.createTextNode(wb),a.map.push(a.pos,a.pos+u.length,Ya),Yf&&9>yg&&(ec=!0),a.pos+=u.length;a.trailingSpace=32==wb.charCodeAt(u.length-1);if(S||Q||Z||ec||Ga||Va){u=S||"";Q&&(u+=Q);Z&&(u+=Z);Q=q("span",[Ya],u,Ga);if(Va)for(var Ee in Va)Va.hasOwnProperty(Ee)&&
"style"!=Ee&&"class"!=Ee&&Q.setAttribute(Ee,Va[Ee]);return a.content.appendChild(Q)}a.content.appendChild(Ya)}}function wd(a,u){return function(S,Q,Z,Ga,Va,Ya,wb){Z=Z?Z+" cm-force-border":"cm-force-border";for(var Rb=S.pos,ec=Rb+Q.length;;){for(var Mc=void 0,Wc=0;Wc<u.length&&!(Mc=u[Wc],Mc.to>Rb&&Mc.from<=Rb);Wc++);if(Mc.to>=ec)return a(S,Q,Z,Ga,Va,Ya,wb);a(S,Q.slice(0,Mc.to-Rb),Z,Ga,null,Ya,wb);Ga=null;Q=Q.slice(Mc.to-Rb);Rb=Mc.to}}}function qf(a,u,S,Q){var Z=!Q&&S.widgetNode;Z&&a.map.push(a.pos,
a.pos+u,Z);!Q&&a.cm.display.input.needsContentAttribute&&(Z||(Z=a.content.appendChild(document.createElement("span"))),Z.setAttribute("cm-marker",S.id));Z&&(a.cm.display.input.setUneditable(Z),a.content.appendChild(Z));a.pos+=u;a.trailingSpace=!1}function gf(a,u,S){for(var Q=this.line=u,Z;Q=yb(Q,!1);)Q=Q.find(1,!0).line,(Z||(Z=[])).push(Q);this.size=(this.rest=Z)?Oa(F(this.rest))-S+1:1;this.node=this.text=null;this.hidden=Yc(a,u)}function te(a,u,S){var Q=[],Z;for(Z=u;Z<S;)u=new gf(a.doc,va(a.doc,
Z),Z),Z+=u.size,Q.push(u);return Q}function We(a,u){if(a=a.ownsGroup)try{var S=a.delayedCallbacks,Q=0;do{for(;Q<S.length;Q++)S[Q].call(null);for(var Z=0;Z<a.ops.length;Z++){var Ga=a.ops[Z];if(Ga.cursorActivityHandlers)for(;Ga.cursorActivityCalled<Ga.cursorActivityHandlers.length;)Ga.cursorActivityHandlers[Ga.cursorActivityCalled++].call(null,Ga.cm)}}while(Q<S.length)}finally{fj=null,u(a)}}function za(a,u){var S=a._handlers&&a._handlers[u]||lh;if(S.length){var Q=Array.prototype.slice.call(arguments,
2);if(fj)var Z=fj.delayedCallbacks;else Fg?Z=Fg:(Z=Fg=[],setTimeout(Za,0));for(var Ga=function(Ya){Z.push(function(){return S[Ya].apply(null,Q)})},Va=0;Va<S.length;++Va)Ga(Va)}}function Za(){var a=Fg;Fg=null;for(var u=0;u<a.length;++u)a[u]()}function tb(a,u,S,Q){for(var Z=0;Z<u.changes.length;Z++){var Ga=u.changes[Z];if("text"==Ga){Ga=a;var Va=u,Ya=Va.text.className,wb=fc(Ga,Va);Va.text==Va.node&&(Va.node=wb.pre);Va.text.parentNode.replaceChild(wb.pre,Va.text);Va.text=wb.pre;wb.bgClass!=Va.bgClass||
wb.textClass!=Va.textClass?(Va.bgClass=wb.bgClass,Va.textClass=wb.textClass,nc(Ga,Va)):Ya&&(Va.text.className=Ya)}else if("gutter"==Ga)Hc(a,u,S,Q);else if("class"==Ga)nc(a,u);else if("widget"==Ga){Ga=a;Va=u;Ya=Q;Va.alignable&&(Va.alignable=null);wb=w("CodeMirror-linewidget");for(var Rb=Va.node.firstChild,ec;Rb;Rb=ec)ec=Rb.nextSibling,wb.test(Rb.className)&&Va.node.removeChild(Rb);lc(Ga,Va,Ya)}}u.changes=null}function Jb(a){a.node==a.text&&(a.node=q("div",null,null,"position: relative"),a.text.parentNode&&
a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),Yf&&8>yg&&(a.node.style.zIndex=2));return a.node}function fc(a,u){var S=a.display.externalMeasured;return S&&S.line==u.line?(a.display.externalMeasured=null,u.measure=S.measure,S.built):ge(a,u)}function nc(a,u){var S=u.bgClass?u.bgClass+" "+(u.line.bgClass||""):u.line.bgClass;S&&(S+=" CodeMirror-linebackground");if(u.background)S?u.background.className=S:(u.background.parentNode.removeChild(u.background),u.background=null);else if(S){var Q=
Jb(u);u.background=Q.insertBefore(q("div",null,S),Q.firstChild);a.display.input.setUneditable(u.background)}u.line.wrapClass?Jb(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");u.text.className=(u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass)||""}function Hc(a,u,S,Q){u.gutter&&(u.node.removeChild(u.gutter),u.gutter=null);u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null);if(u.line.gutterClass){var Z=Jb(u);u.gutterBackground=
q("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(a.options.fixedGutter?Q.fixedPos:-Q.gutterTotalWidth)+"px; width: "+Q.gutterTotalWidth+"px");a.display.input.setUneditable(u.gutterBackground);Z.insertBefore(u.gutterBackground,u.text)}Z=u.line.gutterMarkers;if(a.options.lineNumbers||Z){var Ga=Jb(u),Va=u.gutter=q("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?Q.fixedPos:-Q.gutterTotalWidth)+"px");Va.setAttribute("aria-hidden","true");a.display.input.setUneditable(Va);
Ga.insertBefore(Va,u.text);u.line.gutterClass&&(Va.className+=" "+u.line.gutterClass);!a.options.lineNumbers||Z&&Z["CodeMirror-linenumbers"]||(u.lineNumber=Va.appendChild(q("div",ka(a.options,S),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+Q.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(Z)for(u=0;u<a.display.gutterSpecs.length;++u)S=a.display.gutterSpecs[u].className,(Ga=Z.hasOwnProperty(S)&&Z[S])&&Va.appendChild(q("div",[Ga],"CodeMirror-gutter-elt",
"left: "+Q.gutterLeft[S]+"px; width: "+Q.gutterWidth[S]+"px"))}}function Dc(a,u,S,Q){var Z=fc(a,u);u.text=u.node=Z.pre;Z.bgClass&&(u.bgClass=Z.bgClass);Z.textClass&&(u.textClass=Z.textClass);nc(a,u);Hc(a,u,S,Q);lc(a,u,Q);return u.node}function lc(a,u,S){ld(a,u.line,u,S,!0);if(u.rest)for(var Q=0;Q<u.rest.length;Q++)ld(a,u.rest[Q],u,S,!1)}function ld(a,u,S,Q,Z){if(u.widgets){var Ga=Jb(S),Va=0;for(u=u.widgets;Va<u.length;++Va){var Ya=u[Va],wb=q("div",[Ya.node],"CodeMirror-linewidget"+(Ya.className?" "+
Ya.className:""));Ya.handleMouseEvents||wb.setAttribute("cm-ignore-events","true");var Rb=Ya,ec=wb,Mc=Q;if(Rb.noHScroll){(S.alignable||(S.alignable=[])).push(ec);var Wc=Mc.wrapperWidth;ec.style.left=Mc.fixedPos+"px";Rb.coverGutter||(Wc-=Mc.gutterTotalWidth,ec.style.paddingLeft=Mc.gutterTotalWidth+"px");ec.style.width=Wc+"px"}Rb.coverGutter&&(ec.style.zIndex=5,ec.style.position="relative",Rb.noHScroll||(ec.style.marginLeft=-Mc.gutterTotalWidth+"px"));a.display.input.setUneditable(wb);Z&&Ya.above?Ga.insertBefore(wb,
S.gutter||S.text):Ga.appendChild(wb);za(Ya,"redraw")}}}function sd(a){if(null!=a.height)return a.height;var u=a.doc.cm;if(!u)return 0;if(!m(document.body,a.node)){var S="position: relative;";a.coverGutter&&(S+="margin-left: -"+u.display.gutters.offsetWidth+"px;");a.noHScroll&&(S+="width: "+u.display.wrapper.clientWidth+"px;");p(u.display.measure,q("div",[a.node],null,S))}return a.height=a.node.parentNode.offsetHeight}function Hd(a,u){for(u=u.target||u.srcElement;u!=a.wrapper;u=u.parentNode)if(!u||
1==u.nodeType&&"true"==u.getAttribute("cm-ignore-events")||u.parentNode==a.sizer&&u!=a.mover)return!0}function Vd(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function be(a){if(a.cachedPaddingH)return a.cachedPaddingH;var u=p(a.measure,q("pre","x","CodeMirror-line-like"));u=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle;u={left:parseInt(u.paddingLeft),right:parseInt(u.paddingRight)};isNaN(u.left)||isNaN(u.right)||(a.cachedPaddingH=u);return u}function he(a){return 50-
a.display.nativeBarWidth}function Ce(a){return a.display.scroller.clientWidth-he(a)-a.display.barWidth}function re(a){return a.display.scroller.clientHeight-he(a)-a.display.barHeight}function vf(a,u,S){if(a.line==u)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var Q=0;Q<a.rest.length;Q++)if(a.rest[Q]==u)return{map:a.measure.maps[Q],cache:a.measure.caches[Q]};for(u=0;u<a.rest.length;u++)if(Oa(a.rest[u])>S)return{map:a.measure.maps[u],cache:a.measure.caches[u],before:!0}}}function Ge(a,
u){if(u>=a.display.viewFrom&&u<a.display.viewTo)return a.display.view[Nc(a,u)];if((a=a.display.externalMeasured)&&u>=a.lineN&&u<a.lineN+a.size)return a}function Re(a,u){var S=Oa(u),Q=Ge(a,S);Q&&!Q.text?Q=null:Q&&Q.changes&&(tb(a,Q,S,ob(a)),a.curOp.forceUpdate=!0);if(!Q){var Z=Tb(u);Q=Oa(Z);Z=a.display.externalMeasured=new gf(a.doc,Z,Q);Z.lineN=Q;Q=Z.built=ge(a,Z);Z.text=Q.pre;p(a.display.lineMeasure,Q.pre);Q=Z}a=vf(Q,u,S);return{line:u,view:Q,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}
function af(a,u,S,Q,Z){u.before&&(S=-1);var Ga=S+(Q||"");if(u.cache.hasOwnProperty(Ga))a=u.cache[Ga];else{u.rect||(u.rect=u.view.text.getBoundingClientRect());if(!u.hasHeights){var Va=u.view,Ya=u.rect,wb=a.options.lineWrapping,Rb=wb&&Ce(a);if(!Va.measure.heights||wb&&Va.measure.width!=Rb){var ec=Va.measure.heights=[];if(wb)for(Va.measure.width=Rb,Va=Va.text.firstChild.getClientRects(),wb=0;wb<Va.length-1;wb++){Rb=Va[wb];var Mc=Va[wb+1];2<Math.abs(Rb.bottom-Mc.bottom)&&ec.push((Rb.bottom+Mc.top)/2-
Ya.top)}ec.push(Ya.bottom-Ya.top)}u.hasHeights=!0}ec=Q;Va=Qb(u.map,S,ec);Q=Va.node;Ya=Va.start;wb=Va.end;S=Va.collapse;if(3==Q.nodeType){for(var Wc=0;4>Wc;Wc++){for(;Ya&&ca(u.line.text.charAt(Va.coverStart+Ya));)--Ya;for(;Va.coverStart+wb<Va.coverEnd&&ca(u.line.text.charAt(Va.coverStart+wb));)++wb;if(Yf&&9>yg&&0==Ya&&wb==Va.coverEnd-Va.coverStart)var ad=Q.parentNode.getBoundingClientRect();else{ad=Ac(Q,Ya,wb).getClientRects();wb=Gi;if("left"==ec)for(Rb=0;Rb<ad.length&&(wb=ad[Rb]).left==wb.right;Rb++);
else for(Rb=ad.length-1;0<=Rb&&(wb=ad[Rb]).left==wb.right;Rb--);ad=wb}if(ad.left||ad.right||0==Ya)break;wb=Ya;--Ya;S="right"}Yf&&11>yg&&((Wc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=Ve?Wc=Ve:(ec=p(a.display.measure,q("span","x")),Wc=ec.getBoundingClientRect(),ec=Ac(ec,0,1).getBoundingClientRect(),Wc=Ve=1<Math.abs(Wc.left-ec.left)),Wc=!Wc),Wc||(Wc=screen.logicalXDPI/screen.deviceXDPI,ec=screen.logicalYDPI/screen.deviceYDPI,ad={left:ad.left*Wc,right:ad.right*
Wc,top:ad.top*ec,bottom:ad.bottom*ec}))}else 0<Ya&&(S=ec="right"),ad=a.options.lineWrapping&&1<(Wc=Q.getClientRects()).length?Wc["right"==ec?Wc.length-1:0]:Q.getBoundingClientRect();!(Yf&&9>yg)||Ya||ad&&(ad.left||ad.right)||(ad=(ad=Q.parentNode.getClientRects()[0])?{left:ad.left,right:ad.left+ha(a.display),top:ad.top,bottom:ad.bottom}:Gi);Q=ad.top-u.rect.top;Ya=ad.bottom-u.rect.top;Wc=(Q+Ya)/2;ec=u.view.measure.heights;for(Va=0;Va<ec.length-1&&!(Wc<ec[Va]);Va++);S={left:("right"==S?ad.right:ad.left)-
u.rect.left,right:("left"==S?ad.left:ad.right)-u.rect.left,top:Va?ec[Va-1]:0,bottom:ec[Va]};ad.left||ad.right||(S.bogus=!0);a.options.singleCursorHeightPerLine||(S.rtop=Q,S.rbottom=Ya);a=S;a.bogus||(u.cache[Ga]=a)}return{left:a.left,right:a.right,top:Z?a.rtop:a.top,bottom:Z?a.rbottom:a.bottom}}function Qb(a,u,S){for(var Q,Z,Ga,Va,Ya,wb,Rb=0;Rb<a.length;Rb+=3){Ya=a[Rb];wb=a[Rb+1];if(u<Ya)Z=0,Ga=1,Va="left";else if(u<wb)Z=u-Ya,Ga=Z+1;else if(Rb==a.length-3||u==wb&&a[Rb+3]>u)Ga=wb-Ya,Z=Ga-1,u>=wb&&(Va=
"right");if(null!=Z){Q=a[Rb+2];Ya==wb&&S==(Q.insertLeft?"left":"right")&&(Va=S);if("left"==S&&0==Z)for(;Rb&&a[Rb-2]==a[Rb-3]&&a[Rb-1].insertLeft;)Q=a[(Rb-=3)+2],Va="left";if("right"==S&&Z==wb-Ya)for(;Rb<a.length-3&&a[Rb+3]==a[Rb+4]&&!a[Rb+5].insertLeft;)Q=a[(Rb+=3)+2],Va="right";break}}return{node:Q,start:Z,end:Ga,collapse:Va,coverStart:Ya,coverEnd:wb}}function rc(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var u=0;u<a.rest.length;u++)a.measure.caches[u]={}}function bd(a){a.display.externalMeasure=
null;k(a.display.lineMeasure);for(var u=0;u<a.display.view.length;u++)rc(a.display.view[u])}function Ad(a){bd(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function xa(a){return ei&&rh?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function Xa(a){return ei&&rh?-(a.body.getBoundingClientRect().top-
parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function zb(a){a=Tb(a).widgets;var u=0;if(a)for(var S=0;S<a.length;++S)a[S].above&&(u+=sd(a[S]));return u}function Xb(a,u,S,Q,Z){Z||(Z=zb(u),S.top+=Z,S.bottom+=Z);if("line"==Q)return S;Q||(Q="local");u=nd(u);u="local"==Q?u+a.display.lineSpace.offsetTop:u-a.display.viewOffset;if("page"==Q||"window"==Q)Z=a.display.lineSpace.getBoundingClientRect(),u+=Z.top+("window"==Q?0:Xa(e(a))),a=Z.left+
("window"==Q?0:xa(e(a))),S.left+=a,S.right+=a;S.top+=u;S.bottom+=u;return S}function tc(a,u,S){if("div"==S)return u;var Q=u.left;u=u.top;"page"==S?(Q-=xa(e(a)),u-=Xa(e(a))):"local"!=S&&S||(S=a.display.sizer.getBoundingClientRect(),Q+=S.left,u+=S.top);a=a.display.lineSpace.getBoundingClientRect();return{left:Q-a.left,top:u-a.top}}function gd(a,u,S,Q,Z){Q||(Q=va(a.doc,u.line));var Ga=Q;u=u.ch;Q=af(a,Re(a,Q),u,Z);return Xb(a,Ga,Q,S)}function qc(a,u,S,Q,Z,Ga){function Va(Wc,ad){Wc=af(a,Z,Wc,ad?"right":
"left",Ga);ad?Wc.left=Wc.right:Wc.right=Wc.left;return Xb(a,Q,Wc,S)}function Ya(Wc,ad,Wd){return Va(Wd?Wc-1:Wc,1==wb[ad].level!=Wd)}Q=Q||va(a.doc,u.line);Z||(Z=Re(a,Q));var wb=La(Q,a.doc.direction),Rb=u.ch;u=u.sticky;Rb>=Q.text.length?(Rb=Q.text.length,u="before"):0>=Rb&&(Rb=0,u="after");if(!wb)return Va("before"==u?Rb-1:Rb,"before"==u);var ec=ea(wb,Rb,u),Mc=Dg;ec=Ya(Rb,ec,"before"==u);null!=Mc&&(ec.other=Ya(Rb,Mc,"before"!=u));return ec}function rb(a,u){var S=0;u=$b(a.doc,u);a.options.lineWrapping||
(S=ha(a.display)*u.ch);u=va(a.doc,u.line);a=nd(u)+a.display.lineSpace.offsetTop;return{left:S,right:S,top:a,bottom:a+u.height}}function Bb(a,u,S,Q,Z){a=wa(a,u,S);a.xRel=Z;Q&&(a.outside=Q);return a}function ic(a,u,S){var Q=a.doc;S+=a.display.viewOffset;if(0>S)return Bb(Q.first,0,null,-1,-1);var Z=ja(Q,S),Ga=Q.first+Q.size-1;if(Z>Ga)return Bb(Q.first+Q.size-1,va(Q,Ga).text.length,null,1,1);0>u&&(u=0);for(var Va=va(Q,Z);;){Ga=Gd(a,Va,Z,u,S);var Ya=void 0;var wb=Ga.ch+(0<Ga.xRel||0<Ga.outside?1:0);if(Va=
zi&&Va.markedSpans)for(var Rb=0;Rb<Va.length;++Rb){var ec=Va[Rb];ec.marker.collapsed&&(null==ec.from||ec.from<wb)&&(null==ec.to||ec.to>wb)&&(!Ya||0>jb(Ya,ec.marker))&&(Ya=ec.marker)}if(!Ya)return Ga;Ga=Ya.find(1);if(Ga.line==Z)return Ga;Va=va(Q,Z=Ga.line)}}function Uc(a,u,S,Q){Q-=zb(u);u=u.text.length;var Z=ba(function(Ga){return af(a,S,Ga-1).bottom<=Q},u,0);u=ba(function(Ga){return af(a,S,Ga).top>Q},Z,u);return{begin:Z,end:u}}function Rd(a,u,S,Q){S||(S=Re(a,u));Q=Xb(a,u,af(a,S,Q),"line").top;return Uc(a,
u,S,Q)}function Md(a,u,S,Q){return a.bottom<=S?!1:a.top>S?!0:(Q?a.left:a.right)>u}function Gd(a,u,S,Q,Z){Z-=nd(u);var Ga=Re(a,u),Va=zb(u),Ya=0,wb=u.text.length,Rb=!0,ec=La(u,a.doc.direction);ec&&(ec=(a.options.lineWrapping?Me:Pd)(a,u,S,Ga,ec,Q,Z),Ya=(Rb=1!=ec.level)?ec.from:ec.to-1,wb=Rb?ec.to:ec.from-1);var Mc=null,Wc=null;ec=ba(function(Wd){var Ee=af(a,Ga,Wd);Ee.top+=Va;Ee.bottom+=Va;if(!Md(Ee,Q,Z,!1))return!1;Ee.top<=Z&&Ee.left<=Q&&(Mc=Wd,Wc=Ee);return!0},Ya,wb);var ad=!1;Wc?(Ya=Q-Wc.left<Wc.right-
Q,Rb=Ya==Rb,ec=Mc+(Rb?0:1),Rb=Rb?"after":"before",Ya=Ya?Wc.left:Wc.right):(Rb||ec!=wb&&ec!=Ya||ec++,Rb=0==ec?"after":ec==u.text.length?"before":af(a,Ga,ec-(Rb?1:0)).bottom+Va<=Z==Rb?"after":"before",ad=qc(a,wa(S,ec,Rb),"line",u,Ga),Ya=ad.left,ad=Z<ad.top?-1:Z>=ad.bottom?1:0);ec=M(u.text,ec,1);return Bb(S,ec,Rb,ad,Q-Ya)}function Pd(a,u,S,Q,Z,Ga,Va){var Ya=ba(function(ec){ec=Z[ec];var Mc=1!=ec.level;return Md(qc(a,wa(S,Mc?ec.to:ec.from,Mc?"before":"after"),"line",u,Q),Ga,Va,!0)},0,Z.length-1),wb=Z[Ya];
if(0<Ya){var Rb=1!=wb.level;Rb=qc(a,wa(S,Rb?wb.from:wb.to,Rb?"after":"before"),"line",u,Q);Md(Rb,Ga,Va,!0)&&Rb.top>Va&&(wb=Z[Ya-1])}return wb}function Me(a,u,S,Q,Z,Ga,Va){Va=Uc(a,u,Q,Va);S=Va.begin;Va=Va.end;/\s/.test(u.text.charAt(Va-1))&&Va--;for(var Ya=u=null,wb=0;wb<Z.length;wb++){var Rb=Z[wb];if(!(Rb.from>=Va||Rb.to<=S)){var ec=af(a,Q,1!=Rb.level?Math.min(Va,Rb.to)-1:Math.max(S,Rb.from)).right;ec=ec<Ga?Ga-ec+1E9:ec-Ga;if(!u||Ya>ec)u=Rb,Ya=ec}}u||(u=Z[Z.length-1]);u.from<S&&(u={from:S,to:u.to,
level:u.level});u.to>Va&&(u={from:u.from,to:Va,level:u.level});return u}function Se(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==aj){aj=q("pre",null,"CodeMirror-line-like");for(var u=0;49>u;++u)aj.appendChild(document.createTextNode("x")),aj.appendChild(q("br"));aj.appendChild(document.createTextNode("x"))}p(a.measure,aj);u=aj.offsetHeight/50;3<u&&(a.cachedTextHeight=u);k(a.measure);return u||1}function ha(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var u=q("span",
"xxxxxxxxxx"),S=q("pre",[u],"CodeMirror-line-like");p(a.measure,S);u=u.getBoundingClientRect();u=(u.right-u.left)/10;2<u&&(a.cachedCharWidth=u);return u||10}function ob(a){for(var u=a.display,S={},Q={},Z=u.gutters.clientLeft,Ga=u.gutters.firstChild,Va=0;Ga;Ga=Ga.nextSibling,++Va){var Ya=a.display.gutterSpecs[Va].className;S[Ya]=Ga.offsetLeft+Ga.clientLeft+Z;Q[Ya]=Ga.clientWidth}return{fixedPos:Ea(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:S,gutterWidth:Q,wrapperWidth:u.wrapper.clientWidth}}
function Ea(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Ib(a){var u=Se(a.display),S=a.options.lineWrapping,Q=S&&Math.max(5,a.display.scroller.clientWidth/ha(a.display)-3);return function(Z){if(Yc(a.doc,Z))return 0;var Ga=0;if(Z.widgets)for(var Va=0;Va<Z.widgets.length;Va++)Z.widgets[Va].height&&(Ga+=Z.widgets[Va].height);return S?Ga+(Math.ceil(Z.text.length/Q)||1)*u:Ga+u}}function Yb(a){var u=a.doc,S=Ib(a);u.iter(function(Q){var Z=S(Q);Z!=Q.height&&
ra(Q,Z)})}function kc(a,u,S,Q){var Z=a.display;if(!S&&"true"==(u.target||u.srcElement).getAttribute("cm-not-content"))return null;S=Z.lineSpace.getBoundingClientRect();try{var Ga=u.clientX-S.left;var Va=u.clientY-S.top}catch(wb){return null}u=ic(a,Ga,Va);var Ya;Q&&0<u.xRel&&(Ya=va(a.doc,u.line).text).length==u.ch&&(Q=h(Ya,Ya.length,a.options.tabSize)-Ya.length,u=wa(u.line,Math.max(0,Math.round((Ga-be(a.display).left)/ha(a.display))-Q)));return u}function Nc(a,u){if(u>=a.display.viewTo)return null;
u-=a.display.viewFrom;if(0>u)return null;a=a.display.view;for(var S=0;S<a.length;S++)if(u-=a[S].size,0>u)return S}function Jc(a,u,S,Q){null==u&&(u=a.doc.first);null==S&&(S=a.doc.first+a.doc.size);Q||(Q=0);var Z=a.display;Q&&S<Z.viewTo&&(null==Z.updateLineNumbers||Z.updateLineNumbers>u)&&(Z.updateLineNumbers=u);a.curOp.viewChanged=!0;if(u>=Z.viewTo)zi&&Vb(a.doc,u)<Z.viewTo&&qd(a);else if(S<=Z.viewFrom)zi&&Ic(a.doc,S+Q)>Z.viewFrom?qd(a):(Z.viewFrom+=Q,Z.viewTo+=Q);else if(u<=Z.viewFrom&&S>=Z.viewTo)qd(a);
else if(u<=Z.viewFrom){var Ga=Yd(a,S,S+Q,1);Ga?(Z.view=Z.view.slice(Ga.index),Z.viewFrom=Ga.lineN,Z.viewTo+=Q):qd(a)}else if(S>=Z.viewTo)(Ga=Yd(a,u,u,-1))?(Z.view=Z.view.slice(0,Ga.index),Z.viewTo=Ga.lineN):qd(a);else{Ga=Yd(a,u,u,-1);var Va=Yd(a,S,S+Q,1);Ga&&Va?(Z.view=Z.view.slice(0,Ga.index).concat(te(a,Ga.lineN,Va.lineN)).concat(Z.view.slice(Va.index)),Z.viewTo+=Q):qd(a)}if(a=Z.externalMeasured)S<a.lineN?a.lineN+=Q:u<a.lineN+a.size&&(Z.externalMeasured=null)}function pd(a,u,S){a.curOp.viewChanged=
!0;var Q=a.display,Z=a.display.externalMeasured;Z&&u>=Z.lineN&&u<Z.lineN+Z.size&&(Q.externalMeasured=null);u<Q.viewFrom||u>=Q.viewTo||(a=Q.view[Nc(a,u)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==x(a,S)&&a.push(S)))}function qd(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function Yd(a,u,S,Q){var Z=Nc(a,u),Ga=a.display.view;if(!zi||S==a.doc.first+a.doc.size)return{index:Z,lineN:S};for(var Va=a.display.viewFrom,Ya=0;Ya<Z;Ya++)Va+=Ga[Ya].size;if(Va!=
u){if(0<Q){if(Z==Ga.length-1)return null;u=Va+Ga[Z].size-u;Z++}else u=Va-u;S+=u}for(;Vb(a.doc,S)!=S;){if(Z==(0>Q?0:Ga.length-1))return null;S+=Q*Ga[Z-(0>Q?1:0)].size;Z+=Q}return{index:Z,lineN:S}}function Od(a){a=a.display.view;for(var u=0,S=0;S<a.length;S++){var Q=a[S];Q.hidden||Q.node&&!Q.changes||++u}return u}function Jd(a){a.display.input.showSelection(a.display.input.prepareSelection())}function ed(a,u){void 0===u&&(u=!0);var S=a.doc,Q={},Z=Q.cursors=document.createDocumentFragment(),Ga=Q.selection=
document.createDocumentFragment(),Va=a.options.$customCursor;Va&&(u=!0);for(var Ya=0;Ya<S.sel.ranges.length;Ya++)if(u||Ya!=S.sel.primIndex){var wb=S.sel.ranges[Ya];if(!(wb.from().line>=a.display.viewTo||wb.to().line<a.display.viewFrom)){var Rb=wb.empty();if(Va){var ec=Va(a,wb);ec&&td(a,ec,Z)}else(Rb||a.options.showCursorWhenSelecting)&&td(a,wb.head,Z);Rb||Rc(a,wb,Ga)}}return Q}function td(a,u,S){var Q=qc(a,u,"div",null,null,!a.options.singleCursorHeightPerLine),Z=S.appendChild(q("div","","CodeMirror-cursor"));
Z.style.left=Q.left+"px";Z.style.top=Q.top+"px";Z.style.height=Math.max(0,Q.bottom-Q.top)*a.options.cursorHeight+"px";/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)&&(u=gd(a,u,"div",null,null),u=u.right-u.left,Z.style.width=(0<u?u:a.defaultCharWidth())+"px");Q.other&&(a=S.appendChild(q("div","","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=Q.other.left+"px",a.style.top=Q.other.top+"px",a.style.height=.85*(Q.other.bottom-Q.other.top)+"px")}function wc(a,
u){return a.top-u.top||a.left-u.left}function Rc(a,u,S){function Q(ad,Wd,Ee,wf){0>Wd&&(Wd=0);Wd=Math.round(Wd);wf=Math.round(wf);Ya.appendChild(q("div",null,"CodeMirror-selected","position: absolute; left: "+ad+"px;\n                             top: "+Wd+"px; width: "+(null==Ee?ec-ad:Ee)+"px;\n                             height: "+(wf-Wd)+"px"))}function Z(ad,Wd,Ee){function wf(Of,Vg){return gd(a,wa(ad,Of),"div",lf,Vg)}function zg(Of,Vg,hg){Of=Rd(a,lf,null,Of);Vg="ltr"==Vg==("after"==hg)?"left":
"right";hg="after"==hg?Of.begin:Of.end-(/\s/.test(lf.text.charAt(Of.end-1))?2:1);return wf(hg,Vg)[Vg]}var lf=va(Va,ad),Gg=lf.text.length,cg,Lg,sg=La(lf,Va.direction);W(sg,Wd||0,null==Ee?Gg:Ee,function(Of,Vg,hg,pg){var Kh="ltr"==hg,Ph=wf(Of,Kh?"left":"right"),bi=wf(Vg-1,Kh?"right":"left"),Li=null==Wd&&0==Of,Wi=null==Ee&&Vg==Gg,qk=0==pg;pg=!sg||pg==sg.length-1;3>=bi.top-Ph.top?(Vg=(Mc?Li:Wi)&&qk?Rb:(Kh?Ph:bi).left,Q(Vg,Ph.top,((Mc?Wi:Li)&&pg?ec:(Kh?bi:Ph).right)-Vg,Ph.bottom)):(Kh?(Kh=Mc&&Li&&qk?Rb:
Ph.left,Li=Mc?ec:zg(Of,hg,"before"),Of=Mc?Rb:zg(Vg,hg,"after"),Wi=Mc&&Wi&&pg?ec:bi.right):(Kh=Mc?zg(Of,hg,"before"):Rb,Li=!Mc&&Li&&qk?ec:Ph.right,Of=!Mc&&Wi&&pg?Rb:bi.left,Wi=Mc?zg(Vg,hg,"after"):ec),Q(Kh,Ph.top,Li-Kh,Ph.bottom),Ph.bottom<bi.top&&Q(Rb,Ph.bottom,null,bi.top),Q(Of,bi.top,Wi-Of,bi.bottom));if(!cg||0>wc(Ph,cg))cg=Ph;0>wc(bi,cg)&&(cg=bi);if(!Lg||0>wc(Ph,Lg))Lg=Ph;0>wc(bi,Lg)&&(Lg=bi)});return{start:cg,end:Lg}}var Ga=a.display,Va=a.doc,Ya=document.createDocumentFragment(),wb=be(a.display),
Rb=wb.left,ec=Math.max(Ga.sizerWidth,Ce(a)-Ga.sizer.offsetLeft)-wb.right,Mc="ltr"==Va.direction;Ga=u.from();u=u.to();if(Ga.line==u.line)Z(Ga.line,Ga.ch,u.ch);else{var Wc=va(Va,Ga.line);wb=va(Va,u.line);wb=Tb(Wc)==Tb(wb);Ga=Z(Ga.line,Ga.ch,wb?Wc.text.length+1:null).end;u=Z(u.line,wb?0:null,u.ch).start;wb&&(Ga.top<u.top-2?(Q(Ga.right,Ga.top,null,Ga.bottom),Q(Rb,u.top,u.left,u.bottom)):Q(Ga.right,Ga.top,u.left-Ga.right,Ga.bottom));Ga.bottom<u.top&&Q(Rb,Ga.bottom,null,u.top)}S.appendChild(Ya)}function Lc(a){if(a.state.focused){var u=
a.display;clearInterval(u.blinker);var S=!0;u.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?u.blinker=setInterval(function(){a.hasFocus()||Pb(a);u.cursorDiv.style.visibility=(S=!S)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(u.cursorDiv.style.visibility="hidden")}}function ud(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Gb(a))}function kb(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=
!1,a.state.focused&&Pb(a))},100)}function Gb(a,u){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&(a.state.focused||(C(a,"focus",a,u),a.state.focused=!0,b(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),Zg&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Lc(a))}function Pb(a,u){a.state.delayingBlurEvent||(a.state.focused&&
(C(a,"blur",a,u),a.state.focused=!1,jc(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function bc(a){for(var u=a.display,S=u.lineDiv.offsetTop,Q=Math.max(0,u.scroller.getBoundingClientRect().top),Z=u.lineDiv.getBoundingClientRect().top,Ga=0,Va=0;Va<u.view.length;Va++){var Ya=u.view[Va],wb=a.options.lineWrapping,Rb=0;if(!Ya.hidden){Z+=Ya.line.height;if(Yf&&8>yg){wb=Ya.node.offsetTop+Ya.node.offsetHeight;var ec=
wb-S;S=wb}else{var Mc=Ya.node.getBoundingClientRect();ec=Mc.bottom-Mc.top;!wb&&Ya.text.firstChild&&(Rb=Ya.text.firstChild.getBoundingClientRect().right-Mc.left-1)}wb=Ya.line.height-ec;if(.005<wb||-.005>wb)if(Z<Q&&(Ga-=wb),ra(Ya.line,ec),fa(Ya.line),Ya.rest)for(ec=0;ec<Ya.rest.length;ec++)fa(Ya.rest[ec]);Rb>a.display.sizerWidth&&(Rb=Math.ceil(Rb/ha(a.display)),Rb>a.display.maxLineLength&&(a.display.maxLineLength=Rb,a.display.maxLine=Ya.line,a.display.maxLineChanged=!0))}}2<Math.abs(Ga)&&(u.scroller.scrollTop+=
Ga)}function fa(a){if(a.widgets)for(var u=0;u<a.widgets.length;++u){var S=a.widgets[u],Q=S.node.parentNode;Q&&(S.height=Q.offsetHeight)}}function Ha(a,u,S){var Q=S&&null!=S.top?Math.max(0,S.top):a.scroller.scrollTop;Q=Math.floor(Q-a.lineSpace.offsetTop);var Z=S&&null!=S.bottom?S.bottom:Q+a.wrapper.clientHeight;Q=ja(u,Q);Z=ja(u,Z);if(S&&S.ensure){var Ga=S.ensure.from.line;S=S.ensure.to.line;Ga<Q?(Q=Ga,Z=ja(u,nd(va(u,Ga))+a.wrapper.clientHeight)):Math.min(S,u.lastLine())>=Z&&(Q=ja(u,nd(va(u,S))-a.wrapper.clientHeight),
Z=S)}return{from:Q,to:Math.max(Z,Q+1)}}function gb(a,u){var S=a.display,Q=Se(a.display);0>u.top&&(u.top=0);var Z=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:S.scroller.scrollTop,Ga=re(a),Va={};u.bottom-u.top>Ga&&(u.bottom=u.top+Ga);var Ya=a.doc.height+Vd(S),wb=u.top<Q;Q=u.bottom>Ya-Q;u.top<Z?Va.scrollTop=wb?0:u.top:u.bottom>Z+Ga&&(Ga=Math.min(u.top,(Q?Ya:u.bottom)-Ga),Ga!=Z&&(Va.scrollTop=Ga));Z=a.options.fixedGutter?0:S.gutters.offsetWidth;Ga=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:
S.scroller.scrollLeft-Z;a=Ce(a)-S.gutters.offsetWidth;if(S=u.right-u.left>a)u.right=u.left+a;10>u.left?Va.scrollLeft=0:u.left<Ga?Va.scrollLeft=Math.max(0,u.left+Z-(S?0:10)):u.right>a+Ga-3&&(Va.scrollLeft=u.right+(S?0:10)-a);return Va}function Fb(a,u){null!=u&&(oc(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+u)}function Kb(a){oc(a);var u=a.getCursor();a.curOp.scrollToPos={from:u,to:u,margin:a.options.cursorScrollMargin}}function Ob(a,u,S){null==u&&null==S||oc(a);
null!=u&&(a.curOp.scrollLeft=u);null!=S&&(a.curOp.scrollTop=S)}function oc(a){var u=a.curOp.scrollToPos;if(u){a.curOp.scrollToPos=null;var S=rb(a,u.from),Q=rb(a,u.to);Oc(a,S,Q,u.margin)}}function Oc(a,u,S,Q){u=gb(a,{left:Math.min(u.left,S.left),top:Math.min(u.top,S.top)-Q,right:Math.max(u.right,S.right),bottom:Math.max(u.bottom,S.bottom)+Q});Ob(a,u.scrollLeft,u.scrollTop)}function yc(a,u){2>Math.abs(a.doc.scrollTop-u)||(xh||Ff(a,{top:u}),fd(a,u,!0),xh&&Ff(a),Te(a,100))}function fd(a,u,S){u=Math.max(0,
Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,u));if(a.display.scroller.scrollTop!=u||S)a.doc.scrollTop=u,a.display.scrollbars.setScrollTop(u),a.display.scroller.scrollTop!=u&&(a.display.scroller.scrollTop=u)}function Ec(a,u,S,Q){u=Math.max(0,Math.min(u,a.display.scroller.scrollWidth-a.display.scroller.clientWidth));(S?u==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-u))&&!Q||(a.doc.scrollLeft=u,Sf(a),a.display.scroller.scrollLeft!=u&&(a.display.scroller.scrollLeft=u),a.display.scrollbars.setScrollLeft(u))}
function Fd(a){var u=a.display,S=u.gutters.offsetWidth,Q=Math.round(a.doc.height+Vd(a.display));return{clientHeight:u.scroller.clientHeight,viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:a.options.fixedGutter?S:0,docHeight:Q,scrollHeight:Q+he(a)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:S}}function Be(a,u){u||(u=Fd(a));var S=a.display.barWidth,Q=a.display.barHeight;fe(a,u);for(u=0;4>u&&S!=
a.display.barWidth||Q!=a.display.barHeight;u++)S!=a.display.barWidth&&a.options.lineWrapping&&bc(a),fe(a,Fd(a)),S=a.display.barWidth,Q=a.display.barHeight}function fe(a,u){var S=a.display,Q=S.scrollbars.update(u);S.sizer.style.paddingRight=(S.barWidth=Q.right)+"px";S.sizer.style.paddingBottom=(S.barHeight=Q.bottom)+"px";S.heightForcer.style.borderBottom=Q.bottom+"px solid transparent";Q.right&&Q.bottom?(S.scrollbarFiller.style.display="block",S.scrollbarFiller.style.height=Q.bottom+"px",S.scrollbarFiller.style.width=
Q.right+"px"):S.scrollbarFiller.style.display="";Q.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(S.gutterFiller.style.display="block",S.gutterFiller.style.height=Q.bottom+"px",S.gutterFiller.style.width=u.gutterWidth+"px"):S.gutterFiller.style.display=""}function Ae(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&jc(a.display.wrapper,a.display.scrollbars.addClass));a.display.scrollbars=new xk[a.options.scrollbarStyle](function(u){a.display.wrapper.insertBefore(u,
a.display.scrollbarFiller);$e(u,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)});u.setAttribute("cm-not-content","true")},function(u,S){"horizontal"==S?Ec(a,u):yc(a,u)},a);a.display.scrollbars.addClass&&b(a.display.wrapper,a.display.scrollbars.addClass)}function Zd(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,
scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Lj,markArrays:null};a=a.curOp;fj?fj.ops.push(a):a.ownsGroup=fj={ops:[a],delayedCallbacks:[]}}function vd(a){(a=a.curOp)&&We(a,function(u){for(var S=0;S<u.ops.length;S++)u.ops[S].cm.curOp=null;u=u.ops;for(S=0;S<u.length;S++){var Q=u[S],Z=Q.cm,Ga=Z.display,Va=Z.display;!Va.scrollbarsClipped&&Va.scroller.offsetWidth&&(Va.nativeBarWidth=Va.scroller.offsetWidth-Va.scroller.clientWidth,Va.heightForcer.style.height=he(Z)+"px",Va.sizer.style.marginBottom=
-Va.nativeBarWidth+"px",Va.sizer.style.borderRightWidth=he(Z)+"px",Va.scrollbarsClipped=!0);Q.updateMaxLine&&Nd(Z);Q.mustUpdate=Q.viewChanged||Q.forceUpdate||null!=Q.scrollTop||Q.scrollToPos&&(Q.scrollToPos.from.line<Ga.viewFrom||Q.scrollToPos.to.line>=Ga.viewTo)||Ga.maxLineChanged&&Z.options.lineWrapping;Q.update=Q.mustUpdate&&new si(Z,Q.mustUpdate&&{top:Q.scrollTop,ensure:Q.scrollToPos},Q.forceUpdate)}for(S=0;S<u.length;S++)Q=u[S],Q.updatedDisplay=Q.mustUpdate&&sf(Q.cm,Q.update);for(S=0;S<u.length;S++)if(Q=
u[S],Z=Q.cm,Ga=Z.display,Q.updatedDisplay&&bc(Z),Q.barMeasure=Fd(Z),Ga.maxLineChanged&&!Z.options.lineWrapping&&(Va=Ga.maxLine.text.length,Va=af(Z,Re(Z,Ga.maxLine),Va,void 0),Q.adjustWidthTo=Va.left+3,Z.display.sizerWidth=Q.adjustWidthTo,Q.barMeasure.scrollWidth=Math.max(Ga.scroller.clientWidth,Ga.sizer.offsetLeft+Q.adjustWidthTo+he(Z)+Z.display.barWidth),Q.maxScrollLeft=Math.max(0,Ga.sizer.offsetLeft+Q.adjustWidthTo-Ce(Z))),Q.updatedDisplay||Q.selectionChanged)Q.preparedSelection=Ga.input.prepareSelection();
for(S=0;S<u.length;S++)Q=u[S],Z=Q.cm,null!=Q.adjustWidthTo&&(Z.display.sizer.style.minWidth=Q.adjustWidthTo+"px",Q.maxScrollLeft<Z.doc.scrollLeft&&Ec(Z,Math.min(Z.display.scroller.scrollLeft,Q.maxScrollLeft),!0),Z.display.maxLineChanged=!1),Ga=Q.focus&&Q.focus==f(e(Z)),Q.preparedSelection&&Z.display.input.showSelection(Q.preparedSelection,Ga),(Q.updatedDisplay||Q.startHeight!=Z.doc.height)&&Be(Z,Q.barMeasure),Q.updatedDisplay&&mf(Z,Q.barMeasure),Q.selectionChanged&&Lc(Z),Z.state.focused&&Q.updateInput&&
Z.display.input.reset(Q.typing),Ga&&ud(Q.cm);for(S=0;S<u.length;S++){var Ya=void 0;Q=u[S];Z=Q.cm;Ga=Z.display;Va=Z.doc;Q.updatedDisplay&&zf(Z,Q.update);null==Ga.wheelStartX||null==Q.scrollTop&&null==Q.scrollLeft&&!Q.scrollToPos||(Ga.wheelStartX=Ga.wheelStartY=null);null!=Q.scrollTop&&fd(Z,Q.scrollTop,Q.forceScroll);null!=Q.scrollLeft&&Ec(Z,Q.scrollLeft,!0,!0);if(Q.scrollToPos){var wb=$b(Va,Q.scrollToPos.from);var Rb=$b(Va,Q.scrollToPos.to);var ec=Q.scrollToPos.margin;null==ec&&(ec=0);Z.options.lineWrapping||
wb!=Rb||(Rb="before"==wb.sticky?wa(wb.line,wb.ch+1,"before"):wb,wb=wb.ch?wa(wb.line,"before"==wb.sticky?wb.ch-1:wb.ch,"after"):wb);for(var Mc=0;5>Mc;Mc++){var Wc=!1;Ya=qc(Z,wb);var ad=Rb&&Rb!=wb?qc(Z,Rb):Ya;Ya={left:Math.min(Ya.left,ad.left),top:Math.min(Ya.top,ad.top)-ec,right:Math.max(Ya.left,ad.left),bottom:Math.max(Ya.bottom,ad.bottom)+ec};ad=gb(Z,Ya);var Wd=Z.doc.scrollTop,Ee=Z.doc.scrollLeft;null!=ad.scrollTop&&(yc(Z,ad.scrollTop),1<Math.abs(Z.doc.scrollTop-Wd)&&(Wc=!0));null!=ad.scrollLeft&&
(Ec(Z,ad.scrollLeft),1<Math.abs(Z.doc.scrollLeft-Ee)&&(Wc=!0));if(!Wc)break}Rb=Ya;B(Z,"scrollCursorIntoView")||(ec=Z.display,Mc=ec.sizer.getBoundingClientRect(),wb=null,Wc=ec.wrapper.ownerDocument,0>Rb.top+Mc.top?wb=!0:Rb.bottom+Mc.top>(Wc.defaultView.innerHeight||Wc.documentElement.clientHeight)&&(wb=!1),null==wb||Yi||(Rb=q("div","",null,"position: absolute;\n                         top: "+(Rb.top-ec.viewOffset-Z.display.lineSpace.offsetTop)+"px;\n                         height: "+(Rb.bottom-
Rb.top+he(Z)+ec.barHeight)+"px;\n                         left: "+Rb.left+"px; width: "+Math.max(2,Rb.right-Rb.left)+"px;"),Z.display.lineSpace.appendChild(Rb),Rb.scrollIntoView(wb),Z.display.lineSpace.removeChild(Rb)))}Rb=Q.maybeHiddenMarkers;wb=Q.maybeUnhiddenMarkers;if(Rb)for(ec=0;ec<Rb.length;++ec)Rb[ec].lines.length||C(Rb[ec],"hide");if(wb)for(Rb=0;Rb<wb.length;++Rb)wb[Rb].lines.length&&C(wb[Rb],"unhide");Ga.wrapper.offsetHeight&&(Va.scrollTop=Z.display.scroller.scrollTop);Q.changeObjs&&C(Z,
"changes",Z,Q.changeObjs);Q.update&&Q.update.finish()}})}function Kd(a,u){if(a.curOp)return u();Zd(a);try{return u()}finally{vd(a)}}function ee(a,u){return function(){if(a.curOp)return u.apply(a,arguments);Zd(a);try{return u.apply(a,arguments)}finally{vd(a)}}}function we(a){return function(){if(this.curOp)return a.apply(this,arguments);Zd(this);try{return a.apply(this,arguments)}finally{vd(this)}}}function ye(a){return function(){var u=this.cm;if(!u||u.curOp)return a.apply(this,arguments);Zd(u);try{return a.apply(this,
arguments)}finally{vd(u)}}}function Te(a,u){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(u,g(Id,a))}function Id(a){var u=a.doc;if(!(u.highlightFrontier>=a.display.viewTo)){var S=+new Date+a.options.workTime,Q=uc(a,u.highlightFrontier),Z=[];u.iter(Q.line,Math.min(u.first+u.size,a.display.viewTo+500),function(Ga){if(Q.line>=a.display.viewFrom){var Va=Ga.styles,Ya=Ga.text.length>a.options.maxHighlightLength?qa(u.mode,Q.state):null,wb=zc(a,Ga,Q,!0);Ya&&(Q.state=Ya);Ga.styles=wb.styles;
Ya=Ga.styleClasses;(wb=wb.classes)?Ga.styleClasses=wb:Ya&&(Ga.styleClasses=null);wb=!Va||Va.length!=Ga.styles.length||Ya!=wb&&(!Ya||!wb||Ya.bgClass!=wb.bgClass||Ya.textClass!=wb.textClass);for(Ya=0;!wb&&Ya<Va.length;++Ya)wb=Va[Ya]!=Ga.styles[Ya];wb&&Z.push(Q.line);Ga.stateAfter=Q.save()}else Ga.text.length<=a.options.maxHighlightLength&&id(a,Ga.text,Q),Ga.stateAfter=0==Q.line%5?Q.save():null;Q.nextLine();if(+new Date>S)return Te(a,a.options.workDelay),!0});u.highlightFrontier=Q.line;u.modeFrontier=
Math.max(u.modeFrontier,Q.line);Z.length&&Kd(a,function(){for(var Ga=0;Ga<Z.length;Ga++)pd(a,Z[Ga],"text")})}}function sf(a,u){var S=a.display,Q=a.doc;if(u.editorIsHidden)return qd(a),!1;if(!u.force&&u.visible.from>=S.viewFrom&&u.visible.to<=S.viewTo&&(null==S.updateLineNumbers||S.updateLineNumbers>=S.viewTo)&&S.renderedView==S.view&&0==Od(a))return!1;Gf(a)&&(qd(a),u.dims=ob(a));var Z=Q.first+Q.size,Ga=Math.max(u.visible.from-a.options.viewportMargin,Q.first),Va=Math.min(Z,u.visible.to+a.options.viewportMargin);
S.viewFrom<Ga&&20>Ga-S.viewFrom&&(Ga=Math.max(Q.first,S.viewFrom));S.viewTo>Va&&20>S.viewTo-Va&&(Va=Math.min(Z,S.viewTo));zi&&(Ga=Vb(a.doc,Ga),Va=Ic(a.doc,Va));Q=Ga!=S.viewFrom||Va!=S.viewTo||S.lastWrapHeight!=u.wrapperHeight||S.lastWrapWidth!=u.wrapperWidth;Z=a.display;0==Z.view.length||Ga>=Z.viewTo||Va<=Z.viewFrom?(Z.view=te(a,Ga,Va),Z.viewFrom=Ga):(Z.viewFrom>Ga?Z.view=te(a,Ga,Z.viewFrom).concat(Z.view):Z.viewFrom<Ga&&(Z.view=Z.view.slice(Nc(a,Ga))),Z.viewFrom=Ga,Z.viewTo<Va?Z.view=Z.view.concat(te(a,
Z.viewTo,Va)):Z.viewTo>Va&&(Z.view=Z.view.slice(0,Nc(a,Va))));Z.viewTo=Va;S.viewOffset=nd(va(a.doc,S.viewFrom));a.display.mover.style.top=S.viewOffset+"px";Va=Od(a);if(!Q&&0==Va&&!u.force&&S.renderedView==S.view&&(null==S.updateLineNumbers||S.updateLineNumbers>=S.viewTo))return!1;a.hasFocus()?Ga=null:(Ga=f(e(a)))&&m(a.display.lineDiv,Ga)?(Ga={activeElt:Ga},window.getSelection&&(Z=e(a).defaultView.getSelection(),Z.anchorNode&&Z.extend&&m(a.display.lineDiv,Z.anchorNode)&&(Ga.anchorNode=Z.anchorNode,
Ga.anchorOffset=Z.anchorOffset,Ga.focusNode=Z.focusNode,Ga.focusOffset=Z.focusOffset))):Ga=null;4<Va&&(S.lineDiv.style.display="none");$g(a,S.updateLineNumbers,u.dims);4<Va&&(S.lineDiv.style.display="");S.renderedView=S.view;(Va=Ga)&&Va.activeElt&&Va.activeElt!=f(Va.activeElt.ownerDocument)&&(Va.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Va.activeElt.nodeName)&&Va.anchorNode&&m(document.body,Va.anchorNode)&&m(document.body,Va.focusNode)&&(Z=Va.activeElt.ownerDocument,Ga=Z.defaultView.getSelection(),
Z=Z.createRange(),Z.setEnd(Va.anchorNode,Va.anchorOffset),Z.collapse(!1),Ga.removeAllRanges(),Ga.addRange(Z),Ga.extend(Va.focusNode,Va.focusOffset)));k(S.cursorDiv);k(S.selectionDiv);S.gutters.style.height=S.sizer.style.minHeight=0;Q&&(S.lastWrapHeight=u.wrapperHeight,S.lastWrapWidth=u.wrapperWidth,Te(a,400));S.updateLineNumbers=null;return!0}function zf(a,u){for(var S=u.viewport,Q=!0;;Q=!1){if(Q&&a.options.lineWrapping&&u.oldDisplayWidth!=Ce(a))Q&&(u.visible=Ha(a.display,a.doc,S));else if(S&&null!=
S.top&&(S={top:Math.min(a.doc.height+Vd(a.display)-re(a),S.top)}),u.visible=Ha(a.display,a.doc,S),u.visible.from>=a.display.viewFrom&&u.visible.to<=a.display.viewTo)break;if(!sf(a,u))break;bc(a);Q=Fd(a);Jd(a);Be(a,Q);mf(a,Q);u.force=!1}u.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)u.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}
function Ff(a,u){u=new si(a,u);if(sf(a,u)){bc(a);zf(a,u);var S=Fd(a);Jd(a);Be(a,S);mf(a,S);u.finish()}}function $g(a,u,S){function Q(Wc){var ad=Wc.nextSibling;Zg&&ia&&a.display.currentWheelTarget==Wc?Wc.style.display="none":Wc.parentNode.removeChild(Wc);return ad}var Z=a.display,Ga=a.options.lineNumbers,Va=Z.lineDiv,Ya=Va.firstChild,wb=Z.view;Z=Z.viewFrom;for(var Rb=0;Rb<wb.length;Rb++){var ec=wb[Rb];if(!ec.hidden)if(ec.node&&ec.node.parentNode==Va){for(;Ya!=ec.node;)Ya=Q(Ya);Ya=Ga&&null!=u&&u<=Z&&
ec.lineNumber;ec.changes&&(-1<x(ec.changes,"gutter")&&(Ya=!1),tb(a,ec,Z,S));Ya&&(k(ec.lineNumber),ec.lineNumber.appendChild(document.createTextNode(ka(a.options,Z))));Ya=ec.node.nextSibling}else{var Mc=Dc(a,ec,Z,S);Va.insertBefore(Mc,Ya)}Z+=ec.size}for(;Ya;)Ya=Q(Ya)}function ie(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px";za(a,"gutterChanged",a)}function mf(a,u){a.display.sizer.style.minHeight=u.docHeight+"px";a.display.heightForcer.style.top=u.docHeight+"px";a.display.gutters.style.height=
u.docHeight+a.display.barHeight+he(a)+"px"}function Sf(a){var u=a.display,S=u.view;if(u.alignWidgets||u.gutters.firstChild&&a.options.fixedGutter){for(var Q=Ea(u)-u.scroller.scrollLeft+a.doc.scrollLeft,Z=u.gutters.offsetWidth,Ga=Q+"px",Va=0;Va<S.length;Va++)if(!S[Va].hidden){a.options.fixedGutter&&(S[Va].gutter&&(S[Va].gutter.style.left=Ga),S[Va].gutterBackground&&(S[Va].gutterBackground.style.left=Ga));var Ya=S[Va].alignable;if(Ya)for(var wb=0;wb<Ya.length;wb++)Ya[wb].style.left=Ga}a.options.fixedGutter&&
(u.gutters.style.left=Q+Z+"px")}}function Gf(a){if(!a.options.lineNumbers)return!1;var u=a.doc;u=ka(a.options,u.first+u.size-1);var S=a.display;if(u.length!=S.lineNumChars){var Q=S.measure.appendChild(q("div",[q("div",u)],"CodeMirror-linenumber CodeMirror-gutter-elt")),Z=Q.firstChild.offsetWidth;Q=Q.offsetWidth-Z;S.lineGutter.style.width="";S.lineNumInnerWidth=Math.max(Z,S.lineGutter.offsetWidth-Q)+1;S.lineNumWidth=S.lineNumInnerWidth+Q;S.lineNumChars=S.lineNumInnerWidth?u.length:-1;S.lineGutter.style.width=
S.lineNumWidth+"px";ie(a.display);return!0}return!1}function Ag(a,u){for(var S=[],Q=!1,Z=0;Z<a.length;Z++){var Ga=a[Z],Va=null;"string"!=typeof Ga&&(Va=Ga.style,Ga=Ga.className);if("CodeMirror-linenumbers"==Ga)if(u)Q=!0;else continue;S.push({className:Ga,style:Va})}u&&!Q&&S.push({className:"CodeMirror-linenumbers",style:null});return S}function ng(a){var u=a.gutters,S=a.gutterSpecs;k(u);a.lineGutter=null;for(var Q=0;Q<S.length;++Q){var Z=S[Q],Ga=Z.className;Z=Z.style;var Va=u.appendChild(q("div",
null,"CodeMirror-gutter "+Ga));Z&&(Va.style.cssText=Z);"CodeMirror-linenumbers"==Ga&&(a.lineGutter=Va,Va.style.width=(a.lineNumWidth||1)+"px")}u.style.display=S.length?"":"none";ie(a)}function tg(a){ng(a.display);Jc(a);Sf(a)}function Sg(a,u,S,Q){this.input=S;this.scrollbarFiller=q("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=q("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=
t("div",null,"CodeMirror-code");this.selectionDiv=q("div",null,null,"position: relative; z-index: 1");this.cursorDiv=q("div",null,"CodeMirror-cursors");this.measure=q("div",null,"CodeMirror-measure");this.lineMeasure=q("div",null,"CodeMirror-measure");this.lineSpace=t("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var Z=t("div",[this.lineSpace],"CodeMirror-lines");this.mover=q("div",[Z],null,"position: relative");this.sizer=
q("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=q("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=q("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=q("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=q("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");this.wrapper.setAttribute("translate","no");Yf&&8>yg&&(this.gutters.style.zIndex=
-1,this.scroller.style.paddingRight=0);Zg||xh&&Oi||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=u.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;
this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=Ag(Q.gutters,Q.lineNumbers);ng(this);S.init(this)}function ig(a){var u=a.wheelDeltaX,S=a.wheelDeltaY;null==u&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(u=a.detail);null==S&&a.detail&&a.axis==a.VERTICAL_AXIS?S=a.detail:
null==S&&(S=a.wheelDelta);return{x:u,y:S}}function Bf(a){a=ig(a);a.x*=mi;a.y*=mi;return a}function ug(a,u){ei&&102==lj&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null;a.display.sizer.style.pointerEvents=""},100));var S=ig(u),Q=S.x;S=S.y;var Z=mi;0===u.deltaMode&&(Q=u.deltaX,S=u.deltaY,Z=1);var Ga=a.display,Va=Ga.scroller,Ya=Va.scrollWidth>Va.clientWidth,
wb=Va.scrollHeight>Va.clientHeight;if(Q&&Ya||S&&wb){if(S&&ia&&Zg){Ya=u.target;var Rb=Ga.view;a:for(;Ya!=Va;Ya=Ya.parentNode)for(var ec=0;ec<Rb.length;ec++)if(Rb[ec].node==Ya){a.display.currentWheelTarget=Ya;break a}}!Q||xh||Oh||null==Z?(S&&null!=Z&&(Z*=S,wb=a.doc.scrollTop,Ya=wb+Ga.wrapper.clientHeight,0>Z?wb=Math.max(0,wb+Z-50):Ya=Math.min(a.doc.height,Ya+Z+50),Ff(a,{top:wb,bottom:Ya})),20>Pi&&0!==u.deltaMode&&(null==Ga.wheelStartX?(Ga.wheelStartX=Va.scrollLeft,Ga.wheelStartY=Va.scrollTop,Ga.wheelDX=
Q,Ga.wheelDY=S,setTimeout(function(){if(null!=Ga.wheelStartX){var Mc=Va.scrollLeft-Ga.wheelStartX,Wc=Va.scrollTop-Ga.wheelStartY;Mc=Wc&&Ga.wheelDY&&Wc/Ga.wheelDY||Mc&&Ga.wheelDX&&Mc/Ga.wheelDX;Ga.wheelStartX=Ga.wheelStartY=null;Mc&&(mi=(mi*Pi+Mc)/(Pi+1),++Pi)}},200)):(Ga.wheelDX+=Q,Ga.wheelDY+=S))):(S&&wb&&yc(a,Math.max(0,Va.scrollTop+S*Z)),Ec(a,Math.max(0,Va.scrollLeft+Q*Z)),(!S||S&&wb)&&sa(u),Ga.wheelStartX=null)}}function og(a,u,S){a=a&&a.options.selectionsMayTouch;S=u[S];u.sort(function(wb,Rb){return Ta(wb.from(),
Rb.from())});S=x(u,S);for(var Q=1;Q<u.length;Q++){var Z=u[Q],Ga=u[Q-1],Va=Ta(Ga.to(),Z.from());if(a&&!Z.empty()?0<Va:0<=Va){Va=Mb(Ga.from(),Z.from());var Ya=nb(Ga.to(),Z.to());Z=Ga.empty()?Z.from()==Z.head:Ga.from()==Ga.head;Q<=S&&--S;u.splice(--Q,2,new Jf(Z?Ya:Va,Z?Va:Ya))}}return new Dh(u,S)}function Tf(a,u){return new Dh([new Jf(a,u||a)],0)}function Wf(a){return a.text?wa(a.from.line+a.text.length-1,F(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function Tg(a,u){if(0>Ta(a,u.from))return a;
if(0>=Ta(a,u.to))return Wf(u);var S=a.line+u.text.length-(u.to.line-u.from.line)-1,Q=a.ch;a.line==u.to.line&&(Q+=Wf(u).ch-u.to.ch);return wa(S,Q)}function bh(a,u){for(var S=[],Q=0;Q<a.sel.ranges.length;Q++){var Z=a.sel.ranges[Q];S.push(new Jf(Tg(Z.anchor,u),Tg(Z.head,u)))}return og(a.cm,S,a.sel.primIndex)}function Mg(a,u,S){return a.line==u.line?wa(S.line,a.ch-u.ch+S.ch):wa(S.line+(a.line-u.line),a.ch)}function Ig(a){a.doc.mode=Fa(a.options,a.doc.modeOption);Ng(a)}function Ng(a){a.doc.iter(function(u){u.stateAfter&&
(u.stateAfter=null);u.styles&&(u.styles=null)});a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first;Te(a,100);a.state.modeGen++;a.curOp&&Jc(a)}function Wa(a,u){return 0==u.from.ch&&0==u.to.ch&&""==F(u.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Cb(a,u,S,Q){function Z(Wd,Ee,wf){Wd.text=Ee;Wd.stateAfter&&(Wd.stateAfter=null);Wd.styles&&(Wd.styles=null);null!=Wd.order&&(Wd.order=null);Ca(Wd);$a(Wd,wf);Ee=Q?Q(Wd):1;Ee!=Wd.height&&ra(Wd,Ee);za(Wd,"change",Wd,u)}function Ga(Wd,Ee){for(var wf=
[];Wd<Ee;++Wd)wf.push(new $i(wb[Wd],S?S[Wd]:null,Q));return wf}var Va=u.from,Ya=u.to,wb=u.text,Rb=va(a,Va.line),ec=va(a,Ya.line),Mc=F(wb),Wc=S?S[wb.length-1]:null,ad=Ya.line-Va.line;u.full?(a.insert(0,Ga(0,wb.length)),a.remove(wb.length,a.size-wb.length)):Wa(a,u)?(Ya=Ga(0,wb.length-1),Z(ec,ec.text,Wc),ad&&a.remove(Va.line,ad),Ya.length&&a.insert(Va.line,Ya)):Rb==ec?1==wb.length?Z(Rb,Rb.text.slice(0,Va.ch)+Mc+Rb.text.slice(Ya.ch),Wc):(ad=Ga(1,wb.length-1),ad.push(new $i(Mc+Rb.text.slice(Ya.ch),Wc,
Q)),Z(Rb,Rb.text.slice(0,Va.ch)+wb[0],S?S[0]:null),a.insert(Va.line+1,ad)):1==wb.length?(Z(Rb,Rb.text.slice(0,Va.ch)+wb[0]+ec.text.slice(Ya.ch),S?S[0]:null),a.remove(Va.line+1,ad)):(Z(Rb,Rb.text.slice(0,Va.ch)+wb[0],S?S[0]:null),Z(ec,Mc+ec.text.slice(Ya.ch),Wc),Wc=Ga(1,wb.length-1),1<ad&&a.remove(Va.line+1,ad-1),a.insert(Va.line+1,Wc));za(a,"change",a,u)}function hc(a,u,S){function Q(Z,Ga,Va){if(Z.linked)for(var Ya=0;Ya<Z.linked.length;++Ya){var wb=Z.linked[Ya];if(wb.doc!=Ga){var Rb=Va&&wb.sharedHist;
if(!S||Rb)u(wb.doc,Rb),Q(wb.doc,Z,Rb)}}}Q(a,null,!0)}function yd(a,u){if(u.cm)throw Error("This document is already in use.");a.doc=u;u.cm=a;Yb(a);Ig(a);Dd(a);a.options.direction=u.direction;a.options.lineWrapping||Nd(a);a.options.mode=u.modeOption;Jc(a)}function Dd(a){("rtl"==a.doc.direction?b:jc)(a.display.lineDiv,"CodeMirror-rtl")}function ne(a){Kd(a,function(){Dd(a);Jc(a)})}function of(a){this.done=[];this.undone=[];this.undoDepth=a?a.undoDepth:Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=
this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a?a.maxGeneration:1}function uf(a,u){var S={from:lb(u.from),to:Wf(u),text:Ua(a,u.from,u.to)};Fh(a,S,u.from.line,u.to.line+1);hc(a,function(Q){return Fh(Q,S,u.from.line,u.to.line+1)},!0);return S}function Wg(a){for(;a.length;)if(F(a).ranges)a.pop();else break}function Uf(a,u,S,Q){var Z=a.history;Z.undone.length=0;var Ga=+new Date,Va;if(Va=Z.lastOp==Q||Z.lastOrigin==u.origin&&u.origin&&("+"==u.origin.charAt(0)&&Z.lastModTime>
Ga-(a.cm?a.cm.options.historyEventDelay:500)||"*"==u.origin.charAt(0))){if(Z.lastOp==Q){Wg(Z.done);var Ya=F(Z.done)}else Z.done.length&&!F(Z.done).ranges?Ya=F(Z.done):1<Z.done.length&&!Z.done[Z.done.length-2].ranges?(Z.done.pop(),Ya=F(Z.done)):Ya=void 0;Va=Ya}if(Va){var wb=F(Ya.changes);0==Ta(u.from,u.to)&&0==Ta(u.from,wb.to)?wb.to=Wf(u):Ya.changes.push(uf(a,u))}else for((Ya=F(Z.done))&&Ya.ranges||Xg(a.sel,Z.done),Ya={changes:[uf(a,u)],generation:Z.generation},Z.done.push(Ya);Z.done.length>Z.undoDepth;)Z.done.shift(),
Z.done[0].ranges||Z.done.shift();Z.done.push(S);Z.generation=++Z.maxGeneration;Z.lastModTime=Z.lastSelTime=Ga;Z.lastOp=Z.lastSelOp=Q;Z.lastOrigin=Z.lastSelOrigin=u.origin;wb||C(a,"historyAdded")}function Xg(a,u){var S=F(u);S&&S.ranges&&S.equals(a)||u.push(a)}function Fh(a,u,S,Q){var Z=u["spans_"+a.id],Ga=0;a.iter(Math.max(a.first,S),Math.min(a.first+a.size,Q),function(Va){Va.markedSpans&&((Z||(Z=u["spans_"+a.id]={}))[Ga]=Va.markedSpans);++Ga})}function ph(a,u){var S;if(S=u["spans_"+a.id]){for(var Q=
[],Z=0;Z<u.text.length;++Z){var Ga=Q,Va=Ga.push;var Ya=void 0;var wb=S[Z];if(wb){for(var Rb=0;Rb<wb.length;++Rb)wb[Rb].marker.explicitlyCleared?Ya||(Ya=wb.slice(0,Rb)):Ya&&Ya.push(wb[Rb]);Ya=Ya?Ya.length?Ya:null:wb}else Ya=null;Va.call(Ga,Ya)}S=Q}else S=null;a=$d(a,u);if(!S)return a;if(!a)return S;for(u=0;u<S.length;++u)if(Q=S[u],Z=a[u],Q&&Z)a:for(Ga=0;Ga<Z.length;++Ga){Va=Z[Ga];for(Ya=0;Ya<Q.length;++Ya)if(Q[Ya].marker==Va.marker)continue a;Q.push(Va)}else Z&&(S[u]=Z);return S}function vg(a,u,S){for(var Q=
[],Z=0;Z<a.length;++Z){var Ga=a[Z];if(Ga.ranges)Q.push(S?Dh.prototype.deepCopy.call(Ga):Ga);else{Ga=Ga.changes;var Va=[];Q.push({changes:Va});for(var Ya=0;Ya<Ga.length;++Ya){var wb=Ga[Ya],Rb;Va.push({from:wb.from,to:wb.to,text:wb.text});if(u)for(var ec in wb)(Rb=ec.match(/^spans_(\d+)$/))&&-1<x(u,Number(Rb[1]))&&(F(Va)[ec]=wb[ec],delete wb[ec])}}}return Q}function Ug(a,u,S,Q){return Q?(a=a.anchor,S&&(Q=0>Ta(u,a),Q!=0>Ta(S,a)?(a=u,u=S):Q!=0>Ta(u,S)&&(u=S)),new Jf(a,u)):new Jf(S||u,u)}function nh(a,
u,S,Q,Z){null==Z&&(Z=a.cm&&(a.cm.display.shift||a.extend));Jg(a,new Dh([Ug(a.sel.primary(),u,S,Z)],0),Q)}function qh(a,u,S){for(var Q=[],Z=a.cm&&(a.cm.display.shift||a.extend),Ga=0;Ga<a.sel.ranges.length;Ga++)Q[Ga]=Ug(a.sel.ranges[Ga],u[Ga],null,Z);u=og(a.cm,Q,a.sel.primIndex);Jg(a,u,S)}function Lh(a,u,S,Q){var Z=a.sel.ranges.slice(0);Z[u]=S;Jg(a,og(a.cm,Z,a.sel.primIndex),Q)}function uh(a,u,S){S={ranges:u.ranges,update:function(Q){this.ranges=[];for(var Z=0;Z<Q.length;Z++)this.ranges[Z]=new Jf($b(a,
Q[Z].anchor),$b(a,Q[Z].head))},origin:S&&S.origin};C(a,"beforeSelectionChange",a,S);a.cm&&C(a.cm,"beforeSelectionChange",a.cm,S);return S.ranges!=u.ranges?og(a.cm,S.ranges,S.ranges.length-1):u}function Eh(a,u,S){var Q=a.history.done,Z=F(Q);Z&&Z.ranges?(Q[Q.length-1]=u,K(a,u,S)):Jg(a,u,S)}function Jg(a,u,S){K(a,u,S);u=a.sel;var Q=a.cm?a.cm.curOp.id:NaN,Z=a.history,Ga=S&&S.origin,Va;if(!(Va=Q==Z.lastSelOp)&&(Va=Ga&&Z.lastSelOrigin==Ga)&&!(Va=Z.lastModTime==Z.lastSelTime&&Z.lastOrigin==Ga)){Va=F(Z.done);
var Ya=Ga.charAt(0);Va="*"==Ya||"+"==Ya&&Va.ranges.length==u.ranges.length&&Va.somethingSelected()==u.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}Va?Z.done[Z.done.length-1]=u:Xg(u,Z.done);Z.lastSelTime=+new Date;Z.lastSelOrigin=Ga;Z.lastSelOp=Q;S&&!1!==S.clearRedo&&Wg(Z.undone)}function K(a,u,S){if(Y(a,"beforeSelectionChange")||a.cm&&Y(a.cm,"beforeSelectionChange"))u=uh(a,u,S);var Q=S&&S.bias||(0>Ta(u.primary().head,a.sel.primary().head)?-1:1);da(a,
fb(a,u,Q,!0));S&&!1===S.scroll||!a.cm||"nocursor"==a.cm.getOption("readOnly")||Kb(a.cm)}function da(a,u){u.equals(a.sel)||(a.sel=u,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,N(a.cm)),za(a,"cursorActivity",a))}function Ma(a){da(a,fb(a,a.sel,null,!1))}function fb(a,u,S,Q){for(var Z,Ga=0;Ga<u.ranges.length;Ga++){var Va=u.ranges[Ga],Ya=u.ranges.length==a.sel.ranges.length&&a.sel.ranges[Ga],wb=Sb(a,Va.anchor,Ya&&Ya.anchor,S,Q);Ya=Va.head==Va.anchor?wb:Sb(a,Va.head,Ya&&Ya.head,S,Q);
if(Z||wb!=Va.anchor||Ya!=Va.head)Z||(Z=u.ranges.slice(0,Ga)),Z[Ga]=new Jf(wb,Ya)}return Z?og(a.cm,Z,u.primIndex):u}function Eb(a,u,S,Q,Z){var Ga=va(a,u.line);if(Ga.markedSpans)for(var Va=0;Va<Ga.markedSpans.length;++Va){var Ya=Ga.markedSpans[Va],wb=Ya.marker,Rb="selectLeft"in wb?!wb.selectLeft:wb.inclusiveLeft,ec="selectRight"in wb?!wb.selectRight:wb.inclusiveRight;if((null==Ya.from||(Rb?Ya.from<=u.ch:Ya.from<u.ch))&&(null==Ya.to||(ec?Ya.to>=u.ch:Ya.to>u.ch))){if(Z&&(C(wb,"beforeCursorEnter"),wb.explicitlyCleared))if(Ga.markedSpans){--Va;
continue}else break;if(wb.atomic){if(S){Va=wb.find(0>Q?1:-1);Ya=void 0;if(0>Q?ec:Rb)Va=Cc(a,Va,-Q,Va&&Va.line==u.line?Ga:null);if(Va&&Va.line==u.line&&(Ya=Ta(Va,S))&&(0>Q?0>Ya:0<Ya))return Eb(a,Va,u,Q,Z)}S=wb.find(0>Q?-1:1);if(0>Q?Rb:ec)S=Cc(a,S,Q,S.line==u.line?Ga:null);return S?Eb(a,S,u,Q,Z):null}}}return u}function Sb(a,u,S,Q,Z){Q=Q||1;u=Eb(a,u,S,Q,Z)||!Z&&Eb(a,u,S,Q,!0)||Eb(a,u,S,-Q,Z)||!Z&&Eb(a,u,S,-Q,!0);return u?u:(a.cantEdit=!0,wa(a.first,0))}function Cc(a,u,S,Q){return 0>S&&0==u.ch?u.line>
a.first?$b(a,wa(u.line-1)):null:0<S&&u.ch==(Q||va(a,u.line)).text.length?u.line<a.first+a.size-1?wa(u.line+1,0):null:new wa(u.line,u.ch+S)}function Zc(a){a.setSelection(wa(a.firstLine(),0),wa(a.lastLine()),kd)}function $c(a,u,S){var Q={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return Q.canceled=!0}};S&&(Q.update=function(Z,Ga,Va,Ya){Z&&(Q.from=$b(a,Z));Ga&&(Q.to=$b(a,Ga));Va&&(Q.text=Va);void 0!==Ya&&(Q.origin=Ya)});C(a,"beforeChange",a,Q);a.cm&&C(a.cm,"beforeChange",
a.cm,Q);return Q.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:Q.from,to:Q.to,text:Q.text,origin:Q.origin}}function rd(a,u,S){if(a.cm){if(!a.cm.curOp)return ee(a.cm,rd)(a,u,S);if(a.cm.state.suppressEdits)return}if(Y(a,"beforeChange")||a.cm&&Y(a.cm,"beforeChange"))if(u=$c(a,u,!0),!u)return;if(S=Nj&&!S&&ua(a,u.from,u.to))for(var Q=S.length-1;0<=Q;--Q)ce(a,{from:S[Q].from,to:S[Q].to,text:Q?[""]:u.text,origin:u.origin});else ce(a,u)}function ce(a,u){if(1!=u.text.length||""!=u.text[0]||0!=Ta(u.from,
u.to)){var S=bh(a,u);Uf(a,u,S,a.cm?a.cm.curOp.id:NaN);Cf(a,u,S,$d(a,u));var Q=[];hc(a,function(Z,Ga){Ga||-1!=x(Q,Z.history)||(vh(Z.history,u),Q.push(Z.history));Cf(Z,u,null,$d(Z,u))})}}function ze(a,u,S){var Q=a.cm&&a.cm.state.suppressEdits;if(!Q||S){for(var Z=a.history,Ga,Va=a.sel,Ya="undo"==u?Z.done:Z.undone,wb="undo"==u?Z.undone:Z.done,Rb=0;Rb<Ya.length&&(Ga=Ya[Rb],S?!Ga.ranges||Ga.equals(a.sel):Ga.ranges);Rb++);if(Rb!=Ya.length){for(Z.lastOrigin=Z.lastSelOrigin=null;;)if(Ga=Ya.pop(),Ga.ranges){Xg(Ga,
wb);if(S&&!Ga.equals(a.sel)){Jg(a,Ga,{clearRedo:!1});return}Va=Ga}else{if(Q){Ya.push(Ga);return}break}var ec=[];Xg(Va,wb);wb.push({changes:ec,generation:Z.generation});Z.generation=Ga.generation||++Z.maxGeneration;var Mc=Y(a,"beforeChange")||a.cm&&Y(a.cm,"beforeChange");S=function(Wc){var ad=Ga.changes[Wc];ad.origin=u;if(Mc&&!$c(a,ad,!1))return Ya.length=0,{};ec.push(uf(a,ad));var Wd=Wc?bh(a,ad):F(Ya);Cf(a,ad,Wd,ph(a,ad));!Wc&&a.cm&&a.cm.scrollIntoView({from:ad.from,to:Wf(ad)});var Ee=[];hc(a,function(wf,
zg){zg||-1!=x(Ee,wf.history)||(vh(wf.history,ad),Ee.push(wf.history));Cf(wf,ad,null,ph(wf,ad))})};for(Q=Ga.changes.length-1;0<=Q;--Q)if(Z=S(Q))return Z.v}}}function ef(a,u){if(0!=u&&(a.first+=u,a.sel=new Dh(J(a.sel.ranges,function(Z){return new Jf(wa(Z.anchor.line+u,Z.anchor.ch),wa(Z.head.line+u,Z.head.ch))}),a.sel.primIndex),a.cm)){Jc(a.cm,a.first,a.first-u,u);for(var S=a.cm.display,Q=S.viewFrom;Q<S.viewTo;Q++)pd(a.cm,Q,"gutter")}}function Cf(a,u,S,Q){if(a.cm&&!a.cm.curOp)return ee(a.cm,Cf)(a,u,
S,Q);if(u.to.line<a.first)ef(a,u.text.length-1-(u.to.line-u.from.line));else if(!(u.from.line>a.lastLine())){if(u.from.line<a.first){var Z=u.text.length-1-(a.first-u.from.line);ef(a,Z);u={from:wa(a.first,0),to:wa(u.to.line+Z,u.to.ch),text:[F(u.text)],origin:u.origin}}Z=a.lastLine();u.to.line>Z&&(u={from:u.from,to:wa(Z,va(a,Z).text.length),text:[u.text[0]],origin:u.origin});u.removed=Ua(a,u.from,u.to);S||(S=bh(a,u));a.cm?Mf(a.cm,u,Q):Cb(a,u,Q);K(a,S,kd);a.cantEdit&&Sb(a,wa(a.firstLine(),0))&&(a.cantEdit=
!1)}}function Mf(a,u,S){var Q=a.doc,Z=a.display,Ga=u.from,Va=u.to,Ya=!1,wb=Ga.line;a.options.lineWrapping||(wb=Oa(Tb(va(Q,Ga.line))),Q.iter(wb,Va.line+1,function(Rb){if(Rb==Z.maxLine)return Ya=!0}));-1<Q.sel.contains(u.from,u.to)&&N(a);Cb(Q,u,S,Ib(a));a.options.lineWrapping||(Q.iter(wb,Ga.line+u.text.length,function(Rb){var ec=xd(Rb);ec>Z.maxLineLength&&(Z.maxLine=Rb,Z.maxLineLength=ec,Z.maxLineChanged=!0,Ya=!1)}),Ya&&(a.curOp.updateMaxLine=!0));Fc(Q,Ga.line);Te(a,400);S=u.text.length-(Va.line-Ga.line)-
1;u.full?Jc(a):Ga.line!=Va.line||1!=u.text.length||Wa(a.doc,u)?Jc(a,Ga.line,Va.line+1,S):pd(a,Ga.line,"text");S=Y(a,"changes");if((Q=Y(a,"change"))||S)u={from:Ga,to:Va,text:u.text,removed:u.removed,origin:u.origin},Q&&za(a,"change",a,u),S&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(u);a.display.selForContextMenu=null}function Ke(a,u,S,Q,Z){Q||(Q=S);0>Ta(Q,S)&&(Q=[Q,S],S=Q[0],Q=Q[1]);"string"==typeof u&&(u=a.splitLines(u));rd(a,{from:S,to:Q,text:u,origin:Z})}function ag(a,u,S,Q){S<a.line?a.line+=
Q:u<a.line&&(a.line=u,a.ch=0)}function wg(a,u,S,Q){for(var Z=0;Z<a.length;++Z){var Ga=a[Z],Va=!0;if(Ga.ranges)for(Ga.copied||(Ga=a[Z]=Ga.deepCopy(),Ga.copied=!0),Va=0;Va<Ga.ranges.length;Va++)ag(Ga.ranges[Va].anchor,u,S,Q),ag(Ga.ranges[Va].head,u,S,Q);else{for(var Ya=0;Ya<Ga.changes.length;++Ya){var wb=Ga.changes[Ya];if(S<wb.from.line)wb.from=wa(wb.from.line+Q,wb.from.ch),wb.to=wa(wb.to.line+Q,wb.to.ch);else if(u<=wb.to.line){Va=!1;break}}Va||(a.splice(0,Z+1),Z=0)}}}function vh(a,u){var S=u.from.line,
Q=u.to.line;u=u.text.length-(Q-S)-1;wg(a.done,S,Q,u);wg(a.undone,S,Q,u)}function ch(a,u,S,Q){var Z=u,Ga=u;"number"==typeof u?Ga=va(a,Math.max(a.first,Math.min(u,a.first+a.size-1))):Z=Oa(u);if(null==Z)return null;Q(Ga,Z)&&a.cm&&pd(a.cm,Z,S);return Ga}function dg(a){this.lines=a;this.parent=null;for(var u=0,S=0;S<a.length;++S)a[S].parent=this,u+=a[S].height;this.height=u}function Af(a){this.children=a;for(var u=0,S=0,Q=0;Q<a.length;++Q){var Z=a[Q];u+=Z.chunkSize();S+=Z.height;Z.parent=this}this.size=
u;this.height=S;this.parent=null}function jg(a,u,S,Q){var Z=new Fi(a,S,Q),Ga=a.cm;Ga&&Z.noHScroll&&(Ga.display.alignWidgets=!0);ch(a,u,"widget",function(Va){var Ya=Va.widgets||(Va.widgets=[]);null==Z.insertAt?Ya.push(Z):Ya.splice(Math.min(Ya.length,Math.max(0,Z.insertAt)),0,Z);Z.line=Va;Ga&&!Yc(a,Va)&&(Ya=nd(Va)<a.scrollTop,ra(Va,Va.height+sd(Z)),Ya&&Fb(Ga,Z.height),Ga.curOp.forceUpdate=!0);return!0});Ga&&za(Ga,"lineWidgetAdded",Ga,Z,"number"==typeof u?u:Oa(u));return Z}function bg(a,u,S,Q,Z){if(Q&&
Q.shared)return qg(a,u,S,Q,Z);if(a.cm&&!a.cm.curOp)return ee(a.cm,bg)(a,u,S,Q,Z);var Ga=new vi(a,Z);Z=Ta(u,S);Q&&n(Q,Ga,!1);if(0<Z||0==Z&&!1!==Ga.clearWhenEmpty)return Ga;Ga.replacedWith&&(Ga.collapsed=!0,Ga.widgetNode=t("span",[Ga.replacedWith],"CodeMirror-widget"),Q.handleMouseEvents||Ga.widgetNode.setAttribute("cm-ignore-events","true"),Q.insertLeft&&(Ga.widgetNode.insertLeft=!0));if(Ga.collapsed){if(Ub(a,u.line,u,S,Ga)||u.line!=S.line&&Ub(a,S.line,u,S,Ga))throw Error("Inserting collapsed marker partially overlapping an existing one");
zi=!0}Ga.addToHistory&&Uf(a,{from:u,to:S,origin:"markText"},a.sel,NaN);var Va=u.line,Ya=a.cm,wb;a.iter(Va,S.line+1,function(Rb){Ya&&Ga.collapsed&&!Ya.options.lineWrapping&&Tb(Rb)==Ya.display.maxLine&&(wb=!0);Ga.collapsed&&Va!=u.line&&ra(Rb,0);var ec=new Sc(Ga,Va==u.line?u.ch:null,Va==S.line?S.ch:null),Mc=a.cm&&a.cm.curOp;(Mc=Mc&&window.WeakSet&&(Mc.markedSpans||(Mc.markedSpans=new WeakSet)))&&Rb.markedSpans&&Mc.has(Rb.markedSpans)?Rb.markedSpans.push(ec):(Rb.markedSpans=Rb.markedSpans?Rb.markedSpans.concat([ec]):
[ec],Mc&&Mc.add(Rb.markedSpans));ec.marker.attachLine(Rb);++Va});Ga.collapsed&&a.iter(u.line,S.line+1,function(Rb){Yc(a,Rb)&&ra(Rb,0)});Ga.clearOnEnter&&$e(Ga,"beforeCursorEnter",function(){return Ga.clear()});Ga.readOnly&&(Nj=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());Ga.collapsed&&(Ga.id=++hk,Ga.atomic=!0);if(Ya){wb&&(Ya.curOp.updateMaxLine=!0);if(Ga.collapsed)Jc(Ya,u.line,S.line+1);else if(Ga.className||Ga.startStyle||Ga.endStyle||Ga.css||Ga.attributes||Ga.title)for(Q=
u.line;Q<=S.line;Q++)pd(Ya,Q,"text");Ga.atomic&&Ma(Ya.doc);za(Ya,"markerAdded",Ya,Ga)}return Ga}function qg(a,u,S,Q,Z){Q=n(Q);Q.shared=!1;var Ga=[bg(a,u,S,Q,Z)],Va=Ga[0],Ya=Q.widgetNode;hc(a,function(wb){Ya&&(Q.widgetNode=Ya.cloneNode(!0));Ga.push(bg(wb,$b(wb,u),$b(wb,S),Q,Z));for(var Rb=0;Rb<wb.linked.length;++Rb)if(wb.linked[Rb].isParent)return;Va=F(Ga)});return new gj(Ga,Va)}function wh(a){return a.findMarks(wa(a.first,0),a.clipPos(wa(a.lastLine())),function(u){return u.parent})}function Og(a){for(var u=
function(Q){Q=a[Q];var Z=[Q.primary.doc];hc(Q.primary.doc,function(Ya){return Z.push(Ya)});for(var Ga=0;Ga<Q.markers.length;Ga++){var Va=Q.markers[Ga];-1==x(Z,Va.doc)&&(Va.parent=null,Q.markers.splice(Ga--,1))}},S=0;S<a.length;S++)u(S)}function zh(a){var u=this;ri(u);if(!B(u,a)&&!Hd(u.display,a)){sa(a);Yf&&(yj=+new Date);var S=kc(u,a,!0),Q=a.dataTransfer.files;if(S&&!u.isReadOnly())if(Q&&Q.length&&window.FileReader&&window.File)for(var Z=Q.length,Ga=Array(Z),Va=0,Ya=function(){++Va==Z&&ee(u,function(){S=
$b(u.doc,S);var ec={from:S,to:S,text:u.doc.splitLines(Ga.filter(function(Mc){return null!=Mc}).join(u.doc.lineSeparator())),origin:"paste"};rd(u.doc,ec);Eh(u.doc,Tf($b(u.doc,S),$b(u.doc,Wf(ec))))})()},wb=function(ec,Mc){if(u.options.allowDropFileTypes&&-1==x(u.options.allowDropFileTypes,ec.type))Ya();else{var Wc=new FileReader;Wc.onerror=function(){return Ya()};Wc.onload=function(){var ad=Wc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(ad)||(Ga[Mc]=ad);Ya()};Wc.readAsText(ec)}},Rb=0;Rb<Q.length;Rb++)wb(Q[Rb],
Rb);else if(u.state.draggingText&&-1<u.doc.sel.contains(S))u.state.draggingText(a),setTimeout(function(){return u.display.input.focus()},20);else try{if(wb=a.dataTransfer.getData("Text")){u.state.draggingText&&!u.state.draggingText.copy&&(Rb=u.listSelections());K(u.doc,Tf(S,S));if(Rb)for(Q=0;Q<Rb.length;++Q)Ke(u.doc,"",Rb[Q].anchor,Rb[Q].head,"drag");u.replaceSelection(wb,"around","paste");u.display.input.focus()}}catch(ec){}}}function ri(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),
a.display.dragCursor=null)}function Zh(a){if(document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),S=[],Q=0;Q<u.length;Q++){var Z=u[Q].CodeMirror;Z&&S.push(Z)}S.length&&S[0].operation(function(){for(var Ga=0;Ga<S.length;Ga++)a(S[Ga])})}}function $h(){var a;$e(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null;Zh(df)},100))});$e(window,"blur",function(){return Zh(Pb)})}function df(a){var u=a.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=
null;u.scrollbarsClipped=!1;a.setSize()}function Ch(a){var u=a.split(/-(?!$)/);a=u[u.length-1];for(var S,Q,Z,Ga,Va=0;Va<u.length-1;Va++){var Ya=u[Va];if(/^(cmd|meta|m)$/i.test(Ya))Ga=!0;else if(/^a(lt)?$/i.test(Ya))S=!0;else if(/^(c|ctrl|control)$/i.test(Ya))Q=!0;else if(/^s(hift)?$/i.test(Ya))Z=!0;else throw Error("Unrecognized modifier name: "+Ya);}S&&(a="Alt-"+a);Q&&(a="Ctrl-"+a);Ga&&(a="Cmd-"+a);Z&&(a="Shift-"+a);return a}function hf(a){var u={},S;for(S in a)if(a.hasOwnProperty(S)){var Q=a[S];
if(!/^(name|fallthrough|(de|at)tach)$/.test(S)){if("..."!=Q)for(var Z=J(S.split(" "),Ch),Ga=0;Ga<Z.length;Ga++){if(Ga==Z.length-1){var Va=Z.join(" ");var Ya=Q}else Va=Z.slice(0,Ga+1).join(" "),Ya="...";var wb=u[Va];if(!wb)u[Va]=Ya;else if(wb!=Ya)throw Error("Inconsistent bindings for "+Va);}delete a[S]}}for(var Rb in u)a[Rb]=u[Rb];return a}function jf(a,u,S,Q){u=ai(u);var Z=u.call?u.call(a,Q):u[a];if(!1===Z)return"nothing";if("..."===Z)return"multi";if(null!=Z&&S(Z))return"handled";if(u.fallthrough){if("[object Array]"!=
Object.prototype.toString.call(u.fallthrough))return jf(a,u.fallthrough,S,Q);for(Z=0;Z<u.fallthrough.length;Z++){var Ga=jf(a,u.fallthrough[Z],S,Q);if(Ga)return Ga}}}function Pg(a){a="string"==typeof a?a:Hi[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function Nh(a,u,S){var Q=a;u.altKey&&"Alt"!=Q&&(a="Alt-"+a);(Zb?u.metaKey:u.ctrlKey)&&"Ctrl"!=Q&&(a="Ctrl-"+a);(Zb?u.ctrlKey:u.metaKey)&&"Mod"!=Q&&(a="Cmd-"+a);!S&&u.shiftKey&&"Shift"!=Q&&(a="Shift-"+a);return a}function Yh(a,u){if(Oh&&
34==a.keyCode&&a["char"])return!1;var S=Hi[a.keyCode];if(null==S||a.altGraphKey)return!1;3==a.keyCode&&a.code&&(S=a.code);return Nh(S,a,u)}function ai(a){return"string"==typeof a?Qi[a]:a}function dh(a,u){for(var S=a.doc.sel.ranges,Q=[],Z=0;Z<S.length;Z++){for(var Ga=u(S[Z]);Q.length&&0>=Ta(Ga.from,F(Q).to);){var Va=Q.pop();if(0>Ta(Va.from,Ga.from)){Ga.from=Va.from;break}}Q.push(Ga)}Kd(a,function(){for(var Ya=Q.length-1;0<=Ya;Ya--)Ke(a.doc,"",Q[Ya].from,Q[Ya].to,"+delete");Kb(a)})}function ue(a,u,
S){u=M(a.text,u+S,S);return 0>u||u>a.text.length?null:u}function Je(a,u,S){a=ue(a,u.ch,S);return null==a?null:new wa(u.line,a,0>S?"after":"before")}function Df(a,u,S,Q,Z){if(a&&("rtl"==u.doc.direction&&(Z=-Z),a=La(S,u.doc.direction))){a=0>Z?F(a):a[0];var Ga=0>Z==(1==a.level)?"after":"before";if(0<a.level||"rtl"==u.doc.direction){var Va=Re(u,S);var Ya=0>Z?S.text.length-1:0;var wb=af(u,Va,Ya).top;Ya=ba(function(Rb){return af(u,Va,Rb).top==wb},0>Z==(1==a.level)?a.from:a.to-1,Ya);"before"==Ga&&(Ya=ue(S,
Ya,1))}else Ya=0>Z?a.to:a.from;return new wa(Q,Ya,Ga)}return new wa(Q,0>Z?S.text.length:0,0>Z?"before":"after")}function Pe(a,u,S,Q){var Z=La(u,a.doc.direction);if(!Z)return Je(u,S,Q);S.ch>=u.text.length?(S.ch=u.text.length,S.sticky="before"):0>=S.ch&&(S.ch=0,S.sticky="after");var Ga=ea(Z,S.ch,S.sticky),Va=Z[Ga];if("ltr"==a.doc.direction&&0==Va.level%2&&(0<Q?Va.to>S.ch:Va.from<S.ch))return Je(u,S,Q);var Ya=function(ad,Wd){return ue(u,ad instanceof wa?ad.ch:ad,Wd)},wb,Rb=function(ad){if(!a.options.lineWrapping)return{begin:0,
end:u.text.length};wb=wb||Re(a,u);return Rd(a,u,wb,ad)},ec=Rb("before"==S.sticky?Ya(S,-1):S.ch);if("rtl"==a.doc.direction||1==Va.level){var Mc=1==Va.level==0>Q,Wc=Ya(S,Mc?1:-1);if(null!=Wc&&(Mc?Wc<=Va.to&&Wc<=ec.end:Wc>=Va.from&&Wc>=ec.begin))return new wa(S.line,Wc,Mc?"before":"after")}Va=function(ad,Wd,Ee){for(var wf=function(cg,Lg){return Lg?new wa(S.line,Ya(cg,1),"before"):new wa(S.line,cg,"after")};0<=ad&&ad<Z.length;ad+=Wd){var zg=Z[ad],lf=0<Wd==(1!=zg.level),Gg=lf?Ee.begin:Ya(Ee.end,-1);if(zg.from<=
Gg&&Gg<zg.to)return wf(Gg,lf);Gg=lf?zg.from:Ya(zg.to,-1);if(Ee.begin<=Gg&&Gg<Ee.end)return wf(Gg,lf)}};if(Ga=Va(Ga+Q,Q,ec))return Ga;ec=0<Q?ec.end:Ya(ec.begin,-1);return null==ec||0<Q&&ec==u.text.length||!(Ga=Va(0<Q?0:Z.length-1,Q,Rb(ec)))?null:Ga}function eg(a,u){var S=va(a.doc,u),Q=Tb(S);Q!=S&&(u=Oa(Q));return Df(!0,a,Q,u,1)}function fg(a,u){var S=eg(a,u.line),Q=va(a.doc,S.line);a=La(Q,a.doc.direction);return a&&0!=a[0].level?S:(Q=Math.max(S.ch,Q.text.search(/\S/)),wa(S.line,u.line==S.line&&u.ch<=
Q&&u.ch?0:Q,S.sticky))}function ff(a,u,S){if("string"==typeof u&&(u=wj[u],!u))return!1;a.display.input.ensurePolled();var Q=a.display.shift,Z=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),S&&(a.display.shift=!1),Z=u(a)!=ae}finally{a.display.shift=Q,a.state.suppressEdits=!1}return Z}function Da(a,u,S,Q){var Z=a.state.keySeq;if(Z){if(Pg(u))return"handled";/'$/.test(u)?a.state.keySeq=null:yk.set(50,function(){a.state.keySeq==Z&&(a.state.keySeq=null,a.display.input.reset())});if(ab(a,Z+" "+u,S,Q))return!0}return ab(a,
u,S,Q)}function ab(a,u,S,Q){a:{for(var Z=0;Z<a.state.keyMaps.length;Z++){var Ga=jf(u,a.state.keyMaps[Z],Q,a);if(Ga){Q=Ga;break a}}Q=a.options.extraKeys&&jf(u,a.options.extraKeys,Q,a)||jf(u,a.options.keyMap,Q,a)}"multi"==Q&&(a.state.keySeq=u);"handled"==Q&&za(a,"keyHandled",a,u,S);if("handled"==Q||"multi"==Q)sa(S),Lc(a);return!!Q}function xb(a,u){var S=Yh(u,!0);return S?u.shiftKey&&!a.state.keySeq?Da(a,"Shift-"+S,u,function(Q){return ff(a,Q,!0)})||Da(a,S,u,function(Q){if("string"==typeof Q?/^go[A-Z]/.test(Q):
Q.motion)return ff(a,Q)}):Da(a,S,u,function(Q){return ff(a,Q)}):!1}function Lb(a,u,S){return Da(a,"'"+S+"'",u,function(Q){return ff(a,Q,!0)})}function pc(a){if(!a.target||a.target==this.display.input.getField())if(this.curOp.focus=f(e(this)),!B(this,a)){Yf&&11>yg&&27==a.keyCode&&(a.returnValue=!1);var u=a.keyCode;this.display.shift=16==u||a.shiftKey;var S=xb(this,a);Oh&&(ck=S?u:null,!S&&88==u&&!ve&&(ia?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));xh&&!ia&&!S&&46==u&&a.shiftKey&&!a.ctrlKey&&
document.execCommand&&document.execCommand("cut");18!=u||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||sc(this)}}function sc(a){function u(Q){18!=Q.keyCode&&Q.altKey||(jc(S,"CodeMirror-crosshair"),aa(document,"keyup",u),aa(document,"mouseover",u))}var S=a.display.lineDiv;b(S,"CodeMirror-crosshair");$e(document,"keyup",u);$e(document,"mouseover",u)}function Vc(a){16==a.keyCode&&(this.doc.sel.shift=!1);B(this,a)}function pa(a){if(!(a.target&&a.target!=this.display.input.getField()||
Hd(this.display,a)||B(this,a)||a.ctrlKey&&!a.altKey||ia&&a.metaKey)){var u=a.keyCode,S=a.charCode;if(Oh&&u==ck)ck=null,sa(a);else if(!Oh||a.which&&!(10>a.which)||!xb(this,a))if(u=String.fromCharCode(null==S?u:S),"\b"!=u&&!Lb(this,a,u))this.display.input.onKeyPress(a)}}function Ra(a,u){var S=+new Date;if(Gj&&Gj.compare(S,a,u))return Fj=Gj=null,"triple";if(Fj&&Fj.compare(S,a,u))return Gj=new Pj(S,a,u),Fj=null,"double";Fj=new Pj(S,a,u);Gj=null;return"single"}function mb(a){var u=this.display;if(!(B(this,
a)||u.activeTouch&&u.input.supportsTouch()))if(u.input.ensurePolled(),u.shift=a.shiftKey,Hd(u,a))Zg||(u.scroller.draggable=!1,setTimeout(function(){return u.scroller.draggable=!0},100));else if(!Sd(this,a,"gutterClick",!0)){var S=kc(this,a),Q=ib(a),Z=S?Ra(S,Q):"single";e(this).defaultView.focus();1==Q&&this.state.selectingText&&this.state.selectingText(a);if(!S||!pb(this,Q,S,Z,a))if(1==Q)S?gc(this,S,Z,a):(a.target||a.srcElement)==u.scroller&&sa(a);else if(2==Q)S&&nh(this.doc,S),setTimeout(function(){return u.input.focus()},
20);else if(3==Q)if(ac)this.display.input.onContextMenu(a);else kb(this)}}function pb(a,u,S,Q,Z){var Ga="Click";"double"==Q?Ga="Double"+Ga:"triple"==Q&&(Ga="Triple"+Ga);return Da(a,Nh((1==u?"Left":2==u?"Middle":"Right")+Ga,Z),Z,function(Va){"string"==typeof Va&&(Va=wj[Va]);if(!Va)return!1;var Ya=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),Ya=Va(a,S)!=ae}finally{a.state.suppressEdits=!1}return Ya})}function gc(a,u,S,Q){Yf?setTimeout(g(ud,a),0):a.curOp.focus=f(e(a));var Z=a.getOption("configureMouse");
Z=Z?Z(a,S,Q):{};null==Z.unit&&(Z.unit=(Na?Q.shiftKey&&Q.metaKey:Q.altKey)?"rectangle":"single"==S?"char":"double"==S?"word":"line");if(null==Z.extend||a.doc.extend)Z.extend=a.doc.extend||Q.shiftKey;null==Z.addNew&&(Z.addNew=ia?Q.metaKey:Q.ctrlKey);null==Z.moveOnDrag&&(Z.moveOnDrag=!(ia?Q.altKey:Q.ctrlKey));var Ga=a.doc.sel,Va;a.options.dragDrop&&gh&&!a.isReadOnly()&&"single"==S&&-1<(Va=Ga.contains(u))&&(0>Ta((Va=Ga.ranges[Va]).from(),u)||0<u.xRel)&&(0<Ta(Va.to(),u)||0>u.xRel)?Qc(a,Q,u,Z):Bd(a,Q,u,
Z)}function Qc(a,u,S,Q){var Z=a.display,Ga=!1,Va=ee(a,function(Rb){Zg&&(Z.scroller.draggable=!1);a.state.draggingText=!1;a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:kb(a));aa(Z.wrapper.ownerDocument,"mouseup",Va);aa(Z.wrapper.ownerDocument,"mousemove",Ya);aa(Z.scroller,"dragstart",wb);aa(Z.scroller,"drop",Va);Ga||(sa(Rb),Q.addNew||nh(a.doc,S,null,null,Q.extend),Zg&&!ti||Yf&&9==yg?setTimeout(function(){Z.wrapper.ownerDocument.body.focus({preventScroll:!0});Z.input.focus()},
20):Z.input.focus())}),Ya=function(Rb){Ga=Ga||10<=Math.abs(u.clientX-Rb.clientX)+Math.abs(u.clientY-Rb.clientY)},wb=function(){return Ga=!0};Zg&&(Z.scroller.draggable=!0);a.state.draggingText=Va;Va.copy=!Q.moveOnDrag;$e(Z.wrapper.ownerDocument,"mouseup",Va);$e(Z.wrapper.ownerDocument,"mousemove",Ya);$e(Z.scroller,"dragstart",wb);$e(Z.scroller,"drop",Va);a.state.delayingBlurEvent=!0;setTimeout(function(){return Z.input.focus()},20);Z.scroller.dragDrop&&Z.scroller.dragDrop()}function Xc(a,u,S){if("char"==
S)return new Jf(u,u);if("word"==S)return a.findWordAt(u);if("line"==S)return new Jf(wa(u.line,0),$b(a.doc,wa(u.line+1,0)));a=S(a,u);return new Jf(a.from,a.to)}function Bd(a,u,S,Q){function Z(lf){if(0!=Ta(ad,lf))if(ad=lf,"rectangle"==Q.unit){var Gg=[],cg=a.options.tabSize,Lg=h(va(wb,S.line).text,S.ch,cg),sg=h(va(wb,lf.line).text,lf.ch,cg),Of=Math.min(Lg,sg);Lg=Math.max(Lg,sg);sg=Math.min(S.line,lf.line);for(var Vg=Math.min(a.lastLine(),Math.max(S.line,lf.line));sg<=Vg;sg++){var hg=va(wb,sg).text,pg=
O(hg,Of,cg);Of==Lg?Gg.push(new Jf(wa(sg,pg),wa(sg,pg))):hg.length>pg&&Gg.push(new Jf(wa(sg,pg),wa(sg,O(hg,Lg,cg))))}Gg.length||Gg.push(new Jf(S,S));Jg(wb,og(a,Rb.ranges.slice(0,Mc).concat(Gg),Mc),{origin:"*mouse",scroll:!1});a.scrollIntoView(lf)}else Gg=Wc,Of=Xc(a,lf,Q.unit),lf=Gg.anchor,0<Ta(Of.anchor,lf)?(cg=Of.head,lf=Mb(Gg.from(),Of.anchor)):(cg=Of.anchor,lf=nb(Gg.to(),Of.head)),Gg=Rb.ranges.slice(0),Gg[Mc]=Tc(a,new Jf($b(wb,lf),cg)),Jg(wb,og(a,Gg,Mc),oe)}function Ga(lf){var Gg=++Ee,cg=kc(a,lf,
!0,"rectangle"==Q.unit);if(cg)if(0!=Ta(cg,ad)){a.curOp.focus=f(e(a));Z(cg);var Lg=Ha(Ya,wb);(cg.line>=Lg.to||cg.line<Lg.from)&&setTimeout(ee(a,function(){Ee==Gg&&Ga(lf)}),150)}else{var sg=lf.clientY<Wd.top?-20:lf.clientY>Wd.bottom?20:0;sg&&setTimeout(ee(a,function(){Ee==Gg&&(Ya.scroller.scrollTop+=sg,Ga(lf))}),50)}}function Va(lf){a.state.selectingText=!1;Ee=Infinity;lf&&(sa(lf),Ya.input.focus());aa(Ya.wrapper.ownerDocument,"mousemove",wf);aa(Ya.wrapper.ownerDocument,"mouseup",zg);wb.history.lastSelOrigin=
null}Yf&&kb(a);var Ya=a.display,wb=a.doc;sa(u);var Rb=wb.sel,ec=Rb.ranges;if(Q.addNew&&!Q.extend){var Mc=wb.sel.contains(S);var Wc=-1<Mc?ec[Mc]:new Jf(S,S)}else Wc=wb.sel.primary(),Mc=wb.sel.primIndex;"rectangle"==Q.unit?(Q.addNew||(Wc=new Jf(S,S)),S=kc(a,u,!0,!0),Mc=-1):(u=Xc(a,S,Q.unit),Wc=Q.extend?Ug(Wc,u.anchor,u.head,Q.extend):u);Q.addNew?-1==Mc?(Mc=ec.length,Jg(wb,og(a,ec.concat([Wc]),Mc),{scroll:!1,origin:"*mouse"})):1<ec.length&&ec[Mc].empty()&&"char"==Q.unit&&!Q.extend?(Jg(wb,og(a,ec.slice(0,
Mc).concat(ec.slice(Mc+1)),0),{scroll:!1,origin:"*mouse"}),Rb=wb.sel):Lh(wb,Mc,Wc,oe):(Mc=0,Jg(wb,new Dh([Wc],0),oe),Rb=wb.sel);var ad=S,Wd=Ya.wrapper.getBoundingClientRect(),Ee=0,wf=ee(a,function(lf){0!==lf.buttons&&ib(lf)?Ga(lf):Va(lf)}),zg=ee(a,Va);a.state.selectingText=zg;$e(Ya.wrapper.ownerDocument,"mousemove",wf);$e(Ya.wrapper.ownerDocument,"mouseup",zg)}function Tc(a,u){var S=u.anchor,Q=u.head,Z=va(a.doc,S.line);if(0==Ta(S,Q)&&S.sticky==Q.sticky)return u;Z=La(Z);if(!Z)return u;var Ga=ea(Z,
S.ch,S.sticky),Va=Z[Ga];if(Va.from!=S.ch&&Va.to!=S.ch)return u;var Ya=Ga+(Va.from==S.ch==(1!=Va.level)?0:1);if(0==Ya||Ya==Z.length)return u;Q.line!=S.line?a=0<(Q.line-S.line)*("ltr"==a.doc.direction?1:-1):(a=ea(Z,Q.ch,Q.sticky),Ga=a-Ga||(Q.ch-S.ch)*(1==Va.level?-1:1),a=a==Ya-1||a==Ya?0>Ga:0<Ga);Z=Z[Ya+(a?-1:0)];Z=(Ya=a==(1==Z.level))?Z.from:Z.to;Ya=Ya?"after":"before";return S.ch==Z&&S.sticky==Ya?u:new Jf(new wa(S.line,Z,Ya),Q)}function Sd(a,u,S,Q){if(u.touches){var Z=u.touches[0].clientX;var Ga=
u.touches[0].clientY}else try{Z=u.clientX,Ga=u.clientY}catch(wb){return!1}if(Z>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;Q&&sa(u);Q=a.display;var Va=Q.lineDiv.getBoundingClientRect();if(Ga>Va.bottom||!Y(a,S))return Ia(u);Ga-=Va.top-Q.viewOffset;for(Va=0;Va<a.display.gutterSpecs.length;++Va){var Ya=Q.gutters.childNodes[Va];if(Ya&&Ya.getBoundingClientRect().right>=Z)return Z=ja(a.doc,Ga),C(a,S,a,Z,a.display.gutterSpecs[Va].className,u),Ia(u)}}function Td(a,u){var S;(S=Hd(a.display,
u))||(S=Y(a,"gutterContextMenu")?Sd(a,u,"gutterContextMenu",!1):!1);if(!S&&!B(a,u,"contextmenu")&&!ac)a.display.input.onContextMenu(u)}function De(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Ad(a)}function tf(a,u,S){!u!=!(S&&S!=dj)&&(S=a.display.dragFunctions,u=u?$e:aa,u(a.display.scroller,"dragstart",S.start),u(a.display.scroller,"dragenter",S.enter),u(a.display.scroller,"dragover",S.over),u(a.display.scroller,
"dragleave",S.leave),u(a.display.scroller,"drop",S.drop))}function Ze(a){a.options.lineWrapping?(b(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(jc(a.display.wrapper,"CodeMirror-wrap"),Nd(a));Yb(a);Jc(a);Ad(a);setTimeout(function(){return Be(a)},100)}function cf(a,u){var S=this;if(!(this instanceof cf))return new cf(a,u);this.options=u=u?n(u):{};n(tk,u,!1);var Q=u.value;"string"==typeof Q?Q=new oh(Q,u.mode,null,u.lineSeparator,u.direction):u.mode&&
(Q.modeOption=u.mode);this.doc=Q;var Z=new cf.inputStyles[u.inputStyle](this);a=this.display=new Sg(a,Q,Z,u);a.wrapper.CodeMirror=this;De(this);u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Ae(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ld,keySeq:null,specialChars:null};u.autofocus&&!Oi&&a.input.focus();Yf&&11>yg&&setTimeout(function(){return S.display.input.reset(!0)},
20);Bg(this);Ik||($h(),Ik=!0);Zd(this);this.curOp.forceUpdate=!0;yd(this,Q);u.autofocus&&!Oi||this.hasFocus()?setTimeout(function(){S.hasFocus()&&!S.state.focused&&Gb(S)},20):Pb(this);for(var Ga in Mj)if(Mj.hasOwnProperty(Ga))Mj[Ga](this,u[Ga],dj);Gf(this);u.finishInit&&u.finishInit(this);for(Q=0;Q<dk.length;++Q)dk[Q](this);vd(this);Zg&&u.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function Bg(a){function u(){Q.activeTouch&&
(Z=setTimeout(function(){return Q.activeTouch=null},1E3),Ga=Q.activeTouch,Ga.end=+new Date)}function S(Ya,wb){if(null==wb.left)return!0;var Rb=wb.left-Ya.left;Ya=wb.top-Ya.top;return 400<Rb*Rb+Ya*Ya}var Q=a.display;$e(Q.scroller,"mousedown",ee(a,mb));Yf&&11>yg?$e(Q.scroller,"dblclick",ee(a,function(Ya){if(!B(a,Ya)){var wb=kc(a,Ya);!wb||Sd(a,Ya,"gutterClick",!0)||Hd(a.display,Ya)||(sa(Ya),Ya=a.findWordAt(wb),nh(a.doc,Ya.anchor,Ya.head))}})):$e(Q.scroller,"dblclick",function(Ya){return B(a,Ya)||sa(Ya)});
$e(Q.scroller,"contextmenu",function(Ya){return Td(a,Ya)});$e(Q.input.getField(),"contextmenu",function(Ya){Q.scroller.contains(Ya.target)||Td(a,Ya)});var Z,Ga={end:0};$e(Q.scroller,"touchstart",function(Ya){var wb;if(wb=!B(a,Ya))1!=Ya.touches.length?wb=!1:(wb=Ya.touches[0],wb=1>=wb.radiusX&&1>=wb.radiusY),wb=!wb;wb&&!Sd(a,Ya,"gutterClick",!0)&&(Q.input.ensurePolled(),clearTimeout(Z),wb=+new Date,Q.activeTouch={start:wb,moved:!1,prev:300>=wb-Ga.end?Ga:null},1==Ya.touches.length&&(Q.activeTouch.left=
Ya.touches[0].pageX,Q.activeTouch.top=Ya.touches[0].pageY))});$e(Q.scroller,"touchmove",function(){Q.activeTouch&&(Q.activeTouch.moved=!0)});$e(Q.scroller,"touchend",function(Ya){var wb=Q.activeTouch;if(wb&&!Hd(Q,Ya)&&null!=wb.left&&!wb.moved&&300>new Date-wb.start){var Rb=a.coordsChar(Q.activeTouch,"page");wb=!wb.prev||S(wb,wb.prev)?new Jf(Rb,Rb):!wb.prev.prev||S(wb,wb.prev.prev)?a.findWordAt(Rb):new Jf(wa(Rb.line,0),$b(a.doc,wa(Rb.line+1,0)));a.setSelection(wb.anchor,wb.head);a.focus();sa(Ya)}u()});
$e(Q.scroller,"touchcancel",u);$e(Q.scroller,"scroll",function(){Q.scroller.clientHeight&&(yc(a,Q.scroller.scrollTop),Ec(a,Q.scroller.scrollLeft,!0),C(a,"scroll",a))});$e(Q.scroller,"mousewheel",function(Ya){return ug(a,Ya)});$e(Q.scroller,"DOMMouseScroll",function(Ya){return ug(a,Ya)});$e(Q.wrapper,"scroll",function(){return Q.wrapper.scrollTop=Q.wrapper.scrollLeft=0});Q.dragFunctions={enter:function(Ya){B(a,Ya)||bb(Ya)},over:function(Ya){if(!B(a,Ya)){var wb=kc(a,Ya);if(wb){var Rb=document.createDocumentFragment();
td(a,wb,Rb);a.display.dragCursor||(a.display.dragCursor=q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));p(a.display.dragCursor,Rb)}bb(Ya)}},start:function(Ya){if(Yf&&(!a.state.draggingText||100>+new Date-yj))bb(Ya);else if(!B(a,Ya)&&!Hd(a.display,Ya)&&(Ya.dataTransfer.setData("Text",a.getSelection()),Ya.dataTransfer.effectAllowed="copyMove",Ya.dataTransfer.setDragImage&&!ti)){var wb=q("img",null,null,"position: fixed; left: 0; top: 0;");
wb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Oh&&(wb.width=wb.height=1,a.display.wrapper.appendChild(wb),wb._top=wb.offsetTop);Ya.dataTransfer.setDragImage(wb,0,0);Oh&&wb.parentNode.removeChild(wb)}},drop:ee(a,zh),leave:function(Ya){B(a,Ya)||ri(a)}};var Va=Q.input.getField();$e(Va,"keyup",function(Ya){return Vc.call(a,Ya)});$e(Va,"keydown",ee(a,pc));$e(Va,"keypress",ee(a,pa));$e(Va,"focus",function(Ya){return Gb(a,Ya)});$e(Va,"blur",function(Ya){return Pb(a,
Ya)})}function gg(a,u,S,Q){var Z=a.doc,Ga;null==S&&(S="add");"smart"==S&&(Z.mode.indent?Ga=uc(a,u).state:S="prev");var Va=a.options.tabSize,Ya=va(Z,u),wb=h(Ya.text,null,Va);Ya.stateAfter&&(Ya.stateAfter=null);var Rb=Ya.text.match(/^\s*/)[0];if(!Q&&!/\S/.test(Ya.text)){var ec=0;S="not"}else if("smart"==S&&(ec=Z.mode.indent(Ga,Ya.text.slice(Rb.length),Ya.text),ec==ae||150<ec)){if(!Q)return;S="prev"}"prev"==S?ec=u>Z.first?h(va(Z,u-1).text,null,Va):0:"add"==S?ec=wb+a.options.indentUnit:"subtract"==S?
ec=wb-a.options.indentUnit:"number"==typeof S&&(ec=wb+S);ec=Math.max(0,ec);S="";Q=0;if(a.options.indentWithTabs)for(a=Math.floor(ec/Va);a;--a)Q+=Va,S+="\t";Q<ec&&(S+=H(ec-Q));if(S!=Rb)return Ke(Z,S,wa(u,0),wa(u,Rb.length),"+input"),Ya.stateAfter=null,!0;for(Va=0;Va<Z.sel.ranges.length;Va++)if(Ya=Z.sel.ranges[Va],Ya.head.line==u&&Ya.head.ch<Rb.length){u=wa(u,Rb.length);Lh(Z,Va,new Jf(u,u));break}}function He(a,u,S,Q,Z){var Ga=a.doc;a.display.shift=!1;Q||(Q=Ga.sel);var Va=+new Date-200,Ya="paste"==
Z||a.state.pasteIncoming>Va,wb=Jh(u),Rb=null;if(Ya&&1<Q.ranges.length)if(Vh&&Vh.text.join("\n")==u){if(0==Q.ranges.length%Vh.text.length){Rb=[];for(var ec=0;ec<Vh.text.length;ec++)Rb.push(Ga.splitLines(Vh.text[ec]))}}else wb.length==Q.ranges.length&&a.options.pasteLinesPerSelection&&(Rb=J(wb,function(Ee){return[Ee]}));ec=a.curOp.updateInput;for(var Mc=Q.ranges.length-1;0<=Mc;Mc--){var Wc=Q.ranges[Mc],ad=Wc.from(),Wd=Wc.to();Wc.empty()&&(S&&0<S?ad=wa(ad.line,ad.ch-S):a.state.overwrite&&!Ya?Wd=wa(Wd.line,
Math.min(va(Ga,Wd.line).text.length,Wd.ch+F(wb).length)):Ya&&Vh&&Vh.lineWise&&Vh.text.join("\n")==wb.join("\n")&&(ad=Wd=wa(ad.line,0)));Wc={from:ad,to:Wd,text:Rb?Rb[Mc%Rb.length]:wb,origin:Z||(Ya?"paste":a.state.cutIncoming>Va?"cut":"+input")};rd(a.doc,Wc);za(a,"inputRead",a,Wc)}u&&!Ya&&Hf(a,u);Kb(a);2>a.curOp.updateInput&&(a.curOp.updateInput=ec);a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=-1}function pf(a,u){var S=a.clipboardData&&a.clipboardData.getData("Text");if(S)return a.preventDefault(),
u.isReadOnly()||u.options.disableInput||!u.hasFocus()||Kd(u,function(){return He(u,S,0,null,"paste")}),!0}function Hf(a,u){if(a.options.electricChars&&a.options.smartIndent)for(var S=a.doc.sel,Q=S.ranges.length-1;0<=Q;Q--){var Z=S.ranges[Q];if(!(100<Z.head.ch||Q&&S.ranges[Q-1].head.line==Z.head.line)){var Ga=a.getModeAt(Z.head),Va=!1;if(Ga.electricChars)for(var Ya=0;Ya<Ga.electricChars.length;Ya++){if(-1<u.indexOf(Ga.electricChars.charAt(Ya))){Va=gg(a,Z.head.line,"smart");break}}else Ga.electricInput&&
Ga.electricInput.test(va(a.doc,Z.head.line).text.slice(0,Z.head.ch))&&(Va=gg(a,Z.head.line,"smart"));Va&&za(a,"electricInput",a,Z.head.line)}}}function mg(a){for(var u=[],S=[],Q=0;Q<a.doc.sel.ranges.length;Q++){var Z=a.doc.sel.ranges[Q].head.line;Z={anchor:wa(Z,0),head:wa(Z+1,0)};S.push(Z);u.push(a.getRange(Z.anchor,Z.head))}return{text:u,ranges:S}}function ci(a,u,S,Q){a.setAttribute("autocorrect",S?"":"off");a.setAttribute("autocapitalize",Q?"":"off");a.setAttribute("spellcheck",!!u)}function Rg(){var a=
q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),u=q("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Zg?a.style.width="1000px":a.setAttribute("wrap","off");ni&&(a.style.border="1px solid black");ci(a);return u}function Cg(a,u,S,Q,Z){function Ga(Ee){if("codepoint"==Q){var wf=wb.text.charCodeAt(u.ch+(0<S?0:-1));wf=isNaN(wf)?null:new wa(u.line,Math.max(0,Math.min(wb.text.length,u.ch+S*((0<
S?55296<=wf&&56320>wf:56320<=wf&&57343>wf)?2:1))),-S)}else wf=Z?Pe(a.cm,wb,u,S):Je(wb,u,S);if(null==wf){if(Ee=!Ee)Ee=u.line+Rb,Ee<a.first||Ee>=a.first+a.size?Ee=!1:(u=new wa(Ee,u.ch,u.sticky),Ee=wb=va(a,Ee));if(Ee)u=Df(Z,a.cm,wb,u.line,Rb);else return!1}else u=wf;return!0}var Va=u,Ya=S,wb=va(a,u.line),Rb=Z&&"rtl"==a.direction?-S:S;if("char"==Q||"codepoint"==Q)Ga();else if("column"==Q)Ga(!0);else if("word"==Q||"group"==Q)for(var ec=null,Mc="group"==Q,Wc=a.cm&&a.cm.getHelper(u,"wordChars"),ad=!0;!(0>
S)||Ga(!ad);ad=!1){var Wd=wb.text.charAt(u.ch)||"\n";Wd=T(Wd,Wc)?"w":Mc&&"\n"==Wd?"n":!Mc||/\s/.test(Wd)?null:"p";!Mc||ad||Wd||(Wd="s");if(ec&&ec!=Wd){0>S&&(S=1,Ga(),u.sticky="after");break}Wd&&(ec=Wd);if(0<S&&!Ga(!ad))break}Ya=Sb(a,u,Va,Ya,!0);db(Va,Ya)&&(Ya.hitSide=!0);return Ya}function li(a,u,S,Q){var Z=a.doc,Ga=u.left;if("page"==Q){var Va=Math.min(a.display.wrapper.clientHeight,e(a).defaultView.innerHeight||Z(a).documentElement.clientHeight);Va=Math.max(Va-.5*Se(a.display),3);Va=(0<S?u.bottom:
u.top)+S*Va}else"line"==Q&&(Va=0<S?u.bottom+3:u.top-3);for(;;){u=ic(a,Ga,Va);if(!u.outside)break;if(0>S?0>=Va:Va>=Z.height){u.hitSide=!0;break}Va+=5*S}return u}function xg(a,u){var S=Ge(a,u.line);if(!S||S.hidden)return null;var Q=va(a.doc,u.line);S=vf(S,Q,u.line);a=La(Q,a.doc.direction);Q="left";a&&(Q=ea(a,u.ch)%2?"right":"left");u=Qb(S.map,u.ch,Q);u.offset="right"==u.collapse?u.end:u.start;return u}function Ah(a){for(;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}
function Kg(a,u){u&&(a.bad=!0);return a}function eh(a,u,S,Q,Z){function Ga(ad){return function(Wd){return Wd.id==ad}}function Va(){ec&&(Rb+=Mc,Wc&&(Rb+=Mc),ec=Wc=!1)}function Ya(ad){ad&&(Va(),Rb+=ad)}function wb(ad){if(1==ad.nodeType){var Wd=ad.getAttribute("cm-text");if(Wd)Ya(Wd);else{Wd=ad.getAttribute("cm-marker");var Ee;if(Wd)ad=a.findMarks(wa(Q,0),wa(Z+1,0),Ga(+Wd)),ad.length&&(Ee=ad[0].find(0))&&Ya(Ua(a.doc,Ee.from,Ee.to).join(Mc));else if("false"!=ad.getAttribute("contenteditable")&&(Ee=/^(pre|div|p|li|table|br)$/i.test(ad.nodeName),
/^br$/i.test(ad.nodeName)||0!=ad.textContent.length)){Ee&&Va();for(Wd=0;Wd<ad.childNodes.length;Wd++)wb(ad.childNodes[Wd]);/^(pre|p)$/i.test(ad.nodeName)&&(Wc=!0);Ee&&(ec=!0)}}}else 3==ad.nodeType&&Ya(ad.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Rb="",ec=!1,Mc=a.doc.lineSeparator(),Wc=!1;;){wb(u);if(u==S)break;u=u.nextSibling;Wc=!1}return Rb}function ii(a,u,S){if(u==a.display.lineDiv){var Q=a.display.lineDiv.childNodes[S];if(!Q)return Kg(a.clipPos(wa(a.display.viewTo-1)),!0);
u=null;S=0}else for(Q=u;;Q=Q.parentNode){if(!Q||Q==a.display.lineDiv)return null;if(Q.parentNode&&Q.parentNode==a.display.lineDiv)break}for(var Z=0;Z<a.display.view.length;Z++){var Ga=a.display.view[Z];if(Ga.node==Q)return ji(Ga,u,S)}}function ji(a,u,S){function Q(ec,Mc,Wc){for(var ad=-1;ad<(Rb?Rb.length:0);ad++)for(var Wd=0>ad?wb.map:Rb[ad],Ee=0;Ee<Wd.length;Ee+=3){var wf=Wd[Ee+2];if(wf==ec||wf==Mc){Mc=Oa(0>ad?a.line:a.rest[ad]);ad=Wd[Ee]+Wc;if(0>Wc||wf!=ec)ad=Wd[Ee+(Wc?1:0)];return wa(Mc,ad)}}}
var Z=a.text.firstChild,Ga=!1;if(!u||!m(Z,u))return Kg(wa(Oa(a.line),0),!0);if(u==Z&&(Ga=!0,u=Z.childNodes[S],S=0,!u))return S=a.rest?F(a.rest):a.line,Kg(wa(Oa(S),S.text.length),Ga);var Va=3==u.nodeType?u:null,Ya=u;Va||1!=u.childNodes.length||3!=u.firstChild.nodeType||(Va=u.firstChild,S&&(S=Va.nodeValue.length));for(;Ya.parentNode!=Z;)Ya=Ya.parentNode;var wb=a.measure,Rb=wb.maps;if(u=Q(Va,Ya,S))return Kg(u,Ga);Z=Ya.nextSibling;for(Va=Va?Va.nodeValue.length-S:0;Z;Z=Z.nextSibling){if(u=Q(Z,Z.firstChild,
0))return Kg(wa(u.line,u.ch-Va),Ga);Va+=Z.textContent.length}for(Ya=Ya.previousSibling;Ya;Ya=Ya.previousSibling){if(u=Q(Ya,Ya.firstChild,-1))return Kg(wa(u.line,u.ch+S),Ga);S+=Ya.textContent.length}}var Lf=navigator.userAgent,Yg=navigator.platform,xh=/gecko\/\d/i.test(Lf),Ih=/MSIE \d/.test(Lf),yi=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Lf),di=/Edge\/(\d+)/.exec(Lf),Yf=Ih||yi||di,yg=Yf&&(Ih?document.documentMode||6:+(di||yi)[1]),Zg=!di&&/WebKit\//.test(Lf),Zi=Zg&&/Qt\/\d+\.\d+/.test(Lf),ei=!di&&
/Chrome\/(\d+)/.exec(Lf),lj=ei&&+ei[1],Oh=/Opera\//.test(Lf),ti=/Apple Computer/.test(navigator.vendor),vj=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Lf),Yi=/PhantomJS/.test(Lf),ni=ti&&(/Mobile\/\w+/.test(Lf)||2<navigator.maxTouchPoints),rh=/Android/.test(Lf),Oi=ni||rh||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Lf),ia=ni||/Mac/.test(Yg),Na=/\bCrOS\b/.test(Lf),Sa=/win/i.test(Yg),ub=Oh&&Lf.match(/Version\/(\d*\.\d*)/);ub&&(ub=Number(ub[1]));ub&&15<=ub&&(Oh=!1,Zg=!0);var Zb=ia&&(Zi||Oh&&(null==
ub||12.11>ub)),ac=xh||Yf&&9<=yg,jc=function(a,u){var S=a.className;if(u=w(u).exec(S)){var Q=S.slice(u.index+u[0].length);a.className=S.slice(0,u.index)+(Q?u[1]+Q:"")}};var Ac=document.createRange?function(a,u,S,Q){var Z=document.createRange();Z.setEnd(Q||a,S);Z.setStart(a,u);return Z}:function(a,u,S){var Q=document.body.createTextRange();try{Q.moveToElementText(a.parentNode)}catch(Z){return Q}Q.collapse(!0);Q.moveEnd("character",S);Q.moveStart("character",u);return Q};var hd=function(a){a.select()};
ni?hd=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:Yf&&(hd=function(a){try{a.select()}catch(u){}});var Ld=function(){this.f=this.id=null;this.time=0;this.handler=g(this.onTimeout,this)};Ld.prototype.onTimeout=function(a){a.id=0;a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)};Ld.prototype.set=function(a,u){this.f=u;u=+new Date+a;if(!this.id||u<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=u};var ae={toString:function(){return"CodeMirror.Pass"}},
kd={scroll:!1},oe={origin:"*mouse"},Qe={origin:"+move"},xf=[""],Ne=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Zf=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Dg=null,fh=function(){function a(Va,Ya,wb){this.level=Va;this.from=Ya;this.to=wb}var u=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,S=/[stwN]/,Q=/[LRr]/,Z=/[Lb1n]/,Ga=/[1n]/;return function(Va,Ya){var wb="ltr"==Ya?"L":"R";if(0==Va.length||"ltr"==Ya&&!u.test(Va))return!1;for(var Rb=Va.length,ec=[],Mc=0;Mc<Rb;++Mc){var Wc=ec,ad=Wc.push;var Wd=Va.charCodeAt(Mc);Wd=247>=Wd?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Wd):
1424<=Wd&&1524>=Wd?"R":1536<=Wd&&1785>=Wd?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Wd-1536):1774<=Wd&&2220>=Wd?"r":8192<=Wd&&8203>=Wd?"w":8204==Wd?"b":"L";ad.call(Wc,Wd)}Mc=0;for(Wc=wb;Mc<Rb;++Mc)ad=ec[Mc],"m"==ad?ec[Mc]=Wc:Wc=ad;Mc=0;for(Wc=wb;Mc<Rb;++Mc)ad=ec[Mc],"1"==ad&&"r"==Wc?
ec[Mc]="n":Q.test(ad)&&(Wc=ad,"r"==ad&&(ec[Mc]="R"));Mc=1;for(Wc=ec[0];Mc<Rb-1;++Mc)ad=ec[Mc],"+"==ad&&"1"==Wc&&"1"==ec[Mc+1]?ec[Mc]="1":","!=ad||Wc!=ec[Mc+1]||"1"!=Wc&&"n"!=Wc||(ec[Mc]=Wc),Wc=ad;for(Mc=0;Mc<Rb;++Mc)if(Wc=ec[Mc],","==Wc)ec[Mc]="N";else if("%"==Wc){for(Wc=Mc+1;Wc<Rb&&"%"==ec[Wc];++Wc);for(ad=Mc&&"!"==ec[Mc-1]||Wc<Rb&&"1"==ec[Wc]?"1":"N";Mc<Wc;++Mc)ec[Mc]=ad;Mc=Wc-1}Mc=0;for(Wc=wb;Mc<Rb;++Mc)ad=ec[Mc],"L"==Wc&&"1"==ad?ec[Mc]="L":Q.test(ad)&&(Wc=ad);for(Wc=0;Wc<Rb;++Wc)if(S.test(ec[Wc])){for(Mc=
Wc+1;Mc<Rb&&S.test(ec[Mc]);++Mc);ad="L"==(Wc?ec[Wc-1]:wb);for(ad=ad==("L"==(Mc<Rb?ec[Mc]:wb))?ad?"L":"R":wb;Wc<Mc;++Wc)ec[Wc]=ad;Wc=Mc-1}wb=[];var Ee;for(Mc=0;Mc<Rb;)if(Z.test(ec[Mc])){Wc=Mc;for(++Mc;Mc<Rb&&Z.test(ec[Mc]);++Mc);wb.push(new a(0,Wc,Mc))}else{var wf=Mc;Wc=wb.length;ad="rtl"==Ya?1:0;for(++Mc;Mc<Rb&&"L"!=ec[Mc];++Mc);for(Wd=wf;Wd<Mc;)if(Ga.test(ec[Wd])){wf<Wd&&(wb.splice(Wc,0,new a(1,wf,Wd)),Wc+=ad);wf=Wd;for(++Wd;Wd<Mc&&Ga.test(ec[Wd]);++Wd);wb.splice(Wc,0,new a(2,wf,Wd));Wc+=ad;wf=Wd}else++Wd;
wf<Mc&&wb.splice(Wc,0,new a(1,wf,Mc))}"ltr"==Ya&&(1==wb[0].level&&(Ee=Va.match(/^\s+/))&&(wb[0].from=Ee[0].length,wb.unshift(new a(0,0,Ee[0].length))),1==F(wb).level&&(Ee=Va.match(/\s+$/))&&(F(wb).to-=Ee[0].length,wb.push(new a(0,Rb-Ee[0].length,Rb))));return"rtl"==Ya?wb.reverse():wb}}(),lh=[],$e=function(a,u,S){a.addEventListener?a.addEventListener(u,S,!1):a.attachEvent?a.attachEvent("on"+u,S):(a=a._handlers||(a._handlers={}),a[u]=(a[u]||lh).concat(S))},gh=function(){if(Yf&&9>yg)return!1;var a=q("div");
return"draggable"in a||"dragDrop"in a}(),nf,rg,Jh=3!="\n\nb".split(/\n/).length?function(a){for(var u=0,S=[],Q=a.length;u<=Q;){var Z=a.indexOf("\n",u);-1==Z&&(Z=a.length);var Ga=a.slice(u,"\r"==a.charAt(Z-1)?Z-1:Z),Va=Ga.indexOf("\r");-1!=Va?(S.push(Ga.slice(0,Va)),u+=Va+1):(S.push(Ga),u=Z+1)}return S}:function(a){return a.split(/\r\n?|\n/)},Oe=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(u){return!1}}:function(a){try{var u=a.ownerDocument.selection.createRange()}catch(S){}return u&&
u.parentElement()==a?0!=u.compareEndPoints("StartToEnd",u):!1},ve=function(){var a=q("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),Ve=null,xe={},lg={},Eg={},yf=function(a,u,S){this.pos=this.start=0;this.string=a;this.tabSize=u||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=S};yf.prototype.eol=function(){return this.pos>=this.string.length};yf.prototype.sol=function(){return this.pos==this.lineStart};yf.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};yf.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};yf.prototype.eat=function(a){var u=this.string.charAt(this.pos);if("string"==typeof a?u==a:u&&(a.test?a.test(u):a(u)))return++this.pos,u};yf.prototype.eatWhile=function(a){for(var u=this.pos;this.eat(a););return this.pos>u};yf.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
a};yf.prototype.skipToEnd=function(){this.pos=this.string.length};yf.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};yf.prototype.backUp=function(a){this.pos-=a};yf.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=h(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)};yf.prototype.indentation=
function(){return h(this.string,null,this.tabSize)-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)};yf.prototype.match=function(a,u,S){if("string"==typeof a){var Q=function(Ga){return S?Ga.toLowerCase():Ga},Z=this.string.substr(this.pos,a.length);if(Q(Z)==Q(a))return!1!==u&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==u&&(this.pos+=a[0].length);return a}};yf.prototype.current=function(){return this.string.slice(this.start,this.pos)};
yf.prototype.hideFirstChars=function(a,u){this.lineStart+=a;try{return u()}finally{this.lineStart-=a}};yf.prototype.lookAhead=function(a){var u=this.lineOracle;return u&&u.lookAhead(a)};yf.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var mh=function(a,u){this.state=a;this.lookAhead=u},yh=function(a,u,S,Q){this.state=u;this.doc=a;this.line=S;this.maxLookAhead=Q||0;this.baseTokens=null;this.baseTokenPos=1};yh.prototype.lookAhead=function(a){var u=this.doc.getLine(this.line+
a);null!=u&&a>this.maxLookAhead&&(this.maxLookAhead=a);return u};yh.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}};yh.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};yh.fromSaved=function(a,u,S){return u instanceof mh?new yh(a,qa(a.mode,u.state),S,u.lookAhead):
new yh(a,qa(a.mode,u),S)};yh.prototype.save=function(a){a=!1!==a?qa(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new mh(a,this.maxLookAhead):a};var oi=function(a,u,S){this.start=a.start;this.end=a.pos;this.string=a.current();this.type=u||null;this.state=S},Nj=!1,zi=!1,$i=function(a,u,S){this.text=a;$a(this,u);this.height=S?S(this):1};$i.prototype.lineNo=function(){return Oa(this)};Aa($i);var Kj={},sk={},fj=null,Fg=null,Gi={left:0,right:0,top:0,bottom:0},aj,bj=function(a,u,S){this.cm=
S;var Q=this.vert=q("div",[q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),Z=this.horiz=q("div",[q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");Q.tabIndex=Z.tabIndex=-1;a(Q);a(Z);$e(Q,"scroll",function(){Q.clientHeight&&u(Q.scrollTop,"vertical")});$e(Z,"scroll",function(){Z.clientWidth&&u(Z.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;Yf&&8>yg&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};bj.prototype.update=function(a){var u=a.scrollWidth>
a.clientWidth+1,S=a.scrollHeight>a.clientHeight+1,Q=a.nativeBarWidth;S?(this.vert.style.display="block",this.vert.style.bottom=u?Q+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(u?Q:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0");u?(this.horiz.style.display="block",this.horiz.style.right=S?Q+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-
a.clientWidth+(a.viewWidth-a.barLeft-(S?Q:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==Q&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:S?Q:0,bottom:u?Q:0}};bj.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};bj.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=
a);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};bj.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ia&&!vj?"12px":"18px";this.horiz.style.visibility=this.vert.style.visibility="hidden";this.disableHoriz=new Ld;this.disableVert=new Ld};bj.prototype.enableZeroWidthBar=function(a,u,S){function Q(){var Z=a.getBoundingClientRect();("vert"==S?document.elementFromPoint(Z.right-1,(Z.top+Z.bottom)/2):document.elementFromPoint((Z.right+Z.left)/
2,Z.bottom-1))!=a?a.style.visibility="hidden":u.set(1E3,Q)}a.style.visibility="";u.set(1E3,Q)};bj.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var cj=function(){};cj.prototype.update=function(){return{bottom:0,right:0}};cj.prototype.setScrollLeft=function(){};cj.prototype.setScrollTop=function(){};cj.prototype.clear=function(){};var xk={"native":bj,"null":cj},Lj=0,si=function(a,u,S){var Q=a.display;this.viewport=u;this.visible=Ha(Q,a.doc,
u);this.editorIsHidden=!Q.wrapper.offsetWidth;this.wrapperHeight=Q.wrapper.clientHeight;this.wrapperWidth=Q.wrapper.clientWidth;this.oldDisplayWidth=Ce(a);this.force=S;this.dims=ob(a);this.events=[]};si.prototype.signal=function(a,u){Y(a,u)&&this.events.push(arguments)};si.prototype.finish=function(){for(var a=0;a<this.events.length;a++)C.apply(null,this.events[a])};var Pi=0,mi=null;Yf?mi=-.53:xh?mi=15:ei?mi=-.7:ti&&(mi=-1/3);var Dh=function(a,u){this.ranges=a;this.primIndex=u};Dh.prototype.primary=
function(){return this.ranges[this.primIndex]};Dh.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var S=this.ranges[u],Q=a.ranges[u];if(!db(S.anchor,Q.anchor)||!db(S.head,Q.head))return!1}return!0};Dh.prototype.deepCopy=function(){for(var a=[],u=0;u<this.ranges.length;u++)a[u]=new Jf(lb(this.ranges[u].anchor),lb(this.ranges[u].head));return new Dh(a,this.primIndex)};Dh.prototype.somethingSelected=
function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1};Dh.prototype.contains=function(a,u){u||(u=a);for(var S=0;S<this.ranges.length;S++){var Q=this.ranges[S];if(0<=Ta(u,Q.from())&&0>=Ta(a,Q.to()))return S}return-1};var Jf=function(a,u){this.anchor=a;this.head=u};Jf.prototype.from=function(){return Mb(this.anchor,this.head)};Jf.prototype.to=function(){return nb(this.anchor,this.head)};Jf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};dg.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,u){for(var S=a,Q=a+u;S<Q;++S){var Z=this.lines[S];this.height-=Z.height;var Ga=Z;Ga.parent=null;Ca(Ga);za(Z,"delete")}this.lines.splice(a,u)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,u,S){this.height+=S;this.lines=this.lines.slice(0,a).concat(u).concat(this.lines.slice(a));for(a=0;a<u.length;++a)u[a].parent=this},iterN:function(a,u,S){for(u=a+u;a<u;++a)if(S(this.lines[a]))return!0}};
Af.prototype={chunkSize:function(){return this.size},removeInner:function(a,u){this.size-=u;for(var S=0;S<this.children.length;++S){var Q=this.children[S],Z=Q.chunkSize();if(a<Z){var Ga=Math.min(u,Z-a),Va=Q.height;Q.removeInner(a,Ga);this.height-=Va-Q.height;Z==Ga&&(this.children.splice(S--,1),Q.parent=null);if(0==(u-=Ga))break;a=0}else a-=Z}25>this.size-u&&(1<this.children.length||!(this.children[0]instanceof dg))&&(a=[],this.collapse(a),this.children=[new dg(a)],this.children[0].parent=this)},collapse:function(a){for(var u=
0;u<this.children.length;++u)this.children[u].collapse(a)},insertInner:function(a,u,S){this.size+=u.length;this.height+=S;for(var Q=0;Q<this.children.length;++Q){var Z=this.children[Q],Ga=Z.chunkSize();if(a<=Ga){Z.insertInner(a,u,S);if(Z.lines&&50<Z.lines.length){for(u=a=Z.lines.length%25+25;u<Z.lines.length;)S=new dg(Z.lines.slice(u,u+=25)),Z.height-=S.height,this.children.splice(++Q,0,S),S.parent=this;Z.lines=Z.lines.slice(0,a);this.maybeSpill()}break}a-=Ga}},maybeSpill:function(){if(!(10>=this.children.length)){var a=
this;do{var u=a.children.splice(a.children.length-5,5);u=new Af(u);if(a.parent){a.size-=u.size;a.height-=u.height;var S=x(a.parent.children,a);a.parent.children.splice(S+1,0,u)}else S=new Af(a.children),S.parent=a,a.children=[S,u],a=S;u.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,u,S){for(var Q=0;Q<this.children.length;++Q){var Z=this.children[Q],Ga=Z.chunkSize();if(a<Ga){Ga=Math.min(u,Ga-a);if(Z.iterN(a,Ga,S))return!0;if(0==(u-=Ga))break;a=0}else a-=Ga}}};
var Fi=function(a,u,S){if(S)for(var Q in S)S.hasOwnProperty(Q)&&(this[Q]=S[Q]);this.doc=a;this.node=u};Fi.prototype.clear=function(){var a=this.doc.cm,u=this.line.widgets,S=this.line,Q=Oa(S);if(null!=Q&&u){for(var Z=0;Z<u.length;++Z)u[Z]==this&&u.splice(Z--,1);u.length||(S.widgets=null);var Ga=sd(this);ra(S,Math.max(0,S.height-Ga));a&&(Kd(a,function(){var Va=-Ga;nd(S)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Fb(a,Va);pd(a,Q,"widget")}),za(a,"lineWidgetCleared",a,this,Q))}};Fi.prototype.changed=
function(){var a=this,u=this.height,S=this.doc.cm,Q=this.line;this.height=null;var Z=sd(this)-u;Z&&(Yc(this.doc,Q)||ra(Q,Q.height+Z),S&&Kd(S,function(){S.curOp.forceUpdate=!0;nd(Q)<(S.curOp&&S.curOp.scrollTop||S.doc.scrollTop)&&Fb(S,Z);za(S,"lineWidgetChanged",S,a,Oa(Q))}))};Aa(Fi);var hk=0,vi=function(a,u){this.lines=[];this.type=u;this.doc=a;this.id=++hk};vi.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,u=a&&!a.curOp;u&&Zd(a);if(Y(this,"clear")){var S=this.find();S&&za(this,
"clear",S.from,S.to)}for(var Q=S=null,Z=0;Z<this.lines.length;++Z){var Ga=this.lines[Z],Va=jd(Ga.markedSpans,this);a&&!this.collapsed?pd(a,Oa(Ga),"text"):a&&(null!=Va.to&&(Q=Oa(Ga)),null!=Va.from&&(S=Oa(Ga)));for(var Ya=Ga,wb=void 0,Rb=Ga.markedSpans,ec=Va,Mc=0;Mc<Rb.length;++Mc)Rb[Mc]!=ec&&(wb||(wb=[])).push(Rb[Mc]);Ya.markedSpans=wb;null==Va.from&&this.collapsed&&!Yc(this.doc,Ga)&&a&&ra(Ga,Se(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(Z=0;Z<this.lines.length;++Z)Ga=Tb(this.lines[Z]),
Va=xd(Ga),Va>a.display.maxLineLength&&(a.display.maxLine=Ga,a.display.maxLineLength=Va,a.display.maxLineChanged=!0);null!=S&&a&&this.collapsed&&Jc(a,S,Q+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Ma(a.doc));a&&za(a,"markerCleared",a,this,S,Q);u&&vd(a);this.parent&&this.parent.clear()}};vi.prototype.find=function(a,u){null==a&&"bookmark"==this.type&&(a=1);for(var S,Q,Z=0;Z<this.lines.length;++Z){var Ga=this.lines[Z],Va=jd(Ga.markedSpans,
this);if(null!=Va.from&&(S=wa(u?Ga:Oa(Ga),Va.from),-1==a))return S;if(null!=Va.to&&(Q=wa(u?Ga:Oa(Ga),Va.to),1==a))return Q}return S&&{from:S,to:Q}};vi.prototype.changed=function(){var a=this,u=this.find(-1,!0),S=this,Q=this.doc.cm;u&&Q&&Kd(Q,function(){var Z=u.line,Ga=Oa(u.line);if(Ga=Ge(Q,Ga))rc(Ga),Q.curOp.selectionChanged=Q.curOp.forceUpdate=!0;Q.curOp.updateMaxLine=!0;Yc(S.doc,Z)||null==S.height||(Ga=S.height,S.height=null,(Ga=sd(S)-Ga)&&ra(Z,Z.height+Ga));za(Q,"markerChanged",Q,a)})};vi.prototype.attachLine=
function(a){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;u.maybeHiddenMarkers&&-1!=x(u.maybeHiddenMarkers,this)||(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};vi.prototype.detachLine=function(a){this.lines.splice(x(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};Aa(vi);var gj=function(a,u){this.markers=a;this.primary=u;for(u=0;u<a.length;++u)a[u].parent=this};
gj.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();za(this,"clear")}};gj.prototype.find=function(a,u){return this.primary.find(a,u)};Aa(gj);var hj=0,oh=function(a,u,S,Q,Z){if(!(this instanceof oh))return new oh(a,u,S,Q,Z);null==S&&(S=0);Af.call(this,[new dg([new $i("",null)])]);this.first=S;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=
S;S=wa(S,0);this.sel=Tf(S);this.history=new of(null);this.id=++hj;this.modeOption=u;this.lineSep=Q;this.direction="rtl"==Z?"rtl":"ltr";this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));Cb(this,{from:S,to:S,text:a});Jg(this,Tf(S),kd)};oh.prototype=z(Af.prototype,{constructor:oh,iter:function(a,u,S){S?this.iterN(a-this.first,u-a,S):this.iterN(this.first,this.first+this.size,a)},insert:function(a,u){for(var S=0,Q=0;Q<u.length;++Q)S+=u[Q].height;this.insertInner(a-this.first,u,S)},remove:function(a,
u){this.removeInner(a-this.first,u)},getValue:function(a){var u=eb(this,this.first,this.first+this.size);return!1===a?u:u.join(a||this.lineSeparator())},setValue:ye(function(a){var u=wa(this.first,0),S=this.first+this.size-1;rd(this,{from:u,to:wa(S,va(this,S).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);this.cm&&Ob(this.cm,0,0);Jg(this,Tf(u),kd)}),replaceRange:function(a,u,S,Q){u=$b(this,u);S=S?$b(this,S):u;Ke(this,a,u,S,Q)},getRange:function(a,u,S){a=Ua(this,$b(this,a),$b(this,
u));return!1===S?a:""===S?a.join(""):a.join(S||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(U(this,a))return va(this,a)},getLineNumber:function(a){return Oa(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=va(this,a));return Tb(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return $b(this,a)},getCursor:function(a){var u=
this.sel.primary();return null==a||"head"==a?u.head:"anchor"==a?u.anchor:"end"==a||"to"==a||!1===a?u.to():u.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ye(function(a,u,S){a=$b(this,"number"==typeof a?wa(a,u||0):a);Jg(this,Tf(a,null),S)}),setSelection:ye(function(a,u,S){var Q=$b(this,a);a=$b(this,u||a);Jg(this,Tf(Q,a),S)}),extendSelection:ye(function(a,u,S){nh(this,$b(this,a),u&&$b(this,u),S)}),extendSelections:ye(function(a,
u){qh(this,Gc(this,a),u)}),extendSelectionsBy:ye(function(a,u){a=J(this.sel.ranges,a);qh(this,Gc(this,a),u)}),setSelections:ye(function(a,u,S){if(a.length){for(var Q=[],Z=0;Z<a.length;Z++)Q[Z]=new Jf($b(this,a[Z].anchor),$b(this,a[Z].head||a[Z].anchor));null==u&&(u=Math.min(a.length-1,this.sel.primIndex));Jg(this,og(this.cm,Q,u),S)}}),addSelection:ye(function(a,u,S){var Q=this.sel.ranges.slice(0);Q.push(new Jf($b(this,a),$b(this,u||a)));Jg(this,og(this.cm,Q,Q.length-1),S)}),getSelection:function(a){for(var u=
this.sel.ranges,S,Q=0;Q<u.length;Q++){var Z=Ua(this,u[Q].from(),u[Q].to());S=S?S.concat(Z):Z}return!1===a?S:S.join(a||this.lineSeparator())},getSelections:function(a){for(var u=[],S=this.sel.ranges,Q=0;Q<S.length;Q++){var Z=Ua(this,S[Q].from(),S[Q].to());!1!==a&&(Z=Z.join(a||this.lineSeparator()));u[Q]=Z}return u},replaceSelection:function(a,u,S){for(var Q=[],Z=0;Z<this.sel.ranges.length;Z++)Q[Z]=a;this.replaceSelections(Q,u,S||"+input")},replaceSelections:ye(function(a,u,S){for(var Q=[],Z=this.sel,
Ga=0;Ga<Z.ranges.length;Ga++){var Va=Z.ranges[Ga];Q[Ga]={from:Va.from(),to:Va.to(),text:this.splitLines(a[Ga]),origin:S}}if(a=u&&"end"!=u){a=[];Z=S=wa(this.first,0);for(Ga=0;Ga<Q.length;Ga++){var Ya=Q[Ga];Va=Mg(Ya.from,S,Z);var wb=Mg(Wf(Ya),S,Z);S=Ya.to;Z=wb;"around"==u?(Ya=this.sel.ranges[Ga],Ya=0>Ta(Ya.head,Ya.anchor),a[Ga]=new Jf(Ya?wb:Va,Ya?Va:wb)):a[Ga]=new Jf(Va,Va)}a=new Dh(a,this.sel.primIndex)}u=a;for(a=Q.length-1;0<=a;a--)rd(this,Q[a]);u?Eh(this,u):this.cm&&Kb(this.cm)}),undo:ye(function(){ze(this,
"undo")}),redo:ye(function(){ze(this,"redo")}),undoSelection:ye(function(){ze(this,"undo",!0)}),redoSelection:ye(function(){ze(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,u=0,S=0,Q=0;Q<a.done.length;Q++)a.done[Q].ranges||++u;for(Q=0;Q<a.undone.length;Q++)a.undone[Q].ranges||++S;return{undo:u,redo:S}},clearHistory:function(){var a=this;this.history=new of(this.history);hc(this,function(u){return u.history=
a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:vg(this.history.done),undone:vg(this.history.undone)}},setHistory:function(a){var u=this.history=new of(this.history);u.done=vg(a.done.slice(0),null,!0);u.undone=vg(a.undone.slice(0),
null,!0)},setGutterMarker:ye(function(a,u,S){return ch(this,a,"gutter",function(Q){var Z=Q.gutterMarkers||(Q.gutterMarkers={});Z[u]=S;!S&&R(Z)&&(Q.gutterMarkers=null);return!0})}),clearGutter:ye(function(a){var u=this;this.iter(function(S){S.gutterMarkers&&S.gutterMarkers[a]&&ch(u,S,"gutter",function(){S.gutterMarkers[a]=null;R(S.gutterMarkers)&&(S.gutterMarkers=null);return!0})})}),lineInfo:function(a){if("number"==typeof a){if(!U(this,a))return null;var u=a;a=va(this,a);if(!a)return null}else if(u=
Oa(a),null==u)return null;return{line:u,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:ye(function(a,u,S){return ch(this,a,"gutter"==u?"gutter":"class",function(Q){var Z="text"==u?"textClass":"background"==u?"bgClass":"gutter"==u?"gutterClass":"wrapClass";if(Q[Z]){if(w(S).test(Q[Z]))return!1;Q[Z]+=" "+S}else Q[Z]=S;return!0})}),removeLineClass:ye(function(a,u,S){return ch(this,a,"gutter"==u?"gutter":
"class",function(Q){var Z="text"==u?"textClass":"background"==u?"bgClass":"gutter"==u?"gutterClass":"wrapClass",Ga=Q[Z];if(Ga)if(null==S)Q[Z]=null;else{var Va=Ga.match(w(S));if(!Va)return!1;var Ya=Va.index+Va[0].length;Q[Z]=Ga.slice(0,Va.index)+(Va.index&&Ya!=Ga.length?" ":"")+Ga.slice(Ya)||null}else return!1;return!0})}),addLineWidget:ye(function(a,u,S){return jg(this,a,u,S)}),removeLineWidget:function(a){a.clear()},markText:function(a,u,S){return bg(this,$b(this,a),$b(this,u),S,S&&S.type||"range")},
setBookmark:function(a,u){u={replacedWith:u&&(null==u.nodeType?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};a=$b(this,a);return bg(this,a,a,u,"bookmark")},findMarksAt:function(a){a=$b(this,a);var u=[],S=va(this,a.line).markedSpans;if(S)for(var Q=0;Q<S.length;++Q){var Z=S[Q];(null==Z.from||Z.from<=a.ch)&&(null==Z.to||Z.to>=a.ch)&&u.push(Z.marker.parent||Z.marker)}return u},findMarks:function(a,u,S){a=$b(this,a);u=$b(this,u);var Q=
[],Z=a.line;this.iter(a.line,u.line+1,function(Ga){if(Ga=Ga.markedSpans)for(var Va=0;Va<Ga.length;Va++){var Ya=Ga[Va];null!=Ya.to&&Z==a.line&&a.ch>=Ya.to||null==Ya.from&&Z!=a.line||null!=Ya.from&&Z==u.line&&Ya.from>=u.ch||S&&!S(Ya.marker)||Q.push(Ya.marker.parent||Ya.marker)}++Z});return Q},getAllMarks:function(){var a=[];this.iter(function(u){if(u=u.markedSpans)for(var S=0;S<u.length;++S)null!=u[S].from&&a.push(u[S].marker)});return a},posFromIndex:function(a){var u,S=this.first,Q=this.lineSeparator().length;
this.iter(function(Z){Z=Z.text.length+Q;if(Z>a)return u=a,!0;a-=Z;++S});return $b(this,wa(S,u))},indexFromPos:function(a){a=$b(this,a);var u=a.ch;if(a.line<this.first||0>a.ch)return 0;var S=this.lineSeparator().length;this.iter(this.first,a.line,function(Q){u+=Q.text.length+S});return u},copy:function(a){var u=new oh(eb(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);u.scrollTop=this.scrollTop;u.scrollLeft=this.scrollLeft;u.sel=this.sel;u.extend=!1;a&&
(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory()));return u},linkedDoc:function(a){a||(a={});var u=this.first,S=this.first+this.size;null!=a.from&&a.from>u&&(u=a.from);null!=a.to&&a.to<S&&(S=a.to);u=new oh(eb(this,u,S),a.mode||this.modeOption,u,this.lineSep,this.direction);a.sharedHist&&(u.history=this.history);(this.linked||(this.linked=[])).push({doc:u,sharedHist:a.sharedHist});u.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=wh(this);for(S=0;S<a.length;S++){var Q=
a[S],Z=Q.find(),Ga=u.clipPos(Z.from);Z=u.clipPos(Z.to);Ta(Ga,Z)&&(Ga=bg(u,Ga,Z,Q.primary,Q.primary.type),Q.markers.push(Ga),Ga.parent=Q)}return u},unlinkDoc:function(a){a instanceof cf&&(a=a.doc);if(this.linked)for(var u=0;u<this.linked.length;++u)if(this.linked[u].doc==a){this.linked.splice(u,1);a.unlinkDoc(this);Og(wh(this));break}if(a.history==this.history){var S=[a.id];hc(a,function(Q){return S.push(Q.id)},!0);a.history=new of(null);a.history.done=vg(this.history.done,S);a.history.undone=vg(this.history.undone,
S)}},iterLinkedDocs:function(a){hc(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Jh(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ye(function(a){"rtl"!=a&&(a="ltr");a!=this.direction&&(this.direction=a,this.iter(function(u){return u.order=null}),this.cm&&ne(this.cm))})});oh.prototype.eachLine=oh.prototype.iter;for(var yj=0,Ik=!1,Hi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",
16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",
63276:"PageUp",63277:"PageDown",63302:"Insert"},ij=0;10>ij;ij++)Hi[ij+48]=Hi[ij+96]=String(ij);for(var mj=65;90>=mj;mj++)Hi[mj]=String.fromCharCode(mj);for(var jj=1;12>=jj;jj++)Hi[jj+111]=Hi[jj+63235]="F"+jj;var Qi={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",
Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace",
"Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},
macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll",
"Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Qi["default"]=ia?Qi.macDefault:Qi.pcDefault;var wj={selectAll:Zc,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),kd)},killLine:function(a){return dh(a,function(u){if(u.empty()){var S=va(a.doc,u.head.line).text.length;
return u.head.ch==S&&u.head.line<a.lastLine()?{from:u.head,to:wa(u.head.line+1,0)}:{from:u.head,to:wa(u.head.line,S)}}return{from:u.from(),to:u.to()}})},deleteLine:function(a){return dh(a,function(u){return{from:wa(u.from().line,0),to:$b(a.doc,wa(u.to().line+1,0))}})},delLineLeft:function(a){return dh(a,function(u){return{from:wa(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(a){return dh(a,function(u){var S=a.charCoords(u.head,"div").top+5;return{from:a.coordsChar({left:0,top:S},"div"),
to:u.from()}})},delWrappedLineRight:function(a){return dh(a,function(u){var S=a.charCoords(u.head,"div").top+5;S=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:S},"div");return{from:u.from(),to:S}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(wa(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(wa(a.lastLine()))},
goLineStart:function(a){return a.extendSelectionsBy(function(u){return eg(a,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(u){return fg(a,u.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(u){u=u.head.line;var S=va(a.doc,u);var Q=S;for(var Z;Z=yb(Q,!1);)Q=Z.find(1,!0).line;Q!=S&&(u=Oa(Q));return Df(!0,a,S,u,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(u){u=
a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:u},"div")},Qe)},goLineLeft:function(a){return a.extendSelectionsBy(function(u){u=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:0,top:u},"div")},Qe)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(u){var S=a.cursorCoords(u.head,"div").top+5;S=a.coordsChar({left:0,top:S},"div");return S.ch<a.getLine(S.line).search(/\S/)?fg(a,u.head):S},Qe)},goLineUp:function(a){return a.moveV(-1,
"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,
"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},
indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var u=[],S=a.listSelections(),Q=a.options.tabSize,Z=0;Z<S.length;Z++){var Ga=S[Z].from();Ga=h(a.getLine(Ga.line),Ga.ch,Q);u.push(H(Q-Ga%Q))}a.replaceSelections(u)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Kd(a,function(){for(var u=a.listSelections(),S=[],Q=0;Q<u.length;Q++)if(u[Q].empty()){var Z=
u[Q].head,Ga=va(a.doc,Z.line).text;if(Ga)if(Z.ch==Ga.length&&(Z=new wa(Z.line,Z.ch-1)),0<Z.ch)Z=new wa(Z.line,Z.ch+1),a.replaceRange(Ga.charAt(Z.ch-1)+Ga.charAt(Z.ch-2),wa(Z.line,Z.ch-2),Z,"+transpose");else if(Z.line>a.doc.first){var Va=va(a.doc,Z.line-1).text;Va&&(Z=new wa(Z.line,1),a.replaceRange(Ga.charAt(0)+a.doc.lineSeparator()+Va.charAt(Va.length-1),wa(Z.line-1,Va.length-1),Z,"+transpose"))}S.push(new Jf(Z,Z))}a.setSelections(S)})},newlineAndIndent:function(a){return Kd(a,function(){for(var u=
a.listSelections(),S=u.length-1;0<=S;S--)a.replaceRange(a.doc.lineSeparator(),u[S].anchor,u[S].head,"+input");u=a.listSelections();for(S=0;S<u.length;S++)a.indentLine(u[S].from().line,null,!0);Kb(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},yk=new Ld,ck=null,Pj=function(a,u,S){this.time=a;this.pos=u;this.button=S};Pj.prototype.compare=function(a,u,S){return this.time+400>a&&0==Ta(u,this.pos)&&S==this.button};var Fj,Gj,
dj={toString:function(){return"CodeMirror.Init"}},tk={},Mj={};cf.defaults=tk;cf.optionHandlers=Mj;var dk=[];cf.defineInitHook=function(a){return dk.push(a)};var Vh=null,Qg=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Ld;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};Qg.prototype.init=function(a){function u(Ya){for(Ya=Ya.target;Ya;Ya=Ya.parentNode){if(Ya==Va)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Ya.className))break}return!1}
function S(Ya){if(u(Ya)&&!B(Ga,Ya)){if(Ga.somethingSelected())Vh={lineWise:!1,text:Ga.getSelections()},"cut"==Ya.type&&Ga.replaceSelection("",null,"cut");else if(Ga.options.lineWiseCopyCut){var wb=mg(Ga);Vh={lineWise:!0,text:wb.text};"cut"==Ya.type&&Ga.operation(function(){Ga.setSelections(wb.ranges,0,kd);Ga.replaceSelection("",null,"cut")})}else return;if(Ya.clipboardData){Ya.clipboardData.clearData();var Rb=Vh.text.join("\n");Ya.clipboardData.setData("Text",Rb);if(Ya.clipboardData.getData("Text")==
Rb){Ya.preventDefault();return}}var ec=Rg();Ya=ec.firstChild;Ga.display.lineSpace.insertBefore(ec,Ga.display.lineSpace.firstChild);Ya.value=Vh.text.join("\n");var Mc=f(Va.ownerDocument);hd(Ya);setTimeout(function(){Ga.display.lineSpace.removeChild(ec);Mc.focus();Mc==Va&&Z.showPrimarySelection()},50)}}var Q=this,Z=this,Ga=Z.cm,Va=Z.div=a.lineDiv;Va.contentEditable=!0;ci(Va,Ga.options.spellcheck,Ga.options.autocorrect,Ga.options.autocapitalize);$e(Va,"paste",function(Ya){!u(Ya)||B(Ga,Ya)||pf(Ya,Ga)||
11>=yg&&setTimeout(ee(Ga,function(){return Q.updateFromDOM()}),20)});$e(Va,"compositionstart",function(Ya){Q.composing={data:Ya.data,done:!1}});$e(Va,"compositionupdate",function(Ya){Q.composing||(Q.composing={data:Ya.data,done:!1})});$e(Va,"compositionend",function(Ya){Q.composing&&(Ya.data!=Q.composing.data&&Q.readFromDOMSoon(),Q.composing.done=!0)});$e(Va,"touchstart",function(){return Z.forceCompositionEnd()});$e(Va,"input",function(){Q.composing||Q.readFromDOMSoon()});$e(Va,"copy",S);$e(Va,"cut",
S)};Qg.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")};Qg.prototype.prepareSelection=function(){var a=ed(this.cm,!1);a.focus=f(this.div.ownerDocument)==this.div;return a};Qg.prototype.showSelection=function(a,u){a&&this.cm.display.view.length&&((a.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(a))};Qg.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};Qg.prototype.showPrimarySelection=
function(){var a=this.getSelection(),u=this.cm,S=u.doc.sel.primary(),Q=S.from();S=S.to();if(u.display.viewTo==u.display.viewFrom||Q.line>=u.display.viewTo||S.line<u.display.viewFrom)a.removeAllRanges();else{var Z=ii(u,a.anchorNode,a.anchorOffset),Ga=ii(u,a.focusNode,a.focusOffset);if(!Z||Z.bad||!Ga||Ga.bad||0!=Ta(Mb(Z,Ga),Q)||0!=Ta(nb(Z,Ga),S))if(Z=u.display.view,Q=Q.line>=u.display.viewFrom&&xg(u,Q)||{node:Z[0].measure.map[2],offset:0},S=S.line<u.display.viewTo&&xg(u,S),S||(S=Z[Z.length-1].measure,
S=S.maps?S.maps[S.maps.length-1]:S.map,S={node:S[S.length-1],offset:S[S.length-2]-S[S.length-3]}),Q&&S){Z=a.rangeCount&&a.getRangeAt(0);try{var Va=Ac(Q.node,Q.offset,S.offset,S.node)}catch(Ya){}Va&&(!xh&&u.state.focused?(a.collapse(Q.node,Q.offset),Va.collapsed||(a.removeAllRanges(),a.addRange(Va))):(a.removeAllRanges(),a.addRange(Va)),Z&&null==a.anchorNode?a.addRange(Z):xh&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};Qg.prototype.startGracePeriod=function(){var a=
this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)};Qg.prototype.showMultipleSelections=function(a){p(this.cm.display.cursorDiv,a.cursors);p(this.cm.display.selectionDiv,a.selection)};Qg.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=
a.focusOffset};Qg.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return m(this.div,a)};Qg.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&f(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};Qg.prototype.blur=function(){this.div.blur()};Qg.prototype.getField=function(){return this.div};Qg.prototype.supportsTouch=function(){return!0};
Qg.prototype.receivedFocus=function(){function a(){S.cm.state.focused&&(S.pollSelection(),S.polling.set(S.cm.options.pollInterval,a))}var u=this,S=this;this.selectionInEditor()?setTimeout(function(){return u.pollSelection()},20):Kd(this.cm,function(){return S.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)};Qg.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=
this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};Qg.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),u=this.cm;if(rh&&ei&&this.cm.display.gutterSpecs.length&&Ah(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var S=ii(u,a.anchorNode,a.anchorOffset),Q=ii(u,a.focusNode,a.focusOffset);S&&Q&&
Kd(u,function(){Jg(u.doc,Tf(S,Q),kd);if(S.bad||Q.bad)u.curOp.selectionChanged=!0})}}};Qg.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,u=a.display,S=a.doc.sel.primary(),Q=S.from(),Z=S.to();0==Q.ch&&Q.line>a.firstLine()&&(Q=wa(Q.line-1,va(a.doc,Q.line-1).length));Z.ch==va(a.doc,Z.line).text.length&&Z.line<a.lastLine()&&(Z=wa(Z.line+1,0));if(Q.line<u.viewFrom||Z.line>u.viewTo-1)return!1;var Ga;Q.line==u.viewFrom||
0==(Ga=Nc(a,Q.line))?(S=Oa(u.view[0].line),Ga=u.view[0].node):(S=Oa(u.view[Ga].line),Ga=u.view[Ga-1].node.nextSibling);var Va=Nc(a,Z.line);Va==u.view.length-1?(Z=u.viewTo-1,u=u.lineDiv.lastChild):(Z=Oa(u.view[Va+1].line)-1,u=u.view[Va+1].node.previousSibling);if(!Ga)return!1;u=a.doc.splitLines(eh(a,Ga,u,S,Z));for(Ga=Ua(a.doc,wa(S,0),wa(Z,va(a.doc,Z).text.length));1<u.length&&1<Ga.length;)if(F(u)==F(Ga))u.pop(),Ga.pop(),Z--;else if(u[0]==Ga[0])u.shift(),Ga.shift(),S++;else break;var Ya=0;Va=0;for(var wb=
u[0],Rb=Ga[0],ec=Math.min(wb.length,Rb.length);Ya<ec&&wb.charCodeAt(Ya)==Rb.charCodeAt(Ya);)++Ya;wb=F(u);Rb=F(Ga);for(ec=Math.min(wb.length-(1==u.length?Ya:0),Rb.length-(1==Ga.length?Ya:0));Va<ec&&wb.charCodeAt(wb.length-Va-1)==Rb.charCodeAt(Rb.length-Va-1);)++Va;if(1==u.length&&1==Ga.length&&S==Q.line)for(;Ya&&Ya>Q.ch&&wb.charCodeAt(wb.length-Va-1)==Rb.charCodeAt(Rb.length-Va-1);)Ya--,Va++;u[u.length-1]=wb.slice(0,wb.length-Va).replace(/^\u200b+/,"");u[0]=u[0].slice(Ya).replace(/\u200b+$/,"");Q=
wa(S,Ya);S=wa(Z,Ga.length?F(Ga).length-Va:0);if(1<u.length||u[0]||Ta(Q,S))return Ke(a.doc,u,Q,S,"+input"),!0};Qg.prototype.ensurePolled=function(){this.forceCompositionEnd()};Qg.prototype.reset=function(){this.forceCompositionEnd()};Qg.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};Qg.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=
setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))};Qg.prototype.updateFromDOM=function(){var a=this;!this.cm.isReadOnly()&&this.pollContent()||Kd(this.cm,function(){return Jc(a.cm)})};Qg.prototype.setUneditable=function(a){a.contentEditable="false"};Qg.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||ee(this.cm,He)(this.cm,String.fromCharCode(null==a.charCode?
a.keyCode:a.charCode),0))};Qg.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)};Qg.prototype.onContextMenu=function(){};Qg.prototype.resetPosition=function(){};Qg.prototype.needsContentAttribute=!0;var sh=function(a){this.cm=a;this.prevInput="";this.pollingFast=!1;this.polling=new Ld;this.hasSelection=!1;this.composing=null;this.resetting=!1};sh.prototype.init=function(a){function u(Va){if(!B(Z,Va)){if(Z.somethingSelected())Vh={lineWise:!1,text:Z.getSelections()};
else if(Z.options.lineWiseCopyCut){var Ya=mg(Z);Vh={lineWise:!0,text:Ya.text};"cut"==Va.type?Z.setSelections(Ya.ranges,null,kd):(Q.prevInput="",Ga.value=Ya.text.join("\n"),hd(Ga))}else return;"cut"==Va.type&&(Z.state.cutIncoming=+new Date)}}var S=this,Q=this,Z=this.cm;this.createField(a);var Ga=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild);ni&&(Ga.style.width="0px");$e(Ga,"input",function(){Yf&&9<=yg&&S.hasSelection&&(S.hasSelection=null);Q.poll()});$e(Ga,"paste",function(Va){B(Z,
Va)||pf(Va,Z)||(Z.state.pasteIncoming=+new Date,Q.fastPoll())});$e(Ga,"cut",u);$e(Ga,"copy",u);$e(a.scroller,"paste",function(Va){if(!Hd(a,Va)&&!B(Z,Va))if(Ga.dispatchEvent){var Ya=new Event("paste");Ya.clipboardData=Va.clipboardData;Ga.dispatchEvent(Ya)}else Z.state.pasteIncoming=+new Date,Q.focus()});$e(a.lineSpace,"selectstart",function(Va){Hd(a,Va)||sa(Va)});$e(Ga,"compositionstart",function(){var Va=Z.getCursor("from");Q.composing&&Q.composing.range.clear();Q.composing={start:Va,range:Z.markText(Va,
Z.getCursor("to"),{className:"CodeMirror-composing"})}});$e(Ga,"compositionend",function(){Q.composing&&(Q.poll(),Q.composing.range.clear(),Q.composing=null)})};sh.prototype.createField=function(a){this.wrapper=Rg();this.textarea=this.wrapper.firstChild};sh.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")};sh.prototype.prepareSelection=function(){var a=this.cm,u=a.display,S=a.doc,Q=ed(a);if(a.options.moveInputWithCursor){a=
qc(a,S.sel.primary().head,"div");S=u.wrapper.getBoundingClientRect();var Z=u.lineDiv.getBoundingClientRect();Q.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,a.top+Z.top-S.top));Q.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,a.left+Z.left-S.left))}return Q};sh.prototype.showSelection=function(a){var u=this.cm.display;p(u.cursorDiv,a.cursors);p(u.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};sh.prototype.reset=function(a){if(!(this.contextMenuPending||
this.composing&&a)){var u=this.cm;this.resetting=!0;u.somethingSelected()?(this.prevInput="",a=u.getSelection(),this.textarea.value=a,u.state.focused&&hd(this.textarea),Yf&&9<=yg&&(this.hasSelection=a)):a||(this.prevInput=this.textarea.value="",Yf&&9<=yg&&(this.hasSelection=null));this.resetting=!1}};sh.prototype.getField=function(){return this.textarea};sh.prototype.supportsTouch=function(){return!1};sh.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Oi||f(this.textarea.ownerDocument)!=
this.textarea))try{this.textarea.focus()}catch(a){}};sh.prototype.blur=function(){this.textarea.blur()};sh.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};sh.prototype.receivedFocus=function(){this.slowPoll()};sh.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll();a.cm.state.focused&&a.slowPoll()})};sh.prototype.fastPoll=function(){function a(){S.poll()||u?(S.pollingFast=!1,S.slowPoll()):
(u=!0,S.polling.set(60,a))}var u=!1,S=this;S.pollingFast=!0;S.polling.set(20,a)};sh.prototype.poll=function(){var a=this,u=this.cm,S=this.textarea,Q=this.prevInput;if(this.contextMenuPending||this.resetting||!u.state.focused||Oe(S)&&!Q&&!this.composing||u.isReadOnly()||u.options.disableInput||u.state.keySeq)return!1;var Z=S.value;if(Z==Q&&!u.somethingSelected())return!1;if(Yf&&9<=yg&&this.hasSelection===Z||ia&&/[\uf700-\uf7ff]/.test(Z))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var Ga=
Z.charCodeAt(0);8203!=Ga||Q||(Q="");if(8666==Ga)return this.reset(),this.cm.execCommand("undo")}var Va=0;for(Ga=Math.min(Q.length,Z.length);Va<Ga&&Q.charCodeAt(Va)==Z.charCodeAt(Va);)++Va;Kd(u,function(){He(u,Z.slice(Va),Q.length-Va,null,a.composing?"*compose":null);1E3<Z.length||-1<Z.indexOf("\n")?S.value=a.prevInput="":a.prevInput=Z;a.composing&&(a.composing.range.clear(),a.composing.range=u.markText(a.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};sh.prototype.ensurePolled=
function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};sh.prototype.onKeyPress=function(){Yf&&9<=yg&&(this.hasSelection=null);this.fastPoll()};sh.prototype.onContextMenu=function(a){function u(){if(null!=Va.selectionStart){var ad=Z.somethingSelected(),Wd=""+(ad?Va.value:"");Va.value="";Va.value=Wd;Q.prevInput=ad?"":"";Va.selectionStart=1;Va.selectionEnd=Wd.length;Ga.selForContextMenu=Z.doc.sel}}function S(){if(Q.contextMenuPending==S&&(Q.contextMenuPending=!1,Q.wrapper.style.cssText=
ec,Va.style.cssText=Rb,Yf&&9>yg&&Ga.scrollbars.setScrollTop(Ga.scroller.scrollTop=wb),null!=Va.selectionStart)){(!Yf||Yf&&9>yg)&&u();var ad=0,Wd=function(){Ga.selForContextMenu==Z.doc.sel&&0==Va.selectionStart&&0<Va.selectionEnd&&""==Q.prevInput?ee(Z,Zc)(Z):10>ad++?Ga.detectingSelectAll=setTimeout(Wd,500):(Ga.selForContextMenu=null,Ga.input.reset())};Ga.detectingSelectAll=setTimeout(Wd,200)}}var Q=this,Z=Q.cm,Ga=Z.display,Va=Q.textarea;Q.contextMenuPending&&Q.contextMenuPending();var Ya=kc(Z,a),
wb=Ga.scroller.scrollTop;if(Ya&&!Oh){Z.options.resetSelectionOnContextMenu&&-1==Z.doc.sel.contains(Ya)&&ee(Z,Jg)(Z.doc,Tf(Ya),kd);var Rb=Va.style.cssText,ec=Q.wrapper.style.cssText;Ya=Q.wrapper.offsetParent.getBoundingClientRect();Q.wrapper.style.cssText="position: static";Va.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-Ya.top-5)+"px; left: "+(a.clientX-Ya.left-5)+"px;\n      z-index: 1000; background: "+(Yf?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";
if(Zg)var Mc=Va.ownerDocument.defaultView.scrollY;Ga.input.focus();Zg&&Va.ownerDocument.defaultView.scrollTo(null,Mc);Ga.input.reset();Z.somethingSelected()||(Va.value=Q.prevInput=" ");Q.contextMenuPending=S;Ga.selForContextMenu=Z.doc.sel;clearTimeout(Ga.detectingSelectAll);Yf&&9<=yg&&u();if(ac){bb(a);var Wc=function(){aa(window,"mouseup",Wc);setTimeout(S,20)};$e(window,"mouseup",Wc)}else setTimeout(S,50)}};sh.prototype.readOnlyChanged=function(a){a||this.reset();this.textarea.disabled="nocursor"==
a;this.textarea.readOnly=!!a};sh.prototype.setUneditable=function(){};sh.prototype.needsContentAttribute=!1;(function(a){function u(Q,Z,Ga,Va){a.defaults[Q]=Z;Ga&&(S[Q]=Va?function(Ya,wb,Rb){Rb!=dj&&Ga(Ya,wb,Rb)}:Ga)}var S=a.optionHandlers;a.defineOption=u;a.Init=dj;u("value","",function(Q,Z){return Q.setValue(Z)},!0);u("mode",null,function(Q,Z){Q.doc.modeOption=Z;Ig(Q)},!0);u("indentUnit",2,Ig,!0);u("indentWithTabs",!1);u("smartIndent",!0);u("tabSize",4,function(Q){Ng(Q);Ad(Q);Jc(Q)},!0);u("lineSeparator",
null,function(Q,Z){if(Q.doc.lineSep=Z){var Ga=[],Va=Q.doc.first;Q.doc.iter(function(wb){for(var Rb=0;;){var ec=wb.text.indexOf(Z,Rb);if(-1==ec)break;Rb=ec+Z.length;Ga.push(wa(Va,ec))}Va++});for(var Ya=Ga.length-1;0<=Ya;Ya--)Ke(Q.doc,Z,Ga[Ya],wa(Ga[Ya].line,Ga[Ya].ch+Z.length))}});u("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(Q,Z,Ga){Q.state.specialChars=new RegExp(Z.source+(Z.test("\t")?"":"|\t"),
"g");Ga!=dj&&Q.refresh()});u("specialCharPlaceholder",le,function(Q){return Q.refresh()},!0);u("electricChars",!0);u("inputStyle",Oi?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);u("spellcheck",!1,function(Q,Z){return Q.getInputField().spellcheck=Z},!0);u("autocorrect",!1,function(Q,Z){return Q.getInputField().autocorrect=Z},!0);u("autocapitalize",!1,function(Q,Z){return Q.getInputField().autocapitalize=Z},!0);u("rtlMoveVisually",
!Sa);u("wholeLineUpdateBefore",!0);u("theme","default",function(Q){De(Q);tg(Q)},!0);u("keyMap","default",function(Q,Z,Ga){Z=ai(Z);(Ga=Ga!=dj&&ai(Ga))&&Ga.detach&&Ga.detach(Q,Z);Z.attach&&Z.attach(Q,Ga||null)});u("extraKeys",null);u("configureMouse",null);u("lineWrapping",!1,Ze,!0);u("gutters",[],function(Q,Z){Q.display.gutterSpecs=Ag(Z,Q.options.lineNumbers);tg(Q)},!0);u("fixedGutter",!0,function(Q,Z){Q.display.gutters.style.left=Z?Ea(Q.display)+"px":"0";Q.refresh()},!0);u("coverGutterNextToScrollbar",
!1,function(Q){return Be(Q)},!0);u("scrollbarStyle","native",function(Q){Ae(Q);Be(Q);Q.display.scrollbars.setScrollTop(Q.doc.scrollTop);Q.display.scrollbars.setScrollLeft(Q.doc.scrollLeft)},!0);u("lineNumbers",!1,function(Q,Z){Q.display.gutterSpecs=Ag(Q.options.gutters,Z);tg(Q)},!0);u("firstLineNumber",1,tg,!0);u("lineNumberFormatter",function(Q){return Q},tg,!0);u("showCursorWhenSelecting",!1,Jd,!0);u("resetSelectionOnContextMenu",!0);u("lineWiseCopyCut",!0);u("pasteLinesPerSelection",!0);u("selectionsMayTouch",
!1);u("readOnly",!1,function(Q,Z){"nocursor"==Z&&(Pb(Q),Q.display.input.blur());Q.display.input.readOnlyChanged(Z)});u("screenReaderLabel",null,function(Q,Z){Q.display.input.screenReaderLabelChanged(""===Z?null:Z)});u("disableInput",!1,function(Q,Z){Z||Q.display.input.reset()},!0);u("dragDrop",!0,tf);u("allowDropFileTypes",null);u("cursorBlinkRate",530);u("cursorScrollMargin",0);u("cursorHeight",1,Jd,!0);u("singleCursorHeightPerLine",!0,Jd,!0);u("workTime",100);u("workDelay",100);u("flattenSpans",
!0,Ng,!0);u("addModeClass",!1,Ng,!0);u("pollInterval",100);u("undoDepth",200,function(Q,Z){return Q.doc.history.undoDepth=Z});u("historyEventDelay",1250);u("viewportMargin",10,function(Q){return Q.refresh()},!0);u("maxHighlightLength",1E4,Ng,!0);u("moveInputWithCursor",!0,function(Q,Z){Z||Q.display.input.resetPosition()});u("tabindex",null,function(Q,Z){return Q.display.input.getField().tabIndex=Z||""});u("autofocus",null);u("direction","ltr",function(Q,Z){return Q.doc.setDirection(Z)},!0);u("phrases",
null)})(cf);(function(a){var u=a.optionHandlers,S=a.helpers={};a.prototype={constructor:a,focus:function(){e(this).defaultView.focus();this.display.input.focus()},setOption:function(Q,Z){var Ga=this.options,Va=Ga[Q];if(Ga[Q]!=Z||"mode"==Q)Ga[Q]=Z,u.hasOwnProperty(Q)&&ee(this,u[Q])(this,Z,Va),C(this,"optionChange",this,Q)},getOption:function(Q){return this.options[Q]},getDoc:function(){return this.doc},addKeyMap:function(Q,Z){this.state.keyMaps[Z?"push":"unshift"](ai(Q))},removeKeyMap:function(Q){for(var Z=
this.state.keyMaps,Ga=0;Ga<Z.length;++Ga)if(Z[Ga]==Q||Z[Ga].name==Q)return Z.splice(Ga,1),!0},addOverlay:we(function(Q,Z){var Ga=Q.token?Q:a.getMode(this.options,Q);if(Ga.startState)throw Error("Overlays may not be stateful.");D(this.state.overlays,{mode:Ga,modeSpec:Q,opaque:Z&&Z.opaque,priority:Z&&Z.priority||0},function(Va){return Va.priority});this.state.modeGen++;Jc(this)}),removeOverlay:we(function(Q){for(var Z=this.state.overlays,Ga=0;Ga<Z.length;++Ga){var Va=Z[Ga].modeSpec;if(Va==Q||"string"==
typeof Q&&Va.name==Q){Z.splice(Ga,1);this.state.modeGen++;Jc(this);break}}}),indentLine:we(function(Q,Z,Ga){"string"!=typeof Z&&"number"!=typeof Z&&(Z=null==Z?this.options.smartIndent?"smart":"prev":Z?"add":"subtract");U(this.doc,Q)&&gg(this,Q,Z,Ga)}),indentSelection:we(function(Q){for(var Z=this.doc.sel.ranges,Ga=-1,Va=0;Va<Z.length;Va++){var Ya=Z[Va];if(Ya.empty())Ya.head.line>Ga&&(gg(this,Ya.head.line,Q,!0),Ga=Ya.head.line,Va==this.doc.sel.primIndex&&Kb(this));else{var wb=Ya.from();Ya=Ya.to();
var Rb=Math.max(Ga,wb.line);Ga=Math.min(this.lastLine(),Ya.line-(Ya.ch?0:1))+1;for(Ya=Rb;Ya<Ga;++Ya)gg(this,Ya,Q);Ya=this.doc.sel.ranges;0==wb.ch&&Z.length==Ya.length&&0<Ya[Va].from().ch&&Lh(this.doc,Va,new Jf(wb,Ya[Va].to()),kd)}}}),getTokenAt:function(Q,Z){return dc(this,Q,Z)},getLineTokens:function(Q,Z){return dc(this,wa(Q),Z,!0)},getTokenTypeAt:function(Q){Q=$b(this.doc,Q);var Z=Bc(this,va(this.doc,Q.line)),Ga=0,Va=(Z.length-1)/2;Q=Q.ch;if(0==Q)Z=Z[2];else for(;;){var Ya=Ga+Va>>1;if((Ya?Z[2*Ya-
1]:0)>=Q)Va=Ya;else if(Z[2*Ya+1]<Q)Ga=Ya+1;else{Z=Z[2*Ya+2];break}}Ga=Z?Z.indexOf("overlay "):-1;return 0>Ga?Z:0==Ga?null:Z.slice(0,Ga-1)},getModeAt:function(Q){var Z=this.doc.mode;return Z.innerMode?a.innerMode(Z,this.getTokenAt(Q).state).mode:Z},getHelper:function(Q,Z){return this.getHelpers(Q,Z)[0]},getHelpers:function(Q,Z){var Ga=[];if(!S.hasOwnProperty(Z))return Ga;var Va=S[Z];Q=this.getModeAt(Q);if("string"==typeof Q[Z])Va[Q[Z]]&&Ga.push(Va[Q[Z]]);else if(Q[Z])for(var Ya=0;Ya<Q[Z].length;Ya++){var wb=
Va[Q[Z][Ya]];wb&&Ga.push(wb)}else Q.helperType&&Va[Q.helperType]?Ga.push(Va[Q.helperType]):Va[Q.name]&&Ga.push(Va[Q.name]);for(Z=0;Z<Va._global.length;Z++)Ya=Va._global[Z],Ya.pred(Q,this)&&-1==x(Ga,Ya.val)&&Ga.push(Ya.val);return Ga},getStateAfter:function(Q,Z){var Ga=this.doc;Q=Math.max(Ga.first,Math.min(null==Q?Ga.first+Ga.size-1:Q,Ga.first+Ga.size-1));return uc(this,Q+1,Z).state},cursorCoords:function(Q,Z){var Ga=this.doc.sel.primary();Q=null==Q?Ga.head:"object"==typeof Q?$b(this.doc,Q):Q?Ga.from():
Ga.to();return qc(this,Q,Z||"page")},charCoords:function(Q,Z){return gd(this,$b(this.doc,Q),Z||"page")},coordsChar:function(Q,Z){Q=tc(this,Q,Z||"page");return ic(this,Q.left,Q.top)},lineAtHeight:function(Q,Z){Q=tc(this,{top:Q,left:0},Z||"page").top;return ja(this.doc,Q+this.display.viewOffset)},heightAtLine:function(Q,Z,Ga){var Va=!1;if("number"==typeof Q){var Ya=this.doc.first+this.doc.size-1;Q<this.doc.first?Q=this.doc.first:Q>Ya&&(Q=Ya,Va=!0);Q=va(this.doc,Q)}return Xb(this,Q,{top:0,left:0},Z||
"page",Ga||Va).top+(Va?this.doc.height-nd(Q):0)},defaultTextHeight:function(){return Se(this.display)},defaultCharWidth:function(){return ha(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(Q,Z,Ga,Va,Ya){var wb=this.display;Q=qc(this,$b(this.doc,Q));var Rb=Q.bottom,ec=Q.left;Z.style.position="absolute";Z.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(Z);wb.sizer.appendChild(Z);if("over"==Va)Rb=Q.top;else if("above"==
Va||"near"==Va){var Mc=Math.max(wb.wrapper.clientHeight,this.doc.height),Wc=Math.max(wb.sizer.clientWidth,wb.lineSpace.clientWidth);("above"==Va||Q.bottom+Z.offsetHeight>Mc)&&Q.top>Z.offsetHeight?Rb=Q.top-Z.offsetHeight:Q.bottom+Z.offsetHeight<=Mc&&(Rb=Q.bottom);ec+Z.offsetWidth>Wc&&(ec=Wc-Z.offsetWidth)}Z.style.top=Rb+"px";Z.style.left=Z.style.right="";"right"==Ya?(ec=wb.sizer.clientWidth-Z.offsetWidth,Z.style.right="0px"):("left"==Ya?ec=0:"middle"==Ya&&(ec=(wb.sizer.clientWidth-Z.offsetWidth)/2),
Z.style.left=ec+"px");Ga&&(Q=gb(this,{left:ec,top:Rb,right:ec+Z.offsetWidth,bottom:Rb+Z.offsetHeight}),null!=Q.scrollTop&&yc(this,Q.scrollTop),null!=Q.scrollLeft&&Ec(this,Q.scrollLeft))},triggerOnKeyDown:we(pc),triggerOnKeyPress:we(pa),triggerOnKeyUp:Vc,triggerOnMouseDown:we(mb),execCommand:function(Q){if(wj.hasOwnProperty(Q))return wj[Q].call(null,this)},triggerElectric:we(function(Q){Hf(this,Q)}),findPosH:function(Q,Z,Ga,Va){var Ya=1;0>Z&&(Ya=-1,Z=-Z);Q=$b(this.doc,Q);for(var wb=0;wb<Z&&(Q=Cg(this.doc,
Q,Ya,Ga,Va),!Q.hitSide);++wb);return Q},moveH:we(function(Q,Z){var Ga=this;this.extendSelectionsBy(function(Va){return Ga.display.shift||Ga.doc.extend||Va.empty()?Cg(Ga.doc,Va.head,Q,Z,Ga.options.rtlMoveVisually):0>Q?Va.from():Va.to()},Qe)}),deleteH:we(function(Q,Z){var Ga=this.doc;this.doc.sel.somethingSelected()?Ga.replaceSelection("",null,"+delete"):dh(this,function(Va){var Ya=Cg(Ga,Va.head,Q,Z,!1);return 0>Q?{from:Ya,to:Va.head}:{from:Va.head,to:Ya}})}),findPosV:function(Q,Z,Ga,Va){var Ya=1;0>
Z&&(Ya=-1,Z=-Z);var wb=$b(this.doc,Q);for(Q=0;Q<Z&&(wb=qc(this,wb,"div"),null==Va?Va=wb.left:wb.left=Va,wb=li(this,wb,Ya,Ga),!wb.hitSide);++Q);return wb},moveV:we(function(Q,Z){var Ga=this,Va=this.doc,Ya=[],wb=!this.display.shift&&!Va.extend&&Va.sel.somethingSelected();Va.extendSelectionsBy(function(ec){if(wb)return 0>Q?ec.from():ec.to();var Mc=qc(Ga,ec.head,"div");null!=ec.goalColumn&&(Mc.left=ec.goalColumn);Ya.push(Mc.left);var Wc=li(Ga,Mc,Q,Z);"page"==Z&&ec==Va.sel.primary()&&Fb(Ga,gd(Ga,Wc,"div").top-
Mc.top);return Wc},Qe);if(Ya.length)for(var Rb=0;Rb<Va.sel.ranges.length;Rb++)Va.sel.ranges[Rb].goalColumn=Ya[Rb]}),findWordAt:function(Q){var Z=va(this.doc,Q.line).text,Ga=Q.ch,Va=Q.ch;if(Z){var Ya=this.getHelper(Q,"wordChars");"before"!=Q.sticky&&Va!=Z.length||!Ga?++Va:--Ga;var wb=Z.charAt(Ga);for(wb=T(wb,Ya)?function(Rb){return T(Rb,Ya)}:/\s/.test(wb)?function(Rb){return/\s/.test(Rb)}:function(Rb){return!/\s/.test(Rb)&&!T(Rb)};0<Ga&&wb(Z.charAt(Ga-1));)--Ga;for(;Va<Z.length&&wb(Z.charAt(Va));)++Va}return new Jf(wa(Q.line,
Ga),wa(Q.line,Va))},toggleOverwrite:function(Q){if(null==Q||Q!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?b(this.display.cursorDiv,"CodeMirror-overwrite"):jc(this.display.cursorDiv,"CodeMirror-overwrite"),C(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==f(e(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:we(function(Q,Z){Ob(this,Q,Z)}),getScrollInfo:function(){var Q=this.display.scroller;
return{left:Q.scrollLeft,top:Q.scrollTop,height:Q.scrollHeight-he(this)-this.display.barHeight,width:Q.scrollWidth-he(this)-this.display.barWidth,clientHeight:re(this),clientWidth:Ce(this)}},scrollIntoView:we(function(Q,Z){null==Q?(Q={from:this.doc.sel.primary().head,to:null},null==Z&&(Z=this.options.cursorScrollMargin)):"number"==typeof Q?Q={from:wa(Q,0),to:null}:null==Q.from&&(Q={from:Q,to:null});Q.to||(Q.to=Q.from);Q.margin=Z||0;null!=Q.from.line?(oc(this),this.curOp.scrollToPos=Q):Oc(this,Q.from,
Q.to,Q.margin)}),setSize:we(function(Q,Z){var Ga=this,Va=function(wb){return"number"==typeof wb||/^\d+$/.test(String(wb))?wb+"px":wb};null!=Q&&(this.display.wrapper.style.width=Va(Q));null!=Z&&(this.display.wrapper.style.height=Va(Z));this.options.lineWrapping&&bd(this);var Ya=this.display.viewFrom;this.doc.iter(Ya,this.display.viewTo,function(wb){if(wb.widgets)for(var Rb=0;Rb<wb.widgets.length;Rb++)if(wb.widgets[Rb].noHScroll){pd(Ga,Ya,"widget");break}++Ya});this.curOp.forceUpdate=!0;C(this,"refresh",
this)}),operation:function(Q){return Kd(this,Q)},startOperation:function(){return Zd(this)},endOperation:function(){return vd(this)},refresh:we(function(){var Q=this.display.cachedTextHeight;Jc(this);this.curOp.forceUpdate=!0;Ad(this);Ob(this,this.doc.scrollLeft,this.doc.scrollTop);ie(this.display);(null==Q||.5<Math.abs(Q-Se(this.display))||this.options.lineWrapping)&&Yb(this);C(this,"refresh",this)}),swapDoc:we(function(Q){var Z=this.doc;Z.cm=null;this.state.selectingText&&this.state.selectingText();
yd(this,Q);Ad(this);this.display.input.reset();Ob(this,Q.scrollLeft,Q.scrollTop);this.curOp.forceScroll=!0;za(this,"swapDoc",this,Z);return Z}),phrase:function(Q){var Z=this.options.phrases;return Z&&Object.prototype.hasOwnProperty.call(Z,Q)?Z[Q]:Q},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};Aa(a);a.registerHelper=
function(Q,Z,Ga){S.hasOwnProperty(Q)||(S[Q]=a[Q]={_global:[]});S[Q][Z]=Ga};a.registerGlobalHelper=function(Q,Z,Ga,Va){a.registerHelper(Q,Z,Va);S[Q]._global.push({pred:Ga,val:Va})}})(cf);var al="iter insert remove copy getEditor constructor".split(" "),nj;for(nj in oh.prototype)oh.prototype.hasOwnProperty(nj)&&0>x(al,nj)&&(cf.prototype[nj]=function(a){return function(){return a.apply(this.doc,arguments)}}(oh.prototype[nj]));Aa(oh);cf.inputStyles={textarea:sh,contenteditable:Qg};cf.defineMode=function(a){cf.defaults.mode||
"null"==a||(cf.defaults.mode=a);Ja.apply(this,arguments)};cf.defineMIME=function(a,u){lg[a]=u};cf.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});cf.defineMIME("text/plain","null");cf.defineExtension=function(a,u){cf.prototype[a]=u};cf.defineDocExtension=function(a,u){oh.prototype[a]=u};cf.fromTextArea=function(a,u){function S(){a.value=Ya.getValue()}u=u?n(u):{};u.value=a.value;!u.tabindex&&a.tabIndex&&(u.tabindex=a.tabIndex);!u.placeholder&&a.placeholder&&(u.placeholder=
a.placeholder);if(null==u.autofocus){var Q=f(a.ownerDocument);u.autofocus=Q==a||null!=a.getAttribute("autofocus")&&Q==document.body}if(a.form&&($e(a.form,"submit",S),!u.leaveSubmitMethodAlone)){var Z=a.form;var Ga=Z.submit;try{var Va=Z.submit=function(){S();Z.submit=Ga;Z.submit();Z.submit=Va}}catch(wb){}}u.finishInit=function(wb){wb.save=S;wb.getTextArea=function(){return a};wb.toTextArea=function(){wb.toTextArea=isNaN;S();a.parentNode.removeChild(wb.getWrapperElement());a.style.display="";a.form&&
(aa(a.form,"submit",S),u.leaveSubmitMethodAlone||"function"!=typeof a.form.submit||(a.form.submit=Ga))}};a.style.display="none";var Ya=cf(function(wb){return a.parentNode.insertBefore(wb,a.nextSibling)},u);return Ya};(function(a){a.off=aa;a.on=$e;a.wheelEventPixels=Bf;a.Doc=oh;a.splitLines=Jh;a.countColumn=h;a.findColumn=O;a.isWordChar=G;a.Pass=ae;a.signal=C;a.Line=$i;a.changeEnd=Wf;a.scrollbarModel=xk;a.Pos=wa;a.cmpPos=Ta;a.modes=xe;a.mimeModes=lg;a.resolveMode=ma;a.getMode=Fa;a.modeExtensions=Eg;
a.extendMode=Pa;a.copyState=qa;a.startState=oa;a.innerMode=ya;a.commands=wj;a.keyMap=Qi;a.keyName=Yh;a.isModifierKey=Pg;a.lookupKey=jf;a.normalizeKeyMap=hf;a.StringStream=yf;a.SharedTextMarker=gj;a.TextMarker=vi;a.LineWidget=Fi;a.e_preventDefault=sa;a.e_stopPropagation=la;a.e_stop=bb;a.addClass=b;a.contains=m;a.rmClass=jc;a.keyNames=Hi})(cf);cf.version="5.65.8";return cf})};
shadow$provide[52]=function(Ka,L,sb,A){(function(w){"object"===typeof A&&"object"===typeof sb?w(L(51)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],w):w(CodeMirror)})(function(w){w.defineMode("clojure",function(k){function p(D,r){if(D.eatSpace()||D.eat(","))return["space",null];if(D.match(H))return[null,"number"];if(D.match(F))return[null,"string-2"];if(D.eat(/^"/))return(r.tokenize=q)(D,r);if(D.eat(/^[(\[{]/))return["open","bracket"];if(D.eat(/^[)\]}]/))return["close","bracket"];
if(D.eat(/^;/))return D.skipToEnd(),["space","comment"];if(D.eat(/^[#'@^`~]/))return[null,"meta"];var z=D.match(J);z=z&&z[0];return z?"comment"===z&&"("===r.lastToken?(r.tokenize=t)(D,r):f(z,g)||":"===z.charAt(0)?["symbol","atom"]:f(z,n)||f(z,h)?["symbol","keyword"]:"("===r.lastToken?["symbol","builtin"]:["symbol","variable"]:(D.next(),D.eatWhile(function(G){return!f(G,O)}),[null,"error"])}function q(D,r){for(var z=!1,G;G=D.next();){if('"'===G&&!z){r.tokenize=p;break}z=!z&&"\\"===G}return[null,"string"]}
function t(D,r){for(var z=1,G;G=D.next();)if(")"===G&&z--,"("===G&&z++,0===z){D.backUp(1);r.tokenize=p;break}return["space","comment"]}function m(D){for(var r={},z=0;z<D.length;++z)r[D[z]]=!0;return r}function f(D,r){if(r instanceof RegExp)return r.test(D);if(r instanceof Object)return r.propertyIsEnumerable(D)}var b=["false","nil","true"],c=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),e="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
w.registerHelper("hintWords","clojure",[].concat(b,c,e));var g=m(b),n=m(c),h=m(e),x=m("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
O=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,H=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,F=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,J=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:p}},token:function(D,r){D.sol()&&"number"!==typeof r.ctx.indentTo&&(r.ctx.indentTo=r.ctx.start+1);var z=r.tokenize(D,r),G=z[0];z=z[1];var T=D.current();"space"!==G&&("("===r.lastToken&&null===r.ctx.indentTo?"symbol"===G&&f(T,x)?r.ctx.indentTo=r.ctx.start+k.indentUnit:r.ctx.indentTo="next":"next"===r.ctx.indentTo&&(r.ctx.indentTo=D.column()),r.lastToken=T);"open"===G?r.ctx={prev:r.ctx,start:D.column(),indentTo:null}:
"close"===G&&(r.ctx=r.ctx.prev||r.ctx);return z},indent:function(D){var r=D.ctx.indentTo;return"number"===typeof r?r:D.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});w.defineMIME("text/x-clojure","clojure");w.defineMIME("text/x-clojurescript","clojure");w.defineMIME("application/edn","clojure")})};
shadow$provide[53]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],w):w(CodeMirror)})(function(w){var k={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,
dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,
caseFold:!0},p={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};w.defineMode("xml",function(q,t){function m(ea,La){function aa(B){La.tokenize=B;return B(ea,La)}var C=ea.next();if("\x3c"==C){if(ea.eat("!"))return ea.eat("[")?ea.match("CDATA[")?aa(c("atom","]]\x3e")):null:ea.match("--")?aa(c("comment","--\x3e")):ea.match("DOCTYPE",!0,!0)?(ea.eatWhile(/[\w\._\-]/),aa(e(1))):null;if(ea.eat("?"))return ea.eatWhile(/[\w\._\-]/),
La.tokenize=c("meta","?\x3e"),"meta";ba=ea.eat("/")?"closeTag":"openTag";La.tokenize=f;return"tag bracket"}if("\x26"==C)return(ea.eat("#")?ea.eat("x")?ea.eatWhile(/[a-fA-F\d]/)&&ea.eat(";"):ea.eatWhile(/[\d]/)&&ea.eat(";"):ea.eatWhile(/[\w\.\-:]/)&&ea.eat(";"))?"atom":"error";ea.eatWhile(/[^&<]/);return null}function f(ea,La){var aa=ea.next();if("\x3e"==aa||"/"==aa&&ea.eat("\x3e"))return La.tokenize=m,ba="\x3e"==aa?"endTag":"selfcloseTag","tag bracket";if("\x3d"==aa)return ba="equals",null;if("\x3c"==
aa)return La.tokenize=m,La.state=O,La.tagName=La.tagStart=null,(ea=La.tokenize(ea,La))?ea+" tag error":"tag error";if(/['"]/.test(aa))return La.tokenize=b(aa),La.stringStartCol=ea.column(),La.tokenize(ea,La);ea.match(/^[^\s\u00a0=<>"']*[^\s\u00a0=<>"'\/]/);return"word"}function b(ea){var La=function(aa,C){for(;!aa.eol();)if(aa.next()==ea){C.tokenize=f;break}return"string"};La.isInAttribute=!0;return La}function c(ea,La){return function(aa,C){for(;!aa.eol();){if(aa.match(La)){C.tokenize=m;break}aa.next()}return ea}}
function e(ea){return function(La,aa){for(var C;null!=(C=La.next());){if("\x3c"==C)return aa.tokenize=e(ea+1),aa.tokenize(La,aa);if("\x3e"==C)if(1==ea){aa.tokenize=m;break}else return aa.tokenize=e(ea-1),aa.tokenize(La,aa)}return"meta"}}function g(ea){return ea&&ea.toLowerCase()}function n(ea,La,aa){this.prev=ea.context;this.tagName=La||"";this.indent=ea.indented;this.startOfLine=aa;if(ca.doNotIndent.hasOwnProperty(La)||ea.context&&ea.context.noIndent)this.noIndent=!0}function h(ea){ea.context&&(ea.context=
ea.context.prev)}function x(ea,La){for(var aa;ea.context;){aa=ea.context.tagName;if(!ca.contextGrabbers.hasOwnProperty(g(aa))||!ca.contextGrabbers[g(aa)].hasOwnProperty(g(La)))break;h(ea)}}function O(ea,La,aa){return"openTag"==ea?(aa.tagStart=La.column(),H):"closeTag"==ea?F:O}function H(ea,La,aa){if("word"==ea)return aa.tagName=La.current(),W="tag",r;if(ca.allowMissingTagName&&"endTag"==ea)return W="tag bracket",r(ea,La,aa);W="error";return H}function F(ea,La,aa){if("word"==ea){ea=La.current();aa.context&&
aa.context.tagName!=ea&&ca.implicitlyClosed.hasOwnProperty(g(aa.context.tagName))&&h(aa);if(aa.context&&aa.context.tagName==ea||!1===ca.matchClosing)return W="tag",J;W="tag error";return D}if(ca.allowMissingTagName&&"endTag"==ea)return W="tag bracket",J(ea,La,aa);W="error";return D}function J(ea,La,aa){if("endTag"!=ea)return W="error",J;h(aa);return O}function D(ea,La,aa){W="error";return J(ea,La,aa)}function r(ea,La,aa){if("word"==ea)return W="attribute",z;if("endTag"==ea||"selfcloseTag"==ea){La=
aa.tagName;var C=aa.tagStart;aa.tagName=aa.tagStart=null;"selfcloseTag"==ea||ca.autoSelfClosers.hasOwnProperty(g(La))?x(aa,La):(x(aa,La),aa.context=new n(aa,La,C==aa.indented));return O}W="error";return r}function z(ea,La,aa){if("equals"==ea)return G;ca.allowMissing||(W="error");return r(ea,La,aa)}function G(ea,La,aa){if("string"==ea)return T;if("word"==ea&&ca.allowUnquoted)return W="string",r;W="error";return r(ea,La,aa)}function T(ea,La,aa){return"string"==ea?T:r(ea,La,aa)}var R=q.indentUnit,ca=
{};q=t.htmlMode?k:p;for(var M in q)ca[M]=q[M];for(M in t)ca[M]=t[M];var ba,W;m.isInText=!0;return{startState:function(ea){var La={tokenize:m,state:O,indented:ea||0,tagName:null,tagStart:null,context:null};null!=ea&&(La.baseIndent=ea);return La},token:function(ea,La){!La.tagName&&ea.sol()&&(La.indented=ea.indentation());if(ea.eatSpace())return null;ba=null;var aa=La.tokenize(ea,La);(aa||ba)&&"comment"!=aa&&(W=null,La.state=La.state(ba||aa,ea,La),W&&(aa="error"==W?aa+" error":W));return aa},indent:function(ea,
La,aa){var C=ea.context;if(ea.tokenize.isInAttribute)return ea.tagStart==ea.indented?ea.stringStartCol+1:ea.indented+R;if(C&&C.noIndent)return w.Pass;if(ea.tokenize!=f&&ea.tokenize!=m)return aa?aa.match(/^(\s*)/)[0].length:0;if(ea.tagName)return!1!==ca.multilineTagIndentPastTag?ea.tagStart+ea.tagName.length+2:ea.tagStart+R*(ca.multilineTagIndentFactor||1);if(ca.alignCDATA&&/<!\[CDATA\[/.test(La))return 0;if((La=La&&/^<(\/)?([\w_:\.-]*)/.exec(La))&&La[1])for(;C;)if(C.tagName==La[2]){C=C.prev;break}else if(ca.implicitlyClosed.hasOwnProperty(g(C.tagName)))C=
C.prev;else break;else if(La)for(;C;)if((aa=ca.contextGrabbers[g(C.tagName)])&&aa.hasOwnProperty(g(La[2])))C=C.prev;else break;for(;C&&C.prev&&!C.startOfLine;)C=C.prev;return C?C.indent+R:ea.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:ca.htmlMode?"html":"xml",helperType:ca.htmlMode?"html":"xml",skipAttribute:function(ea){ea.state==G&&(ea.state=r)},xmlCurrentTag:function(ea){return ea.tagName?{name:ea.tagName,close:"closeTag"==ea.type}:
null},xmlCurrentContext:function(ea){var La=[];for(ea=ea.context;ea;ea=ea.prev)La.push(ea.tagName);return La.reverse()}}});w.defineMIME("text/xml","xml");w.defineMIME("application/xml","xml");w.mimeModes.hasOwnProperty("text/html")||w.defineMIME("text/html",{name:"xml",htmlMode:!0})})};
shadow$provide[54]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51)):"function"==typeof define&&define.amd?define(["../lib/codemirror"],w):w(CodeMirror)})(function(w){w.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},
{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:"cpp c++ cc cxx hpp h++ hh hxx".split(" "),alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",
mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",
mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",
ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",
ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},
{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",
ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",
ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript",
"text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",
mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",
mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",
mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",
mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:"php php3 php4 php5 php7 phtml".split(" ")},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:"txt text conf def list log".split(" ")},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",
ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",
ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",
mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",
mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},
{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},
{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:"123456789".split("")},
{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",
mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},
{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",
mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var k=0;k<w.modeInfo.length;k++){var p=w.modeInfo[k];p.mimes&&(p.mime=p.mimes[0])}w.findModeByMIME=function(q){q=q.toLowerCase();for(var t=0;t<w.modeInfo.length;t++){var m=w.modeInfo[t];if(m.mime==q)return m;if(m.mimes)for(var f=0;f<m.mimes.length;f++)if(m.mimes[f]==q)return m}if(/\+xml$/.test(q))return w.findModeByMIME("application/xml");if(/\+json$/.test(q))return w.findModeByMIME("application/json")};w.findModeByExtension=function(q){q=
q.toLowerCase();for(var t=0;t<w.modeInfo.length;t++){var m=w.modeInfo[t];if(m.ext)for(var f=0;f<m.ext.length;f++)if(m.ext[f]==q)return m}};w.findModeByFileName=function(q){for(var t=0;t<w.modeInfo.length;t++){var m=w.modeInfo[t];if(m.file&&m.file.test(q))return m}t=q.lastIndexOf(".");if(q=-1<t&&q.substring(t+1,q.length))return w.findModeByExtension(q)};w.findModeByName=function(q){q=q.toLowerCase();for(var t=0;t<w.modeInfo.length;t++){var m=w.modeInfo[t];if(m.name.toLowerCase()==q)return m;if(m.alias)for(var f=
0;f<m.alias.length;f++)if(m.alias[f].toLowerCase()==q)return m}}})};
shadow$provide[55]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51),L(53),L(54)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],w):w(CodeMirror)})(function(w){w.defineMode("markdown",function(k,p){function q(B,N,Y){N.f=N.inline=Y;return Y(B,N)}function t(B){B.linkTitle=!1;B.linkHref=!1;B.linkText=!1;B.em=!1;B.strong=!1;B.strikethrough=!1;B.quote=0;B.indentedCode=!1;if(B.f==f){var N=D;N||(N=w.innerMode(J,B.htmlState),N="xml"==
N.mode.name&&null===N.state.tagStart&&!N.state.context&&N.state.tokenize.isInText);N&&(B.f=g,B.block=m,B.htmlState=null)}B.trailingSpace=0;B.trailingSpaceNewLine=!1;B.prevLine=B.thisLine;B.thisLine={stream:null};return null}function m(B,N){var Y=B.column()===N.indentation,Aa=N.prevLine.stream;var sa=!Aa||!/\S/.test(Aa.string);var la=N.indentedCode,Ia=N.prevLine.hr,bb=!1!==N.list,ib=(N.listStack[N.listStack.length-1]||0)+3;N.indentedCode=!1;Aa=N.indentation;if(null===N.indentationDiff&&(N.indentationDiff=
N.indentation,bb)){for(N.list=null;Aa<N.listStack[N.listStack.length-1];)N.listStack.pop(),N.listStack.length?N.indentation=N.listStack[N.listStack.length-1]:N.list=!1;!1!==N.list&&(N.indentationDiff=Aa-N.listStack[N.listStack.length-1])}var Ja=!sa&&!Ia&&!N.prevLine.header&&(!bb||!la)&&!N.prevLine.fencedCodeEnd,ma=(!1===N.list||Ia||sa)&&N.indentation<=ib&&B.match(G);Ia=null;if(4<=N.indentationDiff&&(la||N.prevLine.fencedCodeEnd||N.prevLine.header||sa))return B.skipToEnd(),N.indentedCode=!0,r.code;
if(B.eatSpace())return null;if(Y&&N.indentation<=ib&&(Ia=B.match(ca))&&6>=Ia[1].length)return N.quote=0,N.header=Ia[1].length,N.thisLine.header=!0,p.highlightFormatting&&(N.formatting="header"),N.f=N.inline,c(N);if(N.indentation<=ib&&B.eat("\x3e"))return N.quote=Y?1:N.quote+1,p.highlightFormatting&&(N.formatting="quote"),B.eatSpace(),c(N);if(!ma&&!N.setext&&Y&&N.indentation<=ib&&(Ia=B.match(T)))return Y=Ia[1]?"ol":"ul",N.indentation=Aa+B.current().length,N.list=!0,N.quote=0,N.listStack.push(N.indentation),
N.em=!1,N.strong=!1,N.code=!1,N.strikethrough=!1,p.taskLists&&B.match(R,!1)&&(N.taskList=!0),N.f=N.inline,p.highlightFormatting&&(N.formatting=["list","list-"+Y]),c(N);if(Y&&N.indentation<=ib&&(Ia=B.match(W,!0))){N.quote=0;N.fencedEndRE=new RegExp(Ia[1]+"+ *$");if(B=p.fencedCodeBlockHighlighting)B=Ia[2]||p.fencedCodeBlockDefaultMode,w.findModeByName&&(Y=w.findModeByName(B))&&(B=Y.mime||Y.mimes[0]),B=w.getMode(k,B),B="null"==B.name?null:B;N.localMode=B;N.localMode&&(N.localState=w.startState(N.localMode));
N.f=N.block=b;p.highlightFormatting&&(N.formatting="code-block");N.code=-1;return c(N)}return N.setext||!(Ja&&bb||N.quote||!1!==N.list||N.code||ma||ea.test(B.string))&&(Ia=B.lookAhead(1))&&(Ia=Ia.match(M))?(N.setext?(N.header=N.setext,N.setext=0,B.skipToEnd(),p.highlightFormatting&&(N.formatting="header")):(N.header="\x3d"==Ia[0].charAt(0)?1:2,N.setext=N.header),N.thisLine.header=!0,N.f=N.inline,c(N)):ma?(B.skipToEnd(),N.hr=!0,N.thisLine.hr=!0,r.hr):"["===B.peek()?q(B,N,O):q(B,N,N.inline)}function f(B,
N){var Y=J.token(B,N.htmlState);if(!D){var Aa=w.innerMode(J,N.htmlState);if("xml"==Aa.mode.name&&null===Aa.state.tagStart&&!Aa.state.context&&Aa.state.tokenize.isInText||N.md_inside&&-1<B.current().indexOf("\x3e"))N.f=g,N.block=m,N.htmlState=null}return Y}function b(B,N){var Y=N.listStack[N.listStack.length-1]||0,Aa=N.indentation<Y;if(N.fencedEndRE&&N.indentation<=Y+3&&(Aa||B.match(N.fencedEndRE))){p.highlightFormatting&&(N.formatting="code-block");var sa;Aa||(sa=c(N));N.localMode=N.localState=null;
N.block=m;N.f=g;N.fencedEndRE=null;N.code=0;N.thisLine.fencedCodeEnd=!0;return Aa?(Y=N.block,N.f=N.block=Y,Y(B,N)):sa}if(N.localMode)return N.localMode.token(B,N.localState);B.skipToEnd();return r.code}function c(B){var N=[];if(B.formatting){N.push(r.formatting);"string"===typeof B.formatting&&(B.formatting=[B.formatting]);for(var Y=0;Y<B.formatting.length;Y++)N.push(r.formatting+"-"+B.formatting[Y]),"header"===B.formatting[Y]&&N.push(r.formatting+"-"+B.formatting[Y]+"-"+B.header),"quote"===B.formatting[Y]&&
(!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=B.quote?N.push(r.formatting+"-"+B.formatting[Y]+"-"+B.quote):N.push("error"))}if(B.taskOpen)return N.push("meta"),N.length?N.join(" "):null;if(B.taskClosed)return N.push("property"),N.length?N.join(" "):null;B.linkHref?N.push(r.linkHref,"url"):(B.strong&&N.push(r.strong),B.em&&N.push(r.em),B.strikethrough&&N.push(r.strikethrough),B.emoji&&N.push(r.emoji),B.linkText&&N.push(r.linkText),B.code&&N.push(r.code),B.image&&N.push(r.image),B.imageAltText&&N.push(r.imageAltText,
"link"),B.imageMarker&&N.push(r.imageMarker));B.header&&N.push(r.header,r.header+"-"+B.header);B.quote&&(N.push(r.quote),!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=B.quote?N.push(r.quote+"-"+B.quote):N.push(r.quote+"-"+p.maxBlockquoteDepth));!1!==B.list&&((Y=(B.listStack.length-1)%3)?1===Y?N.push(r.list2):N.push(r.list3):N.push(r.list1));B.trailingSpaceNewLine?N.push("trailing-space-new-line"):B.trailingSpace&&N.push("trailing-space-"+(B.trailingSpace%2?"a":"b"));return N.length?N.join(" "):null}
function e(B,N){if(B.match(ba,!0))return c(N)}function g(B,N){var Y=N.text(B,N);if("undefined"!==typeof Y)return Y;if(N.list)return N.list=null,c(N);if(N.taskList)return" "===B.match(R,!0)[1]?N.taskOpen=!0:N.taskClosed=!0,p.highlightFormatting&&(N.formatting="task"),N.taskList=!1,c(N);N.taskOpen=!1;N.taskClosed=!1;if(N.header&&B.match(/^#+$/,!0))return p.highlightFormatting&&(N.formatting="header"),c(N);Y=B.next();if(N.linkTitle){N.linkTitle=!1;var Aa=Y;"("===Y&&(Aa=")");Aa=(Aa+"").replace(/([.?*+^\[\]\\(){}|-])/g,
"\\$1");if(B.match(new RegExp("^\\s*(?:[^"+Aa+"\\\\]+|\\\\\\\\|\\\\.)"+Aa),!0))return r.linkHref}if("`"===Y){Y=N.formatting;p.highlightFormatting&&(N.formatting="code");B.eatWhile("`");B=B.current().length;if(0!=N.code||N.quote&&1!=B){if(B==N.code)return B=c(N),N.code=0,B;N.formatting=Y;return c(N)}N.code=B;return c(N)}if(N.code)return c(N);if("\\"===Y&&(B.next(),p.highlightFormatting))return Y=c(N),N=r.formatting+"-escape",Y?Y+" "+N:N;if("!"===Y&&B.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return N.imageMarker=
!0,N.image=!0,p.highlightFormatting&&(N.formatting="image"),c(N);if("["===Y&&N.imageMarker&&B.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return N.imageMarker=!1,N.imageAltText=!0,p.highlightFormatting&&(N.formatting="image"),c(N);if("]"===Y&&N.imageAltText)return p.highlightFormatting&&(N.formatting="image"),Y=c(N),N.imageAltText=!1,N.image=!1,N.inline=N.f=h,Y;if("["===Y&&!N.image){if(N.linkText&&B.match(/^.*?\]/))return c(N);N.linkText=!0;p.highlightFormatting&&(N.formatting="link");return c(N)}if("]"===
Y&&N.linkText)return p.highlightFormatting&&(N.formatting="link"),Y=c(N),N.linkText=!1,N.inline=N.f=B.match(/\(.*?\)| ?\[.*?\]/,!1)?h:g,Y;if("\x3c"===Y&&B.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=n,p.highlightFormatting&&(N.formatting="link"),Y=c(N),(Y?Y+" ":"")+r.linkInline;if("\x3c"===Y&&B.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=n,p.highlightFormatting&&(N.formatting="link"),Y=c(N),(Y?Y+" ":"")+r.linkEmail;if(p.xml&&"\x3c"===Y&&B.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,
!1))return Y=B.string.indexOf("\x3e",B.pos),-1!=Y&&(Y=B.string.substring(B.start,Y),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Y)&&(N.md_inside=!0)),B.backUp(1),N.htmlState=w.startState(J),Y=f,N.f=N.block=Y,Y(B,N);if(p.xml&&"\x3c"===Y&&B.match(/^\/\w*?>/))return N.md_inside=!1,"tag";if("*"===Y||"_"===Y){for(var sa=1,la=1==B.pos?" ":B.string.charAt(B.pos-2);3>sa&&B.eat(Y);)sa++;var Ia=B.peek()||" ",bb=!/\s/.test(Ia)&&(!La.test(Ia)||/\s/.test(la)||La.test(la)),ib=!/\s/.test(la)&&(!La.test(la)||/\s/.test(Ia)||
La.test(Ia)),Ja=Aa=null;sa%2&&(N.em||!bb||"*"!==Y&&ib&&!La.test(la)?N.em!=Y||!ib||"*"!==Y&&bb&&!La.test(Ia)||(Aa=!1):Aa=!0);1<sa&&(N.strong||!bb||"*"!==Y&&ib&&!La.test(la)?N.strong!=Y||!ib||"*"!==Y&&bb&&!La.test(Ia)||(Ja=!1):Ja=!0);if(null!=Ja||null!=Aa)return p.highlightFormatting&&(N.formatting=null==Aa?"strong":null==Ja?"em":"strong em"),!0===Aa&&(N.em=Y),!0===Ja&&(N.strong=Y),B=c(N),!1===Aa&&(N.em=!1),!1===Ja&&(N.strong=!1),B}else if(" "===Y&&(B.eat("*")||B.eat("_"))){if(" "===B.peek())return c(N);
B.backUp(1)}if(p.strikethrough)if("~"===Y&&B.eatWhile(Y)){if(N.strikethrough)return p.highlightFormatting&&(N.formatting="strikethrough"),B=c(N),N.strikethrough=!1,B;if(B.match(/^[^\s]/,!1))return N.strikethrough=!0,p.highlightFormatting&&(N.formatting="strikethrough"),c(N)}else if(" "===Y&&B.match("~~",!0)){if(" "===B.peek())return c(N);B.backUp(2)}if(p.emoji&&":"===Y&&B.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/))return N.emoji=!0,p.highlightFormatting&&(N.formatting="emoji"),B=c(N),
N.emoji=!1,B;" "===Y&&(B.match(/^ +$/,!1)?N.trailingSpace++:N.trailingSpace&&(N.trailingSpaceNewLine=!0));return c(N)}function n(B,N){if("\x3e"===B.next())return N.f=N.inline=g,p.highlightFormatting&&(N.formatting="link"),B=c(N),(B?B+" ":"")+r.linkInline;B.match(/^[^>]+/,!0);return r.linkInline}function h(B,N){if(B.eatSpace())return null;B=B.next();return"("===B||"["===B?(N.f=N.inline=x("("===B?")":"]"),p.highlightFormatting&&(N.formatting="link-string"),N.linkHref=!0,c(N)):"error"}function x(B){return function(N,
Y){if(N.next()===B)return Y.f=Y.inline=g,p.highlightFormatting&&(Y.formatting="link-string"),N=c(Y),Y.linkHref=!1,N;N.match(aa[B]);Y.linkHref=!0;return c(Y)}}function O(B,N){return B.match(/^([^\]\\]|\\.)*\]:/,!1)?(N.f=H,B.next(),p.highlightFormatting&&(N.formatting="link"),N.linkText=!0,c(N)):q(B,N,g)}function H(B,N){if(B.match("]:",!0))return N.f=N.inline=F,p.highlightFormatting&&(N.formatting="link"),B=c(N),N.linkText=!1,B;B.match(/^([^\]\\]|\\.)+/,!0);return r.linkText}function F(B,N){if(B.eatSpace())return null;
B.match(/^[^\s]+/,!0);void 0===B.peek()?N.linkTitle=!0:B.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0);N.f=N.inline=g;return r.linkHref+" url"}var J=w.getMode(k,"text/html"),D="null"==J.name;void 0===p.highlightFormatting&&(p.highlightFormatting=!1);void 0===p.maxBlockquoteDepth&&(p.maxBlockquoteDepth=0);void 0===p.taskLists&&(p.taskLists=!1);void 0===p.strikethrough&&(p.strikethrough=!1);void 0===p.emoji&&(p.emoji=!1);void 0===p.fencedCodeBlockHighlighting&&(p.fencedCodeBlockHighlighting=
!0);void 0===p.fencedCodeBlockDefaultMode&&(p.fencedCodeBlockDefaultMode="text/plain");void 0===p.xml&&(p.xml=!0);void 0===p.tokenTypeOverrides&&(p.tokenTypeOverrides={});var r={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",
emoji:"builtin"},z;for(z in r)r.hasOwnProperty(z)&&p.tokenTypeOverrides[z]&&(r[z]=p.tokenTypeOverrides[z]);var G=/^([*\-_])(?:\s*\1){2,}\s*$/,T=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,R=/^\[(x| )\](?=\s)/i,ca=p.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,M=/^ {0,3}(?:={1,}|-{2,})\s*$/,ba=/^[^#!\[\]*_\\<>` "'(~:]+/,W=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,ea=/^\s*\[[^\]]+?\]:.*$/,La=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,
aa={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},C={startState:function(){return{f:m,prevLine:{stream:null},thisLine:{stream:null},block:m,htmlState:null,indentation:0,inline:g,text:e,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(B){return{f:B.f,
prevLine:B.prevLine,thisLine:B.thisLine,block:B.block,htmlState:B.htmlState&&w.copyState(J,B.htmlState),indentation:B.indentation,localMode:B.localMode,localState:B.localMode?w.copyState(B.localMode,B.localState):null,inline:B.inline,text:B.text,formatting:!1,linkText:B.linkText,linkTitle:B.linkTitle,linkHref:B.linkHref,code:B.code,em:B.em,strong:B.strong,strikethrough:B.strikethrough,emoji:B.emoji,header:B.header,setext:B.setext,hr:B.hr,taskList:B.taskList,list:B.list,listStack:B.listStack.slice(0),
quote:B.quote,indentedCode:B.indentedCode,trailingSpace:B.trailingSpace,trailingSpaceNewLine:B.trailingSpaceNewLine,md_inside:B.md_inside,fencedEndRE:B.fencedEndRE}},token:function(B,N){N.formatting=!1;if(B!=N.thisLine.stream){N.header=0;N.hr=!1;if(B.match(/^\s*$/,!0))return t(N),null;N.prevLine=N.thisLine;N.thisLine={stream:B};N.taskList=!1;N.trailingSpace=0;N.trailingSpaceNewLine=!1;if(!N.localState&&(N.f=N.block,N.f!=f)){var Y=B.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;N.indentation=Y;
N.indentationDiff=null;if(0<Y)return null}}return N.f(B,N)},innerMode:function(B){return B.block==f?{state:B.htmlState,mode:J}:B.localState?{state:B.localState,mode:B.localMode}:{state:B,mode:C}},indent:function(B,N,Y){return B.block==f&&J.indent?J.indent(B.htmlState,N,Y):B.localState&&B.localMode.indent?B.localMode.indent(B.localState,N,Y):w.Pass},blankLine:t,getType:c,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return C},"xml");w.defineMIME("text/markdown",
"markdown");w.defineMIME("text/x-markdown","markdown")})};
shadow$provide[56]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],w):w(CodeMirror)})(function(w){w.overlayMode=function(k,p,q){return{startState:function(){return{base:w.startState(k),overlay:w.startState(p),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(t){return{base:w.copyState(k,t.base),overlay:w.copyState(p,t.overlay),basePos:t.basePos,baseCur:null,
overlayPos:t.overlayPos,overlayCur:null}},token:function(t,m){if(t!=m.streamSeen||Math.min(m.basePos,m.overlayPos)<t.start)m.streamSeen=t,m.basePos=m.overlayPos=t.start;t.start==m.basePos&&(m.baseCur=k.token(t,m.base),m.basePos=t.pos);t.start==m.overlayPos&&(t.pos=t.start,m.overlayCur=p.token(t,m.overlay),m.overlayPos=t.pos);t.pos=Math.min(m.basePos,m.overlayPos);return null==m.overlayCur?m.baseCur:null!=m.baseCur&&m.overlay.combineTokens||q&&null==m.overlay.combineTokens?m.baseCur+" "+m.overlayCur:
m.overlayCur},indent:k.indent&&function(t,m,f){return k.indent(t.base,m,f)},electricChars:k.electricChars,innerMode:function(t){return{state:t.base,mode:k}},blankLine:function(t){var m,f;k.blankLine&&(m=k.blankLine(t.base));p.blankLine&&(f=p.blankLine(t.overlay));return null==f?m:q&&null!=m?m+" "+f:f}}}})};
shadow$provide[57]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51),L(55),L(56)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],w):w(CodeMirror)})(function(w){var k=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;
w.defineMode("gfm",function(p,q){var t=0,m={taskLists:!0,strikethrough:!0,emoji:!0},f;for(f in q)m[f]=q[f];m.name="markdown";return w.overlayMode(w.getMode(p,m),{startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(b){return{code:b.code,codeBlock:b.codeBlock,ateSpace:b.ateSpace}},token:function(b,c){c.combineTokens=null;if(c.codeBlock){if(b.match(/^```+/))return c.codeBlock=!1,null;b.skipToEnd();return null}b.sol()&&(c.code=!1);if(b.sol()&&b.match(/^```+/))return b.skipToEnd(),
c.codeBlock=!0,null;if("`"===b.peek()){b.next();var e=b.pos;b.eatWhile("`");b=1+b.pos-e;c.code?b===t&&(c.code=!1):(t=b,c.code=!0);return null}if(c.code)return b.next(),null;if(b.eatSpace())return c.ateSpace=!0,null;if(b.sol()||c.ateSpace)if(c.ateSpace=!1,!1!==q.gitHubSpice&&(b.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||b.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)))return c.combineTokens=!0,"link";if(b.match(k)&&"]("!=b.string.slice(b.start-
2,b.start)&&(0==b.start||/\W/.test(b.string.charAt(b.start-1))))return c.combineTokens=!0,"link";b.next();return null},blankLine:function(b){b.code=!1;return null}})},"markdown");w.defineMIME("text/x-gfm","gfm")})};
shadow$provide[58]=function(Ka,L,sb,A){function w(){sb.exports=w=Object.assign||function(k){for(var p=1;p<arguments.length;p++){var q=arguments[p],t;for(t in q)Object.prototype.hasOwnProperty.call(q,t)&&(k[t]=q[t])}return k};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0;return w.apply(this,arguments)}sb.exports=w;sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[59]=function(Ka,L,sb,A){sb.exports=function(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[60]=function(Ka,L,sb,A){function w(k,p){sb.exports=w=Object.setPrototypeOf||function(q,t){q.__proto__=t;return q};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0;return w(k,p)}sb.exports=w;sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[61]=function(Ka,L,sb,A){var w=L(60);sb.exports=function(k,p){k.prototype=Object.create(p.prototype);k.prototype.constructor=k;w(k,p)};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[62]=function(Ka,L,sb,A){function w(k,p){if(k.length!==p.length)return!1;for(var q=0;q<k.length;q++)if(k[q]!==p[q])return!1;return!0}sb.exports=function(k,p){void 0===p&&(p=w);var q,t=[],m,f=!1;return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(f&&q===this&&p(b,t))return m;m=k.apply(this,b);f=!0;q=this;t=b;return m}}};
shadow$provide[63]=function(Ka,L,sb,A){sb.exports=function(w,k){if(null==w)return{};var p={},q=Object.keys(w),t;for(t=0;t<q.length;t++){var m=q[t];0<=k.indexOf(m)||(p[m]=w[m])}return p};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[64]=function(Ka,L,sb,A){function w(aa){return aa&&"object"===typeof aa&&"default"in aa?aa["default"]:aa}function k(aa,C){function B(){x()-N>=C?aa.call(null):Y.id=requestAnimationFrame(B)}var N=x(),Y={id:requestAnimationFrame(B)};return Y}function p(aa){void 0===aa&&(aa=!1);if(null===H||aa){aa=document.createElement("div");var C=aa.style;C.width="50px";C.height="50px";C.overflow="scroll";C.direction="rtl";C=document.createElement("div");var B=C.style;B.width="100px";B.height="100px";
aa.appendChild(C);document.body.appendChild(aa);0<aa.scrollLeft?H="positive-descending":(aa.scrollLeft=1,H=0===aa.scrollLeft?"negative":"positive-ascending");document.body.removeChild(aa)}return H}function q(aa){var C,B=aa.getColumnOffset,N=aa.getColumnStartIndexForOffset,Y=aa.getColumnStopIndexForStartIndex,Aa=aa.getColumnWidth,sa=aa.getEstimatedTotalHeight,la=aa.getEstimatedTotalWidth,Ia=aa.getOffsetForColumnAndAlignment,bb=aa.getOffsetForRowAndAlignment,ib=aa.getRowHeight,Ja=aa.getRowOffset,ma=
aa.getRowStartIndexForOffset,Fa=aa.getRowStopIndexForStartIndex,Pa=aa.initInstanceProps,qa=aa.shouldResetStyleCacheOnItemSizeChange,ya=aa.validateProps;return C=function(oa){function va(eb){var ra=oa.call(this,eb)||this;ra._instanceProps=Pa(ra.props,c(ra));ra._resetIsScrollingTimeoutId=null;ra._outerRef=void 0;ra.state={instance:c(ra),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"===typeof ra.props.initialScrollLeft?ra.props.initialScrollLeft:0,scrollTop:"number"===typeof ra.props.initialScrollTop?
ra.props.initialScrollTop:0,scrollUpdateWasRequested:!1,verticalScrollDirection:"forward"};ra._callOnItemsRendered=void 0;ra._callOnItemsRendered=g(function(Oa,ja,U,ka,wa,Ta,db,lb){return ra.props.onItemsRendered({overscanColumnStartIndex:Oa,overscanColumnStopIndex:ja,overscanRowStartIndex:U,overscanRowStopIndex:ka,visibleColumnStartIndex:wa,visibleColumnStopIndex:Ta,visibleRowStartIndex:db,visibleRowStopIndex:lb})});ra._callOnScroll=void 0;ra._callOnScroll=g(function(Oa,ja,U,ka,wa){return ra.props.onScroll({horizontalScrollDirection:U,
scrollLeft:Oa,scrollTop:ja,verticalScrollDirection:ka,scrollUpdateWasRequested:wa})});ra._getItemStyle=void 0;ra._getItemStyle=function(Oa,ja){var U=ra.props,ka=U.columnWidth,wa=U.direction;U=U.rowHeight;ka=ra._getItemStyleCache(qa&&ka,qa&&wa,qa&&U);U=Oa+":"+ja;if(ka.hasOwnProperty(U))Oa=ka[U];else{var Ta=B(ra.props,ja,ra._instanceProps);wa="rtl"===wa;ka[U]=Oa={position:"absolute",left:wa?void 0:Ta,right:wa?Ta:void 0,top:Ja(ra.props,Oa,ra._instanceProps),height:ib(ra.props,Oa,ra._instanceProps),width:Aa(ra.props,
ja,ra._instanceProps)}}return Oa};ra._getItemStyleCache=void 0;ra._getItemStyleCache=g(function(Oa,ja,U){return{}});ra._onScroll=function(Oa){Oa=Oa.currentTarget;var ja=Oa.clientHeight,U=Oa.clientWidth,ka=Oa.scrollLeft,wa=Oa.scrollTop,Ta=Oa.scrollHeight,db=Oa.scrollWidth;ra.setState(function(lb){if(lb.scrollLeft===ka&&lb.scrollTop===wa)return null;var nb=ka;if("rtl"===ra.props.direction)switch(p()){case "negative":nb=-ka;break;case "positive-descending":nb=db-U-ka}nb=Math.max(0,Math.min(nb,db-U));
return{isScrolling:!0,horizontalScrollDirection:lb.scrollLeft<ka?"forward":"backward",scrollLeft:nb,scrollTop:Math.max(0,Math.min(wa,Ta-ja)),verticalScrollDirection:lb.scrollTop<wa?"forward":"backward",scrollUpdateWasRequested:!1}},ra._resetIsScrollingDebounced)};ra._outerRefSetter=function(Oa){var ja=ra.props.outerRef;ra._outerRef=Oa;"function"===typeof ja?ja(Oa):null!=ja&&"object"===typeof ja&&ja.hasOwnProperty("current")&&(ja.current=Oa)};ra._resetIsScrollingDebounced=function(){null!==ra._resetIsScrollingTimeoutId&&
cancelAnimationFrame(ra._resetIsScrollingTimeoutId.id);ra._resetIsScrollingTimeoutId=k(ra._resetIsScrolling,150)};ra._resetIsScrolling=function(){ra._resetIsScrollingTimeoutId=null;ra.setState({isScrolling:!1},function(){ra._getItemStyleCache(-1)})};return ra}e(va,oa);va.getDerivedStateFromProps=function(eb,ra){ya(eb);return null};var Ua=va.prototype;Ua.scrollTo=function(eb){var ra=eb.scrollLeft,Oa=eb.scrollTop;void 0!==ra&&(ra=Math.max(0,ra));void 0!==Oa&&(Oa=Math.max(0,Oa));this.setState(function(ja){void 0===
ra&&(ra=ja.scrollLeft);void 0===Oa&&(Oa=ja.scrollTop);return ja.scrollLeft===ra&&ja.scrollTop===Oa?null:{horizontalScrollDirection:ja.scrollLeft<ra?"forward":"backward",scrollLeft:ra,scrollTop:Oa,scrollUpdateWasRequested:!0,verticalScrollDirection:ja.scrollTop<Oa?"forward":"backward"}},this._resetIsScrollingDebounced)};Ua.scrollToItem=function(eb){var ra=eb.align;ra=void 0===ra?"auto":ra;var Oa=eb.columnIndex;eb=eb.rowIndex;var ja=this.props,U=ja.columnCount,ka=ja.height,wa=ja.rowCount,Ta=ja.width,
db=this.state;ja=db.scrollLeft;db=db.scrollTop;var lb=void 0;void 0===lb&&(lb=!1);if(-1===O||lb){lb=document.createElement("div");var nb=lb.style;nb.width="50px";nb.height="50px";nb.overflow="scroll";document.body.appendChild(lb);O=lb.offsetWidth-lb.clientWidth;document.body.removeChild(lb)}lb=O;void 0!==Oa&&(Oa=Math.max(0,Math.min(Oa,U-1)));void 0!==eb&&(eb=Math.max(0,Math.min(eb,wa-1)));U=sa(this.props,this._instanceProps);wa=la(this.props,this._instanceProps)>Ta?lb:0;this.scrollTo({scrollLeft:void 0!==
Oa?Ia(this.props,Oa,ra,ja,this._instanceProps,U>ka?lb:0):ja,scrollTop:void 0!==eb?bb(this.props,eb,ra,db,this._instanceProps,wa):db})};Ua.componentDidMount=function(){var eb=this.props,ra=eb.initialScrollLeft;eb=eb.initialScrollTop;if(null!=this._outerRef){var Oa=this._outerRef;"number"===typeof ra&&(Oa.scrollLeft=ra);"number"===typeof eb&&(Oa.scrollTop=eb)}this._callPropsCallbacks()};Ua.componentDidUpdate=function(){var eb=this.props.direction,ra=this.state,Oa=ra.scrollLeft,ja=ra.scrollTop;if(ra.scrollUpdateWasRequested&&
null!=this._outerRef){ra=this._outerRef;if("rtl"===eb)switch(p()){case "negative":ra.scrollLeft=-Oa;break;case "positive-ascending":ra.scrollLeft=Oa;break;default:ra.scrollLeft=ra.scrollWidth-ra.clientWidth-Oa}else ra.scrollLeft=Math.max(0,Oa);ra.scrollTop=Math.max(0,ja)}this._callPropsCallbacks()};Ua.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelAnimationFrame(this._resetIsScrollingTimeoutId.id)};Ua.render=function(){var eb=this.props,ra=eb.children,Oa=eb.className,
ja=eb.columnCount,U=eb.direction,ka=eb.height,wa=eb.innerRef,Ta=eb.innerElementType,db=eb.innerTagName,lb=eb.itemData,nb=eb.itemKey,Mb=void 0===nb?F:nb;nb=eb.outerElementType;var $b=eb.outerTagName,Gc=eb.rowCount,zc=eb.style,Bc=eb.useIsScrolling;eb=eb.width;var uc=this.state.isScrolling,id=this._getHorizontalRangeToRender(),Hb=id[0],Ab=id[1];id=this._getVerticalRangeToRender();var dc=id[0],Wb=id[1];id=[];if(0<ja&&Gc)for(ja=dc;ja<=Wb;ja++)for(Gc=Hb;Gc<=Ab;Gc++)id.push(n.createElement(ra,{columnIndex:Gc,
data:lb,isScrolling:Bc?uc:void 0,key:Mb({columnIndex:Gc,data:lb,rowIndex:ja}),rowIndex:ja,style:this._getItemStyle(ja,Gc)}));ra=sa(this.props,this._instanceProps);lb=la(this.props,this._instanceProps);return n.createElement(nb||$b||"div",{className:Oa,onScroll:this._onScroll,ref:this._outerRefSetter,style:b({position:"relative",height:ka,width:eb,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:U},zc)},n.createElement(Ta||db||"div",{children:id,ref:wa,style:{height:ra,
pointerEvents:uc?"none":void 0,width:lb}}))};Ua._callPropsCallbacks=function(){var eb=this.props,ra=eb.columnCount,Oa=eb.onScroll,ja=eb.rowCount;if("function"===typeof eb.onItemsRendered&&0<ra&&0<ja){var U=this._getHorizontalRangeToRender();eb=U[0];ra=U[1];ja=U[2];U=U[3];var ka=this._getVerticalRangeToRender();this._callOnItemsRendered(eb,ra,ka[0],ka[1],ja,U,ka[2],ka[3])}"function"===typeof Oa&&(Oa=this.state,this._callOnScroll(Oa.scrollLeft,Oa.scrollTop,Oa.horizontalScrollDirection,Oa.verticalScrollDirection,
Oa.scrollUpdateWasRequested))};Ua._getHorizontalRangeToRender=function(){var eb=this.props,ra=eb.columnCount,Oa=eb.overscanColumnsCount,ja=eb.overscanCount,U=eb.rowCount,ka=this.state,wa=ka.horizontalScrollDirection,Ta=ka.isScrolling;ka=ka.scrollLeft;eb=eb.overscanColumnCount||Oa||ja||1;if(0===ra||0===U)return[0,0,0,0];U=N(this.props,ka,this._instanceProps);ka=Y(this.props,U,ka,this._instanceProps);return[Math.max(0,U-(Ta&&"backward"!==wa?1:Math.max(1,eb))),Math.max(0,Math.min(ra-1,ka+(Ta&&"forward"!==
wa?1:Math.max(1,eb)))),U,ka]};Ua._getVerticalRangeToRender=function(){var eb=this.props,ra=eb.overscanCount,Oa=eb.overscanRowsCount,ja=eb.rowCount,U=this.state,ka=U.isScrolling,wa=U.verticalScrollDirection;U=U.scrollTop;ra=eb.overscanRowCount||Oa||ra||1;if(0===eb.columnCount||0===ja)return[0,0,0,0];eb=ma(this.props,U,this._instanceProps);U=Fa(this.props,eb,U,this._instanceProps);return[Math.max(0,eb-(ka&&"backward"!==wa?1:Math.max(1,ra))),Math.max(0,Math.min(ja-1,U+(ka&&"forward"!==wa?1:Math.max(1,
ra)))),eb,U]};return va}(n.PureComponent),C.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},C}function t(aa){var C,B=aa.getItemOffset,N=aa.getEstimatedTotalSize,Y=aa.getItemSize,Aa=aa.getOffsetForIndexAndAlignment,sa=aa.getStartIndexForOffset,la=aa.getStopIndexForStartIndex,Ia=aa.initInstanceProps,bb=aa.shouldResetStyleCacheOnItemSizeChange,ib=aa.validateProps;return C=function(Ja){function ma(Pa){var qa=Ja.call(this,Pa)||this;qa._instanceProps=Ia(qa.props,c(qa));qa._outerRef=void 0;
qa._resetIsScrollingTimeoutId=null;qa.state={instance:c(qa),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof qa.props.initialScrollOffset?qa.props.initialScrollOffset:0,scrollUpdateWasRequested:!1};qa._callOnItemsRendered=void 0;qa._callOnItemsRendered=g(function(ya,oa,va,Ua){return qa.props.onItemsRendered({overscanStartIndex:ya,overscanStopIndex:oa,visibleStartIndex:va,visibleStopIndex:Ua})});qa._callOnScroll=void 0;qa._callOnScroll=g(function(ya,oa,va){return qa.props.onScroll({scrollDirection:ya,
scrollOffset:oa,scrollUpdateWasRequested:va})});qa._getItemStyle=void 0;qa._getItemStyle=function(ya){var oa=qa.props,va=oa.direction,Ua=oa.itemSize,eb=oa.layout;Ua=qa._getItemStyleCache(bb&&Ua,bb&&eb,bb&&va);if(Ua.hasOwnProperty(ya))ya=Ua[ya];else{oa=B(qa.props,ya,qa._instanceProps);var ra=Y(qa.props,ya,qa._instanceProps);eb="horizontal"===va||"horizontal"===eb;va="rtl"===va;var Oa=eb?oa:0;Ua[ya]=ya={position:"absolute",left:va?void 0:Oa,right:va?Oa:void 0,top:eb?0:oa,height:eb?"100%":ra,width:eb?
ra:"100%"}}return ya};qa._getItemStyleCache=void 0;qa._getItemStyleCache=g(function(ya,oa,va){return{}});qa._onScrollHorizontal=function(ya){ya=ya.currentTarget;var oa=ya.clientWidth,va=ya.scrollLeft,Ua=ya.scrollWidth;qa.setState(function(eb){if(eb.scrollOffset===va)return null;var ra=va;if("rtl"===qa.props.direction)switch(p()){case "negative":ra=-va;break;case "positive-descending":ra=Ua-oa-va}ra=Math.max(0,Math.min(ra,Ua-oa));return{isScrolling:!0,scrollDirection:eb.scrollOffset<va?"forward":"backward",
scrollOffset:ra,scrollUpdateWasRequested:!1}},qa._resetIsScrollingDebounced)};qa._onScrollVertical=function(ya){ya=ya.currentTarget;var oa=ya.clientHeight,va=ya.scrollHeight,Ua=ya.scrollTop;qa.setState(function(eb){if(eb.scrollOffset===Ua)return null;var ra=Math.max(0,Math.min(Ua,va-oa));return{isScrolling:!0,scrollDirection:eb.scrollOffset<ra?"forward":"backward",scrollOffset:ra,scrollUpdateWasRequested:!1}},qa._resetIsScrollingDebounced)};qa._outerRefSetter=function(ya){var oa=qa.props.outerRef;
qa._outerRef=ya;"function"===typeof oa?oa(ya):null!=oa&&"object"===typeof oa&&oa.hasOwnProperty("current")&&(oa.current=ya)};qa._resetIsScrollingDebounced=function(){null!==qa._resetIsScrollingTimeoutId&&cancelAnimationFrame(qa._resetIsScrollingTimeoutId.id);qa._resetIsScrollingTimeoutId=k(qa._resetIsScrolling,150)};qa._resetIsScrolling=function(){qa._resetIsScrollingTimeoutId=null;qa.setState({isScrolling:!1},function(){qa._getItemStyleCache(-1,null)})};return qa}e(ma,Ja);ma.getDerivedStateFromProps=
function(Pa,qa){ib(Pa);return null};var Fa=ma.prototype;Fa.scrollTo=function(Pa){Pa=Math.max(0,Pa);this.setState(function(qa){return qa.scrollOffset===Pa?null:{scrollDirection:qa.scrollOffset<Pa?"forward":"backward",scrollOffset:Pa,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)};Fa.scrollToItem=function(Pa,qa){void 0===qa&&(qa="auto");var ya=this.state.scrollOffset;Pa=Math.max(0,Math.min(Pa,this.props.itemCount-1));this.scrollTo(Aa(this.props,Pa,qa,ya,this._instanceProps))};Fa.componentDidMount=
function(){var Pa=this.props,qa=Pa.direction,ya=Pa.initialScrollOffset;Pa=Pa.layout;if("number"===typeof ya&&null!=this._outerRef){var oa=this._outerRef;"horizontal"===qa||"horizontal"===Pa?oa.scrollLeft=ya:oa.scrollTop=ya}this._callPropsCallbacks()};Fa.componentDidUpdate=function(){var Pa=this.props,qa=Pa.direction;Pa=Pa.layout;var ya=this.state,oa=ya.scrollOffset;if(ya.scrollUpdateWasRequested&&null!=this._outerRef)if(ya=this._outerRef,"horizontal"===qa||"horizontal"===Pa)if("rtl"===qa)switch(p()){case "negative":ya.scrollLeft=
-oa;break;case "positive-ascending":ya.scrollLeft=oa;break;default:ya.scrollLeft=ya.scrollWidth-ya.clientWidth-oa}else ya.scrollLeft=oa;else ya.scrollTop=oa;this._callPropsCallbacks()};Fa.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelAnimationFrame(this._resetIsScrollingTimeoutId.id)};Fa.render=function(){var Pa=this.props,qa=Pa.children,ya=Pa.className,oa=Pa.direction,va=Pa.height,Ua=Pa.innerRef,eb=Pa.innerElementType,ra=Pa.innerTagName,Oa=Pa.itemCount,ja=Pa.itemData,
U=Pa.itemKey,ka=void 0===U?R:U,wa=Pa.layout;U=Pa.outerElementType;var Ta=Pa.outerTagName,db=Pa.style,lb=Pa.useIsScrolling;Pa=Pa.width;var nb=this.state.isScrolling,Mb=(wa="horizontal"===oa||"horizontal"===wa)?this._onScrollHorizontal:this._onScrollVertical,$b=this._getRangeToRender(),Gc=$b[0],zc=$b[1];$b=[];if(0<Oa)for(Oa=Gc;Oa<=zc;Oa++)$b.push(n.createElement(qa,{data:ja,key:ka(Oa,ja),index:Oa,isScrolling:lb?nb:void 0,style:this._getItemStyle(Oa)}));qa=N(this.props,this._instanceProps);return n.createElement(U||
Ta||"div",{className:ya,onScroll:Mb,ref:this._outerRefSetter,style:b({position:"relative",height:va,width:Pa,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:oa},db)},n.createElement(eb||ra||"div",{children:$b,ref:Ua,style:{height:wa?"100%":qa,pointerEvents:nb?"none":void 0,width:wa?qa:"100%"}}))};Fa._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&0<this.props.itemCount){var Pa=this._getRangeToRender();this._callOnItemsRendered(Pa[0],
Pa[1],Pa[2],Pa[3])}"function"===typeof this.props.onScroll&&(Pa=this.state,this._callOnScroll(Pa.scrollDirection,Pa.scrollOffset,Pa.scrollUpdateWasRequested))};Fa._getRangeToRender=function(){var Pa=this.props,qa=Pa.itemCount;Pa=Pa.overscanCount;var ya=this.state,oa=ya.isScrolling,va=ya.scrollDirection,Ua=ya.scrollOffset;if(0===qa)return[0,0,0,0];ya=sa(this.props,Ua,this._instanceProps);Ua=la(this.props,ya,Ua,this._instanceProps);return[Math.max(0,ya-(oa&&"backward"!==va?1:Math.max(1,Pa))),Math.max(0,
Math.min(qa-1,Ua+(oa&&"forward"!==va?1:Math.max(1,Pa)))),ya,Ua]};return ma}(n.PureComponent),C.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},C}function m(aa,C){for(var B in aa)if(!(B in C))return!0;for(var N in C)if(aa[N]!==C[N])return!0;return!1}function f(aa,C){var B=aa.style;aa=h(aa,ea);var N=C.style;C=h(C,La);return!m(B,N)&&!m(aa,C)}Object.defineProperty(A,"__esModule",{value:!0});var b=w(L(58)),c=w(L(59)),e=w(L(61)),g=w(L(62)),n=L(3),h=w(L(63)),
x="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()},O=-1,H=null,F=function(aa){return aa.rowIndex+":"+aa.columnIndex},J=function(aa,C){aa=aa.rowCount;var B=C.rowMetadataMap,N=C.estimatedRowHeight;C=C.lastMeasuredRowIndex;var Y=0;C>=aa&&(C=aa-1);0<=C&&(B=B[C],Y=B.offset+B.size);return Y+(aa-C-1)*N},D=function(aa,C){aa=aa.columnCount;var B=C.columnMetadataMap,N=C.estimatedColumnWidth;C=C.lastMeasuredColumnIndex;var Y=
0;C>=aa&&(C=aa-1);0<=C&&(B=B[C],Y=B.offset+B.size);return Y+(aa-C-1)*N},r=function(aa,C,B,N){if("column"===aa){var Y=N.columnMetadataMap;C=C.columnWidth;var Aa=N.lastMeasuredColumnIndex}else Y=N.rowMetadataMap,C=C.rowHeight,Aa=N.lastMeasuredRowIndex;if(B>Aa){var sa=0;0<=Aa&&(sa=Y[Aa],sa=sa.offset+sa.size);for(Aa+=1;Aa<=B;Aa++){var la=C(Aa);Y[Aa]={offset:sa,size:la};sa+=la}"column"===aa?N.lastMeasuredColumnIndex=B:N.lastMeasuredRowIndex=B}return Y[B]},z=function(aa,C,B,N){if("column"===aa){var Y=B.columnMetadataMap;
var Aa=B.lastMeasuredColumnIndex}else Y=B.rowMetadataMap,Aa=B.lastMeasuredRowIndex;if((0<Aa?Y[Aa].offset:0)>=N)return G(aa,C,B,Aa,0,N);Y=Math.max(0,Aa);Aa="column"===aa?C.columnCount:C.rowCount;for(var sa=1;Y<Aa&&r(aa,C,Y,B).offset<N;)Y+=sa,sa*=2;return G(aa,C,B,Math.min(Y,Aa-1),Math.floor(Y/2),N)},G=function(aa,C,B,N,Y,Aa){for(;Y<=N;){var sa=Y+Math.floor((N-Y)/2),la=r(aa,C,sa,B).offset;if(la===Aa)return sa;la<Aa?Y=sa+1:la>Aa&&(N=sa-1)}return 0<Y?Y-1:0},T=function(aa,C,B,N,Y,Aa,sa){var la="column"===
aa?C.width:C.height;B=r(aa,C,B,Aa);aa="column"===aa?D(C,Aa):J(C,Aa);aa=Math.max(0,Math.min(aa-la,B.offset));sa=Math.max(0,B.offset-la+sa+B.size);"smart"===N&&(N=Y>=sa-la&&Y<=aa+la?"auto":"center");switch(N){case "start":return aa;case "end":return sa;case "center":return Math.round(sa+(aa-sa)/2);default:return Y>=sa&&Y<=aa?Y:sa>aa?sa:Y<sa?sa:aa}};Ka=q({getColumnOffset:function(aa,C,B){return r("column",aa,C,B).offset},getColumnStartIndexForOffset:function(aa,C,B){return z("column",aa,B,C)},getColumnStopIndexForStartIndex:function(aa,
C,B,N){var Y=aa.columnCount,Aa=aa.width,sa=r("column",aa,C,N);B+=Aa;for(sa=sa.offset+sa.size;C<Y-1&&sa<B;)C++,sa+=r("column",aa,C,N).size;return C},getColumnWidth:function(aa,C,B){return B.columnMetadataMap[C].size},getEstimatedTotalHeight:J,getEstimatedTotalWidth:D,getOffsetForColumnAndAlignment:function(aa,C,B,N,Y,Aa){return T("column",aa,C,B,N,Y,Aa)},getOffsetForRowAndAlignment:function(aa,C,B,N,Y,Aa){return T("row",aa,C,B,N,Y,Aa)},getRowOffset:function(aa,C,B){return r("row",aa,C,B).offset},getRowHeight:function(aa,
C,B){return B.rowMetadataMap[C].size},getRowStartIndexForOffset:function(aa,C,B){return z("row",aa,B,C)},getRowStopIndexForStartIndex:function(aa,C,B,N){var Y=aa.rowCount,Aa=aa.height,sa=r("row",aa,C,N);B+=Aa;for(sa=sa.offset+sa.size;C<Y-1&&sa<B;)C++,sa+=r("row",aa,C,N).size;return C},initInstanceProps:function(aa,C){var B={columnMetadataMap:{},estimatedColumnWidth:aa.estimatedColumnWidth||50,estimatedRowHeight:aa.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};
C.resetAfterColumnIndex=function(N,Y){void 0===Y&&(Y=!0);C.resetAfterIndices({columnIndex:N,shouldForceUpdate:Y})};C.resetAfterRowIndex=function(N,Y){void 0===Y&&(Y=!0);C.resetAfterIndices({rowIndex:N,shouldForceUpdate:Y})};C.resetAfterIndices=function(N){var Y=N.columnIndex,Aa=N.rowIndex;N=N.shouldForceUpdate;N=void 0===N?!0:N;"number"===typeof Y&&(B.lastMeasuredColumnIndex=Math.min(B.lastMeasuredColumnIndex,Y-1));"number"===typeof Aa&&(B.lastMeasuredRowIndex=Math.min(B.lastMeasuredRowIndex,Aa-1));
C._getItemStyleCache(-1);N&&C.forceUpdate()};return B},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(aa){}});var R=function(aa,C){return aa},ca=function(aa,C,B){aa=aa.itemSize;var N=B.itemMetadataMap,Y=B.lastMeasuredIndex;if(C>Y){var Aa=0;0<=Y&&(Aa=N[Y],Aa=Aa.offset+Aa.size);for(Y+=1;Y<=C;Y++){var sa=aa(Y);N[Y]={offset:Aa,size:sa};Aa+=sa}B.lastMeasuredIndex=C}return N[C]},M=function(aa,C,B,N,Y){for(;N<=B;){var Aa=N+Math.floor((B-N)/2),sa=ca(aa,Aa,C).offset;if(sa===Y)return Aa;sa<
Y?N=Aa+1:sa>Y&&(B=Aa-1)}return 0<N?N-1:0},ba=function(aa,C){aa=aa.itemCount;var B=C.itemMetadataMap,N=C.estimatedItemSize;C=C.lastMeasuredIndex;var Y=0;C>=aa&&(C=aa-1);0<=C&&(B=B[C],Y=B.offset+B.size);return Y+(aa-C-1)*N};L=t({getItemOffset:function(aa,C,B){return ca(aa,C,B).offset},getItemSize:function(aa,C,B){return B.itemMetadataMap[C].size},getEstimatedTotalSize:ba,getOffsetForIndexAndAlignment:function(aa,C,B,N,Y){var Aa=aa.height,sa=aa.layout,la=aa.width;Aa="horizontal"===aa.direction||"horizontal"===
sa?la:Aa;C=ca(aa,C,Y);aa=ba(aa,Y);aa=Math.max(0,Math.min(aa-Aa,C.offset));Y=Math.max(0,C.offset-Aa+C.size);"smart"===B&&(B=N>=Y-Aa&&N<=aa+Aa?"auto":"center");switch(B){case "start":return aa;case "end":return Y;case "center":return Math.round(Y+(aa-Y)/2);default:return N>=Y&&N<=aa?N:N<Y?Y:aa}},getStartIndexForOffset:function(aa,C,B){var N=B.itemMetadataMap,Y=B.lastMeasuredIndex;if((0<Y?N[Y].offset:0)>=C)aa=M(aa,B,Y,0,C);else{N=Math.max(0,Y);Y=aa.itemCount;for(var Aa=1;N<Y&&ca(aa,N,B).offset<C;)N+=
Aa,Aa*=2;aa=M(aa,B,Math.min(N,Y-1),Math.floor(N/2),C)}return aa},getStopIndexForStartIndex:function(aa,C,B,N){var Y=aa.height,Aa=aa.itemCount,sa=aa.layout,la=aa.width;sa="horizontal"===aa.direction||"horizontal"===sa?la:Y;Y=ca(aa,C,N);B+=sa;for(Y=Y.offset+Y.size;C<Aa-1&&Y<B;)C++,Y+=ca(aa,C,N).size;return C},initInstanceProps:function(aa,C){var B={itemMetadataMap:{},estimatedItemSize:aa.estimatedItemSize||50,lastMeasuredIndex:-1};C.resetAfterIndex=function(N,Y){void 0===Y&&(Y=!0);B.lastMeasuredIndex=
Math.min(B.lastMeasuredIndex,N-1);C._getItemStyleCache(-1);Y&&C.forceUpdate()};return B},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(aa){}});sb=q({getColumnOffset:function(aa,C){return C*aa.columnWidth},getColumnWidth:function(aa,C){return aa.columnWidth},getRowOffset:function(aa,C){return C*aa.rowHeight},getRowHeight:function(aa,C){return aa.rowHeight},getEstimatedTotalHeight:function(aa){return aa.rowHeight*aa.rowCount},getEstimatedTotalWidth:function(aa){return aa.columnWidth*
aa.columnCount},getOffsetForColumnAndAlignment:function(aa,C,B,N,Y,Aa){var sa=aa.columnWidth;Y=aa.width;aa=Math.max(0,aa.columnCount*sa-Y);var la=Math.min(aa,C*sa);C=Math.max(0,C*sa-Y+Aa+sa);"smart"===B&&(B=N>=C-Y&&N<=la+Y?"auto":"center");switch(B){case "start":return la;case "end":return C;case "center":return B=Math.round(C+(la-C)/2),B<Math.ceil(Y/2)?0:B>aa+Math.floor(Y/2)?aa:B;default:return N>=C&&N<=la?N:C>la?C:N<C?C:la}},getOffsetForRowAndAlignment:function(aa,C,B,N,Y,Aa){var sa=aa.rowHeight;
Y=aa.height;aa=Math.max(0,aa.rowCount*sa-Y);var la=Math.min(aa,C*sa);C=Math.max(0,C*sa-Y+Aa+sa);"smart"===B&&(B=N>=C-Y&&N<=la+Y?"auto":"center");switch(B){case "start":return la;case "end":return C;case "center":return B=Math.round(C+(la-C)/2),B<Math.ceil(Y/2)?0:B>aa+Math.floor(Y/2)?aa:B;default:return N>=C&&N<=la?N:C>la?C:N<C?C:la}},getColumnStartIndexForOffset:function(aa,C){return Math.max(0,Math.min(aa.columnCount-1,Math.floor(C/aa.columnWidth)))},getColumnStopIndexForStartIndex:function(aa,C,
B){var N=aa.columnWidth;return Math.max(0,Math.min(aa.columnCount-1,C+Math.ceil((aa.width+B-C*N)/N)-1))},getRowStartIndexForOffset:function(aa,C){return Math.max(0,Math.min(aa.rowCount-1,Math.floor(C/aa.rowHeight)))},getRowStopIndexForStartIndex:function(aa,C,B){var N=aa.rowHeight;return Math.max(0,Math.min(aa.rowCount-1,C+Math.ceil((aa.height+B-C*N)/N)-1))},initInstanceProps:function(aa){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(aa){}});var W=t({getItemOffset:function(aa,
C){return C*aa.itemSize},getItemSize:function(aa,C){return aa.itemSize},getEstimatedTotalSize:function(aa){return aa.itemSize*aa.itemCount},getOffsetForIndexAndAlignment:function(aa,C,B,N){var Y=aa.height,Aa=aa.itemSize,sa=aa.layout,la=aa.width;Y="horizontal"===aa.direction||"horizontal"===sa?la:Y;aa=Math.max(0,aa.itemCount*Aa-Y);sa=Math.min(aa,C*Aa);C=Math.max(0,C*Aa-Y+Aa);"smart"===B&&(B=N>=C-Y&&N<=sa+Y?"auto":"center");switch(B){case "start":return sa;case "end":return C;case "center":return B=
Math.round(C+(sa-C)/2),B<Math.ceil(Y/2)?0:B>aa+Math.floor(Y/2)?aa:B;default:return N>=C&&N<=sa?N:N<C?C:sa}},getStartIndexForOffset:function(aa,C){return Math.max(0,Math.min(aa.itemCount-1,Math.floor(C/aa.itemSize)))},getStopIndexForStartIndex:function(aa,C,B){var N=aa.height,Y=aa.itemSize,Aa=aa.layout,sa=aa.width;return Math.max(0,Math.min(aa.itemCount-1,C+Math.ceil((("horizontal"===aa.direction||"horizontal"===Aa?sa:N)+B-C*Y)/Y)-1))},initInstanceProps:function(aa){},shouldResetStyleCacheOnItemSizeChange:!0,
validateProps:function(aa){}}),ea=["style"],La=["style"];A.FixedSizeGrid=sb;A.FixedSizeList=W;A.VariableSizeGrid=Ka;A.VariableSizeList=L;A.areEqual=f;A.shouldComponentUpdate=function(aa,C){return!f(this.props,aa)||m(this.state,C)}};
shadow$provide[65]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.stopPropagation=function(k){k.stopPropagation()};A.preventDefault=function(k){k.preventDefault()};A.default=void 0;class w{constructor(k){this.type=k;this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}A.default=w};
shadow$provide[66]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={PROPERTYCHANGE:"propertychange"}};
shadow$provide[67]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}A.default=w};
shadow$provide[68]=function(Ka,L,sb,A){function w(k,p){return k>p?1:k<p?-1:0}Object.defineProperty(A,"__esModule",{value:!0});A.binarySearch=function(k,p,q){let t,m;q=q||w;let f=0,b=k.length,c=!1;for(;f<b;)t=f+(b-f>>1),m=+q(k[t],p),0>m?f=t+1:(b=t,c=!m);return c?f:~f};A.numberSafeCompareFunction=w;A.linearFindNearest=function(k,p,q){const t=k.length;if(k[0]<=p)return 0;if(!(p<=k[t-1])){let m;if(0<q)for(m=1;m<t;++m){if(k[m]<p)return m-1}else if(0>q)for(m=1;m<t;++m){if(k[m]<=p)return m}else for(m=1;m<
t;++m){if(k[m]==p)return m;if(k[m]<p)return"function"===typeof q?0<q(p,k[m-1],k[m])?m-1:m:k[m-1]-p<p-k[m]?m-1:m}}return t-1};A.reverseSubArray=function(k,p,q){for(;p<q;){const t=k[p];k[p]=k[q];k[q]=t;++p;--q}};A.extend=function(k,p){p=Array.isArray(p)?p:[p];const q=p.length;for(let t=0;t<q;t++)k[k.length]=p[t]};A.remove=function(k,p){p=k.indexOf(p);const q=-1<p;q&&k.splice(p,1);return q};A.equals=function(k,p){const q=k.length;if(q!==p.length)return!1;for(let t=0;t<q;t++)if(k[t]!==p[t])return!1;return!0};
A.stableSort=function(k,p){const q=k.length,t=Array(k.length);let m;for(m=0;m<q;m++)t[m]={index:m,value:k[m]};t.sort(function(f,b){return p(f.value,b.value)||f.index-b.index});for(m=0;m<k.length;m++)k[m]=t[m].value};A.isSorted=function(k,p,q){const t=p||w;return k.every(function(m,f){if(0===f)return!0;m=t(k[f-1],m);return!(0<m||q&&0===m)})}};
shadow$provide[69]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.TRUE=function(){return!0};A.FALSE=function(){return!1};A.VOID=function(){};A.memoizeOne=function(k){let p=!1,q,t,m;return function(){const f=Array.prototype.slice.call(arguments);p&&this===m&&(0,w.equals)(f,t)||(p=!0,m=this,t=f,q=k.apply(this,arguments));return q}};A.toPromise=function(k){a:{let p;try{p=k()}catch(q){k=Promise.reject(q);break a}k=p instanceof Promise?p:Promise.resolve(p)}return k};var w=L(68)};
shadow$provide[70]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.clear=function(w){for(const k in w)delete w[k]};A.isEmpty=function(w){let k;for(k in w)return!1;return!k}};
shadow$provide[71]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(67));var k=w(L(65)),p=L(69),q=L(70);class t extends Ka.default{constructor(m){super();this.eventTarget_=m;this.listeners_=this.dispatching_=this.pendingRemovals_=null}addEventListener(m,f){if(m&&f){var b=this.listeners_||(this.listeners_={});m=b[m]||(b[m]=[]);m.includes(f)||m.push(f)}}dispatchEvent(m){var f="string"===typeof m;const b=f?
m:m.type;var c=this.listeners_&&this.listeners_[b];if(c){var e=f?new k.default(m):m;e.target||(e.target=this.eventTarget_||this);m=this.dispatching_||(this.dispatching_={});f=this.pendingRemovals_||(this.pendingRemovals_={});b in m||(m[b]=0,f[b]=0);++m[b];for(let n=0,h=c.length;n<h;++n){var g="handleEvent"in c[n]?c[n].handleEvent(e):c[n].call(this,e);if(!1===g||e.propagationStopped){g=!1;break}}if(0===--m[b]){c=f[b];for(delete f[b];c--;)this.removeEventListener(b,p.VOID);delete m[b]}return g}}disposeInternal(){this.listeners_&&
(0,q.clear)(this.listeners_)}getListeners(m){return this.listeners_&&this.listeners_[m]||void 0}hasListener(m){return this.listeners_?m?m in this.listeners_:0<Object.keys(this.listeners_).length:!1}removeEventListener(m,f){const b=this.listeners_&&this.listeners_[m];b&&(f=b.indexOf(f),-1!==f&&(this.pendingRemovals_&&m in this.pendingRemovals_?(b[f]=p.VOID,++this.pendingRemovals_[m]):(b.splice(f,1),0===b.length&&delete this.listeners_[m])))}}A.default=t};
shadow$provide[72]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[73]=function(Ka,L,sb,A){function w(p,q,t,m,f){m&&m!==p&&(t=t.bind(m));if(f){const b=t;t=function(){p.removeEventListener(q,t);b.apply(this,arguments)}}m={target:p,type:q,listener:t};p.addEventListener(q,t);return m}Object.defineProperty(A,"__esModule",{value:!0});A.listen=w;A.listenOnce=function(p,q,t,m){return w(p,q,t,m,!0)};A.unlistenByKey=function(p){p&&p.target&&(p.target.removeEventListener(p.type,p.listener),(0,k.clear)(p))};var k=L(70)};
shadow$provide[74]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}function k(m){if(Array.isArray(m))for(let f=0,b=m.length;f<b;++f)(0,q.unlistenByKey)(m[f]);else(0,q.unlistenByKey)(m)}Object.defineProperty(A,"__esModule",{value:!0});A.unByKey=k;A.default=void 0;Ka=w(L(71));var p=w(L(72)),q=L(73);class t extends Ka.default{constructor(){super();this.on=this.onInternal;this.once=this.onceInternal;this.un=this.unInternal;this.revision_=0}changed(){++this.revision_;this.dispatchEvent(p.default.CHANGE)}getRevision(){return this.revision_}onInternal(m,
f){if(Array.isArray(m)){const b=m.length,c=Array(b);for(let e=0;e<b;++e)c[e]=(0,q.listen)(this,m[e],f);return c}return(0,q.listen)(this,m,f)}onceInternal(m,f){let b;if(Array.isArray(m)){const c=m.length;b=Array(c);for(let e=0;e<c;++e)b[e]=(0,q.listenOnce)(this,m[e],f)}else b=(0,q.listenOnce)(this,m,f);return f.ol_key=b}unInternal(m,f){const b=f.ol_key;if(b)k(b);else if(Array.isArray(m))for(let c=0,e=m.length;c<e;++c)this.removeEventListener(m[c],f);else this.removeEventListener(m,f)}}A.default=t};
shadow$provide[75]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.abstract=function(){throw Error("Unimplemented abstract method.");};A.getUid=function(k){return k.ol_uid||(k.ol_uid=String(++w))};A.VERSION=void 0;let w=0;A.VERSION="7.0.0"};
shadow$provide[76]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.ObjectEvent=void 0;Ka=w(L(65));var k=w(L(66));sb=w(L(74));var p=L(75),q=L(70);class t extends Ka.default{constructor(f,b,c){super(f);this.key=b;this.oldValue=c}}A.ObjectEvent=t;class m extends sb.default{constructor(f){super();(0,p.getUid)(this);this.values_=null;void 0!==f&&this.setProperties(f)}get(f){let b;this.values_&&this.values_.hasOwnProperty(f)&&
(b=this.values_[f]);return b}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(f,b){let c;c=`change:${f}`;this.hasListener(c)&&this.dispatchEvent(new t(c,f,b));c=k.default.PROPERTYCHANGE;this.hasListener(c)&&this.dispatchEvent(new t(c,f,b))}addChangeListener(f,b){this.addEventListener(`change:${f}`,b)}removeChangeListener(f,b){this.removeEventListener(`change:${f}`,b)}set(f,
b,c){const e=this.values_||(this.values_={});c?e[f]=b:(c=e[f],e[f]=b,c!==b&&this.notify(f,c))}setProperties(f,b){for(const c in f)this.set(c,f[c],b)}applyProperties(f){f.values_&&Object.assign(this.values_||(this.values_={}),f.values_)}unset(f,b){if(this.values_&&f in this.values_){const c=this.values_[f];delete this.values_[f];(0,q.isEmpty)(this.values_)&&(this.values_=null);b||this.notify(f,c)}}}A.default=m};
shadow$provide[77]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(75);class k extends Error{constructor(p){const q="Assertion failed. See https://openlayers.org/en/"+("latest"===w.VERSION?w.VERSION:"v"+w.VERSION.split("-")[0])+"/doc/errors/#"+p+" for details.";super(q);this.code=p;this.name="AssertionError";this.message=q}}A.default=k};
shadow$provide[78]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={ADD:"add",REMOVE:"remove"}};
shadow$provide[79]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.CollectionEvent=void 0;var k=w(L(77));Ka=w(L(76));var p=w(L(78));L=w(L(65));class q extends L.default{constructor(m,f,b){super(m);this.element=f;this.index=b}}A.CollectionEvent=q;class t extends Ka.default{constructor(m,f){super();f=f||{};this.unique_=!!f.unique;this.array_=m?m:[];if(this.unique_)for(let b=0,c=this.array_.length;b<c;++b)this.assertUnique_(this.array_[b],
b);this.updateLength_()}clear(){for(;0<this.getLength();)this.pop()}extend(m){for(let f=0,b=m.length;f<b;++f)this.push(m[f]);return this}forEach(m){const f=this.array_;for(let b=0,c=f.length;b<c;++b)m(f[b],b,f)}getArray(){return this.array_}item(m){return this.array_[m]}getLength(){return this.get("length")}insertAt(m,f){if(0>m||m>this.getLength())throw Error("Index out of bounds: "+m);this.unique_&&this.assertUnique_(f);this.array_.splice(m,0,f);this.updateLength_();this.dispatchEvent(new q(p.default.ADD,
f,m))}pop(){return this.removeAt(this.getLength()-1)}push(m){this.unique_&&this.assertUnique_(m);const f=this.getLength();this.insertAt(f,m);return this.getLength()}remove(m){const f=this.array_;for(let b=0,c=f.length;b<c;++b)if(f[b]===m)return this.removeAt(b)}removeAt(m){if(!(0>m||m>=this.getLength())){var f=this.array_[m];this.array_.splice(m,1);this.updateLength_();this.dispatchEvent(new q(p.default.REMOVE,f,m));return f}}setAt(m,f){var b=this.getLength();if(m>=b)this.insertAt(m,f);else{if(0>
m)throw Error("Index out of bounds: "+m);this.unique_&&this.assertUnique_(f,m);b=this.array_[m];this.array_[m]=f;this.dispatchEvent(new q(p.default.REMOVE,b,m));this.dispatchEvent(new q(p.default.ADD,f,m))}}updateLength_(){this.set("length",this.array_.length)}assertUnique_(m,f){for(let b=0,c=this.array_.length;b<c;++b)if(this.array_[b]===m&&b!==f)throw new k.default(58);}}A.default=t};
shadow$provide[80]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.PASSIVE_EVENT_LISTENERS=A.IMAGE_DECODE=A.WORKER_OFFSCREEN_CANVAS=A.DEVICE_PIXEL_RATIO=A.MAC=A.WEBKIT=A.SAFARI_BUG_237906=A.SAFARI=A.FIREFOX=void 0;Ka="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";L=Ka.includes("firefox");A.FIREFOX=L;L=Ka.includes("safari")&&!Ka.includes("chrom");L=(A.SAFARI=L)&&(Ka.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ka));
A.SAFARI_BUG_237906=L;L=Ka.includes("webkit")&&!Ka.includes("edge");A.WEBKIT=L;Ka=Ka.includes("macintosh");A.MAC=Ka;A.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;A.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;A.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;Ka=function(){let w=!1;try{const k=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("_",
null,k);window.removeEventListener("_",null,k)}catch(k){}return w}();A.PASSIVE_EVENT_LISTENERS=Ka};
shadow$provide[81]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.assert=function(k,p){if(!k)throw new w.default(p);};var w=function(k){return k&&k.__esModule?k:{default:k}}(L(77))};
shadow$provide[82]=function(Ka,L,sb,A){function w(){return[1,0,0,1,0,0]}function k(n,h){const x=n[0],O=n[1],H=n[2],F=n[3],J=n[4],D=n[5],r=h[0],z=h[1],G=h[2],T=h[3],R=h[4];h=h[5];n[0]=x*r+H*z;n[1]=O*r+F*z;n[2]=x*G+H*T;n[3]=O*G+F*T;n[4]=x*R+H*h+J;n[5]=O*R+F*h+D;return n}function p(n,h,x,O,H,F,J){n[0]=h;n[1]=x;n[2]=O;n[3]=H;n[4]=F;n[5]=J;return n}function q(n,h,x,O,H,F,J,D){const r=Math.sin(F);F=Math.cos(F);n[0]=O*F;n[1]=H*r;n[2]=-O*r;n[3]=H*F;n[4]=J*O*F-D*O*r+h;n[5]=J*H*r+D*H*F+x;return n}function t(n,
h){const x=m(h);(0,c.assert)(0!==x,32);const O=h[0],H=h[1],F=h[2],J=h[3],D=h[4];h=h[5];n[0]=J/x;n[1]=-H/x;n[2]=-F/x;n[3]=O/x;n[4]=(F*h-J*D)/x;n[5]=-(O*h-H*D)/x;return n}function m(n){return n[0]*n[3]-n[1]*n[2]}function f(n){n="matrix("+n.join(", ")+")";if(b.WORKER_OFFSCREEN_CANVAS)return n;const h=g||(g=document.createElement("div"));h.style.transform=n;return h.style.transform}Object.defineProperty(A,"__esModule",{value:!0});A.create=w;A.reset=function(n){return p(n,1,0,0,1,0,0)};A.multiply=k;A.set=
p;A.setFromArray=function(n,h){n[0]=h[0];n[1]=h[1];n[2]=h[2];n[3]=h[3];n[4]=h[4];n[5]=h[5];return n};A.apply=function(n,h){const x=h[0],O=h[1];h[0]=n[0]*x+n[2]*O+n[4];h[1]=n[1]*x+n[3]*O+n[5];return h};A.rotate=function(n,h){const x=Math.cos(h);h=Math.sin(h);return k(n,p(e,x,h,-h,x,0,0))};A.scale=function(n,h,x){return k(n,p(e,h,0,0,x,0,0))};A.makeScale=function(n,h,x){return p(n,h,0,0,x,0,0)};A.translate=function(n,h,x){return k(n,p(e,1,0,0,1,h,x))};A.compose=q;A.composeCssTransform=function(n,h,
x,O,H,F,J){return f(q(w(),n,h,x,O,H,F,J))};A.invert=function(n){return t(n,n)};A.makeInverse=t;A.determinant=m;A.toString=f;var b=L(80),c=L(81);const e=Array(6);let g};
shadow$provide[83]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[84]=function(Ka,L,sb,A){function w(M,ba,W){return M[0]<=ba&&ba<=M[2]&&M[1]<=W&&W<=M[3]}function k(M,ba){const W=M[1],ea=M[2],La=M[3],aa=ba[0];ba=ba[1];let C=R.default.UNKNOWN;aa<M[0]?C|=R.default.LEFT:aa>ea&&(C|=R.default.RIGHT);ba<W?C|=R.default.BELOW:ba>La&&(C|=R.default.ABOVE);C===R.default.UNKNOWN&&(C=R.default.INTERSECTING);return C}function p(){return[Infinity,Infinity,-Infinity,-Infinity]}function q(M,ba,W,ea,La){return La?(La[0]=M,La[1]=ba,La[2]=W,La[3]=ea,La):[M,ba,W,ea]}function t(M){return q(Infinity,
Infinity,-Infinity,-Infinity,M)}function m(M,ba){ba[0]<M[0]&&(M[0]=ba[0]);ba[0]>M[2]&&(M[2]=ba[0]);ba[1]<M[1]&&(M[1]=ba[1]);ba[1]>M[3]&&(M[3]=ba[1])}function f(M,ba){for(let W=0,ea=ba.length;W<ea;++W)m(M,ba[W]);return M}function b(M,ba,W,ea,La){for(;W<ea;W+=La)e(M,ba[W],ba[W+1]);return M}function c(M,ba){for(let W=0,ea=ba.length;W<ea;++W)f(M,ba[W]);return M}function e(M,ba,W){M[0]=Math.min(M[0],ba);M[1]=Math.min(M[1],W);M[2]=Math.max(M[2],ba);M[3]=Math.max(M[3],W)}function g(M){let ba=0;G(M)||(ba=
r(M)*H(M));return ba}function n(M){return[M[0],M[1]]}function h(M){return[M[2],M[1]]}function x(M){return[(M[0]+M[2])/2,(M[1]+M[3])/2]}function O(M,ba,W,ea){var La=ba*ea[0]/2;ba=ba*ea[1]/2;ea=Math.cos(W);var aa=Math.sin(W);W=La*ea;La*=aa;ea*=ba;ba*=aa;aa=M[0];M=M[1];return[aa-W+ba,M-La-ea,aa-W-ba,M-La+ea,aa+W-ba,M+La+ea,aa+W+ba,M+La-ea,aa-W+ba,M-La-ea]}function H(M){return M[3]-M[1]}function F(M,ba,W){W=W?W:p();z(M,ba)?(W[0]=M[0]>ba[0]?M[0]:ba[0],W[1]=M[1]>ba[1]?M[1]:ba[1],W[2]=M[2]<ba[2]?M[2]:ba[2],
W[3]=M[3]<ba[3]?M[3]:ba[3]):t(W);return W}function J(M){return[M[0],M[3]]}function D(M){return[M[2],M[3]]}function r(M){return M[2]-M[0]}function z(M,ba){return M[0]<=ba[2]&&M[2]>=ba[0]&&M[1]<=ba[3]&&M[3]>=ba[1]}function G(M){return M[2]<M[0]||M[3]<M[1]}function T(M,ba){var W=ba.getExtent();const ea=x(M);ba.canWrapX()&&(ea[0]<W[0]||ea[0]>=W[2])&&(ba=r(W),W=Math.floor((ea[0]-W[0])/ba)*ba,M[0]-=W,M[2]-=W);return M}Object.defineProperty(A,"__esModule",{value:!0});A.boundingExtent=function(M){const ba=
p();for(let W=0,ea=M.length;W<ea;++W)m(ba,M[W]);return ba};A.buffer=function(M,ba,W){return W?(W[0]=M[0]-ba,W[1]=M[1]-ba,W[2]=M[2]+ba,W[3]=M[3]+ba,W):[M[0]-ba,M[1]-ba,M[2]+ba,M[3]+ba]};A.clone=function(M,ba){return ba?(ba[0]=M[0],ba[1]=M[1],ba[2]=M[2],ba[3]=M[3],ba):M.slice()};A.closestSquaredDistanceXY=function(M,ba,W){ba=ba<M[0]?M[0]-ba:M[2]<ba?ba-M[2]:0;M=W<M[1]?M[1]-W:M[3]<W?W-M[3]:0;return ba*ba+M*M};A.containsCoordinate=function(M,ba){return w(M,ba[0],ba[1])};A.containsExtent=function(M,ba){return M[0]<=
ba[0]&&ba[2]<=M[2]&&M[1]<=ba[1]&&ba[3]<=M[3]};A.containsXY=w;A.coordinateRelationship=k;A.createEmpty=p;A.createOrUpdate=q;A.createOrUpdateEmpty=t;A.createOrUpdateFromCoordinate=function(M,ba){const W=M[0];M=M[1];return q(W,M,W,M,ba)};A.createOrUpdateFromCoordinates=function(M,ba){ba=t(ba);return f(ba,M)};A.createOrUpdateFromFlatCoordinates=function(M,ba,W,ea,La){La=t(La);return b(La,M,ba,W,ea)};A.createOrUpdateFromRings=function(M,ba){ba=t(ba);return c(ba,M)};A.equals=function(M,ba){return M[0]==
ba[0]&&M[2]==ba[2]&&M[1]==ba[1]&&M[3]==ba[3]};A.approximatelyEquals=function(M,ba,W){return Math.abs(M[0]-ba[0])<W&&Math.abs(M[2]-ba[2])<W&&Math.abs(M[1]-ba[1])<W&&Math.abs(M[3]-ba[3])<W};A.extend=function(M,ba){ba[0]<M[0]&&(M[0]=ba[0]);ba[2]>M[2]&&(M[2]=ba[2]);ba[1]<M[1]&&(M[1]=ba[1]);ba[3]>M[3]&&(M[3]=ba[3]);return M};A.extendCoordinate=m;A.extendCoordinates=f;A.extendFlatCoordinates=b;A.extendRings=c;A.extendXY=e;A.forEachCorner=function(M,ba){let W;return(W=ba(n(M)))||(W=ba(h(M)))||(W=ba(D(M)))?
W:(W=ba(J(M)))?W:!1};A.getArea=g;A.getBottomLeft=n;A.getBottomRight=h;A.getCenter=x;A.getCorner=function(M,ba){let W;"bottom-left"===ba?W=n(M):"bottom-right"===ba?W=h(M):"top-left"===ba?W=J(M):"top-right"===ba?W=D(M):(0,ca.assert)(!1,13);return W};A.getEnlargedArea=function(M,ba){return(Math.max(M[2],ba[2])-Math.min(M[0],ba[0]))*(Math.max(M[3],ba[3])-Math.min(M[1],ba[1]))};A.getForViewAndSize=function(M,ba,W,ea,La){const [aa,C,B,N,Y,Aa,sa,la]=O(M,ba,W,ea);return q(Math.min(aa,B,Y,sa),Math.min(C,N,
Aa,la),Math.max(aa,B,Y,sa),Math.max(C,N,Aa,la),La)};A.getRotatedViewport=O;A.getHeight=H;A.getIntersectionArea=function(M,ba){M=F(M,ba);return g(M)};A.getIntersection=F;A.getMargin=function(M){return r(M)+H(M)};A.getSize=function(M){return[M[2]-M[0],M[3]-M[1]]};A.getTopLeft=J;A.getTopRight=D;A.getWidth=r;A.intersects=z;A.isEmpty=G;A.returnOrUpdate=function(M,ba){return ba?(ba[0]=M[0],ba[1]=M[1],ba[2]=M[2],ba[3]=M[3],ba):M};A.scaleFromCenter=function(M,ba){const W=(M[2]-M[0])/2*(ba-1);ba=(M[3]-M[1])/
2*(ba-1);M[0]-=W;M[2]+=W;M[1]-=ba;M[3]+=ba};A.intersectsSegment=function(M,ba,W){var ea=!1;const La=k(M,ba),aa=k(M,W);if(La===R.default.INTERSECTING||aa===R.default.INTERSECTING)ea=!0;else{const C=M[0],B=M[1],N=M[2];M=M[3];const Y=W[0];W=W[1];ba=(W-ba[1])/(Y-ba[0]);aa&R.default.ABOVE&&!(La&R.default.ABOVE)&&(ea=Y-(W-M)/ba,ea=ea>=C&&ea<=N);ea||!(aa&R.default.RIGHT)||La&R.default.RIGHT||(ea=W-(Y-N)*ba,ea=ea>=B&&ea<=M);ea||!(aa&R.default.BELOW)||La&R.default.BELOW||(ea=Y-(W-B)/ba,ea=ea>=C&&ea<=N);ea||
!(aa&R.default.LEFT)||La&R.default.LEFT||(ea=W-(Y-C)*ba,ea=ea>=B&&ea<=M)}return ea};A.applyTransform=function(M,ba,W,ea){var La=[];if(1<ea){const aa=M[2]-M[0],C=M[3]-M[1];for(let B=0;B<ea;++B)La.push(M[0]+aa*B/ea,M[1],M[2],M[1]+C*B/ea,M[2]-aa*B/ea,M[3],M[0],M[3]-C*B/ea)}else La=[M[0],M[1],M[2],M[1],M[2],M[3],M[0],M[3]];ba(La,La,2);ea=[];M=[];for(let aa=0,C=La.length;aa<C;aa+=2)ea.push(La[aa]),M.push(La[aa+1]);La=Math.min.apply(null,ea);ba=Math.min.apply(null,M);ea=Math.max.apply(null,ea);M=Math.max.apply(null,
M);return q(La,ba,ea,M,W)};A.wrapX=T;A.wrapAndSliceX=function(M,ba){if(ba.canWrapX()){const W=ba.getExtent();if(!isFinite(M[0])||!isFinite(M[2]))return[[W[0],M[1],W[2],M[3]]];T(M,ba);ba=r(W);if(r(M)>ba)return[[W[0],M[1],W[2],M[3]]];if(M[0]<W[0])return[[M[0]+ba,M[1],W[2],M[3]],[W[0],M[1],M[2],M[3]]];if(M[2]>W[2])return[[M[0],M[1],W[2],M[3]],[W[0],M[1],M[2]-ba,M[3]]]}return[M]};var R=function(M){return M&&M.__esModule?M:{default:M}}(L(83)),ca=L(81)};
shadow$provide[85]=function(Ka,L,sb,A){function w(p,q,t,m){p=t-p;q=m-q;return p*p+q*q}function k(p,q){q=Math.pow(10,q);return Math.round(p*q)/q}Object.defineProperty(A,"__esModule",{value:!0});A.clamp=function(p,q,t){return Math.min(Math.max(p,q),t)};A.squaredSegmentDistance=function(p,q,t,m,f,b){const c=f-t,e=b-m;if(0!==c||0!==e){const g=((p-t)*c+(q-m)*e)/(c*c+e*e);1<g?(t=f,m=b):0<g&&(t+=c*g,m+=e*g)}return w(p,q,t,m)};A.squaredDistance=w;A.solveLinearSystem=function(p){const q=p.length;for(var t=
0;t<q;t++){var m=t,f=Math.abs(p[t][t]);for(var b=t+1;b<q;b++){const c=Math.abs(p[b][t]);c>f&&(f=c,m=b)}if(0===f)return null;f=p[m];p[m]=p[t];p[t]=f;for(m=t+1;m<q;m++)for(f=-p[m][t]/p[t][t],b=t;b<q+1;b++)p[m][b]=t==b?0:p[m][b]+f*p[t][b]}t=Array(q);for(m=q-1;0<=m;m--)for(t[m]=p[m][q]/p[m][m],f=m-1;0<=f;f--)p[f][q]-=p[f][m]*t[m];return t};A.toDegrees=function(p){return 180*p/Math.PI};A.toRadians=function(p){return p*Math.PI/180};A.modulo=function(p,q){p%=q;return 0>p*q?p+q:p};A.lerp=function(p,q,t){return p+
t*(q-p)};A.toFixed=k;A.round=function(p,q){return Math.round(k(p,q))};A.floor=function(p,q){return Math.floor(k(p,q))};A.ceil=function(p,q){return Math.ceil(k(p,q))}};
shadow$provide[86]=function(Ka,L,sb,A){function w(c){const e=document.createElement("div");e.style.color=c;return""!==e.style.color?(document.body.appendChild(e),c=getComputedStyle(e).color,document.body.removeChild(e),c):""}function k(c){c[0]=(0,t.clamp)(c[0]+.5|0,0,255);c[1]=(0,t.clamp)(c[1]+.5|0,0,255);c[2]=(0,t.clamp)(c[2]+.5|0,0,255);c[3]=(0,t.clamp)(c[3],0,1);return c}function p(c){let e=c[0];e!=(e|0)&&(e=e+.5|0);let g=c[1];g!=(g|0)&&(g=g+.5|0);let n=c[2];n!=(n|0)&&(n=n+.5|0);return"rgba("+
e+","+g+","+n+","+(void 0===c[3]?1:Math.round(100*c[3])/100)+")"}Object.defineProperty(A,"__esModule",{value:!0});A.asString=function(c){return"string"===typeof c?c:p(c)};A.asArray=function(c){return Array.isArray(c)?c:b(c)};A.normalize=k;A.toString=p;A.isStringColor=function(c){f.test(c)&&(c=w(c));return m.test(c)||c.startsWith("rgba(")||c.startsWith("rgb(")};A.fromString=void 0;var q=L(81),t=L(85);const m=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,f=/^([a-z]*)$|^hsla?\(.*\)$/i,b=function(){const c=
{};let e=0;return function(g){if(c.hasOwnProperty(g))var n=c[g];else{if(1024<=e){n=0;for(var h in c)0===(n++&3)&&(delete c[h],--e)}n=g;let O,H;f.exec(n)&&(n=w(n));if(m.exec(n)){h=n.length-1;var x=4>=h?1:2;const F=4===h||8===h;h=parseInt(n.substr(1+0*x,x),16);O=parseInt(n.substr(1+1*x,x),16);H=parseInt(n.substr(1+2*x,x),16);n=F?parseInt(n.substr(1+3*x,x),16):255;1==x&&(h=(h<<4)+h,O=(O<<4)+O,H=(H<<4)+H,F&&(n=(n<<4)+n));x=[h,O,H,n/255]}else n.startsWith("rgba(")?(x=n.slice(5,-1).split(",").map(Number),
k(x)):n.startsWith("rgb(")?(x=n.slice(4,-1).split(",").map(Number),x.push(1),k(x)):(0,q.assert)(!1,14);n=x;c[g]=n;++e}return n}}();A.fromString=b};
shadow$provide[87]=function(Ka,L,sb,A){function w(q,t,m){m=m?(0,k.asString)(m):"null";return t+":"+q+":"+m}Object.defineProperty(A,"__esModule",{value:!0});A.shared=A.default=void 0;var k=L(86);class p{constructor(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}clear(){this.cache_={};this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let q=0;for(const t in this.cache_){const m=this.cache_[t];0!==(q++&3)||m.hasListener()||(delete this.cache_[t],
--this.cacheSize_)}}}get(q,t,m){q=w(q,t,m);return q in this.cache_?this.cache_[q]:null}set(q,t,m,f){q=w(q,t,m);this.cache_[q]=f;++this.cacheSize_}setSize(q){this.maxCacheSize_=q;this.expire()}}A.default=p;Ka=new p;A.shared=Ka};
shadow$provide[88]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}};
shadow$provide[89]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(76));var k=w(L(88)),p=L(75),q=L(81),t=L(85);class m extends Ka.default{constructor(f){super();this.background_=f.background;const b=Object.assign({},f);"object"===typeof f.properties&&(delete b.properties,Object.assign(b,f.properties));b[k.default.OPACITY]=void 0!==f.opacity?f.opacity:1;(0,q.assert)("number"===typeof b[k.default.OPACITY],
64);b[k.default.VISIBLE]=void 0!==f.visible?f.visible:!0;b[k.default.Z_INDEX]=f.zIndex;b[k.default.MAX_RESOLUTION]=void 0!==f.maxResolution?f.maxResolution:Infinity;b[k.default.MIN_RESOLUTION]=void 0!==f.minResolution?f.minResolution:0;b[k.default.MIN_ZOOM]=void 0!==f.minZoom?f.minZoom:-Infinity;b[k.default.MAX_ZOOM]=void 0!==f.maxZoom?f.maxZoom:Infinity;this.className_=void 0!==b.className?b.className:"ol-layer";delete b.className;this.setProperties(b);this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(f){f=
this.state_||{layer:this,managed:void 0===f?!0:f};const b=this.getZIndex();f.opacity=(0,t.clamp)(Math.round(100*this.getOpacity())/100,0,1);f.visible=this.getVisible();f.extent=this.getExtent();f.zIndex=void 0!==b||f.managed?b:Infinity;f.maxResolution=this.getMaxResolution();f.minResolution=Math.max(this.getMinResolution(),0);f.minZoom=this.getMinZoom();f.maxZoom=this.getMaxZoom();return this.state_=f}getLayersArray(f){return(0,p.abstract)()}getLayerStatesArray(f){return(0,p.abstract)()}getExtent(){return this.get(k.default.EXTENT)}getMaxResolution(){return this.get(k.default.MAX_RESOLUTION)}getMinResolution(){return this.get(k.default.MIN_RESOLUTION)}getMinZoom(){return this.get(k.default.MIN_ZOOM)}getMaxZoom(){return this.get(k.default.MAX_ZOOM)}getOpacity(){return this.get(k.default.OPACITY)}getSourceState(){return(0,p.abstract)()}getVisible(){return this.get(k.default.VISIBLE)}getZIndex(){return this.get(k.default.Z_INDEX)}setBackground(f){this.background_=
f;this.changed()}setExtent(f){this.set(k.default.EXTENT,f)}setMaxResolution(f){this.set(k.default.MAX_RESOLUTION,f)}setMinResolution(f){this.set(k.default.MIN_RESOLUTION,f)}setMaxZoom(f){this.set(k.default.MAX_ZOOM,f)}setMinZoom(f){this.set(k.default.MIN_ZOOM,f)}setOpacity(f){(0,q.assert)("number"===typeof f,64);this.set(k.default.OPACITY,f)}setVisible(f){this.set(k.default.VISIBLE,f)}setZIndex(f){this.set(k.default.Z_INDEX,f)}disposeInternal(){this.state_&&(this.state_=this.state_.layer=null);super.disposeInternal()}}
A.default=m};
shadow$provide[90]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[91]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.inView=function(b,c){if(!b.visible)return!1;const e=c.resolution;if(e<b.minResolution||e>=b.maxResolution)return!1;c=c.zoom;return c>b.minZoom&&c<=b.maxZoom};A.default=void 0;Ka=w(L(89));var k=w(L(72)),p=w(L(88)),q=w(L(90)),t=L(81),m=L(73);class f extends Ka.default{constructor(b){const c=Object.assign({},b);delete c.source;super(c);this.renderer_=this.sourceChangeKey_=
this.mapRenderKey_=this.mapPrecomposeKey_=null;this.rendered=!1;b.render&&(this.render=b.render);b.map&&this.setMap(b.map);this.addChangeListener(p.default.SOURCE,this.handleSourcePropertyChange_);this.setSource(b.source?b.source:null)}getLayersArray(b){b=b?b:[];b.push(this);return b}getLayerStatesArray(b){b=b?b:[];b.push(this.getLayerState());return b}getSource(){return this.get(p.default.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const b=this.getSource();return b?b.getState():
"undefined"}handleSourceChange_(){this.changed()}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,m.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);const b=this.getSource();b&&(this.sourceChangeKey_=(0,m.listen)(b,k.default.CHANGE,this.handleSourceChange_,this));this.changed()}getFeatures(b){return this.renderer_?this.renderer_.getFeatures(b):new Promise(c=>c([]))}getData(b){return this.renderer_&&this.rendered?this.renderer_.getData(b):null}render(b,c){const e=this.getRenderer();
if(e.prepareFrame(b))return this.rendered=!0,e.renderFrame(b,c)}unrender(){this.rendered=!1}setMapInternal(b){b||this.unrender();this.set(p.default.MAP,b)}getMapInternal(){return this.get(p.default.MAP)}setMap(b){this.mapPrecomposeKey_&&((0,m.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);b||this.changed();this.mapRenderKey_&&((0,m.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);b&&(this.mapPrecomposeKey_=(0,m.listen)(b,q.default.PRECOMPOSE,function(c){c=c.frameState.layerStatesArray;
const e=this.getLayerState(!1);(0,t.assert)(!c.some(function(g){return g.layer===e.layer}),67);c.push(e)},this),this.mapRenderKey_=(0,m.listen)(this,k.default.CHANGE,b.render,b),this.changed())}setSource(b){this.set(p.default.SOURCE,b)}getRenderer(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_);this.setSource(null);super.disposeInternal()}}
A.default=f};
shadow$provide[92]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.padNumber=function(w,k,p){w=void 0!==p?w.toFixed(p):""+w;p=w.indexOf(".");p=-1===p?w.length:p;return p>k?w:Array(1+k-p).join("0")+w};A.compareVersions=function(w,k){w=(""+w).split(".");k=(""+k).split(".");for(let p=0;p<Math.max(w.length,k.length);p++){const q=parseInt(w[p]||"0",10),t=parseInt(k[p]||"0",10);if(q>t)return 1;if(t>q)return-1}return 0}};
shadow$provide[93]=function(Ka,L,sb,A){function w(e,g){var n=e[0];e=e[1];var h=g[0],x=g[1];g=h[0];h=h[1];const O=x[0];x=x[1];const H=O-g,F=x-h;n=0===H&&0===F?0:(H*(n-g)+F*(e-h))/(H*H+F*F||0);0>=n?(e=g,n=h):1<=n?(e=O,n=x):(e=g+n*H,n=h+n*F);return[e,n]}function k(e,g,n){g=(0,b.modulo)(g+180,360)-180;var h=Math.abs(3600*g);n=n||0;var x=Math.floor(h/3600);let O=Math.floor((h-3600*x)/60);h=(0,b.toFixed)(h-3600*x-60*O,n);60<=h&&(h=0,O+=1);60<=O&&(O=0,x+=1);x+="";if(0!==O||0!==h)x+=" "+(0,c.padNumber)(O,
2)+"";0!==h&&(x+=" "+(0,c.padNumber)(h,2,n)+"");0!==g&&(x+=" "+e.charAt(0>g?1:0));return x}function p(e,g,n){return e?g.replace("{x}",e[0].toFixed(n)).replace("{y}",e[1].toFixed(n)):""}function q(e,g){const n=e[0]-g[0];e=e[1]-g[1];return n*n+e*e}function t(e,g){return p(e,"{x}, {y}",g)}function m(e,g,n){const h=g.getExtent();let x=0;g.canWrapX()&&(e[0]<h[0]||e[0]>h[2])&&(n=n||(0,f.getWidth)(h),x=Math.floor((e[0]-h[0])/n));return x}Object.defineProperty(A,"__esModule",{value:!0});A.add=function(e,
g){e[0]+=+g[0];e[1]+=+g[1];return e};A.closestOnCircle=function(e,g){const n=g.getRadius();var h=g.getCenter();g=h[0];h=h[1];let x=e[0]-g;e=e[1]-h;0===x&&0===e&&(x=1);const O=Math.sqrt(x*x+e*e);return[g+n*x/O,h+n*e/O]};A.closestOnSegment=w;A.createStringXY=function(e){return function(g){return t(g,e)}};A.degreesToStringHDMS=k;A.format=p;A.equals=function(e,g){let n=!0;for(let h=e.length-1;0<=h;--h)if(e[h]!=g[h]){n=!1;break}return n};A.rotate=function(e,g){const n=Math.cos(g);g=Math.sin(g);const h=
e[1]*n+e[0]*g;e[0]=e[0]*n-e[1]*g;e[1]=h;return e};A.scale=function(e,g){e[0]*=g;e[1]*=g;return e};A.squaredDistance=q;A.distance=function(e,g){return Math.sqrt(q(e,g))};A.squaredDistanceToSegment=function(e,g){return q(e,w(e,g))};A.toStringHDMS=function(e,g){return e?k("NS",e[1],g)+" "+k("EW",e[0],g):""};A.toStringXY=t;A.wrapX=function(e,g){if(g.canWrapX()){const n=(0,f.getWidth)(g.getExtent());(g=m(e,g,n))&&(e[0]-=g*n)}return e};A.getWorldsAway=m;var f=L(84),b=L(85),c=L(92)};
shadow$provide[94]=function(Ka,L,sb,A){function w(e,g){m.shared.expire()}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(e){return e&&e.__esModule?e:{default:e}}(L(67));var k=L(69),p=L(75),q=L(82),t=L(84),m=L(87),f=L(91),b=L(93);class c extends Ka.default{constructor(e){super();this.map_=e}dispatchRenderEvent(e,g){(0,p.abstract)()}calculateMatrices2D(e){const g=e.viewState,n=e.coordinateToPixelTransform,h=e.pixelToCoordinateTransform;(0,q.compose)(n,e.size[0]/2,e.size[1]/
2,1/g.resolution,-1/g.resolution,-g.rotation,-g.center[0],-g.center[1]);(0,q.makeInverse)(h,n)}forEachFeatureAtCoordinate(e,g,n,h,x,O,H,F){function J(ea,La,aa,C){return x.call(O,La,ea?aa:null,C)}let D;const r=g.viewState;var z=r.projection;const G=(0,b.wrapX)(e.slice(),z),T=[[0,0]];z.canWrapX()&&h&&(h=z.getExtent(),h=(0,t.getWidth)(h),T.push([-h,0],[h,0]));h=g.layerStatesArray;z=h.length;const R=[],ca=[];for(let ea=0;ea<T.length;ea++)for(let La=z-1;0<=La;--La){var M=h[La],ba=M.layer;if(ba.hasRenderer()&&
(0,f.inView)(M,r)&&H.call(F,ba)){const aa=ba.getRenderer();ba=ba.getSource();aa&&ba&&(ba=ba.getWrapX()?G:e,M=J.bind(null,M.managed),ca[0]=ba[0]+T[ea][0],ca[1]=ba[1]+T[ea][1],D=aa.forEachFeatureAtCoordinate(ca,g,n,M,R));if(D)return D}}if(0!==R.length){var W=1/R.length;R.forEach((ea,La)=>ea.distanceSq+=La*W);R.sort((ea,La)=>ea.distanceSq-La.distanceSq);R.some(ea=>D=ea.callback(ea.feature,ea.layer,ea.geometry));return D}}hasFeatureAtCoordinate(e,g,n,h,x,O){return void 0!==this.forEachFeatureAtCoordinate(e,
g,n,h,k.TRUE,this,x,O)}getMap(){return this.map_}renderFrame(e){(0,p.abstract)()}scheduleExpireIconCache(e){m.shared.canExpireCache()&&e.postRenderFunctions.push(w)}}A.default=c};
shadow$provide[95]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(65));class w extends Ka.default{constructor(k,p,q,t){super(k);this.inversePixelTransform=p;this.frameState=q;this.context=t}}A.default=w};
shadow$provide[96]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.getFontParameters=A.CLASS_COLLAPSED=A.CLASS_CONTROL=A.CLASS_UNSUPPORTED=A.CLASS_UNSELECTABLE=A.CLASS_SELECTABLE=A.CLASS_HIDDEN=void 0;A.CLASS_HIDDEN="ol-hidden";A.CLASS_SELECTABLE="ol-selectable";A.CLASS_UNSELECTABLE="ol-unselectable";A.CLASS_UNSUPPORTED="ol-unsupported";A.CLASS_CONTROL="ol-control";A.CLASS_COLLAPSED="ol-collapsed";const w=RegExp("^\\s*(?\x3d(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$",
"i"),k="style variant weight size lineHeight family".split(" ");A.getFontParameters=function(p){p=p.match(w);if(!p)return null;const q={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let t=0,m=k.length;t<m;++t){const f=p[t+1];void 0!==f&&(q[k[t]]=f)}q.families=q.family.split(/,\s?/);return q}};
shadow$provide[97]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createCanvasContext2D=function(k,p,q,t){q=q&&q.length?q.shift():w.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(k||300,p||300):document.createElement("canvas");k&&(q.width=k);p&&(q.height=p);return q.getContext("2d",t)};A.releaseCanvas=function(k){const p=k.canvas;p.width=1;p.height=1;k.clearRect(0,0,1,1)};A.outerWidth=function(k){let p=k.offsetWidth;k=getComputedStyle(k);return p+=parseInt(k.marginLeft,10)+parseInt(k.marginRight,
10)};A.outerHeight=function(k){let p=k.offsetHeight;k=getComputedStyle(k);return p+=parseInt(k.marginTop,10)+parseInt(k.marginBottom,10)};A.replaceNode=function(k,p){const q=p.parentNode;q&&q.replaceChild(k,p)};A.removeNode=function(k){return k&&k.parentNode?k.parentNode.removeChild(k):null};A.removeChildren=function(k){for(;k.lastChild;)k.removeChild(k.lastChild)};A.replaceChildren=function(k,p){const q=k.childNodes;for(let t=0;;++t){const m=q[t],f=p[t];if(!m&&!f)break;m!==f&&(m?f?k.insertBefore(f,
m):(k.removeChild(m),--t):k.appendChild(f))}};var w=L(80)};
shadow$provide[98]=function(Ka,L,sb,A){function w(n,h){b||(b=(0,t.createCanvasContext2D)(1,1));n!=c&&(b.font=n,c=b.font);return b.measureText(h)}function k(n,h){return w(n,h).width}Object.defineProperty(A,"__esModule",{value:!0});A.measureTextWidth=k;A.measureAndCacheTextWidth=function(n,h,x){if(h in x)return x[h];const O=h.split("\n").reduce((H,F)=>Math.max(H,k(n,F)),0);return x[h]=O};A.getTextDimensions=function(n,h){const x=[],O=[],H=[];let F=0,J=0,D=0,r=0;for(let T=0,R=h.length;T<=R;T+=2){var z=
h[T];if("\n"===z||T===R)F=Math.max(F,J),H.push(J),J=0,D+=r;else{var G=h[T+1]||n.font;z=k(G,z);x.push(z);J+=z;G=g(G);O.push(G);r=Math.max(r,G)}}return{width:F,height:D,widths:x,heights:O,lineWidths:H}};A.rotateAtOffset=function(n,h,x,O){0!==h&&(n.translate(x,O),n.rotate(h),n.translate(-x,-O))};A.drawImageOrLabel=function(n,h,x,O,H,F,J,D,r,z,G){n.save();1!==x&&(n.globalAlpha*=x);h&&n.setTransform.apply(n,h);if(O.contextInstructions){n.translate(r,z);n.scale(G[0],G[1]);h=O.contextInstructions;for(let T=
0,R=h.length;T<R;T+=2)Array.isArray(h[T+1])?n[h[T]].apply(n,h[T+1]):n[h[T]]=h[T+1]}else 0>G[0]||0>G[1]?(n.translate(r,z),n.scale(G[0],G[1]),n.drawImage(O,H,F,J,D,0,0,J,D)):n.drawImage(O,H,F,J,D,r,z,J*G[0],D*G[1]);n.restore()};A.measureTextHeight=A.registerFont=A.textHeights=A.checkedFonts=A.defaultLineWidth=A.defaultPadding=A.defaultTextBaseline=A.defaultTextAlign=A.defaultStrokeStyle=A.defaultMiterLimit=A.defaultLineJoin=A.defaultLineDashOffset=A.defaultLineDash=A.defaultLineCap=A.defaultFillStyle=
A.defaultFont=void 0;Ka=function(n){return n&&n.__esModule?n:{default:n}}(L(76));var p=L(80),q=L(70),t=L(97),m=L(96);A.defaultFont="10px sans-serif";A.defaultFillStyle="#000";A.defaultLineCap="round";A.defaultLineDash=[];A.defaultLineDashOffset=0;A.defaultLineJoin="round";A.defaultMiterLimit=10;A.defaultStrokeStyle="#000";A.defaultTextAlign="center";A.defaultTextBaseline="middle";A.defaultPadding=[0,0,0,0];A.defaultLineWidth=1;const f=new Ka.default;A.checkedFonts=f;let b=null,c;const e={};A.textHeights=
e;L=function(){function n(J,D,r){let z=!0;for(let T=0;T<O;++T){var G=x[T];F=k(J+" "+D+" 32px "+G,"wmytzilWMYTZIL@#/\x26?$%10");r!=G&&(G=k(J+" "+D+" 32px "+r+","+G,"wmytzilWMYTZIL@#/\x26?$%10"),z=z&&G!=F)}return z?!0:!1}function h(){let J=!0;const D=f.getKeys();for(let r=0,z=D.length;r<z;++r){const G=D[r];100>f.get(G)&&(n.apply(this,G.split("\n"))?((0,q.clear)(e),b=null,c=void 0,f.set(G,100)):(f.set(G,f.get(G)+1,!0),J=!1))}J&&(clearInterval(H),H=void 0)}const x=["monospace","serif"],O=x.length;let H,
F;return function(J){if(J=(0,m.getFontParameters)(J)){var D=J.families;for(let r=0,z=D.length;r<z;++r){const G=D[r],T=J.style+"\n"+J.weight+"\n"+G;void 0===f.get(T)&&(f.set(T,100,!0),n(J.style,J.weight,G)||(f.set(T,0,!0),void 0===H&&(H=setInterval(h,32))))}}}}();A.registerFont=L;const g=function(){let n;return function(h){var x=e[h];if(void 0==x){if(p.WORKER_OFFSCREEN_CANVAS){x=(0,m.getFontParameters)(h);const O=w(h,"g");x=(isNaN(Number(x.lineHeight))?1.2:Number(x.lineHeight))*(O.actualBoundingBoxAscent+
O.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=h,document.body.appendChild(n),x=n.offsetHeight,document.body.removeChild(n);e[h]=x}return x}}();A.measureTextHeight=g};
shadow$provide[99]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(94));var k=w(L(66)),p=w(L(95)),q=w(L(90)),t=L(96),m=L(98),f=L(91),b=L(73),c=L(97);class e extends Ka.default{constructor(g){super(g);this.fontChangeListenerKey_=(0,b.listen)(m.checkedFonts,k.default.PROPERTYCHANGE,g.redrawText.bind(g));this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute";n.width=
"100%";n.height="100%";n.zIndex="0";this.element_.className=t.CLASS_UNSELECTABLE+" ol-layers";g=g.getViewport();g.insertBefore(this.element_,g.firstChild||null);this.children_=[];this.renderedVisible_=!0}dispatchRenderEvent(g,n){const h=this.getMap();h.hasListener(g)&&(g=new p.default(g,void 0,n),h.dispatchEvent(g))}disposeInternal(){(0,b.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);super.disposeInternal()}renderFrame(g){if(g){this.calculateMatrices2D(g);
this.dispatchRenderEvent(q.default.PRECOMPOSE,g);var n=g.layerStatesArray.sort(function(F,J){return F.zIndex-J.zIndex}),h=g.viewState;this.children_.length=0;var x=[],O=null;for(let F=0,J=n.length;F<J;++F){var H=n[F];g.layerIndex=F;const D=H.layer,r=D.getSourceState();if(!(0,f.inView)(H,h)||"ready"!=r&&"undefined"!=r)D.unrender();else if(H=D.render(g,O))H!==O&&(this.children_.push(H),O=H),"getDeclutter"in D&&x.push(D)}for(n=x.length-1;0<=n;--n)x[n].renderDeclutter(g);(0,c.replaceChildren)(this.element_,
this.children_);this.dispatchRenderEvent(q.default.POSTCOMPOSE,g);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(g)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}}A.default=e};
shadow$provide[100]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.GroupEvent=void 0;Ka=w(L(89));var k=w(L(79)),p=w(L(78));sb=w(L(65));var q=w(L(72)),t=w(L(66)),m=L(81),f=L(70),b=L(84),c=L(75),e=L(73);class g extends sb.default{constructor(h,x){super(h);this.layer=x}}A.GroupEvent=g;class n extends Ka.default{constructor(h){h=h||{};const x=Object.assign({},h);delete x.layers;h=h.layers;super(x);this.layersListenerKeys_=
[];this.listenerKeys_={};this.addChangeListener("layers",this.handleLayersChanged_);h?Array.isArray(h)?h=new k.default(h.slice(),{unique:!0}):(0,m.assert)("function"===typeof h.getArray,43):h=new k.default(void 0,{unique:!0});this.setLayers(h)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(e.unlistenByKey);this.layersListenerKeys_.length=0;var h=this.getLayers();this.layersListenerKeys_.push((0,e.listen)(h,p.default.ADD,this.handleLayersAdd_,this),(0,e.listen)(h,
p.default.REMOVE,this.handleLayersRemove_,this));for(var x in this.listenerKeys_)this.listenerKeys_[x].forEach(e.unlistenByKey);(0,f.clear)(this.listenerKeys_);h=h.getArray();for(let O=0,H=h.length;O<H;O++)x=h[O],this.registerLayerListeners_(x),this.dispatchEvent(new g("addlayer",x));this.changed()}registerLayerListeners_(h){const x=[(0,e.listen)(h,t.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,e.listen)(h,q.default.CHANGE,this.handleLayerChange_,this)];h instanceof n&&x.push((0,e.listen)(h,
"addlayer",this.handleLayerGroupAdd_,this),(0,e.listen)(h,"removelayer",this.handleLayerGroupRemove_,this));this.listenerKeys_[(0,c.getUid)(h)]=x}handleLayerGroupAdd_(h){this.dispatchEvent(new g("addlayer",h.layer))}handleLayerGroupRemove_(h){this.dispatchEvent(new g("removelayer",h.layer))}handleLayersAdd_(h){h=h.element;this.registerLayerListeners_(h);this.dispatchEvent(new g("addlayer",h));this.changed()}handleLayersRemove_(h){h=h.element;const x=(0,c.getUid)(h);this.listenerKeys_[x].forEach(e.unlistenByKey);
delete this.listenerKeys_[x];this.dispatchEvent(new g("removelayer",h));this.changed()}getLayers(){return this.get("layers")}setLayers(h){var x=this.getLayers();if(x){x=x.getArray();for(let O=0,H=x.length;O<H;++O)this.dispatchEvent(new g("removelayer",x[O]))}this.set("layers",h)}getLayersArray(h){h=void 0!==h?h:[];this.getLayers().forEach(function(x){x.getLayersArray(h)});return h}getLayerStatesArray(h){const x=void 0!==h?h:[],O=x.length;this.getLayers().forEach(function(J){J.getLayerStatesArray(x)});
const H=this.getLayerState();let F=H.zIndex;h||void 0!==H.zIndex||(F=0);for(let J=O,D=x.length;J<D;J++)h=x[J],h.opacity*=H.opacity,h.visible=h.visible&&H.visible,h.maxResolution=Math.min(h.maxResolution,H.maxResolution),h.minResolution=Math.max(h.minResolution,H.minResolution),h.minZoom=Math.max(h.minZoom,H.minZoom),h.maxZoom=Math.min(h.maxZoom,H.maxZoom),void 0!==H.extent&&(h.extent=void 0!==h.extent?(0,b.getIntersection)(h.extent,H.extent):H.extent),void 0===h.zIndex&&(h.zIndex=F);return x}getSourceState(){return"ready"}}
A.default=n};
shadow$provide[101]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(65));class w extends Ka.default{constructor(k,p,q){super(k);this.map=p;this.frameState=void 0!==q?q:null}}A.default=w};
shadow$provide[102]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(101));class w extends Ka.default{constructor(k,p,q,t,m,f){super(k,p,m);this.originalEvent=q;this.coordinate_=this.pixel_=null;this.dragging=void 0!==t?t:!1;this.activePointers=f}get pixel(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_}set pixel(k){this.pixel_=k}get coordinate(){this.coordinate_||
(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));return this.coordinate_}set coordinate(k){this.coordinate_=k}preventDefault(){super.preventDefault();"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation();"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}A.default=w};
shadow$provide[103]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=(Ka=L(72))&&Ka.__esModule?Ka:{default:Ka};A.default={SINGLECLICK:"singleclick",CLICK:Ka.default.CLICK,DBLCLICK:Ka.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[104]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[105]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(72)),p=w(L(102)),q=w(L(103)),t=w(L(104));Ka=w(L(71));var m=L(80),f=L(69),b=L(73);class c extends Ka.default{constructor(e,g){super(e);this.map_=e;this.dragging_=this.emulateClicks_=!1;this.dragListenerKeys_=[];this.moveTolerance_=void 0===g?1:g;this.down_=null;e=this.map_.getViewport();this.activePointers_=[];this.trackedTouches_={};
this.element_=e;this.pointerdownListenerKey_=(0,b.listen)(e,t.default.POINTERDOWN,this.handlePointerDown_,this);this.relayedListenerKey_=(0,b.listen)(e,t.default.POINTERMOVE,this.relayMoveEvent_,this);this.boundHandleTouchMove_=this.handleTouchMove_.bind(this);this.element_.addEventListener(k.default.TOUCHMOVE,this.boundHandleTouchMove_,m.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1)}emulateClick_(e){let g=new p.default(q.default.CLICK,this.map_,e);this.dispatchEvent(g);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),
this.clickTimeoutId_=void 0,g=new p.default(q.default.DBLCLICK,this.map_,e),this.dispatchEvent(g)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;const n=new p.default(q.default.SINGLECLICK,this.map_,e);this.dispatchEvent(n)}.bind(this),250)}updateActivePointers_(e){const g=e.pointerId;if(e.type==q.default.POINTERUP||e.type==q.default.POINTERCANCEL){delete this.trackedTouches_[g];for(const n in this.trackedTouches_)if(this.trackedTouches_[n].target!==e.target){delete this.trackedTouches_[n];
break}}else if(e.type==q.default.POINTERDOWN||e.type==q.default.POINTERMOVE)this.trackedTouches_[g]=e;this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const g=new p.default(q.default.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(g);this.emulateClicks_&&!g.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_);0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(b.unlistenByKey),
this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length;this.updateActivePointers_(e);var g=new p.default(q.default.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(g);this.down_={};for(const n in e)g=e[n],this.down_[n]="function"===typeof g?f.VOID:g;0===this.dragListenerKeys_.length&&(e=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,b.listen)(e,
q.default.POINTERMOVE,this.handlePointerMove_,this),(0,b.listen)(e,q.default.POINTERUP,this.handlePointerUp_,this),(0,b.listen)(this.element_,q.default.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push((0,b.listen)(this.element_.getRootNode(),q.default.POINTERUP,this.handlePointerUp_,this)))}handlePointerMove_(e){this.isMoving_(e)&&(this.updateActivePointers_(e),this.dragging_=!0,e=new p.default(q.default.POINTERDRAG,
this.map_,e,this.dragging_,void 0,this.activePointers_),this.dispatchEvent(e))}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const g=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new p.default(q.default.POINTERMOVE,this.map_,e,g))}handleTouchMove_(e){const g=this.originalPointerMoveEvent_;g&&!g.defaultPrevented||"boolean"===typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-
this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,b.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(k.default.TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&((0,b.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(b.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;super.disposeInternal()}}A.default=c};
shadow$provide[106]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}};
shadow$provide[107]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[108]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=A.DROP=void 0;var w=L(81),k=L(70);A.DROP=Infinity;class p{constructor(q,t){this.priorityFunction_=q;this.keyFunction_=t;this.elements_=[];this.priorities_=[];this.queuedElements_={}}clear(){this.elements_.length=0;this.priorities_.length=0;(0,k.clear)(this.queuedElements_)}dequeue(){var q=this.elements_;const t=this.priorities_,m=q[0];1==q.length?(q.length=0,t.length=0):(q[0]=q.pop(),t[0]=t.pop(),this.siftUp_(0));
q=this.keyFunction_(m);delete this.queuedElements_[q];return m}enqueue(q){(0,w.assert)(!(this.keyFunction_(q)in this.queuedElements_),31);const t=this.priorityFunction_(q);return Infinity!=t?(this.elements_.push(q),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(q)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(q){return 2*q+1}getRightChildIndex_(q){return 2*q+2}getParentIndex_(q){return q-1>>1}heapify_(){let q;for(q=
(this.elements_.length>>1)-1;0<=q;q--)this.siftUp_(q)}isEmpty(){return 0===this.elements_.length}isKeyQueued(q){return q in this.queuedElements_}isQueued(q){return this.isKeyQueued(this.keyFunction_(q))}siftUp_(q){const t=this.elements_,m=this.priorities_,f=t.length,b=t[q],c=m[q],e=q;for(;q<f>>1;){var g=this.getLeftChildIndex_(q);const n=this.getRightChildIndex_(q);g=n<f&&m[n]<m[g]?n:g;t[q]=t[g];m[q]=m[g];q=g}t[q]=b;m[q]=c;this.siftDown_(e,q)}siftDown_(q,t){const m=this.elements_,f=this.priorities_,
b=m[t],c=f[t];for(;t>q;){const e=this.getParentIndex_(t);if(f[e]>c)m[t]=m[e],f[t]=f[e],t=e;else break}m[t]=b;f[t]=c}reprioritize(){const q=this.priorityFunction_,t=this.elements_,m=this.priorities_;let f=0;const b=t.length;let c,e,g;for(e=0;e<b;++e)c=t[e],g=q(c),Infinity==g?delete this.queuedElements_[this.keyFunction_(c)]:(m[f]=g,t[f++]=c);t.length=f;m.length=f;this.heapify_()}}A.default=p};
shadow$provide[109]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[110]=function(Ka,L,sb,A){function w(f){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(w=function(e){return e?c:b})(f)}function k(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.getTilePriority=function(f,b,c,e,g){if(!(f&&c in f.wantedTiles&&f.wantedTiles[c][b.getKey()]))return q.DROP;b=f.viewState.center;f=e[0]-b[0];e=e[1]-b[1];return 65536*Math.log(g)+Math.sqrt(f*f+e*e)/g};A.default=void 0;var p=k(L(72)),
q=function(f,b){if(!b&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((b=w(b))&&b.has(f))return b.get(f);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in f)if("default"!==g&&Object.prototype.hasOwnProperty.call(f,g)){var n=e?Object.getOwnPropertyDescriptor(f,g):null;n&&(n.get||n.set)?Object.defineProperty(c,g,n):c[g]=f[g]}c.default=f;b&&b.set(f,c);return c}(L(108)),t=k(L(109));class m extends q.default{constructor(f,
b){super(function(c){return f.apply(null,c)},function(c){return c[0].getKey()});this.boundHandleTileChange_=this.handleTileChange.bind(this);this.tileChangeCallback_=b;this.tilesLoading_=0;this.tilesLoadingKeys_={}}enqueue(f){const b=super.enqueue(f);b&&f[0].addEventListener(p.default.CHANGE,this.boundHandleTileChange_);return b}getTilesLoading(){return this.tilesLoading_}handleTileChange(f){f=f.target;const b=f.getState();if(b===t.default.LOADED||b===t.default.ERROR||b===t.default.EMPTY)b!==t.default.ERROR&&
f.removeEventListener(p.default.CHANGE,this.boundHandleTileChange_),f=f.getKey(),f in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[f],--this.tilesLoading_),this.tileChangeCallback_()}loadMoreTiles(f,b){let c=0,e,g,n;for(;this.tilesLoading_<f&&c<b&&0<this.getCount();)g=this.dequeue()[0],n=g.getKey(),e=g.getState(),e!==t.default.IDLE||n in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[n]=!0,++this.tilesLoading_,++c,g.load())}}A.default=m};
shadow$provide[111]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={ANIMATING:0,INTERACTING:1}};
shadow$provide[112]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[113]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.DEFAULT_MAX_ZOOM=42;A.DEFAULT_TILE_SIZE=256};
shadow$provide[114]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.fromCode=function(k){return w[k]};A.METERS_PER_UNIT=void 0;const w={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};A.METERS_PER_UNIT={radians:6370997/(2*Math.PI),degrees:12741994*Math.PI/360,ft:.3048,m:1,"us-ft":1200/3937}};
shadow$provide[115]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(114);class k{constructor(p){this.code_=p.code;this.units_=p.units;this.extent_=void 0!==p.extent?p.extent:null;this.worldExtent_=void 0!==p.worldExtent?p.worldExtent:null;this.axisOrientation_=void 0!==p.axisOrientation?p.axisOrientation:"enu";this.global_=void 0!==p.global?p.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=p.getPointResolution;this.defaultTileGrid_=
null;this.metersPerUnit_=p.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||w.METERS_PER_UNIT[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(p){this.global_=p;this.canWrapX_=!(!p||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(p){this.defaultTileGrid_=
p}setExtent(p){this.extent_=p;this.canWrapX_=!(!this.global_||!p)}setWorldExtent(p){this.worldExtent_=p}setGetPointResolution(p){this.getPointResolutionFunc_=p}getPointResolutionFunc(){return this.getPointResolutionFunc_}}A.default=k};
shadow$provide[116]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.fromEPSG4326=function(m,f,b){const c=m.length;b=1<b?b:2;void 0===f&&(f=2<b?m.slice():Array(c));for(let e=0;e<c;e+=b){f[e]=w*m[e]/180;let g=6378137*Math.log(Math.tan(Math.PI*(+m[e+1]+90)/360));g>q?g=q:g<-q&&(g=-q);f[e+1]=g}return f};A.toEPSG4326=function(m,f,b){const c=m.length;b=1<b?b:2;void 0===f&&(f=2<b?m.slice():Array(c));for(let e=0;e<c;e+=b)f[e]=180*m[e]/w,f[e+1]=360*Math.atan(Math.exp(m[e+1]/6378137))/
Math.PI-90;return f};A.PROJECTIONS=A.MAX_SAFE_Y=A.WORLD_EXTENT=A.EXTENT=A.HALF_SIZE=A.RADIUS=void 0;Ka=function(m){return m&&m.__esModule?m:{default:m}}(L(115));A.RADIUS=6378137;const w=6378137*Math.PI;A.HALF_SIZE=w;const k=[-w,-w,w,w];A.EXTENT=k;const p=[-180,-85,180,85];A.WORLD_EXTENT=p;const q=6378137*Math.log(Math.tan(Math.PI/2));A.MAX_SAFE_Y=q;class t extends Ka.default{constructor(m){super({code:m,units:"m",extent:k,global:!0,worldExtent:p,getPointResolution:function(f,b){return f/Math.cosh(b[1]/
6378137)}})}}Ka=[new t("EPSG:3857"),new t("EPSG:102100"),new t("EPSG:102113"),new t("EPSG:900913"),new t("http://www.opengis.net/def/crs/EPSG/0/3857"),new t("http://www.opengis.net/gml/srs/epsg.xml#3857")];A.PROJECTIONS=Ka};
shadow$provide[117]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.PROJECTIONS=A.METERS_PER_UNIT=A.EXTENT=A.RADIUS=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(115));A.RADIUS=6378137;const w=[-180,-90,180,90];A.EXTENT=w;const k=6378137*Math.PI/180;A.METERS_PER_UNIT=k;class p extends Ka.default{constructor(q,t){super({code:q,units:"degrees",extent:w,axisOrientation:t,global:!0,metersPerUnit:k,worldExtent:w})}}Ka=[new p("CRS:84"),new p("EPSG:4326","neu"),new p("urn:ogc:def:crs:OGC:1.3:CRS84"),
new p("urn:ogc:def:crs:OGC:2:84"),new p("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new p("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new p("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];A.PROJECTIONS=Ka};
shadow$provide[118]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.clear=function(){w={}};A.get=function(k){return w[k]||w[k.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};A.add=function(k,p){w[k]=p};let w={}};
shadow$provide[119]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.clear=function(){k={}};A.add=function(p,q,t){p=p.getCode();q=q.getCode();p in k||(k[p]={});k[p][q]=t};A.remove=function(p,q){p=p.getCode();q=q.getCode();const t=k[p][q];delete k[p][q];(0,w.isEmpty)(k[p])&&delete k[p];return t};A.get=function(p,q){let t;p in k&&q in k[p]&&(t=k[p][q]);return t};var w=L(70);let k={}};
shadow$provide[120]=function(Ka,L,sb,A){function w(f,b,c){c=c||6371008.8;var e=(0,m.toRadians)(f[1]);const g=(0,m.toRadians)(b[1]),n=(g-e)/2;f=(0,m.toRadians)(b[0]-f[0])/2;e=Math.sin(n)*Math.sin(n)+Math.sin(f)*Math.sin(f)*Math.cos(e)*Math.cos(g);return 2*c*Math.atan2(Math.sqrt(e),Math.sqrt(1-e))}function k(f,b){let c=0;for(let e=0,g=f.length;e<g-1;++e)c+=w(f[e],f[e+1],b);return c}function p(f,b){b=b||{};var c=b.radius||6371008.8,e=b.projection||"EPSG:3857",g=f.getType();"GeometryCollection"!==g&&
(f=f.clone().transform(e,"EPSG:4326"));e=0;let n,h,x;switch(g){case "Point":case "MultiPoint":break;case "LineString":case "LinearRing":b=f.getCoordinates();e=k(b,c);break;case "MultiLineString":case "Polygon":b=f.getCoordinates();f=0;for(g=b.length;f<g;++f)e+=k(b[f],c);break;case "MultiPolygon":b=f.getCoordinates();f=0;for(g=b.length;f<g;++f)for(n=b[f],h=0,x=n.length;h<x;++h)e+=k(n[h],c);break;case "GeometryCollection":c=f.getGeometries();f=0;for(g=c.length;f<g;++f)e+=p(c[f],b);break;default:throw Error("Unsupported geometry type: "+
g);}return e}function q(f,b){let c=0;const e=f.length;let g=f[e-1][0],n=f[e-1][1];for(let h=0;h<e;h++){const x=f[h][0],O=f[h][1];c+=(0,m.toRadians)(x-g)*(2+Math.sin((0,m.toRadians)(n))+Math.sin((0,m.toRadians)(O)));g=x;n=O}return c*b*b/2}function t(f,b){b=b||{};var c=b.radius||6371008.8,e=b.projection||"EPSG:3857",g=f.getType();"GeometryCollection"!==g&&(f=f.clone().transform(e,"EPSG:4326"));e=0;let n,h,x;switch(g){case "Point":case "MultiPoint":case "LineString":case "MultiLineString":case "LinearRing":break;
case "Polygon":b=f.getCoordinates();e=Math.abs(q(b[0],c));f=1;for(g=b.length;f<g;++f)e-=Math.abs(q(b[f],c));break;case "MultiPolygon":b=f.getCoordinates();f=0;for(g=b.length;f<g;++f)for(n=b[f],e+=Math.abs(q(n[0],c)),h=1,x=n.length;h<x;++h)e-=Math.abs(q(n[h],c));break;case "GeometryCollection":c=f.getGeometries();f=0;for(g=c.length;f<g;++f)e+=t(c[f],b);break;default:throw Error("Unsupported geometry type: "+g);}return e}Object.defineProperty(A,"__esModule",{value:!0});A.getDistance=w;A.getLength=p;
A.getArea=t;A.offset=function(f,b,c,e){e=e||6371008.8;const g=(0,m.toRadians)(f[1]);f=(0,m.toRadians)(f[0]);b/=e;e=Math.asin(Math.sin(g)*Math.cos(b)+Math.cos(g)*Math.sin(b)*Math.cos(c));return[(0,m.toDegrees)(f+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(g),Math.cos(b)-Math.sin(g)*Math.sin(e))),(0,m.toDegrees)(e)]};A.DEFAULT_RADIUS=void 0;var m=L(85);A.DEFAULT_RADIUS=6371008.8};
shadow$provide[121]=function(Ka,L,sb,A){function w(W){M=!(void 0===W||W)}function k(W,ea,La){if(void 0!==ea)for(let aa=0,C=W.length;aa<C;++aa)ea[aa]=W[aa];else ea=W.slice();return ea}function p(W,ea,La){if(void 0!==ea&&W!==ea){for(let aa=0,C=W.length;aa<C;++aa)ea[aa]=W[aa];W=ea}return W}function q(W){(0,r.add)(W.getCode(),W);(0,z.add)(W,W,k)}function t(W){W.forEach(q)}function m(W){return"string"===typeof W?(0,r.get)(W):W||null}function f(W){t(W);W.forEach(function(ea){W.forEach(function(La){ea!==
La&&(0,z.add)(ea,La,k)})})}function b(W,ea,La,aa){W.forEach(function(C){ea.forEach(function(B){(0,z.add)(C,B,La);(0,z.add)(B,C,aa)})})}function c(W){return function(ea,La,aa){const C=ea.length;aa=void 0!==aa?aa:2;La=void 0!==La?La:Array(C);for(let B=0;B<C;B+=aa){const N=W(ea.slice(B,B+aa)),Y=N.length;for(let Aa=0,sa=aa;Aa<sa;++Aa)La[B+Aa]=Aa>=Y?ea[B+Aa]:N[Aa]}return La}}function e(W,ea){W=W.getCode();ea=ea.getCode();(ea=(0,z.get)(W,ea))||(ea=p);return ea}function g(W,ea){W=m(W);ea=m(ea);return e(W,
ea)}function n(W,ea,La){return g(ea,La)(W,void 0,W.length)}function h(W,ea,La,aa){ea=g(ea,La);return(0,G.applyTransform)(W,ea,void 0,aa)}function x(W){ba=m(W)}function O(){f(F.PROJECTIONS);f(J.PROJECTIONS);b(J.PROJECTIONS,F.PROJECTIONS,F.fromEPSG4326,F.toEPSG4326)}Object.defineProperty(A,"__esModule",{value:!0});A.disableCoordinateWarning=w;A.cloneTransform=k;A.identityTransform=p;A.addProjection=q;A.addProjections=t;A.get=m;A.getPointResolution=function(W,ea,La,aa){W=m(W);var C=W.getPointResolutionFunc();
if(C)ea=C(ea,La),aa&&aa!==W.getUnits()&&(W=W.getMetersPerUnit())&&(ea=ea*W/D.METERS_PER_UNIT[aa]);else{const B=W.getUnits();"degrees"==B&&!aa||"degrees"==aa||(C=e(W,m("EPSG:4326")),C===p&&"degrees"!==B?ea*=W.getMetersPerUnit():(ea=[La[0]-ea/2,La[1],La[0]+ea/2,La[1],La[0],La[1]-ea/2,La[0],La[1]+ea/2],ea=C(ea,ea,2),La=(0,ca.getDistance)(ea.slice(0,2),ea.slice(2,4)),ea=(0,ca.getDistance)(ea.slice(4,6),ea.slice(6,8)),ea=(La+ea)/2),aa=aa?D.METERS_PER_UNIT[aa]:W.getMetersPerUnit(),void 0!==aa&&(ea/=aa))}return ea};
A.addEquivalentProjections=f;A.addEquivalentTransforms=b;A.clearAllProjections=function(){(0,r.clear)();(0,z.clear)()};A.createProjection=function(W,ea){return W?"string"===typeof W?m(W):W:m(ea)};A.createTransformFromCoordinateTransform=c;A.addCoordinateTransforms=function(W,ea,La,aa){W=m(W);ea=m(ea);(0,z.add)(W,ea,c(La));(0,z.add)(ea,W,c(aa))};A.fromLonLat=function(W,ea){w();return n(W,"EPSG:4326",void 0!==ea?ea:"EPSG:3857")};A.toLonLat=function(W,ea){W=n(W,void 0!==ea?ea:"EPSG:3857","EPSG:4326");
ea=W[0];if(-180>ea||180<ea)W[0]=(0,T.modulo)(ea+180,360)-180;return W};A.equivalent=function(W,ea){if(W===ea)return!0;const La=W.getUnits()===ea.getUnits();return W.getCode()===ea.getCode()?La:e(W,ea)===k&&La};A.getTransformFromProjections=e;A.getTransform=g;A.transform=n;A.transformExtent=h;A.transformWithProjections=function(W,ea,La){return e(ea,La)(W)};A.setUserProjection=x;A.clearUserProjection=function(){ba=null};A.getUserProjection=function(){return ba};A.useGeographic=function(){x("EPSG:4326")};
A.toUserCoordinate=function(W,ea){return ba?n(W,ea,ba):W};A.fromUserCoordinate=function(W,ea){return ba?n(W,ba,ea):(M&&!(0,R.equals)(W,[0,0])&&-180<=W[0]&&180>=W[0]&&-90<=W[1]&&90>=W[1]&&(M=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),W)};A.toUserExtent=function(W,ea){return ba?h(W,ea,ba):W};A.fromUserExtent=function(W,ea){return ba?h(W,ba,ea):W};A.toUserResolution=function(W,ea){if(!ba)return W;ea=m(ea).getUnits();const La=ba.getUnits();
return ea&&La?W*D.METERS_PER_UNIT[ea]/D.METERS_PER_UNIT[La]:W};A.fromUserResolution=function(W,ea){if(!ba)return W;ea=m(ea).getUnits();const La=ba.getUnits();return ea&&La?W*D.METERS_PER_UNIT[La]/D.METERS_PER_UNIT[ea]:W};A.createSafeCoordinateTransform=function(W,ea,La){return function(aa){let C;if(W.canWrapX()){const B=W.getExtent(),N=(0,G.getWidth)(B);aa=aa.slice(0);(C=(0,R.getWorldsAway)(aa,W,N))&&(aa[0]-=C*N);aa[0]=(0,T.clamp)(aa[0],B[0],B[2]);aa[1]=(0,T.clamp)(aa[1],B[1],B[3])}aa=La(aa);C&&ea.canWrapX()&&
(aa[0]+=C*(0,G.getWidth)(ea.getExtent()));return aa}};A.addCommon=O;Object.defineProperty(A,"Projection",{enumerable:!0,get:function(){return H.default}});Object.defineProperty(A,"METERS_PER_UNIT",{enumerable:!0,get:function(){return D.METERS_PER_UNIT}});var H=function(W){return W&&W.__esModule?W:{default:W}}(L(115)),F=L(116),J=L(117),D=L(114),r=L(118),z=L(119),G=L(84),T=L(85),R=L(93),ca=L(120);let M=!0,ba=null;O()};
shadow$provide[122]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createExtent=function(k,p,q){return function(t,m,f,b,c){if(t){if(!m&&!p)return t;var e=p?0:f[0]*m,g=p?0:f[1]*m;f=c?c[0]:0;var n=c?c[1]:0;c=k[0]+e/2+f;e=k[2]-e/2+f;f=k[1]+g/2+n;g=k[3]-g/2+n;c>e&&(e=c=(e+c)/2);f>g&&(g=f=(g+f)/2);n=(0,w.clamp)(t[0],c,e);var h=(0,w.clamp)(t[1],f,g);b&&q&&m&&(m*=30,n+=-m*Math.log(1+Math.max(0,c-t[0])/m)+m*Math.log(1+Math.max(0,t[0]-e)/m),h+=-m*Math.log(1+Math.max(0,f-t[1])/m)+m*
Math.log(1+Math.max(0,t[1]-g)/m));return[n,h]}}};A.none=function(k){return k};var w=L(85)};
shadow$provide[123]=function(Ka,L,sb,A){function w(m,f,b,c){const e=(0,q.getWidth)(f)/b[0];f=(0,q.getHeight)(f)/b[1];return c?Math.min(m,Math.max(e,f)):Math.min(m,Math.min(e,f))}function k(m,f,b){let c=Math.min(m,f);c*=Math.log(1+50*Math.max(0,m/f-1))/50+1;b&&(c=Math.max(c,b),c/=Math.log(1+50*Math.max(0,b/m-1))/50+1);return(0,p.clamp)(c,b/2,2*f)}Object.defineProperty(A,"__esModule",{value:!0});A.createSnapToResolutions=function(m,f,b,c){f=void 0!==f?f:!0;return function(e,g,n,h){if(void 0!==e){const x=
m[0],O=m[m.length-1];n=b?w(x,b,n,c):x;if(h)return f?k(e,n,O):(0,p.clamp)(e,O,n);e=Math.floor((0,t.linearFindNearest)(m,Math.min(n,e),g));return m[e]>n&&e<m.length-1?m[e+1]:m[e]}}};A.createSnapToPower=function(m,f,b,c,e,g){c=void 0!==c?c:!0;b=void 0!==b?b:0;return function(n,h,x,O){if(void 0!==n)return x=e?w(f,e,x,g):f,O?c?k(n,x,b):(0,p.clamp)(n,b,x):(0,p.clamp)(f/Math.pow(m,Math.max(Math.ceil(Math.log(f/x)/Math.log(m)-1E-9),Math.floor(Math.log(f/Math.min(x,n))/Math.log(m)+(-h*(.5-1E-9)+.5)))),b,x)}};
A.createMinMaxResolution=function(m,f,b,c,e){b=void 0!==b?b:!0;return function(g,n,h,x){if(void 0!==g)return n=c?w(m,c,h,e):m,b&&x?k(g,n,f):(0,p.clamp)(g,f,n)}};var p=L(85),q=L(84),t=L(68)};
shadow$provide[124]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.disable=function(k){if(void 0!==k)return 0};A.none=function(k){if(void 0!==k)return k};A.createSnapToN=function(k){const p=2*Math.PI/k;return function(q,t){if(t)return q;if(void 0!==q)return q=Math.floor(q/p+.5)*p}};A.createSnapToZero=function(k){k=k||(0,w.toRadians)(5);return function(p,q){if(q)return p;if(void 0!==p)return Math.abs(p)<=k?0:p}};var w=L(85)};
shadow$provide[125]=function(Ka,L,sb,A){function w(p){return Math.pow(p,3)}function k(p){return 3*p*p-2*p*p*p}Object.defineProperty(A,"__esModule",{value:!0});A.easeIn=w;A.easeOut=function(p){return 1-w(1-p)};A.inAndOut=k;A.linear=function(p){return p};A.upAndDown=function(p){return.5>p?k(2*p):1-k(2*(p-.5))}};
shadow$provide[126]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.transform2D=function(w,k,p,q,t,m){m=m?m:[];let f=0;for(;k<p;k+=q){const b=w[k],c=w[k+1];m[f++]=t[0]*b+t[2]*c+t[4];m[f++]=t[1]*b+t[3]*c+t[5]}m&&m.length!=f&&(m.length=f);return m};A.rotate=function(w,k,p,q,t,m,f){f=f?f:[];const b=Math.cos(t);t=Math.sin(t);const c=m[0];m=m[1];let e=0;for(;k<p;k+=q){var g=w[k]-c;const n=w[k+1]-m;f[e++]=c+g*b-n*t;f[e++]=m+g*t+n*b;for(g=k+2;g<k+q;++g)f[e++]=w[g]}f&&f.length!=e&&
(f.length=e);return f};A.scale=function(w,k,p,q,t,m,f,b){b=b?b:[];const c=f[0];f=f[1];let e=0;for(;k<p;k+=q){var g=w[k]-c;const n=w[k+1]-f;b[e++]=c+t*g;b[e++]=f+m*n;for(g=k+2;g<k+q;++g)b[e++]=w[g]}b&&b.length!=e&&(b.length=e);return b};A.translate=function(w,k,p,q,t,m,f){f=f?f:[];let b=0;for(;k<p;k+=q){f[b++]=w[k]+t;f[b++]=w[k+1]+m;for(let c=k+2;c<k+q;++c)f[b++]=w[c]}f&&f.length!=b&&(f.length=b);return f}};
shadow$provide[127]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(c){return c&&c.__esModule?c:{default:c}}(L(76));var w=L(75),k=L(82),p=L(84),q=L(121),t=L(69),m=L(126);const f=(0,k.create)();class b extends Ka.default{constructor(){super();this.extent_=(0,p.createEmpty)();this.extentRevision_=-1;this.simplifiedGeometryRevision=this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifyTransformedInternal=(0,t.memoizeOne)(function(c,e,g){if(!g)return this.getSimplifiedGeometry(e);
c=this.clone();c.applyTransform(g);return c.getSimplifiedGeometry(e)})}simplifyTransformed(c,e){return this.simplifyTransformedInternal(this.getRevision(),c,e)}clone(){return(0,w.abstract)()}closestPointXY(c,e,g,n){return(0,w.abstract)()}containsXY(c,e){const g=this.getClosestPoint([c,e]);return g[0]===c&&g[1]===e}getClosestPoint(c,e){e=e?e:[NaN,NaN];this.closestPointXY(c[0],c[1],e,Infinity);return e}intersectsCoordinate(c){return this.containsXY(c[0],c[1])}computeExtent(c){return(0,w.abstract)()}getExtent(c){if(this.extentRevision_!=
this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,p.createOrUpdateEmpty)(e);this.extentRevision_=this.getRevision()}return(0,p.returnOrUpdate)(this.extent_,c)}rotate(c,e){(0,w.abstract)()}scale(c,e,g){(0,w.abstract)()}simplify(c){return this.getSimplifiedGeometry(c*c)}getSimplifiedGeometry(c){return(0,w.abstract)()}getType(){return(0,w.abstract)()}applyTransform(c){(0,w.abstract)()}intersectsExtent(c){return(0,w.abstract)()}translate(c,e){(0,w.abstract)()}transform(c,
e){const g=(0,q.get)(c);c="tile-pixels"==g.getUnits()?function(n,h,x){var O=g.getExtent();const H=g.getWorldExtent();O=(0,p.getHeight)(H)/(0,p.getHeight)(O);(0,k.compose)(f,H[0],H[3],O,-O,0,0,0);(0,m.transform2D)(n,0,n.length,x,f,h);return(0,q.getTransform)(g,e)(n,h,x)}:(0,q.getTransform)(g,e);this.applyTransform(c);return this}}A.default=b};
shadow$provide[128]=function(Ka,L,sb,A){function w(m){let f;"XY"==m?f=2:"XYZ"==m||"XYM"==m?f=3:"XYZM"==m&&(f=4);return f}Object.defineProperty(A,"__esModule",{value:!0});A.getStrideForLayout=w;A.transformGeom2D=function(m,f,b){const c=m.getFlatCoordinates();return c?(m=m.getStride(),(0,q.transform2D)(c,0,c.length,m,f,b)):null};A.default=void 0;Ka=function(m){return m&&m.__esModule?m:{default:m}}(L(127));var k=L(75),p=L(84),q=L(126);class t extends Ka.default{constructor(){super();this.layout="XY";
this.stride=2;this.flatCoordinates=null}computeExtent(m){return(0,p.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,m)}getCoordinates(){return(0,k.abstract)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(m){this.simplifiedGeometryRevision!==
this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>m||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&m<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const f=this.getSimplifiedGeometryInternal(m);if(f.getFlatCoordinates().length<this.flatCoordinates.length)return f;this.simplifiedGeometryMaxMinSquaredTolerance=m;return this}getSimplifiedGeometryInternal(m){return this}getStride(){return this.stride}setFlatCoordinates(m,
f){this.stride=w(m);this.layout=m;this.flatCoordinates=f}setCoordinates(m,f){(0,k.abstract)()}setLayout(m,f,b){if(m)f=w(m);else{for(m=0;m<b;++m){if(0===f.length){this.layout="XY";this.stride=2;return}f=f[0]}f=f.length;let c;2==f?c="XY":3==f?c="XYZ":4==f&&(c="XYZM");m=c}this.layout=m;this.stride=f}applyTransform(m){this.flatCoordinates&&(m(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(m,f){const b=this.getFlatCoordinates();if(b){const c=this.getStride();(0,q.rotate)(b,
0,b.length,c,m,f,b);this.changed()}}scale(m,f,b){void 0===f&&(f=m);b||(b=(0,p.getCenter)(this.getExtent()));const c=this.getFlatCoordinates();if(c){const e=this.getStride();(0,q.scale)(c,0,c.length,e,m,f,b,c);this.changed()}}translate(m,f){const b=this.getFlatCoordinates();if(b){const c=this.getStride();(0,q.translate)(b,0,b.length,c,m,f,b);this.changed()}}}A.default=t};
shadow$provide[129]=function(Ka,L,sb,A){function w(f,b,c,e,g,n,h){const x=f[b],O=f[b+1],H=f[c]-x,F=f[c+1]-O;if(0!==H||0!==F)if(g=((g-x)*H+(n-O)*F)/(H*H+F*F),1<g)b=c;else if(0<g){for(n=0;n<e;++n)h[n]=(0,m.lerp)(f[b+n],f[c+n],g);h.length=e;return}for(c=0;c<e;++c)h[c]=f[b+c];h.length=e}function k(f,b,c,e,g){var n=f[b];let h=f[b+1];for(b+=e;b<c;b+=e){const x=f[b],O=f[b+1];n=(0,m.squaredDistance)(n,h,x,O);n>g&&(g=n);n=x;h=O}return g}function p(f,b,c,e,g){for(let n=0,h=c.length;n<h;++n){const x=c[n];g=
k(f,b,x,e,g);b=x}return g}function q(f,b,c,e,g,n,h,x,O,H,F){if(b==c)return H;let J,D;if(0===g){D=(0,m.squaredDistance)(h,x,f[b],f[b+1]);if(D<H){for(J=0;J<e;++J)O[J]=f[b+J];O.length=e;return D}return H}F=F?F:[NaN,NaN];let r=b+e;for(;r<c;)if(w(f,r-e,r,e,h,x,F),D=(0,m.squaredDistance)(h,x,F[0],F[1]),D<H){H=D;for(J=0;J<e;++J)O[J]=F[J];O.length=e;r+=e}else r+=e*Math.max((Math.sqrt(D)-Math.sqrt(H))/g|0,1);if(n&&(w(f,c-e,b,e,h,x,F),D=(0,m.squaredDistance)(h,x,F[0],F[1]),D<H)){H=D;for(J=0;J<e;++J)O[J]=F[J];
O.length=e}return H}function t(f,b,c,e,g,n,h,x,O,H,F){F=F?F:[NaN,NaN];for(let J=0,D=c.length;J<D;++J){const r=c[J];H=q(f,b,r,e,g,n,h,x,O,H,F);b=r}return H}Object.defineProperty(A,"__esModule",{value:!0});A.maxSquaredDelta=k;A.arrayMaxSquaredDelta=p;A.multiArrayMaxSquaredDelta=function(f,b,c,e,g){for(let n=0,h=c.length;n<h;++n){const x=c[n];g=p(f,b,x,e,g);b=x[x.length-1]}return g};A.assignClosestPoint=q;A.assignClosestArrayPoint=t;A.assignClosestMultiArrayPoint=function(f,b,c,e,g,n,h,x,O,H,F){F=F?
F:[NaN,NaN];for(let J=0,D=c.length;J<D;++J){const r=c[J];H=t(f,b,r,e,g,n,h,x,O,H,F);b=r[r.length-1]}return H};var m=L(85)};
shadow$provide[130]=function(Ka,L,sb,A){function w(p,q,t,m){for(let f=0,b=t.length;f<b;++f){const c=t[f];for(let e=0;e<m;++e)p[q++]=c[e]}return q}function k(p,q,t,m,f){f=f?f:[];let b=0;for(let c=0,e=t.length;c<e;++c)q=w(p,q,t[c],m),f[b++]=q;f.length=b;return f}Object.defineProperty(A,"__esModule",{value:!0});A.deflateCoordinate=function(p,q,t,m){for(let f=0,b=t.length;f<b;++f)p[q++]=t[f];return q};A.deflateCoordinates=w;A.deflateCoordinatesArray=k;A.deflateMultiCoordinatesArray=function(p,q,t,m,f){f=
f?f:[];let b=0;for(let c=0,e=t.length;c<e;++c){const g=k(p,q,t[c],m,f[b]);0===g.length&&(g[0]=q);f[b++]=g;q=g[g.length-1]}f.length=b;return f}};
shadow$provide[131]=function(Ka,L,sb,A){function w(b,c,e,g,n,h,x){const O=(e-c)/g;if(3>O){for(;c<e;c+=g)h[x++]=b[c],h[x++]=b[c+1];return x}const H=Array(O);H[0]=1;H[O-1]=1;e=[c,e-g];let F=0;for(;0<e.length;){const J=e.pop(),D=e.pop();let r=0;const z=b[D],G=b[D+1],T=b[J],R=b[J+1];for(let ca=D+g;ca<J;ca+=g){const M=(0,f.squaredSegmentDistance)(b[ca],b[ca+1],z,G,T,R);M>r&&(F=ca,r=M)}r>n&&(H[(F-c)/g]=1,D+g<F&&e.push(D,F),F+g<J&&e.push(F,J))}for(n=0;n<O;++n)H[n]&&(h[x++]=b[c+n*g],h[x++]=b[c+n*g+1]);return x}
function k(b,c,e,g,n,h,x,O){for(let H=0,F=e.length;H<F;++H){const J=e[H];x=w(b,c,J,g,n,h,x);O.push(x);c=J}return x}function p(b,c,e,g,n,h,x){if(e<=c+g){for(;c<e;c+=g)h[x++]=b[c],h[x++]=b[c+1];return x}let O=b[c],H=b[c+1];h[x++]=O;h[x++]=H;let F=O,J=H;for(c+=g;c<e;c+=g)F=b[c],J=b[c+1],(0,f.squaredDistance)(O,H,F,J)>n&&(h[x++]=F,h[x++]=J,O=F,H=J);if(F!=O||J!=H)h[x++]=F,h[x++]=J;return x}function q(b,c){return c*Math.round(b/c)}function t(b,c,e,g,n,h,x){if(c==e)return x;let O=q(b[c],n),H=q(b[c+1],n);
c+=g;h[x++]=O;h[x++]=H;let F,J;do if(F=q(b[c],n),J=q(b[c+1],n),c+=g,c==e)return h[x++]=F,h[x++]=J,x;while(F==O&&J==H);for(;c<e;){const D=q(b[c],n),r=q(b[c+1],n);c+=g;if(D==F&&r==J)continue;const z=F-O,G=J-H,T=D-O,R=r-H;z*R==G*T&&(0>z&&T<z||z==T||0<z&&T>z)&&(0>G&&R<G||G==R||0<G&&R>G)||(h[x++]=F,h[x++]=J,O=F,H=J);F=D;J=r}h[x++]=F;h[x++]=J;return x}function m(b,c,e,g,n,h,x,O){for(let H=0,F=e.length;H<F;++H){const J=e[H];x=t(b,c,J,g,n,h,x);O.push(x);c=J}return x}Object.defineProperty(A,"__esModule",{value:!0});
A.simplifyLineString=function(b,c,e,g,n,h,x){x=void 0!==x?x:[];h||(e=p(b,c,e,g,n,x,0),b=x,c=0,g=2);x.length=w(b,c,e,g,n,x,0);return x};A.douglasPeucker=w;A.douglasPeuckerArray=k;A.douglasPeuckerMultiArray=function(b,c,e,g,n,h,x,O){for(let H=0,F=e.length;H<F;++H){const J=e[H],D=[];x=k(b,c,J,g,n,h,x,D);O.push(D);c=J[J.length-1]}return x};A.radialDistance=p;A.snap=q;A.quantize=t;A.quantizeArray=m;A.quantizeMultiArray=function(b,c,e,g,n,h,x,O){for(let H=0,F=e.length;H<F;++H){const J=e[H],D=[];x=m(b,c,
J,g,n,h,x,D);O.push(D);c=J[J.length-1]}return x};var f=L(85)};
shadow$provide[132]=function(Ka,L,sb,A){function w(p,q,t,m,f){f=void 0!==f?f:[];let b=0;for(;q<t;q+=m)f[b++]=p.slice(q,q+m);f.length=b;return f}function k(p,q,t,m,f){f=void 0!==f?f:[];let b=0;for(let c=0,e=t.length;c<e;++c){const g=t[c];f[b++]=w(p,q,g,m,f[b]);q=g}f.length=b;return f}Object.defineProperty(A,"__esModule",{value:!0});A.inflateCoordinates=w;A.inflateCoordinatesArray=k;A.inflateMultiCoordinatesArray=function(p,q,t,m,f){f=void 0!==f?f:[];let b=0;for(let c=0,e=t.length;c<e;++c){const g=
t[c];f[b++]=1===g.length&&g[0]===q?[]:k(p,q,g,m,f[b]);q=g[g.length-1]}f.length=b;return f}};
shadow$provide[133]=function(Ka,L,sb,A){function w(p,q,t,m){let f=0,b=p[t-m],c=p[t-m+1];for(;q<t;q+=m){const e=p[q],g=p[q+1];f+=c*e-b*g;b=e;c=g}return f/2}function k(p,q,t,m){let f=0;for(let b=0,c=t.length;b<c;++b){const e=t[b];f+=w(p,q,e,m);q=e}return f}Object.defineProperty(A,"__esModule",{value:!0});A.linearRing=w;A.linearRings=k;A.linearRingss=function(p,q,t,m){let f=0;for(let b=0,c=t.length;b<c;++b){const e=t[b];f+=k(p,q,e,m);q=e[e.length-1]}return f}};
shadow$provide[134]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(b){return b&&b.__esModule?b:{default:b}}(L(128));var w=L(129),k=L(84),p=L(130),q=L(131),t=L(132),m=L(133);class f extends Ka.default{constructor(b,c){super();this.maxDeltaRevision_=this.maxDelta_=-1;void 0===c||Array.isArray(b[0])?this.setCoordinates(b,c):this.setFlatCoordinates(c,b)}clone(){return new f(this.flatCoordinates.slice(),this.layout)}closestPointXY(b,c,e,g){if(g<(0,k.closestSquaredDistanceXY)(this.getExtent(),
b,c))return g;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,w.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,w.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,b,c,e,g)}getArea(){return(0,m.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,t.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(b){const c=[];c.length=(0,q.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,b,c,0);return new f(c,"XY")}getType(){return"LinearRing"}intersectsExtent(b){return!1}setCoordinates(b,c){this.setLayout(c,b,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,p.deflateCoordinates)(this.flatCoordinates,0,b,this.stride);this.changed()}}A.default=f};
shadow$provide[135]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(128));var w=L(84),k=L(130),p=L(85);class q extends Ka.default{constructor(t,m){super();this.setCoordinates(t,m)}clone(){const t=new q(this.flatCoordinates.slice(),this.layout);t.applyProperties(this);return t}closestPointXY(t,m,f,b){const c=this.flatCoordinates;t=(0,p.squaredDistance)(t,m,c[0],c[1]);if(t<b){b=this.stride;for(m=0;m<b;++m)f[m]=
c[m];f.length=b;return t}return b}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return(0,w.createOrUpdateFromCoordinate)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,w.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,m){this.setLayout(m,t,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,k.deflateCoordinate)(this.flatCoordinates,0,t,this.stride);this.changed()}}
A.default=q};
shadow$provide[136]=function(Ka,L,sb,A){function w(q,t,m,f,b,c){let e=0,g=q[m-f],n=q[m-f+1];for(;t<m;t+=f){const h=q[t],x=q[t+1];n<=c?x>c&&0<(h-g)*(c-n)-(b-g)*(x-n)&&e++:x<=c&&0>(h-g)*(c-n)-(b-g)*(x-n)&&e--;g=h;n=x}return 0!==e}function k(q,t,m,f,b,c){if(0===m.length||!w(q,t,m[0],f,b,c))return!1;for(let e=1,g=m.length;e<g;++e)if(w(q,m[e-1],m[e],f,b,c))return!1;return!0}Object.defineProperty(A,"__esModule",{value:!0});A.linearRingContainsExtent=function(q,t,m,f,b){return!(0,p.forEachCorner)(b,function(c){return!w(q,
t,m,f,c[0],c[1])})};A.linearRingContainsXY=w;A.linearRingsContainsXY=k;A.linearRingssContainsXY=function(q,t,m,f,b,c){if(0===m.length)return!1;for(let e=0,g=m.length;e<g;++e){const n=m[e];if(k(q,t,n,f,b,c))return!0;t=n[n.length-1]}return!1};var p=L(84)};
shadow$provide[137]=function(Ka,L,sb,A){function w(q,t,m,f,b,c,e){let g;let n;const h=b[c+1],x=[];for(let D=0,r=m.length;D<r;++D){var O=m[D];var H=q[O-f];var F=q[O-f+1];for(g=t;g<O;g+=f){n=q[g];var J=q[g+1];if(h<=F&&J<=h||F<=h&&h<=J)H=(h-F)/(J-F)*(n-H)+H,x.push(H);H=n;F=J}}O=NaN;F=-Infinity;x.sort(p.numberSafeCompareFunction);H=x[0];g=1;for(J=x.length;g<J;++g){n=x[g];const D=Math.abs(n-H);D>F&&(H=(H+n)/2,(0,k.linearRingsContainsXY)(q,t,m,f,H,h)&&(O=H,F=D));H=n}isNaN(O)&&(O=b[c]);return e?(e.push(O,
h,F),e):[O,h,F]}Object.defineProperty(A,"__esModule",{value:!0});A.getInteriorPointOfArray=w;A.getInteriorPointsOfMultiArray=function(q,t,m,f,b){let c=[];for(let e=0,g=m.length;e<g;++e){const n=m[e];c=w(q,t,n,f,b,2*e,c);t=n[n.length-1]}return c};var k=L(136),p=L(68)};
shadow$provide[138]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.forEach=function(w,k,p,q,t){let m;for(k+=q;k<p;k+=q)if(m=t(w.slice(k-q,k),w.slice(k,k+q)))return m;return!1}};
shadow$provide[139]=function(Ka,L,sb,A){function w(f,b,c,e,g){const n=(0,q.extendFlatCoordinates)((0,q.createEmpty)(),f,b,c,e);return(0,q.intersects)(g,n)?(0,q.containsExtent)(g,n)||n[0]>=g[0]&&n[2]<=g[2]||n[1]>=g[1]&&n[3]<=g[3]?!0:(0,t.forEach)(f,b,c,e,function(h,x){return(0,q.intersectsSegment)(g,h,x)}):!1}function k(f,b,c,e,g){return w(f,b,c,e,g)||(0,m.linearRingContainsXY)(f,b,c,e,g[0],g[1])||(0,m.linearRingContainsXY)(f,b,c,e,g[0],g[3])||(0,m.linearRingContainsXY)(f,b,c,e,g[2],g[1])||(0,m.linearRingContainsXY)(f,
b,c,e,g[2],g[3])?!0:!1}function p(f,b,c,e,g){if(!k(f,b,c[0],e,g))return!1;if(1===c.length)return!0;for(let n=1,h=c.length;n<h;++n)if((0,m.linearRingContainsExtent)(f,c[n-1],c[n],e,g)&&!w(f,c[n-1],c[n],e,g))return!1;return!0}Object.defineProperty(A,"__esModule",{value:!0});A.intersectsLineString=w;A.intersectsLineStringArray=function(f,b,c,e,g){for(let n=0,h=c.length;n<h;++n){if(w(f,b,c[n],e,g))return!0;b=c[n]}return!1};A.intersectsLinearRing=k;A.intersectsLinearRingArray=p;A.intersectsLinearRingMultiArray=
function(f,b,c,e,g){for(let n=0,h=c.length;n<h;++n){const x=c[n];if(p(f,b,x,e,g))return!0;b=x[x.length-1]}return!1};var q=L(84),t=L(138),m=L(136)};
shadow$provide[140]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.coordinates=function(w,k,p,q){for(;k<p-q;){for(let t=0;t<q;++t){const m=w[k+t];w[k+t]=w[p-q+t];w[p-q+t]=m}k+=q;p-=q}}};
shadow$provide[141]=function(Ka,L,sb,A){function w(t,m,f,b){let c=0,e=t[f-b],g=t[f-b+1];for(;m<f;m+=b){const n=t[m],h=t[m+1];c+=(n-e)*(h+g);e=n;g=h}return 0===c?void 0:0<c}function k(t,m,f,b,c){c=void 0!==c?c:!1;for(let e=0,g=f.length;e<g;++e){const n=f[e];m=w(t,m,n,b);if(0===e){if(c&&m||!c&&!m)return!1}else if(c&&!m||!c&&m)return!1;m=n}return!0}function p(t,m,f,b,c){c=void 0!==c?c:!1;for(let e=0,g=f.length;e<g;++e){const n=f[e],h=w(t,m,n,b);(0===e?c&&h||!c&&!h:c&&!h||!c&&h)&&(0,q.coordinates)(t,
m,n,b);m=n}return m}Object.defineProperty(A,"__esModule",{value:!0});A.linearRingIsClockwise=w;A.linearRingsAreOriented=k;A.linearRingssAreOriented=function(t,m,f,b,c){for(let e=0,g=f.length;e<g;++e){const n=f[e];if(!k(t,m,n,b,c))return!1;n.length&&(m=n[n.length-1])}return!0};A.orientLinearRings=p;A.orientLinearRingsArray=function(t,m,f,b,c){for(let e=0,g=f.length;e<g;++e)m=p(t,m,f[e],b,c);return m};A.inflateEnds=function(t,m){const f=[];let b=0,c=0;for(let e=0,g=m.length;e<g;++e){const n=m[e];if(w(t,
b,n,2)){if(0===f.length)continue;f[f.length-1].push(m[c])}else f.push(m.slice(c,e+1));c=e+1;b=n}return f};var q=L(140)};
shadow$provide[142]=function(Ka,L,sb,A){function w(D){return D&&D.__esModule?D:{default:D}}function k(D,r,z,G){const T=D.getFlatCoordinates(),R=D.getStride(),ca=T.length/R-1;G=G?G:0;for(let M=0;M<=ca;++M){const ba=M*R,W=G+2*(0,O.modulo)(M,ca)*Math.PI/ca;T[ba]=r[0]+z*Math.cos(W);T[ba+1]=r[1]+z*Math.sin(W)}D.changed()}Object.defineProperty(A,"__esModule",{value:!0});A.circular=function(D,r,z,G){z=z?z:32;const T=[];for(let R=0;R<z;++R)(0,b.extend)(T,(0,F.offset)(D,r,2*Math.PI*R/z,G));T.push(T[0],T[1]);
return new J(T,"XY",[T.length])};A.fromExtent=function(D){var r=D[0];const z=D[1],G=D[2];D=D[3];r=[r,z,r,D,G,D,G,z,r,z];return new J(r,"XY",[r.length])};A.fromCircle=function(D,r,z){r=r?r:32;var G=D.getStride();const T=D.getLayout(),R=D.getCenter();r=G*(r+1);const ca=Array(r);for(let M=0;M<r;M+=G){ca[M]=0;ca[M+1]=0;for(let ba=2;ba<G;ba++)ca[M+ba]=R[ba]}G=new J(ca,T,[ca.length]);k(G,R,D.getRadius(),z);return G};A.makeRegular=k;A.default=void 0;var p=w(L(134)),q=w(L(135));Ka=w(L(128));var t=L(129),
m=L(84),f=L(130),b=L(68),c=L(137),e=L(132),g=L(139),n=L(141),h=L(133),x=L(136),O=L(85),H=L(131),F=L(120);class J extends Ka.default{constructor(D,r,z){super();this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.orientedRevision_=this.maxDeltaRevision_=this.maxDelta_=-1;this.orientedFlatCoordinates_=null;void 0!==r&&z?(this.setFlatCoordinates(r,D),this.ends_=z):this.setCoordinates(D,r)}appendLinearRing(D){this.flatCoordinates?(0,b.extend)(this.flatCoordinates,D.getFlatCoordinates()):
this.flatCoordinates=D.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()}clone(){const D=new J(this.flatCoordinates.slice(),this.layout,this.ends_.slice());D.applyProperties(this);return D}closestPointXY(D,r,z,G){if(G<(0,m.closestSquaredDistanceXY)(this.getExtent(),D,r))return G;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,t.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());
return(0,t.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,D,r,z,G)}containsXY(D,r){return(0,x.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,D,r)}getArea(){return(0,h.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(D){let r;void 0!==D?(r=this.getOrientedFlatCoordinates().slice(),(0,n.orientLinearRings)(r,0,this.ends_,this.stride,D)):r=this.flatCoordinates;return(0,e.inflateCoordinatesArray)(r,
0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const D=(0,m.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,c.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,D,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new q.default(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(D){return 0>
D||this.ends_.length<=D?null:new p.default(this.flatCoordinates.slice(0===D?0:this.ends_[D-1],this.ends_[D]),this.layout)}getLinearRings(){const D=this.layout,r=this.flatCoordinates,z=this.ends_,G=[];var T=0;for(let R=0,ca=z.length;R<ca;++R){const M=z[R];T=new p.default(r.slice(T,M),D);G.push(T);T=M}return G}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const D=this.flatCoordinates;(0,n.linearRingsAreOriented)(D,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=
D:(this.orientedFlatCoordinates_=D.slice(),this.orientedFlatCoordinates_.length=(0,n.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(D){const r=[],z=[];r.length=(0,H.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(D),r,0,z);return new J(r,"XY",z)}getType(){return"Polygon"}intersectsExtent(D){return(0,g.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),
0,this.ends_,this.stride,D)}setCoordinates(D,r){this.setLayout(r,D,2);this.flatCoordinates||(this.flatCoordinates=[]);D=(0,f.deflateCoordinatesArray)(this.flatCoordinates,0,D,this.stride,this.ends_);this.flatCoordinates.length=0===D.length?0:D[D.length-1];this.changed()}}A.default=J};
shadow$provide[143]=function(Ka,L,sb,A){function w(R){return R&&R.__esModule?R:{default:R}}function k(R,ca){setTimeout(function(){R(ca)},0)}function p(R){if(void 0!==R.extent)return(0,O.createExtent)(R.extent,R.constrainOnlyCenter,void 0!==R.smoothExtentConstraint?R.smoothExtentConstraint:!0);const ca=(0,g.createProjection)(R.projection,"EPSG:3857");return!0!==R.multiWorld&&ca.isGlobal()?(R=ca.getExtent().slice(),R[0]=-Infinity,R[2]=Infinity,(0,O.createExtent)(R,!1,!1)):O.none}function q(R){let ca=
void 0!==R.minZoom?R.minZoom:0,M=void 0!==R.maxZoom?R.maxZoom:28;const ba=void 0!==R.zoomFactor?R.zoomFactor:2;var W=void 0!==R.multiWorld?R.multiWorld:!1;const ea=void 0!==R.smoothResolutionConstraint?R.smoothResolutionConstraint:!0,La=void 0!==R.showFullExtent?R.showFullExtent:!1;var aa=(0,g.createProjection)(R.projection,"EPSG:3857");var C=aa.getExtent();let B=R.constrainOnlyCenter,N=R.extent;W||N||!aa.isGlobal()||(B=!1,N=C);if(void 0!==R.resolutions)C=R.resolutions,W=C[ca],aa=void 0!==C[M]?C[M]:
C[C.length-1],R=R.constrainResolution?(0,F.createSnapToResolutions)(C,ea,!B&&N,La):(0,F.createMinMaxResolution)(W,aa,ea,!B&&N,La);else{C=(C?Math.max((0,r.getWidth)(C),(0,r.getHeight)(C)):360*g.METERS_PER_UNIT.degrees/aa.getMetersPerUnit())/e.DEFAULT_TILE_SIZE/Math.pow(2,0);const Y=C/Math.pow(2,28);W=R.maxResolution;void 0!==W?ca=0:W=C/Math.pow(ba,ca);aa=R.minResolution;void 0===aa&&(aa=void 0!==R.maxZoom?void 0!==R.maxResolution?W/Math.pow(ba,M):C/Math.pow(ba,M):Y);M=ca+Math.floor(Math.log(W/aa)/
Math.log(ba));aa=W/Math.pow(ba,M-ca);R=R.constrainResolution?(0,F.createSnapToPower)(ba,W,aa,ea,!B&&N,La):(0,F.createMinMaxResolution)(W,aa,ea,!B&&N,La)}return{constraint:R,maxResolution:W,minResolution:aa,minZoom:ca,zoomFactor:ba}}function t(R){return(void 0!==R.enableRotation?R.enableRotation:1)?(R=R.constrainRotation,void 0===R||!0===R?(0,J.createSnapToZero)():!1===R?J.none:"number"===typeof R?(0,J.createSnapToN)(R):J.none):J.disable}function m(R){return R.sourceCenter&&R.targetCenter&&!(0,h.equals)(R.sourceCenter,
R.targetCenter)||R.sourceResolution!==R.targetResolution||R.sourceRotation!==R.targetRotation?!1:!0}function f(R,ca,M,ba,W){const ea=Math.cos(-W);W=Math.sin(-W);let La=R[0]*ea-R[1]*W;R=R[1]*ea+R[0]*W;La+=(ca[0]/2-M[0])*ba;R+=(M[1]-ca[1]/2)*ba;W=-W;return[La*ea-R*W,R*ea+La*W]}Object.defineProperty(A,"__esModule",{value:!0});A.createCenterConstraint=p;A.createResolutionConstraint=q;A.createRotationConstraint=t;A.isNoopAnimation=m;A.default=void 0;Ka=w(L(76));var b=w(L(111)),c=w(L(112)),e=L(113),g=L(121),
n=L(69),h=L(93),x=L(81),O=L(122),H=L(85),F=L(123),J=L(124),D=L(125),r=L(84),z=L(68),G=L(142);class T extends Ka.default{constructor(R){super();R=Object.assign({},R);this.hints_=[0,0];this.animations_=[];this.projection_=(0,g.createProjection)(R.projection,"EPSG:3857");this.viewportSize_=[100,100];this.nextCenter_=this.targetCenter_=null;this.cancelAnchor_=void 0;R.projection&&(0,g.disableCoordinateWarning)();R.center&&(R.center=(0,g.fromUserCoordinate)(R.center,this.projection_));R.extent&&(R.extent=
(0,g.fromUserExtent)(R.extent,this.projection_));this.applyOptions_(R)}applyOptions_(R){var ca=Object.assign({},R);for(var M in c.default)delete ca[M];this.setProperties(ca,!0);M=q(R);this.maxResolution_=M.maxResolution;this.minResolution_=M.minResolution;this.zoomFactor_=M.zoomFactor;this.resolutions_=R.resolutions;this.padding_=R.padding;this.minZoom_=M.minZoom;ca=p(R);M=M.constraint;const ba=t(R);this.constraints_={center:ca,resolution:M,rotation:ba};this.setRotation(void 0!==R.rotation?R.rotation:
0);this.setCenterInternal(void 0!==R.center?R.center:null);void 0!==R.resolution?this.setResolution(R.resolution):void 0!==R.zoom&&this.setZoom(R.zoom)}get padding(){return this.padding_}set padding(R){let ca=this.padding_;this.padding_=R;const M=this.getCenter();if(M){R=R||[0,0,0,0];ca=ca||[0,0,0,0];const ba=this.getResolution();this.setCenterInternal([M[0]+ba/2*(R[3]-ca[3]+ca[1]-R[1]),M[1]-ba/2*(R[0]-ca[0]+ca[2]-R[2])])}}getUpdatedOptions_(R){const ca=this.getProperties();void 0!==ca.resolution?
ca.resolution=this.getResolution():ca.zoom=this.getZoom();ca.center=this.getCenterInternal();ca.rotation=this.getRotation();return Object.assign({},ca,R)}animate(R){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const ca=Array(arguments.length);for(let M=0;M<ca.length;++M){let ba=arguments[M];ba.center&&(ba=Object.assign({},ba),ba.center=(0,g.fromUserCoordinate)(ba.center,this.getProjection()));ba.anchor&&(ba=Object.assign({},ba),ba.anchor=(0,g.fromUserCoordinate)(ba.anchor,this.getProjection()));
ca[M]=ba}this.animateInternal.apply(this,ca)}animateInternal(R){let ca=arguments.length,M;1<ca&&"function"===typeof arguments[ca-1]&&(M=arguments[ca-1],--ca);let ba=0;for(;ba<ca&&!this.isDef();++ba){var W=arguments[ba];W.center&&this.setCenterInternal(W.center);void 0!==W.zoom?this.setZoom(W.zoom):W.resolution&&this.setResolution(W.resolution);void 0!==W.rotation&&this.setRotation(W.rotation)}if(ba===ca)M&&k(M,!0);else{W=Date.now();for(var ea=this.targetCenter_.slice(),La=this.targetResolution_,aa=
this.targetRotation_,C=[];ba<ca;++ba){var B=arguments[ba];const N={start:W,complete:!1,anchor:B.anchor,duration:void 0!==B.duration?B.duration:1E3,easing:B.easing||D.inAndOut,callback:M};B.center&&(N.sourceCenter=ea,N.targetCenter=B.center.slice(),ea=N.targetCenter);void 0!==B.zoom?(N.sourceResolution=La,N.targetResolution=this.getResolutionForZoom(B.zoom),La=N.targetResolution):B.resolution&&(N.sourceResolution=La,N.targetResolution=B.resolution,La=N.targetResolution);void 0!==B.rotation&&(N.sourceRotation=
aa,B=(0,H.modulo)(B.rotation-aa+Math.PI,2*Math.PI)-Math.PI,N.targetRotation=aa+B,aa=N.targetRotation);m(N)?N.complete=!0:W+=N.duration;C.push(N)}this.animations_.push(C);this.setHint(b.default.ANIMATING,1);this.updateAnimations_()}}getAnimating(){return 0<this.hints_[b.default.ANIMATING]}getInteracting(){return 0<this.hints_[b.default.INTERACTING]}cancelAnimations(){this.setHint(b.default.ANIMATING,-this.hints_[b.default.ANIMATING]);let R;for(let ca=0,M=this.animations_.length;ca<M;++ca){const ba=
this.animations_[ca];ba[0].callback&&k(ba[0].callback,!1);if(!R)for(let W=0,ea=ba.length;W<ea;++W){const La=ba[W];if(!La.complete){R=La.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=R;this.nextCenter_=null;this.nextRotation_=this.nextResolution_=NaN}updateAnimations_(){void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){var R=Date.now(),ca=!1;for(let ea=this.animations_.length-1;0<=ea;--ea){var M=
this.animations_[ea];let La=!0;for(let aa=0,C=M.length;aa<C;++aa){const B=M[aa];if(!B.complete){ca=R-B.start;ca=0<B.duration?ca/B.duration:1;1<=ca?(B.complete=!0,ca=1):La=!1;ca=B.easing(ca);if(B.sourceCenter){var ba=B.sourceCenter[0],W=B.sourceCenter[1];const N=B.targetCenter[0],Y=B.targetCenter[1];this.nextCenter_=B.targetCenter;this.targetCenter_=[ba+ca*(N-ba),W+ca*(Y-W)]}B.sourceResolution&&B.targetResolution&&(ba=1===ca?B.targetResolution:B.sourceResolution+ca*(B.targetResolution-B.sourceResolution),
B.anchor&&(W=this.getViewportSize_(this.getRotation()),W=this.constraints_.resolution(ba,0,W,!0),this.targetCenter_=this.calculateCenterZoom(W,B.anchor)),this.nextResolution_=B.targetResolution,this.targetResolution_=ba,this.applyTargetState_(!0));void 0!==B.sourceRotation&&void 0!==B.targetRotation&&(ca=1===ca?(0,H.modulo)(B.targetRotation+Math.PI,2*Math.PI)-Math.PI:B.sourceRotation+ca*(B.targetRotation-B.sourceRotation),B.anchor&&(ba=this.constraints_.rotation(ca,!0),this.targetCenter_=this.calculateCenterRotate(ba,
B.anchor)),this.nextRotation_=B.targetRotation,this.targetRotation_=ca);this.applyTargetState_(!0);ca=!0;if(!B.complete)break}}La&&(this.animations_[ea]=null,this.setHint(b.default.ANIMATING,-1),this.nextCenter_=null,this.nextRotation_=this.nextResolution_=NaN,(M=M[0].callback)&&k(M,!0))}this.animations_=this.animations_.filter(Boolean);ca&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}calculateCenterRotate(R,ca){let M;const ba=
this.getCenterInternal();void 0!==ba&&(M=[ba[0]-ca[0],ba[1]-ca[1]],(0,h.rotate)(M,R-this.getRotation()),(0,h.add)(M,ca));return M}calculateCenterZoom(R,ca){let M;const ba=this.getCenterInternal(),W=this.getResolution();void 0!==ba&&void 0!==W&&(M=[ca[0]-R*(ca[0]-ba[0])/W,ca[1]-R*(ca[1]-ba[1])/W]);return M}getViewportSize_(R){var ca=this.viewportSize_;if(R){const M=ca[0];ca=ca[1];return[Math.abs(M*Math.cos(R))+Math.abs(ca*Math.sin(R)),Math.abs(M*Math.sin(R))+Math.abs(ca*Math.cos(R))]}return ca}setViewportSize(R){this.viewportSize_=
Array.isArray(R)?R.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)}getCenter(){const R=this.getCenterInternal();return R?(0,g.toUserCoordinate)(R,this.getProjection()):R}getCenterInternal(){return this.get(c.default.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(R){return void 0!==R?(R[0]=this.hints_[0],R[1]=this.hints_[1],R):this.hints_.slice()}calculateExtent(R){R=this.calculateExtentInternal(R);return(0,g.toUserExtent)(R,
this.getProjection())}calculateExtentInternal(R){R=R||this.getViewportSizeMinusPadding_();const ca=this.getCenterInternal();(0,x.assert)(ca,1);const M=this.getResolution();(0,x.assert)(void 0!==M,2);const ba=this.getRotation();(0,x.assert)(void 0!==ba,3);return(0,r.getForViewAndSize)(ca,M,ba,R)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(R){this.applyOptions_(this.getUpdatedOptions_({maxZoom:R}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(R){this.applyOptions_(this.getUpdatedOptions_({minZoom:R}))}setConstrainResolution(R){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:R}))}getProjection(){return this.projection_}getResolution(){return this.get(c.default.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(R,
ca){return this.getResolutionForExtentInternal((0,g.fromUserExtent)(R,this.getProjection()),ca)}getResolutionForExtentInternal(R,ca){ca=ca||this.getViewportSizeMinusPadding_();const M=(0,r.getWidth)(R)/ca[0];R=(0,r.getHeight)(R)/ca[1];return Math.max(M,R)}getResolutionForValueFunction(R){R=R||2;const ca=this.getConstrainedResolution(this.maxResolution_),M=Math.log(ca/this.minResolution_)/Math.log(R);return function(ba){return ca/Math.pow(R,ba*M)}}getRotation(){return this.get(c.default.ROTATION)}getValueForResolutionFunction(R){const ca=
Math.log(R||2),M=this.getConstrainedResolution(this.maxResolution_),ba=Math.log(M/this.minResolution_)/ca;return function(W){return Math.log(M/W)/ca/ba}}getViewportSizeMinusPadding_(R){R=this.getViewportSize_(R);const ca=this.padding_;ca&&(R=[R[0]-ca[1]-ca[3],R[1]-ca[0]-ca[2]]);return R}getState(){const R=this.getProjection(),ca=this.getResolution(),M=this.getRotation();let ba=this.getCenterInternal();const W=this.padding_;if(W){const ea=this.getViewportSizeMinusPadding_();ba=f(ba,this.getViewportSize_(),
[ea[0]/2+W[3],ea[1]/2+W[0]],ca,M)}return{center:ba.slice(0),projection:void 0!==R?R:null,resolution:ca,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:M,zoom:this.getZoom()}}getZoom(){let R;const ca=this.getResolution();void 0!==ca&&(R=this.getZoomForResolution(ca));return R}getZoomForResolution(R){let ca=this.minZoom_||0,M;var ba;this.resolutions_?(ca=ba=(0,z.linearFindNearest)(this.resolutions_,R,1),M=this.resolutions_[ba],ba=ba==this.resolutions_.length-
1?2:M/this.resolutions_[ba+1]):(M=this.maxResolution_,ba=this.zoomFactor_);return ca+Math.log(M/R)/Math.log(ba)}getResolutionForZoom(R){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;const ca=(0,H.clamp)(Math.floor(R),0,this.resolutions_.length-2);return this.resolutions_[ca]/Math.pow(this.resolutions_[ca]/this.resolutions_[ca+1],(0,H.clamp)(R-ca,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,R-this.minZoom_)}fit(R,ca){(0,x.assert)(Array.isArray(R)||"function"===typeof R.getSimplifiedGeometry,
24);if(Array.isArray(R))(0,x.assert)(!(0,r.isEmpty)(R),25),R=(0,g.fromUserExtent)(R,this.getProjection()),R=(0,G.fromExtent)(R);else if("Circle"===R.getType()){var M=(0,g.fromUserExtent)(R.getExtent(),this.getProjection());R=(0,G.fromExtent)(M);R.rotate(this.getRotation(),(0,r.getCenter)(M))}else R=(M=(0,g.getUserProjection)())?R.clone().transform(M,this.getProjection()):R;this.fitInternal(R,ca)}rotatedExtentForGeometry(R){var ca=this.getRotation();const M=Math.cos(ca);ca=Math.sin(-ca);const ba=R.getFlatCoordinates();
R=R.getStride();let W=Infinity,ea=Infinity,La=-Infinity,aa=-Infinity;for(let C=0,B=ba.length;C<B;C+=R){const N=ba[C]*M-ba[C+1]*ca,Y=ba[C]*ca+ba[C+1]*M;W=Math.min(W,N);ea=Math.min(ea,Y);La=Math.max(La,N);aa=Math.max(aa,Y)}return[W,ea,La,aa]}fitInternal(R,ca){ca=ca||{};var M=ca.size;M||(M=this.getViewportSizeMinusPadding_());var ba=void 0!==ca.padding?ca.padding:[0,0,0,0],W=void 0!==ca.nearest?ca.nearest:!1;var ea=void 0!==ca.minResolution?ca.minResolution:void 0!==ca.maxZoom?this.getResolutionForZoom(ca.maxZoom):
0;R=this.rotatedExtentForGeometry(R);M=this.getResolutionForExtentInternal(R,[M[0]-ba[1]-ba[3],M[1]-ba[0]-ba[2]]);M=isNaN(M)?ea:Math.max(M,ea);M=this.getConstrainedResolution(M,W?0:1);ea=this.getRotation();W=Math.sin(ea);ea=Math.cos(ea);R=(0,r.getCenter)(R);R[0]+=(ba[1]-ba[3])/2*M;R[1]+=(ba[0]-ba[2])/2*M;ba=this.getConstrainedCenter([R[0]*ea-R[1]*W,R[1]*ea+R[0]*W],M);R=ca.callback?ca.callback:n.VOID;void 0!==ca.duration?this.animateInternal({resolution:M,center:ba,duration:ca.duration,easing:ca.easing},
R):(this.targetResolution_=M,this.targetCenter_=ba,this.applyTargetState_(!1,!0),k(R,!0))}centerOn(R,ca,M){this.centerOnInternal((0,g.fromUserCoordinate)(R,this.getProjection()),ca,M)}centerOnInternal(R,ca,M){this.setCenterInternal(f(R,ca,M,this.getResolution(),this.getRotation()))}calculateCenterShift(R,ca,M,ba){const W=this.padding_;if(W&&R){var ea=this.getViewportSizeMinusPadding_(-M);ca=f(R,ba,[ea[0]/2+W[3],ea[1]/2+W[0]],ca,M);ea=[R[0]-ca[0],R[1]-ca[1]]}return ea}isDef(){return!!this.getCenterInternal()&&
void 0!==this.getResolution()}adjustCenter(R){const ca=(0,g.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([ca[0]+R[0],ca[1]+R[1]])}adjustCenterInternal(R){const ca=this.targetCenter_;this.setCenterInternal([ca[0]+R[0],ca[1]+R[1]])}adjustResolution(R,ca){ca=ca&&(0,g.fromUserCoordinate)(ca,this.getProjection());this.adjustResolutionInternal(R,ca)}adjustResolutionInternal(R,ca){var M=this.getAnimating()||this.getInteracting();const ba=this.getViewportSize_(this.getRotation());
M=this.constraints_.resolution(this.targetResolution_*R,0,ba,M);ca&&(this.targetCenter_=this.calculateCenterZoom(M,ca));this.targetResolution_*=R;this.applyTargetState_()}adjustZoom(R,ca){this.adjustResolution(Math.pow(this.zoomFactor_,-R),ca)}adjustRotation(R,ca){ca&&(ca=(0,g.fromUserCoordinate)(ca,this.getProjection()));this.adjustRotationInternal(R,ca)}adjustRotationInternal(R,ca){var M=this.getAnimating()||this.getInteracting();M=this.constraints_.rotation(this.targetRotation_+R,M);ca&&(this.targetCenter_=
this.calculateCenterRotate(M,ca));this.targetRotation_+=R;this.applyTargetState_()}setCenter(R){this.setCenterInternal(R?(0,g.fromUserCoordinate)(R,this.getProjection()):R)}setCenterInternal(R){this.targetCenter_=R;this.applyTargetState_()}setHint(R,ca){this.hints_[R]+=ca;this.changed();return this.hints_[R]}setResolution(R){this.targetResolution_=R;this.applyTargetState_()}setRotation(R){this.targetRotation_=R;this.applyTargetState_()}setZoom(R){this.setResolution(this.getResolutionForZoom(R))}applyTargetState_(R,
ca){var M=this.getAnimating()||this.getInteracting()||ca;ca=this.constraints_.rotation(this.targetRotation_,M);const ba=this.getViewportSize_(ca),W=this.constraints_.resolution(this.targetResolution_,0,ba,M);M=this.constraints_.center(this.targetCenter_,W,ba,M,this.calculateCenterShift(this.targetCenter_,W,ca,ba));this.get(c.default.ROTATION)!==ca&&this.set(c.default.ROTATION,ca);this.get(c.default.RESOLUTION)!==W&&(this.set(c.default.RESOLUTION,W),this.set("zoom",this.getZoom(),!0));M&&this.get(c.default.CENTER)&&
(0,h.equals)(this.get(c.default.CENTER),M)||this.set(c.default.CENTER,M);this.getAnimating()&&!R&&this.cancelAnimations();this.cancelAnchor_=void 0}resolveConstraints(R,ca,M){R=void 0!==R?R:200;var ba=ca||0;ca=this.constraints_.rotation(this.targetRotation_);var W=this.getViewportSize_(ca);ba=this.constraints_.resolution(this.targetResolution_,ba,W);W=this.constraints_.center(this.targetCenter_,ba,W,!1,this.calculateCenterShift(this.targetCenter_,ba,ca,W));0!==R||this.cancelAnchor_?(M=M||(0===R?this.cancelAnchor_:
void 0),this.cancelAnchor_=void 0,this.getResolution()===ba&&this.getRotation()===ca&&this.getCenterInternal()&&(0,h.equals)(this.getCenterInternal(),W)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:ca,center:W,resolution:ba,duration:R,easing:D.easeOut,anchor:M}))):(this.targetResolution_=ba,this.targetRotation_=ca,this.targetCenter_=W,this.applyTargetState_())}beginInteraction(){this.resolveConstraints(0);this.setHint(b.default.INTERACTING,1)}endInteraction(R,ca,M){M=
M&&(0,g.fromUserCoordinate)(M,this.getProjection());this.endInteractionInternal(R,ca,M)}endInteractionInternal(R,ca,M){this.setHint(b.default.INTERACTING,-1);this.resolveConstraints(R,ca,M)}getConstrainedCenter(R,ca){const M=this.getViewportSize_(this.getRotation());return this.constraints_.center(R,ca||this.getResolution(),M)}getConstrainedZoom(R,ca){R=this.getResolutionForZoom(R);return this.getZoomForResolution(this.getConstrainedResolution(R,ca))}getConstrainedResolution(R,ca){ca=ca||0;const M=
this.getViewportSize_(this.getRotation());return this.constraints_.resolution(R,ca,M)}}A.default=T};
shadow$provide[144]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(76));var k=w(L(106)),p=L(69),q=L(73),t=L(97);class m extends Ka.default{constructor(f){super();const b=f.element;!b||f.target||b.style.pointerEvents||(b.style.pointerEvents="auto");this.element=b?b:null;this.map_=this.target_=null;this.listenerKeys=[];f.render&&(this.render=f.render);f.target&&this.setTarget(f.target)}disposeInternal(){(0,t.removeNode)(this.element);
super.disposeInternal()}getMap(){return this.map_}setMap(f){this.map_&&(0,t.removeNode)(this.element);for(let b=0,c=this.listenerKeys.length;b<c;++b)(0,q.unlistenByKey)(this.listenerKeys[b]);this.listenerKeys.length=0;if(this.map_=f)(this.target_?this.target_:f.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==p.VOID&&this.listenerKeys.push((0,q.listen)(f,k.default.POSTRENDER,this.render,this)),f.render()}render(f){}setTarget(f){this.target_="string"===typeof f?document.getElementById(f):
f}}A.default=m};
shadow$provide[145]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(144));var k=w(L(72)),p=L(96),q=L(68),t=L(91),m=L(97);class f extends Ka.default{constructor(b){b=b?b:{};super({element:document.createElement("div"),render:b.render,target:b.target});this.ulElement_=document.createElement("ul");this.userCollapsed_=this.collapsed_=void 0!==b.collapsed?b.collapsed:!0;this.overrideCollapsible_=void 0!==b.collapsible;
this.collapsible_=void 0!==b.collapsible?b.collapsible:!0;this.collapsible_||(this.collapsed_=!1);const c=void 0!==b.className?b.className:"ol-attribution";var e=void 0!==b.tipLabel?b.tipLabel:"Attributions",g=void 0!==b.expandClassName?b.expandClassName:c+"-expand";const n=void 0!==b.collapseLabel?b.collapseLabel:"",h=void 0!==b.collapseClassName?b.collapseClassName:c+"-collapse";"string"===typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n,this.collapseLabel_.className=
h):this.collapseLabel_=n;b=void 0!==b.label?b.label:"i";"string"===typeof b?(this.label_=document.createElement("span"),this.label_.textContent=b,this.label_.className=g):this.label_=b;g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button");this.toggleButton_.setAttribute("type","button");this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_));this.toggleButton_.title=e;this.toggleButton_.appendChild(g);this.toggleButton_.addEventListener(k.default.CLICK,
this.handleClick_.bind(this),!1);e=this.element;e.className=c+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+p.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible");e.appendChild(this.toggleButton_);e.appendChild(this.ulElement_);this.renderedAttributions_=[];this.renderedVisible_=!0}collectSourceAttributions_(b){const c={},e=[];let g=!0;const n=b.layerStatesArray;for(let O=0,H=n.length;O<H;++O){var h=n[O];if((0,t.inView)(h,b.viewState)&&(h=h.layer.getSource())){var x=
h.getAttributions();if(x&&(x=x(b)))if(g=g&&!1!==h.getAttributionsCollapsible(),Array.isArray(x))for(let F=0,J=x.length;F<J;++F)x[F]in c||(e.push(x[F]),c[x[F]]=!0);else x in c||(e.push(x),c[x]=!0)}}this.overrideCollapsible_||this.setCollapsible(g);return e}updateElement_(b){if(b){b=this.collectSourceAttributions_(b);var c=0<b.length;this.renderedVisible_!=c&&(this.element.style.display=c?"":"none",this.renderedVisible_=c);if(!(0,q.equals)(b,this.renderedAttributions_)){(0,m.removeChildren)(this.ulElement_);
for(let e=0,g=b.length;e<g;++e)c=document.createElement("li"),c.innerHTML=b[e],this.ulElement_.appendChild(c);this.renderedAttributions_=b}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}handleClick_(b){b.preventDefault();this.handleToggle_();this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(p.CLASS_COLLAPSED);this.collapsed_?(0,m.replaceNode)(this.collapseLabel_,this.label_):(0,m.replaceNode)(this.label_,this.collapseLabel_);
this.collapsed_=!this.collapsed_;this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(b){this.collapsible_!==b&&(this.collapsible_=b,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(b){this.userCollapsed_=b;this.collapsible_&&this.collapsed_!==b&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(b){this.updateElement_(b.frameState)}}A.default=f};
shadow$provide[146]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(144));var k=w(L(72)),p=L(96),q=L(125);class t extends Ka.default{constructor(m){m=m?m:{};super({element:document.createElement("div"),render:m.render,target:m.target});const f=void 0!==m.className?m.className:"ol-rotate";var b=void 0!==m.label?m.label:"",c=void 0!==m.compassClassName?m.compassClassName:"ol-compass";this.label_=null;"string"===
typeof b?(this.label_=document.createElement("span"),this.label_.className=c,this.label_.textContent=b):(this.label_=b,this.label_.classList.add(c));c=m.tipLabel?m.tipLabel:"Reset rotation";b=document.createElement("button");b.className=f+"-reset";b.setAttribute("type","button");b.title=c;b.appendChild(this.label_);b.addEventListener(k.default.CLICK,this.handleClick_.bind(this),!1);c=this.element;c.className=f+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL;c.appendChild(b);this.callResetNorth_=m.resetNorth?
m.resetNorth:void 0;this.duration_=void 0!==m.duration?m.duration:250;this.autoHide_=void 0!==m.autoHide?m.autoHide:!0;this.rotation_=void 0;this.autoHide_&&this.element.classList.add(p.CLASS_HIDDEN)}handleClick_(m){m.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const m=this.getMap().getView();if(m){var f=m.getRotation();void 0!==f&&(0<this.duration_&&0!==f%(2*Math.PI)?m.animate({rotation:0,duration:this.duration_,easing:q.easeOut}):m.setRotation(0))}}render(m){if(m=
m.frameState){m=m.viewState.rotation;if(m!=this.rotation_){const f="rotate("+m+"rad)";if(this.autoHide_){const b=this.element.classList.contains(p.CLASS_HIDDEN);b||0!==m?b&&0!==m&&this.element.classList.remove(p.CLASS_HIDDEN):this.element.classList.add(p.CLASS_HIDDEN)}this.label_.style.transform=f}this.rotation_=m}}}A.default=t};
shadow$provide[147]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(144));var k=w(L(72)),p=L(96),q=L(125);class t extends Ka.default{constructor(m){m=m?m:{};super({element:document.createElement("div"),target:m.target});const f=void 0!==m.className?m.className:"ol-zoom";var b=void 0!==m.delta?m.delta:1,c=void 0!==m.zoomInClassName?m.zoomInClassName:f+"-in";const e=void 0!==m.zoomOutClassName?m.zoomOutClassName:
f+"-out",g=void 0!==m.zoomInLabel?m.zoomInLabel:"+",n=void 0!==m.zoomOutLabel?m.zoomOutLabel:"",h=void 0!==m.zoomInTipLabel?m.zoomInTipLabel:"Zoom in",x=void 0!==m.zoomOutTipLabel?m.zoomOutTipLabel:"Zoom out",O=document.createElement("button");O.className=c;O.setAttribute("type","button");O.title=h;O.appendChild("string"===typeof g?document.createTextNode(g):g);O.addEventListener(k.default.CLICK,this.handleClick_.bind(this,b),!1);c=document.createElement("button");c.className=e;c.setAttribute("type",
"button");c.title=x;c.appendChild("string"===typeof n?document.createTextNode(n):n);c.addEventListener(k.default.CLICK,this.handleClick_.bind(this,-b),!1);b=this.element;b.className=f+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL;b.appendChild(O);b.appendChild(c);this.duration_=void 0!==m.duration?m.duration:250}handleClick_(m,f){f.preventDefault();this.zoomByDelta_(m)}zoomByDelta_(m){const f=this.getMap().getView();if(f){var b=f.getZoom();void 0!==b&&(m=f.getConstrainedZoom(b+m),0<this.duration_?
(f.getAnimating()&&f.cancelAnimations(),f.animate({zoom:m,duration:this.duration_,easing:q.easeOut})):f.setZoom(m))}}}A.default=t};
shadow$provide[148]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.defaults=function(m){m=m?m:{};const f=new p.default;(void 0!==m.zoom?m.zoom:1)&&f.push(new t.default(m.zoomOptions));(void 0!==m.rotate?m.rotate:1)&&f.push(new q.default(m.rotateOptions));(void 0!==m.attribution?m.attribution:1)&&f.push(new k.default(m.attributionOptions));return f};var k=w(L(145)),p=w(L(79)),q=w(L(146)),t=w(L(147))};
shadow$provide[149]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={ACTIVE:"active"}};
shadow$provide[150]=function(Ka,L,sb,A){function w(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(A,"__esModule",{value:!0});A.pan=function(t,m,f){const b=t.getCenterInternal();b&&t.animateInternal({duration:void 0!==f?f:250,easing:p.linear,center:t.getConstrainedCenter([b[0]+m[0],b[1]+m[1]])})};A.zoomByDelta=function(t,m,f,b){const c=t.getZoom();void 0!==c&&(m=t.getConstrainedZoom(c+m),m=t.getResolutionForZoom(m),t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:m,anchor:f,
duration:void 0!==b?b:250,easing:p.easeOut}))};A.default=void 0;Ka=w(L(76));var k=w(L(149)),p=L(125);class q extends Ka.default{constructor(t){super();t&&t.handleEvent&&(this.handleEvent=t.handleEvent);this.map_=null;this.setActive(!0)}getActive(){return this.get(k.default.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(k.default.ACTIVE,t)}setMap(t){this.map_=t}}A.default=q};
shadow$provide[151]=function(Ka,L,sb,A){function w(t){if("function"!==typeof WeakMap)return null;var m=new WeakMap,f=new WeakMap;return(w=function(b){return b?f:m})(t)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(t,m){if(!m&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};if((m=w(m))&&m.has(t))return m.get(t);var f={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,
c)){var e=b?Object.getOwnPropertyDescriptor(t,c):null;e&&(e.get||e.set)?Object.defineProperty(f,c,e):f[c]=t[c]}f.default=t;m&&m.set(t,f);return f}(L(150)),p=function(t){return t&&t.__esModule?t:{default:t}}(L(103));class q extends k.default{constructor(t){super();t=t?t:{};this.delta_=t.delta?t.delta:1;this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){var m=!1;if(t.type==p.default.DBLCLICK){m=t.originalEvent;const f=t.coordinate,b=m.shiftKey?-this.delta_:this.delta_;t=t.map.getView();
(0,k.zoomByDelta)(t,b,f,this.duration_);m.preventDefault();m=!0}return!m}}A.default=q};
shadow$provide[152]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.centroid=function(q){const t=q.length;let m=0,f=0;for(let b=0;b<t;b++)m+=q[b].clientX,f+=q[b].clientY;return[m/t,f/t]};A.default=void 0;Ka=w(L(150));var k=w(L(103));class p extends Ka.default{constructor(q){q=q?q:{};super(q);q.handleDownEvent&&(this.handleDownEvent=q.handleDownEvent);q.handleDragEvent&&(this.handleDragEvent=q.handleDragEvent);q.handleMoveEvent&&
(this.handleMoveEvent=q.handleMoveEvent);q.handleUpEvent&&(this.handleUpEvent=q.handleUpEvent);q.stopDown&&(this.stopDown=q.stopDown);this.handlingDownUpSequence=!1;this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(q){return!1}handleDragEvent(q){}handleEvent(q){if(!q.originalEvent)return!0;let t=!1;this.updateTrackedPointers_(q);this.handlingDownUpSequence?q.type==k.default.POINTERDRAG?(this.handleDragEvent(q),q.originalEvent.preventDefault()):q.type==k.default.POINTERUP&&
(this.handlingDownUpSequence=this.handleUpEvent(q)&&0<this.targetPointers.length):q.type==k.default.POINTERDOWN?(this.handlingDownUpSequence=q=this.handleDownEvent(q),t=this.stopDown(q)):q.type==k.default.POINTERMOVE&&this.handleMoveEvent(q);return!t}handleMoveEvent(q){}handleUpEvent(q){return!1}stopDown(q){return q}updateTrackedPointers_(q){q.activePointers&&(this.targetPointers=q.activePointers)}}A.default=p};
shadow$provide[153]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.all=function(t){const m=arguments;return function(f){let b=!0;for(let c=0,e=m.length;c<e&&(b=b&&m[c](f),b);++c);return b}};A.primaryAction=A.penOnly=A.touchOnly=A.mouseOnly=A.targetNotEditable=A.shiftKeyOnly=A.platformModifierKeyOnly=A.noModifierKeys=A.doubleClick=A.singleClick=A.pointerMove=A.never=A.mouseActionButton=A.click=A.always=A.focusWithTabindex=A.focus=A.altShiftKeysOnly=A.altKeyOnly=void 0;var w=
function(t){return t&&t.__esModule?t:{default:t}}(L(103));Ka=L(69);var k=L(80),p=L(81);A.altKeyOnly=function(t){t=t.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};A.altShiftKeysOnly=function(t){t=t.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};const q=function(t){const m=t.map.getTargetElement();t=t.map.getOwnerDocument().activeElement;return m.contains(t)};A.focus=q;A.focusWithTabindex=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?
q(t):!0};A.always=Ka.TRUE;A.click=function(t){return t.type==w.default.CLICK};A.mouseActionButton=function(t){t=t.originalEvent;return 0==t.button&&!(k.WEBKIT&&k.MAC&&t.ctrlKey)};A.never=Ka.FALSE;A.pointerMove=function(t){return"pointermove"==t.type};A.singleClick=function(t){return t.type==w.default.SINGLECLICK};A.doubleClick=function(t){return t.type==w.default.DBLCLICK};A.noModifierKeys=function(t){t=t.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};A.platformModifierKeyOnly=
function(t){t=t.originalEvent;return!t.altKey&&(k.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};A.shiftKeyOnly=function(t){t=t.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};A.targetNotEditable=function(t){t=t.originalEvent;const m=t.target.tagName;return"INPUT"!==m&&"SELECT"!==m&&"TEXTAREA"!==m&&!t.target.isContentEditable};A.mouseOnly=function(t){t=t.originalEvent;(0,p.assert)(void 0!==t,56);return"mouse"==t.pointerType};A.touchOnly=function(t){t=t.originalEvent;(0,p.assert)(void 0!==
t,56);return"touch"===t.pointerType};A.penOnly=function(t){t=t.originalEvent;(0,p.assert)(void 0!==t,56);return"pen"===t.pointerType};A.primaryAction=function(t){t=t.originalEvent;(0,p.assert)(void 0!==t,56);return t.isPrimary&&0===t.button}};
shadow$provide[154]=function(Ka,L,sb,A){function w(b){if("function"!==typeof WeakMap)return null;var c=new WeakMap,e=new WeakMap;return(w=function(g){return g?e:c})(b)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!==typeof b&&"function"!==typeof b)return{default:b};if((c=w(c))&&c.has(b))return c.get(b);var e={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in b)if("default"!==n&&Object.prototype.hasOwnProperty.call(b,
n)){var h=g?Object.getOwnPropertyDescriptor(b,n):null;h&&(h.get||h.set)?Object.defineProperty(e,n,h):e[n]=b[n]}e.default=b;c&&c.set(b,e);return e}(L(152)),p=L(69),q=L(153),t=L(125),m=L(93);class f extends k.default{constructor(b){super({stopDown:p.FALSE});b=b?b:{};this.kinetic_=b.kinetic;this.lastCentroid=null;this.panning_=!1;const c=b.condition?b.condition:(0,q.all)(q.noModifierKeys,q.primaryAction);this.condition_=b.onFocusOnly?(0,q.all)(q.focusWithTabindex,c):c;this.noKinetic_=!1}handleDragEvent(b){this.panning_||
(this.panning_=!0,this.getMap().getView().beginInteraction());const c=this.targetPointers,e=(0,k.centroid)(c);if(c.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(e[0],e[1]),this.lastCentroid){const g=[this.lastCentroid[0]-e[0],e[1]-this.lastCentroid[1]],n=b.map.getView();(0,m.scale)(g,n.getResolution());(0,m.rotate)(g,n.getRotation());n.adjustCenterInternal(g)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=e;this.lastPointersCount_=c.length;b.originalEvent.preventDefault()}handleUpEvent(b){var c=
b.map;b=c.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const g=this.kinetic_.getDistance(),n=this.kinetic_.getAngle();var e=b.getCenterInternal();e=c.getPixelFromCoordinateInternal(e);c=c.getCoordinateFromPixelInternal([e[0]-g*Math.cos(n),e[1]-g*Math.sin(n)]);b.animateInternal({center:b.getConstrainedCenter(c),duration:500,easing:t.easeOut})}this.panning_&&(this.panning_=!1,b.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=
null;return!0}handleDownEvent(b){return 0<this.targetPointers.length&&this.condition_(b)?(b=b.map.getView(),this.lastCentroid=null,b.getAnimating()&&b.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1}}A.default=f};
shadow$provide[155]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(152));var w=L(69),k=L(153),p=L(124);class q extends Ka.default{constructor(t){t=t?t:{};super({stopDown:w.FALSE});this.condition_=t.condition?t.condition:k.altShiftKeysOnly;this.lastAngle_=void 0;this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if((0,k.mouseOnly)(t)){var m=t.map,f=m.getView();f.getConstraints().rotation!==
p.disable&&(m=m.getSize(),t=t.pixel,t=Math.atan2(m[1]/2-t[1],t[0]-m[0]/2),void 0!==this.lastAngle_&&f.adjustRotationInternal(-(t-this.lastAngle_)),this.lastAngle_=t)}}handleUpEvent(t){if(!(0,k.mouseOnly)(t))return!0;t.map.getView().endInteraction(this.duration_);return!1}handleDownEvent(t){return(0,k.mouseOnly)(t)&&(0,k.mouseActionButton)(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}A.default=q};
shadow$provide[156]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(67));var k=w(L(142));class p extends Ka.default{constructor(q){super();this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.style.pointerEvents="auto";this.element_.className="ol-box "+q;this.endPixel_=this.startPixel_=this.map_=null}disposeInternal(){this.setMap(null)}render_(){const q=
this.startPixel_,t=this.endPixel_,m=this.element_.style;m.left=Math.min(q[0],t[0])+"px";m.top=Math.min(q[1],t[1])+"px";m.width=Math.abs(t[0]-q[0])+"px";m.height=Math.abs(t[1]-q[1])+"px"}setMap(q){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit";t.top="inherit";t.width="inherit";t.height="inherit"}(this.map_=q)&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(q,t){this.startPixel_=q;this.endPixel_=t;this.createOrUpdateGeometry();
this.render_()}createOrUpdateGeometry(){var q=this.startPixel_;const t=this.endPixel_;q=[q,[q[0],t[1]],t,[t[0],q[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);q[4]=q[0].slice();this.geometry_?this.geometry_.setCoordinates([q]):this.geometry_=new k.default([q])}getGeometry(){return this.geometry_}}A.default=p};
shadow$provide[157]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.DragBoxEvent=void 0;Ka=w(L(65));sb=w(L(152));var k=w(L(156)),p=L(153);class q extends Ka.default{constructor(m,f,b){super(m);this.coordinate=f;this.mapBrowserEvent=b}}A.DragBoxEvent=q;class t extends sb.default{constructor(m){super();m=m?m:{};this.box_=new k.default(m.className||"ol-dragbox");this.minArea_=void 0!==m.minArea?m.minArea:64;m.onBoxEnd&&
(this.onBoxEnd=m.onBoxEnd);this.startPixel_=null;this.condition_=m.condition?m.condition:p.mouseActionButton;this.boxEndCondition_=m.boxEndCondition?m.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(m,f,b){m=b[0]-f[0];f=b[1]-f[1];return m*m+f*f>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(m){this.box_.setPixels(this.startPixel_,m.pixel);this.dispatchEvent(new q("boxdrag",m.coordinate,m))}handleUpEvent(m){this.box_.setMap(null);const f=this.boxEndCondition_(m,
this.startPixel_,m.pixel);if(f)this.onBoxEnd(m);this.dispatchEvent(new q(f?"boxend":"boxcancel",m.coordinate,m));return!1}handleDownEvent(m){return this.condition_(m)?(this.startPixel_=m.pixel,this.box_.setMap(m.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new q("boxstart",m.coordinate,m)),!0):!1}onBoxEnd(m){}}A.default=t};
shadow$provide[158]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(157));var w=L(125),k=L(153);class p extends Ka.default{constructor(q){q=q?q:{};super({condition:q.condition?q.condition:k.shiftKeyOnly,className:q.className||"ol-dragzoom",minArea:q.minArea});this.duration_=void 0!==q.duration?q.duration:200;this.out_=void 0!==q.out?q.out:!1}onBoxEnd(q){q=this.getMap().getView();let t=this.getGeometry();if(this.out_){var m=
q.rotatedExtentForGeometry(t);m=q.getResolutionForExtentInternal(m);m=q.getResolution()/m;t=t.clone();t.scale(m*m)}q.fitInternal(t,{duration:this.duration_,easing:w.easeOut})}}A.default=p};
shadow$provide[159]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[160]=function(Ka,L,sb,A){function w(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,g=new WeakMap;return(w=function(n){return n?g:e})(c)}function k(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=w(e))&&e.has(c))return e.get(c);var g={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,
h;for(h in c)if("default"!==h&&Object.prototype.hasOwnProperty.call(c,h)){var x=n?Object.getOwnPropertyDescriptor(c,h):null;x&&(x.get||x.set)?Object.defineProperty(g,h,x):g[h]=c[h]}g.default=c;e&&e.set(c,g);return g}(L(150)),t=k(L(159)),m=L(153),f=L(93);class b extends q.default{constructor(c){super();c=c||{};this.defaultCondition_=function(e){return(0,m.noModifierKeys)(e)&&(0,m.targetNotEditable)(e)};this.condition_=void 0!==c.condition?c.condition:this.defaultCondition_;this.duration_=void 0!==
c.duration?c.duration:100;this.pixelDelta_=void 0!==c.pixelDelta?c.pixelDelta:128}handleEvent(c){var e=!1;if(c.type==p.default.KEYDOWN){const n=c.originalEvent;var g=n.keyCode;if(this.condition_(c)&&(g==t.default.DOWN||g==t.default.LEFT||g==t.default.RIGHT||g==t.default.UP)){c=c.map.getView();e=c.getResolution()*this.pixelDelta_;let h=0,x=0;g==t.default.DOWN?x=-e:g==t.default.LEFT?h=-e:g==t.default.RIGHT?h=e:x=e;g=[h,x];(0,f.rotate)(g,c.getRotation());(0,q.pan)(c,g,this.duration_);n.preventDefault();
e=!0}}return!e}}A.default=b};
shadow$provide[161]=function(Ka,L,sb,A){function w(m){if("function"!==typeof WeakMap)return null;var f=new WeakMap,b=new WeakMap;return(w=function(c){return c?b:f})(m)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(m){return m&&m.__esModule?m:{default:m}}(L(72)),p=function(m,f){if(!f&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((f=w(f))&&f.has(m))return f.get(m);var b={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,
e;for(e in m)if("default"!==e&&Object.prototype.hasOwnProperty.call(m,e)){var g=c?Object.getOwnPropertyDescriptor(m,e):null;g&&(g.get||g.set)?Object.defineProperty(b,e,g):b[e]=m[e]}b.default=m;f&&f.set(m,b);return b}(L(150)),q=L(153);class t extends p.default{constructor(m){super();m=m?m:{};this.condition_=m.condition?m.condition:q.targetNotEditable;this.delta_=m.delta?m.delta:1;this.duration_=void 0!==m.duration?m.duration:100}handleEvent(m){var f=!1;if(m.type==k.default.KEYDOWN||m.type==k.default.KEYPRESS){const b=
m.originalEvent,c=b.charCode;!this.condition_(m)||43!=c&&45!=c||(f=43==c?this.delta_:-this.delta_,m=m.map.getView(),(0,p.zoomByDelta)(m,f,void 0,this.duration_),b.preventDefault(),f=!0)}return!f}}A.default=t};
shadow$provide[162]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(k,p,q){this.decay_=k;this.minVelocity_=p;this.delay_=q;this.points_=[];this.initialVelocity_=this.angle_=0}begin(){this.initialVelocity_=this.angle_=this.points_.length=0}update(k,p){this.points_.push(k,p,Date.now())}end(){if(6>this.points_.length)return!1;var k=Date.now()-this.delay_,p=this.points_.length-3;if(this.points_[p+2]<k)return!1;let q=p-3;for(;0<q&&this.points_[q+
2]>k;)q-=3;k=this.points_[p+2]-this.points_[q+2];if(k<1E3/60)return!1;const t=this.points_[p]-this.points_[q];p=this.points_[p+1]-this.points_[q+1];this.angle_=Math.atan2(p,t);this.initialVelocity_=Math.sqrt(t*t+p*p)/k;return this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}A.default=w};
shadow$provide[163]=function(Ka,L,sb,A){function w(b){if("function"!==typeof WeakMap)return null;var c=new WeakMap,e=new WeakMap;return(w=function(g){return g?e:c})(b)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(b){return b&&b.__esModule?b:{default:b}}(L(72)),p=function(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!==typeof b&&"function"!==typeof b)return{default:b};if((c=w(c))&&c.has(b))return c.get(b);var e={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,
n;for(n in b)if("default"!==n&&Object.prototype.hasOwnProperty.call(b,n)){var h=g?Object.getOwnPropertyDescriptor(b,n):null;h&&(h.get||h.set)?Object.defineProperty(e,n,h):e[n]=b[n]}e.default=b;c&&c.set(b,e);return e}(L(150)),q=L(80),t=L(153),m=L(85);class f extends p.default{constructor(b){b=b?b:{};super(b);this.lastDelta_=this.totalDelta_=0;this.maxDelta_=void 0!==b.maxDelta?b.maxDelta:1;this.duration_=void 0!==b.duration?b.duration:250;this.timeout_=void 0!==b.timeout?b.timeout:80;this.useAnchor_=
void 0!==b.useAnchor?b.useAnchor:!0;this.constrainResolution_=void 0!==b.constrainResolution?b.constrainResolution:!1;const c=b.condition?b.condition:t.always;this.condition_=b.onFocusOnly?(0,t.all)(t.focusWithTabindex,c):c;this.lastAnchor_=null;this.mode_=this.startTime_=void 0;this.trackpadEventGap_=400;this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const b=this.getMap();b&&b.getView().endInteraction(void 0,this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)}handleEvent(b){if(!this.condition_(b)||
b.type!==k.default.WHEEL)return!0;const c=b.map;var e=b.originalEvent;e.preventDefault();this.useAnchor_&&(this.lastAnchor_=b.coordinate);if(b.type==k.default.WHEEL){var g=e.deltaY;q.FIREFOX&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(g/=q.DEVICE_PIXEL_RATIO);e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(g*=40)}if(0===g)return!1;this.lastDelta_=g;b=Date.now();void 0===this.startTime_&&(this.startTime_=b);if(!this.mode_||b-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(g)?"trackpad":"wheel";
e=c.getView();if("trackpad"===this.mode_&&!e.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(e.getAnimating()&&e.cancelAnimations(),e.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),e.adjustZoom(-g/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=b,!1;this.totalDelta_+=g;g=Math.max(this.timeout_-(b-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,
c),g);return!1}handleWheelZoom_(b){b=b.getView();b.getAnimating()&&b.cancelAnimations();let c=-(0,m.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(b.getConstrainResolution()||this.constrainResolution_)c=c?0<c?1:-1:0;(0,p.zoomByDelta)(b,c,this.lastAnchor_,this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0}setMouseAnchor(b){this.useAnchor_=b;b||(this.lastAnchor_=null)}}
A.default=f};
shadow$provide[164]=function(Ka,L,sb,A){function w(m){if("function"!==typeof WeakMap)return null;var f=new WeakMap,b=new WeakMap;return(w=function(c){return c?b:f})(m)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(m,f){if(!f&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((f=w(f))&&f.has(m))return f.get(m);var b={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in m)if("default"!==e&&Object.prototype.hasOwnProperty.call(m,
e)){var g=c?Object.getOwnPropertyDescriptor(m,e):null;g&&(g.get||g.set)?Object.defineProperty(b,e,g):b[e]=m[e]}b.default=m;f&&f.set(m,b);return b}(L(152)),p=L(69),q=L(124);class t extends k.default{constructor(m){const f=m=m?m:{};f.stopDown||(f.stopDown=p.FALSE);super(f);this.anchor_=null;this.lastAngle_=void 0;this.rotating_=!1;this.rotationDelta_=0;this.threshold_=void 0!==m.threshold?m.threshold:.3;this.duration_=void 0!==m.duration?m.duration:250}handleDragEvent(m){var f=0,b=this.targetPointers[0],
c=this.targetPointers[1];b=Math.atan2(c.clientY-b.clientY,c.clientX-b.clientX);void 0!==this.lastAngle_&&(f=b-this.lastAngle_,this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=b;m=m.map;b=m.getView();if(b.getConstraints().rotation!==q.disable){c=m.getViewport().getBoundingClientRect();var e=(0,k.centroid)(this.targetPointers);e[0]-=c.left;e[1]-=c.top;this.anchor_=m.getCoordinateFromPixelInternal(e);this.rotating_&&(m.render(),
b.adjustRotationInternal(f,this.anchor_))}}handleUpEvent(m){return 2>this.targetPointers.length?(m.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(m){return 2<=this.targetPointers.length?(m=m.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||m.getView().beginInteraction(),!0):!1}}A.default=t};
shadow$provide[165]=function(Ka,L,sb,A){function w(t){if("function"!==typeof WeakMap)return null;var m=new WeakMap,f=new WeakMap;return(w=function(b){return b?f:m})(t)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(t,m){if(!m&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};if((m=w(m))&&m.has(t))return m.get(t);var f={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,
c)){var e=b?Object.getOwnPropertyDescriptor(t,c):null;e&&(e.get||e.set)?Object.defineProperty(f,c,e):f[c]=t[c]}f.default=t;m&&m.set(t,f);return f}(L(152)),p=L(69);class q extends k.default{constructor(t){const m=t=t?t:{};m.stopDown||(m.stopDown=p.FALSE);super(m);this.anchor_=null;this.duration_=void 0!==t.duration?t.duration:400;this.lastDistance_=void 0;this.lastScaleDelta_=1}handleDragEvent(t){let m=1;var f=this.targetPointers[0],b=this.targetPointers[1],c=f.clientX-b.clientX;f=f.clientY-b.clientY;
c=Math.sqrt(c*c+f*f);void 0!==this.lastDistance_&&(m=this.lastDistance_/c);this.lastDistance_=c;t=t.map;c=t.getView();1!=m&&(this.lastScaleDelta_=m);f=t.getViewport().getBoundingClientRect();b=(0,k.centroid)(this.targetPointers);b[0]-=f.left;b[1]-=f.top;this.anchor_=t.getCoordinateFromPixelInternal(b);t.render();c.adjustResolutionInternal(m,this.anchor_)}handleUpEvent(t){return 2>this.targetPointers.length?(t.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0}handleDownEvent(t){return 2<=
this.targetPointers.length?(t=t.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0):!1}}A.default=q};
shadow$provide[166]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(A,"__esModule",{value:!0});A.defaults=function(h){h=h?h:{};const x=new k.default,O=new c.default(-.005,.05,100);(void 0!==h.altShiftDragRotate?h.altShiftDragRotate:1)&&x.push(new t.default);(void 0!==h.doubleClickZoom?h.doubleClickZoom:1)&&x.push(new p.default({delta:h.zoomDelta,duration:h.zoomDuration}));(void 0!==h.dragPan?h.dragPan:1)&&x.push(new q.default({onFocusOnly:h.onFocusOnly,
kinetic:O}));(void 0!==h.pinchRotate?h.pinchRotate:1)&&x.push(new g.default);(void 0!==h.pinchZoom?h.pinchZoom:1)&&x.push(new n.default({duration:h.zoomDuration}));if(void 0!==h.keyboard?h.keyboard:1)x.push(new f.default),x.push(new b.default({delta:h.zoomDelta,duration:h.zoomDuration}));(void 0!==h.mouseWheelZoom?h.mouseWheelZoom:1)&&x.push(new e.default({onFocusOnly:h.onFocusOnly,duration:h.zoomDuration}));(void 0!==h.shiftDragZoom?h.shiftDragZoom:1)&&x.push(new m.default({duration:h.zoomDuration}));
return x};var k=w(L(79)),p=w(L(151)),q=w(L(154)),t=w(L(155)),m=w(L(158)),f=w(L(160)),b=w(L(161)),c=w(L(162)),e=w(L(163)),g=w(L(164)),n=w(L(165))};
shadow$provide[167]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.buffer=function(w,k,p){void 0===p&&(p=[0,0]);p[0]=w[0]+2*k;p[1]=w[1]+2*k;return p};A.hasArea=function(w){return 0<w[0]&&0<w[1]};A.scale=function(w,k,p){void 0===p&&(p=[0,0]);p[0]=w[0]*k+.5|0;p[1]=w[1]*k+.5|0;return p};A.toSize=function(w,k){if(Array.isArray(w))return w;void 0===k?k=[w,w]:(k[0]=w,k[1]=w);return k}};
shadow$provide[168]=function(Ka,L,sb,A){function w(la){if("function"!==typeof WeakMap)return null;var Ia=new WeakMap,bb=new WeakMap;return(w=function(ib){return ib?bb:Ia})(la)}function k(la,Ia){if(!Ia&&la&&la.__esModule)return la;if(null===la||"object"!==typeof la&&"function"!==typeof la)return{default:la};if((Ia=w(Ia))&&Ia.has(la))return Ia.get(la);var bb={},ib=Object.defineProperty&&Object.getOwnPropertyDescriptor,Ja;for(Ja in la)if("default"!==Ja&&Object.prototype.hasOwnProperty.call(la,Ja)){var ma=
ib?Object.getOwnPropertyDescriptor(la,Ja):null;ma&&(ma.get||ma.set)?Object.defineProperty(bb,Ja,ma):bb[Ja]=la[Ja]}bb.default=la;Ia&&Ia.set(la,bb);return bb}function p(la){return la&&la.__esModule?la:{default:la}}function q(la){la instanceof g.default?la.setMapInternal(null):la instanceof n.default&&la.getLayers().forEach(q)}function t(la,Ia){if(la instanceof g.default)la.setMapInternal(Ia);else if(la instanceof n.default){la=la.getLayers().getArray();for(let bb=0,ib=la.length;bb<ib;++bb)t(la[bb],
Ia)}}function m(la){let Ia=null;void 0!==la.keyboardEventTarget&&(Ia="string"===typeof la.keyboardEventTarget?document.getElementById(la.keyboardEventTarget):la.keyboardEventTarget);const bb={},ib=la.layers&&"function"===typeof la.layers.getLayers?la.layers:new n.default({layers:la.layers});bb[J.default.LAYERGROUP]=ib;bb[J.default.TARGET]=la.target;bb[J.default.VIEW]=la.view instanceof T.default?la.view:new T.default;let Ja;void 0!==la.controls&&(Array.isArray(la.controls)?Ja=new f.default(la.controls.slice()):
((0,W.assert)("function"===typeof la.controls.getArray,47),Ja=la.controls));let ma;void 0!==la.interactions&&(Array.isArray(la.interactions)?ma=new f.default(la.interactions.slice()):((0,W.assert)("function"===typeof la.interactions.getArray,48),ma=la.interactions));void 0!==la.overlays?Array.isArray(la.overlays)?la=new f.default(la.overlays.slice()):((0,W.assert)("function"===typeof la.overlays.getArray,49),la=la.overlays):la=new f.default;return{controls:Ja,interactions:ma,keyboardEventTarget:Ia,
overlays:la,values:bb}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=p(L(76));var f=p(L(79)),b=p(L(78)),c=p(L(99)),e=p(L(72)),g=p(L(91)),n=k(L(100)),h=p(L(102)),x=p(L(105)),O=p(L(103)),H=p(L(101)),F=p(L(106)),J=p(L(107)),D=p(L(66)),r=p(L(104)),z=p(L(90)),G=k(L(110)),T=p(L(143)),R=p(L(111)),ca=L(80),M=L(69),ba=L(82),W=L(81),ea=L(84),La=L(148),aa=L(166),C=L(121),B=L(75),N=L(167),Y=L(73),Aa=L(97);class sa extends Ka.default{constructor(la){super();la=la||{};const Ia=m(la);this.loaded_=
!0;this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this);this.maxTilesLoading_=void 0!==la.maxTilesLoading?la.maxTilesLoading:16;this.pixelRatio_=void 0!==la.pixelRatio?la.pixelRatio:ca.DEVICE_PIXEL_RATIO;this.animationDelay_=this.animationDelay_.bind(this);this.coordinateToPixelTransform_=(0,ba.create)();this.pixelToCoordinateTransform_=(0,ba.create)();this.frameIndex_=0;this.layerGroupPropertyListenerKeys_=this.viewChangeListenerKey_=this.viewPropertyListenerKey_=this.previousExtent_=
this.frameState_=null;this.viewport_=document.createElement("div");this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height="100%";this.overlayContainer_=document.createElement("div");this.overlayContainer_.style.position="absolute";this.overlayContainer_.style.zIndex="0";this.overlayContainer_.style.width="100%";this.overlayContainer_.style.height=
"100%";this.overlayContainer_.style.pointerEvents="none";this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("div");this.overlayContainerStopEvent_.style.position="absolute";this.overlayContainerStopEvent_.style.zIndex="0";this.overlayContainerStopEvent_.style.width="100%";this.overlayContainerStopEvent_.style.height="100%";this.overlayContainerStopEvent_.style.pointerEvents="none";this.overlayContainerStopEvent_.className=
"ol-overlaycontainer-stopevent";this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=null;this.moveTolerance_=la.moveTolerance;this.keyboardEventTarget_=Ia.keyboardEventTarget;this.targetChangeHandlerKeys_=null;this.controls=Ia.controls||(0,La.defaults)();this.interactions=Ia.interactions||(0,aa.defaults)({onFocusOnly:!0});this.overlays_=Ia.overlays;this.overlayIdIndex_={};this.renderer_=null;this.postRenderFunctions_=[];this.tileQueue_=new G.default(this.getTilePriority.bind(this),
this.handleTileChange_.bind(this));this.addChangeListener(J.default.LAYERGROUP,this.handleLayerGroupChanged_);this.addChangeListener(J.default.VIEW,this.handleViewChanged_);this.addChangeListener(J.default.SIZE,this.handleSizeChanged_);this.addChangeListener(J.default.TARGET,this.handleTargetChanged_);this.setProperties(Ia.values);const bb=this;!la.view||la.view instanceof T.default||la.view.then(function(ib){bb.setView(new T.default(ib))});this.controls.addEventListener(b.default.ADD,function(ib){ib.element.setMap(this)}.bind(this));
this.controls.addEventListener(b.default.REMOVE,function(ib){ib.element.setMap(null)}.bind(this));this.interactions.addEventListener(b.default.ADD,function(ib){ib.element.setMap(this)}.bind(this));this.interactions.addEventListener(b.default.REMOVE,function(ib){ib.element.setMap(null)}.bind(this));this.overlays_.addEventListener(b.default.ADD,function(ib){this.addOverlayInternal_(ib.element)}.bind(this));this.overlays_.addEventListener(b.default.REMOVE,function(ib){const Ja=ib.element.getId();void 0!==
Ja&&delete this.overlayIdIndex_[Ja.toString()];ib.element.setMap(null)}.bind(this));this.controls.forEach(function(ib){ib.setMap(this)}.bind(this));this.interactions.forEach(function(ib){ib.setMap(this)}.bind(this));this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(la){this.getControls().push(la)}addInteraction(la){this.getInteractions().push(la)}addLayer(la){this.getLayerGroup().getLayers().push(la)}handleLayerAdd_(la){t(la.layer,this)}addOverlay(la){this.getOverlays().push(la)}addOverlayInternal_(la){const Ia=
la.getId();void 0!==Ia&&(this.overlayIdIndex_[Ia.toString()]=la);la.setMap(this)}disposeInternal(){this.controls.clear();this.interactions.clear();this.overlays_.clear();this.setTarget(null);super.disposeInternal()}forEachFeatureAtPixel(la,Ia,bb){if(this.frameState_&&this.renderer_)return la=this.getCoordinateFromPixelInternal(la),bb=void 0!==bb?bb:{},this.renderer_.forEachFeatureAtCoordinate(la,this.frameState_,void 0!==bb.hitTolerance?bb.hitTolerance:0,!1!==bb.checkWrapped,Ia,null,void 0!==bb.layerFilter?
bb.layerFilter:M.TRUE,null)}getFeaturesAtPixel(la,Ia){const bb=[];this.forEachFeatureAtPixel(la,function(ib){bb.push(ib)},Ia);return bb}getAllLayers(){function la(bb){bb.forEach(function(ib){ib instanceof n.default?la(ib.getLayers()):Ia.push(ib)})}const Ia=[];la(this.getLayers());return Ia}hasFeatureAtPixel(la,Ia){if(!this.frameState_||!this.renderer_)return!1;la=this.getCoordinateFromPixelInternal(la);Ia=void 0!==Ia?Ia:{};return this.renderer_.hasFeatureAtCoordinate(la,this.frameState_,void 0!==
Ia.hitTolerance?Ia.hitTolerance:0,!1!==Ia.checkWrapped,void 0!==Ia.layerFilter?Ia.layerFilter:M.TRUE,null)}getEventCoordinate(la){return this.getCoordinateFromPixel(this.getEventPixel(la))}getEventCoordinateInternal(la){return this.getCoordinateFromPixelInternal(this.getEventPixel(la))}getEventPixel(la){const Ia=this.viewport_.getBoundingClientRect();la="changedTouches"in la?la.changedTouches[0]:la;return[la.clientX-Ia.left,la.clientY-Ia.top]}getTarget(){return this.get(J.default.TARGET)}getTargetElement(){const la=
this.getTarget();return void 0!==la?"string"===typeof la?document.getElementById(la):la:null}getCoordinateFromPixel(la){return(0,C.toUserCoordinate)(this.getCoordinateFromPixelInternal(la),this.getView().getProjection())}getCoordinateFromPixelInternal(la){const Ia=this.frameState_;return Ia?(0,ba.apply)(Ia.pixelToCoordinateTransform,la.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(la){la=this.overlayIdIndex_[la.toString()];return void 0!==la?la:
null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(J.default.LAYERGROUP)}setLayers(la){var Ia=this.getLayerGroup();la instanceof f.default?Ia.setLayers(la):(Ia=Ia.getLayers(),Ia.clear(),Ia.extend(la))}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const la=this.getLayerGroup().getLayerStatesArray();for(let bb=0,ib=la.length;bb<ib;++bb){var Ia=la[bb];if(!Ia.visible)continue;const Ja=Ia.layer.getRenderer();if(Ja&&!Ja.ready||(Ia=Ia.layer.getSource())&&
Ia.loading)return!0}return!1}getPixelFromCoordinate(la){la=(0,C.fromUserCoordinate)(la,this.getView().getProjection());return this.getPixelFromCoordinateInternal(la)}getPixelFromCoordinateInternal(la){const Ia=this.frameState_;return Ia?(0,ba.apply)(Ia.coordinateToPixelTransform,la.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(J.default.SIZE)}getView(){return this.get(J.default.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const la=
this.getTargetElement();return la?la.ownerDocument:document}getTilePriority(la,Ia,bb,ib){return(0,G.getTilePriority)(this.frameState_,la,Ia,bb,ib)}handleBrowserEvent(la,Ia){Ia=Ia||la.type;la=new h.default(Ia,this,la);this.handleMapBrowserEvent(la)}handleMapBrowserEvent(la){if(this.frameState_){var Ia=la.originalEvent,bb=Ia.type;if(bb===r.default.POINTERDOWN||bb===e.default.WHEEL||bb===e.default.KEYDOWN){bb=this.getOwnerDocument();var ib=this.viewport_.getRootNode?this.viewport_.getRootNode():bb;Ia=
Ia.target;if(this.overlayContainerStopEvent_.contains(Ia)||!(ib===bb?bb.documentElement:ib).contains(Ia))return}la.frameState=this.frameState_;if(!1!==this.dispatchEvent(la))for(Ia=this.getInteractions().getArray().slice(),bb=Ia.length-1;0<=bb&&(ib=Ia[bb],ib.getMap()!==this||!ib.getActive()||!this.getTargetElement()||ib.handleEvent(la)&&!la.propagationStopped);bb--);}}handlePostRender(){const la=this.frameState_;var Ia=this.tileQueue_;if(!Ia.isEmpty()){let ib=this.maxTilesLoading_;var bb=ib;if(la){const Ja=
la.viewHints;if(Ja[R.default.ANIMATING]||Ja[R.default.INTERACTING])ib=(bb=8<Date.now()-la.time)?0:8,bb=bb?0:2}Ia.getTilesLoading()<ib&&(Ia.reprioritize(),Ia.loadMoreTiles(ib,bb))}la&&this.renderer_&&!la.animate&&(!0===this.renderComplete_?(this.hasListener(z.default.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(z.default.RENDERCOMPLETE,la),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new H.default(F.default.LOADEND,this,la)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new H.default(F.default.LOADSTART,
this,la))));Ia=this.postRenderFunctions_;for(let ib=0,Ja=Ia.length;ib<Ja;++ib)Ia[ib](this,la);Ia.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let bb=0,ib=this.targetChangeHandlerKeys_.length;bb<ib;++bb)(0,Y.unlistenByKey)(this.targetChangeHandlerKeys_[bb]);this.targetChangeHandlerKeys_=null;this.viewport_.removeEventListener(e.default.CONTEXTMENU,this.boundHandleBrowserEvent_);
this.viewport_.removeEventListener(e.default.WHEEL,this.boundHandleBrowserEvent_);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,Aa.removeNode)(this.viewport_)}var la=this.getTargetElement();if(la){la.appendChild(this.viewport_);this.renderer_||(this.renderer_=new c.default(this));this.mapBrowserEventHandler_=new x.default(this,this.moveTolerance_);for(var Ia in O.default)this.mapBrowserEventHandler_.addEventListener(O.default[Ia],this.handleMapBrowserEvent.bind(this));
this.viewport_.addEventListener(e.default.CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(e.default.WHEEL,this.boundHandleBrowserEvent_,ca.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);Ia=this.getOwnerDocument().defaultView;la=this.keyboardEventTarget_?this.keyboardEventTarget_:la;this.targetChangeHandlerKeys_=[(0,Y.listen)(la,e.default.KEYDOWN,this.handleBrowserEvent,this),(0,Y.listen)(la,e.default.KEYPRESS,this.handleBrowserEvent,this),(0,Y.listen)(Ia,e.default.RESIZE,this.updateSize,
this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,Y.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=
null);this.viewChangeListenerKey_&&((0,Y.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const la=this.getView();la&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,Y.listen)(la,D.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,Y.listen)(la,e.default.CHANGE,this.handleViewPropertyChanged_,this),la.resolveConstraints(0));this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Y.unlistenByKey),
this.layerGroupPropertyListenerKeys_=null);const la=this.getLayerGroup();la&&(this.handleLayerAdd_(new n.GroupEvent("addlayer",la)),this.layerGroupPropertyListenerKeys_=[(0,Y.listen)(la,D.default.PROPERTYCHANGE,this.render,this),(0,Y.listen)(la,e.default.CHANGE,this.render,this),(0,Y.listen)(la,"addlayer",this.handleLayerAdd_,this),(0,Y.listen)(la,"removelayer",this.handleLayerRemove_,this)]);this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&
cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()}redrawText(){const la=this.getLayerGroup().getLayerStatesArray();for(let Ia=0,bb=la.length;Ia<bb;++Ia){const ib=la[Ia].layer;ib.hasRenderer()&&ib.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(la){return this.getControls().remove(la)}removeInteraction(la){return this.getInteractions().remove(la)}removeLayer(la){return this.getLayerGroup().getLayers().remove(la)}handleLayerRemove_(la){q(la.layer)}removeOverlay(la){return this.getOverlays().remove(la)}renderFrame_(la){const Ia=
this.getSize();var bb=this.getView();const ib=this.frameState_;var Ja=null;void 0!==Ia&&(0,N.hasArea)(Ia)&&bb&&bb.isDef()&&(Ja=bb.getHints(this.frameState_?this.frameState_.viewHints:void 0),bb=bb.getState(),Ja={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,ea.getForViewAndSize)(bb.center,bb.resolution,bb.rotation,Ia),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,
postRenderFunctions:[],size:Ia,tileQueue:this.tileQueue_,time:la,usedTiles:{},viewState:bb,viewHints:Ja,wantedTiles:{},mapId:(0,B.getUid)(this),renderTargets:{}},bb.nextCenter&&bb.nextResolution&&(la=isNaN(bb.nextRotation)?bb.rotation:bb.nextRotation,Ja.nextExtent=(0,ea.getForViewAndSize)(bb.nextCenter,bb.nextResolution,la,Ia)));this.frameState_=Ja;this.renderer_.renderFrame(Ja);Ja&&(Ja.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,Ja.postRenderFunctions),!ib||this.previousExtent_&&
((0,ea.isEmpty)(this.previousExtent_)||(0,ea.equals)(Ja.extent,this.previousExtent_))||(this.dispatchEvent(new H.default(F.default.MOVESTART,this,ib)),this.previousExtent_=(0,ea.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||Ja.viewHints[R.default.ANIMATING]||Ja.viewHints[R.default.INTERACTING]||(0,ea.equals)(Ja.extent,this.previousExtent_)||(this.dispatchEvent(new H.default(F.default.MOVEEND,this,Ja)),(0,ea.clone)(Ja.extent,this.previousExtent_)));this.dispatchEvent(new H.default(F.default.POSTRENDER,
this,Ja));this.renderComplete_=this.hasListener(F.default.LOADSTART)||this.hasListener(F.default.LOADEND)||this.hasListener(z.default.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0;this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0;this.handlePostRender()},0))}setLayerGroup(la){const Ia=this.getLayerGroup();Ia&&this.handleLayerRemove_(new n.GroupEvent("removelayer",
Ia));this.set(J.default.LAYERGROUP,la)}setSize(la){this.set(J.default.SIZE,la)}setTarget(la){this.set(J.default.TARGET,la)}setView(la){if(!la||la instanceof T.default)this.set(J.default.VIEW,la);else{this.set(J.default.VIEW,new T.default);var Ia=this;la.then(function(bb){Ia.setView(new T.default(bb))})}}updateSize(){const la=this.getTargetElement();let Ia=void 0;if(la){var bb=getComputedStyle(la);const ib=la.offsetWidth-parseFloat(bb.borderLeftWidth)-parseFloat(bb.paddingLeft)-parseFloat(bb.paddingRight)-
parseFloat(bb.borderRightWidth);bb=la.offsetHeight-parseFloat(bb.borderTopWidth)-parseFloat(bb.paddingTop)-parseFloat(bb.paddingBottom)-parseFloat(bb.borderBottomWidth);isNaN(ib)||isNaN(bb)||(Ia=[ib,bb],!(0,N.hasArea)(Ia)&&(la.offsetWidth||la.offsetHeight||la.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(Ia);this.updateViewportSize_()}updateViewportSize_(){const la=this.getView();if(la){let Ia=void 0;const bb=getComputedStyle(this.viewport_);
bb.width&&bb.height&&(Ia=[parseInt(bb.width,10),parseInt(bb.height,10)]);la.setViewportSize(Ia)}}}A.default=sa};
shadow$provide[169]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}function k(f){if("function"===typeof f)return f;let b;Array.isArray(f)?b=f:((0,q.assert)("function"===typeof f.getZIndex,41),b=[f]);return function(){return b}}Object.defineProperty(A,"__esModule",{value:!0});A.createStyleFunction=k;A.default=void 0;Ka=w(L(76));var p=w(L(72)),q=L(81),t=L(73);class m extends Ka.default{constructor(f){super();this.id_=void 0;this.geometryName_="geometry";this.style_=null;this.styleFunction_=
void 0;this.geometryChangeKey_=null;this.addChangeListener(this.geometryName_,this.handleGeometryChanged_);f&&("function"===typeof f.getSimplifiedGeometry?this.setGeometry(f):this.setProperties(f))}clone(){const f=new m(this.hasProperties()?this.getProperties():null);f.setGeometryName(this.getGeometryName());var b=this.getGeometry();b&&f.setGeometry(b.clone());(b=this.getStyle())&&f.setStyle(b);return f}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&
((0,t.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);const f=this.getGeometry();f&&(this.geometryChangeKey_=(0,t.listen)(f,p.default.CHANGE,this.handleGeometryChange_,this));this.changed()}setGeometry(f){this.set(this.geometryName_,f)}setStyle(f){this.styleFunction_=(this.style_=f)?k(f):void 0;this.changed()}setId(f){this.id_=f;this.changed()}setGeometryName(f){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_);this.geometryName_=f;this.addChangeListener(this.geometryName_,
this.handleGeometryChanged_);this.handleGeometryChanged_()}}A.default=m};
shadow$provide[170]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}function k(f){const b=[];for(let c=0,e=f.length;c<e;++c)b.push(f[c].clone());return b}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=w(L(72));Ka=w(L(127));var q=L(84),t=L(73);class m extends Ka.default{constructor(f){super();this.geometries_=f?f:null;this.changeEventsKeys_=[];this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(t.unlistenByKey);this.changeEventsKeys_.length=
0}listenGeometriesChange_(){if(this.geometries_)for(let f=0,b=this.geometries_.length;f<b;++f)this.changeEventsKeys_.push((0,t.listen)(this.geometries_[f],p.default.CHANGE,this.changed,this))}clone(){const f=new m(null);f.setGeometries(this.geometries_);f.applyProperties(this);return f}closestPointXY(f,b,c,e){if(e<(0,q.closestSquaredDistanceXY)(this.getExtent(),f,b))return e;const g=this.geometries_;for(let n=0,h=g.length;n<h;++n)e=g[n].closestPointXY(f,b,c,e);return e}containsXY(f,b){const c=this.geometries_;
for(let e=0,g=c.length;e<g;++e)if(c[e].containsXY(f,b))return!0;return!1}computeExtent(f){(0,q.createOrUpdateEmpty)(f);const b=this.geometries_;for(let c=0,e=b.length;c<e;++c)(0,q.extend)(f,b[c].getExtent());return f}getGeometries(){return k(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let f=[];const b=this.geometries_;for(let c=0,e=b.length;c<e;++c)b[c].getType()===this.getType()?f=f.concat(b[c].getGeometriesArrayRecursive()):f.push(b[c]);return f}getSimplifiedGeometry(f){this.simplifiedGeometryRevision!==
this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>f||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&f<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const b=[],c=this.geometries_;let e=!1;for(let g=0,n=c.length;g<n;++g){const h=c[g],x=h.getSimplifiedGeometry(f);b.push(x);x!==h&&(e=!0)}if(e)return f=new m(null),f.setGeometriesArray(b),f;this.simplifiedGeometryMaxMinSquaredTolerance=f;return this}getType(){return"GeometryCollection"}intersectsExtent(f){const b=
this.geometries_;for(let c=0,e=b.length;c<e;++c)if(b[c].intersectsExtent(f))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(f,b){const c=this.geometries_;for(let e=0,g=c.length;e<g;++e)c[e].rotate(f,b);this.changed()}scale(f,b,c){c||(c=(0,q.getCenter)(this.getExtent()));const e=this.geometries_;for(let g=0,n=e.length;g<n;++g)e[g].scale(f,b,c);this.changed()}setGeometries(f){this.setGeometriesArray(k(f))}setGeometriesArray(f){this.unlistenGeometriesChange_();this.geometries_=
f;this.listenGeometriesChange_();this.changed()}applyTransform(f){const b=this.geometries_;for(let c=0,e=b.length;c<e;++c)b[c].applyTransform(f);this.changed()}translate(f,b){const c=this.geometries_;for(let e=0,g=c.length;e<g;++e)c[e].translate(f,b);this.changed()}disposeInternal(){this.unlistenGeometriesChange_();super.disposeInternal()}}A.default=m};
shadow$provide[171]=function(Ka,L,sb,A){function w(q,t,m,f,b,c){if(m==t)return null;if(b<q[t+f-1])return c?(m=q.slice(t,t+f),m[f-1]=b,m):null;if(q[m-1]<b)return c?(m=q.slice(m-f,m),m[f-1]=b,m):null;if(b==q[t+f-1])return q.slice(t,t+f);t/=f;for(m/=f;t<m;)c=t+m>>1,b<q[(c+1)*f-1]?m=c:t=c+1;m=q[t*f-1];if(b==m)return q.slice((t-1)*f,(t-1)*f+f);c=(b-m)/(q[(t+1)*f-1]-m);m=[];for(let e=0;e<f-1;++e)m.push((0,p.lerp)(q[(t-1)*f+e],q[t*f+e],c));m.push(b);return m}Object.defineProperty(A,"__esModule",{value:!0});
A.interpolatePoint=function(q,t,m,f,b,c,e){let g;var n=(m-t)/f;if(1===n)var h=t;else if(2===n)h=t,g=b;else if(0!==n){n=q[t];let x=q[t+1],O=0;h=[0];for(let H=t+f;H<m;H+=f){const F=q[H],J=q[H+1];O+=Math.sqrt((F-n)*(F-n)+(J-x)*(J-x));h.push(O);n=F;x=J}m=b*O;b=(0,k.binarySearch)(h,m);0>b?(g=(m-h[-b-2])/(h[-b-1]-h[-b-2]),h=t+(-b-2)*f):h=t+b*f}e=1<e?e:2;c=c?c:Array(e);for(t=0;t<e;++t)c[t]=void 0===h?NaN:void 0===g?q[h+t]:(0,p.lerp)(q[h+t],q[h+f+t],g);return c};A.lineStringCoordinateAtM=w;A.lineStringsCoordinateAtM=
function(q,t,m,f,b,c,e){if(e)return w(q,t,m[m.length-1],f,b,c);if(b<q[f-1])return c?(q=q.slice(0,f),q[f-1]=b,q):null;if(q[q.length-1]<b)return c?(q=q.slice(q.length-f),q[f-1]=b,q):null;for(let g=0,n=m.length;g<n;++g)if(c=m[g],t!=c){if(b<q[t+f-1])break;else if(b<=q[c-1])return w(q,t,c,f,b,!1);t=c}return null};var k=L(68),p=L(85)};
shadow$provide[172]=function(Ka,L,sb,A){function w(k,p,q,t){let m=k[p],f=k[p+1],b=0;for(p+=t;p<q;p+=t){const c=k[p],e=k[p+1];b+=Math.sqrt((c-m)*(c-m)+(e-f)*(e-f));m=c;f=e}return b}Object.defineProperty(A,"__esModule",{value:!0});A.lineStringLength=w;A.linearRingLength=function(k,p,q,t){let m=w(k,p,q,t);const f=k[q-t]-k[p];k=k[q-t+1]-k[p+1];return m+=Math.sqrt(f*f+k*k)}};
shadow$provide[173]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(n){return n&&n.__esModule?n:{default:n}}(L(128));var w=L(129),k=L(84),p=L(130),q=L(131),t=L(68),m=L(138),f=L(132),b=L(171),c=L(139),e=L(172);class g extends Ka.default{constructor(n,h){super();this.flatMidpoint_=null;this.maxDeltaRevision_=this.maxDelta_=this.flatMidpointRevision_=-1;void 0===h||Array.isArray(n[0])?this.setCoordinates(n,h):this.setFlatCoordinates(h,n)}appendCoordinate(n){this.flatCoordinates?
(0,t.extend)(this.flatCoordinates,n):this.flatCoordinates=n.slice();this.changed()}clone(){const n=new g(this.flatCoordinates.slice(),this.layout);n.applyProperties(this);return n}closestPointXY(n,h,x,O){if(O<(0,k.closestSquaredDistanceXY)(this.getExtent(),n,h))return O;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,w.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,w.assignClosestPoint)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,n,h,x,O)}forEachSegment(n){return(0,m.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)}getCoordinateAtM(n,h){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(0,b.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n,void 0!==h?h:!1)}getCoordinates(){return(0,f.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(n,h){return(0,b.interpolatePoint)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride,n,h,this.stride)}getLength(){return(0,e.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision());return this.flatMidpoint_}getSimplifiedGeometryInternal(n){const h=[];h.length=(0,q.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,
n,h,0);return new g(h,"XY")}getType(){return"LineString"}intersectsExtent(n){return(0,c.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)}setCoordinates(n,h){this.setLayout(h,n,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,p.deflateCoordinates)(this.flatCoordinates,0,n,this.stride);this.changed()}}A.default=g};
shadow$provide[174]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(173));Ka=w(L(128));var p=L(129),q=L(84),t=L(130),m=L(131),f=L(68),b=L(132),c=L(171),e=L(139);class g extends Ka.default{constructor(n,h,x){super();this.ends_=[];this.maxDeltaRevision_=this.maxDelta_=-1;if(Array.isArray(n[0]))this.setCoordinates(n,h);else if(void 0!==h&&x)this.setFlatCoordinates(h,n),this.ends_=x;else{h=this.getLayout();
x=[];const O=[];for(let H=0,F=n.length;H<F;++H){const J=n[H];0===H&&(h=J.getLayout());(0,f.extend)(x,J.getFlatCoordinates());O.push(x.length)}this.setFlatCoordinates(h,x);this.ends_=O}}appendLineString(n){this.flatCoordinates?(0,f.extend)(this.flatCoordinates,n.getFlatCoordinates().slice()):this.flatCoordinates=n.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()}clone(){const n=new g(this.flatCoordinates.slice(),this.layout,this.ends_.slice());n.applyProperties(this);
return n}closestPointXY(n,h,x,O){if(O<(0,q.closestSquaredDistanceXY)(this.getExtent(),n,h))return O;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,p.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,p.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,n,h,x,O)}getCoordinateAtM(n,h,x){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?
null:(0,c.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,n,void 0!==h?h:!1,void 0!==x?x:!1)}getCoordinates(){return(0,b.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(n){return 0>n||this.ends_.length<=n?null:new k.default(this.flatCoordinates.slice(0===n?0:this.ends_[n-1],this.ends_[n]),this.layout)}getLineStrings(){const n=this.flatCoordinates,h=this.ends_,x=this.layout,O=[];var H=0;for(let F=0,J=h.length;F<
J;++F){const D=h[F];H=new k.default(n.slice(H,D),x);O.push(H);H=D}return O}getFlatMidpoints(){const n=[],h=this.flatCoordinates;var x=0;const O=this.ends_,H=this.stride;for(let F=0,J=O.length;F<J;++F){const D=O[F];x=(0,c.interpolatePoint)(h,x,D,H,.5);(0,f.extend)(n,x);x=D}return n}getSimplifiedGeometryInternal(n){const h=[],x=[];h.length=(0,m.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,n,h,0,x);return new g(h,"XY",x)}getType(){return"MultiLineString"}intersectsExtent(n){return(0,e.intersectsLineStringArray)(this.flatCoordinates,
0,this.ends_,this.stride,n)}setCoordinates(n,h){this.setLayout(h,n,2);this.flatCoordinates||(this.flatCoordinates=[]);n=(0,t.deflateCoordinatesArray)(this.flatCoordinates,0,n,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1];this.changed()}}A.default=g};
shadow$provide[175]=function(Ka,L,sb,A){function w(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(135));Ka=w(L(128));var p=L(84),q=L(130),t=L(68),m=L(132),f=L(85);class b extends Ka.default{constructor(c,e){super();e&&!Array.isArray(c[0])?this.setFlatCoordinates(e,c):this.setCoordinates(c,e)}appendPoint(c){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,c.getFlatCoordinates()):this.flatCoordinates=c.getFlatCoordinates().slice();
this.changed()}clone(){const c=new b(this.flatCoordinates.slice(),this.layout);c.applyProperties(this);return c}closestPointXY(c,e,g,n){if(n<(0,p.closestSquaredDistanceXY)(this.getExtent(),c,e))return n;const h=this.flatCoordinates,x=this.stride;for(let H=0,F=h.length;H<F;H+=x){var O=(0,f.squaredDistance)(c,e,h[H],h[H+1]);if(O<n){n=O;for(O=0;O<x;++O)g[O]=h[H+O];g.length=x}}return n}getCoordinates(){return(0,m.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(c){const e=
this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return 0>c||e<=c?null:new k.default(this.flatCoordinates.slice(c*this.stride,(c+1)*this.stride),this.layout)}getPoints(){const c=this.flatCoordinates,e=this.layout,g=this.stride,n=[];for(let h=0,x=c.length;h<x;h+=g){const O=new k.default(c.slice(h,h+g),e);n.push(O)}return n}getType(){return"MultiPoint"}intersectsExtent(c){const e=this.flatCoordinates,g=this.stride;for(let n=0,h=e.length;n<h;n+=g)if((0,p.containsXY)(c,e[n],e[n+1]))return!0;
return!1}setCoordinates(c,e){this.setLayout(e,c,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,q.deflateCoordinates)(this.flatCoordinates,0,c,this.stride);this.changed()}}A.default=b};
shadow$provide[176]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.linearRingss=function(k,p,q,t){const m=[];(0,w.createEmpty)();for(let f=0,b=q.length;f<b;++f){const c=q[f];p=(0,w.createOrUpdateFromFlatCoordinates)(k,p,c[0],t);m.push((p[0]+p[2])/2,(p[1]+p[3])/2);p=c[c.length-1]}return m};var w=L(84)};
shadow$provide[177]=function(Ka,L,sb,A){function w(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(175)),p=w(L(142));Ka=w(L(128));var q=L(129),t=L(84),m=L(130),f=L(68),b=L(137),c=L(132),e=L(139),g=L(141),n=L(133),h=L(176),x=L(136),O=L(131);class H extends Ka.default{constructor(F,J,D){super();this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.orientedRevision_=this.maxDeltaRevision_=this.maxDelta_=
-1;this.orientedFlatCoordinates_=null;if(!D&&!Array.isArray(F[0])){J=this.getLayout();const r=F;F=[];D=[];for(let z=0,G=r.length;z<G;++z){const T=r[z];0===z&&(J=T.getLayout());const R=F.length,ca=T.getEnds();for(let M=0,ba=ca.length;M<ba;++M)ca[M]+=R;(0,f.extend)(F,T.getFlatCoordinates());D.push(ca)}}void 0!==J&&D?(this.setFlatCoordinates(J,F),this.endss_=D):this.setCoordinates(F,J)}appendPolygon(F){if(this.flatCoordinates){const J=this.flatCoordinates.length;(0,f.extend)(this.flatCoordinates,F.getFlatCoordinates());
F=F.getEnds().slice();for(let D=0,r=F.length;D<r;++D)F[D]+=J}else this.flatCoordinates=F.getFlatCoordinates().slice(),F=F.getEnds().slice(),this.endss_.push();this.endss_.push(F);this.changed()}clone(){var F=this.endss_.length;const J=Array(F);for(let D=0;D<F;++D)J[D]=this.endss_[D].slice();F=new H(this.flatCoordinates.slice(),this.layout,J);F.applyProperties(this);return F}closestPointXY(F,J,D,r){if(r<(0,t.closestSquaredDistanceXY)(this.getExtent(),F,J))return r;this.maxDeltaRevision_!=this.getRevision()&&
(this.maxDelta_=Math.sqrt((0,q.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,q.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,F,J,D,r)}containsXY(F,J){return(0,x.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,F,J)}getArea(){return(0,n.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(F){let J;
void 0!==F?(J=this.getOrientedFlatCoordinates().slice(),(0,g.orientLinearRingsArray)(J,0,this.endss_,this.stride,F)):J=this.flatCoordinates;return(0,c.inflateMultiCoordinatesArray)(J,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const F=(0,h.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,b.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,
this.stride,F);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new k.default(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const F=this.flatCoordinates;(0,g.linearRingssAreOriented)(F,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=F:(this.orientedFlatCoordinates_=F.slice(),this.orientedFlatCoordinates_.length=(0,g.orientLinearRingsArray)(this.orientedFlatCoordinates_,
0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(F){const J=[],D=[];J.length=(0,O.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(F),J,0,D);return new H(J,"XY",D)}getPolygon(F){if(0>F||this.endss_.length<=F)return null;if(0===F)var J=0;else J=this.endss_[F-1],J=J[J.length-1];F=this.endss_[F].slice();const D=F[F.length-1];if(0!==J)for(let r=0,z=F.length;r<z;++r)F[r]-=J;return new p.default(this.flatCoordinates.slice(J,
D),this.layout,F)}getPolygons(){const F=this.layout,J=this.flatCoordinates,D=this.endss_,r=[];var z=0;for(let G=0,T=D.length;G<T;++G){const R=D[G].slice(),ca=R[R.length-1];if(0!==z)for(let M=0,ba=R.length;M<ba;++M)R[M]-=z;z=new p.default(J.slice(z,ca),F,R);r.push(z);z=ca}return r}getType(){return"MultiPolygon"}intersectsExtent(F){return(0,e.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,F)}setCoordinates(F,J){this.setLayout(J,F,3);this.flatCoordinates||
(this.flatCoordinates=[]);F=(0,m.deflateMultiCoordinatesArray)(this.flatCoordinates,0,F,this.stride,this.endss_);0===F.length?this.flatCoordinates.length=0:(F=F[F.length-1],this.flatCoordinates.length=0===F.length?0:F[F.length-1]);this.changed()}}A.default=H};
shadow$provide[178]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.transformGeometryWithOptions=function(q,t,m){var f=m?(0,k.get)(m.featureProjection):null;const b=m?(0,k.get)(m.dataProjection):null;f=f&&b&&!(0,k.equivalent)(f,b)?(t?q.clone():q).transform(t?f:b,t?b:f):q;if(t&&m&&void 0!==m.decimals){const c=Math.pow(10,m.decimals);f===q&&(f=q.clone());f.applyTransform(function(e){for(let g=0,n=e.length;g<n;++g)e[g]=Math.round(e[g]*c)/c;return e})}return f};A.transformExtentWithOptions=
function(q,t){const m=t?(0,k.get)(t.featureProjection):null;t=t?(0,k.get)(t.dataProjection):null;return m&&t&&!(0,k.equivalent)(m,t)?(0,k.transformExtent)(q,t,m):q};A.default=void 0;var w=L(75),k=L(121);class p{constructor(){this.defaultFeatureProjection=this.dataProjection=void 0;this.supportedMediaTypes=null}getReadOptions(q,t){t&&(q=t.dataProjection?(0,k.get)(t.dataProjection):this.readProjection(q),t.extent&&q&&"tile-pixels"===q.getUnits()&&(q=(0,k.get)(q),q.setWorldExtent(t.extent)),t={dataProjection:q,
featureProjection:t.featureProjection});return this.adaptOptions(t)}adaptOptions(q){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},q)}getType(){return(0,w.abstract)()}readFeature(q,t){return(0,w.abstract)()}readFeatures(q,t){return(0,w.abstract)()}readGeometry(q,t){return(0,w.abstract)()}readProjection(q){return(0,w.abstract)()}writeFeature(q,t){return(0,w.abstract)()}writeFeatures(q,t){return(0,w.abstract)()}writeGeometry(q,t){return(0,w.abstract)()}}
A.default=p};
shadow$provide[179]=function(Ka,L,sb,A){function w(q){return"string"===typeof q?q:""}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(178));var k=L(75);class p extends Ka.default{constructor(){super()}getType(){return"text"}readFeature(q,t){return this.readFeatureFromText(w(q),this.adaptOptions(t))}readFeatureFromText(q,t){return(0,k.abstract)()}readFeatures(q,t){return this.readFeaturesFromText(w(q),this.adaptOptions(t))}readFeaturesFromText(q,
t){return(0,k.abstract)()}readGeometry(q,t){return this.readGeometryFromText(w(q),this.adaptOptions(t))}readGeometryFromText(q,t){return(0,k.abstract)()}readProjection(q){return this.readProjectionFromText(w(q))}readProjectionFromText(q){return this.dataProjection}writeFeature(q,t){return this.writeFeatureText(q,this.adaptOptions(t))}writeFeatureText(q,t){return(0,k.abstract)()}writeFeatures(q,t){return this.writeFeaturesText(q,this.adaptOptions(t))}writeFeaturesText(q,t){return(0,k.abstract)()}writeGeometry(q,
t){return this.writeGeometryText(q,this.adaptOptions(t))}writeGeometryText(q,t){return(0,k.abstract)()}}A.default=p};
shadow$provide[180]=function(Ka,L,sb,A){function w(r){return r&&r.__esModule?r:{default:r}}function k(r){r=r.getCoordinates();return 0===r.length?"":r.join(" ")}function p(r){r=r.getCoordinates();const z=[];for(let G=0,T=r.length;G<T;++G)z.push(r[G].join(" "));return z.join(",")}function q(r){const z=[];r=r.getLinearRings();for(let G=0,T=r.length;G<T;++G)z.push("("+p(r[G])+")");return z.join(",")}function t(r){var z=r.getType();const G=(0,D[z])(r);z=O[z];if("function"===typeof r.getFlatCoordinates){r=
r.getLayout();let T="";if("XYZ"===r||"XYZM"===r)T+="Z";if("XYM"===r||"XYZM"===r)T+="M";r=T;0<r.length&&(z+=" "+r)}return 0===G.length?z+" EMPTY":z+"("+G+")"}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var m=w(L(169)),f=w(L(170));Ka=w(L(173));sb=w(L(174));var b=w(L(175)),c=w(L(177)),e=w(L(135)),g=w(L(142)),n=w(L(179)),h=L(178);const x={POINT:e.default,LINESTRING:Ka.default,POLYGON:g.default,MULTIPOINT:b.default,MULTILINESTRING:sb.default,MULTIPOLYGON:c.default},O={Point:"POINT",
LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class H{constructor(r){this.wkt=r;this.index_=-1}isAlpha_(r){return"a"<=r&&"z">=r||"A"<=r&&"Z">=r}isNumeric_(r,z){return"0"<=r&&"9">=r||"."==r&&!(void 0!==z&&z)}isWhiteSpace_(r){return" "==r||"\t"==r||"\r"==r||"\n"==r}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){var r=this.nextChar_();const z=this.index_;
let G=r;if("("==r)r=2;else if(","==r)r=5;else if(")"==r)r=3;else if(this.isNumeric_(r)||"-"==r)r=4,G=this.readNumber_();else if(this.isAlpha_(r))r=1,G=this.readText_();else{if(this.isWhiteSpace_(r))return this.nextToken();if(""===r)r=6;else throw Error("Unexpected character: "+r);}return{position:z,value:G,type:r}}readNumber_(){let r;const z=this.index_;let G=!1,T=!1;do{if("."==r)G=!0;else if("e"==r||"E"==r)T=!0;r=this.nextChar_()}while(this.isNumeric_(r,G)||!T&&("e"==r||"E"==r)||T&&("-"==r||"+"==
r));return parseFloat(this.wkt.substring(z,this.index_--))}readText_(){let r;const z=this.index_;do r=this.nextChar_();while(this.isAlpha_(r));return this.wkt.substring(z,this.index_--).toUpperCase()}}class F{constructor(r){this.lexer_=r;this.token_={position:0,type:0};this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(r){return this.token_.type==r}match(r){(r=this.isTokenType(r))&&this.consume_();return r}parse(){this.consume_();return this.parseGeometry_()}parseGeometryLayout_(){let r=
"XY";var z=this.token_;this.isTokenType(1)&&(z=z.value,"Z"===z?r="XYZ":"M"===z?r="XYM":"ZM"===z&&(r="XYZM"),"XY"!==r&&this.consume_());return r}parseGeometryCollectionText_(){if(this.match(2)){const r=[];do r.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parsePointText_(){if(this.match(2)){const r=this.parsePoint_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parseLineStringText_(){if(this.match(2)){const r=
this.parsePointList_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parsePolygonText_(){if(this.match(2)){const r=this.parseLineStringTextList_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parseMultiPointText_(){if(this.match(2)){let r;r=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parseMultiLineStringText_(){if(this.match(2)){const r=this.parseLineStringTextList_();
if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parseMultiPolygonText_(){if(this.match(2)){const r=this.parsePolygonTextList_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parsePoint_(){const r=[],z=this.layout_.length;for(let G=0;G<z;++G){const T=this.token_;if(this.match(4))r.push(T.value);else break}if(r.length==z)return r;throw Error(this.formatErrorMessage_());}parsePointList_(){const r=[this.parsePoint_()];for(;this.match(5);)r.push(this.parsePoint_());
return r}parsePointTextList_(){const r=[this.parsePointText_()];for(;this.match(5);)r.push(this.parsePointText_());return r}parseLineStringTextList_(){const r=[this.parseLineStringText_()];for(;this.match(5);)r.push(this.parseLineStringText_());return r}parsePolygonTextList_(){const r=[this.parsePolygonText_()];for(;this.match(5);)r.push(this.parsePolygonText_());return r}isEmptyGeometry_(){const r=this.isTokenType(1)&&"EMPTY"==this.token_.value;r&&this.consume_();return r}formatErrorMessage_(){return"Unexpected `"+
this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){var r=this.token_;if(this.match(1)){r=r.value;this.layout_=this.parseGeometryLayout_();const G=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==r){if(G)return new f.default([]);var z=this.parseGeometryCollectionText_();return new f.default(z)}const T=x[r];if(!T)throw Error("Invalid geometry type: "+r);if(G)z="POINT"==r?[NaN,NaN]:[];else switch(r){case "POINT":z=this.parsePointText_();break;case "LINESTRING":z=
this.parseLineStringText_();break;case "POLYGON":z=this.parsePolygonText_();break;case "MULTIPOINT":z=this.parseMultiPointText_();break;case "MULTILINESTRING":z=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":z=this.parseMultiPolygonText_()}return new T(z,this.layout_)}throw Error(this.formatErrorMessage_());}}class J extends n.default{constructor(r){super();r=r?r:{};this.splitCollection_=void 0!==r.splitCollection?r.splitCollection:!1}parse_(r){r=new H(r);return(new F(r)).parse()}readFeatureFromText(r,
z){r=this.readGeometryFromText(r,z);z=new m.default;z.setGeometry(r);return z}readFeaturesFromText(r,z){r=this.readGeometryFromText(r,z);r=this.splitCollection_&&"GeometryCollection"==r.getType()?r.getGeometriesArray():[r];z=[];for(let G=0,T=r.length;G<T;++G){const R=new m.default;R.setGeometry(r[G]);z.push(R)}return z}readGeometryFromText(r,z){r=this.parse_(r);return(0,h.transformGeometryWithOptions)(r,!1,z)}writeFeatureText(r,z){return(r=r.getGeometry())?this.writeGeometryText(r,z):""}writeFeaturesText(r,
z){if(1==r.length)return this.writeFeatureText(r[0],z);const G=[];for(let T=0,R=r.length;T<R;++T)G.push(r[T].getGeometry());r=new f.default(G);return this.writeGeometryText(r,z)}writeGeometryText(r,z){return t((0,h.transformGeometryWithOptions)(r,!0,z))}}const D={Point:k,LineString:p,Polygon:q,MultiPoint:function(r){const z=[];r=r.getPoints();for(let G=0,T=r.length;G<T;++G)z.push("("+k(r[G])+")");return z.join(",")},MultiLineString:function(r){const z=[];r=r.getLineStrings();for(let G=0,T=r.length;G<
T;++G)z.push("("+p(r[G])+")");return z.join(",")},MultiPolygon:function(r){const z=[];r=r.getPolygons();for(let G=0,T=r.length;G<T;++G)z.push("("+q(r[G])+")");return z.join(",")},GeometryCollection:function(r){const z=[];r=r.getGeometries();for(let G=0,T=r.length;G<T;++G)z.push(t(r[G]));return z.join(",")}};A.default=J};
shadow$provide[181]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(81);class k{constructor(p){this.highWaterMark=void 0!==p?p:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}canExpireCache(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark}expireCache(p){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null}containsKey(p){return this.entries_.hasOwnProperty(p)}forEach(p){let q=
this.oldest_;for(;q;)p(q.value_,q.key_,this),q=q.newer}get(p,q){p=this.entries_[p];(0,w.assert)(void 0!==p,15);if(p===this.newest_)return p.value_;p===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(p.newer.older=p.older,p.older.newer=p.newer);p.newer=null;p.older=this.newest_;this.newest_=this.newest_.newer=p;return p.value_}remove(p){const q=this.entries_[p];(0,w.assert)(void 0!==q,15);if(q===this.newest_){if(this.newest_=q.older)this.newest_.newer=null}else if(q===this.oldest_){if(this.oldest_=
q.newer)this.oldest_.older=null}else q.newer.older=q.older,q.older.newer=q.newer;delete this.entries_[p];--this.count_;return q.value_}getCount(){return this.count_}getKeys(){const p=Array(this.count_);let q=0,t;for(t=this.newest_;t;t=t.older)p[q++]=t.key_;return p}getValues(){const p=Array(this.count_);let q=0,t;for(t=this.newest_;t;t=t.older)p[q++]=t.value_;return p}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(p){if(this.containsKey(p))return this.entries_[p].value_}pop(){const p=
this.oldest_;delete this.entries_[p.key_];p.newer&&(p.newer.older=null);this.oldest_=p.newer;this.oldest_||(this.newest_=null);--this.count_;return p.value_}replace(p,q){this.get(p);this.entries_[p].value_=q}set(p,q){(0,w.assert)(!(p in this.entries_),16);q={key_:p,newer:null,older:this.newest_,value_:q};this.newest_?this.newest_.newer=q:this.oldest_=q;this.newest_=q;this.entries_[p]=q;++this.count_}setSize(p){this.highWaterMark=p}}A.default=k};
shadow$provide[182]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(71));var k=w(L(72)),p=w(L(109)),q=L(75),t=L(125);class m extends Ka.default{constructor(f,b,c){super();c=c?c:{};this.tileCoord=f;this.state=b;this.interimTile=null;this.key="";this.transition_=void 0===c.transition?250:c.transition;this.transitionStarts_={};this.interpolate=!!c.interpolate}changed(){this.dispatchEvent(k.default.CHANGE)}release(){this.state===
p.default.ERROR&&this.setState(p.default.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let f=this.interimTile;do{if(f.getState()==p.default.LOADED)return this.transition_=0,f;f=f.interimTile}while(f);return this}refreshInterimChain(){if(this.interimTile){var f=this.interimTile,b=this;do{if(f.getState()==p.default.LOADED){f.interimTile=null;break}else f.getState()==p.default.LOADING?b=f:f.getState()==p.default.IDLE?b.interimTile=f.interimTile:
b=f;f=b.interimTile}while(f)}}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(f){if(this.state!==p.default.ERROR&&this.state>f)throw Error("Tile load sequence violation");this.state=f;this.changed()}load(){(0,q.abstract)()}getAlpha(f,b){if(!this.transition_)return 1;let c=this.transitionStarts_[f];if(!c)c=b,this.transitionStarts_[f]=c;else if(-1===c)return 1;f=b-c+1E3/60;return f>=this.transition_?1:(0,t.easeIn)(f/this.transition_)}inTransition(f){return this.transition_?
-1!==this.transitionStarts_[f]:!1}endTransition(f){this.transition_&&(this.transitionStarts_[f]=-1)}}A.default=m};
shadow$provide[183]=function(Ka,L,sb,A){function w(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(71));var k=w(L(72)),p=L(75);class q extends Ka.default{constructor(t,m,f,b){super();this.extent=t;this.pixelRatio_=f;this.resolution=m;this.state=b}changed(){this.dispatchEvent(k.default.CHANGE)}getExtent(){return this.extent}getImage(){return(0,p.abstract)()}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){(0,p.abstract)()}}
A.default=q};
shadow$provide[184]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[185]=function(Ka,L,sb,A){function w(c){return c&&c.__esModule?c:{default:c}}function k(c,e,g){let n=!0,h=!1,x=!1;const O=[(0,f.listenOnce)(c,p.default.LOAD,function(){x=!0;h||e()})];c.src&&t.IMAGE_DECODE?(h=!0,c.decode().then(function(){n&&e()}).catch(function(H){n&&(x?e():g())})):O.push((0,f.listenOnce)(c,p.default.ERROR,g));return function(){n=!1;O.forEach(f.unlistenByKey)}}Object.defineProperty(A,"__esModule",{value:!0});A.listenImage=k;A.default=void 0;var p=w(L(72));Ka=w(L(183));
var q=w(L(184)),t=L(80),m=L(84),f=L(73);class b extends Ka.default{constructor(c,e,g,n,h,x){super(c,e,g,q.default.IDLE);this.src_=n;this.image_=new Image;null!==h&&(this.image_.crossOrigin=h);this.unlisten_=null;this.state=q.default.IDLE;this.imageLoadFunction_=x}getImage(){return this.image_}handleImageError_(){this.state=q.default.ERROR;this.unlistenImage_();this.changed()}handleImageLoad_(){void 0===this.resolution&&(this.resolution=(0,m.getHeight)(this.extent)/this.image_.height);this.state=q.default.LOADED;
this.unlistenImage_();this.changed()}load(){if(this.state==q.default.IDLE||this.state==q.default.ERROR)this.state=q.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=k(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}setImage(c){this.image_=c;this.resolution=(0,m.getHeight)(this.extent)/this.image_.height}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}A.default=b};
shadow$provide[186]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(182));var k=w(L(109)),p=L(97),q=L(185);class t extends Ka.default{constructor(m,f,b,c,e,g){super(m,f,g);this.crossOrigin_=c;this.key=this.src_=b;this.image_=new Image;null!==c&&(this.image_.crossOrigin=c);this.unlisten_=null;this.tileLoadFunction_=e}getImage(){return this.image_}setImage(m){this.image_=m;this.state=k.default.LOADED;this.unlistenImage_();
this.changed()}handleImageError_(){this.state=k.default.ERROR;this.unlistenImage_();const m=(0,p.createCanvasContext2D)(1,1);m.fillStyle="rgba(0,0,0,0)";m.fillRect(0,0,1,1);this.image_=m.canvas;this.changed()}handleImageLoad_(){const m=this.image_;this.state=m.naturalWidth&&m.naturalHeight?k.default.LOADED:k.default.EMPTY;this.unlistenImage_();this.changed()}load(){this.state==k.default.ERROR&&(this.state=k.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));
this.state==k.default.IDLE&&(this.state=k.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,q.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}A.default=t};
shadow$provide[187]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.ERROR_THRESHOLD=.5};
shadow$provide[188]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(84),k=L(121),p=L(85);class q{constructor(t,m,f,b,c,e){this.sourceProj_=t;this.targetProj_=m;let g={};const n=(0,k.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(F){const J=F[0]+"/"+F[1];g[J]||(g[J]=n(F));return g[J]};this.maxSourceExtent_=b;this.errorThresholdSquared_=c*c;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!b&&!!this.sourceProj_.getExtent()&&(0,w.getWidth)(b)==(0,w.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,w.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,w.getWidth)(this.targetProj_.getExtent()):null;t=(0,w.getTopLeft)(f);m=(0,w.getTopRight)(f);b=(0,w.getBottomRight)(f);c=(0,w.getBottomLeft)(f);const h=this.transformInv_(t),x=this.transformInv_(m),O=this.transformInv_(b),H=this.transformInv_(c);
f=10+(e?Math.max(0,Math.ceil(Math.log2((0,w.getArea)(f)/(e*e*65536)))):0);this.addQuad_(t,m,b,c,h,x,O,H,f);if(this.wrapsXInSource_){let F=Infinity;this.triangles_.forEach(function(J,D,r){F=Math.min(F,J.source[0][0],J.source[1][0],J.source[2][0])});this.triangles_.forEach(function(J){if(Math.max(J.source[0][0],J.source[1][0],J.source[2][0])-F>this.sourceWorldWidth_/2){const D=[[J.source[0][0],J.source[0][1]],[J.source[1][0],J.source[1][1]],[J.source[2][0],J.source[2][1]]];D[0][0]-F>this.sourceWorldWidth_/
2&&(D[0][0]-=this.sourceWorldWidth_);D[1][0]-F>this.sourceWorldWidth_/2&&(D[1][0]-=this.sourceWorldWidth_);D[2][0]-F>this.sourceWorldWidth_/2&&(D[2][0]-=this.sourceWorldWidth_);Math.max(D[0][0],D[1][0],D[2][0])-Math.min(D[0][0],D[1][0],D[2][0])<this.sourceWorldWidth_/2&&(J.source=D)}}.bind(this))}g={}}addTriangle_(t,m,f,b,c,e){this.triangles_.push({source:[b,c,e],target:[t,m,f]})}addQuad_(t,m,f,b,c,e,g,n,h){var x=(0,w.boundingExtent)([c,e,g,n]);const O=this.sourceWorldWidth_?(0,w.getWidth)(x)/this.sourceWorldWidth_:
null;var H=this.sourceWorldWidth_,F=this.sourceProj_.canWrapX()&&.5<O&&1>O,J=!1;if(0<h){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const D=(0,w.boundingExtent)([t,m,f,b]);J=.25<(0,w.getWidth)(D)/this.targetWorldWidth_||J}!F&&this.sourceProj_.isGlobal()&&O&&(J=.25<O||J)}if(J||!this.maxSourceExtent_||!(isFinite(x[0])&&isFinite(x[1])&&isFinite(x[2])&&isFinite(x[3]))||(0,w.intersects)(x,this.maxSourceExtent_)){x=0;if(!(J||isFinite(c[0])&&isFinite(c[1])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(g[0])&&
isFinite(g[1])&&isFinite(n[0])&&isFinite(n[1])))if(0<h)J=!0;else if(x=(isFinite(c[0])&&isFinite(c[1])?0:8)+(isFinite(e[0])&&isFinite(e[1])?0:4)+(isFinite(g[0])&&isFinite(g[1])?0:2)+(isFinite(n[0])&&isFinite(n[1])?0:1),1!=x&&2!=x&&4!=x&&8!=x)return;if(0<h&&(J||(J=this.transformInv_([(t[0]+f[0])/2,(t[1]+f[1])/2]),H=F?((0,p.modulo)(c[0],H)+(0,p.modulo)(g[0],H))/2-(0,p.modulo)(J[0],H):(c[0]+g[0])/2-J[0],J=(c[1]+g[1])/2-J[1],J=H*H+J*J>this.errorThresholdSquared_),J)){Math.abs(t[0]-f[0])<=Math.abs(t[1]-
f[1])?(F=[(m[0]+f[0])/2,(m[1]+f[1])/2],H=this.transformInv_(F),J=[(b[0]+t[0])/2,(b[1]+t[1])/2],x=this.transformInv_(J),this.addQuad_(t,m,F,J,c,e,H,x,h-1),this.addQuad_(J,F,f,b,x,H,g,n,h-1)):(F=[(t[0]+m[0])/2,(t[1]+m[1])/2],H=this.transformInv_(F),J=[(f[0]+b[0])/2,(f[1]+b[1])/2],x=this.transformInv_(J),this.addQuad_(t,F,J,b,c,H,x,n,h-1),this.addQuad_(F,m,f,J,H,e,g,x,h-1));return}if(F){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(x&11)&&this.addTriangle_(t,f,b,c,g,n);0==(x&14)&&this.addTriangle_(t,
f,m,c,g,e);x&&(0==(x&13)&&this.addTriangle_(m,b,t,e,n,c),0==(x&7)&&this.addTriangle_(m,b,f,e,n,g))}}calculateSourceExtent(){const t=(0,w.createEmpty)();this.triangles_.forEach(function(m,f,b){m=m.source;(0,w.extendCoordinate)(t,m[0]);(0,w.extendCoordinate)(t,m[1]);(0,w.extendCoordinate)(t,m[2])});return t}getTriangles(){return this.triangles_}}A.default=q};
shadow$provide[189]=function(Ka,L,sb,A){function w(e,g,n,h,x){e.beginPath();e.moveTo(0,0);e.lineTo(g,n);e.lineTo(h,x);e.closePath();e.save();e.clip();e.fillRect(0,0,Math.max(g,h)+1,Math.max(n,x));e.restore()}function k(e,g){return 2<Math.abs(e[4*g]-210)||2<Math.abs(e[4*g+3]-191.25)}function p(e,g,n,h){const x=(0,m.transform)(n,g,e);n=(0,m.getPointResolution)(g,h,n);g=g.getMetersPerUnit();void 0!==g&&(n*=g);g=e.getMetersPerUnit();void 0!==g&&(n/=g);g=e.getExtent();if(!g||(0,q.containsCoordinate)(g,
x))e=(0,m.getPointResolution)(e,n,x)/n,isFinite(e)&&0<e&&(n/=e);return n}Object.defineProperty(A,"__esModule",{value:!0});A.calculateSourceResolution=p;A.calculateSourceExtentResolution=function(e,g,n,h){const x=(0,q.getCenter)(n);let O=p(e,g,x,h);(!isFinite(O)||0>=O)&&(0,q.forEachCorner)(n,function(H){O=p(e,g,H,h);return isFinite(O)&&0<O});return O};A.render=function(e,g,n,h,x,O,H,F,J,D,r,z){function G(W){return Math.round(W*n)/n}const T=(0,t.createCanvasContext2D)(Math.round(n*e),Math.round(n*g),
c);z||(T.imageSmoothingEnabled=!1);if(0===J.length)return T.canvas;T.scale(n,n);T.globalCompositeOperation="lighter";const R=(0,q.createEmpty)();J.forEach(function(W,ea,La){(0,q.extend)(R,W.extent)});e=(0,q.getWidth)(R);g=(0,q.getHeight)(R);const ca=(0,t.createCanvasContext2D)(Math.round(n*e/h),Math.round(n*g/h));z||(ca.imageSmoothingEnabled=!1);const M=n/h;J.forEach(function(W,ea,La){ea=W.extent[0]-R[0];La=-(W.extent[3]-R[3]);const aa=(0,q.getWidth)(W.extent),C=(0,q.getHeight)(W.extent);0<W.image.width&&
0<W.image.height&&ca.drawImage(W.image,D,D,W.image.width-2*D,W.image.height-2*D,ea*M,La*M,aa*M,C*M)});const ba=(0,q.getTopLeft)(H);F.getTriangles().forEach(function(W,ea,La){La=W.source;var aa=W.target;W=La[0][0];ea=La[0][1];var C=La[1][0],B=La[1][1],N=La[2][0],Y=La[2][1];La=G((aa[0][0]-ba[0])/O);const Aa=G(-(aa[0][1]-ba[1])/O),sa=G((aa[1][0]-ba[0])/O),la=G(-(aa[1][1]-ba[1])/O),Ia=G((aa[2][0]-ba[0])/O);aa=G(-(aa[2][1]-ba[1])/O);C-=W;B-=ea;N-=W;Y-=ea;if(C=(0,f.solveLinearSystem)([[C,B,0,0,sa-La],[N,
Y,0,0,Ia-La],[0,0,C,B,la-Aa],[0,0,N,Y,aa-Aa]])){T.save();T.beginPath();void 0===b&&(B=document.createElement("canvas").getContext("2d"),B.globalCompositeOperation="lighter",B.fillStyle="rgba(210, 0, 0, 0.75)",w(B,4,5,4,0),w(B,4,5,0,5),B=B.getImageData(0,0,3,3).data,b=k(B,0)||k(B,4)||k(B,8));if(b||!z)for(T.moveTo(sa,la),B=La-sa,N=Aa-la,Y=0;4>Y;Y++)T.lineTo(sa+G((Y+1)*B/4),la+G(Y*N/3)),3!=Y&&T.lineTo(sa+G((Y+1)*B/4),la+G((Y+1)*N/3));else T.moveTo(sa,la),T.lineTo(La,Aa);T.lineTo(Ia,aa);T.clip();T.transform(C[0],
C[2],C[1],C[3],La,Aa);T.translate(R[0]-W,R[3]-ea);T.scale(h/n,-h/n);T.drawImage(ca.canvas,0,0);T.restore()}});r&&(T.save(),T.globalCompositeOperation="source-over",T.strokeStyle="black",T.lineWidth=1,F.getTriangles().forEach(function(W,ea,La){var aa=W.target;W=(aa[0][0]-ba[0])/O;ea=-(aa[0][1]-ba[1])/O;La=(aa[1][0]-ba[0])/O;const C=-(aa[1][1]-ba[1])/O,B=(aa[2][0]-ba[0])/O;aa=-(aa[2][1]-ba[1])/O;T.beginPath();T.moveTo(La,C);T.lineTo(W,ea);T.lineTo(B,aa);T.closePath();T.stroke()}),T.restore());return T.canvas};
A.canvasPool=void 0;var q=L(84),t=L(97),m=L(121),f=L(85);let b;const c=[];A.canvasPool=c};
shadow$provide[190]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=L(187),p=w(L(72));Ka=w(L(182));var q=w(L(109)),t=w(L(188)),m=L(189),f=L(85),b=L(84),c=L(73),e=L(97);class g extends Ka.default{constructor(n,h,x,O,H,F,J,D,r,z,G,T){super(H,q.default.IDLE,{interpolate:!!T});this.renderEdges_=void 0!==G?G:!1;this.pixelRatio_=J;this.gutter_=D;this.canvas_=null;this.sourceTileGrid_=h;this.targetTileGrid_=O;
this.wrappedTileCoord_=F?F:H;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;F=O.getTileCoordExtent(this.wrappedTileCoord_);D=this.targetTileGrid_.getExtent();H=this.sourceTileGrid_.getExtent();F=D?(0,b.getIntersection)(F,D):F;if(0===(0,b.getArea)(F))this.state=q.default.EMPTY;else if((D=n.getExtent())&&(H=H?(0,b.getIntersection)(H,D):D),O=O.getResolution(this.wrappedTileCoord_[0]),D=(0,m.calculateSourceExtentResolution)(n,x,F,O),!isFinite(D)||0>=D)this.state=q.default.EMPTY;else if(this.triangulation_=
new t.default(n,x,F,H,D*(void 0!==z?z:k.ERROR_THRESHOLD),O),0===this.triangulation_.getTriangles().length)this.state=q.default.EMPTY;else if(this.sourceZ_=h.getZForResolution(D),x=this.triangulation_.calculateSourceExtent(),H&&(n.canWrapX()?(x[1]=(0,f.clamp)(x[1],H[1],H[3]),x[3]=(0,f.clamp)(x[3],H[1],H[3])):x=(0,b.getIntersection)(x,H)),(0,b.getArea)(x)){n=h.getTileRangeForExtentAndZ(x,this.sourceZ_);for(h=n.minX;h<=n.maxX;h++)for(x=n.minY;x<=n.maxY;x++)(z=r(this.sourceZ_,h,x,J))&&this.sourceTiles_.push(z);
0===this.sourceTiles_.length&&(this.state=q.default.EMPTY)}else this.state=q.default.EMPTY}getImage(){return this.canvas_}reproject_(){const n=[];this.sourceTiles_.forEach(function(O,H,F){O&&O.getState()==q.default.LOADED&&n.push({extent:this.sourceTileGrid_.getTileCoordExtent(O.tileCoord),image:O.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===n.length)this.state=q.default.ERROR;else{var h=this.wrappedTileCoord_[0],x=this.targetTileGrid_.getTileSize(h);const O="number"===typeof x?x:x[0];
x="number"===typeof x?x:x[1];h=this.targetTileGrid_.getResolution(h);const H=this.sourceTileGrid_.getResolution(this.sourceZ_),F=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,m.render)(O,x,this.pixelRatio_,H,this.sourceTileGrid_.getExtent(),h,F,this.triangulation_,n,this.gutter_,this.renderEdges_,this.interpolate);this.state=q.default.LOADED}this.changed()}load(){if(this.state==q.default.IDLE){this.state=q.default.LOADING;this.changed();let n=0;this.sourcesListenerKeys_=
[];this.sourceTiles_.forEach(function(h,x,O){x=h.getState();if(x==q.default.IDLE||x==q.default.LOADING){n++;const H=(0,c.listen)(h,p.default.CHANGE,function(F){F=h.getState();if(F==q.default.LOADED||F==q.default.ERROR||F==q.default.EMPTY)(0,c.unlistenByKey)(H),n--,0===n&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(H)}}.bind(this));0===n?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(h,x,O){h.getState()==q.default.IDLE&&h.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(c.unlistenByKey);
this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,e.releaseCanvas)(this.canvas_.getContext("2d")),m.canvasPool.push(this.canvas_),this.canvas_=null);super.release()}}A.default=g};
shadow$provide[191]=function(Ka,L,sb,A){function w(k,p,q){return k+"/"+p+"/"+q}Object.defineProperty(A,"__esModule",{value:!0});A.createOrUpdate=function(k,p,q,t){return void 0!==t?(t[0]=k,t[1]=p,t[2]=q,t):[k,p,q]};A.getKeyZXY=w;A.getKey=function(k){return w(k[0],k[1],k[2])};A.getCacheKeyForTileKey=function(k){const [p,q,t]=k.substring(k.lastIndexOf("/")+1,k.length).split(",").map(Number);return w(p,q,t)};A.fromKey=function(k){return k.split("/").map(Number)};A.hash=function(k){return(k[1]<<k[0])+
k[2]};A.withinExtentAndZ=function(k,p){const q=k[0],t=k[1];k=k[2];return p.getMinZoom()>q||q>p.getMaxZoom()?!1:(p=p.getFullTileRange(q))?p.containsXY(t,k):!0}};
shadow$provide[192]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(p){return p&&p.__esModule?p:{default:p}}(L(181));var w=L(191);class k extends Ka.default{clear(){for(;0<this.getCount();)this.pop().release();super.clear()}expireCache(p){for(;this.canExpireCache()&&!(this.peekLast().getKey()in p);)this.pop().release()}pruneExceptNewestZ(){if(0!==this.getCount()){var p=this.peekFirstKey(),q=(0,w.fromKey)(p)[0];this.forEach(function(t){t.tileCoord[0]!==
q&&(this.remove((0,w.getKey)(t.tileCoord)),t.release())}.bind(this))}}}A.default=k};
shadow$provide[193]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[194]=function(Ka,L,sb,A){function w(t){return t?Array.isArray(t)?function(m){return t}:"function"===typeof t?t:function(m){return[t]}:null}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(76));var k=L(75),p=L(121);class q extends Ka.default{constructor(t){super();this.projection=(0,p.get)(t.projection);this.attributions_=w(t.attributions);this.attributionsCollapsible_=void 0!==t.attributionsCollapsible?t.attributionsCollapsible:
!0;this.loading=!1;this.state_=void 0!==t.state?t.state:"ready";this.wrapX_=void 0!==t.wrapX?t.wrapX:!1;this.interpolate_=!!t.interpolate;this.viewRejector=this.viewResolver=null;const m=this;this.viewPromise_=new Promise(function(f,b){m.viewResolver=f;m.viewRejector=b})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(){return(0,k.abstract)()}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=
w(t);this.changed()}setState(t){this.state_=t;this.changed()}}A.default=q};
shadow$provide[195]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createOrUpdate=function(k,p,q,t,m){return void 0!==m?(m.minX=k,m.maxX=p,m.minY=q,m.maxY=t,m):new w(k,p,q,t)};A.default=void 0;class w{constructor(k,p,q,t){this.minX=k;this.maxX=p;this.minY=q;this.maxY=t}contains(k){return this.containsXY(k[1],k[2])}containsTileRange(k){return this.minX<=k.minX&&k.maxX<=this.maxX&&this.minY<=k.minY&&k.maxY<=this.maxY}containsXY(k,p){return this.minX<=k&&k<=this.maxX&&this.minY<=
p&&p<=this.maxY}equals(k){return this.minX==k.minX&&this.minY==k.minY&&this.maxX==k.maxX&&this.maxY==k.maxY}extend(k){k.minX<this.minX&&(this.minX=k.minX);k.maxX>this.maxX&&(this.maxX=k.maxX);k.minY<this.minY&&(this.minY=k.minY);k.maxY>this.maxY&&(this.maxY=k.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(k){return this.minX<=k.maxX&&this.maxX>=k.minX&&this.minY<=k.maxY&&this.maxY>=k.minY}}A.default=
w};
shadow$provide[196]=function(Ka,L,sb,A){function w(h){if("function"!==typeof WeakMap)return null;var x=new WeakMap,O=new WeakMap;return(w=function(H){return H?O:x})(h)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(h,x){if(!x&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((x=w(x))&&x.has(h))return x.get(h);var O={},H=Object.defineProperty&&Object.getOwnPropertyDescriptor,F;for(F in h)if("default"!==F&&Object.prototype.hasOwnProperty.call(h,
F)){var J=H?Object.getOwnPropertyDescriptor(h,F):null;J&&(J.get||J.set)?Object.defineProperty(O,F,J):O[F]=h[F]}O.default=h;x&&x.set(h,O);return O}(L(195)),p=L(113),q=L(81),t=L(85),m=L(84),f=L(191),b=L(139),c=L(68),e=L(167);const g=[0,0,0];class n{constructor(h){this.minZoom=void 0!==h.minZoom?h.minZoom:0;this.resolutions_=h.resolutions;(0,q.assert)((0,c.isSorted)(this.resolutions_,function(H,F){return F-H},!0),17);let x;if(!h.origins)for(let H=0,F=this.resolutions_.length-1;H<F;++H)if(!x)x=this.resolutions_[H]/
this.resolutions_[H+1];else if(this.resolutions_[H]/this.resolutions_[H+1]!==x){x=void 0;break}this.zoomFactor_=x;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==h.origin?h.origin:null;this.origins_=null;void 0!==h.origins&&(this.origins_=h.origins,(0,q.assert)(this.origins_.length==this.resolutions_.length,20));const O=h.extent;void 0===O||this.origin_||this.origins_||(this.origin_=(0,m.getTopLeft)(O));(0,q.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=
null;void 0!==h.tileSizes&&(this.tileSizes_=h.tileSizes,(0,q.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==h.tileSize?h.tileSize:this.tileSizes_?null:p.DEFAULT_TILE_SIZE;(0,q.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=void 0!==O?O:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];this.tmpExtent_=[0,0,0,0];void 0!==h.sizes?this.fullTileRanges_=h.sizes.map(function(H,F){H=new k.default(Math.min(0,H[0]),Math.max(H[0]-
1,-1),Math.min(0,H[1]),Math.max(H[1]-1,-1));O&&(F=this.getTileRangeForExtentAndZ(O,F),H.minX=Math.max(F.minX,H.minX),H.maxX=Math.min(F.maxX,H.maxX),H.minY=Math.max(F.minY,H.minY),H.maxY=Math.min(F.maxY,H.maxY));return H},this):O&&this.calculateTileRanges_(O)}forEachTileCoord(h,x,O){h=this.getTileRangeForExtentAndZ(h,x);for(let H=h.minX,F=h.maxX;H<=F;++H)for(let J=h.minY,D=h.maxY;J<=D;++J)O([x,H,J])}forEachTileCoordParentTileRange(h,x,O,H){let F,J,D=null,r=h[0]-1;2===this.zoomFactor_?(F=h[1],J=h[2]):
D=this.getTileCoordExtent(h,H);for(;r>=this.minZoom;){2===this.zoomFactor_?(F=Math.floor(F/2),J=Math.floor(J/2),h=(0,k.createOrUpdate)(F,F,J,J,O)):h=this.getTileRangeForExtentAndZ(D,r,O);if(x(r,h))return!0;--r}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(h){return this.origin_?this.origin_:this.origins_[h]}getResolution(h){return this.resolutions_[h]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(h,x,O){if(h[0]<
this.maxZoom){if(2===this.zoomFactor_)return O=2*h[1],h=2*h[2],(0,k.createOrUpdate)(O,O+1,h,h+1,x);O=this.getTileCoordExtent(h,O||this.tmpExtent_);return this.getTileRangeForExtentAndZ(O,h[0]+1,x)}return null}getTileRangeForTileCoordAndZ(h,x,O){if(x>this.maxZoom||x<this.minZoom)return null;var H=h[0];const F=h[1],J=h[2];if(x===H)return(0,k.createOrUpdate)(F,J,F,J,O);if(this.zoomFactor_){h=Math.pow(this.zoomFactor_,x-H);const D=Math.floor(F*h),r=Math.floor(J*h);return x<H?(0,k.createOrUpdate)(D,D,
r,r,O):(0,k.createOrUpdate)(D,Math.floor(h*(F+1))-1,r,Math.floor(h*(J+1))-1,O)}H=this.getTileCoordExtent(h,this.tmpExtent_);return this.getTileRangeForExtentAndZ(H,x,O)}getTileRangeExtent(h,x,O){const H=this.getOrigin(h),F=this.getResolution(h);h=(0,e.toSize)(this.getTileSize(h),this.tmpSize_);return(0,m.createOrUpdate)(H[0]+x.minX*h[0]*F,H[1]+x.minY*h[1]*F,H[0]+(x.maxX+1)*h[0]*F,H[1]+(x.maxY+1)*h[1]*F,O)}getTileRangeForExtentAndZ(h,x,O){this.getTileCoordForXYAndZ_(h[0],h[3],x,!1,g);const H=g[1],
F=g[2];this.getTileCoordForXYAndZ_(h[2],h[1],x,!0,g);return(0,k.createOrUpdate)(H,g[1],F,g[2],O)}getTileCoordCenter(h){const x=this.getOrigin(h[0]),O=this.getResolution(h[0]),H=(0,e.toSize)(this.getTileSize(h[0]),this.tmpSize_);return[x[0]+(h[1]+.5)*H[0]*O,x[1]-(h[2]+.5)*H[1]*O]}getTileCoordExtent(h,x){const O=this.getOrigin(h[0]),H=this.getResolution(h[0]),F=(0,e.toSize)(this.getTileSize(h[0]),this.tmpSize_),J=O[0]+h[1]*F[0]*H;h=O[1]-(h[2]+1)*F[1]*H;return(0,m.createOrUpdate)(J,h,J+F[0]*H,h+F[1]*
H,x)}getTileCoordForCoordAndResolution(h,x,O){return this.getTileCoordForXYAndResolution_(h[0],h[1],x,!1,O)}getTileCoordForXYAndResolution_(h,x,O,H,F){const J=this.getZForResolution(O),D=O/this.getResolution(J),r=this.getOrigin(J),z=(0,e.toSize)(this.getTileSize(J),this.tmpSize_);h=D*(h-r[0])/O/z[0];x=D*(r[1]-x)/O/z[1];H?(h=(0,t.ceil)(h,5)-1,x=(0,t.ceil)(x,5)-1):(h=(0,t.floor)(h,5),x=(0,t.floor)(x,5));return(0,f.createOrUpdate)(J,h,x,F)}getTileCoordForXYAndZ_(h,x,O,H,F){const J=this.getOrigin(O),
D=this.getResolution(O),r=(0,e.toSize)(this.getTileSize(O),this.tmpSize_);h=(h-J[0])/D/r[0];x=(J[1]-x)/D/r[1];H?(h=(0,t.ceil)(h,5)-1,x=(0,t.ceil)(x,5)-1):(h=(0,t.floor)(h,5),x=(0,t.floor)(x,5));return(0,f.createOrUpdate)(O,h,x,F)}getTileCoordForCoordAndZ(h,x,O){return this.getTileCoordForXYAndZ_(h[0],h[1],x,!1,O)}getTileCoordResolution(h){return this.resolutions_[h[0]]}getTileSize(h){return this.tileSize_?this.tileSize_:this.tileSizes_[h]}getFullTileRange(h){return this.fullTileRanges_?this.fullTileRanges_[h]:
this.extent_?this.getTileRangeForExtentAndZ(this.extent_,h):null}getZForResolution(h,x){h=(0,c.linearFindNearest)(this.resolutions_,h,x||0);return(0,t.clamp)(h,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(h,x){return(0,b.intersectsLinearRing)(x,0,x.length,2,this.getTileCoordExtent(h))}calculateTileRanges_(h){const x=this.resolutions_.length,O=Array(x);for(let H=this.minZoom;H<x;++H)O[H]=this.getTileRangeForExtentAndZ(h,H);this.fullTileRanges_=O}}A.default=n};
shadow$provide[197]=function(Ka,L,sb,A){function w(e,g,n,h){h=void 0!==h?h:"top-left";g=k(e,g,n);return new t.default({extent:e,origin:(0,b.getCorner)(e,h),resolutions:g,tileSize:n})}function k(e,g,n,h){g=void 0!==g?g:m.DEFAULT_MAX_ZOOM;n=(0,c.toSize)(void 0!==n?n:m.DEFAULT_TILE_SIZE);var x=(0,b.getHeight)(e);e=(0,b.getWidth)(e);h=0<h?h:Math.max(e/n[0],x/n[1]);g+=1;n=Array(g);for(x=0;x<g;++x)n[x]=h/Math.pow(2,x);return n}function p(e,g,n,h){e=q(e);return w(e,g,n,h)}function q(e){e=(0,f.get)(e);let g=
e.getExtent();g||(e=180*f.METERS_PER_UNIT.degrees/e.getMetersPerUnit(),g=(0,b.createOrUpdate)(-e,-e,e,e));return g}Object.defineProperty(A,"__esModule",{value:!0});A.getForProjection=function(e){let g=e.getDefaultTileGrid();g||(g=p(e),e.setDefaultTileGrid(g));return g};A.wrapX=function(e,g,n){const h=g[0],x=e.getTileCoordCenter(g);n=q(n);if((0,b.containsCoordinate)(n,x))return g;g=(0,b.getWidth)(n);x[0]+=g*Math.ceil((n[0]-x[0])/g);return e.getTileCoordForCoordAndZ(x,h)};A.createForExtent=w;A.createXYZ=
function(e){e=e||{};const g=e.extent||(0,f.get)("EPSG:3857").getExtent();e={extent:g,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:k(g,e.maxZoom,e.tileSize,e.maxResolution)};return new t.default(e)};A.createForProjection=p;A.extentFromProjection=q;var t=function(e){return e&&e.__esModule?e:{default:e}}(L(196)),m=L(113),f=L(121),b=L(84),c=L(167)};
shadow$provide[198]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.TileSourceEvent=void 0;Ka=w(L(65));sb=w(L(194));var k=w(L(192)),p=w(L(109)),q=L(75),t=L(81),m=L(121),f=L(191),b=L(197),c=L(167);class e extends sb.default{constructor(n){super({attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,projection:n.projection,state:n.state,wrapX:n.wrapX,interpolate:n.interpolate});this.opaque_=void 0!==
n.opaque?n.opaque:!1;this.tilePixelRatio_=void 0!==n.tilePixelRatio?n.tilePixelRatio:1;this.tileGrid=void 0!==n.tileGrid?n.tileGrid:null;const h=[256,256];this.tileGrid&&(0,c.toSize)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),h);this.tileCache=new k.default(n.cacheSize||0);this.tmpSize=[0,0];this.key_=n.key||"";this.tileOptions={transition:n.transition,interpolate:n.interpolate};this.zDirection=n.zDirection?n.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(n,
h){(n=this.getTileCacheForProjection(n))&&n.expireCache(h)}forEachLoadedTile(n,h,x,O){n=this.getTileCacheForProjection(n);if(!n)return!1;let H=!0;let F;for(let D=x.minX;D<=x.maxX;++D)for(let r=x.minY;r<=x.maxY;++r){var J=(0,f.getKeyZXY)(h,D,r);F=!1;n.containsKey(J)&&(J=n.get(J),(F=J.getState()===p.default.LOADED)&&(F=!1!==O(J)));F||(H=!1)}return H}getGutterForProjection(n){return 0}getKey(){return this.key_}setKey(n){this.key_!==n&&(this.key_=n,this.changed())}getOpaque(n){return this.opaque_}getResolutions(){return this.tileGrid?
this.tileGrid.getResolutions():null}getTile(n,h,x,O,H){return(0,q.abstract)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(n){return this.tileGrid?this.tileGrid:(0,b.getForProjection)(n)}getTileCacheForProjection(n){const h=this.getProjection();(0,t.assert)(null===h||(0,m.equivalent)(h,n),68);return this.tileCache}getTilePixelRatio(n){return this.tilePixelRatio_}getTilePixelSize(n,h,x){x=this.getTileGridForProjection(x);h=this.getTilePixelRatio(h);n=(0,c.toSize)(x.getTileSize(n),this.tmpSize);
return 1==h?n:(0,c.scale)(n,h,this.tmpSize)}getTileCoordForTileUrlFunction(n,h){h=void 0!==h?h:this.getProjection();const x=this.getTileGridForProjection(h);this.getWrapX()&&h.isGlobal()&&(n=(0,b.wrapX)(x,n,h));return(0,f.withinExtentAndZ)(n,x)?n:null}clear(){this.tileCache.clear()}refresh(){this.clear();super.refresh()}updateCacheSize(n,h){h=this.getTileCacheForProjection(h);n>h.highWaterMark&&(h.highWaterMark=n)}useTile(n,h,x,O){}}class g extends Ka.default{constructor(n,h){super(n);this.tile=h}}
A.TileSourceEvent=g;A.default=e};
shadow$provide[199]=function(Ka,L,sb,A){function w(m,f){const b=/\{z\}/g,c=/\{x\}/g,e=/\{y\}/g,g=/\{-y\}/g;return function(n,h,x){if(n)return m.replace(b,n[0].toString()).replace(c,n[1].toString()).replace(e,n[2].toString()).replace(g,function(){const O=f.getFullTileRange(n[0]);(0,p.assert)(O,55);return(O.getHeight()-n[2]-1).toString()})}}function k(m){return 1===m.length?m[0]:function(f,b,c){if(f){var e=(0,t.hash)(f);e=(0,q.modulo)(e,m.length);return m[e](f,b,c)}}}Object.defineProperty(A,"__esModule",
{value:!0});A.createFromTemplate=w;A.createFromTemplates=function(m,f){const b=m.length,c=Array(b);for(let e=0;e<b;++e)c[e]=w(m[e],f);return k(c)};A.createFromTileUrlFunctions=k;A.nullTileUrlFunction=function(m,f,b){};A.expandUrl=function(m){const f=[];let b=/\{([a-z])-([a-z])\}/.exec(m);if(b){for(var c=b[1].charCodeAt(0),e=b[2].charCodeAt(0);c<=e;++c)f.push(m.replace(b[0],String.fromCharCode(c)));return f}if(b=/\{(\d+)-(\d+)\}/.exec(m)){e=parseInt(b[2],10);for(c=parseInt(b[1],10);c<=e;c++)f.push(m.replace(b[0],
c.toString()));return f}f.push(m);return f};var p=L(81),q=L(85),t=L(191)};
shadow$provide[200]=function(Ka,L,sb,A){function w(e){if("function"!==typeof WeakMap)return null;var g=new WeakMap,n=new WeakMap;return(w=function(h){return h?n:g})(e)}function k(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(193)),q=function(e,g){if(!g&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((g=w(g))&&g.has(e))return g.get(e);var n={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,
x;for(x in e)if("default"!==x&&Object.prototype.hasOwnProperty.call(e,x)){var O=h?Object.getOwnPropertyDescriptor(e,x):null;O&&(O.get||O.set)?Object.defineProperty(n,x,O):n[x]=e[x]}n.default=e;g&&g.set(e,n);return n}(L(198)),t=k(L(109)),m=L(199),f=L(191),b=L(75);class c extends q.default{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,
interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection});this.generateTileUrlFunction_=this.tileUrlFunction===c.prototype.tileUrlFunction;this.tileLoadFunction=e.tileLoadFunction;e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction);this.urls=null;e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url);this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===
this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){e=e.target;const g=(0,b.getUid)(e),n=e.getState();let h;n==t.default.LOADING?(this.tileLoadingKeys_[g]=!0,h=p.default.TILELOADSTART):g in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[g],h=n==t.default.ERROR?p.default.TILELOADERROR:n==t.default.LOADED?p.default.TILELOADEND:void 0);void 0!=h&&this.dispatchEvent(new q.TileSourceEvent(h,e))}setTileLoadFunction(e){this.tileCache.clear();
this.tileLoadFunction=e;this.changed()}setTileUrlFunction(e,g){this.tileUrlFunction=e;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof g?this.setKey(g):this.changed()}setUrl(e){this.urls=e=(0,m.expandUrl)(e);this.setUrls(e)}setUrls(e){this.urls=e;const g=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,m.createFromTemplates)(e,this.tileGrid),g):this.setKey(g)}tileUrlFunction(e,g,n){}useTile(e,g,n){e=(0,f.getKeyZXY)(e,g,n);this.tileCache.containsKey(e)&&this.tileCache.get(e)}}
A.default=c};
shadow$provide[201]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}function k(h,x){h.getImage().src=x}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=w(L(72)),q=w(L(186)),t=w(L(190)),m=w(L(192)),f=w(L(109));Ka=w(L(200));var b=L(121),c=L(191),e=L(197),g=L(75);class n extends Ka.default{constructor(h){super({attributions:h.attributions,cacheSize:h.cacheSize,opaque:h.opaque,projection:h.projection,state:h.state,tileGrid:h.tileGrid,tileLoadFunction:h.tileLoadFunction?
h.tileLoadFunction:k,tilePixelRatio:h.tilePixelRatio,tileUrlFunction:h.tileUrlFunction,url:h.url,urls:h.urls,wrapX:h.wrapX,transition:h.transition,interpolate:void 0!==h.interpolate?h.interpolate:!0,key:h.key,attributionsCollapsible:h.attributionsCollapsible,zDirection:h.zDirection});this.crossOrigin=void 0!==h.crossOrigin?h.crossOrigin:null;this.tileClass=void 0!==h.tileClass?h.tileClass:q.default;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=h.reprojectionErrorThreshold;
this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const h in this.tileCacheForProjection)if(this.tileCacheForProjection[h].canExpireCache())return!0;return!1}expireCache(h,x){h=this.getTileCacheForProjection(h);this.tileCache.expireCache(this.tileCache==h?x:{});for(const O in this.tileCacheForProjection){const H=this.tileCacheForProjection[O];H.expireCache(H==h?x:{})}}getGutterForProjection(h){return this.getProjection()&&h&&!(0,b.equivalent)(this.getProjection(),
h)?0:this.getGutter()}getGutter(){return 0}getKey(){let h=super.getKey();this.getInterpolate()||(h+=":disable-interpolation");return h}getOpaque(h){return this.getProjection()&&h&&!(0,b.equivalent)(this.getProjection(),h)?!1:super.getOpaque(h)}getTileGridForProjection(h){var x=this.getProjection();return!this.tileGrid||x&&!(0,b.equivalent)(x,h)?(x=(0,g.getUid)(h),x in this.tileGridForProjection||(this.tileGridForProjection[x]=(0,e.getForProjection)(h)),this.tileGridForProjection[x]):this.tileGrid}getTileCacheForProjection(h){const x=
this.getProjection();if(!x||(0,b.equivalent)(x,h))return this.tileCache;h=(0,g.getUid)(h);h in this.tileCacheForProjection||(this.tileCacheForProjection[h]=new m.default(this.tileCache.highWaterMark));return this.tileCacheForProjection[h]}createTile_(h,x,O,H,F,J){h=[h,x,O];H=(x=this.getTileCoordForTileUrlFunction(h,F))?this.tileUrlFunction(x,H,F):void 0;H=new this.tileClass(h,void 0!==H?f.default.IDLE:f.default.EMPTY,void 0!==H?H:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);H.key=J;
H.addEventListener(p.default.CHANGE,this.handleTileChange.bind(this));return H}getTile(h,x,O,H,F){const J=this.getProjection();if(J&&F&&!(0,b.equivalent)(J,F)){const D=this.getTileCacheForProjection(F);O=[h,x,O];let r;h=(0,c.getKey)(O);D.containsKey(h)&&(r=D.get(h));x=this.getKey();if(r&&r.key==x)return r;const z=this.getTileGridForProjection(J),G=this.getTileGridForProjection(F),T=this.getTileCoordForTileUrlFunction(O,F);H=new t.default(J,z,F,G,O,T,this.getTilePixelRatio(H),this.getGutter(),function(R,
ca,M,ba){return this.getTileInternal(R,ca,M,ba,J)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());H.key=x;r?(H.interimTile=r,H.refreshInterimChain(),D.replace(h,H)):D.set(h,H);return H}return this.getTileInternal(h,x,O,H,J||F)}getTileInternal(h,x,O,H,F){let J;const D=(0,c.getKeyZXY)(h,x,O),r=this.getKey();if(this.tileCache.containsKey(D)){if(J=this.tileCache.get(D),J.key!=r){const z=J;J=this.createTile_(h,x,O,H,F,r);z.getState()==f.default.IDLE?J.interimTile=
z.interimTile:J.interimTile=z;J.refreshInterimChain();this.tileCache.replace(D,J)}}else J=this.createTile_(h,x,O,H,F,r),this.tileCache.set(D,J);return J}setRenderReprojectionEdges(h){if(this.renderReprojectionEdges_!=h){this.renderReprojectionEdges_=h;for(const x in this.tileCacheForProjection)this.tileCacheForProjection[x].clear();this.changed()}}setTileGridForProjection(h,x){if(h=(0,b.get)(h))h=(0,g.getUid)(h),h in this.tileGridForProjection||(this.tileGridForProjection[h]=x)}clear(){super.clear();
for(const h in this.tileCacheForProjection)this.tileCacheForProjection[h].clear()}}A.default=n};
shadow$provide[202]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.jsonp=function(t,m,f,b){function c(){delete window[g];e.parentNode.removeChild(e)}const e=document.createElement("script"),g="olc_"+(0,w.getUid)(m);e.async=!0;e.src=t+(t.includes("?")?"\x26":"?")+(b||"callback")+"\x3d"+g;const n=setTimeout(function(){c();f&&f()},1E4);window[g]=function(h){clearTimeout(n);c();m(h)};document.head.appendChild(e)};A.getJSON=function(t){return new Promise(function(m,f){const b=new XMLHttpRequest;
b.addEventListener("load",function(c){c=c.target;if(!c.status||200<=c.status&&300>c.status){let e;try{e=JSON.parse(c.responseText)}catch(g){f(Error("Error parsing response text as JSON: "+g.message));return}m(e)}else f(new k(c))});b.addEventListener("error",function(c){f(new p(c.target))});b.open("GET",t);b.setRequestHeader("Accept","application/json");b.send()})};A.resolveUrl=function(t,m){return m.includes("://")?m:(new URL(m,t)).href};A.overrideXHR=function(t){"undefined"!==typeof XMLHttpRequest&&
(q=XMLHttpRequest);Ka.XMLHttpRequest=t};A.restoreXHR=function(){Ka.XMLHttpRequest=q};A.ClientError=A.ResponseError=void 0;var w=L(75);class k extends Error{constructor(t){super("Unexpected response status: "+t.status);this.name="ResponseError";this.response=t}}A.ResponseError=k;class p extends Error{constructor(t){super("Failed to issue request");this.name="ClientError";this.client=t}}A.ClientError=p;let q};
shadow$provide[203]=function(Ka,L,sb,A){function w(c){const e=c[0],g=Array(e);let n=1<<e-1,h,x;for(h=0;h<e;++h)x=48,c[1]&n&&(x+=1),c[2]&n&&(x+=2),g[h]=String.fromCharCode(x),n>>=1;return g.join("")}Object.defineProperty(A,"__esModule",{value:!0});A.quadKey=w;A.default=void 0;Ka=function(c){return c&&c.__esModule?c:{default:c}}(L(201));var k=L(84),p=L(199),q=L(191),t=L(197),m=L(121),f=L(202);class b extends Ka.default{constructor(c){const e=void 0!==c.hidpi?c.hidpi:!1;super({cacheSize:c.cacheSize,
crossOrigin:"anonymous",interpolate:c.interpolate,opaque:!0,projection:(0,m.get)("EPSG:3857"),reprojectionErrorThreshold:c.reprojectionErrorThreshold,state:"loading",tileLoadFunction:c.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0!==c.wrapX?c.wrapX:!0,transition:c.transition,zDirection:c.zDirection});this.hidpi_=e;this.culture_=void 0!==c.culture?c.culture:"en-us";this.maxZoom_=void 0!==c.maxZoom?c.maxZoom:-1;this.apiKey_=c.key;this.imagerySet_=c.imagerySet;(0,f.jsonp)("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+
this.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+this.apiKey_+"\x26c\x3d"+this.culture_,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(c){if(200!=c.statusCode||"OK"!=c.statusDescription||"ValidCredentials"!=c.authenticationResultCode||1!=c.resourceSets.length||1!=c.resourceSets[0].resources.length)this.setState("error");else{var e=c.resourceSets[0].resources[0];
c=-1==this.maxZoom_?e.zoomMax:this.maxZoom_;var g=this.getProjection();g=(0,t.extentFromProjection)(g);var n=this.hidpi_?2:1;this.tileGrid=(0,t.createXYZ)({extent:g,minZoom:e.zoomMin,maxZoom:c,tileSize:e.imageWidth==e.imageHeight?e.imageWidth/n:[e.imageWidth/n,e.imageHeight/n]});var h=this.culture_,x=this.hidpi_;this.tileUrlFunction=(0,p.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(O){const H=[0,0,0],F=e.imageUrl.replace("{subdomain}",O).replace("{culture}",h);return function(J,D,
r){if(J)return(0,q.createOrUpdate)(J[0],J[1],J[2],H),J=F,x&&(J+="\x26dpi\x3dd1\x26device\x3dmobile"),J.replace("{quadkey}",w(H))}}));if(e.imageryProviders){const O=(0,m.getTransformFromProjections)((0,m.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(H){const F=[],J=H.viewState,D=this.getTileGrid(),r=D.getZForResolution(J.resolution,this.zDirection),z=D.getTileCoordForCoordAndZ(J.center,r)[0];e.imageryProviders.map(function(G){let T=!1;const R=G.coverageAreas;for(let M=0,ba=
R.length;M<ba;++M){var ca=R[M];if(z>=ca.zoomMin&&z<=ca.zoomMax&&(ca=ca.bbox,ca=(0,k.applyTransform)([ca[1],ca[0],ca[3],ca[2]],O),(0,k.intersects)(ca,H.extent))){T=!0;break}}T&&F.push(G.attribution)});F.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return F}.bind(this))}this.setState("ready")}}}A.default=b};
shadow$provide[204]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(p){return p&&p.__esModule?p:{default:p}}(L(201));var w=L(197);class k extends Ka.default{constructor(p){p=p||{};const q=void 0!==p.projection?p.projection:"EPSG:3857",t=void 0!==p.tileGrid?p.tileGrid:(0,w.createXYZ)({extent:(0,w.extentFromProjection)(q),maxResolution:p.maxResolution,maxZoom:p.maxZoom,minZoom:p.minZoom,tileSize:p.tileSize});super({attributions:p.attributions,cacheSize:p.cacheSize,
crossOrigin:p.crossOrigin,interpolate:p.interpolate,opaque:p.opaque,projection:q,reprojectionErrorThreshold:p.reprojectionErrorThreshold,tileGrid:t,tileLoadFunction:p.tileLoadFunction,tilePixelRatio:p.tilePixelRatio,tileUrlFunction:p.tileUrlFunction,url:p.url,urls:p.urls,wrapX:void 0!==p.wrapX?p.wrapX:!0,transition:p.transition,attributionsCollapsible:p.attributionsCollapsible,zDirection:p.zDirection});this.gutter_=void 0!==p.gutter?p.gutter:0}getGutter(){return this.gutter_}}A.default=k};
shadow$provide[205]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(204));class w extends Ka.default{constructor(k){super({attributions:k.attributions,cacheSize:k.cacheSize,crossOrigin:k.crossOrigin,maxZoom:void 0!==k.maxZoom?k.maxZoom:18,minZoom:k.minZoom,projection:k.projection,transition:k.transition,wrapX:k.wrapX,zDirection:k.zDirection});this.account_=k.account;this.mapId_=k.map||"";this.config_=k.config||
{};this.templateCache_={};this.initializeMap_()}getConfig(){return this.config_}updateConfig(k){Object.assign(this.config_,k);this.initializeMap_()}setConfig(k){this.config_=k||{};this.initializeMap_()}initializeMap_(){const k=JSON.stringify(this.config_);if(this.templateCache_[k])this.applyTemplate_(this.templateCache_[k]);else{var p="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(p+="/named/"+this.mapId_);var q=new XMLHttpRequest;q.addEventListener("load",this.handleInitResponse_.bind(this,
k));q.addEventListener("error",this.handleInitError_.bind(this));q.open("POST",p);q.setRequestHeader("Content-type","application/json");q.send(JSON.stringify(this.config_))}}handleInitResponse_(k,p){p=p.target;if(!p.status||200<=p.status&&300>p.status){let q;try{q=JSON.parse(p.responseText)}catch(t){this.setState("error");return}this.applyTemplate_(q);this.templateCache_[k]=q;this.setState("ready")}else this.setState("error")}handleInitError_(k){this.setState("error")}applyTemplate_(k){this.setUrl("https://"+
k.cdn_url.https+"/"+this.account_+"/api/v1/map/"+k.layergroupid+"/{z}/{x}/{y}.png")}}A.default=w};
shadow$provide[206]=function(Ka,L,sb,A){!function(w,k){"object"==typeof A&&"undefined"!=typeof sb?sb.exports=k():"function"==typeof define&&define.amd?define(k):(w=w||self).RBush=k()}(this,function(){function w(H,F,J,D,r){!function ba(G,T,R,ca,M){for(;ca>R;){if(600<ca-R){var W=ca-R+1,ea=T-R+1,La=Math.log(W),aa=.5*Math.exp(2*La/3);La=.5*Math.sqrt(La*aa*(W-aa)/W)*(0>ea-W/2?-1:1);ba(G,T,Math.max(R,Math.floor(T-ea*aa/W+La)),Math.min(ca,Math.floor(T+(W-ea)*aa/W+La)),M)}W=G[T];ea=R;aa=ca;k(G,R,T);for(0<
M(G[ca],W)&&k(G,R,ca);ea<aa;){k(G,ea,aa);ea++;for(aa--;0>M(G[ea],W);)ea++;for(;0<M(G[aa],W);)aa--}0===M(G[R],W)?k(G,R,aa):k(G,++aa,ca);aa<=T&&(R=aa+1);T<=aa&&(ca=aa-1)}}(H,F,J||0,D||H.length-1,r||p)}function k(H,F,J){var D=H[F];H[F]=H[J];H[J]=D}function p(H,F){return H<F?-1:H>F?1:0}function q(H,F){t(H,0,H.children.length,F,H)}function t(H,F,J,D,r){r||(r=h(null));r.minX=1/0;r.minY=1/0;r.maxX=-1/0;for(r.maxY=-1/0;F<J;F++){var z=H.children[F];m(r,H.leaf?D(z):z)}return r}function m(H,F){return H.minX=
Math.min(H.minX,F.minX),H.minY=Math.min(H.minY,F.minY),H.maxX=Math.max(H.maxX,F.maxX),H.maxY=Math.max(H.maxY,F.maxY),H}function f(H,F){return H.minX-F.minX}function b(H,F){return H.minY-F.minY}function c(H){return(H.maxX-H.minX)*(H.maxY-H.minY)}function e(H){return H.maxX-H.minX+(H.maxY-H.minY)}function g(H,F){return H.minX<=F.minX&&H.minY<=F.minY&&F.maxX<=H.maxX&&F.maxY<=H.maxY}function n(H,F){return F.minX<=H.maxX&&F.minY<=H.maxY&&F.maxX>=H.minX&&F.maxY>=H.minY}function h(H){return{children:H,height:1,
leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(H,F,J,D,r){for(var z=[F,J];z.length;)if(!((J=z.pop())-(F=z.pop())<=D)){var G=F+Math.ceil((J-F)/D/2)*D;w(H,G,F,J,r);z.push(F,G,G,J)}}var O=function(H){void 0===H&&(H=9);this._maxEntries=Math.max(4,H);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return O.prototype.all=function(){return this._all(this.data,[])},O.prototype.search=function(H){var F=this.data,J=[];if(!n(H,F))return J;for(var D=this.toBBox,r=[];F;){for(var z=
0;z<F.children.length;z++){var G=F.children[z],T=F.leaf?D(G):G;n(H,T)&&(F.leaf?J.push(G):g(H,T)?this._all(G,J):r.push(G))}F=r.pop()}return J},O.prototype.collides=function(H){var F=this.data;if(!n(H,F))return!1;for(var J=[];F;){for(var D=0;D<F.children.length;D++){var r=F.children[D],z=F.leaf?this.toBBox(r):r;if(n(H,z)){if(F.leaf||g(H,z))return!0;J.push(r)}}F=J.pop()}return!1},O.prototype.load=function(H){if(!H||!H.length)return this;if(H.length<this._minEntries){for(var F=0;F<H.length;F++)this.insert(H[F]);
return this}H=this._build(H.slice(),0,H.length-1,0);this.data.children.length?this.data.height===H.height?this._splitRoot(this.data,H):(this.data.height<H.height&&(F=this.data,this.data=H,H=F),this._insert(H,this.data.height-H.height-1,!0)):this.data=H;return this},O.prototype.insert=function(H){return H&&this._insert(H,this.data.height-1),this},O.prototype.clear=function(){return this.data=h([]),this},O.prototype.remove=function(H,F){if(!H)return this;for(var J,D,r,z=this.data,G=this.toBBox(H),T=
[],R=[];z||T.length;){if(z||(z=T.pop(),D=T[T.length-1],J=R.pop(),r=!0),z.leaf){a:{var ca=H;var M=z.children,ba=F;if(ba){for(var W=0;W<M.length;W++)if(ba(ca,M[W])){ca=W;break a}ca=-1}else ca=M.indexOf(ca)}if(-1!==ca)return z.children.splice(ca,1),T.push(z),this._condense(T),this}r||z.leaf||!g(z,G)?D?(J++,z=D.children[J],r=!1):z=null:(T.push(z),R.push(J),J=0,D=z,z=z.children[0])}return this},O.prototype.toBBox=function(H){return H},O.prototype.compareMinX=function(H,F){return H.minX-F.minX},O.prototype.compareMinY=
function(H,F){return H.minY-F.minY},O.prototype.toJSON=function(){return this.data},O.prototype.fromJSON=function(H){return this.data=H,this},O.prototype._all=function(H,F){for(var J=[];H;)H.leaf?F.push.apply(F,H.children):J.push.apply(J,H.children),H=J.pop();return F},O.prototype._build=function(H,F,J,D){var r,z=J-F+1,G=this._maxEntries;if(z<=G)return q(r=h(H.slice(F,J+1)),this.toBBox),r;D||(D=Math.ceil(Math.log(z)/Math.log(G)),G=Math.ceil(z/Math.pow(G,D-1)));(r=h([])).leaf=!1;r.height=D;z=Math.ceil(z/
G);G=z*Math.ceil(Math.sqrt(G));for(x(H,F,J,G,this.compareMinX);F<=J;F+=G){var T=Math.min(F+G-1,J);x(H,F,T,z,this.compareMinY);for(var R=F;R<=T;R+=z)r.children.push(this._build(H,R,Math.min(R+z-1,T),D-1))}return q(r,this.toBBox),r},O.prototype._chooseSubtree=function(H,F,J,D){for(;D.push(F),!F.leaf&&D.length-1!==J;){for(var r=1/0,z=1/0,G=void 0,T=0;T<F.children.length;T++){var R=F.children[T],ca=c(R),M=(ba=H,W=R,(Math.max(W.maxX,ba.maxX)-Math.min(W.minX,ba.minX))*(Math.max(W.maxY,ba.maxY)-Math.min(W.minY,
ba.minY))-ca);M<z?(z=M,r=ca<r?ca:r,G=R):M===z&&ca<r&&(r=ca,G=R)}F=G||F.children[0]}var ba,W;return F},O.prototype._insert=function(H,F,J){J=J?H:this.toBBox(H);var D=[],r=this._chooseSubtree(J,this.data,F,D);r.children.push(H);for(m(r,J);0<=F&&D[F].children.length>this._maxEntries;)this._split(D,F),F--;this._adjustParentBBoxes(J,D,F)},O.prototype._split=function(H,F){var J=H[F],D=J.children.length,r=this._minEntries;this._chooseSplitAxis(J,r,D);D=this._chooseSplitIndex(J,r,D);D=h(J.children.splice(D,
J.children.length-D));D.height=J.height;D.leaf=J.leaf;q(J,this.toBBox);q(D,this.toBBox);F?H[F-1].children.push(D):this._splitRoot(J,D)},O.prototype._splitRoot=function(H,F){this.data=h([H,F]);this.data.height=H.height+1;this.data.leaf=!1;q(this.data,this.toBBox)},O.prototype._chooseSplitIndex=function(H,F,J){for(var D,r,z,G,T,R,ca,M=1/0,ba=1/0,W=F;W<=J-F;W++){var ea=t(H,0,W,this.toBBox),La=t(H,W,J,this.toBBox),aa=(r=ea,z=La,G=void 0,T=void 0,R=void 0,ca=void 0,G=Math.max(r.minX,z.minX),T=Math.max(r.minY,
z.minY),R=Math.min(r.maxX,z.maxX),ca=Math.min(r.maxY,z.maxY),Math.max(0,R-G)*Math.max(0,ca-T));ea=c(ea)+c(La);aa<M?(M=aa,D=W,ba=ea<ba?ea:ba):aa===M&&ea<ba&&(ba=ea,D=W)}return D||J-F},O.prototype._chooseSplitAxis=function(H,F,J){var D=H.leaf?this.compareMinX:f,r=H.leaf?this.compareMinY:b;this._allDistMargin(H,F,J,D)<this._allDistMargin(H,F,J,r)&&H.children.sort(D)},O.prototype._allDistMargin=function(H,F,J,D){H.children.sort(D);D=this.toBBox;for(var r=t(H,0,F,D),z=t(H,J-F,J,D),G=e(r)+e(z),T=F;T<J-
F;T++){var R=H.children[T];m(r,H.leaf?D(R):R);G+=e(r)}for(J=J-F-1;J>=F;J--)r=H.children[J],m(z,H.leaf?D(r):r),G+=e(z);return G},O.prototype._adjustParentBBoxes=function(H,F,J){for(;0<=J;J--)m(F[J],H)},O.prototype._condense=function(H){for(var F=H.length-1,J=void 0;0<=F;F--)0===H[F].children.length?0<F?(J=H[F-1].children).splice(J.indexOf(H[F]),1):this.clear():q(H[F],this.toBBox)},O})};
shadow$provide[207]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=function(m){return m&&m.__esModule?m:{default:m}}(L(206)),k=L(84),p=L(75),q=L(70);class t{constructor(m){this.rbush_=new w.default(m);this.items_={}}insert(m,f){m={minX:m[0],minY:m[1],maxX:m[2],maxY:m[3],value:f};this.rbush_.insert(m);this.items_[(0,p.getUid)(f)]=m}load(m,f){const b=Array(f.length);for(let e=0,g=f.length;e<g;e++){var c=m[e];const n=f[e];c={minX:c[0],minY:c[1],maxX:c[2],
maxY:c[3],value:n};b[e]=c;this.items_[(0,p.getUid)(n)]=c}this.rbush_.load(b)}remove(m){m=(0,p.getUid)(m);const f=this.items_[m];delete this.items_[m];return null!==this.rbush_.remove(f)}update(m,f){const b=this.items_[(0,p.getUid)(f)];(0,k.equals)([b.minX,b.minY,b.maxX,b.maxY],m)||(this.remove(f),this.insert(m,f))}getAll(){return this.rbush_.all().map(function(m){return m.value})}getInExtent(m){return this.rbush_.search({minX:m[0],minY:m[1],maxX:m[2],maxY:m[3]}).map(function(f){return f.value})}forEach(m){return this.forEach_(this.getAll(),
m)}forEachInExtent(m,f){return this.forEach_(this.getInExtent(m),f)}forEach_(m,f){let b;for(let c=0,e=m.length;c<e&&!(b=f(m[c]));c++);return b}isEmpty(){return(0,q.isEmpty)(this.items_)}clear(){this.rbush_.clear();this.items_={}}getExtent(m){const f=this.rbush_.toJSON();return(0,k.createOrUpdate)(f.minX,f.minY,f.maxX,f.maxY,m)}concat(m){this.rbush_.load(m.rbush_.all());for(const f in m.items_)this.items_[f]=m.items_[f]}}A.default=t};
shadow$provide[208]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[209]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.all=function(k,p){return[[-Infinity,-Infinity,Infinity,Infinity]]};A.bbox=function(k,p){return[k]};A.tile=function(k){return function(p,q,t){q=k.getZForResolution((0,w.fromUserResolution)(q,t));p=k.getTileRangeForExtentAndZ((0,w.fromUserExtent)(p,t),q);const m=[];q=[q,0,0];for(q[1]=p.minX;q[1]<=p.maxX;++q[1])for(q[2]=p.minY;q[2]<=p.maxY;++q[2])m.push((0,w.toUserExtent)(k.getTileCoordExtent(q),t));return m}};
var w=L(121)};
shadow$provide[210]=function(Ka,L,sb,A){function w(q,t,m,f,b,c,e){const g=new XMLHttpRequest;g.open("GET","function"===typeof q?q(m,f,b):q,!0);"arraybuffer"==t.getType()&&(g.responseType="arraybuffer");g.withCredentials=p;g.onload=function(n){if(!g.status||200<=g.status&&300>g.status){n=t.getType();let h;"json"==n||"text"==n?h=g.responseText:"xml"==n?(h=g.responseXML)||(h=(new DOMParser).parseFromString(g.responseText,"application/xml")):"arraybuffer"==n&&(h=g.response);h?c(t.readFeatures(h,{extent:m,
featureProjection:b}),t.readProjection(h)):e()}else e()};g.onerror=e;g.send()}Object.defineProperty(A,"__esModule",{value:!0});A.loadFeaturesXhr=w;A.xhr=function(q,t){return function(m,f,b,c,e){const g=this;w(q,t,m,f,b,function(n,h){g.addFeatures(n);void 0!==c&&c(n)},e?e:k.VOID)}};A.setWithCredentials=function(q){p=q};var k=L(69);let p=!1};
shadow$provide[211]=function(Ka,L,sb,A){function w(D){return D&&D.__esModule?D:{default:D}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.VectorSourceEvent=void 0;var k=w(L(79)),p=w(L(78));Ka=w(L(65));var q=w(L(72)),t=w(L(66)),m=w(L(207));sb=w(L(194));var f=w(L(208)),b=L(69),c=L(209),e=L(81),g=L(84),n=L(68),h=L(75),x=L(70),O=L(73),H=L(210);class F extends Ka.default{constructor(D,r,z){super(D);this.feature=r;this.features=z}}A.VectorSourceEvent=F;class J extends sb.default{constructor(D){D=
D||{};super({attributions:D.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0!==D.wrapX?D.wrapX:!0});this.loader_=b.VOID;this.format_=D.format;this.overlaps_=void 0===D.overlaps?!0:D.overlaps;this.url_=D.url;void 0!==D.loader?this.loader_=D.loader:void 0!==this.url_&&((0,e.assert)(this.format_,7),this.loader_=(0,H.xhr)(this.url_,this.format_));this.strategy_=void 0!==D.strategy?D.strategy:c.all;const r=void 0!==D.useSpatialIndex?D.useSpatialIndex:!0;this.featuresRtree_=r?new m.default:
null;this.loadedExtentsRtree_=new m.default;this.loadingExtentsCount_=0;this.nullGeometryFeatures_={};this.idIndex_={};this.uidIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;let z,G;Array.isArray(D.features)?G=D.features:D.features&&(z=D.features,G=z.getArray());r||void 0!==z||(z=new k.default(G));void 0!==G&&this.addFeaturesInternal(G);void 0!==z&&this.bindFeaturesCollection_(z)}addFeature(D){this.addFeatureInternal(D);this.changed()}addFeatureInternal(D){var r=(0,h.getUid)(D);
if(this.addToIndex_(r,D)){this.setupChangeEvents_(r,D);var z=D.getGeometry();z?(r=z.getExtent(),this.featuresRtree_&&this.featuresRtree_.insert(r,D)):this.nullGeometryFeatures_[r]=D;this.dispatchEvent(new F(f.default.ADDFEATURE,D))}else this.featuresCollection_&&this.featuresCollection_.remove(D)}setupChangeEvents_(D,r){this.featureChangeKeys_[D]=[(0,O.listen)(r,q.default.CHANGE,this.handleFeatureChange_,this),(0,O.listen)(r,t.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(D,
r){let z=!0;const G=r.getId();void 0!==G&&(G.toString()in this.idIndex_?z=!1:this.idIndex_[G.toString()]=r);z&&((0,e.assert)(!(D in this.uidIndex_),30),this.uidIndex_[D]=r);return z}addFeatures(D){this.addFeaturesInternal(D);this.changed()}addFeaturesInternal(D){const r=[],z=[],G=[];for(let ca=0,M=D.length;ca<M;ca++){var T=D[ca],R=(0,h.getUid)(T);this.addToIndex_(R,T)&&z.push(T)}for(let ca=0,M=z.length;ca<M;ca++)D=z[ca],T=(0,h.getUid)(D),this.setupChangeEvents_(T,D),(R=D.getGeometry())?(T=R.getExtent(),
r.push(T),G.push(D)):this.nullGeometryFeatures_[T]=D;this.featuresRtree_&&this.featuresRtree_.load(r,G);if(this.hasListener(f.default.ADDFEATURE))for(let ca=0,M=z.length;ca<M;ca++)this.dispatchEvent(new F(f.default.ADDFEATURE,z[ca]))}bindFeaturesCollection_(D){let r=!1;this.addEventListener(f.default.ADDFEATURE,function(z){r||(r=!0,D.push(z.feature),r=!1)});this.addEventListener(f.default.REMOVEFEATURE,function(z){r||(r=!0,D.remove(z.feature),r=!1)});D.addEventListener(p.default.ADD,function(z){r||
(r=!0,this.addFeature(z.element),r=!1)}.bind(this));D.addEventListener(p.default.REMOVE,function(z){r||(r=!0,this.removeFeature(z.element),r=!1)}.bind(this));this.featuresCollection_=D}clear(D){if(D){for(const z in this.featureChangeKeys_)this.featureChangeKeys_[z].forEach(O.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){D=function(z){this.removeFeatureInternal(z)}.bind(this);this.featuresRtree_.forEach(D);for(var r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&
this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};r=new F(f.default.CLEAR);this.dispatchEvent(r);this.changed()}forEachFeature(D){if(this.featuresRtree_)return this.featuresRtree_.forEach(D);this.featuresCollection_&&this.featuresCollection_.forEach(D)}forEachFeatureAtCoordinateDirect(D,r){return this.forEachFeatureInExtent([D[0],D[1],D[0],D[1]],function(z){if(z.getGeometry().intersectsCoordinate(D))return r(z)})}forEachFeatureInExtent(D,
r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(D,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)}forEachFeatureIntersectingExtent(D,r){return this.forEachFeatureInExtent(D,function(z){if(z.getGeometry().intersectsExtent(D)&&(z=r(z)))return z})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let D;this.featuresCollection_?D=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(D=this.featuresRtree_.getAll(),(0,x.isEmpty)(this.nullGeometryFeatures_)||
(0,n.extend)(D,Object.values(this.nullGeometryFeatures_)));return D}getFeaturesAtCoordinate(D){const r=[];this.forEachFeatureAtCoordinateDirect(D,function(z){r.push(z)});return r}getFeaturesInExtent(D,r){if(this.featuresRtree_){if(!(r&&r.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(D);D=(0,g.wrapAndSliceX)(D,r);return[].concat(...D.map(z=>this.featuresRtree_.getInExtent(z)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(D,
r){const z=D[0],G=D[1];let T=null;const R=[NaN,NaN];let ca=Infinity;const M=[-Infinity,-Infinity,Infinity,Infinity];r=r?r:b.TRUE;this.featuresRtree_.forEachInExtent(M,function(ba){if(r(ba)){const W=ba.getGeometry(),ea=ca;ca=W.closestPointXY(z,G,R,ca);ca<ea&&(T=ba,ba=Math.sqrt(ca),M[0]=z-ba,M[1]=G-ba,M[2]=z+ba,M[3]=G+ba)}});return T}getExtent(D){return this.featuresRtree_.getExtent(D)}getFeatureById(D){D=this.idIndex_[D.toString()];return void 0!==D?D:null}getFeatureByUid(D){D=this.uidIndex_[D];return void 0!==
D?D:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(D){D=D.target;var r=(0,h.getUid)(D),z=D.getGeometry();z?(z=z.getExtent(),r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(z,D)):this.featuresRtree_&&this.featuresRtree_.update(z,D)):r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(D),this.nullGeometryFeatures_[r]=D);z=D.getId();
void 0!==z?(r=z.toString(),this.idIndex_[r]!==D&&(this.removeFromIdIndex_(D),this.idIndex_[r]=D)):(this.removeFromIdIndex_(D),this.uidIndex_[r]=D);this.changed();this.dispatchEvent(new F(f.default.CHANGEFEATURE,D))}hasFeature(D){const r=D.getId();return void 0!==r?r in this.idIndex_:(0,h.getUid)(D)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,x.isEmpty)(this.nullGeometryFeatures_):this.featuresCollection_?0===this.featuresCollection_.getLength():!0}loadFeatures(D,
r,z){const G=this.loadedExtentsRtree_;D=this.strategy_(D,r,z);for(let T=0,R=D.length;T<R;++T){const ca=D[T];G.forEachInExtent(ca,function(M){return(0,g.containsExtent)(M.extent,ca)})||(++this.loadingExtentsCount_,this.dispatchEvent(new F(f.default.FEATURESLOADSTART)),this.loader_.call(this,ca,r,z,function(M){--this.loadingExtentsCount_;this.dispatchEvent(new F(f.default.FEATURESLOADEND,void 0,M))}.bind(this),function(){--this.loadingExtentsCount_;this.dispatchEvent(new F(f.default.FEATURESLOADERROR))}.bind(this)),
G.insert(ca,{extent:ca.slice()}))}this.loading=4>this.loader_.length?!1:0<this.loadingExtentsCount_}refresh(){this.clear(!0);this.loadedExtentsRtree_.clear();super.refresh()}removeLoadedExtent(D){const r=this.loadedExtentsRtree_;let z;r.forEachInExtent(D,function(G){if((0,g.equals)(G.extent,D))return z=G,!0});z&&r.remove(z)}removeFeature(D){if(D){var r=(0,h.getUid)(D);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(D);this.removeFeatureInternal(D)&&
this.changed()}}removeFeatureInternal(D){const r=(0,h.getUid)(D);var z=this.featureChangeKeys_[r];if(z)return z.forEach(O.unlistenByKey),delete this.featureChangeKeys_[r],z=D.getId(),void 0!==z&&delete this.idIndex_[z.toString()],delete this.uidIndex_[r],this.dispatchEvent(new F(f.default.REMOVEFEATURE,D)),D}removeFromIdIndex_(D){let r=!1;for(const z in this.idIndex_)if(this.idIndex_[z]===D){delete this.idIndex_[z];r=!0;break}return r}setLoader(D){this.loader_=D}setUrl(D){(0,e.assert)(this.format_,
7);this.url_=D;this.setLoader((0,H.xhr)(D,this.format_))}}A.default=J};
shadow$provide[212]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(72)),p=w(L(169)),q=w(L(135));Ka=w(L(211));var t=L(93),m=L(81),f=L(84),b=L(75);class c extends Ka.default{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX});this.resolution=void 0;this.distance=void 0!==e.distance?e.distance:20;this.minDistance=e.minDistance||0;this.interpolationRatio=0;this.features=[];this.geometryFunction=
e.geometryFunction||function(g){g=g.getGeometry();(0,m.assert)("Point"==g.getType(),10);return g};this.createCustomCluster_=e.createCluster;this.source=null;this.boundRefresh_=this.refresh.bind(this);this.updateDistance(this.distance,this.minDistance);this.setSource(e.source||null)}clear(e){this.features.length=0;super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,g,n){this.source.loadFeatures(e,g,n);g!==this.resolution&&(this.resolution=g,this.refresh())}setDistance(e){this.updateDistance(e,
this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(k.default.CHANGE,this.boundRefresh_);(this.source=e)&&e.addEventListener(k.default.CHANGE,this.boundRefresh_);this.refresh()}refresh(){this.clear();this.cluster();this.addFeatures(this.features)}updateDistance(e,g){const n=0===e?0:Math.min(g,e)/e,h=e!==this.distance||this.interpolationRatio!==n;this.distance=e;this.minDistance=
g;this.interpolationRatio=n;h&&this.refresh()}cluster(){if(void 0!==this.resolution&&this.source){var e=(0,f.createEmpty)(),g=this.distance*this.resolution,n=this.source.getFeatures(),h={};for(let O=0,H=n.length;O<H;O++){var x=n[O];(0,b.getUid)(x)in h||!(x=this.geometryFunction(x))||(x=x.getCoordinates(),(0,f.createOrUpdateFromCoordinate)(x,e),(0,f.buffer)(e,g,e),x=this.source.getFeaturesInExtent(e).filter(function(F){F=(0,b.getUid)(F);return F in h?!1:h[F]=!0}),this.features.push(this.createCluster(x,
e)))}}}createCluster(e,g){var n=[0,0];for(var h=e.length-1;0<=h;--h){const x=this.geometryFunction(e[h]);x?(0,t.add)(n,x.getCoordinates()):e.splice(h,1)}(0,t.scale)(n,1/e.length);g=(0,f.getCenter)(g);h=this.interpolationRatio;n=new q.default([n[0]*(1-h)+g[0]*h,n[1]*(1-h)+g[1]*h]);return this.createCustomCluster_?this.createCustomCluster_(n,e):new p.default({geometry:n,features:e})}}A.default=c};
shadow$provide[213]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(182));var k=w(L(109));class p extends Ka.default{constructor(q){super(q.tileCoord,k.default.IDLE,{transition:q.transition,interpolate:q.interpolate});this.loader_=q.loader;this.error_=this.data_=null;this.size_=q.size||[256,256]}getSize(){return this.size_}getData(){return this.data_}getError(){return this.error_}load(){if(this.state===
k.default.IDLE||this.state===k.default.ERROR){this.state=k.default.LOADING;this.changed();var q=this;this.loader_().then(function(t){q.data_=t;q.state=k.default.LOADED;q.changed()}).catch(function(t){q.error_=t;q.state=k.default.ERROR;q.changed()})}}}A.default=p};
shadow$provide[214]=function(Ka,L,sb,A){function w(x){if("function"!==typeof WeakMap)return null;var O=new WeakMap,H=new WeakMap;return(w=function(F){return F?H:O})(x)}function k(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(213)),q=k(L(72)),t=k(L(193)),m=function(x,O){if(!O&&x&&x.__esModule)return x;if(null===x||"object"!==typeof x&&"function"!==typeof x)return{default:x};if((O=w(O))&&O.has(x))return O.get(x);var H={},F=Object.defineProperty&&
Object.getOwnPropertyDescriptor,J;for(J in x)if("default"!==J&&Object.prototype.hasOwnProperty.call(x,J)){var D=F?Object.getOwnPropertyDescriptor(x,J):null;D&&(D.get||D.set)?Object.defineProperty(H,J,D):H[J]=x[J]}H.default=x;O&&O.set(x,H);return H}(L(198)),f=k(L(109)),b=L(197),c=L(191),e=L(75),g=L(69),n=L(167);class h extends m.default{constructor(x){const O=void 0===x.projection?"EPSG:3857":x.projection;let H=x.tileGrid;void 0===H&&O&&(H=(0,b.createXYZ)({extent:(0,b.extentFromProjection)(O),maxResolution:x.maxResolution,
maxZoom:x.maxZoom,minZoom:x.minZoom,tileSize:x.tileSize}));super({cacheSize:.1,attributions:x.attributions,attributionsCollapsible:x.attributionsCollapsible,projection:O,tileGrid:H,opaque:x.opaque,state:x.state,wrapX:x.wrapX,transition:x.transition,interpolate:x.interpolate});this.gutter_=void 0!==x.gutter?x.gutter:0;this.tileSize_=x.tileSize?(0,n.toSize)(x.tileSize):null;this.tileSizes_=null;this.tileLoadingKeys_={};this.loader_=x.loader;this.handleTileChange_=this.handleTileChange_.bind(this);this.bandCount=
void 0===x.bandCount?4:x.bandCount}setTileSizes(x){this.tileSizes_=x}getTileSize(x){if(this.tileSizes_)return this.tileSizes_[x];if(this.tileSize_)return this.tileSize_;const O=this.getTileGrid();return O?(0,n.toSize)(O.getTileSize(x)):[256,256]}getGutterForProjection(x){return this.gutter_}setLoader(x){this.loader_=x}getTile(x,O,H,F,J){J=this.getTileSize(x);F=(0,c.getKeyZXY)(x,O,H);if(this.tileCache.containsKey(F))return this.tileCache.get(F);const D=this.loader_;J=Object.assign({tileCoord:[x,O,
H],loader:function(){return(0,g.toPromise)(function(){return D(x,O,H)})},size:J},this.tileOptions);J=new p.default(J);J.key=this.getKey();J.addEventListener(q.default.CHANGE,this.handleTileChange_);this.tileCache.set(F,J);return J}handleTileChange_(x){x=x.target;const O=(0,e.getUid)(x),H=x.getState();let F;H==f.default.LOADING?(this.tileLoadingKeys_[O]=!0,F=t.default.TILELOADSTART):O in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[O],F=H==f.default.ERROR?t.default.TILELOADERROR:H==f.default.LOADED?
t.default.TILELOADEND:void 0);F&&this.dispatchEvent(new m.TileSourceEvent(F,x))}}A.default=h};
shadow$provide[215]=function(Ka,L,sb,A){(function(w){function k(Qb){return(rc,...bd)=>R(Qb,rc,bd)}function p(Qb){if(Qb[la]===ka)return Qb;const rc=ma(Jb);Za(tb,rc,wa(Qb));return rc}function q(Qb){const rc=ma(nc);Za(fc,rc,Qb);return rc}function t(Qb){return null!==Qb&&"object"===typeof Qb||"function"===typeof Qb}function m(Qb){Qb=jb(Qb);return"BigInt64Array"===Qb||"BigUint64Array"===Qb}function f(Qb){if(null===Gc)return!1;try{return zc(Qb),!0}catch(rc){return!1}}function b(Qb){return eb(Qb)?Qb[la]===
ka?!0:"Array Iterator"===Qb[la]()[bb]:!1}function c(Qb){return void 0===jb(Qb)?!1:Qb[la]===Hb?!0:"Array Iterator"===Qb[la]()[bb]}function e(Qb){if("string"!==typeof Qb)return!1;const rc=Y(Qb);return Qb===rc+""&&Aa(rc)?rc===Ta(rc):!1}function g(Qb){if(null===Qb||"object"!==typeof Qb)return!1;Qb=ea(Qb);if(null===Qb||"object"!==typeof Qb)return!1;Qb=Qb.constructor;if(void 0===Qb)return!1;if(!t(Qb))throw Xd("The constructor property value is not an object");return La(Qb,Hc)}function n(Qb){lc[0]=Qb;Qb=
ld[0];const rc=Qb>>23&511;return sd[rc]+((Qb&8388607)>>Hd[rc])}function h(Qb){const rc=Qb>>10;ld[0]=Vd[he[rc]+(Qb&1023)]+be[rc];return lc[0]}function x(Qb){if("bigint"===typeof Qb)throw Xd("Cannot convert a BigInt value to a number");Qb=Y(Qb);return sa(Qb)||0===Qb?0:Ta(Qb)}function O(Qb){Qb=x(Qb);return 0>Qb?0:Qb<Ce?Qb:Ce}function H(Qb,rc){if(!t(Qb))throw Xd("This is not an object");Qb=Qb.constructor;if(void 0===Qb)return rc;if(!t(Qb))throw Xd("The constructor property value is not an object");Qb=
Qb[Ia];return null==Qb?rc:Qb}function F(Qb){if(f(Qb))return!1;try{return Mb(Qb,0,0),!1}catch(rc){}return!0}function J(Qb,rc){const bd=sa(Qb),Ad=sa(rc);if(bd&&Ad)return 0;if(bd)return 1;if(Ad||Qb<rc)return-1;if(Qb>rc)return 1;if(0===Qb&&0===rc){Qb=qa(Qb,0);rc=qa(rc,0);if(!Qb&&rc)return-1;if(Qb&&!rc)return 1}return 0}function D(Qb){return za(re,Qb)||!lb(Qb)&&g(Qb)}function r(Qb){if(!D(Qb))throw Xd("This is not a Float16Array object");}function z(Qb,rc){var bd=D(Qb);const Ad=void 0!==jb(Qb);if(!bd&&
!Ad)throw Xd("Species constructor didn't return TypedArray object");if("number"===typeof rc&&(bd?(bd=G(Qb),bd=$a(bd)):bd=$a(Qb),bd<rc))throw Xd("Derived constructor created TypedArray object which was too small length");if(m(Qb))throw Xd("Cannot mix BigInt and other types, use explicit conversions");}function G(Qb){var rc=We(re,Qb);if(void 0!==rc){Qb=ua(rc);if(F(Qb))throw Xd("Attempting to access detached ArrayBuffer");return rc}rc=Qb.buffer;if(F(rc))throw Xd("Attempting to access detached ArrayBuffer");
Qb=ca(Re,[rc,Qb.byteOffset,Qb.length],Qb.constructor);return We(re,Qb)}function T(Qb){const rc=$a(Qb),bd=[];for(let Ad=0;Ad<rc;++Ad)bd[Ad]=h(Qb[Ad]);return bd}const {apply:R,construct:ca,defineProperty:M,get:ba,getOwnPropertyDescriptor:W,getPrototypeOf:ea,has:La,ownKeys:aa,set:C,setPrototypeOf:B}=Reflect,N=Proxy,Y=Number,{isFinite:Aa,isNaN:sa}=Y,{iterator:la,species:Ia,toStringTag:bb,for:ib}=Symbol,Ja=Object,{create:ma,defineProperty:Fa,freeze:Pa,is:qa}=Ja,ya=Ja.prototype,oa=ya.__lookupGetter__?k(ya.__lookupGetter__):
(Qb,rc)=>{if(null==Qb)throw Xd("Cannot convert undefined or null to object");Qb=Ja(Qb);do{const bd=W(Qb,rc);if(void 0!==bd){if(va(bd,"get"))return bd.get;break}}while(null!==(Qb=ea(Qb)))},va=Ja.hasOwn||k(ya.hasOwnProperty),Ua=Array,eb=Ua.isArray,ra=Ua.prototype,Oa=k(ra.join),ja=k(ra.push),U=k(ra.toLocaleString),ka=ra[la],wa=k(ka),Ta=Math.trunc,db=ArrayBuffer,lb=db.isView,nb=db.prototype,Mb=k(nb.slice),$b=k(W(nb,"byteLength").get),Gc="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:null,zc=
Gc&&k(W(Gc.prototype,"byteLength").get),Bc=ea(Uint8Array),uc=Bc.from,id=Bc.prototype,Hb=id[la],Ab=k(id.keys),dc=k(id.values),Wb=k(id.entries),mc=k(id.set),Kc=k(id.reverse),Fc=k(id.fill),Sc=k(id.copyWithin),jd=k(id.sort),$d=k(id.slice),Ba=k(id.subarray),ua=k(W(id,"buffer").get),Ca=k(W(id,"byteOffset").get),$a=k(W(id,"length").get),jb=k(W(id,bb).get),yb=Uint16Array,Ub=Uint32Array,Tb=Float32Array,Vb=ea([][la]()),Ic=k(Vb.next),Yc=k(function*(){}().next),dd=ea(Vb),nd=DataView.prototype,xd=k(nd.getUint16),
Nd=k(nd.setUint16),Xd=TypeError,ge=RangeError,le=WeakSet,qe=le.prototype,wd=k(qe.add),qf=k(qe.has),gf=WeakMap,te=gf.prototype,We=k(te.get),za=k(te.has),Za=k(te.set),tb=new gf,Jb=ma(null,{next:{value:function(){const Qb=We(tb,this);return Ic(Qb)}},[la]:{value:function(){return this}}}),fc=new gf,nc=ma(dd,{next:{value:function(){const Qb=We(fc,this);return Yc(Qb)},writable:!0,configurable:!0}});for(const Qb of aa(Vb))"next"!==Qb&&Fa(nc,Qb,W(Vb,Qb));const Hc=ib("__Float16Array__"),Dc=new db(4),lc=new Tb(Dc),
ld=new Ub(Dc),sd=new Ub(512),Hd=new Ub(512);for(let Qb=0;256>Qb;++Qb){const rc=Qb-127;-27>rc?(sd[Qb]=0,sd[Qb|256]=32768,Hd[Qb]=24,Hd[Qb|256]=24):-14>rc?(sd[Qb]=1024>>-rc-14,sd[Qb|256]=1024>>-rc-14|32768,Hd[Qb]=-rc-1,Hd[Qb|256]=-rc-1):15>=rc?(sd[Qb]=rc+15<<10,sd[Qb|256]=rc+15<<10|32768,Hd[Qb]=13,Hd[Qb|256]=13):128>rc?(sd[Qb]=31744,sd[Qb|256]=64512,Hd[Qb]=24,Hd[Qb|256]=24):(sd[Qb]=31744,sd[Qb|256]=64512,Hd[Qb]=13,Hd[Qb|256]=13)}const Vd=new Ub(2048),be=new Ub(64),he=new Ub(64);for(let Qb=1;1024>Qb;++Qb){let rc=
Qb<<13,bd=0;for(;0===(rc&8388608);)rc<<=1,bd-=8388608;rc&=-8388609;bd+=947912704;Vd[Qb]=rc|bd}for(let Qb=1024;2048>Qb;++Qb)Vd[Qb]=939524096+(Qb-1024<<13);for(let Qb=1;31>Qb;++Qb)be[Qb]=Qb<<23;be[31]=1199570944;be[32]=2147483648;for(let Qb=33;63>Qb;++Qb)be[Qb]=2147483648+(Qb-32<<23);be[63]=3347054592;for(let Qb=1;64>Qb;++Qb)32!==Qb&&(he[Qb]=1024);const Ce=Y.MAX_SAFE_INTEGER,re=new gf,vf=new le;for(const Qb of aa(id)){if(Qb===bb)continue;const rc=W(id,Qb);va(rc,"get")&&"function"===typeof rc.get&&wd(vf,
rc.get)}const Ge=Pa({get(Qb,rc,bd){return e(rc)&&va(Qb,rc)?h(ba(Qb,rc)):qf(vf,oa(Qb,rc))?ba(Qb,rc):ba(Qb,rc,bd)},set(Qb,rc,bd,Ad){return e(rc)&&va(Qb,rc)?C(Qb,rc,n(bd)):C(Qb,rc,bd,Ad)},getOwnPropertyDescriptor(Qb,rc){return e(rc)&&va(Qb,rc)?(Qb=W(Qb,rc),Qb.value=h(Qb.value),Qb):W(Qb,rc)},defineProperty(Qb,rc,bd){e(rc)&&va(Qb,rc)&&va(bd,"value")&&(bd.value=n(bd.value));return M(Qb,rc,bd)}});class Re{constructor(Qb,rc,bd){if(D(Qb))var Ad=ca(yb,[G(Qb)],new.target);else{var xa;if(xa=t(Qb)){try{$b(Qb);
var Xa=!0}catch(Xb){Xa=!1}xa=!Xa}if(xa){if(void 0!==jb(Qb)){xa=Qb;Xa=$a(Qb);Ad=ua(Qb);var zb=f(Ad)?db:H(Ad,db);if(F(Ad))throw Xd("Attempting to access detached ArrayBuffer");if(m(Qb))throw Xd("Cannot mix BigInt and other types, use explicit conversions");Ad=new zb(2*Xa);Ad=ca(yb,[Ad],new.target)}else{xa=Qb[la];if(null!=xa&&"function"!==typeof xa)throw Xd("@@iterator property is not callable");null!=xa?b(Qb)?(xa=Qb,Xa=Qb.length):(xa=[...Qb],Xa=xa.length):(xa=Qb,Xa=O(xa.length));Ad=ca(yb,[Xa],new.target)}for(zb=
0;zb<Xa;++zb)Ad[zb]=n(xa[zb])}else Ad=ca(yb,arguments,new.target)}xa=new N(Ad,Ge);Za(re,xa,Ad);return xa}static from(Qb,...rc){if(!La(this,Hc))throw Xd("This constructor is not a subclass of Float16Array");if(this===Re){if(D(Qb)&&0===rc.length){var bd=G(Qb);bd=new yb(ua(bd),Ca(bd),$a(bd));return new Re(ua($d(bd)))}if(0===rc.length)return new Re(ua(R(uc,yb,[Qb,n])));const xa=rc[0];return new Re(ua(R(uc,yb,[Qb,function(Xa,...zb){return n(R(xa,this,[Xa,...p(zb)]))},rc[1]])))}bd=Qb[la];if(null!=bd&&"function"!==
typeof bd)throw Xd("@@iterator property is not callable");if(null!=bd)b(Qb)?(bd=Qb,Qb=Qb.length):c(Qb)?(bd=Qb,Qb=$a(Qb)):(bd=[...Qb],Qb=bd.length);else{if(null==Qb)throw Xd("Cannot convert undefined or null to object");bd=Ja(Qb);Qb=O(bd.length)}const Ad=new this(Qb);if(0===rc.length)for(rc=0;rc<Qb;++rc)Ad[rc]=bd[rc];else{const xa=rc[0];rc=rc[1];for(let Xa=0;Xa<Qb;++Xa)Ad[Xa]=R(xa,rc,[bd[Xa],Xa])}return Ad}static of(...Qb){if(!La(this,Hc))throw Xd("This constructor is not a subclass of Float16Array");
const rc=Qb.length;if(this===Re){var bd=new Re(rc),Ad=G(bd);for(let xa=0;xa<rc;++xa)Ad[xa]=n(Qb[xa]);return bd}bd=new this(rc);for(Ad=0;Ad<rc;++Ad)bd[Ad]=Qb[Ad];return bd}keys(){r(this);const Qb=G(this);return Ab(Qb)}values(){r(this);const Qb=G(this);return q(function*(){for(const rc of dc(Qb))yield h(rc)}())}entries(){r(this);const Qb=G(this);return q(function*(){for(const [rc,bd]of Wb(Qb))yield[rc,h(bd)]}())}at(Qb){r(this);const rc=G(this),bd=$a(rc);Qb=x(Qb);Qb=0<=Qb?Qb:bd+Qb;if(!(0>Qb||Qb>=bd))return h(rc[Qb])}map(Qb,
...rc){r(this);const bd=G(this),Ad=$a(bd);rc=rc[0];var xa=H(bd,Re);if(xa===Re){xa=new Re(Ad);var Xa=G(xa);for(var zb=0;zb<Ad;++zb){const Xb=h(bd[zb]);Xa[zb]=n(R(Qb,rc,[Xb,zb,this]))}return xa}xa=new xa(Ad);z(xa,Ad);for(Xa=0;Xa<Ad;++Xa)zb=h(bd[Xa]),xa[Xa]=R(Qb,rc,[zb,Xa,this]);return xa}filter(Qb,...rc){r(this);const bd=G(this),Ad=$a(bd);rc=rc[0];const xa=[];for(let Xa=0;Xa<Ad;++Xa){const zb=h(bd[Xa]);R(Qb,rc,[zb,Xa,this])&&ja(xa,zb)}Qb=new (H(bd,Re))(xa);z(Qb);return Qb}reduce(Qb,...rc){r(this);const bd=
G(this),Ad=$a(bd);if(0===Ad&&0===rc.length)throw Xd("Reduce of empty array with no initial value");if(0===rc.length){rc=h(bd[0]);var xa=1}else rc=rc[0],xa=0;for(;xa<Ad;++xa)rc=Qb(rc,h(bd[xa]),xa,this);return rc}reduceRight(Qb,...rc){r(this);const bd=G(this);var Ad=$a(bd);if(0===Ad&&0===rc.length)throw Xd("Reduce of empty array with no initial value");0===rc.length?(rc=h(bd[Ad-1]),Ad-=2):(rc=rc[0],--Ad);for(;0<=Ad;--Ad)rc=Qb(rc,h(bd[Ad]),Ad,this);return rc}forEach(Qb,...rc){r(this);const bd=G(this),
Ad=$a(bd);rc=rc[0];for(let xa=0;xa<Ad;++xa)R(Qb,rc,[h(bd[xa]),xa,this])}find(Qb,...rc){r(this);const bd=G(this),Ad=$a(bd);rc=rc[0];for(let xa=0;xa<Ad;++xa){const Xa=h(bd[xa]);if(R(Qb,rc,[Xa,xa,this]))return Xa}}findIndex(Qb,...rc){r(this);const bd=G(this),Ad=$a(bd);rc=rc[0];for(let xa=0;xa<Ad;++xa){const Xa=h(bd[xa]);if(R(Qb,rc,[Xa,xa,this]))return xa}return-1}findLast(Qb,...rc){r(this);const bd=G(this);var Ad=$a(bd);rc=rc[0];for(--Ad;0<=Ad;--Ad){const xa=h(bd[Ad]);if(R(Qb,rc,[xa,Ad,this]))return xa}}findLastIndex(Qb,
...rc){r(this);const bd=G(this);var Ad=$a(bd);rc=rc[0];for(--Ad;0<=Ad;--Ad){const xa=h(bd[Ad]);if(R(Qb,rc,[xa,Ad,this]))return Ad}return-1}every(Qb,...rc){r(this);const bd=G(this),Ad=$a(bd);rc=rc[0];for(let xa=0;xa<Ad;++xa)if(!R(Qb,rc,[h(bd[xa]),xa,this]))return!1;return!0}some(Qb,...rc){r(this);const bd=G(this),Ad=$a(bd);rc=rc[0];for(let xa=0;xa<Ad;++xa)if(R(Qb,rc,[h(bd[xa]),xa,this]))return!0;return!1}set(Qb,...rc){r(this);const bd=G(this);rc=x(rc[0]);if(0>rc)throw ge("Offset is out of bounds");
if(null==Qb)throw Xd("Cannot convert undefined or null to object");if(m(Qb))throw Xd("Cannot mix BigInt and other types, use explicit conversions");if(D(Qb))return mc(G(this),G(Qb),rc);if(void 0!==jb(Qb)){var Ad=ua(Qb);if(F(Ad))throw Xd("Attempting to access detached ArrayBuffer");}Ad=$a(bd);Qb=Ja(Qb);const xa=O(Qb.length);if(Infinity===rc||xa+rc>Ad)throw ge("Offset is out of bounds");for(Ad=0;Ad<xa;++Ad)bd[Ad+rc]=n(Qb[Ad])}reverse(){r(this);const Qb=G(this);Kc(Qb);return this}fill(Qb,...rc){r(this);
const bd=G(this);Fc(bd,n(Qb),...p(rc));return this}copyWithin(Qb,rc,...bd){r(this);const Ad=G(this);Sc(Ad,Qb,rc,...p(bd));return this}sort(Qb){r(this);const rc=G(this),bd=void 0!==Qb?Qb:J;jd(rc,(Ad,xa)=>bd(h(Ad),h(xa)));return this}slice(Qb,rc){r(this);var bd=G(this),Ad=H(bd,Re);if(Ad===Re)return bd=new yb(ua(bd),Ca(bd),$a(bd)),new Re(ua($d(bd,Qb,rc)));var xa=$a(bd);Qb=x(Qb);const Xa=void 0===rc?xa:x(rc);rc=-Infinity===Qb?0:0>Qb?0<xa+Qb?xa+Qb:0:xa<Qb?xa:Qb;xa=-Infinity===Xa?0:0>Xa?0<xa+Xa?xa+Xa:0:
xa<Xa?xa:Xa;Qb=0<xa-rc?xa-rc:0;Ad=new Ad(Qb);z(Ad,Qb);if(0===Qb)return Ad;Qb=ua(bd);if(F(Qb))throw Xd("Attempting to access detached ArrayBuffer");for(Qb=0;rc<xa;)Ad[Qb]=h(bd[rc]),++rc,++Qb;return Ad}subarray(Qb,rc){r(this);var bd=G(this),Ad=H(bd,Re);bd=new yb(ua(bd),Ca(bd),$a(bd));Qb=Ba(bd,Qb,rc);Ad=new Ad(ua(Qb),Ca(Qb),$a(Qb));z(Ad);return Ad}indexOf(Qb,...rc){r(this);const bd=G(this),Ad=$a(bd);rc=x(rc[0]);if(Infinity===rc)return-1;0>rc&&(rc+=Ad,0>rc&&(rc=0));for(;rc<Ad;++rc)if(va(bd,rc)&&h(bd[rc])===
Qb)return rc;return-1}lastIndexOf(Qb,...rc){r(this);const bd=G(this);var Ad=$a(bd);rc=1<=rc.length?x(rc[0]):Ad-1;if(-Infinity===rc)return-1;rc=0<=rc?rc<Ad-1?rc:Ad-1:rc+Ad;for(Ad=rc;0<=Ad;--Ad)if(va(bd,Ad)&&h(bd[Ad])===Qb)return Ad;return-1}includes(Qb,...rc){r(this);const bd=G(this),Ad=$a(bd);var xa=x(rc[0]);if(Infinity===xa)return!1;0>xa&&(xa+=Ad,0>xa&&(xa=0));for(rc=sa(Qb);xa<Ad;++xa){const Xa=h(bd[xa]);if(rc&&sa(Xa)||Xa===Qb)return!0}return!1}join(Qb){r(this);var rc=G(this);rc=T(rc);return Oa(rc,
Qb)}toLocaleString(...Qb){r(this);var rc=G(this);rc=T(rc);return U(rc,...p(Qb))}get [bb](){if(D(this))return"Float16Array"}}Fa(Re,"BYTES_PER_ELEMENT",{value:2});Fa(Re,Hc,{});B(Re,Bc);const af=Re.prototype;Fa(af,"BYTES_PER_ELEMENT",{value:2});Fa(af,la,{value:af.values,writable:!0,configurable:!0});B(af,id);w.Float16Array=Re;w.getFloat16=function(Qb,rc,...bd){return h(xd(Qb,rc,...p(bd)))};w.hfround=function(Qb){if("bigint"===typeof Qb)throw Xd("Cannot convert a BigInt value to a number");Qb=Y(Qb);if(!Aa(Qb)||
0===Qb)return Qb;Qb=n(Qb);return h(Qb)};w.isFloat16Array=D;w.isTypedArray=function(Qb){return void 0!==jb(Qb)||D(Qb)};w.setFloat16=function(Qb,rc,bd,...Ad){return Nd(Qb,rc,n(bd),...p(Ad))};Object.defineProperties(w,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});return w})({})};
shadow$provide[216]=function(Ka,L,sb,A){function w(k,p,q){(q=q&&q.debug||!1)&&console.log("getting "+p+" in "+k);k="object"===typeof k?k.outer:k;p=`${p}\\="\([^"]*\)"`;q&&console.log("pattern:",p);p=(new RegExp(p)).exec(k);q&&console.log("match:",p);if(p)return p[1]}sb.exports=w;sb.exports.default=w};
shadow$provide[217]=function(Ka,L,sb,A){function w(k,p,q){return(k=(new RegExp(p)).exec(k.slice(q)))?q+k.index:-1}sb.exports=w;sb.exports.default=w};
shadow$provide[218]=function(Ka,L,sb,A){function w(k,p,q){return(k=(new RegExp(p)).exec(k.slice(q)))?q+k.index+k[0].length-1:-1}sb.exports=w;sb.exports.default=w};
shadow$provide[219]=function(Ka,L,sb,A){function w(q,t,m){const f=m&&m.debug||!1;var b=m&&m.startIndex||0;f&&console.log("[xml-utils] starting findTagByName with",t," and ",m);m=k(q,`\<${t}[ \>\/]`,b);f&&console.log("[xml-utils] start:",m);if(-1!==m){var c=q.slice(m+t.length),e=p(c,"^[^\x3c]*[ /]\x3e",0);b=-1!==e&&"/"===c[e-1];f&&console.log("[xml-utils] selfClosing:",b);!1===b&&(e=p(c,"[ /]"+t+"\x3e",0));t=m+t.length+e+1;f&&console.log("[xml-utils] end:",t);if(-1!==t)return q=q.slice(m,t),{inner:b?
null:q.slice(q.indexOf("\x3e")+1,q.lastIndexOf("\x3c")),outer:q,start:m,end:t}}}const k=L(217),p=L(218);sb.exports=w;sb.exports.default=w};
shadow$provide[220]=function(Ka,L,sb,A){function w(p,q,t){const m=[],f=t&&t.debug||!1;t=t&&t.startIndex||0;let b;for(;b=k(p,q,{debug:f,startIndex:t});)t=b.end,m.push(b);f&&console.log("findTagsByName found",m.length,"tags");return m}const k=L(219);sb.exports=w;sb.exports.default=w};
shadow$provide[221]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.geoKeys=A.geoKeyNames=A.LercAddCompression=A.LercParameters=A.ExtraSamplesValues=A.photometricInterpretations=A.fieldTypes=A.fieldTypeNames=A.arrayFields=A.fieldTagTypes=void 0;A.fieldTagNames={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",
290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",
328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",
286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",
42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"};A.fieldTags={};for(const w in A.fieldTagNames)A.fieldTagNames.hasOwnProperty(w)&&(A.fieldTags[A.fieldTagNames[w]]=parseInt(w,10));A.fieldTagTypes={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",279:"LONG",282:"RATIONAL",283:"RATIONAL",
284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",297:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",3072:"SHORT",3073:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"};A.arrayFields=[A.fieldTags.BitsPerSample,A.fieldTags.ExtraSamples,A.fieldTags.SampleFormat,A.fieldTags.StripByteCounts,A.fieldTags.StripOffsets,A.fieldTags.StripRowCounts,A.fieldTags.TileByteCounts,A.fieldTags.TileOffsets,
A.fieldTags.SubIFDs];A.fieldTypeNames={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"};A.fieldTypes={};for(const w in A.fieldTypeNames)A.fieldTypeNames.hasOwnProperty(w)&&(A.fieldTypes[A.fieldTypeNames[w]]=parseInt(w,10));A.photometricInterpretations={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9};A.ExtraSamplesValues={Unspecified:0,
Assocalpha:1,Unassalpha:2};A.LercParameters={Version:0,AddCompression:1};A.LercAddCompression={None:0,Deflate:1};A.geoKeyNames={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",
2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",
3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",
4099:"VerticalUnitsGeoKey"};A.geoKeys={};for(const w in A.geoKeyNames)A.geoKeyNames.hasOwnProperty(w)&&(A.geoKeys[A.geoKeyNames[w]]=parseInt(w,10))};
shadow$provide[222]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.fromCIELab=A.fromYCbCr=A.fromCMYK=A.fromPalette=A.fromBlackIsZero=A.fromWhiteIsZero=void 0;A.fromWhiteIsZero=function(w,k){const {width:p,height:q}=w,t=new Uint8Array(p*q*3);let m;for(let f=0,b=0;f<w.length;++f,b+=3)m=256-w[f]/k*256,t[b]=m,t[b+1]=m,t[b+2]=m;return t};A.fromBlackIsZero=function(w,k){const {width:p,height:q}=w,t=new Uint8Array(p*q*3);let m;for(let f=0,b=0;f<w.length;++f,b+=3)m=w[f]/k*256,t[b]=
m,t[b+1]=m,t[b+2]=m;return t};A.fromPalette=function(w,k){const {width:p,height:q}=w,t=new Uint8Array(p*q*3),m=k.length/3,f=k.length/3*2;for(let b=0,c=0;b<w.length;++b,c+=3){const e=w[b];t[c]=k[e]/65536*256;t[c+1]=k[e+m]/65536*256;t[c+2]=k[e+f]/65536*256}return t};A.fromCMYK=function(w){const {width:k,height:p}=w,q=new Uint8Array(k*p*3);for(let t=0,m=0;t<w.length;t+=4,m+=3){const f=w[t+1],b=w[t+2],c=w[t+3];q[m]=(255-w[t])/256*255*((255-c)/256);q[m+1]=(255-f)/256*255*((255-c)/256);q[m+2]=(255-b)/256*
255*((255-c)/256)}return q};A.fromYCbCr=function(w){const {width:k,height:p}=w,q=new Uint8ClampedArray(k*p*3);for(let t=0,m=0;t<w.length;t+=3,m+=3){const f=w[t],b=w[t+1],c=w[t+2];q[m]=f+1.402*(c-128);q[m+1]=f-.34414*(b-128)-.71414*(c-128);q[m+2]=f+1.772*(b-128)}return q};A.fromCIELab=function(w){const {width:k,height:p}=w,q=new Uint8Array(k*p*3);for(let m=0,f=0;m<w.length;m+=3,f+=3){var t=(w[m+0]+16)/116;let b=(w[m+1]<<24>>24)/500+t,c=t-(w[m+2]<<24>>24)/200,e,g;b=.95047*(.008856<b*b*b?b*b*b:(b-16/
116)/7.787);t=.008856<t*t*t?t*t*t:(t-16/116)/7.787;c=1.08883*(.008856<c*c*c?c*c*c:(c-16/116)/7.787);e=3.2406*b+-1.5372*t+-.4986*c;g=-.9689*b+1.8758*t+.0415*c;t=.0557*b+-.204*t+1.057*c;e=.0031308<e?1.055*Math.pow(e,1/2.4)-.055:12.92*e;g=.0031308<g?1.055*Math.pow(g,1/2.4)-.055:12.92*g;t=.0031308<t?1.055*Math.pow(t,1/2.4)-.055:12.92*t;q[f]=255*Math.max(0,Math.min(1,e));q[f+1]=255*Math.max(0,Math.min(1,g));q[f+2]=255*Math.max(0,Math.min(1,t))}return q}};
shadow$provide[223]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.applyPredictor=void 0;A.applyPredictor=function(w,k,p,q,t,m){if(!k||1===k)return w;for(var f=0;f<t.length;++f){if(0!==t[f]%8)throw Error("When decoding with predictor, only multiple of 8 bits are supported.");if(t[f]!==t[0])throw Error("When decoding with predictor, all samples must have the same size.");}f=t[0]/8;m=2===m?1:t.length;for(let x=0;x<q&&!(x*m*p*f>=w.byteLength);++x){var b=void 0;if(2===k){switch(t[0]){case 8:b=
new Uint8Array(w,x*m*p*f,m*p*f);break;case 16:b=new Uint16Array(w,x*m*p*f,m*p*f/2);break;case 32:b=new Uint32Array(w,x*m*p*f,m*p*f/4);break;default:throw Error(`Predictor 2 not allowed with ${t[0]} bits per sample.`);}var c=m,e=b.length-c,g=0;do{for(var n=c;0<n;n--)b[g+c]+=b[g],g++;e-=c}while(0<e)}else if(3===k){b=new Uint8Array(w,x*m*p*f,m*p*f);g=m;c=f;n=0;var h=b.length;for(e=h/c;h>g;){for(let O=g;0<O;--O)b[n+g]+=b[n],++n;h-=g}g=b.slice();for(n=0;n<e;++n)for(h=0;h<c;++h)b[c*n+h]=g[(c-h-1)*e+n]}}return w}};
shadow$provide[224]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});const w=L(223);class k{decode(p,q){const t=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const m=yield t.decodeBlock(q),f=p.Predictor||1;if(1!==f){const b=!p.StripOffsets;return(0,w.applyPredictor)(m,f,b?p.TileWidth:p.ImageWidth,b?p.TileLength:p.RowsPerStrip||p.ImageLength,p.BitsPerSample,p.PlanarConfiguration)}return m})}}A.default=k};
shadow$provide[225]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));class w extends L.default{decodeBlock(k){return k}}A.default=w};
shadow$provide[226]=function(Ka,L,sb,A){function w(q,t){for(let m=t.length-1;0<=m;m--)q.push(t[m]);return q}function k(q){function t(F){{var J=h,D=n,r=J%8;const G=Math.floor(J/8),T=8-r,R=J+D-8*(G+1);const ca=8*(G+2)-J;var z=Math.max(0,8*(G+2)-(J+D));G>=F.length?(console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),F=257):(r=(F[G]&Math.pow(2,8-r)-1)<<D-T,G+1<F.length&&(z=F[G+1]>>>z,z<<=Math.max(0,D-ca),r+=z),8<R&&G+2<F.length&&(r+=F[G+2]>>>8*(G+3)-(J+D)),F=r)}h+=
n;return F}function m(F,J){c[g]=J;b[g]=F;g++;return g-1}function f(F){const J=[];for(;4096!==F;F=b[F])J.push(c[F]);return J}const b=new Uint16Array(4093),c=new Uint8Array(4093);for(var e=0;257>=e;e++)b[e]=4096,c[e]=e;let g=258,n=9,h=0;e=[];g=258;n=9;q=new Uint8Array(q);let x=t(q);for(var O;257!==x;){if(256===x){g=258;n=9;for(x=t(q);256===x;)x=t(q);if(257===x)break;else{if(256<x)throw Error(`corrupted code at scanline ${x}`);O=f(x);w(e,O);O=x}}else{if(x<g){var H=f(x);w(e,H);m(O,H[H.length-1])}else{H=
f(O);if(!H)throw Error(`Bogus entry. Not in dictionary, ${O} / ${g}, position: ${h}`);w(e,H);e.push(H[H.length-1]);m(O,H[H.length-1])}O=x}g+1>=Math.pow(2,n)&&(12===n?O=void 0:n++);x=t(q)}return new Uint8Array(e)}Ka=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{"default":q}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));class p extends L.default{decodeBlock(q){return k(q,!1).buffer}}A.default=p};
shadow$provide[227]=function(Ka,L,sb,A){function w(m,f){let b=0;const c=[];let e=16;for(;0<e&&!m[e-1];)--e;c.push({children:[],index:0});let g=c[0],n;for(let h=0;h<e;h++){for(let x=0;x<m[h];x++){g=c.pop();for(g.children[g.index]=f[b];0<g.index;)g=c.pop();g.index++;for(c.push(g);c.length<=h;)c.push(n={children:[],index:0}),g.children[g.index]=n.children,g=n;b++}h+1<e&&(c.push(n={children:[],index:0}),g.children[g.index]=n.children,g=n)}return c[0].children}function k(m,f,b,c,e,g,n,h,x){function O(){if(0<
W)return W--,ba>>W&1;ba=m[M++];if(255===ba){const Ia=m[M++];if(Ia)throw Error(`unexpected marker: ${(ba<<8|Ia).toString(16)}`);}W=7;return ba>>>7}function H(Ia){let bb;for(;null!==(bb=O());){Ia=Ia[bb];if("number"===typeof Ia)return Ia;if("object"!==typeof Ia)throw Error("invalid huffman sequence");}return null}function F(Ia){let bb=0;for(;0<Ia;){const ib=O();if(null===ib)return;bb=bb<<1|ib;--Ia}return bb}function J(Ia){const bb=F(Ia);return bb>=1<<Ia-1?bb:bb+(-1<<Ia)+1}function D(Ia,bb){var ib=H(Ia.huffmanTableDC);
ib=0===ib?0:J(ib);Ia.pred+=ib;bb[0]=Ia.pred;for(ib=1;64>ib;){var Ja=H(Ia.huffmanTableAC);const ma=Ja&15;Ja>>=4;if(0===ma){if(15>Ja)break;ib+=16}else ib+=Ja,bb[p[ib]]=J(ma),ib++}}function r(Ia,bb){var ib=H(Ia.huffmanTableDC);ib=0===ib?0:J(ib)<<x;Ia.pred+=ib;bb[0]=Ia.pred}function z(Ia,bb){bb[0]|=O()<<x}function G(Ia,bb){if(0<ea)ea--;else for(var ib=g;ib<=n;){var Ja=H(Ia.huffmanTableAC);const ma=Ja&15;Ja>>=4;if(0===ma){if(15>Ja){ea=F(Ja)+(1<<Ja)-1;break}ib+=16}else ib+=Ja,bb[p[ib]]=J(ma)*(1<<x),ib++}}
function T(Ia,bb){let ib=g;for(var Ja=0;ib<=n;){var ma=p[ib];const Fa=0>bb[ma]?-1:1;switch(La){case 0:Ja=H(Ia.huffmanTableAC);ma=Ja&15;Ja>>=4;if(0===ma)15>Ja?(ea=F(Ja)+(1<<Ja),La=4):(Ja=16,La=1);else{if(1!==ma)throw Error("invalid ACn encoding");aa=J(ma);La=Ja?2:3}continue;case 1:case 2:bb[ma]?bb[ma]+=(O()<<x)*Fa:(Ja--,0===Ja&&(La=2===La?3:0));break;case 3:bb[ma]?bb[ma]+=(O()<<x)*Fa:(bb[ma]=aa<<x,La=0);break;case 4:bb[ma]&&(bb[ma]+=(O()<<x)*Fa)}ib++}4===La&&(ea--,0===ea&&(La=0))}const {mcusPerLine:R,
progressive:ca}=b;let M=f,ba=0,W=0,ea=0,La=0,aa;const C=c.length;let B,N,Y,Aa;h=ca?0===g?0===h?r:z:0===h?G:T:D;let sa=0;b=1===C?c[0].blocksPerLine*c[0].blocksPerColumn:R*b.mcusPerColumn;for(e=e||b;sa<b;){for(B=0;B<C;B++)c[B].pred=0;ea=0;if(1===C){var la=c[0];for(Aa=0;Aa<e;Aa++)h(la,la.blocks[sa/la.blocksPerLine|0][sa%la.blocksPerLine]),sa++}else for(Aa=0;Aa<e;Aa++){for(B=0;B<C;B++){la=c[B];const {h:Ia,v:bb}=la;for(N=0;N<bb;N++)for(Y=0;Y<Ia;Y++)h(la,la.blocks[(sa/R|0)*la.v+N][sa%R*la.h+Y])}sa++;if(sa===
b)break}W=0;la=m[M]<<8|m[M+1];if(65280>la)throw Error("marker was not found");if(65488<=la&&65495>=la)M+=2;else break}return M-f}Ka=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{"default":m}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));const p=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);class q{constructor(){this.adobe=
this.jfif=null;this.quantizationTables=[];this.huffmanTablesAC=[];this.huffmanTablesDC=[];this.resetFrames()}resetFrames(){this.frames=[]}parse(m){function f(){const J=m[e]<<8|m[e+1];e+=2;return J}function b(){var J=f();J=m.subarray(e,e+J-2);e+=J.length;return J}function c(J){let D=0,r=0,z,G;for(G in J.components)J.components.hasOwnProperty(G)&&(z=J.components[G],D<z.h&&(D=z.h),r<z.v&&(r=z.v));const T=Math.ceil(J.samplesPerLine/8/D),R=Math.ceil(J.scanLines/8/r);for(G in J.components)if(J.components.hasOwnProperty(G)){z=
J.components[G];const ca=Math.ceil(Math.ceil(J.samplesPerLine/8)*z.h/D),M=Math.ceil(Math.ceil(J.scanLines/8)*z.v/r),ba=T*z.h,W=R*z.v,ea=[];for(let La=0;La<W;La++){const aa=[];for(let C=0;C<ba;C++)aa.push(new Int32Array(64));ea.push(aa)}z.blocksPerLine=ca;z.blocksPerColumn=M;z.blocks=ea}J.maxH=D;J.maxV=r;J.mcusPerLine=T;J.mcusPerColumn=R}let e=0;var g=f();if(65496!==g)throw Error("SOI not found");for(g=f();65497!==g;){switch(g){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var n=
b();65504===g&&74===n[0]&&70===n[1]&&73===n[2]&&70===n[3]&&0===n[4]&&(this.jfif={version:{major:n[5],minor:n[6]},densityUnits:n[7],xDensity:n[8]<<8|n[9],yDensity:n[10]<<8|n[11],thumbWidth:n[12],thumbHeight:n[13],thumbData:n.subarray(14,14+3*n[12]*n[13])});65518===g&&65===n[0]&&100===n[1]&&111===n[2]&&98===n[3]&&101===n[4]&&0===n[5]&&(this.adobe={version:n[6],flags0:n[7]<<8|n[8],flags1:n[9]<<8|n[10],transformCode:n[11]});break;case 65499:for(g=f()+e-2;e<g;){n=m[e++];var h=new Int32Array(64);if(0===
n>>4)for(var x=0;64>x;x++)h[p[x]]=m[e++];else if(1===n>>4)for(x=0;64>x;x++)h[p[x]]=f();else throw Error("DQT: invalid table spec");this.quantizationTables[n&15]=h}break;case 65472:case 65473:case 65474:f();g={extended:65473===g,progressive:65474===g,precision:m[e++],scanLines:f(),samplesPerLine:f(),components:{},componentsOrder:[]};n=m[e++];for(x=0;x<n;x++){h=m[e];var O=m[e+1]>>4,H=m[e+1]&15,F=m[e+2];g.componentsOrder.push(h);g.components[h]={h:O,v:H,quantizationIdx:F};e+=3}c(g);this.frames.push(g);
break;case 65476:g=f();for(n=2;n<g;){h=m[e++];x=new Uint8Array(16);O=0;for(H=0;16>H;H++,e++)x[H]=m[e],O+=x[H];H=new Uint8Array(O);for(F=0;F<O;F++,e++)H[F]=m[e];n+=17+O;0===h>>4?this.huffmanTablesDC[h&15]=w(x,H):this.huffmanTablesAC[h&15]=w(x,H)}break;case 65501:f();this.resetInterval=f();break;case 65498:f();h=m[e++];g=[];n=this.frames[0];for(x=0;x<h;x++)O=n.components[m[e++]],H=m[e++],O.huffmanTableDC=this.huffmanTablesDC[H>>4],O.huffmanTableAC=this.huffmanTablesAC[H&15],g.push(O);h=m[e++];x=m[e++];
O=m[e++];g=k(m,e,n,g,this.resetInterval,h,x,O>>4,O&15);e+=g;break;case 65535:255!==m[e]&&e--;break;default:if(255===m[e-3]&&192<=m[e-2]&&254>=m[e-2])e-=3;else throw Error(`unknown JPEG marker ${g.toString(16)}`);}g=f()}}getResult(){var {frames:m}=this;if(0===this.frames.length)throw Error("no frames were decoded");1<this.frames.length&&console.warn("more than one frame is not supported");for(var f=0;f<this.frames.length;f++){var b=this.frames[f].components;for(var c of Object.keys(b))b[c].quantizationTable=
this.quantizationTables[b[c].quantizationIdx],delete b[c].quantizationIdx}c=m[0];const {components:e,componentsOrder:g}=c;m=[];f=c.samplesPerLine;b=c.scanLines;for(var n=0;n<g.length;n++){var h=e[g[n]],x=m,O=x.push,H=h;const ca=[],{blocksPerLine:M,blocksPerColumn:ba}=H,W=M<<3,ea=new Int32Array(64),La=new Uint8Array(64);for(let aa=0;aa<ba;aa++){const C=aa<<3;for(var F=0;8>F;F++)ca.push(new Uint8Array(W));for(F=0;F<M;F++){var J=void 0,D=void 0,r=void 0;let B,N,Y,Aa,sa,la,Ia;D=H.blocks[aa][F];var z=
La,G=ea;r=H.quantizationTable;var T=G;for(J=0;64>J;J++)T[J]=D[J]*r[J];for(J=0;8>J;++J){var R=8*J;0===T[1+R]&&0===T[2+R]&&0===T[3+R]&&0===T[4+R]&&0===T[5+R]&&0===T[6+R]&&0===T[7+R]?(D=5793*T[0+R]+512>>10,T[0+R]=D,T[1+R]=D,T[2+R]=D,T[3+R]=D,T[4+R]=D,T[5+R]=D,T[6+R]=D,T[7+R]=D):(Ia=5793*T[0+R]+128>>8,la=5793*T[4+R]+128>>8,sa=T[2+R],Aa=T[6+R],Y=2896*(T[1+R]-T[7+R])+128>>8,r=2896*(T[1+R]+T[7+R])+128>>8,N=T[3+R]<<4,B=T[5+R]<<4,D=Ia-la+1>>1,Ia=Ia+la+1>>1,la=D,D=3784*sa+1567*Aa+128>>8,sa=1567*sa-3784*Aa+
128>>8,Aa=D,D=Y-B+1>>1,Y=Y+B+1>>1,B=D,D=r+N+1>>1,N=r-N+1>>1,r=D,D=Ia-Aa+1>>1,Ia=Ia+Aa+1>>1,Aa=D,D=la-sa+1>>1,la=la+sa+1>>1,sa=D,D=2276*Y+3406*r+2048>>12,Y=3406*Y-2276*r+2048>>12,r=D,D=799*N+4017*B+2048>>12,N=4017*N-799*B+2048>>12,B=D,T[0+R]=Ia+r,T[7+R]=Ia-r,T[1+R]=la+B,T[6+R]=la-B,T[2+R]=sa+N,T[5+R]=sa-N,T[3+R]=Aa+Y,T[4+R]=Aa-Y)}for(J=0;8>J;++J)R=J,0===T[8+R]&&0===T[16+R]&&0===T[24+R]&&0===T[32+R]&&0===T[40+R]&&0===T[48+R]&&0===T[56+R]?(D=5793*G[J+0]+8192>>14,T[0+R]=D,T[8+R]=D,T[16+R]=D,T[24+R]=D,
T[32+R]=D,T[40+R]=D,T[48+R]=D,T[56+R]=D):(Ia=5793*T[0+R]+2048>>12,la=5793*T[32+R]+2048>>12,sa=T[16+R],Aa=T[48+R],Y=2896*(T[8+R]-T[56+R])+2048>>12,r=2896*(T[8+R]+T[56+R])+2048>>12,N=T[24+R],B=T[40+R],D=Ia-la+1>>1,Ia=Ia+la+1>>1,la=D,D=3784*sa+1567*Aa+2048>>12,sa=1567*sa-3784*Aa+2048>>12,Aa=D,D=Y-B+1>>1,Y=Y+B+1>>1,B=D,D=r+N+1>>1,N=r-N+1>>1,r=D,D=Ia-Aa+1>>1,Ia=Ia+Aa+1>>1,Aa=D,D=la-sa+1>>1,la=la+sa+1>>1,sa=D,D=2276*Y+3406*r+2048>>12,Y=3406*Y-2276*r+2048>>12,r=D,D=799*N+4017*B+2048>>12,N=4017*N-799*B+2048>>
12,B=D,T[0+R]=Ia+r,T[56+R]=Ia-r,T[8+R]=la+B,T[48+R]=la-B,T[16+R]=sa+N,T[40+R]=sa-N,T[24+R]=Aa+Y,T[32+R]=Aa-Y);for(J=0;64>J;++J)G=128+(T[J]+8>>4),z[J]=0>G?0:255<G?255:G;z=0;J=F<<3;for(T=0;8>T;T++)for(G=ca[C+T],D=0;8>D;D++)G[J+D]=La[z++]}}O.call(x,{lines:ca,scaleX:h.h/c.maxH,scaleY:h.v/c.maxV})}c=new Uint8Array(f*b*m.length);x=0;for(O=0;O<b;++O)for(H=0;H<f;++H)for(n=0;n<m.length;++n)h=m[n],c[x]=h.lines[0|O*h.scaleY][0|H*h.scaleX],++x;return c}}class t extends L.default{constructor(m){super();this.reader=
new q;m.JPEGTables&&this.reader.parse(m.JPEGTables)}decodeBlock(m){this.reader.resetFrames();this.reader.parse(new Uint8Array(m));return this.reader.getResult().buffer}}A.default=t};
shadow$provide[228]=function(Ka,L,sb,A){function w(ha){let ob=ha.length;for(;0<=--ob;)ha[ob]=0}function k(ha,ob,Ea,Ib,Yb){this.static_tree=ha;this.extra_bits=ob;this.extra_base=Ea;this.elems=Ib;this.max_length=Yb;this.has_stree=ha&&ha.length}function p(ha,ob){this.dyn_tree=ha;this.max_code=0;this.stat_desc=ob}function q(ha,ob,Ea,Ib,Yb){this.good_length=ha;this.max_lazy=ob;this.nice_length=Ea;this.max_chain=Ib;this.func=Yb}function t(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=
this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=id;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=
this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);Ab(this.dyn_ltree);Ab(this.dyn_dtree);Ab(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);Ab(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);Ab(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=
0}function m(ha){ha=this.options=Ub.assign({level:qe,method:qf,chunkSize:16384,windowBits:15,memLevel:8,strategy:wd},ha||{});ha.raw&&0<ha.windowBits?ha.windowBits=-ha.windowBits:ha.gzip&&0<ha.windowBits&&16>ha.windowBits&&(ha.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Yc;this.strm.avail_out=0;let ob=yb.deflateInit2(this.strm,ha.level,ha.method,ha.windowBits,ha.memLevel,ha.strategy);if(ob!==ge)throw Error(Fa[ob]);ha.header&&yb.deflateSetHeader(this.strm,ha.header);
if(ha.dictionary){ha="string"===typeof ha.dictionary?Ic.string2buf(ha.dictionary):"[object ArrayBuffer]"===dd.call(ha.dictionary)?new Uint8Array(ha.dictionary):ha.dictionary;ob=yb.deflateSetDictionary(this.strm,ha);if(ob!==ge)throw Error(Fa[ob]);this._dict_set=!0}}function f(ha,ob){ob=new m(ob);ob.push(ha,!0);if(ob.err)throw ob.msg||Fa[ob.err];return ob.result}function b(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=
this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function c(ha){const ob=this.options=Ub.assign({chunkSize:65536,windowBits:15,to:""},ha||{});ob.raw&&0<=ob.windowBits&&16>ob.windowBits&&(ob.windowBits=
-ob.windowBits,0===ob.windowBits&&(ob.windowBits=-15));!(0<=ob.windowBits&&16>ob.windowBits)||ha&&ha.windowBits||(ob.windowBits+=32);15<ob.windowBits&&48>ob.windowBits&&0===(ob.windowBits&15)&&(ob.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Yc;this.strm.avail_out=0;ha=rc.inflateInit2(this.strm,ob.windowBits);if(ha!==zb)throw Error(Fa[ha]);this.header=new bd;rc.inflateGetHeader(this.strm,this.header);if(ob.dictionary&&("string"===typeof ob.dictionary?ob.dictionary=
Ic.string2buf(ob.dictionary):"[object ArrayBuffer]"===Ad.call(ob.dictionary)&&(ob.dictionary=new Uint8Array(ob.dictionary)),ob.raw&&(ha=rc.inflateSetDictionary(this.strm,ob.dictionary),ha!==zb)))throw Error(Fa[ha]);}function e(ha,ob){ob=new c(ob);ob.push(ha);if(ob.err)throw ob.msg||Fa[ob.err];return ob.result}Object.defineProperty(A,"__esModule",{value:!0});A.ungzip=A.inflateRaw=A.inflate=A.gzip=A.deflateRaw=A.deflate=A.default=A.constants=A.Inflate=A.Deflate=void 0;const g=new Uint8Array([0,0,0,
0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),n=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O=Array(576);w(O);const H=Array(60);w(H);const F=Array(512);w(F);const J=Array(256);w(J);const D=Array(29);w(D);const r=Array(30);w(r);let z,G,T;const R=(ha,ob)=>{ha.pending_buf[ha.pending++]=ob&255;ha.pending_buf[ha.pending++]=ob>>>8&
255},ca=(ha,ob,Ea)=>{ha.bi_valid>16-Ea?(ha.bi_buf|=ob<<ha.bi_valid&65535,R(ha,ha.bi_buf),ha.bi_buf=ob>>16-ha.bi_valid,ha.bi_valid+=Ea-16):(ha.bi_buf|=ob<<ha.bi_valid&65535,ha.bi_valid+=Ea)},M=(ha,ob,Ea)=>{ca(ha,Ea[2*ob],Ea[2*ob+1])},ba=(ha,ob)=>{let Ea=0;do Ea|=ha&1,ha>>>=1,Ea<<=1;while(0<--ob);return Ea>>>1},W=(ha,ob,Ea)=>{const Ib=Array(16);var Yb=0;let kc;for(kc=1;15>=kc;kc++)Ib[kc]=Yb=Yb+Ea[kc-1]<<1;for(Ea=0;Ea<=ob;Ea++)Yb=ha[2*Ea+1],0!==Yb&&(ha[2*Ea]=ba(Ib[Yb]++,Yb))},ea=ha=>{let ob;for(ob=0;286>
ob;ob++)ha.dyn_ltree[2*ob]=0;for(ob=0;30>ob;ob++)ha.dyn_dtree[2*ob]=0;for(ob=0;19>ob;ob++)ha.bl_tree[2*ob]=0;ha.dyn_ltree[512]=1;ha.opt_len=ha.static_len=0;ha.last_lit=ha.matches=0},La=ha=>{8<ha.bi_valid?R(ha,ha.bi_buf):0<ha.bi_valid&&(ha.pending_buf[ha.pending++]=ha.bi_buf);ha.bi_buf=0;ha.bi_valid=0},aa=(ha,ob,Ea,Ib)=>{const Yb=2*ob,kc=2*Ea;return ha[Yb]<ha[kc]||ha[Yb]===ha[kc]&&Ib[ob]<=Ib[Ea]},C=(ha,ob,Ea)=>{const Ib=ha.heap[Ea];let Yb=Ea<<1;for(;Yb<=ha.heap_len;){Yb<ha.heap_len&&aa(ob,ha.heap[Yb+
1],ha.heap[Yb],ha.depth)&&Yb++;if(aa(ob,Ib,ha.heap[Yb],ha.depth))break;ha.heap[Ea]=ha.heap[Yb];Ea=Yb;Yb<<=1}ha.heap[Ea]=Ib},B=(ha,ob,Ea)=>{let Ib,Yb,kc=0,Nc,Jc;if(0!==ha.last_lit){do Ib=ha.pending_buf[ha.d_buf+2*kc]<<8|ha.pending_buf[ha.d_buf+2*kc+1],Yb=ha.pending_buf[ha.l_buf+kc],kc++,0===Ib?M(ha,Yb,ob):(Nc=J[Yb],M(ha,Nc+256+1,ob),Jc=g[Nc],0!==Jc&&(Yb-=D[Nc],ca(ha,Yb,Jc)),Ib--,Nc=256>Ib?F[Ib]:F[256+(Ib>>>7)],M(ha,Nc,Ea),Jc=n[Nc],0!==Jc&&(Ib-=r[Nc],ca(ha,Ib,Jc)));while(kc<ha.last_lit)}M(ha,256,ob)},
N=(ha,ob)=>{const Ea=ob.dyn_tree;var Ib=ob.stat_desc.static_tree,Yb=ob.stat_desc.has_stree,kc=ob.stat_desc.elems,Nc;let Jc=-1;ha.heap_len=0;ha.heap_max=573;for(Nc=0;Nc<kc;Nc++)0!==Ea[2*Nc]?(ha.heap[++ha.heap_len]=Jc=Nc,ha.depth[Nc]=0):Ea[2*Nc+1]=0;for(;2>ha.heap_len;){var pd=ha.heap[++ha.heap_len]=2>Jc?++Jc:0;Ea[2*pd]=1;ha.depth[pd]=0;ha.opt_len--;Yb&&(ha.static_len-=Ib[2*pd+1])}ob.max_code=Jc;for(Nc=ha.heap_len>>1;1<=Nc;Nc--)C(ha,Ea,Nc);pd=kc;do Nc=ha.heap[1],ha.heap[1]=ha.heap[ha.heap_len--],C(ha,
Ea,1),Ib=ha.heap[1],ha.heap[--ha.heap_max]=Nc,ha.heap[--ha.heap_max]=Ib,Ea[2*pd]=Ea[2*Nc]+Ea[2*Ib],ha.depth[pd]=(ha.depth[Nc]>=ha.depth[Ib]?ha.depth[Nc]:ha.depth[Ib])+1,Ea[2*Nc+1]=Ea[2*Ib+1]=pd,ha.heap[1]=pd++,C(ha,Ea,1);while(2<=ha.heap_len);ha.heap[--ha.heap_max]=ha.heap[1];{Nc=ob.dyn_tree;pd=ob.max_code;Ib=ob.stat_desc.static_tree;Yb=ob.stat_desc.has_stree;kc=ob.stat_desc.extra_bits;const qd=ob.stat_desc.extra_base,Yd=ob.stat_desc.max_length;let Od,Jd,ed,td,wc=0;for(Jd=0;15>=Jd;Jd++)ha.bl_count[Jd]=
0;Nc[2*ha.heap[ha.heap_max]+1]=0;for(ob=ha.heap_max+1;573>ob;ob++)Od=ha.heap[ob],Jd=Nc[2*Nc[2*Od+1]+1]+1,Jd>Yd&&(Jd=Yd,wc++),Nc[2*Od+1]=Jd,Od>pd||(ha.bl_count[Jd]++,ed=0,Od>=qd&&(ed=kc[Od-qd]),td=Nc[2*Od],ha.opt_len+=td*(Jd+ed),Yb&&(ha.static_len+=td*(Ib[2*Od+1]+ed)));if(0!==wc){do{for(Jd=Yd-1;0===ha.bl_count[Jd];)Jd--;ha.bl_count[Jd]--;ha.bl_count[Jd+1]+=2;ha.bl_count[Yd]--;wc-=2}while(0<wc);for(Jd=Yd;0!==Jd;Jd--)for(Od=ha.bl_count[Jd];0!==Od;)Ib=ha.heap[--ob],Ib>pd||(Nc[2*Ib+1]!==Jd&&(ha.opt_len+=
(Jd-Nc[2*Ib+1])*Nc[2*Ib],Nc[2*Ib+1]=Jd),Od--)}}W(Ea,Jc,ha.bl_count)},Y=(ha,ob,Ea)=>{let Ib,Yb=-1,kc,Nc=ob[1],Jc=0,pd=7,qd=4;0===Nc&&(pd=138,qd=3);ob[2*(Ea+1)+1]=65535;for(Ib=0;Ib<=Ea;Ib++)kc=Nc,Nc=ob[2*(Ib+1)+1],++Jc<pd&&kc===Nc||(Jc<qd?ha.bl_tree[2*kc]+=Jc:0!==kc?(kc!==Yb&&ha.bl_tree[2*kc]++,ha.bl_tree[32]++):10>=Jc?ha.bl_tree[34]++:ha.bl_tree[36]++,Jc=0,Yb=kc,0===Nc?(pd=138,qd=3):kc===Nc?(pd=6,qd=3):(pd=7,qd=4))},Aa=(ha,ob,Ea)=>{let Ib,Yb=-1,kc,Nc=ob[1],Jc=0,pd=7,qd=4;0===Nc&&(pd=138,qd=3);for(Ib=
0;Ib<=Ea;Ib++)if(kc=Nc,Nc=ob[2*(Ib+1)+1],!(++Jc<pd&&kc===Nc)){if(Jc<qd){do M(ha,kc,ha.bl_tree);while(0!==--Jc)}else 0!==kc?(kc!==Yb&&(M(ha,kc,ha.bl_tree),Jc--),M(ha,16,ha.bl_tree),ca(ha,Jc-3,2)):10>=Jc?(M(ha,17,ha.bl_tree),ca(ha,Jc-3,3)):(M(ha,18,ha.bl_tree),ca(ha,Jc-11,7));Jc=0;Yb=kc;0===Nc?(pd=138,qd=3):kc===Nc?(pd=6,qd=3):(pd=7,qd=4)}},sa=ha=>{let ob=4093624447,Ea;for(Ea=0;31>=Ea;Ea++,ob>>>=1)if(ob&1&&0!==ha.dyn_ltree[2*Ea])return 0;if(0!==ha.dyn_ltree[18]||0!==ha.dyn_ltree[20]||0!==ha.dyn_ltree[26])return 1;
for(Ea=32;256>Ea;Ea++)if(0!==ha.dyn_ltree[2*Ea])return 1;return 0};let la=!1;const Ia=(ha,ob,Ea,Ib)=>{ca(ha,Ib?1:0,3);La(ha);R(ha,Ea);R(ha,~Ea);ha.pending_buf.set(ha.window.subarray(ob,ob+Ea),ha.pending);ha.pending+=Ea};var bb={_tr_init:ha=>{if(!la){var ob,Ea;let Ib;const Yb=Array(16);for(Ib=Ea=0;28>Ib;Ib++)for(D[Ib]=Ea,ob=0;ob<1<<g[Ib];ob++)J[Ea++]=Ib;J[Ea-1]=Ib;for(Ib=Ea=0;16>Ib;Ib++)for(r[Ib]=Ea,ob=0;ob<1<<n[Ib];ob++)F[Ea++]=Ib;for(Ea>>=7;30>Ib;Ib++)for(r[Ib]=Ea<<7,ob=0;ob<1<<n[Ib]-7;ob++)F[256+
Ea++]=Ib;for(ob=0;15>=ob;ob++)Yb[ob]=0;for(ob=0;143>=ob;)O[2*ob+1]=8,ob++,Yb[8]++;for(;255>=ob;)O[2*ob+1]=9,ob++,Yb[9]++;for(;279>=ob;)O[2*ob+1]=7,ob++,Yb[7]++;for(;287>=ob;)O[2*ob+1]=8,ob++,Yb[8]++;W(O,287,Yb);for(ob=0;30>ob;ob++)H[2*ob+1]=5,H[2*ob]=ba(ob,5);z=new k(O,g,257,286,15);G=new k(H,n,0,30,15);T=new k([],h,0,19,7);la=!0}ha.l_desc=new p(ha.dyn_ltree,z);ha.d_desc=new p(ha.dyn_dtree,G);ha.bl_desc=new p(ha.bl_tree,T);ha.bi_buf=0;ha.bi_valid=0;ea(ha)},_tr_stored_block:Ia,_tr_flush_block:(ha,
ob,Ea,Ib)=>{let Yb;var kc=0;if(0<ha.level){2===ha.strm.data_type&&(ha.strm.data_type=sa(ha));N(ha,ha.l_desc);N(ha,ha.d_desc);Y(ha,ha.dyn_ltree,ha.l_desc.max_code);Y(ha,ha.dyn_dtree,ha.d_desc.max_code);N(ha,ha.bl_desc);for(kc=18;3<=kc&&0===ha.bl_tree[2*x[kc]+1];kc--);ha.opt_len+=3*(kc+1)+14;var Nc=ha.opt_len+3+7>>>3;Yb=ha.static_len+3+7>>>3;Yb<=Nc&&(Nc=Yb)}else Nc=Yb=Ea+5;if(Ea+4<=Nc&&-1!==ob)Ia(ha,ob,Ea,Ib);else if(4===ha.strategy||Yb===Nc)ca(ha,2+(Ib?1:0),3),B(ha,O,H);else{ca(ha,4+(Ib?1:0),3);ob=
ha.l_desc.max_code+1;Ea=ha.d_desc.max_code+1;kc+=1;ca(ha,ob-257,5);ca(ha,Ea-1,5);ca(ha,kc-4,4);for(Nc=0;Nc<kc;Nc++)ca(ha,ha.bl_tree[2*x[Nc]+1],3);Aa(ha,ha.dyn_ltree,ob-1);Aa(ha,ha.dyn_dtree,Ea-1);B(ha,ha.dyn_ltree,ha.dyn_dtree)}ea(ha);Ib&&La(ha)},_tr_tally:(ha,ob,Ea)=>{ha.pending_buf[ha.d_buf+2*ha.last_lit]=ob>>>8&255;ha.pending_buf[ha.d_buf+2*ha.last_lit+1]=ob&255;ha.pending_buf[ha.l_buf+ha.last_lit]=Ea&255;ha.last_lit++;0===ob?ha.dyn_ltree[2*Ea]++:(ha.matches++,ob--,ha.dyn_ltree[2*(J[Ea]+256+1)]++,
ha.dyn_dtree[2*(256>ob?F[ob]:F[256+(ob>>>7)])]++);return ha.last_lit===ha.lit_bufsize-1},_tr_align:ha=>{ca(ha,2,3);M(ha,256,O);16===ha.bi_valid?(R(ha,ha.bi_buf),ha.bi_buf=0,ha.bi_valid=0):8<=ha.bi_valid&&(ha.pending_buf[ha.pending++]=ha.bi_buf&255,ha.bi_buf>>=8,ha.bi_valid-=8)}},ib=(ha,ob,Ea,Ib)=>{let Yb=ha&65535|0;ha=ha>>>16&65535|0;let kc;for(;0!==Ea;){kc=2E3<Ea?2E3:Ea;Ea-=kc;do Yb=Yb+ob[Ib++]|0,ha=ha+Yb|0;while(--kc);Yb%=65521;ha%=65521}return Yb|ha<<16|0};const Ja=new Uint32Array((()=>{let ha,
ob=[];for(var Ea=0;256>Ea;Ea++){ha=Ea;for(var Ib=0;8>Ib;Ib++)ha=ha&1?3988292384^ha>>>1:ha>>>1;ob[Ea]=ha}return ob})());var ma=(ha,ob,Ea,Ib)=>{Ea=Ib+Ea;for(ha^=-1;Ib<Ea;Ib++)ha=ha>>>8^Ja[(ha^ob[Ib])&255];return ha^-1},Fa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Pa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,
Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const {_tr_init:qa,_tr_stored_block:ya,_tr_flush_block:oa,_tr_tally:va,_tr_align:Ua}=bb,{Z_NO_FLUSH:eb,Z_PARTIAL_FLUSH:ra,Z_FULL_FLUSH:Oa,Z_FINISH:ja,Z_BLOCK:U,Z_OK:ka,Z_STREAM_END:wa,Z_STREAM_ERROR:Ta,Z_DATA_ERROR:db,
Z_BUF_ERROR:lb,Z_DEFAULT_COMPRESSION:nb,Z_FILTERED:Mb,Z_HUFFMAN_ONLY:$b,Z_RLE:Gc,Z_FIXED:zc,Z_DEFAULT_STRATEGY:Bc,Z_UNKNOWN:uc,Z_DEFLATED:id}=Pa,Hb=(ha,ob)=>{ha.msg=Fa[ob];return ob},Ab=ha=>{let ob=ha.length;for(;0<=--ob;)ha[ob]=0},dc=ha=>{const ob=ha.state;let Ea=ob.pending;Ea>ha.avail_out&&(Ea=ha.avail_out);0!==Ea&&(ha.output.set(ob.pending_buf.subarray(ob.pending_out,ob.pending_out+Ea),ha.next_out),ha.next_out+=Ea,ob.pending_out+=Ea,ha.total_out+=Ea,ha.avail_out-=Ea,ob.pending-=Ea,0===ob.pending&&
(ob.pending_out=0))},Wb=(ha,ob)=>{oa(ha,0<=ha.block_start?ha.block_start:-1,ha.strstart-ha.block_start,ob);ha.block_start=ha.strstart;dc(ha.strm)},mc=(ha,ob)=>{ha.pending_buf[ha.pending++]=ob>>>8&255;ha.pending_buf[ha.pending++]=ob&255},Kc=(ha,ob)=>{let Ea=ha.max_chain_length,Ib=ha.strstart;let Yb=ha.prev_length,kc=ha.nice_match;const Nc=ha.strstart>ha.w_size-262?ha.strstart-(ha.w_size-262):0,Jc=ha.window,pd=ha.w_mask,qd=ha.prev,Yd=ha.strstart+258;let Od=Jc[Ib+Yb-1],Jd=Jc[Ib+Yb];ha.prev_length>=ha.good_match&&
(Ea>>=2);kc>ha.lookahead&&(kc=ha.lookahead);do{var ed=ob;if(Jc[ed+Yb]===Jd&&Jc[ed+Yb-1]===Od&&Jc[ed]===Jc[Ib]&&Jc[++ed]===Jc[Ib+1]){Ib+=2;for(ed++;Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Ib<Yd;);ed=258-(Yd-Ib);Ib=Yd-258;if(ed>Yb){ha.match_start=ob;Yb=ed;if(ed>=kc)break;Od=Jc[Ib+Yb-1];Jd=Jc[Ib+Yb]}}}while((ob=qd[ob&pd])>Nc&&0!==--Ea);return Yb<=ha.lookahead?Yb:ha.lookahead},
Fc=ha=>{const ob=ha.w_size;var Ea;do{var Ib=ha.window_size-ha.lookahead-ha.strstart;if(ha.strstart>=ob+(ob-262)){ha.window.set(ha.window.subarray(ob,ob+ob),0);ha.match_start-=ob;ha.strstart-=ob;ha.block_start-=ob;var Yb=Ea=ha.hash_size;do{var kc=ha.head[--Yb];ha.head[Yb]=kc>=ob?kc-ob:0}while(--Ea);Yb=Ea=ob;do kc=ha.prev[--Yb],ha.prev[Yb]=kc>=ob?kc-ob:0;while(--Ea);Ib+=ob}if(0===ha.strm.avail_in)break;{Yb=ha.strm;Ea=ha.window;kc=ha.strstart+ha.lookahead;let Nc=Yb.avail_in;Nc>Ib&&(Nc=Ib);0===Nc?Ea=
0:(Yb.avail_in-=Nc,Ea.set(Yb.input.subarray(Yb.next_in,Yb.next_in+Nc),kc),1===Yb.state.wrap?Yb.adler=ib(Yb.adler,Ea,Nc,kc):2===Yb.state.wrap&&(Yb.adler=ma(Yb.adler,Ea,Nc,kc)),Yb.next_in+=Nc,Yb.total_in+=Nc,Ea=Nc)}ha.lookahead+=Ea;if(3<=ha.lookahead+ha.insert)for(Ib=ha.strstart-ha.insert,ha.ins_h=ha.window[Ib],ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[Ib+1])&ha.hash_mask;ha.insert&&!(ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[Ib+3-1])&ha.hash_mask,ha.prev[Ib&ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=
Ib,Ib++,ha.insert--,3>ha.lookahead+ha.insert););}while(262>ha.lookahead&&0!==ha.strm.avail_in)},Sc=(ha,ob)=>{for(var Ea;;){if(262>ha.lookahead){Fc(ha);if(262>ha.lookahead&&ob===eb)return 1;if(0===ha.lookahead)break}Ea=0;3<=ha.lookahead&&(ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+3-1])&ha.hash_mask,Ea=ha.prev[ha.strstart&ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=ha.strstart);0!==Ea&&ha.strstart-Ea<=ha.w_size-262&&(ha.match_length=Kc(ha,Ea));if(3<=ha.match_length)if(Ea=va(ha,ha.strstart-
ha.match_start,ha.match_length-3),ha.lookahead-=ha.match_length,ha.match_length<=ha.max_lazy_match&&3<=ha.lookahead){ha.match_length--;do ha.strstart++,ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+3-1])&ha.hash_mask,ha.prev[ha.strstart&ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=ha.strstart;while(0!==--ha.match_length);ha.strstart++}else ha.strstart+=ha.match_length,ha.match_length=0,ha.ins_h=ha.window[ha.strstart],ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+1])&ha.hash_mask;
else Ea=va(ha,0,ha.window[ha.strstart]),ha.lookahead--,ha.strstart++;if(Ea&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}ha.insert=2>ha.strstart?ha.strstart:2;return ob===ja?(Wb(ha,!0),0===ha.strm.avail_out?3:4):ha.last_lit&&(Wb(ha,!1),0===ha.strm.avail_out)?1:2},jd=(ha,ob)=>{let Ea;for(;;){if(262>ha.lookahead){Fc(ha);if(262>ha.lookahead&&ob===eb)return 1;if(0===ha.lookahead)break}var Ib=0;3<=ha.lookahead&&(ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+3-1])&ha.hash_mask,Ib=ha.prev[ha.strstart&
ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=ha.strstart);ha.prev_length=ha.match_length;ha.prev_match=ha.match_start;ha.match_length=2;0!==Ib&&ha.prev_length<ha.max_lazy_match&&ha.strstart-Ib<=ha.w_size-262&&(ha.match_length=Kc(ha,Ib),5>=ha.match_length&&(ha.strategy===Mb||3===ha.match_length&&4096<ha.strstart-ha.match_start)&&(ha.match_length=2));if(3<=ha.prev_length&&ha.match_length<=ha.prev_length){Ea=ha.strstart+ha.lookahead-3;Ib=va(ha,ha.strstart-1-ha.prev_match,ha.prev_length-3);ha.lookahead-=
ha.prev_length-1;ha.prev_length-=2;do++ha.strstart<=Ea&&(ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+3-1])&ha.hash_mask,ha.prev[ha.strstart&ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=ha.strstart);while(0!==--ha.prev_length);ha.match_available=0;ha.match_length=2;ha.strstart++;if(Ib&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}else if(ha.match_available){if((Ib=va(ha,0,ha.window[ha.strstart-1]))&&Wb(ha,!1),ha.strstart++,ha.lookahead--,0===ha.strm.avail_out)return 1}else ha.match_available=
1,ha.strstart++,ha.lookahead--}ha.match_available&&(va(ha,0,ha.window[ha.strstart-1]),ha.match_available=0);ha.insert=2>ha.strstart?ha.strstart:2;return ob===ja?(Wb(ha,!0),0===ha.strm.avail_out?3:4):ha.last_lit&&(Wb(ha,!1),0===ha.strm.avail_out)?1:2},$d=(ha,ob)=>{let Ea,Ib;const Yb=ha.window;for(;;){if(258>=ha.lookahead){Fc(ha);if(258>=ha.lookahead&&ob===eb)return 1;if(0===ha.lookahead)break}ha.match_length=0;if(3<=ha.lookahead&&0<ha.strstart){Ea=ha.strstart-1;var kc=Yb[Ea];if(kc===Yb[++Ea]&&kc===
Yb[++Ea]&&kc===Yb[++Ea]){for(Ib=ha.strstart+258;kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&Ea<Ib;);ha.match_length=258-(Ib-Ea);ha.match_length>ha.lookahead&&(ha.match_length=ha.lookahead)}}3<=ha.match_length?(kc=va(ha,1,ha.match_length-3),ha.lookahead-=ha.match_length,ha.strstart+=ha.match_length,ha.match_length=0):(kc=va(ha,0,ha.window[ha.strstart]),ha.lookahead--,ha.strstart++);if(kc&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}ha.insert=
0;return ob===ja?(Wb(ha,!0),0===ha.strm.avail_out?3:4):ha.last_lit&&(Wb(ha,!1),0===ha.strm.avail_out)?1:2},Ba=(ha,ob)=>{let Ea;for(;;){if(0===ha.lookahead&&(Fc(ha),0===ha.lookahead)){if(ob===eb)return 1;break}ha.match_length=0;Ea=va(ha,0,ha.window[ha.strstart]);ha.lookahead--;ha.strstart++;if(Ea&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}ha.insert=0;return ob===ja?(Wb(ha,!0),0===ha.strm.avail_out?3:4):ha.last_lit&&(Wb(ha,!1),0===ha.strm.avail_out)?1:2},ua=[new q(0,0,0,0,(ha,ob)=>{let Ea=65535;for(Ea>
ha.pending_buf_size-5&&(Ea=ha.pending_buf_size-5);;){if(1>=ha.lookahead){Fc(ha);if(0===ha.lookahead&&ob===eb)return 1;if(0===ha.lookahead)break}ha.strstart+=ha.lookahead;ha.lookahead=0;const Ib=ha.block_start+Ea;if(0===ha.strstart||ha.strstart>=Ib)if(ha.lookahead=ha.strstart-Ib,ha.strstart=Ib,Wb(ha,!1),0===ha.strm.avail_out)return 1;if(ha.strstart-ha.block_start>=ha.w_size-262&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}ha.insert=0;if(ob===ja)return Wb(ha,!0),0===ha.strm.avail_out?3:4;ha.strstart>
ha.block_start&&Wb(ha,!1);return 1}),new q(4,4,8,4,Sc),new q(4,5,16,8,Sc),new q(4,6,32,32,Sc),new q(4,4,16,16,jd),new q(8,16,32,32,jd),new q(8,16,128,128,jd),new q(8,32,128,256,jd),new q(32,128,258,1024,jd),new q(32,258,258,4096,jd)],Ca=ha=>{if(!ha||!ha.state)return Hb(ha,Ta);ha.total_in=ha.total_out=0;ha.data_type=uc;const ob=ha.state;ob.pending=0;ob.pending_out=0;0>ob.wrap&&(ob.wrap=-ob.wrap);ob.status=ob.wrap?42:113;ha.adler=2===ob.wrap?0:1;ob.last_flush=eb;qa(ob);return ka},$a=ha=>{const ob=Ca(ha);
ob===ka&&(ha=ha.state,ha.window_size=2*ha.w_size,Ab(ha.head),ha.max_lazy_match=ua[ha.level].max_lazy,ha.good_match=ua[ha.level].good_length,ha.nice_match=ua[ha.level].nice_length,ha.max_chain_length=ua[ha.level].max_chain,ha.strstart=0,ha.block_start=0,ha.lookahead=0,ha.insert=0,ha.match_length=ha.prev_length=2,ha.match_available=0,ha.ins_h=0);return ob},jb=(ha,ob,Ea,Ib,Yb,kc)=>{if(!ha)return Ta;let Nc=1;ob===nb&&(ob=6);0>Ib?(Nc=0,Ib=-Ib):15<Ib&&(Nc=2,Ib-=16);if(1>Yb||9<Yb||Ea!==id||8>Ib||15<Ib||
0>ob||9<ob||0>kc||kc>zc)return Hb(ha,Ta);8===Ib&&(Ib=9);const Jc=new t;ha.state=Jc;Jc.strm=ha;Jc.wrap=Nc;Jc.gzhead=null;Jc.w_bits=Ib;Jc.w_size=1<<Jc.w_bits;Jc.w_mask=Jc.w_size-1;Jc.hash_bits=Yb+7;Jc.hash_size=1<<Jc.hash_bits;Jc.hash_mask=Jc.hash_size-1;Jc.hash_shift=~~((Jc.hash_bits+3-1)/3);Jc.window=new Uint8Array(2*Jc.w_size);Jc.head=new Uint16Array(Jc.hash_size);Jc.prev=new Uint16Array(Jc.w_size);Jc.lit_bufsize=1<<Yb+6;Jc.pending_buf_size=4*Jc.lit_bufsize;Jc.pending_buf=new Uint8Array(Jc.pending_buf_size);
Jc.d_buf=1*Jc.lit_bufsize;Jc.l_buf=3*Jc.lit_bufsize;Jc.level=ob;Jc.strategy=kc;Jc.method=Ea;return $a(ha)};var yb={deflateInit:(ha,ob)=>jb(ha,ob,id,15,8,Bc),deflateInit2:jb,deflateReset:$a,deflateResetKeep:Ca,deflateSetHeader:(ha,ob)=>{if(!ha||!ha.state||2!==ha.state.wrap)return Ta;ha.state.gzhead=ob;return ka},deflate:(ha,ob)=>{if(!ha||!ha.state||ob>U||0>ob)return ha?Hb(ha,Ta):Ta;const Ea=ha.state;if(!ha.output||!ha.input&&0!==ha.avail_in||666===Ea.status&&ob!==ja)return Hb(ha,0===ha.avail_out?lb:
Ta);Ea.strm=ha;var Ib=Ea.last_flush;Ea.last_flush=ob;if(42===Ea.status)if(2===Ea.wrap)if(ha.adler=0,Ea.pending_buf[Ea.pending++]=31,Ea.pending_buf[Ea.pending++]=139,Ea.pending_buf[Ea.pending++]=8,Ea.gzhead){var Yb=(Ea.gzhead.text?1:0)+(Ea.gzhead.hcrc?2:0)+(Ea.gzhead.extra?4:0)+(Ea.gzhead.name?8:0)+(Ea.gzhead.comment?16:0);Ea.pending_buf[Ea.pending++]=Yb;Yb=Ea.gzhead.time&255;Ea.pending_buf[Ea.pending++]=Yb;Yb=Ea.gzhead.time>>8&255;Ea.pending_buf[Ea.pending++]=Yb;Yb=Ea.gzhead.time>>16&255;Ea.pending_buf[Ea.pending++]=
Yb;Yb=Ea.gzhead.time>>24&255;Ea.pending_buf[Ea.pending++]=Yb;Yb=9===Ea.level?2:Ea.strategy>=$b||2>Ea.level?4:0;Ea.pending_buf[Ea.pending++]=Yb;Yb=Ea.gzhead.os&255;Ea.pending_buf[Ea.pending++]=Yb;Ea.gzhead.extra&&Ea.gzhead.extra.length&&(Yb=Ea.gzhead.extra.length&255,Ea.pending_buf[Ea.pending++]=Yb,Yb=Ea.gzhead.extra.length>>8&255,Ea.pending_buf[Ea.pending++]=Yb);Ea.gzhead.hcrc&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending,0));Ea.gzindex=0;Ea.status=69}else Ea.pending_buf[Ea.pending++]=0,Ea.pending_buf[Ea.pending++]=
0,Ea.pending_buf[Ea.pending++]=0,Ea.pending_buf[Ea.pending++]=0,Ea.pending_buf[Ea.pending++]=0,Yb=9===Ea.level?2:Ea.strategy>=$b||2>Ea.level?4:0,Ea.pending_buf[Ea.pending++]=Yb,Ea.pending_buf[Ea.pending++]=3,Ea.status=113;else Yb=id+(Ea.w_bits-8<<4)<<8,Yb|=(Ea.strategy>=$b||2>Ea.level?0:6>Ea.level?1:6===Ea.level?2:3)<<6,0!==Ea.strstart&&(Yb|=32),Ea.status=113,mc(Ea,Yb+(31-Yb%31)),0!==Ea.strstart&&(mc(Ea,ha.adler>>>16),mc(Ea,ha.adler&65535)),ha.adler=1;if(69===Ea.status)if(Ea.gzhead.extra){for(Yb=
Ea.pending;Ea.gzindex<(Ea.gzhead.extra.length&65535)&&(Ea.pending!==Ea.pending_buf_size||(Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb)),dc(ha),Yb=Ea.pending,Ea.pending!==Ea.pending_buf_size));){var kc=Ea.gzhead.extra[Ea.gzindex]&255;Ea.pending_buf[Ea.pending++]=kc;Ea.gzindex++}Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb));Ea.gzindex===Ea.gzhead.extra.length&&(Ea.gzindex=0,Ea.status=73)}else Ea.status=73;if(73===Ea.status)if(Ea.gzhead.name){Yb=
Ea.pending;do{if(Ea.pending===Ea.pending_buf_size&&(Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb)),dc(ha),Yb=Ea.pending,Ea.pending===Ea.pending_buf_size)){kc=1;break}var Nc=kc=Ea.gzindex<Ea.gzhead.name.length?Ea.gzhead.name.charCodeAt(Ea.gzindex++)&255:0;Ea.pending_buf[Ea.pending++]=Nc}while(0!==kc);Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb));0===kc&&(Ea.gzindex=0,Ea.status=91)}else Ea.status=91;if(91===Ea.status)if(Ea.gzhead.comment){Yb=
Ea.pending;do{if(Ea.pending===Ea.pending_buf_size&&(Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb)),dc(ha),Yb=Ea.pending,Ea.pending===Ea.pending_buf_size)){kc=1;break}Nc=kc=Ea.gzindex<Ea.gzhead.comment.length?Ea.gzhead.comment.charCodeAt(Ea.gzindex++)&255:0;Ea.pending_buf[Ea.pending++]=Nc}while(0!==kc);Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb));0===kc&&(Ea.status=103)}else Ea.status=103;103===Ea.status&&(Ea.gzhead.hcrc?
(Ea.pending+2>Ea.pending_buf_size&&dc(ha),Ea.pending+2<=Ea.pending_buf_size&&(Yb=ha.adler&255,Ea.pending_buf[Ea.pending++]=Yb,Yb=ha.adler>>8&255,Ea.pending_buf[Ea.pending++]=Yb,ha.adler=0,Ea.status=113)):Ea.status=113);if(0!==Ea.pending){if(dc(ha),0===ha.avail_out)return Ea.last_flush=-1,ka}else if(0===ha.avail_in&&(ob<<1)-(4<ob?9:0)<=(Ib<<1)-(4<Ib?9:0)&&ob!==ja)return Hb(ha,lb);if(666===Ea.status&&0!==ha.avail_in)return Hb(ha,lb);if(0!==ha.avail_in||0!==Ea.lookahead||ob!==eb&&666!==Ea.status){Ib=
Ea.strategy===$b?Ba(Ea,ob):Ea.strategy===Gc?$d(Ea,ob):ua[Ea.level].func(Ea,ob);if(3===Ib||4===Ib)Ea.status=666;if(1===Ib||3===Ib)return 0===ha.avail_out&&(Ea.last_flush=-1),ka;if(2===Ib&&(ob===ra?Ua(Ea):ob!==U&&(ya(Ea,0,0,!1),ob===Oa&&(Ab(Ea.head),0===Ea.lookahead&&(Ea.strstart=0,Ea.block_start=0,Ea.insert=0))),dc(ha),0===ha.avail_out))return Ea.last_flush=-1,ka}if(ob!==ja)return ka;if(0>=Ea.wrap)return wa;2===Ea.wrap?(ob=ha.adler&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.adler>>8&255,Ea.pending_buf[Ea.pending++]=
ob,ob=ha.adler>>16&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.adler>>24&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.total_in&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.total_in>>8&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.total_in>>16&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.total_in>>24&255,Ea.pending_buf[Ea.pending++]=ob):(mc(Ea,ha.adler>>>16),mc(Ea,ha.adler&65535));dc(ha);0<Ea.wrap&&(Ea.wrap=-Ea.wrap);return 0!==Ea.pending?ka:wa},deflateEnd:ha=>{if(!ha||!ha.state)return Ta;const ob=ha.state.status;
if(42!==ob&&69!==ob&&73!==ob&&91!==ob&&103!==ob&&113!==ob&&666!==ob)return Hb(ha,Ta);ha.state=null;return 113===ob?Hb(ha,db):ka},deflateSetDictionary:(ha,ob)=>{var Ea=ob.length;if(!ha||!ha.state)return Ta;const Ib=ha.state,Yb=Ib.wrap;if(2===Yb||1===Yb&&42!==Ib.status||Ib.lookahead)return Ta;1===Yb&&(ha.adler=ib(ha.adler,ob,Ea,0));Ib.wrap=0;if(Ea>=Ib.w_size){0===Yb&&(Ab(Ib.head),Ib.strstart=0,Ib.block_start=0,Ib.insert=0);var kc=new Uint8Array(Ib.w_size);kc.set(ob.subarray(Ea-Ib.w_size,Ea),0);ob=kc;
Ea=Ib.w_size}kc=ha.avail_in;const Nc=ha.next_in,Jc=ha.input;ha.avail_in=Ea;ha.next_in=0;ha.input=ob;for(Fc(Ib);3<=Ib.lookahead;){ob=Ib.strstart;Ea=Ib.lookahead-2;do Ib.ins_h=(Ib.ins_h<<Ib.hash_shift^Ib.window[ob+3-1])&Ib.hash_mask,Ib.prev[ob&Ib.w_mask]=Ib.head[Ib.ins_h],Ib.head[Ib.ins_h]=ob,ob++;while(--Ea);Ib.strstart=ob;Ib.lookahead=2;Fc(Ib)}Ib.strstart+=Ib.lookahead;Ib.block_start=Ib.strstart;Ib.insert=Ib.lookahead;Ib.lookahead=0;Ib.match_length=Ib.prev_length=2;Ib.match_available=0;ha.next_in=
Nc;ha.input=Jc;ha.avail_in=kc;Ib.wrap=Yb;return ka},deflateInfo:"pako deflate (from Nodeca project)"},Ub={assign:function(ha){const ob=Array.prototype.slice.call(arguments,1);for(;ob.length;){const Ea=ob.shift();if(Ea){if("object"!==typeof Ea)throw new TypeError(Ea+"must be non-object");for(const Ib in Ea)Object.prototype.hasOwnProperty.call(Ea,Ib)&&(ha[Ib]=Ea[Ib])}}return ha},flattenChunks:ha=>{var ob=0;for(let Ea=0,Ib=ha.length;Ea<Ib;Ea++)ob+=ha[Ea].length;ob=new Uint8Array(ob);for(let Ea=0,Ib=
0,Yb=ha.length;Ea<Yb;Ea++){let kc=ha[Ea];ob.set(kc,Ib);Ib+=kc.length}return ob}};let Tb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ha){Tb=!1}const Vb=new Uint8Array(256);for(let ha=0;256>ha;ha++)Vb[ha]=252<=ha?6:248<=ha?5:240<=ha?4:224<=ha?3:192<=ha?2:1;Vb[254]=Vb[254]=1;var Ic={string2buf:ha=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(ha);let ob,Ea,Ib,Yb,kc,Nc=ha.length,Jc=0;for(Yb=0;Yb<Nc;Yb++)Ea=ha.charCodeAt(Yb),55296===
(Ea&64512)&&Yb+1<Nc&&(Ib=ha.charCodeAt(Yb+1),56320===(Ib&64512)&&(Ea=65536+(Ea-55296<<10)+(Ib-56320),Yb++)),Jc+=128>Ea?1:2048>Ea?2:65536>Ea?3:4;ob=new Uint8Array(Jc);for(Yb=kc=0;kc<Jc;Yb++)Ea=ha.charCodeAt(Yb),55296===(Ea&64512)&&Yb+1<Nc&&(Ib=ha.charCodeAt(Yb+1),56320===(Ib&64512)&&(Ea=65536+(Ea-55296<<10)+(Ib-56320),Yb++)),128>Ea?ob[kc++]=Ea:(2048>Ea?ob[kc++]=192|Ea>>>6:(65536>Ea?ob[kc++]=224|Ea>>>12:(ob[kc++]=240|Ea>>>18,ob[kc++]=128|Ea>>>12&63),ob[kc++]=128|Ea>>>6&63),ob[kc++]=128|Ea&63);return ob},
buf2string:(ha,ob)=>{var Ea=ob||ha.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(ha.subarray(0,ob));var Ib;let Yb;ob=Array(2*Ea);for(Ib=Yb=0;Ib<Ea;){let kc=ha[Ib++];if(128>kc){ob[Yb++]=kc;continue}let Nc=Vb[kc];if(4<Nc)ob[Yb++]=65533,Ib+=Nc-1;else{for(kc&=2===Nc?31:3===Nc?15:7;1<Nc&&Ib<Ea;)kc=kc<<6|ha[Ib++]&63,Nc--;1<Nc?ob[Yb++]=65533:65536>kc?ob[Yb++]=kc:(kc-=65536,ob[Yb++]=55296|kc>>10&1023,ob[Yb++]=56320|kc&1023)}}ha=Yb;if(65534>ha&&ob.subarray&&
Tb)ob=String.fromCharCode.apply(null,ob.length===ha?ob:ob.subarray(0,ha));else{Ea="";for(Ib=0;Ib<ha;Ib++)Ea+=String.fromCharCode(ob[Ib]);ob=Ea}return ob},utf8border:(ha,ob)=>{ob=ob||ha.length;ob>ha.length&&(ob=ha.length);let Ea=ob-1;for(;0<=Ea&&128===(ha[Ea]&192);)Ea--;return 0>Ea||0===Ea?ob:Ea+Vb[ha[Ea]]>ob?Ea:ob}},Yc=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=
0};const dd=Object.prototype.toString,{Z_NO_FLUSH:nd,Z_SYNC_FLUSH:xd,Z_FULL_FLUSH:Nd,Z_FINISH:Xd,Z_OK:ge,Z_STREAM_END:le,Z_DEFAULT_COMPRESSION:qe,Z_DEFAULT_STRATEGY:wd,Z_DEFLATED:qf}=Pa;m.prototype.push=function(ha,ob){const Ea=this.strm,Ib=this.options.chunkSize;if(this.ended)return!1;ob=ob===~~ob?ob:!0===ob?Xd:nd;"string"===typeof ha?Ea.input=Ic.string2buf(ha):"[object ArrayBuffer]"===dd.call(ha)?Ea.input=new Uint8Array(ha):Ea.input=ha;Ea.next_in=0;for(Ea.avail_in=Ea.input.length;;)if(0===Ea.avail_out&&
(Ea.output=new Uint8Array(Ib),Ea.next_out=0,Ea.avail_out=Ib),(ob===xd||ob===Nd)&&6>=Ea.avail_out)this.onData(Ea.output.subarray(0,Ea.next_out)),Ea.avail_out=0;else{ha=yb.deflate(Ea,ob);if(ha===le){if(0<Ea.next_out)this.onData(Ea.output.subarray(0,Ea.next_out));ha=yb.deflateEnd(this.strm);this.onEnd(ha);this.ended=!0;return ha===ge}if(0===Ea.avail_out)this.onData(Ea.output);else if(0<ob&&0<Ea.next_out)this.onData(Ea.output.subarray(0,Ea.next_out)),Ea.avail_out=0;else if(0===Ea.avail_in)break}return!0};
m.prototype.onData=function(ha){this.chunks.push(ha)};m.prototype.onEnd=function(ha){ha===ge&&(this.result=Ub.flattenChunks(this.chunks));this.chunks=[];this.err=ha;this.msg=this.strm.msg};var gf={Deflate:m,deflate:f,deflateRaw:function(ha,ob){ob=ob||{};ob.raw=!0;return f(ha,ob)},gzip:function(ha,ob){ob=ob||{};ob.gzip=!0;return f(ha,ob)},constants:Pa};const te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),We=new Uint8Array([16,16,16,16,
16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),za=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Za=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var tb=(ha,ob,Ea,Ib,Yb,kc,Nc,Jc)=>{var pd=Jc.bits;let qd,Yd,Od,Jd;var ed;let td,wc,Rc,Lc,ud,kb,Gb,Pb=0,bc;const fa=new Uint16Array(16);var Ha=new Uint16Array(16);let gb,
Fb=0,Kb,Ob,oc;for(qd=0;15>=qd;qd++)fa[qd]=0;for(Yd=0;Yd<Ib;Yd++)fa[ob[Ea+Yd]]++;Jd=pd;for(Od=15;1<=Od&&0===fa[Od];Od--);Jd>Od&&(Jd=Od);if(0===Od)return Yb[kc++]=20971520,Yb[kc++]=20971520,Jc.bits=1,0;for(pd=1;pd<Od&&0===fa[pd];pd++);Jd<pd&&(Jd=pd);for(qd=ed=1;15>=qd;qd++)if(ed<<=1,ed-=fa[qd],0>ed)return-1;if(0<ed&&(0===ha||1!==Od))return-1;Ha[1]=0;for(qd=1;15>qd;qd++)Ha[qd+1]=Ha[qd]+fa[qd];for(Yd=0;Yd<Ib;Yd++)0!==ob[Ea+Yd]&&(Nc[Ha[ob[Ea+Yd]]++]=Yd);0===ha?(Gb=gb=Nc,bc=19):1===ha?(Gb=te,Pb-=257,gb=
We,Fb-=257,bc=256):(Gb=za,gb=Za,bc=-1);Yd=wc=0;qd=pd;kb=kc;Ib=Jd;Ha=0;Lc=-1;td=1<<Jd;ud=td-1;if(1===ha&&852<td||2===ha&&592<td)return 1;for(;;){Kb=qd-Ha;Nc[Yd]<bc?(Ob=0,oc=Nc[Yd]):Nc[Yd]>bc?(Ob=gb[Fb+Nc[Yd]],oc=Gb[Pb+Nc[Yd]]):(Ob=96,oc=0);ed=1<<qd-Ha;pd=Rc=1<<Ib;do Rc-=ed,Yb[kb+(wc>>Ha)+Rc]=Kb<<24|Ob<<16|oc|0;while(0!==Rc);for(ed=1<<qd-1;wc&ed;)ed>>=1;0!==ed?(wc&=ed-1,wc+=ed):wc=0;Yd++;if(0===--fa[qd]){if(qd===Od)break;qd=ob[Ea+Nc[Yd]]}if(qd>Jd&&(wc&ud)!==Lc){0===Ha&&(Ha=Jd);kb+=pd;Ib=qd-Ha;for(ed=
1<<Ib;Ib+Ha<Od;){ed-=fa[Ib+Ha];if(0>=ed)break;Ib++;ed<<=1}td+=1<<Ib;if(1===ha&&852<td||2===ha&&592<td)return 1;Lc=wc&ud;Yb[Lc]=Jd<<24|Ib<<16|kb-kc|0}}0!==wc&&(Yb[kb+wc]=qd-Ha<<24|4194304);Jc.bits=Jd;return 0};const {Z_FINISH:Jb,Z_BLOCK:fc,Z_TREES:nc,Z_OK:Hc,Z_STREAM_END:Dc,Z_NEED_DICT:lc,Z_STREAM_ERROR:ld,Z_DATA_ERROR:sd,Z_MEM_ERROR:Hd,Z_BUF_ERROR:Vd,Z_DEFLATED:be}=Pa,he=ha=>{if(!ha||!ha.state)return ld;const ob=ha.state;ha.total_in=ha.total_out=ob.total=0;ha.msg="";ob.wrap&&(ha.adler=ob.wrap&1);
ob.mode=1;ob.last=0;ob.havedict=0;ob.dmax=32768;ob.head=null;ob.hold=0;ob.bits=0;ob.lencode=ob.lendyn=new Int32Array(852);ob.distcode=ob.distdyn=new Int32Array(592);ob.sane=1;ob.back=-1;return Hc},Ce=ha=>{if(!ha||!ha.state)return ld;const ob=ha.state;ob.wsize=0;ob.whave=0;ob.wnext=0;return he(ha)},re=(ha,ob)=>{let Ea;if(!ha||!ha.state)return ld;const Ib=ha.state;0>ob?(Ea=0,ob=-ob):(Ea=(ob>>4)+1,48>ob&&(ob&=15));if(ob&&(8>ob||15<ob))return ld;null!==Ib.window&&Ib.wbits!==ob&&(Ib.window=null);Ib.wrap=
Ea;Ib.wbits=ob;return Ce(ha)},vf=(ha,ob)=>{if(!ha)return ld;const Ea=new b;ha.state=Ea;Ea.window=null;ob=re(ha,ob);ob!==Hc&&(ha.state=null);return ob};let Ge=!0,Re,af;const Qb=(ha,ob,Ea,Ib)=>{const Yb=ha.state;null===Yb.window&&(Yb.wsize=1<<Yb.wbits,Yb.wnext=0,Yb.whave=0,Yb.window=new Uint8Array(Yb.wsize));Ib>=Yb.wsize?(Yb.window.set(ob.subarray(Ea-Yb.wsize,Ea),0),Yb.wnext=0,Yb.whave=Yb.wsize):(ha=Yb.wsize-Yb.wnext,ha>Ib&&(ha=Ib),Yb.window.set(ob.subarray(Ea-Ib,Ea-Ib+ha),Yb.wnext),(Ib-=ha)?(Yb.window.set(ob.subarray(Ea-
Ib,Ea),0),Yb.wnext=Ib,Yb.whave=Yb.wsize):(Yb.wnext+=ha,Yb.wnext===Yb.wsize&&(Yb.wnext=0),Yb.whave<Yb.wsize&&(Yb.whave+=ha)));return 0};var rc={inflateReset:Ce,inflateReset2:re,inflateResetKeep:he,inflateInit:ha=>vf(ha,15),inflateInit2:vf,inflate:(ha,ob)=>{let Ea;let Ib,Yb;let kc;const Nc=new Uint8Array(4),Jc=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!ha||!ha.state||!ha.output||!ha.input&&0!==ha.avail_in)return ld;Ea=ha.state;12===Ea.mode&&(Ea.mode=13);var pd=ha.next_out;
var qd=ha.output;var Yd=ha.avail_out;var Od=ha.next_in;var Jd=ha.input;var ed=ha.avail_in;var td=Ea.hold;var wc=Ea.bits;Ib=ed;Yb=Yd;kc=Hc;a:for(;;)switch(Ea.mode){case 1:if(0===Ea.wrap){Ea.mode=13;break}for(;16>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}if(Ea.wrap&2&&35615===td){Ea.check=0;Nc[0]=td&255;Nc[1]=td>>>8&255;Ea.check=ma(Ea.check,Nc,2,0);wc=td=0;Ea.mode=2;break}Ea.flags=0;Ea.head&&(Ea.head.done=!1);if(!(Ea.wrap&1)||(((td&255)<<8)+(td>>8))%31){ha.msg="incorrect header check";Ea.mode=
30;break}if((td&15)!==be){ha.msg="unknown compression method";Ea.mode=30;break}td>>>=4;wc-=4;var Rc=(td&15)+8;if(0===Ea.wbits)Ea.wbits=Rc;else if(Rc>Ea.wbits){ha.msg="invalid window size";Ea.mode=30;break}Ea.dmax=1<<Ea.wbits;ha.adler=Ea.check=1;Ea.mode=td&512?10:12;wc=td=0;break;case 2:for(;16>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}Ea.flags=td;if((Ea.flags&255)!==be){ha.msg="unknown compression method";Ea.mode=30;break}if(Ea.flags&57344){ha.msg="unknown header flags set";Ea.mode=30;break}Ea.head&&
(Ea.head.text=td>>8&1);Ea.flags&512&&(Nc[0]=td&255,Nc[1]=td>>>8&255,Ea.check=ma(Ea.check,Nc,2,0));wc=td=0;Ea.mode=3;case 3:for(;32>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}Ea.head&&(Ea.head.time=td);Ea.flags&512&&(Nc[0]=td&255,Nc[1]=td>>>8&255,Nc[2]=td>>>16&255,Nc[3]=td>>>24&255,Ea.check=ma(Ea.check,Nc,4,0));wc=td=0;Ea.mode=4;case 4:for(;16>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}Ea.head&&(Ea.head.xflags=td&255,Ea.head.os=td>>8);Ea.flags&512&&(Nc[0]=td&255,Nc[1]=td>>>8&255,Ea.check=
ma(Ea.check,Nc,2,0));wc=td=0;Ea.mode=5;case 5:if(Ea.flags&1024){for(;16>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}Ea.length=td;Ea.head&&(Ea.head.extra_len=td);Ea.flags&512&&(Nc[0]=td&255,Nc[1]=td>>>8&255,Ea.check=ma(Ea.check,Nc,2,0));wc=td=0}else Ea.head&&(Ea.head.extra=null);Ea.mode=6;case 6:if(Ea.flags&1024){var Lc=Ea.length;Lc>ed&&(Lc=ed);Lc&&(Ea.head&&(Rc=Ea.head.extra_len-Ea.length,Ea.head.extra||(Ea.head.extra=new Uint8Array(Ea.head.extra_len)),Ea.head.extra.set(Jd.subarray(Od,Od+Lc),
Rc)),Ea.flags&512&&(Ea.check=ma(Ea.check,Jd,Lc,Od)),ed-=Lc,Od+=Lc,Ea.length-=Lc);if(Ea.length)break a}Ea.length=0;Ea.mode=7;case 7:if(Ea.flags&2048){if(0===ed)break a;Lc=0;do Rc=Jd[Od+Lc++],Ea.head&&Rc&&65536>Ea.length&&(Ea.head.name+=String.fromCharCode(Rc));while(Rc&&Lc<ed);Ea.flags&512&&(Ea.check=ma(Ea.check,Jd,Lc,Od));ed-=Lc;Od+=Lc;if(Rc)break a}else Ea.head&&(Ea.head.name=null);Ea.length=0;Ea.mode=8;case 8:if(Ea.flags&4096){if(0===ed)break a;Lc=0;do Rc=Jd[Od+Lc++],Ea.head&&Rc&&65536>Ea.length&&
(Ea.head.comment+=String.fromCharCode(Rc));while(Rc&&Lc<ed);Ea.flags&512&&(Ea.check=ma(Ea.check,Jd,Lc,Od));ed-=Lc;Od+=Lc;if(Rc)break a}else Ea.head&&(Ea.head.comment=null);Ea.mode=9;case 9:if(Ea.flags&512){for(;16>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}if(td!==(Ea.check&65535)){ha.msg="header crc mismatch";Ea.mode=30;break}wc=td=0}Ea.head&&(Ea.head.hcrc=Ea.flags>>9&1,Ea.head.done=!0);ha.adler=Ea.check=0;Ea.mode=12;break;case 10:for(;32>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=
8}ha.adler=Ea.check=(td>>>24&255)+(td>>>8&65280)+((td&65280)<<8)+((td&255)<<24);wc=td=0;Ea.mode=11;case 11:if(0===Ea.havedict)return ha.next_out=pd,ha.avail_out=Yd,ha.next_in=Od,ha.avail_in=ed,Ea.hold=td,Ea.bits=wc,lc;ha.adler=Ea.check=1;Ea.mode=12;case 12:if(ob===fc||ob===nc)break a;case 13:if(Ea.last){td>>>=wc&7;wc-=wc&7;Ea.mode=27;break}for(;3>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}Ea.last=td&1;td>>>=1;--wc;switch(td&3){case 0:Ea.mode=14;break;case 1:Lc=Ea;if(Ge){Re=new Int32Array(512);
af=new Int32Array(32);for(Rc=0;144>Rc;)Lc.lens[Rc++]=8;for(;256>Rc;)Lc.lens[Rc++]=9;for(;280>Rc;)Lc.lens[Rc++]=7;for(;288>Rc;)Lc.lens[Rc++]=8;tb(1,Lc.lens,0,288,Re,0,Lc.work,{bits:9});for(Rc=0;32>Rc;)Lc.lens[Rc++]=5;tb(2,Lc.lens,0,32,af,0,Lc.work,{bits:5});Ge=!1}Lc.lencode=Re;Lc.lenbits=9;Lc.distcode=af;Lc.distbits=5;Ea.mode=20;if(ob===nc){td>>>=2;wc-=2;break a}break;case 2:Ea.mode=17;break;case 3:ha.msg="invalid block type",Ea.mode=30}td>>>=2;wc-=2;break;case 14:td>>>=wc&7;for(wc-=wc&7;32>wc;){if(0===
ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}if((td&65535)!==(td>>>16^65535)){ha.msg="invalid stored block lengths";Ea.mode=30;break}Ea.length=td&65535;wc=td=0;Ea.mode=15;if(ob===nc)break a;case 15:Ea.mode=16;case 16:if(Lc=Ea.length){Lc>ed&&(Lc=ed);Lc>Yd&&(Lc=Yd);if(0===Lc)break a;qd.set(Jd.subarray(Od,Od+Lc),pd);ed-=Lc;Od+=Lc;Yd-=Lc;pd+=Lc;Ea.length-=Lc;break}Ea.mode=12;break;case 17:for(;14>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}Ea.nlen=(td&31)+257;td>>>=5;wc-=5;Ea.ndist=(td&31)+1;td>>>=5;
wc-=5;Ea.ncode=(td&15)+4;td>>>=4;wc-=4;if(286<Ea.nlen||30<Ea.ndist){ha.msg="too many length or distance symbols";Ea.mode=30;break}Ea.have=0;Ea.mode=18;case 18:for(;Ea.have<Ea.ncode;){for(;3>wc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}Ea.lens[Jc[Ea.have++]]=td&7;td>>>=3;wc-=3}for(;19>Ea.have;)Ea.lens[Jc[Ea.have++]]=0;Ea.lencode=Ea.lendyn;Ea.lenbits=7;Lc={bits:Ea.lenbits};kc=tb(0,Ea.lens,0,19,Ea.lencode,0,Ea.work,Lc);Ea.lenbits=Lc.bits;if(kc){ha.msg="invalid code lengths set";Ea.mode=30;break}Ea.have=
0;Ea.mode=19;case 19:for(;Ea.have<Ea.nlen+Ea.ndist;){for(;;){var ud=Ea.lencode[td&(1<<Ea.lenbits)-1];Lc=ud>>>24;ud&=65535;if(Lc<=wc)break;if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}if(16>ud)td>>>=Lc,wc-=Lc,Ea.lens[Ea.have++]=ud;else{if(16===ud){for(Rc=Lc+2;wc<Rc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}td>>>=Lc;wc-=Lc;if(0===Ea.have){ha.msg="invalid bit length repeat";Ea.mode=30;break}Rc=Ea.lens[Ea.have-1];Lc=3+(td&3);td>>>=2;wc-=2}else if(17===ud){for(Rc=Lc+3;wc<Rc;){if(0===ed)break a;
ed--;td+=Jd[Od++]<<wc;wc+=8}td>>>=Lc;wc-=Lc;Rc=0;Lc=3+(td&7);td>>>=3;wc-=3}else{for(Rc=Lc+7;wc<Rc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}td>>>=Lc;wc-=Lc;Rc=0;Lc=11+(td&127);td>>>=7;wc-=7}if(Ea.have+Lc>Ea.nlen+Ea.ndist){ha.msg="invalid bit length repeat";Ea.mode=30;break}for(;Lc--;)Ea.lens[Ea.have++]=Rc}}if(30===Ea.mode)break;if(0===Ea.lens[256]){ha.msg="invalid code -- missing end-of-block";Ea.mode=30;break}Ea.lenbits=9;Lc={bits:Ea.lenbits};kc=tb(1,Ea.lens,0,Ea.nlen,Ea.lencode,0,Ea.work,
Lc);Ea.lenbits=Lc.bits;if(kc){ha.msg="invalid literal/lengths set";Ea.mode=30;break}Ea.distbits=6;Ea.distcode=Ea.distdyn;Lc={bits:Ea.distbits};kc=tb(2,Ea.lens,Ea.nlen,Ea.ndist,Ea.distcode,0,Ea.work,Lc);Ea.distbits=Lc.bits;if(kc){ha.msg="invalid distances set";Ea.mode=30;break}Ea.mode=20;if(ob===nc)break a;case 20:Ea.mode=21;case 21:if(6<=ed&&258<=Yd){ha.next_out=pd;ha.avail_out=Yd;ha.next_in=Od;ha.avail_in=ed;Ea.hold=td;Ea.bits=wc;var kb=void 0;let fa,Ha,gb,Fb,Kb,Ob,oc,Oc,yc;Jd=ha;const fd=Jd.state;
yc=Jd.next_in;Od=Jd.input;Oc=yc+(Jd.avail_in-5);oc=Jd.next_out;qd=Jd.output;Ob=oc-(Yb-Jd.avail_out);Kb=oc+(Jd.avail_out-257);Fb=fd.dmax;gb=fd.wsize;ud=fd.whave;var Gb=fd.wnext;var Pb=fd.window;var bc=fd.hold;Rc=fd.bits;Lc=fd.lencode;wc=fd.distcode;td=(1<<fd.lenbits)-1;Yd=(1<<fd.distbits)-1;b:do c:for(15>Rc&&(bc+=Od[yc++]<<Rc,Rc+=8,bc+=Od[yc++]<<Rc,Rc+=8),kb=Lc[bc&td];;){ed=kb>>>24;bc>>>=ed;Rc-=ed;ed=kb>>>16&255;if(0===ed)qd[oc++]=kb&65535;else if(ed&16){pd=kb&65535;if(ed&=15)Rc<ed&&(bc+=Od[yc++]<<
Rc,Rc+=8),pd+=bc&(1<<ed)-1,bc>>>=ed,Rc-=ed;15>Rc&&(bc+=Od[yc++]<<Rc,Rc+=8,bc+=Od[yc++]<<Rc,Rc+=8);kb=wc[bc&Yd];d:for(;;){ed=kb>>>24;bc>>>=ed;Rc-=ed;ed=kb>>>16&255;if(ed&16){Ha=kb&65535;ed&=15;Rc<ed&&(bc+=Od[yc++]<<Rc,Rc+=8,Rc<ed&&(bc+=Od[yc++]<<Rc,Rc+=8));Ha+=bc&(1<<ed)-1;if(Ha>Fb){Jd.msg="invalid distance too far back";fd.mode=30;break b}bc>>>=ed;Rc-=ed;ed=oc-Ob;if(Ha>ed){ed=Ha-ed;if(ed>ud&&fd.sane){Jd.msg="invalid distance too far back";fd.mode=30;break b}fa=0;kb=Pb;if(0===Gb){if(fa+=gb-ed,ed<pd){pd-=
ed;do qd[oc++]=Pb[fa++];while(--ed);fa=oc-Ha;kb=qd}}else if(Gb<ed){if(fa+=gb+Gb-ed,ed-=Gb,ed<pd){pd-=ed;do qd[oc++]=Pb[fa++];while(--ed);fa=0;if(Gb<pd){ed=Gb;pd-=ed;do qd[oc++]=Pb[fa++];while(--ed);fa=oc-Ha;kb=qd}}}else if(fa+=Gb-ed,ed<pd){pd-=ed;do qd[oc++]=Pb[fa++];while(--ed);fa=oc-Ha;kb=qd}for(;2<pd;)qd[oc++]=kb[fa++],qd[oc++]=kb[fa++],qd[oc++]=kb[fa++],pd-=3;pd&&(qd[oc++]=kb[fa++],1<pd&&(qd[oc++]=kb[fa++]))}else{fa=oc-Ha;do qd[oc++]=qd[fa++],qd[oc++]=qd[fa++],qd[oc++]=qd[fa++],pd-=3;while(2<
pd);pd&&(qd[oc++]=qd[fa++],1<pd&&(qd[oc++]=qd[fa++]))}}else if(0===(ed&64)){kb=wc[(kb&65535)+(bc&(1<<ed)-1)];continue d}else{Jd.msg="invalid distance code";fd.mode=30;break b}break}}else if(0===(ed&64)){kb=Lc[(kb&65535)+(bc&(1<<ed)-1)];continue c}else{ed&32?fd.mode=12:(Jd.msg="invalid literal/length code",fd.mode=30);break b}break}while(yc<Oc&&oc<Kb);pd=Rc>>3;yc-=pd;Rc-=pd<<3;Jd.next_in=yc;Jd.next_out=oc;Jd.avail_in=yc<Oc?5+(Oc-yc):5-(yc-Oc);Jd.avail_out=oc<Kb?257+(Kb-oc):257-(oc-Kb);fd.hold=bc&(1<<
Rc)-1;fd.bits=Rc;pd=ha.next_out;qd=ha.output;Yd=ha.avail_out;Od=ha.next_in;Jd=ha.input;ed=ha.avail_in;td=Ea.hold;wc=Ea.bits;12===Ea.mode&&(Ea.back=-1);break}for(Ea.back=0;;){ud=Ea.lencode[td&(1<<Ea.lenbits)-1];Lc=ud>>>24;Rc=ud>>>16&255;ud&=65535;if(Lc<=wc)break;if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}if(Rc&&0===(Rc&240)){bc=Lc;Pb=Rc;for(Gb=ud;;){ud=Ea.lencode[Gb+((td&(1<<bc+Pb)-1)>>bc)];Lc=ud>>>24;Rc=ud>>>16&255;ud&=65535;if(bc+Lc<=wc)break;if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}td>>>=
bc;wc-=bc;Ea.back+=bc}td>>>=Lc;wc-=Lc;Ea.back+=Lc;Ea.length=ud;if(0===Rc){Ea.mode=26;break}if(Rc&32){Ea.back=-1;Ea.mode=12;break}if(Rc&64){ha.msg="invalid literal/length code";Ea.mode=30;break}Ea.extra=Rc&15;Ea.mode=22;case 22:if(Ea.extra){for(Rc=Ea.extra;wc<Rc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}Ea.length+=td&(1<<Ea.extra)-1;td>>>=Ea.extra;wc-=Ea.extra;Ea.back+=Ea.extra}Ea.was=Ea.length;Ea.mode=23;case 23:for(;;){ud=Ea.distcode[td&(1<<Ea.distbits)-1];Lc=ud>>>24;Rc=ud>>>16&255;ud&=65535;
if(Lc<=wc)break;if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}if(0===(Rc&240)){bc=Lc;Pb=Rc;for(Gb=ud;;){ud=Ea.distcode[Gb+((td&(1<<bc+Pb)-1)>>bc)];Lc=ud>>>24;Rc=ud>>>16&255;ud&=65535;if(bc+Lc<=wc)break;if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}td>>>=bc;wc-=bc;Ea.back+=bc}td>>>=Lc;wc-=Lc;Ea.back+=Lc;if(Rc&64){ha.msg="invalid distance code";Ea.mode=30;break}Ea.offset=ud;Ea.extra=Rc&15;Ea.mode=24;case 24:if(Ea.extra){for(Rc=Ea.extra;wc<Rc;){if(0===ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}Ea.offset+=
td&(1<<Ea.extra)-1;td>>>=Ea.extra;wc-=Ea.extra;Ea.back+=Ea.extra}if(Ea.offset>Ea.dmax){ha.msg="invalid distance too far back";Ea.mode=30;break}Ea.mode=25;case 25:if(0===Yd)break a;Lc=Yb-Yd;if(Ea.offset>Lc){Lc=Ea.offset-Lc;if(Lc>Ea.whave&&Ea.sane){ha.msg="invalid distance too far back";Ea.mode=30;break}Lc>Ea.wnext?(Lc-=Ea.wnext,Rc=Ea.wsize-Lc):Rc=Ea.wnext-Lc;Lc>Ea.length&&(Lc=Ea.length);bc=Ea.window}else bc=qd,Rc=pd-Ea.offset,Lc=Ea.length;Lc>Yd&&(Lc=Yd);Yd-=Lc;Ea.length-=Lc;do qd[pd++]=bc[Rc++];while(--Lc);
0===Ea.length&&(Ea.mode=21);break;case 26:if(0===Yd)break a;qd[pd++]=Ea.length;Yd--;Ea.mode=21;break;case 27:if(Ea.wrap){for(;32>wc;){if(0===ed)break a;ed--;td|=Jd[Od++]<<wc;wc+=8}Yb-=Yd;ha.total_out+=Yb;Ea.total+=Yb;Yb&&(ha.adler=Ea.check=Ea.flags?ma(Ea.check,qd,Yb,pd-Yb):ib(Ea.check,qd,Yb,pd-Yb));Yb=Yd;if((Ea.flags?td:(td>>>24&255)+(td>>>8&65280)+((td&65280)<<8)+((td&255)<<24))!==Ea.check){ha.msg="incorrect data check";Ea.mode=30;break}wc=td=0}Ea.mode=28;case 28:if(Ea.wrap&&Ea.flags){for(;32>wc;){if(0===
ed)break a;ed--;td+=Jd[Od++]<<wc;wc+=8}if(td!==(Ea.total&4294967295)){ha.msg="incorrect length check";Ea.mode=30;break}wc=td=0}Ea.mode=29;case 29:kc=Dc;break a;case 30:kc=sd;break a;case 31:return Hd;default:return ld}ha.next_out=pd;ha.avail_out=Yd;ha.next_in=Od;ha.avail_in=ed;Ea.hold=td;Ea.bits=wc;(Ea.wsize||Yb!==ha.avail_out&&30>Ea.mode&&(27>Ea.mode||ob!==Jb))&&Qb(ha,ha.output,ha.next_out,Yb-ha.avail_out);Ib-=ha.avail_in;Yb-=ha.avail_out;ha.total_in+=Ib;ha.total_out+=Yb;Ea.total+=Yb;Ea.wrap&&Yb&&
(ha.adler=Ea.check=Ea.flags?ma(Ea.check,qd,Yb,ha.next_out-Yb):ib(Ea.check,qd,Yb,ha.next_out-Yb));ha.data_type=Ea.bits+(Ea.last?64:0)+(12===Ea.mode?128:0)+(20===Ea.mode||15===Ea.mode?256:0);(0===Ib&&0===Yb||ob===Jb)&&kc===Hc&&(kc=Vd);return kc},inflateEnd:ha=>{if(!ha||!ha.state)return ld;let ob=ha.state;ob.window&&(ob.window=null);ha.state=null;return Hc},inflateGetHeader:(ha,ob)=>{if(!ha||!ha.state)return ld;ha=ha.state;if(0===(ha.wrap&2))return ld;ha.head=ob;ob.done=!1;return Hc},inflateSetDictionary:(ha,
ob)=>{const Ea=ob.length;let Ib,Yb;if(!ha||!ha.state)return ld;Ib=ha.state;if(0!==Ib.wrap&&11!==Ib.mode)return ld;if(11===Ib.mode&&(Yb=ib(1,ob,Ea,0),Yb!==Ib.check))return sd;if(Qb(ha,ob,Ea,Ea))return Ib.mode=31,Hd;Ib.havedict=1;return Hc},inflateInfo:"pako inflate (from Nodeca project)"},bd=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1};const Ad=Object.prototype.toString,{Z_NO_FLUSH:xa,Z_FINISH:Xa,Z_OK:zb,Z_STREAM_END:Xb,
Z_NEED_DICT:tc,Z_STREAM_ERROR:gd,Z_DATA_ERROR:qc,Z_MEM_ERROR:rb}=Pa;c.prototype.push=function(ha,ob){const Ea=this.strm,Ib=this.options.chunkSize,Yb=this.options.dictionary;let kc,Nc;if(this.ended)return!1;kc=ob===~~ob?ob:!0===ob?Xa:xa;"[object ArrayBuffer]"===Ad.call(ha)?Ea.input=new Uint8Array(ha):Ea.input=ha;Ea.next_in=0;for(Ea.avail_in=Ea.input.length;;){0===Ea.avail_out&&(Ea.output=new Uint8Array(Ib),Ea.next_out=0,Ea.avail_out=Ib);ob=rc.inflate(Ea,kc);ob===tc&&Yb&&(ob=rc.inflateSetDictionary(Ea,
Yb),ob===zb?ob=rc.inflate(Ea,kc):ob===qc&&(ob=tc));for(;0<Ea.avail_in&&ob===Xb&&0<Ea.state.wrap&&0!==ha[Ea.next_in];)rc.inflateReset(Ea),ob=rc.inflate(Ea,kc);switch(ob){case gd:case qc:case tc:case rb:return this.onEnd(ob),this.ended=!0,!1}Nc=Ea.avail_out;if(Ea.next_out&&(0===Ea.avail_out||ob===Xb))if("string"===this.options.to){let Jc=Ic.utf8border(Ea.output,Ea.next_out),pd=Ea.next_out-Jc,qd=Ic.buf2string(Ea.output,Jc);Ea.next_out=pd;Ea.avail_out=Ib-pd;pd&&Ea.output.set(Ea.output.subarray(Jc,Jc+
pd),0);this.onData(qd)}else this.onData(Ea.output.length===Ea.next_out?Ea.output:Ea.output.subarray(0,Ea.next_out));if(ob!==zb||0!==Nc){if(ob===Xb){ob=rc.inflateEnd(this.strm);this.onEnd(ob);this.ended=!0;break}if(0===Ea.avail_in)break}}return!0};c.prototype.onData=function(ha){this.chunks.push(ha)};c.prototype.onEnd=function(ha){ha===zb&&(this.result="string"===this.options.to?this.chunks.join(""):Ub.flattenChunks(this.chunks));this.chunks=[];this.err=ha;this.msg=this.strm.msg};var Bb={Inflate:c,
inflate:e,inflateRaw:function(ha,ob){ob=ob||{};ob.raw=!0;return e(ha,ob)},ungzip:e,constants:Pa};const {Deflate:ic,deflate:Uc,deflateRaw:Rd,gzip:Md}=gf,{Inflate:Gd,inflate:Pd,inflateRaw:Me,ungzip:Se}=Bb;A.Deflate=ic;A.deflate=Uc;A.deflateRaw=Rd;A.gzip=Md;A.Inflate=Gd;A.inflate=Pd;A.inflateRaw=Me;A.ungzip=Se;A.constants=Pa;A.default={Deflate:ic,deflate:Uc,deflateRaw:Rd,gzip:Md,Inflate:Gd,inflate:Pd,inflateRaw:Me,ungzip:Se,constants:Pa}};
shadow$provide[229]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(A,"__esModule",{value:!0});const w=L(228);L=Ka(L(224));class k extends L.default{decodeBlock(p){return(0,w.inflate)(new Uint8Array(p)).buffer}}A.default=k};
shadow$provide[230]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));class w extends L.default{decodeBlock(k){const p=new DataView(k),q=[];for(let m=0;m<k.byteLength;++m){let f=p.getInt8(m);if(0>f){var t=p.getUint8(m+1);f=-f;for(let b=0;b<=f;++b)q.push(t);m+=1}else{for(t=0;t<=f;++t)q.push(p.getUint8(m+t+1));m+=f+1}}return(new Uint8Array(q)).buffer}}A.default=w};
shadow$provide[231]=function(Ka,L,sb,A){(function(){var w=function(){var t={defaultNoDataValue:-3.4027999387901484E38,decode:function(m,f){f=f||{};var b=f.inputOffset||0,c=f.encodedMaskData||null===f.encodedMaskData,e={},g=new Uint8Array(m,b,10);e.fileIdentifierString=String.fromCharCode.apply(null,g);if("CntZImage"!==e.fileIdentifierString.trim())throw"Unexpected file identifier string: "+e.fileIdentifierString;b+=10;g=new DataView(m,b,24);e.fileVersion=g.getInt32(0,!0);e.imageType=g.getInt32(4,
!0);e.height=g.getUint32(8,!0);e.width=g.getUint32(12,!0);e.maxZError=g.getFloat64(16,!0);b+=24;if(!c)if(g=new DataView(m,b,16),e.mask={},e.mask.numBlocksY=g.getUint32(0,!0),e.mask.numBlocksX=g.getUint32(4,!0),e.mask.numBytes=g.getUint32(8,!0),e.mask.maxValue=g.getFloat32(12,!0),b+=16,0<e.mask.numBytes){c=new Uint8Array(Math.ceil(e.width*e.height/8));g=new DataView(m,b,e.mask.numBytes);var n=g.getInt16(0,!0),h=2,x=0;do{if(0<n)for(;n--;)c[x++]=g.getUint8(h++);else{var O=g.getUint8(h++);for(n=-n;n--;)c[x++]=
O}n=g.getInt16(h,!0);h+=2}while(h<e.mask.numBytes);if(-32768!==n||x<c.length)throw"Unexpected end of mask RLE encoding";e.mask.bitset=c;b+=e.mask.numBytes}else 0===(e.mask.numBytes|e.mask.numBlocksY|e.mask.maxValue)&&(e.mask.bitset=new Uint8Array(Math.ceil(e.width*e.height/8)));g=new DataView(m,b,16);e.pixels={};e.pixels.numBlocksY=g.getUint32(0,!0);e.pixels.numBlocksX=g.getUint32(4,!0);e.pixels.numBytes=g.getUint32(8,!0);e.pixels.maxValue=g.getFloat32(12,!0);b+=16;c=e.pixels.numBlocksX;g=e.pixels.numBlocksY;
c+=0<e.width%c?1:0;n=g+(0<e.height%g?1:0);e.pixels.blocks=Array(c*n);for(x=h=0;x<n;x++)for(O=0;O<c;O++){var H=0;g=new DataView(m,b,Math.min(10,m.byteLength-b));var F={};e.pixels.blocks[h++]=F;var J=g.getUint8(0);H++;F.encoding=J&63;if(3<F.encoding)throw"Invalid block encoding ("+F.encoding+")";if(2===F.encoding)b++;else{if(0!==J&&2!==J){J>>=6;F.offsetType=J;if(2===J)F.offset=g.getInt8(1),H++;else if(1===J)F.offset=g.getInt16(1,!0),H+=2;else if(0===J)F.offset=g.getFloat32(1,!0),H+=4;else throw"Invalid block offset type";
if(1===F.encoding)if(J=g.getUint8(H),H++,F.bitsPerPixel=J&63,J>>=6,F.numValidPixelsType=J,2===J)F.numValidPixels=g.getUint8(H),H++;else if(1===J)F.numValidPixels=g.getUint16(H,!0),H+=2;else if(0===J)F.numValidPixels=g.getUint32(H,!0),H+=4;else throw"Invalid valid pixel count type";}b+=H;if(3!==F.encoding)if(0===F.encoding){J=(e.pixels.numBytes-1)/4;if(J!==Math.floor(J))throw"uncompressed block has invalid length";g=new ArrayBuffer(4*J);H=new Uint8Array(g);H.set(new Uint8Array(m,b,4*J));g=new Float32Array(g);
F.rawData=g;b+=4*J}else 1===F.encoding&&(J=Math.ceil(F.numValidPixels*F.bitsPerPixel/8),g=new ArrayBuffer(4*Math.ceil(J/4)),H=new Uint8Array(g),H.set(new Uint8Array(m,b,J)),F.stuffedData=new Uint32Array(g),b+=J)}}e.eofOffset=b;m=null!==f.noDataValue?f.noDataValue:t.defaultNoDataValue;c=f.encodedMaskData;J=f.returnMask;n=0;h=e.pixels.numBlocksX;x=e.pixels.numBlocksY;O=Math.floor(e.width/h);F=Math.floor(e.height/x);H=2*e.maxZError;b=Number.MAX_VALUE;var D;c=c||(e.mask?e.mask.bitset:null);var r;g=new (f.pixelType||
Float32Array)(e.width*e.height);J&&c&&(r=new Uint8Array(e.width*e.height));J=new Float32Array(O*F);for(var z,G,T=0;T<=x;T++){var R=T!==x?F:e.height%x;if(0!==R)for(var ca=0;ca<=h;ca++){var M=ca!==h?O:e.width%h;if(0!==M){var ba=T*e.width*F+ca*O,W=e.width-M,ea=e.pixels.blocks[n];if(2>ea.encoding){if(0===ea.encoding)var La=ea.rawData;else{La=void 0;z=ea.stuffedData;G=ea.bitsPerPixel;var aa=ea.numValidPixels,C=ea.offset,B=H,N=J,Y=e.pixels.maxValue,Aa=(1<<G)-1,sa=0,la=0,Ia=Math.ceil((Y-C)/B);z[z.length-
1]<<=8*(4*z.length-Math.ceil(G*aa/8));for(D=0;D<aa;D++){0===la&&(La=z[sa++],la=32);if(la>=G){var bb=La>>>la-G&Aa;la-=G}else la=G-la,bb=(La&Aa)<<la&Aa,La=z[sa++],la=32-la,bb+=La>>>la;N[D]=bb<Ia?C+bb*B:Y}La=J}bb=0}else var ib=2===ea.encoding?0:ea.offset;if(c)for(G=0;G<R;G++){if(ba&7){var Ja=c[ba>>3];Ja<<=ba&7}for(z=0;z<M;z++)ba&7||(Ja=c[ba>>3]),Ja&128?(r&&(r[ba]=1),D=2>ea.encoding?La[bb++]:ib,b=b>D?D:b,g[ba++]=D):(r&&(r[ba]=0),g[ba++]=m),Ja<<=1;ba+=W}else if(2>ea.encoding)for(G=0;G<R;G++){for(z=0;z<
M;z++)D=La[bb++],b=b>D?D:b,g[ba++]=D;ba+=W}else for(b=b>ib?ib:b,G=0;G<R;G++){for(z=0;z<M;z++)g[ba++]=ib;ba+=W}if(1===ea.encoding&&bb!==ea.numValidPixels)throw"Block and Mask do not match";n++}}}ib=r;r={width:e.width,height:e.height,pixelData:g,minValue:b,maxValue:e.pixels.maxValue,noDataValue:m};ib&&(r.maskData=ib);f.returnEncodedMask&&e.mask&&(r.encodedMaskData=e.mask.bitset?e.mask.bitset:null);if(f.returnFileInfo&&(r.fileInfo={fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,
imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}},f.computeUsedBitDepths)){f=r.fileInfo;ib=e.pixels.numBlocksX*e.pixels.numBlocksY;Ja={};for(La=0;La<ib;La++)bb=e.pixels.blocks[La],
0===bb.encoding?Ja.float32=!0:1===bb.encoding?Ja[bb.bitsPerPixel]=!0:Ja[0]=!0;e=Object.keys(Ja);f.bitDepths=e}return r}};return t}(),k=function(){var t={unstuff:function(b,c,e,g,n,h,x,O){var H=(1<<e)-1,F=0,J,D=0;b[b.length-1]<<=8*(4*b.length-Math.ceil(e*g/8));if(n)for(J=0;J<g;J++){if(0===D){var r=b[F++];D=32}if(D>=e){var z=r>>>D-e&H;D-=e}else D=e-D,z=(r&H)<<D&H,r=b[F++],D=32-D,z+=r>>>D;c[J]=n[z]}else for(n=Math.ceil((O-h)/x),J=0;J<g;J++)0===D&&(r=b[F++],D=32),D>=e?(z=r>>>D-e&H,D-=e):(D=e-D,z=(r&H)<<
D&H,r=b[F++],D=32-D,z+=r>>>D),c[J]=z<n?h+z*x:O},unstuffLUT:function(b,c,e,g,n,h){var x=(1<<c)-1,O=0,H;var F=0;var J=[];b[b.length-1]<<=8*(4*b.length-Math.ceil(c*e/8));var D=Math.ceil((h-g)/n);for(H=0;H<e;H++){if(0===F){var r=b[O++];F=32}if(F>=c){var z=r>>>F-c&x;F-=c}else F=c-F,z=(r&x)<<F&x,r=b[O++],F=32-F,z+=r>>>F;J[H]=z<D?g+z*n:h}J.unshift(g);return J},unstuff2:function(b,c,e,g,n,h,x,O){var H=(1<<e)-1,F=0,J,D=0,r=0;if(n)for(J=0;J<g;J++){if(0===D){var z=b[F++];D=32;r=0}if(D>=e){var G=z>>>r&H;D-=e;
r+=e}else{var T=e-D;G=z>>>r&H;z=b[F++];D=32-T;G|=(z&(1<<T)-1)<<e-T;r=T}c[J]=n[G]}else for(n=Math.ceil((O-h)/x),J=0;J<g;J++)0===D&&(z=b[F++],D=32,r=0),D>=e?(G=z>>>r&H,D-=e,r+=e):(T=e-D,G=z>>>r&H,z=b[F++],D=32-T,G|=(z&(1<<T)-1)<<e-T,r=T),c[J]=G<n?h+G*x:O;return c},unstuffLUT2:function(b,c,e,g,n,h){var x=(1<<c)-1,O=0,H,F=0,J=0,D=[],r=Math.ceil((h-g)/n);for(H=0;H<e;H++){if(0===F){var z=b[O++];F=32;J=0}if(F>=c){var G=z>>>J&x;F-=c;J+=c}else{var T=c-F;G=z>>>J&x;z=b[O++];F=32-T;G|=(z&(1<<T)-1)<<c-T;J=T}D[H]=
G<r?g+G*n:h}D.unshift(g);return D},originalUnstuff:function(b,c,e,g){var n=(1<<e)-1,h=0,x,O=0;b[b.length-1]<<=8*(4*b.length-Math.ceil(e*g/8));for(x=0;x<g;x++){if(0===O){var H=b[h++];O=32}if(O>=e){var F=H>>>O-e&n;O-=e}else O=e-O,F=(H&n)<<O&n,H=b[h++],O=32-O,F+=H>>>O;c[x]=F}return c},originalUnstuff2:function(b,c,e,g){var n=(1<<e)-1,h=0,x,O=0,H=0;for(x=0;x<g;x++){if(0===O){var F=b[h++];O=32;H=0}if(O>=e){var J=F>>>H&n;O-=e;H+=e}else{var D=e-O;J=F>>>H&n;F=b[h++];O=32-D;J|=(F&(1<<D)-1)<<e-D;H=D}c[x]=J}return c}},
m={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(b){for(var c=65535,e=65535,g=b.length,n=Math.floor(g/2),h=0;n;){var x=359<=n?359:n;n-=x;do c+=b[h++]<<8,e+=c+=b[h++];while(--x);c=(c&65535)+(c>>>16);e=(e&65535)+(e>>>16)}g&1&&(e+=c+=b[h]<<8);return((e&65535)+(e>>>16)<<16|(c&65535)+(c>>>16))>>>0},readHeaderInfo:function(b,c){var e=c.ptr,g=new Uint8Array(b,e,6),n={};n.fileIdentifierString=String.fromCharCode.apply(null,g);if(0!==n.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+
n.fileIdentifierString;e+=6;g=new DataView(b,e,8);var h=g.getInt32(0,!0);n.fileVersion=h;e+=4;3<=h&&(n.checksum=g.getUint32(4,!0),e+=4);g=new DataView(b,e,12);n.height=g.getUint32(0,!0);n.width=g.getUint32(4,!0);e+=8;4<=h?(n.numDims=g.getUint32(8,!0),e+=4):n.numDims=1;g=new DataView(b,e,40);n.numValidPixel=g.getUint32(0,!0);n.microBlockSize=g.getInt32(4,!0);n.blobSize=g.getInt32(8,!0);n.imageType=g.getInt32(12,!0);n.maxZError=g.getFloat64(16,!0);n.zMin=g.getFloat64(24,!0);n.zMax=g.getFloat64(32,!0);
e+=40;c.headerInfo=n;c.ptr=e;if(3<=h&&(b=this.computeChecksumFletcher32(new Uint8Array(b,e-(4<=h?52:48),n.blobSize-14)),b!==n.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(b,c){var e=c.headerInfo,g=this.getDataTypeArray(e.imageType),n=e.numDims*this.getDataTypeSize(e.imageType),h=this.readSubArray(b,c.ptr,g,n);b=this.readSubArray(b,c.ptr+n,g,n);c.ptr+=2*n;n=!0;for(c=0;c<e.numDims;c++)if(h[c]!==b[c]){n=!1;break}e.minValues=h;e.maxValues=b;return n},readSubArray:function(b,
c,e,g){if(e===Uint8Array)b=new Uint8Array(b,c,g);else{var n=new ArrayBuffer(g);(new Uint8Array(n)).set(new Uint8Array(b,c,g));b=new e(n)}return b},readMask:function(b,c){var e=c.ptr,g=c.headerInfo,n=g.width*g.height,h=g.numValidPixel,x=new DataView(b,e,4);g={};g.numBytes=x.getUint32(0,!0);e+=4;if((0===h||n===h)&&0!==g.numBytes)throw"invalid mask";if(0===h)h=new Uint8Array(Math.ceil(n/8)),g.bitset=h,x=new Uint8Array(n),c.pixels.resultMask=x,e+=g.numBytes;else if(0<g.numBytes){h=new Uint8Array(Math.ceil(n/
8));x=new DataView(b,e,g.numBytes);b=x.getInt16(0,!0);var O=2,H=0;do{if(0<b)for(;b--;)h[H++]=x.getUint8(O++);else{var F=x.getUint8(O++);for(b=-b;b--;)h[H++]=F}b=x.getInt16(O,!0);O+=2}while(O<g.numBytes);if(-32768!==b||H<h.length)throw"Unexpected end of mask RLE encoding";x=new Uint8Array(n);for(O=0;O<n;O++)O&7?(b=h[O>>3],b<<=O&7):b=h[O>>3],b&128&&(x[O]=1);c.pixels.resultMask=x;g.bitset=h;e+=g.numBytes}c.ptr=e;c.mask=g;return!0},readDataOneSweep:function(b,c,e,g){var n=c.ptr,h=c.headerInfo,x=h.numDims,
O=h.width*h.height;h=h.numValidPixel*m.getDataTypeSize(h.imageType)*x;var H=c.pixels.resultMask;if(e===Uint8Array)b=new Uint8Array(b,n,h);else{var F=new ArrayBuffer(h);(new Uint8Array(F)).set(new Uint8Array(b,n,h));b=new e(F)}if(b.length===O*x)c.pixels.resultPixels=g?m.swapDimensionOrder(b,O,x,e,!0):b;else if(c.pixels.resultPixels=new e(O*x),e=0,1<x)if(g)for(g=0;g<O;g++){if(H[g]){var J=g;for(F=0;F<x;F++,J+=O)c.pixels.resultPixels[J]=b[e++]}}else for(g=0;g<O;g++){if(H[g])for(J=g*x,F=0;F<x;F++)c.pixels.resultPixels[J+
F]=b[e++]}else for(g=0;g<O;g++)H[g]&&(c.pixels.resultPixels[g]=b[e++]);c.ptr=n+h;return!0},readHuffmanTree:function(b,c){var e=this.HUFFMAN_LUT_BITS_MAX,g=new DataView(b,c.ptr,16);c.ptr+=16;if(2>g.getInt32(0,!0))throw"unsupported Huffman version";var n=g.getInt32(4,!0),h=g.getInt32(8,!0);g=g.getInt32(12,!0);if(h>=g)return!1;var x=new Uint32Array(g-h);m.decodeBits(b,c,x);var O=[],H;for(H=h;H<g;H++){var F=H-(H<n?0:n);O[F]={first:x[H-h],second:null}}H=b.byteLength-c.ptr;x=new ArrayBuffer(4*Math.ceil(H/
4));(new Uint8Array(x)).set(new Uint8Array(b,c.ptr,H));b=new Uint32Array(x);c=0;x=0;var J=b[0];for(H=h;H<g;H++){F=H-(H<n?0:n);var D=O[F].first;0<D&&(O[F].second=J<<c>>>32-D,32-c>=D?(c+=D,32===c&&(c=0,x++,J=b[x])):(c+=D-32,x++,J=b[x],O[F].second|=J>>>32-c))}J=0;var r=new f;for(H=0;H<O.length;H++)void 0!==O[H]&&(J=Math.max(J,O[H].first));e=J>=e?e:J;var z=[],G;for(H=h;H<g;H++)if(F=H-(H<n?0:n),D=O[F].first,0<D)if(h=[D,F],D<=e){F=O[F].second<<e-D;var T=1<<e-D;for(D=0;D<T;D++)z[F|D]=h}else for(F=O[F].second,
T=r,--D;0<=D;D--)(G=F>>>D&1)?(T.right||(T.right=new f),T=T.right):(T.left||(T.left=new f),T=T.left),0!==D||T.val||(T.val=h[1]);return{decodeLut:z,numBitsLUTQick:e,numBitsLUT:J,tree:r,stuffedData:b,srcPtr:x,bitPos:c}},readHuffman:function(b,c,e,g){var n=c.headerInfo.numDims,h=c.headerInfo.height,x=c.headerInfo.width,O=x*h,H=this.readHuffmanTree(b,c);b=H.decodeLut;var F=H.tree,J=H.stuffedData,D=H.srcPtr,r=H.bitPos,z=H.numBitsLUTQick;H=H.numBitsLUT;var G=0===c.headerInfo.imageType?128:0,T=c.pixels.resultMask,
R,ca,M,ba,W,ea,La=0;0<r&&(D++,r=0);var aa=J[D],C=1===c.encodeMode,B=new e(O*n),N=B,Y;if(2>n||C)for(Y=0;Y<n;Y++)if(1<n&&(N=new e(B.buffer,O*Y,O),La=0),c.headerInfo.numValidPixel===x*h)for(M=W=0;M<h;M++)for(ba=0;ba<x;ba++,W++){var Aa=0;var sa=R=aa<<r>>>32-z;32-r<z&&(sa=R|=J[D+1]>>>64-r-z);if(b[sa])Aa=b[sa][1],r+=b[sa][0];else for(R=aa<<r>>>32-H,32-r<H&&(R|=J[D+1]>>>64-r-H),sa=F,ea=0;ea<H;ea++)if(sa=(ca=R>>>H-ea-1&1)?sa.right:sa.left,!sa.left&&!sa.right){Aa=sa.val;r=r+ea+1;break}32<=r&&(r-=32,D++,aa=
J[D]);Aa-=G;C?(Aa=0<ba?Aa+La:0<M?Aa+N[W-x]:Aa+La,Aa&=255,La=N[W]=Aa):N[W]=Aa}else for(M=W=0;M<h;M++)for(ba=0;ba<x;ba++,W++){if(T[W]){Aa=0;sa=R=aa<<r>>>32-z;32-r<z&&(sa=R|=J[D+1]>>>64-r-z);if(b[sa])Aa=b[sa][1],r+=b[sa][0];else for(R=aa<<r>>>32-H,32-r<H&&(R|=J[D+1]>>>64-r-H),sa=F,ea=0;ea<H;ea++)if(sa=(ca=R>>>H-ea-1&1)?sa.right:sa.left,!sa.left&&!sa.right){Aa=sa.val;r=r+ea+1;break}32<=r&&(r-=32,D++,aa=J[D]);Aa-=G;C?(Aa=0<ba&&T[W-1]?Aa+La:0<M&&T[W-x]?Aa+N[W-x]:Aa+La,Aa&=255,La=N[W]=Aa):N[W]=Aa}}else for(M=
0;M<h;M++)for(ba=0;ba<x;ba++)if(W=M*x+ba,!T||T[W])for(Y=0;Y<n;Y++,W+=O){Aa=0;sa=R=aa<<r>>>32-z;32-r<z&&(sa=R|=J[D+1]>>>64-r-z);if(b[sa])Aa=b[sa][1],r+=b[sa][0];else for(R=aa<<r>>>32-H,32-r<H&&(R|=J[D+1]>>>64-r-H),sa=F,ea=0;ea<H;ea++)if(sa=(ca=R>>>H-ea-1&1)?sa.right:sa.left,!sa.left&&!sa.right){Aa=sa.val;r=r+ea+1;break}32<=r&&(r-=32,D++,aa=J[D]);Aa-=G;N[W]=Aa}c.ptr=c.ptr+4*(D+1)+(0<r?4:0);c.pixels.resultPixels=B;1<n&&!g&&(c.pixels.resultPixels=m.swapDimensionOrder(B,O,n,e))},decodeBits:function(b,
c,e,g,n){var h=c.headerInfo,x=h.fileVersion,O=0,H=new DataView(b,c.ptr,5<=b.byteLength-c.ptr?5:b.byteLength-c.ptr),F=H.getUint8(0);O++;var J=F>>6;J=0===J?4:3-J;var D=0<(F&32)?!0:!1;F&=31;if(1===J)J=H.getUint8(O),O++;else if(2===J)J=H.getUint16(O,!0),O+=2;else if(4===J)J=H.getUint32(O,!0),O+=4;else throw"Invalid valid pixel count type";var r=2*h.maxZError;n=1<h.numDims?h.maxValues[n]:h.zMax;if(D){c.counter.lut++;D=H.getUint8(O);O++;h=Math.ceil((D-1)*F/8);var z=Math.ceil(h/4);z=new ArrayBuffer(4*z);
var G=new Uint8Array(z);c.ptr+=O;G.set(new Uint8Array(b,c.ptr,h));O=new Uint32Array(z);c.ptr+=h;for(H=0;D-1>>>H;)H++;h=Math.ceil(J*H/8);z=Math.ceil(h/4);z=new ArrayBuffer(4*z);G=new Uint8Array(z);G.set(new Uint8Array(b,c.ptr,h));b=new Uint32Array(z);c.ptr+=h;c=3<=x?t.unstuffLUT2(O,F,D-1,g,r,n):t.unstuffLUT(O,F,D-1,g,r,n);3<=x?t.unstuff2(b,e,H,J,c):t.unstuff(b,e,H,J,c)}else c.counter.bitstuffer++,H=F,c.ptr+=O,0<H&&(h=Math.ceil(J*H/8),z=Math.ceil(h/4),z=new ArrayBuffer(4*z),G=new Uint8Array(z),G.set(new Uint8Array(b,
c.ptr,h)),b=new Uint32Array(z),c.ptr+=h,3<=x?null==g?t.originalUnstuff2(b,e,H,J):t.unstuff2(b,e,H,J,!1,g,r,n):null==g?t.originalUnstuff(b,e,H,J):t.unstuff(b,e,H,J,!1,g,r,n))},readTiles:function(b,c,e,g){var n=c.headerInfo,h=n.width,x=n.height,O=h*x,H=n.microBlockSize,F=n.imageType,J=m.getDataTypeSize(F),D=Math.ceil(h/H),r=Math.ceil(x/H);c.pixels.numBlocksY=r;c.pixels.numBlocksX=D;c.pixels.ptr=0;var z,G=new e(H*H),T=x%H||H,R=h%H||H,ca=n.numDims,M,ba=c.pixels.resultMask,W=c.pixels.resultPixels,ea=5<=
n.fileVersion?14:15,La=n.zMax;for(x=0;x<r;x++){var aa=x!==r-1?H:T;for(z=0;z<D;z++){var C=z!==D-1?H:R;var B=x*h*H+z*H;var N=h-C;for(M=0;M<ca;M++){if(1<ca){var Y=W;B=x*h*H+z*H;W=new e(c.pixels.resultPixels.buffer,O*M*J,O);La=n.maxValues[M]}else Y=null;var Aa=b.byteLength-c.ptr;var sa=new DataView(b,c.ptr,Math.min(10,Aa));var la={};Aa=0;var Ia=sa.getUint8(0);Aa++;var bb=5<=n.fileVersion?Ia&4:0;var ib=Ia>>6&255;var Ja=Ia>>2&ea;if(Ja!==(z*H>>3&ea))throw"integrity issue";if(bb&&0===M)throw"integrity issue";
Ia&=3;if(3<Ia)throw c.ptr+=Aa,"Invalid block encoding ("+Ia+")";if(2===Ia){if(bb)if(ba)for(sa=0;sa<aa;sa++)for(la=0;la<C;la++)ba[B]&&(W[B]=Y[B]),B++;else for(sa=0;sa<aa;sa++)for(la=0;la<C;la++)W[B]=Y[B],B++;c.counter.constant++;c.ptr+=Aa}else if(0===Ia){if(bb)throw"integrity issue";c.counter.uncompressed++;c.ptr+=Aa;Y=aa*C*J;Aa=b.byteLength-c.ptr;Y=Y<Aa?Y:Aa;Aa=new ArrayBuffer(0===Y%J?Y:Y+J-Y%J);bb=new Uint8Array(Aa);bb.set(new Uint8Array(b,c.ptr,Y));Aa=new e(Aa);Y=0;if(ba)for(sa=0;sa<aa;sa++){for(la=
0;la<C;la++)ba[B]&&(W[B]=Aa[Y++]),B++;B+=N}else for(sa=0;sa<aa;sa++){for(la=0;la<C;la++)W[B++]=Aa[Y++];B+=N}c.ptr+=Y*J}else if(ib=m.getDataTypeUsed(bb&&6>F?4:F,ib),Ja=m.getOnePixel(la,Aa,ib,sa),Aa+=m.getDataTypeSize(ib),3===Ia)if(c.ptr+=Aa,c.counter.constantoffset++,ba)for(sa=0;sa<aa;sa++){for(la=0;la<C;la++)ba[B]&&(W[B]=bb?Math.min(La,Y[B]+Ja):Ja),B++;B+=N}else for(sa=0;sa<aa;sa++){for(la=0;la<C;la++)W[B]=bb?Math.min(La,Y[B]+Ja):Ja,B++;B+=N}else if(c.ptr+=Aa,m.decodeBits(b,c,G,Ja,M),Aa=0,bb)if(ba)for(sa=
0;sa<aa;sa++){for(la=0;la<C;la++)ba[B]&&(W[B]=G[Aa++]+Y[B]),B++;B+=N}else for(sa=0;sa<aa;sa++){for(la=0;la<C;la++)W[B]=G[Aa++]+Y[B],B++;B+=N}else if(ba)for(sa=0;sa<aa;sa++){for(la=0;la<C;la++)ba[B]&&(W[B]=G[Aa++]),B++;B+=N}else for(sa=0;sa<aa;sa++){for(la=0;la<C;la++)W[B++]=G[Aa++];B+=N}}}}1<ca&&!g&&(c.pixels.resultPixels=m.swapDimensionOrder(c.pixels.resultPixels,O,ca,e))},formatFileInfo:function(b){return{fileIdentifierString:b.headerInfo.fileIdentifierString,fileVersion:b.headerInfo.fileVersion,
imageType:b.headerInfo.imageType,height:b.headerInfo.height,width:b.headerInfo.width,numValidPixel:b.headerInfo.numValidPixel,microBlockSize:b.headerInfo.microBlockSize,blobSize:b.headerInfo.blobSize,maxZError:b.headerInfo.maxZError,pixelType:m.getPixelType(b.headerInfo.imageType),eofOffset:b.eofOffset,mask:b.mask?{numBytes:b.mask.numBytes}:null,pixels:{numBlocksX:b.pixels.numBlocksX,numBlocksY:b.pixels.numBlocksY,maxValue:b.headerInfo.zMax,minValue:b.headerInfo.zMin,noDataValue:b.noDataValue}}},
constructConstantSurface:function(b,c){var e=b.headerInfo.zMax,g=b.headerInfo.zMin,n=b.headerInfo.maxValues,h=b.headerInfo.numDims,x=b.headerInfo.height*b.headerInfo.width,O=b.pixels.resultMask;b=b.pixels.resultPixels;if(O)if(1<h)if(c)for(c=0;c<h;c++){var H=c*x;e=n[c];for(g=0;g<x;g++)O[g]&&(b[H+g]=e)}else for(g=0;g<x;g++){if(O[g])for(H=g*h,c=0;c<h;c++)b[H+h]=n[c]}else for(g=0;g<x;g++)O[g]&&(b[g]=e);else if(1<h&&g!==e)if(c)for(c=0;c<h;c++)for(H=c*x,e=n[c],g=0;g<x;g++)b[H+g]=e;else for(g=0;g<x;g++)for(H=
g*h,c=0;c<h;c++)b[H+c]=n[c];else for(g=0;g<x*h;g++)b[g]=e},getDataTypeArray:function(b){switch(b){case 0:b=Int8Array;break;case 1:b=Uint8Array;break;case 2:b=Int16Array;break;case 3:b=Uint16Array;break;case 4:b=Int32Array;break;case 5:b=Uint32Array;break;case 6:b=Float32Array;break;case 7:b=Float64Array;break;default:b=Float32Array}return b},getPixelType:function(b){switch(b){case 0:b="S8";break;case 1:b="U8";break;case 2:b="S16";break;case 3:b="U16";break;case 4:b="S32";break;case 5:b="U32";break;
case 6:b="F32";break;case 7:b="F64";break;default:b="F32"}return b},isValidPixelValue:function(b,c){if(null==c)return!1;switch(b){case 0:b=-128<=c&&127>=c;break;case 1:b=0<=c&&255>=c;break;case 2:b=-32768<=c&&32767>=c;break;case 3:b=0<=c&&65536>=c;break;case 4:b=-2147483648<=c&&2147483647>=c;break;case 5:b=0<=c&&4294967296>=c;break;case 6:b=-3.4027999387901484E38<=c&&3.4027999387901484E38>=c;break;case 7:b=-1.7976931348623157E308<=c&&1.7976931348623157E308>=c;break;default:b=!1}return b},getDataTypeSize:function(b){switch(b){case 0:case 1:b=
1;break;case 2:case 3:b=2;break;case 4:case 5:case 6:b=4;break;case 7:b=8}return b},getDataTypeUsed:function(b,c){switch(b){case 2:case 4:b-=c;break;case 3:case 5:b-=2*c;break;case 6:b=0===c?b:1===c?2:1;break;case 7:b=0===c?b:b-2*c+1}return b},getOnePixel:function(b,c,e,g){switch(e){case 0:b=g.getInt8(c);break;case 1:b=g.getUint8(c);break;case 2:b=g.getInt16(c,!0);break;case 3:b=g.getUint16(c,!0);break;case 4:b=g.getInt32(c,!0);break;case 5:b=g.getUInt32(c,!0);break;case 6:b=g.getFloat32(c,!0);break;
case 7:b=g.getFloat64(c,!0);break;default:throw"the decoder does not understand this pixel type";}return b},swapDimensionOrder:function(b,c,e,g,n){var h=0,x=b;if(1<e)if(x=new g(c*e),n)for(g=0;g<c;g++){var O=g;for(n=0;n<e;n++,O+=c)x[O]=b[h++]}else for(g=0;g<c;g++)for(O=g,n=0;n<e;n++,O+=c)x[h++]=b[O];return x}},f=function(b,c,e){this.val=b;this.left=c;this.right=e};return{decode:function(b,c){c=c||{};var e=c.noDataValue,g={};g.ptr=c.inputOffset||0;g.pixels={};if(m.readHeaderInfo(b,g)){var n=g.headerInfo;
var h=n.fileVersion,x=m.getDataTypeArray(n.imageType);if(5<h)throw"unsupported lerc version 2."+h;m.readMask(b,g);n.numValidPixel===n.width*n.height||g.pixels.resultMask||(g.pixels.resultMask=c.maskData);var O=n.width*n.height;g.pixels.resultPixels=new x(O*n.numDims);g.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var H=!c.returnPixelInterleavedDims;if(0!==n.numValidPixel)if(n.zMax===n.zMin)m.constructConstantSurface(g,H);else if(4<=h&&m.checkMinMaxRanges(b,g))m.constructConstantSurface(g,
H);else{var F=new DataView(b,g.ptr,2),J=F.getUint8(0);g.ptr++;if(J)m.readDataOneSweep(b,g,x,H);else if(1<h&&1>=n.imageType&&1E-5>Math.abs(n.maxZError-.5)){F=F.getUint8(1);g.ptr++;g.encodeMode=F;if(2<F||4>h&&1<F)throw"Invalid Huffman flag "+F;F?m.readHuffman(b,g,x,H):m.readTiles(b,g,x,H)}else m.readTiles(b,g,x,H)}g.eofOffset=g.ptr;c.inputOffset?(b=g.headerInfo.blobSize+c.inputOffset-g.ptr,1<=Math.abs(b)&&(g.eofOffset=c.inputOffset+g.headerInfo.blobSize)):(b=g.headerInfo.blobSize-g.ptr,1<=Math.abs(b)&&
(g.eofOffset=g.headerInfo.blobSize));b={width:n.width,height:n.height,pixelData:g.pixels.resultPixels,minValue:n.zMin,maxValue:n.zMax,validPixelCount:n.numValidPixel,dimCount:n.numDims,dimStats:{minValues:n.minValues,maxValues:n.maxValues},maskData:g.pixels.resultMask};if(g.pixels.resultMask&&m.isValidPixelValue(n.imageType,e)){h=g.pixels.resultMask;for(n=0;n<O;n++)h[n]||(b.pixelData[n]=e);b.noDataValue=e}g.noDataValue=e;c.returnFileInfo&&(b.fileInfo=m.formatFileInfo(g));return b}},getBandCount:function(b){for(var c=
0,e=0,g={ptr:0,pixels:{}};e<b.byteLength-58;)m.readHeaderInfo(b,g),e+=g.headerInfo.blobSize,c++,g.ptr=e;return c}}}(),p=function(){var t=new ArrayBuffer(4),m=new Uint8Array(t);(new Uint32Array(t))[0]=1;return 1===m[0]}(),q={decode:function(t,m){if(!p)throw"Big endian system is not supported.";m=m||{};var f=m.inputOffset||0,b=new Uint8Array(t,f,10);b=String.fromCharCode.apply(null,b);if("CntZImage"===b.trim()){var c=w;var e=1}else if("Lerc2"===b.substring(0,5))c=k,e=2;else throw"Unexpected file identifier string: "+
b;var g=0,n=t.byteLength-10;b=[];for(var h,x={width:0,height:0,pixels:[],pixelType:m.pixelType,mask:null,statistics:[]},O=0;f<n;){var H=c.decode(t,{inputOffset:f,encodedMaskData:F,maskData:h,returnMask:0===g?!0:!1,returnEncodedMask:0===g?!0:!1,returnFileInfo:!0,returnPixelInterleavedDims:m.returnPixelInterleavedDims,pixelType:m.pixelType||null,noDataValue:m.noDataValue||null});f=H.fileInfo.eofOffset;h=H.maskData;if(0===g){var F=H.encodedMaskData;x.width=H.width;x.height=H.height;x.dimCount=H.dimCount||
1;x.pixelType=H.pixelType||H.fileInfo.pixelType;x.mask=h}1<e&&(h&&b.push(h),H.fileInfo.mask&&0<H.fileInfo.mask.numBytes&&O++);g++;x.pixels.push(H.pixelData);x.statistics.push({minValue:H.minValue,maxValue:H.maxValue,noDataValue:H.noDataValue,dimStats:H.dimStats})}if(1<e&&1<O){F=x.width*x.height;x.bandMasks=b;h=new Uint8Array(F);h.set(b[0]);for(m=1;m<b.length;m++)for(t=b[m],f=0;f<F;f++)h[f]&=t[f];x.maskData=h}return x}};"function"===typeof define&&define.amd?define([],function(){return q}):"undefined"!==
typeof sb&&sb.exports?sb.exports=q:this.Lerc=q})()};
shadow$provide[232]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(A,"__esModule",{value:!0});const w=L(228),k=Ka(L(231));Ka=Ka(L(224));const p=L(221);class q extends Ka.default{constructor(t){super();this.planarConfiguration="undefined"!==typeof t.PlanarConfiguration?t.PlanarConfiguration:1;this.samplesPerPixel="undefined"!==typeof t.SamplesPerPixel?t.SamplesPerPixel:1;this.addCompression=t.LercParameters[p.LercParameters.AddCompression]}decodeBlock(t){switch(this.addCompression){case p.LercAddCompression.None:break;
case p.LercAddCompression.Deflate:t=(0,w.inflate)(new Uint8Array(t)).buffer;break;default:throw Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`);}return k.default.decode(t,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}A.default=q};
shadow$provide[233]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));class w extends L.default{constructor(){super();if("undefined"===typeof createImageBitmap)throw Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"===typeof document&&"undefined"===typeof OffscreenCanvas)throw Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");
}decode(k,p){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var q=new Blob([p]);q=yield createImageBitmap(q);if("undefined"!==typeof document){var t=document.createElement("canvas");t.width=q.width;t.height=q.height}else t=new OffscreenCanvas(q.width,q.height);t=t.getContext("2d");t.drawImage(q,0,0);return t.getImageData(0,0,q.width,q.height).data.buffer})}}A.default=w};
shadow$provide[234]=function(Ka,L,sb,A){function w(m,f){Array.isArray(m)||(m=[m]);m.forEach(b=>t.set(b,f))}var k=this&&this.__createBinding||(Object.create?function(m,f,b,c){void 0===c&&(c=b);Object.defineProperty(m,c,{enumerable:!0,get:function(){return f[b]}})}:function(m,f,b,c){void 0===c&&(c=b);m[c]=f[b]}),p=this&&this.__setModuleDefault||(Object.create?function(m,f){Object.defineProperty(m,"default",{enumerable:!0,value:f})}:function(m,f){m["default"]=f}),q=this&&this.__importStar||function(m){if(m&&
m.__esModule)return m;var f={};if(null!=m)for(var b in m)"default"!==b&&Object.prototype.hasOwnProperty.call(m,b)&&k(f,m,b);p(f,m);return f};Object.defineProperty(A,"__esModule",{value:!0});A.getDecoder=A.addDecoder=void 0;const t=new Map;A.addDecoder=w;A.getDecoder=function(m){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const f=t.get(m.Compression);if(!f)throw Error(`Unknown compression method identifier: ${m.Compression}`);return new (yield f())(m)})};w([void 0,1],()=>Promise.resolve().then(()=>
q(L(225))).then(m=>m.default));w(5,()=>Promise.resolve().then(()=>q(L(226))).then(m=>m.default));w(6,()=>{throw Error("old style JPEG compression is not supported.");});w(7,()=>Promise.resolve().then(()=>q(L(227))).then(m=>m.default));w([8,32946],()=>Promise.resolve().then(()=>q(L(229))).then(m=>m.default));w(32773,()=>Promise.resolve().then(()=>q(L(230))).then(m=>m.default));w(34887,()=>Promise.resolve().then(()=>q(L(232))).then(m=>m.default));w(50001,()=>Promise.resolve().then(()=>q(L(233))).then(m=>
m.default))};
shadow$provide[235]=function(Ka,L,sb,A){function w(m,f,b,c=1){return new (Object.getPrototypeOf(m).constructor)(f*b*c)}function k(m,f,b,c,e){const g=f/c,n=b/e;return m.map(h=>{const x=w(h,c,e);for(let O=0;O<e;++O){const H=Math.min(Math.round(n*O),b-1);for(let F=0;F<c;++F)x[O*c+F]=h[H*f+Math.min(Math.round(g*F),f-1)]}return x})}function p(m,f,b,c,e){const g=f/c,n=b/e;return m.map(h=>{const x=w(h,c,e);for(let H=0;H<e;++H){const F=n*H,J=Math.floor(F),D=Math.min(Math.ceil(F),b-1);for(let r=0;r<c;++r){var O=
g*r;const z=O%1,G=Math.floor(O),T=Math.min(Math.ceil(O),f-1);O=F%1;x[H*c+r]=(1-O)*((1-z)*h[J*f+G]+z*h[J*f+T])+O*((1-z)*h[D*f+G]+z*h[D*f+T])}}return x})}function q(m,f,b,c,e,g){const n=f/c,h=b/e,x=w(m,c,e,g);for(let O=0;O<e;++O){const H=Math.min(Math.round(h*O),b-1);for(let F=0;F<c;++F){const J=Math.min(Math.round(n*F),f-1);for(let D=0;D<g;++D)x[O*c*g+F*g+D]=m[H*f*g+J*g+D]}}return x}function t(m,f,b,c,e,g){const n=f/c,h=b/e,x=w(m,c,e,g);for(let H=0;H<e;++H){const F=h*H,J=Math.floor(F),D=Math.min(Math.ceil(F),
b-1);for(let r=0;r<c;++r){var O=n*r;const z=O%1,G=Math.floor(O),T=Math.min(Math.ceil(O),f-1);for(let R=0;R<g;++R)O=F%1,x[H*c*g+r*g+R]=(1-O)*((1-z)*m[J*f*g+G*g+R]+z*m[J*f*g+T*g+R])+O*((1-z)*m[D*f*g+G*g+R]+z*m[D*f*g+T*g+R])}}return x}Object.defineProperty(A,"__esModule",{value:!0});A.resampleInterleaved=A.resampleBilinearInterleaved=A.resampleNearestInterleaved=A.resample=A.resampleBilinear=A.resampleNearest=void 0;A.resampleNearest=k;A.resampleBilinear=p;A.resample=function(m,f,b,c,e,g="nearest"){switch(g.toLowerCase()){case "nearest":return k(m,
f,b,c,e);case "bilinear":case "linear":return p(m,f,b,c,e);default:throw Error(`Unsupported resampling method: '${g}'`);}};A.resampleNearestInterleaved=q;A.resampleBilinearInterleaved=t;A.resampleInterleaved=function(m,f,b,c,e,g,n="nearest"){switch(n.toLowerCase()){case "nearest":return q(m,f,b,c,e,g);case "bilinear":case "linear":return t(m,f,b,c,e,g);default:throw Error(`Unsupported resampling method: '${n}'`);}}};
shadow$provide[236]=function(Ka,L,sb,A){function w(g,n,h){let x=0;for(;n<h;++n)x+=g[n];return x}function k(g,n,h){switch(g){case 1:if(8>=n)return new Uint8Array(h);if(16>=n)return new Uint16Array(h);if(32>=n)return new Uint32Array(h);break;case 2:if(8===n)return new Int8Array(h);if(16===n)return new Int16Array(h);if(32===n)return new Int32Array(h);break;case 3:switch(n){case 16:case 32:return new Float32Array(h);case 64:return new Float64Array(h)}}throw Error("Unsupported data format/bitsPerSample");
}Ka=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{"default":g}};Object.defineProperty(A,"__esModule",{value:!0});const p=L(215),q=Ka(L(216)),t=Ka(L(220)),m=L(221),f=L(222),b=L(234),c=L(235);class e{constructor(g,n,h,x,O,H){this.fileDirectory=g;this.geoKeys=n;this.dataView=h;this.littleEndian=x;this.tiles=O?{}:null;this.isTiled=!g.StripOffsets;g=g.PlanarConfiguration;this.planarConfiguration="undefined"===typeof g?1:g;if(1!==this.planarConfiguration&&2!==this.planarConfiguration)throw Error("Invalid planar configuration.");
this.source=H}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return"undefined"!==typeof this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:"undefined"!==typeof this.fileDirectory.RowsPerStrip?
Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(g){return this.isTiled||(g+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-g*this.getTileHeight()}getBytesPerPixel(){let g=0;for(let n=0;n<this.fileDirectory.BitsPerSample.length;++n)g+=this.getSampleByteSize(n);return g}getSampleByteSize(g){if(g>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${g} is out of range.`);
return Math.ceil(this.fileDirectory.BitsPerSample[g]/8)}getReaderForSample(g){const n=this.fileDirectory.BitsPerSample[g];switch(this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[g]:1){case 1:if(8>=n)return DataView.prototype.getUint8;if(16>=n)return DataView.prototype.getUint16;if(32>=n)return DataView.prototype.getUint32;break;case 2:if(8>=n)return DataView.prototype.getInt8;if(16>=n)return DataView.prototype.getInt16;if(32>=n)return DataView.prototype.getInt32;break;case 3:switch(n){case 16:return function(h,
x){return(0,p.getFloat16)(this,h,x)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample");}getSampleFormat(g=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[g]:1}getBitsPerSample(g=0){return this.fileDirectory.BitsPerSample[g]}getArrayForSample(g,n){const h=this.getSampleFormat(g);g=this.getBitsPerSample(g);return k(h,g,n)}getTileOrStrip(g,n,h,x,O){const H=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var F=
Math.ceil(H.getWidth()/H.getTileWidth()),J=Math.ceil(H.getHeight()/H.getTileHeight());let D;const {tiles:r}=H;1===H.planarConfiguration?D=n*F+g:2===H.planarConfiguration&&(D=h*F*J+n*F+g);H.isTiled?(F=H.fileDirectory.TileOffsets[D],J=H.fileDirectory.TileByteCounts[D]):(F=H.fileDirectory.StripOffsets[D],J=H.fileDirectory.StripByteCounts[D]);const z=(yield H.source.fetch([{offset:F,length:J}],O))[0];null!==r&&r[D]?F=r[D]:(F=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){var G=yield x.decode(H.fileDirectory,
z),T=H.getSampleFormat();const R=H.getBitsPerSample();if((1===T||2===T)&&32>=R&&0===R%8?0:3!==T||16!==R&&32!==R&&64!==R){var ca=H.planarConfiguration,M=H.getSamplesPerPixel(),ba=H.getTileWidth(),W=H.getBlockHeight(n);G=new DataView(G);const aa=2===ca?1:M,C=k(T,R,2===ca?W*ba:W*ba*M),B=parseInt("1".repeat(R),2);if(1===T)for(T=ba*(1===ca?M*R:R),0!==(T&7)&&(T=T+7&-8),ca=0;ca<W;++ca){M=ca*T;for(let N=0;N<ba;++N){const Y=M+N*aa*R;for(let Aa=0;Aa<aa;++Aa){var ea=Y+Aa*R;const sa=(ca*ba+N)*aa+Aa;var La=Math.floor(ea/
8);ea%=8;8>=ea+R?C[sa]=G.getUint8(La)>>8-R-ea&B:16>=ea+R?C[sa]=G.getUint16(La)>>16-R-ea&B:24>=ea+R?(La=G.getUint16(La)<<8|G.getUint8(La+2),C[sa]=La>>24-R-ea&B):C[sa]=G.getUint32(La)>>32-R-ea&B}}}G=C.buffer}return G}))(),null!==r&&(r[D]=F));return{x:g,y:n,sample:h,data:yield F}})}_readRaster(g,n,h,x,O,H,F,J,D){const r=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const z=r.getTileWidth(),G=r.getTileHeight(),T=r.getWidth(),R=r.getHeight();var ca=Math.max(Math.floor(g[0]/z),0);
const M=Math.min(Math.ceil(g[2]/z),Math.ceil(T/z));var ba=Math.max(Math.floor(g[1]/G),0);const W=Math.min(Math.ceil(g[3]/G),Math.ceil(R/G)),ea=g[2]-g[0];let La=r.getBytesPerPixel();const aa=[],C=[];for(var B=0;B<n.length;++B)1===r.planarConfiguration?aa.push(w(r.fileDirectory.BitsPerSample,0,n[B])/8):aa.push(0),C.push(r.getReaderForSample(n[B]));B=[];const {littleEndian:N}=r;for(;ba<W;++ba)for(let Aa=ca;Aa<M;++Aa)for(let sa=0;sa<n.length;++sa){const la=sa;var Y=n[sa];2===r.planarConfiguration&&(La=
r.getSampleByteSize(sa));Y=r.getTileOrStrip(Aa,ba,Y,O,D);B.push(Y);Y.then(Ia=>{const bb=new DataView(Ia.data);var ib=r.getBlockHeight(Ia.y);const Ja=Ia.y*G,ma=Ia.x*z,Fa=C[la];ib=Math.min(ib,ib-(Ja+ib-g[3]),R-Ja);Ia=Math.min(z,z-((Ia.x+1)*z-g[2]),T-ma);for(let Pa=Math.max(0,g[1]-Ja);Pa<ib;++Pa)for(let qa=Math.max(0,g[0]-ma);qa<Ia;++qa){const ya=Fa.call(bb,(Pa*z+qa)*La+aa[la],N);let oa;x?(oa=(Pa+Ja-g[1])*ea*n.length+(qa+ma-g[0])*n.length+la,h[oa]=ya):(oa=(Pa+Ja-g[1])*ea+qa+ma-g[0],h[la][oa]=ya)}})}yield Promise.all(B);
if(H&&g[2]-g[0]!==H||F&&g[3]-g[1]!==F)return ca=x?(0,c.resampleInterleaved)(h,g[2]-g[0],g[3]-g[1],H,F,n.length,J):(0,c.resample)(h,g[2]-g[0],g[3]-g[1],H,F,J),ca.width=H,ca.height=F,ca;h.width=H||g[2]-g[0];h.height=F||g[3]-g[1];return h})}readRasters({window:g,samples:n=[],interleave:h,pool:x=null,width:O,height:H,resampleMethod:F,fillValue:J,signal:D}={}){const r=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const z=g||[0,0,r.getWidth(),r.getHeight()];if(z[0]>z[2]||z[1]>z[3])throw Error("Invalid subsets");
var G=(z[2]-z[0])*(z[3]-z[1]),T=r.getSamplesPerPixel();if(!n||!n.length)for(var R=0;R<T;++R)n.push(R);else for(R=0;R<n.length;++R)if(n[R]>=T)return Promise.reject(new RangeError(`Invalid sample index '${n[R]}'.`));if(h)T=r.fileDirectory.SampleFormat?Math.max.apply(null,r.fileDirectory.SampleFormat):1,R=Math.max.apply(null,r.fileDirectory.BitsPerSample),T=k(T,R,G*n.length),J&&T.fill(J);else for(T=[],R=0;R<n.length;++R){const ca=r.getArrayForSample(n[R],G);Array.isArray(J)&&R<J.length?ca.fill(J[R]):
J&&!Array.isArray(J)&&ca.fill(J);T.push(ca)}G=x||(yield(0,b.getDecoder)(r.fileDirectory));return yield r._readRaster(z,n,T,h,G,O,H,F,D)})}readRGB({window:g,interleave:n=!0,pool:h=null,width:x,height:O,resampleMethod:H,enableAlpha:F=!1,signal:J}={}){const D=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var r=g||[0,0,D.getWidth(),D.getHeight()];if(r[0]>r[2]||r[1]>r[3])throw Error("Invalid subsets");var z=D.fileDirectory.PhotometricInterpretation;if(z===m.photometricInterpretations.RGB){r=
[0,1,2];if(D.fileDirectory.ExtraSamples!==m.ExtraSamplesValues.Unspecified&&F)for(r=[],z=0;z<D.fileDirectory.BitsPerSample.length;z+=1)r.push(z);return D.readRasters({window:g,interleave:n,samples:r,pool:h,width:x,height:O,resampleMethod:H,signal:J})}switch(z){case m.photometricInterpretations.WhiteIsZero:case m.photometricInterpretations.BlackIsZero:case m.photometricInterpretations.Palette:var G=[0];break;case m.photometricInterpretations.CMYK:G=[0,1,2,3];break;case m.photometricInterpretations.YCbCr:case m.photometricInterpretations.CIELab:G=
[0,1,2];break;default:throw Error("Invalid or unsupported photometric interpretation.");}r={window:r,interleave:!0,samples:G,pool:h,width:x,height:O,resampleMethod:H,signal:J};({fileDirectory:G}=D);r=yield D.readRasters(r);var T=Math.pow(2,D.fileDirectory.BitsPerSample[0]);switch(z){case m.photometricInterpretations.WhiteIsZero:z=(0,f.fromWhiteIsZero)(r,T);break;case m.photometricInterpretations.BlackIsZero:z=(0,f.fromBlackIsZero)(r,T);break;case m.photometricInterpretations.Palette:z=(0,f.fromPalette)(r,
G.ColorMap);break;case m.photometricInterpretations.CMYK:z=(0,f.fromCMYK)(r);break;case m.photometricInterpretations.YCbCr:z=(0,f.fromYCbCr)(r);break;case m.photometricInterpretations.CIELab:z=(0,f.fromCIELab)(r);break;default:throw Error("Unsupported photometric interpretation.");}if(!n){G=new Uint8Array(z.length/3);T=new Uint8Array(z.length/3);const R=new Uint8Array(z.length/3);for(let ca=0,M=0;ca<z.length;ca+=3,++M)G[M]=z[ca],T[M]=z[ca+1],R[M]=z[ca+2];z=[G,T,R]}z.width=r.width;z.height=r.height;
return z})}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const g=[];for(let n=0;n<this.fileDirectory.ModelTiepoint.length;n+=6)g.push({i:this.fileDirectory.ModelTiepoint[n],j:this.fileDirectory.ModelTiepoint[n+1],k:this.fileDirectory.ModelTiepoint[n+2],x:this.fileDirectory.ModelTiepoint[n+3],y:this.fileDirectory.ModelTiepoint[n+4],z:this.fileDirectory.ModelTiepoint[n+5]});return g}getGDALMetadata(g=null){const n={};if(!this.fileDirectory.GDAL_METADATA)return null;let h=(0,t.default)(this.fileDirectory.GDAL_METADATA,
"Item");h=null===g?h.filter(x=>void 0===(0,q.default)(x,"sample")):h.filter(x=>Number((0,q.default)(x,"sample"))===g);for(let x=0;x<h.length;++x){const O=h[x];n[(0,q.default)(O,"name")]=O.inner}return n}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const g=this.fileDirectory.GDAL_NODATA;return Number(g.substring(0,g.length-1))}getOrigin(){const g=this.fileDirectory.ModelTiepoint,n=this.fileDirectory.ModelTransformation;if(g&&6===g.length)return[g[3],g[4],g[5]];if(n)return[n[3],n[7],
n[11]];throw Error("The image does not have an affine transformation.");}getResolution(g=null){const n=this.fileDirectory.ModelPixelScale,h=this.fileDirectory.ModelTransformation;if(n)return[n[0],-n[1],n[2]];if(h)return[h[0],h[5],h[10]];if(g){const [x,O,H]=g.getResolution();return[x*g.getWidth()/this.getWidth(),O*g.getHeight()/this.getHeight(),H*g.getWidth()/this.getWidth()]}throw Error("The image does not have an affine transformation.");}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(){var g=
this.getOrigin(),n=this.getResolution();const h=g[0];g=g[1];const x=h+n[0]*this.getWidth();n=g+n[1]*this.getHeight();return[Math.min(h,x),Math.min(g,n),Math.max(h,x),Math.max(g,n)]}}A.default=e};
shadow$provide[237]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});const w=L(215);class k{constructor(p){this._dataView=new DataView(p)}get buffer(){return this._dataView.buffer}getUint64(p,q){const t=this.getUint32(p,q);p=this.getUint32(p+4,q);if(q){q=t+Math.pow(2,32)*p;if(!Number.isSafeInteger(q))throw Error(`${q} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return q}q=Math.pow(2,
32)*t+p;if(!Number.isSafeInteger(q))throw Error(`${q} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return q}getInt64(p,q){let t=0;const m=0<(this._dataView.getUint8(p+(q?7:0))&128);let f=!0;for(let b=0;8>b;b++){let c=this._dataView.getUint8(p+(q?b:7-b));m&&(f?0!==c&&(c=~(c-1)&255,f=!1):c=~c&255);t+=c*Math.pow(256,b)}m&&(t=-t);return t}getUint8(p,q){return this._dataView.getUint8(p,q)}getInt8(p,q){return this._dataView.getInt8(p,
q)}getUint16(p,q){return this._dataView.getUint16(p,q)}getInt16(p,q){return this._dataView.getInt16(p,q)}getUint32(p,q){return this._dataView.getUint32(p,q)}getInt32(p,q){return this._dataView.getInt32(p,q)}getFloat16(p,q){return(0,w.getFloat16)(this._dataView,p,q)}getFloat32(p,q){return this._dataView.getFloat32(p,q)}getFloat64(p,q){return this._dataView.getFloat64(p,q)}}A.default=k};
shadow$provide[238]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});class w{constructor(k,p,q,t){this._dataView=new DataView(k);this._sliceOffset=p;this._littleEndian=q;this._bigTiff=t}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(k,p){return this.sliceOffset<=k&&this.sliceTop>=k+p}readUint8(k){return this._dataView.getUint8(k-
this._sliceOffset,this._littleEndian)}readInt8(k){return this._dataView.getInt8(k-this._sliceOffset,this._littleEndian)}readUint16(k){return this._dataView.getUint16(k-this._sliceOffset,this._littleEndian)}readInt16(k){return this._dataView.getInt16(k-this._sliceOffset,this._littleEndian)}readUint32(k){return this._dataView.getUint32(k-this._sliceOffset,this._littleEndian)}readInt32(k){return this._dataView.getInt32(k-this._sliceOffset,this._littleEndian)}readFloat32(k){return this._dataView.getFloat32(k-
this._sliceOffset,this._littleEndian)}readFloat64(k){return this._dataView.getFloat64(k-this._sliceOffset,this._littleEndian)}readUint64(k){var p=this.readUint32(k);k=this.readUint32(k+4);if(this._littleEndian){p+=Math.pow(2,32)*k;if(!Number.isSafeInteger(p))throw Error(`${p} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return p}p=Math.pow(2,32)*p+k;if(!Number.isSafeInteger(p))throw Error(`${p} exceeds MAX_SAFE_INTEGER. `+
"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return p}readInt64(k){let p=0;const q=0<(this._dataView.getUint8(k+(this._littleEndian?7:0))&128);let t=!0;for(let m=0;8>m;m++){let f=this._dataView.getUint8(k+(this._littleEndian?m:7-m));q&&(t?0!==f&&(f=~(f-1)&255,t=!1):f=~f&255);p+=f*Math.pow(256,m)}q&&(p=-p);return p}readOffset(k){return this._bigTiff?this.readUint64(k):this.readUint32(k)}}A.default=w};
shadow$provide[239]=function(Ka,L,sb,A){sb.exports=Worker};
shadow$provide[240]=function(Ka,L,sb,A){var w=L(21).Buffer;"use strict";Ka=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(A,"__esModule",{value:!0});A.create=void 0;const k=Ka(L(239));A.create=function(){return new k.default("undefined"===typeof Blob?"data:application/javascript;base64,"+w.from('function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});',
"binary").toString("base64"):URL.createObjectURL(new Blob(['function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});'],
{type:"application/javascript"})))}};
shadow$provide[241]=function(Ka,L,sb,A){var w=this&&this.__createBinding||(Object.create?function(f,b,c,e){void 0===e&&(e=c);Object.defineProperty(f,e,{enumerable:!0,get:function(){return b[c]}})}:function(f,b,c,e){void 0===e&&(e=c);f[e]=b[c]}),k=this&&this.__setModuleDefault||(Object.create?function(f,b){Object.defineProperty(f,"default",{enumerable:!0,value:b})}:function(f,b){f["default"]=b}),p=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var b={};if(null!=f)for(var c in f)"default"!==
c&&Object.prototype.hasOwnProperty.call(f,c)&&w(b,f,c);k(b,f);return b};Object.defineProperty(A,"__esModule",{value:!0});const q=L(234),t="undefined"!==typeof navigator?navigator.hardwareConcurrency||2:2;class m{constructor(f=t,b){this._awaitingDecoder=this.workers=null;this.size=f;this.messageId=0;f&&(this._awaitingDecoder=b?Promise.resolve(b):new Promise(c=>{Promise.resolve().then(()=>p(L(240))).then(e=>{c(e.create)})}),this._awaitingDecoder.then(c=>{this._awaitingDecoder=null;this.workers=[];for(let e=
0;e<f;e++)this.workers.push({worker:c(),idle:!0})}))}decode(f,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){c._awaitingDecoder&&(yield c._awaitingDecoder);return 0===c.size?(0,q.getDecoder)(f).then(e=>e.decode(f,b)):new Promise(e=>{const g=c.workers.find(x=>x.idle)||c.workers[Math.floor(Math.random()*c.size)];g.idle=!1;const n=c.messageId++,h=x=>{x.data.id===n&&(g.idle=!0,e(x.data.decoded),g.worker.removeEventListener("message",h))};g.worker.addEventListener("message",
h);g.worker.postMessage({fileDirectory:f,buffer:b,id:n},[b])})})}destroy(){this.workers&&(this.workers.forEach(f=>{f.worker.terminate()}),this.workers=null)}}A.default=m};
shadow$provide[242]=function(Ka,L,sb,A){function w(q){if("undefined"!==typeof Object.fromEntries)return Object.fromEntries(q);const t={};for(const [m,f]of q)t[m.toLowerCase()]=f;return t}function k(q){q=q.split("\r\n").map(t=>{t=t.split(":").map(m=>m.trim());t[0]=t[0].toLowerCase();return t});return w(q)}function p(q){let t,m,f;q&&([,t,m,f]=q.match(/bytes (\d+)-(\d+)\/(\d+)/),t=parseInt(t,10),m=parseInt(m,10),f=parseInt(f,10));return{start:t,end:m,total:f}}Object.defineProperty(A,"__esModule",{value:!0});
A.parseByteRanges=A.parseContentRange=A.parseContentType=void 0;A.parseContentType=function(q){const [t,...m]=q.split(";").map(f=>f.trim());q=m.map(f=>f.split("\x3d"));return{type:t,params:w(q)}};A.parseContentRange=p;A.parseByteRanges=function(q,t){var m=null;const f=new TextDecoder("ascii"),b=[];t=`--${t}`;const c=`${t}--`;for(var e=0;10>e;++e)f.decode(new Uint8Array(q,e,t.length))===t&&(m=e);if(null===m)throw Error("Could not find initial boundary");for(;m<q.byteLength;){e=f.decode(new Uint8Array(q,
m,Math.min(t.length+1024,q.byteLength-m)));if(0===e.length||e.startsWith(c))break;if(!e.startsWith(t))throw Error("Part does not start with boundary");e=e.substr(t.length+2);if(0===e.length)break;var g=e.indexOf("\r\n\r\n");e=k(e.substr(0,g));const {start:n,end:h,total:x}=p(e["content-range"]);m=m+t.length+g+4;g=parseInt(h,10)+1-parseInt(n,10);b.push({headers:e,data:q.slice(m,m+g),offset:n,length:g,fileSize:x});m=m+g+4}return b}};
shadow$provide[243]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.BaseSource=void 0;class w{fetch(k,p){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return Promise.all(k.map(t=>q.fetchSlice(t,p)))})}fetchSlice(k){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error(`fetching of slice ${k} not possible, not implemented`);})}get fileSize(){return null}close(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){})}}
A.BaseSource=w};
shadow$provide[244]=function(Ka,L,sb,A){sb.exports=function(w){w.prototype[Symbol.iterator]=function*(){for(let k=this.head;k;k=k.next)yield k.value}}};
shadow$provide[245]=function(Ka,L,sb,A){function w(p){var q=this;q instanceof w||(q=new w);q.tail=null;q.head=null;q.length=0;if(p&&"function"===typeof p.forEach)p.forEach(function(f){q.push(f)});else if(0<arguments.length)for(var t=0,m=arguments.length;t<m;t++)q.push(arguments[t]);return q}function k(p,q,t,m){if(!(this instanceof k))return new k(p,q,t,m);this.list=m;this.value=p;q?(q.next=this,this.prev=q):this.prev=null;t?(t.prev=this,this.next=t):this.next=null}sb.exports=w;w.Node=k;w.create=w;
w.prototype.removeNode=function(p){if(p.list!==this)throw Error("removing node which does not belong to this list");var q=p.next,t=p.prev;q&&(q.prev=t);t&&(t.next=q);p===this.head&&(this.head=q);p===this.tail&&(this.tail=t);p.list.length--;p.next=null;p.prev=null;p.list=null;return q};w.prototype.unshiftNode=function(p){if(p!==this.head){p.list&&p.list.removeNode(p);var q=this.head;p.list=this;if(p.next=q)q.prev=p;this.head=p;this.tail||(this.tail=p);this.length++}};w.prototype.pushNode=function(p){if(p!==
this.tail){p.list&&p.list.removeNode(p);var q=this.tail;p.list=this;if(p.prev=q)q.next=p;this.tail=p;this.head||(this.head=p);this.length++}};w.prototype.push=function(){for(var p=0,q=arguments.length;p<q;p++)this.tail=new k(arguments[p],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};w.prototype.unshift=function(){for(var p=0,q=arguments.length;p<q;p++)this.head=new k(arguments[p],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};
w.prototype.pop=function(){if(this.tail){var p=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return p}};w.prototype.shift=function(){if(this.head){var p=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return p}};w.prototype.forEach=function(p,q){q=q||this;for(var t=this.head,m=0;null!==t;m++)p.call(q,t.value,m,this),t=t.next};w.prototype.forEachReverse=function(p,q){q=q||this;for(var t=this.tail,m=this.length-
1;null!==t;m--)p.call(q,t.value,m,this),t=t.prev};w.prototype.get=function(p){for(var q=0,t=this.head;null!==t&&q<p;q++)t=t.next;if(q===p&&null!==t)return t.value};w.prototype.getReverse=function(p){for(var q=0,t=this.tail;null!==t&&q<p;q++)t=t.prev;if(q===p&&null!==t)return t.value};w.prototype.map=function(p,q){q=q||this;for(var t=new w,m=this.head;null!==m;)t.push(p.call(q,m.value,this)),m=m.next;return t};w.prototype.mapReverse=function(p,q){q=q||this;for(var t=new w,m=this.tail;null!==m;)t.push(p.call(q,
m.value,this)),m=m.prev;return t};w.prototype.reduce=function(p,q){var t=this.head;if(1<arguments.length)var m=q;else if(this.head)t=this.head.next,m=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;null!==t;f++)m=p(m,t.value,f),t=t.next;return m};w.prototype.reduceReverse=function(p,q){var t=this.tail;if(1<arguments.length)var m=q;else if(this.tail)t=this.tail.prev,m=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");
for(var f=this.length-1;null!==t;f--)m=p(m,t.value,f),t=t.prev;return m};w.prototype.toArray=function(){for(var p=Array(this.length),q=0,t=this.head;null!==t;q++)p[q]=t.value,t=t.next;return p};w.prototype.toArrayReverse=function(){for(var p=Array(this.length),q=0,t=this.tail;null!==t;q++)p[q]=t.value,t=t.prev;return p};w.prototype.slice=function(p,q){q=q||this.length;0>q&&(q+=this.length);p=p||0;0>p&&(p+=this.length);var t=new w;if(q<p||0>q)return t;0>p&&(p=0);q>this.length&&(q=this.length);for(var m=
0,f=this.head;null!==f&&m<p;m++)f=f.next;for(;null!==f&&m<q;m++,f=f.next)t.push(f.value);return t};w.prototype.sliceReverse=function(p,q){q=q||this.length;0>q&&(q+=this.length);p=p||0;0>p&&(p+=this.length);var t=new w;if(q<p||0>q)return t;0>p&&(p=0);q>this.length&&(q=this.length);for(var m=this.length,f=this.tail;null!==f&&m>q;m--)f=f.prev;for(;null!==f&&m>p;m--,f=f.prev)t.push(f.value);return t};w.prototype.splice=function(p,q,...t){p>this.length&&(p=this.length-1);0>p&&(p=this.length+p);for(var m=
0,f=this.head;null!==f&&m<p;m++)f=f.next;p=[];for(m=0;f&&m<q;m++)p.push(f.value),f=this.removeNode(f);null===f&&(f=this.tail);f!==this.head&&f!==this.tail&&(f=f.prev);for(m=0;m<t.length;m++)q=f,f=t[m],q=q===this.head?new k(f,null,q,this):new k(f,q,q.next,this),null===q.next&&(this.tail=q),null===q.prev&&(this.head=q),this.length++,f=q;return p};w.prototype.reverse=function(){for(var p=this.head,q=this.tail,t=p;null!==t;t=t.prev){var m=t.prev;t.prev=t.next;t.next=m}this.head=q;this.tail=p;return this};
try{L(244)(w)}catch(p){}};
shadow$provide[246]=function(Ka,L,sb,A){const w=L(245),k=Symbol("max"),p=Symbol("length"),q=Symbol("lengthCalculator"),t=Symbol("allowStale"),m=Symbol("maxAge"),f=Symbol("dispose"),b=Symbol("noDisposeOnSet"),c=Symbol("lruList"),e=Symbol("cache"),g=Symbol("updateAgeOnGet"),n=()=>1;class h{constructor(r){"number"===typeof r&&(r={max:r});r||(r={});if(r.max&&("number"!==typeof r.max||0>r.max))throw new TypeError("max must be a non-negative number");this[k]=r.max||Infinity;const z=r.length||n;this[q]=
"function"!==typeof z?n:z;this[t]=r.stale||!1;if(r.maxAge&&"number"!==typeof r.maxAge)throw new TypeError("maxAge must be a number");this[m]=r.maxAge||0;this[f]=r.dispose;this[b]=r.noDisposeOnSet||!1;this[g]=r.updateAgeOnGet||!1;this.reset()}set max(r){if("number"!==typeof r||0>r)throw new TypeError("max must be a non-negative number");this[k]=r||Infinity;H(this)}get max(){return this[k]}set allowStale(r){this[t]=!!r}get allowStale(){return this[t]}set maxAge(r){if("number"!==typeof r)throw new TypeError("maxAge must be a non-negative number");
this[m]=r;H(this)}get maxAge(){return this[m]}set lengthCalculator(r){"function"!==typeof r&&(r=n);r!==this[q]&&(this[q]=r,this[p]=0,this[c].forEach(z=>{z.length=this[q](z.value,z.key);this[p]+=z.length}));H(this)}get lengthCalculator(){return this[q]}get length(){return this[p]}get itemCount(){return this[c].length}rforEach(r,z){z=z||this;for(let G=this[c].tail;null!==G;){const T=G.prev;D(this,r,G,z);G=T}}forEach(r,z){z=z||this;for(let G=this[c].head;null!==G;){const T=G.next;D(this,r,G,z);G=T}}keys(){return this[c].toArray().map(r=>
r.key)}values(){return this[c].toArray().map(r=>r.value)}reset(){this[f]&&this[c]&&this[c].length&&this[c].forEach(r=>this[f](r.key,r.value));this[e]=new Map;this[c]=new w;this[p]=0}dump(){return this[c].map(r=>O(this,r)?!1:{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}).toArray().filter(r=>r)}dumpLru(){return this[c]}set(r,z,G){if((G=G||this[m])&&"number"!==typeof G)throw new TypeError("maxAge must be a number");const T=G?Date.now():0,R=this[q](z,r);if(this[e].has(r)){if(R>this[k])return F(this,this[e].get(r)),
!1;const ca=this[e].get(r).value;if(this[f]&&!this[b])this[f](r,ca.value);ca.now=T;ca.maxAge=G;ca.value=z;this[p]+=R-ca.length;ca.length=R;this.get(r);H(this);return!0}G=new J(r,z,R,T,G);if(G.length>this[k]){if(this[f])this[f](r,z);return!1}this[p]+=G.length;this[c].unshift(G);this[e].set(r,this[c].head);H(this);return!0}has(r){if(!this[e].has(r))return!1;r=this[e].get(r).value;return!O(this,r)}get(r){return x(this,r,!0)}peek(r){return x(this,r,!1)}pop(){const r=this[c].tail;if(!r)return null;F(this,
r);return r.value}del(r){F(this,this[e].get(r))}load(r){this.reset();const z=Date.now();for(let T=r.length-1;0<=T;T--){const R=r[T];var G=R.e||0;0===G?this.set(R.k,R.v):(G-=z,0<G&&this.set(R.k,R.v,G))}}prune(){this[e].forEach((r,z)=>x(this,z,!1))}}const x=(r,z,G)=>{if(z=r[e].get(z)){const T=z.value;if(O(r,T)){if(F(r,z),!r[t])return}else G&&(r[g]&&(z.value.now=Date.now()),r[c].unshiftNode(z));return T.value}},O=(r,z)=>{if(!z||!z.maxAge&&!r[m])return!1;const G=Date.now()-z.now;return z.maxAge?G>z.maxAge:
r[m]&&G>r[m]},H=r=>{if(r[p]>r[k])for(let z=r[c].tail;r[p]>r[k]&&null!==z;){const G=z.prev;F(r,z);z=G}},F=(r,z)=>{if(z){const G=z.value;if(r[f])r[f](G.key,G.value);r[p]-=G.length;r[e].delete(G.key);r[c].removeNode(z)}};class J{constructor(r,z,G,T,R){this.key=r;this.value=z;this.length=G;this.now=T;this.maxAge=R||0}}const D=(r,z,G,T)=>{let R=G.value;O(r,R)&&(F(r,G),r[t]||(R=void 0));R&&z.call(T,R.value,R.key,r)};sb.exports=h};
shadow$provide[247]=function(Ka,L,sb,A){function w(t){const m=[],{length:f}=t;for(let b=0;b<f;b++)m.push(t[b]);return m}function k(t){return t.length?w(t).map(k):t}Object.defineProperty(A,"__esModule",{value:!0});A.AggregateError=A.CustomAggregateError=A.AbortError=A.zip=A.wait=A.parseContentRange=A.toArrayRecursively=A.toArray=A.times=A.range=A.invert=A.forEach=A.endsWith=A.chunk=A.assign=void 0;A.assign=function(t,m){for(const f in m)m.hasOwnProperty(f)&&(t[f]=m[f])};A.chunk=function(t,m){const f=
[],b=t.length;for(let c=0;c<b;c+=m){const e=[];for(let g=c;g<c+m;g++)e.push(t[g]);f.push(e)}return f};A.endsWith=function(t,m){return t.length<m.length?!1:t.substr(t.length-m.length)===m};A.forEach=function(t,m){const {length:f}=t;for(let b=0;b<f;b++)m(t[b],b)};A.invert=function(t){const m={};for(const f in t)t.hasOwnProperty(f)&&(m[t[f]]=f);return m};A.range=function(t){const m=[];for(let f=0;f<t;f++)m.push(f);return m};A.times=function(t,m){const f=[];for(let b=0;b<t;b++)f.push(m(b));return f};
A.toArray=w;A.toArrayRecursively=k;A.parseContentRange=function(t){if(!t)return null;if("string"!==typeof t)throw Error("invalid argument");let m=t.match(/^(\w*) /);const f=m&&m[1];return(m=t.match(/(\d+)-(\d+)\/(\d+|\*)/))?{unit:f,first:Number.parseInt(m[1],10),last:Number.parseInt(m[2],10),length:"*"===m[3]?null:Number.parseInt(m[3],10)}:(m=t.match(/(\d+|\*)/))?{unit:f,first:null,last:null,length:"*"===m[1]?null:Number.parseInt(m[1],10)}:null};A.wait=function(t){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise(m=>
setTimeout(m,t))})};A.zip=function(t,m){t=Array.isArray(t)?t:Array.from(t);const f=Array.isArray(m)?m:Array.from(m);return t.map((b,c)=>[b,f[c]])};class p extends Error{constructor(t){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,p);this.name="AbortError"}}A.AbortError=p;class q extends Error{constructor(t,m){super(m);this.errors=t;this.message=m;this.name="AggregateError"}}A.CustomAggregateError=q;A.AggregateError=q};
shadow$provide[248]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{"default":m}};Object.defineProperty(A,"__esModule",{value:!0});A.BlockedSource=void 0;const w=Ka(L(246));Ka=L(243);const k=L(247);class p{constructor(m,f,b=null){this.offset=m;this.length=f;this.data=b}get top(){return this.offset+this.length}}class q{constructor(m,f,b){this.offset=m;this.length=f;this.blockIds=b}}class t extends Ka.BaseSource{constructor(m,{blockSize:f=65536,cacheSize:b=100}=
{}){super();this.source=m;this.blockSize=f;this.blockCache=new w.default({max:b});this.blockRequests=new Map;this.blockIdsToFetch=new Set}get fileSize(){return this.source.fileSize}fetch(m,f){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=new Map;var e=new Map,g=new Set;for(const {offset:H,length:F}of m){var n=H+F,{fileSize:h}=b;null!==h&&(n=Math.min(n,h));for(h=Math.floor(H/b.blockSize)*b.blockSize;h<n;h+=b.blockSize){const J=Math.floor(h/b.blockSize);b.blockCache.has(J)?
c.set(J,b.blockCache.get(J)):b.blockRequests.has(J)?e.set(J,b.blockRequests.get(J)):(b.blockIdsToFetch.has(J)||b.blockIdsToFetch.add(J),g.add(J))}}yield(0,k.wait)();b.fetchBlocks(f);for(var x of g)if(g=b.blockRequests.get(x),n=b.blockCache.get(x),g)e.set(x,g);else if(n)c.set(x,n);else throw Error(`Block ${x} is not in the block requests`);x=yield Promise.allSettled(Array.from(e.values()));if(x.some(H=>"rejected"===H.status)){g=new Set;for(const [H,F]of(0,k.zip)(e.keys(),x)){const {rejected:J,reason:D}=
F;J&&"AbortError"===D.name&&D.signal!==f&&(b.blockIdsToFetch.add(H),g.add(H))}if(0<b.blockIdsToFetch.length){b.fetchBlocks(f);for(var O of g){x=b.blockRequests.get(O);if(!x)throw Error(`Block ${O} is not in the block requests`);e.set(O,x)}x=yield Promise.allSettled(Array.from(e.values()))}}if(x.some(H=>"rejected"===H.status)){if(f&&f.aborted)throw new k.AbortError("Request was aborted");throw new k.AggregateError(x.filter(H=>"rejected"===H.status).map(H=>H.reason),"Request failed");}O=x.map(H=>H.value);
e=new Map((0,k.zip)(Array.from(e.keys()),O));for(const [H,F]of c)e.set(H,F);return b.readSliceData(m,e)})}fetchBlocks(m){if(0<this.blockIdsToFetch.size){const b=this.groupBlocks(this.blockIdsToFetch),c=this.source.fetch(b,m);for(let e=0;e<b.length;++e){var f=b[e];for(const g of f.blockIds)f=(()=>{const n=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{const h=(yield c)[e],x=g*n.blockSize,O=x-h.offset,H=h.data.slice(O,Math.min(O+n.blockSize,h.data.byteLength)),F=new p(x,H.byteLength,
H);n.blockCache.set(g,F);return F}catch(h){throw"AbortError"===h.name&&(h.signal=m),h;}finally{n.blockRequests.delete(g)}})})(),this.blockRequests.set(g,f)}this.blockIdsToFetch.clear()}}groupBlocks(m){m=Array.from(m).sort((e,g)=>e-g);if(0===m.length)return[];let f=[],b=null;const c=[];for(const e of m)null===b||b+1===e?f.push(e):(c.push(new q(f[0]*this.blockSize,f.length*this.blockSize,f)),f=[e]),b=e;c.push(new q(f[0]*this.blockSize,f.length*this.blockSize,f));return c}readSliceData(m,f){return m.map(b=>
{const c=b.offset+b.length;var e=Math.floor(b.offset/this.blockSize);const g=Math.floor((b.offset+b.length)/this.blockSize),n=new ArrayBuffer(b.length),h=new Uint8Array(n);for(;e<=g;++e){var x=f.get(e);const O=x.offset-b.offset,H=x.top-c;let F=0,J=0;0>O?F=-O:0<O&&(J=O);x=new Uint8Array(x.data,F,0>H?x.length-F:c-x.offset-F);h.set(x,J)}return n})}}A.BlockedSource=t};
shadow$provide[249]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.BaseClient=A.BaseResponse=void 0;class w{get ok(){return 200<=this.status&&299>=this.status}get status(){throw Error("not implemented");}getHeader(p){throw Error("not implemented");}getData(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error("not implemented");})}}A.BaseResponse=w;class k{constructor(p){this.url=p}request({}={}){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error("request is not implemented");
})}}A.BaseClient=k};
shadow$provide[250]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.FetchClient=void 0;Ka=L(249);class w extends Ka.BaseResponse{constructor(p){super();this.response=p}get status(){return this.response.status}getHeader(p){return this.response.headers.get(p)}getData(){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return p.response.arrayBuffer?yield p.response.arrayBuffer():(yield p.response.buffer()).buffer})}}class k extends Ka.BaseClient{constructor(p,
q){super(p);this.credentials=q}request({headers:p,credentials:q,signal:t}={}){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const f=yield fetch(m.url,{headers:p,credentials:q,signal:t});return new w(f)})}}A.FetchClient=k};
shadow$provide[251]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.XHRClient=void 0;Ka=L(249);const w=L(247);class k extends Ka.BaseResponse{constructor(q,t){super();this.xhr=q;this.data=t}get status(){return this.xhr.status}getHeader(q){return this.xhr.getResponseHeader(q)}getData(){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return q.data})}}class p extends Ka.BaseClient{constructRequest(q,t){return new Promise((m,f)=>{const b=new XMLHttpRequest;
b.open("GET",this.url);b.responseType="arraybuffer";for(const [c,e]of Object.entries(q))b.setRequestHeader(c,e);b.onload=()=>{m(new k(b,b.response))};b.onerror=f;b.onabort=()=>f(new w.AbortError("Request aborted"));b.send();t&&(t.aborted&&b.abort(),t.addEventListener("abort",()=>b.abort()))})}request({headers:q,signal:t}={}){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield m.constructRequest(q,t)})}}A.XHRClient=p};
shadow$provide[252]=function(Ka,L,sb,A){};
shadow$provide[253]=function(Ka,L,sb,A){var w=L(21).Buffer;"use strict";Ka=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{"default":b}};Object.defineProperty(A,"__esModule",{value:!0});A.HttpClient=void 0;const k=Ka(L(252)),p=Ka(L(252)),q=Ka(L(252));Ka=L(249);const t=L(247);class m extends Ka.BaseResponse{constructor(b,c){super();this.response=b;this.dataPromise=c}get status(){return this.response.statusCode}getHeader(b){return this.response.headers[b]}getData(){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield b.dataPromise})}}
class f extends Ka.BaseClient{constructor(b){super(b);this.parsedUrl=q.default.parse(this.url);this.httpApi="http:"===this.parsedUrl.protocol?k.default:p.default}constructRequest(b,c){return new Promise((e,g)=>{const n=this.httpApi.get(Object.assign({},this.parsedUrl,{headers:b}),h=>{const x=new Promise(O=>{const H=[];h.on("data",F=>{H.push(F)});h.on("end",()=>{const F=w.concat(H).buffer;O(F)});h.on("error",g)});e(new m(h,x))});n.on("error",g);c&&(c.aborted&&n.destroy(new t.AbortError("Request aborted")),
c.addEventListener("abort",()=>n.destroy(new t.AbortError("Request aborted"))))})}request({headers:b,signal:c}={}){const e=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield e.constructRequest(b,c)})}}A.HttpClient=f};
shadow$provide[254]=function(Ka,L,sb,A){function w(g,n){var {blockSize:h,cacheSize:x}=n;return null===h?g:new m.BlockedSource(g,h,x)}function k(g,n){var h=void 0===n?{}:n,x=Object.assign({},h);n=void 0===h.headers?{}:h.headers;var O=h.credentials,H=void 0===h.maxRanges?0:h.maxRanges;h=void 0===h.allowFullFile?!1:h.allowFullFile;x=(delete x.headers,delete x.credentials,delete x.maxRanges,delete x.allowFullFile,x);g=new f.FetchClient(g,O);g=new e(g,n,H,h);return w(g,x)}function p(g,n){var h=void 0===
n?{}:n,x=Object.assign({},h);n=void 0===h.headers?{}:h.headers;var O=void 0===h.maxRanges?0:h.maxRanges;h=void 0===h.allowFullFile?!1:h.allowFullFile;x=(delete x.headers,delete x.maxRanges,delete x.allowFullFile,x);g=new b.XHRClient(g);g=new e(g,n,O,h);return w(g,x)}function q(g,n){var h=void 0===n?{}:n,x=Object.assign({},h);n=void 0===h.headers?{}:h.headers;var O=void 0===h.maxRanges?0:h.maxRanges;h=void 0===h.allowFullFile?!1:h.allowFullFile;x=(delete x.headers,delete x.maxRanges,delete x.allowFullFile,
x);g=new c.HttpClient(g);g=new e(g,n,O,h);return w(g,x)}Object.defineProperty(A,"__esModule",{value:!0});A.makeRemoteSource=A.makeHttpSource=A.makeXHRSource=A.makeFetchSource=void 0;const t=L(242);Ka=L(243);const m=L(248),f=L(250),b=L(251),c=L(253);class e extends Ka.BaseSource{constructor(g,n,h,x){super();this.client=g;this.headers=n;this.maxRanges=h;this.allowFullFile=x;this._fileSize=null}fetch(g,n){const h=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return h.maxRanges>=
g.length?h.fetchSlices(g,n):Promise.all(g.map(x=>h.fetchSlice(x,n)))})}fetchSlices(g,n){const h=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var x=yield h.client.request({headers:Object.assign({},h.headers,{Range:`bytes=${g.map(H=>{var {offset:F,length:J}=H;return`${F}-${F+J}`}).join(",")}`}),signal:n});if(x.ok){if(206===x.status){const {type:H,params:F}=(0,t.parseContentType)(x.getHeader("content-type"));if("multipart/byteranges"===H)return x=(0,t.parseByteRanges)(yield x.getData(),
F.boundary),h._fileSize=x[0].fileSize||null,x;var O=yield x.getData();const {start:J,end:D,total:r}=(0,t.parseContentRange)(x.getHeader("content-range"));h._fileSize=r||null;x=[{data:O,offset:J,length:D-J}];return 1<g.length?(O=yield Promise.all(g.slice(1).map(z=>h.fetchSlice(z,n))),x.concat(O)):x}if(!h.allowFullFile)throw Error("Server responded with full file");x=yield x.getData();h._fileSize=x.byteLength;return[{data:x,offset:0,length:x.byteLength}]}throw Error("Error fetching data.");})}fetchSlice(g,
n){const h=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const {offset:x,length:O}=g;var H=yield h.client.request({headers:Object.assign({},h.headers,{Range:`bytes=${x}-${x+O}`}),signal:n});if(H.ok){if(206===H.status){var F=yield H.getData();({total:H}=(0,t.parseContentRange)(H.getHeader("content-range")));h._fileSize=H||null;return{data:F,offset:x,length:O}}if(!h.allowFullFile)throw Error("Server responded with full file");F=yield H.getData();h._fileSize=F.byteLength;return{data:F,
offset:0,length:F.byteLength}}throw Error("Error fetching data.");})}get fileSize(){return this._fileSize}}A.makeFetchSource=k;A.makeXHRSource=p;A.makeHttpSource=q;A.makeRemoteSource=function(g,n){var h=void 0===n?{}:n;n=Object.assign({},h);h=void 0===h.forceXHR?!1:h.forceXHR;n=(delete n.forceXHR,n);return"function"!==typeof fetch||h?"undefined"!==typeof XMLHttpRequest?p(g,n):q(g,n):k(g,n)}};
shadow$provide[255]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.makeBufferSource=void 0;Ka=L(243);const w=L(247);class k extends Ka.BaseSource{constructor(p){super();this.arrayBuffer=p}fetchSlice(p,q){if(q&&q.aborted)throw new w.AbortError("Request aborted");return this.arrayBuffer.slice(p.offset,p.offset+p.length)}}A.makeBufferSource=function(p){return new k(p)}};
shadow$provide[256]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.makeFileReaderSource=void 0;Ka=L(243);class w extends Ka.BaseSource{constructor(k){super();this.file=k}fetchSlice(k,p){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise((t,m)=>{const f=q.file.slice(k.offset,k.offset+k.length),b=new FileReader;b.onload=c=>t(c.target.result);b.onerror=m;b.onabort=m;b.readAsArrayBuffer(f);p&&p.addEventListener("abort",()=>b.abort())})})}}
A.makeFileReaderSource=function(k){return new w(k)}};
shadow$provide[257]=function(Ka,L,sb,A){function w(f){return new Promise((b,c)=>{t.default.close(f,e=>{e?c(e):b()})})}function k(f,b,c){return new Promise((e,g)=>{t.default.open(f,b,c,(n,h)=>{n?g(n):e(h)})})}function p(...f){return new Promise((b,c)=>{t.default.read(...f,(e,g,n)=>{e?c(e):b({bytesRead:g,buffer:n})})})}var q=L(21).Buffer;"use strict";Ka=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{"default":f}};Object.defineProperty(A,"__esModule",{value:!0});A.makeFileSource=void 0;
const t=Ka(L(252));L=L(243);class m extends L.BaseSource{constructor(f){super();this.path=f;this.openRequest=k(f,"r")}fetchSlice(f){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var c=yield b.openRequest;({buffer:c}=yield p(c,q.alloc(f.length),0,f.length,f.offset));return c.buffer})}close(){const f=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=yield f.openRequest;yield w(b)})}}A.makeFileSource=function(f){return new m(f)}};
shadow$provide[258]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.writeGeotiff=void 0;const w=L(221),k=L(247);Ka=(0,k.invert)(w.fieldTagNames);L=(0,k.invert)(w.geoKeyNames);const p={};(0,k.assign)(p,Ka);(0,k.assign)(p,L);const q=(0,k.invert)(w.fieldTypeNames),t={nextZero:(g,n)=>{for(;0!==g[n];)n++;return n},readUshort:(g,n)=>g[n]<<8|g[n+1],readShort:(g,n)=>{const h=t.ui8;h[0]=g[n+1];h[1]=g[n+0];return t.i16[0]},readInt:(g,n)=>{const h=t.ui8;h[0]=g[n+3];h[1]=g[n+2];h[2]=g[n+
1];h[3]=g[n+0];return t.i32[0]},readUint:(g,n)=>{const h=t.ui8;h[0]=g[n+3];h[1]=g[n+2];h[2]=g[n+1];h[3]=g[n+0];return t.ui32[0]},readASCII:(g,n,h)=>h.map(x=>String.fromCharCode(g[n+x])).join(""),readFloat:(g,n)=>{const h=t.ui8;(0,k.times)(4,x=>{h[x]=g[n+3-x]});return t.fl32[0]},readDouble:(g,n)=>{const h=t.ui8;(0,k.times)(8,x=>{h[x]=g[n+7-x]});return t.fl64[0]},writeUshort:(g,n,h)=>{g[n]=h>>8&255;g[n+1]=h&255},writeUint:(g,n,h)=>{g[n]=h>>24&255;g[n+1]=h>>16&255;g[n+2]=h>>8&255;g[n+3]=h>>0&255},writeASCII:(g,
n,h)=>{(0,k.times)(h.length,x=>{g[n+x]=h.charCodeAt(x)})},ui8:new Uint8Array(8)};t.fl64=new Float64Array(t.ui8.buffer);t.writeDouble=(g,n,h)=>{t.fl64[0]=h;(0,k.times)(8,x=>{g[n+x]=t.ui8[7-x]})};const m=(g,n,h,x)=>{var O=Object.keys(x).filter(J=>void 0!==J&&null!==J&&"undefined"!==J);g.writeUshort(n,h,O.length);h+=2;let H=h+12*O.length+4;for(const J of O){var F=null;"number"===typeof J?F=J:"string"===typeof J&&(F=parseInt(J,10));O=w.fieldTagTypes[F];const D=q[O];if(null==O||void 0===O||"undefined"===
typeof O)throw Error(`unknown type of tag: ${F}`);let r=x[J];if(void 0===r)throw Error(`failed to get value for key ${J}`);"ASCII"===O&&"string"===typeof r&&!1===(0,k.endsWith)(r,"\x00")&&(r+="\x00");const z=r.length;g.writeUshort(n,h,F);h+=2;g.writeUshort(n,h,D);h+=2;g.writeUint(n,h,z);h+=4;F=[-1,1,1,2,4,8,0,0,0,0,0,0,8][D]*z;let G=h;4<F&&(g.writeUint(n,h,H),G=H);"ASCII"===O?g.writeASCII(n,G,r):"SHORT"===O?(0,k.times)(z,T=>{g.writeUshort(n,G+2*T,r[T])}):"LONG"===O?(0,k.times)(z,T=>{g.writeUint(n,
G+4*T,r[T])}):"RATIONAL"===O?(0,k.times)(z,T=>{g.writeUint(n,G+8*T,Math.round(1E4*r[T]));g.writeUint(n,G+8*T+4,1E4)}):"DOUBLE"===O&&(0,k.times)(z,T=>{g.writeDouble(n,G+8*T,r[T])});4<F&&(F+=F&1,H+=F);h+=4}return[h,H]},f=g=>{const n=new Uint8Array(1E3);var h=4;const x=t;n[0]=77;n[1]=77;n[3]=42;let O=8;x.writeUint(n,h,O);h+=4;g.forEach((H,F)=>{H=m(x,n,O,H);O=H[1];F<g.length-1&&x.writeUint(n,H[0],O)});if(n.slice)return n.slice(0,O).buffer;h=new Uint8Array(O);for(let H=0;H<O;H++)h[H]=n[H];return h.buffer},
b=(g,n,h,x)=>{if(void 0===h||null===h)throw Error(`you passed into encodeImage a width of type ${h}`);if(void 0===n||null===n)throw Error(`you passed into encodeImage a width of type ${n}`);const O={256:[n],257:[h],273:[1E3],278:[h],305:"geotiff.js"};if(x)for(const J in x)x.hasOwnProperty(J)&&(O[J]=x[J]);const H=new Uint8Array(f([O]));g=new Uint8Array(g);const F=new Uint8Array(1E3+n*h*O[277]);(0,k.times)(H.length,J=>{F[J]=H[J]});(0,k.forEach)(g,(J,D)=>{F[1E3+D]=J});return F.buffer},c=g=>{const n=
{};for(const h in g)"StripOffsets"!==h&&(p[h]||console.error(h,"not in name2code:",Object.keys(p)),n[p[h]]=g[h]);return n},e=[["Compression",1],["PlanarConfiguration",1],["ExtraSamples",0]];A.writeGeotiff=function(g,n){let h,x,O,H;"number"===typeof g[0]?(h=n.height||n.ImageLength,O=n.width||n.ImageWidth,x=g.length/(h*O),H=g):(x=g.length,h=g[0].length,O=g[0][0].length,H=[],(0,k.times)(h,J=>{(0,k.times)(O,D=>{(0,k.times)(x,r=>{H.push(g[r][J][D])})})}));n.ImageLength=h;delete n.height;n.ImageWidth=O;
delete n.width;n.BitsPerSample||(n.BitsPerSample=(0,k.times)(x,()=>8));e.forEach(J=>{const D=J[0];n[D]||(n[D]=J[1])});n.PhotometricInterpretation||(n.PhotometricInterpretation=3===n.BitsPerSample.length?2:1);n.SamplesPerPixel||(n.SamplesPerPixel=[x]);n.StripByteCounts||(n.StripByteCounts=[x*h*O]);n.ModelPixelScale||(n.ModelPixelScale=[360/O,180/h,0]);n.SampleFormat||(n.SampleFormat=(0,k.times)(x,()=>1));n.hasOwnProperty("GeographicTypeGeoKey")||n.hasOwnProperty("ProjectedCSTypeGeoKey")||(n.GeographicTypeGeoKey=
4326,n.ModelTiepoint=[0,0,0,-180,90,0],n.GeogCitationGeoKey="WGS 84",n.GTModelTypeGeoKey=2);var F=Object.keys(n).filter(J=>(0,k.endsWith)(J,"GeoKey")).sort((J,D)=>p[J]-p[D]);if(!n.GeoAsciiParams){let J="";F.forEach(D=>{"ASCII"===w.fieldTagTypes[Number(p[D])]&&(J+=`${n[D].toString()}\u0000`)});0<J.length&&(n.GeoAsciiParams=J)}if(!n.GeoKeyDirectory){const J=[1,1,0,F.length];F.forEach(D=>{const r=Number(p[D]);J.push(r);let z,G,T;"SHORT"===w.fieldTagTypes[r]?(z=1,G=0,T=n[D]):"GeogCitationGeoKey"===D?
(z=n.GeoAsciiParams.length,G=Number(p.GeoAsciiParams),T=0):console.log(`[geotiff.js] couldn't get TIFFTagLocation for ${D}`);J.push(G);J.push(z);J.push(T)});n.GeoKeyDirectory=J}for(const J in F)F.hasOwnProperty(J)&&delete n[J];"Compression ExtraSamples GeographicTypeGeoKey GTModelTypeGeoKey GTRasterTypeGeoKey ImageLength ImageWidth Orientation PhotometricInterpretation ProjectedCSTypeGeoKey PlanarConfiguration ResolutionUnit SamplesPerPixel XPosition YPosition".split(" ").forEach(J=>{if(n[J]){var D=
n[J];D=Array.isArray(D)?D:[D];n[J]=D}});F=c(n);return b(H,O,h,F)}};
shadow$provide[259]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.timeEnd=A.time=A.error=A.warn=A.info=A.log=A.debug=A.setLogger=void 0;class w{log(){}debug(){}info(){}warn(){}error(){}time(){}timeEnd(){}}let k=new w;A.setLogger=function(p=new w){k=p};A.debug=function(...p){return k.debug(...p)};A.log=function(...p){return k.log(...p)};A.info=function(...p){return k.info(...p)};A.warn=function(...p){return k.warn(...p)};A.error=function(...p){return k.error(...p)};A.time=
function(...p){return k.time(...p)};A.timeEnd=function(...p){return k.timeEnd(...p)}};
shadow$provide[260]=function(Ka,L,sb,A){function w(z){switch(z){case n.fieldTypes.BYTE:case n.fieldTypes.ASCII:case n.fieldTypes.SBYTE:case n.fieldTypes.UNDEFINED:return 1;case n.fieldTypes.SHORT:case n.fieldTypes.SSHORT:return 2;case n.fieldTypes.LONG:case n.fieldTypes.SLONG:case n.fieldTypes.FLOAT:case n.fieldTypes.IFD:return 4;case n.fieldTypes.RATIONAL:case n.fieldTypes.SRATIONAL:case n.fieldTypes.DOUBLE:case n.fieldTypes.LONG8:case n.fieldTypes.SLONG8:case n.fieldTypes.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${z}`);
}}function k(z,G,T,R){let ca,M;const ba=w(G);switch(G){case n.fieldTypes.BYTE:case n.fieldTypes.ASCII:case n.fieldTypes.UNDEFINED:ca=new Uint8Array(T);M=z.readUint8;break;case n.fieldTypes.SBYTE:ca=new Int8Array(T);M=z.readInt8;break;case n.fieldTypes.SHORT:ca=new Uint16Array(T);M=z.readUint16;break;case n.fieldTypes.SSHORT:ca=new Int16Array(T);M=z.readInt16;break;case n.fieldTypes.LONG:case n.fieldTypes.IFD:ca=new Uint32Array(T);M=z.readUint32;break;case n.fieldTypes.SLONG:ca=new Int32Array(T);M=
z.readInt32;break;case n.fieldTypes.LONG8:case n.fieldTypes.IFD8:ca=Array(T);M=z.readUint64;break;case n.fieldTypes.SLONG8:ca=Array(T);M=z.readInt64;break;case n.fieldTypes.RATIONAL:ca=new Uint32Array(2*T);M=z.readUint32;break;case n.fieldTypes.SRATIONAL:ca=new Int32Array(2*T);M=z.readInt32;break;case n.fieldTypes.FLOAT:ca=new Float32Array(T);M=z.readFloat32;break;case n.fieldTypes.DOUBLE:ca=new Float64Array(T);M=z.readFloat64;break;default:throw new RangeError(`Invalid field type: ${G}`);}if(G!==
n.fieldTypes.RATIONAL&&G!==n.fieldTypes.SRATIONAL)for(var W=0;W<T;++W)ca[W]=M.call(z,R+W*ba);else for(W=0;W<T;W+=2)ca[W]=M.call(z,R+W*ba),ca[W+1]=M.call(z,R+(W*ba+4));return G===n.fieldTypes.ASCII?(new TextDecoder("utf-8")).decode(ca):ca}var p=this&&this.__createBinding||(Object.create?function(z,G,T,R){void 0===R&&(R=T);Object.defineProperty(z,R,{enumerable:!0,get:function(){return G[T]}})}:function(z,G,T,R){void 0===R&&(R=T);z[R]=G[T]}),q=this&&this.__setModuleDefault||(Object.create?function(z,
G){Object.defineProperty(z,"default",{enumerable:!0,value:G})}:function(z,G){z["default"]=G});Ka=this&&this.__importStar||function(z){if(z&&z.__esModule)return z;var G={};if(null!=z)for(var T in z)"default"!==T&&Object.prototype.hasOwnProperty.call(z,T)&&p(G,z,T);q(G,z);return G};sb=this&&this.__importDefault||function(z){return z&&z.__esModule?z:{"default":z}};Object.defineProperty(A,"__esModule",{value:!0});A.GeoTIFFImage=A.Pool=A.writeArrayBuffer=A.fromUrls=A.fromBlob=A.fromFile=A.fromArrayBuffer=
A.fromUrl=A.MultiGeoTIFF=A.GeoTIFF=A.setLogger=A.addDecoder=A.getDecoder=A.rgb=A.globals=void 0;const t=sb(L(236));A.GeoTIFFImage=t.default;const m=sb(L(237)),f=sb(L(238));sb=sb(L(241));A.Pool=sb.default;const b=L(254),c=L(255),e=L(256),g=L(257),n=L(221),h=L(258);sb=Ka(L(221));A.globals=sb;Ka=Ka(L(222));A.rgb=Ka;const x=L(234);Object.defineProperty(A,"getDecoder",{enumerable:!0,get:function(){return x.getDecoder}});Object.defineProperty(A,"addDecoder",{enumerable:!0,get:function(){return x.addDecoder}});
const O=L(259);Object.defineProperty(A,"setLogger",{enumerable:!0,get:function(){return O.setLogger}});class H{constructor(z,G,T){this.fileDirectory=z;this.geoKeyDirectory=G;this.nextIFDByteOffset=T}}class F extends Error{constructor(z){super(`No image at index ${z}`);this.index=z}}class J{readRasters(z={}){const G=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const {window:T,width:R,height:ca}=z;let {resX:M,resY:ba,bbox:W}=z;const ea=yield G.getImage();var La=ea,aa=yield G.getImageCount(),
C=ea.getBoundingBox();if(T&&W)throw Error('Both "bbox" and "window" passed.');if(R||ca){if(T){const [Aa,sa]=ea.getOrigin(),[la,Ia]=ea.getResolution();W=[Aa+T[0]*la,sa+T[1]*Ia,Aa+T[2]*la,sa+T[3]*Ia]}var B=W||C;if(R){if(M)throw Error("Both width and resX passed");M=(B[2]-B[0])/R}if(ca){if(ba)throw Error("Both width and resY passed");ba=(B[3]-B[1])/ca}}if(M||ba){B=[];for(var N=0;N<aa;++N){var Y=yield G.getImage(N);const {SubfileType:Aa,NewSubfileType:sa}=Y.fileDirectory;(0===N||2===Aa||sa&1)&&B.push(Y)}B.sort((Aa,
sa)=>Aa.getWidth()-sa.getWidth());for(aa=0;aa<B.length&&!(La=B[aa],N=(C[2]-C[0])/La.getWidth(),Y=(C[3]-C[1])/La.getHeight(),M&&M>N||ba&&ba>Y);++aa);}C=T;if(W){const [Aa,sa]=ea.getOrigin(),[la,Ia]=La.getResolution(ea);C=[Math.round((W[0]-Aa)/la),Math.round((W[1]-sa)/Ia),Math.round((W[2]-Aa)/la),Math.round((W[3]-sa)/Ia)];C=[Math.min(C[0],C[2]),Math.min(C[1],C[3]),Math.max(C[0],C[2]),Math.max(C[1],C[3])]}return La.readRasters(Object.assign({},z,{window:C}))})}}class D extends J{constructor(z,G,T,R,ca=
{}){super();this.source=z;this.littleEndian=G;this.bigTiff=T;this.firstIFDOffset=R;this.cache=ca.cache||!1;this.ifdRequests=[];this.ghostValues=null}getSlice(z,G){const T=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const R=T.bigTiff?4048:1024;return new f.default((yield T.source.fetch([{offset:z,length:"undefined"!==typeof G?G:R}]))[0],z,T.littleEndian,T.bigTiff)})}parseFileDirectoryAt(z){const G=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var T=G.bigTiff?
20:12;const R=G.bigTiff?8:2;let ca=yield G.getSlice(z);const M=G.bigTiff?ca.readUint64(z):ca.readUint16(z);var ba=M*T+(G.bigTiff?16:6);ca.covers(z,ba)||(ca=yield G.getSlice(z,ba));ba={};var W=z+(G.bigTiff?8:2);for(var ea=0;ea<M;W+=T,++ea){var La=ca.readUint16(W),aa=ca.readUint16(W+2),C=G.bigTiff?ca.readUint64(W+4):ca.readUint32(W+4),B=void 0;B=w(aa);var N=W+(G.bigTiff?12:8);B*C<=(G.bigTiff?8:4)?B=k(ca,aa,C,N):(B=ca.readOffset(N),N=w(aa)*C,ca.covers(B,N)?B=k(ca,aa,C,B):(N=yield G.getSlice(B,N),B=k(N,
aa,C,B)));aa=1===C&&-1===n.arrayFields.indexOf(La)&&aa!==n.fieldTypes.RATIONAL&&aa!==n.fieldTypes.SRATIONAL?B[0]:B;ba[n.fieldTagNames[La]]=aa}if(ea=ba.GeoKeyDirectory)for(W={},La=4;La<=4*ea[3];La+=4){aa=n.geoKeyNames[ea[La]];N=ea[La+1]?n.fieldTagNames[ea[La+1]]:null;C=ea[La+2];B=ea[La+3];if(N){N=ba[N];if("undefined"===typeof N||null===N)throw Error(`Could not get value of geoKey '${aa}'.`);"string"===typeof N?N=N.substring(B,B+C-1):N.subarray&&(N=N.subarray(B,B+C),1===C&&(N=N[0]))}else N=B;W[aa]=
N}else W=null;T=ca.readOffset(z+R+T*M);return new H(ba,W,T)})}requestIFD(z){const G=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(G.ifdRequests[z])return G.ifdRequests[z];if(0===z)return G.ifdRequests[z]=G.parseFileDirectoryAt(G.firstIFDOffset),G.ifdRequests[z];if(!G.ifdRequests[z-1])try{G.ifdRequests[z-1]=G.requestIFD(z-1)}catch(T){if(T instanceof F)throw new F(z);throw T;}G.ifdRequests[z]=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){const T=yield G.ifdRequests[z-
1];if(0===T.nextIFDByteOffset)throw new F(z);return G.parseFileDirectoryAt(T.nextIFDByteOffset)}))();return G.ifdRequests[z]})}getImage(z=0){const G=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const T=yield G.requestIFD(z);return new t.default(T.fileDirectory,T.geoKeyDirectory,G.dataView,G.littleEndian,G.cache,G.source)})}getImageCount(){const z=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let G=0,T=!0;for(;T;)try{yield z.requestIFD(G),++G}catch(R){if(R instanceof
F)T=!1;else throw R;}return G})}getGhostValues(){const z=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var G=z.bigTiff?16:8;if(z.ghostValues)return z.ghostValues;let T=yield z.getSlice(G,130);if("GDAL_STRUCTURAL_METADATA_SIZE\x3d"===k(T,n.fieldTypes.ASCII,30,G)){var R=k(T,n.fieldTypes.ASCII,130,G).split("\n")[0];R=Number(R.split("\x3d")[1].split(" ")[0])+R.length;130<R&&(T=yield z.getSlice(G,R));G=k(T,n.fieldTypes.ASCII,R,G);z.ghostValues={};G.split("\n").filter(ca=>0<ca.length).map(ca=>
ca.split("\x3d")).forEach(([ca,M])=>{z.ghostValues[ca]=M})}return z.ghostValues})}static fromSource(z,G,T){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var R=(yield z.fetch([{offset:0,length:1024}],T))[0];R=new m.default(R);var ca=R.getUint16(0,0);if(18761===ca)ca=!0;else if(19789===ca)ca=!1;else throw new TypeError("Invalid byte order value.");var M=R.getUint16(2,ca);if(42===M)M=!1;else if(43===M){if(M=!0,8!==R.getUint16(4,ca))throw Error("Unsupported offset byte-size.");}else throw new TypeError("Invalid magic number.");
R=M?R.getUint64(8,ca):R.getUint32(4,ca);return new D(z,ca,M,R,G)})}close(){return"function"===typeof this.source.close?this.source.close():!1}}A.GeoTIFF=D;A.default=D;class r extends J{constructor(z,G){super();this.mainFile=z;this.overviewFiles=G;this.imageFiles=[z].concat(G);this.imageCount=this.fileDirectoriesPerFileParsing=this.fileDirectoriesPerFile=null}parseFileDirectoriesPerFile(){const z=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const G=[z.mainFile.parseFileDirectoryAt(z.mainFile.firstIFDOffset)].concat(z.overviewFiles.map(T=>
T.parseFileDirectoryAt(T.firstIFDOffset)));z.fileDirectoriesPerFile=yield Promise.all(G);return z.fileDirectoriesPerFile})}getImage(z=0){const G=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield G.getImageCount();yield G.parseFileDirectoriesPerFile();var T=0;let R=0;for(let ca=0;ca<G.imageFiles.length;ca++){const M=G.imageFiles[ca];for(let ba=0;ba<G.imageCounts[ca];ba++){if(z===T)return T=yield M.requestIFD(R),new t.default(T.fileDirectory,T.geoKeyDirectory,M.dataView,M.littleEndian,
M.cache,M.source);T++;R++}R=0}throw new RangeError("Invalid image index");})}getImageCount(){const z=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(null!==z.imageCount)return z.imageCount;const G=[z.mainFile.getImageCount()].concat(z.overviewFiles.map(T=>T.getImageCount()));z.imageCounts=yield Promise.all(G);z.imageCount=z.imageCounts.reduce((T,R)=>T+R,0);return z.imageCount})}}A.MultiGeoTIFF=r;A.fromUrl=function(z,G={},T){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return D.fromSource((0,b.makeRemoteSource)(z,
G),T)})};A.fromArrayBuffer=function(z,G){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return D.fromSource((0,c.makeBufferSource)(z),G)})};A.fromFile=function(z,G){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return D.fromSource((0,g.makeFileSource)(z),G)})};A.fromBlob=function(z,G){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return D.fromSource((0,e.makeFileReaderSource)(z),G)})};A.fromUrls=function(z,G=[],T={},R){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ca=
yield D.fromSource((0,b.makeRemoteSource)(z,T),R),M=yield Promise.all(G.map(ba=>D.fromSource((0,b.makeRemoteSource)(ba,T))));return new r(ca,M)})};A.writeArrayBuffer=function(z,G){return(0,h.writeGeotiff)(z,G)}};
shadow$provide[261]=function(Ka,L,sb,A){function w(F){return F&&F.__esModule?F:{default:F}}function k(F){try{return F.getBoundingBox()}catch(J){return F=F.fileDirectory,[0,0,F.ImageWidth,F.ImageLength]}}function p(F){try{return F.getOrigin().slice(0,2)}catch(J){return[0,F.fileDirectory.ImageLength]}}function q(F,J){try{return F.getResolution(J)}catch(D){return[J.fileDirectory.ImageWidth/F.fileDirectory.ImageWidth,J.fileDirectory.ImageHeight/F.fileDirectory.ImageHeight]}}function t(F){F=F.geoKeys;
if(!F)return null;if(F.ProjectedCSTypeGeoKey){var J="EPSG:"+F.ProjectedCSTypeGeoKey,D=(0,g.get)(J);D||(F=(0,x.fromCode)(F.ProjLinearUnitsGeoKey))&&(D=new g.Projection({code:J,units:F}));return D}return F.GeographicTypeGeoKey?(J="EPSG:"+F.GeographicTypeGeoKey,D=(0,g.get)(J),D||(F=(0,x.fromCode)(F.GeogAngularUnitsGeoKey))&&(D=new g.Projection({code:J,units:F})),D):null}function m(F){return F.getImageCount().then(function(J){const D=Array(J);for(let r=0;r<J;++r)D[r]=F.getImage(r);return Promise.all(D)})}
function f(F,J){return(F.blob?(0,e.fromBlob)(F.blob):F.overviews?(0,e.fromUrls)(F.url,F.overviews,J):(0,e.fromUrl)(F.url,J)).then(m)}function b(F,J,D,r,z){if(Array.isArray(F)){const G=F.length;if(!Array.isArray(J)||G!=J.length)throw F=Error(r),z(F),F;for(let T=0;T<G;++T)b(F[T],J[T],D,r,z)}else if(Math.abs(F-J)>D*F)throw Error(r);}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(214));var c=w(L(196)),e=L(260),g=L(121),n=L(85),h=L(84),x=L(114);let O;class H extends Ka.default{constructor(F){super({state:"loading",
tileGrid:null,projection:null,opaque:F.opaque,transition:F.transition,interpolate:!1!==F.interpolate,wrapX:F.wrapX});this.sourceInfo_=F.sources;const J=this.sourceInfo_.length;this.sourceOptions_=F.sourceOptions;this.sourceImagery_=Array(J);this.resolutionFactors_=Array(J);this.normalize_=!1!==F.normalize;this.addAlpha_=!1;this.error_=null;this.readMethod_=F.convertToRGB?"readRGB":"readRasters";this.setKey(this.sourceInfo_.map(r=>r.url).join(","));const D=this;F=Array(J);for(let r=0;r<J;++r)F[r]=
f(this.sourceInfo_[r],this.sourceOptions_);Promise.all(F).then(function(r){D.configure_(r)}).catch(function(r){console.error(r);D.error_=r;D.setState("error")})}getError(){return this.error_}configure_(F){let J,D,r,z,G;const T=Array(F.length);var R=Array(F.length),ca=Array(F.length);let M=0;const ba=F.length;for(var W=0;W<ba;++W){var ea=F[W],La=ea.length;let N,Y;const Aa=Array(La),sa=Array(La);var aa=Array(La);R[W]=Array(La);ca[W]=Array(La);for(let la=0;la<La;++la){var C=ea[la],B=C.getGDALNoData();
ca[W][la]=C.getGDALMetadata(0);R[W][la]=B;B=this.sourceInfo_[W].bands;T[W]=B?B.length:C.getSamplesPerPixel();B=La-(la+1);N||(N=k(C));Y||(Y=p(C));const Ia=q(C,ea[0]);aa[B]=Ia[0];C=[C.getTileWidth(),C.getTileHeight()];Aa[B]=C;sa[B]=[C[0],C[1]/(Ia[0]/Math.abs(Ia[1]))]}J?(0,h.getIntersection)(J,N,J):J=N;D?b(D,Y,0,`Origin mismatch for source ${W}, got [${Y}] but expected [${D}]`,this.viewRejector):D=Y;if(G){G.length-M>aa.length&&(M=G.length-aa.length);const la=G[G.length-1]/aa[aa.length-1];this.resolutionFactors_[W]=
la;La=aa.map(Ia=>Ia*la);aa=`Resolution mismatch for source ${W}, got [${La}] but expected [${G}]`;b(G.slice(M,G.length),La,.02,aa,this.viewRejector)}else G=aa,this.resolutionFactors_[W]=1;r?b(r.slice(M,r.length),sa,.01,`Tile size mismatch for source ${W}`,this.viewRejector):r=sa;z?b(z.slice(M,z.length),Aa,0,`Tile size mismatch for source ${W}`,this.viewRejector):z=Aa;this.sourceImagery_[W]=ea.reverse()}for(let N=0,Y=this.sourceImagery_.length;N<Y;++N)for(W=this.sourceImagery_[N];W.length<G.length;)W.unshift(void 0);
if(!this.getProjection())for(F=F[0],W=F.length-1;0<=W;--W)if(ea=t(F[W])){this.projection=ea;break}this.samplesPerPixel_=T;this.nodataValues_=R;this.metadata_=ca;a:for(ca=0;ca<ba;++ca){if(void 0!==this.sourceInfo_[ca].nodata){this.addAlpha_=!0;break}F=R[ca];if(W=this.sourceInfo_[ca].bands)for(ea=0;ea<W.length;++ea){if(null!==F[W[ea]-1]){this.addAlpha_=!0;break a}}else for(W=0;W<F.length;++W)if(null!==F[W]){this.addAlpha_=!0;break a}}R=this.addAlpha_?1:0;this.bandCount=T.reduce((N,Y)=>N+Y,0)+R;this.tileGrid=
new c.default({extent:J,minZoom:M,origin:D,resolutions:G,tileSizes:r});this.setTileSizes(z);this.setLoader(this.loadTile_.bind(this));this.setState("ready");this.viewResolver({projection:this.projection,resolutions:G,center:(0,g.toUserCoordinate)((0,h.getCenter)(J),this.projection),extent:(0,g.toUserExtent)(J,this.projection),zoom:0})}loadTile_(F,J,D){const r=this.getTileSize(F),z=this.sourceImagery_.length,G=Array(z),T=this.addAlpha_,R=this.bandCount,ca=this.samplesPerPixel_,M=this.nodataValues_,
ba=this.sourceInfo_;for(let bb=0;bb<z;++bb){var W=ba[bb],ea=this.resolutionFactors_[bb];ea=[Math.round(J*r[0]*ea),Math.round(D*r[1]*ea),Math.round((J+1)*r[0]*ea),Math.round((D+1)*r[1]*ea)];var La=this.sourceImagery_[bb][F];let ib;W.bands&&(ib=W.bands.map(function(Ja){return Ja-1}));var aa=void 0;aa="nodata"in W&&null!==W.nodata?W.nodata:ib?ib.map(function(Ja){return M[bb][Ja]}):M[bb];W=bb;var C=La[this.readMethod_],B=r[0],N=r[1],Y=ib;O||(O=new e.Pool);G[W]=C.call(La,{window:ea,width:B,height:N,samples:Y,
fillValue:aa,pool:O,interleave:!1})}const Aa=r[0]*r[1],sa=Aa*R,la=this.normalize_,Ia=this.metadata_;return Promise.all(G).then(function(bb){let ib;ib=la?new Uint8Array(sa):new Float32Array(sa);let Ja=0;for(let ya=0;ya<Aa;++ya){let oa=T;for(let va=0;va<z;++va){const Ua=ba[va];var ma=Ua.min,Fa=Ua.max,Pa=void 0,qa=void 0;la&&(Pa=Ia[va][0],void 0===ma&&(Pa&&"STATISTICS_MINIMUM"in Pa?qa=parseFloat(Pa.STATISTICS_MINIMUM):(qa=bb[va][0],qa=qa instanceof Int8Array?-128:qa instanceof Int16Array?-32768:qa instanceof
Int32Array?-2147483648:qa instanceof Float32Array?1.2E-38:0),ma=qa),void 0===Fa&&(Pa&&"STATISTICS_MAXIMUM"in Pa?Pa=parseFloat(Pa.STATISTICS_MAXIMUM):(Pa=bb[va][0],Pa=Pa instanceof Int8Array?127:Pa instanceof Uint8Array||Pa instanceof Uint8ClampedArray?255:Pa instanceof Int16Array?32767:Pa instanceof Uint16Array?65535:Pa instanceof Int32Array?2147483647:Pa instanceof Uint32Array?4294967295:Pa instanceof Float32Array?3.4E38:255),Fa=Pa),Pa=255/(Fa-ma),qa=-ma*Pa);for(ma=0;ma<ca[va];++ma){Fa=bb[va][ma][ya];
let eb;eb=la?(0,n.clamp)(Pa*Fa+qa,0,255):Fa;if(T){let ra=Ua.nodata;void 0===ra&&(ra=M[va][Ua.bands?Ua.bands[ma]-1:ma]);const Oa=isNaN(ra);if(!Oa&&Fa!==ra||Oa&&!isNaN(Fa))oa=!1,ib[Ja]=eb}else ib[Ja]=eb;Ja++}}T&&(oa||(ib[Ja]=255),Ja++)}return ib}).catch(function(bb){console.error(bb);throw bb;})}}A.default=H};
shadow$provide[262]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.CustomTile=void 0;var k=L(113);Ka=w(L(186));var p=w(L(196));sb=w(L(201));var q=w(L(109)),t=L(81),m=L(97),f=L(199),b=L(84),c=L(167);class e extends Ka.default{constructor(n,h,x,O,H,F,J){super(h,x,O,H,F,J);this.zoomifyImage_=null;this.tileSize_=n}getImage(){if(this.zoomifyImage_)return this.zoomifyImage_;const n=super.getImage();if(this.state==q.default.LOADED){var h=
this.tileSize_;if(n.width==h[0]&&n.height==h[1])return this.zoomifyImage_=n;h=(0,m.createCanvasContext2D)(h[0],h[1]);h.drawImage(n,0,0);return this.zoomifyImage_=h.canvas}return n}}A.CustomTile=e;class g extends sb.default{constructor(n){var h=n.size,x=n.tilePixelRatio||1,O=h[0],H=h[1];const F=[],J=n.tileSize||k.DEFAULT_TILE_SIZE;h=J*x;switch(void 0!==n.tierSizeCalculation?n.tierSizeCalculation:"default"){case "default":for(;O>h||H>h;)F.push([Math.ceil(O/h),Math.ceil(H/h)]),h+=h;break;case "truncated":var D=
O;let G=H;for(;D>h||G>h;)F.push([Math.ceil(D/h),Math.ceil(G/h)]),D>>=1,G>>=1;break;default:(0,t.assert)(!1,53)}F.push([1,1]);F.reverse();h=[x];const r=[0];for(let G=1,T=F.length;G<T;G++)h.push(x<<G),r.push(F[G-1][0]*F[G-1][1]+r[G-1]);h.reverse();O=new p.default({tileSize:J,extent:n.extent||[0,-H,O,0],resolutions:h});H=n.url;!H||H.includes("{TileGroup}")||H.includes("{tileIndex}")||(H+="{TileGroup}/{z}-{x}-{y}.jpg");H=(0,f.expandUrl)(H);let z=J*x;H=(0,f.createFromTileUrlFunctions)(H.map(function(G){return function(T,
R,ca){if(T){R=T[0];ca=T[1];T=T[2];const M=ca+T*F[R][0],ba={z:R,x:ca,y:T,tileIndex:M,TileGroup:"TileGroup"+((M+r[R])/z|0)};return G.replace(/\{(\w+?)\}/g,function(W,ea){return ba[ea]})}}}));D=e.bind(null,(0,c.toSize)(J*x));super({attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:n.interpolate,projection:n.projection,tilePixelRatio:x,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:D,tileGrid:O,tileUrlFunction:H,transition:n.transition});this.zDirection=
n.zDirection;n=O.getTileCoordForCoordAndResolution((0,b.getCenter)(O.getExtent()),h[h.length-1]);n=H(n,1,null);x=new Image;x.addEventListener("error",function(){z=J;this.changed()}.bind(this));x.src=n}}A.default=g};
shadow$provide[263]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=A.Versions=void 0;var w=L(81);const k={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};A.Versions=k;const p={};p[k.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg",
"png"],qualities:["native","color","grey","bitonal"]}};p[k.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default","bitonal"]}};p[k.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx",
"regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};p.none={none:{supports:[],formats:[],qualities:[]}};const q=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,t=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,m=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,
f={};f[k.VERSION1]=function(c){let e=c.getComplianceLevelSupportedFeatures();void 0===e&&(e=p[k.VERSION1].level0);return{url:void 0===c.imageInfo["@id"]?void 0:c.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:[...e.formats,void 0===c.imageInfo.formats?[]:c.imageInfo.formats],qualities:[...e.qualities,void 0===c.imageInfo.qualities?[]:c.imageInfo.qualities],resolutions:c.imageInfo.scale_factors,tileSize:void 0!==c.imageInfo.tile_width?void 0!==c.imageInfo.tile_height?
[c.imageInfo.tile_width,c.imageInfo.tile_height]:[c.imageInfo.tile_width,c.imageInfo.tile_width]:void 0!=c.imageInfo.tile_height?[c.imageInfo.tile_height,c.imageInfo.tile_height]:void 0}};f[k.VERSION2]=function(c){const e=c.getComplianceLevelSupportedFeatures();var g=Array.isArray(c.imageInfo.profile)&&1<c.imageInfo.profile.length;const n=g&&c.imageInfo.profile[1].supports?c.imageInfo.profile[1].supports:[],h=g&&c.imageInfo.profile[1].formats?c.imageInfo.profile[1].formats:[];g=g&&c.imageInfo.profile[1].qualities?
c.imageInfo.profile[1].qualities:[];return{url:c.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===c.imageInfo.sizes?void 0:c.imageInfo.sizes.map(function(x){return[x.width,x.height]}),tileSize:void 0===c.imageInfo.tiles?void 0:[c.imageInfo.tiles.map(function(x){return x.width})[0],c.imageInfo.tiles.map(function(x){return void 0===x.height?x.width:x.height})[0]],resolutions:void 0===c.imageInfo.tiles?void 0:c.imageInfo.tiles.map(function(x){return x.scaleFactors})[0],supports:[...e.supports,
...n],formats:[...e.formats,...h],qualities:[...e.qualities,...g]}};f[k.VERSION3]=function(c){const e=c.getComplianceLevelSupportedFeatures(),g=void 0===c.imageInfo.extraFormats?e.formats:[...e.formats,...c.imageInfo.extraFormats],n=void 0!==c.imageInfo.preferredFormats&&Array.isArray(c.imageInfo.preferredFormats)&&0<c.imageInfo.preferredFormats.length?c.imageInfo.preferredFormats.filter(function(h){return["jpg","png","gif"].includes(h)}).reduce(function(h,x){return void 0===h&&g.includes(x)?x:h},
void 0):void 0;return{url:c.imageInfo.id,sizes:void 0===c.imageInfo.sizes?void 0:c.imageInfo.sizes.map(function(h){return[h.width,h.height]}),tileSize:void 0===c.imageInfo.tiles?void 0:[c.imageInfo.tiles.map(function(h){return h.width})[0],c.imageInfo.tiles.map(function(h){return h.height})[0]],resolutions:void 0===c.imageInfo.tiles?void 0:c.imageInfo.tiles.map(function(h){return h.scaleFactors})[0],supports:void 0===c.imageInfo.extraFeatures?e.supports:[...e.supports,...c.imageInfo.extraFeatures],
formats:g,qualities:void 0===c.imageInfo.extraQualities?e.qualities:[...e.qualities,...c.imageInfo.extraQualities],preferredFormat:n}};class b{constructor(c){this.setImageInfo(c)}setImageInfo(c){this.imageInfo="string"==typeof c?JSON.parse(c):c}getImageApiVersion(){if(void 0!==this.imageInfo){var c=this.imageInfo["@context"]||"ol-no-context";"string"==typeof c&&(c=[c]);for(let e=0;e<c.length;e++)switch(c[e]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return k.VERSION1;
case "http://iiif.io/api/image/2/context.json":return k.VERSION2;case "http://iiif.io/api/image/3/context.json":return k.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(k.VERSION1)&&this.imageInfo.identifier)return k.VERSION1}(0,w.assert)(!1,61)}}getComplianceLevelEntryFromProfile(c){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===c&&(c=this.getImageApiVersion()),c){case k.VERSION1:if(q.test(this.imageInfo.profile))return this.imageInfo.profile;
break;case k.VERSION3:if(m.test(this.imageInfo.profile))return this.imageInfo.profile;break;case k.VERSION2:if("string"===typeof this.imageInfo.profile&&t.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&t.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}}getComplianceLevelFromProfile(c){c=this.getComplianceLevelEntryFromProfile(c);if(void 0!==c)return c=
c.match(/level[0-2](?:\.json)?$/g),Array.isArray(c)?c[0].replace(".json",""):void 0}getComplianceLevelSupportedFeatures(){if(void 0!==this.imageInfo){var c=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(c);return void 0===e?p.none.none:p[c][e]}}getTileSourceOptions(c){c=c||{};const e=this.getImageApiVersion();if(void 0!==e){var g=void 0===e?void 0:f[e](this);if(void 0!==g)return{url:g.url,version:e,size:[this.imageInfo.width,this.imageInfo.height],sizes:g.sizes,format:void 0!==c.format&&
g.formats.includes(c.format)?c.format:void 0!==g.preferredFormat?g.preferredFormat:"jpg",supports:g.supports,quality:c.quality&&g.qualities.includes(c.quality)?c.quality:g.qualities.includes("native")?"native":"default",resolutions:Array.isArray(g.resolutions)?g.resolutions.sort(function(n,h){return h-n}):void 0,tileSize:g.tileSize}}}}A.default=b};
shadow$provide[264]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}function k(g){return g.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=w(L(196));Ka=w(L(201));var q=L(262),t=L(113),m=L(263),f=L(81),b=L(84),c=L(167);class e extends Ka.default{constructor(g){g=g||{};let n=g.url||"";n+=n.lastIndexOf("/")===n.length-1||""===n?"":"/";const h=g.version||m.Versions.VERSION2,x=g.sizes||[];var O=g.size;(0,f.assert)(void 0!=
O&&Array.isArray(O)&&2==O.length&&!isNaN(O[0])&&0<O[0]&&!isNaN(O[1])&&0<O[1],60);const H=O[0],F=O[1];O=g.tileSize;const J=g.tilePixelRatio||1,D=g.format||"jpg",r=g.quality||(g.version==m.Versions.VERSION1?"native":"default");let z=g.resolutions||[];const G=g.supports||[];var T=g.extent||[0,-F,H,0];const R=void 0!=x&&Array.isArray(x)&&0<x.length,ca=void 0!==O&&("number"===typeof O&&Number.isInteger(O)&&0<O||Array.isArray(O)&&0<O.length),M=void 0!=G&&Array.isArray(G)&&(G.includes("regionByPx")||G.includes("regionByPct"))&&
(G.includes("sizeByWh")||G.includes("sizeByH")||G.includes("sizeByW")||G.includes("sizeByPct"));let ba,W,ea;z.sort(function(C,B){return B-C});if(ca||M){if(void 0!=O)if("number"===typeof O&&Number.isInteger(O)&&0<O)W=ba=O;else if(Array.isArray(O)&&0<O.length){if(1==O.length||void 0==O[1]&&Number.isInteger(O[0]))ba=O[0],W=O[0];2==O.length&&(Number.isInteger(O[0])&&Number.isInteger(O[1])?(ba=O[0],W=O[1]):void 0==O[0]&&Number.isInteger(O[1])&&(ba=O[1],W=O[1]))}if(void 0===ba||void 0===W)W=ba=t.DEFAULT_TILE_SIZE;
if(0==z.length){ea=Math.max(Math.ceil(Math.log(H/ba)/Math.LN2),Math.ceil(Math.log(F/W)/Math.LN2));for(var La=ea;0<=La;La--)z.push(Math.pow(2,La))}else La=Math.max(...z),ea=Math.round(Math.log(La)/Math.LN2)}else if(ba=H,W=F,z=[],R){x.sort(function(C,B){return C[0]-B[0]});ea=-1;La=[];for(var aa=0;aa<x.length;aa++){const C=H/x[aa][0];0<z.length&&z[z.length-1]==C?La.push(aa):(z.push(C),ea++)}if(0<La.length)for(aa=0;aa<La.length;aa++)x.splice(La[aa]-aa,1)}else z.push(1),x.push([H,F]),ea=0;T=new p.default({tileSize:[ba,
W],extent:T,origin:(0,b.getTopLeft)(T),resolutions:z});O=q.CustomTile.bind(null,(0,c.toSize)(O||256).map(function(C){return C*J}));super({attributions:g.attributions,attributionsCollapsible:g.attributionsCollapsible,cacheSize:g.cacheSize,crossOrigin:g.crossOrigin,interpolate:g.interpolate,projection:g.projection,reprojectionErrorThreshold:g.reprojectionErrorThreshold,state:g.state,tileClass:O,tileGrid:T,tilePixelRatio:g.tilePixelRatio,tileUrlFunction:function(C,B,N){var Y;B=C[0];if(!(B>ea)){N=C[1];
var Aa=C[2];C=z[B];if(!(void 0===N||void 0===Aa||void 0===C||0>N||Math.ceil(H/C/ba)<=N||0>Aa||Math.ceil(F/C/W)<=Aa)){if(M||ca){var sa=N*ba*C;const bb=Aa*W*C;var la=ba*C;Aa=W*C;B=ba;N=W;sa+la>H&&(la=H-sa);bb+Aa>F&&(Aa=F-bb);sa+ba*C>H&&(B=Math.floor((H-sa+C-1)/C));bb+W*C>F&&(N=Math.floor((F-bb+C-1)/C));if(0==sa&&la==H&&0==bb&&Aa==F)var Ia="full";else!M||G.includes("regionByPx")?Ia=sa+","+bb+","+la+","+Aa:G.includes("regionByPct")&&(Ia=k(sa/H*100),sa=k(bb/F*100),la=k(la/H*100),Aa=k(Aa/F*100),Ia="pct:"+
Ia+","+sa+","+la+","+Aa);h!=m.Versions.VERSION3||M&&!G.includes("sizeByWh")?!M||G.includes("sizeByW")?Y=B+",":G.includes("sizeByH")?Y=","+N:G.includes("sizeByWh")?Y=B+","+N:G.includes("sizeByPct")&&(Y="pct:"+k(100/C)):Y=B+","+N}else Ia="full",R?(Y=x[B][0],C=x[B][1],Y=h==m.Versions.VERSION3?Y==H&&C==F?"max":Y+","+C:Y==H?"full":Y+","):Y=h==m.Versions.VERSION3?"max":"full";return n+Ia+"/"+Y+"/0/"+r+"."+D}}},transition:g.transition});this.zDirection=g.zDirection}}A.default=e};
shadow$provide[265]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=L(187),p=w(L(72));Ka=w(L(183));var q=w(L(184)),t=w(L(188)),m=L(189),f=L(84),b=L(73);class c extends Ka.default{constructor(e,g,n,h,x,O,H){const F=e.getExtent();var J=g.getExtent(),D=J?(0,f.getIntersection)(n,J):n;J=(0,f.getCenter)(D);J=(0,m.calculateSourceResolution)(e,g,J,h);e=new t.default(e,g,D,F,J*k.ERROR_THRESHOLD,h);D=e.calculateSourceExtent();
O=(x=O(D,J,x))?q.default.IDLE:q.default.EMPTY;J=x?x.getPixelRatio():1;super(n,h,J,O);this.targetProj_=g;this.maxSourceExtent_=F;this.triangulation_=e;this.targetResolution_=h;this.targetExtent_=n;this.sourceImage_=x;this.sourcePixelRatio_=J;this.interpolate_=H;this.sourceListenerKey_=this.canvas_=null}disposeInternal(){this.state==q.default.LOADING&&this.unlistenSource_();super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();
if(e==q.default.LOADED){const g=(0,f.getWidth)(this.targetExtent_)/this.targetResolution_,n=(0,f.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,m.render)(g,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e;this.changed()}load(){if(this.state==q.default.IDLE){this.state=
q.default.LOADING;this.changed();const e=this.sourceImage_.getState();e==q.default.LOADED||e==q.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,b.listen)(this.sourceImage_,p.default.CHANGE,function(g){g=this.sourceImage_.getState();if(g==q.default.LOADED||g==q.default.ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}}unlistenSource_(){(0,b.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null}}A.default=c};
shadow$provide[266]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.defaultImageLoadFunction=function(g,n){g.getImage().src=n};A.default=A.ImageSourceEvent=A.ImageSourceEventType=void 0;Ka=w(L(65));var k=w(L(184)),p=w(L(265));sb=w(L(194));var q=L(75),t=L(84),m=L(121),f=L(68);const b={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};A.ImageSourceEventType=b;class c extends Ka.default{constructor(g,
n){super(g);this.image=n}}A.ImageSourceEvent=c;class e extends sb.default{constructor(g){super({attributions:g.attributions,projection:g.projection,state:g.state,interpolate:void 0!==g.interpolate?g.interpolate:!0});this.resolutions_=void 0!==g.resolutions?g.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0}getResolutions(){return this.resolutions_}findNearestResolution(g){this.resolutions_&&(g=(0,f.linearFindNearest)(this.resolutions_,g,0),g=this.resolutions_[g]);return g}getImage(g,
n,h,x){const O=this.getProjection();if(O&&x&&!(0,m.equivalent)(O,x)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,m.equivalent)(this.reprojectedImage_.getProjection(),x)&&this.reprojectedImage_.getResolution()==n&&(0,t.equals)(this.reprojectedImage_.getExtent(),g))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new p.default(O,x,g,n,h,function(H,F,J){return this.getImageInternal(H,F,J,O)}.bind(this),
this.getInterpolate());this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}O&&(x=O);return this.getImageInternal(g,n,h,x)}getImageInternal(g,n,h,x){return(0,q.abstract)()}handleImageChange(g){g=g.target;let n;switch(g.getState()){case k.default.LOADING:this.loading=!0;n=b.IMAGELOADSTART;break;case k.default.LOADED:this.loading=!1;n=b.IMAGELOADEND;break;case k.default.ERROR:this.loading=!1;n=b.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new c(n,
g))}}A.default=e};
shadow$provide[267]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.appendParams=function(w,k){const p=[];Object.keys(k).forEach(function(t){null!==k[t]&&void 0!==k[t]&&p.push(t+"\x3d"+encodeURIComponent(k[t]))});const q=p.join("\x26");w=w.replace(/[?&]$/,"");w+=w.includes("?")?"\x26":"?";return w+q}};
shadow$provide[268]=function(Ka,L,sb,A){function w(e){if("function"!==typeof WeakMap)return null;var g=new WeakMap,n=new WeakMap;return(w=function(h){return h?n:g})(e)}function k(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(e,g){if(!g&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((g=w(g))&&g.has(e))return g.get(e);var n={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,
x;for(x in e)if("default"!==x&&Object.prototype.hasOwnProperty.call(e,x)){var O=h?Object.getOwnPropertyDescriptor(e,x):null;O&&(O.get||O.set)?Object.defineProperty(n,x,O):n[x]=e[x]}n.default=e;g&&g.set(e,n);return n}(L(266)),t=k(L(185)),m=L(267),f=L(81),b=L(84);class c extends q.default{constructor(e){e=e?e:{};super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions});this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;this.hidpi_=void 0!==
e.hidpi?e.hidpi:!0;this.url_=e.url;this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:q.defaultImageLoadFunction;this.params_=e.params||{};this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=void 0!==e.ratio?e.ratio:1.5}getParams(){return this.params_}getImageInternal(e,g,n,h){if(void 0===this.url_)return null;g=this.findNearestResolution(g);n=this.hidpi_?n:1;var x=this.image_;if(x&&this.renderedRevision_==this.getRevision()&&x.getResolution()==g&&x.getPixelRatio()==
n&&(0,b.containsExtent)(x.getExtent(),e))return x;x={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object.assign(x,this.params_);e=e.slice();const O=(e[0]+e[2])/2,H=(e[1]+e[3])/2;if(1!=this.ratio_){var F=this.ratio_*(0,b.getWidth)(e)/2,J=this.ratio_*(0,b.getHeight)(e)/2;e[0]=O-F;e[1]=H-J;e[2]=O+F;e[3]=H+J}F=g/n;J=Math.ceil((0,b.getWidth)(e)/F);const D=Math.ceil((0,b.getHeight)(e)/F);e[0]=O-F*J/2;e[2]=O+F*J/2;e[1]=H-F*D/2;e[3]=H+F*D/2;this.imageSize_[0]=J;this.imageSize_[1]=D;h=this.getRequestUrl_(e,this.imageSize_,
n,h,x);this.image_=new t.default(e,g,n,h,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this));return this.image_}getImageLoadFunction(){return this.imageLoadFunction_}getRequestUrl_(e,g,n,h,x){h=h.getCode().split(/:(?=\d+$)/).pop();x.SIZE=g[0]+","+g[1];x.BBOX=e.join(",");x.BBOXSR=h;x.IMAGESR=h;x.DPI=Math.round(90*n);e=this.url_;g=e.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,
"ImageServer/exportImage");g==e&&(0,f.assert)(!1,50);return(0,m.appendParams)(g,x)}getUrl(){return this.url_}setImageLoadFunction(e){this.image_=null;this.imageLoadFunction_=e;this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())}updateParams(e){Object.assign(this.params_,e);this.image_=null;this.changed()}}A.default=c};
shadow$provide[269]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(183));var k=w(L(184));class p extends Ka.default{constructor(q,t,m,f,b){super(q,t,m,void 0!==b?k.default.IDLE:k.default.LOADED);this.loader_=void 0!==b?b:null;this.canvas_=f;this.error_=null}getError(){return this.error_}handleLoad_(q){q?(this.error_=q,this.state=k.default.ERROR):this.state=k.default.LOADED;this.changed()}load(){this.state==
k.default.IDLE&&(this.state=k.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}A.default=p};
shadow$provide[270]=function(Ka,L,sb,A){function w(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(269));Ka=w(L(266));var p=L(84);class q extends Ka.default{constructor(t){t=t?t:{};super({attributions:t.attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions,state:t.state});this.canvasFunction_=t.canvasFunction;this.canvas_=null;this.renderedRevision_=0;this.ratio_=void 0!==t.ratio?t.ratio:1.5}getImageInternal(t,
m,f,b){m=this.findNearestResolution(m);let c=this.canvas_;if(c&&this.renderedRevision_==this.getRevision()&&c.getResolution()==m&&c.getPixelRatio()==f&&(0,p.containsExtent)(c.getExtent(),t))return c;t=t.slice();(0,p.scaleFromCenter)(t,this.ratio_);const e=(0,p.getWidth)(t)/m,g=(0,p.getHeight)(t)/m;(b=this.canvasFunction_.call(this,t,m,f,[e*f,g*f],b))&&(c=new k.default(t,m,f,b));this.canvas_=c;this.renderedRevision_=this.getRevision();return c}}A.default=q};
shadow$provide[271]=function(Ka,L,sb,A){function w(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,g=new WeakMap;return(w=function(n){return n?g:e})(c)}function k(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=w(e))&&e.has(c))return e.get(c);var g={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor,
h;for(h in c)if("default"!==h&&Object.prototype.hasOwnProperty.call(c,h)){var x=n?Object.getOwnPropertyDescriptor(c,h):null;x&&(x.get||x.set)?Object.defineProperty(g,h,x):g[h]=c[h]}g.default=c;e&&e.set(c,g);return g}(L(266)),t=k(L(185)),m=L(267),f=L(84);class b extends q.default{constructor(c){super({interpolate:c.interpolate,projection:c.projection,resolutions:c.resolutions});this.crossOrigin_=void 0!==c.crossOrigin?c.crossOrigin:null;this.displayDpi_=void 0!==c.displayDpi?c.displayDpi:96;this.params_=
c.params||{};this.url_=c.url;this.imageLoadFunction_=void 0!==c.imageLoadFunction?c.imageLoadFunction:q.defaultImageLoadFunction;this.hidpi_=void 0!==c.hidpi?c.hidpi:!0;this.metersPerUnit_=void 0!==c.metersPerUnit?c.metersPerUnit:1;this.ratio_=void 0!==c.ratio?c.ratio:1;this.useOverlay_=void 0!==c.useOverlay?c.useOverlay:!1;this.image_=null;this.renderedRevision_=0}getParams(){return this.params_}getImageInternal(c,e,g,n){e=this.findNearestResolution(e);g=this.hidpi_?g:1;var h=this.image_;if(h&&this.renderedRevision_==
this.getRevision()&&h.getResolution()==e&&h.getPixelRatio()==g&&(0,f.containsExtent)(h.getExtent(),c))return h;1!=this.ratio_&&(c=c.slice(),(0,f.scaleFromCenter)(c,this.ratio_));h=(0,f.getWidth)(c)/e;const x=(0,f.getHeight)(c)/e;h=[h*g,x*g];void 0!==this.url_?(n=this.getUrl(this.url_,this.params_,c,h,n),h=new t.default(c,e,g,n,this.crossOrigin_,this.imageLoadFunction_),h.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this))):h=null;this.image_=h;this.renderedRevision_=this.getRevision();
return h}getImageLoadFunction(){return this.imageLoadFunction_}updateParams(c){Object.assign(this.params_,c);this.changed()}getUrl(c,e,g,n,h){{h=this.metersPerUnit_;var x=this.displayDpi_;const O=(0,f.getWidth)(g),H=(0,f.getHeight)(g),F=n[0],J=n[1];x=.0254/x;h=J*O>F*H?O*h/(F*x):H*h/(J*x)}g=(0,f.getCenter)(g);n={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(n[0]),
SETDISPLAYHEIGHT:Math.round(n[1]),SETVIEWSCALE:h,SETVIEWCENTERX:g[0],SETVIEWCENTERY:g[1]};Object.assign(n,e);return(0,m.appendParams)(c,n)}setImageLoadFunction(c){this.image_=null;this.imageLoadFunction_=c;this.changed()}}A.default=b};
shadow$provide[272]=function(Ka,L,sb,A){function w(g){if("function"!==typeof WeakMap)return null;var n=new WeakMap,h=new WeakMap;return(w=function(x){return x?h:n})(g)}function k(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(g,n){if(!n&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((n=w(n))&&n.has(g))return n.get(g);var h={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,
O;for(O in g)if("default"!==O&&Object.prototype.hasOwnProperty.call(g,O)){var H=x?Object.getOwnPropertyDescriptor(g,O):null;H&&(H.get||H.set)?Object.defineProperty(h,O,H):h[O]=g[O]}h.default=g;n&&n.set(g,h);return h}(L(266)),t=k(L(184)),m=k(L(185)),f=L(97),b=L(84),c=L(121);class e extends q.default{constructor(g){const n=void 0!==g.crossOrigin?g.crossOrigin:null,h=void 0!==g.imageLoadFunction?g.imageLoadFunction:q.defaultImageLoadFunction;super({attributions:g.attributions,interpolate:g.interpolate,
projection:(0,c.get)(g.projection)});this.url_=g.url;this.imageExtent_=g.imageExtent;this.image_=new m.default(this.imageExtent_,void 0,1,this.url_,n,h);this.imageSize_=g.imageSize?g.imageSize:null;this.image_.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(g,n,h,x){return(0,b.intersects)(g,this.image_.getExtent())?this.image_:null}getUrl(){return this.url_}handleImageChange(g){if(this.image_.getState()==t.default.LOADED){var n=
this.image_.getExtent();const x=this.image_.getImage();let O,H;this.imageSize_?(O=this.imageSize_[0],H=this.imageSize_[1]):(O=x.width,H=x.height);var h=(0,b.getWidth)(n);n=(0,b.getHeight)(n);const F=h/O,J=n/H;let D=O,r=H;F>J?D=Math.round(h/J):r=Math.round(n/F);if(D!==O||r!==H)h=(0,f.createCanvasContext2D)(D,r),this.getInterpolate()||(h.imageSmoothingEnabled=!1),n=h.canvas,h.drawImage(x,0,0,O,H,0,0,n.width,n.height),this.image_.setImage(n)}super.handleImageChange(g)}}A.default=e};
shadow$provide[273]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.DEFAULT_VERSION="1.3.0"};
shadow$provide[274]=function(Ka,L,sb,A){function w(H){if("function"!==typeof WeakMap)return null;var F=new WeakMap,J=new WeakMap;return(w=function(D){return D?J:F})(H)}function k(H){return H&&H.__esModule?H:{default:H}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(H,F){if(!F&&H&&H.__esModule)return H;if(null===H||"object"!==typeof H&&"function"!==typeof H)return{default:H};if((F=w(F))&&F.has(H))return F.get(H);var J={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor,
r;for(r in H)if("default"!==r&&Object.prototype.hasOwnProperty.call(H,r)){var z=D?Object.getOwnPropertyDescriptor(H,r):null;z&&(z.get||z.set)?Object.defineProperty(J,r,z):J[r]=H[r]}J.default=H;F&&F.set(H,J);return J}(L(266)),t=k(L(185)),m=L(273),f=L(267),b=L(81),c=L(189),e=L(85),g=L(92),n=L(84),h=L(121);const x=[101,101];class O extends q.default{constructor(H){H=H?H:{};super({attributions:H.attributions,interpolate:H.interpolate,projection:H.projection,resolutions:H.resolutions});this.crossOrigin_=
void 0!==H.crossOrigin?H.crossOrigin:null;this.url_=H.url;this.imageLoadFunction_=void 0!==H.imageLoadFunction?H.imageLoadFunction:q.defaultImageLoadFunction;this.params_=H.params||{};this.v13_=!0;this.updateV13_();this.serverType_=H.serverType;this.hidpi_=void 0!==H.hidpi?H.hidpi:!0;this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=void 0!==H.ratio?H.ratio:1.5}getFeatureInfoUrl(H,F,J,D){if(void 0!==this.url_){J=(0,h.get)(J);var r=this.getProjection();r&&r!==J&&(F=(0,c.calculateSourceResolution)(r,
J,H,F),H=(0,h.transform)(H,J,r));var z=(0,n.getForViewAndSize)(H,F,0,x),G={SERVICE:"WMS",VERSION:m.DEFAULT_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(G,this.params_,D);D=(0,e.floor)((H[0]-z[0])/F,4);H=(0,e.floor)((z[3]-H[1])/F,4);G[this.v13_?"I":"X"]=D;G[this.v13_?"J":"Y"]=H;return this.getRequestUrl_(z,x,1,r||J,G)}}getLegendUrl(H,F){if(void 0!==this.url_){var J={SERVICE:"WMS",VERSION:m.DEFAULT_VERSION,REQUEST:"GetLegendGraphic",
FORMAT:"image/png"};if(void 0===F||void 0===F.LAYER){var D=this.params_.LAYERS;if(Array.isArray(D)&&1!==D.length)return;J.LAYER=D}void 0!==H&&(D=this.getProjection()?this.getProjection().getMetersPerUnit():1,J.SCALE=H*D/2.8E-4);Object.assign(J,F);return(0,f.appendParams)(this.url_,J)}}getParams(){return this.params_}getImageInternal(H,F,J,D){if(void 0===this.url_)return null;F=this.findNearestResolution(F);1==J||this.hidpi_&&void 0!==this.serverType_||(J=1);const r=F/J;var z=(0,n.getCenter)(H),G=
(0,e.ceil)((0,n.getWidth)(H)/r,4),T=(0,e.ceil)((0,n.getHeight)(H)/r,4);G=(0,n.getForViewAndSize)(z,r,0,[G,T]);T=(0,e.ceil)(this.ratio_*(0,n.getWidth)(H)/r,4);H=(0,e.ceil)(this.ratio_*(0,n.getHeight)(H)/r,4);z=(0,n.getForViewAndSize)(z,r,0,[T,H]);if((H=this.image_)&&this.renderedRevision_==this.getRevision()&&H.getResolution()==F&&H.getPixelRatio()==J&&(0,n.containsExtent)(H.getExtent(),G))return H;G={SERVICE:"WMS",VERSION:m.DEFAULT_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object.assign(G,
this.params_);this.imageSize_[0]=(0,e.round)((0,n.getWidth)(z)/r,4);this.imageSize_[1]=(0,e.round)((0,n.getHeight)(z)/r,4);D=this.getRequestUrl_(z,this.imageSize_,J,D,G);this.image_=new t.default(z,F,J,D,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this));return this.image_}getImageLoadFunction(){return this.imageLoadFunction_}getRequestUrl_(H,F,J,D,r){(0,b.assert)(void 0!==this.url_,
9);r[this.v13_?"CRS":"SRS"]=D.getCode();"STYLES"in this.params_||(r.STYLES="");if(1!=J)switch(this.serverType_){case "geoserver":J=90*J+.5|0;r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+(";dpi:"+J):"dpi:"+J;break;case "mapserver":r.MAP_RESOLUTION=90*J;break;case "carmentaserver":case "qgis":r.DPI=90*J;break;default:(0,b.assert)(!1,8)}r.WIDTH=F[0];r.HEIGHT=F[1];F=D.getAxisOrientation();H=this.v13_&&"ne"==F.substr(0,2)?[H[1],H[0],H[3],H[2]]:H;r.BBOX=H.join(",");return(0,f.appendParams)(this.url_,
r)}getUrl(){return this.url_}setImageLoadFunction(H){this.image_=null;this.imageLoadFunction_=H;this.changed()}setUrl(H){H!=this.url_&&(this.url_=H,this.image_=null,this.changed())}updateParams(H){Object.assign(this.params_,H);this.updateV13_();this.image_=null;this.changed()}updateV13_(){this.v13_=0<=(0,g.compareVersions)(this.params_.VERSION||m.DEFAULT_VERSION,"1.3")}}A.default=O};
shadow$provide[275]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=A.ATTRIBUTION=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(204));A.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';class w extends Ka.default{constructor(k){k=k||{};super({attributions:void 0!==k.attributions?k.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],
attributionsCollapsible:!1,cacheSize:k.cacheSize,crossOrigin:void 0!==k.crossOrigin?k.crossOrigin:"anonymous",interpolate:k.interpolate,maxZoom:void 0!==k.maxZoom?k.maxZoom:19,opaque:void 0!==k.opaque?k.opaque:!0,reprojectionErrorThreshold:k.reprojectionErrorThreshold,tileLoadFunction:k.tileLoadFunction,transition:k.transition,url:void 0!==k.url?k.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:k.wrapX,zDirection:k.zDirection})}}A.default=w};
shadow$provide[276]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(91));class w extends Ka.default{constructor(k){k=k?k:{};super(k)}}A.default=w};
shadow$provide[277]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(72)),p=w(L(184));Ka=w(L(74));var q=L(75);class t extends Ka.default{constructor(m){super();this.ready=!0;this.boundHandleImageChange_=this.handleImageChange_.bind(this);this.layer_=m;this.declutterExecutorGroup=null}getFeatures(m){return(0,q.abstract)()}getData(m){return null}prepareFrame(m){return(0,q.abstract)()}renderFrame(m,f){return(0,q.abstract)()}loadedTileCallback(m,
f,b){m[f]||(m[f]={});m[f][b.tileCoord.toString()]=b}createLoadedTileFinder(m,f,b){return function(c,e){const g=this.loadedTileCallback.bind(this,b,c);return m.forEachLoadedTile(f,c,e,g)}.bind(this)}forEachFeatureAtCoordinate(m,f,b,c,e){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(m){m.target.getState()===p.default.LOADED&&this.renderIfReadyAndVisible()}loadImage(m){let f=m.getState();f!=p.default.LOADED&&f!=p.default.ERROR&&m.addEventListener(k.default.CHANGE,this.boundHandleImageChange_);
f==p.default.IDLE&&(m.load(),f=m.getState());return f==p.default.LOADED}renderIfReadyAndVisible(){const m=this.getLayer();m&&m.getVisible()&&"ready"===m.getSourceState()&&m.changed()}disposeInternal(){delete this.layer_;super.disposeInternal()}}A.default=t};
shadow$provide[278]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.canvasPool=void 0;Ka=w(L(277));var k=w(L(95)),p=w(L(90)),q=L(82),t=L(86),m=L(97),f=L(68),b=L(84);A.canvasPool=[];let c=null;class e extends Ka.default{constructor(g){super(g);this.container=null;this.tempTransform=(0,q.create)();this.pixelTransform=(0,q.create)();this.inversePixelTransform=(0,q.create)();this.context=null;this.containerReused=!1;this.frameState=
this.pixelContext_=null}getImageData(g,n,h){if(!c){const O=document.createElement("canvas");O.width=1;O.height=1;c=O.getContext("2d")}c.clearRect(0,0,1,1);let x;try{c.drawImage(g,n,h,1,1,0,0,1,1),x=c.getImageData(0,0,1,1).data}catch(O){return c=null}return x}getBackground(g){let n=this.getLayer().getBackground();"function"===typeof n&&(n=n(g.viewState.resolution));return n||void 0}useContainer(g,n,h){var x=this.getLayer().getClassName();let O;if(g&&g.className===x&&(!h||g&&g.style.backgroundColor&&
(0,f.equals)((0,t.asArray)(g.style.backgroundColor),(0,t.asArray)(h)))){const H=g.firstElementChild;H instanceof HTMLCanvasElement&&(O=H.getContext("2d"))}O&&O.canvas.style.transform===n?(this.container=g,this.context=O,this.containerReused=!0):this.containerReused&&(this.context=this.container=null,this.containerReused=!1);this.container||(g=document.createElement("div"),g.className=x,x=g.style,x.position="absolute",x.width="100%",x.height="100%",O=(0,m.createCanvasContext2D)(),x=O.canvas,g.appendChild(x),
x=x.style,x.position="absolute",x.left="0",x.transformOrigin="top left",this.container=g,this.context=O);this.containerReused||!h||this.container.style.backgroundColor||(this.container.style.backgroundColor=h)}clipUnrotated(g,n,h){const x=(0,b.getTopLeft)(h),O=(0,b.getTopRight)(h),H=(0,b.getBottomRight)(h);h=(0,b.getBottomLeft)(h);(0,q.apply)(n.coordinateToPixelTransform,x);(0,q.apply)(n.coordinateToPixelTransform,O);(0,q.apply)(n.coordinateToPixelTransform,H);(0,q.apply)(n.coordinateToPixelTransform,
h);n=this.inversePixelTransform;(0,q.apply)(n,x);(0,q.apply)(n,O);(0,q.apply)(n,H);(0,q.apply)(n,h);g.save();g.beginPath();g.moveTo(Math.round(x[0]),Math.round(x[1]));g.lineTo(Math.round(O[0]),Math.round(O[1]));g.lineTo(Math.round(H[0]),Math.round(H[1]));g.lineTo(Math.round(h[0]),Math.round(h[1]));g.clip()}dispatchRenderEvent_(g,n,h){const x=this.getLayer();x.hasListener(g)&&(g=new k.default(g,this.inversePixelTransform,h,n),x.dispatchEvent(g))}preRender(g,n){this.frameState=n;this.dispatchRenderEvent_(p.default.PRERENDER,
g,n)}postRender(g,n){this.dispatchRenderEvent_(p.default.POSTRENDER,g,n)}getRenderTransform(g,n,h,x,O,H,F){n=x/n;return(0,q.compose)(this.tempTransform,O/2,H/2,n,-n,-h,-g[0]+F,-g[1])}disposeInternal(){delete this.frameState;super.disposeInternal()}}A.default=e};
shadow$provide[279]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(278));var k=w(L(184)),p=w(L(111)),q=L(82),t=L(84),m=L(121);class f extends Ka.default{constructor(b){super(b);this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(b){var c=b.layerStatesArray[b.layerIndex];const e=b.pixelRatio,g=b.viewState,n=g.resolution,h=this.getLayer().getSource(),x=b.viewHints;b=b.extent;
void 0!==c.extent&&(b=(0,t.getIntersection)(b,(0,m.fromUserExtent)(c.extent,g.projection)));if(!x[p.default.ANIMATING]&&!x[p.default.INTERACTING]&&!(0,t.isEmpty)(b))if(h){if(c=h.getImage(b,n,e,g.projection))this.loadImage(c)?this.image_=c:c.getState()===k.default.EMPTY&&(this.image_=null)}else this.image_=null;return!!this.image_}getData(b){var c=this.frameState;if(!c)return null;var e=this.getLayer();b=(0,q.apply)(c.pixelToCoordinateTransform,b.slice());if((e=e.getExtent())&&!(0,t.containsCoordinate)(e,
b))return null;c=this.image_.getExtent();e=this.image_.getImage();var g=(0,t.getWidth)(c);g=Math.floor((b[0]-c[0])/g*e.width);if(0>g||g>=e.width)return null;const n=(0,t.getHeight)(c);b=Math.floor((c[3]-b[1])/n*e.height);return 0>b||b>=e.height?null:this.getImageData(e,g,b)}renderFrame(b,c){var e=this.image_,g=e.getExtent(),n=e.getResolution(),h=e.getPixelRatio(),x=b.layerStatesArray[b.layerIndex],O=b.pixelRatio,H=b.viewState;const F=H.center,J=O*n/(H.resolution*h);var D=b.extent,r=H.resolution,z=
H.rotation;const G=Math.round((0,t.getWidth)(D)/r*O),T=Math.round((0,t.getHeight)(D)/r*O);(0,q.compose)(this.pixelTransform,b.size[0]/2,b.size[1]/2,1/O,1/O,z,-G/2,-T/2);(0,q.makeInverse)(this.inversePixelTransform,this.pixelTransform);z=(0,q.toString)(this.pixelTransform);this.useContainer(c,z,this.getBackground(b));c=this.context;D=c.canvas;D.width!=G||D.height!=T?(D.width=G,D.height=T):this.containerReused||c.clearRect(0,0,G,T);r=!1;let R=!0;x.extent&&(H=(0,m.fromUserExtent)(x.extent,H.projection),
(r=(R=(0,t.intersects)(H,b.extent))&&!(0,t.containsExtent)(H,b.extent))&&this.clipUnrotated(c,b,H));e=e.getImage();g=(0,q.compose)(this.tempTransform,G/2,T/2,J,J,0,h*(g[0]-F[0])/n,h*(F[1]-g[3])/n);this.renderedResolution=n*O/h;n=e.width*g[0];h=e.height*g[3];this.getLayer().getSource().getInterpolate()||(c.imageSmoothingEnabled=!1);this.preRender(c,b);if(R&&.5<=n&&.5<=h){O=g[4];g=g[5];x=x.opacity;let ca;1!==x&&(ca=c.globalAlpha,c.globalAlpha=x);c.drawImage(e,0,0,+e.width,+e.height,O,g,n,h);1!==x&&
(c.globalAlpha=ca)}this.postRender(c,b);r&&c.restore();c.imageSmoothingEnabled=!0;z!==D.style.transform&&(D.style.transform=z);return this.container}}A.default=f};
shadow$provide[280]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(276));var k=w(L(279));class p extends Ka.default{constructor(q){super(q)}createRenderer(){return new k.default(this)}getData(q){return super.getData(q)}}A.default=p};
shadow$provide[281]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[282]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(91));var k=w(L(281));class p extends Ka.default{constructor(q){q=q?q:{};const t=Object.assign({},q);delete t.preload;delete t.useInterimTilesOnError;super(t);this.setPreload(void 0!==q.preload?q.preload:0);this.setUseInterimTilesOnError(void 0!==q.useInterimTilesOnError?q.useInterimTilesOnError:!0)}getPreload(){return this.get(k.default.PRELOAD)}setPreload(q){this.set(k.default.PRELOAD,
q)}getUseInterimTilesOnError(){return this.get(k.default.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(q){this.set(k.default.USE_INTERIM_TILES_ON_ERROR,q)}getData(q){return super.getData(q)}}A.default=p};
shadow$provide[283]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(278));var k=w(L(186)),p=w(L(190)),q=w(L(195)),t=w(L(109)),m=L(82),f=L(84),b=L(121),c=L(75),e=L(68),g=L(167);class n extends Ka.default{constructor(h){super(h);this.extentChanged=!0;this.renderedProjection=this.renderedExtent_=null;this.renderedTiles=[];this.newTiles_=!1;this.tmpExtent=(0,f.createEmpty)();this.tmpTileRange_=new q.default(0,
0,0,0)}isDrawableTile(h){var x=this.getLayer();h=h.getState();x=x.getUseInterimTilesOnError();return h==t.default.LOADED||h==t.default.EMPTY||h==t.default.ERROR&&!x}getTile(h,x,O,H){const F=H.pixelRatio,J=H.viewState.projection;H=this.getLayer();h=H.getSource().getTile(h,x,O,F,J);h.getState()==t.default.ERROR&&H.getUseInterimTilesOnError()&&0<H.getPreload()&&(this.newTiles_=!0);this.isDrawableTile(h)||(h=h.getInterimTile());return h}getData(h){var x=this.frameState;if(!x)return null;var O=this.getLayer();
h=(0,m.apply)(x.pixelToCoordinateTransform,h.slice());var H=O.getExtent();if(H&&!(0,f.containsCoordinate)(H,h))return null;var F=x.pixelRatio,J=x.viewState.projection;H=x.viewState;O=O.getRenderSource();var D=O.getTileGridForProjection(H.projection);const r=O.getTilePixelRatio(x.pixelRatio);for(var z=D.getZForResolution(H.resolution);z>=D.getMinZoom();--z){const G=D.getTileCoordForCoordAndZ(h,z);x=O.getTile(z,G[1],G[2],F,J);if(!(x instanceof k.default||x instanceof p.default))break;if(x.getState()===
t.default.LOADED)return F=D.getOrigin(z),J=(0,g.toSize)(D.getTileSize(z)),z=D.getResolution(z),D=Math.floor(r*((h[0]-F[0])/z-G[1]*J[0])),h=Math.floor(r*((F[1]-h[1])/z-G[2]*J[1])),H=Math.round(r*O.getGutterForProjection(H.projection)),this.getImageData(x.getImage(),D+H,h+H)}return null}loadedTileCallback(h,x,O){return this.isDrawableTile(O)?super.loadedTileCallback(h,x,O):!1}prepareFrame(h){return!!this.getLayer().getSource()}renderFrame(h,x){const O=h.layerStatesArray[h.layerIndex];var H=h.viewState;
const F=H.projection;var J=H.resolution,D=H.center,r=H.rotation;const z=h.pixelRatio,G=this.getLayer(),T=G.getSource(),R=T.getRevision(),ca=T.getTileGridForProjection(F),M=ca.getZForResolution(J,T.zDirection),ba=ca.getResolution(M);let W=h.extent;var ea=h.viewState.resolution;const La=T.getTilePixelRatio(z);var aa=Math.round((0,f.getWidth)(W)/ea*z),C=Math.round((0,f.getHeight)(W)/ea*z),B=O.extent&&(0,b.fromUserExtent)(O.extent,F);B&&(W=(0,f.getIntersection)(W,(0,b.fromUserExtent)(O.extent,F)));var N=
ba*aa/2/La,Y=ba*C/2/La;D=[D[0]-N,D[1]-Y,D[0]+N,D[1]+Y];Y=ca.getTileRangeForExtentAndZ(W,M);N={};N[M]={};var Aa=this.createLoadedTileFinder(T,F,N),sa=this.tmpExtent,la=this.tmpTileRange_;this.newTiles_=!1;H=r?(0,f.getRotatedViewport)(H.center,ea,r,h.size):void 0;for(ea=Y.minX;ea<=Y.maxX;++ea)for(var Ia=Y.minY;Ia<=Y.maxY;++Ia)if(!r||ca.tileCoordIntersectsViewport([M,ea,Ia],H)){var bb=this.getTile(M,ea,Ia,h);if(this.isDrawableTile(bb)){var ib=(0,c.getUid)(this);if(bb.getState()==t.default.LOADED){N[M][bb.tileCoord.toString()]=
bb;var Ja=bb.inTransition(ib);Ja&&1!==O.opacity&&(bb.endTransition(ib),Ja=!1);this.newTiles_||!Ja&&this.renderedTiles.includes(bb)||(this.newTiles_=!0)}if(1===bb.getAlpha(ib,h.time))continue}ib=ca.getTileCoordChildTileRange(bb.tileCoord,la,sa);Ja=!1;ib&&(Ja=Aa(M+1,ib));Ja||ca.forEachTileCoordParentTileRange(bb.tileCoord,Aa,la,sa)}J=ba/J*z/La;(0,m.compose)(this.pixelTransform,h.size[0]/2,h.size[1]/2,1/z,1/z,r,-aa/2,-C/2);r=(0,m.toString)(this.pixelTransform);this.useContainer(x,r,this.getBackground(h));
x=this.context;Y=x.canvas;(0,m.makeInverse)(this.inversePixelTransform,this.pixelTransform);(0,m.compose)(this.tempTransform,aa/2,C/2,J,J,0,-aa/2,-C/2);Y.width!=aa||Y.height!=C?(Y.width=aa,Y.height=C):this.containerReused||x.clearRect(0,0,aa,C);B&&this.clipUnrotated(x,h,B);T.getInterpolate()||(x.imageSmoothingEnabled=!1);this.preRender(x,h);this.renderedTiles.length=0;aa=Object.keys(N).map(Number);aa.sort(e.numberSafeCompareFunction);let ma,Fa;1!==O.opacity||this.containerReused&&!T.getOpaque(h.viewState.projection)?
(ma=[],Fa=[]):aa=aa.reverse();for(C=aa.length-1;0<=C;--C){B=aa[C];sa=T.getTilePixelSize(B,z,F);la=ca.getResolution(B)/ba;Aa=sa[0]*la*J;sa=sa[1]*la*J;la=ca.getTileCoordForCoordAndZ((0,f.getTopLeft)(D),B);H=ca.getTileCoordExtent(la);H=(0,m.apply)(this.tempTransform,[La*(H[0]-D[0])/ba,La*(D[3]-H[3])/ba]);ea=La*T.getGutterForProjection(F);Ia=N[B];for(const ya in Ia){bb=Ia[ya];ib=bb.tileCoord;var Pa=la[1]-ib[1];var qa=la[2]-ib[2];ib=Math.round(H[0]-Pa*Aa);Ja=Math.round(H[1]-qa*sa);Pa=Math.round(H[0]-(Pa-
1)*Aa)-ib;const oa=Math.round(H[1]-(qa-1)*sa)-Ja,va=M===B,Ua=va&&1!==bb.getAlpha((0,c.getUid)(this),h.time);let eb=!1;if(!Ua)if(ma){qa=[ib,Ja,ib+Pa,Ja,ib+Pa,Ja+oa,ib,Ja+oa];for(let ra=0,Oa=ma.length;ra<Oa;++ra)if(M!==B&&B<Fa[ra]){const ja=ma[ra];(0,f.intersects)([ib,Ja,ib+Pa,Ja+oa],[ja[0],ja[3],ja[4],ja[7]])&&(eb||(x.save(),eb=!0),x.beginPath(),x.moveTo(qa[0],qa[1]),x.lineTo(qa[2],qa[3]),x.lineTo(qa[4],qa[5]),x.lineTo(qa[6],qa[7]),x.moveTo(ja[6],ja[7]),x.lineTo(ja[4],ja[5]),x.lineTo(ja[2],ja[3]),
x.lineTo(ja[0],ja[1]),x.clip())}ma.push(qa);Fa.push(B)}else x.clearRect(ib,Ja,Pa,oa);this.drawTileImage(bb,h,ib,Ja,Pa,oa,ea,va);ma&&!Ua?(eb&&x.restore(),this.renderedTiles.unshift(bb)):this.renderedTiles.push(bb);this.updateUsedTiles(h.usedTiles,T,bb)}}this.renderedRevision=R;this.renderedResolution=ba;this.extentChanged=!this.renderedExtent_||!(0,f.equals)(this.renderedExtent_,D);this.renderedExtent_=D;this.renderedPixelRatio=z;this.renderedProjection=F;this.manageTilePyramid(h,T,ca,z,F,W,M,G.getPreload());
this.scheduleExpireCache(h,T);this.postRender(x,h);O.extent&&x.restore();x.imageSmoothingEnabled=!0;r!==Y.style.transform&&(Y.style.transform=r);return this.container}drawTileImage(h,x,O,H,F,J,D,r){const z=this.getTileImage(h);if(z){var G=(0,c.getUid)(this),T=x.layerStatesArray[x.layerIndex],R=T.opacity*(r?h.getAlpha(G,x.time):1),ca=R!==this.context.globalAlpha;ca&&(this.context.save(),this.context.globalAlpha=R);this.context.drawImage(z,D,D,z.width-2*D,z.height-2*D,O,H,F,J);ca&&this.context.restore();
R!==T.opacity?x.animate=!0:r&&h.endTransition(G)}}getImage(){const h=this.context;return h?h.canvas:null}getTileImage(h){return h.getImage()}scheduleExpireCache(h,x){x.canExpireCache()&&(x=function(O,H,F){H=(0,c.getUid)(O);H in F.usedTiles&&O.expireCache(F.viewState.projection,F.usedTiles[H])}.bind(null,x),h.postRenderFunctions.push(x))}updateUsedTiles(h,x,O){x=(0,c.getUid)(x);x in h||(h[x]={});h[x][O.getKey()]=!0}manageTilePyramid(h,x,O,H,F,J,D,r,z){const G=(0,c.getUid)(x);G in h.wantedTiles||(h.wantedTiles[G]=
{});const T=h.wantedTiles[G],R=h.tileQueue;var ca=O.getMinZoom();const M=h.viewState.rotation;h=M?(0,f.getRotatedViewport)(h.viewState.center,h.viewState.resolution,M,h.size):void 0;let ba=0,W,ea,La,aa,C;for(C=ca;C<=D;++C)for(W=O.getTileRangeForExtentAndZ(J,C,W),ea=O.getResolution(C),La=W.minX;La<=W.maxX;++La)for(aa=W.minY;aa<=W.maxY;++aa)if(!M||O.tileCoordIntersectsViewport([C,La,aa],h))D-C<=r?(++ba,ca=x.getTile(C,La,aa,H,F),ca.getState()==t.default.IDLE&&(T[ca.getKey()]=!0,R.isKeyQueued(ca.getKey())||
R.enqueue([ca,G,O.getTileCoordCenter(ca.tileCoord),ea])),void 0!==z&&z(ca)):x.useTile(C,La,aa,F);x.updateCacheSize(ba,F)}}A.default=n};
shadow$provide[284]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(282));var k=w(L(283));class p extends Ka.default{constructor(q){super(q)}createRenderer(){return new k.default(this)}}A.default=p};
shadow$provide[285]=function(Ka,L,sb,A){function w(W){return W&&W.__esModule?W:{default:W}}function k(W,ea,La){if(G)return new ImageData(W,ea,La);T||(T=document.createElement("canvas").getContext("2d"));ea=T.createImageData(ea,La);ea.data.set(W);return ea}function p(W){let ea=!0;try{new ImageData(10,10)}catch(La){ea=!1}return function(La){var aa=La.buffers;const C=La.meta;var B=La.width,N=La.height;const Y=aa.length;var Aa=aa[0].byteLength;if(La.imageOps){La=Array(Y);for(var sa=0;sa<Y;++sa){Aa=sa;
var la=new Uint8ClampedArray(aa[sa]);var Ia=B,bb=N;la=ea?new ImageData(la,Ia,bb):{data:la,width:Ia,height:bb};La[Aa]=la}return W(La,C).data.buffer}B=new Uint8ClampedArray(Aa);N=Array(Y);La=Array(Y);for(sa=0;sa<Y;++sa)N[sa]=new Uint8ClampedArray(aa[sa]),La[sa]=[0,0,0,0];for(aa=0;aa<Aa;aa+=4){for(sa=0;sa<Y;++sa)la=N[sa],La[sa][0]=la[aa],La[sa][1]=la[aa+1],La[sa][2]=la[aa+2],La[sa][3]=la[aa+3];sa=W(La,C);B[aa]=sa[0];B[aa+1]=sa[1];B[aa+2]=sa[2];B[aa+3]=sa[3]}return B.buffer}}function q(W,ea){var La=Object.keys(W.lib||
{}).map(function(aa){return"const "+aa+" \x3d "+W.lib[aa].toString()+";"}).concat(["const __minion__ \x3d ("+p.toString()+")(",W.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);La=new Worker("undefined"===typeof Blob?"data:text/javascript;base64,"+c.from(La.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(La,{type:"text/javascript"})));
La.addEventListener("message",ea);return La}function t(W,ea){const La=p(W.operation);let aa=!1;return{postMessage:function(C){setTimeout(function(){aa||ea({data:{buffer:La(C),meta:C.meta}})},0)},terminate:function(){aa=!0}}}function m(W,ea){const La=W.getRenderer();if(!La)throw Error("Unsupported layer type: "+W);if(!La.prepareFrame(ea))return null;W=ea.size[0];const aa=ea.size[1];if(0===W||0===aa)return null;ea=La.renderFrame(ea,null);let C;if(ea instanceof HTMLCanvasElement)C=ea;else{ea&&(C=ea.firstElementChild);
if(!(C instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+C);if(C.width===W&&C.height===aa)return C.getContext("2d").getImageData(0,0,W,aa)}ba?(ea=ba.canvas,ea.width!==W||ea.height!==aa?ba=(0,J.createCanvasContext2D)(W,aa):ba.clearRect(0,0,W,aa)):ba=(0,J.createCanvasContext2D)(W,aa);ba.drawImage(C,0,0,W,aa);return ba.getImageData(0,0,W,aa)}function f(W){return W.map(function(ea){return ea.getLayerState()})}function b(W){const ea=W.length,La=Array(ea);for(let B=0;B<ea;++B){var aa=
B;let N=void 0;var C=W[B];C instanceof x.default?C instanceof F.default?N=new O.default({source:C}):C instanceof h.default&&(N=new n.default({source:C})):N=C;La[aa]=N}return La}var c=L(21).Buffer;"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.newImageData=k;A.default=A.RasterSourceEvent=A.Processor=void 0;Ka=w(L(67));sb=w(L(65));var e=w(L(72)),g=w(L(269)),n=w(L(280)),h=w(L(266)),x=w(L(194)),O=w(L(284)),H=w(L(110)),F=w(L(198)),J=L(97),D=L(82),r=L(84),z=L(75);let G=!0;try{new ImageData(10,
10)}catch(W){G=!1}let T;class R extends Ka.default{constructor(W){super();this._imageOps=!!W.imageOps;let ea;ea=0===W.threads?0:this._imageOps?1:W.threads||1;const La=Array(ea);if(ea)for(let aa=0;aa<ea;++aa)La[aa]=q(W,this._onWorkerMessage.bind(this,aa));else La[0]=t(W,this._onWorkerMessage.bind(this,0));this._workers=La;this._queue=[];this._maxQueueLength=W.queue||Infinity;this._running=0;this._dataLookup={};this._job=null}process(W,ea,La){this._enqueue({inputs:W,meta:ea,callback:La});this._dispatch()}_enqueue(W){for(this._queue.push(W);this._queue.length>
this._maxQueueLength;)this._queue.shift().callback(null,null)}_dispatch(){if(!this._running&&0!==this._queue.length){var W=this._queue.shift();this._job=W;var ea=W.inputs[0].width,La=W.inputs[0].height,aa=W.inputs.map(function(N){return N.data.buffer}),C=this._workers.length;this._running=C;if(1===C)this._workers[0].postMessage({buffers:aa,meta:W.meta,imageOps:this._imageOps,width:ea,height:La},aa);else{var B=4*Math.ceil(W.inputs[0].data.length/4/C);for(let N=0;N<C;++N){const Y=N*B,Aa=[];for(let sa=
0,la=aa.length;sa<la;++sa)Aa.push(aa[sa].slice(Y,Y+B));this._workers[N].postMessage({buffers:Aa,meta:W.meta,imageOps:this._imageOps,width:ea,height:La},Aa)}}}}_onWorkerMessage(W,ea){this.disposed||(this._dataLookup[W]=ea.data,--this._running,0===this._running&&this._resolveJob())}_resolveJob(){const W=this._job,ea=this._workers.length;let La,aa;if(1===ea)La=new Uint8ClampedArray(this._dataLookup[0].buffer),aa=this._dataLookup[0].meta;else{var C=W.inputs[0].data.length;La=new Uint8ClampedArray(C);
aa=Array(ea);C=4*Math.ceil(C/4/ea);for(let B=0;B<ea;++B){const N=B*C;La.set(new Uint8ClampedArray(this._dataLookup[B].buffer),N);aa[B]=this._dataLookup[B].meta}}this._job=null;this._dataLookup={};W.callback(null,k(La,W.inputs[0].width,W.inputs[0].height),aa);this._dispatch()}disposeInternal(){for(let W=0;W<this._workers.length;++W)this._workers[W].terminate();this._workers.length=0}}A.Processor=R;class ca extends sb.default{constructor(W,ea,La){super(W);this.extent=ea.extent;this.resolution=ea.viewState.resolution/
ea.pixelRatio;this.data=La}}A.RasterSourceEvent=ca;class M extends h.default{constructor(W){super({projection:null});this.processor_=null;this.operationType_=void 0!==W.operationType?W.operationType:"pixel";this.threads_=void 0!==W.threads?W.threads:1;this.layers_=b(W.sources);const ea=this.changed.bind(this);for(let La=0,aa=this.layers_.length;La<aa;++La)this.layers_[La].addEventListener(e.default.CHANGE,ea);this.tileQueue_=new H.default(function(){return 1},this.changed.bind(this));this.renderedImageCanvas_=
null;this.frameState_={animate:!1,coordinateToPixelTransform:(0,D.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:f(this.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,D.create)(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:(0,z.getUid)(this),renderTargets:{}};this.setAttributions(function(La){const aa=[];for(let B=0,N=W.sources.length;B<N;++B){var C=W.sources[B];
C=(C instanceof x.default?C:C.getSource()).getAttributions();"function"===typeof C&&(C=C(La),aa.push.apply(aa,C))}return 0!==aa.length?aa:null});void 0!==W.operation&&this.setOperation(W.operation,W.lib)}setOperation(W,ea){this.processor_&&this.processor_.dispose();this.processor_=new R({operation:W,imageOps:"image"===this.operationType_,queue:1,lib:ea,threads:this.threads_});this.changed()}updateFrameState_(W,ea,La){const aa=Object.assign({},this.frameState_);aa.viewState=Object.assign({},aa.viewState);
const C=(0,r.getCenter)(W);aa.extent=W.slice();aa.size[0]=Math.round((0,r.getWidth)(W)/ea);aa.size[1]=Math.round((0,r.getHeight)(W)/ea);aa.time=Date.now();W=aa.viewState;W.center=C;W.projection=La;W.resolution=ea;return aa}allSourcesReady_(){let W=!0,ea;for(let La=0,aa=this.layers_.length;La<aa;++La)if(ea=this.layers_[La].getSource(),"ready"!==ea.getState()){W=!1;break}return W}getImage(W,ea,La,aa){if(!this.allSourcesReady_())return null;this.requestedFrameState_=La=this.updateFrameState_(W,ea,aa);
if(this.renderedImageCanvas_){aa=this.renderedImageCanvas_.getResolution();const C=this.renderedImageCanvas_.getExtent();ea===aa&&(0,r.equals)(W,C)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();La.tileQueue.loadMoreTiles(16,16);La.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_}processSources_(){const W=this.requestedFrameState_;var ea=this.layers_.length;const La=Array(ea);
for(let aa=0;aa<ea;++aa){W.layerIndex=aa;const C=m(this.layers_[aa],W);if(C)La[aa]=C;else return}ea={};this.dispatchEvent(new ca("beforeoperations",W,ea));this.processor_.process(La,ea,this.onWorkerComplete_.bind(this,W))}onWorkerComplete_(W,ea,La,aa){if(!ea&&La){ea=W.extent;var C=W.viewState.resolution;if(C===this.requestedFrameState_.viewState.resolution&&(0,r.equals)(ea,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var B=this.renderedImageCanvas_.getImage().getContext("2d");else{B=
Math.round((0,r.getWidth)(ea)/C);const N=Math.round((0,r.getHeight)(ea)/C);B=(0,J.createCanvasContext2D)(B,N);this.renderedImageCanvas_=new g.default(ea,C,1,B.canvas)}B.putImageData(La,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new ca("afteroperations",W,aa));W.animate&&requestAnimationFrame(this.changed.bind(this))}}}disposeInternal(){this.processor_&&this.processor_.dispose();super.disposeInternal()}}let ba=null;A.default=M};
shadow$provide[286]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(204));const w=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',L(275).ATTRIBUTION],k={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",
opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},p={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};class q extends Ka.default{constructor(t){var m=t.layer.indexOf("-");
m=-1==m?t.layer:t.layer.slice(0,m);m=p[m];const f=k[t.layer];super({attributions:w,cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:t.interpolate,maxZoom:void 0!=t.maxZoom?t.maxZoom:m.maxZoom,minZoom:void 0!=t.minZoom?t.minZoom:m.minZoom,opaque:f.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+f.extension,wrapX:t.wrapX,
zDirection:t.zDirection})}}A.default=q};
shadow$provide[287]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(f){return f&&f.__esModule?f:{default:f}}(L(201));var w=L(267),k=L(84),p=L(85),q=L(167),t=L(191);class m extends Ka.default{constructor(f){f=f?f:{};super({attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,interpolate:f.interpolate,projection:f.projection,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileGrid:f.tileGrid,tileLoadFunction:f.tileLoadFunction,
url:f.url,urls:f.urls,wrapX:void 0!==f.wrapX?f.wrapX:!0,transition:f.transition,zDirection:f.zDirection});this.params_=f.params||{};this.hidpi_=void 0!==f.hidpi?f.hidpi:!0;this.tmpExtent_=(0,k.createEmpty)();this.setKey(this.getKeyForParams_())}getKeyForParams_(){let f=0;const b=[];for(const c in this.params_)b[f++]=c+"-"+this.params_[c];return b.join("/")}getParams(){return this.params_}getRequestUrl_(f,b,c,e,g,n){var h=this.urls;if(h)return g=g.getCode().split(/:(?=\d+$)/).pop(),n.SIZE=b[0]+","+
b[1],n.BBOX=c.join(","),n.BBOXSR=g,n.IMAGESR=g,n.DPI=Math.round(n.DPI?n.DPI*e:90*e),1==h.length?h=h[0]:(f=(0,p.modulo)((0,t.hash)(f),h.length),h=h[f]),h=h.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,w.appendParams)(h,n)}getTilePixelRatio(f){return this.hidpi_?f:1}updateParams(f){Object.assign(this.params_,f);this.setKey(this.getKeyForParams_())}tileUrlFunction(f,b,c){var e=this.getTileGrid();e||(e=this.getTileGridForProjection(c));if(!(e.getResolutions().length<=
f[0])){1==b||this.hidpi_||(b=1);var g=e.getTileCoordExtent(f,this.tmpExtent_);e=(0,q.toSize)(e.getTileSize(f[0]),this.tmpSize);1!=b&&(e=(0,q.scale)(e,b,this.tmpSize));var n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object.assign(n,this.params_);return this.getRequestUrl_(f,e,g,b,c,n)}}}A.default=m};
shadow$provide[288]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(204));var w=L(97),k=L(167);class p extends Ka.default{constructor(q){q=q||{};super({opaque:!1,projection:q.projection,tileGrid:q.tileGrid,wrapX:void 0!==q.wrapX?q.wrapX:!0,zDirection:q.zDirection,url:q.template||"z:{z} x:{x} y:{y}",tileLoadFunction:(t,m)=>{var f=t.getTileCoord()[0];f=(0,k.toSize)(this.tileGrid.getTileSize(f));const b=(0,w.createCanvasContext2D)(f[0],
f[1]);b.strokeStyle="grey";b.strokeRect(.5,.5,f[0]+.5,f[1]+.5);b.fillStyle="grey";b.strokeStyle="white";b.textAlign="center";b.textBaseline="middle";b.font="24px sans-serif";b.lineWidth=4;b.strokeText(m,f[0]/2,f[1]/2,f[0]);b.fillText(m,f[0]/2,f[1]/2,f[0]);t.setImage(b.canvas)}})}}A.default=p};
shadow$provide[289]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(b){return b&&b.__esModule?b:{default:b}}(L(201));var w=L(84),k=L(81),p=L(199),q=L(197),t=L(121),m=L(202);class f extends Ka.default{constructor(b){super({attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,interpolate:b.interpolate,projection:(0,t.get)("EPSG:3857"),reprojectionErrorThreshold:b.reprojectionErrorThreshold,state:"loading",tileLoadFunction:b.tileLoadFunction,
wrapX:void 0!==b.wrapX?b.wrapX:!0,transition:b.transition,zDirection:b.zDirection});this.tileJSON_=null;this.tileSize_=b.tileSize;if(b.url)if(b.jsonp)(0,m.jsonp)(b.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const c=new XMLHttpRequest;c.addEventListener("load",this.onXHRLoad_.bind(this));c.addEventListener("error",this.onXHRError_.bind(this));c.open("GET",b.url);c.send()}else b.tileJSON?this.handleTileJSONResponse(b.tileJSON):(0,k.assert)(!1,51)}onXHRLoad_(b){b=
b.target;if(!b.status||200<=b.status&&300>b.status){let c;try{c=JSON.parse(b.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(c)}else this.handleTileJSONError()}onXHRError_(b){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(b){var c=(0,t.get)("EPSG:4326"),e=this.getProjection();if(void 0!==b.bounds){var g=(0,t.getTransformFromProjections)(c,e);g=(0,w.applyTransform)(b.bounds,g)}e=(0,q.extentFromProjection)(e);this.tileGrid=
c=(0,q.createXYZ)({extent:e,maxZoom:b.maxzoom||22,minZoom:b.minzoom||0,tileSize:this.tileSize_});this.tileUrlFunction=(0,p.createFromTemplates)(b.tiles,c);if(void 0!==b.attribution&&!this.getAttributions()){const n=void 0!==g?g:e;this.setAttributions(function(h){return(0,w.intersects)(n,h.extent)?[b.attribution]:null})}this.tileJSON_=b;this.setState("ready")}handleTileJSONError(){this.setState("error")}}A.default=f};
shadow$provide[290]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(n){return n&&n.__esModule?n:{default:n}}(L(201));var w=L(273),k=L(267),p=L(81),q=L(84),t=L(167),m=L(189),f=L(92),b=L(121),c=L(85),e=L(191);class g extends Ka.default{constructor(n){n=n?n:{};const h=n.params||{};super({attributions:n.attributions,attributionsCollapsible:n.attributionsCollapsible,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,interpolate:n.interpolate,opaque:!("TRANSPARENT"in
h?h.TRANSPARENT:1),projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,url:n.url,urls:n.urls,wrapX:void 0!==n.wrapX?n.wrapX:!0,transition:n.transition,zDirection:n.zDirection});this.gutter_=void 0!==n.gutter?n.gutter:0;this.params_=h;this.v13_=!0;this.serverType_=n.serverType;this.hidpi_=void 0!==n.hidpi?n.hidpi:!0;this.tmpExtent_=(0,q.createEmpty)();this.updateV13_();this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(n,
h,x,O){x=(0,b.get)(x);const H=this.getProjection();var F=this.getTileGrid();F||(F=this.getTileGridForProjection(x));h=F.getZForResolution(h,this.zDirection);h=F.getTileCoordForCoordAndZ(n,h);if(!(F.getResolutions().length<=h[0])){var J=F.getResolution(h[0]),D=F.getTileCoordExtent(h,this.tmpExtent_);F=(0,t.toSize)(F.getTileSize(h[0]),this.tmpSize);var r=this.gutter_;0!==r&&(F=(0,t.buffer)(F,r,this.tmpSize),D=(0,q.buffer)(D,J*r,D));H&&H!==x&&(J=(0,m.calculateSourceResolution)(H,x,n,J),D=(0,b.transformExtent)(D,
x,H),n=(0,b.transform)(n,x,H));r={SERVICE:"WMS",VERSION:w.DEFAULT_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(r,this.params_,O);O=Math.floor((D[3]-n[1])/J);r[this.v13_?"I":"X"]=Math.floor((n[0]-D[0])/J);r[this.v13_?"J":"Y"]=O;return this.getRequestUrl_(h,F,D,1,H||x,r)}}getLegendUrl(n,h){if(void 0!==this.urls[0]){var x={SERVICE:"WMS",VERSION:w.DEFAULT_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===h||void 0===
h.LAYER){var O=this.params_.LAYERS;if(Array.isArray(O)&&1!==O.length)return;x.LAYER=O}void 0!==n&&(O=this.getProjection()?this.getProjection().getMetersPerUnit():1,x.SCALE=n*O/2.8E-4);Object.assign(x,h);return(0,k.appendParams)(this.urls[0],x)}}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(n,h,x,O,H,F){var J=this.urls;if(J){F.WIDTH=h[0];F.HEIGHT=h[1];F[this.v13_?"CRS":"SRS"]=H.getCode();"STYLES"in this.params_||(F.STYLES="");if(1!=O)switch(this.serverType_){case "geoserver":h=
90*O+.5|0;F.FORMAT_OPTIONS="FORMAT_OPTIONS"in F?F.FORMAT_OPTIONS+(";dpi:"+h):"dpi:"+h;break;case "mapserver":F.MAP_RESOLUTION=90*O;break;case "carmentaserver":case "qgis":F.DPI=90*O;break;default:(0,p.assert)(!1,52)}H=H.getAxisOrientation();this.v13_&&"ne"==H.substr(0,2)&&(H=x[0],x[0]=x[1],x[1]=H,H=x[2],x[2]=x[3],x[3]=H);F.BBOX=x.join(",");1==J.length?J=J[0]:(n=(0,c.modulo)((0,e.hash)(n),J.length),J=J[n]);return(0,k.appendParams)(J,F)}}getTilePixelRatio(n){return this.hidpi_&&void 0!==this.serverType_?
n:1}getKeyForParams_(){let n=0;const h=[];for(const x in this.params_)h[n++]=x+"-"+this.params_[x];return h.join("/")}updateParams(n){Object.assign(this.params_,n);this.updateV13_();this.setKey(this.getKeyForParams_())}updateV13_(){this.v13_=0<=(0,f.compareVersions)(this.params_.VERSION||w.DEFAULT_VERSION,"1.3")}tileUrlFunction(n,h,x){var O=this.getTileGrid();O||(O=this.getTileGridForProjection(x));if(!(O.getResolutions().length<=n[0])){1==h||this.hidpi_&&void 0!==this.serverType_||(h=1);var H=O.getResolution(n[0]),
F=O.getTileCoordExtent(n,this.tmpExtent_);O=(0,t.toSize)(O.getTileSize(n[0]),this.tmpSize);var J=this.gutter_;0!==J&&(O=(0,t.buffer)(O,J,this.tmpSize),F=(0,q.buffer)(F,H*J,F));1!=h&&(O=(0,t.scale)(O,h,this.tmpSize));H={SERVICE:"WMS",VERSION:w.DEFAULT_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object.assign(H,this.params_);return this.getRequestUrl_(n,O,F,h,x,H)}}}A.default=g};
shadow$provide[291]=function(Ka,L,sb,A){function w(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.CustomTile=void 0;var k=w(L(72));Ka=w(L(182));sb=w(L(198));var p=w(L(109)),q=L(84),t=L(81),m=L(199),f=L(197),b=L(191),c=L(121),e=L(73),g=L(202);class n extends Ka.default{constructor(x,O,H,F,J,D){super(x,O);this.src_=H;this.extent_=F;this.preemptive_=J;this.data_=this.keys_=this.grid_=null;this.jsonp_=D}getImage(){return null}getData(x){if(!this.grid_||
!this.keys_)return null;var O=this.grid_[Math.floor((1-(x[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]))*this.grid_.length)];if("string"!==typeof O)return null;x=O.charCodeAt(Math.floor((x[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*O.length));93<=x&&x--;35<=x&&x--;x-=32;O=null;x in this.keys_&&(x=this.keys_[x],O=this.data_&&x in this.data_?this.data_[x]:x);return O}forDataAtCoordinate(x,O,H){this.state==p.default.EMPTY&&!0===H?(this.state=p.default.IDLE,(0,e.listenOnce)(this,k.default.CHANGE,
function(F){O(this.getData(x))},this),this.loadInternal_()):!0===H?setTimeout(function(){O(this.getData(x))}.bind(this),0):O(this.getData(x))}getKey(){return this.src_}handleError_(){this.state=p.default.ERROR;this.changed()}handleLoad_(x){this.grid_=x.grid;this.keys_=x.keys;this.data_=x.data;this.state=p.default.LOADED;this.changed()}loadInternal_(){if(this.state==p.default.IDLE)if(this.state=p.default.LOADING,this.jsonp_)(0,g.jsonp)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));
else{const x=new XMLHttpRequest;x.addEventListener("load",this.onXHRLoad_.bind(this));x.addEventListener("error",this.onXHRError_.bind(this));x.open("GET",this.src_);x.send()}}onXHRLoad_(x){x=x.target;if(!x.status||200<=x.status&&300>x.status){let O;try{O=JSON.parse(x.responseText)}catch(H){this.handleError_();return}this.handleLoad_(O)}else this.handleError_()}onXHRError_(x){this.handleError_()}load(){this.preemptive_?this.loadInternal_():this.setState(p.default.EMPTY)}}A.CustomTile=n;class h extends sb.default{constructor(x){super({projection:(0,c.get)("EPSG:3857"),
state:"loading",zDirection:x.zDirection});this.preemptive_=void 0!==x.preemptive?x.preemptive:!0;this.tileUrlFunction_=m.nullTileUrlFunction;this.template_=void 0;this.jsonp_=x.jsonp||!1;if(x.url)if(this.jsonp_)(0,g.jsonp)(x.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const O=new XMLHttpRequest;O.addEventListener("load",this.onXHRLoad_.bind(this));O.addEventListener("error",this.onXHRError_.bind(this));O.open("GET",x.url);O.send()}else x.tileJSON?this.handleTileJSONResponse(x.tileJSON):
(0,t.assert)(!1,51)}onXHRLoad_(x){x=x.target;if(!x.status||200<=x.status&&300>x.status){let O;try{O=JSON.parse(x.responseText)}catch(H){this.handleTileJSONError();return}this.handleTileJSONResponse(O)}else this.handleTileJSONError()}onXHRError_(x){this.handleTileJSONError()}getTemplate(){return this.template_}forDataAtCoordinateAndResolution(x,O,H,F){this.tileGrid?(O=this.tileGrid.getZForResolution(O,this.zDirection),O=this.tileGrid.getTileCoordForCoordAndZ(x,O),this.getTile(O[0],O[1],O[2],1,this.getProjection()).forDataAtCoordinate(x,
H,F)):!0===F?setTimeout(function(){H(null)},0):H(null)}handleTileJSONError(){this.setState("error")}handleTileJSONResponse(x){var O=(0,c.get)("EPSG:4326"),H=this.getProjection();if(void 0!==x.bounds){var F=(0,c.getTransformFromProjections)(O,H);F=(0,q.applyTransform)(x.bounds,F)}H=(0,f.extentFromProjection)(H);this.tileGrid=O=(0,f.createXYZ)({extent:H,maxZoom:x.maxzoom||22,minZoom:x.minzoom||0});this.template_=x.template;const J=x.grids;if(J){this.tileUrlFunction_=(0,m.createFromTemplates)(J,O);if(void 0!==
x.attribution){const D=void 0!==F?F:H;this.setAttributions(function(r){return(0,q.intersects)(D,r.extent)?[x.attribution]:null})}this.setState("ready")}else this.setState("error")}getTile(x,O,H,F,J){const D=(0,b.getKeyZXY)(x,O,H);if(this.tileCache.containsKey(D))return this.tileCache.get(D);x=[x,O,H];O=this.getTileCoordForTileUrlFunction(x,J);F=this.tileUrlFunction_(O,F,J);F=new n(x,void 0!==F?p.default.IDLE:p.default.EMPTY,void 0!==F?F:"",this.tileGrid.getTileCoordExtent(x),this.preemptive_,this.jsonp_);
this.tileCache.set(D,F);return F}useTile(x,O,H){x=(0,b.getKeyZXY)(x,O,H);this.tileCache.containsKey(x)&&this.tileCache.get(x)}}A.default=h};
shadow$provide[292]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(182));var k=w(L(109));class p extends Ka.default{constructor(q,t,m,f,b,c){super(q,t,c);this.extent=null;this.format_=f;this.projection=this.features_=null;this.tileLoadFunction_=b;this.key=this.url_=m}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==k.default.IDLE&&(this.setState(k.default.LOADING),
this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(q,t){this.setFeatures(q)}onError(){this.setState(k.default.ERROR)}setFeatures(q){this.features_=q;this.setState(k.default.LOADED)}setLoader(q){this.loader_=q}}A.default=p};
shadow$provide[293]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(182));var w=L(97),k=L(75);const p=[];class q extends Ka.default{constructor(t,m,f,b){super(t,m,{transition:0});this.context_={};this.executorGroups={};this.declutterExecutorGroups={};this.loadingSourceTiles=0;this.hitDetectionImageData={};this.replayState_={};this.sourceTiles=[];this.errorTileKeys={};this.getSourceTiles=b.bind(void 0,this);
this.wrappedTileCoord=f}getContext(t){t=(0,k.getUid)(t);t in this.context_||(this.context_[t]=(0,w.createCanvasContext2D)(1,1,p));return this.context_[t]}hasContext(t){return(0,k.getUid)(t)in this.context_}getImage(t){return this.hasContext(t)?this.getContext(t).canvas:null}getReplayState(t){t=(0,k.getUid)(t);t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1});
return this.replayState_[t]}load(){this.getSourceTiles()}release(){for(const t in this.context_){const m=this.context_[t];(0,w.releaseCanvas)(m);p.push(m.canvas);delete this.context_[t]}super.release()}}A.default=q};
shadow$provide[294]=function(Ka,L,sb,A){function w(F){return F&&F.__esModule?F:{default:F}}function k(F,J){F.setLoader(function(D,r,z){(0,x.loadFeaturesXhr)(J,F.getFormat(),D,r,z,F.onLoad.bind(F),F.onError.bind(F))})}Object.defineProperty(A,"__esModule",{value:!0});A.defaultLoadFunction=k;A.default=void 0;var p=w(L(72)),q=w(L(292)),t=w(L(192)),m=w(L(196)),f=w(L(109));Ka=w(L(200));var b=w(L(293)),c=L(113),e=L(84),g=L(197),n=L(191),h=L(70),x=L(210),O=L(167);class H extends Ka.default{constructor(F){const J=
F.projection||"EPSG:3857";var D=F.extent||(0,g.extentFromProjection)(J);D=F.tileGrid||(0,g.createXYZ)({extent:D,maxResolution:F.maxResolution,maxZoom:void 0!==F.maxZoom?F.maxZoom:22,minZoom:F.minZoom,tileSize:F.tileSize||512});super({attributions:F.attributions,attributionsCollapsible:F.attributionsCollapsible,cacheSize:F.cacheSize,interpolate:!0,opaque:!1,projection:J,state:F.state,tileGrid:D,tileLoadFunction:F.tileLoadFunction?F.tileLoadFunction:k,tileUrlFunction:F.tileUrlFunction,url:F.url,urls:F.urls,
wrapX:void 0===F.wrapX?!0:F.wrapX,transition:F.transition,zDirection:void 0===F.zDirection?1:F.zDirection});this.format_=F.format?F.format:null;this.sourceTileCache=new t.default(this.tileCache.highWaterMark);this.overlaps_=void 0==F.overlaps?!0:F.overlaps;this.tileClass=F.tileClass?F.tileClass:q.default;this.tileGrids_={}}getFeaturesInExtent(F){const J=[],D=this.tileCache;if(0===D.getCount())return J;const r=(0,n.fromKey)(D.peekFirstKey())[0],z=this.tileGrid;D.forEach(function(G){if(G.tileCoord[0]===
r&&G.getState()===f.default.LOADED){G=G.getSourceTiles();for(let R=0,ca=G.length;R<ca;++R){var T=G[R];if((0,e.intersects)(F,z.getTileCoordExtent(T.tileCoord))&&(T=T.getFeatures()))for(let M=0,ba=T.length;M<ba;++M){const W=T[M],ea=W.getGeometry();(0,e.intersects)(F,ea.getExtent())&&J.push(W)}}}});return J}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear();this.sourceTileCache.clear()}expireCache(F,J){const D=this.getTileCacheForProjection(F),r=Object.keys(J).reduce((z,G)=>{G=(0,n.getCacheKeyForTileKey)(G);
if(G=D.peek(G)){G=G.sourceTiles;for(let T=0,R=G.length;T<R;++T)z[G[T].getKey()]=!0}return z},{});super.expireCache(F,J);this.sourceTileCache.expireCache(r)}getSourceTiles(F,J,D){if(D.getState()===f.default.IDLE){D.setState(f.default.LOADING);var r=D.wrappedTileCoord,z=this.getTileGridForProjection(J);const G=z.getTileCoordExtent(r);r=z.getResolution(r[0]);(0,e.buffer)(G,-r,G);const T=this.tileGrid;(z=T.getExtent())&&(0,e.getIntersection)(G,z,G);r=T.getZForResolution(r,this.zDirection);T.forEachTileCoord(G,
r,R=>{const ca=this.tileUrlFunction(R,F,J),M=this.sourceTileCache.containsKey(ca)?this.sourceTileCache.get(ca):new this.tileClass(R,ca?f.default.IDLE:f.default.EMPTY,ca,this.format_,this.tileLoadFunction);D.sourceTiles.push(M);const ba=M.getState();if(ba<f.default.LOADED){const W=ea=>{this.handleTileChange(ea);ea=M.getState();if(ea===f.default.LOADED||ea===f.default.ERROR){const La=M.getKey();La in D.errorTileKeys?M.getState()===f.default.LOADED&&delete D.errorTileKeys[La]:D.loadingSourceTiles--;
ea===f.default.ERROR?D.errorTileKeys[La]=!0:M.removeEventListener(p.default.CHANGE,W);0===D.loadingSourceTiles&&D.setState((0,h.isEmpty)(D.errorTileKeys)?f.default.LOADED:f.default.ERROR)}};M.addEventListener(p.default.CHANGE,W);D.loadingSourceTiles++}ba===f.default.IDLE&&(M.extent=T.getTileCoordExtent(R),M.projection=J,M.resolution=T.getResolution(R[0]),this.sourceTileCache.set(ca,M),M.load())});D.loadingSourceTiles||D.setState(D.sourceTiles.some(R=>R.getState()===f.default.ERROR)?f.default.ERROR:
f.default.LOADED)}return D.sourceTiles}getTile(F,J,D,r,z){const G=(0,n.getKeyZXY)(F,J,D),T=this.getKey();let R;if(this.tileCache.containsKey(G)&&(R=this.tileCache.get(G),R.key===T))return R;J=[F,J,D];D=this.getTileCoordForTileUrlFunction(J,z);var ca=this.getTileGrid().getExtent(),M=this.getTileGridForProjection(z);if(D&&ca){var ba=M.getTileCoordExtent(D);(0,e.buffer)(ba,-M.getResolution(F),ba);(0,e.intersects)(ca,ba)||(D=null)}let W=!0;null!==D&&(ca=this.tileGrid,F=M.getResolution(F),ba=ca.getZForResolution(F,
1),M=M.getTileCoordExtent(D),(0,e.buffer)(M,-F,M),ca.forEachTileCoord(M,ba,function(ea){W=W&&!this.tileUrlFunction(ea,r,z)}.bind(this)));J=new b.default(J,W?f.default.EMPTY:f.default.IDLE,D,this.getSourceTiles.bind(this,r,z));J.key=T;R?(J.interimTile=R,J.refreshInterimChain(),this.tileCache.replace(G,J)):this.tileCache.set(G,J);return J}getTileGridForProjection(F){F=F.getCode();var J=this.tileGrids_[F];if(!J){const D=this.tileGrid;J=D.getResolutions().slice();const r=J.map(function(T,R){return D.getOrigin(R)}),
z=J.map(function(T,R){return D.getTileSize(R)}),G=c.DEFAULT_MAX_ZOOM+1;for(let T=J.length;T<G;++T)J.push(J[T-1]/2),r.push(r[T-1]),z.push(z[T-1]);J=new m.default({extent:D.getExtent(),origins:r,resolutions:J,tileSizes:z});this.tileGrids_[F]=J}return J}getTilePixelRatio(F){return F}getTilePixelSize(F,J,D){D=this.getTileGridForProjection(D);F=(0,O.toSize)(D.getTileSize(F),this.tmpSize);return[Math.round(F[0]*J),Math.round(F[1]*J)]}updateCacheSize(F,J){super.updateCacheSize(2*F,J);this.sourceTileCache.highWaterMark=
this.getTileCacheForProjection(J).highWaterMark}}A.default=H};
shadow$provide[295]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createFromCapabilitiesMatrixSet=function(p,q,t){const m=[],f=[],b=[],c=[],e=[];t=void 0!==t?t:[];const g=(0,w.get)(p.SupportedCRS),n=g.getMetersPerUnit(),h="ne"==g.getAxisOrientation().substr(0,2);p.TileMatrix.sort(function(x,O){return O.ScaleDenominator-x.ScaleDenominator});p.TileMatrix.forEach(function(x){if(0<t.length?t.find(function(O){return x.Identifier==O.TileMatrix?!0:x.Identifier.includes(":")?!1:p.Identifier+
":"+x.Identifier===O.TileMatrix}):1){f.push(x.Identifier);const O=2.8E-4*x.ScaleDenominator/n,H=x.TileWidth,F=x.TileHeight;h?b.push([x.TopLeftCorner[1],x.TopLeftCorner[0]]):b.push(x.TopLeftCorner);m.push(O);c.push(H==F?H:[H,F]);e.push([x.MatrixWidth,x.MatrixHeight])}});return new k({extent:q,origins:b,resolutions:m,matrixIds:f,tileSizes:c,sizes:e})};A.default=void 0;Ka=function(p){return p&&p.__esModule?p:{default:p}}(L(196));var w=L(121);class k extends Ka.default{constructor(p){super({extent:p.extent,
origin:p.origin,origins:p.origins,resolutions:p.resolutions,tileSize:p.tileSize,tileSizes:p.tileSizes,sizes:p.sizes});this.matrixIds_=p.matrixIds}getMatrixId(p){return this.matrixIds_[p]}getMatrixIds(){return this.matrixIds_}}A.default=k};
shadow$provide[296]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.optionsFromCapabilities=function(f,b){const c=f.Contents.Layer.find(function(M){return M.Identifier==b.layer});if(!c)return null;const e=f.Contents.TileMatrixSet;var g=1<c.TileMatrixSetLink.length?"projection"in b?c.TileMatrixSetLink.findIndex(function(M){const ba=e.find(function(La){return La.Identifier==M.TileMatrixSet}).SupportedCRS,W=(0,t.get)(ba),ea=(0,t.get)(b.projection);return W&&ea?(0,t.equivalent)(W,
ea):ba==b.projection}):c.TileMatrixSetLink.findIndex(function(M){return M.TileMatrixSet==b.matrixSet}):0;0>g&&(g=0);const n=c.TileMatrixSetLink[g].TileMatrixSet;var h=c.TileMatrixSetLink[g].TileMatrixSetLimits;let x=c.Format[0];"format"in b&&(x=b.format);g=c.Style.findIndex(function(M){return"style"in b?M.Title==b.style:M.isDefault});0>g&&(g=0);g=c.Style[g].Identifier;const O={};"Dimension"in c&&c.Dimension.forEach(function(M,ba,W){ba=M.Identifier;W=M.Default;void 0===W&&(W=M.Value[0]);O[ba]=W});
const H=f.Contents.TileMatrixSet.find(function(M){return M.Identifier==n});let F;var J=H.SupportedCRS;J&&(F=(0,t.get)(J));"projection"in b&&(J=(0,t.get)(b.projection),!J||F&&!(0,t.equivalent)(J,F)||(F=J));J=!1;var D="ne"==F.getAxisOrientation().substr(0,2),r=H.TileMatrix[0];let z={MinTileCol:0,MinTileRow:0,MaxTileCol:r.MatrixWidth-1,MaxTileRow:r.MatrixHeight-1};if(h){z=h[h.length-1];var G=H.TileMatrix.find(M=>M.Identifier===z.TileMatrix||H.Identifier+":"+M.Identifier===z.TileMatrix);G&&(r=G)}var T=
2.8E-4*r.ScaleDenominator/F.getMetersPerUnit();G=D?[r.TopLeftCorner[1],r.TopLeftCorner[0]]:r.TopLeftCorner;const R=r.TileWidth*T;T*=r.TileHeight;(r=H.BoundingBox)&&D&&(r=[r[1],r[0],r[3],r[2]]);D=[G[0]+R*z.MinTileCol,G[1]-T*(1+z.MaxTileRow),G[0]+R*(1+z.MaxTileCol),G[1]-T*z.MinTileRow];void 0===r||(0,k.containsExtent)(r,D)||(G=c.WGS84BoundingBox,J=(0,t.get)("EPSG:4326").getExtent(),D=r,G?J=G[0]===J[0]&&G[2]===J[2]:(r=(0,t.transformExtent)(r,H.SupportedCRS,"EPSG:4326"),J=r[0]-1E-10<=J[0]&&r[2]+1E-10>=
J[2]));h=(0,p.createFromCapabilitiesMatrixSet)(H,D,h);const ca=[];D=b.requestEncoding;D=void 0!==D?D:"";if("OperationsMetadata"in f&&"GetTile"in f.OperationsMetadata){f=f.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let M=0,ba=f.length;M<ba;++M)if(f[M].Constraint)if(r=f[M].Constraint.find(function(W){return"GetEncoding"==W.name}).AllowedValues.Value,""===D&&(D=r[0]),"KVP"===D)r.includes("KVP")&&ca.push(f[M].href);else break;else f[M].href&&(D="KVP",ca.push(f[M].href))}0===ca.length&&(D="REST",c.ResourceURL.forEach(function(M){"tile"===
M.resourceType&&(x=M.format,ca.push(M.template))}));return{urls:ca,layer:b.layer,matrixSet:n,format:x,projection:F,requestEncoding:D,tileGrid:h,style:g,dimensions:O,wrapX:J,crossOrigin:b.crossOrigin}};A.default=void 0;Ka=function(f){return f&&f.__esModule?f:{default:f}}(L(201));var w=L(267),k=L(84),p=L(295),q=L(199),t=L(121);class m extends Ka.default{constructor(f){const b=void 0!==f.requestEncoding?f.requestEncoding:"KVP",c=f.tileGrid;let e=f.urls;void 0===e&&void 0!==f.url&&(e=(0,q.expandUrl)(f.url));
super({attributions:f.attributions,attributionsCollapsible:f.attributionsCollapsible,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,interpolate:f.interpolate,projection:f.projection,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileClass:f.tileClass,tileGrid:c,tileLoadFunction:f.tileLoadFunction,tilePixelRatio:f.tilePixelRatio,urls:e,wrapX:void 0!==f.wrapX?f.wrapX:!1,transition:f.transition,zDirection:f.zDirection});this.version_=void 0!==f.version?f.version:"1.0.0";this.format_=void 0!==
f.format?f.format:"image/jpeg";this.dimensions_=void 0!==f.dimensions?f.dimensions:{};this.layer_=f.layer;this.matrixSet_=f.matrixSet;this.style_=f.style;this.requestEncoding_=b;this.setKey(this.getKeyForDimensions_());e&&0<e.length&&(this.tileUrlFunction=(0,q.createFromTileUrlFunctions)(e.map(this.createFromWMTSTemplate.bind(this))))}setUrls(f){this.urls=f;const b=f.join("\n");this.setTileUrlFunction((0,q.createFromTileUrlFunctions)(f.map(this.createFromWMTSTemplate.bind(this))),b)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){let f=
0;const b=[];for(const c in this.dimensions_)b[f++]=c+"-"+this.dimensions_[c];return b.join("/")}updateDimensions(f){Object.assign(this.dimensions_,f);this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(f){const b=this.requestEncoding_,c={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==b&&Object.assign(c,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});f="KVP"==b?(0,w.appendParams)(f,c):f.replace(/\{(\w+?)\}/g,function(n,h){return h.toLowerCase()in
c?c[h.toLowerCase()]:n});const e=this.tileGrid,g=this.dimensions_;return function(n,h,x){if(n){const O={TileMatrix:e.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Object.assign(O,g);n=f;return n="KVP"==b?(0,w.appendParams)(n,O):n.replace(/\{(\w+?)\}/g,function(H,F){return O[F]})}}}}A.default=m};
shadow$provide[297]=function(Ka,L,sb,A){function w(B){return B&&B.__esModule?B:{default:B}}Object.defineProperty(A,"__esModule",{value:!0});A.sourcesFromTileGrid=function(B,N){const Y=new k.default(32),Aa=B.getExtent();return function(sa,la){Y.expireCache();Aa&&(sa=(0,p.getIntersection)(Aa,sa));la=B.getZForResolution(la);const Ia=[];B.forEachTileCoord(sa,la,bb=>{const ib=bb.toString();Y.containsKey(ib)||(bb=N(bb),Y.set(ib,bb));Ia.push(Y.get(ib))});return Ia}};Object.defineProperty(A,"BingMaps",{enumerable:!0,
get:function(){return q.default}});Object.defineProperty(A,"CartoDB",{enumerable:!0,get:function(){return t.default}});Object.defineProperty(A,"Cluster",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(A,"DataTile",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(A,"GeoTIFF",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(A,"IIIF",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(A,"Image",{enumerable:!0,get:function(){return e.default}});
Object.defineProperty(A,"ImageArcGISRest",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(A,"ImageCanvas",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(A,"ImageMapGuide",{enumerable:!0,get:function(){return h.default}});Object.defineProperty(A,"ImageStatic",{enumerable:!0,get:function(){return x.default}});Object.defineProperty(A,"ImageWMS",{enumerable:!0,get:function(){return O.default}});Object.defineProperty(A,"OSM",{enumerable:!0,get:function(){return H.default}});
Object.defineProperty(A,"Raster",{enumerable:!0,get:function(){return F.default}});Object.defineProperty(A,"Source",{enumerable:!0,get:function(){return J.default}});Object.defineProperty(A,"Stamen",{enumerable:!0,get:function(){return D.default}});Object.defineProperty(A,"Tile",{enumerable:!0,get:function(){return r.default}});Object.defineProperty(A,"TileArcGISRest",{enumerable:!0,get:function(){return z.default}});Object.defineProperty(A,"TileDebug",{enumerable:!0,get:function(){return G.default}});
Object.defineProperty(A,"TileImage",{enumerable:!0,get:function(){return T.default}});Object.defineProperty(A,"TileJSON",{enumerable:!0,get:function(){return R.default}});Object.defineProperty(A,"TileWMS",{enumerable:!0,get:function(){return ca.default}});Object.defineProperty(A,"UrlTile",{enumerable:!0,get:function(){return M.default}});Object.defineProperty(A,"UTFGrid",{enumerable:!0,get:function(){return ba.default}});Object.defineProperty(A,"Vector",{enumerable:!0,get:function(){return W.default}});
Object.defineProperty(A,"VectorTile",{enumerable:!0,get:function(){return ea.default}});Object.defineProperty(A,"WMTS",{enumerable:!0,get:function(){return La.default}});Object.defineProperty(A,"XYZ",{enumerable:!0,get:function(){return aa.default}});Object.defineProperty(A,"Zoomify",{enumerable:!0,get:function(){return C.default}});var k=w(L(181)),p=L(84),q=w(L(203)),t=w(L(205)),m=w(L(212)),f=w(L(214)),b=w(L(261)),c=w(L(264)),e=w(L(266)),g=w(L(268)),n=w(L(270)),h=w(L(271)),x=w(L(272)),O=w(L(274)),
H=w(L(275)),F=w(L(285)),J=w(L(194)),D=w(L(286)),r=w(L(198)),z=w(L(287)),G=w(L(288)),T=w(L(201)),R=w(L(289)),ca=w(L(290)),M=w(L(200)),ba=w(L(291)),W=w(L(211)),ea=w(L(294)),La=w(L(296)),aa=w(L(204)),C=w(L(262))};
shadow$provide[298]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(k){k=k||{};this.color_=void 0!==k.color?k.color:null}clone(){const k=this.getColor();return new w({color:Array.isArray(k)?k.slice():k||void 0})}getColor(){return this.color_}setColor(k){this.color_=k}}A.default=w};
shadow$provide[299]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(k){k=k||{};this.color_=void 0!==k.color?k.color:null;this.lineCap_=k.lineCap;this.lineDash_=void 0!==k.lineDash?k.lineDash:null;this.lineDashOffset_=k.lineDashOffset;this.lineJoin_=k.lineJoin;this.miterLimit_=k.miterLimit;this.width_=k.width}clone(){const k=this.getColor();return new w({color:Array.isArray(k)?k.slice():k||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?
this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(k){this.color_=k}setLineCap(k){this.lineCap_=k}setLineDash(k){this.lineDash_=k}setLineDashOffset(k){this.lineDashOffset_=
k}setLineJoin(k){this.lineJoin_=k}setMiterLimit(k){this.miterLimit_=k}setWidth(k){this.width_=k}}A.default=w};
shadow$provide[300]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(75),k=L(167);class p{constructor(q){this.opacity_=q.opacity;this.rotateWithView_=q.rotateWithView;this.rotation_=q.rotation;this.scale_=q.scale;this.scaleArray_=(0,k.toSize)(q.scale);this.displacement_=q.displacement;this.declutterMode_=q.declutterMode}clone(){const q=this.getScale();return new p({opacity:this.getOpacity(),scale:Array.isArray(q)?q.slice():q,rotation:this.getRotation(),
rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,w.abstract)()}getImage(q){return(0,w.abstract)()}getHitDetectionImage(){return(0,w.abstract)()}getPixelRatio(q){return 1}getImageState(){return(0,w.abstract)()}getImageSize(){return(0,w.abstract)()}getOrigin(){return(0,w.abstract)()}getSize(){return(0,w.abstract)()}setDisplacement(q){this.displacement_=
q}setOpacity(q){this.opacity_=q}setRotateWithView(q){this.rotateWithView_=q}setRotation(q){this.rotation_=q}setScale(q){this.scale_=q;this.scaleArray_=(0,k.toSize)(q)}listenImageChange(q){(0,w.abstract)()}load(){(0,w.abstract)()}unlistenImageChange(q){(0,w.abstract)()}}A.default=p};
shadow$provide[301]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.asColorLike=function(k){return Array.isArray(k)?(0,w.toString)(k):k};var w=L(86)};
shadow$provide[302]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(184));Ka=w(L(300));var p=L(86),q=L(301),t=L(97),m=L(98);class f extends Ka.default{constructor(b){super({opacity:1,rotateWithView:void 0!==b.rotateWithView?b.rotateWithView:!1,rotation:void 0!==b.rotation?b.rotation:0,scale:void 0!==b.scale?b.scale:1,displacement:void 0!==b.displacement?b.displacement:[0,0],declutterMode:b.declutterMode});
this.canvas_=void 0;this.hitDetectionCanvas_=null;this.fill_=void 0!==b.fill?b.fill:null;this.origin_=[0,0];this.points_=b.points;this.radius_=void 0!==b.radius?b.radius:b.radius1;this.radius2_=b.radius2;this.angle_=void 0!==b.angle?b.angle:0;this.stroke_=void 0!==b.stroke?b.stroke:null;this.renderOptions_=this.size_=null;this.render()}clone(){var b=this.getScale();b=new f({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),
angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(b)?b.slice():b,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});b.setOpacity(this.getOpacity());return b}getAnchor(){const b=this.size_;if(!b)return null;const c=this.getDisplacement(),e=this.getScaleArray();return[b[0]/2-c[0]/e[0],b[1]/2+c[1]/e[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(b){this.fill_=
b;this.render()}getHitDetectionImage(){this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_);return this.hitDetectionCanvas_}getImage(b){var c=this.canvas_[b];if(!c){c=this.renderOptions_;const e=(0,t.createCanvasContext2D)(c.size*b,c.size*b);this.draw_(c,e,b);c=e.canvas;this.canvas_[b]=c}return c}getPixelRatio(b){return b}getImageSize(){return this.size_}getImageState(){return k.default.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(b){this.stroke_=
b;this.render()}listenImageChange(b){}load(){}unlistenImageChange(b){}calculateLineJoinSize_(b,c,e){if(0===c||Infinity===this.points_||"bevel"!==b&&"miter"!==b)return c;let g=this.radius_,n=void 0===this.radius2_?g:this.radius2_;if(g<n){var h=g;g=n;n=h}h=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_);var x=n*Math.sin(h),O=g-Math.sqrt(n*n-x*x);const H=Math.sqrt(x*x+O*O);x=H/x;if("miter"===b&&x<=e)return x*c;x=c/2/x;O=c/2*(O/H);O=Math.sqrt((g+x)*(g+x)+O*O)-g;if(void 0===this.radius2_||
"bevel"===b)return 2*O;b=g*Math.sin(h);h=n-Math.sqrt(g*g-b*b);b=Math.sqrt(b*b+h*h)/b;return b<=e?2*Math.max(O,b*c/2-n-g):2*O}createRenderOptions(){let b=m.defaultLineJoin,c=0,e=null,g=0,n,h=0;this.stroke_&&(n=this.stroke_.getColor(),null===n&&(n=m.defaultStrokeStyle),n=(0,q.asColorLike)(n),h=this.stroke_.getWidth(),void 0===h&&(h=m.defaultLineWidth),e=this.stroke_.getLineDash(),g=this.stroke_.getLineDashOffset(),b=this.stroke_.getLineJoin(),void 0===b&&(b=m.defaultLineJoin),c=this.stroke_.getMiterLimit(),
void 0===c&&(c=m.defaultMiterLimit));const x=this.calculateLineJoinSize_(b,h,c);return{strokeStyle:n,strokeWidth:h,size:Math.ceil(2*Math.max(this.radius_,this.radius2_||0)+x),lineDash:e,lineDashOffset:g,lineJoin:b,miterLimit:c}}render(){this.renderOptions_=this.createRenderOptions();const b=this.renderOptions_.size;this.canvas_={};this.size_=[b,b]}draw_(b,c,e){c.scale(e,e);c.translate(b.size/2,b.size/2);this.createPath_(c);this.fill_&&(e=this.fill_.getColor(),null===e&&(e=m.defaultFillStyle),c.fillStyle=
(0,q.asColorLike)(e),c.fill());this.stroke_&&(c.strokeStyle=b.strokeStyle,c.lineWidth=b.strokeWidth,b.lineDash&&(c.setLineDash(b.lineDash),c.lineDashOffset=b.lineDashOffset),c.lineJoin=b.lineJoin,c.miterLimit=b.miterLimit,c.stroke())}createHitDetectionCanvas_(b){if(this.fill_){var c=this.fill_.getColor();let e=0;"string"===typeof c&&(c=(0,p.asArray)(c));null===c?e=1:Array.isArray(c)&&(e=4===c.length?c[3]:1);0===e&&(c=(0,t.createCanvasContext2D)(b.size,b.size),this.hitDetectionCanvas_=c.canvas,this.drawHitDetectionCanvas_(b,
c))}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(b){let c=this.points_;const e=this.radius_;if(Infinity===c)b.arc(0,0,e,0,2*Math.PI);else{const g=void 0===this.radius2_?e:this.radius2_;void 0!==this.radius2_&&(c*=2);const n=this.angle_-Math.PI/2,h=2*Math.PI/c;for(let x=0;x<c;x++){const O=n+x*h,H=0===x%2?e:g;b.lineTo(H*Math.cos(O),H*Math.sin(O))}b.closePath()}}drawHitDetectionCanvas_(b,c){c.translate(b.size/2,b.size/2);this.createPath_(c);c.fillStyle=m.defaultFillStyle;
c.fill();this.stroke_&&(c.strokeStyle=b.strokeStyle,c.lineWidth=b.strokeWidth,b.lineDash&&(c.setLineDash(b.lineDash),c.lineDashOffset=b.lineDashOffset),c.lineJoin=b.lineJoin,c.miterLimit=b.miterLimit,c.stroke())}}A.default=f};
shadow$provide[303]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(302));class w extends Ka.default{constructor(k){k=k?k:{radius:5};super({points:Infinity,fill:k.fill,radius:k.radius,stroke:k.stroke,scale:void 0!==k.scale?k.scale:1,rotation:void 0!==k.rotation?k.rotation:0,rotateWithView:void 0!==k.rotateWithView?k.rotateWithView:!1,displacement:void 0!==k.displacement?k.displacement:[0,0],declutterMode:k.declutterMode})}clone(){var k=
this.getScale();k=new w({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(k)?k.slice():k,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});k.setOpacity(this.getOpacity());return k}setRadius(k){this.radius_=k;this.render()}}A.default=w};
shadow$provide[304]=function(Ka,L,sb,A){function w(c){return c&&c.__esModule?c:{default:c}}function k(c){return c.getGeometry()}Object.defineProperty(A,"__esModule",{value:!0});A.toFunction=function(c){if("function"!==typeof c){let e;Array.isArray(c)?e=c:((0,m.assert)("function"===typeof c.getZIndex,41),e=[c]);c=function(){return e}}return c};A.createDefaultStyle=function(c,e){b||(c=new q.default({color:"rgba(255,255,255,0.4)"}),e=new t.default({color:"#3399CC",width:1.25}),b=[new f({image:new p.default({fill:c,
stroke:e,radius:5}),fill:c,stroke:e})]);return b};A.createEditingStyle=function(){const c={},e=[255,255,255,1],g=[0,153,255,1];c.Polygon=[new f({fill:new q.default({color:[255,255,255,.5]})})];c.MultiPolygon=c.Polygon;c.LineString=[new f({stroke:new t.default({color:e,width:5})}),new f({stroke:new t.default({color:g,width:3})})];c.MultiLineString=c.LineString;c.Circle=c.Polygon.concat(c.LineString);c.Point=[new f({image:new p.default({radius:6,fill:new q.default({color:g}),stroke:new t.default({color:e,
width:1.5})}),zIndex:Infinity})];c.MultiPoint=c.Point;c.GeometryCollection=c.Polygon.concat(c.LineString,c.Point);return c};A.default=void 0;var p=w(L(303)),q=w(L(298)),t=w(L(299)),m=L(81);class f{constructor(c){c=c||{};this.geometry_=null;this.geometryFunction_=k;void 0!==c.geometry&&this.setGeometry(c.geometry);this.fill_=void 0!==c.fill?c.fill:null;this.image_=void 0!==c.image?c.image:null;this.renderer_=void 0!==c.renderer?c.renderer:null;this.hitDetectionRenderer_=void 0!==c.hitDetectionRenderer?
c.hitDetectionRenderer:null;this.stroke_=void 0!==c.stroke?c.stroke:null;this.text_=void 0!==c.text?c.text:null;this.zIndex_=c.zIndex}clone(){let c=this.getGeometry();c&&"object"===typeof c&&(c=c.clone());return new f({geometry:c,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(c){this.renderer_=
c}setHitDetectionRenderer(c){this.hitDetectionRenderer_=c}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(c){this.fill_=c}getImage(){return this.image_}setImage(c){this.image_=c}getStroke(){return this.stroke_}setStroke(c){this.stroke_=c}getText(){return this.text_}setText(c){this.text_=c}getZIndex(){return this.zIndex_}setGeometry(c){"function"===typeof c?this.geometryFunction_=
c:"string"===typeof c?this.geometryFunction_=function(e){return e.get(c)}:c?void 0!==c&&(this.geometryFunction_=function(){return c}):this.geometryFunction_=k;this.geometry_=c}setZIndex(c){this.zIndex_=c}}let b=null;A.default=f};
shadow$provide[305]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=function(q){return q&&q.__esModule?q:{default:q}}(L(298)),k=L(167);class p{constructor(q){q=q||{};this.font_=q.font;this.rotation_=q.rotation;this.rotateWithView_=q.rotateWithView;this.scale_=q.scale;this.scaleArray_=(0,k.toSize)(void 0!==q.scale?q.scale:1);this.text_=q.text;this.textAlign_=q.textAlign;this.justify_=q.justify;this.textBaseline_=q.textBaseline;this.fill_=void 0!==q.fill?
q.fill:new w.default({color:"#333"});this.maxAngle_=void 0!==q.maxAngle?q.maxAngle:Math.PI/4;this.placement_=void 0!==q.placement?q.placement:"point";this.overflow_=!!q.overflow;this.stroke_=void 0!==q.stroke?q.stroke:null;this.offsetX_=void 0!==q.offsetX?q.offsetX:0;this.offsetY_=void 0!==q.offsetY?q.offsetY:0;this.backgroundFill_=q.backgroundFill?q.backgroundFill:null;this.backgroundStroke_=q.backgroundStroke?q.backgroundStroke:null;this.padding_=void 0===q.padding?null:q.padding}clone(){const q=
this.getScale();return new p({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(q)?q.slice():q,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),
backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(q){this.overflow_=
q}setFont(q){this.font_=q}setMaxAngle(q){this.maxAngle_=q}setOffsetX(q){this.offsetX_=q}setOffsetY(q){this.offsetY_=q}setPlacement(q){this.placement_=q}setRotateWithView(q){this.rotateWithView_=q}setFill(q){this.fill_=q}setRotation(q){this.rotation_=q}setScale(q){this.scale_=q;this.scaleArray_=(0,k.toSize)(void 0!==q?q:1)}setStroke(q){this.stroke_=q}setText(q){this.text_=q}setTextAlign(q){this.textAlign_=q}setJustify(q){this.justify_=q}setTextBaseline(q){this.textBaseline_=q}setBackgroundFill(q){this.backgroundFill_=
q}setBackgroundStroke(q){this.backgroundStroke_=q}setPadding(q){this.padding_=q}}A.default=p};
shadow$provide[306]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.get=function(e,g,n,h,x,O){let H=m.shared.get(g,h,O);H||(H=new c(e,g,n,h,x,O),m.shared.set(g,h,O,H));return H};A.default=void 0;Ka=w(L(71));var k=w(L(72)),p=w(L(184)),q=L(86),t=L(97),m=L(87),f=L(185);let b=null;class c extends Ka.default{constructor(e,g,n,h,x,O){super();this.hitDetectionImage_=null;this.image_=e;this.crossOrigin_=h;this.canvas_={};this.color_=
O;this.unlisten_=null;this.imageState_=x;this.size_=n;this.src_=g}initializeImage_(){this.image_=new Image;null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===p.default.LOADED){b||(b=(0,t.createCanvasContext2D)(1,1));b.drawImage(this.image_,0,0);try{b.getImageData(0,0,1,1),this.tainted_=!1}catch(e){b=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(k.default.CHANGE)}handleImageError_(){this.imageState_=
p.default.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=p.default.LOADED;this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()}getImage(e){this.image_||this.initializeImage_();this.replaceColor_(e);return this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){this.replaceColor_(e);return this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){this.image_||
this.initializeImage_();if(!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],g=this.size_[1],n=(0,t.createCanvasContext2D)(e,g);n.fillRect(0,0,e,g);this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===p.default.IDLE){this.image_||this.initializeImage_();this.imageState_=p.default.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=
(0,f.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===p.default.LOADED){var g=this.image_,n=document.createElement("canvas");n.width=Math.ceil(g.width*e);n.height=Math.ceil(g.height*e);var h=n.getContext("2d");h.scale(e,e);h.drawImage(g,0,0);h.globalCompositeOperation="multiply";h.fillStyle=(0,q.asString)(this.color_);h.fillRect(0,0,n.width/e,n.height/e);h.globalCompositeOperation="destination-in";
h.drawImage(g,0,0);this.canvas_[e]=n}}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}A.default=c};
shadow$provide[307]=function(Ka,L,sb,A){function w(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(72)),p=w(L(184));Ka=w(L(300));var q=L(86),t=L(81),m=L(306),f=L(75);class b extends Ka.default{constructor(c){c=c||{};super({opacity:void 0!==c.opacity?c.opacity:1,rotation:void 0!==c.rotation?c.rotation:0,scale:void 0!==c.scale?c.scale:1,displacement:void 0!==c.displacement?c.displacement:[0,0],rotateWithView:void 0!==c.rotateWithView?
c.rotateWithView:!1,declutterMode:c.declutterMode});this.anchor_=void 0!==c.anchor?c.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=void 0!==c.anchorOrigin?c.anchorOrigin:"top-left";this.anchorXUnits_=void 0!==c.anchorXUnits?c.anchorXUnits:"fraction";this.anchorYUnits_=void 0!==c.anchorYUnits?c.anchorYUnits:"fraction";this.crossOrigin_=void 0!==c.crossOrigin?c.crossOrigin:null;const e=void 0!==c.img?c.img:null;this.imgSize_=c.imgSize;let g=c.src;(0,t.assert)(!(void 0!==g&&e),4);(0,t.assert)(!e||
e&&this.imgSize_,5);void 0!==g&&0!==g.length||!e||(g=e.src||(0,f.getUid)(e));(0,t.assert)(void 0!==g&&0<g.length,6);const n=void 0!==c.src?p.default.IDLE:p.default.LOADED;this.color_=void 0!==c.color?(0,q.asArray)(c.color):null;this.iconImage_=(0,m.get)(e,g,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,n,this.color_);this.offset_=void 0!==c.offset?c.offset:[0,0];this.offsetOrigin_=void 0!==c.offsetOrigin?c.offsetOrigin:"top-left";this.origin_=null;this.size_=void 0!==c.size?c.size:null}clone(){const c=
this.getScale();return new b({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(c)?c.slice():c,size:null!==this.size_?this.size_.slice():
void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let c=this.normalizedAnchor_;if(!c){c=this.anchor_;var e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;c=this.anchor_.slice();"fraction"==this.anchorXUnits_&&(c[0]*=e[0]);"fraction"==this.anchorYUnits_&&(c[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;c===this.anchor_&&(c=this.anchor_.slice());if("top-right"==
this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)c[0]=-c[0]+e[0];if("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)c[1]=-c[1]+e[1]}this.normalizedAnchor_=c}e=this.getDisplacement();const g=this.getScaleArray();return[c[0]-e[0]/g[0],c[1]+e[1]/g[1]]}setAnchor(c){this.anchor_=c;this.normalizedAnchor_=null}getColor(){return this.color_}getImage(c){return this.iconImage_.getImage(c)}getPixelRatio(c){return this.iconImage_.getPixelRatio(c)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;
let c=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),g=this.iconImage_.getSize();if(!e||!g)return null;c=c.slice();if("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)c[0]=g[0]-e[0]-c[0];if("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)c[1]=g[1]-e[1]-c[1]}return this.origin_=c}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}listenImageChange(c){this.iconImage_.addEventListener(k.default.CHANGE,
c)}load(){this.iconImage_.load()}unlistenImageChange(c){this.iconImage_.removeEventListener(k.default.CHANGE,c)}}A.default=b};
shadow$provide[308]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}function k(g,n){if(g=g[n+"fill-color"])return new t.default({color:g})}function p(g,n){const h=g[n+"stroke-width"],x=g[n+"stroke-color"];if(h||x)return new b.default({width:h,color:x,lineCap:g[n+"stroke-line-cap"],lineJoin:g[n+"stroke-line-join"],lineDash:g[n+"stroke-line-dash"],lineDashOffset:g[n+"stroke-line-dash-offset"],miterLimit:g[n+"stroke-miter-limit"]})}Object.defineProperty(A,"__esModule",{value:!0});
A.toStyle=function(g){var n=c.default,h=k(g,""),x=p(g,"");var O=(O=g["text-value"])?new e.default({text:O,font:g["text-font"],maxAngle:g["text-max-angle"],offsetX:g["text-offset-x"],offsetY:g["text-offset-y"],overflow:g["text-overflow"],placement:g["text-placement"],scale:g["text-scale"],rotateWithView:g["text-rotate-with-view"],rotation:g["text-rotation"],textAlign:g["text-align"],justify:g["text-justify"],textBaseline:g["text-baseline"],padding:g["text-padding"],fill:k(g,"text-"),backgroundFill:k(g,
"text-background-"),stroke:p(g,"text-"),backgroundStroke:p(g,"text-background-")}):void 0;{var H=g["icon-src"];const F=g["icon-img"];g=H||F?new m.default({src:H,img:F,imgSize:g["icon-img-size"],anchor:g["icon-anchor"],anchorOrigin:g["icon-anchor-origin"],anchorXUnits:g["icon-anchor-x-units"],anchorYUnits:g["icon-anchor-y-units"],color:g["icon-color"],crossOrigin:g["icon-cross-origin"],offset:g["icon-offset"],displacement:g["icon-displacement"],opacity:g["icon-opacity"],scale:g["icon-scale"],rotation:g["icon-rotation"],
rotateWithView:g["icon-rotate-with-view"],size:g["icon-size"],declutterMode:g["icon-declutter-mode"]}):(H=g["shape-points"])?new f.default({points:H,fill:k(g,"shape-"),stroke:p(g,"shape-"),radius:g["shape-radius"],radius1:g["shape-radius1"],radius2:g["shape-radius2"],angle:g["shape-angle"],displacement:g["shape-displacement"],rotation:g["shape-rotation"],rotateWithView:g["shape-rotate-with-view"],scale:g["shape-scale"],declutterMode:g["shape-declutter-mode"]}):(H=g["circle-radius"])?new q.default({radius:H,
fill:k(g,"circle-"),stroke:p(g,"circle-"),displacement:g["circle-displacement"],scale:g["circle-scale"],rotation:g["circle-rotation"],rotateWithView:g["circle-rotate-with-view"],declutterMode:g["circle-declutter-mode"]}):void 0}return new n({fill:h,stroke:x,text:O,image:g})};var q=w(L(303)),t=w(L(298)),m=w(L(307)),f=w(L(302)),b=w(L(299)),c=w(L(304)),e=w(L(305))};
shadow$provide[309]=function(Ka,L,sb,A){function w(f){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(w=function(e){return e?c:b})(f)}function k(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=k(L(91));var p=k(L(206)),q=function(f,b){if(!b&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((b=w(b))&&b.has(f))return b.get(f);var c={},e=Object.defineProperty&&
Object.getOwnPropertyDescriptor,g;for(g in f)if("default"!==g&&Object.prototype.hasOwnProperty.call(f,g)){var n=e?Object.getOwnPropertyDescriptor(f,g):null;n&&(n.get||n.set)?Object.defineProperty(c,g,n):c[g]=f[g]}c.default=f;b&&b.set(f,c);return c}(L(304)),t=L(308);class m extends Ka.default{constructor(f){f=f?f:{};const b=Object.assign({},f);delete b.style;delete b.renderBuffer;delete b.updateWhileAnimating;delete b.updateWhileInteracting;super(b);this.declutter_=void 0!==f.declutter?f.declutter:
!1;this.renderBuffer_=void 0!==f.renderBuffer?f.renderBuffer:100;this.style_=null;this.styleFunction_=void 0;this.setStyle(f.style);this.updateWhileAnimating_=void 0!==f.updateWhileAnimating?f.updateWhileAnimating:!1;this.updateWhileInteracting_=void 0!==f.updateWhileInteracting?f.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(f){return super.getFeatures(f)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get("renderOrder")}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(f){f.declutterTree||
(f.declutterTree=new p.default(9));this.getRenderer().renderDeclutter(f)}setRenderOrder(f){this.set("renderOrder",f)}setStyle(f){if(void 0===f)var b=q.createDefaultStyle;else if(null===f)b=null;else if("function"===typeof f)b=f;else if(f instanceof q.default)b=f;else if(Array.isArray(f)){b=f.length;const c=Array(b);for(let e=0;e<b;++e){const g=f[e];c[e]=g instanceof q.default?g:(0,t.toStyle)(g)}b=c}else b=(0,t.toStyle)(f);this.style_=b;this.styleFunction_=null===f?void 0:(0,q.toFunction)(this.style_);
this.changed()}}A.default=m};
shadow$provide[310]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};A.fillInstruction=[Ka.FILL];A.strokeInstruction=[Ka.STROKE];A.beginPathInstruction=[Ka.BEGIN_PATH];A.closePathInstruction=[Ka.CLOSE_PATH];A.default=Ka};
shadow$provide[311]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{drawCustom(k,p,q,t){}drawGeometry(k){}setStyle(k){}drawCircle(k,p){}drawFeature(k,p){}drawGeometryCollection(k,p){}drawLineString(k,p){}drawMultiLineString(k,p){}drawMultiPoint(k,p){}drawMultiPolygon(k,p){}drawPoint(k,p){}drawPolygon(k,p){}drawText(k,p){}setFillStrokeStyle(k,p){}setImageStyle(k,p){}setTextStyle(k,p){}}A.default=w};
shadow$provide[312]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(310)),p=w(L(83));Ka=w(L(311));var q=L(301),t=L(84),m=L(98),f=L(68),b=L(132);class c extends Ka.default{constructor(e,g,n,h){super();this.tolerance=e;this.maxExtent=g;this.pixelRatio=h;this.maxLineWidth=0;this.resolution=n;this.bufferedMaxExtent_=this.beginGeometryInstruction2_=this.beginGeometryInstruction1_=null;this.instructions=[];
this.coordinates=[];this.tmpCoordinate_=[];this.hitDetectionInstructions=[];this.state={}}applyPixelRatio(e){const g=this.pixelRatio;return 1==g?e:e.map(function(n){return n*g})}appendFlatPointCoordinates(e,g){const n=this.getBufferedMaxExtent(),h=this.tmpCoordinate_,x=this.coordinates;let O=x.length;for(let H=0,F=e.length;H<F;H+=g)h[0]=e[H],h[1]=e[H+1],(0,t.containsCoordinate)(n,h)&&(x[O++]=h[0],x[O++]=h[1]);return O}appendFlatLineCoordinates(e,g,n,h,x,O){const H=this.coordinates;let F=H.length;
const J=this.getBufferedMaxExtent();O&&(g+=h);O=e[g];let D=e[g+1];const r=this.tmpCoordinate_;let z=!0,G,T,R;for(G=g+h;G<n;G+=h)r[0]=e[G],r[1]=e[G+1],R=(0,t.coordinateRelationship)(J,r),R!==T?(z&&(H[F++]=O,H[F++]=D,z=!1),H[F++]=r[0],H[F++]=r[1]):R===p.default.INTERSECTING?(H[F++]=r[0],H[F++]=r[1],z=!1):z=!0,O=r[0],D=r[1],T=R;if(x&&z||G===g+h)H[F++]=O,H[F++]=D;return F}drawCustomCoordinates_(e,g,n,h,x){for(let O=0,H=n.length;O<H;++O){const F=n[O];g=this.appendFlatLineCoordinates(e,g,F,h,!1,!1);x.push(g);
g=F}return g}drawCustom(e,g,n,h){this.beginGeometry(e,g);var x=e.getType(),O=e.getStride();const H=this.coordinates.length;let F;switch(x){case "MultiPolygon":x=e.getOrientedFlatCoordinates();var J=[];const D=e.getEndss();F=0;for(let r=0,z=D.length;r<z;++r){const G=[];F=this.drawCustomCoordinates_(x,F,D[r],O,G);J.push(G)}this.instructions.push([k.default.CUSTOM,H,J,e,n,b.inflateMultiCoordinatesArray]);this.hitDetectionInstructions.push([k.default.CUSTOM,H,J,e,h||n,b.inflateMultiCoordinatesArray]);
break;case "Polygon":case "MultiLineString":J=[];x="Polygon"==x?e.getOrientedFlatCoordinates():e.getFlatCoordinates();this.drawCustomCoordinates_(x,0,e.getEnds(),O,J);this.instructions.push([k.default.CUSTOM,H,J,e,n,b.inflateCoordinatesArray]);this.hitDetectionInstructions.push([k.default.CUSTOM,H,J,e,h||n,b.inflateCoordinatesArray]);break;case "LineString":case "Circle":x=e.getFlatCoordinates();O=this.appendFlatLineCoordinates(x,0,x.length,O,!1,!1);this.instructions.push([k.default.CUSTOM,H,O,e,
n,b.inflateCoordinates]);this.hitDetectionInstructions.push([k.default.CUSTOM,H,O,e,h||n,b.inflateCoordinates]);break;case "MultiPoint":x=e.getFlatCoordinates();O=this.appendFlatPointCoordinates(x,O);O>H&&(this.instructions.push([k.default.CUSTOM,H,O,e,n,b.inflateCoordinates]),this.hitDetectionInstructions.push([k.default.CUSTOM,H,O,e,h||n,b.inflateCoordinates]));break;case "Point":x=e.getFlatCoordinates(),this.coordinates.push(x[0],x[1]),O=this.coordinates.length,this.instructions.push([k.default.CUSTOM,
H,O,e,n]),this.hitDetectionInstructions.push([k.default.CUSTOM,H,O,e,h||n])}this.endGeometry(g)}beginGeometry(e,g){this.beginGeometryInstruction1_=[k.default.BEGIN_GEOMETRY,g,0,e];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[k.default.BEGIN_GEOMETRY,g,0,e];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=
this.hitDetectionInstructions;e.reverse();let g;const n=e.length;let h,x,O=-1;for(g=0;g<n;++g)h=e[g],x=h[0],x==k.default.END_GEOMETRY?O=g:x==k.default.BEGIN_GEOMETRY&&(h[2]=g,(0,f.reverseSubArray)(this.hitDetectionInstructions,O,g),O=-1)}setFillStrokeStyle(e,g){const n=this.state;e?(e=e.getColor(),n.fillStyle=(0,q.asColorLike)(e?e:m.defaultFillStyle)):n.fillStyle=void 0;g?(e=g.getColor(),n.strokeStyle=(0,q.asColorLike)(e?e:m.defaultStrokeStyle),e=g.getLineCap(),n.lineCap=void 0!==e?e:m.defaultLineCap,
e=g.getLineDash(),n.lineDash=e?e.slice():m.defaultLineDash,e=g.getLineDashOffset(),n.lineDashOffset=e?e:m.defaultLineDashOffset,e=g.getLineJoin(),n.lineJoin=void 0!==e?e:m.defaultLineJoin,e=g.getWidth(),n.lineWidth=void 0!==e?e:m.defaultLineWidth,g=g.getMiterLimit(),n.miterLimit=void 0!==g?g:m.defaultMiterLimit,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,
n.lineWidth=void 0,n.miterLimit=void 0)}createFill(e){e=e.fillStyle;const g=[k.default.SET_FILL_STYLE,e];"string"!==typeof e&&g.push(!0);return g}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[k.default.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,g){const n=e.fillStyle;if("string"!==typeof n||e.currentFillStyle!=n)void 0!==n&&this.instructions.push(g.call(this,
e)),e.currentFillStyle=n}updateStrokeStyle(e,g){const n=e.strokeStyle,h=e.lineCap,x=e.lineDash,O=e.lineDashOffset,H=e.lineJoin,F=e.lineWidth,J=e.miterLimit;if(e.currentStrokeStyle!=n||e.currentLineCap!=h||x!=e.currentLineDash&&!(0,f.equals)(e.currentLineDash,x)||e.currentLineDashOffset!=O||e.currentLineJoin!=H||e.currentLineWidth!=F||e.currentMiterLimit!=J)void 0!==n&&g.call(this,e),e.currentStrokeStyle=n,e.currentLineCap=h,e.currentLineDash=x,e.currentLineDashOffset=O,e.currentLineJoin=H,e.currentLineWidth=
F,e.currentMiterLimit=J}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;e=[k.default.END_GEOMETRY,e];this.instructions.push(e);this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){this.bufferedMaxExtent_||(this.bufferedMaxExtent_=(0,t.clone)(this.maxExtent),0<this.maxLineWidth&&(0,t.buffer)(this.bufferedMaxExtent_,this.resolution*
(this.maxLineWidth+1)/2,this.bufferedMaxExtent_));return this.bufferedMaxExtent_}}A.default=c};
shadow$provide[313]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(312));var k=w(L(310));class p extends Ka.default{constructor(q,t,m,f){super(q,t,m,f);this.image_=this.hitDetectionImage_=null;this.declutterImageWithText_=this.declutterMode_=this.width_=this.scale_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.height_=this.anchorY_=this.anchorX_=this.imagePixelRatio_=
void 0}drawPoint(q,t){if(this.image_){this.beginGeometry(q,t);var m=q.getFlatCoordinates(),f=q.getStride();q=this.coordinates.length;m=this.appendFlatPointCoordinates(m,f);this.instructions.push([k.default.DRAW_IMAGE,q,m,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/
this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]);this.hitDetectionInstructions.push([k.default.DRAW_IMAGE,q,m,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]);this.endGeometry(t)}}drawMultiPoint(q,t){if(this.image_){this.beginGeometry(q,
t);var m=q.getFlatCoordinates(),f=q.getStride();q=this.coordinates.length;m=this.appendFlatPointCoordinates(m,f);this.instructions.push([k.default.DRAW_IMAGE,q,m,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],
Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]);this.hitDetectionInstructions.push([k.default.DRAW_IMAGE,q,m,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]);this.endGeometry(t)}}finish(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=
null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return super.finish()}setImageStyle(q,t){const m=q.getAnchor(),f=q.getSize(),b=q.getOrigin();this.imagePixelRatio_=q.getPixelRatio(this.pixelRatio);this.anchorX_=m[0];this.anchorY_=m[1];this.hitDetectionImage_=q.getHitDetectionImage();this.image_=q.getImage(this.pixelRatio);this.height_=f[1];this.opacity_=q.getOpacity();this.originX_=b[0];this.originY_=
b[1];this.rotateWithView_=q.getRotateWithView();this.rotation_=q.getRotation();this.scale_=q.getScaleArray();this.width_=f[0];this.declutterMode_=q.getDeclutterMode();this.declutterImageWithText_=t}}A.default=p};
shadow$provide[314]=function(Ka,L,sb,A){function w(t){if("function"!==typeof WeakMap)return null;var m=new WeakMap,f=new WeakMap;return(w=function(b){return b?f:m})(t)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(312));var k=function(t,m){if(!m&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};if((m=w(m))&&m.has(t))return m.get(t);var f={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,
c;for(c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var e=b?Object.getOwnPropertyDescriptor(t,c):null;e&&(e.get||e.set)?Object.defineProperty(f,c,e):f[c]=t[c]}f.default=t;m&&m.set(t,f);return f}(L(310)),p=L(98);class q extends Ka.default{constructor(t,m,f,b){super(t,m,f,b)}drawFlatCoordinates_(t,m,f,b){var c=this.coordinates.length;t=this.appendFlatLineCoordinates(t,m,f,b,!1,!1);c=[k.default.MOVE_TO_LINE_TO,c,t];this.instructions.push(c);this.hitDetectionInstructions.push(c);
return f}drawLineString(t,m){var f=this.state;const b=f.lineWidth;void 0!==f.strokeStyle&&void 0!==b&&(this.updateStrokeStyle(f,this.applyStroke),this.beginGeometry(t,m),this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,p.defaultLineDash,p.defaultLineDashOffset],k.beginPathInstruction),f=t.getFlatCoordinates(),t=t.getStride(),this.drawFlatCoordinates_(f,0,f.length,t),this.hitDetectionInstructions.push(k.strokeInstruction),this.endGeometry(m))}drawMultiLineString(t,
m){var f=this.state,b=f.lineWidth;if(void 0!==f.strokeStyle&&void 0!==b){this.updateStrokeStyle(f,this.applyStroke);this.beginGeometry(t,m);this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,f.lineDash,f.lineDashOffset],k.beginPathInstruction);f=t.getEnds();b=t.getFlatCoordinates();t=t.getStride();var c=0;for(let e=0,g=f.length;e<g;++e)c=this.drawFlatCoordinates_(b,c,f[e],t);this.hitDetectionInstructions.push(k.strokeInstruction);
this.endGeometry(m)}}finish(){const t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(k.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return super.finish()}applyStroke(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(k.strokeInstruction),t.lastStroke=this.coordinates.length);t.lastStroke=0;super.applyStroke(t);this.instructions.push(k.beginPathInstruction)}}A.default=q};
shadow$provide[315]=function(Ka,L,sb,A){function w(m){if("function"!==typeof WeakMap)return null;var f=new WeakMap,b=new WeakMap;return(w=function(c){return c?b:f})(m)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(m){return m&&m.__esModule?m:{default:m}}(L(312));var k=function(m,f){if(!f&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((f=w(f))&&f.has(m))return f.get(m);var b={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,
e;for(e in m)if("default"!==e&&Object.prototype.hasOwnProperty.call(m,e)){var g=c?Object.getOwnPropertyDescriptor(m,e):null;g&&(g.get||g.set)?Object.defineProperty(b,e,g):b[e]=m[e]}b.default=m;f&&f.set(m,b);return b}(L(310)),p=L(98),q=L(131);class t extends Ka.default{constructor(m,f,b,c){super(m,f,b,c)}drawFlatCoordinatess_(m,f,b,c){var e=this.state;const g=void 0!==e.fillStyle;e=void 0!==e.strokeStyle;const n=b.length;this.instructions.push(k.beginPathInstruction);this.hitDetectionInstructions.push(k.beginPathInstruction);
for(let h=0;h<n;++h){const x=b[h],O=this.coordinates.length;f=this.appendFlatLineCoordinates(m,f,x,c,!0,!e);f=[k.default.MOVE_TO_LINE_TO,O,f];this.instructions.push(f);this.hitDetectionInstructions.push(f);e&&(this.instructions.push(k.closePathInstruction),this.hitDetectionInstructions.push(k.closePathInstruction));f=x}g&&(this.instructions.push(k.fillInstruction),this.hitDetectionInstructions.push(k.fillInstruction));e&&(this.instructions.push(k.strokeInstruction),this.hitDetectionInstructions.push(k.strokeInstruction));
return f}drawCircle(m,f){const b=this.state;var c=b.strokeStyle;if(void 0!==b.fillStyle||void 0!==c){this.setFillStrokeStyles_();this.beginGeometry(m,f);void 0!==b.fillStyle&&this.hitDetectionInstructions.push([k.default.SET_FILL_STYLE,p.defaultFillStyle]);void 0!==b.strokeStyle&&this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,b.strokeStyle,b.lineWidth,b.lineCap,b.lineJoin,b.miterLimit,b.lineDash,b.lineDashOffset]);c=m.getFlatCoordinates();m=m.getStride();var e=this.coordinates.length;
this.appendFlatLineCoordinates(c,0,c.length,m,!1,!1);c=[k.default.CIRCLE,e];this.instructions.push(k.beginPathInstruction,c);this.hitDetectionInstructions.push(k.beginPathInstruction,c);void 0!==b.fillStyle&&(this.instructions.push(k.fillInstruction),this.hitDetectionInstructions.push(k.fillInstruction));void 0!==b.strokeStyle&&(this.instructions.push(k.strokeInstruction),this.hitDetectionInstructions.push(k.strokeInstruction));this.endGeometry(f)}}drawPolygon(m,f){var b=this.state,c=b.strokeStyle;
if(void 0!==b.fillStyle||void 0!==c)this.setFillStrokeStyles_(),this.beginGeometry(m,f),void 0!==b.fillStyle&&this.hitDetectionInstructions.push([k.default.SET_FILL_STYLE,p.defaultFillStyle]),void 0!==b.strokeStyle&&this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,b.strokeStyle,b.lineWidth,b.lineCap,b.lineJoin,b.miterLimit,b.lineDash,b.lineDashOffset]),b=m.getEnds(),c=m.getOrientedFlatCoordinates(),m=m.getStride(),this.drawFlatCoordinatess_(c,0,b,m),this.endGeometry(f)}drawMultiPolygon(m,
f){var b=this.state,c=b.strokeStyle;if(void 0!==b.fillStyle||void 0!==c){this.setFillStrokeStyles_();this.beginGeometry(m,f);void 0!==b.fillStyle&&this.hitDetectionInstructions.push([k.default.SET_FILL_STYLE,p.defaultFillStyle]);void 0!==b.strokeStyle&&this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,b.strokeStyle,b.lineWidth,b.lineCap,b.lineJoin,b.miterLimit,b.lineDash,b.lineDashOffset]);b=m.getEndss();c=m.getOrientedFlatCoordinates();m=m.getStride();var e=0;for(let g=0,n=b.length;g<
n;++g)e=this.drawFlatCoordinatess_(c,e,b[g],m);this.endGeometry(f)}}finish(){this.reverseHitDetectionInstructions();this.state=null;const m=this.tolerance;if(0!==m){const f=this.coordinates;for(let b=0,c=f.length;b<c;++b)f[b]=(0,q.snap)(f[b],m)}return super.finish()}setFillStrokeStyles_(){const m=this.state;void 0!==m.fillStyle&&this.updateFillStyle(m,this.createFill);void 0!==m.strokeStyle&&this.updateStrokeStyle(m,this.applyStroke)}}A.default=t};
shadow$provide[316]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.matchingChunk=function(w,k,p,q,t){let m=p,f=p,b=0,c=0,e=p;let g;let n,h;for(;p<q;p+=t){const F=k[p],J=k[p+1];if(void 0!==x){var x=F-x;var O=J-O;g=Math.sqrt(x*x+O*O);if(void 0!==n){c+=H;var H=Math.acos((n*x+h*O)/(H*g));H>w&&(c>b&&(b=c,m=e,f=p),c=0,e=p-t)}H=g;n=x;h=O}x=F;O=J}return c+g>b?[e,p]:[m,f]}};
shadow$provide[317]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.TEXT_ALIGN=void 0;Ka=w(L(312));var k=w(L(310)),p=L(301),q=L(98),t=L(75),m=L(84),f=L(316);const b={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};A.TEXT_ALIGN=b;class c extends Ka.default{constructor(e,g,n,h){super(e,g,n,h);this.labels_=null;this.text_="";this.textOffsetY_=this.textOffsetX_=
0;this.textRotateWithView_=void 0;this.textRotation_=0;this.textFillState_=null;this.fillStates={};this.textStrokeState_=null;this.strokeStates={};this.textState_={};this.textStates={};this.strokeKey_=this.fillKey_=this.textKey_="";this.declutterImageWithText_=void 0}finish(){const e=super.finish();e.textStates=this.textStates;e.fillStates=this.fillStates;e.strokeStates=this.strokeStates;return e}drawText(e,g){var n=this.textFillState_,h=this.textStrokeState_;const x=this.textState_;if(""!==this.text_&&
x&&(n||h)){var O=this.coordinates;n=O.length;h=e.getType();var H=null,F=e.getStride();if("line"!==x.placement||"LineString"!=h&&"MultiLineString"!=h&&"Polygon"!=h&&"MultiPolygon"!=h){var J=x.overflow?null:[];switch(h){case "Point":case "MultiPoint":H=e.getFlatCoordinates();break;case "LineString":H=e.getFlatMidpoint();break;case "Circle":H=e.getCenter();break;case "MultiLineString":H=e.getFlatMidpoints();F=2;break;case "Polygon":H=e.getFlatInteriorPoint();x.overflow||J.push(H[2]/this.resolution);
F=3;break;case "MultiPolygon":h=e.getFlatInteriorPoints();H=[];for(let z=0,G=h.length;z<G;z+=3)x.overflow||J.push(h[z+2]/this.resolution),H.push(h[z],h[z+1]);if(0===H.length)return;F=2}h=this.appendFlatPointCoordinates(H,F);if(h===n)return;if(J&&(h-n)/2!==H.length/F){let z=n/2;J=J.filter((G,T)=>{(G=O[2*(z+T)]===H[T*F]&&O[2*(z+T)+1]===H[T*F+1])||--z;return G})}this.saveTextStates_();if(x.backgroundFill||x.backgroundStroke)this.setFillStrokeStyle(x.backgroundFill,x.backgroundStroke),x.backgroundFill&&
(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),x.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(e,g);e=x.padding;if(e!=q.defaultPadding&&(0>x.scale[0]||0>x.scale[1])){e=x.padding[0];var D=x.padding[1];let z=x.padding[2],G=x.padding[3];0>x.scale[0]&&(D=-D,G=-G);0>x.scale[1]&&(e=-e,z=-z);e=[e,D,z,G]}const r=this.pixelRatio;
this.instructions.push([k.default.DRAW_IMAGE,n,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,e==q.defaultPadding?q.defaultPadding:e.map(function(z){return z*r}),!!x.backgroundFill,!!x.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,J]);D=1/r;this.hitDetectionInstructions.push([k.default.DRAW_IMAGE,n,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[D,
D],NaN,void 0,this.declutterImageWithText_,e,!!x.backgroundFill,!!x.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,J])}else{if(!(0,m.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;H=e.getFlatCoordinates();if("LineString"==h)J=[H.length];else if("MultiLineString"==h)J=e.getEnds();else if("Polygon"==h)J=e.getEnds().slice(0,1);else if("MultiPolygon"==h){h=e.getEndss();J=[];for(let r=0,z=h.length;r<z;++r)J.push(h[r][0])}this.beginGeometry(e,
g);e=x.textAlign;h=0;for(let r=0,z=J.length;r<z;++r){void 0==e?(D=(0,f.matchingChunk)(x.maxAngle,H,h,J[r],F),h=D[0],D=D[1]):D=J[r];for(;h<D;h+=F)O.push(H[h],H[h+1]);D=O.length;h=J[r];this.drawChars_(n,D);n=D}}this.endGeometry(g)}}saveTextStates_(){var e=this.textStrokeState_,g=this.textState_;const n=this.textFillState_,h=this.strokeKey_;e&&(h in this.strokeStates||(this.strokeStates[h]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,
miterLimit:e.miterLimit,lineDash:e.lineDash}));e=this.textKey_;e in this.textStates||(this.textStates[e]={font:g.font,textAlign:g.textAlign||q.defaultTextAlign,justify:g.justify,textBaseline:g.textBaseline||q.defaultTextBaseline,scale:g.scale});g=this.fillKey_;n&&(g in this.fillStates||(this.fillStates[g]={fillStyle:n.fillStyle}))}drawChars_(e,g){var n=this.textStrokeState_;const h=this.textState_,x=this.strokeKey_,O=this.textKey_,H=this.fillKey_;this.saveTextStates_();const F=this.pixelRatio,J=b[h.textBaseline],
D=this.textOffsetY_*F,r=this.text_;n=n?n.lineWidth*Math.abs(h.scale[0])/2:0;this.instructions.push([k.default.DRAW_CHARS,e,g,J,h.overflow,H,h.maxAngle,F,D,x,n*F,r,O,1]);this.hitDetectionInstructions.push([k.default.DRAW_CHARS,e,g,J,h.overflow,H,h.maxAngle,1,D,x,n,r,O,1/F])}setTextStyle(e,g){var n;let h;var x;if(e){(x=e.getFill())?(h=this.textFillState_,h||(this.textFillState_=h={}),h.fillStyle=(0,p.asColorLike)(x.getColor()||q.defaultFillStyle)):this.textFillState_=h=null;if(n=e.getStroke()){x=this.textStrokeState_;
x||(this.textStrokeState_=x={});var O=n.getLineDash(),H=n.getLineDashOffset(),F=n.getWidth(),J=n.getMiterLimit();x.lineCap=n.getLineCap()||q.defaultLineCap;x.lineDash=O?O.slice():q.defaultLineDash;x.lineDashOffset=void 0===H?q.defaultLineDashOffset:H;x.lineJoin=n.getLineJoin()||q.defaultLineJoin;x.lineWidth=void 0===F?q.defaultLineWidth:F;x.miterLimit=void 0===J?q.defaultMiterLimit:J;x.strokeStyle=(0,p.asColorLike)(n.getColor()||q.defaultStrokeStyle)}else this.textStrokeState_=x=null;n=this.textState_;
O=e.getFont()||q.defaultFont;(0,q.registerFont)(O);H=e.getScaleArray();n.overflow=e.getOverflow();n.font=O;n.maxAngle=e.getMaxAngle();n.placement=e.getPlacement();n.textAlign=e.getTextAlign();n.justify=e.getJustify();n.textBaseline=e.getTextBaseline()||q.defaultTextBaseline;n.backgroundFill=e.getBackgroundFill();n.backgroundStroke=e.getBackgroundStroke();n.padding=e.getPadding()||q.defaultPadding;n.scale=void 0===H?[1,1]:H;O=e.getOffsetX();H=e.getOffsetY();F=e.getRotateWithView();J=e.getRotation();
this.text_=e.getText()||"";this.textOffsetX_=void 0===O?0:O;this.textOffsetY_=void 0===H?0:H;this.textRotateWithView_=void 0===F?!1:F;this.textRotation_=void 0===J?0:J;this.strokeKey_=x?("string"==typeof x.strokeStyle?x.strokeStyle:(0,t.getUid)(x.strokeStyle))+x.lineCap+x.lineDashOffset+"|"+x.lineWidth+x.lineJoin+x.miterLimit+"["+x.lineDash.join()+"]":"";this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.justify||"?")+(n.textBaseline||"?");this.fillKey_=h?"string"==typeof h.fillStyle?h.fillStyle:
"|"+(0,t.getUid)(h.fillStyle):""}else this.text_="";this.declutterImageWithText_=g}}A.default=c};
shadow$provide[318]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(312));sb=w(L(313));var k=w(L(314)),p=w(L(315));L=w(L(317));const q={Circle:p.default,Default:Ka.default,Image:sb.default,LineString:k.default,Polygon:p.default,Text:L.default};class t{constructor(m,f,b,c){this.tolerance_=m;this.maxExtent_=f;this.pixelRatio_=c;this.resolution_=b;this.buildersByZIndex_={}}finish(){const m={};for(const f in this.buildersByZIndex_){m[f]=
m[f]||{};const b=this.buildersByZIndex_[f];for(const c in b){const e=b[c].finish();m[f][c]=e}}return m}getBuilder(m,f){var b=void 0!==m?m.toString():"0";m=this.buildersByZIndex_[b];void 0===m&&(m={},this.buildersByZIndex_[b]=m);b=m[f];void 0===b&&(b=new q[f](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),m[f]=b);return b}}A.default=t};
shadow$provide[319]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.drawTextOnPath=function(p,q,t,m,f,b,c,e,g,n,h,x){function O(){J=H;D=F;q+=m;H=p[q];F=p[q+1];z+=r;r=Math.sqrt((H-J)*(H-J)+(F-D)*(F-D))}let H=p[q],F=p[q+1],J=0,D=0,r=0,z=0;do O();while(q<t-m&&z+r<b);var G=0===r?0:(b-z)/r,T=(0,w.lerp)(J,H,G),R=(0,w.lerp)(D,F,G),ca=q-m,M=z;const ba=b+e*g(n,f,h);for(;q<t-m&&z+r<ba;)O();G=0===r?0:(ba-z)/r;const W=(0,w.lerp)(J,H,G);G=(0,w.lerp)(D,F,G);if(x){var ea=[T,R,W,G];(0,k.rotate)(ea,
0,4,2,x,ea,ea);x=ea[0]>ea[2]}else x=T>W;ea=Math.PI;const La=[],aa=ca+m===q;q=ca;r=0;z=M;H=p[q];F=p[q+1];if(aa){O();var C=Math.atan2(F-D,H-J);x&&(C+=0<C?-ea:ea);La[0]=[(W+T)/2,(G+R)/2,(ba-b)/2,C,f];return La}f=f.replace(/\n/g," ");for(let B=0,N=f.length;B<N;){O();T=Math.atan2(F-D,H-J);x&&(T+=0<T?-ea:ea);if(void 0!==C&&(C=T-C,C+=C>ea?-2*ea:C<-ea?2*ea:0,Math.abs(C)>c))return null;C=T;G=B;for(R=0;B<N;++B){ca=e*g(n,f[x?N-B-1:B],h);if(q+m<t&&z+r<b+R+ca/2)break;R+=ca}B!==G&&(ca=x?f.substring(N-G,N-B):f.substring(G,
B),G=0===r?0:(b+R/2-z)/r,M=(0,w.lerp)(J,H,G),G=(0,w.lerp)(D,F,G),La.push([M,G,R/2,T,ca]),b+=R)}return La};var w=L(85),k=L(126)};
shadow$provide[320]=function(Ka,L,sb,A){function w(r){return r[3].declutterBox}function k(r,z){"start"!==z&&"end"!==z||J.test(r)||(z="start"===z?"left":"right");return t.TEXT_ALIGN[z]}function p(r,z,G){0<G&&r.push("\n","");r.push(z,"");return r}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var q=function(r){return r&&r.__esModule?r:{default:r}}(L(310)),t=L(317),m=L(82),f=L(84),b=L(98),c=L(319),e=L(68),g=L(172),n=L(126);const h=(0,f.createEmpty)(),x=[],O=[],H=[],F=[],J=new RegExp("["+
String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");class D{constructor(r,z,G,T){this.overlaps=G;this.pixelRatio=z;this.resolution=r;this.instructions=T.instructions;this.coordinates=T.coordinates;this.coordinateCache_={};this.renderedTransform_=(0,m.create)();
this.hitDetectionInstructions=T.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=T.fillStates||{};this.strokeStates=T.strokeStates||{};this.textStates=T.textStates||{};this.widths_={};this.labels_={}}createLabel(r,z,G,T){const R=r+z+G+T;if(this.labels_[R])return this.labels_[R];var ca=T?this.strokeStates[T]:null,M=G?this.fillStates[G]:null;z=this.textStates[z];var ba=this.pixelRatio,W=[z.scale[0]*ba,z.scale[1]*ba],ea=Array.isArray(r);ba=z.justify?t.TEXT_ALIGN[z.justify]:
k(Array.isArray(r)?r[0]:r,z.textAlign||b.defaultTextAlign);const La=T&&ca.lineWidth?ca.lineWidth:0;r=ea?r:r.split("\n").reduce(p,[]);const {width:aa,height:C,widths:B,heights:N,lineWidths:Y}=(0,b.getTextDimensions)(z,r);ea=aa+La;const Aa=[];var sa=(ea+2)*W[0],la=(C+La)*W[1];sa={width:0>sa?Math.floor(sa):Math.ceil(sa),height:0>la?Math.floor(la):Math.ceil(la),contextInstructions:Aa};1==W[0]&&1==W[1]||Aa.push("scale",W);T&&(Aa.push("strokeStyle",ca.strokeStyle),Aa.push("lineWidth",La),Aa.push("lineCap",
ca.lineCap),Aa.push("lineJoin",ca.lineJoin),Aa.push("miterLimit",ca.miterLimit),Aa.push("setLineDash",[ca.lineDash]),Aa.push("lineDashOffset",ca.lineDashOffset));G&&Aa.push("fillStyle",M.fillStyle);Aa.push("textBaseline","middle");Aa.push("textAlign","center");ca=.5-ba;M=ba*ea+ca*La;W=[];la=[];let Ia=0,bb=0,ib=0,Ja=0,ma;for(let Pa=0,qa=r.length;Pa<qa;Pa+=2){var Fa=r[Pa];if("\n"===Fa){bb+=Ia;Ia=0;M=ba*ea+ca*La;++Ja;continue}const ya=r[Pa+1]||z.font;ya!==ma&&(T&&W.push("font",ya),G&&la.push("font",
ya),ma=ya);Ia=Math.max(Ia,N[ib]);Fa=[Fa,M+ca*B[ib]+ba*(B[ib]-Y[Ja]),.5*(La+Ia)+bb];M+=B[ib];T&&W.push("strokeText",Fa);G&&la.push("fillText",Fa);++ib}Array.prototype.push.apply(Aa,W);Array.prototype.push.apply(Aa,la);return this.labels_[R]=sa}replayTextBackground_(r,z,G,T,R,ca,M){r.beginPath();r.moveTo.apply(r,z);r.lineTo.apply(r,G);r.lineTo.apply(r,T);r.lineTo.apply(r,R);r.lineTo.apply(r,z);ca&&(this.alignFill_=ca[2],this.fill_(r));M&&(this.setStrokeStyle_(r,M),r.stroke())}calculateImageOrLabelDimensions_(r,
z,G,T,R,ca,M,ba,W,ea,La,aa,C,B,N,Y){M*=aa[0];ba*=aa[1];M=G-M;ba=T-ba;r=R+W>r?r-W:R;z=ca+ea>z?z-ea:ca;ca=B[3]+r*aa[0]+B[1];R=B[0]+z*aa[1]+B[2];const Aa=M-B[3];B=ba-B[0];if(N||0!==La)x[0]=Aa,F[0]=Aa,x[1]=B,O[1]=B,O[0]=Aa+ca,H[0]=O[0],H[1]=B+R,F[1]=H[1];let sa;0!==La?(sa=(0,m.compose)((0,m.create)(),G,T,1,1,La,-G,-T),(0,m.apply)(sa,x),(0,m.apply)(sa,O),(0,m.apply)(sa,H),(0,m.apply)(sa,F),(0,f.createOrUpdate)(Math.min(x[0],O[0],H[0],F[0]),Math.min(x[1],O[1],H[1],F[1]),Math.max(x[0],O[0],H[0],F[0]),Math.max(x[1],
O[1],H[1],F[1]),h)):(0,f.createOrUpdate)(Math.min(Aa,Aa+ca),Math.min(B,B+R),Math.max(Aa,Aa+ca),Math.max(B,B+R),h);C&&(M=Math.round(M),ba=Math.round(ba));return{drawImageX:M,drawImageY:ba,drawImageW:r,drawImageH:z,originX:W,originY:ea,declutterBox:{minX:h[0],minY:h[1],maxX:h[2],maxY:h[3],value:Y},canvasTransform:sa,scale:aa}}replayImageOrLabel_(r,z,G,T,R,ca,M){const ba=T.declutterBox,W=r.canvas,ea=M?M[2]*T.scale[0]/2:0;ba.minX-ea<=W.width/z&&0<=ba.maxX+ea&&ba.minY-ea<=W.height/z&&0<=ba.maxY+ea&&((ca||
M)&&this.replayTextBackground_(r,x,O,H,F,ca,M),(0,b.drawImageOrLabel)(r,T.canvasTransform,R,G,T.originX,T.originY,T.drawImageW,T.drawImageH,T.drawImageX,T.drawImageY,T.scale));return!0}fill_(r){if(this.alignFill_){const z=(0,m.apply)(this.renderedTransform_,[0,0]),G=512*this.pixelRatio;r.save();r.translate(z[0]%G,z[1]%G);r.rotate(this.viewRotation_)}r.fill();this.alignFill_&&r.restore()}setStrokeStyle_(r,z){r.strokeStyle=z[1];r.lineWidth=z[2];r.lineCap=z[3];r.lineJoin=z[4];r.miterLimit=z[5];r.lineDashOffset=
z[7];r.setLineDash(z[6])}drawLabelWithPointPlacement_(r,z,G,T){const R=this.textStates[z];z=this.createLabel(r,z,T,G);T=this.strokeStates[G];G=this.pixelRatio;r=k(Array.isArray(r)?r[0]:r,R.textAlign||b.defaultTextAlign);const ca=t.TEXT_ALIGN[R.textBaseline||b.defaultTextBaseline];T=T&&T.lineWidth?T.lineWidth:0;return{label:z,anchorX:r*(z.width/G-2*R.scale[0])+2*(.5-r)*T,anchorY:ca*z.height/G+2*(.5-ca)*T}}execute_(r,z,G,T,R,ca,M,ba){let W;this.pixelCoordinates_&&(0,e.equals)(G,this.renderedTransform_)?
W=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),W=(0,n.transform2D)(this.coordinates,0,this.coordinates.length,2,G,this.pixelCoordinates_),(0,m.setFromArray)(this.renderedTransform_,G));let ea=0;const La=T.length;let aa,C;let B=0,N=0,Y=null,Aa=null;const sa=this.coordinateCache_,la=this.viewRotation_;G=Math.round(1E12*Math.atan2(-G[1],G[0]))/1E12;const Ia={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:la},bb=this.instructions!=T||this.overlaps?
0:200;let ib,Ja;for(;ea<La;){var ma=T[ea];switch(ma[0]){case q.default.BEGIN_GEOMETRY:ib=ma[1];Ja=ma[3];ib.getGeometry()?void 0===M||(0,f.intersects)(M,Ja.getExtent())?++ea:ea=ma[2]+1:ea=ma[2];break;case q.default.BEGIN_PATH:B>bb&&(this.fill_(r),B=0);N>bb&&(r.stroke(),N=0);B||N||(r.beginPath(),C=aa=NaN);++ea;break;case q.default.CIRCLE:var Fa=ma[1];var Pa=W[Fa];var qa=W[Fa+1];var ya=W[Fa+2]-Pa;Fa=W[Fa+3]-qa;ya=Math.sqrt(ya*ya+Fa*Fa);r.moveTo(Pa+ya,qa);r.arc(Pa,qa,ya,0,2*Math.PI,!0);++ea;break;case q.default.CLOSE_PATH:r.closePath();
++ea;break;case q.default.CUSTOM:Fa=ma[1];var oa=ma[2];Pa=ma[4];qa=6==ma.length?ma[5]:void 0;Ia.geometry=ma[3];Ia.feature=ib;ea in sa||(sa[ea]=[]);ya=sa[ea];qa?qa(W,Fa,oa,2,ya):(ya[0]=W[Fa],ya[1]=W[Fa+1],ya.length=2);Pa(ya,Ia);++ea;break;case q.default.DRAW_IMAGE:Fa=ma[1];oa=ma[2];Pa=ma[3];var va=ma[4];var Ua=ma[5];qa=ma[6];var eb=ma[7],ra=ma[8],Oa=ma[9],ja=ma[10],U=ma[11],ka=ma[12];ya=ma[13];var wa=ma[14],Ta=ma[15];!Pa&&20<=ma.length&&(va=ma[19],Pa=ma[20],ya=ma[21],qa=ma[22],qa=this.drawLabelWithPointPlacement_(va,
Pa,ya,qa),Pa=qa.label,ma[3]=Pa,va=(qa.anchorX-ma[23])*this.pixelRatio,ma[4]=va,Ua=(qa.anchorY-ma[24])*this.pixelRatio,ma[5]=Ua,qa=Pa.height,ma[6]=qa,ya=Pa.width,ma[13]=ya);let lb;25<ma.length&&(lb=ma[25]);var db=void 0;let nb;17<ma.length?(db=ma[16],nb=ma[17],ma=ma[18]):(db=b.defaultPadding,ma=nb=!1);ja&&G?U+=la:ja||G||(U-=la);for(ja=0;Fa<oa;Fa+=2){if(lb&&lb[ja++]<ya/this.pixelRatio)continue;const Mb=this.calculateImageOrLabelDimensions_(Pa.width,Pa.height,W[Fa],W[Fa+1],ya,qa,va,Ua,ra,Oa,U,ka,R,db,
nb||ma,ib),$b=[r,z,Pa,Mb,eb,nb?Y:null,ma?Aa:null];if(ba)if("none"===wa)continue;else if("obstacle"===wa){ba.insert(Mb.declutterBox);continue}else{let Gc,zc;if(Ta){const Bc=oa-Fa;if(!Ta[Bc]){Ta[Bc]=$b;continue}Gc=Ta[Bc];delete Ta[Bc];zc=w(Gc);if(ba.collides(zc))continue}if(ba.collides(Mb.declutterBox))continue;Gc&&(ba.insert(zc),this.replayImageOrLabel_.apply(this,Gc));ba.insert(Mb.declutterBox)}this.replayImageOrLabel_.apply(this,$b)}++ea;break;case q.default.DRAW_CHARS:Ua=ma[1];Oa=ma[2];Fa=ma[3];
U=ma[4];qa=ma[5];ka=ma[6];ra=ma[7];oa=ma[8];ya=ma[9];eb=ma[10];va=ma[11];Pa=ma[12];ma=[ma[13],ma[13]];Ta=this.textStates[Pa];wa=Ta.font;ra=[Ta.scale[0]*ra,Ta.scale[1]*ra];wa in this.widths_?Ta=this.widths_[wa]:(Ta={},this.widths_[wa]=Ta);ja=(0,g.lineStringLength)(W,Ua,Oa,2);db=Math.abs(ra[0])*(0,b.measureAndCacheTextWidth)(wa,va,Ta);if(U||db<=ja)a:if(Oa=(0,c.drawTextOnPath)(W,Ua,Oa,2,va,(ja-db)*t.TEXT_ALIGN[this.textStates[Pa].textAlign],ka,Math.abs(ra[0]),b.measureAndCacheTextWidth,wa,Ta,G?0:this.viewRotation_),
Oa){U=[];if(ya)for(ka=0,wa=Oa.length;ka<wa;++ka){ja=Oa[ka];va=ja[4];Ta=this.createLabel(va,Pa,"",ya);va=ja[2]+(0>ra[0]?-eb:eb);Ua=Fa*Ta.height+2*(.5-Fa)*eb*ra[1]/ra[0]-oa;va=this.calculateImageOrLabelDimensions_(Ta.width,Ta.height,ja[0],ja[1],Ta.width,Ta.height,va,Ua,0,0,ja[3],ma,!1,b.defaultPadding,!1,ib);if(ba&&ba.collides(va.declutterBox))break a;U.push([r,z,Ta,va,1,null,null])}if(qa)for(ka=0,wa=Oa.length;ka<wa;++ka){ja=Oa[ka];va=ja[4];Ta=this.createLabel(va,Pa,qa,"");va=ja[2];Ua=Fa*Ta.height-
oa;ya=this.calculateImageOrLabelDimensions_(Ta.width,Ta.height,ja[0],ja[1],Ta.width,Ta.height,va,Ua,0,0,ja[3],ma,!1,b.defaultPadding,!1,ib);if(ba&&ba.collides(ya.declutterBox))break a;U.push([r,z,Ta,ya,1,null,null])}ba&&ba.load(U.map(w));for(let Mb=0,$b=U.length;Mb<$b;++Mb)this.replayImageOrLabel_.apply(this,U[Mb])}++ea;break;case q.default.END_GEOMETRY:if(void 0!==ca&&(ib=ma[1],Pa=ca(ib,Ja)))return Pa;++ea;break;case q.default.FILL:bb?B++:this.fill_(r);++ea;break;case q.default.MOVE_TO_LINE_TO:Fa=
ma[1];oa=ma[2];ya=W[Fa];va=W[Fa+1];Pa=ya+.5|0;qa=va+.5|0;if(Pa!==aa||qa!==C)r.moveTo(ya,va),aa=Pa,C=qa;for(Fa+=2;Fa<oa;Fa+=2)if(ya=W[Fa],va=W[Fa+1],Pa=ya+.5|0,qa=va+.5|0,Fa==oa-2||Pa!==aa||qa!==C)r.lineTo(ya,va),aa=Pa,C=qa;++ea;break;case q.default.SET_FILL_STYLE:Y=ma;this.alignFill_=ma[2];B&&(this.fill_(r),B=0,N&&(r.stroke(),N=0));r.fillStyle=ma[1];++ea;break;case q.default.SET_STROKE_STYLE:Aa=ma;N&&(r.stroke(),N=0);this.setStrokeStyle_(r,ma);++ea;break;case q.default.STROKE:bb?N++:r.stroke();++ea;
break;default:++ea}}B&&this.fill_(r);N&&r.stroke()}execute(r,z,G,T,R,ca){this.viewRotation_=T;this.execute_(r,z,G,this.instructions,R,void 0,void 0,ca)}executeHitDetection(r,z,G,T,R){this.viewRotation_=G;return this.execute_(r,1,z,this.hitDetectionInstructions,!0,T,R)}}A.default=D};
shadow$provide[321]=function(Ka,L,sb,A){function w(n){if(void 0!==g[n])return g[n];var h=2*n+1;const x=n*n,O=Array(x+1);for(let H=0;H<=n;++H)for(let F=0;F<=n;++F){const J=H*H+F*F;if(J>x)break;let D=O[J];D||(D=[],O[J]=D);D.push(4*((n+H)*h+(n+F))+3);0<H&&D.push(4*((n-H)*h+(n+F))+3);0<F&&(D.push(4*((n+H)*h+(n-F))+3),0<H&&D.push(4*((n-H)*h+(n-F))+3))}h=[];for(let H=0,F=O.length;H<F;++H)O[H]&&h.push(...O[H]);return g[n]=h}Object.defineProperty(A,"__esModule",{value:!0});A.getPixelIndexArray=w;A.default=
void 0;var k=function(n){return n&&n.__esModule?n:{default:n}}(L(320)),p=L(84),q=L(82),t=L(97),m=L(70),f=L(68),b=L(126);const c="Polygon Circle LineString Image Text Default".split(" ");class e{constructor(n,h,x,O,H,F){this.maxExtent_=n;this.overlaps_=O;this.pixelRatio_=x;this.resolution_=h;this.renderBuffer_=F;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,q.create)();this.createExecutors_(H)}clip(n,h){h=this.getClipCoords(h);n.beginPath();n.moveTo(h[0],
h[1]);n.lineTo(h[2],h[3]);n.lineTo(h[4],h[5]);n.lineTo(h[6],h[7]);n.clip()}createExecutors_(n){for(const h in n){let x=this.executorsByZIndex_[h];void 0===x&&(x={},this.executorsByZIndex_[h]=x);const O=n[h];for(const H in O)x[H]=new k.default(this.resolution_,this.pixelRatio_,this.overlaps_,O[H])}}hasExecutors(n){for(const h in this.executorsByZIndex_){const x=this.executorsByZIndex_[h];for(let O=0,H=n.length;O<H;++O)if(n[O]in x)return!0}return!1}forEachFeatureAtCoordinate(n,h,x,O,H,F){function J(W,
ea){var La=G.getImageData(0,0,D,D).data;for(let C=0,B=R.length;C<B;C++)if(0<La[R[C]]){if(!F||"Image"!==ca&&"Text"!==ca||F.includes(W)){var aa=(R[C]-3)/4;La=O-aa%D;aa=O-(aa/D|0);if(W=H(W,ea,La*La+aa*aa))return W}G.clearRect(0,0,D,D);break}}O=Math.round(O);const D=2*O+1,r=(0,q.compose)(this.hitDetectionTransform_,O+.5,O+.5,1/h,-1/h,-x,-n[0],-n[1]);var z=!this.hitDetectionContext_;z&&(this.hitDetectionContext_=(0,t.createCanvasContext2D)(D,D));const G=this.hitDetectionContext_;G.canvas.width!==D||G.canvas.height!==
D?(G.canvas.width=D,G.canvas.height=D):z||G.clearRect(0,0,D,D);let T;void 0!==this.renderBuffer_&&(T=(0,p.createEmpty)(),(0,p.extendCoordinate)(T,n),(0,p.buffer)(T,h*(this.renderBuffer_+O),T));const R=w(O);let ca;n=Object.keys(this.executorsByZIndex_).map(Number);n.sort(f.numberSafeCompareFunction);let M;for(h=n.length-1;0<=h;--h)for(M=this.executorsByZIndex_[n[h].toString()],z=c.length-1;0<=z;--z){ca=c[z];var ba=M[ca];if(void 0!==ba&&(ba=ba.executeHitDetection(G,r,x,J,T)))return ba}}getClipCoords(n){var h=
this.maxExtent_;if(!h)return null;var x=h[0];const O=h[1],H=h[2];h=h[3];x=[x,O,x,h,H,h,H,O];(0,b.transform2D)(x,0,8,2,n,x);return x}isEmpty(){return(0,m.isEmpty)(this.executorsByZIndex_)}execute(n,h,x,O,H,F,J){const D=Object.keys(this.executorsByZIndex_).map(Number);D.sort(f.numberSafeCompareFunction);this.maxExtent_&&(n.save(),this.clip(n,x));F=F?F:c;let r,z,G,T,R,ca;J&&D.reverse();r=0;for(z=D.length;r<z;++r)for(R=this.executorsByZIndex_[D[r].toString()],G=0,T=F.length;G<T;++G)ca=R[F[G]],void 0!==
ca&&ca.execute(n,h,x,O,H,J);this.maxExtent_&&n.restore()}}const g={};A.default=e};
shadow$provide[322]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(c){return c&&c.__esModule?c:{default:c}}(L(311));var w=L(301),k=L(82),p=L(98),q=L(68),t=L(84),m=L(126),f=L(128);class b extends Ka.default{constructor(c,e,g,n,h,x,O){super();this.context_=c;this.pixelRatio_=e;this.extent_=g;this.transform_=n;this.viewRotation_=h;this.squaredTolerance_=x;this.userTransform_=O;this.image_=this.strokeState_=this.fillState_=this.contextTextState_=this.contextStrokeState_=
this.contextFillState_=null;this.imageOriginY_=this.imageOriginX_=this.imageOpacity_=this.imageHeight_=this.imageAnchorY_=this.imageAnchorX_=0;this.imageRotateWithView_=!1;this.imageRotation_=0;this.imageScale_=[0,0];this.imageWidth_=0;this.text_="";this.textOffsetY_=this.textOffsetX_=0;this.textRotateWithView_=!1;this.textRotation_=0;this.textScale_=[0,0];this.textState_=this.textStrokeState_=this.textFillState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=(0,k.create)()}drawImages_(c,
e,g,n){if(this.image_){c=(0,m.transform2D)(c,e,g,n,this.transform_,this.pixelCoordinates_);e=this.context_;g=this.tmpLocalTransform_;n=e.globalAlpha;1!=this.imageOpacity_&&(e.globalAlpha=n*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(let H=0,F=c.length;H<F;H+=2){var x=c[H]-this.imageAnchorX_,O=c[H+1]-this.imageAnchorY_;0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(x+=this.imageAnchorX_,O+=this.imageAnchorY_,(0,k.compose)(g,x,O,1,1,h,
-x,-O),e.setTransform.apply(e,g),e.translate(x,O),e.scale(this.imageScale_[0],this.imageScale_[1]),e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),e.setTransform(1,0,0,1,0,0)):e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,x,O,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(e.globalAlpha=n)}}drawText_(c,e,g,n){if(this.textState_&&
""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);this.setContextTextState_(this.textState_);c=(0,m.transform2D)(c,e,g,n,this.transform_,this.pixelCoordinates_);var h=this.context_,x=this.textRotation_;for(this.textRotateWithView_&&(x+=this.viewRotation_);e<g;e+=n){const O=c[e]+this.textOffsetX_,H=c[e+1]+this.textOffsetY_;0!==x||1!=this.textScale_[0]||1!=this.textScale_[1]?(h.translate(O-this.textOffsetX_,
H-this.textOffsetY_),h.rotate(x),h.translate(this.textOffsetX_,this.textOffsetY_),h.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&h.strokeText(this.text_,0,0),this.textFillState_&&h.fillText(this.text_,0,0),h.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&h.strokeText(this.text_,O,H),this.textFillState_&&h.fillText(this.text_,O,H))}}}moveToLineTo_(c,e,g,n,h){const x=this.context_;c=(0,m.transform2D)(c,e,g,n,this.transform_,this.pixelCoordinates_);x.moveTo(c[0],c[1]);e=c.length;
h&&(e-=2);for(n=2;n<e;n+=2)x.lineTo(c[n],c[n+1]);h&&x.closePath();return g}drawRings_(c,e,g,n){for(let h=0,x=g.length;h<x;++h)e=this.moveToLineTo_(c,e,g[h],n,!0);return e}drawCircle(c){if((0,t.intersects)(this.extent_,c.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=(0,f.transformGeom2D)(c,this.transform_,this.pixelCoordinates_);var e=n[2]-n[0],g=n[3]-n[1];e=
Math.sqrt(e*e+g*g);g=this.context_;g.beginPath();g.arc(n[0],n[1],e,0,2*Math.PI);this.fillState_&&g.fill();this.strokeState_&&g.stroke()}""!==this.text_&&this.drawText_(c.getCenter(),0,2,2)}}setStyle(c){this.setFillStrokeStyle(c.getFill(),c.getStroke());this.setImageStyle(c.getImage());this.setTextStyle(c.getText())}setTransform(c){this.transform_=c}drawGeometry(c){switch(c.getType()){case "Point":this.drawPoint(c);break;case "LineString":this.drawLineString(c);break;case "Polygon":this.drawPolygon(c);
break;case "MultiPoint":this.drawMultiPoint(c);break;case "MultiLineString":this.drawMultiLineString(c);break;case "MultiPolygon":this.drawMultiPolygon(c);break;case "GeometryCollection":this.drawGeometryCollection(c);break;case "Circle":this.drawCircle(c)}}drawFeature(c,e){(c=e.getGeometryFunction()(c))&&(0,t.intersects)(this.extent_,c.getExtent())&&(this.setStyle(e),this.drawGeometry(c))}drawGeometryCollection(c){c=c.getGeometriesArray();for(let e=0,g=c.length;e<g;++e)this.drawGeometry(c[e])}drawPoint(c){this.squaredTolerance_&&
(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=c.getFlatCoordinates();c=c.getStride();this.image_&&this.drawImages_(e,0,e.length,c);""!==this.text_&&this.drawText_(e,0,e.length,c)}drawMultiPoint(c){this.squaredTolerance_&&(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=c.getFlatCoordinates();c=c.getStride();this.image_&&this.drawImages_(e,0,e.length,c);""!==this.text_&&this.drawText_(e,0,e.length,c)}drawLineString(c){this.squaredTolerance_&&
(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,t.intersects)(this.extent_,c.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,g=c.getFlatCoordinates();e.beginPath();this.moveToLineTo_(g,0,g.length,c.getStride(),!1);e.stroke()}""!==this.text_&&(c=c.getFlatMidpoint(),this.drawText_(c,0,2,2))}}drawMultiLineString(c){this.squaredTolerance_&&(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=c.getExtent();
if((0,t.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);e=this.context_;const g=c.getFlatCoordinates();let n=0;const h=c.getEnds(),x=c.getStride();e.beginPath();for(let O=0,H=h.length;O<H;++O)n=this.moveToLineTo_(g,n,h[O],x,!1);e.stroke()}""!==this.text_&&(c=c.getFlatMidpoints(),this.drawText_(c,0,c.length,2))}}drawPolygon(c){this.squaredTolerance_&&(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,t.intersects)(this.extent_,
c.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath();this.drawRings_(c.getOrientedFlatCoordinates(),0,c.getEnds(),c.getStride());this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(c=c.getFlatInteriorPoint(),this.drawText_(c,0,2,2))}}drawMultiPolygon(c){this.squaredTolerance_&&(c=c.simplifyTransformed(this.squaredTolerance_,
this.userTransform_));if((0,t.intersects)(this.extent_,c.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,g=c.getOrientedFlatCoordinates();let n=0;const h=c.getEndss(),x=c.getStride();e.beginPath();for(let O=0,H=h.length;O<H;++O)n=this.drawRings_(g,n,h[O],x);this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(c=c.getFlatInteriorPoints(),
this.drawText_(c,0,c.length,2))}}setContextFillState_(c){const e=this.context_,g=this.contextFillState_;g?g.fillStyle!=c.fillStyle&&(g.fillStyle=c.fillStyle,e.fillStyle=c.fillStyle):(e.fillStyle=c.fillStyle,this.contextFillState_={fillStyle:c.fillStyle})}setContextStrokeState_(c){const e=this.context_,g=this.contextStrokeState_;g?(g.lineCap!=c.lineCap&&(g.lineCap=c.lineCap,e.lineCap=c.lineCap),(0,q.equals)(g.lineDash,c.lineDash)||e.setLineDash(g.lineDash=c.lineDash),g.lineDashOffset!=c.lineDashOffset&&
(g.lineDashOffset=c.lineDashOffset,e.lineDashOffset=c.lineDashOffset),g.lineJoin!=c.lineJoin&&(g.lineJoin=c.lineJoin,e.lineJoin=c.lineJoin),g.lineWidth!=c.lineWidth&&(g.lineWidth=c.lineWidth,e.lineWidth=c.lineWidth),g.miterLimit!=c.miterLimit&&(g.miterLimit=c.miterLimit,e.miterLimit=c.miterLimit),g.strokeStyle!=c.strokeStyle&&(g.strokeStyle=c.strokeStyle,e.strokeStyle=c.strokeStyle)):(e.lineCap=c.lineCap,e.setLineDash(c.lineDash),e.lineDashOffset=c.lineDashOffset,e.lineJoin=c.lineJoin,e.lineWidth=
c.lineWidth,e.miterLimit=c.miterLimit,e.strokeStyle=c.strokeStyle,this.contextStrokeState_={lineCap:c.lineCap,lineDash:c.lineDash,lineDashOffset:c.lineDashOffset,lineJoin:c.lineJoin,lineWidth:c.lineWidth,miterLimit:c.miterLimit,strokeStyle:c.strokeStyle})}setContextTextState_(c){const e=this.context_,g=this.contextTextState_,n=c.textAlign?c.textAlign:p.defaultTextAlign;g?(g.font!=c.font&&(g.font=c.font,e.font=c.font),g.textAlign!=n&&(g.textAlign=n,e.textAlign=n),g.textBaseline!=c.textBaseline&&(g.textBaseline=
c.textBaseline,e.textBaseline=c.textBaseline)):(e.font=c.font,e.textAlign=n,e.textBaseline=c.textBaseline,this.contextTextState_={font:c.font,textAlign:n,textBaseline:c.textBaseline})}setFillStrokeStyle(c,e){c?(c=c.getColor(),this.fillState_={fillStyle:(0,w.asColorLike)(c?c:p.defaultFillStyle)}):this.fillState_=null;if(e){c=e.getColor();const n=e.getLineCap();var g=e.getLineDash();const h=e.getLineDashOffset(),x=e.getLineJoin(),O=e.getWidth();e=e.getMiterLimit();g=g?g:p.defaultLineDash;this.strokeState_=
{lineCap:void 0!==n?n:p.defaultLineCap,lineDash:1===this.pixelRatio_?g:g.map(H=>H*this.pixelRatio_),lineDashOffset:(h?h:p.defaultLineDashOffset)*this.pixelRatio_,lineJoin:void 0!==x?x:p.defaultLineJoin,lineWidth:(void 0!==O?O:p.defaultLineWidth)*this.pixelRatio_,miterLimit:void 0!==e?e:p.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(c?c:p.defaultStrokeStyle)}}else this.strokeState_=null}setImageStyle(c){let e;if(c&&(e=c.getSize())){var g=c.getPixelRatio(this.pixelRatio_),n=c.getAnchor(),h=c.getOrigin();
this.image_=c.getImage(this.pixelRatio_);this.imageAnchorX_=n[0]*g;this.imageAnchorY_=n[1]*g;this.imageHeight_=e[1]*g;this.imageOpacity_=c.getOpacity();this.imageOriginX_=h[0];this.imageOriginY_=h[1];this.imageRotateWithView_=c.getRotateWithView();this.imageRotation_=c.getRotation();c=c.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/g,c[1]*this.pixelRatio_/g];this.imageWidth_=e[0]*g}else this.image_=null}setTextStyle(c){if(c){var e=c.getFill();e?(e=e.getColor(),this.textFillState_={fillStyle:(0,w.asColorLike)(e?
e:p.defaultFillStyle)}):this.textFillState_=null;var g=c.getStroke();if(g){e=g.getColor();var n=g.getLineCap(),h=g.getLineDash(),x=g.getLineDashOffset(),O=g.getLineJoin(),H=g.getWidth();g=g.getMiterLimit();this.textStrokeState_={lineCap:void 0!==n?n:p.defaultLineCap,lineDash:h?h:p.defaultLineDash,lineDashOffset:x?x:p.defaultLineDashOffset,lineJoin:void 0!==O?O:p.defaultLineJoin,lineWidth:void 0!==H?H:p.defaultLineWidth,miterLimit:void 0!==g?g:p.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(e?e:
p.defaultStrokeStyle)}}else this.textStrokeState_=null;e=c.getFont();n=c.getOffsetX();h=c.getOffsetY();x=c.getRotateWithView();O=c.getRotation();H=c.getScaleArray();g=c.getText();const F=c.getTextAlign();c=c.getTextBaseline();this.textState_={font:void 0!==e?e:p.defaultFont,textAlign:void 0!==F?F:p.defaultTextAlign,textBaseline:void 0!==c?c:p.defaultTextBaseline};this.text_=void 0!==g?Array.isArray(g)?g.reduce((J,D,r)=>J+(r%2?" ":D),""):g:"";this.textOffsetX_=void 0!==n?this.pixelRatio_*n:0;this.textOffsetY_=
void 0!==h?this.pixelRatio_*h:0;this.textRotateWithView_=void 0!==x?x:!1;this.textRotation_=void 0!==O?O:0;this.textScale_=[this.pixelRatio_*H[0],this.pixelRatio_*H[1]]}else this.text_=""}}A.default=b};
shadow$provide[323]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});Object.defineProperty(A,"Circle",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(A,"Fill",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(A,"Icon",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(A,"IconImage",{enumerable:!0,get:function(){return t.default}});Object.defineProperty(A,"Image",
{enumerable:!0,get:function(){return m.default}});Object.defineProperty(A,"RegularShape",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(A,"Stroke",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(A,"Style",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(A,"Text",{enumerable:!0,get:function(){return e.default}});var k=w(L(303)),p=w(L(298)),q=w(L(307)),t=w(L(306)),m=w(L(300)),f=w(L(302)),b=w(L(299)),c=w(L(304)),e=w(L(305))};
shadow$provide[324]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createHitDetectionImageData=function(f,b,c,e,g,n,h){f=(0,q.createCanvasContext2D)(.5*f[0],.5*f[1]);f.imageSmoothingEnabled=!1;const x=f.canvas;h=new w.default(f,.5,g,null,h);const O=c.length,H=Math.floor(16777215/O),F={};for(let z=1;z<=O;++z){const G=c[z-1];var J=G.getStyleFunction()||e;if(!e)continue;J=J(G,n);if(!J)continue;Array.isArray(J)||(J=[J]);const T="#"+("000000"+(z*H).toString(16)).slice(-6);for(let R=
0,ca=J.length;R<ca;++R){var D=J[R];const M=D.getGeometryFunction()(G);if(!M||!(0,t.intersects)(g,M.getExtent()))continue;const ba=D.clone();var r=ba.getFill();r&&r.setColor(T);if(r=ba.getStroke())r.setColor(T),r.setLineDash(null);ba.setText(void 0);if((D=D.getImage())&&0!==D.getOpacity()){r=D.getImageSize();if(!r)continue;const W=(0,q.createCanvasContext2D)(r[0],r[1],void 0,{alpha:!1}),ea=W.canvas;W.fillStyle=T;W.fillRect(0,0,ea.width,ea.height);ba.setImage(new k.Icon({img:ea,imgSize:r,anchor:D.getAnchor(),
anchorXUnits:"pixels",anchorYUnits:"pixels",offset:D.getOrigin(),opacity:1,size:D.getSize(),scale:D.getScale(),rotation:D.getRotation(),rotateWithView:D.getRotateWithView()}))}D=ba.getZIndex()||0;r=F[D];r||(r={},F[D]=r,r.Polygon=[],r.Circle=[],r.LineString=[],r.Point=[]);r[M.getType().replace("Multi","")].push(M,ba)}}c=Object.keys(F).map(Number).sort(m.numberSafeCompareFunction);for(let z=0,G=c.length;z<G;++z){e=F[c[z]];for(const T in e){g=e[T];for(let R=0,ca=g.length;R<ca;R+=2){h.setStyle(g[R+1]);
for(let M=0,ba=b.length;M<ba;++M)h.setTransform(b[M]),h.drawGeometry(g[R])}}}return f.getImageData(0,0,x.width,x.height)};A.hitDetect=function(f,b,c){const e=[];if(c){const g=Math.floor(.5*Math.round(f[1]));f=4*((0,p.clamp)(Math.floor(.5*Math.round(f[0])),0,c.width-1)+(0,p.clamp)(g,0,c.height-1)*c.width);c=c.data[f+2]+256*(c.data[f+1]+256*c.data[f]);f=Math.floor(16777215/b.length);c&&0===c%f&&e.push(b[c/f-1])}return e};A.HIT_DETECT_RESOLUTION=void 0;var w=function(f){return f&&f.__esModule?f:{default:f}}(L(322)),
k=L(323),p=L(85),q=L(97),t=L(84),m=L(68);A.HIT_DETECT_RESOLUTION=.5};
shadow$provide[325]=function(Ka,L,sb,A){function w(t,m,f,b){if("GeometryCollection"==m.getType()){m=m.getGeometries();for(let c=0,e=m.length;c<e;++c)w(t,m[c],f,b)}else t.getBuilder(f.getZIndex(),"Default").drawCustom(m,b,f.getRenderer(),f.getHitDetectionRenderer())}Object.defineProperty(A,"__esModule",{value:!0});A.defaultOrder=function(t,m){return parseInt((0,p.getUid)(t),10)-parseInt((0,p.getUid)(m),10)};A.getSquaredTolerance=function(t,m){t=.5*t/m;return t*t};A.getTolerance=function(t,m){return.5*
t/m};A.renderFeature=function(t,m,f,b,c,e,g){let n=!1;const h=f.getImage();if(h){const x=h.getImageState();x==k.default.LOADED||x==k.default.ERROR?h.unlistenImageChange(c):(x==k.default.IDLE&&h.load(),h.listenImageChange(c),n=!0)}if(c=f.getGeometryFunction()(m))if(b=c.simplifyTransformed(b,e),f.getRenderer())w(t,b,f,m);else(0,q[b.getType()])(t,b,f,m,g);return n};var k=function(t){return t&&t.__esModule?t:{default:t}}(L(184)),p=L(75);const q={Point:function(t,m,f,b,c){const e=f.getImage(),g=f.getText();
let n;if(e){if(e.getImageState()!=k.default.LOADED)return;var h=t;if(c){var x=e.getDeclutterMode();"none"!==x&&(h=c,"obstacle"===x?(x=t.getBuilder(f.getZIndex(),"Image"),x.setImageStyle(e,n),x.drawPoint(m,b)):g&&g.getText()&&(n={}))}h=h.getBuilder(f.getZIndex(),"Image");h.setImageStyle(e,n);h.drawPoint(m,b)}g&&g.getText()&&(c&&(t=c),f=t.getBuilder(f.getZIndex(),"Text"),f.setTextStyle(g,n),f.drawText(m,b))},LineString:function(t,m,f,b,c){var e=f.getStroke();if(e){const g=t.getBuilder(f.getZIndex(),
"LineString");g.setFillStrokeStyle(null,e);g.drawLineString(m,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(m,b))},Polygon:function(t,m,f,b,c){var e=f.getFill();const g=f.getStroke();if(e||g){const n=t.getBuilder(f.getZIndex(),"Polygon");n.setFillStrokeStyle(e,g);n.drawPolygon(m,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(m,b))},MultiPoint:function(t,m,f,b,c){const e=f.getImage(),
g=f.getText();let n;if(e){if(e.getImageState()!=k.default.LOADED)return;var h=t;if(c){var x=e.getDeclutterMode();"none"!==x&&(h=c,"obstacle"===x?(x=t.getBuilder(f.getZIndex(),"Image"),x.setImageStyle(e,n),x.drawMultiPoint(m,b)):g&&g.getText()&&(n={}))}h=h.getBuilder(f.getZIndex(),"Image");h.setImageStyle(e,n);h.drawMultiPoint(m,b)}g&&g.getText()&&(c&&(t=c),f=t.getBuilder(f.getZIndex(),"Text"),f.setTextStyle(g,n),f.drawText(m,b))},MultiLineString:function(t,m,f,b,c){var e=f.getStroke();if(e){const g=
t.getBuilder(f.getZIndex(),"LineString");g.setFillStrokeStyle(null,e);g.drawMultiLineString(m,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(m,b))},MultiPolygon:function(t,m,f,b,c){var e=f.getFill();const g=f.getStroke();if(g||e){const n=t.getBuilder(f.getZIndex(),"Polygon");n.setFillStrokeStyle(e,g);n.drawMultiPolygon(m,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(m,b))},GeometryCollection:function(t,
m,f,b,c){m=m.getGeometriesArray();let e,g;e=0;for(g=m.length;e<g;++e)(0,q[m[e].getType()])(t,m[e],f,b,c)},Circle:function(t,m,f,b,c){var e=f.getFill();const g=f.getStroke();if(e||g){const n=t.getBuilder(f.getZIndex(),"Circle");n.setFillStrokeStyle(e,g);n.drawCircle(m,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(m,b))}}};
shadow$provide[326]=function(Ka,L,sb,A){function w(F){if("function"!==typeof WeakMap)return null;var J=new WeakMap,D=new WeakMap;return(w=function(r){return r?D:J})(F)}function k(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(318)),q=function(F,J){if(!J&&F&&F.__esModule)return F;if(null===F||"object"!==typeof F&&"function"!==typeof F)return{default:F};if((J=w(J))&&J.has(F))return J.get(F);var D={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,
z;for(z in F)if("default"!==z&&Object.prototype.hasOwnProperty.call(F,z)){var G=r?Object.getOwnPropertyDescriptor(F,z):null;G&&(G.get||G.set)?Object.defineProperty(D,z,G):D[z]=F[z]}D.default=F;J&&J.set(F,D);return D}(L(278)),t=k(L(321)),m=k(L(111)),f=L(324),b=L(82),c=L(84),e=L(97),g=L(325),n=L(68),h=L(121),x=L(75),O=L(93);class H extends q.default{constructor(F){super(F);this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this);this.renderedFeatures_=this.hitDetectionImageData_=null;
this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=(0,c.createEmpty)();this.wrappedRenderedExtent_=(0,c.createEmpty)();this.replayGroup_=this.renderedRenderOrder_=this.renderedProjection_=this.renderedCenter_=null;this.replayGroupChanged=!0;this.declutterExecutorGroup=null;this.clipping=!0;this.compositionContext_=null;this.opacity_=1}renderWorlds(F,J,D){var r=J.extent,z=J.viewState;const G=z.center,T=z.resolution;var R=z.projection;z=z.rotation;var ca=R.getExtent(),M=this.getLayer().getSource();
const ba=J.pixelRatio;var W=J.viewHints;W=!(W[m.default.ANIMATING]||W[m.default.INTERACTING]);const ea=this.compositionContext_,La=Math.round(J.size[0]*ba);J=Math.round(J.size[1]*ba);const aa=M.getWrapX()&&R.canWrapX();R=aa?(0,c.getWidth)(ca):null;M=aa?Math.ceil((r[2]-ca[2])/R)+1:1;r=aa?Math.floor((r[0]-ca[0])/R):0;do ca=this.getRenderTransform(G,T,z,ba,La,J,r*R),F.execute(ea,1,ca,z,W,void 0,D);while(++r<M)}setupCompositionContext_(){this.compositionContext_=1!==this.opacity_?(0,e.createCanvasContext2D)(this.context.canvas.width,
this.context.canvas.height,q.canvasPool):this.context}releaseCompositionContext_(){if(1!==this.opacity_){const F=this.context.globalAlpha;this.context.globalAlpha=this.opacity_;this.context.drawImage(this.compositionContext_.canvas,0,0);this.context.globalAlpha=F;(0,e.releaseCanvas)(this.compositionContext_);q.canvasPool.push(this.compositionContext_.canvas);this.compositionContext_=null}}renderDeclutter(F){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,
F,F.declutterTree),this.releaseCompositionContext_())}renderFrame(F,J){var D=F.pixelRatio,r=F.layerStatesArray[F.layerIndex];(0,b.makeScale)(this.pixelTransform,1/D,1/D);(0,b.makeInverse)(this.inversePixelTransform,this.pixelTransform);var z=(0,b.toString)(this.pixelTransform);this.useContainer(J,z,this.getBackground(F));J=this.context;var G=J.canvas;const T=this.replayGroup_;var R=this.declutterExecutorGroup;if(!(T&&!T.isEmpty()||R&&!R.isEmpty()))return null;R=Math.round(F.size[0]*D);D=Math.round(F.size[1]*
D);G.width!=R||G.height!=D?(G.width=R,G.height=D,G.style.transform!==z&&(G.style.transform=z)):this.containerReused||J.clearRect(0,0,R,D);this.preRender(J,F);z=F.viewState;R=z.projection;this.opacity_=r.opacity;this.setupCompositionContext_();D=!1;G=!0;r.extent&&this.clipping&&(r=(0,h.fromUserExtent)(r.extent,R),(D=(G=(0,c.intersects)(r,F.extent))&&!(0,c.containsExtent)(r,F.extent))&&this.clipUnrotated(this.compositionContext_,F,r));G&&this.renderWorlds(T,F);D&&this.compositionContext_.restore();
this.releaseCompositionContext_();this.postRender(J,F);this.renderedRotation_!==z.rotation&&(this.renderedRotation_=z.rotation,this.hitDetectionImageData_=null);return this.container}getFeatures(F){return new Promise(function(J){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const z=[this.context.canvas.width,this.context.canvas.height];(0,b.apply)(this.pixelTransform,z);const G=this.renderedCenter_,T=this.renderedResolution_,R=this.renderedRotation_;var D=this.renderedProjection_;
const ca=this.wrappedRenderedExtent_,M=this.getLayer(),ba=[],W=z[0]*f.HIT_DETECT_RESOLUTION,ea=z[1]*f.HIT_DETECT_RESOLUTION;ba.push(this.getRenderTransform(G,T,R,f.HIT_DETECT_RESOLUTION,W,ea,0).slice());var r=M.getSource();const La=D.getExtent();if(r.getWrapX()&&D.canWrapX()&&!(0,c.containsExtent)(La,ca)){D=ca[0];r=(0,c.getWidth)(La);let aa=0,C;for(;D<La[0];)--aa,C=r*aa,ba.push(this.getRenderTransform(G,T,R,f.HIT_DETECT_RESOLUTION,W,ea,C).slice()),D+=r;aa=0;for(D=ca[2];D>La[2];)++aa,C=r*aa,ba.push(this.getRenderTransform(G,
T,R,f.HIT_DETECT_RESOLUTION,W,ea,C).slice()),D-=r}this.hitDetectionImageData_=(0,f.createHitDetectionImageData)(z,ba,this.renderedFeatures_,M.getStyleFunction(),ca,T,R)}J((0,f.hitDetect)(F,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}forEachFeatureAtCoordinate(F,J,D,r,z){if(this.replayGroup_){var G=J.viewState.resolution,T=J.viewState.rotation,R=this.getLayer(),ca={},M=function(ea,La,aa){const C=(0,x.getUid)(ea),B=ca[C];if(!B){if(0===aa)return ca[C]=!0,r(ea,R,La);z.push(ca[C]=
{feature:ea,layer:R,geometry:La,distanceSq:aa,callback:r})}else if(!0!==B&&aa<B.distanceSq){if(0===aa)return ca[C]=!0,z.splice(z.lastIndexOf(B),1),r(ea,R,La);B.geometry=La;B.distanceSq=aa}},ba,W=[this.replayGroup_];this.declutterExecutorGroup&&W.push(this.declutterExecutorGroup);W.some(ea=>ba=ea.forEachFeatureAtCoordinate(F,G,T,D,M,ea===this.declutterExecutorGroup&&J.declutterTree?J.declutterTree.all().map(La=>La.value):null));return ba}}handleFontsChanged(){const F=this.getLayer();F.getVisible()&&
this.replayGroup_&&F.changed()}handleStyleImageChange_(F){this.renderIfReadyAndVisible()}prepareFrame(F){const J=this.getLayer(),D=J.getSource();if(!D)return!1;var r=F.viewHints[m.default.ANIMATING],z=F.viewHints[m.default.INTERACTING],G=J.getUpdateWhileAnimating(),T=J.getUpdateWhileInteracting();if(this.ready&&!G&&r||!T&&z)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var R=F.extent,ca=F.viewState;r=ca.projection;const M=ca.resolution;z=F.pixelRatio;G=J.getRevision();var ba=
J.getRenderBuffer();T=J.getRenderOrder();void 0===T&&(T=g.defaultOrder);ca=ca.center.slice();R=(0,c.buffer)(R,ba*M);ba=R.slice();var W=[R.slice()],ea=r.getExtent();if(D.getWrapX()&&r.canWrapX()&&!(0,c.containsExtent)(ea,F.extent)){F=(0,c.getWidth)(ea);var La=Math.max((0,c.getWidth)(R)/2,F);R[0]=ea[0]-La;R[2]=ea[2]+La;(0,O.wrapX)(ca,r);La=(0,c.wrapX)(W[0],r);La[0]<ea[0]&&La[2]<ea[2]?W.push([La[0]+F,La[1],La[2]+F,La[3]]):La[0]>ea[0]&&La[2]>ea[2]&&W.push([La[0]-F,La[1],La[2]-F,La[3]])}if(this.ready&&
this.renderedResolution_==M&&this.renderedRevision_==G&&this.renderedRenderOrder_==T&&(0,c.containsExtent)(this.wrappedRenderedExtent_,R))return(0,n.equals)(this.renderedExtent_,ba)||(this.hitDetectionImageData_=null,this.renderedExtent_=ba),this.renderedCenter_=ca,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const aa=new p.default((0,g.getTolerance)(M,z),R,M,z);let C;this.getLayer().getDeclutter()&&(C=new p.default((0,g.getTolerance)(M,z),R,M,z));F=(0,h.getUserProjection)();let B;if(F){for(let Aa=
0,sa=W.length;Aa<sa;++Aa)ea=(0,h.toUserExtent)(W[Aa],r),D.loadFeatures(ea,(0,h.toUserResolution)(M,r),F);B=(0,h.getTransformFromProjections)(F,r)}else for(let Aa=0,sa=W.length;Aa<sa;++Aa)D.loadFeatures(W[Aa],M,r);const N=(0,g.getSquaredTolerance)(M,z);let Y=!0;F=function(Aa){let sa;const la=Aa.getStyleFunction()||J.getStyleFunction();la&&(sa=la(Aa,M));sa&&(Aa=this.renderFeature(Aa,N,sa,aa,B,C),Y=Y&&!Aa)}.bind(this);W=(0,h.toUserExtent)(R,r);W=D.getFeaturesInExtent(W);T&&W.sort(T);for(let Aa=0,sa=
W.length;Aa<sa;++Aa)F(W[Aa]);this.renderedFeatures_=W;this.ready=Y;F=aa.finish();F=new t.default(R,M,z,D.getOverlaps(),F,J.getRenderBuffer());C&&(this.declutterExecutorGroup=new t.default(R,M,z,D.getOverlaps(),C.finish(),J.getRenderBuffer()));this.renderedResolution_=M;this.renderedRevision_=G;this.renderedRenderOrder_=T;this.renderedExtent_=ba;this.wrappedRenderedExtent_=R;this.renderedCenter_=ca;this.renderedProjection_=r;this.replayGroup_=F;this.hitDetectionImageData_=null;return this.replayGroupChanged=
!0}renderFeature(F,J,D,r,z,G){if(!D)return!1;let T=!1;if(Array.isArray(D))for(let R=0,ca=D.length;R<ca;++R)T=(0,g.renderFeature)(r,F,D[R],J,this.boundHandleStyleImageChange_,z,G)||T;else T=(0,g.renderFeature)(r,F,D,J,this.boundHandleStyleImageChange_,z,G);return T}}A.default=H};
shadow$provide[327]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(309));var k=w(L(326));class p extends Ka.default{constructor(q){super(q)}createRenderer(){return new k.default(this)}}A.default=p};
shadow$provide[328]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.toContext=function(m,f){var b=m.canvas;f=f?f:{};const c=f.pixelRatio||k.DEVICE_PIXEL_RATIO;if(f=f.size)b.width=f[0]*c,b.height=f[1]*c,b.style.width=f[0]+"px",b.style.height=f[1]+"px";b=[0,0,b.width,b.height];f=(0,p.scale)((0,p.create)(),c,c);return new w.default(m,c,b,f,0)};A.getVectorContext=function(m){if(!(m.context instanceof CanvasRenderingContext2D))throw Error("Only works for render events from Canvas 2D layers");
const f=m.inversePixelTransform[0],b=m.frameState,c=(0,p.multiply)(m.inversePixelTransform.slice(),b.coordinateToPixelTransform),e=(0,q.getSquaredTolerance)(b.viewState.resolution,f);let g;const n=(0,t.getUserProjection)();n&&(g=(0,t.getTransformFromProjections)(n,b.viewState.projection));return new w.default(m.context,f,b.extent,c,b.viewState.rotation,e,g)};A.getRenderPixel=function(m,f){return(0,p.apply)(m.inversePixelTransform,f.slice(0))};var w=function(m){return m&&m.__esModule?m:{default:m}}(L(322)),
k=L(80),p=L(82),q=L(325),t=L(121)};
shadow$provide[329]=function(Ka,L,sb,A){function w(q,t,m){const f=[];let b=q(0);var c=q(1);let e=t(b),g=t(c);const n=[c,b],h=[g,e],x=[1,0],O={};let H=1E5,F,J,D,r,z;for(;0<--H&&0<x.length;)D=x.pop(),b=n.pop(),e=h.pop(),c=D.toString(),c in O||(f.push(e[0],e[1]),O[c]=!0),r=x.pop(),c=n.pop(),g=h.pop(),z=(D+r)/2,F=q(z),J=t(F),(0,p.squaredSegmentDistance)(J[0],J[1],e[0],e[1],g[0],g[1])<m?(f.push(g[0],g[1]),c=r.toString(),O[c]=!0):(x.push(r,z,z,D),h.push(g,J,J,e),n.push(c,F,F,b));return f}Object.defineProperty(A,
"__esModule",{value:!0});A.greatCircleArc=function(q,t,m,f,b,c){const e=(0,k.get)("EPSG:4326"),g=Math.cos((0,p.toRadians)(t)),n=Math.sin((0,p.toRadians)(t)),h=Math.cos((0,p.toRadians)(f)),x=Math.sin((0,p.toRadians)(f)),O=Math.cos((0,p.toRadians)(m-q)),H=Math.sin((0,p.toRadians)(m-q)),F=n*x+g*h*O;return w(function(J){if(1<=F)return[m,f];var D=J*Math.acos(F);J=Math.cos(D);const r=Math.sin(D),z=Math.atan2(H*h,g*x-n*h*O);D=Math.asin(n*J+g*r*Math.cos(z));J=(0,p.toRadians)(q)+Math.atan2(Math.sin(z)*r*g,
J-n*Math.sin(D));return[(0,p.toDegrees)(J),(0,p.toDegrees)(D)]},(0,k.getTransform)(e,b),c)};A.meridian=function(q,t,m,f,b){const c=(0,k.get)("EPSG:4326");return w(function(e){return[q,t+(m-t)*e]},(0,k.getTransform)(c,f),b)};A.parallel=function(q,t,m,f,b){const c=(0,k.get)("EPSG:4326");return w(function(e){return[t+(m-t)*e,q]},(0,k.getTransform)(c,f),b)};var k=L(121),p=L(85)};
shadow$provide[330]=function(Ka,L,sb,A){function w(z){return z&&z.__esModule?z:{default:z}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(79)),p=w(L(90)),q=w(L(169)),t=w(L(298)),m=w(L(173)),f=w(L(135)),b=w(L(299)),c=w(L(304)),e=w(L(305));Ka=w(L(327));var g=w(L(211)),n=L(84),h=L(85),x=L(93),O=L(121),H=L(328),F=L(329);const J=new b.default({color:"rgba(0,0,0,0.2)"}),D=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,30/3600,20/3600,10/3600,5/3600,2/3600,1/3600];class r extends Ka.default{constructor(z){z=
z?z:{};const G=Object.assign({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},z);delete G.maxLines;delete G.strokeStyle;delete G.targetSize;delete G.showLabels;delete G.lonLabelFormatter;delete G.latLabelFormatter;delete G.lonLabelPosition;delete G.latLabelPosition;delete G.lonLabelStyle;delete G.latLabelStyle;delete G.intervals;super(G);this.projection_=null;this.maxLon_=this.maxLat_=Infinity;this.minLon_=this.minLat_=-Infinity;this.maxY_=this.maxX_=Infinity;this.minY_=this.minX_=
-Infinity;this.targetSize_=void 0!==z.targetSize?z.targetSize:100;this.maxLines_=void 0!==z.maxLines?z.maxLines:100;this.meridians_=[];this.parallels_=[];this.strokeStyle_=void 0!==z.strokeStyle?z.strokeStyle:J;this.toLonLatTransform_=this.fromLonLatTransform_=void 0;this.parallelsLabels_=this.meridiansLabels_=this.topRight_=this.topLeft_=this.bottomRight_=this.bottomLeft_=this.projectionCenterLonLat_=null;z.showLabels&&(this.lonLabelFormatter_=void 0==z.lonLabelFormatter?x.degreesToStringHDMS.bind(this,
"EW"):z.lonLabelFormatter,this.latLabelFormatter_=void 0==z.latLabelFormatter?x.degreesToStringHDMS.bind(this,"NS"):z.latLabelFormatter,this.lonLabelPosition_=void 0==z.lonLabelPosition?0:z.lonLabelPosition,this.latLabelPosition_=void 0==z.latLabelPosition?1:z.latLabelPosition,this.lonLabelStyleBase_=new c.default({text:void 0!==z.lonLabelStyle?z.lonLabelStyle.clone():new e.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new t.default({color:"rgba(0,0,0,1)"}),stroke:new b.default({color:"rgba(255,255,255,1)",
width:3})})}),this.lonLabelStyle_=function(T){T=T.get("graticule_label");this.lonLabelStyleBase_.getText().setText(T);return this.lonLabelStyleBase_}.bind(this),this.latLabelStyleBase_=new c.default({text:void 0!==z.latLabelStyle?z.latLabelStyle.clone():new e.default({font:"12px Calibri,sans-serif",textAlign:"right",fill:new t.default({color:"rgba(0,0,0,1)"}),stroke:new b.default({color:"rgba(255,255,255,1)",width:3})})}),this.latLabelStyle_=function(T){T=T.get("graticule_label");this.latLabelStyleBase_.getText().setText(T);
return this.latLabelStyleBase_}.bind(this),this.meridiansLabels_=[],this.parallelsLabels_=[],this.addEventListener(p.default.POSTRENDER,this.drawLabels_.bind(this)));this.intervals_=void 0!==z.intervals?z.intervals:D;this.setSource(new g.default({loader:this.loaderFunction.bind(this),strategy:this.strategyFunction.bind(this),features:new k.default,overlaps:!1,useSpatialIndex:!1,wrapX:z.wrapX}));this.featurePool_=[];this.lineStyle_=new c.default({stroke:this.strokeStyle_});this.renderedResolution_=
this.renderedExtent_=this.loadedExtent_=null;this.setRenderOrder(null)}strategyFunction(z,G){z=z.slice();this.projection_&&this.getSource().getWrapX()&&(0,n.wrapX)(z,this.projection_);this.loadedExtent_&&((0,n.approximatelyEquals)(this.loadedExtent_,z,G)?z=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[z]}loaderFunction(z,G,T){this.loadedExtent_=z;var R=this.getSource(),ca=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];z=(0,n.getIntersection)(ca,
z);if(!this.renderedExtent_||!(0,n.equals)(this.renderedExtent_,z)||this.renderedResolution_!==G)if(this.renderedExtent_=z,this.renderedResolution_=G,!(0,n.isEmpty)(z)){ca=(0,n.getCenter)(z);var M=G*G/4;this.projection_&&(0,O.equivalent)(this.projection_,T)||this.updateProjectionInfo_(T);this.createGraticule_(z,ca,G,M);T=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(T+=this.meridians_.length);for(this.parallelsLabels_&&(T+=this.parallels_.length);T>this.featurePool_.length;)G=
new q.default,this.featurePool_.push(G);R=R.getFeaturesCollection();R.clear();z=T=0;for(ca=this.meridians_.length;z<ca;++z)G=this.featurePool_[T++],G.setGeometry(this.meridians_[z]),G.setStyle(this.lineStyle_),R.push(G);z=0;for(ca=this.parallels_.length;z<ca;++z)G=this.featurePool_[T++],G.setGeometry(this.parallels_[z]),G.setStyle(this.lineStyle_),R.push(G)}}addMeridian_(z,G,T,R,ca,M){G=this.getMeridian_(z,G,T,R,M);(0,n.intersects)(G.getExtent(),ca)&&(this.meridiansLabels_&&(z=this.lonLabelFormatter_(z),
M in this.meridiansLabels_?this.meridiansLabels_[M].text=z:this.meridiansLabels_[M]={geom:new f.default([]),text:z}),this.meridians_[M++]=G);return M}addParallel_(z,G,T,R,ca,M){G=this.getParallel_(z,G,T,R,M);(0,n.intersects)(G.getExtent(),ca)&&(this.parallelsLabels_&&(z=this.latLabelFormatter_(z),M in this.parallelsLabels_?this.parallelsLabels_[M].text=z:this.parallelsLabels_[M]={geom:new f.default([]),text:z}),this.parallels_[M++]=G);return M}drawLabels_(z){const G=z.frameState.viewState.rotation;
var T=z.frameState.viewState.resolution,R=z.frameState.size;const ca=z.frameState.extent,M=(0,n.getCenter)(ca);var ba=ca;G&&(ba=R[0]*T,T*=R[1],ba=[M[0]-ba/2,M[1]-T/2,M[0]+ba/2,M[1]+T/2]);R=T=0;let W=.5>this.latLabelPosition_;var ea=this.projection_.getExtent();const La=(0,n.getWidth)(ea);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,n.containsExtent)(ea,ca)&&(T=Math.floor((ca[0]-ea[0])/La),R=Math.ceil((ca[2]-ea[2])/La),W=W!==Math.abs(G)>Math.PI/2);z=(0,H.getVectorContext)(z);for(ea=
T;ea<=R;++ea){let C=this.meridians_.length+this.parallels_.length;var aa=void 0;let B,N,Y;if(this.meridiansLabels_)for(B=0,N=this.meridiansLabels_.length;B<N;++B)aa=this.meridians_[B],G||0!==ea?(aa=aa.clone(),aa.translate(ea*La,0),aa.rotate(-G,M),Y=this.getMeridianPoint_(aa,ba,B),Y.rotate(G,M)):Y=this.getMeridianPoint_(aa,ca,B),aa=this.featurePool_[C++],aa.setGeometry(Y),aa.set("graticule_label",this.meridiansLabels_[B].text),z.drawFeature(aa,this.lonLabelStyle_(aa));if(this.parallelsLabels_&&(ea===
T&&W||ea===R&&!W))for(B=0,N=this.parallels_.length;B<N;++B)aa=this.parallels_[B],G||0!==ea?(aa=aa.clone(),aa.translate(ea*La,0),aa.rotate(-G,M),Y=this.getParallelPoint_(aa,ba,B),Y.rotate(G,M)):Y=this.getParallelPoint_(aa,ca,B),aa=this.featurePool_[C++],aa.setGeometry(Y),aa.set("graticule_label",this.parallelsLabels_[B].text),z.drawFeature(aa,this.latLabelStyle_(aa))}}createGraticule_(z,G,T,R){T=this.getInterval_(T);if(-1==T)this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&
(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var ca=!1,M=this.projection_.getExtent(),ba=(0,n.getWidth)(M);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,n.containsExtent)(M,z)&&((0,n.getWidth)(z)>=ba?(z[0]=M[0],z[2]=M[2]):ca=!0);G=[(0,h.clamp)(G[0],this.minX_,this.maxX_),(0,h.clamp)(G[1],this.minY_,this.maxY_)];M=this.toLonLatTransform_(G);isNaN(M[1])&&(M[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);G=
(0,h.clamp)(M[0],this.minLon_,this.maxLon_);M=(0,h.clamp)(M[1],this.minLat_,this.maxLat_);ba=this.maxLines_;var W=z;ca||(W=[(0,h.clamp)(z[0],this.minX_,this.maxX_),(0,h.clamp)(z[1],this.minY_,this.maxY_),(0,h.clamp)(z[2],this.minX_,this.maxX_),(0,h.clamp)(z[3],this.minY_,this.maxY_)]);var ea=(0,n.applyTransform)(W,this.toLonLatTransform_,void 0,8),La=ea[3],aa=ea[2],C=ea[1];ea=ea[0];ca||((0,n.containsCoordinate)(W,this.bottomLeft_)&&(ea=this.minLon_,C=this.minLat_),(0,n.containsCoordinate)(W,this.bottomRight_)&&
(aa=this.maxLon_,C=this.minLat_),(0,n.containsCoordinate)(W,this.topLeft_)&&(ea=this.minLon_,La=this.maxLat_),(0,n.containsCoordinate)(W,this.topRight_)&&(aa=this.maxLon_,La=this.maxLat_),La=(0,h.clamp)(La,M,this.maxLat_),aa=(0,h.clamp)(aa,G,this.maxLon_),C=(0,h.clamp)(C,this.minLat_,M),ea=(0,h.clamp)(ea,this.minLon_,G));G=Math.floor(G/T)*T;var B=(0,h.clamp)(G,this.minLon_,this.maxLon_);var N=this.addMeridian_(B,C,La,R,z,0);W=0;if(ca)for(;(B-=T)>=ea&&W++<ba;)N=this.addMeridian_(B,C,La,R,z,N);else for(;B!=
this.minLon_&&W++<ba;)B=Math.max(B-T,this.minLon_),N=this.addMeridian_(B,C,La,R,z,N);B=(0,h.clamp)(G,this.minLon_,this.maxLon_);W=0;if(ca)for(;(B+=T)<=aa&&W++<ba;)N=this.addMeridian_(B,C,La,R,z,N);else for(;B!=this.maxLon_&&W++<ba;)B=Math.min(B+T,this.maxLon_),N=this.addMeridian_(B,C,La,R,z,N);this.meridians_.length=N;this.meridiansLabels_&&(this.meridiansLabels_.length=N);M=Math.floor(M/T)*T;ca=(0,h.clamp)(M,this.minLat_,this.maxLat_);N=this.addParallel_(ca,ea,aa,R,z,0);for(W=0;ca!=this.minLat_&&
W++<ba;)ca=Math.max(ca-T,this.minLat_),N=this.addParallel_(ca,ea,aa,R,z,N);ca=(0,h.clamp)(M,this.minLat_,this.maxLat_);for(W=0;ca!=this.maxLat_&&W++<ba;)ca=Math.min(ca+T,this.maxLat_),N=this.addParallel_(ca,ea,aa,R,z,N);this.parallels_.length=N;this.parallelsLabels_&&(this.parallelsLabels_.length=N)}}getInterval_(z){const G=this.projectionCenterLonLat_[0],T=this.projectionCenterLonLat_[1];let R=-1;z=Math.pow(this.targetSize_*z,2);const ca=[],M=[];for(let ba=0,W=this.intervals_.length;ba<W;++ba){const ea=
(0,h.clamp)(this.intervals_[ba]/2,0,90),La=(0,h.clamp)(T,-90+ea,90-ea);ca[0]=G-ea;ca[1]=La-ea;M[0]=G+ea;M[1]=La+ea;this.fromLonLatTransform_(ca,ca);this.fromLonLatTransform_(M,M);if(Math.pow(M[0]-ca[0],2)+Math.pow(M[1]-ca[1],2)<=z)break;R=this.intervals_[ba]}return R}getMeridian_(z,G,T,R,ca){z=(0,F.meridian)(z,G,T,this.projection_,R);(G=this.meridians_[ca])?(G.setFlatCoordinates("XY",z),G.changed()):(G=new m.default(z,"XY"),this.meridians_[ca]=G);return G}getMeridianPoint_(z,G,T){z=z.getFlatCoordinates();
let R=1,ca=z.length-1;z[R]>z[ca]&&(R=ca,ca=1);G=(0,h.clamp)(G[1]+Math.abs(G[1]-G[3])*this.lonLabelPosition_,Math.max(G[1],z[R]),Math.min(G[3],z[ca]));T=this.meridiansLabels_[T].geom;T.setCoordinates([z[R-1]+(z[ca-1]-z[R-1])*(G-z[R])/(z[ca]-z[R]),G]);return T}getMeridians(){return this.meridians_}getParallel_(z,G,T,R,ca){z=(0,F.parallel)(z,G,T,this.projection_,R);(ca=this.parallels_[ca])?(ca.setFlatCoordinates("XY",z),ca.changed()):ca=new m.default(z,"XY");return ca}getParallelPoint_(z,G,T){z=z.getFlatCoordinates();
let R=0,ca=z.length-2;z[R]>z[ca]&&(R=ca,ca=0);G=(0,h.clamp)(G[0]+Math.abs(G[0]-G[2])*this.latLabelPosition_,Math.max(G[0],z[R]),Math.min(G[2],z[ca]));T=this.parallelsLabels_[T].geom;T.setCoordinates([G,z[R+1]+(z[ca+1]-z[R+1])*(G-z[R])/(z[ca]-z[R])]);return T}getParallels(){return this.parallels_}updateProjectionInfo_(z){var G=(0,O.get)("EPSG:4326");const T=z.getWorldExtent();this.maxLat_=T[3];this.maxLon_=T[2];this.minLat_=T[1];this.minLon_=T[0];const R=(0,O.getTransform)(z,G);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=
R;else{const ca=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(M,ba,W){W=W||2;M=R(M,ba,W);for(let ea=0,La=M.length;ea<La;ea+=W)M[ea]<ca&&(M[ea]+=360);return M}}this.fromLonLatTransform_=(0,O.getTransform)(G,z);G=(0,n.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=G[0];this.maxX_=G[2];this.minY_=G[1];this.maxY_=G[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=
this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,n.getCenter)(z.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=z}}A.default=r};
shadow$provide[331]=function(Ka,L,sb,A){function w(t,m){m=Object.assign({preserveDrawingBuffer:!0,antialias:k.SAFARI_BUG_237906?!1:!0},m);const f=p.length;for(let b=0;b<f;++b)try{const c=t.getContext(p[b],m);if(c)return c}catch(c){}return null}Object.defineProperty(A,"__esModule",{value:!0});A.getContext=w;A.getSupportedExtensions=function(){if(!q){var t=document.createElement("canvas");(t=w(t))&&(q=t.getSupportedExtensions())}return q};A.FLOAT=A.UNSIGNED_INT=A.UNSIGNED_SHORT=A.UNSIGNED_BYTE=A.DYNAMIC_DRAW=
A.STATIC_DRAW=A.STREAM_DRAW=A.ELEMENT_ARRAY_BUFFER=A.ARRAY_BUFFER=void 0;var k=L(80);A.ARRAY_BUFFER=34962;A.ELEMENT_ARRAY_BUFFER=34963;A.STREAM_DRAW=35040;A.STATIC_DRAW=35044;A.DYNAMIC_DRAW=35048;A.UNSIGNED_BYTE=5121;A.UNSIGNED_SHORT=5123;A.UNSIGNED_INT=5125;A.FLOAT=5126;const p=["experimental-webgl","webgl","webkit-3d","moz-webgl"];let q};
shadow$provide[332]=function(Ka,L,sb,A){function w(m){switch(m){case k.ARRAY_BUFFER:return Float32Array;case k.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(A,"__esModule",{value:!0});A.getArrayClassForType=w;A.default=A.BufferUsage=void 0;var k=L(331),p=L(81);const q={STATIC_DRAW:k.STATIC_DRAW,STREAM_DRAW:k.STREAM_DRAW,DYNAMIC_DRAW:k.DYNAMIC_DRAW};A.BufferUsage=q;class t{constructor(m,f){this.array=null;this.type=m;(0,p.assert)(m===k.ARRAY_BUFFER||m===
k.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==f?f:q.STATIC_DRAW}ofSize(m){this.array=new (w(this.type))(m)}fromArray(m){this.array=w(this.type).from(m)}fromArrayBuffer(m){this.array=new (w(this.type))(m)}getType(){return this.type}getArray(){return this.array}getUsage(){return this.usage}getSize(){return this.array?this.array.length:0}}A.default=t};
shadow$provide[333]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[334]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(75);class k{constructor(p){const q=this.gl_=p.webGlContext;this.scaleRatio_=p.scaleRatio||1;this.renderTargetTexture_=q.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=q.createFramebuffer();const t=q.createShader(q.VERTEX_SHADER);q.shaderSource(t,p.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
q.compileShader(t);const m=q.createShader(q.FRAGMENT_SHADER);q.shaderSource(m,p.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord) * u_opacity;\n  }\n");q.compileShader(m);this.renderTargetProgram_=q.createProgram();q.attachShader(this.renderTargetProgram_,t);q.attachShader(this.renderTargetProgram_,m);q.linkProgram(this.renderTargetProgram_);
this.renderTargetVerticesBuffer_=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);q.bufferData(q.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),q.STATIC_DRAW);this.renderTargetAttribLocation_=q.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=q.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetOpacityLocation_=q.getUniformLocation(this.renderTargetProgram_,"u_opacity");this.renderTargetTextureLocation_=
q.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];p.uniforms&&Object.keys(p.uniforms).forEach(function(f){this.uniforms_.push({value:p.uniforms[f],location:q.getUniformLocation(this.renderTargetProgram_,f)})}.bind(this))}getGL(){return this.gl_}init(p){p=this.getGL();const q=[p.drawingBufferWidth*this.scaleRatio_,p.drawingBufferHeight*this.scaleRatio_];p.bindFramebuffer(p.FRAMEBUFFER,this.getFrameBuffer());p.viewport(0,0,q[0],q[1]);if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==
q[0]||this.renderTargetTextureSize_[1]!==q[1]){this.renderTargetTextureSize_=q;const t=p.RGBA,m=p.RGBA,f=p.UNSIGNED_BYTE;p.bindTexture(p.TEXTURE_2D,this.renderTargetTexture_);p.texImage2D(p.TEXTURE_2D,0,t,q[0],q[1],0,m,f,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,this.renderTargetTexture_,
0)}}apply(p,q,t,m){const f=this.getGL(),b=p.size;f.bindFramebuffer(f.FRAMEBUFFER,q?q.getFrameBuffer():null);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,this.renderTargetTexture_);if(!q&&(q=(0,w.getUid)(f.canvas),!p.renderTargets[q])){const c=f.getContextAttributes();c&&c.preserveDrawingBuffer&&(f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT));p.renderTargets[q]=!0}f.enable(f.BLEND);f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight);f.bindBuffer(f.ARRAY_BUFFER,
this.renderTargetVerticesBuffer_);f.useProgram(this.renderTargetProgram_);f.enableVertexAttribArray(this.renderTargetAttribLocation_);f.vertexAttribPointer(this.renderTargetAttribLocation_,2,f.FLOAT,!1,0,0);f.uniform2f(this.renderTargetUniformLocation_,b[0],b[1]);f.uniform1i(this.renderTargetTextureLocation_,0);f.uniform1f(this.renderTargetOpacityLocation_,p.layerStatesArray[p.layerIndex].opacity);this.applyUniforms(p);t&&t(f,p);f.drawArrays(f.TRIANGLES,0,6);m&&m(f,p)}getFrameBuffer(){return this.frameBuffer_}applyUniforms(p){const q=
this.getGL();let t,m=1;this.uniforms_.forEach(function(f){t="function"===typeof f.value?f.value(p):f.value;if(t instanceof HTMLCanvasElement||t instanceof ImageData)f.texture||(f.texture=q.createTexture()),q.activeTexture(q[`TEXTURE${m}`]),q.bindTexture(q.TEXTURE_2D,f.texture),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE),t instanceof ImageData?q.texImage2D(q.TEXTURE_2D,
0,q.RGBA,q.RGBA,t.width,t.height,0,q.UNSIGNED_BYTE,new Uint8Array(t.data)):q.texImage2D(q.TEXTURE_2D,0,q.RGBA,q.RGBA,q.UNSIGNED_BYTE,t),q.uniform1i(f.location,m++);else if(Array.isArray(t))switch(t.length){case 2:q.uniform2f(f.location,t[0],t[1]);break;case 3:q.uniform3f(f.location,t[0],t[1],t[2]);break;case 4:q.uniform4f(f.location,t[0],t[1],t[2],t[3])}else"number"===typeof t&&q.uniform1f(f.location,t)})}}A.default=k};
shadow$provide[335]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};A.fromTransform=function(w,k){w[0]=k[0];w[1]=k[1];w[4]=k[2];w[5]=k[3];w[12]=k[4];w[13]=k[5];return w}};
shadow$provide[336]=function(Ka,L,sb,A){function w(J){return J&&J.__esModule?J:{default:J}}function k(){const J="unique/"+H;H+=1;return J}function p(J){var D=O[J];D||(D=document.createElement("canvas"),D.style.position="absolute",D.style.left="0",D={users:0,canvas:D},O[J]=D);D.users+=1;return D.canvas}function q(J){let D=0;for(let r=0;r<J.length;r++){const z=J[r];D+=z.size*t(z.type)}return D}function t(J){switch(J){case x.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case x.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;
case x.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(A,"__esModule",{value:!0});A.computeAttributesStride=q;A.default=A.AttributeType=A.DefaultUniform=A.ShaderType=void 0;var m=w(L(333));Ka=w(L(67));var f=w(L(334)),b=L(331),c=L(70),e=L(82),g=L(335),n=L(75);A.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};const h={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",
TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",SIZE_PX:"u_sizePx",PIXEL_RATIO:"u_pixelRatio"};A.DefaultUniform=h;const x={UNSIGNED_BYTE:b.UNSIGNED_BYTE,UNSIGNED_SHORT:b.UNSIGNED_SHORT,UNSIGNED_INT:b.UNSIGNED_INT,FLOAT:b.FLOAT};A.AttributeType=x;const O={};let H=0;class F extends Ka.default{constructor(J){super();J=J||{};this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this);this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this);this.canvasCacheKey_=
J.canvasCacheKey?"shared/"+J.canvasCacheKey:k();this.canvas_=p(this.canvasCacheKey_);this.gl_=(0,b.getContext)(this.canvas_);this.bufferCache_={};this.extensionCache_={};this.currentProgram_=null;this.canvas_.addEventListener(m.default.LOST,this.boundHandleWebGLContextLost_);this.canvas_.addEventListener(m.default.RESTORED,this.boundHandleWebGLContextRestored_);this.offsetRotateMatrix_=(0,e.create)();this.offsetScaleMatrix_=(0,e.create)();this.tmpMat4_=(0,g.create)();this.uniformLocations_={};this.attribLocations_=
{};this.uniforms_=[];J.uniforms&&this.setUniforms(J.uniforms);const D=this.getGL();this.postProcessPasses_=J.postProcesses?J.postProcesses.map(function(r){return new f.default({webGlContext:D,scaleRatio:r.scaleRatio,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,uniforms:r.uniforms})}):[new f.default({webGlContext:D})];this.shaderCompileErrors_=null;this.startTime_=Date.now()}setUniforms(J){this.uniforms_=[];for(const D in J)this.uniforms_.push({name:D,value:J[D]});this.uniformLocations_=
{}}canvasCacheKeyMatches(J){return this.canvasCacheKey_==="shared/"+J}getExtension(J){if(J in this.extensionCache_)return this.extensionCache_[J];const D=this.gl_.getExtension(J);return this.extensionCache_[J]=D}bindBuffer(J){const D=this.getGL(),r=(0,n.getUid)(J);var z=this.bufferCache_[r];z||(z=D.createBuffer(),z={buffer:J,webGlBuffer:z},this.bufferCache_[r]=z);D.bindBuffer(J.getType(),z.webGlBuffer)}flushBufferData(J){const D=this.getGL();this.bindBuffer(J);D.bufferData(J.getType(),J.getArray(),
J.getUsage())}deleteBuffer(J){const D=this.getGL();J=(0,n.getUid)(J);const r=this.bufferCache_[J];r&&!D.isContextLost()&&D.deleteBuffer(r.webGlBuffer);delete this.bufferCache_[J]}disposeInternal(){this.canvas_.removeEventListener(m.default.LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(m.default.RESTORED,this.boundHandleWebGLContextRestored_);var J=this.canvasCacheKey_,D=O[J];D&&(--D.users,0<D.users||((D=(0,b.getContext)(D.canvas).getExtension("WEBGL_lose_context"))&&D.loseContext(),
delete O[J]));delete this.gl_;delete this.canvas_}prepareDraw(J,D){const r=this.getGL();var z=this.getCanvas();const G=J.size,T=J.pixelRatio;z.width=G[0]*T;z.height=G[1]*T;z.style.width=G[0]+"px";z.style.height=G[1]+"px";for(z=this.postProcessPasses_.length-1;0<=z;z--)this.postProcessPasses_[z].init(J);r.bindTexture(r.TEXTURE_2D,null);r.clearColor(0,0,0,0);r.clear(r.COLOR_BUFFER_BIT);r.enable(r.BLEND);r.blendFunc(r.ONE,D?r.ZERO:r.ONE_MINUS_SRC_ALPHA)}prepareDrawToRenderTarget(J,D,r){J=this.getGL();
const z=D.getSize();J.bindFramebuffer(J.FRAMEBUFFER,D.getFramebuffer());J.viewport(0,0,z[0],z[1]);J.bindTexture(J.TEXTURE_2D,D.getTexture());J.clearColor(0,0,0,0);J.clear(J.COLOR_BUFFER_BIT);J.enable(J.BLEND);J.blendFunc(J.ONE,r?J.ZERO:J.ONE_MINUS_SRC_ALPHA)}drawElements(J,D){const r=this.getGL();this.getExtension("OES_element_index_uint");r.drawElements(r.TRIANGLES,D-J,r.UNSIGNED_INT,4*J)}finalizeDraw(J,D,r){for(let z=0,G=this.postProcessPasses_.length;z<G;z++)z===G-1?this.postProcessPasses_[z].apply(J,
null,D,r):this.postProcessPasses_[z].apply(J,this.postProcessPasses_[z+1])}getCanvas(){return this.canvas_}getGL(){return this.gl_}applyFrameState(J){const D=J.size,r=J.viewState.rotation,z=J.pixelRatio,G=(0,e.reset)(this.offsetScaleMatrix_);(0,e.scale)(G,2/D[0],2/D[1]);const T=(0,e.reset)(this.offsetRotateMatrix_);0!==r&&(0,e.rotate)(T,-r);this.setUniformMatrixValue(h.OFFSET_SCALE_MATRIX,(0,g.fromTransform)(this.tmpMat4_,G));this.setUniformMatrixValue(h.OFFSET_ROTATION_MATRIX,(0,g.fromTransform)(this.tmpMat4_,
T));this.setUniformFloatValue(h.TIME,.001*(Date.now()-this.startTime_));this.setUniformFloatValue(h.ZOOM,J.viewState.zoom);this.setUniformFloatValue(h.RESOLUTION,J.viewState.resolution);this.setUniformFloatValue(h.PIXEL_RATIO,z);this.setUniformFloatVec2(h.SIZE_PX,[D[0],D[1]])}applyUniforms(J){const D=this.getGL();let r,z=0;this.uniforms_.forEach(function(G){r="function"===typeof G.value?G.value(J):G.value;if(r instanceof HTMLCanvasElement||r instanceof HTMLImageElement||r instanceof ImageData)G.texture||
(G.prevValue=void 0,G.texture=D.createTexture()),D.activeTexture(D[`TEXTURE${z}`]),D.bindTexture(D.TEXTURE_2D,G.texture),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.LINEAR),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,D.CLAMP_TO_EDGE),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE),r instanceof HTMLImageElement&&!r.complete||G.prevValue===r||(G.prevValue=r,D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,r)),D.uniform1i(this.getUniformLocation(G.name),z++);else if(Array.isArray(r)&&
6===r.length)this.setUniformMatrixValue(G.name,(0,g.fromTransform)(this.tmpMat4_,r));else if(Array.isArray(r)&&4>=r.length)switch(r.length){case 2:D.uniform2f(this.getUniformLocation(G.name),r[0],r[1]);break;case 3:D.uniform3f(this.getUniformLocation(G.name),r[0],r[1],r[2]);break;case 4:D.uniform4f(this.getUniformLocation(G.name),r[0],r[1],r[2],r[3])}else"number"===typeof r&&D.uniform1f(this.getUniformLocation(G.name),r)}.bind(this))}useProgram(J,D){this.getGL().useProgram(J);this.currentProgram_=
J;this.uniformLocations_={};this.attribLocations_={};this.applyFrameState(D);this.applyUniforms(D)}compileShader(J,D){const r=this.getGL();D=r.createShader(D);r.shaderSource(D,J);r.compileShader(D);return D}getProgram(J,D){var r=this.getGL();J=this.compileShader(J,r.FRAGMENT_SHADER);D=this.compileShader(D,r.VERTEX_SHADER);const z=r.createProgram();r.attachShader(z,J);r.attachShader(z,D);r.linkProgram(z);if(!r.getShaderParameter(J,r.COMPILE_STATUS))throw r=`Fragment shader compliation failed: ${r.getShaderInfoLog(J)}`,
Error(r);r.deleteShader(J);if(!r.getShaderParameter(D,r.COMPILE_STATUS))throw r=`Vertex shader compilation failed: ${r.getShaderInfoLog(D)}`,Error(r);r.deleteShader(D);if(!r.getProgramParameter(z,r.LINK_STATUS))throw r=`GL program linking failed: ${r.getShaderInfoLog(D)}`,Error(r);return z}getUniformLocation(J){void 0===this.uniformLocations_[J]&&(this.uniformLocations_[J]=this.getGL().getUniformLocation(this.currentProgram_,J));return this.uniformLocations_[J]}getAttributeLocation(J){void 0===this.attribLocations_[J]&&
(this.attribLocations_[J]=this.getGL().getAttribLocation(this.currentProgram_,J));return this.attribLocations_[J]}makeProjectionTransform(J,D){const r=J.size,z=J.viewState.rotation,G=J.viewState.resolution;J=J.viewState.center;(0,e.reset)(D);(0,e.compose)(D,0,0,2/(G*r[0]),2/(G*r[1]),-z,-J[0],-J[1]);return D}setUniformFloatValue(J,D){this.getGL().uniform1f(this.getUniformLocation(J),D)}setUniformFloatVec2(J,D){this.getGL().uniform2fv(this.getUniformLocation(J),D)}setUniformFloatVec4(J,D){this.getGL().uniform4fv(this.getUniformLocation(J),
D)}setUniformMatrixValue(J,D){this.getGL().uniformMatrix4fv(this.getUniformLocation(J),!1,D)}enableAttributeArray_(J,D,r,z,G){J=this.getAttributeLocation(J);0>J||(this.getGL().enableVertexAttribArray(J),this.getGL().vertexAttribPointer(J,D,r,!1,z,G))}enableAttributes(J){const D=q(J);let r=0;for(let z=0;z<J.length;z++){const G=J[z];this.enableAttributeArray_(G.name,G.size,G.type||b.FLOAT,D,r);r+=G.size*t(G.type)}}handleWebGLContextLost(){(0,c.clear)(this.bufferCache_);this.currentProgram_=null}handleWebGLContextRestored(){}createTexture(J,
D,r){const z=this.getGL();r=r||z.createTexture();const G=z.RGBA,T=z.RGBA,R=z.UNSIGNED_BYTE;z.bindTexture(z.TEXTURE_2D,r);D?z.texImage2D(z.TEXTURE_2D,0,G,T,R,D):z.texImage2D(z.TEXTURE_2D,0,G,J[0],J[1],0,T,R,null);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,z.LINEAR);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,z.CLAMP_TO_EDGE);z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,z.CLAMP_TO_EDGE);return r}}A.default=F};
shadow$provide[337]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(88));Ka=w(L(277));var p=w(L(95)),q=w(L(90)),t=w(L(336)),m=L(82);class f extends Ka.default{constructor(b,c){super(b);c=c||{};this.inversePixelTransform_=(0,m.create)();this.pixelContext_=null;this.postProcesses_=c.postProcesses;this.uniforms_=c.uniforms;b.addChangeListener(k.default.MAP,this.removeHelper.bind(this));this.dispatchPreComposeEvent=
this.dispatchPreComposeEvent.bind(this);this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(b,c){const e=this.getLayer();e.hasListener(q.default.PRECOMPOSE)&&(b=new p.default(q.default.PRECOMPOSE,void 0,c,b),e.dispatchEvent(b))}dispatchPostComposeEvent(b,c){const e=this.getLayer();e.hasListener(q.default.POSTCOMPOSE)&&(b=new p.default(q.default.POSTCOMPOSE,void 0,c,b),e.dispatchEvent(b))}reset(b){this.uniforms_=b.uniforms;this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&
(this.helper.dispose(),delete this.helper)}prepareFrame(b){if(this.getLayer().getRenderSource()){var c=!0;let g=-1,n;for(let h=0,x=b.layerStatesArray.length;h<x;h++){var e=b.layerStatesArray[h].layer;const O=e.getRenderer();if(O instanceof f){e=e.getClassName();if(c||e!==n)g+=1,c=!1;n=e;if(O===this)break}else c=!0}c="map/"+b.mapId+"/group/"+g;this.helper&&this.helper.canvasCacheKeyMatches(c)||(this.removeHelper(),this.helper=new t.default({postProcesses:this.postProcesses_,uniforms:this.uniforms_,
canvasCacheKey:c}),n&&(this.helper.getCanvas().className=n),this.afterHelperCreated())}return this.prepareFrameInternal(b)}afterHelperCreated(){}prepareFrameInternal(b){return!0}disposeInternal(){this.removeHelper();super.disposeInternal()}dispatchRenderEvent_(b,c,e){const g=this.getLayer();g.hasListener(b)&&((0,m.compose)(this.inversePixelTransform_,0,0,e.pixelRatio,-e.pixelRatio,0,0,-e.size[1]),b=new p.default(b,this.inversePixelTransform_,e,c),g.dispatchEvent(b))}preRender(b,c){this.dispatchRenderEvent_(q.default.PRERENDER,
b,c)}postRender(b,c){this.dispatchRenderEvent_(q.default.POSTRENDER,b,c)}}A.default=f};
shadow$provide[338]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(68);const k=new Uint8Array(4);class p{constructor(q,t){this.helper_=q;q=q.getGL();this.texture_=q.createTexture();this.framebuffer_=q.createFramebuffer();this.size_=t||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}setSize(q){(0,w.equals)(q,this.size_)||(this.size_[0]=q[0],this.size_[1]=q[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=
!0}readAll(){if(this.dataCacheDirty_){const q=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_);t.readPixels(0,0,q[0],q[1],t.RGBA,t.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_}readPixel(q,t){if(0>q||0>t||q>this.size_[0]||t>=this.size_[1])return k[0]=0,k[1]=0,k[2]=0,k[3]=0,k;this.readAll();q=Math.floor(q)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];k[0]=this.data_[4*q];k[1]=this.data_[4*q+1];k[2]=this.data_[4*q+2];k[3]=this.data_[4*q+3];
return k}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}updateSize_(){const q=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(q,null,this.texture_);t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_);t.viewport(0,0,q[0],q[1]);t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0);this.data_=new Uint8Array(q[0]*q[1]*4)}}A.default=p};
shadow$provide[339]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.WebGLWorkerMessageType={GENERATE_POLYGON_BUFFERS:"GENERATE_POLYGON_BUFFERS",GENERATE_POINT_BUFFERS:"GENERATE_POINT_BUFFERS",GENERATE_LINE_STRING_BUFFERS:"GENERATE_LINE_STRING_BUFFERS"}};
shadow$provide[340]=function(Ka,L,sb,A){function w(r,z,G){G=G||2;var T=z&&z.length,R=T?z[0]*G:r.length,ca=k(r,0,R,G,!0),M=[];if(!ca||ca.next===ca.prev)return M;var ba;if(T){var W=ca;var ea=G;ca=[];var La;T=0;for(La=z.length;T<La;T++){var aa=z[T]*ea;var C=T<La-1?z[T+1]*ea:r.length;aa=k(r,aa,C,ea,!1);aa===aa.next&&(aa.steiner=!0);C=ca;var B=C.push,N=aa,Y=aa;do{if(N.x<Y.x||N.x===Y.x&&N.y<Y.y)Y=N;N=N.next}while(N!==aa);B.call(C,Y)}ca.sort(m);for(T=0;T<ca.length;T++){ea=void 0;z=ca[T];b:{La=W;aa=z.x;C=
z.y;B=-Infinity;do{if(C<=La.y&&C>=La.next.y&&La.next.y!==La.y&&(N=La.x+(C-La.y)*(La.next.x-La.x)/(La.next.y-La.y),N<=aa&&N>B&&(B=N,ea=La.x<La.next.x?La:La.next,N===aa)))break b;La=La.next}while(La!==W);if(ea){Y=ea;var Aa=ea.x,sa=ea.y,la=Infinity;La=ea;do{if(aa>=La.x&&La.x>=Aa&&aa!==La.x&&b(C<sa?aa:B,C,Aa,sa,C<sa?B:aa,C,La.x,La.y)){N=Math.abs(C-La.y)/(aa-La.x);var Ia;if((Ia=x(La,z))&&!(Ia=N<la)&&(Ia=N===la)&&!(Ia=La.x>ea.x)&&(Ia=La.x===ea.x)){Ia=ea;var bb=La;Ia=0>c(Ia.prev,Ia,bb.prev)&&0>c(bb.next,
Ia,Ia.next)}Ia&&(ea=La,la=N)}La=La.next}while(La!==Y)}else ea=null}ea&&(z=O(ea,z),p(z,z.next),W=p(ea,ea.next))}ca=W}if(r.length>80*G){var ib=ba=r[0];var Ja=T=r[1];for(W=G;W<R;W+=G)z=r[W],ea=r[W+1],z<ib&&(ib=z),ea<Ja&&(Ja=ea),z>ba&&(ba=z),ea>T&&(T=ea);ba=Math.max(ba-ib,T-Ja);ba=0!==ba?32767/ba:0}q(ca,M,G,ib,Ja,ba,0);return M}function k(r,z,G,T,R){if(R===0<D(r,z,G,T))for(R=z;R<G;R+=T)var ca=H(R,r[R],r[R+1],ca);else for(R=G-T;R>=z;R-=T)ca=H(R,r[R],r[R+1],ca);ca&&e(ca,ca.next)&&(F(ca),ca=ca.next);return ca}
function p(r,z){if(!r)return r;z||(z=r);do{var G=!1;if(r.steiner||!e(r,r.next)&&0!==c(r.prev,r,r.next))r=r.next;else{F(r);r=z=r.prev;if(r===r.next)break;G=!0}}while(G||r!==z);return z}function q(r,z,G,T,R,ca,M){if(r){if(!M&&ca){var ba=r,W=ba;do 0===W.z&&(W.z=f(W.x,W.y,T,R,ca)),W.prevZ=W.prev,W=W.nextZ=W.next;while(W!==ba);W.prevZ.nextZ=null;W.prevZ=null;ba=W;var ea,La,aa,C,B=1;do{W=ba;var N=ba=null;for(La=0;W;){La++;var Y=W;for(ea=aa=0;ea<B&&(aa++,Y=Y.nextZ,Y);ea++);for(C=B;0<aa||0<C&&Y;)0!==aa&&
(0===C||!Y||W.z<=Y.z)?(ea=W,W=W.nextZ,aa--):(ea=Y,Y=Y.nextZ,C--),N?N.nextZ=ea:ba=ea,ea.prevZ=N,N=ea;W=Y}N.nextZ=null;B*=2}while(1<La)}for(ba=r;r.prev!==r.next;){W=r.prev;Y=r.next;if(ca)N=t(r,T,R,ca);else a:{N=r.prev;var Aa=r;C=r.next;if(0<=c(N,Aa,C))N=!1;else{La=N.x;aa=Aa.x;B=C.x;ea=N.y;Aa=Aa.y;var sa=C.y,la=La<aa?La<B?La:B:aa<B?aa:B,Ia=ea<Aa?ea<sa?ea:sa:Aa<sa?Aa:sa,bb=La>aa?La>B?La:B:aa>B?aa:B,ib=ea>Aa?ea>sa?ea:sa:Aa>sa?Aa:sa;for(C=C.next;C!==N;){if(C.x>=la&&C.x<=bb&&C.y>=Ia&&C.y<=ib&&b(La,ea,aa,
Aa,B,sa,C.x,C.y)&&0<=c(C.prev,C,C.next)){N=!1;break a}C=C.next}N=!0}}if(N)z.push(W.i/G|0),z.push(r.i/G|0),z.push(Y.i/G|0),F(r),ba=r=Y.next;else if(r=Y,r===ba){if(!M)q(p(r),z,G,T,R,ca,1);else if(1===M){r=p(r);M=z;ba=G;W=r;do Y=W.prev,N=W.next.next,!e(Y,N)&&g(Y,W,W.next,N)&&x(Y,N)&&x(N,Y)&&(M.push(Y.i/ba|0),M.push(W.i/ba|0),M.push(N.i/ba|0),F(W),F(W.next),W=r=N),W=W.next;while(W!==r);r=p(W);q(r,z,G,T,R,ca,2)}else if(2===M)a:{M=r;do{for(ba=M.next.next;ba!==M.prev;){if(W=M.i!==ba.i){W=M;Y=ba;if(N=W.next.i!==
Y.i&&W.prev.i!==Y.i){b:{N=W;do{if(N.i!==W.i&&N.next.i!==W.i&&N.i!==Y.i&&N.next.i!==Y.i&&g(N,N.next,W,Y)){N=!0;break b}N=N.next}while(N!==W);N=!1}N=!N}if(N){if(N=x(W,Y)&&x(Y,W)){N=W;La=!1;aa=(W.x+Y.x)/2;B=(W.y+Y.y)/2;do N.y>B!==N.next.y>B&&N.next.y!==N.y&&aa<(N.next.x-N.x)*(B-N.y)/(N.next.y-N.y)+N.x&&(La=!La),N=N.next;while(N!==W);N=La}N=N&&(c(W.prev,W,Y.prev)||c(W,Y.prev,Y))||e(W,Y)&&0<c(W.prev,W,W.next)&&0<c(Y.prev,Y,Y.next)}W=N}if(W){r=O(M,ba);M=p(M,M.next);r=p(r,r.next);q(M,z,G,T,R,ca,0);q(r,z,
G,T,R,ca,0);break a}ba=ba.next}M=M.next}while(M!==r)}break}}}}function t(r,z,G,T){var R=r.prev,ca=r.next;if(0<=c(R,r,ca))return!1;var M=R.x,ba=r.x,W=ca.x,ea=R.y,La=r.y,aa=ca.y,C=M<ba?M<W?M:W:ba<W?ba:W,B=ea<La?ea<aa?ea:aa:La<aa?La:aa,N=M>ba?M>W?M:W:ba>W?ba:W,Y=ea>La?ea>aa?ea:aa:La>aa?La:aa,Aa=f(C,B,z,G,T);z=f(N,Y,z,G,T);G=r.prevZ;for(r=r.nextZ;G&&G.z>=Aa&&r&&r.z<=z;){if(G.x>=C&&G.x<=N&&G.y>=B&&G.y<=Y&&G!==R&&G!==ca&&b(M,ea,ba,La,W,aa,G.x,G.y)&&0<=c(G.prev,G,G.next))return!1;G=G.prevZ;if(r.x>=C&&r.x<=
N&&r.y>=B&&r.y<=Y&&r!==R&&r!==ca&&b(M,ea,ba,La,W,aa,r.x,r.y)&&0<=c(r.prev,r,r.next))return!1;r=r.nextZ}for(;G&&G.z>=Aa;){if(G.x>=C&&G.x<=N&&G.y>=B&&G.y<=Y&&G!==R&&G!==ca&&b(M,ea,ba,La,W,aa,G.x,G.y)&&0<=c(G.prev,G,G.next))return!1;G=G.prevZ}for(;r&&r.z<=z;){if(r.x>=C&&r.x<=N&&r.y>=B&&r.y<=Y&&r!==R&&r!==ca&&b(M,ea,ba,La,W,aa,r.x,r.y)&&0<=c(r.prev,r,r.next))return!1;r=r.nextZ}return!0}function m(r,z){return r.x-z.x}function f(r,z,G,T,R){r=(r-G)*R|0;z=(z-T)*R|0;r=(r|r<<8)&16711935;r=(r|r<<4)&252645135;
r=(r|r<<2)&858993459;z=(z|z<<8)&16711935;z=(z|z<<4)&252645135;z=(z|z<<2)&858993459;return(r|r<<1)&1431655765|((z|z<<1)&1431655765)<<1}function b(r,z,G,T,R,ca,M,ba){return(R-M)*(z-ba)>=(r-M)*(ca-ba)&&(r-M)*(T-ba)>=(G-M)*(z-ba)&&(G-M)*(ca-ba)>=(R-M)*(T-ba)}function c(r,z,G){return(z.y-r.y)*(G.x-z.x)-(z.x-r.x)*(G.y-z.y)}function e(r,z){return r.x===z.x&&r.y===z.y}function g(r,z,G,T){var R=h(c(r,z,G)),ca=h(c(r,z,T)),M=h(c(G,T,r)),ba=h(c(G,T,z));return R!==ca&&M!==ba||0===R&&n(r,G,z)||0===ca&&n(r,T,z)||
0===M&&n(G,r,T)||0===ba&&n(G,z,T)?!0:!1}function n(r,z,G){return z.x<=Math.max(r.x,G.x)&&z.x>=Math.min(r.x,G.x)&&z.y<=Math.max(r.y,G.y)&&z.y>=Math.min(r.y,G.y)}function h(r){return 0<r?1:0>r?-1:0}function x(r,z){return 0>c(r.prev,r,r.next)?0<=c(r,z,r.next)&&0<=c(r,r.prev,z):0>c(r,z,r.prev)||0>c(r,r.next,z)}function O(r,z){var G=new J(r.i,r.x,r.y),T=new J(z.i,z.x,z.y),R=r.next,ca=z.prev;r.next=z;z.prev=r;G.next=R;R.prev=G;T.next=G;G.prev=T;ca.next=T;T.prev=ca;return T}function H(r,z,G,T){r=new J(r,
z,G);T?(r.next=T.next,r.prev=T,T.next.prev=r,T.next=r):(r.prev=r,r.next=r);return r}function F(r){r.next.prev=r.prev;r.prev.next=r.next;r.prevZ&&(r.prevZ.nextZ=r.nextZ);r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function J(r,z,G){this.i=r;this.x=z;this.y=G;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=null;this.steiner=!1}function D(r,z,G,T){for(var R=0,ca=G-T;z<G;z+=T)R+=(r[ca]-r[z])*(r[z+1]+r[ca+1]),ca=z;return R}sb.exports=w;sb.exports.default=w;w.deviation=function(r,z,G,T){var R=z&&z.length,
ca=Math.abs(D(r,0,R?z[0]*G:r.length,G));if(R){R=0;for(var M=z.length;R<M;R++)ca-=Math.abs(D(r,z[R]*G,R<M-1?z[R+1]*G:r.length,G))}for(R=z=0;R<T.length;R+=3){M=T[R]*G;var ba=T[R+1]*G,W=T[R+2]*G;z+=Math.abs((r[M]-r[W])*(r[ba+1]-r[M+1])-(r[M]-r[ba])*(r[W+1]-r[M+1]))}return 0===ca&&0===z?0:Math.abs((z-ca)/ca)};w.flatten=function(r){for(var z=r[0][0].length,G={vertices:[],holes:[],dimensions:z},T=0,R=0;R<r.length;R++){for(var ca=0;ca<r[R].length;ca++)for(var M=0;M<z;M++)G.vertices.push(r[R][ca][M]);0<R&&
(T+=r[R-1].length,G.holes.push(T))}return G}};
shadow$provide[341]=function(Ka,L,sb,A){function w(f,b,c,e,g){f[b+0]=c;f[b+1]=e;f[b+2]=g}Object.defineProperty(A,"__esModule",{value:!0});A.writePointFeatureToBuffers=function(f,b,c,e,g,n){const h=3+g,x=f[b+0],O=f[b+1],H=t;H.length=g;for(g=0;g<H.length;g++)H[g]=f[b+2+g];f=n?n.vertexPosition:0;n=n?n.indexPosition:0;b=f/h;w(c,f,x,O,0);H.length&&c.set(H,f+3);f+=h;w(c,f,x,O,1);H.length&&c.set(H,f+3);f+=h;w(c,f,x,O,2);H.length&&c.set(H,f+3);f+=h;w(c,f,x,O,3);H.length&&c.set(H,f+3);e[n++]=b;e[n++]=b+1;
e[n++]=b+3;e[n++]=b+1;e[n++]=b+2;e[n++]=b+3;m.vertexPosition=f+h;m.indexPosition=n;return m};A.writeLineSegmentToBuffers=function(f,b,c,e,g,n,h,x,O,H){function F(R,ca,M){return Math.round(1500*ca)+1E4*Math.round(1500*M)+1E8*R}function J(R,ca,M){var ba=Math.sqrt((ca[0]-R[0])*(ca[0]-R[0])+(ca[1]-R[1])*(ca[1]-R[1]));const W=[(ca[0]-R[0])/ba,(ca[1]-R[1])/ba];ca=[-W[1],W[0]];const ea=Math.sqrt((M[0]-R[0])*(M[0]-R[0])+(M[1]-R[1])*(M[1]-R[1]));R=[(M[0]-R[0])/ea,(M[1]-R[1])/ea];ba=0===ba||0===ea?0:Math.acos((0,q.clamp)(R[0]*
W[0]+R[1]*W[1],-1,1));return 0<R[0]*ca[0]+R[1]*ca[1]?ba:2*Math.PI-ba}O=n.length/(5+x.length);b=[f[b+0],f[b+1]];c=[f[c],f[c+1]];const D=(0,p.apply)(H,[...b]),r=(0,p.apply)(H,[...c]),z=null!==g;let G=0,T=0;null!==e&&(e=(0,p.apply)(H,[f[e],f[e+1]]),G=J(D,r,e));z&&(f=(0,p.apply)(H,[f[g],f[g+1]]),T=J(r,D,f));n.push(b[0],b[1],c[0],c[1],F(0,G,T));n.push(...x);n.push(b[0],b[1],c[0],c[1],F(1,G,T));n.push(...x);n.push(b[0],b[1],c[0],c[1],F(2,G,T));n.push(...x);n.push(b[0],b[1],c[0],c[1],F(3,G,T));n.push(...x);
h.push(O,O+1,O+2,O+1,O+3,O+2)};A.writePolygonTrianglesToBuffers=function(f,b,c,e,g){const n=2+g,h=f.slice(b,b+g);b+=g;var x=f[b++];g=0;var O=Array(x-1);for(let H=0;H<x;H++)g+=f[b++],H<x-1&&(O[H]=g);f=f.slice(b,b+2*g);O=(0,k.default)(f,O,2);for(x=0;x<O.length;x++)e.push(O[x]+c.length/n);for(e=0;e<f.length;e+=2)c.push(f[e],f[e+1],...h);return b+2*g};A.getBlankImageData=function(){const f=document.createElement("canvas").getContext("2d").createImageData(1,1);f.data[0]=255;f.data[1]=255;f.data[2]=255;
f.data[3]=255;return f};A.colorEncodeId=function(f,b){b=b||[];b[0]=Math.floor(f/256/256/256)/255;b[1]=Math.floor(f/256/256)%256/255;b[2]=Math.floor(f/256)%256/255;b[3]=f%256/255;return b};A.colorDecodeId=function(f){let b;b=0+Math.round(4278190080*f[0]);b+=Math.round(16711680*f[1]);b+=Math.round(65280*f[2]);return b+=Math.round(255*f[3])};var k=function(f){return f&&f.__esModule?f:{default:f}}(L(340)),p=L(82),q=L(85);const t=[],m={vertexPosition:0,indexPosition:0}};
shadow$provide[342]=function(Ka,L,sb,A){var w=L(21).Buffer;"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.create=function(){return new Worker("undefined"===typeof Blob?"data:application/javascript;base64,"+w.from('const e\x3d"GENERATE_POLYGON_BUFFERS",n\x3d"GENERATE_POINT_BUFFERS",t\x3d"GENERATE_LINE_STRING_BUFFERS",r\x3d"undefined"!\x3dtypeof navigator\x26\x26void 0!\x3d\x3dnavigator.userAgent?navigator.userAgent.toLowerCase():"";r.includes("firefox");r.includes("safari")\x26\x26!r.includes("chrom")\x26\x26(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),r.includes("webkit")\x26\x26r.includes("edge"),r.includes("macintosh"),"undefined"!\x3dtypeof WorkerGlobalScope\x26\x26"undefined"!\x3dtypeof OffscreenCanvas\x26\x26(self,WorkerGlobalScope),function(){let e\x3d!1;try{const n\x3dObject.defineProperty({},"passive",{get:function(){e\x3d!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch(e){}}();class x extends Error{constructor(e){const n\x3d"Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+e+" for details.";super(n),this.code\x3de,this.name\x3d"AssertionError",this.message\x3dn}}function o(e,n){const t\x3dn[0],r\x3dn[1];return n[0]\x3de[0]*t+e[2]*r+e[4],n[1]\x3de[1]*t+e[3]*r+e[5],n}function i(e,n){const t\x3d(r\x3dn)[0]*r[3]-r[1]*r[2];var r;!function(e,n){if(!e)throw new x(n)}(0!\x3d\x3dt,32);const o\x3dn[0],i\x3dn[1],u\x3dn[2],s\x3dn[3],f\x3dn[4],a\x3dn[5];return e[0]\x3ds/t,e[1]\x3d-i/t,e[2]\x3d-u/t,e[3]\x3do/t,e[4]\x3d(u*a-s*f)/t,e[5]\x3d-(o*a-i*f)/t,e}new Array(6);var u\x3d{exports:{}};function s(e,n,t){t\x3dt||2;var r,x,o,i,u,s,c,v\x3dn\x26\x26n.length,h\x3dv?n[0]*t:e.length,y\x3df(e,0,h,t,!0),g\x3d[];if(!y||y.next\x3d\x3d\x3dy.prev)return g;if(v\x26\x26(y\x3dfunction(e,n,t,r){var x,o,i,u\x3d[];for(x\x3d0,o\x3dn.length;x\x3co;x++)(i\x3df(e,n[x]*r,x\x3co-1?n[x+1]*r:e.length,r,!1))\x3d\x3d\x3di.next\x26\x26(i.steiner\x3d!0),u.push(w(i));for(u.sort(p),x\x3d0;x\x3cu.length;x++)t\x3da(t\x3dd(u[x],t),t.next);return t}(e,n,y,t)),e.length\x3e80*t){r\x3do\x3de[0],x\x3di\x3de[1];for(var b\x3dt;b\x3ch;b+\x3dt)(u\x3de[b])\x3cr\x26\x26(r\x3du),(s\x3de[b+1])\x3cx\x26\x26(x\x3ds),u\x3eo\x26\x26(o\x3du),s\x3ei\x26\x26(i\x3ds);c\x3d0!\x3d\x3d(c\x3dMath.max(o-r,i-x))?1/c:0}return l(y,g,t,r,x,c),g}function f(e,n,t,r,x){var o,i;if(x\x3d\x3d\x3dO(e,n,t,r)\x3e0)for(o\x3dn;o\x3ct;o+\x3dr)i\x3dk(o,e[o],e[o+1],i);else for(o\x3dt-r;o\x3e\x3dn;o-\x3dr)i\x3dk(o,e[o],e[o+1],i);return i\x26\x26M(i,i.next)\x26\x26(z(i),i\x3di.next),i}function a(e,n){if(!e)return e;n||(n\x3de);var t,r\x3de;do{if(t\x3d!1,r.steiner||!M(r,r.next)\x26\x260!\x3d\x3dA(r.prev,r,r.next))r\x3dr.next;else{if(z(r),(r\x3dn\x3dr.prev)\x3d\x3d\x3dr.next)break;t\x3d!0}}while(t||r!\x3d\x3dn);return n}function l(e,n,t,r,x,o,i){if(e){!i\x26\x26o\x26\x26function(e,n,t,r){var x\x3de;do{null\x3d\x3d\x3dx.z\x26\x26(x.z\x3db(x.x,x.y,n,t,r)),x.prevZ\x3dx.prev,x.nextZ\x3dx.next,x\x3dx.next}while(x!\x3d\x3de);x.prevZ.nextZ\x3dnull,x.prevZ\x3dnull,function(e){var n,t,r,x,o,i,u,s,f\x3d1;do{for(t\x3de,e\x3dnull,o\x3dnull,i\x3d0;t;){for(i++,r\x3dt,u\x3d0,n\x3d0;n\x3cf\x26\x26(u++,r\x3dr.nextZ);n++);for(s\x3df;u\x3e0||s\x3e0\x26\x26r;)0!\x3d\x3du\x26\x26(0\x3d\x3d\x3ds||!r||t.z\x3c\x3dr.z)?(x\x3dt,t\x3dt.nextZ,u--):(x\x3dr,r\x3dr.nextZ,s--),o?o.nextZ\x3dx:e\x3dx,x.prevZ\x3do,o\x3dx;t\x3dr}o.nextZ\x3dnull,f*\x3d2}while(i\x3e1)}(x)}(e,r,x,o);for(var u,s,f\x3de;e.prev!\x3d\x3de.next;)if(u\x3de.prev,s\x3de.next,o?v(e,r,x,o):c(e))n.push(u.i/t),n.push(e.i/t),n.push(s.i/t),z(e),e\x3ds.next,f\x3ds.next;else if((e\x3ds)\x3d\x3d\x3df){i?1\x3d\x3d\x3di?l(e\x3dh(a(e),n,t),n,t,r,x,o,2):2\x3d\x3d\x3di\x26\x26y(e,n,t,r,x,o):l(a(e),n,t,r,x,o,1);break}}}function c(e){var n\x3de.prev,t\x3de,r\x3de.next;if(A(n,t,r)\x3e\x3d0)return!1;for(var x\x3de.next.next;x!\x3d\x3de.prev;){if(Z(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)\x26\x26A(x.prev,x,x.next)\x3e\x3d0)return!1;x\x3dx.next}return!0}function v(e,n,t,r){var x\x3de.prev,o\x3de,i\x3de.next;if(A(x,o,i)\x3e\x3d0)return!1;for(var u\x3dx.x\x3co.x?x.x\x3ci.x?x.x:i.x:o.x\x3ci.x?o.x:i.x,s\x3dx.y\x3co.y?x.y\x3ci.y?x.y:i.y:o.y\x3ci.y?o.y:i.y,f\x3dx.x\x3eo.x?x.x\x3ei.x?x.x:i.x:o.x\x3ei.x?o.x:i.x,a\x3dx.y\x3eo.y?x.y\x3ei.y?x.y:i.y:o.y\x3ei.y?o.y:i.y,l\x3db(u,s,n,t,r),c\x3db(f,a,n,t,r),v\x3de.prevZ,h\x3de.nextZ;v\x26\x26v.z\x3e\x3dl\x26\x26h\x26\x26h.z\x3c\x3dc;){if(v!\x3d\x3de.prev\x26\x26v!\x3d\x3de.next\x26\x26Z(x.x,x.y,o.x,o.y,i.x,i.y,v.x,v.y)\x26\x26A(v.prev,v,v.next)\x3e\x3d0)return!1;if(v\x3dv.prevZ,h!\x3d\x3de.prev\x26\x26h!\x3d\x3de.next\x26\x26Z(x.x,x.y,o.x,o.y,i.x,i.y,h.x,h.y)\x26\x26A(h.prev,h,h.next)\x3e\x3d0)return!1;h\x3dh.nextZ}for(;v\x26\x26v.z\x3e\x3dl;){if(v!\x3d\x3de.prev\x26\x26v!\x3d\x3de.next\x26\x26Z(x.x,x.y,o.x,o.y,i.x,i.y,v.x,v.y)\x26\x26A(v.prev,v,v.next)\x3e\x3d0)return!1;v\x3dv.prevZ}for(;h\x26\x26h.z\x3c\x3dc;){if(h!\x3d\x3de.prev\x26\x26h!\x3d\x3de.next\x26\x26Z(x.x,x.y,o.x,o.y,i.x,i.y,h.x,h.y)\x26\x26A(h.prev,h,h.next)\x3e\x3d0)return!1;h\x3dh.nextZ}return!0}function h(e,n,t){var r\x3de;do{var x\x3dr.prev,o\x3dr.next.next;!M(x,o)\x26\x26E(x,r,r.next,o)\x26\x26P(x,o)\x26\x26P(o,x)\x26\x26(n.push(x.i/t),n.push(r.i/t),n.push(o.i/t),z(r),z(r.next),r\x3de\x3do),r\x3dr.next}while(r!\x3d\x3de);return a(r)}function y(e,n,t,r,x,o){var i\x3de;do{for(var u\x3di.next.next;u!\x3d\x3di.prev;){if(i.i!\x3d\x3du.i\x26\x26m(i,u)){var s\x3d_(i,u);return i\x3da(i,i.next),s\x3da(s,s.next),l(i,n,t,r,x,o),void l(s,n,t,r,x,o)}u\x3du.next}i\x3di.next}while(i!\x3d\x3de)}function p(e,n){return e.x-n.x}function d(e,n){var t\x3dfunction(e,n){var t,r\x3dn,x\x3de.x,o\x3de.y,i\x3d-1/0;do{if(o\x3c\x3dr.y\x26\x26o\x3e\x3dr.next.y\x26\x26r.next.y!\x3d\x3dr.y){var u\x3dr.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u\x3c\x3dx\x26\x26u\x3ei){if(i\x3du,u\x3d\x3d\x3dx){if(o\x3d\x3d\x3dr.y)return r;if(o\x3d\x3d\x3dr.next.y)return r.next}t\x3dr.x\x3cr.next.x?r:r.next}}r\x3dr.next}while(r!\x3d\x3dn);if(!t)return null;if(x\x3d\x3d\x3di)return t;var s,f\x3dt,a\x3dt.x,l\x3dt.y,c\x3d1/0;r\x3dt;do{x\x3e\x3dr.x\x26\x26r.x\x3e\x3da\x26\x26x!\x3d\x3dr.x\x26\x26Z(o\x3cl?x:i,o,a,l,o\x3cl?i:x,o,r.x,r.y)\x26\x26(s\x3dMath.abs(o-r.y)/(x-r.x),P(r,e)\x26\x26(s\x3cc||s\x3d\x3d\x3dc\x26\x26(r.x\x3et.x||r.x\x3d\x3d\x3dt.x\x26\x26g(t,r)))\x26\x26(t\x3dr,c\x3ds)),r\x3dr.next}while(r!\x3d\x3df);return t}(e,n);if(!t)return n;var r\x3d_(t,e),x\x3da(t,t.next);return a(r,r.next),n\x3d\x3d\x3dt?x:n}function g(e,n){return A(e.prev,e,n.prev)\x3c0\x26\x26A(n.next,e,e.next)\x3c0}function b(e,n,t,r,x){return(e\x3d1431655765\x26((e\x3d858993459\x26((e\x3d252645135\x26((e\x3d16711935\x26((e\x3d32767*(e-t)*x)|e\x3c\x3c8))|e\x3c\x3c4))|e\x3c\x3c2))|e\x3c\x3c1))|(n\x3d1431655765\x26((n\x3d858993459\x26((n\x3d252645135\x26((n\x3d16711935\x26((n\x3d32767*(n-r)*x)|n\x3c\x3c8))|n\x3c\x3c4))|n\x3c\x3c2))|n\x3c\x3c1))\x3c\x3c1}function w(e){var n\x3de,t\x3de;do{(n.x\x3ct.x||n.x\x3d\x3d\x3dt.x\x26\x26n.y\x3ct.y)\x26\x26(t\x3dn),n\x3dn.next}while(n!\x3d\x3de);return t}function Z(e,n,t,r,x,o,i,u){return(x-i)*(n-u)-(e-i)*(o-u)\x3e\x3d0\x26\x26(e-i)*(r-u)-(t-i)*(n-u)\x3e\x3d0\x26\x26(t-i)*(o-u)-(x-i)*(r-u)\x3e\x3d0}function m(e,n){return e.next.i!\x3d\x3dn.i\x26\x26e.prev.i!\x3d\x3dn.i\x26\x26!function(e,n){var t\x3de;do{if(t.i!\x3d\x3de.i\x26\x26t.next.i!\x3d\x3de.i\x26\x26t.i!\x3d\x3dn.i\x26\x26t.next.i!\x3d\x3dn.i\x26\x26E(t,t.next,e,n))return!0;t\x3dt.next}while(t!\x3d\x3de);return!1}(e,n)\x26\x26(P(e,n)\x26\x26P(n,e)\x26\x26function(e,n){var t\x3de,r\x3d!1,x\x3d(e.x+n.x)/2,o\x3d(e.y+n.y)/2;do{t.y\x3eo!\x3dt.next.y\x3eo\x26\x26t.next.y!\x3d\x3dt.y\x26\x26x\x3c(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x\x26\x26(r\x3d!r),t\x3dt.next}while(t!\x3d\x3de);return r}(e,n)\x26\x26(A(e.prev,e,n.prev)||A(e,n.prev,n))||M(e,n)\x26\x26A(e.prev,e,e.next)\x3e0\x26\x26A(n.prev,n,n.next)\x3e0)}function A(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function M(e,n){return e.x\x3d\x3d\x3dn.x\x26\x26e.y\x3d\x3d\x3dn.y}function E(e,n,t,r){var x\x3dI(A(e,n,t)),o\x3dI(A(e,n,r)),i\x3dI(A(t,r,e)),u\x3dI(A(t,r,n));return x!\x3d\x3do\x26\x26i!\x3d\x3du||(!(0!\x3d\x3dx||!F(e,t,n))||(!(0!\x3d\x3do||!F(e,r,n))||(!(0!\x3d\x3di||!F(t,e,r))||!(0!\x3d\x3du||!F(t,n,r)))))}function F(e,n,t){return n.x\x3c\x3dMath.max(e.x,t.x)\x26\x26n.x\x3e\x3dMath.min(e.x,t.x)\x26\x26n.y\x3c\x3dMath.max(e.y,t.y)\x26\x26n.y\x3e\x3dMath.min(e.y,t.y)}function I(e){return e\x3e0?1:e\x3c0?-1:0}function P(e,n){return A(e.prev,e,e.next)\x3c0?A(e,n,e.next)\x3e\x3d0\x26\x26A(e,e.prev,n)\x3e\x3d0:A(e,n,e.prev)\x3c0||A(e,e.next,n)\x3c0}function _(e,n){var t\x3dnew B(e.i,e.x,e.y),r\x3dnew B(n.i,n.x,n.y),x\x3de.next,o\x3dn.prev;return e.next\x3dn,n.prev\x3de,t.next\x3dx,x.prev\x3dt,r.next\x3dt,t.prev\x3dr,o.next\x3dr,r.prev\x3do,r}function k(e,n,t,r){var x\x3dnew B(e,n,t);return r?(x.next\x3dr.next,x.prev\x3dr,r.next.prev\x3dx,r.next\x3dx):(x.prev\x3dx,x.next\x3dx),x}function z(e){e.next.prev\x3de.prev,e.prev.next\x3de.next,e.prevZ\x26\x26(e.prevZ.nextZ\x3de.nextZ),e.nextZ\x26\x26(e.nextZ.prevZ\x3de.prevZ)}function B(e,n,t){this.i\x3de,this.x\x3dn,this.y\x3dt,this.prev\x3dnull,this.next\x3dnull,this.z\x3dnull,this.prevZ\x3dnull,this.nextZ\x3dnull,this.steiner\x3d!1}function O(e,n,t,r){for(var x\x3d0,o\x3dn,i\x3dt-r;o\x3ct;o+\x3dr)x+\x3d(e[i]-e[o])*(e[o+1]+e[i+1]),i\x3do;return x}u.exports\x3ds,u.exports.default\x3ds,s.deviation\x3dfunction(e,n,t,r){var x\x3dn\x26\x26n.length,o\x3dx?n[0]*t:e.length,i\x3dMath.abs(O(e,0,o,t));if(x)for(var u\x3d0,s\x3dn.length;u\x3cs;u++){var f\x3dn[u]*t,a\x3du\x3cs-1?n[u+1]*t:e.length;i-\x3dMath.abs(O(e,f,a,t))}var l\x3d0;for(u\x3d0;u\x3cr.length;u+\x3d3){var c\x3dr[u]*t,v\x3dr[u+1]*t,h\x3dr[u+2]*t;l+\x3dMath.abs((e[c]-e[h])*(e[v+1]-e[c+1])-(e[c]-e[v])*(e[h+1]-e[c+1]))}return 0\x3d\x3d\x3di\x26\x260\x3d\x3d\x3dl?0:Math.abs((l-i)/i)},s.flatten\x3dfunction(e){for(var n\x3de[0][0].length,t\x3d{vertices:[],holes:[],dimensions:n},r\x3d0,x\x3d0;x\x3ce.length;x++){for(var o\x3d0;o\x3ce[x].length;o++)for(var i\x3d0;i\x3cn;i++)t.vertices.push(e[x][o][i]);x\x3e0\x26\x26(r+\x3de[x-1].length,t.holes.push(r))}return t};const G\x3d[],N\x3d{vertexPosition:0,indexPosition:0};function R(e,n,t,r,x){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3dx}function S(e,n,t,r,x,o){const i\x3d3+x,u\x3de[n+0],s\x3de[n+1],f\x3dG;f.length\x3dx;for(let t\x3d0;t\x3cf.length;t++)f[t]\x3de[n+2+t];let a\x3do?o.vertexPosition:0,l\x3do?o.indexPosition:0;const c\x3da/i;return R(t,a,u,s,0),f.length\x26\x26t.set(f,a+3),a+\x3di,R(t,a,u,s,1),f.length\x26\x26t.set(f,a+3),a+\x3di,R(t,a,u,s,2),f.length\x26\x26t.set(f,a+3),a+\x3di,R(t,a,u,s,3),f.length\x26\x26t.set(f,a+3),a+\x3di,r[l++]\x3dc,r[l++]\x3dc+1,r[l++]\x3dc+3,r[l++]\x3dc+1,r[l++]\x3dc+2,r[l++]\x3dc+3,N.vertexPosition\x3da,N.indexPosition\x3dl,N}function T(e,n,t,r,x,i,u,s,f,a){const l\x3d5+s.length,c\x3di.length/l,v\x3d[e[n+0],e[n+1]],h\x3d[e[t],e[t+1]],y\x3do(a,[...v]),p\x3do(a,[...h]);function d(e,n,t){const r\x3d1e4;return Math.round(1500*n)+Math.round(1500*t)*r+e*r*r}function g(e,n,t){const r\x3dMath.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),x\x3d[(n[0]-e[0])/r,(n[1]-e[1])/r],o\x3d[-x[1],x[0]],i\x3dMath.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),u\x3d[(t[0]-e[0])/i,(t[1]-e[1])/i],s\x3d0\x3d\x3d\x3dr||0\x3d\x3d\x3di?0:Math.acos((f\x3du[0]*x[0]+u[1]*x[1],a\x3d-1,l\x3d1,Math.min(Math.max(f,a),l)));var f,a,l;return u[0]*o[0]+u[1]*o[1]\x3e0?s:2*Math.PI-s}const b\x3dnull!\x3d\x3dx;let w\x3d0,Z\x3d0;if(null!\x3d\x3dr){w\x3dg(y,p,o(a,[...[e[r],e[r+1]]]))}if(b){Z\x3dg(p,y,o(a,[...[e[x],e[x+1]]]))}i.push(v[0],v[1],h[0],h[1],d(0,w,Z)),i.push(...s),i.push(v[0],v[1],h[0],h[1],d(1,w,Z)),i.push(...s),i.push(v[0],v[1],h[0],h[1],d(2,w,Z)),i.push(...s),i.push(v[0],v[1],h[0],h[1],d(3,w,Z)),i.push(...s),u.push(c,c+1,c+2,c+1,c+3,c+2)}function U(e,n,t,r,x){const o\x3d2+x;let i\x3dn;const s\x3de.slice(i,i+x);i+\x3dx;const f\x3de[i++];let a\x3d0;const l\x3dnew Array(f-1);for(let n\x3d0;n\x3cf;n++)a+\x3de[i++],n\x3cf-1\x26\x26(l[n]\x3da);const c\x3de.slice(i,i+2*a),v\x3du.exports(c,l,2);for(let e\x3d0;e\x3cv.length;e++)r.push(v[e]+t.length/o);for(let e\x3d0;e\x3cc.length;e+\x3d2)t.push(c[e],c[e+1],...s);return i+2*a}const C\x3dself;C.onmessage\x3dr\x3d\x3e{const x\x3dr.data;switch(x.type){case n:{const e\x3d3,n\x3d2,t\x3dx.customAttributesCount,r\x3dn+t,o\x3dnew Float32Array(x.renderInstructions),i\x3do.length/r,u\x3d4*i*(t+e),s\x3dnew Uint32Array(6*i),f\x3dnew Float32Array(u);let a;for(let e\x3d0;e\x3co.length;e+\x3dr)a\x3dS(o,e,f,s,t,a);const l\x3dObject.assign({vertexBuffer:f.buffer,indexBuffer:s.buffer,renderInstructions:o.buffer},x);C.postMessage(l,[f.buffer,s.buffer,o.buffer]);break}case t:{const e\x3d[],n\x3d[],t\x3dx.customAttributesCount,r\x3d2,o\x3dnew Float32Array(x.renderInstructions);let u\x3d0;const s\x3dx.renderInstructionsTransform,f\x3d[1,0,0,1,0,0];let a,l;for(i(f,s);u\x3co.length;){l\x3dArray.from(o.slice(u,u+t)),u+\x3dt,a\x3do[u++];for(let t\x3d0;t\x3ca-1;t++)T(o,u+t*r,u+(t+1)*r,t\x3e0?u+(t-1)*r:null,t\x3ca-2?u+(t+2)*r:null,e,n,l,0,f);u+\x3da*r}const c\x3dUint32Array.from(n),v\x3dFloat32Array.from(e),h\x3dObject.assign({vertexBuffer:v.buffer,indexBuffer:c.buffer,renderInstructions:o.buffer},x);C.postMessage(h,[v.buffer,c.buffer,o.buffer]);break}case e:{const e\x3d[],n\x3d[],t\x3dx.customAttributesCount,r\x3dnew Float32Array(x.renderInstructions);let o\x3d0;for(;o\x3cr.length;)o\x3dU(r,o,e,n,t);const i\x3dUint32Array.from(n),u\x3dFloat32Array.from(e),s\x3dObject.assign({vertexBuffer:u.buffer,indexBuffer:i.buffer,renderInstructions:r.buffer},x);C.postMessage(s,[u.buffer,i.buffer,r.buffer]);break}}};',
"binary").toString("base64"):URL.createObjectURL(new Blob(['const e\x3d"GENERATE_POLYGON_BUFFERS",n\x3d"GENERATE_POINT_BUFFERS",t\x3d"GENERATE_LINE_STRING_BUFFERS",r\x3d"undefined"!\x3dtypeof navigator\x26\x26void 0!\x3d\x3dnavigator.userAgent?navigator.userAgent.toLowerCase():"";r.includes("firefox");r.includes("safari")\x26\x26!r.includes("chrom")\x26\x26(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),r.includes("webkit")\x26\x26r.includes("edge"),r.includes("macintosh"),"undefined"!\x3dtypeof WorkerGlobalScope\x26\x26"undefined"!\x3dtypeof OffscreenCanvas\x26\x26(self,WorkerGlobalScope),function(){let e\x3d!1;try{const n\x3dObject.defineProperty({},"passive",{get:function(){e\x3d!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch(e){}}();class x extends Error{constructor(e){const n\x3d"Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+e+" for details.";super(n),this.code\x3de,this.name\x3d"AssertionError",this.message\x3dn}}function o(e,n){const t\x3dn[0],r\x3dn[1];return n[0]\x3de[0]*t+e[2]*r+e[4],n[1]\x3de[1]*t+e[3]*r+e[5],n}function i(e,n){const t\x3d(r\x3dn)[0]*r[3]-r[1]*r[2];var r;!function(e,n){if(!e)throw new x(n)}(0!\x3d\x3dt,32);const o\x3dn[0],i\x3dn[1],u\x3dn[2],s\x3dn[3],f\x3dn[4],a\x3dn[5];return e[0]\x3ds/t,e[1]\x3d-i/t,e[2]\x3d-u/t,e[3]\x3do/t,e[4]\x3d(u*a-s*f)/t,e[5]\x3d-(o*a-i*f)/t,e}new Array(6);var u\x3d{exports:{}};function s(e,n,t){t\x3dt||2;var r,x,o,i,u,s,c,v\x3dn\x26\x26n.length,h\x3dv?n[0]*t:e.length,y\x3df(e,0,h,t,!0),g\x3d[];if(!y||y.next\x3d\x3d\x3dy.prev)return g;if(v\x26\x26(y\x3dfunction(e,n,t,r){var x,o,i,u\x3d[];for(x\x3d0,o\x3dn.length;x\x3co;x++)(i\x3df(e,n[x]*r,x\x3co-1?n[x+1]*r:e.length,r,!1))\x3d\x3d\x3di.next\x26\x26(i.steiner\x3d!0),u.push(w(i));for(u.sort(p),x\x3d0;x\x3cu.length;x++)t\x3da(t\x3dd(u[x],t),t.next);return t}(e,n,y,t)),e.length\x3e80*t){r\x3do\x3de[0],x\x3di\x3de[1];for(var b\x3dt;b\x3ch;b+\x3dt)(u\x3de[b])\x3cr\x26\x26(r\x3du),(s\x3de[b+1])\x3cx\x26\x26(x\x3ds),u\x3eo\x26\x26(o\x3du),s\x3ei\x26\x26(i\x3ds);c\x3d0!\x3d\x3d(c\x3dMath.max(o-r,i-x))?1/c:0}return l(y,g,t,r,x,c),g}function f(e,n,t,r,x){var o,i;if(x\x3d\x3d\x3dO(e,n,t,r)\x3e0)for(o\x3dn;o\x3ct;o+\x3dr)i\x3dk(o,e[o],e[o+1],i);else for(o\x3dt-r;o\x3e\x3dn;o-\x3dr)i\x3dk(o,e[o],e[o+1],i);return i\x26\x26M(i,i.next)\x26\x26(z(i),i\x3di.next),i}function a(e,n){if(!e)return e;n||(n\x3de);var t,r\x3de;do{if(t\x3d!1,r.steiner||!M(r,r.next)\x26\x260!\x3d\x3dA(r.prev,r,r.next))r\x3dr.next;else{if(z(r),(r\x3dn\x3dr.prev)\x3d\x3d\x3dr.next)break;t\x3d!0}}while(t||r!\x3d\x3dn);return n}function l(e,n,t,r,x,o,i){if(e){!i\x26\x26o\x26\x26function(e,n,t,r){var x\x3de;do{null\x3d\x3d\x3dx.z\x26\x26(x.z\x3db(x.x,x.y,n,t,r)),x.prevZ\x3dx.prev,x.nextZ\x3dx.next,x\x3dx.next}while(x!\x3d\x3de);x.prevZ.nextZ\x3dnull,x.prevZ\x3dnull,function(e){var n,t,r,x,o,i,u,s,f\x3d1;do{for(t\x3de,e\x3dnull,o\x3dnull,i\x3d0;t;){for(i++,r\x3dt,u\x3d0,n\x3d0;n\x3cf\x26\x26(u++,r\x3dr.nextZ);n++);for(s\x3df;u\x3e0||s\x3e0\x26\x26r;)0!\x3d\x3du\x26\x26(0\x3d\x3d\x3ds||!r||t.z\x3c\x3dr.z)?(x\x3dt,t\x3dt.nextZ,u--):(x\x3dr,r\x3dr.nextZ,s--),o?o.nextZ\x3dx:e\x3dx,x.prevZ\x3do,o\x3dx;t\x3dr}o.nextZ\x3dnull,f*\x3d2}while(i\x3e1)}(x)}(e,r,x,o);for(var u,s,f\x3de;e.prev!\x3d\x3de.next;)if(u\x3de.prev,s\x3de.next,o?v(e,r,x,o):c(e))n.push(u.i/t),n.push(e.i/t),n.push(s.i/t),z(e),e\x3ds.next,f\x3ds.next;else if((e\x3ds)\x3d\x3d\x3df){i?1\x3d\x3d\x3di?l(e\x3dh(a(e),n,t),n,t,r,x,o,2):2\x3d\x3d\x3di\x26\x26y(e,n,t,r,x,o):l(a(e),n,t,r,x,o,1);break}}}function c(e){var n\x3de.prev,t\x3de,r\x3de.next;if(A(n,t,r)\x3e\x3d0)return!1;for(var x\x3de.next.next;x!\x3d\x3de.prev;){if(Z(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)\x26\x26A(x.prev,x,x.next)\x3e\x3d0)return!1;x\x3dx.next}return!0}function v(e,n,t,r){var x\x3de.prev,o\x3de,i\x3de.next;if(A(x,o,i)\x3e\x3d0)return!1;for(var u\x3dx.x\x3co.x?x.x\x3ci.x?x.x:i.x:o.x\x3ci.x?o.x:i.x,s\x3dx.y\x3co.y?x.y\x3ci.y?x.y:i.y:o.y\x3ci.y?o.y:i.y,f\x3dx.x\x3eo.x?x.x\x3ei.x?x.x:i.x:o.x\x3ei.x?o.x:i.x,a\x3dx.y\x3eo.y?x.y\x3ei.y?x.y:i.y:o.y\x3ei.y?o.y:i.y,l\x3db(u,s,n,t,r),c\x3db(f,a,n,t,r),v\x3de.prevZ,h\x3de.nextZ;v\x26\x26v.z\x3e\x3dl\x26\x26h\x26\x26h.z\x3c\x3dc;){if(v!\x3d\x3de.prev\x26\x26v!\x3d\x3de.next\x26\x26Z(x.x,x.y,o.x,o.y,i.x,i.y,v.x,v.y)\x26\x26A(v.prev,v,v.next)\x3e\x3d0)return!1;if(v\x3dv.prevZ,h!\x3d\x3de.prev\x26\x26h!\x3d\x3de.next\x26\x26Z(x.x,x.y,o.x,o.y,i.x,i.y,h.x,h.y)\x26\x26A(h.prev,h,h.next)\x3e\x3d0)return!1;h\x3dh.nextZ}for(;v\x26\x26v.z\x3e\x3dl;){if(v!\x3d\x3de.prev\x26\x26v!\x3d\x3de.next\x26\x26Z(x.x,x.y,o.x,o.y,i.x,i.y,v.x,v.y)\x26\x26A(v.prev,v,v.next)\x3e\x3d0)return!1;v\x3dv.prevZ}for(;h\x26\x26h.z\x3c\x3dc;){if(h!\x3d\x3de.prev\x26\x26h!\x3d\x3de.next\x26\x26Z(x.x,x.y,o.x,o.y,i.x,i.y,h.x,h.y)\x26\x26A(h.prev,h,h.next)\x3e\x3d0)return!1;h\x3dh.nextZ}return!0}function h(e,n,t){var r\x3de;do{var x\x3dr.prev,o\x3dr.next.next;!M(x,o)\x26\x26E(x,r,r.next,o)\x26\x26P(x,o)\x26\x26P(o,x)\x26\x26(n.push(x.i/t),n.push(r.i/t),n.push(o.i/t),z(r),z(r.next),r\x3de\x3do),r\x3dr.next}while(r!\x3d\x3de);return a(r)}function y(e,n,t,r,x,o){var i\x3de;do{for(var u\x3di.next.next;u!\x3d\x3di.prev;){if(i.i!\x3d\x3du.i\x26\x26m(i,u)){var s\x3d_(i,u);return i\x3da(i,i.next),s\x3da(s,s.next),l(i,n,t,r,x,o),void l(s,n,t,r,x,o)}u\x3du.next}i\x3di.next}while(i!\x3d\x3de)}function p(e,n){return e.x-n.x}function d(e,n){var t\x3dfunction(e,n){var t,r\x3dn,x\x3de.x,o\x3de.y,i\x3d-1/0;do{if(o\x3c\x3dr.y\x26\x26o\x3e\x3dr.next.y\x26\x26r.next.y!\x3d\x3dr.y){var u\x3dr.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u\x3c\x3dx\x26\x26u\x3ei){if(i\x3du,u\x3d\x3d\x3dx){if(o\x3d\x3d\x3dr.y)return r;if(o\x3d\x3d\x3dr.next.y)return r.next}t\x3dr.x\x3cr.next.x?r:r.next}}r\x3dr.next}while(r!\x3d\x3dn);if(!t)return null;if(x\x3d\x3d\x3di)return t;var s,f\x3dt,a\x3dt.x,l\x3dt.y,c\x3d1/0;r\x3dt;do{x\x3e\x3dr.x\x26\x26r.x\x3e\x3da\x26\x26x!\x3d\x3dr.x\x26\x26Z(o\x3cl?x:i,o,a,l,o\x3cl?i:x,o,r.x,r.y)\x26\x26(s\x3dMath.abs(o-r.y)/(x-r.x),P(r,e)\x26\x26(s\x3cc||s\x3d\x3d\x3dc\x26\x26(r.x\x3et.x||r.x\x3d\x3d\x3dt.x\x26\x26g(t,r)))\x26\x26(t\x3dr,c\x3ds)),r\x3dr.next}while(r!\x3d\x3df);return t}(e,n);if(!t)return n;var r\x3d_(t,e),x\x3da(t,t.next);return a(r,r.next),n\x3d\x3d\x3dt?x:n}function g(e,n){return A(e.prev,e,n.prev)\x3c0\x26\x26A(n.next,e,e.next)\x3c0}function b(e,n,t,r,x){return(e\x3d1431655765\x26((e\x3d858993459\x26((e\x3d252645135\x26((e\x3d16711935\x26((e\x3d32767*(e-t)*x)|e\x3c\x3c8))|e\x3c\x3c4))|e\x3c\x3c2))|e\x3c\x3c1))|(n\x3d1431655765\x26((n\x3d858993459\x26((n\x3d252645135\x26((n\x3d16711935\x26((n\x3d32767*(n-r)*x)|n\x3c\x3c8))|n\x3c\x3c4))|n\x3c\x3c2))|n\x3c\x3c1))\x3c\x3c1}function w(e){var n\x3de,t\x3de;do{(n.x\x3ct.x||n.x\x3d\x3d\x3dt.x\x26\x26n.y\x3ct.y)\x26\x26(t\x3dn),n\x3dn.next}while(n!\x3d\x3de);return t}function Z(e,n,t,r,x,o,i,u){return(x-i)*(n-u)-(e-i)*(o-u)\x3e\x3d0\x26\x26(e-i)*(r-u)-(t-i)*(n-u)\x3e\x3d0\x26\x26(t-i)*(o-u)-(x-i)*(r-u)\x3e\x3d0}function m(e,n){return e.next.i!\x3d\x3dn.i\x26\x26e.prev.i!\x3d\x3dn.i\x26\x26!function(e,n){var t\x3de;do{if(t.i!\x3d\x3de.i\x26\x26t.next.i!\x3d\x3de.i\x26\x26t.i!\x3d\x3dn.i\x26\x26t.next.i!\x3d\x3dn.i\x26\x26E(t,t.next,e,n))return!0;t\x3dt.next}while(t!\x3d\x3de);return!1}(e,n)\x26\x26(P(e,n)\x26\x26P(n,e)\x26\x26function(e,n){var t\x3de,r\x3d!1,x\x3d(e.x+n.x)/2,o\x3d(e.y+n.y)/2;do{t.y\x3eo!\x3dt.next.y\x3eo\x26\x26t.next.y!\x3d\x3dt.y\x26\x26x\x3c(t.next.x-t.x)*(o-t.y)/(t.next.y-t.y)+t.x\x26\x26(r\x3d!r),t\x3dt.next}while(t!\x3d\x3de);return r}(e,n)\x26\x26(A(e.prev,e,n.prev)||A(e,n.prev,n))||M(e,n)\x26\x26A(e.prev,e,e.next)\x3e0\x26\x26A(n.prev,n,n.next)\x3e0)}function A(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function M(e,n){return e.x\x3d\x3d\x3dn.x\x26\x26e.y\x3d\x3d\x3dn.y}function E(e,n,t,r){var x\x3dI(A(e,n,t)),o\x3dI(A(e,n,r)),i\x3dI(A(t,r,e)),u\x3dI(A(t,r,n));return x!\x3d\x3do\x26\x26i!\x3d\x3du||(!(0!\x3d\x3dx||!F(e,t,n))||(!(0!\x3d\x3do||!F(e,r,n))||(!(0!\x3d\x3di||!F(t,e,r))||!(0!\x3d\x3du||!F(t,n,r)))))}function F(e,n,t){return n.x\x3c\x3dMath.max(e.x,t.x)\x26\x26n.x\x3e\x3dMath.min(e.x,t.x)\x26\x26n.y\x3c\x3dMath.max(e.y,t.y)\x26\x26n.y\x3e\x3dMath.min(e.y,t.y)}function I(e){return e\x3e0?1:e\x3c0?-1:0}function P(e,n){return A(e.prev,e,e.next)\x3c0?A(e,n,e.next)\x3e\x3d0\x26\x26A(e,e.prev,n)\x3e\x3d0:A(e,n,e.prev)\x3c0||A(e,e.next,n)\x3c0}function _(e,n){var t\x3dnew B(e.i,e.x,e.y),r\x3dnew B(n.i,n.x,n.y),x\x3de.next,o\x3dn.prev;return e.next\x3dn,n.prev\x3de,t.next\x3dx,x.prev\x3dt,r.next\x3dt,t.prev\x3dr,o.next\x3dr,r.prev\x3do,r}function k(e,n,t,r){var x\x3dnew B(e,n,t);return r?(x.next\x3dr.next,x.prev\x3dr,r.next.prev\x3dx,r.next\x3dx):(x.prev\x3dx,x.next\x3dx),x}function z(e){e.next.prev\x3de.prev,e.prev.next\x3de.next,e.prevZ\x26\x26(e.prevZ.nextZ\x3de.nextZ),e.nextZ\x26\x26(e.nextZ.prevZ\x3de.prevZ)}function B(e,n,t){this.i\x3de,this.x\x3dn,this.y\x3dt,this.prev\x3dnull,this.next\x3dnull,this.z\x3dnull,this.prevZ\x3dnull,this.nextZ\x3dnull,this.steiner\x3d!1}function O(e,n,t,r){for(var x\x3d0,o\x3dn,i\x3dt-r;o\x3ct;o+\x3dr)x+\x3d(e[i]-e[o])*(e[o+1]+e[i+1]),i\x3do;return x}u.exports\x3ds,u.exports.default\x3ds,s.deviation\x3dfunction(e,n,t,r){var x\x3dn\x26\x26n.length,o\x3dx?n[0]*t:e.length,i\x3dMath.abs(O(e,0,o,t));if(x)for(var u\x3d0,s\x3dn.length;u\x3cs;u++){var f\x3dn[u]*t,a\x3du\x3cs-1?n[u+1]*t:e.length;i-\x3dMath.abs(O(e,f,a,t))}var l\x3d0;for(u\x3d0;u\x3cr.length;u+\x3d3){var c\x3dr[u]*t,v\x3dr[u+1]*t,h\x3dr[u+2]*t;l+\x3dMath.abs((e[c]-e[h])*(e[v+1]-e[c+1])-(e[c]-e[v])*(e[h+1]-e[c+1]))}return 0\x3d\x3d\x3di\x26\x260\x3d\x3d\x3dl?0:Math.abs((l-i)/i)},s.flatten\x3dfunction(e){for(var n\x3de[0][0].length,t\x3d{vertices:[],holes:[],dimensions:n},r\x3d0,x\x3d0;x\x3ce.length;x++){for(var o\x3d0;o\x3ce[x].length;o++)for(var i\x3d0;i\x3cn;i++)t.vertices.push(e[x][o][i]);x\x3e0\x26\x26(r+\x3de[x-1].length,t.holes.push(r))}return t};const G\x3d[],N\x3d{vertexPosition:0,indexPosition:0};function R(e,n,t,r,x){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3dx}function S(e,n,t,r,x,o){const i\x3d3+x,u\x3de[n+0],s\x3de[n+1],f\x3dG;f.length\x3dx;for(let t\x3d0;t\x3cf.length;t++)f[t]\x3de[n+2+t];let a\x3do?o.vertexPosition:0,l\x3do?o.indexPosition:0;const c\x3da/i;return R(t,a,u,s,0),f.length\x26\x26t.set(f,a+3),a+\x3di,R(t,a,u,s,1),f.length\x26\x26t.set(f,a+3),a+\x3di,R(t,a,u,s,2),f.length\x26\x26t.set(f,a+3),a+\x3di,R(t,a,u,s,3),f.length\x26\x26t.set(f,a+3),a+\x3di,r[l++]\x3dc,r[l++]\x3dc+1,r[l++]\x3dc+3,r[l++]\x3dc+1,r[l++]\x3dc+2,r[l++]\x3dc+3,N.vertexPosition\x3da,N.indexPosition\x3dl,N}function T(e,n,t,r,x,i,u,s,f,a){const l\x3d5+s.length,c\x3di.length/l,v\x3d[e[n+0],e[n+1]],h\x3d[e[t],e[t+1]],y\x3do(a,[...v]),p\x3do(a,[...h]);function d(e,n,t){const r\x3d1e4;return Math.round(1500*n)+Math.round(1500*t)*r+e*r*r}function g(e,n,t){const r\x3dMath.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),x\x3d[(n[0]-e[0])/r,(n[1]-e[1])/r],o\x3d[-x[1],x[0]],i\x3dMath.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),u\x3d[(t[0]-e[0])/i,(t[1]-e[1])/i],s\x3d0\x3d\x3d\x3dr||0\x3d\x3d\x3di?0:Math.acos((f\x3du[0]*x[0]+u[1]*x[1],a\x3d-1,l\x3d1,Math.min(Math.max(f,a),l)));var f,a,l;return u[0]*o[0]+u[1]*o[1]\x3e0?s:2*Math.PI-s}const b\x3dnull!\x3d\x3dx;let w\x3d0,Z\x3d0;if(null!\x3d\x3dr){w\x3dg(y,p,o(a,[...[e[r],e[r+1]]]))}if(b){Z\x3dg(p,y,o(a,[...[e[x],e[x+1]]]))}i.push(v[0],v[1],h[0],h[1],d(0,w,Z)),i.push(...s),i.push(v[0],v[1],h[0],h[1],d(1,w,Z)),i.push(...s),i.push(v[0],v[1],h[0],h[1],d(2,w,Z)),i.push(...s),i.push(v[0],v[1],h[0],h[1],d(3,w,Z)),i.push(...s),u.push(c,c+1,c+2,c+1,c+3,c+2)}function U(e,n,t,r,x){const o\x3d2+x;let i\x3dn;const s\x3de.slice(i,i+x);i+\x3dx;const f\x3de[i++];let a\x3d0;const l\x3dnew Array(f-1);for(let n\x3d0;n\x3cf;n++)a+\x3de[i++],n\x3cf-1\x26\x26(l[n]\x3da);const c\x3de.slice(i,i+2*a),v\x3du.exports(c,l,2);for(let e\x3d0;e\x3cv.length;e++)r.push(v[e]+t.length/o);for(let e\x3d0;e\x3cc.length;e+\x3d2)t.push(c[e],c[e+1],...s);return i+2*a}const C\x3dself;C.onmessage\x3dr\x3d\x3e{const x\x3dr.data;switch(x.type){case n:{const e\x3d3,n\x3d2,t\x3dx.customAttributesCount,r\x3dn+t,o\x3dnew Float32Array(x.renderInstructions),i\x3do.length/r,u\x3d4*i*(t+e),s\x3dnew Uint32Array(6*i),f\x3dnew Float32Array(u);let a;for(let e\x3d0;e\x3co.length;e+\x3dr)a\x3dS(o,e,f,s,t,a);const l\x3dObject.assign({vertexBuffer:f.buffer,indexBuffer:s.buffer,renderInstructions:o.buffer},x);C.postMessage(l,[f.buffer,s.buffer,o.buffer]);break}case t:{const e\x3d[],n\x3d[],t\x3dx.customAttributesCount,r\x3d2,o\x3dnew Float32Array(x.renderInstructions);let u\x3d0;const s\x3dx.renderInstructionsTransform,f\x3d[1,0,0,1,0,0];let a,l;for(i(f,s);u\x3co.length;){l\x3dArray.from(o.slice(u,u+t)),u+\x3dt,a\x3do[u++];for(let t\x3d0;t\x3ca-1;t++)T(o,u+t*r,u+(t+1)*r,t\x3e0?u+(t-1)*r:null,t\x3ca-2?u+(t+2)*r:null,e,n,l,0,f);u+\x3da*r}const c\x3dUint32Array.from(n),v\x3dFloat32Array.from(e),h\x3dObject.assign({vertexBuffer:v.buffer,indexBuffer:c.buffer,renderInstructions:o.buffer},x);C.postMessage(h,[v.buffer,c.buffer,o.buffer]);break}case e:{const e\x3d[],n\x3d[],t\x3dx.customAttributesCount,r\x3dnew Float32Array(x.renderInstructions);let o\x3d0;for(;o\x3cr.length;)o\x3dU(r,o,e,n,t);const i\x3dUint32Array.from(n),u\x3dFloat32Array.from(e),s\x3dObject.assign({vertexBuffer:u.buffer,indexBuffer:i.buffer,renderInstructions:r.buffer},x);C.postMessage(s,[u.buffer,i.buffer,r.buffer]);break}}};'],
{type:"application/javascript"})))}};
shadow$provide[343]=function(Ka,L,sb,A){function w(J){return J&&J.__esModule?J:{default:J}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(309)),p=w(L(208)),q=w(L(111)),t=w(L(332));Ka=w(L(337));var m=w(L(338)),f=L(331),b=L(336),c=L(339),e=L(82),g=L(81),n=L(84),h=L(341),x=L(342),O=L(75),H=L(73);class F extends Ka.default{constructor(J,D){const r=D.uniforms||{},z=(0,e.create)();r[b.DefaultUniform.PROJECTION_MATRIX]=z;super(J,{uniforms:r,postProcesses:D.postProcesses});this.ready=
!1;this.sourceRevision_=-1;this.verticesBuffer_=new t.default(f.ARRAY_BUFFER,f.DYNAMIC_DRAW);this.hitVerticesBuffer_=new t.default(f.ARRAY_BUFFER,f.DYNAMIC_DRAW);this.indicesBuffer_=new t.default(f.ELEMENT_ARRAY_BUFFER,f.DYNAMIC_DRAW);this.vertexShader_=D.vertexShader;this.fragmentShader_=D.fragmentShader;this.hitDetectionEnabled_=D.hitFragmentShader&&D.hitVertexShader?!0:!1;this.hitVertexShader_=D.hitVertexShader;this.hitFragmentShader_=D.hitFragmentShader;J=D.attributes?D.attributes.map(function(G){return{name:"a_"+
G.name,size:1,type:b.AttributeType.FLOAT}}):[];this.attributes=[{name:"a_position",size:2,type:b.AttributeType.FLOAT},{name:"a_index",size:1,type:b.AttributeType.FLOAT}].concat(J);this.hitDetectionAttributes=[{name:"a_position",size:2,type:b.AttributeType.FLOAT},{name:"a_index",size:1,type:b.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:b.AttributeType.FLOAT},{name:"a_featureUid",size:1,type:b.AttributeType.FLOAT}].concat(J);this.customAttributes=D.attributes?D.attributes:[];this.previousExtent_=
(0,n.createEmpty)();this.currentTransform_=z;this.renderTransform_=(0,e.create)();this.invertRenderTransform_=(0,e.create)();this.renderInstructions_=new Float32Array(0);this.hitRenderInstructions_=new Float32Array(0);this.generateBuffersRun_=0;this.worker_=(0,x.create)();this.worker_.addEventListener("message",function(G){const T=G.data;if(T.type===c.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS){const R=T.projectionTransform;T.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(T.vertexBuffer),
this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(T.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(T.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=R;(0,e.makeInverse)(this.invertRenderTransform_,this.renderTransform_);T.hitDetection?this.hitRenderInstructions_=new Float32Array(G.data.renderInstructions):(this.renderInstructions_=new Float32Array(G.data.renderInstructions),
T.generateBuffersRun===this.generateBuffersRun_&&(this.ready=!0));this.getLayer().changed()}}.bind(this));this.featureCache_={};this.featureCount_=0;D=this.getLayer().getSource();this.sourceListenKeys_=[(0,H.listen)(D,p.default.ADDFEATURE,this.handleSourceFeatureAdded_,this),(0,H.listen)(D,p.default.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),(0,H.listen)(D,p.default.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),(0,H.listen)(D,p.default.CLEAR,this.handleSourceFeatureClear_,this)];D.forEachFeature(function(G){this.featureCache_[(0,O.getUid)(G)]=
{feature:G,properties:G.getProperties(),geometry:G.getGeometry()};this.featureCount_++}.bind(this))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new m.default(this.helper))}handleSourceFeatureAdded_(J){J=J.feature;this.featureCache_[(0,O.getUid)(J)]={feature:J,properties:J.getProperties(),geometry:J.getGeometry()};
this.featureCount_++}handleSourceFeatureChanged_(J){J=J.feature;this.featureCache_[(0,O.getUid)(J)]={feature:J,properties:J.getProperties(),geometry:J.getGeometry()}}handleSourceFeatureDelete_(J){delete this.featureCache_[(0,O.getUid)(J.feature)];this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={};this.featureCount_=0}renderFrame(J){const D=this.helper.getGL();this.preRender(D,J);var r=J.viewState.projection,z=this.getLayer().getSource().getWrapX()&&r.canWrapX(),G=r.getExtent(),
T=J.extent;r=z?(0,n.getWidth)(G):null;const R=z?Math.ceil((T[2]-G[2])/r)+1:1;G=z=z?Math.floor((T[0]-G[0])/r):0;T=this.indicesBuffer_.getSize();do this.helper.makeProjectionTransform(J,this.currentTransform_),(0,e.translate)(this.currentTransform_,G*r,0),(0,e.multiply)(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(J),this.helper.drawElements(0,T);while(++G<R);this.helper.finalizeDraw(J,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);G=this.helper.getCanvas();
this.hitDetectionEnabled_&&(this.renderHitDetection(J,z,R,r),this.hitRenderTarget_.clearCachedData());this.postRender(D,J);return G}prepareFrameInternal(J){var D=this.getLayer();const r=D.getSource();var z=J.viewState,G=!J.viewHints[q.default.ANIMATING]&&!J.viewHints[q.default.INTERACTING];const T=!(0,n.equals)(this.previousExtent_,J.extent),R=this.sourceRevision_<r.getRevision();R&&(this.sourceRevision_=r.getRevision());G&&(T||R)&&(G=z.projection,z=z.resolution,D=D instanceof k.default?D.getRenderBuffer():
0,D=(0,n.buffer)(J.extent,D*z),r.loadFeatures(D,z,G),this.rebuildBuffers_(J),this.previousExtent_=J.extent.slice());this.helper.useProgram(this.program_,J);this.helper.prepareDraw(J);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);return!0}rebuildBuffers_(J){const D=(0,e.create)();this.helper.makeProjectionTransform(J,D);J=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===
J||(this.renderInstructions_=new Float32Array(J));this.hitDetectionEnabled_&&(J=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===J||(this.hitRenderInstructions_=new Float32Array(J)));var r;const z=[],G=[];let T=0,R=0;for(var ca in this.featureCache_)if(J=this.featureCache_[ca],(r=J.geometry)&&"Point"===r.getType()){z[0]=r.getFlatCoordinates()[0];z[1]=r.getFlatCoordinates()[1];(0,e.apply)(D,z);r=(0,h.colorEncodeId)(R+6,G);this.renderInstructions_[T++]=
z[0];this.renderInstructions_[T++]=z[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[R++]=z[0],this.hitRenderInstructions_[R++]=z[1],this.hitRenderInstructions_[R++]=r[0],this.hitRenderInstructions_[R++]=r[1],this.hitRenderInstructions_[R++]=r[2],this.hitRenderInstructions_[R++]=r[3],this.hitRenderInstructions_[R++]=Number(ca));for(let M=0;M<this.customAttributes.length;M++)r=this.customAttributes[M].callback(J.feature,J.properties),this.renderInstructions_[T++]=r,this.hitDetectionEnabled_&&
(this.hitRenderInstructions_[R++]=r)}ca={id:0,type:c.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};ca.projectionTransform=D;ca.generateBuffersRun=++this.generateBuffersRun_;this.ready=!1;this.worker_.postMessage(ca,[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(ca={id:0,type:c.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,
customAttributesCount:5+this.customAttributes.length},ca.projectionTransform=D,ca.hitDetection=!0,this.worker_.postMessage(ca,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)}forEachFeatureAtCoordinate(J,D,r,z,G){(0,g.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&(J=(0,e.apply)(D.coordinateToPixelTransform,J.slice()),J=this.hitRenderTarget_.readPixel(J[0]/2,J[1]/2),J=(0,h.colorDecodeId)([J[0]/255,J[1]/255,J[2]/255,J[3]/255]),J=Math.floor(this.hitRenderInstructions_[J]).toString(),
J=this.getLayer().getSource().getFeatureByUid(J)))return z(J,this.getLayer(),null)}renderHitDetection(J,D,r,z){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(J.size[0]/2),Math.floor(J.size[1]/2)]);this.helper.useProgram(this.hitProgram_,J);this.helper.prepareDrawToRenderTarget(J,this.hitRenderTarget_,!0);this.helper.bindBuffer(this.hitVerticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.hitDetectionAttributes);do{this.helper.makeProjectionTransform(J,
this.currentTransform_);(0,e.translate)(this.currentTransform_,D*z,0);(0,e.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.applyUniforms(J);const G=this.indicesBuffer_.getSize();this.helper.drawElements(0,G)}while(++D<r)}}disposeInternal(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(J){(0,H.unlistenByKey)(J)});this.sourceListenKeys_=null;super.disposeInternal()}}A.default=F};
shadow$provide[344]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(309));var k=w(L(343)),p=L(85),q=L(97);const t=["#00f","#0ff","#0f0","#ff0","#f00"];class m extends Ka.default{constructor(f){f=f?f:{};const b=Object.assign({},f);delete b.gradient;delete b.radius;delete b.blur;delete b.weight;super(b);this.gradient_=null;this.addChangeListener("gradient",this.handleGradientChanged_);this.setGradient(f.gradient?
f.gradient:t);this.setBlur(void 0!==f.blur?f.blur:15);this.setRadius(void 0!==f.radius?f.radius:8);const c=f.weight?f.weight:"weight";this.weightFunction_="string"===typeof c?function(e){return e.get(c)}:c;this.setRenderOrder(null)}getBlur(){return this.get("blur")}getGradient(){return this.get("gradient")}getRadius(){return this.get("radius")}handleGradientChanged_(){var f=this.getGradient();const b=(0,q.createCanvasContext2D)(1,256),c=b.createLinearGradient(0,0,1,256),e=1/(f.length-1);for(let g=
0,n=f.length;g<n;++g)c.addColorStop(g*e,f[g]);b.fillStyle=c;b.fillRect(0,0,1,256);this.gradient_=b.canvas}setBlur(f){this.set("blur",f)}setGradient(f){this.set("gradient",f)}setRadius(f){this.set("radius",f)}createRenderer(){return new k.default(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(f){f=this.weightFunction_(f);return void 0!==f?(0,p.clamp)(f,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a * u_opacity;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})}renderDeclutter(){}}A.default=m};
shadow$provide[345]=function(Ka,L,sb,A){function w(z){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(z)?z:new Uint8Array(z||0);this.type=this.pos=0;this.length=this.buf.length}function k(z,G,T){var R=T.buf;var ca=R[T.pos++];var M=(ca&112)>>4;if(128>ca)return q(z,M,G);ca=R[T.pos++];M|=(ca&127)<<3;if(128>ca)return q(z,M,G);ca=R[T.pos++];M|=(ca&127)<<10;if(128>ca)return q(z,M,G);ca=R[T.pos++];M|=(ca&127)<<17;if(128>ca)return q(z,M,G);ca=R[T.pos++];M|=(ca&127)<<24;if(128>ca)return q(z,M,G);ca=R[T.pos++];
if(128>ca)return q(z,M|(ca&1)<<31,G);throw Error("Expected varint not more than 10 bytes");}function p(z){return z.type===w.Bytes?z.readVarint()+z.pos:z.pos+1}function q(z,G,T){return T?4294967296*G+(z>>>0):4294967296*(G>>>0)+(z>>>0)}function t(z,G,T){G=16383>=G?1:2097151>=G?2:268435455>=G?3:Math.floor(Math.log(G)/(7*Math.LN2));T.realloc(G);for(var R=T.pos-1;R>=z;R--)T.buf[R+G]=T.buf[R]}function m(z,G){for(var T=0;T<z.length;T++)G.writeVarint(z[T])}function f(z,G){for(var T=0;T<z.length;T++)G.writeSVarint(z[T])}
function b(z,G){for(var T=0;T<z.length;T++)G.writeFloat(z[T])}function c(z,G){for(var T=0;T<z.length;T++)G.writeDouble(z[T])}function e(z,G){for(var T=0;T<z.length;T++)G.writeBoolean(z[T])}function g(z,G){for(var T=0;T<z.length;T++)G.writeFixed32(z[T])}function n(z,G){for(var T=0;T<z.length;T++)G.writeSFixed32(z[T])}function h(z,G){for(var T=0;T<z.length;T++)G.writeFixed64(z[T])}function x(z,G){for(var T=0;T<z.length;T++)G.writeSFixed64(z[T])}function O(z,G){return(z[G]|z[G+1]<<8|z[G+2]<<16)+16777216*
z[G+3]}function H(z,G,T){z[T]=G;z[T+1]=G>>>8;z[T+2]=G>>>16;z[T+3]=G>>>24}function F(z,G){return(z[G]|z[G+1]<<8|z[G+2]<<16)+(z[G+3]<<24)}sb.exports=w;var J=L(19);w.Varint=0;w.Fixed64=1;w.Bytes=2;w.Fixed32=5;var D=1/4294967296,r="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");w.prototype={destroy:function(){this.buf=null},readFields:function(z,G,T){for(T=T||this.length;this.pos<T;){var R=this.readVarint(),ca=R>>3,M=this.pos;this.type=R&7;z(ca,G,this);this.pos===M&&this.skip(R)}return G},
readMessage:function(z,G){return this.readFields(z,G,this.readVarint()+this.pos)},readFixed32:function(){var z=O(this.buf,this.pos);this.pos+=4;return z},readSFixed32:function(){var z=F(this.buf,this.pos);this.pos+=4;return z},readFixed64:function(){var z=O(this.buf,this.pos)+4294967296*O(this.buf,this.pos+4);this.pos+=8;return z},readSFixed64:function(){var z=O(this.buf,this.pos)+4294967296*F(this.buf,this.pos+4);this.pos+=8;return z},readFloat:function(){var z=J.read(this.buf,this.pos,!0,23,4);
this.pos+=4;return z},readDouble:function(){var z=J.read(this.buf,this.pos,!0,52,8);this.pos+=8;return z},readVarint:function(z){var G=this.buf;var T=G[this.pos++];var R=T&127;if(128>T)return R;T=G[this.pos++];R|=(T&127)<<7;if(128>T)return R;T=G[this.pos++];R|=(T&127)<<14;if(128>T)return R;T=G[this.pos++];R|=(T&127)<<21;if(128>T)return R;T=G[this.pos];return k(R|(T&15)<<28,z,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var z=this.readVarint();return 1===z%2?(z+
1)/-2:z/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var z=this.readVarint()+this.pos,G=this.pos;this.pos=z;if(12<=z-G&&r)return r.decode(this.buf.subarray(G,z));for(var T=this.buf,R="";G<z;){var ca=T[G],M=null,ba=239<ca?4:223<ca?3:191<ca?2:1;if(G+ba>z)break;if(1===ba)128>ca&&(M=ca);else if(2===ba){var W=T[G+1];128===(W&192)&&(M=(ca&31)<<6|W&63,127>=M&&(M=null))}else if(3===ba){W=T[G+1];var ea=T[G+2];128===(W&192)&&128===(ea&192)&&(M=(ca&15)<<12|(W&63)<<6|ea&63,2047>=
M||55296<=M&&57343>=M)&&(M=null)}else if(4===ba){W=T[G+1];ea=T[G+2];var La=T[G+3];128===(W&192)&&128===(ea&192)&&128===(La&192)&&(M=(ca&15)<<18|(W&63)<<12|(ea&63)<<6|La&63,65535>=M||1114112<=M)&&(M=null)}null===M?(M=65533,ba=1):65535<M&&(M-=65536,R+=String.fromCharCode(M>>>10&1023|55296),M=56320|M&1023);R+=String.fromCharCode(M);G+=ba}return R},readBytes:function(){var z=this.readVarint()+this.pos,G=this.buf.subarray(this.pos,z);this.pos=z;return G},readPackedVarint:function(z,G){if(this.type!==w.Bytes)return z.push(this.readVarint(G));
var T=p(this);for(z=z||[];this.pos<T;)z.push(this.readVarint(G));return z},readPackedSVarint:function(z){if(this.type!==w.Bytes)return z.push(this.readSVarint());var G=p(this);for(z=z||[];this.pos<G;)z.push(this.readSVarint());return z},readPackedBoolean:function(z){if(this.type!==w.Bytes)return z.push(this.readBoolean());var G=p(this);for(z=z||[];this.pos<G;)z.push(this.readBoolean());return z},readPackedFloat:function(z){if(this.type!==w.Bytes)return z.push(this.readFloat());var G=p(this);for(z=
z||[];this.pos<G;)z.push(this.readFloat());return z},readPackedDouble:function(z){if(this.type!==w.Bytes)return z.push(this.readDouble());var G=p(this);for(z=z||[];this.pos<G;)z.push(this.readDouble());return z},readPackedFixed32:function(z){if(this.type!==w.Bytes)return z.push(this.readFixed32());var G=p(this);for(z=z||[];this.pos<G;)z.push(this.readFixed32());return z},readPackedSFixed32:function(z){if(this.type!==w.Bytes)return z.push(this.readSFixed32());var G=p(this);for(z=z||[];this.pos<G;)z.push(this.readSFixed32());
return z},readPackedFixed64:function(z){if(this.type!==w.Bytes)return z.push(this.readFixed64());var G=p(this);for(z=z||[];this.pos<G;)z.push(this.readFixed64());return z},readPackedSFixed64:function(z){if(this.type!==w.Bytes)return z.push(this.readSFixed64());var G=p(this);for(z=z||[];this.pos<G;)z.push(this.readSFixed64());return z},skip:function(z){z&=7;if(z===w.Varint)for(;127<this.buf[this.pos++];);else if(z===w.Bytes)this.pos=this.readVarint()+this.pos;else if(z===w.Fixed32)this.pos+=4;else if(z===
w.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+z);},writeTag:function(z,G){this.writeVarint(z<<3|G)},realloc:function(z){for(var G=this.length||16;G<this.pos+z;)G*=2;G!==this.length&&(z=new Uint8Array(G),z.set(this.buf),this.buf=z,this.length=G)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(z){this.realloc(4);H(this.buf,z,this.pos);this.pos+=4},writeSFixed32:function(z){this.realloc(4);H(this.buf,z,this.pos);this.pos+=
4},writeFixed64:function(z){this.realloc(8);H(this.buf,z&-1,this.pos);H(this.buf,Math.floor(z*D),this.pos+4);this.pos+=8},writeSFixed64:function(z){this.realloc(8);H(this.buf,z&-1,this.pos);H(this.buf,Math.floor(z*D),this.pos+4);this.pos+=8},writeVarint:function(z){z=+z||0;if(268435455<z||0>z){if(0<=z){var G=z%4294967296|0;var T=z/4294967296|0}else G=~(-z%4294967296),T=~(-z/4294967296),G^4294967295?G=G+1|0:(G=0,T=T+1|0);if(1.8446744073709552E19<=z||-1.8446744073709552E19>z)throw Error("Given varint doesn't fit into 10 bytes");
this.realloc(10);z=G;this.buf[this.pos++]=z&127|128;z>>>=7;this.buf[this.pos++]=z&127|128;z>>>=7;this.buf[this.pos++]=z&127|128;z>>>=7;this.buf[this.pos++]=z&127|128;this.buf[this.pos]=z>>>7&127;this.buf[this.pos++]|=(T&7)<<4|((T>>>=3)?128:0);T&&(this.buf[this.pos++]=T&127|((T>>>=7)?128:0),T&&(this.buf[this.pos++]=T&127|((T>>>=7)?128:0),T&&(this.buf[this.pos++]=T&127|((T>>>=7)?128:0),T&&(this.buf[this.pos++]=T&127|((T>>>=7)?128:0),T&&(this.buf[this.pos++]=T&127)))))}else this.realloc(4),this.buf[this.pos++]=
z&127|(127<z?128:0),127>=z||(this.buf[this.pos++]=(z>>>=7)&127|(127<z?128:0),127>=z||(this.buf[this.pos++]=(z>>>=7)&127|(127<z?128:0),127>=z||(this.buf[this.pos++]=z>>>7&127)))},writeSVarint:function(z){this.writeVarint(0>z?2*-z-1:2*z)},writeBoolean:function(z){this.writeVarint(!!z)},writeString:function(z){z=String(z);this.realloc(4*z.length);this.pos++;for(var G=this.pos,T=this.buf,R=this.pos,ca=0,M,ba;ca<z.length;ca++){M=z.charCodeAt(ca);if(55295<M&&57344>M)if(ba)if(56320>M){T[R++]=239;T[R++]=
191;T[R++]=189;ba=M;continue}else M=ba-55296<<10|M-56320|65536,ba=null;else{56319<M||ca+1===z.length?(T[R++]=239,T[R++]=191,T[R++]=189):ba=M;continue}else ba&&(T[R++]=239,T[R++]=191,T[R++]=189,ba=null);128>M?T[R++]=M:(2048>M?T[R++]=M>>6|192:(65536>M?T[R++]=M>>12|224:(T[R++]=M>>18|240,T[R++]=M>>12&63|128),T[R++]=M>>6&63|128),T[R++]=M&63|128)}this.pos=R;T=this.pos-G;128<=T&&t(G,T,this);this.pos=G-1;this.writeVarint(T);this.pos+=T},writeFloat:function(z){this.realloc(4);J.write(this.buf,z,this.pos,!0,
23,4);this.pos+=4},writeDouble:function(z){this.realloc(8);J.write(this.buf,z,this.pos,!0,52,8);this.pos+=8},writeBytes:function(z){var G=z.length;this.writeVarint(G);this.realloc(G);for(var T=0;T<G;T++)this.buf[this.pos++]=z[T]},writeRawMessage:function(z,G){this.pos++;var T=this.pos;z(G,this);z=this.pos-T;128<=z&&t(T,z,this);this.pos=T-1;this.writeVarint(z);this.pos+=z},writeMessage:function(z,G,T){this.writeTag(z,w.Bytes);this.writeRawMessage(G,T)},writePackedVarint:function(z,G){G.length&&this.writeMessage(z,
m,G)},writePackedSVarint:function(z,G){G.length&&this.writeMessage(z,f,G)},writePackedBoolean:function(z,G){G.length&&this.writeMessage(z,e,G)},writePackedFloat:function(z,G){G.length&&this.writeMessage(z,b,G)},writePackedDouble:function(z,G){G.length&&this.writeMessage(z,c,G)},writePackedFixed32:function(z,G){G.length&&this.writeMessage(z,g,G)},writePackedSFixed32:function(z,G){G.length&&this.writeMessage(z,n,G)},writePackedFixed64:function(z,G){G.length&&this.writeMessage(z,h,G)},writePackedSFixed64:function(z,
G){G.length&&this.writeMessage(z,x,G)},writeBytesField:function(z,G){this.writeTag(z,w.Bytes);this.writeBytes(G)},writeFixed32Field:function(z,G){this.writeTag(z,w.Fixed32);this.writeFixed32(G)},writeSFixed32Field:function(z,G){this.writeTag(z,w.Fixed32);this.writeSFixed32(G)},writeFixed64Field:function(z,G){this.writeTag(z,w.Fixed64);this.writeFixed64(G)},writeSFixed64Field:function(z,G){this.writeTag(z,w.Fixed64);this.writeSFixed64(G)},writeVarintField:function(z,G){this.writeTag(z,w.Varint);this.writeVarint(G)},
writeSVarintField:function(z,G){this.writeTag(z,w.Varint);this.writeSVarint(G)},writeStringField:function(z,G){this.writeTag(z,w.Bytes);this.writeString(G)},writeFloatField:function(z,G){this.writeTag(z,w.Fixed32);this.writeFloat(G)},writeDoubleField:function(z,G){this.writeTag(z,w.Fixed64);this.writeDouble(G)},writeBooleanField:function(z,G){this.writeVarintField(z,!!G)}}};
shadow$provide[346]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(128));var w=L(84),k=L(130),p=L(126);class q extends Ka.default{constructor(t,m,f){super();void 0!==f&&void 0===m?this.setFlatCoordinates(f,t):this.setCenterAndRadius(t,m?m:0,f)}clone(){const t=new q(this.flatCoordinates.slice(),void 0,this.layout);t.applyProperties(this);return t}closestPointXY(t,m,f,b){const c=this.flatCoordinates;t-=c[0];
const e=m-c[1];m=t*t+e*e;if(m<b){if(0===m)for(b=0;b<this.stride;++b)f[b]=c[b];else for(b=this.getRadius()/Math.sqrt(m),f[0]=c[0]+b*t,f[1]=c[1]+b*e,b=2;b<this.stride;++b)f[b]=c[b];f.length=this.stride;return m}return b}containsXY(t,m){const f=this.flatCoordinates;t-=f[0];m-=f[1];return t*t+m*m<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const m=this.flatCoordinates,f=m[this.stride]-m[0];return(0,w.createOrUpdate)(m[0]-f,m[1]-f,m[0]+f,m[1]+
f,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],m=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+m*m}getType(){return"Circle"}intersectsExtent(t){var m=this.getExtent();return(0,w.intersects)(t,m)?(m=this.getCenter(),t[0]<=m[0]&&t[2]>=m[0]||t[1]<=m[1]&&t[3]>=m[1]?!0:(0,w.forEachCorner)(t,this.intersectsCoordinate.bind(this))):!1}setCenter(t){const m=this.stride;var f=this.flatCoordinates[m]-
this.flatCoordinates[0];const b=t.slice();b[m]=b[0]+f;for(f=1;f<m;++f)b[m+f]=t[f];this.setFlatCoordinates(this.layout,b);this.changed()}setCenterAndRadius(t,m,f){this.setLayout(f,t,0);this.flatCoordinates||(this.flatCoordinates=[]);f=this.flatCoordinates;t=(0,k.deflateCoordinate)(f,0,t,this.stride);f[t++]=f[0]+m;for(let b=1,c=this.stride;b<c;++b)f[t++]=f[b];f.length=t;this.changed()}getCoordinates(){return null}setCoordinates(t,m){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+
t;this.changed()}rotate(t,m){const f=this.getCenter(),b=this.getStride();this.setCenter((0,p.rotate)(f,0,f.length,b,t,m,f));this.changed()}translate(t,m){const f=this.getCenter(),b=this.getStride();this.setCenter((0,p.translate)(f,0,f.length,b,t,m,f));this.changed()}}A.default=q};
shadow$provide[347]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(A,"__esModule",{value:!0});Object.defineProperty(A,"Circle",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(A,"Geometry",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(A,"GeometryCollection",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(A,"LinearRing",{enumerable:!0,get:function(){return t.default}});Object.defineProperty(A,
"LineString",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(A,"MultiLineString",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(A,"MultiPoint",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(A,"MultiPolygon",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(A,"Point",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(A,"Polygon",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(A,
"SimpleGeometry",{enumerable:!0,get:function(){return n.default}});var k=w(L(346)),p=w(L(127)),q=w(L(170)),t=w(L(134)),m=w(L(173)),f=w(L(174)),b=w(L(175)),c=w(L(177)),e=w(L(135)),g=w(L(142)),n=w(L(128))};
shadow$provide[348]=function(Ka,L,sb,A){function w(O){var H=O.getType();switch(H){case "Point":return new p.Point(O.getFlatCoordinates());case "MultiPoint":return new p.MultiPoint(O.getFlatCoordinates(),"XY");case "LineString":return new p.LineString(O.getFlatCoordinates(),"XY");case "MultiLineString":return new p.MultiLineString(O.getFlatCoordinates(),"XY",O.getEnds());case "Polygon":H=O.getFlatCoordinates();O=O.getEnds();const F=(0,c.inflateEnds)(H,O);return 1<F.length?new p.MultiPolygon(H,"XY",
F):new p.Polygon(H,"XY",O);default:throw Error("Invalid geometry type:"+H);}}Object.defineProperty(A,"__esModule",{value:!0});A.toGeometry=w;A.toFeature=function(O,H){const F=O.getId(),J=w(O);O=O.getProperties();const D=new k.default;void 0!==H&&D.setGeometryName(H);D.setGeometry(J);void 0!==F&&D.setId(F);D.setProperties(O,!0);return D};A.default=void 0;var k=function(O){return O&&O.__esModule?O:{default:O}}(L(169)),p=L(347),q=L(82),t=L(84),m=L(68),f=L(137),b=L(121),c=L(141),e=L(171),g=L(176),n=L(126);
const h=(0,q.create)();class x{constructor(O,H,F,J,D){this.id_=D;this.type_=O;this.flatCoordinates_=H;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=F;this.properties_=J}get(O){return this.properties_[O]}getExtent(){this.extent_||(this.extent_="Point"===this.type_?(0,t.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,t.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2));return this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const O=
(0,t.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,f.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,O,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const O=(0,g.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,f.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,O)}return this.flatInteriorPoints_}getFlatMidpoint(){this.flatMidpoints_||(this.flatMidpoints_=(0,e.interpolatePoint)(this.flatCoordinates_,
0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const H=this.flatCoordinates_;var O=0;const F=this.ends_;for(let J=0,D=F.length;J<D;++J){const r=F[J];O=(0,e.interpolatePoint)(H,O,r,2,.5);(0,m.extend)(this.flatMidpoints_,O);O=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(O){return this}simplifyTransformed(O,
H){return this}getProperties(){return this.properties_}getStride(){return 2}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(O){O=(0,b.get)(O);var H=O.getExtent();O=O.getWorldExtent();H&&O&&(H=(0,t.getHeight)(O)/(0,t.getHeight)(H),(0,q.compose)(h,O[0],O[3],H,-H,0,0,0),(0,n.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,h,this.flatCoordinates_))}getEnds(){return this.ends_}}x.prototype.getEndss=x.prototype.getEnds;x.prototype.getFlatCoordinates=
x.prototype.getOrientedFlatCoordinates;A.default=x};
shadow$provide[349]=function(Ka,L,sb,A){function w(r){return r&&r.__esModule?r:{default:r}}function k(r){if("function"!==typeof WeakMap)return null;var z=new WeakMap,G=new WeakMap;return(k=function(T){return T?G:z})(r)}function p(r,z,G){if(3===r){r={keys:[],values:[],features:[]};const T=G.readVarint()+G.pos;G.readFields(q,r,T);r.length=r.features.length;r.length&&(z[r.name]=r)}}function q(r,z,G){if(15===r)z.version=G.readVarint();else if(1===r)z.name=G.readString();else if(5===r)z.extent=G.readVarint();
else if(2===r)z.features.push(G.pos);else if(3===r)z.keys.push(G.readString());else if(4===r){r=null;const T=G.readVarint()+G.pos;for(;G.pos<T;)r=G.readVarint()>>3,r=1===r?G.readString():2===r?G.readFloat():3===r?G.readDouble():4===r?G.readVarint64():5===r?G.readVarint():6===r?G.readSVarint():7===r?G.readBoolean():null;z.values.push(r)}}function t(r,z,G){if(1==r)z.id=G.readVarint();else if(2==r)for(r=G.readVarint()+G.pos;G.pos<r;){const T=z.layer.keys[G.readVarint()],R=z.layer.values[G.readVarint()];
z.properties[T]=R}else 3==r?z.type=G.readVarint():4==r&&(z.geometry=G.pos)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var m=function(r,z){if(!z&&r&&r.__esModule)return r;if(null===r||"object"!==typeof r&&"function"!==typeof r)return{default:r};if((z=k(z))&&z.has(r))return z.get(r);var G={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor,R;for(R in r)if("default"!==R&&Object.prototype.hasOwnProperty.call(r,R)){var ca=T?Object.getOwnPropertyDescriptor(r,R):null;ca&&(ca.get||
ca.set)?Object.defineProperty(G,R,ca):G[R]=r[R]}G.default=r;z&&z.set(r,G);return G}(L(178)),f=w(L(173)),b=w(L(174)),c=w(L(175)),e=w(L(177)),g=w(L(345)),n=w(L(135)),h=w(L(142)),x=w(L(115)),O=w(L(348)),H=L(81),F=L(121),J=L(141);class D extends m.default{constructor(r){super();r=r?r:{};this.dataProjection=new x.default({code:"",units:"tile-pixels"});this.featureClass_=r.featureClass?r.featureClass:O.default;this.geometryName_=r.geometryName;this.layerName_=r.layerName?r.layerName:"layer";this.layers_=
r.layers?r.layers:null;this.idProperty_=r.idProperty;this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(r,z,G,T){r.pos=z.geometry;z=r.readVarint()+r.pos;let R=1;var ca=0;let M=0,ba=0,W=0,ea=0;for(;r.pos<z;)ca||(ca=r.readVarint(),R=ca&7,ca>>=3),ca--,1===R||2===R?(M+=r.readSVarint(),ba+=r.readSVarint(),1===R&&W>ea&&(T.push(W),ea=W),G.push(M,ba),W+=2):7===R?W>ea&&(G.push(G[ea],G[ea+1]),W+=2):(0,H.assert)(!1,59);W>ea&&T.push(W)}createFeature_(r,z,
G){var T=z.type;if(0===T)return null;const R=z.properties;let ca;this.idProperty_?(ca=R[this.idProperty_],delete R[this.idProperty_]):ca=z.id;R[this.layerName_]=z.layer.name;var M=[];var ba=[];this.readRawGeometry_(r,z,M,ba);r=ba.length;let W;1===T?W=1===r?"Point":"MultiPoint":2===T?W=1===r?"LineString":"MultiLineString":3===T&&(W="Polygon");T=W;this.featureClass_===O.default?(M=new this.featureClass_(T,M,ba,R,ca),M.transform(G.dataProjection)):("Polygon"==T?(T=(0,J.inflateEnds)(M,ba),ba=1<T.length?
new e.default(M,"XY",T):new h.default(M,"XY",ba)):ba="Point"===T?new n.default(M,"XY"):"LineString"===T?new f.default(M,"XY"):"MultiPoint"===T?new c.default(M,"XY"):"MultiLineString"===T?new b.default(M,"XY",ba):null,M=new this.featureClass_,this.geometryName_&&M.setGeometryName(this.geometryName_),G=(0,m.transformGeometryWithOptions)(ba,!1,G),M.setGeometry(G),void 0!==ca&&M.setId(ca),M.setProperties(R,!0));return M}getType(){return"arraybuffer"}readFeatures(r,z){const G=this.layers_;z=this.adaptOptions(z);
const T=(0,F.get)(z.dataProjection);T.setWorldExtent(z.extent);z.dataProjection=T;r=new g.default(r);const R=r.readFields(p,{}),ca=[];for(const W in R){if(G&&!G.includes(W))continue;const ea=R[W];T.setExtent(ea?[0,0,ea.extent,ea.extent]:null);for(let La=0,aa=ea.length;La<aa;++La){var M=r,ba=ea;M.pos=ba.features[La];const C=M.readVarint()+M.pos;ba={layer:ba,type:0,properties:{}};M.readFields(t,ba,C);M=this.createFeature_(r,ba,z);null!==M&&ca.push(M)}}return ca}readProjection(r){return this.dataProjection}setLayers(r){this.layers_=
r}}A.default=D};
shadow$provide[350]=function(Ka,L,sb,A){function w(H){return H&&H.__esModule?H:{default:H}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(318)),p=w(L(321));Ka=w(L(283));var q=w(L(109)),t=w(L(111)),m=L(324),f=L(82),b=L(84),c=L(325),e=L(75),g=L(167),n=L(93);const h={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},x={hybrid:["Image","Text","Default"],vector:"Polygon Circle LineString Image Text Default".split(" ")};class O extends Ka.default{constructor(H){super(H);
this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this);this.renderedPixelToCoordinateTransform_=null;this.tmpTransform_=(0,f.create)()}prepareTile(H,F,J){let D;const r=H.getState();if(r===q.default.LOADED||r===q.default.ERROR)this.updateExecutorGroup_(H,F,J),this.tileImageNeedsRender_(H)&&(D=!0);return D}getTile(H,F,J,D){const r=D.pixelRatio;var z=D.viewState;const G=z.resolution;z=z.projection;const T=this.getLayer(),R=T.getSource().getTile(H,F,J,r,z);var ca=D.viewHints;if((ca=
!(ca[t.default.ANIMATING]||ca[t.default.INTERACTING]))||!R.wantedResolution)R.wantedResolution=G;this.prepareTile(R,r,z)&&(ca||8>Date.now()-D.time)&&"vector"!==T.getRenderMode()&&this.renderTileImage_(R,D);return super.getTile(H,F,J,D)}isDrawableTile(H){const F=this.getLayer();return super.isDrawableTile(H)&&("vector"===F.getRenderMode()?(0,e.getUid)(F)in H.executorGroups:H.hasContext(F))}getTileImage(H){return H.getImage(this.getLayer())}prepareFrame(H){const F=this.getLayer().getRevision();this.renderedLayerRevision_!==
F&&(this.renderedLayerRevision_=F,this.renderedTiles.length=0);return super.prepareFrame(H)}updateExecutorGroup_(H,F,J){const D=this.getLayer(),r=D.getRevision(),z=D.getRenderOrder()||null,G=H.wantedResolution,T=H.getReplayState(D);if(T.dirty||T.renderedResolution!==G||T.renderedRevision!=r||T.renderedRenderOrder!=z){var R=D.getSource(),ca=D.getDeclutter(),M=R.getTileGrid(),ba=R.getTileGridForProjection(J).getTileCoordExtent(H.wrappedTileCoord);J=R.getSourceTiles(F,J,H);var W=(0,e.getUid)(D);delete H.hitDetectionImageData[W];
H.executorGroups[W]=[];ca&&(H.declutterExecutorGroups[W]=[]);T.dirty=!1;for(let Y=0,Aa=J.length;Y<Aa;++Y){var ea=J[Y];if(ea.getState()!=q.default.LOADED)continue;var La=M.getTileCoordExtent(ea.tileCoord),aa=(0,b.getIntersection)(ba,La),C=(0,b.buffer)(aa,D.getRenderBuffer()*G,this.tmpExtent);La=(0,b.equals)(La,aa)?null:C;const sa=new k.default(0,C,G,F);C=ca?new k.default(0,aa,G,F):void 0;const la=(0,c.getSquaredTolerance)(G,F);ea=ea.getFeatures();z&&z!==T.renderedRenderOrder&&ea.sort(z);for(let Ia=
0,bb=ea.length;Ia<bb;++Ia){var B=ea[Ia];if(!La||(0,b.intersects)(La,B.getGeometry().getExtent())){var N=void 0;const ib=B.getStyleFunction()||D.getStyleFunction();ib&&(N=ib(B,G));N&&(N=this.renderFeature(B,la,N,sa,C),T.dirty=T.dirty||N)}}La=sa.finish();aa="vector"!==D.getRenderMode()&&ca&&1===J.length?null:aa;aa=new p.default(aa,G,F,R.getOverlaps(),La,D.getRenderBuffer());H.executorGroups[W].push(aa);C&&(aa=new p.default(null,G,F,R.getOverlaps(),C.finish(),D.getRenderBuffer()),H.declutterExecutorGroups[W].push(aa))}T.renderedRevision=
r;T.renderedRenderOrder=z;T.renderedResolution=G}}forEachFeatureAtCoordinate(H,F,J,D,r){const z=F.viewState.resolution,G=F.viewState.rotation;J=void 0==J?0:J;const T=this.getLayer(),R=T.getSource().getTileGridForProjection(F.viewState.projection),ca=(0,b.boundingExtent)([H]);(0,b.buffer)(ca,z*J,ca);const M={},ba=function(aa,C,B){let N=aa.getId();void 0===N&&(N=(0,e.getUid)(aa));const Y=M[N];if(!Y){if(0===B)return M[N]=!0,D(aa,T,C);r.push(M[N]={feature:aa,layer:T,geometry:C,distanceSq:B,callback:D})}else if(!0!==
Y&&B<Y.distanceSq){if(0===B)return M[N]=!0,r.splice(r.lastIndexOf(Y),1),D(aa,T,C);Y.geometry=C;Y.distanceSq=B}},W=this.renderedTiles;let ea;for(let aa=0,C=W.length;!ea&&aa<C;++aa){const B=W[aa];var La=R.getTileCoordExtent(B.wrappedTileCoord);if(!(0,b.intersects)(La,ca))continue;La=(0,e.getUid)(T);const N=[B.executorGroups[La]],Y=B.declutterExecutorGroups[La];Y&&N.push(Y);N.some(Aa=>{const sa=Aa===Y?F.declutterTree.all().map(la=>la.value):null;for(let la=0,Ia=Aa.length;la<Ia;++la)if(ea=Aa[la].forEachFeatureAtCoordinate(H,
z,G,J,ba,sa))return!0})}return ea}getFeatures(H){return new Promise(function(F,J){J=this.getLayer();const D=(0,e.getUid)(J);var r=J.getSource(),z=this.renderedProjection,G=z.getExtent(),T=this.renderedResolution;const R=r.getTileGridForProjection(z);var ca=(0,f.apply)(this.renderedPixelToCoordinateTransform_,H.slice()),M=R.getTileCoordForCoordAndResolution(ca,T);let ba;for(let W=0,ea=this.renderedTiles.length;W<ea;++W)if(M.toString()===this.renderedTiles[W].tileCoord.toString()){ba=this.renderedTiles[W];
if(ba.getState()===q.default.LOADED){M=R.getTileCoordExtent(ba.tileCoord);r.getWrapX()&&z.canWrapX()&&!(0,b.containsExtent)(G,M)&&(0,n.wrapX)(ca,z);break}ba=void 0}!ba||0<ba.loadingSourceTiles?F([]):(z=R.getTileCoordExtent(ba.wrappedTileCoord),z=(0,b.getTopLeft)(z),ca=[(ca[0]-z[0])/T,(z[1]-ca[1])/T],z=ba.getSourceTiles().reduce(function(W,ea){return W.concat(ea.getFeatures())},[]),G=ba.hitDetectionImageData[D],G||this.animatingOrInteracting_||(r=(0,g.toSize)(R.getTileSize(R.getZForResolution(T,r.zDirection))),
G=this.renderedRotation_,T=[this.getRenderTransform(R.getTileCoordCenter(ba.wrappedTileCoord),T,0,m.HIT_DETECT_RESOLUTION,r[0]*m.HIT_DETECT_RESOLUTION,r[1]*m.HIT_DETECT_RESOLUTION,0)],G=(0,m.createHitDetectionImageData)(r,T,z,J.getStyleFunction(),R.getTileCoordExtent(ba.wrappedTileCoord),ba.getReplayState(J).renderedResolution,G),ba.hitDetectionImageData[D]=G),F((0,m.hitDetect)(ca,z,G)))}.bind(this))}handleFontsChanged(){const H=this.getLayer();H.getVisible()&&void 0!==this.renderedLayerRevision_&&
H.changed()}handleStyleImageChange_(H){this.renderIfReadyAndVisible()}renderDeclutter(H){const F=this.context,J=F.globalAlpha;F.globalAlpha=this.getLayer().getOpacity();var D=H.viewHints;D=!(D[t.default.ANIMATING]||D[t.default.INTERACTING]);const r=this.renderedTiles;for(let z=0,G=r.length;z<G;++z){const T=r[z],R=T.declutterExecutorGroups[(0,e.getUid)(this.getLayer())];if(R)for(let ca=R.length-1;0<=ca;--ca)R[ca].execute(this.context,1,this.getTileRenderTransform(T,H),H.viewState.rotation,D,void 0,
H.declutterTree)}F.globalAlpha=J}getTileRenderTransform(H,F){const J=F.pixelRatio;var D=F.viewState;const r=D.center,z=D.resolution;D=D.rotation;var G=F.size;const T=Math.round(G[0]*J);G=Math.round(G[1]*J);F=this.getLayer().getSource().getTileGridForProjection(F.viewState.projection);const R=H.tileCoord;H=F.getTileCoordExtent(H.wrappedTileCoord);H=F.getTileCoordExtent(R,this.tmpExtent)[0]-H[0];return(0,f.multiply)((0,f.scale)(this.inversePixelTransform.slice(),1/J,1/J),this.getRenderTransform(r,z,
D,J,T,G,H))}postRender(H,F){var J=F.viewHints;J=!(J[t.default.ANIMATING]||J[t.default.INTERACTING]);this.renderedPixelToCoordinateTransform_=F.pixelToCoordinateTransform.slice();this.renderedRotation_=F.viewState.rotation;const D=this.getLayer();var r=D.getRenderMode();const z=H.globalAlpha;H.globalAlpha=D.getOpacity();const G=x[r];var T=F.viewState;r=T.rotation;var R=D.getSource();T=R.getTileGridForProjection(T.projection).getZForResolution(T.resolution,R.zDirection);R=this.renderedTiles;const ca=
[],M=[];let ba=!0;for(let ea=R.length-1;0<=ea;--ea){var W=R[ea];ba=ba&&!W.getReplayState(D).dirty;const La=W.executorGroups[(0,e.getUid)(D)].filter(N=>N.hasExecutors(G));if(0===La.length)continue;const aa=this.getTileRenderTransform(W,F);W=W.tileCoord[0];let C=!1;const B=La[0].getClipCoords(aa);if(B){for(let N=0,Y=ca.length;N<Y;++N)if(T!==W&&W<M[N]){const Aa=ca[N];(0,b.intersects)([B[0],B[3],B[4],B[7]],[Aa[0],Aa[3],Aa[4],Aa[7]])&&(C||(H.save(),C=!0),H.beginPath(),H.moveTo(B[0],B[1]),H.lineTo(B[2],
B[3]),H.lineTo(B[4],B[5]),H.lineTo(B[6],B[7]),H.moveTo(Aa[6],Aa[7]),H.lineTo(Aa[4],Aa[5]),H.lineTo(Aa[2],Aa[3]),H.lineTo(Aa[0],Aa[1]),H.clip())}ca.push(B);M.push(W)}for(let N=0,Y=La.length;N<Y;++N)La[N].execute(H,1,aa,r,J,G);C&&H.restore()}H.globalAlpha=z;this.ready=ba;super.postRender(H,F)}renderFeature(H,F,J,D,r){if(!J)return!1;let z=!1;if(Array.isArray(J))for(let G=0,T=J.length;G<T;++G)z=(0,c.renderFeature)(D,H,J[G],F,this.boundHandleStyleImageChange_,void 0,r)||z;else z=(0,c.renderFeature)(D,
H,J,F,this.boundHandleStyleImageChange_,void 0,r);return z}tileImageNeedsRender_(H){var F=this.getLayer();if("vector"===F.getRenderMode())return!1;const J=H.getReplayState(F);F=F.getRevision();return J.renderedTileResolution!==H.wantedResolution||J.renderedTileRevision!==F}renderTileImage_(H,F){const J=this.getLayer(),D=H.getReplayState(J);var r=J.getRevision();const z=H.executorGroups[(0,e.getUid)(J)];D.renderedTileRevision=r;r=H.wrappedTileCoord;var G=r[0];const T=J.getSource();var R=F.pixelRatio;
const ca=F.viewState.projection;var M=T.getTileGridForProjection(ca),ba=M.getResolution(H.tileCoord[0]);ba*=F.pixelRatio/H.wantedResolution;const W=M.getResolution(G);F=H.getContext(J);R=Math.round(Math.max(R,ba/R));G=T.getTilePixelSize(G,R,ca);F.canvas.width=G[0];F.canvas.height=G[1];R/=ba;1!==R&&(G=(0,f.reset)(this.tmpTransform_),(0,f.scale)(G,R,R),F.setTransform.apply(F,G));r=M.getTileCoordExtent(r,this.tmpExtent);M=ba/W;ba=(0,f.reset)(this.tmpTransform_);(0,f.scale)(ba,M,-M);(0,f.translate)(ba,
-r[0],-r[3]);for(let ea=0,La=z.length;ea<La;++ea)z[ea].execute(F,R,ba,0,!0,h[J.getRenderMode()]);D.renderedTileResolution=H.wantedResolution}}A.default=O};
shadow$provide[351]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(309));var k=w(L(350)),p=w(L(281)),q=L(81);class t extends Ka.default{constructor(m){m=m?m:{};var f=Object.assign({},m);delete f.preload;delete f.useInterimTilesOnError;super(f);f=m.renderMode||"hybrid";(0,q.assert)("hybrid"==f||"vector"==f,28);this.renderMode_=f;this.setPreload(m.preload?m.preload:0);this.setUseInterimTilesOnError(void 0!==
m.useInterimTilesOnError?m.useInterimTilesOnError:!0);this.setBackground}createRenderer(){return new k.default(this)}getFeatures(m){return super.getFeatures(m)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(p.default.PRELOAD)}getUseInterimTilesOnError(){return this.get(p.default.USE_INTERIM_TILES_ON_ERROR)}setPreload(m){this.set(p.default.PRELOAD,m)}setUseInterimTilesOnError(m){this.set(p.default.USE_INTERIM_TILES_ON_ERROR,m)}}A.default=t};
shadow$provide[352]=function(Ka,L,sb,A){function w(q){return"string"===typeof q?(q=JSON.parse(q))?q:null:null!==q?q:null}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(178));var k=L(75);class p extends Ka.default{constructor(){super()}getType(){return"json"}readFeature(q,t){return this.readFeatureFromObject(w(q),this.getReadOptions(q,t))}readFeatures(q,t){return this.readFeaturesFromObject(w(q),this.getReadOptions(q,t))}readFeatureFromObject(q,
t){return(0,k.abstract)()}readFeaturesFromObject(q,t){return(0,k.abstract)()}readGeometry(q,t){return this.readGeometryFromObject(w(q),this.getReadOptions(q,t))}readGeometryFromObject(q,t){return(0,k.abstract)()}readProjection(q){return this.readProjectionFromObject(w(q))}readProjectionFromObject(q){return(0,k.abstract)()}writeFeature(q,t){return JSON.stringify(this.writeFeatureObject(q,t))}writeFeatureObject(q,t){return(0,k.abstract)()}writeFeatures(q,t){return JSON.stringify(this.writeFeaturesObject(q,
t))}writeFeaturesObject(q,t){return(0,k.abstract)()}writeGeometry(q,t){return JSON.stringify(this.writeGeometryObject(q,t))}writeGeometryObject(q,t){return(0,k.abstract)()}}A.default=p};
shadow$provide[353]=function(Ka,L,sb,A){function w(D){return D&&D.__esModule?D:{default:D}}function k(D,r){if(!D)return null;switch(D.type){case "Point":D=new n.default(D.coordinates);break;case "LineString":D=new b.default(D.coordinates);break;case "Polygon":D=new h.default(D.coordinates);break;case "MultiPoint":D=new e.default(D.coordinates);break;case "MultiLineString":D=new c.default(D.coordinates);break;case "MultiPolygon":D=new g.default(D.coordinates);break;case "GeometryCollection":D=p(D);
break;default:throw Error("Unsupported GeoJSON type: "+D.type);}return(0,F.transformGeometryWithOptions)(D,!1,r)}function p(D,r){D=D.geometries.map(function(z){return k(z,r)});return new f.default(D)}function q(D,r){D=(0,F.transformGeometryWithOptions)(D,!0,r);const z=D.getType();switch(z){case "Point":D={type:"Point",coordinates:D.getCoordinates()};break;case "LineString":D={type:"LineString",coordinates:D.getCoordinates()};break;case "Polygon":let G;r&&(G=r.rightHanded);D={type:"Polygon",coordinates:D.getCoordinates(G)};
break;case "MultiPoint":D={type:"MultiPoint",coordinates:D.getCoordinates()};break;case "MultiLineString":D={type:"MultiLineString",coordinates:D.getCoordinates()};break;case "MultiPolygon":let T;r&&(T=r.rightHanded);D={type:"MultiPolygon",coordinates:D.getCoordinates(T)};break;case "GeometryCollection":D=t(D,r);break;case "Circle":D={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+z);}return D}function t(D,r){r=Object.assign({},r);delete r.featureProjection;
return{type:"GeometryCollection",geometries:D.getGeometriesArray().map(function(z){return q(z,r)})}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var m=w(L(169)),f=w(L(170));Ka=w(L(352));var b=w(L(173)),c=w(L(174)),e=w(L(175)),g=w(L(177)),n=w(L(135)),h=w(L(142)),x=L(81),O=L(121),H=L(70),F=L(178);class J extends Ka.default{constructor(D){D=D?D:{};super();this.dataProjection=(0,O.get)(D.dataProjection?D.dataProjection:"EPSG:4326");D.featureProjection&&(this.defaultFeatureProjection=
(0,O.get)(D.featureProjection));this.geometryName_=D.geometryName;this.extractGeometryName_=D.extractGeometryName;this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(D,r){D="Feature"===D.type?D:{type:"Feature",geometry:D,properties:null};r=k(D.geometry,r);const z=new m.default;this.geometryName_?z.setGeometryName(this.geometryName_):this.extractGeometryName_&&z.setGeometryName(D.geometry_name);z.setGeometry(r);"id"in D&&z.setId(D.id);D.properties&&z.setProperties(D.properties,
!0);return z}readFeaturesFromObject(D,r){let z;if("FeatureCollection"===D.type){z=[];D=D.features;for(let G=0,T=D.length;G<T;++G)z.push(this.readFeatureFromObject(D[G],r))}else z=[this.readFeatureFromObject(D,r)];return z}readGeometryFromObject(D,r){return k(D,r)}readProjectionFromObject(D){D=D.crs;let r;D?"name"==D.type?r=(0,O.get)(D.properties.name):"EPSG"===D.type?r=(0,O.get)("EPSG:"+D.properties.code):(0,x.assert)(!1,36):r=this.dataProjection;return r}writeFeatureObject(D,r){r=this.adaptOptions(r);
const z={type:"Feature",geometry:null,properties:null};var G=D.getId();void 0!==G&&(z.id=G);if(!D.hasProperties())return z;G=D.getProperties();const T=D.getGeometry();T&&(z.geometry=q(T,r),delete G[D.getGeometryName()]);(0,H.isEmpty)(G)||(z.properties=G);return z}writeFeaturesObject(D,r){r=this.adaptOptions(r);const z=[];for(let G=0,T=D.length;G<T;++G)z.push(this.writeFeatureObject(D[G],r));return{type:"FeatureCollection",features:z}}writeGeometryObject(D,r){return q(D,this.adaptOptions(r))}}A.default=
J};
shadow$provide[354]=function(Ka,L,sb,A){function w(K){if("function"!==typeof WeakMap)return null;var da=new WeakMap,Ma=new WeakMap;return(w=function(fb){return fb?Ma:da})(K)}function k(K){return K&&K.__esModule?K:{default:K}}function p(K){K=Math.round(K);return 0>K?0:255<K?255:K}function q(K){return 0>K?0:1<K?1:K}function t(K){return"%"===K[K.length-1]?p(parseFloat(K)/100*255):p(parseInt(K))}function m(K){return"%"===K[K.length-1]?q(parseFloat(K)/100):q(parseFloat(K))}function f(K,da,Ma){0>Ma?Ma+=
1:1<Ma&&--Ma;return 1>6*Ma?K+(da-K)*Ma*6:1>2*Ma?da:2>3*Ma?K+(da-K)*(2/3-Ma)*6:K}function b(K){K=K.replace(/ /g,"").toLowerCase();if(K in Rd)return Rd[K].slice();if("#"===K[0])return 4===K.length?(K=parseInt(K.substr(1),16),0<=K&&4095>=K?[(K&3840)>>4|(K&3840)>>8,K&240|(K&240)>>4,K&15|(K&15)<<4,1]:null):7===K.length?(K=parseInt(K.substr(1),16),0<=K&&16777215>=K?[(K&16711680)>>16,(K&65280)>>8,K&255,1]:null):null;var da=K.indexOf("("),Ma=K.indexOf(")");if(-1!==da&&Ma+1===K.length){var fb=K.substr(0,da);
da=K.substr(da+1,Ma-(da+1)).split(",");K=1;switch(fb){case "rgba":if(4!==da.length)break;K=m(da.pop());case "rgb":if(3!==da.length)break;return[t(da[0]),t(da[1]),t(da[2]),K];case "hsla":if(4!==da.length)break;K=m(da.pop());case "hsl":if(3===da.length)return fb=(parseFloat(da[0])%360+360)%360/360,Ma=m(da[1]),da=m(da[2]),Ma=.5>=da?da*(Ma+1):da+Ma-da*Ma,da=2*da-Ma,[p(255*f(da,Ma,fb+1/3)),p(255*f(da,Ma,fb)),p(255*f(da,Ma,fb-1/3)),K]}}return null}function c(K){return"object"===typeof K?["literal",K]:K}
function e(K,da){var Ma=K.stops;if(!Ma)return g(K,da);var fb=Ma&&"object"===typeof Ma[0][0],Eb=fb||void 0!==K.property,Sb=fb||!Eb;Ma=Ma.map(function(Cc){if(!Eb&&da.tokens&&"string"===typeof Cc[1]){var Zc=Cc[0];a:{Cc=Cc[1];for(var $c=["concat"],rd=/{([^{}]+)}/g,ce=0,ze=rd.exec(Cc);null!==ze;ze=rd.exec(Cc)){var ef=Cc.slice(ce,rd.lastIndex-ze[0].length);ce=rd.lastIndex;0<ef.length&&$c.push(ef);$c.push(["get",ze[1]])}if(1!==$c.length){if(ce<Cc.length)$c.push(Cc.slice(ce));else if(2===$c.length){Cc=["to-string",
$c[1]];break a}Cc=$c}}return[Zc,Cc]}return[Cc[0],c(Cc[1])]});return fb?h(K,da,Ma):Sb?H(K,da,Ma):O(K,da,Ma)}function g(K,da){var Ma=["get",K.property];if(void 0===K.default)return"string"===da.type?["string",Ma]:Ma;if("enum"===da.type)return["match",Ma,Object.keys(da.values),Ma,K.default];K=["color"===da.type?"to-color":da.type,Ma,c(K.default)];"array"===da.type&&K.splice(1,0,da.value,da.length||null);return K}function n(K){switch(K.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";
default:return"interpolate"}}function h(K,da,Ma){for(var fb={},Eb={},Sb=[],Cc=0;Cc<Ma.length;Cc++){var Zc=Ma[Cc],$c=Zc[0].zoom;void 0===fb[$c]&&(fb[$c]={zoom:$c,type:K.type,property:K.property,default:K.default},Eb[$c]=[],Sb.push($c));Eb[$c].push([Zc[0].value,Zc[1]])}if("exponential"===D({},da)){K=[n(K),["linear"],["zoom"]];for(Ma=0;Ma<Sb.length;Ma+=1)Cc=Sb[Ma],Zc=O(fb[Cc],da,Eb[Cc]),J(K,Cc,Zc,!1);return K}K=["step",["zoom"]];for(Ma=0;Ma<Sb.length;Ma+=1)Cc=Sb[Ma],Zc=O(fb[Cc],da,Eb[Cc]),J(K,Cc,Zc,
!0);F(K);return K}function x(K,da){K=K.default;var Ma=da.default;K=c(void 0!==K?K:void 0!==Ma?Ma:void 0);return void 0===K&&"resolvedImage"===da.type?"":K}function O(K,da,Ma){var fb=D(K,da),Eb=["get",K.property];if("categorical"===fb&&"boolean"===typeof Ma[0][0]){fb=["case"];for(var Sb=0;Sb<Ma.length;Sb+=1){var Cc=Ma[Sb];fb.push(["\x3d\x3d",Eb,Cc[0]],Cc[1])}fb.push(x(K,da));return fb}if("categorical"===fb){Eb=["match",Eb];for(fb=0;fb<Ma.length;fb+=1)Sb=Ma[fb],J(Eb,Sb[0],Sb[1],!1);Eb.push(x(K,da));
return Eb}if("interval"===fb){da=["step",["number",Eb]];for(fb=0;fb<Ma.length;fb+=1)Sb=Ma[fb],J(da,Sb[0],Sb[1],!0);F(da);return void 0===K.default?da:["case",["\x3d\x3d",["typeof",Eb],"number"],da,c(K.default)]}if("exponential"===fb){da=void 0!==K.base?K.base:1;da=[n(K),1===da?["linear"]:["exponential",da],["number",Eb]];for(fb=0;fb<Ma.length;fb+=1)Sb=Ma[fb],J(da,Sb[0],Sb[1],!1);return void 0===K.default?da:["case",["\x3d\x3d",["typeof",Eb],"number"],da,c(K.default)]}throw Error("Unknown property function type "+
fb);}function H(K,da,Ma,fb){void 0===fb&&(fb=["zoom"]);var Eb=D(K,da);da=!1;if("interval"===Eb)K=["step",fb],da=!0;else if("exponential"===Eb)Eb=void 0!==K.base?K.base:1,K=[n(K),1===Eb?["linear"]:["exponential",Eb],fb];else throw Error('Unknown zoom function type "'+Eb+'"');for(fb=0;fb<Ma.length;fb+=1)Eb=Ma[fb],J(K,Eb[0],Eb[1],da);F(K);return K}function F(K){"step"===K[0]&&3===K.length&&(K.push(0),K.push(K[3]))}function J(K,da,Ma,fb){3<K.length&&da===K[K.length-2]||(fb&&2===K.length||K.push(da),K.push(Ma))}
function D(K,da){return K.type?K.type:da.expression.interpolated?"exponential":"interval"}function r(K,da){return{kind:"array",itemType:K,N:da}}function z(K){if("array"===K.kind){var da=z(K.itemType);return"number"===typeof K.N?"array\x3c"+da+", "+K.N+"\x3e":"value"===K.itemType.kind?"array":"array\x3c"+da+"\x3e"}return K.kind}function G(K,da){if("error"===da.kind)return null;if("array"===K.kind){if("array"===da.kind&&(0===da.N&&"value"===da.itemType.kind||!G(K.itemType,da.itemType))&&("number"!==
typeof K.N||K.N===da.N))return null}else{if(K.kind===da.kind)return null;if("value"===K.kind)for(var Ma=0,fb=qd;Ma<fb.length;Ma+=1)if(!G(fb[Ma],da))return null}return"Expected "+z(K)+" but found "+z(da)+" instead."}function T(K,da){return da.some(function(Ma){return Ma.kind===K.kind})}function R(K,da){return da.some(function(Ma){return"null"===Ma?null===K:"array"===Ma?Array.isArray(K):"object"===Ma?K&&!Array.isArray(K)&&"object"===typeof K:Ma===typeof K})}function ca(K,da,Ma,fb){return"number"===
typeof K&&0<=K&&255>=K&&"number"===typeof da&&0<=da&&255>=da&&"number"===typeof Ma&&0<=Ma&&255>=Ma?"undefined"===typeof fb||"number"===typeof fb&&0<=fb&&1>=fb?null:"Invalid rgba value ["+[K,da,Ma,fb].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"===typeof fb?[K,da,Ma,fb]:[K,da,Ma]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function M(K){if(null===K||"string"===typeof K||"boolean"===typeof K||"number"===typeof K||K instanceof Gd||K instanceof Yd||K instanceof
Jd||K instanceof ed)return!0;if(Array.isArray(K)){for(var da=0;da<K.length;da+=1)if(!M(K[da]))return!1;return!0}if("object"===typeof K){for(da in K)if(!M(K[da]))return!1;return!0}return!1}function ba(K){if(null===K)return Se;if("string"===typeof K)return ob;if("boolean"===typeof K)return Ea;if("number"===typeof K)return ha;if(K instanceof Gd)return Ib;if(K instanceof Yd)return Nc;if(K instanceof Jd)return Jc;if(K instanceof ed)return pd;if(Array.isArray(K)){for(var da=K.length,Ma,fb=0;fb<K.length;fb+=
1){var Eb=ba(K[fb]);if(Ma){if(Ma!==Eb){Ma=kc;break}}else Ma=Eb}return r(Ma||kc,da)}return Yb}function W(K){var da=typeof K;return null===K?"":"string"===da||"number"===da||"boolean"===da?String(K):K instanceof Gd||K instanceof Jd||K instanceof ed?K.toString():JSON.stringify(K)}function ea(K,da){K[0]=Math.min(K[0],da[0]);K[1]=Math.min(K[1],da[1]);K[2]=Math.max(K[2],da[0]);K[3]=Math.max(K[3],da[1])}function La(K,da){return K[0]<=da[0]||K[2]>=da[2]||K[1]<=da[1]||K[3]>=da[3]?!1:!0}function aa(K,da){for(var Ma=
!1,fb=0,Eb=da.length;fb<Eb;fb++)for(var Sb=da[fb],Cc=0,Zc=Sb.length;Cc<Zc-1;Cc++){var $c=Sb[Cc],rd=Sb[Cc+1],ce=K[0]-$c[0];$c=K[1]-$c[1];var ze=K[0]-rd[0];rd=K[1]-rd[1];if(0===ce*rd-ze*$c&&0>=ce*ze&&0>=$c*rd)return!1;ce=Sb[Cc];rd=Sb[Cc+1];ce[1]>K[1]!==rd[1]>K[1]&&K[0]<(rd[0]-ce[0])*(K[1]-ce[1])/(rd[1]-ce[1])+ce[0]&&(Ma=!Ma)}return Ma}function C(K,da,Ma,fb){var Eb=fb[0]-Ma[0];fb=fb[1]-Ma[1];K=(K[0]-Ma[0])*fb-Eb*(K[1]-Ma[1]);da=(da[0]-Ma[0])*fb-Eb*(da[1]-Ma[1]);return 0<K&&0>da||0>K&&0<da?!0:!1}function B(K,
da){for(var Ma=0;Ma<K.length;++Ma)if(!aa(K[Ma],da))return!1;for(Ma=0;Ma<K.length-1;++Ma){a:{var fb=K[Ma];for(var Eb=K[Ma+1],Sb=0,Cc=da;Sb<Cc.length;Sb+=1)for(var Zc=Cc[Sb],$c=0;$c<Zc.length-1;++$c){var rd=fb,ce=Eb,ze=Zc[$c],ef=Zc[$c+1],Cf=[ef[0]-ze[0],ef[1]-ze[1]],Mf=[ce[0]-rd[0],ce[1]-rd[1]];if(0===Cf[0]*Mf[1]-Cf[1]*Mf[0]?0:C(rd,ce,ze,ef)&&C(ze,ef,rd,ce)){fb=!0;break a}}fb=!1}if(fb)return!1}return!0}function N(K,da,Ma){for(var fb=[],Eb=0;Eb<K.length;Eb++){for(var Sb=[],Cc=0;Cc<K[Eb].length;Cc++){var Zc=
K[Eb][Cc];var $c=Math.pow(2,Ma.z);Zc=[Math.round((180+Zc[0])/360*$c*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Zc[1]*Math.PI/360)))/360*$c*8192)];ea(da,Zc);Sb.push(Zc)}fb.push(Sb)}return fb}function Y(K,da,Ma){for(var fb=[],Eb=0;Eb<K.length;Eb++){var Sb=N(K[Eb],da,Ma);fb.push(Sb)}return fb}function Aa(K,da,Ma,fb){if(K[0]<Ma[0]||K[0]>Ma[2]){var Eb=.5*fb,Sb=K[0]-Ma[0]>Eb?-fb:Ma[0]-K[0]>Eb?fb:0;0===Sb&&(Sb=K[0]-Ma[2]>Eb?-fb:Ma[2]-K[0]>Eb?fb:0);K[0]+=Sb}ea(da,K)}function sa(K,da,Ma,
fb){var Eb=8192*Math.pow(2,fb.z);fb=[8192*fb.x,8192*fb.y];var Sb=[];if(!K)return Sb;for(var Cc=0;Cc<K.length;Cc+=1)for(var Zc=0,$c=K[Cc];Zc<$c.length;Zc+=1){var rd=$c[Zc];rd=[rd.x+fb[0],rd.y+fb[1]];Aa(rd,da,Ma,Eb);Sb.push(rd)}return Sb}function la(K,da,Ma,fb){var Eb=8192*Math.pow(2,fb.z),Sb=[8192*fb.x,8192*fb.y];fb=[];if(!K)return fb;for(var Cc=0;Cc<K.length;Cc+=1){for(var Zc=[],$c=0,rd=K[Cc];$c<rd.length;$c+=1){var ce=rd[$c];ce=[ce.x+Sb[0],ce.y+Sb[1]];ea(da,ce);Zc.push(ce)}fb.push(Zc)}if(da[2]-da[0]<=
Eb/2)for(da[0]=da[1]=Infinity,da[2]=da[3]=-Infinity,K=0;K<fb.length;K+=1)for(Sb=0,Cc=fb[K];Sb<Cc.length;Sb+=1)Aa(Cc[Sb],da,Ma,Eb);return fb}function Ia(K,da){var Ma=[Infinity,Infinity,-Infinity,-Infinity],fb=[Infinity,Infinity,-Infinity,-Infinity],Eb=K.canonicalID();if(!Eb)return!1;if("Polygon"===da.type){var Sb=N(da.coordinates,fb,Eb),Cc=sa(K.geometry(),Ma,fb,Eb);if(!La(Ma,fb))return!1;for(var Zc=0;Zc<Cc.length;Zc+=1)if(!aa(Cc[Zc],Sb))return!1}if("MultiPolygon"===da.type){da=Y(da.coordinates,fb,
Eb);K=sa(K.geometry(),Ma,fb,Eb);if(!La(Ma,fb))return!1;for(Ma=0;Ma<K.length;Ma+=1){a:{fb=K[Ma];Eb=da;for(Sb=0;Sb<Eb.length;Sb++)if(aa(fb,Eb[Sb])){fb=!0;break a}fb=!1}if(!fb)return!1}}return!0}function bb(K,da){var Ma=[Infinity,Infinity,-Infinity,-Infinity],fb=[Infinity,Infinity,-Infinity,-Infinity],Eb=K.canonicalID();if(!Eb)return!1;if("Polygon"===da.type){var Sb=N(da.coordinates,fb,Eb),Cc=la(K.geometry(),Ma,fb,Eb);if(!La(Ma,fb))return!1;for(var Zc=0;Zc<Cc.length;Zc+=1)if(!B(Cc[Zc],Sb))return!1}if("MultiPolygon"===
da.type){da=Y(da.coordinates,fb,Eb);K=la(K.geometry(),Ma,fb,Eb);if(!La(Ma,fb))return!1;for(Ma=0;Ma<K.length;Ma+=1){a:{fb=K[Ma];Eb=da;for(Sb=0;Sb<Eb.length;Sb++)if(B(fb,Eb[Sb])){fb=!0;break a}fb=!1}if(!fb)return!1}}return!0}function ib(K){if(K instanceof Ha&&("get"===K.name&&1===K.args.length||"feature-state"===K.name||"has"===K.name&&1===K.args.length||"properties"===K.name||"geometry-type"===K.name||"id"===K.name||/^filter-/.test(K.name))||K instanceof Fb)return!1;var da=!0;K.eachChild(function(Ma){da&&
!ib(Ma)&&(da=!1)});return da}function Ja(K){if(K instanceof Ha&&"feature-state"===K.name)return!1;var da=!0;K.eachChild(function(Ma){da&&!Ja(Ma)&&(da=!1)});return da}function ma(K,da){if(K instanceof Ha&&0<=da.indexOf(K.name))return!1;var Ma=!0;K.eachChild(function(fb){Ma&&!ma(fb,da)&&(Ma=!1)});return Ma}function Fa(K){if(K instanceof Kb)return Fa(K.boundExpression);if(K instanceof Ha&&"error"===K.name||K instanceof gb||K instanceof Fb)return!1;var da=K instanceof Pb||K instanceof Lc,Ma=!0;K.eachChild(function(fb){Ma=
da?Ma&&Fa(fb):Ma&&fb instanceof td});return Ma?ib(K)&&ma(K,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script pitch distance-from-center".split(" ")):!1}function Pa(K,da){for(var Ma=K.length-1,fb=0,Eb=Ma,Sb,Cc,Zc;fb<=Eb;)if(Sb=Math.floor((fb+Eb)/2),Cc=K[Sb],Zc=K[Sb+1],Cc<=da){if(Sb===Ma||da<Zc)return Sb;fb=Sb+1}else if(Cc>da)Eb=Sb-1;else throw new wc("Input is not a number.");return 0}function qa(K,da,Ma,fb){this.cx=3*K;this.bx=3*(Ma-K)-this.cx;this.ax=1-this.cx-
this.bx;this.cy=3*da;this.by=3*(fb-da)-this.cy;this.ay=1-this.cy-this.by;this.p1x=K;this.p1y=fb;this.p2x=Ma;this.p2y=fb}function ya(K,da,Ma){return K*(1-Ma)+da*Ma}function oa(K){return K>Fd?Math.pow(K,1/3):K/Ec+yc}function va(K){return K>fd?K*K*K:Ec*(K-yc)}function Ua(K){return 255*(.0031308>=K?12.92*K:1.055*Math.pow(K,1/2.4)-.055)}function eb(K){K/=255;return.04045>=K?K/12.92:Math.pow((K+.055)/1.055,2.4)}function ra(K){var da=eb(K.r),Ma=eb(K.g),fb=eb(K.b),Eb=oa((.4124564*da+.3575761*Ma+.1804375*
fb)/.95047),Sb=oa(.2126729*da+.7151522*Ma+.072175*fb);da=oa((.0193339*da+.119192*Ma+.9503041*fb)/1.08883);return{l:116*Sb-16,a:500*(Eb-Sb),b:200*(Sb-da),alpha:K.a}}function Oa(K){var da=(K.l+16)/116,Ma=isNaN(K.a)?da:da+K.a/500,fb=isNaN(K.b)?da:da-K.b/200;da=1*va(da);Ma=.95047*va(Ma);fb=1.08883*va(fb);return new Gd(Ua(3.2404542*Ma-1.5371385*da-.4985314*fb),Ua(-.969266*Ma+1.8760108*da+.041556*fb),Ua(.0556434*Ma-.2040259*da+1.0572252*fb),K.alpha)}function ja(K,da,Ma,fb){fb-=Ma;K-=Ma;return 0===fb?0:
1===da?K/fb:(Math.pow(da,K)-1)/(Math.pow(da,fb)-1)}function U(K,da){return"\x3d\x3d"===K||"!\x3d"===K?"boolean"===da.kind||"string"===da.kind||"number"===da.kind||"null"===da.kind||"value"===da.kind:"string"===da.kind||"number"===da.kind||"value"===da.kind}function ka(K,da,Ma,fb){return 0===fb.compare(da,Ma)}function wa(K,da,Ma){var fb="\x3d\x3d"!==K&&"!\x3d"!==K;return function(){function Eb(Sb,Cc,Zc){this.type=Ea;this.lhs=Sb;this.rhs=Cc;this.collator=Zc;this.hasUntypedArgument="value"===Sb.type.kind||
"value"===Cc.type.kind}Eb.parse=function(Sb,Cc){if(3!==Sb.length&&4!==Sb.length)return Cc.error("Expected two or three arguments.");var Zc=Sb[0],$c=Cc.parse(Sb[1],1,kc);if(!$c)return null;if(!U(Zc,$c.type))return Cc.concat(1).error('"'+Zc+"\" comparisons are not supported for type '"+z($c.type)+"'.");var rd=Cc.parse(Sb[2],2,kc);if(!rd)return null;if(!U(Zc,rd.type))return Cc.concat(2).error('"'+Zc+"\" comparisons are not supported for type '"+z(rd.type)+"'.");if($c.type.kind!==rd.type.kind&&"value"!==
$c.type.kind&&"value"!==rd.type.kind)return Cc.error("Cannot compare types '"+z($c.type)+"' and '"+z(rd.type)+"'.");fb&&("value"===$c.type.kind&&"value"!==rd.type.kind?$c=new Lc(rd.type,[$c]):"value"!==$c.type.kind&&"value"===rd.type.kind&&(rd=new Lc($c.type,[rd])));Zc=null;if(4===Sb.length){if("string"!==$c.type.kind&&"string"!==rd.type.kind&&"value"!==$c.type.kind&&"value"!==rd.type.kind)return Cc.error("Cannot use collator to compare non-string types.");Zc=Cc.parse(Sb[3],3,Nc);if(!Zc)return null}return new Eb($c,
rd,Zc)};Eb.prototype.evaluate=function(Sb){var Cc=this.lhs.evaluate(Sb),Zc=this.rhs.evaluate(Sb);if(fb&&this.hasUntypedArgument){var $c=ba(Cc),rd=ba(Zc);if($c.kind!==rd.kind||"string"!==$c.kind&&"number"!==$c.kind)throw new wc('Expected arguments for "'+K+'" to be (string, string) or (number, number), but found ('+$c.kind+", "+rd.kind+") instead.");}return this.collator&&!fb&&this.hasUntypedArgument&&($c=ba(Cc),rd=ba(Zc),"string"!==$c.kind||"string"!==rd.kind)?da(Sb,Cc,Zc):this.collator?Ma(Sb,Cc,
Zc,this.collator.evaluate(Sb)):da(Sb,Cc,Zc)};Eb.prototype.eachChild=function(Sb){Sb(this.lhs);Sb(this.rhs);this.collator&&Sb(this.collator)};Eb.prototype.outputDefined=function(){return!0};Eb.prototype.serialize=function(){var Sb=[K];this.eachChild(function(Cc){Sb.push(Cc.serialize())});return Sb};return Eb}()}function Ta(K,da){var Ma=da[0],fb=da[1],Eb=da[2];da=da[3];Ma=Ma.evaluate(K);fb=fb.evaluate(K);Eb=Eb.evaluate(K);K=da?da.evaluate(K):1;if(da=ca(Ma,fb,Eb,K))throw new wc(da);return new Gd(Ma/
255*K,fb/255*K,Eb/255*K,K)}function db(K,da){K=da[K];return"undefined"===typeof K?null:K}function lb(K){return{result:"success",value:K}}function nb(K){return{result:"error",value:K}}function Mb(K){return"object"===typeof K&&null!==K&&!Array.isArray(K)}function $b(K){return Array.isArray(K)&&0<K.length&&"string"===typeof K[0]&&K[0]in tg}function Gc(K,da){var Ma=Ob,fb=tg;if(da){var Eb={color:Ib,string:ob,number:ha,enum:ob,boolean:Ea,formatted:Jc,resolvedImage:pd};Eb="array"===da.type?r(Eb[da.value]||
kc,da.length):Eb[da.type]}else Eb=void 0;Ma=new Ma(fb,[],Eb);return(K=Ma.parse(K,void 0,void 0,void 0,da&&"string"===da.type?{typeAnnotation:"coerce"}:void 0))?lb(new Sg(K,da)):nb(Ma.errors)}function zc(K,da){K=Gc(K,da);if("error"===K.result)return K;var Ma=K.value.expression,fb=ib(Ma);if(!fb&&"data-driven"!==da["property-type"]&&"cross-faded-data-driven"!==da["property-type"])return nb([new Pd("","data expressions not supported")]);var Eb=ma(Ma,["zoom","pitch","distance-from-center"]);if(!(Eb||da.expression&&
-1<da.expression.parameters.indexOf("zoom")))return nb([new Pd("","zoom expressions not supported")]);if((Ma=Bc(Ma))||Eb){if(Ma instanceof Pd)return nb([Ma]);if(Ma instanceof vd&&(!da.expression||!da.expression.interpolated))return nb([new Pd("",'"interpolate" expressions cannot be used with this property')])}else return nb([new Pd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!Ma)return lb(fb?new ig("constant",K.value):new ig("source",K.value));
da=Ma instanceof vd?Ma.interpolation:void 0;return lb(fb?new Bf("camera",K.value,Ma.labels,da):new Bf("composite",K.value,Ma.labels,da))}function Bc(K){var da=null;if(K instanceof ee)da=Bc(K.result);else if(K instanceof Kd)for(var Ma=0,fb=K.args;Ma<fb.length&&!(da=Bc(fb[Ma]));Ma+=1);else(K instanceof oc||K instanceof vd)&&K.input instanceof Ha&&"zoom"===K.input.name&&(da=K);if(da instanceof Pd)return da;K.eachChild(function(Eb){Eb=Bc(Eb);Eb instanceof Pd?da=Eb:!da&&Eb?da=new Pd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):
da&&Eb&&da!==Eb&&(da=new Pd("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return da}function uc(K){if(Array.isArray(K))return K.map(uc);if(K instanceof Object&&!(K instanceof Number||K instanceof String||K instanceof Boolean)){var da={},Ma;for(Ma in K)da[Ma]=uc(K[Ma]);return da}K=K instanceof Number||K instanceof String||K instanceof Boolean?K.valueOf():K;return K}function id(K){if(!0===K||!1===K)return!0;if(!Array.isArray(K)||0===K.length)return!1;
switch(K[0]){case "has":return 2<=K.length&&"$id"!==K[1]&&"$type"!==K[1];case "in":return 3<=K.length&&("string"!==typeof K[1]||Array.isArray(K[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==K.length||Array.isArray(K[1])||Array.isArray(K[2]);case "any":case "all":var da=0;for(K=K.slice(1);da<K.length;da+=1){var Ma=K[da];if(!id(Ma)&&"boolean"!==typeof Ma)return!1}return!0;default:return!0}}function Hb(K,
da){void 0===da&&(da="fill");if(null===K||void 0===K)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};id(K)||(K=jd(K));var Ma=!0;try{Ma=Ab(K)}catch($c){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees\x3d\x26labels\x3d\x26template\x3dBug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n"+
JSON.stringify(K,null,2)+"\n        ")}var fb=ug["filter_"+da],Eb=Gc(Ma,fb);da=null;if("error"===Eb.result)throw Error(Eb.value.map(function($c){return $c.key+": "+$c.message}).join(", "));da=function($c,rd,ce){return Eb.value.evaluate($c,rd,{},ce)};var Sb=null,Cc=null;if(Ma!==K){var Zc=Gc(K,fb);if("error"===Zc.result)throw Error(Zc.value.map(function($c){return $c.key+": "+$c.message}).join(", "));Sb=function($c,rd,ce,ze,ef){return Zc.value.evaluate($c,rd,{},ce,void 0,void 0,ze,ef)};Cc=!ib(Zc.value.expression)}K=
Sc(Ma);return{filter:da,dynamicFilter:Sb?Sb:void 0,needGeometry:K,needFeature:!!Cc}}function Ab(K){if(!mc(K))return K;K=uc(K);Wb(K);return K=dc(K)}function dc(K){if(!Array.isArray(K))return K;K=Kc(K);return!0===K?K:K.map(function(da){return dc(da)})}function Wb(K){var da=!1,Ma=[];if("case"===K[0]){for(var fb=1;fb<K.length-1;fb+=2)da=da||mc(K[fb]),Ma.push(K[fb+1]);Ma.push(K[K.length-1])}else if("match"===K[0]){da=da||mc(K[1]);for(fb=2;fb<K.length-1;fb+=2)Ma.push(K[fb+1]);Ma.push(K[K.length-1])}else if("step"===
K[0])for(da=da||mc(K[1]),fb=1;fb<K.length-1;fb+=2)Ma.push(K[fb+1]);da&&(K.length=0,K.push.apply(K,["any"].concat(Ma)));for(da=1;da<K.length;da++)Wb(K[da])}function mc(K){if(!Array.isArray(K))return!1;var da=K[0];if("pitch"===da||"distance-from-center"===da)return!0;for(da=1;da<K.length;da++)if(mc(K[da]))return!0;return!1}function Kc(K){if(og.has(K[0]))for(var da=1;da<K.length;da++)if(mc(K[da]))return!0;return K}function Fc(K,da){return K<da?-1:K>da?1:0}function Sc(K){if(!Array.isArray(K))return!1;
if("within"===K[0])return!0;for(var da=1;da<K.length;da++)if(Sc(K[da]))return!0;return!1}function jd(K){if(!K)return!0;var da=K[0];return 1>=K.length?"any"!==da:"\x3d\x3d"===da?$d(K[1],K[2],"\x3d\x3d"):"!\x3d"===da?Ca($d(K[1],K[2],"\x3d\x3d")):"\x3c"===da||"\x3e"===da||"\x3c\x3d"===da||"\x3e\x3d"===da?$d(K[1],K[2],da):"any"===da?["any"].concat(K.slice(1).map(jd)):"all"===da?["all"].concat(K.slice(1).map(jd)):"none"===da?["all"].concat(K.slice(1).map(jd).map(Ca)):"in"===da?Ba(K[1],K.slice(2)):"!in"===
da?Ca(Ba(K[1],K.slice(2))):"has"===da?ua(K[1]):"!has"===da?Ca(ua(K[1])):"within"===da?K:!0}function $d(K,da,Ma){switch(K){case "$type":return["filter-type-"+Ma,da];case "$id":return["filter-id-"+Ma,da];default:return["filter-"+Ma,K,da]}}function Ba(K,da){if(0===da.length)return!1;switch(K){case "$type":return["filter-type-in",["literal",da]];case "$id":return["filter-id-in",["literal",da]];default:return 200<da.length&&!da.some(function(Ma){return typeof Ma!==typeof da[0]})?["filter-in-large",K,["literal",
da.sort(Fc)]]:["filter-in-small",K,["literal",da]]}}function ua(K){switch(K){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",K]}}function Ca(K){return["!",K]}function $a(K,da){var Ma={},fb;for(fb in K)"ref"!==fb&&(Ma[fb]=K[fb]);Tf.forEach(function(Eb){Eb in da&&(Ma[Eb]=da[Eb])});return Ma}function jb(K){K=K.slice();for(var da=Object.create(null),Ma=0;Ma<K.length;Ma++)da[K[Ma].id]=K[Ma];for(Ma=0;Ma<K.length;Ma++)"ref"in K[Ma]&&(K[Ma]=$a(K[Ma],da[K[Ma].ref]));return K}
function yb(K){return 0!==K.indexOf("mapbox://")?"":K.slice(9)}function Ub(K,da,Ma){var fb=yb(K);if(!fb)return decodeURI((new URL(K,Ma)).href);if(0!==fb.indexOf("sprites/"))throw Error("unexpected sprites url: "+K);K=fb.slice(8);return Ig+"/styles/v1/"+K+"/sprite?access_token\x3d"+da}function Tb(K,da){var Ma=yb(K);if(!Ma)return decodeURI((new URL(K,location.href)).href);if(0!==Ma.indexOf("styles/"))throw Error("unexpected style url: "+K);K=Ma.slice(7);return Ig+"/styles/v1/"+K+"?\x26access_token\x3d"+
da}function Vb(K,da,Ma,fb){fb=new URL(K,fb);K=yb(K);if(!K){if(!da)return decodeURI(fb.href);fb.searchParams.set(Ma,da);return decodeURI(fb.href)}return"https://{a-d}.tiles.mapbox.com/v4/"+K+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+da}function Ic(K,da){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(K,da);var Ma=document.createElement("canvas");Ma.width=K;Ma.height=da;return Ma}function Yc(K,da){for(var Ma=
0,fb=da.length;Ma<fb;++Ma)if(da[Ma]<K&&Ma+1<fb)return Ma+Math.log(da[Ma]/K)/Math.log(da[Ma]/da[Ma+1]);return fb-1}function dd(K,da,Ma){void 0===Ma&&(Ma={});if(da in Wa)return Wa[da];K=Ma.transformRequest?Ma.transformRequest(da,K)||new Request(da):new Request(da);K.headers.get("Accept")||K.headers.set("Accept","application/json");K=fetch(K).then(function(fb){delete Wa[da];return fb.ok?fb.json():Promise.reject(Error("Error fetching source "+da))}).catch(function(fb){delete Wa[da];return Promise.reject(Error("Error fetching source "+
da))});return Wa[da]=K}function nd(K,da){if("string"===typeof K)if(K.trim().startsWith("{"))try{var Ma=JSON.parse(K);return Promise.resolve(Ma)}catch(fb){return Promise.reject(fb)}else return K=Tb(K,da.accessToken),dd("Style",K,da);else return Promise.resolve(K)}function xd(K,da,Ma){void 0===Ma&&(Ma={});var fb=[da,JSON.stringify(K)].toString(),Eb=Cb[fb];if(!Eb||Ma.transformRequest){if((Eb=K.url)&&!K.tiles){var Sb=Vb(Eb,Ma.accessToken,Ma.accessTokenParam||"access_token",da||location.href);Eb=Eb.startsWith("mapbox://")?
Promise.resolve(Object.assign({},K,{url:void 0,tiles:Sb})):dd("Source",Sb,Ma).then(function(Cc){for(var Zc=0,$c=Cc.tiles.length;Zc<$c;++Zc){var rd=Cc.tiles[Zc];if(Ma.transformRequest){var ce=Ma.transformRequest(Sb,"Source");ce&&(Sb=ce.url)}rd=Vb(rd,Ma.accessToken,Ma.accessTokenParam||"access_token",Sb);Ma.transformRequest&&(ce=Ma.transformRequest(rd,"Tiles"),ce instanceof Request&&(rd=decodeURI(ce.url)));Cc.tiles[Zc]=rd}return Promise.resolve(Cc)})}else K=Object.assign({},K,{tiles:K.tiles.map(function(Cc){return Vb(Cc,
Ma.accessToken,Ma.accessTokenParam||"access_token",da||location.href)})}),Eb=Promise.resolve(Object.assign({},K));Cb[fb]=Eb}return Eb}function Nd(K,da){if(.05<=da){var Ma="";K=K.split("\n");da=hc.slice(0,Math.round(da/.1));for(var fb=0,Eb=K.length;fb<Eb;++fb)0<fb&&(Ma+="\n"),Ma+=K[fb].split("").join(da);return Ma}return K}function Xd(){yd||(yd=Ic(1,1).getContext("2d"));return yd}function ge(K,da){return Xd().measureText(K).width+(K.length-1)*da}function le(K,da,Ma,fb){if(-1!==K.indexOf("\n")){var Eb=
K.split("\n"),Sb=[];K=0;for(var Cc=Eb.length;K<Cc;++K)Sb.push(le(Eb[K],da,Ma,fb));return Sb.join("\n")}Eb=Ma+","+da+","+K+","+fb;Sb=Dd[Eb];if(!Sb){Sb=K.split(" ");if(1<Sb.length){K=Xd();K.font=da;da=K.measureText("M").width*Ma;K="";Ma=[];Cc=0;for(var Zc=Sb.length;Cc<Zc;++Cc){var $c=Sb[Cc],rd=K+(K?" ":"")+$c;ge(rd,fb)<=da?K=rd:(K&&Ma.push(K),K=$c)}K&&Ma.push(K);Sb=0;for(K=Ma.length;Sb<K&&1<K;++Sb)Cc=Ma[Sb],ge(Cc,fb)<.35*da&&(Zc=0<Sb?ge(Ma[Sb-1],fb):Infinity,$c=Sb<K-1?ge(Ma[Sb+1],fb):Infinity,Ma.splice(Sb,
1),--K,Zc<$c?(Ma[Sb-1]+=" "+Cc,--Sb):Ma[Sb]=Cc+" "+Ma[Sb]);Sb=0;for(K=Ma.length-1;Sb<K;++Sb)Zc=Ma[Sb],Cc=Ma[Sb+1],ge(Zc,fb)>.7*da&&ge(Cc,fb)<.6*da&&(Zc=Zc.split(" "),$c=Zc.pop(),ge($c,fb)<.2*da&&(Ma[Sb]=Zc.join(" "),Ma[Sb+1]=$c+" "+Cc),--K);Sb=Ma.join("\n")}else Sb=K;Sb=Nd(Sb,fb);Dd[Eb]=Sb}return Sb}function qe(K){var da=K.toString();if(da in Wg)return Wg[da];for(var Ma=[],fb=0,Eb=K.length;fb<Eb;++fb){K[fb]=K[fb].replace("Arial Unicode MS","Arial");var Sb=Mg(K[fb],1);(0,rc.registerFont)(Sb);Sb=Sb.split(" ");
Ma.push([Sb.slice(3).join(" ").replace(/"/g,""),Sb[1],Sb[0]])}fb=0;for(Eb=Ma.length;fb<Eb;++fb){Sb=Ma[fb];var Cc=Sb[0],Zc=Cc;if(!uf){uf={};for(var $c=document.styleSheets,rd=0,ce=$c.length;rd<ce;++rd){var ze=$c[rd];try{var ef=ze.rules||ze.cssRules;if(ef){ze=0;for(var Cf=ef.length;ze<Cf;++ze){var Mf=ef[ze];if(5==Mf.type){var Ke=Mf.cssText.match(ne);uf[Ke[1].replace(of,"")]=!0}}}}catch(ag){}}}Zc in uf||100===rc.checkedFonts.get(Sb[2]+"\n"+Sb[1]+" \n"+Cc)||(Sb="https://fonts.googleapis.com/css?family\x3d"+
Cc.replace(/ /g,"+")+":"+Sb[1]+Sb[2],document.querySelector('link[href\x3d"'+Sb+'"]')||(Cc=document.createElement("link"),Cc.href=Sb,Cc.rel="stylesheet",document.head.appendChild(Cc)))}return Wg[da]=K}function wd(K,da,Ma,fb,Eb,Sb,Cc){var Zc=K.id;Sb||(Sb={},console.warn("No functionCache provided to getValue()"));Sb[Zc]||(Sb[Zc]={});Sb=Sb[Zc];if(!Sb[Ma]){var $c=(K[da]||ph)[Ma];K=ug[da+"_"+K.type][Ma];void 0===$c&&($c=K.default);da=$b($c);!da&&Mb($c)&&($c=e($c,K),da=!0);da?(K=Fh($c,K),Sb[Ma]=K.evaluate.bind(K)):
("color"==K.type&&($c=Gd.parse($c)),Sb[Ma]=function(){return $c})}vg.zoom=fb;return Sb[Ma](vg,Eb,Cc)}function qf(K,da,Ma,fb){return wd(K,"layout","icon-allow-overlap",da,Ma,fb)?wd(K,"layout","icon-ignore-placement",da,Ma,fb)?"none":"obstacle":"declutter"}function gf(K,da,Ma,fb,Eb){Eb||console.warn("No filterCache provided to evaluateFilter()");K in Eb||(Eb[K]=Hb(da).filter);vg.zoom=fb;return Eb[K](vg,Ma)}function te(K,da){if(K){if(!qh&&(0===K.a||0===da))return;var Ma=K.a;return 0===Ma?"transparent":
"rgba("+Math.round(255*K.r/Ma)+","+Math.round(255*K.g/Ma)+","+Math.round(255*K.b/Ma)+","+Ma*(void 0===da?1:da)+")"}return K}function We(K,da){return K.replace(Lh,function(Ma){return da[Ma.slice(1,-1)]||""})}function za(K,da,Ma,fb,Eb,Sb,Cc){void 0===fb&&(fb=Ng);void 0===Eb&&(Eb=void 0);void 0===Sb&&(Sb=void 0);void 0===Cc&&(Cc=void 0);"string"==typeof da&&(da=JSON.parse(da));if(8!=da.version)throw Error("glStyle version 8 required.");var Zc,$c;if(Sb)if("undefined"!==typeof Image){var rd=new Image;
rd.crossOrigin="anonymous";rd.onload=function(){Zc=rd;$c=[rd.width,rd.height];K.changed();rd.onload=null};rd.src=Sb}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var ce=self;ce.postMessage({action:"loadImage",src:Sb});ce.addEventListener("message",function(zh){"imageLoaded"===zh.data.action&&zh.data.src===Sb&&(Zc=zh.data.image,$c=[Zc.width,Zc.height])})}var ze=jb(da.layers),ef={};ce=[];for(var Cf={},Mf={},Ke={},ag={},wg,vh=0,ch=ze.length;vh<ch;++vh){var dg=ze[vh],
Af=dg.id;if("string"==typeof Ma&&dg.source==Ma||-1!==Ma.indexOf(Af)){var jg=dg["source-layer"];if(!wg){wg=dg.source;var bg=da.sources[wg];if(!bg)throw Error('Source "'+wg+'" is not defined');bg=bg.type;if("vector"!==bg&&"geojson"!==bg)throw Error('Source "'+wg+'" is not of type "vector" or "geojson", but "'+bg+'"');}else if(dg.source!==wg)throw Error('Layer "'+Af+'" does not use source "'+wg);bg=ef[jg];bg||(bg=[],ef[jg]=bg);bg.push({layer:dg,index:vh});ce.push(Af)}}var qg=new Re.default,wh=new re.default,
Og=[];da=function(zh,ri){var Zh=zh.getProperties(),$h=ef[Zh.layer];if($h){var df=fb.indexOf(ri);-1==df&&(df=Yc(ri,fb));for(var Ch=Uf[zh.getGeometry().getType()],hf={properties:Zh,type:Ch},jf=K.get("mapbox-featurestate")[zh.getId()],Pg=-1,Nh,Yh=0,ai=$h.length;Yh<ai;++Yh){var dh=$h[Yh],ue=dh.layer,Je=ue.id,Df=ue.layout||ph,Pe=ue.paint||ph;if(!("none"===Df.visibility||"minzoom"in ue&&df<ue.minzoom||"maxzoom"in ue&&df>=ue.maxzoom)){var eg=ue.filter;if(!eg||gf(Je,eg,hf,df,ag)){Nh=ue;var fg=void 0,ff=eg=
void 0,Da=ff=void 0;Je=void 0;dh=dh.index;if(3==Ch&&("fill"==ue.type||"fill-extrusion"==ue.type))if(eg=wd(ue,"paint",ue.type+"-opacity",df,hf,Ke,jf),ue.type+"-pattern"in Pe){if(ff=wd(ue,"paint",ue.type+"-pattern",df,hf,Ke,jf))if(Da="string"===typeof ff?We(ff,Zh):ff.toString(),Zc&&Eb&&Eb[Da]){++Pg;Je=Og[Pg];if(!Je||!Je.getFill()||Je.getStroke()||Je.getText())Je=new af.default({fill:new re.default}),Og[Pg]=Je;ff=Je.getFill();Je.setZIndex(dh);fg=Da+"."+eg;var ab=Mf[fg];if(!ab){Da=Eb[Da];ab=Ic(Da.width,
Da.height);var xb=ab.getContext("2d");xb.globalAlpha=eg;xb.drawImage(Zc,Da.x,Da.y,Da.width,Da.height,0,0,Da.width,Da.height);ab=xb.createPattern(ab,"repeat");Mf[fg]=ab}ff.setColor(ab)}}else if(fg=te(wd(ue,"paint",ue.type+"-color",df,hf,Ke,jf),eg),ue.type+"-outline-color"in Pe&&(Da=te(wd(ue,"paint",ue.type+"-outline-color",df,hf,Ke,jf),eg)),Da||(Da=fg),fg||Da){++Pg;Je=Og[Pg];if(!Je||fg&&!Je.getFill()||!fg&&Je.getFill()||Da&&!Je.getStroke()||!Da&&Je.getStroke()||Je.getText())Je=new af.default({fill:fg?
new re.default:void 0,stroke:Da?new Re.default:void 0}),Og[Pg]=Je;fg&&(ff=Je.getFill(),ff.setColor(fg));Da&&(ff=Je.getStroke(),ff.setColor(Da),ff.setWidth(.5));Je.setZIndex(dh)}if(1!=Ch&&"line"==ue.type){fg=!("line-pattern"in Pe)&&"line-color"in Pe?te(wd(ue,"paint","line-color",df,hf,Ke,jf),wd(ue,"paint","line-opacity",df,hf,Ke,jf)):void 0;var Lb=wd(ue,"paint","line-width",df,hf,Ke,jf);if(fg&&0<Lb){++Pg;Je=Og[Pg];if(!Je||!Je.getStroke()||Je.getFill()||Je.getText())Je=new af.default({stroke:new Re.default}),
Og[Pg]=Je;ff=Je.getStroke();ff.setLineCap(wd(ue,"layout","line-cap",df,hf,Ke,jf));ff.setLineJoin(wd(ue,"layout","line-join",df,hf,Ke,jf));ff.setMiterLimit(wd(ue,"layout","line-miter-limit",df,hf,Ke,jf));ff.setColor(fg);ff.setWidth(Lb);ff.setLineDash(Pe["line-dasharray"]?wd(ue,"paint","line-dasharray",df,hf,Ke,jf).map(function(He){return He*Lb}):null);Je.setZIndex(dh)}}Da=!1;ff=null;xb=0;var pc=void 0;fg=ab=void 0;if((1==Ch||2==Ch)&&"icon-image"in Df){var sc=wd(ue,"layout","icon-image",df,hf,Ke,jf);
if(sc&&(pc="string"===typeof sc?We(sc,Zh):sc.toString(),sc=void 0,Zc&&Eb&&Eb[pc])){var Vc=wd(ue,"layout","icon-rotation-alignment",df,hf,Ke,jf);if(2==Ch){var pa=zh.getGeometry();if(pa.getFlatMidpoint||pa.getFlatMidpoints){var Ra=pa.getExtent();if(150<Math.sqrt(Math.max(Math.pow((Ra[2]-Ra[0])/ri,2),Math.pow((Ra[3]-Ra[1])/ri,2)))&&(Ra="MultiLineString"===pa.getType()?pa.getFlatMidpoints():pa.getFlatMidpoint(),nh||(Ug=[NaN,NaN],nh=new Ge.default("Point",Ug,[],{},null)),sc=nh,Ug[0]=Ra[0],Ug[1]=Ra[1],
"line"===wd(ue,"layout","symbol-placement",df,hf,Ke,jf)&&"map"===Vc)){var mb=pa.getStride();pa=pa.getFlatCoordinates();for(var pb=0,gc=pa.length-mb;pb<gc;pb+=mb){var Qc=pa[pb],Xc=pa[pb+1],Bd=pa[pb+mb],Tc=pa[pb+mb+1],Sd=Math.min(Xc,Tc),Td=Math.max(Qc,Bd),De=Math.max(Xc,Tc);if(Ra[0]>=Math.min(Qc,Bd)&&Ra[0]<=Td&&Ra[1]>=Sd&&Ra[1]<=De){xb=Math.atan2(Xc-Tc,Bd-Qc);break}}}}}if(2!==Ch||sc){if(Ra=wd(ue,"layout","icon-size",df,hf,Ke,jf),mb=void 0!==Pe["icon-color"]?wd(ue,"paint","icon-color",df,hf,Ke,jf):null,
mb&&0===mb.a||(pa=pc+"."+Ra,null!==mb&&(pa+="."+mb),ab=Cf[pa],ab||(ab=Eb[pc],pc=qf(ue,df,hf,Ke),pb=void 0,"icon-offset"in Df&&(pb=wd(ue,"layout","icon-offset",df,hf,Ke,jf),pb[1]*=-1),ab=new vf.default({color:mb?[255*mb.r,255*mb.g,255*mb.b,mb.a]:void 0,img:Zc,imgSize:$c,size:[ab.width,ab.height],offset:[ab.x,ab.y],rotateWithView:"map"===Vc,scale:Ra/ab.pixelRatio,displacement:pb,declutterMode:pc}),Cf[pa]=ab)),ab){++Pg;Je=Og[Pg];if(!Je||!Je.getImage()||Je.getFill()||Je.getStroke())Je=new af.default,
Og[Pg]=Je;Je.setGeometry(sc);ab.setRotation(xb+wd(ue,"layout","icon-rotate",df,hf,Ke,jf)*Math.PI/180);ab.setOpacity(wd(ue,"paint","icon-opacity",df,hf,Ke,jf));ab.setAnchor(Xg[wd(ue,"layout","icon-anchor",df,hf,Ke,jf)]);Je.setImage(ab);ff=Je.getText();Je.setText(void 0);Je.setZIndex(dh);Da=!0;fg=!1}}else fg=!0}}if(1==Ch&&"circle"===ue.type){++Pg;Je=Og[Pg];if(!Je||!Je.getImage()||Je.getFill()||Je.getStroke())Je=new af.default,Og[Pg]=Je;ff="circle-radius"in Pe?wd(ue,"paint","circle-radius",df,hf,Ke,
jf):5;Pe=te(wd(ue,"paint","circle-stroke-color",df,hf,Ke,jf),wd(ue,"paint","circle-stroke-opacity",df,hf,Ke,jf));Da=te(wd(ue,"paint","circle-color",df,hf,Ke,jf),wd(ue,"paint","circle-opacity",df,hf,Ke,jf));xb=wd(ue,"paint","circle-stroke-width",df,hf,Ke,jf);sc=ff+"."+Pe+"."+Da+"."+xb;ab=Cf[sc];ab||(ab=new Ce.default({radius:ff,stroke:Pe&&0<xb?new Re.default({width:xb,color:Pe}):void 0,fill:Da?new re.default({color:Da}):void 0,declutterMode:"none"}),Cf[sc]=ab);Je.setImage(ab);ff=Je.getText();Je.setText(void 0);
Je.setGeometry(void 0);Je.setZIndex(dh);Da=!0}var tf=ab=Pe=void 0,Ze=void 0,cf=void 0,Bg=void 0;if("text-field"in Df){Ze=Math.round(wd(ue,"layout","text-size",df,hf,Ke,jf));var gg=wd(ue,"layout","text-font",df,hf,Ke,jf);tf=wd(ue,"layout","text-line-height",df,hf,Ke,jf);ab=Mg(Cc?Cc(gg):gg,Ze,tf);ab.includes("sans-serif")||(ab+=",sans-serif");cf=wd(ue,"layout","text-letter-spacing",df,hf,Ke,jf);Bg=wd(ue,"layout","text-max-width",df,hf,Ke,jf);eg=wd(ue,"layout","text-field",df,hf,Ke,jf);Pe="object"===
typeof eg&&eg.sections?1===eg.sections.length?eg.toString():eg.sections.reduce(function(He,pf,Hf){Hf=pf.fontStack?pf.fontStack.split(","):gg;Hf=Mg(Cc?Cc(Hf):Hf,Ze*(pf.scale||1),tf);pf=pf.text;if("\n"===pf)return He.push("\n",""),He;if(2==Ch)He.push(Nd(pf,cf),Hf);else{pf=le(pf,Hf,Bg,cf).split("\n");for(var mg=0,ci=pf.length;mg<ci;++mg)0<mg&&He.push("\n",""),He.push(pf[mg],Hf);return He}},[]):We(eg,Zh).trim();eg=wd(ue,"paint","text-opacity",df,hf,Ke,jf)}if(Pe&&eg&&!fg){if(!Da){++Pg;Je=Og[Pg];if(!Je||
!Je.getText()||Je.getFill()||Je.getStroke())Je=new af.default,Og[Pg]=Je;Je.setImage(void 0);Je.setGeometry(void 0)}Je.getText()||Je.setText(ff||new Qb.default({padding:[2,2,2,2]}));ff=Je.getText();Df=Df["text-transform"];"uppercase"==Df?Pe=Array.isArray(Pe)?Pe.map(function(He,pf){return pf%2?He:He.toUpperCase()}):Pe.toUpperCase():"lowercase"==Df&&(Pe=Array.isArray(Pe)?Pe.map(function(He,pf){return pf%2?He:He.toLowerCase()}):Pe.toLowerCase());Vc=Array.isArray(Pe)?Pe:2==Ch?Nd(Pe,cf):le(Pe,ab,Bg,cf);
ff.setText(Vc);ff.setFont(ab);ff.setRotation(wd(ue,"layout","text-rotate",df,hf,Ke,jf)*Math.PI/180);fg=wd(ue,"layout","text-anchor",df,hf,Ke,jf);pc=Da||1==Ch?"point":wd(ue,"layout","symbol-placement",df,hf,Ke,jf);ff.setPlacement(pc);ff.setOverflow("point"===pc);Df=wd(ue,"paint","text-halo-width",df,hf,Ke,jf);Da=wd(ue,"layout","text-offset",df,hf,Ke,jf);ab=wd(ue,"paint","text-translate",df,hf,Ke,jf);sc=xb=0;"point"==pc?(Pe="center",-1!==fg.indexOf("left")?(Pe="left",sc=Df):-1!==fg.indexOf("right")&&
(Pe="right",sc=-Df),ff.setTextAlign(Pe),Pe=wd(ue,"layout","text-rotation-alignment",df,hf,Ke,jf),ff.setRotateWithView("map"==Pe)):(ff.setMaxAngle(wd(ue,"layout","text-max-angle",df,hf,Ke,jf)*Math.PI/180*Pe.length/Vc.length),ff.setTextAlign(),ff.setRotateWithView(!1));Pe="middle";0==fg.indexOf("bottom")?(Pe="bottom",xb=-Df-.5*(tf-1)*Ze):0==fg.indexOf("top")&&(Pe="top",xb=Df+.5*(tf-1)*Ze);ff.setTextBaseline(Pe);Pe=wd(ue,"layout","text-justify",df,hf,Ke,jf);ff.setJustify("auto"===Pe?void 0:Pe);ff.setOffsetX(Da[0]*
Ze+sc+ab[0]);ff.setOffsetY(Da[1]*Ze+xb+ab[1]);wh.setColor(te(wd(ue,"paint","text-color",df,hf,Ke,jf),eg));ff.setFill(wh);(eg=te(wd(ue,"paint","text-halo-color",df,hf,Ke,jf),eg))?(qg.setColor(eg),Df*=2,eg=.5*Ze,qg.setWidth(Df<=eg?Df:eg),ff.setStroke(qg)):ff.setStroke(void 0);ue=wd(ue,"layout","text-padding",df,hf,Ke,jf);eg=ff.getPadding();ue!==eg[0]&&(eg[0]=ue,eg[1]=ue,eg[2]=ue,eg[3]=ue);Je.setZIndex(dh)}}}}if(-1<Pg)return Og.length=Pg+1,uh&&("function"===typeof zh.set?zh.set("mapbox-layer",Nh):zh.getProperties()["mapbox-layer"]=
Nh),Og}};K.setStyle(da);K.set("mapbox-source",wg);K.set("mapbox-layers",ce);K.set("mapbox-featurestate",{});return da}function Za(K,da){da.accessToken||(da=Object.assign({},da),(new URL(K)).searchParams.forEach(function(Ma,fb){da.accessToken=Ma;da.accessTokenParam=fb}));return da}function tb(K,da,Ma,fb,Eb){void 0===Ma&&(Ma="");void 0===fb&&(fb={});void 0===Eb&&(Eb=void 0);var Sb;if("string"===typeof fb){var Cc=fb;var Zc={}}else Cc=fb.styleUrl,Zc=fb;Eb||(Eb=Zc.resolutions);Cc||"string"!==typeof da||
da.trim().startsWith("{")||(Cc=da);Cc&&(Cc=Cc.startsWith("data:")?location.href:Tb(Cc,Zc.accessToken),Zc=Za(Cc,Zc));return new Promise(function($c,rd){nd(da,Zc).then(function(ce){function ze(){if(K instanceof qc.default)return Dc(ce.sources[Sb],Cc,Zc).then(function(bg){var qg=K.getSource();qg?bg!==qg&&(qg.setTileUrlFunction(bg.getTileUrlFunction()),qg.format_||(qg.format_=bg.format_),qg.getAttributions()||qg.setAttributions(bg.getAttributions()),qg.getTileLoadFunction()===rb.defaultLoadFunction&&
qg.setTileLoadFunction(bg.getTileLoadFunction()),(0,Uc.equivalent)(qg.getProjection(),bg.getProjection())&&(qg.tileGrid=bg.getTileGrid())):K.setSource(bg);isFinite(K.getMaxResolution())||isFinite(K.getMinZoom())||(bg=K.getSource().getTileGrid(),K.setMaxResolution(bg.getResolution(bg.getMinZoom())))});var Af=ce.sources[Sb],jg=K.getSource();jg&&jg.get("mapbox-source")===Af||(jg=sd(Af,Cc,Zc));Af=K.getSource();Af?jg!==Af&&(Af.getAttributions()||Af.setAttributions(jg.getAttributions()),Af.format_||(Af.format_=
jg.getFormat()),Af.url_=jg.getUrl()):K.setSource(jg);return Promise.resolve()}function ef(){ag||ce.sprite&&!Mf?ag?(K.setStyle(ag),ze().then($c).catch(rd)):rd(Error("Something went wrong trying to apply style.")):(ag=za(K,ce,Ma,Eb,Mf,Ke,qe),K.getStyle()?ze().then($c).catch(rd):rd(Error("Nothing to show for source ["+Sb+"]")))}if(8!=ce.version)return rd(Error("glStyle version 8 required."));if(!(K instanceof tc.default||K instanceof qc.default))return rd(Error("Can only apply to VectorLayer or VectorTileLayer"));
var Cf=K instanceof qc.default?"vector":"geojson";Ma?Sb=Array.isArray(Ma)?ce.layers.find(function(Af){return Af.id===Ma[0]}).source:Ma:Ma=Sb=Object.keys(ce.sources).find(function(Af){return ce.sources[Af].type===Cf});if(!Sb)return rd(Error("No "+Cf+" source found in the glStyle."));var Mf,Ke,ag;if(ce.sprite){var wg=new URL(Ub(ce.sprite,Zc.accessToken,Cc||location.href));var vh=1.5<=window.devicePixelRatio?.5:1;var ch=.5==vh?"@2x":"",dg=wg.origin+wg.pathname+ch+".json"+wg.search;(new Promise(function(Af,
jg){dd("Sprite",dg,Zc).then(Af).catch(function(bg){dg=wg.origin+wg.pathname+".json"+wg.search;dd("Sprite",dg,Zc).then(Af).catch(jg)})})).then(function(Af){void 0===Af&&rd(Error("No sprites found."));Mf=Af;Ke=wg.origin+wg.pathname+ch+".png"+wg.search;Zc.transformRequest&&(Af=Zc.transformRequest(Ke,"SpriteImage"),Af instanceof Request&&(Ke=encodeURI(Af.url)));ef()}).catch(function(Af){rd(Error("Sprites cannot be loaded: "+dg+": "+Af.message))})}else ef()}).catch(rd)})}function Jb(K,da){function Ma(Sb){var Cc=
da.layout||{},Zc=da.paint||{};fb.paint=Zc;Sb="function"===typeof K.getSource?K.getSource().getTileGrid().getZForResolution(Sb):K.getView().getZoom();var $c="function"===typeof K.getTargetElement?K.getTargetElement():void 0;if(void 0!==Zc["background-color"]){var rd=wd(fb,"paint","background-color",Sb,Eh,Eb);$c&&($c.style.background=Gd.parse(rd).toString())}if(void 0!==Zc["background-opacity"]){var ce=wd(fb,"paint","background-opacity",Sb,Eh,Eb);$c&&($c.style.opacity=ce)}if("none"==Cc.visibility)$c&&
($c.style.backgroundColor="",$c.style.opacity="");else return te(rd,ce)}var fb={id:da.id,type:da.type},Eb={};if("function"===typeof K.getTargetElement)K.getTargetElement()&&Ma(),K.on(["change:resolution","change:target"],Ma);else if("function"===typeof K.setBackground)K.setBackground(Ma);else throw Error("Unable to apply background.");}function fc(K,da){da.layers.some(function(Ma){if("background"===Ma.type)return Jb(K,Ma),!0})}function nc(K,da){var Ma;K.some(function(fb){if(fb.id==da)return Ma=fb.source,
!0});return Ma}function Hc(K){var da=K.bounds;if(da)return K=(0,Uc.fromLonLat)([da[0],da[1]]),da=(0,Uc.fromLonLat)([da[2],da[3]]),[K[0],K[1],da[0],da[1]]}function Dc(K,da,Ma){return new Promise(function(fb,Eb){xd(K,da,Ma).then(function(Sb){var Cc=new zb.default({tileJSON:Sb}),Zc=Cc.getTileJSON(),$c=Cc.getTileGrid(),rd=Hc(Zc),ce=Zc.minzoom||0,ze=Zc.maxzoom||22;Cc={attributions:Cc.getAttributions(),format:new Ad.default,tileGrid:new Xa.default({origin:$c.getOrigin(0),extent:rd||$c.getExtent(),minZoom:ce,
resolutions:Ng.slice(0,ze+1),tileSize:512})};Array.isArray(Zc.tiles)?Cc.urls=Zc.tiles:Cc.url=Zc.tiles;Sb.olSourceOptions&&Object.assign(Cc,Sb.olSourceOptions);fb(new rb.default(Cc))}).catch(Eb)})}function lc(K,da,Ma){var fb=new qc.default({declutter:!0,visible:!1});Dc(K,da,Ma).then(function(Eb){Eb.set("mapbox-source",K);fb.setSource(Eb)}).catch(function(Eb){fb.setSource(void 0)});return fb}function ld(K,da,Ma){var fb=new Xb.default;xd(K,da,Ma).then(function(Eb){var Sb=new zb.default({transition:0,
crossOrigin:"anonymous",tileJSON:Eb}),Cc=Hc(Eb),Zc=Sb.getTileGrid(),$c=K.tileSize||Eb.tileSize||512,rd=Eb.minzoom||0;Eb=Eb.maxzoom||22;Sb.tileGrid=new Xa.default({origin:Zc.getOrigin(0),extent:Cc||Zc.getExtent(),minZoom:rd,resolutions:(0,ic.createXYZ)({maxZoom:Eb,tileSize:$c}).getResolutions(),tileSize:$c});var ce=Sb.getTileUrlFunction();Sb.setTileUrlFunction(function(ze,ef,Cf){ef=ce(ze,ef,Cf);-1!=ef.indexOf("{bbox-epsg-3857}")&&(ze=Sb.getTileGrid().getTileCoordExtent(ze),ef=ef.replace("{bbox-epsg-3857}",
ze.toString()));return ef});Sb.set("mapbox-source",K);fb.setSource(Sb)}).catch(function(Eb){fb.setSource(void 0)});return fb}function sd(K,da,Ma){var fb=K.data,Eb={};"string"==typeof fb?(da=Vb(fb,Ma.accessToken,Ma.accessTokenParam||"access_token",da||location.href),Ma.transformRequest&&(Ma=Ma.transformRequest(da,"GeoJSON"),Ma instanceof Request&&(da=encodeURI(Ma.url))),Eb.url=da):Eb.features=Jg.readFeatures(fb,{featureProjection:(0,Uc.getUserProjection)()||"EPSG:3857"});Eb=new gd.default(Object.assign({attributions:K.attribution,
format:Jg},Eb));Eb.set("mapbox-source",K);return Eb}function Hd(K,da,Ma,fb){Ma=Ma.getZoom();K=wd(K,"paint","raster-opacity",Ma,Eh,fb);da.setOpacity(K)}function Vd(K,da,Ma,fb){var Eb=[],Sb=da.getView();Sb.isDef()||Sb.getRotation()||Sb.getResolutions()||(Sb=new Bb.default(Object.assign(Sb.getProperties(),{maxResolution:Ng[0]})),da.setView(Sb));"center"in K&&!Sb.getCenter()&&Sb.setCenter((0,Uc.fromLonLat)(K.center));"zoom"in K&&void 0===Sb.getZoom()&&Sb.setResolution(Ng[0]/Math.pow(2,K.zoom));Sb.getCenter()&&
void 0!==Sb.getZoom()||Sb.fit(Sb.getProjection().getExtent(),{nearest:!0,size:da.getSize()});for(var Cc=K.layers,Zc=[],$c,rd,ce,ze,ef=0,Cf=Cc.length;ef<Cf;++ef){$c=Cc[ef];ce=$c.type;if("heatmap"==ce||"hillshade"==ce)throw Error(ce+" layers are not supported");"background"==ce?Jb(da,$c):(ce=$c.source||nc(Cc,$c.ref),ce!=rd&&(Zc.length&&(Eb.push(be(ze,Zc,K,Ma,da,fb)),Zc=[]),rd=K.sources[ce],"vector"==rd.type?ze=lc(rd,Ma,fb):"raster"==rd.type?(ze=ld(rd,Ma,fb),ze.setVisible($c.layout?"none"!==$c.layout.visibility:
!0),rd={},Sb.on("change:resolution",Hd.bind(this,$c,ze,Sb,rd)),Hd($c,ze,Sb,rd)):"geojson"==rd.type&&(ze=new tc.default({declutter:!0,source:sd(rd,Ma,fb),visible:!1})),rd=ce,ze&&ze.set("mapbox-source",rd)),Zc.push($c.id))}Eb.push(be(ze,Zc,K,Ma,da,fb));da.set("mapbox-style",K);return Promise.all(Eb)}function be(K,da,Ma,fb,Eb,Sb){void 0===Sb&&(Sb={});for(var Cc=24,Zc=0,$c=Ma.layers,rd=0,ce=$c.length;rd<ce;++rd){var ze=$c[rd];-1!==da.indexOf(ze.id)&&(Cc=Math.min("minzoom"in ze?ze.minzoom:0,Cc),Zc=Math.max("maxzoom"in
ze?ze.maxzoom:24,Zc))}return new Promise(function(ef,Cf){var Mf=function(){var Ke=K.getSource();if(Ke&&"error"!==Ke.getState()){if("getTileGrid"in Ke){var ag=Ke.getTileGrid();if(ag){var wg=ag.getMinZoom();(0<Cc||0<wg)&&K.setMaxResolution(Math.min(Ng[Cc],ag.getResolution(wg))+1E-9);24>Zc&&K.setMinResolution(Ng[Zc]+1E-9)}}Ke instanceof gd.default||Ke instanceof rb.default?tb(K,Ma,da,Object.assign({styleUrl:fb},Sb)).then(function(){K.setVisible(!0);ef()}).catch(Cf):ef()}else Cf(Error("Error accessing data for source "+
K.get("mapbox-source")))};K.set("mapbox-layers",da);-1===Eb.getLayers().getArray().indexOf(K)&&Eb.addLayer(K);if(K.getSource())Mf();else K.once("change:source",Mf)})}function he(K,da){var Ma=[];K=K.getAllLayers();for(var fb=0,Eb=K.length;fb<Eb;++fb)K[fb].get("mapbox-source")===da&&Ma.push(K[fb]);return Ma}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.apply=function(K,da,Ma){void 0===Ma&&(Ma={});if("string"===typeof K||K instanceof HTMLElement)K=new xa.default({target:K});if("string"===
typeof da){var fb=da.startsWith("data:")?location.href:Tb(da,Ma.accessToken);Ma=Za(fb,Ma);var Eb=new Promise(function(Sb,Cc){nd(da,Ma).then(function(Zc){Vd(Zc,K,fb,Ma).then(function(){Sb(K)}).catch(Cc)}).catch(function(Zc){Cc(Error("Could not load "+da+": "+Zc.message))})})}else Eb=new Promise(function(Sb,Cc){Vd(da,K,!Ma.styleUrl||Ma.styleUrl.startsWith("data:")?location.href:Tb(Ma.styleUrl,Ma.accessToken),Ma).then(function(){Sb(K)}).catch(Cc)});return Eb};A.applyBackground=function(K,da,Ma){void 0===
Ma&&(Ma={});return"object"===typeof da?(fc(K,da),Promise.resolve()):nd(da,Ma).then(function(fb){fc(K,fb)})};A.applyStyle=tb;A.getFeatureState=function(K,da){K="getLayers"in K?he(K,da.source):[K];for(var Ma=0,fb=K.length;Ma<fb;++Ma){var Eb=K[Ma].get("mapbox-featurestate");if(Eb&&Eb[da.id])return Eb[da.id]}return null};A.getLayer=function(K,da){K=K.getLayers().getArray();for(var Ma=0,fb=K.length;Ma<fb;++Ma){var Eb=K[Ma].get("mapbox-layers");if(Eb&&-1!==Eb.indexOf(da))return K[Ma]}};A.getLayers=he;A.getSource=
function(K,da){K=K.getLayers().getArray();for(var Ma=0,fb=K.length;Ma<fb;++Ma){var Eb=K[Ma].getSource();if(K[Ma].get("mapbox-source")===da)return Eb}};A.recordStyleLayer=function(K){void 0===K&&(K=!1);uh=K};A.renderTransparent=function(K){qh=K};A.setFeatureState=function(K,da,Ma){K="getLayers"in K?he(K,da.source):[K];for(var fb=0,Eb=K.length;fb<Eb;++fb){var Sb=K[fb].get("mapbox-featurestate");if(Sb)Ma?Sb[da.id]=Ma:delete Sb[da.id],K[fb].changed();else throw Error('Map or layer for source "'+da.source+
'" not found.');}};A.stylefunction=za;var Ce=k(L(303)),re=k(L(298)),vf=k(L(307)),Ge=k(L(348)),Re=k(L(299)),af=k(L(304)),Qb=k(L(305)),rc=L(98),bd=k(L(353)),Ad=k(L(349)),xa=k(L(168)),Xa=k(L(196)),zb=k(L(289)),Xb=k(L(284)),tc=k(L(327)),gd=k(L(211)),qc=k(L(351)),rb=function(K,da){if(!da&&K&&K.__esModule)return K;if(null===K||"object"!==typeof K&&"function"!==typeof K)return{default:K};if((da=w(da))&&da.has(K))return da.get(K);var Ma={},fb=Object.defineProperty&&Object.getOwnPropertyDescriptor,Eb;for(Eb in K)if("default"!==
Eb&&Object.prototype.hasOwnProperty.call(K,Eb)){var Sb=fb?Object.getOwnPropertyDescriptor(K,Eb):null;Sb&&(Sb.get||Sb.set)?Object.defineProperty(Ma,Eb,Sb):Ma[Eb]=K[Eb]}Ma.default=K;da&&da.set(K,Ma);return Ma}(L(294)),Bb=k(L(143)),ic=L(197),Uc=L(121),Rd={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,
1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,
140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,
248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],
lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,
112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,
152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,
206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{var Md=b}catch(K){}var Gd=function(K,da,Ma,fb){void 0===fb&&(fb=1);this.r=K;this.g=da;
this.b=Ma;this.a=fb};Gd.parse=function(K){if(K){if(K instanceof Gd)return K;if("string"===typeof K&&(K=Md(K)))return new Gd(K[0]/255*K[3],K[1]/255*K[3],K[2]/255*K[3],K[3])}};Gd.prototype.toString=function(){var K=this.toArray();return"rgba("+Math.round(K[0])+","+Math.round(K[1])+","+Math.round(K[2])+","+K[3]+")"};Gd.prototype.toArray=function(){var K=this.r,da=this.g,Ma=this.b,fb=this.a;return 0===fb?[0,0,0,0]:[255*K/fb,255*da/fb,255*Ma/fb,fb]};Gd.prototype.toArray01=function(){var K=this.r,da=this.g,
Ma=this.b,fb=this.a;return 0===fb?[0,0,0,0]:[K/fb,da/fb,Ma/fb,fb]};Gd.prototype.toArray01PremultipliedAlpha=function(){return[this.r,this.g,this.b,this.a]};Gd.black=new Gd(0,0,0,1);Gd.white=new Gd(1,1,1,1);Gd.transparent=new Gd(0,0,0,0);Gd.red=new Gd(1,0,0,1);Gd.blue=new Gd(0,0,1,1);var Pd=function(K){function da(Ma,fb){K.call(this,fb);this.message=fb;this.key=Ma}K&&(da.__proto__=K);da.prototype=Object.create(K&&K.prototype);return da.prototype.constructor=da}(Error),Me=function(K,da){void 0===da&&
(da=[]);this.parent=K;this.bindings={};for(K=0;K<da.length;K+=1){var Ma=da[K];this.bindings[Ma[0]]=Ma[1]}};Me.prototype.concat=function(K){return new Me(this,K)};Me.prototype.get=function(K){if(this.bindings[K])return this.bindings[K];if(this.parent)return this.parent.get(K);throw Error(K+" not found in scope.");};Me.prototype.has=function(K){return this.bindings[K]?!0:this.parent?this.parent.has(K):!1};var Se={kind:"null"},ha={kind:"number"},ob={kind:"string"},Ea={kind:"boolean"},Ib={kind:"color"},
Yb={kind:"object"},kc={kind:"value"},Nc={kind:"collator"},Jc={kind:"formatted"},pd={kind:"resolvedImage"},qd=[Se,ha,ob,Ea,Ib,Jc,Yb,r(kc),pd],Yd=function(K,da,Ma){this.sensitivity=K?da?"variant":"case":da?"accent":"base";this.locale=Ma;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Yd.prototype.compare=function(K,da){return this.collator.compare(K,da)};Yd.prototype.resolvedLocale=function(){return(new Intl.Collator(this.locale?this.locale:
[])).resolvedOptions().locale};var Od=function(K,da,Ma,fb,Eb){this.text=K.normalize?K.normalize():K;this.image=da;this.scale=Ma;this.fontStack=fb;this.textColor=Eb},Jd=function(K){this.sections=K};Jd.fromString=function(K){return new Jd([new Od(K,null,null,null,null)])};Jd.prototype.isEmpty=function(){return 0===this.sections.length?!0:!this.sections.some(function(K){return 0!==K.text.length||K.image&&0!==K.image.name.length})};Jd.factory=function(K){return K instanceof Jd?K:Jd.fromString(K)};Jd.prototype.toString=
function(){return 0===this.sections.length?"":this.sections.map(function(K){return K.text}).join("")};Jd.prototype.serialize=function(){for(var K=["format"],da=0,Ma=this.sections;da<Ma.length;da+=1){var fb=Ma[da];if(fb.image)K.push(["image",fb.image.name]);else{K.push(fb.text);var Eb={};fb.fontStack&&(Eb["text-font"]=["literal",fb.fontStack.split(",")]);fb.scale&&(Eb["font-scale"]=fb.scale);fb.textColor&&(Eb["text-color"]=["rgba"].concat(fb.textColor.toArray()));K.push(Eb)}}return K};var ed=function(K){this.name=
K.name;this.available=K.available};ed.prototype.toString=function(){return this.name};ed.fromString=function(K){return K?new ed({name:K,available:!1}):null};ed.prototype.serialize=function(){return["image",this.name]};var td=function(K,da){this.type=K;this.value=da};td.parse=function(K,da){if(2!==K.length)return da.error("'literal' expression requires exactly one argument, but found "+(K.length-1)+" instead.");if(!M(K[1]))return da.error("invalid value");K=K[1];var Ma=ba(K);da=da.expectedType;"array"!==
Ma.kind||0!==Ma.N||!da||"array"!==da.kind||"number"===typeof da.N&&0!==da.N||(Ma=da);return new td(Ma,K)};td.prototype.evaluate=function(){return this.value};td.prototype.eachChild=function(){};td.prototype.outputDefined=function(){return!0};td.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Gd?["rgba"].concat(this.value.toArray()):this.value instanceof Jd?this.value.serialize():this.value};var wc=function(K){this.name=
"ExpressionEvaluationError";this.message=K};wc.prototype.toJSON=function(){return this.message};var Rc={string:ob,number:ha,boolean:Ea,object:Yb},Lc=function(K,da){this.type=K;this.args=da};Lc.parse=function(K,da){if(2>K.length)return da.error("Expected at least one argument.");var Ma=1,fb=K[0];if("array"===fb){if(2<K.length){fb=K[1];if("string"!==typeof fb||!(fb in Rc)||"object"===fb)return da.error('The item type argument of "array" must be one of string, number, boolean',1);fb=Rc[fb];Ma++}else fb=
kc;if(3<K.length){if(null!==K[2]&&("number"!==typeof K[2]||0>K[2]||K[2]!==Math.floor(K[2])))return da.error('The length argument to "array" must be a positive integer literal',2);var Eb=K[2];Ma++}Eb=r(fb,Eb)}else Eb=Rc[fb];for(fb=[];Ma<K.length;Ma++){var Sb=da.parse(K[Ma],Ma,kc);if(!Sb)return null;fb.push(Sb)}return new Lc(Eb,fb)};Lc.prototype.evaluate=function(K){for(var da=0;da<this.args.length;da++){var Ma=this.args[da].evaluate(K);if(!G(this.type,ba(Ma)))return Ma;if(da===this.args.length-1)throw new wc("Expected value to be of type "+
z(this.type)+", but found "+z(ba(Ma))+" instead.");}return null};Lc.prototype.eachChild=function(K){this.args.forEach(K)};Lc.prototype.outputDefined=function(){return this.args.every(function(K){return K.outputDefined()})};Lc.prototype.serialize=function(){var K=this.type,da=[K.kind];if("array"===K.kind){var Ma=K.itemType;if("string"===Ma.kind||"number"===Ma.kind||"boolean"===Ma.kind)da.push(Ma.kind),K=K.N,("number"===typeof K||1<this.args.length)&&da.push(K)}return da.concat(this.args.map(function(fb){return fb.serialize()}))};
var ud=function(K){this.type=Jc;this.sections=K};ud.parse=function(K,da){if(2>K.length)return da.error("Expected at least one argument.");var Ma=K[1];if(!Array.isArray(Ma)&&"object"===typeof Ma)return da.error("First argument must be an image or text section.");Ma=[];for(var fb=!1,Eb=1;Eb<=K.length-1;++Eb){var Sb=K[Eb];if(fb&&"object"===typeof Sb&&!Array.isArray(Sb)){fb=!1;var Cc=null;if(Sb["font-scale"]&&(Cc=da.parse(Sb["font-scale"],1,ha),!Cc))return null;var Zc=null;if(Sb["text-font"]&&(Zc=da.parse(Sb["text-font"],
1,r(ob)),!Zc))return null;var $c=null;if(Sb["text-color"]&&($c=da.parse(Sb["text-color"],1,Ib),!$c))return null;Sb=Ma[Ma.length-1];Sb.scale=Cc;Sb.font=Zc;Sb.textColor=$c}else{Cc=da.parse(K[Eb],1,kc);if(!Cc)return null;fb=Cc.type.kind;if("string"!==fb&&"value"!==fb&&"null"!==fb&&"resolvedImage"!==fb)return da.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");fb=!0;Ma.push({content:Cc,scale:null,font:null,textColor:null})}}return new ud(Ma)};ud.prototype.evaluate=function(K){return new Jd(this.sections.map(function(da){var Ma=
da.content.evaluate(K);return ba(Ma)===pd?new Od("",Ma,null,null,null):new Od(W(Ma),null,da.scale?da.scale.evaluate(K):null,da.font?da.font.evaluate(K).join(","):null,da.textColor?da.textColor.evaluate(K):null)}))};ud.prototype.eachChild=function(K){for(var da=0,Ma=this.sections;da<Ma.length;da+=1){var fb=Ma[da];K(fb.content);fb.scale&&K(fb.scale);fb.font&&K(fb.font);fb.textColor&&K(fb.textColor)}};ud.prototype.outputDefined=function(){return!1};ud.prototype.serialize=function(){for(var K=["format"],
da=0,Ma=this.sections;da<Ma.length;da+=1){var fb=Ma[da];K.push(fb.content.serialize());var Eb={};fb.scale&&(Eb["font-scale"]=fb.scale.serialize());fb.font&&(Eb["text-font"]=fb.font.serialize());fb.textColor&&(Eb["text-color"]=fb.textColor.serialize());K.push(Eb)}return K};var kb=function(K){this.type=pd;this.input=K};kb.parse=function(K,da){return 2!==K.length?da.error("Expected two arguments."):(K=da.parse(K[1],1,ob))?new kb(K):da.error("No image name provided.")};kb.prototype.evaluate=function(K){var da=
this.input.evaluate(K),Ma=ed.fromString(da);Ma&&K.availableImages&&(Ma.available=-1<K.availableImages.indexOf(da));return Ma};kb.prototype.eachChild=function(K){K(this.input)};kb.prototype.outputDefined=function(){return!1};kb.prototype.serialize=function(){return["image",this.input.serialize()]};var Gb={"to-boolean":Ea,"to-color":Ib,"to-number":ha,"to-string":ob},Pb=function(K,da){this.type=K;this.args=da};Pb.parse=function(K,da){if(2>K.length)return da.error("Expected at least one argument.");var Ma=
K[0];if(("to-boolean"===Ma||"to-string"===Ma)&&2!==K.length)return da.error("Expected one argument.");Ma=Gb[Ma];for(var fb=[],Eb=1;Eb<K.length;Eb++){var Sb=da.parse(K[Eb],Eb,kc);if(!Sb)return null;fb.push(Sb)}return new Pb(Ma,fb)};Pb.prototype.evaluate=function(K){if("boolean"===this.type.kind)return!!this.args[0].evaluate(K);if("color"===this.type.kind){for(var da,Ma,fb=0,Eb=this.args;fb<Eb.length;fb+=1){da=Eb[fb].evaluate(K);Ma=null;if(da instanceof Gd)return da;if("string"===typeof da){var Sb=
K.parseColor(da);if(Sb)return Sb}else if(Array.isArray(da)&&(Ma=3>da.length||4<da.length?"Invalid rbga value "+JSON.stringify(da)+": expected an array containing either three or four numeric values.":ca(da[0],da[1],da[2],da[3]),!Ma))return new Gd(da[0]/255,da[1]/255,da[2]/255,da[3])}throw new wc(Ma||"Could not parse color from value '"+("string"===typeof da?da:String(JSON.stringify(da)))+"'");}if("number"===this.type.kind){da=null;Ma=0;for(fb=this.args;Ma<fb.length;Ma+=1){da=fb[Ma].evaluate(K);if(null===
da)return 0;Eb=Number(da);if(!isNaN(Eb))return Eb}throw new wc("Could not convert "+JSON.stringify(da)+" to number.");}return"formatted"===this.type.kind?Jd.fromString(W(this.args[0].evaluate(K))):"resolvedImage"===this.type.kind?ed.fromString(W(this.args[0].evaluate(K))):W(this.args[0].evaluate(K))};Pb.prototype.eachChild=function(K){this.args.forEach(K)};Pb.prototype.outputDefined=function(){return this.args.every(function(K){return K.outputDefined()})};Pb.prototype.serialize=function(){if("formatted"===
this.type.kind)return(new ud([{content:this.args[0],scale:null,font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new kb(this.args[0])).serialize();var K=["to-"+this.type.kind];this.eachChild(function(da){K.push(da.serialize())});return K};var bc=["Unknown","Point","LineString","Polygon"],fa=function(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.featureDistanceData=this.featureTileCoord=this.canonical=this.availableImages=
null};fa.prototype.id=function(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null};fa.prototype.geometryType=function(){return this.feature?"number"===typeof this.feature.type?bc[this.feature.type]:this.feature.type:null};fa.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null};fa.prototype.canonicalID=function(){return this.canonical};fa.prototype.properties=function(){return this.feature&&this.feature.properties||{}};
fa.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var K=this.featureDistanceData.center,da=this.featureDistanceData.scale,Ma=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(Ma.x*da-K[0])+this.featureDistanceData.bearing[1]*(Ma.y*da-K[1])}return 0};fa.prototype.parseColor=function(K){var da=this._parseColorCache[K];da||(da=this._parseColorCache[K]=Gd.parse(K));return da};var Ha=function(K,da,Ma,fb){this.name=K;this.type=da;this._evaluate=
Ma;this.args=fb};Ha.prototype.evaluate=function(K){return this._evaluate(K,this.args)};Ha.prototype.eachChild=function(K){this.args.forEach(K)};Ha.prototype.outputDefined=function(){return!1};Ha.prototype.serialize=function(){return[this.name].concat(this.args.map(function(K){return K.serialize()}))};Ha.parse=function(K,da){var Ma,fb=K[0],Eb=Ha.definitions[fb];if(!Eb)return da.error('Unknown expression "'+fb+'". If you wanted a literal array, use ["literal", [...]].',0);var Sb=Array.isArray(Eb)?Eb[0]:
Eb.type;Eb=Array.isArray(Eb)?[[Eb[1],Eb[2]]]:Eb.overloads;for(var Cc=Eb.filter(function(ag){ag=ag[0];return!Array.isArray(ag)||ag.length===K.length-1}),Zc=null,$c=0;$c<Cc.length;$c+=1){Zc=Cc[$c];var rd=Zc[0],ce=Zc[1];Zc=new Ob(da.registry,da.path,null,da.scope);for(var ze=[],ef=!1,Cf=1;Cf<K.length;Cf++){var Mf=K[Cf],Ke=Array.isArray(rd)?rd[Cf-1]:rd.type;Mf=Zc.parse(Mf,1+ze.length,Ke);if(!Mf){ef=!0;break}ze.push(Mf)}if(!ef)if(Array.isArray(rd)&&rd.length!==ze.length)Zc.error("Expected "+rd.length+
" arguments, but found "+ze.length+" instead.");else{for(ef=0;ef<ze.length;ef++)Cf=Array.isArray(rd)?rd[ef]:rd.type,Mf=ze[ef],Zc.concat(ef+1).checkSubtype(Cf,Mf.type);if(0===Zc.errors.length)return new Ha(fb,Sb,ce,ze)}}if(1===Cc.length)(Ma=da.errors).push.apply(Ma,Zc.errors);else{Ma=(Cc.length?Cc:Eb).map(function(ag){ag=ag[0];ag=Array.isArray(ag)?"("+ag.map(z).join(", ")+")":"("+z(ag.type)+"...)";return ag}).join(" | ");fb=[];for(Sb=1;Sb<K.length;Sb++){Eb=da.parse(K[Sb],1+fb.length);if(!Eb)return null;
fb.push(z(Eb.type))}da.error("Expected arguments of type "+Ma+", but found ("+fb.join(", ")+") instead.")}return null};Ha.register=function(K,da){Ha.definitions=da;for(var Ma in da)K[Ma]=Ha};var gb=function(K,da,Ma){this.type=Nc;this.locale=Ma;this.caseSensitive=K;this.diacriticSensitive=da};gb.parse=function(K,da){if(2!==K.length)return da.error("Expected one argument.");K=K[1];if("object"!==typeof K||Array.isArray(K))return da.error("Collator options argument must be an object.");var Ma=da.parse(void 0===
K["case-sensitive"]?!1:K["case-sensitive"],1,Ea);if(!Ma)return null;var fb=da.parse(void 0===K["diacritic-sensitive"]?!1:K["diacritic-sensitive"],1,Ea);if(!fb)return null;var Eb=null;return K.locale&&(Eb=da.parse(K.locale,1,ob),!Eb)?null:new gb(Ma,fb,Eb)};gb.prototype.evaluate=function(K){return new Yd(this.caseSensitive.evaluate(K),this.diacriticSensitive.evaluate(K),this.locale?this.locale.evaluate(K):null)};gb.prototype.eachChild=function(K){K(this.caseSensitive);K(this.diacriticSensitive);this.locale&&
K(this.locale)};gb.prototype.outputDefined=function(){return!1};gb.prototype.serialize=function(){var K={};K["case-sensitive"]=this.caseSensitive.serialize();K["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(K.locale=this.locale.serialize());return["collator",K]};var Fb=function(K,da){this.type=Ea;this.geojson=K;this.geometries=da};Fb.parse=function(K,da){if(2!==K.length)return da.error("'within' expression requires exactly one argument, but found "+(K.length-1)+" instead.");
if(M(K[1]))if(K=K[1],"FeatureCollection"===K.type)for(var Ma=0;Ma<K.features.length;++Ma){var fb=K.features[Ma].geometry.type;if("Polygon"===fb||"MultiPolygon"===fb)return new Fb(K,K.features[Ma].geometry)}else if("Feature"===K.type){if(Ma=K.geometry.type,"Polygon"===Ma||"MultiPolygon"===Ma)return new Fb(K,K.geometry)}else if("Polygon"===K.type||"MultiPolygon"===K.type)return new Fb(K,K);return da.error("'within' expression requires valid geojson object that contains polygon geometry type.")};Fb.prototype.evaluate=
function(K){if(null!=K.geometry()&&null!=K.canonicalID()){if("Point"===K.geometryType())return Ia(K,this.geometries);if("LineString"===K.geometryType())return bb(K,this.geometries)}return!1};Fb.prototype.eachChild=function(){};Fb.prototype.outputDefined=function(){return!0};Fb.prototype.serialize=function(){return["within",this.geojson]};var Kb=function(K,da){this.type=da.type;this.name=K;this.boundExpression=da};Kb.parse=function(K,da){if(2!==K.length||"string"!==typeof K[1])return da.error("'var' expression requires exactly one string literal argument.");
K=K[1];return da.scope.has(K)?new Kb(K,da.scope.get(K)):da.error('Unknown variable "'+K+'". Make sure "'+K+'" has been bound in an enclosing "let" expression before using it.',1)};Kb.prototype.evaluate=function(K){return this.boundExpression.evaluate(K)};Kb.prototype.eachChild=function(){};Kb.prototype.outputDefined=function(){return!1};Kb.prototype.serialize=function(){return["var",this.name]};var Ob=function(K,da,Ma,fb,Eb){void 0===da&&(da=[]);void 0===fb&&(fb=new Me);void 0===Eb&&(Eb=[]);this.registry=
K;this.path=da;this.key=da.map(function(Sb){return"["+Sb+"]"}).join("");this.scope=fb;this.errors=Eb;this.expectedType=Ma};Ob.prototype.parse=function(K,da,Ma,fb,Eb){void 0===Eb&&(Eb={});return da?this.concat(da,Ma,fb)._parse(K,Eb):this._parse(K,Eb)};Ob.prototype._parse=function(K,da){function Ma(Sb,Cc,Zc){return"assert"===Zc?new Lc(Cc,[Sb]):"coerce"===Zc?new Pb(Cc,[Sb]):Sb}if(null===K||"string"===typeof K||"boolean"===typeof K||"number"===typeof K)K=["literal",K];if(Array.isArray(K)){if(0===K.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');
var fb=K[0];if("string"!==typeof fb)return this.error("Expression name must be a string, but found "+typeof fb+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Eb=this.registry[fb];if(Eb){K=Eb.parse(K,this);if(!K)return null;if(this.expectedType)if(fb=this.expectedType,Eb=K.type,("string"===fb.kind||"number"===fb.kind||"boolean"===fb.kind||"object"===fb.kind||"array"===fb.kind)&&"value"===Eb.kind)K=Ma(K,fb,da.typeAnnotation||"assert");else if(!("color"!==fb.kind&&"formatted"!==
fb.kind&&"resolvedImage"!==fb.kind||"value"!==Eb.kind&&"string"!==Eb.kind))K=Ma(K,fb,da.typeAnnotation||"coerce");else if(this.checkSubtype(fb,Eb))return null;if(!(K instanceof td)&&"resolvedImage"!==K.type.kind&&Fa(K)){da=new fa;try{K=new td(K.type,K.evaluate(da))}catch(Sb){return this.error(Sb.message),null}}return K}return this.error('Unknown expression "'+fb+'". If you wanted a literal array, use ["literal", [...]].',0)}return"undefined"===typeof K?this.error("'undefined' value invalid. Use null instead."):
"object"===typeof K?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof K+" instead.")};Ob.prototype.concat=function(K,da,Ma){K="number"===typeof K?this.path.concat(K):this.path;Ma=Ma?this.scope.concat(Ma):this.scope;return new Ob(this.registry,K,da||null,Ma,this.errors)};Ob.prototype.error=function(K){for(var da=[],Ma=arguments.length-1;0<Ma--;)da[Ma]=arguments[Ma+1];da=""+this.key+da.map(function(fb){return"["+fb+"]"}).join("");this.errors.push(new Pd(da,
K))};Ob.prototype.checkSubtype=function(K,da){(K=G(K,da))&&this.error(K);return K};var oc=function(K,da,Ma){this.type=K;this.input=da;this.labels=[];this.outputs=[];for(K=0;K<Ma.length;K+=1){da=Ma[K];var fb=da[1];this.labels.push(da[0]);this.outputs.push(fb)}};oc.parse=function(K,da){if(4>K.length-1)return da.error("Expected at least 4 arguments, but found only "+(K.length-1)+".");if(0!==(K.length-1)%2)return da.error("Expected an even number of arguments.");var Ma=da.parse(K[1],1,ha);if(!Ma)return null;
var fb=[],Eb=null;da.expectedType&&"value"!==da.expectedType.kind&&(Eb=da.expectedType);for(var Sb=1;Sb<K.length;Sb+=2){var Cc=1===Sb?-Infinity:K[Sb],Zc=K[Sb+1],$c=Sb,rd=Sb+1;if("number"!==typeof Cc)return da.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$c);if(fb.length&&fb[fb.length-1][0]>=Cc)return da.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',
$c);Zc=da.parse(Zc,rd,Eb);if(!Zc)return null;Eb=Eb||Zc.type;fb.push([Cc,Zc])}return new oc(Eb,Ma,fb)};oc.prototype.evaluate=function(K){var da=this.labels,Ma=this.outputs;if(1===da.length)return Ma[0].evaluate(K);var fb=this.input.evaluate(K);if(fb<=da[0])return Ma[0].evaluate(K);var Eb=da.length;if(fb>=da[Eb-1])return Ma[Eb-1].evaluate(K);da=Pa(da,fb);return Ma[da].evaluate(K)};oc.prototype.eachChild=function(K){K(this.input);for(var da=0,Ma=this.outputs;da<Ma.length;da+=1)K(Ma[da])};oc.prototype.outputDefined=
function(){return this.outputs.every(function(K){return K.outputDefined()})};oc.prototype.serialize=function(){for(var K=["step",this.input.serialize()],da=0;da<this.labels.length;da++)0<da&&K.push(this.labels[da]),K.push(this.outputs[da].serialize());return K};qa.prototype.sampleCurveX=function(K){return((this.ax*K+this.bx)*K+this.cx)*K};qa.prototype.sampleCurveY=function(K){return((this.ay*K+this.by)*K+this.cy)*K};qa.prototype.sampleCurveDerivativeX=function(K){return(3*this.ax*K+2*this.bx)*K+this.cx};
qa.prototype.solveCurveX=function(K,da){"undefined"===typeof da&&(da=1E-6);var Ma;var fb=K;for(Ma=0;8>Ma;Ma++){var Eb=this.sampleCurveX(fb)-K;if(Math.abs(Eb)<da)return fb;var Sb=this.sampleCurveDerivativeX(fb);if(1E-6>Math.abs(Sb))break;fb-=Eb/Sb}Ma=0;Sb=1;fb=K;if(fb<Ma)return Ma;if(fb>Sb)return Sb;for(;Ma<Sb;){Eb=this.sampleCurveX(fb);if(Math.abs(Eb-K)<da)break;K>Eb?Ma=fb:Sb=fb;fb=.5*(Sb-Ma)+Ma}return fb};qa.prototype.solve=function(K,da){return this.sampleCurveY(this.solveCurveX(K,da))};var Oc=
Object.freeze({__proto__:null,number:ya,color:function(K,da,Ma){return new Gd(ya(K.r,da.r,Ma),ya(K.g,da.g,Ma),ya(K.b,da.b,Ma),ya(K.a,da.a,Ma))},array:function(K,da,Ma){return K.map(function(fb,Eb){return ya(fb,da[Eb],Ma)})}}),yc=4/29,fd=6/29,Ec=3*fd*fd,Fd=fd*fd*fd,Be=Math.PI/180,fe=180/Math.PI,Ae={forward:ra,reverse:Oa,interpolate:function(K,da,Ma){return{l:ya(K.l,da.l,Ma),a:ya(K.a,da.a,Ma),b:ya(K.b,da.b,Ma),alpha:ya(K.alpha,da.alpha,Ma)}}},Zd={forward:function(K){var da=ra(K),Ma=da.a,fb=da.b,Eb=
Math.atan2(fb,Ma)*fe;return{h:0>Eb?Eb+360:Eb,c:Math.sqrt(Ma*Ma+fb*fb),l:da.l,alpha:K.a}},reverse:function(K){var da=K.h*Be,Ma=K.c;return Oa({l:K.l,a:Math.cos(da)*Ma,b:Math.sin(da)*Ma,alpha:K.alpha})},interpolate:function(K,da,Ma){var fb=K.h,Eb=da.h-fb;return{h:fb+Ma*(180<Eb||-180>Eb?Eb-360*Math.round(Eb/360):Eb),c:ya(K.c,da.c,Ma),l:ya(K.l,da.l,Ma),alpha:ya(K.alpha,da.alpha,Ma)}}},vd=function(K,da,Ma,fb,Eb){this.type=K;this.operator=da;this.interpolation=Ma;this.input=fb;this.labels=[];this.outputs=
[];for(K=0;K<Eb.length;K+=1)da=Eb[K],Ma=da[1],this.labels.push(da[0]),this.outputs.push(Ma)};vd.interpolationFactor=function(K,da,Ma,fb){var Eb=0;"exponential"===K.name?Eb=ja(da,K.base,Ma,fb):"linear"===K.name?Eb=ja(da,1,Ma,fb):"cubic-bezier"===K.name&&(K=K.controlPoints,Eb=(new qa(K[0],K[1],K[2],K[3])).solve(ja(da,1,Ma,fb)));return Eb};vd.parse=function(K,da){var Ma=K[0],fb=K[1],Eb=K[2],Sb=K.slice(3);if(!Array.isArray(fb)||0===fb.length)return da.error("Expected an interpolation type expression.",
1);if("linear"===fb[0])fb={name:"linear"};else if("exponential"===fb[0]){fb=fb[1];if("number"!==typeof fb)return da.error("Exponential interpolation requires a numeric base.",1,1);fb={name:"exponential",base:fb}}else if("cubic-bezier"===fb[0]){fb=fb.slice(1);if(4!==fb.length||fb.some(function(ef){return"number"!==typeof ef||0>ef||1<ef}))return da.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);fb={name:"cubic-bezier",controlPoints:fb}}else return da.error("Unknown interpolation type "+
String(fb[0]),1,0);if(4>K.length-1)return da.error("Expected at least 4 arguments, but found only "+(K.length-1)+".");if(0!==(K.length-1)%2)return da.error("Expected an even number of arguments.");Eb=da.parse(Eb,2,ha);if(!Eb)return null;K=[];var Cc=null;"interpolate-hcl"===Ma||"interpolate-lab"===Ma?Cc=Ib:da.expectedType&&"value"!==da.expectedType.kind&&(Cc=da.expectedType);for(var Zc=0;Zc<Sb.length;Zc+=2){var $c=Sb[Zc],rd=Sb[Zc+1],ce=Zc+3,ze=Zc+4;if("number"!==typeof $c)return da.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
ce);if(K.length&&K[K.length-1][0]>=$c)return da.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ce);rd=da.parse(rd,ze,Cc);if(!rd)return null;Cc=Cc||rd.type;K.push([$c,rd])}return"number"===Cc.kind||"color"===Cc.kind||"array"===Cc.kind&&"number"===Cc.itemType.kind&&"number"===typeof Cc.N?new vd(Cc,Ma,fb,Eb,K):da.error("Type "+z(Cc)+" is not interpolatable.")};vd.prototype.evaluate=function(K){var da=this.labels,Ma=this.outputs;
if(1===da.length)return Ma[0].evaluate(K);var fb=this.input.evaluate(K);if(fb<=da[0])return Ma[0].evaluate(K);var Eb=da.length;if(fb>=da[Eb-1])return Ma[Eb-1].evaluate(K);Eb=Pa(da,fb);da=vd.interpolationFactor(this.interpolation,fb,da[Eb],da[Eb+1]);fb=Ma[Eb].evaluate(K);K=Ma[Eb+1].evaluate(K);return"interpolate"===this.operator?Oc[this.type.kind.toLowerCase()](fb,K,da):"interpolate-hcl"===this.operator?Zd.reverse(Zd.interpolate(Zd.forward(fb),Zd.forward(K),da)):Ae.reverse(Ae.interpolate(Ae.forward(fb),
Ae.forward(K),da))};vd.prototype.eachChild=function(K){K(this.input);for(var da=0,Ma=this.outputs;da<Ma.length;da+=1)K(Ma[da])};vd.prototype.outputDefined=function(){return this.outputs.every(function(K){return K.outputDefined()})};vd.prototype.serialize=function(){var K="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);K=[this.operator,
K,this.input.serialize()];for(var da=0;da<this.labels.length;da++)K.push(this.labels[da],this.outputs[da].serialize());return K};var Kd=function(K,da){this.type=K;this.args=da};Kd.parse=function(K,da){if(2>K.length)return da.error("Expectected at least one argument.");var Ma=null,fb=da.expectedType;fb&&"value"!==fb.kind&&(Ma=fb);var Eb=[],Sb=0;for(K=K.slice(1);Sb<K.length;Sb+=1){var Cc=da.parse(K[Sb],1+Eb.length,Ma,void 0,{typeAnnotation:"omit"});if(!Cc)return null;Ma=Ma||Cc.type;Eb.push(Cc)}return fb&&
Eb.some(function(Zc){return G(fb,Zc.type)})?new Kd(kc,Eb):new Kd(Ma,Eb)};Kd.prototype.evaluate=function(K){for(var da=null,Ma=0,fb,Eb=0,Sb=this.args;Eb<Sb.length;Eb+=1){da=Sb[Eb];Ma++;if((da=da.evaluate(K))&&da instanceof ed&&!da.available&&(fb||(fb=da),da=null,Ma===this.args.length))return fb;if(null!==da)break}return da};Kd.prototype.eachChild=function(K){this.args.forEach(K)};Kd.prototype.outputDefined=function(){return this.args.every(function(K){return K.outputDefined()})};Kd.prototype.serialize=
function(){var K=["coalesce"];this.eachChild(function(da){K.push(da.serialize())});return K};var ee=function(K,da){this.type=da.type;this.bindings=[].concat(K);this.result=da};ee.prototype.evaluate=function(K){return this.result.evaluate(K)};ee.prototype.eachChild=function(K){for(var da=0,Ma=this.bindings;da<Ma.length;da+=1)K(Ma[da][1]);K(this.result)};ee.parse=function(K,da){if(4>K.length)return da.error("Expected at least 3 arguments, but found "+(K.length-1)+" instead.");for(var Ma=[],fb=1;fb<
K.length-1;fb+=2){var Eb=K[fb];if("string"!==typeof Eb)return da.error("Expected string, but found "+typeof Eb+" instead.",fb);if(/[^a-zA-Z0-9_]/.test(Eb))return da.error("Variable names must contain only alphanumeric characters or '_'.",fb);var Sb=da.parse(K[fb+1],fb+1);if(!Sb)return null;Ma.push([Eb,Sb])}return(K=da.parse(K[K.length-1],K.length-1,da.expectedType,Ma))?new ee(Ma,K):null};ee.prototype.outputDefined=function(){return this.result.outputDefined()};ee.prototype.serialize=function(){for(var K=
["let"],da=0,Ma=this.bindings;da<Ma.length;da+=1){var fb=Ma[da];K.push(fb[0],fb[1].serialize())}K.push(this.result.serialize());return K};var we=function(K,da,Ma){this.type=K;this.index=da;this.input=Ma};we.parse=function(K,da){if(3!==K.length)return da.error("Expected 2 arguments, but found "+(K.length-1)+" instead.");var Ma=da.parse(K[1],1,ha);K=da.parse(K[2],2,r(da.expectedType||kc));return Ma&&K?new we(K.type.itemType,Ma,K):null};we.prototype.evaluate=function(K){var da=this.index.evaluate(K);
K=this.input.evaluate(K);if(0>da)throw new wc("Array index out of bounds: "+da+" \x3c 0.");if(da>=K.length)throw new wc("Array index out of bounds: "+da+" \x3e "+(K.length-1)+".");if(da!==Math.floor(da))throw new wc("Array index must be an integer, but found "+da+" instead.");return K[da]};we.prototype.eachChild=function(K){K(this.index);K(this.input)};we.prototype.outputDefined=function(){return!1};we.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ye=
function(K,da){this.type=Ea;this.needle=K;this.haystack=da};ye.parse=function(K,da){if(3!==K.length)return da.error("Expected 2 arguments, but found "+(K.length-1)+" instead.");var Ma=da.parse(K[1],1,kc);K=da.parse(K[2],2,kc);return Ma&&K?T(Ma.type,[Ea,ob,ha,Se,kc])?new ye(Ma,K):da.error("Expected first argument to be of type boolean, string, number or null, but found "+z(Ma.type)+" instead"):null};ye.prototype.evaluate=function(K){var da=this.needle.evaluate(K);K=this.haystack.evaluate(K);if(null==
K)return!1;if(!R(da,["boolean","string","number","null"]))throw new wc("Expected first argument to be of type boolean, string, number or null, but found "+z(ba(da))+" instead.");if(!R(K,["string","array"]))throw new wc("Expected second argument to be of type array or string, but found "+z(ba(K))+" instead.");return 0<=K.indexOf(da)};ye.prototype.eachChild=function(K){K(this.needle);K(this.haystack)};ye.prototype.outputDefined=function(){return!0};ye.prototype.serialize=function(){return["in",this.needle.serialize(),
this.haystack.serialize()]};var Te=function(K,da,Ma){this.type=ha;this.needle=K;this.haystack=da;this.fromIndex=Ma};Te.parse=function(K,da){if(2>=K.length||5<=K.length)return da.error("Expected 3 or 4 arguments, but found "+(K.length-1)+" instead.");var Ma=da.parse(K[1],1,kc),fb=da.parse(K[2],2,kc);return Ma&&fb?T(Ma.type,[Ea,ob,ha,Se,kc])?4===K.length?(K=da.parse(K[3],3,ha))?new Te(Ma,fb,K):null:new Te(Ma,fb):da.error("Expected first argument to be of type boolean, string, number or null, but found "+
z(Ma.type)+" instead"):null};Te.prototype.evaluate=function(K){var da=this.needle.evaluate(K),Ma=this.haystack.evaluate(K);if(!R(da,["boolean","string","number","null"]))throw new wc("Expected first argument to be of type boolean, string, number or null, but found "+z(ba(da))+" instead.");if(!R(Ma,["string","array"]))throw new wc("Expected second argument to be of type array or string, but found "+z(ba(Ma))+" instead.");return this.fromIndex?(K=this.fromIndex.evaluate(K),Ma.indexOf(da,K)):Ma.indexOf(da)};
Te.prototype.eachChild=function(K){K(this.needle);K(this.haystack);this.fromIndex&&K(this.fromIndex)};Te.prototype.outputDefined=function(){return!1};Te.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var K=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),K]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Id=function(K,da,Ma,fb,Eb,Sb){this.inputType=K;this.type=da;this.input=Ma;this.cases=fb;this.outputs=
Eb;this.otherwise=Sb};Id.parse=function(K,da){if(5>K.length)return da.error("Expected at least 4 arguments, but found only "+(K.length-1)+".");if(1!==K.length%2)return da.error("Expected an even number of arguments.");if(da.expectedType&&"value"!==da.expectedType.kind)var Ma=da.expectedType;for(var fb={},Eb=[],Sb=2;Sb<K.length-1;Sb+=2){var Cc=K[Sb],Zc=K[Sb+1];Array.isArray(Cc)||(Cc=[Cc]);var $c=da.concat(Sb);if(0===Cc.length)return $c.error("Expected at least one branch label.");for(var rd=0;rd<Cc.length;rd+=
1){var ce=Cc[rd];if("number"!==typeof ce&&"string"!==typeof ce)return $c.error("Branch labels must be numbers or strings.");if("number"===typeof ce&&Math.abs(ce)>Number.MAX_SAFE_INTEGER)return $c.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"===typeof ce&&Math.floor(ce)!==ce)return $c.error("Numeric branch labels must be integer values.");if(!ze)var ze=ba(ce);else if($c.checkSubtype(ze,ba(ce)))return null;if("undefined"!==typeof fb[String(ce)])return $c.error("Branch labels must be unique.");
fb[String(ce)]=Eb.length}Zc=da.parse(Zc,Sb,Ma);if(!Zc)return null;Ma=Ma||Zc.type;Eb.push(Zc)}Sb=da.parse(K[1],1,kc);if(!Sb)return null;K=da.parse(K[K.length-1],K.length-1,Ma);return!K||"value"!==Sb.type.kind&&da.concat(1).checkSubtype(ze,Sb.type)?null:new Id(ze,Ma,Sb,fb,Eb,K)};Id.prototype.evaluate=function(K){var da=this.input.evaluate(K);return(ba(da)===this.inputType&&this.outputs[this.cases[da]]||this.otherwise).evaluate(K)};Id.prototype.eachChild=function(K){K(this.input);this.outputs.forEach(K);
K(this.otherwise)};Id.prototype.outputDefined=function(){return this.outputs.every(function(K){return K.outputDefined()})&&this.otherwise.outputDefined()};Id.prototype.serialize=function(){for(var K=this,da=["match",this.input.serialize()],Ma=[],fb={},Eb=0,Sb=Object.keys(this.cases).sort();Eb<Sb.length;Eb+=1){var Cc=Sb[Eb],Zc=fb[this.cases[Cc]];void 0===Zc?(fb[this.cases[Cc]]=Ma.length,Ma.push([this.cases[Cc],[Cc]])):Ma[Zc][1].push(Cc)}fb=function($c){return"number"===K.inputType.kind?Number($c):
$c};for(Eb=0;Eb<Ma.length;Eb+=1)Sb=Ma[Eb],Zc=Sb[0],Zc=Sb[1],1===Zc.length?da.push(fb(Zc[0])):da.push(Zc.map(fb)),da.push(this.outputs[outputIndex$1].serialize());da.push(this.otherwise.serialize());return da};var sf=function(K,da,Ma){this.type=K;this.branches=da;this.otherwise=Ma};sf.parse=function(K,da){if(4>K.length)return da.error("Expected at least 3 arguments, but found only "+(K.length-1)+".");if(0!==K.length%2)return da.error("Expected an odd number of arguments.");if(da.expectedType&&"value"!==
da.expectedType.kind)var Ma=da.expectedType;for(var fb=[],Eb=1;Eb<K.length-1;Eb+=2){var Sb=da.parse(K[Eb],Eb,Ea);if(!Sb)return null;var Cc=da.parse(K[Eb+1],Eb+1,Ma);if(!Cc)return null;fb.push([Sb,Cc]);Ma=Ma||Cc.type}return(K=da.parse(K[K.length-1],K.length-1,Ma))?new sf(Ma,fb,K):null};sf.prototype.evaluate=function(K){for(var da=0,Ma=this.branches;da<Ma.length;da+=1){var fb=Ma[da],Eb=fb[1];if(fb[0].evaluate(K))return Eb.evaluate(K)}return this.otherwise.evaluate(K)};sf.prototype.eachChild=function(K){for(var da=
0,Ma=this.branches;da<Ma.length;da+=1){var fb=Ma[da],Eb=fb[1];K(fb[0]);K(Eb)}K(this.otherwise)};sf.prototype.outputDefined=function(){return this.branches.every(function(K){K[0];return K[1].outputDefined()})&&this.otherwise.outputDefined()};sf.prototype.serialize=function(){var K=["case"];this.eachChild(function(da){K.push(da.serialize())});return K};var zf=function(K,da,Ma,fb){this.type=K;this.input=da;this.beginIndex=Ma;this.endIndex=fb};zf.parse=function(K,da){if(2>=K.length||5<=K.length)return da.error("Expected 3 or 4 arguments, but found "+
(K.length-1)+" instead.");var Ma=da.parse(K[1],1,kc),fb=da.parse(K[2],2,ha);return Ma&&fb?T(Ma.type,[r(kc),ob,kc])?4===K.length?(K=da.parse(K[3],3,ha))?new zf(Ma.type,Ma,fb,K):null:new zf(Ma.type,Ma,fb):da.error("Expected first argument to be of type array or string, but found "+z(Ma.type)+" instead"):null};zf.prototype.evaluate=function(K){var da=this.input.evaluate(K),Ma=this.beginIndex.evaluate(K);if(!R(da,["string","array"]))throw new wc("Expected first argument to be of type array or string, but found "+
z(ba(da))+" instead.");return this.endIndex?(K=this.endIndex.evaluate(K),da.slice(Ma,K)):da.slice(Ma)};zf.prototype.eachChild=function(K){K(this.input);K(this.beginIndex);this.endIndex&&K(this.endIndex)};zf.prototype.outputDefined=function(){return!1};zf.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var K=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),K]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};
var Ff=wa("\x3d\x3d",function(K,da,Ma){return da===Ma},ka),$g=wa("!\x3d",function(K,da,Ma){return da!==Ma},function(K,da,Ma,fb){return!ka(K,da,Ma,fb)}),ie=wa("\x3c",function(K,da,Ma){return da<Ma},function(K,da,Ma,fb){return 0>fb.compare(da,Ma)}),mf=wa("\x3e",function(K,da,Ma){return da>Ma},function(K,da,Ma,fb){return 0<fb.compare(da,Ma)}),Sf=wa("\x3c\x3d",function(K,da,Ma){return da<=Ma},function(K,da,Ma,fb){return 0>=fb.compare(da,Ma)}),Gf=wa("\x3e\x3d",function(K,da,Ma){return da>=Ma},function(K,
da,Ma,fb){return 0<=fb.compare(da,Ma)}),Ag=function(K,da,Ma,fb,Eb){this.type=ob;this.number=K;this.locale=da;this.currency=Ma;this.minFractionDigits=fb;this.maxFractionDigits=Eb};Ag.parse=function(K,da){if(3!==K.length)return da.error("Expected two arguments.");var Ma=da.parse(K[1],1,ha);if(!Ma)return null;K=K[2];if("object"!==typeof K||Array.isArray(K))return da.error("NumberFormat options argument must be an object.");var fb=null;if(K.locale&&(fb=da.parse(K.locale,1,ob),!fb))return null;var Eb=
null;if(K.currency&&(Eb=da.parse(K.currency,1,ob),!Eb))return null;var Sb=null;if(K["min-fraction-digits"]&&(Sb=da.parse(K["min-fraction-digits"],1,ha),!Sb))return null;var Cc=null;return K["max-fraction-digits"]&&(Cc=da.parse(K["max-fraction-digits"],1,ha),!Cc)?null:new Ag(Ma,fb,Eb,Sb,Cc)};Ag.prototype.evaluate=function(K){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(K):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(K):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(K):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(K):void 0})).format(this.number.evaluate(K))};Ag.prototype.eachChild=function(K){K(this.number);this.locale&&K(this.locale);this.currency&&K(this.currency);this.minFractionDigits&&K(this.minFractionDigits);this.maxFractionDigits&&K(this.maxFractionDigits)};Ag.prototype.outputDefined=function(){return!1};Ag.prototype.serialize=function(){var K={};this.locale&&(K.locale=this.locale.serialize());
this.currency&&(K.currency=this.currency.serialize());this.minFractionDigits&&(K["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(K["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),K]};var ng=function(K){this.type=ha;this.input=K};ng.parse=function(K,da){return 2!==K.length?da.error("Expected 1 argument, but found "+(K.length-1)+" instead."):(K=da.parse(K[1],1))?"array"!==K.type.kind&&"string"!==K.type.kind&&
"value"!==K.type.kind?da.error("Expected argument of type string or array, but found "+z(K.type)+" instead."):new ng(K):null};ng.prototype.evaluate=function(K){K=this.input.evaluate(K);if("string"===typeof K||Array.isArray(K))return K.length;throw new wc("Expected value to be of type string or array, but found "+z(ba(K))+" instead.");};ng.prototype.eachChild=function(K){K(this.input)};ng.prototype.outputDefined=function(){return!1};ng.prototype.serialize=function(){var K=["length"];this.eachChild(function(da){K.push(da.serialize())});
return K};var tg={"\x3d\x3d":Ff,"!\x3d":$g,"\x3e":mf,"\x3c":ie,"\x3e\x3d":Gf,"\x3c\x3d":Sf,array:Lc,at:we,"boolean":Lc,"case":sf,coalesce:Kd,collator:gb,format:ud,image:kb,"in":ye,"index-of":Te,interpolate:vd,"interpolate-hcl":vd,"interpolate-lab":vd,length:ng,let:ee,literal:td,match:Id,number:Lc,"number-format":Ag,object:Lc,slice:zf,step:oc,string:Lc,"to-boolean":Pb,"to-color":Pb,"to-number":Pb,"to-string":Pb,"var":Kb,within:Fb};Ha.register(tg,{error:[{kind:"error"},[ob],function(K,da){throw new wc(da[0].evaluate(K));
}],"typeof":[ob,[kc],function(K,da){return z(ba(da[0].evaluate(K)))}],"to-rgba":[r(ha,4),[Ib],function(K,da){return da[0].evaluate(K).toArray()}],rgb:[Ib,[ha,ha,ha],Ta],rgba:[Ib,[ha,ha,ha,ha],Ta],has:{type:Ea,overloads:[[[ob],function(K,da){da=da[0].evaluate(K);K=K.properties();return da in K}],[[ob,Yb],function(K,da){var Ma=da[1];da=da[0].evaluate(K);K=Ma.evaluate(K);return da in K}]]},get:{type:kc,overloads:[[[ob],function(K,da){return db(da[0].evaluate(K),K.properties())}],[[ob,Yb],function(K,
da){var Ma=da[1];return db(da[0].evaluate(K),Ma.evaluate(K))}]]},"feature-state":[kc,[ob],function(K,da){return db(da[0].evaluate(K),K.featureState||{})}],properties:[Yb,[],function(K){return K.properties()}],"geometry-type":[ob,[],function(K){return K.geometryType()}],id:[kc,[],function(K){return K.id()}],zoom:[ha,[],function(K){return K.globals.zoom}],pitch:[ha,[],function(K){return K.globals.pitch||0}],"distance-from-center":[ha,[],function(K){return K.distanceFromCenter()}],"heatmap-density":[ha,
[],function(K){return K.globals.heatmapDensity||0}],"line-progress":[ha,[],function(K){return K.globals.lineProgress||0}],"sky-radial-progress":[ha,[],function(K){return K.globals.skyRadialProgress||0}],accumulated:[kc,[],function(K){return void 0===K.globals.accumulated?null:K.globals.accumulated}],"+":[ha,{type:ha},function(K,da){for(var Ma=0,fb=0;fb<da.length;fb+=1)Ma+=da[fb].evaluate(K);return Ma}],"*":[ha,{type:ha},function(K,da){for(var Ma=1,fb=0;fb<da.length;fb+=1)Ma*=da[fb].evaluate(K);return Ma}],
"-":{type:ha,overloads:[[[ha,ha],function(K,da){var Ma=da[1];return da[0].evaluate(K)-Ma.evaluate(K)}],[[ha],function(K,da){return-da[0].evaluate(K)}]]},"/":[ha,[ha,ha],function(K,da){var Ma=da[1];return da[0].evaluate(K)/Ma.evaluate(K)}],"%":[ha,[ha,ha],function(K,da){var Ma=da[1];return da[0].evaluate(K)%Ma.evaluate(K)}],ln2:[ha,[],function(){return Math.LN2}],pi:[ha,[],function(){return Math.PI}],e:[ha,[],function(){return Math.E}],"^":[ha,[ha,ha],function(K,da){var Ma=da[1];return Math.pow(da[0].evaluate(K),
Ma.evaluate(K))}],sqrt:[ha,[ha],function(K,da){return Math.sqrt(da[0].evaluate(K))}],log10:[ha,[ha],function(K,da){return Math.log(da[0].evaluate(K))/Math.LN10}],ln:[ha,[ha],function(K,da){return Math.log(da[0].evaluate(K))}],log2:[ha,[ha],function(K,da){return Math.log(da[0].evaluate(K))/Math.LN2}],sin:[ha,[ha],function(K,da){return Math.sin(da[0].evaluate(K))}],cos:[ha,[ha],function(K,da){return Math.cos(da[0].evaluate(K))}],tan:[ha,[ha],function(K,da){return Math.tan(da[0].evaluate(K))}],asin:[ha,
[ha],function(K,da){return Math.asin(da[0].evaluate(K))}],acos:[ha,[ha],function(K,da){return Math.acos(da[0].evaluate(K))}],atan:[ha,[ha],function(K,da){return Math.atan(da[0].evaluate(K))}],min:[ha,{type:ha},function(K,da){return Math.min.apply(Math,da.map(function(Ma){return Ma.evaluate(K)}))}],max:[ha,{type:ha},function(K,da){return Math.max.apply(Math,da.map(function(Ma){return Ma.evaluate(K)}))}],abs:[ha,[ha],function(K,da){return Math.abs(da[0].evaluate(K))}],round:[ha,[ha],function(K,da){K=
da[0].evaluate(K);return 0>K?-Math.round(-K):Math.round(K)}],floor:[ha,[ha],function(K,da){return Math.floor(da[0].evaluate(K))}],ceil:[ha,[ha],function(K,da){return Math.ceil(da[0].evaluate(K))}],"filter-\x3d\x3d":[Ea,[ob,kc],function(K,da){var Ma=da[0];da=da[1];return K.properties()[Ma.value]===da.value}],"filter-id-\x3d\x3d":[Ea,[kc],function(K,da){da=da[0];return K.id()===da.value}],"filter-type-\x3d\x3d":[Ea,[ob],function(K,da){da=da[0];return K.geometryType()===da.value}],"filter-\x3c":[Ea,
[ob,kc],function(K,da){var Ma=da[0];da=da[1];K=K.properties()[Ma.value];Ma=da.value;return typeof K===typeof Ma&&K<Ma}],"filter-id-\x3c":[Ea,[kc],function(K,da){da=da[0];K=K.id();da=da.value;return typeof K===typeof da&&K<da}],"filter-\x3e":[Ea,[ob,kc],function(K,da){var Ma=da[0];da=da[1];K=K.properties()[Ma.value];Ma=da.value;return typeof K===typeof Ma&&K>Ma}],"filter-id-\x3e":[Ea,[kc],function(K,da){da=da[0];K=K.id();da=da.value;return typeof K===typeof da&&K>da}],"filter-\x3c\x3d":[Ea,[ob,kc],
function(K,da){var Ma=da[0];da=da[1];K=K.properties()[Ma.value];Ma=da.value;return typeof K===typeof Ma&&K<=Ma}],"filter-id-\x3c\x3d":[Ea,[kc],function(K,da){da=da[0];K=K.id();da=da.value;return typeof K===typeof da&&K<=da}],"filter-\x3e\x3d":[Ea,[ob,kc],function(K,da){var Ma=da[0];da=da[1];K=K.properties()[Ma.value];Ma=da.value;return typeof K===typeof Ma&&K>=Ma}],"filter-id-\x3e\x3d":[Ea,[kc],function(K,da){da=da[0];K=K.id();da=da.value;return typeof K===typeof da&&K>=da}],"filter-has":[Ea,[kc],
function(K,da){return da[0].value in K.properties()}],"filter-has-id":[Ea,[],function(K){return null!==K.id()&&void 0!==K.id()}],"filter-type-in":[Ea,[r(ob)],function(K,da){return 0<=da[0].value.indexOf(K.geometryType())}],"filter-id-in":[Ea,[r(kc)],function(K,da){return 0<=da[0].value.indexOf(K.id())}],"filter-in-small":[Ea,[ob,r(kc)],function(K,da){var Ma=da[0];return 0<=da[1].value.indexOf(K.properties()[Ma.value])}],"filter-in-large":[Ea,[ob,r(kc)],function(K,da){var Ma=da[0];da=da[1];a:{K=K.properties()[Ma.value];
Ma=da.value;var fb=0;for(da=da.value.length-1;fb<=da;){var Eb=fb+da>>1;if(Ma[Eb]===K){da=!0;break a}Ma[Eb]>K?da=Eb-1:fb=Eb+1}da=!1}return da}],all:{type:Ea,overloads:[[[Ea,Ea],function(K,da){var Ma=da[1];return da[0].evaluate(K)&&Ma.evaluate(K)}],[{type:Ea},function(K,da){for(var Ma=0;Ma<da.length;Ma+=1)if(!da[Ma].evaluate(K))return!1;return!0}]]},any:{type:Ea,overloads:[[[Ea,Ea],function(K,da){var Ma=da[1];return da[0].evaluate(K)||Ma.evaluate(K)}],[{type:Ea},function(K,da){for(var Ma=0;Ma<da.length;Ma+=
1)if(da[Ma].evaluate(K))return!0;return!1}]]},"!":[Ea,[Ea],function(K,da){return!da[0].evaluate(K)}],"is-supported-script":[Ea,[ob],function(K,da){da=da[0];var Ma=K.globals&&K.globals.isSupportedScript;return Ma?Ma(da.evaluate(K)):!0}],upcase:[ob,[ob],function(K,da){return da[0].evaluate(K).toUpperCase()}],downcase:[ob,[ob],function(K,da){return da[0].evaluate(K).toLowerCase()}],concat:[ob,{type:kc},function(K,da){return da.map(function(Ma){return W(Ma.evaluate(K))}).join("")}],"resolved-locale":[ob,
[Nc],function(K,da){return da[0].evaluate(K).resolvedLocale()}]});var Sg=function(K,da){this.expression=K;this._warningHistory={};this._evaluator=new fa;this._defaultValue=da?"color"===da.type&&(Mb(da.default)||Array.isArray(da.default))?new Gd(0,0,0,0):"color"===da.type?Gd.parse(da.default)||null:void 0===da.default?null:da.default:null;this._enumValues=da&&"enum"===da.type?da.values:null};Sg.prototype.evaluateWithoutErrorHandling=function(K,da,Ma,fb,Eb,Sb,Cc,Zc){this._evaluator.globals=K;this._evaluator.feature=
da;this._evaluator.featureState=Ma;this._evaluator.canonical=fb||null;this._evaluator.availableImages=Eb||null;this._evaluator.formattedSection=Sb;this._evaluator.featureTileCoord=Cc||null;this._evaluator.featureDistanceData=Zc||null;return this.expression.evaluate(this._evaluator)};Sg.prototype.evaluate=function(K,da,Ma,fb,Eb,Sb,Cc,Zc){this._evaluator.globals=K;this._evaluator.feature=da||null;this._evaluator.featureState=Ma||null;this._evaluator.canonical=fb||null;this._evaluator.availableImages=
Eb||null;this._evaluator.formattedSection=Sb||null;this._evaluator.featureTileCoord=Cc||null;this._evaluator.featureDistanceData=Zc||null;try{var $c=this.expression.evaluate(this._evaluator);if(null===$c||void 0===$c||"number"===typeof $c&&$c!==$c)return this._defaultValue;if(this._enumValues&&!($c in this._enumValues))throw new wc("Expected value to be one of "+Object.keys(this._enumValues).map(function(rd){return JSON.stringify(rd)}).join(", ")+", but found "+JSON.stringify($c)+" instead.");return $c}catch(rd){return this._warningHistory[rd.message]||
(this._warningHistory[rd.message]=!0,"undefined"!==typeof console&&console.warn(rd.message)),this._defaultValue}};var ig=function(K,da){this.kind=K;this._styleExpression=da;this.isStateDependent="constant"!==K&&!Ja(da.expression)};ig.prototype.evaluateWithoutErrorHandling=function(K,da,Ma,fb,Eb,Sb){return this._styleExpression.evaluateWithoutErrorHandling(K,da,Ma,fb,Eb,Sb)};ig.prototype.evaluate=function(K,da,Ma,fb,Eb,Sb){return this._styleExpression.evaluate(K,da,Ma,fb,Eb,Sb)};var Bf=function(K,
da,Ma,fb){this.kind=K;this.zoomStops=Ma;this._styleExpression=da;this.isStateDependent="camera"!==K&&!Ja(da.expression);this.interpolationType=fb};Bf.prototype.evaluateWithoutErrorHandling=function(K,da,Ma,fb,Eb,Sb){return this._styleExpression.evaluateWithoutErrorHandling(K,da,Ma,fb,Eb,Sb)};Bf.prototype.evaluate=function(K,da,Ma,fb,Eb,Sb){return this._styleExpression.evaluate(K,da,Ma,fb,Eb,Sb)};Bf.prototype.interpolationFactor=function(K,da,Ma){return this.interpolationType?vd.interpolationFactor(this.interpolationType,
K,da,Ma):0};var ug={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},
layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},"default":"xyz"},minzoom:{type:"number","default":0},maxzoom:{type:"number",
"default":22},attribution:{type:"string"},promoteId:{type:"promoteId"},"volatile":{type:"boolean","default":!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},
"default":"xyz"},attribution:{type:"string"},"volatile":{type:"boolean","default":!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},
mapbox:{}},"default":"mapbox"},"volatile":{type:"boolean","default":!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number","default":18},attribution:{type:"string"},buffer:{type:"number","default":128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number","default":.375},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},
clusterProperties:{type:"*"},lineMetrics:{type:"boolean","default":!1},generateId:{type:"boolean","default":!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",
length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),
layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},
"default":"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},"default":"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,requires:[{"line-join":"round"}],
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},"default":"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",
"default":250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},"default":"auto",
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,requires:["icon-image","text-field"],expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},
width:{},height:{},both:{}},"default":"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom",
"feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},
{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["icon-image"],expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},
viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},
"text-size":{type:"number","default":16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number","default":0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},"default":"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,
requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},
"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},
requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean","default":!0,
requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},"default":"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],
expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean","default":!1,requires:["text-field","icon-image"],expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",
expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom",
"feature"]}},"filter_fill-extrusion":{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"\x3d\x3d":{},"!\x3d":{},"\x3e":{},"\x3e\x3d":{},"\x3c":{},"\x3c\x3d":{},"in":{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",
values:{Point:{},LineString:{},Polygon:{}}},"function":{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string","default":"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},"default":"rgb"},"default":{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],
length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},"var":{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},"in":{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},"case":{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},
"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},"typeof":{group:"Types"},string:{group:"Types"},number:{group:"Types"},"boolean":{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},
get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},
"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"\x3d\x3d":{group:"Decision"},"!\x3d":{group:"Decision"},"\x3e":{group:"Decision"},"\x3c":{group:"Decision"},"\x3e\x3d":{group:"Decision"},
"\x3c\x3d":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array","default":[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",
"default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant","default":"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant","default":["interpolate",
["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum","default":"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",
"default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},
lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},"default":"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",
required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom",
"feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",
value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},
"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,transition:!1,
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",
value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"line-gap-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},
"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",
has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,"default":[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number","default":0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},"default":"map",expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom",
"feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,
transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},
"property-type":"color-ramp"},"heatmap-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["icon-image","icon-translate"],
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color","default":"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",
"default":"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number","default":0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},
nearest:{}},"default":"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",
values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number","default":.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",
transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},"default":"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,
0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},
"sky-atmosphere-halo-color":{type:"color","default":"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,
units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},og=new Set("in \x3d\x3d !\x3d \x3e \x3e\x3d \x3c \x3c\x3d to-boolean".split(" ")),Tf="type source source-layer minzoom maxzoom filter layout".split(" "),
Wf={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},Tg=/(italic|oblique)$/i,bh={},Mg=function(K,da,Ma){var fb=bh[K];if(!fb){Array.isArray(K)||(K=[K]);fb=400;for(var Eb="normal",Sb=[],Cc=0,Zc=K.length;Cc<Zc;++Cc){var $c=K[Cc].split(" "),
rd=$c[$c.length-1].toLowerCase();"normal"==rd||"italic"==rd||"oblique"==rd?(Eb=rd,$c.pop(),rd=$c[$c.length-1].toLowerCase()):Tg.test(rd)&&(rd=rd.replace(Tg,""),Eb=$c[$c.length-1].replace(rd,""));for(var ce in Wf){var ze=1<$c.length?$c[$c.length-2].toLowerCase():"";if(rd==ce||rd==ce.replace("-","")||ze+"-"+rd==ce){fb=Wf[ce];$c.pop();ze&&ce.startsWith(ze)&&$c.pop();break}}"number"==typeof rd&&(fb=rd);$c=$c.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==$c.indexOf(" ")&&($c='"'+$c+'"');Sb.push($c)}fb=
bh[K]=[Eb,fb,Sb]}return fb[0]+" "+fb[1]+" "+da+"px"+(Ma?"/"+Ma:"")+" "+fb[2]},Ig="https://api.mapbox.com",Ng=function(){for(var K=[],da=78271.51696402048;24>=K.length;da/=2)K.push(da);return K}(),Wa={},Cb={},hc=Array(256).join(""),yd,Dd={},ne=/font-family: ?([^;]*);/,of=/("|')/g,uf,Wg={},Uf={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Xg={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,
1]},Fh=function(K,da){K=zc(K,da);if("error"===K.result)throw Error(K.value.map(function(Ma){return Ma.key+": "+Ma.message}).join(", "));return K.value},ph={},vg={zoom:0},Ug,nh,qh=!1,Lh=/\{[^{}}]*\}/g,uh=!1,Eh={},Jg=new bd.default};
shadow$provide[355]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(65));var k=w(L(72)),p=w(L(349));sb=w(L(351));var q=w(L(294)),t=L(354);class m extends Ka.default{constructor(b){super(k.default.ERROR);this.error=b}}class f extends sb.default{constructor(b){const c="declutter"in b?b.declutter:!0,e=new q.default({state:"loading",format:new p.default});super({source:e,background:b.background,declutter:c,
className:b.className,opacity:b.opacity,visible:b.visible,zIndex:b.zIndex,minResolution:b.minResolution,maxResolution:b.maxResolution,minZoom:b.minZoom,maxZoom:b.maxZoom,renderOrder:b.renderOrder,renderBuffer:b.renderBuffer,renderMode:b.renderMode,map:b.map,updateWhileAnimating:b.updateWhileAnimating,updateWhileInteracting:b.updateWhileInteracting,preload:b.preload,useInterimTilesOnError:b.useInterimTilesOnError,properties:b.properties});b.accessToken&&(this.accessToken=b.accessToken);(0,t.applyStyle)(this,
b.styleUrl,b.layers||b.source,{accessToken:this.accessToken}).then(()=>{e.setState("ready")}).catch(g=>{this.dispatchEvent(new m(g));this.getSource().setState("error")});void 0===this.getBackground()&&(0,t.applyBackground)(this,b.styleUrl,{accessToken:this.accessToken})}}A.default=f};
shadow$provide[356]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(279));var k=w(L(326)),p=w(L(72)),q=w(L(269)),t=w(L(184)),m=w(L(206)),f=w(L(111)),b=L(82),c=L(84);class e extends Ka.default{constructor(g){super(g);this.vectorRenderer_=new k.default(g);this.layerImageRatio_=g.getImageRatio();this.coordinateToVectorPixelTransform_=(0,b.create)();this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose();
super.disposeInternal()}getFeatures(g){if(!this.vectorRenderer_)return new Promise(n=>n([]));g=(0,b.apply)(this.coordinateToVectorPixelTransform_,(0,b.apply)(this.renderedPixelToCoordinateTransform_,g.slice()));return this.vectorRenderer_.getFeatures(g)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(g){const n=g.pixelRatio,h=g.viewState,x=h.resolution;var O=g.viewHints;const H=this.vectorRenderer_;let F=g.extent;1!==this.layerImageRatio_&&(F=F.slice(0),(0,c.scaleFromCenter)(F,
this.layerImageRatio_));const J=(0,c.getWidth)(F)/x,D=(0,c.getHeight)(F)/x;if(!O[f.default.ANIMATING]&&!O[f.default.INTERACTING]&&!(0,c.isEmpty)(F)){H.useContainer(null,null);O=H.context;var r=g.layerStatesArray[g.layerIndex];O.globalAlpha=r.opacity;r=Object.assign({},r,{opacity:1});const z=Object.assign({},g,{declutterTree:new m.default(9),extent:F,size:[J,D],viewState:Object.assign({},g.viewState,{rotation:0}),layerStatesArray:[r],layerIndex:0});let G=!0;const T=new q.default(F,x,n,O.canvas,function(R){H.prepareFrame(z)&&
H.replayGroupChanged&&(H.clipping=!1,H.renderFrame(z,null)&&(H.renderDeclutter(z),G=!1),R())});T.addEventListener(p.default.CHANGE,function(){if(T.getState()===t.default.LOADED){this.image_=G?null:T;var R=T.getResolution(),ca=T.getPixelRatio();this.renderedResolution=R=R*n/ca;this.coordinateToVectorPixelTransform_=(0,b.compose)(this.coordinateToVectorPixelTransform_,J/2,D/2,1/R,-1/R,0,-h.center[0],-h.center[1])}}.bind(this));T.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=g.pixelToCoordinateTransform.slice());
return!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(g,n,h,x,O){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(g,n,h,x,O):super.forEachFeatureAtCoordinate(g,n,h,x,O)}}A.default=e};
shadow$provide[357]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(309));var k=w(L(356));class p extends Ka.default{constructor(q){q=q?q:{};const t=Object.assign({},q);delete t.imageRatio;super(t);this.imageRatio_=void 0!==q.imageRatio?q.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new k.default(this)}}A.default=p};
shadow$provide[358]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(k,p){this.name=k;this.data=p;this.texture_=null}getTexture(k){if(!this.texture_){const p=k.createTexture();k.bindTexture(k.TEXTURE_2D,p);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST);
k.texImage2D(k.TEXTURE_2D,0,k.RGBA,this.data.length/4,1,0,k.RGBA,k.UNSIGNED_BYTE,this.data);this.texture_=p}return this.texture_}}A.default=w};
shadow$provide[359]=function(Ka,L,sb,A){function w(x){return x&&x.__esModule?x:{default:x}}function k(x,O,H){H=H?x.LINEAR:x.NEAREST;x.bindTexture(x.TEXTURE_2D,O);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,H);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,H)}function p(x,O,H,F,J,D){const r=x.getGL();let z;H instanceof Float32Array?(z=r.FLOAT,x.getExtension("OES_texture_float"),
x=null!==x.getExtension("OES_texture_float_linear")):(z=r.UNSIGNED_BYTE,x=!0);k(r,O,D&&x);D=H.byteLength/F[1];O=1;0===D%8?O=8:0===D%4?O=4:0===D%2&&(O=2);switch(J){case 1:J=r.LUMINANCE;break;case 2:J=r.LUMINANCE_ALPHA;break;case 3:J=r.RGB;break;case 4:J=r.RGBA;break;default:throw Error(`Unsupported number of bands: ${J}`);}D=r.getParameter(r.UNPACK_ALIGNMENT);r.pixelStorei(r.UNPACK_ALIGNMENT,O);r.texImage2D(r.TEXTURE_2D,0,J,F[0],F[1],0,J,z,H);r.pixelStorei(r.UNPACK_ALIGNMENT,D)}Object.defineProperty(A,
"__esModule",{value:!0});A.default=void 0;var q=w(L(213));Ka=w(L(71));var t=w(L(72)),m=w(L(186)),f=w(L(190)),b=w(L(109)),c=w(L(332)),e=L(331),g=L(167);let n=null;class h extends Ka.default{constructor(x){super();this.textures=[];this.handleTileChange_=this.handleTileChange_.bind(this);this.renderSize_=(0,g.toSize)(x.grid.getTileSize(x.tile.tileCoord[0]));this.gutter_=x.gutter||0;this.bandCount=NaN;this.helper_=x.helper;const O=new c.default(e.ARRAY_BUFFER,e.STATIC_DRAW);O.fromArray([0,1,1,1,1,0,0,
0]);this.helper_.flushBufferData(O);this.coords=O;this.setTile(x.tile)}setTile(x){if(x!==this.tile)if(this.tile&&this.tile.removeEventListener(t.default.CHANGE,this.handleTileChange_),this.tile=x,this.textures.length=0,this.loaded=x.getState()===b.default.LOADED)this.uploadTile_();else{if(x instanceof m.default){const O=x.getImage();O instanceof Image&&!O.crossOrigin&&(O.crossOrigin="anonymous")}x.addEventListener(t.default.CHANGE,this.handleTileChange_)}}uploadTile_(){var x=this.helper_,O=x.getGL();
const H=this.tile;if(H instanceof m.default||H instanceof f.default){var F=O.createTexture();this.textures.push(F);this.bandCount=4;x=H.getImage();k(O,F,H.interpolate);O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,x)}else{F=H.getSize();F=[F[0]+2*this.gutter_,F[1]+2*this.gutter_];var J=H.getData(),D=F[0]*F[1],r=J instanceof Float32Array?Float32Array:Uint8Array,z=r.BYTES_PER_ELEMENT,G=J.byteLength/F[1];this.bandCount=Math.floor(G/z/F[0]);var T=Math.ceil(this.bandCount/4);if(1===T)D=O.createTexture(),
this.textures.push(D),p(x,D,J,F,this.bandCount,H.interpolate);else{var R=Array(T);for(var ca=0;ca<T;++ca){var M=O.createTexture();this.textures.push(M);R[ca]=new r(D*(ca<T-1?4:(this.bandCount-1)%4+1))}r=O=0;ca=F[0]*this.bandCount;for(M=0;M<F[1];++M){for(let ba=0;ba<ca;++ba){const W=ba%this.bandCount,ea=R[Math.floor(W/4)];ea[ea.length/D*Math.floor(O/this.bandCount)+W%4]=J[r+ba];++O}r+=G/z}for(J=0;J<T;++J)z=R[J],p(x,this.textures[J],z,F,z.length/D,H.interpolate)}}}handleTileChange_(){this.tile.getState()===
b.default.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(t.default.CHANGE))}disposeInternal(){const x=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(let O=0;O<this.textures.length;++O)x.deleteTexture(this.textures[O]);this.tile.removeEventListener(t.default.CHANGE,this.handleTileChange_)}getPixelData(x,O){if(!this.loaded)return null;const H=this.renderSize_[0];var F=this.renderSize_[1],J=this.gutter_;if(this.tile instanceof q.default){var D=this.tile.getSize();const z=
D[0],G=D[1];D=z+2*J;var r=G+2*J;x=J+Math.floor(x/H*z);F=J+Math.floor(O/F*G);O=this.tile.getData();if(O instanceof DataView)return J=O.byteLength/(D*r),F=J*(F*D+x),O=O.buffer.slice(F,F+J),new DataView(O);F=this.bandCount*(F*D+x);return O.slice(F,F+this.bandCount)}n||(r=document.createElement("canvas"),r.width=1,r.height=1,n=r.getContext("2d"));n.clearRect(0,0,1,1);r=this.tile.getImage();x=J+Math.floor(x/H*(r.width-2*J));O=J+Math.floor(O/F*(r.height-2*J));try{n.drawImage(r,x,O,1,1,0,0,1,1),D=n.getImageData(0,
0,1,1).data}catch(z){return n=null}return D}}A.default=h};
shadow$provide[360]=function(Ka,L,sb,A){function w(G){return G&&G.__esModule?G:{default:G}}function k(G,T){var R=G.layerStatesArray[G.layerIndex];R.extent&&(T=(0,g.getIntersection)(T,(0,x.fromUserExtent)(R.extent,G.viewState.projection)));R=R.layer.getRenderSource();R.getWrapX()||(G=R.getTileGridForProjection(G.viewState.projection).getExtent())&&(T=(0,g.getIntersection)(T,G));return T}function p(G,T){return`${G.getKey()},${(0,h.getKey)(T)}`}Object.defineProperty(A,"__esModule",{value:!0});A.default=
A.Attributes=A.Uniforms=void 0;var q=w(L(181)),t=w(L(195)),m=w(L(109)),f=w(L(359)),b=w(L(332));Ka=w(L(337));sb=L(336);var c=L(331),e=L(82),g=L(84),n=L(335),h=L(191),x=L(121),O=L(75),H=L(68),F=L(167);const J={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY",
RENDER_EXTENT:"u_renderExtent",RESOLUTION:"u_resolution",ZOOM:"u_zoom"};A.Uniforms=J;L={TEXTURE_COORD:"a_textureCoord"};A.Attributes=L;const D=[{name:L.TEXTURE_COORD,size:2,type:sb.AttributeType.FLOAT}],r={};class z extends Ka.default{constructor(G,T){super(G,{uniforms:T.uniforms});this.renderComplete=!1;this.tileTransform_=(0,e.create)();this.tempMat4_=(0,n.create)();this.tempTileRange_=new t.default(0,0,0,0);this.tempTileCoord_=(0,h.createOrUpdate)(0,0,0);this.tempSize_=[0,0];this.vertexShader_=
T.vertexShader;this.fragmentShader_=T.fragmentShader;this.indices_=new b.default(c.ELEMENT_ARRAY_BUFFER,c.STATIC_DRAW);this.indices_.fromArray([0,1,3,1,2,3]);this.tileTextureCache_=new q.default(void 0!==T.cacheSize?T.cacheSize:512);this.paletteTextures_=T.paletteTextures||[];this.frameState_=null}reset(G){super.reset({uniforms:G.uniforms});this.vertexShader_=G.vertexShader;this.fragmentShader_=G.fragmentShader;this.paletteTextures_=G.paletteTextures||[];this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,
this.vertexShader_))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.helper.flushBufferData(this.indices_)}isDrawableTile_(G){var T=this.getLayer();G=G.getState();T=T.getUseInterimTilesOnError();return G==m.default.LOADED||G==m.default.EMPTY||G==m.default.ERROR&&!T}prepareFrameInternal(G){const T=this.getLayer().getRenderSource();return!T||(0,g.isEmpty)(k(G,G.extent))?!1:"ready"===T.getState()}enqueueTiles(G,T,R,ca){const M=G.viewState;var ba=
this.getLayer();const W=ba.getRenderSource(),ea=W.getTileGridForProjection(M.projection),La=W.getGutterForProjection(M.projection),aa=(0,O.getUid)(W);aa in G.wantedTiles||(G.wantedTiles[aa]={});const C=G.wantedTiles[aa],B=this.tileTextureCache_;for(ba=Math.max(R-ba.getPreload(),ea.getMinZoom(),ba.getMinZoom());R>=ba;--R){const sa=ea.getTileRangeForExtentAndZ(T,R,this.tempTileRange_),la=ea.getResolution(R);for(let Ia=sa.minX;Ia<=sa.maxX;++Ia)for(let bb=sa.minY;bb<=sa.maxY;++bb){const ib=(0,h.createOrUpdate)(R,
Ia,bb,this.tempTileCoord_);var N=p(W,ib);let Ja,ma;B.containsKey(N)&&(Ja=B.get(N),ma=Ja.tile);Ja&&Ja.tile.key===W.getKey()||(ma=W.getTile(R,Ia,bb,G.pixelRatio,M.projection),Ja?this.isDrawableTile_(ma)?Ja.setTile(ma):(N=ma.getInterimTile(),Ja.setTile(N)):(Ja=new f.default({tile:ma,grid:ea,helper:this.helper,gutter:La}),B.set(N,Ja)));N=ca;var Y=Ja,Aa=R;Aa in N||(N[Aa]=[]);N[Aa].push(Y);N=ma.getKey();C[N]=!0;ma.getState()===m.default.IDLE&&(G.tileQueue.isKeyQueued(N)||G.tileQueue.enqueue([ma,aa,ea.getTileCoordCenter(ib),
la]))}}}renderFrame(G){this.frameState_=G;this.renderComplete=!0;const T=this.helper.getGL();this.preRender(T,G);var R=G.viewState;const ca=this.getLayer().getRenderSource();var M=ca.getTileGridForProjection(R.projection);const ba=ca.getGutterForProjection(R.projection),W=k(G,G.extent);var ea=M.getZForResolution(R.resolution,ca.zDirection);const La={};if(G.nextExtent){var aa=M.getZForResolution(R.nextResolution,ca.zDirection),C=k(G,G.nextExtent);this.enqueueTiles(G,C,aa,La)}this.enqueueTiles(G,W,
ea,La);aa={};C=(0,O.getUid)(this);var B=G.time,N=!1,Y=La[ea];for(let Fa=0,Pa=Y.length;Fa<Pa;++Fa){var Aa=Y[Fa],sa=Aa.tile,la=sa.tileCoord;if(Aa.loaded){Aa=sa.getAlpha(C,B);if(1===Aa){sa.endTransition(C);continue}N=!0;sa=(0,h.getKey)(la);aa[sa]=Aa}this.renderComplete=!1;if(!this.findAltTiles_(M,la,ea+1,La))for(sa=M.getMinZoom(),Aa=ea-1;Aa>=sa&&!this.findAltTiles_(M,la,Aa,La);--Aa);}this.helper.useProgram(this.program_,G);this.helper.prepareDraw(G,!N);ea=Object.keys(La).map(Number).sort(H.numberSafeCompareFunction);
C=R.center[0];B=R.center[1];for(let Fa=0,Pa=ea.length;Fa<Pa;++Fa){var Ia=ea[Fa];N=M.getResolution(Ia);Y=(0,F.toSize)(M.getTileSize(Ia),this.tempSize_);la=M.getOrigin(Ia);sa=Y[0]+2*ba;Aa=Y[1]+2*ba;const qa=sa/Aa,ya=(C-la[0])/(Y[0]*N),oa=(la[1]-B)/(Y[1]*N),va=R.resolution/N,Ua=2*(1-1/(Ia+1))-1;Ia=La[Ia];for(let eb=0,ra=Ia.length;eb<ra;++eb){var bb=Ia[eb];if(!bb.loaded)continue;const Oa=bb.tile.tileCoord;var ib=(0,h.getKey)(Oa),Ja=Oa[1];const ja=Oa[2];(0,e.reset)(this.tileTransform_);(0,e.scale)(this.tileTransform_,
2/(G.size[0]*va/sa),-2/(G.size[1]*va/sa));(0,e.rotate)(this.tileTransform_,R.rotation);(0,e.scale)(this.tileTransform_,1,1/qa);(0,e.translate)(this.tileTransform_,(Y[0]*(Ja-ya)-ba)/sa,(Y[1]*(ja-oa)-ba)/Aa);this.helper.setUniformMatrixValue(J.TILE_TRANSFORM,(0,n.fromTransform)(this.tempMat4_,this.tileTransform_));this.helper.bindBuffer(bb.coords);this.helper.bindBuffer(this.indices_);this.helper.enableAttributes(D);let U=0;for(;U<bb.textures.length;){var ma=`${J.TILE_TEXTURE_ARRAY}[${U}]`;T.activeTexture(T["TEXTURE"+
U]);T.bindTexture(T.TEXTURE_2D,bb.textures[U]);T.uniform1i(this.helper.getUniformLocation(ma),U);++U}for(bb=0;bb<this.paletteTextures_.length;++bb){ma=this.paletteTextures_[bb];T.activeTexture(T["TEXTURE"+U]);const ka=ma.getTexture(T);T.bindTexture(T.TEXTURE_2D,ka);T.uniform1i(this.helper.getUniformLocation(ma.name),U);++U}ib=ib in aa?aa[ib]:1;1>ib&&(G.animate=!0);this.helper.setUniformFloatValue(J.TRANSITION_ALPHA,ib);this.helper.setUniformFloatValue(J.DEPTH,Ua);this.helper.setUniformFloatValue(J.TEXTURE_PIXEL_WIDTH,
sa);this.helper.setUniformFloatValue(J.TEXTURE_PIXEL_HEIGHT,Aa);this.helper.setUniformFloatValue(J.TEXTURE_RESOLUTION,N);this.helper.setUniformFloatValue(J.TEXTURE_ORIGIN_X,la[0]+Ja*Y[0]*N-ba*N);this.helper.setUniformFloatValue(J.TEXTURE_ORIGIN_Y,la[1]-ja*Y[1]*N+ba*N);Ja=W;0<ba&&(Ja=M.getTileCoordExtent(Oa),(0,g.getIntersection)(Ja,W,Ja));this.helper.setUniformFloatVec4(J.RENDER_EXTENT,Ja);this.helper.setUniformFloatValue(J.RESOLUTION,R.resolution);this.helper.setUniformFloatValue(J.ZOOM,R.zoom);
this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(G,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);R=this.helper.getCanvas();for(M=this.tileTextureCache_;M.canExpireCache();)M.pop().dispose();G.postRenderFunctions.push(function(Fa,Pa){ca.updateCacheSize(.1,Pa.viewState.projection);ca.expireCache(Pa.viewState.projection,r)});this.postRender(T,G);return R}getData(G){if(!this.helper.getGL())return null;var T=this.frameState_;if(!T)return null;var R=this.getLayer();
G=(0,e.apply)(T.pixelToCoordinateTransform,G.slice());T=T.viewState;var ca=R.getExtent();if(ca&&!(0,g.containsCoordinate)((0,x.fromUserExtent)(ca,T.projection),G))return null;R=R.getSources((0,g.boundingExtent)([G]),T.resolution);for(ca=R.length-1;0<=ca;--ca){var M=R[ca];if("ready"===M.getState()){var ba=M.getTileGridForProjection(T.projection);if(M.getWrapX())break;var W=ba.getExtent();if(!W||(0,g.containsCoordinate)(W,G))break}}if(0>ca)return null;W=this.tileTextureCache_;for(R=ba.getZForResolution(T.resolution);R>=
ba.getMinZoom();--R)if(T=ba.getTileCoordForCoordAndZ(G,R),ca=p(M,T),W.containsKey(ca)&&(ca=W.get(ca),ca.loaded))return M=ba.getOrigin(R),W=(0,F.toSize)(ba.getTileSize(R)),ba=ba.getResolution(R),ca.getPixelData((G[0]-M[0])/ba-T[1]*W[0],(M[1]-G[1])/ba-T[2]*W[1]);return null}findAltTiles_(G,T,R,ca){G=G.getTileRangeForTileCoordAndZ(T,R,this.tempTileRange_);if(!G)return!1;T=!0;const M=this.tileTextureCache_,ba=this.getLayer().getRenderSource();for(let aa=G.minX;aa<=G.maxX;++aa)for(let C=G.minY;C<=G.maxY;++C){var W=
p(ba,[R,aa,C]),ea=!1;if(M.containsKey(W)&&(W=M.get(W),W.loaded)){ea=ca;var La=R;La in ea||(ea[La]=[]);ea[La].push(W);ea=!0}ea||(T=!1)}return T}removeHelper(){if(this.helper){const G=this.tileTextureCache_;G.forEach(T=>T.dispose());G.clear()}super.removeHelper()}disposeInternal(){const G=this.helper;G&&(G.getGL().deleteProgram(this.program_),delete this.program_,G.deleteBuffer(this.indices_));super.disposeInternal();delete this.indices_;delete this.tileTextureCache_;delete this.frameState_}}A.default=
z};
shadow$provide[361]=function(Ka,L,sb,A){function w(M){if("number"===typeof M)return R.NUMBER;if("boolean"===typeof M)return R.BOOLEAN;if("string"===typeof M)return(0,T.isStringColor)(M)?R.COLOR|R.STRING:R.STRING;if(!Array.isArray(M))throw Error(`Unhandled value type: ${JSON.stringify(M)}`);if(M.every(function(W){return"number"===typeof W}))return 3===M.length||4===M.length?R.COLOR|R.NUMBER_ARRAY:R.NUMBER_ARRAY;if("string"!==typeof M[0])throw Error(`Expected an expression operator but received: ${JSON.stringify(M)}`);
const ba=ca[M[0]];if(void 0===ba)throw Error(`Unrecognized expression operator: ${JSON.stringify(M)}`);return ba.getReturnType(M.slice(1))}function k(M){return 0===Math.log2(M)%1}function p(M){M=M.toString();return M.includes(".")?M:M+".0"}function q(M){if(2>M.length||4<M.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${M.length}(${M.map(p).join(", ")})`}function t(M){M=(0,T.asArray)(M).slice();4>M.length&&M.push(1);return q(M.map(function(ba,W){return 3>
W?ba/255:ba}))}function m(M,ba){void 0===M.stringLiteralsMap[ba]&&(M.stringLiteralsMap[ba]=Object.keys(M.stringLiteralsMap).length);return M.stringLiteralsMap[ba]}function f(M,ba){return p(m(M,ba))}function b(M,ba,W){if(Array.isArray(ba)&&"string"===typeof ba[0]){var ea=ca[ba[0]];if(void 0===ea)throw Error(`Unrecognized expression operator: ${JSON.stringify(ba)}`);return ea.toGlsl(M,ba.slice(1),W)}ea=w(ba);if(0<(ea&R.NUMBER))return p(ba);if(0<(ea&R.BOOLEAN))return ba.toString();if(0<(ea&R.STRING)&&
(void 0===W||W==R.STRING))return f(M,ba.toString());if(0<(ea&R.COLOR)&&(void 0===W||W==R.COLOR))return t(ba);if(0<(ea&R.NUMBER_ARRAY))return q(ba);throw Error(`Unexpected expression ${ba} (expected type ${W})`);}function c(M){if(!(w(M)&R.NUMBER))throw Error(`A numeric value was expected, got ${JSON.stringify(M)} instead`);}function e(M){for(let ba=0;ba<M.length;ba++)c(M[ba])}function g(M){if(!(w(M)&R.STRING))throw Error(`A string value was expected, got ${JSON.stringify(M)} instead`);}function n(M){if(!(w(M)&
R.BOOLEAN))throw Error(`A boolean value was expected, got ${JSON.stringify(M)} instead`);}function h(M,ba){if(M.length!==ba)throw Error(`Exactly ${ba} arguments were expected, got ${M.length} instead`);}function x(M,ba){if(M.length<ba)throw Error(`At least ${ba} arguments were expected, got ${M.length} instead`);}function O(M,ba){if(M.length>ba)throw Error(`At most ${ba} arguments were expected, got ${M.length} instead`);}function H(M){if(0!==M.length%2)throw Error(`An even amount of arguments was expected, got ${M} instead`);
}function F(M,ba){if(!k(ba))throw Error(`Could not infer only one type from the following expression: ${JSON.stringify(M)}`);}function J(M){return"u_var_"+M}function D(M){return{getReturnType:function(ba){return R.BOOLEAN},toGlsl:function(ba,W){h(W,2);let ea=R.ANY;for(let La=0;La<W.length;La++)ea&=w(W[La]);if(ea===R.NONE)throw Error(`All arguments should be of compatible type, got ${JSON.stringify(W)} instead`);ea&=~R.COLOR;return`(${b(ba,W[0],ea)} ${M} ${b(ba,W[1],ea)})`}}}function r(M){return{getReturnType:function(ba){return R.BOOLEAN},
toGlsl:function(ba,W){x(W,2);for(var ea=0;ea<W.length;ea++)n(W[ea]);ea="";ea=W.map(La=>b(ba,La)).join(` ${M} `);return`(${ea})`}}}Object.defineProperty(A,"__esModule",{value:!0});A.getValueType=w;A.isTypeUnique=k;A.numberToGlsl=p;A.arrayToGlsl=q;A.colorToGlsl=t;A.getStringNumberEquivalent=m;A.stringToGlsl=f;A.expressionToGlsl=b;A.uniformNameForVariable=J;A.PALETTE_TEXTURE_ARRAY=A.Operators=A.ValueTypes=void 0;var z=function(M){return M&&M.__esModule?M:{default:M}}(L(358)),G=L(360),T=L(86);const R=
{NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};A.ValueTypes=R;const ca={};A.Operators=ca;ca.get={getReturnType:function(M){return R.ANY},toGlsl:function(M,ba){h(ba,1);g(ba[0]);ba=ba[0].toString();M.attributes.includes(ba)||M.attributes.push(ba);return(M.inFragmentShader?"v_":"a_")+ba}};ca["var"]={getReturnType:function(M){return R.ANY},toGlsl:function(M,ba){h(ba,1);g(ba[0]);ba=ba[0].toString();M.variables.includes(ba)||M.variables.push(ba);return J(ba)}};A.PALETTE_TEXTURE_ARRAY=
"u_paletteTextures";ca.palette={getReturnType:function(M){return R.COLOR},toGlsl:function(M,ba){h(ba,2);c(ba[0]);const W=b(M,ba[0]);var ea=ba[1];if(!Array.isArray(ea))throw Error("The second argument of palette must be an array");ba=ea.length;var La=new Uint8Array(4*ba);for(let B=0;B<ba;B++){var aa=ea[B];if("string"===typeof aa)aa=(0,T.fromString)(aa);else{if(!Array.isArray(aa))throw Error("The second argument of palette must be an array of strings or colors");var C=aa.length;if(4!==C){if(3!==C)throw Error(`Expected palette color to have 3 or 4 values, got ${C}`);
aa=[aa[0],aa[1],aa[2],1]}}C=4*B;La[C]=aa[0];La[C+1]=aa[1];La[C+2]=aa[2];La[C+3]=255*aa[3]}M.paletteTextures||(M.paletteTextures=[]);ea=`${"u_paletteTextures"}[${M.paletteTextures.length}]`;La=new z.default(ea,La);M.paletteTextures.push(La);return`texture2D(${ea}, vec2((${W} + 0.5) / ${ba}.0, 0.5))`}};ca.band={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){x(ba,1);O(ba,3);var W=ba[0];if(!("getBandValue"in M.functions)){var ea="";const La=M.bandCount||1;for(let aa=0;aa<La;aa++){const C=
Math.floor(aa/4);let B=aa%4;aa===La-1&&1===B&&(B=3);ea+=`
          if (band == ${aa+1}.0) {
            return texture2D(${`${G.Uniforms.TILE_TEXTURE_ARRAY}[${C}]`}, v_textureCoord + vec2(dx, dy))[${B}];
          }
        `}M.functions.getBandValue=`
        float getBandValue(float band, float xOffset, float yOffset) {
          float dx = xOffset / ${G.Uniforms.TEXTURE_PIXEL_WIDTH};
          float dy = yOffset / ${G.Uniforms.TEXTURE_PIXEL_HEIGHT};
          ${ea}
        }
      `}W=b(M,W);ea=b(M,ba[1]||0);M=b(M,ba[2]||0);return`${"getBandValue"}(${W}, ${ea}, ${M})`}};ca.time={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,0);return"u_time"}};ca.zoom={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,0);return"u_zoom"}};ca.resolution={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,0);return"u_resolution"}};ca["*"]={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,2);e(ba);return`(${b(M,
ba[0])} * ${b(M,ba[1])})`}};ca["/"]={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,2);e(ba);return`(${b(M,ba[0])} / ${b(M,ba[1])})`}};ca["+"]={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,2);e(ba);return`(${b(M,ba[0])} + ${b(M,ba[1])})`}};ca["-"]={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,2);e(ba);return`(${b(M,ba[0])} - ${b(M,ba[1])})`}};ca.clamp={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,3);
e(ba);const W=b(M,ba[1]),ea=b(M,ba[2]);return`clamp(${b(M,ba[0])}, ${W}, ${ea})`}};ca["%"]={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,2);e(ba);return`mod(${b(M,ba[0])}, ${b(M,ba[1])})`}};ca["^"]={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,2);e(ba);return`pow(${b(M,ba[0])}, ${b(M,ba[1])})`}};ca.abs={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,1);e(ba);return`abs(${b(M,ba[0])})`}};ca.floor={getReturnType:function(M){return R.NUMBER},
toGlsl:function(M,ba){h(ba,1);e(ba);return`floor(${b(M,ba[0])})`}};ca.round={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,1);e(ba);return`floor(${b(M,ba[0])} + 0.5)`}};ca.ceil={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,1);e(ba);return`ceil(${b(M,ba[0])})`}};ca.sin={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,1);e(ba);return`sin(${b(M,ba[0])})`}};ca.cos={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){h(ba,
1);e(ba);return`cos(${b(M,ba[0])})`}};ca.atan={getReturnType:function(M){return R.NUMBER},toGlsl:function(M,ba){x(ba,1);O(ba,2);e(ba);return 2===ba.length?`atan(${b(M,ba[0])}, ${b(M,ba[1])})`:`atan(${b(M,ba[0])})`}};ca["\x3e"]={getReturnType:function(M){return R.BOOLEAN},toGlsl:function(M,ba){h(ba,2);e(ba);return`(${b(M,ba[0])} > ${b(M,ba[1])})`}};ca["\x3e\x3d"]={getReturnType:function(M){return R.BOOLEAN},toGlsl:function(M,ba){h(ba,2);e(ba);return`(${b(M,ba[0])} >= ${b(M,ba[1])})`}};ca["\x3c"]={getReturnType:function(M){return R.BOOLEAN},
toGlsl:function(M,ba){h(ba,2);e(ba);return`(${b(M,ba[0])} < ${b(M,ba[1])})`}};ca["\x3c\x3d"]={getReturnType:function(M){return R.BOOLEAN},toGlsl:function(M,ba){h(ba,2);e(ba);return`(${b(M,ba[0])} <= ${b(M,ba[1])})`}};ca["\x3d\x3d"]=D("\x3d\x3d");ca["!\x3d"]=D("!\x3d");ca["!"]={getReturnType:function(M){return R.BOOLEAN},toGlsl:function(M,ba){h(ba,1);n(ba[0]);return`(!${b(M,ba[0])})`}};ca.all=r("\x26\x26");ca.any=r("||");ca.between={getReturnType:function(M){return R.BOOLEAN},toGlsl:function(M,ba){h(ba,
3);e(ba);const W=b(M,ba[1]),ea=b(M,ba[2]);M=b(M,ba[0]);return`(${M} >= ${W} && ${M} <= ${ea})`}};ca.array={getReturnType:function(M){return R.NUMBER_ARRAY},toGlsl:function(M,ba){x(ba,2);O(ba,4);e(ba);const W=ba.map(function(ea){return b(M,ea,R.NUMBER)});return`vec${ba.length}(${W.join(", ")})`}};ca.color={getReturnType:function(M){return R.COLOR},toGlsl:function(M,ba){x(ba,3);O(ba,4);e(ba);3===ba.length&&ba.push(1);const W=ba.map(function(ea,La){return b(M,ea,R.NUMBER)+(3>La?" / 255.0":"")});return`vec${ba.length}(${W.join(", ")})`}};
ca.interpolate={getReturnType:function(M){let ba=R.COLOR|R.NUMBER;for(let W=3;W<M.length;W+=2)ba&=w(M[W]);return ba},toGlsl:function(M,ba,W){H(ba);x(ba,6);var ea=ba[0];switch(ea[0]){case "linear":var La=1;break;case "exponential":La=ea[1];break;default:La=null}if(!La)throw Error(`Invalid interpolation type for "interpolate" operator, received: ${JSON.stringify(ea)}`);W=void 0!==W?W:R.ANY;W&=ca.interpolate.getReturnType(ba);F(ba,W);ea=b(M,ba[1]);La=p(La);var aa="";for(let C=2;C<ba.length-2;C+=2){const B=
b(M,ba[C]);aa=aa||b(M,ba[C+1],W);const N=b(M,ba[C+2]),Y=b(M,ba[C+3],W);aa=`mix(${aa}, ${Y}, pow(clamp((${ea} - ${B}) / (${N} - ${B}), 0.0, 1.0), ${La}))`}return aa}};ca.match={getReturnType:function(M){let ba=R.ANY;for(let W=2;W<M.length;W+=2)ba&=w(M[W]);return ba&=w(M[M.length-1])},toGlsl:function(M,ba,W){H(ba);x(ba,4);W=void 0!==W?W:R.ANY;W&=ca.match.getReturnType(ba);F(ba,W);const ea=b(M,ba[0]),La=b(M,ba[ba.length-1],W);let aa=null;for(let C=ba.length-3;1<=C;C-=2){const B=b(M,ba[C]),N=b(M,ba[C+
1],W);aa=`(${ea} == ${B} ? ${N} : ${aa||La})`}return aa}};ca["case"]={getReturnType:function(M){let ba=R.ANY;for(let W=1;W<M.length;W+=2)ba&=w(M[W]);return ba&=w(M[M.length-1])},toGlsl:function(M,ba,W){if(0===ba.length%2)throw Error(`An odd amount of arguments was expected, got ${ba} instead`);x(ba,3);W=void 0!==W?W:R.ANY;W&=ca["case"].getReturnType(ba);F(ba,W);for(var ea=0;ea<ba.length-1;ea+=2)n(ba[ea]);ea=b(M,ba[ba.length-1],W);let La=null;for(let aa=ba.length-3;0<=aa;aa-=2){const C=b(M,ba[aa]),
B=b(M,ba[aa+1],W);La=`(${C} ? ${B} : ${La||ea})`}return La}}};
shadow$provide[362]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.parseLiteralStyle=function(p){const q=p.symbol;var t=void 0!==q.size?q.size:1,m=q.color||"white",f=q.textureCoord||[0,0,1,1],b=q.offset||[0,0],c=void 0!==q.opacity?q.opacity:1,e=void 0!==q.rotation?q.rotation:0;const g={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{}};var n=(0,w.expressionToGlsl)(g,t,w.ValueTypes.NUMBER_ARRAY|w.ValueTypes.NUMBER);b=(0,w.expressionToGlsl)(g,b,
w.ValueTypes.NUMBER_ARRAY);f=(0,w.expressionToGlsl)(g,f,w.ValueTypes.NUMBER_ARRAY);const h=(0,w.expressionToGlsl)(g,e,w.ValueTypes.NUMBER);e={inFragmentShader:!0,variables:g.variables,attributes:[],stringLiteralsMap:g.stringLiteralsMap,functions:{}};m=(0,w.expressionToGlsl)(e,m,w.ValueTypes.COLOR);c=(0,w.expressionToGlsl)(e,c,w.ValueTypes.NUMBER);let x="1.0";t=`vec2(${(0,w.expressionToGlsl)(e,t,w.ValueTypes.NUMBER_ARRAY|w.ValueTypes.NUMBER)}).x`;switch(q.symbolType){case "square":break;case "image":break;
case "circle":x=`(1.0-smoothstep(1.-4./${t},1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))`;break;case "triangle":x=`(1.0-smoothstep(.5-3./${t},.5,cos(floor(.5+${"(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))"}/2.094395102)*2.094395102-${"(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))"})*length(${"(v_quadCoord*2.-1.)"})))`;break;default:throw Error("Unexpected symbol type: "+q.symbolType);}const O=(new k).setSizeExpression(`vec2(${n})`).setRotationExpression(h).setSymbolOffsetExpression(b).setTextureCoordinateExpression(f).setSymbolRotateWithView(!!q.rotateWithView).setColorExpression(`vec4(${m}.rgb, ${m}.a * ${c} * ${x})`);
p.filter&&(n=(0,w.expressionToGlsl)(e,p.filter,w.ValueTypes.BOOLEAN),O.setFragmentDiscardExpression(`!${n}`));const H={};e.variables.forEach(function(F){const J=(0,w.uniformNameForVariable)(F);O.addUniform(`float ${J}`);H[J]=function(){if(!p.variables||void 0===p.variables[F])throw Error(`The following variable is missing from the style: ${F}`);let D=p.variables[F];"string"===typeof D&&(D=(0,w.getStringNumberEquivalent)(g,D));return void 0!==D?D:-9999999}});"image"===q.symbolType&&q.src&&(n=new Image,
n.crossOrigin=void 0===q.crossOrigin?"anonymous":q.crossOrigin,n.src=q.src,O.addUniform("sampler2D u_texture").setColorExpression(O.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),H.u_texture=n);e.attributes.forEach(function(F){g.attributes.includes(F)||g.attributes.push(F);O.addVarying(`v_${F}`,"float",`a_${F}`)});g.attributes.forEach(function(F){O.addAttribute(`float a_${F}`)});return{builder:O,attributes:g.attributes.map(function(F){return{name:F,callback:function(J,D){J=D[F];"string"===
typeof J&&(J=(0,w.getStringNumberEquivalent)(g,J));return void 0!==J?J:-9999999}}}),uniforms:H}};A.ShaderBuilder=void 0;var w=L(361);class k{constructor(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression="false";this.rotateWithView=!1}addUniform(p){this.uniforms.push(p);return this}addAttribute(p){this.attributes.push(p);
return this}addVarying(p,q,t){this.varyings.push({name:p,type:q,expression:t});return this}setSizeExpression(p){this.sizeExpression=p;return this}setRotationExpression(p){this.rotationExpression=p;return this}setSymbolOffsetExpression(p){this.offsetExpression=p;return this}setColorExpression(p){this.colorExpression=p;return this}setTextureCoordinateExpression(p){this.texCoordExpression=p;return this}setFragmentDiscardExpression(p){this.discardExpression=p;return this}setSymbolRotateWithView(p){this.rotateWithView=
p;return this}getSizeExpression(){return this.sizeExpression}getOffsetExpression(){return this.offsetExpression}getColorExpression(){return this.colorExpression}getTextureCoordinateExpression(){return this.texCoordExpression}getFragmentDiscardExpression(){return this.discardExpression}getSymbolVertexShader(p){const q=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix";let t=this.attributes,m=this.varyings;p&&(t=t.concat("vec4 a_hitColor"),m=m.concat({name:"v_hitColor",
type:"vec4",expression:"a_hitColor"}));return`precision mediump float;
uniform mat4 u_projectionMatrix;
uniform mat4 u_offsetScaleMatrix;
uniform mat4 u_offsetRotateMatrix;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
${this.uniforms.map(function(f){return"uniform "+f+";"}).join("\n")}
attribute vec2 a_position;
attribute float a_index;
${t.map(function(f){return"attribute "+f+";"}).join("\n")}
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
${m.map(function(f){return"varying "+f.type+" "+f.name+";"}).join("\n")}
void main(void) {
  mat4 offsetMatrix = ${q};
  vec2 halfSize = ${this.sizeExpression} * 0.5;
  vec2 offset = ${this.offsetExpression};
  float angle = ${this.rotationExpression};
  float offsetX;
  float offsetY;
  if (a_index == 0.0) {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  } else if (a_index == 1.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else if (a_index == 2.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  }
  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
  vec4 texCoord = ${this.texCoordExpression};
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;
  v_quadCoord = vec2(u, v);
${m.map(function(f){return"  "+f.name+" \x3d "+f.expression+";"}).join("\n")}
}`}getSymbolFragmentShader(p){const q=p?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"";let t=this.varyings;p&&(t=t.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return`precision mediump float;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
${this.uniforms.map(function(m){return"uniform "+m+";"}).join("\n")}
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
${t.map(function(m){return"varying "+m.type+" "+m.name+";"}).join("\n")}
void main(void) {
  if (${this.discardExpression}) { discard; }
  gl_FragColor = ${this.colorExpression};
  gl_FragColor.rgb *= gl_FragColor.a;
${q}
}`}}A.ShaderBuilder=k};
shadow$provide[363]=function(Ka,L,sb,A){function w(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(91));var k=w(L(343)),p=L(362);class q extends Ka.default{constructor(t){super(Object.assign({},t));this.parseResult_=(0,p.parseLiteralStyle)(t.style);this.styleVariables_=t.style.variables||{};this.hitDetectionDisabled_=!!t.disableHitDetection}createRenderer(){return new k.default(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),
fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})}updateStyleVariables(t){Object.assign(this.styleVariables_,t);this.changed()}}A.default=q};
shadow$provide[364]=function(Ka,L,sb,A){function w(b){if("function"!==typeof WeakMap)return null;var c=new WeakMap,e=new WeakMap;return(w=function(g){return g?e:c})(b)}function k(b){return b&&b.__esModule?b:{default:b}}function p(b,c){const e=`
    attribute vec2 ${t.Attributes.TEXTURE_COORD};
    uniform mat4 ${t.Uniforms.TILE_TRANSFORM};
    uniform float ${t.Uniforms.TEXTURE_PIXEL_WIDTH};
    uniform float ${t.Uniforms.TEXTURE_PIXEL_HEIGHT};
    uniform float ${t.Uniforms.TEXTURE_RESOLUTION};
    uniform float ${t.Uniforms.TEXTURE_ORIGIN_X};
    uniform float ${t.Uniforms.TEXTURE_ORIGIN_Y};
    uniform float ${t.Uniforms.DEPTH};

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;

    void main() {
      v_textureCoord = ${t.Attributes.TEXTURE_COORD};
      v_mapCoord = vec2(
        ${t.Uniforms.TEXTURE_ORIGIN_X} + ${t.Uniforms.TEXTURE_RESOLUTION} * ${t.Uniforms.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],
        ${t.Uniforms.TEXTURE_ORIGIN_Y} - ${t.Uniforms.TEXTURE_RESOLUTION} * ${t.Uniforms.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]
      );
      gl_Position = ${t.Uniforms.TILE_TRANSFORM} * vec4(${t.Attributes.TEXTURE_COORD}, ${t.Uniforms.DEPTH}, 1.0);
    }
  `,g={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:c};var n=[];if(void 0!==b.color){var h=(0,m.expressionToGlsl)(g,b.color,m.ValueTypes.COLOR);n.push(`color = ${h};`)}void 0!==b.contrast&&(h=(0,m.expressionToGlsl)(g,b.contrast,m.ValueTypes.NUMBER),n.push(`color.rgb = clamp((${h} + 1.0) * color.rgb - (${h} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`));void 0!==b.exposure&&(h=(0,m.expressionToGlsl)(g,b.exposure,m.ValueTypes.NUMBER),n.push(`color.rgb = clamp((${h} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`));
void 0!==b.saturation&&(h=(0,m.expressionToGlsl)(g,b.saturation,m.ValueTypes.NUMBER),n.push(`
      float saturation = ${h} + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `));void 0!==b.gamma&&(h=(0,m.expressionToGlsl)(g,b.gamma,m.ValueTypes.NUMBER),n.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${h}));`));void 0!==b.brightness&&(h=(0,m.expressionToGlsl)(g,b.brightness,m.ValueTypes.NUMBER),n.push(`color.rgb = clamp(color.rgb + ${h}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`));h={};var x=g.variables.length;if(1<x&&!b.variables)throw Error(`Missing variables in style (expected ${g.variables})`);for(let O=0;O<x;++O){const H=g.variables[O];if(!(H in b.variables))throw Error(`Missing '${H}' in style variables`);
const F=(0,m.uniformNameForVariable)(H);h[F]=function(){let J=b.variables[H];"string"===typeof J&&(J=(0,m.getStringNumberEquivalent)(g,J));return void 0!==J?J:-9999999}}x=Object.keys(h).map(function(O){return`uniform float ${O};`});x.push(`uniform sampler2D ${t.Uniforms.TILE_TEXTURE_ARRAY}[${Math.ceil(c/4)}];`);g.paletteTextures&&x.push(`uniform sampler2D ${m.PALETTE_TEXTURE_ARRAY}[${g.paletteTextures.length}];`);c=Object.keys(g.functions).map(function(O){return g.functions[O]});n=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;
    uniform vec4 ${t.Uniforms.RENDER_EXTENT};
    uniform float ${t.Uniforms.TRANSITION_ALPHA};
    uniform float ${t.Uniforms.TEXTURE_PIXEL_WIDTH};
    uniform float ${t.Uniforms.TEXTURE_PIXEL_HEIGHT};
    uniform float ${t.Uniforms.RESOLUTION};
    uniform float ${t.Uniforms.ZOOM};

    ${x.join("\n")}

    ${c.join("\n")}

    void main() {
      if (
        v_mapCoord[0] < ${t.Uniforms.RENDER_EXTENT}[0] ||
        v_mapCoord[1] < ${t.Uniforms.RENDER_EXTENT}[1] ||
        v_mapCoord[0] > ${t.Uniforms.RENDER_EXTENT}[2] ||
        v_mapCoord[1] > ${t.Uniforms.RENDER_EXTENT}[3]
      ) {
        discard;
      }

      vec4 color = texture2D(${t.Uniforms.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);

      ${n.join("\n")}

      if (color.a == 0.0) {
        discard;
      }

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= ${t.Uniforms.TRANSITION_ALPHA};
    }`;return{vertexShader:e,fragmentShader:n,uniforms:h,paletteTextures:g.paletteTextures}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=k(L(282));var q=k(L(88)),t=function(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!==typeof b&&"function"!==typeof b)return{default:b};if((c=w(c))&&c.has(b))return c.get(b);var e={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,n;for(n in b)if("default"!==n&&Object.prototype.hasOwnProperty.call(b,n)){var h=g?Object.getOwnPropertyDescriptor(b,
n):null;h&&(h.get||h.set)?Object.defineProperty(e,n,h):e[n]=b[n]}e.default=b;c&&c.set(b,e);return e}(L(360)),m=L(361);class f extends Ka.default{constructor(b){b=b?Object.assign({},b):{};const c=b.style||{};delete b.style;const e=b.cacheSize;delete b.cacheSize;super(b);this.sources_=b.sources;this.renderedSource_=null;this.renderedResolution_=NaN;this.style_=c;this.cacheSize_=e;this.styleVariables_=this.style_.variables||{};this.addChangeListener(q.default.SOURCE,this.handleSourceUpdate_)}getSources(b,
c){const e=this.getSource();return this.sources_?"function"===typeof this.sources_?this.sources_(b,c):this.sources_:e?[e]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const b=this.getRenderSource();return b?b.getState():"undefined"}handleSourceUpdate_(){this.getSource()&&this.setStyle(this.style_)}getSourceBandCount_(){var b=Number.MAX_SAFE_INTEGER;return(b=this.getSources([-b,-b,b,b],b))&&b.length&&"bandCount"in b[0]?b[0].bandCount:4}createRenderer(){const b=
p(this.style_,this.getSourceBandCount_());return new t.default(this,{vertexShader:b.vertexShader,fragmentShader:b.fragmentShader,uniforms:b.uniforms,cacheSize:this.cacheSize_,paletteTextures:b.paletteTextures})}renderSources(b,c){const e=this.getRenderer();let g;for(let n=0,h=c.length;n<h;++n)this.renderedSource_=c[n],e.prepareFrame(b)&&(g=e.renderFrame(b));return g}render(b,c){this.rendered=!0;c=b.viewState;const e=this.getSources(b.extent,c.resolution);let g=!0;for(let h=0,x=e.length;h<x;++h){const O=
e[h];var n=O.getState();if("loading"==n){const H=()=>{"ready"==O.getState()&&(O.removeEventListener("change",H),this.changed())};O.addEventListener("change",H)}g=g&&"ready"==n}n=this.renderSources(b,e);return this.getRenderer().renderComplete&&g?(this.renderedResolution_=c.resolution,n):this.renderedResolution_>.5*c.resolution&&(c=this.getSources(b.extent,this.renderedResolution_).filter(h=>!e.includes(h)),0<c.length)?this.renderSources(b,c):n}setStyle(b){this.styleVariables_=b.variables||{};this.style_=
b;b=p(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:b.vertexShader,fragmentShader:b.fragmentShader,uniforms:b.uniforms,paletteTextures:b.paletteTextures});this.changed()}updateStyleVariables(b){Object.assign(this.styleVariables_,b);this.changed()}}A.default=f};
shadow$provide[365]=function(Ka,L,sb,A){function w(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(A,"__esModule",{value:!0});Object.defineProperty(A,"Graticule",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(A,"Group",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(A,"Heatmap",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(A,"Image",{enumerable:!0,get:function(){return t.default}});Object.defineProperty(A,"Layer",
{enumerable:!0,get:function(){return m.default}});Object.defineProperty(A,"MapboxVector",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(A,"Tile",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(A,"Vector",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(A,"VectorImage",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(A,"VectorTile",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(A,
"WebGLPoints",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(A,"WebGLTile",{enumerable:!0,get:function(){return h.default}});var k=w(L(330)),p=w(L(100)),q=w(L(344)),t=w(L(280)),m=w(L(91)),f=w(L(355)),b=w(L(284)),c=w(L(327)),e=w(L(357)),g=w(L(351)),n=w(L(363)),h=w(L(364))};
shadow$provide[366]=function(Ka,L,sb,A){(function(w,k){"function"==typeof define&&define.amd?define([],k):"undefined"!=typeof A?k():(k(),w.FileSaver={})})(this,function(){function w(b,c){return"undefined"==typeof c?c={autoBom:!1}:"object"!=typeof c&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["",b],{type:b.type}):b}function k(b,c,e){var g=new XMLHttpRequest;
g.open("GET",b);g.responseType="blob";g.onload=function(){f(g.response,c,e)};g.onerror=function(){console.error("could not download file")};g.send()}function p(b){var c=new XMLHttpRequest;c.open("HEAD",b,!1);try{c.send()}catch(e){}return 200<=c.status&&299>=c.status}function q(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(e){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);b.dispatchEvent(c)}}var t="object"==typeof window&&window.window===
window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Ka&&Ka.global===Ka?Ka:void 0,m=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=t.saveAs||("object"!=typeof window||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(b,c,e){var g=t.URL||t.webkitURL,n=document.createElement("a");c=c||b.name||"download";n.download=c;n.rel="noopener";"string"==typeof b?(n.href=b,n.origin===
location.origin?q(n):p(n.href)?k(b,c,e):q(n,n.target="_blank")):(n.href=g.createObjectURL(b),setTimeout(function(){g.revokeObjectURL(n.href)},4E4),setTimeout(function(){q(n)},0))}:"msSaveOrOpenBlob"in navigator?function(b,c,e){if(c=c||b.name||"download","string"!=typeof b)navigator.msSaveOrOpenBlob(w(b,e),c);else if(p(b))k(b,c,e);else{var g=document.createElement("a");g.href=b;g.target="_blank";setTimeout(function(){q(g)})}}:function(b,c,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText=
"downloading..."),"string"==typeof b)return k(b,c,e);c="application/octet-stream"===b.type;e=/constructor/i.test(t.HTMLElement)||t.safari;var n=/CriOS\/[\d]+/.test(navigator.userAgent);if((n||c&&e||m)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var H=h.result;H=n?H:H.replace(/^data:[^;]*;/,"data:attachment/file;");g?g.location.href=H:location=H;g=null};h.readAsDataURL(b)}else{var x=t.URL||t.webkitURL,O=x.createObjectURL(b);g?g.location=O:location.href=O;g=null;setTimeout(function(){x.revokeObjectURL(O)},
4E4)}});t.saveAs=f.saveAs=f;"undefined"!=typeof sb&&(sb.exports=f)})};
shadow$provide[367]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?sb.exports=k():"function"===typeof define&&define.amd?define(k):w.Popper=k()})(this,function(){function w(U){var ka=!1;return function(){ka||(ka=!0,window.Promise.resolve().then(function(){ka=!1;U()}))}}function k(U){var ka=!1;return function(){ka||(ka=!0,setTimeout(function(){ka=!1;U()},Fa))}}function p(U){var ka={};return U&&"[object Function]"===ka.toString.call(U)}function q(U,ka){if(1!==U.nodeType)return[];
U=U.ownerDocument.defaultView.getComputedStyle(U,null);return ka?U[ka]:U}function t(U){return"HTML"===U.nodeName?U:U.parentNode||U.host}function m(U){if(!U)return document.body;switch(U.nodeName){case "HTML":case "BODY":return U.ownerDocument.body;case "#document":return U.body}var ka=q(U);return/(auto|scroll|overlay)/.test(ka.overflow+ka.overflowY+ka.overflowX)?U:m(t(U))}function f(U){return 11===U?qa:10===U?ya:qa||ya}function b(U){if(!U)return document.documentElement;for(var ka=f(10)?document.body:
null,wa=U.offsetParent||null;wa===ka&&U.nextElementSibling;)wa=(U=U.nextElementSibling).offsetParent;return(ka=wa&&wa.nodeName)&&"BODY"!==ka&&"HTML"!==ka?-1!==["TH","TD","TABLE"].indexOf(wa.nodeName)&&"static"===q(wa,"position")?b(wa):wa:U?U.ownerDocument.documentElement:document.documentElement}function c(U){return null!==U.parentNode?c(U.parentNode):U}function e(U,ka){if(!(U&&U.nodeType&&ka&&ka.nodeType))return document.documentElement;var wa=U.compareDocumentPosition(ka)&Node.DOCUMENT_POSITION_FOLLOWING,
Ta=wa?U:ka,db=wa?ka:U;wa=document.createRange();wa.setStart(Ta,0);wa.setEnd(db,0);wa=wa.commonAncestorContainer;if(U!==wa&&ka!==wa||Ta.contains(db))return U=wa.nodeName,U="BODY"===U?!1:"HTML"===U||b(wa.firstElementChild)===wa,U?wa:b(wa);Ta=c(U);return Ta.host?e(Ta.host,ka):e(U,c(ka).host)}function g(U){var ka="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",wa=U.nodeName;return"BODY"===wa||"HTML"===wa?(wa=U.ownerDocument.documentElement,(U.ownerDocument.scrollingElement||
wa)[ka]):U[ka]}function n(U,ka){var wa=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,Ta=g(ka,"top"),db=g(ka,"left");wa=wa?-1:1;U.top+=Ta*wa;U.bottom+=Ta*wa;U.left+=db*wa;U.right+=db*wa;return U}function h(U,ka){ka="x"===ka?"Left":"Top";var wa="Left"===ka?"Right":"Bottom";return parseFloat(U["border"+ka+"Width"])+parseFloat(U["border"+wa+"Width"])}function x(U,ka,wa,Ta){return Math.max(ka["offset"+U],ka["scroll"+U],wa["client"+U],wa["offset"+U],wa["scroll"+U],f(10)?parseInt(wa["offset"+
U])+parseInt(Ta["margin"+("Height"===U?"Top":"Left")])+parseInt(Ta["margin"+("Height"===U?"Bottom":"Right")]):0)}function O(U){var ka=U.body;U=U.documentElement;var wa=f(10)&&getComputedStyle(U);return{height:x("Height",ka,U,wa),width:x("Width",ka,U,wa)}}function H(U){return Ua({},U,{right:U.left+U.width,bottom:U.top+U.height})}function F(U){var ka={};try{if(f(10)){ka=U.getBoundingClientRect();var wa=g(U,"top"),Ta=g(U,"left");ka.top+=wa;ka.left+=Ta;ka.bottom+=wa;ka.right+=Ta}else ka=U.getBoundingClientRect()}catch(db){}ka=
{left:ka.left,top:ka.top,width:ka.right-ka.left,height:ka.bottom-ka.top};Ta="HTML"===U.nodeName?O(U.ownerDocument):{};wa=U.offsetWidth-(Ta.width||U.clientWidth||ka.width);Ta=U.offsetHeight-(Ta.height||U.clientHeight||ka.height);if(wa||Ta)U=q(U),wa-=h(U,"x"),Ta-=h(U,"y"),ka.width-=wa,ka.height-=Ta;return H(ka)}function J(U,ka){var wa=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,Ta=f(10),db="HTML"===ka.nodeName,lb=F(U),nb=F(ka),Mb=m(U),$b=q(ka),Gc=parseFloat($b.borderTopWidth),zc=parseFloat($b.borderLeftWidth);
wa&&db&&(nb.top=Math.max(nb.top,0),nb.left=Math.max(nb.left,0));lb=H({top:lb.top-nb.top-Gc,left:lb.left-nb.left-zc,width:lb.width,height:lb.height});lb.marginTop=0;lb.marginLeft=0;!Ta&&db&&(db=parseFloat($b.marginTop),$b=parseFloat($b.marginLeft),lb.top-=Gc-db,lb.bottom-=Gc-db,lb.left-=zc-$b,lb.right-=zc-$b,lb.marginTop=db,lb.marginLeft=$b);if(Ta&&!wa?ka.contains(Mb):ka===Mb&&"BODY"!==Mb.nodeName)lb=n(lb,ka);return lb}function D(U){var ka=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,
wa=U.ownerDocument.documentElement,Ta=J(U,wa),db=Math.max(wa.clientWidth,window.innerWidth||0),lb=Math.max(wa.clientHeight,window.innerHeight||0),nb=ka?0:g(wa);ka=ka?0:g(wa,"left");return H({top:nb-Ta.top+Ta.marginTop,left:ka-Ta.left+Ta.marginLeft,width:db,height:lb})}function r(U){var ka=U.nodeName;return"BODY"===ka||"HTML"===ka?!1:"fixed"===q(U,"position")?!0:(U=t(U))?r(U):!1}function z(U){if(!U||!U.parentElement||f())return document.documentElement;for(U=U.parentElement;U&&"none"===q(U,"transform");)U=
U.parentElement;return U||document.documentElement}function G(U,ka,wa,Ta){var db=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1,lb={top:0,left:0},nb=db?z(U):e(U,ka&&ka.referenceNode?ka.referenceNode:ka);if("viewport"===Ta)lb=D(nb,db);else{if("scrollParent"===Ta){var Mb=m(t(ka));"BODY"===Mb.nodeName&&(Mb=U.ownerDocument.documentElement)}else Mb="window"===Ta?U.ownerDocument.documentElement:Ta;db=J(Mb,nb,db);"HTML"!==Mb.nodeName||r(nb)?lb=db:(Mb=O(U.ownerDocument),nb=Mb.height,Mb=Mb.width,
lb.top+=db.top-db.marginTop,lb.bottom=nb+db.top,lb.left+=db.left-db.marginLeft,lb.right=Mb+db.left)}wa=wa||0;db="number"===typeof wa;lb.left+=db?wa:wa.left||0;lb.top+=db?wa:wa.top||0;lb.right-=db?wa:wa.right||0;lb.bottom-=db?wa:wa.bottom||0;return lb}function T(U,ka,wa,Ta,db){var lb=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===U.indexOf("auto"))return U;lb=G(wa,Ta,lb,db);var nb={top:{width:lb.width,height:ka.top-lb.top},right:{width:lb.right-ka.right,height:lb.height},bottom:{width:lb.width,
height:lb.bottom-ka.bottom},left:{width:ka.left-lb.left,height:lb.height}};lb=Object.keys(nb).map(function($b){var Gc=nb[$b];return Ua({key:$b},nb[$b],{area:Gc.width*Gc.height})}).sort(function($b,Gc){return Gc.area-$b.area});var Mb=lb.filter(function($b){var Gc=$b.height;return $b.width>=wa.clientWidth&&Gc>=wa.clientHeight});lb=0<Mb.length?Mb[0].key:lb[0].key;Mb=U.split("-")[1];return lb+(Mb?"-"+Mb:"")}function R(U,ka,wa){var Ta=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,db=Ta?z(ka):
e(ka,wa&&wa.referenceNode?wa.referenceNode:wa);return J(wa,db,Ta)}function ca(U){var ka=U.ownerDocument.defaultView.getComputedStyle(U),wa=parseFloat(ka.marginTop||0)+parseFloat(ka.marginBottom||0);ka=parseFloat(ka.marginLeft||0)+parseFloat(ka.marginRight||0);return{width:U.offsetWidth+ka,height:U.offsetHeight+wa}}function M(U){var ka={left:"right",right:"left",bottom:"top",top:"bottom"};return U.replace(/left|right|bottom|top/g,function(wa){return ka[wa]})}function ba(U,ka,wa){wa=wa.split("-")[0];
U=ca(U);var Ta={width:U.width,height:U.height},db=-1!==["right","left"].indexOf(wa),lb=db?"top":"left",nb=db?"left":"top",Mb=db?"height":"width";Ta[lb]=ka[lb]+ka[Mb]/2-U[Mb]/2;Ta[nb]=wa===nb?ka[nb]-U[db?"width":"height"]:ka[M(nb)];return Ta}function W(U,ka){return Array.prototype.find?U.find(ka):U.filter(ka)[0]}function ea(U,ka,wa){if(Array.prototype.findIndex)return U.findIndex(function(db){return db[ka]===wa});var Ta=W(U,function(db){return db[ka]===wa});return U.indexOf(Ta)}function La(U,ka,wa){(void 0===
wa?U:U.slice(0,ea(U,"name",wa))).forEach(function(Ta){Ta["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var db=Ta["function"]||Ta.fn;Ta.enabled&&p(db)&&(ka.offsets.popper=H(ka.offsets.popper),ka.offsets.reference=H(ka.offsets.reference),ka=db(ka,Ta))});return ka}function aa(U,ka){return U.some(function(wa){var Ta=wa.name;return wa.enabled&&Ta===ka})}function C(U){for(var ka=[!1,"ms","Webkit","Moz","O"],wa=U.charAt(0).toUpperCase()+U.slice(1),Ta=0;Ta<ka.length;Ta++){var db=
ka[Ta];db=db?""+db+wa:U;if("undefined"!==typeof document.body.style[db])return db}return null}function B(U){return(U=U.ownerDocument)?U.defaultView:window}function N(U,ka,wa,Ta){var db="BODY"===U.nodeName;U=db?U.ownerDocument.defaultView:U;U.addEventListener(ka,wa,{passive:!0});db||N(m(U.parentNode),ka,wa,Ta);Ta.push(U)}function Y(U,ka){B(U).removeEventListener("resize",ka.updateBound);ka.scrollParents.forEach(function(wa){wa.removeEventListener("scroll",ka.updateBound)});ka.updateBound=null;ka.scrollParents=
[];ka.scrollElement=null;ka.eventsEnabled=!1;return ka}function Aa(U){return""!==U&&!isNaN(parseFloat(U))&&isFinite(U)}function sa(U,ka){Object.keys(ka).forEach(function(wa){var Ta="";-1!=="width height top right bottom left".split(" ").indexOf(wa)&&Aa(ka[wa])&&(Ta="px");U.style[wa]=ka[wa]+Ta})}function la(U,ka){Object.keys(ka).forEach(function(wa){!1!==ka[wa]?U.setAttribute(wa,ka[wa]):U.removeAttribute(wa)})}function Ia(U,ka){var wa=U.offsets,Ta=wa.popper,db=Math.round,lb=Math.floor,nb=function(Gc){return Gc};
wa=db(wa.reference.width);var Mb=db(Ta.width),$b=-1!==["left","right"].indexOf(U.placement);U=-1!==U.placement.indexOf("-");lb=ka?$b||U||wa%2===Mb%2?db:lb:nb;db=ka?db:nb;return{left:lb(1===wa%2&&1===Mb%2&&!U&&ka?Ta.left-1:Ta.left),top:db(Ta.top),bottom:db(Ta.bottom),right:lb(Ta.right)}}function bb(U,ka,wa){var Ta=W(U,function(lb){return lb.name===ka});U=!!Ta&&U.some(function(lb){return lb.name===wa&&lb.enabled&&lb.order<Ta.order});if(!U){var db="`"+ka+"`";console.warn("`"+wa+"` modifier is required by "+
db+" modifier in order to work, be sure to include it before "+db+"!")}return U}function ib(U){var ka=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,wa=Oa.indexOf(U);wa=Oa.slice(wa+1).concat(Oa.slice(0,wa));return ka?wa.reverse():wa}function Ja(U,ka,wa,Ta){var db=[0,0],lb=-1!==["right","left"].indexOf(Ta);U=U.split(/(\+|\-)/).map(function(Mb){return Mb.trim()});Ta=U.indexOf(W(U,function(Mb){return-1!==Mb.search(/,|\s/)}));U[Ta]&&-1===U[Ta].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");
var nb=/\s*,\s*|\s+/;U=-1!==Ta?[U.slice(0,Ta).concat([U[Ta].split(nb)[0]]),[U[Ta].split(nb)[1]].concat(U.slice(Ta+1))]:[U];U=U.map(function(Mb,$b){var Gc=(1===$b?!lb:lb)?"height":"width",zc=!1;return Mb.reduce(function(Bc,uc){return""===Bc[Bc.length-1]&&-1!==["+","-"].indexOf(uc)?(Bc[Bc.length-1]=uc,zc=!0,Bc):zc?(Bc[Bc.length-1]+=uc,zc=!1,Bc):Bc.concat(uc)},[]).map(function(Bc){var uc=Bc.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var id=+uc[1];uc=uc[2];if(id)if(0===uc.indexOf("%")){switch(uc){case "%p":Bc=
ka;break;default:Bc=wa}id*=H(Bc)[Gc]/100}else id="vh"===uc||"vw"===uc?("vh"===uc?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*id:id;else id=Bc;return id})});U.forEach(function(Mb,$b){Mb.forEach(function(Gc,zc){Aa(Gc)&&(db[$b]+=Gc*("-"===Mb[zc-1]?-1:1))})});return db}var ma="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,Fa=function(){for(var U=["Edge","Trident",
"Firefox"],ka=0;ka<U.length;ka+=1)if(ma&&0<=navigator.userAgent.indexOf(U[ka]))return 1;return 0}(),Pa=ma&&window.Promise?w:k,qa=ma&&!(!window.MSInputMethodContext||!document.documentMode),ya=ma&&/MSIE 10/.test(navigator.userAgent),oa=function(){function U(ka,wa){for(var Ta=0;Ta<wa.length;Ta++){var db=wa[Ta];db.enumerable=db.enumerable||!1;db.configurable=!0;"value"in db&&(db.writable=!0);Object.defineProperty(ka,db.key,db)}}return function(ka,wa,Ta){wa&&U(ka.prototype,wa);Ta&&U(ka,Ta);return ka}}(),
va=function(U,ka,wa){ka in U?Object.defineProperty(U,ka,{value:wa,enumerable:!0,configurable:!0,writable:!0}):U[ka]=wa;return U},Ua=Object.assign||function(U){for(var ka=1;ka<arguments.length;ka++){var wa=arguments[ka],Ta;for(Ta in wa)Object.prototype.hasOwnProperty.call(wa,Ta)&&(U[Ta]=wa[Ta])}return U},eb=ma&&/Firefox/i.test(navigator.userAgent),ra="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),Oa=ra.slice(3),
ja=function(){function U(ka,wa){var Ta=this,db=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(Ta.update)};this.update=Pa(this.update.bind(this));this.options=Ua({},U.Defaults,db);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=ka&&ka.jquery?ka[0]:ka;this.popper=wa&&wa.jquery?wa[0]:wa;this.options.modifiers={};Object.keys(Ua({},
U.Defaults.modifiers,db.modifiers)).forEach(function(nb){Ta.options.modifiers[nb]=Ua({},U.Defaults.modifiers[nb]||{},db.modifiers?db.modifiers[nb]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(nb){return Ua({name:nb},Ta.options.modifiers[nb])}).sort(function(nb,Mb){return nb.order-Mb.order});this.modifiers.forEach(function(nb){if(nb.enabled&&p(nb.onLoad))nb.onLoad(Ta.reference,Ta.popper,Ta.options,nb,Ta.state)});this.update();var lb=this.options.eventsEnabled;lb&&this.enableEventListeners();
this.state.eventsEnabled=lb}oa(U,[{key:"update",value:function(){if(!this.state.isDestroyed){var ka={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};ka.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed);ka.placement=T(this.options.placement,ka.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);ka.originalPlacement=ka.placement;ka.positionFixed=this.options.positionFixed;
ka.offsets.popper=ba(this.popper,ka.offsets.reference,ka.placement);ka.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";ka=La(this.modifiers,ka);if(this.state.isCreated)this.options.onUpdate(ka);else this.state.isCreated=!0,this.options.onCreate(ka)}}},{key:"destroy",value:function(){this.state.isDestroyed=!0;aa(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right=
"",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[C("transform")]="");this.disableEventListeners();this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var ka=this.reference,wa=this.state;wa.updateBound=this.scheduleUpdate;B(ka).addEventListener("resize",wa.updateBound,{passive:!0});ka=m(ka);N(ka,"scroll",wa.updateBound,wa.scrollParents);wa.scrollElement=
ka;wa.eventsEnabled=!0;this.state=wa}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Y(this.reference,this.state))}}]);return U}();ja.Utils=("undefined"!==typeof window?window:Ka).PopperUtils;ja.placements=ra;ja.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(U){var ka=U.placement,wa=ka.split("-")[0];
if(ka=ka.split("-")[1]){var Ta=U.offsets,db=Ta.reference;Ta=Ta.popper;var lb=-1!==["bottom","top"].indexOf(wa);wa=lb?"left":"top";lb=lb?"width":"height";db={start:va({},wa,db[wa]),end:va({},wa,db[wa]+db[lb]-Ta[lb])};U.offsets.popper=Ua({},Ta,db[ka])}return U}},offset:{order:200,enabled:!0,fn:function(U,ka){var wa=ka.offset,Ta=U.offsets;ka=Ta.popper;var db=Ta.reference;Ta=U.placement.split("-")[0];wa=Aa(+wa)?[+wa,0]:Ja(wa,ka,db,Ta);"left"===Ta?(ka.top+=wa[0],ka.left-=wa[1]):"right"===Ta?(ka.top+=wa[0],
ka.left+=wa[1]):"top"===Ta?(ka.left+=wa[0],ka.top-=wa[1]):"bottom"===Ta&&(ka.left+=wa[0],ka.top+=wa[1]);U.popper=ka;return U},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(U,ka){var wa=ka.boundariesElement||b(U.instance.popper);U.instance.reference===wa&&(wa=b(wa));var Ta=C("transform"),db=U.instance.popper.style,lb=db.top,nb=db.left,Mb=db[Ta];db.top="";db.left="";db[Ta]="";var $b=G(U.instance.popper,U.instance.reference,ka.padding,wa,U.positionFixed);db.top=lb;db.left=nb;db[Ta]=Mb;
ka.boundaries=$b;var Gc=U.offsets.popper,zc={primary:function(Bc){var uc=Gc[Bc];Gc[Bc]<$b[Bc]&&!ka.escapeWithReference&&(uc=Math.max(Gc[Bc],$b[Bc]));return va({},Bc,uc)},secondary:function(Bc){var uc="right"===Bc?"left":"top",id=Gc[uc];Gc[Bc]>$b[Bc]&&!ka.escapeWithReference&&(id=Math.min(Gc[uc],$b[Bc]-("right"===Bc?Gc.width:Gc.height)));return va({},uc,id)}};ka.priority.forEach(function(Bc){var uc=-1!==["left","top"].indexOf(Bc)?"primary":"secondary";Gc=Ua({},Gc,zc[uc](Bc))});U.offsets.popper=Gc;
return U},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(U){var ka=U.offsets,wa=ka.popper;ka=ka.reference;var Ta=U.placement.split("-")[0],db=Math.floor,lb=-1!==["top","bottom"].indexOf(Ta);Ta=lb?"right":"bottom";var nb=lb?"left":"top";lb=lb?"width":"height";wa[Ta]<db(ka[nb])&&(U.offsets.popper[nb]=db(ka[nb])-wa[lb]);wa[nb]>db(ka[Ta])&&(U.offsets.popper[nb]=db(ka[Ta]));return U}},arrow:{order:500,enabled:!0,fn:function(U,
ka){var wa;if(!bb(U.instance.modifiers,"arrow","keepTogether"))return U;ka=ka.element;if("string"===typeof ka){if(ka=U.instance.popper.querySelector(ka),!ka)return U}else if(!U.instance.popper.contains(ka))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),U;var Ta=U.placement.split("-")[0],db=U.offsets,lb=db.popper,nb=db.reference,Mb=-1!==["left","right"].indexOf(Ta);Ta=Mb?"height":"width";var $b=Mb?"Top":"Left";db=$b.toLowerCase();var Gc=Mb?"left":"top",zc=Mb?"bottom":
"right";Mb=ca(ka)[Ta];nb[zc]-Mb<lb[db]&&(U.offsets.popper[db]-=lb[db]-(nb[zc]-Mb));nb[db]+Mb>lb[zc]&&(U.offsets.popper[db]+=nb[db]+Mb-lb[zc]);U.offsets.popper=H(U.offsets.popper);nb=nb[db]+nb[Ta]/2-Mb/2;var Bc=q(U.instance.popper);zc=parseFloat(Bc["margin"+$b]);$b=parseFloat(Bc["border"+$b+"Width"]);$b=nb-U.offsets.popper[db]-zc-$b;$b=Math.max(Math.min(lb[Ta]-Mb,$b),0);U.arrowElement=ka;U.offsets.arrow=(wa={},va(wa,db,Math.round($b)),va(wa,Gc,""),wa);return U},element:"[x-arrow]"},flip:{order:600,
enabled:!0,fn:function(U,ka){if(aa(U.instance.modifiers,"inner")||U.flipped&&U.placement===U.originalPlacement)return U;var wa=G(U.instance.popper,U.instance.reference,ka.padding,ka.boundariesElement,U.positionFixed),Ta=U.placement.split("-")[0],db=M(Ta),lb=U.placement.split("-")[1]||"",nb=[];switch(ka.behavior){case "flip":nb=[Ta,db];break;case "clockwise":nb=ib(Ta);break;case "counterclockwise":nb=ib(Ta,!0);break;default:nb=ka.behavior}nb.forEach(function(Mb,$b){if(Ta!==Mb||nb.length===$b+1)return U;
Ta=U.placement.split("-")[0];db=M(Ta);var Gc=U.offsets.popper;Mb=U.offsets.reference;var zc=Math.floor;Mb="left"===Ta&&zc(Gc.right)>zc(Mb.left)||"right"===Ta&&zc(Gc.left)<zc(Mb.right)||"top"===Ta&&zc(Gc.bottom)>zc(Mb.top)||"bottom"===Ta&&zc(Gc.top)<zc(Mb.bottom);var Bc=zc(Gc.left)<zc(wa.left),uc=zc(Gc.right)>zc(wa.right),id=zc(Gc.top)<zc(wa.top);zc=zc(Gc.bottom)>zc(wa.bottom);Gc="left"===Ta&&Bc||"right"===Ta&&uc||"top"===Ta&&id||"bottom"===Ta&&zc;var Hb=-1!==["top","bottom"].indexOf(Ta),Ab=!!ka.flipVariationsByContent&&
(Hb&&"start"===lb&&uc||Hb&&"end"===lb&&Bc||!Hb&&"start"===lb&&zc||!Hb&&"end"===lb&&id);Bc=!!ka.flipVariations&&(Hb&&"start"===lb&&Bc||Hb&&"end"===lb&&uc||!Hb&&"start"===lb&&id||!Hb&&"end"===lb&&zc)||Ab;if(Mb||Gc||Bc){U.flipped=!0;if(Mb||Gc)Ta=nb[$b+1];Bc&&("end"===lb?lb="start":"start"===lb&&(lb="end"));U.placement=Ta+(lb?"-"+lb:"");U.offsets.popper=Ua({},U.offsets.popper,ba(U.instance.popper,U.offsets.reference,U.placement));U=La(U.instance.modifiers,U,"flip")}});return U},behavior:"flip",padding:5,
boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(U){var ka=U.placement,wa=ka.split("-")[0],Ta=U.offsets,db=Ta.popper;Ta=Ta.reference;var lb=-1!==["left","right"].indexOf(wa),nb=-1===["top","left"].indexOf(wa);db[lb?"left":"top"]=Ta[wa]-(nb?db[lb?"width":"height"]:0);U.placement=M(ka);U.offsets.popper=H(db);return U}},hide:{order:800,enabled:!0,fn:function(U){if(!bb(U.instance.modifiers,"hide","preventOverflow"))return U;var ka=U.offsets.reference,
wa=W(U.instance.modifiers,function(Ta){return"preventOverflow"===Ta.name}).boundaries;if(ka.bottom<wa.top||ka.left>wa.right||ka.top>wa.bottom||ka.right<wa.left){if(!0===U.hide)return U;U.hide=!0;U.attributes["x-out-of-boundaries"]=""}else{if(!1===U.hide)return U;U.hide=!1;U.attributes["x-out-of-boundaries"]=!1}return U}},computeStyle:{order:850,enabled:!0,fn:function(U,ka){var wa=ka.x,Ta=ka.y,db=U.offsets.popper,lb=W(U.instance.modifiers,function(Bc){return"applyStyle"===Bc.name}).gpuAcceleration;
void 0!==lb&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");ka=void 0!==lb?lb:ka.gpuAcceleration;lb=b(U.instance.popper);var nb=F(lb);db={position:db.position};var Mb=Ia(U,2>window.devicePixelRatio||!eb);wa="bottom"===wa?"top":"bottom";Ta="right"===Ta?"left":"right";var $b=C("transform"),Gc=void 0,zc=void 0;zc="bottom"===wa?"HTML"===lb.nodeName?-lb.clientHeight+Mb.bottom:-nb.height+Mb.bottom:Mb.top;Gc="right"===
Ta?"HTML"===lb.nodeName?-lb.clientWidth+Mb.right:-nb.width+Mb.right:Mb.left;ka&&$b?(db[$b]="translate3d("+Gc+"px, "+zc+"px, 0)",db[wa]=0,db[Ta]=0,db.willChange="transform"):(db[wa]=zc*("bottom"===wa?-1:1),db[Ta]=Gc*("right"===Ta?-1:1),db.willChange=wa+", "+Ta);U.attributes=Ua({},{"x-placement":U.placement},U.attributes);U.styles=Ua({},db,U.styles);U.arrowStyles=Ua({},U.offsets.arrow,U.arrowStyles);return U},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(U){sa(U.instance.popper,
U.styles);la(U.instance.popper,U.attributes);U.arrowElement&&Object.keys(U.arrowStyles).length&&sa(U.arrowElement,U.arrowStyles);return U},onLoad:function(U,ka,wa,Ta,db){Ta=R(db,ka,U,wa.positionFixed);U=T(wa.placement,Ta,ka,U,wa.modifiers.flip.boundariesElement,wa.modifiers.flip.padding);ka.setAttribute("x-placement",U);sa(ka,{position:wa.positionFixed?"fixed":"absolute"});return wa},gpuAcceleration:void 0}}};return ja})};
shadow$provide[368]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"object"===typeof sb?sb.exports=k(L(3),L(367),L(12)):"function"===typeof define&&define.amd?define("reactTippy",["react","popper.js","react-dom"],k):"object"===typeof A?A.reactTippy=k(L(3),L(367),L(12)):w.reactTippy=k(w.React,w.Popper,w.ReactDOM)})(this,function(w,k,p){return function(q){function t(f){if(m[f])return m[f].exports;var b=m[f]={i:f,l:!1,exports:{}};q[f].call(b.exports,b,b.exports,t);b.l=!0;return b.exports}var m=
{};t.m=q;t.c=m;t.i=function(f){return f};t.d=function(f,b,c){t.o(f,b)||Object.defineProperty(f,b,{configurable:!1,enumerable:!0,get:c})};t.n=function(f){var b=f&&f.__esModule?function(){return f["default"]}:function(){return f};t.d(b,"a",b);return b};t.o=function(f,b){return Object.prototype.hasOwnProperty.call(f,b)};t.p="";return t(t.s=15)}([function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});q=t.Browser={};"undefined"!==typeof window&&(q.SUPPORTED="requestAnimationFrame"in window,q.SUPPORTS_TOUCH=
"ontouchstart"in window,q.touch=!1,q.dynamicInputDetection=!0,q.iOS=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream});t.Store=[];t.Selectors={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-tooltip-content",CIRCLE:"[x-circle]",ARROW:"[x-arrow]",TOOLTIPPED_EL:"[data-tooltipped]",CONTROLLER:"[data-tippy-controller]"};m=t.Defaults={html:!1,position:"top",animation:"shift",animateFill:!0,arrow:!1,arrowSize:"regular",delay:0,trigger:"mouseenter focus",duration:350,
interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,flipDuration:350,sticky:!1,stickyDuration:200,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,useContext:!1,reactInstance:void 0,popperOptions:{},open:void 0,onRequestClose:function(){}};t.DefaultsKeys=q.SUPPORTED&&Object.keys(m)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){for(var b=
[!1,"webkit"],c=f.charAt(0).toUpperCase()+f.slice(1),e=0;e<b.length;e++){var g=b[e];g=g?""+g+c:f;if("undefined"!==typeof window.document.body.style[g])return g}return null}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f,b){return Array.prototype.find?f.find(b):f.filter(b)[0]}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){return f.replace(/-.+/,"")}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=
function(b,c){return(Element.prototype.closest||function(e){for(var g=this;g;){if(f.matches.call(g,e))return g;g=g.parentElement}}).call(b,c)};var f=m(8)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){window.requestAnimationFrame(function(){setTimeout(f,0)})}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b){return{tooltip:b.querySelector(f.Selectors.TOOLTIP),circle:b.querySelector(f.Selectors.CIRCLE),content:b.querySelector(f.Selectors.CONTENT)}};
var f=m(0)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){return"visible"===f.style.visibility}},function(q,t,m){function f(b){b=(this.document||this.ownerDocument).querySelectorAll(b);for(var c=b.length;0<=--c&&b.item(c)!==this;);return-1<c}Object.defineProperty(t,"__esModule",{value:!0});t.matches="undefined"===typeof window?f:Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||
Element.prototype.msMatchesSelector||f},function(q,t,m){function f(F,J){if("function"!==typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function, not "+typeof J);F.prototype=Object.create(J&&J.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}});J&&(Object.setPrototypeOf?Object.setPrototypeOf(F,J):F.__proto__=J)}Object.defineProperty(t,"__esModule",{value:!0});var b=Object.assign||function(F){for(var J=1;J<arguments.length;J++){var D=arguments[J],
r;for(r in D)Object.prototype.hasOwnProperty.call(D,r)&&(F[r]=D[r])}return F},c=function(){function F(J,D){for(var r=0;r<D.length;r++){var z=D[r];z.enumerable=z.enumerable||!1;z.configurable=!0;"value"in z&&(z.writable=!0);Object.defineProperty(J,z.key,z)}}return function(J,D,r){D&&F(J.prototype,D);r&&F(J,r);return J}}(),e=(q=m(13))&&q.__esModule?q:{default:q},g=m(30),n=g&&g.__esModule?g:{default:g},h=m(0),x=function(F){return F.stopPropagation()};m={html:null,position:"top",animation:"shift",animateFill:!0,
arrow:!1,delay:0,hideDelay:0,trigger:"mouseenter focus",duration:375,hideDuration:375,interactive:!1,interactiveBorder:2,theme:"dark",offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,popperOptions:{},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},disabled:!1,arrowSize:"regular",size:"regular",className:"",style:{},distance:10,onRequestClose:function(){},sticky:!1,stickyDuration:200,tag:"div",touchHold:!1,unmountHTMLWhenHide:!1,zIndex:9999};var O=Object.keys(m),
H=function(F,J){var D=[];O.forEach(function(r){F[r]!==J[r]&&D.push(r)});return D};q=function(F){function J(D){if(!(this instanceof J))throw new TypeError("Cannot call a class as a function");D=(J.__proto__||Object.getPrototypeOf(J)).call(this,D);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");D=!D||"object"!==typeof D&&"function"!==typeof D?this:D;D.initTippy=D._initTippy.bind(D);D.destroyTippy=D._destroyTippy.bind(D);D.updateTippy=D._updateTippy.bind(D);
D.updateReactDom=D._updateReactDom.bind(D);D.showTooltip=D._showTooltip.bind(D);D.hideTooltip=D._hideTooltip.bind(D);D.updateSettings=D._updateSettings.bind(D);D.state={reactDOMValue:null};return D}f(J,F);c(J,[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&"undefined"!==typeof document&&this.initTippy()}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&"undefined"!==typeof document&&this.destroyTippy()}},{key:"componentDidUpdate",value:function(D){var r=
this;"undefined"!==typeof window&&"undefined"!==typeof document&&(!1===this.props.disabled&&!0===D.disabled?(this.updateSettings("disabled",!1),this.destroyTippy(),this.initTippy()):!0===this.props.disabled&&!1===D.disabled?(this.updateSettings("disabled",!0),this.destroyTippy()):(!0!==this.props.open||D.open||(this.updateSettings("open",!0),setTimeout(function(){r.showTooltip()},0)),!1===this.props.open&&!0===D.open&&(this.updateSettings("open",!1),this.hideTooltip()),this.props.html!==D.html&&this.updateReactDom(),
this.props.title!==D.title&&this.updateTippy(),H(this.props,D).forEach(function(z){r.updateSettings(z,r.props[z])})))}},{key:"_showTooltip",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var D=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.show(D,this.props.duration)}}},{key:"_hideTooltip",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var D=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.hide(D,
this.props.hideDuration)}}},{key:"_updateSettings",value:function(D,r){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var z=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.updateSettings(z,D,r)}}},{key:"_updateReactDom",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){this.updateSettings("reactDOM",this.props.html);var D=this.tippy.getPopperElement(this.tooltipDOM);("visible"===D.style.visibility||this.props.open)&&this.tippy.updateForReact(D,
this.props.html)}}},{key:"_updateTippy",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var D=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.update(D)}}},{key:"_initTippy",value:function(){var D=this;"undefined"!==typeof window&&"undefined"!==typeof document&&h.Browser.SUPPORTED&&(this.props.disabled?this.tippy=null:(this.props.title&&this.tooltipDOM.setAttribute("title",this.props.title),this.tippy=(0,n.default)(this.tooltipDOM,{disabled:this.props.disabled,
position:this.props.position,animation:this.props.animation,animateFill:this.props.animateFill,arrow:this.props.arrow,arrowSize:this.props.arrowSize,delay:this.props.delay,hideDelay:this.props.hideDelay,trigger:this.props.trigger,duration:this.props.duration,hideDuration:this.props.hideDuration,interactive:this.props.interactive,interactiveBorder:this.props.interactiveBorder,theme:this.props.theme,offset:this.props.offset,hideOnClick:this.props.hideOnClick,multiple:this.props.multiple,size:this.props.size,
followCursor:this.props.followCursor,inertia:this.props.inertia,popperOptions:this.props.popperOptions,onShow:this.props.onShow,onShown:this.props.onShown,onHide:this.props.onHide,onHidden:this.props.onHidden,distance:this.props.distance,reactDOM:this.props.html,setReactDOMValue:function(r){return D.setState({reactDOMValue:r})},unmountHTMLWhenHide:this.props.unmountHTMLWhenHide,open:this.props.open,sticky:this.props.sticky,stickyDuration:this.props.stickyDuration,tag:this.props.tag,touchHold:this.props.touchHold,
onRequestClose:this.props.onRequestClose,useContext:this.props.useContext,reactInstance:this.props.useContext?this:void 0,performance:!0,html:this.props.rawTemplate?this.props.rawTemplate:void 0,zIndex:this.props.zIndex}),this.props.open&&this.showTooltip()))}},{key:"_destroyTippy",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var D=this.tippy.getPopperElement(this.tooltipDOM);this.updateSettings("open",!1);this.tippy.hide(D,0);this.tippy.destroy(D);this.tippy=
null}}},{key:"render",value:function(){var D=this;return e.default.createElement(e.default.Fragment,null,e.default.createElement(this.props.tag,{ref:function(r){D.tooltipDOM=r},title:this.props.title,className:this.props.className,tabIndex:this.props.tabIndex,style:b({display:"inline"},this.props.style)},this.props.children),this.state.reactDOMValue&&e.default.createElement("div",{onClick:x,onContextMenu:x,onDoubleClick:x,onDrag:x,onDragEnd:x,onDragEnter:x,onDragExit:x,onDragLeave:x,onDragOver:x,
onDragStart:x,onDrop:x,onMouseDown:x,onMouseEnter:x,onMouseLeave:x,onMouseMove:x,onMouseOver:x,onMouseOut:x,onMouseUp:x,onKeyDown:x,onKeyPress:x,onKeyUp:x,onFocus:x,onBlur:x,onChange:x,onInput:x,onInvalid:x,onSubmit:x},this.state.reactDOMValue))}}]);return J}(q.Component);q.defaultProps=m;t.default=q},function(q,t,m){function f(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(n){var h=this,x=(0,e.default)(b.Store,function(T){return T.el===
h});if(x){var O=x.popper,H=x.settings.offset;x=(0,c.default)(O.getAttribute("x-placement"));var F=Math.round(O.offsetWidth/2),J=Math.round(O.offsetHeight/2),D=document.documentElement.offsetWidth||document.body.offsetWidth,r=n.pageX,z=n.pageY,G=n=void 0;switch(x){case "top":n=r-F+H;G=z-2.25*J;break;case "left":n=r-2*F-10;G=z-J+H;break;case "right":n=r+J;G=z-J+H;break;case "bottom":n=r-F+H,G=z+J/1.5}J=r+5+F+H>D;H=0>r-5-F+H;if("top"===x||"bottom"===x)J&&(n=D-5-2*F),H&&(n=5);O.style[(0,g.default)("transform")]=
"translate3d("+n+"px, "+G+"px, 0)"}};var b=m(0);q=m(3);var c=f(q);q=m(2);var e=f(q);q=m(1);var g=f(q);m=m(4);f(m)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b){return-(b-f.Defaults.distance)+"px"};var f=m(0)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){var b=f.getAttribute("title");b&&f.setAttribute("data-original-title",b);f.removeAttribute("title")}},function(q,t){q.exports=w},function(q,t,m){Object.defineProperty(t,
"__esModule",{value:!0});var f=(q=m(13))&&q.__esModule?q:{default:q},b=(m=m(9))&&m.__esModule?m:{default:m};t.default=function(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(g){var n=[],h={},x;for(x in g)0<=n.indexOf(x)||Object.prototype.hasOwnProperty.call(g,x)&&(h[x]=g[x]);return f.default.createElement(b.default,e,f.default.createElement(c,h))}}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.withTooltip=t.Tooltip=void 0;q=(q=m(9))&&q.__esModule?
q:{default:q};m=(m=m(14))&&m.__esModule?m:{default:m};t.Tooltip=q.default;t.withTooltip=m.default},function(q,t,m){function f(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var h=function(){b.Browser.touch=!0;b.Browser.iOS()&&document.body.classList.add("tippy-touch");b.Browser.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",x)},x=function(){var O=void 0;return function(){var H=performance.now();20>H-O&&
(b.Browser.touch=!1,document.removeEventListener("mousemove",x),b.Browser.iOS()||document.body.classList.remove("tippy-touch"));O=H}}();document.addEventListener("click",function(O){if(!(O.target instanceof Element))return(0,c.default)();var H=(0,e.default)(O.target,b.Selectors.TOOLTIPPED_EL),F=(0,e.default)(O.target,b.Selectors.POPPER);if(F){var J=(0,g.default)(b.Store,function(G){return G.popper===F});if(!J||J.settings.interactive)return}if(H){J=(0,g.default)(b.Store,function(G){return G.el===H});
if(!J)return;var D=J.settings,r=D.hideOnClick,z=D.multiple;D=D.trigger;if(!z&&b.Browser.touch||!z&&-1!==D.indexOf("click"))return(0,c.default)(J);if(!0!==r||-1!==D.indexOf("click"))return}!(0,e.default)(O.target,b.Selectors.CONTROLLER)&&document.querySelector(b.Selectors.POPPER)&&(0,c.default)()});document.addEventListener("touchstart",h);window.addEventListener("blur",function(O){(O=document.activeElement)&&O.blur&&n.matches.call(O,b.Selectors.TOOLTIPPED_EL)&&O.blur()});!b.Browser.SUPPORTS_TOUCH&&
(0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&document.addEventListener("pointerdown",h)};var b=m(0);q=m(25);var c=f(q);q=m(4);var e=f(q);q=m(2);var g=f(q),n=m(8)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(c,e,g){var n=g.position,h=g.distance,x=g.arrow,O=g.animateFill,H=g.inertia,F=g.animation,J=g.arrowSize,D=g.size,r=g.theme,z=g.html,G=g.zIndex;g=g.interactive;var T=document.createElement("div");T.setAttribute("class","tippy-popper");T.setAttribute("role",
"tooltip");T.setAttribute("aria-hidden","true");T.setAttribute("id","tippy-tooltip-"+c);T.style.zIndex=G;var R=document.createElement("div");R.setAttribute("class","tippy-tooltip tippy-tooltip--"+D+" leave");R.setAttribute("data-animation",F);r.split(" ").forEach(function(ca){R.classList.add(ca+"-theme")});x&&(c=document.createElement("div"),c.setAttribute("class","arrow-"+J),c.setAttribute("x-arrow",""),R.appendChild(c));O&&(R.setAttribute("data-animatefill",""),O=document.createElement("div"),O.setAttribute("class",
"leave"),O.setAttribute("x-circle",""),R.appendChild(O));H&&R.setAttribute("data-inertia","");g&&R.setAttribute("data-interactive","");H=document.createElement("div");H.setAttribute("class","tippy-tooltip-content");z?(e=void 0,z instanceof Element?(H.appendChild(z),e="#"+z.id||"tippy-html-template"):(H.innerHTML=document.getElementById(z.replace("#","")).innerHTML,e=z),T.classList.add("html-template"),g&&T.setAttribute("tabindex","-1"),R.setAttribute("data-template-id",e)):H.innerHTML=e;R.style[(0,f.default)(n)]=
(0,b.default)(h);R.appendChild(H);T.appendChild(R);return T};var f=(q=m(3))&&q.__esModule?q:{default:q},b=(m=m(11))&&m.__esModule?m:{default:m}},function(q,t,m){function f(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(t,"__esModule",{value:!0});var b=Object.assign||function(O){for(var H=1;H<arguments.length;H++){var F=arguments[H],J;for(J in F)Object.prototype.hasOwnProperty.call(F,J)&&(O[J]=F[J])}return O};t.default=function(O){var H=O.el,F=O.popper,J=O.settings,D=J.position,r=J.popperOptions,
z=J.offset,G=J.distance,T=J.flipDuration,R=(0,h.default)(F).tooltip;J=b({placement:D},r||{},{modifiers:b({},r?r.modifiers:{},{flip:b({padding:G+5},r&&r.modifiers?r.modifiers.flip:{}),offset:b({offset:z},r&&r.modifiers?r.modifiers.offset:{})}),onUpdate:function(){var M=R.style;M.top="";M.bottom="";M.left="";M.right="";M[(0,n.default)(F.getAttribute("x-placement"))]=(0,x.default)(G)}});if(window.MutationObserver){var ca=F.style;D=new MutationObserver(function(){ca[(0,g.default)("transitionDuration")]=
"0ms";O.popperInstance.update();(0,e.default)(function(){ca[(0,g.default)("transitionDuration")]=T+"ms"})});D.observe(F,{childList:!0,subtree:!0,characterData:!0});O._mutationObserver=D}return new c.default(H,F,J)};q=m(38);var c=f(q);q=m(5);var e=f(q);q=m(1);var g=f(q);q=m(3);var n=f(q);q=m(6);var h=f(q);m=m(11);var x=f(m)},function(q,t,m){function f(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(O){var H=this;return O.reduce(function(F,
J){var D=x,r=(0,n.default)(H.settings.performance?H.settings:(0,b.default)(J,H.settings)),z=r.html,G=r.reactDOM,T=r.trigger,R=r.touchHold,ca=J.getAttribute("title");if(!ca&&!z&&!G)return F;J.setAttribute("data-tooltipped","");J.setAttribute("aria-describedby","tippy-tooltip-"+D);(0,h.default)(J);z=(0,c.default)(D,ca,r);var M=g.default.call(H,J,z,r),ba=[];T.trim().split(" ").forEach(function(W){return ba=ba.concat((0,e.default)(W,J,M,R))});F.push({id:D,el:J,popper:z,settings:r,listeners:ba,tippyInstance:H});
x++;return F},[])};q=m(24);var b=f(q);q=m(17);var c=f(q);q=m(20);var e=f(q);q=m(23);var g=f(q);q=m(21);var n=f(q);q=m(12);var h=f(q);m(0);var x=1},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c,e,g){var n=[];if("manual"===b)return n;c.addEventListener(b,e.handleTrigger);n.push({event:b,handler:e.handleTrigger});"mouseenter"===b&&(f.Browser.SUPPORTS_TOUCH&&g&&(c.addEventListener("touchstart",e.handleTrigger),n.push({event:"touchstart",handler:e.handleTrigger}),
c.addEventListener("touchend",e.handleMouseleave),n.push({event:"touchend",handler:e.handleMouseleave})),c.addEventListener("mouseleave",e.handleMouseleave),n.push({event:"mouseleave",handler:e.handleMouseleave}));"focus"===b&&(c.addEventListener("blur",e.handleBlur),n.push({event:"blur",handler:e.handleBlur}));return n};var f=m(0)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){f.arrow&&(f.animateFill=!1);f.appendTo&&"function"===typeof f.appendTo&&(f.appendTo=
f.appendTo());return f}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){return f instanceof Element?[f]:Array.isArray(f)?f:[].slice.call(document.querySelectorAll(f))}},function(q,t,m){function f(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(n,h,x){var O=this,H=x.delay,F=x.interactive,J=x.hideOnClick,D=x.trigger,r=x.touchHold,z=void 0,G=void 0,T=function(){clearTimeout(z);clearTimeout(G);if(!(0,c.default)(h)){var ca=
Array.isArray(H)?H[0]:H;H?z=setTimeout(function(){return O.show(h)},ca):O.show(h)}},R=function(){clearTimeout(z);clearTimeout(G);var ca=Array.isArray(H)?H[1]:H;H?G=setTimeout(function(){return O.hide(h)},ca):O.hide(h)};return{handleTrigger:function(ca){var M="mouseenter"===ca.type&&b.Browser.SUPPORTS_TOUCH&&b.Browser.touch;if(!M||!r){var ba="persistent"!==J;"click"===ca.type&&(0,c.default)(h)&&ba?R():O.callbacks.wait?O.callbacks.wait.call(h,T,ca):T();M&&b.Browser.iOS()&&n.click&&n.click()}},handleMouseleave:function(ca){"mouseleave"===
ca.type&&b.Browser.SUPPORTS_TOUCH&&b.Browser.touch&&r||(F?(document.body.addEventListener("mouseleave",R),document.addEventListener("mousemove",function W(ba){var ea=function(){document.body.removeEventListener("mouseleave",R);document.removeEventListener("mousemove",W);R()},La=(0,e.default)(ba.target,b.Selectors.TOOLTIPPED_EL),aa=(0,e.default)(ba.target,b.Selectors.POPPER)===h,C=La===n,B=-1!==D.indexOf("click");if(La&&La!==n)return ea();aa||C||B||(0,g.default)(ba,h,x)&&ea()})):R())},handleBlur:function(ca){ca.relatedTarget&&
!b.Browser.touch&&((0,e.default)(ca.relatedTarget,b.Selectors.POPPER)||R())}}};var b=m(0);q=m(7);var c=f(q);q=m(4);var e=f(q);m=m(32);var g=f(m)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c){var e=f.DefaultsKeys.reduce(function(g,n){var h=b.getAttribute("data-"+n.toLowerCase())||c[n];"false"===h&&(h=!1);"true"===h&&(h=!0);isFinite(h)&&!isNaN(parseFloat(h))&&(h=parseFloat(h));"string"===typeof h&&"["===h.trim().charAt(0)&&(h=JSON.parse(h));g[n]=h;return g},
{});return Object.assign({},c,e)};var f=m(0)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b){f.Store.forEach(function(c){var e=c.popper,g=c.tippyInstance,n=c.settings,h=n.hideOnClick,x=n.trigger;n.appendTo.contains(e)&&(n=!0===h||-1!==x.indexOf("focus"),h=!b||e!==b.popper,n&&h&&(c.settings.onRequestClose(),g.hide(e)))})};var f=m(0)},function(q,t,m){function f(){if(f.done)return!1;f.done=!0;(0,b.default)();return!0}Object.defineProperty(t,"__esModule",{value:!0});
t.default=f;var b=(q=m(16))&&q.__esModule?q:{default:q}},function(q,t,m){function f(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(g){var n=g.popper,h=g.popperInstance,x=g.settings.stickyDuration;(0,b.default)(function H(){h&&h.scheduleUpdate();n.style[(0,c.default)("transitionDuration")]=x+"ms";(0,e.default)(n)?window.requestAnimationFrame(H):n.style[(0,c.default)("transitionDuration")]=""})};q=m(5);var b=f(q);q=m(1);var c=f(q);m=m(7);
var e=f(m)},function(q,t,m){function f(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(g){var n=g.el,h=g.popper,x=g.settings,O=x.appendTo;x=x.followCursor;O.contains(h)||(O.appendChild(h),g.popperInstance?(g.popperInstance.update(),x&&!b.Browser.touch||g.popperInstance.enableEventListeners()):g.popperInstance=(0,e.default)(g),x&&!b.Browser.touch&&(n.addEventListener("mousemove",c.default),g.popperInstance.disableEventListeners()))};var b=
m(0);q=m(10);var c=f(q);q=m(18);var e=f(q);m=m(1);f(m)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c,e){if(!c)return e();var g=(0,f.default)(b.popper).tooltip,n=!1,h=function(x){x.target!==g||n||(n=!0,e())};g.addEventListener("webkitTransitionEnd",h);g.addEventListener("transitionend",h);clearTimeout(b._transitionendTimeout);b._transitionendTimeout=setTimeout(function(){n||e()},c)};m(0);var f=(q=m(6))&&q.__esModule?q:{default:q}},function(q,t,m){function f(B){return B&&
B.__esModule?B:{default:B}}function b(B,N,Y){N in B?Object.defineProperty(B,N,{value:Y,enumerable:!0,configurable:!0,writable:!0}):B[N]=Y;return B}function c(B,N){return new C(B,N)}Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(B){for(var N=1;N<arguments.length;N++){var Y=arguments[N],Aa;for(Aa in Y)Object.prototype.hasOwnProperty.call(Y,Aa)&&(B[Aa]=Y[Aa])}return B},g=function(){function B(N,Y){for(var Aa=0;Aa<Y.length;Aa++){var sa=Y[Aa];sa.enumerable=sa.enumerable||
!1;sa.configurable=!0;"value"in sa&&(sa.writable=!0);Object.defineProperty(N,sa.key,sa)}}return function(N,Y,Aa){Y&&B(N.prototype,Y);Aa&&B(N,Aa);return N}}(),n=m(0);q=m(39);var h=f(q);q=m(26);var x=f(q);q=m(5);var O=f(q);q=m(1);f(q);q=m(2);var H=f(q);q=m(34);var F=f(q);q=m(12);var J=f(q);q=m(33);var D=f(q);q=m(37);var r=f(q);q=m(35);var z=f(q);q=m(6);var G=f(q);q=m(31);var T=f(q);q=m(7);var R=f(q);q=m(36);var ca=f(q);q=m(10);var M=f(q);q=m(22);var ba=f(q);q=m(29);var W=f(q);q=m(28);var ea=f(q);q=
m(27);var La=f(q);m=m(19);var aa=f(m),C=function(){function B(N){var Y=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof B))throw new TypeError("Cannot call a class as a function");n.Browser.SUPPORTED&&((0,x.default)(),this.state={destroyed:!1},this.selector=N,this.settings=e({},n.Defaults,Y),(Y.show||Y.shown||Y.hide||Y.hidden)&&console.warn("Callbacks without the `on` prefix are deprecated (with the exception of `wait`). Use onShow, onShown, onHide, and onHidden instead."),
this.callbacks={wait:Y.wait,show:Y.onShow||Y.show||ca.default,shown:Y.onShown||Y.shown||ca.default,hide:Y.onHide||Y.hide||ca.default,hidden:Y.onHidden||Y.hidden||ca.default},this.store=aa.default.call(this,(0,ba.default)(N)),n.Store.push.apply(n.Store,this.store))}g(B,[{key:"getPopperElement",value:function(N){try{return(0,H.default)(this.store,function(Y){return Y.el===N}).popper}catch(Y){console.error("[getPopperElement]: Element passed as the argument does not exist in the instance")}}},{key:"getReferenceElement",
value:function(N){try{return(0,H.default)(this.store,function(Y){return Y.popper===N}).el}catch(Y){console.error("[getReferenceElement]: Popper passed as the argument does not exist in the instance")}}},{key:"getReferenceData",value:function(N){return(0,H.default)(this.store,function(Y){return Y.el===N||Y.popper===N})}},{key:"updateSettings",value:function(N,Y,Aa){var sa=(0,H.default)(this.store,function(la){return la.popper===N});sa&&(Y=e({},sa.settings,b({},Y,Aa)),sa.settings=Y)}},{key:"updateForReact",
value:function(N,Y){var Aa=N.querySelector(n.Selectors.CONTENT),sa=(0,H.default)(this.store,function(Ia){return Ia.popper===N});if(sa){sa=sa.settings;var la=sa.setReactDOMValue;sa.useContext?la(h.default.createPortal(Y,Aa)):h.default.render(Y,Aa)}}},{key:"show",value:function(N,Y){var Aa=this;if(!this.state.destroyed){var sa=(0,H.default)(this.store,function(va){return va.popper===N});if(sa){var la=(0,G.default)(N),Ia=la.tooltip,bb=la.circle,ib=la.content;if(document.body.contains(sa.el)){if(this.callbacks.show.call(N),
!sa.settings||!1!==sa.settings.open){sa.settings.reactDOM&&this.updateForReact(N,sa.settings.reactDOM);var Ja=sa.el,ma=sa.settings,Fa=ma.sticky,Pa=ma.interactive,qa=ma.followCursor,ya=ma.flipDuration;la=ma.duration;ma.dynamicTitle&&(ma=Ja.getAttribute("title"))&&(ib.innerHTML=ma,(0,J.default)(Ja));var oa=void 0!==Y?Y:Array.isArray(la)?la[0]:la;(0,T.default)([N,Ia,bb],0);(0,ea.default)(sa);N.style.visibility="visible";N.setAttribute("aria-hidden","false");(0,O.default)(function(){if(!qa||n.Browser.touch)sa.popperInstance.update(),
(0,T.default)([N],ya);(0,T.default)([Ia,bb],oa);bb&&(ib.style.opacity=1);Pa&&Ja.classList.add("active");Fa&&(0,La.default)(sa);(0,r.default)(Ia,bb);(0,z.default)([Ia,bb],function(va){va.contains("tippy-notransition")&&va.remove("tippy-notransition");va.remove("leave");va.add("enter")});(0,W.default)(sa,oa,function(){(0,R.default)(N)&&!sa._onShownFired&&(Pa&&N.focus(),Ia.classList.add("tippy-notransition"),sa._onShownFired=!0,Aa.callbacks.shown.call(N))})})}}else this.destroy(N)}}}},{key:"hide",value:function(N,
Y){var Aa=this;if(!this.state.destroyed){this.callbacks.hide.call(N);var sa=(0,H.default)(this.store,function(oa){return oa.popper===N});if(sa){var la=(0,G.default)(N),Ia=la.tooltip,bb=la.circle,ib=la.content;if(!1!==sa.settings.disabled||!sa||!sa.settings.open){var Ja=sa&&sa.settings&&sa.settings.unmountHTMLWhenHide&&sa.settings.reactDOM,ma=sa.el,Fa=sa.settings,Pa=Fa.appendTo;la=Fa.interactive;var qa=Fa.html,ya=Fa.trigger;Fa=Fa.duration;Y=void 0!==Y?Y:Array.isArray(Fa)?Fa[1]:Fa;sa._onShownFired=
!1;la&&ma.classList.remove("active");N.style.visibility="hidden";N.setAttribute("aria-hidden","true");(0,T.default)([Ia,bb,bb?ib:null],Y);bb&&(ib.style.opacity=0);(0,z.default)([Ia,bb],function(oa){oa.contains("tippy-tooltip")&&oa.remove("tippy-notransition");oa.remove("enter");oa.add("leave")});qa&&-1!==ya.indexOf("click")&&(0,D.default)(ma)&&ma.focus();(0,W.default)(sa,Y,function(){!(0,R.default)(N)&&Pa.contains(N)&&"1"!==getComputedStyle(Ia).opacity&&(ma.removeEventListener("mousemove",M.default),
sa.popperInstance.disableEventListeners(),Pa.removeChild(N),Aa.callbacks.hidden.call(N),Ja&&h.default.unmountComponentAtNode(ib))})}}}}},{key:"update",value:function(N){if(!this.state.destroyed){var Y=(0,H.default)(this.store,function(la){return la.popper===N});if(Y){var Aa=(0,G.default)(N).content,sa=Y.el;Y=Y.settings.html;Y instanceof Element?console.warn("Aborted: update() should not be used if `html` is a DOM element"):(Aa.innerHTML=Y?document.getElementById(Y.replace("#","")).innerHTML:sa.getAttribute("title")||
sa.getAttribute("data-original-title"),Y||(0,J.default)(sa))}}}},{key:"destroy",value:function(N,Y){var Aa=this;if(!this.state.destroyed){var sa=(0,H.default)(this.store,function(ib){return ib.popper===N});if(sa){var la=sa.el,Ia=sa.popperInstance,bb=sa.listeners;sa=sa._mutationObserver;(0,R.default)(N)&&this.hide(N,0);bb.forEach(function(ib){return la.removeEventListener(ib.event,ib.handler)});la.setAttribute("title",la.getAttribute("data-original-title"));la.removeAttribute("data-original-title");
la.removeAttribute("data-tooltipped");la.removeAttribute("aria-describedby");Ia&&Ia.destroy();sa&&sa.disconnect();n.Store.splice((0,F.default)(n.Store,function(ib){return ib.popper===N}),1);if(void 0===Y||Y)this.store=n.Store.filter(function(ib){return ib.tippyInstance===Aa})}}}},{key:"destroyAll",value:function(){var N=this;if(!this.state.destroyed){var Y=this.store.length;this.store.forEach(function(Aa,sa){N.destroy(Aa.popper,sa===Y-1)});this.store=null;this.state.destroyed=!0}}}]);return B}();
c.Browser=n.Browser;c.Defaults=n.Defaults;c.disableDynamicInputDetection=function(){return n.Browser.dynamicInputDetection=!1};c.enableDynamicInputDetection=function(){return n.Browser.dynamicInputDetection=!0};t.default=c},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,g){e.forEach(function(n){if(n){var h=c.matches.call(n,f.Selectors.CONTENT)?Math.round(g/1.3):g;n.style[(0,b.default)("transitionDuration")]=h+"ms"}})};var f=m(0),b=(q=m(1))&&q.__esModule?q:{default:q},
c=m(8)},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c,e){if(!c.getAttribute("x-placement"))return!0;var g=b.clientX;b=b.clientY;var n=e.interactiveBorder,h=e.distance;e=c.getBoundingClientRect();c=(0,f.default)(c.getAttribute("x-placement"));h=n+h;var x=e.top-b>n,O=b-e.bottom>n,H=e.left-g>n;n=g-e.right>n;switch(c){case "top":x=e.top-b>h;break;case "bottom":O=b-e.bottom>h;break;case "left":H=e.left-g>h;break;case "right":n=g-e.right>h}return x||O||H||n};var f=
(q=m(3))&&q.__esModule?q:{default:q}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){f=f.getBoundingClientRect();return 0<=f.top&&0<=f.left&&f.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&f.right<=(window.innerWidth||document.documentElement.clientWidth)}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c){return Array.prototype.findIndex?b.findIndex(c):b.indexOf((0,f.default)(b,c))};var f=(q=m(2))&&
q.__esModule?q:{default:q}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f,b){f.forEach(function(c){c&&b(c.classList)})}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){}},function(q,t,m){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c){c?window.getComputedStyle(c)[(0,f.default)("transform")]:window.getComputedStyle(b).opacity};var f=(q=m(1))&&q.__esModule?q:{default:q}},function(q,t){q.exports=k},
function(q,t){q.exports=p}])})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,ba=ba||{},ca=this||self;function da(a,b){a=a.split(".");var c=ca;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function fa(){}function ha(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ia(a){var b=ha(a);return"array"==b||"object"==b&&"number"==typeof a.length}
function ja(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ka(a){return Object.prototype.hasOwnProperty.call(a,ma)&&a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;function oa(a,b,c){return a.call.apply(a.bind,arguments)}
function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function qa(a,b,c){qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return qa.apply(null,arguments)}
function ra(a,b){function c(){}c.prototype=b.prototype;a.be=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ta(a){ta[" "](a);return a}ta[" "]=fa;function wa(a){var b=xa;return Object.prototype.hasOwnProperty.call(b,9)?b[9]:b[9]=a(9)};function za(a,b){return new Aa(a,b)}function Ba(a){return 0<a?0x7fffffffffffffff<=a?Ca:new Aa(a,a/4294967296):0>a?-0x7fffffffffffffff>=a?Ea:Fa(new Aa(-a,-a/4294967296)):Ga}
function Ha(a,b){if("-"==a.charAt(0))return Fa(Ha(a.substring(1),b));var c=parseInt(a,b||10);if(9007199254740991>=c)return new Aa(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=Ba(Math.pow(b,8));for(var d=Ga,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),h=parseInt(a.substring(e,e+f),b);8>f?(f=Ba(Math.pow(b,
f)),d=d.multiply(f).add(Ba(h))):(d=d.multiply(c),d=d.add(Ba(h)))}return d}function Fa(a){var b=~a.fb+1|0;return za(b,~a.Qa+!b|0)}function Ia(a,b){return a.add(Fa(b))}function Ja(a){return 0==a.fb&&0==a.Qa}function La(a,b){b&=63;if(0==b)return a;var c=a.Qa;return 32>b?za(a.fb>>>b|c<<32-b,c>>>b):32==b?za(c,0):za(c>>>b-32,0)}
class Aa{constructor(a,b){this.fb=a|0;this.Qa=b|0}toNumber(){return 4294967296*this.Qa+(this.fb>>>0)}isSafeInteger(){var a=this.Qa>>21;return 0==a||-1==a&&!(0==this.fb&&-2097152==this.Qa)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=this.toNumber();return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=za(c,c/4294967296);c=this.div(d);d=Math.abs(Ia(this,c.multiply(d)).toNumber());var e=10==a?""+d:d.toString(a);e.length<b&&(e="0000000000000".substr(e.length-
b)+e);d=c.toNumber();return(10==a?d:d.toString(a))+e}eb(){return this.fb^this.Qa}equals(a){return this.fb==a.fb&&this.Qa==a.Qa}compare(a){return this.Qa==a.Qa?this.fb==a.fb?0:this.fb>>>0>a.fb>>>0?1:-1:this.Qa>a.Qa?1:-1}add(a){var b=this.Qa>>>16,c=this.Qa&65535,d=this.fb>>>16,e=a.Qa>>>16,f=a.Qa&65535,h=a.fb>>>16;a=(this.fb&65535)+(a.fb&65535);h=(a>>>16)+(d+h);d=h>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return za((h&65535)<<16|a&65535,b<<16|d&65535)}multiply(a){if(Ja(this))return this;if(Ja(a))return a;
var b=this.Qa>>>16,c=this.Qa&65535,d=this.fb>>>16,e=this.fb&65535,f=a.Qa>>>16,h=a.Qa&65535,k=a.fb>>>16;a=a.fb&65535;var m=e*a;var n=(m>>>16)+d*a;var p=n>>>16;n=(n&65535)+e*k;p+=n>>>16;p+=c*a;var u=p>>>16;p=(p&65535)+d*k;u+=p>>>16;p=(p&65535)+e*h;u=u+(p>>>16)+(b*a+c*k+d*h+e*f)&65535;return za((n&65535)<<16|m&65535,u<<16|p&65535)}div(a){if(Ja(a))throw Error("division by zero");if(0>this.Qa){if(this.equals(Ea)){if(a.equals(Na)||a.equals(Oa))return Ea;if(a.equals(Ea))return Na;var b=1;if(0==b)b=this;
else{var c=this.Qa;b=32>b?za(this.fb>>>b|c<<32-b,c>>b):za(c>>b-32,0<=c?0:-1)}b=b.div(a).shiftLeft(1);if(b.equals(Ga))return 0>a.Qa?Na:Oa;c=Ia(this,a.multiply(b));return b.add(c.div(a))}return 0>a.Qa?Fa(this).div(Fa(a)):Fa(Fa(this).div(a))}if(Ja(this))return Ga;if(0>a.Qa)return a.equals(Ea)?Ga:Fa(this.div(Fa(a)));var d=Ga;for(c=this;0<=c.compare(a);){b=Math.max(1,Math.floor(c.toNumber()/a.toNumber()));var e=Math.ceil(Math.log(b)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=Ba(b),h=f.multiply(a);0>
h.Qa||0<h.compare(c);)b-=e,f=Ba(b),h=f.multiply(a);Ja(f)&&(f=Na);d=d.add(f);c=Ia(c,h)}return d}modulo(a){return Ia(this,this.div(a).multiply(a))}not(){return za(~this.fb,~this.Qa)}and(a){return za(this.fb&a.fb,this.Qa&a.Qa)}or(a){return za(this.fb|a.fb,this.Qa|a.Qa)}xor(a){return za(this.fb^a.fb,this.Qa^a.Qa)}shiftLeft(a){a&=63;if(0==a)return this;var b=this.fb;return 32>a?za(b<<a,this.Qa<<a|b>>>32-a):za(0,b<<a-32)}}const Ga=za(0,0),Na=za(1,0),Oa=za(-1,-1),Ca=za(4294967295,2147483647),Ea=za(0,2147483648);function Pa(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Qa(a){return/^[\s\xa0]*$/.test(a)}var Ra=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Sa(a,b){return a<b?-1:a>b?1:0};function Ta(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function Ua(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function Va(a,b,c){return null!==a&&b in a?a[b]:c}const Wa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xa(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<Wa.length;f++)c=Wa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};const Ya=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Za=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,
c);for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},$a=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){const c=a.length,d="string"===typeof a?a.split(""):a;for(let e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1};function ab(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0}function bb(a,b){b=Ya(a,b);let c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}
function cb(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]}function db(a,b){a.sort(b||eb)}function gb(a,b){const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||eb;db(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value}function eb(a,b){return a>b?1:a<b?-1:0}
function hb(a){const b=Math.random;for(let c=a.length-1;0<c;c--){const d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};var ib;a:{const a=ca.navigator;if(a){const b=a.userAgent;if(b){ib=b;break a}}ib=""}let jb=ib;function kb(a){return-1!=jb.indexOf(a)};function lb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var mb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function nb(a,b){a=String(a);let c=a.indexOf(".");-1===c&&(c=a.length);const d="-"===a[0]?"-":"";d&&(a=a.substring(1));return d+mb("0",Math.max(0,b-c))+a};function ob(a){if(a.Hb&&"function"==typeof a.Hb)a=a.Hb();else if(ia(a)||"string"===typeof a)a=a.length;else{let b=0;for(const c in a)b++;a=b}return a}function pb(a){if(a.Fc&&"function"==typeof a.Fc)return a.Fc();if("undefined"!==typeof Map&&a instanceof Map||"undefined"!==typeof Set&&a instanceof Set)return Array.from(a.values());if("string"===typeof a)return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ta(a)}
function qb(a){if(a.dd&&"function"==typeof a.dd)return a.dd();if(!a.Fc||"function"!=typeof a.Fc){if("undefined"!==typeof Map&&a instanceof Map)return Array.from(a.keys());if(!("undefined"!==typeof Set&&a instanceof Set)){if(ia(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Ua(a)}}}
function rb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||"string"===typeof a)Array.prototype.forEach.call(a,b,c);else for(var d=qb(a),e=pb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}function sb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ia(a)||"string"===typeof a)return Array.prototype.every.call(a,b,void 0);for(var c=qb(a),d=pb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};var tb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?\x3d[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ub(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function vb(a){this.td=this.We=this.qe="";this.kf=null;this.oe=this.gd="";this.wd=this.aj=!1;if(a instanceof vb){this.wd=a.wd;wb(this,a.qe);var b=a.We;xb(this);this.We=b;b=a.td;xb(this);this.td=b;yb(this,a.kf);b=a.gd;xb(this);this.gd=b;zb(this,a.hd.clone());a=a.oe;xb(this);this.oe=a}else a&&(b=String(a).match(tb))?(this.wd=!1,wb(this,b[1]||"",!0),a=b[2]||"",xb(this),this.We=Ab(a),a=b[3]||"",xb(this),this.td=Ab(a,!0),yb(this,b[4]),a=b[5]||"",xb(this),this.gd=Ab(a,!0),zb(this,b[6]||"",!0),a=b[7]||"",
xb(this),this.oe=Ab(a)):(this.wd=!1,this.hd=new Bb(null,this.wd))}g=vb.prototype;
g.toString=function(){var a=[],b=this.qe;b&&a.push(Cb(b,Eb,!0),":");var c=this.td;if(c||"file"==b)a.push("//"),(b=this.We)&&a.push(Cb(b,Eb,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.kf,null!=c&&a.push(":",String(c));if(c=this.gd)this.td&&"/"!=c.charAt(0)&&a.push("/"),a.push(Cb(c,"/"==c.charAt(0)?Fb:Gb,!0));(c=this.hd.toString())&&a.push("?",c);(c=this.oe)&&a.push("#",Cb(c,Hb));return a.join("")};
g.resolve=function(a){var b=this.clone(),c=!!a.qe;c?wb(b,a.qe):c=!!a.We;if(c){var d=a.We;xb(b);b.We=d}else c=!!a.td;c?(d=a.td,xb(b),b.td=d):c=null!=a.kf;d=a.gd;if(c)yb(b,a.kf);else if(c=!!a.gd){if("/"!=d.charAt(0))if(this.td&&!this.gd)d="/"+d;else{var e=b.gd.lastIndexOf("/");-1!=e&&(d=b.gd.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],h=0;h<e.length;){var k=e[h++];"."==k?d&&h==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(xb(b),b.gd=d):c=""!==a.hd.toString();c?zb(b,a.hd.clone()):c=!!a.oe;c&&(a=a.oe,xb(b),b.oe=a);return b};g.clone=function(){return new vb(this)};function wb(a,b,c){xb(a);a.qe=c?Ab(b,!0):b;a.qe&&(a.qe=a.qe.replace(/:$/,""))}function yb(a,b){xb(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.kf=b}else a.kf=null}
function zb(a,b,c){xb(a);b instanceof Bb?(a.hd=b,a.hd.bi(a.wd)):(c||(b=Cb(b,Ib)),a.hd=new Bb(b,a.wd))}g.getQuery=function(){return this.hd.toString()};g.removeParameter=function(a){xb(this);this.hd.remove(a);return this};g.isReadOnly=function(){return this.aj};function xb(a){if(a.aj)throw Error("Tried to modify a read-only Uri");}g.bi=function(a){this.wd=a;this.hd&&this.hd.bi(a)};function Jb(a){return a instanceof vb?a.clone():new vb(a)}
function Ab(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Cb(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,Kb),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Kb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Eb=/[#\/\?@]/g,Gb=/[#\?:]/g,Fb=/[#\?]/g,Ib=/[#\?@]/g,Hb=/#/g;function Bb(a,b){this.count_=this.Eb=null;this.cd=a||null;this.wd=!!b}
function Lb(a){a.Eb||(a.Eb=new Map,a.count_=0,a.cd&&ub(a.cd,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=Bb.prototype;g.Hb=function(){Lb(this);return this.count_};g.add=function(a,b){Lb(this);this.cd=null;a=Mb(this,a);var c=this.Eb.get(a);c||this.Eb.set(a,c=[]);c.push(b);this.count_+=1;return this};g.remove=function(a){Lb(this);a=Mb(this,a);return this.Eb.has(a)?(this.cd=null,this.count_-=this.Eb.get(a).length,this.Eb.delete(a)):!1};
g.clear=function(){this.Eb=this.cd=null;this.count_=0};g.isEmpty=function(){Lb(this);return 0==this.count_};g.df=function(a){Lb(this);a=Mb(this,a);return this.Eb.has(a)};g.Hf=function(a){var b=this.Fc();return 0<=Ya(b,a)};g.forEach=function(a,b){Lb(this);this.Eb.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)};g.dd=function(){Lb(this);const a=Array.from(this.Eb.values()),b=Array.from(this.Eb.keys()),c=[];for(let d=0;d<b.length;d++){const e=a[d];for(let f=0;f<e.length;f++)c.push(b[d])}return c};
g.Fc=function(a){Lb(this);let b=[];if("string"===typeof a)this.df(a)&&(b=b.concat(this.Eb.get(Mb(this,a))));else{a=Array.from(this.Eb.values());for(let c=0;c<a.length;c++)b=b.concat(a[c])}return b};g.set=function(a,b){Lb(this);this.cd=null;a=Mb(this,a);this.df(a)&&(this.count_-=this.Eb.get(a).length);this.Eb.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.Fc(a);return 0<a.length?String(a[0]):b};
function Nb(a,b,c){a.remove(b);0<c.length&&(a.cd=null,a.Eb.set(Mb(a,b),cb(c)),a.count_+=c.length)}g.toString=function(){if(this.cd)return this.cd;if(!this.Eb)return"";const a=[],b=Array.from(this.Eb.keys());for(var c=0;c<b.length;c++){var d=b[c];const f=encodeURIComponent(String(d)),h=this.Fc(d);for(d=0;d<h.length;d++){var e=f;""!==h[d]&&(e+="\x3d"+encodeURIComponent(String(h[d])));a.push(e)}}return this.cd=a.join("\x26")};
g.clone=function(){var a=new Bb;a.cd=this.cd;this.Eb&&(a.Eb=new Map(this.Eb),a.count_=this.count_);return a};function Mb(a,b){b=String(b);a.wd&&(b=b.toLowerCase());return b}g.bi=function(a){a&&!this.wd&&(Lb(this),this.cd=null,this.Eb.forEach(function(b,c){var d=c.toLowerCase();c!=d&&(this.remove(c),Nb(this,d,b))},this));this.wd=a};g.extend=function(a){for(var b=0;b<arguments.length;b++)rb(arguments[b],function(c,d){this.add(d,c)},this)};function Ob(a,b){null!=a&&this.append.apply(this,arguments)}g=Ob.prototype;g.we="";g.set=function(a){this.we=""+a};g.append=function(a,b,c){this.we+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.we+=arguments[d];return this};g.clear=function(){this.we=""};g.getLength=function(){return this.we.length};g.toString=function(){return this.we};var Pb={},Qb={},Rb,l={},Sb=null,Tb=null,Ub=!0,Vb=!0,Wb=null,Xb=null;function Yb(){return new q(null,5,[Zb,!0,$b,Vb,ac,!1,bc,!1,cc,Wb],null)}function dc(){Ub=!1;Tb=function(){var a=arguments;return console.log.apply(console,cb(a))}}function r(a){return null!=a&&!1!==a}function ec(a){return null==a}function fc(a){return a instanceof Array}function gc(a){return"number"===typeof a}function hc(a){return null==a?!0:!1===a?!0:!1}function ic(a){return null!=a}function lc(a){return"string"===ha(a)}
function mc(a,b){return a[ha(null==b?null:b)]?!0:a._?!0:!1}function nc(a){return null==a?null:a.constructor}function oc(a,b){var c=nc(b);c=r(r(c)?c.Wa:c)?c.Sa:ha(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function pc(a){var b=a.Sa;return r(b)?b:t.C(a)}
var qc="undefined"!==typeof Symbol&&"function"===ha(Symbol)?Symbol.iterator:"@@iterator",rc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},sc=null;
function tc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function uc(a){for(var b=Array(arguments.length),c=0;;)if(c<b.length)b[c]=arguments[c],c+=1;else return b}function vc(a){function b(d,e){d.push(e);return d}var c=[];return w.D?w.D(b,c,a):w.call(null,b,c,a)}function wc(a){return"symbol"===ha(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function xc(){}function yc(){}
function Ac(a){if(null!=a&&null!=a.pa)a=a.pa(a);else{var b=Ac[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Ac._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("ICloneable.-clone",a);}return a}function Bc(){}function Cc(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Cc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Cc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("ICounted.-count",a);}return a}function Dc(){}
function Ec(a){if(null!=a&&null!=a.Pa)a=a.Pa(a);else{var b=Ec[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Ec._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IEmptyableCollection.-empty",a);}return a}function Fc(){}function Gc(a,b){if(null!=a&&null!=a.na)a=a.na(a,b);else{var c=Gc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Gc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("ICollection.-conj",a);}return a}function Hc(){}
var Ic=function(){function a(d,e,f){var h=x[ha(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw oc("IIndexed.-nth",d);}function b(d,e){var f=x[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw oc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.B(arguments[0],arguments[1]);case 3:return x.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};x.B=function(a,b){return null!=a&&null!=a.Da?a.Da(a,b):Ic(a,b)};x.D=function(a,b,c){return null!=a&&null!=a.qb?a.qb(a,b,c):Ic(a,b,c)};x.aa=3;function Jc(){}
function Kc(a){if(null!=a&&null!=a.nb)a=a.nb(a);else{var b=Kc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Kc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("ISeq.-first",a);}return a}function Lc(a){if(null!=a&&null!=a.xb)a=a.xb(a);else{var b=Lc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Lc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("ISeq.-rest",a);}return a}function Mc(){}
function Nc(a){if(null!=a&&null!=a.Va)a=a.Va(a);else{var b=Nc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Nc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("INext.-next",a);}return a}function Oc(){}
var Qc=function(){function a(d,e,f){var h=Pc[ha(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Pc._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw oc("ILookup.-lookup",d);}function b(d,e){var f=Pc[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Pc._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw oc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.D=a;return c}(),Pc=function Pc(a){switch(arguments.length){case 2:return Pc.B(arguments[0],arguments[1]);case 3:return Pc.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Pc.B=function(a,b){return null!=a&&null!=a.oa?a.oa(a,b):Qc(a,b)};Pc.D=function(a,b,c){return null!=a&&null!=a.Y?a.Y(a,b,c):Qc(a,b,c)};Pc.aa=3;function Rc(){}
function Sc(a,b){if(null!=a&&null!=a.ra)a=a.ra(a,b);else{var c=Sc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Sc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IAssociative.-contains-key?",a);}return a}function Tc(a,b,c){if(null!=a&&null!=a.ea)a=a.ea(a,b,c);else{var d=Tc[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Tc._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("IAssociative.-assoc",a);}return a}
function Uc(a,b){if(null!=a&&null!=a.fe)a=a.fe(a,b);else{var c=Uc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Uc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IFind.-find",a);}return a}function Vc(){}function Wc(a,b){if(null!=a&&null!=a.za)a=a.za(a,b);else{var c=Wc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Wc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IMap.-dissoc",a);}return a}
function Xc(a){if(null!=a&&null!=a.jh)a=a.key;else{var b=Xc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Xc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IMapEntry.-key",a);}return a}function Yc(a){if(null!=a&&null!=a.kh)a=a.val;else{var b=Yc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Yc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IMapEntry.-val",a);}return a}function Zc(){}
function $c(a,b){if(null!=a&&null!=a.rg)a=a.rg(a,b);else{var c=$c[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=$c._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("ISet.-disjoin",a);}return a}function ad(a){if(null!=a&&null!=a.ge)a=a.ge(a);else{var b=ad[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=ad._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IStack.-peek",a);}return a}
function bd(a){if(null!=a&&null!=a.he)a=a.he(a);else{var b=bd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=bd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IStack.-pop",a);}return a}function cd(){}function dd(a,b,c){if(null!=a&&null!=a.Fd)a=a.Fd(a,b,c);else{var d=dd[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=dd._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("IVector.-assoc-n",a);}return a}function ed(){}
function y(a){if(null!=a&&null!=a.Vb)a=a.Vb(a);else{var b=y[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=y._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IDeref.-deref",a);}return a}function fd(){}function gd(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=gd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=gd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IMeta.-meta",a);}return a}function hd(){}
function id(a,b){if(null!=a&&null!=a.ha)a=a.ha(a,b);else{var c=id[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=id._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IWithMeta.-with-meta",a);}return a}function jd(){}
var ld=function(){function a(d,e,f){var h=kd[ha(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=kd._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw oc("IReduce.-reduce",d);}function b(d,e){var f=kd[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=kd._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw oc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.D=a;return c}(),kd=function kd(a){switch(arguments.length){case 2:return kd.B(arguments[0],arguments[1]);case 3:return kd.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};kd.B=function(a,b){return null!=a&&null!=a.jb?a.jb(a,b):ld(a,b)};kd.D=function(a,b,c){return null!=a&&null!=a.kb?a.kb(a,b,c):ld(a,b,c)};kd.aa=3;function md(){}
function nd(a,b,c){if(null!=a&&null!=a.xa)a=a.xa(a,b,c);else{var d=nd[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=nd._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("IKVReduce.-kv-reduce",a);}return a}function od(a,b){if(null!=a&&null!=a.da)a=a.da(a,b);else{var c=od[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=od._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IEquiv.-equiv",a);}return a}
function pd(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=pd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=pd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IHash.-hash",a);}return a}function qd(){}function rd(a){if(null!=a&&null!=a.ka)a=a.ka(a);else{var b=rd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=rd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("ISeqable.-seq",a);}return a}function sd(){}function td(){}function ud(){}
function vd(){}function wd(a){if(null!=a&&null!=a.Zc)a=a.Zc(a);else{var b=wd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=wd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IReversible.-rseq",a);}return a}function xd(a,b){if(null!=a&&null!=a.ze)a=a.ze(a,b);else{var c=xd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=xd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IWriter.-write",a);}return a}
function yd(a){if(null!=a&&null!=a.Wd)a=a.Wd(a);else{var b=yd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=yd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IWriter.-flush",a);}return a}function zd(){}function Ad(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Ad[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Ad._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("IPrintWithWriter.-pr-writer",a);}return a}function Bd(){}
function Cd(a){if(null!=a&&null!=a.qg)a=a.qg(a);else{var b=Cd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Cd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IPending.-realized?",a);}return a}function Dd(a,b,c){if(null!=a&&null!=a.sg)a.sg(a,b,c);else{var d=Dd[ha(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Dd._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("IWatchable.-add-watch",a);}}
function Ed(a,b){if(null!=a&&null!=a.tg)a.tg(a,b);else{var c=Ed[ha(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Ed._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw oc("IWatchable.-remove-watch",a);}}function Gd(a){if(null!=a&&null!=a.xe)a=a.xe(a);else{var b=Gd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Gd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IEditableCollection.-as-transient",a);}return a}
function Hd(a,b){if(null!=a&&null!=a.ye)a=a.ye(a,b);else{var c=Hd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Hd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("ITransientCollection.-conj!",a);}return a}function Id(a){if(null!=a&&null!=a.Je)a=a.Je(a);else{var b=Id[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Id._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("ITransientCollection.-persistent!",a);}return a}
function Jd(a,b,c){if(null!=a&&null!=a.bf)a=a.bf(a,b,c);else{var d=Jd[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Jd._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("ITransientAssociative.-assoc!",a);}return a}function Kd(a,b){if(null!=a&&null!=a.qh)a=a.qh(a,b);else{var c=Kd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Kd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("ITransientMap.-dissoc!",a);}return a}
function Ld(){}function Md(a,b){if(null!=a&&null!=a.rd)a=a.rd(a,b);else{var c=Md[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Md._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IComparable.-compare",a);}return a}function Nd(a){if(null!=a&&null!=a.wf)a=a.wf(a);else{var b=Nd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Nd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IChunk.-drop-first",a);}return a}
function Od(a){if(null!=a&&null!=a.$e)a=a.$e(a);else{var b=Od[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Od._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IChunkedSeq.-chunked-first",a);}return a}function Pd(a){if(null!=a&&null!=a.ee)a=a.ee(a);else{var b=Pd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Pd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IChunkedSeq.-chunked-rest",a);}return a}
function Qd(a){if(null!=a&&null!=a.zf)a=a.zf(a);else{var b=Qd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Qd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("INamed.-name",a);}return a}function Rd(a){if(null!=a&&null!=a.Af)a=a.Af(a);else{var b=Rd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Rd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("INamed.-namespace",a);}return a}
function Sd(a,b){if(null!=a&&null!=a.Ed)a=a.Ed(a,b);else{var c=Sd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Sd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IReset.-reset!",a);}return a}
var Ud=function(){function a(f,h,k,m,n){var p=Td[ha(null==f?null:f)];if(null!=p)return p.ma?p.ma(f,h,k,m,n):p.call(null,f,h,k,m,n);p=Td._;if(null!=p)return p.ma?p.ma(f,h,k,m,n):p.call(null,f,h,k,m,n);throw oc("ISwap.-swap!",f);}function b(f,h,k,m){var n=Td[ha(null==f?null:f)];if(null!=n)return n.R?n.R(f,h,k,m):n.call(null,f,h,k,m);n=Td._;if(null!=n)return n.R?n.R(f,h,k,m):n.call(null,f,h,k,m);throw oc("ISwap.-swap!",f);}function c(f,h,k){var m=Td[ha(null==f?null:f)];if(null!=m)return m.D?m.D(f,h,
k):m.call(null,f,h,k);m=Td._;if(null!=m)return m.D?m.D(f,h,k):m.call(null,f,h,k);throw oc("ISwap.-swap!",f);}function d(f,h){var k=Td[ha(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Td._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw oc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.B=d;e.D=c;e.R=b;e.ma=a;return e}(),Td=function Td(a){switch(arguments.length){case 2:return Td.B(arguments[0],arguments[1]);case 3:return Td.D(arguments[0],arguments[1],arguments[2]);case 4:return Td.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Td.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Td.B=function(a,b){return null!=a&&null!=a.mh?a.mh(a,b):Ud(a,b)};
Td.D=function(a,b,c){return null!=a&&null!=a.nh?a.nh(a,b,c):Ud(a,b,c)};Td.R=function(a,b,c,d){return null!=a&&null!=a.oh?a.oh(a,b,c,d):Ud(a,b,c,d)};Td.ma=function(a,b,c,d,e){return null!=a&&null!=a.ph?a.ph(a,b,c,d,e):Ud(a,b,c,d,e)};Td.aa=5;function Vd(a,b){if(null!=a&&null!=a.cf)a=a.cf(a,b);else{var c=Vd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Vd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IVolatile.-vreset!",a);}return a}function Wd(){}
function Xd(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=Xd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Xd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IIterable.-iterator",a);}return a}function Yd(a){this.Wl=a;this.O=1073741824;this.T=0}Yd.prototype.ze=function(a,b){return this.Wl.append(b)};Yd.prototype.Wd=function(){return null};function Zd(a){var b=new Ob,c=new Yd(b);a.ia(null,c,Yb());c.Wd(null);return t.C(b)}
var $d="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function ae(a){a=$d(a|0,-862048943);return $d(a<<15|a>>>-15,461845907)}function be(a,b){a=(a|0)^(b|0);return $d(a<<13|a>>>-13,5)+-430675100|0}function ce(a,b){a=(a|0)^b;a=$d(a^a>>>16,-2048144789);a=$d(a^a>>>13,-1028477387);return a^a>>>16}var de={},ee=0;
function fe(a){255<ee&&(de={},ee=0);if(null==a)return 0;var b=de[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=$d(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;de[a]=b;ee+=1;a=b}return a}
function je(a){if(null!=a&&(a.O&4194304||l===a.pg))return a.ja(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=fe(a),a=0===a?a:ce(be(0,ae(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:pd(a)^0,a}function ke(a){return a instanceof A}
function le(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=be(d,ae(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=ce(1===(b.length&1)?c^ae(b.charCodeAt(b.length-1)):c,$d(2,b.length));a=fe(a.Ac);return b^a+2654435769+(b<<6)+(b>>2)}function me(a,b){if(a.Bc===b.Bc)return 0;var c=hc(a.Ac);if(r(c?b.Ac:c))return-1;if(r(a.Ac)){if(hc(b.Ac))return 1;c=eb(a.Ac,b.Ac);return 0===c?eb(a.name,b.name):c}return eb(a.name,b.name)}
function A(a,b,c,d,e){this.Ac=a;this.name=b;this.Bc=c;this._hash=d;this.pd=e;this.O=2154168321;this.T=4096}g=A.prototype;g.toString=function(){return this.Bc};g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return b instanceof A?this.Bc===b.Bc:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return B.B?B.B(a,this):B.call(null,a,this)};g.B=function(a,b){return B.D?B.D(a,this,b):B.call(null,a,this,b)};g.ga=function(){return this.pd};g.ha=function(a,b){return new A(this.Ac,this.name,this.Bc,this._hash,b)};g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=le(this)};g.zf=function(){return this.name};g.Af=function(){return this.Ac};g.ia=function(a,b){return xd(b,this.Bc)};
var ne=function ne(a){switch(arguments.length){case 1:return ne.C(arguments[0]);case 2:return ne.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};ne.C=function(a){for(;;){if(a instanceof A)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?ne.B(null,a):ne.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof oe)return a.Te;if(a instanceof D)a=a.ba;else throw Error("no conversion to symbol");}};
ne.B=function(a,b){var c=null!=a?[t.C(a),"/",t.C(b)].join(""):b;return new A(a,b,c,null,null)};ne.aa=2;function oe(a,b,c){this.val=a;this.Te=b;this.pd=c;this.O=6717441;this.T=0}g=oe.prototype;g.toString=function(){return["#'",t.C(this.Te)].join("")};g.Vb=function(){return this.val.P?this.val.P():this.val.call(null)};g.ga=function(){return this.pd};g.ha=function(a,b){return new oe(this.val,this.Te,b)};g.da=function(a,b){return b instanceof oe?(a=this.Te,b=b.Te,F.B?F.B(a,b):F.call(null,a,b)):!1};
g.ja=function(){return le(this.Te)};g.Ci=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Wb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.wc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.nc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.oc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.pc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.qc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.rc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.sc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.tc(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.uc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.vc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.xf(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.P=function(){var a=this.val.P?this.val.P():this.val.call(null);return a.P?a.P():a.call(null)};g.C=function(a){var b=this.val.P?this.val.P():this.val.call(null);return b.C?b.C(a):b.call(null,a)};
g.B=function(a,b){var c=this.val.P?this.val.P():this.val.call(null);return c.B?c.B(a,b):c.call(null,a,b)};g.D=function(a,b,c){var d=this.val.P?this.val.P():this.val.call(null);return d.D?d.D(a,b,c):d.call(null,a,b,c)};g.R=function(a,b,c,d){var e=this.val.P?this.val.P():this.val.call(null);return e.R?e.R(a,b,c,d):e.call(null,a,b,c,d)};g.ma=function(a,b,c,d,e){var f=this.val.P?this.val.P():this.val.call(null);return f.ma?f.ma(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Ra=function(a,b,c,d,e,f){var h=this.val.P?this.val.P():this.val.call(null);return h.Ra?h.Ra(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Wb=function(a,b,c,d,e,f,h){var k=this.val.P?this.val.P():this.val.call(null);return k.Wb?k.Wb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Xb=function(a,b,c,d,e,f,h,k){var m=this.val.P?this.val.P():this.val.call(null);return m.Xb?m.Xb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.wc=function(a,b,c,d,e,f,h,k,m){var n=this.val.P?this.val.P():this.val.call(null);return n.wc?n.wc(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.lc=function(a,b,c,d,e,f,h,k,m,n){var p=this.val.P?this.val.P():this.val.call(null);return p.lc?p.lc(a,b,c,d,e,f,h,k,m,n):p.call(null,a,b,c,d,e,f,h,k,m,n)};g.mc=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.val.P?this.val.P():this.val.call(null);return u.mc?u.mc(a,b,c,d,e,f,h,k,m,n,p):u.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.nc=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.val.P?this.val.P():this.val.call(null);return v.nc?v.nc(a,b,c,d,e,f,h,k,m,n,p,u):v.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.oc=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var z=this.val.P?this.val.P():this.val.call(null);return z.oc?z.oc(a,b,c,d,e,f,h,k,m,n,p,u,v):z.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.pc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z){var C=this.val.P?this.val.P():this.val.call(null);return C.pc?C.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):C.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z)};g.qc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){var E=this.val.P?this.val.P():this.val.call(null);return E.qc?E.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):E.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C)};
g.rc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E){var I=this.val.P?this.val.P():this.val.call(null);return I.rc?I.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E)};g.sc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I){var O=this.val.P?this.val.P():this.val.call(null);return O.sc?O.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I)};
g.tc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O){var P=this.val.P?this.val.P():this.val.call(null);return P.tc?P.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O):P.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O)};g.uc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P){var T=this.val.P?this.val.P():this.val.call(null);return T.uc?T.uc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):T.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P)};
g.vc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T){var aa=this.val.P?this.val.P():this.val.call(null);return aa.vc?aa.vc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T)};g.xf=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa){var ea=this.val.P?this.val.P():this.val.call(null);return pe.ih?pe.ih(ea,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa):pe.call(null,ea,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa)};
function qe(a){return null!=a?a.T&131072||l===a.om?!0:a.T?!1:mc(Wd,a):mc(Wd,a)}function G(a){if(null==a)return null;if(null!=a&&(a.O&8388608||l===a.Ii))return a.ka(null);if(fc(a)||"string"===typeof a)return 0===a.length?null:new re(a,0,null);if(null!=a&&null!=a[qc])return a=Va(a,qc).call(a),se.C?se.C(a):se.call(null,a);if(mc(qd,a))return rd(a);throw Error([t.C(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.O&64||l===a.af))return a.nb(null);a=G(a);return null==a?null:Kc(a)}function te(a){return null!=a?null!=a&&(a.O&64||l===a.af)?a.xb(null):(a=G(a))?a.xb(null):ue:ue}function J(a){return null==a?null:null!=a&&(a.O&128||l===a.Bf)?a.Va(null):G(te(a))}
var F=function F(a){switch(arguments.length){case 1:return F.C(arguments[0]);case 2:return F.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return F.I(arguments[0],arguments[1],c)}};F.C=function(){return!0};F.B=function(a,b){return null==a?null==b:a===b||od(a,b)};F.I=function(a,b,c){for(;;)if(F.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return F.B(b,H(c));else return!1};
F.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};F.aa=2;function ve(a){this.s=a}ve.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function we(a){return new ve(G(a))}function ye(a,b){this.value=a;this.iter=b;this.bh=null;this.O=8388672;this.T=0}ye.prototype.ka=function(){return this};ye.prototype.nb=function(){return this.value};
ye.prototype.xb=function(){null==this.bh&&(this.bh=se.C?se.C(this.iter):se.call(null,this.iter));return this.bh};function se(a){var b=a.next();return r(b.done)?null:new ye(b.value,a)}function ze(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=$d(31,c)+je(H(a))|0,a=J(a);else return ce(be(0,ae(c)),b)}var Ae=ce(be(0,ae(1)),0);function Be(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+je(H(a))|0,a=J(a);else return ce(be(0,ae(c)),b)}var Ce=ce(be(0,ae(0)),0);Bc["null"]=!0;Cc["null"]=function(){return 0};
Date.prototype.da=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Dd=l;Date.prototype.rd=function(a,b){if(b instanceof Date)return eb(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};od.number=function(a,b){return a===b};xc["function"]=!0;fd["function"]=!0;gd["function"]=function(){return null};pd._=function(a){return ka(a)};function De(a){return a+1}function Ee(a){this.val=a;this.O=32768;this.T=0}
Ee.prototype.Vb=function(){return this.val};function Fe(a){return new Ee(a)}function Ge(a){return a instanceof Ee}function He(a){return Ge(a)?Ie.C?Ie.C(a):Ie.call(null,a):a}function Ie(a){return y(a)}function Je(a,b){var c=a.la(null);if(0===c)return b.P?b.P():b.call(null);for(var d=a.Da(null,0),e=1;;)if(e<c){var f=a.Da(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(Ge(d))return y(d);e+=1}else return d}
function Ke(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.Da(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(Ge(e))return y(e);c+=1}else return e}function Me(a,b){var c=a.length;if(0===a.length)return b.P?b.P():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(Ge(d))return y(d);e+=1}else return d}function Ne(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(Ge(e))return y(e);c+=1}else return e}
function Oe(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(Ge(c))return y(c);d+=1}else return c}function Pe(a){return null!=a?a.O&2||l===a.Di?!0:a.O?!1:mc(Bc,a):mc(Bc,a)}function Qe(a){return null!=a?a.O&16||l===a.Hi?!0:a.O?!1:mc(Hc,a):mc(Hc,a)}function Re(a,b,c){var d=K.C?K.C(a):K.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(F.B(Se?Se(a,c):Te.call(null,a,c),b))return c;c+=1}else return-1}
function Ue(a,b,c){var d=K.C?K.C(a):K.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(F.B(Se?Se(a,c):Te.call(null,a,c),b))return c;--c}else return-1}function Ve(a,b){this.K=a;this.i=b}Ve.prototype.Ua=function(){return this.i<this.K.length};Ve.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};function re(a,b,c){this.K=a;this.i=b;this.meta=c;this.O=166592766;this.T=139264}g=re.prototype;g.toString=function(){return Zd(this)};
g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K.C?K.C(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.Da=function(a,b){a=b+this.i;if(0<=a&&a<this.K.length)return this.K[a];throw Error("Index out of bounds");};g.qb=function(a,b,c){a=b+this.i;return 0<=a&&a<this.K.length?this.K[a]:c};
g.qa=function(){return new Ve(this.K,this.i)};g.ga=function(){return this.meta};g.pa=function(){return new re(this.K,this.i,this.meta)};g.Va=function(){return this.i+1<this.K.length?new re(this.K,this.i+1,null):null};g.la=function(){var a=this.K.length-this.i;return 0>a?0:a};g.Zc=function(){var a=this.la(null);return 0<a?new We(this,a-1,null):null};g.ja=function(){return ze(this)};g.da=function(a,b){return Xe.B?Xe.B(this,b):Xe.call(null,this,b)};g.Pa=function(){return ue};
g.jb=function(a,b){return Oe(this.K,b,this.K[this.i],this.i+1)};g.kb=function(a,b,c){return Oe(this.K,b,c,this.i)};g.nb=function(){return this.K[this.i]};g.xb=function(){return this.i+1<this.K.length?new re(this.K,this.i+1,null):ue};g.ka=function(){return this.i<this.K.length?this:null};g.ha=function(a,b){return b===this.meta?this:new re(this.K,this.i,b)};g.na=function(a,b){return Ye.B?Ye.B(b,this):Ye.call(null,b,this)};re.prototype[qc]=function(){return we(this)};
function M(a){return 0<a.length?new re(a,0,null):null}function We(a,b,c){this.ci=a;this.i=b;this.meta=c;this.O=32374990;this.T=8192}g=We.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K.C?K.C(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new We(this.ci,this.i,this.meta)};g.Va=function(){return 0<this.i?new We(this.ci,this.i-1,null):null};g.la=function(){return this.i+1};
g.ja=function(){return ze(this)};g.da=function(a,b){return Xe.B?Xe.B(this,b):Xe.call(null,this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ze?Ze(b,this):$e.call(null,b,this)};g.kb=function(a,b,c){return af?af(b,c,this):$e.call(null,b,c,this)};g.nb=function(){return x(this.ci,this.i)};g.xb=function(){return 0<this.i?new We(this.ci,this.i-1,null):ue};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new We(this.ci,this.i,b)};
g.na=function(a,b){return Ye.B?Ye.B(b,this):Ye.call(null,b,this)};We.prototype[qc]=function(){return we(this)};function bf(a){return H(J(a))}function cf(a){return H(H(a))}function ff(a){for(;;){var b=J(a);if(null!=b)a=b;else return H(a)}}od._=function(a,b){return a===b};
var gf=function gf(a){switch(arguments.length){case 0:return gf.P();case 1:return gf.C(arguments[0]);case 2:return gf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return gf.I(arguments[0],arguments[1],c)}};gf.P=function(){return hf};gf.C=function(a){return a};gf.B=function(a,b){return null!=a?Gc(a,b):new jf(null,b,null,1,null)};
gf.I=function(a,b,c){for(;;)if(r(c))a=gf.B(a,b),b=H(c),c=J(c);else return gf.B(a,b)};gf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};gf.aa=2;function kf(a){return null==a?null:null!=a&&(a.O&4||l===a.Gi)?a.Pa(null):(null!=a?a.O&4||l===a.Gi||(a.O?0:mc(Dc,a)):mc(Dc,a))?Ec(a):null}
function K(a){if(null!=a)if(null!=a&&(a.O&2||l===a.Di))a=a.la(null);else if(fc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.O&8388608||l===a.Ii))a:{a=G(a);for(var b=0;;){if(Pe(a)){a=b+Cc(a);break a}a=J(a);b+=1}}else a=Cc(a);else a=0;return a}function lf(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?H(a):c;if(Qe(a))return x(a,b,c);if(G(a))a=J(a),--b;else return c}}
function Te(a){switch(arguments.length){case 2:return Se(arguments[0],arguments[1]);case 3:return N(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}
function Se(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.O&16||l===a.Hi))return a.Da(null,b);if(fc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.O&64||l===a.af)||null!=a&&(a.O&16777216||l===a.Ji)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=H(a);break a}throw Error("Index out of bounds");}if(Qe(a)){a=x(a,b);break a}if(G(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(mc(Hc,a))return x(a,b);throw Error(["nth not supported on this type ",t.C(pc(nc(a)))].join(""));}
function N(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.O&16||l===a.Hi))return a.qb(null,b,c);if(fc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.O&64||l===a.af)||null!=a&&(a.O&16777216||l===a.Ji))return 0>b?c:lf(a,b,c);if(mc(Hc,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.C(pc(nc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.B(arguments[0],arguments[1]);case 3:return B.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};B.B=function(a,b){return null==a?null:null!=a&&(a.O&256||l===a.ik)?a.oa(null,b):fc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:mc(Oc,a)?Pc(a,b):null};
B.D=function(a,b,c){return null!=a?null!=a&&(a.O&256||l===a.ik)?a.Y(null,b,c):fc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:mc(Oc,a)?Pc(a,b,c):c:c};B.aa=3;var Q=function Q(a){switch(arguments.length){case 3:return Q.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(3),0,null);return Q.I(arguments[0],arguments[1],arguments[2],c)}};
Q.D=function(a,b,c){return null!=a&&(a.O&512||l===a.ek)?a.ea(null,b,c):null!=a?Tc(a,b,c):mf([b,c])};Q.I=function(a,b,c,d){for(;;)if(a=Q.D(a,b,c),r(d))b=H(d),c=bf(d),d=J(J(d));else return a};Q.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};Q.aa=3;
var R=function R(a){switch(arguments.length){case 1:return R.C(arguments[0]);case 2:return R.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return R.I(arguments[0],arguments[1],c)}};R.C=function(a){return a};R.B=function(a,b){return null==a?null:Wc(a,b)};R.I=function(a,b,c){for(;;){if(null==a)return null;a=R.B(a,b);if(r(c))b=H(c),c=J(c);else return a}};
R.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};R.aa=2;function nf(a){var b="function"===typeof a;return b?b:null!=a?l===a.Ci?!0:a.Ae?!1:mc(xc,a):mc(xc,a)}function of(a,b){this.ya=a;this.meta=b;this.O=393217;this.T=0}g=of.prototype;g.ga=function(){return this.meta};g.ha=function(a,b){return new of(this.ya,b)};g.Ci=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Wb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.wc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.nc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.oc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.pc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.qc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.rc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.sc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.tc(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.uc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.vc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.xf(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.P=function(){return this.ya.P?this.ya.P():this.ya.call(null)};g.C=function(a){return this.ya.C?this.ya.C(a):this.ya.call(null,a)};g.B=function(a,b){return this.ya.B?this.ya.B(a,b):this.ya.call(null,a,b)};g.D=function(a,b,c){return this.ya.D?this.ya.D(a,b,c):this.ya.call(null,a,b,c)};
g.R=function(a,b,c,d){return this.ya.R?this.ya.R(a,b,c,d):this.ya.call(null,a,b,c,d)};g.ma=function(a,b,c,d,e){return this.ya.ma?this.ya.ma(a,b,c,d,e):this.ya.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){return this.ya.Ra?this.ya.Ra(a,b,c,d,e,f):this.ya.call(null,a,b,c,d,e,f)};g.Wb=function(a,b,c,d,e,f,h){return this.ya.Wb?this.ya.Wb(a,b,c,d,e,f,h):this.ya.call(null,a,b,c,d,e,f,h)};g.Xb=function(a,b,c,d,e,f,h,k){return this.ya.Xb?this.ya.Xb(a,b,c,d,e,f,h,k):this.ya.call(null,a,b,c,d,e,f,h,k)};
g.wc=function(a,b,c,d,e,f,h,k,m){return this.ya.wc?this.ya.wc(a,b,c,d,e,f,h,k,m):this.ya.call(null,a,b,c,d,e,f,h,k,m)};g.lc=function(a,b,c,d,e,f,h,k,m,n){return this.ya.lc?this.ya.lc(a,b,c,d,e,f,h,k,m,n):this.ya.call(null,a,b,c,d,e,f,h,k,m,n)};g.mc=function(a,b,c,d,e,f,h,k,m,n,p){return this.ya.mc?this.ya.mc(a,b,c,d,e,f,h,k,m,n,p):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.nc=function(a,b,c,d,e,f,h,k,m,n,p,u){return this.ya.nc?this.ya.nc(a,b,c,d,e,f,h,k,m,n,p,u):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.oc=function(a,b,c,d,e,f,h,k,m,n,p,u,v){return this.ya.oc?this.ya.oc(a,b,c,d,e,f,h,k,m,n,p,u,v):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};g.pc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z){return this.ya.pc?this.ya.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z)};
g.qc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){return this.ya.qc?this.ya.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C)};g.rc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E){return this.ya.rc?this.ya.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E)};g.sc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I){return this.ya.sc?this.ya.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I)};
g.tc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O){return this.ya.tc?this.ya.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O)};g.uc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P){return this.ya.uc?this.ya.uc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P)};
g.vc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T){return this.ya.vc?this.ya.vc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T)};g.xf=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa){return pe.ih?pe.ih(this.ya,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa):pe.call(null,this.ya,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa)};function pf(a,b){return"function"===typeof a?new of(a,b):null==a?null:id(a,b)}
function qf(a){var b=null!=a;return(b?null!=a?a.O&131072||l===a.yf||(a.O?0:mc(fd,a)):mc(fd,a):b)?gd(a):null}var rf=function rf(a){switch(arguments.length){case 1:return rf.C(arguments[0]);case 2:return rf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return rf.I(arguments[0],arguments[1],c)}};rf.C=function(a){return a};rf.B=function(a,b){return null==a?null:$c(a,b)};
rf.I=function(a,b,c){for(;;){if(null==a)return null;a=rf.B(a,b);if(r(c))b=H(c),c=J(c);else return a}};rf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};rf.aa=2;function sf(a){return null==a||hc(G(a))}function tf(a){return null==a?!1:null!=a?a.O&8||l===a.lm?!0:a.O?!1:mc(Fc,a):mc(Fc,a)}function uf(a){return null==a?!1:null!=a?a.O&4096||l===a.vm?!0:a.O?!1:mc(Zc,a):mc(Zc,a)}function vf(a){return null!=a?a.O&16777216||l===a.Ji?!0:a.O?!1:mc(sd,a):mc(sd,a)}
function wf(a){return null==a?!1:null!=a?a.O&1024||l===a.rm?!0:a.O?!1:mc(Vc,a):mc(Vc,a)}function xf(a){return null!=a?a.O&67108864||l===a.um?!0:a.O?!1:mc(ud,a):mc(ud,a)}function yf(a){return null!=a?a.O&16384||l===a.wm?!0:a.O?!1:mc(cd,a):mc(cd,a)}function zf(a){return null!=a?a.T&512||l===a.km?!0:!1:!1}function Af(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var Bf={};function Cf(a){return null==a?!1:null!=a?a.O&64||l===a.af?!0:a.O?!1:mc(Jc,a):mc(Jc,a)}
function Df(a){var b=null==a;return b?b:(b=null!=a?a.O&8388608||l===a.Ii?!0:a.O?!1:mc(qd,a):mc(qd,a))?b:fc(a)||"string"===typeof a}function Ef(a){return null==a?!1:!1===a?!1:!0}function Ff(a){var b=nf(a);return b?b:null!=a?a.O&1||l===a.nm?!0:a.O?!1:mc(yc,a):mc(yc,a)}function Gf(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function S(a,b){return null!=a&&(a.O&512||l===a.ek)?a.ra(null,b):mc(Rc,a)?Sc(a,b):B.D(a,b,Bf)===Bf?!1:!0}
var Hf=function Hf(a){switch(arguments.length){case 1:return Hf.C(arguments[0]);case 2:return Hf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return Hf.I(arguments[0],arguments[1],c)}};Hf.C=function(){return!0};Hf.B=function(a,b){return!F.B(a,b)};Hf.I=function(a,b,c){if(F.B(a,b))return!1;a=If([a,b]);for(b=c;;){var d=H(b);c=J(b);if(r(b)){if(S(a,d))return!1;a=gf.B(a,d);b=c}else return!0}};
Hf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Hf.aa=2;function Jf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return eb(a,b);throw Error(["Cannot compare ",t.C(a)," to ",t.C(b)].join(""));}if(null!=a?a.T&2048||l===a.Dd||(a.T?0:mc(Ld,a)):mc(Ld,a))return Md(a,b);if("string"!==typeof a&&!fc(a)&&!0!==a&&!1!==a||nc(a)!==nc(b))throw Error(["Cannot compare ",t.C(a)," to ",t.C(b)].join(""));return eb(a,b)}
function Kf(a,b){var c=K(a),d=K(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Jf(Se(a,d),Se(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Lf(a){return F.B(a,Jf)?Jf:function(b,c){var d=a.B?a.B(b,c):a.call(null,b,c);return"number"===typeof d?d:r(d)?-1:r(a.B?a.B(c,b):a.call(null,c,b))?1:0}}function Mf(a,b){if(G(b)){var c=Nf.C?Nf.C(b):Nf.call(null,b);gb(c,Lf(a));return pf(G(c),qf(b))}return ue}
function Of(a,b){return Mf(function(c,d){c=a.C?a.C(c):a.call(null,c);d=a.C?a.C(d):a.call(null,d);var e=Lf(Jf);return e.B?e.B(c,d):e.call(null,c,d)},b)}function $e(a){switch(arguments.length){case 2:return Ze(arguments[0],arguments[1]);case 3:return af(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Ze(a,b){var c=G(b);return c?(b=H(c),c=J(c),w.D?w.D(a,b,c):w.call(null,a,b,c)):a.P?a.P():a.call(null)}
function af(a,b,c){for(c=G(c);;)if(c){var d=H(c);b=a.B?a.B(b,d):a.call(null,b,d);if(Ge(b))return y(b);c=J(c)}else return b}function Pf(a,b){a=Xd(a);if(r(a.Ua()))for(var c=a.next();;)if(a.Ua()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Ge(c))return y(c)}else return c;else return b.P?b.P():b.call(null)}function Qf(a,b,c){for(a=Xd(a);;)if(a.Ua()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Ge(c))return y(c)}else return c}
var w=function w(a){switch(arguments.length){case 2:return w.B(arguments[0],arguments[1]);case 3:return w.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};w.B=function(a,b){return null!=b&&(b.O&524288||l===b.jk)?b.jb(null,a):fc(b)?Me(b,a):"string"===typeof b?Me(b,a):mc(jd,b)?kd(b,a):qe(b)?Pf(b,a):Ze(a,b)};
w.D=function(a,b,c){return null!=c&&(c.O&524288||l===c.jk)?c.kb(null,a,b):fc(c)?Ne(c,a,b):"string"===typeof c?Ne(c,a,b):mc(jd,c)?kd(c,a,b):qe(c)?Qf(c,a,b):af(a,b,c)};w.aa=3;function Rf(a,b,c){return null!=c?nd(c,a,b):b}function Sf(a){return a}
function Tf(a,b){return function(){function c(h,k){return a.B?a.B(h,k):a.call(null,h,k)}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}function Uf(a,b,c){return Vf(a,b,b.P?b.P():b.call(null),c)}
function Vf(a,b,c,d){a=a.C?a.C(b):a.call(null,b);c=w.D(a,c,d);return a.C?a.C(c):a.call(null,c)}var Wf=function Wf(a){switch(arguments.length){case 0:return Wf.P();case 1:return Wf.C(arguments[0]);case 2:return Wf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return Wf.I(arguments[0],arguments[1],c)}};Wf.P=function(){return 0};Wf.C=function(a){return a};Wf.B=function(a,b){return a+b};
Wf.I=function(a,b,c){return w.D(Wf,a+b,c)};Wf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Wf.aa=2;var Xf=function Xf(a){switch(arguments.length){case 1:return Xf.C(arguments[0]);case 2:return Xf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return Xf.I(arguments[0],arguments[1],c)}};Xf.C=function(a){return-a};Xf.B=function(a,b){return a-b};
Xf.I=function(a,b,c){return w.D(Xf,a-b,c)};Xf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Xf.aa=2;var Yf=function Yf(a){switch(arguments.length){case 0:return Yf.P();case 1:return Yf.C(arguments[0]);case 2:return Yf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return Yf.I(arguments[0],arguments[1],c)}};Yf.P=function(){return 1};Yf.C=function(a){return a};
Yf.B=function(a,b){return a*b};Yf.I=function(a,b,c){return w.D(Yf,a*b,c)};Yf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Yf.aa=2;var Zf=function Zf(a){switch(arguments.length){case 1:return Zf.C(arguments[0]);case 2:return Zf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return Zf.I(arguments[0],arguments[1],c)}};Zf.C=function(a){return 1/a};Zf.B=function(a,b){return a/b};
Zf.I=function(a,b,c){return w.D(Zf,a/b,c)};Zf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Zf.aa=2;function $f(a){return a-1}var ag=function ag(a){switch(arguments.length){case 1:return ag.C(arguments[0]);case 2:return ag.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return ag.I(arguments[0],arguments[1],c)}};ag.C=function(a){return a};ag.B=function(a,b){return a>b?a:b};
ag.I=function(a,b,c){return w.D(ag,a>b?a:b,c)};ag.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};ag.aa=2;var bg=function bg(a){switch(arguments.length){case 1:return bg.C(arguments[0]);case 2:return bg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return bg.I(arguments[0],arguments[1],c)}};bg.C=function(a){return a};bg.B=function(a,b){return a<b?a:b};
bg.I=function(a,b,c){return w.D(bg,a<b?a:b,c)};bg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};bg.aa=2;function cg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function dg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function eg(a,b){return(a%b+b)%b}function fg(a,b){return dg((a-a%b)/b)}function gg(a,b){return a-b*fg(a,b)}
function hg(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var ig=function ig(a){switch(arguments.length){case 1:return ig.C(arguments[0]);case 2:return ig.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return ig.I(arguments[0],arguments[1],c)}};ig.C=function(){return!0};ig.B=function(a,b){return od(a,b)};
ig.I=function(a,b,c){for(;;)if(a===b)if(J(c))a=b,b=H(c),c=J(c);else return b===H(c);else return!1};ig.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};ig.aa=2;function jg(a){return 0<a}var t=function t(a){switch(arguments.length){case 0:return t.P();case 1:return t.C(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(1),0,null);return t.I(arguments[0],c)}};t.P=function(){return""};
t.C=function(a){return null==a?"":[a].join("")};t.I=function(a,b){for(a=new Ob(t.C(a));;)if(r(b))a=a.append(t.C(H(b))),b=J(b);else return a.toString()};t.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};t.aa=1;var kg=function kg(a){switch(arguments.length){case 2:return kg.B(arguments[0],arguments[1]);case 3:return kg.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};kg.B=function(a,b){return a.substring(b)};
kg.D=function(a,b,c){return a.substring(b,c)};kg.aa=3;function Xe(a,b){if(vf(b))if(Pe(a)&&Pe(b)&&K(a)!==K(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&F.B(H(a),H(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Ef(a)}function jf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.J=e;this.O=65937646;this.T=8192}g=jf.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new jf(this.meta,this.first,this.rest,this.count,this.J)};g.Va=function(){return 1===this.count?null:this.rest};g.la=function(){return this.count};g.ge=function(){return this.first};
g.he=function(){return this.xb(null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return id(ue,this.meta)};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){return this.first};g.xb=function(){return 1===this.count?ue:this.rest};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new jf(b,this.first,this.rest,this.count,this.J)};
g.na=function(a,b){return new jf(this.meta,b,this,this.count+1,null)};function lg(a){return null!=a?a.O&33554432||l===a.qm?!0:a.O?!1:mc(td,a):mc(td,a)}jf.prototype[qc]=function(){return we(this)};function mg(a){this.meta=a;this.O=65937614;this.T=8192}g=mg.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new mg(this.meta)};g.Va=function(){return null};g.la=function(){return 0};g.ge=function(){return null};g.he=function(){throw Error("Can't pop empty list");};g.ja=function(){return Ae};
g.da=function(a,b){return lg(b)||vf(b)?null==G(b):!1};g.Pa=function(){return this};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){return null};g.xb=function(){return ue};g.ka=function(){return null};g.ha=function(a,b){return b===this.meta?this:new mg(b)};g.na=function(a,b){return new jf(this.meta,b,null,1,null)};var ue=new mg(null);mg.prototype[qc]=function(){return we(this)};
function ng(a){return(null!=a?a.O&134217728||l===a.kk||(a.O?0:mc(vd,a)):mc(vd,a))?(a=wd(a))?a:ue:w.D(gf,ue,a)}var og=function og(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return og.I(c)};og.I=function(a){if(a instanceof re&&0===a.i)var b=a.K;else a:for(b=[];;)if(null!=a)b.push(Kc(a)),a=Nc(a);else break a;a=b.length;for(var c=ue;;)if(0<a){var d=a-1;c=Gc(c,b[a-1]);a=d}else return c};og.aa=0;og.fa=function(a){return this.I(G(a))};
function pg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.J=d;this.O=65929452;this.T=8192}g=pg.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new pg(this.meta,this.first,this.rest,this.J)};g.Va=function(){return null==this.rest?null:G(this.rest)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};
g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){return this.first};g.xb=function(){return null==this.rest?ue:this.rest};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new pg(b,this.first,this.rest,this.J)};g.na=function(a,b){return new pg(null,b,this,null)};pg.prototype[qc]=function(){return we(this)};
function Ye(a,b){return null==b?new jf(null,a,null,1,null):null!=b&&(b.O&64||l===b.af)?new pg(null,a,b,null):new pg(null,a,G(b),null)}function qg(a,b){if(a.ba===b.ba)return 0;var c=hc(a.Ac);if(r(c?b.Ac:c))return-1;if(r(a.Ac)){if(hc(b.Ac))return 1;c=eb(a.Ac,b.Ac);return 0===c?eb(a.name,b.name):c}return eb(a.name,b.name)}function D(a,b,c,d){this.Ac=a;this.name=b;this.ba=c;this._hash=d;this.O=2153775105;this.T=4096}g=D.prototype;g.toString=function(){return[":",t.C(this.ba)].join("")};
g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return b instanceof D?this.ba===b.ba:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return B.B(a,this)};g.B=function(a,b){return B.D(a,this,b)};
g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=le(this)+2654435769|0};g.zf=function(){return this.name};g.Af=function(){return this.Ac};g.ia=function(a,b){return xd(b,[":",t.C(this.ba)].join(""))};function U(a,b){return a===b?!0:a instanceof D&&b instanceof D?a.ba===b.ba:!1}function rg(a){if(null!=a&&(a.T&4096||l===a.lh))return a.Af(null);throw Error(["Doesn't support namespace: ",t.C(a)].join(""));}function sg(a){return a instanceof D||a instanceof A}
var tg=function tg(a){switch(arguments.length){case 1:return tg.C(arguments[0]);case 2:return tg.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};tg.C=function(a){if(a instanceof D)return a;if(a instanceof A)return new D(rg(a),ug.C?ug.C(a):ug.call(null,a),a.Bc,null);if(F.B("/",a))return new D(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new D(b[0],b[1],a,null):new D(null,b[0],a,null)}return null};
tg.B=function(a,b){a=a instanceof D?ug.C?ug.C(a):ug.call(null,a):a instanceof A?ug.C?ug.C(a):ug.call(null,a):a;b=b instanceof D?ug.C?ug.C(b):ug.call(null,b):b instanceof A?ug.C?ug.C(b):ug.call(null,b):b;return new D(a,b,[r(a)?[t.C(a),"/"].join(""):null,t.C(b)].join(""),null)};tg.aa=2;function vg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.J=d;this.O=32374988;this.T=1}g=vg.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
function wg(a){null!=a.fn&&(a.s=a.fn.P?a.fn.P():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){this.ka(null);return null==this.s?null:J(this.s)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};
g.Pa=function(){return id(ue,this.meta)};g.qg=function(){return hc(this.fn)};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){this.ka(null);return null==this.s?null:H(this.s)};g.xb=function(){this.ka(null);return null!=this.s?te(this.s):ue};g.ka=function(){wg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof vg)a=wg(a);else return this.s=a,G(this.s)};
g.ha=function(a,b){var c=this;return b===this.meta?c:new vg(b,function(){return c.ka(null)},null,this.J)};g.na=function(a,b){return Ye(b,this)};vg.prototype[qc]=function(){return we(this)};function xg(a){this.buf=a;this.end=0;this.O=2;this.T=0}xg.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};xg.prototype.chunk=function(){var a=new yg(this.buf,0,this.end);this.buf=null;return a};xg.prototype.la=function(){return this.end};function zg(a){return new xg(Array(a))}
function yg(a,b,c){this.K=a;this.off=b;this.end=c;this.O=524306;this.T=0}g=yg.prototype;g.la=function(){return this.end-this.off};g.Da=function(a,b){return this.K[this.off+b]};g.qb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.wf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new yg(this.K,this.off+1,this.end)};g.jb=function(a,b){return Oe(this.K,b,this.K[this.off],this.off+1)};g.kb=function(a,b,c){return Oe(this.K,b,c,this.off)};
function Ag(a,b,c,d){this.chunk=a;this.Ld=b;this.meta=c;this.J=d;this.O=31850732;this.T=1536}g=Ag.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){return 1<Cc(this.chunk)?new Ag(Nd(this.chunk),this.Ld,null,null):null==this.Ld?null:rd(this.Ld)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};
g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.nb=function(){return x(this.chunk,0)};g.xb=function(){return 1<Cc(this.chunk)?new Ag(Nd(this.chunk),this.Ld,null,null):null==this.Ld?ue:this.Ld};g.ka=function(){return this};g.$e=function(){return this.chunk};g.ee=function(){return null==this.Ld?ue:this.Ld};g.ha=function(a,b){return b===this.meta?this:new Ag(this.chunk,this.Ld,b,this.J)};g.na=function(a,b){return Ye(b,this)};g.Ze=function(){return null==this.Ld?null:this.Ld};
Ag.prototype[qc]=function(){return we(this)};function Bg(a,b){return 0===Cc(a)?b:new Ag(a,b,null,null)}function Cg(a,b){a.add(b)}function Dg(a){return a.chunk()}function Nf(a){var b=[];for(a=G(a);;)if(null!=a)b.push(H(a)),a=J(a);else return b}function Gg(a,b){if(Pe(b))return K(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var Hg=function Hg(a){if(null==a)return null;var c=J(a);return null==c?G(H(a)):Ye(H(a),Hg.C?Hg.C(c):Hg.call(null,c))},V=function V(a){switch(arguments.length){case 0:return V.P();case 1:return V.C(arguments[0]);case 2:return V.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return V.I(arguments[0],arguments[1],c)}};V.P=function(){return new vg(null,function(){return null},null,null)};
V.C=function(a){return new vg(null,function(){return a},null,null)};V.B=function(a,b){return new vg(null,function(){var c=G(a);return c?zf(c)?Bg(Od(c),V.B(Pd(c),b)):Ye(H(c),V.B(te(c),b)):b},null,null)};V.I=function(a,b,c){return function h(e,f){return new vg(null,function(){var k=G(e);return k?zf(k)?Bg(Od(k),h(Pd(k),f)):Ye(H(k),h(te(k),f)):r(f)?h(H(f),J(f)):null},null,null)}(V.B(a,b),c)};V.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};V.aa=2;
function Ig(a,b,c){return Ye(a,Ye(b,c))}function Jg(a){return Gd(a)}function Kg(a){return Id(a)}var Lg=function Lg(a){switch(arguments.length){case 0:return Lg.P();case 1:return Lg.C(arguments[0]);case 2:return Lg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return Lg.I(arguments[0],arguments[1],c)}};Lg.P=function(){return Gd(hf)};Lg.C=function(a){return a};Lg.B=function(a,b){return Hd(a,b)};
Lg.I=function(a,b,c){for(;;)if(a=Hd(a,b),r(c))b=H(c),c=J(c);else return a};Lg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Lg.aa=2;function Mg(a,b,c){return Jd(a,b,c)}
function Ng(a,b,c){var d=G(c);if(0===b)return a.P?a.P():a.call(null);c=Kc(d);var e=Lc(d);if(1===b)return a.C?a.C(c):a.call(null,c);d=Kc(e);var f=Lc(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=Kc(f);var h=Lc(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=Kc(h);var k=Lc(h);if(4===b)return a.R?a.R(c,d,e,f):a.call(null,c,d,e,f);h=Kc(k);var m=Lc(k);if(5===b)return a.ma?a.ma(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Kc(m);var n=Lc(m);if(6===b)return a.Ra?a.Ra(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);m=Kc(n);var p=Lc(n);if(7===b)return a.Wb?a.Wb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Kc(p);var u=Lc(p);if(8===b)return a.Xb?a.Xb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);p=Kc(u);var v=Lc(u);if(9===b)return a.wc?a.wc(c,d,e,f,h,k,m,n,p):a.call(null,c,d,e,f,h,k,m,n,p);u=Kc(v);var z=Lc(v);if(10===b)return a.lc?a.lc(c,d,e,f,h,k,m,n,p,u):a.call(null,c,d,e,f,h,k,m,n,p,u);v=Kc(z);var C=Lc(z);if(11===b)return a.mc?a.mc(c,d,e,f,h,k,m,n,p,u,v):a.call(null,c,d,e,f,h,k,m,n,p,u,v);z=Kc(C);var E=Lc(C);
if(12===b)return a.nc?a.nc(c,d,e,f,h,k,m,n,p,u,v,z):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z);C=Kc(E);var I=Lc(E);if(13===b)return a.oc?a.oc(c,d,e,f,h,k,m,n,p,u,v,z,C):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C);E=Kc(I);var O=Lc(I);if(14===b)return a.pc?a.pc(c,d,e,f,h,k,m,n,p,u,v,z,C,E):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E);I=Kc(O);var P=Lc(O);if(15===b)return a.qc?a.qc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I);O=Kc(P);var T=Lc(P);if(16===b)return a.rc?a.rc(c,d,e,f,h,k,m,
n,p,u,v,z,C,E,I,O):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O);P=Kc(T);var aa=Lc(T);if(17===b)return a.sc?a.sc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P);T=Kc(aa);var ea=Lc(aa);if(18===b)return a.tc?a.tc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T);aa=Kc(ea);ea=Lc(ea);if(19===b)return a.uc?a.uc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa);var va=Kc(ea);Lc(ea);if(20===b)return a.vc?
a.vc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa,va):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa,va);throw Error("Only up to 20 arguments supported on functions");}function Og(a){return null!=a&&(a.O&128||l===a.Bf)?a.Va(null):G(te(a))}function Pg(a,b,c){return null==c?a.C?a.C(b):a.call(a,b):Qg(a,b,Kc(c),Og(c))}function Qg(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Rg(a,b,c,Kc(d),Og(d))}function Rg(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Sg(a,b,c,d,Kc(e),Og(e))}
function Sg(a,b,c,d,e,f){if(null==f)return a.R?a.R(b,c,d,e):a.call(a,b,c,d,e);var h=Kc(f),k=J(f);if(null==k)return a.ma?a.ma(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Kc(k);var m=J(k);if(null==m)return a.Ra?a.Ra(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Kc(m);var n=J(m);if(null==n)return a.Wb?a.Wb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Kc(n);var p=J(n);if(null==p)return a.Xb?a.Xb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Kc(p);var u=J(p);if(null==u)return a.wc?a.wc(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,f,
k,m,n);p=Kc(u);var v=J(u);if(null==v)return a.lc?a.lc(b,c,d,e,h,f,k,m,n,p):a.call(a,b,c,d,e,h,f,k,m,n,p);u=Kc(v);var z=J(v);if(null==z)return a.mc?a.mc(b,c,d,e,h,f,k,m,n,p,u):a.call(a,b,c,d,e,h,f,k,m,n,p,u);v=Kc(z);var C=J(z);if(null==C)return a.nc?a.nc(b,c,d,e,h,f,k,m,n,p,u,v):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v);z=Kc(C);var E=J(C);if(null==E)return a.oc?a.oc(b,c,d,e,h,f,k,m,n,p,u,v,z):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z);C=Kc(E);var I=J(E);if(null==I)return a.pc?a.pc(b,c,d,e,h,f,k,m,n,p,u,v,z,C):a.call(a,
b,c,d,e,h,f,k,m,n,p,u,v,z,C);E=Kc(I);var O=J(I);if(null==O)return a.qc?a.qc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E);I=Kc(O);var P=J(O);if(null==P)return a.rc?a.rc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I);O=Kc(P);var T=J(P);if(null==T)return a.sc?a.sc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O);P=Kc(T);var aa=J(T);if(null==aa)return a.tc?a.tc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P):a.call(a,b,c,d,e,h,f,
k,m,n,p,u,v,z,C,E,I,O,P);T=Kc(aa);var ea=J(aa);if(null==ea)return a.uc?a.uc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T);aa=Kc(ea);ea=J(ea);if(null==ea)return a.vc?a.vc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T,aa):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T,aa);b=[b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T,aa];for(c=ea;;)if(c)b.push(Kc(c)),c=J(c);else break;return a.apply(a,b)}
function pe(a){switch(arguments.length){case 2:return Tg(arguments[0],arguments[1]);case 3:return Ug(arguments[0],arguments[1],arguments[2]);case 4:return Vg(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Wg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new re(b.slice(5),0,null);return Xg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Tg(a,b){if(a.fa){var c=a.aa,d=Gg(c+1,b);return d<=c?Ng(a,d,b):a.fa(b)}b=G(b);return null==b?a.P?a.P():a.call(a):Pg(a,Kc(b),Og(b))}function Ug(a,b,c){if(a.fa){b=Ye(b,c);var d=a.aa;c=Gg(d,c)+1;return c<=d?Ng(a,c,b):a.fa(b)}return Pg(a,b,G(c))}function Vg(a,b,c,d){return a.fa?(b=Ig(b,c,d),c=a.aa,d=2+Gg(c-1,d),d<=c?Ng(a,d,b):a.fa(b)):Qg(a,b,c,G(d))}function Wg(a,b,c,d,e){return a.fa?(b=Ye(b,Ye(c,Ye(d,e))),c=a.aa,e=3+Gg(c-2,e),e<=c?Ng(a,e,b):a.fa(b)):Rg(a,b,c,d,G(e))}
function Xg(a,b,c,d,e,f){return a.fa?(f=Hg(f),b=Ye(b,Ye(c,Ye(d,Ye(e,f)))),c=a.aa,f=4+Gg(c-3,f),f<=c?Ng(a,f,b):a.fa(b)):Sg(a,b,c,d,e,Hg(f))}function Yg(a){return null!=a&&(a.O&64||l===a.af)?J(a)?mf(Nf(a)):G(a)?H(a):W:a}var Zg=function Zg(a){switch(arguments.length){case 1:return Zg.C(arguments[0]);case 2:return Zg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return Zg.I(arguments[0],arguments[1],c)}};
Zg.C=function(){return!1};Zg.B=function(a,b){return!F.B(a,b)};Zg.I=function(a,b,c){return hc(Vg(F,a,b,c))};Zg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Zg.aa=2;function $g(a){return G(a)?a:null}
function ah(){if("undefined"===typeof Pb||"undefined"===typeof Qb||"undefined"===typeof Rb)Rb=function(a){this.Sk=a;this.O=393216;this.T=0},Rb.prototype.ha=function(a,b){return new Rb(b)},Rb.prototype.ga=function(){return this.Sk},Rb.prototype.Ua=function(){return!1},Rb.prototype.next=function(){return Error("No such element")},Rb.prototype.remove=function(){return Error("Unsupported operation")},Rb.Wa=!0,Rb.Sa="cljs.core/t_cljs$core20078",Rb.Za=function(a){return xd(a,"cljs.core/t_cljs$core20078")};
return new Rb(W)}function bh(a){this.s=a;this.i=0}bh.prototype.Ua=function(){return this.i<this.s.length};bh.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};bh.prototype.remove=function(){return Error("Unsupported operation")};function ch(a){this.K=a;this.i=0}ch.prototype.Ua=function(){return this.i<this.K.length};ch.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};ch.prototype.remove=function(){return Error("Unsupported operation")};var dh={},eh={};
function fh(a){this.tf=dh;this._next=a}fh.prototype.Ua=function(){this.tf===dh?(this.tf=eh,this._next=G(this._next)):this.tf===this._next&&(this._next=J(this.tf));return null!=this._next};fh.prototype.next=function(){if(this.Ua())return this.tf=this._next,H(this._next);throw Error("No such element");};fh.prototype.remove=function(){return Error("Unsupported operation")};
function gh(a){if(qe(a))return Xd(a);if(null==a)return ah();if("string"===typeof a)return new bh(a);if(fc(a))return new ch(a);if(Df(a))return new fh(a);throw Error(["Cannot create iterator from ",t.C(a)].join(""));}function hh(a){this.vals=a}hh.prototype.add=function(a){this.vals.push(a);return this};hh.prototype.remove=function(){return this.vals.shift()};hh.prototype.isEmpty=function(){return 0===this.vals.length};hh.prototype.toString=function(){return["Many: ",t.C(this.vals)].join("")};
var ih={};function jh(a){this.val=a}jh.prototype.add=function(a){return this.val===ih?(this.val=a,this):new hh([this.val,a])};jh.prototype.remove=function(){if(this.val===ih)throw Error("Removing object from empty buffer");var a=this.val;this.val=ih;return a};jh.prototype.isEmpty=function(){return this.val===ih};jh.prototype.toString=function(){return["Single: ",t.C(this.val)].join("")};function kh(){}kh.prototype.add=function(a){return new jh(a)};
kh.prototype.remove=function(){throw Error("Removing object from empty buffer");};kh.prototype.isEmpty=function(){return!0};kh.prototype.toString=function(){return"Empty"};var lh=new kh,mh=function mh(a){return new vg(null,function(){if(a.Ua())for(var c=[],d=0;;){var e=a.Ua();if(r(r(e)?32>d:e))c[d]=a.next(),d+=1;else return Bg(new yg(c,0,d),mh.C?mh.C(a):mh.call(null,a))}else return null},null,null)};function nh(a){this.buffer=lh;this._next=ih;this.yh=!1;this.Td=null;this.di=a;this.yl=!1}
nh.prototype.step=function(){if(this._next!==ih)return!0;for(;;)if(this._next===ih)if(this.buffer.isEmpty()){if(this.yh)return!1;if(this.di.Ua()){if(this.yl)var a=Tg(this.Td,Ye(null,this.di.next()));else a=this.di.next(),a=this.Td.B?this.Td.B(null,a):this.Td.call(null,null,a);Ge(a)&&(this.Td.C?this.Td.C(null):this.Td.call(null,null),this.yh=!0)}else this.Td.C?this.Td.C(null):this.Td.call(null,null),this.yh=!0}else this._next=this.buffer.remove();else return!0};nh.prototype.Ua=function(){return this.step()};
nh.prototype.next=function(){if(this.Ua()){var a=this._next;this._next=ih;return a}throw Error("No such element");};nh.prototype.remove=function(){return Error("Unsupported operation")};nh.prototype[qc]=function(){return we(this)};
function oh(a,b){var c=new nh(b);c.Td=function(){var d=function(){function e(h,k){c.buffer=c.buffer.add(k);return h}var f=null;f=function(h,k){switch(arguments.length){case 0:return null;case 1:return h;case 2:return e.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=function(){return null};f.C=function(h){return h};f.B=e;return f}();return a.C?a.C(d):a.call(null,d)}();return c}
function ph(a,b){for(;;){if(null==G(b))return!0;var c=H(b);c=a.C?a.C(c):a.call(null,c);if(r(c))b=J(b);else return!1}}function qh(a,b){for(;;)if(b=G(b)){var c=H(b);c=a.C?a.C(c):a.call(null,c);if(r(c))return c;b=J(b)}else return null}function rh(a){if(Gf(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.C(a)].join(""));}
function sh(a){return function(){function b(h,k){return hc(a.B?a.B(h,k):a.call(null,h,k))}function c(h){return hc(a.C?a.C(h):a.call(null,h))}function d(){return hc(a.P?a.P():a.call(null))}var e=null,f=function(){function h(m,n,p){var u=null;if(2<arguments.length){u=0;for(var v=Array(arguments.length-2);u<v.length;)v[u]=arguments[u+2],++u;u=new re(v,0,null)}return k.call(this,m,n,u)}function k(m,n,p){return hc(Vg(a,m,n,p))}h.aa=2;h.fa=function(m){var n=H(m);m=J(m);var p=H(m);m=te(m);return k(n,p,m)};
h.I=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new re(p,0,null)}return f.I(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.aa=2;e.fa=f.fa;e.P=d;e.C=c;e.B=b;e.I=f.I;return e}()}
function th(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.aa=0;b.fa=function(c){G(c);return a};b.I=function(){return a};return b}()}
var uh=function uh(a){switch(arguments.length){case 0:return uh.P();case 1:return uh.C(arguments[0]);case 2:return uh.B(arguments[0],arguments[1]);case 3:return uh.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(3),0,null);return uh.I(arguments[0],arguments[1],arguments[2],c)}};uh.P=function(){return Sf};uh.C=function(a){return a};
uh.B=function(a,b){return function(){function c(m,n,p){m=b.D?b.D(m,n,p):b.call(null,m,n,p);return a.C?a.C(m):a.call(null,m)}function d(m,n){m=b.B?b.B(m,n):b.call(null,m,n);return a.C?a.C(m):a.call(null,m)}function e(m){m=b.C?b.C(m):b.call(null,m);return a.C?a.C(m):a.call(null,m)}function f(){var m=b.P?b.P():b.call(null);return a.C?a.C(m):a.call(null,m)}var h=null,k=function(){function m(p,u,v,z){var C=null;if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+
3],++C;C=new re(E,0,null)}return n.call(this,p,u,v,C)}function n(p,u,v,z){p=Wg(b,p,u,v,z);return a.C?a.C(p):a.call(null,p)}m.aa=3;m.fa=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var z=H(p);p=te(p);return n(u,v,z,p)};m.I=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=
arguments[v+3],++v;v=new re(z,0,null)}return k.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.fa=k.fa;h.P=f;h.C=e;h.B=d;h.D=c;h.I=k.I;return h}()};
uh.D=function(a,b,c){return function(){function d(n,p,u){n=c.D?c.D(n,p,u):c.call(null,n,p,u);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function e(n,p){n=c.B?c.B(n,p):c.call(null,n,p);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function f(n){n=c.C?c.C(n):c.call(null,n);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function h(){var n=c.P?c.P():c.call(null);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}var k=null,m=function(){function n(u,
v,z,C){var E=null;if(3<arguments.length){E=0;for(var I=Array(arguments.length-3);E<I.length;)I[E]=arguments[E+3],++E;E=new re(I,0,null)}return p.call(this,u,v,z,E)}function p(u,v,z,C){u=Wg(c,u,v,z,C);u=b.C?b.C(u):b.call(null,u);return a.C?a.C(u):a.call(null,u)}n.aa=3;n.fa=function(u){var v=H(u);u=J(u);var z=H(u);u=J(u);var C=H(u);u=te(u);return p(v,z,C,u)};n.I=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,
n,p);case 3:return d.call(this,n,p,u);default:var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new re(C,0,null)}return m.I(n,p,u,z)}throw Error("Invalid arity: "+arguments.length);};k.aa=3;k.fa=m.fa;k.P=h;k.C=f;k.B=e;k.D=d;k.I=m.I;return k}()};
uh.I=function(a,b,c,d){var e=ng(Ye(a,Ye(b,Ye(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new re(n,0,null)}return h.call(this,m)}function h(k){k=Tg(H(e),k);for(var m=J(e);;)if(m){var n=H(m);k=n.C?n.C(k):n.call(null,k);m=J(m)}else return k}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()};uh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};
uh.aa=3;var vh=function vh(a){switch(arguments.length){case 1:return vh.C(arguments[0]);case 2:return vh.B(arguments[0],arguments[1]);case 3:return vh.D(arguments[0],arguments[1],arguments[2]);case 4:return vh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(4),0,null);return vh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};vh.C=function(a){return a};
vh.B=function(a,b){return function(){function c(m,n,p){return a.R?a.R(b,m,n,p):a.call(null,b,m,n,p)}function d(m,n){return a.D?a.D(b,m,n):a.call(null,b,m,n)}function e(m){return a.B?a.B(b,m):a.call(null,b,m)}function f(){return a.C?a.C(b):a.call(null,b)}var h=null,k=function(){function m(p,u,v,z){var C=null;if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+3],++C;C=new re(E,0,null)}return n.call(this,p,u,v,C)}function n(p,u,v,z){return Xg(a,b,p,u,v,M([z]))}
m.aa=3;m.fa=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var z=H(p);p=te(p);return n(u,v,z,p)};m.I=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=arguments[v+3],++v;v=new re(z,0,null)}return k.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.fa=k.fa;
h.P=f;h.C=e;h.B=d;h.D=c;h.I=k.I;return h}()};
vh.D=function(a,b,c){return function(){function d(n,p,u){return a.ma?a.ma(b,c,n,p,u):a.call(null,b,c,n,p,u)}function e(n,p){return a.R?a.R(b,c,n,p):a.call(null,b,c,n,p)}function f(n){return a.D?a.D(b,c,n):a.call(null,b,c,n)}function h(){return a.B?a.B(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,v,z,C){var E=null;if(3<arguments.length){E=0;for(var I=Array(arguments.length-3);E<I.length;)I[E]=arguments[E+3],++E;E=new re(I,0,null)}return p.call(this,u,v,z,E)}function p(u,v,z,C){return Xg(a,
b,c,u,v,M([z,C]))}n.aa=3;n.fa=function(u){var v=H(u);u=J(u);var z=H(u);u=J(u);var C=H(u);u=te(u);return p(v,z,C,u)};n.I=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,p);case 3:return d.call(this,n,p,u);default:var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new re(C,0,null)}return m.I(n,p,u,z)}throw Error("Invalid arity: "+arguments.length);
};k.aa=3;k.fa=m.fa;k.P=h;k.C=f;k.B=e;k.D=d;k.I=m.I;return k}()};
vh.R=function(a,b,c,d){return function(){function e(p,u,v){return a.Ra?a.Ra(b,c,d,p,u,v):a.call(null,b,c,d,p,u,v)}function f(p,u){return a.ma?a.ma(b,c,d,p,u):a.call(null,b,c,d,p,u)}function h(p){return a.R?a.R(b,c,d,p):a.call(null,b,c,d,p)}function k(){return a.D?a.D(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function p(v,z,C,E){var I=null;if(3<arguments.length){I=0;for(var O=Array(arguments.length-3);I<O.length;)O[I]=arguments[I+3],++I;I=new re(O,0,null)}return u.call(this,v,z,C,I)}function u(v,
z,C,E){return Xg(a,b,c,d,v,M([z,C,E]))}p.aa=3;p.fa=function(v){var z=H(v);v=J(v);var C=H(v);v=J(v);var E=H(v);v=te(v);return u(z,C,E,v)};p.I=u;return p}();m=function(p,u,v,z){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,p);case 2:return f.call(this,p,u);case 3:return e.call(this,p,u,v);default:var C=null;if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+3],++C;C=new re(E,0,null)}return n.I(p,u,v,C)}throw Error("Invalid arity: "+
arguments.length);};m.aa=3;m.fa=n.fa;m.P=k;m.C=h;m.B=f;m.D=e;m.I=n.I;return m}()};vh.I=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new re(n,0,null)}return h.call(this,m)}function h(k){return Wg(a,b,c,d,V.B(e,k))}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()};
vh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};vh.aa=4;
function wh(a){return function(){function b(h,k,m){h=null==h?a:h;return gf.D?gf.D(h,k,m):gf.call(null,h,k,m)}function c(h,k){h=null==h?a:h;return gf.B?gf.B(h,k):gf.call(null,h,k)}function d(h){h=null==h?a:h;return gf.C?gf.C(h):gf.call(null,h)}var e=null,f=function(){function h(m,n,p,u){var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=arguments[v+3],++v;v=new re(z,0,null)}return k.call(this,m,n,p,v)}function k(m,n,p,u){return Wg(gf,null==m?a:m,n,p,u)}h.aa=
3;h.fa=function(m){var n=H(m);m=J(m);var p=H(m);m=J(m);var u=H(m);m=te(m);return k(n,p,u,m)};h.I=k;return h}();e=function(h,k,m,n){switch(arguments.length){case 1:return d.call(this,h);case 2:return c.call(this,h,k);case 3:return b.call(this,h,k,m);default:var p=null;if(3<arguments.length){p=0;for(var u=Array(arguments.length-3);p<u.length;)u[p]=arguments[p+3],++p;p=new re(u,0,null)}return f.I(h,k,m,p)}throw Error("Invalid arity: "+arguments.length);};e.aa=3;e.fa=f.fa;e.C=d;e.B=c;e.D=b;e.I=f.I;return e}()}
function xh(a){return function(b){var c=yh.C?yh.C(-1):yh.call(null,-1);return function(){function d(k,m){var n=Vd(c,y(c)+1);m=a.B?a.B(n,m):a.call(null,n,m);return b.B?b.B(k,m):b.call(null,k,m)}function e(k){return b.C?b.C(k):b.call(null,k)}function f(){return b.P?b.P():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.P=f;h.C=e;h.B=d;return h}()}}
function zh(a){return function(b){return function(){function c(h,k){k=a.C?a.C(k):a.call(null,k);return null==k?h:b.B?b.B(h,k):b.call(null,h,k)}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return b.P?b.P():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}
function Ah(a,b){return new vg(null,function(){var c=G(b);if(c){if(zf(c)){for(var d=Od(c),e=K(d),f=zg(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.C?a.C(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return Bg(Dg(f),Ah(a,Pd(c)))}e=function(){var m=H(c);return a.C?a.C(m):a.call(null,m)}();return null==e?Ah(a,te(c)):Ye(e,Ah(a,te(c)))}return null},null,null)}function Bh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.bc=null;this.T=16386;this.O=6455296}g=Bh.prototype;
g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return this===b};g.Vb=function(){return this.state};g.ga=function(){return this.meta};g.rh=function(a,b){for(var c=G(this.bc),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f),k=N(h,0,null);h=N(h,1,null);h.R?h.R(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=G(c))zf(c)?(d=Od(c),c=Pd(c),k=d,e=K(d),d=k):(d=H(c),k=N(d,0,null),h=N(d,1,null),h.R?h.R(k,this,a,b):h.call(null,k,this,a,b),c=J(c),d=null,e=0),f=0;else break};
g.sg=function(a,b,c){this.bc=Q.D(this.bc,b,c);return this};g.tg=function(a,b){return this.bc=R.B(this.bc,b)};g.ja=function(){return ka(this)};function Ch(a){return new Bh(a,null,null)}function Eh(a,b){if(a instanceof Bh){var c=a.validator;if(null!=c&&!r(c.C?c.C(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.bc&&a.rh(c,b);return b}return Sd(a,b)}
var Fh=function Fh(a){switch(arguments.length){case 2:return Fh.B(arguments[0],arguments[1]);case 3:return Fh.D(arguments[0],arguments[1],arguments[2]);case 4:return Fh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(4),0,null);return Fh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Fh.B=function(a,b){if(a instanceof Bh){var c=a.state;b=b.C?b.C(c):b.call(null,c);a=Eh(a,b)}else a=Td(a,b);return a};Fh.D=function(a,b,c){if(a instanceof Bh){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=Eh(a,b)}else a=Td(a,b,c);return a};Fh.R=function(a,b,c,d){if(a instanceof Bh){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=Eh(a,b)}else a=Td(a,b,c,d);return a};Fh.I=function(a,b,c,d,e){return a instanceof Bh?Eh(a,Wg(b,a.state,c,d,e)):Td(a,b,c,d,e)};
Fh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};Fh.aa=4;function Gh(a){return F.B(a.Vb(null),!1)?(Eh(a,!0),!0):!1}function Hh(a){this.state=a;this.O=32768;this.T=0}Hh.prototype.cf=function(a,b){return this.state=b};Hh.prototype.Vb=function(){return this.state};function yh(a){return new Hh(a)}
function Ih(){var a=Jh,b=Kh;return function(){function c(k,m,n){var p=a.C?a.C(k):a.call(null,k);if(r(p))return p;p=a.C?a.C(m):a.call(null,m);if(r(p))return p;p=a.C?a.C(n):a.call(null,n);if(r(p))return p;k=b.C?b.C(k):b.call(null,k);if(r(k))return k;m=b.C?b.C(m):b.call(null,m);return r(m)?m:b.C?b.C(n):b.call(null,n)}function d(k,m){var n=a.C?a.C(k):a.call(null,k);if(r(n))return n;n=a.C?a.C(m):a.call(null,m);if(r(n))return n;k=b.C?b.C(k):b.call(null,k);return r(k)?k:b.C?b.C(m):b.call(null,m)}function e(k){var m=
a.C?a.C(k):a.call(null,k);return r(m)?m:b.C?b.C(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new re(C,0,null)}return m.call(this,n,p,u,z)}function m(n,p,u,v){n=f.D(n,p,u);return r(n)?n:qh(function(z){var C=a.C?a.C(z):a.call(null,z);return r(C)?C:b.C?b.C(z):b.call(null,z)},v)}k.aa=3;k.fa=function(n){var p=H(n);n=J(n);var u=H(n);n=J(n);var v=H(n);n=te(n);return m(p,u,v,n)};
k.I=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new re(v,0,null)}return h.I(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.fa=h.fa;f.P=function(){return null};f.C=e;f.B=d;f.D=c;f.I=h.I;return f}()}
function Lh(){var a=Nh,b=Oh;return function(){function c(k,m,n){var p=ec.C?ec.C(k):ec.call(null,k);if(r(p))return p;p=ec.C?ec.C(m):ec.call(null,m);if(r(p))return p;p=ec.C?ec.C(n):ec.call(null,n);if(r(p))return p;p=a.C?a.C(k):a.call(null,k);if(r(p))return p;p=a.C?a.C(m):a.call(null,m);if(r(p))return p;p=a.C?a.C(n):a.call(null,n);if(r(p))return p;k=b.C?b.C(k):b.call(null,k);if(r(k))return k;m=b.C?b.C(m):b.call(null,m);return r(m)?m:b.C?b.C(n):b.call(null,n)}function d(k,m){var n=ec.C?ec.C(k):ec.call(null,
k);if(r(n))return n;n=ec.C?ec.C(m):ec.call(null,m);if(r(n))return n;n=a.C?a.C(k):a.call(null,k);if(r(n))return n;n=a.C?a.C(m):a.call(null,m);if(r(n))return n;k=b.C?b.C(k):b.call(null,k);return r(k)?k:b.C?b.C(m):b.call(null,m)}function e(k){var m=ec.C?ec.C(k):ec.call(null,k);if(r(m))return m;m=a.C?a.C(k):a.call(null,k);return r(m)?m:b.C?b.C(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+
3],++z;z=new re(C,0,null)}return m.call(this,n,p,u,z)}function m(n,p,u,v){n=f.D(n,p,u);return r(n)?n:qh(function(z){var C=ec.C?ec.C(z):ec.call(null,z);if(r(C))return C;C=a.C?a.C(z):a.call(null,z);return r(C)?C:b.C?b.C(z):b.call(null,z)},v)}k.aa=3;k.fa=function(n){var p=H(n);n=J(n);var u=H(n);n=J(n);var v=H(n);n=te(n);return m(p,u,v,n)};k.I=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,
k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new re(v,0,null)}return h.I(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.fa=h.fa;f.P=function(){return null};f.C=e;f.B=d;f.D=c;f.I=h.I;return f}()}
var Ph=function Ph(a){switch(arguments.length){case 1:return Ph.C(arguments[0]);case 2:return Ph.B(arguments[0],arguments[1]);case 3:return Ph.D(arguments[0],arguments[1],arguments[2]);case 4:return Ph.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(4),0,null);return Ph.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Ph.C=function(a){return function(b){return function(){function c(k,m){m=a.C?a.C(m):a.call(null,m);return b.B?b.B(k,m):b.call(null,k,m)}function d(k){return b.C?b.C(k):b.call(null,k)}function e(){return b.P?b.P():b.call(null)}var f=null,h=function(){function k(n,p,u){var v=null;if(2<arguments.length){v=0;for(var z=Array(arguments.length-2);v<z.length;)z[v]=arguments[v+2],++v;v=new re(z,0,null)}return m.call(this,n,p,v)}function m(n,p,u){p=Ug(a,p,u);return b.B?b.B(n,p):b.call(null,n,p)}k.aa=2;k.fa=
function(n){var p=H(n);n=J(n);var u=H(n);n=te(n);return m(p,u,n)};k.I=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var p=null;if(2<arguments.length){p=0;for(var u=Array(arguments.length-2);p<u.length;)u[p]=arguments[p+2],++p;p=new re(u,0,null)}return h.I(k,m,p)}throw Error("Invalid arity: "+arguments.length);};f.aa=2;f.fa=h.fa;f.P=e;f.C=d;f.B=c;f.I=h.I;return f}()}};
Ph.B=function(a,b){return new vg(null,function(){var c=G(b);if(c){if(zf(c)){for(var d=Od(c),e=K(d),f=zg(e),h=0;;)if(h<e)Cg(f,function(){var k=x(d,h);return a.C?a.C(k):a.call(null,k)}()),h+=1;else break;return Bg(Dg(f),Ph.B(a,Pd(c)))}return Ye(function(){var k=H(c);return a.C?a.C(k):a.call(null,k)}(),Ph.B(a,te(c)))}return null},null,null)};
Ph.D=function(a,b,c){return new vg(null,function(){var d=G(b),e=G(c);if(d&&e){var f=H(d);var h=H(e);f=a.B?a.B(f,h):a.call(null,f,h);d=Ye(f,Ph.D(a,te(d),te(e)))}else d=null;return d},null,null)};Ph.R=function(a,b,c,d){return new vg(null,function(){var e=G(b),f=G(c),h=G(d);if(e&&f&&h){var k=H(e);var m=H(f),n=H(h);k=a.D?a.D(k,m,n):a.call(null,k,m,n);e=Ye(k,Ph.R(a,te(e),te(f),te(h)))}else e=null;return e},null,null)};
Ph.I=function(a,b,c,d,e){return Ph.B(function(f){return Tg(a,f)},function k(h){return new vg(null,function(){var m=Ph.B(G,h);return ph(Sf,m)?Ye(Ph.B(H,m),k(Ph.B(te,m))):null},null,null)}(gf.I(e,d,M([c,b]))))};Ph.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};Ph.aa=4;
var Qh=function Qh(a){switch(arguments.length){case 1:return Qh.C(arguments[0]);case 2:return Qh.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
Qh.C=function(a){return function(b){var c=yh(a);return function(){function d(k,m){var n=y(c),p=c.cf(null,c.Vb(null)-1);k=0<n?b.B?b.B(k,m):b.call(null,k,m):k;return 0<p?k:Ge(k)?k:Fe(k)}function e(k){return b.C?b.C(k):b.call(null,k)}function f(){return b.P?b.P():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.P=f;h.C=e;h.B=d;return h}()}};
Qh.B=function(a,b){return new vg(null,function(){if(0<a){var c=G(b);return c?Ye(H(c),Qh.B(a-1,te(c))):null}return null},null,null)};Qh.aa=2;function Rh(a,b){return new vg(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=te(d);else break a;return d},null,null)}function Sh(a,b){return Ph.D(function(c){return c},b,Rh(a,b))}
function Th(a,b){return new vg(null,function(){a:for(var c=a,d=b;;){d=G(d);var e;if(e=d)e=H(d),e=c.C?c.C(e):c.call(null,e);if(r(e))d=te(d);else break a}return d},null,null)}function Uh(a,b,c,d,e){this.meta=a;this.count=b;this.val=c;this.next=d;this.J=e;this.O=32374988;this.T=1}g=Uh.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){return null==this.next?1<this.count?this.next=new Uh(null,this.count-1,this.val,null,null):-1===this.count?this:null:this.next};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.qg=function(){return!1};g.jb=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.val,this.val):b.call(null,this.val,this.val);;){if(Ge(c))return y(c);c=b.B?b.B(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.B?b.B(c,this.val):b.call(null,c,this.val);if(Ge(c))return y(c);a+=1}else return c};
g.kb=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.val):b.call(null,c,this.val);;){if(Ge(c))return y(c);c=b.B?b.B(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.val):b.call(null,c,this.val);if(Ge(c))return y(c);a+=1}else return c};g.nb=function(){return this.val};g.xb=function(){return null==this.next?1<this.count?this.next=new Uh(null,this.count-1,this.val,null,null):-1===this.count?this:ue:this.next};g.ka=function(){return this};
g.ha=function(a,b){return b===this.meta?this:new Uh(b,this.count,this.val,this.next,null)};g.na=function(a,b){return Ye(b,this)};function Vh(a){return new Uh(null,-1,a,null,null)}function Wh(a,b){return 0<a?new Uh(null,a,b,null,null):ue}function Xh(a){return new vg(null,function(){return Ye(a.P?a.P():a.call(null),Xh(a))},null,null)}function Yh(a,b){return Qh.B(a,Xh(b))}
var Zh=function Zh(a){switch(arguments.length){case 0:return Zh.P();case 1:return Zh.C(arguments[0]);case 2:return Zh.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return Zh.I(arguments[0],arguments[1],c)}};Zh.P=function(){return ue};Zh.C=function(a){return new vg(null,function(){return a},null,null)};
Zh.B=function(a,b){return new vg(null,function(){var c=G(a),d=G(b);return c&&d?Ye(H(c),Ye(H(d),Zh.B(te(c),te(d)))):null},null,null)};Zh.I=function(a,b,c){return new vg(null,function(){var d=Ph.B(G,gf.I(c,b,M([a])));return ph(Sf,d)?V.B(Ph.B(H,d),Tg(Zh,Ph.B(te,d))):null},null,null)};Zh.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Zh.aa=2;
function $h(){return function(a){var b=yh(!1);return function(){function c(h,k){if(r(y(b)))return h=a.B?a.B(h," "):a.call(null,h," "),Ge(h)?h:a.B?a.B(h,k):a.call(null,h,k);Vd(b,!0);return a.B?a.B(h,k):a.call(null,h,k)}function d(h){return a.C?a.C(h):a.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=
e;f.C=d;f.B=c;return f}()}}function ai(a,b){return Tg(V,Ug(Ph,a,b))}
function bi(a){return function(b){return function(){function c(h,k){return r(a.C?a.C(k):a.call(null,k))?b.B?b.B(h,k):b.call(null,h,k):h}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return b.P?b.P():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}
function ci(a,b){return new vg(null,function(){var c=G(b);if(c){if(zf(c)){for(var d=Od(c),e=K(d),f=zg(e),h=0;;)if(h<e){var k=x(d,h);k=a.C?a.C(k):a.call(null,k);r(k)&&(k=x(d,h),f.add(k));h+=1}else break;return Bg(Dg(f),ci(a,Pd(c)))}d=H(c);c=te(c);return r(a.C?a.C(d):a.call(null,d))?Ye(d,ci(a,c)):ci(a,c)}return null},null,null)}function di(a,b){return ci(sh(a),b)}
var ei=function ei(a){switch(arguments.length){case 0:return ei.P();case 1:return ei.C(arguments[0]);case 2:return ei.B(arguments[0],arguments[1]);case 3:return ei.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};ei.P=function(){return hf};ei.C=function(a){return a};ei.B=function(a,b){return null!=a?null!=a&&(a.T&4||l===a.Fi)?id(Id(w.D(Hd,Gd(a),b)),qf(a)):w.D(Gc,a,b):w.D(gf,a,b)};
ei.D=function(a,b,c){if(null!=a&&(a.T&4||l===a.Fi)){var d=qf(a);return Vf(b,function(){function e(k,m){return Lg.B(k,m)}function f(k){return id(Id(k),d)}var h=null;h=function(k,m){switch(arguments.length){case 1:return f.call(this,k);case 2:return e.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.C=f;h.B=e;return h}(),Gd(a),c)}return Vf(b,gf,a,c)};ei.aa=3;
var fi=function fi(a){switch(arguments.length){case 2:return fi.B(arguments[0],arguments[1]);case 3:return fi.D(arguments[0],arguments[1],arguments[2]);case 4:return fi.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(4),0,null);return fi.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
fi.B=function(a,b){return Id(w.D(function(c,d){return Lg.B(c,a.C?a.C(d):a.call(null,d))},Gd(hf),b))};fi.D=function(a,b,c){return ei.B(hf,Ph.D(a,b,c))};fi.R=function(a,b,c,d){return ei.B(hf,Ph.R(a,b,c,d))};fi.I=function(a,b,c,d,e){return ei.B(hf,Xg(Ph,a,b,c,d,M([e])))};fi.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};fi.aa=4;function gi(a,b){return Id(w.D(function(c,d){return r(a.C?a.C(d):a.call(null,d))?Lg.B(c,d):c},Gd(hf),b))}
function hi(a,b,c){return new vg(null,function(){var d=G(c);if(d){var e=Qh.B(a,d);return a===K(e)?Ye(e,hi(a,b,Rh(b,d))):null}return null},null,null)}function ii(a,b){return w.D(B,a,b)}function ji(a,b){var c=Bf;for(b=G(b);;)if(null!=b){a=B.D(a,H(b),c);if(c===a)return null;b=J(b)}else return a}
var ki=function ki(a,b,c){var e=G(b);b=H(e);var f=J(e);if(f){e=Q.D;var h=B.B(a,b);c=ki.D?ki.D(h,f,c):ki.call(null,h,f,c);a=e.call(Q,a,b,c)}else a=Q.D(a,b,c);return a},li=function li(a){switch(arguments.length){case 3:return li.D(arguments[0],arguments[1],arguments[2]);case 4:return li.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return li.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return li.Ra(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(6),0,null);return li.I(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};li.D=function(a,b,c){var d=G(b);b=H(d);if(d=J(d))a=Q.D(a,b,li.D(B.B(a,b),d,c));else{d=Q.D;var e=B.B(a,b);c=c.C?c.C(e):c.call(null,e);a=d.call(Q,a,b,c)}return a};
li.R=function(a,b,c,d){var e=G(b);b=H(e);if(e=J(e))a=Q.D(a,b,li.R(B.B(a,b),e,c,d));else{e=Q.D;var f=B.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);a=e.call(Q,a,b,c)}return a};li.ma=function(a,b,c,d,e){var f=G(b);b=H(f);if(f=J(f))a=Q.D(a,b,li.ma(B.B(a,b),f,c,d,e));else{f=Q.D;var h=B.B(a,b);c=c.D?c.D(h,d,e):c.call(null,h,d,e);a=f.call(Q,a,b,c)}return a};
li.Ra=function(a,b,c,d,e,f){var h=G(b);b=H(h);if(h=J(h))a=Q.D(a,b,li.Ra(B.B(a,b),h,c,d,e,f));else{h=Q.D;var k=B.B(a,b);c=c.R?c.R(k,d,e,f):c.call(null,k,d,e,f);a=h.call(Q,a,b,c)}return a};li.I=function(a,b,c,d,e,f,h){var k=G(b);b=H(k);return(k=J(k))?Q.D(a,b,Xg(li,B.B(a,b),k,c,d,M([e,f,h]))):Q.D(a,b,Xg(c,B.B(a,b),d,e,f,M([h])))};li.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.I(b,a,c,d,e,f,h)};li.aa=6;
var mi=function mi(a){switch(arguments.length){case 3:return mi.D(arguments[0],arguments[1],arguments[2]);case 4:return mi.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return mi.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return mi.Ra(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(6),0,null);return mi.I(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};mi.D=function(a,b,c){var d=Q.D,e=B.B(a,b);c=c.C?c.C(e):c.call(null,e);return d.call(Q,a,b,c)};mi.R=function(a,b,c,d){var e=Q.D,f=B.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(Q,a,b,c)};mi.ma=function(a,b,c,d,e){var f=Q.D,h=B.B(a,b);c=c.D?c.D(h,d,e):c.call(null,h,d,e);return f.call(Q,a,b,c)};mi.Ra=function(a,b,c,d,e,f){var h=Q.D,k=B.B(a,b);c=c.R?c.R(k,d,e,f):c.call(null,k,d,e,f);return h.call(Q,a,b,c)};
mi.I=function(a,b,c,d,e,f,h){return Q.D(a,b,Xg(c,B.B(a,b),d,e,f,M([h])))};mi.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.I(b,a,c,d,e,f,h)};mi.aa=6;function ni(a,b){this.Xa=a;this.K=b}function oi(a){return new ni(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function pi(a){return new ni(a.Xa,tc(a.K))}function qi(a){a=a.ca;return 32>a?0:a-1>>>5<<5}function ri(a,b,c){for(;;){if(0===b)return c;var d=oi(a);d.K[0]=c;c=d;b-=5}}var si=function si(a,b,c,d){var f=pi(c),h=a.ca-1>>>b&31;5===b?f.K[h]=d:(c=c.K[h],null!=c?(b-=5,a=si.R?si.R(a,b,c,d):si.call(null,a,b,c,d)):a=ri(null,b-5,d),f.K[h]=a);return f};function ti(a,b){throw Error(["No item ",t.C(a)," in vector of length ",t.C(b)].join(""));}
function ui(a,b){if(b>=qi(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.K[b>>>a&31];a=d}else return c.K}function vi(a,b){return 0<=b&&b<a.ca?ui(a,b):ti(b,a.ca)}
var wi=function wi(a,b,c,d,e){var h=pi(c);if(0===b)h.K[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.K[k];a=wi.ma?wi.ma(a,b,c,d,e):wi.call(null,a,b,c,d,e);h.K[k]=a}return h},xi=function xi(a,b,c){var e=a.ca-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=xi.D?xi.D(a,b,f):xi.call(null,a,b,f);if(null==a&&0===e)return null;c=pi(c);c.K[e]=a;return c}if(0===e)return null;c=pi(c);c.K[e]=null;return c};function yi(a,b,c,d,e,f){this.i=a;this.base=b;this.K=c;this.v=d;this.start=e;this.end=f}
yi.prototype.Ua=function(){return this.i<this.end};yi.prototype.next=function(){32===this.i-this.base&&(this.K=ui(this.v,this.i),this.base+=32);var a=this.K[this.i&31];this.i+=1;return a};function zi(a,b,c){return new yi(b,b-b%32,b<K(a)?ui(a,b):null,a,b,c)}function Ai(a,b,c,d){return c<d?Bi(a,b,Se(a,c),c+1,d):b.P?b.P():b.call(null)}
function Bi(a,b,c,d,e){var f=c;c=d;for(d=ui(a,d);;)if(c<e){var h=c&31;d=0===h?ui(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(Ge(f))return y(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.ca=b;this.shift=c;this.root=d;this.tail=e;this.J=f;this.O=167666463;this.T=139268}g=X.prototype;g.fe=function(a,b){return 0<=b&&b<this.ca?new Y(b,ui(this,b)[b&31],null):null};g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return"number"===typeof b?this.qb(null,b,c):c};
g.xa=function(a,b,c){a=0;for(var d=c;;)if(a<this.ca){var e=ui(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(Ge(d)){e=d;break a}f+=1}else{e=d;break a}if(Ge(e))return y(e);a+=c;d=e}else return d};g.hh=l;g.Da=function(a,b){return vi(this,b)[b&31]};g.qb=function(a,b,c){return 0<=b&&b<this.ca?ui(this,b)[b&31]:c};
g.Fd=function(a,b,c){if(0<=b&&b<this.ca)return qi(this)<=b?(a=tc(this.tail),a[b&31]=c,new X(this.meta,this.ca,this.shift,this.root,a,null)):new X(this.meta,this.ca,this.shift,wi(this,this.shift,this.root,b,c),this.tail,null);if(b===this.ca)return this.na(null,c);throw Error(["Index ",t.C(b)," out of bounds  [0,",t.C(this.ca),"]"].join(""));};g.qa=function(){return zi(this,0,this.ca)};g.ga=function(){return this.meta};g.pa=function(){return new X(this.meta,this.ca,this.shift,this.root,this.tail,this.J)};
g.la=function(){return this.ca};g.ge=function(){return 0<this.ca?this.Da(null,this.ca-1):null};
g.he=function(){if(0===this.ca)throw Error("Can't pop empty vector");if(1===this.ca)return id(hf,this.meta);if(1<this.ca-qi(this))return new X(this.meta,this.ca-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=ui(this,this.ca-2),b=xi(this,this.shift,this.root);b=null==b?Z:b;var c=this.ca-1;return 5<this.shift&&null==b.K[1]?new X(this.meta,c,this.shift-5,b.K[0],a,null):new X(this.meta,c,this.shift,b,a,null)};g.Zc=function(){return 0<this.ca?new We(this,this.ca-1,null):null};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){if(b instanceof X)if(this.ca===K(b))for(a=this.qa(null),b=b.qa(null);;)if(a.Ua()){var c=a.next(),d=b.next();if(!F.B(c,d))return!1}else return!0;else return!1;else return Xe(this,b)};g.xe=function(){return new Ci(this.ca,this.shift,Di.C?Di.C(this.root):Di.call(null,this.root),Ei.C?Ei.C(this.tail):Ei.call(null,this.tail))};g.Pa=function(){return id(hf,this.meta)};g.jb=function(a,b){return Ai(this,b,0,this.ca)};
g.kb=function(a,b,c){a=0;for(var d=c;;)if(a<this.ca){var e=ui(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(Ge(d)){e=d;break a}f+=1}else{e=d;break a}if(Ge(e))return y(e);a+=c;d=e}else return d};g.ea=function(a,b,c){if("number"===typeof b)return this.Fd(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.ra=function(a,b){return Gf(b)?0<=b&&b<this.ca:!1};
g.ka=function(){if(0===this.ca)return null;if(32>=this.ca)return new re(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.K[0];else{a=a.K;break a}}return Fi?Fi(this,a,0,0):Gi.call(null,this,a,0,0)};g.ha=function(a,b){return b===this.meta?this:new X(b,this.ca,this.shift,this.root,this.tail,this.J)};
g.na=function(a,b){if(32>this.ca-qi(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.ca+1,this.shift,this.root,c,null)}a=(c=this.ca>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=oi(null),c.K[0]=this.root,d=ri(null,this.shift,new ni(null,this.tail)),c.K[1]=d):c=si(this,this.shift,this.root,new ni(null,this.tail));return new X(this.meta,this.ca+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){if("number"===typeof a)return this.Da(null,a);throw Error("Key must be integer");};
var Z=new ni(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),hf=new X(null,0,5,Z,[],Ae);function Hi(a,b){var c=a.length;a=b?a:tc(a);if(32>c)return new X(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Z,d,null)).xe(null);;)if(b<c)d=b+1,e=Lg.B(e,a[b]),b=d;else return Id(e)}X.prototype[qc]=function(){return we(this)};
function Ii(a){return r(Ji.C?Ji.C(a):Ji.call(null,a))?new X(null,2,5,Z,[Ki.C?Ki.C(a):Ki.call(null,a),Li.C?Li.C(a):Li.call(null,a)],null):yf(a)?pf(a,null):fc(a)?Hi(a,!0):Id(w.D(Hd,Gd(hf),a))}var Mi=function Mi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return Mi.I(c)};Mi.I=function(a){return a instanceof re&&0===a.i?Hi(a.K,!fc(a.K)):Ii(a)};Mi.aa=0;Mi.fa=function(a){return this.I(G(a))};
function Ni(a,b,c,d,e,f){this.Vc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.J=f;this.O=32375020;this.T=1536}g=Ni.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){if(this.off+1<this.node.length){var a=this.Vc;var b=this.node,c=this.i,d=this.off+1;a=Fi?Fi(a,b,c,d):Gi.call(null,a,b,c,d);return null==a?null:a}return this.Ze()};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ai(this.Vc,b,this.i+this.off,K(this.Vc))};g.kb=function(a,b,c){return Bi(this.Vc,b,c,this.i+this.off,K(this.Vc))};g.nb=function(){return this.node[this.off]};g.xb=function(){if(this.off+1<this.node.length){var a=this.Vc;var b=this.node,c=this.i,d=this.off+1;a=Fi?Fi(a,b,c,d):Gi.call(null,a,b,c,d);return null==a?ue:a}return this.ee(null)};g.ka=function(){return this};
g.$e=function(){var a=this.node;return new yg(a,this.off,a.length)};g.ee=function(){var a=this.i+this.node.length;if(a<Cc(this.Vc)){var b=this.Vc,c=ui(this.Vc,a);return Fi?Fi(b,c,a,0):Gi.call(null,b,c,a,0)}return ue};g.ha=function(a,b){return b===this.meta?this:Pi?Pi(this.Vc,this.node,this.i,this.off,b):Gi.call(null,this.Vc,this.node,this.i,this.off,b)};g.na=function(a,b){return Ye(b,this)};
g.Ze=function(){var a=this.i+this.node.length;if(a<Cc(this.Vc)){var b=this.Vc,c=ui(this.Vc,a);return Fi?Fi(b,c,a,0):Gi.call(null,b,c,a,0)}return null};Ni.prototype[qc]=function(){return we(this)};
function Gi(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Ni(b,vi(b,c),c,d,null,null);case 4:return Fi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Pi(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Fi(a,b,c,d){return new Ni(a,b,c,d,null,null)}function Pi(a,b,c,d,e){return new Ni(a,b,c,d,e,null)}
function Qi(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.J=e;this.O=167666463;this.T=139264}g=Qi.prototype;g.fe=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,Pc(this.v,a),null):null};g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return"number"===typeof b?this.qb(null,b,c):c};
g.xa=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(Ge(c))return y(c);d+=1;a+=1}else return c};g.Da=function(a,b){return 0>b||this.end<=this.start+b?ti(b,this.end-this.start):x(this.v,this.start+b)};g.qb=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Fd=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.C(b)," out of bounds [0,",t.C(this.la(null)),"]"].join(""));b=this.meta;c=Q.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Ri.ma?Ri.ma(b,c,d,a,null):Ri.call(null,b,c,d,a,null)};g.qa=function(){return null!=this.v&&l===this.v.hh?zi(this.v,this.start,this.end):new fh(this)};g.ga=function(){return this.meta};g.pa=function(){return new Qi(this.meta,this.v,this.start,this.end,this.J)};
g.la=function(){return this.end-this.start};g.ge=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.he=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Ri.ma?Ri.ma(a,b,c,d,null):Ri.call(null,a,b,c,d,null)};g.Zc=function(){return this.start!==this.end?new We(this,this.end-this.start-1,null):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};
g.Pa=function(){return id(hf,this.meta)};g.jb=function(a,b){return null!=this.v&&l===this.v.hh?Ai(this.v,b,this.start,this.end):Je(this,b)};g.kb=function(a,b,c){return null!=this.v&&l===this.v.hh?Bi(this.v,b,c,this.start,this.end):Ke(this,b,c)};g.ea=function(a,b,c){if("number"===typeof b)return this.Fd(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ra=function(a,b){return Gf(b)?0<=b&&b<this.end-this.start:!1};
g.ka=function(){var a=this;return function d(c){return c===a.end?null:Ye(x(a.v,c),new vg(null,function(){return d(c+1)},null,null))}(a.start)};g.ha=function(a,b){return b===this.meta?this:Ri.ma?Ri.ma(b,this.v,this.start,this.end,this.J):Ri.call(null,b,this.v,this.start,this.end,this.J)};g.na=function(a,b){a=this.meta;b=dd(this.v,this.end,b);var c=this.start,d=this.end+1;return Ri.ma?Ri.ma(a,b,c,d,null):Ri.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.qb(null,a,b)};Qi.prototype[qc]=function(){return we(this)};
function Ri(a,b,c,d,e){for(;;)if(b instanceof Qi)c=b.start+c,d=b.start+d,b=b.v;else{if(!yf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>K(b))throw Error("Index out of bounds");return new Qi(a,b,c,d,e)}}function Si(a,b,c){return Ri(null,a,b|0,c|0,null)}function Ti(a,b){return a===b.Xa?b:new ni(a,tc(b.K))}function Di(a){return new ni({},tc(a.K))}
function Ei(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Af(a,0,b,0,a.length);return b}var Ui=function Ui(a,b,c,d){c=Ti(a.root.Xa,c);var f=a.ca-1>>>b&31;if(5===b)a=d;else{var h=c.K[f];null!=h?(b-=5,a=Ui.R?Ui.R(a,b,h,d):Ui.call(null,a,b,h,d)):a=ri(a.root.Xa,b-5,d)}c.K[f]=a;return c};function Ci(a,b,c,d){this.ca=a;this.shift=b;this.root=c;this.tail=d;this.T=88;this.O=275}g=Ci.prototype;
g.ye=function(a,b){if(this.root.Xa){if(32>this.ca-qi(this))this.tail[this.ca&31]=b;else{a=new ni(this.root.Xa,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.ca>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=ri(this.root.Xa,this.shift,a),this.root=new ni(this.root.Xa,b),this.shift=c):this.root=Ui(this,this.shift,this.root,a)}this.ca+=1;return this}throw Error("conj! after persistent!");};g.Je=function(){if(this.root.Xa){this.root.Xa=null;var a=this.ca-qi(this),b=Array(a);Af(this.tail,0,b,0,a);return new X(null,this.ca,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.bf=function(a,b,c){if("number"===typeof b)return Vi(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Vi(a,b,c){if(a.root.Xa){if(0<=b&&b<a.ca){if(qi(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Ti(a.root.Xa,h);if(0===f)h.K[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.K[m]);h.K[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.ca)return a.ye(null,c);throw Error(["Index ",t.C(b)," out of bounds for TransientVector of length",t.C(a.ca)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.Xa)return this.ca;throw Error("count after persistent!");};
g.Da=function(a,b){if(this.root.Xa)return vi(this,b)[b&31];throw Error("nth after persistent!");};g.qb=function(a,b,c){return 0<=b&&b<this.ca?this.Da(null,b):c};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){if(this.root.Xa)return"number"===typeof b?this.qb(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};function Wi(a,b){this.gf=a;this.cg=b}Wi.prototype.Ua=function(){var a=null!=this.gf&&G(this.gf);return a?a:(a=null!=this.cg)?this.cg.Ua():a};
Wi.prototype.next=function(){if(null!=this.gf){var a=H(this.gf);this.gf=J(this.gf);return a}if(null!=this.cg&&this.cg.Ua())return this.cg.next();throw Error("No such element");};Wi.prototype.remove=function(){return Error("Unsupported operation")};function Xi(a,b,c,d){this.meta=a;this.yc=b;this.Lc=c;this.J=d;this.O=31850700;this.T=0}g=Xi.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){var a=J(this.yc);return a?new Xi(this.meta,a,this.Lc,null):null!=this.Lc?new Xi(this.meta,this.Lc,null,null):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};
g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return id(ue,this.meta)};g.nb=function(){return H(this.yc)};g.xb=function(){var a=J(this.yc);return a?new Xi(this.meta,a,this.Lc,null):null==this.Lc?this.Pa(null):new Xi(this.meta,this.Lc,null,null)};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Xi(b,this.yc,this.Lc,this.J)};g.na=function(a,b){return Ye(b,this)};Xi.prototype[qc]=function(){return we(this)};
function Yi(a,b,c,d,e){this.meta=a;this.count=b;this.yc=c;this.Lc=d;this.J=e;this.T=139264;this.O=31858766}g=Yi.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,this.count.C?this.count.C(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.qa=function(){return new Wi(this.yc,Xd(this.Lc))};g.ga=function(){return this.meta};g.pa=function(){return new Yi(this.meta,this.count,this.yc,this.Lc,this.J)};g.la=function(){return this.count};
g.ge=function(){return H(this.yc)};g.he=function(){if(r(this.yc)){var a=J(this.yc);return a?new Yi(this.meta,this.count-1,a,this.Lc,null):new Yi(this.meta,this.count-1,G(this.Lc),hf,null)}return this};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return id(Zi,this.meta)};g.nb=function(){return H(this.yc)};g.xb=function(){return te(G(this))};
g.ka=function(){var a=G(this.Lc),b=this.yc;return r(r(b)?b:a)?new Xi(null,this.yc,G(a),null):null};g.ha=function(a,b){return b===this.meta?this:new Yi(b,this.count,this.yc,this.Lc,this.J)};g.na=function(a,b){r(this.yc)?(a=this.Lc,b=new Yi(this.meta,this.count+1,this.yc,gf.B(r(a)?a:hf,b),null)):b=new Yi(this.meta,this.count+1,gf.B(this.yc,b),hf,null);return b};var Zi=new Yi(null,0,null,hf,Ae);Yi.prototype[qc]=function(){return we(this)};function $i(){this.O=2097152;this.T=0}
$i.prototype.equiv=function(a){return this.da(null,a)};$i.prototype.da=function(){return!1};var aj=new $i;function bj(a,b){return Ef(wf(b)&&!xf(b)?K(a)===K(b)?(null!=a?a.O&1048576||l===a.pm||(a.O?0:mc(md,a)):mc(md,a))?Rf(function(c,d,e){return F.B(B.D(b,d,aj),e)?!0:Fe(!1)},!0,a):ph(function(c){return F.B(B.D(b,H(c),aj),bf(c))},a):null:null)}function cj(a,b,c,d){this.i=0;this.Pl=a;this.zi=b;this.fields=c;this.Xi=d}cj.prototype.Ua=function(){var a=this.i<this.zi;return a?a:this.Xi.Ua()};
cj.prototype.next=function(){if(this.i<this.zi){var a=Se(this.fields,this.i);this.i+=1;return new Y(a,Pc(this.Pl,a),null)}return this.Xi.next()};cj.prototype.remove=function(){return Error("Unsupported operation")};function dj(a){this.s=a}dj.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=N(a,0,null);a=N(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function ej(a){this.s=a}
ej.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function fj(a,b){if(b instanceof D)a:{var c=a.length;b=b.ba;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof D&&b===a[d].ba){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof A)a:for(c=a.length,b=b.Bc,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof A&&b===a[d].Bc){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(F.B(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b,c){this.key=a;this.val=b;this.J=c;this.O=166619935;this.T=0}g=Y.prototype;g.fe=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.oa=function(a,b){return this.qb(null,b,null)};g.Y=function(a,b,c){return this.qb(null,b,c)};g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.qb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Fd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Fd(null,b,c)};g.ga=function(){return null};g.la=function(){return 2};g.jh=function(){return this.key};g.kh=function(){return this.val};g.ge=function(){return this.val};g.he=function(){return new X(null,1,5,Z,[this.key],null)};g.Zc=function(){return new re([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};
g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return null};g.jb=function(a,b){return Je(this,b)};g.kb=function(a,b,c){return Ke(this,b,c)};g.ea=function(a,b,c){return Q.D(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.ka=function(){return new re([this.key,this.val],0,null)};g.ha=function(a,b){return pf(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.qb(null,a,b)};function Ji(a){return null!=a?a.O&2048||l===a.sm?!0:!1:!1}function gj(a,b,c){this.K=a;this.i=b;this.pd=c;this.O=32374990;this.T=0}g=gj.prototype;
g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.pd};g.Va=function(){return this.i<this.K.length-2?new gj(this.K,this.i+2,null):null};g.la=function(){return(this.K.length-this.i)/2};g.ja=function(){return ze(this)};
g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){return new Y(this.K[this.i],this.K[this.i+1],null)};g.xb=function(){return this.i<this.K.length-2?new gj(this.K,this.i+2,null):ue};g.ka=function(){return this};g.ha=function(a,b){return b===this.pd?this:new gj(this.K,this.i,b)};g.na=function(a,b){return Ye(b,this)};gj.prototype[qc]=function(){return we(this)};
function hj(a,b){this.K=a;this.i=0;this.ca=b}hj.prototype.Ua=function(){return this.i<this.ca};hj.prototype.next=function(){var a=new Y(this.K[this.i],this.K[this.i+1],null);this.i+=2;return a};function q(a,b,c,d){this.meta=a;this.ca=b;this.K=c;this.J=d;this.O=16647951;this.T=139268}g=q.prototype;g.fe=function(a,b){a=fj(this.K,b);return-1===a?null:new Y(this.K[a],this.K[a+1],null)};g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.keys=function(){return we(ij.C?ij.C(this):ij.call(null,this))};g.entries=function(){return new dj(G(G(this)))};g.values=function(){return we(jj.C?jj.C(this):jj.call(null,this))};g.has=function(a){return S(this,a)};g.get=function(a,b){return this.Y(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))zf(b)?(c=Od(b),b=Pd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=fj(this.K,b);return-1===a?c:this.K[a+1]};
g.xa=function(a,b,c){a=this.K.length;for(var d=0;;)if(d<a){var e=this.K[d],f=this.K[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(Ge(c))return y(c);d+=2}else return c};g.qa=function(){return new hj(this.K,2*this.ca)};g.ga=function(){return this.meta};g.pa=function(){return new q(this.meta,this.ca,this.K,this.J)};g.la=function(){return this.ca};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Be(this)};
g.da=function(a,b){if(wf(b)&&!xf(b))if(a=this.K.length,this.ca===b.la(null))for(var c=0;;)if(c<a){var d=b.Y(null,this.K[c],Bf);if(d!==Bf)if(F.B(this.K[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.xe=function(){return new kj(this.K.length,tc(this.K))};g.Pa=function(){return id(W,this.meta)};g.jb=function(a,b){return Pf(this,b)};g.kb=function(a,b,c){return Qf(this,b,c)};
g.za=function(a,b){if(0<=fj(this.K,b)){a=this.K.length;var c=a-2;if(0===c)return this.Pa(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new q(this.meta,this.ca-1,c,null);F.B(b,this.K[d])?d+=2:(c[e]=this.K[d],c[e+1]=this.K[d+1],e+=2,d+=2)}}else return this};
g.ea=function(a,b,c){a=fj(this.K,b);if(-1===a){if(this.ca<lj){a=this.K;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new q(this.meta,this.ca+1,e,null)}return id(Tc(ei.B(mj,this),b,c),this.meta)}if(c===this.K[a+1])return this;b=tc(this.K);b[a+1]=c;return new q(this.meta,this.ca,b,null)};g.ra=function(a,b){return-1!==fj(this.K,b)};g.ka=function(){var a=this.K;return 0<=a.length-2?new gj(a,0,null):null};
g.ha=function(a,b){return b===this.meta?this:new q(b,this.ca,this.K,this.J)};g.na=function(a,b){if(yf(b))return this.ea(null,x(b,0),x(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=H(b);if(yf(c))a=Tc(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var W=new q(null,0,[],Ce),lj=8;
function nj(a,b,c){a=b?a:tc(a);if(!c){c=[];for(b=0;;)if(b<a.length){var d=a[b],e=a[b+1];-1===fj(c,d)&&(c.push(d),c.push(e));b+=2}else break;a=c}return new q(null,a.length/2,a,null)}function oj(a,b){return a===b?!0:U(a,b)?!0:F.B(a,b)}function pj(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=oj(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}
function qj(a,b){var c=a.length-1,d=G(b);b=Array(c+2*K(d));a=Af(a,0,b,0,c);for(b=c;;)if(d){var e=H(d);a[b]=Xc(e);a[b+1]=Yc(e);b=2+c;d=J(d)}else return a}function mf(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=oj(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?rj(a,c):new q(null,b/2,a,null)}
function rj(a,b){var c=b?qj(a,ei.B(W,a[a.length-1])):a;a=pj(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=oj(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(oj(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new q(null,a.length/2,a,null)}return new q(null,c.length/2,c,null)}q.prototype[qc]=function(){return we(this)};
function kj(a,b){this.Le={};this.Kd=a;this.K=b;this.O=259;this.T=56}g=kj.prototype;g.la=function(){if(this.Le)return fg(this.Kd,2);throw Error("count after persistent!");};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){if(this.Le)return a=fj(this.K,b),-1===a?c:this.K[a+1];throw Error("lookup after persistent!");};
g.ye=function(a,b){if(this.Le){if(Ji(b))return this.bf(null,Ki.C?Ki.C(b):Ki.call(null,b),Li.C?Li.C(b):Li.call(null,b));if(yf(b))return this.bf(null,b.C?b.C(0):b.call(null,0),b.C?b.C(1):b.call(null,1));a=G(b);for(b=this;;){var c=H(a);if(r(c))a=J(a),b=Jd(b,Ki.C?Ki.C(c):Ki.call(null,c),Li.C?Li.C(c):Li.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Je=function(){if(this.Le)return this.Le=!1,new q(null,fg(this.Kd,2),this.K,null);throw Error("persistent! called twice");};
g.bf=function(a,b,c){if(this.Le){a=fj(this.K,b);if(-1===a)return this.Kd+2<=2*lj?(this.Kd+=2,this.K.push(b),this.K.push(c),this):Mg(sj.B?sj.B(this.Kd,this.K):sj.call(null,this.Kd,this.K),b,c);c!==this.K[a+1]&&(this.K[a+1]=c);return this}throw Error("assoc! after persistent!");};g.qh=function(a,b){if(this.Le)return a=fj(this.K,b),0<=a&&(this.K[a]=this.K[this.Kd-2],this.K[a+1]=this.K[this.Kd-1],a=this.K,a.pop(),a.pop(),this.Kd-=2),this;throw Error("dissoc! after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.Y(null,a,null)};g.B=function(a,b){return this.Y(null,a,b)};function sj(a,b){for(var c=Gd(mj),d=0;;)if(d<a)c=Jd(c,b[d],b[d+1]),d+=2;else return c}function tj(){this.val=!1}
function uj(a,b,c){a=tc(a);a[b]=c;return a}function vj(a,b){var c=Array(a.length-2);Af(a,0,c,0,2*b);Af(a,2*(b+1),c,2*b,c.length-2*b);return c}function wj(a,b,c,d){a=a.ne(b);a.K[c]=d;return a}function xj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Re(b,f):f;if(Ge(c))return c;e+=2;f=c}else return f}function yj(a){this.K=a;this.i=0;this.Md=this.Wf=null}
yj.prototype.advance=function(){for(var a=this.K.length;;)if(this.i<a){var b=this.K[this.i],c=this.K[this.i+1];null!=b?b=this.Wf=new Y(b,c,null):null!=c?(b=Xd(c),b=b.Ua()?this.Md=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};yj.prototype.Ua=function(){var a=null!=this.Wf;return a?a:(a=null!=this.Md)?a:this.advance()};
yj.prototype.next=function(){if(null!=this.Wf){var a=this.Wf;this.Wf=null;return a}if(null!=this.Md)return a=this.Md.next(),this.Md.Ua()||(this.Md=null),a;if(this.advance())return this.next();throw Error("No such element");};yj.prototype.remove=function(){return Error("Unsupported operation")};function zj(a,b,c){this.Xa=a;this.bitmap=b;this.K=c;this.T=131072;this.O=0}g=zj.prototype;
g.ne=function(a){if(a===this.Xa)return this;var b=hg(this.bitmap),c=Array(0>b?4:2*(b+1));Af(this.K,0,c,0,2*b);return new zj(a,this.bitmap,c)};g.Tf=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=hg(this.bitmap&f-1),k=this.K[2*h],m=this.K[2*h+1];return null==k?(b=m.Tf(a,b+5,c,d,e),b===m?this:null!=b?wj(this,a,2*h+1,b):this.bitmap===f?null:Aj(this,a,f,h)):oj(d,k)?(e.val=!0,Aj(this,a,f,h)):this};
function Aj(a,b,c,d){if(a.bitmap===c)return null;a=a.ne(b);b=a.K;var e=b.length;a.bitmap^=c;Af(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.Rf=function(){return Bj?Bj(this.K):Cj.call(null,this.K)};g.Re=function(a,b){return xj(this.K,a,b)};g.Fe=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=hg(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Fe(a+5,b,c,d):oj(c,e)?f:d};
g.Jd=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=hg(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=hg(this.bitmap);if(2*m<this.K.length){a=this.ne(a);b=a.K;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Dj.Jd(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.K[e]?Dj.Jd(a,b+5,je(this.K[e]),this.K[e],this.K[e+1],f):this.K[e+1],e+=2,d+=1);else break;return new Ej(a,m+1,k)}b=Array(2*(m+4));Af(this.K,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Af(this.K,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.ne(a);a.K=b;a.bitmap|=h;return a}m=this.K[2*k];h=this.K[2*k+1];if(null==m)return m=h.Jd(a,b+5,c,d,e,f),m===h?this:wj(this,a,2*k+1,m);if(oj(d,m))return e===h?this:wj(this,a,2*k+1,e);f.val=!0;f=b+5;d=Fj?Fj(a,f,m,h,c,d,e):Gj.call(null,a,
f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.ne(a);a.K[e]=null;a.K[k]=d;return a};
g.Id=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=hg(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=hg(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Dj.Id(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.K[d]?Dj.Id(a+5,je(this.K[d]),this.K[d],this.K[d+1],e):this.K[d+1],d+=2,c+=1);else break;return new Ej(null,k+1,h)}a=Array(2*
(k+1));Af(this.K,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Af(this.K,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new zj(null,this.bitmap|f,a)}var m=this.K[2*h];f=this.K[2*h+1];if(null==m)return k=f.Id(a+5,b,c,d,e),k===f?this:new zj(null,this.bitmap,uj(this.K,2*h+1,k));if(oj(c,m))return d===f?this:new zj(null,this.bitmap,uj(this.K,2*h+1,d));e.val=!0;e=this.bitmap;k=this.K;a+=5;a=Hj?Hj(a,m,f,b,c,d):Gj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=tc(k);d[c]=null;d[h]=a;return new zj(null,e,d)};
g.Qf=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=hg(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Qf(a+5,b,c,d):oj(c,e)?new Y(e,f,null):d};
g.Sf=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=hg(this.bitmap&d-1),f=this.K[2*e],h=this.K[2*e+1];return null==f?(a=h.Sf(a+5,b,c),a===h?this:null!=a?new zj(null,this.bitmap,uj(this.K,2*e+1,a)):this.bitmap===d?null:new zj(null,this.bitmap^d,vj(this.K,e))):oj(c,f)?this.bitmap===d?null:new zj(null,this.bitmap^d,vj(this.K,e)):this};g.qa=function(){return new yj(this.K)};var Dj=new zj(null,0,[]);
function Ij(a,b,c){var d=a.K,e=d.length;a=Array(2*(a.ca-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new zj(b,k,a)}function Jj(a){this.K=a;this.i=0;this.Md=null}Jj.prototype.Ua=function(){for(var a=this.K.length;;){if(null!=this.Md&&this.Md.Ua())return!0;if(this.i<a){var b=this.K[this.i];this.i+=1;null!=b&&(this.Md=Xd(b))}else return!1}};Jj.prototype.next=function(){if(this.Ua())return this.Md.next();throw Error("No such element");};
Jj.prototype.remove=function(){return Error("Unsupported operation")};function Ej(a,b,c){this.Xa=a;this.ca=b;this.K=c;this.T=131072;this.O=0}g=Ej.prototype;g.ne=function(a){return a===this.Xa?this:new Ej(a,this.ca,tc(this.K))};g.Tf=function(a,b,c,d,e){var f=c>>>b&31,h=this.K[f];if(null==h)return this;b=h.Tf(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.ca)return Ij(this,a,f);a=wj(this,a,f,b);--a.ca;return a}return wj(this,a,f,b)};g.Rf=function(){return Kj?Kj(this.K):Lj.call(null,this.K)};
g.Re=function(a,b){for(var c=this.K.length,d=0;;)if(d<c){var e=this.K[d];if(null!=e){b=e.Re(a,b);if(Ge(b))return b;d+=1}else d+=1}else return b};g.Fe=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Fe(a+5,b,c,d):d};g.Jd=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.K[h];if(null==k)return a=wj(this,a,h,Dj.Jd(a,b+5,c,d,e,f)),a.ca+=1,a;b=k.Jd(a,b+5,c,d,e,f);return b===k?this:wj(this,a,h,b)};
g.Id=function(a,b,c,d,e){var f=b>>>a&31,h=this.K[f];if(null==h)return new Ej(null,this.ca+1,uj(this.K,f,Dj.Id(a+5,b,c,d,e)));a=h.Id(a+5,b,c,d,e);return a===h?this:new Ej(null,this.ca,uj(this.K,f,a))};g.Qf=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Qf(a+5,b,c,d):d};g.Sf=function(a,b,c){var d=b>>>a&31,e=this.K[d];return null!=e?(a=e.Sf(a+5,b,c),a===e?this:null==a?8>=this.ca?Ij(this,null,d):new Ej(null,this.ca-1,uj(this.K,d,a)):new Ej(null,this.ca,uj(this.K,d,a))):this};g.qa=function(){return new Jj(this.K)};
function Mj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(oj(c,a[d]))return d;d+=2}else return-1}function Nj(a,b,c,d){this.Xa=a;this.ke=b;this.ca=c;this.K=d;this.T=131072;this.O=0}g=Nj.prototype;g.ne=function(a){if(a===this.Xa)return this;var b=Array(2*(this.ca+1));Af(this.K,0,b,0,2*this.ca);return new Nj(a,this.ke,this.ca,b)};
g.Tf=function(a,b,c,d,e){b=Mj(this.K,this.ca,d);if(-1===b)return this;e.val=!0;if(1===this.ca)return null;a=this.ne(a);e=a.K;e[b]=e[2*this.ca-2];e[b+1]=e[2*this.ca-1];e[2*this.ca-1]=null;e[2*this.ca-2]=null;--a.ca;return a};g.Rf=function(){return Bj?Bj(this.K):Cj.call(null,this.K)};g.Re=function(a,b){return xj(this.K,a,b)};g.Fe=function(a,b,c,d){a=Mj(this.K,this.ca,c);return 0>a?d:oj(c,this.K[a])?this.K[a+1]:d};
g.Jd=function(a,b,c,d,e,f){if(c===this.ke){b=Mj(this.K,this.ca,d);if(-1===b){if(this.K.length>2*this.ca)return b=2*this.ca,c=2*this.ca+1,a=this.ne(a),a.K[b]=d,a.K[c]=e,f.val=!0,a.ca+=1,a;c=this.K.length;b=Array(c+2);Af(this.K,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.ca+1;a===this.Xa?(this.K=b,this.ca=d,a=this):a=new Nj(this.Xa,this.ke,d,b);return a}return this.K[b+1]===e?this:wj(this,a,b+1,e)}return(new zj(a,1<<(this.ke>>>b&31),[null,this,null,null])).Jd(a,b,c,d,e,f)};
g.Id=function(a,b,c,d,e){return b===this.ke?(a=Mj(this.K,this.ca,c),-1===a?(a=2*this.ca,b=Array(a+2),Af(this.K,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Nj(null,this.ke,this.ca+1,b)):F.B(this.K[a+1],d)?this:new Nj(null,this.ke,this.ca,uj(this.K,a+1,d))):(new zj(null,1<<(this.ke>>>a&31),[null,this])).Id(a,b,c,d,e)};g.Qf=function(a,b,c,d){a=Mj(this.K,this.ca,c);return 0>a?d:oj(c,this.K[a])?new Y(this.K[a],this.K[a+1],null):d};
g.Sf=function(a,b,c){a=Mj(this.K,this.ca,c);return-1===a?this:1===this.ca?null:new Nj(null,this.ke,this.ca-1,vj(this.K,fg(a,2)))};g.qa=function(){return new yj(this.K)};function Gj(a){switch(arguments.length){case 6:return Hj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Fj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}
function Hj(a,b,c,d,e,f){var h=je(b);if(h===d)return new Nj(null,h,2,[b,c,e,f]);var k=new tj;return Dj.Id(a,h,b,c,k).Id(a,d,e,f,k)}function Fj(a,b,c,d,e,f,h){var k=je(c);if(k===e)return new Nj(null,k,2,[c,d,f,h]);var m=new tj;return Dj.Jd(a,b,k,c,d,m).Jd(a,b,e,f,h,m)}function Oj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.O=32374988;this.T=0}g=Oj.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Pj?Pj(a,b,null):Cj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return Pj?Pj(a,b,c):Cj.call(null,a,b,c)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1],null):H(this.s)};
g.xb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Pj?Pj(c,d,null):Cj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return Pj?Pj(c,d,e):Cj.call(null,c,d,e)}();return null!=b?b:ue};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Oj(b,this.nodes,this.i,this.s,this.J)};g.na=function(a,b){return Ye(b,this)};Oj.prototype[qc]=function(){return we(this)};
function Cj(a){switch(arguments.length){case 1:return Bj(arguments[0]);case 3:return Pj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Bj(a){return Pj(a,0,null)}function Pj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Oj(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.Rf(),r(d)))return new Oj(null,a,b+2,d,null);b+=2}else return null;else return new Oj(null,a,b,c,null)}
function Qj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.O=32374988;this.T=0}g=Qj.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){var a=this.nodes,b=this.i,c=J(this.s);return Rj?Rj(a,b,c):Lj.call(null,a,b,c)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};
g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){return H(this.s)};g.xb=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=Rj?Rj(a,b,c):Lj.call(null,a,b,c);return null!=a?a:ue};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Qj(b,this.nodes,this.i,this.s,this.J)};g.na=function(a,b){return Ye(b,this)};Qj.prototype[qc]=function(){return we(this)};
function Lj(a){switch(arguments.length){case 1:return Kj(arguments[0]);case 3:return Rj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Kj(a){return Rj(a,0,null)}function Rj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(r(d)&&(d=d.Rf(),r(d)))return new Qj(null,a,b+1,d,null);b+=1}else return null;else return new Qj(null,a,b,c,null)}function Sj(a,b){this.Qb=a;this.yj=b;this.seen=!1}
Sj.prototype.Ua=function(){return!this.seen||this.yj.Ua()};Sj.prototype.next=function(){if(this.seen)return this.yj.next();this.seen=!0;return new Y(null,this.Qb,null)};Sj.prototype.remove=function(){return Error("Unsupported operation")};function Tj(a,b,c,d,e,f){this.meta=a;this.ca=b;this.root=c;this.Ib=d;this.Qb=e;this.J=f;this.O=16123663;this.T=139268}g=Tj.prototype;g.fe=function(a,b){return null==b?this.Ib?new Y(null,this.Qb,null):null:null==this.root?null:this.root.Qf(0,je(b),b,null)};
g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.keys=function(){return we(ij.C?ij.C(this):ij.call(null,this))};g.entries=function(){return new dj(G(G(this)))};g.values=function(){return we(jj.C?jj.C(this):jj.call(null,this))};g.has=function(a){return S(this,a)};g.get=function(a,b){return this.Y(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))zf(b)?(c=Od(b),b=Pd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return null==b?this.Ib?this.Qb:c:null==this.root?c:this.root.Fe(0,je(b),b,c)};
g.xa=function(a,b,c){a=this.Ib?b.D?b.D(c,null,this.Qb):b.call(null,c,null,this.Qb):c;return Ge(a)?y(a):null!=this.root?He(this.root.Re(b,a)):a};g.qa=function(){var a=this.root?Xd(this.root):ah();return this.Ib?new Sj(this.Qb,a):a};g.ga=function(){return this.meta};g.pa=function(){return new Tj(this.meta,this.ca,this.root,this.Ib,this.Qb,this.J)};g.la=function(){return this.ca};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Be(this)};g.da=function(a,b){return bj(this,b)};
g.xe=function(){return new Uj(this.root,this.ca,this.Ib,this.Qb)};g.Pa=function(){return id(mj,this.meta)};g.za=function(a,b){if(null==b)return this.Ib?new Tj(this.meta,this.ca-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Sf(0,je(b),b);return a===this.root?this:new Tj(this.meta,this.ca-1,a,this.Ib,this.Qb,null)};
g.ea=function(a,b,c){if(null==b)return this.Ib&&c===this.Qb?this:new Tj(this.meta,this.Ib?this.ca:this.ca+1,this.root,!0,c,null);a=new tj;b=(null==this.root?Dj:this.root).Id(0,je(b),b,c,a);return b===this.root?this:new Tj(this.meta,a.val?this.ca+1:this.ca,b,this.Ib,this.Qb,null)};g.ra=function(a,b){return null==b?this.Ib:null==this.root?!1:this.root.Fe(0,je(b),b,Bf)!==Bf};g.ka=function(){if(0<this.ca){var a=null!=this.root?this.root.Rf():null;return this.Ib?Ye(new Y(null,this.Qb,null),a):a}return null};
g.ha=function(a,b){return b===this.meta?this:new Tj(b,this.ca,this.root,this.Ib,this.Qb,this.J)};g.na=function(a,b){if(yf(b))return this.ea(null,x(b,0),x(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=H(b);if(yf(c))a=Tc(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var mj=new Tj(null,0,null,!1,null,Ce);
function Vj(a,b){for(var c=a.length,d=0,e=Gd(mj);;)if(d<c){if(b.length<=d)throw Error(["No value supplied for key: ",t.C(a[d])].join(""));var f=d+1;e=Jd(e,a[d],b[d]);d=f}else return Id(e)}Tj.prototype[qc]=function(){return we(this)};function Uj(a,b,c,d){this.Xa={};this.root=a;this.count=b;this.Ib=c;this.Qb=d;this.O=259;this.T=56}
function Wj(a,b,c){if(a.Xa){if(null==b)a.Qb!==c&&(a.Qb=c),a.Ib||(a.count+=1,a.Ib=!0);else{var d=new tj;b=(null==a.root?Dj:a.root).Jd(a.Xa,0,je(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Uj.prototype;g.la=function(){if(this.Xa)return this.count;throw Error("count after persistent!");};g.oa=function(a,b){return null==b?this.Ib?this.Qb:null:null==this.root?null:this.root.Fe(0,je(b),b)};
g.Y=function(a,b,c){return null==b?this.Ib?this.Qb:c:null==this.root?c:this.root.Fe(0,je(b),b,c)};g.ye=function(a,b){a:if(this.Xa)if(Ji(b))a=Wj(this,Ki.C?Ki.C(b):Ki.call(null,b),Li.C?Li.C(b):Li.call(null,b));else if(yf(b))a=Wj(this,b.C?b.C(0):b.call(null,0),b.C?b.C(1):b.call(null,1));else for(a=G(b),b=this;;){var c=H(a);if(r(c))a=J(a),b=Wj(b,Ki.C?Ki.C(c):Ki.call(null,c),Li.C?Li.C(c):Li.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Je=function(){if(this.Xa){this.Xa=null;var a=new Tj(null,this.count,this.root,this.Ib,this.Qb,null)}else throw Error("persistent! called twice");return a};g.bf=function(a,b,c){return Wj(this,b,c)};g.qh=function(a,b){if(this.Xa)null==b?this.Ib&&(this.Ib=!1,this.Qb=null,--this.count):null!=this.root&&(a=new tj,b=this.root.Tf(this.Xa,0,je(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};function Xj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=gf.B(d,a),a=b;else return d}
function Yj(a,b,c,d,e){this.meta=a;this.stack=b;this.He=c;this.ca=d;this.J=e;this.O=32374990;this.T=0}g=Yj.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){var a=H(this.stack);a=Xj(this.He?a.right:a.left,J(this.stack),this.He);return null==a?null:new Yj(null,a,this.He,this.ca-1,null)};
g.la=function(){return 0>this.ca?K(J(this))+1:this.ca};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){var a=this.stack;return null==a?null:ad(a)};g.xb=function(){var a=H(this.stack);a=Xj(this.He?a.right:a.left,J(this.stack),this.He);return null!=a?new Yj(null,a,this.He,this.ca-1,null):ue};g.ka=function(){return this};
g.ha=function(a,b){return b===this.meta?this:new Yj(b,this.stack,this.He,this.ca,this.J)};g.na=function(a,b){return Ye(b,this)};Yj.prototype[qc]=function(){return we(this)};function Zj(a,b,c){return new Yj(null,Xj(a,null,b),b,c,null)}
function ak(a,b,c,d){return c instanceof bk?c.left instanceof bk?new bk(c.key,c.val,c.left.de(),new ck(a,b,c.right,d,null),null):c.right instanceof bk?new bk(c.right.key,c.right.val,new ck(c.key,c.val,c.left,c.right.left,null),new ck(a,b,c.right.right,d,null),null):new ck(a,b,c,d,null):new ck(a,b,c,d,null)}
function ek(a,b,c,d){return d instanceof bk?d.right instanceof bk?new bk(d.key,d.val,new ck(a,b,c,d.left,null),d.right.de(),null):d.left instanceof bk?new bk(d.left.key,d.left.val,new ck(a,b,c,d.left.left,null),new ck(d.key,d.val,d.left.right,d.right,null),null):new ck(a,b,c,d,null):new ck(a,b,c,d,null)}
function fk(a,b,c,d){if(c instanceof bk)return new bk(a,b,c.de(),d,null);if(d instanceof ck)return ek(a,b,c,d.$f());if(d instanceof bk&&d.left instanceof ck)return new bk(d.left.key,d.left.val,new ck(a,b,c,d.left.left,null),ek(d.key,d.val,d.left.right,d.right.$f()),null);throw Error("red-black tree invariant violation");}
function gk(a,b,c,d){if(d instanceof bk)return new bk(a,b,c,d.de(),null);if(c instanceof ck)return ak(a,b,c.$f(),d);if(c instanceof bk&&c.right instanceof ck)return new bk(c.right.key,c.right.val,ak(c.key,c.val,c.left.$f(),c.right.left),new ck(a,b,c.right.right,d,null),null);throw Error("red-black tree invariant violation");}
var hk=function hk(a,b,c){var e=null!=a.left?function(){var k=a.left;return hk.D?hk.D(k,b,c):hk.call(null,k,b,c)}():c;if(Ge(e))return e;var f=function(){var k=a.key,m=a.val;return b.D?b.D(e,k,m):b.call(null,e,k,m)}();if(Ge(f))return f;if(null!=a.right){var h=a.right;return hk.D?hk.D(h,b,f):hk.call(null,h,b,f)}return f};function ck(a,b,c,d,e){this.key=a;this.val=b;this.left=c;this.right=d;this.J=e;this.O=166619935;this.T=0}g=ck.prototype;
g.fe=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();g.vi=function(a){return a.yi(this)};g.$f=function(){return new bk(this.key,this.val,this.left,this.right,null)};g.de=function(){return this};g.ui=function(a){return a.xi(this)};g.replace=function(a,b,c,d){return new ck(a,b,c,d,null)};
g.xi=function(a){return new ck(a.key,a.val,this,a.right,null)};g.yi=function(a){return new ck(a.key,a.val,a.left,this,null)};g.Re=function(a,b){return hk(this,a,b)};g.oa=function(a,b){return this.qb(null,b,null)};g.Y=function(a,b,c){return this.qb(null,b,c)};g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.qb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};
g.Fd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Fd(null,b,c)};g.ga=function(){return null};g.la=function(){return 2};g.jh=function(){return this.key};g.kh=function(){return this.val};g.ge=function(){return this.val};g.he=function(){return new X(null,1,5,Z,[this.key],null)};g.Zc=function(){return new re([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return null};
g.jb=function(a,b){return Je(this,b)};g.kb=function(a,b,c){return Ke(this,b,c)};g.ea=function(a,b,c){return Q.D(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.ka=function(){return new re([this.key,this.val],0,null)};g.ha=function(a,b){return id(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.qb(null,a,b)};ck.prototype[qc]=function(){return we(this)};
function bk(a,b,c,d,e){this.key=a;this.val=b;this.left=c;this.right=d;this.J=e;this.O=166619935;this.T=0}g=bk.prototype;g.fe=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();g.vi=function(a){return new bk(this.key,this.val,this.left,a,null)};g.$f=function(){throw Error("red-black tree invariant violation");};g.de=function(){return new ck(this.key,this.val,this.left,this.right,null)};
g.ui=function(a){return new bk(this.key,this.val,a,this.right,null)};g.replace=function(a,b,c,d){return new bk(a,b,c,d,null)};g.xi=function(a){return this.left instanceof bk?new bk(this.key,this.val,this.left.de(),new ck(a.key,a.val,this.right,a.right,null),null):this.right instanceof bk?new bk(this.right.key,this.right.val,new ck(this.key,this.val,this.left,this.right.left,null),new ck(a.key,a.val,this.right.right,a.right,null),null):new ck(a.key,a.val,this,a.right,null)};
g.yi=function(a){return this.right instanceof bk?new bk(this.key,this.val,new ck(a.key,a.val,a.left,this.left,null),this.right.de(),null):this.left instanceof bk?new bk(this.left.key,this.left.val,new ck(a.key,a.val,a.left,this.left.left,null),new ck(this.key,this.val,this.left.right,this.right,null),null):new ck(a.key,a.val,a.left,this,null)};g.Re=function(a,b){return hk(this,a,b)};g.oa=function(a,b){return this.qb(null,b,null)};g.Y=function(a,b,c){return this.qb(null,b,c)};
g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.qb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Fd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Fd(null,b,c)};g.ga=function(){return null};g.la=function(){return 2};g.jh=function(){return this.key};g.kh=function(){return this.val};g.ge=function(){return this.val};g.he=function(){return new X(null,1,5,Z,[this.key],null)};
g.Zc=function(){return new re([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return null};g.jb=function(a,b){return Je(this,b)};g.kb=function(a,b,c){return Ke(this,b,c)};g.ea=function(a,b,c){return Q.D(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.ka=function(){return new re([this.key,this.val],0,null)};
g.ha=function(a,b){return id(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.Da(null,a)};
g.B=function(a,b){return this.qb(null,a,b)};bk.prototype[qc]=function(){return we(this)};
var ik=function ik(a,b,c,d,e){if(null==b)return new bk(c,d,null,null,null);var h=function(){var k=b.key;return a.B?a.B(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return ik.ma?ik.ma(a,k,c,d,e):ik.call(null,a,k,c,d,e)}(),null!=h?b.ui(h):null;h=function(){var k=b.right;return ik.ma?ik.ma(a,k,c,d,e):ik.call(null,a,k,c,d,e)}();return null!=h?b.vi(h):null},jk=function jk(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof bk){if(b instanceof bk){var d=
function(){var e=a.right,f=b.left;return jk.B?jk.B(e,f):jk.call(null,e,f)}();return d instanceof bk?new bk(d.key,d.val,new bk(a.key,a.val,a.left,d.left,null),new bk(b.key,b.val,d.right,b.right,null),null):new bk(a.key,a.val,a.left,new bk(b.key,b.val,d,b.right,null),null)}return new bk(a.key,a.val,a.left,function(){var e=a.right;return jk.B?jk.B(e,b):jk.call(null,e,b)}(),null)}if(b instanceof bk)return new bk(b.key,b.val,function(){var e=b.left;return jk.B?jk.B(a,e):jk.call(null,a,e)}(),b.right,null);
d=function(){var e=a.right,f=b.left;return jk.B?jk.B(e,f):jk.call(null,e,f)}();return d instanceof bk?new bk(d.key,d.val,new ck(a.key,a.val,a.left,d.left,null),new ck(b.key,b.val,d.right,b.right,null),null):fk(a.key,a.val,a.left,new ck(b.key,b.val,d,b.right,null))},kk=function kk(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.B?a.B(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,jk(b.left,b.right);if(0>f)return f=function(){var h=b.left;return kk.R?kk.R(a,h,c,d):kk.call(null,a,h,c,d)}(),
null!=f||null!=d[0]?b.left instanceof ck?fk(b.key,b.val,f,b.right):new bk(b.key,b.val,f,b.right,null):null;f=function(){var h=b.right;return kk.R?kk.R(a,h,c,d):kk.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof ck?gk(b.key,b.val,b.left,f):new bk(b.key,b.val,b.left,f,null):null}return null},lk=function lk(a,b,c,d){var f=b.key,h=a.B?a.B(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return lk.R?lk.R(a,k,c,d):lk.call(null,
a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=b.right;return lk.R?lk.R(a,k,c,d):lk.call(null,a,k,c,d)}())};function mk(a,b,c,d,e){this.$c=a;this.tree=b;this.ca=c;this.meta=d;this.J=e;this.O=418776847;this.T=8192}g=mk.prototype;g.fe=function(a,b){return nk(this,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))zf(b)?(c=Od(b),b=Pd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.Y(null,a,b)};g.entries=function(){return new dj(G(G(this)))};g.toString=function(){return Zd(this)};g.keys=function(){return we(ij.C?ij.C(this):ij.call(null,this))};
g.values=function(){return we(jj.C?jj.C(this):jj.call(null,this))};g.equiv=function(a){return this.da(null,a)};function nk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.$c.B?a.$c.B(b,d):a.$c.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return S(this,a)};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=nk(this,b);return null!=a?a.val:c};g.xa=function(a,b,c){return null!=this.tree?He(hk(this.tree,b,c)):c};g.ga=function(){return this.meta};
g.pa=function(){return new mk(this.$c,this.tree,this.ca,this.meta,this.J)};g.la=function(){return this.ca};g.Zc=function(){return 0<this.ca?Zj(this.tree,!1,this.ca):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Be(this)};g.da=function(a,b){return bj(this,b)};g.Pa=function(){return new mk(this.$c,null,0,this.meta,0)};
g.za=function(a,b){a=[null];b=kk(this.$c,this.tree,b,a);return null==b?null==Se(a,0)?this:new mk(this.$c,null,0,this.meta,null):new mk(this.$c,b.de(),this.ca-1,this.meta,null)};g.ea=function(a,b,c){a=[null];var d=ik(this.$c,this.tree,b,c,a);return null==d?(a=Se(a,0),F.B(c,a.val)?this:new mk(this.$c,lk(this.$c,this.tree,b,c),this.ca,this.meta,null)):new mk(this.$c,d.de(),this.ca+1,this.meta,null)};g.ra=function(a,b){return null!=nk(this,b)};
g.ka=function(){return 0<this.ca?Zj(this.tree,!0,this.ca):null};g.ha=function(a,b){return b===this.meta?this:new mk(this.$c,this.tree,this.ca,b,this.J)};g.na=function(a,b){if(yf(b))return this.ea(null,x(b,0),x(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=H(b);if(yf(c))a=Tc(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var ok=new mk(Jf,null,0,null,Ce);mk.prototype[qc]=function(){return we(this)};
var pk=function pk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return pk.I(c)};pk.I=function(a){a=G(a);for(var b=Gd(mj);;)if(a){var c=J(a);if(null==c)throw Error(["No value supplied for key: ",t.C(H(a))].join(""));var d=J(c);b=Mg(b,H(a),H(c));a=d}else return Id(b)};pk.aa=0;pk.fa=function(a){return this.I(G(a))};
var qk=function qk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return qk.I(c)};qk.I=function(a){a=a instanceof re&&0===a.i?a.K:vc(a);if(!rh(a.length))throw Error(["No value supplied for key: ",t.C(ff(a))].join(""));return mf(a)};qk.aa=0;qk.fa=function(a){return this.I(G(a))};
function rk(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new re(b.slice(0),0,null):null;a:for(b=G(b),d=ok;;)if(b)c=J(J(b)),d=Q.D(d,H(b),bf(b)),b=c;else break a;return d}function sk(a,b){this.Oa=a;this.pd=b;this.O=32374988;this.T=0}g=sk.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.pd};g.Va=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.Bf||(this.Oa.O?0:mc(Mc,this.Oa)):mc(Mc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null==a?null:new sk(a,null)};g.ja=function(){return ze(this)};
g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){return this.Oa.nb(null).key};g.xb=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.Bf||(this.Oa.O?0:mc(Mc,this.Oa)):mc(Mc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null!=a?new sk(a,null):ue};g.ka=function(){return this};g.ha=function(a,b){return b===this.pd?this:new sk(this.Oa,b)};g.na=function(a,b){return Ye(b,this)};
sk.prototype[qc]=function(){return we(this)};function ij(a){return(a=G(a))?new sk(a,null):null}function Ki(a){return Xc(a)}function tk(a,b){this.Oa=a;this.pd=b;this.O=32374988;this.T=0}g=tk.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.ga=function(){return this.pd};g.Va=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.Bf||(this.Oa.O?0:mc(Mc,this.Oa)):mc(Mc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null==a?null:new tk(a,null)};g.ja=function(){return ze(this)};
g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){return af(b,c,this)};g.nb=function(){return this.Oa.nb(null).val};g.xb=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.Bf||(this.Oa.O?0:mc(Mc,this.Oa)):mc(Mc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null!=a?new tk(a,null):ue};g.ka=function(){return this};g.ha=function(a,b){return b===this.pd?this:new tk(this.Oa,b)};g.na=function(a,b){return Ye(b,this)};
tk.prototype[qc]=function(){return we(this)};function jj(a){return(a=G(a))?new tk(a,null):null}function Li(a){return Yc(a)}var uk=function uk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return uk.I(c)};uk.I=function(a){return r(qh(Sf,a))?w.B(function(b,c){return gf.B(r(b)?b:W,c)},a):null};uk.aa=0;uk.fa=function(a){return this.I(G(a))};
var vk=function vk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new re(c.slice(1),0,null):null;return vk.I(arguments[0],c)};vk.I=function(a,b){if(r(qh(Sf,b))){var c=function(d,e){var f=Xc(e),h=Yc(e);if(S(d,f)){e=Q.D;var k=B.B(d,f);h=a.B?a.B(k,h):a.call(null,k,h);d=e.call(Q,d,f,h)}else d=Q.D(d,f,h);return d};return w.B(function(d,e){return w.D(c,r(d)?d:W,G(e))},b)}return null};vk.aa=1;vk.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};
function wk(a,b){var c=W;for(b=G(b);;)if(b){var d=H(b),e=B.D(a,d,xk);c=Zg.B(e,xk)?Q.D(c,d,e):c;b=J(b)}else return id(c,qf(a))}function yk(a){this.iter=a}yk.prototype.Ua=function(){return this.iter.Ua()};yk.prototype.next=function(){if(this.iter.Ua())return this.iter.next().key;throw Error("No such element");};yk.prototype.remove=function(){return Error("Unsupported operation")};function zk(a,b,c){this.meta=a;this.Zd=b;this.J=c;this.O=15077647;this.T=139268}g=zk.prototype;g.toString=function(){return Zd(this)};
g.equiv=function(a){return this.da(null,a)};g.keys=function(){return we(G(this))};g.entries=function(){return new ej(G(G(this)))};g.values=function(){return we(G(this))};g.has=function(a){return S(this,a)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))zf(b)?(c=Od(b),b=Pd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=Uc(this.Zd,b);return r(a)?Xc(a):c};g.qa=function(){return new yk(Xd(this.Zd))};g.ga=function(){return this.meta};g.pa=function(){return new zk(this.meta,this.Zd,this.J)};g.la=function(){return Cc(this.Zd)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Be(this)};
g.da=function(a,b){if(a=uf(b))if(a=K(this)===K(b))try{return Rf(function(c,d){return(c=S(b,d))?c:Fe(!1)},!0,this.Zd)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.xe=function(){return new Ak(Gd(this.Zd))};g.Pa=function(){return id(Bk,this.meta)};g.rg=function(a,b){return new zk(this.meta,Wc(this.Zd,b),null)};g.ka=function(){return ij(this.Zd)};g.ha=function(a,b){return b===this.meta?this:new zk(b,this.Zd,this.J)};
g.na=function(a,b){return new zk(this.meta,Q.D(this.Zd,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var Bk=new zk(null,W,Ce);
function If(a){for(var b=a.length,c=Gd(Bk),d=0;;)if(d<b)Hd(c,a[d]),d+=1;else break;return Id(c)}zk.prototype[qc]=function(){return we(this)};function Ak(a){this.Ue=a;this.T=136;this.O=259}g=Ak.prototype;g.ye=function(a,b){this.Ue=Jd(this.Ue,b,null);return this};g.Je=function(){return new zk(null,Id(this.Ue),null)};g.la=function(){return K(this.Ue)};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return Pc(this.Ue,b,Bf)===Bf?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return Pc(this.Ue,a,Bf)===Bf?null:a};g.B=function(a,b){return Pc(this.Ue,a,Bf)===Bf?b:a};function Ck(a,b,c){this.meta=a;this.Qd=b;this.J=c;this.O=417730831;this.T=8192}g=Ck.prototype;g.toString=function(){return Zd(this)};
g.equiv=function(a){return this.da(null,a)};g.keys=function(){return we(G(this))};g.entries=function(){return new ej(G(G(this)))};g.values=function(){return we(G(this))};g.has=function(a){return S(this,a)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))zf(b)?(c=Od(b),b=Pd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=nk(this.Qd,b);return null!=a?a.key:c};g.ga=function(){return this.meta};g.pa=function(){return new Ck(this.meta,this.Qd,this.J)};g.la=function(){return K(this.Qd)};g.Zc=function(){return 0<K(this.Qd)?Ph.B(Ki,wd(this.Qd)):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Be(this)};
g.da=function(a,b){if(a=uf(b))if(a=K(this)===K(b))try{return Rf(function(c,d){return(c=S(b,d))?c:Fe(!1)},!0,this.Qd)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.Pa=function(){return new Ck(this.meta,Ec(this.Qd),0)};g.rg=function(a,b){return new Ck(this.meta,R.B(this.Qd,b),null)};g.ka=function(){return ij(this.Qd)};g.ha=function(a,b){return b===this.meta?this:new Ck(b,this.Qd,this.J)};g.na=function(a,b){return new Ck(this.meta,Q.D(this.Qd,b,null),null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};Ck.prototype[qc]=function(){return we(this)};
function Dk(a){if(uf(a))return pf(a,null);a=G(a);if(null==a)return Bk;if(a instanceof re&&0===a.i)return If(a.K);for(var b=Gd(Bk);;)if(null!=a){var c=J(a);b=Hd(b,Kc(a));a=c}else return Id(b)}function Ek(a){return function e(c,d){return new vg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=N(k,0,null);if(k=G(k))if(S(f,h))h=te(k);else{f=Ye(h,e(te(k),gf.B(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,Bk)}
function Fk(a){for(var b=hf;;)if(J(a))b=gf.B(b,H(a)),a=J(a);else return G(b)}function ug(a){if(null!=a&&(a.T&4096||l===a.lh))return a.zf(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.C(a)].join(""));}function Gk(a,b){var c=Gd(W);a=G(a);for(b=G(b);;)if(a&&b)c=Mg(c,H(a),H(b)),a=J(a),b=J(b);else return Id(c)}
var Hk=function Hk(a){switch(arguments.length){case 2:return Hk.B(arguments[0],arguments[1]);case 3:return Hk.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(3),0,null);return Hk.I(arguments[0],arguments[1],arguments[2],c)}};Hk.B=function(a,b){return b};Hk.D=function(a,b,c){return(a.C?a.C(b):a.call(null,b))>(a.C?a.C(c):a.call(null,c))?b:c};
Hk.I=function(a,b,c,d){return w.D(function(e,f){return Hk.D(a,e,f)},Hk.D(a,b,c),d)};Hk.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};Hk.aa=3;function Ik(){this.K=[]}g=Ik.prototype;g.add=function(a){return this.K.push(a)};g.size=function(){return this.K.length};g.clear=function(){return this.K=[]};g.isEmpty=function(){return 0===this.K.length};g.toArray=function(){return this.K};
function Jk(){return function(a){var b=new Ik;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=Ii(b.toArray()),b.clear(),a.B?a.B(h,k):a.call(null,h,k)):h}function d(h){if(!r(b.isEmpty())){var k=Ii(b.toArray());b.clear();h=He(a.B?a.B(h,k):a.call(null,h,k))}return a.C?a.C(h):a.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}function Kk(a,b){return new vg(null,function(){var c=G(b);if(c){var d=H(c);d=a.C?a.C(d):a.call(null,d);c=r(d)?Ye(H(c),Kk(a,te(c))):null}else c=null;return c},null,null)}function Lk(a,b,c){this.start=a;this.step=b;this.count=c;this.O=82;this.T=0}g=Lk.prototype;g.la=function(){return this.count};g.nb=function(){return this.start};g.Da=function(a,b){return this.start+b*this.step};
g.qb=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.wf=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Lk(this.start+this.step,this.step,this.count-1)};function Mk(a,b,c){this.i=a;this.end=b;this.step=c}Mk.prototype.Ua=function(){return 0<this.step?this.i<this.end:this.i>this.end};Mk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Nk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.chunk=e;this.Cd=f;this.J=h;this.O=32375006;this.T=140800}g=Nk.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();
g.Of=function(){if(null==this.chunk){var a=this.la(null);32<a?(this.Cd=new Nk(null,this.start+32*this.step,this.end,this.step,null,null,null),this.chunk=new Lk(this.start,this.step,32)):this.chunk=new Lk(this.start,this.step,a)}};g.Da=function(a,b){if(0<=b&&b<this.la(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
g.qb=function(a,b,c){return 0<=b&&b<this.la(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.qa=function(){return new Mk(this.start,this.end,this.step)};g.ga=function(){return this.meta};g.pa=function(){return new Nk(this.meta,this.start,this.end,this.step,this.chunk,this.Cd,this.J)};
g.Va=function(){return 0<this.step?this.start+this.step<this.end?new Nk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Nk(null,this.start+this.step,this.end,this.step,null,null,null):null};g.la=function(){return Math.ceil((this.end-this.start)/this.step)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Je(this,b)};
g.kb=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(Ge(c))return y(c);a+=this.step}else return c};g.nb=function(){return this.start};g.xb=function(){var a=this.Va(null);return null==a?ue:a};g.ka=function(){return this};g.$e=function(){this.Of();return this.chunk};g.ee=function(){this.Of();return null==this.Cd?ue:this.Cd};g.ha=function(a,b){return b===this.meta?this:new Nk(b,this.start,this.end,this.step,this.chunk,this.Cd,this.J)};
g.na=function(a,b){return Ye(b,this)};g.Ze=function(){return G(this.ee(null))};Nk.prototype[qc]=function(){return we(this)};function Ok(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.chunk=e;this.Cd=f;this.J=h;this.T=140800;this.O=32374988}g=Ok.prototype;g.toString=function(){return Zd(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();
g.Of=function(){if(null==this.chunk){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var b=0;for(var c=this.start;;)if(32>b){if(a[b]=c,b+=1,c+=this.step,!(0<this.step?c<this.end:c>this.end)){b=this.chunk=new yg(a,0,b);break a}}else{b=c;break a}}null==this.chunk&&(this.chunk=new yg(a,0,32),(0<this.step?b<this.end:b>this.end)&&(this.Cd=new Ok(null,b,this.end,this.step,null,null,
null)))}};g.qa=function(){return new Mk(this.start,this.end,this.step)};g.ga=function(){return this.meta};g.pa=function(){return new Ok(this.meta,this.start,this.end,this.step,this.chunk,this.Cd,this.J)};g.Va=function(){return 0<this.step?this.start+this.step<this.end?new Ok(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Ok(null,this.start+this.step,this.end,this.step,null,null,null):null};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=ze(this)};g.da=function(a,b){return Xe(this,b)};g.Pa=function(){return ue};g.jb=function(a,b){return Ze(b,this)};g.kb=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(Ge(c))return y(c);a+=this.step}else return c};g.nb=function(){return this.start};g.xb=function(){var a=this.Va(null);return null==a?ue:a};g.ka=function(){return this};g.$e=function(){this.Of();return this.chunk};
g.ee=function(){this.Of();return null==this.Cd?ue:this.Cd};g.ha=function(a,b){return b===this.meta?this:new Ok(b,this.start,this.end,this.step,this.chunk,this.Cd,this.J)};g.na=function(a,b){return Ye(b,this)};g.Ze=function(){return G(this.ee(null))};Ok.prototype[qc]=function(){return we(this)};
var Pk=function Pk(a){switch(arguments.length){case 0:return Pk.P();case 1:return Pk.C(arguments[0]);case 2:return Pk.B(arguments[0],arguments[1]);case 3:return Pk.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Pk.P=function(){return Pk.D(0,Number.MAX_VALUE,1)};Pk.C=function(a){return Pk.D(0,a,1)};Pk.B=function(a,b){return Pk.D(a,b,1)};
Pk.D=function(a,b,c){return 0<c?b<=a?ue:Gf(a)&&Gf(b)&&Gf(c)?new Nk(null,a,b,c,null,null,null):new Ok(null,a,b,c,null,null,null):0>c?b>=a?ue:Gf(a)&&Gf(b)&&Gf(c)?new Nk(null,a,b,c,null,null,null):new Ok(null,a,b,c,null,null,null):b===a?ue:Vh(a)};Pk.aa=3;function Qk(a,b){return new vg(null,function(){var c=G(b);return c?Ye(H(c),Qk(a,Rh(a,c))):null},null,null)}function Rk(a,b){return new X(null,2,5,Z,[Kk(a,b),Th(a,b)],null)}
function Sk(a,b){return new vg(null,function(){var c=G(b);if(c){var d=H(c),e=a.C?a.C(d):a.call(null,d),f=Ye(d,Kk(function(h){return F.B(e,a.C?a.C(h):a.call(null,h))},J(c)));return Ye(f,Sk(a,new vg(null,function(){return Rh(K(f),c)},null,null)))}return null},null,null)}function Tk(a){return Id(w.D(function(b,c){return Mg(b,c,B.D(b,c,0)+1)},Gd(W),a))}
function Uk(a,b){return function(){function c(m,n,p){return new X(null,2,5,Z,[a.D?a.D(m,n,p):a.call(null,m,n,p),b.D?b.D(m,n,p):b.call(null,m,n,p)],null)}function d(m,n){return new X(null,2,5,Z,[a.B?a.B(m,n):a.call(null,m,n),b.B?b.B(m,n):b.call(null,m,n)],null)}function e(m){return new X(null,2,5,Z,[a.C?a.C(m):a.call(null,m),b.C?b.C(m):b.call(null,m)],null)}function f(){return new X(null,2,5,Z,[a.P?a.P():a.call(null),b.P?b.P():b.call(null)],null)}var h=null,k=function(){function m(p,u,v,z){var C=null;
if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+3],++C;C=new re(E,0,null)}return n.call(this,p,u,v,C)}function n(p,u,v,z){return new X(null,2,5,Z,[Wg(a,p,u,v,z),Wg(b,p,u,v,z)],null)}m.aa=3;m.fa=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var z=H(p);p=te(p);return n(u,v,z,p)};m.I=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,
n,p);default:var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=arguments[v+3],++v;v=new re(z,0,null)}return k.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.fa=k.fa;h.P=f;h.C=e;h.B=d;h.D=c;h.I=k.I;return h}()}function Vk(a){a:for(var b=a;;)if(b=G(b))b=J(b);else break a;return a}
function Wk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&F.B(a[0],b)?1===a.length?a[0]:Ii(a):null;throw new TypeError("re-matches must match against a string.");}function Xk(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Ii(a);throw new TypeError("re-find must match against a string.");}
var Yk=function Yk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Ii(d);return Ye(f,new vg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=kg.B(b,h),Yk.B?Yk.B(a,h):Yk.call(null,a,h)):null},null,null))};function Zk(a,b){if("string"===typeof b)return Yk(a,b);throw new TypeError("re-seq must match against a string.");}
function $k(a){if(a instanceof RegExp)return a;var b=Xk(/^\(\?([idmsux]*)\)/,a),c=N(b,0,null);b=N(b,1,null);a=kg.B(a,null==c?0:c.length);return new RegExp(a,r(b)?b:"")}
function al(a,b,c,d,e,f,h){var k=Xb;Xb=null==Xb?null:Xb-1;try{if(null!=Xb&&0>Xb)return xd(a,"#");xd(a,c);if(0===cc.C(f))G(h)&&xd(a,function(){var z=bl.C(f);return r(z)?z:"..."}());else{if(G(h)){var m=H(h);b.D?b.D(m,a,f):b.call(null,m,a,f)}for(var n=J(h),p=cc.C(f)-1;;)if(!n||null!=p&&0===p){G(n)&&0===p&&(xd(a,d),xd(a,function(){var z=bl.C(f);return r(z)?z:"..."}()));break}else{xd(a,d);var u=H(n);c=a;h=f;b.D?b.D(u,c,h):b.call(null,u,c,h);var v=J(n);c=p-1;n=v;p=c}}return xd(a,e)}finally{Xb=k}}
function cl(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);xd(a,f);e+=1}else if(b=G(b))c=b,zf(c)?(b=Od(c),d=Pd(c),c=b,f=K(b),b=d,d=f):(f=H(c),xd(a,f),b=J(c),c=null,d=0),e=0;else return null}function dl(a){if(null==Tb)throw Error("No *print-fn* fn set for evaluation environment");Tb.call(null,a);return null}var el={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function fl(a){return['"',t.C(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return el[b]})),'"'].join("")}function gl(a,b){return(a=Ef(B.B(a,ac)))?(a=null!=b?b.O&131072||l===b.yf?!0:!1:!1)?null!=qf(b):a:a}
function hl(a,b,c){if(null==a)return xd(b,"nil");if(gl(c,a)){xd(b,"^");var d=qf(a);il.D?il.D(d,b,c):il.call(null,d,b,c);xd(b," ")}if(a.Wa)return a.Za(b);if(null!=a?a.O&2147483648||l===a.Na||(a.O?0:mc(zd,a)):mc(zd,a))return Ad(a,b,c);if(!0===a||!1===a)return xd(b,t.C(a));if("number"===typeof a)return xd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.C(a));if(null!=a&&a.constructor===Object)return xd(b,"#js "),d=Ph.B(function(f){return new Y(null!=Wk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?tg.C(f):f,a[f],null)},Ua(a)),jl.R?jl.R(d,il,b,c):jl.call(null,d,il,b,c);if(fc(a))return al(b,il,"#js ["," ","]",c,a);if("string"===typeof a)return r($b.C(c))?xd(b,fl(a)):xd(b,a);if("function"===typeof a){var e=a.name;c=r(function(){var f=null==e;return f?f:Qa(e)}())?"Function":e;return cl(b,M(["#object[",c,r(!1)?[' "',t.C(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.C(f);;)if(f.length<h)f=["0",f].join("");else return f},cl(b,M(['#inst "',c(a.getUTCFullYear(),4),
"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return cl(b,M(['#"',a.source,'"']));if(wc(a))return cl(b,M(["#object[",a.toString(),"]"]));if(r(function(){var f=null==a?null:a.constructor;return null==f?null:f.Sa}()))return cl(b,M(["#object[",a.constructor.Sa.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==
f?null:f.name}();c=r(function(){var f=null==e;return f?f:Qa(e)}())?"Object":e;return null==a.constructor?cl(b,M(["#object[",c,"]"])):cl(b,M(["#object[",c," ",t.C(a),"]"]))}function il(a,b,c){var d=kl.C(c);return r(d)?(c=Q.D(c,ll,hl),d.D?d.D(a,b,c):d.call(null,a,b,c)):hl(a,b,c)}
function ml(a,b){var c=new Ob,d=new Yd(c);a:{il(H(a),d,b);a=G(J(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.Da(null,h);xd(d," ");il(k,d,b);h+=1}else if(a=G(a))e=a,zf(e)?(a=Od(e),f=Pd(e),e=a,k=K(a),a=f,f=k):(k=H(e),xd(d," "),il(k,d,b),a=J(e),e=null,f=0),h=0;else break a}d.Wd(null);return c}function nl(a,b){return sf(a)?"":t.C(ml(a,b))}function ol(a,b){if(sf(a))return"\n";a=ml(a,b);a.append("\n");return t.C(a)}function pl(){var a=Yb();dl("\n");return B.B(a,Zb),null}
var ql=function ql(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return ql.I(c)};ql.I=function(a){return nl(a,Yb())};ql.aa=0;ql.fa=function(a){return this.I(G(a))};var rl=function rl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return rl.I(c)};rl.I=function(a){return ol(a,Yb())};rl.aa=0;rl.fa=function(a){return this.I(G(a))};
var sl=function sl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return sl.I(c)};sl.I=function(a){return nl(a,Q.D(Yb(),$b,!1))};sl.aa=0;sl.fa=function(a){return this.I(G(a))};var tl=function tl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return tl.I(c)};tl.I=function(a){return ol(a,Q.D(Yb(),$b,!1))};tl.aa=0;tl.fa=function(a){return this.I(G(a))};
function ul(a){return a instanceof A?ne.B(null,ug(a)):tg.B(null,ug(a))}function vl(a){if(r(!1)){var b=G(a),c=G(b),d=H(c);J(c);N(d,0,null);N(d,1,null);c=kf(a);for(a=null;;){d=a;b=G(b);a=H(b);var e=J(b),f=a;a=N(f,0,null);b=N(f,1,null);if(r(f))if(a instanceof D||a instanceof A)if(r(d))if(F.B(d,rg(a)))c=Q.D(c,ul(a),b),a=d,b=e;else return null;else if(d=rg(a),r(d))c=Q.D(c,ul(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Z,[d,c],null)}}else return null}
function wl(a,b,c,d,e){return al(d,function(f,h,k){var m=Xc(f);c.D?c.D(m,h,k):c.call(null,m,h,k);xd(h," ");f=Yc(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[t.C(a),"{"].join(""),", ","}",e,G(b))}function jl(a,b,c,d){var e=wf(a)?vl(a):null,f=N(e,0,null);e=N(e,1,null);return r(f)?wl(["#:",t.C(f)].join(""),e,b,c,d):wl(null,a,b,c,d)}Hh.prototype.Na=l;Hh.prototype.ia=function(a,b,c){xd(b,"#object[cljs.core.Volatile ");il(new q(null,1,[xl,this.state],null),b,c);return xd(b,"]")};oe.prototype.Na=l;
oe.prototype.ia=function(a,b,c){xd(b,"#'");return il(this.Te,b,c)};re.prototype.Na=l;re.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};vg.prototype.Na=l;vg.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};Y.prototype.Na=l;Y.prototype.ia=function(a,b,c){return al(b,il,"["," ","]",c,this)};Yj.prototype.Na=l;Yj.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};Oj.prototype.Na=l;Oj.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};
ck.prototype.Na=l;ck.prototype.ia=function(a,b,c){return al(b,il,"["," ","]",c,this)};gj.prototype.Na=l;gj.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};ye.prototype.Na=l;ye.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};Ck.prototype.Na=l;Ck.prototype.ia=function(a,b,c){return al(b,il,"#{"," ","}",c,this)};Ni.prototype.Na=l;Ni.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};pg.prototype.Na=l;
pg.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};We.prototype.Na=l;We.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};Nk.prototype.Na=l;Nk.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};Tj.prototype.Na=l;Tj.prototype.ia=function(a,b,c){return jl(this,il,b,c)};Qj.prototype.Na=l;Qj.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};Qi.prototype.Na=l;Qi.prototype.ia=function(a,b,c){return al(b,il,"["," ","]",c,this)};
mk.prototype.Na=l;mk.prototype.ia=function(a,b,c){return jl(this,il,b,c)};zk.prototype.Na=l;zk.prototype.ia=function(a,b,c){return al(b,il,"#{"," ","}",c,this)};Ag.prototype.Na=l;Ag.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};Bh.prototype.Na=l;Bh.prototype.ia=function(a,b,c){xd(b,"#object[cljs.core.Atom ");il(new q(null,1,[xl,this.state],null),b,c);return xd(b,"]")};tk.prototype.Na=l;tk.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};bk.prototype.Na=l;
bk.prototype.ia=function(a,b,c){return al(b,il,"["," ","]",c,this)};Uh.prototype.Na=l;Uh.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};X.prototype.Na=l;X.prototype.ia=function(a,b,c){return al(b,il,"["," ","]",c,this)};Xi.prototype.Na=l;Xi.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};mg.prototype.Na=l;mg.prototype.ia=function(a,b){return xd(b,"()")};Yi.prototype.Na=l;Yi.prototype.ia=function(a,b,c){return al(b,il,"#queue ["," ","]",c,G(this))};
q.prototype.Na=l;q.prototype.ia=function(a,b,c){return jl(this,il,b,c)};Ok.prototype.Na=l;Ok.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};nh.prototype.Na=l;nh.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};sk.prototype.Na=l;sk.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};jf.prototype.Na=l;jf.prototype.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};A.prototype.Dd=l;
A.prototype.rd=function(a,b){if(b instanceof A)return me(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};D.prototype.Dd=l;D.prototype.rd=function(a,b){if(b instanceof D)return qg(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};Qi.prototype.Dd=l;Qi.prototype.rd=function(a,b){if(yf(b))return Kf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};X.prototype.Dd=l;
X.prototype.rd=function(a,b){if(yf(b))return Kf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};Y.prototype.Dd=l;Y.prototype.rd=function(a,b){if(yf(b))return Kf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};ck.prototype.Dd=l;ck.prototype.rd=function(a,b){if(yf(b))return Kf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};bk.prototype.Dd=l;
bk.prototype.rd=function(a,b){if(yf(b))return Kf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};function yl(a,b){Dd(a,zl,b)}var Al=null;function Bl(a){null==Al&&(Al=Ch(0));return ne.C([t.C(a),t.C(Fh.B(Al,De))].join(""))}function Cl(a){this.f=a;this.value=null;this.O=2147516416;this.T=1}Cl.prototype.Vb=function(){r(this.f)&&(this.value=this.f.P?this.f.P():this.f.call(null),this.f=null);return this.value};Cl.prototype.qg=function(){return hc(this.f)};
Cl.prototype.ia=function(a,b,c){xd(b,"#object[cljs.core.Delay ");il(new q(null,2,[Dl,null==this.f?El:Fl,xl,this.value],null),b,c);return xd(b,"]")};function Gl(a){return a instanceof Cl?y(a):a}function Hl(a){return function(b,c){b=a.B?a.B(b,c):a.call(null,b,c);return Ge(b)?Fe(b):b}}
function Il(a){var b=Hl(a);return function(){function c(h,k){return w.D(b,h,k)}function d(h){return a.C?a.C(h):a.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}function Jl(a,b){this.hb=a;this.yg=b;this.O=2173173760;this.T=131072}g=Jl.prototype;
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Re(this,b,0);case 2:return Re(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Re(this,b,0)};a.B=function(b,c){return Re(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ue(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ue(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ue(this,c,d)};return b}();g.qa=function(){var a=gh(this.yg);return oh(this.hb,a)};g.ka=function(){var a=gh(this.yg);a=oh(this.hb,a);a=mh(a);return G(r(a)?a:ue)};g.jb=function(a,b){return Uf(this.hb,Tf(b,Sf),this.yg)};
g.kb=function(a,b,c){return Vf(this.hb,Tf(b,Sf),c,this.yg)};g.ia=function(a,b,c){return al(b,il,"("," ",")",c,this)};Jl.prototype[qc]=function(){return we(this)};function Kl(){}function Ll(a){if(null!=a&&null!=a.hk)a=a.hk(a);else{var b=Ll[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Ll._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IEncodeJS.-clj-\x3ejs",a);}return a}
function Ml(a,b){return(null!=a?l===a.gk||(a.Ae?0:mc(Kl,a)):mc(Kl,a))?Ll(a):"string"===typeof a||"number"===typeof a||a instanceof D||a instanceof A?b.C?b.C(a):b.call(null,a):ql.I(M([a]))}var Nl=function Nl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new re(c.slice(1),0,null):null;return Nl.I(arguments[0],c)};
Nl.I=function(a,b){b=Yg(b);var c=B.D(b,Ol,ug),d=function h(f){if(null==f)return null;if(null!=f?l===f.gk||(f.Ae?0:mc(Kl,f)):mc(Kl,f))return Ll(f);if(f instanceof D)return c.C?c.C(f):c.call(null,f);if(f instanceof A)return t.C(f);if(wf(f)){var k={};f=G(f);for(var m=null,n=0,p=0;;)if(p<n){var u=m.Da(null,p),v=N(u,0,null);u=N(u,1,null);v=Ml(v,d);u=h(u);k[v]=u;p+=1}else if(f=G(f))zf(f)?(n=Od(f),f=Pd(f),m=n,n=K(n)):(n=H(f),m=N(n,0,null),n=N(n,1,null),m=Ml(m,d),n=h(n),k[m]=n,f=J(f),m=null,n=0),p=0;else break;
return k}if(tf(f)){k=[];f=G(Ph.B(h,f));m=null;for(p=n=0;;)if(p<n)v=m.Da(null,p),k.push(v),p+=1;else if(f=G(f))m=f,zf(m)?(f=Od(m),p=Pd(m),m=f,n=K(f),f=p):(f=H(m),k.push(f),f=J(m),m=null,n=0),p=0;else break;return k}return f};return d(a)};Nl.aa=1;Nl.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};function Pl(){}
function Ql(a,b){if(null!=a&&null!=a.fk)a=a.fk(a,b);else{var c=Ql[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ql._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Rl(a){var b=M([Sl,!1]),c=Yg(b);c=B.B(c,Sl);var d=r(c)?tg:t;return function h(f){return(null!=f?l===f.mm||(f.Ae?0:mc(Pl,f)):mc(Pl,f))?Ql(f,Tg(qk,b)):Cf(f)?Vk(Ph.B(h,f)):Ji(f)?new Y(h(Xc(f)),h(Yc(f)),null):tf(f)?ei.D(kf(f),Ph.C(h),f):fc(f)?Id(w.D(function(k,m){return Lg.B(k,h(m))},Gd(hf),f)):nc(f)===Object?Id(w.D(function(k,m){return Mg(k,d.C?d.C(m):d.call(null,m),h(Va(f,m)))},Gd(W),Ua(f))):f}(a)}
function Tl(a){var b=Ch(W);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new re(h,0,null)}return d.call(this,f)}function d(e){var f=B.D(y(b),e,Bf);return f===Bf?(f=Tg(a,e),Fh.R(b,Q,e,f),f):f}c.aa=0;c.fa=function(e){e=G(e);return d(e)};c.I=d;return c}()}
var Xl=function Xl(a){switch(arguments.length){case 0:return Xl.P();case 1:return Xl.C(arguments[0]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Xl.P=function(){return Xl.C(1)};Xl.C=function(a){return Math.random()*a};Xl.aa=1;function Yl(a){return Math.floor(Math.random()*a)}function Zl(a,b){return Id(w.D(function(c,d){var e=a.C?a.C(d):a.call(null,d);return Mg(c,e,gf.B(B.D(c,e,hf),d))},Gd(W),b))}var $l=null;
function am(){null==$l&&($l=Ch(new q(null,3,[bm,W,cm,W,dm,W],null)));return $l}function em(a,b,c){var d=F.B(b,c);if(d)return d;d=dm.C(a);d=d.C?d.C(b):d.call(null,b);if(!(d=S(d,c))&&(d=yf(c)))if(d=yf(b))if(d=K(c)===K(b)){d=!0;for(var e=0;;)if(d&&e!==K(c))d=em(a,b.C?b.C(e):b.call(null,e),c.C?c.C(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function fm(a){var b=y(am());return $g(B.B(bm.C(b),a))}
function gm(a,b,c,d){Fh.B(a,function(){return y(b)});Fh.B(c,function(){return y(d)})}
var hm=function hm(a,b,c){var e=function(){var f=y(c);return f.C?f.C(a):f.call(null,a)}();e=r(r(e)?e.C?e.C(b):e.call(null,b):e)?!0:null;if(r(e))return e;e=function(){for(var f=fm(b);;)if(0<K(f)){var h=H(f);hm.D?hm.D(a,h,c):hm.call(null,a,h,c);f=te(f)}else return null}();if(r(e))return e;e=function(){for(var f=fm(a);;)if(0<K(f)){var h=H(f);hm.D?hm.D(h,b,c):hm.call(null,h,b,c);f=te(f)}else return null}();return r(e)?e:!1};function im(a,b,c,d){c=hm(a,b,c);return r(c)?c:em(d,a,b)}
var jm=function jm(a,b,c,d,e,f,h,k){var n=w.D(function(u,v){var z=N(v,0,null);N(v,1,null);if(em(y(c),b,z)){u=null==u||im(z,H(u),e,y(c))?v:u;if(!im(H(u),z,e,y(c)))throw Error(["Multiple methods in multimethod '",t.C(a),"' match dispatch value: ",t.C(b)," -\x3e ",t.C(z)," and ",t.C(H(u)),", and neither is preferred"].join(""));return u}return u},null,y(d)),p=function(){var u;if(u=null==n)u=y(d),u=u.C?u.C(k):u.call(null,k);return r(u)?new X(null,2,5,Z,[k,u],null):n}();if(r(p)){if(F.B(y(h),y(c)))return Fh.R(f,
Q,b,bf(p)),bf(p);gm(f,d,h,c);return jm.Xb?jm.Xb(a,b,c,d,e,f,h,k):jm.call(null,a,b,c,d,e,f,h,k)}return null};function km(a,b,c){if(null!=a&&null!=a.mb)a.mb(a,b,c);else{var d=km[ha(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=km._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("IMultiFn.-add-method",a);}}function lm(a,b){throw Error(["No method in multimethod '",t.C(a),"' for dispatch value: ",t.C(b)].join(""));}
function mm(a,b,c,d,e,f,h){var k=nm;this.name=a;this.Aa=b;this.Bk=k;this.Gg=c;this.Ng=d;this.Ml=e;this.Mg=f;this.mg=h;this.O=4194305;this.T=4352}g=mm.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Wb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.wc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.nc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.oc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.pc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.qc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.rc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.sc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.tc(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.uc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.vc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.xf(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.P=function(){var a=this.Aa.P?this.Aa.P():this.Aa.call(null),b=om(this,a);r(b)||lm(this.name,a);return b.P?b.P():b.call(null)};g.C=function(a){var b=this.Aa.C?this.Aa.C(a):this.Aa.call(null,a),c=om(this,b);r(c)||lm(this.name,b);return c.C?c.C(a):c.call(null,a)};
g.B=function(a,b){var c=this.Aa.B?this.Aa.B(a,b):this.Aa.call(null,a,b),d=om(this,c);r(d)||lm(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.Aa.D?this.Aa.D(a,b,c):this.Aa.call(null,a,b,c),e=om(this,d);r(e)||lm(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.R=function(a,b,c,d){var e=this.Aa.R?this.Aa.R(a,b,c,d):this.Aa.call(null,a,b,c,d),f=om(this,e);r(f)||lm(this.name,e);return f.R?f.R(a,b,c,d):f.call(null,a,b,c,d)};
g.ma=function(a,b,c,d,e){var f=this.Aa.ma?this.Aa.ma(a,b,c,d,e):this.Aa.call(null,a,b,c,d,e),h=om(this,f);r(h)||lm(this.name,f);return h.ma?h.ma(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){var h=this.Aa.Ra?this.Aa.Ra(a,b,c,d,e,f):this.Aa.call(null,a,b,c,d,e,f),k=om(this,h);r(k)||lm(this.name,h);return k.Ra?k.Ra(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Wb=function(a,b,c,d,e,f,h){var k=this.Aa.Wb?this.Aa.Wb(a,b,c,d,e,f,h):this.Aa.call(null,a,b,c,d,e,f,h),m=om(this,k);r(m)||lm(this.name,k);return m.Wb?m.Wb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.Xb=function(a,b,c,d,e,f,h,k){var m=this.Aa.Xb?this.Aa.Xb(a,b,c,d,e,f,h,k):this.Aa.call(null,a,b,c,d,e,f,h,k),n=om(this,m);r(n)||lm(this.name,m);return n.Xb?n.Xb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.wc=function(a,b,c,d,e,f,h,k,m){var n=this.Aa.wc?this.Aa.wc(a,b,c,d,e,f,h,k,m):this.Aa.call(null,a,b,c,d,e,f,h,k,m),p=om(this,n);r(p)||lm(this.name,n);return p.wc?p.wc(a,b,c,d,e,f,h,k,m):p.call(null,a,b,c,d,e,f,h,k,m)};g.lc=function(a,b,c,d,e,f,h,k,m,n){var p=this.Aa.lc?this.Aa.lc(a,b,c,d,e,f,h,k,m,n):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n),u=om(this,p);r(u)||lm(this.name,p);return u.lc?u.lc(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.mc=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.Aa.mc?this.Aa.mc(a,b,c,d,e,f,h,k,m,n,p):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p),v=om(this,u);r(v)||lm(this.name,u);return v.mc?v.mc(a,b,c,d,e,f,h,k,m,n,p):v.call(null,a,b,c,d,e,f,h,k,m,n,p)};g.nc=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.Aa.nc?this.Aa.nc(a,b,c,d,e,f,h,k,m,n,p,u):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u),z=om(this,v);r(z)||lm(this.name,v);return z.nc?z.nc(a,b,c,d,e,f,h,k,m,n,p,u):z.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};
g.oc=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var z=this.Aa.oc?this.Aa.oc(a,b,c,d,e,f,h,k,m,n,p,u,v):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v),C=om(this,z);r(C)||lm(this.name,z);return C.oc?C.oc(a,b,c,d,e,f,h,k,m,n,p,u,v):C.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.pc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z){var C=this.Aa.pc?this.Aa.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z),E=om(this,C);r(E)||lm(this.name,C);return E.pc?E.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):E.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z)};
g.qc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){var E=this.Aa.qc?this.Aa.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C),I=om(this,E);r(I)||lm(this.name,E);return I.qc?I.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C)};
g.rc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E){var I=this.Aa.rc?this.Aa.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E),O=om(this,I);r(O)||lm(this.name,I);return O.rc?O.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E)};
g.sc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I){var O=this.Aa.sc?this.Aa.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I),P=om(this,O);r(P)||lm(this.name,O);return P.sc?P.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):P.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I)};
g.tc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O){var P=this.Aa.tc?this.Aa.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O),T=om(this,P);r(T)||lm(this.name,P);return T.tc?T.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O):T.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O)};
g.uc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P){var T=this.Aa.uc?this.Aa.uc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P),aa=om(this,T);r(aa)||lm(this.name,T);return aa.uc?aa.uc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P)};
g.vc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T){var aa=this.Aa.vc?this.Aa.vc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T),ea=om(this,aa);r(ea)||lm(this.name,aa);return ea.vc?ea.vc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T)};
g.xf=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa){var ea=Xg(this.Aa,a,b,c,d,M([e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa])),va=om(this,ea);r(va)||lm(this.name,ea);return Xg(va,a,b,c,d,M([e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa]))};g.mb=function(a,b,c){Fh.R(this.Ng,Q,b,c);gm(this.Mg,this.Ng,this.mg,this.Gg);return this};function om(a,b){F.B(y(a.mg),y(a.Gg))||gm(a.Mg,a.Ng,a.mg,a.Gg);var c=y(a.Mg);c=c.C?c.C(b):c.call(null,b);return r(c)?c:jm(a.name,b,a.Gg,a.Ng,a.Ml,a.Mg,a.mg,a.Bk)}g.zf=function(){return Qd(this.name)};
g.Af=function(){return Rd(this.name)};g.ja=function(){return ka(this)};function pm(a,b){this.Rd=a;this.J=b;this.O=2153775104;this.T=2048}g=pm.prototype;g.Ki=l;g.toString=function(){return this.Rd};g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return(a=null!=b?l===b.Ki?!0:!1:!1)?this.Rd===b.Rd:a};g.ia=function(a,b){return xd(b,['#uuid "',t.C(this.Rd),'"'].join(""))};g.ja=function(){null==this.J&&(this.J=je(this.Rd));return this.J};
g.rd=function(a,b){if(b instanceof pm)return eb(this.Rd,b.Rd);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};
function qm(){function a(){return Yl(16).toString(16)}var b=(8|3&Yl(16)).toString(16);return new pm([t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-4",t.C(a()),t.C(a()),t.C(a()),"-",t.C(b),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a())].join("").toLowerCase(),null)}
function rm(a,b,c){var d=Error(a);this.message=a;this.data=b;this.cause=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}rm.prototype.__proto__=Error.prototype;rm.prototype.Na=l;
rm.prototype.ia=function(a,b,c){xd(b,"#error {:message ");il(this.message,b,c);r(this.data)&&(xd(b,", :data "),il(this.data,b,c));r(this.cause)&&(xd(b,", :cause "),il(this.cause,b,c));return xd(b,"}")};rm.prototype.toString=function(){return Zd(this)};function sm(a,b){return new rm(a,b,null)}
function tm(){r(sc)||(sc=function(){for(var a=Mf(function(e,f){return f.length-e.length},Ua(rc)),b="";;)if(G(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.C(H(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return sc}
function um(a){var b=t.C(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(tm(),"g");b=r(Pa(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(r(f))f=N(f,0,null),d=[d,t.C(b.substring(e,c.lastIndex-f.length)),t.C("$"===f?"/":Va(rc,f))].join(""),e=c.lastIndex;else{c=[d,t.C(b.substring(e,b.length))].join("");break a}}}a=a instanceof A?ne:t;return a.C?a.C(c):a.call(null,c)}"undefined"!==typeof console&&dc();dc();var vm=new D(null,"components","components",-1073188942),wm=new D(null,"data-error","data-error",-1058016301),xm=new D("chsk","error","chsk/error",-984175439),ym=new D(null,"level","level",1290497552),zm=new D("db","current-tx","db/current-tx",1600722132),Am=new D(null,"?err_","?err_",789480858),Bm=new D(null,"on-change","on-change",-732046149),Cm=new A(null,"datascript.db","datascript.db",-444456104,null),Dm=new D(null,"size","size",1098693007),Em=new D(null,"button.cursor-default","button.cursor-default",
746942819),Fm=new D(null,"line","line",212345235),Gm=new D("db","unique","db/unique",329396388),Hm=new D("db","isComponent","db/isComponent",423352398),Im=new D("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002),Jm=new A(null,"ns*","ns*",1840949383,null),Km=new D(null,"left","left",-399115937),Lm=new D(null,"lp-timeout","lp-timeout",1149461302),Mm=new D(null,"start-block-t","start-block-t",-373430594),Nm=new D(null,"limit","limit",-1355822363),Om=new D(null,"per-line-prefix",
"per-line-prefix",846941813),Pm=new D(null,"form-str","form-str",871608859),Qm=new D("datascript.db","value-tempids","datascript.db/value-tempids",244806162),Rm=new D(null,"string","string",-1989541586),Sm=new D(null,"avet","avet",1383857032),Tm=new D(null,"data","data",-232669377),Um=new D(null,"factor","factor",-2103172748),Vm=new A(null,"identity","identity",-1007039734,null),Wm=new A(null,"max","max",1701898075,null),Xm=new D("cljs.spec.alpha","amp","cljs.spec.alpha/amp",831147508),Ym=new D(null,
"mapBuilder","mapBuilder",-278083754),Zm=new D(null,"done-nl","done-nl",-381024340),$m=new D(null,"handlers","handlers",79528781),an=new D(null,"private","private",-558947994),bn=new D(null,"?status","?status",938730360),cn=new D("cljs.spec.alpha","alt","cljs.spec.alpha/alt",523685437),Dl=new D(null,"status","status",-1997798413),dn=new D(null,"version","version",425292698),en=new D(null,"days","days",-1394072564),fn=new A(null,"identical?","identical?",-745864205,null),gn=new A("cljs.core","deref",
"cljs.core/deref",1901963335,null),hn=new D("transact","cas","transact/cas",816687170),jn=new D("cljs.spec.alpha","nil","cljs.spec.alpha/nil",1733813950),kn=new D("db.fn","cas","db.fn/cas",-379352172),ln=new D("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),mn=new D("chsk","timeout","chsk/timeout",-319776489),on=new D(null,"mandatory","mandatory",542802336),pn=new D(null,"udt","udt",2011712751),qn=new D(null,"end-column","end-column",1425389514),rn=new D(null,"getInitialState",
"getInitialState",1541760916),sn=new A(null,"list","list",-1889078086,null),tn=new D(null,"base-args","base-args",-1268706822),un=new D(null,"return-map","return-map",1620104901),xk=new D("cljs.core","not-found","cljs.core/not-found",-1572889185),vn=new D(null,"vargs_","vargs_",552132148),wn=new A(null,"compare","compare",1109853757,null),xn=new D(null,"server","server",1499190120),yn=new D(null,"def","def",-1043430536),zn=new D(null,"prefer-buffers","prefer-buffers",377042081),An=new D(null,"visitor",
"visitor",-1026865865),Bn=new A(null,"stddev","stddev",775056588,null),Cn=new A("cljs.core","string?","cljs.core/string?",-2072921719,null),Dn=new D("db","tupleAttrs","db/tupleAttrs",250080092),En=new D(null,"clean?","clean?",-1675631009),Fn=new D(null,"tx-meta","tx-meta",1159283194),Gn=new D("debug","timeout","debug/timeout",309499949),Hn=new D("schema","validation","schema/validation",1178447161),In=new D(null,"right-margin","right-margin",-810413306),Jn=new D(null,"div.flex.border.border-transparent.hover:border-gray-100",
"div.flex.border.border-transparent.hover:border-gray-100",-328254749),Kn=new D(null,"wrong-id-type","wrong-id-type",-1213601689),Ln=new D(null,"exponentchar","exponentchar",1986664222),Mn=new A("clojure.string","includes?","clojure.string/includes?",-1842146260,null),Nn=new D("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),On=new D(null,"uid","uid",-1447769400),Pn=new D(null,"directive","directive",793559132),Qn=new D(null,"multival?","multival?",1072388383),Rn=new D(null,"qname",
"qname",-1983612179),Sn=new D(null,"where","where",-2044795965),Tn=new D("reitit.core","path-conflicting","reitit.core/path-conflicting",617644429),Un=new D("cljs.spec.alpha","name","cljs.spec.alpha/name",205233570),Vn=new A(null,"min","min",2085523049,null),Wn=new D(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),Xn=new D("widget.table","width","widget.table/width",-305247953),Yn=new D(null,"noop","noop",-673731258),Zn=new D(null,"trailing-white-space","trailing-white-space",1496006996),
$n=new D(null,"div","div",1057191632),ao=new D(null,"handshake-data","handshake-data",-278378864),bo=new A(null,"$","$",-1580747756,null),co=new D("query","binding","query/binding",698240489),eo=new D(null,"right-params","right-params",-1790676237),fo=new A(null,"let*","let*",1920721458,null),go=new D(null,"width","width",-384071477),ho=new A(null,"limit","limit",284709164,null),io=new D("widget","children","widget/children",485181574),jo=new D("db.fn","retractEntity","db.fn/retractEntity",-1423535441),
ko=new D(null,"component-will-unmount","component-will-unmount",-2058314698),lo=new A(null,"when-first","when-first",821699168,null),mo=new D(null,"ns-blacklist","ns-blacklist",1957763142),no=new D(null,"format","format",-1306924766),oo=new D(null,"onmessage-fn","onmessage-fn",1633804172),po=new D(null,"?error","?error",1070752222),qo=new D(null,"href","href",-793805698),ro=new D("reitit.core","router","reitit.core/router",1293076450),so=new A(null,"variance","variance",-1522424942,null),to=new D(null,
"type","type",1174270348),uo=new D(null,"none","none",1333468478),vo=new A(null,"_","_",-1201019570,null),wo=new D(null,"style","style",-496642736),xo=new D(null,"reader-error","reader-error",1610253121),yo=new A(null,"v","v",1661996586,null),zo=new A(null,"m","m",-1021758608,null),Ao=new A(null,"k","k",-505765866,null),Bo=new D(null,"component?","component?",407783990),Co=new D(null,"code","code",1586293142),Do=new D(null,"keys","keys",1068423698),Eo=new D(null,"deny","deny",1589338523),Fo=new D("literate",
"widget","literate/widget",-1743430817),Go=new A(null,"println-str","println-str",-2049216703,null),Ho=new A("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),Io=new D(null,"wilds","wilds",132271223),Jo=new A(null,"quot","quot",-1125214196,null),Ko=new D(null,"div.flex.flex-col.text-sm","div.flex.flex-col.text-sm",1494228164),Lo=new D(null,"colinc","colinc",-584873385),Mo=new D(null,"auto","auto",-566279492),No=new D(null,"logical-block","logical-block",-581022564),Oo=new D(null,
"your-version","your-version",-351781765),Po=new D(null,"col","col",-1959363084),Qo=new A(null,"or","or",1876275696,null),Ro=new D(null,"?ns-str","?ns-str",2012733966),So=new D("db","fn","db/fn",-1175261470),To=new D("entity-id","syntax","entity-id/syntax",1921317045),Uo=new D(null,"current","current",-1088038603),Vo=new D(null,"writing","writing",-1486865108),Wo=new D(null,"ch-recv","ch-recv",-990916861),Xo=new D(null,"suppress-namespaces","suppress-namespaces",2130686956),Yo=new D(null,"uri-str",
"uri-str",304128675),ap=new D("reitit.impl","merge-data","reitit.impl/merge-data",-588218417),bp=new D(null,"parent","parent",-878878779),cp=new D(null,"instance-handle_","instance-handle_",-1923384457),dp=new D("query","where","query/where",-1935159429),ep=new A(null,"missing?","missing?",-1710383910,null),fp=new D(null,"seen","seen",-518999789),gp=new A("cljs.core","map?","cljs.core/map?",-1390345523,null),hp=new A(null,"\x26","\x26",-2144855648,null),ip=new D(null,"internal","internal",-854870097),
jp=new D(null,"reagentRender","reagentRender",-358306383),kp=new D(null,"right-bracket","right-bracket",951856080),lp=new D(null,"req-id","req-id",-471642231),mp=new D("geoplot.feature","wkt","geoplot.feature/wkt",-1055973148),np=new D("chsk","state","chsk/state",-1991397620),op=new D(null,"iso8601","iso8601",609352650),pp=new D("db","id","db/id",-1388397098),qp=new D(null,"vars","vars",-2046957217),rp=new D(null,"operation","operation",-1267664310),nm=new D(null,"default","default",-1987822328),
sp=new D(null,"div.flex.flex-col.p-1","div.flex.flex-col.p-1",74784419),tp=new D(null,"secs","secs",1532330091),up=new A("clojure.core","deref","clojure.core/deref",188719157,null),vp=new D(null,"coercion","coercion",904067157),wp=new D(null,"first-attr","first-attr",-1993039831),xp=new D(null,"array-builder","array-builder",1275998041),yp=new D(null,"*","*",-1294732318),zp=new D(null,"json","json",1279968570),Ap=new D("db","retractEntity","db/retractEntity",-1452737935),Bp=new D(null,"no-op","no-op",
-93046065),Cp=new A(null,"zero?","zero?",325758897,null),Dp=new D(null,"reader-exception","reader-exception",-1938323098),Ep=new A(null,"-","-",-471816912,null),Fp=new D(null,"req-un","req-un",1074571008),Gp=new D(null,"forms","forms",2045992350),Hp=new D(null,"cur","cur",1153190599),Ip=new D(null,"branches","branches",-1240337268),Jp=new A(null,"def","def",597100991,null),Kp=new A(null,"dec","dec",-766002333,null),Lp=new D(null,"div.h-screen.flex.flex-col","div.h-screen.flex.flex-col",-892501672),
Sl=new D(null,"keywordize-keys","keywordize-keys",1310784252),Mp=new D("widget","type","widget/type",-1894308144),Np=new D(null,"pos","pos",-864607220),Op=new D("cljs.spec.alpha","v","cljs.spec.alpha/v",552625740),Pp=new D("transact","upsert","transact/upsert",412688078),Qp=new D("cljs.spec.alpha","k","cljs.spec.alpha/k",-1602615178),Rp=new D(null,"output-fn","output-fn",1600951539),Sp=new D(null,"elements","elements",657646735),Tp=new D(null,"total","total",1916810418),Up=new D(null,"?content","?content",
1697782054),Vp=new D(null,"form","form",-1624062471),Wp=new A(null,"%","%",-950237169,null),Xp=new D(null,"pretty-writer","pretty-writer",-1222834267),Yp=new A(null,"..","..",-300507420,null),Zp=new D(null,"length-computable?","length-computable?",1915473276),$p=new A(null,"not\x3d","not\x3d",1466536204,null),aq=new D(null,"validator","validator",-1966190681),bq=new D(null,"pretty","pretty",-1916372486),cq=new D(null,"unnamespaced-id","unnamespaced-id",1976189772),dq=new A(null,"range","range",-1014743483,
null),eq=new D("widget.geoplot","features","widget.geoplot/features",-1949420440),fq=new A("clojure.string","blank?","clojure.string/blank?",1772874244,null),gq=new D(null,"fragment","fragment",826775688),hq=new D("cljs.spec.alpha","invalid","cljs.spec.alpha/invalid",-1220295119),iq=new D("cljs.spec.alpha","pcat","cljs.spec.alpha/pcat",26406623),jq=new D("widget.geoplot","center-wsg84?","widget.geoplot/center-wsg84?",-752220489),kq=new D(null,"error-handler","error-handler",-484945776),lq=new D(null,
"progress-fn","progress-fn",-1146547855),mq=new D(null,"client-id","client-id",-464622140),nq=new D("parser","with","parser/with",-386255821),oq=new D(null,"ns-str","ns-str",-2062616499),pq=new A(null,"uuid","uuid",-504564192,null),qq=new D(null,"udt-last-comms_","udt-last-comms_",-145799639),rq=new D(null,"entity-id","entity-id",1485898093),sq=new A(null,"queue","queue",-1198599890,null),tq=new D(null,"else","else",-1508377146),uq=new A(null,"case*","case*",-1938255072,null),vq=new D(null,"params",
"params",710516235),wq=new D(null,"tuples","tuples",-676032639),xq=new D("db","cardinality","db/cardinality",-104975659),yq=new A(null,"struct-map","struct-map",-1387540878,null),zq=new D(null,"rest","rest",-1241696419),Aq=new D(null,"var","var",-769682797),Bq=new D(null,"commachar","commachar",652859327),Cq=new D(null,"error-level?","error-level?",778415885),Dq=new D(null,"ring-req","ring-req",-747861961),Eq=new D(null,"loaded","loaded",-1246482293),Fq=new A(null,"re-find","re-find",1143444147,null),
xl=new D(null,"val","val",128701612),Gq=new A("cljs.core","zipmap","cljs.core/zipmap",-1902130674,null),Hq=new D(null,"button","button",1456579943),Iq=new D(null,"path-params","path-params",-48130597),Jq=new D(null,"thaw-kw","thaw-kw",1076733097),Kq=new D(null,"trace-evs?","trace-evs?",1502453512),Lq=new A(null,"catch","catch",-1616370245,null),Mq=new D("cljs.spec.alpha","kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Nq=new D(null,"kind","kind",-717265803),Oq=new D(null,"validate","validate",
-201300827),Pq=new D(null,"method","method",55703592),Qq=new D(null,"val-type","val-type",-279850094),Rq=new D("db.fn","call","db.fn/call",-151594418),Sq=new D(null,"stroke-width","stroke-width",716836435),Tq=new D(null,"years","years",-1298579689),Uq=new D(null,"prefer-strings","prefer-strings",1254507185),Vq=new D(null,"constructor","constructor",-1953928811),Wq=new D("cljs.spec.alpha","accept","cljs.spec.alpha/accept",370988198),Xq=new D("widget.table","height","widget.table/height",802045018),
Yq=new D("v1","unwrapped","v1/unwrapped",-1881590983),Zq=new D(null,"path-conflicts","path-conflicts",-1238675313),$q=new D(null,"preferBuffers","preferBuffers",1843176451),ar=new D("widget.type","column","widget.type/column",-1297718293),br=new D(null,"hostname_","hostname_",-2091647379),cr=new D("db","cas","db/cas",-451542322),dr=new A(null,"\x3e","\x3e",1085014381,null),er=new D(null,"?msg-fmt","?msg-fmt",-852453891),fr=new D(null,"sections","sections",-886710106),gr=new D(null,"lines","lines",
-700165781),hr=new A(null,"do","do",1686842252,null),ir=new D(null,"colon","colon",-965200945),jr=new D("literate","widgets","literate/widgets",1235755088),kr=new D(null,"color","color",1011675173),lr=new D(null,"edn","edn",1317840885),mr=new D(null,"keys-pred","keys-pred",858984739),nr=new D(null,"minpad","minpad",323570901),or=new D(null,"p.text-2xl","p.text-2xl",1387268759),sr=new D(null,"svg.w-6.h-6","svg.w-6.h-6",-1347042122),tr=new A("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,
null),ur=new A(null,"db","db",-1661185010,null),vr=new D(null,"println","println",1920840330),wr=new A(null,"aggregate","aggregate",-1142967327,null),xr=new A(null,"try","try",-1273693247,null),yr=new D(null,"location","location",1815599388),zr=new D(null,"div.flex.flex-col.flex-1.space-y-2","div.flex.flex-col.flex-1.space-y-2",1209242693),Ar=new A(null,"array-map","array-map",1555038968,null),Br=new D(null,"on-coercion-error","on-coercion-error",-970787),Cr=new A(null,"let","let",358118826,null),
Zb=new D(null,"flush-on-newline","flush-on-newline",-151457939),Dr=new D("widget.codemirror","value","widget.codemirror/value",1562181971),Er=new A(null,"meta","meta",-1154898805,null),Fr=new D(null,"rels","rels",1770187185),Gr=new D("widget.type","table","widget.type/table",-1467162840),Hr=new D(null,"timestamp-opts","timestamp-opts",-1359534807),Ir=new D(null,"pred-exprs","pred-exprs",1792271395),Jr=new A(null,"if","if",1181717262,null),Kr=new A(null,"get-some","get-some",409442058,null),Lr=new D(null,
"binding","binding",539932593),Mr=new D(null,"xform","xform",-1725711008),Nr=new A(null,"hash-map","hash-map",-439030950,null),Or=new D(null,"min-count","min-count",1594709013),Pr=new A(null,"quote","quote",1377916282,null),Qr=new D(null,"hierarchy","hierarchy",-1053470341),Rr=new D(null,"catch-all","catch-all",1184112570),Sr=new D(null,"trace","trace",-1082747415),Tr=new D("rl","reset","rl/reset",-800926172),Ur=new A("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null),Vr=
new A(null,"fn","fn",465265323,null),Wr=new D(null,"hashchange-listener","hashchange-listener",-1234988801),Xr=new D(null,"strable","strable",1877668047),Yr=new D(null,"contextType","contextType",1033066077),Zr=new D(null,"symbol","symbol",-1038572696),$r=new D("db.pull","wildcard","db.pull/wildcard",116316031),as=new A(null,"lift-ns","lift-ns",602311926,null),bs=new D(null,"acc","acc",838566312),cs=new D(null,"reverse-attrs","reverse-attrs",630097702),ds=new D(null,"middleware","middleware",1462115504),
es=new D(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),fs=new D(null,"value","value",305978217),gs=new D(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),hs=new D(null,"sources","sources",-321166424),is=new D(null,"display-name","display-name",694513143),js=new D(null,"enabled?","enabled?",-1376075057),ks=new A(null,"ns","ns",2082130287,null),ls=new D(null,"req","req",-326448303),ms=new D(null,"ret","ret",-468222814),ns=new D(null,"both","both",-393648840),os=new D(null,"result",
"result",1415092211),ps=new D("v1","wrapped","v1/wrapped",1775176340),qs=new D(null,"vector","vector",1902966158),rs=new D(null,"end","end",-268185958),ss=new D(null,"className","className",-1983287057),ts=new D(null,"buffer-blob","buffer-blob",-1830112173),us=new D(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),vs=new A("clojure.core","unquote","clojure.core/unquote",843087510,null),ws=new D(null,"pull-patterns","pull-patterns",-343695048),xs=new D(null,"flags","flags",1775418075),
ys=new D(null,"parse-tag","parse-tag",1427313738),zs=new D(null,"eof","eof",-489063237),As=new D(null,"ws-kalive-ms","ws-kalive-ms",1442179968),Bs=new A(null,"-differ?","-differ?",1465687357,null),Cs=new A(null,"js","js",-886355190,null),Ds=new D(null,"relative-to","relative-to",-470100051),Es=new A(null,"doseq","doseq",221164135,null),Fs=new D("widget","parent","widget/parent",-1665940103),Gs=new A("cljs.core","list?","cljs.core/list?",-684796618,null),Hs=new D(null,"max-eid","max-eid",2134868075),
Is=new D(null,"stroke","stroke",1741823555),Js=new D(null,"X-CSRF-Token","X-CSRF-Token",1562992453),Ks=new D(null,"used-args","used-args",23596256),Ls=new D(null,"symbols","symbols",1211743),Ms=new D(null,"attr","attr",-604132353),Ns=new D(null,"doc","doc",1913296891),Os=new D("chsk","bad-package","chsk/bad-package",501893679),Ps=new D(null,"cbs-waiting_","cbs-waiting_",-1519029061),Qs=new D(null,"hash_","hash_",-827203612),Rs=new D("db.cardinality","one","db.cardinality/one",1428352190),Ss=new D("widget.table",
"rows","widget.table/rows",696089204),Ts=new D("parser","query","parser/query",1877320671),Us=new D(null,"?file","?file",1533429675),Vs=new D(null,"added","added",2057651688),Ws=new D("widget.codemirror","lineNumbers","widget.codemirror/lineNumbers",399725207),Xs=new D(null,"qin","qin",1372651151),Ys=new A(null,"\x3c","\x3c",993667236,null),Zs=new D(null,"map","map",1371690461),$s=new D(null,"open?","open?",1238443125),at=new D(null,"body","body",-2049205669),bt=new D("parser","pull","parser/pull",
-2147427204),ct=new D(null,"mode","mode",654403691),dt=new D(null,"replace","replace",-786587770),et=new D(null,"max","max",61366548),ft=new D(null,"pending-guards","pending-guards",-1255527308),gt=new D(null,"url","url",276297046),ht=new A(null,"get","get",-971253014,null),it=new D(null,"qwhere","qwhere",-1645067378),jt=new D(null,"count","count",2139924085),kt=new D(null,"clauses","clauses",1454841241),lt=new D(null,"conflicts","conflicts",-1219561816),mt=new A(null,"empty?","empty?",76408555,null),
nt=new A(null,"re-matches","re-matches",-1865705768,null),ot=new D(null,"ever-opened?_","ever-opened?_",1641338913),pt=new D(null,"miser-width","miser-width",-1310049437),qt=new D(null,"expand","expand",595248157),rt=new A(null,"binding","binding",-2114503176,null),st=new A(null,"ground","ground",-1460862835,null),tt=new D(null,"use-fragment","use-fragment",-1617737154),ut=new D(null,"packer","packer",66077544),vt=new D("db.unique","identity","db.unique/identity",1675950722),wt=new D("transact","unique",
"transact/unique",-940992320),xt=new D(null,"splice","splice",449588165),yt=new D(null,"dispatch","dispatch",1319337009),zt=new D("v2","unwrapped","v2/unwrapped",-1881590982),At=new A(null,"inst","inst",-2008473268,null),Bt=new D("widget.vega-embed","spec","widget.vega-embed/spec",-1913225774),Ct=new A(null,"sample","sample",1719555128,null),Dt=new D(null,"max-tx","max-tx",1119558339),Et=new D("lookup-ref","syntax","lookup-ref/syntax",-317304012),Ft=new D(null,"?meta","?meta",-793560773),Gt=new D(null,
"name","name",1843675177),Ht=new D(null,"syms","syms",-1575891762),It=new D("db.type","ref","db.type/ref",-1728373079),Jt=new A(null,"schema","schema",58529736,null),Kt=new A(null,"loop","loop",1244978678,null),Lt=new D(null,"appender","appender",1267426510),Mt=new D(null,"nav.h-14.flex.justify-end.items-center.px-10.py-2","nav.h-14.flex.justify-end.items-center.px-10.py-2",1067080416),Nt=new D(null,"parameter-from-args","parameter-from-args",-758446196),Ot=new D(null,"stroke-linejoin","stroke-linejoin",
-1810816406),Pt=new D(null,"on-mouse-over","on-mouse-over",-858472552),Qt=new D(null,"chsk-url-fn","chsk-url-fn",1968894294),Rt=new D(null,"raw-resp","raw-resp",-1924342506),St=new D(null,"section","section",-300141526),Tt=new D(null,"bracket-info","bracket-info",-1600092774),Ut=new A(null,"Inf","Inf",647172781,null),Vt=new A("cljs.core","map","cljs.core/map",-338988913,null),bc=new D(null,"dup","dup",556298533),Wt=new D(null,"prefix-context","prefix-context",-1269613591),Xt=new D(null,"init-db",
"init-db",1595181278),Yt=new D("ajax","resp-as-text","ajax/resp-as-text",141416819),Zt=new D(null,"socket_","socket_",-361048908),$t=new D("cljs.spec.alpha","rep","cljs.spec.alpha/rep",1483217317),au=new D(null,"suffix","suffix",367373057),bu=new D("reitit.trie","trie-compiler","reitit.trie/trie-compiler",2125029755),cu=new D(null,"qwith","qwith",-45809392),du=new A(null,"defn-","defn-",1097765044,null),eu=new D(null,"div.flex.hover:bg-teal-50","div.flex.hover:bg-teal-50",84339423),fu=new D(null,
"div.p-2","div.p-2",-325121057),gu=new D(null,"required","required",1807647006),hu=new D(null,"priority","priority",1431093715),iu=new D(null,"buffer","buffer",617295198),ju=new D(null,"inherit","inherit",-1840815422),ku=new D(null,"msg_","msg_",-1925147E3),lu=new D("db.pull","attr","db.pull/attr",-533298746),mu=new D(null,"opt-keys","opt-keys",1262688261),uu=new A(null,"when-not","when-not",-1223136340,null),wu=new D(null,"component-did-mount","component-did-mount",-1126910518),xu=new D(null,"top-displace",
"top-displace",-2094589019),yu=new D(null,"path-parts","path-parts",945822894),zu=new D(null,"?content-type","?content-type",-2129759049),Au=new D(null,"post","post",269697687),Bu=new D(null,"simple-auto-threading?","simple-auto-threading?",1950754184),Cu=new D("db","valueType","db/valueType",1827971944),Du=new D("db","ident","db/ident",-737096),Eu=new D(null,"min","min",444991522),Fu=new D("literate","!transact","literate/!transact",758397308),Gu=new A(null,"re-pattern","re-pattern",1047705161,null),
Hu=new D(null,"conflicting","conflicting",2003828416),Iu=new D(null,"column","column",2078222095),Ju=new D(null,"thaw-fn","thaw-fn",-240544261),Ku=new D(null,"div.flex.flex-col.items-start.container.mx-auto.py-2.space-y-3","div.flex.flex-col.items-start.container.mx-auto.py-2.space-y-3",-415679671),Lu=new D(null,"recursion-limit","recursion-limit",52345639),Mu=new D(null,"up-arrow","up-arrow",1705310333),Nu=new A(null,"contains?","contains?",-1676812576,null),Ou=new D(null,"?ratio","?ratio",-1275760831),
Pu=new A(null,"true?","true?",-1600332395,null),Qu=new D(null,"bracket","bracket",-600276523),Ru=new D(null,"logical-block-callback","logical-block-callback",1612691194),Su=new D(null,"spying?","spying?",1753444487),Tu=new D("db.cardinality","many","db.cardinality/many",772806234),Uu=new D(null,"form-params","form-params",1884296467),Vu=new D(null,"weeks","weeks",1844596125),Wu=new D("swap","dissoc","swap/dissoc",-605373782),Xu=new D(null,"ppstr","ppstr",1557495252),Yu=new D(null,"mincol","mincol",
1230695445),Zu=new D(null,"protocol","protocol",652470118),$u=new D(null,"curr-xhr_","curr-xhr_",-1318773696),av=new D(null,"*assert*","*assert*",-160895053),bv=new D(null,"listen-key","listen-key",51973686),cv=new D(null,"itemSize","itemSize",197086731),dv=new D("reitit.exception","cause","reitit.exception/cause",2130128734),ev=new D(null,"deref","deref",-145586795),fv=new D("cljs.spec.alpha","unknown","cljs.spec.alpha/unknown",651034818),gv=new D(null,"max-iterations","max-iterations",2021275563),
hv=new D(null,"output_","output_",-36797880),iv=new D(null,"config","config",994861415),jv=new D(null,"onclose-fn","onclose-fn",-1388163785),kv=new D("widget","uuid","widget/uuid",-585315811),lv=new A(null,"deftype*","deftype*",962659890,null),mv=new D(null,"rep+","rep+",-281382396),nv=new A(null,"NaN","NaN",666918153,null),ov=new D(null,"msecs","msecs",1711980553),pv=new D(null,"id!","id!",218090956),qv=new A(null,"defmacro","defmacro",2054157304,null),rv=new D(null,"recv-buf-or-n","recv-buf-or-n",
1363950355),sv=new A(null,"vector","vector",-751469611,null),tv=new D("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),uv=new D(null,"whitelist","whitelist",-979294437),vv=new D(null,"errors","errors",-908790718),wv=new D(null,"loading","loading",-737050189),xv=new D(null,"ns","ns",441598760),yv=new D(null,"expected","expected",1583670997),zv=new D(null,"div.flex-1","div.flex-1",2004402050),Av=new D("geoplot.feature","feature-projection","geoplot.feature/feature-projection",
-1990940774),Bv=new D(null,"apparent-success","apparent-success",242592222),Cv=new D(null,"preferStrings","preferStrings",-1532249482),Dv=new A(null,"cljs.core","cljs.core",770546058,null),Ev=new D(null,"xmlns","xmlns",-1862095571),Fv=new D(null,"p2","p2",905500641),Gv=new A(null,"defrecord*","defrecord*",-1936366207,null),Hv=new D(null,"p1","p1",-936759954),Iv=new D(null,"type-tag","type-tag",-1873863267),Jv=new D(null,"ms","ms",-1152709733),Kv=new D(null,"middleware-fn","middleware-fn",-61585752),
Lv=new D(null,"readers","readers",-2118263030),Mv=new A(null,"!\x3d","!\x3d",-201205829,null),Nv=new D("widget.geoplot","zoom","widget.geoplot/zoom",1712183482),Ov=new D(null,"on-dispose","on-dispose",2105306360),Pv=new D("db.type","tuple","db.type/tuple",938234914),Qv=new D("lookup-ref","unique","lookup-ref/unique",-960647710),Rv=new A("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null),Sv=new D(null,"headers","headers",-835030129),Tv=new D(null,"processing","processing",-1576405467),
Uv=new D("widget.type","codemirror","widget.type/codemirror",2093288987),Vv=new D(null,"arrayBuilder","arrayBuilder",1446317421),Wv=new D(null,"end-line","end-line",1837326455),Xv=new A(null,"fn*","fn*",-752876845,null),Yv=new D(null,"ks","ks",1900203942),Zv=new D("transact","syntax","transact/syntax",-299207078),$v=new D(null,"abort","abort",521193198),aw=new D(null,"allow","allow",-1857325745),bw=new D(null,"source","source",-433931539),cw=new A(null,"p1__44176#","p1__44176#",-1129987132,null),
dw=new D(null,"bindings","bindings",1271397192),ew=new A("cljs.core","fn","cljs.core/fn",-1065745098,null),fw=new A(null,"median","median",-2084869638,null),gw=new D(null,"circle","circle",1903212362),cm=new D(null,"descendants","descendants",1824886031),hw=new D(null,"report","report",1394055010),iw=new A(null,"validate-schema","validate-schema",758884380,null),jw=new D(null,"strs","strs",1175537277),kw=new D(null,"start","start",-355208981),lw=new D(null,"ns-whitelist","ns-whitelist",-1717299774),
mw=new A(null,"complement","complement",-913606051,null),nw=new D(null,"on-click","on-click",1632826543),ow=new D(null,"recur","recur",-437573268),pw=new D(null,"deny-spec","deny-spec",-1074984268),qw=new D(null,"port","port",1534937262),rw=new D(null,"*?data*","*?data*",1047537922),sw=new D(null,"http","http",382524695),tw=new D(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),uw=new A(null,"resolve-datom","resolve-datom",-294110827,null),vw=new D(null,"length","length",588987862),ww=new D(null,
"appender-id","appender-id",-1917983538),xw=new A(null,"with-open","with-open",172119667,null),yw=new D(null,"timeout-ms","timeout-ms",754221406),zl=new D("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),zw=new D(null,"ps","ps",292358046),Aw=new D(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),Bw=new D(null,"not-delivered","not-delivered",1599158697),Cw=new A(null,"if-not","if-not",-265415609,null),Dw=new D(null,"blacklist","blacklist",1248093170),Ew=new D(null,
"state","state",-1988618099),Fw=new D(null,"db-before","db-before",-553691536),Gw=new A(null,"\x3d\x3d","\x3d\x3d",-234118149,null),Hw=new A("cljs.core","unquote","cljs.core/unquote",1013085760,null),Iw=new D(null,"div.flex.border-b.border-teal-500.pb-1.mb-1","div.flex.border-b.border-teal-500.pb-1.mb-1",271713629),Jw=new D(null,"no-cache","no-cache",1588056370),Kw=new D(null,"serialize","serialize",-69216574),Lw=new A(null,"dotimes","dotimes",-818708397,null),Mw=new D(null,"raw-console?","raw-console?",
-2061489061),Nw=new D(null,"exception","exception",-335277064),Ow=new D(null,"conform-keys","conform-keys",-1800041814),Pw=new D(null,"op","op",-1882987955),Qw=new A(null,"finally","finally",-1065347064,null),Rw=new A(null,"str","str",-1564826950,null),Sw=new A(null,"/","/",-1371932971,null),Tw=new D(null,"router","router",1091916230),Uw=new D(null,"routes","routes",457900162),Vw=new D(null,"buffering","buffering",-876713613),Ww=new D("ajax","bad-response-type","ajax/bad-response-type",789441015),
Xw=new D(null,"prefix-clauses","prefix-clauses",1294180028),Yw=new D(null,"illegal-argument","illegal-argument",-1845493170),Zw=new D(null,"first-open?","first-open?",396686530),$w=new D(null,"opt-un","opt-un",883442496),ax=new D("chsk","ws-ping","chsk/ws-ping",191675304),bx=new D(null,"rule","rule",729973257),cx=new D("widget.codemirror","width","widget.codemirror/width",851267293),dx=new D(null,"template","template",-702405684),ex=new D(null,"wildcard?","wildcard?",-686044101),fx=new A(null,"pos?",
"pos?",-244377722,null),gx=new D("query","inputs","query/inputs",1042810394),hx=new D(null,"attribute","attribute",-2074029119),ix=new A(null,"default","default",-347290801,null),jx=new D(null,"tx","tx",466630418),kx=new A(null,"locking","locking",1542862874,null),lx=new D(null,"function-components","function-components",1492814963),mx=new A(null,"subs","subs",1453849536,null),nx=new D(null,"parameters","parameters",-1229919748),ox=new D(null,"seq","seq",-1817803783),px=new A(null,"pr-str","pr-str",
-2066912145,null),qx=new D(null,"set","set",304602554),rx=new D(null,"flush?","flush?",-108887231),sx=new D(null,"handshake?","handshake?",-423743093),tx=new A(null,"or-join","or-join",591375469,null),ux=new A(null,"sum","sum",1777518341,null),vx=new D("reitit.coercion","extract-request-format","reitit.coercion/extract-request-format",-1687953607),wx=new A(null,"some?","some?",234752293,null),xx=new D(null,"handshake","handshake",68079331),yx=new D(null,"error","error",-978969032),zx=new D("swap",
"abort","swap/abort",508048993),Ax=new D(null,"base","base",185279322),Bx=new D(null,"actual","actual",107306363),Cx=new D(null,"event","event",301435442),Dx=new D(null,"binary-type","binary-type",1096940609),Ex=new A(null,"letfn*","letfn*",-110097810,null),Fx=new D(null,"prefix","prefix",-265908465),Gx=new D("geoplot.style","fill","geoplot.style/fill",-660763808),Hx=new D(null,"name-conflicts","name-conflicts",-2016386444),Ix=new D("parser","binding","parser/binding",-346395752),Jx=new D(null,"start-pos",
"start-pos",668789086),Ol=new D(null,"keyword-fn","keyword-fn",-64566675),Kx=new D(null,"first","first",-644103046),Lx=new D(null,"pathname","pathname",-1420497528),Mx=new A(null,"re-seq","re-seq",-2105554076,null),Nx=new D(null,"?err","?err",549653299),Ox=new D(null,"body-params","body-params",-369749490),Px=new A(null,"recur","recur",1202958259,null),Qx=new D("widget.type","markdown","widget.type/markdown",177221797),Rx=new D(null,"impl_","impl_",1218818179),Sx=new D("parser","rule-var","parser/rule-var",
-1584354459),Tx=new D(null,"callback","callback",-705136228),Ux=new D("cljs.spec.alpha","op","cljs.spec.alpha/op",-1269055252),Vx=new D(null,"ws","ws",86841443),Wx=new D(null,"span","span",1394872991),Xx=new D(null,"terminators","terminators",-1448255712),Yx=new D(null,"async?","async?",1523057758),Zx=new D(null,"viewBox","viewBox",-469489477),$x=new D(null,"itemCount","itemCount",1702035352),ay=new D("entity-id","missing","entity-id/missing",1234588374),by=new A(null,"count","count",-514511684,null),
cy=new D(null,"no-stacktrace?","no-stacktrace?",1701072694),dy=new D(null,"displace","displace",-1153355602),ey=new D("reitit.trie","parameters","reitit.trie/parameters",-1304786787),fy=new D(null,"qfind","qfind",1529332972),gy=new D(null,"handler","handler",-195596612),hy=new D(null,"intra-block-nl","intra-block-nl",1808826875),iy=new D(null,"with-let44422","with-let44422",-1443886504),jy=new D("parser","rule-vars","parser/rule-vars",-1493174969),ky=new D(null,"gen-max","gen-max",-793680445),ac=
new D(null,"meta","meta",1499536964),ly=new A(null,"not-join","not-join",-645515756,null),my=new D("widget.type","html","widget.type/html",-2034153477),ny=new D(null,"datoms","datoms",-290874434),oy=new D(null,"search","search",1564939822),py=new D("geoplot.feature","style","geoplot.feature/style",-895485302),qy=new D(null,"right","right",-452581833),ry=new D(null,"compile","compile",608186429),sy=new D(null,"host","host",-1558485167),ty=new D(null,"err","err",-2089457205),uy=new A(null,"when","when",
1064114221,null),vy=new A("cljs.core","set?","cljs.core/set?",-1176684971,null),wy=new D(null,"logical-blocks","logical-blocks",-1466339776),xy=new D(null,"\x3cserver","\x3cserver",-2135373537),yy=new A(null,"\x3e\x3d","\x3e\x3d",1016916022,null),zy=new D(null,"find","find",496279456),Ay=new D(null,"fatal","fatal",1874419888),By=new D(null,"rate-limit","rate-limit",1748082022),Cy=new D(null,"namespaced-keyword","namespaced-keyword",131372895),Dy=new A(null,"nil?","nil?",1612038930,null),Ey=new D("widget.geoplot",
"height","widget.geoplot/height",774138358),Fy=new D(null,"ref?","ref?",1932693720),Gy=new D(null,"start-col","start-col",668080143),Hy=new D(null,"transact","transact",-267998670),Iy=new D("widget.geoplot","width","widget.geoplot/width",-600671533),Jy=new D(null,"into","into",-150836029),My=new A(null,"set!","set!",250714521,null),Oy=new D(null,"title","title",636505583),Py=new D("widget.geoplot","style","widget.geoplot/style",1499653960),Qy=new D(null,"new","new",-2085437848),Ry=new D("db","retract",
"db/retract",-1549825231),Sy=new D(null,"free","free",801364328),Ty=new D(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Uy=new D(null,"instant","instant",655498374),Vy=new A(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Wy=new D(null,"ex-kind","ex-kind",1581199296),Xy=new D(null,"last-ws-error","last-ws-error",-820288502),Yy=new D(null,"schema","schema",-1582001791),Zy=new D(null,"tx-data","tx-data",934159761),$y=new D(null,"amp","amp",271690571),az=new D("db.unique","value","db.unique/value",
276903088),bz=new D(null,"csrf-token","csrf-token",-1872302856),cz=new D("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),dz=new D("reitit.coercion","parameter-coercion","reitit.coercion/parameter-coercion",-1825124100),ez=new A(null,"-Inf","-Inf",-2123243689,null),fz=new D(null,"any","any",1705907423),gz=new D(null,"client-uuid","client-uuid",-1717531965),hz=new A(null,"name","name",-810760592,null),iz=new D(null,"padchar","padchar",2018584530),jz=new D(null,"unexpected","unexpected",
-1137752424),kz=new D(null,"elidable?","elidable?",248362249),lz=new D(null,"children","children",-940561982),mz=new D(null,"cache?","cache?",-1601953949),cc=new D(null,"print-length","print-length",1931866356),nz=new D(null,"nil","nil",99600501),oz=new A(null,"odd?","odd?",-1458588199,null),pz=new D("widget.type","vega-embed","widget.type/vega-embed",-887166019),qz=new D(null,"allow-spec","allow-spec",448749872),rz=new D(null,"popstate-listener","popstate-listener",806944472),sz=new D(null,"buffer-block",
"buffer-block",-10937307),tz=new D("db.pull","reverse","db.pull/reverse",1999788297),uz=new D(null,"remaining-arg-count","remaining-arg-count",-1216589335),vz=new A(null,"keyword","keyword",-1843046022,null),wz=new D(null,"div.prose.prose-sm","div.prose.prose-sm",430504998),xz=new D("db","attrTuples","db/attrTuples",860541631),yz=new D(null,"stroke-linecap","stroke-linecap",-1201103248),zz=new D("datascript.db","internal","datascript.db/internal",-249301114),Az=new A(null,"rand","rand",-1745930995,
null),Bz=new D(null,"prepend","prepend",342616040),Cz=new D(null,"pull-attrs","pull-attrs",-974863177),Dz=new D(null,"on-write","on-write",31519475),Ez=new A(null,"set","set",1945134081,null),Fz=new D(null,"commainterval","commainterval",-1980061083),Gz=new D(null,"query-params","query-params",900640534),Hz=new D("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Iz=new D(null,"keywordize?","keywordize?",-234306912),Jz=new D(null,"send-buffers","send-buffers",-1788003787),Kz=new D(null,
"on-mouse-leave","on-mouse-leave",-1864319528),Lz=new D(null,"separator","separator",-1628749125),Mz=new A("datascript","Datom","datascript/Datom",-901340080,null),Nz=new A(null,"defonce","defonce",-1681484013,null),Oz=new D("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977),Pz=new D(null,"buffer-level","buffer-level",928864731),Qz=new D("reitit.trie","unclosed-brackets","reitit.trie/unclosed-brackets",1599327560),Rz=new D("rl","all","rl/all",892118056),Sz=new D(null,"ever-opened?",
"ever-opened?",1128459732),Fl=new D(null,"pending","pending",-220036727),$b=new D(null,"readably","readably",1129599760),Tz=new D(null,"contextTypes","contextTypes",-2023853910),Uz=new D(null,"chsk","chsk",-863703081),Vz=new D("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353),Wz=new D(null,"file","file",-1269645878),Xz=new D(null,"rschema","rschema",-1196134054),Yz=new D(null,"fill","fill",883462889),Zz=new D("widget.table","columns","widget.table/columns",2077293308),$z=new D(null,
"ws-opts","ws-opts",1487801643),aA=new D(null,"attrs","attrs",-2090668713),bA=new D(null,"months","months",-45571637),cA=new D(null,"radix","radix",857016463),dA=new D(null,"send-fn","send-fn",351002041),eA=new D(null,"text","text",-1790561697),fA=new D(null,"distinct","distinct",-1788879121),gA=new D(null,"block","block",664686210),hA=new D(null,"div.flex.space-x-2","div.flex.space-x-2",191162917),iA=new D(null,"variable","variable",-281346492),dm=new D(null,"ancestors","ancestors",-776045424),jA=
new D(null,"listeners","listeners",394544445),kA=new D(null,"retry-count_","retry-count_",20238093),lA=new D(null,"hostname","hostname",2105669933),mA=new D(null,"min-remaining","min-remaining",962687677),nA=new D(null,"?data","?data",-9471433),oA=new D(null,"offset","offset",296498311),pA=new A(null,"-\x3e","-\x3e",-2139605430,null),qA=new D(null,"db-after","db-after",-571884666),rA=new D(null,"render","render",-1408033454),sA=new D(null,"entity","entity",-450970276),tA=new D(null,"timeout","timeout",
-318625318),uA=new D(null,"arglists","arglists",1661989754),vA=new A(null,"js*","js*",-1134233646,null),wA=new D(null,"end-pos","end-pos",-1643883926),xA=new D(null,"auto-run","auto-run",1958400437),yA=new D(null,"min-version","min-version",-1697197126),zA=new D(null,"pred-forms","pred-forms",172611832),AA=new D(null,"hours","hours",58380855),BA=new A(null,"tuple","tuple",1167864243,null),CA=new A(null,"count-distinct","count-distinct",-1566572514,null),DA=new D(null,"get","get",1683182755),EA=new A(null,
"defn","defn",-126010802,null),FA=new A(null,"struct","struct",325972931,null),GA=new D(null,"recursion-limits","recursion-limits",1762857814),HA=new D("reitit.trie","multiple-terminators","reitit.trie/multiple-terminators",-116295163),IA=new D(null,"gfn","gfn",791517474),JA=new D(null,"namespaced-map","namespaced-map",1235665380),KA=new A(null,"prn-str","prn-str",-145225943,null),LA=new A(null,"...","...",-1926939749,null),MA=new D("widget.table","row-height","widget.table/row-height",570139217),
NA=new D(null,"childContextTypes","childContextTypes",578717991),OA=new D(null,"input","input",556931961),PA=new D(null,"onerror-fn","onerror-fn",1069372505),QA=new D(null,"xhr","xhr",-177710851),RA=new D(null,"\x3e","\x3e",-555517146),SA=new D(null,"eavt","eavt",-666437073),TA=new D(null,"mins","mins",467369676),UA=new D(null,"tag","tag",-1290361223),VA=new D(null,"linear","linear",872268697),WA=new A(null,"new","new",-444906321,null),XA=new D(null,"syntax","syntax",-1637761676),YA=new D(null,"?line",
"?line",-631853385),ZA=new D(null,"test","test",577538877),$A=new A(null,"\x3d","\x3d",-1501502141,null),aB=new D(null,"coerce","coerce",1917884504),bB=new A("datascript","DB","datascript/DB",-487332776,null),kl=new D(null,"alt-impl","alt-impl",670969595),cB=new A(null,"not-empty","not-empty",2029453590,null),dB=new D(null,"conflict","conflict",1978796605),eB=new D(null,"datom","datom",-371556090),fB=new D(null,"given","given",716253602),gB=new D(null,"path","path",-188191168),hB=new A(null,"with-local-vars",
"with-local-vars",837642072,null),iB=new D(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),jB=new A(null,"and","and",668631710,null),kB=new D(null,"xml","xml",-1170142052),lB=new A(null,"throw","throw",595905694,null),mB=new D(null,"?reply-fn","?reply-fn",-1479510592),nB=new A(null,"print-str","print-str",-699700354,null),oB=new D(null,"opt-specs","opt-specs",-384905450),pB=new D(null,"wrong-length","wrong-length",1367572281),qB=new D(null,"import","import",-1399500709),rB=new D(null,
"rules","rules",1198912366),sB=new D(null,"character","character",380652989),tB=new D("cljs.spec.alpha","kfn","cljs.spec.alpha/kfn",672643897),uB=new D(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),vB=new D(null,"reagent-render","reagent-render",-985383853),wB=new A(null,"loop*","loop*",615029416,null),xB=new D(null,"last","last",1105735132),yB=new A("cljs.core","vector?","cljs.core/vector?",-1550392028,null),zB=new A("cljs.core","lift-ns","cljs.core/lift-ns",463499081,null),AB=new D(null,"k",
"k",-2146297393),BB=new D(null,"div.flex.flex-1.space-x-2","div.flex.flex-1.space-x-2",-1554471704),CB=new D(null,"qreturn-map","qreturn-map",1841215994),DB=new D(null,"e","e",1381269198),EB=new D(null,"f","f",-1597136552),FB=new D(null,"d","d",1972142424),GB=new D(null,"a","a",-2123407586),HB=new A(null,"pull","pull",779986722,null),IB=new D(null,"ajax-cb","ajax-cb",-807060321),JB=new D(null,"w","w",354169001),KB=new D(null,"v","v",21465059),LB=new D("geoplot.style","stroke","geoplot.style/stroke",
-1145366218),MB=new D(null,"last-close","last-close",-2054255782),NB=new D(null,"p","p",151049309),OB=new D(null,"componentWillUnmount","componentWillUnmount",1573788814),PB=new D(null,"n","n",562130025),QB=new D(null,"func","func",-238706040),RB=new D(null,"got","got",-1674745710),SB=new A("cljs.core","contains?","cljs.core/contains?",-976526835,null),TB=new D(null,"indent-t","indent-t",528318969),UB=new D("widget.codemirror","mode","widget.codemirror/mode",-517946799),ll=new D(null,"fallback-impl",
"fallback-impl",-1501286995),VB=new D(null,"lookup","lookup",1225356838),WB=new D(null,"height","height",1025178622),XB=new D("parser","rule","parser/rule",-464044566),YB=new D(null,"chs","chs",376886120),ZB=new D("widget.codemirror","height","widget.codemirror/height",-960842196),$B=new D(null,"ns-filter","ns-filter",108598448),aC=new D(null,"last-fragment","last-fragment",-919830173),bC=new D(null,"debug","debug",-1608172596),cC=new D(null,"wrong-type","wrong-type",929556915),dC=new D(null,"connected-uids",
"connected-uids",1454332231),eC=new D(null,"req-specs","req-specs",553962313),fC=new A(null,"distinct","distinct",-148347594,null),gC=new A(null,"get-else","get-else",1312024065,null),hC=new D(null,"allows-separator","allows-separator",-818967742),iC=new D(null,"appenders","appenders",1245583998),jC=new D(null,"colon-up-arrow","colon-up-arrow",244853007),kC=new A(null,"*","*",345799209,null),lC=new D("rl","peek","rl/peek",-291391771),mC=new A(null,"avg","avg",1837937727,null),nC=new A(null,"not",
"not",1044554643,null),oC=new A("cljs.spec.alpha","conformer","cljs.spec.alpha/conformer",2140085535,null),pC=new D("geoplot","color","geoplot/color",831577171),qC=new D(null,"unknown","unknown",-935977881),bl=new D(null,"more-marker","more-marker",-14717935),rC=new D(null,"index-access","index-access",-1548960265),sC=new D("parser","where","parser/where",-966053850),tC=new D(null,"aevt","aevt",-585148059),uC=new D(null,"nl-t","nl-t",-1608382114),vC=new A(null,"var","var",870848730,null),wC=new D(null,
"qualifier","qualifier",125841738),El=new D(null,"ready","ready",1086465795),xC=new A(null,"neg?","neg?",-1902175577,null),yC=new D(null,"http-error","http-error",-1040049553),zC=new A(null,"untuple","untuple",-606149900,null),AC=new D(null,"displayName","displayName",-809144601),BC=new D("cljs.spec.alpha","gfn","cljs.spec.alpha/gfn",-593120375),CC=new A(null,"mod","mod",1510044207,null),DC=new A(null,"cond","cond",1606708055,null),EC=new D(null,"element","element",1974019749),FC=new D(null,"char-format",
"char-format",-1016499218),GC=new A(null,"type","type",-1480165421,null),HC=new D(null,"dynamic","dynamic",704819571),IC=new D(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),JC=new D(null,"max-columns","max-columns",1742323262),KC=new D(null,"recursive?","recursive?",1340075244),LC=new D(null,"last-ws-close","last-ws-close",-798104932),MC=new A(null,"when-let","when-let",-1383043480,null),NC=new D("db","index","db/index",-1531680669),OC=new D(null,"header","header",119441134),
PC=new D(null,"state_","state_",957667102),QC=new D(null,"index","index",-1531685915),RC=new D("widget.html","src","widget.html/src",1397441752),SC=new D(null,"class","class",-2030961996),TC=new D(null,"success?","success?",-122854052),UC=new D("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029),VC=new A(null,".",".",1975675962,null),WC=new D(null,"at","at",1476951349),XC=new D(null,"span.font-bold","span.font-bold",-460884588),YC=new D(null,"ignore-anchor-click?","ignore-anchor-click?",
-186007337),ZC=new D(null,"reverse?","reverse?",-1672868474),$C=new D("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),aD=new D("widget","markdown","widget/markdown",-145862203),bD=new D(null,"map-builder","map-builder",-1843343288),cD=new D(null,"__html","__html",674048345),dD=new D("widget.geoplot","center","widget.geoplot/center",-530369016),eD=new D(null,"as","as",1148689641),fD=new D(null,"vargs","vargs",-966597273),gD=new D("chsk","bad-event","chsk/bad-event",-565206930),
hD=new D(null,"click-listen-key","click-listen-key",642240955),iD=new D(null,"queue","queue",1455835879),jD=new D(null,"stacktrace-fonts","stacktrace-fonts",830799382),kD=new D(null,"warn","warn",-436710552),lD=new D("parser","find","parser/find",-801023103),mD=new D(null,"selector","selector",762528866),nD=new A("datascript.db","rschema","datascript.db/rschema",1982085018,null),oD=new D(null,"miser","miser",-556060186),pD=new D(null,"ajax","ajax",814345549),qD=new D(null,"on-set","on-set",-140953470),
rD=new A(null,"inc","inc",324505433,null),sD=new D(null,"rule-vars","rule-vars",1665972520),tD=new D(null,"backoff-ms-fn","backoff-ms-fn",772895955),uD=new D(null,"context","context",-830191113),vD=new D(null,"colnum","colnum",2023796854),wD=new A(null,"even?","even?",-1827825394,null),xD=new D(null,"timestamp_","timestamp_",-954533417),yD=new D(null,"query","query",-1288509510),zD=new D(null,"fn","fn",-1175266204),AD=new D(null,"args","args",1315556576),BD=new D(null,"freeze-kw","freeze-kw",391758233),
CD=new D(null,"old","old",-1825222690),DD=new D(null,"pattern","pattern",242135423),ED=new D(null,"component-did-update","component-did-update",-1468549173),FD=new D(null,"ev","ev",-406827324),GD=new D("muuntaja","request","muuntaja/request",-1616403792),HD=new A(null,"p1__44177#","p1__44177#",-1453927027,null),ID=new D(null,"console","console",1228072057),JD=new D("parser","in","parser/in",1617442048),KD=new A("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null),LD=
new D(null,"on-navigate","on-navigate",-297227908),MD=new D(null,"hash","hash",-13781596),ND=new A(null,"namespace","namespace",1263021155,null),OD=new D(null,"div.flex.flex-col.flex-1.items-center.justify-center","div.flex.flex-col.flex-1.items-center.justify-center",-1334433298),PD=new D(null,"arg3","arg3",-1486822496),QD=new D(null,"min-level","min-level",1634684919),RD=new D(null,"arg1","arg1",951899358),SD=new D(null,"arg2","arg2",1729550917),TD=new D(null,"list","list",765357683),UD=new D(null,
"dt","dt",-368444759),VD=new D("geoplot.feature","data-projection","geoplot.feature/data-projection",-1161515945),WD=new A(null,"rschema","rschema",444397473,null),XD=new D(null,"key","key",-1516042587),YD=new D(null,"db","db",993250759),ZD=new A(null,"rand-int","rand-int",-495012157,null),$D=new D("chsk","recv","chsk/recv",561097091),aE=new D(null,"svg","svg",856789142),bE=new A(null,"+","+",-740910886,null),cE=new D(null,"generator-fn","generator-fn",811851656),dE=new D(null,"req-keys","req-keys",
514319221),eE=new D(null,"resp-type","resp-type",1050675962),fE=new D(null,"overflowchar","overflowchar",-1620088106),gE=new D(null,"cb","cb",589947841),hE=new D(null,"with","with",-1536296876),bm=new D(null,"parents","parents",-2027538891),iE=new D("chsk","handshake","chsk/handshake",64910686),jE=new D(null,"with-credentials?","with-credentials?",-1773202222),kE=new D("widget.type","row","widget.type/row",330405211),lE=new A(null,"if-let","if-let",1803593690,null),mE=new D("chsk","dummy-cb-200",
"chsk/dummy-cb-200",-1663130337),nE=new A(null,"condp","condp",1054325175,null),oE=new A(null,"rem","rem",664046770,null),pE=new D(null,"in","in",-1531184865),qE=new D(null,"opt","opt",-794706369),rE=new D(null,"reason","reason",-2070751759),sE=new D(null,"freeze-fn","freeze-fn",-575885995),tE=new D(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),uE=new D(null,"assertion","assertion",-1645134882),vE=new D(null,"id","id",-1388402092),wE=new A(null,"?e","?e",-1194391683,null),xE=new D(null,
"stream","stream",1534941648),yE=new D(null,"last-attr","last-attr",-526000708),zE=new A(null,"false?","false?",-1522377573,null),AE=new D(null,"ajax-opts","ajax-opts",-518239109),BE=new D(null,"indent","indent",-148200125),CE=new D("chsk","closed","chsk/closed",-922855264),DE=new D("db","add","db/add",235286841),EE=new D("widget.type","geoplot","widget.type/geoplot",298472257),FE=new D("reitit.trie","following-parameters","reitit.trie/following-parameters",-1072685800),GE=new D(null,"else-params",
"else-params",-832171646),HE=new D(null,"keyword","keyword",811389747),IE=new D(null,"end-block-t","end-block-t",1544648735),JE=new D(null,"tempids","tempids",1767509089),KE=new D(null,"max-count","max-count",1539185305);function LE(a,b,c){var d=RegExp,e=b.source,f=r(b.ignoreCase)?"gi":"g";f=r(b.multiline)?[f,"m"].join(""):f;b=r(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function ME(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new re(f,0,null)}return c.call(this,e)}function c(d){d=Sh(2,d);if(F.B(K(d),1))return d=H(d),a.C?a.C(d):a.call(null,d);d=Ii(d);return a.C?a.C(d):a.call(null,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}
function NE(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?LE(a,b,c):LE(a,b,ME(c));throw["Invalid match arg: ",t.C(b)].join("");}function OE(a,b){var c=new Ob;for(b=G(b);;)if(null!=b)c.append(t.C(H(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}
function PE(a,b){if(0>=b||b>=2+K(a))return gf.B(Ii(Ye("",Ph.B(t,G(a)))),"");if(r(ig.B?ig.B(1,b):ig.call(null,1,b)))return new X(null,1,5,Z,[a],null);if(r(ig.B?ig.B(2,b):ig.call(null,2,b)))return new X(null,2,5,Z,["",a],null);b-=2;return gf.B(Ii(Ye("",Si(Ii(Ph.B(t,G(a))),0,b))),kg.B(a,b))}function QE(a,b){return VE(a,b,0)}
function VE(a,b,c){if("/(?:)/"===t.C(b))b=PE(a,c);else if(1>c)b=Ii(t.C(a).split(b));else a:for(var d=c,e=hf;;){if(1===d){b=gf.B(e,a);break a}var f=Xk(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+K(f));--d;e=gf.B(e,a.substring(0,h));a=f}else{b=gf.B(e,a);break a}}if(0===c&&1<K(b))a:for(c=b;;)if(""===(null==c?null:ad(c)))c=null==c?null:bd(c);else break a;else c=b;return c}function WE(a){return Qa(null==a?"":String(a))}function XE(a){a=a.indexOf("/");return 0>a?null:a}
function YE(a,b,c){a=a.indexOf(b,c);return 0>a?null:a};var ZE={},$E,aF,bF,cF,dF,eF,fF=function fF(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return fF.I(c)};fF.I=function(a){return xd(Sb,Tg(sl,a))};fF.aa=0;fF.fa=function(a){return this.I(G(a))};var gF=function gF(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return gF.I(c)};gF.I=function(a){return xd(Sb,Tg(ql,a))};gF.aa=0;gF.fa=function(a){return this.I(G(a))};
function hF(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new re(b.slice(0),0,null):null;Tg(gF,b);xd(Sb,"\n")}function iF(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function jF(a,b,c){var d=c;for(c=hf;;){if(sf(d))return new X(null,2,5,Z,[c,b],null);var e=H(d);d=J(d);e=Tg(a,new X(null,2,5,Z,[e,b],null));b=N(e,0,null);e=N(e,1,null);c=gf.B(c,b);b=e}}function kF(a,b){var c=b;for(b=hf;;){var d=Tg(a,new X(null,1,5,Z,[c],null));c=N(d,0,null);d=N(d,1,null);if(hc(c))return new X(null,2,5,Z,[b,d],null);b=gf.B(b,c);c=d}}
function lF(a){return new X(null,2,5,Z,[ei.B(W,function(){return function d(c){return new vg(null,function(){for(;;){var e=G(c);if(e){if(zf(e)){var f=Od(e),h=K(f),k=zg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);var u=N(n,0,null);N(n,1,null);k.add(new X(null,2,5,Z,[p,u],null));m+=1}else{f=!0;break a}return f?Bg(Dg(k),d(Pd(e))):Bg(Dg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);h=N(f,0,null);N(f,1,null);return Ye(new X(null,2,5,Z,[k,h],null),d(te(e)))}return null}},null,null)}(a)}()),
ei.B(W,function(){return function d(c){return new vg(null,function(){for(;;){var e=G(c);if(e){if(zf(e)){var f=Od(e),h=K(f),k=zg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);N(n,0,null);n=N(n,1,null);k.add(new X(null,2,5,Z,[p,n],null));m+=1}else{f=!0;break a}return f?Bg(Dg(k),d(Pd(e))):Bg(Dg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);N(f,0,null);f=N(f,1,null);return Ye(new X(null,2,5,Z,[k,f],null),d(te(e)))}return null}},null,null)}(a)}())],null)}
function mF(a,b){return ei.B(W,function(){return function e(d){return new vg(null,function(){for(;;){var f=G(d);if(f){if(zf(f)){var h=Od(f),k=K(h),m=zg(k);a:for(var n=0;;)if(n<k){var p=x(h,n),u=N(p,0,null);p=N(p,1,null);m.add(new X(null,2,5,Z,[u,new X(null,2,5,Z,[p,b],null)],null));n+=1}else{h=!0;break a}return h?Bg(Dg(m),e(Pd(f))):Bg(Dg(m),null)}h=H(f);m=N(h,0,null);h=N(h,1,null);return Ye(new X(null,2,5,Z,[m,new X(null,2,5,Z,[h,b],null)],null),e(te(f)))}return null}},null,null)}(a)}())}
function nF(){var a=Sb;if(null!=a&&null!=a.uh)a.uh(a);else{var b=nF[ha(null==a?null:a)];if(null!=b)b.C?b.C(a):b.call(null,a);else if(b=nF._,null!=b)b.C?b.C(a):b.call(null,a);else throw oc("IPrettyFlush.-ppflush",a);}}function oF(a,b){a=y(y(a));return b.C?b.C(a):b.call(null,a)}function pF(a,b,c){Fh.R(y(a),Q,b,c)}function qF(a,b){F.B(b,"\n")?(pF(a,Hp,0),pF(a,Fm,oF(a,Fm)+1)):pF(a,Hp,oF(a,Hp)+1);return xd(oF(a,Ax),b)}
function rF(a,b){var c=Ch(new q(null,4,[et,b,Hp,0,Fm,0,Ax,a],null));if("undefined"===typeof Pb||"undefined"===typeof ZE||"undefined"===typeof $E)$E=function(d,e,f,h){this.wb=d;this.Lh=e;this.fields=f;this.Tk=h;this.O=1074167808;this.T=0},$E.prototype.ha=function(d,e){return new $E(this.wb,this.Lh,this.fields,e)},$E.prototype.ga=function(){return this.Tk},$E.prototype.Vb=function(){return this.fields},$E.prototype.Wd=function(){return yd(this.wb)},$E.prototype.ze=function(d,e){d=nc(e);if(r(F.B?F.B(String,
d):F.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?pF(this,Hp,oF(this,Hp)+K(e)):(pF(this,Hp,K(e)-d-1),pF(this,Fm,oF(this,Fm)+K(ci(function(f){return F.B(f,"\n")},e)))),xd(oF(this,Ax),e);if(r(F.B?F.B(Number,d):F.call(null,Number,d)))return qF(this,e);throw Error(["No matching clause: ",t.C(d)].join(""));},$E.Wa=!0,$E.Sa="cljs.pprint/t_cljs$pprint21677",$E.Za=function(d){return xd(d,"cljs.pprint/t_cljs$pprint21677")};return new $E(a,b,c,W)}
function sF(a,b,c,d,e,f,h,k,m,n,p,u,v){this.parent=a;this.kc=b;this.ac=c;this.indent=d;this.dc=e;this.ec=f;this.prefix=h;this.jc=k;this.suffix=m;this.fc=n;this.G=p;this.F=u;this.J=v;this.O=2230716170;this.T=139264}g=sF.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "parent":return this.parent;case "section":return this.kc;case "start-col":return this.ac;case "indent":return this.indent;case "done-nl":return this.dc;case "intra-block-nl":return this.ec;case "prefix":return this.prefix;case "per-line-prefix":return this.jc;case "suffix":return this.suffix;case "logical-block-callback":return this.fc;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,V.B(new X(null,10,5,Z,[new X(null,2,5,Z,[bp,this.parent],null),new X(null,2,5,Z,[St,this.kc],null),new X(null,2,5,Z,[Gy,this.ac],null),new X(null,2,5,Z,[BE,this.indent],null),new X(null,2,5,Z,[Zm,this.dc],null),new X(null,2,5,Z,[hy,this.ec],null),new X(null,2,5,Z,[Fx,this.prefix],null),new X(null,2,5,Z,[Om,this.jc],null),new X(null,2,5,Z,[au,this.suffix],null),new X(null,2,5,Z,[Ru,
this.fc],null)],null),this.F))};g.qa=function(){return new cj(this,10,new X(null,10,5,Z,[bp,St,Gy,BE,Zm,hy,Fx,Om,au,Ru],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new sF(this.parent,this.kc,this.ac,this.indent,this.dc,this.ec,this.prefix,this.jc,this.suffix,this.fc,this.G,this.F,this.J)};g.la=function(){return 10+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1977012399^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.parent,b.parent)&&F.B(this.kc,b.kc)&&F.B(this.ac,b.ac)&&F.B(this.indent,b.indent)&&F.B(this.dc,b.dc)&&F.B(this.ec,b.ec)&&F.B(this.prefix,b.prefix)&&F.B(this.jc,b.jc)&&F.B(this.suffix,b.suffix)&&F.B(this.fc,b.fc)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,10,[au,null,BE,null,bp,null,St,null,Zm,null,Gy,null,Fx,null,Om,null,Ru,null,hy,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new sF(this.parent,this.kc,this.ac,this.indent,this.dc,this.ec,this.prefix,this.jc,this.suffix,this.fc,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "parent":case "section":case "start-col":case "indent":case "done-nl":case "intra-block-nl":case "prefix":case "per-line-prefix":case "suffix":case "logical-block-callback":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(bp,b):U.call(null,bp,b))?new sF(c,this.kc,this.ac,this.indent,this.dc,this.ec,this.prefix,this.jc,this.suffix,this.fc,this.G,this.F,null):r(U.B?U.B(St,b):U.call(null,St,b))?new sF(this.parent,c,this.ac,this.indent,this.dc,this.ec,this.prefix,this.jc,this.suffix,this.fc,this.G,this.F,null):r(U.B?U.B(Gy,b):U.call(null,Gy,b))?new sF(this.parent,this.kc,c,this.indent,this.dc,this.ec,this.prefix,this.jc,this.suffix,this.fc,this.G,this.F,null):r(U.B?U.B(BE,b):U.call(null,
BE,b))?new sF(this.parent,this.kc,this.ac,c,this.dc,this.ec,this.prefix,this.jc,this.suffix,this.fc,this.G,this.F,null):r(U.B?U.B(Zm,b):U.call(null,Zm,b))?new sF(this.parent,this.kc,this.ac,this.indent,c,this.ec,this.prefix,this.jc,this.suffix,this.fc,this.G,this.F,null):r(U.B?U.B(hy,b):U.call(null,hy,b))?new sF(this.parent,this.kc,this.ac,this.indent,this.dc,c,this.prefix,this.jc,this.suffix,this.fc,this.G,this.F,null):r(U.B?U.B(Fx,b):U.call(null,Fx,b))?new sF(this.parent,this.kc,this.ac,this.indent,
this.dc,this.ec,c,this.jc,this.suffix,this.fc,this.G,this.F,null):r(U.B?U.B(Om,b):U.call(null,Om,b))?new sF(this.parent,this.kc,this.ac,this.indent,this.dc,this.ec,this.prefix,c,this.suffix,this.fc,this.G,this.F,null):r(U.B?U.B(au,b):U.call(null,au,b))?new sF(this.parent,this.kc,this.ac,this.indent,this.dc,this.ec,this.prefix,this.jc,c,this.fc,this.G,this.F,null):r(U.B?U.B(Ru,b):U.call(null,Ru,b))?new sF(this.parent,this.kc,this.ac,this.indent,this.dc,this.ec,this.prefix,this.jc,this.suffix,c,this.G,
this.F,null):new sF(this.parent,this.kc,this.ac,this.indent,this.dc,this.ec,this.prefix,this.jc,this.suffix,this.fc,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,10,5,Z,[new Y(bp,this.parent,null),new Y(St,this.kc,null),new Y(Gy,this.ac,null),new Y(BE,this.indent,null),new Y(Zm,this.dc,null),new Y(hy,this.ec,null),new Y(Fx,this.prefix,null),new Y(Om,this.jc,null),new Y(au,this.suffix,null),new Y(Ru,this.fc,null)],null),this.F))};
g.ha=function(a,b){return new sF(this.parent,this.kc,this.ac,this.indent,this.dc,this.ec,this.prefix,this.jc,this.suffix,this.fc,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function tF(a,b){for(b=bp.C(b);;){if(null==b)return!1;if(a===b)return!0;b=bp.C(b)}}function uF(a,b,c,d,e,f,h,k){this.va=a;this.data=b;this.kd=c;this.ua=d;this.ta=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=uF.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "data":return this.data;case "trailing-white-space":return this.kd;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Iv,this.va],null),new X(null,2,5,Z,[Tm,this.data],null),new X(null,2,5,Z,[Zn,this.kd],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};g.qa=function(){return new cj(this,5,new X(null,5,5,Z,[Iv,Tm,Zn,Jx,wA],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new uF(this.va,this.data,this.kd,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1809113693^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.data,b.data)&&F.B(this.kd,b.kd)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,5,[wA,null,Zn,null,Iv,null,Jx,null,Tm,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new uF(this.va,this.data,this.kd,this.ua,this.ta,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "data":case "trailing-white-space":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Iv,b):U.call(null,Iv,b))?new uF(c,this.data,this.kd,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Tm,b):U.call(null,Tm,b))?new uF(this.va,c,this.kd,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Zn,b):U.call(null,Zn,b))?new uF(this.va,this.data,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new uF(this.va,this.data,this.kd,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new uF(this.va,this.data,this.kd,this.ua,c,this.G,
this.F,null):new uF(this.va,this.data,this.kd,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Iv,this.va,null),new Y(Tm,this.data,null),new Y(Zn,this.kd,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};g.ha=function(a,b){return new uF(this.va,this.data,this.kd,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function vF(a,b,c,d,e,f,h,k){this.va=a;this.type=b;this.Ea=c;this.ua=d;this.ta=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=vF.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "type":return this.type;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Iv,this.va],null),new X(null,2,5,Z,[to,this.type],null),new X(null,2,5,Z,[No,this.Ea],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};
g.qa=function(){return new cj(this,5,new X(null,5,5,Z,[Iv,to,No,Jx,wA],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new vF(this.va,this.type,this.Ea,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1640656800^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.type,b.type)&&F.B(this.Ea,b.Ea)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,5,[wA,null,to,null,No,null,Iv,null,Jx,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new vF(this.va,this.type,this.Ea,this.ua,this.ta,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "type":case "logical-block":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Iv,b):U.call(null,Iv,b))?new vF(c,this.type,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(to,b):U.call(null,to,b))?new vF(this.va,c,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(No,b):U.call(null,No,b))?new vF(this.va,this.type,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new vF(this.va,this.type,this.Ea,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new vF(this.va,this.type,this.Ea,this.ua,c,this.G,
this.F,null):new vF(this.va,this.type,this.Ea,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Iv,this.va,null),new Y(to,this.type,null),new Y(No,this.Ea,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};g.ha=function(a,b){return new vF(this.va,this.type,this.Ea,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function wF(a,b,c,d,e,f,h){this.va=a;this.Ea=b;this.ua=c;this.ta=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=wF.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[Iv,this.va],null),new X(null,2,5,Z,[No,this.Ea],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};
g.qa=function(){return new cj(this,4,new X(null,4,5,Z,[Iv,No,Jx,wA],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new wF(this.va,this.Ea,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-414877272^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.Ea,b.Ea)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,4,[wA,null,No,null,Iv,null,Jx,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new wF(this.va,this.Ea,this.ua,this.ta,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "logical-block":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Iv,b):U.call(null,Iv,b))?new wF(c,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(No,b):U.call(null,No,b))?new wF(this.va,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new wF(this.va,this.Ea,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new wF(this.va,this.Ea,this.ua,c,this.G,this.F,null):new wF(this.va,this.Ea,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(Iv,this.va,null),new Y(No,this.Ea,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};g.ha=function(a,b){return new wF(this.va,this.Ea,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function xF(a,b,c,d,e,f,h){this.va=a;this.Ea=b;this.ua=c;this.ta=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=xF.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[Iv,this.va],null),new X(null,2,5,Z,[No,this.Ea],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};g.qa=function(){return new cj(this,4,new X(null,4,5,Z,[Iv,No,Jx,wA],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new xF(this.va,this.Ea,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1365867980^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.Ea,b.Ea)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,4,[wA,null,No,null,Iv,null,Jx,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new xF(this.va,this.Ea,this.ua,this.ta,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "logical-block":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Iv,b):U.call(null,Iv,b))?new xF(c,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(No,b):U.call(null,No,b))?new xF(this.va,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new xF(this.va,this.Ea,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new xF(this.va,this.Ea,this.ua,c,this.G,this.F,null):new xF(this.va,this.Ea,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(Iv,this.va,null),new Y(No,this.Ea,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};g.ha=function(a,b){return new xF(this.va,this.Ea,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function yF(a,b,c,d,e,f,h,k,m){this.va=a;this.Ea=b;this.Tc=c;this.offset=d;this.ua=e;this.ta=f;this.G=h;this.F=k;this.J=m;this.O=2230716170;this.T=139264}g=yF.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "relative-to":return this.Tc;case "offset":return this.offset;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,V.B(new X(null,6,5,Z,[new X(null,2,5,Z,[Iv,this.va],null),new X(null,2,5,Z,[No,this.Ea],null),new X(null,2,5,Z,[Ds,this.Tc],null),new X(null,2,5,Z,[oA,this.offset],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};g.qa=function(){return new cj(this,6,new X(null,6,5,Z,[Iv,No,Ds,oA,Jx,wA],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new yF(this.va,this.Ea,this.Tc,this.offset,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 6+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1602780238^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.Ea,b.Ea)&&F.B(this.Tc,b.Tc)&&F.B(this.offset,b.offset)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,6,[oA,null,wA,null,Ds,null,No,null,Iv,null,Jx,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new yF(this.va,this.Ea,this.Tc,this.offset,this.ua,this.ta,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "logical-block":case "relative-to":case "offset":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Iv,b):U.call(null,Iv,b))?new yF(c,this.Ea,this.Tc,this.offset,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(No,b):U.call(null,No,b))?new yF(this.va,c,this.Tc,this.offset,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Ds,b):U.call(null,Ds,b))?new yF(this.va,this.Ea,c,this.offset,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(oA,b):U.call(null,oA,b))?new yF(this.va,this.Ea,this.Tc,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new yF(this.va,
this.Ea,this.Tc,this.offset,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new yF(this.va,this.Ea,this.Tc,this.offset,this.ua,c,this.G,this.F,null):new yF(this.va,this.Ea,this.Tc,this.offset,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,6,5,Z,[new Y(Iv,this.va,null),new Y(No,this.Ea,null),new Y(Ds,this.Tc,null),new Y(oA,this.offset,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};
g.ha=function(a,b){return new yF(this.va,this.Ea,this.Tc,this.offset,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};var zF=function(){var a=Ch(W),b=Ch(W),c=Ch(W),d=Ch(W),e=B.D(W,Qr,am.P?am.P():am.call(null));return new mm(ne.B("cljs.pprint","write-token"),function(f,h){return Iv.C(h)},e,a,b,c,d)}();
zF.mb(null,Mm,function(a,b){var c=Ru.C(y(y(a)));r(c)&&(c.C?c.C(kw):c.call(null,kw));b=No.C(b);c=Fx.C(b);r(c)&&xd(Ax.C(y(y(a))),c);a=oF(Ax.C(y(y(a))),Hp);Eh(Gy.C(b),a);return Eh(BE.C(b),a)});zF.mb(null,IE,function(a,b){var c=Ru.C(y(y(a)));r(c)&&(c.C?c.C(rs):c.call(null,rs));b=au.C(No.C(b));return r(b)?xd(Ax.C(y(y(a))),b):null});
zF.mb(null,TB,function(a,b){var c=No.C(b),d=BE.C(c),e=oA.C(b);b=Ds.C(b);if(r(F.B?F.B(gA,b):F.call(null,gA,b)))a=y(Gy.C(c));else if(r(F.B?F.B(Uo,b):F.call(null,Uo,b)))a=oF(Ax.C(y(y(a))),Hp);else throw Error(["No matching clause: ",t.C(b)].join(""));return Eh(d,e+a)});zF.mb(null,ts,function(a,b){return xd(Ax.C(y(y(a))),Tm.C(b))});
zF.mb(null,uC,function(a,b){var c=F.B(to.C(b),on);c||(c=(c=!F.B(to.C(b),Yz))?y(Zm.C(No.C(b))):c);r(c)?AF.B?AF.B(a,b):AF.call(null,a,b):(b=Zn.C(y(y(a))),r(b)&&xd(Ax.C(y(y(a))),b));return Fh.R(y(a),Q,Zn,null)});
function BF(a,b,c){b=G(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);if(!F.B(Iv.C(h),uC)){var k=Zn.C(y(y(a)));r(k)&&xd(Ax.C(y(y(a))),k)}zF.B(a,h);Fh.R(y(a),Q,Zn,Zn.C(h));h=Zn.C(y(y(a)));r(r(c)?h:c)&&(xd(Ax.C(y(y(a))),h),Fh.R(y(a),Q,Zn,null));f+=1}else if(b=G(b))zf(b)?(d=Od(b),b=Pd(b),h=d,e=K(d),d=h):(h=H(b),F.B(Iv.C(h),uC)||(d=Zn.C(y(y(a))),r(d)&&xd(Ax.C(y(y(a))),d)),zF.B(a,h),Fh.R(y(a),Q,Zn,Zn.C(h)),h=Zn.C(y(y(a))),r(r(c)?h:c)&&(xd(Ax.C(y(y(a))),h),Fh.R(y(a),Q,Zn,null)),b=J(b),d=null,e=
0),f=0;else break}function CF(a,b){var c=oF(Ax.C(y(y(a))),et),d;(d=null==c)||(a=oF(Ax.C(y(y(a))),Hp),b=(b=G(b))?wA.C(ff(b))-Jx.C(H(b)):0,d=a+b<c);return d}function DF(a,b,c){b=y(Zm.C(b));return r(b)?b:!CF(a,c)}function EF(a,b,c){var d=pt.C(y(y(a))),e=oF(Ax.C(y(y(a))),et);return r(d)?r(e)?(d=y(Gy.C(b))>=e-d)?DF(a,b,c):d:e:d}var FF=function(){var a=Ch(W),b=Ch(W),c=Ch(W),d=Ch(W),e=B.D(W,Qr,am.P?am.P():am.call(null));return new mm(ne.B("cljs.pprint","emit-nl?"),function(f){return to.C(f)},e,a,b,c,d)}();
FF.mb(null,VA,function(a,b,c){a=No.C(a);return DF(b,a,c)});FF.mb(null,oD,function(a,b,c){a=No.C(a);return EF(b,a,c)});FF.mb(null,Yz,function(a,b,c,d){a=No.C(a);var e=y(hy.C(a));return r(e)?e:(d=!CF(b,d))?d:EF(b,a,c)});FF.mb(null,on,function(){return!0});function GF(a){var b=H(a),c=No.C(b);b=G(Kk(function(d){return!(F.B(Iv.C(d),uC)&&tF(No.C(d),c))},J(a)));return new X(null,2,5,Z,[b,G(Rh(K(b)+1,a))],null)}
function HF(a){var b=H(a),c=No.C(b);return G(Kk(function(d){var e=No.C(d);return!(F.B(Iv.C(d),uC)&&(F.B(e,c)||tF(e,c)))},J(a)))}function AF(a,b){xd(Ax.C(y(y(a))),"\n");Fh.R(y(a),Q,Zn,null);b=No.C(b);var c=Om.C(b);r(c)&&xd(Ax.C(y(y(a))),c);c=Tg(t,Wh(y(BE.C(b))-K(c)," "));xd(Ax.C(y(y(a))),c);a:for(Eh(hy.C(b),!0),Eh(Zm.C(b),!0),a=bp.C(b);;)if(r(a))Eh(Zm.C(a),!0),Eh(hy.C(a),!0),a=bp.C(a);else break a;return null}
function IF(a){var b=G(Kk(function(c){return!F.B(Iv.C(c),uC)},a));return new X(null,2,5,Z,[b,G(Rh(K(b),a))],null)}var JF=function JF(a,b){var d=IF(b);b=N(d,0,null);var e=N(d,1,null);r(b)&&BF(a,b,!1);if(r(e)){d=GF(e);b=N(d,0,null);d=N(d,1,null);var f=H(e),h=FF.R(f,a,b,HF(e));r(h)&&(AF(a,f),e=J(e));CF(a,e)?a=e:(e=JF.B?JF.B(a,b):JF.call(null,a,b),F.B(e,b)?(BF(a,b,!1),a=d):a=ei.B(hf,V.B(e,d)));return a}return null};
function KF(a){for(var b=iu.C(y(y(a)));;){Fh.R(y(a),Q,iu,ei.B(hf,b));if(CF(a,b))return null;var c=JF(a,b);if(b!==c)b=c;else return null}}function LF(a,b){Fh.R(y(a),Q,iu,gf.B(iu.C(y(y(a))),b));return CF(a,iu.C(y(y(a))))?null:KF(a)}function MF(a){var b=Zn.C(y(y(a)));return r(b)?(xd(Ax.C(y(y(a))),b),Fh.R(y(a),Q,Zn,null)):null}
function NF(a,b){var c=VE(b,"\n",-1);if(F.B(K(c),1))return b;b=Om.C(H(wy.C(y(y(a)))));var d=H(c);if(F.B(Vw,ct.C(y(y(a))))){var e=Np.C(y(y(a))),f=e+K(d);Fh.R(y(a),Q,Np,f);LF(a,new uF(ts,d,null,e,f,null,null,null));KF(a);d=iu.C(y(y(a)));r(d)&&(BF(a,d,!0),Fh.R(y(a),Q,iu,hf))}else MF(a),xd(Ax.C(y(y(a))),d);xd(Ax.C(y(y(a))),"\n");d=G(J(Fk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.Da(null,h);xd(Ax.C(y(y(a))),k);xd(Ax.C(y(y(a))),"\n");r(b)&&xd(Ax.C(y(y(a))),b);h+=1}else if(d=G(d))e=d,zf(e)?(d=Od(e),h=
Pd(e),e=d,f=K(d),d=h):(d=H(e),xd(Ax.C(y(y(a))),d),xd(Ax.C(y(y(a))),"\n"),r(b)&&xd(Ax.C(y(y(a))),b),d=J(e),e=null,f=0),h=0;else break;Fh.R(y(a),Q,Vw,Vo);return ff(c)}
function OF(a){var b=PF,c=QF,d=new sF(null,null,Ch(0),Ch(0),Ch(!1),Ch(!1),null,null,null,null,null,null,null),e=Ch(Vj([wy,pt,sz,Xp,fr,ct,Np,Zn,Ax,Pz,iu],[d,c,d,!0,null,Vo,0,null,rF(a,b),1,hf]));if("undefined"===typeof Pb||"undefined"===typeof ZE||"undefined"===typeof aF)aF=function(f,h,k,m,n,p){this.wb=f;this.Lh=h;this.xl=k;this.Kk=m;this.fields=n;this.Zk=p;this.O=1074167808;this.T=0},aF.prototype.ha=function(f,h){return new aF(this.wb,this.Lh,this.xl,this.Kk,this.fields,h)},aF.prototype.ga=function(){return this.Zk},
aF.prototype.Vb=function(){return this.fields},aF.prototype.ze=function(f,h){f=nc(h);if(r(F.B?F.B(String,f):F.call(null,String,f))){var k=NF(this,h);h=k.replace(/\s+$/,"");f=kg.B(k,h.length);var m=ct.C(y(y(this)));if(F.B(m,Vo))return MF(this),xd(Ax.C(y(y(this))),h),Fh.R(y(this),Q,Zn,f);m=Np.C(y(y(this)));k=m+K(k);Fh.R(y(this),Q,Np,k);return LF(this,new uF(ts,h,f,m,k,null,null,null))}if(r(F.B?F.B(Number,f):F.call(null,Number,f)))return F.B(ct.C(y(y(this))),Vo)?(MF(this),h=xd(Ax.C(y(y(this))),h)):F.B(h,
"\n")?h=NF(this,"\n"):(f=Np.C(y(y(this))),k=f+1,Fh.R(y(this),Q,Np,k),h=cg(h),h=LF(this,new uF(ts,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.C(f)].join(""));},aF.prototype.Wd=function(){this.uh(null);return yd(Ax.C(y(y(this))))},aF.prototype.uh=function(){return F.B(ct.C(y(y(this))),Vw)?(BF(this,iu.C(y(y(this))),!0),Fh.R(y(this),Q,iu,hf)):MF(this)},aF.Wa=!0,aF.Sa="cljs.pprint/t_cljs$pprint24275",aF.Za=function(f){return xd(f,"cljs.pprint/t_cljs$pprint24275")};return new aF(a,
b,c,d,e,W)}function RF(a,b){var c=Sb;b=new sF(wy.C(y(y(c))),null,Ch(0),Ch(0),Ch(!1),Ch(!1),a,null,b,null,null,null,null);Fh.R(y(c),Q,wy,b);if(F.B(ct.C(y(y(c))),Vo)){MF(c);var d=Ru.C(y(y(c)));r(d)&&(d.C?d.C(kw):d.call(null,kw));r(a)&&xd(Ax.C(y(y(c))),a);c=oF(Ax.C(y(y(c))),Hp);Eh(b.ac,c);Eh(b.indent,c)}else d=Np.C(y(y(c))),a=d+(r(a)?K(a):0),Fh.R(y(c),Q,Np,a),LF(c,new wF(Mm,b,d,a,null,null,null))}
function SF(){var a=Sb,b=wy.C(y(y(a))),c=au.C(b);if(F.B(ct.C(y(y(a))),Vo)){MF(a);r(c)&&xd(Ax.C(y(y(a))),c);var d=Ru.C(y(y(a)));r(d)&&(d.C?d.C(rs):d.call(null,rs))}else d=Np.C(y(y(a))),c=d+(r(c)?K(c):0),Fh.R(y(a),Q,Np,c),LF(a,new xF(IE,b,d,c,null,null,null));Fh.R(y(a),Q,wy,bp.C(b))}var TF=!0,UF=null,PF=72,QF=40,VF=null,WF=null,XF=null,YF=null,ZF=10,$F=0,aG=null;function bG(a){var b=null!=a?a.O&32768||l===a.Ei?!0:a.O?!1:mc(ed,a):mc(ed,a);return b?Xp.C(y(y(a))):b}
function cG(a){var b=aG;r(b)&&(b=Wb,b=r(b)?aG>=Wb:b);hc(TF)?gF.call(null,a):r(b)?xd(Sb,"..."):(r(aG)&&(aG+=1),UF.call(null,a));return b}var dG=function dG(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new re(c.slice(1),0,null):null;return dG.I(arguments[0],c)};
dG.I=function(a,b){var c=uk.I(M([new q(null,1,[xE,!0],null),Tg(pk,b)]));b=ZF;var d=WF,e=Wb,f=Xb,h=VF,k=QF,m=UF,n=TF,p=YF,u=Vb,v=PF,z=XF,C=Ax.B(c,ZF),E=gw.B(c,WF),I=vw.B(c,Wb),O=ym.B(c,Xb),P=gr.B(c,VF),T=pt.B(c,QF),aa=yt.B(c,UF),ea=bq.B(c,TF),va=cA.B(c,YF),ua=$b.B(c,Vb),Ma=In.B(c,PF),Ka=Xo.B(c,XF);ZF=C;WF=E;Wb=I;Xb=O;VF=P;QF=T;UF=aa;TF=ea;YF=va;Vb=ua;PF=Ma;XF=Ka;try{var la=new Ob,ya=S(c,xE)?xE.C(c):!0,sa=!0===ya||null==ya?new Yd(la):ya;if(r(TF)){var Da=hc(bG(sa));c=Sb;Sb=Da?OF(sa):sa;try{cG(a),nF()}finally{Sb=
c}}else{Da=Sb;Sb=sa;try{gF.call(null,a)}finally{Sb=Da}}!0===ya&&dl(t.C(la));return null==ya?t.C(la):null}finally{XF=z,PF=v,Vb=u,YF=p,TF=n,UF=m,QF=k,VF=h,Xb=f,Wb=e,WF=d,ZF=b}};dG.aa=1;dG.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};
function eG(){var a=new X(null,6,5,Z,[zy,new X(null,2,5,Z,[og(HB,wE,new X(null,1,5,Z,[yp],null)),LA],null),pE,bo,Sn,new X(null,2,5,Z,[wE,kv],null)],null);var b=y(fG);a=gG.B?gG.B(a,b):gG.call(null,a,b);b=new Ob;var c=Sb;Sb=new Yd(b);try{var d=Sb,e=hc(bG(d)),f=Sb;Sb=e?OF(d):d;try{e=TF;TF=!0;try{cG(a)}finally{TF=e}F.B(0,oF(Sb,Hp))||xd(Sb,"\n");nF()}finally{Sb=f}dl(t.C(b))}finally{Sb=c}}
function hG(a,b){if(hc(b.C?b.C(a):b.call(null,a)))throw Error(["Bad argument: ",t.C(a),". It must be one of ",t.C(b)].join(""));}function iG(){var a=Xb;return r(a)?$F>=Xb:a}function jG(a){hG(a,new zk(null,new q(null,4,[on,null,oD,null,Yz,null,VA,null],null),null));var b=Sb;Fh.R(y(b),Q,ct,Vw);var c=Np.C(y(y(b))),d=wy.C(y(y(b)));LF(b,new vF(uC,a,d,c,c,null,null,null))}
function kG(a,b){hG(a,new zk(null,new q(null,2,[gA,null,Uo,null],null),null));var c=Sb,d=wy.C(y(y(c)));if(F.B(ct.C(y(y(c))),Vo)){MF(c);var e=BE.C(d);if(r(F.B?F.B(gA,a):F.call(null,gA,a)))a=y(Gy.C(d));else if(r(F.B?F.B(Uo,a):F.call(null,Uo,a)))a=oF(Ax.C(y(y(c))),Hp);else throw Error(["No matching clause: ",t.C(a)].join(""));Eh(e,b+a)}else e=Np.C(y(y(c))),LF(c,new yF(TB,d,a,b,e,e,null,null,null))}
function lG(a,b,c){b="string"===typeof b?mG(b):b;c=nG(c);a:{var d=new Ob,e=hc(a)||!0===a?new Yd(d):a,f=oG(b)&&hc(bG(e))?r(bG(e))?e:OF(e):e,h=Sb;Sb=f;try{try{pG(b,c)}finally{e!==f&&yd(f)}var k=hc(a)?t.C(d):!0===a?dl(t.C(d)):null;break a}finally{Sb=h}k=void 0}return k}var qG=null;function rG(a,b){a=[t.C(a),"\n",t.C(qG),"\n",t.C(Tg(t,Wh(b," "))),"^\n"].join("");throw Error(a);}function sG(a,b,c,d,e,f){this.Pd=a;this.rest=b;this.pos=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=sG.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seq":return this.Pd;case "rest":return this.rest;case "pos":return this.pos;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[ox,this.Pd],null),new X(null,2,5,Z,[zq,this.rest],null),new X(null,2,5,Z,[Np,this.pos],null)],null),this.F))};g.qa=function(){return new cj(this,3,new X(null,3,5,Z,[ox,zq,Np],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new sG(this.Pd,this.rest,this.pos,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-402038447^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Pd,b.Pd)&&F.B(this.rest,b.rest)&&F.B(this.pos,b.pos)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,3,[Np,null,ox,null,zq,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new sG(this.Pd,this.rest,this.pos,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seq":case "rest":case "pos":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(ox,b):U.call(null,ox,b))?new sG(c,this.rest,this.pos,this.G,this.F,null):r(U.B?U.B(zq,b):U.call(null,zq,b))?new sG(this.Pd,c,this.pos,this.G,this.F,null):r(U.B?U.B(Np,b):U.call(null,Np,b))?new sG(this.Pd,this.rest,c,this.G,this.F,null):new sG(this.Pd,this.rest,this.pos,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(ox,this.Pd,null),new Y(zq,this.rest,null),new Y(Np,this.pos,null)],null),this.F))};g.ha=function(a,b){return new sG(this.Pd,this.rest,this.pos,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function nG(a){a=G(a);return new sG(a,a,0,null,null,null)}
function tG(a){var b=zq.C(a);if(r(b))return new X(null,2,5,Z,[H(b),new sG(ox.C(a),J(b),Np.C(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}function uG(a){var b=tG(a);a=N(b,0,null);b=N(b,1,null);a="string"===typeof a?mG(a):a;return new X(null,2,5,Z,[a,b],null)}function vG(a,b){return b>=Np.C(a)?(b=Np.C(a)-b,wG.B?wG.B(a,b):wG.call(null,a,b)):new sG(ox.C(a),Rh(b,ox.C(a)),b,null,null,null)}
function wG(a,b){var c=Np.C(a)+b;return 0>b?vG(a,c):new sG(ox.C(a),Rh(b,zq.C(a)),c,null,null,null)}function xG(a,b,c,d,e,f,h){this.func=a;this.def=b;this.params=c;this.offset=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=xG.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "func":return this.func;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[QB,this.func],null),new X(null,2,5,Z,[yn,this.def],null),new X(null,2,5,Z,[vq,this.params],null),new X(null,2,5,Z,[oA,this.offset],null)],null),this.F))};g.qa=function(){return new cj(this,4,new X(null,4,5,Z,[QB,yn,vq,oA],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new xG(this.func,this.def,this.params,this.offset,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-829256337^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.func,b.func)&&F.B(this.def,b.def)&&F.B(this.params,b.params)&&F.B(this.offset,b.offset)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,4,[oA,null,QB,null,vq,null,yn,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new xG(this.func,this.def,this.params,this.offset,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "func":case "def":case "params":case "offset":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(QB,b):U.call(null,QB,b))?new xG(c,this.def,this.params,this.offset,this.G,this.F,null):r(U.B?U.B(yn,b):U.call(null,yn,b))?new xG(this.func,c,this.params,this.offset,this.G,this.F,null):r(U.B?U.B(vq,b):U.call(null,vq,b))?new xG(this.func,this.def,c,this.offset,this.G,this.F,null):r(U.B?U.B(oA,b):U.call(null,oA,b))?new xG(this.func,this.def,this.params,c,this.G,this.F,null):new xG(this.func,this.def,this.params,this.offset,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(QB,this.func,null),new Y(yn,this.def,null),new Y(vq,this.params,null),new Y(oA,this.offset,null)],null),this.F))};g.ha=function(a,b){return new xG(this.func,this.def,this.params,this.offset,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function yG(a,b){var c=N(a,0,null);a=N(a,1,null);var d=N(a,0,null);a=N(a,1,null);d=S(new zk(null,new q(null,2,[ir,null,WC,null],null),null),c)?new X(null,2,5,Z,[d,b],null):F.B(d,Nt)?tG(b):F.B(d,uz)?new X(null,2,5,Z,[K(zq.C(b)),b],null):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);return new X(null,2,5,Z,[new X(null,2,5,Z,[c,new X(null,2,5,Z,[b,a],null)],null),d],null)}function zG(a,b){b=jF(yG,b,a);a=N(b,0,null);b=N(b,1,null);return new X(null,2,5,Z,[ei.B(W,a),b],null)}
var AG=new q(null,3,[2,"#b",8,"#o",16,"#x"],null);
function BG(a,b,c){c=tG(c);var d=N(c,0,null);c=N(c,1,null);if(Gf(d))if(F.B(ZF,10))var e=[t.C(d),r(YF)?".":null].join("");else{e=t;var f=e.C;if(r(YF)){var h=B.B(AG,ZF);h=r(h)?h:["#",t.C(ZF),"r"].join("")}else h=null;e=[f.call(e,h),t.C(CG(ZF,d))].join("")}else e=null;a=r(e)?e:a.C?a.C(d):a.call(null,d);d=a.length;e=d+nr.C(b);e=e>=Yu.C(b)?e:e+(fg(Yu.C(b)-e-1,Lo.C(b))+1)*Lo.C(b);d=Tg(t,Wh(e-d,iz.C(b)));r(WC.C(b))?fF.I(M([[t.C(d),t.C(a)].join("")])):fF.I(M([[t.C(a),t.C(d)].join("")]));return c}
function DG(a,b){return ng(H(kF(function(c){return 0<c?new X(null,2,5,Z,[gg(c,a),fg(c,a)],null):new X(null,2,5,Z,[null,null],null)},b)))}function CG(a,b){return 0===b?"0":Tg(t,Ph.B(function(c){return 10>c?cg(iF("0")+c):cg(iF("a")+(c-10))},DG(a,b)))}function EG(a,b){return ng(H(kF(function(c){return new X(null,2,5,Z,[G(ng(Qh.B(a,c))),G(Rh(a,c))],null)},ng(b))))}
function FG(a,b,c){c=tG(c);var d=N(c,0,null);c=N(c,1,null);if(Gf(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&F.B(d,Math.floor(d))){var e=0>d,f=CG(a,e?-d:d);a=r(ir.C(b))?function(){var h=Ph.B(function(m){return Tg(t,m)},EG(Fz.C(b),f)),k=Wh(K(h),Bq.C(b));return Tg(t,J(Zh.B(k,h)))}():f;a=e?["-",t.C(a)].join(""):r(WC.C(b))?["+",t.C(a)].join(""):a;a=a.length<Yu.C(b)?[t.C(Tg(t,Wh(Yu.C(b)-a.length,iz.C(b)))),t.C(a)].join(""):a;fF.I(M([a]))}else BG(sl,new q(null,5,[Yu,
Yu.C(b),Lo,1,nr,0,iz,iz.C(b),WC,!0],null),nG(new X(null,1,5,Z,[d],null)));return c}
var GG=new X(null,20,5,Z,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),HG=new X(null,20,5,Z,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),IG=new X(null,10,5,Z,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),JG=new X(null,10,5,Z,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),KG=new X(null,22,5,Z," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function LG(a){var b=fg(a,100);a=gg(a,100);var c=0<b?[t.C(Se(GG,b))," hundred"].join(""):null,d=t,e=d.C;if(0<a)if(20>a)var f=Se(GG,a);else{f=fg(a,10);var h=gg(a,10);f=[t.C(0<f?Se(IG,f):null),0<f&&0<h?"-":null,t.C(0<h?Se(GG,h):null)].join("")}else f=null;return[c,0<b&&0<a?" ":null,e.call(d,f)].join("")}
function MG(a,b){var c=K(a),d=hf;--c;var e=H(a);for(a=J(a);;){if(null==a)return[t.C(Tg(t,Rh(1,Zh.B(Vh(", "),d)))),sf(e)||sf(d)?null:", ",t.C(e),!sf(e)&&0<c+b?[" ",t.C(Se(KG,c+b))].join(""):null].join("");d=sf(e)?d:gf.B(d,[t.C(e)," ",t.C(Se(KG,c+b))].join(""));--c;e=H(a);a=J(a)}}
var NG=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IIII V VI VII VIII VIIII".split(" "),null),new X(null,9,5,Z,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new X(null,9,5,Z,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new X(null,3,5,Z,["M","MM","MMM"],null)],null),OG=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IV V VI VII VIII IX".split(" "),null),new X(null,9,5,Z,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new X(null,9,5,Z,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new X(null,
3,5,Z,["M","MM","MMM"],null)],null);function PG(a,b){b=tG(b);var c=N(b,0,null);b=N(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=DG(10,c);c=hf;for(var e=K(d)-1;;)if(sf(d)){fF.I(M([Tg(t,c)]));break}else{var f=H(d);c=F.B(0,f)?c:gf.B(c,Se(Se(a,e),f-1));--e;d=J(d)}}else FG(10,new q(null,5,[Yu,0,iz," ",Bq,",",Fz,3,ir,!0],null),nG(new X(null,1,5,Z,[c],null)));return b}var QG=new q(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function RG(a,b){a=tG(b);b=N(a,0,null);a=N(a,1,null);var c=iF(b);b=c&127;c&=128;var d=B.B(QG,b);0<c&&fF.I(M(["Meta-"]));fF.I(M([r(d)?d:32>b?["Control-",t.C(cg(b+64))].join(""):F.B(b,127)?"Control-?":cg(b)]));return a}
function SG(a,b){var c=tG(b);b=N(c,0,null);c=N(c,1,null);a=FC.C(a);if(r(F.B?F.B("o",a):F.call(null,"o",a)))lG(!0,"\\o~3,'0o",M([iF(b)]));else if(r(F.B?F.B("u",a):F.call(null,"u",a)))lG(!0,"\\u~4,'0x",M([iF(b)]));else if(r(F.B?F.B(null,a):F.call(null,null,a)))xd(Sb,r(F.B?F.B("\b",b):F.call(null,"\b",b))?"\\backspace":r(F.B?F.B(" ",b):F.call(null," ",b))?"\\space":r(F.B?F.B("\t",b):F.call(null,"\t",b))?"\\tab":r(F.B?F.B("\n",b):F.call(null,"\n",b))?"\\newline":r(F.B?F.B("\f",b):F.call(null,"\f",b))?
"\\formfeed":r(F.B?F.B("\r",b):F.call(null,"\r",b))?"\\return":r(F.B?F.B('"',b):F.call(null,'"',b))?'\\"':r(F.B?F.B("\\",b):F.call(null,"\\",b))?"\\\\":["\\",t.C(b)].join(""));else throw Error(["No matching clause: ",t.C(a)].join(""));return c}function TG(a,b){b=tG(b);a=N(b,0,null);b=N(b,1,null);fF.I(M([a]));return b}function UG(a){a=H(a);return F.B(Mu,a)||F.B(jC,a)}
function VG(a,b,c){return bf(jF(function(d,e){if(UG(e))return new X(null,2,5,Z,[null,e],null);e=zG(vq.C(d),e);var f=N(e,0,null);e=N(e,1,null);var h=lF(f);f=N(h,0,null);h=N(h,1,null);f=Q.D(f,tn,c);return new X(null,2,5,Z,[null,Tg(QB.C(d),new X(null,3,5,Z,[f,e,h],null))],null)},b,a))}
function WG(a){a=t.C(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new X(null,2,5,Z,[a,t.C(a.length-1)],null):new X(null,2,5,Z,[[kg.D(a,0,c),kg.B(a,c+1)].join(""),t.C(c-1)],null):0>c?new X(null,2,5,Z,[kg.D(a,0,b),kg.B(a,b+1)],null):new X(null,2,5,Z,[[kg.D(a,0,1),kg.D(a,2,b)].join(""),kg.B(a,b+1)],null);b=N(a,0,null);a=N(a,1,null);a:if(c=K(b),0<c&&F.B(Se(b,K(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(F.B(Se(b,c),"0"))--c;else{b=kg.D(b,0,c+1);break a}}a:{c=b;var d=K(c);if(0<d&&
F.B(Se(c,0),"0"))for(var e=0;;){if(F.B(e,d)||!F.B(Se(c,e),"0")){c=kg.B(c,e);break a}e+=1}}b=K(b)-K(c);a=0<K(a)&&F.B(Se(a,0),"+")?kg.B(a,1):a;return sf(c)?new X(null,2,5,Z,["0",0],null):new X(null,2,5,Z,[c,parseInt(a,10)-b],null)}
function XG(a,b,c,d){if(r(r(c)?c:d)){var e=K(a);d=r(d)?2>d?2:d:0;r(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=F.B(c,0)?new X(null,4,5,Z,[["0",t.C(a)].join(""),b+1,1,e+1],null):new X(null,4,5,Z,[a,b,c,e],null);c=N(f,0,null);e=N(f,1,null);d=N(f,2,null);f=N(f,3,null);if(r(d)){if(0>d)return new X(null,3,5,Z,["0",0,!1],null);if(f>d){b=Se(c,d);a=kg.D(c,0,d);if(iF(b)>=iF("5")){a:for(b=K(a)-1,c=b|0;;){if(0>c){b=Ug(t,"1",Wh(b+1,"0"));break a}if(F.B("9",a.charAt(c)))--c;else{b=Vg(t,kg.D(a,0,c),cg(iF(a.charAt(c))+
1),Wh(b-c,"0"));break a}}a=K(b)>a.length;return new X(null,3,5,Z,[a?kg.D(b,0,K(b)-1):b,e,a],null)}return new X(null,3,5,Z,[a,e,!1],null)}}}return new X(null,3,5,Z,[a,b,!1],null)}function YG(a,b,c){var d=0>b?new X(null,2,5,Z,[[t.C(Tg(t,Wh(-b-1,"0"))),t.C(a)].join(""),-1],null):new X(null,2,5,Z,[a,b],null);a=N(d,0,null);var e=N(d,1,null);d=K(a);c=r(c)?e+c+1:e+1;c=d<c?[t.C(a),t.C(Tg(t,Wh(c-d,"0")))].join(""):a;0>b?b=[".",t.C(c)].join(""):(b+=1,b=[kg.D(c,0,b),".",kg.B(c,b)].join(""));return b}
function ZG(a,b){return 0>b?[".",t.C(a)].join(""):[kg.D(a,0,b),".",kg.B(a,b)].join("")}
function $G(a,b){var c=JB.C(a),d=FB.C(a);b=tG(b);var e=N(b,0,null);b=N(b,1,null);var f=0>e?new X(null,2,5,Z,["-",-e],null):new X(null,2,5,Z,["+",e],null),h=N(f,0,null);f=N(f,1,null);f=WG(f);var k=N(f,0,null),m=N(f,1,null)+AB.C(a);f=function(){var v=WC.C(a);return r(v)?v:0>e}();var n=hc(d)&&K(k)-1<=m,p=XG(k,m,d,r(c)?c-(r(f)?1:0):null);k=N(p,0,null);m=N(p,1,null);p=N(p,2,null);k=YG(k,r(p)?m+1:m,d);d=r(r(c)?r(d)?1<=d&&F.B(k.charAt(0),"0")&&F.B(k.charAt(1),".")&&k.length>c-(r(f)?1:0):d:c)?kg.B(k,1):k;
m=F.B(H(d),".");if(r(c)){k=d.length;k=r(f)?k+1:k;m=m&&!(k>=c);n=n&&!(k>=c);var u=m||n?k+1:k;r(function(){var v=u>c;return v?fE.C(a):v}())?fF.I(M([Tg(t,Wh(c,fE.C(a)))])):fF.I(M([[t.C(Tg(t,Wh(c-u,iz.C(a)))),t.C(r(f)?h:null),m?"0":null,d,n?"0":null].join("")]))}else fF.I(M([[t.C(r(f)?h:null),m?"0":null,d,n?"0":null].join("")]));return b}
function aH(a,b){b=tG(b);var c=N(b,0,null);b=N(b,1,null);var d=WG(0>c?-c:c);N(d,0,null);for(N(d,1,null);;){var e=N(d,0,null),f=N(d,1,null),h=JB.C(a),k=FB.C(a),m=DB.C(a),n=AB.C(a),p=function(){var I=Ln.C(a);return r(I)?I:"E"}();d=function(){var I=WC.C(a);return r(I)?I:0>c}();var u=0>=n,v=f-(n-1),z=t.C(Math.abs(v));p=[t.C(p),0>v?"-":"+",t.C(r(m)?Tg(t,Wh(m-z.length,"0")):null),z].join("");var C=p.length;v=K(e);e=[t.C(Tg(t,Wh(-n,"0"))),t.C(e),t.C(r(k)?Tg(t,Wh(k-(v-1)-(0>n?-n:0),"0")):null)].join("");
v=r(h)?h-C:null;e=XG(e,0,F.B(n,0)?k-1:0<n?k:0>n?k-1:null,r(v)?v-(r(d)?1:0):null);v=N(e,0,null);N(e,1,null);z=N(e,2,null);e=ZG(v,n);k=F.B(n,K(v))&&null==k;if(hc(z)){if(r(h)){f=e.length+C;f=r(d)?f+1:f;var E=(u=u&&!F.B(f,h))?f+1:f;f=k&&E<h;r(function(){var I=E>h;I||(I=m,I=r(I)?C-2>m:I);return r(I)?fE.C(a):I}())?fF.I(M([Tg(t,Wh(h,fE.C(a)))])):fF.I(M([[t.C(Tg(t,Wh(h-E-(f?1:0),iz.C(a)))),r(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,p].join("")]))}else fF.I(M([[r(d)?0>c?"-":"+":null,u?"0":null,e,k?"0":
null,p].join("")]));break}else d=new X(null,2,5,Z,[v,f+1],null)}return b}function bH(a,b,c){var d=tG(b),e=N(d,0,null);N(d,1,null);d=WG(0>e?-e:e);var f=N(d,0,null);d=N(d,1,null);var h=JB.C(a),k=FB.C(a),m=DB.C(a);d=F.B(e,0)?0:d+1;e=r(m)?m+2:4;h=r(h)?h-e:null;r(k)?f=k:(f=K(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=$G(new q(null,6,[JB,h,FB,d,AB,0,fE,fE.C(a),iz,iz.C(a),WC,WC.C(a)],null),b,c),fF.I(M([Tg(t,Wh(e," "))])),a):aH(a,b,c)}
function cH(a,b){b=tG(b);var c=N(b,0,null);b=N(b,1,null);var d=WG(Math.abs(c)),e=N(d,0,null),f=N(d,1,null),h=FB.C(a),k=PB.C(a);d=JB.C(a);var m=function(){var p=WC.C(a);return r(p)?p:0>c}(),n=XG(e,f,h,null);e=N(n,0,null);f=N(n,1,null);n=N(n,2,null);h=YG(e,r(n)?f+1:f,h);k=[t.C(Tg(t,Wh(k-h.indexOf("."),"0"))),h].join("");h=k.length+(r(m)?1:0);fF.I(M([[r(function(){var p=ir.C(a);return r(p)?m:p}())?0>c?"-":"+":null,t.C(Tg(t,Wh(d-h,iz.C(a)))),r(function(){var p=hc(ir.C(a));return p?m:p}())?0>c?"-":"+":
null,k].join("")]));return b}function dH(a,b){var c=mD.C(a);c=r(c)?new X(null,2,5,Z,[c,b],null):tG(b);b=N(c,0,null);c=N(c,1,null);var d=kt.C(a);b=0>b||b>=K(d)?H(tq.C(a)):Se(d,b);return r(b)?VG(b,c,tn.C(a)):c}function eH(a,b){var c=tG(b);b=N(c,0,null);c=N(c,1,null);var d=kt.C(a);b=r(b)?bf(d):H(d);return r(b)?VG(b,c,tn.C(a)):c}function fH(a,b){var c=tG(b),d=N(c,0,null);c=N(c,1,null);var e=kt.C(a);e=r(d)?H(e):null;return r(d)?r(e)?VG(e,b,tn.C(a)):b:c}
function gH(a,b){var c=gv.C(a),d=H(kt.C(a));d=sf(d)?uG(b):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=tG(d);var e=N(d,0,null);d=N(d,1,null);var f=0;e=nG(e);for(var h=-1;;){if(hc(c)&&F.B(Np.C(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=sf(zq.C(e))&&(hc(ir.C(eo.C(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=VG(b,e,tn.C(a));if(F.B(Mu,H(h)))return d;f+=1;var k=Np.C(e);e=h;h=k}}
function hH(a,b){var c=gv.C(a),d=H(kt.C(a));d=sf(d)?uG(b):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=tG(d);var e=N(d,0,null);d=N(d,1,null);for(var f=0;;){var h=sf(e)&&(hc(ir.C(eo.C(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=VG(b,nG(H(e)),nG(J(e)));if(F.B(jC,H(h)))return d;f+=1;e=J(e)}}
function iH(a,b){var c=gv.C(a),d=H(kt.C(a)),e=sf(d)?uG(b):new X(null,2,5,Z,[d,b],null);b=N(e,0,null);d=0;e=N(e,1,null);for(var f=-1;;){if(hc(c)&&F.B(Np.C(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=sf(zq.C(e))&&(hc(ir.C(eo.C(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=VG(b,e,tn.C(a));if(F.B(Mu,H(f)))return bf(f);d+=1;var h=Np.C(e);e=f;f=h}}
function jH(a,b){var c=gv.C(a),d=H(kt.C(a)),e=sf(d)?uG(b):new X(null,2,5,Z,[d,b],null);b=N(e,0,null);d=0;for(e=N(e,1,null);;){var f=sf(zq.C(e))&&(hc(ir.C(eo.C(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=zq.C(e);f=r(f)?new X(null,2,5,Z,[H(f),new sG(ox.C(e),J(f),Np.C(e)+1,null,null,null)],null):new X(null,2,5,Z,[null,e],null);e=N(f,0,null);f=N(f,1,null);e=VG(b,nG(e),f);if(F.B(jC,H(e)))return f;e=f;d+=1}}
function kH(a,b){if(r(ir.C(eo.C(a)))){var c=kt.C(a),d=K(c),e=1<d?Rm.C(vq.C(H(H(c)))):r(ir.C(a))?"(":null,f=Se(c,1<d?1:0);c=2<d?Rm.C(vq.C(H(Se(c,2)))):r(ir.C(a))?")":null;d=tG(b);b=N(d,0,null);d=N(d,1,null);if(r(iG()))xd(Sb,"#");else{var h=$F,k=aG;$F+=1;aG=0;try{RF(e,c),VG(f,nG(b),tn.C(a)),SF()}finally{aG=k,$F=h}}a=d}else a=lH(a,b);return a}
function mH(a,b,c){for(var d=hf;;){if(sf(a))return new X(null,2,5,Z,[d,b],null);var e=H(a);a:{var f=new Ob,h=Sb;Sb=new Yd(f);try{var k=new X(null,2,5,Z,[VG(e,b,c),t.C(f)],null);break a}finally{Sb=h}k=void 0}b=N(k,0,null);e=N(k,1,null);if(F.B(Mu,H(b)))return new X(null,2,5,Z,[d,bf(b)],null);a=J(a);d=gf.B(d,e)}}
function lH(a,b){var c=function(){var P=tq.C(a);return r(P)?mH(P,b,tn.C(a)):null}(),d=N(c,0,null);d=N(d,0,null);c=N(c,1,null);var e=r(c)?c:b;c=function(){var P=GE.C(a);return r(P)?zG(P,e):null}();var f=N(c,0,null);c=N(c,1,null);var h=r(c)?c:e;c=function(){var P=H(mA.C(f));return r(P)?P:0}();var k=function(){var P=H(JC.C(f));return r(P)?P:oF(Sb,et)}(),m=kt.C(a);h=mH(m,h,tn.C(a));var n=N(h,0,null);h=N(h,1,null);var p=function(){var P=K(n)-1+(r(ir.C(a))?1:0)+(r(WC.C(a))?1:0);return 1>P?1:P}();m=w.B(Wf,
Ph.B(K,n));var u=Yu.C(a),v=nr.C(a),z=Lo.C(a),C=m+p*v;u=C<=u?u:u+z*(1+fg(C-u-1,z));var E=u-m;m=function(){var P=fg(E,p);return v>P?v:P}();z=E-m*p;m=Tg(t,Wh(m,iz.C(a)));r(r(d)?oF(Ax.C(y(y(Sb))),Hp)+c+u>k:d)&&fF.I(M([d]));c=z;for(var I=n,O=function(){var P=ir.C(a);return r(P)?P:F.B(K(I),1)&&hc(WC.C(a))}();;)if(G(I))fF.I(M([[t.C(hc(O)?H(I):null),t.C(r(function(){var P=O;return r(P)?P:(P=J(I))?P:WC.C(a)}())?m:null),t.C(0<c?iz.C(a):null)].join("")])),--c,I=d=r(O)?I:J(I),O=!1;else break;return h}
function nH(a){if("undefined"===typeof Pb||"undefined"===typeof ZE||"undefined"===typeof bF)bF=function(b,c){this.wb=b;this.$k=c;this.O=1074135040;this.T=0},bF.prototype.ha=function(b,c){return new bF(this.wb,c)},bF.prototype.ga=function(){return this.$k},bF.prototype.Wd=function(){return yd(this.wb)},bF.prototype.ze=function(b,c){b=nc(c);if(r(F.B?F.B(String,b):F.call(null,String,b)))return xd(this.wb,c.toLowerCase());if(r(F.B?F.B(Number,b):F.call(null,Number,b)))return xd(this.wb,cg(c).toLowerCase());
throw Error(["No matching clause: ",t.C(b)].join(""));},bF.Wa=!0,bF.Sa="cljs.pprint/t_cljs$pprint25951",bF.Za=function(b){return xd(b,"cljs.pprint/t_cljs$pprint25951")};return new bF(a,W)}
function oH(a){if("undefined"===typeof Pb||"undefined"===typeof ZE||"undefined"===typeof cF)cF=function(b,c){this.wb=b;this.al=c;this.O=1074135040;this.T=0},cF.prototype.ha=function(b,c){return new cF(this.wb,c)},cF.prototype.ga=function(){return this.al},cF.prototype.Wd=function(){return yd(this.wb)},cF.prototype.ze=function(b,c){b=nc(c);if(r(F.B?F.B(String,b):F.call(null,String,b)))return xd(this.wb,c.toUpperCase());if(r(F.B?F.B(Number,b):F.call(null,Number,b)))return xd(this.wb,cg(c).toUpperCase());
throw Error(["No matching clause: ",t.C(b)].join(""));},cF.Wa=!0,cF.Sa="cljs.pprint/t_cljs$pprint25966",cF.Za=function(b){return xd(b,"cljs.pprint/t_cljs$pprint25966")};return new cF(a,W)}
function pH(a,b){var c=H(a);a=r(r(b)?r(c)?lb(c):c:b)?[c.toUpperCase(),kg.B(a,1)].join(""):a;return Tg(t,H(kF(function(d){if(sf(d))return new X(null,2,5,Z,[null,null],null);var e=RegExp("\\W\\w","g").exec(d);e=r(e)?e.index+1:e;return r(e)?new X(null,2,5,Z,[[kg.D(d,0,e),Se(d,e).toUpperCase()].join(""),kg.B(d,e+1)],null):new X(null,2,5,Z,[d,null],null)},a)))}
function qH(a){var b=Ch(!0);if("undefined"===typeof Pb||"undefined"===typeof ZE||"undefined"===typeof dF)dF=function(c,d,e){this.wb=c;this.Vf=d;this.bl=e;this.O=1074135040;this.T=0},dF.prototype.ha=function(c,d){return new dF(this.wb,this.Vf,d)},dF.prototype.ga=function(){return this.bl},dF.prototype.Wd=function(){return yd(this.wb)},dF.prototype.ze=function(c,d){c=nc(d);if(r(F.B?F.B(String,c):F.call(null,String,c)))return xd(this.wb,pH(d.toLowerCase(),y(this.Vf))),0<d.length?Eh(this.Vf,Qa(Se(d,K(d)-
1))):null;if(r(F.B?F.B(Number,c):F.call(null,Number,c)))return d=cg(d),c=r(y(this.Vf))?d.toUpperCase():d,xd(this.wb,c),Eh(this.Vf,Qa(d));throw Error(["No matching clause: ",t.C(c)].join(""));},dF.Wa=!0,dF.Sa="cljs.pprint/t_cljs$pprint26004",dF.Za=function(c){return xd(c,"cljs.pprint/t_cljs$pprint26004")};return new dF(a,b,W)}
function rH(a){var b=Ch(!1);if("undefined"===typeof Pb||"undefined"===typeof ZE||"undefined"===typeof eF)eF=function(c,d,e){this.wb=c;this.uf=d;this.cl=e;this.O=1074135040;this.T=0},eF.prototype.ha=function(c,d){return new eF(this.wb,this.uf,d)},eF.prototype.ga=function(){return this.cl},eF.prototype.Wd=function(){return yd(this.wb)},eF.prototype.ze=function(c,d){c=nc(d);if(r(F.B?F.B(String,c):F.call(null,String,c)))return d=d.toLowerCase(),hc(y(this.uf))?(c=RegExp("\\S","g").exec(d),c=r(c)?c.index:
c,r(c)?(xd(this.wb,[kg.D(d,0,c),Se(d,c).toUpperCase(),kg.B(d,c+1).toLowerCase()].join("")),Eh(this.uf,!0)):xd(this.wb,d)):xd(this.wb,d.toLowerCase());if(r(F.B?F.B(Number,c):F.call(null,Number,c)))return d=cg(d),c=hc(y(this.uf)),r(c?lb(d):c)?(Eh(this.uf,!0),xd(this.wb,d.toUpperCase())):xd(this.wb,d.toLowerCase());throw Error(["No matching clause: ",t.C(c)].join(""));},eF.Wa=!0,eF.Sa="cljs.pprint/t_cljs$pprint26012",eF.Za=function(c){return xd(c,"cljs.pprint/t_cljs$pprint26012")};return new eF(a,b,
W)}function sH(a,b){var c=r(ir.C(a))?Uo:gA;kG(c,PB.C(a));return b}function tH(a,b){a=r(ir.C(a))?r(WC.C(a))?on:Yz:r(WC.C(a))?oD:VA;jG(a);return b}
var uH=Vj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new q(null,5,[Pn,"A",vq,new q(null,4,[Yu,new X(null,2,5,Z,[0,Number],null),Lo,new X(null,2,5,Z,[1,Number],null),nr,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null)],null),xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(){return function(a,b){return BG(sl,a,b)}}],null),new q(null,5,[Pn,"S",vq,new q(null,4,[Yu,new X(null,2,5,Z,[0,Number],null),Lo,new X(null,2,5,Z,[1,Number],
null),nr,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null)],null),xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(){return function(a,b){return BG(ql,a,b)}}],null),new q(null,5,[Pn,"D",vq,new q(null,4,[Yu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Bq,new X(null,2,5,Z,[",",String],null),Fz,new X(null,2,5,Z,[3,Number],null)],null),xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(){return function(a,
b){return FG(10,a,b)}}],null),new q(null,5,[Pn,"B",vq,new q(null,4,[Yu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Bq,new X(null,2,5,Z,[",",String],null),Fz,new X(null,2,5,Z,[3,Number],null)],null),xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(){return function(a,b){return FG(2,a,b)}}],null),new q(null,5,[Pn,"O",vq,new q(null,4,[Yu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Bq,new X(null,2,5,Z,[",",String],
null),Fz,new X(null,2,5,Z,[3,Number],null)],null),xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(){return function(a,b){return FG(8,a,b)}}],null),new q(null,5,[Pn,"X",vq,new q(null,4,[Yu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Bq,new X(null,2,5,Z,[",",String],null),Fz,new X(null,2,5,Z,[3,Number],null)],null),xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(){return function(a,b){return FG(16,a,b)}}],
null),new q(null,5,[Pn,"R",vq,new q(null,5,[Ax,new X(null,2,5,Z,[null,Number],null),Yu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Bq,new X(null,2,5,Z,[",",String],null),Fz,new X(null,2,5,Z,[3,Number],null)],null),xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(a){return r(H(Ax.C(a)))?function(b,c){return FG(Ax.C(b),b,c)}:r(function(){var b=WC.C(a);return r(b)?ir.C(a):b}())?function(b,c){return PG(NG,c)}:r(WC.C(a))?function(b,c){return PG(OG,
c)}:r(ir.C(a))?function(b,c){b=tG(c);c=N(b,0,null);b=N(b,1,null);if(F.B(0,c))fF.I(M(["zeroth"]));else{var d=DG(1E3,0>c?-c:c);if(K(d)<=K(KG)){var e=Ph.B(LG,Sh(1,d));e=MG(e,1);var f=ff(d);d=fg(f,100);f=gg(f,100);var h=0<d?[t.C(Se(GG,d))," hundred"].join(""):null,k=t,m=k.C;if(0<f)if(20>f)var n=Se(HG,f);else{n=fg(f,10);var p=gg(f,10);n=0<n&&!(0<p)?Se(JG,n):[t.C(0<n?Se(IG,n):null),0<n&&0<p?"-":null,t.C(0<p?Se(HG,p):null)].join("")}else n=0<d?"th":null;d=[h,0<d&&0<f?" ":null,m.call(k,n)].join("");fF.I(M([[0>
c?"minus ":null,sf(e)||sf(d)?sf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else FG(10,new q(null,5,[Yu,0,iz," ",Bq,",",Fz,3,ir,!0],null),nG(new X(null,1,5,Z,[c],null))),e=gg(c,100),c=11<e||19>e,e=gg(e,10),fF.I(M([1===e&&c?"st":2===e&&c?"nd":3===e&&c?"rd":"th"]))}return b}:function(b,c){c=tG(c);b=N(c,0,null);c=N(c,1,null);if(F.B(0,b))fF.I(M(["zero"]));else{var d=DG(1E3,0>b?-b:b);K(d)<=K(KG)?(d=Ph.B(LG,d),d=MG(d,0),fF.I(M([[0>b?"minus ":null,d].join("")]))):FG(10,new q(null,5,[Yu,0,iz,
" ",Bq,",",Fz,3,ir,!0],null),nG(new X(null,1,5,Z,[b],null)))}return c}}],null),new q(null,5,[Pn,"P",vq,W,xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(){return function(a,b){b=r(ir.C(a))?wG(b,-1):b;a=r(WC.C(a))?new X(null,2,5,Z,["y","ies"],null):new X(null,2,5,Z,["","s"],null);var c=tG(b);b=N(c,0,null);c=N(c,1,null);fF.I(M([F.B(b,1)?H(a):bf(a)]));return c}}],null),new q(null,5,[Pn,"C",vq,new q(null,1,[FC,new X(null,2,5,Z,[null,String],null)],null),xs,new zk(null,
new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(a){return r(ir.C(a))?RG:r(WC.C(a))?SG:TG}],null),new q(null,5,[Pn,"F",vq,new q(null,5,[JB,new X(null,2,5,Z,[null,Number],null),FB,new X(null,2,5,Z,[null,Number],null),AB,new X(null,2,5,Z,[0,Number],null),fE,new X(null,2,5,Z,[null,String],null),iz,new X(null,2,5,Z,[" ",String],null)],null),xs,new zk(null,new q(null,1,[WC,null],null),null),Tt,W,cE,function(){return $G}],null),new q(null,5,[Pn,"E",vq,new q(null,7,[JB,new X(null,2,5,
Z,[null,Number],null),FB,new X(null,2,5,Z,[null,Number],null),DB,new X(null,2,5,Z,[null,Number],null),AB,new X(null,2,5,Z,[1,Number],null),fE,new X(null,2,5,Z,[null,String],null),iz,new X(null,2,5,Z,[" ",String],null),Ln,new X(null,2,5,Z,[null,String],null)],null),xs,new zk(null,new q(null,1,[WC,null],null),null),Tt,W,cE,function(){return aH}],null),new q(null,5,[Pn,"G",vq,new q(null,7,[JB,new X(null,2,5,Z,[null,Number],null),FB,new X(null,2,5,Z,[null,Number],null),DB,new X(null,2,5,Z,[null,Number],
null),AB,new X(null,2,5,Z,[1,Number],null),fE,new X(null,2,5,Z,[null,String],null),iz,new X(null,2,5,Z,[" ",String],null),Ln,new X(null,2,5,Z,[null,String],null)],null),xs,new zk(null,new q(null,1,[WC,null],null),null),Tt,W,cE,function(){return bH}],null),new q(null,5,[Pn,"$",vq,new q(null,4,[FB,new X(null,2,5,Z,[2,Number],null),PB,new X(null,2,5,Z,[1,Number],null),JB,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null)],null),xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],
null),null),Tt,W,cE,function(){return cH}],null),new q(null,5,[Pn,"%",vq,new q(null,1,[jt,new X(null,2,5,Z,[1,Number],null)],null),xs,Bk,Tt,W,cE,function(){return function(a,b){a=jt.C(a);for(var c=0;;)if(c<a)hF(),c+=1;else break;return b}}],null),new q(null,5,[Pn,"\x26",vq,new q(null,1,[jt,new X(null,2,5,Z,[1,Number],null)],null),xs,new zk(null,new q(null,1,[bq,null],null),null),Tt,W,cE,function(){return function(a,b){a=jt.C(a);0<a&&((null!=Sb?Sb.O&32768||l===Sb.Ei||(Sb.O?0:mc(ed,Sb)):mc(ed,Sb))?
F.B(0,oF(Ax.C(y(y(Sb))),Hp))||hF():hF());--a;for(var c=0;;)if(c<a)hF(),c+=1;else break;return b}}],null),new q(null,5,[Pn,"|",vq,new q(null,1,[jt,new X(null,2,5,Z,[1,Number],null)],null),xs,Bk,Tt,W,cE,function(){return function(a,b){a=jt.C(a);for(var c=0;;)if(c<a)fF.I(M(["\f"])),c+=1;else break;return b}}],null),new q(null,5,[Pn,"~",vq,new q(null,1,[PB,new X(null,2,5,Z,[1,Number],null)],null),xs,Bk,Tt,W,cE,function(){return function(a,b){a=PB.C(a);fF.I(M([Tg(t,Wh(a,"~"))]));return b}}],null),new q(null,
5,[Pn,"\n",vq,W,xs,new zk(null,new q(null,2,[ir,null,WC,null],null),null),Tt,W,cE,function(){return function(a,b){r(WC.C(a))&&hF();return b}}],null),new q(null,5,[Pn,"T",vq,new q(null,2,[vD,new X(null,2,5,Z,[1,Number],null),Lo,new X(null,2,5,Z,[1,Number],null)],null),xs,new zk(null,new q(null,2,[WC,null,bq,null],null),null),Tt,W,cE,function(a){return r(WC.C(a))?function(b,c){var d=vD.C(b);b=Lo.C(b);var e=d+oF(Ax.C(y(y(Sb))),Hp);e=0<b?gg(e,b):0;d+=F.B(0,e)?0:b-e;fF.I(M([Tg(t,Wh(d," "))]));return c}:
function(b,c){var d=vD.C(b);b=Lo.C(b);var e=oF(Ax.C(y(y(Sb))),Hp);d=e<d?d-e:F.B(b,0)?0:b-gg(e-d,b);fF.I(M([Tg(t,Wh(d," "))]));return c}}],null),new q(null,5,[Pn,"*",vq,new q(null,1,[PB,new X(null,2,5,Z,[1,Number],null)],null),xs,new zk(null,new q(null,2,[ir,null,WC,null],null),null),Tt,W,cE,function(){return function(a,b){var c=PB.C(a);return r(WC.C(a))?vG(b,c):wG(b,r(ir.C(a))?-c:c)}}],null),new q(null,5,[Pn,"?",vq,W,xs,new zk(null,new q(null,1,[WC,null],null),null),Tt,W,cE,function(a){return r(WC.C(a))?
function(b,c){var d=uG(c);c=N(d,0,null);d=N(d,1,null);return VG(c,d,tn.C(b))}:function(b,c){var d=uG(c);c=N(d,0,null);d=N(d,1,null);var e=tG(d);d=N(e,0,null);e=N(e,1,null);d=nG(d);VG(c,d,tn.C(b));return e}}],null),new q(null,5,[Pn,"(",vq,W,xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,new q(null,3,[qy,")",hC,null,tq,null],null),cE,function(a){var b=r(function(){var c=WC.C(a);return r(c)?ir.C(a):c}())?oH:r(ir.C(a))?qH:r(WC.C(a))?rH:nH;return function(c,d){a:{var e=H(kt.C(c)),
f=Sb;Sb=b.C?b.C(Sb):b.call(null,Sb);try{var h=VG(e,d,tn.C(c));break a}finally{Sb=f}h=void 0}return h}}],null),new q(null,5,[Pn,")",vq,W,xs,Bk,Tt,W,cE,function(){return null}],null),new q(null,5,[Pn,"[",vq,new q(null,1,[mD,new X(null,2,5,Z,[null,Number],null)],null),xs,new zk(null,new q(null,2,[ir,null,WC,null],null),null),Tt,new q(null,3,[qy,"]",hC,!0,tq,xB],null),cE,function(a){return r(ir.C(a))?eH:r(WC.C(a))?fH:dH}],null),new q(null,5,[Pn,";",vq,new q(null,2,[mA,new X(null,2,5,Z,[null,Number],null),
JC,new X(null,2,5,Z,[null,Number],null)],null),xs,new zk(null,new q(null,1,[ir,null],null),null),Tt,new q(null,1,[Lz,!0],null),cE,function(){return null}],null),new q(null,5,[Pn,"]",vq,W,xs,Bk,Tt,W,cE,function(){return null}],null),new q(null,5,[Pn,"{",vq,new q(null,1,[gv,new X(null,2,5,Z,[null,Number],null)],null),xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,new q(null,2,[qy,"}",hC,!1],null),cE,function(a){var b=WC.C(a);b=r(b)?ir.C(a):b;return r(b)?jH:r(ir.C(a))?hH:r(WC.C(a))?
iH:gH}],null),new q(null,5,[Pn,"}",vq,W,xs,new zk(null,new q(null,1,[ir,null],null),null),Tt,W,cE,function(){return null}],null),new q(null,5,[Pn,"\x3c",vq,new q(null,4,[Yu,new X(null,2,5,Z,[0,Number],null),Lo,new X(null,2,5,Z,[1,Number],null),nr,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null)],null),xs,new zk(null,new q(null,4,[ir,null,WC,null,ns,null,bq,null],null),null),Tt,new q(null,3,[qy,"\x3e",hC,!0,tq,Kx],null),cE,function(){return kH}],null),new q(null,5,[Pn,"\x3e",
vq,W,xs,new zk(null,new q(null,1,[ir,null],null),null),Tt,W,cE,function(){return null}],null),new q(null,5,[Pn,"^",vq,new q(null,3,[RD,new X(null,2,5,Z,[null,Number],null),SD,new X(null,2,5,Z,[null,Number],null),PD,new X(null,2,5,Z,[null,Number],null)],null),xs,new zk(null,new q(null,1,[ir,null],null),null),Tt,W,cE,function(){return function(a,b){var c=RD.C(a),d=SD.C(a),e=PD.C(a),f=r(ir.C(a))?jC:Mu;return r(r(c)?r(d)?e:d:c)?c<=d&&d<=e?new X(null,2,5,Z,[f,b],null):b:r(r(c)?d:c)?F.B(c,d)?new X(null,
2,5,Z,[f,b],null):b:r(c)?F.B(c,0)?new X(null,2,5,Z,[f,b],null):b:(r(ir.C(a))?sf(zq.C(tn.C(a))):sf(zq.C(b)))?new X(null,2,5,Z,[f,b],null):b}}],null),new q(null,5,[Pn,"W",vq,W,xs,new zk(null,new q(null,4,[ir,null,WC,null,ns,null,bq,null],null),null),Tt,W,cE,function(a){if(r(function(){var c=WC.C(a);return r(c)?c:ir.C(a)}())){var b=V.B(r(WC.C(a))?new X(null,4,5,Z,[ym,null,vw,null],null):hf,r(ir.C(a))?new X(null,2,5,Z,[bq,!0],null):hf);return function(c,d){d=tG(d);c=N(d,0,null);d=N(d,1,null);return r(Ug(dG,
c,b))?new X(null,2,5,Z,[Mu,d],null):d}}return function(c,d){d=tG(d);c=N(d,0,null);d=N(d,1,null);return r(cG(c))?new X(null,2,5,Z,[Mu,d],null):d}}],null),new q(null,5,[Pn,"_",vq,W,xs,new zk(null,new q(null,3,[ir,null,WC,null,ns,null],null),null),Tt,W,cE,function(){return tH}],null),new q(null,5,[Pn,"I",vq,new q(null,1,[PB,new X(null,2,5,Z,[0,Number],null)],null),xs,new zk(null,new q(null,1,[ir,null],null),null),Tt,W,cE,function(){return sH}],null)]),vH=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,wH=new zk(null,
new q(null,2,[uz,null,Nt,null],null),null);
function xH(a){var b=N(a,0,null),c=N(a,1,null),d=N(a,2,null);a=new RegExp(vH.source,"g");var e=a.exec(b);return r(e)?(d=H(e),b=kg.B(b,a.lastIndex),a=c+a.lastIndex,F.B(",",Se(b,0))?new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[kg.B(b,1),a+1,!0],null)],null):new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[b,a,!1],null)],null)):r(d)?rG("Badly formed parameters in format directive",c):new X(null,2,5,Z,[null,new X(null,2,5,Z,[b,c],null)],null)}
function yH(a){var b=N(a,0,null);a=N(a,1,null);return new X(null,2,5,Z,[F.B(b.length,0)?null:F.B(b.length,1)&&S(new zk(null,new q(null,2,["V",null,"v",null],null),null),Se(b,0))?Nt:F.B(b.length,1)&&F.B("#",Se(b,0))?uz:F.B(b.length,2)&&F.B("'",Se(b,0))?Se(b,1):parseInt(b,10),a],null)}var zH=new q(null,2,[":",ir,"@",WC],null);
function AH(a,b){return kF(function(c){var d=N(c,0,null),e=N(c,1,null);c=N(c,2,null);if(sf(d))return new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null);var f=B.B(zH,H(d));return r(f)?S(c,f)?rG(['Flag "',t.C(H(d)),'" appears more than once in a directive'].join(""),e):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[kg.B(d,1),e+1,Q.D(c,f,new X(null,2,5,Z,[!0,e],null))],null)],null):new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null)},new X(null,3,5,Z,[a,b,W],null))}
function BH(a,b){var c=xs.C(a);r(function(){var d=hc(WC.C(c));return d?WC.C(b):d}())&&rG(['"@" is an illegal flag for format directive "',t.C(Pn.C(a)),'"'].join(""),Se(WC.C(b),1));r(function(){var d=hc(ir.C(c));return d?ir.C(b):d}())&&rG(['":" is an illegal flag for format directive "',t.C(Pn.C(a)),'"'].join(""),Se(ir.C(b),1));r(function(){var d=hc(ns.C(c));return d?(d=WC.C(b),r(d)?ir.C(b):d):d}())&&rG(['Cannot combine "@" and ":" flags for format directive "',t.C(Pn.C(a)),'"'].join(""),function(){var d=
Se(ir.C(b),1),e=Se(WC.C(b),1);return d<e?d:e}())}
function CH(a,b,c,d){BH(a,c);K(b)>K(vq.C(a))&&rG(lG(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([Pn.C(a),K(b),K(vq.C(a))])),bf(H(b)));Vk(Ph.D(function(e,f){var h=H(e);return null==h||S(wH,h)||F.B(bf(bf(f)),nc(h))?null:rG(["Parameter ",ug(H(f)),' has bad type in directive "',t.C(Pn.C(a)),'": ',t.C(nc(h))].join(""),bf(e))},b,vq.C(a)));return uk.I(M([ei.B(W,ng(function(){return function h(f){return new vg(null,function(){for(;;){var k=
G(f);if(k){if(zf(k)){var m=Od(k),n=K(m),p=zg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),z=N(v,0,null);v=N(v,1,null);v=N(v,0,null);p.add(new X(null,2,5,Z,[z,new X(null,2,5,Z,[v,d],null)],null));u+=1}else{m=!0;break a}return m?Bg(Dg(p),h(Pd(k))):Bg(Dg(p),null)}m=H(k);p=N(m,0,null);m=N(m,1,null);m=N(m,0,null);return Ye(new X(null,2,5,Z,[p,new X(null,2,5,Z,[m,d],null)],null),h(te(k)))}return null}},null,null)}(vq.C(a))}())),w.D(function(e,f){return Ug(Q,e,f)},W,ci(function(e){return H(Se(e,1))},Gk(ij(vq.C(a)),
b))),c]))}
function DH(a,b){b=kF(xH,new X(null,3,5,Z,[a,b,!1],null));a=N(b,0,null);var c=N(b,1,null);b=N(c,0,null);c=N(c,1,null);b=AH(b,c);N(b,0,null);b=N(b,1,null);var d=N(b,0,null),e=N(b,1,null);b=N(b,2,null);c=H(d);var f=B.B(uH,c.toUpperCase()),h=r(f)?CH(f,Ph.B(yH,a),b,e):null;hc(c)&&rG("Format string ended in the middle of a directive",e);hc(f)&&rG(['Directive "',t.C(c),'" is undefined'].join(""),e);return new X(null,2,5,Z,[new xG(function(){var k=cE.C(f);return k.B?k.B(h,e):k.call(null,h,e)}(),f,h,e,null,
null,null),function(){var k=kg.B(d,1),m=e+1;if(F.B("\n",Pn.C(f))&&hc(ir.C(h)))a:{var n=new X(null,2,5,Z,[" ","\t"],null);n=tf(n)?Dk(n):If([n]);for(var p=0;;){var u;(u=F.B(p,K(k)))||(u=Se(k,p),u=n.C?n.C(u):n.call(null,u),u=hc(u));if(u){n=p;break a}p+=1}}else n=0;k=kg.B(k,n);return new X(null,2,5,Z,[k,m+n],null)}()],null)}function EH(a,b){return new xG(function(c,d){fF.I(M([a]));return d},null,new q(null,1,[Rm,a],null),b,null,null,null)}
function FH(a,b){var c=GH(Tt.C(yn.C(a)),oA.C(a),b);b=N(c,0,null);c=N(c,1,null);return new X(null,2,5,Z,[new xG(QB.C(a),yn.C(a),uk.I(M([vq.C(a),mF(b,oA.C(a))])),oA.C(a),null,null,null),c],null)}
function HH(a,b,c){return kF(function(d){if(sf(d))return rG("No closing bracket found.",b);var e=H(d);d=J(d);if(r(qy.C(Tt.C(yn.C(e)))))e=FH(e,d);else if(F.B(qy.C(a),Pn.C(yn.C(e))))e=new X(null,2,5,Z,[null,new X(null,4,5,Z,[kp,vq.C(e),null,d],null)],null);else{var f=Lz.C(Tt.C(yn.C(e)));f=r(f)?ir.C(vq.C(e)):f;e=r(f)?new X(null,2,5,Z,[null,new X(null,4,5,Z,[tq,null,vq.C(e),d],null)],null):r(Lz.C(Tt.C(yn.C(e))))?new X(null,2,5,Z,[null,new X(null,4,5,Z,[Lz,null,null,d],null)],null):new X(null,2,5,Z,[e,
d],null)}return e},c)}
function GH(a,b,c){return bf(kF(function(d){var e=N(d,0,null),f=N(d,1,null);d=N(d,2,null);var h=HH(a,b,d);d=N(h,0,null);var k=N(h,1,null);h=N(k,0,null);var m=N(k,1,null),n=N(k,2,null);k=N(k,3,null);return F.B(h,kp)?new X(null,2,5,Z,[null,new X(null,2,5,Z,[vk.I(V,M([e,mf([r(f)?tq:kt,new X(null,1,5,Z,[d],null),eo,m])])),k],null)],null):F.B(h,tq)?r(tq.C(e))?rG('Two else clauses ("~:;") inside bracket construction.',b):hc(tq.C(a))?rG('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
F.B(Kx,tq.C(a))&&G(kt.C(e))?rG('The else clause ("~:;") is only allowed in the first position for this directive.',b):F.B(Kx,tq.C(a))?new X(null,2,5,Z,[!0,new X(null,3,5,Z,[vk.I(V,M([e,new q(null,2,[tq,new X(null,1,5,Z,[d],null),GE,n],null)])),!1,k],null)],null):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[vk.I(V,M([e,new q(null,1,[kt,new X(null,1,5,Z,[d],null)],null)])),!0,k],null)],null):F.B(h,Lz)?r(f)?rG('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):hc(hC.C(a))?
rG('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[vk.I(V,M([e,new q(null,1,[kt,new X(null,1,5,Z,[d],null)],null)])),!1,k],null)],null):null},new X(null,3,5,Z,[new q(null,1,[kt,hf],null),!1,c],null)))}function IH(a){return H(kF(function(b){var c=H(b);b=J(b);var d=Tt.C(yn.C(c));return r(qy.C(d))?FH(c,b):new X(null,2,5,Z,[c,b],null)},a))}
function mG(a){var b=qG;qG=a;try{return IH(H(kF(function(c){var d=N(c,0,null);c=N(c,1,null);if(sf(d))return new X(null,2,5,Z,[null,d],null);var e=d.indexOf("~");return 0>e?new X(null,2,5,Z,[EH(d,c),new X(null,2,5,Z,["",c+d.length],null)],null):0===e?DH(kg.B(d,1),c+1):new X(null,2,5,Z,[EH(kg.D(d,0,e),c),new X(null,2,5,Z,[kg.B(d,e),e+c],null)],null)},new X(null,2,5,Z,[a,0],null))))}finally{qG=b}}
var oG=function oG(a){for(;;){if(sf(a))return!1;var c=bq.C(xs.C(yn.C(H(a))));r(c)||(c=qh(oG,H(kt.C(vq.C(H(a))))),c=r(c)?c:qh(oG,H(tq.C(vq.C(H(a))))));if(r(c))return!0;a=J(a)}};function pG(a,b){jF(function(c,d){if(UG(d))return new X(null,2,5,Z,[null,d],null);d=zG(vq.C(c),d);var e=N(d,0,null);d=N(d,1,null);var f=lF(e);e=N(f,0,null);f=N(f,1,null);e=Q.D(e,tn,d);return new X(null,2,5,Z,[null,Tg(QB.C(c),new X(null,3,5,Z,[e,d,f],null))],null)},b,a);return null}
var JH=Tl(mG),KH=new q(null,6,[Pr,"'",vC,"#'",up,"@",vs,"~",gn,"@",Hw,"~"],null);function LH(a){var b=H(a);b=KH.C?KH.C(b):KH.call(null,b);return r(r(b)?F.B(2,K(a)):b)?(xd(Sb,b),cG(bf(a)),!0):null}function MH(a){if(r(iG()))xd(Sb,"#");else{var b=$F,c=aG;$F+=1;aG=0;try{RF("[","]");for(var d=0,e=G(a);;){if(hc(Wb)||d<Wb){if(e&&(cG(H(e)),J(e))){xd(Sb," ");jG(VA);a=d+1;var f=J(e);d=a;e=f;continue}}else xd(Sb,"...");break}SF()}finally{aG=c,$F=b}}return null}
(function(){var a=JH("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new re(f,0,null)}return c.call(this,e)}function c(d){d=nG(d);return pG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()})();
function NH(a){var b=xf(a)?null:function(){var m=new oe(function(){return vl},zB,Vj([an,xv,Gt,Wz,qn,Iu,Fm,Wv,uA,Ns,ZA],[!0,Dv,as,"cljs/core.cljs",15,1,10543,10543,og(new X(null,1,5,Z,[zo],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",r(vl)?vl.Li:null]));return m.C?m.C(a):m.call(null,a)}(),c=N(b,0,null);b=N(b,1,null);var d=r(b)?b:a,e=r(c)?["#:",t.C(c),"{"].join(""):"{";if(r(iG()))xd(Sb,"#");else{c=$F;b=aG;$F+=1;aG=0;try{RF(e,"}");e=0;for(var f=G(d);;){if(hc(Wb)||e<Wb){if(f){if(r(iG()))xd(Sb,
"#");else{d=$F;var h=aG;$F+=1;aG=0;try{RF(null,null),cG(cf(f)),xd(Sb," "),jG(VA),aG=0,cG(H(J(H(f)))),SF()}finally{aG=h,$F=d}}if(J(f)){xd(Sb,", ");jG(VA);d=e+1;var k=J(f);e=d;f=k;continue}}}else xd(Sb,"...");break}SF()}finally{aG=b,$F=c}}return null}function OH(a){return xd(Sb,ql.I(M([a])))}
var PH=function(){var a=JH("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new re(f,0,null)}return c.call(this,e)}function c(d){d=nG(d);return pG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}(),QH=new q(null,2,["core$future_call","Future","core$promise","Promise"],null),RH=function(){var a=JH("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=
null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new re(f,0,null)}return c.call(this,e)}function c(d){d=nG(d);return pG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}();function SH(a){return a instanceof Yi?iD:(null!=a?a.O&32768||l===a.Ei||(a.O?0:mc(ed,a)):mc(ed,a))?ev:a instanceof A?Zr:Cf(a)?TD:wf(a)?Zs:yf(a)?qs:uf(a)?qx:null==a?null:nm}var TH,UH=Ch(W),VH=Ch(W),WH=Ch(W),XH=Ch(W),YH=B.D(W,Qr,am.P?am.P():am.call(null));
TH=new mm(ne.B("cljs.pprint","simple-dispatch"),SH,YH,UH,VH,WH,XH);km(TH,TD,function(a){if(hc(LH(a)))if(r(iG()))xd(Sb,"#");else{var b=$F,c=aG;$F+=1;aG=0;try{RF("(",")");for(var d=0,e=G(a);;){if(hc(Wb)||d<Wb){if(e&&(cG(H(e)),J(e))){xd(Sb," ");jG(VA);a=d+1;var f=J(e);d=a;e=f;continue}}else xd(Sb,"...");break}SF()}finally{aG=c,$F=b}}return null});km(TH,qs,MH);km(TH,Zs,NH);km(TH,qx,PH);km(TH,null,function(){return xd(Sb,ql.I(M([null])))});km(TH,nm,OH);UF=TH;
function ZH(a){return yf(a)?new X(null,2,5,Z,["[","]"],null):new X(null,2,5,Z,["(",")"],null)}
function $H(a){if(vf(a)){var b=ZH(a),c=N(b,0,null),d=N(b,1,null),e=G(a),f=H(e),h=J(e);if(r(iG()))xd(Sb,"#");else{var k=$F,m=aG,n=$F+1;$F=n;aG=0;try{RF(c,d);(function(){var va=JH("~w~:i");return function(){function ua(Ka){var la=null;if(0<arguments.length){la=0;for(var ya=Array(arguments.length-0);la<ya.length;)ya[la]=arguments[la+0],++la;la=new re(ya,0,null)}return Ma.call(this,la)}function Ma(Ka){Ka=nG(Ka);return pG(va,Ka)}ua.aa=0;ua.fa=function(Ka){Ka=G(Ka);return Ma(Ka)};ua.I=Ma;return ua}()})()(f);
for(var p=h;;)if(G(p)){(function(){var va=JH(" ");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new re(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=nG(sa);return pG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p," ",va,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=H(p);if(vf(u)){var v=ZH(u),z=N(v,0,null),C=N(v,1,null);if(r(iG()))xd(Sb,
"#");else{var E=$F,I=aG,O=$F+1;$F=O;aG=0;try{RF(z,C);if(F.B(K(u),3)&&bf(u)instanceof D){var P=u,T=N(P,0,null),aa=N(P,1,null),ea=N(P,2,null);(function(){var va=JH("~w ~w ");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new re(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=nG(sa);return pG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p,
"~w ~w ",va,P,T,aa,ea,E,I,O,0,v,z,C,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(T,aa);vf(ea)?function(){var va=yf(ea)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",ua="string"===typeof va?JH(va):va;return function(Ma,Ka,la){return function(){function ya(Da){var fb=null;if(0<arguments.length){fb=0;for(var zc=Array(arguments.length-0);fb<zc.length;)zc[fb]=arguments[fb+0],++fb;fb=new re(zc,0,null)}return sa.call(this,fb)}function sa(Da){Da=nG(Da);return pG(la,Da)}ya.aa=0;ya.fa=function(Da){Da=
G(Da);return sa(Da)};ya.I=sa;return ya}()}(p,va,ua,P,T,aa,ea,E,I,O,0,v,z,C,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(ea):cG(ea)}else Tg(function(){var va=JH("~w ~:i~@{~w~^ ~:_~}");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new re(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=nG(sa);return pG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p,
"~w ~:i~@{~w~^ ~:_~}",va,E,I,O,0,v,z,C,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);SF()}finally{aG=I,$F=E}}J(p)&&function(){var va=JH("~_");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new re(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=nG(sa);return pG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p,"~_",va,v,z,C,u,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else cG(u),J(p)&&function(){var va=JH("~:_");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new re(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=nG(sa);return pG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p,"~:_",va,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();p=J(p)}else break;SF()}finally{aG=m,$F=k}}}else cG(a)}
var aI=function(){var a=JH("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new re(f,0,null)}return c.call(this,e)}function c(d){d=nG(d);return pG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}();
function bI(a,b){G(a)&&(r(b)?function(){var c=JH(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new re(k,0,null)}return e.call(this,h)}function e(f){f=nG(f);return pG(c,f)}d.aa=0;d.fa=function(f){f=G(f);return e(f)};d.I=e;return d}()}()():function(){var c=JH(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new re(k,0,null)}return e.call(this,h)}function e(f){f=nG(f);return pG(c,f)}d.aa=0;d.fa=function(f){f=G(f);return e(f)};d.I=e;return d}()}()(),function(){var c=JH("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new re(k,0,null)}return e.call(this,h)}function e(f){f=nG(f);return pG(c,f)}d.aa=0;d.fa=function(f){f=G(f);return e(f)};d.I=e;return d}()}()(a))}
function cI(a){G(a)&&function(){var b=JH(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new re(h,0,null)}return d.call(this,f)}function d(e){e=nG(e);return pG(b,e)}c.aa=0;c.fa=function(e){e=G(e);return d(e)};c.I=d;return c}()}()(a)}
function dI(a){if(J(a)){var b=G(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new X(null,2,5,Z,[H(c),J(c)],null):new X(null,2,5,Z,[null,c],null);c=N(d,0,null);d=N(d,1,null);var e=wf(H(d))?new X(null,2,5,Z,[H(d),J(d)],null):new X(null,2,5,Z,[null,d],null);d=N(e,0,null);e=N(e,1,null);if(r(iG()))xd(Sb,"#");else{var f=$F,h=aG;$F+=1;aG=0;try{RF("(",")"),function(){var k=JH("~w ~1I~@_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-
0);u<v.length;)v[u]=arguments[u+0],++u;u=new re(v,0,null)}return n.call(this,u)}function n(p){p=nG(p);return pG(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};m.I=n;return m}()}()(a,b),r(c)&&function(){var k=JH(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new re(v,0,null)}return n.call(this,u)}function n(p){p=nG(p);return pG(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};m.I=n;return m}()}()(c),
r(d)&&function(){var k=JH(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new re(v,0,null)}return n.call(this,u)}function n(p){p=nG(p);return pG(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};m.I=n;return m}()}()(d),yf(H(e))?bI(e,r(c)?c:d):cI(e),SF()}finally{aG=h,$F=f}}return null}return eI(a)}
function fI(a){if(r(iG()))xd(Sb,"#");else{var b=$F,c=aG;$F+=1;aG=0;try{RF("[","]");for(var d=0;;){if(hc(Wb)||d<Wb){if(G(a)){if(r(iG()))xd(Sb,"#");else{var e=$F,f=aG;$F+=1;aG=0;try{RF(null,null),cG(H(a)),J(a)&&(xd(Sb," "),jG(oD),cG(bf(a))),SF()}finally{aG=f,$F=e}}if(J(te(a))){xd(Sb," ");jG(VA);e=d+1;var h=J(te(a));d=e;a=h;continue}}}else xd(Sb,"...");break}SF()}finally{aG=c,$F=b}}}
function gI(a){var b=H(a);if(r(iG()))xd(Sb,"#");else{var c=$F,d=aG;$F+=1;aG=0;try{RF("(",")"),J(a)&&yf(bf(a))?(function(){var e=JH("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new re(n,0,null)}return h.call(this,m)}function h(k){k=nG(k);return pG(e,k)}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()}()(b),fI(bf(a)),function(){var e=JH(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new re(n,0,null)}return h.call(this,m)}function h(k){k=nG(k);return pG(e,k)}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()}()(J(te(a)))):eI(a),SF()}finally{aG=d,$F=c}}return null}
var hI=function(){var a=JH("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new re(f,0,null)}return c.call(this,e)}function c(d){d=nG(d);return pG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}(),iI=W;
function eI(a){if(r(iG()))xd(Sb,"#");else{var b=$F,c=aG;$F+=1;aG=0;try{RF("(",")");kG(gA,1);for(var d=0,e=G(a);;){if(hc(Wb)||d<Wb){if(e&&(cG(H(e)),J(e))){xd(Sb," ");jG(VA);a=d+1;var f=J(e);d=a;e=f;continue}}else xd(Sb,"...");break}SF()}finally{aG=c,$F=b}}return null}
var jI=function(a){return ei.B(W,ai(Sf,M([function(){return function d(c){return new vg(null,function(){for(;;){var e=G(c);if(e){if(zf(e)){var f=Od(e),h=K(f),k=zg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,2,5,Z,[n,new X(null,2,5,Z,[ne.C(ug(H(n))),bf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Bg(Dg(k),d(Pd(e))):Bg(Dg(k),null)}k=H(e);return Ye(new X(null,2,5,Z,[k,new X(null,2,5,Z,[ne.C(ug(H(k))),bf(k)],null)],null),d(te(e)))}return null}},null,null)}(a)}()])))}(function(a){return ei.B(W,
Ph.B(function(b){var c=N(b,0,null),d=N(b,1,null);var e=rg(c);e=r(e)?e:S(new zk(null,new q(null,24,[hp,"null",uq,"null",Gv,"null",xr,"null",Jm,"null",Qw,"null",wB,"null",hr,"null",Ex,"null",Jr,"null",WA,"null",ks,"null",lv,"null",fo,"null",vA,"null",Xv,"null",Px,"null",My,"null",VC,"null",vC,"null",Pr,"null",Lq,"null",lB,"null",Jp,"null"],null),null),c);return hc(e)?new X(null,2,5,Z,[ne.B("clojure.core",ug(c)),d],null):b},a))}(Vj([VC,Xv,lo,Jr,nE,Yp,qv,EA,Kt,FA,Es,Cw,uu,Jp,uy,xw,hB,Nz,MC,ks,Lw,DC,Cr,
Vr,du,kx,pA,lE,rt,yq],[aI,function(a){var b=bf(a),c=H(te(te(a)));if(yf(b)){a=iI;iI=F.B(1,K(b))?mf([H(b),"%"]):ei.B(W,Ph.D(function(d,e){return new X(null,2,5,Z,[d,["%",t.C(e)].join("")],null)},b,Pk.B(1,K(b)+1)));try{return function(){var d=JH("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new re(m,0,null)}return f.call(this,k)}function f(h){h=nG(h);return pG(d,h)}e.aa=
0;e.fa=function(h){h=G(h);return f(h)};e.I=f;return e}()}()(c)}finally{iI=a}}else return eI(a)},gI,hI,function(a){if(3<K(a)){if(r(iG()))xd(Sb,"#");else{var b=$F,c=aG;$F+=1;aG=0;try{RF("(",")");kG(gA,1);Tg(function(){var k=JH("~w ~@_~w ~@_~w ~_");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new re(v,0,null)}return n.call(this,u)}function n(p){p=nG(p);return pG(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};
m.I=n;return m}()}(),a);for(var d=0,e=G(Rh(3,a));;){if(hc(Wb)||d<Wb){if(e){if(r(iG()))xd(Sb,"#");else{a=$F;var f=aG;$F+=1;aG=0;try{RF(null,null),cG(H(e)),J(e)&&(xd(Sb," "),jG(oD),cG(bf(e))),SF()}finally{aG=f,$F=a}}if(J(te(e))){xd(Sb," ");jG(VA);a=d+1;var h=J(te(e));d=a;e=h;continue}}}else xd(Sb,"...");break}SF()}finally{aG=c,$F=b}}return null}return eI(a)},aI,dI,dI,gI,aI,gI,hI,hI,aI,hI,gI,gI,aI,gI,function(a){if(J(a)){var b=G(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new X(null,
2,5,Z,[H(c),J(c)],null):new X(null,2,5,Z,[null,c],null);c=N(d,0,null);d=N(d,1,null);d=wf(H(d))?new X(null,2,5,Z,[H(d),J(d)],null):new X(null,2,5,Z,[null,d],null);var e=N(d,0,null),f=N(d,1,null);if(r(iG()))xd(Sb,"#");else{d=$F;var h=aG;$F+=1;aG=0;try{RF("(",")");(function(){var m=JH("~w ~1I~@_~w");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-0);v<z.length;)z[v]=arguments[v+0],++v;v=new re(z,0,null)}return p.call(this,v)}function p(u){u=nG(u);
return pG(m,u)}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()})()(a,b);r(r(c)?c:r(e)?e:G(f))&&function(){var m=JH("~@:_");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-0);v<z.length;)z[v]=arguments[v+0],++v;v=new re(z,0,null)}return p.call(this,v)}function p(u){u=nG(u);return pG(m,u)}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()}()();r(c)&&lG(!0,'"~a"~:[~;~:@_~]',M([c,r(e)?e:G(f)]));r(e)&&function(){var m=JH("~w~:[~;~:@_~]");
return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-0);v<z.length;)z[v]=arguments[v+0],++v;v=new re(z,0,null)}return p.call(this,v)}function p(u){u=nG(u);return pG(m,u)}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()}()(e,G(f));for(a=f;;){$H(H(a));var k=J(a);if(k)b=k,jG(VA),a=b;else break}SF()}finally{aG=h,$F=d}}return null}return cG(a)},gI,function(a){if(r(iG()))xd(Sb,"#");else{var b=$F,c=aG;$F+=1;aG=0;try{RF("(",")");kG(gA,1);cG(H(a));
if(J(a)){xd(Sb," ");jG(VA);for(var d=0,e=J(a);;){if(hc(Wb)||d<Wb){if(e){if(r(iG()))xd(Sb,"#");else{a=$F;var f=aG;$F+=1;aG=0;try{RF(null,null),cG(H(e)),J(e)&&(xd(Sb," "),jG(oD),cG(bf(e))),SF()}finally{aG=f,$F=a}}if(J(te(e))){xd(Sb," ");jG(VA);a=d+1;var h=J(te(e));d=a;e=h;continue}}}else xd(Sb,"...");break}}SF()}finally{aG=c,$F=b}}return null},gI,dI,dI,aI,aI,gI,gI,aI]))),kI,lI=Ch(W),mI=Ch(W),nI=Ch(W),oI=Ch(W),pI=B.D(W,Qr,am.P?am.P():am.call(null));
kI=new mm(ne.B("cljs.pprint","code-dispatch"),SH,pI,lI,mI,nI,oI);km(kI,TD,function(a){if(hc(LH(a))){var b=jI.call(null,H(a));return r(b)?b.C?b.C(a):b.call(null,a):eI(a)}return null});km(kI,Zr,function(a){var b=a.C?a.C(iI):a.call(null,iI);return r(b)?fF.I(M([b])):r(XF)?fF.I(M([ug(a)])):gF.call(null,a)});km(kI,qs,MH);km(kI,Zs,NH);km(kI,qx,PH);km(kI,iD,RH);
km(kI,ev,function(a){var b=t,c=b.C,d=nc(a).name;var e=Xk(/^[^$]+\$[^$]+/,d);e=r(e)?QH.C?QH.C(e):QH.call(null,e):null;b=["#\x3c",c.call(b,r(e)?e:d),"@",t.C(ka(a)),": "].join("");if(r(iG()))xd(Sb,"#");else{c=$F;d=aG;$F+=1;aG=0;try{RF(b,"\x3e");kG(gA,-(b.length-2));jG(VA);var f=null!=a?a.T&1||l===a.tm?!0:a.T?!1:mc(Bd,a):mc(Bd,a);var h=f?!Cd(a):f;cG(h?Bw:y(a));SF()}finally{aG=d,$F=c}}return null});km(kI,null,gF);km(kI,nm,OH);UF=TH;function qI(a,b){var c=Ug(Hk,a,b);return Ye(c,di(function(d){return c===d},b))}function rI(a,b){return K(a)<K(b)?w.D(gf,b,a):w.D(gf,a,b)}var sI=function sI(a){switch(arguments.length){case 1:return sI.C(arguments[0]);case 2:return sI.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return sI.I(arguments[0],arguments[1],c)}};sI.C=function(a){return a};
sI.B=function(a,b){for(;;)if(K(b)<K(a)){var c=a;a=b;b=c}else return w.D(function(d,e){return function(f,h){return S(e,h)?f:rf.B(f,h)}}(a,b),a,a)};sI.I=function(a,b,c){a=qI(function(d){return-K(d)},gf.I(c,b,M([a])));return w.D(sI,H(a),te(a))};sI.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};sI.aa=2;
var tI=function tI(a){switch(arguments.length){case 1:return tI.C(arguments[0]);case 2:return tI.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return tI.I(arguments[0],arguments[1],c)}};tI.C=function(a){return a};tI.B=function(a,b){return K(a)<K(b)?w.D(function(c,d){return S(b,d)?rf.B(c,d):c},a,a):w.D(rf,a,b)};tI.I=function(a,b,c){return w.D(tI,a,gf.B(c,b))};
tI.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};tI.aa=2;function uI(){var a=R.B(null,$m),b=new q(null,4,[xp,Vv,bD,Ym,Uq,Cv,zn,$q],null);return w.D(function(c,d){var e=N(d,0,null);d=N(d,1,null);return S(a,e)?Q.D(c,d,B.B(a,e)):c},Ug(R,a,ij(b)),b)}function vI(a,b){return K(a)<=K(b)&&ph(function(c){return S(b,c)},a)}function wI(a,b){return K(a)>=K(b)&&ph(function(c){return S(a,c)},b)};var xI="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return Ua(a)},yI="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===ha(a)};function zI(){return Math.round(15*Math.random()).toString(16)};function AI(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1}function BI(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a}function CI(){this.cacheSize=this.De=this.idx=0;this.cache={}}
CI.prototype.write=function(a,b){return AI(a,b)?(4096===this.cacheSize?(this.clear(),this.De=0,this.cache={}):1936===this.idx&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[BI(this.idx),this.De],this.idx++,a):b[1]!=this.De?(b[1]=this.De,b[0]=BI(this.idx),this.idx++,a):b[0]):a};CI.prototype.clear=function(){this.idx=0;this.De++};function DI(){this.idx=0;this.cache=[]}DI.prototype.write=function(a){1936==this.idx&&(this.idx=0);this.cache[this.idx]=a;this.idx++;return a};
DI.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};DI.prototype.clear=function(){this.idx=0};var EI=1;function FI(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(yI(a)){if(yI(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!FI(a[c],b[c]))return!1;return!0}return!1}if(a.sd)return a.sd(b);if(null!=b&&"object"===typeof b){if(b.sd)return b.sd(a);c=0;var d=xI(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!FI(a[e],b[e])))return!1;return c===d}}return!1}function GI(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var HI={},II=0;
function JI(a){var b=0;if(null!=a.forEach)a.forEach(function(h,k){b=(b+(KI(k)^KI(h)))%4503599627370496});else for(var c=xI(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(KI(e)^KI(f)))%4503599627370496}return b}function LI(a){var b=0;if(yI(a))for(var c=0;c<a.length;c++)b=GI(b,KI(a[c]));else a.forEach&&a.forEach(function(d){b=GI(b,KI(d))});return b}
function KI(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=HI[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;II++;256<=II&&(HI={},II=1);a=HI[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=EI,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,EI++),b;default:return a instanceof Date?a.valueOf():
yI(a)?LI(a):a.Gd?a.Gd():JI(a)}};var MI="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function NI(a,b){this.tag=a;this.rep=b;this.eb=-1}NI.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"};NI.prototype.equiv=function(a){return FI(this,a)};NI.prototype.equiv=NI.prototype.equiv;NI.prototype.sd=function(a){return a instanceof NI?this.tag===a.tag&&FI(this.rep,a.rep):!1};NI.prototype.Gd=function(){-1===this.eb&&(this.eb=GI(KI(this.tag),KI(this.rep)));return this.eb};
function OI(a,b){return new NI(a,b)}var PI=Ha("9007199254740991"),QI=Ha("-9007199254740991");Aa.prototype.equiv=function(a){return FI(this,a)};Aa.prototype.equiv=Aa.prototype.equiv;Aa.prototype.sd=function(a){return a instanceof Aa&&this.equals(a)};Aa.prototype.Gd=function(){return this.fb};function RI(a){this._name=a;this.eb=-1}RI.prototype.toString=function(){return":"+this._name};RI.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};
RI.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};RI.prototype.equiv=function(a){return FI(this,a)};RI.prototype.equiv=RI.prototype.equiv;RI.prototype.sd=function(a){return a instanceof RI&&this._name==a._name};RI.prototype.Gd=function(){-1===this.eb&&(this.eb=KI(this._name));return this.eb};function SI(a){this._name=a;this.eb=-1}
SI.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};SI.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};SI.prototype.toString=function(){return this._name};SI.prototype.equiv=function(a){return FI(this,a)};SI.prototype.equiv=SI.prototype.equiv;SI.prototype.sd=function(a){return a instanceof SI&&this._name==a._name};
SI.prototype.Gd=function(){-1===this.eb&&(this.eb=KI(this._name));return this.eb};function TI(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=(new Aa(255,0)).shiftLeft(e);b<c;b++,e-=8,f=La(f,8)){var h=La(a.and(f),e).toString(16);1==h.length&&(h="0"+h);d+=h}return d}function UI(a,b){this.high=a;this.low=b;this.eb=-1}UI.prototype.toString=function(){var a=this.high,b=this.low;var c=TI(a,0,4)+"-";c+=TI(a,4,6)+"-";c+=TI(a,6,8)+"-";c+=TI(b,0,2)+"-";return c+=TI(b,2,8)};
UI.prototype.equiv=function(a){return FI(this,a)};UI.prototype.equiv=UI.prototype.equiv;UI.prototype.sd=function(a){return a instanceof UI&&this.high.equals(a.high)&&this.low.equals(a.low)};UI.prototype.Gd=function(){-1===this.eb&&(this.eb=KI(this.toString()));return this.eb};Date.prototype.sd=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.Gd=function(){return this.valueOf()};function VI(a,b){this.entries=a;this.type=b||0;this.idx=0}
VI.prototype.next=function(){if(this.idx<this.entries.length){var a={value:0===this.type?this.entries[this.idx]:1===this.type?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};this.idx+=2;return a}return{value:null,done:!0}};VI.prototype.next=VI.prototype.next;VI.prototype[MI]=function(){return this};function WI(a,b){this.map=a;this.type=b||0;this.keys=this.map.dd();this.idx=0;this.Ie=null;this.ve=0}
WI.prototype.next=function(){if(this.idx<this.map.size){null!=this.Ie&&this.ve<this.Ie.length||(this.Ie=this.map.map[this.keys[this.idx]],this.ve=0);var a={value:0===this.type?this.Ie[this.ve]:1===this.type?this.Ie[this.ve+1]:[this.Ie[this.ve],this.Ie[this.ve+1]],done:!1};this.idx++;this.ve+=2;return a}return{value:null,done:!0}};WI.prototype.next=WI.prototype.next;WI.prototype[MI]=function(){return this};
function XI(a,b){if(a instanceof YI&&(b instanceof ZI||b instanceof YI)){if(a.size!==b.size)return!1;for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!FI(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof ZI&&(b instanceof ZI||b instanceof YI)){if(a.size!==b.size)return!1;a=a.ib;for(e=0;e<a.length;e+=2)if(!FI(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=xI(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!FI(b[f],a.get(f)))return!1}return!0}return!1}
function $I(a){return null==a?"null":"array"===ha(a)?"["+a.toString()+"]":"string"===ha(a)?'"'+a+'"':a.toString()}function aJ(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=$I(e)+" \x3d\x3e "+$I(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function bJ(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=$I(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function ZI(a){this.ib=a;this.$a=null;this.eb=-1;this.size=a.length/2;this.ti=0}ZI.prototype.toString=function(){return aJ(this)};
ZI.prototype.inspect=function(){return this.toString()};function cJ(a){if(a.$a)throw Error("Invalid operation, already converted");if(8>a.size)return!1;a.ti++;return 32<a.ti?(a.$a=dJ(a.ib,!1,!0),a.ib=[],!0):!1}ZI.prototype.clear=function(){this.eb=-1;this.$a?this.$a.clear():this.ib=[];this.size=0};ZI.prototype.clear=ZI.prototype.clear;ZI.prototype.keys=function(){return this.$a?this.$a.keys():new VI(this.ib,0)};ZI.prototype.keys=ZI.prototype.keys;
ZI.prototype.Pe=function(){if(this.$a)return this.$a.Pe();for(var a=[],b=0,c=0;c<this.ib.length;b++,c+=2)a[b]=this.ib[c];return a};ZI.prototype.keySet=ZI.prototype.Pe;ZI.prototype.entries=function(){return this.$a?this.$a.entries():new VI(this.ib,2)};ZI.prototype.entries=ZI.prototype.entries;ZI.prototype.values=function(){return this.$a?this.$a.values():new VI(this.ib,1)};ZI.prototype.values=ZI.prototype.values;
ZI.prototype.forEach=function(a){if(this.$a)this.$a.forEach(a);else for(var b=0;b<this.ib.length;b+=2)a(this.ib[b+1],this.ib[b])};ZI.prototype.forEach=ZI.prototype.forEach;ZI.prototype.get=function(a,b){if(this.$a)return this.$a.get(a);if(cJ(this))return this.get(a);for(var c=0;c<this.ib.length;c+=2)if(FI(this.ib[c],a))return this.ib[c+1];return b};ZI.prototype.get=ZI.prototype.get;
ZI.prototype.has=function(a){if(this.$a)return this.$a.has(a);if(cJ(this))return this.has(a);for(var b=0;b<this.ib.length;b+=2)if(FI(this.ib[b],a))return!0;return!1};ZI.prototype.has=ZI.prototype.has;ZI.prototype.set=function(a,b){this.eb=-1;if(this.$a)this.$a.set(a,b),this.size=this.$a.size;else{for(var c=0;c<this.ib.length;c+=2)if(FI(this.ib[c],a)){this.ib[c+1]=b;return}this.ib.push(a);this.ib.push(b);this.size++;32<this.size&&(this.$a=dJ(this.ib,!1,!0),this.ib=null)}};ZI.prototype.set=ZI.prototype.set;
ZI.prototype["delete"]=function(a){this.eb=-1;if(this.$a)return a=this.$a.delete(a),this.size=this.$a.size,a;for(var b=0;b<this.ib.length;b+=2)if(FI(this.ib[b],a))return a=this.ib[b+1],this.ib.splice(b,2),this.size--,a};ZI.prototype.clone=function(){var a=dJ();this.forEach(function(b,c){a.set(c,b)});return a};ZI.prototype.clone=ZI.prototype.clone;ZI.prototype[MI]=function(){return this.entries()};ZI.prototype.Gd=function(){if(this.$a)return this.$a.Gd();-1===this.eb&&(this.eb=JI(this));return this.eb};
ZI.prototype.sd=function(a){return this.$a?XI(this.$a,a):XI(this,a)};function YI(a,b,c){this.map=b||{};this._keys=a||[];this.size=c||0;this.eb=-1}YI.prototype.toString=function(){return aJ(this)};YI.prototype.inspect=function(){return this.toString()};YI.prototype.clear=function(){this.eb=-1;this.map={};this._keys=[];this.size=0};YI.prototype.clear=YI.prototype.clear;YI.prototype.dd=function(){return null!=this._keys?this._keys:xI(this.map)};
YI.prototype["delete"]=function(a){this.eb=-1;this._keys=null;for(var b=KI(a),c=this.map[b],d=0;d<c.length;d+=2)if(FI(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};YI.prototype.entries=function(){return new WI(this,2)};YI.prototype.entries=YI.prototype.entries;YI.prototype.forEach=function(a){for(var b=this.dd(),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};YI.prototype.forEach=YI.prototype.forEach;
YI.prototype.get=function(a,b){var c=KI(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(FI(a,c[b]))return c[b+1]}else return b};YI.prototype.get=YI.prototype.get;YI.prototype.has=function(a){var b=KI(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(FI(a,b[c]))return!0;return!1};YI.prototype.has=YI.prototype.has;YI.prototype.keys=function(){return new WI(this,0)};YI.prototype.keys=YI.prototype.keys;
YI.prototype.Pe=function(){for(var a=this.dd(),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};YI.prototype.keySet=YI.prototype.Pe;YI.prototype.set=function(a,b){this.eb=-1;var c=KI(a),d=this.map[c];if(null==d)this._keys&&this._keys.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(FI(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};YI.prototype.set=YI.prototype.set;
YI.prototype.values=function(){return new WI(this,1)};YI.prototype.values=YI.prototype.values;YI.prototype.clone=function(){var a=dJ();this.forEach(function(b,c){a.set(c,b)});return a};YI.prototype.clone=YI.prototype.clone;YI.prototype[MI]=function(){return this.entries()};YI.prototype.Gd=function(){-1===this.eb&&(this.eb=JI(this));return this.eb};YI.prototype.sd=function(a){return XI(this,a)};
function dJ(a,b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(FI(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new ZI(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=KI(a[b]);var h=d[c];if(null==h)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<h.length;c+=2)if(FI(h[c],a[b])){h[c+1]=a[b+1];k=!1;break}k&&(h.push(a[b]),h.push(a[b+1]),f++)}}return new YI(e,d,f)}
function eJ(a){this.map=a;this.size=a.size}eJ.prototype.toString=function(){return bJ(this)};eJ.prototype.inspect=function(){return this.toString()};eJ.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};eJ.prototype.add=eJ.prototype.add;eJ.prototype.clear=function(){this.map=new YI;this.size=0};eJ.prototype.clear=eJ.prototype.clear;eJ.prototype["delete"]=function(a){a=this.map.delete(a);this.size=this.map.size;return a};eJ.prototype.entries=function(){return this.map.entries()};
eJ.prototype.entries=eJ.prototype.entries;eJ.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};eJ.prototype.forEach=eJ.prototype.forEach;eJ.prototype.has=function(a){return this.map.has(a)};eJ.prototype.has=eJ.prototype.has;eJ.prototype.keys=function(){return this.map.keys()};eJ.prototype.keys=eJ.prototype.keys;eJ.prototype.Pe=function(){return this.map.Pe()};eJ.prototype.keySet=eJ.prototype.Pe;eJ.prototype.values=function(){return this.map.values()};
eJ.prototype.values=eJ.prototype.values;eJ.prototype.clone=function(){var a=fJ();this.forEach(function(b){a.add(b)});return a};eJ.prototype.clone=eJ.prototype.clone;eJ.prototype[MI]=function(){return this.values()};eJ.prototype.sd=function(a){if(a instanceof eJ){if(this.size===a.size)return FI(this.map,a.map)}else return!1};eJ.prototype.Gd=function(){return KI(this.map)};
function fJ(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=KI(a[e]),h=b[f];if(null==h)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<h.length;k+=2)if(FI(h[k],a[e])){f=!1;break}f&&(h.push(a[e]),h.push(a[e]),d++)}}return new eJ(new YI(c,b,d))};function gJ(a){this.Bc=a}
function hJ(a){this.options=a||{};this.Pb={};for(var b in this.defaults.Pb)this.Pb[b]=this.defaults.Pb[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.Pb[b]=this.options.handlers[b]}this.Rg=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.Rg;this.Wh=null!=this.options.preferBuffers?this.options.preferBuffers:
this.defaults.Wh;this.Bh=this.options.defaultHandler||this.defaults.Bh;this.yd=this.options.mapBuilder;this.Ye=this.options.arrayBuilder}
hJ.prototype.defaults={Pb:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.Wh||"undefined"==typeof ca.Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=OI("b",a);else c=new ca.Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof Aa||(a=Ha(a,10),a=0<a.compare(PI)||0>a.compare(QI)?a:a.toNumber());return a},n:function(a){return OI("n",a)},d:function(a){return parseFloat(a)},f:function(a){return OI("f",a)},c:function(a){return a},":":function(a){return new RI(a)},$:function(a){return new SI(a)},r:function(a){return OI("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=za(e,b);b=0;d=16;for(c=24;24>d;d+=2,
c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new UI(f,za(e,b))},set:function(a){return fJ(a)},list:function(a){return OI("list",a)},link:function(a){return OI("link",a)},cmap:function(a){return dJ(a,!1)}},Bh:function(a,b){return OI(a,b)},Rg:!0,Wh:!0};
hJ.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return AI(a,c)?(a=iJ(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):iJ(this,a),b;case "object":if(yI(a))if("^ "===a[0])if(this.yd)if(17>a.length&&this.yd.fromArray){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.yd.fromArray(d,a)}else{d=this.yd.init(a);for(c=1;c<a.length;c+=2)d=this.yd.add(d,this.decode(a[c],b,!0,!1),
this.decode(a[c+1],b,!1,!1),a);b=this.yd.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=dJ(d,!1)}else b=jJ(this,a,b,c,d);else{c=xI(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof gJ)a=a[e],c=this.Pb[d.Bc],b=null!=c?c(this.decode(a,b,!1,!0),this):OI(d.Bc,this.decode(a,b,!1,!1));else if(this.yd)if(16>c.length&&this.yd.fromArray){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],
b,!1,!1));b=this.yd.fromArray(f,a)}else{f=this.yd.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.yd.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.yd.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=dJ(f,!1)}}return b}return a};hJ.prototype.decode=hJ.prototype.decode;
function jJ(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}f=c&&c.idx;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof gJ)return b=b[1],f=a.Pb[e.Bc],null!=f?f=f(a.decode(b,c,d,!0),a):OI(e.Bc,a.decode(b,c,d,!1));c&&f!=c.idx&&(c.idx=f);if(a.Ye){if(32>=b.length&&a.Ye.fromArray){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.Ye.fromArray(f,b)}f=a.Ye.init(b);for(e=0;e<b.length;e++)f=a.Ye.add(f,a.decode(b[e],c,
d,!1),b);return a.Ye.finalize(f,b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}function iJ(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new gJ(b.substring(2));var d=a.Pb[c];return null==d?a.Bh(c,b.substring(2)):d(b.substring(2),a)}return b};function kJ(a){this.Ak=new hJ(a)}function lJ(a,b){this.Xl=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new DI}lJ.prototype.read=function(a){var b=this.cache;a=this.Xl.Ak.decode(JSON.parse(a),b);this.cache.clear();return a};lJ.prototype.read=lJ.prototype.read;var mJ=0,nJ=(8|3&Math.round(14*Math.random())).toString(16),oJ="transit$guid$"+(zI()+zI()+zI()+zI()+zI()+zI()+zI()+zI()+"-"+zI()+zI()+zI()+zI()+"-4"+zI()+zI()+zI()+"-"+nJ+zI()+zI()+zI()+"-"+zI()+zI()+zI()+zI()+zI()+zI()+zI()+zI()+zI()+zI()+zI()+zI());
function pJ(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";if(a===Array)return"array";if(a===Object)return"map";var b=a[oJ];null==b&&("undefined"!=typeof Object.defineProperty?(b=++mJ,Object.defineProperty(a,oJ,{value:b,enumerable:!1})):a[oJ]=b=++mJ);return b}function qJ(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a}function rJ(){}rJ.prototype.tag=function(){return"_"};rJ.prototype.rep=function(){return null};
rJ.prototype.stringRep=function(){return"null"};function sJ(){}sJ.prototype.tag=function(){return"s"};sJ.prototype.rep=function(a){return a};sJ.prototype.stringRep=function(a){return a};function tJ(){}tJ.prototype.tag=function(){return"i"};tJ.prototype.rep=function(a){return a};tJ.prototype.stringRep=function(a){return a.toString()};function uJ(){}uJ.prototype.tag=function(){return"i"};uJ.prototype.rep=function(a){return a.toString()};uJ.prototype.stringRep=function(a){return a.toString()};
function vJ(){}vJ.prototype.tag=function(){return"?"};vJ.prototype.rep=function(a){return a};vJ.prototype.stringRep=function(a){return a.toString()};function wJ(){}wJ.prototype.tag=function(){return"array"};wJ.prototype.rep=function(a){return a};wJ.prototype.stringRep=function(){return null};function xJ(){}xJ.prototype.tag=function(){return"map"};xJ.prototype.rep=function(a){return a};xJ.prototype.stringRep=function(){return null};function yJ(){}yJ.prototype.tag=function(){return"t"};
yJ.prototype.rep=function(a){return a.getUTCFullYear()+"-"+qJ(a.getUTCMonth()+1,2)+"-"+qJ(a.getUTCDate(),2)+"T"+qJ(a.getUTCHours(),2)+":"+qJ(a.getUTCMinutes(),2)+":"+qJ(a.getUTCSeconds(),2)+"."+qJ(a.getUTCMilliseconds(),3)+"Z"};yJ.prototype.stringRep=function(a,b){return b.rep(a)};function zJ(){}zJ.prototype.tag=function(){return"m"};zJ.prototype.rep=function(a){return a.valueOf()};zJ.prototype.stringRep=function(a){return a.valueOf().toString()};zJ.prototype.getVerboseHandler=function(){return new yJ};
function AJ(){}AJ.prototype.tag=function(){return"u"};AJ.prototype.rep=function(a){return a.toString()};AJ.prototype.stringRep=function(a){return a.toString()};function BJ(){}BJ.prototype.tag=function(){return":"};BJ.prototype.rep=function(a){return a._name};BJ.prototype.stringRep=function(a,b){return b.rep(a)};function CJ(){}CJ.prototype.tag=function(){return"$"};CJ.prototype.rep=function(a){return a._name};CJ.prototype.stringRep=function(a,b){return b.rep(a)};function DJ(){}DJ.prototype.tag=function(a){return a.tag};
DJ.prototype.rep=function(a){return a.rep};DJ.prototype.stringRep=function(){return null};function EJ(){}EJ.prototype.tag=function(){return"set"};EJ.prototype.rep=function(a){var b=[];a.forEach(function(c){b.push(c)});return OI("array",b)};EJ.prototype.stringRep=function(){return null};function FJ(){}FJ.prototype.tag=function(){return"map"};FJ.prototype.rep=function(a){return a};FJ.prototype.stringRep=function(){return null};function GJ(){}GJ.prototype.tag=function(){return"map"};
GJ.prototype.rep=function(a){return a};GJ.prototype.stringRep=function(){return null};function HJ(){}HJ.prototype.tag=function(){return"b"};HJ.prototype.rep=function(a){return a.toString("base64")};HJ.prototype.stringRep=function(){return null};function IJ(){}IJ.prototype.tag=function(){return"b"};
IJ.prototype.rep=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
IJ.prototype.stringRep=function(){return null};
function JJ(){this.Pb={};this.set(null,new rJ);this.set(String,new sJ);this.set(Number,new tJ);this.set(Aa,new uJ);this.set(Boolean,new vJ);this.set(Array,new wJ);this.set(Object,new xJ);this.set(Date,new zJ);this.set(UI,new AJ);this.set(RI,new BJ);this.set(SI,new CJ);this.set(NI,new DJ);this.set(eJ,new EJ);this.set(ZI,new FJ);this.set(YI,new GJ);"undefined"!=typeof ca.Buffer&&this.set(ca.Buffer,new HJ);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new IJ)}
JJ.prototype.get=function(a){a="string"===typeof a?this.Pb[a]:this.Pb[pJ(a)];return null!=a?a:this.Pb["default"]};JJ.prototype.get=JJ.prototype.get;JJ.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.Pb[a]=b:this.Pb[pJ(a)]=b};function KJ(a){this.zb=a||{};this.Rg=null!=this.zb.preferStrings?this.zb.preferStrings:!0;this.hj=this.zb.objectBuilder||null;this.transform=this.zb.transform||null;this.Pb=new JJ;if(a=this.zb.handlers){if(yI(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(c,d){if(void 0!==d)b.Pb.set(d,c);else throw Error("Cannot create handler for JavaScript undefined");})}this.Pf=this.zb.handlerForForeign;this.Zg=this.zb.unpack||function(c){return c instanceof
ZI&&null===c.$a?c.ib:!1};this.gg=this.zb&&this.zb.verbose||!1}KJ.prototype.handler=function(a){var b=this.Pb.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.Pb.get(a):null};function LJ(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a}function MJ(a,b,c){var d=[];if(yI(b))for(var e=0;e<b.length;e++)d.push(NJ(a,b[e],!1,c));else b.forEach(function(f){d.push(NJ(a,f,!1,c))});return d}function OJ(a,b){return"string"!==typeof b?(a=a.handler(b))&&1===a.tag(b).length:!0}
function PJ(a,b){var c=a.Zg(b),d=!0;if(c){for(b=0;b<c.length&&(d=OJ(a,c[b]),d);b+=2);return d}if(b.keys){c=b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=OJ(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(f,h){d=d&&OJ(a,h)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);}
function QJ(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));b="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:b,enumerable:!1}):a.constructor.transit$isObject=b;return b}
function RJ(a,b,c){var d=null,e=null,f=null;d=null;var h=0;if(b.constructor===Object||null!=b.forEach||a.Pf&&QJ(b)){if(a.gg){if(null!=b.forEach)if(PJ(a,b)){var k={};b.forEach(function(m,n){k[NJ(a,n,!0,!1)]=NJ(a,m,!1,c)})}else{d=a.Zg(b);e=[];f=LJ("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(NJ(a,d[h],!1,!1)),e.push(NJ(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(NJ(a,n,!1,!1));e.push(NJ(a,m,!1,c))});k={};k[f]=e}else for(d=xI(b),k={};h<d.length;h++)k[NJ(a,d[h],!0,!1)]=NJ(a,b[d[h]],!1,
c);return k}if(null!=b.forEach){if(PJ(a,b)){d=a.Zg(b);k=["^ "];if(d)for(;h<d.length;h+=2)k.push(NJ(a,d[h],!0,c)),k.push(NJ(a,d[h+1],!1,c));else b.forEach(function(m,n){k.push(NJ(a,n,!0,c));k.push(NJ(a,m,!1,c))});return k}d=a.Zg(b);e=[];f=LJ("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(NJ(a,d[h],!1,c)),e.push(NJ(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(NJ(a,n,!1,c));e.push(NJ(a,m,!1,c))});return[f,e]}k=["^ "];for(d=xI(b);h<d.length;h++)k.push(NJ(a,d[h],!0,c)),k.push(NJ(a,b[d[h]],
!1,c));return k}if(null!=a.hj)return a.hj(b,function(m){return NJ(a,m,!0,c)},function(m){return NJ(a,m,!1,c)});h=(null==b?null:b.constructor).name;d=Error("Cannot write "+h);d.data={obj:b,type:h};throw d;}
function NJ(a,b,c,d){null!==a.transform&&(b=a.transform(b));var e=a.handler(b)||(a.Pf?a.Pf(b,a.Pb):null),f=e?e.tag(b):null,h=e?e.rep(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?LJ("~","_","",c,d):null;case "s":return 0<h.length?(a=h.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+h:h):a=h,LJ("","",a,c,d);case "?":return c?LJ("~","?",h.toString()[0],c,d):h;case "i":return Infinity===h?LJ("~","z","INF",c,d):-Infinity===h?LJ("~","z","-INF",c,d):isNaN(h)?LJ("~","z","NaN",c,d):c||"string"===typeof h||
h instanceof Aa?LJ("~","i",h.toString(),c,d):h;case "d":return c?LJ(h.gm,"d",h,c,d):h;case "b":return LJ("~","b",h,c,d);case "'":return a.gg?(c={},b=LJ("~#","'","",!0,d),c[b]=NJ(a,h,!1,d),d=c):d=[LJ("~#","'","",!0,d),NJ(a,h,!1,d)],d;case "array":return MJ(a,h,d);case "map":return RJ(a,h,d);default:a:{if(1===f.length){if("string"===typeof h){d=LJ("~",f,h,c,d);break a}if(c||a.Rg){(a=a.gg&&e.getVerboseHandler())?(f=a.tag(b),h=a.stringRep(b,a)):h=e.stringRep(b,e);if(null!==h){d=LJ("~",f,h,c,d);break a}d=
Error('Tag "'+f+'" cannot be encoded as string');d.data={tag:f,rep:h,obj:b};throw d;}}c=f;b=h;a.gg?(e={},e[LJ("~#",c,"",!0,d)]=NJ(a,b,!1,d),d=e):d=[LJ("~#",c,"",!0,d),NJ(a,b,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,a=Error("Cannot write "+d),a.data={obj:b,type:d},a;}function SJ(a,b){this.sf=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new CI}SJ.prototype.Qk=function(){return this.sf};SJ.prototype.marshaller=SJ.prototype.Qk;
SJ.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.sf.gg?!1:this.cache;if(!1===c.marshalTop)a=NJ(this.sf,a,b,d);else{c=this.sf;var e=JSON,f=e.stringify,h=NJ;var k=c.handler(a)||(c.Pf?c.Pf(a,c.Pb):null);if(null!=k)a=1===k.tag(a).length?OI("'",a):a;else throw b=(null==a?null:a.constructor).name,d=Error("Cannot write "+b),d.data={obj:a,type:b},d;a=f.call(e,h(c,a,b,d))}null!=this.cache&&this.cache.clear();return a};SJ.prototype.write=SJ.prototype.write;
SJ.prototype.register=function(a,b){this.sf.Pb.set(a,b)};SJ.prototype.register=SJ.prototype.register;function TJ(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new kJ(b),new lJ(a,b);throw Error("Cannot create reader of type "+a);}function UJ(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new KJ(b),new SJ(a,b);b=Error('Type must be "json"');b.data={type:a};throw b;};pm.prototype.da=function(a,b){return b instanceof pm?this.Rd===b.Rd:b instanceof UI?this.Rd===b.toString():!1};pm.prototype.Dd=l;pm.prototype.rd=function(a,b){if(b instanceof pm||b instanceof UI)return Jf(this.toString(),b.toString());throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};UI.prototype.Dd=l;UI.prototype.rd=function(a,b){if(b instanceof pm||b instanceof UI)return Jf(this.toString(),b.toString());throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};
Aa.prototype.da=function(a,b){return this.equiv(b)};UI.prototype.da=function(a,b){return b instanceof pm?b.da(null,this):this.equiv(b)};NI.prototype.da=function(a,b){return this.equiv(b)};Aa.prototype.pg=l;Aa.prototype.ja=function(){return KI(this)};UI.prototype.pg=l;UI.prototype.ja=function(){return je(this.toString())};NI.prototype.pg=l;NI.prototype.ja=function(){return KI(this)};UI.prototype.Ki=l;UI.prototype.Na=l;UI.prototype.ia=function(a,b){return xd(b,['#uuid "',t.C(this.toString()),'"'].join(""))};
function VJ(a,b){for(var c=G(Ua(b)),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);a[h]=Va(b,h);f+=1}else if(c=G(c))d=c,zf(d)?(c=Od(d),f=Pd(d),d=c,e=K(c),c=f):(c=H(d),a[c]=Va(b,c),c=J(d),d=null,e=0),f=0;else break;return a}function WJ(){}WJ.prototype.init=function(){return Gd(W)};WJ.prototype.add=function(a,b,c){return Jd(a,b,c)};WJ.prototype.finalize=function(a){return Id(a)};WJ.prototype.fromArray=function(a){return nj.D?nj.D(a,!0,!0):nj.call(null,a,!0,!0)};function XJ(){}XJ.prototype.init=function(){return Gd(hf)};
XJ.prototype.add=function(a,b){return Lg.B(a,b)};XJ.prototype.finalize=function(a){return Id(a)};XJ.prototype.fromArray=function(a){return Hi.B?Hi.B(a,!0):Hi.call(null,a,!0)};function YJ(){}YJ.prototype.tag=function(){return":"};YJ.prototype.rep=function(a){return a.ba};YJ.prototype.stringRep=function(a){return a.ba};function ZJ(){}ZJ.prototype.tag=function(){return"$"};ZJ.prototype.rep=function(a){return a.Bc};ZJ.prototype.stringRep=function(a){return a.Bc};function $J(){}$J.prototype.tag=function(){return"list"};
$J.prototype.rep=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,zf(c)?(a=Od(c),e=Pd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return OI("array",b)};$J.prototype.stringRep=function(){return null};function aK(){}aK.prototype.tag=function(){return"map"};aK.prototype.rep=function(a){return a};aK.prototype.stringRep=function(){return null};function bK(){}bK.prototype.tag=function(){return"set"};
bK.prototype.rep=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,zf(c)?(a=Od(c),e=Pd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return OI("array",b)};bK.prototype.stringRep=function(){return null};function cK(){}cK.prototype.tag=function(){return"array"};
cK.prototype.rep=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,zf(c)?(a=Od(c),e=Pd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b};cK.prototype.stringRep=function(){return null};function dK(){}dK.prototype.tag=function(){return"u"};dK.prototype.rep=function(a){return a.Rd};dK.prototype.stringRep=function(a){return this.rep(a)};function eK(a,b){this.value=a;this.meta=b}function fK(){}
fK.prototype.tag=function(){return"with-meta"};fK.prototype.rep=function(a){return OI("array",[a.value,a.meta])};fK.prototype.stringRep=function(){return null};var gK={},hK,iK,jK,kK={};function lK(a,b){if(null!=a&&null!=a.th)a=a.th(a,b);else{var c=lK[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=lK._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("ReadPort.take!",a);}return a}function mK(a,b,c){if(null!=a&&null!=a.vg)a=a.vg(a,b,c);else{var d=mK[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=mK._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("WritePort.put!",a);}return a}
function nK(a){if(null!=a&&null!=a.Cf)a=a.Cf(a);else{var b=nK[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=nK._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("Channel.close!",a);}return a}function oK(a){if(null!=a&&null!=a.Mc)a=a.Mc(a);else{var b=oK[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=oK._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("Handler.active?",a);}return a}
function pK(a){if(null!=a&&null!=a.xc)a=a.xc(a);else{var b=pK[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=pK._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("Handler.commit",a);}return a}function qK(a,b){if(null!=a&&null!=a.sh)a=a.sh(a,b);else{var c=qK[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=qK._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("Buffer.add!*",a);}return a}
var rK=function rK(a){switch(arguments.length){case 1:return rK.C(arguments[0]);case 2:return rK.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};rK.C=function(a){return a};rK.B=function(a,b){return qK(a,b)};rK.aa=2;function sK(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function tK(a){this.length=this.tail=this.head=0;this.K=a}g=tK.prototype;g.pop=function(){if(0===this.length)return null;var a=this.K[this.tail];this.K[this.tail]=null;this.tail=(this.tail+1)%this.K.length;--this.length;return a};g.unshift=function(a){this.K[this.head]=a;this.head=(this.head+1)%this.K.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.K.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.K.length);return this.tail<this.head?(sK(this.K,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.K=a):this.tail>this.head?(sK(this.K,this.tail,a,0,this.K.length-this.tail),sK(this.K,0,a,this.K.length-this.tail,this.head),this.tail=0,this.head=this.length,this.K=a):this.tail===this.head?(this.head=this.tail=0,this.K=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.C?a.C(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function uK(a){return new tK(Array(a))}function vK(a,b){this.buf=a;this.n=b;this.O=2;this.T=0}vK.prototype.ug=function(){return this.buf.length>=this.n};vK.prototype.sh=function(a,b){this.buf.unbounded_unshift(b);return this};vK.prototype.la=function(){return this.buf.length};function wK(a,b){this.buf=a;this.n=b;this.O=2;this.T=0}wK.prototype.ug=function(){return!1};
wK.prototype.sh=function(a,b){this.buf.length===this.n&&this.buf.pop();this.buf.unshift(b);return this};wK.prototype.la=function(){return this.buf.length};function xK(a){return new wK(uK(a),a)};function yK(){return kb("iPhone")&&!kb("iPod")&&!kb("iPad")};var zK=kb("Opera"),AK=kb("Trident")||kb("MSIE"),BK=kb("Edge"),CK=kb("Gecko")&&!(-1!=jb.toLowerCase().indexOf("webkit")&&!kb("Edge"))&&!(kb("Trident")||kb("MSIE"))&&!kb("Edge"),DK=-1!=jb.toLowerCase().indexOf("webkit")&&!kb("Edge");DK&&kb("Mobile");kb("Macintosh");kb("Windows");kb("Linux")||kb("CrOS");var EK=ca.navigator||null;EK&&(EK.appVersion||"").indexOf("X11");kb("Android");yK();kb("iPad");kb("iPod");yK()||kb("iPad")||kb("iPod");jb.toLowerCase().indexOf("kaios");var FK;
a:{var GK="",HK=function(){if(CK)return/rv:([^\);]+)(\)|;)/.exec(jb);if(BK)return/Edge\/([\d\.]+)/.exec(jb);if(AK)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(jb);if(DK)return/WebKit\/(\S+)/.exec(jb);if(zK)return/(?:Version)[ \/]?(\S+)/.exec(jb)}();HK&&(GK=HK?HK[1]:"");if(AK){var IK,JK=ca.document;IK=JK?JK.documentMode:void 0;if(null!=IK&&IK>parseFloat(GK)){FK=String(IK);break a}}FK=GK}var xa={};
function KK(){return wa(function(){let a=0;const b=Ra(String(FK)).split("."),c=Ra("9").split("."),d=Math.max(b.length,c.length);for(let h=0;0==a&&h<d;h++){var e=b[h]||"",f=c[h]||"";do{e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""];f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];if(0==e[0].length&&0==f[0].length)break;a=Sa(0==e[1].length?0:parseInt(e[1],10),0==f[1].length?0:parseInt(f[1],10))||Sa(0==e[2].length,0==f[2].length)||Sa(e[2],f[2]);e=e[3];f=f[3]}while(0==a)}return 0<=a})};try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};function LK(){var a=document;var b="IFRAME";"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};var MK;
function NK(){var a=ca.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!kb("Presto")&&(a=function(){var e=LK();e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=qa(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);f.addEventListener("message",e,
!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!kb("Trident")&&!kb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.vf;c.vf=null;e()}};return function(e){d.next={vf:e};d=d.next;b.port2.postMessage(0)}}return function(e){ca.setTimeout(e,0)}};var OK=uK(32),PK=!1,QK=!1;function RK(){PK=!0;QK=!1;for(var a=0;;){var b=OK.pop();if(null!=b&&(b.P?b.P():b.call(null),1024>a)){a+=1;continue}break}PK=!1;return 0<OK.length?SK.P?SK.P():SK.call(null):null}function SK(){if(QK&&PK)return null;QK=!0;"function"!==typeof ca.setImmediate||ca.Window&&ca.Window.prototype&&!kb("Edge")&&ca.Window.prototype.setImmediate==ca.setImmediate?(MK||(MK=NK()),MK(RK)):ca.setImmediate(RK)}function TK(a){OK.unbounded_unshift(a);SK()}function UK(a,b){setTimeout(a,b)};var VK={},WK;
function XK(a){if("undefined"===typeof Pb||"undefined"===typeof Qb||"undefined"===typeof gK||"undefined"===typeof kK||"undefined"===typeof VK||"undefined"===typeof WK)WK=function(b,c){this.val=b;this.Vk=c;this.O=425984;this.T=0},WK.prototype.ha=function(b,c){return new WK(this.val,c)},WK.prototype.ga=function(){return this.Vk},WK.prototype.Vb=function(){return this.val},WK.Wa=!0,WK.Sa="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels23510",WK.Za=function(b){return xd(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels23510")};return new WK(a,
W)}function YK(a,b){this.handler=a;this.val=b}function ZK(a){return oK(a.handler)}function $K(a,b,c,d,e,f,h){this.qf=a;this.Eg=b;this.pe=c;this.Dg=d;this.buf=e;this.closed=f;this.qd=h}function aL(a){for(;;){var b=a.pe.pop();if(null!=b){var c=b.handler,d=b.val;if(c.Mc(null)){var e=c.xc(null);TK(function(f){return function(){return f.C?f.C(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.pe.cleanup(th(!1));a.Cf(null)}
$K.prototype.vg=function(a,b,c){var d=this,e=this,f=d.closed;if(c.Mc(null)){if(f)return c.xc(null),XK(!1);if(r(function(){var u=d.buf;return r(u)?hc(d.buf.ug()):u}())){c.xc(null);var h=Ge(d.qd.B?d.qd.B(d.buf,b):d.qd.call(null,d.buf,b));c=function(){for(var u=hf;;)if(0<d.qf.length&&0<K(d.buf)){var v=d.qf.pop();if(v.Mc(null)){var z=v.xc(null),C=d.buf.buf.pop();u=gf.B(u,function(E,I,O){return function(){return I.C?I.C(O):I.call(null,O)}}(u,z,C,v,h,f,e))}}else return u}();h&&aL(e);if(G(c)){c=G(c);a=null;
for(var k=0,m=0;;)if(m<k){var n=a.Da(null,m);TK(n);m+=1}else if(c=G(c))a=c,zf(a)?(c=Od(a),m=Pd(a),a=c,k=K(c),c=m):(c=H(a),TK(c),c=J(a),a=null,k=0),m=0;else break}return XK(!0)}a=function(){for(;;){var u=d.qf.pop();if(r(u)){if(r(u.Mc(null)))return u}else return null}}();if(r(a)){var p=a.xc(null);c.xc(null);TK(function(){return p.C?p.C(b):p.call(null,b)});return XK(!0)}64<d.Dg?(d.Dg=0,d.pe.cleanup(ZK)):d.Dg+=1;r(c.Df())&&d.pe.unbounded_unshift(new YK(c,b));return null}return XK(!f)};
$K.prototype.th=function(a,b){var c=this;if(b.Mc(null)){if(null!=c.buf&&0<K(c.buf)){a=b.xc(null);if(r(a)){var d=c.buf.buf.pop(),e=hc(c.buf.ug())&&0<c.pe.length?function(){for(var E=hf;;){var I=c.pe.pop(),O=I.handler;I=I.val;var P=O.Mc(null);O=P?O.xc(null):P;E=r(O)?gf.B(E,O):E;I=r(O)?Ge(c.qd.B?c.qd.B(c.buf,I):c.qd.call(null,c.buf,I)):null;if(!(hc(I)&&hc(c.buf.ug())&&0<c.pe.length))return new X(null,2,5,Z,[I,E],null)}}():null,f=N(e,0,null),h=N(e,1,null);r(f)&&aL(this);for(var k=G(h),m=null,n=0,p=0;;)if(p<
n){var u=m.Da(null,p);TK(function(E,I,O,P,T){return function(){return T.C?T.C(!0):T.call(null,!0)}}(k,m,n,p,u,d,e,f,h,a,a,this));p+=1}else{var v=G(k);if(v){u=v;if(zf(u))k=Od(u),p=Pd(u),m=k,n=K(k),k=p;else{var z=H(u);TK(function(E,I,O,P,T){return function(){return T.C?T.C(!0):T.call(null,!0)}}(k,m,n,p,z,u,v,d,e,f,h,a,a,this));k=J(u);m=null;n=0}p=0}else break}return XK(d)}return null}a=function(){for(;;){var E=c.pe.pop();if(r(E)){if(oK(E.handler))return E}else return null}}();if(r(a)){var C=pK(a.handler);
b.xc(null);TK(function(){return C.C?C.C(!0):C.call(null,!0)});return XK(a.val)}if(r(c.closed))return r(c.buf)&&(c.qd.C?c.qd.C(c.buf):c.qd.call(null,c.buf)),r(function(){var E=b.Mc(null);return r(E)?b.xc(null):E}())?(a=function(){var E=c.buf;return r(E)?0<K(c.buf):E}(),d=r(a)?c.buf.buf.pop():null,XK(d)):null;64<c.Eg?(c.Eg=0,c.qf.cleanup(oK)):c.Eg+=1;r(b.Df())&&c.qf.unbounded_unshift(b)}return null};
$K.prototype.Cf=function(){var a=this;if(!a.closed)for(a.closed=!0,r(function(){var e=a.buf;return r(e)?0===a.pe.length:e}())&&(a.qd.C?a.qd.C(a.buf):a.qd.call(null,a.buf));;){var b=a.qf.pop();if(null!=b){if(b.Mc(null)){var c=b.xc(null),d=r(function(){var e=a.buf;return r(e)?0<K(a.buf):e}())?a.buf.buf.pop():null;TK(function(e,f){return function(){return e.C?e.C(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function bL(a){console.log(a);return null}
function cL(a,b){var c=r(null)?null:bL;b=c.C?c.C(b):c.call(null,b);return null==b?a:rK.B(a,b)}
function dL(a,b){return new $K(uK(32),0,uK(32),0,a,!1,function(){var c=r(b)?b.C?b.C(rK):b.call(null,rK):rK;return function(){function d(h,k){try{return c.B?c.B(h,k):c.call(null,h,k)}catch(m){return cL(h,m)}}function e(h){try{return c.C?c.C(h):c.call(null,h)}catch(k){return cL(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.B=d;return f}()}())};function eL(a,b,c){this.key=a;this.val=b;this.forward=c;this.O=2155872256;this.T=0}eL.prototype.ka=function(){return new jf(null,this.key,new jf(null,this.val,null,1,null),2,null)};eL.prototype.ia=function(a,b,c){return al(b,il,"["," ","]",c,this)};function fL(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new eL(a,b,c)}
function gL(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(r(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function hL(){this.header=fL(null,null,0);this.level=0;this.O=2155872256;this.T=0}g=hL.prototype;
g.put=function(a,b){var c=Array(15),d=gL(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=fL(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,b<a.forward.length?a.forward[b]=d[b]:a.forward.push(b<d.length?d[b]:null),b<d.length?d[b]=a:d.push(a),b+=1;else return null};
g.remove=function(a){var b=Array(15),c=gL(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return F.B(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};
g.ka=function(){return function c(b){return new vg(null,function(){return null==b?null:Ye(new X(null,2,5,Z,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"{",", ","}",c,this)};var iL=new hL;function jL(a){var b=(new Date).valueOf()+a,c=iL.ceilingEntry(b);c=r(r(c)?c.key<b+10:c)?c.val:null;if(r(c))return c;var d=dL(null,null);iL.put(b,d);UK(function(){iL.remove(b);return nK(d)},a);return d};var kL={},lL;
function mL(a){if("undefined"===typeof Pb||"undefined"===typeof Qb||"undefined"===typeof gK||"undefined"===typeof kK||"undefined"===typeof kL||"undefined"===typeof lL)lL=function(b,c){this.f=b;this.Uk=c;this.O=393216;this.T=0},lL.prototype.ha=function(b,c){return new lL(this.f,c)},lL.prototype.ga=function(){return this.Uk},lL.prototype.Mc=function(){return!0},lL.prototype.Df=function(){return!0},lL.prototype.xc=function(){return this.f},lL.Wa=!0,lL.Sa="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers23427",lL.Za=
function(b){return xd(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers23427")};return new lL(a,W)}function nL(a){try{var b=a[0];return b.C?b.C(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].Cf(null),b;throw c;}}function oL(a,b,c){c=c.th(null,mL(function(d){a[2]=d;a[1]=b;return nL(a)}));return r(c)?(a[2]=y(c),a[1]=b,ow):null}function pL(a,b,c){b=b.vg(null,c,mL(function(d){a[2]=d;a[1]=11;return nL(a)}));return r(b)?(a[2]=y(b),a[1]=11,ow):null}
function qL(a,b){a=a[6];null!=b&&a.vg(null,b,mL(function(){return null}));a.Cf(null);return a};function rL(a,b){return sL(a,b)}function sL(a,b){a=F.B(a,0)?null:a;return dL("number"===typeof a?new vK(uK(a),a):a,b)}
var tL=function(a){if("undefined"===typeof Pb||"undefined"===typeof Qb||"undefined"===typeof gK||"undefined"===typeof hK)hK=function(b,c,d){this.f=b;this.Ai=c;this.Wk=d;this.O=393216;this.T=0},hK.prototype.ha=function(b,c){return new hK(this.f,this.Ai,c)},hK.prototype.ga=function(){return this.Wk},hK.prototype.Mc=function(){return!0},hK.prototype.Df=function(){return this.Ai},hK.prototype.xc=function(){return this.f},hK.Wa=!0,hK.Sa="cljs.core.async/t_cljs$core$async24168",hK.Za=function(b){return xd(b,
"cljs.core.async/t_cljs$core$async24168")};return new hK(a,!0,W)}(function(){return null});function uL(a,b){a=mK(a,b,tL);return r(a)?y(a):!0}function vL(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;hb(b);return b}
function wL(){var a=Ch(!0);if("undefined"===typeof Pb||"undefined"===typeof Qb||"undefined"===typeof gK||"undefined"===typeof iK)iK=function(b,c){this.Me=b;this.Xk=c;this.O=393216;this.T=0},iK.prototype.ha=function(b,c){return new iK(this.Me,c)},iK.prototype.ga=function(){return this.Xk},iK.prototype.Mc=function(){return y(this.Me)},iK.prototype.Df=function(){return!0},iK.prototype.xc=function(){Eh(this.Me,null);return!0},iK.Wa=!0,iK.Sa="cljs.core.async/t_cljs$core$async24243",iK.Za=function(b){return xd(b,
"cljs.core.async/t_cljs$core$async24243")};return new iK(a,W)}
function xL(a,b){if("undefined"===typeof Pb||"undefined"===typeof Qb||"undefined"===typeof gK||"undefined"===typeof jK)jK=function(c,d,e){this.Me=c;this.vf=d;this.Yk=e;this.O=393216;this.T=0},jK.prototype.ha=function(c,d){return new jK(this.Me,this.vf,d)},jK.prototype.ga=function(){return this.Yk},jK.prototype.Mc=function(){return oK(this.Me)},jK.prototype.Df=function(){return!0},jK.prototype.xc=function(){pK(this.Me);return this.vf},jK.Wa=!0,jK.Sa="cljs.core.async/t_cljs$core$async24263",jK.Za=function(c){return xd(c,
"cljs.core.async/t_cljs$core$async24263")};return new jK(a,b,W)}
function yL(a,b,c){var d=wL(),e=K(b),f=vL(e),h=hu.C(c),k=function(){for(var m=0;;)if(m<e){var n=r(h)?m:f[m],p=Se(b,n),u=yf(p)?p.C?p.C(0):p.call(null,0):null,v=r(u)?function(){var z=p.C?p.C(1):p.call(null,1);return mK(u,z,xL(d,function(C,E,I,O,P){return function(T){T=new X(null,2,5,Z,[T,P],null);return a.C?a.C(T):a.call(null,T)}}(m,z,n,p,u,d,e,f,h)))}():lK(p,xL(d,function(z,C,E){return function(I){I=new X(null,2,5,Z,[I,E],null);return a.C?a.C(I):a.call(null,I)}}(m,n,p,u,d,e,f,h)));if(r(v))return XK(new X(null,
2,5,Z,[y(v),function(){var z=u;return r(z)?z:p}()],null));m+=1}else return null}();return r(k)?k:S(c,nm)?(k=function(){var m=d.Mc(null);return r(m)?d.xc(null):m}(),r(k)?XK(new X(null,2,5,Z,[nm.C(c),nm],null)):null):null}
function zL(a,b){var c=sL(1,null);TK(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,ow):1===k?(h[2]=null,h[1]=2,ow):4===k?(k=h[2],h[7]=k,h[1]=r(null==k)?5:6,ow):13===k?(h[2]=null,h[1]=14,ow):6===k?(k=h[7],pL(h,b,k)):3===k?qL(h,h[2]):12===k?(h[2]=null,h[1]=2,ow):2===k?oL(h,4,a):11===k?(h[1]=r(h[2])?12:13,ow):9===k?(h[2]=null,h[1]=10,ow):5===k?(h[1]=r(!0)?8:9,ow):14===k||10===k?(h[2]=h[2],h[1]=7,ow):8===k?(k=nK(b),h[2]=k,h[1]=10,ow):null}return function(){function h(n){for(;;){a:try{for(;;){var p=
f(n);if(!U(p,ow)){var u=p;break a}}}catch(v){u=v;n[2]=u;if(G(n[4]))n[1]=H(n[4]);else throw u;u=ow}if(!U(u,ow))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.P=k;m.C=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return nL(e)})}
function AL(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new re(b.slice(3),0,null):null;return BL(arguments[0],arguments[1],arguments[2],b)}function BL(a,b,c,d){d=Yg(d);a[1]=b;b=yL(function(e){a[2]=e;return nL(a)},c,d);return r(b)?(a[2]=y(b),ow):null}
function CL(a,b){var c=sL(b,null),d=sL(1,null);TK(function(){var e=function(){function h(k){var m=k[1];if(7===m){m=k[8];m=k[2];var n=N(m,0,null),p=N(m,1,null);k[7]=m;k[8]=n;k[9]=p;k[1]=r(null==n)?8:9;return ow}return 1===m?(m=Ii(a),k[10]=m,k[2]=null,k[1]=2,ow):4===m?(m=k[10],AL(k,7,m)):6===m?(k[2]=k[2],k[1]=3,ow):3===m?qL(k,k[2]):2===m?(m=k[10],m=0<K(m),k[1]=r(m)?4:5,ow):11===m?(m=k[10],k[11]=k[2],k[10]=m,k[2]=null,k[1]=2,ow):9===m?(m=k[8],pL(k,c,m)):5===m?(m=nK(c),k[2]=m,k[1]=6,ow):10===m?(k[2]=
k[2],k[1]=6,ow):8===m?(m=k[8],m=k[10],p=k[9],m=gi(function(){var u=p;return function(v){return Zg.B(u,v)}}(),m),k[10]=m,k[2]=null,k[1]=2,ow):null}return function(){function k(p){for(;;){a:try{for(;;){var u=h(p);if(!U(u,ow)){var v=u;break a}}}catch(z){v=z;p[2]=v;if(G(p[4]))p[1]=H(p[4]);else throw v;v=ow}if(!U(v,ow))return v}}function m(){var p=[null,null,null,null,null,null,null,null,null,null,null,null];p[0]=n;p[1]=1;return p}var n=null;n=function(p){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,p)}throw Error("Invalid arity: "+arguments.length);};n.P=m;n.C=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return nL(f)});return c};var DL=/[\s]/;function EL(a){return null==a?null:","===a?!0:DL.test(a)}function FL(a){return null==a?null:!/[^0-9]/.test(a)}
function GL(a,b){return function e(d){return new vg(null,function(){for(;;){var f=G(d);if(f){if(zf(f)){var h=Od(f),k=K(h),m=zg(k);return function(){for(var p=0;;)if(p<k){var u=x(h,p),v=m;if(u instanceof A||u instanceof D){var z=Uk(rg,ug)(u),C=N(z,0,null);z=N(z,1,null);var E=u instanceof A?ne:tg;u=null==C?E.B?E.B(a,z):E.call(null,a,z):F.B("_",C)?E.C?E.C(z):E.call(null,z):u}v.add(u);p+=1}else return!0}()?Bg(Dg(m),e(Pd(f))):Bg(Dg(m),null)}var n=H(f);return Ye(n instanceof A||n instanceof D?function(){var p=
Uk(rg,ug)(n),u=N(p,0,null);p=N(p,1,null);var v=n instanceof A?ne:tg;return null==u?v.B?v.B(a,p):v.call(null,a,p):F.B("_",u)?v.C?v.C(p):v.call(null,p):n}():n,e(te(f)))}return null}},null,null)}(b)}function HL(a,b){a=parseInt(a,b);return r(isNaN(a))?-1:a};function IL(a){if(null!=a&&null!=a.Ke)a=a.Ke(a);else{var b=IL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=IL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("Reader.read-char",a);}return a}function JL(a){if(null!=a&&null!=a.Gf)a=a.Gf(a);else{var b=JL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=JL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("Reader.peek-char",a);}return a}
function KL(a,b){if(null!=a&&null!=a.Mi)a.Mi(a,b);else{var c=KL[ha(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=KL._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw oc("IPushbackReader.unread",a);}}function LL(a){if(null!=a&&null!=a.nk)a=a.nk(a);else{var b=LL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=LL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IndexingReader.get-line-number",a);}return a}
function ML(a){if(null!=a&&null!=a.lk)a=a.lk(a);else{var b=ML[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=ML._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IndexingReader.get-column-number",a);}return a}function NL(a){if(null!=a&&null!=a.mk)a=a.mk(a);else{var b=NL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=NL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IndexingReader.get-file-name",a);}return a}
function OL(a,b){this.s=a;this.zj=b;this.pf=0}OL.prototype.Ke=function(){if(this.zj>this.pf){var a=this.s.charAt(this.pf);this.pf+=1;return a}return null};OL.prototype.Gf=function(){return this.zj>this.pf?this.s.charAt(this.pf):null};function PL(a,b){this.mj=a;this.buf=b;this.Bd=this.eh=1}PL.prototype.Ke=function(){var a=this.Bd<this.eh?this.buf[this.Bd]:this.mj.Ke(null);this.Bd<this.eh&&(this.Bd+=1);return null==a?null:cg(a)};
PL.prototype.Gf=function(){var a=this.Bd<this.eh?this.buf[this.Bd]:this.mj.Gf(null);return null==a?null:cg(a)};PL.prototype.Mi=function(a,b){if(r(b)){if(0===this.Bd)throw Error("Pushback buffer is full");--this.Bd;return this.buf[this.Bd]=b}return null};function QL(a){return null!=a?l===a.ym?!0:!1:!1};function RL(a,b,c,d){var e=K(b);a=r(a)?0:10<e?10:e;b=Ph.B(vh.B(SL,!0),Qh.B(a,b));b=Tg(t,Rh(1,Zh.B(Vh(" "),b)));e=a<e?"...":null;return[t.C(c),t.C(b),e,t.C(d)].join("")}var SL,TL=Ch(W),UL=Ch(W),VL=Ch(W),WL=Ch(W),XL=B.D(W,Qr,am.P?am.P():am.call(null));
SL=new mm(ne.B("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?nz:"string"===typeof b?Rm:b instanceof D?Xr:"number"===typeof b?Xr:b instanceof A?Xr:yf(b)?qs:lg(b)?TD:wf(b)?Zs:uf(b)?qx:F.B(b,!0)?Xr:F.B(b,!1)?Xr:nc(b)},XL,TL,UL,VL,WL);SL.mb(null,Rm,function(a,b){a=r(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.C(b.substring(0,a<d?a:d)),c].join("")});SL.mb(null,Xr,function(a,b){return t.C(b)});SL.mb(null,re,function(){return"\x3cindexed seq\x3e"});
SL.mb(null,gj,function(){return"\x3cmap seq\x3e"});SL.mb(null,Oj,function(){return"\x3cmap seq\x3e"});SL.mb(null,pg,function(){return"\x3ccons\x3e"});SL.mb(null,vg,function(){return"\x3clazy seq\x3e"});SL.mb(null,nz,function(){return"nil"});SL.mb(null,TD,function(a,b){return RL(a,b,"(",")")});SL.mb(null,Zs,function(a,b){var c=K(b),d=r(a)?0:c;b=Tg(V,Qh.B(d,b));return RL(a,b,"{",c>d?"...}":"}")});SL.mb(null,qx,function(a,b){return RL(a,b,"#{","}")});SL.mb(null,qs,function(a,b){return RL(a,b,"[","]")});
SL.mb(null,nm,function(a,b){return ql.I(M([nc(b)]))});function YL(a,b,c){b=new q(null,2,[to,Dp,Wy,b],null);a=QL(a)?Q.I(b,Wz,NL(a),M([Fm,LL(a),Po,ML(a)])):b;var d=Wz.C(a);b=Fm.C(a);var e=Po.C(a);d=r(d)?[t.C(d)," "].join(""):null;b=r(b)?["[line ",t.C(b),", col ",t.C(e),"]"].join(""):null;c=Wg(t,d,b,r(r(d)?d:b)?" ":null,c);throw sm(c,a);}function ZL(a,b){return YL(a,xo,M([Tg(t,b)]))}function $L(a,b){return YL(a,Yw,M([Tg(t,b)]))}function aM(a,b){return YL(a,zs,M([Tg(t,b)]))}
function bM(a,b,c,d){ZL(a,M(["The map literal starting with ",SL.B(!1,H(d)),r(b)?[" on line ",t.C(b)," column ",t.C(c)].join(""):null," contains ",K(d)," form(s). Map literals must contain an even number of forms."]))}function cM(a,b,c){return ZL(a,M(["Invalid ",ug(b),": ",c,"."]))}function dM(a,b,c){return ZL(a,M(["Invalid character: ",c," found while reading ",ug(b),"."]))}
function eM(a,b){a:{var c=Rm instanceof D?Rm.ba:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.C(c)].join(""));}}return aM(a,M(["Unexpected EOF reading ",ug(Rm)," starting ",Ug(t,c,b),"."]))}function fM(a,b){return $L(a,M(["Invalid digit ",b," in unicode character."]))}function gM(a){return ZL(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function hM(a,b){b=function(c){return function f(e){return new vg(null,function(){for(var h=e;;)if(h=G(h)){if(zf(h)){var k=Od(h),m=K(k),n=zg(m);a:for(var p=0;;)if(p<m){var u=x(k,p),v=N(u,0,null);1<N(u,1,null)&&n.add(v);p+=1}else{k=!0;break a}return k?Bg(Dg(n),f(Pd(h))):Bg(Dg(n),null)}n=H(h);k=N(n,0,null);if(1<N(n,1,null))return Ye(k,f(te(h)));h=te(h)}else return null},null,null)}(Tk(c))}(b);return Wg(t,a,1<K(b)?"s":null,": ",Rh(1,Zh.B(Vh(", "),b)))}
function iM(a,b,c){b=ug(b);ZL(a,M([hM([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function jM(a){for(var b=a.Ke(null);;)if(EL.C?EL.C(b):EL.call(null,b))b=a.Ke(null);else return b}var kM=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,lM=/([-+]?[0-9]+)\/([0-9]+)/,mM=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function nM(a,b){a=Xk(a,b);return N(a,0,null)===b}
function oM(a){if(nM(kM,a)){var b=Ii(Xk(kM,a));if(null!=(b.C?b.C(2):b.call(null,2)))a=0;else{a="-"===(b.C?b.C(1):b.call(null,1));b=null!=(b.C?b.C(3):b.call(null,3))?new X(null,2,5,Z,[b.C?b.C(3):b.call(null,3),10],null):null!=(b.C?b.C(4):b.call(null,4))?new X(null,2,5,Z,[b.C?b.C(4):b.call(null,4),16],null):null!=(b.C?b.C(5):b.call(null,5))?new X(null,2,5,Z,[b.C?b.C(5):b.call(null,5),8],null):null!=(b.C?b.C(7):b.call(null,7))?new X(null,2,5,Z,[b.C?b.C(7):b.call(null,7),parseInt(b.C?b.C(6):b.call(null,
6))],null):new X(null,2,5,Z,[null,null],null);var c=b.C?b.C(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.C?b.C(1):b.call(null,1)),a=a?-1*b:b,a=r(isNaN(a))?null:a)}}else nM(mM,a)?(b=Ii(Xk(mM,a)),a=null!=(b.C?b.C(4):b.call(null,4))?parseFloat(b.C?b.C(1):b.call(null,1)):parseFloat(a)):nM(lM,a)?(b=Ii(Xk(lM,a)),a=b.C?b.C(1):b.call(null,1),b=b.C?b.C(2):b.call(null,2),a=r(Xk(/^\+/,a))?kg.B(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function pM(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?kg.D(a,0,b):null;if(null!=c){b+=1;if(b===K(a))return null;a=kg.B(a,b);return FL(Se(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new X(null,2,5,Z,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new X(null,2,5,Z,[null,a],null):null}
var qM=function qM(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new re(c.slice(1),0,null):null;return qM.I(arguments[0],c)};qM.I=function(a){for(;;){var b=a.Ke(null);if("\n"===b||"\n"===b||null==b)break}return a};qM.aa=1;qM.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};
function rM(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new re(f,0,null)}return b.call(this,c,e)}function b(c){return ZL(c,M(["Unreadable form"]))}a.aa=1;a.fa=function(c){var d=H(c);c=te(c);return b(d,c)};a.I=b;return a}()};new Ob;function sM(a){var b="#"!==a;return b?(b="'"!==a)?(b=":"!==a)?tM.C?tM.C(a):tM.call(null,a):b:b:b}function uM(a){return"@"===a||"`"===a||"~"===a}function vM(a,b,c,d){if(hc(c))return aM(a,M(["Unexpected EOF while reading start of ",ug(b),"."]));if(r(r(d)?uM(c):d))return dM(a,b,c);d=new Ob;for(KL(a,c);;){if(EL(c)||sM(c)||null==c)return t.C(d);if(uM(c))return dM(a,b,c);d.append(IL(a));c=JL(a)}}
function wM(a,b,c){b=IL(a);if(r(b)){var d=xM.C?xM.C(b):xM.call(null,b);if(r(d))return d.D?d.D(a,b,c):d.call(null,a,b,c);KL(a,b);return yM.D?yM.D(a,b,c):yM.call(null,a,b,c)}return aM(a,M(["Unexpected EOF while reading dispatch character."]))}function zM(a,b){return ZL(a,M(["Unmatched delimiter ",b,"."]))}
function AM(a,b,c){b=1+b;if(K(a)!==b)throw $L(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=HL(Se(a,d),c);if(-1===f)return c=Se(a,d),$L(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function BM(a,b,c,d,e){for(var f=1,h=HL(b,c);;){if(-1===h)return fM(a,b);if(f!==d){var k=JL(a);var m=EL(k);m||(m=tM.C?tM.C(k):tM.call(null,k),m=r(m)?m:null==k);if(r(m))return r(e)?$L(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long. ","Value supplied is ",f," characters long."])):String.fromCharCode(h);m=HL(k,c);IL(a);if(-1===m)return fM(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function CM(a){var b=IL(a);if(null!=b){b=sM(b)||uM(b)||EL(b)?t.C(b):vM(a,sB,b,!1);var c=b.length;if(1===c)return Se(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(r(0==b.lastIndexOf("u",0)))return b=AM(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=ZL(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(r(0==b.lastIndexOf("o",0))){--c;if(3<c)return ZL(a,M(["Invalid octal escape sequence in a character literal: ",
b,". Octal escape sequences must be 3 or fewer digits."]));b=AM(b,c,8);return 255<(b|0)?gM(a):b}return ZL(a,M(["Unsupported character: ",b,"."]))}return aM(a,M(["Unexpected EOF while reading character."]))}function DM(a){return QL(a)?new X(null,2,5,Z,[LL(a),(ML(a)|0)-1|0],null):null}
function EM(a,b,c,d){var e=DM(c),f=N(e,0,null);e=N(e,1,null);b=null==b?null:cg(b);for(var h=Gd(hf);;){var k=jM(c);if(!r(k)){var m=a,n=f,p=e,u=K(h);aM(c,M(["Unexpected EOF while reading ",r(u)?["item ",t.C(u)," of "].join(""):null,ug(m),r(n)?[", starting at line ",t.C(n)," and column ",t.C(p)].join(""):null,"."]))}if(F.B(b,null==k?null:cg(k)))return Id(h);m=tM.C?tM.C(k):tM.call(null,k);r(m)?(k=m.D?m.D(c,k,d):m.call(null,c,k,d),h=k!==c?Lg.B(h,k):h):(KL(c,k),k=FM?FM(c,!0,null,d):GM.call(null,c,!0,null,
d),h=k!==c?Lg.B(h,k):h)}}function HM(a,b,c){a=EM(TD,")",a,c);return sf(a)?ue:Tg(og,a)}function IM(a,b,c){return EM(qs,"]",a,c)}function JM(a,b,c){var d=DM(a);b=N(d,0,null);d=N(d,1,null);c=EM(Zs,"}",a,c);var e=K(c),f=Qk(2,c),h=Dk(f);!rh(e)&&bM(a,b,d,c);F.B(K(h),K(f))||iM(a,Zs,f);if(e<=2*lj)a=nj(Nf(c),!0,!0);else a:for(a=Nf(c),b=a.length,d=0,e=Gd(mj);;)if(d<b)c=d+2,e=Jd(e,a[d],a[d+1]),d=c;else{a=Id(e);break a}return a}
function KM(a,b){for(var c=function(){var h=new Ob;h.append(b);return h}(),d=IL(a);;){if(r(function(){var h=EL(d);if(h)return h;h=tM.C?tM.C(d):tM.call(null,d);return r(h)?h:null==d}())){var e=t.C(c);KL(a,d);var f=oM(e);return r(f)?f:ZL(a,M(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=IL(a);c=e;d=f}}
function LM(a){var b=IL(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=IL(a),-1===parseInt(b|0,16)?ZL(a,M(["Invalid unicode escape: \\u",b,"."])):BM(a,b,16,4,!0);default:return FL(b)?(b=BM(a,b,8,3,!1),255<(b|0)?gM(a):b):ZL(a,M(["Unsupported escape character: \\",b,"."]))}}
function MM(a){for(var b=new Ob,c=IL(a);;){var d=c;if(F.B(null,d))return eM(a,M(['"',b]));if(F.B("\\",d)){d=function(){var f=b;f.append(LM(a));return f}();var e=IL(a);b=d;c=e}else{if(F.B('"',d))return t.C(b);d=function(){var f=b;f.append(c);return f}();e=IL(a);b=d;c=e}}}
function NM(a,b){b=vM(a,Zr,b,!0);if(r(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Sw;default:var c=pM(b);c=r(c)?ne.B(c.C?c.C(0):c.call(null,0),c.C?c.C(1):c.call(null,1)):null;return r(c)?c:cM(a,Zr,b)}else return null}
function OM(a){var b=IL(a);if(EL(b))return ZL(a,M(["A single colon is not a valid keyword."]));b=vM(a,HE,b,!0);var c=pM(b);if(r(r(c)?-1===b.indexOf("::"):c)){var d=c.C?c.C(0):c.call(null,0);c=c.C?c.C(1):c.call(null,1);return":"===Se(b,0)?cM(a,HE,[":",t.C(b)].join("")):tg.B(d,c)}return cM(a,HE,[":",t.C(b)].join(""))}
function PM(a,b,c){b=FM?FM(a,!0,null,c):GM.call(null,a,!0,null,c);b=b instanceof D?mf([b,!0]):b instanceof A?new q(null,1,[UA,b],null):"string"===typeof b?new q(null,1,[UA,b],null):b;wf(b)||ZL(a,M(["Metadata cannot be ",SL.B(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=FM?FM(a,!0,null,c):GM.call(null,a,!0,null,c);return null!=c&&(c.O&131072||l===c.yf)?pf(c,uk.I(M([qf(c),b]))):ZL(a,M(["Metadata can not be applied to ",SL.B(!1,c),". ","Metadata can only be applied to IMetas."]))}
function QM(a,b,c){b=EM(qx,"}",a,c);c=Dk(b);F.B(K(b),K(c))||iM(a,qx,b);return c}function RM(a){FM?FM(a,!0,null,!0):GM.call(null,a,!0,null,!0);return a}
function SM(a,b,c){b=IL(a);b=vM(a,JA,b,!0);var d=null==b?null:pM(b);if(null==d)var e=null;else e=N(d,0,null),d=N(d,1,null),e=r(e)?null:d;return r(e)?"{"===jM(a)?(c=EM(JA,"}",a,c),!rh(K(c))&&bM(a,null,null,c),b=GL(t.C(e),Qk(2,c)),c=Qk(2,te(c)),F.B(K(Dk(b)),K(b))||iM(a,JA,b),Gk(b,c)):ZL(a,M(["Namespaced map with namespace ",b," does not specify a map."])):ZL(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function TM(a,b,c){b=FM?FM(a,!0,null,c):GM.call(null,a,!0,null,c);return F.B(nv,b)?Number.NaN:F.B(ez,b)?Number.NEGATIVE_INFINITY:F.B(Ut,b)?Number.POSITIVE_INFINITY:ZL(a,M([["Invalid token: ##",t.C(b)].join("")]))}function tM(a){switch(a){case '"':return MM;case ":":return OM;case ";":return qM;case "^":return PM;case "(":return HM;case ")":return zM;case "[":return IM;case "]":return zM;case "{":return JM;case "}":return zM;case "\\":return CM;case "#":return wM;default:return null}}
function xM(a){switch(a){case "^":return PM;case "{":return QM;case "\x3c":return rM();case "!":return qM;case "_":return RM;case ":":return SM;case "#":return TM;default:return null}}
function yM(a,b,c){b=FM?FM(a,!0,null,c):GM.call(null,a,!0,null,c);var d=FM?FM(a,!0,null,c):GM.call(null,a,!0,null,c);b instanceof A||ZL(a,M(["Invalid reader tag: ",SL.B(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.B(Lv.C(c),b);e=r(e)?e:W.C?W.C(b):W.call(null,b);if(r(e))return e.C?e.C(d):e.call(null,d);c=nm.C(c);return r(c)?c.B?c.B(b,d):c.call(null,b,d):ZL(a,M(["No reader function for tag ",SL.B(!1,b),"."]))}
function GM(a){switch(arguments.length){case 1:return UM(W,arguments[0]);case 2:return UM(arguments[0],arguments[1]);case 4:return FM(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function UM(a,b){a=Yg(a);var c=B.B(a,zs),d=!S(a,zs);return FM(b,d,c,a)}
function FM(a,b,c,d){try{for(;;){var e=IL(a);if(!EL(e)){if(null==e){if(r(b)){b=a;var f=r(null)?aM(b,M(["EOF while reading, starting at line ",null,"."])):aM(b,M(["EOF while reading."]))}else f=c;return f}if(FL(e)||("+"===e||"-"===e)&&FL(a.Gf(null)))return KM(a,e);var h=tM(e);if(r(h)){var k=h.D?h.D(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return NM(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof rm){b=f instanceof rm?f.data:null;if(F.B(Dp,to.C(b)))throw f;a=uk.I(M([new q(null,1,
[to,Dp],null),b,QL(a)?new q(null,3,[Fm,LL(a),Iu,ML(a),Wz,NL(a)],null):null]));throw new rm(f.message,a,f);}a=uk.I(M([new q(null,1,[to,Dp],null),QL(a)?new q(null,3,[Fm,LL(a),Iu,ML(a),Wz,NL(a)],null):null]));throw new rm(f.message,a,f);}throw m;}}function VM(a,b){if(r(r(b)?Zg.B(b,""):b)){b=new OL(b,K(b));a:{var c=Array(1);if(Cf(null))for(var d=0,e=G(null);;)if(e&&1>d)c[d]=H(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=UM(a,new PL(b,c))}else a=null;return a};var WM=function(){var a=new X(null,13,5,Z,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Z,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.B(r(d)?b:a,c)}}(),XM=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function YM(a){a=parseInt(a,10);return hc(isNaN(a))?a:null}
function ZM(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.C(d)," Failed:  ",t.C(a),"\x3c\x3d",t.C(b),"\x3c\x3d",t.C(c)].join(""));return b}
function $M(a){var b=Wk(XM,a);N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),h=N(b,5,null),k=N(b,6,null),m=N(b,7,null),n=N(b,8,null),p=N(b,9,null),u=N(b,10,null);if(hc(b))throw Error(["Unrecognized date/time syntax: ",t.C(a)].join(""));a=YM(c);b=function(){var I=YM(d);return r(I)?I:1}();c=function(){var I=YM(e);return r(I)?I:1}();var v=function(){var I=YM(f);return r(I)?I:0}(),z=function(){var I=YM(h);return r(I)?I:0}(),C=function(){var I=YM(k);return r(I)?I:0}(),E=function(){a:if(F.B(3,
K(m)))var I=m;else if(3<K(m))I=kg.D(m,0,3);else for(I=new Ob(m);;)if(3>I.getLength())I=I.append("0");else{I=I.toString();break a}I=YM(I);return r(I)?I:0}();n=(F.B(n,"-")?-1:1)*(60*function(){var I=YM(p);return r(I)?I:0}()+function(){var I=YM(u);return r(I)?I:0}());return new X(null,8,5,Z,[a,ZM(1,b,12,"timestamp month field must be in range 1..12"),ZM(1,c,WM(b,0===eg(a,4)&&(0!==eg(a,100)||0===eg(a,400))),"timestamp day field must be in range 1..last day in month"),ZM(0,v,23,"timestamp hour field must be in range 0..23"),
ZM(0,z,59,"timestamp minute field must be in range 0..59"),ZM(0,C,F.B(z,59)?60:59,"timestamp second field must be in range 0..60"),ZM(0,E,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var aN=Ch(null),bN=Ch(uk.I(M([new q(null,4,[At,function(a){if("string"===typeof a){var b=$M(a);if(r(b)){a=N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),h=N(b,5,null),k=N(b,6,null);b=N(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.C(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},pq,function(a){if("string"===typeof a)return new pm(a.toLowerCase(),null);throw Error("UUID literal expects a string as its representation.");
},sq,function(a){if(yf(a))return ei.B(Zi,a);throw Error("Queue literal expects a vector for its elements.");},Cs,function(a){if(yf(a)){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,zf(c)?(a=Od(c),e=Pd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(wf(a)){b={};a=G(a);c=null;for(e=d=0;;)if(e<d){var h=c.Da(null,e);f=N(h,0,null);h=N(h,1,null);f=ug(f);b[f]=h;e+=1}else if(a=G(a))zf(a)?(d=Od(a),a=Pd(a),c=d,d=K(d)):
(d=H(a),c=N(d,0,null),d=N(d,1,null),c=ug(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),W])));function cN(a){return VM(new q(null,3,[Lv,y(bN),nm,y(aN),zs,null],null),a)}function dN(a,b){return VM(mi.D(uk.I(M([new q(null,1,[nm,y(aN)],null),a])),Lv,function(c){return uk.I(M([y(bN),c]))}),b)};function eN(a,b){const c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,p,u){if("%"==n)return"%";const v=c.shift();if("undefined"==typeof v)throw Error("[goog.string.format] Not enough arguments");arguments[0]=v;return eN.le[n].apply(null,arguments)})}eN.le={};
eN.le.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+mb(" ",Number(c)-a.length):mb(" ",Number(c)-a.length)+a};
eN.le.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));let f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+mb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+mb(b,a)+d);return d};eN.le.d=function(a,b,c,d,e,f,h,k){return eN.le.f(parseInt(a,10),b,c,d,0,f,h,k)};
eN.le.i=eN.le.d;eN.le.u=eN.le.d;function fN(){0!=gN&&(hN[ka(this)]=this);this.ef=this.ef;this.jf=this.jf}var gN=0,hN={};fN.prototype.ef=!1;fN.prototype.Wi=function(){if(!this.ef&&(this.ef=!0,this.me(),0!=gN)){var a=ka(this);if(0!=gN&&this.jf&&0<this.jf.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete hN[a]}};fN.prototype.me=function(){if(this.jf)for(;this.jf.length;)this.jf.shift()()};function iN(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Zf=!1}iN.prototype.stopPropagation=function(){this.Zf=!0};iN.prototype.preventDefault=function(){this.defaultPrevented=!0};var jN=function(){if(!ca.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ca.addEventListener("test",fa,b),ca.removeEventListener("test",fa,b)}catch(c){}return a}();function kN(a,b){iN.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.ff=null;a&&this.init(a,b)}ra(kN,iN);var lN={2:"touch",3:"pen",4:"mouse"};
kN.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(CK){a:{try{ta(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=DK||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=DK||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:lN[a.pointerType]||"";this.state=a.state;this.ff=a;a.defaultPrevented&&kN.be.preventDefault.call(this)};kN.prototype.stopPropagation=function(){kN.be.stopPropagation.call(this);this.ff.stopPropagation?this.ff.stopPropagation():this.ff.cancelBubble=!0};kN.prototype.preventDefault=function(){kN.be.preventDefault.call(this);var a=this.ff;a.preventDefault?a.preventDefault():a.returnValue=!1};var mN=0;var nN="closure_listenable_"+(1E6*Math.random()|0);function oN(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++mN;this.removed=this.ng=!1}function pN(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function qN(a){this.src=a;this.listeners={};this.fg=0}qN.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.fg++);var h=rN(a,b,d,e);-1<h?(b=a[h],c||(b.ng=!1)):(b=new oN(b,this.src,f,!!d,e),b.ng=c,a.push(b));return b};
qN.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=rN(e,b,c,d);return-1<b?(pN(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.fg--),!0):!1};function sN(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=bb(a.listeners[c],b);d&&(pN(b),0==a.listeners[c].length&&(delete a.listeners[c],a.fg--));return d}
qN.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,pN(d[e]);delete this.listeners[c];this.fg--}return b};qN.prototype.Eh=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=rN(a,b,c,d));return-1<e?a[e]:null};function rN(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var tN="closure_lm_"+(1E6*Math.random()|0),uN={},vN=0;function wN(a,b,c,d,e){if(d&&d.once)return xN(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)wN(a,b[f],c,d,e);return null}c=yN(c);return a&&a[nN]?a.listen(b,c,ja(d)?!!d.capture:!!d,e):zN(a,b,c,!1,d,e)}
function zN(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ja(e)?!!e.capture:!!e,k=AN(a);k||(a[tN]=k=new qN(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=BN();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)jN||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(CN(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");vN++;return c}
function BN(){function a(c){return b.call(a.src,a.listener,c)}const b=DN;return a}function xN(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)xN(a,b[f],c,d,e);return null}c=yN(c);return a&&a[nN]?a.listenOnce(b,c,ja(d)?!!d.capture:!!d,e):zN(a,b,c,!0,d,e)}function EN(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)EN(a,b[f],c,d,e);else d=ja(d)?!!d.capture:!!d,c=yN(c),a&&a[nN]?a.Ce.remove(String(b),c,d,e):a&&(a=AN(a))&&(b=a.Eh(b,c,d,e))&&FN(b)}
function FN(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[nN])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(CN(c),d):b.addListener&&b.removeListener&&b.removeListener(d);vN--;(c=AN(b))?(sN(c,a),0==c.fg&&(c.src=null,b[tN]=null)):pN(a)}}}function CN(a){return a in uN?uN[a]:uN[a]="on"+a}
function DN(a,b){if(a.removed)a=!0;else{b=new kN(b,this);var c=a.listener,d=a.handler||a.src;a.ng&&FN(a);a=c.call(d,b)}return a}function AN(a){a=a[tN];return a instanceof qN?a:null}var GN="__closure_events_fn_"+(1E9*Math.random()>>>0);function yN(a){if("function"===typeof a)return a;a[GN]||(a[GN]=function(b){return a.handleEvent(b)});return a[GN]};function HN(){fN.call(this);this.Ce=new qN(this);this.$j=this;this.Vh=null}ra(HN,fN);HN.prototype[nN]=!0;g=HN.prototype;g.addEventListener=function(a,b,c,d){wN(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){EN(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.Vh;if(c)for(b=[];c;c=c.Vh)b.push(c);c=this.$j;var d=a.type||a;if("string"===typeof a)a=new iN(a,c);else if(a instanceof iN)a.target=a.target||c;else{var e=a;a=new iN(d,c);Xa(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Zf&&0<=f;f--){var h=a.currentTarget=b[f];e=IN(h,d,!0,a)&&e}a.Zf||(h=a.currentTarget=c,e=IN(h,d,!0,a)&&e,a.Zf||(e=IN(h,d,!1,a)&&e));if(b)for(f=0;!a.Zf&&f<b.length;f++)h=a.currentTarget=b[f],e=IN(h,d,!1,a)&&e;return e};
g.me=function(){HN.be.me.call(this);this.removeAllListeners();this.Vh=null};g.listen=function(a,b,c,d){return this.Ce.add(String(a),b,!1,c,d)};g.listenOnce=function(a,b,c,d){return this.Ce.add(String(a),b,!0,c,d)};g.unlistenByKey=function(a){return sN(this.Ce,a)};g.removeAllListeners=function(a){return this.Ce?this.Ce.removeAll(a):0};
function IN(a,b,c,d){b=a.Ce.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.ng&&a.unlistenByKey(h);e=!1!==k.call(m,d)&&e}}return e&&!d.defaultPrevented}g.Eh=function(a,b,c,d){return this.Ce.Eh(String(a),b,c,d)};function JN(a,b,c){if("function"===typeof a)c&&(a=qa(a,c));else if(a&&"function"==typeof a.handleEvent)a=qa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ca.setTimeout(a,b||0)};function KN(a){try{return ca.JSON.parse(a)}catch(b){}a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function LN(){}LN.prototype.Bi=null;function MN(a){var b;(b=a.Bi)||(b={},NN(a)&&(b[0]=!0,b[1]=!0),b=a.Bi=b);return b};var ON;function PN(){}ra(PN,LN);function QN(a){return(a=NN(a))?new ActiveXObject(a):new XMLHttpRequest}function NN(a){if(!a.$i&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){const b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];for(let c=0;c<b.length;c++){const d=b[c];try{return new ActiveXObject(d),a.$i=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.$i}
ON=new PN;function RN(a){HN.call(this);this.headers=new Map;this.ah=a||null;this.ue=!1;this.$g=this.La=null;this.Jh="";this.hf=0;this.Oe=this.Gh=this.Hg=this.Ch=!1;this.Xg=0;this.timeoutId_=null;this.xj=SN;this.ki=this.lj=this.hg=!1;this.hi=null}ra(RN,HN);var SN="",TN=/^https?$/i,UN=["POST","PUT"];g=RN.prototype;g.setWithCredentials=function(a){this.hg=a};g.setTrustToken=function(a){this.hi=a};
g.send=function(a,b,c,d){if(this.La)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Jh+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Jh=a;this.hf=0;this.Ch=!1;this.ue=!0;this.La=this.ah?QN(this.ah):QN(ON);this.$g=this.ah?MN(this.ah):MN(ON);this.La.onreadystatechange=qa(this.jj,this);this.lj&&"onprogress"in this.La&&(this.La.onprogress=qa(function(f){this.ij(f,!0)},this),this.La.upload&&(this.La.upload.onprogress=qa(this.ij,this)));try{this.Gh=!0,this.La.open(b,String(a),
!0),this.Gh=!1}catch(f){this.error_(5,f);return}a=c||"";c=new Map(this.headers);if(d)if(Object.getPrototypeOf(d)===Object.prototype)for(var e in d)c.set(e,d[e]);else if("function"===typeof d.keys&&"function"===typeof d.get)for(const f of d.keys())c.set(f,d.get(f));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(c.keys()).find(f=>"content-type"==f.toLowerCase());e=ca.FormData&&a instanceof ca.FormData;!(0<=Ya(UN,b))||d||e||c.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");
for(const [f,h]of c)this.La.setRequestHeader(f,h);this.xj&&(this.La.responseType=this.xj);"withCredentials"in this.La&&this.La.withCredentials!==this.hg&&(this.La.withCredentials=this.hg);if("setTrustToken"in this.La&&this.hi)try{this.La.setTrustToken(this.hi)}catch(f){}try{VN(this),0<this.Xg&&((this.ki=WN(this.La))?(this.La.timeout=this.Xg,this.La.ontimeout=qa(this.timeout_,this)):this.timeoutId_=JN(this.timeout_,this.Xg,this)),this.Hg=!0,this.La.send(a),this.Hg=!1}catch(f){this.error_(5,f)}};
function WN(a){return AK&&KK()&&"number"===typeof a.timeout&&void 0!==a.ontimeout}g.timeout_=function(){"undefined"!=typeof ba&&this.La&&(this.hf=8,this.dispatchEvent("timeout"),this.abort(8))};g.error_=function(a){this.ue=!1;this.La&&(this.Oe=!0,this.La.abort(),this.Oe=!1);this.hf=a;XN(this);YN(this)};function XN(a){a.Ch||(a.Ch=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
g.abort=function(a){this.La&&this.ue&&(this.ue=!1,this.Oe=!0,this.La.abort(),this.Oe=!1,this.hf=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),YN(this))};g.me=function(){this.La&&(this.ue&&(this.ue=!1,this.Oe=!0,this.La.abort(),this.Oe=!1),YN(this,!0));RN.be.me.call(this)};g.jj=function(){this.ef||(this.Gh||this.Hg||this.Oe?ZN(this):this.Bl())};g.Bl=function(){ZN(this)};
function ZN(a){if(a.ue&&"undefined"!=typeof ba&&(!a.$g[1]||4!=$N(a)||2!=aO(a)))if(a.Hg&&4==$N(a))JN(a.jj,0,a);else if(a.dispatchEvent("readystatechange"),4==$N(a)){a.ue=!1;try{bO(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.hf=6,XN(a))}finally{YN(a)}}}g.ij=function(a,b){this.dispatchEvent(cO(a,"progress"));this.dispatchEvent(cO(a,b?"downloadprogress":"uploadprogress"))};function cO(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}
function YN(a,b){if(a.La){VN(a);const c=a.La,d=a.$g[0]?fa:null;a.La=null;a.$g=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function VN(a){a.La&&a.ki&&(a.La.ontimeout=null);a.timeoutId_&&(ca.clearTimeout(a.timeoutId_),a.timeoutId_=null)}g.isActive=function(){return!!this.La};
function bO(a){var b=aO(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Jh).match(tb)[1]||null,!a&&ca.self&&ca.self.location&&(a=ca.self.location.protocol,a=a.substr(0,a.length-1)),b=!TN.test(a?a.toLowerCase():"");c=b}return c}function $N(a){return a.La?a.La.readyState:0}function aO(a){try{return 2<$N(a)?a.La.status:-1}catch(b){return-1}}
function eO(a){try{return a.La?a.La.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.La&&4==$N(this))return a=this.La.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.La&&4==$N(this)?this.La.getAllResponseHeaders()||"":""};function kO(){this.vd=[];this.Vd=[]}function lO(a){0===a.vd.length&&(a.vd=a.Vd,a.vd.reverse(),a.Vd=[])}g=kO.prototype;g.enqueue=function(a){this.Vd.push(a)};g.Nf=function(){lO(this);return this.vd.pop()};g.peek=function(){lO(this);var a=this.vd;return a[a.length-1]};g.Hb=function(){return this.vd.length+this.Vd.length};g.isEmpty=function(){return 0===this.vd.length&&0===this.Vd.length};g.clear=function(){this.vd=[];this.Vd=[]};g.contains=function(a){return 0<=Ya(this.vd,a)||0<=Ya(this.Vd,a)};
g.remove=function(a){{var b=this.vd;const c=Za(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1}return b||bb(this.Vd,a)};g.Fc=function(){for(var a=[],b=this.vd.length-1;0<=b;--b)a.push(this.vd[b]);var c=this.Vd.length;for(b=0;b<c;++b)a.push(this.Vd[b]);return a};class mO{constructor(a,b){this.dk=a[ca.Symbol.iterator]();this.Lk=b;this.zl=0}[Symbol.iterator](){return this}next(){const a=this.dk.next();return{value:a.done?void 0:this.Lk.call(void 0,a.value,this.zl++),done:a.done}}}function nO(a,b){return new mO(a,b)};var oO="StopIteration"in ca?ca.StopIteration:{message:"StopIteration",stack:""};function pO(){}pO.prototype.Og=function(){throw oO;};pO.prototype.next=function(){return qO};var qO={done:!0,value:void 0};pO.prototype.te=function(){return this};function rO(a){if(a instanceof sO||a instanceof tO||a instanceof uO)return a;if("function"==typeof a.Og)return new sO(()=>vO(a));if("function"==typeof a[Symbol.iterator])return new sO(()=>a[Symbol.iterator]());if("function"==typeof a.te)return new sO(()=>vO(a.te()));throw Error("Not an iterator or iterable.");}const vO=a=>{if(!(a instanceof pO))return a;let b=!1;return{next(){let c;for(;!b;)try{c=a.Og();break}catch(d){if(d!==oO)throw d;b=!0}return{value:c,done:b}}}};
class sO{constructor(a){this.Dh=a}te(){return new tO(this.Dh())}[Symbol.iterator](){return new uO(this.Dh())}fi(){return new uO(this.Dh())}}class tO extends pO{constructor(a){super();this.Uf=a}Og(){const a=this.Uf.next();if(a.done)throw oO;return a.value}[Symbol.iterator](){return new uO(this.Uf)}fi(){return new uO(this.Uf)}}class uO extends sO{constructor(a){super(()=>a);this.Uf=a}next(){return this.Uf.next()}};function wO(a,b){this.map_={};this.keys_=[];this.version_=this.size=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=wO.prototype;g.Hb=function(){return this.size};g.Fc=function(){xO(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};g.dd=function(){xO(this);return this.keys_.concat()};g.df=function(a){return this.has(a)};
g.has=function(a){return yO(this.map_,a)};g.Hf=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(yO(this.map_,c)&&this.map_[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.size!=a.Hb())return!1;b=b||zO;xO(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function zO(a,b){return a===b}g.isEmpty=function(){return 0==this.size};g.clear=function(){this.map_={};this.keys_.length=0;this.se(0);this.version_=0};
g.remove=function(a){return this.delete(a)};g.delete=function(a){return yO(this.map_,a)?(delete this.map_[a],this.se(this.size-1),this.version_++,this.keys_.length>2*this.size&&xO(this),!0):!1};function xO(a){if(a.size!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var d=a.keys_[b];yO(a.map_,d)&&(a.keys_[c++]=d);b++}a.keys_.length=c}if(a.size!=a.keys_.length){var e={};for(c=b=0;b<a.keys_.length;)d=a.keys_[b],yO(e,d)||(a.keys_[c++]=d,e[d]=1),b++;a.keys_.length=c}}
g.get=function(a,b){return yO(this.map_,a)?this.map_[a]:b};g.set=function(a,b){yO(this.map_,a)||(this.se(this.size+1),this.keys_.push(a),this.version_++);this.map_[a]=b};g.addAll=function(a){if(a instanceof wO)for(var b=a.dd(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.dd(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new wO(this)};g.keys=function(){return rO(this.te(!0)).fi()};
g.values=function(){return rO(this.te(!1)).fi()};g.entries=function(){const a=this;return nO(this.keys(),function(b){return[b,a.get(b)]})};g.te=function(a){xO(this);var b=0,c=this.version_,d=this,e=new pO;e.Og=function(){if(c!=d.version_)throw Error("The map has changed since the iterator was created");if(b>=d.keys_.length)throw oO;var f=d.keys_[b++];return a?f:d.map_[f]};return e};g.se=function(a){this.size=a};function yO(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function AO(a){this.map_=new wO;this.size=0;a&&this.addAll(a)}function BO(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ka(a):b.substr(0,1)+a}g=AO.prototype;g.Hb=function(){return this.map_.size};g.add=function(a){this.map_.set(BO(a),a);this.se(this.map_.size)};g.addAll=function(a){a=pb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c]);this.se(this.map_.size)};g.removeAll=function(a){a=pb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c]);this.se(this.map_.size)};
g.delete=function(a){a=this.map_.remove(BO(a));this.se(this.map_.size);return a};g.remove=function(a){return this.delete(a)};g.clear=function(){this.map_.clear();this.se(0)};g.isEmpty=function(){return 0===this.map_.size};g.has=function(a){return this.map_.df(BO(a))};g.contains=function(a){return this.map_.df(BO(a))};g.Fc=function(){return this.map_.Fc()};g.values=function(){return this.map_.values()};g.clone=function(){return new AO(this)};g.equals=function(a){return this.Hb()==ob(a)&&CO(this,a)};
function CO(a,b){var c=ob(b);if(a.Hb()>c)return!1;!(b instanceof AO)&&5<c&&(b=new AO(b));return sb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.Hf&&"function"==typeof e.Hf)d=e.Hf(d);else if(ia(e)||"string"===typeof e)d=0<=Ya(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})}g.te=function(){return this.map_.te(!1)};AO.prototype[Symbol.iterator]=function(){return this.values()};AO.prototype.se=function(a){this.size=a};function DO(a,b){fN.call(this);this.ej=a||0;this.Kg=b||10;if(this.ej>this.Kg)throw Error(EO);this.Yd=new kO;this.Ee=new AO;this.delay=0;this.Ih=null;this.jg()}ra(DO,fN);var EO="[goog.structs.Pool] Min can not be greater than max";g=DO.prototype;g.Fg=function(){var a=Date.now();if(!(null!=this.Ih&&a-this.Ih<this.delay)){for(var b;0<this.Yd.Hb()&&(b=this.Yd.Nf(),!this.Uh(b));)this.jg();!b&&this.Hb()<this.Kg&&(b=this.Ah());b&&(this.Ih=a,this.Ee.add(b));return b}};
function FO(a,b){return a.Ee.remove(b)?(a.dh(b),!0):!1}g.dh=function(a){this.Ee.remove(a);this.Uh(a)&&this.Hb()<this.Kg?this.Yd.enqueue(a):GO(a)};g.jg=function(){for(var a=this.Yd;this.Hb()<this.ej;)a.enqueue(this.Ah());for(;this.Hb()>this.Kg&&0<this.Yd.Hb();)GO(a.Nf())};g.Ah=function(){return{}};function GO(a){if("function"==typeof a.Wi)a.Wi();else for(var b in a)a[b]=null}g.Uh=function(a){return"function"==typeof a.bk?a.bk():!0};g.contains=function(a){return this.Yd.contains(a)||this.Ee.contains(a)};
g.Hb=function(){return this.Yd.Hb()+this.Ee.Hb()};g.isEmpty=function(){return this.Yd.isEmpty()&&this.Ee.isEmpty()};g.me=function(){DO.be.me.call(this);if(0<this.Ee.Hb())throw Error("[goog.structs.Pool] Objects not released");delete this.Ee;for(var a=this.Yd;!a.isEmpty();)GO(a.Nf());delete this.Yd};function HO(a,b){this.key_=a;this.value_=b}HO.prototype.getKey=function(){return this.key_};HO.prototype.getValue=function(){return this.value_};HO.prototype.clone=function(){return new HO(this.key_,this.value_)};function IO(a){this.fd=[];if(a)a:{if(a instanceof IO){var b=a.dd();a=a.Fc();if(0>=this.Hb()){for(var c=this.fd,d=0;d<b.length;d++)c.push(new HO(b[d],a[d]));break a}}else b=Ua(a),a=Ta(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=IO.prototype;g.insert=function(a,b){var c=this.fd;c.push(new HO(a,b));a=c.length-1;b=this.fd;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.fd,b=a.length,c=a[0];if(!(0>=b)){if(1==b)ab(a);else{a[0]=a.pop();a=0;b=this.fd;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.fd;if(0!=a.length)return a[0].getValue()};g.Fc=function(){for(var a=this.fd,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
g.dd=function(){for(var a=this.fd,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.Hf=function(a){return $a(this.fd,function(b){return b.getValue()==a})};g.df=function(a){return $a(this.fd,function(b){return b.getKey()==a})};g.clone=function(){return new IO(this)};g.Hb=function(){return this.fd.length};g.isEmpty=function(){return 0===this.fd.length};g.clear=function(){ab(this.fd)};function JO(){IO.call(this)}ra(JO,IO);JO.prototype.enqueue=function(a,b){this.insert(a,b)};JO.prototype.Nf=function(){return this.remove()};function KO(a,b){this.Vi=void 0;this.ai=new JO;DO.call(this,a,b)}ra(KO,DO);g=KO.prototype;g.Fg=function(){var a=KO.be.Fg.call(this);a&&this.delay&&(this.Vi=ca.setTimeout(qa(this.Fh,this),this.delay));return a};g.Fh=function(){for(var a=this.ai;0<a.Hb();){var b=this.Fg();if(b)a.Nf().apply(this,[b]);else break}};g.dh=function(a){KO.be.dh.call(this,a);this.Fh()};g.jg=function(){KO.be.jg.call(this);this.Fh()};g.me=function(){KO.be.me.call(this);ca.clearTimeout(this.Vi);this.ai.clear();this.ai=null};function LO(a,b,c,d){this.Fk=a;this.hg=!!d;KO.call(this,b,c)}ra(LO,KO);LO.prototype.Ah=function(){const a=new RN,b=this.Fk;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.hg&&a.setWithCredentials(!0);return a};LO.prototype.Uh=function(a){return!a.ef&&!a.isActive()};function MO(a){a=y(a);throw sm(y(ku.C(a)),R.B(a,ku));}var NO={};
function OO(a,b,c,d){if(r(MO)){var e=new Cl(function(){var f=new Date,h=r(a)?a:"?",k=t.C(b),m=null==c?"\x3ctruss/nil\x3e":ql.I(M([c])),n=NO===d?null:d,p=new Cl(function(){var v=r(n)?t.C(n):null;var z=["Invariant violation in `",t.C("taoensso.sente"),":",t.C(h),"`. Test form `",t.C(k),"` failed against input val `",t.C(m),"`."].join("");return hc(n)?z:[z," An error was thrown while evaluating test form: [",v,"]."].join("")}),u=function(){if(r(null))try{return null.P?null.P():null.call(null)}catch(v){if(v instanceof
Error)return new q(null,1,[wm,v],null);throw v;}else return null}();return Vj([rw,ku,kz,UD,xl,oq,Qq,Nx,av,nA,YA,Pm],[null,p,null,f,c,"taoensso.sente",nc(c),n,!0,u,a,k])});return MO.C?MO.C(e):MO.call(null,e)}return null};var PO=new X(null,3,5,Z,[3,23,0],null);function QO(a){if(null==a||""===a)return null;if("string"===typeof a){var b=B.D(null,Lv,Nn),c=B.D(null,nm,Nn);r(U.B?U.B(b,Nn):U.call(null,b,Nn))&&(b=y(bN),b=RO.B?RO.B(ne,b):RO.call(null,ne,b));c=r(U.B?U.B(c,Nn):U.call(null,c,Nn))?y(aN):c;c=Q.I(null,Lv,b,M([nm,c]));return VM(c,a)}throw sm("`read-edn` attempt against non-nil, non-string arg",new q(null,2,[fB,a,to,nc(a)],null));}var SO=new Cl(function(){return $K});
function TO(a){var b=y(SO);return a instanceof b}function UO(a){return"string"===typeof a?WE(a)?null:a:null}function VO(a){if(null!=a&&(a.T&4096||l===a.lh)){var b=ug(a);a=rg(a);return r(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function WO(a){return"string"===typeof a?F.B(a,"")?null:a:null}function XO(a){return"number"===typeof a?dg(a):"string"===typeof a?(a=parseInt(a,10),r(isNaN(a))?null:a):null}
function YO(a){var b=VO(a);if(!r(b))throw sm(["`as-",ug(Rn),"` failed against: `",ql.I(M([a])),"`"].join(""),new q(null,2,[fB,a,to,nc(a)],null));return b}function ZO(a,b,c){return Vf(Jk(),Tf(function(d,e){var f=N(e,0,null);e=N(e,1,null);return a.D?a.D(d,f,e):a.call(null,d,f,e)},Sf),b,c)}function $O(a){return function(b,c){b=a.C?a.C(c):a.call(null,c);return r(b)?Fe(b):null}}function aP(a,b){return w.D($O(a),null,b)}
var bP=function bP(a){switch(arguments.length){case 1:return bP.C(arguments[0]);case 2:return bP.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};bP.C=function(a){return bP.B(a,null)};bP.B=function(a,b){var c=Yg(b),d=B.B(c,Eu);b=B.B(c,et);c=B.D(c,Um,1E3);a=Math.pow(2,36<a?36:a);a=dg(.5*(a+Xl.C(a))*c);d=dg(r(d)?a<d?d:a:a);return dg(r(b)?d>b?b:d:d)};bP.aa=2;F.B("default","nodejs");var cP="undefined"!==typeof window?window:null;
function dP(a){a=VE(t.C(a),/-/,2);var b=N(a,0,null);a=N(a,1,null);b=Zk(/\d+/,b);b=r(b)?fi.B(XO,b):null;return new q(null,2,[dn,b,wC,r(a)?a.toLowerCase():null],null)}
function eP(a){var b=N(PO,0,null),c=N(PO,1,null),d=N(PO,2,null),e=yf(a)?a:dn.C(dP(a));a=N(e,0,null);var f=N(e,1,null);e=N(e,2,null);e=fi.B(function(h){return r(h)?h:0},new X(null,3,5,Z,[a,f,e],null));a=N(e,0,null);f=N(e,1,null);e=N(e,2,null);if(!(b>a||F.B(b,a)&&(c>f||F.B(c,f)&&d>=e)))throw sm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new q(null,2,[yA,OE(".",new X(null,3,5,Z,[a,f,e],null)),Oo,OE(".",new X(null,3,5,Z,[b,
c,d],null))],null));}function fP(a,b){return Va(a,ug(b),null)}function gP(a,b){return null==b?null==a?W:a:Q.D(a,"x-requested-with",b)}var hP=function hP(a){switch(arguments.length){case 3:return hP.D(arguments[0],arguments[1],arguments[2]);case 2:return hP.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(3),0,null);return hP.I(arguments[0],arguments[1],arguments[2],c)}};
hP.D=function(a,b,c){return S(a,b)?a:Q.D(a,b,c)};hP.I=function(a,b,c,d){return ZO(hP,hP.D(a,b,c),d)};hP.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};hP.B=function(a,b){return Rf(function(c,d,e){return S(c,d)?c:Q.D(c,d,e)},null==a?W:a,b)};hP.aa=3;
var iP=function iP(a){switch(arguments.length){case 2:return iP.B(arguments[0],arguments[1]);case 3:return iP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};iP.B=function(a,b){b=0>b?0:b;var c=K(a);return b>=c?hf:Si(a,b,c)};iP.D=function(a,b,c){b=0>b?0:b;var d=dg(K(a));c=c>d?d:c;return b>=c?hf:Si(a,b,c)};iP.aa=3;
var jP=function jP(a){switch(arguments.length){case 2:return jP.B(arguments[0],arguments[1]);case 3:return jP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};jP.B=function(a,b){var c=K(a);return 0>b?(b+=c,Si(a,0>b?0:b,c)):b>=c?hf:Si(a,b,c)};jP.D=function(a,b,c){if(0>=c)return hf;var d=dg(K(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Si(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?hf:Si(a,b,d)};jP.aa=3;
function kP(a){return 1<K(a)?Si(a,1,K(a)):hf}function lP(a,b){if(yf(b)){var c=K(b);b=0<c?new X(null,2,5,Z,[1<c?null==b?null:bd(b):null,null==b?null:ad(b)],null):null;c=N(b,0,null);b=N(b,1,null);return a.B?a.B(c,b):a.call(null,c,b)}for(c=hf;;){var d=G(b);b=H(d);if(d=J(d))c=gf.B(c,b),b=d;else return a.B?a.B(c,b):a.call(null,c,b)}}vh.B(w,V);function RO(a,b){b=Rf(function(c,d,e){return Mg(c,a.C?a.C(d):a.call(null,d),e)},Jg.C?Jg.C(W):Jg.call(null,W),b);return Kg.C?Kg.C(b):Kg.call(null,b)}
function mP(a,b){b=Dk(ij(b));a=uf(a)?a:Dk(a);return wI(b,a)}function nP(a,b,c){if(sf(b))return c.C?c.C(a):c.call(null,a);var d=ji(a,b);c=c.C?c.C(d):c.call(null,d);return r(U.B?U.B(c,zx):U.call(null,c,zx))?a:r(U.B?U.B(c,Wu):U.call(null,c,Wu))?oP?oP(a,b):pP.call(null,a,b):ki(a,b,c)}
function pP(a){switch(arguments.length){case 3:return qP(arguments[0],arguments[1],arguments[2]);case 2:return oP(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new re(b.slice(3),0,null);return rP(arguments[0],arguments[1],arguments[2],b)}}function rP(a,b,c,d){return nP(a,b,function(e){return Vg(R,e,c,d)})}function qP(a,b,c){return nP(a,b,function(d){return R.B(d,c)})}
function oP(a,b){return G(b)?lP(function(c,d){return qP(a,c,d)},b):a}var sP={};function tP(a,b){return w.D(function(c,d){return null==d?c:Rf(function m(f,h,k){var n=B.D(f,h,sP);if(n===sP)return Q.D(f,h,k);if(r(U.B?U.B(k,Wu):U.call(null,k,Wu)))return R.B(f,h);if(r(r(!1)?wf(k)&&wf(n):!1))return Q.D(f,h,Rf(m,n,k));k=a.B?a.B(n,k):a.call(null,n,k);return r(U.B?U.B(k,Wu):U.call(null,k,Wu))?R.B(f,h):Q.D(f,h,k)},r(c)?c:W,d)},null,b)}function uP(a){return tP(function(b,c){return c},a)}
function vP(a,b){return b}function wP(a,b,c){a:{var d=G(b);if(d)if(J(d))for(;;){var e=y(a);d=ki(e,b,c);Eh(a,d);a=e;b=ji(e,b);vP.R?vP.R(a,b,d,c):vP.call(null,a,b,d,c);break a}else b:for(d=Se(b,0);;){e=y(a);b=Q.D(e,d,c);Eh(a,b);a=e;d=B.D(e,d,null);vP.R?vP.R(a,d,b,c):vP.call(null,a,d,b,c);break b}else b:for(;;){b=y(a);Eh(a,c);vP.R?vP.R(b,b,c,c):vP.call(null,b,b,c,c);break b}}}function xP(a,b){this.Th=a;this.Vl=b}
function yP(a,b,c){a=a.Vl;switch(a instanceof D?a.ba:null){case "swap/changed?":return Zg.B(c,b);case "swap/new":return c;case "swap/old":return b;default:return a}}function zP(a,b,c){for(;;){var d=y(b);c=c.C?c.C(d):c.call(null,d);var e=c instanceof xP,f=e?c.Th:c;if(r(U.B?U.B(f,zx):U.call(null,f,zx)))return e?yP(c,d,f):a.R?a.R(d,d,d,d):a.call(null,d,d,d,d);Eh(b,f);return e?yP(c,d,f):a.R?a.R(d,d,f,f):a.call(null,d,d,f,f)}}
function AP(a,b,c,d){if(r(U.B?U.B(d,Wu):U.call(null,d,Wu)))for(;;){var e=y(b);d=R.B(e,c);Eh(b,d);b=e;c=B.D(e,c,null);e=d;d=Wu;return a.R?a.R(b,c,e,d):a.call(null,b,c,e,d)}else for(;;){e=y(b);var f=B.D(e,c,null),h=d.C?d.C(f):d.call(null,f),k=h instanceof xP,m=k?h.Th:h;if(r(U.B?U.B(m,zx):U.call(null,m,zx)))return k?yP(h,e,e):a.R?a.R(e,f,e,f):a.call(null,e,f,e,f);d=r(U.B?U.B(m,Wu):U.call(null,m,Wu))?R.B(e,c):Q.D(e,c,m);Eh(b,d);return k?yP(h,e,d):a.R?a.R(e,f,d,m):a.call(null,e,f,d,m)}}
function BP(a,b,c){var d=CP,e=G(b);if(e)if(J(e))if(r(U.B?U.B(c,Wu):U.call(null,c,Wu)))for(;;){var f=y(a);e=lP(function(n){return function(p,u){return qP(n,p,u)}}(f,e,e),b);Eh(a,e);a=f;b=ji(f,b);f=e;e=Wu;return d.R?d.R(a,b,f,e):d.call(null,a,b,f,e)}else for(;;){f=y(a);var h=ji(f,b);c=c.C?c.C(h):c.call(null,h);var k=c instanceof xP,m=k?c.Th:c;if(r(U.B?U.B(m,zx):U.call(null,m,zx)))return k?yP(c,f,f):d.R?d.R(f,h,f,h):d.call(null,f,h,f,h);e=r(U.B?U.B(m,Wu):U.call(null,m,Wu))?lP(function(n){return function(p,
u){return qP(n,p,u)}}(f,h,c,k,m,e,e),b):ki(f,b,m);Eh(a,e);return k?yP(c,f,e):d.R?d.R(f,h,e,m):d.call(null,f,h,e,m)}else return AP(d,a,Se(b,0),c);else return zP(d,a,c)}function CP(a,b,c,d){return d}function DP(a,b){return zP(CP,a,b)}function EP(a,b,c){return BP(a,b,c)}function FP(){return(new Date).getTime()}
(function(){var a=fP(cP,"performance");if(r(a)){var b=function(){var c=fP(a,"now");if(r(c))return c;c=fP(a,"mozNow");if(r(c))return c;c=fP(a,"msNow");if(r(c))return c;c=fP(a,"oNow");return r(c)?c:fP(a,"webkitNow")}();return r(b)?function(){return 1E6*dg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();function GP(a,b){this.n=a;this.Sh=b}function HP(a,b){this.n=a;this.ji=b}function IP(a,b,c){this.m=a;this.Fj=b;this.mi=c}
function JP(a){if(wf(a))return Rf(function(c,d,e){var f=N(e,0,null);e=N(e,1,null);return Q.D(c,d,new GP(f,e))},W,a);if(yf(a)){var b=yh(-1);return w.D(function(c,d){var e=N(d,0,null),f=N(d,1,null);d=N(d,2,null);return Q.D(c,r(d)?d:b.cf(null,b.Vb(null)+1),new GP(e,f))},W,a)}throw sm("`encore/cond!`: no matching clause",W);}
function KP(a){function b(f,h){var k=(new Date).getTime();hc(h)&&6.25E-5>=Math.random()&&(Eh(c,null),Fh.B(d,function(u){return Id(Rf(function(v,z,C){C=Rf(function(E,I,O){var P=B.B(e,I);return r(P)?k>=O.ji+P.Sh?R.B(E,I):E:R.B(E,I)},C,C);return sf(C)?Kd(v,z):Jd(v,z,C)},Gd(r(u)?u:W),u))}));for(;;){var m=y(d),n=B.B(m,f),p=null==n?null:Rf(function(u,v,z,C,E,I){return function(O,P,T){var aa=B.B(I,P);if(r(aa)){if(T.n<aa.n)return O;T=T.ji+aa.Sh-z;return 0>=T?O:null==O?new IP(mf([P,T]),P,T):T>O.mi?new IP(Q.D(O.m,
P,T),P,T):new IP(Q.D(O.m,P,T),O.Fj,O.mi)}return O}}(m,n,k,c,d,e),null,n);if(r(r(h)?h:p))return h=p,r(h)?(f=h,new X(null,3,5,Z,[f.Fj,f.mi,f.m],null)):null;h=y(c);r(h)||(n=Rf(function(u,v,z,C,E){return function(I,O,P){var T=Q.D;var aa=B.B(z,O);if(r(aa)){var ea=aa.ji;P=E>=ea+P.Sh?new HP(1,E):new HP(aa.n+1,ea)}else P=new HP(1,E);return T.call(Q,I,O,P)}}(h,m,n,p,k,c,d,e),n,e),Eh(d,Q.D(m,f,n)));return null}}if(sf(a))return new X(null,2,5,Z,[null,th(null)],null);var c=Ch(null),d=Ch(null),e=JP(a);return new X(null,
2,5,Z,[d,function(){function f(n,p){if(r(U.B?U.B(n,Tr):U.call(null,n,Tr)))return r(U.B?U.B(p,Rz):U.call(null,p,Rz))?Eh(d,null):Fh.D(d,R,p),null;if(r(U.B?U.B(n,lC):U.call(null,n,lC)))return b(p,!0);throw sm("Unrecognized rate limiter command",new q(null,2,[fB,n,lp,p],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,p){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,n,p)}throw Error("Invalid arity: "+
arguments.length);};m.P=k;m.C=h;m.B=f;return m}()],null)}
var LP=function(){function a(d){return new Ob(d)}function b(){return new Ob}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.P=b;c.C=a;return c}(),MP=function(){function a(e,f){e=e instanceof Ob?e:LP.C(t.C(e));f=t.C(f);return e.append(f)}function b(e){return e instanceof Ob?e:LP.C(t.C(e))}function c(){return LP.P()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.P=c;d.C=b;d.B=a;return d}();function NP(a,b){if(r(r(" ")?Zg.B(" ",""):" ")){var c=$h(),d=Tf(MP,t);return r(a)?Uf(uh.B(a,c),d,b):Uf(c,d,b)}return r(a)?Uf(a,Tf(MP,t),b):t.C(w.B(MP,b))}function OP(a,b){return Zg.B(-1,a.indexOf(b))}
var PP=function PP(a){switch(arguments.length){case 2:return PP.B(arguments[0],arguments[1]);case 3:return PP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};PP.B=function(a,b){return a.substring(b)};PP.D=function(a,b,c){return b>=c?"":a.substring(b,c)};PP.aa=3;
var QP=function QP(a){switch(arguments.length){case 2:return QP.B(arguments[0],arguments[1]);case 3:return QP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};QP.B=function(a,b){return WO(a.substr(b))};QP.D=function(a,b,c){return WO(a.substr(b,c))};QP.aa=3;function RP(a){return void 0===a||null==a?"nil":a}
function SP(a){if(WE("/"))return t.C(w.D(MP,"",a));var b=yh(!1),c=yh(!0);return t.C(w.D(function(d,e){e=t.C(e);var f=F.B(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?Zg.B(-1,e.indexOf("/",k-1)):null;var m=y(b),n=y(c);Vd(b,k);r(n)&&Vd(c,f);if(r(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||r(r(n)?n:f)||d.append("/");return d.append(e)},LP.P(),a))}
function TP(){function a(){return Yl(16).toString(16)}var b=(8|3&Yl(16)).toString(16);return[t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-4",t.C(a()),t.C(a()),t.C(a()),"-",t.C(b),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a())].join("")}fi.B(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var UP=function UP(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return UP.I(c)};UP.I=function(a){var b=Yg(a);a=B.B(b,Jv);var c=B.B(b,Vu),d=B.B(b,ov),e=B.B(b,bA),f=B.B(b,tp),h=B.B(b,TA),k=B.B(b,en),m=B.B(b,AA);b=B.B(b,Tq);return Math.round((r(b)?31536E6*b:0)+(r(e)?2551392E3*e:0)+(r(c)?6048E5*c:0)+(r(k)?864E5*k:0)+(r(m)?36E5*m:0)+(r(h)?6E4*h:0)+(r(f)?1E3*f:0)+(r(d)?d:0)+(r(a)?a:0))};UP.aa=0;UP.fa=function(a){return this.I(G(a))};
uh.B(function(a){return fg(dg(a),1E3)},UP);var VP=new Cl(function(){return new LO});function WP(){var a=y(VP).Fg();return void 0===a?null:a}
var XP="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},YP="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},ZP=function(){function a(c,d){if(r(XP(d)))return new X(null,2,5,Z,[c,d],null);var e=(e="undefined"!==typeof FormData)?aP(YP,jj(d)):e;if(r(e)){e=new FormData;d=G(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.Da(null,k),n=N(m,0,null);m=N(m,1,null);e.append(ug(n),m);k+=1}else if(d=G(d))zf(d)?(h=Od(d),d=Pd(d),f=
h,h=K(h)):(h=H(d),f=N(h,0,null),h=N(h,1,null),e.append(ug(f),h),d=J(d),f=null,h=0),k=0;else break;return new X(null,2,5,Z,[c,e],null)}return new X(null,2,5,Z,[c,b(d)],null)}var b=function(){function c(f,h){h=e.C(h);f=WE(h)?f:[t.C(f),"?",t.C(h)].join("");return new X(null,2,5,Z,[f,null],null)}function d(f){if(G(f)){var h=Nl(f);f=qb(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new Bb(null);h=pb(h);for(var m=0;m<f.length;m++){var n=f[m],p=h[m];Array.isArray(p)?Nb(k,n,p):k.add(n,
p)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.C=d;e.B=c;return e}();return function(c,d,e){d=d instanceof D?d.ba:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.C(d)].join(""));}}}();
function $P(a,b,c){var d=Yg(b),e=B.D(d,Pq,DA);b=B.B(d,vq);var f=B.B(d,Sv),h=B.D(d,yw,1E4),k=B.D(d,eE,Mo),m=B.B(d,jE),n=WP();if(r(n))try{var p=function(){var O=tA.C(d);return r(O)?O:h}(),u=function(){var O=e instanceof D?e.ba:null;switch(O){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.C(O)].join(""));}}(),v=ZP(a,e,b),z=N(v,0,null),C=N(v,1,null),E=function(){var O=RO(function(P){return ug(P).toLowerCase()},f);O=gP(O,B.D(O,"x-requested-with",
"XMLHTTPRequest"));return Nl(O)}(),I=function(){var O=lq.C(d);return r(O)?(n.lj=!0,wN(n,"progress",function(P){var T=P.lengthComputable,aa=P.loaded,ea=P.total,va=r(r(T)?Zg.B(ea,0):T)?aa/ea:null;P=new q(null,5,[Ou,va,Zp,T,Eq,aa,Tp,ea,FD,P],null);return O.C?O.C(P):O.call(null,P)})):null}();xN(n,"ready",function(){return FO(y(VP),n)});xN(n,"complete",function(O){var P=bO(n),T=aO(n),aa=Zg.B(T,-1)?function(){var ua=n.getResponseHeader("content-type"),Ma=function(){if(Zg.B(k,Mo))var Ka=k;else null==ua?
Ka=eA:(Ka=t.C(ua).toLowerCase(),Ka=OP(Ka,"/edn")?lr:OP(Ka,"/json")?zp:OP(Ka,"/xml")?kB:eA);try{var la=Ka instanceof D?Ka.ba:null;switch(la){case "edn":return QO(eO(n));case "json":if(n.La){b:{var ya=n.La.responseText;if(ca.JSON)try{var sa=ca.JSON.parse(ya);break b}catch(zc){}sa=KN(ya)}var Da=sa}else Da=void 0;return Da;case "xml":try{var fb=n.La?n.La.responseXML:null}catch(zc){fb=null}return fb;case "text":return eO(n);default:throw Error(["No matching clause: ",t.C(la)].join(""));}}catch(zc){return new q(null,
2,[Ww,Ka,Yt,eO(n)],null)}}();return new X(null,3,5,Z,[T,ua,Ma],null)}():null,ea=N(aa,0,null),va=N(aa,1,null);aa=N(aa,2,null);r(I)&&FN(I);O=new q(null,7,[Rt,O,QA,n,TC,P,bn,ea,zu,va,Up,aa,po,r(P)?null:r(ea)?ea:B.D(mf([0,null,5,Nw,6,yC,7,$v,8,tA]),n.hf,qC)],null);return c.C?c.C(O):c.call(null,O)});n.Xg=Math.max(0,r(p)?p:0);r(m)&&n.setWithCredentials(!0);n.send(z,u,C,E);return n}catch(O){return a=O,FO(y(VP),n),a=new q(null,1,[po,a],null),c.C?c.C(a):c.call(null,a),null}else return a=new q(null,1,[po,Wn],
null),c.C?c.C(a):c.call(null,a),null}function aQ(a){return r(a)?NE(encodeURIComponent(t.C(a),a),"*","%2A"):null}function bQ(a,b){N(b,0,null);return r(a)?decodeURIComponent(t.C(a)):null}
function cQ(a){function b(c,d){c=aQ(YO(c));var e=VO(d);d=r(e)?e:t.C(d);return[c,"\x3d",aQ(d)].join("")}return sf(a)?"":OE("\x26",function(){return function e(d){return new vg(null,function(){for(var f=d;;)if(f=G(f)){if(zf(f)){var h=Od(f),k=K(h),m=zg(k);return function(){for(var v=0;;)if(v<k){var z=x(h,v),C=N(z,0,null),E=N(z,1,null);if(null!=E){z=m;if(vf(E)){var I=fi;var O=I.B;C=vh.B(b,C);E=G(E);I=OE("\x26",O.call(I,C,E?E:new X(null,1,5,Z,[""],null)))}else I=b(C,E);z.add(I)}v+=1}else return!0}()?Bg(Dg(m),
e(Pd(f))):Bg(Dg(m),null)}var n=H(f),p=N(n,0,null),u=N(n,1,null);if(null!=u)return Ye(vf(u)?OE("\x26",fi.B(vh.B(b,p),function(){var v=G(u);return v?v:new X(null,1,5,Z,[""],null)}())):b(p,u),e(te(f)));f=te(f)}else return null},null,null)}(a)}())}function dQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new re(b.slice(1),0,null):null;return eQ(arguments[0],b)}
function eQ(a,b){var c=N(b,0,null),d=N(b,1,null);if(WE(a)||!OP(a,"\x3d"))return W;a=0===a.indexOf("?")?kg.B(a,1):a;a=w.D(function(e,f){var h=VE(f,/=/,2);if(r(h)){f=N(h,0,null);h=N(h,1,null);f=bQ(f,M([d]));var k=bQ(h,M([d]));h=Q.D;var m=B.B(e,f);k=r(m)?yf(m)?gf.B(m,k):new X(null,2,5,Z,[m,k],null):k;return h.call(Q,e,f,k)}return e},W,QE(a,/&/));return r(c)?RO(tg,a):a}
function fQ(a,b){var c=VE(t.C(a),/\?/,2);a=N(c,0,null);c=N(c,1,null);b=uP(M([r(c)?RO(tg,dQ(c)):null,RO(tg,b)]));b=UO(cQ(b));return r(b)?[t.C(a),"?",b].join(""):a}function gQ(){return!0}function hQ(){return!1}function iQ(a){return OP(a,"*")?$k(NE(NE(["^",t.C(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function jQ(a,b){for(;;){if(r(function(){var n=new zk(null,new q(null,2,["*",null,fz,null],null),null);return n.C?n.C(a):n.call(null,a)}()))return gQ;if(r(function(){var n=If([hf,Bk,uo]);return n.C?n.C(a):n.call(null,a)}()))return hQ;if(a instanceof RegExp)return function(n){return function(p){return Xk(n,p)}}(a,b,gQ,hQ,iQ);if("string"===typeof a){var c=iQ(a);if(r(c)){var d=b;a=c;b=d}else return function(n){return function(p){return F.B(p,n)}}(a,b,c,gQ,hQ,iQ)}else if(yf(a)||uf(a)){if(r(function(){var n=
Dk(a);return n.C?n.C("*"):n.call(null,"*")}()))return gQ;if(F.B(K(a),1))c=H(a),d=b,a=c,b=d;else{var e=w.D(function(n,p,u,v,z){return function(C,E){var I=N(C,0,null);C=N(C,1,null);var O=E instanceof RegExp?E:z(E);return r(O)?new X(null,2,5,Z,[I,gf.B(C,O)],null):new X(null,2,5,Z,[gf.B(I,E),C],null)}}(a,b,gQ,hQ,iQ),new X(null,2,5,Z,[Bk,hf],null),a),f=N(e,0,null),h=N(e,1,null),k=$g(f),m=function(){var n=$g(h);return r(n)?(n=function(p,u,v,z,C,E,I,O,P,T,aa){return function(ea){return aP(function(){return function(va){return Xk(va,
ea)}}(p,u,v,z,C,E,I,O,P,T,aa),v)}}(a,b,n,n,e,f,h,k,gQ,hQ,iQ),r(b)?Tl(n):n):null}();if(r(function(){var n=k;return r(n)?m:n}()))return function(n,p,u,v,z,C,E){return function(I){var O=C.C?C.C(I):C.call(null,I);return r(O)?O:E.C?E.C(I):E.call(null,I)}}(a,b,e,f,h,k,m,gQ,hQ,iQ);if(r(k))return k;if(r(m))return m;throw sm("`encore/cond!`: no matching clause",W);}}else throw sm("Unexpected compile spec type",new q(null,2,[fB,a,to,nc(a)],null));}}
function kQ(a){for(;;){if(wf(a)){var b=B.B(a,mz),c=function(){var h=B.B(a,aw);return r(h)?h:B.B(a,uv)}(),d=function(){var h=B.B(a,Eo);return r(h)?h:B.B(a,Dw)}(),e=function(){var h=c;return r(h)?jQ(h,b):null}(),f=function(){var h=d;return r(h)?jQ(h,b):null}();if(F.B(f,gQ)||F.B(e,hQ))return hQ;if(r(function(){var h=e;return r(h)?f:h}()))return function(h,k,m,n,p,u){return function(v){v=t.C(v);return r(p.C?p.C(v):p.call(null,v))?r(u.C?u.C(v):u.call(null,v))?!1:!0:!1}}(a,b,c,d,e,f,gQ,hQ,iQ,jQ);if(r(e))return F.B(e,
gQ)?gQ:function(h,k,m,n,p){return function(u){u=t.C(u);u=p.C?p.C(u):p.call(null,u);return r(u)?!0:!1}}(a,b,c,d,e,f,gQ,hQ,iQ,jQ);if(r(f))return F.B(f,hQ)?gQ:function(h,k,m,n,p,u){return function(v){v=t.C(v);v=u.C?u.C(v):u.call(null,v);return r(v)?!1:!0}}(a,b,c,d,e,f,gQ,hQ,iQ,jQ);throw sm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new q(null,2,[qz,c,pw,d],null));}a=new q(null,2,[aw,a,Eo,null],null)}}uh.B($g,iP);uh.B($g,jP);uh.B(WO,PP);uh.B(WO,QP);var lQ={Kj:["BC","AD"],Jj:["Before Christ","Anno Domini"],Mj:"JFMAMJJASOND".split(""),Sj:"JFMAMJJASOND".split(""),Lj:"January February March April May June July August September October November December".split(" "),Rj:"January February March April May June July August September October November December".split(" "),Oj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Uj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Xj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Wj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Qj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Vj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),hm:"SMTWTFS".split(""),Tj:"SMTWTFS".split(""),Pj:["Q1","Q2","Q3","Q4"],Nj:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Gj:["AM","PM"],ni:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],si:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Hj:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],oi:6,jm:[5,6],pi:5},mQ=lQ;
mQ=lQ;function nQ(a,b,c,d,e){a=new Date(a,b,c);e=e||0;return a.valueOf()+864E5*(((void 0!==d?d:3)-e+7)%7-((a.getDay()+6)%7-e+7)%7)};function oQ(){}
function pQ(a){if("number"==typeof a){var b=new oQ;b.Vg=a;var c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",nb(c,2));c=d.join("")}b.ei=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=qQ(a);b.ii=[c,c];b.Ve={im:a,ri:a};b.Yg=[];return b}b=new oQ;b.ei=a.id;b.Vg=-a.std_offset;b.ii=a.names;b.Ve=a.names_ext;b.Yg=a.transitions;return b}
function qQ(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(nb(Math.floor(a/60)%100,2),":",nb(a%60,2));return b.join("")}function rQ(a,b){b=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5;for(var c=0;c<a.Yg.length&&b>=a.Yg[c];)c+=2;return 0==c?0:a.Yg[c-1]};function sQ(a){this.Qg=[];this.yb=mQ;"number"==typeof a?tQ(this,a):uQ(this,a)}var vQ=[/^'(?:[^']|'')*('|$)/,/^(?:G+|y+|Y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^'GyYMkSEahKHcLQdmsvVwzZ]+/];function wQ(a){return a.getHours?a.getHours():0}
function uQ(a,b){for(xQ&&(b=b.replace(/\u200f/g,""));b;){const c=b;for(let d=0;d<vQ.length;++d){const e=b.match(vQ[d]);if(e){let f=e[0];b=b.substring(f.length);0==d&&("''"==f?f="'":(f=f.substring(1,"'"==e[1]?f.length-1:f.length),f=f.replace(/''/g,"'")));a.Qg.push({text:f,type:d});break}}if(c===b)throw Error("Malformed pattern part: "+b);}}
sQ.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-(b.Vg-rQ(b,a))):0;let d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));c=[];for(let f=0;f<this.Qg.length;++f){const h=this.Qg[f].text;1==this.Qg[f].type?c.push(yQ(this,h,a,d,e,b)):c.push(h)}return c.join("")};
function tQ(a,b){let c;if(4>b)c=a.yb.ni[b];else if(8>b)c=a.yb.si[b-4];else if(12>b)c=a.yb.Hj[b-8],c=c.replace("{1}",a.yb.ni[b-8]),c=c.replace("{0}",a.yb.si[b-8]);else{tQ(a,10);return}uQ(a,c)}function zQ(a,b){{b=String(b);const c=a.yb||mQ;if(void 0!==c.Yj){a=[];for(let d=0;d<b.length;d++){const e=b.charCodeAt(d);a.push(48<=e&&57>=e?String.fromCharCode(c.Yj+e-48):b.charAt(d))}b=a.join("")}}return b}var xQ=!1;
function AQ(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");}
function yQ(a,b,c,d,e,f){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.yb.Jj[c]:a.yb.Kj[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),zQ(a,nb(c,h));case "Y":return c=(new Date(nQ(d.getFullYear(),d.getMonth(),d.getDate(),a.yb.pi,a.yb.oi))).getFullYear(),0>c&&(c=-c),2==h&&(c%=100),zQ(a,nb(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:h=a.yb.Mj[c];break a;case 4:h=a.yb.Lj[c];break a;case 3:h=a.yb.Oj[c];break a;default:h=zQ(a,nb(c+1,h))}return h;
case "k":return AQ(e),zQ(a,nb(wQ(e)||24,h));case "S":return zQ(a,(e.getMilliseconds()/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?nb(0,h-3):""));case "E":return c=d.getDay(),4<=h?a.yb.Xj[c]:a.yb.Qj[c];case "a":return AQ(e),h=wQ(e),a.yb.Gj[12<=h&&24>h?1:0];case "h":return AQ(e),zQ(a,nb(wQ(e)%12||12,h));case "K":return AQ(e),zQ(a,nb(wQ(e)%12,h));case "H":return AQ(e),zQ(a,nb(wQ(e),h));case "c":a:switch(c=d.getDay(),h){case 5:h=a.yb.Tj[c];break a;case 4:h=a.yb.Wj[c];break a;case 3:h=a.yb.Vj[c];break a;
default:h=zQ(a,nb(c,1))}return h;case "L":a:switch(c=d.getMonth(),h){case 5:h=a.yb.Sj[c];break a;case 4:h=a.yb.Rj[c];break a;case 3:h=a.yb.Uj[c];break a;default:h=zQ(a,nb(c+1,h))}return h;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.yb.Pj[c]:a.yb.Nj[c];case "d":return zQ(a,nb(d.getDate(),h));case "m":return AQ(e),zQ(a,nb(e.getMinutes(),h));case "s":return AQ(e),zQ(a,nb(e.getSeconds(),h));case "v":return h=f||pQ(c.getTimezoneOffset()),h.ei;case "V":return a=f||pQ(c.getTimezoneOffset()),2>=h?
h=a.ei:(h=a,h=0<rQ(h,c)?void 0!==h.Ve.Ij?h.Ve.Ij:h.Ve.DST_GENERIC_LOCATION:void 0!==h.Ve.ri?h.Ve.ri:h.Ve.STD_GENERIC_LOCATION),h;case "w":return c=nQ(e.getFullYear(),e.getMonth(),e.getDate(),a.yb.pi,a.yb.oi),zQ(a,nb(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,h));case "z":return a=f||pQ(c.getTimezoneOffset()),4>h?a.ii[0<rQ(a,c)?2:0]:a.ii[0<rQ(a,c)?3:1];case "Z":return b=f||pQ(c.getTimezoneOffset()),4>h?(h=-(b.Vg-rQ(b,c)),a=[0>h?"-":"+"],h=Math.abs(h),
a.push(nb(Math.floor(h/60)%100,2),nb(h%60,2)),h=a.join("")):h=zQ(a,qQ(b.Vg-rQ(b,c))),h;default:return""}};function BQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new re(b.slice(0),0,null):null;return CQ(b)}function CQ(a){N(a,0,null);return new q(null,6,[js,!0,Yx,!1,QD,null,By,null,Rp,ju,zD,function(b){b=Yg(b);b=B.B(b,hv);b=M([Gl(b)]);var c=Q.D(Yb(),$b,!1);dl(nl(b,c));return r(Ub)?pl():null}],null)}
function DQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new re(b.slice(0),0,null):null;return EQ(b)}
function EQ(a){N(a,0,null);return new q(null,6,[js,!0,Yx,!1,QD,null,By,null,Rp,ju,zD,"undefined"===typeof console?function(){return null}:function(){function b(c){var d=function(){var e=c instanceof D?c.ba:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.C(e)].join(""));
}}();return r(d)?d:console.log}return function(c){var d=b(ym.C(c));if(r(d)){if(r(function(){var h=B.B(c,Mw);return r(h)?h:ii(c,new X(null,2,5,Z,[Ft,Mw],null))}())){var e=function(){var h=Q.I(c,ku,"",M([Nx,null])),k=Rp.C(c);return k.C?k.C(h):k.call(null,h)}(),f=function(){var h=fD.C(c),k=Nx.C(c);return r(k)?Ye(e,Ye(k,h)):Ye(e,h)}();return d.apply(console,vc(f))}return d.call(console,Gl(hv.C(c)))}return null}}()],null)};yf(PO)?eP(new X(null,3,5,Z,[2,126,2],null)):eP(2.126);var FQ=new q(null,1,[DD,op],null),GQ=function GQ(a){switch(arguments.length){case 1:return GQ.C(arguments[0]);case 2:return GQ.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};GQ.C=function(a){return GQ.B(null,a)};
GQ.B=function(a,b){var c=Yg(a),d=B.B(c,cy);B.B(c,jD);var e=Yg(b);b=B.B(e,ym);c=B.B(e,Nx);var f=B.B(e,ku),h=B.B(e,Ro),k=B.B(e,Us);B.B(e,br);var m=B.B(e,xD);e=B.B(e,YA);m=Gl(m);return[r(m)?[t.C(m)," "].join(""):null,ug(b).toUpperCase()," [",t.C(r(h)?h:r(k)?k:"?"),":",t.C(r(e)?e:"?"),"] - ",t.C(Gl(f)),r(d)?null:r(c)?["\n",t.C(HQ?HQ(c,a):IQ.call(null,c,a))].join(""):null].join("")};GQ.aa=2;
var JQ=new q(null,6,[QD,bC,$B,new zk(null,new q(null,1,["*",null],null),null),ds,hf,Hr,FQ,Rp,GQ,iC,"undefined"!==typeof window?new q(null,1,[ID,DQ.C?DQ.C(W):DQ.call(null,W)],null):new q(null,1,[vr,BQ.C?BQ.C(W):BQ.call(null,W)],null)],null);function KQ(a){switch(a instanceof D?a.ba:null){case "trace":return 0;case "debug":return 1;case "info":return 2;case "warn":return 3;case "error":return 4;case "fatal":return 5;case "report":return 6;default:return null}}
function LQ(a){if(r(KQ(a)))return a;throw sm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[fB,a,to,nc(a)],null));}function MQ(a){var b=KQ(a);if(r(b))return b;throw sm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[fB,a,to,nc(a)],null));}function NQ(a,b){return(MQ.C?MQ.C(a):MQ.call(null,a))>=(MQ.C?MQ.C(b):MQ.call(null,b))}
var OQ=Tl(function(a){return kQ(a)}),PQ=Tl(function(a,b){a=OQ(a);return a.C?a.C(b):a.call(null,b)});function QQ(a,b){a=r(nf.C?nf.C(a):nf.call(null,a))?a.C?a.C(b):a.call(null,b):PQ(a,b);return r(a)?!0:!1}var RQ=Tl(function(a,b){return aP(function(c){var d=N(c,0,null);c=N(c,1,null);return r(PQ(d,b))?LQ(c):null},a)});function SQ(a,b,c){b=yf(b)?RQ(b,c):b;a=r(b)?b:a;return LQ.C?LQ.C(a):LQ.call(null,a)}
function TQ(a){if(r(a)){var b=If([hf,Bk]);b=b.C?b.C(a):b.call(null,a);a=r(b)?null:a}else a=null;return a}function UQ(a,b){a=TQ(a);b=TQ(b);return r(r(a)?a:b)?new q(null,2,[aw,a,Eo,b],null):null}
function VQ(a,b,c){var d=r(c)?c:JQ;c=function(){var e=B.B(d,QD);e=r(e)?e:B.B(d,ym);return SQ.D?SQ.D(a,e,"taoensso.sente"):SQ.call(null,a,e,"taoensso.sente")}();return r(NQ.B?NQ.B(b,c):NQ.call(null,b,c))?(b=function(){var e=B.B(d,$B);if(r(e))return e;e=B.B(d,lw);var f=B.B(d,mo);return UQ.B?UQ.B(e,f):UQ.call(null,e,f)}(),r(b)?r(QQ.B?QQ.B(b,"taoensso.sente"):QQ.call(null,b,"taoensso.sente"))?!0:!1:!0):!1}function WQ(a){return NP(Ph.C(function(b){b=RP(b);return xf(b)?ql.I(M([b])):b}),a)}
var XQ=Tl(function(a,b){a=KP(b);N(a,0,null);return N(a,1,null)});
function YQ(a){var b=U.B?U.B(Mo,Mo):U.call(null,Mo,Mo),c=U.B?U.B(EB,EB):U.call(null,EB,EB),d=N(a,0,null);if(r(r(b)?d instanceof Error:b)){var e=d,f=null,h=kP(a);a=r(c)?N(h,0,null):null;c=r(c)?kP(h):h;return new X(null,4,5,Z,[e,f,a,c],null)}f=r(function(){var m=wf(d);return m?ac.C(qf(d)):m}())?d:null;e=function(){var m=ty.C(f);return r(m)?m:r(b)?null:Mo}();var k=R.B(f,ty);h=r(k)?kP(a):a;a=r(c)?N(h,0,null):null;c=r(c)?kP(h):h;return new X(null,4,5,Z,[e,k,a,c],null)}
function ZQ(a,b,c,d){if(VQ(hw,a,JQ)){var e=new Date;c=y(c);c=YQ(c);var f=N(c,0,null),h=N(c,1,null),k=N(c,2,null);c=N(c,3,null);e=gf.B(r(null)?null:W,Vj([Uy,Su,iv,fD,Us,Cq,Ro,ym,Nx,uD,YA,Am,Ft,er],[e,null,JQ,c,null,function(){var z=new zk(null,new q(null,2,[Ay,null,yx,null],null),null);return z.C?z.C(a):z.call(null,a)}(),"taoensso.sente",a,f,null,b,new Cl(function(){return f}),h,k]));e=w.D(function(z,C){z=C.C?C.C(z):C.call(null,z);return null==z?Fe(null):z},e,ds.C(JQ));if(r(e)){c=Yg(e);var m=B.B(c,
fD);e=Q.D(e,vn,new Cl(function(){return m}));var n=hP.I(e,ku,new Cl(function(){if(F.B(null,EB))return"";if(F.B(NB,EB))return WQ(m);if(F.B(EB,EB)){if("string"!==typeof k)throw sm("Timbre format-style logging call without a format pattern (string)",new q(null,2,[ym,a,yr,[t.C(r("taoensso.sente")?"taoensso.sente":r(null)?null:"?"),":",t.C(r(b)?b:"?")].join("")],null));var z=r(k)?k:"",C=fi.B(RP,m);return Ug(eN,z,C)}throw Error(["No matching clause: ",t.C(EB)].join(""));}),M([Qs,new Cl(function(){return je(function(){var z=
B.B(h,vE);if(r(z))return new X(null,3,5,Z,[z,d,a],null);z=B.B(h,pv);if(r(z))return z;z=B.B(h,MD);return r(z)?new X(null,4,5,Z,[z,d,k,a],null):new X(null,4,5,Z,[m,d,k,a],null)}())})])),p=Tl(B.D(JQ,Rp,GQ)),u=gf.B(FQ,B.B(JQ,Hr)),v=Tl(function(z){return new Cl(function(){var C=B.B(n,Uy),E=Yg(z);E=B.B(E,DD);return r(U.B?U.B(E,op):U.call(null,E,op))?(new Date(C)).toISOString():(new sQ(E)).format(C)})});Rf(function(z,C,E){if(r(function(){var ea=js.C(E);return r(ea)?VQ(Sr,a,E):ea}())){var I=By.C(E);if(function(){var ea=
sf(I);if(ea)return ea;ea=XQ(C,I);var va=Gl(Qs.C(n));ea=ea.C?ea.C(va):ea.call(null,va);return hc(ea)}()){var O=Yg(E);z=B.B(O,zD);B.B(O,Yx);var P=function(){var ea=Rp.C(E);var va=(va=null==ea)?va:U.B?U.B(ea,ju):U.call(null,ea,ju);return r(va)?p:ea}(),T=function(){var ea=Hr.C(E);var va=(va=null==ea)?va:U.B?U.B(ea,ju):U.call(null,ea,ju);return r(va)?v(u):v(gf.B(u,ea))}(),aa=gf.B(n,new q(null,5,[ww,C,Lt,E,Rp,P,hv,new Cl(function(){var ea=Q.D(n,xD,T);return P.C?P.C(ea):P.call(null,ea)}),xD,T],null));O=
function(){var ea=Kv.C(E);return r(ea)?ea.C?ea.C(aa):ea.call(null,aa):aa}();return r(O)?z.C?z.C(O):z.call(null,O):null}}return null},null,iC.C(JQ))}}return null}function IQ(a){switch(arguments.length){case 1:return HQ(arguments[0],null);case 2:return HQ(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function HQ(a){var b=a.stack;return r(b)?b:t.C(a)};function $Q(a,b){if(null!=a&&null!=a.Bj)a=a.Bj(a,b);else{var c=$Q[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=$Q._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IPacker.pack",a);}return a}function aR(a,b){if(null!=a&&null!=a.Cj)a=a.Cj(a,b);else{var c=aR[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=aR._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IPacker.unpack",a);}return a};yf(PO)?eP(new X(null,3,5,Z,[2,105,0],null)):eP(2.105);var bR=F.B("default","nodejs"),cR=Ch(!1);function dR(a,b){return new q(null,2,[yv,a,Bx,new q(null,2,[to,nc(b),fs,b],null)],null)}
function eR(a){if(yf(a)){var b=K(a);var c=new zk(null,new q(null,2,[1,null,2,null],null),null);b=c.C?c.C(b):c.call(null,b);if(hc(b))return new q(null,1,[pB,dR(new zk(null,new q(null,2,[1,null,2,null],null),null),a)],null);b=N(a,0,null);N(a,1,null);return b instanceof D?hc(rg(b))?new q(null,1,[cq,dR(Cy,b)],null):null:new q(null,1,[Kn,dR(HE,b)],null)}return new q(null,1,[cC,dR(qs,a)],null)}function fR(a){var b=eR(a);if(r(b))throw sm("Invalid event",new q(null,2,[fB,a,vv,b],null));}
function gR(a){return"string"===typeof a?0===a.indexOf("+")?new X(null,2,5,Z,[kg.B(a,1),ps],null):0===a.indexOf("-")?new X(null,2,5,Z,[kg.B(a,1),Yq],null):new X(null,2,5,Z,[a,zt],null):a}
function hR(a,b){b=gR(b);var c=N(b,0,null),d=N(b,1,null),e=function(){try{return aR(a,c)}catch(k){var h=k;ZQ(bC,226,new Cl(function(){return new X(null,3,5,Z,["Bad package: %s (%s)",c,h],null)}),2046726725);return new X(null,2,5,Z,[Os,c],null)}}(),f=function(){var h=d instanceof D?d.ba:null;switch(h){case "v1/wrapped":return e;case "v1/unwrapped":return new X(null,2,5,Z,[e,null],null);case "v2/unwrapped":return e;default:throw Error(["No matching clause: ",t.C(h)].join(""));}}();b=N(f,0,null);f=N(f,
1,null);f=F.B(0,f)?IB:f;return new X(null,2,5,Z,[b,f],null)}function iR(a,b,c){c=F.B(c,IB)?0:c;a=$Q(a,null==c?new X(null,1,5,Z,[b],null):new X(null,2,5,Z,[b,c],null));return r(!0)?["+",t.C(a)].join(""):a}function jR(){}jR.prototype.Bj=function(a,b){a:{a=Xb;var c=Wb;Wb=Xb=null;try{var d=ql.I(M([b]));break a}finally{Wb=c,Xb=a}d=void 0}return d};jR.prototype.Cj=function(a,b){return QO(b)};var kR=new jR;function lR(a){return F.B(a,lr)?kR:a}
function mR(a){if(null!=a&&null!=a.rf)a=a.rf(a);else{var b=mR[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=mR._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IChSocket.-chsk-connect!",a);}return a}function nR(a,b){if(null!=a&&null!=a.Wg)a=a.Wg(a,b);else{var c=nR[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=nR._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IChSocket.-chsk-disconnect!",a);}return a}
function oR(a,b,c){if(null!=a&&null!=a.dg)a=a.dg(a,b,c);else{var d=oR[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=oR._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("IChSocket.-chsk-send!",a);}return a}
var pR=function pR(a){switch(arguments.length){case 2:return pR.B(arguments[0],arguments[1]);case 4:return pR.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return pR.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};pR.B=function(a,b){return pR.D(a,b,W)};pR.R=function(a,b,c,d){return pR.D(a,b,new q(null,2,[yw,c,gE,d],null))};
pR.D=function(a,b,c){ZQ(Sr,959,new Cl(function(){return new X(null,3,5,Z,["Chsk send: (%s) %s",Q.D(c,gE,Ef(gE.C(c))),b],null)}),-1069740047);return oR(a,b,c)};pR.aa=4;function qR(a){ZQ(kD,963,new Cl(function(){return new X(null,1,5,Z,["Chsk send against closed chsk."],null)}),1180150859);r(a)&&(a.C?a.C(CE):a.call(null,CE));return!1}function rR(a,b){return r(b)?EP(a,new X(null,1,5,Z,[b],null),function(c){return new xP(Wu,c)}):null}
function sR(a,b){var c=DP(PC.C(a),function(e){var f=b.C?b.C(e):b.call(null,e);f=r(Zw.C(e))?Q.D(f,Zw,!1):f;f=r($s.C(f))?R.B(f,iB):f;return new xP(f,new X(null,2,5,Z,[e,f],null))}),d=N(c,0,null);c=N(c,1,null);return Zg.B(d,c)?(d=new X(null,2,5,Z,[d,c],null),uL(ii(a,new X(null,2,5,Z,[YB,Ew],null)),new X(null,2,5,Z,[np,d],null)),d):null}function tR(a,b){var c=$s.C(a);c=r(c)?c:Zg.B(b,jz);return r(c)?Q.I(R.B(a,iB),$s,!1,M([MB,new q(null,2,[pn,FP(),rE,b],null)])):a}
function uR(a,b){if(null==a||Ff(a))return a;fR(b);var c=N(b,0,null);N(b,1,null);return function(d){return uL(a,new X(null,2,5,Z,[tg.C([YO(c),".cb"].join("")),d],null))}}
function vR(a,b){ZQ(Sr,1037,new Cl(function(){return new X(null,2,5,Z,["receive-buffered-evs!: %s",b],null)}),1772582787);for(var c=G(b),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);fR(h);N(h,0,null);uL(xy.C(a),h);f+=1}else if(c=G(c))d=c,zf(d)?(c=Od(d),e=Pd(d),d=c,h=K(c),c=e,e=h):(h=H(d),fR(h),N(h,0,null),uL(xy.C(a),h),c=J(d),d=null,e=0),f=0;else return null}function wR(a){var b=yf(a);return b?(a=N(a,0,null),F.B(a,iE)):b}
function xR(a,b,c){ZQ(Sr,1052,new Cl(function(){return new X(null,3,5,Z,["receive-handshake! (%s): %s",a,c],null)}),-1854177319);N(c,0,null);var d=N(c,1,null),e=N(d,0,null);N(d,1,null);var f=N(d,2,null),h=Yg(b);d=B.B(h,YB);h=B.B(h,ot);h=Gh(h);var k=new q(null,6,[to,a,$s,!0,Sz,!0,On,e,ao,f,Zw,h],null);e=new X(null,2,5,Z,[iE,new X(null,4,5,Z,[e,null,f,h],null)],null);fR(e);sR(b,function(m){return uk.I(M([m,k]))});uL(ip.C(d),e)}
var yR=function(){var a="undefined"!==typeof require?require:th(Bp);return new Cl(function(){if(bR&&"undefined"!==typeof require)try{var b=[t.C("web"),"socket"].join("");return a.C?a.C(b):a.call(null,b)}catch(c){return null}else return null})}();
function zR(a){a=Yg(a);B.B(a,PA);B.B(a,oo);B.B(a,jv);B.B(a,Yo);B.B(a,Sv);var b=Yg(a);a=B.B(b,PA);var c=B.B(b,oo),d=B.B(b,jv),e=B.B(b,Yo);B.B(b,Sv);b=B.B(b,Dx);var f=fP(ca,"WebSocket");r(f)||(f=fP(ca,"MozWebSocket"),f=r(f)?f:fP(y(yR),"w3cwebsocket"));r(f)?(e=new f(e),e.onerror=a,e.onmessage=c,e.onclose=d,r(b)&&(e.binaryType=b),a=e):a=null;return a}
function AR(a,b){if(r(b)){var c=nf(b);b=UO(c?b.P?b.P():b.call(null):b);if(r(b))return b;a=F.B(a,HC)?c:a;r(a)&&ZQ(kD,1175,new Cl(function(){return new X(null,1,5,Z,["WARNING: no client CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),-636178890)}return null}
function BR(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P){this.Ka=a;this.Ja=b;this.params=c;this.headers=d;this.Ia=e;this.url=f;this.Bb=h;this.state_=k;this.Ga=m;this.sb=n;this.Ma=p;this.Ha=u;this.lb=v;this.ob=z;this.pb=C;this.Cb=E;this.G=I;this.F=O;this.J=P;this.O=2230716170;this.T=139264}g=BR.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "client-id":return this.Ka;case "chs":return this.Ja;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Ia;case "url":return this.url;case "ws-kalive-ms":return this.Bb;case "state_":return this.state_;case "instance-handle_":return this.Ga;case "retry-count_":return this.sb;case "ever-opened?_":return this.Ma;case "backoff-ms-fn":return this.Ha;case "cbs-waiting_":return this.lb;case "socket_":return this.ob;
case "udt-last-comms_":return this.pb;case "ws-opts":return this.Cb;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,V.B(new X(null,16,5,Z,[new X(null,2,5,Z,[mq,this.Ka],null),new X(null,2,5,Z,[YB,this.Ja],null),new X(null,2,5,Z,[vq,this.params],null),new X(null,2,5,Z,[Sv,this.headers],null),new X(null,2,5,Z,[ut,this.Ia],null),new X(null,2,5,Z,[gt,this.url],null),new X(null,2,5,Z,[As,this.Bb],null),new X(null,2,5,Z,[PC,this.state_],null),new X(null,2,5,Z,[cp,this.Ga],null),new X(null,2,5,Z,[kA,this.sb],
null),new X(null,2,5,Z,[ot,this.Ma],null),new X(null,2,5,Z,[tD,this.Ha],null),new X(null,2,5,Z,[Ps,this.lb],null),new X(null,2,5,Z,[Zt,this.ob],null),new X(null,2,5,Z,[qq,this.pb],null),new X(null,2,5,Z,[$z,this.Cb],null)],null),this.F))};g.qa=function(){return new cj(this,16,new X(null,16,5,Z,[mq,YB,vq,Sv,ut,gt,As,PC,cp,kA,ot,tD,Ps,Zt,qq,$z],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,this.J)};g.la=function(){return 16+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1998688700^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Ka,b.Ka)&&F.B(this.Ja,b.Ja)&&F.B(this.params,b.params)&&F.B(this.headers,b.headers)&&F.B(this.Ia,b.Ia)&&F.B(this.url,b.url)&&F.B(this.Bb,b.Bb)&&F.B(this.state_,b.state_)&&F.B(this.Ga,b.Ga)&&F.B(this.sb,b.sb)&&F.B(this.Ma,b.Ma)&&F.B(this.Ha,b.Ha)&&F.B(this.lb,b.lb)&&F.B(this.ob,b.ob)&&F.B(this.pb,b.pb)&&F.B(this.Cb,b.Cb)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,16,[As,null,ot,null,mq,null,ut,null,YB,null,qq,null,$z,null,vq,null,kA,null,Sv,null,tD,null,Zt,null,gt,null,cp,null,Ps,null,PC,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "client-id":case "chs":case "params":case "headers":case "packer":case "url":case "ws-kalive-ms":case "state_":case "instance-handle_":case "retry-count_":case "ever-opened?_":case "backoff-ms-fn":case "cbs-waiting_":case "socket_":case "udt-last-comms_":case "ws-opts":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(mq,b):U.call(null,mq,b))?new BR(c,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(YB,b):U.call(null,YB,b))?new BR(this.Ka,c,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(vq,b):U.call(null,vq,b))?new BR(this.Ka,this.Ja,c,this.headers,this.Ia,
this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(Sv,b):U.call(null,Sv,b))?new BR(this.Ka,this.Ja,this.params,c,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(ut,b):U.call(null,ut,b))?new BR(this.Ka,this.Ja,this.params,this.headers,c,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):
r(U.B?U.B(gt,b):U.call(null,gt,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,c,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(As,b):U.call(null,As,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,c,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(PC,b):U.call(null,PC,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,
c,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(cp,b):U.call(null,cp,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,c,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(kA,b):U.call(null,kA,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,c,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(ot,b):U.call(null,
ot,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,c,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(tD,b):U.call(null,tD,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,c,this.lb,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(Ps,b):U.call(null,Ps,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,
this.Ma,this.Ha,c,this.ob,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(Zt,b):U.call(null,Zt,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,c,this.pb,this.Cb,this.G,this.F,null):r(U.B?U.B(qq,b):U.call(null,qq,b))?new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,c,this.Cb,this.G,this.F,null):r(U.B?U.B($z,b):U.call(null,$z,b))?new BR(this.Ka,
this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,c,this.G,this.F,null):new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,16,5,Z,[new Y(mq,this.Ka,null),new Y(YB,this.Ja,null),new Y(vq,this.params,null),new Y(Sv,this.headers,null),new Y(ut,this.Ia,null),new Y(gt,this.url,null),new Y(As,this.Bb,null),new Y(PC,this.state_,null),new Y(cp,this.Ga,null),new Y(kA,this.sb,null),new Y(ot,this.Ma,null),new Y(tD,this.Ha,null),new Y(Ps,this.lb,null),new Y(Zt,this.ob,null),new Y(qq,this.pb,null),new Y($z,this.Cb,null)],null),this.F))};
g.ha=function(a,b){return new BR(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Bb,this.state_,this.Ga,this.sb,this.Ma,this.Ha,this.lb,this.ob,this.pb,this.Cb,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.Wg=function(a,b){Eh(this.Ga,null);sR(this,function(c){return tR(c,b)});a=y(this.ob);return r(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.dg=function(a,b,c){var d=this;a=Yg(c);var e=B.B(a,yw);c=B.B(a,gE);B.B(a,rx);fR(b);var f=uR(c,b);if(hc($s.C(y(d.state_))))return qR(f);var h=r(f)?QP.D(TP(),0,6):null;b=iR(d.Ia,b,h);if(r(h)&&(wP(d.lb,new X(null,1,5,Z,[h],null),f),r(e))){var k=sL(1,null);TK(function(){var n=function(){function u(v){var z=v[1];if(1===z)return z=jL(e),oL(v,2,z);if(2===z){z=v[2];var C=rR(d.lb,h);v[8]=z;v[7]=C;v[1]=r(C)?3:4;return ow}return 3===z?(z=v[7],z=z.C?z.C(mn):z.call(null,mn),v[2]=z,v[1]=5,ow):4===z?(v[2]=null,
v[1]=5,ow):5===z?qL(v,v[2]):null}return function(){function v(E){for(;;){a:try{for(;;){var I=u(E);if(!U(I,ow)){var O=I;break a}}}catch(P){O=P;E[2]=O;if(G(E[4]))E[1]=H(E[4]);else throw O;O=ow}if(!U(O,ow))return O}}function z(){var E=[null,null,null,null,null,null,null,null,null];E[0]=C;E[1]=1;return E}var C=null;C=function(E){switch(arguments.length){case 0:return z.call(this);case 1:return v.call(this,E)}throw Error("Invalid arity: "+arguments.length);};C.P=z;C.C=v;return C}()}(),p=function(){var u=
n();u[6]=k;return u}();return nL(p)})}try{return y(d.ob).send(b),Eh(d.pb,FP()),Bv}catch(n){var m=n;ZQ(yx,1231,new Cl(function(){return new X(null,2,5,Z,[m,"Chsk send error"],null)}),1303272934);r(h)&&(b=function(){var p=rR(d.lb,h);return r(p)?p:f}(),b.C?b.C(xm):b.call(null,xm));return!1}};
g.rf=function(){function a(){return F.B(y(b.Ga),d)}var b=this,c=this,d=Eh(b.Ga,TP());Eh(b.sb,0);(function k(){if(a()){var m=function(){if(a()){var C=Fh.B(b.sb,De),E=b.Ha.C?b.Ha.C(C):b.Ha.call(null,C),I=FP()+E;ZQ(kD,1250,new Cl(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",C,E],null)}),-2129033264);ca.setTimeout(k,E);return sR(c,function(O){return Q.D(O,iB,I)})}return null},n=function(C){ZQ(yx,1263,new Cl(function(){var E=Z;try{var I=Rl(C)}catch(O){I=
C}return new X(null,2,5,E,["WebSocket error: %s",I],null)}),974094677);return sR(c,function(E){return Q.D(E,Xy,new q(null,2,[pn,FP(),FD,C],null))})},p=function(C){C=fP(C,"data");C=hR(b.Ia,C);var E=N(C,0,null);C=N(C,1,null);Eh(b.pb,FP());if(wR(E)){xR(Vx,c,E);Eh(b.sb,0);var I=xx}else I=null;if(r(I))return I;F.B(E,ax)?(uL(xy.C(b.Ja),new X(null,1,5,Z,[ax],null)),I=Yn):I=null;return r(I)?I:r(C)?(C=rR(b.lb,C),r(C)?C.C?C.C(E):C.call(null,E):ZQ(kD,1307,new Cl(function(){return new X(null,2,5,Z,["Cb reply w/o local cb-fn: %s",
E],null)}),-372453182)):vR(b.Ja,E)},u=function(C){var E=new q(null,5,[pn,FP(),FD,C,En,fP(C,"wasClean"),Co,fP(C,"code"),rE,fP(C,"reason")],null);if(r(En.C(E)))return ZQ(bC,1333,new Cl(function(){return new X(null,1,5,Z,["Clean WebSocket close, will not attempt reconnect"],null)}),1600417025),sR(c,function(I){return Q.D(I,LC,E)});sR(c,function(I){return Q.D(tR(I,jz),LC,E)});return m()},v=function(){try{return zR(uk.I(M([b.Cb,new q(null,5,[PA,n,oo,p,jv,u,Sv,b.headers,Yo,fQ(b.url,uk.I(M([b.params,new q(null,
2,[mq,b.Ka,bz,AR(HC,bz.C(y(b.state_)))],null)])))],null)])))}catch(E){var C=E;ZQ(yx,1358,new Cl(function(){return new X(null,2,5,Z,[C,"WebSocket error"],null)}),2021511297);return null}}();if(hc(v))return m();var z=y(b.ob);r(z)&&z.close();return Eh(b.ob,v)}return null})();var e=b.Bb;if(r(e)){var f=sL(1,null);TK(function(){var k=function(){function n(p){var u=p[1];if(7===u)return p[2]=p[2],p[1]=3,ow;if(1===u)return p[2]=null,p[1]=2,ow;if(4===u){u=p[2];var v=a();p[7]=u;p[1]=v?5:6;return ow}return 6===
u?(p[2]=null,p[1]=7,ow):3===u?qL(p,p[2]):2===u?(u=y(b.pb),v=jL(e),p[8]=u,oL(p,4,v)):9===u?(p[2]=null,p[1]=10,ow):5===u?(u=p[8],v=y(b.pb),u=F.B(u,v),p[1]=u?8:9,ow):10===u?(p[9]=p[2],p[2]=null,p[1]=2,ow):8===u?(u=new X(null,1,5,Z,[ax],null),v=Vj([rx],[!0]),u=c.dg(null,u,v),p[2]=u,p[1]=10,ow):null}return function(){function p(z){for(;;){a:try{for(;;){var C=n(z);if(!U(C,ow)){var E=C;break a}}}catch(I){E=I;z[2]=E;if(G(z[4]))z[1]=H(z[4]);else throw E;E=ow}if(!U(E,ow))return E}}function u(){var z=[null,
null,null,null,null,null,null,null,null,null];z[0]=v;z[1]=1;return z}var v=null;v=function(z){switch(arguments.length){case 0:return u.call(this);case 1:return p.call(this,z)}throw Error("Invalid arity: "+arguments.length);};v.P=u;v.C=p;return v}()}(),m=function(){var n=k();n[6]=f;return n}();return nL(m)})}return c};
function CR(a,b){a=uk.I(M([new q(null,7,[PC,Ch(new q(null,4,[to,Vx,$s,!1,Sz,!1,bz,b],null)),cp,Ch(null),kA,Ch(0),ot,Ch(!1),Ps,Ch(W),Zt,Ch(null),qq,Ch(null)],null),a]));b=R.I(a,mq,M([YB,vq,Sv,ut,gt,As,PC,cp,kA,ot,tD,Ps,Zt,qq,$z]));b=xf(a)?ei.B(W,b):b;return new BR(mq.C(a),YB.C(a),vq.C(a),Sv.C(a),ut.C(a),gt.C(a),As.C(a),PC.C(a),cp.C(a),kA.C(a),ot.C(a),tD.C(a),Ps.C(a),Zt.C(a),qq.C(a),$z.C(a),null,$g(b),null)}var DR=UP.I(M([tp,60]));
function ER(a,b,c,d,e,f,h,k,m,n,p,u,v,z){this.Ka=a;this.Ja=b;this.params=c;this.Ia=d;this.url=e;this.state_=f;this.Ga=h;this.Ma=k;this.Ha=m;this.Ab=n;this.Ob=p;this.G=u;this.F=v;this.J=z;this.O=2230716170;this.T=139264}g=ER.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "client-id":return this.Ka;case "chs":return this.Ja;case "params":return this.params;case "packer":return this.Ia;case "url":return this.url;case "state_":return this.state_;case "instance-handle_":return this.Ga;case "ever-opened?_":return this.Ma;case "backoff-ms-fn":return this.Ha;case "ajax-opts":return this.Ab;case "curr-xhr_":return this.Ob;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,V.B(new X(null,11,5,Z,[new X(null,2,5,Z,[mq,this.Ka],null),new X(null,2,5,Z,[YB,this.Ja],null),new X(null,2,5,Z,[vq,this.params],null),new X(null,2,5,Z,[ut,this.Ia],null),new X(null,2,5,Z,[gt,this.url],null),new X(null,2,5,Z,[PC,this.state_],null),new X(null,2,5,Z,[cp,this.Ga],null),new X(null,2,5,Z,[ot,this.Ma],null),new X(null,2,5,Z,[tD,this.Ha],null),new X(null,2,5,Z,[AE,this.Ab],
null),new X(null,2,5,Z,[$u,this.Ob],null)],null),this.F))};g.qa=function(){return new cj(this,11,new X(null,11,5,Z,[mq,YB,vq,ut,gt,PC,cp,ot,tD,AE,$u],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new ER(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,this.G,this.F,this.J)};g.la=function(){return 11+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-266770752^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Ka,b.Ka)&&F.B(this.Ja,b.Ja)&&F.B(this.params,b.params)&&F.B(this.Ia,b.Ia)&&F.B(this.url,b.url)&&F.B(this.state_,b.state_)&&F.B(this.Ga,b.Ga)&&F.B(this.Ma,b.Ma)&&F.B(this.Ha,b.Ha)&&F.B(this.Ab,b.Ab)&&F.B(this.Ob,b.Ob)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,11,[$u,null,ot,null,mq,null,ut,null,YB,null,vq,null,tD,null,gt,null,cp,null,AE,null,PC,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new ER(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "client-id":case "chs":case "params":case "packer":case "url":case "state_":case "instance-handle_":case "ever-opened?_":case "backoff-ms-fn":case "ajax-opts":case "curr-xhr_":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(mq,b):U.call(null,mq,b))?new ER(c,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,this.G,this.F,null):r(U.B?U.B(YB,b):U.call(null,YB,b))?new ER(this.Ka,c,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,this.G,this.F,null):r(U.B?U.B(vq,b):U.call(null,vq,b))?new ER(this.Ka,this.Ja,c,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,this.G,this.F,null):r(U.B?U.B(ut,b):U.call(null,
ut,b))?new ER(this.Ka,this.Ja,this.params,c,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,this.G,this.F,null):r(U.B?U.B(gt,b):U.call(null,gt,b))?new ER(this.Ka,this.Ja,this.params,this.Ia,c,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,this.G,this.F,null):r(U.B?U.B(PC,b):U.call(null,PC,b))?new ER(this.Ka,this.Ja,this.params,this.Ia,this.url,c,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,this.G,this.F,null):r(U.B?U.B(cp,b):U.call(null,cp,b))?new ER(this.Ka,this.Ja,this.params,this.Ia,
this.url,this.state_,c,this.Ma,this.Ha,this.Ab,this.Ob,this.G,this.F,null):r(U.B?U.B(ot,b):U.call(null,ot,b))?new ER(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,c,this.Ha,this.Ab,this.Ob,this.G,this.F,null):r(U.B?U.B(tD,b):U.call(null,tD,b))?new ER(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,c,this.Ab,this.Ob,this.G,this.F,null):r(U.B?U.B(AE,b):U.call(null,AE,b))?new ER(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,
c,this.Ob,this.G,this.F,null):r(U.B?U.B($u,b):U.call(null,$u,b))?new ER(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,c,this.G,this.F,null):new ER(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,11,5,Z,[new Y(mq,this.Ka,null),new Y(YB,this.Ja,null),new Y(vq,this.params,null),new Y(ut,this.Ia,null),new Y(gt,this.url,null),new Y(PC,this.state_,null),new Y(cp,this.Ga,null),new Y(ot,this.Ma,null),new Y(tD,this.Ha,null),new Y(AE,this.Ab,null),new Y($u,this.Ob,null)],null),this.F))};g.ha=function(a,b){return new ER(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Ob,b,this.F,this.J)};
g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.Wg=function(a,b){Eh(this.Ga,null);sR(this,function(c){return tR(c,b)});a=y(this.Ob);return r(a)?a.abort():null};
g.dg=function(a,b,c){function d(n){var p=Yg(n);n=B.B(p,po);p=B.B(p,Up);if(r(n)){if(F.B(n,tA))return r(k)?k.C?k.C(mn):k.call(null,mn):null;sR(f,function(v){return tR(v,jz)});return r(k)?k.C?k.C(xm):k.call(null,xm):null}n=hR(e.Ia,p);var u=N(n,0,null);N(n,1,null);r(k)?k.C?k.C(u):k.call(null,u):Zg.B(u,mE)&&ZQ(kD,1483,new Cl(function(){return new X(null,2,5,Z,["Cb reply w/o local cb-fn: %s",u],null)}),939372728);return sR(f,function(v){return Q.D(v,$s,!0)})}var e=this,f=this;a=Yg(c);var h=B.B(a,yw);c=
B.B(a,gE);B.B(a,rx);fR(b);var k=uR(c,b);if(hc($s.C(y(e.state_))))return qR(k);var m=AR(HC,bz.C(y(e.state_)));a=e.url;c=uk.I(M([e.Ab,new q(null,5,[Pq,Au,yw,function(){if(r(h))return h;var n=yw.C(e.Ab);return r(n)?n:DR}(),eE,eA,Sv,uk.I(M([Sv.C(e.Ab),new q(null,1,[Js,m],null)])),vq,function(){var n=iR(e.Ia,b,r(k)?IB:null);return uk.I(M([e.params,new q(null,4,[pn,FP(),bz,m,mq,e.Ka,Xu,n],null)]))}()],null)]));$P.D?$P.D(a,c,d):$P.call(null,a,c,d);return Bv};
g.rf=function(){var a=this,b=this,c=Eh(a.Ga,TP());(function f(e){ZQ(Sr,1493,new Cl(function(){return new X(null,1,5,Z,["async-poll-for-update!"],null)}),-1475671308);if(F.B(y(a.Ga),c)){var h=function(){if(F.B(y(a.Ga),c)){var k=e+1,m=a.Ha.C?a.Ha.C(k):a.Ha.call(null,k),n=FP()+m;ZQ(kD,1501,new Cl(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),1963225229);ca.setTimeout(function(){return f(k)},m);return sR(b,function(p){return Q.D(p,iB,n)})}return null};
return Eh(a.Ob,function(){function k(p){var u=Yg(p);p=B.B(u,po);u=B.B(u,Up);if(r(p)){if(F.B(p,tA))return f(0);sR(b,function(v){return tR(v,jz)});return h()}p=hR(a.Ia,u);p=N(p,0,null);(u=wR(p))&&xR(pD,b,p);sR(b,function(v){return Q.D(v,$s,!0)});f(0);if(u)return null;F.B(p,mn)?(r(y(cR))&&vR(a.Ja,new X(null,1,5,Z,[new X(null,1,5,Z,[Gn],null)],null)),u=Yn):u=null;return r(u)?u:vR(a.Ja,p)}var m=a.url,n=uk.I(M([a.Ab,new q(null,5,[Pq,DA,yw,function(){var p=yw.C(a.Ab);return r(p)?p:DR}(),eE,eA,vq,uk.I(M([a.params,
new q(null,2,[pn,FP(),mq,a.Ka],null),r($s.C(y(a.state_)))?null:new q(null,1,[sx,!0],null)])),Sv,uk.I(M([Sv.C(a.Ab),new q(null,1,[Js,AR(HC,bz.C(y(a.state_)))],null)]))],null)]));return $P.D?$P.D(m,n,k):$P.call(null,m,n,k)}())}return null})(0);return b};
function FR(a,b){a=uk.I(M([new q(null,4,[PC,Ch(new q(null,4,[to,pD,$s,!1,Sz,!1,bz,b],null)),cp,Ch(null),ot,Ch(!1),$u,Ch(null)],null),a]));b=R.I(a,mq,M([YB,vq,ut,gt,PC,cp,ot,tD,AE,$u]));b=xf(a)?ei.B(W,b):b;return new ER(mq.C(a),YB.C(a),vq.C(a),ut.C(a),gt.C(a),PC.C(a),cp.C(a),ot.C(a),tD.C(a),AE.C(a),$u.C(a),null,$g(b),null)}function GR(a,b,c,d,e,f,h){this.od=a;this.Wc=b;this.state_=c;this.zc=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=GR.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "ws-chsk-opts":return this.od;case "ajax-chsk-opts":return this.Wc;case "state_":return this.state_;case "impl_":return this.zc;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[gs,this.od],null),new X(null,2,5,Z,[tw,this.Wc],null),new X(null,2,5,Z,[PC,this.state_],null),new X(null,2,5,Z,[Rx,this.zc],null)],null),this.F))};g.qa=function(){return new cj(this,4,new X(null,4,5,Z,[gs,tw,PC,Rx],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new GR(this.od,this.Wc,this.state_,this.zc,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1193508708^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.od,b.od)&&F.B(this.Wc,b.Wc)&&F.B(this.state_,b.state_)&&F.B(this.zc,b.zc)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,4,[Rx,null,gs,null,PC,null,tw,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new GR(this.od,this.Wc,this.state_,this.zc,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "ws-chsk-opts":case "ajax-chsk-opts":case "state_":case "impl_":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(gs,b):U.call(null,gs,b))?new GR(c,this.Wc,this.state_,this.zc,this.G,this.F,null):r(U.B?U.B(tw,b):U.call(null,tw,b))?new GR(this.od,c,this.state_,this.zc,this.G,this.F,null):r(U.B?U.B(PC,b):U.call(null,PC,b))?new GR(this.od,this.Wc,c,this.zc,this.G,this.F,null):r(U.B?U.B(Rx,b):U.call(null,Rx,b))?new GR(this.od,this.Wc,this.state_,c,this.G,this.F,null):new GR(this.od,this.Wc,this.state_,this.zc,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(gs,this.od,null),new Y(tw,this.Wc,null),new Y(PC,this.state_,null),new Y(Rx,this.zc,null)],null),this.F))};g.ha=function(a,b){return new GR(this.od,this.Wc,this.state_,this.zc,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.Wg=function(a,b){a=y(this.zc);return r(a)?nR(a,b):null};g.dg=function(a,b,c){a=y(this.zc);if(r(a))return oR(a,b,c);c=Yg(c);c=B.B(c,gE);b=uR(c,b);return qR(b)};
g.rf=function(){function a(){var f=Ch(!1);yl(c.state_,function(h,k,m,n){h=y(c.zc);if(r(h)&&(k=ot.C(h),r(k))){if(r(y(k)))return null;if(r(Xy.C(n))&&Gh(f))return ZQ(kD,1635,new Cl(function(){return new X(null,1,5,Z,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),-2110670522),nR(h,Aw),Eh(c.zc,b())}return null});return CR(e,bz.C(y(c.state_))).rf(null)}function b(){Ed(c.state_,zl);return FR(d,bz.C(y(c.state_))).rf(null)}var c=this,d=Q.D(c.Wc,PC,c.state_),e=Q.D(c.od,PC,c.state_);Eh(c.zc,function(){var f=
a();return r(f)?f:b()}());return this};
function HR(a,b,c,d){var e=function(){switch(a instanceof D?a.ba:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof D?d.ba:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.C(e)].join(""));}default:throw Error(["No matching clause: ",t.C(h)].join(""));}}();return[t.C(f),"//",SP(M([b,c]))].join("")}
function IR(a,b,c){function d(n){return n.P?n.P():n.call(null)}var e=hc(xn);c=Yg(c);var f=B.B(c,Kq),h=B.B(c,kq);B.B(c,Bu);var k=sL(null,null),m=sL(1,null);TK(function(){var n=function(){function u(v){var z=v[1];if(7===z)return z=v[2],v[7]=z,v[1]=r(z)?8:9,ow;if(1===z)return v[2]=null,v[1]=2,ow;if(4===z){z=v[9];z=v[2];var C=N(z,0,null),E=N(z,1,null),I=F.B(E,k);v[11]=C;v[8]=z;v[9]=I;v[10]=E;v[1]=I?5:6;return ow}if(6===z)return C=v[11],v[2]=null==C,v[1]=7,ow;if(3===z)return qL(v,v[2]);if(2===z)return AL(v,
4,new X(null,2,5,Z,[a,k],null));if(9===z){C=v[11];var O=Yg(C),P=B.B(O,Cx);z=d(function(){return function(){try{r(f)&&ZQ(Sr,1840,new Cl(function(){return new X(null,2,5,Z,["Pre-handler event: %s",P],null)}),418704812);var T=r(e)?function(){try{var va=wf(O);if(va){var ua=mP(new zk(null,new q(null,11,[mB,null,Wo,null,mq,null,dC,null,On,null,Cx,null,vE,null,Jz,null,Dq,null,nA,null,dA,null],null),null),O);if(ua){var Ma=Yg(O),Ka=B.B(Ma,Wo),la=B.B(Ma,dA),ya=B.B(Ma,dC),sa=B.B(Ma,Jz),Da=B.B(Ma,Dq),fb=B.B(Ma,
mq),zc=B.B(Ma,Cx),jc=B.B(Ma,mB);var kc=TO(Ka)&&Ff(la)&&ya instanceof Bh&&sa instanceof Bh&&wf(Da)&&"string"===typeof fb&&!WE(fb)&&null==eR(zc)&&(null==jc||Ff(jc))}else kc=ua}else kc=va;var Db=kc?null:NO}catch(Fd){if(Fd instanceof Error)Db=Fd;else throw Fd;}return null==Db?O:OO(1843,"(server-event-msg? event-msg)",O,Db)}():function(){try{var va=wf(O);if(va){var ua=mP(new zk(null,new q(null,6,[Wo,null,Ew,null,Cx,null,vE,null,nA,null,dA,null],null),null),O);if(ua){var Ma=Yg(O),Ka=B.B(Ma,Wo),la=B.B(Ma,
dA),ya=B.B(Ma,Ew),sa=B.B(Ma,Cx);var Da=TO(Ka)&&Ff(la)&&ya instanceof Bh&&null==eR(sa)}else Da=ua}else Da=va;var fb=Da?null:NO}catch(zc){if(zc instanceof Error)fb=zc;else throw zc;}return null==fb?O:OO(1844,"(client-event-msg? event-msg)",O,fb)}();return b.C?b.C(T):b.call(null,T)}catch(va){var aa=va;try{return r(h)?h.B?h.B(aa,O):h.call(null,aa,O):ZQ(yx,1849,new Cl(function(){return new X(null,3,5,Z,[aa,"Chsk router `event-msg-handler` error: %s",P],null)}),547254722)}catch(ua){var ea=ua;return ZQ(yx,
1850,new Cl(function(){return new X(null,3,5,Z,[ea,"Chsk router `error-handler` error: %s",P],null)}),53697200)}}}}());v[12]=z;v[2]=null;v[1]=2;return ow}return 5===z?(z=v[9],v[2]=z,v[1]=7,ow):10===z?(v[2]=v[2],v[1]=3,ow):8===z?(v[2]=null,v[1]=10,ow):null}return function(){function v(E){for(;;){a:try{for(;;){var I=u(E);if(!U(I,ow)){var O=I;break a}}}catch(P){O=P;E[2]=O;if(G(E[4]))E[1]=H(E[4]);else throw O;O=ow}if(!U(O,ow))return O}}function z(){var E=[null,null,null,null,null,null,null,null,null,
null,null,null,null];E[0]=C;E[1]=1;return E}var C=null;C=function(E){switch(arguments.length){case 0:return z.call(this);case 1:return v.call(this,E)}throw Error("Invalid arity: "+arguments.length);};C.P=z;C.C=v;return C}()}(),p=function(){var u=n();u[6]=m;return u}();return nL(p)});return function(){return nK(k)}}
function JR(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new re(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=N(d,0,null);d=Yg(d);B.B(d,Kq);B.B(d,kq);return IR(b,c,d)};function KR(a,b,c){if(lg(c)){var d=Tg(og,Ph.B(a,c));return b.C?b.C(d):b.call(null,d)}return Ji(c)?(d=new Y(function(){var e=Xc(c);return a.C?a.C(e):a.call(null,e)}(),function(){var e=Yc(c);return a.C?a.C(e):a.call(null,e)}(),null),b.C?b.C(d):b.call(null,d)):Cf(c)?(d=Vk(Ph.B(a,c)),b.C?b.C(d):b.call(null,d)):xf(c)?(d=w.D(function(e,f){return gf.B(e,a.C?a.C(f):a.call(null,f))},c,c),b.C?b.C(d):b.call(null,d)):tf(c)?(d=ei.B(kf(c),Ph.B(a,c)),b.C?b.C(d):b.call(null,d)):b.C?b.C(c):b.call(null,c)}
var LR=function LR(a,b){return KR(vh.B(LR,a),a,b)};function MR(a){function b(c){var d=N(c,0,null);c=N(c,1,null);return"string"===typeof d?new X(null,2,5,Z,[tg.C(d),c],null):new X(null,2,5,Z,[d,c],null)}return LR(function(c){return wf(c)?ei.B(W,Ph.B(b,c)):c},a)};var NR={},OR={},PR;function QR(a,b,c,d,e){this.Qe=a;this.Zi=b;this.bj=c;this.De=d;this.limit=e;this.O=2147484416;this.T=0}g=QR.prototype;g.ea=function(a,b,c){return RR.D?RR.D(this,b,c):RR.call(null,this,b,c)};g.ra=function(a,b){return Sc(this.Qe,b)};g.oa=function(a,b){return Pc(this.Qe,b,null)};g.Y=function(a,b,c){return Pc(this.Qe,b,c)};g.ia=function(a,b,c){return Ad(this.Qe,b,c)};
function RR(a,b,c){var d=a.Qe,e=a.Zi,f=a.bj,h=a.De;a=a.limit;var k=f.B?f.B(b,null):f.call(null,b,null);if(r(k))return new QR(d,Q.D(R.B(e,k),h,b),Q.D(f,b,h),h+1,a);b=new QR(Q.D(d,b,c),Q.D(e,h,b),Q.D(f,b,h),h+1,a);return SR.C?SR.C(b):SR.call(null,b)}function SR(a){if(K(a.Qe)>a.limit){var b=a.Qe,c=a.Zi,d=a.bj,e=a.De;a=a.limit;var f=H(c),h=N(f,0,null);f=N(f,1,null);return new QR(R.B(b,f),R.B(c,h),R.B(d,f),e,a)}return a}
function TR(a,b,c){if(null!=a&&null!=a.Ui)a=a.Ui(a,b,c);else{var d=TR[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=TR._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("ICache.-get",a);}return a}
function UR(){var a=yh(new QR(W,rk(),W,0,100));if("undefined"===typeof NR||"undefined"===typeof OR||"undefined"===typeof PR)PR=function(b,c,d){this.limit=b;this.ig=c;this.dl=d;this.O=393216;this.T=0},PR.prototype.ha=function(b,c){return new PR(this.limit,this.ig,c)},PR.prototype.ga=function(){return this.dl},PR.prototype.Ui=function(b,c,d){b=B.D(y(this.ig),c,null);return null==b?(d=d.P?d.P():d.call(null),Vd(this.ig,Q.D(y(this.ig),c,d)),d):b},PR.Wa=!0,PR.Sa="datascript.lru/t_datascript$lru30096",PR.Za=
function(b){return xd(b,"datascript.lru/t_datascript$lru30096")};return new PR(100,a,W)};function VR(a){return w.D(function(b,c){b.push(c);return b},[],a)}function WR(a){return a instanceof Array};var YR=H(ci(function(a){return 0!=(32&1<<a)},Pk.D(31,-1,-1)))+1,ZR=(1<<YR)-1;function $R(a,b,c,d){for(var e=0,f=dg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.B?a.B(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function aS(a,b,c,d){for(var e=0,f=dg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.B?a.B(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function bS(a,b,c){var d=b.length,e=$R(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.B?a.B(b,c):a.call(null,b,c));return d?e:-1}
function cS(a,b,c){var d=b.length;a=$R(a,b,d-1,c);return a===d?-1:a}function dS(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var p=0;;)if(p<d)n[p+0]=a[p+b],p+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function eS(a,b,c,d){return dS(a,0,a.length,b,c,d)}
function fS(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function gS(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.B?a.B(h,k):a.call(null,h,k)))return!1;f+=1}else return f}function hS(a,b){return r(a)?r(b)?[a,b]:[a]:[b]}function iS(a,b,c){return r(a)?r(b)?r(c)?[a,b,c]:[a,b]:r(c)?[a,c]:[a]:r(b)?r(c)?[b,c]:[b]:[c]}
function jS(a){if(null!=a&&null!=a.Oh)a=a.Oh(a);else{var b=jS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=jS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("INode.node-lim-key",a);}return a}function kS(a){if(null!=a&&null!=a.dj)a=a.keys.length;else{var b=kS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=kS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("INode.node-len",a);}return a}
function lS(a,b){if(null!=a&&null!=a.Qh)a=a.Qh(a,b);else{var c=lS[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=lS._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("INode.node-merge",a);}return a}function mS(a,b){if(null!=a&&null!=a.Rh)a=a.Rh(a,b);else{var c=mS[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=mS._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("INode.node-merge-n-split",a);}return a}
function nS(a,b,c){if(null!=a&&null!=a.Ph)a=a.Ph(a,b,c);else{var d=nS[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=nS._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("INode.node-lookup",a);}return a}function oS(a,b,c){if(null!=a&&null!=a.Mh)a=a.Mh(a,b,c);else{var d=oS[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=oS._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("INode.node-conj",a);}return a}
function pS(a,b,c,d,e,f){if(null!=a&&null!=a.Nh)a=a.Nh(a,b,c,d,e,f);else{var h=pS[ha(null==a?null:a)];if(null!=h)a=h.Ra?h.Ra(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=pS._,null!=h)a=h.Ra?h.Ra(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw oc("INode.node-disj",a);}return a}
function qS(a,b,c,d){if(r(b))return[a];if(16<kS(a))return iS(c,a,d);if(r(r(c)?16>=kS(c):c))return hS(lS(c,a),d);if(r(r(d)?16>=kS(d):d))return hS(c,lS(a,d));if(r(r(c)?null==d||kS(c)<kS(d):c))return a=mS(c,a),iS(a[0],a[1],d);a=mS(a,d);return iS(c,a[0],a[1])}function rS(a,b){this.keys=a;this.Fb=b}g=rS.prototype;g.Oh=function(){var a=this.keys;return a[a.length-1]};g.dj=function(){return this.keys.length};g.Qh=function(a,b){return new rS(this.keys.concat(b.keys),this.Fb.concat(b.Fb))};
g.Rh=function(a,b){a=fS(this.keys,b.keys);b=fS(this.Fb,b.Fb);return hS(new rS(a[0],b[0]),new rS(a[1],b[1]))};g.Ph=function(a,b,c){a=cS(b,this.keys,c);return-1===a?null:nS(this.Fb[a],b,c)};g.Mh=function(a,b,c){a=$R(b,this.keys,this.keys.length-2,c);c=oS(this.Fb[a],b,c);if(r(c)){var d=this.keys,e=a+1,f=c.map(jS);b=gS(b,d,a,e,f,f.length)?d:eS(d,a,e,f);a=eS(this.Fb,a,a+1,c);if(32>=a.length)return[new rS(b,a)];c=a.length>>>1;return[new rS(b.slice(0,c),a.slice(0,c)),new rS(b.slice(c),a.slice(c))]}return null};
g.Nh=function(a,b,c,d,e,f){var h=cS(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.Fb[h-1]:null;var k=h+1<this.Fb.length?this.Fb[h+1]:null;c=pS(this.Fb[h],b,c,!1,a,k);if(r(c)){a=r(a)?h-1:h;h=r(k)?2+h:1+h;k=this.keys;var m=c.map(jS);b=gS(b,k,a,h,m,m.length)?k:eS(k,a,h,m);c=eS(this.Fb,a,h,c);return qS(new rS(b,c),d,e,f)}return null};function sS(a){this.keys=a}g=sS.prototype;g.Oh=function(){var a=this.keys;return a[a.length-1]};g.dj=function(){return this.keys.length};g.Qh=function(a,b){return new sS(this.keys.concat(b.keys))};
g.Rh=function(a,b){a=fS(this.keys,b.keys);return hS(new sS(a[0]),new sS(a[1]))};g.Ph=function(a,b,c){a=bS(b,this.keys,c);return-1===a?null:this.keys[a]};g.Mh=function(a,b,c){a=$R(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.B?b.B(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new sS(this.keys.slice(0,b)),new sS(dS(this.keys,b,d,a,a,[c]))]:[new sS(dS(this.keys,0,b,a,a,[c])),new sS(this.keys.slice(b,d))]):[new sS(eS(this.keys,a,a,[c]))]};
g.Nh=function(a,b,c,d,e,f){a=bS(b,this.keys,c);if(-1===a)return null;a=eS(this.keys,a,a+1,[]);return qS(new sS(a),d,e,f)};function tS(a,b,c,d,e,f){this.root=a;this.shift=b;this.ca=c;this.Nc=d;this.meta=e;this._hash=f;this.O=2297303311;this.T=8332}g=tS.prototype;g.toString=function(){return Zd(this)};g.oa=function(a,b){return nS(this.root,this.Nc,b)};g.Y=function(a,b,c){a=nS(this.root,this.Nc,b);return r(a)?a:c};g.ia=function(a,b,c){return al(b,il,"#{"," ","}",c,G(this))};g.ga=function(){return this.meta};
g.pa=function(){return new tS(this.root,this.shift,this.ca,this.Nc,this.meta,this._hash)};g.la=function(){return this.ca};g.Zc=function(){return wd(uS.C?uS.C(this):uS.call(null,this))};g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=Be(this)};g.da=function(a,b){var c=this;return uf(b)&&this.ca===K(b)&&ph(function(d){return S(c,d)},b)};g.xe=function(){return this};g.Pa=function(){return new tS(new sS([]),0,0,this.Nc,this.meta,null)};
g.rg=function(a,b){return vS.D?vS.D(this,b,this.Nc):vS.call(null,this,b,this.Nc)};g.jb=function(a,b){a=uS.C?uS.C(this):uS.call(null,this);return r(a)?kd(a,b):b.P?b.P():b.call(null)};g.kb=function(a,b,c){a=uS.C?uS.C(this):uS.call(null,this);return r(a)?kd(a,b,c):c};g.ye=function(a,b){return wS.D?wS.D(this,b,this.Nc):wS.call(null,this,b,this.Nc)};g.Je=function(){return this};g.ka=function(){return uS.C?uS.C(this):uS.call(null,this)};
g.ha=function(a,b){return new tS(this.root,this.shift,this.ca,this.Nc,b,this._hash)};g.na=function(a,b){return wS.D?wS.D(this,b,this.Nc):wS.call(null,this,b,this.Nc)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return this.oa(null,a)};
g.B=function(a,b){return this.Y(null,a,b)};function xS(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.Fb[ZR&b>>>c],c-=YR;else return a.keys}function yS(a,b,c,d){return new tS(b,c,d,a.Nc,a.meta,null)}var zS=function zS(a,b,c){var e=ZR&b>>>c;if(0<c){var f=a.Fb[e],h=c-YR;b=zS.D?zS.D(f,b,h):zS.call(null,f,b,h);return-1===b?e+1<a.Fb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function AS(a,b){return zS(a.root,b,a.shift)}
function BS(a,b){for(var c=0;;)if(0<b)c|=a.Fb.length-1<<b,b-=YR,a=a.Fb,a=a[a.length-1];else return c|a.keys.length-1<<0}var CS=function CS(a,b,c){var e=ZR&b>>>c;if(0<c){var f=c-YR,h=a.Fb[e];b=CS.D?CS.D(h,b,f):CS.call(null,h,b,f);return-1===b?0<=e-1?(--e,BS(a.Fb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function DS(a,b){return CS(a.root,b,a.shift)}function uS(a){if(0<kS(a.root)){var b=BS(a.root,a.shift)+1;return ES.D?ES.D(a,0,b):ES.call(null,a,0,b)}return null}
function FS(a,b,c){this.K=a;this.off=b;this.end=c;this.O=524306;this.T=0}g=FS.prototype;g.la=function(){return this.end-this.off};g.Da=function(a,b){return this.K[this.off+b]};g.qb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.wf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new yg(this.K,this.off+1,this.end)};g.jb=function(a,b){return this.off===this.end?b.P?b.P():b.call(null):kd(this.wf(null),b,this.K[this.off])};
g.kb=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.K[a];c=b.B?b.B(c,d):b.call(null,c,d);if(Ge(c))return y(c);a+=1}else return c};function GS(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.O=2309488832;this.T=1536}g=GS.prototype;g.toString=function(){return Zd(this)};g.ia=function(a,b,c){return al(b,il,"("," ",")",c,G(this))};
g.Va=function(){if(r(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new GS(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=AS(this.set,this.left);return Zg.B(-1,a)&&a<this.right?this.Lg(a,this.right):null}return null};g.Zc=function(){if(r(this.keys)){var a=this.set,b=DS(this.set,this.left),c=DS(this.set,this.right);return HS.D?HS.D(a,b,c):HS.call(null,a,b,c)}return null};g.da=function(a,b){return Xe(this,b)};
g.jb=function(a,b){if(null==this.keys)return b.P?b.P():b.call(null);a=this.nb(null);var c=this.Va(null);return null==c?a:kd(c,b,a)};g.kb=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.B?b.B(c,f):b.call(null,c,f);if(Ge(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=AS(this.set,a),-1!==a&&a<this.right)d=xS(this.set,a),e=ZR&a>>>0;else return c}};g.nb=function(){return r(this.keys)?this.keys[this.idx]:null};
g.xb=function(){var a=this.Va(null);return r(a)?a:ue};g.ka=function(){return r(this.keys)?this:null};g.$e=function(){var a=F.B(this.left|ZR,this.right|ZR)?this.right&ZR:this.keys.length;return new FS(this.keys,this.idx,a)};g.ee=function(){var a=this.Ze();return r(a)?a:ue};g.Lg=function(a,b){return new GS(this.set,a,b,xS(this.set,a),ZR&a>>>0)};g.Ze=function(){var a=AS(this.set,this.left+(this.keys.length-this.idx-1));return Zg.B(-1,a)&&a<this.right?this.Lg(a,this.right):null};
function ES(a,b,c){return new GS(a,b,c,xS(a,b),ZR&b>>>0)}function IS(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.O=2308964544;this.T=0}g=IS.prototype;g.toString=function(){return Zd(this)};g.ia=function(a,b,c){return al(b,il,"("," ",")",c,G(this))};
g.Va=function(){if(r(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new IS(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=DS(this.set,this.right);return Zg.B(-1,a)&&a>this.left?this.Lg(this.left,a):null}return null};g.Zc=function(){if(r(this.keys)){var a=-1===this.left?0:AS(this.set,this.left),b=AS(this.set,this.right);return ES(this.set,a,-1===b?this.right+1:b)}return null};g.da=function(a,b){return Xe(this,b)};
g.nb=function(){return r(this.keys)?this.keys[this.idx]:null};g.xb=function(){var a=this.Va(null);return r(a)?a:ue};g.ka=function(){return r(this.keys)?this:null};g.Lg=function(a,b){return new IS(this.set,a,b,xS(this.set,b),ZR&b>>>0)};function HS(a,b,c){return new IS(a,b,c,xS(a,c),ZR&c>>>0)}
function JS(a,b,c,d){a:if(null==b)b=0;else for(var e=a.root,f=0,h=a.shift;;){var k=kS(e);if(0===h){var m=e.keys;m=$R(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=$R(d,m,k-2,b);f|=m<<h;h-=YR;e=e.Fb[m]}if(0>b)return null;a:if(null==c)c=BS(a.root,a.shift)+1;else for(e=a.root,f=0,h=a.shift;;){m=kS(e);if(0===h){k=e.keys;m=aS(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=aS(d,k,m-2,c);f|=m<<h;h-=YR;e=e.Fb[m]}return c>b?new GS(a,b,c,xS(a,b),ZR&b>>>0):null}
function KS(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.C?a.C(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function LS(a){var b=a.length,c=Gd(hf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){Lg.B(c,a.slice(d));break}else 40<=e?(Lg.B(c,a.slice(d,d+24)),d+=24):(e>>>=1,Lg.B(c,a.slice(d,d+e)),d+=e)}return Nf(Id(c))}function wS(a,b,c){b=oS(a.root,c,b);return null==b?a:1===b.length?yS(a,b[0],a.shift,a.ca+1):yS(a,new rS(b.map(jS),b),a.shift+YR,a.ca+1)}
function vS(a,b,c){b=pS(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof rS&&1===b.Fb.length?yS(a,b.Fb[0],a.shift-YR,a.ca-1):yS(a,b,a.shift,a.ca-1)}function MS(a,b,c){return JS(a,b,c,a.Nc)}
function NS(a,b){for(var c=KS(function(h){return new sS(h)},LS(b)),d=c,e=0;;){var f=K(d);switch(f){case 0:return new tS(new sS([]),0,0,a,null,null);case 1:return new tS(H(d),e,b.length,a,null,null);default:d=KS(function(){return function(h){return new rS(h.map(jS),h)}}(d,e,f,c),LS(d)),e+=YR}}}function OS(a){return new tS(new sS([]),0,0,a,null,null)};var PS=Error;function QS(a){return"string"!==typeof a&&(Df(a)||WR(a))}var RS=wh(hf),SS=wh(Bk);function TS(a,b,c){return H(w.D(function(d,e){var f=N(d,0,null);d=N(d,1,null);e=a.D?a.D(f,e,d):a.call(null,f,e,d);return Ge(e)?Fe(new X(null,2,5,Z,[e,d],null)):new X(null,2,5,Z,[e,d+1],null)},new X(null,2,5,Z,[b,0],null),c))}function US(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function VS(a){if(null!=a&&null!=a.Ta)a=a.Ta(a);else{var b=VS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=VS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IDatom.datom-tx",a);}return a}function WS(a){if(null!=a&&null!=a.Oc)a=a.Oc(a);else{var b=WS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=WS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IDatom.datom-added",a);}return a}
function XS(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.eg=d;this.idx=e;this._hash=f;this.O=2162164496;this.T=0}g=XS.prototype;g.Ta=function(){return 0<this.eg?this.eg:-this.eg};g.Oc=function(){return 0<this.eg};g.ja=function(){return 0===this._hash?this._hash=YS.C?YS.C(this):YS.call(null,this):this._hash};g.da=function(a,b){return(a=b instanceof XS)?ZS.B?ZS.B(this,b):ZS.call(null,this,b):a};g.ka=function(){return $S.C?$S.C(this):$S.call(null,this)};
g.oa=function(a,b){return aT.D?aT.D(this,b,null):aT.call(null,this,b,null)};g.Y=function(a,b,c){return aT.D?aT.D(this,b,c):aT.call(null,this,b,c)};g.Da=function(a,b){return bT?bT(this,b):cT.call(null,this,b)};g.qb=function(a,b,c){return dT?dT(this,b,c):cT.call(null,this,b,c)};g.ea=function(a,b,c){return eT.D?eT.D(this,b,c):eT.call(null,this,b,c)};g.ia=function(a,b,c){return al(b,il,"#datascript/Datom ["," ","]",c,new X(null,5,5,Z,[this.e,this.a,this.v,this.Ta(null),this.Oc(null)],null))};
da("datascript.db.Datom",XS);var fT=function fT(a){switch(arguments.length){case 3:return fT.D(arguments[0],arguments[1],arguments[2]);case 4:return fT.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fT.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};fT.D=function(a,b,c){return new XS(a,b,c,536870912,0,0)};fT.R=function(a,b,c,d){return new XS(a,b,c,d,0,0)};
fT.ma=function(a,b,c,d,e){return new XS(a,b,c,r(e)?d:-d,0,0)};fT.aa=5;function gT(a){return a instanceof XS}function YS(a){return US(US(je(a.e),je(a.a)),je(a.v))}function ZS(a,b){return a.e===b.e&&F.B(a.a,b.a)&&F.B(a.v,b.v)}function $S(a){return new jf(null,a.e,new jf(null,a.a,new jf(null,a.v,new jf(null,a.Ta(null),new jf(null,a.Oc(null),null,1,null),2,null),3,null),4,null),5,null)}
function aT(a,b,c){return F.B(KB,b)?a.v:F.B("e",b)?a.e:F.B(Vs,b)?a.Oc(null):F.B("v",b)?a.v:F.B(DB,b)?a.e:F.B("a",b)?a.a:F.B(jx,b)?a.Ta(null):F.B("added",b)?a.Oc(null):F.B("tx",b)?a.Ta(null):F.B(GB,b)?a.a:c}function cT(a){switch(arguments.length){case 2:return bT(arguments[0],arguments[1]);case 3:return dT(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}
function bT(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ta(null);case 4:return a.Oc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.C(b)].join(""));}}function dT(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ta(null);case 4:return a.Oc(null);default:return c}}
function eT(a,b,c){switch(b instanceof D?b.ba:null){case "e":return fT.ma(c,a.a,a.v,a.Ta(null),a.Oc(null));case "a":return fT.ma(a.e,c,a.v,a.Ta(null),a.Oc(null));case "v":return fT.ma(a.e,a.a,c,a.Ta(null),a.Oc(null));case "tx":return fT.ma(a.e,a.a,a.v,c,a.Oc(null));case "added":return fT.ma(a.e,a.a,a.v,a.Ta(null),c);default:throw new PS(["invalid key for #datascript/Datom: ",t.C(b)].join(""));}}function hT(a,b){return null==a?0:null==b?0:Jf(a,b)}function iT(a,b){return eb(pc(nc(a)),pc(nc(b)))}
function jT(a,b){try{return F.B(a,b)?0:(null!=a?a.T&2048||l===a.Dd||(a.T?0:mc(Ld,a)):mc(Ld,a))?Md(a,b):nc(a)===nc(b)?"number"===typeof a||"string"===typeof a||fc(a)||!0===a||!1===a?eb(a,b):je(a)-je(b):iT(a,b)}catch(d){if(d instanceof Error){var c=d;if(nc(a)===nc(b))throw c;return iT(a,b)}throw d;}}function kT(a,b){return null==a?0:null==b?0:jT(a,b)}function lT(a,b){var c=a.e-b.e;return 0===c?(c=hT(a.a,b.a),0===c?(c=kT(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}
function mT(a,b){var c=hT(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=kT(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function nT(a,b){var c=hT(a.a,b.a);return 0===c?(c=kT(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function oT(a,b){return a instanceof D?Md(a,b):eb(a,b)}function pT(a,b){var c=a.e-b.e;return 0===c?(c=oT(a.a,b.a),0===c?(c=jT(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}
function qT(a,b){var c=oT(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=jT(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function rT(a,b){var c=oT(a.a,b.a);return 0===c?(c=jT(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function sT(){}
function tT(a,b){if(null!=a&&null!=a.Ti)a=a.Ti(a,b);else{var c=tT[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=tT._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("ISearch.-search",a);}return a}function uT(a,b){return H(tT(a,b))}
function vT(a,b,c){if(null!=a&&null!=a.Ri)a=a.Ri(a,b,c);else{var d=vT[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=vT._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("IIndexAccess.-datoms",a);}return a}function wT(a,b){if(null!=a&&null!=a.Si)a=a.Si(a,SA,b);else{var c=wT[ha(null==a?null:a)];if(null!=c)a=c.D?c.D(a,SA,b):c.call(null,a,SA,b);else if(c=wT._,null!=c)a=c.D?c.D(a,SA,b):c.call(null,a,SA,b);else throw oc("IIndexAccess.-seek-datoms",a);}return a}
function xT(a,b,c){if(F.B(b,Sm)&&(b=H(c),null!=b&&!r(yT.B?yT.B(a,b):yT.call(null,a,b))))throw sm(["Attribute ",ql.I(M([b]))," should be marked as :db/index true"].join(""),new q(null,3,[yx,rC,QC,Sm,vm,c],null));}function zT(){}function AT(a){if(null!=a&&null!=a.yk)a=a.Nb;else{var b=AT[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=AT._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IDB.-schema",a);}return a}
function BT(a,b){if(null!=a&&null!=a.Qi)a=a.Qi(a,b);else{var c=BT[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=BT._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IDB.-attrs-by",a);}return a}function CT(a,b,c,d,e,f,h,k,m,n,p,u,v){this.Nb=a;this.Db=b;this.Ub=c;this.Sb=d;this.hc=e;this.ic=f;this.$b=h;this.Zb=k;this.Yb=m;this.hash=n;this.G=p;this.F=u;this.J=v;this.O=2230716170;this.T=139264}g=CT.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "schema":return this.Nb;case "eavt":return this.Db;case "aevt":return this.Ub;case "avet":return this.Sb;case "max-eid":return this.hc;case "max-tx":return this.ic;case "rschema":return this.$b;case "pull-patterns":return this.Zb;case "pull-attrs":return this.Yb;case "hash":return this.hash;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,V.B(new X(null,10,5,Z,[new X(null,2,5,Z,[Yy,this.Nb],null),new X(null,2,5,Z,[SA,this.Db],null),new X(null,2,5,Z,[tC,this.Ub],null),new X(null,2,5,Z,[Sm,this.Sb],null),new X(null,2,5,Z,[Hs,this.hc],null),new X(null,2,5,Z,[Dt,this.ic],null),new X(null,2,5,Z,[Xz,this.$b],null),new X(null,2,5,Z,[ws,this.Zb],null),new X(null,2,5,Z,[Cz,this.Yb],null),new X(null,2,5,Z,[MD,this.hash],null)],null),this.F))};
g.qa=function(){return new cj(this,10,new X(null,10,5,Z,[Yy,SA,tC,Sm,Hs,Dt,Xz,ws,Cz,MD],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new CT(this.Nb,this.Db,this.Ub,this.Sb,this.hc,this.ic,this.$b,this.Zb,this.Yb,this.hash,this.G,this.F,this.J)};g.la=function(){return 10+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1515640948^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Nb,b.Nb)&&F.B(this.Db,b.Db)&&F.B(this.Ub,b.Ub)&&F.B(this.Sb,b.Sb)&&F.B(this.hc,b.hc)&&F.B(this.ic,b.ic)&&F.B(this.$b,b.$b)&&F.B(this.Zb,b.Zb)&&F.B(this.Yb,b.Yb)&&F.B(this.hash,b.hash)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,10,[Yy,null,Dt,null,MD,null,tC,null,Sm,null,Hs,null,SA,null,Cz,null,ws,null,Xz,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new CT(this.Nb,this.Db,this.Ub,this.Sb,this.hc,this.ic,this.$b,this.Zb,this.Yb,this.hash,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Yy,b):U.call(null,Yy,b))?new CT(c,this.Db,this.Ub,this.Sb,this.hc,this.ic,this.$b,this.Zb,this.Yb,this.hash,this.G,this.F,null):r(U.B?U.B(SA,b):U.call(null,SA,b))?new CT(this.Nb,c,this.Ub,this.Sb,this.hc,this.ic,this.$b,this.Zb,this.Yb,this.hash,this.G,this.F,null):r(U.B?U.B(tC,b):U.call(null,tC,b))?new CT(this.Nb,this.Db,c,this.Sb,this.hc,this.ic,this.$b,this.Zb,this.Yb,this.hash,this.G,this.F,null):r(U.B?U.B(Sm,b):U.call(null,Sm,b))?new CT(this.Nb,this.Db,this.Ub,
c,this.hc,this.ic,this.$b,this.Zb,this.Yb,this.hash,this.G,this.F,null):r(U.B?U.B(Hs,b):U.call(null,Hs,b))?new CT(this.Nb,this.Db,this.Ub,this.Sb,c,this.ic,this.$b,this.Zb,this.Yb,this.hash,this.G,this.F,null):r(U.B?U.B(Dt,b):U.call(null,Dt,b))?new CT(this.Nb,this.Db,this.Ub,this.Sb,this.hc,c,this.$b,this.Zb,this.Yb,this.hash,this.G,this.F,null):r(U.B?U.B(Xz,b):U.call(null,Xz,b))?new CT(this.Nb,this.Db,this.Ub,this.Sb,this.hc,this.ic,c,this.Zb,this.Yb,this.hash,this.G,this.F,null):r(U.B?U.B(ws,b):
U.call(null,ws,b))?new CT(this.Nb,this.Db,this.Ub,this.Sb,this.hc,this.ic,this.$b,c,this.Yb,this.hash,this.G,this.F,null):r(U.B?U.B(Cz,b):U.call(null,Cz,b))?new CT(this.Nb,this.Db,this.Ub,this.Sb,this.hc,this.ic,this.$b,this.Zb,c,this.hash,this.G,this.F,null):r(U.B?U.B(MD,b):U.call(null,MD,b))?new CT(this.Nb,this.Db,this.Ub,this.Sb,this.hc,this.ic,this.$b,this.Zb,this.Yb,c,this.G,this.F,null):new CT(this.Nb,this.Db,this.Ub,this.Sb,this.hc,this.ic,this.$b,this.Zb,this.Yb,this.hash,this.G,Q.D(this.F,
b,c),null)};g.ka=function(){return G(V.B(new X(null,10,5,Z,[new Y(Yy,this.Nb,null),new Y(SA,this.Db,null),new Y(tC,this.Ub,null),new Y(Sm,this.Sb,null),new Y(Hs,this.hc,null),new Y(Dt,this.ic,null),new Y(Xz,this.$b,null),new Y(ws,this.Zb,null),new Y(Cz,this.Yb,null),new Y(MD,this.hash,null)],null),this.F))};g.ha=function(a,b){return new CT(this.Nb,this.Db,this.Ub,this.Sb,this.hc,this.ic,this.$b,this.Zb,this.Yb,this.hash,b,this.F,this.J)};
g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function DT(a){var b=R.I(a,Yy,M([SA,tC,Sm,Hs,Dt,Xz,ws,Cz,MD]));b=xf(a)?ei.B(W,b):b;return new CT(Yy.C(a),SA.C(a),tC.C(a),Sm.C(a),Hs.C(a),Dt.C(a),Xz.C(a),ws.C(a),Cz.C(a),MD.C(a),null,$g(b),null)}g.Na=l;g.ia=function(a,b,c){return ET.D?ET.D(this,b,c):ET.call(null,this,b,c)};g.Di=l;g.la=function(){return K(this.Db)};g.kk=l;g.Zc=function(){return wd(this.Db)};g.pg=l;g.ja=function(){return FT.C?FT.C(this):FT.call(null,this)};
g.da=function(a,b){return GT.B?GT.B(this,b):GT.call(null,this,b)};g.Fi=l;g.xe=function(){return mi.D(mi.D(mi.D(this,SA,Jg),tC,Jg),Sm,Jg)};g.Gi=l;g.Pa=function(){var a=this.Nb;a=HT?HT(a):IT.call(null,a);return pf(a,qf(this))};g.ye=function(){throw sm("datascript.DB/conj! is not supported",W);};g.Je=function(){return mi.D(mi.D(mi.D(this,SA,Kg),tC,Kg),Sm,Kg)};
g.Ri=function(a,b,c){xT(this,b,c);return MS(B.B(this,b),JT.ma?JT.ma(this,b,c,0,536870912):JT.call(null,this,b,c,0,536870912),JT.ma?JT.ma(this,b,c,2147483647,2147483647):JT.call(null,this,b,c,2147483647,2147483647))};g.Si=function(a,b,c){xT(this,b,c);return MS(B.B(this,b),JT.ma?JT.ma(this,b,c,0,536870912):JT.call(null,this,b,c,0,536870912),fT.R(2147483647,null,null,2147483647))};g.Pi=l;g.yk=function(){return this.Nb};g.Qi=function(a,b){a=this.$b;return a.C?a.C(b):a.call(null,b)};g.zk=l;
g.Ti=function(a,b){a=N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null);b=this.Db;var f=this.Ub,h=this.Sb;S(BT(this,Tu),c);return r(a)?r(c)?null!=d?r(e)?MS(b,fT.R(a,c,d,e),fT.R(a,c,d,e)):MS(b,fT.R(a,c,d,536870912),fT.R(a,c,d,2147483647)):r(e)?ci(function(k){return F.B(e,k.Ta(null))},MS(b,fT.R(a,c,null,536870912),fT.R(a,c,null,2147483647))):MS(b,fT.R(a,c,null,536870912),fT.R(a,c,null,2147483647)):null!=d?r(e)?ci(function(k){return F.B(d,k.v)&&F.B(e,k.Ta(null))},MS(b,fT.R(a,null,null,536870912),
fT.R(a,null,null,2147483647))):ci(function(k){return F.B(d,k.v)},MS(b,fT.R(a,null,null,536870912),fT.R(a,null,null,2147483647))):r(e)?ci(function(k){return F.B(e,k.Ta(null))},MS(b,fT.R(a,null,null,536870912),fT.R(a,null,null,2147483647))):MS(b,fT.R(a,null,null,536870912),fT.R(a,null,null,2147483647)):r(c)?null!=d?r(e)?r(yT.B?yT.B(this,c):yT.call(null,this,c))?ci(function(k){return F.B(e,k.Ta(null))},MS(h,fT.R(0,c,d,536870912),fT.R(2147483647,c,d,2147483647))):ci(function(k){return F.B(d,k.v)&&F.B(e,
k.Ta(null))},MS(f,fT.R(0,c,null,536870912),fT.R(2147483647,c,null,2147483647))):r(yT.B?yT.B(this,c):yT.call(null,this,c))?MS(h,fT.R(0,c,d,536870912),fT.R(2147483647,c,d,2147483647)):ci(function(k){return F.B(d,k.v)},MS(f,fT.R(0,c,null,536870912),fT.R(2147483647,c,null,2147483647))):r(e)?ci(function(k){return F.B(e,k.Ta(null))},MS(f,fT.R(0,c,null,536870912),fT.R(2147483647,c,null,2147483647))):MS(f,fT.R(0,c,null,536870912),fT.R(2147483647,c,null,2147483647)):null!=d?r(e)?ci(function(k){return F.B(d,
k.v)&&F.B(e,k.Ta(null))},b):ci(function(k){return F.B(d,k.v)},b):r(e)?ci(function(k){return F.B(e,k.Ta(null))},b):b};
function KT(a,b){switch(b instanceof D?b.ba:null){case "db.unique/identity":return new X(null,3,5,Z,[Gm,vt,NC],null);case "db.unique/value":return new X(null,3,5,Z,[Gm,az,NC],null);case "db.cardinality/many":return new X(null,1,5,Z,[Tu],null);case "db.type/ref":return new X(null,2,5,Z,[It,NC],null);default:return F.B(Hm,a)&&!0===b?new X(null,1,5,Z,[Hm],null):F.B(NC,a)&&!0===b?new X(null,1,5,Z,[NC],null):F.B(Dn,a)?new X(null,2,5,Z,[Pv,NC],null):hf}}
function LT(a,b){return w.D(function(c,d){return TS(function(e,f,h){return mi.ma(e,f,Q,d,h)},c,Dn.C(B.B(a,d)))},W,Pv.C(b))}function MT(a){var b=Rf(function(c,d,e){return Rf(function(f,h,k){return w.D(function(m,n){return mi.R(m,n,SS,d)},f,KT(h,k))},c,e)},W,a);return Q.D(b,xz,LT(a,b))}function NT(a,b,c,d){if(null!=c&&!S(d,c))throw sm(["Bad attribute specification for ",ql.I(M([mf([a,mf([b,c])])])),", expected one of ",t.C(d)].join(""),new q(null,4,[yx,Hn,hx,a,XD,b,fs,c],null));}
function OT(a){for(var b=G(a),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null),k=N(f,1,null),m=Hm.B(k,!1);NT(h,Hm,Hm.C(k),new zk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=m;return r(I)?Zg.B(Cu.C(k),It):I}()))throw sm(["Bad attribute specification for ",ql.I(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[yx,Hn,hx,h,XD,Hm],null));NT(h,Gm,Gm.C(k),new zk(null,new q(null,2,[vt,null,az,null],null),null));NT(h,
Cu,Cu.C(k),new zk(null,new q(null,2,[Pv,null,It,null],null),null));NT(h,xq,xq.C(k),new zk(null,new q(null,2,[Tu,null,Rs,null],null),null));if(F.B(Pv,Cu.C(k))&&!S(k,Dn))throw sm(["Bad attribute specification for ",ql.I(M([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new q(null,3,[yx,Hn,hx,h,XD,Cu],null));if(S(k,Dn)){f=new q(null,3,[yx,Hn,hx,h,XD,Dn],null);if(F.B(Tu,xq.C(k)))throw sm([ql.I(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=
Dn.C(k);if(!vf(n))throw sm([ql.I(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",ql.I(M([n]))].join(""),f);if(sf(n))throw sm([ql.I(M([h]))," :db/tupleAttrs cant be empty"].join(""),f);n=G(n);for(var p=null,u=0,v=0;;)if(v<u){var z=p.Da(null,v),C=Q.D(f,fs,z);if(S(B.B(a,z),Dn))throw sm([ql.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ql.I(M([z]))].join(""),C);if(F.B(Tu,xq.C(B.B(a,z))))throw sm([ql.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",
ql.I(M([z]))].join(""),C);v+=1}else if(n=G(n)){if(zf(n))u=Od(n),n=Pd(n),p=u,u=K(u);else{p=H(n);u=Q.D(f,fs,p);if(S(B.B(a,p),Dn))throw sm([ql.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ql.I(M([p]))].join(""),u);if(F.B(Tu,xq.C(B.B(a,p))))throw sm([ql.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",ql.I(M([p]))].join(""),u);n=J(n);p=null;u=0}v=0}else break}e+=1}else if(h=G(b)){b=h;if(zf(b))c=Od(b),b=Pd(b),h=c,d=K(c),c=h;else{c=H(b);h=N(c,0,null);
k=N(c,1,null);var E=Hm.B(k,!1);NT(h,Hm,Hm.C(k),new zk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=E;return r(I)?Zg.B(Cu.C(k),It):I}()))throw sm(["Bad attribute specification for ",ql.I(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[yx,Hn,hx,h,XD,Hm],null));NT(h,Gm,Gm.C(k),new zk(null,new q(null,2,[vt,null,az,null],null),null));NT(h,Cu,Cu.C(k),new zk(null,new q(null,2,[Pv,null,It,null],null),null));NT(h,xq,xq.C(k),
new zk(null,new q(null,2,[Tu,null,Rs,null],null),null));if(F.B(Pv,Cu.C(k))&&!S(k,Dn))throw sm(["Bad attribute specification for ",ql.I(M([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new q(null,3,[yx,Hn,hx,h,XD,Cu],null));if(S(k,Dn)){c=new q(null,3,[yx,Hn,hx,h,XD,Dn],null);if(F.B(Tu,xq.C(k)))throw sm([ql.I(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=Dn.C(k);if(!vf(d))throw sm([ql.I(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",
ql.I(M([d]))].join(""),c);if(sf(d))throw sm([ql.I(M([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=G(d);e=null;for(n=f=0;;)if(n<f){p=e.Da(null,n);u=Q.D(c,fs,p);if(S(B.B(a,p),Dn))throw sm([ql.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ql.I(M([p]))].join(""),u);if(F.B(Tu,xq.C(B.B(a,p))))throw sm([ql.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",ql.I(M([p]))].join(""),u);n+=1}else if(d=G(d)){if(zf(d))f=Od(d),d=Pd(d),e=f,f=K(f);else{e=H(d);
f=Q.D(c,fs,e);if(S(B.B(a,e),Dn))throw sm([ql.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ql.I(M([e]))].join(""),f);if(F.B(Tu,xq.C(B.B(a,e))))throw sm([ql.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",ql.I(M([e]))].join(""),f);d=J(d);e=null;f=0}n=0}else break}b=J(b);c=null;d=0}e=0}else return null}
function IT(a){switch(arguments.length){case 0:return HT(null);case 1:return HT(arguments[0]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function HT(a){OT(a);return DT(Vj([Yy,Dt,MD,tC,Sm,Hs,SA,Cz,ws,Xz],[a,536870912,Ch(0),OS(mT),OS(nT),0,OS(lT),UR(),UR(),MT(uk.I(M([new q(null,1,[Du,new q(null,1,[Gm,vt],null)],null),a])))]))}
function PT(a){var b=DB.C,c=fT.R(536870911,null,null,2147483647),d=fT.R(0,null,null,536870912);a=JS(a,d,c,a.Nc);a=null==a?null:wd(a);b=b.call(DB,H(a));return r(b)?b:0}
function QT(a,b){var c=H(Th(gT,a));if(null!=c)throw sm(["init-db expects list of Datoms, got ",ql.I(M([nc(c)]))].join(""),new q(null,1,[yx,Xt],null));OT(b);c=MT(uk.I(M([new q(null,1,[Du,new q(null,1,[Gm,vt],null)],null),b])));var d=NC.C(c),e=WR(a)?a:VR(a);e.sort(pT);var f=NS(lT,e);e.sort(qT);e=NS(mT,e);a=Nf(ci(function(m){return S(d,m.a)},a));a.sort(rT);a=NS(nT,a);var h=PT(f),k=Vf(Ph.C(function(m){return m.Ta(null)}),ag,536870912,f);return DT(Vj([Yy,Dt,MD,tC,Sm,Hs,SA,Cz,ws,Xz],[b,k,Ch(0),e,a,h,f,
UR(),UR(),c]))}function FT(a){var b=y(a.hash);return 0===b?Eh(a.hash,US(je(a.Nb),je(a.Db))):b}function GT(a,b){var c;if(c=b instanceof CT||!1)if(c=F.B(AT(a),AT(b)))a:for(a=vT(a,SA,hf),c=vT(b,SA,hf),b=G(a),a=G(c);;){if(null==b){c=null==a;break a}if(F.B(H(b),H(a)))b=J(b),a=J(a);else{c=!1;break a}}return c}
function ET(a,b,c){xd(b,"#datascript/DB {");xd(b,":schema ");il(AT(a),b,c);xd(b,", :datoms ");al(b,function(d,e,f){return al(e,il,"["," ","]",f,new X(null,4,5,Z,[d.e,d.a,d.v,VS(d)],null))},"["," ","]",c,vT(a,SA,hf));return xd(b,"}")}
function RT(a,b,c,d,e,f,h){if(r(c)){var k=new jf(null,uw,new jf(null,ur,new jf(null,b,new jf(null,c,new jf(null,d,new jf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);ST.B?ST.B(c,k):ST.call(null,c,k)}return fT.R(function(){var m=TT.B?TT.B(a,b):TT.call(null,a,b);return r(m)?m:f}(),c,r(function(){var m=null!=d;return m?UT.B?UT.B(a,c):UT.call(null,a,c):m}())?VT.B?VT.B(a,d):VT.call(null,a,d):d,function(){var m=TT.B?TT.B(a,e):TT.call(null,a,e);return r(m)?m:h}())}
function JT(a,b,c,d,e){var f=N(c,0,null),h=N(c,1,null),k=N(c,2,null);c=N(c,3,null);b=b instanceof D?b.ba:null;switch(b){case "eavt":return RT(a,f,h,k,c,d,e);case "aevt":return RT(a,h,f,k,c,d,e);case "avet":return RT(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.C(b)].join(""));}}function WT(a,b,c,d,e,f,h,k){this.bd=a;this.ad=b;this.ld=c;this.jd=d;this.md=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=WT.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "db-before":return this.bd;case "db-after":return this.ad;case "tx-data":return this.ld;case "tempids":return this.jd;case "tx-meta":return this.md;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Fw,this.bd],null),new X(null,2,5,Z,[qA,this.ad],null),new X(null,2,5,Z,[Zy,this.ld],null),new X(null,2,5,Z,[JE,this.jd],null),new X(null,2,5,Z,[Fn,this.md],null)],null),this.F))};g.qa=function(){return new cj(this,5,new X(null,5,5,Z,[Fw,qA,Zy,JE,Fn],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new WT(this.bd,this.ad,this.ld,this.jd,this.md,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2022644885^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.bd,b.bd)&&F.B(this.ad,b.ad)&&F.B(this.ld,b.ld)&&F.B(this.jd,b.jd)&&F.B(this.md,b.md)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,5,[JE,null,qA,null,Fw,null,Zy,null,Fn,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new WT(this.bd,this.ad,this.ld,this.jd,this.md,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Fw,b):U.call(null,Fw,b))?new WT(c,this.ad,this.ld,this.jd,this.md,this.G,this.F,null):r(U.B?U.B(qA,b):U.call(null,qA,b))?new WT(this.bd,c,this.ld,this.jd,this.md,this.G,this.F,null):r(U.B?U.B(Zy,b):U.call(null,Zy,b))?new WT(this.bd,this.ad,c,this.jd,this.md,this.G,this.F,null):r(U.B?U.B(JE,b):U.call(null,JE,b))?new WT(this.bd,this.ad,this.ld,c,this.md,this.G,this.F,null):r(U.B?U.B(Fn,b):U.call(null,Fn,b))?new WT(this.bd,this.ad,this.ld,this.jd,c,this.G,this.F,
null):new WT(this.bd,this.ad,this.ld,this.jd,this.md,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Fw,this.bd,null),new Y(qA,this.ad,null),new Y(Zy,this.ld,null),new Y(JE,this.jd,null),new Y(Fn,this.md,null)],null),this.F))};g.ha=function(a,b){return new WT(this.bd,this.ad,this.ld,this.jd,this.md,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function XT(a){var b=R.I(a,Fw,M([qA,Zy,JE,Fn]));b=xf(a)?ei.B(W,b):b;return new WT(Fw.C(a),qA.C(a),Zy.C(a),JE.C(a),Fn.C(a),null,$g(b),null)}function YT(a,b,c){return S(BT(a,c),b)}function ZT(a,b){return YT(a,b,Tu)}function UT(a,b){return YT(a,b,It)}function yT(a,b){return YT(a,b,NC)}
function $T(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw sm(["Highest supported entity id is ",ql.I(M([2147483647])),", got ",ql.I(M([b]))].join(""),new q(null,2,[yx,rq,fs,b],null));return b}if(vf(b)){var c=b,d=N(c,0,null);c=N(c,1,null);if(Zg.B(K(b),2))throw sm(["Lookup ref should contain 2 elements: ",ql.I(M([b]))].join(""),new q(null,2,[yx,Et,rq,b],null));if(YT(a,d,Gm))return null==c?null:DB.C(H(vT(a,Sm,b)));throw sm(["Lookup ref attribute should be marked as :db/unique: ",ql.I(M([b]))].join(""),
new q(null,2,[yx,Qv,rq,b],null));}if(fc(b))b=M(b);else{if(b instanceof D)return DB.C(H(vT(a,Sm,new X(null,2,5,Z,[Du,b],null))));throw sm(["Expected number or lookup ref for entity id, got ",ql.I(M([b]))].join(""),new q(null,2,[yx,To,rq,b],null));}}}function VT(a,b){a=$T(a,b);if(r(a))return a;throw sm(["Nothing found for entity id ",ql.I(M([b]))].join(""),new q(null,2,[yx,ay,rq,b],null));}function TT(a,b){return r(b)?VT(a,b):null}
function ST(a,b){if(a instanceof D||"string"===typeof a)return null;throw sm(["Bad entity attribute ",ql.I(M([a]))," at ",ql.I(M([b])),", expected keyword or string"].join(""),new q(null,3,[yx,Zv,hx,a,uD,b],null));}function aU(a,b){if(null==a)throw sm(["Cannot store nil as a value at ",ql.I(M([b]))].join(""),new q(null,3,[yx,Zv,fs,a,uD,b],null));return null}function bU(a){return ii(a,new X(null,2,5,Z,[Fw,Dt],null))+1}
function cU(a){return F.B(a,zm)||F.B(a,":db/current-tx")||F.B(a,"datomic.tx")||F.B(a,"datascript.tx")}function dU(a){return"number"===typeof a&&0>a||"string"===typeof a}function eU(a,b){return b>Hs.C(a)&&536870912>b?Q.D(a,Hs,b):a}function fU(a,b,c){var d=cU(b)?mi.ma(a,JE,Q,b,c):a;d=dU(b)?mi.ma(d,JE,Q,b,c):d;if(b=!dU(b))a=qA.C(a),b=c>Hs.C(a)&&536870912>c;a=b?mi.ma(d,JE,Q,c,c):d;return mi.R(a,qA,eU,c)}
function gU(a,b,c,d,e){return Rf(function(f,h,k){var m=B.B(f,h);r(m)||(m=KB.C(H(vT(c,SA,new X(null,2,5,Z,[d,h],null)))),m=r(m)?m:Ii(Wh(K(Dn.C(B.B(AT(c),h))),null)));k=Q.D(m,k,e);return Q.D(f,h,k)},a,b)}
function hU(a,b){var c=qA.C(a),d=GB.C(b),e=mi.R,f=Q.D;var h=b.Oc(null);h=r(h)?YT(c,b.a,Gm):h;if(r(h)&&(h=$g(vT(c,Sm,new X(null,2,5,Z,[b.a,b.v],null))),null!=h))throw sm(["Cannot add ",ql.I(M([b]))," because of unique constraint: ",ql.I(M([h]))].join(""),new q(null,3,[yx,wt,hx,b.a,eB,b],null));h=yT(c,b.a);if(r(b.Oc(null))){var k=mi.ma(c,SA,wS,b,pT);k=mi.ma(k,tC,wS,b,qT);h=h?mi.ma(k,Sm,wS,b,rT):k;h=eU(h,b.e);h=Q.D(h,MD,Ch(0))}else if(k=uT(c,new X(null,3,5,Z,[b.e,b.a,b.v],null)),null==k)h=c;else{var m=
mi.ma(c,SA,vS,k,pT);m=mi.ma(m,tC,vS,k,qT);h=h?mi.ma(m,Sm,vS,k,rT):m;h=Q.D(h,MD,Ch(0))}a=e.call(mi,f.call(Q,a,qA,h),Zy,gf,b);return YT(c,d,xz)?(e=DB.C(b),b=r(WS(b))?KB.C(b):null,f=B.B(UC.C(a),e),f=r(f)?f:W,d=B.B(BT(c,xz),d),c=gU(f,d,c,e,b),mi.ma(a,UC,Q,e,c)):a}
function iU(a){if(a instanceof D)return F.B("_",Se(ug(a),0));if("string"===typeof a)return Ef(Wk(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw sm(["Bad attribute type: ",ql.I(M([a])),", expected keyword or string"].join(""),new q(null,2,[yx,Zv,hx,a],null));}
function jU(a){if(a instanceof D)return iU(a)?tg.B(rg(a),kg.B(ug(a),1)):tg.B(rg(a),["_",ug(a)].join(""));if("string"===typeof a){var b=Wk(/(?:([^\/]+)\/)?([^\/]+)/,a);N(b,0,null);a=N(b,1,null);b=N(b,2,null);return F.B("_",Se(b,0))?r(a)?[t.C(a),"/",kg.B(b,1)].join(""):kg.B(b,1):r(a)?[t.C(a),"/_",t.C(b)].join(""):["_",t.C(b)].join("")}throw sm(["Bad attribute type: ",ql.I(M([a])),", expected keyword or string"].join(""),new q(null,2,[yx,Zv,hx,a],null));}
function kU(a,b){function c(f,h){return w.D(function(k,m){var n=d(f,m);return null==n?mi.R(k,0,gf,m):mi.ma(k,1,Q,m,n)},new X(null,2,5,Z,[hf,W],null),h)}function d(f,h){return DB.C(H(vT(a,Sm,new X(null,2,5,Z,[f,h],null))))}var e=$g(BT(a,vt));return null==e?new X(null,2,5,Z,[b,null],null):Rf(function(f,h,k){var m=N(f,0,null);f=N(f,1,null);ST(h,b);aU(k,b);if(S(e,h)){if(ZT(a,h)&&(WR(k)||tf(k)&&!wf(k))){var n=c(h,k);k=N(n,0,null);n=N(n,1,null);return new X(null,2,5,Z,[sf(k)?m:Q.D(m,h,k),sf(n)?f:Q.D(f,
h,n)],null)}n=d(h,k);return null==n?new X(null,2,5,Z,[Q.D(m,h,k),f],null):new X(null,2,5,Z,[m,Q.D(f,h,mf([k,n]))],null)}return new X(null,2,5,Z,[Q.D(m,h,k),f],null)},new X(null,2,5,Z,[W,W],null),b)}
function lU(a,b){var c=Rf(function(h,k,m){return Rf(function(n,p,u){return Q.D(n,u,new X(null,2,5,Z,[k,p],null))},h,m)},W,b);if(2<=K(c)){b=H(c);a=N(b,0,null);var d=N(b,1,null);b=N(d,0,null);d=N(d,1,null);var e=bf(c);c=N(e,0,null);var f=N(e,1,null);e=N(f,0,null);f=N(f,1,null);throw sm(["Conflicting upserts: ",ql.I(M([new X(null,2,5,Z,[b,d],null)]))," resolves to ",ql.I(M([a])),", but ",ql.I(M([new X(null,2,5,Z,[e,f],null)]))," resolves to ",ql.I(M([c]))].join(""),new q(null,3,[yx,Pp,uE,new X(null,
3,5,Z,[a,b,d],null),dB,new X(null,3,5,Z,[c,e,f],null)],null));}d=H(c);b=N(d,0,null);c=N(d,1,null);d=N(c,0,null);c=N(c,1,null);a=pp.C(a);if(null!=b&&null!=a&&!dU(a)&&Zg.B(b,a))throw sm(["Conflicting upsert: ",ql.I(M([new X(null,2,5,Z,[d,c],null)]))," resolves to ",ql.I(M([b])),", but entity already has :db/id ",ql.I(M([a]))].join(""),new q(null,3,[yx,Pp,uE,new X(null,3,5,Z,[b,d,c],null),dB,new q(null,1,[pp,a],null)],null));return b}
function mU(a,b,c){return iU(b)||ZT(a,b)?WR(c)||tf(c)&&!wf(c)?F.B(K(c),2)&&YT(a,H(c),vt)?new X(null,1,5,Z,[c],null):c:new X(null,1,5,Z,[c],null):new X(null,1,5,Z,[c],null)}
function nU(a,b){var c=pp.C(b),d=Tg(V,w.D(function(e,f){var h=N(f,0,null);f=N(f,1,null);return mi.R(e,YT(a,h,Pv)?1:0,gf,new X(null,2,5,Z,[h,f],null))},new X(null,2,5,Z,[hf,hf],null),b));return function h(f){return new vg(null,function(){for(var k=f;;){var m=G(k);if(m){var n=m,p=H(n),u=N(p,0,null),v=N(p,1,null);if(Zg.B(u,pp)){var z=ST(u,mf([pp,c,u,v])),C=iU(u),E=C?jU(u):u;if(C&&!UT(a,E))throw sm(["Bad attribute ",ql.I(M([u])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),
new q(null,3,[yx,Zv,hx,u,uD,mf([pp,c,u,v])],null));if(m=G(function(I,O,P,T,aa,ea,va,ua,Ma,Ka,la,ya){return function fb(Da){return new vg(null,function(zc,jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe){return function(){for(;;){var ef=G(Da);if(ef){if(zf(ef)){var ge=Od(ef),he=K(ge),ie=zg(he);a:for(var dk=0;;)if(dk<he){var Oi=x(ge,dk);Oi=UT(a,Db)&&wf(Oi)?Q.D(Oi,jU(df),xe):kc?new X(null,4,5,Z,[DE,Oi,Db,xe],null):new X(null,4,5,Z,[DE,xe,Db,Oi],null);ie.add(Oi);dk+=1}else{ge=!0;break a}return ge?Bg(Dg(ie),fb(Pd(ef))):
Bg(Dg(ie),null)}ie=H(ef);return Ye(UT(a,Db)&&wf(ie)?Q.D(ie,jU(df),xe):kc?new X(null,4,5,Z,[DE,ie,Db,xe],null):new X(null,4,5,Z,[DE,xe,Db,ie],null),fb(te(ef)))}return null}}}(I,O,P,T,aa,ea,va,ua,Ma,Ka,la,ya),null,null)}}(k,z,C,E,null,p,u,v,n,m,c,d)(mU(a,u,v))))return V.B(m,h(te(k)))}k=te(k)}else return null}},null,null)}(d)}
function oU(a,b){N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null);ST(d,b);aU(e,b);b=r(f)?f:bU(a);f=qA.C(a);c=VT(f,c);e=UT(f,d)?VT(f,e):e;var h=fT.R(c,d,e,b);f=ZT(f,d)?uT(f,new X(null,3,5,Z,[c,d,e],null)):uT(f,new X(null,2,5,Z,[c,d],null));return null==f?hU(a,h):F.B(f.v,e)?mi.R(a,Oz,RS,h):hU(hU(a,fT.ma(c,d,f.v,b,!1)),h)}function pU(a,b){var c=bU(a);return hU(a,fT.ma(b.e,b.a,b.v,c,!1))}
function qU(a,b){return ei.D(Bk,uh.B(bi(function(c){return YT(a,c.a,Hm)}),Ph.C(function(c){return new X(null,2,5,Z,[jo,c.v],null)})),b)}function rU(a,b,c,d,e){if(S(JE.C(a),d))throw sm(["Conflicting upsert: ",ql.I(M([d]))," resolves both to ",ql.I(M([e]))," and ",ql.I(M([ii(a,new X(null,2,5,Z,[JE,d],null))]))].join(""),new q(null,1,[yx,Pp],null));b=Q.D(JE.C(b),d,e);a=Q.D(a,JE,b);return sU.B?sU.B(a,c):sU.call(null,a,c)}
var tU=new zk(null,new q(null,8,[Rq,null,cr,null,jo,null,Ap,null,Ry,null,Hz,null,kn,null,DE,null],null),null);function uU(a){var b=qA.C(a);AT(b);BT(b,xz);return Rf(function(c,d,e){return Rf(function(f,h,k){k=ph(ec,k)?null:k;var m=KB.C(H(vT(b,SA,new X(null,2,5,Z,[d,h],null))));return F.B(k,m)?f:null==k?gf.B(f,pf(new X(null,4,5,Z,[Ry,d,h,m],null),new q(null,1,[zz,!0],null))):gf.B(f,pf(new X(null,4,5,Z,[DE,d,h,k],null),new q(null,1,[zz,!0],null)))},c,e)},hf,UC.C(a))}
function vU(a){var b=Qm.C(a);b=w.D(function(c,d){return r(WS(d))?R.B(c,DB.C(d)):c},b,V.B(Zy.C(a),Oz.C(a)));if(sf(b))return R.I(a,Qm,M([Oz]));throw sm(["Tempids used only as value in transaction: ",ql.I(M([Mf(Jf,jj(b))]))].join(""),new q(null,2,[yx,Zv,JE,b],null));}
function sU(a,b){if(null!=b&&!vf(b))throw sm(["Bad transaction data ",ql.I(M([b])),", expected sequential collection"].join(""),new q(null,2,[yx,Zv,Zy,b],null));for(var c=!sf(BT(qA.C(a),Pv)),d=c?Zh.B(b,Vh(Im)):b,e=a,f=d;;){if(sf(f))return mi.ma(mi.ma(vU(e),JE,Q,zm,bU(e)),qA,mi,Dt,De);var h=f,k=G(h),m=H(k),n=J(k),p=m,u=n;if(null==p)f=u;else if(F.B(Im,p))if(S(e,UC)){var v=R.B(e,UC);u=V.B(uU(e),u);e=v;f=u}else f=u;else{var z=qA.C(e),C=JE.C(e);if(wf(p)){var E=pp.C(p);if(cU(E))v=bU(e),e=fU(e,E,v),f=u=
Ye(Q.D(p,pp,v),u);else if(vf(E))v=VT(z,E),f=u=Ye(Q.D(p,pp,v),u);else{var I=kU(z,p);v=N(I,0,null);I=N(I,1,null);var O=lU(v,I);if(null!=O){if(dU(E)&&S(C,E)&&Zg.B(O,B.B(C,E)))return rU(a,e,b,E,O);e=mi.R(fU(e,E,O),Oz,RS,fT.R(O,null,null,536870912));f=u=V.B(nU(z,Q.D(v,pp,O)),u)}else if("number"===typeof E||null==E||"string"===typeof E)v=null==E?Hs.C(z)+1:dU(E)?function(){var Db=B.B(C,E);return r(Db)?Db:Hs.C(z)+1}():E,p=Q.D(p,pp,v),e=fU(e,E,v),f=u=V.B(nU(z,p),u);else throw sm(["Expected number, string or lookup ref for :db/id, got ",
ql.I(M([E]))].join(""),new q(null,2,[yx,To,sA,p],null));}}else if(vf(p)){var P=p;I=N(P,0,null);var T=N(P,1,null);v=N(P,2,null);var aa=N(P,3,null);if(F.B(I,Rq)){v=G(p);p=H(v);v=J(v);var ea=p;p=H(v);v=J(v);f=u=V.B(Ug(p,z,v),u)}else if(I instanceof D&&hc(tU.C?tU.C(I):tU.call(null,I))){ea=$T(z,I);if(null==ea)throw sm(["Cant find entity for transaction fn ",ql.I(M([I]))].join(""),new q(null,3,[yx,Zv,rp,Rq,Zy,p],null));T=KB.C(uT(z,new X(null,2,5,Z,[ea,So],null)));v=J(p);if(nf(T))f=u=V.B(Ug(T,z,v),u);else throw sm(["Entity ",
ql.I(M([I]))," expected to have :db/fn attribute with fn? value"].join(""),new q(null,3,[yx,Zv,rp,Rq,Zy,p],null));}else{if(dU(T)&&Zg.B(I,DE))throw sm(["Can't use tempid in '",ql.I(M([p])),"'. Tempids are allowed in :db/add only"].join(""),new q(null,2,[yx,Zv,Pw,p],null));if(F.B(I,kn)||F.B(I,cr)){var va=p;ea=N(va,0,null);var ua=N(va,1,null),Ma=N(va,2,null),Ka=N(va,3,null),la=N(va,4,null),ya=VT(z,ua),sa=ST(Ma,p),Da=UT(z,Ma)?VT(z,Ka):Ka,fb=UT(z,Ma)?VT(z,la):la,zc=aU(fb,p),jc=Ii(tT(z,new X(null,2,5,Z,
[ya,Ma],null)));if(ZT(z,Ma))if(r(qh(function(Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he){return function(ie){return F.B(ie.v,he)}}(e,f,va,ea,ua,Ma,Ka,la,ya,sa,Da,fb,zc,jc,P,I,T,v,aa,z,C,h,k,m,n,p,u,a,c,d),jc)))e=oU(e,new X(null,4,5,Z,[DE,ya,Ma,fb],null)),f=u;else throw sm([":db.fn/cas failed on datom [",ql.I(M([ya]))," ",ql.I(M([Ma]))," ",ql.I(M([Ph.B(KB,jc)])),"], expected ",ql.I(M([Da]))].join(""),new q(null,4,[yx,hn,CD,jc,yv,Da,Qy,fb],null));else if(I=KB.C(H(jc)),F.B(I,Da))e=oU(e,new X(null,4,5,Z,[DE,ya,
Ma,fb],null)),f=u;else throw sm([":db.fn/cas failed on datom [",ql.I(M([ya]))," ",ql.I(M([Ma]))," ",ql.I(M([I])),"], expected ",ql.I(M([Da]))].join(""),new q(null,4,[yx,hn,CD,H(jc),yv,Da,Qy,fb],null));}else if(cU(T))p=fU(e,T,bU(e)),u=Ye(new X(null,4,5,Z,[I,bU(e),v,aa],null),u),e=p,f=u;else if(UT(z,v)&&cU(aa))p=fU(e,aa,bU(e)),u=Ye(new X(null,4,5,Z,[I,T,v,bU(e)],null),u),e=p,f=u;else if(UT(z,v)&&dU(aa))ea=B.B(C,aa),null==ea?(p=Hs.C(z)+1,e=mi.ma(fU(e,aa,p),Qm,Q,p,aa),f=u=f):(p=ea,e=mi.ma(e,Qm,Q,p,aa),
f=u=Ye(new X(null,4,5,Z,[I,T,v,p],null),u));else if(dU(T)){O=YT(z,v,vt)?DB.C(H(vT(z,Sm,new X(null,2,5,Z,[v,aa],null)))):null;var kc=B.B(C,T);if(r(function(){var Db=O;return r(Db)?(Db=kc,r(Db)?Zg.B(O,kc):Db):Db}()))return rU(a,e,b,T,O);p=function(){var Db=O;if(r(Db))return Db;Db=kc;return r(Db)?Db:Hs.C(z)+1}();e=fU(e,T,p);f=u=Ye(new X(null,4,5,Z,[I,p,v,aa],null),u)}else if(hc(zz.C(qf(p)))&&YT(z,v,Pv))if(ua=ii(z,new X(null,3,5,Z,[Yy,v,Dn],null)),F.B(K(ua),K(aa))&&ph(ic,aa)&&ph(function(Db,Fd,Eg,df,
Dh,Le,Fg,xe,ef){return function(ge){var he=N(ge,0,null);ge=N(ge,1,null);he=KB.C(H(vT(ef,SA,new X(null,2,5,Z,[Le,he],null))));return F.B(ge,he)}}(e,f,ua,P,I,T,v,aa,z,C,h,k,m,n,p,u,a,c,d),Ph.D(Mi,ua,aa)))f=u;else throw sm(["Cant modify tuple attrs directly: ",ql.I(M([p]))].join(""),new q(null,2,[yx,Zv,Zy,p],null));else if(F.B(I,DE))e=oU(e,p),f=u;else if(F.B(I,Ry)&&null!=aa)ea=$T(z,T),null==ea?f=u:(ua=ea,I=UT(z,v)?VT(z,aa):aa,ST(v,p),aU(I,p),v=uT(z,new X(null,3,5,Z,[ua,v,I],null)),null==v?f=u:(e=pU(e,
v),f=u));else if(F.B(I,Hz)||F.B(I,Ry))ea=$T(z,T),null==ea?f=u:(ua=ea,ea=ST(v,p),jc=Ii(tT(z,new X(null,2,5,Z,[ua,v],null))),e=w.D(pU,e,jc),f=u=V.B(qU(z,jc),u));else if(F.B(I,jo)||F.B(I,Ap))ea=$T(z,T),null==ea?f=u:(ua=ea,jc=Ii(tT(z,new X(null,1,5,Z,[ua],null))),v=Ii(ai(function(Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he){return function(ie){return tT(he,new X(null,3,5,Z,[null,ie,df],null))}}(e,f,jc,ua,ea,P,I,T,v,aa,z,C,h,k,m,n,p,u,a,c,d),M([BT(z,It)]))),e=w.D(pU,e,V.B(jc,v)),f=u=V.B(qU(z,jc),u));else throw sm(["Unknown operation at ",
ql.I(M([p])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),new q(null,3,[yx,Zv,rp,I,Zy,p],null));}}else if(gT(p))I=p,T=N(I,0,null),v=N(I,1,null),aa=N(I,2,null),p=N(I,3,null),I=N(I,4,null),r(I)?(e=oU(e,new X(null,5,5,Z,[DE,T,v,aa,p],null)),f=u):f=u=Ye(new X(null,
4,5,Z,[Ry,T,v,aa],null),u);else throw sm(["Bad entity type at ",ql.I(M([p])),", expected map or vector"].join(""),new q(null,2,[yx,Zv,Zy,p],null));}}};function wU(a,b){b="number"===typeof b||vf(b)||b instanceof D?$T(a,b):null;if(r(b)){var c=yh(!1),d=yh(W);return xU.R?xU.R(a,b,c,d):xU.call(null,a,b,c,d)}return null}function yU(a,b,c){return ZT(a,b)?UT(a,b)?w.D(function(d,e){return gf.B(d,wU(a,KB.C(e)))},Bk,c):w.D(function(d,e){return gf.B(d,KB.C(e))},Bk,c):UT(a,b)?wU(a,KB.C(H(c))):KB.C(H(c))}
function zU(a,b,c,d){b=$g(tT(a,new X(null,3,5,Z,[null,c,b],null)));return r(b)?YT(a,c,Hm)?wU(a,DB.C(H(b))):w.D(function(e,f){return gf.B(e,wU(a,DB.C(f)))},Bk,b):d}function AU(a){return r(a)?Nf(a):null}
function BU(a){CU.C?CU.C(a):CU.call(null,a);return function d(c){return new vg(null,function(){for(;;){var e=G(c);if(e){if(zf(e)){var f=Od(e),h=K(f),k=zg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);p=ZT(a.db,p)?new X(null,2,5,Z,[p,AU(n)],null):new X(null,2,5,Z,[p,n],null);k.add(p);m+=1}else{f=!0;break a}return f?Bg(Dg(k),d(Pd(e))):Bg(Dg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);return Ye(ZT(a.db,k)?new X(null,2,5,Z,[k,AU(f)],null):new X(null,2,5,Z,[k,f],null),d(te(e)))}return null}},
null,null)}(y(a.cache))}function DU(a,b,c,d){this.db=a;this.Xd=b;this.gi=c;this.cache=d;this.O=2162164483;this.T=0}g=DU.prototype;g.entry_set=function(){return Nf(Ph.B(Nf,BU(this)))};
g.forEach=function(){function a(d,e){for(var f=G(BU(this)),h=null,k=0,m=0;;)if(m<k){var n=h.Da(null,m),p=N(n,0,null);n=N(n,1,null);d.call(e,n,p,this);m+=1}else if(f=G(f))zf(f)?(h=Od(f),f=Pd(f),p=h,k=K(h),h=p):(h=H(f),p=N(h,0,null),n=N(h,1,null),d.call(e,n,p,this),f=J(f),h=null,k=0),m=0;else return null}function b(d){for(var e=G(BU(this)),f=null,h=0,k=0;;)if(k<h){var m=f.Da(null,k),n=N(m,0,null);m=N(m,1,null);d.D?d.D(m,n,this):d.call(null,m,n,this);k+=1}else if(e=G(e))zf(e)?(f=Od(e),e=Pd(e),n=f,h=
K(f),f=n):(f=H(e),n=N(f,0,null),m=N(f,1,null),d.D?d.D(m,n,this):d.call(null,m,n,this),e=J(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.C=b;c.B=a;return c}();g.get=function(a){if(F.B(a,":db/id"))return this.Xd;if(iU(a))return AU(zU(this.db,this.Xd,jU(a),null));var b=EU?EU(this,a):FU.call(null,this,a);return ZT(this.db,a)?AU(b):b};g.key_set=function(){return Nf(ij(this))};
g.entries=function(){return new dj(G(BU(this)))};g.value_set=function(){return Nf(Ph.B(bf,BU(this)))};g.toString=function(){return Zd(this)};g.keys=function(){return we(ij(this))};g.values=function(){return we(Ph.B(bf,BU(this)))};g.equiv=function(a){return GU.B?GU.B(this,a):GU.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.oa=function(a,b){return HU?HU(this,b,null):FU.call(null,this,b,null)};g.Y=function(a,b,c){return HU?HU(this,b,c):FU.call(null,this,b,c)};
g.ia=function(a,b,c){return Ad(Q.D(y(this.cache),pp,this.Xd),b,c)};g.la=function(){CU.C?CU.C(this):CU.call(null,this);return K(y(this.cache))};g.ja=function(){return je(this.Xd)};g.da=function(a,b){return GU.B?GU.B(this,b):GU.call(null,this,b)};g.ra=function(a,b){return Zg.B(Vz,HU?HU(this,b,Vz):FU.call(null,this,b,Vz))};g.ka=function(){CU.C?CU.C(this):CU.call(null,this);return G(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(tc(b)))};g.C=function(a){return EU?EU(this,a):FU.call(null,this,a)};g.B=function(a,b){return HU?HU(this,a,b):FU.call(null,this,a,b)};function xU(a,b,c,d){return new DU(a,b,c,d)}
function GU(a,b){return b instanceof DU&&F.B(a.Xd,b.Xd)}function FU(a){switch(arguments.length){case 2:return EU(arguments[0],arguments[1]);case 3:return HU(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function EU(a,b){return HU(a,b,null)}
function HU(a,b,c){if(F.B(b,pp))return a.Xd;if(iU(b))return zU(a.db,a.Xd,jU(b),c);var d=y(a.cache);d=d.C?d.C(b):d.call(null,b);if(null==d){if(r(y(a.gi)))return c;d=$g(tT(a.db,new X(null,2,5,Z,[a.Xd,b],null)));if(null==d)return c;c=yU(a.db,b,d);b=Q.D(y(a.cache),b,c);Vd(a.cache,b);return c}return d}function IU(a,b){return Rf(function(c,d,e){return Q.D(c,d,YT(a,d,Hm)?ZT(a,d)?Dk(Ph.B(CU,e)):CU.C?CU.C(e):CU.call(null,e):e)},W,b)}
function JU(a,b){return w.D(function(c,d){var e=GB.C(H(d));return Q.D(c,e,yU(a,e,d))},W,Sk(GB,b))}function CU(a){if(!r(y(a.gi))){var b=$g(tT(a.db,new X(null,1,5,Z,[a.Xd],null)));r(b)&&(b=IU(a.db,JU(a.db,b)),Vd(a.cache,b),Vd(a.gi,!0))}return a}da("datascript.impl.entity.Entity",DU);var KU=function KU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return KU.I(c)};KU.I=function(a){var b=K(a);return Zg.B(Qh.B(b/2,a),Rh(b/2,a))};KU.aa=0;KU.fa=function(a){return this.I(G(a))};var LU=function LU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new re(c.slice(2),0,null):null;return LU.I(arguments[0],arguments[1],c)};
LU.I=function(a,b,c){return w.D(function(d,e){d=H(tT(a,new X(null,2,5,Z,[b,e],null)));return null==d?null:Fe(new X(null,2,5,Z,[GB.C(d),KB.C(d)],null))},null,c)};LU.aa=2;LU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};var MU=function MU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return MU.I(c)};MU.I=function(a){return w.D(function(b,c){return r(c)?c:Fe(c)},!0,a)};MU.aa=0;MU.fa=function(a){return this.I(G(a))};
var NU=function NU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return NU.I(c)};NU.I=function(a){return w.D(function(b,c){return r(c)?Fe(c):c},null,a)};NU.aa=0;NU.fa=function(a){return this.I(G(a))};
var OU=function OU(a){switch(arguments.length){case 1:return OU.C(arguments[0]);case 2:return OU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return OU.I(arguments[0],arguments[1],c)}};OU.C=function(){return!0};OU.B=function(a,b){return 0>jT(a,b)};OU.I=function(a,b,c){for(;;)if(OU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return OU.B(b,H(c));else return!1};
OU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};OU.aa=2;var PU=function PU(a){switch(arguments.length){case 1:return PU.C(arguments[0]);case 2:return PU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return PU.I(arguments[0],arguments[1],c)}};PU.C=function(){return!0};PU.B=function(a,b){return 0<jT(a,b)};
PU.I=function(a,b,c){for(;;)if(PU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return PU.B(b,H(c));else return!1};PU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};PU.aa=2;var QU=function QU(a){switch(arguments.length){case 1:return QU.C(arguments[0]);case 2:return QU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return QU.I(arguments[0],arguments[1],c)}};QU.C=function(){return!0};
QU.B=function(a,b){return!(0<jT(a,b))};QU.I=function(a,b,c){for(;;)if(QU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return QU.B(b,H(c));else return!1};QU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};QU.aa=2;
var RU=function RU(a){switch(arguments.length){case 1:return RU.C(arguments[0]);case 2:return RU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return RU.I(arguments[0],arguments[1],c)}};RU.C=function(){return!0};RU.B=function(a,b){return!(0>jT(a,b))};RU.I=function(a,b,c){for(;;)if(RU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return RU.B(b,H(c));else return!1};
RU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};RU.aa=2;
var SU=Vj([Pu,jB,oz,gC,yy,nB,dr,by,Kr,Dy,zC,rD,Sw,Jo,zE,nC,Vm,Bs,BA,Mx,Vy,Ur,$A,Vn,bE,hz,ep,st,ZD,mw,Gw,Nr,wn,dq,Wm,mt,kC,px,Go,Er,Cp,Mv,KA,Kp,Gu,sv,$p,ht,Rw,Ys,ND,vz,Ep,wx,fx,Az,nt,sn,Nu,Rv,mx,CC,Mn,Ar,oE,wD,GC,xC,fq,cB,Qo,fn,Ez,Fq],[function(a){return!0===a},MU,function(a){return!rh(a)},function(a,b,c,d){if(null==d)throw sm("get-else: nil default value is not supported",new q(null,1,[yx,dp],null));a=H(tT(a,new X(null,2,5,Z,[b,c],null)));return null==a?d:KB.C(a)},RU,sl,PU,K,LU,ec,Sf,De,Zf,fg,function(a){return!1===
a},hc,Sf,KU,Mi,Zk,QU,function(a,b){return 0==a.lastIndexOf(b,0)},F,bg,Wf,ug,function(a,b,c){return null==B.B(wU(a,b),c)},Sf,Yl,sh,ig,pk,Jf,Pk,ag,sf,Yf,ql,tl,qf,function(a){return 0===a},Zg,rl,$f,$k,Mi,Zg,B,t,OU,rg,tg,Xf,ic,jg,Xl,Wk,og,S,function(a,b){return Pa(a,b)},kg,eg,function(a,b){return-1!=a.indexOf(b)},qk,gg,rh,nc,function(a){return 0>a},WE,$g,NU,function(a,b){return a===b},Dk,Xk]);function TU(a){return w.D(Wf,0,a)}function UU(a){return TU(a)/K(a)}
function VU(a){var b=UU(a);return TU(function(){return function e(d){return new vg(null,function(){for(;;){var f=G(d);if(f){if(zf(f)){var h=Od(f),k=K(h),m=zg(k);a:for(var n=0;;)if(n<k){var p=x(h,n)-b;m.add(p*p);n+=1}else{h=!0;break a}return h?Bg(Dg(m),e(Pd(f))):Bg(Dg(m),null)}m=H(f)-b;return Ye(m*m,e(te(f)))}return null}},null,null)}(a)}())/K(a)}
var WU=function WU(a){switch(arguments.length){case 1:return WU.C(arguments[0]);case 2:return WU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};WU.C=function(a){return w.D(function(b,c){return 0>Jf(c,b)?c:b},H(a),J(a))};WU.B=function(a,b){return Ii(w.D(function(c,d){return K(c)<a?Mf(Jf,gf.B(c,d)):0>Jf(d,ff(c))?Mf(Jf,gf.B(Fk(c),d)):c},hf,b))};WU.aa=2;
var XU=function XU(a){switch(arguments.length){case 1:return XU.C(arguments[0]);case 2:return XU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};XU.C=function(a){return w.D(function(b,c){return 0<Jf(c,b)?c:b},H(a),J(a))};XU.B=function(a,b){return Ii(w.D(function(c,d){return K(c)<a?Mf(Jf,gf.B(c,d)):0<Jf(d,H(c))?Mf(Jf,gf.B(J(c),d)):c},hf,b))};XU.aa=2;
var YU=function YU(a){switch(arguments.length){case 1:return YU.C(arguments[0]);case 2:return YU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};YU.C=function(a){return Se(a,Yl(K(a)))};YU.B=function(a,b){return Ii(Yh(a,function(){return Se(b,Yl(K(b)))}))};YU.aa=2;
var ZU=Vj([so,by,fw,ux,Vn,Wm,CA,fC,mC,Bn,Az,Ct],[VU,K,function(a){var b=Mf(Jf,a);a=K(a);var c=a>>1,d=Se(b,c);return rh(a)?(d+Se(b,c-1))/2:d},TU,WU,XU,function(a){return K(Ek(a))},Dk,UU,function(a){return Math.sqrt(VU(a))},YU,function(a,b){var c=Qh.B;b=Nf.C?Nf.C(b):Nf.call(null,b);hb(b);b=Ii.C?Ii.C(b):Ii.call(null,b);return Ii(c.call(Qh,a,b))}]);function $U(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){this.as=a;this.cc=b;this.limit=c;this.name=d;this.pattern=e;this.Kb=f;this.Lb=h;this.Rb=k;this.hb=m;this.Jb=n;this.Mb=p;this.Gb=u;this.G=v;this.F=z;this.J=C;this.O=2230716170;this.T=139264}g=$U.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "as":return this.as;case "default":return this.cc;case "limit":return this.limit;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.Kb;case "recursive?":return this.Lb;case "reverse?":return this.Rb;case "xform":return this.hb;case "multival?":return this.Jb;case "ref?":return this.Mb;case "component?":return this.Gb;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,V.B(new X(null,12,5,Z,[new X(null,2,5,Z,[eD,this.as],null),new X(null,2,5,Z,[nm,this.cc],null),new X(null,2,5,Z,[Nm,this.limit],null),new X(null,2,5,Z,[Gt,this.name],null),new X(null,2,5,Z,[DD,this.pattern],null),new X(null,2,5,Z,[Lu,this.Kb],null),new X(null,2,5,Z,[KC,this.Lb],null),new X(null,2,5,Z,[ZC,this.Rb],null),new X(null,2,5,Z,[Mr,this.hb],null),new X(null,2,5,Z,[Qn,
this.Jb],null),new X(null,2,5,Z,[Fy,this.Mb],null),new X(null,2,5,Z,[Bo,this.Gb],null)],null),this.F))};g.qa=function(){return new cj(this,12,new X(null,12,5,Z,[eD,nm,Nm,Gt,DD,Lu,KC,ZC,Mr,Qn,Fy,Bo],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new $U(this.as,this.cc,this.limit,this.name,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,this.F,this.J)};g.la=function(){return 12+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1743810262^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.as,b.as)&&F.B(this.default,b.default)&&F.B(this.limit,b.limit)&&F.B(this.name,b.name)&&F.B(this.pattern,b.pattern)&&F.B(this.Kb,b.Kb)&&F.B(this.Lb,b.Lb)&&F.B(this.Rb,b.Rb)&&F.B(this.hb,b.hb)&&F.B(this.Jb,b.Jb)&&F.B(this.Mb,b.Mb)&&F.B(this.Gb,b.Gb)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,12,[Mr,null,Nm,null,ZC,null,Lu,null,nm,null,Gt,null,eD,null,KC,null,Bo,null,Fy,null,Qn,null,DD,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new $U(this.as,this.cc,this.limit,this.name,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(eD,b):U.call(null,eD,b))?new $U(c,this.cc,this.limit,this.name,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,this.F,null):r(U.B?U.B(nm,b):U.call(null,nm,b))?new $U(this.as,c,this.limit,this.name,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,this.F,null):r(U.B?U.B(Nm,b):U.call(null,Nm,b))?new $U(this.as,this.cc,c,this.name,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,this.F,
null):r(U.B?U.B(Gt,b):U.call(null,Gt,b))?new $U(this.as,this.cc,this.limit,c,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,this.F,null):r(U.B?U.B(DD,b):U.call(null,DD,b))?new $U(this.as,this.cc,this.limit,this.name,c,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,this.F,null):r(U.B?U.B(Lu,b):U.call(null,Lu,b))?new $U(this.as,this.cc,this.limit,this.name,this.pattern,c,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,this.F,null):r(U.B?U.B(KC,b):
U.call(null,KC,b))?new $U(this.as,this.cc,this.limit,this.name,this.pattern,this.Kb,c,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,this.F,null):r(U.B?U.B(ZC,b):U.call(null,ZC,b))?new $U(this.as,this.cc,this.limit,this.name,this.pattern,this.Kb,this.Lb,c,this.hb,this.Jb,this.Mb,this.Gb,this.G,this.F,null):r(U.B?U.B(Mr,b):U.call(null,Mr,b))?new $U(this.as,this.cc,this.limit,this.name,this.pattern,this.Kb,this.Lb,this.Rb,c,this.Jb,this.Mb,this.Gb,this.G,this.F,null):r(U.B?U.B(Qn,b):U.call(null,Qn,
b))?new $U(this.as,this.cc,this.limit,this.name,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,c,this.Mb,this.Gb,this.G,this.F,null):r(U.B?U.B(Fy,b):U.call(null,Fy,b))?new $U(this.as,this.cc,this.limit,this.name,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,c,this.Gb,this.G,this.F,null):r(U.B?U.B(Bo,b):U.call(null,Bo,b))?new $U(this.as,this.cc,this.limit,this.name,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,c,this.G,this.F,null):new $U(this.as,this.cc,this.limit,this.name,this.pattern,
this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,12,5,Z,[new Y(eD,this.as,null),new Y(nm,this.cc,null),new Y(Nm,this.limit,null),new Y(Gt,this.name,null),new Y(DD,this.pattern,null),new Y(Lu,this.Kb,null),new Y(KC,this.Lb,null),new Y(ZC,this.Rb,null),new Y(Mr,this.hb,null),new Y(Qn,this.Jb,null),new Y(Fy,this.Mb,null),new Y(Bo,this.Gb,null)],null),this.F))};
g.ha=function(a,b){return new $U(this.as,this.cc,this.limit,this.name,this.pattern,this.Kb,this.Lb,this.Rb,this.hb,this.Jb,this.Mb,this.Gb,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function aV(a){var b=R.I(a,eD,M([nm,Nm,Gt,DD,Lu,KC,ZC,Mr,Qn,Fy,Bo]));b=xf(a)?ei.B(W,b):b;return new $U(eD.C(a),nm.C(a),Nm.C(a),Gt.C(a),DD.C(a),Lu.C(a),KC.C(a),ZC.C(a),Mr.C(a),Qn.C(a),Fy.C(a),Bo.C(a),null,$g(b),null)}
function bV(a,b,c,d,e,f,h,k){this.wa=a;this.Ec=b;this.Qc=c;this.Dc=d;this.Tb=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=bV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "attrs":return this.wa;case "first-attr":return this.Ec;case "last-attr":return this.Qc;case "reverse-attrs":return this.Dc;case "wildcard?":return this.Tb;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[aA,this.wa],null),new X(null,2,5,Z,[wp,this.Ec],null),new X(null,2,5,Z,[yE,this.Qc],null),new X(null,2,5,Z,[cs,this.Dc],null),new X(null,2,5,Z,[ex,this.Tb],null)],null),this.F))};
g.qa=function(){return new cj(this,5,new X(null,5,5,Z,[aA,wp,yE,cs,ex],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new bV(this.wa,this.Ec,this.Qc,this.Dc,this.Tb,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-795554044^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.wa,b.wa)&&F.B(this.Ec,b.Ec)&&F.B(this.Qc,b.Qc)&&F.B(this.Dc,b.Dc)&&F.B(this.Tb,b.Tb)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,5,[cs,null,wp,null,aA,null,ex,null,yE,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new bV(this.wa,this.Ec,this.Qc,this.Dc,this.Tb,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(aA,b):U.call(null,aA,b))?new bV(c,this.Ec,this.Qc,this.Dc,this.Tb,this.G,this.F,null):r(U.B?U.B(wp,b):U.call(null,wp,b))?new bV(this.wa,c,this.Qc,this.Dc,this.Tb,this.G,this.F,null):r(U.B?U.B(yE,b):U.call(null,yE,b))?new bV(this.wa,this.Ec,c,this.Dc,this.Tb,this.G,this.F,null):r(U.B?U.B(cs,b):U.call(null,cs,b))?new bV(this.wa,this.Ec,this.Qc,c,this.Tb,this.G,this.F,null):r(U.B?U.B(ex,b):U.call(null,ex,b))?new bV(this.wa,this.Ec,this.Qc,this.Dc,c,this.G,this.F,
null):new bV(this.wa,this.Ec,this.Qc,this.Dc,this.Tb,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(aA,this.wa,null),new Y(wp,this.Ec,null),new Y(yE,this.Qc,null),new Y(cs,this.Dc,null),new Y(ex,this.Tb,null)],null),this.F))};g.ha=function(a,b){return new bV(this.wa,this.Ec,this.Qc,this.Dc,this.Tb,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function cV(a){var b=R.I(a,aA,M([wp,yE,cs,ex]));b=xf(a)?ei.B(W,b):b;return new bV(aA.C(a),wp.C(a),yE.C(a),cs.C(a),ex.C(a),null,$g(b),null)}var dV=aV(new q(null,3,[Gt,pp,eD,pp,Mr,Sf],null)),eV=cV(new q(null,1,[aA,new jf(null,dV,null,1,null)],null)),fV=Q.D(eV,ex,!0);function gV(a,b,c){if(r(a))return null;throw sm(["Expected ",t.C(b),", got: ",ql.I(M([c]))].join(""),new q(null,2,[yx,bt,gq,c],null));}
function hV(a,b){var c=iU(b),d=c?jU(b):b,e=UT(a,d),f=YT(a,d,Hm);a=ZT(a,d);if(c){gV(e,"reverse attribute having :db.type/ref",b);var h=!0}else h=null;return aV(Vj([Mr,Nm,ZC,Gt,eD,Bo,Fy,Qn,DD],[Sf,a?1E3:null,h,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?eV:f?fV:eV:null]))}function iV(a,b,c){gV("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);gV(ZT(a,Gt.C(b)),"limit attribute having :db.cardinality/many",Gt.C(b))}
function jV(a,b){var c=function(){var d=H(b);return kV.B?kV.B(a,d):kV.call(null,a,d)}();if(null==c)return null;gV(rh(K(J(b))),"even number of opts",b);return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);switch(f instanceof D?f.ba:null){case "as":return Q.D(d,eD,e);case "limit":return iV(a,d,e),Q.D(d,Nm,e);case "default":return Q.D(d,nm,e);case "xform":f=Q.D;var h=nf(e)?e:null;if(r(h))e=h;else if(h=B.B(SU,e),r(h))e=h;else throw sm(["Can't resolve symbol ",ql.I(M([e]))].join(""),new q(null,2,[yx,
bt,gq,e],null));return f.call(Q,d,Mr,e);default:return gV(!1,"one of :as, :limit, :default, :xform",b)}},c,hi(2,2,J(b)))}
function kV(a,b){var c;!(c=b instanceof D)&&(c="string"===typeof b)&&(c=new zk(null,new q(null,2,["limit",null,"default",null],null),null),c=c.C?c.C(b):c.call(null,b),c=hc(c));if(c)return hV(a,b);if(vf(b)){c=jV(a,b);if(r(c))return c;c=H(b);var d=new zk(null,new q(null,2,[ho,null,"limit",null],null),null);c=d.C?d.C(c):d.call(null,c);r(c)?(gV(F.B(K(b),3),"['limit attr-name (positive-number | nil)]",b),N(b,0,null),d=N(b,1,null),c=N(b,2,null),d=kV.B?kV.B(a,d):kV.call(null,a,d),iV(a,d,c),c=Q.D(d,Nm,c)):
c=null;if(r(c))return c;c=H(b);d=new zk(null,new q(null,2,[ix,null,"default",null],null),null);c=d.C?d.C(c):d.call(null,c);r(c)?(gV(F.B(K(b),3),"['default attr-name any-value]",b),N(b,0,null),d=N(b,1,null),c=N(b,2,null),a=kV.B?kV.B(a,d):kV.call(null,a,d),a=Q.D(a,nm,c)):a=null;return r(a)?a:gV(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",b)}return null}
function lV(a,b){return qh(function(c){var d=N(c,0,null);c=N(c,1,null);return r(a.C?a.C(d):a.call(null,d))?c:null},Ph.D(Mi,b,Pk.P()))}function mV(a,b){var c=r(ZC.C(b))?cs:aA,d=lV(function(e){return F.B(eD.C(e),eD.C(b))},B.B(a,c));return null==d?mi.R(a,c,gf,b):mi.ma(a,c,Q,d,b)}
function nV(a,b){gV(vf(b),"pattern to be sequential?",b);for(var c=cV(new q(null,3,[aA,hf,cs,hf,ex,null],null));;){if(sf(b)){var d=c.wa,e=function(){return function(k){k=k.name;var m=new zk(null,new q(null,2,[pp,null,":db/id",null],null),null);return m.C?m.C(k):m.call(null,k)}}(b,c,d);b=function(){return function(k){k=Gt.C(k);return k instanceof D?k:F.B(":",kg.D(k,0,1))?tg.C(kg.B(k,1)):tg.C(k)}}(b,c,d,e);d=r(function(){var k=c.Tb;return r(k)?hc(qh(e,c.wa)):k}())?gf.B(d,dV):d;d=G(Of(b,d));var f=di(e,
d),h=H(f);f=ff(f);return cV(new q(null,5,[aA,d,wp,h,yE,f,cs,G(Of(b,c.Dc)),ex,c.Tb],null))}h=H(b);if(F.B(kC,h)||F.B("*",h)||F.B(yp,h))b=J(b),c=d=Q.D(c,ex,!0);else if(wf(h))d=Rf(function(){return function(k,m,n){var p=kV(a,m);gV(null!=p,"attr-name | attr-expr",m);gV(UT(a,Gt.C(p)),"attribute having :db.type/ref",m);F.B(LA,n)||F.B("...",n)?m=Q.I(p,DD,null,M([KC,!0,Lu,null])):"number"===typeof n?(gV(0<n,"(positive-num | ...)",mf([m,n])),m=Q.I(p,DD,null,M([KC,!0,Lu,n]))):m=Q.D(p,DD,nV.B?nV.B(a,n):nV.call(null,
a,n));return mV(k,m)}}(b,c,h),c,h),b=J(b),c=d;else{d=kV(a,h);if(null==d)return gV(!1,"attr-name | attr-expr | map-spec | *",h);b=J(b);c=d=mV(c,d)}}};function oV(a){return null==a?null:Kc(a)}function pV(a){return null==a?null:Nc(a)}function qV(a,b){return null==a?new jf(null,b,null,1,null):Gc(a,b)}function rV(a,b,c,d,e){this.db=a;this.Sd=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=rV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "db":return this.db;case "visitor":return this.Sd;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[YD,this.db],null),new X(null,2,5,Z,[An,this.Sd],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[YD,An],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new rV(this.db,this.Sd,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1727735959^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.db,b.db)&&F.B(this.Sd,b.Sd)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[YD,null,An,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new rV(this.db,this.Sd,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "db":case "visitor":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(YD,b):U.call(null,YD,b))?new rV(c,this.Sd,this.G,this.F,null):r(U.B?U.B(An,b):U.call(null,An,b))?new rV(this.db,c,this.G,this.F,null):new rV(this.db,this.Sd,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(YD,this.db,null),new Y(An,this.Sd,null)],null),this.F))};
g.ha=function(a,b){return new rV(this.db,this.Sd,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function sV(a,b,c,d,e){a=a.Sd;null==a||(a.R?a.R(b,c,d,e):a.call(null,b,c,d,e))}function tV(a,b){if(null!=a&&null!=a.Cg)a=a.Cg(a,b);else{var c=tV[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=tV._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IFrame.-merge",a);}return a}
function uV(a,b){if(null!=a&&null!=a.Jf)a=a.Jf(a,b);else{var c=uV[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=uV._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IFrame.-run",a);}return a}function vV(a,b,c,d,e){this.value=a;this.Ba=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=vV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;case "datoms":return this.Ba;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[fs,this.value],null),new X(null,2,5,Z,[ny,this.Ba],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[fs,ny],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new vV(this.value,this.Ba,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=836381841^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.value,b.value)&&F.B(this.Ba,b.Ba)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[fs,null,ny,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new vV(this.value,this.Ba,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":case "datoms":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(fs,b):U.call(null,fs,b))?new vV(c,this.Ba,this.G,this.F,null):r(U.B?U.B(ny,b):U.call(null,ny,b))?new vV(this.value,c,this.G,this.F,null):new vV(this.value,this.Ba,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(fs,this.value,null),new Y(ny,this.Ba,null)],null),this.F))};g.ha=function(a,b){return new vV(this.value,this.Ba,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function wV(a,b,c,d,e,f){this.sa=a;this.attr=b;this.Ba=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=wV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "acc":return this.sa;case "attr":return this.attr;case "datoms":return this.Ba;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[bs,this.sa],null),new X(null,2,5,Z,[Ms,this.attr],null),new X(null,2,5,Z,[ny,this.Ba],null)],null),this.F))};g.qa=function(){return new cj(this,3,new X(null,3,5,Z,[bs,Ms,ny],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new wV(this.sa,this.attr,this.Ba,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1829867699^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.sa,b.sa)&&F.B(this.attr,b.attr)&&F.B(this.Ba,b.Ba)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,3,[bs,null,ny,null,Ms,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new wV(this.sa,this.attr,this.Ba,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "acc":case "attr":case "datoms":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(bs,b):U.call(null,bs,b))?new wV(c,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(Ms,b):U.call(null,Ms,b))?new wV(this.sa,c,this.Ba,this.G,this.F,null):r(U.B?U.B(ny,b):U.call(null,ny,b))?new wV(this.sa,this.attr,c,this.G,this.F,null):new wV(this.sa,this.attr,this.Ba,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(bs,this.sa,null),new Y(Ms,this.attr,null),new Y(ny,this.Ba,null)],null),this.F))};g.ha=function(a,b){return new wV(this.sa,this.attr,this.Ba,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
g.Jf=function(){for(var a=this,b=a.sa,c=a.Ba;;){var d=oV(c);if(null==d||Zg.B(d.a,a.attr.name))return new X(null,1,5,Z,[new vV(function(){var h=$g(Id(b)),k=a.attr.hb;return k.C?k.C(h):k.call(null,h)}(),function(){var h=c;return r(h)?h:ue}(),null,null,null)],null);if(r(function(){var h=a.attr.limit;return r(h)?K(b)>=a.attr.limit:h}()))for(var e=c;;){d=oV(e);if(null==d||Zg.B(d.a,a.attr.name))return new X(null,1,5,Z,[new vV(Id(b),function(){var h=e;return r(h)?h:ue}(),null,null,null)],null);e=pV(e)}else{d=
Lg.B(b,d.v);var f=pV(c);b=d;c=f}}};function xV(a,b,c,d,e,f,h,k,m){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.Ba=f;this.G=h;this.F=k;this.J=m;this.O=2230716170;this.T=139264}g=xV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "datoms":return this.Ba;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,V.B(new X(null,6,5,Z,[new X(null,2,5,Z,[fp,this.seen],null),new X(null,2,5,Z,[GA,this.Ca],null),new X(null,2,5,Z,[bs,this.sa],null),new X(null,2,5,Z,[DD,this.pattern],null),new X(null,2,5,Z,[Ms,this.attr],null),new X(null,2,5,Z,[ny,this.Ba],null)],null),this.F))};g.qa=function(){return new cj(this,6,new X(null,6,5,Z,[fp,GA,bs,DD,Ms,ny],null),r(this.F)?Xd(this.F):ah())};
g.ga=function(){return this.G};g.pa=function(){return new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,this.F,this.J)};g.la=function(){return 6+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1769511936^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.seen,b.seen)&&F.B(this.Ca,b.Ca)&&F.B(this.sa,b.sa)&&F.B(this.pattern,b.pattern)&&F.B(this.attr,b.attr)&&F.B(this.Ba,b.Ba)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,6,[bs,null,fp,null,GA,null,ny,null,DD,null,Ms,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(fp,b):U.call(null,fp,b))?new xV(c,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(GA,b):U.call(null,GA,b))?new xV(this.seen,c,this.sa,this.pattern,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(bs,b):U.call(null,bs,b))?new xV(this.seen,this.Ca,c,this.pattern,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(DD,b):U.call(null,DD,b))?new xV(this.seen,this.Ca,this.sa,c,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(Ms,b):U.call(null,
Ms,b))?new xV(this.seen,this.Ca,this.sa,this.pattern,c,this.Ba,this.G,this.F,null):r(U.B?U.B(ny,b):U.call(null,ny,b))?new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.G,this.F,null):new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,6,5,Z,[new Y(fp,this.seen,null),new Y(GA,this.Ca,null),new Y(bs,this.sa,null),new Y(DD,this.pattern,null),new Y(Ms,this.attr,null),new Y(ny,this.Ba,null)],null),this.F))};
g.ha=function(a,b){return new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.Cg=function(a,b){a=this.seen;var c=this.Ca,d=this.sa;b=b.value;b=null==b?d:Lg.B(d,b);return new xV(a,c,b,this.pattern,this.attr,pV(this.Ba),null,null,null)};
g.Jf=function(a,b){var c=this;a=oV(c.Ba);if(null==a||Zg.B(a.a,c.attr.name))return new X(null,1,5,Z,[new vV(function(){var e=$g(Id(c.sa)),f=c.attr.hb;return f.C?f.C(e):f.call(null,e)}(),function(){var e=c.Ba;return r(e)?e:ue}(),null,null,null)],null);if(r(function(){var e=c.attr.limit;return r(e)?K(c.sa)>=c.attr.limit:e}()))for(var d=c.Ba;;){b=oV(d);if(null==b||Zg.B(b.a,c.attr.name))return new X(null,1,5,Z,[new vV(Id(c.sa),function(){var e=d;return r(e)?e:ue}(),null,null,null)],null);d=pV(d)}else return a=
r(c.attr.Rb)?a.e:a.v,new X(null,2,5,Z,[this,yV.Ra?yV.Ra(b,c.seen,c.Ca,c.pattern,c.attr,a):yV.call(null,b,c.seen,c.Ca,c.pattern,c.attr,a)],null)};function zV(a,b,c,d,e,f,h,k,m,n,p){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.wa=f;this.Ba=h;this.id=k;this.G=m;this.F=n;this.J=p;this.O=2230716170;this.T=139264}g=zV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "attrs":return this.wa;case "datoms":return this.Ba;case "id":return this.id;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,V.B(new X(null,8,5,Z,[new X(null,2,5,Z,[fp,this.seen],null),new X(null,2,5,Z,[GA,this.Ca],null),new X(null,2,5,Z,[bs,this.sa],null),new X(null,2,5,Z,[DD,this.pattern],null),new X(null,2,5,Z,[Ms,this.attr],null),new X(null,2,5,Z,[aA,this.wa],null),new X(null,2,5,Z,[ny,this.Ba],null),new X(null,2,5,Z,[vE,this.id],null)],null),this.F))};
g.qa=function(){return new cj(this,8,new X(null,8,5,Z,[fp,GA,bs,DD,Ms,aA,ny,vE],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,this.J)};g.la=function(){return 8+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1127179791^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.seen,b.seen)&&F.B(this.Ca,b.Ca)&&F.B(this.sa,b.sa)&&F.B(this.pattern,b.pattern)&&F.B(this.attr,b.attr)&&F.B(this.wa,b.wa)&&F.B(this.Ba,b.Ba)&&F.B(this.id,b.id)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,8,[bs,null,fp,null,vE,null,GA,null,aA,null,ny,null,DD,null,Ms,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(fp,b):U.call(null,fp,b))?new zV(c,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(GA,b):U.call(null,GA,b))?new zV(this.seen,c,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(bs,b):U.call(null,bs,b))?new zV(this.seen,this.Ca,c,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(DD,b):U.call(null,DD,b))?new zV(this.seen,this.Ca,this.sa,c,this.attr,this.wa,
this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(Ms,b):U.call(null,Ms,b))?new zV(this.seen,this.Ca,this.sa,this.pattern,c,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(aA,b):U.call(null,aA,b))?new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(ny,b):U.call(null,ny,b))?new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,c,this.id,this.G,this.F,null):r(U.B?U.B(vE,b):U.call(null,vE,b))?new zV(this.seen,this.Ca,this.sa,this.pattern,
this.attr,this.wa,this.Ba,c,this.G,this.F,null):new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,8,5,Z,[new Y(fp,this.seen,null),new Y(GA,this.Ca,null),new Y(bs,this.sa,null),new Y(DD,this.pattern,null),new Y(Ms,this.attr,null),new Y(aA,this.wa,null),new Y(ny,this.Ba,null),new Y(vE,this.id,null)],null),this.F))};
g.ha=function(a,b){return new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.Cg=function(a,b){a=this.seen;var c=this.Ca;var d=this.sa;var e=b.value;d=null==e?d:Jd(d,this.attr.as,e);e=this.pattern;var f=oV(this.wa),h=pV(this.wa);b=b.Ba;b=r(b)?b:pV(this.Ba);return new zV(a,c,d,e,f,h,$g(b),this.id,null,null,null)};
g.Jf=function(a,b){var c=this,d=c.sa,e=c.attr;a=c.wa;for(var f=c.Ba;;){if(null==f&&null==e)return new X(null,1,5,Z,[function(){var v=c.seen,z=c.Ca,C=d,E=c.pattern,I=oV(c.pattern.Dc),O=pV(c.pattern.Dc),P=c.id;return AV.Wb?AV.Wb(v,z,C,E,I,O,P):AV.call(null,v,z,C,E,I,O,P)}()],null);if(null!=e&&F.B(pp,e.name)){var h=Mg(d,e.as,function(){var v=e.hb;return v.C?v.C(c.id):v.call(null,c.id)}()),k=oV(a);a=pV(a);d=h;e=k}else{var m=oV(f),n=r(function(){var v=m;return r(v)?e:v}())?Jf(e.name,m.a):null,p=function(){var v=
null==e;if(v)return v;v=n;return r(v)?0<n:v}(),u=function(){var v=null==m;if(v)return v;v=n;return r(v)?0>n:v}();if(r(function(){var v=c.pattern.Tb;return r(v)?(v=null!=m)?p:v:v}()))k=TR(b.db.Yb,m.a,function(v,z,C,E,I){return function(){return hV(b.db,I.a)}}(d,e,a,f,m,n,p,u,this)),h=d,a=r(e)?qV(a,e):null,d=h,e=k;else if(r(p))h=d,k=e,f=pV(f),d=h,e=k;else if(sV(b,lu,c.id,e.name,null),r(function(){var v=u;return r(v)?null==e:v}()))h=d,k=oV(a),a=pV(a),d=h,e=k;else if(r(function(){var v=u;return r(v)?
null!=nm.C(e):v}()))h=Mg(d,e.as,nm.C(e)),k=oV(a),a=pV(a),d=h,e=k;else if(r(u))h=function(){var v=e.hb;return v.C?v.C(null):v.call(null,null)}(),null==h?(h=d,k=oV(a),a=pV(a),d=h,e=k):(h=Jd(d,e.as,h),k=oV(a),a=pV(a),d=h,e=k);else{if(r(function(){var v=e.Jb;return r(v)?e.Mb:v}()))return new X(null,2,5,Z,[new zV(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,null,null,null),new xV(c.seen,c.Ca,Gd(hf),c.pattern,e,f,null,null,null)],null);if(r(e.Jb))return new X(null,2,5,Z,[new zV(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,
null,null,null),new wV(Gd(hf),e,f,null,null,null)],null);if(r(e.Mb))return new X(null,2,5,Z,[new zV(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,null,null,null),function(){var v=c.seen,z=c.Ca,C=c.pattern,E=e,I=m.v;return yV.Ra?yV.Ra(b,v,z,C,E,I):yV.call(null,b,v,z,C,E,I)}()],null);h=Mg(d,e.as,function(){var v=m.v,z=e.hb;return z.C?z.C(v):z.call(null,v)}());k=oV(a);a=pV(a);f=pV(f);d=h;e=k}}}};
function BV(a,b,c,d,e,f,h,k,m,n){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.wa=f;this.id=h;this.G=k;this.F=m;this.J=n;this.O=2230716170;this.T=139264}g=BV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "attrs":return this.wa;case "id":return this.id;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,V.B(new X(null,7,5,Z,[new X(null,2,5,Z,[fp,this.seen],null),new X(null,2,5,Z,[GA,this.Ca],null),new X(null,2,5,Z,[bs,this.sa],null),new X(null,2,5,Z,[DD,this.pattern],null),new X(null,2,5,Z,[Ms,this.attr],null),new X(null,2,5,Z,[aA,this.wa],null),new X(null,2,5,Z,[vE,this.id],null)],null),this.F))};
g.qa=function(){return new cj(this,7,new X(null,7,5,Z,[fp,GA,bs,DD,Ms,aA,vE],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.F,this.J)};g.la=function(){return 7+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=470210558^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.seen,b.seen)&&F.B(this.Ca,b.Ca)&&F.B(this.sa,b.sa)&&F.B(this.pattern,b.pattern)&&F.B(this.attr,b.attr)&&F.B(this.wa,b.wa)&&F.B(this.id,b.id)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,7,[bs,null,fp,null,vE,null,GA,null,aA,null,DD,null,Ms,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(fp,b):U.call(null,fp,b))?new BV(c,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(GA,b):U.call(null,GA,b))?new BV(this.seen,c,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(bs,b):U.call(null,bs,b))?new BV(this.seen,this.Ca,c,this.pattern,this.attr,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(DD,b):U.call(null,DD,b))?new BV(this.seen,this.Ca,this.sa,c,this.attr,this.wa,this.id,this.G,this.F,null):
r(U.B?U.B(Ms,b):U.call(null,Ms,b))?new BV(this.seen,this.Ca,this.sa,this.pattern,c,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(aA,b):U.call(null,aA,b))?new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.id,this.G,this.F,null):r(U.B?U.B(vE,b):U.call(null,vE,b))?new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,c,this.G,this.F,null):new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,7,5,Z,[new Y(fp,this.seen,null),new Y(GA,this.Ca,null),new Y(bs,this.sa,null),new Y(DD,this.pattern,null),new Y(Ms,this.attr,null),new Y(aA,this.wa,null),new Y(vE,this.id,null)],null),this.F))};g.ha=function(a,b){return new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
g.Cg=function(a,b){a=this.seen;var c=this.Ca,d=this.sa;b=b.value;b=null==b?d:Jd(d,this.attr.as,b);return new BV(a,c,b,this.pattern,oV(this.wa),pV(this.wa),this.id,null,null,null)};
g.Jf=function(a,b){var c=this.sa;a=this.attr;for(var d=this.wa;;){if(null==a)return new X(null,1,5,Z,[new vV($g(Id(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof CT?MS(f.Sb,fT.R(0,e,this.id,536870912),fT.R(2147483647,e,this.id,2147483647)):tT(f,new X(null,3,5,Z,[null,e,this.id],null));sV(b,tz,null,e,this.id);if(sf(f)&&null!=nm.C(a))c=Mg(c,a.as,nm.C(a)),a=oV(d),d=e=pV(d);else if(sf(f))a=oV(d),d=e=pV(d);else{if(r(a.Gb)){e=Z;c=new BV(this.seen,this.Ca,c,this.pattern,a,d,this.id,null,
null,null);d=this.seen;var h=this.Ca,k=this.pattern;f=oV(f).e;b=yV.Ra?yV.Ra(b,d,h,k,a,f):yV.call(null,b,d,h,k,a,f);b=new X(null,2,5,e,[c,b],null)}else b=new X(null,2,5,Z,[new BV(this.seen,this.Ca,c,this.pattern,a,d,this.id,null,null,null),new xV(this.seen,this.Ca,Gd(hf),this.pattern,a,f,null,null,null)],null);return b}}};function AV(a,b,c,d,e,f,h){return new BV(a,b,c,d,e,f,h,null,null,null)}
function yV(a,b,c,d,e,f){var h=e.Lb;r(h)||(h=e.Gb,h=r(h)?e.pattern.Tb:h);if(hc(h))return d=e.pattern,CV.ma?CV.ma(a,b,c,d,f):CV.call(null,a,b,c,d,f);if(r(b.C?b.C(f):b.call(null,f)))return new vV(new q(null,1,[pp,f],null),null,null,null,null);h=c.C?c.C(e):c.call(null,e);if(r(r(h)?0>=h:h))return new vV(null,null,null,null,null);b=gf.B(b,f);c=r(h)?mi.D(c,e,$f):r(e.Kb)?Q.D(c,e,e.Kb-1):c;d=r(e.Lb)?d:e.pattern;return CV.ma?CV.ma(a,b,c,d,f):CV.call(null,a,b,c,d,f)}
function CV(a,b,c,d,e){var f=a.db,h=r(function(){var k=d.Tb;return r(k)?f instanceof CT:k}())?MS(f.Db,fT.R(e,null,null,536870912),fT.R(e,null,null,2147483647)):r(d.Tb)?tT(f,new X(null,1,5,Z,[e],null)):null==d.Ec?null:function(){var k=d.Ec.name,m=d.Qc.name;return f instanceof CT?MS(f.Db,fT.R(e,k,null,536870912),fT.R(e,m,null,2147483647)):wT(f,new X(null,1,5,Z,[e],null))}();r(d.Tb)&&sV(a,$r,e,null,null);return new zV(b,c,Gd(W),d,oV(d.wa),pV(d.wa),h,e,null,null,null)}
function DV(a,b){var c=Yg(a);a=B.B(c,uD);c=B.B(c,DD);b=$T(a.db,b);if(null==b)return null;for(c=new jf(null,CV(a,Bk,W,c,b),null,1,null);;){b=oV(c);var d=pV(c);if(b instanceof vV){if(null==d)return b.value;c=oV(d);d=pV(d);c=qV(d,tV(c,b))}else c=w.D(qV,d,uV(b,a))}}function EV(a,b){var c=Yg(null);c=B.B(c,An);return new q(null,2,[DD,TR(a.Zb,b,function(){return nV(a,b)}),uD,new rV(a,c,null,null,null)],null)};var FV=function FV(a){switch(arguments.length){case 1:return FV.C(arguments[0]);case 2:return FV.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};FV.C=function(a){return cN(a)};FV.B=function(a,b){return dN(a,b)};FV.aa=2;function GV(a,b){return fc(a)?a[b]:Se(a,b)}function HV(a,b){return wf(a)?a.C?a.C(b):a.call(null,b):a[b]}function IV(a){return fc(a)||yf(a)}function JV(a,b){var c=Array(K(b));w.D(function(d,e){c[d]=a.C?a.C(e):a.call(null,e);return d+1},0,b);return c}function KV(a,b){var c=Array(K(b));w.D(function(d,e){c[d]=a.B?a.B(d,e):a.call(null,d,e);return d+1},0,b);return c}function LV(a,b){return null==b.a?-1:0>=Jf(a.a,b.a)?-1:1}
function MV(a){if(sf(tC.C(a)))return hf;for(var b=Gd(new X(null,1,5,Z,[GB.C(H(tC.C(a)))],null));;){var c=Se(b,K(b)-1),d=fT.D(0,c,null),e=fT.D(2147483647,null,null);c=GB;var f=c.C,h=tC.C(a);d=JS(h,d,e,LV);c=f.call(c,H(d));if(null!=c)b=Lg.B(b,c);else return Id(b)}}function NV(a){return 0==a.lastIndexOf(":",0)?tg.C(kg.B(a,1)):a}
function OV(a,b){b=Yg(b);var c=B.D(b,sE,ql),d=B.D(b,BD,t),e=MV(a),f=ei.B(W,Ph.D(Mi,e,Pk.P())),h=yh(Gd(hf)),k=yh(Gd(W));b=KV(function(u,v){v.idx=u|0;u=v.e;var z=v.a;z=f.C?f.C(z):f.call(null,z);var C=v.v;if("string"!==typeof C)if("number"===typeof C)C=Infinity===C?[2]:-Infinity===C?[3]:r(isNaN(C))?[4]:C;else if(!0!==C&&!1!==C)if(C instanceof D){var E=B.B(y(k),C);r(E)?C=E:(E=h.cf(null,Lg.B(h.Vb(null),C)),E=K(E)-1,k.cf(null,Mg(k.Vb(null),C,E)),C=E);C=[0,C]}else C=[1,c.C?c.C(C):c.call(null,C)];return[u,
z,C,v.eg-536870912]},SA.C(a));var m=KV(function(u,v){return v.idx},tC.C(a)),n=KV(function(u,v){return v.idx},Sm.C(a)),p=function(){var u=Yy.C(a);return c.C?c.C(u):c.call(null,u)}();e=JV(d,e);d=JV(d,Id(y(h)));return{count:K(SA.C(a)),tx0:536870912,"max-eid":Hs.C(a),"max-tx":Dt.C(a),schema:p,attrs:e,keywords:d,eavt:b,aevt:m,avet:n}}
function PV(a){switch(arguments.length){case 1:return QV(arguments[0]);case 2:return OV(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function QV(a){return OV(a,W)}function RV(a){switch(arguments.length){case 1:return SV(arguments[0]);case 2:return TV(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function SV(a){return TV(a,W)}
function TV(a,b){b=Yg(b);var c=B.D(b,Ju,FV);b=B.D(b,Jq,NV);var d=HV(a,"tx0"),e=function(){var n=HV(a,"schema");return c.C?c.C(n):c.call(null,n)}();(function(){var n=new oe(function(){return OT},KD,Vj([an,xv,Gt,Wz,qn,Iu,Fm,Wv,uA,Ns,ZA],[!0,Cm,iw,"datascript/db.cljc",23,1,726,726,og(new X(null,1,5,Z,[Jt],null)),null,r(OT)?OT.Li:null]));return n.C?n.C(e):n.call(null,e)})();var f=fi.B(b,HV(a,"attrs")),h=fi.B(b,HV(a,"keywords")),k=JV(function(n){var p=GV(n,0),u=Se(f,GV(n,1)),v=GV(n,2);if("number"===typeof v)var z=
v;else if("string"===typeof v)z=v;else if(!0===v||!1===v)z=v;else if(IV(v))z=function(){var C=GV(v,0);if(r(ig.B?ig.B(0,C):ig.call(null,0,C)))return Se(h,GV(v,1));if(r(ig.B?ig.B(1,C):ig.call(null,1,C)))return C=GV(v,1),c.C?c.C(C):c.call(null,C);if(r(ig.B?ig.B(2,C):ig.call(null,2,C)))return Infinity;if(r(ig.B?ig.B(3,C):ig.call(null,3,C)))return-Infinity;if(r(ig.B?ig.B(4,C):ig.call(null,4,C)))return NaN;throw sm(["Unexpected value marker ",ql.I(M([C]))," in ",ql.I(M([ql.I(M([v]))]))].join(""),new q(null,
2,[yx,Kw,fs,v],null));}();else throw sm(["Unexpected value type ",ql.I(M([nc(v)]))," (",ql.I(M([ql.I(M([v]))])),")"].join(""),new q(null,2,[yx,Kw,fs,v],null));n=d+GV(n,3);return fT.R(p,u,z,n)},HV(a,"eavt"));b=function(){var n=HV(a,"aevt");return null==n?null:JV(function(p){return k[p]},n)}();var m=function(){var n=HV(a,"avet");return null==n?null:JV(function(p){return k[p]},n)}();return DT(Vj([Yy,Dt,MD,tC,Sm,Hs,SA,Cz,ws,Xz],[e,HV(a,"max-tx"),Ch(0),NS(mT,b),NS(nT,m),HV(a,"max-eid"),NS(lT,k),UR(),UR(),
function(){var n=uk.I(M([new q(null,1,[Du,new q(null,1,[Gm,vt],null)],null),e])),p=new oe(function(){return MT},nD,Vj([an,xv,Gt,Wz,qn,Iu,Fm,Wv,uA,Ns,ZA],[!0,Cm,WD,"datascript/db.cljc",15,1,694,694,og(new X(null,1,5,Z,[Jt],null)),":db/unique           \x3d\x3e #{attr ...}\n   :db.unique/identity  \x3d\x3e #{attr ...}\n   :db.unique/value     \x3d\x3e #{attr ...}\n   :db/index            \x3d\x3e #{attr ...}\n   :db.cardinality/many \x3d\x3e #{attr ...}\n   :db.type/ref         \x3d\x3e #{attr ...}\n   :db/isComponent      \x3d\x3e #{attr ...}\n   :db.type/tuple       \x3d\x3e #{attr ...}\n   :db/attrTuples       \x3d\x3e {attr \x3d\x3e {tuple-attr \x3d\x3e idx}}",
r(MT)?MT.Li:null]));return p.C?p.C(n):p.call(null,n)}()]))};function UV(){}function VV(a,b,c){if(null!=a&&null!=a.bb)a=a.bb(a,b,c);else{var d=VV[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=VV._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("ITraversable.-collect",a);}return a}
function WV(a,b){if(null!=a&&null!=a.cb)a=a.cb(a,b);else{var c=WV[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=WV._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("ITraversable.-collect-vars",a);}return a}function XV(a,b){return vf(a)&&F.B(K(a),b)}function YV(a,b){return vf(b)?w.D(function(c,d){d=a.C?a.C(d):a.call(null,d);return r(d)?gf.B(c,d):Fe(null)},hf,b):null}function ZV(a,b){return $V(a,b,hf)}
function $V(a,b,c){return r(a.C?a.C(b):a.call(null,b))?gf.B(c,b):(null!=b?l===b.ab||(b.Ae?0:mc(UV,b)):mc(UV,b))?VV(b,a,c):QS(b)?w.D(function(d,e){return $V(a,e,d)},c,b):c}function aW(a){var b=sf(a);return b?b:Tg(Hf,a)}function bW(a,b){return pf(a,new q(null,1,[bw,b],null))}function cW(a){var b=bw.C(qf(a));return r(b)?b:a}function dW(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=dW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){return B.D(this.F,b,c)};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,V.B(hf,this.F))};g.qa=function(){return new cj(this,0,hf,r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new dW(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-528488587^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.F,b.F)};g.za=function(a,b){return S(Bk,b)?R.B(id(ei.B(W,this),this.G),b):new dW(this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};g.ea=function(a,b,c){return new dW(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(hf,this.F))};g.ha=function(a,b){return new dW(b,this.F,this.J)};
g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function eW(a,b,c,d){this.symbol=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=eW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "symbol":return this.symbol;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Zr,this.symbol],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[Zr],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new eW(this.symbol,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=736891289^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.symbol,b.symbol)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[Zr,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new eW(this.symbol,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "symbol":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Zr,b):U.call(null,Zr,b))?new eW(c,this.G,this.F,null):new eW(this.symbol,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Zr,this.symbol,null)],null),this.F))};g.ha=function(a,b){return new eW(this.symbol,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.symbol,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.symbol):fW.call(null,b,this.symbol)};function gW(a,b,c,d){this.symbol=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=gW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "symbol":return this.symbol;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Zr,this.symbol],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[Zr],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new gW(this.symbol,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1648766309^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.symbol,b.symbol)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[Zr,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new gW(this.symbol,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "symbol":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Zr,b):U.call(null,Zr,b))?new gW(c,this.G,this.F,null):new gW(this.symbol,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Zr,this.symbol,null)],null),this.F))};g.ha=function(a,b){return new gW(this.symbol,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.symbol,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.symbol):fW.call(null,b,this.symbol)};function hW(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=hW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return B.D(this.F,b,c)};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,V.B(hf,this.F))};g.qa=function(){return new cj(this,0,hf,r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new hW(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-350962559^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.F,b.F)};
g.za=function(a,b){return S(Bk,b)?R.B(id(ei.B(W,this),this.G),b):new hW(this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};g.ea=function(a,b,c){return new hW(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(hf,this.F))};g.ha=function(a,b){return new hW(b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};
function iW(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=iW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return B.D(this.F,b,c)};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,V.B(hf,this.F))};
g.qa=function(){return new cj(this,0,hf,r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new iW(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1504050517^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.F,b.F)};g.za=function(a,b){return S(Bk,b)?R.B(id(ei.B(W,this),this.G),b):new iW(this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};
g.ea=function(a,b,c){return new iW(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(hf,this.F))};g.ha=function(a,b){return new iW(b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function jW(a,b,c,d){this.value=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=jW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[fs,this.value],null)],null),this.F))};
g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[fs],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new jW(this.value,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-812884714^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.value,b.value)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,1,[fs,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new jW(this.value,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(fs,b):U.call(null,fs,b))?new jW(c,this.G,this.F,null):new jW(this.value,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(fs,this.value,null)],null),this.F))};
g.ha=function(a,b){return new jW(this.value,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.value,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.value):fW.call(null,b,this.value)};function kW(a,b,c,d){this.symbol=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=kW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "symbol":return this.symbol;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Zr,this.symbol],null)],null),this.F))};
g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[Zr],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new kW(this.symbol,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1509921913^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.symbol,b.symbol)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,1,[Zr,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new kW(this.symbol,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "symbol":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Zr,b):U.call(null,Zr,b))?new kW(c,this.G,this.F,null):new kW(this.symbol,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Zr,this.symbol,null)],null),this.F))};
g.ha=function(a,b){return new kW(this.symbol,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.symbol,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.symbol):fW.call(null,b,this.symbol)};function lW(a){return a instanceof A&&F.B(H(ug(a)),"?")?new eW(a,null,null,null):null}
function mW(a){var b=lW(a);if(r(b))return b;throw sm(["Cannot parse var, expected symbol starting with ?, got: ",ql.I(M([a]))].join(""),new q(null,2,[yx,Sx,Vp,a],null));}function nW(a){return a instanceof A&&F.B(H(ug(a)),"$")?new gW(a,null,null,null):null}function oW(a){return a instanceof A&&F.B(H(ug(a)),"?")?null:new jW(a,null,null,null)}
function pW(a){return a instanceof A&&hc(lW(a))&&hc(nW(a))&&hc(F.B(Wp,a)?new iW(null,null,null):null)&&hc(F.B(vo,a)?new dW(null,null,null):null)?new kW(a,null,null,null):null}function qW(a){return r(pW(a))?new eW(a,null,null,null):null}function rW(a){var b=lW(a);if(r(b))return b;b=nW(a);return r(b)?b:oW(a)}function sW(a,b,c,d,e){this.required=a;this.ud=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=sW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "required":return this.required;case "free":return this.ud;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[gu,this.required],null),new X(null,2,5,Z,[Sy,this.ud],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[gu,Sy],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new sW(this.required,this.ud,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=892963297^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.required,b.required)&&F.B(this.ud,b.ud)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[Sy,null,gu,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new sW(this.required,this.ud,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "required":case "free":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(gu,b):U.call(null,gu,b))?new sW(c,this.ud,this.G,this.F,null):r(U.B?U.B(Sy,b):U.call(null,Sy,b))?new sW(this.required,c,this.G,this.F,null):new sW(this.required,this.ud,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(gu,this.required,null),new Y(Sy,this.ud,null)],null),this.F))};
g.ha=function(a,b){return new sW(this.required,this.ud,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.ud,$V(b,this.required,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.required):fW.call(null,b,this.required);b=this.ud;return fW.B?fW.B(a,b):fW.call(null,a,b)};
function tW(a){if(vf(a)){var b=vf(H(a))?new X(null,2,5,Z,[H(a),J(a)],null):new X(null,2,5,Z,[null,a],null),c=N(b,0,null);b=N(b,1,null);c=YV(mW,c);b=YV(mW,b);if(sf(c)&&sf(b))throw sm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new q(null,2,[yx,jy,Vp,a],null));if(!r(aW(V.B(c,b))))throw sm("Rule variables should be distinct",new q(null,2,[yx,jy,Vp,a],null));return new sW(c,b,null,null,null)}throw sm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new q(null,2,[yx,jy,Vp,a],null));}function uW(a){return V.B(r(gu.C(a))?new X(null,1,5,Z,[fi.B(Zr,gu.C(a))],null):null,fi.B(Zr,Sy.C(a)))}function vW(a){return new X(null,2,5,Z,[K(gu.C(a)),K(Sy.C(a))],null)}function wW(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=wW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return B.D(this.F,b,c)};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,V.B(hf,this.F))};g.qa=function(){return new cj(this,0,hf,r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new wW(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-890522983^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.F,b.F)};g.za=function(a,b){return S(Bk,b)?R.B(id(ei.B(W,this),this.G),b):new wW(this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};g.ea=function(a,b,c){return new wW(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(hf,this.F))};g.ha=function(a,b){return new wW(b,this.F,this.J)};
g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function xW(a,b,c,d){this.ub=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=xW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "variable":return this.ub;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[iA,this.ub],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[iA],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new xW(this.ub,this.G,this.F,this.J)};
g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1522792445^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.ub,b.ub)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[iA,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new xW(this.ub,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "variable":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(iA,b):U.call(null,iA,b))?new xW(c,this.G,this.F,null):new xW(this.ub,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(iA,this.ub,null)],null),this.F))};g.ha=function(a,b){return new xW(this.ub,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.ub,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.ub):fW.call(null,b,this.ub)};
function yW(a,b,c,d){this.bindings=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=yW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "bindings":return this.bindings;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[dw,this.bindings],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[dw],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new yW(this.bindings,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1637239347^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.bindings,b.bindings)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[dw,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new yW(this.bindings,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "bindings":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(dw,b):U.call(null,dw,b))?new yW(c,this.G,this.F,null):new yW(this.bindings,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(dw,this.bindings,null)],null),this.F))};g.ha=function(a,b){return new yW(this.bindings,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.bindings,c)};
g.cb=function(a,b){return fW.B?fW.B(b,this.bindings):fW.call(null,b,this.bindings)};function zW(a,b,c,d){this.binding=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=zW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "binding":return this.binding;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Lr,this.binding],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[Lr],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new zW(this.binding,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1930368089^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.binding,b.binding)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[Lr,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new zW(this.binding,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "binding":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Lr,b):U.call(null,Lr,b))?new zW(c,this.G,this.F,null):new zW(this.binding,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Lr,this.binding,null)],null),this.F))};g.ha=function(a,b){return new zW(this.binding,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.binding,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.binding):fW.call(null,b,this.binding)};
function AW(a){return F.B(vo,a)?bW(new wW(null,null,null),a):null}function BW(a){var b=AW(a);return r(b)?b:CW.C?CW.C(a):CW.call(null,a)}function DW(a){var b=YV(BW,a);if(r(b)){if(sf(b))throw sm("Tuple binding cannot be empty",new q(null,2,[yx,Ix,Vp,a],null));return bW(new yW(b,null,null,null),a)}return null}
function CW(a){a:{if(XV(a,2)&&F.B(bf(a),LA)){var b=H(a);b=CW.C?CW.C(b):CW.call(null,b);if(r(b)){b=bW(new zW(b,null,null,null),a);break a}throw sm("Cannot parse collection binding",new q(null,2,[yx,Ix,Vp,a],null));}b=null}if(r(b))return b;b=XV(a,1)&&vf(H(a))?bW(new zW(DW(H(a)),null,null,null),a):null;if(r(b))return b;b=DW(a);if(r(b))return b;b=AW(a);if(r(b))return b;b=lW(a);b=r(b)?bW(new xW(b,null,null,null),a):null;if(r(b))return b;throw sm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new q(null,2,[yx,Ix,Vp,a],null));}function EW(a){if(null!=a&&null!=a.Bg)a=a.Bg(a);else{var b=EW[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=EW._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IFindVars.-find-vars",a);}return a}eW.prototype.Bg=function(){return new X(null,1,5,Z,[this.symbol],null)};function FW(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=FW.prototype;g.Bg=function(){return EW(ff(this.args))};
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "fn":return this.fn;case "args":return this.args;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[zD,this.fn],null),new X(null,2,5,Z,[AD,this.args],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[zD,AD],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new FW(this.fn,this.args,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-91097383^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.fn,b.fn)&&F.B(this.args,b.args)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[AD,null,zD,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new FW(this.fn,this.args,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "fn":case "args":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(zD,b):U.call(null,zD,b))?new FW(c,this.args,this.G,this.F,null):r(U.B?U.B(AD,b):U.call(null,AD,b))?new FW(this.fn,c,this.G,this.F,null):new FW(this.fn,this.args,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(zD,this.fn,null),new Y(AD,this.args,null)],null),this.F))};g.ha=function(a,b){return new FW(this.fn,this.args,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.args,$V(b,this.fn,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.fn):fW.call(null,b,this.fn);b=this.args;return fW.B?fW.B(a,b):fW.call(null,a,b)};function GW(a,b,c,d,e,f){this.source=a;this.ub=b;this.pattern=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=GW.prototype;g.Bg=function(){return EW(this.ub)};g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "variable":return this.ub;case "pattern":return this.pattern;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[bw,this.source],null),new X(null,2,5,Z,[iA,this.ub],null),new X(null,2,5,Z,[DD,this.pattern],null)],null),this.F))};g.qa=function(){return new cj(this,3,new X(null,3,5,Z,[bw,iA,DD],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new GW(this.source,this.ub,this.pattern,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2108867663^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.ub,b.ub)&&F.B(this.pattern,b.pattern)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,3,[iA,null,bw,null,DD,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new GW(this.source,this.ub,this.pattern,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "variable":case "pattern":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(bw,b):U.call(null,bw,b))?new GW(c,this.ub,this.pattern,this.G,this.F,null):r(U.B?U.B(iA,b):U.call(null,iA,b))?new GW(this.source,c,this.pattern,this.G,this.F,null):r(U.B?U.B(DD,b):U.call(null,DD,b))?new GW(this.source,this.ub,c,this.G,this.F,null):new GW(this.source,this.ub,this.pattern,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(bw,this.source,null),new Y(iA,this.ub,null),new Y(DD,this.pattern,null)],null),this.F))};g.ha=function(a,b){return new GW(this.source,this.ub,this.pattern,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.pattern,$V(b,this.ub,$V(b,this.source,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.ub;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.pattern;return fW.B?fW.B(a,b):fW.call(null,a,b)};function HW(a){if(null!=a&&null!=a.If)a=a.If(a);else{var b=HW[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=HW._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IFindElements.find-elements",a);}return a}function IW(a,b,c,d){this.elements=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}
g=IW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "elements":return this.elements;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Sp,this.elements],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[Sp],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new IW(this.elements,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=744809563^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.elements,b.elements)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[Sp,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new IW(this.elements,this.G,$g(R.B(this.F,b)),null)};g.If=function(){return this.elements};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "elements":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Sp,b):U.call(null,Sp,b))?new IW(c,this.G,this.F,null):new IW(this.elements,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Sp,this.elements,null)],null),this.F))};g.ha=function(a,b){return new IW(this.elements,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.elements,c)};
g.cb=function(a,b){return fW.B?fW.B(b,this.elements):fW.call(null,b,this.elements)};function JW(a,b,c,d){this.element=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=JW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "element":return this.element;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[EC,this.element],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[EC],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new JW(this.element,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=124241361^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.element,b.element)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[EC,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new JW(this.element,this.G,$g(R.B(this.F,b)),null)};g.If=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "element":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(EC,b):U.call(null,EC,b))?new JW(c,this.G,this.F,null):new JW(this.element,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(EC,this.element,null)],null),this.F))};g.ha=function(a,b){return new JW(this.element,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.element,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.element):fW.call(null,b,this.element)};
function KW(a,b,c,d){this.element=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=KW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "element":return this.element;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[EC,this.element],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[EC],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new KW(this.element,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-661542332^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.element,b.element)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[EC,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new KW(this.element,this.G,$g(R.B(this.F,b)),null)};g.If=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "element":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(EC,b):U.call(null,EC,b))?new KW(c,this.G,this.F,null):new KW(this.element,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(EC,this.element,null)],null),this.F))};g.ha=function(a,b){return new KW(this.element,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.element,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.element):fW.call(null,b,this.element)};
function LW(a,b,c,d){this.elements=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=LW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "elements":return this.elements;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Sp,this.elements],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[Sp],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new LW(this.elements,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=681530371^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.elements,b.elements)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[Sp,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new LW(this.elements,this.G,$g(R.B(this.F,b)),null)};g.If=function(){return this.elements};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "elements":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Sp,b):U.call(null,Sp,b))?new LW(c,this.G,this.F,null):new LW(this.elements,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Sp,this.elements,null)],null),this.F))};g.ha=function(a,b){return new LW(this.elements,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.elements,c)};
g.cb=function(a,b){return fW.B?fW.B(b,this.elements):fW.call(null,b,this.elements)};function MW(a){return a instanceof FW}function NW(a){return a instanceof GW}
function OW(a){var b=lW(a);if(r(b))return b;a:{if(vf(a)&&F.B(H(a),HB)){if(3<=K(a)&&4>=K(a)){var c=(b=F.B(K(a),4))?Se(a,1):bo;b=b?J(J(a)):J(a);var d=N(b,0,null);b=N(b,1,null);c=nW(c);d=lW(d);var e=lW(b);r(e)?b=e:(e=qW(b),b=r(e)?e:oW(b));if(r(r(c)?r(d)?b:d:c)){b=new GW(c,d,b,null,null,null);break a}}throw sm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new q(null,2,[yx,lD,gq,a],null));}b=null}if(r(b))return b;a:{if(vf(a)&&F.B(H(a),wr)){if(3<=
K(a)&&(b=G(a),H(b),c=J(b),b=H(c),c=J(c),b=lW(b),c=YV(rW,c),r(r(b)?c:b))){b=new FW(b,c,null,null,null);break a}throw sm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new q(null,2,[yx,lD,gq,a],null));}b=null}r(b)?a=b:vf(a)&&2<=K(a)?(b=G(a),a=H(b),b=J(b),a=pW(a),b=YV(rW,b),a=r(r(a)?b:a)?new FW(a,b,null,null,null):null):a=null;return a}
function PW(a){var b=YV(OW,a);b=null==b?null:new IW(b,null,null,null);if(r(b))return b;a:{if(vf(a)&&F.B(K(a),1)&&(b=H(a),vf(b)&&F.B(K(b),2)&&F.B(bf(b),LA))){b=OW(H(b));b=null==b?null:new JW(b,null,null,null);break a}b=null}if(r(b))return b;vf(a)&&F.B(K(a),2)&&F.B(bf(a),VC)?(b=OW(H(a)),b=null==b?null:new KW(b,null,null,null)):b=null;if(r(b))return b;vf(a)&&F.B(K(a),1)?(b=H(a),b=YV(OW,b),b=null==b?null:new LW(b,null,null,null)):b=null;if(r(b))return b;throw sm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new q(null,2,[yx,lD,gq,a],null));}function QW(a,b,c,d,e){this.type=a;this.symbols=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=QW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[to,this.type],null),new X(null,2,5,Z,[Ls,this.symbols],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[to,Ls],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new QW(this.type,this.symbols,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2025547471^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.type,b.type)&&F.B(this.symbols,b.symbols)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[to,null,Ls,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new QW(this.type,this.symbols,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type":case "symbols":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(to,b):U.call(null,to,b))?new QW(c,this.symbols,this.G,this.F,null):r(U.B?U.B(Ls,b):U.call(null,Ls,b))?new QW(this.type,c,this.G,this.F,null):new QW(this.type,this.symbols,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(to,this.type,null),new Y(Ls,this.symbols,null)],null),this.F))};
g.ha=function(a,b){return new QW(this.type,this.symbols,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.symbols,$V(b,this.type,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.type):fW.call(null,b,this.type);b=this.symbols;return fW.B?fW.B(a,b):fW.call(null,a,b)};
function RW(a,b){if(!sf(b)&&ph(ke,b))switch(a instanceof D?a.ba:null){case "keys":return new QW(a,fi.B(tg,b),null,null,null);case "syms":return new QW(a,Ii(b),null,null,null);case "strs":return new QW(a,fi.B(t,b),null,null,null);default:return null}else return null}function SW(a){var b=nW(a);r(b)||(b=F.B(Wp,a)?new iW(null,null,null):null,b=r(b)?b:qW(a));return r(b)?bW(new xW(b,null,null,null),a):CW(a)}
function TW(a){var b=YV(SW,a);if(r(b))return b;throw sm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new q(null,2,[yx,JD,Vp,a],null));}function UW(a,b,c,d,e){this.source=a;this.pattern=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=UW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[bw,this.source],null),new X(null,2,5,Z,[DD,this.pattern],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[bw,DD],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new UW(this.source,this.pattern,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=575220587^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.pattern,b.pattern)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[bw,null,DD,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new UW(this.source,this.pattern,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "pattern":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(bw,b):U.call(null,bw,b))?new UW(c,this.pattern,this.G,this.F,null):r(U.B?U.B(DD,b):U.call(null,DD,b))?new UW(this.source,c,this.G,this.F,null):new UW(this.source,this.pattern,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(bw,this.source,null),new Y(DD,this.pattern,null)],null),this.F))};
g.ha=function(a,b){return new UW(this.source,this.pattern,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.pattern,$V(b,this.source,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.pattern;return fW.B?fW.B(a,b):fW.call(null,a,b)};function VW(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=VW.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "fn":return this.fn;case "args":return this.args;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[zD,this.fn],null),new X(null,2,5,Z,[AD,this.args],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[zD,AD],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new VW(this.fn,this.args,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1523376880^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.fn,b.fn)&&F.B(this.args,b.args)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[AD,null,zD,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new VW(this.fn,this.args,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "fn":case "args":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(zD,b):U.call(null,zD,b))?new VW(c,this.args,this.G,this.F,null):r(U.B?U.B(AD,b):U.call(null,AD,b))?new VW(this.fn,c,this.G,this.F,null):new VW(this.fn,this.args,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(zD,this.fn,null),new Y(AD,this.args,null)],null),this.F))};g.ha=function(a,b){return new VW(this.fn,this.args,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.args,$V(b,this.fn,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.fn):fW.call(null,b,this.fn);b=this.args;return fW.B?fW.B(a,b):fW.call(null,a,b)};function WW(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=WW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[zD,this.fn],null),new X(null,2,5,Z,[AD,this.args],null),new X(null,2,5,Z,[Lr,this.binding],null)],null),this.F))};g.qa=function(){return new cj(this,3,new X(null,3,5,Z,[zD,AD,Lr],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new WW(this.fn,this.args,this.binding,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=589494199^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.fn,b.fn)&&F.B(this.args,b.args)&&F.B(this.binding,b.binding)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,3,[AD,null,zD,null,Lr,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new WW(this.fn,this.args,this.binding,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "fn":case "args":case "binding":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(zD,b):U.call(null,zD,b))?new WW(c,this.args,this.binding,this.G,this.F,null):r(U.B?U.B(AD,b):U.call(null,AD,b))?new WW(this.fn,c,this.binding,this.G,this.F,null):r(U.B?U.B(Lr,b):U.call(null,Lr,b))?new WW(this.fn,this.args,c,this.G,this.F,null):new WW(this.fn,this.args,this.binding,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(zD,this.fn,null),new Y(AD,this.args,null),new Y(Lr,this.binding,null)],null),this.F))};g.ha=function(a,b){return new WW(this.fn,this.args,this.binding,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.binding,$V(b,this.args,$V(b,this.fn,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.fn):fW.call(null,b,this.fn);b=this.args;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.binding;return fW.B?fW.B(a,b):fW.call(null,a,b)};function XW(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=XW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[bw,this.source],null),new X(null,2,5,Z,[Gt,this.name],null),new X(null,2,5,Z,[AD,this.args],null)],null),this.F))};g.qa=function(){return new cj(this,3,new X(null,3,5,Z,[bw,Gt,AD],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new XW(this.source,this.name,this.args,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-444662011^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.name,b.name)&&F.B(this.args,b.args)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,3,[AD,null,Gt,null,bw,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new XW(this.source,this.name,this.args,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "name":case "args":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(bw,b):U.call(null,bw,b))?new XW(c,this.name,this.args,this.G,this.F,null):r(U.B?U.B(Gt,b):U.call(null,Gt,b))?new XW(this.source,c,this.args,this.G,this.F,null):r(U.B?U.B(AD,b):U.call(null,AD,b))?new XW(this.source,this.name,c,this.G,this.F,null):new XW(this.source,this.name,this.args,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(bw,this.source,null),new Y(Gt,this.name,null),new Y(AD,this.args,null)],null),this.F))};g.ha=function(a,b){return new XW(this.source,this.name,this.args,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.args,$V(b,this.name,$V(b,this.source,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.name;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.args;return fW.B?fW.B(a,b):fW.call(null,a,b)};function YW(a,b,c,d,e,f){this.source=a;this.vb=b;this.Fa=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=YW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "vars":return this.vb;case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[bw,this.source],null),new X(null,2,5,Z,[qp,this.vb],null),new X(null,2,5,Z,[kt,this.Fa],null)],null),this.F))};g.qa=function(){return new cj(this,3,new X(null,3,5,Z,[bw,qp,kt],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new YW(this.source,this.vb,this.Fa,this.G,this.F,this.J)};g.la=function(){return 3+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1394671061^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.vb,b.vb)&&F.B(this.Fa,b.Fa)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,3,[bw,null,kt,null,qp,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new YW(this.source,this.vb,this.Fa,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "vars":case "clauses":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(bw,b):U.call(null,bw,b))?new YW(c,this.vb,this.Fa,this.G,this.F,null):r(U.B?U.B(qp,b):U.call(null,qp,b))?new YW(this.source,c,this.Fa,this.G,this.F,null):r(U.B?U.B(kt,b):U.call(null,kt,b))?new YW(this.source,this.vb,c,this.G,this.F,null):new YW(this.source,this.vb,this.Fa,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(bw,this.source,null),new Y(qp,this.vb,null),new Y(kt,this.Fa,null)],null),this.F))};g.ha=function(a,b){return new YW(this.source,this.vb,this.Fa,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.Fa,$V(b,this.vb,$V(b,this.source,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.vb;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.Fa;return fW.B?fW.B(a,b):fW.call(null,a,b)};function ZW(a,b,c,d,e,f){this.source=a;this.Uc=b;this.Fa=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=ZW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "rule-vars":return this.Uc;case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[bw,this.source],null),new X(null,2,5,Z,[sD,this.Uc],null),new X(null,2,5,Z,[kt,this.Fa],null)],null),this.F))};g.qa=function(){return new cj(this,3,new X(null,3,5,Z,[bw,sD,kt],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new ZW(this.source,this.Uc,this.Fa,this.G,this.F,this.J)};g.la=function(){return 3+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1461934571^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.Uc,b.Uc)&&F.B(this.Fa,b.Fa)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,3,[sD,null,bw,null,kt,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new ZW(this.source,this.Uc,this.Fa,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "rule-vars":case "clauses":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(bw,b):U.call(null,bw,b))?new ZW(c,this.Uc,this.Fa,this.G,this.F,null):r(U.B?U.B(sD,b):U.call(null,sD,b))?new ZW(this.source,c,this.Fa,this.G,this.F,null):r(U.B?U.B(kt,b):U.call(null,kt,b))?new ZW(this.source,this.Uc,c,this.G,this.F,null):new ZW(this.source,this.Uc,this.Fa,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(bw,this.source,null),new Y(sD,this.Uc,null),new Y(kt,this.Fa,null)],null),this.F))};g.ha=function(a,b){return new ZW(this.source,this.Uc,this.Fa,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.Fa,$V(b,this.Uc,$V(b,this.source,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.Uc;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.Fa;return fW.B?fW.B(a,b):fW.call(null,a,b)};function $W(a,b,c,d){this.Fa=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=$W.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[kt,this.Fa],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[kt],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new $W(this.Fa,this.G,this.F,this.J)};
g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-131856804^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Fa,b.Fa)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[kt,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new $W(this.Fa,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "clauses":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(kt,b):U.call(null,kt,b))?new $W(c,this.G,this.F,null):new $W(this.Fa,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(kt,this.Fa,null)],null),this.F))};g.ha=function(a,b){return new $W(this.Fa,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.Fa,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.Fa):fW.call(null,b,this.Fa)};
function aX(a){var b=F.B(vo,a)?new dW(null,null,null):null;if(r(b))return b;b=lW(a);return r(b)?b:oW(a)}function bX(a){if(vf(a)){var b=nW(H(a));return r(b)?new X(null,2,5,Z,[b,J(a)],null):new X(null,2,5,Z,[new hW(null,null,null),a],null)}return null}function cX(a){if(vf(a)){var b=G(a);a=H(b);b=J(b);b=null==b?hf:b;var c=pW(a);a=r(c)?c:lW(a);b=YV(rW,b);return r(r(a)?b:a)?new X(null,2,5,Z,[a,b],null):null}return null}
var fW=function fW(a,b){return b instanceof eW?gf.B(a,b):b instanceof YW?ei.B(a,b.vb):b instanceof ZW?(b=b.Uc,fW.B?fW.B(a,b):fW.call(null,a,b)):(null!=b?l===b.ab||(b.Ae?0:mc(UV,b)):mc(UV,b))?WV(b,a):vf(b)?w.D(fW,a,b):a};function dX(a,b,c){if(sf(a)&&sf(b))throw sm("Join variables should not be empty",new q(null,2,[yx,sC,Vp,c],null));}function eX(a,b){dX(null,qp.C(a),b);return a}function fX(a,b){var c=Yg(a);c=B.B(c,sD);var d=Yg(c);c=B.B(d,gu);d=B.B(d,Sy);dX(c,d,b);return a}
function Jh(a){if(vf(a)&&F.B(jB,H(a))){var b=J(a);b=gX.C?gX.C(b):gX.call(null,b);if(r($g(b)))return new $W(b,null,null,null);throw sm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new q(null,2,[yx,sC,Vp,a],null));}return null}
function Kh(a){a:{var b=bX(a);if(r(b)){var c=N(b,0,null);b=N(b,1,null);var d=G(b);b=H(d);d=J(d);if(F.B(nC,b)){b=gX.C?gX.C(d):gX.call(null,d);if(r(b)){c=eX(bW(new YW(c,Ii(Ek(fW(hf,b))),b,null,null,null),a),a);break a}throw sm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new q(null,2,[yx,sC,Vp,a],null));}}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)){c=N(b,0,null);b=N(b,1,null);d=G(b);b=H(d);var e=J(d);d=H(e);e=J(e);if(F.B(ly,b)){b=YV(lW,d);d=gX.C?gX.C(e):gX.call(null,e);if(r(r(b)?
d:b)){c=eX(bW(new YW(c,b,d,null,null,null),a),a);break a}throw sm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new q(null,2,[yx,sC,Vp,a],null));}}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),d=G(b),b=H(d),d=J(d),F.B(Qo,b))){b=YV(Ih(),d);if(r(b)){c=fX(bW(new ZW(c,new sW(null,Ii(Ek(fW(hf,b))),null,null,null),b,null,null,null),a),a);break a}throw sm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new q(null,2,[yx,sC,
Vp,a],null));}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),d=G(b),b=H(d),e=J(d),d=H(e),e=J(e),F.B(tx,b))){b=tW(d);d=YV(Ih(),e);if(r(r(b)?d:b)){c=fX(bW(new ZW(c,b,d,null,null,null),a),a);break a}throw sm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new q(null,2,[yx,sC,Vp,a],null));}c=null}if(r(c))return c;a:{if(XV(a,1)&&(b=cX(H(a)),r(b))){c=N(b,0,null);b=N(b,1,null);c=bW(new VW(c,b,null,null,null),a);break a}c=null}if(r(c))return c;
a:{if(XV(a,2)&&(b=N(a,0,null),c=N(a,1,null),d=cX(b),r(d))){b=N(d,0,null);d=N(d,1,null);c=CW(c);c=r(c)?bW(new WW(b,d,c,null,null,null),a):null;break a}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),b=G(b),d=H(b),b=J(b),d=pW(d),e=YV(aX,b),r(d))){if(sf(b))throw sm("rule-expr requires at least one argument",new q(null,2,[yx,sC,Vp,a],null));if(null==e)throw sm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new q(null,2,[yx,sC,Vp,a],null));c=new XW(c,
d,e,null,null,null);break a}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),b=YV(aX,b),r(b))){if(sf(b))throw sm("Pattern could not be empty",new q(null,2,[yx,sC,Vp,a],null));c=bW(new UW(c,b,null,null,null),a);break a}c=null}if(r(c))return c;throw sm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new q(null,2,[yx,sC,Vp,a],null));}function gX(a){return YV(Kh,a)}
function hX(a){var b=gX(a);if(r(b))return b;throw sm("Cannot parse :where clause, expected [clause+]",new q(null,2,[yx,sC,Vp,a],null));}function iX(a,b,c,d,e){this.vb=a;this.Fa=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=iX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "vars":return this.vb;case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[qp,this.vb],null),new X(null,2,5,Z,[kt,this.Fa],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[qp,kt],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new iX(this.vb,this.Fa,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1024755006^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.vb,b.vb)&&F.B(this.Fa,b.Fa)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[kt,null,qp,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new iX(this.vb,this.Fa,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "vars":case "clauses":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(qp,b):U.call(null,qp,b))?new iX(c,this.Fa,this.G,this.F,null):r(U.B?U.B(kt,b):U.call(null,kt,b))?new iX(this.vb,c,this.G,this.F,null):new iX(this.vb,this.Fa,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(qp,this.vb,null),new Y(kt,this.Fa,null)],null),this.F))};
g.ha=function(a,b){return new iX(this.vb,this.Fa,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.Fa,$V(b,this.vb,c))};g.cb=function(a,b){return fW(fW(b,this.vb),this.Fa)};function jX(a,b,c,d,e){this.name=a;this.branches=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=jX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "name":return this.name;case "branches":return this.branches;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Gt,this.name],null),new X(null,2,5,Z,[Ip,this.branches],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[Gt,Ip],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new jX(this.name,this.branches,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-900273052^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.name,b.name)&&F.B(this.branches,b.branches)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[Gt,null,Ip,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new jX(this.name,this.branches,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "name":case "branches":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Gt,b):U.call(null,Gt,b))?new jX(c,this.branches,this.G,this.F,null):r(U.B?U.B(Ip,b):U.call(null,Ip,b))?new jX(this.name,c,this.G,this.F,null):new jX(this.name,this.branches,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(Gt,this.name,null),new Y(Ip,this.branches,null)],null),this.F))};
g.ha=function(a,b){return new jX(this.name,this.branches,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.branches,$V(b,this.name,c))};g.cb=function(a,b){return fW(fW(b,this.name),this.branches)};
function kX(a){if(vf(a)){var b=G(a),c=H(b),d=J(b);if(vf(c)){b=G(c);var e=H(b);c=J(b);b=function(){var h=pW(e);if(r(h))return h;throw sm("Cannot parse rule name, expected plain-symbol",new q(null,2,[yx,XB,Vp,a],null));}();c=tW(c);var f=function(){var h=$g(gX(d));if(r(h))return h;throw sm("Rule branch should have clauses",new q(null,2,[yx,XB,Vp,a],null));}();return new q(null,3,[Gt,b,qp,c,kt,f],null)}throw sm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",ql.I(M([c]))].join(""),new q(null,
2,[yx,XB,Vp,a],null));}throw sm("Cannot parse rule, expected [rule-head clause+]",new q(null,2,[yx,XB,Vp,a],null));}
function lX(a,b){var c=qp.C(H(b)),d=vW(c);b=G(J(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.Da(null,h);k=qp.C(k);if(Zg.B(d,vW(k)))throw sm(["Arity mismatch for rule '",ql.I(M([Zr.C(a)])),"': ",ql.I(M([uW(c)]))," vs. ",ql.I(M([uW(k)]))].join(""),new q(null,2,[yx,XB,bx,a],null));h+=1}else if(b=G(b)){if(zf(b))f=Od(b),b=Pd(b),e=f,f=K(f);else{k=H(b);e=qp.C(k);if(Zg.B(d,vW(e)))throw sm(["Arity mismatch for rule '",ql.I(M([Zr.C(a)])),"': ",ql.I(M([uW(c)]))," vs. ",ql.I(M([uW(e)]))].join(""),new q(null,
2,[yx,XB,bx,a],null));b=J(b);e=null;f=0}h=0}else break}
function mX(a){Ii(function(){return function d(c){return new vg(null,function(){for(;;){var e=G(c);if(e){var f=e;if(zf(f)){var h=Od(f),k=K(h),m=zg(k);return function(){for(var v=0;;)if(v<k){var z=x(h,v),C=N(z,0,null),E=N(z,1,null);z=fi.B(function(){return function(I){return new iX(qp.C(I),kt.C(I),null,null,null)}}(v,z,C,E,h,k,m,f,e),E);E=m;lX(C,z);E.add(new jX(C,z,null,null,null));v+=1}else return!0}()?Bg(Dg(m),d(Pd(f))):Bg(Dg(m),null)}var n=H(f),p=N(n,0,null),u=N(n,1,null);n=fi.B(function(){return function(v){return new iX(qp.C(v),
kt.C(v),null,null,null)}}(n,p,u,f,e),u);lX(p,n);return Ye(new jX(p,n,null,null,null),d(te(f)))}return null}},null,null)}(Zl(Gt,YV(kX,a)))}())}function nX(a,b,c,d,e,f,h,k){this.Gc=a;this.Kc=b;this.Ic=c;this.Hc=d;this.Jc=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=nX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "qfind":return this.Gc;case "qwith":return this.Kc;case "qreturn-map":return this.Ic;case "qin":return this.Hc;case "qwhere":return this.Jc;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[fy,this.Gc],null),new X(null,2,5,Z,[cu,this.Kc],null),new X(null,2,5,Z,[CB,this.Ic],null),new X(null,2,5,Z,[Xs,this.Hc],null),new X(null,2,5,Z,[it,this.Jc],null)],null),this.F))};g.qa=function(){return new cj(this,5,new X(null,5,5,Z,[fy,cu,CB,Xs,it],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new nX(this.Gc,this.Kc,this.Ic,this.Hc,this.Jc,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=181307977^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Gc,b.Gc)&&F.B(this.Kc,b.Kc)&&F.B(this.Ic,b.Ic)&&F.B(this.Hc,b.Hc)&&F.B(this.Jc,b.Jc)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,5,[fy,null,it,null,Xs,null,cu,null,CB,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new nX(this.Gc,this.Kc,this.Ic,this.Hc,this.Jc,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(fy,b):U.call(null,fy,b))?new nX(c,this.Kc,this.Ic,this.Hc,this.Jc,this.G,this.F,null):r(U.B?U.B(cu,b):U.call(null,cu,b))?new nX(this.Gc,c,this.Ic,this.Hc,this.Jc,this.G,this.F,null):r(U.B?U.B(CB,b):U.call(null,CB,b))?new nX(this.Gc,this.Kc,c,this.Hc,this.Jc,this.G,this.F,null):r(U.B?U.B(Xs,b):U.call(null,Xs,b))?new nX(this.Gc,this.Kc,this.Ic,c,this.Jc,this.G,this.F,null):r(U.B?U.B(it,b):U.call(null,it,b))?new nX(this.Gc,this.Kc,this.Ic,this.Hc,c,this.G,this.F,
null):new nX(this.Gc,this.Kc,this.Ic,this.Hc,this.Jc,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(fy,this.Gc,null),new Y(cu,this.Kc,null),new Y(CB,this.Ic,null),new Y(Xs,this.Hc,null),new Y(it,this.Jc,null)],null),this.F))};g.ha=function(a,b){return new nX(this.Gc,this.Kc,this.Ic,this.Hc,this.Jc,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.Jc,$V(b,this.Hc,$V(b,this.Ic,$V(b,this.Kc,$V(b,this.Gc,c)))))};g.cb=function(a,b){return fW(fW(fW(fW(fW(b,this.Gc),this.Kc),this.Ic),this.Hc),this.Jc)};function oX(a){var b=R.I(a,fy,M([cu,CB,Xs,it]));b=xf(a)?ei.B(W,b):b;return new nX(fy.C(a),cu.C(a),CB.C(a),Xs.C(a),it.C(a),null,$g(b),null)}function pX(a){for(var b=W,c=null;;){var d=H(a);if(r(d))d instanceof D?(c=d,a=J(a)):(b=li.R(b,new X(null,1,5,Z,[c],null),wh(hf),d),a=J(a));else return b}}
function qX(a){var b=bw.C(a);return a instanceof UW?b:null!=b?b instanceof hW?null:b:null}
function rX(a,b,c){var d=Dk(fW(hf,fy.C(a))),e=Dk(cu.C(a)),f=Dk(fW(hf,Xs.C(a))),h=Dk(fW(hf,it.C(a)));f=tI.B(rI(d,e),rI(h,f));d=sI.B(d,e);if(!sf(f))throw sm(["Query for unknown vars: ",ql.I(M([fi.B(Zr,f)]))].join(""),new q(null,3,[yx,Ts,qp,f,Vp,b],null));if(!sf(d))throw sm([":find and :with should not use same variables: ",ql.I(M([fi.B(Zr,d)]))].join(""),new q(null,3,[yx,Ts,qp,d,Vp,b],null));d=CB.C(a);if(null!=d){if(fy.C(a)instanceof KW)throw sm([ql.I(M([to.C(d)]))," does not work with single-scalar :find"].join(""),
new q(null,2,[yx,Ts,Vp,b],null));if(fy.C(a)instanceof JW)throw sm([ql.I(M([to.C(d)]))," does not work with collection :find"].join(""),new q(null,2,[yx,Ts,Vp,b],null));}d=Ls.C(CB.C(a));if(null!=d&&(e=HW(fy.C(a)),!F.B(K(d),K(e))))throw sm(["Count of ",ql.I(M([to.C(CB.C(a))]))," must match count of :find"].join(""),new q(null,4,[yx,Ts,un,Ye(to.C(CB.C(a)),d),zy,e,Vp,b],null));if(1<K(ci(ic,new X(null,3,5,Z,[Do.C(c),Ht.C(c),jw.C(c)],null))))throw sm("Only one of :keys/:syms/:strs must be present",new q(null,
2,[yx,Ts,Vp,b],null));var k=fW(hf,Xs.C(a)),m=ZV(function(p){return p instanceof gW},Xs.C(a)),n=ZV(function(p){return p instanceof iW},Xs.C(a));if(!r(function(){var p=aW(k);return r(p)?(p=aW(m),r(p)?aW(n):p):p}()))throw sm("Vars used in :in should be distinct",new q(null,2,[yx,Ts,Vp,b],null));c=fW(hf,cu.C(a));if(!r(aW(c)))throw sm("Vars used in :with should be distinct",new q(null,2,[yx,Ts,Vp,b],null));c=$V(function(p){return p instanceof gW},Xs.C(a),Bk);d=$V(function(p){return p instanceof gW},it.C(a),
Bk);c=tI.B(d,c);if(!sf(c))throw sm(["Where uses unknown source vars: ",ql.I(M([fi.B(Zr,c)]))].join(""),new q(null,3,[yx,Ts,qp,c,Vp,b],null));c=ZV(function(p){return p instanceof XW},it.C(a));a=ZV(function(p){return p instanceof iW},Xs.C(a));if(!sf(c)&&sf(a))throw sm("Missing rules var '%' in :in",new q(null,2,[yx,Ts,Vp,b],null));}
function sX(a){if(wf(a))var b=a;else if(vf(a))b=pX(a);else throw sm("Query should be a vector or a map",new q(null,2,[yx,Ts,Vp,a],null));var c=b,d=hX(Sn.B(c,hf));b=oX(new q(null,5,[fy,PW(zy.C(c)),cu,function(){var e=hE.C(c);if(r(e)){var f=YV(lW,e);if(r(f))e=f;else throw sm("Cannot parse :with clause, expected [ variable+ ]",new q(null,2,[yx,nq,Vp,e],null));}else e=null;return e}(),CB,function(){var e=RW(Do,Do.C(c));if(r(e))return e;e=RW(Ht,Ht.C(c));return r(e)?e:RW(jw,jw.C(c))}(),Xs,TW(function(){var e=
pE.C(c);return r(e)?e:sf(ZV(qX,d))?hf:new X(null,1,5,Z,[bo],null)}()),it,d],null));rX(b,a,c);return b};var tX=UR();function uX(a,b,c,d,e,f){this.Nd=a;this.sources=b;this.rules=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=uX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "rels":return this.Nd;case "sources":return this.sources;case "rules":return this.rules;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Fr,this.Nd],null),new X(null,2,5,Z,[hs,this.sources],null),new X(null,2,5,Z,[rB,this.rules],null)],null),this.F))};g.qa=function(){return new cj(this,3,new X(null,3,5,Z,[Fr,hs,rB],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new uX(this.Nd,this.sources,this.rules,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1014232958^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Nd,b.Nd)&&F.B(this.sources,b.sources)&&F.B(this.rules,b.rules)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,3,[hs,null,rB,null,Fr,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new uX(this.Nd,this.sources,this.rules,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "rels":case "sources":case "rules":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Fr,b):U.call(null,Fr,b))?new uX(c,this.sources,this.rules,this.G,this.F,null):r(U.B?U.B(hs,b):U.call(null,hs,b))?new uX(this.Nd,c,this.rules,this.G,this.F,null):r(U.B?U.B(rB,b):U.call(null,rB,b))?new uX(this.Nd,this.sources,c,this.G,this.F,null):new uX(this.Nd,this.sources,this.rules,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(Fr,this.Nd,null),new Y(hs,this.sources,null),new Y(rB,this.rules,null)],null),this.F))};g.ha=function(a,b){return new uX(this.Nd,this.sources,this.rules,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function vX(a,b,c,d,e){this.wa=a;this.ce=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=vX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "attrs":return this.wa;case "tuples":return this.ce;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[aA,this.wa],null),new X(null,2,5,Z,[wq,this.ce],null)],null),this.F))};
g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[aA,wq],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new vX(this.wa,this.ce,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1107093117^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.wa,b.wa)&&F.B(this.ce,b.ce)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,2,[wq,null,aA,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new vX(this.wa,this.ce,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "attrs":case "tuples":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(aA,b):U.call(null,aA,b))?new vX(c,this.ce,this.G,this.F,null):r(U.B?U.B(wq,b):U.call(null,wq,b))?new vX(this.wa,c,this.G,this.F,null):new vX(this.wa,this.ce,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(aA,this.wa,null),new Y(wq,this.ce,null)],null),this.F))};g.ha=function(a,b){return new vX(this.wa,this.ce,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function wX(a,b){return sI.B(Dk(ij(a)),Dk(ij(b)))}function xX(a,b){return F.B(K(a),K(b))&&ph(function(c){return S(b,c)},ij(a))&&ph(function(c){return S(b,c)},ij(a))}
var yX=function yX(a,b){return F.B(vo,a)?!0:F.B(new X(null,1,5,Z,[kC],null),a)?vf(b):a instanceof A?F.B(b,a):vf(a)?F.B(ff(a),kC)?vf(b)&&ph(function(d){var e=N(d,0,null);d=N(d,1,null);return yX.B?yX.B(e,d):yX.call(null,e,d)},Ph.D(Mi,Fk(a),b)):vf(b)&&F.B(K(b),K(a))&&ph(function(d){var e=N(d,0,null);d=N(d,1,null);return yX.B?yX.B(e,d):yX.call(null,e,d)},Ph.D(Mi,a,b)):a.C?a.C(b):a.call(null,b)};function zX(a){return a instanceof A&&F.B("$",H(ug(a)))}
function AX(a){return a instanceof A&&F.B("?",H(ug(a)))}function BX(a){return a instanceof D||"string"===typeof a}function CX(a){return yX(new X(null,2,5,Z,[BX,vo],null),a)}function DX(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var EX=function EX(a,b){var d=Yg(a),e=B.B(d,aA);d=B.B(d,wq);var f=Yg(b),h=B.B(f,aA);f=B.B(f,wq);if(F.B(e,h))return new vX(e,ei.B(Ii(d),f),null,null,null);if(xX(e,h)){if(ph(gc,jj(e))){var k=Ii(function(){return function v(u){return new vg(null,function(){for(;;){var z=G(u);if(z){if(zf(z)){var C=Od(z),E=K(C),I=zg(E);a:for(var O=0;;)if(O<E){var P=x(C,O),T=N(P,0,null);P=N(P,1,null);T=new X(null,2,5,Z,[P,e.C?e.C(T):e.call(null,T)],null);I.add(T);O+=1}else{C=!0;break a}return C?Bg(Dg(I),v(Pd(z))):Bg(Dg(I),
null)}C=H(z);I=N(C,0,null);C=N(C,1,null);return Ye(new X(null,2,5,Z,[C,e.C?e.C(I):e.call(null,I)],null),v(te(z)))}return null}},null,null)}(h)}()),m=w.B(ag,jj(e))+1;b=Id(w.D(function(p,u){for(var v=Array(m),z=G(k),C=null,E=0,I=0;;)if(I<E){var O=C.Da(null,I),P=N(O,0,null);O=N(O,1,null);v[O]=u[P];I+=1}else if(z=G(z))zf(z)?(E=Od(z),z=Pd(z),C=E,E=K(E)):(E=H(z),C=N(E,0,null),E=N(E,1,null),v[E]=u[C],z=J(z),C=null,E=0),I=0;else break;return Lg.B(p,v)},Gd(Ii(d)),f));return new vX(e,b,null,null,null)}var n=
Gk(ij(uk.I(M([e,h]))),Pk.P());d=function(){var p=new vX(n,hf,null,null,null);return EX.B?EX.B(p,a):EX.call(null,p,a)}();return EX.B?EX.B(d,b):EX.call(null,d,b)}throw sm(["Cant sum relations with different attrs: ",ql.I(M([e]))," and ",ql.I(M([h]))].join(""),new q(null,1,[yx,dp],null));},FX=function FX(a){switch(arguments.length){case 0:return FX.P();case 2:return FX.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
FX.P=function(){return new vX(W,new X(null,1,5,Z,[[]],null),null,null,null)};FX.B=function(a,b){var c=ij(aA.C(a)),d=ij(aA.C(b)),e=Nf(Ph.B(aA.C(a),c)),f=Nf(Ph.B(aA.C(b),d));return new vX(Gk(V.B(c,d),Pk.P()),Id(w.D(function(h,k){return w.D(function(m,n){return Lg.B(m,DX(k,e,n,f))},h,wq.C(b))},Gd(hf),wq.C(a))),null,null,null)};FX.aa=2;function GX(a){a=Ph.B(Zr,Ii(Ek(fW(hf,a))));return new vX(Gk(a,Pk.P()),hf,null,null,null)}
function HX(a,b){if(null!=a&&null!=a.Kf)a=a.Kf(a,b);else{var c=HX[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=HX._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IBinding.in-\x3erel",a);}return a}wW.prototype.Kf=function(){return FX.P()};xW.prototype.Kf=function(a,b){return new vX(mf([ii(this,new X(null,2,5,Z,[iA,Zr],null)),0]),new X(null,1,5,Z,[vc(new X(null,1,5,Z,[b],null))],null),null,null,null)};
zW.prototype.Kf=function(a,b){var c=this;if(QS(b))return sf(b)?GX(c):w.B(EX,Ph.B(function(d){return HX(c.binding,d)},b));throw sm(["Cannot bind value ",ql.I(M([b]))," to collection ",ql.I(M([cW(c)]))].join(""),new q(null,3,[yx,co,fs,b,Lr,cW(c)],null));};
yW.prototype.Kf=function(a,b){if(QS(b)){if(K(b)<K(this.bindings))throw sm(["Not enough elements in a collection ",ql.I(M([b]))," to bind tuple ",ql.I(M([cW(this)]))].join(""),new q(null,3,[yx,co,fs,b,Lr,cW(this)],null));return w.B(FX,Ph.D(function(c,d){return HX(c,d)},this.bindings,b))}throw sm(["Cannot bind value ",ql.I(M([b]))," to tuple ",ql.I(M([cW(this)]))].join(""),new q(null,3,[yx,co,fs,b,Lr,cW(this)],null));};
function IX(a,b){var c=N(b,0,null);b=N(b,1,null);c instanceof xW&&iA.C(c)instanceof gW?a=mi.ma(a,hs,Q,ii(c,new X(null,2,5,Z,[iA,Zr],null)),b):c instanceof xW&&iA.C(c)instanceof iW?(c=Q.D,b="string"===typeof b?cN(b):b,mX(b),b=Zl(cf,b),a=c.call(Q,a,rB,b)):a=mi.R(a,Fr,gf,HX(c,b));return a}
function JX(a,b,c){var d=K(b),e=K(c);if(d<e)throw sm(["Extra inputs passed, expected: ",ql.I(M([fi.B(function(f){return bw.C(qf(f))},b)])),", got: ",ql.I(M([e]))].join(""),new q(null,3,[yx,gx,yv,b,RB,c],null));if(d>e)throw sm(["Too few inputs passed, expected: ",ql.I(M([fi.B(function(f){return bw.C(qf(f))},b)])),", got: ",ql.I(M([e]))].join(""),new q(null,3,[yx,gx,yv,b,RB,c],null));return w.D(IX,a,Gk(b,c))}var KX=null,LX=null;
function MX(a,b){var c=a.C?a.C(b):a.call(null,b);return S(KX,b)?function(d){d=d[c];return"number"===typeof d?d:vf(d)?$T(LX,d):WR(d)?$T(LX,d):d}:function(d){return d[c]}}function NX(a){if(1===K(a))return H(a);var b=Nf(a);return function(c){return G(b.map(function(d){return d.C?d.C(c):d.call(null,c)}))}}function OX(a,b){for(var c=Gd(W);;){var d=H(b);if(null==d)return Id(c);var e=a.C?a.C(d):a.call(null,d);b=J(b);c=Mg(c,e,gf.B(B.D(c,e,ue),d))}}
function PX(a,b){var c=wq.C(a),d=wq.C(b),e=aA.C(a),f=aA.C(b);a=Ii(wX(aA.C(a),aA.C(b)));var h=Ph.B(function(v){return MX(e,v)},a),k=Ph.B(function(v){return MX(f,v)},a);a=ij(e);b=Ii(tI.B(Dk(ij(f)),Dk(ij(e))));var m=Nf(Ph.B(e,a)),n=Nf(Ph.B(f,b));h=NX(h);var p=OX(h,c),u=NX(k);c=Id(w.D(function(v,z){var C=u.C?u.C(z):u.call(null,z);C=B.B(p,C);return null==C?v:w.D(function(E,I){return Lg.B(E,DX(I,m,z,n))},v,C)},Gd(hf),d));return new vX(Gk(V.B(a,b),Pk.P()),c,null,null,null)}
function QX(a,b){var c=Yg(a),d=B.B(c,aA);c=B.B(c,wq);b=Yg(b);var e=B.B(b,aA);b=B.B(b,wq);var f=wX(d,e),h=Ph.B(function(n){return MX(e,n)},f);h=NX(h);var k=OX(h,b);b=Ph.B(function(n){return MX(d,n)},f);var m=NX(b);return Q.D(a,wq,gi(function(n){n=m.C?m.C(n):m.call(null,n);return null==(k.C?k.C(n):k.call(null,n))},c))}
function RX(a,b){var c=fi.B(function(d){return F.B(d,vo)||AX(d)?null:d},b);a=tT(a,c);b=ei.B(W,ci(function(d){var e=N(d,0,null);N(d,1,null);return AX(e)},Ph.D(Mi,b,new X(null,4,5,Z,["e","a","v","tx"],null))));return new vX(b,a,null,null,null)}
function SX(a,b){a=ci(function(d){a:for(var e=b;;){var f=d;if(r(r(f)?e:f)){f=H(d);var h=H(e);if(F.B(h,vo)||AX(h)||F.B(f,h))d=J(d),e=J(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=ei.B(W,ci(function(d){var e=N(d,0,null);N(d,1,null);return AX(e)},Ph.D(Mi,b,Pk.P())));return new vX(c,fi.B(Nf,a),null,null,null)}function TX(a,b){return(null!=a?l===a.zk||(a.Ae?0:mc(sT,a)):mc(sT,a))?RX(a,b):SX(a,b)}
function UX(a,b){for(var c=hf;;){var d=H(a);if(null==d)return gf.B(c,b);r($g(wX(aA.C(b),aA.C(d))))?(a=J(a),b=PX(d,b)):(a=J(a),c=gf.B(c,d))}}function VX(a,b){return qh(function(c){return S(aA.C(c),b)?c:null},Fr.C(a))}function WX(a,b){var c=VX(a,b);if(null==c)return null;a=H(wq.C(c));null==a?b=null:(c=aA.C(c),b=c.C?c.C(b):c.call(null,b),b=a[b]);return b}function XX(a,b){return qh(function(c){return S(aA.C(a),c)},b)}
function YX(a,b){var c=ci(function(e){return XX(e,b)},Fr.C(a)),d=w.B(FX,c);return new X(null,2,5,Z,[mi.D(a,Fr,function(e){return di(Dk(c),e)}),d],null)}
function ZX(a,b,c,d){a=hs.C(a);b=aA.C(b);for(var e=K(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=Se(d,k);if(m instanceof A){var n=B.B(a,m);null==n?h[k]=B.B(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Mi?function(p){for(var u=f.slice(0),v=0;;)if(v<e){var z=h[v];null!=z&&(u[v]=p[z]);v+=1}else break;return Tg(c,u)}:function(p){for(var u=0;;)if(u<e){var v=h[u];null!=v&&(f[u]=p[v]);u+=1}else break;return Tg(c,f)}}
function $X(a,b){var c=N(b,0,null);c=G(c);var d=H(c),e=J(c),f=function(){var m=B.B(SU,d);if(r(m))return m;m=WX(a,d);if(r(m))return m;if(r(null))return null;if(null==VX(a,d))throw sm(["Unknown predicate '",ql.I(M([d]))," in ",ql.I(M([b]))].join(""),new q(null,3,[yx,dp,Vp,b,Aq,d],null));return null}();c=YX(a,ci(ke,e));var h=N(c,0,null),k=N(c,1,null);c=r(f)?function(){var m=ZX(h,k,f,e);return mi.D(k,wq,function(n){return ci(m,n)})}():Q.D(k,wq,hf);return mi.R(h,Fr,gf,c)}
function aY(a,b){var c=N(b,0,null);c=G(c);var d=H(c),e=J(c);c=N(b,1,null);var f=CW(c),h=function(){var n=B.B(SU,d);if(r(n))return n;n=WX(a,d);if(r(n))return n;if(r(null))return null;if(null==VX(a,d))throw sm(["Unknown function '",ql.I(M([d]))," in ",ql.I(M([b]))].join(""),new q(null,3,[yx,dp,Vp,b,Aq,d],null));return null}();c=YX(a,ci(ke,e));var k=N(c,0,null),m=N(c,1,null);c=r(h)?function(){var n=ZX(k,m,h,e),p=function(){return function z(v){return new vg(null,function(){for(var C=v;;)if(C=G(C)){if(zf(C)){var E=
Od(C),I=K(E),O=zg(I);a:for(var P=0;;)if(P<I){var T=x(E,P),aa=n(T);null!=aa&&(T=FX.B(new vX(aA.C(m),new X(null,1,5,Z,[T],null),null,null,null),HX(f,aa)),O.add(T));P+=1}else{E=!0;break a}return E?Bg(Dg(O),z(Pd(C))):Bg(Dg(O),null)}O=H(C);E=n(O);if(null!=E)return Ye(FX.B(new vX(aA.C(m),new X(null,1,5,Z,[O],null),null,null,null),HX(f,E)),z(te(C)));C=te(C)}else return null},null,null)}(wq.C(m))}();return sf(p)?FX.B(m,GX(f)):w.B(EX,p)}():FX.B(Q.D(m,wq,hf),GX(f));return mi.R(k,Fr,UX,c)}
function bY(a,b){if(vf(b)){var c=zX(H(b))?bf(b):H(b);if(c instanceof A){if(AX(c)||S(new zk(null,new q(null,6,[jB,null,nC,null,ly,null,tx,null,Qo,null,vo,null],null),null),c))return!1;if(S(rB.C(a),c))return!0;throw sm(["Unknown rule '",ql.I(M([c]))," in ",ql.I(M([b]))].join(""),new q(null,2,[yx,dp,Vp,b],null));}}return!1}var cY=Ch(0);
function dY(a,b){var c=G(a),d=H(c),e=J(c),f=Fh.B(cY,De),h=B.B(rB.C(b),d);return function n(m){return new vg(null,function(){for(;;){var p=G(m);if(p){var u=p;if(zf(u)){var v=Od(u),z=K(v),C=zg(z);return function(){for(var sa=0;;)if(sa<z){var Da=x(v,sa),fb=Da,zc=G(fb),jc=H(zc),kc=J(zc),Db=jc,Fd=G(Db),Eg=H(Fd),df=J(Fd),Dh=Eg,Le=df,Fg=kc,xe=Gk(Le,e);Cg(C,LR(function(ef,ge,he,ie,dk,Oi,Ky,Zo,Ul,pr,nu,ou,Mh,pu,qu,qr,Ly,Vl,Wl,$o,ru,su,tu,RE,G1,dO){return function(nn){if(AX(nn)){var SE=Mh.C?Mh.C(nn):Mh.call(null,
nn);return null==SE?ne.C([ug(nn),"__auto__",t.C(dO)].join("")):SE}return nn}}(sa,fb,zc,jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe,Da,v,z,C,u,p,a,c,d,e,d,e,f,h),Fg));sa+=1}else return!0}()?Bg(Dg(C),n(Pd(u))):Bg(Dg(C),null)}var E=H(u),I=E,O=G(I),P=H(O),T=J(O),aa=P,ea=G(aa),va=H(ea),ua=J(ea),Ma=va,Ka=ua,la=T,ya=Gk(Ka,e);return Ye(LR(function(sa,Da,fb,zc,jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he,ie,dk,Oi,Ky,Zo){return function(Ul){if(AX(Ul)){var pr=Le.C?Le.C(Ul):Le.call(null,Ul);return null==pr?ne.C([ug(Ul),"__auto__",
t.C(Zo)].join("")):pr}return Ul}}(I,O,P,T,aa,ea,va,ua,Ma,Ka,la,ya,E,u,p,a,c,d,e,d,e,f,h),la),n(te(u)))}return null}},null,null)}(h)}function eY(a,b){a=di(function(c){var d=N(c,0,null);c=N(c,1,null);return F.B(d,c)},Ph.D(Mi,a,b));return new X(null,2,5,Z,[Ph.B(H,a),Ph.B(bf,a)],null)}
function fY(a,b){a=G(a);var c=H(a),d=J(a);return function h(f){return new vg(null,function(){for(;;){var k=G(f);if(k){if(zf(k)){var m=Od(k),n=K(m),p=zg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),z=eY(d,v);v=N(z,0,null);z=N(z,1,null);v=new X(null,1,5,Z,[V.I(new X(null,1,5,Z,[Bs],null),v,M([z]))],null);p.add(v);u+=1}else{m=!0;break a}return m?Bg(Dg(p),h(Pd(k))):Bg(Dg(p),null)}p=H(k);m=eY(d,p);p=N(m,0,null);m=N(m,1,null);return Ye(new X(null,1,5,Z,[V.I(new X(null,1,5,Z,[Bs],null),p,M([m]))],null),h(te(k)))}return null}},
null,null)}(B.B(b,c))}function gY(a){var b=Ch(hf);LR(function(c){r(AX.C?AX.C(c):AX.call(null,c))&&Fh.D(b,gf,c);return c},a);return y(b)}function hY(a,b){function c(e){e=N(e,0,null);e=G(e);H(e);e=J(e);return ph(d,e)}var d=Dk(gY(a));return new X(null,2,5,Z,[ci(c,b),di(c,b)],null)}
function iY(a,b){function c(kc){return qh(function(Db){return sf(wq.C(Db))},Fr.C(kc))}function d(kc,Db){return w.D(jY,kc,Db)}for(var e=ci(AX,b),f=Gk(e,Pk.P()),h=new jf(null,new q(null,5,[Xw,hf,Wt,a,kt,new X(null,1,5,Z,[b],null),Ks,W,ft,W],null),null,1,null),k=new vX(f,hf,null,null,null);;){var m=H(h);if(null==m)return k;var n=m,p=Rk(function(){return function(kc){return!bY(a,kc)}}(h,k,n,m,e,f,d,c),kt.C(n)),u=N(p,0,null),v=N(p,1,null),z=G(v),C=H(z),E=J(z),I=C,O=E;if(null==I){b=d(Wt.C(n),u);b=kY?kY(b,
e):lY.call(null,b,e);var P=new vX(f,b,null,null,null);b=J(h);P=EX(k,P);h=b;k=P}else{var T=I,aa=G(T),ea=H(aa),va=J(aa),ua=ea,Ma=va,Ka=fY(I,Ks.C(n)),la=hY(V.B(Xw.C(n),u),V.B(Ka,ft.C(n))),ya=N(la,0,null),sa=N(la,1,null);if(r(qh(function(){return function(kc){return F.B(kc,new X(null,1,5,Z,[og(Bs)],null))}}(h,k,T,aa,ea,va,ua,Ma,Ka,la,ya,sa,p,u,v,z,C,E,I,O,n,m,e,f,d,c),ya)))b=J(h),P=k,h=b,k=P;else{var Da=V.B(u,ya),fb=d(Wt.C(n),Da);if(r(c(fb)))b=J(h),P=k,h=b,k=P;else{var zc=Q.D(Ks.C(n),ua,gf.B(B.D(Ks.C(n),
ua,hf),Ma)),jc=dY(I,a);b=V.B(function(){return function(kc,Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he,ie,dk,Oi,Ky,Zo,Ul,pr,nu,ou,Mh,pu,qu,qr,Ly,Vl,Wl,$o,ru){return function RE(tu){return new vg(null,function(G1,dO,nn,SE,fO,gO,b4,c4,d4,e4,f4,g4,h4,i4,j4,hO,k4,l4,m4,n4,o4,p4,q4,iO){return function(){for(;;){var rr=G(tu);if(rr){if(zf(rr)){var Ny=Od(rr),jO=K(Ny),vu=zg(jO);a:for(var TE=0;;)if(TE<jO){var UE=x(Ny,TE);UE=new q(null,5,[Xw,fO,Wt,gO,kt,ei.D(hf,Il,M([UE,iO])),Ks,nn,ft,hO],null);vu.add(UE);TE+=1}else{Ny=
!0;break a}return Ny?Bg(Dg(vu),RE(Pd(rr))):Bg(Dg(vu),null)}vu=H(rr);return Ye(new q(null,5,[Xw,fO,Wt,gO,kt,ei.D(hf,Il,M([vu,iO])),Ks,nn,ft,hO],null),RE(te(rr)))}return null}}}(kc,Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he,ie,dk,Oi,Ky,Zo,Ul,pr,nu,ou,Mh,pu,qu,qr,Ly,Vl,Wl,$o,ru),null,null)}}(h,k,zc,jc,Da,fb,T,aa,ea,va,ua,Ma,Ka,la,ya,sa,p,u,v,z,C,E,I,O,n,m,e,f,d,c)(jc)}(),J(h));P=k;h=b;k=P}}}}}
function mY(a,b){if(null!=a?l===a.Pi||(a.Ae?0:mc(zT,a)):mc(zT,a)){var c=N(b,0,null),d=N(b,1,null),e=N(b,2,null),f=N(b,3,null);return Si(new X(null,4,5,Z,[r(function(){var h=CX(c);return r(h)?h:BX(c)}())?VT(a,c):c,d,r(function(){if(r(e)){var h=BX(d);return h?(h=UT(a,d))?(h=CX(e),r(h)?h:BX(e)):h:h}return e}())?VT(a,e):e,r(CX(f))?VT(a,f):f],null),0,K(b))}return b}
function nY(a,b){var c=N(b,0,null),d=N(b,1,null),e=N(b,2,null);b=N(b,3,null);c=AX(c)?gf.B(Bk,c):Bk;c=AX(b)?gf.B(c,b):c;return AX(e)&&!AX(d)&&UT(a,d)?gf.B(c,e):c}function oY(a,b){return Q.D(a,Fr,Ah(function(c){var d=$g(wk(aA.C(c),b));return null==d?null:Q.D(c,aA,d)},Fr.C(a)))}function pY(a){return ei.B(Bk,ai(function(b){return ij(aA.C(b))},M([Fr.C(a)])))}
function qY(a,b,c){if(vI(b,a))return null;a=tI.B(Dk(b),a);throw sm(["Insufficient bindings: ",ql.I(M([a]))," not bound in ",ql.I(M([c]))].join(""),new q(null,3,[yx,dp,Vp,c,qp,a],null));}function rY(a,b,c){b=fi.B(function(d){return tI.B(Dk(gY(d)),a)},b);if(r(Tg(F,b)))return null;throw sm(["All clauses in 'or' must use same set of free vars, had ",ql.I(M([b]))," in ",ql.I(M([c]))].join(""),new q(null,3,[yx,dp,Vp,c,qp,b],null));}
function sY(a,b,c){for(var d=Dk(di(a,b)),e=G(c),f=null,h=0,k=0;;)if(k<h){c=f.Da(null,k);var m=$g(tI.B(d,Dk(gY(c))));if(null!=m)throw e=m,dl(nl(M([c,a,b,d]),Yb())),r(Ub)&&pl(),sm(["All clauses in 'or' must use same set of free vars, had ",ql.I(M([e]))," not bound in ",ql.I(M([c]))].join(""),new q(null,3,[yx,dp,Vp,c,qp,e],null));k+=1}else if(c=G(e)){e=c;if(zf(e))f=Od(e),e=Pd(e),c=f,h=K(f),f=c;else{c=H(e);f=$g(tI.B(d,Dk(gY(c))));if(null!=f)throw e=f,dl(nl(M([c,a,b,d]),Yb())),r(Ub)&&pl(),sm(["All clauses in 'or' must use same set of free vars, had ",
ql.I(M([e]))," not bound in ",ql.I(M([c]))].join(""),new q(null,3,[yx,dp,Vp,c,qp,e],null));e=J(e);f=null;h=0}k=0}else return null}var jY=function jY(a){switch(arguments.length){case 2:return jY.B(arguments[0],arguments[1]);case 3:return jY.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};jY.B=function(a,b){return jY.D(a,b,b)};
jY.D=function(a,b,c){for(;;){var d=yX,e=b;if(r(function(){var P=new X(null,1,5,Z,[new X(null,2,5,Z,[ke,kC],null)],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return qY(pY(a),ci(AX,J(H(b))),b),$X(a,b);if(r(function(){var P=new X(null,2,5,Z,[new X(null,2,5,Z,[ke,kC],null),vo],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return qY(pY(a),ci(AX,J(H(b))),b),aY(a,b);if(r(function(){var P=new X(null,2,5,Z,[zX,kC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){var f=G(b);c=H(f);f=J(f);var h=
LX;LX=B.B(hs.C(a),c);try{return jY.D(a,f,b)}finally{LX=h}}else{if(r(function(){var P=new X(null,2,5,Z,[Qo,kC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){var k=b,m=G(k),n=H(m),p=J(m);f=n;h=p;var u=rY(pY(a),h,b),v=Ph.B(function(P){return function(T){return tY.B?tY.B(P,T):tY.call(null,P,T)}}(a,b,c,k,m,n,p,f,h,u,d,e),h);b=Ph.B(function(){return function(P){return w.B(PX,Fr.C(P))}}(a,b,c,k,m,n,p,f,h,u,v,d,e),v);return Q.D(H(v),Fr,new X(null,1,5,Z,[w.B(EX,b)],null))}if(r(function(){var P=new X(null,
3,5,Z,[tx,new X(null,2,5,Z,[new X(null,1,5,Z,[kC],null),kC],null),kC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){h=G(b);f=H(h);h=J(h);k=H(h);f=J(h);k=G(k);h=H(k);k=J(k);u=h;h=f;f=pY(a);qY(f,u,c);sY(f,k,h);c=Ig(tx,V.B(u,k),h);f=b;b=c;c=f;continue}else{if(r(function(){var P=new X(null,3,5,Z,[tx,new X(null,1,5,Z,[kC],null),kC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){n=b;p=G(n);var z=H(p),C=J(p);f=z;var E=H(C),I=J(C);k=E;h=I;var O=Dk(k);u=sY(pY(a),O,h);m=oY(a,O);v=Ph.B(function(P,
T,aa,ea,va,ua,Ma,Ka,la,ya,sa,Da,fb,zc,jc){return function(kc){return oY(tY.B?tY.B(jc,kc):tY.call(null,jc,kc),fb)}}(a,b,c,n,p,z,C,f,E,I,k,h,O,u,m,d,e),h);b=Ph.B(function(){return function(P){return w.B(PX,Fr.C(P))}}(a,b,c,n,p,z,C,f,E,I,k,h,O,u,m,v,d,e),v);b=w.B(EX,b);return mi.R(a,Fr,UX,b)}if(r(function(){var P=new X(null,2,5,Z,[jB,kC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return c=G(b),b=H(c),c=J(c),f=b,b=c,w.D(tY,a,b);if(r(function(){var P=new X(null,2,5,Z,[nC,kC],null),T=e;return d.B?
d.B(P,T):d.call(null,P,T)}())){f=G(b);b=H(f);h=J(f);f=b;b=h;f=pY(a);h=Dk(gY(b));if(sf(sI.B(f,h)))throw sm(["Insufficient bindings: none of ",ql.I(M([h]))," is bound in ",ql.I(M([c]))].join(""),new q(null,2,[yx,dp,Vp,c],null));u=null;a=Q.D(a,Fr,new X(null,1,5,Z,[w.B(PX,Fr.C(a))],null));b=w.D(tY,a,b);b=QX(H(Fr.C(a)),w.B(PX,Fr.C(b)));return Q.D(a,Fr,new X(null,1,5,Z,[b],null))}if(r(function(){var P=new X(null,3,5,Z,[ly,new X(null,1,5,Z,[kC],null),kC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return b=
G(b),f=H(b),b=J(b),f=H(b),b=J(b),k=f,f=pY(a),u=qY(f,k,c),a=Q.D(a,Fr,new X(null,1,5,Z,[w.B(PX,Fr.C(a))],null)),m=oY(a,k),b=oY(w.D(tY,m,b),k),b=QX(H(Fr.C(a)),w.B(PX,Fr.C(b))),Q.D(a,Fr,new X(null,1,5,Z,[b],null));if(r(function(){var P=new X(null,1,5,Z,[kC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){c=LX;b=mY(c,b);f=TX(c,b);h=KX;KX=(null!=c?l===c.Pi||(c.Ae?0:mc(zT,c)):mc(zT,c))?nY(c,b):KX;try{return mi.R(a,Fr,UX,f)}finally{KX=h}}else throw Error(["No matching clause: ",t.C(e)].join(""));}}break}};
jY.aa=3;var tY=function tY(a,b){if(bY(a,b))if(zX(H(b))){var d=LX;LX=B.B(hs.C(a),H(b));try{var e=J(b);return tY.B?tY.B(a,e):tY.call(null,a,e)}finally{LX=d}}else return mi.R(a,Fr,UX,iY(a,b));else return jY.B(a,b)};function uY(a,b){var c=LX;LX=B.B(hs.C(a),bo);try{return w.D(tY,a,b)}finally{LX=c}}
function lY(a){switch(arguments.length){case 2:return kY(arguments[0],arguments[1]);case 3:return vY(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function kY(a,b){a=Fr.C(a);return vY(new X(null,1,5,Z,[Array(K(b))],null),a,b)}
function vY(a,b,c){for(;;){var d=H(b);if(null==d)return a;if(sf(wq.C(d)))return hf;var e=wk(aA.C(d),c);if(sf(e)){var f=a,h=J(b),k=c;a=f;b=h;c=k}else{var m=Nf(Ph.B(function(p,u,v,z){return function(C){return B.B(z,C)}}(a,b,c,e,d),c)),n=K(c);f=function(){return function(p,u,v,z,C,E,I){return function T(P){return new vg(null,function(aa,ea,va,ua,Ma,Ka,la){return function(){for(var ya=P;;){var sa=G(ya);if(sa){var Da=sa,fb=H(Da);if(sa=G(function(zc,jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe){return function he(ge){return new vg(null,
function(ie,dk,Oi,Ky,Zo,Ul,pr,nu,ou){return function(){for(;;){var Mh=G(ge);if(Mh){if(zf(Mh)){var pu=Od(Mh),qu=K(pu),qr=zg(qu);return function(){for(var Vl=0;;)if(Vl<qu){for(var Wl=x(pu,Vl),$o=qr,ru=tc(Zo),su=0;;)if(su<ou){var tu=nu[su];null!=tu&&(ru[su]=Wl[tu]);su+=1}else break;$o.add(ru);Vl+=1}else return!0}()?Bg(Dg(qr),he(Pd(Mh))):Bg(Dg(qr),null)}var Ly=H(Mh);return Ye(function(){for(var Vl=tc(Zo),Wl=0;;)if(Wl<ou){var $o=nu[Wl];null!=$o&&(Vl[Wl]=Ly[$o]);Wl+=1}else break;return Vl}(),he(te(Mh)))}return null}}}(zc,
jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe),null,null)}}(ya,aa,ea,va,fb,Da,sa,ua,Ma,Ka,la)(wq.C(la))))return V.B(sa,T(te(ya)));ya=te(ya)}else return null}}}(p,u,v,z,C,E,I),null,null)}}(a,b,c,m,n,e,d)(a)}();h=J(b);k=c;a=f;b=h;c=k}}}function wY(a,b){return Dk(Ph.B(Ii,kY(a,b)))}
function xY(a,b){if(null!=a&&null!=a.Lf)a=a.Lf(a,b);else{var c=xY[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=xY._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("IContextResolve.-context-resolve",a);}return a}eW.prototype.Lf=function(a,b){return WX(b,this.symbol)};gW.prototype.Lf=function(a,b){return ii(b,new X(null,2,5,Z,[hs,this.symbol],null))};kW.prototype.Lf=function(){var a=B.B(ZU,this.symbol);return r(a)?a:null};jW.prototype.Lf=function(){return this.value};
function yY(a,b,c){return fi.R(function(d,e,f){if(MW(d)){e=xY(zD.C(d),b);d=Ph.B(function(k){return xY(k,b)},Fk(AD.C(d)));var h=Ph.B(function(k){return Se(k,f)},c);return Tg(e,V.B(d,new X(null,1,5,Z,[h],null)))}return e},a,H(c),Pk.P())}function zY(a){var b=sh(MW);return di(ec,Ph.D(function(c,d){return r(b.C?b.C(c):b.call(null,c))?d:null},a,Pk.P()))}
function AY(a,b,c){var d=zY(a);return function h(f){return new vg(null,function(){for(;;){var k=G(f);if(k){if(zf(k)){var m=Od(k),n=K(m),p=zg(n);a:for(var u=0;;)if(u<n){var v=x(m,u);N(v,0,null);v=N(v,1,null);v=yY(a,b,v);p.add(v);u+=1}else{m=!0;break a}return m?Bg(Dg(p),h(Pd(k))):Bg(Dg(p),null)}p=H(k);N(p,0,null);p=N(p,1,null);return Ye(yY(a,b,p),h(te(k)))}return null}},null,null)}(Zl(function(f){return Ph.B(function(h){return Se(f,h)},d)},c))}
function BY(a,b){return w.D(function(c,d){return gf.B(c,a.C?a.C(d):a.call(null,d))},kf(b),b)}function CY(a,b){var c=Ls.C(a),d=Pk.B(0,K(c));return BY(function(e){return w.D(function(f,h){return Q.D(f,Se(c,h),Se(e,h))},W,d)},b)}function DY(a,b,c){if(null!=a&&null!=a.Mf)a=a.Mf(a,b,c);else{var d=DY[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=DY._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("IPostProcess.-post-process",a);}return a}
IW.prototype.Mf=function(a,b,c){return null==b?c:CY(b,c)};JW.prototype.Mf=function(a,b,c){return ei.D(hf,Ph.C(H),c)};KW.prototype.Mf=function(a,b,c){return cf(c)};LW.prototype.Mf=function(a,b,c){return null!=b?H(CY(b,new X(null,1,5,Z,[H(c)],null))):H(c)};
function EY(a,b,c){var d=function(){return function h(f){return new vg(null,function(){for(;;){var k=G(f);if(k){if(zf(k)){var m=Od(k),n=K(m),p=zg(n);return function(){for(var v=0;;)if(v<n){var z=x(m,v),C=p;if(NW(z)){var E=xY(bw.C(z),b);z=xY(DD.C(z),b);E=EV(E,z)}else E=null;C.add(E);v+=1}else return!0}()?Bg(Dg(p),h(Pd(k))):Bg(Dg(p),null)}var u=H(k);return Ye(NW(u)?function(){var v=xY(bw.C(u),b),z=xY(DD.C(u),b);return EV(v,z)}():null,h(te(k)))}return null}},null,null)}(a)}();return function h(f){return new vg(null,
function(){for(;;){var k=G(f);if(k){var m=k;if(zf(m)){var n=Od(m),p=K(n),u=zg(p);return function(){for(var z=0;;)if(z<p){var C=x(n,z);Cg(u,fi.D(function(){return function(E,I){return r(E)?DV(E,I):I}}(z,C,n,p,u,m,k,d),d,C));z+=1}else return!0}()?Bg(Dg(u),h(Pd(m))):Bg(Dg(u),null)}var v=H(m);return Ye(fi.D(function(){return function(z,C){return r(z)?DV(z,C):C}}(v,m,k,d),d,v),h(te(m)))}return null}},null,null)}(c)}
function gG(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new re(b.slice(1),0,null):null;return FY(arguments[0],b)}
function FY(a,b){var c=TR(tX,a,function(){return sX(a)}),d=fy.C(c),e=HW(d),f=ai(EW,M([HW(d)])),h=K(e),k=cu.C(c);k=V.B(f,Ph.B(Zr,k));f=vf(a)?pX(a):a;var m=Sn.C(f);b=JX(new uX(hf,W,W,null,null,null),Xs.C(c),b);k=wY(uY(b,m),k);f=r(hE.C(f))?fi.B(function(n){return Ii(Si(n,0,h))},k):k;f=r(qh(MW,e))?AY(e,b,f):f;e=r(qh(NW,e))?EY(e,b,f):f;return DY(d,CB.C(c),e)};function GY(a,b){var c=Ch(null);Fh.B(a,function(d){d=sU(XT(new q(null,5,[Fw,d,qA,d,Zy,hf,JE,W,Fn,null],null)),b);Eh(c,d);return qA.C(d)});return y(c)}function HY(a){var b=fG;a=GY(b,a);b=jA.C(qf(b));b=null==b?null:y(b);b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);N(f,0,null);f=N(f,1,null);f.C?f.C(a):f.call(null,a);e+=1}else if(b=G(b))zf(b)?(d=Od(b),b=Pd(b),c=d,d=K(d)):(c=H(b),N(c,0,null),c=N(c,1,null),c.C?c.C(a):c.call(null,a),b=J(b),c=null,d=0),e=0;else break;return a}
function IY(a){var b=fG,c=XT(new q(null,4,[Fw,y(b),qA,a,Zy,V.B(Ph.B(function(k){return Q.D(k,Vs,!1)},vT(y(b),SA,hf)),vT(a,SA,hf)),Fn,null],null));Eh(b,a);a=G(function(){var k=jA.C(qf(b));return null==k?null:y(k)}());for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);N(h,0,null);h=N(h,1,null);h.C?h.C(c):h.call(null,c);f+=1}else if(a=G(a))zf(a)?(e=Od(a),a=Pd(a),d=e,e=K(e)):(d=H(a),N(d,0,null),d=N(d,1,null),d.C?d.C(c):d.call(null,c),a=J(a),d=null,e=0),f=0;else break}
function JY(a){var b=fG,c=Xl.P();Fh.R(jA.C(qf(b)),Q,c,a)}
for(var KY=G(new q(null,2,[Mz,function(a){return Tg(fT,a)},bB,function(a){var b=Yg(a);a=B.B(b,Yy);b=B.B(b,ny);return QT(Ph.B(function(c){var d=N(c,0,null),e=N(c,1,null),f=N(c,2,null);c=N(c,3,null);return fT.R(d,e,f,c)},b),a)}],null)),LY=null,MY=0,NY=0;;)if(NY<MY){var OY=LY.Da(null,NY),PY=N(OY,0,null),QY=N(OY,1,null),RY=PY,SY=QY;B.B(y(bN),RY);Fh.R(bN,Q,RY,SY);NY+=1}else{var TY=G(KY);if(TY){var UY=TY;if(zf(UY)){var VY=Od(UY),WY=Pd(UY),XY=VY,YY=K(VY);KY=WY;LY=XY;MY=YY}else{var ZY=H(UY),$Y=N(ZY,0,null),
aZ=N(ZY,1,null),bZ=$Y,cZ=aZ;B.B(y(bN),bZ);Fh.R(bN,Q,bZ,cZ);KY=J(UY);LY=null;MY=0}NY=0}else break};var dZ={},eZ={},fZ=[];function gZ(a,b){var c=eZ[a];if(void 0!==c)return c;try{fZ.push(a);var d=dZ[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};dZ[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ca,gZ,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{fZ.pop()}return d.exports}gZ.cache={};gZ.resolve=function(a){return a};
function hZ(a){return gZ(a,{})};var iZ=hZ(3);var jZ={};var kZ={},lZ="undefined"!==typeof window&&null!=window.document,mZ=new zk(null,new q(null,2,["aria",null,"data",null],null),null);function nZ(a){return 2>K(a)?a.toUpperCase():[kg.D(a,0,1).toUpperCase(),kg.B(a,1)].join("")}function oZ(a){if("string"===typeof a)return a;a=ug(a);var b=QE(a,/-/),c=G(b);b=H(c);c=J(c);return r(mZ.C?mZ.C(b):mZ.call(null,b))?a:Ug(t,b,Ph.B(nZ,c))}
function pZ(a){var b=function(){var c=function(){var d=nf(a);if(d){d=a.displayName;if(r(d))return d;d=a.name;return"string"===typeof d&&G(d)?d:null}return d}();if(r(c))return c;c=function(){var d=null!=a?a.T&4096||l===a.lh?!0:!1:!1;return d?ug(a):d}();if(r(c))return c;c=qf(a);return wf(c)?Gt.C(c):null}();return r(b)?NE(t.C(b),"$","."):null}function qZ(a){return a instanceof D||a instanceof A}
var rZ=function rZ(a){switch(arguments.length){case 0:return rZ.P();case 1:return rZ.C(arguments[0]);case 2:return rZ.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return rZ.I(arguments[0],arguments[1],c)}};rZ.P=function(){return null};rZ.C=function(a){return tf(a)?(a=Ah(function(b){return r(b)?qZ(b)?ug(b):b:null},a),G(a)?OE(" ",a):null):qZ(a)?ug(a):a};
rZ.B=function(a,b){return r(a)?r(b)?[t.C(rZ.C(a))," ",t.C(rZ.C(b))].join(""):rZ.C(a):rZ.C(b)};rZ.I=function(a,b,c){return w.D(rZ,rZ.B(a,b),c)};rZ.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};rZ.aa=2;var sZ=!1;function tZ(a){if(wf(a))try{var b=B.B(a,XD)}catch(c){b=null}else b=null;return b}
function uZ(a){var b=XD.C(qf(a));if(r(b))return b;b=tZ(N(a,1,null));if(r(b))return b;b=N(a,0,null);switch(b instanceof D?b.ba:null){case "\x3e":case "f\x3e":return tZ(N(a,2,null));case "r\x3e":return a=N(a,2,null),null==a?null:a.key;default:return null}};var vZ=0;function wZ(a){return setTimeout(a,16)}var xZ=lZ?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(r(b))return b;b=a.webkitRequestAnimationFrame;if(r(b))return b;b=a.mozRequestAnimationFrame;if(r(b))return b;b=a.msRequestAnimationFrame;return r(b)?b:wZ}().bind(a)}():wZ;function yZ(a,b){return a.wh-b.wh}function zZ(){return null}function AZ(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.P?d.P():d.call(null);c+=1}else return null}
function BZ(a,b,c){b.push(c);return a.schedule()}function CZ(){this.Ug=!1}g=CZ.prototype;g.flush_after_render=function(){var a=this.kg;if(null==a)return null;this.kg=null;return AZ(a)};g.queue_render=function(a){null==this.zg&&(this.zg=[]);return BZ(this,this.zg,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Ug)return null;this.Ug=!0;return xZ.C?xZ.C(a):xZ.call(null,a)};g.flush_before_flush=function(){var a=this.lg;if(null==a)return null;this.lg=null;return AZ(a)};
g.flush_queues=function(){this.flush_before_flush();zZ();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.Ug=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.lg&&(this.lg=[]);return BZ(this,this.lg,a)};g.add_after_render=function(a){null==this.kg&&(this.kg=[]);return BZ(this,this.kg,a)};
g.flush_render=function(){var a=this.zg;if(null==a)return null;this.zg=null;a:{a.sort(yZ);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var DZ=new CZ;function EZ(a){if(r(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return DZ.queue_render(a)};function FZ(a){if(null!=a&&null!=a.Nl)a=a.id;else{var b=FZ[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=FZ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("Compiler.get-id",a);}return a}function GZ(a,b,c){if(null!=a&&null!=a.pj)a=a.pj(a,b,c);else{var d=GZ[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=GZ._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("Compiler.parse-tag",a);}return a}
function HZ(a,b){if(null!=a&&null!=a.nj)a=a.nj(a,b);else{var c=HZ[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=HZ._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("Compiler.as-element",a);}return a}
function IZ(a,b,c,d,e){if(null!=a&&null!=a.oj)a=a.oj(a,b,c,d,e);else{var f=IZ[ha(null==a?null:a)];if(null!=f)a=f.ma?f.ma(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=IZ._,null!=f)a=f.ma?f.ma(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw oc("Compiler.make-element",a);}return a};var JZ;function KZ(a,b){b.fh=null;a:{var c=JZ;JZ=b;try{var d=a.P?a.P():a.call(null);break a}finally{JZ=c}d=void 0}a=b.fh;b.Be=!1;a:{c=b.Xe;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function LZ(a){var b=JZ;if(null!=b){var c=b.fh;null==c?b.fh=[a]:c.push(a)}}function MZ(a,b,c){a.bc=Q.D(a.bc,b,c);return a.li=null}function NZ(a,b){a.bc=R.B(a.bc,b);return a.li=null}
function OZ(a,b,c){var d=a.li;d=null==d?a.li=Rf(function(m,n,p){m.push(n);m.push(p);return m},[],a.bc):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.R?k.R(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function PZ(a,b,c,d){xd(a,["#object[reagent.ratom.",t.C(c)," "].join(""));a:{c=JZ;JZ=null;try{var e=d;break a}finally{JZ=c}e=void 0}il(e,a,b);return xd(a,"]")}var QZ=null;function RZ(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.bc=d;this.O=2154201088;this.T=114690}g=RZ.prototype;
g.ia=function(a,b,c){return PZ(b,c,"RAtom",new q(null,1,[xl,this.Vb(null)],null))};g.ga=function(){return this.meta};g.ja=function(){return ka(this)};g.da=function(a,b){return this===b};g.Ed=function(a,b){a=this.state;this.state=b;null!=this.bc&&OZ(this,a,b);return b};g.mh=function(a,b){return this.Ed(null,b.C?b.C(this.state):b.call(null,this.state))};g.nh=function(a,b,c){return this.Ed(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};
g.oh=function(a,b,c,d){return this.Ed(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.ph=function(a,b,c,d,e){return this.Ed(null,Wg(b,this.state,c,d,e))};g.rh=function(a,b){OZ(this,a,b)};g.sg=function(a,b,c){return MZ(this,b,c)};g.tg=function(a,b){return NZ(this,b)};g.ha=function(a,b){return new RZ(this.state,b,this.validator,this.bc)};g.Vb=function(){LZ(this);return this.state};
var SZ=function SZ(a){switch(arguments.length){case 1:return SZ.C(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(1),0,null);return SZ.I(arguments[0],c)}};SZ.C=function(a){return new RZ(a,null,null,null)};SZ.I=function(a,b){var c=Yg(b);b=B.B(c,ac);c=B.B(c,aq);return new RZ(a,b,c,null)};SZ.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};SZ.aa=1;
function TZ(a){var b=UZ,c=a.Xh;c=null==c?W:c;var d=c.B?c.B(iy,null):c.call(null,iy,null);if(null!=d)return y(d);if(null==JZ)return uc.P?uc.P():uc.call(null);d=function(){function f(h){var k=R.B(a.Xh,iy);a.Xh=k;return null!=b?b.C?b.C(h):b.call(null,h):null}return VZ.D?VZ.D(uc,Ov,f):VZ.call(null,uc,Ov,f)}();var e=y(d);a.Xh=Q.D(c,iy,d);return e}function UZ(a){a=a.destroy;return null==a?null:a.P?a.P():a.call(null)}function WZ(){var a=JZ;return null==a?[]:TZ(a)}
function XZ(a){if(null!=a&&null!=a.Yh)a=a.Yh(a);else{var b=XZ[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=XZ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("IDisposable.dispose!",a);}return a}function YZ(a,b,c,d){return a._handle_change(b,c,d)}function ZZ(a){this.f=a;this.state=null;this.Be=!0;this.gj=!1;this.gh=this.Ud=this.bc=this.Xe=null;this.O=2153807872;this.T=114690}g=ZZ.prototype;g._peek_at=function(){var a=JZ;JZ=null;try{return this.Vb(null)}finally{JZ=a}};
g._handle_change=function(a,b,c){return b===c||this.Be?null:null==this.Ud?(this.Be=!0,null==QZ&&(QZ=[],!1===DZ.Ug&&DZ.schedule()),QZ.push(this)):!0===this.Ud?this._run(!1):this.Ud.C?this.Ud.C(this):this.Ud.call(null,this)};
g._update_watching=function(a){var b=Dk(a),c=Dk(this.Xe);this.Xe=a;a=G(tI.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);Dd(h,this,YZ);f+=1}else if(a=G(a))d=a,zf(d)?(a=Od(d),f=Pd(d),d=a,e=K(a),a=f):(a=H(d),Dd(a,this,YZ),a=J(d),d=null,e=0),f=0;else break;b=G(tI.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.Da(null,e),Ed(a,this),e+=1;else if(b=G(b))c=b,zf(c)?(b=Od(c),d=Pd(c),c=b,a=K(b),b=d,d=a):(a=H(c),Ed(a,this),b=J(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.Be&&null!=this.Xe?this._run(!0):null};g._try_capture=function(a){try{return this.gh=null,KZ(a,this)}catch(b){return this.gh=this.state=a=b,this.Be=!1}};g._run=function(a){var b=this.state;a=r(a)?this._try_capture(this.f):KZ(this.f,this);this.gj||(this.state=a,null==this.bc||F.B(b,a)||OZ(this,b,a));return a};
g._set_opts=function(a){var b=Yg(a);a=B.B(b,xA);var c=B.B(b,qD),d=B.B(b,Ov);b=B.B(b,Jw);null!=a&&(this.Ud=a);null!=c&&(this.Cl=c);null!=d&&(this.kj=d);return null!=b?this.gj=b:null};g.ia=function(a,b,c){return PZ(b,c,"Reaction",new q(null,1,[xl,this.Vb(null)],null))};g.ja=function(){return ka(this)};g.da=function(a,b){return this===b};
g.Yh=function(){var a=this.state,b=this.Xe;this.Ud=this.state=this.Xe=null;this.Be=!0;b=G(Dk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);Ed(f,this);e+=1}else if(b=G(b))c=b,zf(c)?(b=Od(c),e=Pd(c),c=b,d=K(b),b=e):(b=H(c),Ed(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.kj&&this.kj(a);a=this.zm;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.C?d.C(this):d.call(null,this),c+=1;else return null};g.Ed=function(a,b){a=this.state;this.state=b;this.Cl(a,b);OZ(this,a,b);return b};
g.mh=function(a,b){a=this.Ed;var c=this._peek_at();b=b.C?b.C(c):b.call(null,c);return a.call(this,null,b)};g.nh=function(a,b,c){a=this.Ed;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.oh=function(a,b,c,d){a=this.Ed;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.ph=function(a,b,c,d,e){return this.Ed(null,Wg(b,this._peek_at(),c,d,e))};g.rh=function(a,b){OZ(this,a,b)};g.sg=function(a,b,c){return MZ(this,b,c)};
g.tg=function(a,b){a=sf(this.bc);NZ(this,b);return!a&&sf(this.bc)&&null==this.Ud?this.Yh(null):null};g.Vb=function(){var a=this.gh;if(null!=a)throw a;(a=null==JZ)&&($Z.P?$Z.P():$Z.call(null));a&&null==this.Ud?this.Be&&(a=this.state,this.state=this.f.P?this.f.P():this.f.call(null),null==this.bc||F.B(a,this.state)||OZ(this,a,this.state)):(LZ(this),this.Be&&this._run(!1));return this.state};
function $Z(){for(;;){var a=QZ;if(null==a)return null;QZ=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}zZ=$Z;function VZ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new re(b.slice(1),0,null):null;b=arguments[0];var e=Yg(c);c=B.B(e,xA);d=B.B(e,qD);e=B.B(e,Ov);b=new ZZ(b);b._set_opts(new q(null,3,[xA,c,qD,d,Ov,e],null));return b}var a_=VZ(null);
function b_(a,b){var c=c_,d=a_,e=KZ(a,d);null!=d.Xe&&(a_=VZ(null),d._set_opts(c),d.f=a,d.Ud=function(){return EZ.C?EZ.C(b):EZ.call(null,b)},b.cljsRatom=d);return e};var d_;function e_(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=Ua(b),e=d.length,f=W,h=0;;)if(h<e){var k=d[h];f=Q.D(f,tg.C(k),Va(b,k));h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function f_(a){var b;if(b=nf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.Ge);return b}function g_(a){var b;if(b=nf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.render);return b}
function h_(a,b){for(;;){var c=a.Ge,d=!0===a.pk?c.call(a,a):function(){var e=e_(a,a.props);switch(K(e)){case 1:return c.call(a);case 2:return c.call(a,Se(e,1));case 3:return c.call(a,Se(e,1),Se(e,2));case 4:return c.call(a,Se(e,1),Se(e,2),Se(e,3));case 5:return c.call(a,Se(e,1),Se(e,2),Se(e,3),Se(e,4));default:return c.apply(a,vc(e).slice(1))}}();if(yf(d))return HZ(b,d);if(Ff(d))d=f_(d)?function(e,f,h,k,m){return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-
0);v<z.length;)z[v]=arguments[v+0],++v;v=new re(z,0,null)}return p.call(this,v)}function p(u){return HZ(f,Ug(Mi,m,u))}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()}(a,b,c,null,d):d,a.Ge=d;else return d}}var c_=new q(null,1,[Jw,!0],null);
function i_(a,b){switch(a instanceof D?a.ba:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=N(f,1,null),c=wf(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.rk;d=null!=d?d:c.rk=SZ.C(null);return Eh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,e_(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,e_(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,e_(this,c))};case "shouldComponentUpdate":return function(c){var d=sZ;if(r(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return Zg.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,e_(this,this.props),e_(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,e_(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,e_(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,e_(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=Va(this,"cljsRatom");null!=c&&XZ(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var j_=new q(null,2,[tE,null,OB,null],null),k_=function(a){var b=Ch(W);return function(c){var d=B.B(y(b),c);if(null!=d)return d;d=a.C?a.C(c):a.call(null,c);Fh.R(b,Q,c,d);return d}}(function(a){if("string"===typeof a)return a;a=ug(a);a=NE(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=QE(a,/-/);var b=G(a);a=H(b);b=J(b);return Ug(t,a,Ph.B(nZ,b))});function l_(a){return Rf(function(b,c,d){return Q.D(b,tg.C(k_(c)),d)},W,a)}
function m_(a,b){var c=function(){var h=jp.C(a);return r(h)?h:rA.C(a)}(),d=null==jp.C(a),e=function(){var h=AC.C(a);if(r(h))return h;h=pZ(c);return r(h)?h:t.C(Bl("reagent"))}(),f=Rf(function(h,k,m){var n=Q.D,p=i_(k,m);return n.call(Q,h,k,r(p)?p:m)},W,a);return Q.I(f,AC,e,M([Ty,d,jp,c,rA,function(){var h=this,k=Va(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?b_(function(){a:{var m=d_;d_=h;try{var n=h_(h,b);break a}finally{d_=m}n=void 0}return n},h):k._run(!1)}]))}
function n_(a){return Rf(function(b,c,d){c=ug(c);b[c]=d;return b},{},a)}function o_(a,b){return m_(uk.I(M([j_,l_(a)])),b)}var p_=new X(null,5,5,Z,[NA,Tz,Yr,es,IC],null);
function q_(a,b){function c(k,m,n){iZ.Component.call(this,k,m,n);r(h)&&(h.B?h.B(this,k):h.call(null,this,k));r(f)&&(this.state=f.C?f.C(this):f.call(null,this));this.wh=vZ+=1;return this}a=o_(a,b);b=n_(Xg(R,a,AC,rn,Vq,M([rA,jp,p_])));var d=n_(wk(a,p_)),e=AC.C(a),f=rn.C(a),h=Vq.C(a);Xa(c.prototype,iZ.Component.prototype,b);r(rA.C(a))&&(c.prototype.render=rA.C(a));r(jp.C(a))&&(c.prototype.Ge=jp.C(a));r(Ty.C(a))&&(c.prototype.pk=Ty.C(a));Xa(c,iZ.Component,d);r(e)&&(c.displayName=e,c.Sa=e,c.Za=function(k){return xd(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Wa=!0;return c.prototype.constructor=c}function r_(a,b,c){a=FZ(a);return b[a]=c}function s_(a,b){var c=Va(a,FZ(b));null==c?f_(a)?a=r_(b,a,a):(c=qf(a),c=Q.D(c,vB,a),c=q_(c,b),a=r_(b,a,c)):a=c;return a}
function t_(a,b){for(;;){var c=b.Ge,d=b.argv,e=Tg(c,d);if(yf(e))return HZ(a,e);if(Ff(e))c=f_(e)?function(f,h,k,m,n,p){return function(){function u(z){var C=null;if(0<arguments.length){C=0;for(var E=Array(arguments.length-0);C<E.length;)E[C]=arguments[C+0],++C;C=new re(E,0,null)}return v.call(this,C)}function v(z){return HZ(f,Ug(Mi,p,z))}u.aa=0;u.fa=function(z){z=G(z);return v(z)};u.I=v;return u}()}(a,b,c,null,d,e):e,b.Ge=c;else return e}}
function u_(a,b){var c=b.argv,d=b.Ge;b=iZ.useState(0);N(b,0,null);var e=N(b,1,null),f=iZ.useRef();r(f.current)||function(){var k={forceUpdate:function(){return e.C?e.C(De):e.call(null,De)}};k.wh=vZ+=1;k.constructor=d;k.Ge=d;return f.current=k}();var h=f.current;b=Va(h,"cljsRatom");iZ.useEffect(function(){return function(){var k=Va(h,"cljsRatom");return null==k?null:XZ(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?b_(function(){a:{var k=d_;d_=h;try{var m=t_(a,h);break a}finally{d_=k}m=void 0}return m},
h):b._run(!1)}function v_(a,b){a=a.argv;b=b.argv;var c=!1===sZ;if(c)try{return F.B(a,b)}catch(d){return!1}else return c}function w_(a,b){function c(e){return u_(a,e)}var d=Va(b,FZ(a));if(r(d))return d;d=pZ(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=iZ.memo(c,v_);r_(a,b,d);return d};var x_=new zk(null,new q(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function y_(a,b,c,d){var e=Yg(W);e=B.B(e,Dz);if(a===document.activeElement&&S(x_,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(Zg.B(f,c))return DZ.add_after_render(function(){return z_.C?z_.C(d):z_.call(null,d)});c=K(f)-a.selectionStart;c=K(b)-c;d.xg=b;a.value=b;nf(e)&&(e.C?e.C(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.xg=b;a.value=b;return nf(e)?e.C?e.C(b):e.call(null,b):null}
function z_(a){if(r(a.vh)){a.Ni=!1;var b=a.qk,c=a.xg,d=a.Hh;return Zg.B(b,c)?y_(d,b,c,a):null}return null}function A_(a,b,c){a.xg=c.target.value;r(a.Ni)||(a.Ni=!0,DZ.add_after_render(function(){return z_(a)}));return b.C?b.C(c):b.call(null,c)}
function B_(a){var b=d_;if(r(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),r(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;r(b.vh)||(b.vh=!0,b.xg=c);r(b.qj)||(b.qj=nf(e)?function(f){b.Hh=f;return e.C?e.C(f):e.call(null,f)}:r(r(e)?e.hasOwnProperty("current"):e)?function(f){b.Hh=f;return e.current=f}:function(f){return b.Hh=f});b.qk=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return A_(b,d,f)};a.ref=b.qj}}
var C_=new q(null,4,[is,"ReagentInput",ED,z_,ko,function(a){return a.vh=null},vB,function(a,b,c,d,e){B_(c);return IZ(e,a,b,c,d)}],null);var D_={},E_,F_=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,G_={"class":"className","for":"htmlFor",charset:"charSet"};function H_(a,b){return a.hasOwnProperty(b)?Va(a,b):null}function I_(a,b,c){if(qZ(b)){var d=H_(G_,ug(b));null==d?(d=oZ(b),b=ug(b),b=G_[b]=d):b=d}c=J_.C?J_.C(c):J_.call(null,c);a[b]=c;return a}
function J_(a){return"object"!==ha(a)?a:qZ(a)?ug(a):wf(a)?Rf(I_,{},a):tf(a)?Nl(a):Ff(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new re(f,0,null)}return c.call(this,e)}function c(d){return Tg(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}():Nl(a)}var K_={};function L_(a,b,c){if(qZ(b)){var d=H_(K_,ug(b));null==d?(d=oZ(b),b=ug(b),b=K_[b]=d):b=d}c=J_(c);a[b]=c;return a}
function M_(a){return"object"!==ha(a)?a:qZ(a)?ug(a):wf(a)?Rf(L_,{},a):tf(a)?Nl(a):Ff(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new re(f,0,null)}return c.call(this,e)}function c(d){return Tg(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}():Nl(a)}
function N_(a,b,c,d,e){switch(K(b)-e){case 0:return iZ.createElement(c,d);case 1:return iZ.createElement(c,d,HZ(a,N(b,e,null)));default:return iZ.createElement.apply(null,Rf(function(f,h,k){h>=e&&f.push(HZ(a,k));return f},[c,d],b))}}function O_(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.xk=d}function P_(a,b,c){a=s_(a,c);c={};c.argv=b;b=uZ(b);null!=b&&(c.key=b);return iZ.createElement(a,c)}
function Q_(a,b,c,d){var e={};e.Ge=a;e.argv=Si(b,c,K(b));b=uZ(b);null!=b&&(e.key=b);return iZ.createElement(w_(d,a),e)}function R_(a,b,c){return g_(a)?P_(a,b,c):Q_(a,b,1,c)}var S_={};function T_(a,b){a=H_(S_,b);if(null==a){var c=J(Wk(F_,ug(b)));a=N(c,0,null);var d=N(c,1,null);c=N(c,2,null);c=null==c?null:NE(c,/\./," ");var e=Zg.B(-1,a.indexOf("-"));a=new O_(a,d,c,e);return S_[b]=a}return a}
function U_(a,b,c,d){var e=a.tag,f=N(b,c,null),h=null==f||wf(f),k=function(){var p=h?f:null;var u=SC.C(p);u=r(u)?Q.D(p,SC,rZ.C(u)):p;var v=a.id;p=a.className;v=null!=v&&null==vE.C(u)?Q.D(u,vE,v):u;if(r(p)){var z=Q.D,C=rZ.B,E=SC.C(u);u=r(E)?E:ss.C(u);p=z.call(Q,v,SC,C.call(rZ,p,u))}else p=v;p=r(a.xk)?M_(p):J_(p);return r(p)?p:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m){m=tZ(f);var n=function(){var p=d.Ol;if(r(p))return p;p=q_(C_,d);return d.Ol=p}();return HZ(d,
pf(new X(null,6,5,Z,[n,b,e,k,c,d],null),uk.I(M([r(m)?new q(null,1,[XD,m],null):null,qf(b)]))))}m=tZ(qf(b));null!=m&&(k.key=m);return IZ(d,b,e,k,c)}function V_(a,b){return vc(Ph.B(function(c){return HZ(b,c)},a))}
function W_(a,b,c){null==b&&console.error("vec-to-elem",ql.I(M([a])));var d=N(a,0,null);switch(d instanceof D?d.ba:null){case "\x3e":return c=N(a,1,null),U_(new O_(c,null,null,null),a,2,b);case "r\x3e":c=N(a,1,null);d=N(a,2,null);d=r(d)?d:{};var e=tZ(qf(a));null!=e&&(d.key=e);return IZ(b,a,c,d,3);case "f\x3e":return Q_(N(a,1,null),a,2,b);case "\x3c\x3e":return d=N(a,1,null),c=null==d||wf(d),d=J_(c?d:null),d=r(d)?d:{},c=1+(c?1:0),e=uZ(a),null!=e&&(d.key=e),IZ(b,a,iZ.Fragment,d,c);default:if(qZ(d)||
"string"===typeof d)a:for(;;)switch(c=N(a,0,null),d=ug(c),e=d.indexOf("\x3e"),e){case -1:b=U_(GZ(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=pf(new X(null,2,5,Z,[kg.D(d,0,e),Q.D(pf(a,null),0,kg.B(d,e+1))],null),qf(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var X_=function(a){var b=Bl("reagent-compiler"),c=r(lx.C(a))?R_:P_,d=B.D(a,ys,T_);if("undefined"===typeof jZ||"undefined"===typeof kZ||"undefined"===typeof D_||"undefined"===typeof E_)E_=function(e,f,h,k,m){this.zb=e;this.id=f;this.Yi=h;this.Pg=k;this.fl=m;this.O=393216;this.T=0},E_.prototype.ha=function(e,f){return new E_(this.zb,this.id,this.Yi,this.Pg,f)},E_.prototype.ga=function(){return this.fl},E_.prototype.Nl=function(){return this.id},E_.prototype.pj=function(e,f,h){return this.Pg.D?this.Pg.D(this,
f,h):this.Pg.call(null,this,f,h)},E_.prototype.nj=function(e,f){e=this.Yi;return"object"!==ha(f)?f:yf(f)?W_(f,this,e):Cf(f)?V_(f,this):qZ(f)?ug(f):(null!=f?f.O&2147483648||l===f.Na||(f.O?0:mc(zd,f)):mc(zd,f))?ql.I(M([f])):f},E_.prototype.oj=function(e,f,h,k,m){return N_(this,f,h,k,m)},E_.Wa=!0,E_.Sa="reagent.impl.template/t_reagent$impl$template41022",E_.Za=function(e){return xd(e,"reagent.impl.template/t_reagent$impl$template41022")};return new E_(a,b,c,d,W)}(W);function Y_(a){return g_(a)?a:s_(a,X_)};var Z_=hZ(12);var $_=Ch(W);function a0(a,b,c){var d=sZ;sZ=!0;try{return Z_.render(a.P?a.P():a.call(null),b,function(){var e=sZ;sZ=!1;try{return Fh.R($_,Q,b,a),DZ.flush_after_render(),null!=c?c.P?c.P():c.call(null):null}finally{sZ=e}})}finally{sZ=d}}function b0(a,b){$Z();var c=nf(X_)?new X(null,2,5,Z,[X_,X_],null):new X(null,2,5,Z,[X_,Tx.C(X_)],null),d=N(c,0,null);c=N(c,1,null);return a0(function(){return HZ(d,nf(a)?a.P?a.P():a.call(null):a)},b,c)};function c0(a){return(null!=a?a.O&131072||l===a.yf||(a.O?0:mc(fd,a)):mc(fd,a))?qf(a):null}function d0(a,b){return(null!=a?a.O&262144||l===a.xm||(a.O?0:mc(hd,a)):mc(hd,a))?pf(a,b):a}function Nh(a){return dy.C(c0(a))}function Oh(a){return dt.C(c0(a))}function e0(a){if(!hc(xu.C(c0(a)))){var b=qf(a);b=R.B?R.B(b,xu):R.call(null,b,xu);a=pf(a,b)}return a}
function f0(a,b){return null==a?b:null==b?e0(a):r(xu.C(c0(a)))?b:r(function(){var c=Nh(a);return r(c)?Nh(b):c}())?d0(b,uk.I(M([c0(a),c0(b)]))):r(function(){var c=Oh(a);return r(c)?Oh(b):c}())?d0(b,uk.I(M([c0(a),c0(b)]))):r(function(){var c=Nh(a);return r(c)?c:Oh(b)}())?d0(b,uk.I(M([R.B(c0(a),dy),R.B(c0(b),dt)]))):r(function(){var c=Oh(a);return r(c)?c:Nh(b)}())?d0(a,uk.I(M([R.B(c0(b),dy),R.B(c0(a),dt)]))):null}
var g0=function g0(a){switch(arguments.length){case 0:return g0.P();case 1:return g0.C(arguments[0]);case 2:return g0.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new re(c.slice(2),0,null);return g0.I(arguments[0],arguments[1],c)}};g0.P=function(){return W};g0.C=function(a){return a};
g0.B=function(a,b){var c=qh(Lh(),new X(null,2,5,Z,[a,b],null));c=r(c)?c:xu.C(c0(a));Ef(c)?a=f0(a,b):wf(a)&&wf(b)?a=vk.I(g0,M([a,b])):uf(a)&&uf(b)?a=rI(b,a):tf(a)&&tf(b)?(c=Bz.C(qf(a)),c=r(c)?c:Bz.C(qf(b)),a=r(c)?pf(ei.B(kf(a),V.B(b,a)),uk.I(M([qf(a),wk(qf(b),new X(null,1,5,Z,[dy],null))]))):ei.B(kf(a),V.B(a,b))):a=b;return a};g0.I=function(a,b,c){return w.D(g0,a,Ye(b,c))};g0.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};g0.aa=2;var h0={};function i0(a,b){throw sm(t.C(a),new q(null,2,[to,a,Tm,b],null));}var j0=function(){var a=Ch(W),b=Ch(W),c=Ch(W),d=Ch(W),e=B.D(W,Qr,am.P?am.P():am.call(null));return new mm(ne.B("reitit.exception","format-exception"),function(f){return f},e,a,b,c,d)}();function k0(a){var b=a instanceof rm?a.data:null,c=j0.D(to.C(b),a instanceof Error?a.message:null,Tm.C(b));return sm(c,Q.D(r(b)?b:W,dv,a))}j0.mb(null,nm,function(a,b,c){return[t.C(b),r(c)?["\n\n",ql.I(M([c]))].join(""):null].join("")});
j0.mb(null,Zq,function(a,b,c){function d(e,f){return[r(Hu.C(f))?"   ":"-\x3e ",t.C(e)," ",t.C($g(wk(f,new X(null,1,5,Z,[Hu],null))))].join("")}return Ug(t,"Router contains conflicting route paths:\n\n",fi.B(function(e){var f=N(e,0,null),h=N(f,0,null);f=N(f,1,null);e=N(e,1,null);return[t.C(d(h,f)),"\n",OE("\n",fi.B(function(k){var m=N(k,0,null);k=N(k,1,null);return d(m,k)},e)),"\n\n"].join("")},c))});
j0.mb(null,Hx,function(a,b,c){return Ug(t,"Router contains conflicting route names:\n\n",fi.B(function(d){var e=N(d,0,null);d=N(d,1,null);return[t.C(e),"\n-\x3e ",OE("\n-\x3e ",fi.B(H,d)),"\n"].join("")},c))});j0.mb(null,ap,function(a,b,c){return["Error merging route-data\n\n",ql.I(M([c]))].join("")});var l0={},m0,n0,o0,p0,q0,r0;function s0(a){return uf(a)||vf(a)?Dk(a):null==a?Bk:gf.B(Bk,a)}function t0(a,b,c,d){this.value=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=t0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#reitit.trie.Wild{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[fs,this.value],null)],null),this.F))};g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[fs],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new t0(this.value,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1970880185^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.value,b.value)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,1,[fs,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new t0(this.value,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(fs,b):U.call(null,fs,b))?new t0(c,this.G,this.F,null):new t0(this.value,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(fs,this.value,null)],null),this.F))};g.ha=function(a,b){return new t0(this.value,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function u0(a,b,c,d){this.value=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=u0.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#reitit.trie.CatchAll{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[fs,this.value],null)],null),this.F))};
g.qa=function(){return new cj(this,1,new X(null,1,5,Z,[fs],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new u0(this.value,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-987265038^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.value,b.value)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,1,[fs,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new u0(this.value,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(fs,b):U.call(null,fs,b))?new u0(c,this.G,this.F,null):new u0(this.value,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(fs,this.value,null)],null),this.F))};
g.ha=function(a,b){return new u0(this.value,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function v0(a,b,c,d,e){this.params=a;this.data=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=v0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "params":return this.params;case "data":return this.data;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#reitit.trie.Match{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[vq,this.params],null),new X(null,2,5,Z,[Tm,this.data],null)],null),this.F))};g.qa=function(){return new cj(this,2,new X(null,2,5,Z,[vq,Tm],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new v0(this.params,this.data,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1117628764^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.params,b.params)&&F.B(this.data,b.data)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new zk(null,new q(null,2,[vq,null,Tm,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new v0(this.params,this.data,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "params":case "data":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(vq,b):U.call(null,vq,b))?new v0(c,this.data,this.G,this.F,null):r(U.B?U.B(Tm,b):U.call(null,Tm,b))?new v0(this.params,c,this.G,this.F,null):new v0(this.params,this.data,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(vq,this.params,null),new Y(Tm,this.data,null)],null),this.F))};
g.ha=function(a,b){return new v0(this.params,this.data,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function w0(a,b,c,d,e,f,h,k){this.children=a;this.nd=b;this.Xc=c;this.params=d;this.data=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=w0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "children":return this.children;case "wilds":return this.nd;case "catch-all":return this.Xc;case "params":return this.params;case "data":return this.data;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#reitit.trie.Node{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[lz,this.children],null),new X(null,2,5,Z,[Io,this.nd],null),new X(null,2,5,Z,[Rr,this.Xc],null),new X(null,2,5,Z,[vq,this.params],null),new X(null,2,5,Z,[Tm,this.data],null)],null),this.F))};g.qa=function(){return new cj(this,5,new X(null,5,5,Z,[lz,Io,Rr,vq,Tm],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new w0(this.children,this.nd,this.Xc,this.params,this.data,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=33004208^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.children,b.children)&&F.B(this.nd,b.nd)&&F.B(this.Xc,b.Xc)&&F.B(this.params,b.params)&&F.B(this.data,b.data)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,5,[lz,null,vq,null,Io,null,Rr,null,Tm,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new w0(this.children,this.nd,this.Xc,this.params,this.data,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "children":case "wilds":case "catch-all":case "params":case "data":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(lz,b):U.call(null,lz,b))?new w0(c,this.nd,this.Xc,this.params,this.data,this.G,this.F,null):r(U.B?U.B(Io,b):U.call(null,Io,b))?new w0(this.children,c,this.Xc,this.params,this.data,this.G,this.F,null):r(U.B?U.B(Rr,b):U.call(null,Rr,b))?new w0(this.children,this.nd,c,this.params,this.data,this.G,this.F,null):r(U.B?U.B(vq,b):U.call(null,vq,b))?new w0(this.children,this.nd,this.Xc,c,this.data,this.G,this.F,null):r(U.B?U.B(Tm,b):U.call(null,Tm,b))?new w0(this.children,
this.nd,this.Xc,this.params,c,this.G,this.F,null):new w0(this.children,this.nd,this.Xc,this.params,this.data,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(lz,this.children,null),new Y(Io,this.nd,null),new Y(Rr,this.Xc,null),new Y(vq,this.params,null),new Y(Tm,this.data,null)],null),this.F))};g.ha=function(a,b){return new w0(this.children,this.nd,this.Xc,this.params,this.data,b,this.F,this.J)};
g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};function x0(a,b,c,d){if(null!=a&&null!=a.nf)a=a.nf(a,b,c,d);else{var e=x0[ha(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=x0._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw oc("Matcher.match",a);}return a}
function y0(a){if(null!=a&&null!=a.lf)a=a.lf(a);else{var b=y0[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=y0._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("Matcher.depth",a);}return a}function z0(a){if(null!=a&&null!=a.mf)a=a.mf(a);else{var b=z0[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=z0._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("Matcher.length",a);}return a}
function A0(a,b,c){if(null!=a&&null!=a.tj)a=a.tj(a,b,c);else{var d=A0[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=A0._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("TrieCompiler.data-matcher",a);}return a}
function B0(a,b,c){if(null!=a&&null!=a.vj)a=a.vj(a,b,c);else{var d=B0[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=B0._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("TrieCompiler.static-matcher",a);}return a}
function C0(a,b,c,d){if(null!=a&&null!=a.wj)a=a.wj(a,b,c,d);else{var e=C0[ha(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=C0._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw oc("TrieCompiler.wild-matcher",a);}return a}
function D0(a,b,c,d){if(null!=a&&null!=a.sj)a=a.sj(a,b,c,d);else{var e=D0[ha(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=D0._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw oc("TrieCompiler.catch-all-matcher",a);}return a}
function E0(a,b,c){if(null!=a&&null!=a.uj)a=a.uj(a,b,c);else{var d=E0[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=E0._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("TrieCompiler.linear-matcher",a);}return a}function F0(a,b){if(null!=a&&null!=a.rj)a=a.rj(a,b);else{var c=F0[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=F0._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("TrieCompiler.-path-matcher",a);}return a}
function G0(a,b,c){var d=vq.C(a);return Q.D(a,vq,Q.D(d,b,c))}function H0(a,b){var c=K(a);var d=K(b);c=c<d?c:d;for(d=0;;){if(d>c)return kg.D(a,0,c);if(Zg.B(B.B(a,d),B.B(b,d)))return 0!==d?kg.D(a,0,d):null;d+=1}}
function I0(a,b){function c(p,u){return new X(null,1,5,Z,[new u0(tg.C(kg.D(a,p+1,u)),null,null,null)],null)}function d(p,u){var v=Z;p=kg.D(a,p+1,u);u=XE(p);p=r(u)?tg.B(kg.D(p,0,u),kg.B(p,u+1)):tg.C(p);return new X(null,1,5,v,[new t0(p,null,null,null)],null)}function e(p,u){return F.B(p,u)?null:new X(null,1,5,Z,[kg.D(a,p,u)],null)}b=Yg(b);var f=B.D(b,XA,new zk(null,new q(null,2,[ir,null,Qu,null],null),null));b=Qu.C(s0(f));f=ir.C(s0(f));for(var h=null,k=0,m=0;;){if(F.B(m,K(a)))return V.B(h,e(k,m));
var n=B.B(a,m);r(r(b)?F.B("{",n):b)?(n=function(){var p=YE(a,"}",m);return r(p)?p:i0(Qz,new q(null,1,[gB,a],null))}(),F.B("*",B.B(a,m+1))?(h=V.I(h,e(k,m),M([c(m+1,n)])),k=dg(n+1),m=n=dg(n+1)):(h=V.I(h,e(k,m),M([d(m,n)])),k=dg(n+1),m=n=dg(n+1))):r(r(f)?F.B(":",n):f)?(n=function(){var p=YE(a,"/",m);return r(p)?p:K(a)}(),F.B(1,n-m)?m+=1:(h=V.I(h,e(k,m),M([d(m,n)])),k=dg(n),m=n=dg(n))):r(r(f)?F.B("*",n):f)?(n=K(a),h=V.I(h,e(k,m),M([c(m,n)])),k=dg(n),m=n=dg(n)):m+=1}}
function J0(a){return w.D(function(b,c){return[t.C(b),"string"===typeof c?c:c instanceof t0?["{",kg.B(t.C(c.value),1),"}"].join(""):c instanceof u0?["{*",kg.B(t.C(c.value),1),"}"].join(""):null].join("")},"",a)}
function K0(a,b){function c(k,m){var n=N(m,0,null),p=V.B;"string"!==typeof k?n=new X(null,1,5,Z,[k],null):"string"===typeof k&&Zg.B(K(k),K(n))?n=new X(null,1,5,Z,[kg.B(n,K(k))],null):"string"===typeof n&&hc(k)?(k=r(n)?XE(n):n,n=r(k)?new X(null,2,5,Z,[kg.D(n,0,k),kg.B(n,k)],null):new X(null,1,5,Z,[n],null)):n=null;return p.call(V,n,te(m))}function d(k){var m=N(k,0,null),n=r(m)?XE(m):m;return r(r(n)?0<n:n)?V.B(new X(null,2,5,Z,[kg.D(m,0,n),kg.B(m,n)],null),te(k)):k}var e=N(a,0,null),f=N(b,0,null);if(null==
e||null==f)return new X(null,2,5,Z,[d(a),d(b)],null);var h=function(){var k="string"===typeof e;return k?(k="string"===typeof f)?H0(e,f):k:k}();return r(h)?new X(null,2,5,Z,[c(h,a),c(h,b)],null):new X(null,2,5,Z,[a,b],null)}function L0(a,b){var c="string"===typeof a?XE(a):null;return"number"===typeof c&&0<c?V.B(new X(null,1,5,Z,[kg.B(a,c)],null),b):b}
function M0(a,b){for(;;){var c=K0(a,b);a=N(c,0,null);b=G(a);a=H(b);b=J(b);c=N(c,1,null);var d=G(c);c=H(d);d=J(d);if(F.I(a,c,M([null])))return!0;if(null==a||null==c)return!1;if(a instanceof u0||c instanceof u0)return!0;if(a instanceof t0||c instanceof t0)a=L0(a,b),b=L0(c,d);else{if(Zg.B(a,c))return!1;c=d;a=b;b=c}}}
function N0(a){a=uk.I(M([new q(null,4,[lz,W,Io,W,Rr,W,vq,W],null),a]));var b=R.I(a,lz,M([Io,Rr,vq,Tm]));b=xf(a)?ei.B(W,b):b;return new w0(lz.C(a),Io.C(a),Rr.C(a),vq.C(a),Tm.C(a),null,$g(b),null)}
var O0=function O0(a,b,c,d,e){b=G(b);var h=H(b),k=J(b);b=null==h?Q.I(a,Tm,e,M([vq,d])):h instanceof t0?function(){var n=H(k);return n instanceof t0||n instanceof u0?i0(FE,new q(null,2,[gB,c,nx,Ph.B(fs,new X(null,2,5,Z,[h,n],null))],null)):li.D(a,new X(null,2,5,Z,[Io,h],null),function(p){p=r(p)?p:N0(W);return O0.ma?O0.ma(p,k,c,d,e):O0.call(null,p,k,c,d,e)})}():h instanceof u0?ki(a,new X(null,2,5,Z,[Rr,h],null),N0(new q(null,2,[vq,d,Tm,e],null))):sf(h)?O0.ma?O0.ma(a,k,c,d,e):O0.call(null,a,k,c,d,e):
function(){var n=w.D(function(p,u){var v=N(u,0,null),z=N(u,1,null),C=H0(v,h);if(r(C)){if(F.B(C,v)){var E=function(){var T=gf.B(k,kg.B(h,K(v)));return O0.ma?O0.ma(z,T,c,d,e):O0.call(null,z,T,c,d,e)}();return Fe(ki(a,new X(null,2,5,Z,[lz,v],null),E))}var I=kg.B(v,C.length),O=kg.B(h,C.length);E=function(){var T=N0(W);return O0.ma?O0.ma(T,k,c,d,e):O0.call(null,T,k,c,d,e)}();var P=function(){var T=N0(new q(null,1,[lz,mf([I,z,O,E])],null));return O0.ma?O0.ma(T,null,null,null,null):O0.call(null,T,null,null,
null,null)}();return Fe(mi.D(a,lz,function(T){return Q.D(R.B(T,v),C,P)}))}return null},null,lz.C(a));return r(n)?n:ki(a,new X(null,2,5,Z,[lz,h],null),function(){var p=N0(W);return O0.ma?O0.ma(p,k,c,d,e):O0.call(null,p,k,c,d,e)}())}();var m=ii(b,new X(null,2,5,Z,[lz,""],null));return r(m)?mi.R(vk.I(uk,M([R.B(b,Tm),m])),lz,R,""):b};function P0(a,b,c,d){a=kg.D(a,b,c);return r(d)?decodeURIComponent(a):a}
function Q0(){if("undefined"===typeof h0||"undefined"===typeof l0||"undefined"===typeof m0)m0=function(a){this.Cc=a;this.O=393216;this.T=0},m0.prototype.ha=function(a,b){return new m0(b)},m0.prototype.ga=function(){return this.Cc},m0.prototype.tj=function(a,b,c){a=new v0(b,c,null,null,null);if("undefined"===typeof h0||"undefined"===typeof l0||"undefined"===typeof n0)n0=function(d,e,f,h,k,m){this.Cc=d;this._=e;this.params=f;this.data=h;this.match=k;this.gl=m;this.O=393216;this.T=0},n0.prototype.ha=
function(d,e){return new n0(this.Cc,this._,this.params,this.data,this.match,e)},n0.prototype.ga=function(){return this.gl},n0.prototype.nf=function(d,e,f){return F.B(e,f)?this.match:null},n0.prototype.lf=function(){return 1},n0.prototype.mf=function(){return null},n0.Wa=!0,n0.Sa="reitit.trie/t_reitit$trie41643",n0.Za=function(d){return xd(d,"reitit.trie/t_reitit$trie41643")};return new n0(this.Cc,this,b,c,a,W)},m0.prototype.vj=function(a,b,c){a=K(b);if("undefined"===typeof h0||"undefined"===typeof l0||
"undefined"===typeof o0)o0=function(d,e,f,h,k,m){this.Cc=d;this._=e;this.path=f;this.zd=h;this.size=k;this.hl=m;this.O=393216;this.T=0},o0.prototype.ha=function(d,e){return new o0(this.Cc,this._,this.path,this.zd,this.size,e)},o0.prototype.ga=function(){return this.hl},o0.prototype.nf=function(d,e,f,h){if(f<e+this.size)return null;for(d=0;;){if(F.B(d,this.size))return x0(this.zd,e+this.size,f,h);if(F.B(B.B(h,e+d),B.B(this.path,d)))d+=1;else return null}},o0.prototype.lf=function(){return y0(this.zd)+
1},o0.prototype.mf=function(){return K(this.path)},o0.Wa=!0,o0.Sa="reitit.trie/t_reitit$trie41663",o0.Za=function(d){return xd(d,"reitit.trie/t_reitit$trie41663")};return new o0(this.Cc,this,b,c,a,W)},m0.prototype.wj=function(a,b,c,d){if("undefined"===typeof h0||"undefined"===typeof l0||"undefined"===typeof p0)p0=function(e,f,h,k,m,n){this.Cc=e;this._=f;this.key=h;this.end=k;this.zd=m;this.il=n;this.O=393216;this.T=0},p0.prototype.ha=function(e,f){return new p0(this.Cc,this._,this.key,this.end,this.zd,
f)},p0.prototype.ga=function(){return this.il},p0.prototype.nf=function(e,f,h,k){if(f<h&&Zg.B(B.B(k,f),this.end)){e=!1;for(var m=f;;){if(F.B(h,m)){var n=x0(this.zd,h,h,k);return r(n)?G0(n,this.key,P0(k,f,h,e)):null}var p=B.B(k,m);n=F;if(r(n.B?n.B(this.end,p):n.call(null,this.end,p)))return n=x0(this.zd,m,h,k),r(n)?G0(n,this.key,P0(k,f,m,e)):null;n=n.B?n.B("%",p):n.call(null,"%",p);r(n)?(m+=1,e=!0):m+=1}}else return null},p0.prototype.lf=function(){return y0(this.zd)+1},p0.prototype.mf=function(){return null},
p0.Wa=!0,p0.Sa="reitit.trie/t_reitit$trie41676",p0.Za=function(e){return xd(e,"reitit.trie/t_reitit$trie41676")};return new p0(this.Cc,this,b,c,d,W)},m0.prototype.sj=function(a,b,c,d){a=new v0(c,d,null,null,null);if("undefined"===typeof h0||"undefined"===typeof l0||"undefined"===typeof q0)q0=function(e,f,h,k,m,n,p){this.Cc=e;this._=f;this.key=h;this.params=k;this.data=m;this.match=n;this.jl=p;this.O=393216;this.T=0},q0.prototype.ha=function(e,f){return new q0(this.Cc,this._,this.key,this.params,this.data,
this.match,f)},q0.prototype.ga=function(){return this.jl},q0.prototype.nf=function(e,f,h,k){return f<=h?G0(this.match,this.key,P0(k,f,h,!0)):null},q0.prototype.lf=function(){return 1},q0.prototype.mf=function(){return null},q0.Wa=!0,q0.Sa="reitit.trie/t_reitit$trie41714",q0.Za=function(e){return xd(e,"reitit.trie/t_reitit$trie41714")};return new q0(this.Cc,this,b,c,d,a,W)},m0.prototype.uj=function(a,b,c){a=Ii(r(c)?b:ng(Of(Uk(y0,z0),b)));b=K(a);if("undefined"===typeof h0||"undefined"===typeof l0||
"undefined"===typeof r0)r0=function(d,e,f,h,k,m){this.Cc=d;this._=e;this.Kh=f;this.Hl=h;this.size=k;this.kl=m;this.O=393216;this.T=0},r0.prototype.ha=function(d,e){return new r0(this.Cc,this._,this.Kh,this.Hl,this.size,e)},r0.prototype.ga=function(){return this.kl},r0.prototype.nf=function(d,e,f,h){for(d=0;;)if(d<this.size){var k=x0(B.B(this.Kh,d),e,f,h);if(r(k))return k;d+=1}else return null},r0.prototype.lf=function(){return Ug(ag,0,Ph.B(y0,this.Kh))+1},r0.prototype.mf=function(){return null},r0.Wa=
!0,r0.Sa="reitit.trie/t_reitit$trie41726",r0.Za=function(d){return xd(d,"reitit.trie/t_reitit$trie41726")};return new r0(this.Cc,this,a,c,b,W)},m0.prototype.rj=function(a,b){return function(c){var d=x0(b,0,K(c),c);r(d)?(c=vq.C(d),d=Tm.C(d),c=new v0(c,d,null,null,null)):c=null;return c}},m0.Wa=!0,m0.Sa="reitit.trie/t_reitit$trie41615",m0.Za=function(a){return xd(a,"reitit.trie/t_reitit$trie41615")};return new m0(W)}function R0(a){return Gk(a,Vh(null))}
function S0(a,b,c,d){d=Yg(d);var e=B.D(d,ey,R0),f=I0(b,d);f=Ph.B(fs,di(lc,f));e=e.C?e.C(f):e.call(null,f);return O0(r(a)?a:N0(W),I0(b,d),b,e,c)}function T0(a,b){return U0(a,b,hf)}
function U0(a,b,c){function d(n){n=Yg(n);n=B.B(n,lz);n=ij(n);return r(n)?n:new X(null,1,5,Z,["/"],null)}a=Yg(a);var e=B.B(a,Tm),f=B.D(a,vq,W),h=B.B(a,lz),k=B.B(a,Io),m=B.B(a,Rr);a=ei.B(ei.B(ei.B(r(e)?gf.B(hf,A0(b,f,e)):hf,function(){return function u(p){return new vg(null,function(){for(;;){var v=G(p);if(v){if(zf(v)){var z=Od(v),C=K(z),E=zg(C);a:for(var I=0;;)if(I<C){var O=x(z,I),P=N(O,0,null);O=N(O,1,null);P=B0(b,P,U0(O,b,gf.B(c,P)));E.add(P);I+=1}else{z=!0;break a}return z?Bg(Dg(E),u(Pd(v))):Bg(Dg(E),
null)}z=H(v);E=N(z,0,null);z=N(z,1,null);return Ye(B0(b,E,U0(z,b,gf.B(c,E))),u(te(v)))}return null}},null,null)}(h)}()),function(){return function u(p){return new vg(null,function(){for(;;){var v=G(p);if(v){if(zf(v)){var z=Od(v),C=K(z),E=zg(C);return function(){for(var T=0;;)if(T<C){var aa=x(z,T),ea=N(aa,0,null),va=N(aa,1,null);aa=E;var ua=fs.C(ea),Ma=d(va);ea=J(Ma)?i0(HA,new q(null,2,[Xx,Ma,gB,J0(gf.B(c,ea))],null)):C0(b,ua,cf(Ma),U0(va,b,gf.B(c,ua)));aa.add(ea);T+=1}else return!0}()?Bg(Dg(E),u(Pd(v))):
Bg(Dg(E),null)}var I=H(v),O=N(I,0,null),P=N(I,1,null);return Ye(function(){var T=fs.C(O),aa=d(P);return J(aa)?i0(HA,new q(null,2,[Xx,aa,gB,J0(gf.B(c,O))],null)):C0(b,T,cf(aa),U0(P,b,gf.B(c,T)))}(),u(te(v)))}return null}},null,null)}(k)}()),function(){return function u(p){return new vg(null,function(){for(;;){var v=G(p);if(v){if(zf(v)){var z=Od(v),C=K(z),E=zg(C);a:for(var I=0;;)if(I<C){var O=x(z,I),P=N(O,0,null);O=N(O,1,null);P=D0(b,fs.C(P),f,Tm.C(O));E.add(P);I+=1}else{z=!0;break a}return z?Bg(Dg(E),
u(Pd(v))):Bg(Dg(E),null)}z=H(v);E=N(z,0,null);z=N(z,1,null);return Ye(D0(b,fs.C(E),f,Tm.C(z)),u(te(v)))}return null}},null,null)}(m)}());return 1<K(a)?E0(b,a,!1):F.B(K(a),1)?H(a):null};function V0(a,b){a=J0(I0(a,b));b=I0(a,b);var c=Dk(Ph.B(fs,di(lc,b)));return new q(null,3,[Iq,c,yu,b,gB,a],null)}function W0(a){return function(b){b=N(b,0,null);return Ef(G(Iq.C(V0(b,a))))}}function X0(a){var b=Y0;return Rf(function(c,d,e){e=b.C?b.C(e):b.call(null,e);return null==e?c:Q.D(c,d,e)},a,a)}
function Z0(a,b){function c(k,m,n){if(yf(H(n)))return d(k,m,n);if("string"===typeof H(n)){var p=G(n);n=H(p);p=J(p);var u=N(p,0,null);p=yf(u)||vf(u)&&vf(H(u))||null==u?new X(null,2,5,Z,[W,p],null):new X(null,2,5,Z,[u,te(p)],null);u=N(p,0,null);p=N(p,1,null);m=ei.B(m,h.B?h.B(u,e):h.call(null,u,e));u=d([t.C(k),t.C(n)].join(""),m,Ah(Sf,p));return G(p)?G(u):new X(null,1,5,Z,[new X(null,2,5,Z,[[t.C(k),t.C(n)].join(""),m],null)],null)}return null}function d(k,m,n){return w.D(function(p,u){return ei.B(p,
c(k,m,u))},hf,n)}var e=Yg(b);b=B.B(e,gB);var f=B.D(e,Tm,hf);B.D(e,Uw,hf);var h=B.B(e,qt);return c(b,fi.B(Sf,f),a)}function $0(a,b){return fi.B(function(c){var d=N(c,0,null);c=N(c,1,null);return new X(null,2,5,Z,[d,a.B?a.B(d,c):a.call(null,d,c)],null)},b)}function a1(a,b){return w.D(function(c,d){var e=N(d,0,null);d=N(d,1,null);try{return g0.B(c,mf([e,d]))}catch(h){if(h instanceof Error){var f=h;return i0(ap,new q(null,4,[gB,a,Km,c,qy,mf([e,d]),Nw,f],null))}throw h;}},W,b)}
function b1(){var a=c1,b=Yg(d1),c=B.B(b,aB);a=$0(a1,Z0(a,b));return r(c)?ei.D(hf,zh(function(d){return c.B?c.B(d,b):c.call(null,d,b)}),a):a}function e1(a,b){var c=fi.B(function(d){var e=N(d,0,null);return new X(null,2,5,Z,[I0(e,b),d],null)},a);return $g(ei.D(W,uh.B(xh(function(d,e){var f=N(e,0,null);e=N(e,1,null);return new X(null,2,5,Z,[e,w.D(function(h,k){var m=N(k,0,null);k=N(k,1,null);return M0(f,m)?gf.B(h,k):h},Bk,Si(c,d+1,K(c)))],null)}),bi(uh.B(G,bf))),c))}
function f1(){return $g(ei.D(W,bi(sh(function(a){var b=N(a,0,null);N(b,0,null);b=N(b,1,null);a=N(a,1,null);b=Hu.C(b);return r(b)?ph(uh.B(Hu,bf),a):b})),g1))}
function h1(a){return Dk(Tg(V,function(){return function d(c){return new vg(null,function(){for(;;){var e=G(c);if(e){if(zf(e)){var f=Od(e),h=K(f),k=zg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);p=gf.B(Ph.B(H,n),H(p));k.add(p);m+=1}else{f=!0;break a}return f?Bg(Dg(k),d(Pd(e))):Bg(Dg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);return Ye(gf.B(Ph.B(H,f),H(k)),d(te(e)))}return null}},null,null)}(a)}()))}
function i1(){var a=j1;a=null==a?null:Zl(uh.B(Gt,bf),a);a=null==a?null:di(uh.B(ec,H),a);a=null==a?null:ci(uh.I(jg,K,Fk,M([bf])),a);a=null==a?null:G(a);a=null==a?null:Ph.B(function(b){var c=N(b,0,null);b=N(b,1,null);return new X(null,2,5,Z,[c,Dk(b)],null)},a);return null==a?null:ei.B(W,a)}function k1(a){return ei.D(hf,zh(function(b){return Gt.C(bf(b))}),a)}
function l1(){var a=d1;return ei.B(hf,Ah(function(b){var c=N(b,0,null),d=N(b,1,null),e=Yg(a),f=B.B(e,ry);return new X(null,3,5,Z,[c,d,r(f)?f.B?f.B(b,e):f.call(null,b,e):null],null)},j1))}function m1(a){return fi.B(uh.B(Ii,vh.B(Qh,2)),a)}function n1(a,b){return r(Iq.C(a))?(a=w.D(function(c,d){if("string"===typeof d)return gf.B(c,d);d=B.B(b,fs.C(d));return r(d)?gf.B(c,d):Fe(null)},hf,yu.C(a)),r(a)?Tg(t,a):null):gB.C(a)}function Y0(a){return r(a)?decodeURIComponent(a):null};function o1(a,b){if(null!=a&&null!=a.Ql)a=a.Ql(a,b);else{var c=o1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=o1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("Coercion.-open-model",a);}return a}function p1(a,b,c){if(null!=a&&null!=a.Rl)a=a.Rl(a,b,c);else{var d=p1[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=p1._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw oc("Coercion.-request-coercer",a);}return a}
function q1(a,b,c,d,e,f,h){this.$d=a;this.style=b;this.xd=c;this.Ad=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=q1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "in":return this.$d;case "style":return this.style;case "keywordize?":return this.xd;case "open?":return this.Ad;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#reitit.coercion.ParameterCoercion{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[pE,this.$d],null),new X(null,2,5,Z,[wo,this.style],null),new X(null,2,5,Z,[Iz,this.xd],null),new X(null,2,5,Z,[$s,this.Ad],null)],null),this.F))};
g.qa=function(){return new cj(this,4,new X(null,4,5,Z,[pE,wo,Iz,$s],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new q1(this.$d,this.style,this.xd,this.Ad,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1253949273^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Gk,b.Gk)&&F.B(this.style,b.style)&&F.B(this.xd,b.xd)&&F.B(this.Ad,b.Ad)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,4,[Iz,null,wo,null,$s,null,pE,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new q1(this.$d,this.style,this.xd,this.Ad,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "in":case "style":case "keywordize?":case "open?":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(pE,b):U.call(null,pE,b))?new q1(c,this.style,this.xd,this.Ad,this.G,this.F,null):r(U.B?U.B(wo,b):U.call(null,wo,b))?new q1(this.$d,c,this.xd,this.Ad,this.G,this.F,null):r(U.B?U.B(Iz,b):U.call(null,Iz,b))?new q1(this.$d,this.style,c,this.Ad,this.G,this.F,null):r(U.B?U.B($s,b):U.call(null,$s,b))?new q1(this.$d,this.style,this.xd,c,this.G,this.F,null):new q1(this.$d,this.style,this.xd,this.Ad,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(pE,this.$d,null),new Y(wo,this.style,null),new Y(Iz,this.xd,null),new Y($s,this.Ad,null)],null),this.F))};g.ha=function(a,b){return new q1(this.$d,this.style,this.xd,this.Ad,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
var r1=new q(null,5,[yD,new q1(Gz,Rm,!0,!0,null,null,null),at,new q1(Ox,at,!1,!1,null,null,null),Vp,new q1(Uu,Rm,!0,!0,null,null,null),OC,new q1(Sv,Rm,!0,!0,null,null,null),gB,new q1(Iq,Rm,!0,!0,null,null,null)],null);function s1(a){return no.C(GD.C(a))}
function t1(a,b,c,d){d=Yg(d);var e=B.D(d,vx,s1);d=B.D(d,dz,r1);if(r(a)&&(b=d.C?d.C(b):d.call(null,b),r(b))){var f=Yg(b);b=B.B(f,Iz);d=B.B(f,$s);var h=B.B(f,pE);f=B.B(f,wo);var k=uh.B(r(b)?MR:Sf,h);c=r(d)?o1(a,c):c;var m=p1(a,f,c);return r(m)?function(n){var p=k(n);n=e.C?e.C(n):e.call(null,n);return m.B?m.B(p,n):m.call(null,p,n)}:null}return null}function u1(a,b){return Rf(function(c,d,e){e=e.C?e.C(b):e.call(null,b);return Q.D(c,d,e)},W,a)}
function v1(a,b,c){var d=function(){return function h(f){return new vg(null,function(){for(var k=f;;)if(k=G(k)){if(zf(k)){var m=Od(k),n=K(m),p=zg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),z=N(v,0,null);v=N(v,1,null);r(v)&&(z=new X(null,2,5,Z,[z,t1(a,z,v,c)],null),p.add(z));u+=1}else{m=!0;break a}return m?Bg(Dg(p),h(Pd(k))):Bg(Dg(p),null)}m=H(k);p=N(m,0,null);m=N(m,1,null);if(r(m))return Ye(new X(null,2,5,Z,[p,t1(a,p,m,c)],null),h(te(k)));k=te(k)}else return null},null,null)}(b)}();d=null==d?null:ci(bf,
d);d=null==d?null:G(d);return null==d?null:ei.B(W,d)}function w1(a){var b=os.C(a);return r(b)?u1(b,a):null};var x1={},y1,z1,A1,B1,C1,D1;function E1(a,b){if(null!=a&&null!=a.Sg)a=a.Sg(a,b);else{var c=E1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=E1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("Expand.expand",a);}return a}D.prototype.Sg=function(){return new q(null,1,[Gt,this],null)};q.prototype.Sg=function(){return this};Tj.prototype.Sg=function(){return this};E1["function"]=function(a){return new q(null,1,[gy,a],null)};E1["null"]=function(){return null};
function F1(a,b){if(null!=a&&null!=a.Se)a=a.Se(a,b);else{var c=F1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=F1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("Router.match-by-path",a);}return a}function H1(a,b,c,d,e,f,h,k){this.tb=a;this.data=b;this.result=c;this.rb=d;this.path=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=H1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "template":return this.tb;case "data":return this.data;case "result":return this.result;case "path-params":return this.rb;case "path":return this.path;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#reitit.core.Match{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[dx,this.tb],null),new X(null,2,5,Z,[Tm,this.data],null),new X(null,2,5,Z,[os,this.result],null),new X(null,2,5,Z,[Iq,this.rb],null),new X(null,2,5,Z,[gB,this.path],null)],null),this.F))};g.qa=function(){return new cj(this,5,new X(null,5,5,Z,[dx,Tm,os,Iq,gB],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new H1(this.tb,this.data,this.result,this.rb,this.path,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=687105853^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.tb,b.tb)&&F.B(this.data,b.data)&&F.B(this.result,b.result)&&F.B(this.rb,b.rb)&&F.B(this.path,b.path)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,5,[gB,null,dx,null,os,null,Iq,null,Tm,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new H1(this.tb,this.data,this.result,this.rb,this.path,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "template":case "data":case "result":case "path-params":case "path":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(dx,b):U.call(null,dx,b))?new H1(c,this.data,this.result,this.rb,this.path,this.G,this.F,null):r(U.B?U.B(Tm,b):U.call(null,Tm,b))?new H1(this.tb,c,this.result,this.rb,this.path,this.G,this.F,null):r(U.B?U.B(os,b):U.call(null,os,b))?new H1(this.tb,this.data,c,this.rb,this.path,this.G,this.F,null):r(U.B?U.B(Iq,b):U.call(null,Iq,b))?new H1(this.tb,this.data,this.result,c,this.path,this.G,this.F,null):r(U.B?U.B(gB,b):U.call(null,gB,b))?new H1(this.tb,this.data,this.result,
this.rb,c,this.G,this.F,null):new H1(this.tb,this.data,this.result,this.rb,this.path,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(dx,this.tb,null),new Y(Tm,this.data,null),new Y(os,this.result,null),new Y(Iq,this.rb,null),new Y(gB,this.path,null)],null),this.F))};g.ha=function(a,b){return new H1(this.tb,this.data,this.result,this.rb,this.path,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function I1(a,b,c,d,e){return new H1(a,b,c,d,e,null,null,null)}function J1(a,b,c,d,e,f,h,k){this.tb=a;this.data=b;this.result=c;this.rb=d;this.required=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=J1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "template":return this.tb;case "data":return this.data;case "result":return this.result;case "path-params":return this.rb;case "required":return this.required;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#reitit.core.PartialMatch{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[dx,this.tb],null),new X(null,2,5,Z,[Tm,this.data],null),new X(null,2,5,Z,[os,this.result],null),new X(null,2,5,Z,[Iq,this.rb],null),new X(null,2,5,Z,[gu,this.required],null)],null),this.F))};g.qa=function(){return new cj(this,5,new X(null,5,5,Z,[dx,Tm,os,Iq,gu],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};
g.pa=function(){return new J1(this.tb,this.data,this.result,this.rb,this.required,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=492095938^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.tb,b.tb)&&F.B(this.data,b.data)&&F.B(this.result,b.result)&&F.B(this.rb,b.rb)&&F.B(this.required,b.required)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new zk(null,new q(null,5,[dx,null,os,null,Iq,null,gu,null,Tm,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new J1(this.tb,this.data,this.result,this.rb,this.required,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "template":case "data":case "result":case "path-params":case "required":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(dx,b):U.call(null,dx,b))?new J1(c,this.data,this.result,this.rb,this.required,this.G,this.F,null):r(U.B?U.B(Tm,b):U.call(null,Tm,b))?new J1(this.tb,c,this.result,this.rb,this.required,this.G,this.F,null):r(U.B?U.B(os,b):U.call(null,os,b))?new J1(this.tb,this.data,c,this.rb,this.required,this.G,this.F,null):r(U.B?U.B(Iq,b):U.call(null,Iq,b))?new J1(this.tb,this.data,this.result,c,this.required,this.G,this.F,null):r(U.B?U.B(gu,b):U.call(null,gu,b))?new J1(this.tb,
this.data,this.result,this.rb,c,this.G,this.F,null):new J1(this.tb,this.data,this.result,this.rb,this.required,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(dx,this.tb,null),new Y(Tm,this.data,null),new Y(os,this.result,null),new Y(Iq,this.rb,null),new Y(gu,this.required,null)],null),this.F))};g.ha=function(a,b){return new J1(this.tb,this.data,this.result,this.rb,this.required,b,this.F,this.J)};
g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function K1(a,b){var c=bu.B(b,Q0()),d=k1(a),e=w.D(function(p,u){function v(aa){var ea=n1(P,aa);r(ea)?aa=I1(C,I,O,X0(aa),ea):(aa=X0(aa),aa=new J1(C,I,O,aa,T,null,null,null));return aa}var z=N(p,0,null);p=N(p,1,null);var C=N(u,0,null),E=N(u,1,null),I=Yg(E);E=B.B(I,Gt);var O=N(u,2,null);u=V0(C,b);var P=Yg(u),T=B.B(P,Iq);return new X(null,2,5,Z,[gf.B(z,T0(S0(null,C,I1(C,I,O,null,null),b),Q0())),r(E)?Q.D(p,E,v):p],null)},new X(null,2,5,Z,[hf,W],null),a),f=N(e,0,null),h=N(e,1,null),k=E0(c,f,!0),m=F0(c,
k),n=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof y1)y1=function(p,u,v,z,C,E,I,O,P,T,aa,ea){this.zd=p;this.names=u;this.Hd=v;this.Od=z;this.Yl=C;this.lookup=E;this.Yf=I;this.Xf=O;this.ae=P;this.xh=T;this.zb=aa;this.ll=ea;this.O=393216;this.T=0},y1.prototype.ha=function(p,u){return new y1(this.zd,this.names,this.Hd,this.Od,this.Yl,this.lookup,this.Yf,this.Xf,this.ae,this.xh,this.zb,u)},y1.prototype.ga=function(){return this.ll},y1.prototype.Se=function(p,u){p=this.ae.C?
this.ae.C(u):this.ae.call(null,u);return r(p)?Q.D(Q.D(Tm.C(p),Iq,vq.C(p)),gB,u):null},y1.Wa=!0,y1.Sa="reitit.core/t_reitit$core43287",y1.Za=function(p){return xd(p,"reitit.core/t_reitit$core43287")};return new y1(k,d,a,n,e,h,f,h,m,c,b,new q(null,1,[to,ro],null))}var L1=function L1(a){switch(arguments.length){case 1:return L1.C(arguments[0]);case 2:return L1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};L1.C=function(a){return L1.B(a,W)};
L1.B=function(a,b){var c=G(ci(W0(b),a));c&&i0(["can't create :lookup-router with wildcard routes: ",t.C(c)].join(""),new q(null,2,[Io,c,Uw,a],null));c=k1(a);var d=w.D(function(k,m){var n=N(k,0,null);k=N(k,1,null);var p=N(m,0,null),u=N(m,1,null),v=Yg(u);u=B.B(v,Gt);var z=N(m,2,null);return new X(null,2,5,Z,[Q.D(n,p,I1(p,v,z,W,p)),r(u)?Q.D(k,u,function(C){return I1(p,v,z,C,p)}):k],null)},new X(null,2,5,Z,[W,W],null),a),e=N(d,0,null),f=N(d,1,null),h=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||
"undefined"===typeof z1)z1=function(k,m,n,p,u,v,z,C,E,I){this.names=k;this.data=m;this.Hd=n;this.Od=p;this.lookup=u;this.Yf=v;this.Xf=z;this.Zl=C;this.zb=E;this.ml=I;this.O=393216;this.T=0},z1.prototype.ha=function(k,m){return new z1(this.names,this.data,this.Hd,this.Od,this.lookup,this.Yf,this.Xf,this.Zl,this.zb,m)},z1.prototype.ga=function(){return this.ml},z1.prototype.Se=function(k,m){k=this.data;return k.C?k.C(m):k.call(null,m)},z1.Wa=!0,z1.Sa="reitit.core/t_reitit$core43327",z1.Za=function(k){return xd(k,
"reitit.core/t_reitit$core43327")};return new z1(c,e,a,h,f,e,f,d,b,new q(null,1,[to,ro],null))};L1.aa=2;var M1=function M1(a){switch(arguments.length){case 1:return M1.C(arguments[0]);case 2:return M1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};M1.C=function(a){return M1.B(a,W)};
M1.B=function(a,b){var c=bu.B(b,Q0()),d=k1(a),e=w.D(function(p,u){function v(aa){var ea=n1(P,aa);r(ea)?aa=I1(C,I,O,X0(aa),ea):(aa=X0(aa),aa=new J1(C,I,O,aa,T,null,null,null));return aa}var z=N(p,0,null);p=N(p,1,null);var C=N(u,0,null),E=N(u,1,null),I=Yg(E);E=B.B(I,Gt);var O=N(u,2,null);u=V0(C,b);var P=Yg(u),T=B.B(P,Iq);return new X(null,2,5,Z,[S0(z,C,I1(C,I,O,null,null),b),r(E)?Q.D(p,E,v):p],null)},new X(null,2,5,Z,[null,W],null),a),f=N(e,0,null),h=N(e,1,null),k=T0(f,c),m=r(k)?F0(c,k):null,n=m1(a);
if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof A1)A1=function(p,u,v,z,C,E,I,O,P,T,aa,ea){this.$l=p;this.zd=u;this.names=v;this.Hd=z;this.Od=C;this.lookup=E;this.Yf=I;this.Xf=O;this.ae=P;this.xh=T;this.zb=aa;this.nl=ea;this.O=393216;this.T=0},A1.prototype.ha=function(p,u){return new A1(this.$l,this.zd,this.names,this.Hd,this.Od,this.lookup,this.Yf,this.Xf,this.ae,this.xh,this.zb,u)},A1.prototype.ga=function(){return this.nl},A1.prototype.Se=function(p,u){p=this.ae;p=r(p)?
this.ae.C?this.ae.C(u):this.ae.call(null,u):p;return r(p)?Q.D(Q.D(Tm.C(p),Iq,vq.C(p)),gB,u):null},A1.Wa=!0,A1.Sa="reitit.core/t_reitit$core43351",A1.Za=function(p){return xd(p,"reitit.core/t_reitit$core43351")};return new A1(e,k,d,a,n,h,f,h,m,c,b,new q(null,1,[to,ro],null))};M1.aa=2;var N1=function N1(a){switch(arguments.length){case 1:return N1.C(arguments[0]);case 2:return N1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
N1.C=function(a){return N1.B(a,W)};
N1.B=function(a,b){r(function(){var p=Zg.B(K(a),1);return p?p:qh(W0(b),a)}())&&i0([":single-static-path-router requires exactly 1 static route: ",t.C(a)].join(""),new q(null,1,[Uw,a],null));var c=k1(a),d=N(c,0,null),e=N(a,0,null),f=N(e,0,null),h=N(e,1,null),k=N(e,2,null),m=I1(f,h,k,W,f),n=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof B1)B1=function(p,u,v,z,C,E,I,O,P,T,aa,ea,va){this.dm=p;this.bm=u;this.p=v;this.names=z;this.match=C;this.data=E;this.Hd=I;this.am=O;
this.Od=P;this.n=T;this.result=aa;this.zb=ea;this.ol=va;this.O=393216;this.T=0},B1.prototype.ha=function(p,u){return new B1(this.dm,this.bm,this.p,this.names,this.match,this.data,this.Hd,this.am,this.Od,this.n,this.result,this.zb,u)},B1.prototype.ga=function(){return this.ol},B1.prototype.Se=function(p,u){return F.B(this.p,u)?this.match:null},B1.Wa=!0,B1.Sa="reitit.core/t_reitit$core43436",B1.Za=function(p){return xd(p,"reitit.core/t_reitit$core43436")};return new B1(e,a,f,c,m,h,a,c,n,d,k,b,new q(null,
1,[to,ro],null))};N1.aa=2;var O1=function O1(a){switch(arguments.length){case 1:return O1.C(arguments[0]);case 2:return O1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};O1.C=function(a){return O1.B(a,W)};
O1.B=function(a,b){var c=Zl(W0(b),a);c=Yg(c);var d=B.B(c,!0),e=B.B(c,!1),f=F.B(1,K(e))?N1:L1,h=M1.B(d,b),k=f.B?f.B(e,b):f.call(null,e,b),m=k1(a),n=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof C1)C1=function(p,u,v,z,C,E,I,O,P,T,aa){this.Mk=p;this.names=u;this.Hd=v;this.Od=z;this.Zj=C;this.lookup=E;this.fm=I;this.Aj=O;this.zb=P;this.Ej=T;this.pl=aa;this.O=393216;this.T=0},C1.prototype.ha=function(p,u){return new C1(this.Mk,this.names,this.Hd,this.Od,this.Zj,this.lookup,
this.fm,this.Aj,this.zb,this.Ej,u)},C1.prototype.ga=function(){return this.pl},C1.prototype.Se=function(p,u){p=F1(this.Aj,u);return r(p)?p:F1(this.Ej,u)},C1.Wa=!0,C1.Sa="reitit.core/t_reitit$core43450",C1.Za=function(p){return xd(p,"reitit.core/t_reitit$core43450")};return new C1(c,m,a,n,f,e,d,k,b,h,new q(null,1,[to,ro],null))};O1.aa=2;
var P1=function P1(a){switch(arguments.length){case 1:return P1.C(arguments[0]);case 2:return P1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};P1.C=function(a){return P1.B(a,W)};
P1.B=function(a,b){function c(u){return S(d,H(u))}var d=h1(function(){var u=Tn.C(b);return r(u)?u:e1(a,b)}()),e=Zl(c,a);e=Yg(e);var f=B.B(e,!0),h=B.B(e,!1),k=K1(f,b),m=O1.B(h,b),n=k1(a),p=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof D1)D1=function(u,v,z,C,E,I,O,P,T,aa,ea,va){this.Al=u;this.names=v;this.uk=z;this.Hd=C;this.sk=E;this.Od=I;this.tk=O;this.Nk=P;this.fj=T;this.cj=aa;this.zb=ea;this.ql=va;this.O=393216;this.T=0},D1.prototype.ha=function(u,v){return new D1(this.Al,
this.names,this.uk,this.Hd,this.sk,this.Od,this.tk,this.Nk,this.fj,this.cj,this.zb,v)},D1.prototype.ga=function(){return this.ql},D1.prototype.Se=function(u,v){u=F1(this.fj,v);return r(u)?u:F1(this.cj,v)},D1.Wa=!0,D1.Sa="reitit.core/t_reitit$core43463",D1.Za=function(u){return xd(u,"reitit.core/t_reitit$core43463")};return new D1(h,n,d,a,f,p,c,e,m,k,b,new q(null,1,[to,ro],null))};P1.aa=2;function Q1(a){var b=a.hd;return ei.B(W,Ph.B(Uk(tg,function(c){c=b.Fc(c);return 2>c.length?c[0]:Ii(c)}),b.dd()))}function R1(a,b,c){c=Yg(c);var d=B.B(c,Br);b=Jb(b);var e=r(d)?function(k){try{return w1(k)}catch(n){if(n instanceof Error){var m=n;d.B?d.B(k,m):d.call(null,k,m);throw m;}throw n;}}:w1;a=F1(a,b.gd);if(r(a)){var f=Q1(b),h=Q.D(a,Gz,f);a=function(){var k=e.C?e.C(h):e.call(null,h);return r(k)?k:new q(null,2,[gB,Iq.C(h),yD,f],null)}();return Q.D(h,nx,a)}return null};function S1(a){if(null!=a&&null!=a.Zh)a=a.Zh(a);else{var b=S1[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=S1._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("History.-init",a);}return a}function T1(a){if(null!=a&&null!=a.$h)a=a.$h(a);else{var b=T1[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=T1._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("History.-stop",a);}return a}
function U1(a,b){if(null!=a&&null!=a.ag)a=a.ag(a,b);else{var c=U1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=U1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("History.-on-navigate",a);}return a}function V1(a){if(null!=a&&null!=a.Tg)a=a.Tg(a);else{var b=V1[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=V1._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw oc("History.-get-path",a);}return a}
function W1(a,b,c,d,e,f,h,k){this.Ya=a;this.gb=b;this.Sc=c;this.Pc=d;this.Rc=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=W1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "on-navigate":return this.Ya;case "router":return this.gb;case "popstate-listener":return this.Sc;case "hashchange-listener":return this.Pc;case "last-fragment":return this.Rc;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#reitit.frontend.history.FragmentHistory{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[LD,this.Ya],null),new X(null,2,5,Z,[Tw,this.gb],null),new X(null,2,5,Z,[rz,this.Sc],null),new X(null,2,5,Z,[Wr,this.Pc],null),new X(null,2,5,Z,[aC,this.Rc],null)],null),this.F))};
g.qa=function(){return new cj(this,5,new X(null,5,5,Z,[LD,Tw,rz,Wr,aC],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new W1(this.Ya,this.gb,this.Sc,this.Pc,this.Rc,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=354327177^Be(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Ya,b.Ya)&&F.B(this.gb,b.gb)&&F.B(this.Sc,b.Sc)&&F.B(this.Pc,b.Pc)&&F.B(this.Rc,b.Rc)&&F.B(this.F,b.F)};g.Zh=function(){function a(e){var f=V1(c);return F.B("popstate",e.type)||Zg.B(y(b),f)?U1(c,f):null}var b=Ch(null),c=Q.D(this,aC,b),d=Q.I(c,rz,wN(window,"popstate",a,!1),M([Wr,wN(window,"hashchange",a,!1)]));U1(d,V1(d));return d};g.$h=function(){FN(this.Sc);FN(this.Pc);return null};
g.ag=function(a,b){Eh(this.Rc,b);a=R1(this.gb,b,this);return this.Ya.B?this.Ya.B(a,this):this.Ya.call(null,a,this)};g.Tg=function(){var a=kg.B(window.location.hash,1);return F.B("",a)?"/":a};g.za=function(a,b){return S(new zk(null,new q(null,5,[aC,null,Tw,null,rz,null,LD,null,Wr,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new W1(this.Ya,this.gb,this.Sc,this.Pc,this.Rc,this.G,$g(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "on-navigate":case "router":case "popstate-listener":case "hashchange-listener":case "last-fragment":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(LD,b):U.call(null,LD,b))?new W1(c,this.gb,this.Sc,this.Pc,this.Rc,this.G,this.F,null):r(U.B?U.B(Tw,b):U.call(null,Tw,b))?new W1(this.Ya,c,this.Sc,this.Pc,this.Rc,this.G,this.F,null):r(U.B?U.B(rz,b):U.call(null,rz,b))?new W1(this.Ya,this.gb,c,this.Pc,this.Rc,this.G,this.F,null):r(U.B?U.B(Wr,b):U.call(null,Wr,b))?new W1(this.Ya,this.gb,this.Sc,c,this.Rc,this.G,this.F,null):r(U.B?U.B(aC,b):U.call(null,aC,b))?new W1(this.Ya,this.gb,this.Sc,this.Pc,c,this.G,this.F,
null):new W1(this.Ya,this.gb,this.Sc,this.Pc,this.Rc,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(LD,this.Ya,null),new Y(Tw,this.gb,null),new Y(rz,this.Sc,null),new Y(Wr,this.Pc,null),new Y(aC,this.Rc,null)],null),this.F))};g.ha=function(a,b){return new W1(this.Ya,this.gb,this.Sc,this.Pc,this.Rc,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function X1(a,b,c,d){var e="undefined"!==typeof location?Jb(location).td:null;return(e=hc(!!d.qe)&&hc(!!d.td)||F.B(e,d.td))?(e=hc(b.altKey))?(e=hc(b.ctrlKey))?(e=hc(b.metaKey))?(e=hc(b.shiftKey))?(e=hc(c.hasAttribute("target"))||S(new zk(null,new q(null,2,["",null,"_self",null],null),null),c.getAttribute("target")))?(b=F.B(0,b.button))?(c=hc(c.isContentEditable))?F1(a,d.gd):c:b:e:e:e:e:e:e}
function Y1(a,b,c,d,e,f,h){this.Ya=a;this.gb=b;this.ed=c;this.Yc=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=Y1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "on-navigate":return this.Ya;case "router":return this.gb;case "listen-key":return this.ed;case "click-listen-key":return this.Yc;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return al(b,function(d){return al(b,il,""," ","",c,d)},"#reitit.frontend.history.Html5History{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[LD,this.Ya],null),new X(null,2,5,Z,[Tw,this.gb],null),new X(null,2,5,Z,[bv,this.ed],null),new X(null,2,5,Z,[hD,this.Yc],null)],null),this.F))};
g.qa=function(){return new cj(this,4,new X(null,4,5,Z,[LD,Tw,bv,hD],null),r(this.F)?Xd(this.F):ah())};g.ga=function(){return this.G};g.pa=function(){return new Y1(this.Ya,this.gb,this.ed,this.Yc,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1654764186^Be(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Ya,b.Ya)&&F.B(this.gb,b.gb)&&F.B(this.ed,b.ed)&&F.B(this.Yc,b.Yc)&&F.B(this.F,b.F)};
g.Zh=function(){var a=this,b=this,c=function(){var e=YC.C(b);return r(e)?e:X1}(),d=Q.I(b,bv,wN(window,"popstate",function(){return b.ag(null,b.Tg(null))},!1),M([hD,wN(document,"click",function(e){var f=e.ff;a:for(f=null!=f.composedPath?f.composedPath()[0]:e.target;;)if(r(f)){if(F.B("A",f.nodeName))break a;f=f.parentNode}else{f=null;break a}if(r(f)){var h=Jb(f.href);if(r(c.R?c.R(a.gb,e,f,h):c.call(null,a.gb,e,f,h)))return e.preventDefault(),e=[t.C(h.gd),r(""!==h.hd.toString())?["?",t.C(h.getQuery())].join(""):
null,r(!!h.oe)?["#",t.C(h.oe)].join(""):null].join(""),window.history.pushState(null,"",e),b.ag(null,e)}return null})]));U1(d,V1(d));return d};g.ag=function(a,b){a=R1(this.gb,b,this);return this.Ya.B?this.Ya.B(a,this):this.Ya.call(null,a,this)};g.$h=function(){FN(this.ed);FN(this.Yc);return null};g.Tg=function(){return[t.C(window.location.pathname),t.C(window.location.search)].join("")};
g.za=function(a,b){return S(new zk(null,new q(null,4,[Tw,null,bv,null,hD,null,LD,null],null),null),b)?R.B(id(ei.B(W,this),this.G),b):new Y1(this.Ya,this.gb,this.ed,this.Yc,this.G,$g(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "on-navigate":case "router":case "listen-key":case "click-listen-key":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(LD,b):U.call(null,LD,b))?new Y1(c,this.gb,this.ed,this.Yc,this.G,this.F,null):r(U.B?U.B(Tw,b):U.call(null,Tw,b))?new Y1(this.Ya,c,this.ed,this.Yc,this.G,this.F,null):r(U.B?U.B(bv,b):U.call(null,bv,b))?new Y1(this.Ya,this.gb,c,this.Yc,this.G,this.F,null):r(U.B?U.B(hD,b):U.call(null,hD,b))?new Y1(this.Ya,this.gb,this.ed,c,this.G,this.F,null):new Y1(this.Ya,this.gb,this.ed,this.Yc,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(LD,this.Ya,null),new Y(Tw,this.gb,null),new Y(bv,this.ed,null),new Y(hD,this.Yc,null)],null),this.F))};g.ha=function(a,b){return new Y1(this.Ya,this.gb,this.ed,this.Yc,b,this.F,this.J)};g.na=function(a,b){return yf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Gc,this,b)};
function Z1(a,b,c){var d=Yg(c);c=B.D(d,tt,!0);b=Q.I(R.B(d,tt),Tw,a,M([LD,b]));a=S1;r(c)?(c=R.I(b,LD,M([Tw,rz,Wr,aC])),c=xf(b)?ei.B(W,c):c,b=new W1(LD.C(b),Tw.C(b),rz.C(b),Wr.C(b),aC.C(b),null,$g(c),null)):(c=R.I(b,LD,M([Tw,bv,hD])),c=xf(b)?ei.B(W,c):c,b=new Y1(LD.C(b),Tw.C(b),bv.C(b),hD.C(b),null,$g(c),null));a(b)}function $1(a){return r(a)?T1(a):null};var a2=Ch(null);function b2(a){var b=c2,c=new q(null,1,[tt,!1],null);Fh.B(a2,$1);Z1(b,function(d,e){null==y(a2)&&Eh(a2,e);return a.B?a.B(d,e):a.call(null,d,e)},c)};var fG,d2=new q(null,3,[kv,new q(null,1,[Gm,vt],null),Fs,new q(null,2,[Cu,It,xq,Rs],null),io,new q(null,2,[Cu,It,xq,Tu],null)],null),e2=HT?HT(d2):IT.call(null,d2),f2=Yg(M([ac,new q(null,1,[jA,Ch(W)],null)])),g2=B.B(f2,ac),h2=B.B(f2,aq);fG=new Bh(e2,g2,h2);var i2={};var j2={},k2,l2,m2,n2;function o2(a,b){if(null!=a&&null!=a.Ef)a=a.Ef(a,b);else{var c=o2[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=o2._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("Spec.conform*",a);}return a}function p2(a,b){if(null!=a&&null!=a.Ff)a=a.Ff(a,b);else{var c=p2[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=p2._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw oc("Spec.with-gen*",a);}return a}var q2=Ch(W);
function r2(a){if(sg(a)){var b=y(q2);a=B.B(b,a);if(sg(a))a:for(;;)if(sg(a))a=B.B(b,a);else{b=a;break a}else b=a;return b}return a}function s2(a){if(sg(a)){var b=r2(a);if(r(b))return b;throw Error(["Unable to resolve spec: ",t.C(a)].join(""));}return a}function t2(a){return null!=a&&l===a.wg?a:null}function u2(a){var b=Ux.C(a);return r(b)?a:b}function v2(a,b){return sg(a)?a:r(u2(a))?Q.D(a,Un,b):null!=a&&(a.O&131072||l===a.yf)?pf(a,Q.D(qf(a),Un,b)):null}
function w2(a){return sg(a)?a:r(u2(a))?Un.C(a):null!=a&&(a.O&131072||l===a.yf)?Un.C(qf(a)):null}function x2(a){var b=function(){var c=(c=sg(a))?r2(a):c;if(r(c))return c;c=t2(a);if(r(c))return c;c=u2(a);return r(c)?c:null}();return r(u2(b))?v2(y2(b,null),w2(b)):b}function z2(a){var b=x2(a);if(r(b))return b;if(sg(a))throw Error(["Unable to resolve spec: ",t.C(a)].join(""));return null}
function A2(a){if(WE(a))return null;a=Ph.B(um,QE(a,"$"));if(2<=K(a)&&ph(function(c){return!WE(c)},a)){var b=Uk(Fk,ff)(a);a=N(b,0,null);b=N(b,1,null);return ne.C([OE(".",a),"/",t.C(b)].join(""))}return null}
var C2=function(){function a(d,e){var f=B2[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=B2._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw oc("Specize.specize*",d);}function b(d){var e=B2[ha(null==d?null:d)];if(null!=e)return e.C?e.C(d):e.call(null,d);e=B2._;if(null!=e)return e.C?e.C(d):e.call(null,d);throw oc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.C=b;c.B=a;return c}(),B2=function B2(a){switch(arguments.length){case 1:return B2.C(arguments[0]);case 2:return B2.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};B2.C=function(a){return null!=a&&null!=a.ie?a.ie(a):C2(a)};B2.B=function(a,b){return null!=a&&null!=a.je?a.je(a,b):C2(a,b)};B2.aa=2;D.prototype.ie=function(){return B2(s2(this))};D.prototype.je=function(){return B2(s2(this))};A.prototype.ie=function(){return B2(s2(this))};
A.prototype.je=function(){return B2(s2(this))};zk.prototype.ie=function(){return D2(this,this)};zk.prototype.je=function(a,b){return D2(b,this)};Ck.prototype.ie=function(){return D2(this,this)};Ck.prototype.je=function(a,b){return D2(b,this)};
B2._=function(){function a(c){var d=(d=nf(c))?A2(c.name):d;return r(d)?D2(d,c):D2(fv,c)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return D2(d,c)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return D2(d,c)};return b}();var E2=function E2(a){switch(arguments.length){case 1:return E2.C(arguments[0]);case 2:return E2.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
E2.C=function(a){var b=t2(a);return r(b)?b:B2(a)};E2.B=function(a,b){var c=t2(a);return r(c)?c:B2(a,b)};E2.aa=2;function F2(a,b){a=r2(a);return r(u2(a))?Q.D(a,BC,b):p2(E2.C(a),b)}function G2(a,b,c){if(null==c)Fh.D(q2,R,a);else{var d=t2(c);r(d)||(d=u2(c),d=r(d)?d:B.B(y(q2),c));b=r(d)?c:D2(b,c);Fh.R(q2,Q,a,v2(b,a))}}
function H2(a,b,c){if(r(a)){var d=z2(a);if(r(d))return o2(E2.C(d),b);if(Ff(a))return r(null)?a.C?a.C(b):a.call(null,b):r(a.C?a.C(b):a.call(null,b))?b:hq;throw Error([ql.I(M([c]))," is not a fn, expected predicate fn"].join(""));}return b}function I2(a,b){a=E2.C(a);return!U(hq,o2(a,b))}function D2(a,b){return J2(a,b,null,null,null)}
function J2(a,b,c,d,e){if(r(t2(b)))return r(c)?F2(b,c):b;if(r(u2(b)))return y2(b,c);if(sg(b))return a=z2(b),r(c)?F2(a,c):a;if("undefined"===typeof Pb||"undefined"===typeof i2||"undefined"===typeof j2||"undefined"===typeof l2)l2=function(f,h,k,m,n,p){this.form=f;this.pred=h;this.Ne=k;this.zh=m;this.Dj=n;this.sl=p;this.O=393216;this.T=0},l2.prototype.ha=function(f,h){return new l2(this.form,this.pred,this.Ne,this.zh,this.Dj,h)},l2.prototype.ga=function(){return this.sl},l2.prototype.ie=function(){return this},
l2.prototype.je=function(){return this},l2.prototype.wg=l,l2.prototype.Ef=function(f,h){f=this.pred.C?this.pred.C(h):this.pred.call(null,h);return r(this.zh)?f:r(f)?h:hq},l2.prototype.Ff=function(f,h){return J2(this.form,this.pred,h,this.zh,this.Dj)},l2.Wa=!0,l2.Sa="cljs.spec.alpha/t_cljs$spec$alpha43839",l2.Za=function(f){return xd(f,"cljs.spec.alpha/t_cljs$spec$alpha43839")};return new l2(a,b,c,d,e,W)}
function K2(a,b,c){var d=G(b);H(d);J(d);d=G(c);H(d);J(d);for(d=c;;){c=a;b=G(b);a=H(b);b=J(b);var e=G(d);d=H(e);e=J(e);var f=d;d=e;if(r(a)){c=H2(a,c,f);if(U(hq,c))return hq;a=c}else return c}}var L2=new q(null,4,[yB,hf,vy,Bk,Gs,ue,gp,W],null);
function M2(a,b,c,d){function e(va,ua,Ma,Ka){return gf.B(va,Ka)}var f=Yg(c),h=B.B(f,KE),k=B.B(f,ln),m=B.D(f,ky,20),n=B.B(f,cz),p=B.B(f,Ow),u=B.B(f,$C),v=B.B(f,fA),z=B.B(f,tB),C=B.B(f,jt),E=B.B(f,Or),I=B.B(f,Nq),O=B.B(f,tv),P=B.B(f,Jy),T=r(P)?kf(P):B.B(L2,k),aa=new Cl(function(){return E2.C(b)}),ea=function(){return r(z)?z:function(va){return va}}();if("undefined"===typeof Pb||"undefined"===typeof i2||"undefined"===typeof j2||"undefined"===typeof m2)m2=function(va,ua,Ma,Ka,la,ya,sa,Da,fb,zc,jc,kc,
Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he,ie,dk){this.form=va;this.Rk=ua;this.ck=Ma;this.Ne=Ka;this.Ek=la;this.Jl=ya;this.pred=sa;this.Ag=Da;this.wk=fb;this.Jk=zc;this.ak=jc;this.og=kc;this.Ck=Db;this.distinct=Fd;this.spec=Eg;this.Ik=df;this.Dk=Dh;this.count=Le;this.wl=Fg;this.zb=xe;this.kind=ef;this.Pk=ge;this.Oi=he;this.vk=ie;this.tl=dk;this.O=393216;this.T=0},m2.prototype.ha=function(va,ua){return new m2(this.form,this.Rk,this.ck,this.Ne,this.Ek,this.Jl,this.pred,this.Ag,this.wk,this.Jk,this.ak,this.og,
this.Ck,this.distinct,this.spec,this.Ik,this.Dk,this.count,this.wl,this.zb,this.kind,this.Pk,this.Oi,this.vk,ua)},m2.prototype.ga=function(){return this.tl},m2.prototype.ie=function(){return this},m2.prototype.je=function(){return this},m2.prototype.wg=l,m2.prototype.Ef=function(va,ua){va=y(this.spec);if(hc(this.Ag.C?this.Ag.C(ua):this.Ag.call(null,ua)))return hq;if(r(this.Oi)){var Ma=this.og.C?this.og.C(ua):this.og.call(null,ua),Ka=N(Ma,0,null),la=N(Ma,1,null);Ma=N(Ma,2,null);var ya=Ka.C?Ka.C(ua):
Ka.call(null,ua);Ka=0;var sa=G(ua);ua=G(sa);H(ua);J(ua);for(ua=ya;;){var Da=sa;ya=G(Da);sa=H(ya);ya=J(ya);if(Da){Da=o2(va,sa);if(U(hq,Da))return hq;ua=la.R?la.R(ua,Ka,sa,Da):la.call(null,ua,Ka,sa,Da);Ka+=1;sa=ya}else return Ma.C?Ma.C(ua):Ma.call(null,ua)}}else if(Qe(ua))for(la=dg(K(ua)/101),la=1>la?1:la,Ka=0;;){if(Ka>=K(ua))return ua;if(I2(va,Se(ua,Ka)))Ka+=la;else return hq}else for(Ka=0,la=G(ua),Ma=G(la),H(Ma),J(Ma);;){sa=G(la);Ma=H(sa);ya=J(sa);sa=Ma;Da=la;if(null==Da||F.B(Ka,101))return ua;if(I2(va,
sa))la=ya,Ka+=1;else return hq}},m2.prototype.Ff=function(va,ua){return M2(this.form,this.pred,this.zb,ua)},m2.Wa=!0,m2.Sa="cljs.spec.alpha/t_cljs$spec$alpha43969",m2.Za=function(va){return xd(va,"cljs.spec.alpha/t_cljs$spec$alpha43969")};return new m2(a,h,function(va){return I2(y(aa),va)},d,m,c,b,n,p,k,e,function(va){return yf(va)&&(hc(P)||yf(P))?new X(null,3,5,Z,[Sf,function(ua,Ma,Ka,la){return Ka===la?ua:Q.D(ua,Ma,la)},Sf],null):r(function(){var ua=wf(va);return ua?(ua=r(I)?hc(P):I,r(ua)?ua:wf(P)):
ua}())?new X(null,3,5,Z,[r(p)?kf:Sf,function(ua,Ma,Ka,la){return Ka===la&&hc(p)?ua:Q.D(ua,Se(r(p)?la:Ka,0),Se(la,1))},Sf],null):lg(P)||Cf(P)||hc(P)&&(lg(va)||Cf(va))?new X(null,3,5,Z,[kf,e,ng],null):new X(null,3,5,Z,[function(ua){return kf(r(P)?P:ua)},e,Sf],null)},u,v,aa,ea,T,C,E,f,I,f,O,P,W)}function N2(a){return new q(null,2,[Ux,Wq,ms,a],null)}function O2(a){a=Yg(a);a=B.B(a,Ux);return F.B(Wq,a)}
var P2=function P2(a){var c=Yg(a),d=B.B(c,zw);a=G(d);var e=H(a);a=J(a);var f=B.B(c,Yv),h=G(f),k=H(h);h=J(h);var m=B.B(c,Gp),n=G(m);H(n);n=J(n);var p=B.B(c,ms);c=B.B(c,mv);return ph(Sf,d)?O2(e)?(d=ms.C(e),d=gf.B(p,r(f)?mf([k,d]):d),a?(a=new q(null,4,[zw,a,Yv,h,Gp,n,ms,d],null),P2.C?P2.C(a):P2.call(null,a)):N2(d)):new q(null,6,[Ux,iq,zw,d,ms,p,Yv,f,Gp,m,mv,c],null):null};
function Q2(a,b,c,d,e){return r(a)?(d=new q(null,5,[Ux,$t,Fv,b,xt,d,Gp,e,vE,qm()],null),O2(a)?Q.I(d,Hv,b,M([ms,gf.B(c,ms.C(a))])):Q.I(d,Hv,a,M([ms,c]))):null}
function R2(a,b,c,d){return r(r(b)?b:c)?(a=ci(function(e){e=H(e);return d.C?d.C(e):d.call(null,e)},Ph.R(Mi,a,function(){var e=G(b);return e?e:Vh(null)}(),function(){var e=G(c);return e?e:Vh(null)}())),new X(null,3,5,Z,[G(Ph.B(H,a)),r(b)?G(Ph.B(bf,a)):null,r(c)?G(Ph.B(function(e){return Se(e,2)},a)):null],null)):new X(null,3,5,Z,[G(ci(d,a)),b,c],null)}
function S2(a,b,c){var d=R2(a,b,c,Sf);c=N(d,0,null);b=G(c);a=H(b);var e=J(b),f=N(d,1,null);b=N(f,0,null);d=N(d,2,null);return r(c)?(c=new q(null,4,[Ux,cn,zw,c,Yv,f,Gp,d],null),null==e?r(b)&&(O2(a)?(a=ms.C(a),a=N2(new Y(b,a,null))):a=c):a=c,a):null}function T2(a,b){return r(r(a)?b:a)?S2(M([a,b]),null,null):r(a)?a:b}
var U2=function U2(a){a=s2(a);var c=Yg(a),d=B.B(c,Ux),e=B.B(c,zw);a=B.B(c,Hv);var f=B.B(c,Fv);c=B.B(c,Gp);if(F.B(Wq,d))return!0;if(F.B(null,d))return null;if(F.B(Xm,d))return d=U2.C?U2.C(a):U2.call(null,a),r(d)?(a=K2(V2(a),e,J(c)),!U(hq,a)):d;if(F.B($t,d))return(e=a===f)?e:U2.C?U2.C(a):U2.call(null,a);if(F.B(iq,d))return ph(U2,e);if(F.B(cn,d))return qh(U2,e);throw Error(["No matching clause: ",t.C(d)].join(""));},V2=function V2(a){a=s2(a);var c=Yg(a);a=B.B(c,zw);var d=G(a),e=H(d);J(d);var f=B.B(c,
Yv),h=N(f,0,null),k=B.B(c,Ux);d=B.B(c,Hv);var m=B.B(c,ms);c=B.B(c,Gp);if(F.B(Wq,k))return m;if(F.B(null,k))return null;if(F.B(Xm,k))return e=V2.C?V2.C(d):V2.call(null,d),(f=F.B(e,jn))?d=f:(d=Ux.C(s2(d)),f=new zk(null,new q(null,2,[$t,null,iq,null],null),null),d=f.C?f.C(d):f.call(null,d),d=r(d)?sf(e):d,d=r(d)?d:null),r(d)?jn:K2(e,a,c);if(F.B($t,k))return W2(d,m,h);if(F.B(iq,k))return W2(e,m,h);if(F.B(cn,k))return c=R2(a,f,c,U2),a=N(c,0,null),a=N(a,0,null),c=N(c,1,null),c=N(c,0,null),a=null==a?jn:V2.C?
V2.C(a):V2.call(null,a),r(c)?new Y(c,a,null):a;throw Error(["No matching clause: ",t.C(k)].join(""));};function W2(a,b,c){a=s2(a);var d=Yg(a),e=B.B(d,Ux);B.B(d,zw);a=B.B(d,xt);if(F.B(null,e))return b;if(F.B(cn,e)||F.B(Wq,e)||F.B(Xm,e))return a=V2(d),F.B(a,jn)?b:gf.B(b,r(c)?mf([c,a]):a);if(F.B($t,e)||F.B(iq,e))return d=V2(d),sf(d)||(c=r(c)?mf([c,d]):d,a=r(a)?ei:gf,b=a.B?a.B(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.C(e)].join(""));}
var X2=function X2(a,b){a=s2(a);var d=Yg(a),e=B.B(d,Gp),f=B.B(d,Fv);a=B.B(d,zw);var h=G(a),k=H(h),m=J(h),n=B.B(d,ms);h=B.B(d,Ux);var p=B.B(d,xt),u=B.B(d,Yv),v=G(u),z=H(v),C=J(v);v=B.B(d,$y);var E=B.B(d,Hv);if(r(d)){if(F.B(Wq,h))return null;if(F.B(null,h))return a=H2(d,b,d),U(hq,a)?null:N2(a);if(F.B(Xm,h))return d=X2.B?X2.B(E,b):X2.call(null,E,b),r(d)?F.B(Wq,Ux.C(d))?(a=K2(V2(d),a,J(e)),U(hq,a)?null:N2(a)):new q(null,5,[Ux,Xm,Hv,d,$y,v,zw,a,Gp,e],null):null;if(F.B(iq,h))return T2(P2(new q(null,4,[zw,
Ye(X2.B?X2.B(k,b):X2.call(null,k,b),m),Yv,u,Gp,e,ms,n],null)),r(U2(k))?function(){var I=P2(new q(null,4,[zw,m,Yv,C,Gp,J(e),ms,W2(k,n,z)],null));return X2.B?X2.B(I,b):X2.call(null,I,b)}():null);if(F.B(cn,h))return S2(Ph.B(function(I){return X2.B?X2.B(I,b):X2.call(null,I,b)},a),u,e);if(F.B($t,h))return T2(Q2(X2.B?X2.B(E,b):X2.call(null,E,b),f,n,p,e),r(U2(E))?function(){var I=Q2(f,f,W2(E,n,null),p,e);return X2.B?X2.B(I,b):X2.call(null,I,b)}():null);throw Error(["No matching clause: ",t.C(h)].join(""));
}return null};function Y2(a,b){for(;;){var c=G(b),d=H(c);c=J(c);if(sf(b))return r(U2(a))?(a=V2(a),F.B(a,jn)?null:a):hq;a=X2(a,d);if(r(a))b=c;else return hq}}
var y2=function y2(a,b){if("undefined"===typeof Pb||"undefined"===typeof i2||"undefined"===typeof j2||"undefined"===typeof n2)n2=function(d,e,f){this.re=d;this.Ne=e;this.ul=f;this.O=393216;this.T=0},n2.prototype.ha=function(d,e){return new n2(this.re,this.Ne,e)},n2.prototype.ga=function(){return this.ul},n2.prototype.ie=function(){return this},n2.prototype.je=function(){return this},n2.prototype.wg=l,n2.prototype.Ef=function(d,e){return null==e||vf(e)?Y2(this.re,G(e)):hq},n2.prototype.Ff=function(d,
e){return y2.B?y2.B(this.re,e):y2.call(null,this.re,e)},n2.Wa=!0,n2.Sa="cljs.spec.alpha/t_cljs$spec$alpha44165",n2.Za=function(d){return xd(d,"cljs.spec.alpha/t_cljs$spec$alpha44165")};return new n2(a,b,W)};
G2(Mq,og(oC,og(Xv,new X(null,1,5,Z,[cw],null),og(Gq,og(Vt,Qp,cw),og(Vt,Op,cw))),og(Xv,new X(null,1,5,Z,[HD],null),og(Vt,og(ew,new X(null,1,5,Z,[new X(null,2,5,Z,[Ao,yo],null)],null),new q(null,2,[Qp,Ao,Op,yo],null)),HD))),J2(og(oC,og(ew,new X(null,1,5,Z,[Wp],null),og(Gq,og(Vt,Qp,Wp),og(Vt,Op,Wp))),og(ew,new X(null,1,5,Z,[Wp],null),og(Vt,og(ew,new X(null,1,5,Z,[new X(null,2,5,Z,[Ao,yo],null)],null),new q(null,2,[Qp,Ao,Op,yo],null)),Wp))),function(a){return Gk(Ph.B(Qp,a),Ph.B(Op,a))},null,!0,function(a){return Ph.B(function(b){var c=
N(b,0,null);b=N(b,1,null);return new q(null,2,[Qp,c,Op,b],null)},a)}));G2(kv,Cn,lc);G2(Mp,new zk(null,new q(null,8,[EE,"null",Qx,"null",Gr,"null",ar,"null",kE,"null",Uv,"null",my,"null",pz,"null"],null),null),new zk(null,new q(null,8,[EE,null,Qx,null,Gr,null,ar,null,kE,null,Uv,null,my,null,pz,null],null),null));
G2(Fo,og(tr,ls,new X(null,2,5,Z,[kv,Mp],null)),function Z2(a){var c=Yg(a),d=B.B(c,qE),e=B.B(c,Fp),f=B.B(c,$w),h=B.B(c,IA),k=B.B(c,Ir),m=B.B(c,mr),n=B.B(c,mu),p=B.B(c,eC),u=B.B(c,ls),v=B.B(c,dE),z=B.B(c,oB),C=B.B(c,zA),E=Gk(V.B(v,n),V.B(p,z)),I=qm();if("undefined"===typeof Pb||"undefined"===typeof i2||"undefined"===typeof j2||"undefined"===typeof k2)k2=function(O,P,T,aa,ea,va,ua,Ma,Ka,la,ya,sa,Da,fb,zc,jc,kc,Db,Fd){this.Ig=O;this.Dl=P;this.Il=T;this.Ul=aa;this.Gl=ea;this.Ne=va;this.Kl=ua;this.Jg=Ma;
this.wi=Ka;this.El=la;this.Tl=ya;this.req=sa;this.id=Da;this.Ok=fb;this.Sl=zc;this.Fl=jc;this.Hk=kc;this.Ll=Db;this.rl=Fd;this.O=393216;this.T=0},k2.prototype.ha=function(O,P){return new k2(this.Ig,this.Dl,this.Il,this.Ul,this.Gl,this.Ne,this.Kl,this.Jg,this.wi,this.El,this.Tl,this.req,this.id,this.Ok,this.Sl,this.Fl,this.Hk,this.Ll,P)},k2.prototype.ga=function(){return this.rl},k2.prototype.ie=function(){return this},k2.prototype.je=function(){return this},k2.prototype.wg=l,k2.prototype.Ef=function(O,
P){if(r(this.Jg.C?this.Jg.C(P):this.Jg.call(null,P))){O=y(q2);var T=G(P),aa=H(T);J(T);N(aa,0,null);N(aa,1,null);for(aa=T=P;;){P=T;var ea=aa;aa=G(ea);T=H(aa);var va=J(aa);aa=T;T=N(aa,0,null);aa=N(aa,1,null);if(r(ea))if(ea=this.Ig.C?this.Ig.C(T):this.Ig.call(null,T),ea=B.B(O,ea),r(ea)){var ua=aa;ea=o2(E2.C(ea),ua);if(U(hq,ea))return hq;P=ea===aa?P:Q.D(P,T,ea);aa=va;T=P}else aa=va,T=P;else return P}}else return hq},k2.prototype.Ff=function(O,P){O=Q.D(this.wi,IA,P);return Z2.C?Z2.C(O):Z2.call(null,O)},
k2.Wa=!0,k2.Sa="cljs.spec.alpha/t_cljs$spec$alpha43777",k2.Za=function(O){return xd(O,"cljs.spec.alpha/t_cljs$spec$alpha43777")};return new k2(function(O){var P=E.C?E.C(O):E.call(null,O);return r(P)?P:O},d,a,e,f,h,k,m,c,n,p,u,I,c,v,z,E,C,W)}(Vj([Fp,$w,IA,Ir,mr,mu,eC,ls,dE,oB,zA,qE],[null,null,null,new X(null,3,5,Z,[function(a){return wf(a)},function(a){return S(a,kv)},function(a){return S(a,Mp)}],null),function(a){return wf(a)&&S(a,kv)&&S(a,Mp)},hf,new X(null,2,5,Z,[kv,Mp],null),new X(null,2,5,Z,
[kv,Mp],null),new X(null,2,5,Z,[kv,Mp],null),hf,new X(null,3,5,Z,[og(ew,new X(null,1,5,Z,[Wp],null),og(gp,Wp)),og(ew,new X(null,1,5,Z,[Wp],null),og(SB,Wp,kv)),og(ew,new X(null,1,5,Z,[Wp],null),og(SB,Wp,Mp))],null),null])));G2(jr,og(Ho,Fo),M2(Fo,Fo,new q(null,4,[tv,!0,ln,null,$C,og(Ho,Fo),cz,function(a){return tf(a)}],null),null));var $2=hZ(13);var a3=hZ(50);var b3=hZ(51);hZ(52);hZ(57);var c3=hZ(64);var d3=hZ(86);var e3=hZ(121);var f3=hZ(143);var g3=hZ(168);var h3=hZ(180);var i3=hZ(297);var j3=hZ(323);var k3=hZ(365);function l3(a){a=Yg(a);var b=B.B(a,Xq),c=B.B(a,Xn),d=B.B(a,MA),e=B.B(a,Zz),f=B.B(a,Ss),h=Ph.B(function(k){return yf(k)?k:new X(null,2,5,Z,[k,t.C(k)],null)},e);return new X(null,3,5,Z,[Ko,new X(null,2,5,Z,[Iw,function(){return function n(m){return new vg(null,function(){for(;;){var p=G(m);if(p){if(zf(p)){var u=Od(p),v=K(u),z=zg(v);a:for(var C=0;;)if(C<v){var E=x(u,C);N(E,0,null);E=N(E,1,null);E=pf(new X(null,2,5,Z,[zv,new X(null,2,5,Z,[XC,E],null)],null),new q(null,1,[XD,E],null));z.add(E);C+=1}else{u=
!0;break a}return u?Bg(Dg(z),n(Pd(p))):Bg(Dg(z),null)}z=H(p);N(z,0,null);z=N(z,1,null);return Ye(pf(new X(null,2,5,Z,[zv,new X(null,2,5,Z,[XC,z],null)],null),new q(null,1,[XD,z],null)),n(te(p)))}return null}},null,null)}(h)}()],null),new X(null,4,5,Z,[RA,c3.FixedSizeList,new q(null,4,[WB,b,go,c,cv,d,$x,K(f)],null),Y_(function(k){k=Yg(k);var m=B.B(k,QC);k=B.B(k,wo);return new X(null,3,5,Z,[eu,new q(null,1,[wo,Rl(k)],null),function(){var n=N(f,m,null);return function v(u){return new vg(null,function(){for(;;){var z=
G(u);if(z){if(zf(z)){var C=Od(z),E=K(C),I=zg(E);a:for(var O=0;;)if(O<E){var P=x(C,O),T=N(P,0,null);P=N(P,1,null);T=pf(new X(null,2,5,Z,[zv,new X(null,2,5,Z,[Wx,yf(T)?ii(n,T):B.B(n,T)],null)],null),new q(null,1,[XD,P],null));I.add(T);O+=1}else{C=!0;break a}return C?Bg(Dg(I),v(Pd(z))):Bg(Dg(I),null)}C=H(z);I=N(C,0,null);C=N(C,1,null);return Ye(pf(new X(null,2,5,Z,[zv,new X(null,2,5,Z,[Wx,yf(I)?ii(n,I):B.B(n,I)],null)],null),new q(null,1,[XD,C],null)),v(te(z)))}return null}},null,null)}(h)}()],null)})],
null)],null)}function m3(a){a=Yg(a);var b=B.B(a,ZB),c=B.B(a,cx),d=B.B(a,Dr),e=B.B(a,UB),f=B.B(a,Ws);return q_(new q(null,2,[vB,function(){return new X(null,1,5,Z,[$n],null)},wu,function(h){h=b3(Z_.findDOMNode(h),{value:d,mode:e,lineNumbers:f});h.setSize(c,b);return h}],null),X_)}function n3(a){a=Yg(a);var b=B.B(a,Bt);return q_(new q(null,2,[vB,function(){return new X(null,1,5,Z,[$n],null)},wu,function(c){return a3(Z_.findDOMNode(c),Nl(b))}],null),X_)}
function o3(a){return new X(null,2,5,Z,[wz,new q(null,1,[us,new q(null,1,[cD,$2(aD.C(a))],null)],null)],null)}function p3(a){return new X(null,2,5,Z,[$n,new q(null,1,[us,new q(null,1,[cD,RC.C(a)],null)],null)],null)}
function q3(a){var b=Yg(a);a=B.B(b,mp);var c=B.B(b,VD),d=B.B(b,Av),e=B.B(b,py);return r(a)?(b=uk.I(M([W,r(c)?new q(null,1,["dataProjection",c],null):null,r(d)?new q(null,1,["featureProjection",d],null):null])),a=(new h3.default).readFeature(a,Nl(b)),r(e)&&a.setStyle(new j3.Style(Nl(uk.I(M([W,function(){var f=ii(e,new X(null,2,5,Z,[Gx,pC],null));return r(f)?new q(null,1,[Yz,new j3.Fill({color:d3.asString(f)})],null):null}(),function(){var f=ii(e,new X(null,2,5,Z,[LB,pC],null));return r(f)?new q(null,
1,[Is,new j3.Stroke({color:d3.asString(f)})],null):null}()]))))),a):null}
function r3(a){a=Yg(a);var b=B.B(a,Ey),c=B.B(a,Iy),d=B.B(a,Py),e=B.B(a,dD),f=B.B(a,jq),h=B.B(a,Nv),k=B.B(a,eq);return q_(new q(null,2,[vB,function(){return new X(null,2,5,Z,[$n,new q(null,1,[wo,new q(null,2,[WB,r(b)?b:"500px",go,r(c)?c:"1200px"],null)],null)],null)},wu,function(m){var n=null==e?null:Nl(e),p=r(f)?function(){var z=null==n?null:e3.fromLonLat(n);console.log(["Center projection: ",OE(" ",e)," (WGS84) to ",t.C(z)," (EPSG:3857)"].join(""));return z}():n;p=r(p)?p:[0,0];var u=r(d)?new j3.Style(Nl(uk.I(M([W,
function(){var z=ii(d,new X(null,2,5,Z,[Yz,kr],null));return r(z)?new q(null,1,[Yz,new j3.Fill({color:d3.asString(z)})],null):null}(),function(){var z=ii(d,new X(null,2,5,Z,[Is,kr],null));return r(z)?new q(null,1,[Is,new j3.Stroke({color:d3.asString(z)})],null):null}()])))):null,v=new i3.Vector(Nl(new q(null,1,["features",fi.B(q3,k)],null)));u=new k3.Vector(Nl(uk.I(M([new q(null,1,[bw,v],null),r(u)?new q(null,1,[wo,u],null):null]))));v=new i3.XYZ({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
attributions:"Tiles \x26copy; Esri \x26mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"});return new g3.default({target:Z_.findDOMNode(m),layers:[new k3.Tile({source:v}),u],view:new f3.default({center:p,zoom:r(h)?h:4})})}],null),X_)}
function s3(a){return new X(null,2,5,Z,[BB,function(){return function d(c){return new vg(null,function(){for(;;){var e=G(c);if(e){if(zf(e)){var f=Od(e),h=K(f),k=zg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[zv,new q(null,1,[XD,kv.C(n)],null),new X(null,2,5,Z,[t3,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Bg(Dg(k),d(Pd(e))):Bg(Dg(k),null)}k=H(e);return Ye(new X(null,3,5,Z,[zv,new q(null,1,[XD,kv.C(k)],null),new X(null,2,5,Z,[t3,k],null)],null),d(te(e)))}return null}},
null,null)}(io.C(a))}()],null)}
function u3(a){return new X(null,2,5,Z,[zr,function(){return function d(c){return new vg(null,function(){for(;;){var e=G(c);if(e){if(zf(e)){var f=Od(e),h=K(f),k=zg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[zv,new q(null,1,[XD,kv.C(n)],null),new X(null,2,5,Z,[t3,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Bg(Dg(k),d(Pd(e))):Bg(Dg(k),null)}k=H(e);return Ye(new X(null,3,5,Z,[zv,new q(null,1,[XD,kv.C(k)],null),new X(null,2,5,Z,[t3,k],null)],null),d(te(e)))}return null}},
null,null)}(io.C(a))}()],null)}
function t3(a){var b=Yg(a),c=B.B(b,kv),d=B.B(b,Mp);b=function(){switch(d instanceof D?d.ba:null){case "widget.type/html":return p3;case "widget.type/row":return s3;case "widget.type/column":return u3;case "widget.type/table":return l3;case "widget.type/vega-embed":return n3;case "widget.type/codemirror":return m3;case "widget.type/markdown":return o3;case "widget.type/geoplot":return r3;default:return new X(null,2,5,Z,[fu,new X(null,3,5,Z,[Wx,"Unknown Widget type ",new X(null,2,5,Z,[Co,t.C(d)],null)],
null)],null)}}();return pf(new X(null,2,5,Z,[b,a],null),new q(null,1,[XD,c],null))};var v3=hZ(366);var w3=hZ(368);var x3=function(a){return TJ(ug(a),VJ({handlers:Nl(uk.I(M([new q(null,6,["$",function(b){return ne.C(b)},":",function(b){return tg.C(b)},"set",function(b){return ei.B(Bk,b)},"list",function(b){return ei.B(ue,b.reverse())},"cmap",function(b){for(var c=0,d=Gd(W);;)if(c<b.length){var e=c+2;d=Jd(d,b[c],b[c+1]);c=e}else return Id(d)},"with-meta",function(b){return pf(b[0],b[1])}],null),R.B($m.C(null),nm)]))),defaultHandler:nm.C($m.C(null)),mapBuilder:new WJ,arrayBuilder:new XJ,preferStrings:!1,preferBuffers:!1},
Nl(uI())))}(zp),y3=function(a){var b=new $J,c=new aK,d=new bK,e=new cK,f=uk.I(M([Vj([Tj,pg,q,Oj,Yi,re,D,ck,mg,vg,Qi,Xi,Qj,tk,eK,gj,X,jf,We,zk,mk,sk,Ni,Ck,Ag,A,pm,Ok,Yj,bk],[c,b,c,b,b,b,new YJ,e,b,b,e,b,b,b,new fK,b,e,b,b,d,c,b,b,d,b,new ZJ,new dK,b,b,e]),"undefined"!==typeof Pb&&"undefined"!==typeof Qb&&"undefined"!==typeof Jl?mf([Jl,b]):null,"undefined"!==typeof Pb&&"undefined"!==typeof Qb&&"undefined"!==typeof Uh?mf([Uh,b]):null,"undefined"!==typeof Pb&&"undefined"!==typeof Qb&&"undefined"!==typeof Y?
mf([Y,e]):null,$m.C(null)]));return UJ(ug(a),VJ({objectBuilder:function(h,k,m){return Rf(function(n,p,u){n.push(k.C?k.C(p):k.call(null,p),m.C?m.C(u):m.call(null,u));return n},["^ "],h)},handlers:function(){var h=Ac(f);h.forEach=function(k){for(var m=G(this),n=null,p=0,u=0;;)if(u<p){var v=n.Da(null,u),z=N(v,0,null);v=N(v,1,null);F.B(nm,z)?k.B?k.B(v,"default"):k.call(null,v,"default"):k.B?k.B(v,z):k.call(null,v,z);u+=1}else if(m=G(m))zf(m)?(n=Od(m),m=Pd(m),z=n,p=K(n),n=z):(n=H(m),z=N(n,0,null),v=N(n,
1,null),F.B(nm,z)?k.B?k.B(v,"default"):k.call(null,v,"default"):k.B?k.B(v,z):k.call(null,v,z),m=J(m),n=null,p=0),u=0;else return null};return h}(),unpack:function(h){return h instanceof q?h.K:!1}},Nl(R.B(null,$m))))}(zp),z3=SZ.C(W),A3=function(a,b,c){var d=N(c,0,null),e=Yg(d),f=B.B(e,AE),h=B.D(e,As,UP.I(M([tp,20]))),k=B.D(e,mq,function(){var la=gz.C(e);return r(la)?la:TP()}()),m=B.B(e,Zu),n=B.D(e,ut,lr),p=B.B(e,vq),u=B.B(e,$z),v=B.D(e,to,Mo),z=B.B(e,qw),C=B.B(e,Sv),E=B.B(e,sy);d=B.D(e,rv,xK(2048));
var I=B.D(e,tD,bP),O=B.D(e,uB,!0);null!=N(c,1,null)&&ZQ(kD,1706,new Cl(function(){return new X(null,1,5,Z,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),-1368866396);S(e,Lm)&&ZQ(kD,1707,new Cl(function(){return new X(null,1,5,Z,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),-1376176608);AR(!0,b);var P=lR(n);n=function(){if(r(cP)){var la=cP.location;var ya=r(la)?new q(null,7,[qo,la.href,Zu,la.protocol,lA,la.hostname,sy,la.host,Lx,la.pathname,
oy,la.search,MD,la.hash],null):null}else ya=null;la=r(a)?a:Lx.C(ya);var sa=Qt.C(e);if(r(sa))return new X(null,2,5,Z,[sa.D?sa.D(la,ya,Vx):sa.call(null,la,ya,Vx),sa.D?sa.D(la,ya,pD):sa.call(null,la,ya,pD)],null);r(m)?sa=m:(sa=Zu.C(ya),sa=r(sa)?sa:sw);ya=r(E)?r(z)?[t.C(E),":",t.C(z)].join(""):E:r(z)?[t.C(lA.C(ya)),":",t.C(z)].join(""):sy.C(ya);return new X(null,2,5,Z,[HR(sa,ya,la,Vx),HR(sa,ya,la,pD)],null)}();c=N(n,0,null);var T=N(n,1,null);n=new q(null,3,[ip,sL(xK(128),null),Ew,sL(xK(10),null),xy,function(){var la=
xK(512);return r(O)?rL(la,Ph.C(function(ya){return new X(null,2,5,Z,[$D,ya],null)})):sL(la,null)}()],null);h=new q(null,6,[mq,k,YB,n,vq,p,Sv,C,ut,P,As,h],null);var aa=uk.I(M([h,new q(null,3,[gt,c,tD,I,$z,u],null)])),ea=uk.I(M([h,new q(null,3,[gt,T,AE,f,tD,I],null)])),va=new q(null,2,[gs,aa,tw,ea],null);f=mR(function(){var la=v instanceof D?v.ba:null;switch(la){case "ws":return CR(aa,b);case "ajax":return FR(ea,b);case "auto":la=uk.I(M([new q(null,2,[PC,Ch(new q(null,4,[to,Mo,$s,!1,Sz,!1,bz,b],null)),
Rx,Ch(null)],null),va]));var ya=R.I(la,gs,M([tw,PC,Rx]));ya=xf(la)?ei.B(W,ya):ya;return new GR(gs.C(la),tw.C(la),PC.C(la),Rx.C(la),null,$g(ya),null);default:throw Error(["No matching clause: ",t.C(la)].join(""));}}());if(r(f)){var ua=PC.C(f),Ma=ip.C(n),Ka=vh.B(pR,f);d=CL(new X(null,3,5,Z,[ip.C(n),Ew.C(n),xy.C(n)],null),d);u=rL(1,Ph.C(function(la){var ya=eR(la);la=r(ya)?new X(null,2,5,Z,[gD,la],null):la;ya=N(la,0,null);var sa=N(la,1,null);return new q(null,6,[Wo,Ma,dA,Ka,Ew,ua,Cx,la,vE,ya,nA,sa],null)}));
zL(d,u);return new q(null,4,[Uz,f,Wo,u,dA,Ka,Ew,PC.C(f)],null)}return ZQ(kD,1813,new Cl(function(){return new X(null,1,5,Z,["Failed to create channel socket"],null)}),-1151808146)}("/chsk",null,M([new q(null,1,[to,Mo],null)])),B3=Yg(A3);B.B(B3,Uz);var C3=B.B(B3,Wo),D3=Ch(function(){return null});function E3(a){a=SV?SV(a):RV.call(null,a);IY(a)}var F3=function F3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return F3.I(c)};
F3.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[aE,uk.I(M([new q(null,4,[Yz,"none",Is,"currentColor",Zx,"0 0 24 24",Ev,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[gB,new q(null,4,[yz,"round",Ot,"round",Sq,"2",FB,"M6 18L18 6M6 6l12 12"],null)],null)],null)};F3.aa=0;F3.fa=function(a){return this.I(G(a))};var G3=function G3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return G3.I(c)};
G3.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[sr,uk.I(M([new q(null,4,[Yz,"none",Is,"currentColor",Zx,"0 0 24 24",Ev,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[gB,new q(null,4,[yz,"round",Ot,"round",Sq,"2",FB,"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],null)],null)],null)};G3.aa=0;G3.fa=function(a){return this.I(G(a))};
var H3=function H3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new re(c.slice(0),0,null):null;return H3.I(c)};
H3.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[sr,uk.I(M([new q(null,4,[Yz,"none",Is,"currentColor",Zx,"0 0 24 24",Ev,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[gB,new q(null,4,[yz,"round",Ot,"round",Sq,"2",FB,"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"],null)],null)],null)};H3.aa=0;H3.fa=function(a){return this.I(G(a))};
function I3(){return new X(null,3,5,Z,[$n,new q(null,1,[SC,"flex justify-center items-center w-1/2 h-1/3 border-4 border-dashed rounded"],null),new X(null,2,5,Z,[OA,new q(null,2,[to,"file",Bm,function(a){a=H(a.target.files);if(null==a)return null;var b=new FileReader;console.log("Processing...",a);Fh.D(z3,uk,new q(null,1,[Dl,Tv],null));b.onload=function(c){try{return E3(x3.read(c.target.result)),Fh.D(z3,uk,new q(null,1,[Dl,El],null))}catch(d){if(d instanceof Error)return console.error("Can't import file\n",
d),Fh.D(z3,uk,new q(null,1,[Dl,yx],null));throw d;}};b.onerror=function(c){console.log(c.target.error);return Fh.D(z3,uk,new q(null,1,[Dl,yx],null))};return b.readAsText(a)}],null)],null)],null)}
function J3(a){var b=WZ(),c=0===b.length||hc(b.hasOwnProperty(0))?b[0]=SZ.C(!1):b[0];return new X(null,4,5,Z,[Jn,new q(null,2,[Pt,function(){return Eh(c,!0)},Kz,function(){return Eh(c,!1)}],null),new X(null,2,5,Z,[t3,a],null),new X(null,3,5,Z,[sp,new q(null,1,[SC,r(y(c))?"bg-gray-50":null],null),new X(null,3,5,Z,[Hq,new q(null,2,[SC,new X(null,9,5,Z,["h-6 w-6","inline-flex items-center justify-center","bg-gray-200 hover:bg-gray-300","text-gray-600","focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-teal-500",
"transition duration-200 ease-in-out","rounded","cursor-default",r(y(c))?null:"invisible"],null),nw,function(){return HY(new X(null,1,5,Z,[new X(null,2,5,Z,[jo,pp.C(a)],null)],null))}],null),new X(null,2,5,Z,[F3,new q(null,1,[SC,"w-5 h-5"],null)],null)],null)],null)],null)}
function K3(a){return new X(null,3,5,Z,[Lp,new X(null,2,5,Z,[Mt,new X(null,3,5,Z,[hA,new X(null,4,5,Z,[RA,w3.Tooltip,new q(null,2,[Oy,"View database",Dm,"small"],null),new X(null,3,5,Z,[Em,new q(null,3,[XD,"database",SC,"inline-flex items-center px-3 py-2 border text-gray-600 hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out",nw,function(){return HY(new X(null,
1,5,Z,[new q(null,5,[kv,t.C(qm()),Mp,Uv,UB,"clojure",Ws,!0,Dr,function(){var b=new Ob,c=Ub,d=Tb;Ub=!0;Tb=function(e){return b.append(e)};try{eG()}finally{Tb=d,Ub=c}return t.C(b)}()],null)],null))}],null),new X(null,1,5,Z,[H3],null)],null)],null),new X(null,4,5,Z,[RA,w3.Tooltip,new q(null,2,[Oy,"Download document",Dm,"small"],null),new X(null,3,5,Z,[Em,new q(null,3,[XD,"download",SC,new X(null,2,5,Z,[sf(a)?"text-gray-300 pointer-events-none":"text-gray-600","inline-flex items-center px-3 py-2 border hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out"],
null),nw,function(){var b=y(fG);b=QV?QV(b):PV.call(null,b);b=y3.write(b);return v3.saveAs(new Blob([b],{type:"application/transit+json"}),"widgets.json")}],null),new X(null,1,5,Z,[G3],null)],null)],null)],null)],null),function(){var b=y(z3);b=Yg(b);b=B.B(b,Dl);b=b instanceof D?b.ba:null;switch(b){case "loading":return new X(null,2,5,Z,[OD,new X(null,2,5,Z,[Wx,"Loading..."],null)],null);case "processing":return new X(null,2,5,Z,[OD,new X(null,2,5,Z,[Wx,"Processing..."],null)],null);case "error":return new X(null,
4,5,Z,[OD,new X(null,2,5,Z,[or,"Oops..."],null),new X(null,2,5,Z,[NB,"Something went wrong"],null),new X(null,3,5,Z,[Em,new q(null,2,[SC,"inline-flex items-center mt-5 px-3 py-1 border text-gray-600 hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out",nw,function(){return window.location.reload(!0)}],null),"Reload"],null)],null);case "ready":return G(a)?
new X(null,2,5,Z,[Ku,function(){return function e(d){return new vg(null,function(){for(;;){var f=G(d);if(f){if(zf(f)){var h=Od(f),k=K(h),m=zg(k);a:for(var n=0;;)if(n<k){var p=x(h,n);p=pf(new X(null,2,5,Z,[J3,p],null),new q(null,1,[XD,pp.C(p)],null));m.add(p);n+=1}else{h=!0;break a}return h?Bg(Dg(m),e(Pd(f))):Bg(Dg(m),null)}m=H(f);return Ye(pf(new X(null,2,5,Z,[J3,m],null),new q(null,1,[XD,pp.C(m)],null)),e(te(f)))}return null}},null,null)}(a)}()],null):new X(null,2,5,Z,[OD,new X(null,1,5,Z,[I3],null)],
null);default:throw Error(["No matching clause: ",t.C(b)].join(""));}}()],null)}function L3(a){a=Yg(a);var b=B.B(a,nA),c=N(b,0,null);b=N(b,1,null);console.group("Sente");console.log(wk(a,new X(null,2,5,Z,[vE,nA],null)));console.groupEnd();return F.B(Fu,c)?HY(b):null}
function M3(){var a=new X(null,7,5,Z,[zy,new X(null,2,5,Z,[og(HB,wE,new X(null,2,5,Z,[yp,new q(null,1,[io,new X(null,1,5,Z,[kC],null)],null)],null)),LA],null),pE,bo,Sn,new X(null,2,5,Z,[wE,kv],null),new X(null,1,5,Z,[og(ep,bo,wE,Fs)],null)],null);var b=y(fG);a=gG.B?gG.B(a,b):gG.call(null,a,b);a=Of(pp,a);a=new X(null,2,5,Z,[K3,a],null);b=document.getElementById("app");return b0(a,b)}var c2;
var c1=new X(null,1,5,Z,["/"],null),N3=uk.I(M([new q(null,1,[ry,function(a,b){N(a,0,null);a=N(a,1,null);var c=Yg(a);a=B.B(c,nx);c=B.B(c,vp);return r(r(a)?c:a)?v1(c,a,b):null}],null),W])),O3=uk.I(M([function(){return new q(null,6,[VB,function(a){N(a,0,null);a=N(a,1,null);a=Yg(a);a=B.B(a,Gt);return r(a)?If([a]):null},qt,E1,aB,function(a){return a},ry,function(a){N(a,0,null);a=N(a,1,null);a=Yg(a);return B.B(a,gy)},Nw,k0,lt,function(a){return i0(Zq,a)}],null)}(),N3])),d1=Yg(O3),P3=B.B(d1,Tw),Q3=B.B(d1,
lt);try{var j1=b1(),g1=hc(r(P3)?hc(Q3):P3)?e1(j1,d1):null,R3=i1(),S3=l1(),T3=Ef(qh(W0(d1),S3)),U3=ph(W0(d1),S3),V3=r(P3)?P3:F.B(1,K(S3))&&!T3?N1:r(g1)?P1:T3?U3?M1:O1:L1,W3=r(Q3)?f1():Q3;r(W3)&&(Q3.C?Q3.C(W3):Q3.call(null,W3));r(R3)&&i0(Hx,R3);var X3=Oq.C(d1);r(X3)&&(X3.B?X3.B(S3,d1):X3.call(null,S3,d1));var Y3=Q.D(d1,Tn,g1);c2=V3.B?V3.B(S3,Y3):V3.call(null,S3,Y3)}catch(a){if(a instanceof Error){var Z3=a,$3=B.D(d1,Nw,Sf);throw $3.C?$3.C(Z3):$3.call(null,Z3);}throw a;}
function a4(){console.log("Welcome to Literate",r(!1)?"(dev build)":"(release build)");b2(function(a){var b=function(){var c=ii(a,new X(null,2,5,Z,[Gz,qB],null));return r(c)?c:ii(a,new X(null,2,5,Z,[Gz,Hy],null))}();return r(b)?(console.log("Loading...",b),Fh.D(z3,uk,new q(null,1,[Dl,wv],null)),fetch(b).then(function(c){return r(c.ok)?(console.log("Processing "),Fh.D(z3,uk,new q(null,1,[Dl,Tv],null)),c.text().then(function(d){try{var e=x3.read(d);r(ii(a,new X(null,2,5,Z,[Gz,qB],null)))?E3(e):r(ii(a,
new X(null,2,5,Z,[Gz,Hy],null)))&&HY(e);Fh.D(z3,uk,new q(null,1,[Dl,El],null));return console.log("Done ")}catch(f){if(f instanceof Error)return console.error(f),Fh.D(z3,uk,new q(null,1,[Dl,yx],null));throw f;}})):Fh.D(z3,uk,new q(null,1,[Dl,yx],null))})):Fh.D(z3,uk,new q(null,1,[Dl,El],null))});Eh(D3,JR(C3,L3));JY(function(){return M3()});return M3()}da("literate.app.init",a4);a4();
}).call(this);