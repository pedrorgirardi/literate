var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(ra,z,cb,B){var v=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;cb.exports=function(){try{if(!Object.assign)return!1;var A=new String("abc");A[5]="de";if("5"===Object.getOwnPropertyNames(A)[0])return!1;var u={};for(A=0;10>A;A++)u["_"+String.fromCharCode(A)]=A;if("0123456789"!==Object.getOwnPropertyNames(u).map(function(l){return u[l]}).join(""))return!1;var m={};"abcdefghijklmnopqrst".split("").forEach(function(l){m[l]=
l});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},m)).join("")?!1:!0}catch(l){return!1}}()?Object.assign:function(A,u){if(null===A||void 0===A)throw new TypeError("Object.assign cannot be called with null or undefined");var m=Object(A);for(var l,f=1;f<arguments.length;f++){var g=Object(arguments[f]);for(var d in g)k.call(g,d)&&(m[d]=g[d]);if(v){l=v(g);for(var b=0;b<l.length;b++)p.call(g,l[b])&&(m[l[b]]=g[l[b]])}}return m}};
shadow$provide[1]=function(ra,z,cb,B){function v(J){if(null===J||"object"!==typeof J)return null;J=L&&J[L]||J["@@iterator"];return"function"===typeof J?J:null}function k(J){for(var r="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+J,C=1;C<arguments.length;C++)r+="\x26args[]\x3d"+encodeURIComponent(arguments[C]);return"Minified React error #"+J+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(J,r,C){this.props=
J;this.context=r;this.refs=V;this.updater=C||O}function A(){}function u(J,r,C){this.props=J;this.context=r;this.refs=V;this.updater=C||O}function m(J,r,C){var N,U={},ja=null,ba=null;if(null!=r)for(N in void 0!==r.ref&&(ba=r.ref),void 0!==r.key&&(ja=""+r.key),r)ca.call(r,N)&&!ea.hasOwnProperty(N)&&(U[N]=r[N]);var ia=arguments.length-2;if(1===ia)U.children=C;else if(1<ia){for(var za=Array(ia),Wa=0;Wa<ia;Wa++)za[Wa]=arguments[Wa+2];U.children=za}if(J&&J.defaultProps)for(N in ia=J.defaultProps,ia)void 0===
U[N]&&(U[N]=ia[N]);return{$$typeof:y,type:J,key:ja,ref:ba,props:U,_owner:S.current}}function l(J,r){return{$$typeof:y,type:J.type,key:r,ref:J.ref,props:J.props,_owner:J._owner}}function f(J){return"object"===typeof J&&null!==J&&J.$$typeof===y}function g(J){var r={"\x3d":"\x3d0",":":"\x3d2"};return"$"+J.replace(/[=:]/g,function(C){return r[C]})}function d(J,r){return"object"===typeof J&&null!==J&&null!=J.key?g(""+J.key):r.toString(36)}function b(J,r,C,N,U){var ja=typeof J;if("undefined"===ja||"boolean"===
ja)J=null;var ba=!1;if(null===J)ba=!0;else switch(ja){case "string":case "number":ba=!0;break;case "object":switch(J.$$typeof){case y:case q:ba=!0}}if(ba)return ba=J,U=U(ba),J=""===N?"."+d(ba,0):N,Array.isArray(U)?(C="",null!=J&&(C=J.replace(T,"$\x26/")+"/"),b(U,r,C,"",function(Wa){return Wa})):null!=U&&(f(U)&&(U=l(U,C+(!U.key||ba&&ba.key===U.key?"":(""+U.key).replace(T,"$\x26/")+"/")+J)),r.push(U)),1;ba=0;N=""===N?".":N+":";if(Array.isArray(J))for(var ia=0;ia<J.length;ia++){ja=J[ia];var za=N+d(ja,
ia);ba+=b(ja,r,C,za,U)}else if(za=v(J),"function"===typeof za)for(J=za.call(J),ia=0;!(ja=J.next()).done;)ja=ja.value,za=N+d(ja,ia++),ba+=b(ja,r,C,za,U);else if("object"===ja)throw r=""+J,Error(k(31,"[object Object]"===r?"object with keys {"+Object.keys(J).join(", ")+"}":r));return ba}function c(J,r,C){if(null==J)return J;var N=[],U=0;b(J,N,"","",function(ja){return r.call(C,ja,U++)});return N}function a(J){if(-1===J._status){var r=J._result;r=r();J._status=0;J._result=r;r.then(function(C){0===J._status&&
(C=C.default,J._status=1,J._result=C)},function(C){0===J._status&&(J._status=2,J._result=C)})}if(1===J._status)return J._result;throw J._result;}function e(){var J=R.current;if(null===J)throw Error(k(321));return J}var t=z(0),y=60103,q=60106;B.Fragment=60107;B.StrictMode=60108;B.Profiler=60114;var E=60109,F=60110,w=60112;B.Suspense=60113;var D=60115,G=60116;"function"===typeof Symbol&&Symbol.for&&(ra=Symbol.for,y=ra("react.element"),q=ra("react.portal"),B.Fragment=ra("react.fragment"),B.StrictMode=
ra("react.strict_mode"),B.Profiler=ra("react.profiler"),E=ra("react.provider"),F=ra("react.context"),w=ra("react.forward_ref"),B.Suspense=ra("react.suspense"),D=ra("react.memo"),G=ra("react.lazy"));var L="function"===typeof Symbol&&Symbol.iterator,O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V={};p.prototype.isReactComponent={};p.prototype.setState=function(J,r){if("object"!==typeof J&&"function"!==typeof J&&null!=
J)throw Error(k(85));this.updater.enqueueSetState(this,J,r,"setState")};p.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};A.prototype=p.prototype;ra=u.prototype=new A;ra.constructor=u;t(ra,p.prototype);ra.isPureReactComponent=!0;var S={current:null},ca=Object.prototype.hasOwnProperty,ea={key:!0,ref:!0,__self:!0,__source:!0},T=/\/+/g,R={current:null};ra={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:S,IsSomeRendererActing:{current:!1},
assign:t};B.Children={map:c,forEach:function(J,r,C){c(J,function(){r.apply(this,arguments)},C)},count:function(J){var r=0;c(J,function(){r++});return r},toArray:function(J){return c(J,function(r){return r})||[]},only:function(J){if(!f(J))throw Error(k(143));return J}};B.Component=p;B.PureComponent=u;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ra;B.cloneElement=function(J,r,C){if(null===J||void 0===J)throw Error(k(267,J));var N=t({},J.props),U=J.key,ja=J.ref,ba=J._owner;if(null!=r){void 0!==
r.ref&&(ja=r.ref,ba=S.current);void 0!==r.key&&(U=""+r.key);if(J.type&&J.type.defaultProps)var ia=J.type.defaultProps;for(za in r)ca.call(r,za)&&!ea.hasOwnProperty(za)&&(N[za]=void 0===r[za]&&void 0!==ia?ia[za]:r[za])}var za=arguments.length-2;if(1===za)N.children=C;else if(1<za){ia=Array(za);for(var Wa=0;Wa<za;Wa++)ia[Wa]=arguments[Wa+2];N.children=ia}return{$$typeof:y,type:J.type,key:U,ref:ja,props:N,_owner:ba}};B.createContext=function(J,r){void 0===r&&(r=null);J={$$typeof:F,_calculateChangedBits:r,
_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null};J.Provider={$$typeof:E,_context:J};return J.Consumer=J};B.createElement=m;B.createFactory=function(J){var r=m.bind(null,J);r.type=J;return r};B.createRef=function(){return{current:null}};B.forwardRef=function(J){return{$$typeof:w,render:J}};B.isValidElement=f;B.lazy=function(J){return{$$typeof:G,_payload:{_status:-1,_result:J},_init:a}};B.memo=function(J,r){return{$$typeof:D,type:J,compare:void 0===r?null:r}};B.useCallback=
function(J,r){return e().useCallback(J,r)};B.useContext=function(J,r){return e().useContext(J,r)};B.useDebugValue=function(){};B.useEffect=function(J,r){return e().useEffect(J,r)};B.useImperativeHandle=function(J,r,C){return e().useImperativeHandle(J,r,C)};B.useLayoutEffect=function(J,r){return e().useLayoutEffect(J,r)};B.useMemo=function(J,r){return e().useMemo(J,r)};B.useReducer=function(J,r,C){return e().useReducer(J,r,C)};B.useRef=function(J){return e().useRef(J)};B.useState=function(J){return e().useState(J)};
B.version="17.0.2"};
shadow$provide[3]=function(ra,z,cb,B){cb.exports=z(1)};
shadow$provide[4]=function(ra,z,cb,B){function v(C,N){var U=C.length;C.push(N);a:for(;;){var ja=U-1>>>1,ba=C[ja];if(void 0!==ba&&0<A(ba,N))C[ja]=N,C[U]=ba,U=ja;else break a}}function k(C){C=C[0];return void 0===C?null:C}function p(C){var N=C[0];if(void 0!==N){var U=C.pop();if(U!==N){C[0]=U;var ja=0,ba=C.length;a:for(;ja<ba;){var ia=2*(ja+1)-1,za=C[ia],Wa=ia+1,hb=C[Wa];if(void 0!==za&&0>A(za,U))void 0!==hb&&0>A(hb,za)?(C[ja]=hb,C[Wa]=U,ja=Wa):(C[ja]=za,C[ia]=U,ja=ia);else if(void 0!==hb&&0>A(hb,U))C[ja]=
hb,C[Wa]=U,ja=Wa;else break a}}return N}return null}function A(C,N){var U=C.sortIndex-N.sortIndex;return 0!==U?U:C.id-N.id}function u(C){for(var N=k(S);null!==N;){if(null===N.callback)p(S);else if(N.startTime<=C)p(S),N.sortIndex=N.expirationTime,v(V,N);else break;N=k(S)}}function m(C){r=!1;u(C);if(!J)if(null!==k(V))J=!0,e(l);else{var N=k(S);null!==N&&t(m,N.startTime-C)}}function l(C,N){J=!1;r&&(r=!1,y());R=!0;var U=T;try{u(N);for(ea=k(V);null!==ea&&(!(ea.expirationTime>N)||C&&!B.unstable_shouldYield());){var ja=
ea.callback;if("function"===typeof ja){ea.callback=null;T=ea.priorityLevel;var ba=ja(ea.expirationTime<=N);N=B.unstable_now();"function"===typeof ba?ea.callback=ba:ea===k(V)&&p(V);u(N)}else p(V);ea=k(V)}if(null!==ea)var ia=!0;else{var za=k(S);null!==za&&t(m,za.startTime-N);ia=!1}return ia}finally{ea=null,T=U,R=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var f=performance;B.unstable_now=function(){return f.now()}}else{var g=Date,d=g.now();B.unstable_now=function(){return g.now()-
d}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var b=null,c=null,a=function(){if(null!==b)try{var C=B.unstable_now();b(!0,C);b=null}catch(N){throw setTimeout(a,0),N;}};var e=function(C){null!==b?setTimeout(e,0,C):(b=C,setTimeout(a,0))};var t=function(C,N){c=setTimeout(C,N)};var y=function(){clearTimeout(c)};B.unstable_shouldYield=function(){return!1};ra=B.unstable_forceFrameRate=function(){}}else{var q=window.setTimeout,E=window.clearTimeout;"undefined"!==typeof console&&(ra=
window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof ra&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var F=!1,w=null,D=-1,G=5,L=0;B.unstable_shouldYield=function(){return B.unstable_now()>=
L};ra=function(){};B.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<C?Math.floor(1E3/C):5};z=new MessageChannel;var O=z.port2;z.port1.onmessage=function(){if(null!==w){var C=B.unstable_now();L=C+G;try{w(!0,C)?O.postMessage(null):(F=!1,w=null)}catch(N){throw O.postMessage(null),N;}}else F=!1};e=function(C){w=C;F||(F=!0,O.postMessage(null))};t=function(C,N){D=q(function(){C(B.unstable_now())},
N)};y=function(){E(D);D=-1}}var V=[],S=[],ca=1,ea=null,T=3,R=!1,J=!1,r=!1;B.unstable_IdlePriority=5;B.unstable_ImmediatePriority=1;B.unstable_LowPriority=4;B.unstable_NormalPriority=3;B.unstable_Profiling=null;B.unstable_UserBlockingPriority=2;B.unstable_cancelCallback=function(C){C.callback=null};B.unstable_continueExecution=function(){J||R||(J=!0,e(l))};B.unstable_getCurrentPriorityLevel=function(){return T};B.unstable_getFirstCallbackNode=function(){return k(V)};B.unstable_next=function(C){switch(T){case 1:case 2:case 3:var N=
3;break;default:N=T}var U=T;T=N;try{return C()}finally{T=U}};B.unstable_pauseExecution=function(){};B.unstable_requestPaint=ra;B.unstable_runWithPriority=function(C,N){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var U=T;T=C;try{return N()}finally{T=U}};B.unstable_scheduleCallback=function(C,N,U){var ja=B.unstable_now();"object"===typeof U&&null!==U?(U=U.delay,U="number"===typeof U&&0<U?ja+U:ja):U=ja;switch(C){case 1:var ba=-1;break;case 2:ba=250;break;case 5:ba=1073741823;break;
case 4:ba=1E4;break;default:ba=5E3}ba=U+ba;C={id:ca++,callback:N,priorityLevel:C,startTime:U,expirationTime:ba,sortIndex:-1};U>ja?(C.sortIndex=U,v(S,C),null===k(V)&&C===k(S)&&(r?y():r=!0,t(m,U-ja))):(C.sortIndex=ba,v(V,C),J||R||(J=!0,e(l)));return C};B.unstable_wrapCallback=function(C){var N=T;return function(){var U=T;T=N;try{return C.apply(this,arguments)}finally{T=U}}}};
shadow$provide[6]=function(ra,z,cb,B){cb.exports=z(4)};
shadow$provide[7]=function(ra,z,cb,B){function v(H){for(var P="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+H,da=1;da<arguments.length;da++)P+="\x26args[]\x3d"+encodeURIComponent(arguments[da]);return"Minified React error #"+H+"; visit "+P+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(H,P){p(H,P);p(H+"Capture",P)}function p(H,P){Dg[H]=P;for(H=0;H<P.length;H++)li.add(P[H])}function A(H){if(Vg.call(Wh,H))return!0;
if(Vg.call(ch,H))return!1;if(ih.test(H))return Wh[H]=!0;ch[H]=!0;return!1}function u(H,P,da,Ra){if(null!==da&&0===da.type)return!1;switch(typeof P){case "function":case "symbol":return!0;case "boolean":if(Ra)return!1;if(null!==da)return!da.acceptsBooleans;H=H.toLowerCase().slice(0,5);return"data-"!==H&&"aria-"!==H;default:return!1}}function m(H,P,da,Ra){if(null===P||"undefined"===typeof P||u(H,P,da,Ra))return!0;if(Ra)return!1;if(null!==da)switch(da.type){case 3:return!P;case 4:return!1===P;case 5:return isNaN(P);
case 6:return isNaN(P)||1>P}return!1}function l(H,P,da,Ra,nb,Kb,ec){this.acceptsBooleans=2===P||3===P||4===P;this.attributeName=Ra;this.attributeNamespace=nb;this.mustUseProperty=da;this.propertyName=H;this.type=P;this.sanitizeURL=Kb;this.removeEmptyString=ec}function f(H){return H[1].toUpperCase()}function g(H,P,da,Ra){var nb=Jg.hasOwnProperty(P)?Jg[P]:null;(null!==nb?0===nb.type:Ra?0:2<P.length&&("o"===P[0]||"O"===P[0])&&("n"===P[1]||"N"===P[1]))||(m(P,da,nb,Ra)&&(da=null),Ra||null===nb?A(P)&&(null===
da?H.removeAttribute(P):H.setAttribute(P,""+da)):nb.mustUseProperty?H[nb.propertyName]=null===da?3===nb.type?!1:"":da:(P=nb.attributeName,Ra=nb.attributeNamespace,null===da?H.removeAttribute(P):(nb=nb.type,da=3===nb||4===nb&&!0===da?"":""+da,Ra?H.setAttributeNS(Ra,P,da):H.setAttribute(P,da))))}function d(H){if(null===H||"object"!==typeof H)return null;H=Jj&&H[Jj]||H["@@iterator"];return"function"===typeof H?H:null}function b(H){if(void 0===pa)try{throw Error();}catch(da){var P=da.stack.trim().match(/\n( *(at )?)/);
pa=P&&P[1]||""}return"\n"+pa+H}function c(H,P){if(!H||Pa)return"";Pa=!0;var da=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(P)if(P=function(){throw Error();},Object.defineProperty(P.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(P,[])}catch(hd){var Ra=hd}Reflect.construct(H,[],P)}else{try{P.call()}catch(hd){Ra=hd}H.call(P.prototype)}else{try{throw Error();}catch(hd){Ra=hd}H()}}catch(hd){if(hd&&Ra&&"string"===
typeof hd.stack){for(var nb=hd.stack.split("\n"),Kb=Ra.stack.split("\n"),ec=nb.length-1,Ac=Kb.length-1;1<=ec&&0<=Ac&&nb[ec]!==Kb[Ac];)Ac--;for(;1<=ec&&0<=Ac;ec--,Ac--)if(nb[ec]!==Kb[Ac]){if(1!==ec||1!==Ac){do if(ec--,Ac--,0>Ac||nb[ec]!==Kb[Ac])return"\n"+nb[ec].replace(" at new "," at ");while(1<=ec&&0<=Ac)}break}}}finally{Pa=!1,Error.prepareStackTrace=da}return(H=H?H.displayName||H.name:"")?b(H):""}function a(H){switch(H.tag){case 5:return b(H.type);case 16:return b("Lazy");case 13:return b("Suspense");
case 19:return b("SuspenseList");case 0:case 2:case 15:return H=c(H.type,!1),H;case 11:return H=c(H.type.render,!1),H;case 22:return H=c(H.type._render,!1),H;case 1:return H=c(H.type,!0),H;default:return""}}function e(H){if(null==H)return null;if("function"===typeof H)return H.displayName||H.name||null;if("string"===typeof H)return H;switch(H){case Dh:return"Fragment";case lg:return"Portal";case ii:return"Profiler";case Gh:return"StrictMode";case mi:return"Suspense";case vi:return"SuspenseList"}if("object"===
typeof H)switch(H.$$typeof){case Eg:return(H.displayName||"Context")+".Consumer";case Zf:return(H._context.displayName||"Context")+".Provider";case rh:var P=H.render;P=P.displayName||P.name||"";return H.displayName||(""!==P?"ForwardRef("+P+")":"ForwardRef");case yh:return e(H.type);case Xi:return e(H._render);case Li:P=H._payload;H=H._init;try{return e(H(P))}catch(da){}}return null}function t(H){switch(typeof H){case "boolean":case "number":case "object":case "string":case "undefined":return H;default:return""}}
function y(H){var P=H.type;return(H=H.nodeName)&&"input"===H.toLowerCase()&&("checkbox"===P||"radio"===P)}function q(H){var P=y(H)?"checked":"value",da=Object.getOwnPropertyDescriptor(H.constructor.prototype,P),Ra=""+H[P];if(!H.hasOwnProperty(P)&&"undefined"!==typeof da&&"function"===typeof da.get&&"function"===typeof da.set){var nb=da.get,Kb=da.set;Object.defineProperty(H,P,{configurable:!0,get:function(){return nb.call(this)},set:function(ec){Ra=""+ec;Kb.call(this,ec)}});Object.defineProperty(H,
P,{enumerable:da.enumerable});return{getValue:function(){return Ra},setValue:function(ec){Ra=""+ec},stopTracking:function(){H._valueTracker=null;delete H[P]}}}}function E(H){H._valueTracker||(H._valueTracker=q(H))}function F(H){if(!H)return!1;var P=H._valueTracker;if(!P)return!0;var da=P.getValue(),Ra="";H&&(Ra=y(H)?H.checked?"true":"false":H.value);H=Ra;return H!==da?(P.setValue(H),!0):!1}function w(H){H=H||("undefined"!==typeof document?document:void 0);if("undefined"===typeof H)return null;try{return H.activeElement||
H.body}catch(P){return H.body}}function D(H,P){var da=P.checked;return cg({},P,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=da?da:H._wrapperState.initialChecked})}function G(H,P){var da=null==P.defaultValue?"":P.defaultValue,Ra=null!=P.checked?P.checked:P.defaultChecked;da=t(null!=P.value?P.value:da);H._wrapperState={initialChecked:Ra,initialValue:da,controlled:"checkbox"===P.type||"radio"===P.type?null!=P.checked:null!=P.value}}function L(H,P){P=P.checked;null!=P&&g(H,"checked",
P,!1)}function O(H,P){L(H,P);var da=t(P.value),Ra=P.type;if(null!=da)if("number"===Ra){if(0===da&&""===H.value||H.value!=da)H.value=""+da}else H.value!==""+da&&(H.value=""+da);else if("submit"===Ra||"reset"===Ra){H.removeAttribute("value");return}P.hasOwnProperty("value")?S(H,P.type,da):P.hasOwnProperty("defaultValue")&&S(H,P.type,t(P.defaultValue));null==P.checked&&null!=P.defaultChecked&&(H.defaultChecked=!!P.defaultChecked)}function V(H,P,da){if(P.hasOwnProperty("value")||P.hasOwnProperty("defaultValue")){var Ra=
P.type;if(!("submit"!==Ra&&"reset"!==Ra||void 0!==P.value&&null!==P.value))return;P=""+H._wrapperState.initialValue;da||P===H.value||(H.value=P);H.defaultValue=P}da=H.name;""!==da&&(H.name="");H.defaultChecked=!!H._wrapperState.initialChecked;""!==da&&(H.name=da)}function S(H,P,da){if("number"!==P||w(H.ownerDocument)!==H)null==da?H.defaultValue=""+H._wrapperState.initialValue:H.defaultValue!==""+da&&(H.defaultValue=""+da)}function ca(H){var P="";$f.Children.forEach(H,function(da){null!=da&&(P+=da)});
return P}function ea(H,P){H=cg({children:void 0},P);if(P=ca(P.children))H.children=P;return H}function T(H,P,da,Ra){H=H.options;if(P){P={};for(var nb=0;nb<da.length;nb++)P["$"+da[nb]]=!0;for(da=0;da<H.length;da++)nb=P.hasOwnProperty("$"+H[da].value),H[da].selected!==nb&&(H[da].selected=nb),nb&&Ra&&(H[da].defaultSelected=!0)}else{da=""+t(da);P=null;for(nb=0;nb<H.length;nb++){if(H[nb].value===da){H[nb].selected=!0;Ra&&(H[nb].defaultSelected=!0);return}null!==P||H[nb].disabled||(P=H[nb])}null!==P&&(P.selected=
!0)}}function R(H,P){if(null!=P.dangerouslySetInnerHTML)throw Error(v(91));return cg({},P,{value:void 0,defaultValue:void 0,children:""+H._wrapperState.initialValue})}function J(H,P){var da=P.value;if(null==da){da=P.children;P=P.defaultValue;if(null!=da){if(null!=P)throw Error(v(92));if(Array.isArray(da)){if(!(1>=da.length))throw Error(v(93));da=da[0]}P=da}null==P&&(P="");da=P}H._wrapperState={initialValue:t(da)}}function r(H,P){var da=t(P.value),Ra=t(P.defaultValue);null!=da&&(da=""+da,da!==H.value&&
(H.value=da),null==P.defaultValue&&H.defaultValue!==da&&(H.defaultValue=da));null!=Ra&&(H.defaultValue=""+Ra)}function C(H){var P=H.textContent;P===H._wrapperState.initialValue&&""!==P&&null!==P&&(H.value=P)}function N(H){switch(H){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U(H,P){return null==H||"http://www.w3.org/1999/xhtml"===H?N(P):"http://www.w3.org/2000/svg"===H&&"foreignObject"===
P?"http://www.w3.org/1999/xhtml":H}function ja(H,P){if(P){var da=H.firstChild;if(da&&da===H.lastChild&&3===da.nodeType){da.nodeValue=P;return}}H.textContent=P}function ba(H,P,da){return null==P||"boolean"===typeof P||""===P?"":da||"number"!==typeof P||0===P||cc.hasOwnProperty(H)&&cc[H]?(""+P).trim():P+"px"}function ia(H,P){H=H.style;for(var da in P)if(P.hasOwnProperty(da)){var Ra=0===da.indexOf("--"),nb=ba(da,P[da],Ra);"float"===da&&(da="cssFloat");Ra?H.setProperty(da,nb):H[da]=nb}}function za(H,
P){if(P){if(Cc[H]&&(null!=P.children||null!=P.dangerouslySetInnerHTML))throw Error(v(137,H));if(null!=P.dangerouslySetInnerHTML){if(null!=P.children)throw Error(v(60));if(!("object"===typeof P.dangerouslySetInnerHTML&&"__html"in P.dangerouslySetInnerHTML))throw Error(v(61));}if(null!=P.style&&"object"!==typeof P.style)throw Error(v(62));}}function Wa(H,P){if(-1===H.indexOf("-"))return"string"===typeof P.is;switch(H){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function hb(H){H=H.target||H.srcElement||window;H.correspondingUseElement&&(H=H.correspondingUseElement);return 3===H.nodeType?H.parentNode:H}function Ja(H){if(H=Wb(H)){if("function"!==typeof id)throw Error(v(280));var P=H.stateNode;P&&(P=ie(P),id(H.stateNode,H.type,P))}}function qa(H){Gd?Wd?Wd.push(H):Wd=[H]:Gd=H}function Da(){if(Gd){var H=Gd,P=Wd;Wd=Gd=null;Ja(H);if(P)for(H=0;H<P.length;H++)Ja(P[H])}}function va(H,P){return H(P)}function sa(H,P,da,Ra,nb){return H(P,da,Ra,nb)}function xa(){}
function ma(){if(null!==Gd||null!==Wd)xa(),Da()}function Ea(H,P,da){if(Ze)return H(P,da);Ze=!0;try{return pd(H,P,da)}finally{Ze=!1,ma()}}function Ua(H,P){var da=H.stateNode;if(null===da)return null;var Ra=ie(da);if(null===Ra)return null;da=Ra[P];a:switch(P){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Ra=!Ra.disabled)||
(H=H.type,Ra=!("button"===H||"input"===H||"select"===H||"textarea"===H));H=!Ra;break a;default:H=!1}if(H)return null;if(da&&"function"!==typeof da)throw Error(v(231,P,typeof da));return da}function ab(H,P,da,Ra,nb,Kb,ec,Ac,hd){var Ld=Array.prototype.slice.call(arguments,3);try{P.apply(da,Ld)}catch($e){this.onError($e)}}function ta(H,P,da,Ra,nb,Kb,ec,Ac,hd){bg=!1;Og=null;ab.apply(Lh,arguments)}function Na(H,P,da,Ra,nb,Kb,ec,Ac,hd){ta.apply(this,arguments);if(bg){if(bg){var Ld=Og;bg=!1;Og=null}else throw Error(v(198));
Le||(Le=!0,sh=Ld)}}function oa(H){var P=H,da=H;if(H.alternate)for(;P.return;)P=P.return;else{H=P;do P=H,0!==(P.flags&1026)&&(da=P.return),H=P.return;while(H)}return 3===P.tag?da:null}function aa(H){if(13===H.tag){var P=H.memoizedState;null===P&&(H=H.alternate,null!==H&&(P=H.memoizedState));if(null!==P)return P.dehydrated}return null}function ka(H){if(oa(H)!==H)throw Error(v(188));}function Ia(H){var P=H.alternate;if(!P){P=oa(H);if(null===P)throw Error(v(188));return P!==H?null:H}for(var da=H,Ra=P;;){var nb=
da.return;if(null===nb)break;var Kb=nb.alternate;if(null===Kb){Ra=nb.return;if(null!==Ra){da=Ra;continue}break}if(nb.child===Kb.child){for(Kb=nb.child;Kb;){if(Kb===da)return ka(nb),H;if(Kb===Ra)return ka(nb),P;Kb=Kb.sibling}throw Error(v(188));}if(da.return!==Ra.return)da=nb,Ra=Kb;else{for(var ec=!1,Ac=nb.child;Ac;){if(Ac===da){ec=!0;da=nb;Ra=Kb;break}if(Ac===Ra){ec=!0;Ra=nb;da=Kb;break}Ac=Ac.sibling}if(!ec){for(Ac=Kb.child;Ac;){if(Ac===da){ec=!0;da=Kb;Ra=nb;break}if(Ac===Ra){ec=!0;Ra=Kb;da=nb;break}Ac=
Ac.sibling}if(!ec)throw Error(v(189));}}if(da.alternate!==Ra)throw Error(v(190));}if(3!==da.tag)throw Error(v(188));return da.stateNode.current===da?H:P}function Xa(H){H=Ia(H);if(!H)return null;for(var P=H;;){if(5===P.tag||6===P.tag)return P;if(P.child)P.child.return=P,P=P.child;else{if(P===H)break;for(;!P.sibling;){if(!P.return||P.return===H)return null;P=P.return}P.sibling.return=P.return;P=P.sibling}}return null}function Ya(H,P){for(var da=H.alternate;null!==P;){if(P===H||P===da)return!0;P=P.return}return!1}
function mb(H,P,da,Ra,nb){return{blockedOn:H,domEventName:P,eventSystemFlags:da|16,nativeEvent:nb,targetContainers:[Ra]}}function ib(H,P){switch(H){case "focusin":case "focusout":zg=null;break;case "dragenter":case "dragleave":Xh=null;break;case "mouseover":case "mouseout":Me=null;break;case "pointerover":case "pointerout":qe.delete(P.pointerId);break;case "gotpointercapture":case "lostpointercapture":Re.delete(P.pointerId)}}function Eb(H,P,da,Ra,nb,Kb){if(null===H||H.nativeEvent!==Kb)return H=mb(P,
da,Ra,nb,Kb),null!==P&&(P=Wb(P),null!==P&&Mk(P)),H;H.eventSystemFlags|=Ra;P=H.targetContainers;null!==nb&&-1===P.indexOf(nb)&&P.push(nb);return H}function Zb(H,P,da,Ra,nb){switch(P){case "focusin":return zg=Eb(zg,H,P,da,Ra,nb),!0;case "dragenter":return Xh=Eb(Xh,H,P,da,Ra,nb),!0;case "mouseover":return Me=Eb(Me,H,P,da,Ra,nb),!0;case "pointerover":var Kb=nb.pointerId;qe.set(Kb,Eb(qe.get(Kb)||null,H,P,da,Ra,nb));return!0;case "gotpointercapture":return Kb=nb.pointerId,Re.set(Kb,Eb(Re.get(Kb)||null,
H,P,da,Ra,nb)),!0}return!1}function Gc(H){var P=Gb(H.target);if(null!==P){var da=oa(P);if(null!==da)if(P=da.tag,13===P){if(P=aa(da),null!==P){H.blockedOn=P;vl(H.lanePriority,function(){rg.unstable_runWithPriority(H.priority,function(){wl(da)})});return}}else if(3===P&&da.stateNode.hydrate){H.blockedOn=3===da.tag?da.stateNode.containerInfo:null;return}}H.blockedOn=null}function xc(H){if(null!==H.blockedOn)return!1;for(var P=H.targetContainers;0<P.length;){var da=Ub(H.domEventName,H.eventSystemFlags,
P[0],H.nativeEvent);if(null!==da)return P=Wb(da),null!==P&&Mk(P),H.blockedOn=da,!1;P.shift()}return!0}function Ic(H,P,da){xc(H)&&da.delete(P)}function rc(){for(Pg=!1;0<of.length;){var H=of[0];if(null!==H.blockedOn){H=Wb(H.blockedOn);null!==H&&dl(H);break}for(var P=H.targetContainers;0<P.length;){var da=Ub(H.domEventName,H.eventSystemFlags,P[0],H.nativeEvent);if(null!==da){H.blockedOn=da;break}P.shift()}null===H.blockedOn&&of.shift()}null!==zg&&xc(zg)&&(zg=null);null!==Xh&&xc(Xh)&&(Xh=null);null!==
Me&&xc(Me)&&(Me=null);qe.forEach(Ic);Re.forEach(Ic)}function jd(H,P){H.blockedOn===P&&(H.blockedOn=null,Pg||(Pg=!0,rg.unstable_scheduleCallback(rg.unstable_NormalPriority,rc)))}function Bb(H){function P(nb){return jd(nb,H)}if(0<of.length){jd(of[0],H);for(var da=1;da<of.length;da++){var Ra=of[da];Ra.blockedOn===H&&(Ra.blockedOn=null)}}null!==zg&&jd(zg,H);null!==Xh&&jd(Xh,H);null!==Me&&jd(Me,H);qe.forEach(P);Re.forEach(P);for(da=0;da<re.length;da++)Ra=re[da],Ra.blockedOn===H&&(Ra.blockedOn=null);for(;0<
re.length&&(da=re[0],null===da.blockedOn);)Gc(da),null===da.blockedOn&&re.shift()}function tb(H,P){var da={};da[H.toLowerCase()]=P.toLowerCase();da["Webkit"+H]="webkit"+P;da["Moz"+H]="moz"+P;return da}function dc(H){if(dg[H])return dg[H];if(!Wg[H])return H;var P=Wg[H],da;for(da in P)if(P.hasOwnProperty(da)&&da in mh)return dg[H]=P[da];return H}function Yb(H,P){for(var da=0;da<H.length;da+=2){var Ra=H[da],nb=H[da+1];nb="on"+(nb[0].toUpperCase()+nb.slice(1));Di.set(Ra,P);Yj.set(Ra,nb);k(nb,[Ra])}}function hc(H){if(0!==
(1&H))return Ag=15,1;if(0!==(2&H))return Ag=14,2;if(0!==(4&H))return Ag=13,4;var P=24&H;if(0!==P)return Ag=12,P;if(0!==(H&32))return Ag=11,32;P=192&H;if(0!==P)return Ag=10,P;if(0!==(H&256))return Ag=9,256;P=3584&H;if(0!==P)return Ag=8,P;if(0!==(H&4096))return Ag=7,4096;P=4186112&H;if(0!==P)return Ag=6,P;P=62914560&H;if(0!==P)return Ag=5,P;if(H&67108864)return Ag=4,67108864;if(0!==(H&134217728))return Ag=3,134217728;P=805306368&H;if(0!==P)return Ag=2,P;if(0!==(1073741824&H))return Ag=1,1073741824;
Ag=8;return H}function vc(H){switch(H){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function qc(H){switch(H){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(v(358,H));}}function Dc(H,P){var da=H.pendingLanes;if(0===da)return Ag=0;var Ra=0,nb=0,Kb=H.expiredLanes,ec=H.suspendedLanes,Ac=H.pingedLanes;if(0!==Kb)Ra=
Kb,nb=Ag=15;else if(Kb=da&134217727,0!==Kb){var hd=Kb&~ec;0!==hd?(Ra=hc(hd),nb=Ag):(Ac&=Kb,0!==Ac&&(Ra=hc(Ac),nb=Ag))}else Kb=da&~ec,0!==Kb?(Ra=hc(Kb),nb=Ag):0!==Ac&&(Ra=hc(Ac),nb=Ag);if(0===Ra)return 0;Ra=31-Qh(Ra);Ra=da&((0>Ra?0:1<<Ra)<<1)-1;if(0!==P&&P!==Ra&&0===(P&ec)){hc(P);if(nb<=Ag)return P;Ag=nb}P=H.entangledLanes;if(0!==P)for(H=H.entanglements,P&=Ra;0<P;)da=31-Qh(P),nb=1<<da,Ra|=H[da],P&=~nb;return Ra}function Yc(H){H=H.pendingLanes&-1073741825;return 0!==H?H:H&1073741824?1073741824:0}function Hd(H,
P){switch(H){case 15:return 1;case 14:return 2;case 12:return H=Fa(24&~P),0===H?Hd(10,P):H;case 10:return H=Fa(192&~P),0===H?Hd(8,P):H;case 8:return H=Fa(3584&~P),0===H&&(H=Fa(4186112&~P),0===H&&(H=512)),H;case 2:return P=Fa(805306368&~P),0===P&&(P=268435456),P}throw Error(v(358,H));}function Fa(H){return H&-H}function Ca(H){for(var P=[],da=0;31>da;da++)P.push(H);return P}function Ha(H,P,da){H.pendingLanes|=P;var Ra=P-1;H.suspendedLanes&=Ra;H.pingedLanes&=Ra;H=H.eventTimes;P=31-Qh(P);H[P]=da}function db(H){return 0===
H?32:31-(sj(H)/ok|0)|0}function ob(H,P,da,Ra){le||xa();var nb=Ob,Kb=le;le=!0;try{sa(nb,H,P,da,Ra)}finally{(le=Kb)||ma()}}function Ab(H,P,da,Ra){cj(Nk,Ob.bind(null,H,P,da,Ra))}function Ob(H,P,da,Ra){if(Mi){var nb;if((nb=0===(P&4))&&0<of.length&&-1<xf.indexOf(H))H=mb(null,H,P,da,Ra),of.push(H);else{var Kb=Ub(H,P,da,Ra);if(null===Kb)nb&&ib(H,Ra);else{if(nb){if(-1<xf.indexOf(H)){H=mb(Kb,H,P,da,Ra);of.push(H);return}if(Zb(Kb,H,P,da,Ra))return;ib(H,Ra)}rf(H,P,Ra,null,da)}}}}function Ub(H,P,da,Ra){var nb=
hb(Ra);nb=Gb(nb);if(null!==nb){var Kb=oa(nb);if(null===Kb)nb=null;else{var ec=Kb.tag;if(13===ec){nb=aa(Kb);if(null!==nb)return nb;nb=null}else if(3===ec){if(Kb.stateNode.hydrate)return 3===Kb.tag?Kb.stateNode.containerInfo:null;nb=null}else Kb!==nb&&(nb=null)}}rf(H,P,Ra,nb,da);return null}function $b(){if(kg)return kg;var H,P=dh,da=P.length,Ra,nb="value"in Hh?Hh.value:Hh.textContent,Kb=nb.length;for(H=0;H<da&&P[H]===nb[H];H++);var ec=da-H;for(Ra=1;Ra<=ec&&P[da-Ra]===nb[Kb-Ra];Ra++);return kg=nb.slice(H,
1<Ra?1-Ra:void 0)}function Jc(H){var P=H.keyCode;"charCode"in H?(H=H.charCode,0===H&&13===P&&(H=13)):H=P;10===H&&(H=13);return 32<=H||13===H?H:0}function Wc(){return!0}function dd(){return!1}function ld(H){function P(da,Ra,nb,Kb,ec){this._reactName=da;this._targetInst=nb;this.type=Ra;this.nativeEvent=Kb;this.target=ec;this.currentTarget=null;for(var Ac in H)H.hasOwnProperty(Ac)&&(da=H[Ac],this[Ac]=da?da(Kb):Kb[Ac]);this.isDefaultPrevented=(null!=Kb.defaultPrevented?Kb.defaultPrevented:!1===Kb.returnValue)?
Wc:dd;this.isPropagationStopped=dd;return this}cg(P.prototype,{preventDefault:function(){this.defaultPrevented=!0;var da=this.nativeEvent;da&&(da.preventDefault?da.preventDefault():"unknown"!==typeof da.returnValue&&(da.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var da=this.nativeEvent;da&&(da.stopPropagation?da.stopPropagation():"unknown"!==typeof da.cancelBubble&&(da.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc});return P}function rd(H){var P=
this.nativeEvent;return P.getModifierState?P.getModifierState(H):(H=tj[H])?!!P[H]:!1}function Kd(){return rd}function Nd(H,P){switch(H){case "keyup":return-1!==fa.indexOf(P.keyCode);case "keydown":return 229!==P.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function fe(H){H=H.detail;return"object"===typeof H&&"data"in H?H.data:null}function be(H,P){switch(H){case "compositionend":return fe(P);case "keypress":if(32!==P.which)return null;jc=!0;return Tb;case "textInput":return H=
P.data,H===Tb&&jc?null:H;default:return null}}function ce(H,P){if(Sc)return"compositionend"===H||!La&&Nd(H,P)?(H=$b(),kg=dh=Hh=null,Sc=!1,H):null;switch(H){case "paste":return null;case "keypress":if(!(P.ctrlKey||P.altKey||P.metaKey)||P.ctrlKey&&P.altKey){if(P.char&&1<P.char.length)return P.char;if(P.which)return String.fromCharCode(P.which)}return null;case "compositionend":return yb&&"ko"!==P.locale?null:P.data;default:return null}}function Td(H){var P=H&&H.nodeName&&H.nodeName.toLowerCase();return"input"===
P?!!bd[H.type]:"textarea"===P?!0:!1}function af(H,P,da,Ra){qa(Ra);P=sc(P,"onChange");0<P.length&&(da=new uj("onChange","change",null,da,Ra),H.push({event:da,listeners:P}))}function Se(H){Ee(H,0)}function ue(H){var P=Uc(H);if(F(P))return H}function me(H,P){if("change"===H)return P}function Ga(){ed&&(ed.detachEvent("onpropertychange",$a),Md=ed=null)}function $a(H){if("value"===H.propertyName&&ue(Md)){var P=[];af(P,Md,H,hb(H));H=Se;if(le)H(P);else{le=!0;try{va(H,P)}finally{le=!1,ma()}}}}function ub(H,
P,da){"focusin"===H?(Ga(),ed=P,Md=da,ed.attachEvent("onpropertychange",$a)):"focusout"===H&&Ga()}function Mb(H){if("selectionchange"===H||"keyup"===H||"keydown"===H)return ue(Md)}function fc(H,P){if("click"===H)return ue(P)}function oc(H,P){if("input"===H||"change"===H)return ue(P)}function Mc(H,P){return H===P&&(0!==H||1/H===1/P)||H!==H&&P!==P}function Kc(H,P){if(Tf(H,P))return!0;if("object"!==typeof H||null===H||"object"!==typeof P||null===P)return!1;var da=Object.keys(H),Ra=Object.keys(P);if(da.length!==
Ra.length)return!1;for(Ra=0;Ra<da.length;Ra++)if(!Fg.call(P,da[Ra])||!Tf(H[da[Ra]],P[da[Ra]]))return!1;return!0}function gc(H){for(;H&&H.firstChild;)H=H.firstChild;return H}function fd(H,P){var da=gc(H);H=0;for(var Ra;da;){if(3===da.nodeType){Ra=H+da.textContent.length;if(H<=P&&Ra>=P)return{node:da,offset:P-H};H=Ra}a:{for(;da;){if(da.nextSibling){da=da.nextSibling;break a}da=da.parentNode}da=void 0}da=gc(da)}}function nd(H,P){return H&&P?H===P?!0:H&&3===H.nodeType?!1:P&&3===P.nodeType?nd(H,P.parentNode):
"contains"in H?H.contains(P):H.compareDocumentPosition?!!(H.compareDocumentPosition(P)&16):!1:!1}function Fd(){for(var H=window,P=w();P instanceof H.HTMLIFrameElement;){try{var da="string"===typeof P.contentWindow.location.href}catch(Ra){da=!1}if(da)H=P.contentWindow;else break;P=w(H.document)}return P}function Od(H){var P=H&&H.nodeName&&H.nodeName.toLowerCase();return P&&("input"===P&&("text"===H.type||"search"===H.type||"tel"===H.type||"url"===H.type||"password"===H.type)||"textarea"===P||"true"===
H.contentEditable)}function Ud(H,P,da){var Ra=da.window===da?da.document:9===da.nodeType?da:da.ownerDocument;mg||null==vg||vg!==w(Ra)||(Ra=vg,"selectionStart"in Ra&&Od(Ra)?Ra={start:Ra.selectionStart,end:Ra.selectionEnd}:(Ra=(Ra.ownerDocument&&Ra.ownerDocument.defaultView||window).getSelection(),Ra={anchorNode:Ra.anchorNode,anchorOffset:Ra.anchorOffset,focusNode:Ra.focusNode,focusOffset:Ra.focusOffset}),ng&&Kc(ng,Ra)||(ng=Ra,Ra=sc(Wf,"onSelect"),0<Ra.length&&(P=new uj("onSelect","select",null,P,da),
H.push({event:P,listeners:Ra}),P.target=vg)))}function Yd(H,P,da){var Ra=H.type||"unknown-event";H.currentTarget=da;Na(Ra,P,void 0,H);H.currentTarget=null}function Ee(H,P){P=0!==(P&4);for(var da=0;da<H.length;da++){var Ra=H[da],nb=Ra.event;Ra=Ra.listeners;a:{var Kb=void 0;if(P)for(var ec=Ra.length-1;0<=ec;ec--){var Ac=Ra[ec],hd=Ac.instance,Ld=Ac.currentTarget;Ac=Ac.listener;if(hd!==Kb&&nb.isPropagationStopped())break a;Yd(nb,Ac,Ld);Kb=hd}else for(ec=0;ec<Ra.length;ec++){Ac=Ra[ec];hd=Ac.instance;Ld=
Ac.currentTarget;Ac=Ac.listener;if(hd!==Kb&&nb.isPropagationStopped())break a;Yd(nb,Ac,Ld);Kb=hd}}}if(Le)throw H=sh,Le=!1,sh=null,H;}function ze(H,P){var da=oe(P),Ra=H+"__bubble";da.has(Ra)||(Ne(P,H,2,!1),da.add(Ra))}function Bf(H){H[Ni]||(H[Ni]=!0,li.forEach(function(P){Yh.has(P)||xe(P,!1,H,null);xe(P,!0,H,null)}))}function xe(H,P,da,Ra){var nb=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,Kb=da;"selectionchange"===H&&9!==da.nodeType&&(Kb=da.ownerDocument);if(null!==Ra&&!P&&Yh.has(H)){if("scroll"!==
H)return;nb|=2;Kb=Ra}var ec=oe(Kb),Ac=H+"__"+(P?"capture":"bubble");ec.has(Ac)||(P&&(nb|=4),Ne(Kb,H,nb,P),ec.add(Ac))}function Ne(H,P,da,Ra){var nb=Di.get(P);switch(void 0===nb?2:nb){case 0:nb=ob;break;case 1:nb=Ab;break;default:nb=Ob}da=nb.bind(null,P,da,H);nb=void 0;!Cf||"touchstart"!==P&&"touchmove"!==P&&"wheel"!==P||(nb=!0);Ra?void 0!==nb?H.addEventListener(P,da,{capture:!0,passive:nb}):H.addEventListener(P,da,!0):void 0!==nb?H.addEventListener(P,da,{passive:nb}):H.addEventListener(P,da,!1)}function rf(H,
P,da,Ra,nb){var Kb=Ra;if(0===(P&1)&&0===(P&2)&&null!==Ra)a:for(;;){if(null===Ra)return;var ec=Ra.tag;if(3===ec||4===ec){var Ac=Ra.stateNode.containerInfo;if(Ac===nb||8===Ac.nodeType&&Ac.parentNode===nb)break;if(4===ec)for(ec=Ra.return;null!==ec;){var hd=ec.tag;if(3===hd||4===hd)if(hd=ec.stateNode.containerInfo,hd===nb||8===hd.nodeType&&hd.parentNode===nb)return;ec=ec.return}for(;null!==Ac;){ec=Gb(Ac);if(null===ec)return;hd=ec.tag;if(5===hd||6===hd){Ra=Kb=ec;continue a}Ac=Ac.parentNode}}Ra=Ra.return}Ea(function(){var Ld=
Kb,$e=hb(da),Uf=[];a:{var ke=Yj.get(H);if(void 0!==ke){var pf=uj,Sf=H;switch(H){case "keypress":if(0===Jc(da))break a;case "keydown":case "keyup":pf=Zh;break;case "focusin":Sf="focus";pf=Oi;break;case "focusout":Sf="blur";pf=Oi;break;case "beforeblur":case "afterblur":pf=Oi;break;case "click":if(2===da.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":pf=ni;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":pf=
dj;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":pf=ej;break;case $h:case Ih:case Pi:pf=pk;break;case Kj:pf=I;break;case "scroll":pf=Yi;break;case "wheel":pf=X;break;case "copy":case "cut":case "paste":pf=Zj;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":pf=nh}var If=0!==(P&4),ud=!If&&"scroll"===H,kd=If?null!==ke?ke+"Capture":null:ke;If=[];for(var sd=
Ld,Zd;null!==sd;){Zd=sd;var $d=Zd.stateNode;5===Zd.tag&&null!==$d&&(Zd=$d,null!==kd&&($d=Ua(sd,kd),null!=$d&&If.push(Vb(sd,$d,Zd))));if(ud)break;sd=sd.return}0<If.length&&(ke=new pf(ke,Sf,null,da,$e),Uf.push({event:ke,listeners:If}))}}if(0===(P&7)){ke="mouseover"===H||"pointerover"===H;pf="mouseout"===H||"pointerout"===H;if(!ke||0!==(P&16)||!(Sf=da.relatedTarget||da.fromElement)||!Gb(Sf)&&!Sf[fj])if(pf||ke){ke=$e.window===$e?$e:(ke=$e.ownerDocument)?ke.defaultView||ke.parentWindow:window;if(pf){if(Sf=
da.relatedTarget||da.toElement,pf=Ld,Sf=Sf?Gb(Sf):null,null!==Sf&&(ud=oa(Sf),Sf!==ud||5!==Sf.tag&&6!==Sf.tag))Sf=null}else pf=null,Sf=Ld;if(pf!==Sf){If=ni;$d="onMouseLeave";kd="onMouseEnter";sd="mouse";if("pointerout"===H||"pointerover"===H)If=nh,$d="onPointerLeave",kd="onPointerEnter",sd="pointer";ud=null==pf?ke:Uc(pf);Zd=null==Sf?ke:Uc(Sf);ke=new If($d,sd+"leave",pf,da,$e);ke.target=ud;ke.relatedTarget=Zd;$d=null;Gb($e)===Ld&&(If=new If(kd,sd+"enter",Sf,da,$e),If.target=Zd,If.relatedTarget=ud,$d=
If);ud=$d;if(pf&&Sf)b:{If=pf;kd=Sf;sd=0;for(Zd=If;Zd;Zd=cd(Zd))sd++;Zd=0;for($d=kd;$d;$d=cd($d))Zd++;for(;0<sd-Zd;)If=cd(If),sd--;for(;0<Zd-sd;)kd=cd(kd),Zd--;for(;sd--;){if(If===kd||null!==kd&&If===kd.alternate)break b;If=cd(If);kd=cd(kd)}If=null}else If=null;null!==pf&&wd(Uf,ke,pf,If,!1);null!==Sf&&null!==ud&&wd(Uf,ud,Sf,If,!0)}}ke=Ld?Uc(Ld):window;pf=ke.nodeName&&ke.nodeName.toLowerCase();if("select"===pf||"input"===pf&&"file"===ke.type)var Xf=me;else if(Td(ke))if(Ce)Xf=oc;else{Xf=Mb;var Be=ub}else(pf=
ke.nodeName)&&"input"===pf.toLowerCase()&&("checkbox"===ke.type||"radio"===ke.type)&&(Xf=fc);Xf&&(Xf=Xf(H,Ld))?af(Uf,Xf,da,$e):(Be&&Be(H,ke,Ld),"focusout"===H&&(Be=ke._wrapperState)&&Be.controlled&&"number"===ke.type&&S(ke,"number",ke.value));Be=Ld?Uc(Ld):window;switch(H){case "focusin":if(Td(Be)||"true"===Be.contentEditable)vg=Be,Wf=Ld,ng=null;break;case "focusout":ng=Wf=vg=null;break;case "mousedown":mg=!0;break;case "contextmenu":case "mouseup":case "dragend":mg=!1;Ud(Uf,da,$e);break;case "selectionchange":if(Kg)break;
case "keydown":case "keyup":Ud(Uf,da,$e)}var Xe;if(La)a:{switch(H){case "compositionstart":var Df="onCompositionStart";break a;case "compositionend":Df="onCompositionEnd";break a;case "compositionupdate":Df="onCompositionUpdate";break a}Df=void 0}else Sc?Nd(H,da)&&(Df="onCompositionEnd"):"keydown"===H&&229===da.keyCode&&(Df="onCompositionStart");Df&&(yb&&"ko"!==da.locale&&(Sc||"onCompositionStart"!==Df?"onCompositionEnd"===Df&&Sc&&(Xe=$b()):(Hh=$e,dh="value"in Hh?Hh.value:Hh.textContent,Sc=!0)),Be=
sc(Ld,Df),0<Be.length&&(Df=new Zi(Df,H,null,da,$e),Uf.push({event:Df,listeners:Be}),Xe?Df.data=Xe:(Xe=fe(da),null!==Xe&&(Df.data=Xe))));if(Xe=eb?be(H,da):ce(H,da))Ld=sc(Ld,"onBeforeInput"),0<Ld.length&&($e=new Zi("onBeforeInput","beforeinput",null,da,$e),Uf.push({event:$e,listeners:Ld}),$e.data=Xe)}Ee(Uf,P)})}function Vb(H,P,da){return{instance:H,listener:P,currentTarget:da}}function sc(H,P){for(var da=P+"Capture",Ra=[];null!==H;){var nb=H,Kb=nb.stateNode;5===nb.tag&&null!==Kb&&(nb=Kb,Kb=Ua(H,da),
null!=Kb&&Ra.unshift(Vb(H,Kb,nb)),Kb=Ua(H,P),null!=Kb&&Ra.push(Vb(H,Kb,nb)));H=H.return}return Ra}function cd(H){if(null===H)return null;do H=H.return;while(H&&5!==H.tag);return H?H:null}function wd(H,P,da,Ra,nb){for(var Kb=P._reactName,ec=[];null!==da&&da!==Ra;){var Ac=da,hd=Ac.alternate,Ld=Ac.stateNode;if(null!==hd&&hd===Ra)break;5===Ac.tag&&null!==Ld&&(Ac=Ld,nb?(hd=Ua(da,Kb),null!=hd&&ec.unshift(Vb(da,hd,Ac))):nb||(hd=Ua(da,Kb),null!=hd&&ec.push(Vb(da,hd,Ac))));da=da.return}0!==ec.length&&H.push({event:P,
listeners:ec})}function Bd(){}function pe(H,P){switch(H){case "button":case "input":case "select":case "textarea":return!!P.autoFocus}return!1}function hf(H,P){return"textarea"===H||"option"===H||"noscript"===H||"string"===typeof P.children||"number"===typeof P.children||"object"===typeof P.dangerouslySetInnerHTML&&null!==P.dangerouslySetInnerHTML&&null!=P.dangerouslySetInnerHTML.__html}function Vf(H){1===H.nodeType?H.textContent="":9===H.nodeType&&(H=H.body,null!=H&&(H.textContent=""))}function yf(H){for(;null!=
H;H=H.nextSibling){var P=H.nodeType;if(1===P||3===P)break}return H}function Ff(H){H=H.previousSibling;for(var P=0;H;){if(8===H.nodeType){var da=H.data;if("$"===da||"$!"===da||"$?"===da){if(0===P)return H;P--}else"/$"===da&&P++}H=H.previousSibling}return null}function Oe(H){return{$$typeof:Ei,toString:H,valueOf:H}}function Gb(H){var P=H[gj];if(P)return P;for(var da=H.parentNode;da;){if(P=da[fj]||da[gj]){da=P.alternate;if(null!==P.child||null!==da&&null!==da.child)for(H=Ff(H);null!==H;){if(da=H[gj])return da;
H=Ff(H)}return P}H=da;da=H.parentNode}return null}function Wb(H){H=H[gj]||H[fj];return!H||5!==H.tag&&6!==H.tag&&13!==H.tag&&3!==H.tag?null:H}function Uc(H){if(5===H.tag||6===H.tag)return H.stateNode;throw Error(v(33));}function ie(H){return H[qk]||null}function oe(H){var P=H[rk];void 0===P&&(P=H[rk]=new Set);return P}function Vd(H){return{current:H}}function Qd(H){0>vj||(H.current=Ok[vj],Ok[vj]=null,vj--)}function se(H,P){vj++;Ok[vj]=H.current;H.current=P}function cf(H,P){var da=H.type.contextTypes;
if(!da)return Qi;var Ra=H.stateNode;if(Ra&&Ra.__reactInternalMemoizedUnmaskedChildContext===P)return Ra.__reactInternalMemoizedMaskedChildContext;var nb={},Kb;for(Kb in da)nb[Kb]=P[Kb];Ra&&(H=H.stateNode,H.__reactInternalMemoizedUnmaskedChildContext=P,H.__reactInternalMemoizedMaskedChildContext=nb);return nb}function qf(H){H=H.childContextTypes;return null!==H&&void 0!==H}function ua(){Qd(uf);Qd(oh)}function vb(H,P,da){if(oh.current!==Qi)throw Error(v(168));se(oh,P);se(uf,da)}function Oa(H,P,da){var Ra=
H.stateNode;H=P.childContextTypes;if("function"!==typeof Ra.getChildContext)return da;Ra=Ra.getChildContext();for(var nb in Ra)if(!(nb in H))throw Error(v(108,e(P)||"Unknown",nb));return cg({},da,Ra)}function ic(H){H=(H=H.stateNode)&&H.__reactInternalMemoizedMergedChildContext||Qi;Lg=oh.current;se(oh,H);se(uf,uf.current);return!0}function la(H,P,da){var Ra=H.stateNode;if(!Ra)throw Error(v(169));da?(H=Oa(H,P,Lg),Ra.__reactInternalMemoizedMergedChildContext=H,Qd(uf),Qd(oh),se(oh,H)):Qd(uf);se(uf,da)}
function Qa(){switch(el()){case ei:return 99;case ak:return 98;case fl:return 97;case bk:return 96;case gl:return 95;default:throw Error(v(332));}}function fb(H){switch(H){case 99:return ei;case 98:return ak;case 97:return fl;case 96:return bk;case 95:return gl;default:throw Error(v(332));}}function xb(H,P){H=fb(H);return hj(H,P)}function Fb(H,P,da){H=fb(H);return sk(H,P,da)}function ac(){if(null!==tk){var H=tk;tk=null;ck(H)}yc()}function yc(){if(!Uh&&null!==$i){Uh=!0;var H=0;try{var P=$i;xb(99,function(){for(;H<
P.length;H++){var da=P[H];do da=da(!0);while(null!==da)}});$i=null}catch(da){throw null!==$i&&($i=$i.slice(H+1)),sk(ei,ac),da;}finally{Uh=!1}}}function Zc(H,P){if(H&&H.defaultProps){P=cg({},P);H=H.defaultProps;for(var da in H)void 0===P[da]&&(P[da]=H[da])}return P}function ad(H){var P=oi.current;Qd(oi);H.type._context._currentValue=P}function Lc(H,P){for(;null!==H;){var da=H.alternate;if((H.childLanes&P)===P)if(null===da||(da.childLanes&P)===P)break;else da.childLanes|=P;else H.childLanes|=P,null!==
da&&(da.childLanes|=P);H=H.return}}function Ec(H,P){ij=H;wi=jj=null;H=H.dependencies;null!==H&&null!==H.firstContext&&(0!==(H.lanes&P)&&(pi=!0),H.firstContext=null)}function tc(H,P){if(wi!==H&&!1!==P&&0!==P){if("number"!==typeof P||1073741823===P)wi=H,P=1073741823;P={context:H,observedBits:P,next:null};if(null===jj){if(null===ij)throw Error(v(308));jj=P;ij.dependencies={lanes:0,firstContext:P,responders:null}}else jj=jj.next=P}return H._currentValue}function Nc(H){H.updateQueue={baseState:H.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function mc(H,P){H=H.updateQueue;P.updateQueue===H&&(P.updateQueue={baseState:H.baseState,firstBaseUpdate:H.firstBaseUpdate,lastBaseUpdate:H.lastBaseUpdate,shared:H.shared,effects:H.effects})}function Qc(H,P){return{eventTime:H,lane:P,tag:0,payload:null,callback:null,next:null}}function jb(H,P){H=H.updateQueue;if(null!==H){H=H.shared;var da=H.pending;null===da?P.next=P:(P.next=da.next,da.next=P);H.pending=P}}function Ib(H,
P){var da=H.updateQueue,Ra=H.alternate;if(null!==Ra&&(Ra=Ra.updateQueue,da===Ra)){var nb=null,Kb=null;da=da.firstBaseUpdate;if(null!==da){do{var ec={eventTime:da.eventTime,lane:da.lane,tag:da.tag,payload:da.payload,callback:da.callback,next:null};null===Kb?nb=Kb=ec:Kb=Kb.next=ec;da=da.next}while(null!==da);null===Kb?nb=Kb=P:Kb=Kb.next=P}else nb=Kb=P;da={baseState:Ra.baseState,firstBaseUpdate:nb,lastBaseUpdate:Kb,shared:Ra.shared,effects:Ra.effects};H.updateQueue=da}else H=da.lastBaseUpdate,null===
H?da.firstBaseUpdate=P:H.next=P,da.lastBaseUpdate=P}function Qb(H,P,da,Ra){var nb=H.updateQueue;ai=!1;var Kb=nb.firstBaseUpdate,ec=nb.lastBaseUpdate,Ac=nb.shared.pending;if(null!==Ac){nb.shared.pending=null;var hd=Ac,Ld=hd.next;hd.next=null;null===ec?Kb=Ld:ec.next=Ld;ec=hd;var $e=H.alternate;if(null!==$e){$e=$e.updateQueue;var Uf=$e.lastBaseUpdate;Uf!==ec&&(null===Uf?$e.firstBaseUpdate=Ld:Uf.next=Ld,$e.lastBaseUpdate=hd)}}if(null!==Kb){Uf=nb.baseState;ec=0;$e=Ld=hd=null;do{Ac=Kb.lane;var ke=Kb.eventTime;
if((Ra&Ac)===Ac){null!==$e&&($e=$e.next={eventTime:ke,lane:0,tag:Kb.tag,payload:Kb.payload,callback:Kb.callback,next:null});a:{var pf=H,Sf=Kb;Ac=P;ke=da;switch(Sf.tag){case 1:pf=Sf.payload;if("function"===typeof pf){Uf=pf.call(ke,Uf,Ac);break a}Uf=pf;break a;case 3:pf.flags=pf.flags&-4097|64;case 0:pf=Sf.payload;Ac="function"===typeof pf?pf.call(ke,Uf,Ac):pf;if(null===Ac||void 0===Ac)break a;Uf=cg({},Uf,Ac);break a;case 2:ai=!0}}null!==Kb.callback&&(H.flags|=32,Ac=nb.effects,null===Ac?nb.effects=
[Kb]:Ac.push(Kb))}else ke={eventTime:ke,lane:Ac,tag:Kb.tag,payload:Kb.payload,callback:Kb.callback,next:null},null===$e?(Ld=$e=ke,hd=Uf):$e=$e.next=ke,ec|=Ac;Kb=Kb.next;if(null===Kb)if(Ac=nb.shared.pending,null===Ac)break;else Kb=Ac.next,Ac.next=null,nb.lastBaseUpdate=Ac,nb.shared.pending=null}while(1);null===$e&&(hd=Uf);nb.baseState=hd;nb.firstBaseUpdate=Ld;nb.lastBaseUpdate=$e;wj|=ec;H.lanes=ec;H.memoizedState=Uf}}function Rb(H,P,da){H=P.effects;P.effects=null;if(null!==H)for(P=0;P<H.length;P++){var Ra=
H[P],nb=Ra.callback;if(null!==nb){Ra.callback=null;Ra=da;if("function"!==typeof nb)throw Error(v(191,nb));nb.call(Ra)}}}function na(H,P,da,Ra){P=H.memoizedState;da=da(Ra,P);da=null===da||void 0===da?P:cg({},P,da);H.memoizedState=da;0===H.lanes&&(H.updateQueue.baseState=da)}function Ma(H,P,da,Ra,nb,Kb,ec){H=H.stateNode;return"function"===typeof H.shouldComponentUpdate?H.shouldComponentUpdate(Ra,Kb,ec):P.prototype&&P.prototype.isPureReactComponent?!Kc(da,Ra)||!Kc(nb,Kb):!0}function lb(H,P,da){var Ra=
!1,nb=Qi,Kb=P.contextType;"object"===typeof Kb&&null!==Kb?Kb=tc(Kb):(nb=qf(P)?Lg:oh.current,Ra=P.contextTypes,Kb=(Ra=null!==Ra&&void 0!==Ra)?cf(H,nb):Qi);P=new P(da,Kb);H.memoizedState=null!==P.state&&void 0!==P.state?P.state:null;P.updater=uk;H.stateNode=P;P._reactInternals=H;Ra&&(H=H.stateNode,H.__reactInternalMemoizedUnmaskedChildContext=nb,H.__reactInternalMemoizedMaskedChildContext=Kb);return P}function Jb(H,P,da,Ra){H=P.state;"function"===typeof P.componentWillReceiveProps&&P.componentWillReceiveProps(da,
Ra);"function"===typeof P.UNSAFE_componentWillReceiveProps&&P.UNSAFE_componentWillReceiveProps(da,Ra);P.state!==H&&uk.enqueueReplaceState(P,P.state,null)}function Nb(H,P,da,Ra){var nb=H.stateNode;nb.props=da;nb.state=H.memoizedState;nb.refs=Pk;Nc(H);var Kb=P.contextType;"object"===typeof Kb&&null!==Kb?nb.context=tc(Kb):(Kb=qf(P)?Lg:oh.current,nb.context=cf(H,Kb));Qb(H,da,nb,Ra);nb.state=H.memoizedState;Kb=P.getDerivedStateFromProps;"function"===typeof Kb&&(na(H,P,Kb,da),nb.state=H.memoizedState);
"function"===typeof P.getDerivedStateFromProps||"function"===typeof nb.getSnapshotBeforeUpdate||"function"!==typeof nb.UNSAFE_componentWillMount&&"function"!==typeof nb.componentWillMount||(P=nb.state,"function"===typeof nb.componentWillMount&&nb.componentWillMount(),"function"===typeof nb.UNSAFE_componentWillMount&&nb.UNSAFE_componentWillMount(),P!==nb.state&&uk.enqueueReplaceState(nb,nb.state,null),Qb(H,da,nb,Ra),nb.state=H.memoizedState);"function"===typeof nb.componentDidMount&&(H.flags|=4)}function Lb(H,
P,da){H=da.ref;if(null!==H&&"function"!==typeof H&&"object"!==typeof H){if(da._owner){if(da=da._owner){if(1!==da.tag)throw Error(v(309));var Ra=da.stateNode}if(!Ra)throw Error(v(147,H));var nb=""+H;if(null!==P&&null!==P.ref&&"function"===typeof P.ref&&P.ref._stringRef===nb)return P.ref;P=function(Kb){var ec=Ra.refs;ec===Pk&&(ec=Ra.refs={});null===Kb?delete ec[nb]:ec[nb]=Kb};P._stringRef=nb;return P}if("string"!==typeof H)throw Error(v(284));if(!da._owner)throw Error(v(290,H));}return H}function pc(H,
P){if("textarea"!==H.type)throw Error(v(31,"[object Object]"===Object.prototype.toString.call(P)?"object with keys {"+Object.keys(P).join(", ")+"}":P));}function Oc(H){function P(ud,kd){if(H){var sd=ud.lastEffect;null!==sd?(sd.nextEffect=kd,ud.lastEffect=kd):ud.firstEffect=ud.lastEffect=kd;kd.nextEffect=null;kd.flags=8}}function da(ud,kd){if(!H)return null;for(;null!==kd;)P(ud,kd),kd=kd.sibling;return null}function Ra(ud,kd){for(ud=new Map;null!==kd;)null!==kd.key?ud.set(kd.key,kd):ud.set(kd.index,
kd),kd=kd.sibling;return ud}function nb(ud,kd){ud=Aa(ud,kd);ud.index=0;ud.sibling=null;return ud}function Kb(ud,kd,sd){ud.index=sd;if(!H)return kd;sd=ud.alternate;if(null!==sd)return sd=sd.index,sd<kd?(ud.flags=2,kd):sd;ud.flags=2;return kd}function ec(ud){H&&null===ud.alternate&&(ud.flags=2);return ud}function Ac(ud,kd,sd,Zd){if(null===kd||6!==kd.tag)return kd=kc(sd,ud.mode,Zd),kd.return=ud,kd;kd=nb(kd,sd);kd.return=ud;return kd}function hd(ud,kd,sd,Zd){if(null!==kd&&kd.elementType===sd.type)return Zd=
nb(kd,sd.props),Zd.ref=Lb(ud,kd,sd),Zd.return=ud,Zd;Zd=Sa(sd.type,sd.key,sd.props,null,ud.mode,Zd);Zd.ref=Lb(ud,kd,sd);Zd.return=ud;return Zd}function Ld(ud,kd,sd,Zd){if(null===kd||4!==kd.tag||kd.stateNode.containerInfo!==sd.containerInfo||kd.stateNode.implementation!==sd.implementation)return kd=Rc(sd,ud.mode,Zd),kd.return=ud,kd;kd=nb(kd,sd.children||[]);kd.return=ud;return kd}function $e(ud,kd,sd,Zd,$d){if(null===kd||7!==kd.tag)return kd=qb(sd,ud.mode,Zd,$d),kd.return=ud,kd;kd=nb(kd,sd);kd.return=
ud;return kd}function Uf(ud,kd,sd){if("string"===typeof kd||"number"===typeof kd)return kd=kc(""+kd,ud.mode,sd),kd.return=ud,kd;if("object"===typeof kd&&null!==kd){switch(kd.$$typeof){case Mg:return sd=Sa(kd.type,kd.key,kd.props,null,ud.mode,sd),sd.ref=Lb(ud,null,kd),sd.return=ud,sd;case lg:return kd=Rc(kd,ud.mode,sd),kd.return=ud,kd}if(xi(kd)||d(kd))return kd=qb(kd,ud.mode,sd,null),kd.return=ud,kd;pc(ud,kd)}return null}function ke(ud,kd,sd,Zd){var $d=null!==kd?kd.key:null;if("string"===typeof sd||
"number"===typeof sd)return null!==$d?null:Ac(ud,kd,""+sd,Zd);if("object"===typeof sd&&null!==sd){switch(sd.$$typeof){case Mg:return sd.key===$d?sd.type===Dh?$e(ud,kd,sd.props.children,Zd,$d):hd(ud,kd,sd,Zd):null;case lg:return sd.key===$d?Ld(ud,kd,sd,Zd):null}if(xi(sd)||d(sd))return null!==$d?null:$e(ud,kd,sd,Zd,null);pc(ud,sd)}return null}function pf(ud,kd,sd,Zd,$d){if("string"===typeof Zd||"number"===typeof Zd)return ud=ud.get(sd)||null,Ac(kd,ud,""+Zd,$d);if("object"===typeof Zd&&null!==Zd){switch(Zd.$$typeof){case Mg:return ud=
ud.get(null===Zd.key?sd:Zd.key)||null,Zd.type===Dh?$e(kd,ud,Zd.props.children,$d,Zd.key):hd(kd,ud,Zd,$d);case lg:return ud=ud.get(null===Zd.key?sd:Zd.key)||null,Ld(kd,ud,Zd,$d)}if(xi(Zd)||d(Zd))return ud=ud.get(sd)||null,$e(kd,ud,Zd,$d,null);pc(kd,Zd)}return null}function Sf(ud,kd,sd,Zd){for(var $d=null,Xf=null,Be=kd,Xe=kd=0,Df=null;null!==Be&&Xe<sd.length;Xe++){Be.index>Xe?(Df=Be,Be=null):Df=Be.sibling;var Gf=ke(ud,Be,sd[Xe],Zd);if(null===Gf){null===Be&&(Be=Df);break}H&&Be&&null===Gf.alternate&&
P(ud,Be);kd=Kb(Gf,kd,Xe);null===Xf?$d=Gf:Xf.sibling=Gf;Xf=Gf;Be=Df}if(Xe===sd.length)return da(ud,Be),$d;if(null===Be){for(;Xe<sd.length;Xe++)Be=Uf(ud,sd[Xe],Zd),null!==Be&&(kd=Kb(Be,kd,Xe),null===Xf?$d=Be:Xf.sibling=Be,Xf=Be);return $d}for(Be=Ra(ud,Be);Xe<sd.length;Xe++)Df=pf(Be,ud,Xe,sd[Xe],Zd),null!==Df&&(H&&null!==Df.alternate&&Be.delete(null===Df.key?Xe:Df.key),kd=Kb(Df,kd,Xe),null===Xf?$d=Df:Xf.sibling=Df,Xf=Df);H&&Be.forEach(function(kj){return P(ud,kj)});return $d}function If(ud,kd,sd,Zd){var $d=
d(sd);if("function"!==typeof $d)throw Error(v(150));sd=$d.call(sd);if(null==sd)throw Error(v(151));for(var Xf=$d=null,Be=kd,Xe=kd=0,Df=null,Gf=sd.next();null!==Be&&!Gf.done;Xe++,Gf=sd.next()){Be.index>Xe?(Df=Be,Be=null):Df=Be.sibling;var kj=ke(ud,Be,Gf.value,Zd);if(null===kj){null===Be&&(Be=Df);break}H&&Be&&null===kj.alternate&&P(ud,Be);kd=Kb(kj,kd,Xe);null===Xf?$d=kj:Xf.sibling=kj;Xf=kj;Be=Df}if(Gf.done)return da(ud,Be),$d;if(null===Be){for(;!Gf.done;Xe++,Gf=sd.next())Gf=Uf(ud,Gf.value,Zd),null!==
Gf&&(kd=Kb(Gf,kd,Xe),null===Xf?$d=Gf:Xf.sibling=Gf,Xf=Gf);return $d}for(Be=Ra(ud,Be);!Gf.done;Xe++,Gf=sd.next())Gf=pf(Be,ud,Xe,Gf.value,Zd),null!==Gf&&(H&&null!==Gf.alternate&&Be.delete(null===Gf.key?Xe:Gf.key),kd=Kb(Gf,kd,Xe),null===Xf?$d=Gf:Xf.sibling=Gf,Xf=Gf);H&&Be.forEach(function(lj){return P(ud,lj)});return $d}return function(ud,kd,sd,Zd){var $d="object"===typeof sd&&null!==sd&&sd.type===Dh&&null===sd.key;$d&&(sd=sd.props.children);var Xf="object"===typeof sd&&null!==sd;if(Xf)switch(sd.$$typeof){case Mg:a:{Xf=
sd.key;for($d=kd;null!==$d;){if($d.key===Xf){switch($d.tag){case 7:if(sd.type===Dh){da(ud,$d.sibling);kd=nb($d,sd.props.children);kd.return=ud;ud=kd;break a}break;default:if($d.elementType===sd.type){da(ud,$d.sibling);kd=nb($d,sd.props);kd.ref=Lb(ud,$d,sd);kd.return=ud;ud=kd;break a}}da(ud,$d);break}else P(ud,$d);$d=$d.sibling}sd.type===Dh?(kd=qb(sd.props.children,ud.mode,Zd,sd.key),kd.return=ud,ud=kd):(Zd=Sa(sd.type,sd.key,sd.props,null,ud.mode,Zd),Zd.ref=Lb(ud,kd,sd),Zd.return=ud,ud=Zd)}return ec(ud);
case lg:a:{for($d=sd.key;null!==kd;){if(kd.key===$d)if(4===kd.tag&&kd.stateNode.containerInfo===sd.containerInfo&&kd.stateNode.implementation===sd.implementation){da(ud,kd.sibling);kd=nb(kd,sd.children||[]);kd.return=ud;ud=kd;break a}else{da(ud,kd);break}else P(ud,kd);kd=kd.sibling}kd=Rc(sd,ud.mode,Zd);kd.return=ud;ud=kd}return ec(ud)}if("string"===typeof sd||"number"===typeof sd)return sd=""+sd,null!==kd&&6===kd.tag?(da(ud,kd.sibling),kd=nb(kd,sd),kd.return=ud,ud=kd):(da(ud,kd),kd=kc(sd,ud.mode,
Zd),kd.return=ud,ud=kd),ec(ud);if(xi(sd))return Sf(ud,kd,sd,Zd);if(d(sd))return If(ud,kd,sd,Zd);Xf&&pc(ud,sd);if("undefined"===typeof sd&&!$d)switch(ud.tag){case 1:case 22:case 0:case 11:case 15:throw Error(v(152,e(ud.type)||"Component"));}return da(ud,kd)}}function zc(H){if(H===Lj)throw Error(v(174));return H}function wc(H,P){se(dk,P);se(ek,H);se(Ri,Lj);H=P.nodeType;switch(H){case 9:case 11:P=(P=P.documentElement)?P.namespaceURI:U(null,"");break;default:H=8===H?P.parentNode:P,P=H.namespaceURI||null,
H=H.tagName,P=U(P,H)}Qd(Ri);se(Ri,P)}function od(){Qd(Ri);Qd(ek);Qd(dk)}function qd(H){zc(dk.current);var P=zc(Ri.current),da=U(P,H.type);P!==da&&(se(ek,H),se(Ri,da))}function Fe(H){ek.current===H&&(Qd(Ri),Qd(ek))}function Cd(H){for(var P=H;null!==P;){if(13===P.tag){var da=P.memoizedState;if(null!==da&&(da=da.dehydrated,null===da||"$?"===da.data||"$!"===da.data))return P}else if(19===P.tag&&void 0!==P.memoizedProps.revealOrder){if(0!==(P.flags&64))return P}else if(null!==P.child){P.child.return=P;
P=P.child;continue}if(P===H)break;for(;null===P.sibling;){if(null===P.return||P.return===H)return null;P=P.return}P.sibling.return=P.return;P=P.sibling}return null}function je(H,P){var da=uc(5,null,null,0);da.elementType="DELETED";da.type="DELETED";da.stateNode=P;da.return=H;da.flags=8;null!==H.lastEffect?(H.lastEffect.nextEffect=da,H.lastEffect=da):H.firstEffect=H.lastEffect=da}function ve(H,P){switch(H.tag){case 5:var da=H.type;P=1!==P.nodeType||da.toLowerCase()!==P.nodeName.toLowerCase()?null:
P;return null!==P?(H.stateNode=P,!0):!1;case 6:return P=""===H.pendingProps||3!==P.nodeType?null:P,null!==P?(H.stateNode=P,!0):!1;case 13:return!1;default:return!1}}function xd(H){if(yi){var P=Si;if(P){var da=P;if(!ve(H,P)){P=yf(da.nextSibling);if(!P||!ve(H,P)){H.flags=H.flags&-1025|2;yi=!1;Fi=H;return}je(Fi,da)}Fi=H;Si=yf(P.firstChild)}else H.flags=H.flags&-1025|2,yi=!1,Fi=H}}function Id(H){for(H=H.return;null!==H&&5!==H.tag&&3!==H.tag&&13!==H.tag;)H=H.return;Fi=H}function te(H){if(H!==Fi)return!1;
if(!yi)return Id(H),yi=!0,!1;var P=H.type;if(5!==H.tag||"head"!==P&&"body"!==P&&!hf(P,H.memoizedProps))for(P=Si;P;)je(H,P),P=yf(P.nextSibling);Id(H);if(13===H.tag){H=H.memoizedState;H=null!==H?H.dehydrated:null;if(!H)throw Error(v(317));a:{H=H.nextSibling;for(P=0;H;){if(8===H.nodeType){var da=H.data;if("/$"===da){if(0===P){Si=yf(H.nextSibling);break a}P--}else"$"!==da&&"$!"!==da&&"$?"!==da||P++}H=H.nextSibling}Si=null}}else Si=Fi?yf(H.stateNode.nextSibling):null;return!0}function ye(){for(var H=0;H<
Mj.length;H++)Mj[H]._workInProgressVersionPrimary=null;Mj.length=0}function vd(){throw Error(v(321));}function ef(H,P){if(null===P)return!1;for(var da=0;da<P.length&&da<H.length;da++)if(!Tf(H[da],P[da]))return!1;return!0}function df(H,P,da,Ra,nb,Kb){mj=Kb;jh=P;P.memoizedState=null;P.updateQueue=null;P.lanes=0;xj.current=null===H||null===H.memoizedState?xl:ji;H=da(Ra,nb);if(Nj){Kb=0;do{Nj=!1;if(!(25>Kb))throw Error(v(301));Kb+=1;Rh=bi=null;P.updateQueue=null;xj.current=Qk;H=da(Ra,nb)}while(Nj)}xj.current=
Oj;P=null!==bi&&null!==bi.next;mj=0;Rh=bi=jh=null;vk=!1;if(P)throw Error(v(300));return H}function vf(){var H={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Rh?jh.memoizedState=Rh=H:Rh=Rh.next=H;return Rh}function Lf(){if(null===bi){var H=jh.alternate;H=null!==H?H.memoizedState:null}else H=bi.next;var P=null===Rh?jh.memoizedState:Rh.next;if(null!==P)Rh=P,bi=H;else{if(null===H)throw Error(v(310));bi=H;H={memoizedState:bi.memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,
queue:bi.queue,next:null};null===Rh?jh.memoizedState=Rh=H:Rh=Rh.next=H}return Rh}function Of(H,P){return"function"===typeof P?P(H):P}function Xg(H){var P=Lf(),da=P.queue;if(null===da)throw Error(v(311));da.lastRenderedReducer=H;var Ra=bi,nb=Ra.baseQueue,Kb=da.pending;if(null!==Kb){if(null!==nb){var ec=nb.next;nb.next=Kb.next;Kb.next=ec}Ra.baseQueue=nb=Kb;da.pending=null}if(null!==nb){nb=nb.next;Ra=Ra.baseState;var Ac=ec=Kb=null,hd=nb;do{var Ld=hd.lane;if((mj&Ld)===Ld)null!==Ac&&(Ac=Ac.next={lane:0,
action:hd.action,eagerReducer:hd.eagerReducer,eagerState:hd.eagerState,next:null}),Ra=hd.eagerReducer===H?hd.eagerState:H(Ra,hd.action);else{var $e={lane:Ld,action:hd.action,eagerReducer:hd.eagerReducer,eagerState:hd.eagerState,next:null};null===Ac?(ec=Ac=$e,Kb=Ra):Ac=Ac.next=$e;jh.lanes|=Ld;wj|=Ld}hd=hd.next}while(null!==hd&&hd!==nb);null===Ac?Kb=Ra:Ac.next=ec;Tf(Ra,P.memoizedState)||(pi=!0);P.memoizedState=Ra;P.baseState=Kb;P.baseQueue=Ac;da.lastRenderedState=Ra}return[P.memoizedState,da.dispatch]}
function Xd(H){var P=Lf(),da=P.queue;if(null===da)throw Error(v(311));da.lastRenderedReducer=H;var Ra=da.dispatch,nb=da.pending,Kb=P.memoizedState;if(null!==nb){da.pending=null;var ec=nb=nb.next;do Kb=H(Kb,ec.action),ec=ec.next;while(ec!==nb);Tf(Kb,P.memoizedState)||(pi=!0);P.memoizedState=Kb;null===P.baseQueue&&(P.baseState=Kb);da.lastRenderedState=Kb}return[Kb,Ra]}function Ge(H,P,da){var Ra=P._getVersion;Ra=Ra(P._source);var nb=P._workInProgressVersionPrimary;if(null!==nb)H=nb===Ra;else if(H=H.mutableReadLanes,
H=(mj&H)===H)P._workInProgressVersionPrimary=Ra,Mj.push(P);if(H)return da(P._source);Mj.push(P);throw Error(v(350));}function og(H,P,da,Ra){var nb=fi;if(null===nb)throw Error(v(349));var Kb=P._getVersion,ec=Kb(P._source),Ac=xj.current,hd=Ac.useState(function(){return Ge(nb,P,da)}),Ld=hd[1],$e=hd[0];hd=Rh;var Uf=H.memoizedState,ke=Uf.refs,pf=ke.getSnapshot,Sf=Uf.source;Uf=Uf.subscribe;var If=jh;H.memoizedState={refs:ke,source:P,subscribe:Ra};Ac.useEffect(function(){ke.getSnapshot=da;ke.setSnapshot=
Ld;var ud=Kb(P._source);if(!Tf(ec,ud)){ud=da(P._source);Tf($e,ud)||(Ld(ud),ud=Pe(If),nb.mutableReadLanes|=ud&nb.pendingLanes);ud=nb.mutableReadLanes;nb.entangledLanes|=ud;for(var kd=nb.entanglements,sd=ud;0<sd;){var Zd=31-Qh(sd),$d=1<<Zd;kd[Zd]|=ud;sd&=~$d}}},[da,P,Ra]);Ac.useEffect(function(){return Ra(P._source,function(){var ud=ke.getSnapshot,kd=ke.setSnapshot;try{kd(ud(P._source));var sd=Pe(If);nb.mutableReadLanes|=sd&nb.pendingLanes}catch(Zd){kd(function(){throw Zd;})}})},[P,Ra]);Tf(pf,da)&&
Tf(Sf,P)&&Tf(Uf,Ra)||(H={pending:null,dispatch:null,lastRenderedReducer:Of,lastRenderedState:$e},H.dispatch=Ld=bb.bind(null,jh,H),hd.queue=H,hd.baseQueue=null,$e=Ge(nb,P,da),hd.memoizedState=hd.baseState=$e);return $e}function wg(H,P,da){var Ra=Lf();return og(Ra,H,P,da)}function Zg(H){var P=vf();"function"===typeof H&&(H=H());P.memoizedState=P.baseState=H;H=P.queue={pending:null,dispatch:null,lastRenderedReducer:Of,lastRenderedState:H};H=H.dispatch=bb.bind(null,jh,H);return[P.memoizedState,H]}function Bg(H,
P,da,Ra){H={tag:H,create:P,destroy:da,deps:Ra,next:null};P=jh.updateQueue;null===P?(P={lastEffect:null},jh.updateQueue=P,P.lastEffect=H.next=H):(da=P.lastEffect,null===da?P.lastEffect=H.next=H:(Ra=da.next,da.next=H,H.next=Ra,P.lastEffect=H));return H}function Qg(H){var P=vf();H={current:H};return P.memoizedState=H}function sg(){return Lf().memoizedState}function fg(H,P,da,Ra){var nb=vf();jh.flags|=H;nb.memoizedState=Bg(1|P,da,void 0,void 0===Ra?null:Ra)}function zf(H,P,da,Ra){var nb=Lf();Ra=void 0===
Ra?null:Ra;var Kb=void 0;if(null!==bi){var ec=bi.memoizedState;Kb=ec.destroy;if(null!==Ra&&ef(Ra,ec.deps)){Bg(P,da,Kb,Ra);return}}jh.flags|=H;nb.memoizedState=Bg(1|P,da,Kb,Ra)}function Pf(H,P){return fg(516,4,H,P)}function eg(H,P){return zf(516,4,H,P)}function Mf(H,P){return zf(4,2,H,P)}function gg(H,P){if("function"===typeof P)return H=H(),P(H),function(){P(null)};if(null!==P&&void 0!==P)return H=H(),P.current=H,function(){P.current=null}}function kh(H,P,da){da=null!==da&&void 0!==da?da.concat([H]):
null;return zf(4,2,gg.bind(null,P,H),da)}function th(){}function Gg(H,P){var da=Lf();P=void 0===P?null:P;var Ra=da.memoizedState;if(null!==Ra&&null!==P&&ef(P,Ra[1]))return Ra[0];da.memoizedState=[H,P];return H}function xg(H,P){var da=Lf();P=void 0===P?null:P;var Ra=da.memoizedState;if(null!==Ra&&null!==P&&ef(P,Ra[1]))return Ra[0];H=H();da.memoizedState=[H,P];return H}function zh(H,P){var da=Qa();xb(98>da?98:da,function(){H(!0)});xb(97<da?97:da,function(){var Ra=qi.transition;qi.transition=1;try{H(!1),
P()}finally{qi.transition=Ra}})}function bb(H,P,da){var Ra=Je(),nb=Pe(H),Kb={lane:nb,action:da,eagerReducer:null,eagerState:null,next:null},ec=P.pending;null===ec?Kb.next=Kb:(Kb.next=ec.next,ec.next=Kb);P.pending=Kb;ec=H.alternate;if(H===jh||null!==ec&&ec===jh)Nj=vk=!0;else{if(0===H.lanes&&(null===ec||0===ec.lanes)&&(ec=P.lastRenderedReducer,null!==ec))try{var Ac=P.lastRenderedState,hd=ec(Ac,da);Kb.eagerReducer=ec;Kb.eagerState=hd;if(Tf(hd,Ac))return}catch(Ld){}finally{}Hf(H,nb,Ra)}}function Hb(H,
P,da,Ra){P.child=null===H?Rk(P,null,da,Ra):yj(P,H.child,da,Ra)}function nc(H,P,da,Ra,nb){da=da.render;var Kb=P.ref;Ec(P,nb);Ra=df(H,P,da,Ra,Kb,nb);if(null!==H&&!pi)return P.updateQueue=H.updateQueue,P.flags&=-517,H.lanes&=~nb,lh(H,P,nb);P.flags|=1;Hb(H,P,Ra,nb);return P.child}function td(H,P,da,Ra,nb,Kb){if(null===H){var ec=da.type;if("function"===typeof ec&&!Fc(ec)&&void 0===ec.defaultProps&&null===da.compare&&void 0===da.defaultProps)return P.tag=15,P.type=ec,zd(H,P,ec,Ra,nb,Kb);H=Sa(da.type,null,
Ra,P,P.mode,Kb);H.ref=P.ref;H.return=P;return P.child=H}ec=H.child;if(0===(nb&Kb)&&(nb=ec.memoizedProps,da=da.compare,da=null!==da?da:Kc,da(nb,Ra)&&H.ref===P.ref))return lh(H,P,Kb);P.flags|=1;H=Aa(ec,Ra);H.ref=P.ref;H.return=P;return P.child=H}function zd(H,P,da,Ra,nb,Kb){if(null!==H&&Kc(H.memoizedProps,Ra)&&H.ref===P.ref)if(pi=!1,0!==(Kb&nb))0!==(H.flags&16384)&&(pi=!0);else return P.lanes=H.lanes,lh(H,P,Kb);return sf(H,P,da,Ra,Kb)}function he(H,P,da){var Ra=P.pendingProps,nb=Ra.children,Kb=null!==
H?H.memoizedState:null;if("hidden"===Ra.mode||"unstable-defer-without-hiding"===Ra.mode)if(0===(P.mode&4))P.memoizedState={baseLanes:0},Qf(P,da);else if(0!==(da&1073741824))P.memoizedState={baseLanes:0},Qf(P,null!==Kb?Kb.baseLanes:da);else return H=null!==Kb?Kb.baseLanes|da:da,P.lanes=P.childLanes=1073741824,P.memoizedState={baseLanes:H},Qf(P,H),null;else null!==Kb?(Ra=Kb.baseLanes|da,P.memoizedState=null):Ra=da,Qf(P,Ra);Hb(H,P,nb,da);return P.child}function kf(H,P){var da=P.ref;if(null===H&&null!==
da||null!==H&&H.ref!==da)P.flags|=128}function sf(H,P,da,Ra,nb){var Kb=qf(da)?Lg:oh.current;Kb=cf(P,Kb);Ec(P,nb);da=df(H,P,da,Ra,Kb,nb);if(null!==H&&!pi)return P.updateQueue=H.updateQueue,P.flags&=-517,H.lanes&=~nb,lh(H,P,nb);P.flags|=1;Hb(H,P,da,nb);return P.child}function Rg(H,P,da,Ra,nb){if(qf(da)){var Kb=!0;ic(P)}else Kb=!1;Ec(P,nb);if(null===P.stateNode)null!==H&&(H.alternate=null,P.alternate=null,P.flags|=2),lb(P,da,Ra),Nb(P,da,Ra,nb),Ra=!0;else if(null===H){var ec=P.stateNode,Ac=P.memoizedProps;
ec.props=Ac;var hd=ec.context,Ld=da.contextType;"object"===typeof Ld&&null!==Ld?Ld=tc(Ld):(Ld=qf(da)?Lg:oh.current,Ld=cf(P,Ld));var $e=da.getDerivedStateFromProps,Uf="function"===typeof $e||"function"===typeof ec.getSnapshotBeforeUpdate;Uf||"function"!==typeof ec.UNSAFE_componentWillReceiveProps&&"function"!==typeof ec.componentWillReceiveProps||(Ac!==Ra||hd!==Ld)&&Jb(P,ec,Ra,Ld);ai=!1;var ke=P.memoizedState;ec.state=ke;Qb(P,Ra,ec,nb);hd=P.memoizedState;Ac!==Ra||ke!==hd||uf.current||ai?("function"===
typeof $e&&(na(P,da,$e,Ra),hd=P.memoizedState),(Ac=ai||Ma(P,da,Ac,Ra,ke,hd,Ld))?(Uf||"function"!==typeof ec.UNSAFE_componentWillMount&&"function"!==typeof ec.componentWillMount||("function"===typeof ec.componentWillMount&&ec.componentWillMount(),"function"===typeof ec.UNSAFE_componentWillMount&&ec.UNSAFE_componentWillMount()),"function"===typeof ec.componentDidMount&&(P.flags|=4)):("function"===typeof ec.componentDidMount&&(P.flags|=4),P.memoizedProps=Ra,P.memoizedState=hd),ec.props=Ra,ec.state=hd,
ec.context=Ld,Ra=Ac):("function"===typeof ec.componentDidMount&&(P.flags|=4),Ra=!1)}else{ec=P.stateNode;mc(H,P);Ac=P.memoizedProps;Ld=P.type===P.elementType?Ac:Zc(P.type,Ac);ec.props=Ld;Uf=P.pendingProps;ke=ec.context;hd=da.contextType;"object"===typeof hd&&null!==hd?hd=tc(hd):(hd=qf(da)?Lg:oh.current,hd=cf(P,hd));var pf=da.getDerivedStateFromProps;($e="function"===typeof pf||"function"===typeof ec.getSnapshotBeforeUpdate)||"function"!==typeof ec.UNSAFE_componentWillReceiveProps&&"function"!==typeof ec.componentWillReceiveProps||
(Ac!==Uf||ke!==hd)&&Jb(P,ec,Ra,hd);ai=!1;ke=P.memoizedState;ec.state=ke;Qb(P,Ra,ec,nb);var Sf=P.memoizedState;Ac!==Uf||ke!==Sf||uf.current||ai?("function"===typeof pf&&(na(P,da,pf,Ra),Sf=P.memoizedState),(Ld=ai||Ma(P,da,Ld,Ra,ke,Sf,hd))?($e||"function"!==typeof ec.UNSAFE_componentWillUpdate&&"function"!==typeof ec.componentWillUpdate||("function"===typeof ec.componentWillUpdate&&ec.componentWillUpdate(Ra,Sf,hd),"function"===typeof ec.UNSAFE_componentWillUpdate&&ec.UNSAFE_componentWillUpdate(Ra,Sf,
hd)),"function"===typeof ec.componentDidUpdate&&(P.flags|=4),"function"===typeof ec.getSnapshotBeforeUpdate&&(P.flags|=256)):("function"!==typeof ec.componentDidUpdate||Ac===H.memoizedProps&&ke===H.memoizedState||(P.flags|=4),"function"!==typeof ec.getSnapshotBeforeUpdate||Ac===H.memoizedProps&&ke===H.memoizedState||(P.flags|=256),P.memoizedProps=Ra,P.memoizedState=Sf),ec.props=Ra,ec.state=Sf,ec.context=hd,Ra=Ld):("function"!==typeof ec.componentDidUpdate||Ac===H.memoizedProps&&ke===H.memoizedState||
(P.flags|=4),"function"!==typeof ec.getSnapshotBeforeUpdate||Ac===H.memoizedProps&&ke===H.memoizedState||(P.flags|=256),Ra=!1)}return Rf(H,P,da,Ra,Kb,nb)}function Rf(H,P,da,Ra,nb,Kb){kf(H,P);var ec=0!==(P.flags&64);if(!Ra&&!ec)return nb&&la(P,da,!1),lh(H,P,Kb);Ra=P.stateNode;hl.current=P;var Ac=ec&&"function"!==typeof da.getDerivedStateFromError?null:Ra.render();P.flags|=1;null!==H&&ec?(P.child=yj(P,H.child,null,Kb),P.child=yj(P,null,Ac,Kb)):Hb(H,P,Ac,Kb);P.memoizedState=Ra.state;nb&&la(P,da,!0);
return P.child}function eh(H){var P=H.stateNode;P.pendingContext?vb(H,P.pendingContext,P.pendingContext!==P.context):P.context&&vb(H,P.context,!1);wc(H,P.containerInfo)}function uh(H,P,da){var Ra=P.pendingProps,nb=Ah.current,Kb=!1,ec;(ec=0!==(P.flags&64))||(ec=null!==H&&null===H.memoizedState?!1:0!==(nb&2));ec?(Kb=!0,P.flags&=-65):null!==H&&null===H.memoizedState||void 0===Ra.fallback||!0===Ra.unstable_avoidThisFallback||(nb|=1);se(Ah,nb&1);if(null===H){void 0!==Ra.fallback&&xd(P);H=Ra.children;nb=
Ra.fallback;if(Kb)return H=$g(P,H,nb,da),P.child.memoizedState={baseLanes:da},P.memoizedState=gi,H;if("number"===typeof Ra.unstable_expectedLoadTime)return H=$g(P,H,nb,da),P.child.memoizedState={baseLanes:da},P.memoizedState=gi,P.lanes=33554432,H;da=rb({mode:"visible",children:H},P.mode,da,null);da.return=P;return P.child=da}if(null!==H.memoizedState){if(Kb)return Ra=mf(H,P,Ra.children,Ra.fallback,da),Kb=P.child,nb=H.child.memoizedState,Kb.memoizedState=null===nb?{baseLanes:da}:{baseLanes:nb.baseLanes|
da},Kb.childLanes=H.childLanes&~da,P.memoizedState=gi,Ra;da=fh(H,P,Ra.children,da);P.memoizedState=null;return da}if(Kb)return Ra=mf(H,P,Ra.children,Ra.fallback,da),Kb=P.child,nb=H.child.memoizedState,Kb.memoizedState=null===nb?{baseLanes:da}:{baseLanes:nb.baseLanes|da},Kb.childLanes=H.childLanes&~da,P.memoizedState=gi,Ra;da=fh(H,P,Ra.children,da);P.memoizedState=null;return da}function $g(H,P,da,Ra){var nb=H.mode,Kb=H.child;P={mode:"hidden",children:P};0===(nb&2)&&null!==Kb?(Kb.childLanes=0,Kb.pendingProps=
P):Kb=rb(P,nb,0,null);da=qb(da,nb,Ra,null);Kb.return=H;da.return=H;Kb.sibling=da;H.child=Kb;return da}function fh(H,P,da,Ra){var nb=H.child;H=nb.sibling;da=Aa(nb,{mode:"visible",children:da});0===(P.mode&2)&&(da.lanes=Ra);da.return=P;da.sibling=null;null!==H&&(H.nextEffect=null,H.flags=8,P.firstEffect=P.lastEffect=H);return P.child=da}function mf(H,P,da,Ra,nb){var Kb=P.mode,ec=H.child;H=ec.sibling;var Ac={mode:"hidden",children:da};0===(Kb&2)&&P.child!==ec?(da=P.child,da.childLanes=0,da.pendingProps=
Ac,ec=da.lastEffect,null!==ec?(P.firstEffect=da.firstEffect,P.lastEffect=ec,ec.nextEffect=null):P.firstEffect=P.lastEffect=null):da=Aa(ec,Ac);null!==H?Ra=Aa(H,Ra):(Ra=qb(Ra,Kb,nb,null),Ra.flags|=2);Ra.return=P;da.return=P;da.sibling=Ra;P.child=da;return Ra}function ae(H,P){H.lanes|=P;var da=H.alternate;null!==da&&(da.lanes|=P);Lc(H.return,P)}function gh(H,P,da,Ra,nb,Kb){var ec=H.memoizedState;null===ec?H.memoizedState={isBackwards:P,rendering:null,renderingStartTime:0,last:Ra,tail:da,tailMode:nb,
lastEffect:Kb}:(ec.isBackwards=P,ec.rendering=null,ec.renderingStartTime=0,ec.last=Ra,ec.tail=da,ec.tailMode=nb,ec.lastEffect=Kb)}function Vh(H,P,da){var Ra=P.pendingProps,nb=Ra.revealOrder,Kb=Ra.tail;Hb(H,P,Ra.children,da);Ra=Ah.current;if(0!==(Ra&2))Ra=Ra&1|2,P.flags|=64;else{if(null!==H&&0!==(H.flags&64))a:for(H=P.child;null!==H;){if(13===H.tag)null!==H.memoizedState&&ae(H,da);else if(19===H.tag)ae(H,da);else if(null!==H.child){H.child.return=H;H=H.child;continue}if(H===P)break a;for(;null===H.sibling;){if(null===
H.return||H.return===P)break a;H=H.return}H.sibling.return=H.return;H=H.sibling}Ra&=1}se(Ah,Ra);if(0===(P.mode&2))P.memoizedState=null;else switch(nb){case "forwards":da=P.child;for(nb=null;null!==da;)H=da.alternate,null!==H&&null===Cd(H)&&(nb=da),da=da.sibling;da=nb;null===da?(nb=P.child,P.child=null):(nb=da.sibling,da.sibling=null);gh(P,!1,nb,da,Kb,P.lastEffect);break;case "backwards":da=null;nb=P.child;for(P.child=null;null!==nb;){H=nb.alternate;if(null!==H&&null===Cd(H)){P.child=nb;break}H=nb.sibling;
nb.sibling=da;da=nb;nb=H}gh(P,!0,da,null,Kb,P.lastEffect);break;case "together":gh(P,!1,null,null,void 0,P.lastEffect);break;default:P.memoizedState=null}return P.child}function lh(H,P,da){null!==H&&(P.dependencies=H.dependencies);wj|=P.lanes;if(0!==(da&P.childLanes)){if(null!==H&&P.child!==H.child)throw Error(v(153));if(null!==P.child){H=P.child;da=Aa(H,H.pendingProps);P.child=da;for(da.return=P;null!==H.sibling;)H=H.sibling,da=da.sibling=Aa(H,H.pendingProps),da.return=P;da.sibling=null}return P.child}return null}
function tg(H,P){if(!yi)switch(H.tailMode){case "hidden":P=H.tail;for(var da=null;null!==P;)null!==P.alternate&&(da=P),P=P.sibling;null===da?H.tail=null:da.sibling=null;break;case "collapsed":da=H.tail;for(var Ra=null;null!==da;)null!==da.alternate&&(Ra=da),da=da.sibling;null===Ra?P||null===H.tail?H.tail=null:H.tail.sibling=null:Ra.sibling=null}}function Mh(H,P,da){var Ra=P.pendingProps;switch(P.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return qf(P.type)&&
ua(),null;case 3:od();Qd(uf);Qd(oh);ye();Ra=P.stateNode;Ra.pendingContext&&(Ra.context=Ra.pendingContext,Ra.pendingContext=null);if(null===H||null===H.child)te(P)?P.flags|=4:Ra.hydrate||(P.flags|=256);il(P);return null;case 5:Fe(P);var nb=zc(dk.current);da=P.type;if(null!==H&&null!=P.stateNode)yl(H,P,da,Ra,nb),H.ref!==P.ref&&(P.flags|=128);else{if(!Ra){if(null===P.stateNode)throw Error(v(166));return null}H=zc(Ri.current);if(te(P)){Ra=P.stateNode;da=P.type;var Kb=P.memoizedProps;Ra[gj]=P;Ra[qk]=Kb;
switch(da){case "dialog":ze("cancel",Ra);ze("close",Ra);break;case "iframe":case "object":case "embed":ze("load",Ra);break;case "video":case "audio":for(H=0;H<Eh.length;H++)ze(Eh[H],Ra);break;case "source":ze("error",Ra);break;case "img":case "image":case "link":ze("error",Ra);ze("load",Ra);break;case "details":ze("toggle",Ra);break;case "input":G(Ra,Kb);ze("invalid",Ra);break;case "select":Ra._wrapperState={wasMultiple:!!Kb.multiple};ze("invalid",Ra);break;case "textarea":J(Ra,Kb),ze("invalid",Ra)}za(da,
Kb);H=null;for(var ec in Kb)Kb.hasOwnProperty(ec)&&(nb=Kb[ec],"children"===ec?"string"===typeof nb?Ra.textContent!==nb&&(H=["children",nb]):"number"===typeof nb&&Ra.textContent!==""+nb&&(H=["children",""+nb]):Dg.hasOwnProperty(ec)&&null!=nb&&"onScroll"===ec&&ze("scroll",Ra));switch(da){case "input":E(Ra);V(Ra,Kb,!0);break;case "textarea":E(Ra);C(Ra);break;case "select":case "option":break;default:"function"===typeof Kb.onClick&&(Ra.onclick=Bd)}Ra=H;P.updateQueue=Ra;null!==Ra&&(P.flags|=4)}else{ec=
9===nb.nodeType?nb:nb.ownerDocument;H===Va.html&&(H=N(da));H===Va.html?"script"===da?(H=ec.createElement("div"),H.innerHTML="\x3cscript\x3e\x3c/script\x3e",H=H.removeChild(H.firstChild)):"string"===typeof Ra.is?H=ec.createElement(da,{is:Ra.is}):(H=ec.createElement(da),"select"===da&&(ec=H,Ra.multiple?ec.multiple=!0:Ra.size&&(ec.size=Ra.size))):H=ec.createElementNS(H,da);H[gj]=P;H[qk]=Ra;zj(H,P,!1,!1);P.stateNode=H;ec=Wa(da,Ra);switch(da){case "dialog":ze("cancel",H);ze("close",H);nb=Ra;break;case "iframe":case "object":case "embed":ze("load",
H);nb=Ra;break;case "video":case "audio":for(nb=0;nb<Eh.length;nb++)ze(Eh[nb],H);nb=Ra;break;case "source":ze("error",H);nb=Ra;break;case "img":case "image":case "link":ze("error",H);ze("load",H);nb=Ra;break;case "details":ze("toggle",H);nb=Ra;break;case "input":G(H,Ra);nb=D(H,Ra);ze("invalid",H);break;case "option":nb=ea(H,Ra);break;case "select":H._wrapperState={wasMultiple:!!Ra.multiple};nb=cg({},Ra,{value:void 0});ze("invalid",H);break;case "textarea":J(H,Ra);nb=R(H,Ra);ze("invalid",H);break;
default:nb=Ra}za(da,nb);var Ac=nb;for(Kb in Ac)if(Ac.hasOwnProperty(Kb)){var hd=Ac[Kb];"style"===Kb?ia(H,hd):"dangerouslySetInnerHTML"===Kb?(hd=hd?hd.__html:void 0,null!=hd&&bc(H,hd)):"children"===Kb?"string"===typeof hd?("textarea"!==da||""!==hd)&&ja(H,hd):"number"===typeof hd&&ja(H,""+hd):"suppressContentEditableWarning"!==Kb&&"suppressHydrationWarning"!==Kb&&"autoFocus"!==Kb&&(Dg.hasOwnProperty(Kb)?null!=hd&&"onScroll"===Kb&&ze("scroll",H):null!=hd&&g(H,Kb,hd,ec))}switch(da){case "input":E(H);
V(H,Ra,!1);break;case "textarea":E(H);C(H);break;case "option":null!=Ra.value&&H.setAttribute("value",""+t(Ra.value));break;case "select":H.multiple=!!Ra.multiple;Kb=Ra.value;null!=Kb?T(H,!!Ra.multiple,Kb,!1):null!=Ra.defaultValue&&T(H,!!Ra.multiple,Ra.defaultValue,!0);break;default:"function"===typeof nb.onClick&&(H.onclick=Bd)}pe(da,Ra)&&(P.flags|=4)}null!==P.ref&&(P.flags|=128)}return null;case 6:if(H&&null!=P.stateNode)Aj(H,P,H.memoizedProps,Ra);else{if("string"!==typeof Ra&&null===P.stateNode)throw Error(v(166));
da=zc(dk.current);zc(Ri.current);te(P)?(Ra=P.stateNode,da=P.memoizedProps,Ra[gj]=P,Ra.nodeValue!==da&&(P.flags|=4)):(Ra=(9===da.nodeType?da:da.ownerDocument).createTextNode(Ra),Ra[gj]=P,P.stateNode=Ra)}return null;case 13:Qd(Ah);Ra=P.memoizedState;if(0!==(P.flags&64))return P.lanes=da,P;Ra=null!==Ra;da=!1;null===H?void 0!==P.memoizedProps.fallback&&te(P):da=null!==H.memoizedState;if(Ra&&!da&&0!==(P.mode&2))if(null===H&&!0!==P.memoizedProps.unstable_avoidThisFallback||0!==(Ah.current&1))0===Sh&&(Sh=
3);else{if(0===Sh||3===Sh)Sh=4;null===fi||0===(wj&134217727)&&0===(nj&134217727)||Yf(fi,Nh)}if(Ra||da)P.flags|=4;return null;case 4:return od(),il(P),null===H&&Bf(P.stateNode.containerInfo),null;case 10:return ad(P),null;case 17:return qf(P.type)&&ua(),null;case 19:Qd(Ah);Ra=P.memoizedState;if(null===Ra)return null;Kb=0!==(P.flags&64);ec=Ra.rendering;if(null===ec)if(Kb)tg(Ra,!1);else{if(0!==Sh||null!==H&&0!==(H.flags&64))for(H=P.child;null!==H;){ec=Cd(H);if(null!==ec){P.flags|=64;tg(Ra,!1);Kb=ec.updateQueue;
null!==Kb&&(P.updateQueue=Kb,P.flags|=4);null===Ra.lastEffect&&(P.firstEffect=null);P.lastEffect=Ra.lastEffect;Ra=da;for(da=P.child;null!==da;)Kb=da,H=Ra,Kb.flags&=2,Kb.nextEffect=null,Kb.firstEffect=null,Kb.lastEffect=null,ec=Kb.alternate,null===ec?(Kb.childLanes=0,Kb.lanes=H,Kb.child=null,Kb.memoizedProps=null,Kb.memoizedState=null,Kb.updateQueue=null,Kb.dependencies=null,Kb.stateNode=null):(Kb.childLanes=ec.childLanes,Kb.lanes=ec.lanes,Kb.child=ec.child,Kb.memoizedProps=ec.memoizedProps,Kb.memoizedState=
ec.memoizedState,Kb.updateQueue=ec.updateQueue,Kb.type=ec.type,H=ec.dependencies,Kb.dependencies=null===H?null:{lanes:H.lanes,firstContext:H.firstContext}),da=da.sibling;se(Ah,Ah.current&1|2);return P.child}H=H.sibling}null!==Ra.tail&&ci()>wk&&(P.flags|=64,Kb=!0,tg(Ra,!1),P.lanes=33554432)}else{if(!Kb)if(H=Cd(ec),null!==H){if(P.flags|=64,Kb=!0,da=H.updateQueue,null!==da&&(P.updateQueue=da,P.flags|=4),tg(Ra,!0),null===Ra.tail&&"hidden"===Ra.tailMode&&!ec.alternate&&!yi)return P=P.lastEffect=Ra.lastEffect,
null!==P&&(P.nextEffect=null),null}else 2*ci()-Ra.renderingStartTime>wk&&1073741824!==da&&(P.flags|=64,Kb=!0,tg(Ra,!1),P.lanes=33554432);Ra.isBackwards?(ec.sibling=P.child,P.child=ec):(da=Ra.last,null!==da?da.sibling=ec:P.child=ec,Ra.last=ec)}return null!==Ra.tail?(da=Ra.tail,Ra.rendering=da,Ra.tail=da.sibling,Ra.lastEffect=P.lastEffect,Ra.renderingStartTime=ci(),da.sibling=null,P=Ah.current,se(Ah,Kb?P&1|2:P&1),da):null;case 23:case 24:return pg(),null!==H&&null!==H.memoizedState!==(null!==P.memoizedState)&&
"unstable-defer-without-hiding"!==Ra.mode&&(P.flags|=4),null}throw Error(v(156,P.tag));}function Th(H){switch(H.tag){case 1:qf(H.type)&&ua();var P=H.flags;return P&4096?(H.flags=P&-4097|64,H):null;case 3:od();Qd(uf);Qd(oh);ye();P=H.flags;if(0!==(P&64))throw Error(v(285));H.flags=P&-4097|64;return H;case 5:return Fe(H),null;case 13:return Qd(Ah),P=H.flags,P&4096?(H.flags=P&-4097|64,H):null;case 19:return Qd(Ah),null;case 4:return od(),null;case 10:return ad(H),null;case 23:case 24:return pg(),null;
default:return null}}function Te(H,P){try{var da="",Ra=P;do da+=a(Ra),Ra=Ra.return;while(Ra)}catch(nb){da="\nError generating stack: "+nb.message+"\n"+nb.stack}return{value:H,source:P,stack:da}}function gf(H,P){try{console.error(P.value)}catch(da){setTimeout(function(){throw da;})}}function K(H,P,da){da=Qc(-1,da);da.tag=3;da.payload={element:null};var Ra=P.value;da.callback=function(){xk||(xk=!0,yk=Ra);gf(H,P)};return da}function Z(H,P,da){da=Qc(-1,da);da.tag=3;var Ra=H.type.getDerivedStateFromError;
if("function"===typeof Ra){var nb=P.value;da.payload=function(){gf(H,P);return Ra(nb)}}var Kb=H.stateNode;null!==Kb&&"function"===typeof Kb.componentDidCatch&&(da.callback=function(){"function"!==typeof Ra&&(null===Gi?Gi=new Set([this]):Gi.add(this),gf(H,P));var ec=P.stack;this.componentDidCatch(P.value,{componentStack:null!==ec?ec:""})});return da}function wa(H){var P=H.ref;if(null!==P)if("function"===typeof P)try{P(null)}catch(da){Ka(H,da)}else P.current=null}function Ta(H,P){switch(P.tag){case 0:case 11:case 15:case 22:return;
case 1:if(P.flags&256&&null!==H){var da=H.memoizedProps,Ra=H.memoizedState;H=P.stateNode;P=H.getSnapshotBeforeUpdate(P.elementType===P.type?da:Zc(P.type,da),Ra);H.__reactInternalSnapshotBeforeUpdate=P}return;case 3:P.flags&256&&Vf(P.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(v(163));}function pb(H,P,da){switch(da.tag){case 0:case 11:case 15:case 22:P=da.updateQueue;P=null!==P?P.lastEffect:null;if(null!==P){H=P=P.next;do{if(3===(H.tag&3)){var Ra=H.create;H.destroy=
Ra()}H=H.next}while(H!==P)}P=da.updateQueue;P=null!==P?P.lastEffect:null;if(null!==P){H=P=P.next;do{var nb=H;Ra=nb.next;nb=nb.tag;0!==(nb&4)&&0!==(nb&1)&&(Ti(da,H),Yg(da,H));H=Ra}while(H!==P)}return;case 1:H=da.stateNode;da.flags&4&&(null===P?H.componentDidMount():(Ra=da.elementType===da.type?P.memoizedProps:Zc(da.type,P.memoizedProps),H.componentDidUpdate(Ra,P.memoizedState,H.__reactInternalSnapshotBeforeUpdate)));P=da.updateQueue;null!==P&&Rb(da,P,H);return;case 3:P=da.updateQueue;if(null!==P){H=
null;if(null!==da.child)switch(da.child.tag){case 5:H=da.child.stateNode;break;case 1:H=da.child.stateNode}Rb(da,P,H)}return;case 5:H=da.stateNode;null===P&&da.flags&4&&pe(da.type,da.memoizedProps)&&H.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===da.memoizedState&&(da=da.alternate,null!==da&&(da=da.memoizedState,null!==da&&(da=da.dehydrated,null!==da&&Bb(da))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(v(163));}function Db(H,P){for(var da=
H;;){if(5===da.tag){var Ra=da.stateNode;if(P)Ra=Ra.style,"function"===typeof Ra.setProperty?Ra.setProperty("display","none","important"):Ra.display="none";else{Ra=da.stateNode;var nb=da.memoizedProps.style;nb=void 0!==nb&&null!==nb&&nb.hasOwnProperty("display")?nb.display:null;Ra.style.display=ba("display",nb)}}else if(6===da.tag)da.stateNode.nodeValue=P?"":da.memoizedProps;else if((23!==da.tag&&24!==da.tag||null===da.memoizedState||da===H)&&null!==da.child){da.child.return=da;da=da.child;continue}if(da===
H)break;for(;null===da.sibling;){if(null===da.return||da.return===H)return;da=da.return}da.sibling.return=da.return;da=da.sibling}}function Xb(H,P){if(Bh&&"function"===typeof Bh.onCommitFiberUnmount)try{Bh.onCommitFiberUnmount(ne,P)}catch(Kb){}switch(P.tag){case 0:case 11:case 14:case 15:case 22:H=P.updateQueue;if(null!==H&&(H=H.lastEffect,null!==H)){var da=H=H.next;do{var Ra=da,nb=Ra.destroy;Ra=Ra.tag;if(void 0!==nb)if(0!==(Ra&4))Ti(P,da);else{Ra=P;try{nb()}catch(Kb){Ka(Ra,Kb)}}da=da.next}while(da!==
H)}break;case 1:wa(P);H=P.stateNode;if("function"===typeof H.componentWillUnmount)try{H.props=P.memoizedProps,H.state=P.memoizedState,H.componentWillUnmount()}catch(Kb){Ka(P,Kb)}break;case 5:wa(P);break;case 4:Ve(H,P)}}function Hc(H){H.alternate=null;H.child=null;H.dependencies=null;H.firstEffect=null;H.lastEffect=null;H.memoizedProps=null;H.memoizedState=null;H.pendingProps=null;H.return=null;H.updateQueue=null}function Vc(H){return 5===H.tag||3===H.tag||4===H.tag}function Pc(H){a:{for(var P=H.return;null!==
P;){if(Vc(P))break a;P=P.return}throw Error(v(160));}var da=P;P=da.stateNode;switch(da.tag){case 5:var Ra=!1;break;case 3:P=P.containerInfo;Ra=!0;break;case 4:P=P.containerInfo;Ra=!0;break;default:throw Error(v(161));}da.flags&16&&(ja(P,""),da.flags&=-17);da=H;a:b:for(;;){for(;null===da.sibling;){if(null===da.return||Vc(da.return)){da=null;break a}da=da.return}da.sibling.return=da.return;for(da=da.sibling;5!==da.tag&&6!==da.tag&&18!==da.tag;){if(da.flags&2)continue b;if(null===da.child||4===da.tag)continue b;
else da.child.return=da,da=da.child}if(!(da.flags&2)){da=da.stateNode;break a}}Ra?Dd(H,da,P):Rd(H,da,P)}function Dd(H,P,da){var Ra=H.tag,nb=5===Ra||6===Ra;if(nb)H=nb?H.stateNode:H.stateNode.instance,P?8===da.nodeType?da.parentNode.insertBefore(H,P):da.insertBefore(H,P):(8===da.nodeType?(P=da.parentNode,P.insertBefore(H,da)):(P=da,P.appendChild(H)),da=da._reactRootContainer,null!==da&&void 0!==da||null!==P.onclick||(P.onclick=Bd));else if(4!==Ra&&(H=H.child,null!==H))for(Dd(H,P,da),H=H.sibling;null!==
H;)Dd(H,P,da),H=H.sibling}function Rd(H,P,da){var Ra=H.tag,nb=5===Ra||6===Ra;if(nb)H=nb?H.stateNode:H.stateNode.instance,P?da.insertBefore(H,P):da.appendChild(H);else if(4!==Ra&&(H=H.child,null!==H))for(Rd(H,P,da),H=H.sibling;null!==H;)Rd(H,P,da),H=H.sibling}function Ve(H,P){for(var da=P,Ra=!1,nb,Kb;;){if(!Ra){Ra=da.return;a:for(;;){if(null===Ra)throw Error(v(160));nb=Ra.stateNode;switch(Ra.tag){case 5:Kb=!1;break a;case 3:nb=nb.containerInfo;Kb=!0;break a;case 4:nb=nb.containerInfo;Kb=!0;break a}Ra=
Ra.return}Ra=!0}if(5===da.tag||6===da.tag){var ec=H,Ac=da,hd=Ac;a:for(;;)if(Xb(ec,hd),null!==hd.child&&4!==hd.tag)hd.child.return=hd,hd=hd.child;else{if(hd===Ac)break a;for(;null===hd.sibling;){if(null===hd.return||hd.return===Ac)break a;hd=hd.return}hd.sibling.return=hd.return;hd=hd.sibling}Kb?(ec=nb,Ac=da.stateNode,8===ec.nodeType?ec.parentNode.removeChild(Ac):ec.removeChild(Ac)):nb.removeChild(da.stateNode)}else if(4===da.tag){if(null!==da.child){nb=da.stateNode.containerInfo;Kb=!0;da.child.return=
da;da=da.child;continue}}else if(Xb(H,da),null!==da.child){da.child.return=da;da=da.child;continue}if(da===P)break;for(;null===da.sibling;){if(null===da.return||da.return===P)return;da=da.return;4===da.tag&&(Ra=!1)}da.sibling.return=da.return;da=da.sibling}}function He(H,P){switch(P.tag){case 0:case 11:case 14:case 15:case 22:var da=P.updateQueue;da=null!==da?da.lastEffect:null;if(null!==da){var Ra=da=da.next;do 3===(Ra.tag&3)&&(H=Ra.destroy,Ra.destroy=void 0,void 0!==H&&H()),Ra=Ra.next;while(Ra!==
da)}return;case 1:return;case 5:da=P.stateNode;if(null!=da){Ra=P.memoizedProps;var nb=null!==H?H.memoizedProps:Ra;H=P.type;var Kb=P.updateQueue;P.updateQueue=null;if(null!==Kb){da[qk]=Ra;"input"===H&&"radio"===Ra.type&&null!=Ra.name&&L(da,Ra);Wa(H,nb);P=Wa(H,Ra);for(nb=0;nb<Kb.length;nb+=2){var ec=Kb[nb],Ac=Kb[nb+1];"style"===ec?ia(da,Ac):"dangerouslySetInnerHTML"===ec?bc(da,Ac):"children"===ec?ja(da,Ac):g(da,ec,Ac,P)}switch(H){case "input":O(da,Ra);break;case "textarea":r(da,Ra);break;case "select":H=
da._wrapperState.wasMultiple,da._wrapperState.wasMultiple=!!Ra.multiple,Kb=Ra.value,null!=Kb?T(da,!!Ra.multiple,Kb,!1):H!==!!Ra.multiple&&(null!=Ra.defaultValue?T(da,!!Ra.multiple,Ra.defaultValue,!0):T(da,!!Ra.multiple,Ra.multiple?[]:"",!1))}}}return;case 6:if(null===P.stateNode)throw Error(v(162));P.stateNode.nodeValue=P.memoizedProps;return;case 3:da=P.stateNode;da.hydrate&&(da.hydrate=!1,Bb(da.containerInfo));return;case 12:return;case 13:null!==P.memoizedState&&(Sk=ci(),Db(P.child,!0));Jf(P);
return;case 19:Jf(P);return;case 17:return;case 23:case 24:Db(P,null!==P.memoizedState);return}throw Error(v(163));}function Jf(H){var P=H.updateQueue;if(null!==P){H.updateQueue=null;var da=H.stateNode;null===da&&(da=H.stateNode=new zl);P.forEach(function(Ra){var nb=Cb.bind(null,H,Ra);da.has(Ra)||(da.add(Ra),Ra.then(nb,nb))})}}function Pd(H,P){return null!==H&&(H=H.memoizedState,null===H||null!==H.dehydrated)?(P=P.memoizedState,null!==P&&null===P.dehydrated):!1}function ge(){wk=ci()+500}function Je(){return 0!==
(Kf&48)?ci():-1!==Bj?Bj:Bj=ci()}function Pe(H){H=H.mode;if(0===(H&2))return 1;if(0===(H&4))return 99===Qa()?1:2;0===aj&&(aj=Pj);if(0!==Tk.transition){0!==zk&&(zk=null!==Uk?Uk.pendingLanes:0);H=aj;var P=4186112&~zk;P&=-P;0===P&&(H=4186112&~H,P=H&-H,0===P&&(P=8192));return P}H=Qa();0!==(Kf&4)&&98===H?H=Hd(12,aj):(H=vc(H),H=Hd(H,aj));return H}function Hf(H,P,da){if(50<Qj)throw Qj=0,Ak=null,Error(v(185));H=hg(H,P);if(null===H)return null;Ha(H,P,da);H===fi&&(nj|=P,4===Sh&&Yf(H,Nh));var Ra=Qa();1===P?0!==
(Kf&8)&&0===(Kf&48)?ff(H):(Ue(H,da),0===Kf&&(ge(),ac())):(0===(Kf&4)||98!==Ra&&99!==Ra||(null===Ui?Ui=new Set([H]):Ui.add(H)),Ue(H,da));Uk=H}function hg(H,P){H.lanes|=P;var da=H.alternate;null!==da&&(da.lanes|=P);da=H;for(H=H.return;null!==H;)H.childLanes|=P,da=H.alternate,null!==da&&(da.childLanes|=P),da=H,H=H.return;return 3===da.tag?da.stateNode:null}function Ue(H,P){for(var da=H.callbackNode,Ra=H.suspendedLanes,nb=H.pingedLanes,Kb=H.expirationTimes,ec=H.pendingLanes;0<ec;){var Ac=31-Qh(ec),hd=
1<<Ac,Ld=Kb[Ac];if(-1===Ld){if(0===(hd&Ra)||0!==(hd&nb)){Ld=P;hc(hd);var $e=Ag;Kb[Ac]=10<=$e?Ld+250:6<=$e?Ld+5E3:-1}}else Ld<=P&&(H.expiredLanes|=hd);ec&=~hd}Ra=Dc(H,H===fi?Nh:0);P=Ag;if(0===Ra)null!==da&&(da!==Rj&&ck(da),H.callbackNode=null,H.callbackPriority=0);else{if(null!==da){if(H.callbackPriority===P)return;da!==Rj&&ck(da)}15===P?(da=ff.bind(null,H),null===$i?($i=[da],tk=sk(ei,yc)):$i.push(da),da=Rj):14===P?da=Fb(99,ff.bind(null,H)):(da=qc(P),da=Fb(da,nf.bind(null,H)));H.callbackPriority=P;
H.callbackNode=da}}function nf(H){Bj=-1;zk=aj=0;if(0!==(Kf&48))throw Error(v(327));var P=H.callbackNode;if(ph()&&H.callbackNode!==P)return null;var da=Dc(H,H===fi?Nh:0);if(0===da)return null;var Ra=da,nb=Kf;Kf|=16;var Kb=wh();if(fi!==H||Nh!==Ra)ge(),lf(H,Ra);do try{for(;null!==Ch&&!Vk();)Oh(Ch);break}catch(Ac){Nf(H,Ac)}while(1);wi=jj=ij=null;fk.current=Kb;Kf=nb;null!==Ch?Ra=0:(fi=null,Nh=0,Ra=Sh);if(0!==(Pj&nj))lf(H,0);else if(0!==Ra){2===Ra&&(Kf|=64,H.hydrate&&(H.hydrate=!1,Vf(H.containerInfo)),
da=Yc(H),0!==da&&(Ra=qg(H,da)));if(1===Ra)throw P=Sj,lf(H,0),Yf(H,da),Ue(H,ci()),P;H.finishedWork=H.current.alternate;H.finishedLanes=da;switch(Ra){case 0:case 1:throw Error(v(345));case 2:qh(H);break;case 3:Yf(H,da);if((da&62914560)===da&&(Ra=Sk+500-ci(),10<Ra)){if(0!==Dc(H,0))break;nb=H.suspendedLanes;if((nb&da)!==da){Je();H.pingedLanes|=H.suspendedLanes&nb;break}H.timeoutHandle=jl(qh.bind(null,H),Ra);break}qh(H);break;case 4:Yf(H,da);if((da&4186112)===da)break;Ra=H.eventTimes;for(nb=-1;0<da;){var ec=
31-Qh(da);Kb=1<<ec;ec=Ra[ec];ec>nb&&(nb=ec);da&=~Kb}da=nb;da=ci()-da;da=(120>da?120:480>da?480:1080>da?1080:1920>da?1920:3E3>da?3E3:4320>da?4320:1960*hi(da/1960))-da;if(10<da){H.timeoutHandle=jl(qh.bind(null,H),da);break}qh(H);break;case 5:qh(H);break;default:throw Error(v(329));}}Ue(H,ci());return H.callbackNode===P?nf.bind(null,H):null}function Yf(H,P){P&=~Bk;P&=~nj;H.suspendedLanes|=P;H.pingedLanes&=~P;for(H=H.expirationTimes;0<P;){var da=31-Qh(P),Ra=1<<da;H[da]=-1;P&=~Ra}}function ff(H){if(0!==
(Kf&48))throw Error(v(327));ph();if(H===fi&&0!==(H.expiredLanes&Nh)){var P=Nh,da=qg(H,P);0!==(Pj&nj)&&(P=Dc(H,P),da=qg(H,P))}else P=Dc(H,0),da=qg(H,P);0!==H.tag&&2===da&&(Kf|=64,H.hydrate&&(H.hydrate=!1,Vf(H.containerInfo)),P=Yc(H),0!==P&&(da=qg(H,P)));if(1===da)throw da=Sj,lf(H,0),Yf(H,P),Ue(H,ci()),da;H.finishedWork=H.current.alternate;H.finishedLanes=P;qh(H);Ue(H,ci());return null}function yg(){if(null!==Ui){var H=Ui;Ui=null;H.forEach(function(P){P.expiredLanes|=24&P.pendingLanes;Ue(P,ci())})}ac()}
function Ng(H,P){var da=Kf;Kf|=1;try{return H(P)}finally{Kf=da,0===Kf&&(ge(),ac())}}function Sg(H,P){var da=Kf;Kf&=-2;Kf|=8;try{return H(P)}finally{Kf=da,0===Kf&&(ge(),ac())}}function Qf(H,P){se(Tj,Cj);Cj|=P;Pj|=P}function pg(){Cj=Tj.current;Qd(Tj)}function lf(H,P){H.finishedWork=null;H.finishedLanes=0;var da=H.timeoutHandle;-1!==da&&(H.timeoutHandle=-1,Wk(da));if(null!==Ch)for(da=Ch.return;null!==da;){var Ra=da;switch(Ra.tag){case 1:Ra=Ra.type.childContextTypes;null!==Ra&&void 0!==Ra&&ua();break;
case 3:od();Qd(uf);Qd(oh);ye();break;case 5:Fe(Ra);break;case 4:od();break;case 13:Qd(Ah);break;case 19:Qd(Ah);break;case 10:ad(Ra);break;case 23:case 24:pg()}da=da.return}fi=H;Ch=Aa(H.current,null);Nh=Cj=Pj=P;Sh=0;Sj=null;Bk=nj=wj=0}function Nf(H,P){do{var da=Ch;try{wi=jj=ij=null;xj.current=Oj;if(vk){for(var Ra=jh.memoizedState;null!==Ra;){var nb=Ra.queue;null!==nb&&(nb.pending=null);Ra=Ra.next}vk=!1}mj=0;Rh=bi=jh=null;Nj=!1;Uj.current=null;if(null===da||null===da.return){Sh=1;Sj=P;Ch=null;break}a:{var Kb=
H,ec=da.return,Ac=da,hd=P;P=Nh;Ac.flags|=2048;Ac.firstEffect=Ac.lastEffect=null;if(null!==hd&&"object"===typeof hd&&"function"===typeof hd.then){var Ld=hd;if(0===(Ac.mode&2)){var $e=Ac.alternate;$e?(Ac.updateQueue=$e.updateQueue,Ac.memoizedState=$e.memoizedState,Ac.lanes=$e.lanes):(Ac.updateQueue=null,Ac.memoizedState=null)}var Uf=0!==(Ah.current&1),ke=ec;do{var pf;if(pf=13===ke.tag){var Sf=ke.memoizedState;if(null!==Sf)pf=null!==Sf.dehydrated?!0:!1;else{var If=ke.memoizedProps;pf=void 0===If.fallback?
!1:!0!==If.unstable_avoidThisFallback?!0:Uf?!1:!0}}if(pf){var ud=ke.updateQueue;if(null===ud){var kd=new Set;kd.add(Ld);ke.updateQueue=kd}else ud.add(Ld);if(0===(ke.mode&2)){ke.flags|=64;Ac.flags|=16384;Ac.flags&=-2981;if(1===Ac.tag)if(null===Ac.alternate)Ac.tag=17;else{var sd=Qc(-1,1);sd.tag=2;jb(Ac,sd)}Ac.lanes|=1;break a}hd=void 0;Ac=P;var Zd=Kb.pingCache;null===Zd?(Zd=Kb.pingCache=new Al,hd=new Set,Zd.set(Ld,hd)):(hd=Zd.get(Ld),void 0===hd&&(hd=new Set,Zd.set(Ld,hd)));if(!hd.has(Ac)){hd.add(Ac);
var $d=kb.bind(null,Kb,Ld,Ac);Ld.then($d,$d)}ke.flags|=4096;ke.lanes=P;break a}ke=ke.return}while(null!==ke);hd=Error((e(Ac.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Sh&&(Sh=2);hd=Te(hd,Ac);ke=ec;do{switch(ke.tag){case 3:Kb=hd;ke.flags|=4096;P&=-P;ke.lanes|=P;var Xf=K(ke,Kb,P);Ib(ke,Xf);break a;case 1:Kb=hd;var Be=ke.type,
Xe=ke.stateNode;if(0===(ke.flags&64)&&("function"===typeof Be.getDerivedStateFromError||null!==Xe&&"function"===typeof Xe.componentDidCatch&&(null===Gi||!Gi.has(Xe)))){ke.flags|=4096;P&=-P;ke.lanes|=P;var Df=Z(ke,Kb,P);Ib(ke,Df);break a}}ke=ke.return}while(null!==ke)}Jh(da)}catch(Gf){P=Gf;Ch===da&&null!==da&&(Ch=da.return);continue}break}while(1)}function wh(){var H=fk.current;fk.current=Oj;return null===H?Oj:H}function qg(H,P){var da=Kf;Kf|=16;var Ra=wh();fi===H&&Nh===P||lf(H,P);do try{for(;null!==
Ch;)Oh(Ch);break}catch(nb){Nf(H,nb)}while(1);wi=jj=ij=null;Kf=da;fk.current=Ra;if(null!==Ch)throw Error(v(261));fi=null;Nh=0;return Sh}function Oh(H){var P=Bl(H.alternate,H,Cj);H.memoizedProps=H.pendingProps;null===P?Jh(H):Ch=P;Uj.current=null}function Jh(H){var P=H;do{var da=P.alternate;H=P.return;if(0===(P.flags&2048)){da=Mh(da,P,Cj);if(null!==da){Ch=da;return}da=P;if(24!==da.tag&&23!==da.tag||null===da.memoizedState||0!==(Cj&1073741824)||0===(da.mode&4)){for(var Ra=0,nb=da.child;null!==nb;)Ra|=
nb.lanes|nb.childLanes,nb=nb.sibling;da.childLanes=Ra}null!==H&&0===(H.flags&2048)&&(null===H.firstEffect&&(H.firstEffect=P.firstEffect),null!==P.lastEffect&&(null!==H.lastEffect&&(H.lastEffect.nextEffect=P.firstEffect),H.lastEffect=P.lastEffect),1<P.flags&&(null!==H.lastEffect?H.lastEffect.nextEffect=P:H.firstEffect=P,H.lastEffect=P))}else{da=Th(P);if(null!==da){da.flags&=2047;Ch=da;return}null!==H&&(H.firstEffect=H.lastEffect=null,H.flags|=2048)}P=P.sibling;if(null!==P){Ch=P;return}Ch=P=H}while(null!==
P);0===Sh&&(Sh=5)}function qh(H){var P=Qa();xb(99,ig.bind(null,H,P));return null}function ig(H,P){do ph();while(null!==Vi);if(0!==(Kf&48))throw Error(v(327));var da=H.finishedWork;if(null===da)return null;H.finishedWork=null;H.finishedLanes=0;if(da===H.current)throw Error(v(177));H.callbackNode=null;var Ra=da.lanes|da.childLanes,nb=Ra,Kb=H.pendingLanes&~nb;H.pendingLanes=nb;H.suspendedLanes=0;H.pingedLanes=0;H.expiredLanes&=nb;H.mutableReadLanes&=nb;H.entangledLanes&=nb;nb=H.entanglements;for(var ec=
H.eventTimes,Ac=H.expirationTimes;0<Kb;){var hd=31-Qh(Kb),Ld=1<<hd;nb[hd]=0;ec[hd]=-1;Ac[hd]=-1;Kb&=~Ld}null!==Ui&&0===(Ra&24)&&Ui.has(H)&&Ui.delete(H);H===fi&&(Ch=fi=null,Nh=0);1<da.flags?null!==da.lastEffect?(da.lastEffect.nextEffect=da,Ra=da.firstEffect):Ra=da:Ra=da.firstEffect;if(null!==Ra){nb=Kf;Kf|=32;Uj.current=null;Hi=Mi;ec=Fd();if(Od(ec)){if("selectionStart"in ec)Ac={start:ec.selectionStart,end:ec.selectionEnd};else a:if(Ac=(Ac=ec.ownerDocument)&&Ac.defaultView||window,(Ld=Ac.getSelection&&
Ac.getSelection())&&0!==Ld.rangeCount){Ac=Ld.anchorNode;Kb=Ld.anchorOffset;hd=Ld.focusNode;Ld=Ld.focusOffset;try{Ac.nodeType,hd.nodeType}catch(Gf){Ac=null;break a}var $e=0,Uf=-1,ke=-1,pf=0,Sf=0,If=ec,ud=null;b:for(;;){for(var kd;;){If!==Ac||0!==Kb&&3!==If.nodeType||(Uf=$e+Kb);If!==hd||0!==Ld&&3!==If.nodeType||(ke=$e+Ld);3===If.nodeType&&($e+=If.nodeValue.length);if(null===(kd=If.firstChild))break;ud=If;If=kd}for(;;){if(If===ec)break b;ud===Ac&&++pf===Kb&&(Uf=$e);ud===hd&&++Sf===Ld&&(ke=$e);if(null!==
(kd=If.nextSibling))break;If=ud;ud=If.parentNode}If=kd}Ac=-1===Uf||-1===ke?null:{start:Uf,end:ke}}else Ac=null;Ac=Ac||{start:0,end:0}}else Ac=null;Dj={focusedElem:ec,selectionRange:Ac};Mi=!1;gk=null;hk=!1;bf=Ra;do try{zi()}catch(Gf){if(null===bf)throw Error(v(330));Ka(bf,Gf);bf=bf.nextEffect}while(null!==bf);gk=null;bf=Ra;do try{for(ec=H;null!==bf;){var sd=bf.flags;sd&16&&ja(bf.stateNode,"");if(sd&128){var Zd=bf.alternate;if(null!==Zd){var $d=Zd.ref;null!==$d&&("function"===typeof $d?$d(null):$d.current=
null)}}switch(sd&1038){case 2:Pc(bf);bf.flags&=-3;break;case 6:Pc(bf);bf.flags&=-3;He(bf.alternate,bf);break;case 1024:bf.flags&=-1025;break;case 1028:bf.flags&=-1025;He(bf.alternate,bf);break;case 4:He(bf.alternate,bf);break;case 8:Ac=bf;Ve(ec,Ac);var Xf=Ac.alternate;Hc(Ac);null!==Xf&&Hc(Xf)}bf=bf.nextEffect}}catch(Gf){if(null===bf)throw Error(v(330));Ka(bf,Gf);bf=bf.nextEffect}while(null!==bf);$d=Dj;Zd=Fd();sd=$d.focusedElem;ec=$d.selectionRange;if(Zd!==sd&&sd&&sd.ownerDocument&&nd(sd.ownerDocument.documentElement,
sd)){null!==ec&&Od(sd)&&(Zd=ec.start,$d=ec.end,void 0===$d&&($d=Zd),"selectionStart"in sd?(sd.selectionStart=Zd,sd.selectionEnd=Math.min($d,sd.value.length)):($d=(Zd=sd.ownerDocument||document)&&Zd.defaultView||window,$d.getSelection&&($d=$d.getSelection(),Ac=sd.textContent.length,Xf=Math.min(ec.start,Ac),ec=void 0===ec.end?Xf:Math.min(ec.end,Ac),!$d.extend&&Xf>ec&&(Ac=ec,ec=Xf,Xf=Ac),Ac=fd(sd,Xf),Kb=fd(sd,ec),Ac&&Kb&&(1!==$d.rangeCount||$d.anchorNode!==Ac.node||$d.anchorOffset!==Ac.offset||$d.focusNode!==
Kb.node||$d.focusOffset!==Kb.offset)&&(Zd=Zd.createRange(),Zd.setStart(Ac.node,Ac.offset),$d.removeAllRanges(),Xf>ec?($d.addRange(Zd),$d.extend(Kb.node,Kb.offset)):(Zd.setEnd(Kb.node,Kb.offset),$d.addRange(Zd))))));Zd=[];for($d=sd;$d=$d.parentNode;)1===$d.nodeType&&Zd.push({element:$d,left:$d.scrollLeft,top:$d.scrollTop});"function"===typeof sd.focus&&sd.focus();for(sd=0;sd<Zd.length;sd++)$d=Zd[sd],$d.element.scrollLeft=$d.left,$d.element.scrollTop=$d.top}Mi=!!Hi;Dj=Hi=null;H.current=da;bf=Ra;do try{for(sd=
H;null!==bf;){var Be=bf.flags;Be&36&&pb(sd,bf.alternate,bf);if(Be&128){Zd=void 0;var Xe=bf.ref;if(null!==Xe){var Df=bf.stateNode;switch(bf.tag){case 5:Zd=Df;break;default:Zd=Df}"function"===typeof Xe?Xe(Zd):Xe.current=Zd}}bf=bf.nextEffect}}catch(Gf){if(null===bf)throw Error(v(330));Ka(bf,Gf);bf=bf.nextEffect}while(null!==bf);bf=null;Cl();Kf=nb}else H.current=da;if(Ai)Ai=!1,Vi=H,Vj=P;else for(bf=Ra;null!==bf;)P=bf.nextEffect,bf.nextEffect=null,bf.flags&8&&(Be=bf,Be.sibling=null,Be.stateNode=null),
bf=P;Ra=H.pendingLanes;0===Ra&&(Gi=null);1===Ra?H===Ak?Qj++:(Qj=0,Ak=H):Qj=0;da=da.stateNode;if(Bh&&"function"===typeof Bh.onCommitFiberRoot)try{Bh.onCommitFiberRoot(ne,da,void 0,64===(da.current.flags&64))}catch(Gf){}Ue(H,ci());if(xk)throw xk=!1,H=yk,yk=null,H;if(0!==(Kf&8))return null;ac();return null}function zi(){for(;null!==bf;){var H=bf.alternate;hk||null===gk||(0!==(bf.flags&8)?Ya(bf,gk)&&(hk=!0):13===bf.tag&&Pd(H,bf)&&Ya(bf,gk)&&(hk=!0));var P=bf.flags;0!==(P&256)&&Ta(H,bf);0===(P&512)||Ai||
(Ai=!0,Fb(97,function(){ph();return null}));bf=bf.nextEffect}}function ph(){if(90!==Vj){var H=97<Vj?97:Vj;Vj=90;return xb(H,xh)}return!1}function Yg(H,P){Ck.push(P,H);Ai||(Ai=!0,Fb(97,function(){ph();return null}))}function Ti(H,P){Xk.push(P,H);Ai||(Ai=!0,Fb(97,function(){ph();return null}))}function xh(){if(null===Vi)return!1;var H=Vi;Vi=null;if(0!==(Kf&48))throw Error(v(331));var P=Kf;Kf|=32;var da=Xk;Xk=[];for(var Ra=0;Ra<da.length;Ra+=2){var nb=da[Ra],Kb=da[Ra+1],ec=nb.destroy;nb.destroy=void 0;
if("function"===typeof ec)try{ec()}catch(hd){if(null===Kb)throw Error(v(330));Ka(Kb,hd)}}da=Ck;Ck=[];for(Ra=0;Ra<da.length;Ra+=2){nb=da[Ra];Kb=da[Ra+1];try{var Ac=nb.create;nb.destroy=Ac()}catch(hd){if(null===Kb)throw Error(v(330));Ka(Kb,hd)}}for(Ac=H.current.firstEffect;null!==Ac;)H=Ac.nextEffect,Ac.nextEffect=null,Ac.flags&8&&(Ac.sibling=null,Ac.stateNode=null),Ac=H;Kf=P;ac();return!0}function Ph(H,P,da){P=Te(da,P);P=K(H,P,1);jb(H,P);P=Je();H=hg(H,1);null!==H&&(Ha(H,1,P),Ue(H,P))}function Ka(H,
P){if(3===H.tag)Ph(H,H,P);else for(var da=H.return;null!==da;){if(3===da.tag){Ph(da,H,P);break}else if(1===da.tag){var Ra=da.stateNode;if("function"===typeof da.type.getDerivedStateFromError||"function"===typeof Ra.componentDidCatch&&(null===Gi||!Gi.has(Ra))){H=Te(P,H);var nb=Z(da,H,1);jb(da,nb);nb=Je();da=hg(da,1);if(null!==da)Ha(da,1,nb),Ue(da,nb);else if("function"===typeof Ra.componentDidCatch&&(null===Gi||!Gi.has(Ra)))try{Ra.componentDidCatch(P,H)}catch(Kb){}break}}da=da.return}}function kb(H,
P,da){var Ra=H.pingCache;null!==Ra&&Ra.delete(P);P=Je();H.pingedLanes|=H.suspendedLanes&da;fi===H&&(Nh&da)===da&&(4===Sh||3===Sh&&(Nh&62914560)===Nh&&500>ci()-Sk?lf(H,0):Bk|=da);Ue(H,P)}function Cb(H,P){var da=H.stateNode;null!==da&&da.delete(P);P=0;0===P&&(P=H.mode,0===(P&2)?P=1:0===(P&4)?P=99===Qa()?1:2:(0===aj&&(aj=Pj),P=Fa(62914560&~aj),0===P&&(P=4194304)));da=Je();H=hg(H,P);null!==H&&(Ha(H,P,da),Ue(H,da))}function Pb(H,P,da,Ra){this.tag=H;this.key=da;this.sibling=this.child=this.return=this.stateNode=
this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=P;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Ra;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function uc(H,P,da,Ra){return new Pb(H,P,da,Ra)}function Fc(H){H=H.prototype;return!(!H||!H.isReactComponent)}function $c(H){if("function"===typeof H)return Fc(H)?1:0;if(void 0!==H&&null!==H){H=H.$$typeof;if(H===rh)return 11;
if(H===yh)return 14}return 2}function Aa(H,P){var da=H.alternate;null===da?(da=uc(H.tag,P,H.key,H.mode),da.elementType=H.elementType,da.type=H.type,da.stateNode=H.stateNode,da.alternate=H,H.alternate=da):(da.pendingProps=P,da.type=H.type,da.flags=0,da.nextEffect=null,da.firstEffect=null,da.lastEffect=null);da.childLanes=H.childLanes;da.lanes=H.lanes;da.child=H.child;da.memoizedProps=H.memoizedProps;da.memoizedState=H.memoizedState;da.updateQueue=H.updateQueue;P=H.dependencies;da.dependencies=null===
P?null:{lanes:P.lanes,firstContext:P.firstContext};da.sibling=H.sibling;da.index=H.index;da.ref=H.ref;return da}function Sa(H,P,da,Ra,nb,Kb){var ec=2;Ra=H;if("function"===typeof H)Fc(H)&&(ec=1);else if("string"===typeof H)ec=5;else a:switch(H){case Dh:return qb(da.children,nb,Kb,P);case ri:ec=8;nb|=16;break;case Gh:ec=8;nb|=1;break;case ii:return H=uc(12,da,P,nb|8),H.elementType=ii,H.type=ii,H.lanes=Kb,H;case mi:return H=uc(13,da,P,nb),H.type=mi,H.elementType=mi,H.lanes=Kb,H;case vi:return H=uc(19,
da,P,nb),H.elementType=vi,H.lanes=Kb,H;case Ii:return rb(da,nb,Kb,P);case Bi:return H=uc(24,da,P,nb),H.elementType=Bi,H.lanes=Kb,H;default:if("object"===typeof H&&null!==H)switch(H.$$typeof){case Zf:ec=10;break a;case Eg:ec=9;break a;case rh:ec=11;break a;case yh:ec=14;break a;case Li:ec=16;Ra=null;break a;case Xi:ec=22;break a}throw Error(v(130,null==H?H:typeof H,""));}P=uc(ec,da,P,nb);P.elementType=H;P.type=Ra;P.lanes=Kb;return P}function qb(H,P,da,Ra){H=uc(7,H,Ra,P);H.lanes=da;return H}function rb(H,
P,da,Ra){H=uc(23,H,Ra,P);H.elementType=Ii;H.lanes=da;return H}function kc(H,P,da){H=uc(6,H,null,P);H.lanes=da;return H}function Rc(H,P,da){P=uc(4,null!==H.children?H.children:[],H.key,P);P.lanes=da;P.stateNode={containerInfo:H.containerInfo,pendingChildren:null,implementation:H.implementation};return P}function gd(H,P,da){this.tag=P;this.containerInfo=H;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=
da;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=Ca(0);this.expirationTimes=Ca(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=Ca(0);this.mutableSourceEagerHydrationData=null}function Ad(H,P,da){var Ra=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:lg,key:null==Ra?null:""+Ra,children:H,containerInfo:P,implementation:da}}function Xc(H,P,da,Ra){var nb=
P.current,Kb=Je(),ec=Pe(nb);a:if(da){da=da._reactInternals;b:{if(oa(da)!==da||1!==da.tag)throw Error(v(170));var Ac=da;do{switch(Ac.tag){case 3:Ac=Ac.stateNode.context;break b;case 1:if(qf(Ac.type)){Ac=Ac.stateNode.__reactInternalMemoizedMergedChildContext;break b}}Ac=Ac.return}while(null!==Ac);throw Error(v(171));}if(1===da.tag){var hd=da.type;if(qf(hd)){da=Oa(da,hd,Ac);break a}}da=Ac}else da=Qi;null===P.context?P.context=da:P.pendingContext=da;P=Qc(Kb,ec);P.payload={element:H};Ra=void 0===Ra?null:
Ra;null!==Ra&&(P.callback=Ra);jb(nb,P);Hf(nb,ec,Kb);return ec}function Sd(H){H=H.current;if(!H.child)return null;switch(H.child.tag){case 5:return H.child.stateNode;default:return H.child.stateNode}}function Ed(H,P){H=H.memoizedState;if(null!==H&&null!==H.dehydrated){var da=H.retryLane;H.retryLane=0!==da&&da<P?da:P}}function De(H,P){Ed(H,P);(H=H.alternate)&&Ed(H,P)}function Af(){return null}function We(H,P,da){var Ra=null!=da&&null!=da.hydrationOptions&&da.hydrationOptions.mutableSources||null;da=
new gd(H,P,null!=da&&!0===da.hydrate);P=uc(3,null,null,2===P?7:1===P?3:0);da.current=P;P.stateNode=da;Nc(P);H[fj]=da.current;Bf(8===H.nodeType?H.parentNode:H);if(Ra)for(H=0;H<Ra.length;H++){P=Ra[H];var nb=P._getVersion;nb=nb(P._source);null==da.mutableSourceEagerHydrationData?da.mutableSourceEagerHydrationData=[P,nb]:da.mutableSourceEagerHydrationData.push(P,nb)}this._internalRoot=da}function Ef(H){return!(!H||1!==H.nodeType&&9!==H.nodeType&&11!==H.nodeType&&(8!==H.nodeType||" react-mount-point-unstable "!==
H.nodeValue))}function ug(H,P){P||(P=H?9===H.nodeType?H.documentElement:H.firstChild:null,P=!(!P||1!==P.nodeType||!P.hasAttribute("data-reactroot")));if(!P)for(var da;da=H.lastChild;)H.removeChild(da);return new We(H,0,P?{hydrate:!0}:void 0)}function Tg(H,P,da,Ra,nb){var Kb=da._reactRootContainer;if(Kb){var ec=Kb._internalRoot;if("function"===typeof nb){var Ac=nb;nb=function(){var Ld=Sd(ec);Ac.call(Ld)}}Xc(P,ec,H,nb)}else{Kb=da._reactRootContainer=ug(da,Ra);ec=Kb._internalRoot;if("function"===typeof nb){var hd=
nb;nb=function(){var Ld=Sd(ec);hd.call(Ld)}}Sg(function(){Xc(P,ec,H,nb)})}return Sd(ec)}function wf(H,P){var da=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ef(P))throw Error(v(200));return Ad(H,P,null,da)}var $f=z(3),cg=z(0),rg=z(6);if(!$f)throw Error(v(227));var li=new Set,Dg={},hh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ih=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Vg=Object.prototype.hasOwnProperty,ch={},Wh={},Jg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(H){Jg[H]=new l(H,0,!1,H,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(H){var P=H[0];Jg[P]=new l(P,1,!1,H[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(H){Jg[H]=
new l(H,2,!1,H.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(H){Jg[H]=new l(H,2,!1,H,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(H){Jg[H]=new l(H,3,!1,H.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(H){Jg[H]=new l(H,3,!0,H,null,!1,!1)});["capture","download"].forEach(function(H){Jg[H]=new l(H,4,!1,H,null,!1,!1)});["cols","rows","size","span"].forEach(function(H){Jg[H]=new l(H,6,!1,H,null,!1,!1)});["rowSpan","start"].forEach(function(H){Jg[H]=new l(H,5,!1,H.toLowerCase(),null,!1,!1)});var si=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(H){var P=
H.replace(si,f);Jg[P]=new l(P,1,!1,H,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(H){var P=H.replace(si,f);Jg[P]=new l(P,1,!1,H,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(H){var P=H.replace(si,f);Jg[P]=new l(P,1,!1,H,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(H){Jg[H]=new l(H,1,!1,H.toLowerCase(),null,!1,!1)});Jg.xlinkHref=new l("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(H){Jg[H]=new l(H,1,!1,H.toLowerCase(),null,!0,!0)});var Ug=$f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mg=60103,lg=60106,Dh=60107,Gh=60108,ii=60114,Zf=60109,Eg=60110,rh=60112,mi=60113,vi=60120,yh=60115,Li=60116,Xi=60121,Ei=60128,ri=60129,Ii=60130,Bi=60131;if("function"===typeof Symbol&&Symbol.for){var Hg=Symbol.for;Mg=Hg("react.element");lg=Hg("react.portal");Dh=Hg("react.fragment");
Gh=Hg("react.strict_mode");ii=Hg("react.profiler");Zf=Hg("react.provider");Eg=Hg("react.context");rh=Hg("react.forward_ref");mi=Hg("react.suspense");vi=Hg("react.suspense_list");yh=Hg("react.memo");Li=Hg("react.lazy");Xi=Hg("react.block");Hg("react.scope");Ei=Hg("react.opaque.id");ri=Hg("react.debug_trace_mode");Ii=Hg("react.offscreen");Bi=Hg("react.legacy_hidden")}var Jj="function"===typeof Symbol&&Symbol.iterator,pa,Pa=!1,Va={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},wb,bc=function(H){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(P,da,Ra,nb){MSApp.execUnsafeLocalFunction(function(){return H(P,da,Ra,nb)})}:H}(function(H,P){if(H.namespaceURI!==Va.svg||"innerHTML"in H)H.innerHTML=P;else{wb=wb||document.createElement("div");wb.innerHTML="\x3csvg\x3e"+P.valueOf().toString()+"\x3c/svg\x3e";for(P=wb.firstChild;H.firstChild;)H.removeChild(H.firstChild);for(;P.firstChild;)H.appendChild(P.firstChild)}}),cc={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lc=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(H){lc.forEach(function(P){P=P+H.charAt(0).toUpperCase()+H.substring(1);cc[P]=cc[H]})});var Cc=cg({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),id=null,Gd=null,Wd=null,pd=va,le=!1,Ze=!1,Cf=!1;if(hh)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Cf=
!0}});window.addEventListener("test",Ie,Ie);window.removeEventListener("test",Ie,Ie)}catch(H){Cf=!1}var bg=!1,Og=null,Le=!1,sh=null,Lh={onError:function(H){bg=!0;Og=H}},Pg=!1,of=[],zg=null,Xh=null,Me=null,qe=new Map,Re=new Map,re=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),Wg=
{animationend:tb("Animation","AnimationEnd"),animationiteration:tb("Animation","AnimationIteration"),animationstart:tb("Animation","AnimationStart"),transitionend:tb("Transition","TransitionEnd")},dg={},mh={};hh&&(mh=document.createElement("div").style,"AnimationEvent"in window||(delete Wg.animationend.animation,delete Wg.animationiteration.animation,delete Wg.animationstart.animation),"TransitionEvent"in window||delete Wg.transitionend.transition);var $h=dc("animationend"),Ih=dc("animationiteration"),
Pi=dc("animationstart"),Kj=dc("transitionend"),Yj=new Map,Di=new Map,Ej=["abort","abort",$h,"animationEnd",Ih,"animationIteration",Pi,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kj,"transitionEnd","waiting","waiting"],Dk=rg.unstable_now;Dk();var Ag=8,Qh=Math.clz32?Math.clz32:db,sj=Math.log,ok=Math.LN2,Nk=rg.unstable_UserBlockingPriority,cj=rg.unstable_runWithPriority,Mi=!0,Hh=null,dh=null,kg=null,ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(H){return H.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uj=ld(ti),ki=cg({},ti,{view:0,detail:0}),
Yi=ld(ki),Ci,Fh,oj,pj=cg({},ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(H){return void 0===H.relatedTarget?H.fromElement===H.srcElement?H.toElement:H.fromElement:H.relatedTarget},movementX:function(H){if("movementX"in H)return H.movementX;H!==oj&&(oj&&"mousemove"===H.type?(Ci=H.screenX-oj.screenX,Fh=H.screenY-oj.screenY):Fh=Ci=0,oj=H);return Ci},movementY:function(H){return"movementY"in
H?H.movementY:Fh}}),ni=ld(pj),Fj=cg({},pj,{dataTransfer:0}),dj=ld(Fj),Wi=cg({},ki,{relatedTarget:0}),Oi=ld(Wi),qj=cg({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),pk=ld(qj),ik=cg({},ti,{clipboardData:function(H){return"clipboardData"in H?H.clipboardData:window.clipboardData}}),Zj=ld(ik),Gj=cg({},ti,{data:0}),Zi=ld(Gj),bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},Ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
jk=cg({},ki,{key:function(H){if(H.key){var P=bj[H.key]||H.key;if("Unidentified"!==P)return P}return"keypress"===H.type?(H=Jc(H),13===H?"Enter":String.fromCharCode(H)):"keydown"===H.type||"keyup"===H.type?Ek[H.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(H){return"keypress"===H.type?Jc(H):0},keyCode:function(H){return"keydown"===H.type||"keyup"===H.type?H.keyCode:0},which:function(H){return"keypress"===
H.type?Jc(H):"keydown"===H.type||"keyup"===H.type?H.keyCode:0}}),Zh=ld(jk),Ig=cg({},pj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nh=ld(Ig),Fk=cg({},ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),ej=ld(Fk),h=cg({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),I=ld(h),Y=cg({},pj,{deltaX:function(H){return"deltaX"in H?H.deltaX:"wheelDeltaX"in H?-H.wheelDeltaX:0},
deltaY:function(H){return"deltaY"in H?H.deltaY:"wheelDeltaY"in H?-H.wheelDeltaY:"wheelDelta"in H?-H.wheelDelta:0},deltaZ:0,deltaMode:0}),X=ld(Y),fa=[9,13,27,32],La=hh&&"CompositionEvent"in window,Za=null;hh&&"documentMode"in document&&(Za=document.documentMode);var eb=hh&&"TextEvent"in window&&!Za,yb=hh&&(!La||Za&&8<Za&&11>=Za),Tb=String.fromCharCode(32),jc=!1,Sc=!1,bd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,
url:!0,week:!0},ed=null,Md=null,Ce=!1;if(hh){if(hh){var tf="oninput"in document;if(!tf){var vh=document.createElement("div");vh.setAttribute("oninput","return;");tf="function"===typeof vh.oninput}var jf=tf}else jf=!1;Ce=jf&&(!document.documentMode||9<document.documentMode)}var Tf="function"===typeof Object.is?Object.is:Mc,Fg=Object.prototype.hasOwnProperty,Kg=hh&&"documentMode"in document&&11>=document.documentMode,vg=null,Wf=null,ng=null,mg=!1;Yb("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Yb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Yb(Ej,2);for(var Cg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Kh=0;Kh<Cg.length;Kh++)Di.set(Cg[Kh],0);p("onMouseEnter",["mouseout","mouseover"]);p("onMouseLeave",
["mouseout","mouseover"]);p("onPointerEnter",["pointerout","pointerover"]);p("onPointerLeave",["pointerout","pointerover"]);k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));k("onBeforeInput",["compositionend","keypress","textInput","paste"]);k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));k("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh)),Ni="_reactListening"+Math.random().toString(36).slice(2),
Hi=null,Dj=null,jl="function"===typeof setTimeout?setTimeout:void 0,Wk="function"===typeof clearTimeout?clearTimeout:void 0,Yk=0,Gk=Math.random().toString(36).slice(2),gj="__reactFiber$"+Gk,qk="__reactProps$"+Gk,fj="__reactContainer$"+Gk,rk="__reactEvents$"+Gk,Ok=[],vj=-1,Qi={},oh=Vd(Qi),uf=Vd(!1),Lg=Qi,ne=null,Bh=null,hj=rg.unstable_runWithPriority,sk=rg.unstable_scheduleCallback,ck=rg.unstable_cancelCallback,Vk=rg.unstable_shouldYield,kl=rg.unstable_requestPaint,kk=rg.unstable_now,el=rg.unstable_getCurrentPriorityLevel,
ei=rg.unstable_ImmediatePriority,ak=rg.unstable_UserBlockingPriority,fl=rg.unstable_NormalPriority,bk=rg.unstable_LowPriority,gl=rg.unstable_IdlePriority,Rj={},Cl=void 0!==kl?kl:function(){},$i=null,tk=null,Uh=!1,Hk=kk(),ci=1E4>Hk?kk:function(){return kk()-Hk},Tk=Ug.ReactCurrentBatchConfig,oi=Vd(null),ij=null,jj=null,wi=null,ai=!1,Pk=(new $f.Component).refs,uk={isMounted:function(H){return(H=H._reactInternals)?oa(H)===H:!1},enqueueSetState:function(H,P,da){H=H._reactInternals;var Ra=Je(),nb=Pe(H),
Kb=Qc(Ra,nb);Kb.payload=P;void 0!==da&&null!==da&&(Kb.callback=da);jb(H,Kb);Hf(H,nb,Ra)},enqueueReplaceState:function(H,P,da){H=H._reactInternals;var Ra=Je(),nb=Pe(H),Kb=Qc(Ra,nb);Kb.tag=1;Kb.payload=P;void 0!==da&&null!==da&&(Kb.callback=da);jb(H,Kb);Hf(H,nb,Ra)},enqueueForceUpdate:function(H,P){H=H._reactInternals;var da=Je(),Ra=Pe(H),nb=Qc(da,Ra);nb.tag=2;void 0!==P&&null!==P&&(nb.callback=P);jb(H,nb);Hf(H,Ra,da)}},xi=Array.isArray,yj=Oc(!0),Rk=Oc(!1),Lj={},Ri=Vd(Lj),ek=Vd(Lj),dk=Vd(Lj),Ah=Vd(0),
Fi=null,Si=null,yi=!1,Mj=[],xj=Ug.ReactCurrentDispatcher,qi=Ug.ReactCurrentBatchConfig,mj=0,jh=null,bi=null,Rh=null,vk=!1,Nj=!1,Oj={readContext:tc,useCallback:vd,useContext:vd,useEffect:vd,useImperativeHandle:vd,useLayoutEffect:vd,useMemo:vd,useReducer:vd,useRef:vd,useState:vd,useDebugValue:vd,useDeferredValue:vd,useTransition:vd,useMutableSource:vd,useOpaqueIdentifier:vd,unstable_isNewReconciler:!1},xl={readContext:tc,useCallback:function(H,P){vf().memoizedState=[H,void 0===P?null:P];return H},useContext:tc,
useEffect:Pf,useImperativeHandle:function(H,P,da){da=null!==da&&void 0!==da?da.concat([H]):null;return fg(4,2,gg.bind(null,P,H),da)},useLayoutEffect:function(H,P){return fg(4,2,H,P)},useMemo:function(H,P){var da=vf();P=void 0===P?null:P;H=H();da.memoizedState=[H,P];return H},useReducer:function(H,P,da){var Ra=vf();P=void 0!==da?da(P):P;Ra.memoizedState=Ra.baseState=P;H=Ra.queue={pending:null,dispatch:null,lastRenderedReducer:H,lastRenderedState:P};H=H.dispatch=bb.bind(null,jh,H);return[Ra.memoizedState,
H]},useRef:Qg,useState:Zg,useDebugValue:th,useDeferredValue:function(H){var P=Zg(H),da=P[0],Ra=P[1];Pf(function(){var nb=qi.transition;qi.transition=1;try{Ra(H)}finally{qi.transition=nb}},[H]);return da},useTransition:function(){var H=Zg(!1),P=H[0];H=zh.bind(null,H[1]);Qg(H);return[H,P]},useMutableSource:function(H,P,da){var Ra=vf();Ra.memoizedState={refs:{getSnapshot:P,setSnapshot:null},source:H,subscribe:da};return og(Ra,H,P,da)},useOpaqueIdentifier:function(){if(yi){var H=!1,P=Oe(function(){H||
(H=!0,da("r:"+(Yk++).toString(36)));throw Error(v(355));}),da=Zg(P)[1];0===(jh.mode&2)&&(jh.flags|=516,Bg(5,function(){da("r:"+(Yk++).toString(36))},void 0,null));return P}P="r:"+(Yk++).toString(36);Zg(P);return P},unstable_isNewReconciler:!1},ji={readContext:tc,useCallback:Gg,useContext:tc,useEffect:eg,useImperativeHandle:kh,useLayoutEffect:Mf,useMemo:xg,useReducer:Xg,useRef:sg,useState:function(){return Xg(Of)},useDebugValue:th,useDeferredValue:function(H){var P=Xg(Of),da=P[0],Ra=P[1];eg(function(){var nb=
qi.transition;qi.transition=1;try{Ra(H)}finally{qi.transition=nb}},[H]);return da},useTransition:function(){var H=Xg(Of)[0];return[sg().current,H]},useMutableSource:wg,useOpaqueIdentifier:function(){return Xg(Of)[0]},unstable_isNewReconciler:!1},Qk={readContext:tc,useCallback:Gg,useContext:tc,useEffect:eg,useImperativeHandle:kh,useLayoutEffect:Mf,useMemo:xg,useReducer:Xd,useRef:sg,useState:function(){return Xd(Of)},useDebugValue:th,useDeferredValue:function(H){var P=Xd(Of),da=P[0],Ra=P[1];eg(function(){var nb=
qi.transition;qi.transition=1;try{Ra(H)}finally{qi.transition=nb}},[H]);return da},useTransition:function(){var H=Xd(Of)[0];return[sg().current,H]},useMutableSource:wg,useOpaqueIdentifier:function(){return Xd(Of)[0]},unstable_isNewReconciler:!1},hl=Ug.ReactCurrentOwner,pi=!1,gi={dehydrated:null,retryLane:0};var zj=function(H,P){for(var da=P.child;null!==da;){if(5===da.tag||6===da.tag)H.appendChild(da.stateNode);else if(4!==da.tag&&null!==da.child){da.child.return=da;da=da.child;continue}if(da===P)break;
for(;null===da.sibling;){if(null===da.return||da.return===P)return;da=da.return}da.sibling.return=da.return;da=da.sibling}};var il=function(){};var yl=function(H,P,da,Ra){var nb=H.memoizedProps;if(nb!==Ra){H=P.stateNode;zc(Ri.current);var Kb=null;switch(da){case "input":nb=D(H,nb);Ra=D(H,Ra);Kb=[];break;case "option":nb=ea(H,nb);Ra=ea(H,Ra);Kb=[];break;case "select":nb=cg({},nb,{value:void 0});Ra=cg({},Ra,{value:void 0});Kb=[];break;case "textarea":nb=R(H,nb);Ra=R(H,Ra);Kb=[];break;default:"function"!==
typeof nb.onClick&&"function"===typeof Ra.onClick&&(H.onclick=Bd)}za(da,Ra);var ec;da=null;for(Ld in nb)if(!Ra.hasOwnProperty(Ld)&&nb.hasOwnProperty(Ld)&&null!=nb[Ld])if("style"===Ld){var Ac=nb[Ld];for(ec in Ac)Ac.hasOwnProperty(ec)&&(da||(da={}),da[ec]="")}else"dangerouslySetInnerHTML"!==Ld&&"children"!==Ld&&"suppressContentEditableWarning"!==Ld&&"suppressHydrationWarning"!==Ld&&"autoFocus"!==Ld&&(Dg.hasOwnProperty(Ld)?Kb||(Kb=[]):(Kb=Kb||[]).push(Ld,null));for(Ld in Ra){var hd=Ra[Ld];Ac=null!=nb?
nb[Ld]:void 0;if(Ra.hasOwnProperty(Ld)&&hd!==Ac&&(null!=hd||null!=Ac))if("style"===Ld)if(Ac){for(ec in Ac)!Ac.hasOwnProperty(ec)||hd&&hd.hasOwnProperty(ec)||(da||(da={}),da[ec]="");for(ec in hd)hd.hasOwnProperty(ec)&&Ac[ec]!==hd[ec]&&(da||(da={}),da[ec]=hd[ec])}else da||(Kb||(Kb=[]),Kb.push(Ld,da)),da=hd;else"dangerouslySetInnerHTML"===Ld?(hd=hd?hd.__html:void 0,Ac=Ac?Ac.__html:void 0,null!=hd&&Ac!==hd&&(Kb=Kb||[]).push(Ld,hd)):"children"===Ld?"string"!==typeof hd&&"number"!==typeof hd||(Kb=Kb||[]).push(Ld,
""+hd):"suppressContentEditableWarning"!==Ld&&"suppressHydrationWarning"!==Ld&&(Dg.hasOwnProperty(Ld)?(null!=hd&&"onScroll"===Ld&&ze("scroll",H),Kb||Ac===hd||(Kb=[])):"object"===typeof hd&&null!==hd&&hd.$$typeof===Ei?hd.toString():(Kb=Kb||[]).push(Ld,hd))}da&&(Kb=Kb||[]).push("style",da);var Ld;if(P.updateQueue=Kb)P.flags|=4}};var Aj=function(H,P,da,Ra){da!==Ra&&(P.flags|=4)};var Al="function"===typeof WeakMap?WeakMap:Map,zl="function"===typeof WeakSet?WeakSet:Set,hi=Math.ceil,fk=Ug.ReactCurrentDispatcher,
Uj=Ug.ReactCurrentOwner,Kf=0,fi=null,Ch=null,Nh=0,Cj=0,Tj=Vd(0),Sh=0,Sj=null,Pj=0,wj=0,nj=0,Bk=0,Uk=null,Sk=0,wk=Infinity,bf=null,xk=!1,yk=null,Gi=null,Ai=!1,Vi=null,Vj=90,Ck=[],Xk=[],Ui=null,Qj=0,Ak=null,Bj=-1,aj=0,zk=0,gk=null,hk=!1;var Bl=function(H,P,da){var Ra=P.lanes;if(null!==H)if(H.memoizedProps!==P.pendingProps||uf.current)pi=!0;else if(0!==(da&Ra))pi=0!==(H.flags&16384)?!0:!1;else{pi=!1;switch(P.tag){case 3:eh(P);Si=Fi=null;yi=!1;break;case 5:qd(P);break;case 1:qf(P.type)&&ic(P);break;case 4:wc(P,
P.stateNode.containerInfo);break;case 10:Ra=P.memoizedProps.value;var nb=P.type._context;se(oi,nb._currentValue);nb._currentValue=Ra;break;case 13:if(null!==P.memoizedState){if(0!==(da&P.child.childLanes))return uh(H,P,da);se(Ah,Ah.current&1);P=lh(H,P,da);return null!==P?P.sibling:null}se(Ah,Ah.current&1);break;case 19:Ra=0!==(da&P.childLanes);if(0!==(H.flags&64)){if(Ra)return Vh(H,P,da);P.flags|=64}nb=P.memoizedState;null!==nb&&(nb.rendering=null,nb.tail=null,nb.lastEffect=null);se(Ah,Ah.current);
if(Ra)break;else return null;case 23:case 24:return P.lanes=0,he(H,P,da)}return lh(H,P,da)}else pi=!1;P.lanes=0;switch(P.tag){case 2:Ra=P.type;null!==H&&(H.alternate=null,P.alternate=null,P.flags|=2);H=P.pendingProps;nb=cf(P,oh.current);Ec(P,da);nb=df(null,P,Ra,H,nb,da);P.flags|=1;if("object"===typeof nb&&null!==nb&&"function"===typeof nb.render&&void 0===nb.$$typeof){P.tag=1;P.memoizedState=null;P.updateQueue=null;if(qf(Ra)){var Kb=!0;ic(P)}else Kb=!1;P.memoizedState=null!==nb.state&&void 0!==nb.state?
nb.state:null;Nc(P);var ec=Ra.getDerivedStateFromProps;"function"===typeof ec&&na(P,Ra,ec,H);nb.updater=uk;P.stateNode=nb;nb._reactInternals=P;Nb(P,Ra,H,da);P=Rf(null,P,Ra,!0,Kb,da)}else P.tag=0,Hb(null,P,nb,da),P=P.child;return P;case 16:nb=P.elementType;a:{null!==H&&(H.alternate=null,P.alternate=null,P.flags|=2);H=P.pendingProps;Kb=nb._init;nb=Kb(nb._payload);P.type=nb;Kb=P.tag=$c(nb);H=Zc(nb,H);switch(Kb){case 0:P=sf(null,P,nb,H,da);break a;case 1:P=Rg(null,P,nb,H,da);break a;case 11:P=nc(null,
P,nb,H,da);break a;case 14:P=td(null,P,nb,Zc(nb.type,H),Ra,da);break a}throw Error(v(306,nb,""));}return P;case 0:return Ra=P.type,nb=P.pendingProps,nb=P.elementType===Ra?nb:Zc(Ra,nb),sf(H,P,Ra,nb,da);case 1:return Ra=P.type,nb=P.pendingProps,nb=P.elementType===Ra?nb:Zc(Ra,nb),Rg(H,P,Ra,nb,da);case 3:eh(P);Ra=P.updateQueue;if(null===H||null===Ra)throw Error(v(282));Ra=P.pendingProps;nb=P.memoizedState;nb=null!==nb?nb.element:null;mc(H,P);Qb(P,Ra,null,da);Ra=P.memoizedState.element;if(Ra===nb)Si=Fi=
null,yi=!1,P=lh(H,P,da);else{nb=P.stateNode;if(Kb=nb.hydrate)Si=yf(P.stateNode.containerInfo.firstChild),Fi=P,Kb=yi=!0;if(Kb){H=nb.mutableSourceEagerHydrationData;if(null!=H)for(nb=0;nb<H.length;nb+=2)Kb=H[nb],Kb._workInProgressVersionPrimary=H[nb+1],Mj.push(Kb);da=Rk(P,null,Ra,da);for(P.child=da;da;)da.flags=da.flags&-3|1024,da=da.sibling}else Hb(H,P,Ra,da),Si=Fi=null,yi=!1;P=P.child}return P;case 5:return qd(P),null===H&&xd(P),Ra=P.type,nb=P.pendingProps,Kb=null!==H?H.memoizedProps:null,ec=nb.children,
hf(Ra,nb)?ec=null:null!==Kb&&hf(Ra,Kb)&&(P.flags|=16),kf(H,P),Hb(H,P,ec,da),P.child;case 6:return null===H&&xd(P),null;case 13:return uh(H,P,da);case 4:return wc(P,P.stateNode.containerInfo),Ra=P.pendingProps,null===H?P.child=yj(P,null,Ra,da):Hb(H,P,Ra,da),P.child;case 11:return Ra=P.type,nb=P.pendingProps,nb=P.elementType===Ra?nb:Zc(Ra,nb),nc(H,P,Ra,nb,da);case 7:return Hb(H,P,P.pendingProps,da),P.child;case 8:return Hb(H,P,P.pendingProps.children,da),P.child;case 12:return Hb(H,P,P.pendingProps.children,
da),P.child;case 10:a:{Ra=P.type._context;nb=P.pendingProps;ec=P.memoizedProps;Kb=nb.value;var Ac=P.type._context;se(oi,Ac._currentValue);Ac._currentValue=Kb;if(null!==ec)if(Ac=ec.value,Kb=Tf(Ac,Kb)?0:("function"===typeof Ra._calculateChangedBits?Ra._calculateChangedBits(Ac,Kb):1073741823)|0,0===Kb){if(ec.children===nb.children&&!uf.current){P=lh(H,P,da);break a}}else for(Ac=P.child,null!==Ac&&(Ac.return=P);null!==Ac;){var hd=Ac.dependencies;if(null!==hd){ec=Ac.child;for(var Ld=hd.firstContext;null!==
Ld;){if(Ld.context===Ra&&0!==(Ld.observedBits&Kb)){1===Ac.tag&&(Ld=Qc(-1,da&-da),Ld.tag=2,jb(Ac,Ld));Ac.lanes|=da;Ld=Ac.alternate;null!==Ld&&(Ld.lanes|=da);Lc(Ac.return,da);hd.lanes|=da;break}Ld=Ld.next}}else ec=10===Ac.tag?Ac.type===P.type?null:Ac.child:Ac.child;if(null!==ec)ec.return=Ac;else for(ec=Ac;null!==ec;){if(ec===P){ec=null;break}Ac=ec.sibling;if(null!==Ac){Ac.return=ec.return;ec=Ac;break}ec=ec.return}Ac=ec}Hb(H,P,nb.children,da);P=P.child}return P;case 9:return nb=P.type,Kb=P.pendingProps,
Ra=Kb.children,Ec(P,da),nb=tc(nb,Kb.unstable_observedBits),Ra=Ra(nb),P.flags|=1,Hb(H,P,Ra,da),P.child;case 14:return nb=P.type,Kb=Zc(nb,P.pendingProps),Kb=Zc(nb.type,Kb),td(H,P,nb,Kb,Ra,da);case 15:return zd(H,P,P.type,P.pendingProps,Ra,da);case 17:return Ra=P.type,nb=P.pendingProps,nb=P.elementType===Ra?nb:Zc(Ra,nb),null!==H&&(H.alternate=null,P.alternate=null,P.flags|=2),P.tag=1,qf(Ra)?(H=!0,ic(P)):H=!1,Ec(P,da),lb(P,Ra,nb),Nb(P,Ra,nb,da),Rf(null,P,Ra,!0,H,da);case 19:return Vh(H,P,da);case 23:return he(H,
P,da);case 24:return he(H,P,da)}throw Error(v(156,P.tag));};We.prototype.render=function(H){Xc(H,this._internalRoot,null,null)};We.prototype.unmount=function(){var H=this._internalRoot,P=H.containerInfo;Xc(null,H,null,function(){P[fj]=null})};var dl=function(H){if(13===H.tag){var P=Je();Hf(H,4,P);De(H,4)}};var Mk=function(H){if(13===H.tag){var P=Je();Hf(H,67108864,P);De(H,67108864)}};var wl=function(H){if(13===H.tag){var P=Je(),da=Pe(H);Hf(H,da,P);De(H,da)}};var vl=function(H,P){return P()};id=function(H,
P,da){switch(P){case "input":O(H,da);P=da.name;if("radio"===da.type&&null!=P){for(da=H;da.parentNode;)da=da.parentNode;da=da.querySelectorAll("input[name\x3d"+JSON.stringify(""+P)+'][type\x3d"radio"]');for(P=0;P<da.length;P++){var Ra=da[P];if(Ra!==H&&Ra.form===H.form){var nb=ie(Ra);if(!nb)throw Error(v(90));F(Ra);O(Ra,nb)}}}break;case "textarea":r(H,da);break;case "select":P=da.value,null!=P&&T(H,!!da.multiple,P,!1)}};va=Ng;sa=function(H,P,da,Ra,nb){var Kb=Kf;Kf|=4;try{return xb(98,H.bind(null,P,
da,Ra,nb))}finally{Kf=Kb,0===Kf&&(ge(),ac())}};xa=function(){0===(Kf&49)&&(yg(),ph())};pd=function(H,P){var da=Kf;Kf|=2;try{return H(P)}finally{Kf=da,0===Kf&&(ge(),ac())}};var ll={Events:[Wb,Uc,ie,qa,Da,ph,{current:!1}]},Wj={findFiberByHostInstance:Gb,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Dl={bundleType:Wj.bundleType,version:Wj.version,rendererPackageName:Wj.rendererPackageName,rendererConfig:Wj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,
overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ug.ReactCurrentDispatcher,findHostInstanceByFiber:function(H){H=Xa(H);return null===H?null:H.stateNode},findFiberByHostInstance:Wj.findFiberByHostInstance||Af,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ik=__REACT_DEVTOOLS_GLOBAL_HOOK__;
if(!Ik.isDisabled&&Ik.supportsFiber)try{ne=Ik.inject(Dl),Bh=Ik}catch(H){}}B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ll;B.createPortal=wf;B.findDOMNode=function(H){if(null==H)return null;if(1===H.nodeType)return H;var P=H._reactInternals;if(void 0===P){if("function"===typeof H.render)throw Error(v(188));throw Error(v(268,Object.keys(H)));}H=Xa(P);return H=null===H?null:H.stateNode};B.flushSync=function(H,P){var da=Kf;if(0!==(da&48))return H(P);Kf|=1;try{if(H)return xb(99,H.bind(null,P))}finally{Kf=
da,ac()}};B.hydrate=function(H,P,da){if(!Ef(P))throw Error(v(200));return Tg(null,H,P,!0,da)};B.render=function(H,P,da){if(!Ef(P))throw Error(v(200));return Tg(null,H,P,!1,da)};B.unmountComponentAtNode=function(H){if(!Ef(H))throw Error(v(40));return H._reactRootContainer?(Sg(function(){Tg(null,null,H,!1,function(){H._reactRootContainer=null;H[fj]=null})}),!0):!1};B.unstable_batchedUpdates=Ng;B.unstable_createPortal=function(H,P){return wf(H,P,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
null)};B.unstable_renderSubtreeIntoContainer=function(H,P,da,Ra){if(!Ef(da))throw Error(v(200));if(null==H||void 0===H._reactInternals)throw Error(v(38));return Tg(H,P,da,!1,Ra)};B.version="17.0.2"};
shadow$provide[12]=function(ra,z,cb,B){function v(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v)}catch(k){console.error(k)}}v();cb.exports=z(7)};
shadow$provide[13]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?cb.exports=k():"function"===typeof define&&define.amd?define(k):(v="undefined"!==typeof globalThis?globalThis:v||self,v.marked=k())})(this,function(){function v(ta,Na){for(var oa=0;oa<Na.length;oa++){var aa=Na[oa];aa.enumerable=aa.enumerable||!1;aa.configurable=!0;"value"in aa&&(aa.writable=!0);Object.defineProperty(ta,aa.key,aa)}}function k(ta,Na,oa){Na&&v(ta.prototype,Na);oa&&v(ta,oa);return ta}function p(ta,
Na){if(ta){if("string"===typeof ta)return A(ta,Na);var oa=Object.prototype.toString.call(ta).slice(8,-1);"Object"===oa&&ta.constructor&&(oa=ta.constructor.name);if("Map"===oa||"Set"===oa)return Array.from(ta);if("Arguments"===oa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oa))return A(ta,Na)}}function A(ta,Na){if(null==Na||Na>ta.length)Na=ta.length;for(var oa=0,aa=Array(Na);oa<Na;oa++)aa[oa]=ta[oa];return aa}function u(ta,Na){var oa="undefined"!==typeof Symbol&&ta[Symbol.iterator]||ta["@@iterator"];
if(oa)return(oa=oa.call(ta)).next.bind(oa);if(Array.isArray(ta)||(oa=p(ta))||Na&&ta&&"number"===typeof ta.length){oa&&(ta=oa);var aa=0;return function(){return aa>=ta.length?{done:!0}:{done:!1,value:ta[aa++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function m(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",
mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function l(ta){return ta.replace(D,function(Na,oa){oa=oa.toLowerCase();return"colon"===oa?":":"#"===oa.charAt(0)?"x"===oa.charAt(1)?String.fromCharCode(parseInt(oa.substring(2),16)):String.fromCharCode(+oa.substring(1)):""})}function f(ta,Na,oa){var aa=ta.length;if(0===aa)return"";for(var ka=0;ka<aa;){var Ia=ta.charAt(aa-ka-1);if(Ia!==Na||oa)if(Ia!==Na&&oa)ka++;
else break;else ka++}return ta.substr(0,aa-ka)}function g(ta,Na,oa,aa){var ka=Na.href;Na=Na.title?C(Na.title):null;var Ia=ta[1].replace(/\\([\[\]])/g,"$1");return"!"!==ta[0].charAt(0)?(aa.state.inLink=!0,ta={type:"link",raw:oa,href:ka,title:Na,text:Ia,tokens:aa.inlineTokens(Ia,[])},aa.state.inLink=!1,ta):{type:"image",raw:oa,href:ka,title:Na,text:C(Ia)}}function d(ta,Na){ta=ta.match(/^(\s+)(?:```)/);if(null===ta)return Na;var oa=ta[1];return Na.split("\n").map(function(aa){var ka=aa.match(/^\s+/);
return null===ka?aa:ka[0].length>=oa.length?aa.slice(oa.length):aa}).join("\n")}function b(ta){return ta.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function c(ta){var Na="",oa,aa=ta.length;for(oa=0;oa<aa;oa++){var ka=ta.charCodeAt(oa);.5<Math.random()&&(ka="x"+ka.toString(16));Na+="\x26#"+ka+";"}return Na}function a(ta,Na,oa){if("undefined"===typeof ta||null===
ta)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof ta)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(ta)+", string expected");"function"===typeof Na&&(oa=Na,Na=null);Na=Ea({},a.defaults,Na||{});Ua(Na);if(oa){var aa=Na.highlight;try{var ka=xa.lex(ta,Na)}catch(mb){return oa(mb)}var Ia=function(mb){if(!mb)try{Na.walkTokens&&a.walkTokens(ka,Na.walkTokens);var ib=ma.parse(ka,Na)}catch(Eb){mb=Eb}Na.highlight=aa;return mb?oa(mb):oa(null,
ib)};if(!aa||3>aa.length)return Ia();delete Na.highlight;if(!ka.length)return Ia();var Xa=0;a.walkTokens(ka,function(mb){"code"===mb.type&&(Xa++,setTimeout(function(){aa(mb.text,mb.lang,function(ib,Eb){if(ib)return Ia(ib);null!=Eb&&Eb!==mb.text&&(mb.text=Eb,mb.escaped=!0);Xa--;0===Xa&&Ia()})},0))});0===Xa&&Ia()}else try{var Ya=xa.lex(ta,Na);Na.walkTokens&&a.walkTokens(Ya,Na.walkTokens);return ma.parse(Ya,Na)}catch(mb){mb.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Na.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+
ab(mb.message+"",!0)+"\x3c/pre\x3e";throw mb;}}var e=m();var t=/[&<>"']/,y=/[&<>"']/g,q=/[<>"']|&(?!#?\w+;)/,E=/[<>"']|&(?!#?\w+;)/g,F={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},w=function(ta){return F[ta]},D=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,G=/(^|[^\[])\^/g,L=/[^\w:]/g,O=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,V={},S=/^[^:]+:\/*[^/]*$/,ca=/^([^:]+:)[\s\S]*$/,ea=/^([^:]+:\/*[^/]*)[\s\S]*$/,T=function(ta,Na){if(Na){if(t.test(ta))return ta.replace(y,w)}else if(q.test(ta))return ta.replace(E,
w);return ta},R=function(ta){for(var Na=1,oa,aa;Na<arguments.length;Na++)for(aa in oa=arguments[Na],oa)Object.prototype.hasOwnProperty.call(oa,aa)&&(ta[aa]=oa[aa]);return ta},J=e,r=function(ta,Na){ta=ta.replace(/\|/g,function(aa,ka,Ia){for(aa=!1;0<=--ka&&"\\"===Ia[ka];)aa=!aa;return aa?"|":" |"}).split(/ \|/);var oa=0;ta[0].trim()||ta.shift();ta[ta.length-1].trim()||ta.pop();if(ta.length>Na)ta.splice(Na);else for(;ta.length<Na;)ta.push("");for(;oa<ta.length;oa++)ta[oa]=ta[oa].trim().replace(/\\\|/g,
"|");return ta},C=T,N=function(){function ta(oa){this.options=oa||J}var Na=ta.prototype;Na.space=function(oa){if(oa=this.rules.block.newline.exec(oa))return 1<oa[0].length?{type:"space",raw:oa[0]}:{raw:"\n"}};Na.code=function(oa){if(oa=this.rules.block.code.exec(oa)){var aa=oa[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:oa[0],codeBlockStyle:"indented",text:this.options.pedantic?aa:f(aa,"\n")}}};Na.fences=function(oa){if(oa=this.rules.block.fences.exec(oa)){var aa=oa[0],ka=d(aa,oa[3]||"");return{type:"code",
raw:aa,lang:oa[2]?oa[2].trim():oa[2],text:ka}}};Na.heading=function(oa){if(oa=this.rules.block.heading.exec(oa)){var aa=oa[2].trim();if(/#$/.test(aa)){var ka=f(aa,"#");if(this.options.pedantic)aa=ka.trim();else if(!ka||/ $/.test(ka))aa=ka.trim()}oa={type:"heading",raw:oa[0],depth:oa[1].length,text:aa,tokens:[]};this.lexer.inline(oa.text,oa.tokens);return oa}};Na.hr=function(oa){if(oa=this.rules.block.hr.exec(oa))return{type:"hr",raw:oa[0]}};Na.blockquote=function(oa){if(oa=this.rules.block.blockquote.exec(oa)){var aa=
oa[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:oa[0],tokens:this.lexer.blockTokens(aa,[]),text:aa}}};Na.list=function(oa){var aa=this.rules.block.list.exec(oa);if(aa){var ka,Ia;var Xa=aa[1].trim();aa=1<Xa.length;var Ya={type:"list",raw:"",ordered:aa,start:aa?+Xa.slice(0,-1):"",loose:!1,items:[]};Xa=aa?"\\d{1,9}\\"+Xa.slice(-1):"\\"+Xa;this.options.pedantic&&(Xa=aa?Xa:"[*+-]");for(var mb=new RegExp("^( {0,3}"+Xa+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");oa&&!this.rules.block.hr.test(oa)&&
(aa=mb.exec(oa));){var ib=aa[2].split("\n");if(this.options.pedantic){var Eb=2;var Zb=ib[0].trimLeft()}else Eb=aa[2].search(/[^ ]/),Eb=aa[1].length+(4<Eb?1:Eb),Zb=ib[0].slice(Eb-aa[1].length);var Gc=!1;var xc=aa[0];!ib[0]&&/^ *$/.test(ib[1])&&(xc=aa[1]+ib.slice(0,2).join("\n")+"\n",Ya.loose=!0,ib=[]);var Ic=new RegExp("^ {0,"+Math.min(3,Eb-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Xa=1;Xa<ib.length;Xa++){var rc=ib[Xa];this.options.pedantic&&(rc=rc.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "));if(Ic.test(rc)){xc=
aa[1]+ib.slice(0,Xa).join("\n")+"\n";break}if(Gc)if(rc.search(/[^ ]/)>=Eb||!rc.trim())Zb+="\n"+rc.slice(Eb);else{xc=aa[1]+ib.slice(0,Xa).join("\n")+"\n";break}else rc.trim()||(Gc=!0),Zb=rc.search(/[^ ]/)>=Eb?Zb+("\n"+rc.slice(Eb)):Zb+("\n"+rc)}Ya.loose||(Ia?Ya.loose=!0:/\n *\n *$/.test(xc)&&(Ia=!0));if(this.options.gfm&&(ka=/^\[[ xX]\] /.exec(Zb))){var jd="[ ] "!==ka[0];Zb=Zb.replace(/^\[[ xX]\] +/,"")}Ya.items.push({type:"list_item",raw:xc,task:!!ka,checked:jd,loose:!1,text:Zb});Ya.raw+=xc;oa=oa.slice(xc.length)}Ya.items[Ya.items.length-
1].raw=xc.trimRight();Ya.items[Ya.items.length-1].text=Zb.trimRight();Ya.raw=Ya.raw.trimRight();oa=Ya.items.length;for(Xa=0;Xa<oa;Xa++)this.lexer.state.top=!1,Ya.items[Xa].tokens=this.lexer.blockTokens(Ya.items[Xa].text,[]),Ya.items[Xa].tokens.some(function(Bb){return"space"===Bb.type})&&(Ya.loose=!0,Ya.items[Xa].loose=!0);return Ya}};Na.html=function(oa){if(oa=this.rules.block.html.exec(oa)){var aa={type:"html",raw:oa[0],pre:!this.options.sanitizer&&("pre"===oa[1]||"script"===oa[1]||"style"===oa[1]),
text:oa[0]};this.options.sanitize&&(aa.type="paragraph",aa.text=this.options.sanitizer?this.options.sanitizer(oa[0]):C(oa[0]),aa.tokens=[],this.lexer.inline(aa.text,aa.tokens));return aa}};Na.def=function(oa){if(oa=this.rules.block.def.exec(oa))return oa[3]&&(oa[3]=oa[3].substring(1,oa[3].length-1)),{type:"def",tag:oa[1].toLowerCase().replace(/\s+/g," "),raw:oa[0],href:oa[2],title:oa[3]}};Na.table=function(oa){var aa=this.rules.block.table.exec(oa);if(aa&&(oa={type:"table",header:r(aa[1]).map(function(Ya){return{text:Ya}}),
align:aa[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:aa[3]?aa[3].replace(/\n$/,"").split("\n"):[]},oa.header.length===oa.align.length)){oa.raw=aa[0];aa=oa.align.length;var ka,Ia;for(ka=0;ka<aa;ka++)/^ *-+: *$/.test(oa.align[ka])?oa.align[ka]="right":/^ *:-+: *$/.test(oa.align[ka])?oa.align[ka]="center":/^ *:-+ *$/.test(oa.align[ka])?oa.align[ka]="left":oa.align[ka]=null;aa=oa.rows.length;for(ka=0;ka<aa;ka++)oa.rows[ka]=r(oa.rows[ka],oa.header.length).map(function(Ya){return{text:Ya}});aa=oa.header.length;
for(ka=0;ka<aa;ka++)oa.header[ka].tokens=[],this.lexer.inlineTokens(oa.header[ka].text,oa.header[ka].tokens);aa=oa.rows.length;for(ka=0;ka<aa;ka++){var Xa=oa.rows[ka];for(Ia=0;Ia<Xa.length;Ia++)Xa[Ia].tokens=[],this.lexer.inlineTokens(Xa[Ia].text,Xa[Ia].tokens)}return oa}};Na.lheading=function(oa){if(oa=this.rules.block.lheading.exec(oa))return oa={type:"heading",raw:oa[0],depth:"\x3d"===oa[2].charAt(0)?1:2,text:oa[1],tokens:[]},this.lexer.inline(oa.text,oa.tokens),oa};Na.paragraph=function(oa){if(oa=
this.rules.block.paragraph.exec(oa))return oa={type:"paragraph",raw:oa[0],text:"\n"===oa[1].charAt(oa[1].length-1)?oa[1].slice(0,-1):oa[1],tokens:[]},this.lexer.inline(oa.text,oa.tokens),oa};Na.text=function(oa){if(oa=this.rules.block.text.exec(oa))return oa={type:"text",raw:oa[0],text:oa[0],tokens:[]},this.lexer.inline(oa.text,oa.tokens),oa};Na.escape=function(oa){if(oa=this.rules.inline.escape.exec(oa))return{type:"escape",raw:oa[0],text:C(oa[1])}};Na.tag=function(oa){if(oa=this.rules.inline.tag.exec(oa))return!this.lexer.state.inLink&&
/^<a /i.test(oa[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(oa[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(oa[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(oa[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:oa[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?
this.options.sanitizer(oa[0]):C(oa[0]):oa[0]}};Na.link=function(oa){if(oa=this.rules.inline.link.exec(oa)){var aa=oa[2].trim();if(!this.options.pedantic&&/^</.test(aa)){if(!/>$/.test(aa))return;var ka=f(aa.slice(0,-1),"\\");if(0===(aa.length-ka.length)%2)return}else{a:{ka=oa[2];if(-1!==ka.indexOf(")"))for(var Ia=ka.length,Xa=0,Ya=0;Ya<Ia;Ya++)if("\\"===ka[Ya])Ya++;else if("("===ka[Ya])Xa++;else if(")"===ka[Ya]&&(Xa--,0>Xa)){ka=Ya;break a}ka=-1}-1<ka&&(Ia=(0===oa[0].indexOf("!")?5:4)+oa[1].length+
ka,oa[2]=oa[2].substring(0,ka),oa[0]=oa[0].substring(0,Ia).trim(),oa[3]="")}ka=oa[2];Ia="";if(this.options.pedantic){if(Xa=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ka))ka=Xa[1],Ia=Xa[3]}else Ia=oa[3]?oa[3].slice(1,-1):"";ka=ka.trim();/^</.test(ka)&&(ka=this.options.pedantic&&!/>$/.test(aa)?ka.slice(1):ka.slice(1,-1));return g(oa,{href:ka?ka.replace(this.rules.inline._escapes,"$1"):ka,title:Ia?Ia.replace(this.rules.inline._escapes,"$1"):Ia},oa[0],this.lexer)}};Na.reflink=function(oa,aa){var ka;if((ka=
this.rules.inline.reflink.exec(oa))||(ka=this.rules.inline.nolink.exec(oa)))return oa=(ka[2]||ka[1]).replace(/\s+/g," "),oa=aa[oa.toLowerCase()],oa&&oa.href?g(ka,oa,ka[0],this.lexer):(aa=ka[0].charAt(0),{type:"text",raw:aa,text:aa})};Na.emStrong=function(oa,aa,ka){void 0===ka&&(ka="");var Ia=this.rules.inline.emStrong.lDelim.exec(oa);if(Ia&&(!Ia[3]||!ka.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Xa=
Ia[1]||Ia[2]||"";if(!Xa||Xa&&(""===ka||this.rules.inline.punctuation.exec(ka))){var Ya=ka=Ia[0].length-1,mb=0,ib="*"===Ia[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;ib.lastIndex=0;for(aa=aa.slice(-1*oa.length+ka);null!=(Ia=ib.exec(aa));)if(Xa=Ia[1]||Ia[2]||Ia[3]||Ia[4]||Ia[5]||Ia[6])if(Xa=Xa.length,Ia[3]||Ia[4])Ya+=Xa;else if((Ia[5]||Ia[6])&&ka%3&&!((ka+Xa)%3))mb+=Xa;else if(Ya-=Xa,!(0<Ya)){Xa=Math.min(Xa,Xa+Ya+mb);if(Math.min(ka,Xa)%2)return aa=oa.slice(1,ka+
Ia.index+Xa),{type:"em",raw:oa.slice(0,ka+Ia.index+Xa+1),text:aa,tokens:this.lexer.inlineTokens(aa,[])};aa=oa.slice(2,ka+Ia.index+Xa-1);return{type:"strong",raw:oa.slice(0,ka+Ia.index+Xa+1),text:aa,tokens:this.lexer.inlineTokens(aa,[])}}}}};Na.codespan=function(oa){if(oa=this.rules.inline.code.exec(oa)){var aa=oa[2].replace(/\n/g," "),ka=/[^ ]/.test(aa),Ia=/^ /.test(aa)&&/ $/.test(aa);ka&&Ia&&(aa=aa.substring(1,aa.length-1));aa=C(aa,!0);return{type:"codespan",raw:oa[0],text:aa}}};Na.br=function(oa){if(oa=
this.rules.inline.br.exec(oa))return{type:"br",raw:oa[0]}};Na.del=function(oa){if(oa=this.rules.inline.del.exec(oa))return{type:"del",raw:oa[0],text:oa[2],tokens:this.lexer.inlineTokens(oa[2],[])}};Na.autolink=function(oa,aa){if(oa=this.rules.inline.autolink.exec(oa)){if("@"===oa[2]){aa=C(this.options.mangle?aa(oa[1]):oa[1]);var ka="mailto:"+aa}else ka=aa=C(oa[1]);return{type:"link",raw:oa[0],text:aa,href:ka,tokens:[{type:"text",raw:aa,text:aa}]}}};Na.url=function(oa,aa){if(oa=this.rules.inline.url.exec(oa)){if("@"===
oa[2]){aa=C(this.options.mangle?aa(oa[0]):oa[0]);var ka="mailto:"+aa}else{do aa=oa[0],oa[0]=this.rules.inline._backpedal.exec(oa[0])[0];while(aa!==oa[0]);aa=C(oa[0]);ka="www."===oa[1]?"http://"+aa:aa}return{type:"link",raw:oa[0],text:aa,href:ka,tokens:[{type:"text",raw:aa,text:aa}]}}};Na.inlineText=function(oa,aa){if(oa=this.rules.inline.text.exec(oa))return aa=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(oa[0]):C(oa[0]):oa[0]:C(this.options.smartypants?
aa(oa[0]):oa[0]),{type:"text",raw:oa[0],text:aa}};return ta}(),U={exec:function(){}},ja=function(ta,Na){ta=ta.source||ta;Na=Na||"";var oa={replace:function(aa,ka){ka=ka.source||ka;ka=ka.replace(G,"$1");ta=ta.replace(aa,ka);return oa},getRegex:function(){return new RegExp(ta,Na)}};return oa},ba={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,
heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:\x3c(script|pre|style|textarea)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|\x3c(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|\x3c/(?!script|pre|style|textarea)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:U,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};ba.def=ja(ba.def).replace("label",ba._label).replace("title",ba._title).getRegex();ba.bullet=/(?:[*+-]|\d{1,9}[.)])/;ba.listItemStart=ja(/^( *)(bull) */).replace("bull",
ba.bullet).getRegex();ba.list=ja(ba.list).replace(/bull/g,ba.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+ba.def.source+")").getRegex();ba._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
ba._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;ba.html=ja(ba.html,"i").replace("comment",ba._comment).replace("tag",ba._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();ba.paragraph=ja(ba._paragraph).replace("hr",ba.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|textarea|!--)").replace("tag",ba._tag).getRegex();ba.blockquote=ja(ba.blockquote).replace("paragraph",ba.paragraph).getRegex();ba.normal=R({},ba);ba.gfm=R({},ba.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});ba.gfm.table=ja(ba.gfm.table).replace("hr",ba.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote",
" {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|textarea|!--)").replace("tag",ba._tag).getRegex();ba.pedantic=R({},ba.normal,{html:ja("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",ba._comment).replace(/tag/g,
"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,paragraph:ja(ba.normal._paragraph).replace("hr",ba.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",ba.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html",
"").getRegex()});var ia={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:U,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[punct*](_+)(?=[\s]|$)|[^punct*_\s](_+)(?=[punct*\s]|$)|[punct*\s](_+)(?=[^punct*_\s])|[\s](_+)(?=[punct*])|[punct*](_+)(?=[punct*])/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:U,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};ia.punctuation=ja(ia.punctuation).replace(/punctuation/g,ia._punctuation).getRegex();ia.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;ia.escapedEmSt=/\\\*|\\_/g;ia._comment=ja(ba._comment).replace("(?:--\x3e|$)","--\x3e").getRegex();ia.emStrong.lDelim=
ja(ia.emStrong.lDelim).replace(/punct/g,ia._punctuation).getRegex();ia.emStrong.rDelimAst=ja(ia.emStrong.rDelimAst,"g").replace(/punct/g,ia._punctuation).getRegex();ia.emStrong.rDelimUnd=ja(ia.emStrong.rDelimUnd,"g").replace(/punct/g,ia._punctuation).getRegex();ia._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ia._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ia._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
ia.autolink=ja(ia.autolink).replace("scheme",ia._scheme).replace("email",ia._email).getRegex();ia._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ia.tag=ja(ia.tag).replace("comment",ia._comment).replace("attribute",ia._attribute).getRegex();ia._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ia._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ia._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ia.link=ja(ia.link).replace("label",
ia._label).replace("href",ia._href).replace("title",ia._title).getRegex();ia.reflink=ja(ia.reflink).replace("label",ia._label).getRegex();ia.reflinkSearch=ja(ia.reflinkSearch,"g").replace("reflink",ia.reflink).replace("nolink",ia.nolink).getRegex();ia.normal=R({},ia);ia.pedantic=R({},ia.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ja(/^!?\[(label)\]\((.*?)\)/).replace("label",ia._label).getRegex(),reflink:ja(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ia._label).getRegex()});ia.gfm=R({},ia.normal,{escape:ja(ia.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});ia.gfm.url=ja(ia.gfm.url,"i").replace("email",ia.gfm._extended_email).getRegex();ia.breaks=R({},ia.gfm,{br:ja(ia.br).replace("{2,}","*").getRegex(),text:ja(ia.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});
var za=e,Wa=function(ta,Na){if(1>Na)return"";for(var oa="";1<Na;)Na&1&&(oa+=ta),Na>>=1,ta+=ta;return oa+ta};U=function(){function ta(oa){this.tokens=[];this.tokens.links=Object.create(null);this.options=oa||za;this.options.tokenizer=this.options.tokenizer||new N;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;this.tokenizer.lexer=this;this.inlineQueue=[];this.state={inLink:!1,inRawBlock:!1,top:!0};oa={block:ba.normal,inline:ia.normal};this.options.pedantic?(oa.block=ba.pedantic,
oa.inline=ia.pedantic):this.options.gfm&&(oa.block=ba.gfm,oa.inline=this.options.breaks?ia.breaks:ia.gfm);this.tokenizer.rules=oa}ta.lex=function(oa,aa){return(new ta(aa)).lex(oa)};ta.lexInline=function(oa,aa){return(new ta(aa)).inlineTokens(oa)};var Na=ta.prototype;Na.lex=function(oa){oa=oa.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");for(this.blockTokens(oa,this.tokens);oa=this.inlineQueue.shift();)this.inlineTokens(oa.src,oa.tokens);return this.tokens};Na.blockTokens=function(oa,aa){var ka=this;
void 0===aa&&(aa=[]);this.options.pedantic&&(oa=oa.replace(/^ +$/gm,""));for(var Ia,Xa,Ya,mb;oa;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(ib){return(Ia=ib.call({lexer:ka},oa,aa))?(oa=oa.substring(Ia.raw.length),aa.push(Ia),!0):!1})))if(Ia=this.tokenizer.space(oa))oa=oa.substring(Ia.raw.length),Ia.type&&aa.push(Ia);else if(Ia=this.tokenizer.code(oa))oa=oa.substring(Ia.raw.length),Xa=aa[aa.length-1],!Xa||"paragraph"!==Xa.type&&"text"!==
Xa.type?aa.push(Ia):(Xa.raw+="\n"+Ia.raw,Xa.text+="\n"+Ia.text,this.inlineQueue[this.inlineQueue.length-1].src=Xa.text);else if(Ia=this.tokenizer.fences(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.heading(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.hr(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.blockquote(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.list(oa))oa=oa.substring(Ia.raw.length),
aa.push(Ia);else if(Ia=this.tokenizer.html(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.def(oa))oa=oa.substring(Ia.raw.length),Xa=aa[aa.length-1],!Xa||"paragraph"!==Xa.type&&"text"!==Xa.type?this.tokens.links[Ia.tag]||(this.tokens.links[Ia.tag]={href:Ia.href,title:Ia.title}):(Xa.raw+="\n"+Ia.raw,Xa.text+="\n"+Ia.raw,this.inlineQueue[this.inlineQueue.length-1].src=Xa.text);else if(Ia=this.tokenizer.table(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.lheading(oa))oa=
oa.substring(Ia.raw.length),aa.push(Ia);else if(Ya=oa,this.options.extensions&&this.options.extensions.startBlock&&function(){var ib=Infinity,Eb=oa.slice(1),Zb=void 0;ka.options.extensions.startBlock.forEach(function(Gc){Zb=Gc.call({lexer:this},Eb);"number"===typeof Zb&&0<=Zb&&(ib=Math.min(ib,Zb))});Infinity>ib&&0<=ib&&(Ya=oa.substring(0,ib+1))}(),this.state.top&&(Ia=this.tokenizer.paragraph(Ya)))Xa=aa[aa.length-1],mb&&"paragraph"===Xa.type?(Xa.raw+="\n"+Ia.raw,Xa.text+="\n"+Ia.text,this.inlineQueue.pop(),
this.inlineQueue[this.inlineQueue.length-1].src=Xa.text):aa.push(Ia),mb=Ya.length!==oa.length,oa=oa.substring(Ia.raw.length);else if(Ia=this.tokenizer.text(oa))oa=oa.substring(Ia.raw.length),(Xa=aa[aa.length-1])&&"text"===Xa.type?(Xa.raw+="\n"+Ia.raw,Xa.text+="\n"+Ia.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Xa.text):aa.push(Ia);else if(oa)if(Xa="Infinite loop on byte: "+oa.charCodeAt(0),this.options.silent){console.error(Xa);break}else throw Error(Xa);this.state.top=
!0;return aa};Na.inline=function(oa,aa){this.inlineQueue.push({src:oa,tokens:aa})};Na.inlineTokens=function(oa,aa){var ka=this;void 0===aa&&(aa=[]);var Ia,Xa,Ya=oa,mb;if(this.tokens.links){var ib=Object.keys(this.tokens.links);if(0<ib.length)for(;null!=(Xa=this.tokenizer.rules.inline.reflinkSearch.exec(Ya));)ib.includes(Xa[0].slice(Xa[0].lastIndexOf("[")+1,-1))&&(Ya=Ya.slice(0,Xa.index)+"["+Wa("a",Xa[0].length-2)+"]"+Ya.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Xa=this.tokenizer.rules.inline.blockSkip.exec(Ya));)Ya=
Ya.slice(0,Xa.index)+"["+Wa("a",Xa[0].length-2)+"]"+Ya.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Xa=this.tokenizer.rules.inline.escapedEmSt.exec(Ya));)Ya=Ya.slice(0,Xa.index)+"++"+Ya.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;oa;){Eb||(mb="");var Eb=!1;if(!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Gc){return(Ia=Gc.call({lexer:ka},oa,aa))?(oa=oa.substring(Ia.raw.length),aa.push(Ia),!0):!1})))if(Ia=
this.tokenizer.escape(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.tag(oa))oa=oa.substring(Ia.raw.length),(Xa=aa[aa.length-1])&&"text"===Ia.type&&"text"===Xa.type?(Xa.raw+=Ia.raw,Xa.text+=Ia.text):aa.push(Ia);else if(Ia=this.tokenizer.link(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.reflink(oa,this.tokens.links))oa=oa.substring(Ia.raw.length),(Xa=aa[aa.length-1])&&"text"===Ia.type&&"text"===Xa.type?(Xa.raw+=Ia.raw,Xa.text+=Ia.text):aa.push(Ia);
else if(Ia=this.tokenizer.emStrong(oa,Ya,mb))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.codespan(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.br(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.del(oa))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(Ia=this.tokenizer.autolink(oa,c))oa=oa.substring(Ia.raw.length),aa.push(Ia);else if(!this.state.inLink&&(Ia=this.tokenizer.url(oa,c)))oa=oa.substring(Ia.raw.length),aa.push(Ia);
else{var Zb=oa;this.options.extensions&&this.options.extensions.startInline&&function(){var Gc=Infinity,xc=oa.slice(1),Ic=void 0;ka.options.extensions.startInline.forEach(function(rc){Ic=rc.call({lexer:this},xc);"number"===typeof Ic&&0<=Ic&&(Gc=Math.min(Gc,Ic))});Infinity>Gc&&0<=Gc&&(Zb=oa.substring(0,Gc+1))}();if(Ia=this.tokenizer.inlineText(Zb,b))oa=oa.substring(Ia.raw.length),"_"!==Ia.raw.slice(-1)&&(mb=Ia.raw.slice(-1)),Eb=!0,(Xa=aa[aa.length-1])&&"text"===Xa.type?(Xa.raw+=Ia.raw,Xa.text+=Ia.text):
aa.push(Ia);else if(oa)if(Ya="Infinite loop on byte: "+oa.charCodeAt(0),this.options.silent){console.error(Ya);break}else throw Error(Ya);}}return aa};k(ta,null,[{key:"rules",get:function(){return{block:ba,inline:ia}}}]);return ta}();var hb=e,Ja=function(ta,Na,oa){if(ta){try{var aa=decodeURIComponent(l(oa)).replace(L,"").toLowerCase()}catch(ka){return null}if(0===aa.indexOf("javascript:")||0===aa.indexOf("vbscript:")||0===aa.indexOf("data:"))return null}Na&&!O.test(oa)&&(ta=Na,V[" "+ta]||(S.test(ta)?
V[" "+ta]=ta+"/":V[" "+ta]=f(ta,"/",!0)),ta=V[" "+ta],Na=-1===ta.indexOf(":"),oa="//"===oa.substring(0,2)?Na?oa:ta.replace(ca,"$1")+oa:"/"===oa.charAt(0)?Na?oa:ta.replace(ea,"$1")+oa:ta+oa);try{oa=encodeURI(oa).replace(/%25/g,"%")}catch(ka){return null}return oa},qa=function(){function ta(oa){this.options=oa||hb}var Na=ta.prototype;Na.code=function(oa,aa,ka){aa=(aa||"").match(/\S*/)[0];if(this.options.highlight){var Ia=this.options.highlight(oa,aa);null!=Ia&&Ia!==oa&&(ka=!0,oa=Ia)}oa=oa.replace(/\n$/,
"")+"\n";return aa?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+T(aa,!0)+'"\x3e'+(ka?oa:T(oa,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(ka?oa:T(oa,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Na.blockquote=function(oa){return"\x3cblockquote\x3e\n"+oa+"\x3c/blockquote\x3e\n"};Na.html=function(oa){return oa};Na.heading=function(oa,aa,ka,Ia){return this.options.headerIds?"\x3ch"+aa+' id\x3d"'+this.options.headerPrefix+Ia.slug(ka)+'"\x3e'+oa+"\x3c/h"+aa+"\x3e\n":"\x3ch"+aa+"\x3e"+
oa+"\x3c/h"+aa+"\x3e\n"};Na.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};Na.list=function(oa,aa,ka){var Ia=aa?"ol":"ul";return"\x3c"+Ia+(aa&&1!==ka?' start\x3d"'+ka+'"':"")+"\x3e\n"+oa+"\x3c/"+Ia+"\x3e\n"};Na.listitem=function(oa){return"\x3cli\x3e"+oa+"\x3c/li\x3e\n"};Na.checkbox=function(oa){return"\x3cinput "+(oa?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?" /":"")+"\x3e "};Na.paragraph=function(oa){return"\x3cp\x3e"+oa+"\x3c/p\x3e\n"};
Na.table=function(oa,aa){aa&&(aa="\x3ctbody\x3e"+aa+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+oa+"\x3c/thead\x3e\n"+aa+"\x3c/table\x3e\n"};Na.tablerow=function(oa){return"\x3ctr\x3e\n"+oa+"\x3c/tr\x3e\n"};Na.tablecell=function(oa,aa){var ka=aa.header?"th":"td";return(aa.align?"\x3c"+ka+' align\x3d"'+aa.align+'"\x3e':"\x3c"+ka+"\x3e")+oa+"\x3c/"+ka+"\x3e\n"};Na.strong=function(oa){return"\x3cstrong\x3e"+oa+"\x3c/strong\x3e"};Na.em=function(oa){return"\x3cem\x3e"+oa+"\x3c/em\x3e"};Na.codespan=
function(oa){return"\x3ccode\x3e"+oa+"\x3c/code\x3e"};Na.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};Na.del=function(oa){return"\x3cdel\x3e"+oa+"\x3c/del\x3e"};Na.link=function(oa,aa,ka){oa=Ja(this.options.sanitize,this.options.baseUrl,oa);if(null===oa)return ka;oa='\x3ca href\x3d"'+T(oa)+'"';aa&&(oa+=' title\x3d"'+aa+'"');return oa+("\x3e"+ka+"\x3c/a\x3e")};Na.image=function(oa,aa,ka){oa=Ja(this.options.sanitize,this.options.baseUrl,oa);if(null===oa)return ka;oa='\x3cimg src\x3d"'+
oa+'" alt\x3d"'+ka+'"';aa&&(oa+=' title\x3d"'+aa+'"');return oa+=this.options.xhtml?"/\x3e":"\x3e"};Na.text=function(oa){return oa};return ta}(),Da=function(){function ta(){}var Na=ta.prototype;Na.strong=function(oa){return oa};Na.em=function(oa){return oa};Na.codespan=function(oa){return oa};Na.del=function(oa){return oa};Na.html=function(oa){return oa};Na.text=function(oa){return oa};Na.link=function(oa,aa,ka){return""+ka};Na.image=function(oa,aa,ka){return""+ka};Na.br=function(){return""};return ta}(),
va=function(){function ta(){this.seen={}}var Na=ta.prototype;Na.serialize=function(oa){return oa.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Na.getNextSafeSlug=function(oa,aa){var ka=oa,Ia=0;if(this.seen.hasOwnProperty(ka)){Ia=this.seen[oa];do Ia++,ka=oa+"-"+Ia;while(this.seen.hasOwnProperty(ka))}aa||(this.seen[oa]=Ia,this.seen[ka]=0);return ka};Na.slug=function(oa,aa){void 0===aa&&(aa={});oa=this.serialize(oa);
return this.getNextSafeSlug(oa,aa.dryrun)};return ta}(),sa=e;ja=function(){function ta(oa){this.options=oa||sa;this.options.renderer=this.options.renderer||new qa;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Da;this.slugger=new va}ta.parse=function(oa,aa){return(new ta(aa)).parse(oa)};ta.parseInline=function(oa,aa){return(new ta(aa)).parseInline(oa)};var Na=ta.prototype;Na.parse=function(oa,aa){void 0===aa&&(aa=!0);var ka="",Ia,Xa,Ya,mb=oa.length;for(Ia=
0;Ia<mb;Ia++){var ib=oa[Ia];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ib.type]){var Eb=this.options.extensions.renderers[ib.type].call({parser:this},ib);if(!1!==Eb||!"space hr heading code table blockquote list html paragraph text".split(" ").includes(ib.type)){ka+=Eb||"";continue}}switch(ib.type){case "space":continue;case "hr":ka+=this.renderer.hr();continue;case "heading":ka+=this.renderer.heading(this.parseInline(ib.tokens),ib.depth,l(this.parseInline(ib.tokens,
this.textRenderer)),this.slugger);continue;case "code":ka+=this.renderer.code(ib.text,ib.lang,ib.escaped);continue;case "table":var Zb=Ya="";var Gc=ib.header.length;for(Eb=0;Eb<Gc;Eb++)Zb+=this.renderer.tablecell(this.parseInline(ib.header[Eb].tokens),{header:!0,align:ib.align[Eb]});Ya+=this.renderer.tablerow(Zb);var xc="";Gc=ib.rows.length;for(Eb=0;Eb<Gc;Eb++){var Ic=ib.rows[Eb];Zb="";var rc=Ic.length;for(Xa=0;Xa<rc;Xa++)Zb+=this.renderer.tablecell(this.parseInline(Ic[Xa].tokens),{header:!1,align:ib.align[Xa]});
xc+=this.renderer.tablerow(Zb)}ka+=this.renderer.table(Ya,xc);continue;case "blockquote":xc=this.parse(ib.tokens);ka+=this.renderer.blockquote(xc);continue;case "list":Xa=ib.ordered;rc=ib.start;Ic=ib.loose;Gc=ib.items.length;xc="";for(Eb=0;Eb<Gc;Eb++){Ya=ib.items[Eb];var jd=Ya.checked;var Bb=Ya.task;Zb="";if(Ya.task){var tb=this.renderer.checkbox(jd);Ic?0<Ya.tokens.length&&"paragraph"===Ya.tokens[0].type?(Ya.tokens[0].text=tb+" "+Ya.tokens[0].text,Ya.tokens[0].tokens&&0<Ya.tokens[0].tokens.length&&
"text"===Ya.tokens[0].tokens[0].type&&(Ya.tokens[0].tokens[0].text=tb+" "+Ya.tokens[0].tokens[0].text)):Ya.tokens.unshift({type:"text",text:tb}):Zb+=tb}Zb+=this.parse(Ya.tokens,Ic);xc+=this.renderer.listitem(Zb,Bb,jd)}ka+=this.renderer.list(xc,Xa,rc);continue;case "html":ka+=this.renderer.html(ib.text);continue;case "paragraph":ka+=this.renderer.paragraph(this.parseInline(ib.tokens));continue;case "text":for(xc=ib.tokens?this.parseInline(ib.tokens):ib.text;Ia+1<mb&&"text"===oa[Ia+1].type;)ib=oa[++Ia],
xc+="\n"+(ib.tokens?this.parseInline(ib.tokens):ib.text);ka+=aa?this.renderer.paragraph(xc):xc;continue;default:oa='Token with "'+ib.type+'" type was not found.';if(this.options.silent){console.error(oa);return}throw Error(oa);}}return ka};Na.parseInline=function(oa,aa){aa=aa||this.renderer;var ka="",Ia,Xa=oa.length;for(Ia=0;Ia<Xa;Ia++){var Ya=oa[Ia];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Ya.type]){var mb=this.options.extensions.renderers[Ya.type].call({parser:this},
Ya);if(!1!==mb||!"escape html link image strong em codespan br del text".split(" ").includes(Ya.type)){ka+=mb||"";continue}}switch(Ya.type){case "escape":ka+=aa.text(Ya.text);break;case "html":ka+=aa.html(Ya.text);break;case "link":ka+=aa.link(Ya.href,Ya.title,this.parseInline(Ya.tokens,aa));break;case "image":ka+=aa.image(Ya.href,Ya.title,Ya.text);break;case "strong":ka+=aa.strong(this.parseInline(Ya.tokens,aa));break;case "em":ka+=aa.em(this.parseInline(Ya.tokens,aa));break;case "codespan":ka+=
aa.codespan(Ya.text);break;case "br":ka+=aa.br();break;case "del":ka+=aa.del(this.parseInline(Ya.tokens,aa));break;case "text":ka+=aa.text(Ya.text);break;default:oa='Token with "'+Ya.type+'" type was not found.';if(this.options.silent){console.error(oa);return}throw Error(oa);}}return ka};return ta}();var xa=U,ma=ja,Ea=R,Ua=function(ta){ta&&ta.sanitize&&!ta.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
ab=T;a.options=a.setOptions=function(ta){Ea(a.defaults,ta);e=a.defaults;return a};a.getDefaults=m;a.defaults=e;a.use=function(){for(var ta=arguments.length,Na=Array(ta),oa=0;oa<ta;oa++)Na[oa]=arguments[oa];var aa=Ea.apply(void 0,[{}].concat(Na)),ka=a.defaults.extensions||{renderers:{},childTokens:{}},Ia;Na.forEach(function(Xa){Xa.extensions&&(Ia=!0,Xa.extensions.forEach(function(mb){if(!mb.name)throw Error("extension name required");if(mb.renderer){var ib=ka.renderers?ka.renderers[mb.name]:null;ka.renderers[mb.name]=
ib?function(){for(var Eb=arguments.length,Zb=Array(Eb),Gc=0;Gc<Eb;Gc++)Zb[Gc]=arguments[Gc];Eb=mb.renderer.apply(this,Zb);!1===Eb&&(Eb=ib.apply(this,Zb));return Eb}:mb.renderer}if(mb.tokenizer){if(!mb.level||"block"!==mb.level&&"inline"!==mb.level)throw Error("extension level must be 'block' or 'inline'");ka[mb.level]?ka[mb.level].unshift(mb.tokenizer):ka[mb.level]=[mb.tokenizer];mb.start&&("block"===mb.level?ka.startBlock?ka.startBlock.push(mb.start):ka.startBlock=[mb.start]:"inline"===mb.level&&
(ka.startInline?ka.startInline.push(mb.start):ka.startInline=[mb.start]))}mb.childTokens&&(ka.childTokens[mb.name]=mb.childTokens)}));Xa.renderer&&function(){var mb=a.defaults.renderer||new qa,ib=function(Zb){var Gc=mb[Zb];mb[Zb]=function(){for(var xc=arguments.length,Ic=Array(xc),rc=0;rc<xc;rc++)Ic[rc]=arguments[rc];xc=Xa.renderer[Zb].apply(mb,Ic);!1===xc&&(xc=Gc.apply(mb,Ic));return xc}},Eb;for(Eb in Xa.renderer)ib(Eb);aa.renderer=mb}();Xa.tokenizer&&function(){var mb=a.defaults.tokenizer||new N,
ib=function(Zb){var Gc=mb[Zb];mb[Zb]=function(){for(var xc=arguments.length,Ic=Array(xc),rc=0;rc<xc;rc++)Ic[rc]=arguments[rc];xc=Xa.tokenizer[Zb].apply(mb,Ic);!1===xc&&(xc=Gc.apply(mb,Ic));return xc}},Eb;for(Eb in Xa.tokenizer)ib(Eb);aa.tokenizer=mb}();if(Xa.walkTokens){var Ya=a.defaults.walkTokens;aa.walkTokens=function(mb){Xa.walkTokens.call(this,mb);Ya&&Ya.call(this,mb)}}Ia&&(aa.extensions=ka);a.setOptions(aa)})};a.walkTokens=function(ta,Na){var oa=function(){var ka=aa.value;Na.call(a,ka);switch(ka.type){case "table":for(var Ia=
u(ka.header),Xa;!(Xa=Ia()).done;)a.walkTokens(Xa.value.tokens,Na);for(Ia=u(ka.rows);!(Xa=Ia()).done;){Xa=u(Xa.value);for(var Ya;!(Ya=Xa()).done;)a.walkTokens(Ya.value.tokens,Na)}break;case "list":a.walkTokens(ka.items,Na);break;default:a.defaults.extensions&&a.defaults.extensions.childTokens&&a.defaults.extensions.childTokens[ka.type]?a.defaults.extensions.childTokens[ka.type].forEach(function(mb){a.walkTokens(ka[mb],Na)}):ka.tokens&&a.walkTokens(ka.tokens,Na)}};ta=u(ta);for(var aa;!(aa=ta()).done;)oa()};
a.parseInline=function(ta,Na){if("undefined"===typeof ta||null===ta)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof ta)throw Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ta)+", string expected");Na=Ea({},a.defaults,Na||{});Ua(Na);try{var oa=xa.lexInline(ta,Na);Na.walkTokens&&a.walkTokens(oa,Na.walkTokens);return ma.parseInline(oa,Na)}catch(aa){aa.message+="\nPlease report this to https://github.com/markedjs/marked.";
if(Na.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+ab(aa.message+"",!0)+"\x3c/pre\x3e";throw aa;}};a.Parser=ma;a.parser=ma.parse;a.Renderer=qa;a.TextRenderer=Da;a.Lexer=xa;a.lexer=xa.lex;a.Tokenizer=N;a.Slugger=va;return a.parse=a})};
shadow$provide[14]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(sa,xa,ma){sa.fields=xa||[];sa.fname=ma;return sa}function p(sa){return null==sa?null:sa.fields}function A(sa){return 1===sa.length?V(sa[0]):S(sa)}function u(sa){throw Error(sa);}function m(sa){function xa(){ma.push(ta+sa.substring(Na,oa));
ta="";Na=oa+1}const ma=[],Ea=sa.length;let Ua=null,ab=0,ta="",Na,oa,aa;sa+="";for(Na=oa=0;oa<Ea;++oa)(aa=sa[oa],"\\"===aa)?(ta+=sa.substring(Na,oa),ta+=sa.substring(++oa,++oa),Na=oa):aa===Ua?(xa(),Ua=null,ab=-1):Ua||(Na===ab&&'"'===aa?(Na=oa+1,Ua=aa):Na===ab&&"'"===aa?(Na=oa+1,Ua=aa):"."!==aa||ab?"["===aa?(oa>Na&&xa(),ab=Na=oa+1):"]"===aa&&(ab||u("Access path missing open bracket: "+sa),0<ab&&xa(),ab=0,Na=oa+1):oa>Na?xa():Na=oa+1);ab&&u("Access path missing closing bracket: "+sa);Ua&&u("Access path missing closing quote: "+
sa);oa>Na&&(oa++,xa());return ma}function l(sa,xa,ma){const Ea=m(sa);sa=1===Ea.length?Ea[0]:sa;return k((ma&&ma.get||A)(Ea),[sa],xa||sa)}function f(sa,xa,ma){xa=[xa].concat([].slice.call(ma));console[sa].apply(console,xa)}function g(sa){return sa===Object(sa)}function d(sa,xa,ma,Ea){if("__proto__"!==xa){var Ua;if(g(ma)&&!C(ma))for(Ua in sa=g(sa[xa])?sa[xa]:sa[xa]={},ma)Ea&&(!0===Ea||Ea[Ua])?d(sa,Ua,ma[Ua]):"__proto__"!==Ua&&(sa[Ua]=ma[Ua]);else sa[xa]=ma}}function b(sa,xa){function ma(ab){Ea[ab.name]||
(Ea[ab.name]=1,Ua.push(ab))}if(null==sa)return xa;const Ea={},Ua=[];xa.forEach(ma);sa.forEach(ma);return Ua}function c(sa){return sa[sa.length-1]}function a(sa){return null==sa||""===sa?null:+sa}function e(sa,xa,ma,Ea){const Ua=ma(sa[0]);sa=ma(c(sa));xa*=sa-Ua;return[Ea(Ua-xa),Ea(sa-xa)]}function t(sa,xa,ma,Ea,Ua){const ab=Ea(sa[0]);sa=Ea(c(sa));xa=null!=xa?Ea(xa):(ab+sa)/2;return[Ua(xa+(ab-xa)*ma),Ua(xa+(sa-xa)*ma)]}function y(sa){return null!=sa?C(sa)?sa:[sa]:[]}function q(sa){return"function"===
typeof sa}function E(sa){for(let xa,ma,Ea=1,Ua=arguments.length;Ea<Ua;++Ea)for(ma in xa=arguments[Ea],xa)sa[ma]=xa[ma];return sa}function F(sa,xa){return qa.call(sa,xa)}function w(sa){return"[object Date]"===Object.prototype.toString.call(sa)}function D(sa){return"number"===typeof sa}function G(sa){return"string"===typeof sa}function L(sa,xa){let ma="";for(;0<=--xa;)ma+=sa;return ma}function O(sa){return C(sa)?"["+sa.map(O)+"]":g(sa)||G(sa)?JSON.stringify(sa).replace("\u2028","\\u2028").replace("\u2029",
"\\u2029"):sa}const V=sa=>function(xa){return xa[sa]},S=sa=>{const xa=sa.length;return function(ma){for(let Ea=0;Ea<xa;++Ea)ma=ma[sa[Ea]];return ma}},ca=l("id"),ea=k(sa=>sa,[],"identity"),T=k(()=>0,[],"zero"),R=k(()=>1,[],"one"),J=k(()=>!0,[],"true"),r=k(()=>!1,[],"false");var C=Array.isArray;const N=sa=>xa=>sa*Math.exp(xa),U=sa=>xa=>Math.log(sa*xa),ja=sa=>xa=>Math.sign(xa)*Math.log1p(Math.abs(xa/sa)),ba=sa=>xa=>Math.sign(xa)*Math.expm1(Math.abs(xa))*sa,ia=sa=>xa=>0>xa?-Math.pow(-xa,sa):Math.pow(xa,
sa),za=(sa,xa)=>(sa<xa||null==sa)&&null!=xa?-1:(sa>xa||null==xa)&&null!=sa?1:(xa=xa instanceof Date?+xa:xa,sa=sa instanceof Date?+sa:sa)!==sa&&xa===xa?-1:xa!==xa&&sa===sa?1:0,Wa=(sa,xa)=>1===sa.length?hb(sa[0],xa[0]):Ja(sa,xa,sa.length),hb=(sa,xa)=>function(ma,Ea){return za(sa(ma),sa(Ea))*xa},Ja=(sa,xa,ma)=>{xa.push(0);return function(Ea,Ua){var ab=0;let ta=-1;for(;0===ab&&++ta<ma;)ab=sa[ta],ab=za(ab(Ea),ab(Ua));return ab*xa[ta]}},qa=Object.prototype.hasOwnProperty,Da={},va=sa=>D(sa)?sa:w(sa)?sa:
Date.parse(sa);v.Debug=4;v.Error=1;v.Info=3;v.None=0;v.Warn=2;v.accessor=k;v.accessorFields=p;v.accessorName=function(sa){return null==sa?null:sa.fname};v.array=y;v.ascending=za;v.clampRange=function(sa,xa,ma){let Ea=sa[0];sa=sa[1];let Ua;sa<Ea&&(Ua=sa,sa=Ea,Ea=Ua);Ua=sa-Ea;return Ua>=ma-xa?[xa,ma]:[Ea=Math.min(Math.max(Ea,xa),ma-Ua),Ea+Ua]};v.compare=function(sa,xa,ma){ma=ma||{};xa=y(xa)||[];const Ea=[],Ua=[],ab={},ta=ma.comparator||Wa;y(sa).forEach((Na,oa)=>{null!=Na&&(Ea.push("descending"===xa[oa]?
-1:1),Ua.push(Na=q(Na)?Na:l(Na,null,ma)),(p(Na)||[]).forEach(aa=>ab[aa]=1))});return 0===Ua.length?null:k(ta(Ua,Ea),Object.keys(ab))};v.constant=function(sa){return q(sa)?sa:()=>sa};v.debounce=function(sa,xa){let ma;return Ea=>{ma&&clearTimeout(ma);ma=setTimeout(()=>(xa(Ea),ma=null),sa)}};v.error=u;v.extend=E;v.extent=function(sa,xa){let ma=0,Ea,Ua,ab,ta;if(sa&&(Ea=sa.length))if(null==xa){for(Ua=sa[ma];ma<Ea&&(null==Ua||Ua!==Ua);Ua=sa[++ma]);for(ab=ta=Ua;ma<Ea;++ma)Ua=sa[ma],null!=Ua&&(Ua<ab&&(ab=
Ua),Ua>ta&&(ta=Ua))}else{for(Ua=xa(sa[ma]);ma<Ea&&(null==Ua||Ua!==Ua);Ua=xa(sa[++ma]));for(ab=ta=Ua;ma<Ea;++ma)Ua=xa(sa[ma]),null!=Ua&&(Ua<ab&&(ab=Ua),Ua>ta&&(ta=Ua))}return[ab,ta]};v.extentIndex=function(sa,xa){const ma=sa.length;let Ea=-1,Ua,ab,ta,Na,oa;if(null==xa){for(;++Ea<ma;)if(ab=sa[Ea],null!=ab&&ab>=ab){Ua=ta=ab;break}if(Ea===ma)return[-1,-1];for(Na=oa=Ea;++Ea<ma;)ab=sa[Ea],null!=ab&&(Ua>ab&&(Ua=ab,Na=Ea),ta<ab&&(ta=ab,oa=Ea))}else{for(;++Ea<ma;)if(ab=xa(sa[Ea],Ea,sa),null!=ab&&ab>=ab){Ua=
ta=ab;break}if(Ea===ma)return[-1,-1];for(Na=oa=Ea;++Ea<ma;)ab=xa(sa[Ea],Ea,sa),null!=ab&&(Ua>ab&&(Ua=ab,Na=Ea),ta<ab&&(ta=ab,oa=Ea))}return[Na,oa]};v.falsy=r;v.fastmap=function(sa){function xa(ab){return F(ma,ab)&&ma[ab]!==Da}let ma={},Ea;const Ua={size:0,empty:0,object:ma,has:xa,get(ab){return xa(ab)?ma[ab]:void 0},set(ab,ta){xa(ab)||(++Ua.size,ma[ab]===Da&&--Ua.empty);ma[ab]=ta;return this},delete(ab){xa(ab)&&(--Ua.size,++Ua.empty,ma[ab]=Da);return this},clear(){Ua.size=Ua.empty=0;Ua.object=ma=
{}},test(ab){return arguments.length?(Ea=ab,Ua):Ea},clean(){const ab={};let ta=0;for(const Na in ma){const oa=ma[Na];oa===Da||Ea&&Ea(oa)||(ab[Na]=oa,++ta)}Ua.size=ta;Ua.empty=0;Ua.object=ma=ab}};sa&&Object.keys(sa).forEach(ab=>{Ua.set(ab,sa[ab])});return Ua};v.field=l;v.flush=function(sa,xa,ma,Ea,Ua,ab){if(!ma&&0!==ma)return ab;ma=+ma;let ta=sa[0],Na=c(sa);Na<ta&&(sa=ta,ta=Na,Na=sa);sa=Math.abs(xa-ta);xa=Math.abs(Na-xa);return sa<xa&&sa<=ma?Ea:xa<=ma?Ua:ab};v.hasOwnProperty=F;v.id=ca;v.identity=ea;
v.inherits=function(sa,xa,ma){xa=sa.prototype=Object.create(xa.prototype);Object.defineProperty(xa,"constructor",{value:sa,writable:!0,enumerable:!0,configurable:!0});return E(xa,ma)};v.inrange=function(sa,xa,ma,Ea){let Ua=xa[0];xa=xa[xa.length-1];let ab;Ua>xa&&(ab=Ua,Ua=xa,xa=ab);return(void 0===ma||ma?Ua<=sa:Ua<sa)&&(void 0===Ea||Ea?sa<=xa:sa<xa)};v.isArray=C;v.isBoolean=function(sa){return"boolean"===typeof sa};v.isDate=w;v.isFunction=q;v.isIterable=function(sa){return sa&&q(sa[Symbol.iterator])};
v.isNumber=D;v.isObject=g;v.isRegExp=function(sa){return"[object RegExp]"===Object.prototype.toString.call(sa)};v.isString=G;v.key=function(sa,xa,ma){sa&&(sa=xa?y(sa).map(ab=>ab.replace(/\\(.)/g,"$1")):y(sa));const Ea=sa&&sa.length,Ua=ma&&ma.get||A;ma=ab=>Ua(xa?[ab]:m(ab));if(Ea)if(1===Ea){const ab=ma(sa[0]);ma=function(ta){return""+ab(ta)}}else{const ab=sa.map(ma);ma=function(ta){let Na=""+ab[0](ta),oa=0;for(;++oa<Ea;)Na+="|"+ab[oa](ta);return Na}}else ma=function(){return""};return k(ma,sa,"key")};
v.lerp=function(sa,xa){const ma=sa[0];sa=c(sa);return(xa=+xa)?1===xa?sa:ma+xa*(sa-ma):ma};v.logger=function(sa,xa,ma=f){let Ea=sa||0;return{level(Ua){return arguments.length?(Ea=+Ua,this):Ea},error(){1<=Ea&&ma(xa||"error","ERROR",arguments);return this},warn(){2<=Ea&&ma(xa||"warn","WARN",arguments);return this},info(){3<=Ea&&ma(xa||"log","INFO",arguments);return this},debug(){4<=Ea&&ma(xa||"log","DEBUG",arguments);return this}}};v.lruCache=function(sa){sa=+sa||1E4;let xa,ma,Ea;const Ua=()=>{xa={};
ma={};Ea=0},ab=(ta,Na)=>{++Ea>sa&&(ma=xa,xa={},Ea=1);return xa[ta]=Na};Ua();return{clear:Ua,has:ta=>F(xa,ta)||F(ma,ta),get:ta=>F(xa,ta)?xa[ta]:F(ma,ta)?ab(ta,ma[ta]):void 0,set:(ta,Na)=>F(xa,ta)?xa[ta]=Na:ab(ta,Na)}};v.merge=function(sa,xa,ma,Ea){const Ua=xa.length,ab=ma.length;if(!ab)return xa;if(!Ua)return ma;Ea=Ea||new xa.constructor(Ua+ab);let ta=0,Na=0,oa=0;for(;ta<Ua&&Na<ab;++oa)Ea[oa]=0<sa(xa[ta],ma[Na])?ma[Na++]:xa[ta++];for(;ta<Ua;++ta,++oa)Ea[oa]=xa[ta];for(;Na<ab;++Na,++oa)Ea[oa]=ma[Na];
return Ea};v.mergeConfig=function(...sa){return sa.reduce((xa,ma)=>{for(const Ea in ma)"signals"===Ea?xa.signals=b(xa.signals,ma.signals):d(xa,Ea,ma[Ea],"legend"===Ea?{layout:1}:"style"===Ea?!0:null);return xa},{})};v.one=R;v.pad=function(sa,xa,ma,Ea){ma=ma||" ";sa+="";xa-=sa.length;return 0>=xa?sa:"left"===Ea?L(ma,xa)+sa:"center"===Ea?L(ma,~~(xa/2))+sa+L(ma,Math.ceil(xa/2)):sa+L(ma,xa)};v.panLinear=function(sa,xa){return e(sa,xa,a,ea)};v.panLog=function(sa,xa){var ma=Math.sign(sa[0]);return e(sa,
xa,U(ma),N(ma))};v.panPow=function(sa,xa,ma){return e(sa,xa,ia(ma),ia(1/ma))};v.panSymlog=function(sa,xa,ma){return e(sa,xa,ja(ma),ba(ma))};v.peek=c;v.quarter=function(sa){return 1+~~((new Date(sa)).getMonth()/3)};v.repeat=L;v.span=function(sa){return sa&&c(sa)-sa[0]||0};v.splitAccessPath=m;v.stringValue=O;v.toBoolean=function(sa){return null==sa||""===sa?null:sa&&"false"!==sa&&"0"!==sa?!!sa:!1};v.toDate=function(sa,xa){xa=xa||va;return null==sa||""===sa?null:xa(sa)};v.toNumber=a;v.toSet=function(sa){const xa=
{},ma=sa.length;for(let Ea=0;Ea<ma;++Ea)xa[sa[Ea]]=!0;return xa};v.toString=function(sa){return null==sa||""===sa?null:sa+""};v.truncate=function(sa,xa,ma,Ea){Ea=null!=Ea?Ea:"";sa+="";const Ua=sa.length,ab=Math.max(0,xa-Ea.length);return Ua<=xa?sa:"left"===ma?Ea+sa.slice(Ua-ab):"center"===ma?sa.slice(0,Math.ceil(ab/2))+Ea+sa.slice(Ua-~~(ab/2)):sa.slice(0,ab)+Ea};v.truthy=J;v.utcquarter=function(sa){return 1+~~((new Date(sa)).getUTCMonth()/3)};v.visitArray=function(sa,xa,ma){if(sa)if(xa){const Ea=
sa.length;for(let Ua=0;Ua<Ea;++Ua){const ab=xa(sa[Ua]);ab&&ma(ab,Ua,sa)}}else sa.forEach(ma)};v.writeConfig=d;v.zero=T;v.zoomLinear=function(sa,xa,ma){return t(sa,xa,ma,a,ea)};v.zoomLog=function(sa,xa,ma){const Ea=Math.sign(sa[0]);return t(sa,xa,ma,U(Ea),N(Ea))};v.zoomPow=function(sa,xa,ma,Ea){return t(sa,xa,ma,ia(Ea),ia(1/Ea))};v.zoomSymlog=function(sa,xa,ma,Ea){return t(sa,xa,ma,ja(Ea),ba(Ea))};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[15]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B):"function"===typeof define&&define.amd?define(["exports"],k):(v=v||self,k(v.topojson=v.topojson||{}))})(this,function(v){function k(a){return a}function p(a){if(null==a)return k;var e,t,y=a.scale[0],q=a.scale[1],E=a.translate[0],F=a.translate[1];return function(w,D){D||(e=t=0);D=2;var G=w.length,L=Array(G);L[0]=(e+=w[0])*y+E;for(L[1]=(t+=w[1])*q+F;D<G;)L[D]=w[D],++D;return L}}function A(a){function e(G){G=
y(G);G[0]<E&&(E=G[0]);G[0]>w&&(w=G[0]);G[1]<F&&(F=G[1]);G[1]>D&&(D=G[1])}function t(G){switch(G.type){case "GeometryCollection":G.geometries.forEach(t);break;case "Point":e(G.coordinates);break;case "MultiPoint":G.coordinates.forEach(e)}}var y=p(a.transform),q,E=Infinity,F=E,w=-E,D=-E;a.arcs.forEach(function(G){for(var L=-1,O=G.length,V;++L<O;)V=y(G[L],L),V[0]<E&&(E=V[0]),V[0]>w&&(w=V[0]),V[1]<F&&(F=V[1]),V[1]>D&&(D=V[1])});for(q in a.objects)t(a.objects[q]);return[E,F,w,D]}function u(a,e){var t=
e.id,y=e.bbox,q=null==e.properties?{}:e.properties;a=m(a,e);return null==t&&null==y?{type:"Feature",properties:q,geometry:a}:null==y?{type:"Feature",id:t,properties:q,geometry:a}:{type:"Feature",id:t,bbox:y,properties:q,geometry:a}}function m(a,e){function t(G){return w(G)}function y(G){for(var L=[],O=0,V=G.length;O<V;++O){var S=G[O],ca=L;ca.length&&ca.pop();for(var ea=D[0>S?~S:S],T=0,R=ea.length;T<R;++T)ca.push(w(ea[T],T));if(0>S)for(S=ca,ca=S.length,ea=ca-R;ea<--ca;)R=S[ea],S[ea++]=S[ca],S[ca]=
R}2>L.length&&L.push(L[0]);return L}function q(G){for(G=y(G);4>G.length;)G.push(G[0]);return G}function E(G){return G.map(q)}function F(G){var L=G.type;switch(L){case "GeometryCollection":return{type:L,geometries:G.geometries.map(F)};case "Point":G=w(G.coordinates);break;case "MultiPoint":G=G.coordinates.map(t);break;case "LineString":G=y(G.arcs);break;case "MultiLineString":G=G.arcs.map(y);break;case "Polygon":G=E(G.arcs);break;case "MultiPolygon":G=G.arcs.map(E);break;default:return null}return{type:L,
coordinates:G}}var w=p(a.transform),D=a.arcs;return F(e)}function l(a,e){function t(G){var L=a.arcs[0>G?~G:G],O=L[0];if(a.transform){var V=[0,0];L.forEach(function(S){V[0]+=S[0];V[1]+=S[1]})}else V=L[L.length-1];return 0>G?[V,O]:[O,V]}function y(G,L){for(var O in G){var V=G[O];delete L[V.start];delete V.start;delete V.end;V.forEach(function(S){q[0>S?~S:S]=1});w.push(V)}}var q={},E={},F={},w=[],D=-1;e.forEach(function(G,L){var O=a.arcs[0>G?~G:G];3>O.length&&!O[1][0]&&!O[1][1]&&(O=e[++D],e[D]=G,e[L]=
O)});e.forEach(function(G){var L=t(G),O=L[0],V=L[1];(L=F[O])?(delete F[L.end],L.push(G),L.end=V,(G=E[V])?(delete E[G.start],O=G===L?L:L.concat(G),E[O.start=L.start]=F[O.end=G.end]=O):E[L.start]=F[L.end]=L):(L=E[V])?(delete E[L.start],L.unshift(G),L.start=O,(G=F[O])?(delete F[G.end],O=G===L?L:G.concat(L),E[O.start=G.start]=F[O.end=L.end]=O):E[L.start]=F[L.end]=L):(L=[G],E[L.start=O]=F[L.end=V]=L)});y(F,E);y(E,F);e.forEach(function(G){q[0>G?~G:G]||w.push([G])});return w}function f(a,e,t){var y;if(1<
arguments.length)var q=g(a,e,t);else{var E=0;for(q=Array(y=a.arcs.length);E<y;++E)q[E]=E}return{type:"MultiLineString",arcs:l(a,q)}}function g(a,e,t){function y(L){var O=0>L?~L:L;(D[O]||(D[O]=[])).push({i:L,g:G})}function q(L){L.forEach(y)}function E(L){L.forEach(q)}function F(L){switch(G=L,L.type){case "GeometryCollection":L.geometries.forEach(F);break;case "LineString":q(L.arcs);break;case "MultiLineString":case "Polygon":E(L.arcs);break;case "MultiPolygon":L.arcs.forEach(E)}}var w=[],D=[],G;F(e);
D.forEach(null==t?function(L){w.push(L[0].i)}:function(L){t(L[0].g,L[L.length-1].g)&&w.push(L[0].i)});return w}function d(a,e){function t(D){switch(D.type){case "GeometryCollection":D.geometries.forEach(t);break;case "Polygon":y(D.arcs);break;case "MultiPolygon":D.arcs.forEach(y)}}function y(D){D.forEach(function(G){G.forEach(function(L){(E[L=0>L?~L:L]||(E[L]=[])).push(D)})});F.push(D)}function q(D){D=m(a,{type:"Polygon",arcs:[D]}).coordinates[0];for(var G=-1,L=D.length,O,V=D[L-1],S=0;++G<L;)O=V,
V=D[G],S+=O[0]*V[1]-O[1]*V[0];return Math.abs(S)}var E={},F=[],w=[];e.forEach(t);F.forEach(function(D){if(!D._){var G=[],L=[D];D._=1;for(w.push(G);D=L.pop();)G.push(D),D.forEach(function(O){O.forEach(function(V){E[0>V?~V:V].forEach(function(S){S._||(S._=1,L.push(S))})})})}});F.forEach(function(D){delete D._});return{type:"MultiPolygon",arcs:w.map(function(D){var G=[];D.forEach(function(S){S.forEach(function(ca){ca.forEach(function(ea){2>E[0>ea?~ea:ea].length&&G.push(ea)})})});G=l(a,G);if(1<(D=G.length))for(var L=
1,O=q(G[0]),V;L<D;++L)(V=q(G[L]))>O&&(O=G[0],G[0]=G[L],G[L]=O,O=V);return G}).filter(function(D){return 0<D.length})}}function b(a,e){for(var t=0,y=a.length;t<y;){var q=t+y>>>1;a[q]<e?t=q+1:y=q}return t}function c(a){if(null==a)return k;var e,t,y=a.scale[0],q=a.scale[1],E=a.translate[0],F=a.translate[1];return function(w,D){D||(e=t=0);D=2;var G=w.length,L=Array(G),O=Math.round((w[0]-E)/y),V=Math.round((w[1]-F)/q);L[0]=O-e;e=O;L[1]=V-t;for(t=V;D<G;)L[D]=w[D],++D;return L}}v.bbox=A;v.feature=function(a,
e){"string"===typeof e&&(e=a.objects[e]);return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(t){return u(a,t)})}:u(a,e)};v.merge=function(a){return m(a,d.apply(this,arguments))};v.mergeArcs=d;v.mesh=function(a){return m(a,f.apply(this,arguments))};v.meshArcs=f;v.neighbors=function(a){function e(ca,ea){ca.forEach(function(T){0>T&&(T=~T);var R=q[T];R?R.push(ea):q[T]=[ea]})}function t(ca,ea){ca.forEach(function(T){e(T,ea)})}function y(ca,ea){if("GeometryCollection"===
ca.type)ca.geometries.forEach(function(T){y(T,ea)});else if(ca.type in F)F[ca.type](ca.arcs,ea)}var q={},E=a.map(function(){return[]}),F={LineString:e,MultiLineString:t,Polygon:t,MultiPolygon:function(ca,ea){ca.forEach(function(T){t(T,ea)})}};a.forEach(y);for(var w in q){a=q[w];for(var D=a.length,G=0;G<D;++G)for(var L=G+1;L<D;++L){var O=a[G],V=a[L],S;(S=E[O])[w=b(S,V)]!==V&&S.splice(w,0,V);(S=E[V])[w=b(S,O)]!==O&&S.splice(w,0,O)}}return E};v.quantize=function(a,e){function t(O){return G(O)}function y(O){switch(O.type){case "GeometryCollection":var V=
{type:"GeometryCollection",geometries:O.geometries.map(y)};break;case "Point":V={type:"Point",coordinates:G(O.coordinates)};break;case "MultiPoint":V={type:"MultiPoint",coordinates:O.coordinates.map(t)};break;default:return O}null!=O.id&&(V.id=O.id);null!=O.bbox&&(V.bbox=O.bbox);null!=O.properties&&(V.properties=O.properties);return V}if(a.transform)throw Error("already quantized");if(e&&e.scale)var q=a.bbox;else{if(!(2<=(D=Math.floor(e))))throw Error("n must be 2");q=a.bbox||A(a);e=q[0];var E=q[1],
F=q[2],w=q[3],D;e={scale:[F-e?(F-e)/(D-1):1,w-E?(w-E)/(D-1):1],translate:[e,E]}}var G=c(e),L;E=a.objects;F={};for(L in E)F[L]=y(E[L]);return{type:"Topology",bbox:q,transform:e,objects:F,arcs:a.arcs.map(function(O){var V=0,S=1,ca=O.length,ea,T=Array(ca);for(T[0]=G(O[0],0);++V<ca;)if((ea=G(O[V],V))[0]||ea[1])T[S++]=ea;1===S&&(T[S++]=[0,0]);T.length=S;return T})}};v.transform=p;v.untransform=c;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[16]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function p(aa){const ka=k.array(aa).slice(),Ia={};ka.length||k.error("Missing time unit.");ka.forEach(Xa=>{k.hasOwnProperty(G,Xa)?Ia[Xa]=1:k.error(`Invalid time unit: ${Xa}.`)});1<(Ia.week||Ia.day?1:0)+(Ia.quarter||Ia.month||
Ia.date?1:0)+(Ia.dayofyear?1:0)&&k.error(`Incompatible time units: ${aa}`);ka.sort((Xa,Ya)=>G[Xa]-G[Ya]);return ka}function A(aa,ka,Ia,Xa){function Ya(mb){return aa(mb=0===arguments.length?new Date:new Date(+mb)),mb}Ya.floor=function(mb){return aa(mb=new Date(+mb)),mb};Ya.ceil=function(mb){return aa(mb=new Date(mb-1)),ka(mb,1),aa(mb),mb};Ya.round=function(mb){var ib=Ya(mb),Eb=Ya.ceil(mb);return mb-ib<Eb-mb?ib:Eb};Ya.offset=function(mb,ib){return ka(mb=new Date(+mb),null==ib?1:Math.floor(ib)),mb};
Ya.range=function(mb,ib,Eb){var Zb=[],Gc;mb=Ya.ceil(mb);Eb=null==Eb?1:Math.floor(Eb);if(!(mb<ib&&0<Eb))return Zb;do Zb.push(Gc=new Date(+mb)),ka(mb,Eb),aa(mb);while(Gc<mb&&mb<ib);return Zb};Ya.filter=function(mb){return A(function(ib){if(ib>=ib)for(;aa(ib),!mb(ib);)ib.setTime(ib-1)},function(ib,Eb){if(ib>=ib)if(0>Eb)for(;0>=++Eb;)for(;ka(ib,-1),!mb(ib););else for(;0<=--Eb;)for(;ka(ib,1),!mb(ib););})};Ia&&(Ya.count=function(mb,ib){O.setTime(+mb);V.setTime(+ib);aa(O);aa(V);return Math.floor(Ia(O,V))},
Ya.every=function(mb){mb=Math.floor(mb);return isFinite(mb)&&0<mb?1<mb?Ya.filter(Xa?function(ib){return 0===Xa(ib)%mb}:function(ib){return 0===Ya.count(0,ib)%mb}):Ya:null});return Ya}function u(aa){return A(function(ka){ka.setDate(ka.getDate()-(ka.getDay()+7-aa)%7);ka.setHours(0,0,0,0)},function(ka,Ia){ka.setDate(ka.getDate()+7*Ia)},function(ka,Ia){return(Ia-ka-6E4*(Ia.getTimezoneOffset()-ka.getTimezoneOffset()))/ca})}function m(aa){return A(function(ka){ka.setUTCDate(ka.getUTCDate()-(ka.getUTCDay()+
7-aa)%7);ka.setUTCHours(0,0,0,0)},function(ka,Ia){ka.setUTCDate(ka.getUTCDate()+7*Ia)},function(ka,Ia){return(Ia-ka)/ca})}function l(aa,ka){return null==aa||null==ka?NaN:aa<ka?-1:aa>ka?1:aa>=ka?0:NaN}function f(aa){function ka(mb,ib,Eb=0,Zb=mb.length){if(Eb<Zb){if(0!==Xa(ib,ib))return Zb;do{const Gc=Eb+Zb>>>1;0>Ya(mb[Gc],ib)?Eb=Gc+1:Zb=Gc}while(Eb<Zb)}return Eb}let Ia=aa,Xa=aa,Ya=aa;2!==aa.length&&(Ia=(mb,ib)=>aa(mb)-ib,Xa=l,Ya=(mb,ib)=>l(aa(mb),ib));return{left:ka,center:function(mb,ib,Eb=0,Zb=mb.length){Zb=
ka(mb,ib,Eb,Zb-1);return Zb>Eb&&Ia(mb[Zb-1],ib)>-Ia(mb[Zb],ib)?Zb-1:Zb},right:function(mb,ib,Eb=0,Zb=mb.length){if(Eb<Zb){if(0!==Xa(ib,ib))return Zb;do{const Gc=Eb+Zb>>>1;0>=Ya(mb[Gc],ib)?Eb=Gc+1:Zb=Gc}while(Eb<Zb)}return Eb}}}function g(aa,ka,Ia){var Xa=Math.abs(ka-aa)/Math.max(0,Ia);Ia=Math.pow(10,Math.floor(Math.log(Xa)/Math.LN10));Xa/=Ia;Xa>=hb?Ia*=10:Xa>=Ja?Ia*=5:Xa>=qa&&(Ia*=2);return ka<aa?-Ia:Ia}function d(aa){Da.setFullYear(aa);Da.setMonth(0);Da.setDate(1);Da.setHours(0,0,0,0);return Da}
function b(aa){return J.count(d(aa.getFullYear())-1,aa)}function c(aa){return r.count(d(aa.getFullYear())-1,aa)}function a(aa,ka,Ia,Xa,Ya,mb,ib){return 0<=aa&&100>aa?(ka=new Date(-1,ka,Ia,Xa,Ya,mb,ib),ka.setFullYear(aa),ka):new Date(aa,ka,Ia,Xa,Ya,mb,ib)}function e(aa){const ka=Date.UTC(aa.getUTCFullYear(),0,1);return ba.count(ka-1,aa)}function t(aa){const ka=Date.UTC(aa.getUTCFullYear(),0,1);return ia.count(ka-1,aa)}function y(aa){Da.setTime(Date.UTC(aa,0,1));return Da.getUTCDay()}function q(aa,
ka,Ia,Xa,Ya,mb,ib){return 0<=aa&&100>aa?(aa=new Date(Date.UTC(-1,ka,Ia,Xa,Ya,mb,ib)),aa.setUTCFullYear(Ia.y),aa):new Date(Date.UTC(aa,ka,Ia,Xa,Ya,mb,ib))}function E(aa,ka,Ia,Xa,Ya){const mb=ka||1,ib=k.peek(aa);ka=(tb,dc,Yb)=>{Yb=Yb||tb;return F(Ia[Yb],Xa[Yb],tb===ib&&mb,dc)};const Eb=new Date;aa=k.toSet(aa);const Zb=aa.year?ka("year"):k.constant(2012),Gc=aa.month?ka("month"):aa.quarter?ka("quarter"):k.zero,xc=aa.week&&aa.day?ka("day",1,"weekday"):aa.week?ka("week",1):aa.day?ka("day",1):aa.date?ka("date",
1):aa.dayofyear?ka("dayofyear",1):k.one,Ic=aa.hours?ka("hours"):k.zero,rc=aa.minutes?ka("minutes"):k.zero,jd=aa.seconds?ka("seconds"):k.zero,Bb=aa.milliseconds?ka("milliseconds"):k.zero;return function(tb){Eb.setTime(+tb);tb=Zb(Eb);return Ya(tb,Gc(Eb),xc(Eb,tb),Ic(Eb),rc(Eb),jd(Eb),Bb(Eb))}}function F(aa,ka,Ia,Xa){const Ya=1>=Ia?aa:Xa?(mb,ib)=>Xa+Ia*Math.floor((aa(mb,ib)-Xa)/Ia):(mb,ib)=>Ia*Math.floor(aa(mb,ib)/Ia);return ka?(mb,ib)=>ka(Ya(mb,ib),ib):Ya}function w(aa,ka,Ia){return ka+7*aa-(Ia+6)%
7}const D="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),G=D.reduce((aa,ka,Ia)=>(aa[ka]=1+Ia,aa),{}),L={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var O=new Date,V=new Date,S=A(function(){},function(aa,ka){aa.setTime(+aa+ka)},function(aa,ka){return ka-aa});S.every=function(aa){aa=
Math.floor(aa);return isFinite(aa)&&0<aa?1<aa?A(function(ka){ka.setTime(Math.floor(ka/aa)*aa)},function(ka,Ia){ka.setTime(+ka+Ia*aa)},function(ka,Ia){return(Ia-ka)/aa}):S:null};const ca=6048E5;var ea=A(function(aa){aa.setTime(aa-aa.getMilliseconds())},function(aa,ka){aa.setTime(+aa+1E3*ka)},function(aa,ka){return(ka-aa)/1E3},function(aa){return aa.getUTCSeconds()}),T=A(function(aa){aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds())},function(aa,ka){aa.setTime(+aa+6E4*ka)},function(aa,ka){return(ka-
aa)/6E4},function(aa){return aa.getMinutes()}),R=A(function(aa){aa.setTime(aa-aa.getMilliseconds()-1E3*aa.getSeconds()-6E4*aa.getMinutes())},function(aa,ka){aa.setTime(+aa+36E5*ka)},function(aa,ka){return(ka-aa)/36E5},function(aa){return aa.getHours()}),J=A(aa=>aa.setHours(0,0,0,0),(aa,ka)=>aa.setDate(aa.getDate()+ka),(aa,ka)=>(ka-aa-6E4*(ka.getTimezoneOffset()-aa.getTimezoneOffset()))/864E5,aa=>aa.getDate()-1),r=u(0);u(1);u(2);u(3);u(4);u(5);u(6);var C=A(function(aa){aa.setDate(1);aa.setHours(0,
0,0,0)},function(aa,ka){aa.setMonth(aa.getMonth()+ka)},function(aa,ka){return ka.getMonth()-aa.getMonth()+12*(ka.getFullYear()-aa.getFullYear())},function(aa){return aa.getMonth()}),N=A(function(aa){aa.setMonth(0,1);aa.setHours(0,0,0,0)},function(aa,ka){aa.setFullYear(aa.getFullYear()+ka)},function(aa,ka){return ka.getFullYear()-aa.getFullYear()},function(aa){return aa.getFullYear()});N.every=function(aa){return isFinite(aa=Math.floor(aa))&&0<aa?A(function(ka){ka.setFullYear(Math.floor(ka.getFullYear()/
aa)*aa);ka.setMonth(0,1);ka.setHours(0,0,0,0)},function(ka,Ia){ka.setFullYear(ka.getFullYear()+Ia*aa)}):null};var U=A(function(aa){aa.setUTCSeconds(0,0)},function(aa,ka){aa.setTime(+aa+6E4*ka)},function(aa,ka){return(ka-aa)/6E4},function(aa){return aa.getUTCMinutes()}),ja=A(function(aa){aa.setUTCMinutes(0,0,0)},function(aa,ka){aa.setTime(+aa+36E5*ka)},function(aa,ka){return(ka-aa)/36E5},function(aa){return aa.getUTCHours()}),ba=A(function(aa){aa.setUTCHours(0,0,0,0)},function(aa,ka){aa.setUTCDate(aa.getUTCDate()+
ka)},function(aa,ka){return(ka-aa)/864E5},function(aa){return aa.getUTCDate()-1}),ia=m(0);m(1);m(2);m(3);m(4);m(5);m(6);var za=A(function(aa){aa.setUTCDate(1);aa.setUTCHours(0,0,0,0)},function(aa,ka){aa.setUTCMonth(aa.getUTCMonth()+ka)},function(aa,ka){return ka.getUTCMonth()-aa.getUTCMonth()+12*(ka.getUTCFullYear()-aa.getUTCFullYear())},function(aa){return aa.getUTCMonth()}),Wa=A(function(aa){aa.setUTCMonth(0,1);aa.setUTCHours(0,0,0,0)},function(aa,ka){aa.setUTCFullYear(aa.getUTCFullYear()+ka)},
function(aa,ka){return ka.getUTCFullYear()-aa.getUTCFullYear()},function(aa){return aa.getUTCFullYear()});Wa.every=function(aa){return isFinite(aa=Math.floor(aa))&&0<aa?A(function(ka){ka.setUTCFullYear(Math.floor(ka.getUTCFullYear()/aa)*aa);ka.setUTCMonth(0,1);ka.setUTCHours(0,0,0,0)},function(ka,Ia){ka.setUTCFullYear(ka.getUTCFullYear()+Ia*aa)}):null};var hb=Math.sqrt(50),Ja=Math.sqrt(10),qa=Math.sqrt(2);const Da=new Date,va={year:aa=>aa.getFullYear(),quarter:aa=>Math.floor(aa.getMonth()/3),month:aa=>
aa.getMonth(),date:aa=>aa.getDate(),hours:aa=>aa.getHours(),minutes:aa=>aa.getMinutes(),seconds:aa=>aa.getSeconds(),milliseconds:aa=>aa.getMilliseconds(),dayofyear:aa=>b(aa),week:aa=>c(aa),weekday:(aa,ka)=>w(c(aa),aa.getDay(),d(ka).getDay()),day:(aa,ka)=>w(1,aa.getDay(),d(ka).getDay())},sa={quarter:aa=>3*aa,week:(aa,ka)=>w(aa,0,d(ka).getDay())},xa={year:aa=>aa.getUTCFullYear(),quarter:aa=>Math.floor(aa.getUTCMonth()/3),month:aa=>aa.getUTCMonth(),date:aa=>aa.getUTCDate(),hours:aa=>aa.getUTCHours(),
minutes:aa=>aa.getUTCMinutes(),seconds:aa=>aa.getUTCSeconds(),milliseconds:aa=>aa.getUTCMilliseconds(),dayofyear:aa=>e(aa),week:aa=>t(aa),day:(aa,ka)=>w(1,aa.getUTCDay(),y(ka)),weekday:(aa,ka)=>w(t(aa),aa.getUTCDay(),y(ka))},ma={quarter:aa=>3*aa,week:(aa,ka)=>w(aa,0,y(ka))},Ea={year:N,quarter:C.every(3),month:C,week:r,date:J,day:J,dayofyear:J,hours:R,minutes:T,seconds:ea,milliseconds:S},Ua={year:Wa,quarter:za.every(3),month:za,week:ia,date:ba,day:ba,dayofyear:ba,hours:ja,minutes:U,seconds:ea,milliseconds:S};
ea=6048E5;T=2592E6;const ab=31536E6,ta="year month date hours minutes seconds milliseconds".split(" ");R=ta.slice(0,-1);C=R.slice(0,-1);N=C.slice(0,-1);U=N.slice(0,-1);ja=["year","month"];const Na=["year"],oa=[[R,1,1E3],[R,5,5E3],[R,15,15E3],[R,30,3E4],[C,1,6E4],[C,5,3E5],[C,15,9E5],[C,30,18E5],[N,1,36E5],[N,3,108E5],[N,6,216E5],[N,12,432E5],[U,1,864E5],[["year","week"],1,ea],[ja,1,T],[ja,3,3*T],[Na,1,ab]];v.DATE="date";v.DAY="day";v.DAYOFYEAR="dayofyear";v.HOURS="hours";v.MILLISECONDS="milliseconds";
v.MINUTES="minutes";v.MONTH="month";v.QUARTER="quarter";v.SECONDS="seconds";v.TIME_UNITS=D;v.WEEK="week";v.YEAR="year";v.dayofyear=function(aa){return b(new Date(aa))};v.timeBin=function(aa){var ka=aa.extent;aa=aa.maxbins||40;var Ia=Math.abs(k.span(ka))/aa;let Xa=f(Ya=>Ya[2]).right(oa,Ia);Xa===oa.length?(Ia=Na,ka=g(ka[0]/ab,ka[1]/ab,aa)):Xa?(Xa=oa[Ia/oa[Xa-1][2]<oa[Xa][2]/Ia?Xa-1:Xa],Ia=Xa[0],ka=Xa[1]):(Ia=ta,ka=Math.max(g(ka[0],ka[1],aa),1));return{units:Ia,step:ka}};v.timeFloor=function(aa,ka){return E(aa,
ka||1,va,sa,a)};v.timeInterval=function(aa){return Ea[aa]};v.timeOffset=function(aa,ka,Ia){return(aa=Ea[aa])?aa.offset(ka,Ia):void 0};v.timeSequence=function(aa,ka,Ia,Xa){return(aa=Ea[aa])?aa.range(ka,Ia,Xa):void 0};v.timeUnitSpecifier=function(aa,ka){ka=k.extend({},L,ka);aa=p(aa);const Ia=aa.length;let Xa="",Ya,mb,ib;for(Ya=0;Ya<Ia;)for(mb=aa.length;mb>Ya;--mb)if(ib=aa.slice(Ya,mb).join("-"),null!=ka[ib]){Xa+=ka[ib];Ya=mb;break}return Xa.trim()};v.timeUnits=p;v.utcFloor=function(aa,ka){return E(aa,
ka||1,xa,ma,q)};v.utcInterval=function(aa){return Ua[aa]};v.utcOffset=function(aa,ka,Ia){return(aa=Ua[aa])?aa.offset(ka,Ia):void 0};v.utcSequence=function(aa,ka,Ia,Xa){return(aa=Ua[aa])?aa.range(ka,Ia,Xa):void 0};v.utcdayofyear=function(aa){return e(new Date(aa))};v.utcweek=function(aa){return t(new Date(aa))};v.week=function(aa){return c(new Date(aa))};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[17]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(16),z(14)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,p){function A(Gb){const Wb={};return Uc=>Wb[Uc]||(Wb[Uc]=Gb(Uc))}function u(Gb,Wb){if(0>(Wb=(Gb=Wb?Gb.toExponential(Wb-1):Gb.toExponential()).indexOf("e")))return null;var Uc=Gb.slice(0,Wb);return[1<
Uc.length?Uc[0]+Uc.slice(2):Uc,+Gb.slice(Wb+1)]}function m(Gb){return Gb=u(Math.abs(Gb)),Gb?Gb[1]:NaN}function l(Gb,Wb){return function(Uc,ie){for(var oe=Uc.length,Vd=[],Qd=0,se=Gb[0],cf=0;0<oe&&0<se;){cf+se+1>ie&&(se=Math.max(1,ie-cf));Vd.push(Uc.substring(oe-=se,oe+se));if((cf+=se+1)>ie)break;se=Gb[Qd=(Qd+1)%Gb.length]}return Vd.reverse().join(Wb)}}function f(Gb){return function(Wb){return Wb.replace(/[0-9]/g,function(Uc){return Gb[+Uc]})}}function g(Gb){if(!(Wb=me.exec(Gb)))throw Error("invalid format: "+
Gb);var Wb;return new d({fill:Wb[1],align:Wb[2],sign:Wb[3],symbol:Wb[4],zero:Wb[5],width:Wb[6],comma:Wb[7],precision:Wb[8]&&Wb[8].slice(1),trim:Wb[9],type:Wb[10]})}function d(Gb){this.fill=void 0===Gb.fill?" ":Gb.fill+"";this.align=void 0===Gb.align?"\x3e":Gb.align+"";this.sign=void 0===Gb.sign?"-":Gb.sign+"";this.symbol=void 0===Gb.symbol?"":Gb.symbol+"";this.zero=!!Gb.zero;this.width=void 0===Gb.width?void 0:+Gb.width;this.comma=!!Gb.comma;this.precision=void 0===Gb.precision?void 0:+Gb.precision;
this.trim=!!Gb.trim;this.type=void 0===Gb.type?"":Gb.type+""}function b(Gb,Wb){Wb=u(Gb,Wb);if(!Wb)return Gb+"";Gb=Wb[0];Wb=Wb[1];return 0>Wb?"0."+Array(-Wb).join("0")+Gb:Gb.length>Wb+1?Gb.slice(0,Wb+1)+"."+Gb.slice(Wb+1):Gb+Array(Wb-Gb.length+2).join("0")}function c(Gb){return Gb}function a(Gb){function Wb(ua){function vb(Nc){var mc=ad,Qc=Lc,jb,Ib;if("c"===Zc)Qc=Ec(Nc)+Qc,Nc="";else{Nc=+Nc;var Qb=0>Nc||0>1/Nc;Nc=isNaN(Nc)?qf:Ec(Math.abs(Nc),ac);if(yc){var Rb=Nc.length,na=1,Ma=-1;a:for(;na<Rb;++na)switch(Nc[na]){case ".":Ma=
jb=na;break;case "0":0===Ma&&(Ma=na);jb=na;break;default:if(!+Nc[na])break a;0<Ma&&(Ma=0)}Nc=0<Ma?Nc.slice(0,Ma)+Nc.slice(jb+1):Nc}Qb&&0===+Nc&&"+"!==la&&(Qb=!1);mc=(Qb?"("===la?la:cf:"-"===la||"("===la?"":la)+mc;Qc=("s"===Zc?Mb[8+Ga/3]:"")+Qc+(Qb&&"("===la?")":"");if(tc)for(Qb=-1,jb=Nc.length;++Qb<jb;)if(Ib=Nc.charCodeAt(Qb),48>Ib||57<Ib){Qc=(46===Ib?Vd+Nc.slice(Qb+1):Nc.slice(Qb))+Qc;Nc=Nc.slice(0,Qb);break}}Fb&&!fb&&(Nc=Uc(Nc,Infinity));Ib=mc.length+Nc.length+Qc.length;Qb=Ib<xb?Array(xb-Ib+1).join(Oa):
"";Fb&&fb&&(Nc=Uc(Qb+Nc,Qb.length?xb-Qc.length:Infinity),Qb="");switch(ic){case "\x3c":Nc=mc+Nc+Qc+Qb;break;case "\x3d":Nc=mc+Qb+Nc+Qc;break;case "^":Nc=Qb.slice(0,Ib=Qb.length>>1)+mc+Nc+Qc+Qb.slice(Ib);break;default:Nc=Qb+mc+Nc+Qc}return Qd(Nc)}ua=g(ua);var Oa=ua.fill,ic=ua.align,la=ua.sign,Qa=ua.symbol,fb=ua.zero,xb=ua.width,Fb=ua.comma,ac=ua.precision,yc=ua.trim,Zc=ua.type;"n"===Zc?(Fb=!0,Zc="g"):$a[Zc]||(void 0===ac&&(ac=12),yc=!0,Zc="g");if(fb||"0"===Oa&&"\x3d"===ic)fb=!0,Oa="0",ic="\x3d";var ad=
"$"===Qa?ie:"#"===Qa&&/[boxX]/.test(Zc)?"0"+Zc.toLowerCase():"",Lc="$"===Qa?oe:/[%p]/.test(Zc)?se:"",Ec=$a[Zc],tc=/[defgprs%]/.test(Zc);ac=void 0===ac?6:/[gprs]/.test(Zc)?Math.max(1,Math.min(21,ac)):Math.max(0,Math.min(20,ac));vb.toString=function(){return ua+""};return vb}var Uc=void 0===Gb.grouping||void 0===Gb.thousands?c:l(ub.call(Gb.grouping,Number),Gb.thousands+""),ie=void 0===Gb.currency?"":Gb.currency[0]+"",oe=void 0===Gb.currency?"":Gb.currency[1]+"",Vd=void 0===Gb.decimal?".":Gb.decimal+
"",Qd=void 0===Gb.numerals?c:f(ub.call(Gb.numerals,String)),se=void 0===Gb.percent?"%":Gb.percent+"",cf=void 0===Gb.minus?"":Gb.minus+"",qf=void 0===Gb.nan?"NaN":Gb.nan+"";return{format:Wb,formatPrefix:function(ua,vb){var Oa=Wb((ua=g(ua),ua.type="f",ua));ua=3*Math.max(-8,Math.min(8,Math.floor(m(vb)/3)));var ic=Math.pow(10,-ua),la=Mb[8+ua/3];return function(Qa){return Oa(ic*Qa)+la}}}}function e(Gb,Wb){return Uc=>{Uc=Gb(Uc);const ie=Uc.indexOf(Wb);if(0>ie)return Uc;a:{var oe=Uc.lastIndexOf("e");if(!(0<
oe)){for(oe=Uc.length;--oe>ie;){var Vd=Uc.charCodeAt(oe);if(48<=Vd&&57>=Vd){oe+=1;break a}}oe=void 0}}for(Vd=oe<Uc.length?Uc.slice(oe):"";--oe>ie;)if("0"!==Uc[oe]){++oe;break}return Uc.slice(0,oe)+Vd}}function t(Gb){const Wb=A(Gb.format),Uc=Gb.formatPrefix;return{format:Wb,formatPrefix:Uc,formatFloat(ie){ie=g(ie||",");if(null==ie.precision){ie.precision=12;switch(ie.type){case "%":ie.precision-=2;break;case "e":--ie.precision}return e(Wb(ie),Wb(".1f")(1)[1])}return Wb(ie)},formatSpan(ie,oe,Vd,Qd){Qd=
g(null==Qd?",f":Qd);var se=Math.abs(oe-ie)/Math.max(0,Vd);Vd=Math.pow(10,Math.floor(Math.log(se)/Math.LN10));se/=Vd;se>=af?Vd*=10:se>=Se?Vd*=5:se>=ue&&(Vd*=2);Vd=oe<ie?-Vd:Vd;ie=Math.max(Math.abs(ie),Math.abs(oe));if(null==Qd.precision)switch(Qd.type){case "s":return oe=isNaN,Vd=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(m(ie)/3)))-m(Math.abs(Vd))),oe(oe=Vd)||(Qd.precision=oe),Uc(Qd,ie);case "":case "e":case "g":case "p":case "r":oe=isNaN;Vd=Math.abs(Vd);ie=Math.abs(ie)-Vd;ie=Math.max(0,m(ie)-
m(Vd))+1;oe(oe=ie)||(Qd.precision=oe-("e"===Qd.type));break;case "f":case "%":isNaN(oe=Math.max(0,-m(Math.abs(Vd))))||(Qd.precision=oe-2*("%"===Qd.type))}return Wb(Qd)}}}function y(){return Kc=t({format:oc,formatPrefix:Mc})}function q(Gb){return t(a(Gb))}function E(Gb){return arguments.length?Kc=q(Gb):Kc}function F(Gb,Wb,Uc,ie){function oe(Vd){return Gb(Vd=0===arguments.length?new Date:new Date(+Vd)),Vd}oe.floor=function(Vd){return Gb(Vd=new Date(+Vd)),Vd};oe.ceil=function(Vd){return Gb(Vd=new Date(Vd-
1)),Wb(Vd,1),Gb(Vd),Vd};oe.round=function(Vd){var Qd=oe(Vd),se=oe.ceil(Vd);return Vd-Qd<se-Vd?Qd:se};oe.offset=function(Vd,Qd){return Wb(Vd=new Date(+Vd),null==Qd?1:Math.floor(Qd)),Vd};oe.range=function(Vd,Qd,se){var cf=[],qf;Vd=oe.ceil(Vd);se=null==se?1:Math.floor(se);if(!(Vd<Qd&&0<se))return cf;do cf.push(qf=new Date(+Vd)),Wb(Vd,se),Gb(Vd);while(qf<Vd&&Vd<Qd);return cf};oe.filter=function(Vd){return F(function(Qd){if(Qd>=Qd)for(;Gb(Qd),!Vd(Qd);)Qd.setTime(Qd-1)},function(Qd,se){if(Qd>=Qd)if(0>se)for(;0>=
++se;)for(;Wb(Qd,-1),!Vd(Qd););else for(;0<=--se;)for(;Wb(Qd,1),!Vd(Qd););})};Uc&&(oe.count=function(Vd,Qd){gc.setTime(+Vd);fd.setTime(+Qd);Gb(gc);Gb(fd);return Math.floor(Uc(gc,fd))},oe.every=function(Vd){Vd=Math.floor(Vd);return isFinite(Vd)&&0<Vd?1<Vd?oe.filter(ie?function(Qd){return 0===ie(Qd)%Vd}:function(Qd){return 0===oe.count(0,Qd)%Vd}):oe:null});return oe}function w(Gb){return F(function(Wb){Wb.setDate(Wb.getDate()-(Wb.getDay()+7-Gb)%7);Wb.setHours(0,0,0,0)},function(Wb,Uc){Wb.setDate(Wb.getDate()+
7*Uc)},function(Wb,Uc){return(Uc-Wb-6E4*(Uc.getTimezoneOffset()-Wb.getTimezoneOffset()))/6048E5})}function D(Gb){return F(function(Wb){Wb.setUTCDate(Wb.getUTCDate()-(Wb.getUTCDay()+7-Gb)%7);Wb.setUTCHours(0,0,0,0)},function(Wb,Uc){Wb.setUTCDate(Wb.getUTCDate()+7*Uc)},function(Wb,Uc){return(Uc-Wb)/6048E5})}function G(Gb){if(0<=Gb.y&&100>Gb.y){var Wb=new Date(-1,Gb.m,Gb.d,Gb.H,Gb.M,Gb.S,Gb.L);Wb.setFullYear(Gb.y);return Wb}return new Date(Gb.y,Gb.m,Gb.d,Gb.H,Gb.M,Gb.S,Gb.L)}function L(Gb){if(0<=Gb.y&&
100>Gb.y){var Wb=new Date(Date.UTC(-1,Gb.m,Gb.d,Gb.H,Gb.M,Gb.S,Gb.L));Wb.setUTCFullYear(Gb.y);return Wb}return new Date(Date.UTC(Gb.y,Gb.m,Gb.d,Gb.H,Gb.M,Gb.S,Gb.L))}function O(Gb,Wb,Uc){return{y:Gb,m:Wb,d:Uc,H:0,M:0,S:0,L:0}}function V(Gb){function Wb(tc,Nc){return function(mc){var Qc=[],jb=-1,Ib=0,Qb=tc.length,Rb,na;for(mc instanceof Date||(mc=new Date(+mc));++jb<Qb;)if(37===tc.charCodeAt(jb)){Qc.push(tc.slice(Ib,jb));null!=(Ib=sc[Rb=tc.charAt(++jb)])?Rb=tc.charAt(++jb):Ib="e"===Rb?" ":"0";if(na=
Nc[Rb])Rb=na(mc,Ib);Qc.push(Rb);Ib=jb+1}Qc.push(tc.slice(Ib,jb));return Qc.join("")}}function Uc(tc,Nc){return function(mc){var Qc=O(1900,void 0,1);if(ie(Qc,tc,mc+="",0)!=mc.length)return null;if("Q"in Qc)return new Date(Qc.Q);if("s"in Qc)return new Date(1E3*Qc.s+("L"in Qc?Qc.L:0));!Nc||"Z"in Qc||(Qc.Z=0);"p"in Qc&&(Qc.H=Qc.H%12+12*Qc.p);void 0===Qc.m&&(Qc.m="q"in Qc?Qc.q:0);if("V"in Qc){if(1>Qc.V||53<Qc.V)return null;"w"in Qc||(Qc.w=1);if("Z"in Qc){mc=L(O(Qc.y,0,1));var jb=mc.getUTCDay();mc=4<jb||
0===jb?xe.ceil(mc):xe(mc);mc=ze.offset(mc,7*(Qc.V-1));Qc.y=mc.getUTCFullYear();Qc.m=mc.getUTCMonth();Qc.d=mc.getUTCDate()+(Qc.w+6)%7}else mc=G(O(Qc.y,0,1)),jb=mc.getDay(),mc=4<jb||0===jb?Od.ceil(mc):Od(mc),mc=nd.offset(mc,7*(Qc.V-1)),Qc.y=mc.getFullYear(),Qc.m=mc.getMonth(),Qc.d=mc.getDate()+(Qc.w+6)%7}else if("W"in Qc||"U"in Qc)"w"in Qc||(Qc.w="u"in Qc?Qc.u%7:"W"in Qc?1:0),jb="Z"in Qc?L(O(Qc.y,0,1)).getUTCDay():G(O(Qc.y,0,1)).getDay(),Qc.m=0,Qc.d="W"in Qc?(Qc.w+6)%7+7*Qc.W-(jb+5)%7:Qc.w+7*Qc.U-(jb+
6)%7;return"Z"in Qc?(Qc.H+=Qc.Z/100|0,Qc.M+=Qc.Z%100,L(Qc)):G(Qc)}}function ie(tc,Nc,mc,Qc){for(var jb=0,Ib=Nc.length,Qb=mc.length,Rb;jb<Ib;){if(Qc>=Qb)return-1;Rb=Nc.charCodeAt(jb++);if(37===Rb){if(Rb=Nc.charAt(jb++),Rb=Ec[Rb in sc?Nc.charAt(jb++):Rb],!Rb||0>(Qc=Rb(tc,mc,Qc)))return-1}else if(Rb!=mc.charCodeAt(Qc++))return-1}return Qc}var oe=Gb.dateTime,Vd=Gb.date,Qd=Gb.time,se=Gb.periods,cf=Gb.days,qf=Gb.shortDays,ua=Gb.months,vb=Gb.shortMonths,Oa=ea(se),ic=T(se),la=ea(cf),Qa=T(cf),fb=ea(qf),xb=
T(qf),Fb=ea(ua),ac=T(ua),yc=ea(vb),Zc=T(vb),ad={a:function(tc){return qf[tc.getDay()]},A:function(tc){return cf[tc.getDay()]},b:function(tc){return vb[tc.getMonth()]},B:function(tc){return ua[tc.getMonth()]},c:null,d:Ua,e:Ua,f:aa,g:Ic,G:jd,H:ab,I:ta,j:Na,L:oa,m:ka,M:Ia,p:function(tc){return se[+(12<=tc.getHours())]},q:function(tc){return 1+~~(tc.getMonth()/3)},Q:ld,s:rd,S:Xa,u:Ya,U:mb,V:Eb,w:Zb,W:Gc,x:null,X:null,y:xc,Y:rc,Z:Bb,"%":dd},Lc={a:function(tc){return qf[tc.getUTCDay()]},A:function(tc){return cf[tc.getUTCDay()]},
b:function(tc){return vb[tc.getUTCMonth()]},B:function(tc){return ua[tc.getUTCMonth()]},c:null,d:tb,e:tb,f:qc,g:Ub,G:Jc,H:dc,I:Yb,j:hc,L:vc,m:Dc,M:Yc,p:function(tc){return se[+(12<=tc.getUTCHours())]},q:function(tc){return 1+~~(tc.getUTCMonth()/3)},Q:ld,s:rd,S:Hd,u:Fa,U:Ca,V:db,w:ob,W:Ab,x:null,X:null,y:Ob,Y:$b,Z:Wc,"%":dd},Ec={a:function(tc,Nc,mc){return(Nc=fb.exec(Nc.slice(mc)))?(tc.w=xb.get(Nc[0].toLowerCase()),mc+Nc[0].length):-1},A:function(tc,Nc,mc){return(Nc=la.exec(Nc.slice(mc)))?(tc.w=Qa.get(Nc[0].toLowerCase()),
mc+Nc[0].length):-1},b:function(tc,Nc,mc){return(Nc=yc.exec(Nc.slice(mc)))?(tc.m=Zc.get(Nc[0].toLowerCase()),mc+Nc[0].length):-1},B:function(tc,Nc,mc){return(Nc=Fb.exec(Nc.slice(mc)))?(tc.m=ac.get(Nc[0].toLowerCase()),mc+Nc[0].length):-1},c:function(tc,Nc,mc){return ie(tc,oe,Nc,mc)},d:Wa,e:Wa,f:sa,g:ja,G:U,H:Ja,I:Ja,j:hb,L:va,m:za,M:qa,p:function(tc,Nc,mc){return(Nc=Oa.exec(Nc.slice(mc)))?(tc.p=ic.get(Nc[0].toLowerCase()),mc+Nc[0].length):-1},q:ia,Q:ma,s:Ea,S:Da,u:J,U:r,V:C,w:R,W:N,x:function(tc,
Nc,mc){return ie(tc,Vd,Nc,mc)},X:function(tc,Nc,mc){return ie(tc,Qd,Nc,mc)},y:ja,Y:U,Z:ba,"%":xa};ad.x=Wb(Vd,ad);ad.X=Wb(Qd,ad);ad.c=Wb(oe,ad);Lc.x=Wb(Vd,Lc);Lc.X=Wb(Qd,Lc);Lc.c=Wb(oe,Lc);return{format:function(tc){var Nc=Wb(tc+="",ad);Nc.toString=function(){return tc};return Nc},parse:function(tc){var Nc=Uc(tc+="",!1);Nc.toString=function(){return tc};return Nc},utcFormat:function(tc){var Nc=Wb(tc+="",Lc);Nc.toString=function(){return tc};return Nc},utcParse:function(tc){var Nc=Uc(tc+="",!0);Nc.toString=
function(){return tc};return Nc}}}function S(Gb,Wb,Uc){var ie=0>Gb?"-":"";Gb=(ie?-Gb:Gb)+"";var oe=Gb.length;return ie+(oe<Uc?Array(Uc-oe+1).join(Wb)+Gb:Gb)}function ca(Gb){return Gb.replace(Bd,"\\$\x26")}function ea(Gb){return new RegExp("^(?:"+Gb.map(ca).join("|")+")","i")}function T(Gb){return new Map(Gb.map((Wb,Uc)=>[Wb.toLowerCase(),Uc]))}function R(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+1)))?(Gb.w=+Wb[0],Uc+Wb[0].length):-1}function J(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+1)))?(Gb.u=
+Wb[0],Uc+Wb[0].length):-1}function r(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+2)))?(Gb.U=+Wb[0],Uc+Wb[0].length):-1}function C(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+2)))?(Gb.V=+Wb[0],Uc+Wb[0].length):-1}function N(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+2)))?(Gb.W=+Wb[0],Uc+Wb[0].length):-1}function U(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+4)))?(Gb.y=+Wb[0],Uc+Wb[0].length):-1}function ja(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+2)))?(Gb.y=+Wb[0]+(68<+Wb[0]?1900:2E3),Uc+Wb[0].length):
-1}function ba(Gb,Wb,Uc){return(Wb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Wb.slice(Uc,Uc+6)))?(Gb.Z=Wb[1]?0:-(Wb[2]+(Wb[3]||"00")),Uc+Wb[0].length):-1}function ia(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+1)))?(Gb.q=3*Wb[0]-3,Uc+Wb[0].length):-1}function za(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+2)))?(Gb.m=Wb[0]-1,Uc+Wb[0].length):-1}function Wa(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+2)))?(Gb.d=+Wb[0],Uc+Wb[0].length):-1}function hb(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+3)))?(Gb.m=0,Gb.d=
+Wb[0],Uc+Wb[0].length):-1}function Ja(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+2)))?(Gb.H=+Wb[0],Uc+Wb[0].length):-1}function qa(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+2)))?(Gb.M=+Wb[0],Uc+Wb[0].length):-1}function Da(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+2)))?(Gb.S=+Wb[0],Uc+Wb[0].length):-1}function va(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+3)))?(Gb.L=+Wb[0],Uc+Wb[0].length):-1}function sa(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc,Uc+6)))?(Gb.L=Math.floor(Wb[0]/1E3),Uc+Wb[0].length):
-1}function xa(Gb,Wb,Uc){return(Gb=wd.exec(Wb.slice(Uc,Uc+1)))?Uc+Gb[0].length:-1}function ma(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc)))?(Gb.Q=+Wb[0],Uc+Wb[0].length):-1}function Ea(Gb,Wb,Uc){return(Wb=cd.exec(Wb.slice(Uc)))?(Gb.s=+Wb[0],Uc+Wb[0].length):-1}function Ua(Gb,Wb){return S(Gb.getDate(),Wb,2)}function ab(Gb,Wb){return S(Gb.getHours(),Wb,2)}function ta(Gb,Wb){return S(Gb.getHours()%12||12,Wb,2)}function Na(Gb,Wb){return S(1+nd.count(Ee(Gb),Gb),Wb,3)}function oa(Gb,Wb){return S(Gb.getMilliseconds(),
Wb,3)}function aa(Gb,Wb){return oa(Gb,Wb)+"000"}function ka(Gb,Wb){return S(Gb.getMonth()+1,Wb,2)}function Ia(Gb,Wb){return S(Gb.getMinutes(),Wb,2)}function Xa(Gb,Wb){return S(Gb.getSeconds(),Wb,2)}function Ya(Gb){Gb=Gb.getDay();return 0===Gb?7:Gb}function mb(Gb,Wb){return S(Fd.count(Ee(Gb)-1,Gb),Wb,2)}function ib(Gb){var Wb=Gb.getDay();return 4<=Wb||0===Wb?Ud(Gb):Ud.ceil(Gb)}function Eb(Gb,Wb){Gb=ib(Gb);return S(Ud.count(Ee(Gb),Gb)+(4===Ee(Gb).getDay()),Wb,2)}function Zb(Gb){return Gb.getDay()}function Gc(Gb,
Wb){return S(Od.count(Ee(Gb)-1,Gb),Wb,2)}function xc(Gb,Wb){return S(Gb.getFullYear()%100,Wb,2)}function Ic(Gb,Wb){Gb=ib(Gb);return S(Gb.getFullYear()%100,Wb,2)}function rc(Gb,Wb){return S(Gb.getFullYear()%1E4,Wb,4)}function jd(Gb,Wb){var Uc=Gb.getDay();Gb=4<=Uc||0===Uc?Ud(Gb):Ud.ceil(Gb);return S(Gb.getFullYear()%1E4,Wb,4)}function Bb(Gb){Gb=Gb.getTimezoneOffset();return(0<Gb?"-":(Gb*=-1,"+"))+S(Gb/60|0,"0",2)+S(Gb%60,"0",2)}function tb(Gb,Wb){return S(Gb.getUTCDate(),Wb,2)}function dc(Gb,Wb){return S(Gb.getUTCHours(),
Wb,2)}function Yb(Gb,Wb){return S(Gb.getUTCHours()%12||12,Wb,2)}function hc(Gb,Wb){return S(1+ze.count(Vb(Gb),Gb),Wb,3)}function vc(Gb,Wb){return S(Gb.getUTCMilliseconds(),Wb,3)}function qc(Gb,Wb){return vc(Gb,Wb)+"000"}function Dc(Gb,Wb){return S(Gb.getUTCMonth()+1,Wb,2)}function Yc(Gb,Wb){return S(Gb.getUTCMinutes(),Wb,2)}function Hd(Gb,Wb){return S(Gb.getUTCSeconds(),Wb,2)}function Fa(Gb){Gb=Gb.getUTCDay();return 0===Gb?7:Gb}function Ca(Gb,Wb){return S(Bf.count(Vb(Gb)-1,Gb),Wb,2)}function Ha(Gb){var Wb=
Gb.getUTCDay();return 4<=Wb||0===Wb?Ne(Gb):Ne.ceil(Gb)}function db(Gb,Wb){Gb=Ha(Gb);return S(Ne.count(Vb(Gb),Gb)+(4===Vb(Gb).getUTCDay()),Wb,2)}function ob(Gb){return Gb.getUTCDay()}function Ab(Gb,Wb){return S(xe.count(Vb(Gb)-1,Gb),Wb,2)}function Ob(Gb,Wb){return S(Gb.getUTCFullYear()%100,Wb,2)}function Ub(Gb,Wb){Gb=Ha(Gb);return S(Gb.getUTCFullYear()%100,Wb,2)}function $b(Gb,Wb){return S(Gb.getUTCFullYear()%1E4,Wb,4)}function Jc(Gb,Wb){var Uc=Gb.getUTCDay();Gb=4<=Uc||0===Uc?Ne(Gb):Ne.ceil(Gb);return S(Gb.getUTCFullYear()%
1E4,Wb,4)}function Wc(){return"+0000"}function dd(){return"%"}function ld(Gb){return+Gb}function rd(Gb){return Math.floor(+Gb/1E3)}function Kd(Gb,Wb,Uc){Uc=Uc||{};p.isObject(Uc)||p.error(`Invalid time multi-format specifier: ${Uc}`);const ie=Wb(k.SECONDS),oe=Wb(k.MINUTES),Vd=Wb(k.HOURS),Qd=Wb(k.DATE),se=Wb(k.WEEK),cf=Wb(k.MONTH),qf=Wb(k.QUARTER),ua=Wb(k.YEAR),vb=Gb(Uc[k.MILLISECONDS]||".%L"),Oa=Gb(Uc[k.SECONDS]||":%S"),ic=Gb(Uc[k.MINUTES]||"%I:%M"),la=Gb(Uc[k.HOURS]||"%I %p"),Qa=Gb(Uc[k.DATE]||Uc[k.DAY]||
"%a %d"),fb=Gb(Uc[k.WEEK]||"%b %d"),xb=Gb(Uc[k.MONTH]||"%B"),Fb=Gb(Uc[k.QUARTER]||"%B"),ac=Gb(Uc[k.YEAR]||"%Y");return yc=>(ie(yc)<yc?vb:oe(yc)<yc?Oa:Vd(yc)<yc?ic:Qd(yc)<yc?la:cf(yc)<yc?se(yc)<yc?Qa:fb:ua(yc)<yc?qf(yc)<yc?xb:Fb:ac)(yc)}function Nd(Gb){const Wb=A(Gb.format),Uc=A(Gb.utcFormat);return{timeFormat:ie=>p.isString(ie)?Wb(ie):Kd(Wb,k.timeInterval,ie),utcFormat:ie=>p.isString(ie)?Uc(ie):Kd(Uc,k.utcInterval,ie),timeParse:A(Gb.parse),utcParse:A(Gb.utcParse)}}function fe(){return Oe=Nd({format:hf,
parse:Vf,utcFormat:yf,utcParse:Ff})}function be(Gb){return Nd(V(Gb))}function ce(Gb){return arguments.length?Oe=be(Gb):Oe}function Td(Gb,Wb){var Uc=arguments.length;Uc&&2!==Uc&&p.error("defaultLocale expects either zero or two arguments.");if(Uc){Uc=E(Gb);var ie=ce(Wb);Uc=p.extend({},Uc,ie)}else Uc=E(),ie=ce(),Uc=p.extend({},Uc,ie);return Uc}var af=Math.sqrt(50),Se=Math.sqrt(10),ue=Math.sqrt(2),me=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;g.prototype=d.prototype;d.prototype.toString=
function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Ga,$a={"%":(Gb,Wb)=>(100*Gb).toFixed(Wb),b:Gb=>Math.round(Gb).toString(2),c:Gb=>Gb+"",d:function(Gb){return 1E21<=Math.abs(Gb=Math.round(Gb))?Gb.toLocaleString("en").replace(/,/g,""):Gb.toString(10)},e:(Gb,Wb)=>Gb.toExponential(Wb),f:(Gb,Wb)=>Gb.toFixed(Wb),
g:(Gb,Wb)=>Gb.toPrecision(Wb),o:Gb=>Math.round(Gb).toString(8),p:(Gb,Wb)=>b(100*Gb,Wb),r:b,s:function(Gb,Wb){var Uc=u(Gb,Wb);if(!Uc)return Gb+"";var ie=Uc[0];Uc=Uc[1];Uc=Uc-(Ga=3*Math.max(-8,Math.min(8,Math.floor(Uc/3))))+1;var oe=ie.length;return Uc===oe?ie:Uc>oe?ie+Array(Uc-oe+1).join("0"):0<Uc?ie.slice(0,Uc)+"."+ie.slice(Uc):"0."+Array(1-Uc).join("0")+u(Gb,Math.max(0,Wb+Uc-1))[0]},X:Gb=>Math.round(Gb).toString(16).toUpperCase(),x:Gb=>Math.round(Gb).toString(16)},ub=Array.prototype.map,Mb="y z a f p n  m  k M G T P E Z Y".split(" "),
fc,oc,Mc;(function(Gb){fc=a(Gb);oc=fc.format;Mc=fc.formatPrefix;return fc})({thousands:",",grouping:[3],currency:["$",""]});let Kc;y();var gc=new Date,fd=new Date,nd=F(Gb=>Gb.setHours(0,0,0,0),(Gb,Wb)=>Gb.setDate(Gb.getDate()+Wb),(Gb,Wb)=>(Wb-Gb-6E4*(Wb.getTimezoneOffset()-Gb.getTimezoneOffset()))/864E5,Gb=>Gb.getDate()-1),Fd=w(0),Od=w(1);w(2);w(3);var Ud=w(4);w(5);w(6);var Yd=F(function(Gb){Gb.setMonth(0,1);Gb.setHours(0,0,0,0)},function(Gb,Wb){Gb.setFullYear(Gb.getFullYear()+Wb)},function(Gb,Wb){return Wb.getFullYear()-
Gb.getFullYear()},function(Gb){return Gb.getFullYear()});Yd.every=function(Gb){return isFinite(Gb=Math.floor(Gb))&&0<Gb?F(function(Wb){Wb.setFullYear(Math.floor(Wb.getFullYear()/Gb)*Gb);Wb.setMonth(0,1);Wb.setHours(0,0,0,0)},function(Wb,Uc){Wb.setFullYear(Wb.getFullYear()+Uc*Gb)}):null};var Ee=Yd,ze=F(function(Gb){Gb.setUTCHours(0,0,0,0)},function(Gb,Wb){Gb.setUTCDate(Gb.getUTCDate()+Wb)},function(Gb,Wb){return(Wb-Gb)/864E5},function(Gb){return Gb.getUTCDate()-1}),Bf=D(0),xe=D(1);D(2);D(3);var Ne=
D(4);D(5);D(6);var rf=F(function(Gb){Gb.setUTCMonth(0,1);Gb.setUTCHours(0,0,0,0)},function(Gb,Wb){Gb.setUTCFullYear(Gb.getUTCFullYear()+Wb)},function(Gb,Wb){return Wb.getUTCFullYear()-Gb.getUTCFullYear()},function(Gb){return Gb.getUTCFullYear()});rf.every=function(Gb){return isFinite(Gb=Math.floor(Gb))&&0<Gb?F(function(Wb){Wb.setUTCFullYear(Math.floor(Wb.getUTCFullYear()/Gb)*Gb);Wb.setUTCMonth(0,1);Wb.setUTCHours(0,0,0,0)},function(Wb,Uc){Wb.setUTCFullYear(Wb.getUTCFullYear()+Uc*Gb)}):null};var Vb=
rf,sc={"-":"",_:" ",0:"0"},cd=/^\s*\d+/,wd=/^%/,Bd=/[\\^$*+?|[\]().{}]/g,pe,hf,Vf,yf,Ff;(function(Gb){pe=V(Gb);hf=pe.format;Vf=pe.parse;yf=pe.utcFormat;Ff=pe.utcParse;return pe})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
let Oe;fe();v.defaultLocale=Td;v.locale=function(Gb,Wb){Gb=Gb?q(Gb):E();Wb=Wb?be(Wb):ce();return p.extend({},Gb,Wb)};v.numberFormatDefaultLocale=E;v.numberFormatLocale=q;v.resetDefaultLocale=function(){y();fe();return Td()};v.resetNumberFormatDefaultLocale=y;v.resetTimeFormatDefaultLocale=fe;v.timeFormatDefaultLocale=ce;v.timeFormatLocale=be;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[18]=function(ra,z,cb,B){function v(u){var m=u.length;if(0<m%4)throw Error("Invalid string. Length must be a multiple of 4");u=u.indexOf("\x3d");-1===u&&(u=m);return[u,u===m?0:4-u%4]}B.byteLength=function(u){u=v(u);var m=u[1];return 3*(u[0]+m)/4-m};B.toByteArray=function(u){var m=v(u);var l=m[0];m=m[1];var f=new A(3*(l+m)/4-m),g=0,d=0<m?l-4:l,b;for(b=0;b<d;b+=4)l=p[u.charCodeAt(b)]<<18|p[u.charCodeAt(b+1)]<<12|p[u.charCodeAt(b+2)]<<6|p[u.charCodeAt(b+3)],f[g++]=l>>16&255,f[g++]=l>>8&
255,f[g++]=l&255;2===m&&(l=p[u.charCodeAt(b)]<<2|p[u.charCodeAt(b+1)]>>4,f[g++]=l&255);1===m&&(l=p[u.charCodeAt(b)]<<10|p[u.charCodeAt(b+1)]<<4|p[u.charCodeAt(b+2)]>>2,f[g++]=l>>8&255,f[g++]=l&255);return f};B.fromByteArray=function(u){for(var m=u.length,l=m%3,f=[],g=0,d=m-l;g<d;g+=16383){for(var b=f,c=b.push,a,e=u,t=g+16383>d?d:g+16383,y=[],q=g;q<t;q+=3)a=(e[q]<<16&16711680)+(e[q+1]<<8&65280)+(e[q+2]&255),y.push(k[a>>18&63]+k[a>>12&63]+k[a>>6&63]+k[a&63]);a=y.join("");c.call(b,a)}1===l?(u=u[m-1],
f.push(k[u>>2]+k[u<<4&63]+"\x3d\x3d")):2===l&&(u=(u[m-2]<<8)+u[m-1],f.push(k[u>>10]+k[u>>4&63]+k[u<<2&63]+"\x3d"));return f.join("")};var k=[],p=[],A="undefined"!==typeof Uint8Array?Uint8Array:Array;for(ra=0;64>ra;++ra)k[ra]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[ra],p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(ra)]=ra;p[45]=62;p[95]=63};
shadow$provide[19]=function(ra,z,cb,B){B.read=function(v,k,p,A,u){var m=8*u-A-1;var l=(1<<m)-1,f=l>>1,g=-7;u=p?u-1:0;var d=p?-1:1,b=v[k+u];u+=d;p=b&(1<<-g)-1;b>>=-g;for(g+=m;0<g;p=256*p+v[k+u],u+=d,g-=8);m=p&(1<<-g)-1;p>>=-g;for(g+=A;0<g;m=256*m+v[k+u],u+=d,g-=8);if(0===p)p=1-f;else{if(p===l)return m?NaN:Infinity*(b?-1:1);m+=Math.pow(2,A);p-=f}return(b?-1:1)*m*Math.pow(2,p-A)};B.write=function(v,k,p,A,u,m){var l,f=8*m-u-1,g=(1<<f)-1,d=g>>1,b=23===u?Math.pow(2,-24)-Math.pow(2,-77):0;m=A?0:m-1;var c=
A?1:-1,a=0>k||0===k&&0>1/k?1:0;k=Math.abs(k);isNaN(k)||Infinity===k?(k=isNaN(k)?1:0,A=g):(A=Math.floor(Math.log(k)/Math.LN2),1>k*(l=Math.pow(2,-A))&&(A--,l*=2),k=1<=A+d?k+b/l:k+b*Math.pow(2,1-d),2<=k*l&&(A++,l/=2),A+d>=g?(k=0,A=g):1<=A+d?(k=(k*l-1)*Math.pow(2,u),A+=d):(k=k*Math.pow(2,d-1)*Math.pow(2,u),A=0));for(;8<=u;v[p+m]=k&255,m+=c,k/=256,u-=8);A=A<<u|k;for(f+=u;0<f;v[p+m]=A&255,m+=c,A/=256,f-=8);v[p+m-c]|=128*a}};
shadow$provide[20]=function(ra,z,cb,B){var v={}.toString;cb.exports=Array.isArray||function(k){return"[object Array]"==v.call(k)}};
shadow$provide[21]=function(ra,z,cb,B){function v(){try{var r=new Uint8Array(1);r.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===r.foo()&&"function"===typeof r.subarray&&0===r.subarray(1,1).byteLength}catch(C){return!1}}function k(r,C){if((p.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<C)throw new RangeError("Invalid typed array length");p.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(C),r.__proto__=p.prototype):(null===r&&(r=new p(C)),r.length=C);return r}function p(r,C,N){if(!(p.TYPED_ARRAY_SUPPORT||
this instanceof p))return new p(r,C,N);if("number"===typeof r){if("string"===typeof C)throw Error("If encoding is specified then the first argument must be a string");return m(this,r)}return A(this,r,C,N)}function A(r,C,N,U){if("number"===typeof C)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&C instanceof ArrayBuffer){C.byteLength;if(0>N||C.byteLength<N)throw new RangeError("'offset' is out of bounds");if(C.byteLength<N+(U||0))throw new RangeError("'length' is out of bounds");
C=void 0===N&&void 0===U?new Uint8Array(C):void 0===U?new Uint8Array(C,N):new Uint8Array(C,N,U);p.TYPED_ARRAY_SUPPORT?(r=C,r.__proto__=p.prototype):r=l(r,C);return r}if("string"===typeof C){U=r;r=N;if("string"!==typeof r||""===r)r="utf8";if(!p.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');N=d(C,r)|0;U=k(U,N);C=U.write(C,r);C!==N&&(U=U.slice(0,C));return U}return f(r,C)}function u(r){if("number"!==typeof r)throw new TypeError('"size" argument must be a number');if(0>
r)throw new RangeError('"size" argument must not be negative');}function m(r,C){u(C);r=k(r,0>C?0:g(C)|0);if(!p.TYPED_ARRAY_SUPPORT)for(var N=0;N<C;++N)r[N]=0;return r}function l(r,C){var N=0>C.length?0:g(C.length)|0;r=k(r,N);for(var U=0;U<N;U+=1)r[U]=C[U]&255;return r}function f(r,C){if(p.isBuffer(C)){var N=g(C.length)|0;r=k(r,N);if(0===r.length)return r;C.copy(r,0,0,N);return r}if(C){if("undefined"!==typeof ArrayBuffer&&C.buffer instanceof ArrayBuffer||"length"in C)return(N="number"!==typeof C.length)||
(N=C.length,N=N!==N),N?k(r,0):l(r,C);if("Buffer"===C.type&&T(C.data))return l(r,C.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function g(r){if(r>=(p.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(p.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return r|0}function d(r,C){if(p.isBuffer(r))return r.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;"string"!==typeof r&&(r=""+r);var N=r.length;if(0===N)return 0;for(var U=!1;;)switch(C){case "ascii":case "latin1":case "binary":return N;case "utf8":case "utf-8":case void 0:return L(r).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*N;case "hex":return N>>>1;case "base64":return V(r).length;default:if(U)return L(r).length;C=(""+C).toLowerCase();U=!0}}function b(r,
C,N){var U=!1;if(void 0===C||0>C)C=0;if(C>this.length)return"";if(void 0===N||N>this.length)N=this.length;if(0>=N)return"";N>>>=0;C>>>=0;if(N<=C)return"";for(r||(r="utf8");;)switch(r){case "hex":r=C;C=N;N=this.length;if(!r||0>r)r=0;if(!C||0>C||C>N)C=N;U="";for(N=r;N<C;++N)r=U,U=this[N],U=16>U?"0"+U.toString(16):U.toString(16),U=r+U;return U;case "utf8":case "utf-8":return t(this,C,N);case "ascii":r="";for(N=Math.min(this.length,N);C<N;++C)r+=String.fromCharCode(this[C]&127);return r;case "latin1":case "binary":r=
"";for(N=Math.min(this.length,N);C<N;++C)r+=String.fromCharCode(this[C]);return r;case "base64":return C=0===C&&N===this.length?ca.fromByteArray(this):ca.fromByteArray(this.slice(C,N)),C;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":C=this.slice(C,N);N="";for(r=0;r<C.length;r+=2)N+=String.fromCharCode(C[r]+256*C[r+1]);return N;default:if(U)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase();U=!0}}function c(r,C,N){var U=r[C];r[C]=r[N];r[N]=U}function a(r,C,N,U,ja){if(0===
r.length)return-1;"string"===typeof N?(U=N,N=0):2147483647<N?N=2147483647:-2147483648>N&&(N=-2147483648);N=+N;isNaN(N)&&(N=ja?0:r.length-1);0>N&&(N=r.length+N);if(N>=r.length){if(ja)return-1;N=r.length-1}else if(0>N)if(ja)N=0;else return-1;"string"===typeof C&&(C=p.from(C,U));if(p.isBuffer(C))return 0===C.length?-1:e(r,C,N,U,ja);if("number"===typeof C)return C&=255,p.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?ja?Uint8Array.prototype.indexOf.call(r,C,N):Uint8Array.prototype.lastIndexOf.call(r,
C,N):e(r,[C],N,U,ja);throw new TypeError("val must be string, number or Buffer");}function e(r,C,N,U,ja){function ba(hb,Ja){return 1===ia?hb[Ja]:hb.readUInt16BE(Ja*ia)}var ia=1,za=r.length,Wa=C.length;if(void 0!==U&&(U=String(U).toLowerCase(),"ucs2"===U||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(2>r.length||2>C.length)return-1;ia=2;za/=2;Wa/=2;N/=2}if(ja)for(U=-1;N<za;N++)if(ba(r,N)===ba(C,-1===U?0:N-U)){if(-1===U&&(U=N),N-U+1===Wa)return U*ia}else-1!==U&&(N-=N-U),U=-1;else for(N+Wa>za&&(N=
za-Wa);0<=N;N--){za=!0;for(U=0;U<Wa;U++)if(ba(r,N+U)!==ba(C,U)){za=!1;break}if(za)return N}return-1}function t(r,C,N){N=Math.min(r.length,N);for(var U=[];C<N;){var ja=r[C],ba=null,ia=239<ja?4:223<ja?3:191<ja?2:1;if(C+ia<=N)switch(ia){case 1:128>ja&&(ba=ja);break;case 2:var za=r[C+1];128===(za&192)&&(ja=(ja&31)<<6|za&63,127<ja&&(ba=ja));break;case 3:za=r[C+1];var Wa=r[C+2];128===(za&192)&&128===(Wa&192)&&(ja=(ja&15)<<12|(za&63)<<6|Wa&63,2047<ja&&(55296>ja||57343<ja)&&(ba=ja));break;case 4:za=r[C+1];
Wa=r[C+2];var hb=r[C+3];128===(za&192)&&128===(Wa&192)&&128===(hb&192)&&(ja=(ja&15)<<18|(za&63)<<12|(Wa&63)<<6|hb&63,65535<ja&&1114112>ja&&(ba=ja))}null===ba?(ba=65533,ia=1):65535<ba&&(ba-=65536,U.push(ba>>>10&1023|55296),ba=56320|ba&1023);U.push(ba);C+=ia}r=U.length;if(r<=R)U=String.fromCharCode.apply(String,U);else{N="";for(C=0;C<r;)N+=String.fromCharCode.apply(String,U.slice(C,C+=R));U=N}return U}function y(r,C,N){if(0!==r%1||0>r)throw new RangeError("offset is not uint");if(r+C>N)throw new RangeError("Trying to access beyond buffer length");
}function q(r,C,N,U,ja,ba){if(!p.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(C>ja||C<ba)throw new RangeError('"value" argument is out of bounds');if(N+U>r.length)throw new RangeError("Index out of range");}function E(r,C,N,U){0>C&&(C=65535+C+1);for(var ja=0,ba=Math.min(r.length-N,2);ja<ba;++ja)r[N+ja]=(C&255<<8*(U?ja:1-ja))>>>8*(U?ja:1-ja)}function F(r,C,N,U){0>C&&(C=4294967295+C+1);for(var ja=0,ba=Math.min(r.length-N,4);ja<ba;++ja)r[N+ja]=C>>>8*(U?ja:3-ja)&255}
function w(r,C,N,U,ja,ba){if(N+U>r.length)throw new RangeError("Index out of range");if(0>N)throw new RangeError("Index out of range");}function D(r,C,N,U,ja){ja||w(r,C,N,4,3.4028234663852886E38,-3.4028234663852886E38);ea.write(r,C,N,U,23,4);return N+4}function G(r,C,N,U,ja){ja||w(r,C,N,8,1.7976931348623157E308,-1.7976931348623157E308);ea.write(r,C,N,U,52,8);return N+8}function L(r,C){C=C||Infinity;for(var N,U=r.length,ja=null,ba=[],ia=0;ia<U;++ia){N=r.charCodeAt(ia);if(55295<N&&57344>N){if(!ja){if(56319<
N){-1<(C-=3)&&ba.push(239,191,189);continue}else if(ia+1===U){-1<(C-=3)&&ba.push(239,191,189);continue}ja=N;continue}if(56320>N){-1<(C-=3)&&ba.push(239,191,189);ja=N;continue}N=(ja-55296<<10|N-56320)+65536}else ja&&-1<(C-=3)&&ba.push(239,191,189);ja=null;if(128>N){if(0>--C)break;ba.push(N)}else if(2048>N){if(0>(C-=2))break;ba.push(N>>6|192,N&63|128)}else if(65536>N){if(0>(C-=3))break;ba.push(N>>12|224,N>>6&63|128,N&63|128)}else if(1114112>N){if(0>(C-=4))break;ba.push(N>>18|240,N>>12&63|128,N>>6&63|
128,N&63|128)}else throw Error("Invalid code point");}return ba}function O(r){for(var C=[],N=0;N<r.length;++N)C.push(r.charCodeAt(N)&255);return C}function V(r){var C=ca,N=C.toByteArray;r=(r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")).replace(J,"");if(2>r.length)r="";else for(;0!==r.length%4;)r+="\x3d";return N.call(C,r)}function S(r,C,N,U){for(var ja=0;ja<U&&!(ja+N>=C.length||ja>=r.length);++ja)C[ja+N]=r[ja];return ja}var ca=z(18),ea=z(19),T=z(20);B.Buffer=p;B.SlowBuffer=function(r){+r!=r&&(r=0);return p.alloc(+r)};
B.INSPECT_MAX_BYTES=50;p.TYPED_ARRAY_SUPPORT=void 0!==ra.TYPED_ARRAY_SUPPORT?ra.TYPED_ARRAY_SUPPORT:v();B.kMaxLength=p.TYPED_ARRAY_SUPPORT?2147483647:1073741823;p.poolSize=8192;p._augment=function(r){r.__proto__=p.prototype;return r};p.from=function(r,C,N){return A(null,r,C,N)};p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0}));
p.alloc=function(r,C,N){u(r);r=0>=r?k(null,r):void 0!==C?"string"===typeof N?k(null,r).fill(C,N):k(null,r).fill(C):k(null,r);return r};p.allocUnsafe=function(r){return m(null,r)};p.allocUnsafeSlow=function(r){return m(null,r)};p.isBuffer=function(r){return!(null==r||!r._isBuffer)};p.compare=function(r,C){if(!p.isBuffer(r)||!p.isBuffer(C))throw new TypeError("Arguments must be Buffers");if(r===C)return 0;for(var N=r.length,U=C.length,ja=0,ba=Math.min(N,U);ja<ba;++ja)if(r[ja]!==C[ja]){N=r[ja];U=C[ja];
break}return N<U?-1:U<N?1:0};p.isEncoding=function(r){switch(String(r).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};p.concat=function(r,C){if(!T(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return p.alloc(0);var N;if(void 0===C)for(N=C=0;N<r.length;++N)C+=r[N].length;C=p.allocUnsafe(C);var U=0;for(N=0;N<r.length;++N){var ja=
r[N];if(!p.isBuffer(ja))throw new TypeError('"list" argument must be an Array of Buffers');ja.copy(C,U);U+=ja.length}return C};p.byteLength=d;p.prototype._isBuffer=!0;p.prototype.swap16=function(){var r=this.length;if(0!==r%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var C=0;C<r;C+=2)c(this,C,C+1);return this};p.prototype.swap32=function(){var r=this.length;if(0!==r%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var C=0;C<r;C+=4)c(this,C,C+3),c(this,
C+1,C+2);return this};p.prototype.swap64=function(){var r=this.length;if(0!==r%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var C=0;C<r;C+=8)c(this,C,C+7),c(this,C+1,C+6),c(this,C+2,C+5),c(this,C+3,C+4);return this};p.prototype.toString=function(){var r=this.length|0;return 0===r?"":0===arguments.length?t(this,0,r):b.apply(this,arguments)};p.prototype.equals=function(r){if(!p.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:0===p.compare(this,
r)};p.prototype.inspect=function(){var r="",C=B.INSPECT_MAX_BYTES;0<this.length&&(r=this.toString("hex",0,C).match(/.{2}/g).join(" "),this.length>C&&(r+=" ... "));return"\x3cBuffer "+r+"\x3e"};p.prototype.compare=function(r,C,N,U,ja){if(!p.isBuffer(r))throw new TypeError("Argument must be a Buffer");void 0===C&&(C=0);void 0===N&&(N=r?r.length:0);void 0===U&&(U=0);void 0===ja&&(ja=this.length);if(0>C||N>r.length||0>U||ja>this.length)throw new RangeError("out of range index");if(U>=ja&&C>=N)return 0;
if(U>=ja)return-1;if(C>=N)return 1;C>>>=0;N>>>=0;U>>>=0;ja>>>=0;if(this===r)return 0;var ba=ja-U,ia=N-C,za=Math.min(ba,ia);U=this.slice(U,ja);r=r.slice(C,N);for(C=0;C<za;++C)if(U[C]!==r[C]){ba=U[C];ia=r[C];break}return ba<ia?-1:ia<ba?1:0};p.prototype.includes=function(r,C,N){return-1!==this.indexOf(r,C,N)};p.prototype.indexOf=function(r,C,N){return a(this,r,C,N,!0)};p.prototype.lastIndexOf=function(r,C,N){return a(this,r,C,N,!1)};p.prototype.write=function(r,C,N,U){if(void 0===C)U="utf8",N=this.length,
C=0;else if(void 0===N&&"string"===typeof C)U=C,N=this.length,C=0;else if(isFinite(C))C|=0,isFinite(N)?(N|=0,void 0===U&&(U="utf8")):(U=N,N=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ja=this.length-C;if(void 0===N||N>ja)N=ja;if(0<r.length&&(0>N||0>C)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(ja=!1;;)switch(U){case "hex":a:{C=Number(C)||0;U=this.length-C;N?(N=Number(N),N>U&&(N=U)):N=U;
U=r.length;if(0!==U%2)throw new TypeError("Invalid hex string");N>U/2&&(N=U/2);for(U=0;U<N;++U){ja=parseInt(r.substr(2*U,2),16);if(isNaN(ja)){r=U;break a}this[C+U]=ja}r=U}return r;case "utf8":case "utf-8":return S(L(r,this.length-C),this,C,N);case "ascii":return S(O(r),this,C,N);case "latin1":case "binary":return S(O(r),this,C,N);case "base64":return S(V(r),this,C,N);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":U=r;ja=this.length-C;for(var ba=[],ia=0;ia<U.length&&!(0>(ja-=2));++ia){var za=
U.charCodeAt(ia);r=za>>8;za%=256;ba.push(za);ba.push(r)}return S(ba,this,C,N);default:if(ja)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase();ja=!0}};p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;p.prototype.slice=function(r,C){var N=this.length;r=~~r;C=void 0===C?N:~~C;0>r?(r+=N,0>r&&(r=0)):r>N&&(r=N);0>C?(C+=N,0>C&&(C=0)):C>N&&(C=N);C<r&&(C=r);if(p.TYPED_ARRAY_SUPPORT)C=this.subarray(r,C),C.__proto__=p.prototype;
else{N=C-r;C=new p(N,void 0);for(var U=0;U<N;++U)C[U]=this[U+r]}return C};p.prototype.readUIntLE=function(r,C,N){r|=0;C|=0;N||y(r,C,this.length);N=this[r];for(var U=1,ja=0;++ja<C&&(U*=256);)N+=this[r+ja]*U;return N};p.prototype.readUIntBE=function(r,C,N){r|=0;C|=0;N||y(r,C,this.length);N=this[r+--C];for(var U=1;0<C&&(U*=256);)N+=this[r+--C]*U;return N};p.prototype.readUInt8=function(r,C){C||y(r,1,this.length);return this[r]};p.prototype.readUInt16LE=function(r,C){C||y(r,2,this.length);return this[r]|
this[r+1]<<8};p.prototype.readUInt16BE=function(r,C){C||y(r,2,this.length);return this[r]<<8|this[r+1]};p.prototype.readUInt32LE=function(r,C){C||y(r,4,this.length);return(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]};p.prototype.readUInt32BE=function(r,C){C||y(r,4,this.length);return 16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])};p.prototype.readIntLE=function(r,C,N){r|=0;C|=0;N||y(r,C,this.length);N=this[r];for(var U=1,ja=0;++ja<C&&(U*=256);)N+=this[r+ja]*U;N>=128*U&&(N-=Math.pow(2,
8*C));return N};p.prototype.readIntBE=function(r,C,N){r|=0;C|=0;N||y(r,C,this.length);N=C;for(var U=1,ja=this[r+--N];0<N&&(U*=256);)ja+=this[r+--N]*U;ja>=128*U&&(ja-=Math.pow(2,8*C));return ja};p.prototype.readInt8=function(r,C){C||y(r,1,this.length);return this[r]&128?-1*(255-this[r]+1):this[r]};p.prototype.readInt16LE=function(r,C){C||y(r,2,this.length);r=this[r]|this[r+1]<<8;return r&32768?r|4294901760:r};p.prototype.readInt16BE=function(r,C){C||y(r,2,this.length);r=this[r+1]|this[r]<<8;return r&
32768?r|4294901760:r};p.prototype.readInt32LE=function(r,C){C||y(r,4,this.length);return this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24};p.prototype.readInt32BE=function(r,C){C||y(r,4,this.length);return this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]};p.prototype.readFloatLE=function(r,C){C||y(r,4,this.length);return ea.read(this,r,!0,23,4)};p.prototype.readFloatBE=function(r,C){C||y(r,4,this.length);return ea.read(this,r,!1,23,4)};p.prototype.readDoubleLE=function(r,C){C||y(r,8,this.length);
return ea.read(this,r,!0,52,8)};p.prototype.readDoubleBE=function(r,C){C||y(r,8,this.length);return ea.read(this,r,!1,52,8)};p.prototype.writeUIntLE=function(r,C,N,U){r=+r;C|=0;N|=0;U||q(this,r,C,N,Math.pow(2,8*N)-1,0);U=1;var ja=0;for(this[C]=r&255;++ja<N&&(U*=256);)this[C+ja]=r/U&255;return C+N};p.prototype.writeUIntBE=function(r,C,N,U){r=+r;C|=0;N|=0;U||q(this,r,C,N,Math.pow(2,8*N)-1,0);U=N-1;var ja=1;for(this[C+U]=r&255;0<=--U&&(ja*=256);)this[C+U]=r/ja&255;return C+N};p.prototype.writeUInt8=
function(r,C,N){r=+r;C|=0;N||q(this,r,C,1,255,0);p.TYPED_ARRAY_SUPPORT||(r=Math.floor(r));this[C]=r&255;return C+1};p.prototype.writeUInt16LE=function(r,C,N){r=+r;C|=0;N||q(this,r,C,2,65535,0);p.TYPED_ARRAY_SUPPORT?(this[C]=r&255,this[C+1]=r>>>8):E(this,r,C,!0);return C+2};p.prototype.writeUInt16BE=function(r,C,N){r=+r;C|=0;N||q(this,r,C,2,65535,0);p.TYPED_ARRAY_SUPPORT?(this[C]=r>>>8,this[C+1]=r&255):E(this,r,C,!1);return C+2};p.prototype.writeUInt32LE=function(r,C,N){r=+r;C|=0;N||q(this,r,C,4,4294967295,
0);p.TYPED_ARRAY_SUPPORT?(this[C+3]=r>>>24,this[C+2]=r>>>16,this[C+1]=r>>>8,this[C]=r&255):F(this,r,C,!0);return C+4};p.prototype.writeUInt32BE=function(r,C,N){r=+r;C|=0;N||q(this,r,C,4,4294967295,0);p.TYPED_ARRAY_SUPPORT?(this[C]=r>>>24,this[C+1]=r>>>16,this[C+2]=r>>>8,this[C+3]=r&255):F(this,r,C,!1);return C+4};p.prototype.writeIntLE=function(r,C,N,U){r=+r;C|=0;U||(U=Math.pow(2,8*N-1),q(this,r,C,N,U-1,-U));U=0;var ja=1,ba=0;for(this[C]=r&255;++U<N&&(ja*=256);)0>r&&0===ba&&0!==this[C+U-1]&&(ba=1),
this[C+U]=(r/ja>>0)-ba&255;return C+N};p.prototype.writeIntBE=function(r,C,N,U){r=+r;C|=0;U||(U=Math.pow(2,8*N-1),q(this,r,C,N,U-1,-U));U=N-1;var ja=1,ba=0;for(this[C+U]=r&255;0<=--U&&(ja*=256);)0>r&&0===ba&&0!==this[C+U+1]&&(ba=1),this[C+U]=(r/ja>>0)-ba&255;return C+N};p.prototype.writeInt8=function(r,C,N){r=+r;C|=0;N||q(this,r,C,1,127,-128);p.TYPED_ARRAY_SUPPORT||(r=Math.floor(r));0>r&&(r=255+r+1);this[C]=r&255;return C+1};p.prototype.writeInt16LE=function(r,C,N){r=+r;C|=0;N||q(this,r,C,2,32767,
-32768);p.TYPED_ARRAY_SUPPORT?(this[C]=r&255,this[C+1]=r>>>8):E(this,r,C,!0);return C+2};p.prototype.writeInt16BE=function(r,C,N){r=+r;C|=0;N||q(this,r,C,2,32767,-32768);p.TYPED_ARRAY_SUPPORT?(this[C]=r>>>8,this[C+1]=r&255):E(this,r,C,!1);return C+2};p.prototype.writeInt32LE=function(r,C,N){r=+r;C|=0;N||q(this,r,C,4,2147483647,-2147483648);p.TYPED_ARRAY_SUPPORT?(this[C]=r&255,this[C+1]=r>>>8,this[C+2]=r>>>16,this[C+3]=r>>>24):F(this,r,C,!0);return C+4};p.prototype.writeInt32BE=function(r,C,N){r=+r;
C|=0;N||q(this,r,C,4,2147483647,-2147483648);0>r&&(r=4294967295+r+1);p.TYPED_ARRAY_SUPPORT?(this[C]=r>>>24,this[C+1]=r>>>16,this[C+2]=r>>>8,this[C+3]=r&255):F(this,r,C,!1);return C+4};p.prototype.writeFloatLE=function(r,C,N){return D(this,r,C,!0,N)};p.prototype.writeFloatBE=function(r,C,N){return D(this,r,C,!1,N)};p.prototype.writeDoubleLE=function(r,C,N){return G(this,r,C,!0,N)};p.prototype.writeDoubleBE=function(r,C,N){return G(this,r,C,!1,N)};p.prototype.copy=function(r,C,N,U){N||(N=0);U||0===
U||(U=this.length);C>=r.length&&(C=r.length);C||(C=0);0<U&&U<N&&(U=N);if(U===N||0===r.length||0===this.length)return 0;if(0>C)throw new RangeError("targetStart out of bounds");if(0>N||N>=this.length)throw new RangeError("sourceStart out of bounds");if(0>U)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length);r.length-C<U-N&&(U=r.length-C+N);var ja=U-N;if(this===r&&N<C&&C<U)for(U=ja-1;0<=U;--U)r[U+C]=this[U+N];else if(1E3>ja||!p.TYPED_ARRAY_SUPPORT)for(U=0;U<ja;++U)r[U+C]=
this[U+N];else Uint8Array.prototype.set.call(r,this.subarray(N,N+ja),C);return ja};p.prototype.fill=function(r,C,N,U){if("string"===typeof r){"string"===typeof C?(U=C,C=0,N=this.length):"string"===typeof N&&(U=N,N=this.length);if(1===r.length){var ja=r.charCodeAt(0);256>ja&&(r=ja)}if(void 0!==U&&"string"!==typeof U)throw new TypeError("encoding must be a string");if("string"===typeof U&&!p.isEncoding(U))throw new TypeError("Unknown encoding: "+U);}else"number"===typeof r&&(r&=255);if(0>C||this.length<
C||this.length<N)throw new RangeError("Out of range index");if(N<=C)return this;C>>>=0;N=void 0===N?this.length:N>>>0;r||(r=0);if("number"===typeof r)for(U=C;U<N;++U)this[U]=r;else for(r=p.isBuffer(r)?r:L((new p(r,U)).toString()),ja=r.length,U=0;U<N-C;++U)this[U+C]=r[U%ja];return this};var J=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[22]=function(ra,z,cb,B){var v=z(21).Buffer;(function(k,p){"object"===typeof B&&"undefined"!==typeof cb?p(B,z(14),z(15),z(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,p(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,p,A,u){function m(ba,ia){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Wa=yield za.sanitize(ba,ia),hb=Wa.href;
return Wa.localFile?za.file(hb):za.http(hb,ia)})}function l(ba,ia){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ia=p.extend({},za.options,ia);const Wa=za.fileAccess,hb={href:null};var Ja;let qa;var Da=S.test(ba.replace(ca,""));null!=ba&&"string"===typeof ba&&Da||p.error("Sanitize failure, invalid URI: "+p.stringValue(ba));Da=V.test(ba);(Ja=ia.baseURL)&&!Da&&(ba.startsWith("/")||Ja.endsWith("/")||(ba="/"+ba),ba=Ja+ba);qa=(Ja=ba.startsWith("file://"))||"file"===ia.mode||
"http"!==ia.mode&&!Da&&Wa;Ja?ba=ba.slice(7):ba.startsWith("//")&&("file"===ia.defaultProtocol?(ba=ba.slice(2),qa=!0):ba=(ia.defaultProtocol||"http")+":"+ba);Object.defineProperty(hb,"localFile",{value:!!qa});hb.href=ba;ia.target&&(hb.target=ia.target+"");ia.rel&&(hb.rel=ia.rel+"");"image"===ia.context&&ia.crossOrigin&&(hb.crossOrigin=ia.crossOrigin+"");return hb})}function f(ba){return ba?ia=>new Promise((za,Wa)=>{ba.readFile(ia,(hb,Ja)=>{hb?Wa(hb):za(Ja)})}):g}function g(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){p.error("No file system access.")})}
function d(ba){return ba?function(ia,za){const Wa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var hb=p.extend({},Wa.options.http,za);const Ja=za&&za.response;hb=yield ba(ia,hb);return hb.ok?p.isFunction(hb[Ja])?hb[Ja]():hb.text():p.error(hb.status+""+hb.statusText)})}:b}function b(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){p.error("No HTTP fetch method available.")})}function c(ba,ia){if(!ba||!ba.length)return"unknown";const za=ba.length,Wa=R.length,
hb=R.map((Ja,qa)=>qa+1);for(let Ja=0,qa=0,Da,va;Ja<za;++Ja)for(va=ia?ba[Ja][ia]:ba[Ja],Da=0;Da<Wa;++Da)if(hb[Da]&&null!=va&&va===va&&!R[Da](va)&&(hb[Da]=0,++qa,qa===R.length))return"string";return J[hb.reduce((Ja,qa)=>0===Ja?qa:Ja,0)-1]}function a(ba,ia){return ia.reduce((za,Wa)=>{za[Wa]=c(ba,Wa);return za},{})}function e(ba){return new Function("d","return {"+ba.map(function(ia,za){return JSON.stringify(ia)+": d["+za+'] || ""'}).join(",")+"}")}function t(ba,ia){var za=e(ba);return function(Wa,hb){return ia(za(Wa),
hb,ba)}}function y(ba){var ia=Object.create(null),za=[];ba.forEach(function(Wa){for(var hb in Wa)hb in ia||za.push(ia[hb]=hb)});return za}function q(ba,ia){ba+="";var za=ba.length;return za<ia?Array(ia-za+1).join(0)+ba:ba}function E(ba){function ia(Da,va){function sa(){if(ta)return C;if(Na)return Na=!1,r;var aa,ka=Ea,Ia;if(34===Da.charCodeAt(ka)){for(;Ea++<ma&&34!==Da.charCodeAt(Ea)||34===Da.charCodeAt(++Ea););(aa=Ea)>=ma?ta=!0:10===(Ia=Da.charCodeAt(Ea++))?Na=!0:13===Ia&&(Na=!0,10===Da.charCodeAt(Ea)&&
++Ea);return Da.slice(ka+1,aa-1).replace(/""/g,'"')}for(;Ea<ma;){if(10===(Ia=Da.charCodeAt(aa=Ea++)))Na=!0;else if(13===Ia)Na=!0,10===Da.charCodeAt(Ea)&&++Ea;else if(Ia!==qa)continue;return Da.slice(ka,aa)}return ta=!0,Da.slice(ka,ma)}var xa=[],ma=Da.length,Ea=0,Ua=0,ab,ta=0>=ma,Na=!1;10===Da.charCodeAt(ma-1)&&--ma;for(13===Da.charCodeAt(ma-1)&&--ma;(ab=sa())!==C;){for(var oa=[];ab!==r&&ab!==C;)oa.push(ab),ab=sa();va&&null==(oa=va(oa,Ua++))||xa.push(oa)}return xa}function za(Da,va){return Da.map(function(sa){return va.map(function(xa){return hb(sa[xa])}).join(ba)})}
function Wa(Da){return Da.map(hb).join(ba)}function hb(Da){if(null==Da)Da="";else{if(Da instanceof Date){var va=Da.getUTCHours();var sa=Da.getUTCMinutes(),xa=Da.getUTCSeconds(),ma=Da.getUTCMilliseconds();if(isNaN(Da))Da="Invalid Date";else{var Ea=Da.getUTCFullYear();Da=(0>Ea?"-"+q(-Ea,6):9999<Ea?"+"+q(Ea,6):q(Ea,4))+"-"+q(Da.getUTCMonth()+1,2)+"-"+q(Da.getUTCDate(),2)+(ma?"T"+q(va,2)+":"+q(sa,2)+":"+q(xa,2)+"."+q(ma,3)+"Z":xa?"T"+q(va,2)+":"+q(sa,2)+":"+q(xa,2)+"Z":sa||va?"T"+q(va,2)+":"+q(sa,2)+
"Z":"")}va=Da}else va=Ja.test(Da+="")?'"'+Da.replace(/"/g,'""')+'"':Da;Da=va}return Da}var Ja=new RegExp('["'+ba+"\n\r]"),qa=ba.charCodeAt(0);return{parse:function(Da,va){var sa,xa;Da=ia(Da,function(ma,Ea){if(sa)return sa(ma,Ea-1);xa=ma;sa=va?t(ma,va):e(ma)});Da.columns=xa||[];return Da},parseRows:ia,format:function(Da,va){null==va&&(va=y(Da));return[va.map(hb).join(ba)].concat(za(Da,va)).join("\n")},formatBody:function(Da,va){null==va&&(va=y(Da));return za(Da,va).join("\n")},formatRows:function(Da){return Da.map(Wa).join("\n")},
formatRow:Wa,formatValue:hb}}function F(ba){const ia=function(za,Wa){const hb={delimiter:ba};return w(za,Wa?p.extend(Wa,hb):hb)};ia.responseType="text";return ia}function w(ba,ia){ia.header&&(ba=ia.header.map(p.stringValue).join(ia.delimiter)+"\n"+ba);return E(ia.delimiter).parse(ba+"")}function D(ba,ia){const za=ia&&ia.property?p.field(ia.property):p.identity;var Wa;if(Wa=p.isObject(ba))Wa=!("function"===typeof v&&p.isFunction(v.isBuffer)&&v.isBuffer(ba));Wa?(ba=za(ba),!p.isArray(ba)&&p.isIterable(ba)&&
(ba=[...ba]),ia=ia&&ia.copy?JSON.parse(JSON.stringify(ba)):ba):ia=za(JSON.parse(ba));return ia}function G(ba,ia){let za,Wa,hb,Ja;ba=D(ba,ia);ia&&ia.feature?(za=A.feature,hb=ia.feature):ia&&ia.mesh?(za=A.mesh,hb=ia.mesh,Ja=N[ia.filter]):p.error("Missing TopoJSON feature or mesh parameter.");return(Wa=(Wa=ba.objects[hb])?za(ba,Wa,Ja):p.error("Invalid TopoJSON object: "+hb))&&Wa.features||[Wa]}function L(ba,ia){return 1<arguments.length?(U[ba]=ia,this):p.hasOwnProperty(U,ba)?U[ba]:null}function O(ba,
ia,za,Wa){if(ba.length){var hb=u.timeFormatDefaultLocale();za=za||hb.timeParse;Wa=Wa||hb.utcParse;hb=ba.columns||Object.keys(ba[0]);var Ja,qa;"auto"===ia&&(ia=a(ba,hb));hb=Object.keys(ia);var Da=hb.map(Ea=>{var Ua=ia[Ea];if(Ua&&(Ua.startsWith("date:")||Ua.startsWith("utc:"))){Ea=Ua.split(/:(.+)?/,2);Ua=Ea[1];if("'"===Ua[0]&&"'"===Ua[Ua.length-1]||'"'===Ua[0]&&'"'===Ua[Ua.length-1])Ua=Ua.slice(1,-1);return("utc"===Ea[0]?Wa:za)(Ua)}if(!T[Ua])throw Error("Illegal format pattern: "+Ea+":"+Ua);return T[Ua]});
var va=0;var sa=ba.length;for(qa=hb.length;va<sa;++va){var xa=ba[va];for(Ja=0;Ja<qa;++Ja){var ma=hb[Ja];xa[ma]=Da[Ja](xa[ma])}}}}const V=/^(data:|([A-Za-z]+:)?\/\/)/,S=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ca=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ea=ba=>!Number.isNaN(+ba)&&!(ba instanceof Date),T={boolean:p.toBoolean,integer:p.toNumber,number:p.toNumber,date:p.toDate,string:p.toString,unknown:p.identity},R=[ba=>"true"===
ba||"false"===ba||!0===ba||!1===ba,ba=>ea(ba)&&Number.isInteger(+ba),ea,ba=>!Number.isNaN(Date.parse(ba))],J=["boolean","integer","number","date"];var r={},C={};w.responseType="text";D.responseType="json";const N={interior:(ba,ia)=>ba!==ia,exterior:(ba,ia)=>ba===ia};G.responseType="json";const U={dsv:w,csv:F(","),tsv:F("\t"),json:D,topojson:G},ja=function(ba,ia){return za=>({options:za||{},sanitize:l,load:m,fileAccess:!!ia,file:f(ia),http:d(ba)})}("undefined"!==typeof fetch&&fetch,null);k.format=
U;k.formats=L;k.inferType=c;k.inferTypes=a;k.loader=ja;k.read=function(ba,ia,za,Wa){ia=ia||{};const hb=L(ia.type||"json");hb||p.error("Unknown data format type: "+ia.type);ba=hb(ba,ia);ia.parse&&O(ba,ia.parse,za,Wa);p.hasOwnProperty(ba,"columns")&&delete ba.columns;return ba};k.responseType=function(ba){return(ba=L(ba))&&ba.responseType||"text"};k.typeParsers=T;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[23]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14),z(22),z(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,p,A){function u(Ja){const qa=Ja||k.identity,Da=[],va={};Da.add=sa=>{const xa=qa(sa);va[xa]||(va[xa]=1,Da.push(sa));return Da};Da.remove=sa=>{const xa=qa(sa);va[xa]&&(va[xa]=
0,sa=Da.indexOf(sa),0<=sa&&Da.splice(sa,1));return Da};return Da}function m(Ja,qa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield qa(Ja)}catch(Da){Ja.error(Da)}})}function l(Ja){Ja=Ja===Object(Ja)?Ja:{data:Ja};if(!Ja[C]){var qa=N++;Ja[C]=qa}return Ja}function f(Ja,qa){for(const Da in Ja)qa[Da]=Ja[Da];return qa}function g(Ja){return Ja&&Ja.constructor===d}function d(){const Ja=[],qa=[],Da=[],va=[],sa=[];let xa=null,ma=!1;return{constructor:d,insert(Ea){Ea=k.array(Ea);const Ua=
Ea.length;for(let ab=0;ab<Ua;++ab)Ja.push(Ea[ab]);return this},remove(Ea){const Ua=k.isFunction(Ea)?va:qa;Ea=k.array(Ea);const ab=Ea.length;for(let ta=0;ta<ab;++ta)Ua.push(Ea[ta]);return this},modify(Ea,Ua,ab){Ua={field:Ua,value:k.constant(ab)};k.isFunction(Ea)?(Ua.filter=Ea,sa.push(Ua)):(Ua.tuple=Ea,Da.push(Ua));return this},encode(Ea,Ua){k.isFunction(Ea)?sa.push({filter:Ea,field:Ua}):Da.push({tuple:Ea,field:Ua});return this},clean(Ea){xa=Ea;return this},reflow(){ma=!0;return this},pulse(Ea,Ua){function ab(mb,
ib,Eb){Eb?mb[ib]=Eb(mb):Ea.encode=ib;ma||(Na[mb[C]]=mb)}const ta={},Na={};let oa,aa,ka,Ia,Xa,Ya;oa=0;for(aa=Ua.length;oa<aa;++oa)ta[Ua[oa][C]]=1;oa=0;for(aa=qa.length;oa<aa;++oa)Xa=qa[oa],ta[Xa[C]]=-1;oa=0;for(aa=va.length;oa<aa;++oa)Ia=va[oa],Ua.forEach(mb=>{Ia(mb)&&(ta[mb[C]]=-1)});oa=0;for(aa=Ja.length;oa<aa;++oa)Xa=Ja[oa],Ya=Xa[C],ta[Ya]?ta[Ya]=1:Ea.add.push(l(Ja[oa]));oa=0;for(aa=Ua.length;oa<aa;++oa)Xa=Ua[oa],0>ta[Xa[C]]&&Ea.rem.push(Xa);oa=0;for(aa=Da.length;oa<aa;++oa)ka=Da[oa],Xa=ka.tuple,
Ia=ka.field,Ya=ta[Xa[C]],0<Ya&&(ab(Xa,Ia,ka.value),Ea.modifies(Ia));oa=0;for(aa=sa.length;oa<aa;++oa)ka=sa[oa],Ia=ka.filter,Ua.forEach(mb=>{Ia(mb)&&0<ta[mb[C]]&&ab(mb,ka.field,ka.value)}),Ea.modifies(ka.field);if(ma)Ea.mod=qa.length||va.length?Ua.filter(mb=>0<ta[mb[C]]):Ua.slice();else for(Ya in Na)Ea.mod.push(Na[Ya]);(xa||null==xa&&(qa.length||va.length))&&Ea.clean(!0);return Ea}}}function b(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function c(Ja,qa,Da,va){this.id=++U;this.value=
Ja;this.qrank=this.rank=this.stamp=-1;this.flags=0;qa&&(this._update=qa);Da&&this.parameters(Da,va)}function a(Ja){return function(qa){const Da=this.flags;if(0===arguments.length)return!!(Da&Ja);this.flags=qa?Da|Ja:Da&~Ja;return this}}function e(Ja,qa,Da){this.id=++ba;this.value=null;Da&&(this.receive=Da);Ja&&(this._filter=Ja);qa&&(this._apply=qa)}function t(Ja,qa,Da){return new e(Ja,qa,Da)}function y(Ja){let qa;const Da=new Promise(va=>qa=va);Da.requests=0;Da.done=()=>{0===--Da.requests&&(Ja._pending=
null,qa(Ja))};return Ja._pending=Da}function q(Ja,qa,Da,va,sa,xa){const ma=k.extend({},xa,ia);let Ea;k.isFunction(Da)||(Da=k.constant(Da));void 0===va?sa=Ua=>Ja.touch(Da(Ua)):k.isFunction(va)?(Ea=new c(null,va,sa,!1),sa=Ua=>{Ea.evaluate(Ua);Ua=Da(Ua);const ab=Ea.value;g(ab)?Ja.pulse(Ua,ab,xa):Ja.update(Ua,ab,ma)}):sa=Ua=>Ja.update(Da(Ua),va,ma);qa.apply(sa)}function E(Ja,qa,Da,va,sa,xa){void 0===va?qa.targets().add(Da):(xa=xa||{},va=new c(null,F(Da,va),sa,!1),va.modified(xa.force),va.rank=qa.rank,
qa.targets().add(va),Da&&(va.skip(!0),va.value=Da.value,va.targets().add(Da),Ja.connect(Da,[va])))}function F(Ja,qa){qa=k.isFunction(qa)?qa:k.constant(qa);return Ja?function(Da,va){Da=qa(Da,va);Ja.skip()||(Ja.skip(Da!==this.value).value=Da);return Da}:qa}function w(Ja,qa,Da){this.dataflow=Ja;this.stamp=null==qa?-1:qa;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Da||null}function D(Ja,qa){const Da=[];k.visitArray(Ja,qa,va=>Da.push(va));return Da}function G(Ja,qa){const Da={};Ja.visit(qa,
va=>{Da[va[C]]=1});return va=>Da[va[C]]?null:va}function L(Ja,qa){return Ja?(Da,va)=>Ja(Da,va)&&qa(Da,va):qa}function O(Ja,qa,Da,va){const sa=Da.length;let xa=0;this.dataflow=Ja;this.stamp=qa;this.fields=null;this.encode=va||null;this.pulses=Da;for(Ja=0;Ja<sa;++Ja)if(va=Da[Ja],va.stamp===qa){if(va.fields){const ma=this.fields||(this.fields={});for(const Ea in va.fields)ma[Ea]=1}va.changed(this.ADD)&&(xa|=this.ADD);va.changed(this.REM)&&(xa|=this.REM);va.changed(this.MOD)&&(xa|=this.MOD)}this.changes=
xa}function V(Ja){Ja.error("Dataflow already running. Use runAsync() to chain invocations.");return Ja}function S(Ja,qa){if(qa&&qa.stamp===Ja.stamp)return qa;Ja=Ja.fork();qa&&qa!==za&&(Ja.source=qa.source);return Ja}function ca(Ja){let qa=[];return{clear:()=>qa=[],size:()=>qa.length,peek:()=>qa[0],push:Da=>{qa.push(Da);return ea(qa,0,qa.length-1,Ja)},pop:()=>{var Da=qa.pop();let va;if(qa.length){va=qa[0];qa[0]=Da;Da=qa;var sa=0;const xa=sa,ma=Da.length,Ea=Da[sa];let Ua=(sa<<1)+1,ab;for(;Ua<ma;)ab=
Ua+1,ab<ma&&0<=Ja(Da[Ua],Da[ab])&&(Ua=ab),Da[sa]=Da[Ua],sa=Ua,Ua=(sa<<1)+1;Da[sa]=Ea;ea(Da,xa,sa,Ja)}else va=Da;return va}}}function ea(Ja,qa,Da,va){let sa,xa;const ma=Ja[Da];for(;Da>qa;)if(xa=Da-1>>1,sa=Ja[xa],0>va(ma,sa))Ja[Da]=sa,Da=xa;else break;return Ja[Da]=ma}function T(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=A.defaultLocale();try{this._loader=p.loader()}catch(Ja){}this._touched=u(k.id);this._input={};this._pulse=null;this._heap=ca((Ja,qa)=>Ja.qrank-
qa.qrank);this._postrun=[]}function R(Ja){return function(){return this._log[Ja].apply(this,arguments)}}function J(Ja,qa){c.call(this,Ja,null,qa)}function r(Ja){Ja=Ja&&Ja.toLowerCase();return k.hasOwnProperty(hb,Ja)?hb[Ja]:null}const C=Symbol("vega_id");let N=1;b.prototype={set(Ja,qa,Da,va){const sa=this[Ja],xa=this["_:mod:_"];if(null!=qa&&0<=qa){if(sa[qa]!==Da||va)sa[qa]=Da,xa[qa+":"+Ja]=-1,xa[Ja]=-1}else if(sa!==Da||va)this[Ja]=Da,xa[Ja]=k.isArray(Da)?1+Da.length:-1;return this},modified(Ja,qa){const Da=
this["_:mod:_"];if(!arguments.length){for(var va in Da)if(Da[va])return!0;return!1}if(k.isArray(Ja)){for(va=0;va<Ja.length;++va)if(Da[Ja[va]])return!0;return!1}return null!=qa&&0<=qa?qa+1<Da[Ja]||!!Da[qa+":"+Ja]:!!Da[Ja]},clear(){this["_:mod:_"]={};return this}};let U=0;const ja=new b;c.prototype={targets(){return this._targets||(this._targets=u(k.id))},set(Ja){return this.value!==Ja?(this.value=Ja,1):0},skip:a(1),modified:a(2),parameters(Ja,qa,Da){qa=!1!==qa;const va=this._argval=this._argval||new b,
sa=this._argops=this._argops||[],xa=[];let ma,Ea,Ua,ab;const ta=(Na,oa,aa)=>{aa instanceof c?(aa!==this&&(qa&&aa.targets().add(this),xa.push(aa)),sa.push({op:aa,name:Na,index:oa})):va.set(Na,oa,aa)};for(ma in Ja)if(Ea=Ja[ma],"pulse"===ma)k.array(Ea).forEach(Na=>{Na instanceof c?Na!==this&&(Na.targets().add(this),xa.push(Na)):k.error("Pulse parameters must be operator instances.")}),this.source=Ea;else if(k.isArray(Ea))for(va.set(ma,-1,Array(Ua=Ea.length)),ab=0;ab<Ua;++ab)ta(ma,ab,Ea[ab]);else ta(ma,
-1,Ea);this.marshall().clear();Da&&(sa.initonly=!0);return xa},marshall(Ja){const qa=this._argval||ja,Da=this._argops;let va,sa,xa,ma;if(Da){const Ea=Da.length;for(sa=0;sa<Ea;++sa)va=Da[sa],xa=va.op,ma=xa.modified()&&xa.stamp===Ja,qa.set(va.name,va.index,xa.value,ma);if(Da.initonly){for(sa=0;sa<Ea;++sa)va=Da[sa],va.op.targets().remove(this);this._update=this._argops=null}}return qa},detach(){const Ja=this._argops;let qa,Da;if(Ja)for(qa=0,Da=Ja.length;qa<Da;++qa){var va=Ja[qa];va=va.op;va._targets&&
va._targets.remove(this)}this.source=this.pulse=null},evaluate(Ja){var qa=this._update;if(qa){const Da=this.marshall(Ja.stamp);qa=qa.call(this,Da,Ja);Da.clear();if(qa!==this.value)this.value=qa;else if(!this.modified())return Ja.StopPropagation}},run(Ja){if(Ja.stamp<this.stamp)return Ja.StopPropagation;let qa;this.skip()?(this.skip(!1),qa=0):qa=this.evaluate(Ja);return this.pulse=qa||Ja}};let ba=0;e.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=u(k.id))},
consume(Ja){if(!arguments.length)return!!this._consume;this._consume=!!Ja;return this},receive(Ja){if(this._filter(Ja)){const qa=this.value=this._apply(Ja),Da=this._targets,va=Da?Da.length:0;for(let sa=0;sa<va;++sa)Da[sa].receive(qa);this._consume&&(Ja.preventDefault(),Ja.stopPropagation())}},filter(Ja){Ja=t(Ja);this.targets().add(Ja);return Ja},apply(Ja){Ja=t(null,Ja);this.targets().add(Ja);return Ja},merge(){const Ja=t();this.targets().add(Ja);for(let qa=0,Da=arguments.length;qa<Da;++qa)arguments[qa].targets().add(Ja);
return Ja},throttle(Ja){let qa=-1;return this.filter(()=>{const Da=Date.now();return Da-qa>Ja?(qa=Da,1):0})},debounce(Ja){const qa=t();this.targets().add(t(null,null,k.debounce(Ja,Da=>{const va=Da.dataflow;qa.receive(Da);va&&va.run&&va.run()})));return qa},between(Ja,qa){let Da=!1;Ja.targets().add(t(null,null,()=>Da=!0));qa.targets().add(t(null,null,()=>Da=!1));return this.filter(()=>Da)},detach(){this._filter=k.truthy;this._targets=null}};const ia={skip:!0},za={};w.prototype={StopPropagation:za,
ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(Ja){return(new w(this.dataflow)).init(this,Ja)},clone(){const Ja=this.fork(7);Ja.add=Ja.add.slice();Ja.rem=Ja.rem.slice();Ja.mod=Ja.mod.slice();Ja.source&&(Ja.source=Ja.source.slice());return Ja.materialize(23)},addAll(){let Ja=this;Ja.source&&Ja.add!==Ja.rem&&(Ja.rem.length||Ja.source.length!==Ja.add.length)&&(Ja=(new w(this.dataflow)).init(this),Ja.add=Ja.source,Ja.rem=[]);return Ja},init(Ja,qa){this.stamp=
Ja.stamp;this.encode=Ja.encode;!Ja.fields||qa&64||(this.fields=Ja.fields);qa&1?(this.addF=Ja.addF,this.add=Ja.add):(this.addF=null,this.add=[]);qa&2?(this.remF=Ja.remF,this.rem=Ja.rem):(this.remF=null,this.rem=[]);qa&4?(this.modF=Ja.modF,this.mod=Ja.mod):(this.modF=null,this.mod=[]);qa&32?this.source=this.srcF=null:(this.srcF=Ja.srcF,this.source=Ja.source,Ja.cleans&&(this.cleans=Ja.cleans));return this},runAfter(Ja){this.dataflow.runAfter(Ja)},changed(Ja){Ja=Ja||7;return Ja&1&&this.add.length||Ja&
2&&this.rem.length||Ja&4&&this.mod.length},reflow(Ja){if(Ja)return this.fork(7).reflow();Ja=this.add.length;const qa=this.source&&this.source.length;qa&&qa!==Ja&&(this.mod=this.source,Ja&&this.filter(4,G(this,1)));return this},clean(Ja){return arguments.length?(this.cleans=!!Ja,this):this.cleans},modifies(Ja){const qa=this.fields||(this.fields={});k.isArray(Ja)?Ja.forEach(Da=>qa[Da]=!0):qa[Ja]=!0;return this},modified(Ja,qa){const Da=this.fields;return(qa||this.mod.length)&&Da?arguments.length?k.isArray(Ja)?
Ja.some(va=>Da[va]):Da[Ja]:!!Da:!1},filter(Ja,qa){Ja&1&&(this.addF=L(this.addF,qa));Ja&2&&(this.remF=L(this.remF,qa));Ja&4&&(this.modF=L(this.modF,qa));Ja&16&&(this.srcF=L(this.srcF,qa));return this},materialize(Ja){Ja=Ja||7;Ja&1&&this.addF&&(this.add=D(this.add,this.addF),this.addF=null);Ja&2&&this.remF&&(this.rem=D(this.rem,this.remF),this.remF=null);Ja&4&&this.modF&&(this.mod=D(this.mod,this.modF),this.modF=null);Ja&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},
visit(Ja,qa){if(Ja&16)return k.visitArray(this.source,this.srcF,qa),this;Ja&1&&k.visitArray(this.add,this.addF,qa);Ja&2&&k.visitArray(this.rem,this.remF,qa);Ja&4&&k.visitArray(this.mod,this.modF,qa);const Da=this.source;Ja&8&&Da&&(Ja=this.add.length+this.mod.length,Ja!==Da.length&&(Ja?k.visitArray(Da,G(this,5),qa):k.visitArray(Da,this.srcF,qa)));return this}};k.inherits(O,w,{fork(Ja){const qa=(new w(this.dataflow)).init(this,Ja&this.NO_FIELDS);void 0!==Ja&&(Ja&qa.ADD&&this.visit(qa.ADD,Da=>qa.add.push(Da)),
Ja&qa.REM&&this.visit(qa.REM,Da=>qa.rem.push(Da)),Ja&qa.MOD&&this.visit(qa.MOD,Da=>qa.mod.push(Da)));return qa},changed(Ja){return this.changes&Ja},modified(Ja){const qa=this.fields;return qa&&this.changes&this.MOD?k.isArray(Ja)?Ja.some(Da=>qa[Da]):qa[Ja]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},visit(Ja,qa){const Da=this.pulses,va=Da.length;let sa=0;if(Ja&this.SOURCE)for(;sa<va;++sa)Da[sa].visit(Ja,qa);else for(;sa<
va;++sa)Da[sa].stamp===this.stamp&&Da[sa].visit(Ja,qa);return this}});const Wa={skip:!1,force:!1};T.prototype={stamp(){return this._clock},loader(Ja){return arguments.length?(this._loader=Ja,this):this._loader},locale(Ja){return arguments.length?(this._locale=Ja,this):this._locale},logger(Ja){return arguments.length?(this._log=Ja,this):this._log},error:R("error"),warn:R("warn"),info:R("info"),debug:R("debug"),logLevel:R("level"),cleanThreshold:1E4,add:function(Ja,qa,Da,va){let sa=1;Ja instanceof c||
(Ja&&Ja.prototype instanceof c?Ja=new Ja:k.isFunction(Ja)?Ja=new c(null,Ja):(sa=0,Ja=new c(Ja,qa)));this.rank(Ja);sa&&(va=Da,Da=qa);Da&&this.connect(Ja,Ja.parameters(Da,va));this.touch(Ja);return Ja},connect:function(Ja,qa){const Da=Ja.rank,va=qa.length;for(let sa=0;sa<va;++sa)if(Da<qa[sa].rank){this.rerank(Ja);break}},rank:function(Ja){Ja.rank=++this._rank},rerank:function(Ja){const qa=[Ja];let Da,va,sa;for(;qa.length;)if(this.rank(Da=qa.pop()),va=Da._targets)for(sa=va.length;0<=--sa;)qa.push(Da=
va[sa]),Da===Ja&&k.error("Cycle detected in dataflow graph.")},pulse:function(Ja,qa,Da){this.touch(Ja,Da||Wa);Da=new w(this,this._clock+(this._pulse?0:1));const va=Ja.pulse&&Ja.pulse.source||[];Da.target=Ja;this._input[Ja.id]=qa.pulse(Da,va);return this},touch:function(Ja,qa){qa=qa||Wa;this._pulse?this._enqueue(Ja):this._touched.add(Ja);qa.skip&&Ja.skip(!0);return this},update:function(Ja,qa,Da){Da=Da||Wa;(Ja.set(qa)||Da.force)&&this.touch(Ja,Da);return this},changeset:d,ingest:function(Ja,qa,Da){qa=
this.parse(qa,Da);return this.pulse(Ja,this.changeset().insert(qa))},parse:function(Ja,qa){const Da=this.locale();return p.read(Ja,qa,Da.timeParse,Da.utcParse)},preload:function(Ja,qa,Da){const va=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const sa=va._pending||y(va);sa.requests+=1;const xa=yield va.request(qa,Da);va.pulse(Ja,va.changeset().remove(k.truthy).insert(xa.data||[]));sa.done();return xa})},request:function(Ja,qa){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let va=
0,sa;try{sa=yield Da.loader().load(Ja,{context:"dataflow",response:p.responseType(qa&&qa.type)});try{sa=Da.parse(sa,qa)}catch(xa){va=-2,Da.warn("Data ingestion failed",Ja,xa)}}catch(xa){va=-1,Da.warn("Loading failed",Ja,xa)}return{data:sa,status:va}})},events:function(Ja,qa,Da,va){const sa=this,xa=t(Da,va);Da=function(ma){ma.dataflow=sa;try{xa.receive(ma)}catch(Ea){sa.error(Ea)}finally{sa.run()}};Ja="string"===typeof Ja&&"undefined"!==typeof document?document.querySelectorAll(Ja):k.array(Ja);va=Ja.length;
for(let ma=0;ma<va;++ma)Ja[ma].addEventListener(qa,Da);return xa},on:function(Ja,qa,Da,va,sa){(Ja instanceof c?E:q)(this,Ja,qa,Da,va,sa);return this},evaluate:function(Ja,qa,Da){const va=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const sa=[];if(va._pulse)return V(va);va._pending&&(yield va._pending);qa&&(yield m(va,qa));if(!va._touched.length)return va.debug("Dataflow invoked, but nothing to do."),va;var xa=++va._clock;va._pulse=new w(va,xa,Ja);va._touched.forEach(ta=>va._enqueue(ta,
!0));va._touched=u(k.id);var ma=0;let Ea,Ua,ab;try{for(;0<va._heap.size();)Ea=va._heap.pop(),Ea.rank!==Ea.qrank?va._enqueue(Ea,!0):(Ua=Ea.run(va._getPulse(Ea,Ja)),Ua.then?Ua=yield Ua:Ua.async&&(sa.push(Ua.async),Ua=za),Ua!==za&&Ea._targets&&Ea._targets.forEach(ta=>va._enqueue(ta)),++ma)}catch(ta){va._heap.clear(),ab=ta}va._input={};va._pulse=null;va.debug(`Pulse ${xa}: ${ma} operators`);ab&&(va._postrun=[],va.error(ab));if(va._postrun.length)for(xa=va._postrun.sort((ta,Na)=>Na.priority-ta.priority),
va._postrun=[],ma=0;ma<xa.length;++ma)yield m(va,xa[ma].callback);Da&&(yield m(va,Da));sa.length&&Promise.all(sa).then(ta=>va.runAsync(null,()=>{ta.forEach(Na=>{try{Na(va)}catch(oa){va.error(oa)}})}));return va})},run:function(Ja,qa,Da){return this._pulse?V(this):(this.evaluate(Ja,qa,Da),this)},runAsync:function(Ja,qa,Da){const va=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;va._running;)yield va._running;const sa=()=>va._running=null;(va._running=va.evaluate(Ja,qa,Da)).then(sa,
sa);return va._running})},runAfter:function(Ja,qa,Da){if(this._pulse||qa)this._postrun.push({priority:Da||0,callback:Ja});else try{Ja(this)}catch(va){this.error(va)}},_enqueue:function(Ja,qa){const Da=Ja.stamp<this._clock;Da&&(Ja.stamp=this._clock);if(Da||qa)Ja.qrank=Ja.rank,this._heap.push(Ja)},_getPulse:function(Ja,qa){const Da=Ja.source,va=this._clock;return Da&&k.isArray(Da)?new O(this,va,Da.map(sa=>sa.pulse),qa):this._input[Ja.id]||S(this._pulse,Da&&Da.pulse)}};k.inherits(J,c,{run(Ja){if(Ja.stamp<
this.stamp)return Ja.StopPropagation;let qa;this.skip()?this.skip(!1):qa=this.evaluate(Ja);qa=qa||Ja;qa.then?qa=qa.then(Da=>this.pulse=Da):qa!==Ja.StopPropagation&&(this.pulse=qa);return qa},evaluate(Ja){const qa=this.marshall(Ja.stamp);Ja=this.transform(qa,Ja);qa.clear();return Ja},transform(){}});const hb={};v.Dataflow=T;v.EventStream=e;v.MultiPulse=O;v.Operator=c;v.Parameters=b;v.Pulse=w;v.Transform=J;v.UniqueList=u;v.asyncCallback=m;v.changeset=d;v.definition=function(Ja){return(Ja=r(Ja))&&Ja.Definition||
null};v.derive=function(Ja){return f(Ja,l({}))};v.ingest=l;v.isChangeSet=g;v.isTuple=function(Ja){return!(!Ja||!Ja[C])};v.rederive=f;v.replace=function(Ja,qa){qa[C]=Ja[C];return qa};v.stableCompare=function(Ja,qa){return Ja?qa?(Da,va)=>Ja(Da,va)||qa(Da)[C]-qa(va)[C]:(Da,va)=>Ja(Da,va)||Da[C]-va[C]:null};v.transform=r;v.transforms=hb;v.tupleid=function(Ja){return Ja[C]};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[24]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function*k(qa,Da){if(null==Da)for(var va of qa)null!=va&&""!==va&&(va=+va)>=va&&(yield va);else{va=-1;for(let sa of qa)sa=Da(sa,++va,qa),null!=sa&&""!==sa&&(sa=+sa)>=sa&&(yield sa)}}function p(qa,Da){return null==qa||null==Da?NaN:qa<Da?-1:qa>Da?1:qa>=
Da?0:NaN}function A(qa){return null===qa?NaN:+qa}function*u(qa,Da){if(void 0===Da)for(var va of qa)null!=va&&(va=+va)>=va&&(yield va);else{va=-1;for(let sa of qa)null!=(sa=Da(sa,++va,qa))&&(sa=+sa)>=sa&&(yield sa)}}function m(qa=p){if(qa===p)return l;if("function"!==typeof qa)throw new TypeError("compare is not a function");return(Da,va)=>{const sa=qa(Da,va);return sa||0===sa?sa:(0===qa(va,va))-(0===qa(Da,Da))}}function l(qa,Da){return(null==qa||!(qa>=qa))-(null==Da||!(Da>=Da))||(qa<Da?-1:qa>Da?1:
0)}function f(qa,Da){let va;if(void 0===Da)for(var sa of qa)null!=sa&&(va<sa||void 0===va&&sa>=sa)&&(va=sa);else{sa=-1;for(let xa of qa)null!=(xa=Da(xa,++sa,qa))&&(va<xa||void 0===va&&xa>=xa)&&(va=xa)}return va}function g(qa,Da){let va;if(void 0===Da)for(var sa of qa)null!=sa&&(va>sa||void 0===va&&sa>=sa)&&(va=sa);else{sa=-1;for(let xa of qa)null!=(xa=Da(xa,++sa,qa))&&(va>xa||void 0===va&&xa>=xa)&&(va=xa)}return va}function d(qa,Da,va=0,sa=qa.length-1,xa){for(xa=void 0===xa?l:m(xa);sa>va;){if(600<
sa-va){var ma=sa-va+1,Ea=Da-va+1,Ua=Math.log(ma),ab=.5*Math.exp(2*Ua/3);Ua=.5*Math.sqrt(Ua*ab*(ma-ab)/ma)*(0>Ea-ma/2?-1:1);d(qa,Da,Math.max(va,Math.floor(Da-Ea*ab/ma+Ua)),Math.min(sa,Math.floor(Da+(ma-Ea)*ab/ma+Ua)),xa)}ma=qa[Da];Ea=va;ab=sa;b(qa,va,Da);for(0<xa(qa[sa],ma)&&b(qa,va,sa);Ea<ab;){b(qa,Ea,ab);++Ea;for(--ab;0>xa(qa[Ea],ma);)++Ea;for(;0<xa(qa[ab],ma);)--ab}0===xa(qa[va],ma)?b(qa,va,ab):(++ab,b(qa,ab,sa));ab<=Da&&(va=ab+1);Da<=ab&&(sa=ab-1)}return qa}function b(qa,Da,va){const sa=qa[Da];
qa[Da]=qa[va];qa[va]=sa}function c(qa,Da,va){qa=Float64Array.from(u(qa,va));if(va=qa.length){if(0>=(Da=+Da)||2>va)return g(qa);if(1<=Da)return f(qa);Da*=va-1;va=Math.floor(Da);var sa=f(d(qa,va).subarray(0,va+1));qa=g(qa.subarray(va+1));return sa+(qa-sa)*(Da-va)}}function a(qa,Da,va=A){if(sa=qa.length){if(0>=(Da=+Da)||2>sa)return+va(qa[0],0,qa);if(1<=Da)return+va(qa[sa-1],sa-1,qa);var sa;Da*=sa-1;sa=Math.floor(Da);var xa=+va(qa[sa],sa,qa);qa=+va(qa[sa+1],sa+1,qa);return xa+(qa-xa)*(Da-sa)}}function e(qa,
Da,va){const sa=Float64Array.from(k(qa,va));sa.sort(p);return Da.map(xa=>a(sa,xa))}function t(qa,Da){return e(qa,[.25,.5,.75],Da)}function y(qa,Da){const va=qa.length;{var sa=0;let ma,Ea=0,Ua=0;if(void 0===Da)for(var xa of qa)null!=xa&&(xa=+xa)>=xa&&(ma=xa-Ea,Ea+=ma/++sa,Ua+=ma*(xa-Ea));else{xa=-1;for(let ab of qa)null!=(ab=Da(ab,++xa,qa))&&(ab=+ab)>=ab&&(ma=ab-Ea,Ea+=ma/++sa,Ua+=ma*(ab-Ea))}sa=1<sa?Ua/(sa-1):void 0}sa=sa?Math.sqrt(sa):sa;qa=t(qa,Da);return 1.06*(Math.min(sa,(qa[2]-qa[0])/1.34)||
sa||Math.abs(qa[0])||1)*Math.pow(va,-.2)}function q(qa,Da){const va=qa.length;let sa=0,xa=1,ma,Ea;for(;qa[sa]===qa[xa];)++xa;for(;xa<va;){for(ma=xa+1;qa[xa]===qa[ma];)++ma;if(qa[xa]-qa[xa-1]<Da){for(Ea=xa+(sa+ma-xa-xa>>1);Ea<xa;)qa[Ea++]=qa[xa];for(;Ea>xa;)qa[Ea--]=qa[sa]}sa=xa;xa=ma}return qa}function E(qa,Da){qa=qa||0;Da=null==Da?1:Da;let va,sa;if(hb===hb)va=hb,hb=NaN;else{do{va=2*v.random()-1;sa=2*v.random()-1;var xa=va*va+sa*sa}while(0===xa||1<xa);xa=Math.sqrt(-2*Math.log(xa)/xa);va*=xa;hb=sa*
xa}return qa+va*Da}function F(qa,Da,va){va=null==va?1:va;qa=(qa-(Da||0))/va;return Math.exp(-.5*qa*qa)/(va*za)}function w(qa,Da,va){qa=(qa-(Da||0))/(null==va?1:va);Da=Math.abs(qa);37<Da?va=0:(va=Math.exp(-Da*Da/2),7.07106781186547>Da?(va*=(((((.0352624965998911*Da+.700383064443688)*Da+6.37396220353165)*Da+33.912866078383)*Da+112.079291497871)*Da+221.213596169931)*Da+220.206867912376,va/=((((((.0883883476483184*Da+1.75566716318264)*Da+16.064177579207)*Da+86.7807322029461)*Da+296.564248779674)*Da+637.333633378831)*
Da+793.826512519948)*Da+440.413735824752):va=va/(Da+1/(Da+2/(Da+3/(Da+4/(Da+.65)))))/2.506628274631);return 0<qa?1-va:va}function D(qa,Da,va){if(0>qa||1<qa)return NaN;qa=2*qa-1;var sa=-Math.log((1-qa)*(1+qa));6.25>sa?(sa-=3.125,sa=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+
(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa):16>sa?(sa=Math.sqrt(sa)-3.25,sa=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+
(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa):Number.isFinite(sa)?(sa=Math.sqrt(sa)-5,sa=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+
(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa)*sa):sa=Infinity;return(Da||0)+(null==va?1:va)*Wa*sa*qa}function G(qa,Da){let va,sa;const xa={mean(ma){return arguments.length?(va=ma||0,xa):va},stdev(ma){return arguments.length?
(sa=null==ma?1:ma,xa):sa},sample:()=>E(va,sa),pdf:ma=>F(ma,va,sa),cdf:ma=>w(ma,va,sa),icdf:ma=>D(ma,va,sa)};return xa.mean(qa).stdev(Da)}function L(qa,Da){Da=null==Da?1:Da;return Math.exp((qa||0)+E()*Da)}function O(qa,Da,va){if(0>=qa)return 0;va=null==va?1:va;Da=(Math.log(qa)-(Da||0))/va;return Math.exp(-.5*Da*Da)/(va*za*qa)}function V(qa,Da,va){return w(Math.log(qa),Da,va)}function S(qa,Da,va){return Math.exp(D(qa,Da,va))}function ca(qa,Da){null==Da&&(Da=null==qa?1:qa,qa=0);return qa+(Da-qa)*v.random()}
function ea(qa,Da,va){null==va&&(va=null==Da?1:Da,Da=0);return qa>=Da&&qa<=va?1/(va-Da):0}function T(qa,Da,va){null==va&&(va=null==Da?1:Da,Da=0);return qa<Da?0:qa>va?1:(qa-Da)/(va-Da)}function R(qa,Da,va){null==va&&(va=null==Da?1:Da,Da=0);return 0<=qa&&1>=qa?Da+qa*(va-Da):NaN}function J(qa,Da,va,sa){sa-=qa*qa;va=1E-24>Math.abs(sa)?0:(va-qa*Da)/sa;return[Da-va*qa,va]}function r(qa,Da,va,sa){qa=qa.filter(oa=>{let aa=Da(oa);oa=va(oa);return null!=aa&&(aa=+aa)>=aa&&null!=oa&&(oa=+oa)>=oa});sa&&qa.sort((oa,
aa)=>Da(oa)-Da(aa));sa=qa.length;const xa=new Float64Array(sa),ma=new Float64Array(sa);let Ea=0,Ua=0,ab=0,ta,Na;for(Na of qa)xa[Ea]=qa=+Da(Na),ma[Ea]=ta=+va(Na),++Ea,Ua+=(qa-Ua)/Ea,ab+=(ta-ab)/Ea;for(Ea=0;Ea<sa;++Ea)xa[Ea]-=Ua,ma[Ea]-=ab;return[xa,ma,Ua,ab]}function C(qa,Da,va,sa){let xa=-1,ma;for(const Ea of qa)qa=Da(Ea),ma=va(Ea),null!=qa&&(qa=+qa)>=qa&&null!=ma&&(ma=+ma)>=ma&&sa(qa,ma,++xa)}function N(qa,Da,va,sa,xa){let ma=0,Ea=0;C(qa,Da,va,(Ua,ab)=>{Ua=ab-xa(Ua);ab-=sa;ma+=Ua*Ua;Ea+=ab*ab});
return 1-ma/Ea}function U(qa,Da,va){let sa=0,xa=0,ma=0,Ea=0,Ua=0;C(qa,Da,va,(Na,oa)=>{++Ua;sa+=(Na-sa)/Ua;xa+=(oa-xa)/Ua;ma+=(Na*oa-ma)/Ua;Ea+=(Na*Na-Ea)/Ua});const ab=J(sa,xa,ma,Ea),ta=Na=>ab[0]+ab[1]*Na;return{coef:ab,predict:ta,rSquared:N(qa,Da,va,xa,ta)}}function ja(qa,Da,va){const [sa,xa,ma,Ea]=r(qa,Da,va);var Ua=sa.length,ab=0;let ta=0;var Na=0;let oa=0,aa=0,ka,Ia,Xa,Ya;for(ka=0;ka<Ua;)Ia=sa[ka],Xa=xa[ka++],Ya=Ia*Ia,ab+=(Ya-ab)/ka,ta+=(Ya*Ia-ta)/ka,Na+=(Ya*Ya-Na)/ka,oa+=(Ia*Xa-oa)/ka,aa+=(Ya*
Xa-aa)/ka;Ua=Na-ab*ab;Na=ab*Ua-ta*ta;const mb=(aa*ab-oa*ta)/Na,ib=(oa*Ua-aa*ta)/Na,Eb=-mb*ab;ab=Zb=>{Zb-=ma;return mb*Zb*Zb+ib*Zb+Eb+Ea};return{coef:[Eb-ib*ma+mb*ma*ma+Ea,ib-2*mb*ma,mb],predict:ab,rSquared:N(qa,Da,va,Ea,ab)}}function ba(qa,Da,va,sa){const xa=Array(qa);let ma,Ea,Ua;for(ma=0;ma<qa;++ma)xa[ma]=0;for(ma=qa-1;0<=ma;--ma)for(Ea=Da[ma],Ua=1,xa[ma]+=Ea,qa=1;qa<=ma;++qa)Ua*=(ma+1-qa)/qa,xa[ma-qa]+=Ea*Math.pow(va,qa)*Ua;xa[0]+=sa;return xa}function ia(qa){const Da=qa.length-1,va=[];let sa,
xa,ma,Ea,Ua;for(sa=0;sa<Da;++sa){Ea=sa;for(xa=sa+1;xa<Da;++xa)Math.abs(qa[sa][xa])>Math.abs(qa[sa][Ea])&&(Ea=xa);for(ma=sa;ma<Da+1;++ma)Ua=qa[ma][sa],qa[ma][sa]=qa[ma][Ea],qa[ma][Ea]=Ua;for(xa=sa+1;xa<Da;++xa)for(ma=Da;ma>=sa;ma--)qa[ma][xa]-=qa[ma][sa]*qa[sa][xa]/qa[sa][sa]}for(xa=Da-1;0<=xa;--xa){Ua=0;for(ma=xa+1;ma<Da;++ma)Ua+=qa[ma][xa]*va[ma];va[xa]=(qa[Da][xa]-Ua)/qa[xa][xa]}return va}v.random=Math.random;const za=Math.sqrt(2*Math.PI),Wa=Math.SQRT2;let hb=NaN;const Ja=.5*Math.PI/180;v.bandwidthNRD=
y;v.bin=function(qa){var Da=qa.maxbins||20;const va=qa.base||10,sa=Math.log(va),xa=qa.divide||[5,2];let ma=qa.extent[0],Ea=qa.extent[1];let Ua,ab,ta,Na;const oa=qa.span||Ea-ma||Math.abs(ma)||1;if(qa.step)var aa=qa.step;else if(qa.steps){ab=oa/Da;ta=0;for(Na=qa.steps.length;ta<Na&&qa.steps[ta]<ab;++ta);aa=qa.steps[Math.max(0,ta-1)]}else{aa=Math.ceil(Math.log(Da)/sa);Ua=qa.minstep||0;for(aa=Math.max(Ua,Math.pow(va,Math.round(Math.log(oa)/sa)-aa));Math.ceil(oa/aa)>Da;)aa*=va;ta=0;for(Na=xa.length;ta<
Na;++ta)ab=aa/xa[ta],ab>=Ua&&oa/ab<=Da&&(aa=ab)}ab=Math.log(aa);Da=Math.pow(va,-(0<=ab?0:~~(-ab/sa)+1)-1);if(qa.nice||void 0===qa.nice)ab=Math.floor(ma/aa+Da)*aa,ma=ma<ab?ab-aa:ab,Ea=Math.ceil(Ea/aa)*aa;return{start:ma,stop:Ea===ma?ma+aa:Ea,step:aa}};v.bootstrapCI=function(qa,Da,va,sa){if(!qa.length)return[void 0,void 0];qa=Float64Array.from(k(qa,sa));sa=qa.length;let xa,ma,Ea,Ua;Ea=0;for(Ua=Array(Da);Ea<Da;++Ea){for(ma=xa=0;ma<sa;++ma)xa+=qa[~~(v.random()*sa)];Ua[Ea]=xa/sa}Ua.sort(p);return[c(Ua,
va/2),c(Ua,1-va/2)]};v.cumulativeLogNormal=V;v.cumulativeNormal=w;v.cumulativeUniform=T;v.densityLogNormal=O;v.densityNormal=F;v.densityUniform=ea;v.dotbin=function(qa,Da,va,sa){sa=sa||(aa=>aa);const xa=qa.length,ma=new Float64Array(xa);let Ea=0,Ua=1,ab=sa(qa[0]),ta=ab,Na=ab+Da,oa;for(;Ua<xa;++Ua){oa=sa(qa[Ua]);if(oa>=Na){for(ta=(ab+ta)/2;Ea<Ua;++Ea)ma[Ea]=ta;Na=oa+Da;ab=oa}ta=oa}for(ta=(ab+ta)/2;Ea<Ua;++Ea)ma[Ea]=ta;return va?q(ma,Da+Da/4):ma};v.quantileLogNormal=S;v.quantileNormal=D;v.quantileUniform=
R;v.quantiles=e;v.quartiles=t;v.randomInteger=function(qa,Da){null==Da&&(Da=qa,qa=0);let va,sa,xa;const ma={min(Ea){return arguments.length?(va=Ea||0,xa=sa-va,ma):va},max(Ea){return arguments.length?(sa=Ea||0,xa=sa-va,ma):sa},sample(){return va+Math.floor(xa*v.random())},pdf(Ea){return Ea===Math.floor(Ea)&&Ea>=va&&Ea<sa?1/xa:0},cdf(Ea){Ea=Math.floor(Ea);return Ea<va?0:Ea>=sa?1:(Ea-va+1)/xa},icdf(Ea){return 0<=Ea&&1>=Ea?va-1+Math.floor(Ea*xa):NaN}};return ma.min(qa).max(Da)};v.randomKDE=function(qa,
Da){const va=G();let sa=0;const xa={data(ma){return arguments.length?(sa=(qa=ma)?ma.length:0,xa.bandwidth(Da)):qa},bandwidth(ma){if(!arguments.length)return Da;Da=ma;!Da&&qa&&(Da=y(qa));return xa},sample(){return qa[~~(v.random()*sa)]+Da*va.sample()},pdf(ma){let Ea=0,Ua=0;for(;Ua<sa;++Ua)Ea+=va.pdf((ma-qa[Ua])/Da);return Ea/Da/sa},cdf(ma){let Ea=0,Ua=0;for(;Ua<sa;++Ua)Ea+=va.cdf((ma-qa[Ua])/Da);return Ea/sa},icdf(){throw Error("KDE icdf not supported.");}};return xa.data(qa)};v.randomLCG=function(qa){return function(){qa=
(1103515245*qa+12345)%2147483647;return qa/2147483647}};v.randomLogNormal=function(qa,Da){let va,sa;const xa={mean(ma){return arguments.length?(va=ma||0,xa):va},stdev(ma){return arguments.length?(sa=null==ma?1:ma,xa):sa},sample:()=>L(va,sa),pdf:ma=>O(ma,va,sa),cdf:ma=>V(ma,va,sa),icdf:ma=>S(ma,va,sa)};return xa.mean(qa).stdev(Da)};v.randomMixture=function(qa,Da){let va=0,sa;const xa={weights(ma){if(arguments.length){var Ea=Da=ma||[];const Ua=[];let ab=0,ta;for(ta=0;ta<va;++ta)ab+=Ua[ta]=null==Ea[ta]?
1:+Ea[ta];for(ta=0;ta<va;++ta)Ua[ta]/=ab;sa=Ua;return xa}return Da},distributions(ma){return arguments.length?(ma?(va=ma.length,qa=ma):(va=0,qa=[]),xa.weights(Da)):qa},sample(){const ma=v.random();let Ea=qa[va-1],Ua=sa[0],ab=0;for(;ab<va-1;Ua+=sa[++ab])if(ma<Ua){Ea=qa[ab];break}return Ea.sample()},pdf(ma){let Ea=0,Ua=0;for(;Ua<va;++Ua)Ea+=sa[Ua]*qa[Ua].pdf(ma);return Ea},cdf(ma){let Ea=0,Ua=0;for(;Ua<va;++Ua)Ea+=sa[Ua]*qa[Ua].cdf(ma);return Ea},icdf(){throw Error("Mixture icdf not supported.");}};
return xa.distributions(qa).weights(Da)};v.randomNormal=G;v.randomUniform=function(qa,Da){let va,sa;const xa={min(ma){return arguments.length?(va=ma||0,xa):va},max(ma){return arguments.length?(sa=null==ma?1:ma,xa):sa},sample:()=>ca(va,sa),pdf:ma=>ea(ma,va,sa),cdf:ma=>T(ma,va,sa),icdf:ma=>R(ma,va,sa)};null==Da&&(Da=null==qa?1:qa,qa=0);return xa.min(qa).max(Da)};v.regressionExp=function(qa,Da,va){const [sa,,xa,ma]=r(qa,Da,va);let Ea=0,Ua=0,ab=0,ta=0,Na=0,oa,aa,ka;C(qa,Da,va,(mb,ib)=>{oa=sa[Na++];aa=
Math.log(ib);ka=oa*ib;Ea+=(ib*aa-Ea)/Na;Ua+=(ka-Ua)/Na;ab+=(ka*aa-ab)/Na;ta+=(oa*ka-ta)/Na});const [Ia,Xa]=J(Ua/ma,Ea/ma,ab/ma,ta/ma),Ya=mb=>Math.exp(Ia+Xa*(mb-xa));return{coef:[Math.exp(Ia-Xa*xa),Xa],predict:Ya,rSquared:N(qa,Da,va,ma,Ya)}};v.regressionLinear=U;v.regressionLoess=function(qa,Da,va,sa){const [xa,ma,Ea,Ua]=r(qa,Da,va,!0);qa=xa.length;Da=Math.max(2,~~(sa*qa));sa=new Float64Array(qa);va=new Float64Array(qa);var ab=(new Float64Array(qa)).fill(1);for(var ta=-1;2>=++ta;){var Na=[0,Da-1];
for(let Eb=0;Eb<qa;++Eb){var oa=xa[Eb],aa=Na[0],ka=Na[1],Ia=0,Xa=0,Ya=0,mb=0;let Zb=0;const Gc=1/Math.abs(xa[oa-xa[aa]>xa[ka]-oa?aa:ka]-oa||1);for(;aa<=ka;++aa){const rc=xa[aa],jd=ma[aa];var ib=Math.abs(oa-rc)*Gc;const Bb=(ib=1-ib*ib*ib)*ib*ib*ab[aa];ib=rc*Bb;Ia+=Bb;Xa+=ib;Ya+=jd*Bb;mb+=jd*ib;Zb+=rc*ib}const [xc,Ic]=J(Xa/Ia,Ya/Ia,mb/Ia,Zb/Ia);sa[Eb]=xc+Ic*oa;va[Eb]=Math.abs(ma[Eb]-sa[Eb]);oa=xa;ka=Eb+1;Ia=Na;Xa=oa[ka];Ya=Ia[0];mb=Ia[1]+1;if(!(mb>=oa.length))for(;ka>Ya&&oa[mb]-Xa<=Xa-oa[Ya];)Ia[0]=
++Ya,Ia[1]=mb,++mb}if(2===ta)break;Na=c(va,.5,void 0);if(1E-12>Math.abs(Na))break;for(let Eb=0,Zb,Gc;Eb<qa;++Eb)Zb=va[Eb]/(6*Na),ab[Eb]=1<=Zb?1E-12:(Gc=1-Zb*Zb)*Gc}qa=xa.length;Da=[];ab=va=0;for(ta=[];va<qa;++va)Na=xa[va]+Ea,ta[0]===Na?ta[1]+=(sa[va]-ta[1])/++ab:(ab=0,ta[1]+=Ua,ta=[Na,sa[va]],Da.push(ta));ta[1]+=Ua;return Da};v.regressionLog=function(qa,Da,va){let sa=0,xa=0,ma=0,Ea=0,Ua=0;C(qa,Da,va,(Na,oa)=>{++Ua;Na=Math.log(Na);sa+=(Na-sa)/Ua;xa+=(oa-xa)/Ua;ma+=(Na*oa-ma)/Ua;Ea+=(Na*Na-Ea)/Ua});
const ab=J(sa,xa,ma,Ea),ta=Na=>ab[0]+ab[1]*Math.log(Na);return{coef:ab,predict:ta,rSquared:N(qa,Da,va,xa,ta)}};v.regressionPoly=function(qa,Da,va,sa){if(1===sa)return U(qa,Da,va);if(2===sa)return ja(qa,Da,va);const [xa,ma,Ea,Ua]=r(qa,Da,va);var ab=xa.length;const ta=[],Na=[],oa=sa+1;let aa,ka,Ia,Xa;for(aa=0;aa<oa;++aa){for(Ia=ka=0;ka<ab;++ka)Ia+=Math.pow(xa[ka],aa)*ma[ka];ta.push(Ia);Xa=new Float64Array(oa);for(sa=0;sa<oa;++sa){for(Ia=ka=0;ka<ab;++ka)Ia+=Math.pow(xa[ka],aa+sa);Xa[sa]=Ia}Na.push(Xa)}Na.push(ta);
const Ya=ia(Na);ab=mb=>{mb-=Ea;let ib=Ua+Ya[0]+Ya[1]*mb+Ya[2]*mb*mb;for(aa=3;aa<oa;++aa)ib+=Ya[aa]*Math.pow(mb,aa);return ib};return{coef:ba(oa,Ya,-Ea,Ua),predict:ab,rSquared:N(qa,Da,va,Ua,ab)}};v.regressionPow=function(qa,Da,va){let sa=0,xa=0,ma=0,Ea=0,Ua=0,ab=0;C(qa,Da,va,(oa,aa)=>{oa=Math.log(oa);const ka=Math.log(aa);++ab;sa+=(oa-sa)/ab;xa+=(ka-xa)/ab;ma+=(oa*ka-ma)/ab;Ea+=(oa*oa-Ea)/ab;Ua+=(aa-Ua)/ab});const ta=J(sa,xa,ma,Ea),Na=oa=>ta[0]*Math.pow(oa,ta[1]);ta[0]=Math.exp(ta[0]);return{coef:ta,
predict:Na,rSquared:N(qa,Da,va,Ua,Na)}};v.regressionQuad=ja;v.sampleCurve=function(qa,Da,va,sa){va=va||25;sa=Math.max(va,sa||200);var xa=Da[0],ma=Da[1],Ea=ma-xa,Ua=Ea/sa;Da=[[xa,qa(xa)]];var ab=[];if(va===sa){for(var ta=1;ta<sa;++ta){Ua=Da;ab=Ua.push;var Na=xa+ta/va*Ea;Na=[Na,qa(Na)];ab.call(Ua,Na)}Da.push([ma,qa(ma)]);return Da}ab.push([ma,qa(ma)]);for(ta=va;0<--ta;)sa=ab,ma=sa.push,Na=xa+ta/va*Ea,Na=[Na,qa(Na)],ma.call(sa,Na);va=Da[0];xa=ab[ab.length-1];Ea=1/Ea;sa=ma=va[1];ta=ab.length;for(Na=0;Na<
ta;++Na){const oa=ab[Na][1];oa<sa&&(sa=oa);oa>ma&&(ma=oa)}for(sa=1/(ma-sa);xa;)ma=(va[0]+xa[0])/2,ma=[ma,qa(ma)],ma[0]-va[0]>=Ua&&Math.abs(Math.atan2(sa*(xa[1]-va[1]),Ea*(xa[0]-va[0]))-Math.atan2(sa*(ma[1]-va[1]),Ea*(ma[0]-va[0])))>Ja?ab.push(ma):(va=xa,Da.push(xa),ab.pop()),xa=ab[ab.length-1];return Da};v.sampleLogNormal=L;v.sampleNormal=E;v.sampleUniform=ca;v.setRandom=function(qa){v.random=qa};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[25]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14),z(23),z(24),z(16)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,p,A,u){function m(Ga){return $a=>{const ub=Ga.length;let Mb=1,fc=String(Ga[0]($a));for(;Mb<ub;++Mb)fc+="|"+Ga[Mb]($a);return fc}}function l(Ga){return Ga&&
Ga.length?1===Ga.length?Ga[0]:m(Ga):function(){return""}}function f(Ga,$a){return ub=>k.extend({name:Ga,out:ub||Ga},ld,$a)}function g(Ga,$a){return Ga.idx-$a.idx}function d(Ga){const $a={};Ga.forEach(Mb=>$a[Mb.name]=Mb);const ub=Mb=>{Mb.req&&Mb.req.forEach(fc=>{$a[fc]||ub($a[fc]=rd[fc]())})};Ga.forEach(ub);return Object.values($a).sort(g)}function b(){this.missing=this.valid=0;this._ops.forEach(Ga=>Ga.init(this))}function c(Ga,$a){null==Ga||""===Ga?++this.missing:Ga===Ga&&(++this.valid,this._ops.forEach(ub=>
ub.add(this,Ga,$a)))}function a(Ga,$a){null==Ga||""===Ga?--this.missing:Ga===Ga&&(--this.valid,this._ops.forEach(ub=>ub.rem(this,Ga,$a)))}function e(Ga){this._out.forEach($a=>Ga[$a.out]=$a.value(this));return Ga}function t(Ga,$a){function ub(oc){this._ops=Mb;this._out=fc;this.cell=oc;this.init()}$a=$a||k.identity;const Mb=d(Ga),fc=Ga.slice().sort(g);ub.prototype.init=b;ub.prototype.add=c;ub.prototype.rem=a;ub.prototype.set=e;ub.prototype.get=$a;ub.fields=Ga.map(oc=>oc.out);return ub}function y(Ga){this._key=
Ga?k.field(Ga):p.tupleid;this.reset()}function q(Ga){p.Transform.call(this,null,Ga);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function E(Ga){p.Transform.call(this,null,Ga)}function F(Ga,$a,ub){let Mb=$a||[],fc=ub||[],oc={},Mc=0;return{add:Kc=>fc.push(Kc),remove:Kc=>oc[Ga(Kc)]=++Mc,size:()=>Mb.length,data:(Kc,gc)=>{Mc&&(Mb=Mb.filter(fd=>!oc[Ga(fd)]),
oc={},Mc=0);gc&&Kc&&Mb.sort(Kc);fc.length&&(Mb=Kc?k.merge(Kc,Mb,fc.sort(Kc)):Mb.concat(fc),fc=[]);return Mb}}}function w(Ga){p.Transform.call(this,[],Ga)}function D(Ga){p.Operator.call(this,null,G,Ga)}function G(Ga){return this.value&&!Ga.modified()?this.value:k.compare(Ga.fields,Ga.orders)}function L(Ga){p.Transform.call(this,null,Ga)}function O(Ga){p.Transform.call(this,null,Ga)}function V(Ga,$a){var ub=Ga["function"];k.hasOwnProperty(fe,ub)||k.error("Unknown distribution function: "+ub);ub=fe[ub]();
for(const Mb in Ga)if("field"===Mb)ub.data((Ga.from||$a()).map(Ga[Mb]));else if("distributions"===Mb)ub[Mb](Ga[Mb].map(fc=>V(fc,$a)));else if("function"===typeof ub[Mb])ub[Mb](Ga[Mb]);return ub}function S(Ga){p.Transform.call(this,null,Ga)}function ca(Ga){return()=>Ga.materialize(Ga.SOURCE).source}function ea(Ga,$a){return Ga?Ga.map((ub,Mb)=>$a[Mb]||k.accessorName(ub)):null}function T(Ga,$a,ub){const Mb=[],fc=Fd=>Fd(gc);let oc,Mc,Kc,gc,fd,nd;if(null==$a)Mb.push(Ga.map(ub));else for(oc={},Mc=0,Kc=
Ga.length;Mc<Kc;++Mc)gc=Ga[Mc],fd=$a.map(fc),nd=oc[fd],nd||(oc[fd]=nd=[],nd.dims=fd,Mb.push(nd)),nd.push(ub(gc));return Mb}function R(Ga){p.Transform.call(this,null,Ga)}function J(Ga){p.Operator.call(this,null,r,Ga);this.modified(!0)}function r(Ga){const $a=Ga.expr;return this.value&&!Ga.modified("expr")?this.value:k.accessor(ub=>$a(ub,Ga),k.accessorFields($a),k.accessorName($a))}function C(Ga){p.Transform.call(this,[void 0,void 0],Ga)}function N(Ga,$a){p.Operator.call(this,Ga);this.parent=$a;this.count=
0}function U(Ga){p.Transform.call(this,{},Ga);this._keys=k.fastmap();const $a=this._targets=[];$a.active=0;$a.forEach=ub=>{for(let Mb=0,fc=$a.active;Mb<fc;++Mb)ub($a[Mb],Mb,$a)}}function ja(Ga){p.Operator.call(this,null,ba,Ga)}function ba(Ga){return this.value&&!Ga.modified()?this.value:k.isArray(Ga.name)?k.array(Ga.name).map($a=>k.field($a)):k.field(Ga.name,Ga.as)}function ia(Ga){p.Transform.call(this,k.fastmap(),Ga)}function za(Ga){p.Transform.call(this,[],Ga)}function Wa(Ga){p.Transform.call(this,
[],Ga)}function hb(Ga){p.Transform.call(this,null,Ga)}function Ja(Ga){p.Transform.call(this,[],Ga)}function qa(Ga,$a){return null==Ga||null==$a?NaN:Ga<$a?-1:Ga>$a?1:Ga>=$a?0:NaN}function Da(Ga){function $a(oc,Mc,Kc=0,gc=oc.length){if(Kc<gc){if(0!==Mb(Mc,Mc))return gc;do{const fd=Kc+gc>>>1;0>fc(oc[fd],Mc)?Kc=fd+1:gc=fd}while(Kc<gc)}return Kc}let ub=Ga,Mb=Ga,fc=Ga;2!==Ga.length&&(ub=(oc,Mc)=>Ga(oc)-Mc,Mb=qa,fc=(oc,Mc)=>qa(Ga(oc),Mc));return{left:$a,center:function(oc,Mc,Kc=0,gc=oc.length){gc=$a(oc,
Mc,Kc,gc-1);return gc>Kc&&ub(oc[gc-1],Mc)>-ub(oc[gc],Mc)?gc-1:gc},right:function(oc,Mc,Kc=0,gc=oc.length){if(Kc<gc){if(0!==Mb(Mc,Mc))return gc;do{const fd=Kc+gc>>>1;0>=fc(oc[fd],Mc)?Kc=fd+1:gc=fd}while(Kc<gc)}return Kc}}}function*va(Ga,$a){if(void 0===$a)for(var ub of Ga)null!=ub&&(ub=+ub)>=ub&&(yield ub);else{ub=-1;for(let Mb of Ga)null!=(Mb=$a(Mb,++ub,Ga))&&(Mb=+Mb)>=Mb&&(yield Mb)}}function sa(Ga=qa){if(Ga===qa)return xa;if("function"!==typeof Ga)throw new TypeError("compare is not a function");
return($a,ub)=>{const Mb=Ga($a,ub);return Mb||0===Mb?Mb:(0===Ga(ub,ub))-(0===Ga($a,$a))}}function xa(Ga,$a){return(null==Ga||!(Ga>=Ga))-(null==$a||!($a>=$a))||(Ga<$a?-1:Ga>$a?1:0)}function ma(Ga,$a){let ub;if(void 0===$a)for(var Mb of Ga)null!=Mb&&(ub<Mb||void 0===ub&&Mb>=Mb)&&(ub=Mb);else{Mb=-1;for(let fc of Ga)null!=(fc=$a(fc,++Mb,Ga))&&(ub<fc||void 0===ub&&fc>=fc)&&(ub=fc)}return ub}function Ea(Ga,$a){let ub;if(void 0===$a)for(var Mb of Ga)null!=Mb&&(ub>Mb||void 0===ub&&Mb>=Mb)&&(ub=Mb);else{Mb=
-1;for(let fc of Ga)null!=(fc=$a(fc,++Mb,Ga))&&(ub>fc||void 0===ub&&fc>=fc)&&(ub=fc)}return ub}function Ua(Ga,$a,ub=0,Mb=Ga.length-1,fc){for(fc=void 0===fc?xa:sa(fc);Mb>ub;){if(600<Mb-ub){var oc=Mb-ub+1,Mc=$a-ub+1,Kc=Math.log(oc),gc=.5*Math.exp(2*Kc/3);Kc=.5*Math.sqrt(Kc*gc*(oc-gc)/oc)*(0>Mc-oc/2?-1:1);Ua(Ga,$a,Math.max(ub,Math.floor($a-Mc*gc/oc+Kc)),Math.min(Mb,Math.floor($a+(oc-Mc)*gc/oc+Kc)),fc)}oc=Ga[$a];Mc=ub;gc=Mb;ab(Ga,ub,$a);for(0<fc(Ga[Mb],oc)&&ab(Ga,ub,Mb);Mc<gc;){ab(Ga,Mc,gc);++Mc;for(--gc;0>
fc(Ga[Mc],oc);)++Mc;for(;0<fc(Ga[gc],oc);)--gc}0===fc(Ga[ub],oc)?ab(Ga,ub,gc):(++gc,ab(Ga,gc,Mb));gc<=$a&&(ub=gc+1);$a<=gc&&(Mb=gc-1)}return Ga}function ab(Ga,$a,ub){const Mb=Ga[$a];Ga[$a]=Ga[ub];Ga[ub]=Mb}function ta(Ga,$a,ub){Ga=+Ga;$a=+$a;ub=2>(fc=arguments.length)?($a=Ga,Ga=0,1):3>fc?1:+ub;for(var Mb=-1,fc=Math.max(0,Math.ceil(($a-Ga)/ub))|0,oc=Array(fc);++Mb<fc;)oc[Mb]=Ga+Mb*ub;return oc}function Na(Ga){p.Transform.call(this,[],Ga)}function oa(Ga){var $a=Ga.method||ce.value;if(null==ce[$a])k.error("Unrecognized imputation method: "+
$a);else{if($a===ce.value){var ub=void 0!==Ga.value?Ga.value:0;return()=>ub}return ce[$a]}}function aa(Ga){const $a=Ga.field;return ub=>ub?$a(ub):NaN}function ka(Ga,$a,ub,Mb){var fc=Ee=>Ee(Fd),oc=[];Mb=Mb?Mb.slice():[];var Mc={},Kc={},gc,fd;Mb.forEach((Ee,ze)=>Mc[Ee]=ze+1);var nd=0;for(fd=Ga.length;nd<fd;++nd){var Fd=Ga[nd];var Od=ub(Fd);var Ud=Mc[Od]||(Mc[Od]=Mb.push(Od));var Yd=(Od=$a?$a.map(fc):Td)+"";(gc=Kc[Yd])||(gc=Kc[Yd]=[],oc.push(gc),gc.values=Od);gc[Ud-1]=Fd}oc.domain=Mb;return oc}function Ia(Ga){q.call(this,
Ga)}function Xa(Ga){p.Transform.call(this,null,Ga)}function Ya(Ga){p.Operator.call(this,null,mb,Ga)}function mb(Ga){return this.value&&!Ga.modified()?this.value:k.key(Ga.fields,Ga.flat)}function ib(Ga){p.Transform.call(this,[],Ga);this._pending=null}function Eb(Ga){return Ga.modified("async")&&!(Ga.modified("values")||Ga.modified("url")||Ga.modified("format"))}function Zb(Ga,$a,ub){ub.forEach(p.ingest);$a=$a.fork($a.NO_FIELDS&$a.NO_SOURCE);$a.rem=Ga.value;Ga.value=$a.source=$a.add=ub;Ga._pending=
null;$a.rem.length&&$a.clean(!0);return $a}function Gc(Ga){p.Transform.call(this,{},Ga)}function xc(Ga){p.Operator.call(this,null,Ic,Ga)}function Ic(Ga){if(this.value&&!Ga.modified())return this.value;Ga=Ga.extents;const $a=Ga.length;let ub=Infinity,Mb=-Infinity,fc,oc;for(fc=0;fc<$a;++fc)oc=Ga[fc],oc[0]<ub&&(ub=oc[0]),oc[1]>Mb&&(Mb=oc[1]);return[ub,Mb]}function rc(Ga){p.Operator.call(this,null,jd,Ga)}function jd(Ga){return this.value&&!Ga.modified()?this.value:Ga.values.reduce(($a,ub)=>$a.concat(ub),
[])}function Bb(Ga){p.Transform.call(this,null,Ga)}function tb(Ga){q.call(this,Ga)}function dc(Ga,$a){const ub=Ga.field,Mb=Ga.value,fc=("count"===Ga.op?"__count__":Ga.op)||"sum",oc=k.accessorFields(ub).concat(k.accessorFields(Mb)),Mc=hc(ub,Ga.limit||0,$a);$a.changed()&&Ga.set("__pivot__",null,null,!0);return{key:Ga.key,groupby:Ga.groupby,ops:Mc.map(()=>fc),fields:Mc.map(Kc=>Yb(Kc,ub,Mb,oc)),as:Mc.map(Kc=>Kc+""),modified:Ga.modified.bind(Ga)}}function Yb(Ga,$a,ub,Mb){return k.accessor(fc=>$a(fc)===
Ga?ub(fc):NaN,Mb,Ga+"")}function hc(Ga,$a,ub){const Mb={},fc=[];ub.visit(ub.SOURCE,oc=>{oc=Ga(oc);Mb[oc]||(Mb[oc]=1,fc.push(oc))});fc.sort(k.ascending);return $a?fc.slice(0,$a):fc}function vc(Ga){U.call(this,Ga)}function qc(Ga){p.Transform.call(this,null,Ga)}function Dc(Ga){p.Transform.call(this,null,Ga)}function Yc(Ga){p.Transform.call(this,null,Ga)}function Hd(Ga){p.Transform.call(this,null,Ga)}function Fa(Ga){p.Transform.call(this,[],Ga);this.count=0}function Ca(Ga){p.Transform.call(this,null,
Ga)}function Ha(Ga){p.Transform.call(this,null,Ga);this.modified(!0)}function db(Ga){p.Transform.call(this,null,Ga)}function ob(Ga){p.Transform.call(this,k.fastmap(),Ga)}function Ab(Ga){p.Transform.call(this,null,Ga)}function Ob(Ga,$a,ub,Mb){const fc=Se[Ga]($a,ub);return{init:fc.init||k.zero,update:function(oc,Mc){Mc[Mb]=fc.next(oc)}}}function Ub(Ga){function $a(Ud){k.array(k.accessorFields(Ud)).forEach(Yd=>gc[Yd]=1)}const ub=k.array(Ga.ops),Mb=k.array(Ga.fields),fc=k.array(Ga.params),oc=k.array(Ga.as),
Mc=this.outputs=[],Kc=this.windows=[],gc={},fd={},nd=[],Fd=[];let Od=!0;$a(Ga.sort);ub.forEach((Ud,Yd)=>{const Ee=Mb[Yd],ze=k.accessorName(Ee),Bf=oc[Yd]||Ud+(ze?"_"+ze:"");$a(Ee);Mc.push(Bf);k.hasOwnProperty(Se,Ud)?Kc.push(Ob(Ud,Mb[Yd],fc[Yd],Bf)):(null==Ee&&"count"!==Ud&&k.error("Null aggregate field specified."),"count"===Ud?nd.push(Bf):(Od=!1,Yd=fd[ze],Yd||(Yd=fd[ze]=[],Yd.field=Ee,Fd.push(Yd)),Yd.push(rd[Ud](Bf))))});if(nd.length||Fd.length)this.cell=$b(Fd,nd,Od);this.inputs=Object.keys(gc)}function $b(Ga,
$a,ub){Ga=Ga.map(gc=>t(gc,gc.field));const Mb={num:0,agg:null,store:!1,count:$a};if(!ub)for(var fc=Ga.length,oc=Mb.agg=Array(fc),Mc=0;Mc<fc;++Mc)oc[Mc]=new Ga[Mc](Mb);if(Mb.store)var Kc=Mb.data=new y;Mb.add=function(gc){Mb.num+=1;if(!ub){Kc&&Kc.add(gc);for(let fd=0;fd<fc;++fd)oc[fd].add(oc[fd].get(gc),gc)}};Mb.rem=function(gc){--Mb.num;if(!ub){Kc&&Kc.rem(gc);for(let fd=0;fd<fc;++fd)oc[fd].rem(oc[fd].get(gc),gc)}};Mb.set=function(gc){let fd,nd;Kc&&Kc.values();fd=0;for(nd=$a.length;fd<nd;++fd)gc[$a[fd]]=
Mb.num;if(!ub)for(fd=0,nd=oc.length;fd<nd;++fd)oc[fd].set(gc)};Mb.init=function(){Mb.num=0;Kc&&Kc.reset();for(let gc=0;gc<fc;++gc)oc[gc].init()};return Mb}function Jc(Ga){p.Transform.call(this,{},Ga);this._mlen=0;this._mods=[]}function Wc(Ga,$a,ub,Mb){var fc=Mb.sort;const oc=fc&&!Mb.ignorePeers;Mb=Mb.frame||[null,0];Ga=Ga.data(ub);ub=Ga.length;const Mc=oc?Da(fc):null;fc={i0:0,i1:0,p0:0,p1:0,index:0,data:Ga,compare:fc||k.constant(-1)};$a.init();for(let Fd=0;Fd<ub;++Fd){var Kc=fc,gc=Mb,fd=Fd,nd=ub;
Kc.p0=Kc.i0;Kc.p1=Kc.i1;Kc.i0=null==gc[0]?0:Math.max(0,fd-Math.abs(gc[0]));Kc.i1=null==gc[1]?nd:Math.min(nd,fd+Math.abs(gc[1])+1);Kc.index=fd;if(oc){Kc=fc;gc=Mc;fd=Kc.i0;nd=Kc.i1-1;const Od=Kc.compare,Ud=Kc.data,Yd=Ud.length-1;0<fd&&!Od(Ud[fd],Ud[fd-1])&&(Kc.i0=gc.left(Ud,Ud[fd]));nd<Yd&&!Od(Ud[nd],Ud[nd+1])&&(Kc.i1=gc.right(Ud,Ud[nd]))}$a.update(fc,Ga[Fd])}}const dd=()=>{},ld={init:dd,add:dd,rem:dd,idx:0},rd={values:{init:Ga=>Ga.cell.store=!0,value:Ga=>Ga.cell.data.values(),idx:-1},count:{value:Ga=>
Ga.cell.num},__count__:{value:Ga=>Ga.missing+Ga.valid},missing:{value:Ga=>Ga.missing},valid:{value:Ga=>Ga.valid},sum:{init:Ga=>Ga.sum=0,value:Ga=>Ga.sum,add:(Ga,$a)=>Ga.sum+=+$a,rem:(Ga,$a)=>Ga.sum-=$a},product:{init:Ga=>Ga.product=1,value:Ga=>Ga.valid?Ga.product:void 0,add:(Ga,$a)=>Ga.product*=$a,rem:(Ga,$a)=>Ga.product/=$a},mean:{init:Ga=>Ga.mean=0,value:Ga=>Ga.valid?Ga.mean:void 0,add:(Ga,$a)=>(Ga.mean_d=$a-Ga.mean,Ga.mean+=Ga.mean_d/Ga.valid),rem:(Ga,$a)=>(Ga.mean_d=$a-Ga.mean,Ga.mean-=Ga.valid?
Ga.mean_d/Ga.valid:Ga.mean)},average:{value:Ga=>Ga.valid?Ga.mean:void 0,req:["mean"],idx:1},variance:{init:Ga=>Ga.dev=0,value:Ga=>1<Ga.valid?Ga.dev/(Ga.valid-1):void 0,add:(Ga,$a)=>Ga.dev+=Ga.mean_d*($a-Ga.mean),rem:(Ga,$a)=>Ga.dev-=Ga.mean_d*($a-Ga.mean),req:["mean"],idx:1},variancep:{value:Ga=>1<Ga.valid?Ga.dev/Ga.valid:void 0,req:["variance"],idx:2},stdev:{value:Ga=>1<Ga.valid?Math.sqrt(Ga.dev/(Ga.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:Ga=>1<Ga.valid?Math.sqrt(Ga.dev/Ga.valid):
void 0,req:["variance"],idx:2},stderr:{value:Ga=>1<Ga.valid?Math.sqrt(Ga.dev/(Ga.valid*(Ga.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:Ga=>Ga.cell.data.distinct(Ga.get),req:["values"],idx:3},ci0:{value:Ga=>Ga.cell.data.ci0(Ga.get),req:["values"],idx:3},ci1:{value:Ga=>Ga.cell.data.ci1(Ga.get),req:["values"],idx:3},median:{value:Ga=>Ga.cell.data.q2(Ga.get),req:["values"],idx:3},q1:{value:Ga=>Ga.cell.data.q1(Ga.get),req:["values"],idx:3},q3:{value:Ga=>Ga.cell.data.q3(Ga.get),req:["values"],
idx:3},min:{init:Ga=>Ga.min=void 0,value:Ga=>Ga.min=Number.isNaN(Ga.min)?Ga.cell.data.min(Ga.get):Ga.min,add:(Ga,$a)=>{if($a<Ga.min||void 0===Ga.min)Ga.min=$a},rem:(Ga,$a)=>{$a<=Ga.min&&(Ga.min=NaN)},req:["values"],idx:4},max:{init:Ga=>Ga.max=void 0,value:Ga=>Ga.max=Number.isNaN(Ga.max)?Ga.cell.data.max(Ga.get):Ga.max,add:(Ga,$a)=>{if($a>Ga.max||void 0===Ga.max)Ga.max=$a},rem:(Ga,$a)=>{$a>=Ga.max&&(Ga.max=NaN)},req:["values"],idx:4},argmin:{init:Ga=>Ga.argmin=void 0,value:Ga=>Ga.argmin||Ga.cell.data.argmin(Ga.get),
add:(Ga,$a,ub)=>{$a<Ga.min&&(Ga.argmin=ub)},rem:(Ga,$a)=>{$a<=Ga.min&&(Ga.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:Ga=>Ga.argmax=void 0,value:Ga=>Ga.argmax||Ga.cell.data.argmax(Ga.get),add:(Ga,$a,ub)=>{$a>Ga.max&&(Ga.argmax=ub)},rem:(Ga,$a)=>{$a>=Ga.max&&(Ga.argmax=void 0)},req:["max","values"],idx:3}},Kd=Object.keys(rd);Kd.forEach(Ga=>{rd[Ga]=f(Ga,rd[Ga])});const Nd=y.prototype;Nd.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Nd.add=function(Ga){this._add.push(Ga)};
Nd.rem=function(Ga){this._rem.push(Ga)};Nd.values=function(){this._get=null;if(0===this._rem.length)return this._add;const Ga=this._add;var $a=this._rem;const ub=this._key,Mb=Ga.length,fc=$a.length,oc=Array(Mb-fc),Mc={};let Kc,gc;for(Kc=0;Kc<fc;++Kc)Mc[ub($a[Kc])]=1;for($a=Kc=0;Kc<Mb;++Kc)Mc[ub(gc=Ga[Kc])]?Mc[ub(gc)]=0:oc[$a++]=gc;this._rem=[];return this._add=oc};Nd.distinct=function(Ga){const $a=this.values(),ub={};let Mb=$a.length,fc=0,oc;for(;0<=--Mb;)oc=Ga($a[Mb])+"",k.hasOwnProperty(ub,oc)||
(ub[oc]=1,++fc);return fc};Nd.extent=function(Ga){if(this._get!==Ga||!this._ext){const $a=this.values(),ub=k.extentIndex($a,Ga);this._ext=[$a[ub[0]],$a[ub[1]]];this._get=Ga}return this._ext};Nd.argmin=function(Ga){return this.extent(Ga)[0]||{}};Nd.argmax=function(Ga){return this.extent(Ga)[1]||{}};Nd.min=function(Ga){const $a=this.extent(Ga)[0];return null!=$a?Ga($a):void 0};Nd.max=function(Ga){const $a=this.extent(Ga)[1];return null!=$a?Ga($a):void 0};Nd.quartile=function(Ga){this._get===Ga&&this._q||
(this._q=A.quartiles(this.values(),Ga),this._get=Ga);return this._q};Nd.q1=function(Ga){return this.quartile(Ga)[0]};Nd.q2=function(Ga){return this.quartile(Ga)[1]};Nd.q3=function(Ga){return this.quartile(Ga)[2]};Nd.ci=function(Ga){this._get===Ga&&this._ci||(this._ci=A.bootstrapCI(this.values(),1E3,.05,Ga),this._get=Ga);return this._ci};Nd.ci0=function(Ga){return this.ci(Ga)[0]};Nd.ci1=function(Ga){return this.ci(Ga)[1]};q.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Kd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};k.inherits(q,p.Transform,{transform(Ga,$a){const ub=this,Mb=$a.fork($a.NO_SOURCE|$a.NO_FIELDS),fc=Ga.modified();ub.stamp=Mb.stamp;ub.value&&(fc||$a.modified(ub._inputs,!0))?(ub._prev=ub.value,ub.value=fc?ub.init(Ga):{},$a.visit($a.SOURCE,
oc=>ub.add(oc))):(ub.value=ub.value||ub.init(Ga),$a.visit($a.REM,oc=>ub.rem(oc)),$a.visit($a.ADD,oc=>ub.add(oc)));Mb.modifies(ub._outputs);ub._drop=!1!==Ga.drop;Ga.cross&&1<ub._dims.length&&(ub._drop=!1,ub.cross());$a.clean()&&ub._drop&&Mb.clean(!0).runAfter(()=>this.clean());return ub.changes(Mb)},cross(){function Ga(Kc){let gc,fd,nd,Fd;for(gc in Kc)for(nd=Kc[gc].tuple,fd=0;fd<Mc;++fd)oc[fd][Fd=nd[fc[fd]]]=Fd}function $a(Kc,gc,fd){const nd=fc[fd],Fd=oc[fd++];for(const Od in Fd){const Ud=Kc?Kc+"|"+
Od:Od;gc[nd]=Fd[Od];fd<Mc?$a(Ud,gc,fd):Mb[Ud]||ub.cell(Ud,gc)}}const ub=this,Mb=ub.value,fc=ub._dnames,oc=fc.map(()=>({})),Mc=fc.length;Ga(ub._prev);Ga(Mb);$a("",{},0)},init(Ga){function $a(Ee){Ee=k.array(k.accessorFields(Ee));const ze=Ee.length;let Bf=0,xe;for(;Bf<ze;++Bf)fc[xe=Ee[Bf]]||(fc[xe]=1,ub.push(xe))}const ub=this._inputs=[],Mb=this._outputs=[],fc={};this._dims=k.array(Ga.groupby);this._dnames=this._dims.map(Ee=>{const ze=k.accessorName(Ee);$a(Ee);Mb.push(ze);return ze});this.cellkey=Ga.key?
Ga.key:l(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const oc=Ga.fields||[null],Mc=Ga.ops||["count"];Ga=Ga.as||[];const Kc=oc.length,gc={};let fd,nd,Fd,Od,Ud,Yd;Kc!==Mc.length&&k.error("Unmatched number of fields and aggregate ops.");for(Yd=0;Yd<Kc;++Yd)fd=oc[Yd],nd=Mc[Yd],null==fd&&"count"!==nd&&k.error("Null aggregate field specified."),Od=k.accessorName(fd),Ud=Ga[Yd]||nd+(Od?"_"+Od:""),Mb.push(Ud),"count"===nd?this._counts.push(Ud):(Fd=gc[Od],Fd||($a(fd),Fd=gc[Od]=[],Fd.field=
fd,this._measures.push(Fd)),"count"!==nd&&(this._countOnly=!1),Fd.push(rd[nd](Ud)));this._measures=this._measures.map(Ee=>t(Ee,Ee.field));return{}},cellkey:l(),cell(Ga,$a){let ub=this.value[Ga];ub?0===ub.num&&this._drop&&ub.stamp<this.stamp?(ub.stamp=this.stamp,this._adds[this._alen++]=ub):ub.stamp<this.stamp&&(ub.stamp=this.stamp,this._mods[this._mlen++]=ub):(ub=this.value[Ga]=this.newcell(Ga,$a),this._adds[this._alen++]=ub);return ub},newcell(Ga,$a){Ga={key:Ga,num:0,agg:null,tuple:this.newtuple($a,
this._prev&&this._prev[Ga]),stamp:this.stamp,store:!1};if(!this._countOnly){$a=this._measures;const ub=$a.length;Ga.agg=Array(ub);for(let Mb=0;Mb<ub;++Mb)Ga.agg[Mb]=new $a[Mb](Ga)}Ga.store&&(Ga.data=new y);return Ga},newtuple(Ga,$a){const ub=this._dnames,Mb=this._dims,fc=Mb.length,oc={};for(let Mc=0;Mc<fc;++Mc)oc[ub[Mc]]=Mb[Mc](Ga);return $a?p.replace($a.tuple,oc):p.ingest(oc)},clean(){const Ga=this.value;for(const $a in Ga)0===Ga[$a].num&&delete Ga[$a]},add(Ga){var $a=this.cellkey(Ga);$a=this.cell($a,
Ga);$a.num+=1;if(!this._countOnly){$a.store&&$a.data.add(Ga);$a=$a.agg;for(let ub=0,Mb=$a.length;ub<Mb;++ub)$a[ub].add($a[ub].get(Ga),Ga)}},rem(Ga){var $a=this.cellkey(Ga);$a=this.cell($a,Ga);--$a.num;if(!this._countOnly){$a.store&&$a.data.rem(Ga);$a=$a.agg;for(let ub=0,Mb=$a.length;ub<Mb;++ub)$a[ub].rem($a[ub].get(Ga),Ga)}},celltuple(Ga){const $a=Ga.tuple,ub=this._counts;Ga.store&&Ga.data.values();for(let Mb=0,fc=ub.length;Mb<fc;++Mb)$a[ub[Mb]]=Ga.num;if(!this._countOnly){Ga=Ga.agg;for(let Mb=0,
fc=Ga.length;Mb<fc;++Mb)Ga[Mb].set($a)}return $a},changes(Ga){const $a=this._adds,ub=this._mods;var Mb=this._prev;const fc=this._drop,oc=Ga.add,Mc=Ga.rem,Kc=Ga.mod;let gc;var fd;if(Mb)for(fd in Mb)gc=Mb[fd],fc&&!gc.num||Mc.push(gc.tuple);Mb=0;for(fd=this._alen;Mb<fd;++Mb)oc.push(this.celltuple($a[Mb])),$a[Mb]=null;Mb=0;for(fd=this._mlen;Mb<fd;++Mb)gc=ub[Mb],(0===gc.num&&fc?Mc:Kc).push(this.celltuple(gc)),ub[Mb]=null;this._alen=this._mlen=0;this._prev=null;return Ga}});E.Definition={type:"Bin",metadata:{modifies:!0},
params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},
{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};k.inherits(E,p.Transform,{transform(Ga,$a){const ub=!1!==Ga.interval,Mb=this._bins(Ga),fc=Mb.start,oc=Mb.step,Mc=Ga.as||["bin0","bin1"],Kc=Mc[0],gc=Mc[1];Ga.modified()?($a=$a.reflow(!0),Ga=$a.SOURCE):Ga=$a.modified(k.accessorFields(Ga.field))?$a.ADD_MOD:$a.ADD;$a.visit(Ga,ub?fd=>{const nd=Mb(fd);fd[Kc]=nd;fd[gc]=null==nd?null:fc+oc*(1+(nd-fc)/oc)}:fd=>fd[Kc]=Mb(fd));return $a.modifies(ub?Mc:Kc)},_bins(Ga){if(this.value&&
!Ga.modified())return this.value;const $a=Ga.field,ub=A.bin(Ga),Mb=ub.step;let fc=ub.start,oc=fc+Math.ceil((ub.stop-fc)/Mb)*Mb;var Mc;null!=(Mc=Ga.anchor)&&(Mc-=fc+Mb*Math.floor((Mc-fc)/Mb),fc+=Mc,oc+=Mc);Mc=function(Kc){Kc=k.toNumber($a(Kc));return null==Kc?null:Kc<fc?-Infinity:Kc>oc?Infinity:(Kc=Math.max(fc,Math.min(Kc,oc-Mb)),fc+Mb*Math.floor(1E-14+(Kc-fc)/Mb))};Mc.start=fc;Mc.stop=ub.stop;Mc.step=Mb;return this.value=k.accessor(Mc,k.accessorFields($a),Ga.name||"bin_"+k.accessorName($a))}});w.Definition=
{type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};k.inherits(w,p.Transform,{transform(Ga,$a){const ub=$a.fork($a.ALL),Mb=F(p.tupleid,this.value,ub.materialize(ub.ADD).add),fc=Ga.sort;Ga=$a.changed()||fc&&(Ga.modified("sort")||$a.modified(fc.fields));ub.visit(ub.REM,Mb.remove);this.modified(Ga);this.value=ub.source=Mb.data(p.stableCompare(fc),Ga);$a.source&&$a.source.root&&(this.value.root=$a.source.root);return ub}});k.inherits(D,p.Operator);L.Definition={type:"CountPattern",
metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};k.inherits(L,p.Transform,{transform(Ga,$a){var ub=nd=>Fd=>{Fd=Kc(Fd);var Od=oc;switch(Ga.case){case "upper":Fd=Fd.toUpperCase();break;case "lower":Fd=Fd.toLowerCase()}Fd=Fd.match(Od)||
[];var Ud;Od=0;for(var Yd=Fd.length;Od<Yd;++Od)Mc.test(Ud=Fd[Od])||nd(Ud)};const Mb=this._parameterCheck(Ga,$a),fc=this._counts,oc=this._match,Mc=this._stop,Kc=Ga.field,gc=Ga.as||["text","count"],fd=ub(nd=>fc[nd]=1+(fc[nd]||0));ub=ub(nd=>--fc[nd]);Mb?$a.visit($a.SOURCE,fd):($a.visit($a.ADD,fd),$a.visit($a.REM,ub));return this._finish($a,gc)},_parameterCheck(Ga,$a){let ub=!1;if(Ga.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(Ga.stopwords||"")+"$","i"),ub=!0;if(Ga.modified("pattern")||
!this._match)this._match=new RegExp(Ga.pattern||"[\\w']+","g"),ub=!0;if(Ga.modified("field")||$a.modified(Ga.field.fields))ub=!0;ub&&(this._counts={});return ub},_finish(Ga,$a){const ub=this._counts,Mb=this._tuples||(this._tuples={}),fc=$a[0],oc=$a[1];Ga=Ga.fork(Ga.NO_SOURCE|Ga.NO_FIELDS);let Mc,Kc,gc;for(Mc in ub)Kc=Mb[Mc],gc=ub[Mc]||0,!Kc&&gc?(Mb[Mc]=Kc=p.ingest({}),Kc[fc]=Mc,Kc[oc]=gc,Ga.add.push(Kc)):0===gc?(Kc&&Ga.rem.push(Kc),ub[Mc]=null,Mb[Mc]=null):Kc[oc]!==gc&&(Kc[oc]=gc,Ga.mod.push(Kc));
return Ga.modifies($a)}});O.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};k.inherits(O,p.Transform,{transform(Ga,$a){const ub=$a.fork($a.NO_SOURCE),Mb=Ga.as||["a","b"],fc=Mb[0],oc=Mb[1];var Mc=!this.value||$a.changed($a.ADD_REM)||Ga.modified("as")||Ga.modified("filter"),Kc=this.value;if(Mc){Kc&&(ub.rem=Kc);$a=Kc=$a.materialize($a.SOURCE).source;Ga=Ga.filter||k.truthy;Mc=[];Kc={};for(var gc=$a.length,
fd=0,nd,Fd;fd<gc;++fd)for(Kc[fc]=Fd=$a[fd],nd=0;nd<gc;++nd)Kc[oc]=$a[nd],Ga(Kc)&&(Mc.push(p.ingest(Kc)),Kc={},Kc[fc]=Fd);ub.add=this.value=Mc}else ub.mod=Kc;ub.source=this.value;return ub.modifies(Mb)}});const fe={kde:A.randomKDE,mixture:A.randomMixture,normal:A.randomNormal,lognormal:A.randomLogNormal,uniform:A.randomUniform},be=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",
type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];S.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",
"default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:be.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:be},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(S,p.Transform,{transform(Ga,$a){const ub=$a.fork($a.NO_SOURCE|$a.NO_FIELDS);if(!this.value||$a.changed()||Ga.modified()){const Mb=
V(Ga.distribution,ca($a));$a=Ga.steps||Ga.minsteps||25;const fc=Ga.steps||Ga.maxsteps||200;let oc=Ga.method||"pdf";"pdf"!==oc&&"cdf"!==oc&&k.error("Invalid density method: "+oc);Ga.extent||Mb.data||k.error("Missing density extent parameter.");oc=Mb[oc];const Mc=Ga.as||["value","density"];Ga=Ga.extent||k.extent(Mb.data());Ga=A.sampleCurve(oc,Ga,$a,fc).map(Kc=>{const gc={};gc[Mc[0]]=Kc[0];gc[Mc[1]]=Kc[1];return p.ingest(gc)});this.value&&(ub.rem=this.value);this.value=ub.add=ub.source=Ga}return ub}});
R.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};k.inherits(R,p.Transform,{transform(Ga,$a){if(this.value&&!Ga.modified()&&!$a.changed())return $a;var ub=$a.materialize($a.SOURCE).source;const Mb=T($a.source,Ga.groupby,k.identity),fc=Ga.smooth||!1,oc=Ga.field;ub=Ga.step||k.span(k.extent(ub,oc))/
30;const Mc=p.stableCompare((Od,Ud)=>oc(Od)-oc(Ud));Ga=Ga.as||"bin";const Kc=Mb.length;let gc=Infinity,fd=-Infinity,nd=0,Fd;for(;nd<Kc;++nd){const Od=Mb[nd].sort(Mc);Fd=-1;for(const Ud of A.dotbin(Od,ub,fc,oc))Ud<gc&&(gc=Ud),Ud>fd&&(fd=Ud),Od[++Fd][Ga]=Ud}this.value={start:gc,stop:fd,step:ub};return $a.reflow(!0).modifies(Ga)}});k.inherits(J,p.Operator);C.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};k.inherits(C,p.Transform,{transform(Ga,$a){var ub=this.value;
const Mb=Ga.field;Ga=$a.changed()||$a.modified(Mb.fields)||Ga.modified("field");let fc=ub[0],oc=ub[1];if(Ga||null==fc)fc=Infinity,oc=-Infinity;$a.visit(Ga?$a.SOURCE:$a.ADD,Mc=>{Mc=k.toNumber(Mb(Mc));null!=Mc&&(Mc<fc&&(fc=Mc),Mc>oc&&(oc=Mc))});Number.isFinite(fc)&&Number.isFinite(oc)||((ub=k.accessorName(Mb))&&(ub=` for field "${ub}"`),$a.dataflow.warn(`Infinite extent${ub}: [${fc}, ${oc}]`),fc=oc=void 0);this.value=[fc,oc]}});k.inherits(N,p.Operator,{connect(Ga){this.detachSubflow=Ga.detachSubflow;
this.targets().add(Ga);return Ga.source=this},add(Ga){this.count+=1;this.value.add.push(Ga)},rem(Ga){--this.count;this.value.rem.push(Ga)},mod(Ga){this.value.mod.push(Ga)},init(Ga){this.value.init(Ga,Ga.NO_SOURCE)},evaluate(){return this.value}});k.inherits(U,p.Transform,{activate(Ga){this._targets[this._targets.active++]=Ga},subflow(Ga,$a,ub,Mb){const fc=this.value;let oc=k.hasOwnProperty(fc,Ga)&&fc[Ga],Mc;oc?oc.value.stamp<ub.stamp&&(oc.init(ub),this.activate(oc)):(Mc=Mb||(Mc=this._group[Ga])&&
Mc.tuple,Mb=ub.dataflow,oc=new N(ub.fork(ub.NO_SOURCE),this),Mb.add(oc).connect($a(Mb,Ga,Mc)),fc[Ga]=oc,this.activate(oc));return oc},clean(){var Ga=this.value;let $a=0;for(const ub in Ga)if(0===Ga[ub].count){const Mb=Ga[ub].detachSubflow;Mb&&Mb();delete Ga[ub];++$a}$a&&(Ga=this._targets.filter(ub=>ub&&0<ub.count),this.initTargets(Ga))},initTargets(Ga){const $a=this._targets,ub=$a.length,Mb=Ga?Ga.length:0;let fc=0;for(;fc<Mb;++fc)$a[fc]=Ga[fc];for(;fc<ub&&null!=$a[fc];++fc)$a[fc]=null;$a.active=Mb},
transform(Ga,$a){const ub=$a.dataflow,Mb=Ga.key,fc=Ga.subflow,oc=this._keys,Mc=Ga.modified("key"),Kc=gc=>this.subflow(gc,fc,$a);this._group=Ga.group||{};this.initTargets();$a.visit($a.REM,gc=>{const fd=p.tupleid(gc),nd=oc.get(fd);void 0!==nd&&(oc.delete(fd),Kc(nd).rem(gc))});$a.visit($a.ADD,gc=>{const fd=Mb(gc);oc.set(p.tupleid(gc),fd);Kc(fd).add(gc)});Mc||$a.modified(Mb.fields)?$a.visit($a.MOD,gc=>{const fd=p.tupleid(gc),nd=oc.get(fd),Fd=Mb(gc);nd===Fd?Kc(Fd).mod(gc):(oc.set(fd,Fd),Kc(nd).rem(gc),
Kc(Fd).add(gc))}):$a.changed($a.MOD)&&$a.visit($a.MOD,gc=>{Kc(oc.get(p.tupleid(gc))).mod(gc)});Mc&&$a.visit($a.REFLOW,gc=>{const fd=p.tupleid(gc),nd=oc.get(fd),Fd=Mb(gc);nd!==Fd&&(oc.set(fd,Fd),Kc(nd).rem(gc),Kc(Fd).add(gc))});$a.clean()?ub.runAfter(()=>{this.clean();oc.clean()}):oc.empty>ub.cleanThreshold&&ub.runAfter(oc.clean);return $a}});k.inherits(ja,p.Operator);ia.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};k.inherits(ia,p.Transform,{transform(Ga,
$a){function ub(Fd){const Od=p.tupleid(Fd),Ud=fd(Fd,Ga),Yd=fc.get(Od);Ud&&Yd?(fc.delete(Od),Mc.push(Fd)):Ud||Yd?nd&&Ud&&!Yd&&gc.push(Fd):(fc.set(Od,1),Kc.push(Fd))}const Mb=$a.dataflow,fc=this.value,oc=$a.fork(),Mc=oc.add,Kc=oc.rem,gc=oc.mod,fd=Ga.expr;let nd=!0;$a.visit($a.REM,Fd=>{const Od=p.tupleid(Fd);fc.has(Od)?fc.delete(Od):Kc.push(Fd)});$a.visit($a.ADD,Fd=>{fd(Fd,Ga)?Mc.push(Fd):fc.set(p.tupleid(Fd),1)});$a.visit($a.MOD,ub);Ga.modified()&&(nd=!1,$a.visit($a.REFLOW,ub));fc.empty>Mb.cleanThreshold&&
Mb.runAfter(fc.clean);return oc}});za.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};k.inherits(za,p.Transform,{transform(Ga,$a){const ub=$a.fork($a.NO_SOURCE),Mb=Ga.fields,fc=ea(Mb,Ga.as||[]),oc=Ga.index||null,Mc=fc.length;ub.rem=this.value;$a.visit($a.SOURCE,Kc=>{const gc=Mb.map(Yd=>Yd(Kc)),fd=gc.reduce((Yd,Ee)=>Math.max(Yd,Ee.length),0);let nd=0,Fd,Od,Ud;for(;nd<fd;++nd){Od=
p.derive(Kc);for(Fd=0;Fd<Mc;++Fd)Od[fc[Fd]]=null==(Ud=gc[Fd][nd])?null:Ud;oc&&(Od[oc]=nd);ub.add.push(Od)}});this.value=ub.source=ub.add;oc&&ub.modifies(oc);return ub.modifies(fc)}});Wa.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};k.inherits(Wa,p.Transform,{transform(Ga,$a){const ub=$a.fork($a.NO_SOURCE),Mb=Ga.fields,fc=Mb.map(k.accessorName);Ga=Ga.as||["key","value"];
const oc=Ga[0],Mc=Ga[1],Kc=Mb.length;ub.rem=this.value;$a.visit($a.SOURCE,gc=>{for(let fd=0,nd;fd<Kc;++fd)nd=p.derive(gc),nd[oc]=fc[fd],nd[Mc]=Mb[fd](gc),ub.add.push(nd)});this.value=ub.source=ub.add;return ub.modifies(Ga)}});hb.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};k.inherits(hb,p.Transform,{transform(Ga,$a){const ub=Ga.expr,Mb=Ga.as,fc=Ga.modified(),oc=Ga.initonly?$a.ADD:
fc?$a.SOURCE:$a.modified(ub.fields)||$a.modified(Mb)?$a.ADD_MOD:$a.ADD;fc&&($a=$a.materialize().reflow(!0));Ga.initonly||$a.modifies(Mb);return $a.visit(oc,Mc=>Mc[Mb]=ub(Mc,Ga))}});k.inherits(Ja,p.Transform,{transform(Ga,$a){$a=$a.fork($a.ALL);const ub=Ga.generator;let Mb=this.value,fc=Ga.size-Mb.length,oc,Mc;if(0<fc){for(oc=[];0<=--fc;)oc.push(Mc=p.ingest(ub(Ga))),Mb.push(Mc);$a.add=$a.add.length?$a.materialize($a.ADD).add.concat(oc):oc}else Ga=Mb.slice(0,-fc),$a.rem=$a.rem.length?$a.materialize($a.REM).rem.concat(Ga):
Ga,Mb=Mb.slice(-fc);$a.source=this.value=Mb;return $a}});const ce={value:"value",median:function(Ga,$a){var ub=.5;Ga=Float64Array.from(va(Ga,$a));if($a=Ga.length)if(0>=(ub=+ub)||2>$a)Ga=Ea(Ga);else if(1<=ub)Ga=ma(Ga);else{ub*=$a-1;$a=Math.floor(ub);var Mb=ma(Ua(Ga,$a).subarray(0,$a+1));Ga=Ea(Ga.subarray($a+1));Ga=Mb+(Ga-Mb)*(ub-$a)}else Ga=void 0;return Ga},mean:function(Ga,$a){let ub=0,Mb=0;if(void 0===$a)for(var fc of Ga)null!=fc&&(fc=+fc)>=fc&&(++ub,Mb+=fc);else{fc=-1;for(let oc of Ga)null!=(oc=
$a(oc,++fc,Ga))&&(oc=+oc)>=oc&&(++ub,Mb+=oc)}if(ub)return Mb/ub},min:Ea,max:ma},Td=[];Na.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};k.inherits(Na,p.Transform,{transform(Ga,$a){var ub=$a.fork($a.ALL),Mb=oa(Ga),fc=aa(Ga),oc=k.accessorName(Ga.field),
Mc=k.accessorName(Ga.key),Kc=(Ga.groupby||[]).map(k.accessorName);Ga=ka($a.source,Ga.groupby,Ga.key,Ga.keyvals);$a=[];var gc=this.value,fd=Ga.domain.length,nd,Fd,Od;var Ud=0;for(Fd=Ga.length;Ud<Fd;++Ud){var Yd=Ga[Ud];var Ee=Yd.values;var ze=NaN;for(nd=0;nd<fd;++nd)if(null==Yd[nd]){var Bf=Ga.domain[nd];var xe={_impute:!0};var Ne=0;for(Od=Ee.length;Ne<Od;++Ne)xe[Kc[Ne]]=Ee[Ne];xe[Mc]=Bf;xe[oc]=Number.isNaN(ze)?ze=Mb(Yd,fc):ze;$a.push(p.ingest(xe))}}$a.length&&(ub.add=ub.materialize(ub.ADD).add.concat($a));
gc.length&&(ub.rem=ub.materialize(ub.REM).rem.concat(gc));this.value=$a;return ub}});Ia.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Kd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};k.inherits(Ia,q,{transform(Ga,$a){const ub=this,Mb=Ga.modified();let fc;ub.value&&(Mb||$a.modified(ub._inputs,!0))?(fc=ub.value=Mb?ub.init(Ga):{},
$a.visit($a.SOURCE,oc=>ub.add(oc))):(fc=ub.value=ub.value||this.init(Ga),$a.visit($a.REM,oc=>ub.rem(oc)),$a.visit($a.ADD,oc=>ub.add(oc)));ub.changes();$a.visit($a.SOURCE,oc=>{k.extend(oc,fc[ub.cellkey(oc)].tuple)});return $a.reflow(Mb).modifies(this._outputs)},changes(){const Ga=this._adds,$a=this._mods;let ub,Mb;ub=0;for(Mb=this._alen;ub<Mb;++ub)this.celltuple(Ga[ub]),Ga[ub]=null;ub=0;for(Mb=this._mlen;ub<Mb;++ub)this.celltuple($a[ub]),$a[ub]=null;this._alen=this._mlen=0}});Xa.Definition={type:"KDE",
metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},
{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(Xa,p.Transform,{transform(Ga,$a){const ub=$a.fork($a.NO_SOURCE|$a.NO_FIELDS);if(!this.value||$a.changed()||Ga.modified()){$a=$a.materialize($a.SOURCE).source;const Mb=T($a,Ga.groupby,Ga.field),fc=(Ga.groupby||[]).map(k.accessorName),oc=Ga.bandwidth,Mc=Ga.cumulative?"cdf":"pdf",Kc=Ga.as||["value","density"],gc=[];let fd=Ga.extent,nd=Ga.steps||Ga.minsteps||25,Fd=Ga.steps||Ga.maxsteps||200;"pdf"!==Mc&&"cdf"!==Mc&&k.error("Invalid density method: "+
Mc);"shared"===Ga.resolve&&(fd||(fd=k.extent($a,Ga.field)),nd=Fd=Ga.steps||Fd);Mb.forEach(Od=>{const Ud=A.randomKDE(Od,oc)[Mc],Yd=Ga.counts?Od.length:1,Ee=fd||k.extent(Od);A.sampleCurve(Ud,Ee,nd,Fd).forEach(ze=>{const Bf={};for(let xe=0;xe<fc.length;++xe)Bf[fc[xe]]=Od.dims[xe];Bf[Kc[0]]=ze[0];Bf[Kc[1]]=ze[1]*Yd;gc.push(p.ingest(Bf))})});this.value&&(ub.rem=this.value);this.value=ub.add=ub.source=gc}return ub}});k.inherits(Ya,p.Operator);k.inherits(ib,p.Transform,{transform(Ga,$a){const ub=$a.dataflow;
return this._pending?Zb(this,$a,this._pending):Eb(Ga)?$a.StopPropagation:Ga.values?Zb(this,$a,ub.parse(Ga.values,Ga.format)):Ga.async?{async:ub.request(Ga.url,Ga.format).then(Mb=>{this._pending=k.array(Mb.data);return fc=>fc.touch(this)})}:ub.request(Ga.url,Ga.format).then(Mb=>Zb(this,$a,k.array(Mb.data)))}});Gc.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",
array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};k.inherits(Gc,p.Transform,{transform(Ga,$a){const ub=Ga.fields,Mb=Ga.index,fc=Ga.values,oc=null==Ga.default?null:Ga.default;var Mc=Ga.modified();const Kc=ub.length;let gc=Mc?$a.SOURCE:$a.ADD,fd=$a,nd=Ga.as,Fd;fc?(Fd=fc.length,1<Kc&&!nd&&k.error('Multi-field lookup requires explicit "as" parameter.'),nd&&nd.length!==Kc*Fd&&k.error('The "as" parameter has too few output field names.'),
nd=nd||fc.map(k.accessorName),Ga=function(Od){for(var Ud=0,Yd=0,Ee,ze;Ud<Kc;++Ud)if(ze=Mb.get(ub[Ud](Od)),null==ze)for(Ee=0;Ee<Fd;++Ee,++Yd)Od[nd[Yd]]=oc;else for(Ee=0;Ee<Fd;++Ee,++Yd)Od[nd[Yd]]=fc[Ee](ze)}):(nd||k.error("Missing output field names."),Ga=function(Od){for(var Ud=0,Yd;Ud<Kc;++Ud)Yd=Mb.get(ub[Ud](Od)),Od[nd[Ud]]=null==Yd?oc:Yd});Mc?fd=$a.reflow(!0):(Mc=ub.some(Od=>$a.modified(Od.fields)),gc|=Mc?$a.MOD:0);$a.visit(gc,Ga);return fd.modifies(nd)}});k.inherits(xc,p.Operator);k.inherits(rc,
p.Operator);k.inherits(Bb,p.Transform,{transform(Ga,$a){this.modified(Ga.modified());this.value=Ga;return $a.fork($a.NO_SOURCE|$a.NO_FIELDS)}});tb.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Kd,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};k.inherits(tb,q,{_transform:q.prototype.transform,
transform(Ga,$a){return this._transform(dc(Ga,$a),$a)}});k.inherits(vc,U,{transform(Ga,$a){const ub=Ga.subflow,Mb=Ga.field,fc=oc=>this.subflow(p.tupleid(oc),ub,$a,oc);(Ga.modified("field")||Mb&&$a.modified(k.accessorFields(Mb)))&&k.error("PreFacet does not support field modification.");this.initTargets();Mb?($a.visit($a.MOD,oc=>{const Mc=fc(oc);Mb(oc).forEach(Kc=>Mc.mod(Kc))}),$a.visit($a.ADD,oc=>{const Mc=fc(oc);Mb(oc).forEach(Kc=>Mc.add(p.ingest(Kc)))}),$a.visit($a.REM,oc=>{const Mc=fc(oc);Mb(oc).forEach(Kc=>
Mc.rem(Kc))})):($a.visit($a.MOD,oc=>fc(oc).mod(oc)),$a.visit($a.ADD,oc=>fc(oc).add(oc)),$a.visit($a.REM,oc=>fc(oc).rem(oc)));$a.clean()&&$a.runAfter(()=>this.clean());return $a}});qc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};k.inherits(qc,p.Transform,{transform(Ga,$a){const ub=$a.fork($a.NO_SOURCE),Mb=Ga.fields,fc=ea(Ga.fields,Ga.as||[]),oc=Mb?(Kc,gc)=>{for(let fd=0,nd=Mb.length;fd<nd;++fd)gc[fc[fd]]=
Mb[fd](Kc);return gc}:p.rederive;let Mc;this.value?Mc=this.value:($a=$a.addAll(),Mc=this.value={});$a.visit($a.REM,Kc=>{Kc=p.tupleid(Kc);ub.rem.push(Mc[Kc]);Mc[Kc]=null});$a.visit($a.ADD,Kc=>{const gc=oc(Kc,p.ingest({}));Mc[p.tupleid(Kc)]=gc;ub.add.push(gc)});$a.visit($a.MOD,Kc=>{ub.mod.push(oc(Kc,Mc[p.tupleid(Kc)]))});return ub}});k.inherits(Dc,p.Transform,{transform(Ga,$a){this.value=Ga.value;return Ga.modified("value")?$a.fork($a.NO_SOURCE|$a.NO_FIELDS):$a.StopPropagation}});Yc.Definition={type:"Quantile",
metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};k.inherits(Yc,p.Transform,{transform(Ga,$a){const ub=$a.fork($a.NO_SOURCE|$a.NO_FIELDS),Mb=Ga.as||["prob","value"];if(this.value&&!Ga.modified()&&!$a.changed())return ub.source=this.value,ub;$a=$a.materialize($a.SOURCE).source;$a=T($a,
Ga.groupby,Ga.field);const fc=(Ga.groupby||[]).map(k.accessorName),oc=[],Mc=Ga.step||.01,Kc=Ga.probs||ta(Mc/2,1-1E-14,Mc),gc=Kc.length;$a.forEach(fd=>{const nd=A.quantiles(fd,Kc);for(let Fd=0;Fd<gc;++Fd){const Od={};for(let Ud=0;Ud<fc.length;++Ud)Od[fc[Ud]]=fd.dims[Ud];Od[Mb[0]]=Kc[Fd];Od[Mb[1]]=nd[Fd];oc.push(p.ingest(Od))}});this.value&&(ub.rem=this.value);this.value=ub.add=ub.source=oc;return ub}});k.inherits(Hd,p.Transform,{transform(Ga,$a){let ub,Mb;this.value?Mb=this.value:(ub=$a=$a.addAll(),
Mb=this.value={});Ga.derive&&(ub=$a.fork($a.NO_SOURCE),$a.visit($a.REM,fc=>{fc=p.tupleid(fc);ub.rem.push(Mb[fc]);Mb[fc]=null}),$a.visit($a.ADD,fc=>{const oc=p.derive(fc);Mb[p.tupleid(fc)]=oc;ub.add.push(oc)}),$a.visit($a.MOD,fc=>{const oc=Mb[p.tupleid(fc)];for(const Mc in fc)oc[Mc]=fc[Mc],ub.modifies(Mc);ub.mod.push(oc)}));return ub}});Fa.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};k.inherits(Fa,p.Transform,{transform(Ga,$a){function ub(nd){let Fd,Od;
Kc.length<oc?Kc.push(nd):(Od=~~((gc+1)*A.random()),Od<Kc.length&&Od>=fd&&(Fd=Kc[Od],Mc[p.tupleid(Fd)]&&Mb.rem.push(Fd),Kc[Od]=nd));++gc}const Mb=$a.fork($a.NO_SOURCE);var fc=Ga.modified("size");const oc=Ga.size,Mc=this.value.reduce((nd,Fd)=>(nd[p.tupleid(Fd)]=1,nd),{});let Kc=this.value,gc=this.count,fd=0;$a.rem.length&&($a.visit($a.REM,nd=>{const Fd=p.tupleid(nd);Mc[Fd]&&(Mc[Fd]=-1,Mb.rem.push(nd));--gc}),Kc=Kc.filter(nd=>-1!==Mc[p.tupleid(nd)]));($a.rem.length||fc)&&Kc.length<oc&&$a.source&&(fd=
gc=Kc.length,$a.visit($a.SOURCE,nd=>{Mc[p.tupleid(nd)]||ub(nd)}),fd=-1);if(fc&&Kc.length>oc){Ga=Kc.length-oc;for(fc=0;fc<Ga;++fc)Mc[p.tupleid(Kc[fc])]=-1,Mb.rem.push(Kc[fc]);Kc=Kc.slice(Ga)}$a.mod.length&&$a.visit($a.MOD,nd=>{Mc[p.tupleid(nd)]&&Mb.mod.push(nd)});$a.add.length&&$a.visit($a.ADD,ub);if($a.add.length||0>fd)Mb.add=Kc.filter(nd=>!Mc[p.tupleid(nd)]);this.count=gc;this.value=Mb.source=Kc;return Mb}});Ca.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",
type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};k.inherits(Ca,p.Transform,{transform(Ga,$a){if(!this.value||Ga.modified()){var ub=$a.materialize().fork($a.MOD),Mb=Ga.as||"data";ub.rem=this.value?$a.rem.concat(this.value):$a.rem;this.value=ta(Ga.start,Ga.stop,Ga.step||1).map(fc=>{const oc={};oc[Mb]=fc;return p.ingest(oc)});ub.add=$a.add.concat(this.value);return ub}}});k.inherits(Ha,p.Transform,
{transform(Ga,$a){this.value=$a.source;return $a.changed()?$a.fork($a.NO_SOURCE|$a.NO_FIELDS):$a.StopPropagation}});const af=["unit0","unit1"];db.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:u.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",
values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":af}]};k.inherits(db,p.Transform,{transform(Ga,$a){const ub=Ga.field,Mb=!1!==Ga.interval;var fc="utc"===Ga.timezone;const oc=this._floor(Ga,$a),Mc=(fc?u.utcInterval:u.timeInterval)(oc.unit).offset;fc=Ga.as||af;const Kc=fc[0],gc=fc[1],fd=oc.step;let nd=oc.start||Infinity,Fd=oc.stop||-Infinity,Od=$a.ADD;if(Ga.modified()||$a.changed($a.REM)||$a.modified(k.accessorFields(ub)))$a=$a.reflow(!0),Od=$a.SOURCE,nd=Infinity,Fd=-Infinity;
$a.visit(Od,Ud=>{var Yd=ub(Ud);let Ee;null==Yd?(Ud[Kc]=null,Mb&&(Ud[gc]=null)):(Ud[Kc]=Yd=Ee=oc(Yd),Mb&&(Ud[gc]=Ee=Mc(Yd,fd)),Yd<nd&&(nd=Yd),Ee>Fd&&(Fd=Ee))});oc.start=nd;oc.stop=Fd;return $a.modifies(Mb?fc:Kc)},_floor(Ga,$a){var ub="utc"===Ga.timezone;const {units:Mb,step:fc}=Ga.units?{units:Ga.units,step:Ga.step||1}:u.timeBin({extent:Ga.extent||k.extent($a.materialize($a.SOURCE).source,Ga.field),maxbins:Ga.maxbins});Ga=u.timeUnits(Mb);$a=this.value||{};ub=(ub?u.utcFloor:u.timeFloor)(Ga,fc);ub.unit=
k.peek(Ga);ub.units=Ga;ub.step=fc;ub.start=$a.start;ub.stop=$a.stop;return this.value=ub}});k.inherits(ob,p.Transform,{transform(Ga,$a){const ub=$a.dataflow,Mb=Ga.field,fc=this.value,oc=Kc=>fc.set(Mb(Kc),Kc);let Mc=!0;Ga.modified("field")||$a.modified(Mb.fields)?(fc.clear(),$a.visit($a.SOURCE,oc)):$a.changed()?($a.visit($a.REM,Kc=>fc.delete(Mb(Kc))),$a.visit($a.ADD,oc)):Mc=!1;this.modified(Mc);fc.empty>ub.cleanThreshold&&ub.runAfter(fc.clean);return $a.fork()}});k.inherits(Ab,p.Transform,{transform(Ga,
$a){if(!this.value||Ga.modified("field")||Ga.modified("sort")||$a.changed()||Ga.sort&&$a.modified(Ga.sort.fields))this.value=(Ga.sort?$a.source.slice().sort(p.stableCompare(Ga.sort)):$a.source).map(Ga.field)}});const Se={row_number:function(){return{next:Ga=>Ga.index+1}},rank:function(){let Ga;return{init:()=>Ga=1,next:$a=>{const ub=$a.index,Mb=$a.data;return ub&&$a.compare(Mb[ub-1],Mb[ub])?Ga=ub+1:Ga}}},dense_rank:function(){let Ga;return{init:()=>Ga=1,next:$a=>{const ub=$a.index,Mb=$a.data;return ub&&
$a.compare(Mb[ub-1],Mb[ub])?++Ga:Ga}}},percent_rank:function(){const Ga=Se.rank(),$a=Ga.next;return{init:Ga.init,next:ub=>($a(ub)-1)/(ub.data.length-1)}},cume_dist:function(){let Ga;return{init:()=>Ga=0,next:$a=>{const ub=$a.data,Mb=$a.compare;$a=$a.index;if(Ga<$a){for(;$a+1<ub.length&&!Mb(ub[$a],ub[$a+1]);)++$a;Ga=$a}return(1+Ga)/ub.length}}},ntile:function(Ga,$a){$a=+$a;0<$a||k.error("ntile num must be greater than zero.");Ga=Se.cume_dist();const ub=Ga.next;return{init:Ga.init,next:Mb=>Math.ceil($a*
ub(Mb))}},lag:function(Ga,$a){$a=+$a||1;return{next:ub=>{const Mb=ub.index-$a;return 0<=Mb?Ga(ub.data[Mb]):null}}},lead:function(Ga,$a){$a=+$a||1;return{next:ub=>{const Mb=ub.index+$a;ub=ub.data;return Mb<ub.length?Ga(ub[Mb]):null}}},first_value:function(Ga){return{next:$a=>Ga($a.data[$a.i0])}},last_value:function(Ga){return{next:$a=>Ga($a.data[$a.i1-1])}},nth_value:function(Ga,$a){$a=+$a;0<$a||k.error("nth_value nth must be greater than zero.");return{next:ub=>{const Mb=ub.i0+($a-1);return Mb<ub.i1?
Ga(ub.data[Mb]):null}}},prev_value:function(Ga){let $a;return{init:()=>$a=null,next:ub=>{ub=Ga(ub.data[ub.index]);return null!=ub?$a=ub:$a}}},next_value:function(Ga){let $a,ub;return{init:()=>($a=null,ub=-1),next:Mb=>{var fc=Mb.data;if(Mb.index<=ub)fc=$a;else{a:{Mb=Mb.index;for(let oc=fc.length;Mb<oc;++Mb)if(null!=Ga(fc[Mb]))break a;Mb=-1}fc=0>(ub=Mb)?(ub=fc.length,$a=null):$a=Ga(fc[ub])}return fc}}}},ue=Object.keys(Se),me=Ub.prototype;me.init=function(){this.windows.forEach(Ga=>Ga.init());this.cell&&
this.cell.init()};me.update=function(Ga,$a){const ub=this.cell,Mb=this.windows,fc=Ga.data,oc=Mb&&Mb.length;let Mc;if(ub){for(Mc=Ga.p0;Mc<Ga.i0;++Mc)ub.rem(fc[Mc]);for(Mc=Ga.p1;Mc<Ga.i1;++Mc)ub.add(fc[Mc]);ub.set($a)}for(Mc=0;Mc<oc;++Mc)Mb[Mc].update(Ga,$a)};Jc.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ue.concat(Kd)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};k.inherits(Jc,p.Transform,{transform(Ga,$a){this.stamp=$a.stamp;const ub=Ga.modified(),Mb=p.stableCompare(Ga.sort),fc=l(Ga.groupby),oc=Kc=>this.group(fc(Kc));let Mc=this.state;if(!Mc||ub)Mc=this.state=new Ub(Ga);ub||$a.modified(Mc.inputs)?(this.value={},$a.visit($a.SOURCE,Kc=>oc(Kc).add(Kc))):($a.visit($a.REM,
Kc=>oc(Kc).remove(Kc)),$a.visit($a.ADD,Kc=>oc(Kc).add(Kc)));for(let Kc=0,gc=this._mlen;Kc<gc;++Kc)Wc(this._mods[Kc],Mc,Mb,Ga);this._mlen=0;this._mods=[];return $a.reflow(ub).modifies(Mc.outputs)},group(Ga){let $a=this.value[Ga];$a||($a=this.value[Ga]=F(p.tupleid),$a.stamp=-1);$a.stamp<this.stamp&&($a.stamp=this.stamp,this._mods[this._mlen++]=$a);return $a}});v.aggregate=q;v.bin=E;v.collect=w;v.compare=D;v.countpattern=L;v.cross=O;v.density=S;v.dotbin=R;v.expression=J;v.extent=C;v.facet=U;v.field=
ja;v.filter=ia;v.flatten=za;v.fold=Wa;v.formula=hb;v.generate=Ja;v.impute=Na;v.joinaggregate=Ia;v.kde=Xa;v.key=Ya;v.load=ib;v.lookup=Gc;v.multiextent=xc;v.multivalues=rc;v.params=Bb;v.pivot=tb;v.prefacet=vc;v.project=qc;v.proxy=Dc;v.quantile=Yc;v.relay=Hd;v.sample=Fa;v.sequence=Ca;v.sieve=Ha;v.subflow=N;v.timeunit=db;v.tupleindex=ob;v.values=Ab;v.window=Jc;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[26]=function(ra,z,cb,B){!function(v,k){"object"==typeof B&&"undefined"!=typeof cb?k(B):"function"==typeof define&&define.amd?define(["exports"],k):k((v="undefined"!=typeof globalThis?globalThis:v||self).vega={})}(this,function(v){function k(p,A){if("undefined"!=typeof document&&document.createElement){const u=document.createElement("canvas");if(u&&u.getContext)return u.width=p,u.height=A,u}return null}v.canvas=k;v.domCanvas=k;v.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(v,
"__esModule",{value:!0})})};
shadow$provide[27]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14),z(16)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,p){function A(pa,Pa,Va){Pa=pa-Pa+2*Va;return pa?0<Pa?Pa:1:0}function u(pa){return function(Pa){let Va=Pa[0];Pa=Pa[1];let wb;Pa<Va&&(wb=Va,Va=Pa,Pa=wb);return[pa.invert(Va),pa.invert(Pa)]}}function m(pa){return function(Pa){const Va=
pa.range();let wb=Pa[0];Pa=Pa[1];let bc=-1,cc;let lc;if(Pa<wb){var Cc=wb;wb=Pa;Pa=Cc}Cc=0;for(lc=Va.length;Cc<lc;++Cc)Va[Cc]>=wb&&Va[Cc]<=Pa&&(0>bc&&(bc=Cc),cc=Cc);if(!(0>bc))return wb=pa.invertExtent(Va[bc]),Pa=pa.invertExtent(Va[cc]),[void 0===wb[0]?wb[1]:wb[0],void 0===Pa[1]?Pa[0]:Pa[1]]}}function l(pa,Pa){return null==pa||null==Pa?NaN:pa<Pa?-1:pa>Pa?1:pa>=Pa?0:NaN}function f(pa){function Pa(cc,lc,Cc=0,id=cc.length){if(Cc<id){if(0!==wb(lc,lc))return id;do{const Gd=Cc+id>>>1;0>bc(cc[Gd],lc)?Cc=
Gd+1:id=Gd}while(Cc<id)}return Cc}let Va=pa,wb=pa,bc=pa;2!==pa.length&&(Va=(cc,lc)=>pa(cc)-lc,wb=l,bc=(cc,lc)=>l(pa(cc),lc));return{left:Pa,center:function(cc,lc,Cc=0,id=cc.length){id=Pa(cc,lc,Cc,id-1);return id>Cc&&Va(cc[id-1],lc)>-Va(cc[id],lc)?id-1:id},right:function(cc,lc,Cc=0,id=cc.length){if(Cc<id){if(0!==wb(lc,lc))return id;do{const Gd=Cc+id>>>1;0>=bc(cc[Gd],lc)?Cc=Gd+1:id=Gd}while(Cc<id)}return Cc}}}function g(pa){return null===pa?NaN:+pa}function d({_intern:pa,_key:Pa},Va){Pa=Pa(Va);return pa.has(Pa)?
pa.get(Pa):Va}function b({_intern:pa,_key:Pa},Va){Pa=Pa(Va);if(pa.has(Pa))return pa.get(Pa);pa.set(Pa,Va);return Va}function c({_intern:pa,_key:Pa},Va){Pa=Pa(Va);pa.has(Pa)&&(Va=pa.get(Pa),pa.delete(Pa));return Va}function a(pa){return null!==pa&&"object"===typeof pa?pa.valueOf():pa}function e(pa,Pa,Va){var wb,bc=-1,cc;Pa=+Pa;pa=+pa;Va=+Va;if(pa===Pa&&0<Va)return[pa];if(wb=Pa<pa){var lc=pa;pa=Pa;Pa=lc}if(0===(cc=t(pa,Pa,Va))||!isFinite(cc))return[];if(0<cc)for(Va=Math.round(pa/cc),lc=Math.round(Pa/
cc),Va*cc<pa&&++Va,lc*cc>Pa&&--lc,pa=Array(lc=lc-Va+1);++bc<lc;)pa[bc]=(Va+bc)*cc;else for(cc=-cc,Va=Math.round(pa*cc),lc=Math.round(Pa*cc),Va/cc<pa&&++Va,lc/cc>Pa&&--lc,pa=Array(lc=lc-Va+1);++bc<lc;)pa[bc]=(Va+bc)/cc;wb&&pa.reverse();return pa}function t(pa,Pa,Va){Pa=(Pa-pa)/Math.max(0,Va);pa=Math.floor(Math.log(Pa)/Math.LN10);Pa/=Math.pow(10,pa);return 0<=pa?(Pa>=Ta?10:Pa>=pb?5:Pa>=Db?2:1)*Math.pow(10,pa):-Math.pow(10,-pa)/(Pa>=Ta?10:Pa>=pb?5:Pa>=Db?2:1)}function y(pa,Pa,Va){var wb=Math.abs(Pa-
pa)/Math.max(0,Va);Va=Math.pow(10,Math.floor(Math.log(wb)/Math.LN10));wb/=Va;wb>=Ta?Va*=10:wb>=pb?Va*=5:wb>=Db&&(Va*=2);return Pa<pa?-Va:Va}function q(pa,Pa,Va=g){if(wb=pa.length){if(0>=(Pa=+Pa)||2>wb)return+Va(pa[0],0,pa);if(1<=Pa)return+Va(pa[wb-1],wb-1,pa);var wb;Pa*=wb-1;wb=Math.floor(Pa);var bc=+Va(pa[wb],wb,pa);pa=+Va(pa[wb+1],wb+1,pa);return bc+(pa-bc)*(Pa-wb)}}function E(pa,Pa,Va){pa=+pa;Pa=+Pa;Va=2>(bc=arguments.length)?(Pa=pa,pa=0,1):3>bc?1:+Va;for(var wb=-1,bc=Math.max(0,Math.ceil((Pa-
pa)/Va))|0,cc=Array(bc);++wb<bc;)cc[wb]=pa+wb*Va;return cc}function F(pa,Pa){switch(arguments.length){case 0:break;case 1:this.range(pa);break;default:this.range(Pa).domain(pa)}return this}function w(pa,Pa){switch(arguments.length){case 0:break;case 1:"function"===typeof pa?this.interpolator(pa):this.range(pa);break;default:this.domain(pa),"function"===typeof Pa?this.interpolator(Pa):this.range(Pa)}return this}function D(){function pa(cc){let lc=Pa.get(cc);if(void 0===lc){if(bc!==Xb)return bc;Pa.set(cc,
lc=Va.push(cc)-1)}return wb[lc%wb.length]}var Pa=new wa,Va=[],wb=[],bc=Xb;pa.domain=function(cc){if(!arguments.length)return Va.slice();Va=[];Pa=new wa;for(const lc of cc)Pa.has(lc)||Pa.set(lc,Va.push(lc)-1);return pa};pa.range=function(cc){return arguments.length?(wb=Array.from(cc),pa):wb.slice()};pa.unknown=function(cc){return arguments.length?(bc=cc,pa):bc};pa.copy=function(){return D(Va,wb).unknown(bc)};F.apply(pa,arguments);return pa}function G(pa,Pa,Va){pa.prototype=Pa.prototype=Va;Va.constructor=
pa}function L(pa,Pa){pa=Object.create(pa.prototype);for(var Va in Pa)pa[Va]=Pa[Va];return pa}function O(){}function V(){return this.rgb().formatHex()}function S(){return this.rgb().formatRgb()}function ca(pa){var Pa,Va;pa=(pa+"").trim().toLowerCase();return(Pa=Vc.exec(pa))?(Va=Pa[1].length,Pa=parseInt(Pa[1],16),6===Va?ea(Pa):3===Va?new r(Pa>>8&15|Pa>>4&240,Pa>>4&15|Pa&240,(Pa&15)<<4|Pa&15,1):8===Va?T(Pa>>24&255,Pa>>16&255,Pa>>8&255,(Pa&255)/255):4===Va?T(Pa>>12&15|Pa>>8&240,Pa>>8&15|Pa>>4&240,Pa>>
4&15|Pa&240,((Pa&15)<<4|Pa&15)/255):null):(Pa=Pc.exec(pa))?new r(Pa[1],Pa[2],Pa[3],1):(Pa=Dd.exec(pa))?new r(255*Pa[1]/100,255*Pa[2]/100,255*Pa[3]/100,1):(Pa=Rd.exec(pa))?T(Pa[1],Pa[2],Pa[3],Pa[4]):(Pa=Ve.exec(pa))?T(255*Pa[1]/100,255*Pa[2]/100,255*Pa[3]/100,Pa[4]):(Pa=He.exec(pa))?ja(Pa[1],Pa[2]/100,Pa[3]/100,1):(Pa=Jf.exec(pa))?ja(Pa[1],Pa[2]/100,Pa[3]/100,Pa[4]):Pd.hasOwnProperty(pa)?ea(Pd[pa]):"transparent"===pa?new r(NaN,NaN,NaN,0):null}function ea(pa){return new r(pa>>16&255,pa>>8&255,pa&255,
1)}function T(pa,Pa,Va,wb){0>=wb&&(pa=Pa=Va=NaN);return new r(pa,Pa,Va,wb)}function R(pa){pa instanceof O||(pa=ca(pa));if(!pa)return new r;pa=pa.rgb();return new r(pa.r,pa.g,pa.b,pa.opacity)}function J(pa,Pa,Va,wb){return 1===arguments.length?R(pa):new r(pa,Pa,Va,null==wb?1:wb)}function r(pa,Pa,Va,wb){this.r=+pa;this.g=+Pa;this.b=+Va;this.opacity=+wb}function C(){return"#"+U(this.r)+U(this.g)+U(this.b)}function N(){var pa=this.opacity;pa=isNaN(pa)?1:Math.max(0,Math.min(1,pa));return(1===pa?"rgb(":
"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===pa?")":", "+pa+")")}function U(pa){pa=Math.max(0,Math.min(255,Math.round(pa)||0));return(16>pa?"0":"")+pa.toString(16)}function ja(pa,Pa,Va,wb){0>=wb?pa=Pa=Va=NaN:0>=Va||1<=Va?pa=Pa=NaN:0>=Pa&&(pa=NaN);return new za(pa,Pa,Va,wb)}function ba(pa){if(pa instanceof za)return new za(pa.h,pa.s,pa.l,pa.opacity);pa instanceof O||(pa=ca(pa));
if(!pa)return new za;if(pa instanceof za)return pa;pa=pa.rgb();var Pa=pa.r/255,Va=pa.g/255,wb=pa.b/255,bc=Math.min(Pa,Va,wb),cc=Math.max(Pa,Va,wb),lc=NaN,Cc=cc-bc,id=(cc+bc)/2;Cc?(lc=Pa===cc?(Va-wb)/Cc+6*(Va<wb):Va===cc?(wb-Pa)/Cc+2:(Pa-Va)/Cc+4,Cc/=.5>id?cc+bc:2-cc-bc,lc*=60):Cc=0<id&&1>id?0:lc;return new za(lc,Cc,id,pa.opacity)}function ia(pa,Pa,Va,wb){return 1===arguments.length?ba(pa):new za(pa,Pa,Va,null==wb?1:wb)}function za(pa,Pa,Va,wb){this.h=+pa;this.s=+Pa;this.l=+Va;this.opacity=+wb}function Wa(pa,
Pa,Va){return 255*(60>pa?Pa+(Va-Pa)*pa/60:180>pa?Va:240>pa?Pa+(Va-Pa)*(240-pa)/60:Pa)}function hb(pa){if(pa instanceof qa)return new qa(pa.l,pa.a,pa.b,pa.opacity);if(pa instanceof Ua)return ab(pa);pa instanceof r||(pa=R(pa));var Pa=xa(pa.r),Va=xa(pa.g),wb=xa(pa.b),bc=Da(.2225045*Pa+.7168786*Va+.0606169*wb);if(Pa===Va&&Va===wb)var cc=Pa=bc;else cc=Da((.4360747*Pa+.3850649*Va+.1430804*wb)/.96422),Pa=Da((.0139322*Pa+.0971045*Va+.7141733*wb)/.82521);return new qa(116*bc-16,500*(cc-bc),200*(bc-Pa),pa.opacity)}
function Ja(pa,Pa,Va,wb){return 1===arguments.length?hb(pa):new qa(pa,Pa,Va,null==wb?1:wb)}function qa(pa,Pa,Va,wb){this.l=+pa;this.a=+Pa;this.b=+Va;this.opacity=+wb}function Da(pa){return pa>Ue?Math.pow(pa,1/3):pa/hg+Pe}function va(pa){return pa>Hf?pa*pa*pa:hg*(pa-Pe)}function sa(pa){return 255*(.0031308>=pa?12.92*pa:1.055*Math.pow(pa,1/2.4)-.055)}function xa(pa){return.04045>=(pa/=255)?pa/12.92:Math.pow((pa+.055)/1.055,2.4)}function ma(pa){if(pa instanceof Ua)return new Ua(pa.h,pa.c,pa.l,pa.opacity);
pa instanceof qa||(pa=hb(pa));if(0===pa.a&&0===pa.b)return new Ua(NaN,0<pa.l&&100>pa.l?0:NaN,pa.l,pa.opacity);var Pa=Math.atan2(pa.b,pa.a)*Je;return new Ua(0>Pa?Pa+360:Pa,Math.sqrt(pa.a*pa.a+pa.b*pa.b),pa.l,pa.opacity)}function Ea(pa,Pa,Va,wb){return 1===arguments.length?ma(pa):new Ua(pa,Pa,Va,null==wb?1:wb)}function Ua(pa,Pa,Va,wb){this.h=+pa;this.c=+Pa;this.l=+Va;this.opacity=+wb}function ab(pa){if(isNaN(pa.h))return new qa(pa.l,0,0,pa.opacity);var Pa=pa.h*ge;return new qa(pa.l,Math.cos(Pa)*pa.c,
Math.sin(Pa)*pa.c,pa.opacity)}function ta(pa,Pa,Va,wb){if(1===arguments.length){var bc=pa;if(bc instanceof Na)bc=new Na(bc.h,bc.s,bc.l,bc.opacity);else{bc instanceof r||(bc=R(bc));var cc=bc.g/255,lc=bc.b/255,Cc=(nf*lc+bc.r/255*-1.7884503806-3.5172982438*cc)/(nf+-1.7884503806-3.5172982438);lc-=Cc;var id=(1.97294*(cc-Cc)- -.29227*lc)/-.90649;lc=(cc=Math.sqrt(id*id+lc*lc)/(1.97294*Cc*(1-Cc)))?Math.atan2(id,lc)*Je-120:NaN;bc=new Na(0>lc?lc+360:lc,cc,Cc,bc.opacity)}}else bc=new Na(pa,Pa,Va,null==wb?1:
wb);return bc}function Na(pa,Pa,Va,wb){this.h=+pa;this.s=+Pa;this.l=+Va;this.opacity=+wb}function oa(pa,Pa,Va,wb,bc){var cc=pa*pa,lc=cc*pa;return((1-3*pa+3*cc-lc)*Pa+(4-6*cc+3*lc)*Va+(1+3*pa+3*cc-3*lc)*wb+lc*bc)/6}function aa(pa){var Pa=pa.length-1;return function(Va){var wb=0>=Va?Va=0:1<=Va?(Va=1,Pa-1):Math.floor(Va*Pa),bc=pa[wb],cc=pa[wb+1];return oa((Va-wb/Pa)*Pa,0<wb?pa[wb-1]:2*bc-cc,bc,cc,wb<Pa-1?pa[wb+2]:2*cc-bc)}}function ka(pa){var Pa=pa.length;return function(Va){var wb=Math.floor((0>(Va%=
1)?++Va:Va)*Pa);return oa((Va-wb/Pa)*Pa,pa[(wb+Pa-1)%Pa],pa[wb%Pa],pa[(wb+1)%Pa],pa[(wb+2)%Pa])}}function Ia(pa,Pa){return function(Va){return pa+Va*Pa}}function Xa(pa,Pa,Va){return pa=Math.pow(pa,Va),Pa=Math.pow(Pa,Va)-pa,Va=1/Va,function(wb){return Math.pow(pa+wb*Pa,Va)}}function Ya(pa,Pa){var Va=Pa-pa;return Va?Ia(pa,180<Va||-180>Va?Va-360*Math.round(Va/360):Va):Yf(isNaN(pa)?Pa:pa)}function mb(pa){return 1===(pa=+pa)?ib:function(Pa,Va){return Va-Pa?Xa(Pa,Va,pa):Yf(isNaN(Pa)?Va:Pa)}}function ib(pa,
Pa){var Va=Pa-pa;return Va?Ia(pa,Va):Yf(isNaN(pa)?Pa:pa)}function Eb(pa){return function(Pa){var Va=Pa.length,wb=Array(Va),bc=Array(Va),cc=Array(Va),lc;for(lc=0;lc<Va;++lc){var Cc=J(Pa[lc]);wb[lc]=Cc.r||0;bc[lc]=Cc.g||0;cc[lc]=Cc.b||0}wb=pa(wb);bc=pa(bc);cc=pa(cc);Cc.opacity=1;return function(id){Cc.r=wb(id);Cc.g=bc(id);Cc.b=cc(id);return Cc+""}}}function Zb(pa,Pa){Pa||(Pa=[]);var Va=pa?Math.min(Pa.length,pa.length):0,wb=Pa.slice(),bc;return function(cc){for(bc=0;bc<Va;++bc)wb[bc]=pa[bc]*(1-cc)+Pa[bc]*
cc;return wb}}function Gc(pa){return ArrayBuffer.isView(pa)&&!(pa instanceof DataView)}function xc(pa,Pa){var Va=Pa?Pa.length:0,wb=pa?Math.min(Va,pa.length):0,bc=Array(wb),cc=Array(Va),lc;for(lc=0;lc<wb;++lc)bc[lc]=Yb(pa[lc],Pa[lc]);for(;lc<Va;++lc)cc[lc]=Pa[lc];return function(Cc){for(lc=0;lc<wb;++lc)cc[lc]=bc[lc](Cc);return cc}}function Ic(pa,Pa){var Va=new Date;return pa=+pa,Pa=+Pa,function(wb){return Va.setTime(pa*(1-wb)+Pa*wb),Va}}function rc(pa,Pa){return pa=+pa,Pa=+Pa,function(Va){return pa*
(1-Va)+Pa*Va}}function jd(pa,Pa){var Va={},wb={},bc;if(null===pa||"object"!==typeof pa)pa={};if(null===Pa||"object"!==typeof Pa)Pa={};for(bc in Pa)bc in pa?Va[bc]=Yb(pa[bc],Pa[bc]):wb[bc]=Pa[bc];return function(cc){for(bc in Va)wb[bc]=Va[bc](cc);return wb}}function Bb(pa){return function(){return pa}}function tb(pa){return function(Pa){return pa(Pa)+""}}function dc(pa,Pa){var Va=Sg.lastIndex=Qf.lastIndex=0,wb,bc,cc,lc=-1,Cc=[],id=[];pa+="";for(Pa+="";(wb=Sg.exec(pa))&&(bc=Qf.exec(Pa));)(cc=bc.index)>
Va&&(cc=Pa.slice(Va,cc),Cc[lc]?Cc[lc]+=cc:Cc[++lc]=cc),(wb=wb[0])===(bc=bc[0])?Cc[lc]?Cc[lc]+=bc:Cc[++lc]=bc:(Cc[++lc]=null,id.push({i:lc,x:rc(wb,bc)})),Va=Qf.lastIndex;Va<Pa.length&&(cc=Pa.slice(Va),Cc[lc]?Cc[lc]+=cc:Cc[++lc]=cc);return 2>Cc.length?id[0]?tb(id[0].x):Bb(Pa):(Pa=id.length,function(Gd){for(var Wd=0,pd;Wd<Pa;++Wd)Cc[(pd=id[Wd]).i]=pd.x(Gd);return Cc.join("")})}function Yb(pa,Pa){var Va=typeof Pa,wb;return null==Pa||"boolean"===Va?Yf(Pa):("number"===Va?rc:"string"===Va?(wb=ca(Pa))?(Pa=
wb,ff):dc:Pa instanceof ca?ff:Pa instanceof Date?Ic:Gc(Pa)?Zb:Array.isArray(Pa)?xc:"function"!==typeof Pa.valueOf&&"function"!==typeof Pa.toString||isNaN(Pa)?jd:rc)(pa,Pa)}function hc(pa,Pa){return pa=+pa,Pa=+Pa,function(Va){return Math.round(pa*(1-Va)+Pa*Va)}}function vc(pa,Pa,Va,wb,bc,cc){var lc,Cc,id;if(lc=Math.sqrt(pa*pa+Pa*Pa))pa/=lc,Pa/=lc;if(id=pa*Va+Pa*wb)Va-=pa*id,wb-=Pa*id;if(Cc=Math.sqrt(Va*Va+wb*wb))Va/=Cc,wb/=Cc,id/=Cc;pa*wb<Pa*Va&&(pa=-pa,Pa=-Pa,id=-id,lc=-lc);return{translateX:bc,translateY:cc,
rotate:Math.atan2(Pa,pa)*pg,skewX:Math.atan(id)*pg,scaleX:lc,scaleY:Cc}}function qc(pa,Pa,Va,wb){function bc(Gd){return Gd.length?Gd.pop()+" ":""}function cc(Gd,Wd,pd,le,Ze,Cf){Gd!==pd||Wd!==le?(Ze=Ze.push("translate(",null,Pa,null,Va),Cf.push({i:Ze-4,x:rc(Gd,pd)},{i:Ze-2,x:rc(Wd,le)})):(pd||le)&&Ze.push("translate("+pd+Pa+le+Va)}function lc(Gd,Wd,pd,le){Gd!==Wd?(180<Gd-Wd?Wd+=360:180<Wd-Gd&&(Gd+=360),le.push({i:pd.push(bc(pd)+"rotate(",null,wb)-2,x:rc(Gd,Wd)})):Wd&&pd.push(bc(pd)+"rotate("+Wd+wb)}
function Cc(Gd,Wd,pd,le){Gd!==Wd?le.push({i:pd.push(bc(pd)+"skewX(",null,wb)-2,x:rc(Gd,Wd)}):Wd&&pd.push(bc(pd)+"skewX("+Wd+wb)}function id(Gd,Wd,pd,le,Ze,Cf){Gd!==pd||Wd!==le?(Ze=Ze.push(bc(Ze)+"scale(",null,",",null,")"),Cf.push({i:Ze-4,x:rc(Gd,pd)},{i:Ze-2,x:rc(Wd,le)})):1===pd&&1===le||Ze.push(bc(Ze)+"scale("+pd+","+le+")")}return function(Gd,Wd){var pd=[],le=[];Gd=pa(Gd);Wd=pa(Wd);cc(Gd.translateX,Gd.translateY,Wd.translateX,Wd.translateY,pd,le);lc(Gd.rotate,Wd.rotate,pd,le);Cc(Gd.skewX,Wd.skewX,
pd,le);id(Gd.scaleX,Gd.scaleY,Wd.scaleX,Wd.scaleY,pd,le);Gd=Wd=null;return function(Ze){for(var Cf=-1,Ie=le.length,bg;++Cf<Ie;)pd[(bg=le[Cf]).i]=bg.x(Ze);return pd.join("")}}}function Dc(pa){return((pa=Math.exp(pa))+1/pa)/2}function Yc(pa){return function(Pa,Va){var wb=pa((Pa=ia(Pa)).h,(Va=ia(Va)).h),bc=ib(Pa.s,Va.s),cc=ib(Pa.l,Va.l),lc=ib(Pa.opacity,Va.opacity);return function(Cc){Pa.h=wb(Cc);Pa.s=bc(Cc);Pa.l=cc(Cc);Pa.opacity=lc(Cc);return Pa+""}}}function Hd(pa){return function(Pa,Va){var wb=pa((Pa=
Ea(Pa)).h,(Va=Ea(Va)).h),bc=ib(Pa.c,Va.c),cc=ib(Pa.l,Va.l),lc=ib(Pa.opacity,Va.opacity);return function(Cc){Pa.h=wb(Cc);Pa.c=bc(Cc);Pa.l=cc(Cc);Pa.opacity=lc(Cc);return Pa+""}}}function Fa(pa){return function wb(Va){function bc(cc,lc){var Cc=pa((cc=ta(cc)).h,(lc=ta(lc)).h),id=ib(cc.s,lc.s),Gd=ib(cc.l,lc.l),Wd=ib(cc.opacity,lc.opacity);return function(pd){cc.h=Cc(pd);cc.s=id(pd);cc.l=Gd(Math.pow(pd,Va));cc.opacity=Wd(pd);return cc+""}}Va=+Va;bc.gamma=wb;return bc}(1)}function Ca(pa,Pa){void 0===Pa&&
(Pa=pa,pa=Yb);for(var Va=0,wb=Pa.length-1,bc=Pa[0],cc=Array(0>wb?0:wb);Va<wb;)cc[Va]=pa(bc,bc=Pa[++Va]);return function(lc){var Cc=Math.max(0,Math.min(wb-1,Math.floor(lc*=wb)));return cc[Cc](lc-Cc)}}function Ha(pa){return function(){return pa}}function db(pa){return+pa}function ob(pa){return pa}function Ab(pa,Pa){return(Pa-=pa=+pa)?function(Va){return(Va-pa)/Pa}:Ha(isNaN(Pa)?NaN:.5)}function Ob(pa,Pa){if(pa>Pa){var Va=pa;pa=Pa;Pa=Va}return function(wb){return Math.max(pa,Math.min(Pa,wb))}}function Ub(pa,
Pa,Va){var wb=pa[0];pa=pa[1];var bc=Pa[0];Pa=Pa[1];pa<wb?(wb=Ab(pa,wb),bc=Va(Pa,bc)):(wb=Ab(wb,pa),bc=Va(bc,Pa));return function(cc){return bc(wb(cc))}}function $b(pa,Pa,Va){var wb=Math.min(pa.length,Pa.length)-1,bc=Array(wb),cc=Array(wb),lc=-1;pa[wb]<pa[0]&&(pa=pa.slice().reverse(),Pa=Pa.slice().reverse());for(;++lc<wb;)bc[lc]=Ab(pa[lc],pa[lc+1]),cc[lc]=Va(Pa[lc],Pa[lc+1]);return function(Cc){var id=Z(pa,Cc,1,wb)-1;return cc[id](bc[id](Cc))}}function Jc(pa,Pa){return Pa.domain(pa.domain()).range(pa.range()).interpolate(pa.interpolate()).clamp(pa.clamp()).unknown(pa.unknown())}
function Wc(){function pa(){var le=Math.min(Va.length,wb.length);id!==ob&&(id=Ob(Va[0],Va[le-1]));Gd=2<le?$b:Ub;Wd=pd=null;return Pa}function Pa(le){return null==le||isNaN(le=+le)?Cc:(Wd||(Wd=Gd(Va.map(cc),wb,bc)))(cc(id(le)))}var Va=xh,wb=xh,bc=Yb,cc,lc,Cc,id=ob,Gd,Wd,pd;Pa.invert=function(le){return id(lc((pd||(pd=Gd(wb,Va.map(cc),rc)))(le)))};Pa.domain=function(le){return arguments.length?(Va=Array.from(le,db),pa()):Va.slice()};Pa.range=function(le){return arguments.length?(wb=Array.from(le),pa()):
wb.slice()};Pa.rangeRound=function(le){return wb=Array.from(le),bc=hc,pa()};Pa.clamp=function(le){return arguments.length?(id=le?!0:ob,pa()):id!==ob};Pa.interpolate=function(le){return arguments.length?(bc=le,pa()):bc};Pa.unknown=function(le){return arguments.length?(Cc=le,Pa):Cc};return function(le,Ze){cc=le;lc=Ze;return pa()}}function dd(pa,Pa){if(0>(Pa=(pa=Pa?pa.toExponential(Pa-1):pa.toExponential()).indexOf("e")))return null;var Va=pa.slice(0,Pa);return[1<Va.length?Va[0]+Va.slice(2):Va,+pa.slice(Pa+
1)]}function ld(pa){return pa=dd(Math.abs(pa)),pa?pa[1]:NaN}function rd(pa,Pa){return function(Va,wb){for(var bc=Va.length,cc=[],lc=0,Cc=pa[0],id=0;0<bc&&0<Cc;){id+Cc+1>wb&&(Cc=Math.max(1,wb-id));cc.push(Va.substring(bc-=Cc,bc+Cc));if((id+=Cc+1)>wb)break;Cc=pa[lc=(lc+1)%pa.length]}return cc.reverse().join(Pa)}}function Kd(pa){return function(Pa){return Pa.replace(/[0-9]/g,function(Va){return pa[+Va]})}}function Nd(pa){if(!(Pa=Ph.exec(pa)))throw Error("invalid format: "+pa);var Pa;return new fe({fill:Pa[1],
align:Pa[2],sign:Pa[3],symbol:Pa[4],zero:Pa[5],width:Pa[6],comma:Pa[7],precision:Pa[8]&&Pa[8].slice(1),trim:Pa[9],type:Pa[10]})}function fe(pa){this.fill=void 0===pa.fill?" ":pa.fill+"";this.align=void 0===pa.align?"\x3e":pa.align+"";this.sign=void 0===pa.sign?"-":pa.sign+"";this.symbol=void 0===pa.symbol?"":pa.symbol+"";this.zero=!!pa.zero;this.width=void 0===pa.width?void 0:+pa.width;this.comma=!!pa.comma;this.precision=void 0===pa.precision?void 0:+pa.precision;this.trim=!!pa.trim;this.type=void 0===
pa.type?"":pa.type+""}function be(pa,Pa){Pa=dd(pa,Pa);if(!Pa)return pa+"";pa=Pa[0];Pa=Pa[1];return 0>Pa?"0."+Array(-Pa).join("0")+pa:pa.length>Pa+1?pa.slice(0,Pa+1)+"."+pa.slice(Pa+1):pa+Array(Pa-pa.length+2).join("0")}function ce(pa){return pa}function Td(pa){function Pa(Wd){function pd(qe){var Re=of,re=zg,xf,Wg;if("c"===Pg)re=Xh(qe)+re,qe="";else{qe=+qe;var dg=0>qe||0>1/qe;qe=isNaN(qe)?Gd:Xh(Math.abs(qe),sh);if(Lh){var mh=qe.length,$h=1,Ih=-1;a:for(;$h<mh;++$h)switch(qe[$h]){case ".":Ih=xf=$h;break;
case "0":0===Ih&&(Ih=$h);xf=$h;break;default:if(!+qe[$h])break a;0<Ih&&(Ih=0)}qe=0<Ih?qe.slice(0,Ih)+qe.slice(xf+1):qe}dg&&0===+qe&&"+"!==Cf&&(dg=!1);Re=(dg?"("===Cf?Cf:id:"-"===Cf||"("===Cf?"":Cf)+Re;re=("s"===Pg?Pb[8+Ka/3]:"")+re+(dg&&"("===Cf?")":"");if(Me)for(dg=-1,xf=qe.length;++dg<xf;)if(Wg=qe.charCodeAt(dg),48>Wg||57<Wg){re=(46===Wg?cc+qe.slice(dg+1):qe.slice(dg))+re;qe=qe.slice(0,dg);break}}Le&&!bg&&(qe=Va(qe,Infinity));Wg=Re.length+qe.length+re.length;dg=Wg<Og?Array(Og-Wg+1).join(le):"";
Le&&bg&&(qe=Va(dg+qe,dg.length?Og-re.length:Infinity),dg="");switch(Ze){case "\x3c":qe=Re+qe+re+dg;break;case "\x3d":qe=Re+dg+qe+re;break;case "^":qe=dg.slice(0,Wg=dg.length>>1)+Re+qe+re+dg.slice(Wg);break;default:qe=dg+Re+qe+re}return lc(qe)}Wd=Nd(Wd);var le=Wd.fill,Ze=Wd.align,Cf=Wd.sign,Ie=Wd.symbol,bg=Wd.zero,Og=Wd.width,Le=Wd.comma,sh=Wd.precision,Lh=Wd.trim,Pg=Wd.type;"n"===Pg?(Le=!0,Pg="g"):kb[Pg]||(void 0===sh&&(sh=12),Lh=!0,Pg="g");if(bg||"0"===le&&"\x3d"===Ze)bg=!0,le="0",Ze="\x3d";var of=
"$"===Ie?wb:"#"===Ie&&/[boxX]/.test(Pg)?"0"+Pg.toLowerCase():"",zg="$"===Ie?bc:/[%p]/.test(Pg)?Cc:"",Xh=kb[Pg],Me=/[defgprs%]/.test(Pg);sh=void 0===sh?6:/[gprs]/.test(Pg)?Math.max(1,Math.min(21,sh)):Math.max(0,Math.min(20,sh));pd.toString=function(){return Wd+""};return pd}var Va=void 0===pa.grouping||void 0===pa.thousands?ce:rd(Cb.call(pa.grouping,Number),pa.thousands+""),wb=void 0===pa.currency?"":pa.currency[0]+"",bc=void 0===pa.currency?"":pa.currency[1]+"",cc=void 0===pa.decimal?".":pa.decimal+
"",lc=void 0===pa.numerals?ce:Kd(Cb.call(pa.numerals,String)),Cc=void 0===pa.percent?"%":pa.percent+"",id=void 0===pa.minus?"":pa.minus+"",Gd=void 0===pa.nan?"NaN":pa.nan+"";return{format:Pa,formatPrefix:function(Wd,pd){var le=Pa((Wd=Nd(Wd),Wd.type="f",Wd));Wd=3*Math.max(-8,Math.min(8,Math.floor(ld(pd)/3)));var Ze=Math.pow(10,-Wd),Cf=Pb[8+Wd/3];return function(Ie){return le(Ze*Ie)+Cf}}}}function af(pa,Pa,Va,wb){Va=y(pa,Pa,Va);wb=Nd(null==wb?",f":wb);switch(wb.type){case "s":pa=Math.max(Math.abs(pa),
Math.abs(Pa));if(Pa=null==wb.precision){var bc=isNaN;Va=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ld(pa)/3)))-ld(Math.abs(Va)));Pa=!bc(bc=Va)}Pa&&(wb.precision=bc);return $c(wb,pa);case "":case "e":case "g":case "p":case "r":var cc;if(cc=null==wb.precision)bc=isNaN,pa=Math.max(Math.abs(pa),Math.abs(Pa)),Va=Math.abs(Va),pa=Math.abs(pa)-Va,Va=Math.max(0,ld(pa)-ld(Va))+1,cc=!bc(bc=Va);cc&&(wb.precision=bc-("e"===wb.type));break;case "f":case "%":null!=wb.precision||isNaN(bc=Math.max(0,-ld(Math.abs(Va))))||
(wb.precision=bc-2*("%"===wb.type))}return Fc(wb)}function Se(pa){var Pa=pa.domain;pa.ticks=function(Va){var wb=Pa();return e(wb[0],wb[wb.length-1],null==Va?10:Va)};pa.tickFormat=function(Va,wb){var bc=Pa();return af(bc[0],bc[bc.length-1],null==Va?10:Va,wb)};pa.nice=function(Va){null==Va&&(Va=10);var wb=Pa(),bc=0,cc=wb.length-1,lc=wb[bc],Cc=wb[cc],id=10;if(Cc<lc){var Gd=lc;lc=Cc;Cc=Gd;Gd=bc;bc=cc;cc=Gd}for(;0<id--;){Gd=t(lc,Cc,Va);if(Gd===Wd)return wb[bc]=lc,wb[cc]=Cc,Pa(wb);if(0<Gd)lc=Math.floor(lc/
Gd)*Gd,Cc=Math.ceil(Cc/Gd)*Gd;else if(0>Gd)lc=Math.ceil(lc*Gd)/Gd,Cc=Math.floor(Cc*Gd)/Gd;else break;var Wd=Gd}return pa};return pa}function ue(){var pa=Wc()(ob,ob);pa.copy=function(){return Jc(pa,ue())};F.apply(pa,arguments);return Se(pa)}function me(pa){function Pa(wb){return null==wb||isNaN(wb=+wb)?Va:wb}var Va;Pa.invert=Pa;Pa.domain=Pa.range=function(wb){return arguments.length?(pa=Array.from(wb,db),Pa):pa.slice()};Pa.unknown=function(wb){return arguments.length?(Va=wb,Pa):Va};Pa.copy=function(){return me(pa).unknown(Va)};
pa=arguments.length?Array.from(pa,db):[0,1];return Se(Pa)}function Ga(pa,Pa){pa=pa.slice();var Va=0,wb=pa.length-1,bc=pa[Va],cc=pa[wb];if(cc<bc){var lc=Va;Va=wb;wb=lc;lc=bc;bc=cc;cc=lc}pa[Va]=Pa.floor(bc);pa[wb]=Pa.ceil(cc);return pa}function $a(pa){return Math.log(pa)}function ub(pa){return Math.exp(pa)}function Mb(pa){return-Math.log(-pa)}function fc(pa){return-Math.exp(-pa)}function oc(pa){return isFinite(pa)?+("1e"+pa):0>pa?0:pa}function Mc(pa){return 10===pa?oc:pa===Math.E?Math.exp:Pa=>Math.pow(pa,
Pa)}function Kc(pa){return pa===Math.E?Math.log:10===pa&&Math.log10||2===pa&&Math.log2||(pa=Math.log(pa),Pa=>Math.log(Pa)/pa)}function gc(pa){return(Pa,Va)=>-pa(-Pa,Va)}function fd(pa){function Pa(){cc=Kc(bc);lc=Mc(bc);0>wb()[0]?(cc=gc(cc),lc=gc(lc),pa(Mb,fc)):pa($a,ub);return Va}const Va=pa($a,ub),wb=Va.domain;let bc=10,cc,lc;Va.base=function(Cc){return arguments.length?(bc=+Cc,Pa()):bc};Va.domain=function(Cc){return arguments.length?(wb(Cc),Pa()):wb()};Va.ticks=Cc=>{var id=wb();let Gd=id[0];id=
id[id.length-1];const Wd=id<Gd;Wd&&([Gd,id]=[id,Gd]);let pd=cc(Gd),le=cc(id),Ze;const Cf=null==Cc?10:+Cc;let Ie=[];if(!(bc%1)&&le-pd<Cf){pd=Math.floor(pd);le=Math.ceil(le);if(0<Gd)for(;pd<=le;++pd)for(Cc=1;Cc<bc;++Cc){if(Ze=0>pd?Cc/lc(-pd):Cc*lc(pd),!(Ze<Gd)){if(Ze>id)break;Ie.push(Ze)}}else for(;pd<=le;++pd)for(Cc=bc-1;1<=Cc;--Cc)if(Ze=0<pd?Cc/lc(-pd):Cc*lc(pd),!(Ze<Gd)){if(Ze>id)break;Ie.push(Ze)}2*Ie.length<Cf&&(Ie=e(Gd,id,Cf))}else Ie=e(pd,le,Math.min(le-pd,Cf)).map(lc);return Wd?Ie.reverse():
Ie};Va.tickFormat=(Cc,id)=>{null==Cc&&(Cc=10);null==id&&(id=10===bc?"s":",");"function"!==typeof id&&(bc%1||null!=(id=Nd(id)).precision||(id.trim=!0),id=Fc(id));if(Infinity===Cc)return id;const Gd=Math.max(1,bc*Cc/Va.ticks().length);return Wd=>{let pd=Wd/lc(Math.round(cc(Wd)));pd*bc<bc-.5&&(pd*=bc);return pd<=Gd?id(Wd):""}};Va.nice=()=>wb(Ga(wb(),{floor:Cc=>lc(Math.floor(cc(Cc))),ceil:Cc=>lc(Math.ceil(cc(Cc)))}));return Va}function nd(){const pa=fd(Wc()).domain([1,10]);pa.copy=()=>Jc(pa,nd()).base(pa.base());
F.apply(pa,arguments);return pa}function Fd(pa){return function(Pa){return Math.sign(Pa)*Math.log1p(Math.abs(Pa/pa))}}function Od(pa){return function(Pa){return Math.sign(Pa)*Math.expm1(Math.abs(Pa))*pa}}function Ud(pa){var Pa=1,Va=pa(Fd(Pa),Od(Pa));Va.constant=function(wb){return arguments.length?pa(Fd(Pa=+wb),Od(Pa)):Pa};return Se(Va)}function Yd(){var pa=Ud(Wc());pa.copy=function(){return Jc(pa,Yd()).constant(pa.constant())};return F.apply(pa,arguments)}function Ee(pa){return function(Pa){return 0>
Pa?-Math.pow(-Pa,pa):Math.pow(Pa,pa)}}function ze(pa){return 0>pa?-Math.sqrt(-pa):Math.sqrt(pa)}function Bf(pa){return 0>pa?-pa*pa:pa*pa}function xe(pa){var Pa=pa(ob,ob),Va=1;Pa.exponent=function(wb){return arguments.length?(Va=+wb,1===Va?pa(ob,ob):.5===Va?pa(ze,Bf):pa(Ee(Va),Ee(1/Va))):Va};return Se(Pa)}function Ne(){var pa=xe(Wc());pa.copy=function(){return Jc(pa,Ne()).exponent(pa.exponent())};F.apply(pa,arguments);return pa}function rf(){function pa(){var lc=0,Cc=Math.max(1,wb.length);for(bc=Array(Cc-
1);++lc<Cc;)bc[lc-1]=q(Va,lc/Cc);return Pa}function Pa(lc){return null==lc||isNaN(lc=+lc)?cc:wb[Z(bc,lc)]}var Va=[],wb=[],bc=[],cc;Pa.invertExtent=function(lc){lc=wb.indexOf(lc);return 0>lc?[NaN,NaN]:[0<lc?bc[lc-1]:Va[0],lc<bc.length?bc[lc]:Va[Va.length-1]]};Pa.domain=function(lc){if(!arguments.length)return Va.slice();Va=[];for(let Cc of lc)null==Cc||isNaN(Cc=+Cc)||Va.push(Cc);Va.sort(l);return pa()};Pa.range=function(lc){return arguments.length?(wb=Array.from(lc),pa()):wb.slice()};Pa.unknown=function(lc){return arguments.length?
(cc=lc,Pa):cc};Pa.quantiles=function(){return bc.slice()};Pa.copy=function(){return rf().domain(Va).range(wb).unknown(cc)};return F.apply(Pa,arguments)}function Vb(){function pa(id){return null!=id&&id<=id?lc[Z(cc,id,0,bc)]:Cc}function Pa(){var id=-1;for(cc=Array(bc);++id<bc;)cc[id]=((id+1)*wb-(id-bc)*Va)/(bc+1);return pa}var Va=0,wb=1,bc=1,cc=[.5],lc=[0,1],Cc;pa.domain=function(id){return arguments.length?([Va,wb]=id,Va=+Va,wb=+wb,Pa()):[Va,wb]};pa.range=function(id){return arguments.length?(bc=
(lc=Array.from(id)).length-1,Pa()):lc.slice()};pa.invertExtent=function(id){id=lc.indexOf(id);return 0>id?[NaN,NaN]:1>id?[Va,cc[0]]:id>=bc?[cc[bc-1],wb]:[cc[id-1],cc[id]]};pa.unknown=function(id){return arguments.length?(Cc=id,pa):pa};pa.thresholds=function(){return cc.slice()};pa.copy=function(){return Vb().domain([Va,wb]).range(lc).unknown(Cc)};return F.apply(Se(pa),arguments)}function sc(){function pa(cc){return null!=cc&&cc<=cc?Va[Z(Pa,cc,0,bc)]:wb}var Pa=[.5],Va=[0,1],wb,bc=1;pa.domain=function(cc){return arguments.length?
(Pa=Array.from(cc),bc=Math.min(Pa.length,Va.length-1),pa):Pa.slice()};pa.range=function(cc){return arguments.length?(Va=Array.from(cc),bc=Math.min(Pa.length,Va.length-1),pa):Va.slice()};pa.invertExtent=function(cc){cc=Va.indexOf(cc);return[Pa[cc-1],Pa[cc]]};pa.unknown=function(cc){return arguments.length?(wb=cc,pa):wb};pa.copy=function(){return sc().domain(Pa).range(Va).unknown(wb)};return F.apply(pa,arguments)}function cd(pa,Pa,Va,wb){function bc(cc){return pa(cc=0===arguments.length?new Date:new Date(+cc)),
cc}bc.floor=function(cc){return pa(cc=new Date(+cc)),cc};bc.ceil=function(cc){return pa(cc=new Date(cc-1)),Pa(cc,1),pa(cc),cc};bc.round=function(cc){var lc=bc(cc),Cc=bc.ceil(cc);return cc-lc<Cc-cc?lc:Cc};bc.offset=function(cc,lc){return Pa(cc=new Date(+cc),null==lc?1:Math.floor(lc)),cc};bc.range=function(cc,lc,Cc){var id=[],Gd;cc=bc.ceil(cc);Cc=null==Cc?1:Math.floor(Cc);if(!(cc<lc&&0<Cc))return id;do id.push(Gd=new Date(+cc)),Pa(cc,Cc),pa(cc);while(Gd<cc&&cc<lc);return id};bc.filter=function(cc){return cd(function(lc){if(lc>=
lc)for(;pa(lc),!cc(lc);)lc.setTime(lc-1)},function(lc,Cc){if(lc>=lc)if(0>Cc)for(;0>=++Cc;)for(;Pa(lc,-1),!cc(lc););else for(;0<=--Cc;)for(;Pa(lc,1),!cc(lc););})};Va&&(bc.count=function(cc,lc){Aa.setTime(+cc);Sa.setTime(+lc);pa(Aa);pa(Sa);return Math.floor(Va(Aa,Sa))},bc.every=function(cc){cc=Math.floor(cc);return isFinite(cc)&&0<cc?1<cc?bc.filter(wb?function(lc){return 0===wb(lc)%cc}:function(lc){return 0===bc.count(0,lc)%cc}):bc:null});return bc}function wd(pa){return cd(function(Pa){Pa.setDate(Pa.getDate()-
(Pa.getDay()+7-pa)%7);Pa.setHours(0,0,0,0)},function(Pa,Va){Pa.setDate(Pa.getDate()+7*Va)},function(Pa,Va){return(Va-Pa-6E4*(Va.getTimezoneOffset()-Pa.getTimezoneOffset()))/kc})}function Bd(pa){return cd(function(Pa){Pa.setUTCDate(Pa.getUTCDate()-(Pa.getUTCDay()+7-pa)%7);Pa.setUTCHours(0,0,0,0)},function(Pa,Va){Pa.setUTCDate(Pa.getUTCDate()+7*Va)},function(Pa,Va){return(Va-Pa)/kc})}function pe(pa,Pa,Va,wb,bc,cc){function lc(id,Gd,Wd){const pd=Math.abs(Gd-id)/Wd,le=f(([,,Ie])=>Ie).right(Cc,pd);if(le===
Cc.length)return pa.every(y(id/gd,Gd/gd,Wd));if(0===le)return rb.every(Math.max(y(id,Gd,Wd),1));const [Ze,Cf]=Cc[pd/Cc[le-1][2]<Cc[le][2]/pd?le-1:le];return Ze.every(Cf)}const Cc=[[Ad,1,1E3],[Ad,5,5E3],[Ad,15,15E3],[Ad,30,3E4],[cc,1,6E4],[cc,5,3E5],[cc,15,9E5],[cc,30,18E5],[bc,1,36E5],[bc,3,108E5],[bc,6,216E5],[bc,12,432E5],[wb,1,864E5],[wb,2,1728E5],[Va,1,kc],[Pa,1,Rc],[Pa,3,3*Rc],[pa,1,gd]];return[function(id,Gd,Wd){const pd=Gd<id;pd&&([id,Gd]=[Gd,id]);id=(Wd=Wd&&"function"===typeof Wd.range?Wd:
lc(id,Gd,Wd))?Wd.range(id,+Gd+1):[];return pd?id.reverse():id},lc]}function hf(pa){if(0<=pa.y&&100>pa.y){var Pa=new Date(-1,pa.m,pa.d,pa.H,pa.M,pa.S,pa.L);Pa.setFullYear(pa.y);return Pa}return new Date(pa.y,pa.m,pa.d,pa.H,pa.M,pa.S,pa.L)}function Vf(pa){if(0<=pa.y&&100>pa.y){var Pa=new Date(Date.UTC(-1,pa.m,pa.d,pa.H,pa.M,pa.S,pa.L));Pa.setUTCFullYear(pa.y);return Pa}return new Date(Date.UTC(pa.y,pa.m,pa.d,pa.H,pa.M,pa.S,pa.L))}function yf(pa,Pa,Va){return{y:pa,m:Pa,d:Va,H:0,M:0,S:0,L:0}}function Ff(pa){function Pa(Me,
qe){return function(Re){var re=[],xf=-1,Wg=0,dg=Me.length,mh,$h;for(Re instanceof Date||(Re=new Date(+Re));++xf<dg;)if(37===Me.charCodeAt(xf)){re.push(Me.slice(Wg,xf));null!=(Wg=Ug[mh=Me.charAt(++xf)])?mh=Me.charAt(++xf):Wg="e"===mh?" ":"0";if($h=qe[mh])mh=$h(Re,Wg);re.push(mh);Wg=xf+1}re.push(Me.slice(Wg,xf));return re.join("")}}function Va(Me,qe){return function(Re){var re=yf(1900,void 0,1);if(wb(re,Me,Re+="",0)!=Re.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(1E3*
re.s+("L"in re?re.L:0));!qe||"Z"in re||(re.Z=0);"p"in re&&(re.H=re.H%12+12*re.p);void 0===re.m&&(re.m="q"in re?re.q:0);if("V"in re){if(1>re.V||53<re.V)return null;"w"in re||(re.w=1);if("Z"in re){Re=Vf(yf(re.y,0,1));var xf=Re.getUTCDay();Re=4<xf||0===xf?li.ceil(Re):li(Re);Re=cg.offset(Re,7*(re.V-1));re.y=Re.getUTCFullYear();re.m=Re.getUTCMonth();re.d=Re.getUTCDate()+(re.w+6)%7}else Re=hf(yf(re.y,0,1)),xf=Re.getDay(),Re=4<xf||0===xf?Af.ceil(Re):Af(Re),Re=Ed.offset(Re,7*(re.V-1)),re.y=Re.getFullYear(),
re.m=Re.getMonth(),re.d=Re.getDate()+(re.w+6)%7}else if("W"in re||"U"in re)"w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),xf="Z"in re?Vf(yf(re.y,0,1)).getUTCDay():hf(yf(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+7*re.W-(xf+5)%7:re.w+7*re.U-(xf+6)%7;return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,Vf(re)):hf(re)}}function wb(Me,qe,Re,re){for(var xf=0,Wg=qe.length,dg=Re.length,mh;xf<Wg;){if(re>=dg)return-1;mh=qe.charCodeAt(xf++);if(37===mh){if(mh=qe.charAt(xf++),mh=Xh[mh in Ug?qe.charAt(xf++):
mh],!mh||0>(re=mh(Me,Re,re)))return-1}else if(mh!=Re.charCodeAt(re++))return-1}return re}var bc=pa.dateTime,cc=pa.date,lc=pa.time,Cc=pa.periods,id=pa.days,Gd=pa.shortDays,Wd=pa.months,pd=pa.shortMonths,le=Wb(Cc),Ze=Uc(Cc),Cf=Wb(id),Ie=Uc(id),bg=Wb(Gd),Og=Uc(Gd),Le=Wb(Wd),sh=Uc(Wd),Lh=Wb(pd),Pg=Uc(pd),of={a:function(Me){return Gd[Me.getDay()]},A:function(Me){return id[Me.getDay()]},b:function(Me){return pd[Me.getMonth()]},B:function(Me){return Wd[Me.getMonth()]},c:null,d:Lc,e:Lc,f:Qc,g:pc,G:zc,H:Ec,
I:tc,j:Nc,L:mc,m:jb,M:Ib,p:function(Me){return Cc[+(12<=Me.getHours())]},q:function(Me){return 1+~~(Me.getMonth()/3)},Q:Zg,s:Bg,S:Qb,u:Rb,U:na,V:lb,w:Jb,W:Nb,x:null,X:null,y:Lb,Y:Oc,Z:wc,"%":wg},zg={a:function(Me){return Gd[Me.getUTCDay()]},A:function(Me){return id[Me.getUTCDay()]},b:function(Me){return pd[Me.getUTCMonth()]},B:function(Me){return Wd[Me.getUTCMonth()]},c:null,d:od,e:od,f:ve,g:Xg,G:Ge,H:qd,I:Fe,j:Cd,L:je,m:xd,M:Id,p:function(Me){return Cc[+(12<=Me.getUTCHours())]},q:function(Me){return 1+
~~(Me.getUTCMonth()/3)},Q:Zg,s:Bg,S:te,u:ye,U:vd,V:df,w:vf,W:Lf,x:null,X:null,y:Of,Y:Xd,Z:og,"%":wg},Xh={a:function(Me,qe,Re){return(qe=bg.exec(qe.slice(Re)))?(Me.w=Og.get(qe[0].toLowerCase()),Re+qe[0].length):-1},A:function(Me,qe,Re){return(qe=Cf.exec(qe.slice(Re)))?(Me.w=Ie.get(qe[0].toLowerCase()),Re+qe[0].length):-1},b:function(Me,qe,Re){return(qe=Lh.exec(qe.slice(Re)))?(Me.m=Pg.get(qe[0].toLowerCase()),Re+qe[0].length):-1},B:function(Me,qe,Re){return(qe=Le.exec(qe.slice(Re)))?(Me.m=sh.get(qe[0].toLowerCase()),
Re+qe[0].length):-1},c:function(Me,qe,Re){return wb(Me,bc,qe,Re)},d:ic,e:ic,f:ac,g:qf,G:cf,H:Qa,I:Qa,j:la,L:Fb,m:Oa,M:fb,p:function(Me,qe,Re){return(qe=le.exec(qe.slice(Re)))?(Me.p=Ze.get(qe[0].toLowerCase()),Re+qe[0].length):-1},q:vb,Q:Zc,s:ad,S:xb,u:oe,U:Vd,V:Qd,w:ie,W:se,x:function(Me,qe,Re){return wb(Me,cc,qe,Re)},X:function(Me,qe,Re){return wb(Me,lc,qe,Re)},y:qf,Y:cf,Z:ua,"%":yc};of.x=Pa(cc,of);of.X=Pa(lc,of);of.c=Pa(bc,of);zg.x=Pa(cc,zg);zg.X=Pa(lc,zg);zg.c=Pa(bc,zg);return{format:function(Me){var qe=
Pa(Me+="",of);qe.toString=function(){return Me};return qe},parse:function(Me){var qe=Va(Me+="",!1);qe.toString=function(){return Me};return qe},utcFormat:function(Me){var qe=Pa(Me+="",zg);qe.toString=function(){return Me};return qe},utcParse:function(Me){var qe=Va(Me+="",!0);qe.toString=function(){return Me};return qe}}}function Oe(pa,Pa,Va){var wb=0>pa?"-":"";pa=(wb?-pa:pa)+"";var bc=pa.length;return wb+(bc<Va?Array(Va-bc+1).join(Pa)+pa:pa)}function Gb(pa){return pa.replace(Dh,"\\$\x26")}function Wb(pa){return new RegExp("^(?:"+
pa.map(Gb).join("|")+")","i")}function Uc(pa){return new Map(pa.map((Pa,Va)=>[Pa.toLowerCase(),Va]))}function ie(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+1)))?(pa.w=+Pa[0],Va+Pa[0].length):-1}function oe(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+1)))?(pa.u=+Pa[0],Va+Pa[0].length):-1}function Vd(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+2)))?(pa.U=+Pa[0],Va+Pa[0].length):-1}function Qd(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+2)))?(pa.V=+Pa[0],Va+Pa[0].length):-1}function se(pa,Pa,Va){return(Pa=
Mg.exec(Pa.slice(Va,Va+2)))?(pa.W=+Pa[0],Va+Pa[0].length):-1}function cf(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+4)))?(pa.y=+Pa[0],Va+Pa[0].length):-1}function qf(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+2)))?(pa.y=+Pa[0]+(68<+Pa[0]?1900:2E3),Va+Pa[0].length):-1}function ua(pa,Pa,Va){return(Pa=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Pa.slice(Va,Va+6)))?(pa.Z=Pa[1]?0:-(Pa[2]+(Pa[3]||"00")),Va+Pa[0].length):-1}function vb(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+1)))?(pa.q=3*Pa[0]-3,Va+Pa[0].length):
-1}function Oa(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+2)))?(pa.m=Pa[0]-1,Va+Pa[0].length):-1}function ic(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+2)))?(pa.d=+Pa[0],Va+Pa[0].length):-1}function la(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+3)))?(pa.m=0,pa.d=+Pa[0],Va+Pa[0].length):-1}function Qa(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+2)))?(pa.H=+Pa[0],Va+Pa[0].length):-1}function fb(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+2)))?(pa.M=+Pa[0],Va+Pa[0].length):-1}function xb(pa,Pa,Va){return(Pa=
Mg.exec(Pa.slice(Va,Va+2)))?(pa.S=+Pa[0],Va+Pa[0].length):-1}function Fb(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+3)))?(pa.L=+Pa[0],Va+Pa[0].length):-1}function ac(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va,Va+6)))?(pa.L=Math.floor(Pa[0]/1E3),Va+Pa[0].length):-1}function yc(pa,Pa,Va){return(pa=lg.exec(Pa.slice(Va,Va+1)))?Va+pa[0].length:-1}function Zc(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va)))?(pa.Q=+Pa[0],Va+Pa[0].length):-1}function ad(pa,Pa,Va){return(Pa=Mg.exec(Pa.slice(Va)))?(pa.s=+Pa[0],Va+Pa[0].length):
-1}function Lc(pa,Pa){return Oe(pa.getDate(),Pa,2)}function Ec(pa,Pa){return Oe(pa.getHours(),Pa,2)}function tc(pa,Pa){return Oe(pa.getHours()%12||12,Pa,2)}function Nc(pa,Pa){return Oe(1+Ed.count(Tg(pa),pa),Pa,3)}function mc(pa,Pa){return Oe(pa.getMilliseconds(),Pa,3)}function Qc(pa,Pa){return mc(pa,Pa)+"000"}function jb(pa,Pa){return Oe(pa.getMonth()+1,Pa,2)}function Ib(pa,Pa){return Oe(pa.getMinutes(),Pa,2)}function Qb(pa,Pa){return Oe(pa.getSeconds(),Pa,2)}function Rb(pa){pa=pa.getDay();return 0===
pa?7:pa}function na(pa,Pa){return Oe(De.count(Tg(pa)-1,pa),Pa,2)}function Ma(pa){var Pa=pa.getDay();return 4<=Pa||0===Pa?We(pa):We.ceil(pa)}function lb(pa,Pa){pa=Ma(pa);return Oe(We.count(Tg(pa),pa)+(4===Tg(pa).getDay()),Pa,2)}function Jb(pa){return pa.getDay()}function Nb(pa,Pa){return Oe(Af.count(Tg(pa)-1,pa),Pa,2)}function Lb(pa,Pa){return Oe(pa.getFullYear()%100,Pa,2)}function pc(pa,Pa){pa=Ma(pa);return Oe(pa.getFullYear()%100,Pa,2)}function Oc(pa,Pa){return Oe(pa.getFullYear()%1E4,Pa,4)}function zc(pa,
Pa){var Va=pa.getDay();pa=4<=Va||0===Va?We(pa):We.ceil(pa);return Oe(pa.getFullYear()%1E4,Pa,4)}function wc(pa){pa=pa.getTimezoneOffset();return(0<pa?"-":(pa*=-1,"+"))+Oe(pa/60|0,"0",2)+Oe(pa%60,"0",2)}function od(pa,Pa){return Oe(pa.getUTCDate(),Pa,2)}function qd(pa,Pa){return Oe(pa.getUTCHours(),Pa,2)}function Fe(pa,Pa){return Oe(pa.getUTCHours()%12||12,Pa,2)}function Cd(pa,Pa){return Oe(1+cg.count(Vg(pa),pa),Pa,3)}function je(pa,Pa){return Oe(pa.getUTCMilliseconds(),Pa,3)}function ve(pa,Pa){return je(pa,
Pa)+"000"}function xd(pa,Pa){return Oe(pa.getUTCMonth()+1,Pa,2)}function Id(pa,Pa){return Oe(pa.getUTCMinutes(),Pa,2)}function te(pa,Pa){return Oe(pa.getUTCSeconds(),Pa,2)}function ye(pa){pa=pa.getUTCDay();return 0===pa?7:pa}function vd(pa,Pa){return Oe(rg.count(Vg(pa)-1,pa),Pa,2)}function ef(pa){var Pa=pa.getUTCDay();return 4<=Pa||0===Pa?Dg(pa):Dg.ceil(pa)}function df(pa,Pa){pa=ef(pa);return Oe(Dg.count(Vg(pa),pa)+(4===Vg(pa).getUTCDay()),Pa,2)}function vf(pa){return pa.getUTCDay()}function Lf(pa,
Pa){return Oe(li.count(Vg(pa)-1,pa),Pa,2)}function Of(pa,Pa){return Oe(pa.getUTCFullYear()%100,Pa,2)}function Xg(pa,Pa){pa=ef(pa);return Oe(pa.getUTCFullYear()%100,Pa,2)}function Xd(pa,Pa){return Oe(pa.getUTCFullYear()%1E4,Pa,4)}function Ge(pa,Pa){var Va=pa.getUTCDay();pa=4<=Va||0===Va?Dg(pa):Dg.ceil(pa);return Oe(pa.getUTCFullYear()%1E4,Pa,4)}function og(){return"+0000"}function wg(){return"%"}function Zg(pa){return+pa}function Bg(pa){return Math.floor(+pa/1E3)}function Qg(pa){return new Date(pa)}
function sg(pa){return pa instanceof Date?+pa:+new Date(+pa)}function fg(pa,Pa,Va,wb,bc,cc,lc,Cc,id,Gd){function Wd(of){return(id(of)<of?Cf:Cc(of)<of?Ie:lc(of)<of?bg:cc(of)<of?Og:wb(of)<of?bc(of)<of?Le:sh:Va(of)<of?Lh:Pg)(of)}var pd=Wc()(ob,ob),le=pd.invert,Ze=pd.domain,Cf=Gd(".%L"),Ie=Gd(":%S"),bg=Gd("%I:%M"),Og=Gd("%I %p"),Le=Gd("%a %d"),sh=Gd("%b %d"),Lh=Gd("%B"),Pg=Gd("%Y");pd.invert=function(of){return new Date(le(of))};pd.domain=function(of){return arguments.length?Ze(Array.from(of,sg)):Ze().map(Qg)};
pd.ticks=function(of){var zg=Ze();return pa(zg[0],zg[zg.length-1],null==of?10:of)};pd.tickFormat=function(of,zg){return null==zg?Wd:Gd(zg)};pd.nice=function(of){var zg=Ze();of&&"function"===typeof of.range||(of=Pa(zg[0],zg[zg.length-1],null==of?10:of));return of?Ze(Ga(zg,of)):pd};pd.copy=function(){return Jc(pd,fg(pa,Pa,Va,wb,bc,cc,lc,Cc,id,Gd))};return pd}function zf(){function pa(pd){return null==pd||isNaN(pd=+pd)?Wd:id(0===lc?.5:(pd=(Cc(pd)-bc)*lc,Gd?Math.max(0,Math.min(1,pd)):pd))}function Pa(pd){return function(le){var Ze,
Cf;return arguments.length?([Ze,Cf]=le,id=pd(Ze,Cf),pa):[id(0),id(1)]}}var Va=0,wb=1,bc,cc,lc,Cc,id=ob,Gd=!1,Wd;pa.domain=function(pd){return arguments.length?([Va,wb]=pd,bc=Cc(Va=+Va),cc=Cc(wb=+wb),lc=bc===cc?0:1/(cc-bc),pa):[Va,wb]};pa.clamp=function(pd){return arguments.length?(Gd=!!pd,pa):Gd};pa.interpolator=function(pd){return arguments.length?(id=pd,pa):id};pa.range=Pa(Yb);pa.rangeRound=Pa(hc);pa.unknown=function(pd){return arguments.length?(Wd=pd,pa):Wd};return function(pd){Cc=pd;bc=pd(Va);
cc=pd(wb);lc=bc===cc?0:1/(cc-bc);return pa}}function Pf(pa,Pa){return Pa.domain(pa.domain()).interpolator(pa.interpolator()).clamp(pa.clamp()).unknown(pa.unknown())}function eg(){var pa=Se(zf()(ob));pa.copy=function(){return Pf(pa,eg())};return w.apply(pa,arguments)}function Mf(){var pa=fd(zf()).domain([1,10]);pa.copy=function(){return Pf(pa,Mf()).base(pa.base())};return w.apply(pa,arguments)}function gg(){var pa=Ud(zf());pa.copy=function(){return Pf(pa,gg()).constant(pa.constant())};return w.apply(pa,
arguments)}function kh(){var pa=xe(zf());pa.copy=function(){return Pf(pa,kh()).exponent(pa.exponent())};return w.apply(pa,arguments)}function th(){function pa(Ie){return isNaN(Ie=+Ie)?Cf:(Ie=.5+((Ie=+le(Ie))-Cc)*(cc*Ie<cc*Cc?Gd:Wd),pd(Ze?Math.max(0,Math.min(1,Ie)):Ie))}function Pa(Ie){return function(bg){var Og,Le,sh;return arguments.length?([Og,Le,sh]=bg,pd=Ca(Ie,[Og,Le,sh]),pa):[pd(0),pd(.5),pd(1)]}}var Va=0,wb=.5,bc=1,cc=1,lc,Cc,id,Gd,Wd,pd=ob,le,Ze=!1,Cf;pa.domain=function(Ie){return arguments.length?
([Va,wb,bc]=Ie,lc=le(Va=+Va),Cc=le(wb=+wb),id=le(bc=+bc),Gd=lc===Cc?0:.5/(Cc-lc),Wd=Cc===id?0:.5/(id-Cc),cc=Cc<lc?-1:1,pa):[Va,wb,bc]};pa.clamp=function(Ie){return arguments.length?(Ze=!!Ie,pa):Ze};pa.interpolator=function(Ie){return arguments.length?(pd=Ie,pa):pd};pa.range=Pa(Yb);pa.rangeRound=Pa(hc);pa.unknown=function(Ie){return arguments.length?(Cf=Ie,pa):Cf};return function(Ie){le=Ie;lc=Ie(Va);Cc=Ie(wb);id=Ie(bc);Gd=lc===Cc?0:.5/(Cc-lc);Wd=Cc===id?0:.5/(id-Cc);cc=Cc<lc?-1:1;return pa}}function Gg(){var pa=
Se(th()(ob));pa.copy=function(){return Pf(pa,Gg())};return w.apply(pa,arguments)}function xg(){var pa=fd(th()).domain([.1,1,10]);pa.copy=function(){return Pf(pa,xg()).base(pa.base())};return w.apply(pa,arguments)}function zh(){var pa=Ud(th());pa.copy=function(){return Pf(pa,zh()).constant(pa.constant())};return w.apply(pa,arguments)}function bb(){var pa=xe(th());pa.copy=function(){return Pf(pa,bb()).exponent(pa.exponent())};return w.apply(pa,arguments)}function Hb(){function pa(){var pd=Va().length;
const le=bc[1]<bc[0],Ze=bc[1-le],Cf=A(pd,id,Gd);let Ie=bc[le-0];cc=(Ze-Ie)/(Cf||1);Cc&&(cc=Math.floor(cc));Ie+=(Ze-Ie-cc*(pd-id))*Wd;lc=cc*(1-id);Cc&&(Ie=Math.round(Ie),lc=Math.round(lc));pd=E(pd).map(bg=>Ie+cc*bg);return wb(le?pd.reverse():pd)}const Pa=D().unknown(void 0),Va=Pa.domain,wb=Pa.range;let bc=[0,1],cc,lc,Cc=!1,id=0,Gd=0,Wd=.5;delete Pa.unknown;Pa.domain=function(pd){return arguments.length?(Va(pd),pa()):Va()};Pa.range=function(pd){return arguments.length?(bc=[+pd[0],+pd[1]],pa()):bc.slice()};
Pa.rangeRound=function(pd){bc=[+pd[0],+pd[1]];Cc=!0;return pa()};Pa.bandwidth=function(){return lc};Pa.step=function(){return cc};Pa.round=function(pd){return arguments.length?(Cc=!!pd,pa()):Cc};Pa.padding=function(pd){return arguments.length?(id=Gd=Math.max(0,Math.min(1,pd)),pa()):id};Pa.paddingInner=function(pd){return arguments.length?(id=Math.max(0,Math.min(1,pd)),pa()):id};Pa.paddingOuter=function(pd){return arguments.length?(Gd=Math.max(0,Math.min(1,pd)),pa()):Gd};Pa.align=function(pd){return arguments.length?
(Wd=Math.max(0,Math.min(1,pd)),pa()):Wd};Pa.invertRange=function(pd){if(null!=pd[0]&&null!=pd[1]){var le=bc[1]<bc[0],Ze=le?wb().reverse():wb(),Cf=Ze.length-1,Ie=+pd[0],bg=+pd[1];if(Ie===Ie&&bg===bg){if(bg<Ie){var Og=Ie;Ie=bg;bg=Og}if(!(bg<Ze[0]||Ie>bc[1-le]))return pd=Math.max(0,K(Ze,Ie)-1),bg=Ie===bg?pd:K(Ze,bg)-1,Ie-Ze[pd]>lc+1E-10&&++pd,le&&(Og=pd,pd=Cf-bg,bg=Cf-Og),pd>bg?void 0:Va().slice(pd,bg+1)}}};Pa.invert=function(pd){return(pd=Pa.invertRange([pd,pd]))?pd[0]:pd};Pa.copy=function(){return Hb().domain(Va()).range(bc).round(Cc).paddingInner(id).paddingOuter(Gd).align(Wd)};
return pa()}function nc(pa){const Pa=pa.copy;pa.padding=pa.paddingOuter;delete pa.paddingInner;pa.copy=function(){return nc(Pa())};return pa}function td(){function pa(wb){return null==wb||wb!==wb?void 0:Va[(Z(Pa,wb)-1)%Va.length]}let Pa=[],Va=[];pa.domain=function(wb){return arguments.length?(Pa=Eg.call(wb,k.toNumber),pa):Pa.slice()};pa.range=function(wb){return arguments.length?(Va=rh.call(wb),pa):Va.slice()};pa.tickFormat=function(wb,bc){return af(Pa[0],k.peek(Pa),null==wb?10:wb,bc)};pa.copy=function(){return td().domain(pa.domain()).range(pa.range())};
return pa}function zd(pa,Pa,Va){const wb=function(){const bc=Pa();bc.invertRange||(bc.invertRange=bc.invert?u(bc):bc.invertExtent?m(bc):void 0);bc.type=pa;return bc};wb.metadata=k.toSet(k.array(Va));return wb}function he(pa,Pa,Va){return 1<arguments.length?(mi[pa]=zd(pa,Pa,Va),this):kf(pa)?mi[pa]:void 0}function kf(pa){return k.hasOwnProperty(mi,pa)}function sf(pa,Pa){return(pa=mi[pa])&&pa.metadata[Pa]}function Rg(pa){return sf(pa,"discrete")}function Rf(pa){return sf(pa,"discretizing")}function eh(pa){return sf(pa,
"log")}function uh(pa){return sf(pa,"temporal")}function $g(pa,Pa,Va){return Ca(fh(Pa||"rgb",Va),pa)}function fh(pa,Pa){pa=Ti[mf(pa)];return null!=Pa&&pa&&pa.gamma?pa.gamma(Pa):pa}function mf(pa){return"interpolate"+pa.toLowerCase().split("-").map(Pa=>Pa[0].toUpperCase()+Pa.slice(1)).join("")}function ae(pa){const Pa=pa.length/6|0,Va=Array(Pa);for(let wb=0;wb<Pa;)Va[wb]="#"+pa.slice(6*wb,6*++wb);return Va}function gh(pa,Pa){for(const Va in pa)Vh(Va,Pa(pa[Va]))}function Vh(pa,Pa){pa=pa&&pa.toLowerCase();
return 1<arguments.length?(yh[pa]=Pa,this):yh[pa]}function lh(pa,Pa,Va){var wb=pa.range();let bc=wb[0],cc=k.peek(wb);wb=Xi;bc>cc&&(wb=cc,cc=bc,bc=wb,wb=Ei);bc=Math.floor(bc);cc=Math.ceil(cc);Pa=Pa.map(lc=>[lc,pa(lc)]).filter(lc=>bc<=lc[1]&&lc[1]<=cc).sort(wb).map(lc=>lc[0]);if(0<Va&&1<Pa.length){for(wb=[Pa[0],k.peek(Pa)];Pa.length>Va&&3<=Pa.length;)Pa=Pa.filter((lc,Cc)=>!(Cc%2));3>Pa.length&&(Pa=wb)}return Pa}function tg(pa,Pa){return pa.bins?lh(pa,pa.bins):pa.ticks?pa.ticks(Pa):pa.domain()}function Mh(pa,
Pa,Va,wb,bc,cc){const lc=Pa.type;let Cc=Li;if("time"===lc||"time"===bc)Cc=pa.timeFormat(wb);else if("utc"===lc||"utc"===bc)Cc=pa.utcFormat(wb);else if(eh(lc)){const id=pa.formatFloat(wb);if(cc||Pa.bins)Cc=id;else{const Gd=Th(Pa,Va,!1);Cc=Wd=>Gd(Wd)?id(Wd):""}}else Pa.tickFormat?(Pa=Pa.domain(),Cc=pa.formatSpan(Pa[0],Pa[Pa.length-1],Va,wb)):wb&&(Cc=pa.format(wb));return Cc}function Th(pa,Pa,Va){const wb=tg(pa,Pa),bc=pa.base(),cc=Math.log(bc),lc=Math.max(1,bc*Pa/wb.length);pa=Cc=>{Cc/=Math.pow(bc,Math.round(Math.log(Cc)/
cc));Cc*bc<bc-.5&&(Cc*=bc);return Cc<=lc};return Va?wb.filter(pa):pa}function Te(pa,Pa){pa.bins?(pa=pa.bins,Pa=pa.slice(0,-1),Pa.max=k.peek(pa),pa=Pa):"log"===pa.type?pa=Th(pa,Pa,!0):ri[pa.type]?(pa=pa[ri[pa.type]](),pa=[-Infinity].concat(pa),pa.max=Infinity):pa=tg(pa,Pa);return pa}function gf(pa,Pa,Va,wb,bc,cc,lc){if(Ii[Pa.type]&&"time"!==cc&&"utc"!==cc){Va=Pa[Ii[Pa.type]]();cc=Va.length;lc=1<cc?Va[1]-Va[0]:Va[0];let Cc;for(Cc=1;Cc<cc;++Cc)lc=Math.min(lc,Va[Cc]-Va[Cc-1]);pa=pa.formatSpan(0,lc,30,
bc)}else pa=Mh(pa,Pa,Va,bc,cc,lc);return"symbol"===wb&&(ri[Pa.type]||Pa.bins)?Bi(pa):"discrete"===wb?Hg(pa):Jj(pa)}const K=f(l).right;f(g).center;var Z=K;class wa extends Map{constructor(pa,Pa=a){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Pa}});if(null!=pa)for(const [Va,wb]of pa)this.set(Va,wb)}get(pa){return super.get(d(this,pa))}has(pa){return super.has(d(this,pa))}set(pa,Pa){return super.set(b(this,pa),Pa)}delete(pa){return super.delete(c(this,pa))}}var Ta=Math.sqrt(50),
pb=Math.sqrt(10),Db=Math.sqrt(2);const Xb=Symbol("implicit");var Hc=1/.7,Vc=/^#([0-9a-f]{3,8})$/,Pc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Dd=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Rd=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ve=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
He=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Jf=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Pd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
G(O,ca,{copy:function(pa){return Object.assign(new this.constructor,this,pa)},displayable:function(){return this.rgb().displayable()},hex:V,formatHex:V,formatHsl:function(){return ba(this).formatHsl()},formatRgb:S,toString:S});G(r,J,L(O,{brighter:function(pa){pa=null==pa?Hc:Math.pow(Hc,pa);return new r(this.r*pa,this.g*pa,this.b*pa,this.opacity)},darker:function(pa){pa=null==pa?.7:Math.pow(.7,pa);return new r(this.r*pa,this.g*pa,this.b*pa,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:C,formatHex:C,formatRgb:N,toString:N}));G(za,ia,L(O,{brighter:function(pa){pa=null==pa?Hc:Math.pow(Hc,pa);return new za(this.h,this.s,this.l*pa,this.opacity)},darker:function(pa){pa=null==pa?.7:Math.pow(.7,pa);return new za(this.h,this.s,this.l*pa,this.opacity)},rgb:function(){var pa=this.h%360+360*(0>this.h),Pa=isNaN(pa)||isNaN(this.s)?0:this.s,Va=this.l;Pa=Va+(.5>Va?Va:1-Va)*Pa;Va=2*
Va-Pa;return new r(Wa(240<=pa?pa-240:pa+120,Va,Pa),Wa(pa,Va,Pa),Wa(120>pa?pa+240:pa-120,Va,Pa),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var pa=this.opacity;pa=isNaN(pa)?1:Math.max(0,Math.min(1,pa));return(1===pa?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===pa?")":", "+pa+")")}}));const ge=Math.PI/180,Je=180/Math.PI,Pe=4/29,Hf=6/29,hg=3*Hf*Hf,Ue=
Hf*Hf*Hf;G(qa,Ja,L(O,{brighter:function(pa){return new qa(this.l+18*(null==pa?1:pa),this.a,this.b,this.opacity)},darker:function(pa){return new qa(this.l-18*(null==pa?1:pa),this.a,this.b,this.opacity)},rgb:function(){var pa=(this.l+16)/116,Pa=isNaN(this.a)?pa:pa+this.a/500,Va=isNaN(this.b)?pa:pa-this.b/200;Pa=.96422*va(Pa);pa=1*va(pa);Va=.82521*va(Va);return new r(sa(3.1338561*Pa-1.6168667*pa-.4906146*Va),sa(-.9787684*Pa+1.9161415*pa+.033454*Va),sa(.0719453*Pa-.2289914*pa+1.4052427*Va),this.opacity)}}));
G(Ua,Ea,L(O,{brighter:function(pa){return new Ua(this.h,this.c,this.l+18*(null==pa?1:pa),this.opacity)},darker:function(pa){return new Ua(this.h,this.c,this.l-18*(null==pa?1:pa),this.opacity)},rgb:function(){return ab(this).rgb()}}));var nf=1.78277*-.29227-.1347134789;G(Na,ta,L(O,{brighter:function(pa){pa=null==pa?Hc:Math.pow(Hc,pa);return new Na(this.h,this.s,this.l*pa,this.opacity)},darker:function(pa){pa=null==pa?.7:Math.pow(.7,pa);return new Na(this.h,this.s,this.l*pa,this.opacity)},rgb:function(){var pa=
isNaN(this.h)?0:(this.h+120)*ge,Pa=+this.l,Va=isNaN(this.s)?0:this.s*Pa*(1-Pa),wb=Math.cos(pa);pa=Math.sin(pa);return new r(255*(Pa+Va*(-.14861*wb+1.78277*pa)),255*(Pa+Va*(-.29227*wb+-.90649*pa)),255*(Pa+1.97294*Va*wb),this.opacity)}}));var Yf=pa=>()=>pa,ff=function Va(Pa){function wb(cc,lc){var Cc=bc((cc=J(cc)).r,(lc=J(lc)).r),id=bc(cc.g,lc.g),Gd=bc(cc.b,lc.b),Wd=ib(cc.opacity,lc.opacity);return function(pd){cc.r=Cc(pd);cc.g=id(pd);cc.b=Gd(pd);cc.opacity=Wd(pd);return cc+""}}var bc=mb(Pa);wb.gamma=
Va;return wb}(1),yg=Eb(aa),Ng=Eb(ka),Sg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qf=new RegExp(Sg.source,"g"),pg=180/Math.PI,lf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Nf,wh=qc(function(Pa){Pa=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(Pa+"");return Pa.isIdentity?lf:vc(Pa.a,Pa.b,Pa.c,Pa.d,Pa.e,Pa.f)},"px, ","px)","deg)"),qg=qc(function(Pa){if(null==Pa)return lf;Nf||(Nf=document.createElementNS("http://www.w3.org/2000/svg","g"));Nf.setAttribute("transform",
Pa);if(!(Pa=Nf.transform.baseVal.consolidate()))return lf;Pa=Pa.matrix;return vc(Pa.a,Pa.b,Pa.c,Pa.d,Pa.e,Pa.f)},", ",")",")"),Oh=function cc(Va,wb,bc){function lc(Cc,id){var Gd=Cc[0],Wd=Cc[1],pd=Cc[2];Cc=id[2];var le=id[0]-Gd,Ze=id[1]-Wd,Cf=le*le+Ze*Ze;if(1E-12>Cf){var Ie=Math.log(Cc/pd)/Va;Cc=function(Le){return[Gd+Le*le,Wd+Le*Ze,pd*Math.exp(Va*Le*Ie)]}}else{var bg=Math.sqrt(Cf);id=(Cc*Cc-pd*pd+bc*Cf)/(2*pd*wb*bg);Cc=(Cc*Cc-pd*pd-bc*Cf)/(2*Cc*wb*bg);var Og=Math.log(Math.sqrt(id*id+1)-id);Ie=(Math.log(Math.sqrt(Cc*
Cc+1)-Cc)-Og)/Va;Cc=function(Le){Le*=Ie;var sh=Dc(Og),Lh=Va*Le+Og;var Pg=((Lh=Math.exp(2*Lh))-1)/(Lh+1);var of=Og;Lh=((of=Math.exp(of))-1/of)/2;Pg=pd/(wb*bg)*(sh*Pg-Lh);return[Gd+Pg*le,Wd+Pg*Ze,pd*sh/Dc(Va*Le+Og)]}}Cc.duration=1E3*Ie*Va/Math.SQRT2;return Cc}lc.rho=function(Cc){Cc=Math.max(.001,+Cc);var id=Cc*Cc;return cc(Cc,id,id*id)};return lc}(Math.SQRT2,2,4),Jh=Yc(Ya),qh=Yc(ib),ig=Hd(Ya),zi=Hd(ib),ph=Fa(Ya),Yg=Fa(ib),Ti=Object.freeze({__proto__:null,interpolate:Yb,interpolateArray:function(Va,
wb){return(Gc(wb)?Zb:xc)(Va,wb)},interpolateBasis:aa,interpolateBasisClosed:ka,interpolateDate:Ic,interpolateDiscrete:function(Va){var wb=Va.length;return function(bc){return Va[Math.max(0,Math.min(wb-1,Math.floor(bc*wb)))]}},interpolateHue:function(Va,wb){var bc=Ya(+Va,+wb);return function(cc){cc=bc(cc);return cc-360*Math.floor(cc/360)}},interpolateNumber:rc,interpolateNumberArray:Zb,interpolateObject:jd,interpolateRound:hc,interpolateString:dc,interpolateTransformCss:wh,interpolateTransformSvg:qg,
interpolateZoom:Oh,interpolateRgb:ff,interpolateRgbBasis:yg,interpolateRgbBasisClosed:Ng,interpolateHsl:Jh,interpolateHslLong:qh,interpolateLab:function(Va,wb){var bc=ib((Va=Ja(Va)).l,(wb=Ja(wb)).l),cc=ib(Va.a,wb.a),lc=ib(Va.b,wb.b),Cc=ib(Va.opacity,wb.opacity);return function(id){Va.l=bc(id);Va.a=cc(id);Va.b=lc(id);Va.opacity=Cc(id);return Va+""}},interpolateHcl:ig,interpolateHclLong:zi,interpolateCubehelix:ph,interpolateCubehelixLong:Yg,piecewise:Ca,quantize:function(Va,wb){for(var bc=Array(wb),
cc=0;cc<wb;++cc)bc[cc]=Va(cc/(wb-1));return bc}}),xh=[0,1],Ph=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Nd.prototype=fe.prototype;fe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Ka,kb={"%":(Va,wb)=>(100*Va).toFixed(wb),b:Va=>Math.round(Va).toString(2),
c:Va=>Va+"",d:function(Va){return 1E21<=Math.abs(Va=Math.round(Va))?Va.toLocaleString("en").replace(/,/g,""):Va.toString(10)},e:(Va,wb)=>Va.toExponential(wb),f:(Va,wb)=>Va.toFixed(wb),g:(Va,wb)=>Va.toPrecision(wb),o:Va=>Math.round(Va).toString(8),p:(Va,wb)=>be(100*Va,wb),r:be,s:function(Va,wb){var bc=dd(Va,wb);if(!bc)return Va+"";var cc=bc[0];bc=bc[1];bc=bc-(Ka=3*Math.max(-8,Math.min(8,Math.floor(bc/3))))+1;var lc=cc.length;return bc===lc?cc:bc>lc?cc+Array(bc-lc+1).join("0"):0<bc?cc.slice(0,bc)+"."+
cc.slice(bc):"0."+Array(1-bc).join("0")+dd(Va,Math.max(0,wb+bc-1))[0]},X:Va=>Math.round(Va).toString(16).toUpperCase(),x:Va=>Math.round(Va).toString(16)},Cb=Array.prototype.map,Pb="y z a f p n  m  k M G T P E Z Y".split(" "),uc,Fc,$c;(function(Va){uc=Td(Va);Fc=uc.format;$c=uc.formatPrefix;return uc})({thousands:",",grouping:[3],currency:["$",""]});var Aa=new Date,Sa=new Date,qb=cd(function(){},function(Va,wb){Va.setTime(+Va+wb)},function(Va,wb){return wb-Va});qb.every=function(Va){Va=Math.floor(Va);
return isFinite(Va)&&0<Va?1<Va?cd(function(wb){wb.setTime(Math.floor(wb/Va)*Va)},function(wb,bc){wb.setTime(+wb+bc*Va)},function(wb,bc){return(bc-wb)/Va}):qb:null};var rb=qb;const kc=6048E5,Rc=2592E6,gd=31536E6;var Ad=cd(function(Va){Va.setTime(Va-Va.getMilliseconds())},function(Va,wb){Va.setTime(+Va+1E3*wb)},function(Va,wb){return(wb-Va)/1E3},function(Va){return Va.getUTCSeconds()}),Xc=cd(function(Va){Va.setTime(Va-Va.getMilliseconds()-1E3*Va.getSeconds())},function(Va,wb){Va.setTime(+Va+6E4*wb)},
function(Va,wb){return(wb-Va)/6E4},function(Va){return Va.getMinutes()}),Sd=cd(function(Va){Va.setTime(Va-Va.getMilliseconds()-1E3*Va.getSeconds()-6E4*Va.getMinutes())},function(Va,wb){Va.setTime(+Va+36E5*wb)},function(Va,wb){return(wb-Va)/36E5},function(Va){return Va.getHours()}),Ed=cd(Va=>Va.setHours(0,0,0,0),(Va,wb)=>Va.setDate(Va.getDate()+wb),(Va,wb)=>(wb-Va-6E4*(wb.getTimezoneOffset()-Va.getTimezoneOffset()))/864E5,Va=>Va.getDate()-1),De=wd(0),Af=wd(1);wd(2);wd(3);var We=wd(4);wd(5);wd(6);var Ef=
cd(function(Va){Va.setDate(1);Va.setHours(0,0,0,0)},function(Va,wb){Va.setMonth(Va.getMonth()+wb)},function(Va,wb){return wb.getMonth()-Va.getMonth()+12*(wb.getFullYear()-Va.getFullYear())},function(Va){return Va.getMonth()}),ug=cd(function(Va){Va.setMonth(0,1);Va.setHours(0,0,0,0)},function(Va,wb){Va.setFullYear(Va.getFullYear()+wb)},function(Va,wb){return wb.getFullYear()-Va.getFullYear()},function(Va){return Va.getFullYear()});ug.every=function(Va){return isFinite(Va=Math.floor(Va))&&0<Va?cd(function(wb){wb.setFullYear(Math.floor(wb.getFullYear()/
Va)*Va);wb.setMonth(0,1);wb.setHours(0,0,0,0)},function(wb,bc){wb.setFullYear(wb.getFullYear()+bc*Va)}):null};var Tg=ug,wf=cd(function(Va){Va.setUTCSeconds(0,0)},function(Va,wb){Va.setTime(+Va+6E4*wb)},function(Va,wb){return(wb-Va)/6E4},function(Va){return Va.getUTCMinutes()}),$f=cd(function(Va){Va.setUTCMinutes(0,0,0)},function(Va,wb){Va.setTime(+Va+36E5*wb)},function(Va,wb){return(wb-Va)/36E5},function(Va){return Va.getUTCHours()}),cg=cd(function(Va){Va.setUTCHours(0,0,0,0)},function(Va,wb){Va.setUTCDate(Va.getUTCDate()+
wb)},function(Va,wb){return(wb-Va)/864E5},function(Va){return Va.getUTCDate()-1}),rg=Bd(0),li=Bd(1);Bd(2);Bd(3);var Dg=Bd(4);Bd(5);Bd(6);var hh=cd(function(Va){Va.setUTCDate(1);Va.setUTCHours(0,0,0,0)},function(Va,wb){Va.setUTCMonth(Va.getUTCMonth()+wb)},function(Va,wb){return wb.getUTCMonth()-Va.getUTCMonth()+12*(wb.getUTCFullYear()-Va.getUTCFullYear())},function(Va){return Va.getUTCMonth()}),ih=cd(function(Va){Va.setUTCMonth(0,1);Va.setUTCHours(0,0,0,0)},function(Va,wb){Va.setUTCFullYear(Va.getUTCFullYear()+
wb)},function(Va,wb){return wb.getUTCFullYear()-Va.getUTCFullYear()},function(Va){return Va.getUTCFullYear()});ih.every=function(Va){return isFinite(Va=Math.floor(Va))&&0<Va?cd(function(wb){wb.setUTCFullYear(Math.floor(wb.getUTCFullYear()/Va)*Va);wb.setUTCMonth(0,1);wb.setUTCHours(0,0,0,0)},function(wb,bc){wb.setUTCFullYear(wb.getUTCFullYear()+bc*Va)}):null};var Vg=ih;const [ch,Wh]=pe(Vg,hh,rg,cg,$f,wf),[Jg,si]=pe(Tg,Ef,De,Ed,Sd,Xc);var Ug={"-":"",_:" ",0:"0"},Mg=/^\s*\d+/,lg=/^%/,Dh=/[\\^$*+?|[\]().{}]/g,
Gh,ii,Zf;(function(Va){Gh=Ff(Va);ii=Gh.format;Zf=Gh.utcFormat;return Gh})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Eg=Array.prototype.map;const rh=Array.prototype.slice,
mi={};he("identity",me);he("linear",ue,"continuous");he("log",nd,["continuous","log"]);he("pow",Ne,"continuous");he("sqrt",function(){return Ne.apply(null,arguments).exponent(.5)},"continuous");he("symlog",Yd,"continuous");he("time",function(){return F.apply(fg(Jg,si,Tg,Ef,De,Ed,Sd,Xc,Ad,ii).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);he("utc",function(){return F.apply(fg(ch,Wh,Vg,hh,rg,cg,$f,wf,Ad,Zf).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},
["continuous","temporal"]);he("sequential",eg,["continuous","interpolating"]);he("sequential-linear",eg,["continuous","interpolating"]);he("sequential-log",Mf,["continuous","interpolating","log"]);he("sequential-pow",kh,["continuous","interpolating"]);he("sequential-sqrt",function(){return kh.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);he("sequential-symlog",gg,["continuous","interpolating"]);he("diverging-linear",Gg,["continuous","interpolating"]);he("diverging-log",xg,["continuous",
"interpolating","log"]);he("diverging-pow",bb,["continuous","interpolating"]);he("diverging-sqrt",function(){return bb.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);he("diverging-symlog",zh,["continuous","interpolating"]);he("quantile",rf,["discretizing","quantile"]);he("quantize",Vb,"discretizing");he("threshold",sc,"discretizing");he("bin-ordinal",td,["discrete","discretizing"]);he("ordinal",D,"discrete");he("band",Hb,"discrete");he("point",function(){return nc(Hb().paddingInner(1))},
"discrete");const vi=["clamp","base","constant","exponent"],yh={};gh({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",
tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",
set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ae);gh({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",
purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",
purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",
brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",
redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",
inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",
rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Va=>$g(ae(Va)));const Li=Va=>k.isArray(Va)?Va.map(wb=>String(wb)):String(Va),Xi=(Va,wb)=>Va[1]-wb[1],Ei=(Va,wb)=>wb[1]-Va[1],ri={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Ii={quantile:"quantiles",quantize:"domain"},Bi=Va=>(wb,bc,cc)=>{bc=cc[bc+1];cc=cc.max;cc=null!=cc?cc:Infinity;bc=null!=
bc?bc:cc;wb=Number.isFinite(wb)?Va(wb):null;bc=Number.isFinite(bc)?Va(bc):null;return wb&&bc?wb+"  "+bc:bc?"\x3c "+bc:" "+wb},Hg=Va=>(wb,bc)=>bc?Va(wb):null,Jj=Va=>wb=>Va(wb);v.Band="band";v.BinOrdinal="bin-ordinal";v.DiscreteLegend="discrete";v.Diverging="diverging";v.GradientLegend="gradient";v.Identity="identity";v.Linear="linear";v.Log="log";v.Ordinal="ordinal";v.Point="point";v.Pow="pow";v.Quantile="quantile";v.Quantize="quantize";v.Sequential="sequential";v.Sqrt="sqrt";v.SymbolLegend="symbol";
v.Symlog="symlog";v.Threshold="threshold";v.Time="time";v.UTC="utc";v.bandSpace=A;v.domainCaption=function(Va,wb,bc){bc=bc||{};var cc=Math.max(3,bc.maxlen||7),lc=bc.format;const Cc=(bc=bc.formatType)||wb.type;k.isString(lc)&&uh(Cc)&&(lc=lc.replace(/%a/g,"%A").replace(/%b/g,"%B"));Va=lc||"time"!==Cc?lc||"utc"!==Cc?gf(Va,wb,5,null,lc,bc,!0):Va.utcFormat("%A, %d %B %Y, %X UTC"):Va.timeFormat("%A, %d %B %Y, %X");if(Rf(wb.type))return cc=Te(wb).slice(1).map(Va),wb=cc.length,`${wb} boundar${1===wb?"y":
"ies"}: ${cc.join(", ")}`;if(Rg(wb.type))return lc=wb.domain(),wb=lc.length,cc=wb>cc?lc.slice(0,cc-2).map(Va).join(", ")+", ending with "+lc.slice(-1).map(Va):lc.map(Va).join(", "),`${wb} value${1===wb?"":"s"}: ${cc}`;cc=wb.domain();return`values from ${Va(cc[0])} to ${Va(k.peek(cc))}`};v.interpolate=fh;v.interpolateColors=$g;v.interpolateRange=function(Va,wb){const bc=wb[0],cc=k.peek(wb)-bc;return function(lc){return Va(bc+lc*cc)}};v.isContinuous=function(Va){return sf(Va,"continuous")};v.isDiscrete=
Rg;v.isDiscretizing=Rf;v.isInterpolating=function(Va){return sf(Va,"interpolating")};v.isLogarithmic=eh;v.isQuantile=function(Va){return sf(Va,"quantile")};v.isTemporal=uh;v.isValidScaleType=kf;v.labelFormat=gf;v.labelFraction=function(Va){var wb=Va.domain();const bc=wb.length-1;let cc=+wb[0];wb=+k.peek(wb);let lc=wb-cc;"threshold"===Va.type&&(Va=bc?lc/bc:.1,cc-=Va,wb+=Va,lc=wb-cc);return Cc=>(Cc-cc)/lc};v.labelValues=Te;v.quantizeInterpolator=function(Va,wb){const bc=Array(wb),cc=wb+1;for(let lc=
0;lc<wb;)bc[lc]=Va(++lc/cc);return bc};v.scale=he;v.scaleCopy=function(Va){const wb=Va.type;Va=Va.copy();Va.type=wb;return Va};v.scaleFraction=function(Va,wb,bc){var cc=bc-wb;let lc,Cc;return cc&&Number.isFinite(cc)?(cc=(lc=Va.type).indexOf("-"),lc=0>cc?lc:lc.slice(cc+1),Cc=he(lc)().domain([wb,bc]).range([0,1]),vi.forEach(id=>Va[id]?Cc[id](Va[id]()):0),Cc):k.constant(.5)};v.scaleImplicit=Xb;v.scheme=Vh;v.tickCount=function(Va,wb,bc){let cc;k.isNumber(wb)&&(Va.bins&&(wb=Math.max(wb,Va.bins.length)),
null!=bc&&(wb=Math.min(wb,Math.floor(k.span(Va.domain())/bc||1))));k.isObject(wb)&&(cc=wb.step,wb=wb.interval);k.isString(wb)&&(wb="time"===Va.type?p.timeInterval(wb):"utc"==Va.type?p.utcInterval(wb):k.error("Only time and utc scales accept interval strings."),cc&&(wb=wb.every(cc)));return wb};v.tickFormat=Mh;v.tickValues=tg;v.validTicks=lh;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[28]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14),z(26),z(22),z(27)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,p,A,u){function m(Ka,kb,Cb){const Pb=Ka.gradient;let uc=Ka.id,Fc="radial"===Pb?"p_":"";uc||(uc=Ka.id="gradient_"+Lb++,"radial"===Pb?(Ka.x1=l(Ka.x1,
.5),Ka.y1=l(Ka.y1,.5),Ka.r1=l(Ka.r1,0),Ka.x2=l(Ka.x2,.5),Ka.y2=l(Ka.y2,.5),Ka.r2=l(Ka.r2,.5),Fc="p_"):(Ka.x1=l(Ka.x1,0),Ka.y1=l(Ka.y1,0),Ka.x2=l(Ka.x2,1),Ka.y2=l(Ka.y2,0)));kb[uc]=Ka;return"url("+(Cb||"")+"#"+Fc+uc+")"}function l(Ka,kb){return null!=Ka?Ka:kb}function f(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function g(){return new f}function d(Ka){return function(){return Ka}}function b(Ka){return 1<=Ka?Id:-1>=Ka?-Id:Math.asin(Ka)}function c(Ka){return Ka.innerRadius}function a(Ka){return Ka.outerRadius}
function e(Ka){return Ka.startAngle}function t(Ka){return Ka.endAngle}function y(Ka){return Ka&&Ka.padAngle}function q(Ka,kb,Cb,Pb,uc,Fc,$c){var Aa=Ka-Cb,Sa=kb-Pb;$c=($c?Fc:-Fc)/ve(Aa*Aa+Sa*Sa);Sa*=$c;Aa*=-$c;var qb=Ka+Sa,rb=kb+Aa,kc=Cb+Sa,Rc=Pb+Aa;Cb=(qb+kc)/2;Pb=(rb+Rc)/2;kb=kc-qb;Ka=Rc-rb;$c=kb*kb+Ka*Ka;Fc=uc-Fc;Rc=qb*Rc-kc*rb;var gd=(0>Ka?-1:1)*ve(Fe(0,Fc*Fc*$c-Rc*Rc));qb=(Rc*Ka-kb*gd)/$c;rb=(-Rc*kb-Ka*gd)/$c;kc=(Rc*Ka+kb*gd)/$c;kb=(-Rc*kb+Ka*gd)/$c;Ka=qb-Cb;$c=rb-Pb;Cb=kc-Cb;Pb=kb-Pb;Ka*Ka+$c*
$c>Cb*Cb+Pb*Pb&&(qb=kc,rb=kb);return{cx:qb,cy:rb,x01:-Sa,y01:-Aa,x11:qb*(uc/Fc-1),y11:rb*(uc/Fc-1)}}function E(Ka){return"object"===typeof Ka&&"length"in Ka?Ka:Array.from(Ka)}function F(Ka){this._context=Ka}function w(Ka){return new F(Ka)}function D(Ka){return Ka[0]}function G(Ka){return Ka[1]}function L(Ka,kb){function Cb(Aa){var Sa,qb=(Aa=E(Aa)).length,rb,kc=!1,Rc;null==uc&&($c=Fc(Rc=g()));for(Sa=0;Sa<=qb;++Sa)!(Sa<qb&&Pb(rb=Aa[Sa],Sa,Aa))===kc&&((kc=!kc)?$c.lineStart():$c.lineEnd()),kc&&$c.point(+Ka(rb,
Sa,Aa),+kb(rb,Sa,Aa));if(Rc)return $c=null,Rc+""||null}var Pb=d(!0),uc=null,Fc=w,$c=null;Ka="function"===typeof Ka?Ka:void 0===Ka?D:d(Ka);kb="function"===typeof kb?kb:void 0===kb?G:d(kb);Cb.x=function(Aa){return arguments.length?(Ka="function"===typeof Aa?Aa:d(+Aa),Cb):Ka};Cb.y=function(Aa){return arguments.length?(kb="function"===typeof Aa?Aa:d(+Aa),Cb):kb};Cb.defined=function(Aa){return arguments.length?(Pb="function"===typeof Aa?Aa:d(!!Aa),Cb):Pb};Cb.curve=function(Aa){return arguments.length?
(Fc=Aa,null!=uc&&($c=Fc(uc)),Cb):Fc};Cb.context=function(Aa){return arguments.length?(null==Aa?uc=$c=null:$c=Fc(uc=Aa),Cb):uc};return Cb}function O(Ka,kb,Cb){function Pb(rb){var kc,Rc,gd=(rb=E(rb)).length,Ad,Xc=!1,Sd,Ed=Array(gd),De=Array(gd);null==Aa&&(qb=Sa(Sd=g()));for(kc=0;kc<=gd;++kc){if(!(kc<gd&&$c(Ad=rb[kc],kc,rb))===Xc)if(Xc=!Xc){var Af=kc;qb.areaStart();qb.lineStart()}else{qb.lineEnd();qb.lineStart();for(Rc=kc-1;Rc>=Af;--Rc)qb.point(Ed[Rc],De[Rc]);qb.lineEnd();qb.areaEnd()}Xc&&(Ed[kc]=+Ka(Ad,
kc,rb),De[kc]=+kb(Ad,kc,rb),qb.point(Fc?+Fc(Ad,kc,rb):Ed[kc],Cb?+Cb(Ad,kc,rb):De[kc]))}if(Sd)return qb=null,Sd+""||null}function uc(){return L().defined($c).curve(Sa).context(Aa)}var Fc=null,$c=d(!0),Aa=null,Sa=w,qb=null;Ka="function"===typeof Ka?Ka:void 0===Ka?D:d(+Ka);kb="function"===typeof kb?kb:void 0===kb?d(0):d(+kb);Cb="function"===typeof Cb?Cb:void 0===Cb?G:d(+Cb);Pb.x=function(rb){return arguments.length?(Ka="function"===typeof rb?rb:d(+rb),Fc=null,Pb):Ka};Pb.x0=function(rb){return arguments.length?
(Ka="function"===typeof rb?rb:d(+rb),Pb):Ka};Pb.x1=function(rb){return arguments.length?(Fc=null==rb?null:"function"===typeof rb?rb:d(+rb),Pb):Fc};Pb.y=function(rb){return arguments.length?(kb="function"===typeof rb?rb:d(+rb),Cb=null,Pb):kb};Pb.y0=function(rb){return arguments.length?(kb="function"===typeof rb?rb:d(+rb),Pb):kb};Pb.y1=function(rb){return arguments.length?(Cb=null==rb?null:"function"===typeof rb?rb:d(+rb),Pb):Cb};Pb.lineX0=Pb.lineY0=function(){return uc().x(Ka).y(kb)};Pb.lineY1=function(){return uc().x(Ka).y(Cb)};
Pb.lineX1=function(){return uc().x(Fc).y(kb)};Pb.defined=function(rb){return arguments.length?($c="function"===typeof rb?rb:d(!!rb),Pb):$c};Pb.curve=function(rb){return arguments.length?(Sa=rb,null!=Aa&&(qb=Sa(Aa)),Pb):Sa};Pb.context=function(rb){return arguments.length?(null==rb?Aa=qb=null:qb=Sa(Aa=rb),Pb):Aa};return Pb}function V(){}function S(Ka,kb,Cb){Ka._context.bezierCurveTo((2*Ka._x0+Ka._x1)/3,(2*Ka._y0+Ka._y1)/3,(Ka._x0+2*Ka._x1)/3,(Ka._y0+2*Ka._y1)/3,(Ka._x0+4*Ka._x1+kb)/6,(Ka._y0+4*Ka._y1+
Cb)/6)}function ca(Ka){this._context=Ka}function ea(Ka){this._context=Ka}function T(Ka){this._context=Ka}function R(Ka,kb){this._basis=new ca(Ka);this._beta=kb}function J(Ka,kb,Cb){Ka._context.bezierCurveTo(Ka._x1+Ka._k*(Ka._x2-Ka._x0),Ka._y1+Ka._k*(Ka._y2-Ka._y0),Ka._x2+Ka._k*(Ka._x1-kb),Ka._y2+Ka._k*(Ka._y1-Cb),Ka._x2,Ka._y2)}function r(Ka,kb){this._context=Ka;this._k=(1-kb)/6}function C(Ka,kb){this._context=Ka;this._k=(1-kb)/6}function N(Ka,kb){this._context=Ka;this._k=(1-kb)/6}function U(Ka,kb,
Cb){var Pb=Ka._x1,uc=Ka._y1,Fc=Ka._x2,$c=Ka._y2;if(1E-12<Ka._l01_a){var Aa=2*Ka._l01_2a+3*Ka._l01_a*Ka._l12_a+Ka._l12_2a,Sa=3*Ka._l01_a*(Ka._l01_a+Ka._l12_a);Pb=(Pb*Aa-Ka._x0*Ka._l12_2a+Ka._x2*Ka._l01_2a)/Sa;uc=(uc*Aa-Ka._y0*Ka._l12_2a+Ka._y2*Ka._l01_2a)/Sa}1E-12<Ka._l23_a&&(Aa=2*Ka._l23_2a+3*Ka._l23_a*Ka._l12_a+Ka._l12_2a,Sa=3*Ka._l23_a*(Ka._l23_a+Ka._l12_a),Fc=(Fc*Aa+Ka._x1*Ka._l23_2a-kb*Ka._l12_2a)/Sa,$c=($c*Aa+Ka._y1*Ka._l23_2a-Cb*Ka._l12_2a)/Sa);Ka._context.bezierCurveTo(Pb,uc,Fc,$c,Ka._x2,Ka._y2)}
function ja(Ka,kb){this._context=Ka;this._alpha=kb}function ba(Ka,kb){this._context=Ka;this._alpha=kb}function ia(Ka,kb){this._context=Ka;this._alpha=kb}function za(Ka){this._context=Ka}function Wa(Ka,kb,Cb){var Pb=Ka._x1-Ka._x0;kb-=Ka._x1;var uc=(Ka._y1-Ka._y0)/(Pb||0>kb&&-0);Ka=(Cb-Ka._y1)/(kb||0>Pb&&-0);return((0>uc?-1:1)+(0>Ka?-1:1))*Math.min(Math.abs(uc),Math.abs(Ka),.5*Math.abs((uc*kb+Ka*Pb)/(Pb+kb)))||0}function hb(Ka,kb){var Cb=Ka._x1-Ka._x0;return Cb?(3*(Ka._y1-Ka._y0)/Cb-kb)/2:kb}function Ja(Ka,
kb,Cb){var Pb=Ka._x0,uc=Ka._x1,Fc=Ka._y1,$c=(uc-Pb)/3;Ka._context.bezierCurveTo(Pb+$c,Ka._y0+$c*kb,uc-$c,Fc-$c*Cb,uc,Fc)}function qa(Ka){this._context=Ka}function Da(Ka){this._context=new va(Ka)}function va(Ka){this._context=Ka}function sa(Ka){this._context=Ka}function xa(Ka){var kb,Cb=Ka.length-1,Pb=Array(Cb),uc=Array(Cb),Fc=Array(Cb);Pb[0]=0;uc[0]=2;Fc[0]=Ka[0]+2*Ka[1];for(kb=1;kb<Cb-1;++kb)Pb[kb]=1,uc[kb]=4,Fc[kb]=4*Ka[kb]+2*Ka[kb+1];Pb[Cb-1]=2;uc[Cb-1]=7;Fc[Cb-1]=8*Ka[Cb-1]+Ka[Cb];for(kb=1;kb<
Cb;++kb){var $c=Pb[kb]/uc[kb-1];uc[kb]-=$c;Fc[kb]-=$c*Fc[kb-1]}Pb[Cb-1]=Fc[Cb-1]/uc[Cb-1];for(kb=Cb-2;0<=kb;--kb)Pb[kb]=(Fc[kb]-Pb[kb+1])/uc[kb];uc[Cb-1]=(Ka[Cb]+Pb[Cb-1])/2;for(kb=0;kb<Cb-1;++kb)uc[kb]=2*Ka[kb+1]-Pb[kb+1];return[Pb,uc]}function ma(Ka,kb){this._context=Ka;this._t=kb}function Ea(Ka,kb,Cb){Ka=k.hasOwnProperty(Xd,Ka)&&Xd[Ka];var Pb=null;Ka&&(Pb=Ka.curve||Ka[kb||"vertical"],Ka.tension&&null!=Cb&&(Pb=Pb[Ka.tension](Cb)));return Pb}function Ua(Ka){const kb=[];(Ka.match(og)||[]).forEach(Cb=>
{let Pb=Cb[0];var uc=Pb.toLowerCase();const Fc=Ge[uc];var $c=Cb.slice(1).trim();Cb=[];for(let Sa=0;Fc&&Sa<$c.length;)for(let qb=0;qb<Fc;++qb){var Aa="a"!==uc||3!==qb&&4!==qb?wg:Bg;Aa=$c.slice(Sa).match(Aa);if(null===Aa)throw Error("Invalid SVG path, incorrect parameter type");Sa+=Aa[0].length;Cb.push(+Aa[0]);Aa=$c.slice(Sa).match(Zg);null!==Aa&&(Sa+=Aa[0].length)}$c=Cb.length;if($c<Fc||$c&&0!==$c%Fc)throw Error("Invalid SVG path, incorrect parameter count");kb.push([Pb,...Cb.slice(0,Fc)]);if($c!==
Fc)for("m"===uc&&(Pb="M"===Pb?"L":"l"),uc=Fc;uc<$c;uc+=Fc)kb.push([Pb,...Cb.slice(uc,uc+Fc)])});return kb}function ab(Ka,kb,Cb,Pb,uc,Fc,$c,Aa,Sa){const qb=Mf.call(arguments);if(Pf[qb])return Pf[qb];var rb=$c*Qg;const kc=Math.sin(rb);rb=Math.cos(rb);Cb=Math.abs(Cb);Pb=Math.abs(Pb);var Rc=rb*(Aa-Ka)*.5+kc*(Sa-kb)*.5,gd=rb*(Sa-kb)*.5-kc*(Aa-Ka)*.5;Rc=Rc*Rc/(Cb*Cb)+gd*gd/(Pb*Pb);1<Rc&&(Rc=Math.sqrt(Rc),Cb*=Rc,Pb*=Rc);var Ad=rb/Cb,Xc=kc/Cb,Sd=-kc/Pb,Ed=rb/Pb;Rc=Ad*Aa+Xc*Sa;gd=Sd*Aa+Ed*Sa;Ad=Ad*Ka+Xc*kb;
Xc=Sd*Ka+Ed*kb;Sd=1/((Ad-Rc)*(Ad-Rc)+(Xc-gd)*(Xc-gd))-.25;0>Sd&&(Sd=0);Ed=Math.sqrt(Sd);Fc==uc&&(Ed=-Ed);Sd=.5*(Rc+Ad)-Ed*(Xc-gd);Ed=.5*(gd+Xc)+Ed*(Ad-Rc);Rc=Math.atan2(gd-Ed,Rc-Sd);gd=Math.atan2(Xc-Ed,Ad-Sd)-Rc;0>gd&&1===Fc?gd+=fg:0<gd&&0===Fc&&(gd-=fg);Ad=Math.ceil(Math.abs(gd/(sg+.001)));Xc=[];for(let De=0;De<Ad;++De)Xc[De]=[Sd,Ed,Rc+De*gd/Ad,Rc+(De+1)*gd/Ad,Cb,Pb,kc,rb];return Pf[qb]=Xc}function ta(Ka,kb,Cb,Pb,uc,Fc){var $c=null,Aa=0,Sa=0,qb=0,rb=0,kc=0,Rc=0;null==Cb&&(Cb=0);null==Pb&&(Pb=0);
null==uc&&(uc=1);null==Fc&&(Fc=uc);Ka.beginPath&&Ka.beginPath();for(var gd=0,Ad=kb.length;gd<Ad;++gd){var Xc=kb[gd];if(1!==uc||1!==Fc){var Sd=uc;var Ed=Fc;var De=gg[0]=Xc[0];if("a"===De||"A"===De)gg[1]=Sd*Xc[1],gg[2]=Ed*Xc[2],gg[3]=Xc[3],gg[4]=Xc[4],gg[5]=Xc[5],gg[6]=Sd*Xc[6],gg[7]=Ed*Xc[7];else if("h"===De||"H"===De)gg[1]=Sd*Xc[1];else if("v"===De||"V"===De)gg[1]=Ed*Xc[1];else{De=1;for(var Af=Xc.length;De<Af;++De)gg[De]=(1==De%2?Sd:Ed)*Xc[De]}Xc=gg}switch(Xc[0]){case "l":Aa+=Xc[1];Sa+=Xc[2];Ka.lineTo(Aa+
Cb,Sa+Pb);break;case "L":Aa=Xc[1];Sa=Xc[2];Ka.lineTo(Aa+Cb,Sa+Pb);break;case "h":Aa+=Xc[1];Ka.lineTo(Aa+Cb,Sa+Pb);break;case "H":Aa=Xc[1];Ka.lineTo(Aa+Cb,Sa+Pb);break;case "v":Sa+=Xc[1];Ka.lineTo(Aa+Cb,Sa+Pb);break;case "V":Sa=Xc[1];Ka.lineTo(Aa+Cb,Sa+Pb);break;case "m":Aa+=Xc[1];Sa+=Xc[2];kc=Aa;Rc=Sa;Ka.moveTo(Aa+Cb,Sa+Pb);break;case "M":Aa=Xc[1];Sa=Xc[2];kc=Aa;Rc=Sa;Ka.moveTo(Aa+Cb,Sa+Pb);break;case "c":Sd=Aa+Xc[5];Ed=Sa+Xc[6];qb=Aa+Xc[3];rb=Sa+Xc[4];Ka.bezierCurveTo(Aa+Xc[1]+Cb,Sa+Xc[2]+Pb,qb+
Cb,rb+Pb,Sd+Cb,Ed+Pb);Aa=Sd;Sa=Ed;break;case "C":Aa=Xc[5];Sa=Xc[6];qb=Xc[3];rb=Xc[4];Ka.bezierCurveTo(Xc[1]+Cb,Xc[2]+Pb,qb+Cb,rb+Pb,Aa+Cb,Sa+Pb);break;case "s":Sd=Aa+Xc[3];Ed=Sa+Xc[4];qb=2*Aa-qb;rb=2*Sa-rb;Ka.bezierCurveTo(qb+Cb,rb+Pb,Aa+Xc[1]+Cb,Sa+Xc[2]+Pb,Sd+Cb,Ed+Pb);qb=Aa+Xc[1];rb=Sa+Xc[2];Aa=Sd;Sa=Ed;break;case "S":Sd=Xc[3];Ed=Xc[4];qb=2*Aa-qb;rb=2*Sa-rb;Ka.bezierCurveTo(qb+Cb,rb+Pb,Xc[1]+Cb,Xc[2]+Pb,Sd+Cb,Ed+Pb);Aa=Sd;Sa=Ed;qb=Xc[1];rb=Xc[2];break;case "q":Sd=Aa+Xc[3];Ed=Sa+Xc[4];qb=Aa+Xc[1];
rb=Sa+Xc[2];Ka.quadraticCurveTo(qb+Cb,rb+Pb,Sd+Cb,Ed+Pb);Aa=Sd;Sa=Ed;break;case "Q":Sd=Xc[3];Ed=Xc[4];Ka.quadraticCurveTo(Xc[1]+Cb,Xc[2]+Pb,Sd+Cb,Ed+Pb);Aa=Sd;Sa=Ed;qb=Xc[1];rb=Xc[2];break;case "t":Sd=Aa+Xc[1];Ed=Sa+Xc[2];null===$c[0].match(/[QqTt]/)?(qb=Aa,rb=Sa):"t"===$c[0]?(qb=2*Aa-We,rb=2*Sa-Ef):"q"===$c[0]&&(qb=2*Aa-qb,rb=2*Sa-rb);var We=qb;var Ef=rb;Ka.quadraticCurveTo(qb+Cb,rb+Pb,Sd+Cb,Ed+Pb);Aa=Sd;Sa=Ed;qb=Aa+Xc[1];rb=Sa+Xc[2];break;case "T":Sd=Xc[1];Ed=Xc[2];qb=2*Aa-qb;rb=2*Sa-rb;Ka.quadraticCurveTo(qb+
Cb,rb+Pb,Sd+Cb,Ed+Pb);Aa=Sd;Sa=Ed;break;case "a":Na(Ka,Aa+Cb,Sa+Pb,[Xc[1],Xc[2],Xc[3],Xc[4],Xc[5],Xc[6]+Aa+Cb,Xc[7]+Sa+Pb]);Aa+=Xc[6];Sa+=Xc[7];break;case "A":Na(Ka,Aa+Cb,Sa+Pb,[Xc[1],Xc[2],Xc[3],Xc[4],Xc[5],Xc[6]+Cb,Xc[7]+Pb]);Aa=Xc[6];Sa=Xc[7];break;case "z":case "Z":Aa=kc,Sa=Rc,Ka.closePath()}$c=Xc}}function Na(Ka,kb,Cb,Pb){kb=ab(Pb[5],Pb[6],Pb[0],Pb[1],Pb[3],Pb[4],Pb[2],kb,Cb);for(Cb=0;Cb<kb.length;++Cb){a:{var uc=kb[Cb];Pb=Mf.call(uc);if(eg[Pb]){Pb=eg[Pb];break a}var Fc=uc[0],$c=uc[1],Aa=uc[2],
Sa=uc[3],qb=uc[4],rb=uc[5],kc=uc[6],Rc=uc[7];uc=Rc*qb;const Ad=-kc*rb;qb*=kc;rb*=Rc;var gd=Math.cos(Aa);const Xc=Math.sin(Aa);kc=Math.cos(Sa);Rc=Math.sin(Sa);Aa=.5*(Sa-Aa);Sa=Math.sin(.5*Aa);Sa=8/3*Sa*Sa/Math.sin(Aa);Aa=Fc+gd-Sa*Xc;gd=$c+Xc+Sa*gd;Fc+=kc;$c+=Rc;Rc=Fc+Sa*Rc;kc=$c-Sa*kc;Pb=eg[Pb]=[uc*Aa+Ad*gd,qb*Aa+rb*gd,uc*Rc+Ad*kc,qb*Rc+rb*kc,uc*Fc+Ad*$c,qb*Fc+rb*$c]}Ka.bezierCurveTo(Pb[0],Pb[1],Pb[2],Pb[3],Pb[4],Pb[5])}}function oa(Ka){return k.hasOwnProperty(kh,Ka)?kh[Ka]:aa(Ka)}function aa(Ka){if(!k.hasOwnProperty(th,
Ka)){const kb=Ua(Ka);th[Ka]={draw:function(Cb,Pb){ta(Cb,kb,0,0,Math.sqrt(Pb)/2)}}}return th[Ka]}function ka(Ka){return Ka.x}function Ia(Ka){return Ka.y}function Xa(Ka){return Ka.width}function Ya(Ka){return Ka.height}function mb(Ka){return"function"===typeof Ka?Ka:()=>+Ka}function ib(Ka,kb,Cb){return Math.max(kb,Math.min(Ka,Cb))}function Eb(){function Ka(rb,kc,Rc){var gd;kc=null!=kc?kc:+kb.call(this,rb);Rc=null!=Rc?Rc:+Cb.call(this,rb);var Ad=+Pb.call(this,rb),Xc=+uc.call(this,rb),Sd=Math.min(Ad,
Xc)/2,Ed=ib(+Fc.call(this,rb),0,Sd),De=ib(+$c.call(this,rb),0,Sd),Af=ib(+Aa.call(this,rb),0,Sd);rb=ib(+Sa.call(this,rb),0,Sd);qb||(qb=gd=g());0>=Ed&&0>=De&&0>=Af&&0>=rb?qb.rect(kc,Rc,Ad,Xc):(Ad=kc+Ad,Xc=Rc+Xc,qb.moveTo(kc+Ed,Rc),qb.lineTo(Ad-De,Rc),qb.bezierCurveTo(Ad-.448084975506*De,Rc,Ad,Rc+.448084975506*De,Ad,Rc+De),qb.lineTo(Ad,Xc-rb),qb.bezierCurveTo(Ad,Xc-.448084975506*rb,Ad-.448084975506*rb,Xc,Ad-rb,Xc),qb.lineTo(kc+Af,Xc),qb.bezierCurveTo(kc+.448084975506*Af,Xc,kc,Xc-.448084975506*Af,kc,
Xc-Af),qb.lineTo(kc,Rc+Ed),qb.bezierCurveTo(kc,Rc+.448084975506*Ed,kc+.448084975506*Ed,Rc,kc+Ed,Rc),qb.closePath());if(gd)return qb=null,gd+""||null}var kb=ka,Cb=Ia,Pb=Xa,uc=Ya,Fc=mb(0),$c=Fc,Aa=Fc,Sa=Fc,qb=null;Ka.x=function(rb){return arguments.length?(kb=mb(rb),Ka):kb};Ka.y=function(rb){return arguments.length?(Cb=mb(rb),Ka):Cb};Ka.width=function(rb){return arguments.length?(Pb=mb(rb),Ka):Pb};Ka.height=function(rb){return arguments.length?(uc=mb(rb),Ka):uc};Ka.cornerRadius=function(rb,kc,Rc,gd){return arguments.length?
(Fc=mb(rb),$c=null!=kc?mb(kc):Fc,Sa=null!=Rc?mb(Rc):Fc,Aa=null!=gd?mb(gd):$c,Ka):Fc};Ka.context=function(rb){return arguments.length?(qb=null==rb?null:rb,Ka):qb};return Ka}function Zb(){function Ka(rb){var kc,Rc=rb.length,gd,Ad=!1,Xc;null==Fc&&(Fc=Xc=g());for(kc=0;kc<=Rc;++kc)if(!(kc<Rc&&uc(gd=rb[kc],kc,rb))===Ad&&(Ad=!Ad)&&($c=0),Ad){var Sd=+kb(gd,kc,rb),Ed=+Cb(gd,kc,rb);const Tg=+Pb(gd,kc,rb)/2;if($c){var De=Sa-Ed,Af=Sd-Aa;if(De||Af){var We=Math.sqrt(De*De+Af*Af),Ef=(De/=We)*qb;We=(Af/=We)*qb;var ug=
Math.atan2(Af,De);Fc.moveTo(Aa-Ef,Sa-We);Fc.lineTo(Sd-De*Tg,Ed-Af*Tg);Fc.arc(Sd,Ed,Tg,ug-Math.PI,ug);Fc.lineTo(Aa+Ef,Sa+We);Fc.arc(Aa,Sa,qb,ug,ug+Math.PI)}else Fc.arc(Sd,Ed,Tg,0,fg);Fc.closePath()}else $c=1;Aa=Sd;Sa=Ed;qb=Tg}if(Xc)return Fc=null,Xc+""||null}var kb,Cb,Pb,uc,Fc=null,$c,Aa,Sa,qb;Ka.x=function(rb){return arguments.length?(kb=rb,Ka):kb};Ka.y=function(rb){return arguments.length?(Cb=rb,Ka):Cb};Ka.size=function(rb){return arguments.length?(Pb=rb,Ka):Pb};Ka.defined=function(rb){return arguments.length?
(uc=rb,Ka):uc};Ka.context=function(rb){return arguments.length?(Fc=null==rb?null:rb,Ka):Fc};return Ka}function Gc(Ka,kb){return null!=Ka?Ka:kb}function xc(Ka){return Ka.cornerRadius||Ka.cornerRadiusTopLeft||Ka.cornerRadiusTopRight||Ka.cornerRadiusBottomRight||Ka.cornerRadiusBottomLeft}function Ic(Ka,kb,Cb,Pb){return zd.context(Ka)(kb,Cb,Pb)}function rc(Ka,kb,Cb){var Pb=kb.clip;Ka=Ka._defs;kb=kb.clip_id||(kb.clip_id="clip"+sf++);Ka=Ka.clipping[kb]||(Ka.clipping[kb]={id:kb});k.isFunction(Pb)?Ka.path=
Pb(null):xc(Cb)?Ka.path=Ic(null,Cb,0,0):(Ka.width=Cb.width||0,Ka.height=Cb.height||0);return"url(#"+kb+")"}function jd(Ka){this.clear();Ka&&this.union(Ka)}function Bb(Ka){this.mark=Ka;this.bounds=this.bounds||new jd}function tb(Ka){Bb.call(this,Ka);this.items=this.items||[]}function dc(Ka){this._pending=0;this._loader=Ka||A.loader()}function Yb(Ka,kb,Cb){if(kb.stroke&&0!==kb.opacity&&0!==kb.strokeOpacity){const Pb=null!=kb.strokeWidth?+kb.strokeWidth:1;Ka.expand(Pb+(Cb?kb.strokeJoin&&"miter"!==kb.strokeJoin?
0:Pb:0))}return Ka}function hc(Ka,kb){Rf=Ka;kb?($g=kb*Qg,fh=gh=Math.cos($g),mf=Math.sin($g),ae=-mf):(fh=gh=1,$g=mf=ae=0);return Te}function vc(Ka,kb,Cb,Pb){Cb=(Ka-kb)/(Ka+Cb-2*kb);0<Cb&&1>Cb&&Pb(Ka+(kb-Ka)*Cb)}function qc(Ka,kb,Cb,Pb,uc){const Fc=Pb-Ka+3*kb-3*Cb,$c=Ka+Cb-2*kb;var Aa=Ka-kb;let Sa=0,qb=0;1E-14<Math.abs(Fc)?(Aa=$c*$c+Aa*Fc,0<=Aa&&(Aa=Math.sqrt(Aa),Sa=(-$c+Aa)/Fc,qb=(-$c-Aa)/Fc)):Sa=.5*Aa/$c;0<Sa&&1>Sa&&uc(Dc(Sa,Ka,kb,Cb,Pb));0<qb&&1>qb&&uc(Dc(qb,Ka,kb,Cb,Pb))}function Dc(Ka,kb,Cb,Pb,
uc){const Fc=1-Ka,$c=Fc*Fc,Aa=Ka*Ka;return $c*Fc*kb+3*$c*Ka*Cb+3*Fc*Aa*Pb+Aa*Ka*uc}function Yc(Ka){return function(kb,Cb){if(!gf)return!0;Ka(gf,kb);K.clear().union(kb.bounds).intersect(Cb).round();const {x1:Pb,y1:uc,x2:Fc,y2:$c}=K;for(kb=uc;kb<=$c;++kb)for(Cb=Pb;Cb<=Fc;++Cb)if(gf.isPointInPath(Cb,kb))return!0;return!1}}function Hd(Ka,kb){return kb.contains(Ka.x||0,Ka.y||0)}function Fa(Ka,kb){const Cb=Ka.x||0,Pb=Ka.y||0;return kb.intersects(K.set(Cb,Pb,Cb+(Ka.width||0),Pb+(Ka.height||0)))}function Ca(Ka,
kb){const Cb=Ka.x||0,Pb=Ka.y||0;return Ha(kb,Cb,Pb,null!=Ka.x2?Ka.x2:Cb,null!=Ka.y2?Ka.y2:Pb)}function Ha(Ka,kb,Cb,Pb,uc){const {x1:Fc,y1:$c,x2:Aa,y2:Sa}=Ka;Ka=Pb-kb;uc-=Cb;Pb=0;let qb=1,rb,kc,Rc,gd;for(gd=0;4>gd;++gd){0===gd&&(rb=-Ka,kc=-(Fc-kb));1===gd&&(rb=Ka,kc=Aa-kb);2===gd&&(rb=-uc,kc=-($c-Cb));3===gd&&(rb=uc,kc=Sa-Cb);if(1E-10>Math.abs(rb)&&0>kc)return!1;Rc=kc/rb;if(0>rb){if(Rc>qb)return!1;Rc>Pb&&(Pb=Rc)}else if(0<rb){if(Rc<Pb)return!1;Rc<qb&&(qb=Rc)}}return!0}function db(Ka,kb){Ka.globalCompositeOperation=
kb.blend||"source-over"}function ob(Ka,kb){return null==Ka?kb:Ka}function Ab(Ka,kb){const Cb=kb.length;for(let Pb=0;Pb<Cb;++Pb)Ka.addColorStop(kb[Pb].offset,kb[Pb].color);return Ka}function Ob(Ka,kb,Cb){const Pb=Cb.width(),uc=Cb.height();if("radial"===kb.gradient)Ka=Ka.createRadialGradient(Cb.x1+ob(kb.x1,.5)*Pb,Cb.y1+ob(kb.y1,.5)*uc,Math.max(Pb,uc)*ob(kb.r1,0),Cb.x1+ob(kb.x2,.5)*Pb,Cb.y1+ob(kb.y2,.5)*uc,Math.max(Pb,uc)*ob(kb.r2,.5));else{const Fc=ob(kb.x1,0),$c=ob(kb.y1,0),Aa=ob(kb.x2,1),Sa=ob(kb.y2,
0);if(Fc===Aa||$c===Sa||Pb===uc)Ka=Ka.createLinearGradient(Cb.x1+Fc*Pb,Cb.y1+$c*uc,Cb.x1+Aa*Pb,Cb.y1+Sa*uc);else{Cb=p.canvas(Math.ceil(Pb),Math.ceil(uc));const qb=Cb.getContext("2d");qb.scale(Pb,uc);qb.fillStyle=Ab(qb.createLinearGradient(Fc,$c,Aa,Sa),kb.stops);qb.fillRect(0,0,Pb,uc);return Ka.createPattern(Cb,"no-repeat")}}return Ab(Ka,kb.stops)}function Ub(Ka,kb,Cb){Cb*=null==kb.fillOpacity?1:kb.fillOpacity;return 0<Cb?(Ka.globalAlpha=Cb,kb=(Cb=kb.fill)&&Cb.gradient?Ob(Ka,Cb,kb.bounds):Cb,Ka.fillStyle=
kb,!0):!1}function $b(Ka,kb,Cb){var Pb=null!=(Pb=kb.strokeWidth)?Pb:1;if(0>=Pb)return!1;Cb*=null==kb.strokeOpacity?1:kb.strokeOpacity;return 0<Cb?(Ka.globalAlpha=Cb,Cb=(Cb=kb.stroke)&&Cb.gradient?Ob(Ka,Cb,kb.bounds):Cb,Ka.strokeStyle=Cb,Ka.lineWidth=Pb,Ka.lineCap=kb.strokeCap||"butt",Ka.lineJoin=kb.strokeJoin||"miter",Ka.miterLimit=kb.strokeMiterLimit||10,Ka.setLineDash&&(Ka.setLineDash(kb.strokeDash||Z),Ka.lineDashOffset=kb.strokeDashOffset||0),!0):!1}function Jc(Ka,kb){return Ka.zindex-kb.zindex||
Ka.index-kb.index}function Wc(Ka){if(!Ka.zdirty)return Ka.zitems;var kb=Ka.items,Cb=[],Pb;var uc=0;for(Pb=kb.length;uc<Pb;++uc){var Fc=kb[uc];Fc.index=uc;Fc.zindex&&Cb.push(Fc)}Ka.zdirty=!1;return Ka.zitems=Cb.sort(Jc)}function dd(Ka,kb){var Cb=Ka.items,Pb;if(Cb&&Cb.length){var uc=Wc(Ka);if(uc&&uc.length){Ka=0;for(Pb=Cb.length;Ka<Pb;++Ka)Cb[Ka].zindex||kb(Cb[Ka]);Cb=uc}Ka=0;for(Pb=Cb.length;Ka<Pb;++Ka)kb(Cb[Ka])}}function ld(Ka,kb){var Cb=Ka.items,Pb,uc;if(!Cb||!Cb.length)return null;const Fc=Wc(Ka);
Fc&&Fc.length&&(Cb=Fc);for(uc=Cb.length;0<=--uc;)if(Pb=kb(Cb[uc]))return Pb;if(Cb===Fc)for(Cb=Ka.items,uc=Cb.length;0<=--uc;)if(!Cb[uc].zindex&&(Pb=kb(Cb[uc])))return Pb;return null}function rd(Ka){return function(kb,Cb,Pb){dd(Cb,uc=>{Pb&&!Pb.intersects(uc.bounds)||Nd(Ka,kb,uc,uc)})}}function Kd(Ka){return function(kb,Cb,Pb){!Cb.items.length||Pb&&!Pb.intersects(Cb.bounds)||Nd(Ka,kb,Cb.items[0],Cb.items)}}function Nd(Ka,kb,Cb,Pb){var uc=null==Cb.opacity?1:Cb.opacity;0===uc||Ka(kb,Pb)||(db(kb,Cb),Cb.fill&&
Ub(kb,Cb,uc)&&kb.fill(),Cb.stroke&&$b(kb,Cb,uc)&&kb.stroke())}function fe(Ka){Ka=Ka||k.truthy;return function(kb,Cb,Pb,uc,Fc,$c){Pb*=kb.pixelRatio;uc*=kb.pixelRatio;return ld(Cb,Aa=>{const Sa=Aa.bounds;if((!Sa||Sa.contains(Fc,$c))&&Sa&&Ka(kb,Aa,Pb,uc,Fc,$c))return Aa})}}function be(Ka,kb){return function(Cb,Pb,uc,Fc){var $c=Array.isArray(Pb)?Pb[0]:Pb,Aa=null==kb?$c.fill:kb,Sa=$c.stroke&&Cb.isPointInStroke;if(Sa){var qb=$c.strokeWidth;$c=$c.strokeCap;Cb.lineWidth=null!=qb?qb:1;Cb.lineCap=null!=$c?
$c:"butt"}return Ka(Cb,Pb)?!1:Aa&&Cb.isPointInPath(uc,Fc)||Sa&&Cb.isPointInStroke(uc,Fc)}}function ce(Ka,kb){return"translate("+Ka+","+kb+")"}function Td(Ka,kb,Cb){function Pb(uc,Fc){var $c=Fc.x||0,Aa=Fc.y||0,Sa=Fc.angle||0;uc.translate($c,Aa);Sa&&uc.rotate(Sa*=Qg);uc.beginPath();kb(uc,Fc);Sa&&uc.rotate(-Sa);uc.translate(-$c,-Aa)}return{type:Ka,tag:"path",nested:!1,attr:function(uc,Fc){var $c=ce(Fc.x||0,Fc.y||0)+(Fc.angle?" rotate("+(Fc.angle+")"):"");uc("transform",$c);uc("d",kb(null,Fc))},bound:function(uc,
Fc){kb(hc(uc,Fc.angle),Fc);return Yb(uc,Fc).translate(Fc.x||0,Fc.y||0)},draw:rd(Pb),pick:fe(be(Pb)),isect:Cb||Yc(Pb)}}function af(Ka,kb,Cb){function Pb(Fc,$c){Fc.beginPath();kb(Fc,$c)}const uc=be(Pb);return{type:Ka,tag:"path",nested:!0,attr:function(Fc,$c){$c=$c.mark.items;$c.length&&Fc("d",kb(null,$c))},bound:function(Fc,$c){$c=$c.items;if(0===$c.length)return Fc;kb(hc(Fc),$c);return Yb(Fc,$c[0])},draw:Kd(Pb),pick:function(Fc,$c,Aa,Sa,qb,rb){var kc=$c.items;$c=$c.bounds;if(!kc||!kc.length||$c&&!$c.contains(qb,
rb))return null;Aa*=Fc.pixelRatio;Sa*=Fc.pixelRatio;return uc(Fc,kc,Aa,Sa)?kc[0]:null},isect:Hd,tip:Cb}}function Se(Ka,kb){Ka.beginPath();xc(kb)?Ic(Ka,kb,0,0):Ka.rect(0,0,kb.width||0,kb.height||0);Ka.clip()}function ue(Ka){const kb=ob(Ka.strokeWidth,1);return null!=Ka.strokeOffset?Ka.strokeOffset:Ka.stroke&&.5<kb&&1.5>kb?.5-Math.abs(kb-1):0}function me(Ka,kb,Cb,Pb){const uc=ue(kb);Ka.beginPath();Ic(Ka,kb,(Cb||0)+uc,(Pb||0)+uc)}function Ga(Ka,kb){var Cb=Ka.image;if(!Cb||Ka.url&&Ka.url!==Cb.url)Cb=
{complete:!1,width:0,height:0},kb.loadImage(Ka.url).then(Pb=>{Ka.image=Pb;Ka.image.url=Ka.url});return Cb}function $a(Ka,kb){return null!=Ka.width?Ka.width:kb&&kb.width?!1!==Ka.aspect&&Ka.height?Ka.height*kb.width/kb.height:kb.width:0}function ub(Ka,kb){return null!=Ka.height?Ka.height:kb&&kb.height?!1!==Ka.aspect&&Ka.width?Ka.width*kb.height/kb.width:kb.height:0}function Mb(Ka,kb){return"center"===Ka?kb/2:"right"===Ka?kb:0}function fc(Ka,kb){return"middle"===Ka?kb/2:"bottom"===Ka?kb:0}function oc(Ka,
kb){var Cb=kb.path;if(null==Cb)return!0;var Pb=kb.x||0,uc=kb.y||0,Fc=kb.scaleX||1,$c=kb.scaleY||1,Aa=(kb.angle||0)*Qg,Sa=kb.pathCache;Sa&&Sa.path===Cb||((kb.pathCache=Sa=Ua(Cb)).path=Cb);Aa&&Ka.rotate&&Ka.translate?(Ka.translate(Pb,uc),Ka.rotate(Aa),ta(Ka,Sa,0,0,Fc,$c),Ka.rotate(-Aa),Ka.translate(-Pb,-uc)):ta(Ka,Sa,Pb,uc,Fc,$c)}function Mc(Ka,kb){Ka.beginPath();Ic(Ka,kb)}function Kc(Ka,kb,Cb){if(kb.stroke&&$b(Ka,kb,Cb)){Cb=kb.x||0;var Pb=kb.y||0;var uc=null!=kb.x2?kb.x2:Cb;kb=null!=kb.y2?kb.y2:Pb;
Ka.beginPath();Ka.moveTo(Cb,Pb);Ka.lineTo(uc,kb);return!0}return!1}function gc(Ka){Je.width=Ka&&gf?nd:fd}function fd(Ka,kb){kb=Ee(Ka,kb);Ka=Od(Ka);return~~(.8*kb.length*Ka)}function nd(Ka,kb){return 0>=Od(Ka)||!(kb=Ee(Ka,kb))?0:Fd(kb,xe(Ka))}function Fd(Ka,kb){const Cb=`(${kb}) ${Ka}`;let Pb=ge.get(Cb);void 0===Pb&&(gf.font=kb,Pb=gf.measureText(Ka).width,ge.set(Cb,Pb));return Pb}function Od(Ka){return null!=Ka.fontSize?+Ka.fontSize||0:11}function Ud(Ka){return null!=Ka.lineHeight?Ka.lineHeight:Od(Ka)+
2}function Yd(Ka){Ka=Ka.lineBreak&&Ka.text&&!k.isArray(Ka.text)?Ka.text.split(Ka.lineBreak):Ka.text;return k.isArray(Ka)?1<Ka.length?Ka:Ka[0]:Ka}function Ee(Ka,kb){kb=null==kb?"":(kb+"").trim();if(0<Ka.limit&&kb.length){var Cb=+Ka.limit,Pb=ze(Ka);if(!(Pb(kb)<Cb)){var uc=Ka.ellipsis||"",Fc="rtl"===Ka.dir;Ka=0;var $c=kb.length;Cb-=Pb(uc);if(Fc){for(;Ka<$c;)Fc=Ka+$c>>>1,Pb(kb.slice(Fc))>Cb?Ka=Fc+1:$c=Fc;kb=uc+kb.slice(Ka)}else{for(;Ka<$c;)Fc=1+(Ka+$c>>>1),Pb(kb.slice(0,Fc))<Cb?Ka=Fc:$c=Fc-1;kb=kb.slice(0,
Ka)+uc}}}return kb}function ze(Ka){if(Je.width===nd){const Cb=xe(Ka);return Pb=>Fd(Pb,Cb)}const kb=Od(Ka);return Cb=>~~(.8*Cb.length*kb)}function Bf(Ka,kb){Ka=Ka.font;return(kb&&Ka?String(Ka).replace(/"/g,"'"):Ka)||"sans-serif"}function xe(Ka,kb){return(Ka.fontStyle?Ka.fontStyle+" ":"")+(Ka.fontVariant?Ka.fontVariant+" ":"")+(Ka.fontWeight?Ka.fontWeight+" ":"")+Od(Ka)+"px "+Bf(Ka,kb)}function Ne(Ka){var kb=Ka.baseline,Cb=Od(Ka);return Math.round("top"===kb?.79*Cb:"middle"===kb?.3*Cb:"bottom"===kb?
-.21*Cb:"line-top"===kb?.29*Cb+.5*Ud(Ka):"line-bottom"===kb?.29*Cb-.5*Ud(Ka):0)}function rf(Ka){var kb=Ka.x||0,Cb=Ka.y||0,Pb=Ka.radius||0;Pb&&(Ka=(Ka.theta||0)-sg,kb+=Pb*Math.cos(Ka),Cb+=Pb*Math.sin(Ka));Hf.x1=kb;Hf.y1=Cb;return Hf}function Vb(Ka,kb,Cb){var Pb=Je.height(kb),uc=kb.align,Fc=rf(kb),$c=Fc.x1;Fc=Fc.y1;var Aa=kb.dx||0,Sa=(kb.dy||0)+Ne(kb)-Math.round(.8*Pb),qb=Yd(kb);k.isArray(qb)?(Pb+=Ud(kb)*(qb.length-1),qb=qb.reduce((rb,kc)=>Math.max(rb,Je.width(kb,kc)),0)):qb=Je.width(kb,qb);"center"===
uc?Aa-=qb/2:"right"===uc&&(Aa-=qb);Ka.set(Aa+=$c,Sa+=Fc,Aa+qb,Sa+Pb);if(kb.angle&&!Cb)Ka.rotate(kb.angle*Qg,$c,Fc);else if(2===Cb)return Ka.rotatedPoints(kb.angle*Qg,$c,Fc);return Ka}function sc(Ka,kb,Cb){var Pb=nf[Ka.mark.marktype];kb=kb||Pb.bound;Pb.nested&&(Ka=Ka.mark);return kb(Ka.bounds||(Ka.bounds=new jd),Ka,Cb)}function cd(Ka,kb,Cb){var Pb=nf[Ka.marktype],uc=Pb.bound,Fc=Ka.items,$c=Fc&&Fc.length;if(Pb.nested)return $c?Ka=Fc[0]:(Yf.mark=Ka,Ka=Yf),Cb=sc(Ka,uc,Cb),kb=kb&&kb.union(Cb)||Cb;kb=kb||
Ka.bounds&&Ka.bounds.clear()||new jd;if($c)for(Pb=0,$c=Fc.length;Pb<$c;++Pb)kb.union(sc(Fc[Pb],uc,Cb));return Ka.bounds=kb}function wd(Ka,kb){return JSON.stringify(Ka,ff,kb)}function Bd(Ka){Ka="string"===typeof Ka?JSON.parse(Ka):Ka;return pe(Ka)}function pe(Ka){var kb=Ka.marktype,Cb=Ka.items,Pb;if(Cb){var uc=0;for(Pb=Cb.length;uc<Pb;++uc){var Fc=kb?"mark":"group";Cb[uc][Fc]=Ka;Cb[uc].zindex&&(Cb[uc][Fc].zdirty=!0);"group"===(kb||Fc)&&pe(Cb[uc])}}kb&&cd(Ka);return Ka}function hf(Ka){arguments.length?
this.root=Bd(Ka):(this.root=Vf({marktype:"group",name:"root",role:"frame"}),this.root.items=[new tb(this.root)])}function Vf(Ka,kb){kb={bounds:new jd,clip:!!Ka.clip,group:kb,interactive:!1===Ka.interactive?!1:!0,items:[],marktype:Ka.marktype,name:Ka.name||void 0,role:Ka.role||void 0,zindex:Ka.zindex||0};null!=Ka.aria&&(kb.aria=Ka.aria);Ka.description&&(kb.description=Ka.description);return kb}function yf(Ka,kb,Cb){!Ka&&"undefined"!==typeof document&&document.createElement&&(Ka=document);return Ka?
Cb?Ka.createElementNS(Cb,kb):Ka.createElement(kb):null}function Ff(Ka,kb){kb=kb.toLowerCase();Ka=Ka.childNodes;for(var Cb=0,Pb=Ka.length;Cb<Pb;++Cb)if(Ka[Cb].tagName.toLowerCase()===kb)return Ka[Cb]}function Oe(Ka,kb,Cb,Pb){kb=Ka.childNodes[kb];if(!kb||kb.tagName.toLowerCase()!==Cb.toLowerCase()){var uc=kb||null;kb=yf(Ka.ownerDocument,Cb,Pb);Ka.insertBefore(kb,uc)}return kb}function Gb(Ka,kb){for(var Cb=Ka.childNodes,Pb=Cb.length;Pb>kb;)Ka.removeChild(Cb[--Pb]);return Ka}function Wb(Ka){return"mark-"+
Ka.marktype+(Ka.role?" role-"+Ka.role:"")+(Ka.name?" "+Ka.name:"")}function Uc(Ka,kb){const Cb=kb.getBoundingClientRect();return[Ka.clientX-Cb.left-(kb.clientLeft||0),Ka.clientY-Cb.top-(kb.clientTop||0)]}function ie(Ka,kb){this._active=null;this._handlers={};this._loader=Ka||A.loader();this._tooltip=kb||oe}function oe(Ka,kb,Cb,Pb){Ka.element().setAttribute("title",Pb||"")}function Vd(Ka){this._bgcolor=this._el=null;this._loader=new dc(Ka)}function Qd(Ka,kb){ie.call(this,Ka,kb);this._touch=this._down=
null;this._first=!0;this._events={}}function se(Ka,kb){("touchstart"===kb||"touchmove"===kb||"touchend"===kb?["touchstart","touchmove","touchend"]:[kb]).forEach(Cb=>cf(Ka,Cb))}function cf(Ka,kb){const Cb=Ka.canvas();Cb&&!Ka._events[kb]&&(Ka._events[kb]=1,Cb.addEventListener(kb,Ka[kb]?Pb=>Ka[kb](Pb):Pb=>Ka.fire(kb,Pb)))}function qf(Ka,kb,Cb){return function(Pb){const uc=this._active,Fc=this.pickEvent(Pb);Fc!==uc&&(uc&&uc.exit||this.fire(Cb,Pb),this._active=Fc,this.fire(kb,Pb));this.fire(Ka,Pb)}}function ua(Ka){return function(kb){this.fire(Ka,
kb);this._active=null}}function vb(Ka){Vd.call(this,Ka);this._options={};this._redraw=!1;this._dirty=new jd;this._tempb=new jd}function Oa(Ka,kb){ie.call(this,Ka,kb);const Cb=this;Cb._hrefHandler=Sg(Cb,(Pb,uc)=>{uc&&uc.href&&Cb.handleHref(Pb,uc,uc.href)});Cb._tooltipHandler=Sg(Cb,(Pb,uc)=>{Cb.handleTooltip(Pb,uc,"mouseout"!==Pb.type)})}function ic(Ka,kb){var Cb=!1===kb.aria;Ka("aria-hidden",Cb||void 0);if(Cb||null==kb.description)for(const Pb in Nf)Ka(Nf[Pb],void 0);else Cb=kb.mark.marktype,Ka("aria-label",
kb.description),Ka("role",kb.ariaRole||("group"===Cb?"graphics-object":"graphics-symbol")),Ka("aria-roledescription",kb.ariaRoleDescription||`${Cb} mark`)}function la(Ka){return!1===Ka.aria?{["aria-hidden"]:!0}:pg[Ka.role]?null:lf[Ka.role]?fb(Ka,lf[Ka.role]):Qa(Ka)}function Qa(Ka){const kb=Ka.marktype,Cb="group"===kb||"text"===kb||Ka.items.some(Pb=>null!=Pb.description&&!1!==Pb.aria);return Qf(Cb?"graphics-object":"graphics-symbol",`${kb} mark container`,Ka.description)}function fb(Ka,kb){try{const Cb=
Ka.items[0],Pb=kb.caption||(()=>"");return Qf(kb.role||"graphics-symbol",kb.desc,Cb.description||Pb(Cb))}catch(Cb){return null}}function xb(Ka){try{return k.array(k.peek(Ka.items).items[0].text).join(" ")}catch(kb){return null}}function Fb(Ka){Ka=Ka.map(kb=>kb+("fill"===kb||"stroke"===kb?" color":""));return 2>Ka.length?Ka[0]:Ka.slice(0,-1).join(", ")+" and "+k.peek(Ka)}function ac(){let Ka="",kb="",Cb="";const Pb=[],uc=($c,Aa)=>{null!=Aa&&(kb+=` ${$c}="${wh(Aa).replace(/"/g,"\x26quot;").replace(/\t/g,
"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Fc},Fc={open($c,...Aa){kb&&(Ka+=`${kb}>${Cb}`,kb=Cb="");Pb.push($c);kb="\x3c"+$c;for(const Sa of Aa)for(const qb in Sa)uc(qb,Sa[qb]);return Fc},close(){const $c=Pb.pop();Ka=kb?Ka+(kb+(Cb?`>${Cb}</${$c}>`:"/\x3e")):Ka+`</${$c}>`;kb=Cb="";return Fc},attr:uc,text:$c=>(Cb+=wh($c),Fc),toString:()=>Ka};return Fc}function yc(Ka,kb){Ka.open(kb.tagName);if(kb.hasAttributes()){const Cb=kb.attributes,Pb=Cb.length;for(let uc=0;uc<Pb;++uc)Ka.attr(Cb[uc].name,
Cb[uc].value)}if(kb.hasChildNodes()){kb=kb.childNodes;for(const Cb of kb)3===Cb.nodeType?Ka.text(Cb.nodeValue):yc(Ka,Cb)}return Ka.close()}function Zc(Ka){Vd.call(this,Ka);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function ad(Ka,kb){for(;Ka&&Ka.dirty!==kb;Ka=Ka.mark.group)if(Ka.dirty=kb,Ka.mark&&Ka.mark.dirty!==kb)Ka.mark.dirty=kb;else break}function Lc(Ka,kb,Cb){kb=kb.lastChild.previousSibling;let Pb,uc=0;dd(Cb,Fc=>{Pb=Ka.mark(kb,Fc,Pb);++uc});Gb(kb,1+uc)}function Ec(Ka,
kb,Cb,Pb,uc){let Fc=Ka._svg;if(!Fc){var $c=kb.ownerDocument;Fc=yf($c,Pb,ig);Ka._svg=Fc;Ka.mark&&(Fc.__data__=Ka,Fc.__values__={fill:"default"},"g"===Pb&&(Pb=yf($c,"path",ig),Fc.appendChild(Pb),Pb.__data__=Ka,Pb=yf($c,"g",ig),Fc.appendChild(Pb),Pb.__data__=Ka,$c=yf($c,"path",ig),Fc.appendChild($c),$c.__data__=Ka,$c.__values__={fill:"default"}))}(Fc.ownerSVGElement!==uc||Fc.parentNode&&1<Fc.parentNode.childNodes.length&&Fc.previousSibling!=Cb)&&kb.insertBefore(Fc,Cb?Cb.nextSibling:kb.firstChild);return Fc}
function tc(Ka,kb,Cb){if(kb!==Yg[Ka]){if(Cb){var Pb=ph;null!=kb?Pb.setAttributeNS(Cb,Ka,kb):Pb.removeAttributeNS(Cb,Ka)}else Qc(ph,Ka,kb);Yg[Ka]=kb}}function Nc(Ka,kb,Cb){Cb!==Yg[kb]&&(null==Cb?Ka.style.removeProperty(kb):Ka.style.setProperty(kb,Cb+""),Yg[kb]=Cb)}function mc(Ka,kb){for(const Cb in kb)Qc(Ka,Cb,kb[Cb])}function Qc(Ka,kb,Cb){null!=Cb?Ka.setAttribute(kb,Cb):Ka.removeAttribute(kb)}function jb(){let Ka;return"undefined"===typeof window?"":(Ka=window.location).hash?Ka.href.slice(0,-Ka.hash.length):
Ka.href}function Ib(Ka){Vd.call(this,Ka);this._text=null;this._defs={gradient:{},clipping:{}}}function Qb(Ka,kb,Cb,Pb,uc){let Fc;if(null==kb)return Ka;"bgrect"===Pb&&!1===Cb.interactive&&(Ka["pointer-events"]="none");if("bgfore"===Pb&&(!1===Cb.interactive&&(Ka["pointer-events"]="none"),Ka.display="none",null!==kb.fill))return Ka;"image"===Pb&&!1===kb.smooth&&(Fc=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===Pb&&(Ka["font-family"]=Bf(kb),Ka["font-size"]=Od(kb)+"px",Ka["font-style"]=
kb.fontStyle,Ka["font-variant"]=kb.fontVariant,Ka["font-weight"]=kb.fontWeight);for(const $c in Oh)Cb=kb[$c],Pb=Oh[$c],("transparent"!==Cb||"fill"!==Pb&&"stroke"!==Pb)&&null!=Cb&&(Cb&&Cb.gradient&&(Cb=m(Cb,uc.gradient,"")),Ka[Pb]=Cb);for(const $c in Jh)uc=kb[$c],null!=uc&&(Fc=Fc||[],Fc.push(`${Jh[$c]}: ${uc};`));Fc&&(Ka.style=Fc.join(" "));return Ka}function Rb(Ka,kb,Cb,Pb){if(Ka.bounds&&kb.intersects(Ka.bounds)&&("group"===Ka.marktype||!1!==Ka.interactive&&(!Cb||Cb(Ka)))){const Fc=Ka.items;var uc=
Ka.marktype;Ka=Fc.length;let $c=0;if("group"===uc)for(;$c<Ka;++$c)na(Fc[$c],kb,Cb,Pb);else for(Cb=nf[uc].isect;$c<Ka;++$c)uc=Fc[$c],Ma(uc,kb,Cb)&&Pb.push(uc)}return Pb}function na(Ka,kb,Cb,Pb){Cb&&Cb(Ka.mark)&&Ma(Ka,kb,nf.group.isect)&&Pb.push(Ka);const uc=Ka.items,Fc=uc&&uc.length;if(Fc){const $c=Ka.x||0;Ka=Ka.y||0;kb.translate(-$c,-Ka);for(let Aa=0;Aa<Fc;++Aa)Rb(uc[Aa],kb,Cb,Pb);kb.translate($c,Ka)}return Pb}function Ma(Ka,kb,Cb){const Pb=Ka.bounds;return kb.encloses(Pb)||kb.intersects(Pb)&&Cb(Ka,
kb)}function lb(Ka,kb,Cb){return Ka===kb?!0:"path"===Cb?Jb(Ka,kb):Ka instanceof Date&&kb instanceof Date?+Ka===+kb:k.isNumber(Ka)&&k.isNumber(kb)?1E-9>=Math.abs(Ka-kb):Ka&&kb&&(k.isObject(Ka)||k.isObject(kb))?Nb(Ka,kb):Ka==kb}function Jb(Ka,kb){return lb(Ua(Ka),Ua(kb))}function Nb(Ka,kb){var Cb=Object.keys(Ka),Pb=Object.keys(kb),uc;if(Cb.length!==Pb.length)return!1;Cb.sort();Pb.sort();for(uc=Cb.length-1;0<=uc;uc--)if(Cb[uc]!=Pb[uc])return!1;for(uc=Cb.length-1;0<=uc;uc--)if(Pb=Cb[uc],!lb(Ka[Pb],kb[Pb],
Pb))return!1;return typeof Ka===typeof kb}let Lb=0;const pc=Math.PI,Oc=2*pc,zc=Oc-1E-6;f.prototype=g.prototype={constructor:f,moveTo:function(Ka,kb){this._+="M"+(this._x0=this._x1=+Ka)+","+(this._y0=this._y1=+kb)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(Ka,kb){this._+="L"+(this._x1=+Ka)+","+(this._y1=+kb)},quadraticCurveTo:function(Ka,kb,Cb,Pb){this._+="Q"+ +Ka+","+ +kb+","+(this._x1=+Cb)+","+(this._y1=+Pb)},bezierCurveTo:function(Ka,
kb,Cb,Pb,uc,Fc){this._+="C"+ +Ka+","+ +kb+","+ +Cb+","+ +Pb+","+(this._x1=+uc)+","+(this._y1=+Fc)},arcTo:function(Ka,kb,Cb,Pb,uc){Ka=+Ka;kb=+kb;Cb=+Cb;Pb=+Pb;uc=+uc;var Fc=this._x1,$c=this._y1,Aa=Cb-Ka,Sa=Pb-kb,qb=Fc-Ka,rb=$c-kb,kc=qb*qb+rb*rb;if(0>uc)throw Error("negative radius: "+uc);if(null===this._x1)this._+="M"+(this._x1=Ka)+","+(this._y1=kb);else if(1E-6<kc)if(1E-6<Math.abs(rb*Aa-Sa*qb)&&uc){Cb-=Fc;Pb-=$c;var Rc=Aa*Aa+Sa*Sa;$c=Math.sqrt(Rc);Fc=Math.sqrt(kc);kc=uc*Math.tan((pc-Math.acos((Rc+
kc-(Cb*Cb+Pb*Pb))/(2*$c*Fc)))/2);Fc=kc/Fc;kc/=$c;1E-6<Math.abs(Fc-1)&&(this._+="L"+(Ka+Fc*qb)+","+(kb+Fc*rb));this._+="A"+uc+","+uc+",0,0,"+ +(rb*Cb>qb*Pb)+","+(this._x1=Ka+kc*Aa)+","+(this._y1=kb+kc*Sa)}else this._+="L"+(this._x1=Ka)+","+(this._y1=kb)},arc:function(Ka,kb,Cb,Pb,uc,Fc){Ka=+Ka;kb=+kb;Cb=+Cb;Fc=!!Fc;var $c=Cb*Math.cos(Pb),Aa=Cb*Math.sin(Pb),Sa=Ka+$c,qb=kb+Aa,rb=1^Fc;Pb=Fc?Pb-uc:uc-Pb;if(0>Cb)throw Error("negative radius: "+Cb);if(null===this._x1)this._+="M"+Sa+","+qb;else if(1E-6<Math.abs(this._x1-
Sa)||1E-6<Math.abs(this._y1-qb))this._+="L"+Sa+","+qb;Cb&&(0>Pb&&(Pb=Pb%Oc+Oc),Pb>zc?this._+="A"+Cb+","+Cb+",0,1,"+rb+","+(Ka-$c)+","+(kb-Aa)+"A"+Cb+","+Cb+",0,1,"+rb+","+(this._x1=Sa)+","+(this._y1=qb):1E-6<Pb&&(this._+="A"+Cb+","+Cb+",0,"+ +(Pb>=pc)+","+rb+","+(this._x1=Ka+Cb*Math.cos(uc))+","+(this._y1=kb+Cb*Math.sin(uc))))},rect:function(Ka,kb,Cb,Pb){this._+="M"+(this._x0=this._x1=+Ka)+","+(this._y0=this._y1=+kb)+"h"+ +Cb+"v"+ +Pb+"h"+-Cb+"Z"},toString:function(){return this._}};const wc=Math.abs,
od=Math.atan2,qd=Math.cos,Fe=Math.max,Cd=Math.min,je=Math.sin,ve=Math.sqrt,xd=Math.PI,Id=xd/2,te=2*xd;F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ka,kb){Ka=+Ka;kb=+kb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ka,kb):this._context.moveTo(Ka,kb);break;case 1:this._point=
2;default:this._context.lineTo(Ka,kb)}}};var ye={draw(Ka,kb){kb=ve(kb/xd);Ka.moveTo(kb,0);Ka.arc(0,0,kb,0,te)}};ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:S(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ka,
kb){Ka=+Ka;kb=+kb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ka,kb):this._context.moveTo(Ka,kb);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:S(this,Ka,kb)}this._x0=this._x1;this._x1=Ka;this._y0=this._y1;this._y1=kb}};ea.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,
this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(Ka,kb){Ka=+Ka;kb=+kb;switch(this._point){case 0:this._point=1;this._x2=Ka;this._y2=kb;break;case 1:this._point=2;this._x3=Ka;this._y3=kb;break;case 2:this._point=3;this._x4=
Ka;this._y4=kb;this._context.moveTo((this._x0+4*this._x1+Ka)/6,(this._y0+4*this._y1+kb)/6);break;default:S(this,Ka,kb)}this._x0=this._x1;this._x1=Ka;this._y0=this._y1;this._y1=kb}};T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ka,kb){Ka=+Ka;kb=+kb;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;var Cb=(this._x0+4*this._x1+Ka)/6,Pb=(this._y0+4*this._y1+kb)/6;this._line?this._context.lineTo(Cb,Pb):this._context.moveTo(Cb,Pb);break;case 3:this._point=4;default:S(this,Ka,kb)}this._x0=this._x1;this._x1=Ka;this._y0=this._y1;this._y1=kb}};R.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var Ka=this._x,kb=this._y,Cb=Ka.length-1;if(0<Cb)for(var Pb=Ka[0],uc=kb[0],Fc=Ka[Cb]-Pb,$c=kb[Cb]-uc,Aa=
-1,Sa;++Aa<=Cb;)Sa=Aa/Cb,this._basis.point(this._beta*Ka[Aa]+(1-this._beta)*(Pb+Sa*Fc),this._beta*kb[Aa]+(1-this._beta)*(uc+Sa*$c));this._x=this._y=null;this._basis.lineEnd()},point:function(Ka,kb){this._x.push(+Ka);this._y.push(+kb)}};var vd=function Cb(kb){function Pb(uc){return 1===kb?new ca(uc):new R(uc,kb)}Pb.beta=function(uc){return Cb(+uc)};return Pb}(.85);r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=
this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:J(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(kb,Cb){kb=+kb;Cb=+Cb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(kb,Cb):this._context.moveTo(kb,Cb);break;case 1:this._point=2;this._x1=kb;this._y1=Cb;break;case 2:this._point=3;default:J(this,kb,Cb)}this._x0=
this._x1;this._x1=this._x2;this._x2=kb;this._y0=this._y1;this._y1=this._y2;this._y2=Cb}};var ef=function Pb(Cb){function uc(Fc){return new r(Fc,Cb)}uc.tension=function(Fc){return Pb(+Fc)};return uc}(0);C.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;
case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Cb,Pb){Cb=+Cb;Pb=+Pb;switch(this._point){case 0:this._point=1;this._x3=Cb;this._y3=Pb;break;case 1:this._point=2;this._context.moveTo(this._x4=Cb,this._y4=Pb);break;case 2:this._point=3;this._x5=Cb;this._y5=Pb;break;default:J(this,Cb,Pb)}this._x0=this._x1;this._x1=this._x2;this._x2=Cb;this._y0=this._y1;this._y1=
this._y2;this._y2=Pb}};var df=function uc(Pb){function Fc($c){return new C($c,Pb)}Fc.tension=function($c){return uc(+$c)};return Fc}(0);N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Pb,uc){Pb=+Pb;uc=+uc;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:J(this,Pb,uc)}this._x0=this._x1;this._x1=this._x2;this._x2=Pb;this._y0=this._y1;this._y1=this._y2;this._y2=uc}};var vf=function Fc(uc){function $c(Aa){return new N(Aa,uc)}$c.tension=function(Aa){return Fc(+Aa)};return $c}(0);ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(uc,Fc){uc=+uc;Fc=+Fc;if(this._point){var $c=this._x2-uc,Aa=this._y2-Fc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow($c*$c+
Aa*Aa,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(uc,Fc):this._context.moveTo(uc,Fc);break;case 1:this._point=2;break;case 2:this._point=3;default:U(this,uc,Fc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=uc;this._y0=this._y1;this._y1=this._y2;this._y2=Fc}};var Lf=function $c(Fc){function Aa(Sa){return Fc?new ja(Sa,Fc):new r(Sa,0)}Aa.alpha=function(Sa){return $c(+Sa)};
return Aa}(.5);ba.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),
this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Fc,$c){Fc=+Fc;$c=+$c;if(this._point){var Aa=this._x2-Fc,Sa=this._y2-$c;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Aa*Aa+Sa*Sa,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Fc;this._y3=$c;break;case 1:this._point=2;this._context.moveTo(this._x4=Fc,this._y4=$c);break;case 2:this._point=3;this._x5=Fc;this._y5=$c;break;default:U(this,Fc,$c)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;
this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Fc;this._y0=this._y1;this._y1=this._y2;this._y2=$c}};var Of=function Aa($c){function Sa(qb){return $c?new ba(qb,$c):new C(qb,0)}Sa.alpha=function(qb){return Aa(+qb)};return Sa}(.5);ia.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function($c,Aa){$c=+$c;Aa=+Aa;if(this._point){var Sa=this._x2-$c,qb=this._y2-Aa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Sa*Sa+qb*qb,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:U(this,
$c,Aa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=$c;this._y0=this._y1;this._y1=this._y2;this._y2=Aa}};var Xg=function Sa(Aa){function qb(rb){return Aa?new ia(rb,Aa):new N(rb,0)}qb.alpha=function(rb){return Sa(+rb)};return qb}(.5);za.prototype={areaStart:V,areaEnd:V,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Aa,Sa){Aa=+Aa;Sa=+Sa;this._point?
this._context.lineTo(Aa,Sa):(this._point=1,this._context.moveTo(Aa,Sa))}};qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ja(this,this._t0,hb(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Aa,Sa){var qb=
NaN;Aa=+Aa;Sa=+Sa;if(Aa!==this._x1||Sa!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Aa,Sa):this._context.moveTo(Aa,Sa);break;case 1:this._point=2;break;case 2:this._point=3;Ja(this,hb(this,qb=Wa(this,Aa,Sa)),qb);break;default:Ja(this,this._t0,qb=Wa(this,Aa,Sa))}this._x0=this._x1;this._x1=Aa;this._y0=this._y1;this._y1=Sa;this._t0=qb}}};(Da.prototype=Object.create(qa.prototype)).point=function(Aa,Sa){qa.prototype.point.call(this,Sa,Aa)};va.prototype={moveTo:function(Aa,
Sa){this._context.moveTo(Sa,Aa)},closePath:function(){this._context.closePath()},lineTo:function(Aa,Sa){this._context.lineTo(Sa,Aa)},bezierCurveTo:function(Aa,Sa,qb,rb,kc,Rc){this._context.bezierCurveTo(Sa,Aa,rb,qb,Rc,kc)}};sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Aa=this._x,Sa=this._y,qb=Aa.length;if(qb)if(this._line?this._context.lineTo(Aa[0],Sa[0]):this._context.moveTo(Aa[0],Sa[0]),2===
qb)this._context.lineTo(Aa[1],Sa[1]);else for(var rb=xa(Aa),kc=xa(Sa),Rc=0,gd=1;gd<qb;++Rc,++gd)this._context.bezierCurveTo(rb[0][Rc],kc[0][Rc],rb[1][Rc],kc[1][Rc],Aa[gd],Sa[gd]);(this._line||0!==this._line&&1===qb)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Aa,Sa){this._x.push(+Aa);this._y.push(+Sa)}};ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<
this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(Aa,Sa){Aa=+Aa;Sa=+Sa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Aa,Sa):this._context.moveTo(Aa,Sa);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Sa),this._context.lineTo(Aa,Sa);else{var qb=this._x*(1-this._t)+Aa*this._t;
this._context.lineTo(qb,this._y);this._context.lineTo(qb,Sa)}}this._x=Aa;this._y=Sa}};const Xd={basis:{curve:function(Aa){return new ca(Aa)}},"basis-closed":{curve:function(Aa){return new ea(Aa)}},"basis-open":{curve:function(Aa){return new T(Aa)}},bundle:{curve:vd,tension:"beta",value:.85},cardinal:{curve:ef,tension:"tension",value:0},"cardinal-open":{curve:vf,tension:"tension",value:0},"cardinal-closed":{curve:df,tension:"tension",value:0},"catmull-rom":{curve:Lf,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Of,
tension:"alpha",value:.5},"catmull-rom-open":{curve:Xg,tension:"alpha",value:.5},linear:{curve:w},"linear-closed":{curve:function(Aa){return new za(Aa)}},monotone:{horizontal:function(Aa){return new Da(Aa)},vertical:function(Aa){return new qa(Aa)}},natural:{curve:function(Aa){return new sa(Aa)}},step:{curve:function(Aa){return new ma(Aa,.5)}},"step-after":{curve:function(Aa){return new ma(Aa,1)}},"step-before":{curve:function(Aa){return new ma(Aa,0)}}},Ge={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},
og=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,wg=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Zg=/^((\s+,?\s*)|(,\s*))/,Bg=/^[01]/,Qg=Math.PI/180,sg=Math.PI/2,fg=2*Math.PI,zf=Math.sqrt(3)/2;var Pf={},eg={},Mf=[].join;const gg=["l",0,0,0,0,0,0,0],kh={circle:{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/2;Aa.moveTo(Sa,0);Aa.arc(0,0,Sa,0,fg)}},cross:{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/2;var qb=Sa/2.5;Aa.moveTo(-Sa,-qb);Aa.lineTo(-Sa,qb);Aa.lineTo(-qb,qb);Aa.lineTo(-qb,Sa);Aa.lineTo(qb,Sa);Aa.lineTo(qb,
qb);Aa.lineTo(Sa,qb);Aa.lineTo(Sa,-qb);Aa.lineTo(qb,-qb);Aa.lineTo(qb,-Sa);Aa.lineTo(-qb,-Sa);Aa.lineTo(-qb,-qb);Aa.closePath()}},diamond:{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/2;Aa.moveTo(-Sa,0);Aa.lineTo(0,-Sa);Aa.lineTo(Sa,0);Aa.lineTo(0,Sa);Aa.closePath()}},square:{draw:function(Aa,Sa){Sa=Math.sqrt(Sa);var qb=-Sa/2;Aa.rect(qb,qb,Sa,Sa)}},arrow:{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/2;var qb=Sa/7,rb=Sa/2.5,kc=Sa/8;Aa.moveTo(-qb,Sa);Aa.lineTo(qb,Sa);Aa.lineTo(qb,-kc);Aa.lineTo(rb,-kc);Aa.lineTo(0,
-Sa);Aa.lineTo(-rb,-kc);Aa.lineTo(-qb,-kc);Aa.closePath()}},wedge:{draw:function(Aa,Sa){var qb=Math.sqrt(Sa)/2;Sa=zf*qb;var rb=Sa-.5773502691896257*qb;qb/=4;Aa.moveTo(0,-Sa-rb);Aa.lineTo(-qb,Sa-rb);Aa.lineTo(qb,Sa-rb);Aa.closePath()}},triangle:{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/2;var qb=zf*Sa,rb=qb-.5773502691896257*Sa;Aa.moveTo(0,-qb-rb);Aa.lineTo(-Sa,qb-rb);Aa.lineTo(Sa,qb-rb);Aa.closePath()}},"triangle-up":{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/2;var qb=zf*Sa;Aa.moveTo(0,-qb);Aa.lineTo(-Sa,
qb);Aa.lineTo(Sa,qb);Aa.closePath()}},"triangle-down":{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/2;var qb=zf*Sa;Aa.moveTo(0,qb);Aa.lineTo(-Sa,-qb);Aa.lineTo(Sa,-qb);Aa.closePath()}},"triangle-right":{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/2;var qb=zf*Sa;Aa.moveTo(qb,0);Aa.lineTo(-qb,-Sa);Aa.lineTo(-qb,Sa);Aa.closePath()}},"triangle-left":{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/2;var qb=zf*Sa;Aa.moveTo(-qb,0);Aa.lineTo(qb,-Sa);Aa.lineTo(qb,Sa);Aa.closePath()}},stroke:{draw:function(Aa,Sa){Sa=Math.sqrt(Sa)/
2;Aa.moveTo(-Sa,0);Aa.lineTo(Sa,0)}}};var th={};const Gg=Aa=>Aa.x||0,xg=Aa=>Aa.y||0,zh=Aa=>!1!==Aa.defined,bb=function(){function Aa(){var Sd,Ed=+Sa.apply(this,arguments),De=+qb.apply(this,arguments),Af=Rc.apply(this,arguments)-Id,We=gd.apply(this,arguments)-Id,Ef=wc(We-Af),ug=We>Af;Xc||(Xc=Sd=g());if(De<Ed){var Tg=De;De=Ed;Ed=Tg}if(1E-12<De)if(Ef>te-1E-12)Xc.moveTo(De*qd(Af),De*je(Af)),Xc.arc(0,0,De,Af,We,!ug),1E-12<Ed&&(Xc.moveTo(Ed*qd(We),Ed*je(We)),Xc.arc(0,0,Ed,We,Af,ug));else{var wf=Af,$f=We;
Tg=Af;var cg=We,rg=Ef,li=Ef,Dg=Ad.apply(this,arguments)/2,hh=1E-12<Dg&&(kc?+kc.apply(this,arguments):ve(Ed*Ed+De*De)),ih=Cd(wc(De-Ed)/2,+rb.apply(this,arguments)),Vg=ih,ch=ih;if(1E-12<hh){var Wh=b(hh/Ed*je(Dg));Dg=b(hh/De*je(Dg));1E-12<(rg-=2*Wh)?(Wh*=ug?1:-1,Tg+=Wh,cg-=Wh):(rg=0,Tg=cg=(Af+We)/2);1E-12<(li-=2*Dg)?(Dg*=ug?1:-1,wf+=Dg,$f-=Dg):(li=0,wf=$f=(Af+We)/2)}Af=De*qd(wf);We=De*je(wf);Wh=Ed*qd(cg);Dg=Ed*je(cg);if(1E-12<ih){var Jg=De*qd($f),si=De*je($f),Ug=Ed*qd(Tg),Mg=Ed*je(Tg);if(Ef=Ef<xd){var lg=
Ug-Af;Ef=Mg-We;hh=Wh-Jg;var Dh=Dg-si,Gh=Dh*lg-hh*Ef;1E-12>Gh*Gh?lg=void 0:(Gh=(hh*(We-si)-Dh*(Af-Jg))/Gh,lg=[Af+Gh*lg,We+Gh*Ef]);Ef=lg}Ef&&(Vg=Af-lg[0],ch=We-lg[1],Ef=Jg-lg[0],hh=si-lg[1],Vg=(Vg*Ef+ch*hh)/(ve(Vg*Vg+ch*ch)*ve(Ef*Ef+hh*hh)),ch=1/je((1<Vg?0:-1>Vg?xd:Math.acos(Vg))/2),lg=ve(lg[0]*lg[0]+lg[1]*lg[1]),Vg=Cd(ih,(Ed-lg)/(ch-1)),ch=Cd(ih,(De-lg)/(ch+1)))}1E-12<li?1E-12<ch?(wf=q(Ug,Mg,Af,We,De,ch,ug),$f=q(Jg,si,Wh,Dg,De,ch,ug),Xc.moveTo(wf.cx+wf.x01,wf.cy+wf.y01),ch<ih?Xc.arc(wf.cx,wf.cy,ch,
od(wf.y01,wf.x01),od($f.y01,$f.x01),!ug):(Xc.arc(wf.cx,wf.cy,ch,od(wf.y01,wf.x01),od(wf.y11,wf.x11),!ug),Xc.arc(0,0,De,od(wf.cy+wf.y11,wf.cx+wf.x11),od($f.cy+$f.y11,$f.cx+$f.x11),!ug),Xc.arc($f.cx,$f.cy,ch,od($f.y11,$f.x11),od($f.y01,$f.x01),!ug))):(Xc.moveTo(Af,We),Xc.arc(0,0,De,wf,$f,!ug)):Xc.moveTo(Af,We);1E-12<Ed&&1E-12<rg?1E-12<Vg?(wf=q(Wh,Dg,Jg,si,Ed,-Vg,ug),$f=q(Af,We,Ug,Mg,Ed,-Vg,ug),Xc.lineTo(wf.cx+wf.x01,wf.cy+wf.y01),Vg<ih?Xc.arc(wf.cx,wf.cy,Vg,od(wf.y01,wf.x01),od($f.y01,$f.x01),!ug):
(Xc.arc(wf.cx,wf.cy,Vg,od(wf.y01,wf.x01),od(wf.y11,wf.x11),!ug),Xc.arc(0,0,Ed,od(wf.cy+wf.y11,wf.cx+wf.x11),od($f.cy+$f.y11,$f.cx+$f.x11),ug),Xc.arc($f.cx,$f.cy,Vg,od($f.y11,$f.x11),od($f.y01,$f.x01),!ug))):Xc.arc(0,0,Ed,cg,Tg,ug):Xc.lineTo(Wh,Dg)}else Xc.moveTo(0,0);Xc.closePath();if(Sd)return Xc=null,Sd+""||null}var Sa=c,qb=a,rb=d(0),kc=null,Rc=e,gd=t,Ad=y,Xc=null;Aa.centroid=function(){var Sd=(+Sa.apply(this,arguments)+ +qb.apply(this,arguments))/2,Ed=(+Rc.apply(this,arguments)+ +gd.apply(this,
arguments))/2-xd/2;return[qd(Ed)*Sd,je(Ed)*Sd]};Aa.innerRadius=function(Sd){return arguments.length?(Sa="function"===typeof Sd?Sd:d(+Sd),Aa):Sa};Aa.outerRadius=function(Sd){return arguments.length?(qb="function"===typeof Sd?Sd:d(+Sd),Aa):qb};Aa.cornerRadius=function(Sd){return arguments.length?(rb="function"===typeof Sd?Sd:d(+Sd),Aa):rb};Aa.padRadius=function(Sd){return arguments.length?(kc=null==Sd?null:"function"===typeof Sd?Sd:d(+Sd),Aa):kc};Aa.startAngle=function(Sd){return arguments.length?(Rc=
"function"===typeof Sd?Sd:d(+Sd),Aa):Rc};Aa.endAngle=function(Sd){return arguments.length?(gd="function"===typeof Sd?Sd:d(+Sd),Aa):gd};Aa.padAngle=function(Sd){return arguments.length?(Ad="function"===typeof Sd?Sd:d(+Sd),Aa):Ad};Aa.context=function(Sd){return arguments.length?(Xc=null==Sd?null:Sd,Aa):Xc};return Aa}().startAngle(Aa=>Aa.startAngle||0).endAngle(Aa=>Aa.endAngle||0).padAngle(Aa=>Aa.padAngle||0).innerRadius(Aa=>Aa.innerRadius||0).outerRadius(Aa=>Aa.outerRadius||0).cornerRadius(Aa=>Aa.cornerRadius||
0),Hb=O().x(Gg).y1(xg).y0(Aa=>(Aa.y||0)+(Aa.height||0)).defined(zh),nc=O().y(xg).x1(Gg).x0(Aa=>(Aa.x||0)+(Aa.width||0)).defined(zh),td=L().x(Gg).y(xg).defined(zh),zd=Eb().x(Gg).y(xg).width(Aa=>Aa.width||0).height(Aa=>Aa.height||0).cornerRadius(Aa=>Gc(Aa.cornerRadiusTopLeft,Aa.cornerRadius)||0,Aa=>Gc(Aa.cornerRadiusTopRight,Aa.cornerRadius)||0,Aa=>Gc(Aa.cornerRadiusBottomRight,Aa.cornerRadius)||0,Aa=>Gc(Aa.cornerRadiusBottomLeft,Aa.cornerRadius)||0),he=function(Aa,Sa){function qb(){let kc;rb||(rb=
kc=g());Aa.apply(this,arguments).draw(rb,+Sa.apply(this,arguments));if(kc)return rb=null,kc+""||null}let rb=null;Aa="function"===typeof Aa?Aa:d(Aa||ye);Sa="function"===typeof Sa?Sa:d(void 0===Sa?64:+Sa);qb.type=function(kc){return arguments.length?(Aa="function"===typeof kc?kc:d(kc),qb):Aa};qb.size=function(kc){return arguments.length?(Sa="function"===typeof kc?kc:d(+kc),qb):Sa};qb.context=function(kc){return arguments.length?(rb=null==kc?null:kc,qb):rb};return qb}().type(Aa=>oa(Aa.shape||"circle")).size(Aa=>
Gc(Aa.size,64)),kf=Zb().x(Gg).y(xg).defined(zh).size(Aa=>Aa.size||1);var sf=1;jd.prototype={clone(){return new jd(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(Aa){return this.x1===Aa.x1&&this.y1===Aa.y1&&this.x2===Aa.x2&&this.y2===Aa.y2},set(Aa,Sa,qb,rb){qb<Aa?(this.x2=Aa,this.x1=
qb):(this.x1=Aa,this.x2=qb);rb<Sa?(this.y2=Sa,this.y1=rb):(this.y1=Sa,this.y2=rb);return this},add(Aa,Sa){Aa<this.x1&&(this.x1=Aa);Sa<this.y1&&(this.y1=Sa);Aa>this.x2&&(this.x2=Aa);Sa>this.y2&&(this.y2=Sa);return this},expand(Aa){this.x1-=Aa;this.y1-=Aa;this.x2+=Aa;this.y2+=Aa;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(Aa){this.x1*=Aa;this.y1*=Aa;this.x2*=Aa;this.y2*=Aa;return this},translate(Aa,
Sa){this.x1+=Aa;this.x2+=Aa;this.y1+=Sa;this.y2+=Sa;return this},rotate(Aa,Sa,qb){Aa=this.rotatedPoints(Aa,Sa,qb);return this.clear().add(Aa[0],Aa[1]).add(Aa[2],Aa[3]).add(Aa[4],Aa[5]).add(Aa[6],Aa[7])},rotatedPoints(Aa,Sa,qb){var {x1:rb,y1:kc,x2:Rc,y2:gd}=this,Ad=Math.cos(Aa);Aa=Math.sin(Aa);var Xc=Sa-Sa*Ad+qb*Aa;Sa=qb-Sa*Aa-qb*Ad;return[Ad*rb-Aa*kc+Xc,Aa*rb+Ad*kc+Sa,Ad*rb-Aa*gd+Xc,Aa*rb+Ad*gd+Sa,Ad*Rc-Aa*kc+Xc,Aa*Rc+Ad*kc+Sa,Ad*Rc-Aa*gd+Xc,Aa*Rc+Ad*gd+Sa]},union(Aa){Aa.x1<this.x1&&(this.x1=Aa.x1);
Aa.y1<this.y1&&(this.y1=Aa.y1);Aa.x2>this.x2&&(this.x2=Aa.x2);Aa.y2>this.y2&&(this.y2=Aa.y2);return this},intersect(Aa){Aa.x1>this.x1&&(this.x1=Aa.x1);Aa.y1>this.y1&&(this.y1=Aa.y1);Aa.x2<this.x2&&(this.x2=Aa.x2);Aa.y2<this.y2&&(this.y2=Aa.y2);return this},encloses(Aa){return Aa&&this.x1<=Aa.x1&&this.x2>=Aa.x2&&this.y1<=Aa.y1&&this.y2>=Aa.y2},alignsWith(Aa){return Aa&&(this.x1==Aa.x1||this.x2==Aa.x2||this.y1==Aa.y1||this.y2==Aa.y2)},intersects(Aa){return Aa&&!(this.x2<Aa.x1||this.x1>Aa.x2||this.y2<
Aa.y1||this.y1>Aa.y2)},contains(Aa,Sa){return!(Aa<this.x1||Aa>this.x2||Sa<this.y1||Sa>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};k.inherits(tb,Bb);dc.prototype={pending(){return this._pending},sanitizeURL(Aa){const Sa=this;Sa._pending+=1;return Sa._loader.sanitize(Aa,{context:"href"}).then(qb=>{--Sa._pending;return qb}).catch(()=>{--Sa._pending;return null})},loadImage(Aa){const Sa=this,qb=p.image();Sa._pending+=1;return Sa._loader.sanitize(Aa,{context:"image"}).then(rb=>
{const kc=rb.href;if(!kc||!qb)throw{url:kc};const Rc=new qb;rb=k.hasOwnProperty(rb,"crossOrigin")?rb.crossOrigin:"anonymous";null!=rb&&(Rc.crossOrigin=rb);Rc.onload=()=>{--Sa._pending};Rc.onerror=()=>{--Sa._pending};Rc.src=kc;return Rc}).catch(rb=>{--Sa._pending;return{complete:!1,width:0,height:0,src:rb&&rb.url||""}})},ready(){const Aa=this;return new Promise(Sa=>{function qb(rb){Aa.pending()?setTimeout(()=>{qb(!0)},10):Sa(rb)}qb(!1)})}};const Rg=fg-1E-8;let Rf,eh,uh,$g,fh,mf,ae,gh;const Vh=(Aa,
Sa)=>{Aa=eh=Aa;Sa=uh=Sa;return Rf.add(Aa,Sa)},lh=Aa=>Rf.add(Aa,Rf.y1),tg=Aa=>Rf.add(Rf.x1,Aa),Mh=(Aa,Sa)=>Rf.add(fh*Aa+ae*Sa,mf*Aa+gh*Sa),Th=(Aa,Sa)=>Vh(fh*Aa+ae*Sa,mf*Aa+gh*Sa),Te={beginPath(){},closePath(){},moveTo:Th,lineTo:Th,rect(Aa,Sa,qb,rb){$g?(Mh(Aa+qb,Sa),Mh(Aa+qb,Sa+rb),Mh(Aa,Sa+rb),Th(Aa,Sa)):(Rf.add(Aa+qb,Sa+rb),Vh(Aa,Sa))},quadraticCurveTo(Aa,Sa,qb,rb){const kc=mf*Aa+gh*Sa,Rc=fh*qb+ae*rb;qb=mf*qb+gh*rb;vc(eh,fh*Aa+ae*Sa,Rc,lh);vc(uh,kc,qb,tg);Vh(Rc,qb)},bezierCurveTo(Aa,Sa,qb,rb,kc,Rc){const gd=
mf*Aa+gh*Sa,Ad=mf*qb+gh*rb,Xc=fh*kc+ae*Rc;kc=mf*kc+gh*Rc;qc(eh,fh*Aa+ae*Sa,fh*qb+ae*rb,Xc,lh);qc(uh,gd,Ad,kc,tg);Vh(Xc,kc)},arc(Aa,Sa,qb,rb,kc,Rc){rb+=$g;kc+=$g;eh=qb*Math.cos(kc)+Aa;uh=qb*Math.sin(kc)+Sa;if(Math.abs(kc-rb)>Rg)Rf.add(Aa-qb,Sa-qb),Rf.add(Aa+qb,Sa+qb);else{const gd=Xc=>Rf.add(qb*Math.cos(Xc)+Aa,qb*Math.sin(Xc)+Sa);let Ad;gd(rb);gd(kc);if(kc!==rb)if(rb%=fg,0>rb&&(rb+=fg),kc%=fg,0>kc&&(kc+=fg),kc<rb&&(Rc=!Rc,Ad=rb,rb=kc,kc=Ad),Rc)for(kc-=fg,Ad=rb-rb%sg,rb=0;4>rb&&Ad>kc;++rb,Ad-=sg)gd(Ad);
else for(Ad=rb-rb%sg+sg,rb=0;4>rb&&Ad<kc;++rb,Ad+=sg)gd(Ad)}}};var gf=(gf=p.canvas(1,1))?gf.getContext("2d"):null;const K=new jd;var Z=[],wa=Td("arc",function(Aa,Sa){return bb.context(Aa)(Sa)}),Ta=af("area",function(Aa,Sa){const qb=Sa[0];return("horizontal"===qb.orient?nc:Hb).curve(Ea(qb.interpolate||"linear",qb.orient,qb.tension)).context(Aa)(Sa)},function(Aa,Sa){Sa="horizontal"===Aa[0].orient?Sa[1]:Sa[0];for(var qb="horizontal"===Aa[0].orient?"y":"x",rb=Aa.length,kc=Infinity,Rc,gd;0<=--rb;)!1!==
Aa[rb].defined&&(gd=Math.abs(Aa[rb][qb]-Sa),gd<kc&&(kc=gd,Rc=Aa[rb]));return Rc});const pb=be(me),Db=be(me,!1),Xb=be(me,!0);var Hc={type:"group",tag:"g",nested:!1,attr:function(Aa,Sa){Aa("transform",ce(Sa.x||0,Sa.y||0))},bound:function(Aa,Sa){if(!Sa.clip&&Sa.items){const qb=Sa.items,rb=qb.length;for(let kc=0;kc<rb;++kc)Aa.union(qb[kc].bounds)}(Sa.clip||Sa.width||Sa.height)&&!Sa.noBound&&Aa.add(0,0).add(Sa.width||0,Sa.height||0);Yb(Aa,Sa);return Aa.translate(Sa.x||0,Sa.y||0)},draw:function(Aa,Sa,qb){dd(Sa,
rb=>{const kc=rb.x||0,Rc=rb.y||0,gd=rb.strokeForeground,Ad=null==rb.opacity?1:rb.opacity;(rb.stroke||rb.fill)&&Ad&&(me(Aa,rb,kc,Rc),db(Aa,rb),rb.fill&&Ub(Aa,rb,Ad)&&Aa.fill(),rb.stroke&&!gd&&$b(Aa,rb,Ad)&&Aa.stroke());Aa.save();Aa.translate(kc,Rc);rb.clip&&Se(Aa,rb);qb&&qb.translate(-kc,-Rc);dd(rb,Xc=>{this.draw(Aa,Xc,qb)});qb&&qb.translate(kc,Rc);Aa.restore();gd&&rb.stroke&&Ad&&(me(Aa,rb,kc,Rc),db(Aa,rb),$b(Aa,rb,Ad)&&Aa.stroke())})},pick:function(Aa,Sa,qb,rb,kc,Rc){if(Sa.bounds&&!Sa.bounds.contains(kc,
Rc)||!Sa.items)return null;const gd=qb*Aa.pixelRatio,Ad=rb*Aa.pixelRatio;return ld(Sa,Xc=>{let Sd,Ed;var De=Xc.bounds;if(!De||De.contains(kc,Rc)){Sd=Xc.x||0;Ed=Xc.y||0;De=Sd+(Xc.width||0);var Af=Ed+(Xc.height||0),We=Xc.clip;if(!We||!(kc<Sd||kc>De||Rc<Ed||Rc>Af)){Aa.save();Aa.translate(Sd,Ed);Sd=kc-Sd;Ed=Rc-Ed;if(We&&xc(Xc)&&!Xb(Aa,Xc,gd,Ad))return Aa.restore(),null;Af=Xc.strokeForeground;if((We=!1!==Sa.interactive)&&Af&&Xc.stroke&&Db(Aa,Xc,gd,Ad))return Aa.restore(),Xc;De=ld(Xc,Ef=>(!1!==Ef.interactive||
"group"===Ef.marktype)&&Ef.bounds&&Ef.bounds.contains(Sd,Ed)?this.pick(Ef,qb,rb,Sd,Ed):null);!De&&We&&(Xc.fill||!Af&&Xc.stroke)&&pb(Aa,Xc,gd,Ad)&&(De=Xc);Aa.restore();return De||null}}})},isect:Fa,content:function(Aa,Sa,qb){Sa=Sa.clip?rc(qb,Sa,Sa):null;Aa("clip-path",Sa)},background:function(Aa,Sa){Aa("class","background");Aa("aria-hidden",!0);const qb=ue(Sa);Aa("d",Ic(null,Sa,qb,qb))},foreground:function(Aa,Sa){Aa("class","foreground");Aa("aria-hidden",!0);if(Sa.strokeForeground){const qb=ue(Sa);
Aa("d",Ic(null,Sa,qb,qb))}else Aa("d","")}},Vc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Pc={type:"image",tag:"image",nested:!1,attr:function(Aa,Sa,qb){var rb=Ga(Sa,qb);qb=$a(Sa,rb);const kc=ub(Sa,rb),Rc=(Sa.x||0)-Mb(Sa.align,qb),gd=(Sa.y||0)-fc(Sa.baseline,kc);rb=!rb.src&&rb.toDataURL?rb.toDataURL():rb.src||"";Aa("href",rb,Vc["xmlns:xlink"],"xlink:href");Aa("transform",ce(Rc,gd));Aa("width",qb);Aa("height",kc);Aa("preserveAspectRatio",!1===Sa.aspect?
"none":"xMidYMid")},bound:function(Aa,Sa){var qb=Sa.image;const rb=$a(Sa,qb);qb=ub(Sa,qb);const kc=(Sa.x||0)-Mb(Sa.align,rb);Sa=(Sa.y||0)-fc(Sa.baseline,qb);return Aa.set(kc,Sa,kc+rb,Sa+qb)},draw:function(Aa,Sa,qb){dd(Sa,rb=>{if(!qb||qb.intersects(rb.bounds)){var kc=Ga(rb,this),Rc=$a(rb,kc),gd=ub(rb,kc);if(0!==Rc&&0!==gd){var Ad=(rb.x||0)-Mb(rb.align,Rc),Xc=(rb.y||0)-fc(rb.baseline,gd),Sd;if(!1!==rb.aspect){var Ed=kc.width/kc.height;var De=rb.width/rb.height;Ed===Ed&&De===De&&Ed!==De&&(De<Ed?(Ed=
Rc/Ed,Xc+=(gd-Ed)/2,gd=Ed):(Ed*=gd,Ad+=(Rc-Ed)/2,Rc=Ed))}if(kc.complete||kc.toDataURL)db(Aa,rb),Aa.globalAlpha=null!=(Sd=rb.opacity)?Sd:1,Aa.imageSmoothingEnabled=!1!==rb.smooth,Aa.drawImage(kc,Ad,Xc,Rc,gd)}}})},pick:fe(),isect:k.truthy,get:Ga,xOffset:Mb,yOffset:fc},Dd=af("line",function(Aa,Sa){const qb=Sa[0];return td.curve(Ea(qb.interpolate||"linear",qb.orient,qb.tension)).context(Aa)(Sa)},function(Aa,Sa){for(var qb=Math.pow(Aa[0].strokeWidth||1,2),rb=Aa.length,kc,Rc;0<=--rb;)if(!1!==Aa[rb].defined&&
(kc=Aa[rb].x-Sa[0],Rc=Aa[rb].y-Sa[1],kc=kc*kc+Rc*Rc,kc<qb))return Aa[rb];return null}),Rd={type:"path",tag:"path",nested:!1,attr:function(Aa,Sa){var qb=Sa.scaleY||1;1===(Sa.scaleX||1)&&1===qb||Aa("vector-effect","non-scaling-stroke");qb=ce(Sa.x||0,Sa.y||0)+(Sa.angle?" rotate("+(Sa.angle+")"):"")+(Sa.scaleX||Sa.scaleY?" scale("+((Sa.scaleX||1)+","+(Sa.scaleY||1)+")"):"");Aa("transform",qb);Aa("d",Sa.path)},bound:function(Aa,Sa){return oc(hc(Aa,Sa.angle),Sa)?Aa.set(0,0,0,0):Yb(Aa,Sa,!0)},draw:rd(oc),
pick:fe(be(oc)),isect:Yc(oc)},Ve={type:"rect",tag:"path",nested:!1,attr:function(Aa,Sa){Aa("d",Ic(null,Sa))},bound:function(Aa,Sa){var qb,rb;return Yb(Aa.set(qb=Sa.x||0,rb=Sa.y||0,qb+Sa.width||0,rb+Sa.height||0),Sa)},draw:rd(Mc),pick:fe(be(Mc)),isect:Fa},He={type:"rule",tag:"line",nested:!1,attr:function(Aa,Sa){Aa("transform",ce(Sa.x||0,Sa.y||0));Aa("x2",null!=Sa.x2?Sa.x2-(Sa.x||0):0);Aa("y2",null!=Sa.y2?Sa.y2-(Sa.y||0):0)},bound:function(Aa,Sa){var qb,rb;return Yb(Aa.set(qb=Sa.x||0,rb=Sa.y||0,null!=
Sa.x2?Sa.x2:qb,null!=Sa.y2?Sa.y2:rb),Sa)},draw:function(Aa,Sa,qb){dd(Sa,rb=>{if(!qb||qb.intersects(rb.bounds)){var kc=null==rb.opacity?1:rb.opacity;kc&&Kc(Aa,rb,kc)&&(db(Aa,rb),Aa.stroke())}})},pick:fe(function(Aa,Sa,qb,rb){return Aa.isPointInStroke?Kc(Aa,Sa,1)&&Aa.isPointInStroke(qb,rb):!1}),isect:Ca},Jf=Td("shape",function(Aa,Sa){return(Sa.mark.shape||Sa.shape).context(Aa)(Sa)}),Pd=Td("symbol",function(Aa,Sa){return he.context(Aa)(Sa)},Hd);const ge=k.lruCache();var Je={height:Od,measureWidth:nd,
estimateWidth:fd,width:fd,canvas:gc};gc(!0);const Pe={left:"start",center:"middle",right:"end"},Hf=new jd;var hg={type:"text",tag:"text",nested:!1,attr:function(Aa,Sa){var qb=Sa.dx||0,rb=(Sa.dy||0)+Ne(Sa),kc=rf(Sa),Rc=kc.x1;kc=kc.y1;var gd=Sa.angle||0;Aa("text-anchor",Pe[Sa.align]||"start");if(gd){if(Sa=ce(Rc,kc)+" rotate("+(gd+")"),qb||rb)Sa+=" "+ce(qb,rb)}else Sa=ce(Rc+qb,kc+rb);Aa("transform",Sa)},bound:Vb,draw:function(Aa,Sa,qb){dd(Sa,rb=>{var kc=null==rb.opacity?1:rb.opacity,Rc;if(!(qb&&!qb.intersects(rb.bounds)||
0===kc||0>=rb.fontSize||null==rb.text||0===rb.text.length)){Aa.font=xe(rb);Aa.textAlign=rb.align||"left";var gd=rf(rb);var Ad=gd.x1;gd=gd.y1;rb.angle&&(Aa.save(),Aa.translate(Ad,gd),Aa.rotate(rb.angle*Qg),Ad=gd=0);Ad+=rb.dx||0;gd+=(rb.dy||0)+Ne(rb);var Xc=Yd(rb);db(Aa,rb);if(k.isArray(Xc)){var Sd=Ud(rb);for(Rc=0;Rc<Xc.length;++Rc){var Ed=Ee(rb,Xc[Rc]);rb.fill&&Ub(Aa,rb,kc)&&Aa.fillText(Ed,Ad,gd);rb.stroke&&$b(Aa,rb,kc)&&Aa.strokeText(Ed,Ad,gd);gd+=Sd}}else Ed=Ee(rb,Xc),rb.fill&&Ub(Aa,rb,kc)&&Aa.fillText(Ed,
Ad,gd),rb.stroke&&$b(Aa,rb,kc)&&Aa.strokeText(Ed,Ad,gd);rb.angle&&Aa.restore()}})},pick:fe(function(Aa,Sa,qb,rb,kc,Rc){if(0>=Sa.fontSize)return!1;if(!Sa.angle)return!0;qb=rf(Sa);Aa=qb.x1;qb=qb.y1;rb=Vb(Hf,Sa,1);var gd=-Sa.angle*Qg;Sa=Math.cos(gd);gd=Math.sin(gd);return rb.contains(Sa*kc-gd*Rc+(Aa-Sa*Aa+gd*qb),gd*kc+Sa*Rc+(qb-gd*Aa-Sa*qb))}),isect:function(Aa,Sa){Aa=Vb(Hf,Aa,2);return Ha(Sa,Aa[0],Aa[1],Aa[2],Aa[3])||Ha(Sa,Aa[0],Aa[1],Aa[4],Aa[5])||Ha(Sa,Aa[4],Aa[5],Aa[6],Aa[7])||Ha(Sa,Aa[2],Aa[3],
Aa[6],Aa[7])}},Ue=af("trail",function(Aa,Sa){return kf.context(Aa)(Sa)},function(Aa,Sa){for(var qb=Aa.length,rb,kc;0<=--qb;)if(!1!==Aa[qb].defined&&(rb=Aa[qb].x-Sa[0],kc=Aa[qb].y-Sa[1],kc=rb*rb+kc*kc,rb=Aa[qb].size||1,kc<rb*rb))return Aa[qb];return null}),nf={arc:wa,area:Ta,group:Hc,image:Pc,line:Dd,path:Rd,rect:Ve,rule:He,shape:Jf,symbol:Pd,text:hg,trail:Ue},Yf={mark:null};const ff="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
hf.prototype={toJSON(Aa){return wd(this.root,Aa||0)},mark(Aa,Sa,qb){Sa=Sa||this.root.items[0];Aa=Vf(Aa,Sa);Sa.items[qb]=Aa;Aa.zindex&&(Aa.group.zdirty=!0);return Aa}};ie.prototype={initialize(Aa,Sa,qb){this._el=Aa;this._obj=qb||null;return this.origin(Sa)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(Aa){return arguments.length?(this._origin=Aa||[0,0],this):this._origin.slice()},scene(Aa){if(!arguments.length)return this._scene;this._scene=Aa;return this},on(){},
off(){},_handlerIndex(Aa,Sa,qb){for(let rb=Aa?Aa.length:0;0<=--rb;)if(Aa[rb].type===Sa&&(!qb||Aa[rb].handler===qb))return rb;return-1},handlers(Aa){const Sa=this._handlers,qb=[];if(Aa)qb.push(...Sa[this.eventName(Aa)]);else for(const rb in Sa)qb.push(...Sa[rb]);return qb},eventName(Aa){const Sa=Aa.indexOf(".");return 0>Sa?Aa:Aa.slice(0,Sa)},handleHref(Aa,Sa,qb){this._loader.sanitize(qb,{context:"href"}).then(rb=>{const kc=new MouseEvent(Aa.type,Aa),Rc=yf(null,"a");for(const gd in rb)Rc.setAttribute(gd,
rb[gd]);Rc.dispatchEvent(kc)}).catch(()=>{})},handleTooltip(Aa,Sa,qb){if(Sa&&null!=Sa.tooltip){var rb=this.canvas(),kc=this._origin,Rc=Sa&&Sa.mark,gd;if(Rc&&(gd=nf[Rc.marktype]).tip){rb=Uc(Aa,rb);rb[0]-=kc[0];for(rb[1]-=kc[1];Sa=Sa.mark.group;)rb[0]-=Sa.x||0,rb[1]-=Sa.y||0;Sa=gd.tip(Rc.items,rb)}this._tooltip.call(this._obj,this,Aa,Sa,qb&&Sa&&Sa.tooltip||null)}},getItemBoundingClientRect(Aa){var Sa=this.canvas();if(Sa){var qb=Sa.getBoundingClientRect(),rb=this._origin,kc=Aa.bounds;Sa=kc.width();var Rc=
kc.height(),gd=kc.x1+rb[0]+qb.left;for(qb=kc.y1+rb[1]+qb.top;Aa.mark&&(Aa=Aa.mark.group);)gd+=Aa.x||0,qb+=Aa.y||0;return{x:gd,y:qb,width:Sa,height:Rc,left:gd,top:qb,right:gd+Sa,bottom:qb+Rc}}}};Vd.prototype={initialize(Aa,Sa,qb,rb,kc){this._el=Aa;return this.resize(Sa,qb,rb,kc)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(Aa){if(0===arguments.length)return this._bgcolor;this._bgcolor=Aa;return this},resize(Aa,Sa,qb,rb){this._width=Aa;this._height=Sa;this._origin=
qb||[0,0];this._scale=rb||1;return this},dirty(){},render(Aa){const Sa=this;Sa._call=function(){Sa._render(Aa)};Sa._call();Sa._call=null;return Sa},_render(){},renderAsync(Aa){const Sa=this.render(Aa);return this._ready?this._ready.then(()=>Sa):Promise.resolve(Sa)},_load(Aa,Sa){var qb=this;Aa=qb._loader[Aa](Sa);if(!qb._ready){const rb=qb._call;qb._ready=qb._loader.ready().then(kc=>{kc&&rb();qb._ready=null})}return Aa},sanitizeURL(Aa){return this._load("sanitizeURL",Aa)},loadImage(Aa){return this._load("loadImage",
Aa)}};k.inherits(Qd,ie,{initialize(Aa,Sa,qb){this._canvas=Aa&&Ff(Aa,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(rb=>se(this,rb));return ie.prototype.initialize.call(this,Aa,Sa,qb)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(Aa){this.fire("mousewheel",
Aa)},mousemove:qf("mousemove","mouseover","mouseout"),dragover:qf("dragover","dragenter","dragleave"),mouseout:ua("mouseout"),dragleave:ua("dragleave"),mousedown(Aa){this._down=this._active;this.fire("mousedown",Aa)},click(Aa){this._down===this._active&&(this.fire("click",Aa),this._down=null)},touchstart(Aa){this._touch=this.pickEvent(Aa.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",Aa,!0)},touchmove(Aa){this.fire("touchmove",Aa,!0)},touchend(Aa){this.fire("touchend",
Aa,!0);this._touch=null},fire(Aa,Sa,qb){qb=qb?this._touch:this._active;const rb=this._handlers[Aa];Sa.vegaType=Aa;"click"===Aa&&qb&&qb.href?this.handleHref(Sa,qb,qb.href):("mousemove"===Aa||"mouseout"===Aa)&&this.handleTooltip(Sa,qb,"mouseout"!==Aa);if(rb)for(let kc=0,Rc=rb.length;kc<Rc;++kc)rb[kc].handler.call(this._obj,Sa,qb)},on(Aa,Sa){const qb=this.eventName(Aa),rb=this._handlers;0>this._handlerIndex(rb[qb],Aa,Sa)&&(se(this,Aa),(rb[qb]||(rb[qb]=[])).push({type:Aa,handler:Sa}));return this},off(Aa,
Sa){var qb=this.eventName(Aa);qb=this._handlers[qb];Aa=this._handlerIndex(qb,Aa,Sa);0<=Aa&&qb.splice(Aa,1);return this},pickEvent(Aa){Aa=Uc(Aa,this._canvas);const Sa=this._origin;return this.pick(this._scene,Aa[0],Aa[1],Aa[0]-Sa[0],Aa[1]-Sa[1])},pick(Aa,Sa,qb,rb,kc){const Rc=this.context();return nf[Aa.marktype].pick.call(this,Rc,Aa,Sa,qb,rb,kc)}});var yg="undefined"!==typeof window?window.devicePixelRatio||1:1;const Ng=Vd.prototype;k.inherits(vb,Vd,{initialize(Aa,Sa,qb,rb,kc,Rc){this._options=Rc||
{};this._canvas=this._options.externalContext?null:p.canvas(1,1,this._options.type);Aa&&this._canvas&&(Gb(Aa,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Ng.initialize.call(this,Aa,Sa,qb,rb,kc)},resize(Aa,Sa,qb,rb){Ng.resize.call(this,Aa,Sa,qb,rb);if(this._canvas){Aa=this._canvas;Sa=this._width;qb=this._height;rb=this._origin;var kc=this._scale,Rc=this._options.context;const Ad="undefined"!==typeof HTMLElement&&Aa instanceof HTMLElement&&null!=Aa.parentNode,Xc=Aa.getContext("2d");
kc=Ad?yg:kc;Aa.width=Sa*kc;Aa.height=qb*kc;for(var gd in Rc)Xc[gd]=Rc[gd];Ad&&1!==kc&&(Aa.style.width=Sa+"px",Aa.style.height=qb+"px");Xc.pixelRatio=kc;Xc.setTransform(kc,0,0,kc,kc*rb[0],kc*rb[1])}else(gd=this._options.externalContext)||k.error("CanvasRenderer is missing a valid canvas or context"),gd.scale(this._scale,this._scale),gd.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?
this._canvas.getContext("2d"):null)},dirty(Aa){const Sa=this._tempb.clear().union(Aa.bounds);for(Aa=Aa.mark.group;Aa;)Sa.translate(Aa.x||0,Aa.y||0),Aa=Aa.mark.group;this._dirty.union(Sa)},_render(Aa){const Sa=this.context(),qb=this._origin,rb=this._width,kc=this._height,Rc=this._dirty;var gd=(new jd).set(0,0,rb,kc).translate(-qb[0],-qb[1]);Sa.save();this._redraw||Rc.empty()?gd=(this._redraw=!1,gd.expand(1)):(gd=gd.intersect(Rc),gd.expand(1).round(),Sa.pixelRatio%1&&gd.scale(Sa.pixelRatio).round().scale(1/
Sa.pixelRatio),gd.translate(-(qb[0]%1),-(qb[1]%1)),Sa.beginPath(),Sa.rect(gd.x1,gd.y1,gd.width(),gd.height()),Sa.clip());this.clear(-qb[0],-qb[1],rb,kc);this.draw(Sa,Aa,gd);Sa.restore();Rc.clear();return this},draw(Aa,Sa,qb){const rb=nf[Sa.marktype];if(Sa.clip){var kc=Sa.clip;Aa.save();k.isFunction(kc)?(Aa.beginPath(),kc(Aa),Aa.clip()):Se(Aa,Sa.group)}rb.draw.call(this,Aa,Sa,qb);Sa.clip&&Aa.restore()},clear(Aa,Sa,qb,rb){const kc=this._options,Rc=this.context();"pdf"===kc.type||kc.externalContext||
Rc.clearRect(Aa,Sa,qb,rb);null!=this._bgcolor&&(Rc.fillStyle=this._bgcolor,Rc.fillRect(Aa,Sa,qb,rb))}});const Sg=(Aa,Sa)=>qb=>{let rb=qb.target.__data__;rb=Array.isArray(rb)?rb[0]:rb;qb.vegaType=qb.type;Sa.call(Aa._obj,qb,rb)};k.inherits(Oa,ie,{initialize(Aa,Sa,qb){let rb=this._svg;rb&&(rb.removeEventListener("click",this._hrefHandler),rb.removeEventListener("mousemove",this._tooltipHandler),rb.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=rb=Aa&&Ff(Aa,"svg"))rb.addEventListener("click",
this._hrefHandler),rb.addEventListener("mousemove",this._tooltipHandler),rb.addEventListener("mouseout",this._tooltipHandler);return ie.prototype.initialize.call(this,Aa,Sa,qb)},canvas(){return this._svg},on(Aa,Sa){const qb=this.eventName(Aa),rb=this._handlers;0>this._handlerIndex(rb[qb],Aa,Sa)&&(Aa={type:Aa,handler:Sa,listener:Sg(this,Sa)},(rb[qb]||(rb[qb]=[])).push(Aa),this._svg&&this._svg.addEventListener(qb,Aa.listener));return this},off(Aa,Sa){const qb=this.eventName(Aa),rb=this._handlers[qb];
Aa=this._handlerIndex(rb,Aa,Sa);0<=Aa&&(this._svg&&this._svg.removeEventListener(qb,rb[Aa].listener),rb.splice(Aa,1));return this}});const Qf=(Aa,Sa,qb)=>({role:Aa,["aria-roledescription"]:Sa,["aria-label"]:qb||void 0}),pg=k.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),lf={axis:{desc:"axis",caption:function(Aa){var Sa=Aa.datum;const qb=Aa.orient,rb=Sa.title?xb(Aa):null;var kc=Aa.context;
Sa=kc.scales[Sa.scale].value;kc=kc.dataflow.locale();const Rc=Sa.type;return`${"left"===qb||"right"===qb?"Y":"X"}-axis`+(rb?` titled '${rb}'`:"")+` for a ${u.isDiscrete(Rc)?"discrete":Rc} scale`+` with ${u.domainCaption(kc,Sa,Aa)}`}},legend:{desc:"legend",caption:function(Aa){var Sa=Aa.datum;const qb=Sa.title?xb(Aa):null,rb=`${Sa.type||""} legend`.trim();var kc=Sa.scales;Sa=Object.keys(kc);var Rc=Aa.context;kc=Rc.scales[kc[Sa[0]]].value;Rc=Rc.dataflow.locale();return(rb.length?rb[0].toUpperCase()+
rb.slice(1):rb)+(qb?` titled '${qb}'`:"")+` for ${Fb(Sa)}`+` with ${u.domainCaption(Rc,kc,Aa)}`}},"title-text":{desc:"title",caption:Aa=>`Title text '${k.array(Aa.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:Aa=>`Subtitle text '${k.array(Aa.text).join(" ")}'`}},Nf={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},wh=Aa=>(Aa+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),qg=Aa=>yc(ac(),Aa)+"",Oh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Jh={blend:"mix-blend-mode"},qh={fill:"none","stroke-miterlimit":10},ig=Vc.xmlns,zi=Vd.prototype;k.inherits(Zc,Vd,{initialize(Aa,Sa,qb,rb,kc){this._defs={};this._clearDefs();Aa&&(this._svg=Oe(Aa,0,"svg",ig),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",ig),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Vc["xmlns:xlink"]),this._svg.setAttribute("version",Vc.version),this._svg.setAttribute("class","marks"),Gb(Aa,1),this._root=Oe(this._svg,0,"g",ig),mc(this._root,qh),Gb(this._svg,1));this.background(this._bgcolor);return zi.initialize.call(this,Aa,Sa,qb,rb,kc)},background(Aa){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",Aa);return zi.background.apply(this,arguments)},resize(Aa,Sa,qb,rb){zi.resize.call(this,
Aa,Sa,qb,rb);this._svg&&(mc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const Aa=this._svg,Sa=this._bgcolor;if(!Aa)return null;let qb;Sa&&(Aa.removeAttribute("style"),qb=Oe(Aa,0,"rect",ig),mc(qb,{width:this._width,height:this._height,fill:Sa}));const rb=qg(Aa);Sa&&(Aa.removeChild(qb),this._svg.style.setProperty("background-color",
Sa));return rb},_render(Aa){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,Aa),Gb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(Aa){Aa.dirty!==this._dirtyID&&(Aa.dirty=this._dirtyID,this._dirty.push(Aa))},isDirty(Aa){return this._dirtyAll||!Aa._svg||!Aa._svg.ownerSVGElement||Aa.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const Aa=this._dirty;if(!Aa.length||!this._dirtyID)return!0;const Sa=++this._dirtyID;let qb;let rb,kc,Rc,gd;
Rc=0;for(gd=Aa.length;Rc<gd;++Rc){qb=Aa[Rc];var Ad=qb.mark;Ad.marktype!==rb&&(rb=Ad.marktype,kc=nf[rb]);Ad.zdirty&&Ad.dirty!==Sa&&(this._dirtyAll=!1,ad(qb,Sa),Ad.items.forEach(Xc=>{Xc.dirty=Sa}));Ad.zdirty||(qb.exit?(kc.nested&&Ad.items.length?(Ad=Ad.items[0],Ad._svg&&this._update(kc,Ad._svg,Ad)):qb._svg&&(Ad=qb._svg.parentNode)&&Ad.removeChild(qb._svg),qb._svg=null):(qb=kc.nested?Ad.items[0]:qb,qb._update!==Sa&&(qb._svg&&qb._svg.ownerSVGElement?this._update(kc,qb._svg,qb):(this._dirtyAll=!1,ad(qb,
Sa)),qb._update=Sa)))}return!this._dirtyAll},mark(Aa,Sa,qb){if(!this.isDirty(Sa))return Sa._svg;const rb=this._svg,kc=nf[Sa.marktype];var Rc=!1===Sa.interactive?"none":null;const gd="g"===kc.tag,Ad=Ec(Sa,Aa,qb,"g",rb);Ad.setAttribute("class",Wb(Sa));Aa=la(Sa);for(const Ed in Aa)Qc(Ad,Ed,Aa[Ed]);gd||Qc(Ad,"pointer-events",Rc);Qc(Ad,"clip-path",Sa.clip?rc(this,Sa,Sa.group):null);let Xc=null,Sd=0;Rc=Ed=>{const De=this.isDirty(Ed),Af=Ec(Ed,Ad,Xc,kc.tag,rb);De&&(this._update(kc,Af,Ed),gd&&Lc(this,Af,Ed));
Xc=Af;++Sd};kc.nested?Sa.items.length&&Rc(Sa.items[0]):dd(Sa,Rc);Gb(Ad,Sd);return Ad},_update(Aa,Sa,qb){ph=Sa;Yg=Sa.__values__;ic(tc,qb);Aa.attr(tc,qb,this);const rb=Ti[Aa.type];rb&&rb.call(this,Aa,Sa,qb);ph&&this.style(ph,qb)},style(Aa,Sa){if(null!=Sa){for(const qb in Oh){let rb="font"===qb?Bf(Sa):Sa[qb];if(rb===Yg[qb])continue;const kc=Oh[qb];null==rb?Aa.removeAttribute(kc):(rb&&rb.gradient&&(rb=m(rb,this._defs.gradient,jb())),Aa.setAttribute(kc,rb+""));Yg[qb]=rb}for(const qb in Jh)Nc(Aa,Jh[qb],
Sa[qb])}},defs(){const Aa=this._svg,Sa=this._defs;let qb=Sa.el;var rb=0;for(var kc in Sa.gradient){qb||(Sa.el=qb=Oe(Aa,1,"defs",ig));var Rc=void 0;let Xc,Sd;var gd=qb,Ad=Sa.gradient[kc];"radial"===Ad.gradient?(Rc=Oe(gd,rb++,"pattern",ig),mc(Rc,{id:"p_"+Ad.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Rc=Oe(Rc,0,"rect",ig),mc(Rc,{width:1,height:1,fill:`url(${jb()}#${Ad.id})`}),gd=Oe(gd,rb++,"radialGradient",ig),mc(gd,{id:Ad.id,fx:Ad.x1,fy:Ad.y1,fr:Ad.r1,cx:Ad.x2,
cy:Ad.y2,r:Ad.r2})):(gd=Oe(gd,rb++,"linearGradient",ig),mc(gd,{id:Ad.id,x1:Ad.x1,x2:Ad.x2,y1:Ad.y1,y2:Ad.y2}));Sd=0;for(Xc=Ad.stops.length;Sd<Xc;++Sd)Rc=Oe(gd,Sd,"stop",ig),Rc.setAttribute("offset",Ad.stops[Sd].offset),Rc.setAttribute("stop-color",Ad.stops[Sd].color);Gb(gd,Sd)}for(const Xc in Sa.clipping)qb||(Sa.el=qb=Oe(Aa,1,"defs",ig)),gd=qb,Ad=Sa.clipping[Xc],kc=rb,gd=Oe(gd,kc,"clipPath",ig),gd.setAttribute("id",Ad.id),Ad.path?(rb=Oe(gd,0,"path",ig),rb.setAttribute("d",Ad.path)):(rb=Oe(gd,0,"rect",
ig),mc(rb,{x:0,y:0,width:Ad.width,height:Ad.height})),Gb(gd,1),rb=kc+1;qb&&(0===rb?(Aa.removeChild(qb),Sa.el=null):Gb(qb,rb))},_clearDefs(){const Aa=this._defs;Aa.gradient={};Aa.clipping={}}});let ph=null,Yg=null;const Ti={group(Aa,Sa,qb){const rb=ph=Sa.childNodes[2];Yg=rb.__values__;Aa.foreground(tc,qb,this);Yg=Sa.__values__;ph=Sa.childNodes[1];Aa.content(tc,qb,this);Sa=ph=Sa.childNodes[0];Aa.background(tc,qb,this);Aa=!1===qb.mark.interactive?"none":null;Aa!==Yg.events&&(Qc(rb,"pointer-events",Aa),
Qc(Sa,"pointer-events",Aa),Yg.events=Aa);qb.strokeForeground&&qb.stroke?(Aa=qb.fill,Qc(rb,"display",null),this.style(Sa,qb),Qc(Sa,"stroke",null),Aa&&(qb.fill=null),Yg=rb.__values__,this.style(rb,qb),Aa&&(qb.fill=Aa),ph=null):Qc(rb,"display","none")},image(Aa,Sa,qb){!1===qb.smooth?(Nc(Sa,"image-rendering","optimizeSpeed"),Nc(Sa,"image-rendering","pixelated")):Nc(Sa,"image-rendering",null)},text(Aa,Sa,qb){Aa=Yd(qb);let rb,kc,Rc;k.isArray(Aa)?(rb=Aa.map(gd=>Ee(qb,gd)),Aa=rb.join("\n"),Aa!==Yg.text&&
(Gb(Sa,0),kc=Sa.ownerDocument,Rc=Ud(qb),rb.forEach((gd,Ad)=>{const Xc=yf(kc,"tspan",ig);Xc.__data__=qb;Xc.textContent=gd;Ad&&(Xc.setAttribute("x",0),Xc.setAttribute("dy",Rc));Sa.appendChild(Xc)}),Yg.text=Aa)):(rb=Ee(qb,Aa),rb!==Yg.text&&(Sa.textContent=rb,Yg.text=rb));Qc(Sa,"font-family",Bf(qb));Qc(Sa,"font-size",Od(qb)+"px");Qc(Sa,"font-style",qb.fontStyle);Qc(Sa,"font-variant",qb.fontVariant);Qc(Sa,"font-weight",qb.fontWeight)}};k.inherits(Ib,Vd,{svg(){return this._text},_render(Aa){const Sa=ac();
Sa.open("svg",k.extend({},Vc,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const qb=this._bgcolor;qb&&"transparent"!==qb&&"none"!==qb&&Sa.open("rect",{width:this._width,height:this._height,fill:qb}).close();Sa.open("g",qh,{transform:"translate("+this._origin+")"});this.mark(Sa,Aa);Sa.close();this.defs(Sa);this._text=Sa.close()+"";return this},mark(Aa,Sa){const qb=nf[Sa.marktype],rb=qb.tag,kc=[ic,qb.attr];Aa.open("g",{"class":Wb(Sa),
"clip-path":Sa.clip?rc(this,Sa,Sa.group):null},la(Sa),{"pointer-events":"g"!==rb&&!1===Sa.interactive?"none":null});const Rc=gd=>{const Ad=this.href(gd);Ad&&Aa.open("a",Ad);Aa.open(rb,this.attr(Sa,gd,kc,"g"!==rb?rb:null));if("text"===rb){var Xc=Yd(gd);if(k.isArray(Xc)){var Sd={x:0,dy:Ud(gd)};for(var Ed=0;Ed<Xc.length;++Ed)Aa.open("tspan",Ed?Sd:null).text(Ee(gd,Xc[Ed])).close()}else Aa.text(Ee(gd,Xc))}else"g"===rb&&(Xc=gd.strokeForeground,Sd=gd.fill,Ed=gd.stroke,Xc&&Ed&&(gd.stroke=null),Aa.open("path",
this.attr(Sa,gd,qb.background,"bgrect")).close(),Aa.open("g",this.attr(Sa,gd,qb.content)),dd(gd,De=>this.mark(Aa,De)),Aa.close(),Xc&&Ed?(Sd&&(gd.fill=null),gd.stroke=Ed,Aa.open("path",this.attr(Sa,gd,qb.foreground,"bgrect")).close(),Sd&&(gd.fill=Sd)):Aa.open("path",this.attr(Sa,gd,qb.foreground,"bgfore")).close());Aa.close();Ad&&Aa.close()};qb.nested?Sa.items&&Sa.items.length&&Rc(Sa.items[0]):dd(Sa,Rc);return Aa.close()},href(Aa){const Sa=Aa.href;if(Sa){if(Aa=this._hrefs&&this._hrefs[Sa])return Aa;
this.sanitizeURL(Sa).then(qb=>{qb["xlink:href"]=qb.href;qb.href=null;(this._hrefs||(this._hrefs={}))[Sa]=qb})}return null},attr(Aa,Sa,qb,rb){const kc={},Rc=(gd,Ad,Xc,Sd)=>{kc[Sd||gd]=Ad};Array.isArray(qb)?qb.forEach(gd=>gd(Rc,Sa,this)):qb(Rc,Sa,this);rb&&Qb(kc,Sa,Aa,rb,this._defs);return kc},defs(Aa){var Sa=this._defs.gradient;const qb=this._defs.clipping;if(0!==Object.keys(Sa).length+Object.keys(qb).length){Aa.open("defs");for(const kc in Sa){var rb=Sa[kc];const Rc=rb.stops;"radial"===rb.gradient?
(Aa.open("pattern",{id:"p_"+kc,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Aa.open("rect",{width:"1",height:"1",fill:"url(#"+kc+")"}).close(),Aa.close(),Aa.open("radialGradient",{id:kc,fx:rb.x1,fy:rb.y1,fr:rb.r1,cx:rb.x2,cy:rb.y2,r:rb.r2})):Aa.open("linearGradient",{id:kc,x1:rb.x1,x2:rb.x2,y1:rb.y1,y2:rb.y2});for(rb=0;rb<Rc.length;++rb)Aa.open("stop",{offset:Rc[rb].offset,"stop-color":Rc[rb].color}).close();Aa.close()}for(const kc in qb)Sa=qb[kc],Aa.open("clipPath",
{id:kc}),Sa.path?Aa.open("path",{d:Sa.path}).close():Aa.open("rect",{x:0,y:0,width:Sa.width,height:Sa.height}).close(),Aa.close();Aa.close()}}});const xh={};xh.canvas=xh.png={renderer:vb,headless:vb,handler:Qd};xh.svg={renderer:Zc,headless:Ib,handler:Oa};xh.none={};const Ph=new jd;v.Bounds=jd;v.CanvasHandler=Qd;v.CanvasRenderer=vb;v.Gradient=function(Aa,Sa){var qb=[],rb;return rb={gradient:"linear",x1:Aa?Aa[0]:0,y1:Aa?Aa[1]:0,x2:Sa?Sa[0]:1,y2:Sa?Sa[1]:0,stops:qb,stop:function(kc,Rc){qb.push({offset:kc,
color:Rc});return rb}}};v.GroupItem=tb;v.Handler=ie;v.Item=Bb;v.Marks=nf;v.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};v.Renderer=Vd;v.ResourceLoader=dc;v.SVGHandler=Oa;v.SVGRenderer=Zc;v.SVGStringRenderer=Ib;v.Scenegraph=hf;v.boundClip=function(Aa){const Sa=Aa.clip;if(k.isFunction(Sa))Sa(hc(Ph.clear()));else if(Sa)Ph.set(0,0,Aa.group.width,Aa.group.height);else return;Aa.bounds.intersect(Ph)};v.boundContext=hc;v.boundItem=sc;v.boundMark=cd;v.boundStroke=Yb;v.domChild=Oe;v.domClear=
Gb;v.domCreate=yf;v.domFind=Ff;v.font=xe;v.fontFamily=Bf;v.fontSize=Od;v.intersect=function(Aa,Sa,qb){const rb=[];Sa=(new jd).union(Sa);const kc=Aa.marktype;return kc?Rb(Aa,Sa,qb,rb):"group"===kc?na(Aa,Sa,qb,rb):k.error("Intersect scene must be mark node or group item.")};v.intersectBoxLine=Ha;v.intersectPath=Yc;v.intersectPoint=Hd;v.intersectRule=Ca;v.lineHeight=Ud;v.markup=ac;v.multiLineOffset=function(Aa){const Sa=Yd(Aa);return(k.isArray(Sa)?Sa.length-1:0)*Ud(Aa)};v.path=g;v.pathCurves=Ea;v.pathEqual=
Jb;v.pathParse=Ua;v.pathRectangle=Eb;v.pathRender=ta;v.pathSymbols=oa;v.pathTrail=Zb;v.point=Uc;v.renderModule=function(Aa,Sa){Aa=String(Aa||"").toLowerCase();return 1<arguments.length?(xh[Aa]=Sa,this):xh[Aa]};v.resetSVGClipId=function(){sf=1};v.resetSVGDefIds=function(){sf=1;Lb=0};v.sceneEqual=lb;v.sceneFromJSON=Bd;v.scenePickVisit=ld;v.sceneToJSON=wd;v.sceneVisit=dd;v.sceneZOrder=Wc;v.serializeXML=qg;v.textMetrics=Je;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[29]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(23),z(28),z(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega))})(this,function(v,k,p,A){function u(ma){k.Transform.call(this,null,ma)}function m(ma,Ea,Ua){return Ea(ma.bounds.clear(),ma,Ua)}function l(ma){k.Transform.call(this,
0,ma)}function f(ma){return ma._signals[":vega_identifier:"]||(ma._signals[":vega_identifier:"]=ma.add(0))}function g(ma){k.Transform.call(this,null,ma)}function d(ma){const Ea=ma.groups;ma=ma.parent;return Ea&&1===Ea.size?Ea.get(Object.keys(Ea.object)[0]):Ea&&ma?Ea.lookup(ma):null}function b(ma){k.Transform.call(this,null,ma)}function c(ma){k.Transform.call(this,null,ma)}function a(ma,Ea,Ua){return ma[Ea]===Ua?0:(ma[Ea]=Ua,1)}function e(ma){ma=ma.items[0].orient;return"left"===ma||"right"===ma}function t(ma,
Ea,Ua,ab){Ea=Ea.items[0];var ta=Ea.datum,Na=null!=Ea.translate?Ea.translate:.5,oa=Ea.orient,aa=+ta.grid;var ka=[ta.ticks?aa++:-1,ta.labels?aa++:-1,aa+ +ta.domain];aa=Ea.range;var Ia=Ea.offset,Xa=Ea.position,Ya=Ea.minExtent,mb=Ea.maxExtent;ta=ta.title&&Ea.items[ka[2]].items[0];var ib=Ea.titlePadding,Eb=Ea.bounds,Zb=ta&&p.multiLineOffset(ta),Gc;va.clear().union(Eb);Eb.clear();-1<(Gc=ka[0])&&Eb.union(Ea.items[Gc].bounds);-1<(Gc=ka[1])&&Eb.union(Ea.items[Gc].bounds);switch(oa){case "top":Ua=Xa||0;ab=
-Ia;Ya=Math.max(Ya,Math.min(mb,-Eb.y1));Eb.add(0,-Ya).add(aa,0);ta&&y(ma,ta,Ya,ib,Zb,0,-1,Eb);break;case "left":Ua=-Ia;ab=Xa||0;Ya=Math.max(Ya,Math.min(mb,-Eb.x1));Eb.add(-Ya,0).add(0,aa);ta&&y(ma,ta,Ya,ib,Zb,1,-1,Eb);break;case "right":Ua+=Ia;ab=Xa||0;Ya=Math.max(Ya,Math.min(mb,Eb.x2));Eb.add(0,0).add(Ya,aa);ta&&y(ma,ta,Ya,ib,Zb,1,1,Eb);break;case "bottom":Ua=Xa||0;ab+=Ia;Ya=Math.max(Ya,Math.min(mb,Eb.y2));Eb.add(0,0).add(aa,Ya);ta&&y(ma,ta,Ya,ib,0,0,1,Eb);break;default:Ua=Ea.x,ab=Ea.y}p.boundStroke(Eb.translate(Ua,
ab),Ea);a(Ea,"x",Ua+Na)|a(Ea,"y",ab+Na)&&(Ea.bounds=va,ma.dirty(Ea),Ea.bounds=Eb,ma.dirty(Ea));return Ea.mark.bounds.clear().union(Eb)}function y(ma,Ea,Ua,ab,ta,Na,oa,aa){const ka=Ea.bounds;Ea.auto&&(Ua=oa*(Ua+ta+ab),ta=ab=0,ma.dirty(Ea),Na?ab=(Ea.x||0)-(Ea.x=Ua):ta=(Ea.y||0)-(Ea.y=Ua),Ea.mark.bounds.clear().union(ka.translate(-ab,-ta)),ma.dirty(Ea));aa.union(ka)}function q(ma){return(new p.Bounds).set(0,0,ma.width||0,ma.height||0)}function E(ma){const Ea=ma.bounds.clone();return Ea.empty()?Ea.set(0,
0,0,0):Ea.translate(-(ma.x||0),-(ma.y||0))}function F(ma,Ea,Ua){ma=A.isObject(ma)?ma[Ea]:ma;return null!=ma?ma:void 0!==Ua?Ua:0}function w(ma){return 0>ma?Math.ceil(-ma):0}function D(ma,Ea,Ua){var ab=!Ua.nodirty,ta="flush"===Ua.bounds?q:E,Na=va.set(0,0,0,0),oa=F(Ua.align,"column"),aa=F(Ua.align,"row"),ka=F(Ua.padding,"column"),Ia=F(Ua.padding,"row"),Xa=Ua.columns||Ea.length,Ya=0>=Xa?1:Math.ceil(Ea.length/Xa),mb=Ea.length,ib=Array(mb),Eb=Array(Xa),Zb=0,Gc=Array(mb),xc=Array(Ya),Ic=0,rc=Array(mb),jd=
Array(mb),Bb=Array(mb),tb,dc,Yb;for(tb=0;tb<Xa;++tb)Eb[tb]=0;for(tb=0;tb<Ya;++tb)xc[tb]=0;for(tb=0;tb<mb;++tb){var hc=Ea[tb];var vc=Bb[tb]=ta(hc);hc.x=hc.x||0;rc[tb]=0;hc.y=hc.y||0;jd[tb]=0;hc=tb%Xa;var qc=~~(tb/Xa);Zb=Math.max(Zb,dc=Math.ceil(vc.x2));Ic=Math.max(Ic,Yb=Math.ceil(vc.y2));Eb[hc]=Math.max(Eb[hc],dc);xc[qc]=Math.max(xc[qc],Yb);ib[tb]=ka+w(vc.x1);Gc[tb]=Ia+w(vc.y1);ab&&ma.dirty(Ea[tb])}for(tb=0;tb<mb;++tb)0===tb%Xa&&(ib[tb]=0),tb<Xa&&(Gc[tb]=0);if("each"===oa)for(hc=1;hc<Xa;++hc){ta=0;
for(tb=hc;tb<mb;tb+=Xa)ta<ib[tb]&&(ta=ib[tb]);for(tb=hc;tb<mb;tb+=Xa)ib[tb]=ta+Eb[hc-1]}else if("all"===oa){for(tb=ta=0;tb<mb;++tb)tb%Xa&&ta<ib[tb]&&(ta=ib[tb]);for(tb=0;tb<mb;++tb)tb%Xa&&(ib[tb]=ta+Zb)}else for(oa=!1,hc=1;hc<Xa;++hc)for(tb=hc;tb<mb;tb+=Xa)ib[tb]+=Eb[hc-1];if("each"===aa)for(qc=1;qc<Ya;++qc){ta=0;tb=qc*Xa;for(hc=tb+Xa;tb<hc;++tb)ta<Gc[tb]&&(ta=Gc[tb]);for(tb=qc*Xa;tb<hc;++tb)Gc[tb]=ta+xc[qc-1]}else if("all"===aa){ta=0;for(tb=Xa;tb<mb;++tb)ta<Gc[tb]&&(ta=Gc[tb]);for(tb=Xa;tb<mb;++tb)Gc[tb]=
ta+Ic}else for(aa=!1,qc=1;qc<Ya;++qc)for(tb=qc*Xa,hc=tb+Xa;tb<hc;++tb)Gc[tb]+=xc[qc-1];for(tb=qc=0;tb<mb;++tb)qc=ib[tb]+(tb%Xa?qc:0),rc[tb]+=qc-Ea[tb].x;for(hc=0;hc<Xa;++hc)for(ib=0,tb=hc;tb<mb;tb+=Xa)ib+=Gc[tb],jd[tb]+=ib-Ea[tb].y;if(oa&&F(Ua.center,"column")&&1<Ya)for(tb=0;tb<mb;++tb)vc="all"===oa?Zb:Eb[tb%Xa],qc=vc-Bb[tb].x2-Ea[tb].x-rc[tb],0<qc&&(rc[tb]+=qc/2);if(aa&&F(Ua.center,"row")&&1!==Xa)for(tb=0;tb<mb;++tb)vc="all"===aa?Ic:xc[~~(tb/Xa)],ib=vc-Bb[tb].y2-Ea[tb].y-jd[tb],0<ib&&(jd[tb]+=ib/
2);for(tb=0;tb<mb;++tb)Na.union(Bb[tb].translate(rc[tb],jd[tb]));qc=F(Ua.anchor,"x");ib=F(Ua.anchor,"y");switch(F(Ua.anchor,"column")){case "end":qc-=Na.width();break;case "middle":qc-=Na.width()/2}switch(F(Ua.anchor,"row")){case "end":ib-=Na.height();break;case "middle":ib-=Na.height()/2}qc=Math.round(qc);ib=Math.round(ib);Na.clear();for(tb=0;tb<mb;++tb)Ea[tb].mark.bounds.clear();for(tb=0;tb<mb;++tb)hc=Ea[tb],hc.x+=rc[tb]+=qc,hc.y+=jd[tb]+=ib,Na.union(hc.mark.bounds.union(hc.bounds.translate(rc[tb],
jd[tb]))),ab&&ma.dirty(hc);return Na}function G(ma,Ea){return"x1"===Ea?ma.x||0:"y1"===Ea?ma.y||0:"x2"===Ea?(ma.x||0)+(ma.width||0):"y2"===Ea?(ma.y||0)+(ma.height||0):void 0}function L(ma,Ea){return ma.bounds[Ea]}function O(ma,Ea,Ua,ab,ta,Na,oa,aa,ka,Ia,Xa,Ya,mb,ib){var Eb=Ua.length,Zb=ab=0,Gc,xc;if(!Eb)return ab;for(Gc=Xa;Gc<Eb;Gc+=Ya)Ua[Gc]&&(ab=oa(ab,ka(Ua[Gc],Ia)));if(!Ea.length)return ab;Ea.length>ta&&(ma.warn("Grid headers exceed limit: "+ta),Ea=Ea.slice(0,ta));ab+=Na;ta=0;for(Na=Ea.length;ta<
Na;++ta)ma.dirty(Ea[ta]),Ea[ta].mark.bounds.clear();Gc=Xa;ta=0;for(Na=Ea.length;ta<Na;++ta,Gc+=Ya){ka=Ea[ta];Xa=ka.mark.bounds;for(Eb=Gc;0<=Eb&&null==(xc=Ua[Eb]);Eb-=mb);if(aa){Eb=null==ib?xc.x:Math.round(xc.bounds.x1+ib*xc.bounds.width());var Ic=ab}else Eb=ab,Ic=null==ib?xc.y:Math.round(xc.bounds.y1+ib*xc.bounds.height());Xa.union(ka.bounds.translate(Eb-(ka.x||0),Ic-(ka.y||0)));ka.x=Eb;ka.y=Ic;ma.dirty(ka);Zb=oa(Zb,Xa[Ia])}return Zb}function V(ma,Ea,Ua,ab,ta,Na){if(Ea){ma.dirty(Ea);var oa=Ua;ab?
oa=Math.round(ta.x1+Na*ta.width()):Ua=Math.round(ta.y1+Na*ta.height());Ea.bounds.translate(oa-(Ea.x||0),Ua-(Ea.y||0));Ea.mark.bounds.clear().union(Ea.bounds);Ea.x=oa;Ea.y=Ua;ma.dirty(Ea)}}function S(ma,Ea){const Ua=ma[Ea]||{};return(ab,ta)=>null!=Ua[ab]?Ua[ab]:null!=ma[ab]?ma[ab]:ta}function ca(ma,Ea){let Ua=-Infinity;ma.forEach(ab=>{null!=ab.offset&&(Ua=Math.max(Ua,ab.offset))});return-Infinity<Ua?Ua:Ea}function ea(ma,Ea,Ua,ab,ta,Na,oa){const aa=S(Ua,Ea);Ua=ca(ma,aa("offset",0));const ka=aa("anchor",
"start"),Ia="end"===ka?1:"middle"===ka?.5:0;ma={align:"each",bounds:aa("bounds","flush"),columns:"vertical"===aa("direction")?1:ma.length,padding:aa("margin",8),center:aa("center"),nodirty:!0};switch(Ea){case "left":ma.anchor={x:Math.floor(ab.x1)-Ua,column:"end",y:Ia*(oa||ab.height()+2*ab.y1),row:ka};break;case "right":ma.anchor={x:Math.ceil(ab.x2)+Ua,y:Ia*(oa||ab.height()+2*ab.y1),row:ka};break;case "top":ma.anchor={y:Math.floor(ta.y1)-Ua,row:"end",x:Ia*(Na||ta.width()+2*ta.x1),column:ka};break;
case "bottom":ma.anchor={y:Math.ceil(ta.y2)+Ua,x:Ia*(Na||ta.width()+2*ta.x1),column:ka};break;case "top-left":ma.anchor={x:Ua,y:Ua};break;case "top-right":ma.anchor={x:Na-Ua,y:Ua,column:"end"};break;case "bottom-left":ma.anchor={x:Ua,y:oa-Ua,row:"end"};break;case "bottom-right":ma.anchor={x:Na-Ua,y:oa-Ua,column:"end",row:"end"}}return ma}function T(ma,Ea){Ea=Ea.items[0];var Ua=Ea.datum,ab=Ea.orient,ta=Ea.bounds,Na=Ea.x,oa=Ea.y;Ea._bounds?Ea._bounds.clear().union(ta):Ea._bounds=ta.clone();ta.clear();
var aa=Ea.items[0].items[0];var ka=Ea.padding,Ia=ka-aa.x,Xa=ka-aa.y;if(Ea.datum.title){var Ya=Ea.items[1].items[0],mb=Ya.anchor,ib=Ea.titlePadding||0,Eb=ka-Ya.x,Zb=ka-Ya.y;switch(Ya.orient){case "left":Ia+=Math.ceil(Ya.bounds.width())+ib;break;case "right":case "bottom":break;default:Xa+=Ya.bounds.height()+ib}(Ia||Xa)&&r(ma,aa,Ia,Xa);switch(Ya.orient){case "left":Zb+=J(Ea,aa,Ya,mb,1,1);break;case "right":Eb+=J(Ea,aa,Ya,"end",0,0)+ib;Zb+=J(Ea,aa,Ya,mb,1,1);break;case "bottom":Eb+=J(Ea,aa,Ya,mb,0,0);
Zb+=J(Ea,aa,Ya,"end",-1,0,1)+ib;break;default:Eb+=J(Ea,aa,Ya,mb,0,0)}(Eb||Zb)&&r(ma,Ya,Eb,Zb);0>(Eb=Math.round(Ya.bounds.x1-ka))&&(r(ma,aa,-Eb,0),r(ma,Ya,-Eb,0))}else(Ia||Xa)&&r(ma,aa,Ia,Xa);ta=R(Ea,ta);ma=2*Ea.padding;aa=2*Ea.padding;ta.empty()||(ma=Math.ceil(ta.width()+ma),aa=Math.ceil(ta.height()+aa));"symbol"===Ua.type&&C(Ea.items[0].items[0].items[0].items);"none"!==ab&&(Ea.x=Na=0,Ea.y=oa=0);Ea.width=ma;Ea.height=aa;p.boundStroke(ta.set(Na,oa,Na+ma,oa+aa),Ea);Ea.mark.bounds.clear().union(ta);
return Ea}function R(ma,Ea){ma.items.forEach(Ua=>Ea.union(Ua.bounds));Ea.x1=ma.padding;Ea.y1=ma.padding;return Ea}function J(ma,Ea,Ua,ab,ta,Na,oa){const aa=Ua.datum.vgrad;ma=("symbol"===ma.datum.type||!Na&&aa||oa?Ea:Ea.items[0]).bounds[ta?"y2":"x2"]-ma.padding;Ea=aa&&Na?ma:0;Na=aa&&Na?0:ma;Ua=0>=ta?0:p.multiLineOffset(Ua);return Math.round("start"===ab?Ea:"end"===ab?Na-Ua:.5*(ma-Ua))}function r(ma,Ea,Ua,ab){Ea.x+=Ua;Ea.y+=ab;Ea.bounds.translate(Ua,ab);Ea.mark.bounds.translate(Ua,ab);ma.dirty(Ea)}
function C(ma){const Ea=ma.reduce((Ua,ab)=>{Ua[ab.column]=Math.max(ab.bounds.x2-ab.x,Ua[ab.column]||0);return Ua},{});ma.forEach(Ua=>{Ua.width=Ea[Ua.column];Ua.height=Ua.bounds.y2-Ua.y})}function N(ma,Ea,Ua,ab,ta){var Na=Ea.items[0],oa=Na.orient,aa=Na.anchor,ka=Na.offset,Ia=Na.padding,Xa=Na.items[0].items[0],Ya=Na.items[1]&&Na.items[1].items[0],mb="left"===oa||"right"===oa?ab:Ua,ib=0,Eb=Ua=0;"group"!==Na.frame?"left"===oa?(ib=ta.y2,mb=ta.y1):"right"===oa?(ib=ta.y1,mb=ta.y2):(ib=ta.x1,mb=ta.x2):"left"===
oa&&(ib=ab,mb=0);ab="start"===aa?ib:"end"===aa?mb:(ib+mb)/2;if(Ya&&Ya.text){switch(oa){case "top":case "bottom":Eb=Xa.bounds.height()+Ia;break;case "left":Ua=Xa.bounds.width()+Ia;break;case "right":Ua=-Xa.bounds.width()-Ia}va.clear().union(Ya.bounds);va.translate(Ua-(Ya.x||0),Eb-(Ya.y||0));a(Ya,"x",Ua)|a(Ya,"y",Eb)&&(ma.dirty(Ya),Ya.bounds.clear().union(va),Ya.mark.bounds.clear().union(va),ma.dirty(Ya));va.clear().union(Ya.bounds)}else va.clear();va.union(Xa.bounds);switch(oa){case "top":oa=ab;ta=
ta.y1-va.height()-ka;break;case "left":oa=ta.x1-va.width()-ka;ta=ab;break;case "right":oa=ta.x2+va.width()+ka;ta=ab;break;case "bottom":oa=ab;ta=ta.y2+ka;break;default:oa=Na.x,ta=Na.y}a(Na,"x",oa)|a(Na,"y",ta)&&(va.translate(oa,ta),ma.dirty(Na),Na.bounds.clear().union(va),Ea.bounds.clear().union(va),ma.dirty(Na));return Na.bounds}function U(ma){k.Transform.call(this,null,ma)}function ja(ma){return ma&&"legend-entry"!==ma.mark.role}function ba(ma,Ea,Ua){var ab=Ea.items,ta=Math.max(0,Ea.width||0),Na=
Math.max(0,Ea.height||0),oa=(new p.Bounds).set(0,0,ta,Na),aa=oa.clone(),ka=oa.clone(),Ia=[],Xa,Ya;var mb=0;for(Ya=ab.length;mb<Ya;++mb){var ib=ab[mb];switch(ib.role){case "axis":var Eb=e(ib)?aa:ka;Eb.union(t(ma,ib,ta,Na));break;case "title":var Zb=ib;break;case "legend":Ia.push(T(ma,ib));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":aa.union(ib.bounds);ka.union(ib.bounds);break;default:oa.union(ib.bounds)}}if(Ia.length){const Gc=
{};Ia.forEach(xc=>{Xa=xc.orient||"right";"none"!==Xa&&(Gc[Xa]||(Gc[Xa]=[])).push(xc)});for(const xc in Gc)ab=Gc[xc],D(ma,ab,ea(ab,xc,Ua.legends,aa,ka,ta,Na));Ia.forEach(xc=>{const Ic=xc.bounds;Ic.equals(xc._bounds)||(xc.bounds=xc._bounds,ma.dirty(xc),xc.bounds=Ic,ma.dirty(xc));if(Ua.autosize&&"fit"===Ua.autosize.type)switch(xc.orient){case "left":case "right":oa.add(Ic.x1,0).add(Ic.x2,0);break;case "top":case "bottom":oa.add(0,Ic.y1).add(0,Ic.y2)}else oa.union(Ic)})}oa.union(aa).union(ka);Zb&&oa.union(N(ma,
Zb,ta,Na,oa));Ea.clip&&oa.set(0,0,Ea.width||0,Ea.height||0);ia(ma,Ea,oa,Ua)}function ia(ma,Ea,Ua,ab){ab=ab.autosize||{};const ta=ab.type;if(!(1>ma._autosize)&&ta){var Na=ma._width,oa=ma._height,aa=Math.max(0,Ea.width||0),ka=Math.max(0,Math.ceil(-Ua.x1));Ea=Math.max(0,Ea.height||0);var Ia=Math.max(0,Math.ceil(-Ua.y1)),Xa=Math.max(0,Math.ceil(Ua.x2-aa));Ua=Math.max(0,Math.ceil(Ua.y2-Ea));if("padding"===ab.contains){const Ya=ma.padding();Na-=Ya.left+Ya.right;oa-=Ya.top+Ya.bottom}"none"===ta?(Ia=ka=0,
aa=Na,Ea=oa):"fit"===ta?(aa=Math.max(0,Na-ka-Xa),Ea=Math.max(0,oa-Ia-Ua)):"fit-x"===ta?(aa=Math.max(0,Na-ka-Xa),oa=Ea+Ia+Ua):"fit-y"===ta?(Na=aa+ka+Xa,Ea=Math.max(0,oa-Ia-Ua)):"pad"===ta&&(Na=aa+ka+Xa,oa=Ea+Ia+Ua);ma._resizeView(Na,oa,aa,Ea,[ka,Ia],ab.resize)}}A.inherits(u,k.Transform,{transform(ma,Ea){const Ua=Ea.dataflow,ab=ma.mark,ta=ab.marktype,Na=p.Marks[ta],oa=Na.bound;let aa=ab.bounds,ka;if(Na.nested)ab.items.length&&Ua.dirty(ab.items[0]),aa=m(ab,oa),ab.items.forEach(Ia=>{Ia.bounds.clear().union(aa)});
else if("group"===ta||ma.modified())switch(Ea.visit(Ea.MOD,Ia=>Ua.dirty(Ia)),aa.clear(),ab.items.forEach(Ia=>aa.union(m(Ia,oa))),ab.role){case "axis":case "legend":case "title":Ea.reflow()}else ka=Ea.changed(Ea.REM),Ea.visit(Ea.ADD,Ia=>{aa.union(m(Ia,oa))}),Ea.visit(Ea.MOD,Ia=>{ka=ka||aa.alignsWith(Ia.bounds);Ua.dirty(Ia);aa.union(m(Ia,oa))}),ka&&(aa.clear(),ab.items.forEach(Ia=>aa.union(Ia.bounds)));p.boundClip(ab);return Ea.modifies("bounds")}});l.Definition={type:"Identifier",metadata:{modifies:!0},
params:[{name:"as",type:"string",required:!0}]};A.inherits(l,k.Transform,{transform(ma,Ea){const Ua=f(Ea.dataflow),ab=ma.as;let ta=Ua.value;Ea.visit(Ea.ADD,Na=>Na[ab]=Na[ab]||++ta);Ua.set(this.value=ta);return Ea}});A.inherits(g,k.Transform,{transform(ma,Ea){let Ua=this.value;Ua||(Ua=Ea.dataflow.scenegraph().mark(ma.markdef,d(ma),ma.index),Ua.group.context=ma.context,ma.context.group||(ma.context.group=Ua.group),Ua.source=this.source,Ua.clip=ma.clip,Ua.interactive=ma.interactive,this.value=Ua);const ab=
"group"===Ua.marktype?p.GroupItem:p.Item;Ea.visit(Ea.ADD,ta=>ab.call(ta,Ua));if(ma.modified("clip")||ma.modified("interactive"))Ua.clip=ma.clip,Ua.interactive=!!ma.interactive,Ua.zdirty=!0,Ea.reflow();Ua.items=Ea.source;return Ea}});const za={parity:ma=>ma.filter((Ea,Ua)=>Ua%2?Ea.opacity=0:1),greedy:(ma,Ea)=>{let Ua;return ma.filter((ab,ta)=>ta&&Wa(Ua.bounds,ab.bounds,Ea)?ab.opacity=0:(Ua=ab,1))}},Wa=(ma,Ea,Ua)=>Ua>Math.max(Ea.x1-ma.x2,ma.x1-Ea.x2,Ea.y1-ma.y2,ma.y1-Ea.y2),hb=(ma,Ea)=>{for(var Ua=
1,ab=ma.length,ta=ma[0].bounds;Ua<ab;++Ua)if(Wa(ta,ta=ma[Ua].bounds,Ea))return!0},Ja=ma=>{ma=ma.bounds;return 1<ma.width()&&1<ma.height()},qa=(ma,Ea,Ua)=>{ma=ma.range();var ab=new p.Bounds;"top"===Ea||"bottom"===Ea?ab.set(ma[0],-Infinity,ma[1],Infinity):ab.set(-Infinity,ma[0],Infinity,ma[1]);ab.expand(Ua||1);return ta=>ab.encloses(ta.bounds)},Da=ma=>{ma.forEach(Ea=>Ea.opacity=1);return ma};A.inherits(b,k.Transform,{transform(ma,Ea){const Ua=za[ma.method]||za.parity,ab=ma.separation||0;let ta=Ea.materialize(Ea.SOURCE).source,
Na,oa;if(ta&&ta.length){if(!ma.method)return ma.modified("method")&&(Da(ta),Ea=Ea.reflow(ma.modified()).modifies("opacity")),Ea;ta=ta.filter(Ja);if(ta.length){ma.sort&&(ta=ta.slice().sort(ma.sort));Na=Da(ta);Ea=Ea.reflow(ma.modified()).modifies("opacity");if(3<=Na.length&&hb(Na,ab)){do Na=Ua(Na,ab);while(3<=Na.length&&hb(Na,ab));3>Na.length&&!A.peek(ta).opacity&&(1<Na.length&&(A.peek(Na).opacity=0),A.peek(ta).opacity=1)}ma.boundScale&&0<=ma.boundTolerance&&(oa=qa(ma.boundScale,ma.boundOrient,+ma.boundTolerance),
ta.forEach(ka=>{oa(ka)||(ka.opacity=0)}));var aa=Na[0].mark.bounds.clear();ta.forEach(ka=>{ka.opacity&&aa.union(ka.bounds)});return Ea}}}});A.inherits(c,k.Transform,{transform(ma,Ea){const Ua=Ea.dataflow;Ea.visit(Ea.ALL,ab=>Ua.dirty(ab));Ea.fields&&Ea.fields.zindex&&(ma=Ea.source&&Ea.source[0])&&(ma.mark.zdirty=!0)}});const va=new p.Bounds,sa=(ma,Ea)=>Math.floor(Math.min(ma,Ea)),xa=(ma,Ea)=>Math.ceil(Math.max(ma,Ea));A.inherits(U,k.Transform,{transform(ma,Ea){const Ua=Ea.dataflow;ma.mark.items.forEach(ab=>
{if(ma.layout){var ta=ma.layout;var Na=ab.items;for(var oa=Na.length,aa=0,ka,Ia,Xa={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};aa<oa;++aa)if(ka=Na[aa],Ia=ka.items,"group"===ka.marktype)switch(ka.role){case "axis":case "legend":case "title":break;case "row-header":Xa.rowheaders.push(...Ia);break;case "row-footer":Xa.rowfooters.push(...Ia);break;case "column-header":Xa.colheaders.push(...Ia);break;case "column-footer":Xa.colfooters.push(...Ia);break;
case "row-title":Xa.rowtitle=Ia[0];break;case "column-title":Xa.coltitle=Ia[0];break;default:Xa.marks.push(...Ia)}Na=Xa;Ia=Na.marks;Xa="flush"===ta.bounds?G:L;oa=ta.offset;var Ya=ta.columns||Ia.length,mb=0>=Ya?1:Math.ceil(Ia.length/Ya),ib=mb*Ya;aa=D(Ua,Ia,ta);aa.empty()&&aa.set(0,0,0,0);if(Na.rowheaders){ka=F(ta.headerBand,"row",null);var Eb=O(Ua,Na.rowheaders,Ia,Ya,mb,-F(oa,"rowHeader"),sa,0,Xa,"x1",0,Ya,1,ka)}if(Na.colheaders){ka=F(ta.headerBand,"column",null);var Zb=O(Ua,Na.colheaders,Ia,Ya,Ya,
-F(oa,"columnHeader"),sa,1,Xa,"y1",0,1,Ya,ka)}if(Na.rowfooters){ka=F(ta.footerBand,"row",null);var Gc=O(Ua,Na.rowfooters,Ia,Ya,mb,F(oa,"rowFooter"),xa,0,Xa,"x2",Ya-1,Ya,1,ka)}if(Na.colfooters){ka=F(ta.footerBand,"column",null);var xc=O(Ua,Na.colfooters,Ia,Ya,Ya,F(oa,"columnFooter"),xa,1,Xa,"y2",ib-Ya,1,Ya,ka)}Na.rowtitle&&(ka=F(ta.titleAnchor,"row"),Ia=F(oa,"rowTitle"),Ia="end"===ka?Gc+Ia:Eb-Ia,ka=F(ta.titleBand,"row",.5),V(Ua,Na.rowtitle,Ia,0,aa,ka));Na.coltitle&&(ka=F(ta.titleAnchor,"column"),Ia=
F(oa,"columnTitle"),Ia="end"===ka?xc+Ia:Zb-Ia,ka=F(ta.titleBand,"column",.5),V(Ua,Na.coltitle,Ia,1,aa,ka))}ba(Ua,ab,ma)});return ja(ma.mark.group)?Ea.reflow():Ea}});v.bound=u;v.identifier=l;v.mark=g;v.overlap=b;v.render=c;v.viewlayout=U;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[30]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(23),z(27),z(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,p,A){function u(Ca){k.Transform.call(this,null,Ca)}function m(Ca){k.Transform.call(this,null,Ca)}function l(){return k.ingest({})}function f(Ca){const Ha=A.fastmap().test(db=>
db.exit);Ha.lookup=db=>Ha.get(Ca(db));return Ha}function g(Ca){k.Transform.call(this,null,Ca)}function d(Ca){k.Transform.call(this,[],Ca)}function b(Ca){k.Transform.call(this,{},Ca)}function c(Ca,Ha,db){Ca=+Ca;Ha=+Ha;db=2>(Ab=arguments.length)?(Ha=Ca,Ca=0,1):3>Ab?1:+db;for(var ob=-1,Ab=Math.max(0,Math.ceil((Ha-Ca)/db))|0,Ob=Array(Ab);++ob<Ab;)Ob[ob]=Ca+ob*db;return Ob}function a(Ca,Ha){let db=0;if(void 0===Ha)for(var ob of Ca){if(ob=+ob)db+=ob}else{ob=-1;for(let Ab of Ca)if(Ab=+Ha(Ab,++ob,Ca))db+=
Ab}return db}function e(Ca){k.Transform.call(this,null,Ca)}function t(Ca,Ha,db){Ca.prototype=Ha.prototype=db;db.constructor=Ca}function y(Ca,Ha){Ca=Object.create(Ca.prototype);for(var db in Ha)Ca[db]=Ha[db];return Ca}function q(){}function E(){return this.rgb().formatHex()}function F(){return this.rgb().formatRgb()}function w(Ca){var Ha,db;Ca=(Ca+"").trim().toLowerCase();return(Ha=Ic.exec(Ca))?(db=Ha[1].length,Ha=parseInt(Ha[1],16),6===db?D(Ha):3===db?new O(Ha>>8&15|Ha>>4&240,Ha>>4&15|Ha&240,(Ha&
15)<<4|Ha&15,1):8===db?G(Ha>>24&255,Ha>>16&255,Ha>>8&255,(Ha&255)/255):4===db?G(Ha>>12&15|Ha>>8&240,Ha>>8&15|Ha>>4&240,Ha>>4&15|Ha&240,((Ha&15)<<4|Ha&15)/255):null):(Ha=rc.exec(Ca))?new O(Ha[1],Ha[2],Ha[3],1):(Ha=jd.exec(Ca))?new O(255*Ha[1]/100,255*Ha[2]/100,255*Ha[3]/100,1):(Ha=Bb.exec(Ca))?G(Ha[1],Ha[2],Ha[3],Ha[4]):(Ha=tb.exec(Ca))?G(255*Ha[1]/100,255*Ha[2]/100,255*Ha[3]/100,Ha[4]):(Ha=dc.exec(Ca))?ea(Ha[1],Ha[2]/100,Ha[3]/100,1):(Ha=Yb.exec(Ca))?ea(Ha[1],Ha[2]/100,Ha[3]/100,Ha[4]):hc.hasOwnProperty(Ca)?
D(hc[Ca]):"transparent"===Ca?new O(NaN,NaN,NaN,0):null}function D(Ca){return new O(Ca>>16&255,Ca>>8&255,Ca&255,1)}function G(Ca,Ha,db,ob){0>=ob&&(Ca=Ha=db=NaN);return new O(Ca,Ha,db,ob)}function L(Ca,Ha,db,ob){if(1===arguments.length){var Ab=Ca;Ab instanceof q||(Ab=w(Ab));Ab?(Ab=Ab.rgb(),Ab=new O(Ab.r,Ab.g,Ab.b,Ab.opacity)):Ab=new O}else Ab=new O(Ca,Ha,db,null==ob?1:ob);return Ab}function O(Ca,Ha,db,ob){this.r=+Ca;this.g=+Ha;this.b=+db;this.opacity=+ob}function V(){return"#"+ca(this.r)+ca(this.g)+
ca(this.b)}function S(){var Ca=this.opacity;Ca=isNaN(Ca)?1:Math.max(0,Math.min(1,Ca));return(1===Ca?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Ca?")":", "+Ca+")")}function ca(Ca){Ca=Math.max(0,Math.min(255,Math.round(Ca)||0));return(16>Ca?"0":"")+Ca.toString(16)}function ea(Ca,Ha,db,ob){0>=ob?Ca=Ha=db=NaN:0>=db||1<=db?Ca=Ha=NaN:0>=Ha&&(Ca=NaN);return new R(Ca,Ha,db,ob)}
function T(Ca){if(Ca instanceof R)return new R(Ca.h,Ca.s,Ca.l,Ca.opacity);Ca instanceof q||(Ca=w(Ca));if(!Ca)return new R;if(Ca instanceof R)return Ca;Ca=Ca.rgb();var Ha=Ca.r/255,db=Ca.g/255,ob=Ca.b/255,Ab=Math.min(Ha,db,ob),Ob=Math.max(Ha,db,ob),Ub=NaN,$b=Ob-Ab,Jc=(Ob+Ab)/2;$b?(Ub=Ha===Ob?(db-ob)/$b+6*(db<ob):db===Ob?(ob-Ha)/$b+2:(Ha-db)/$b+4,$b/=.5>Jc?Ob+Ab:2-Ob-Ab,Ub*=60):$b=0<Jc&&1>Jc?0:Ub;return new R(Ub,$b,Jc,Ca.opacity)}function R(Ca,Ha,db,ob){this.h=+Ca;this.s=+Ha;this.l=+db;this.opacity=
+ob}function J(Ca,Ha,db){return 255*(60>Ca?Ha+(db-Ha)*Ca/60:180>Ca?db:240>Ca?Ha+(db-Ha)*(240-Ca)/60:Ha)}function r(Ca,Ha){return function(db){return Ca+db*Ha}}function C(Ca,Ha,db){return Ca=Math.pow(Ca,db),Ha=Math.pow(Ha,db)-Ca,db=1/db,function(ob){return Math.pow(Ca+ob*Ha,db)}}function N(Ca){return 1===(Ca=+Ca)?U:function(Ha,db){return db-Ha?C(Ha,db,Ca):vc(isNaN(Ha)?db:Ha)}}function U(Ca,Ha){var db=Ha-Ca;return db?r(Ca,db):vc(isNaN(Ca)?Ha:Ca)}function ja(Ca,Ha){Ha||(Ha=[]);var db=Ca?Math.min(Ha.length,
Ca.length):0,ob=Ha.slice(),Ab;return function(Ob){for(Ab=0;Ab<db;++Ab)ob[Ab]=Ca[Ab]*(1-Ob)+Ha[Ab]*Ob;return ob}}function ba(Ca,Ha){var db=Ha?Ha.length:0,ob=Ca?Math.min(db,Ca.length):0,Ab=Array(ob),Ob=Array(db),Ub;for(Ub=0;Ub<ob;++Ub)Ab[Ub]=Da(Ca[Ub],Ha[Ub]);for(;Ub<db;++Ub)Ob[Ub]=Ha[Ub];return function($b){for(Ub=0;Ub<ob;++Ub)Ob[Ub]=Ab[Ub]($b);return Ob}}function ia(Ca,Ha){var db=new Date;return Ca=+Ca,Ha=+Ha,function(ob){return db.setTime(Ca*(1-ob)+Ha*ob),db}}function za(Ca,Ha){return Ca=+Ca,Ha=
+Ha,function(db){return Ca*(1-db)+Ha*db}}function Wa(Ca,Ha){var db={},ob={},Ab;if(null===Ca||"object"!==typeof Ca)Ca={};if(null===Ha||"object"!==typeof Ha)Ha={};for(Ab in Ha)Ab in Ca?db[Ab]=Da(Ca[Ab],Ha[Ab]):ob[Ab]=Ha[Ab];return function(Ob){for(Ab in db)ob[Ab]=db[Ab](Ob);return ob}}function hb(Ca){return function(){return Ca}}function Ja(Ca){return function(Ha){return Ca(Ha)+""}}function qa(Ca,Ha){var db=Dc.lastIndex=Yc.lastIndex=0,ob,Ab,Ob,Ub=-1,$b=[],Jc=[];Ca+="";for(Ha+="";(ob=Dc.exec(Ca))&&(Ab=
Yc.exec(Ha));)(Ob=Ab.index)>db&&(Ob=Ha.slice(db,Ob),$b[Ub]?$b[Ub]+=Ob:$b[++Ub]=Ob),(ob=ob[0])===(Ab=Ab[0])?$b[Ub]?$b[Ub]+=Ab:$b[++Ub]=Ab:($b[++Ub]=null,Jc.push({i:Ub,x:za(ob,Ab)})),db=Yc.lastIndex;db<Ha.length&&(Ob=Ha.slice(db),$b[Ub]?$b[Ub]+=Ob:$b[++Ub]=Ob);return 2>$b.length?Jc[0]?Ja(Jc[0].x):hb(Ha):(Ha=Jc.length,function(Wc){for(var dd=0,ld;dd<Ha;++dd)$b[(ld=Jc[dd]).i]=ld.x(Wc);return $b.join("")})}function Da(Ca,Ha){var db=typeof Ha;if(null==Ha||"boolean"===db)Ca=vc(Ha);else{if("number"===db)var ob=
za;else"string"===db?db=(ob=w(Ha))?(Ha=ob,qc):qa:(Ha instanceof w?ob=qc:Ha instanceof Date?ob=ia:(ob=Ha,ob=!ArrayBuffer.isView(ob)||ob instanceof DataView?Array.isArray(Ha)?ba:"function"!==typeof Ha.valueOf&&"function"!==typeof Ha.toString||isNaN(Ha)?Wa:za:ja),db=ob),ob=db;Ca=ob(Ca,Ha)}return Ca}function va(Ca,Ha){return Ca=+Ca,Ha=+Ha,function(db){return Math.round(Ca*(1-db)+Ha*db)}}function sa(Ca){return p.isContinuous(Ca)&&Ca!==p.Sequential}function xa(Ca){k.Transform.call(this,null,Ca);this.modified(!0)}
function ma(Ca,Ha,db){p.isLogarithmic(Ca)&&Math.abs(Ha.reduce((ob,Ab)=>ob+(0>Ab?-1:0<Ab?1:0),0))!==Ha.length&&db.warn("Log scale domain includes zero: "+A.stringValue(Ha));return Ha}function Ea(Ca,Ha,db){return A.isFunction(Ca)&&(Ha||db)?p.interpolateRange(Ca,Ua(Ha||[0,1],db)):Ca}function Ua(Ca,Ha){return Ha?Ca.slice().reverse():Ca}function ab(Ca){k.Transform.call(this,null,Ca)}function ta(Ca){k.Transform.call(this,null,Ca)}function Na(Ca,Ha,db,ob,Ab){Ha=(Ha-Ca.sum)/2;for(var Ob=Ca.length,Ub=0,$b;Ub<
Ob;++Ub)$b=Ca[Ub],$b[ob]=Ha,$b[Ab]=Ha+=Math.abs(db($b))}function oa(Ca,Ha,db,ob,Ab){Ha=1/Ca.sum;for(var Ob=0,Ub=Ca.length,$b=0,Jc=0,Wc;$b<Ub;++$b)Wc=Ca[$b],Wc[ob]=Ob,Wc[Ab]=Ob=Ha*(Jc+=Math.abs(db(Wc)))}function aa(Ca,Ha,db,ob,Ab){for(var Ob=Ha=0,Ub=Ca.length,$b=0,Jc,Wc;$b<Ub;++$b)Wc=Ca[$b],Jc=+db(Wc),0>Jc?(Wc[ob]=Ob,Wc[Ab]=Ob+=Jc):(Wc[ob]=Ha,Wc[Ab]=Ha+=Jc)}function ka(Ca,Ha,db,ob){var Ab=[],Ob=rd=>rd(Wc),Ub;if(null==Ha)Ab.push(Ca.slice());else{var $b={};var Jc=0;for(Ub=Ca.length;Jc<Ub;++Jc){var Wc=
Ca[Jc];var dd=Ha.map(Ob);var ld=$b[dd];ld||($b[dd]=ld=[],Ab.push(ld));ld.push(Wc)}}Ob=dd=0;for(Ca=Ab.length;dd<Ca;++dd){ld=Ab[dd];Ha=Jc=0;for(Ub=ld.length;Jc<Ub;++Jc)Ha+=Math.abs(ob(ld[Jc]));ld.sum=Ha;Ha>Ob&&(Ob=Ha);db&&ld.sort(db)}Ab.max=Ob;return Ab}A.inherits(u,k.Transform,{transform(Ca,Ha){if(this.value&&!Ca.modified())return Ha.StopPropagation;var db=Ha.dataflow.locale();Ha=Ha.fork(Ha.NO_SOURCE|Ha.NO_FIELDS);var ob=this.value,Ab=Ca.scale,Ob=p.tickCount(Ab,null==Ca.count?Ca.values?Ca.values.length:
10:Ca.count,Ca.minstep),Ub=Ca.format||p.tickFormat(db,Ab,Ob,Ca.formatSpecifier,Ca.formatType,!!Ca.values),$b=Ca.values?p.validTicks(Ab,Ca.values,Ob):p.tickValues(Ab,Ob);ob&&(Ha.rem=ob);ob=$b.map((Jc,Wc)=>k.ingest({index:Wc/($b.length-1||1),value:Jc,label:Ub(Jc)}));Ca.extra&&ob.length&&ob.push(k.ingest({index:-1,extra:{value:ob[0].value},label:""}));Ha.source=ob;this.value=Ha.add=ob;return Ha}});A.inherits(m,k.Transform,{transform(Ca,Ha){var db=Ha.dataflow,ob=Ha.fork(Ha.NO_SOURCE|Ha.NO_FIELDS),Ab=
Ca.item||l,Ob=Ca.key||k.tupleid,Ub=this.value;A.isArray(ob.encode)&&(ob.encode=null);Ub&&(Ca.modified("key")||Ha.modified(Ob))&&A.error("DataJoin does not support modified key function or fields.");Ub||(Ha=Ha.addAll(),this.value=Ub=f(Ob));Ha.visit(Ha.ADD,$b=>{const Jc=Ob($b);let Wc=Ub.get(Jc);Wc?Wc.exit?(Ub.empty--,ob.add.push(Wc)):ob.mod.push(Wc):(Wc=Ab($b),Ub.set(Jc,Wc),ob.add.push(Wc));Wc.datum=$b;Wc.exit=!1});Ha.visit(Ha.MOD,$b=>{var Jc=Ob($b);if(Jc=Ub.get(Jc))Jc.datum=$b,ob.mod.push(Jc)});Ha.visit(Ha.REM,
$b=>{var Jc=Ob($b);Jc=Ub.get(Jc);$b!==Jc.datum||Jc.exit||(ob.rem.push(Jc),Jc.exit=!0,++Ub.empty)});Ha.changed(Ha.ADD_MOD)&&ob.modifies("datum");(Ha.clean()||Ca.clean&&Ub.empty>db.cleanThreshold)&&db.runAfter(Ub.clean);return ob}});A.inherits(g,k.Transform,{transform(Ca,Ha){var db=Ha.fork(Ha.ADD_REM),ob=Ca.mod||!1,Ab=Ca.encoders,Ob=Ha.encode;if(A.isArray(Ob))if(db.changed()||Ob.every(ld=>Ab[ld]))Ob=Ob[0],db.encode=null;else return Ha.StopPropagation;var Ub="enter"===Ob,$b=Ab.update||A.falsy,Jc=Ab.enter||
A.falsy,Wc=Ab.exit||A.falsy,dd=(Ob&&!Ub?Ab[Ob]:$b)||A.falsy;Ha.changed(Ha.ADD)&&(Ha.visit(Ha.ADD,ld=>{Jc(ld,Ca);$b(ld,Ca)}),db.modifies(Jc.output),db.modifies($b.output),dd!==A.falsy&&dd!==$b&&(Ha.visit(Ha.ADD,ld=>{dd(ld,Ca)}),db.modifies(dd.output)));Ha.changed(Ha.REM)&&Wc!==A.falsy&&(Ha.visit(Ha.REM,ld=>{Wc(ld,Ca)}),db.modifies(Wc.output));if(Ub||dd!==A.falsy)Ob=Ha.MOD|(Ca.modified()?Ha.REFLOW:0),Ub?(Ha.visit(Ob,ld=>{const rd=Jc(ld,Ca)||ob;(dd(ld,Ca)||rd)&&db.mod.push(ld)}),db.mod.length&&db.modifies(Jc.output)):
Ha.visit(Ob,ld=>{(dd(ld,Ca)||ob)&&db.mod.push(ld)}),db.mod.length&&db.modifies(dd.output);return db.changed()?db:Ha.StopPropagation}});A.inherits(d,k.Transform,{transform(Ca,Ha){if(null!=this.value&&!Ca.modified())return Ha.StopPropagation;var db=Ha.dataflow.locale(),ob=Ha.fork(Ha.NO_SOURCE|Ha.NO_FIELDS),Ab=this.value,Ob=Ca.type||p.SymbolLegend,Ub=Ca.scale,$b=+Ca.limit,Jc=p.tickCount(Ub,null==Ca.count?5:Ca.count,Ca.minstep),Wc=!!Ca.values||Ob===p.SymbolLegend,dd=Ca.format||p.labelFormat(db,Ub,Jc,
Ob,Ca.formatSpecifier,Ca.formatType,Wc),ld=Ca.values||p.labelValues(Ub,Jc),rd;Ab&&(ob.rem=Ab);if(Ob===p.SymbolLegend){if($b&&ld.length>$b){Ha.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Ab=ld.slice(0,$b-1);var Kd=!0}else Ab=ld;if(A.isFunction(rd=Ca.size)){Ca.values||0!==Ub(Ab[0])||(Ab=Ab.slice(1));var Nd=Ab.reduce((be,ce)=>Math.max(be,rd(ce,Ca)),0)}else rd=A.constant(Nd=rd||8);Ab=Ab.map((be,ce)=>k.ingest({index:ce,label:dd(be,ce,Ab),value:be,offset:Nd,size:rd(be,Ca)}));Kd&&
(Kd=ld[Ab.length],Ab.push(k.ingest({index:Ab.length,label:`\u2026${ld.length-Ab.length} entries`,value:Kd,offset:Nd,size:rd(Kd,Ca)})))}else if(Ob===p.GradientLegend){Ha=Ub.domain();var fe=p.scaleFraction(Ub,Ha[0],A.peek(Ha));3>ld.length&&!Ca.values&&Ha[0]!==A.peek(Ha)&&(ld=[Ha[0],A.peek(Ha)]);Ab=ld.map((be,ce)=>k.ingest({index:ce,label:dd(be,ce,ld),value:be,perc:fe(be)}))}else rd=ld.length-1,fe=p.labelFraction(Ub),Ab=ld.map((be,ce)=>k.ingest({index:ce,label:dd(be,ce,ld),value:be,perc:ce?fe(be):0,
perc2:ce===rd?1:fe(ld[ce+1])}));ob.source=Ab;this.value=ob.add=Ab;return ob}});const Ia=Ca=>Ca.source.x,Xa=Ca=>Ca.source.y,Ya=Ca=>Ca.target.x,mb=Ca=>Ca.target.y;b.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical",
"radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};A.inherits(b,k.Transform,{transform(Ca,Ha){var db=Ca.sourceX||Ia,ob=Ca.sourceY||Xa,Ab=Ca.targetX||Ya,Ob=Ca.targetY||mb,Ub=Ca.as||"path",$b=Ca.shape||"line",Jc=Gc.get($b+"-"+(Ca.orient||"vertical"))||Gc.get($b);Jc||A.error("LinkPath unsupported type: "+Ca.shape+(Ca.orient?"-"+Ca.orient:""));Ha.visit(Ha.SOURCE,Wc=>{Wc[Ub]=
Jc(db(Wc),ob(Wc),Ab(Wc),Ob(Wc))});return Ha.reflow(Ca.modified()).modifies(Ub)}});const ib=(Ca,Ha,db,ob)=>"M"+Ca+","+Ha+"L"+db+","+ob,Eb=(Ca,Ha,db,ob)=>{var Ab=db-Ca,Ob=ob-Ha,Ub=Math.sqrt(Ab*Ab+Ob*Ob)/2;return"M"+Ca+","+Ha+"A"+Ub+","+Ub+" "+180*Math.atan2(Ob,Ab)/Math.PI+" 0 1 "+db+","+ob},Zb=(Ca,Ha,db,ob)=>{var Ab=db-Ca;const Ob=ob-Ha,Ub=.2*(Ab+Ob);Ab=.2*(Ob-Ab);return"M"+Ca+","+Ha+"C"+(Ca+Ub)+","+(Ha+Ab)+" "+(db+Ab)+","+(ob-Ub)+" "+db+","+ob},Gc=A.fastmap({line:ib,"line-radial":(Ca,Ha,db,ob)=>ib(Ha*
Math.cos(Ca),Ha*Math.sin(Ca),ob*Math.cos(db),ob*Math.sin(db)),arc:Eb,"arc-radial":(Ca,Ha,db,ob)=>Eb(Ha*Math.cos(Ca),Ha*Math.sin(Ca),ob*Math.cos(db),ob*Math.sin(db)),curve:Zb,"curve-radial":(Ca,Ha,db,ob)=>Zb(Ha*Math.cos(Ca),Ha*Math.sin(Ca),ob*Math.cos(db),ob*Math.sin(db)),"orthogonal-horizontal":(Ca,Ha,db,ob)=>"M"+Ca+","+Ha+"V"+ob+"H"+db,"orthogonal-vertical":(Ca,Ha,db,ob)=>"M"+Ca+","+Ha+"H"+db+"V"+ob,"orthogonal-radial":(Ca,Ha,db,ob)=>{const Ab=Math.cos(db),Ob=Math.sin(db);return"M"+Ha*Math.cos(Ca)+
","+Ha*Math.sin(Ca)+"A"+Ha+","+Ha+" 0 0,"+((Math.abs(db-Ca)>Math.PI?db<=Ca:db>Ca)?1:0)+" "+Ha*Ab+","+Ha*Ob+"L"+ob*Ab+","+ob*Ob},"diagonal-horizontal":(Ca,Ha,db,ob)=>{const Ab=(Ca+db)/2;return"M"+Ca+","+Ha+"C"+Ab+","+Ha+" "+Ab+","+ob+" "+db+","+ob},"diagonal-vertical":(Ca,Ha,db,ob)=>{const Ab=(Ha+ob)/2;return"M"+Ca+","+Ha+"C"+Ca+","+Ab+" "+db+","+Ab+" "+db+","+ob},"diagonal-radial":(Ca,Ha,db,ob)=>{const Ab=Math.cos(Ca);Ca=Math.sin(Ca);const Ob=Math.cos(db);db=Math.sin(db);const Ub=(Ha+ob)/2;return"M"+
Ha*Ab+","+Ha*Ca+"C"+Ub*Ab+","+Ub*Ca+" "+Ub*Ob+","+Ub*db+" "+ob*Ob+","+ob*db}});e.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};A.inherits(e,k.Transform,{transform(Ca,Ha){var db=Ca.as||["startAngle","endAngle"],ob=db[0],Ab=db[1],Ob=Ca.startAngle||
0,Ub=null!=Ca.endAngle?Ca.endAngle:2*Math.PI,$b=Ha.source,Jc=$b.map(Ca.field||A.one),Wc=Jc.length,dd=Ob;Ob=(Ub-Ob)/a(Jc);Ub=c(Wc);var ld;Ca.sort&&Ub.sort((Nd,fe)=>Jc[Nd]-Jc[fe]);for(ld=0;ld<Wc;++ld){var rd=Jc[Ub[ld]];var Kd=$b[Ub[ld]];Kd[ob]=dd;Kd[Ab]=dd+=rd*Ob}this.value=Jc;return Ha.reflow(Ca.modified()).modifies(db)}});var xc=1/.7,Ic=/^#([0-9a-f]{3,8})$/,rc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),jd=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Bb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),tb=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),dc=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Yb=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),hc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t(q,w,{copy:function(Ca){return Object.assign(new this.constructor,this,Ca)},displayable:function(){return this.rgb().displayable()},hex:E,formatHex:E,formatHsl:function(){return T(this).formatHsl()},
formatRgb:F,toString:F});t(O,L,y(q,{brighter:function(Ca){Ca=null==Ca?xc:Math.pow(xc,Ca);return new O(this.r*Ca,this.g*Ca,this.b*Ca,this.opacity)},darker:function(Ca){Ca=null==Ca?.7:Math.pow(.7,Ca);return new O(this.r*Ca,this.g*Ca,this.b*Ca,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:V,formatHex:V,formatRgb:S,toString:S}));t(R,function(Ca,Ha,db,ob){return 1===
arguments.length?T(Ca):new R(Ca,Ha,db,null==ob?1:ob)},y(q,{brighter:function(Ca){Ca=null==Ca?xc:Math.pow(xc,Ca);return new R(this.h,this.s,this.l*Ca,this.opacity)},darker:function(Ca){Ca=null==Ca?.7:Math.pow(.7,Ca);return new R(this.h,this.s,this.l*Ca,this.opacity)},rgb:function(){var Ca=this.h%360+360*(0>this.h),Ha=isNaN(Ca)||isNaN(this.s)?0:this.s,db=this.l;Ha=db+(.5>db?db:1-db)*Ha;db=2*db-Ha;return new O(J(240<=Ca?Ca-240:Ca+120,db,Ha),J(Ca,db,Ha),J(120>Ca?Ca+240:Ca-120,db,Ha),this.opacity)},displayable:function(){return(0<=
this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var Ca=this.opacity;Ca=isNaN(Ca)?1:Math.max(0,Math.min(1,Ca));return(1===Ca?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Ca?")":", "+Ca+")")}}));var vc=Ca=>()=>Ca,qc=function db(Ha){function ob(Ob,Ub){var $b=Ab((Ob=L(Ob)).r,(Ub=L(Ub)).r),Jc=Ab(Ob.g,Ub.g),Wc=Ab(Ob.b,Ub.b),dd=U(Ob.opacity,Ub.opacity);return function(ld){Ob.r=$b(ld);Ob.g=Jc(ld);Ob.b=Wc(ld);
Ob.opacity=dd(ld);return Ob+""}}var Ab=N(Ha);ob.gamma=db;return ob}(1),Dc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Yc=new RegExp(Dc.source,"g");const Hd=A.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));A.inherits(xa,k.Transform,{transform(Ha,db){var ob=db.dataflow,Ab=this.value;var Ob=Ha.type;var Ub="";if(Ob===p.Sequential)Ob=p.Sequential+
"-"+p.Linear;else{var $b=Ha.type;p.isContinuous($b)&&$b!==p.Time&&$b!==p.UTC&&(Ha.scheme||Ha.range&&Ha.range.length&&Ha.range.every(A.isString))&&(Ub=Ha.rawDomain?Ha.rawDomain.length:Ha.domain?Ha.domain.length+ +(null!=Ha.domainMid):0,Ub=2===Ub?p.Sequential+"-":3===Ub?p.Diverging+"-":"");Ob=(Ub+Ob||p.Linear).toLowerCase()}Ab&&Ob===Ab.type||(this.value=Ab=p.scale(Ob)());for(Ob in Ha)Hd[Ob]||"padding"===Ob&&sa(Ab.type)||(A.isFunction(Ab[Ob])?Ab[Ob](Ha[Ob]):ob.warn("Unsupported scale property: "+Ob));
Ub=Ob=Ab;($b=Ha.domainRaw)?(Ab.domain(ma(Ab.type,$b,ob)),$b=$b.length):$b=-1;if(-1<$b)ob=$b;else{var Jc=Ha.domain;$b=Ab.type;var Wc;!(Wc=Ha.zero)&&(Wc=void 0===Ha.zero)&&(Wc=Ab.type,Wc=!Ab.bins&&(Wc===p.Linear||Wc===p.Pow||Wc===p.Sqrt));if(Jc){if(sa($b)&&Ha.padding&&Jc[0]!==A.peek(Jc)){var dd=Ha.range,ld=Ha.padding;var rd=Ha.exponent;var Kd=Ha.constant;dd=Math.abs(A.peek(dd)-dd[0]);ld=dd/(dd-2*ld);rd=$b===p.Log?A.zoomLog(Jc,null,ld):$b===p.Sqrt?A.zoomPow(Jc,null,ld,.5):$b===p.Pow?A.zoomPow(Jc,null,
ld,rd||1):$b===p.Symlog?A.zoomSymlog(Jc,null,ld,Kd||1):A.zoomLinear(Jc,null,ld);Jc=Jc.slice();Jc[0]=rd[0];Jc[Jc.length-1]=rd[1]}if(Wc||null!=Ha.domainMin||null!=Ha.domainMax||null!=Ha.domainMid)rd=(Jc=Jc.slice()).length-1||1,Wc&&(0<Jc[0]&&(Jc[0]=0),0>Jc[rd]&&(Jc[rd]=0)),null!=Ha.domainMin&&(Jc[0]=Ha.domainMin),null!=Ha.domainMax&&(Jc[rd]=Ha.domainMax),null!=Ha.domainMid&&(Wc=Ha.domainMid,Kd=Wc>Jc[rd]?rd+1:Wc<Jc[0]?0:rd,Kd!==rd&&ob.warn("Scale domainMid exceeds domain min or max.",Wc),Jc.splice(Kd,
0,Wc));Ab.domain(ma($b,Jc,ob));$b===p.Ordinal&&Ab.unknown(Ha.domainImplicit?p.scaleImplicit:void 0);Ha.nice&&Ab.nice&&Ab.nice(!0!==Ha.nice&&p.tickCount(Ab,Ha.nice)||null);ob=Jc.length}else ob=0}($b=Ha.bins)&&!A.isArray($b)&&(Wc=Ub.domain(),Ab=Wc[0],Wc=A.peek(Wc),Jc=$b.step,rd=null==$b.start?Ab:$b.start,$b=null==$b.stop?Wc:$b.stop,Jc||A.error("Scale bins parameter missing step property."),rd<Ab&&(rd=Jc*Math.ceil(Ab/Jc)),$b>Wc&&($b=Jc*Math.floor(Wc/Jc)),$b=c(rd,$b+Jc/2,Jc));$b?Ub.bins=$b:Ub.bins&&delete Ub.bins;
Ub.type===p.BinOrdinal&&($b?Ha.domain||Ha.domainRaw||(Ub.domain($b),ob=$b.length):Ub.bins=Ub.domain());Ab=ob;a:{Ub=Ob.type;ob=Ha.round||!1;$b=Ha.range;if(null!=Ha.rangeStep)Ub!==p.Band&&Ub!==p.Point&&A.error("Only band and point scales support rangeStep."),$b=[0,Ha.rangeStep*p.bandSpace(Ab,Ub===p.Point?1:(null!=Ha.paddingInner?Ha.paddingInner:Ha.padding)||0,(null!=Ha.paddingOuter?Ha.paddingOuter:Ha.padding)||0)];else if(Ha.scheme&&($b=Ha.schemeExtent,A.isArray(Ha.scheme)?Wc=p.interpolateColors(Ha.scheme,
Ha.interpolate,Ha.interpolateGamma):(Wc=Ha.scheme.toLowerCase(),(Wc=p.scheme(Wc))||A.error(`Unrecognized scheme name: ${Ha.scheme}`)),Ab=Ub===p.Threshold?Ab+1:Ub===p.BinOrdinal?Ab-1:Ub===p.Quantile||Ub===p.Quantize?+Ha.schemeCount||5:Ab,$b=p.isInterpolating(Ub)?Ea(Wc,$b,Ha.reverse):A.isFunction(Wc)?p.quantizeInterpolator(Ea(Wc,$b),Ab):Ub===p.Ordinal?Wc:Wc.slice(0,Ab),A.isFunction($b)))if(Ob.interpolator){Ob.interpolator($b);break a}else A.error(`Scale type ${Ub} does not support interpolating color schemes.`);
$b&&p.isInterpolating(Ub)?Ob.interpolator(p.interpolateColors(Ua($b,Ha.reverse),Ha.interpolate,Ha.interpolateGamma)):($b&&Ha.interpolate&&Ob.interpolate?Ob.interpolate(p.interpolate(Ha.interpolate,Ha.interpolateGamma)):A.isFunction(Ob.round)?Ob.round(ob):A.isFunction(Ob.rangeRound)&&Ob.interpolate(ob?va:Da),$b&&Ob.range(Ua($b,Ha.reverse)))}return db.fork(db.NO_SOURCE|db.NO_FIELDS)}});A.inherits(ab,k.Transform,{transform(Ha,db){const ob=Ha.modified("sort")||db.changed(db.ADD)||db.modified(Ha.sort.fields)||
db.modified("datum");ob&&db.source.sort(k.stableCompare(Ha.sort));this.modified(ob);return db}});const Fa=["y0","y1"];ta.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":Fa}]};A.inherits(ta,k.Transform,{transform(Ha,db){var ob=Ha.as||Fa,Ab=ob[0],Ob=ob[1],Ub=k.stableCompare(Ha.sort),
$b=Ha.field||A.one,Jc="center"===Ha.offset?Na:"normalize"===Ha.offset?oa:aa,Wc;Ub=ka(db.source,Ha.groupby,Ub,$b);var dd=0;var ld=Ub.length;for(Wc=Ub.max;dd<ld;++dd)Jc(Ub[dd],Wc,$b,Ab,Ob);return db.reflow(Ha.modified()).modifies(ob)}});v.axisticks=u;v.datajoin=m;v.encode=g;v.legendentries=d;v.linkpath=b;v.pie=e;v.scale=xa;v.sortitems=ab;v.stack=ta;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[31]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function*k(jb){for(const Ib of jb)yield*Ib}function p(jb){return 1<jb?0:-1>jb?rd:Math.acos(jb)}function A(jb){return 1<jb?Kd:-1>jb?-Kd:Math.asin(jb)}function u(){}function m(jb,Ib){if(jb&&Kc.hasOwnProperty(jb.type))Kc[jb.type](jb,Ib)}function l(jb,Ib,
Qb){var Rb=-1;Qb=jb.length-Qb;for(Ib.lineStart();++Rb<Qb;){var na=jb[Rb];Ib.point(na[0],na[1],na[2])}Ib.lineEnd()}function f(jb,Ib){var Qb=-1,Rb=jb.length;for(Ib.polygonStart();++Qb<Rb;)l(jb[Qb],Ib,1);Ib.polygonEnd()}function g(jb,Ib){if(jb&&Mc.hasOwnProperty(jb.type))Mc[jb.type](jb,Ib);else m(jb,Ib)}function d(jb){return[Se(jb[1],jb[0]),A(jb[2])]}function b(jb){var Ib=jb[0];jb=jb[1];var Qb=ue(jb);return[Qb*ue(Ib),Qb*ub(Ib),ub(jb)]}function c(jb,Ib){return jb[0]*Ib[0]+jb[1]*Ib[1]+jb[2]*Ib[2]}function a(jb,
Ib){return[jb[1]*Ib[2]-jb[2]*Ib[1],jb[2]*Ib[0]-jb[0]*Ib[2],jb[0]*Ib[1]-jb[1]*Ib[0]]}function e(jb,Ib){jb[0]+=Ib[0];jb[1]+=Ib[1];jb[2]+=Ib[2]}function t(jb,Ib){return[jb[0]*Ib,jb[1]*Ib,jb[2]*Ib]}function y(jb){var Ib=fc(jb[0]*jb[0]+jb[1]*jb[1]+jb[2]*jb[2]);jb[0]/=Ib;jb[1]/=Ib;jb[2]/=Ib}function q(jb,Ib){function Qb(Rb,na){return Rb=jb(Rb,na),Ib(Rb[0],Rb[1])}jb.invert&&Ib.invert&&(Qb.invert=function(Rb,na){return Rb=Ib.invert(Rb,na),Rb&&jb.invert(Rb[0],Rb[1])});return Qb}function E(jb,Ib){return[Td(jb)>
rd?jb+Math.round(-jb/fe)*fe:jb,Ib]}function F(jb,Ib,Qb){return(jb%=fe)?Ib||Qb?q(D(jb),G(Ib,Qb)):D(jb):Ib||Qb?G(Ib,Qb):E}function w(jb){return function(Ib,Qb){return Ib+=jb,[Ib>rd?Ib-fe:Ib<-rd?Ib+fe:Ib,Qb]}}function D(jb){var Ib=w(jb);Ib.invert=w(-jb);return Ib}function G(jb,Ib){function Qb(Jb,Nb){var Lb=ue(Nb),pc=ue(Jb)*Lb;Jb=ub(Jb)*Lb;Nb=ub(Nb);Lb=Nb*Rb+pc*na;return[Se(Jb*Ma-Lb*lb,pc*Rb-Nb*na),A(Lb*Ma+Jb*lb)]}var Rb=ue(jb),na=ub(jb),Ma=ue(Ib),lb=ub(Ib);Qb.invert=function(Jb,Nb){var Lb=ue(Nb),pc=
ue(Jb)*Lb;Jb=ub(Jb)*Lb;Nb=ub(Nb);Lb=Nb*Ma-Jb*lb;return[Se(Jb*Ma+Nb*lb,pc*Rb+Lb*na),A(Lb*Rb-pc*na)]};return Qb}function L(jb){function Ib(Qb){Qb=jb(Qb[0]*ce,Qb[1]*ce);return Qb[0]*=be,Qb[1]*=be,Qb}jb=F(jb[0]*ce,jb[1]*ce,2<jb.length?jb[2]*ce:0);Ib.invert=function(Qb){Qb=jb.invert(Qb[0]*ce,Qb[1]*ce);return Qb[0]*=be,Qb[1]*=be,Qb};return Ib}function O(jb,Ib){Ib=b(Ib);Ib[0]-=jb;y(Ib);jb=p(-Ib[1]);return((0>-Ib[2]?-jb:jb)+fe-1E-6)%fe}function V(){var jb=[],Ib;return{point:function(Qb,Rb,na){Ib.push([Qb,
Rb,na])},lineStart:function(){jb.push(Ib=[])},lineEnd:u,rejoin:function(){1<jb.length&&jb.push(jb.pop().concat(jb.shift()))},result:function(){var Qb=jb;jb=[];Ib=null;return Qb}}}function S(jb,Ib){return 1E-6>Td(jb[0]-Ib[0])&&1E-6>Td(jb[1]-Ib[1])}function ca(jb,Ib,Qb,Rb){this.x=jb;this.z=Ib;this.o=Qb;this.e=Rb;this.v=!1;this.n=this.p=null}function ea(jb,Ib,Qb,Rb,na){var Ma=[],lb=[];jb.forEach(function(Oc){if(!(0>=(zc=Oc.length-1))){var zc,wc=Oc[0],od=Oc[zc];if(S(wc,od)){if(!wc[2]&&!od[2]){na.lineStart();
for(Jb=0;Jb<zc;++Jb)na.point((wc=Oc[Jb])[0],wc[1]);na.lineEnd();return}od[0]+=2E-6}Ma.push(zc=new ca(wc,Oc,null,!0));lb.push(zc.o=new ca(wc,null,zc,!1));Ma.push(zc=new ca(od,Oc,null,!1));lb.push(zc.o=new ca(od,null,zc,!0))}});if(Ma.length){lb.sort(Ib);T(Ma);T(lb);var Jb=0;for(jb=lb.length;Jb<jb;++Jb)lb[Jb].e=Qb=!Qb;Qb=Ma[0];for(var Nb;;){for(var Lb=Qb,pc=!0;Lb.v;)if((Lb=Lb.n)===Qb)return;Ib=Lb.z;na.lineStart();do{Lb.v=Lb.o.v=!0;if(Lb.e){if(pc)for(Jb=0,jb=Ib.length;Jb<jb;++Jb)na.point((Nb=Ib[Jb])[0],
Nb[1]);else Rb(Lb.x,Lb.n.x,1,na);Lb=Lb.n}else{if(pc)for(Ib=Lb.p.z,Jb=Ib.length-1;0<=Jb;--Jb)na.point((Nb=Ib[Jb])[0],Nb[1]);else Rb(Lb.x,Lb.p.x,-1,na);Lb=Lb.p}Lb=Lb.o;Ib=Lb.z;pc=!pc}while(!Lb.v);na.lineEnd()}}}function T(jb){if(Ib=jb.length){for(var Ib,Qb=0,Rb=jb[0],na;++Qb<Ib;)Rb.n=na=jb[Qb],na.p=Rb,Rb=na;Rb.n=na=jb[0];na.p=Rb}}function R(jb){return Td(jb[0])<=rd?jb[0]:Mb(jb[0])*((Td(jb[0])+rd)%fe-rd)}function J(jb,Ib,Qb,Rb){return function(na){function Ma(xd,Id){jb(xd,Id)&&na.point(xd,Id)}function lb(xd,
Id){zc.point(xd,Id)}function Jb(){ve.point=lb;zc.lineStart()}function Nb(){ve.point=Ma;zc.lineEnd()}function Lb(xd,Id){je.push([xd,Id]);od.point(xd,Id)}function pc(){od.lineStart();je=[]}function Oc(){Lb(je[0][0],je[0][1]);od.lineEnd();var xd=od.clean(),Id=wc.result(),te=Id.length,ye;je.pop();Fe.push(je);je=null;if(te)if(xd&1){if(te=Id[0],0<(Id=te.length-1)){qd||(na.polygonStart(),qd=!0);na.lineStart();for(xd=0;xd<Id;++xd)na.point((ye=te[xd])[0],ye[1]);na.lineEnd()}}else 1<te&&xd&2&&Id.push(Id.pop().concat(Id.shift())),
Cd.push(Id.filter(r))}var zc=Ib(na),wc=V(),od=Ib(wc),qd=!1,Fe,Cd,je,ve={point:Ma,lineStart:Jb,lineEnd:Nb,polygonStart:function(){ve.point=Lb;ve.lineStart=pc;ve.lineEnd=Oc;Cd=[];Fe=[]},polygonEnd:function(){ve.point=Ma;ve.lineStart=Jb;ve.lineEnd=Nb;Cd=Array.from(k(Cd));var xd=Fe;var Id=R(Rb),te=Rb[1],ye=ub(te),vd=[ub(Id),-ue(Id),0],ef=0,df=0,vf=new ld;1===ye?te=Kd+1E-6:-1===ye&&(te=-Kd-1E-6);ye=0;for(var Lf=xd.length;ye<Lf;++ye)if(Xg=(Of=xd[ye]).length){var Of,Xg,Xd=Of[Xg-1],Ge=R(Xd),og=Xd[1]/2+Nd,
wg=ub(og),Zg=ue(og);for(og=0;og<Xg;++og,Ge=Qg,wg=sg,Zg=fg,Xd=Bg){var Bg=Of[og],Qg=R(Bg);fg=Bg[1]/2+Nd;var sg=ub(fg),fg=ue(fg),zf=Qg-Ge,Pf=0<=zf?1:-1,eg=Pf*zf,Mf=eg>rd;wg*=sg;vf.add(Se(wg*Pf*ub(eg),Zg*fg+wg*ue(eg)));ef+=Mf?zf+Pf*fe:zf;Mf^Ge>=Id^Qg>=Id&&(Xd=a(b(Xd),b(Bg)),y(Xd),Ge=a(vd,Xd),y(Ge),Ge=(Mf^0<=zf?-1:1)*A(Ge[2]),te>Ge||te===Ge&&(Xd[0]||Xd[1]))&&(df+=Mf^0<=zf?1:-1)}}xd=(-1E-6>ef||1E-6>ef&&-1E-12>vf)^df&1;Cd.length?(qd||(na.polygonStart(),qd=!0),ea(Cd,C,xd,Qb,na)):xd&&(qd||(na.polygonStart(),
qd=!0),na.lineStart(),Qb(null,null,1,na),na.lineEnd());qd&&(na.polygonEnd(),qd=!1);Cd=Fe=null},sphere:function(){na.polygonStart();na.lineStart();Qb(null,null,1,na);na.lineEnd();na.polygonEnd()}};return ve}}function r(jb){return 1<jb.length}function C(jb,Ib){return(0>(jb=jb.x)[0]?jb[1]-Kd-1E-6:Kd-jb[1])-(0>(Ib=Ib.x)[0]?Ib[1]-Kd-1E-6:Kd-Ib[1])}function N(jb){function Ib(Nb,Lb){return ue(Nb)*ue(Lb)>na}function Qb(Nb,Lb,pc){var Oc=b(Nb),zc=b(Lb),wc=[1,0,0];zc=a(Oc,zc);var od=c(zc,zc);Oc=zc[0];var qd=
od-Oc*Oc;if(!qd)return!pc&&Nb;od=na*od/qd;qd=-na*Oc/qd;Oc=a(wc,zc);wc=t(wc,od);zc=t(zc,qd);e(wc,zc);zc=c(wc,Oc);od=c(Oc,Oc);qd=zc*zc-od*(c(wc,wc)-1);if(!(0>qd)){var Fe=fc(qd);qd=t(Oc,(-zc-Fe)/od);e(qd,wc);qd=d(qd);if(!pc)return qd;pc=Nb[0];var Cd=Lb[0];Nb=Nb[1];Lb=Lb[1];if(Cd<pc){var je=pc;pc=Cd;Cd=je}var ve=Cd-pc,xd=1E-6>Td(ve-rd);!xd&&Lb<Nb&&(je=Nb,Nb=Lb,Lb=je);if(xd||1E-6>ve?xd?0<Nb+Lb^qd[1]<(1E-6>Td(qd[0]-pc)?Nb:Lb):Nb<=qd[1]&&qd[1]<=Lb:ve>rd^(pc<=qd[0]&&qd[0]<=Cd))return Lb=t(Oc,(-zc+Fe)/od),
e(Lb,wc),[qd,d(Lb)]}}function Rb(Nb,Lb){var pc=lb?jb:rd-jb,Oc=0;Nb<-pc?Oc|=1:Nb>pc&&(Oc|=2);Lb<-pc?Oc|=4:Lb>pc&&(Oc|=8);return Oc}var na=ue(jb),Ma=6*ce,lb=0<na,Jb=1E-6<Td(na);return J(Ib,function(Nb){var Lb,pc,Oc,zc,wc;return{lineStart:function(){zc=Oc=!1;wc=1},point:function(od,qd){var Fe=[od,qd],Cd=Ib(od,qd);qd=lb?Cd?0:Rb(od,qd):Cd?Rb(od+(0>od?rd:-rd),qd):0;!Lb&&(zc=Oc=Cd)&&Nb.lineStart();Cd!==Oc&&(od=Qb(Lb,Fe),!od||S(Lb,od)||S(Fe,od))&&(Fe[2]=1);if(Cd!==Oc)wc=0,Cd?(Nb.lineStart(),od=Qb(Fe,Lb),
Nb.point(od[0],od[1])):(od=Qb(Lb,Fe),Nb.point(od[0],od[1],2),Nb.lineEnd()),Lb=od;else if(Jb&&Lb&&lb^Cd){var je;qd&pc||!(je=Qb(Fe,Lb,!0))||(wc=0,lb?(Nb.lineStart(),Nb.point(je[0][0],je[0][1]),Nb.point(je[1][0],je[1][1]),Nb.lineEnd()):(Nb.point(je[1][0],je[1][1]),Nb.lineEnd(),Nb.lineStart(),Nb.point(je[0][0],je[0][1],3)))}!Cd||Lb&&S(Lb,Fe)||Nb.point(Fe[0],Fe[1]);Lb=Fe;Oc=Cd;pc=qd},lineEnd:function(){Oc&&Nb.lineEnd();Lb=null},clean:function(){return wc|(zc&&Oc)<<1}}},function(Nb,Lb,pc,Oc){var zc=Nb;
if(Ma){Nb=ue(jb);var wc=ub(jb),od=pc*Ma;if(null==zc)zc=jb+pc*fe,Lb=jb-od/2;else if(zc=O(Nb,zc),Lb=O(Nb,Lb),0<pc?zc<Lb:zc>Lb)zc+=pc*fe;for(var qd=zc;0<pc?qd>Lb:qd<Lb;qd-=od)zc=d([Nb,-wc*ue(qd),-wc*ub(qd)]),Oc.point(zc[0],zc[1])}},lb?[0,-jb]:[-rd,jb-rd])}function U(jb,Ib,Qb,Rb,na,Ma){var lb=jb[0],Jb=jb[1],Nb=0,Lb=1,pc=Ib[0]-lb,Oc=Ib[1]-Jb;Qb-=lb;if(pc||!(0<Qb)){Qb/=pc;if(0>pc){if(Qb<Nb)return;Qb<Lb&&(Lb=Qb)}else if(0<pc){if(Qb>Lb)return;Qb>Nb&&(Nb=Qb)}Qb=na-lb;if(pc||!(0>Qb)){Qb/=pc;if(0>pc){if(Qb>
Lb)return;Qb>Nb&&(Nb=Qb)}else if(0<pc){if(Qb<Nb)return;Qb<Lb&&(Lb=Qb)}Qb=Rb-Jb;if(Oc||!(0<Qb)){Qb/=Oc;if(0>Oc){if(Qb<Nb)return;Qb<Lb&&(Lb=Qb)}else if(0<Oc){if(Qb>Lb)return;Qb>Nb&&(Nb=Qb)}Qb=Ma-Jb;if(Oc||!(0>Qb)){Qb/=Oc;if(0>Oc){if(Qb>Lb)return;Qb>Nb&&(Nb=Qb)}else if(0<Oc){if(Qb<Nb)return;Qb<Lb&&(Lb=Qb)}0<Nb&&(jb[0]=lb+Nb*pc,jb[1]=Jb+Nb*Oc);1>Lb&&(Ib[0]=lb+Lb*pc,Ib[1]=Jb+Lb*Oc);return!0}}}}}function ja(jb,Ib,Qb,Rb){function na(Nb,Lb,pc,Oc){var zc=0,wc=0;if(null==Nb||(zc=Ma(Nb,pc))!==(wc=Ma(Lb,pc))||
0>Jb(Nb,Lb)^0<pc){do Oc.point(0===zc||3===zc?jb:Qb,1<zc?Rb:Ib);while((zc=(zc+pc+4)%4)!==wc)}else Oc.point(Lb[0],Lb[1])}function Ma(Nb,Lb){return 1E-6>Td(Nb[0]-jb)?0<Lb?0:3:1E-6>Td(Nb[0]-Qb)?0<Lb?2:1:1E-6>Td(Nb[1]-Ib)?0<Lb?1:0:0<Lb?3:2}function lb(Nb,Lb){return Jb(Nb.x,Lb.x)}function Jb(Nb,Lb){var pc=Ma(Nb,1),Oc=Ma(Lb,1);return pc!==Oc?pc-Oc:0===pc?Lb[1]-Nb[1]:1===pc?Nb[0]-Lb[0]:2===pc?Nb[1]-Lb[1]:Lb[0]-Nb[0]}return function(Nb){function Lb(ef,df){jb<=ef&&ef<=Qb&&Ib<=df&&df<=Rb&&Oc.point(ef,df)}function pc(ef,
df){var vf=jb<=ef&&ef<=Qb&&Ib<=df&&df<=Rb;od&&qd.push([ef,df]);if(te)Fe=ef,Cd=df,je=vf,te=!1,vf&&(Oc.lineStart(),Oc.point(ef,df));else if(vf&&Id)Oc.point(ef,df);else{var Lf=[ve=Math.max(-1E9,Math.min(1E9,ve)),xd=Math.max(-1E9,Math.min(1E9,xd))],Of=[ef=Math.max(-1E9,Math.min(1E9,ef)),df=Math.max(-1E9,Math.min(1E9,df))];U(Lf,Of,jb,Ib,Qb,Rb)?(Id||(Oc.lineStart(),Oc.point(Lf[0],Lf[1])),Oc.point(Of[0],Of[1]),vf||Oc.lineEnd(),ye=!1):vf&&(Oc.lineStart(),Oc.point(ef,df),ye=!1)}ve=ef;xd=df;Id=vf}var Oc=Nb,
zc=V(),wc,od,qd,Fe,Cd,je,ve,xd,Id,te,ye,vd={point:Lb,lineStart:function(){vd.point=pc;od&&od.push(qd=[]);te=!0;Id=!1;ve=xd=NaN},lineEnd:function(){wc&&(pc(Fe,Cd),je&&Id&&zc.rejoin(),wc.push(zc.result()));vd.point=Lb;Id&&Oc.lineEnd()},polygonStart:function(){Oc=zc;wc=[];od=[];ye=!0},polygonEnd:function(){for(var ef,df=ef=0,vf=od.length;df<vf;++df){var Lf=od[df],Of=1,Xg=Lf.length,Xd=Lf[0],Ge=Xd[0];for(Xd=Xd[1];Of<Xg;++Of){var og=Ge;var wg=Xd;Xd=Lf[Of];Ge=Xd[0];Xd=Xd[1];wg<=Rb?Xd>Rb&&(Ge-og)*(Rb-wg)>
(Xd-wg)*(jb-og)&&++ef:Xd<=Rb&&(Ge-og)*(Rb-wg)<(Xd-wg)*(jb-og)&&--ef}}df=ye&&ef;vf=(wc=Array.from(k(wc))).length;if(df||vf)Nb.polygonStart(),df&&(Nb.lineStart(),na(null,null,1,Nb),Nb.lineEnd()),vf&&ea(wc,lb,ef,na,Nb),Nb.polygonEnd();Oc=Nb;wc=od=qd=null}};return vd}}function ba(){ze.point=ia}function ia(jb,Ib){ze.point=za;Od=Yd=jb;Ud=Ee=Ib}function za(jb,Ib){Fd.add(Ee*jb-Yd*Ib);Yd=jb;Ee=Ib}function Wa(){za(Od,Ud)}function hb(jb,Ib){cd+=jb;wd+=Ib;++Bd}function Ja(){oe.point=qa}function qa(jb,Ib){oe.point=
Da;hb(Uc=jb,ie=Ib)}function Da(jb,Ib){var Qb=jb-Uc,Rb=Ib-ie;Qb=fc(Qb*Qb+Rb*Rb);pe+=Qb*(Uc+jb)/2;hf+=Qb*(ie+Ib)/2;Vf+=Qb;hb(Uc=jb,ie=Ib)}function va(){oe.point=hb}function sa(){oe.point=ma}function xa(){Ea(Gb,Wb)}function ma(jb,Ib){oe.point=Ea;hb(Gb=Uc=jb,Wb=ie=Ib)}function Ea(jb,Ib){var Qb=jb-Uc,Rb=Ib-ie;Qb=fc(Qb*Qb+Rb*Rb);pe+=Qb*(Uc+jb)/2;hf+=Qb*(ie+Ib)/2;Vf+=Qb;Qb=ie*jb-Uc*Ib;yf+=Qb*(Uc+jb);Ff+=Qb*(ie+Ib);Oe+=3*Qb;hb(Uc=jb,ie=Ib)}function Ua(jb){this._context=jb}function ab(jb,Ib){Oa.point=ta;cf=
ua=jb;qf=vb=Ib}function ta(jb,Ib){ua-=jb;vb-=Ib;Qd.add(fc(ua*ua+vb*vb));ua=jb;vb=Ib}function Na(){this._string=[]}function oa(jb){return"m0,"+jb+"a"+jb+","+jb+" 0 1,1 0,"+-2*jb+"a"+jb+","+jb+" 0 1,1 0,"+2*jb+"z"}function aa(jb,Ib){function Qb(lb){lb&&("function"===typeof Rb&&Ma.pointRadius(+Rb.apply(this,arguments)),g(lb,na(Ma)));return Ma.result()}var Rb=4.5,na,Ma;Qb.area=function(lb){g(lb,na(Bf));return Bf.result()};Qb.measure=function(lb){g(lb,na(ic));return ic.result()};Qb.bounds=function(lb){g(lb,
na(sc));return sc.result()};Qb.centroid=function(lb){g(lb,na(Vd));return Vd.result()};Qb.projection=function(lb){return arguments.length?(na=null==lb?(jb=null,fd):(jb=lb).stream,Qb):jb};Qb.context=function(lb){if(!arguments.length)return Ib;Ma=null==lb?(Ib=null,new Na):new Ua(Ib=lb);"function"!==typeof Rb&&Ma.pointRadius(Rb);return Qb};Qb.pointRadius=function(lb){if(!arguments.length)return Rb;Rb="function"===typeof lb?lb:(Ma.pointRadius(+lb),+lb);return Qb};return Qb.projection(jb).context(Ib)}function ka(jb){return function(Ib){var Qb=
new Ia,Rb;for(Rb in jb)Qb[Rb]=jb[Rb];Qb.stream=Ib;return Qb}}function Ia(){}function Xa(jb,Ib,Qb){var Rb=jb.clipExtent&&jb.clipExtent();jb.scale(150).translate([0,0]);null!=Rb&&jb.clipExtent(null);g(Qb,jb.stream(sc));Ib(sc.result());null!=Rb&&jb.clipExtent(Rb);return jb}function Ya(jb,Ib,Qb){return Xa(jb,function(Rb){var na=Ib[1][0]-Ib[0][0],Ma=Ib[1][1]-Ib[0][1],lb=Math.min(na/(Rb[1][0]-Rb[0][0]),Ma/(Rb[1][1]-Rb[0][1]));na=+Ib[0][0]+(na-lb*(Rb[1][0]+Rb[0][0]))/2;Rb=+Ib[0][1]+(Ma-lb*(Rb[1][1]+Rb[0][1]))/
2;jb.scale(150*lb).translate([na,Rb])},Qb)}function mb(jb,Ib,Qb){return Xa(jb,function(Rb){var na=+Ib,Ma=na/(Rb[1][0]-Rb[0][0]);na=(na-Ma*(Rb[1][0]+Rb[0][0]))/2;Rb=-Ma*Rb[0][1];jb.scale(150*Ma).translate([na,Rb])},Qb)}function ib(jb,Ib,Qb){return Xa(jb,function(Rb){var na=+Ib,Ma=na/(Rb[1][1]-Rb[0][1]),lb=-Ma*Rb[0][0];Rb=(na-Ma*(Rb[1][1]+Rb[0][1]))/2;jb.scale(150*Ma).translate([lb,Rb])},Qb)}function Eb(jb){return ka({point:function(Ib,Qb){Ib=jb(Ib,Qb);this.stream.point(Ib[0],Ib[1])}})}function Zb(jb,
Ib){function Qb(Rb,na,Ma,lb,Jb,Nb,Lb,pc,Oc,zc,wc,od,qd,Fe){var Cd=Lb-Rb,je=pc-na,ve=Cd*Cd+je*je;if(ve>4*Ib&&qd--){var xd=lb+zc,Id=Jb+wc,te=Nb+od,ye=fc(xd*xd+Id*Id+te*te),vd=A(te/=ye),ef=1E-6>Td(Td(te)-1)||1E-6>Td(Ma-Oc)?(Ma+Oc)/2:Se(Id,xd),df=jb(ef,vd);vd=df[0];df=df[1];var vf=vd-Rb,Lf=df-na,Of=je*vf-Cd*Lf;if(Of*Of/ve>Ib||.3<Td((Cd*vf+je*Lf)/ve-.5)||lb*zc+Jb*wc+Nb*od<la)Qb(Rb,na,Ma,lb,Jb,Nb,vd,df,ef,xd/=ye,Id/=ye,te,qd,Fe),Fe.point(vd,df),Qb(vd,df,ef,xd,Id,te,Lb,pc,Oc,zc,wc,od,qd,Fe)}}return function(Rb){function na(vd,
ef){vd=jb(vd,ef);Rb.point(vd[0],vd[1])}function Ma(){je=NaN;ye.point=lb;Rb.lineStart()}function lb(vd,ef){var df=b([vd,ef]);ef=jb(vd,ef);Qb(je,ve,Cd,xd,Id,te,je=ef[0],ve=ef[1],Cd=vd,xd=df[0],Id=df[1],te=df[2],16,Rb);Rb.point(je,ve)}function Jb(){ye.point=na;Rb.lineEnd()}function Nb(){Ma();ye.point=Lb;ye.lineEnd=pc}function Lb(vd,ef){lb(Oc=vd,ef);zc=je;wc=ve;od=xd;qd=Id;Fe=te;ye.point=lb}function pc(){Qb(je,ve,Cd,xd,Id,te,zc,wc,Oc,od,qd,Fe,16,Rb);ye.lineEnd=Jb;Jb()}var Oc,zc,wc,od,qd,Fe,Cd,je,ve,xd,
Id,te,ye={point:na,lineStart:Ma,lineEnd:Jb,polygonStart:function(){Rb.polygonStart();ye.lineStart=Nb},polygonEnd:function(){Rb.polygonEnd();ye.lineStart=Ma}};return ye}}function Gc(jb){return ka({point:function(Ib,Qb){Ib=jb(Ib,Qb);return this.stream.point(Ib[0],Ib[1])}})}function xc(jb,Ib,Qb,Rb,na){function Ma(lb,Jb){lb*=Rb;Jb*=na;return[Ib+jb*lb,Qb-jb*Jb]}Ma.invert=function(lb,Jb){return[(lb-Ib)/jb*Rb,(Qb-Jb)/jb*na]};return Ma}function Ic(jb,Ib,Qb,Rb,na,Ma){function lb(od,qd){od*=Rb;qd*=na;return[Nb*
od-Lb*qd+Ib,Qb-Lb*od-Nb*qd]}if(!Ma)return xc(jb,Ib,Qb,Rb,na);var Jb=ue(Ma);Ma=ub(Ma);var Nb=Jb*jb,Lb=Ma*jb,pc=Jb/jb,Oc=Ma/jb,zc=(Ma*Qb-Jb*Ib)/jb,wc=(Ma*Ib+Jb*Qb)/jb;lb.invert=function(od,qd){return[Rb*(pc*od-Oc*qd+zc),na*(wc-Oc*od-pc*qd)]};return lb}function rc(jb){return jd(function(){return jb})()}function jd(jb){function Ib(Xd){return Lf(Xd[0]*ce,Xd[1]*ce)}function Qb(Xd){return(Xd=Lf.invert(Xd[0],Xd[1]))&&[Xd[0]*be,Xd[1]*be]}function Rb(){var Xd=Ic(lb,0,0,Fe,Cd,qd).apply(null,Ma(Lb,pc));Xd=Ic(lb,
Jb-Xd[0],Nb-Xd[1],Fe,Cd,qd);od=F(Oc,zc,wc);vf=q(Ma,Xd);Lf=q(od,vf);Xd=vf;df=+ef?Zb(Xd,ef):Eb(Xd);return na()}function na(){Of=Xg=null;return Ib}var Ma,lb=150,Jb=480,Nb=250,Lb=0,pc=0,Oc=0,zc=0,wc=0,od,qd=0,Fe=1,Cd=1,je=null,ve=gc,xd=null,Id,te,ye,vd=fd,ef=.5,df,vf,Lf,Of,Xg;Ib.stream=function(Xd){return Of&&Xg===Xd?Of:Of=Qa(Gc(od)(ve(df(vd(Xg=Xd)))))};Ib.preclip=function(Xd){return arguments.length?(ve=Xd,je=void 0,na()):ve};Ib.postclip=function(Xd){return arguments.length?(vd=Xd,xd=Id=te=ye=null,na()):
vd};Ib.clipAngle=function(Xd){return arguments.length?(ve=+Xd?N(je=Xd*ce):(je=null,gc),na()):je*be};Ib.clipExtent=function(Xd){return arguments.length?(vd=null==Xd?(xd=Id=te=ye=null,fd):ja(xd=+Xd[0][0],Id=+Xd[0][1],te=+Xd[1][0],ye=+Xd[1][1]),na()):null==xd?null:[[xd,Id],[te,ye]]};Ib.scale=function(Xd){return arguments.length?(lb=+Xd,Rb()):lb};Ib.translate=function(Xd){return arguments.length?(Jb=+Xd[0],Nb=+Xd[1],Rb()):[Jb,Nb]};Ib.center=function(Xd){return arguments.length?(Lb=Xd[0]%360*ce,pc=Xd[1]%
360*ce,Rb()):[Lb*be,pc*be]};Ib.rotate=function(Xd){return arguments.length?(Oc=Xd[0]%360*ce,zc=Xd[1]%360*ce,wc=2<Xd.length?Xd[2]%360*ce:0,Rb()):[Oc*be,zc*be,wc*be]};Ib.angle=function(Xd){return arguments.length?(qd=Xd%360*ce,Rb()):qd*be};Ib.reflectX=function(Xd){return arguments.length?(Fe=Xd?-1:1,Rb()):0>Fe};Ib.reflectY=function(Xd){return arguments.length?(Cd=Xd?-1:1,Rb()):0>Cd};Ib.precision=function(Xd){if(arguments.length){var Ge=vf;var og=ef=Xd*Xd;Ge=(df=+og?Zb(Ge,og):Eb(Ge),na())}else Ge=fc(ef);
return Ge};Ib.fitExtent=function(Xd,Ge){return Ya(Ib,Xd,Ge)};Ib.fitSize=function(Xd,Ge){return Ya(Ib,[[0,0],Xd],Ge)};Ib.fitWidth=function(Xd,Ge){return mb(Ib,Xd,Ge)};Ib.fitHeight=function(Xd,Ge){return ib(Ib,Xd,Ge)};return function(){Ma=jb.apply(this,arguments);Ib.invert=Ma.invert&&Qb;return Rb()}}function Bb(jb){var Ib=0,Qb=rd/3,Rb=jd(jb);jb=Rb(Ib,Qb);jb.parallels=function(na){return arguments.length?Rb(Ib=na[0]*ce,Qb=na[1]*ce):[Ib*be,Qb*be]};return jb}function tb(jb){function Ib(Rb,na){return[Rb*
Qb,ub(na)/Qb]}var Qb=ue(jb);Ib.invert=function(Rb,na){return[Rb/Qb,A(na*Qb)]};return Ib}function dc(jb,Ib){function Qb(Jb,Nb){Nb=fc(Ma-2*na*ub(Nb))/na;return[Nb*ub(Jb*=na),lb-Nb*ue(Jb)]}var Rb=ub(jb),na=(Rb+ub(Ib))/2;if(1E-6>Td(na))return tb(jb);var Ma=1+Rb*(2*na-Rb),lb=fc(Ma)/na;Qb.invert=function(Jb,Nb){Nb=lb-Nb;var Lb=Se(Jb,Td(Nb))*Mb(Nb);0>Nb*na&&(Lb-=rd*Mb(Jb)*Mb(Nb));return[Lb/na,A((Ma-(Jb*Jb+Nb*Nb)*na*na)/(2*na))]};return Qb}function Yb(){return Bb(dc).scale(155.424).center([0,33.6442])}function hc(){return Yb().parallels([29.5,
45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function vc(jb){var Ib=jb.length;return{point:function(Qb,Rb){for(var na=-1;++na<Ib;)jb[na].point(Qb,Rb)},sphere:function(){for(var Qb=-1;++Qb<Ib;)jb[Qb].sphere()},lineStart:function(){for(var Qb=-1;++Qb<Ib;)jb[Qb].lineStart()},lineEnd:function(){for(var Qb=-1;++Qb<Ib;)jb[Qb].lineEnd()},polygonStart:function(){for(var Qb=-1;++Qb<Ib;)jb[Qb].polygonStart()},polygonEnd:function(){for(var Qb=-1;++Qb<Ib;)jb[Qb].polygonEnd()}}}function qc(jb){return function(Ib,
Qb){var Rb=ue(Ib),na=ue(Qb);Rb=jb(Rb*na);return Infinity===Rb?[2,0]:[Rb*na*ub(Ib),Rb*ub(Qb)]}}function Dc(jb){return function(Ib,Qb){var Rb=fc(Ib*Ib+Qb*Qb),na=jb(Rb),Ma=ub(na);na=ue(na);return[Se(Ib*Ma,Rb*na),A(Rb&&Qb*Ma/Rb)]}}function Yc(jb,Ib){return[jb,Ga(oc((Kd+Ib)/2))]}function Hd(jb){function Ib(){var Oc=rd*na(),zc=Qb(L(Qb.rotate()).invert([0,0]));return lb(null==Jb?[[zc[0]-Oc,zc[1]-Oc],[zc[0]+Oc,zc[1]+Oc]]:jb===Yc?[[Math.max(zc[0]-Oc,Jb),Nb],[Math.min(zc[0]+Oc,Lb),pc]]:[[Jb,Math.max(zc[1]-
Oc,Nb)],[Lb,Math.min(zc[1]+Oc,pc)]])}var Qb=rc(jb),Rb=Qb.center,na=Qb.scale,Ma=Qb.translate,lb=Qb.clipExtent,Jb=null,Nb,Lb,pc;Qb.scale=function(Oc){return arguments.length?(na(Oc),Ib()):na()};Qb.translate=function(Oc){return arguments.length?(Ma(Oc),Ib()):Ma()};Qb.center=function(Oc){return arguments.length?(Rb(Oc),Ib()):Rb()};Qb.clipExtent=function(Oc){return arguments.length?(null==Oc?Jb=Nb=Lb=pc=null:(Jb=+Oc[0][0],Nb=+Oc[0][1],Lb=+Oc[1][0],pc=+Oc[1][1]),Ib()):null==Jb?null:[[Jb,Nb],[Lb,pc]]};return Ib()}
function Fa(jb,Ib){function Qb(lb,Jb){0<Ma?Jb<-Kd+1E-6&&(Jb=-Kd+1E-6):Jb>Kd-1E-6&&(Jb=Kd-1E-6);Jb=Ma/$a(oc((Kd+Jb)/2),na);return[Jb*ub(na*lb),Ma-Jb*ue(na*lb)]}var Rb=ue(jb),na=jb===Ib?ub(jb):Ga(Rb/ue(Ib))/Ga(oc((Kd+Ib)/2)/oc((Kd+jb)/2)),Ma=Rb*$a(oc((Kd+jb)/2),na)/na;if(!na)return Yc;Qb.invert=function(lb,Jb){Jb=Ma-Jb;var Nb=Mb(na)*fc(lb*lb+Jb*Jb),Lb=Se(lb,Td(Jb))*Mb(Jb);0>Jb*na&&(Lb-=rd*Mb(lb)*Mb(Jb));return[Lb/na,2*af($a(Ma/Nb,1/na))-Kd]};return Qb}function Ca(jb,Ib){return[jb,Ib]}function Ha(jb,
Ib){function Qb(lb,Jb){Jb=Ma-Jb;lb*=na;return[Jb*ub(lb),Ma-Jb*ue(lb)]}var Rb=ue(jb),na=jb===Ib?ub(jb):(Rb-ue(Ib))/(Ib-jb),Ma=Rb/na+jb;if(1E-6>Td(na))return Ca;Qb.invert=function(lb,Jb){Jb=Ma-Jb;var Nb=Se(lb,Td(Jb))*Mb(Jb);0>Jb*na&&(Nb-=rd*Mb(lb)*Mb(Jb));return[Nb/na,Ma-Mb(na)*fc(lb*lb+Jb*Jb)]};return Qb}function db(jb,Ib){Ib=A(Fb*ub(Ib));var Qb=Ib*Ib,Rb=Qb*Qb*Qb;return[jb*ue(Ib)/(Fb*(1.340264+3*-.081106*Qb+Rb*(7*8.93E-4+.034164*Qb))),Ib*(1.340264+-.081106*Qb+Rb*(8.93E-4+.003796*Qb))]}function ob(jb,
Ib){var Qb=ue(Ib),Rb=ue(jb)*Qb;return[Qb*ub(jb)/Rb,ub(Ib)/Rb]}function Ab(jb,Ib){var Qb=Ib*Ib,Rb=Qb*Qb;return[jb*(.8707-.131979*Qb+Rb*(-.013791+Rb*(.003971*Qb-.001529*Rb))),Ib*(1.007226+Qb*(.015085+Rb*(-.044475+.028874*Qb-.005916*Rb)))]}function Ob(jb,Ib){return[ue(Ib)*ub(jb),ub(Ib)]}function Ub(jb,Ib){var Qb=ue(Ib),Rb=1+ue(jb)*Qb;return[Qb*ub(jb)/Rb,ub(Ib)/Rb]}function $b(jb,Ib){return[Ga(oc((Kd+Ib)/2)),-jb]}function Jc(jb){return 1<jb?Lc:-1>jb?-Lc:Math.asin(jb)}function Wc(jb,Ib){return function Rb(){const na=
Ib();na.type=jb;na.path=aa().projection(na);na.copy=na.copy||function(){const Ma=Rb();mc.forEach(lb=>{if(na[lb])Ma[lb](na[lb]())});Ma.path.pointRadius(na.path.pointRadius());return Ma};return na}}function dd(jb,Ib){if(!jb||"string"!==typeof jb)throw Error("Projection type must be a name string.");jb=jb.toLowerCase();return 1<arguments.length?(Qc[jb]=Wc(jb,Ib),this):Qc[jb]||null}class ld{constructor(){this._partials=new Float64Array(32);this._n=0}add(jb){const Ib=this._partials;let Qb=0;for(let Rb=
0;Rb<this._n&&32>Rb;Rb++){const na=Ib[Rb],Ma=jb+na;(jb=Math.abs(jb)<Math.abs(na)?jb-(Ma-na):na-(Ma-jb))&&(Ib[Qb++]=jb);jb=Ma}Ib[Qb]=jb;this._n=Qb+1;return this}valueOf(){const jb=this._partials;let Ib=this._n;let Qb,Rb=0;if(0<Ib){for(Rb=jb[--Ib];0<Ib;){var na=Rb;Qb=jb[--Ib];Rb=na+Qb;if(na=Qb-(Rb-na))break}0<Ib&&(0>na&&0>jb[Ib-1]||0<na&&0<jb[Ib-1])&&(Qb=2*na,na=Rb+Qb,Qb==na-Rb&&(Rb=na))}return Rb}}var rd=Math.PI,Kd=rd/2,Nd=rd/4,fe=2*rd,be=180/rd,ce=rd/180,Td=Math.abs,af=Math.atan,Se=Math.atan2,ue=
Math.cos,me=Math.exp,Ga=Math.log,$a=Math.pow,ub=Math.sin,Mb=Math.sign||function(jb){return 0<jb?1:0>jb?-1:0},fc=Math.sqrt,oc=Math.tan,Mc={Feature:function(jb,Ib){m(jb.geometry,Ib)},FeatureCollection:function(jb,Ib){jb=jb.features;for(var Qb=-1,Rb=jb.length;++Qb<Rb;)m(jb[Qb].geometry,Ib)}},Kc={Sphere:function(jb,Ib){Ib.sphere()},Point:function(jb,Ib){jb=jb.coordinates;Ib.point(jb[0],jb[1],jb[2])},MultiPoint:function(jb,Ib){for(var Qb=jb.coordinates,Rb=-1,na=Qb.length;++Rb<na;)jb=Qb[Rb],Ib.point(jb[0],
jb[1],jb[2])},LineString:function(jb,Ib){l(jb.coordinates,Ib,0)},MultiLineString:function(jb,Ib){jb=jb.coordinates;for(var Qb=-1,Rb=jb.length;++Qb<Rb;)l(jb[Qb],Ib,0)},Polygon:function(jb,Ib){f(jb.coordinates,Ib)},MultiPolygon:function(jb,Ib){jb=jb.coordinates;for(var Qb=-1,Rb=jb.length;++Qb<Rb;)f(jb[Qb],Ib)},GeometryCollection:function(jb,Ib){jb=jb.geometries;for(var Qb=-1,Rb=jb.length;++Qb<Rb;)m(jb[Qb],Ib)}};E.invert=E;var gc=J(function(){return!0},function(jb){var Ib=NaN,Qb=NaN,Rb=NaN,na;return{lineStart:function(){jb.lineStart();
na=1},point:function(Ma,lb){var Jb=0<Ma?rd:-rd,Nb=Td(Ma-Ib);if(1E-6>Td(Nb-rd))jb.point(Ib,Qb=0<(Qb+lb)/2?Kd:-Kd),jb.point(Rb,Qb),jb.lineEnd(),jb.lineStart(),jb.point(Jb,Qb),jb.point(Ma,Qb),na=0;else if(Rb!==Jb&&Nb>=rd){1E-6>Td(Ib-Rb)&&(Ib-=1E-6*Rb);1E-6>Td(Ma-Jb)&&(Ma-=1E-6*Jb);Nb=Ib;var Lb=Qb,pc=Ma,Oc,zc,wc=ub(Nb-pc);Qb=1E-6<Td(wc)?af((ub(Lb)*(zc=ue(lb))*ub(pc)-ub(lb)*(Oc=ue(Lb))*ub(Nb))/(Oc*zc*wc)):(Lb+lb)/2;jb.point(Rb,Qb);jb.lineEnd();jb.lineStart();jb.point(Jb,Qb);na=0}jb.point(Ib=Ma,Qb=lb);
Rb=Jb},lineEnd:function(){jb.lineEnd();Ib=Qb=NaN},clean:function(){return 2-na}}},function(jb,Ib,Qb,Rb){null==jb?(Qb*=Kd,Rb.point(-rd,Qb),Rb.point(0,Qb),Rb.point(rd,Qb),Rb.point(rd,0),Rb.point(rd,-Qb),Rb.point(0,-Qb),Rb.point(-rd,-Qb),Rb.point(-rd,0),Rb.point(-rd,Qb)):1E-6<Td(jb[0]-Ib[0])?(jb=jb[0]<Ib[0]?rd:-rd,Qb=Qb*jb/2,Rb.point(-jb,Qb),Rb.point(0,Qb),Rb.point(jb,Qb)):Rb.point(Ib[0],Ib[1])},[-rd,-Kd]),fd=jb=>jb,nd=new ld,Fd=new ld,Od,Ud,Yd,Ee,ze={point:u,lineStart:u,lineEnd:u,polygonStart:function(){ze.lineStart=
ba;ze.lineEnd=Wa},polygonEnd:function(){ze.lineStart=ze.lineEnd=ze.point=u;nd.add(Td(Fd));Fd=new ld},result:function(){var jb=nd/2;nd=new ld;return jb}},Bf=ze,xe=Infinity,Ne=xe,rf=-xe,Vb=rf,sc={point:function(jb,Ib){jb<xe&&(xe=jb);jb>rf&&(rf=jb);Ib<Ne&&(Ne=Ib);Ib>Vb&&(Vb=Ib)},lineStart:u,lineEnd:u,polygonStart:u,polygonEnd:u,result:function(){var jb=[[xe,Ne],[rf,Vb]];rf=Vb=-(Ne=xe=Infinity);return jb}},cd=0,wd=0,Bd=0,pe=0,hf=0,Vf=0,yf=0,Ff=0,Oe=0,Gb,Wb,Uc,ie,oe={point:hb,lineStart:Ja,lineEnd:va,polygonStart:function(){oe.lineStart=
sa;oe.lineEnd=xa},polygonEnd:function(){oe.point=hb;oe.lineStart=Ja;oe.lineEnd=va},result:function(){var jb=Oe?[yf/Oe,Ff/Oe]:Vf?[pe/Vf,hf/Vf]:Bd?[cd/Bd,wd/Bd]:[NaN,NaN];cd=wd=Bd=pe=hf=Vf=yf=Ff=Oe=0;return jb}},Vd=oe;Ua.prototype={_radius:4.5,pointRadius:function(jb){return this._radius=jb,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(jb,
Ib){switch(this._point){case 0:this._context.moveTo(jb,Ib);this._point=1;break;case 1:this._context.lineTo(jb,Ib);break;default:this._context.moveTo(jb+this._radius,Ib),this._context.arc(jb,Ib,this._radius,0,fe)}},result:u};var Qd=new ld,se,cf,qf,ua,vb,Oa={point:u,lineStart:function(){Oa.point=ab},lineEnd:function(){se&&ta(cf,qf);Oa.point=u},polygonStart:function(){se=!0},polygonEnd:function(){se=null},result:function(){var jb=+Qd;Qd=new ld;return jb}},ic=Oa;Na.prototype={_radius:4.5,_circle:oa(4.5),
pointRadius:function(jb){(jb=+jb)!==this._radius&&(this._radius=jb,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(jb,Ib){switch(this._point){case 0:this._string.push("M",jb,",",Ib);this._point=1;break;case 1:this._string.push("L",jb,",",Ib);break;default:null==this._circle&&(this._circle=oa(this._radius)),this._string.push("M",
jb,",",Ib,this._circle)}},result:function(){if(this._string.length){var jb=this._string.join("");this._string=[];return jb}return null}};Ia.prototype={constructor:Ia,point:function(jb,Ib){this.stream.point(jb,Ib)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var la=ue(30*ce),Qa=ka({point:function(jb,Ib){this.stream.point(jb*
ce,Ib*ce)}}),fb=qc(function(jb){return fc(2/(1+jb))});fb.invert=Dc(function(jb){return 2*A(jb/2)});var xb=qc(function(jb){return(jb=p(jb))&&jb/ub(jb)});xb.invert=Dc(function(jb){return jb});Yc.invert=function(jb,Ib){return[jb,2*af(me(Ib))-Kd]};Ca.invert=Ca;var Fb=fc(3)/2;db.invert=function(jb,Ib){for(var Qb=Ib,Rb=Qb*Qb,na=Rb*Rb*Rb,Ma=0,lb;12>Ma&&!(lb=Qb*(1.340264+-.081106*Rb+na*(8.93E-4+.003796*Rb))-Ib,Rb=1.340264+3*-.081106*Rb+na*(7*8.93E-4+.034164*Rb),Qb-=lb/=Rb,Rb=Qb*Qb,na=Rb*Rb*Rb,1E-12>Td(lb));++Ma);
return[Fb*jb*(1.340264+3*-.081106*Rb+na*(7*8.93E-4+.034164*Rb))/ue(Qb),A(ub(Qb)/Fb)]};ob.invert=Dc(af);Ab.invert=function(jb,Ib){var Qb=Ib,Rb=25;do{var na=Qb*Qb;var Ma=na*na;Qb-=Ma=(Qb*(1.007226+na*(.015085+Ma*(-.044475+.028874*na-.005916*Ma)))-Ib)/(1.007226+na*(.045255+Ma*(-.311325+.259866*na-.005916*11*Ma)))}while(1E-6<Td(Ma)&&0<--Rb);return[jb/(.8707+(na=Qb*Qb)*(-.131979+na*(-.013791+na*na*na*(.003971-.001529*na)))),Qb]};Ob.invert=Dc(A);Ub.invert=Dc(function(jb){return 2*af(jb)});$b.invert=function(jb,
Ib){return[-Ib,2*af(me(jb))-Kd]};var ac=Math.abs,yc=Math.cos,Zc=Math.sin,ad=Math.PI,Lc=ad/2,Ec=Math.sqrt(2),tc=function(jb,Ib,Qb){function Rb(na,Ma){var lb=Ma,Jb=Qb*Zc(lb),Nb=30,Lb;do lb-=Lb=(lb+Zc(lb)-Jb)/(1+yc(lb));while(1E-6<ac(Lb)&&0<--Nb);return[jb*na*yc(Ma=lb/2),Ib*Zc(Ma)]}Rb.invert=function(na,Ma){return Ma=Jc(Ma/Ib),[na/(jb*yc(Ma)),Jc((2*Ma+Zc(2*Ma))/Qb)]};return Rb}(Ec/Lc,Ec,ad);const Nc=aa(),mc="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),
Qc={albers:hc,albersusa:function(){function jb(zc){var wc=zc[0];zc=zc[1];return pc=null,(Ma.point(wc,zc),pc)||(Jb.point(wc,zc),pc)||(Lb.point(wc,zc),pc)}function Ib(){Qb=Rb=null;return jb}var Qb,Rb,na=hc(),Ma,lb=Yb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Jb,Nb=Yb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Lb,pc,Oc={point:function(zc,wc){pc=[zc,wc]}};jb.invert=function(zc){var wc=na.scale(),od=na.translate(),qd=(zc[0]-od[0])/wc;wc=(zc[1]-od[1])/wc;return(.12<=wc&&.234>wc&&
-.425<=qd&&-.214>qd?lb:.166<=wc&&.234>wc&&-.214<=qd&&-.115>qd?Nb:na).invert(zc)};jb.stream=function(zc){return Qb&&Rb===zc?Qb:Qb=vc([na.stream(Rb=zc),lb.stream(zc),Nb.stream(zc)])};jb.precision=function(zc){if(!arguments.length)return na.precision();na.precision(zc);lb.precision(zc);Nb.precision(zc);return Ib()};jb.scale=function(zc){if(!arguments.length)return na.scale();na.scale(zc);lb.scale(.35*zc);Nb.scale(zc);return jb.translate(na.translate())};jb.translate=function(zc){if(!arguments.length)return na.translate();
var wc=na.scale(),od=+zc[0],qd=+zc[1];Ma=na.translate(zc).clipExtent([[od-.455*wc,qd-.238*wc],[od+.455*wc,qd+.238*wc]]).stream(Oc);Jb=lb.translate([od-.307*wc,qd+.201*wc]).clipExtent([[od-.425*wc+1E-6,qd+.12*wc+1E-6],[od-.214*wc-1E-6,qd+.234*wc-1E-6]]).stream(Oc);Lb=Nb.translate([od-.205*wc,qd+.212*wc]).clipExtent([[od-.214*wc+1E-6,qd+.166*wc+1E-6],[od-.115*wc-1E-6,qd+.234*wc-1E-6]]).stream(Oc);return Ib()};jb.fitExtent=function(zc,wc){return Ya(jb,zc,wc)};jb.fitSize=function(zc,wc){return Ya(jb,
[[0,0],zc],wc)};jb.fitWidth=function(zc,wc){return mb(jb,zc,wc)};jb.fitHeight=function(zc,wc){return ib(jb,zc,wc)};return jb.scale(1070)},azimuthalequalarea:function(){return rc(fb).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return rc(xb).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Bb(Fa).scale(109.5).parallels([30,30])},conicequalarea:Yb,conicequidistant:function(){return Bb(Ha).scale(131.154).center([0,13.9389])},equalEarth:function(){return rc(db).scale(177.158)},
equirectangular:function(){return rc(Ca).scale(152.63)},gnomonic:function(){return rc(ob).scale(144.049).clipAngle(60)},identity:function(){function jb(){od=Qb*Ma;qd=Qb*lb;je=ve=null;return Ib}function Ib(xd){var Id=xd[0]*od;xd=xd[1]*qd;if(Jb){var te=xd*Nb-Id*Lb;Id=Id*Nb+xd*Lb;xd=te}return[Id+Rb,xd+na]}var Qb=1,Rb=0,na=0,Ma=1,lb=1,Jb=0,Nb,Lb,pc=null,Oc,zc,wc,od=1,qd=1,Fe=ka({point:function(xd,Id){xd=Ib([xd,Id]);this.stream.point(xd[0],xd[1])}}),Cd=fd,je,ve;Ib.invert=function(xd){var Id=xd[0]-Rb;xd=
xd[1]-na;if(Jb){var te=xd*Nb+Id*Lb;Id=Id*Nb-xd*Lb;xd=te}return[Id/od,xd/qd]};Ib.stream=function(xd){return je&&ve===xd?je:je=Fe(Cd(ve=xd))};Ib.postclip=function(xd){return arguments.length?(Cd=xd,pc=Oc=zc=wc=null,jb()):Cd};Ib.clipExtent=function(xd){return arguments.length?(Cd=null==xd?(pc=Oc=zc=wc=null,fd):ja(pc=+xd[0][0],Oc=+xd[0][1],zc=+xd[1][0],wc=+xd[1][1]),jb()):null==pc?null:[[pc,Oc],[zc,wc]]};Ib.scale=function(xd){return arguments.length?(Qb=+xd,jb()):Qb};Ib.translate=function(xd){return arguments.length?
(Rb=+xd[0],na=+xd[1],jb()):[Rb,na]};Ib.angle=function(xd){return arguments.length?(Jb=xd%360*ce,Lb=ub(Jb),Nb=ue(Jb),jb()):Jb*be};Ib.reflectX=function(xd){return arguments.length?(Ma=xd?-1:1,jb()):0>Ma};Ib.reflectY=function(xd){return arguments.length?(lb=xd?-1:1,jb()):0>lb};Ib.fitExtent=function(xd,Id){return Ya(Ib,xd,Id)};Ib.fitSize=function(xd,Id){return Ya(Ib,[[0,0],xd],Id)};Ib.fitWidth=function(xd,Id){return mb(Ib,xd,Id)};Ib.fitHeight=function(xd,Id){return ib(Ib,xd,Id)};return Ib},mercator:function(){return Hd(Yc).scale(961/
fe)},mollweide:function(){return rc(tc).scale(169.529)},naturalEarth1:function(){return rc(Ab).scale(175.295)},orthographic:function(){return rc(Ob).scale(249.5).clipAngle(90.000001)},stereographic:function(){return rc(Ub).scale(250).clipAngle(142)},transversemercator:function(){var jb=Hd($b),Ib=jb.center,Qb=jb.rotate;jb.center=function(Rb){return arguments.length?Ib([-Rb[1],Rb[0]]):(Rb=Ib(),[Rb[1],-Rb[0]])};jb.rotate=function(Rb){return arguments.length?Qb([Rb[0],Rb[1],2<Rb.length?Rb[2]+90:90]):
(Rb=Qb(),[Rb[0],Rb[1],Rb[2]-90])};return Qb([0,0,90]).scale(159.155)}};for(const jb in Qc)dd(jb,Qc[jb]);v.getProjectionPath=function(jb){return jb&&jb.path||Nc};v.projection=dd;v.projectionProperties=mc;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[32]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(23),z(14),z(24),z(31),z(26)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,p,A,u,m){function l(Fa,Ca){let Ha;if(void 0===Ca)for(var db of Fa)null!=db&&
(Ha<db||void 0===Ha&&db>=db)&&(Ha=db);else{db=-1;for(let ob of Fa)null!=(ob=Ca(ob,++db,Fa))&&(Ha<ob||void 0===Ha&&ob>=ob)&&(Ha=ob)}return Ha}function f(Fa,Ca,Ha){Fa=+Fa;Ca=+Ca;Ha=2>(ob=arguments.length)?(Ca=Fa,Fa=0,1):3>ob?1:+Ha;for(var db=-1,ob=Math.max(0,Math.ceil((Ca-Fa)/Ha))|0,Ab=Array(ob);++db<ob;)Ab[db]=Fa+db*Ha;return Ab}function g(Fa,Ca){let Ha=0;if(void 0===Ca)for(var db of Fa){if(db=+db)Ha+=db}else{db=-1;for(let ob of Fa)if(ob=+Ca(ob,++db,Fa))Ha+=ob}return Ha}function d(){}function b(){function Fa(Ub,
$b){return $b.map(Jc=>Ca(Ub,Jc))}function Ca(Ub,$b){var Jc=[],Wc=[];Ha(Ub,$b,dd=>{Ob(dd,Ub,$b);for(var ld=0,rd=dd.length,Kd=dd[rd-1][1]*dd[0][0]-dd[rd-1][0]*dd[0][1];++ld<rd;)Kd+=dd[ld-1][1]*dd[ld][0]-dd[ld-1][0]*dd[ld][1];0<Kd?Jc.push([dd]):Wc.push(dd)});Wc.forEach(dd=>{for(var ld=0,rd=Jc.length,Kd;ld<rd;++ld){a:{var Nd=(Kd=Jc[ld])[0];for(var fe=dd,be=-1,ce=fe.length;++be<ce;){b:{var Td=Nd;for(var af=fe[be],Se=af[0],ue=af[1],me=-1,Ga=0,$a=Td.length,ub=$a-1;Ga<$a;ub=Ga++){var Mb=Td[Ga],fc=Mb[0],oc=
Mb[1],Mc=Td[ub];ub=Mc[0];var Kc=Mc[1],gc,fd=Mb;Mb=Mc;Mc=af;if(gc=(Mb[0]-fd[0])*(Mc[1]-fd[1])===(Mc[0]-fd[0])*(Mb[1]-fd[1]))fd=fd[gc=+(fd[0]===Mb[0])],Mc=Mc[gc],Mb=Mb[gc],gc=fd<=Mc&&Mc<=Mb||Mb<=Mc&&Mc<=fd;if(gc){Td=0;break b}oc>ue!==Kc>ue&&Se<(ub-fc)*(ue-oc)/(Kc-oc)+fc&&(me=-me)}Td=me}if(Td){Nd=Td;break a}}Nd=0}if(-1!==Nd){Kd.push(dd);break}}});return{type:"MultiPolygon",value:$b,coordinates:Jc}}function Ha(Ub,$b,Jc){function Wc(Td){var af=[Td[0][0]+Kd,Td[0][1]+rd];Td=[Td[1][0]+Kd,Td[1][1]+rd];var Se=
2*af[0]+af[1]*(ob+1)*4,ue=2*Td[0]+Td[1]*(ob+1)*4,me,Ga;(me=ld[Se])?(Ga=dd[ue])?(delete ld[me.end],delete dd[Ga.start],me===Ga?(me.ring.push(Td),Jc(me.ring)):dd[me.start]=ld[Ga.end]={start:me.start,end:Ga.end,ring:me.ring.concat(Ga.ring)}):(delete ld[me.end],me.ring.push(Td),ld[me.end=ue]=me):(me=dd[ue])?(Ga=ld[Se])?(delete dd[me.start],delete ld[Ga.end],me===Ga?(me.ring.push(Td),Jc(me.ring)):dd[Ga.start]=ld[me.end]={start:Ga.start,end:me.end,ring:Ga.ring.concat(me.ring)}):(delete dd[me.start],me.ring.unshift(af),
dd[me.start=Se]=me):dd[Se]=ld[ue]={start:Se,end:ue,ring:[af,Td]}}var dd=[],ld=[],rd;var Kd=rd=-1;var Nd=Ub[0]>=$b;for(Ic[Nd<<1].forEach(Wc);++Kd<ob-1;){var fe=Nd;Nd=Ub[Kd+1]>=$b;Ic[fe|Nd<<1].forEach(Wc)}for(Ic[Nd<<0].forEach(Wc);++rd<Ab-1;){Kd=-1;Nd=Ub[rd*ob+ob]>=$b;var be=Ub[rd*ob]>=$b;for(Ic[Nd<<1|be<<2].forEach(Wc);++Kd<ob-1;){fe=Nd;Nd=Ub[rd*ob+ob+Kd+1]>=$b;var ce=be;be=Ub[rd*ob+Kd+1]>=$b;Ic[fe|Nd<<1|be<<2|ce<<3].forEach(Wc)}Ic[Nd|be<<3].forEach(Wc)}Kd=-1;be=Ub[rd*ob]>=$b;for(Ic[be<<2].forEach(Wc);++Kd<
ob-1;)ce=be,be=Ub[rd*ob+Kd+1]>=$b,Ic[be<<2|ce<<3].forEach(Wc);Ic[be<<3].forEach(Wc)}function db(Ub,$b,Jc){Ub.forEach(Wc=>{var dd=Wc[0],ld=Wc[1],rd=dd|0,Kd=ld|0,Nd=$b[Kd*ob+rd];if(0<dd&&dd<ob&&rd===dd){var fe=$b[Kd*ob+rd-1];Wc[0]=dd+(Jc-fe)/(Nd-fe)-.5}0<ld&&ld<Ab&&Kd===ld&&(fe=$b[(Kd-1)*ob+rd],Wc[1]=ld+(Jc-fe)/(Nd-fe)-.5)})}var ob=1,Ab=1,Ob=db;Fa.contour=Ca;Fa.size=function(Ub){if(!arguments.length)return[ob,Ab];var $b=Math.floor(Ub[0]),Jc=Math.floor(Ub[1]);0<=$b&&0<=Jc||p.error("invalid size");return ob=
$b,Ab=Jc,Fa};Fa.smooth=function(Ub){return arguments.length?(Ob=Ub?db:d,Fa):Ob===db};return Fa}function c(Fa,Ca,Ha){return function(db){var ob=p.extent(db);db=Ha?Math.min(ob[0],0):ob[0];ob=ob[1];var Ab=ob-db;if(Ca){var Ob=Math.abs(ob-db)/Math.max(0,Fa);Ab=Math.pow(10,Math.floor(Math.log(Ob)/Math.LN10));Ob/=Ab;Ob>=Zb?Ab*=10:Ob>=Gc?Ab*=5:Ob>=xc&&(Ab*=2);Ab=ob<db?-Ab:Ab}else Ab/=Fa+1;return f(db+Ab,ob,Ab)}}function a(Fa){k.Transform.call(this,null,Fa)}function e(Fa,Ca,Ha){const db=c(Ha.levels||10,Ha.nice,
!1!==Ha.zero);return"shared"!==Ha.resolve?db:db(Fa.map(ob=>l(Ca(ob).values)))}function t(Fa,Ca,Ha,db){var ob=db.scale||Ca.scale;let Ab=db.translate||Ca.translate;p.isFunction(ob)&&(ob=ob(Ha,db));p.isFunction(Ab)&&(Ab=Ab(Ha,db));if(1!==ob&&null!=ob||Ab)Ha=(p.isNumber(ob)?ob:ob[0])||1,ob=(p.isNumber(ob)?ob:ob[1])||1,Fa.forEach(y(Ca,Ha,ob,Ab&&Ab[0]||0,Ab&&Ab[1]||0))}function y(Fa,Ca,Ha,db,ob){function Ab(dd){dd.forEach(Ob)}function Ob(dd){Wc&&dd.reverse();dd.forEach(Ub)}function Ub(dd){dd[0]=(dd[0]-
$b)*Ca+db;dd[1]=(dd[1]-Jc)*Ha+ob}const $b=Fa.x1||0,Jc=Fa.y1||0,Wc=0>Ca*Ha;return function(dd){dd.coordinates.forEach(Ab);return dd}}function q(Fa,Ca,Ha){Fa=0<=Fa?Fa:A.bandwidthNRD(Ca,Ha);return Math.round((Math.sqrt(4*Fa*Fa+1)-1)/2)}function E(Fa){return p.isFunction(Fa)?Fa:p.constant(+Fa)}function F(){function Fa($b,Jc){const Wc=q(ob[0],$b,Ca)>>Ub,dd=q(ob[1],$b,Ha)>>Ub,ld=Wc?Wc+2:0,rd=dd?dd+2:0,Kd=2*ld+(Ab>>Ub),Nd=2*rd+(Ob>>Ub),fe=new Float32Array(Kd*Nd),be=new Float32Array(Kd*Nd);let ce=fe;$b.forEach(Td=>
{const af=ld+(+Ca(Td)>>Ub),Se=rd+(+Ha(Td)>>Ub);0<=af&&af<Kd&&0<=Se&&Se<Nd&&(fe[af+Se*Kd]+=+db(Td))});0<Wc&&0<dd?(w(Kd,Nd,fe,be,Wc),D(Kd,Nd,be,fe,dd),w(Kd,Nd,fe,be,Wc),D(Kd,Nd,be,fe,dd),w(Kd,Nd,fe,be,Wc),D(Kd,Nd,be,fe,dd)):0<Wc?(w(Kd,Nd,fe,be,Wc),w(Kd,Nd,be,fe,Wc),w(Kd,Nd,fe,be,Wc),ce=be):0<dd&&(D(Kd,Nd,fe,be,dd),D(Kd,Nd,be,fe,dd),D(Kd,Nd,fe,be,dd),ce=be);$b=Jc?Math.pow(2,-2*Ub):1/g(ce);for(let Td=0,af=Kd*Nd;Td<af;++Td)ce[Td]*=$b;return{values:ce,scale:1<<Ub,width:Kd,height:Nd,x1:ld,y1:rd,x2:ld+(Ab>>
Ub),y2:rd+(Ob>>Ub)}}var Ca=$b=>$b[0],Ha=$b=>$b[1],db=p.one,ob=[-1,-1],Ab=960,Ob=500,Ub=2;Fa.x=function($b){return arguments.length?(Ca=E($b),Fa):Ca};Fa.y=function($b){return arguments.length?(Ha=E($b),Fa):Ha};Fa.weight=function($b){return arguments.length?(db=E($b),Fa):db};Fa.size=function($b){if(!arguments.length)return[Ab,Ob];var Jc=+$b[0],Wc=+$b[1];0<=Jc&&0<=Wc||p.error("invalid size");return Ab=Jc,Ob=Wc,Fa};Fa.cellSize=function($b){if(!arguments.length)return 1<<Ub;1<=($b=+$b)||p.error("invalid cell size");
Ub=Math.floor(Math.log($b)/Math.LN2);return Fa};Fa.bandwidth=function($b){if(!arguments.length)return ob;$b=p.array($b);1===$b.length&&($b=[+$b[0],+$b[0]]);2!==$b.length&&p.error("invalid bandwidth");return ob=$b,Fa};return Fa}function w(Fa,Ca,Ha,db,ob){const Ab=(ob<<1)+1;for(let Ob=0;Ob<Ca;++Ob)for(let Ub=0,$b=0;Ub<Fa+ob;++Ub)Ub<Fa&&($b+=Ha[Ub+Ob*Fa]),Ub>=ob&&(Ub>=Ab&&($b-=Ha[Ub-Ab+Ob*Fa]),db[Ub-ob+Ob*Fa]=$b/Math.min(Ub+1,Fa-1+Ab-Ub,Ab))}function D(Fa,Ca,Ha,db,ob){const Ab=(ob<<1)+1;for(let Ob=0;Ob<
Fa;++Ob)for(let Ub=0,$b=0;Ub<Ca+ob;++Ub)Ub<Ca&&($b+=Ha[Ob+Ub*Fa]),Ub>=ob&&(Ub>=Ab&&($b-=Ha[Ob+(Ub-Ab)*Fa]),db[Ob+(Ub-ob)*Fa]=$b/Math.min(Ub+1,Ca-1+Ab-Ub,Ab))}function G(Fa){k.Transform.call(this,null,Fa)}function L(Fa,Ca){rc.forEach(Ha=>null!=Ca[Ha]?Fa[Ha](Ca[Ha]):0);return Fa}function O(Fa,Ca){var Ha=[],db=Wc=>Wc(Ub),ob;if(null==Ca)Ha.push(Fa);else{var Ab={};var Ob=0;for(ob=Fa.length;Ob<ob;++Ob){var Ub=Fa[Ob];var $b=Ca.map(db);var Jc=Ab[$b];Jc||(Ab[$b]=Jc=[],Jc.dims=$b,Ha.push(Jc));Jc.push(Ub)}}return Ha}
function V(Fa){k.Transform.call(this,null,Fa)}function S(Fa){k.Transform.call(this,null,Fa)}function ca(Fa){k.Transform.call(this,null,Fa)}function ea(Fa,Ca){const Ha=Fa.pointRadius();Fa.context(null);null!=Ca&&Fa.pointRadius(Ca);return Ha}function T(Fa){k.Transform.call(this,null,Fa)}function R(Fa){k.Transform.call(this,null,Fa)}function J(Fa,Ca,Ha){const db=null==Ha?ob=>Fa(Ca(ob)):ob=>{var Ab=Fa.pointRadius();ob=Fa.pointRadius(Ha)(Ca(ob));Fa.pointRadius(Ab);return ob};db.context=ob=>{Fa.context(ob);
return db};return db}function r(Fa,Ca,Ha){var db=f(Fa,Ca-1E-6,Ha).concat(Ca);return function(ob){return db.map(function(Ab){return[ob,Ab]})}}function C(Fa,Ca,Ha){var db=f(Fa,Ca-1E-6,Ha).concat(Ca);return function(ob){return db.map(function(Ab){return[Ab,ob]})}}function N(){function Fa(){return{type:"MultiLineString",coordinates:Ca()}}function Ca(){return f(Bb(Ab/ld)*ld,ob,ld).map(fe).concat(f(Bb(Jc/rd)*rd,$b,rd).map(be)).concat(f(Bb(db/Wc)*Wc,Ha,Wc).filter(function(Td){return 1E-6<jd(Td%ld)}).map(Kd)).concat(f(Bb(Ub/
dd)*dd,Ob,dd).filter(function(Td){return 1E-6<jd(Td%rd)}).map(Nd))}var Ha,db,ob,Ab,Ob,Ub,$b,Jc,Wc=10,dd=Wc,ld=90,rd=360,Kd,Nd,fe,be,ce=2.5;Fa.lines=function(){return Ca().map(function(Td){return{type:"LineString",coordinates:Td}})};Fa.outline=function(){return{type:"Polygon",coordinates:[fe(Ab).concat(be($b).slice(1),fe(ob).reverse().slice(1),be(Jc).reverse().slice(1))]}};Fa.extent=function(Td){return arguments.length?Fa.extentMajor(Td).extentMinor(Td):Fa.extentMinor()};Fa.extentMajor=function(Td){if(!arguments.length)return[[Ab,
Jc],[ob,$b]];Ab=+Td[0][0];ob=+Td[1][0];Jc=+Td[0][1];$b=+Td[1][1];Ab>ob&&(Td=Ab,Ab=ob,ob=Td);Jc>$b&&(Td=Jc,Jc=$b,$b=Td);return Fa.precision(ce)};Fa.extentMinor=function(Td){if(!arguments.length)return[[db,Ub],[Ha,Ob]];db=+Td[0][0];Ha=+Td[1][0];Ub=+Td[0][1];Ob=+Td[1][1];db>Ha&&(Td=db,db=Ha,Ha=Td);Ub>Ob&&(Td=Ub,Ub=Ob,Ob=Td);return Fa.precision(ce)};Fa.step=function(Td){return arguments.length?Fa.stepMajor(Td).stepMinor(Td):Fa.stepMinor()};Fa.stepMajor=function(Td){if(!arguments.length)return[ld,rd];
ld=+Td[0];rd=+Td[1];return Fa};Fa.stepMinor=function(Td){if(!arguments.length)return[Wc,dd];Wc=+Td[0];dd=+Td[1];return Fa};Fa.precision=function(Td){if(!arguments.length)return ce;ce=+Td;Kd=r(Ub,Ob,90);Nd=C(db,Ha,ce);fe=r(Jc,$b,90);be=C(Ab,ob,ce);return Fa};return Fa.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function U(Fa){k.Transform.call(this,[],Fa);this.generator=N()}function ja(Fa,Ca,Ha){Fa.prototype=Ca.prototype=Ha;Ha.constructor=Fa}function ba(Fa,
Ca){Fa=Object.create(Fa.prototype);for(var Ha in Ca)Fa[Ha]=Ca[Ha];return Fa}function ia(){}function za(){return this.rgb().formatHex()}function Wa(){return this.rgb().formatRgb()}function hb(Fa){var Ca,Ha;Fa=(Fa+"").trim().toLowerCase();return(Ca=dc.exec(Fa))?(Ha=Ca[1].length,Ca=parseInt(Ca[1],16),6===Ha?Ja(Ca):3===Ha?new va(Ca>>8&15|Ca>>4&240,Ca>>4&15|Ca&240,(Ca&15)<<4|Ca&15,1):8===Ha?qa(Ca>>24&255,Ca>>16&255,Ca>>8&255,(Ca&255)/255):4===Ha?qa(Ca>>12&15|Ca>>8&240,Ca>>8&15|Ca>>4&240,Ca>>4&15|Ca&240,
((Ca&15)<<4|Ca&15)/255):null):(Ca=Yb.exec(Fa))?new va(Ca[1],Ca[2],Ca[3],1):(Ca=hc.exec(Fa))?new va(255*Ca[1]/100,255*Ca[2]/100,255*Ca[3]/100,1):(Ca=vc.exec(Fa))?qa(Ca[1],Ca[2],Ca[3],Ca[4]):(Ca=qc.exec(Fa))?qa(255*Ca[1]/100,255*Ca[2]/100,255*Ca[3]/100,Ca[4]):(Ca=Dc.exec(Fa))?Ea(Ca[1],Ca[2]/100,Ca[3]/100,1):(Ca=Yc.exec(Fa))?Ea(Ca[1],Ca[2]/100,Ca[3]/100,Ca[4]):Hd.hasOwnProperty(Fa)?Ja(Hd[Fa]):"transparent"===Fa?new va(NaN,NaN,NaN,0):null}function Ja(Fa){return new va(Fa>>16&255,Fa>>8&255,Fa&255,1)}function qa(Fa,
Ca,Ha,db){0>=db&&(Fa=Ca=Ha=NaN);return new va(Fa,Ca,Ha,db)}function Da(Fa,Ca,Ha,db){if(1===arguments.length){var ob=Fa;ob instanceof ia||(ob=hb(ob));ob?(ob=ob.rgb(),ob=new va(ob.r,ob.g,ob.b,ob.opacity)):ob=new va}else ob=new va(Fa,Ca,Ha,null==db?1:db);return ob}function va(Fa,Ca,Ha,db){this.r=+Fa;this.g=+Ca;this.b=+Ha;this.opacity=+db}function sa(){return"#"+ma(this.r)+ma(this.g)+ma(this.b)}function xa(){var Fa=this.opacity;Fa=isNaN(Fa)?1:Math.max(0,Math.min(1,Fa));return(1===Fa?"rgb(":"rgba(")+Math.max(0,
Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Fa?")":", "+Fa+")")}function ma(Fa){Fa=Math.max(0,Math.min(255,Math.round(Fa)||0));return(16>Fa?"0":"")+Fa.toString(16)}function Ea(Fa,Ca,Ha,db){0>=db?Fa=Ca=Ha=NaN:0>=Ha||1<=Ha?Fa=Ca=NaN:0>=Ca&&(Fa=NaN);return new ab(Fa,Ca,Ha,db)}function Ua(Fa){if(Fa instanceof ab)return new ab(Fa.h,Fa.s,Fa.l,Fa.opacity);Fa instanceof ia||(Fa=hb(Fa));if(!Fa)return new ab;
if(Fa instanceof ab)return Fa;Fa=Fa.rgb();var Ca=Fa.r/255,Ha=Fa.g/255,db=Fa.b/255,ob=Math.min(Ca,Ha,db),Ab=Math.max(Ca,Ha,db),Ob=NaN,Ub=Ab-ob,$b=(Ab+ob)/2;Ub?(Ob=Ca===Ab?(Ha-db)/Ub+6*(Ha<db):Ha===Ab?(db-Ca)/Ub+2:(Ca-Ha)/Ub+4,Ub/=.5>$b?Ab+ob:2-Ab-ob,Ob*=60):Ub=0<$b&&1>$b?0:Ob;return new ab(Ob,Ub,$b,Fa.opacity)}function ab(Fa,Ca,Ha,db){this.h=+Fa;this.s=+Ca;this.l=+Ha;this.opacity=+db}function ta(Fa,Ca,Ha){return 255*(60>Fa?Ca+(Ha-Ca)*Fa/60:180>Fa?Ha:240>Fa?Ca+(Ha-Ca)*(240-Fa)/60:Ca)}function Na(Fa){k.Transform.call(this,
null,Fa)}function oa(Fa,Ca){let Ha;p.isFunction(Fa)?(Ha=db=>Da(Fa(db,Ca)),Ha.dep=ka(Fa)):Ha=p.constant(Da(Fa||"#888"));return Ha}function aa(Fa,Ca){let Ha;p.isFunction(Fa)?(Ha=db=>Fa(db,Ca),Ha.dep=ka(Fa)):Fa?Ha=p.constant(Fa):(Ha=db=>db.$value/db.$max||0,Ha.dep=!0);return Ha}function ka(Fa){if(!p.isFunction(Fa))return!1;Fa=p.toSet(p.accessorFields(Fa));return Fa.$x||Fa.$y||Fa.$value||Fa.$max}function Ia(Fa,Ca,Ha,db){const ob=Fa.width;var Ab=Fa.height;const Ob=Fa.x1||0,Ub=Fa.y1||0,$b=Fa.x2||ob;Ab=
Fa.y2||Ab;const Jc=Fa.values;Fa=Jc?Kd=>Jc[Kd]:p.zero;const Wc=m.canvas($b-Ob,Ab-Ub),dd=Wc.getContext("2d"),ld=dd.getImageData(0,0,$b-Ob,Ab-Ub),rd=ld.data;for(let Kd=Ub,Nd=0;Kd<Ab;++Kd){Ca.$y=Kd-Ub;for(let fe=Ob,be=Kd*ob;fe<$b;++fe,Nd+=4){Ca.$x=fe-Ob;Ca.$value=Fa(fe+be);const ce=Ha(Ca);rd[Nd+0]=ce.r;rd[Nd+1]=ce.g;rd[Nd+2]=ce.b;rd[Nd+3]=~~(255*db(Ca))}}dd.putImageData(ld,0,0);return Wc}function Xa(Fa){k.Transform.call(this,null,Fa);this.modified(!0)}function Ya(Fa,Ca){const Ha=ib(Ca.fit);Ca.extent?
Fa.fitExtent(Ca.extent,Ha):Ca.size?Fa.fitSize(Ca.size,Ha):0}function mb(Fa){const Ca=u.projection((Fa||"mercator").toLowerCase());Ca||p.error("Unrecognized projection type: "+Fa);return Ca()}function ib(Fa){Fa=p.array(Fa);return 1===Fa.length?Fa[0]:{type:"FeatureCollection",features:Fa.reduce((Ca,Ha)=>Ca.concat(Eb(Ha)),[])}}function Eb(Fa){return"FeatureCollection"===Fa.type?Fa.features:p.array(Fa).filter(Ca=>null!=Ca).map(Ca=>"Feature"===Ca.type?Ca:{type:"Feature",geometry:Ca})}var Zb=Math.sqrt(50),
Gc=Math.sqrt(10),xc=Math.sqrt(2);const Ic=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];a.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},
{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};p.inherits(a,k.Transform,{transform(Fa,Ca){if(this.value&&!Ca.changed()&&!Fa.modified())return Ca.StopPropagation;var Ha=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS);
Ca=Ca.materialize(Ca.SOURCE).source;var db=Fa.field||p.identity,ob=b().smooth(!1!==Fa.smooth),Ab=Fa.thresholds||e(Ca,db,Fa),Ob=null===Fa.as?null:Fa.as||"contour",Ub=[];Ca.forEach($b=>{const Jc=db($b),Wc=ob.size([Jc.width,Jc.height])(Jc.values,p.isArray(Ab)?Ab:Ab(Jc.values));t(Wc,Jc,$b,Fa);Wc.forEach(dd=>{Ub.push(k.rederive($b,k.ingest(null!=Ob?{[Ob]:dd}:dd)))})});this.value&&(Ha.rem=this.value);this.value=Ha.source=Ha.add=Ub;return Ha}});G.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",
type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const rc="x y weight size cellSize bandwidth".split(" ");p.inherits(G,k.Transform,{transform(Fa,Ca){if(this.value&&!Ca.changed()&&!Fa.modified())return Ca.StopPropagation;
var Ha=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS);Ca=Ca.materialize(Ca.SOURCE).source;Ca=O(Ca,Fa.groupby);var db=(Fa.groupby||[]).map(p.accessorName),ob=L(F(),Fa),Ab=Fa.as||"grid",Ob=[];Ob=Ca.map(Ub=>{var $b=k.ingest,Jc={[Ab]:ob(Ub,Fa.counts)};Ub=Ub.dims;for(let Wc=0;Wc<db.length;++Wc)Jc[db[Wc]]=Ub[Wc];return $b.call(k,Jc)});this.value&&(Ha.rem=this.value);this.value=Ha.source=Ha.add=Ob;return Ha}});V.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,
required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};p.inherits(V,k.Transform,{transform(Fa,Ca){if(this.value&&!Ca.changed()&&!Fa.modified())return Ca.StopPropagation;var Ha=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS),
db=b().smooth(!1!==Fa.smooth),ob=Fa.values,Ab=Fa.thresholds||c(Fa.count||10,Fa.nice,!!ob),Ob=Fa.size;if(!ob){ob=Ca.materialize(Ca.SOURCE).source;Fa=L(F(),Fa)(ob,!0);var Ub=y(Fa,Fa.scale||1,Fa.scale||1,0,0);Ob=[Fa.width,Fa.height];ob=Fa.values}Ab=p.isArray(Ab)?Ab:Ab(ob);ob=db.size(Ob)(ob,Ab);Ub&&ob.forEach(Ub);this.value&&(Ha.rem=this.value);this.value=Ha.source=Ha.add=(ob||[]).map(k.ingest);return Ha}});S.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},
{name:"geojson",type:"field"}]};p.inherits(S,k.Transform,{transform(Fa,Ca){var Ha=this._features,db=this._points,ob=Fa.fields,Ab=ob&&ob[0],Ob=ob&&ob[1],Ub=Fa.geojson||!ob&&p.identity;ob=Ca.ADD;Fa=Fa.modified()||Ca.changed(Ca.REM)||Ca.modified(p.accessorFields(Ub))||Ab&&Ca.modified(p.accessorFields(Ab))||Ob&&Ca.modified(p.accessorFields(Ob));if(!this.value||Fa)ob=Ca.SOURCE,this._features=Ha=[],this._points=db=[];Ub&&Ca.visit(ob,$b=>Ha.push(Ub($b)));Ab&&Ob&&(Ca.visit(ob,$b=>{var Jc=Ab($b);$b=Ob($b);
null!=Jc&&null!=$b&&(Jc=+Jc)===Jc&&($b=+$b)===$b&&db.push([Jc,$b])}),Ha=Ha.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:db}}));this.value={type:"FeatureCollection",features:Ha}}});ca.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};p.inherits(ca,k.Transform,{transform(Fa,Ca){var Ha=Ca.fork(Ca.ALL),db=this.value,ob=Fa.field||
p.identity,Ab=Fa.as||"path",Ob=Ha.SOURCE;!db||Fa.modified()?(this.value=db=u.getProjectionPath(Fa.projection),Ha.materialize().reflow()):Ob=ob===p.identity||Ca.modified(ob.fields)?Ha.ADD_MOD:Ha.ADD;Fa=ea(db,Fa.pointRadius);Ha.visit(Ob,Ub=>Ub[Ab]=db(ob(Ub)));db.pointRadius(Fa);return Ha.modifies(Ab)}});T.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,
length:2,"default":["x","y"]}]};p.inherits(T,k.Transform,{transform(Fa,Ca){function Ha(Jc){const Wc=db([ob(Jc),Ab(Jc)]);Wc?(Jc[Ub]=Wc[0],Jc[$b]=Wc[1]):(Jc[Ub]=void 0,Jc[$b]=void 0)}var db=Fa.projection,ob=Fa.fields[0],Ab=Fa.fields[1],Ob=Fa.as||["x","y"],Ub=Ob[0],$b=Ob[1];Fa.modified()?Ca=Ca.materialize().reflow(!0).visit(Ca.SOURCE,Ha):(Fa=Ca.modified(ob.fields)||Ca.modified(Ab.fields),Ca.visit(Fa?Ca.ADD_MOD:Ca.ADD,Ha));return Ca.modifies(Ob)}});R.Definition={type:"GeoShape",metadata:{modifies:!0,
nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};p.inherits(R,k.Transform,{transform(Fa,Ca){Ca=Ca.fork(Ca.ALL);var Ha=this.value,db=Fa.as||"shape",ob=Ca.ADD;if(!Ha||Fa.modified())this.value=Ha=J(u.getProjectionPath(Fa.projection),Fa.field||p.field("datum"),Fa.pointRadius),Ca.materialize().reflow(),ob=Ca.SOURCE;Ca.visit(ob,Ab=>Ab[db]=Ha);return Ca.modifies(db)}});
var jd=Math.abs,Bb=Math.ceil;U.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",
type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};p.inherits(U,k.Transform,{transform(Fa,Ca){var Ha=this.value,db=this.generator;if(!Ha.length||Fa.modified())for(const ob in Fa)if(p.isFunction(db[ob]))db[ob](Fa[ob]);Fa=db();Ha.length?Ca.mod.push(k.replace(Ha[0],Fa)):Ca.add.push(k.ingest(Fa));Ha[0]=Fa;return Ca}});var tb=1/.7,dc=/^#([0-9a-f]{3,8})$/,Yb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),hc=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
vc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),qc=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Dc=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Yc=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Hd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ja(ia,hb,{copy:function(Fa){return Object.assign(new this.constructor,this,Fa)},displayable:function(){return this.rgb().displayable()},hex:za,formatHex:za,formatHsl:function(){return Ua(this).formatHsl()},
formatRgb:Wa,toString:Wa});ja(va,Da,ba(ia,{brighter:function(Fa){Fa=null==Fa?tb:Math.pow(tb,Fa);return new va(this.r*Fa,this.g*Fa,this.b*Fa,this.opacity)},darker:function(Fa){Fa=null==Fa?.7:Math.pow(.7,Fa);return new va(this.r*Fa,this.g*Fa,this.b*Fa,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:sa,formatHex:sa,formatRgb:xa,toString:xa}));ja(ab,function(Fa,
Ca,Ha,db){return 1===arguments.length?Ua(Fa):new ab(Fa,Ca,Ha,null==db?1:db)},ba(ia,{brighter:function(Fa){Fa=null==Fa?tb:Math.pow(tb,Fa);return new ab(this.h,this.s,this.l*Fa,this.opacity)},darker:function(Fa){Fa=null==Fa?.7:Math.pow(.7,Fa);return new ab(this.h,this.s,this.l*Fa,this.opacity)},rgb:function(){var Fa=this.h%360+360*(0>this.h),Ca=isNaN(Fa)||isNaN(this.s)?0:this.s,Ha=this.l;Ca=Ha+(.5>Ha?Ha:1-Ha)*Ca;Ha=2*Ha-Ca;return new va(ta(240<=Fa?Fa-240:Fa+120,Ha,Ca),ta(Fa,Ha,Ca),ta(120>Fa?Fa+240:
Fa-120,Ha,Ca),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var Fa=this.opacity;Fa=isNaN(Fa)?1:Math.max(0,Math.min(1,Fa));return(1===Fa?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Fa?")":", "+Fa+")")}}));Na.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",
expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};p.inherits(Na,k.Transform,{transform(Fa,Ca){if(!Ca.changed()&&!Fa.modified())return Ca.StopPropagation;var Ha=Ca.materialize(Ca.SOURCE).source,db="shared"===Fa.resolve,ob=Fa.field||p.identity,Ab=aa(Fa.opacity,Fa),Ob=oa(Fa.color,Fa),Ub=Fa.as||"image",$b={$x:0,$y:0,$value:0,$max:db?l(Ha.map(Jc=>l(ob(Jc).values))):0};Ha.forEach(Jc=>{const Wc=ob(Jc),dd=p.extend({},
Jc,$b);db||(dd.$max=l(Wc.values||[]));Jc[Ub]=Ia(Wc,dd,Ob.dep?Ob:p.constant(Ob(dd)),Ab.dep?Ab:p.constant(Ab(dd)))});return Ca.reflow(!0).modifies(Ub)}});p.inherits(Xa,k.Transform,{transform(Fa,Ca){let Ha=this.value;!Ha||Fa.modified("type")?(this.value=Ha=mb(Fa.type),u.projectionProperties.forEach(db=>{if(null!=Fa[db]){var ob=Ha,Ab=Fa[db];if(p.isFunction(ob[db]))ob[db](Ab)}})):u.projectionProperties.forEach(db=>{if(Fa.modified(db)){var ob=Ha,Ab=Fa[db];if(p.isFunction(ob[db]))ob[db](Ab)}});null!=Fa.pointRadius&&
Ha.path.pointRadius(Fa.pointRadius);Fa.fit&&Ya(Ha,Fa);return Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS)}});v.contour=V;v.geojson=S;v.geopath=ca;v.geopoint=T;v.geoshape=R;v.graticule=U;v.heatmap=Na;v.isocontour=a;v.kde2d=G;v.projection=Xa;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[33]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(23),z(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,p){function A(ta,Na,oa,aa){if(isNaN(Na)||isNaN(oa))return ta;var ka,Ia=ta._root;aa={data:aa};var Xa=ta._x0,Ya=ta._y0,mb=ta._x1,ib=ta._y1,Eb,Zb,Gc,xc,Ic;if(!Ia)return ta._root=
aa,ta;for(;Ia.length;)if((Gc=Na>=(Eb=(Xa+mb)/2))?Xa=Eb:mb=Eb,(xc=oa>=(Zb=(Ya+ib)/2))?Ya=Zb:ib=Zb,ka=Ia,!(Ia=Ia[Ic=xc<<1|Gc]))return ka[Ic]=aa,ta;var rc=+ta._x.call(null,Ia.data);var jd=+ta._y.call(null,Ia.data);if(Na===rc&&oa===jd)return aa.next=Ia,ka?ka[Ic]=aa:ta._root=aa,ta;do ka=ka?ka[Ic]=Array(4):ta._root=Array(4),(Gc=Na>=(Eb=(Xa+mb)/2))?Xa=Eb:mb=Eb,(xc=oa>=(Zb=(Ya+ib)/2))?Ya=Zb:ib=Zb;while((Ic=xc<<1|Gc)===(Gc=(jd>=Zb)<<1|rc>=Eb));return ka[Gc]=Ia,ka[Ic]=aa,ta}function u(ta,Na,oa,aa,ka){this.node=
ta;this.x0=Na;this.y0=oa;this.x1=aa;this.y1=ka}function m(ta){return ta[0]}function l(ta){return ta[1]}function f(ta,Na,oa){Na=new g(null==Na?m:Na,null==oa?l:oa,NaN,NaN,NaN,NaN);return null==ta?Na:Na.addAll(ta)}function g(ta,Na,oa,aa,ka,Ia){this._x=ta;this._y=Na;this._x0=oa;this._y0=aa;this._x1=ka;this._y1=Ia;this._root=void 0}function d(ta){for(var Na={data:ta.data},oa=Na;ta=ta.next;)oa=oa.next={data:ta.data};return Na}function b(ta){return function(){return ta}}function c(ta){return ta.x+ta.vx}
function a(ta){return ta.y+ta.vy}function e(ta){return ta.index}function t(ta,Na){ta=ta.get(Na);if(!ta)throw Error("node not found: "+Na);return ta}function y(){for(var ta=0,Na=arguments.length,oa={},aa;ta<Na;++ta){if(!(aa=arguments[ta]+"")||aa in oa||/[\s.]/.test(aa))throw Error("illegal type: "+aa);oa[aa]=[]}return new q(oa)}function q(ta){this._=ta}function E(ta,Na){return ta.trim().split(/^|\s+/).map(function(oa){var aa="",ka=oa.indexOf(".");0<=ka&&(aa=oa.slice(ka+1),oa=oa.slice(0,ka));if(oa&&
!Na.hasOwnProperty(oa))throw Error("unknown type: "+oa);return{type:oa,name:aa}})}function F(ta,Na,oa){for(var aa=0,ka=ta.length;aa<ka;++aa)if(ta[aa].name===Na){ta[aa]=ja;ta=ta.slice(0,aa).concat(ta.slice(aa+1));break}null!=oa&&ta.push({name:Na,value:oa});return ta}function w(){qa=0}function D(){this._call=this._time=this._next=null}function G(ta,Na,oa){var aa=new D;aa.restart(ta,Na,oa);return aa}function L(){qa=(Ja=va.now())+Da;ba=ia=0;try{qa||(sa(w),qa=va.now()+Da);++ba;for(var ta=Wa,Na;ta;)0<=
(Na=qa-ta._time)&&ta._call.call(void 0,Na),ta=ta._next;--ba}finally{ba=0;ta=Wa;for(var oa=Infinity;ta;)if(ta._call){oa>ta._time&&(oa=ta._time);var aa=ta;ta=ta._next}else Na=ta._next,ta._next=null,ta=aa?aa._next=Na:Wa=Na;hb=aa;V(oa);qa=0}}function O(){var ta=va.now(),Na=ta-Ja;1E3<Na&&(Da-=Na,Ja=ta)}function V(ta){ba||(ia&&(ia=clearTimeout(ia)),24<ta-qa?(Infinity>ta&&(ia=setTimeout(L,ta-va.now()-Da)),za&&(za=clearInterval(za))):(za||(Ja=va.now(),za=setInterval(O,1E3)),ba=1,sa(L)))}function S(){let ta=
1;return()=>(ta=(1664525*ta+1013904223)%4294967296)/4294967296}function ca(ta){return ta.x}function ea(ta){return ta.y}function T(ta){function Na(){oa();xc.call("tick",Ia);Xa<Ya&&(Gc.stop(),xc.call("end",Ia))}function oa(rc){var jd,Bb=ta.length;void 0===rc&&(rc=1);for(var tb=0;tb<rc;++tb)for(Xa+=(ib-Xa)*mb,Zb.forEach(function(Yb){Yb(Xa)}),jd=0;jd<Bb;++jd){var dc=ta[jd];null==dc.fx?dc.x+=dc.vx*=Eb:(dc.x=dc.fx,dc.vx=0);null==dc.fy?dc.y+=dc.vy*=Eb:(dc.y=dc.fy,dc.vy=0)}return Ia}function aa(){for(var rc=
0,jd=ta.length,Bb;rc<jd;++rc){Bb=ta[rc];Bb.index=rc;null!=Bb.fx&&(Bb.x=Bb.fx);null!=Bb.fy&&(Bb.y=Bb.fy);if(isNaN(Bb.x)||isNaN(Bb.y)){var tb=10*Math.sqrt(.5+rc),dc=rc*xa;Bb.x=tb*Math.cos(dc);Bb.y=tb*Math.sin(dc)}if(isNaN(Bb.vx)||isNaN(Bb.vy))Bb.vx=Bb.vy=0}}function ka(rc){rc.initialize&&rc.initialize(ta,Ic);return rc}var Ia,Xa=1,Ya=.001,mb=1-Math.pow(Ya,1/300),ib=0,Eb=.6,Zb=new Map,Gc=G(Na),xc=y("tick","end"),Ic=S();null==ta&&(ta=[]);aa();return Ia={tick:oa,restart:function(){return Gc.restart(Na),
Ia},stop:function(){return Gc.stop(),Ia},nodes:function(rc){return arguments.length?(ta=rc,aa(),Zb.forEach(ka),Ia):ta},alpha:function(rc){return arguments.length?(Xa=+rc,Ia):Xa},alphaMin:function(rc){return arguments.length?(Ya=+rc,Ia):Ya},alphaDecay:function(rc){return arguments.length?(mb=+rc,Ia):+mb},alphaTarget:function(rc){return arguments.length?(ib=+rc,Ia):ib},velocityDecay:function(rc){return arguments.length?(Eb=1-rc,Ia):1-Eb},randomSource:function(rc){return arguments.length?(Ic=rc,Zb.forEach(ka),
Ia):Ic},force:function(rc,jd){return 1<arguments.length?(null==jd?Zb.delete(rc):Zb.set(rc,ka(jd)),Ia):Zb.get(rc)},find:function(rc,jd,Bb){var tb,dc=ta.length;Bb=null==Bb?Infinity:Bb*Bb;for(tb=0;tb<dc;++tb){var Yb=ta[tb];var hc=rc-Yb.x;var vc=jd-Yb.y;hc=hc*hc+vc*vc;if(hc<Bb){var qc=Yb;Bb=hc}}return qc},on:function(rc,jd){return 1<arguments.length?(xc.on(rc,jd),Ia):xc.on(rc)}}}function R(ta){k.Transform.call(this,null,ta)}function J(ta,Na){return()=>ta.touch(Na).run()}function r(ta,Na){ta=T(ta);const oa=
ta.stop,aa=ta.restart;let ka=!1;ta.stopped=()=>ka;ta.restart=()=>(ka=!1,aa());ta.stop=()=>(ka=!0,oa());return C(ta,Na,!0).on("end",()=>ka=!0)}function C(ta,Na,oa,aa){var ka=p.array(Na.forces),Ia;var Xa=0;for(Ia=Ea.length;Xa<Ia;++Xa){var Ya=Ea[Xa];if("forces"!==Ya&&Na.modified(Ya))ta[Ya](Na[Ya])}Xa=0;for(Ia=ka.length;Xa<Ia;++Xa){var mb="forces"+Xa;if(oa||Na.modified("forces",Xa)){Ya=void 0;var ib=ka[Xa];p.hasOwnProperty(ma,ib.force)||p.error("Unrecognized force: "+ib.force);var Eb=ma[ib.force]();for(Ya in ib)p.isFunction(Eb[Ya])&&
N(Eb[Ya],ib[Ya],ib);Ya=Eb}else{if(Ya=aa)a:{Eb=Ya=void 0;ib=ka[Xa];var Zb=aa;for(Eb in ib)if(p.isFunction(Ya=ib[Eb])&&Zb.modified(p.accessorFields(Ya))){Ya=1;break a}Ya=0}Ya=Ya?ta.force(mb):null}Ya&&ta.force(mb,Ya)}for(Ia=ta.numForces||0;Xa<Ia;++Xa)ta.force("forces"+Xa,null);ta.numForces=ka.length;return ta}function N(ta,Na,oa){ta(p.isFunction(Na)?aa=>Na(aa,oa):Na)}var U=f.prototype=g.prototype;U.copy=function(){var ta=new g(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Na=this._root,oa,aa;
if(!Na)return ta;if(!Na.length)return ta._root=d(Na),ta;for(oa=[{source:Na,target:ta._root=Array(4)}];Na=oa.pop();)for(var ka=0;4>ka;++ka)if(aa=Na.source[ka])aa.length?oa.push({source:aa,target:Na.target[ka]=Array(4)}):Na.target[ka]=d(aa);return ta};U.add=function(ta){const Na=+this._x.call(null,ta),oa=+this._y.call(null,ta);return A(this.cover(Na,oa),Na,oa,ta)};U.addAll=function(ta){var Na,oa,aa=ta.length,ka,Ia,Xa=Array(aa),Ya=Array(aa),mb=Infinity,ib=Infinity,Eb=-Infinity,Zb=-Infinity;for(oa=0;oa<
aa;++oa)isNaN(ka=+this._x.call(null,Na=ta[oa]))||isNaN(Ia=+this._y.call(null,Na))||(Xa[oa]=ka,Ya[oa]=Ia,ka<mb&&(mb=ka),ka>Eb&&(Eb=ka),Ia<ib&&(ib=Ia),Ia>Zb&&(Zb=Ia));if(mb>Eb||ib>Zb)return this;this.cover(mb,ib).cover(Eb,Zb);for(oa=0;oa<aa;++oa)A(this,Xa[oa],Ya[oa],ta[oa]);return this};U.cover=function(ta,Na){if(isNaN(ta=+ta)||isNaN(Na=+Na))return this;var oa=this._x0,aa=this._y0,ka=this._x1,Ia=this._y1;if(isNaN(oa))ka=(oa=Math.floor(ta))+1,Ia=(aa=Math.floor(Na))+1;else{for(var Xa=ka-oa||1,Ya=this._root,
mb,ib;oa>ta||ta>=ka||aa>Na||Na>=Ia;)switch(ib=(Na<aa)<<1|ta<oa,mb=Array(4),mb[ib]=Ya,Ya=mb,Xa*=2,ib){case 0:ka=oa+Xa;Ia=aa+Xa;break;case 1:oa=ka-Xa;Ia=aa+Xa;break;case 2:ka=oa+Xa;aa=Ia-Xa;break;case 3:oa=ka-Xa,aa=Ia-Xa}this._root&&this._root.length&&(this._root=Ya)}this._x0=oa;this._y0=aa;this._x1=ka;this._y1=Ia;return this};U.data=function(){var ta=[];this.visit(function(Na){if(!Na.length){do ta.push(Na.data);while(Na=Na.next)}});return ta};U.extent=function(ta){return arguments.length?this.cover(+ta[0][0],
+ta[0][1]).cover(+ta[1][0],+ta[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};U.find=function(ta,Na,oa){var aa=this._x0,ka=this._y0,Ia,Xa,Ya,mb,ib=this._x1,Eb=this._y1,Zb=[],Gc=this._root,xc;Gc&&Zb.push(new u(Gc,aa,ka,ib,Eb));null==oa?oa=Infinity:(aa=ta-oa,ka=Na-oa,ib=ta+oa,Eb=Na+oa,oa*=oa);for(;xc=Zb.pop();)if(!(!(Gc=xc.node)||(Ia=xc.x0)>ib||(Xa=xc.y0)>Eb||(Ya=xc.x1)<aa||(mb=xc.y1)<ka))if(Gc.length){xc=(Ia+Ya)/2;var Ic=(Xa+mb)/2;Zb.push(new u(Gc[3],xc,Ic,Ya,mb),new u(Gc[2],
Ia,Ic,xc,mb),new u(Gc[1],xc,Xa,Ya,Ic),new u(Gc[0],Ia,Xa,xc,Ic));if(Gc=(Na>=Ic)<<1|ta>=xc)xc=Zb[Zb.length-1],Zb[Zb.length-1]=Zb[Zb.length-1-Gc],Zb[Zb.length-1-Gc]=xc}else if(xc=ta-+this._x.call(null,Gc.data),Ic=Na-+this._y.call(null,Gc.data),xc=xc*xc+Ic*Ic,xc<oa){var rc=Math.sqrt(oa=xc);aa=ta-rc;ka=Na-rc;ib=ta+rc;Eb=Na+rc;rc=Gc.data}return rc};U.remove=function(ta){if(isNaN(mb=+this._x.call(null,ta))||isNaN(ib=+this._y.call(null,ta)))return this;var Na,oa=this._root,aa,ka=this._x0,Ia=this._y0,Xa=this._x1,
Ya=this._y1,mb,ib,Eb,Zb,Gc,xc,Ic;if(!oa)return this;if(oa.length)for(;;){(Gc=mb>=(Eb=(ka+Xa)/2))?ka=Eb:Xa=Eb;(xc=ib>=(Zb=(Ia+Ya)/2))?Ia=Zb:Ya=Zb;if(!(Na=oa,oa=oa[Ic=xc<<1|Gc]))return this;if(!oa.length)break;if(Na[Ic+1&3]||Na[Ic+2&3]||Na[Ic+3&3]){var rc=Na;var jd=Ic}}for(;oa.data!==ta;)if(!(aa=oa,oa=oa.next))return this;(ta=oa.next)&&delete oa.next;if(aa)return ta?aa.next=ta:delete aa.next,this;if(!Na)return this._root=ta,this;ta?Na[Ic]=ta:delete Na[Ic];(oa=Na[0]||Na[1]||Na[2]||Na[3])&&oa===(Na[3]||
Na[2]||Na[1]||Na[0])&&!oa.length&&(rc?rc[jd]=oa:this._root=oa);return this};U.removeAll=function(ta){for(var Na=0,oa=ta.length;Na<oa;++Na)this.remove(ta[Na]);return this};U.root=function(){return this._root};U.size=function(){var ta=0;this.visit(function(Na){if(!Na.length){do++ta;while(Na=Na.next)}});return ta};U.visit=function(ta){var Na=[],oa,aa=this._root,ka,Ia,Xa,Ya,mb;for(aa&&Na.push(new u(aa,this._x0,this._y0,this._x1,this._y1));oa=Na.pop();)if(!ta(aa=oa.node,Ia=oa.x0,Xa=oa.y0,Ya=oa.x1,mb=oa.y1)&&
aa.length){oa=(Ia+Ya)/2;var ib=(Xa+mb)/2;(ka=aa[3])&&Na.push(new u(ka,oa,ib,Ya,mb));(ka=aa[2])&&Na.push(new u(ka,Ia,ib,oa,mb));(ka=aa[1])&&Na.push(new u(ka,oa,Xa,Ya,ib));(ka=aa[0])&&Na.push(new u(ka,Ia,Xa,oa,ib))}return this};U.visitAfter=function(ta){var Na=[],oa=[],aa;for(this._root&&Na.push(new u(this._root,this._x0,this._y0,this._x1,this._y1));aa=Na.pop();){var ka=aa.node;if(ka.length){var Ia,Xa=aa.x0,Ya=aa.y0,mb=aa.x1,ib=aa.y1,Eb=(Xa+mb)/2,Zb=(Ya+ib)/2;(Ia=ka[0])&&Na.push(new u(Ia,Xa,Ya,Eb,Zb));
(Ia=ka[1])&&Na.push(new u(Ia,Eb,Ya,mb,Zb));(Ia=ka[2])&&Na.push(new u(Ia,Xa,Zb,Eb,ib));(Ia=ka[3])&&Na.push(new u(Ia,Eb,Zb,mb,ib))}oa.push(aa)}for(;aa=oa.pop();)ta(aa.node,aa.x0,aa.y0,aa.x1,aa.y1);return this};U.x=function(ta){return arguments.length?(this._x=ta,this):this._x};U.y=function(ta){return arguments.length?(this._y=ta,this):this._y};var ja={value:()=>{}};q.prototype=y.prototype={constructor:q,on:function(ta,Na){var oa=this._,aa=E(ta+"",oa),ka,Ia=-1,Xa=aa.length;if(2>arguments.length)for(;++Ia<
Xa;){var Ya;if(Ya=ka=(ta=aa[Ia]).type){a:{Ya=oa[ka];for(var mb=0,ib=Ya.length;mb<ib;++mb)if((ka=Ya[mb]).name===ta.name){ka=ka.value;break a}ka=void 0}Ya=ka}if(Ya)return ka}else{if(null!=Na&&"function"!==typeof Na)throw Error("invalid callback: "+Na);for(;++Ia<Xa;)if(ka=(ta=aa[Ia]).type)oa[ka]=F(oa[ka],ta.name,Na);else if(null==Na)for(ka in oa)oa[ka]=F(oa[ka],ta.name,null);return this}},copy:function(){var ta={},Na=this._,oa;for(oa in Na)ta[oa]=Na[oa].slice();return new q(ta)},call:function(ta,Na){if(0<
(ka=arguments.length-2))for(var oa=Array(ka),aa=0,ka,Ia;aa<ka;++aa)oa[aa]=arguments[aa+2];if(!this._.hasOwnProperty(ta))throw Error("unknown type: "+ta);Ia=this._[ta];aa=0;for(ka=Ia.length;aa<ka;++aa)Ia[aa].value.apply(Na,oa)},apply:function(ta,Na,oa){if(!this._.hasOwnProperty(ta))throw Error("unknown type: "+ta);ta=this._[ta];for(var aa=0,ka=ta.length;aa<ka;++aa)ta[aa].value.apply(Na,oa)}};var ba=0,ia=0,za=0,Wa,hb,Ja=0,qa=0,Da=0,va="object"===typeof performance&&performance.now?performance:Date,
sa="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ta){setTimeout(ta,17)};D.prototype=G.prototype={constructor:D,restart:function(ta,Na,oa){if("function"!==typeof ta)throw new TypeError("callback is not a function");oa=(null==oa?qa||(sa(w),qa=va.now()+Da):+oa)+(null==Na?0:+Na);this._next||hb===this||(hb?hb._next=this:Wa=this,hb=this);this._call=ta;this._time=oa;V()},stop:function(){this._call&&(this._call=null,this._time=Infinity,V())}};var xa=
Math.PI*(3-Math.sqrt(5));const ma={center:function(ta,Na){function oa(){var Ia,Xa=aa.length,Ya=0,mb=0;for(Ia=0;Ia<Xa;++Ia){var ib=aa[Ia];Ya+=ib.x;mb+=ib.y}Ya=(Ya/Xa-ta)*ka;mb=(mb/Xa-Na)*ka;for(Ia=0;Ia<Xa;++Ia)ib=aa[Ia],ib.x-=Ya,ib.y-=mb}var aa,ka=1;null==ta&&(ta=0);null==Na&&(Na=0);oa.initialize=function(Ia){aa=Ia};oa.x=function(Ia){return arguments.length?(ta=+Ia,oa):ta};oa.y=function(Ia){return arguments.length?(Na=+Ia,oa):Na};oa.strength=function(Ia){return arguments.length?(ka=+Ia,oa):ka};return oa},
collide:function(ta){function Na(){function ib(dc,Yb,hc,vc,qc){var Dc=dc.data;dc=dc.r;var Yc=jd+dc;if(Dc)Dc.index>xc.index&&(Yb=Ic-Dc.x-Dc.vx,hc=rc-Dc.y-Dc.vy,vc=Yb*Yb+hc*hc,vc<Yc*Yc&&(0===Yb&&(Yb=1E-6*(Xa()-.5),vc+=Yb*Yb),0===hc&&(hc=1E-6*(Xa()-.5),vc+=hc*hc),vc=(Yc-(vc=Math.sqrt(vc)))/vc*Ya,xc.vx+=(Yb*=vc)*(Yc=(dc*=dc)/(Bb+dc)),xc.vy+=(hc*=vc)*Yc,Dc.vx-=Yb*(Yc=1-Yc),Dc.vy-=hc*Yc));else return Yb>Ic+Yc||vc<Ic-Yc||hc>rc+Yc||qc<rc-Yc}for(var Eb,Zb=ka.length,Gc,xc,Ic,rc,jd,Bb,tb=0;tb<mb;++tb)for(Gc=
f(ka,c,a).visitAfter(oa),Eb=0;Eb<Zb;++Eb)xc=ka[Eb],jd=Ia[xc.index],Bb=jd*jd,Ic=xc.x+xc.vx,rc=xc.y+xc.vy,Gc.visit(ib)}function oa(ib){if(ib.data)return ib.r=Ia[ib.data.index];for(var Eb=ib.r=0;4>Eb;++Eb)ib[Eb]&&ib[Eb].r>ib.r&&(ib.r=ib[Eb].r)}function aa(){if(ka){var ib,Eb=ka.length;Ia=Array(Eb);for(ib=0;ib<Eb;++ib){var Zb=ka[ib];Ia[Zb.index]=+ta(Zb,ib,ka)}}}var ka,Ia,Xa,Ya=1,mb=1;"function"!==typeof ta&&(ta=b(null==ta?1:+ta));Na.initialize=function(ib,Eb){ka=ib;Xa=Eb;aa()};Na.iterations=function(ib){return arguments.length?
(mb=+ib,Na):mb};Na.strength=function(ib){return arguments.length?(Ya=+ib,Na):Ya};Na.radius=function(ib){return arguments.length?(ta="function"===typeof ib?ib:b(+ib),aa(),Na):ta};return Na},nbody:function(){function ta(xc){var Ic=ka.length,rc=f(ka,ca,ea).visitAfter(oa);Ya=xc;for(xc=0;xc<Ic;++xc)Ia=ka[xc],rc.visit(aa)}function Na(){if(ka){var xc,Ic=ka.length;ib=Array(Ic);for(xc=0;xc<Ic;++xc){var rc=ka[xc];ib[rc.index]=+mb(rc,xc,ka)}}}function oa(xc){var Ic=0,rc,jd,Bb=0,tb,dc,Yb;if(xc.length){for(tb=
dc=Yb=0;4>Yb;++Yb)(rc=xc[Yb])&&(jd=Math.abs(rc.value))&&(Ic+=rc.value,Bb+=jd,tb+=jd*rc.x,dc+=jd*rc.y);xc.x=tb/Bb;xc.y=dc/Bb}else{rc=xc;rc.x=rc.data.x;rc.y=rc.data.y;do Ic+=ib[rc.data.index];while(rc=rc.next)}xc.value=Ic}function aa(xc,Ic,rc,jd){if(!xc.value)return!0;rc=xc.x-Ia.x;var Bb=xc.y-Ia.y;Ic=jd-Ic;jd=rc*rc+Bb*Bb;if(Ic*Ic/Gc<jd)return jd<Zb&&(0===rc&&(rc=1E-6*(Xa()-.5),jd+=rc*rc),0===Bb&&(Bb=1E-6*(Xa()-.5),jd+=Bb*Bb),jd<Eb&&(jd=Math.sqrt(Eb*jd)),Ia.vx+=rc*xc.value*Ya/jd,Ia.vy+=Bb*xc.value*Ya/
jd),!0;if(!(xc.length||jd>=Zb)){if(xc.data!==Ia||xc.next)0===rc&&(rc=1E-6*(Xa()-.5),jd+=rc*rc),0===Bb&&(Bb=1E-6*(Xa()-.5),jd+=Bb*Bb),jd<Eb&&(jd=Math.sqrt(Eb*jd));do xc.data!==Ia&&(Ic=ib[xc.data.index]*Ya/jd,Ia.vx+=rc*Ic,Ia.vy+=Bb*Ic);while(xc=xc.next)}}var ka,Ia,Xa,Ya,mb=b(-30),ib,Eb=1,Zb=Infinity,Gc=.81;ta.initialize=function(xc,Ic){ka=xc;Xa=Ic;Na()};ta.strength=function(xc){return arguments.length?(mb="function"===typeof xc?xc:b(+xc),Na(),ta):mb};ta.distanceMin=function(xc){return arguments.length?
(Eb=xc*xc,ta):Math.sqrt(Eb)};ta.distanceMax=function(xc){return arguments.length?(Zb=xc*xc,ta):Math.sqrt(Zb)};ta.theta=function(xc){return arguments.length?(Gc=xc*xc,ta):Math.sqrt(Gc)};return ta},link:function(ta){function Na(rc){for(var jd=0,Bb=ta.length;jd<Ic;++jd)for(var tb=0,dc,Yb,hc,vc,qc;tb<Bb;++tb)dc=ta[tb],Yb=dc.source,dc=dc.target,hc=dc.x+dc.vx-Yb.x-Yb.vx||1E-6*(xc()-.5),vc=dc.y+dc.vy-Yb.y-Yb.vy||1E-6*(xc()-.5),qc=Math.sqrt(hc*hc+vc*vc),qc=(qc-ib[tb])/qc*rc*Ya[tb],hc*=qc,vc*=qc,dc.vx-=hc*
(qc=Gc[tb]),dc.vy-=vc*qc,Yb.vx+=hc*(qc=1-qc),Yb.vy+=vc*qc}function oa(){if(Eb){var rc=Eb.length,jd=ta.length,Bb=new Map(Eb.map((dc,Yb)=>[Ia(dc,Yb,Eb),dc]));var tb=0;for(Zb=Array(rc);tb<jd;++tb)rc=ta[tb],rc.index=tb,"object"!==typeof rc.source&&(rc.source=t(Bb,rc.source)),"object"!==typeof rc.target&&(rc.target=t(Bb,rc.target)),Zb[rc.source.index]=(Zb[rc.source.index]||0)+1,Zb[rc.target.index]=(Zb[rc.target.index]||0)+1;tb=0;for(Gc=Array(jd);tb<jd;++tb)rc=ta[tb],Gc[tb]=Zb[rc.source.index]/(Zb[rc.source.index]+
Zb[rc.target.index]);Ya=Array(jd);aa();ib=Array(jd);ka()}}function aa(){if(Eb)for(var rc=0,jd=ta.length;rc<jd;++rc)Ya[rc]=+Xa(ta[rc],rc,ta)}function ka(){if(Eb)for(var rc=0,jd=ta.length;rc<jd;++rc)ib[rc]=+mb(ta[rc],rc,ta)}var Ia=e,Xa=function(rc){return 1/Math.min(Zb[rc.source.index],Zb[rc.target.index])},Ya,mb=b(30),ib,Eb,Zb,Gc,xc,Ic=1;null==ta&&(ta=[]);Na.initialize=function(rc,jd){Eb=rc;xc=jd;oa()};Na.links=function(rc){return arguments.length?(ta=rc,oa(),Na):ta};Na.id=function(rc){return arguments.length?
(Ia=rc,Na):Ia};Na.iterations=function(rc){return arguments.length?(Ic=+rc,Na):Ic};Na.strength=function(rc){return arguments.length?(Xa="function"===typeof rc?rc:b(+rc),aa(),Na):Xa};Na.distance=function(rc){return arguments.length?(mb="function"===typeof rc?rc:b(+rc),ka(),Na):mb};return Na},x:function(ta){function Na(Ya){for(var mb=0,ib=ka.length,Eb;mb<ib;++mb)Eb=ka[mb],Eb.vx+=(Xa[mb]-Eb.x)*Ia[mb]*Ya}function oa(){if(ka){var Ya,mb=ka.length;Ia=Array(mb);Xa=Array(mb);for(Ya=0;Ya<mb;++Ya)Ia[Ya]=isNaN(Xa[Ya]=
+ta(ka[Ya],Ya,ka))?0:+aa(ka[Ya],Ya,ka)}}var aa=b(.1),ka,Ia,Xa;"function"!==typeof ta&&(ta=b(null==ta?0:+ta));Na.initialize=function(Ya){ka=Ya;oa()};Na.strength=function(Ya){return arguments.length?(aa="function"===typeof Ya?Ya:b(+Ya),oa(),Na):aa};Na.x=function(Ya){return arguments.length?(ta="function"===typeof Ya?Ya:b(+Ya),oa(),Na):ta};return Na},y:function(ta){function Na(Ya){for(var mb=0,ib=ka.length,Eb;mb<ib;++mb)Eb=ka[mb],Eb.vy+=(Xa[mb]-Eb.y)*Ia[mb]*Ya}function oa(){if(ka){var Ya,mb=ka.length;
Ia=Array(mb);Xa=Array(mb);for(Ya=0;Ya<mb;++Ya)Ia[Ya]=isNaN(Xa[Ya]=+ta(ka[Ya],Ya,ka))?0:+aa(ka[Ya],Ya,ka)}}var aa=b(.1),ka,Ia,Xa;"function"!==typeof ta&&(ta=b(null==ta?0:+ta));Na.initialize=function(Ya){ka=Ya;oa()};Na.strength=function(Ya){return arguments.length?(aa="function"===typeof Ya?Ya:b(+Ya),oa(),Na):aa};Na.y=function(Ya){return arguments.length?(ta="function"===typeof Ya?Ya:b(+Ya),oa(),Na):ta};return Na}},Ea=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Ua=["static","iterations"],
ab=["x","y","vx","vy"];R.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",
"default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",
type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":ab}]};p.inherits(R,k.Transform,{transform(ta,Na){var oa=this.value,aa=Na.changed(Na.ADD_REM),ka=ta.modified(Ea),Ia=ta.iterations||
300;oa?(aa&&(Na.modifies("index"),oa.nodes(Na.source)),(ka||Na.changed(Na.MOD))&&C(oa,ta,0,Na)):(this.value=oa=r(Na.source,ta),oa.on("tick",J(Na.dataflow,this)),ta.static||(aa=!0,oa.tick()),Na.modifies("index"));if(ka||aa||ta.modified(Ua)||Na.changed()&&ta.restart)if(oa.alpha(Math.max(oa.alpha(),ta.alpha||1)).alphaDecay(1-Math.pow(oa.alphaMin(),1/Ia)),ta.static)for(oa.stop();0<=--Ia;)oa.tick();else if(oa.stopped()&&oa.restart(),!aa)return Na.StopPropagation;return this.finish(ta,Na)},finish(ta,Na){const oa=
Na.dataflow;for(let Ya=this._argops,mb=0,ib=Ya.length,Eb;mb<ib;++mb)if(Eb=Ya[mb],"forces"===Eb.name&&"link"===Eb.op._argval.force)for(var aa=Eb.op._argops,ka=0,Ia=aa.length,Xa;ka<Ia;++ka)if("links"===aa[ka].name&&(Xa=aa[ka].op.source)){oa.pulse(Xa,oa.changeset().reflow());break}return Na.reflow(ta.modified()).modifies(ab)}});v.force=R;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[34]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(23),z(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,p){function A(Bb,tb,dc){const Yb={};Bb.each(hc=>{const vc=hc.data;dc(vc)&&(Yb[tb(vc)]=hc)});Bb.lookup=Yb;return Bb}function u(Bb,tb){return Bb.parent===tb.parent?1:2}function m(Bb,tb){return Bb+
tb.x}function l(Bb,tb){return Math.max(Bb,tb.y)}function f(Bb){for(var tb;tb=Bb.children;)Bb=tb[0];return Bb}function g(Bb){for(var tb;tb=Bb.children;)Bb=tb[tb.length-1];return Bb}function d(Bb){var tb=0,dc=Bb.children,Yb=dc&&dc.length;if(Yb)for(;0<=--Yb;)tb+=dc[Yb].value;else tb=1;Bb.value=tb}function b(Bb,tb){Bb instanceof Map?(Bb=[void 0,Bb],void 0===tb&&(tb=a)):void 0===tb&&(tb=c);Bb=new y(Bb);for(var dc,Yb=[Bb],hc,vc,qc,Dc;dc=Yb.pop();)if((vc=tb(dc.data))&&(Dc=(vc=Array.from(vc)).length))for(dc.children=
vc,qc=Dc-1;0<=qc;--qc)Yb.push(hc=vc[qc]=new y(vc[qc])),hc.parent=dc,hc.depth=dc.depth+1;return Bb.eachBefore(t)}function c(Bb){return Bb.children}function a(Bb){return Array.isArray(Bb)?Bb[1]:null}function e(Bb){void 0!==Bb.data.value&&(Bb.value=Bb.data.value);Bb.data=Bb.data.data}function t(Bb){var tb=0;do Bb.height=tb;while((Bb=Bb.parent)&&Bb.height<++tb)}function y(Bb){this.data=Bb;this.depth=this.height=0;this.parent=null}function q(Bb,tb){var dc=Bb.r-tb.r,Yb=tb.x-Bb.x;Bb=tb.y-Bb.y;return 0>dc||
dc*dc<Yb*Yb+Bb*Bb}function E(Bb,tb){var dc=Bb.r-tb.r+1E-9*Math.max(Bb.r,tb.r,1),Yb=tb.x-Bb.x;Bb=tb.y-Bb.y;return 0<dc&&dc*dc>Yb*Yb+Bb*Bb}function F(Bb,tb){for(var dc=0;dc<tb.length;++dc)if(!E(Bb,tb[dc]))return!1;return!0}function w(Bb,tb){var dc=Bb.x,Yb=Bb.y;Bb=Bb.r;var hc=tb.x,vc=tb.y;tb=tb.r;var qc=hc-dc,Dc=vc-Yb,Yc=tb-Bb,Hd=Math.sqrt(qc*qc+Dc*Dc);return{x:(dc+hc+qc/Hd*Yc)/2,y:(Yb+vc+Dc/Hd*Yc)/2,r:(Hd+Bb+tb)/2}}function D(Bb,tb,dc){var Yb=Bb.x,hc=Bb.y;Bb=Bb.r;var vc=tb.x,qc=tb.y,Dc=tb.r,Yc=dc.x,
Hd=dc.y,Fa=dc.r;dc=Yb-vc;tb=Yb-Yc;var Ca=hc-qc,Ha=hc-Hd,db=Dc-Bb,ob=Fa-Bb,Ab=Yb*Yb+hc*hc-Bb*Bb;qc=Ab-vc*vc-qc*qc+Dc*Dc;Hd=Ab-Yc*Yc-Hd*Hd+Fa*Fa;Yc=tb*Ca-dc*Ha;vc=(Ca*Hd-Ha*qc)/(2*Yc)-Yb;Ca=(Ha*db-Ca*ob)/Yc;Ha=(tb*qc-dc*Hd)/(2*Yc)-hc;dc=(dc*ob-tb*db)/Yc;tb=Ca*Ca+dc*dc-1;db=2*(Bb+vc*Ca+Ha*dc);Bb=vc*vc+Ha*Ha-Bb*Bb;Bb=-(tb?(db+Math.sqrt(db*db-4*tb*Bb))/(2*tb):Bb/db);return{x:Yb+vc+Ca*Bb,y:hc+Ha+dc*Bb,r:Bb}}function G(Bb,tb,dc){var Yb=Bb.x-tb.x,hc=Bb.y-tb.y,vc=Yb*Yb+hc*hc;if(vc){var qc=tb.r+dc.r;qc*=qc;
var Dc=Bb.r+dc.r;Dc*=Dc;if(qc>Dc){var Yc=(vc+Dc-qc)/(2*vc);qc=Math.sqrt(Math.max(0,Dc/vc-Yc*Yc));dc.x=Bb.x-Yc*Yb-qc*hc;dc.y=Bb.y-Yc*hc+qc*Yb}else Yc=(vc+qc-Dc)/(2*vc),qc=Math.sqrt(Math.max(0,qc/vc-Yc*Yc)),dc.x=tb.x+Yc*Yb-qc*hc,dc.y=tb.y+Yc*hc+qc*Yb}else dc.x=tb.x+dc.r,dc.y=tb.y}function L(Bb,tb){var dc=Bb.r+tb.r-1E-6,Yb=tb.x-Bb.x;Bb=tb.y-Bb.y;return 0<dc&&dc*dc>Yb*Yb+Bb*Bb}function O(Bb){var tb=Bb._,dc=Bb.next._,Yb=tb.r+dc.r;Bb=(tb.x*dc.r+dc.x*tb.r)/Yb;tb=(tb.y*dc.r+dc.y*tb.r)/Yb;return Bb*Bb+tb*
tb}function V(Bb){this._=Bb;this.previous=this.next=null}function S(Bb){if(!(dc=(Bb="object"===typeof Bb&&"length"in Bb?Bb:Array.from(Bb)).length))return 0;var tb,dc;var Yb=Bb[0];Yb.x=0;Yb.y=0;if(!(1<dc))return Yb.r;var hc=Bb[1];Yb.x=-hc.r;hc.x=Yb.r;hc.y=0;if(!(2<dc))return Yb.r+hc.r;G(hc,Yb,tb=Bb[2]);Yb=new V(Yb);hc=new V(hc);tb=new V(tb);Yb.next=tb.previous=hc;hc.next=Yb.previous=tb;tb.next=hc.previous=Yb;var vc=3;a:for(;vc<dc;++vc){G(Yb._,hc._,tb=Bb[vc]);tb=new V(tb);var qc=hc.next;var Dc=Yb.previous;
var Yc=hc._.r;var Hd=Yb._.r;do if(Yc<=Hd){if(L(qc._,tb._)){hc=qc;Yb.next=hc;hc.previous=Yb;--vc;continue a}Yc+=qc._.r;qc=qc.next}else{if(L(Dc._,tb._)){Yb=Dc;Yb.next=hc;hc.previous=Yb;--vc;continue a}Hd+=Dc._.r;Dc=Dc.previous}while(qc!==Dc.next);tb.previous=Yb;tb.next=hc;Yb.next=hc.previous=hc=tb;for(qc=O(Yb);(tb=tb.next)!==hc;)(Dc=O(tb))<qc&&(Yb=tb,qc=Dc);hc=Yb.next}Yb=[hc._];for(tb=hc;(tb=tb.next)!==hc;)Yb.push(tb._);tb=0;Yb=Array.from(Yb);for(hc=Yb.length;hc;)qc=Math.random()*hc--|0,vc=Yb[hc],Yb[hc]=
Yb[qc],Yb[qc]=vc;hc=Yb.length;vc=[];for(var Fa;tb<hc;)if(qc=Yb[tb],Fa&&E(Fa,qc))++tb;else{a:if(Fa=vc,F(qc,Fa))Fa=[qc];else{for(vc=0;vc<Fa.length;++vc)if(q(qc,Fa[vc])&&F(w(Fa[vc],qc),Fa)){Fa=[Fa[vc],qc];break a}for(vc=0;vc<Fa.length-1;++vc)for(tb=vc+1;tb<Fa.length;++tb)if(q(w(Fa[vc],Fa[tb]),qc)&&q(w(Fa[vc],qc),Fa[tb])&&q(w(Fa[tb],qc),Fa[vc])&&F(D(Fa[vc],Fa[tb],qc),Fa)){Fa=[Fa[vc],Fa[tb],qc];break a}throw Error();}a:{Fa=vc=Fa;switch(Fa.length){case 1:Fa=Fa[0];Fa={x:Fa.x,y:Fa.y,r:Fa.r};break a;case 2:Fa=
w(Fa[0],Fa[1]);break a;case 3:Fa=D(Fa[0],Fa[1],Fa[2]);break a}Fa=void 0}tb=0}tb=Fa;for(vc=0;vc<dc;++vc)Yb=Bb[vc],Yb.x-=tb.x,Yb.y-=tb.y;return tb.r}function ca(Bb){if("function"!==typeof Bb)throw Error();return Bb}function ea(){return 0}function T(Bb){return function(){return Bb}}function R(Bb){return Math.sqrt(Bb.value)}function J(Bb){return function(tb){tb.children||(tb.r=Math.max(0,+Bb(tb)||0))}}function r(Bb,tb){return function(dc){if(Yb=dc.children){var Yb,hc,vc=Yb.length,qc=Bb(dc)*tb||0;if(qc)for(hc=
0;hc<vc;++hc)Yb[hc].r+=qc;var Dc=S(Yb);if(qc)for(hc=0;hc<vc;++hc)Yb[hc].r-=qc;dc.r=Dc+qc}}}function C(Bb){return function(tb){var dc=tb.parent;tb.r*=Bb;dc&&(tb.x=dc.x+Bb*tb.x,tb.y=dc.y+Bb*tb.y)}}function N(Bb){Bb.x0=Math.round(Bb.x0);Bb.y0=Math.round(Bb.y0);Bb.x1=Math.round(Bb.x1);Bb.y1=Math.round(Bb.y1)}function U(Bb,tb,dc,Yb,hc){var vc=Bb.children,qc=-1,Dc=vc.length;for(Yb=Bb.value&&(Yb-tb)/Bb.value;++qc<Dc;)Bb=vc[qc],Bb.y0=dc,Bb.y1=hc,Bb.x0=tb,Bb.x1=tb+=Bb.value*Yb}function ja(Bb){return Bb.id}
function ba(Bb){return Bb.parentId}function ia(){function Bb(hc){var vc=Array.from(hc),qc=tb,Dc=dc,Yc,Hd,Fa=new Map;if(null!=Yb){const Ob=vc.map(($b,Jc)=>{$b=Yb($b,Jc,hc);$b=`${$b}`;Jc=$b.length;Wa($b,Jc-1)&&!Wa($b,Jc-2)&&($b=$b.slice(0,-1));return"/"===$b[0]?$b:`/${$b}`}),Ub=Ob.map(za);qc=(new Set(Ob)).add("");for(db of Ub)qc.has(db)||(qc.add(db),Ob.push(db),Ub.push(za(db)),vc.push(ib));qc=($b,Jc)=>Ob[Jc];Dc=($b,Jc)=>Ub[Jc]}var Ca=0;for(Yc=vc.length;Ca<Yc;++Ca){var Ha=vc[Ca];var db=vc[Ca]=new y(Ha);
if(null!=(Hd=qc(Ha,Ca,hc))&&(Hd+="")){var ob=db.id=Hd;Fa.set(ob,Fa.has(ob)?mb:db)}null!=(Hd=Dc(Ha,Ca,hc))&&(Hd+="")&&(db.parent=Hd)}for(Ca=0;Ca<Yc;++Ca)if(db=vc[Ca],Hd=db.parent){qc=Fa.get(Hd);if(!qc)throw Error("missing: "+Hd);if(qc===mb)throw Error("ambiguous: "+Hd);qc.children?qc.children.push(db):qc.children=[db];db.parent=qc}else{if(Ab)throw Error("multiple roots");var Ab=db}if(!Ab)throw Error("no root");if(null!=Yb){for(;Ab.data===ib&&1===Ab.children.length;)Ab=Ab.children[0],--Yc;for(Hd=vc.length-
1;0<=Hd;--Hd){db=vc[Hd];if(db.data!==ib)break;db.data=null}}Ab.parent=Ya;Ab.eachBefore(function(Ob){Ob.depth=Ob.parent.depth+1;--Yc}).eachBefore(t);Ab.parent=null;if(0<Yc)throw Error("cycle");return Ab}var tb=ja,dc=ba,Yb;Bb.id=function(hc){return arguments.length?(tb=null==hc?null:ca(hc),Bb):tb};Bb.parentId=function(hc){return arguments.length?(dc=null==hc?null:ca(hc),Bb):dc};Bb.path=function(hc){return arguments.length?(Yb=null==hc?null:ca(hc),Bb):Yb};return Bb}function za(Bb){let tb=Bb.length;if(2>
tb)return"";for(;1<--tb&&!Wa(Bb,tb););return Bb.slice(0,tb)}function Wa(Bb,tb){if("/"===Bb[tb]){let dc=0;for(;0<tb&&"\\"===Bb[--tb];)++dc;if(0===(dc&1))return!0}return!1}function hb(Bb,tb){return Bb.parent===tb.parent?1:2}function Ja(Bb){var tb=Bb.children;return tb?tb[0]:Bb.t}function qa(Bb){var tb=Bb.children;return tb?tb[tb.length-1]:Bb.t}function Da(Bb,tb){this._=Bb;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=tb}function va(Bb){Bb=new Da(Bb,
0);for(var tb,dc=[Bb],Yb,hc,vc;tb=dc.pop();)if(hc=tb._.children)for(tb.children=Array(Yb=hc.length),vc=Yb-1;0<=vc;--vc)dc.push(Yb=tb.children[vc]=new Da(hc[vc],vc)),Yb.parent=tb;(Bb.parent=new Da(null,0)).children=[Bb];return Bb}function sa(Bb,tb,dc,Yb,hc){var vc=Bb.children,qc=-1,Dc=vc.length;for(hc=Bb.value&&(hc-dc)/Bb.value;++qc<Dc;)Bb=vc[qc],Bb.x0=tb,Bb.x1=Yb,Bb.y0=dc,Bb.y1=dc+=Bb.value*hc}function xa(Bb,tb,dc,Yb,hc,vc){for(var qc=[],Dc=tb.children,Yc,Hd,Fa=Yc=0,Ca=Dc.length,Ha,db=tb.value,ob,
Ab,Ob,Ub,$b,Jc;Yc<Ca;){tb=hc-dc;Ha=vc-Yb;do ob=Dc[Fa++].value;while(!ob&&Fa<Ca);Ab=Ob=ob;Jc=Math.max(Ha/tb,tb/Ha)/(db*Bb);Ub=ob*ob*Jc;for($b=Math.max(Ob/Ub,Ub/Ab);Fa<Ca;++Fa){ob+=Hd=Dc[Fa].value;Hd<Ab&&(Ab=Hd);Hd>Ob&&(Ob=Hd);Ub=ob*ob*Jc;Ub=Math.max(Ob/Ub,Ub/Ab);if(Ub>$b){ob-=Hd;break}$b=Ub}qc.push(Yc={value:ob,dice:tb<Ha,children:Dc.slice(Yc,Fa)});Yc.dice?U(Yc,dc,Yb,hc,db?Yb+=Ha*ob/db:vc):sa(Yc,dc,Yb,db?dc+=tb*ob/db:hc,vc);db-=ob;Yc=Fa}return qc}function ma(){function Bb(Ha){Ha.x0=Ha.y0=0;Ha.x1=hc;
Ha.y1=vc;Ha.eachBefore(tb);qc=[0];Yb&&Ha.eachBefore(N);return Ha}function tb(Ha){var db=qc[Ha.depth],ob=Ha.x0+db,Ab=Ha.y0+db,Ob=Ha.x1-db,Ub=Ha.y1-db;Ob<ob&&(ob=Ob=(ob+Ob)/2);Ub<Ab&&(Ab=Ub=(Ab+Ub)/2);Ha.x0=ob;Ha.y0=Ab;Ha.x1=Ob;Ha.y1=Ub;Ha.children&&(db=qc[Ha.depth+1]=Dc(Ha)/2,ob+=Ca(Ha)-db,Ab+=Yc(Ha)-db,Ob-=Hd(Ha)-db,Ub-=Fa(Ha)-db,Ob<ob&&(ob=Ob=(ob+Ob)/2),Ub<Ab&&(Ab=Ub=(Ab+Ub)/2),dc(Ha,ob,Ab,Ob,Ub))}var dc=Zb,Yb=!1,hc=1,vc=1,qc=[0],Dc=ea,Yc=ea,Hd=ea,Fa=ea,Ca=ea;Bb.round=function(Ha){return arguments.length?
(Yb=!!Ha,Bb):Yb};Bb.size=function(Ha){return arguments.length?(hc=+Ha[0],vc=+Ha[1],Bb):[hc,vc]};Bb.tile=function(Ha){return arguments.length?(dc=ca(Ha),Bb):dc};Bb.padding=function(Ha){return arguments.length?Bb.paddingInner(Ha).paddingOuter(Ha):Bb.paddingInner()};Bb.paddingInner=function(Ha){return arguments.length?(Dc="function"===typeof Ha?Ha:T(+Ha),Bb):Dc};Bb.paddingOuter=function(Ha){return arguments.length?Bb.paddingTop(Ha).paddingRight(Ha).paddingBottom(Ha).paddingLeft(Ha):Bb.paddingTop()};
Bb.paddingTop=function(Ha){return arguments.length?(Yc="function"===typeof Ha?Ha:T(+Ha),Bb):Yc};Bb.paddingRight=function(Ha){return arguments.length?(Hd="function"===typeof Ha?Ha:T(+Ha),Bb):Hd};Bb.paddingBottom=function(Ha){return arguments.length?(Fa="function"===typeof Ha?Ha:T(+Ha),Bb):Fa};Bb.paddingLeft=function(Ha){return arguments.length?(Ca="function"===typeof Ha?Ha:T(+Ha),Bb):Ca};return Bb}function Ea(Bb){k.Transform.call(this,null,Bb)}function Ua(){function Bb(hc,vc){if(vc>=dc.length)return hc;
const qc=hc.length,Dc=dc[vc++],Yc={},Hd={};let Fa=-1,Ca,Ha,db;for(;++Fa<qc;)Ca=Dc(Ha=hc[Fa])+"",(db=Yc[Ca])?db.push(Ha):Yc[Ca]=[Ha];for(Ca in Yc)Hd[Ca]=Bb(Yc[Ca],vc);return Hd}function tb(hc,vc){if(++vc>dc.length)return hc;const qc=[];for(const Dc in hc)qc.push({key:Dc,values:tb(hc[Dc],vc)});return qc}const dc=[],Yb={entries:hc=>tb(Bb(hc,0),0),key:hc=>(dc.push(hc),Yb)};return Yb}function ab(Bb){k.Transform.call(this,null,Bb)}function ta(Bb,tb,dc){for(let Yb,hc=0,vc=tb.length;hc<vc;++hc)if(Yb=tb[hc],
Yb in dc)Bb[Yb](dc[Yb])}function Na(Bb){ab.call(this,Bb)}function oa(Bb){ab.call(this,Bb)}function aa(Bb){k.Transform.call(this,null,Bb)}function ka(Bb){ab.call(this,Bb)}function Ia(Bb){k.Transform.call(this,[],Bb)}function Xa(Bb){ab.call(this,Bb)}y.prototype=b.prototype={constructor:y,count:function(){return this.eachAfter(d)},each:function(Bb,tb){let dc=-1;for(const Yb of this)Bb.call(tb,Yb,++dc,this);return this},eachAfter:function(Bb,tb){for(var dc,Yb=[this],hc=[],vc,qc,Dc=-1;dc=Yb.pop();)if(hc.push(dc),
dc=dc.children)for(vc=0,qc=dc.length;vc<qc;++vc)Yb.push(dc[vc]);for(;dc=hc.pop();)Bb.call(tb,dc,++Dc,this);return this},eachBefore:function(Bb,tb){for(var dc,Yb=[this],hc,vc=-1;dc=Yb.pop();)if(Bb.call(tb,dc,++vc,this),dc=dc.children)for(hc=dc.length-1;0<=hc;--hc)Yb.push(dc[hc]);return this},find:function(Bb,tb){let dc=-1;for(const Yb of this)if(Bb.call(tb,Yb,++dc,this))return Yb},sum:function(Bb){return this.eachAfter(function(tb){for(var dc=+Bb(tb.data)||0,Yb=tb.children,hc=Yb&&Yb.length;0<=--hc;)dc+=
Yb[hc].value;tb.value=dc})},sort:function(Bb){return this.eachBefore(function(tb){tb.children&&tb.children.sort(Bb)})},path:function(Bb){var tb=this;var dc=tb;var Yb=Bb;if(dc!==Yb){var hc=dc.ancestors(),vc=Yb.ancestors(),qc=null;dc=hc.pop();for(Yb=vc.pop();dc===Yb;)qc=dc,dc=hc.pop(),Yb=vc.pop();dc=qc}for(Yb=[tb];tb!==dc;)tb=tb.parent,Yb.push(tb);for(tb=Yb.length;Bb!==dc;)Yb.splice(tb,0,Bb),Bb=Bb.parent;return Yb},ancestors:function(){for(var Bb=this,tb=[Bb];Bb=Bb.parent;)tb.push(Bb);return tb},descendants:function(){return Array.from(this)},
leaves:function(){var Bb=[];this.eachBefore(function(tb){tb.children||Bb.push(tb)});return Bb},links:function(){var Bb=this,tb=[];Bb.each(function(dc){dc!==Bb&&tb.push({source:dc.parent,target:dc})});return tb},copy:function(){return b(this).eachBefore(e)},[Symbol.iterator]:function*(){var Bb,tb=[this],dc;do{var Yb=tb.reverse();for(tb=[];Bb=Yb.pop();)if(yield Bb,Bb=Bb.children){var hc=0;for(dc=Bb.length;hc<dc;++hc)tb.push(Bb[hc])}}while(tb.length)}};var Ya={depth:-1},mb={},ib={};Da.prototype=Object.create(y.prototype);
var Eb=(1+Math.sqrt(5))/2,Zb=function dc(tb){function Yb(hc,vc,qc,Dc,Yc){xa(tb,hc,vc,qc,Dc,Yc)}Yb.ratio=function(hc){return dc(1<(hc=+hc)?hc:1)};return Yb}(Eb);Eb=function Yb(dc){function hc(vc,qc,Dc,Yc,Hd){if((Fa=vc._squarify)&&Fa.ratio===dc)for(var Fa,Ca,Ha,db=-1,ob,Ab=Fa.length,Ob=vc.value;++db<Ab;){vc=Fa[db];Ca=vc.children;Ha=vc.value=0;for(ob=Ca.length;Ha<ob;++Ha)vc.value+=Ca[Ha].value;vc.dice?U(vc,qc,Dc,Yc,Ob?Dc+=(Hd-Dc)*vc.value/Ob:Hd):sa(vc,qc,Dc,Ob?qc+=(Yc-qc)*vc.value/Ob:Yc,Hd);Ob-=vc.value}else vc._squarify=
Fa=xa(dc,vc,qc,Dc,Yc,Hd),Fa.ratio=dc}hc.ratio=function(vc){return Yb(1<(vc=+vc)?vc:1)};return hc}(Eb);Ea.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Gc=dc=>dc.values;p.inherits(Ea,k.Transform,{transform(dc,Yb){Yb.source||p.error("Nest transform requires an upstream data source.");var hc=dc.generate,vc=dc.modified(),qc=Yb.clone(),Dc=this.value;if(!Dc||vc||Yb.changed())Dc&&Dc.each(Yc=>{Yc.children&&
k.isTuple(Yc.data)&&qc.rem.push(Yc.data)}),this.value=Dc=b({values:p.array(dc.keys).reduce((Yc,Hd)=>{Yc.key(Hd);return Yc},Ua()).entries(qc.source)},Gc),hc&&Dc.each(Yc=>{Yc.children&&(Yc=k.ingest(Yc.data),qc.add.push(Yc),qc.source.push(Yc))}),A(Dc,k.tupleid,k.tupleid);qc.source.root=Dc;return qc}});const xc=(dc,Yb)=>dc.parent===Yb.parent?1:2;p.inherits(ab,k.Transform,{transform(dc,Yb){Yb.source&&Yb.source.root||p.error(this.constructor.name+" transform requires a backing tree data source.");const hc=
this.layout(dc.method),vc=this.fields,qc=Yb.source.root,Dc=dc.as||vc;dc.field?qc.sum(dc.field):qc.count();dc.sort&&qc.sort(k.stableCompare(dc.sort,Yc=>Yc.data));ta(hc,this.params,dc);hc.separation&&hc.separation(!1!==dc.separation?xc:p.one);try{this.value=hc(qc)}catch(Yc){p.error(Yc)}qc.each(Yc=>{const Hd=Yc.data,Fa=vc.length-1;for(let Ca=0;Ca<Fa;++Ca)Hd[Dc[Ca]]=Yc[vc[Ca]];Hd[Dc[Fa]]=Yc.children?Yc.children.length:0});return Yb.reflow(dc.modified()).modifies(Dc).modifies("leaf")}});var Ic=["x","y",
"r","depth","children"];Na.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ic.length,"default":Ic}]};p.inherits(Na,ab,{layout:function(){function dc(Dc){Dc.x=hc/2;Dc.y=vc/2;Yb?Dc.eachBefore(J(Yb)).eachAfter(r(qc,.5)).eachBefore(C(1)):Dc.eachBefore(J(R)).eachAfter(r(ea,
1)).eachAfter(r(qc,Dc.r/Math.min(hc,vc))).eachBefore(C(Math.min(hc,vc)/(2*Dc.r)));return Dc}var Yb=null,hc=1,vc=1,qc=ea;dc.radius=function(Dc){return arguments.length?(Yb=null==Dc?null:ca(Dc),dc):Yb};dc.size=function(Dc){return arguments.length?(hc=+Dc[0],vc=+Dc[1],dc):[hc,vc]};dc.padding=function(Dc){return arguments.length?(qc="function"===typeof Dc?Dc:T(+Dc),dc):qc};return dc},params:["radius","size","padding"],fields:Ic});Ic="x0 y0 x1 y1 depth children".split(" ");oa.Definition={type:"Partition",
metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Ic.length,"default":Ic}]};p.inherits(oa,ab,{layout:function(){function dc(Yc){var Hd=Yc.height+1;Yc.x0=Yc.y0=qc;Yc.x1=hc;Yc.y1=vc/Hd;Yc.eachBefore(Yb(vc,Hd));Dc&&Yc.eachBefore(N);return Yc}function Yb(Yc,Hd){return function(Fa){Fa.children&&
U(Fa,Fa.x0,Yc*(Fa.depth+1)/Hd,Fa.x1,Yc*(Fa.depth+2)/Hd);var Ca=Fa.x0,Ha=Fa.y0,db=Fa.x1-qc,ob=Fa.y1-qc;db<Ca&&(Ca=db=(Ca+db)/2);ob<Ha&&(Ha=ob=(Ha+ob)/2);Fa.x0=Ca;Fa.y0=Ha;Fa.x1=db;Fa.y1=ob}}var hc=1,vc=1,qc=0,Dc=!1;dc.round=function(Yc){return arguments.length?(Dc=!!Yc,dc):Dc};dc.size=function(Yc){return arguments.length?(hc=+Yc[0],vc=+Yc[1],dc):[hc,vc]};dc.padding=function(Yc){return arguments.length?(qc=+Yc,dc):qc};return dc},params:["size","round","padding"],fields:Ic});aa.Definition={type:"Stratify",
metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};p.inherits(aa,k.Transform,{transform(dc,Yb){Yb.source||p.error("Stratify transform requires an upstream data source.");let hc=this.value;const vc=dc.modified(),qc=Yb.fork(Yb.ALL).materialize(Yb.SOURCE);Yb=!hc||vc||Yb.changed(Yb.ADD_REM)||Yb.modified(dc.key.fields)||Yb.modified(dc.parentKey.fields);qc.source=qc.source.slice();Yb&&(hc=qc.source.length?A(ia().id(dc.key).parentId(dc.parentKey)(qc.source),
dc.key,p.truthy):A(ia()([{}]),dc.key,dc.key));qc.source.root=this.value=hc;return qc}});const rc={tidy:function(){function dc(Fa){var Ca=va(Fa);Ca.eachAfter(Yb);Ca.parent.m=-Ca.z;Ca.eachBefore(hc);if(Hd)Fa.eachBefore(vc);else{var Ha=Fa,db=Fa,ob=Fa;Fa.eachBefore(function($b){$b.x<Ha.x&&(Ha=$b);$b.x>db.x&&(db=$b);$b.depth>ob.depth&&(ob=$b)});Ca=Ha===db?1:qc(Ha,db)/2;var Ab=Ca-Ha.x,Ob=Dc/(db.x+Ca+Ab),Ub=Yc/(ob.depth||1);Fa.eachBefore(function($b){$b.x=($b.x+Ab)*Ob;$b.y=$b.depth*Ub})}return Fa}function Yb(Fa){var Ca=
Fa.children,Ha=Fa.parent.children,db=Fa.i?Ha[Fa.i-1]:null;if(Ca){for(var ob=0,Ab=0,Ob=Fa.children,Ub=Ob.length,$b;0<=--Ub;)$b=Ob[Ub],$b.z+=ob,$b.m+=ob,ob+=$b.s+(Ab+=$b.c);Ca=(Ca[0].z+Ca[Ca.length-1].z)/2;db?(Fa.z=db.z+qc(Fa._,db._),Fa.m=Fa.z-Ca):Fa.z=Ca}else db&&(Fa.z=db.z+qc(Fa._,db._));Ca=Fa.parent;Ha=Fa.parent.A||Ha[0];if(db){Ab=ob=Fa;Ob=ob.parent.children[0];Ub=ob.m;$b=Ab.m;for(var Jc=db.m,Wc=Ob.m,dd;db=qa(db),ob=Ja(ob),db&&ob;){Ob=Ja(Ob);Ab=qa(Ab);Ab.a=Fa;dd=db.z+Jc-ob.z-Ub+qc(db._,ob._);if(0<
dd){var ld=db.a.parent===Fa.parent?db.a:Ha,rd=Fa,Kd=dd,Nd=Kd/(rd.i-ld.i);rd.c-=Nd;rd.s+=Kd;ld.c+=Nd;rd.z+=Kd;rd.m+=Kd;Ub+=dd;$b+=dd}Jc+=db.m;Ub+=ob.m;Wc+=Ob.m;$b+=Ab.m}db&&!qa(Ab)&&(Ab.t=db,Ab.m+=Jc-$b);ob&&!Ja(Ob)&&(Ob.t=ob,Ob.m+=Ub-Wc,Ha=Fa)}Ca.A=Ha}function hc(Fa){Fa._.x=Fa.z+Fa.parent.m;Fa.m+=Fa.parent.m}function vc(Fa){Fa.x*=Dc;Fa.y=Fa.depth*Yc}var qc=hb,Dc=1,Yc=1,Hd=null;dc.separation=function(Fa){return arguments.length?(qc=Fa,dc):qc};dc.size=function(Fa){return arguments.length?(Hd=!1,Dc=
+Fa[0],Yc=+Fa[1],dc):Hd?null:[Dc,Yc]};dc.nodeSize=function(Fa){return arguments.length?(Hd=!0,Dc=+Fa[0],Yc=+Fa[1],dc):Hd?[Dc,Yc]:null};return dc},cluster:function(){function dc(Dc){var Yc,Hd=0;Dc.eachAfter(function(ob){var Ab=ob.children;if(Ab){var Ob=Ab.reduce(m,0)/Ab.length;ob.x=Ob;ob.y=1+Ab.reduce(l,0)}else ob.x=Yc?Hd+=Yb(ob,Yc):0,ob.y=0,Yc=ob});var Fa=f(Dc),Ca=g(Dc),Ha=Fa.x-Yb(Fa,Ca)/2,db=Ca.x+Yb(Ca,Fa)/2;return Dc.eachAfter(qc?function(ob){ob.x=(ob.x-Dc.x)*hc;ob.y=(Dc.y-ob.y)*vc}:function(ob){ob.x=
(ob.x-Ha)/(db-Ha)*hc;ob.y=(1-(Dc.y?ob.y/Dc.y:1))*vc})}var Yb=u,hc=1,vc=1,qc=!1;dc.separation=function(Dc){return arguments.length?(Yb=Dc,dc):Yb};dc.size=function(Dc){return arguments.length?(qc=!1,hc=+Dc[0],vc=+Dc[1],dc):qc?null:[hc,vc]};dc.nodeSize=function(Dc){return arguments.length?(qc=!0,hc=+Dc[0],vc=+Dc[1],dc):qc?[hc,vc]:null};return dc}};Ic=["x","y","depth","children"];ka.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Ic.length,"default":Ic}]};p.inherits(ka,ab,{layout(dc){dc=dc||"tidy";if(p.hasOwnProperty(rc,dc))return rc[dc]();p.error("Unrecognized Tree layout method: "+dc)},params:["size","nodeSize"],fields:Ic});Ia.Definition={type:"TreeLinks",metadata:{tree:!0,
generates:!0,changes:!0},params:[]};p.inherits(Ia,k.Transform,{transform(dc,Yb){dc=this.value;const hc=Yb.source&&Yb.source.root,vc=Yb.fork(Yb.NO_SOURCE),qc={};hc||p.error("TreeLinks transform requires a tree data source.");Yb.changed(Yb.ADD_REM)?(vc.rem=dc,Yb.visit(Yb.SOURCE,Dc=>qc[k.tupleid(Dc)]=1),hc.each(Dc=>{const Yc=Dc.data;(Dc=Dc.parent&&Dc.parent.data)&&qc[k.tupleid(Yc)]&&qc[k.tupleid(Dc)]&&vc.add.push(k.ingest({source:Dc,target:Yc}))}),this.value=vc.add):Yb.changed(Yb.MOD)&&(Yb.visit(Yb.MOD,
Dc=>qc[k.tupleid(Dc)]=1),dc.forEach(Dc=>{(qc[k.tupleid(Dc.source)]||qc[k.tupleid(Dc.target)])&&vc.mod.push(Dc)}));return vc}});const jd={binary:function(dc,Yb,hc,vc,qc){function Dc(db,ob,Ab,Ob,Ub,$b,Jc){if(db>=ob-1)db=Yc[db],db.x0=Ob,db.y0=Ub,db.x1=$b,db.y1=Jc;else{for(var Wc=Ha[db],dd=Ab/2+Wc,ld=db+1,rd=ob-1;ld<rd;){var Kd=ld+rd>>>1;Ha[Kd]<dd?ld=Kd+1:rd=Kd}dd-Ha[ld-1]<Ha[ld]-dd&&db+1<ld&&--ld;Wc=Ha[ld]-Wc;dd=Ab-Wc;$b-Ob>Jc-Ub?(Ab=Ab?(Ob*dd+$b*Wc)/Ab:$b,Dc(db,ld,Wc,Ob,Ub,Ab,Jc),Dc(ld,ob,dd,Ab,Ub,
$b,Jc)):(Ab=Ab?(Ub*dd+Jc*Wc)/Ab:Jc,Dc(db,ld,Wc,Ob,Ub,$b,Ab),Dc(ld,ob,dd,Ob,Ab,$b,Jc))}}var Yc=dc.children,Hd,Fa=Yc.length,Ca,Ha=Array(Fa+1);for(Ha[0]=Ca=Hd=0;Hd<Fa;++Hd)Ha[Hd+1]=Ca+=Yc[Hd].value;Dc(0,Fa,dc.value,Yb,hc,vc,qc)},dice:U,slice:sa,slicedice:function(dc,Yb,hc,vc,qc){(dc.depth&1?sa:U)(dc,Yb,hc,vc,qc)},squarify:Zb,resquarify:Eb};Eb="x0 y0 x1 y1 depth children".split(" ");Xa.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},
{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Eb.length,"default":Eb}]};p.inherits(Xa,ab,{layout(){const dc=ma();dc.ratio=Yb=>{const hc=dc.tile();hc.ratio&&dc.tile(hc.ratio(Yb))};dc.method=Yb=>{p.hasOwnProperty(jd,Yb)?dc.tile(jd[Yb]):p.error("Unrecognized Treemap layout method: "+Yb)};return dc},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Eb});v.nest=Ea;v.pack=Na;v.partition=oa;v.stratify=aa;v.tree=ka;v.treelinks=Ia;v.treemap=Xa;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[35]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(28),z(26),z(23),z(14)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,p,A,u){function m(J,r){const C=J.bitmap();(r||[]).forEach(N=>C.set(J(N.boundary[0]),J(N.boundary[3])));return[C,
void 0]}function l(J,r,C,N,U){const ja=J.width,ba=J.height;N=N||U;const ia=p.canvas(ja,ba).getContext("2d");var za=p.canvas(ja,ba).getContext("2d"),Wa=N&&p.canvas(ja,ba).getContext("2d");C.forEach(Ea=>f(ia,Ea,!1));f(za,r,!1);N&&f(Wa,r,!0);r=new Uint32Array(ia.getImageData(0,0,ja,ba).data.buffer);C=new Uint32Array(za.getImageData(0,0,ja,ba).data.buffer);Wa=N&&new Uint32Array(Wa.getImageData(0,0,ja,ba).data.buffer);za=J.bitmap();const hb=N&&J.bitmap();let Ja,qa;let Da,va,sa,xa;for(qa=0;qa<ba;++qa)for(Ja=
0;Ja<ja;++Ja){var ma=qa*ja+Ja;va=r[ma]&4278190080;xa=C[ma]&4278190080;sa=N&&Wa[ma]&4278190080;if(va||sa||xa)ma=J(Ja),Da=J(qa),U||!va&&!xa||za.set(ma,Da),N&&(va||sa)&&hb.set(ma,Da)}return[za,hb]}function f(J,r,C){if(r.length){var N=r[0].mark.marktype;"group"===N?r.forEach(U=>{U.items.forEach(ja=>f(J,ja.items,C))}):k.Marks[N].draw(J,{items:C?r.map(g):r})}}function g(J){J=A.rederive(J,{});return J.stroke&&0!==J.strokeOpacity||J.fill&&0!==J.fillOpacity?Object.assign({},J,{strokeOpacity:1,stroke:"#000",
fillOpacity:0}):J}function d(J,r){const C=new Uint32Array(~~((J*r+32)/32));return{array:C,get:(N,U)=>{N=U*J+N;return C[N>>>5]&1<<(N&31)},set:(N,U)=>{N=U*J+N;C[N>>>5]|=1<<(N&31)},clear:(N,U)=>{N=U*J+N;C[N>>>5]&=~(1<<(N&31))},getRange:(N,U,ja,ba)=>{let ia,za,Wa;for(;ba>=U;--ba){var hb=ba*J+N;ia=ba*J+ja;za=hb>>>5;Wa=ia>>>5;if(za===Wa){if(C[za]&D[hb&31]&G[(ia&31)+1])return!0}else{if(C[za]&D[hb&31]||C[Wa]&G[(ia&31)+1])return!0;for(hb=za+1;hb<Wa;++hb)if(C[hb])return!0}}return!1},setRange:(N,U,ja,ba)=>{let ia,
za,Wa;for(;U<=ba;++U){var hb=U*J+N;ia=U*J+ja;za=hb>>>5;Wa=ia>>>5;if(za===Wa)C[za]|=D[hb&31]&G[(ia&31)+1];else for(C[za]|=D[hb&31],C[Wa]|=G[(ia&31)+1],hb=za+1;hb<Wa;++hb)C[hb]|=4294967295}},clearRange:(N,U,ja,ba)=>{let ia,za,Wa;for(;U<=ba;++U){var hb=U*J+N;ia=U*J+ja;za=hb>>>5;Wa=ia>>>5;if(za===Wa)C[za]&=G[hb&31]|D[(ia&31)+1];else for(C[za]&=G[hb&31],C[Wa]&=D[(ia&31)+1],hb=za+1;hb<Wa;++hb)C[hb]&=0}},outOfBounds:(N,U,ja,ba)=>0>N||0>U||ba>=r||ja>=J}}function b(J,r,C){const N=Math.max(1,Math.sqrt(J*r/
1E6)),U=~~((J+2*C+N)/N),ja=~~((r+2*C+N)/N),ba=ia=>~~((ia+C)/N);ba.invert=ia=>ia*N-C;ba.bitmap=()=>d(U,ja);ba.ratio=N;ba.padding=C;ba.width=J;ba.height=r;return ba}function c(J,r,C,N,U,ja){C/=2;return 0>J-C||J+C>U||0>r-(C=N/2)||r+C>ja}function a(J,r,C,N,U,ja,ba,ia){U=U*ja/(2*N);N=J(r-U);r=J(r+U);U=J(C-(ja/=2));J=J(C+ja);return ba.outOfBounds(N,U,r,J)||ba.getRange(N,U,r,J)||ia&&ia.getRange(N,U,r,J)}function e(J,r,C,N){const U=J.width,ja=J.height,ba=r[0],ia=r[1],za=N.length;return function(Wa){const hb=
Wa.boundary,Ja=Wa.datum.fontSize;if(0>hb[2]||0>hb[5]||hb[0]>U||hb[3]>ja)return!1;var qa;let Da=null!=(qa=Wa.textWidth)?qa:0,va;let sa,xa;let ma;let Ea;let Ua,ab;for(let Gc=0;Gc<za;++Gc){qa=(C[Gc]&3)-1;va=(C[Gc]>>>2&3)-1;var ta=0===qa&&0===va||0>N[Gc];var Na=qa&&va?Math.SQRT1_2:1;sa=0>N[Gc]?-1:1;xa=hb[1+qa]+N[Gc]*qa*Na;Ea=hb[4+va]+sa*Ja*va/2+N[Gc]*va*Na;Na=Ea-Ja/2;ma=Ea+Ja/2;var oa=J(xa);Ua=J(Na);ab=J(ma);if(!Da){var aa=oa;var ka=Ua;var Ia=ab;var Xa=ba,Ya=ia,mb=ta;if(Xa.outOfBounds(aa,ka,oa,Ia)||(mb&&
Ya||Xa).getRange(aa,ka,oa,Ia))continue;else Da=k.textMetrics.width(Wa.datum,Wa.datum.text)}ka=xa+sa*Da*qa/2;xa=ka-Da/2;aa=ka+Da/2;oa=J(xa);Ia=J(aa);Xa=oa;Ya=Ia;mb=Ua;var ib=ab,Eb=ba,Zb=ia;if(!Eb.outOfBounds(Xa,mb,Ya,ib)&&!(ta&&Zb||Eb).getRange(Xa,mb,Ya,ib))return Wa.x=qa?0>qa*sa?aa:xa:ka,Wa.y=va?0>va*sa?ma:Na:Ea,Wa.align=V[qa*sa+1],Wa.baseline=S[va*sa+1],ba.setRange(oa,Ua,Ia,ab),!0}return!1}}function t(J,r,C,N,U,ja,ba,ia,za,Wa,hb){if(!J.length)return J;var Ja=Math.max(N.length,U.length);const qa=
y(N,Ja);U=q(U,Ja);const Da=E(J[0].datum);var va="group"===Da&&J[0].datum.items[za].marktype;Ja="area"===va;const sa=F(Da,va,ia,za),xa=null===Wa||Infinity===Wa;va=Ja&&"naive"===hb;let ma=-1,Ea=-1;ia=J.map(ta=>{const Na=xa?k.textMetrics.width(ta,ta.text):void 0;ma=Math.max(ma,Na);Ea=Math.max(Ea,ta.fontSize);return{datum:ta,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:sa(ta),textWidth:Na}});Wa=null===Wa||Infinity===Wa?Math.max(ma,Ea)+Math.max(...N):Wa;r=b(r[0],r[1],Wa);if(!va){C&&
ia.sort((ta,Na)=>C(ta.datum,Na.datum));var Ua=!1;for(N=0;N<U.length&&!Ua;++N)Ua=5===U[N]||0>qa[N];J=(Da&&ba||Ja)&&J.map(ta=>ta.datum);Ua=ja.length||J?l(r,J||[],ja,Ua,Ja):m(r,ba&&ia)}const ab=Ja?ea[hb](r,Ua,ba,za):e(r,Ua,U,qa);ia.forEach(ta=>ta.opacity=+ab(ta));return ia}function y(J,r){const C=new Float64Array(r),N=J.length;for(let U=0;U<N;++U)C[U]=J[U]||0;for(J=N;J<r;++J)C[J]=C[N-1];return C}function q(J,r){const C=new Int8Array(r),N=J.length;for(let U=0;U<N;++U)C[U]|=ca[J[U]];for(J=N;J<r;++J)C[J]=
C[N-1];return C}function E(J){return J&&J.mark&&J.mark.marktype}function F(J,r,C,N){const U=ja=>[ja.x,ja.x,ja.x,ja.y,ja.y,ja.y];return J?"line"===J||"area"===J?ja=>U(ja.datum):"line"===r?ja=>{ja=ja.datum.items[N].items;return U(ja.length?ja["start"===C?0:ja.length-1]:{x:NaN,y:NaN})}:ja=>{ja=ja.datum.bounds;return[ja.x1,(ja.x1+ja.x2)/2,ja.x2,ja.y1,(ja.y1+ja.y2)/2,ja.y2]}:U}function w(J){A.Transform.call(this,null,J)}const D=new Uint32Array(33),G=new Uint32Array(33);G[0]=0;D[0]=~G[0];for(let J=1;32>=
J;++J)G[J]=G[J-1]<<1|1,D[J]=~G[J];const L=[-1,-1,1,1],O=[-1,1,-1,1],V=["right","center","left"],S=["bottom","middle","top"],ca={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},ea={naive:function(J,r,C,N){const U=J.width,ja=J.height;return function(ba){const ia=ba.datum.datum.items[N].items,za=ia.length,Wa=ba.datum.fontSize,hb=k.textMetrics.width(ba.datum,ba.datum.text);let Ja=0;let qa,Da,va,sa,xa;for(let Ea=0;Ea<za;++Ea){var ma=ia[Ea].x;Da=ia[Ea].y;
qa=void 0===ia[Ea].x2?ma:ia[Ea].x2;va=void 0===ia[Ea].y2?Da:ia[Ea].y2;sa=(ma+qa)/2;xa=(Da+va)/2;ma=Math.abs(qa-ma+va-Da);ma>=Ja&&(Ja=ma,ba.x=sa,ba.y=xa)}sa=hb/2;xa=Wa/2;ma=ba.x-sa;qa=ba.x+sa;Da=ba.y-xa;va=ba.y+xa;ba.align="center";0>ma&&qa<=U?ba.align="left":0<=ma&&U<qa&&(ba.align="right");ba.baseline="middle";0>Da&&va<=ja?ba.baseline="top":0<=Da&&ja<va&&(ba.baseline="bottom");return!0}},"reduced-search":function(J,r,C,N){function U(Wa,hb,Ja,qa,Da){Wa=J.invert(Wa);hb=J.invert(hb);let va=Ja,sa=ba,
xa;if(!c(Wa,hb,qa,Da,ja,ba)&&!a(J,Wa,hb,Da,qa,va,ia,za)&&!a(J,Wa,hb,Da,qa,Da,ia,null)){for(;1<=sa-va;)xa=(va+sa)/2,a(J,Wa,hb,Da,qa,xa,ia,za)?sa=xa:va=xa;if(va>Ja)return[Wa,hb,va,!0]}}const ja=J.width,ba=J.height,ia=r[0],za=r[1];return function(Wa){const hb=Wa.datum.datum.items[N].items,Ja=hb.length,qa=Wa.datum.fontSize,Da=k.textMetrics.width(Wa.datum,Wa.datum.text);let va=C?qa:0,sa=!1,xa=!1,ma=0;let Ea;let Ua;let ab,ta,Na,oa,aa,ka,Ia,Xa;for(let Eb=0;Eb<Ja;++Eb){var Ya=hb[Eb].x;var mb=hb[Eb].y;Ea=
void 0===hb[Eb].x2?Ya:hb[Eb].x2;Ua=void 0===hb[Eb].y2?mb:hb[Eb].y2;if(Ya>Ea){var ib=Ya;Ya=Ea;Ea=ib}mb>Ua&&(ib=mb,mb=Ua,Ua=ib);ta=J(Ya);oa=J(Ea);Na=~~((ta+oa)/2);aa=J(mb);Ia=J(Ua);ka=~~((aa+Ia)/2);for(ib=Na;ib>=ta;--ib)for(ab=ka;ab>=aa;--ab)(Xa=U(ib,ab,va,Da,qa))&&([Wa.x,Wa.y,va,sa]=Xa);for(ib=Na;ib<=oa;++ib)for(ab=ka;ab<=Ia;++ab)(Xa=U(ib,ab,va,Da,qa))&&([Wa.x,Wa.y,va,sa]=Xa);sa||C||(ib=Math.abs(Ea-Ya+Ua-mb),Ya=(Ya+Ea)/2,mb=(mb+Ua)/2,ib>=ma&&!c(Ya,mb,Da,qa,ja,ba)&&!a(J,Ya,mb,qa,Da,qa,ia,null)&&(ma=
ib,Wa.x=Ya,Wa.y=mb,xa=!0))}return sa||xa?(Ya=Da/2,mb=qa/2,ia.setRange(J(Wa.x-Ya),J(Wa.y-mb),J(Wa.x+Ya),J(Wa.y+mb)),Wa.align="center",Wa.baseline="middle",!0):!1}},floodfill:function(J,r,C,N){const U=J.width,ja=J.height,ba=r[0],ia=r[1],za=J.bitmap();return function(Wa){const hb=Wa.datum.datum.items[N].items,Ja=hb.length,qa=Wa.datum.fontSize,Da=k.textMetrics.width(Wa.datum,Wa.datum.text),va=[];let sa=C?qa:0,xa=!1,ma=!1,Ea=0,Ua,ab,ta,Na,oa,aa;var ka;for(let Ya=0;Ya<Ja;++Ya){Ua=hb[Ya].x;ta=hb[Ya].y;ab=
void 0===hb[Ya].x2?Ua:hb[Ya].x2;Na=void 0===hb[Ya].y2?ta:hb[Ya].y2;for(va.push([J((Ua+ab)/2),J((ta+Na)/2)]);va.length;)if([Ia,Xa]=va.pop(),!(ba.get(Ia,Xa)||ia.get(Ia,Xa)||za.get(Ia,Xa))){za.set(Ia,Xa);for(ka=0;4>ka;++ka)oa=Ia+L[ka],aa=Xa+O[ka],za.outOfBounds(oa,aa,oa,aa)||va.push([oa,aa]);oa=J.invert(Ia);aa=J.invert(Xa);var Ia=sa;var Xa=ja;if(!c(oa,aa,Da,qa,U,ja)&&!a(J,oa,aa,qa,Da,Ia,ba,ia)&&!a(J,oa,aa,qa,Da,qa,ba,null)){for(;1<=Xa-Ia;)ka=(Ia+Xa)/2,a(J,oa,aa,qa,Da,ka,ba,ia)?Xa=ka:Ia=ka;Ia>sa&&(Wa.x=
oa,Wa.y=aa,sa=Ia,xa=!0)}}xa||C||(Ia=Math.abs(ab-Ua+Na-ta),oa=(Ua+ab)/2,aa=(ta+Na)/2,Ia>=Ea&&!c(oa,aa,Da,qa,U,ja)&&!a(J,oa,aa,qa,Da,qa,ba,null)&&(Ea=Ia,Wa.x=oa,Wa.y=aa,ma=!0))}return xa||ma?(oa=Da/2,aa=qa/2,ba.setRange(J(Wa.x-oa),J(Wa.y-aa),J(Wa.x+oa),J(Wa.y+aa)),Wa.align="center",Wa.baseline="middle",!0):!1}}},T=["x","y","opacity","align","baseline"],R="top-left left bottom-left top bottom top-right right bottom-right".split(" ");w.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:R},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,
length:T.length,default:T}]};u.inherits(w,A.Transform,{transform(J,r){function C(ja){ja=J[ja];return u.isFunction(ja)&&r.modified(ja.fields)}const N=J.modified();if(N||r.changed(r.ADD_REM)||C("sort")){J.size&&2===J.size.length||u.error("Size parameter should be specified as a [width, height] array.");var U=J.as||T;t(r.materialize(r.SOURCE).source||[],J.size,J.sort,u.array(null==J.offset?1:J.offset),u.array(J.anchor||R),J.avoidMarks||[],!1!==J.avoidBaseMark,J.lineAnchor||"end",J.markIndex||0,void 0===
J.padding?0:J.padding,J.method||"naive").forEach(ja=>{const ba=ja.datum;ba[U[0]]=ja.x;ba[U[1]]=ja.y;ba[U[2]]=ja.opacity;ba[U[3]]=ja.align;ba[U[4]]=ja.baseline});return r.reflow(N).modifies(U)}}});v.label=w;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[36]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(24),z(23),z(14)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega))})(this,function(v,k,p,A){function u(g,d){var b=[],c=function(F){return F(y)},a;if(null==d)b.push(g);else{var e={};var t=0;for(a=g.length;t<a;++t){var y=g[t];var q=d.map(c);var E=e[q];
E||(e[q]=E=[],E.dims=q,b.push(E));E.push(y)}}return b}function m(g){p.Transform.call(this,null,g)}function l(g){p.Transform.call(this,null,g)}m.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};A.inherits(m,p.Transform,{transform(g,d){const b=d.fork(d.NO_SOURCE|d.NO_FIELDS);if(!this.value||d.changed()||
g.modified()){d=d.materialize(d.SOURCE).source;d=u(d,g.groupby);const c=(g.groupby||[]).map(A.accessorName),a=c.length,e=g.as||[A.accessorName(g.x),A.accessorName(g.y)],t=[];d.forEach(y=>{k.regressionLoess(y,g.x,g.y,g.bandwidth||.3).forEach(q=>{const E={};for(let F=0;F<a;++F)E[c[F]]=y.dims[F];E[e[0]]=q[0];E[e[1]]=q[1];t.push(p.ingest(E))})});this.value&&(b.rem=this.value);this.value=b.add=b.source=t}return b}});const f={linear:k.regressionLinear,log:k.regressionLog,exp:k.regressionExp,pow:k.regressionPow,
quad:k.regressionQuad,poly:k.regressionPoly};l.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(f)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};A.inherits(l,p.Transform,{transform(g,d){const b=
d.fork(d.NO_SOURCE|d.NO_FIELDS);if(!this.value||d.changed()||g.modified()){var c=d.materialize(d.SOURCE).source;c=u(c,g.groupby);const a=(g.groupby||[]).map(A.accessorName),e=g.method||"linear",t=g.order||3,y="poly"===e?t:"quad"===e?2:1,q=g.as||[A.accessorName(g.x),A.accessorName(g.y)],E=f[e],F=[];let w=g.extent;A.hasOwnProperty(f,e)||A.error("Invalid regression method: "+e);null!=w&&"log"===e&&0>=w[0]&&(d.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),w=null);c.forEach(D=>
{if(D.length<=y)d.dataflow.warn("Skipping regression with more parameters than data points.");else{var G=E(D,g.x,g.y,t);if(g.params)F.push(p.ingest({keys:D.dims,coef:G.coef,rSquared:G.rSquared}));else{var L=w||A.extent(D,g.x),O=V=>{const S={};for(let ca=0;ca<a.length;++ca)S[a[ca]]=D.dims[ca];S[q[0]]=V[0];S[q[1]]=V[1];F.push(p.ingest(S))};"linear"===e?L.forEach(V=>O([V,G.predict(V)])):k.sampleCurve(G.predict,L,25,200).forEach(O)}}});this.value&&(b.rem=this.value);this.value=b.add=b.source=F}return b}});
v.loess=m;v.regression=l;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[37]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(23),z(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,p){function A(r,C,N,U,ja){let ba,ia;let za=C[0],Wa=U[0],hb=0,Ja=0;Wa>za===Wa>-za?(ba=za,za=C[++hb]):(ba=Wa,Wa=U[++Ja]);let qa=0;if(hb<r&&Ja<N){if(Wa>za===Wa>-za){ia=
za+ba;var Da=ba-(ia-za);za=C[++hb]}else ia=Wa+ba,Da=ba-(ia-Wa),Wa=U[++Ja];ba=ia;for(0!==Da&&(ja[qa++]=Da);hb<r&&Ja<N;)Wa>za===Wa>-za?(ia=ba+za,Da=ia-ba,Da=ba-(ia-Da)+(za-Da),za=C[++hb]):(ia=ba+Wa,Da=ia-ba,Da=ba-(ia-Da)+(Wa-Da),Wa=U[++Ja]),ba=ia,0!==Da&&(ja[qa++]=Da)}for(;hb<r;)ia=ba+za,Da=ia-ba,Da=ba-(ia-Da)+(za-Da),za=C[++hb],ba=ia,0!==Da&&(ja[qa++]=Da);for(;Ja<N;)ia=ba+Wa,Da=ia-ba,Da=ba-(ia-Da)+(Wa-Da),Wa=U[++Ja],ba=ia,0!==Da&&(ja[qa++]=Da);if(0!==ba||0===qa)ja[qa++]=ba;return qa}function u(r,C,
N,U,ja,ba){var ia=(C-ba)*(N-ja),za=(r-ja)*(U-ba),Wa=ia-za;if(0===ia||0===za||0<ia!==0<za)return Wa;ia=Math.abs(ia+za);if(Math.abs(Wa)>=3.3306690738754716E-16*ia)return Wa;{let xa;Wa=r-ja;const ma=N-ja;za=C-ba;const Ea=U-ba;var hb=Wa*Ea;var Ja=134217729*Wa;var qa=Ja-(Ja-Wa);var Da=Wa-qa;Ja=134217729*Ea;Ja-=Ja-Ea;xa=Ea-Ja;var va=Da*xa-(hb-qa*Ja-Da*Ja-qa*xa);var sa=za*ma;Ja=134217729*za;qa=Ja-(Ja-za);Da=za-qa;Ja=134217729*ma;Ja-=Ja-ma;xa=ma-Ja;Ja=Da*xa-(sa-qa*Ja-Da*Ja-qa*xa);Da=va-Ja;qa=va-Da;q[0]=va-
(Da+qa)+(qa-Ja);va=hb+Da;qa=va-hb;hb=hb-(va-qa)+(Da-qa);Da=hb-sa;qa=hb-Da;q[1]=hb-(Da+qa)+(qa-sa);sa=va+Da;qa=sa-va;q[2]=va-(sa-qa)+(Da-qa);q[3]=sa;sa=q[0];for(hb=1;4>hb;hb++)sa+=q[hb];hb=2.2204460492503146E-16*ia;sa>=hb||-sa>=hb?U=sa:(qa=r-Wa,r=r-(Wa+qa)+(qa-ja),qa=N-ma,N=N-(ma+qa)+(qa-ja),qa=C-za,C=C-(za+qa)+(qa-ba),qa=U-Ea,U=U-(Ea+qa)+(qa-ba),0===r&&0===C&&0===N&&0===U?U=sa:(hb=1.1093356479670487E-31*ia+3.3306690738754706E-16*Math.abs(sa),sa+=Wa*U+Ea*r-(za*N+ma*C),sa>=hb||-sa>=hb?U=sa:(hb=r*Ea,
Ja=134217729*r,qa=Ja-(Ja-r),Da=r-qa,Ja=134217729*Ea,Ja-=Ja-Ea,xa=Ea-Ja,va=Da*xa-(hb-qa*Ja-Da*Ja-qa*xa),sa=C*ma,Ja=134217729*C,qa=Ja-(Ja-C),Da=C-qa,Ja=134217729*ma,Ja-=Ja-ma,xa=ma-Ja,Ja=Da*xa-(sa-qa*Ja-Da*Ja-qa*xa),Da=va-Ja,qa=va-Da,D[0]=va-(Da+qa)+(qa-Ja),va=hb+Da,qa=va-hb,hb=hb-(va-qa)+(Da-qa),Da=hb-sa,qa=hb-Da,D[1]=hb-(Da+qa)+(qa-sa),sa=va+Da,qa=sa-va,D[2]=va-(sa-qa)+(Da-qa),D[3]=sa,ba=A(4,q,4,D,E),hb=Wa*U,Ja=134217729*Wa,qa=Ja-(Ja-Wa),Da=Wa-qa,Ja=134217729*U,Ja-=Ja-U,xa=U-Ja,va=Da*xa-(hb-qa*Ja-
Da*Ja-qa*xa),sa=za*N,Ja=134217729*za,qa=Ja-(Ja-za),Da=za-qa,Ja=134217729*N,Ja-=Ja-N,xa=N-Ja,Ja=Da*xa-(sa-qa*Ja-Da*Ja-qa*xa),Da=va-Ja,qa=va-Da,D[0]=va-(Da+qa)+(qa-Ja),va=hb+Da,qa=va-hb,hb=hb-(va-qa)+(Da-qa),Da=hb-sa,qa=hb-Da,D[1]=hb-(Da+qa)+(qa-sa),sa=va+Da,qa=sa-va,D[2]=va-(sa-qa)+(Da-qa),D[3]=sa,ba=A(ba,E,4,D,F),hb=r*U,Ja=134217729*r,qa=Ja-(Ja-r),Da=r-qa,Ja=134217729*U,Ja-=Ja-U,xa=U-Ja,va=Da*xa-(hb-qa*Ja-Da*Ja-qa*xa),sa=C*N,Ja=134217729*C,qa=Ja-(Ja-C),Da=C-qa,Ja=134217729*N,Ja-=Ja-N,xa=N-Ja,Ja=Da*
xa-(sa-qa*Ja-Da*Ja-qa*xa),Da=va-Ja,qa=va-Da,D[0]=va-(Da+qa)+(qa-Ja),va=hb+Da,qa=va-hb,hb=hb-(va-qa)+(Da-qa),Da=hb-sa,qa=hb-Da,D[1]=hb-(Da+qa)+(qa-sa),sa=va+Da,qa=sa-va,D[2]=va-(sa-qa)+(Da-qa),D[3]=sa,U=A(ba,F,4,D,w),U=w[U-1])))}return-U}function m(r,C,N,U){r-=N;C-=U;return r*r+C*C}function l(r,C,N,U){if(20>=U-N)for(var ja=N+1;ja<=U;ja++){for(var ba=r[ja],ia=C[ba],za=ja-1;za>=N&&C[r[za]]>ia;)r[za+1]=r[za--];r[za+1]=ba}else{ja=N+1;ba=U;f(r,N+U>>1,ja);C[r[N]]>C[r[U]]&&f(r,N,U);C[r[ja]]>C[r[U]]&&f(r,
ja,U);C[r[N]]>C[r[ja]]&&f(r,N,ja);ia=r[ja];for(za=C[ia];;){do ja++;while(C[r[ja]]<za);do ba--;while(C[r[ba]]>za);if(ba<ja)break;f(r,ja,ba)}r[N+1]=r[ba];r[ba]=ia;U-ja+1>=ba-N?(l(r,C,ja,U),l(r,C,N,ba-1)):(l(r,C,N,ba-1),l(r,C,ja,U))}}function f(r,C,N){const U=r[C];r[C]=r[N];r[N]=U}function g(r){return r[0]}function d(r){return r[1]}function b(r){return r[0]}function c(r){return r[1]}function a(r){const {triangles:C,coords:N}=r;for(r=0;r<C.length;r+=3){const U=2*C[r],ja=2*C[r+1],ba=2*C[r+2];if(1E-10<
(N[ba]-N[U])*(N[ja+1]-N[U+1])-(N[ja]-N[U])*(N[ba+1]-N[U+1]))return!1}return!0}function e(r,C,N){return[r+Math.sin(r+C)*N,C+Math.cos(r-C)*N]}function*t(r,C,N,U){let ja=0;for(const ba of r)yield C.call(U,ba,ja,r),yield N.call(U,ba,ja,r),++ja}function y(r){k.Transform.call(this,null,r)}const q=new Float64Array(4),E=new Float64Array(8),F=new Float64Array(12),w=new Float64Array(16),D=new Float64Array(4),G=Math.pow(2,-52),L=new Uint32Array(512);class O{static from(r,C=g,N=d){const U=r.length,ja=new Float64Array(2*
U);for(let ba=0;ba<U;ba++){const ia=r[ba];ja[2*ba]=C(ia);ja[2*ba+1]=N(ia)}return new O(ja)}constructor(r){const C=r.length>>1;if(0<C&&"number"!==typeof r[0])throw Error("Expected coords to contain numbers.");this.coords=r;r=Math.max(2*C-5,0);this._triangles=new Uint32Array(3*r);this._halfedges=new Int32Array(3*r);this._hashSize=Math.ceil(Math.sqrt(C));this._hullPrev=new Uint32Array(C);this._hullNext=new Uint32Array(C);this._hullTri=new Uint32Array(C);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);
this._ids=new Uint32Array(C);this._dists=new Float64Array(C);this.update()}update(){const {coords:r,_hullPrev:C,_hullNext:N,_hullTri:U,_hullHash:ja}=this;var ba=r.length>>1,ia=Infinity,za=Infinity,Wa=-Infinity,hb=-Infinity;for(var Ja=0;Ja<ba;Ja++){var qa=r[2*Ja];var Da=r[2*Ja+1];qa<ia&&(ia=qa);Da<za&&(za=Da);qa>Wa&&(Wa=qa);Da>hb&&(hb=Da);this._ids[Ja]=Ja}Wa=(ia+Wa)/2;za=(za+hb)/2;ia=Infinity;for(hb=0;hb<ba;hb++)if(Ja=m(Wa,za,r[2*hb],r[2*hb+1]),Ja<ia){var va=hb;ia=Ja}za=r[2*va];hb=r[2*va+1];ia=Infinity;
for(Wa=0;Wa<ba;Wa++)if(Wa!==va&&(Ja=m(za,hb,r[2*Wa],r[2*Wa+1]),Ja<ia&&0<Ja)){var sa=Wa;ia=Ja}ia=r[2*sa];Wa=r[2*sa+1];Da=Infinity;for(Ja=0;Ja<ba;Ja++)if(Ja!==va&&Ja!==sa){qa=ia-za;var xa=Wa-hb;var ma=r[2*Ja]-za;var Ea=r[2*Ja+1]-hb,Ua=qa*qa+xa*xa,ab=ma*ma+Ea*Ea,ta=.5/(qa*Ea-xa*ma);xa=(Ea*Ua-xa*ab)*ta;qa=(qa*ab-ma*Ua)*ta;qa=xa*xa+qa*qa;if(qa<Da){var Na=Ja;Da=qa}}Ja=r[2*Na];qa=r[2*Na+1];if(Infinity===Da){for(va=0;va<ba;va++)this._dists[va]=r[2*va]-r[0]||r[2*va+1]-r[1];l(this._ids,this._dists,0,ba-1);
va=new Uint32Array(ba);sa=0;for(let oa=0,aa=-Infinity;oa<ba;oa++)Na=this._ids[oa],this._dists[Na]>aa&&(va[sa++]=Na,aa=this._dists[Na]);this.hull=va.subarray(0,sa);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>u(za,hb,ia,Wa,Ja,qa)&&(Da=sa,ma=ia,Ua=Wa,sa=Na,ia=Ja,Wa=qa,Na=Da,Ja=ma,qa=Ua);ma=ia-za;Da=Wa-hb;Ua=Ja-za;Ea=qa-hb;ab=ma*ma+Da*Da;ta=Ua*Ua+Ea*Ea;xa=.5/(ma*Ea-Da*Ua);Da=za+(Ea*ab-Da*ta)*xa;ma=hb+(ma*ta-Ua*ab)*xa;this._cx=Da;this._cy=ma;for(Ua=0;Ua<ba;Ua++)this._dists[Ua]=
m(r[2*Ua],r[2*Ua+1],Da,ma);l(this._ids,this._dists,0,ba-1);this._hullStart=va;ba=3;N[va]=C[Na]=sa;N[sa]=C[va]=Na;N[Na]=C[sa]=va;U[va]=0;U[sa]=1;U[Na]=2;ja.fill(-1);ja[this._hashKey(za,hb)]=va;ja[this._hashKey(ia,Wa)]=sa;ja[this._hashKey(Ja,qa)]=Na;this.trianglesLen=0;this._addTriangle(va,sa,Na,-1,-1,-1);for(let oa=0,aa,ka;oa<this._ids.length;oa++){za=this._ids[oa];hb=r[2*za];ia=r[2*za+1];if(0<oa&&Math.abs(hb-aa)<=G&&Math.abs(ia-ka)<=G)continue;aa=hb;ka=ia;if(za===va||za===sa||za===Na)continue;Wa=
0;for(let Xa=0,Ya=this._hashKey(hb,ia);Xa<this._hashSize&&(Wa=ja[(Ya+Xa)%this._hashSize],-1===Wa||Wa===N[Wa]);Xa++);Ja=Wa=C[Wa];let Ia;for(;Ia=N[Ja],0<=u(hb,ia,r[2*Ja],r[2*Ja+1],r[2*Ia],r[2*Ia+1]);)if(Ja=Ia,Ja===Wa){Ja=-1;break}if(-1!==Ja){qa=this._addTriangle(Ja,za,N[Ja],-1,-1,U[Ja]);U[za]=this._legalize(qa+2);U[Ja]=qa;ba++;for(Da=N[Ja];Ia=N[Da],0>u(hb,ia,r[2*Da],r[2*Da+1],r[2*Ia],r[2*Ia+1]);)qa=this._addTriangle(Da,za,Ia,U[za],-1,U[Da]),U[za]=this._legalize(qa+2),N[Da]=Da,ba--,Da=Ia;if(Ja===Wa)for(;Ia=
C[Ja],0>u(hb,ia,r[2*Ia],r[2*Ia+1],r[2*Ja],r[2*Ja+1]);)qa=this._addTriangle(Ia,za,Ja,-1,U[Ja],U[Ia]),this._legalize(qa+2),U[Ia]=qa,N[Ja]=Ja,ba--,Ja=Ia;this._hullStart=C[za]=Ja;N[Ja]=C[Da]=za;N[za]=Da;ja[this._hashKey(hb,ia)]=za;ja[this._hashKey(r[2*Ja],r[2*Ja+1])]=Ja}}this.hull=new Uint32Array(ba);for(let oa=0,aa=this._hullStart;oa<ba;oa++)this.hull[oa]=aa,aa=N[aa];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(r,
C){var N=Math;r-=this._cx;C-=this._cy;r/=Math.abs(r)+Math.abs(C);return N.floor.call(N,(0<C?3-r:1+r)/4*this._hashSize)%this._hashSize}_legalize(r){const {_triangles:C,_halfedges:N,coords:U}=this;let ja=0;for(var ba;;){const Da=N[r];var ia=r-r%3;ba=ia+(r+2)%3;if(-1===Da){if(0===ja)break;r=L[--ja];continue}const va=Da-Da%3,sa=va+(Da+2)%3;var za=C[ba],Wa=C[r],hb=C[ia+(r+1)%3];ia=C[sa];var Ja=U[2*ia],qa=U[2*ia+1];const xa=U[2*za]-Ja,ma=U[2*za+1]-qa,Ea=U[2*Wa]-Ja;Wa=U[2*Wa+1]-qa;Ja=U[2*hb]-Ja;qa=U[2*hb+
1]-qa;hb=Ea*Ea+Wa*Wa;const Ua=Ja*Ja+qa*qa;if(0>xa*(Wa*Ua-hb*qa)-ma*(Ea*Ua-hb*Ja)+(xa*xa+ma*ma)*(Ea*qa-Wa*Ja)){C[r]=ia;C[Da]=za;za=N[sa];if(-1===za){ia=this._hullStart;do{if(this._hullTri[ia]===sa){this._hullTri[ia]=r;break}ia=this._hullPrev[ia]}while(ia!==this._hullStart)}this._link(r,za);this._link(Da,N[ba]);this._link(ba,sa);ba=va+(Da+1)%3;ja<L.length&&(L[ja++]=ba)}else{if(0===ja)break;r=L[--ja]}}return ba}_link(r,C){this._halfedges[r]=C;-1!==C&&(this._halfedges[C]=r)}_addTriangle(r,C,N,U,ja,ba){const ia=
this.trianglesLen;this._triangles[ia]=r;this._triangles[ia+1]=C;this._triangles[ia+2]=N;this._link(ia,U);this._link(ia+1,ja);this._link(ia+2,ba);this.trianglesLen+=3;return ia}}class V{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(r,C){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+C}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(r,C){this._+=`L${this._x1=+r},${this._y1=+C}`}arc(r,C,N){r=+r;C=+C;N=+N;const U=r+N,ja=C;if(0>
N)throw Error("negative radius");if(null===this._x1)this._+=`M${U},${ja}`;else if(1E-6<Math.abs(this._x1-U)||1E-6<Math.abs(this._y1-ja))this._+="L"+U+","+ja;N&&(this._+=`A${N},${N},0,1,1,${r-N},${C}A${N},${N},0,1,1,${this._x1=U},${this._y1=ja}`)}rect(r,C,N,U){this._+=`M${this._x0=this._x1=+r},${this._y0=this._y1=+C}h${+N}v${+U}h${-N}Z`}value(){return this._||null}}class S{constructor(){this._=[]}moveTo(r,C){this._.push([r,C])}closePath(){this._.push(this._[0].slice())}lineTo(r,C){this._.push([r,C])}value(){return this._.length?
this._:null}}class ca{constructor(r,[C,N,U,ja]=[0,0,960,500]){if(!((U=+U)>=(C=+C)&&(ja=+ja)>=(N=+N)))throw Error("invalid bounds");this.delaunay=r;this._circumcenters=new Float64Array(2*r.points.length);this.vectors=new Float64Array(2*r.points.length);this.xmax=U;this.xmin=C;this.ymax=ja;this.ymin=N;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:r,hull:C,triangles:N},vectors:U}=this;var ja=this.circumcenters=this._circumcenters.subarray(0,N.length/
3*2);for(let sa=0,xa=0,ma=N.length,Ea,Ua;sa<ma;sa+=3,xa+=2){var ba=2*N[sa],ia=2*N[sa+1],za=2*N[sa+2],Wa=r[ba];ba=r[ba+1];var hb=r[za],Ja=r[za+1],qa=r[ia]-Wa,Da=r[ia+1]-ba;ia=hb-Wa;za=Ja-ba;var va=2*(qa*za-Da*ia);1E-9>Math.abs(va)?(qa=1E9,Da=2*N[0],qa*=Math.sign((r[Da]-Wa)*za-(r[Da+1]-ba)*ia),Ea=(Wa+hb)/2-qa*za,Ua=(ba+Ja)/2+qa*ia):(hb=1/va,Ja=qa*qa+Da*Da,va=ia*ia+za*za,Ea=Wa+(za*Ja-Da*va)*hb,Ua=ba+(qa*va-ia*Ja)*hb);ja[xa]=Ea;ja[xa+1]=Ua}ja=C[C.length-1];ba=4*ja;za=r[2*ja];qa=r[2*ja+1];U.fill(0);for(Ja=
0;Ja<C.length;++Ja)ja=C[Ja],Wa=ba,ia=za,hb=qa,ba=4*ja,za=r[2*ja],qa=r[2*ja+1],U[Wa+2]=U[ba]=hb-qa,U[Wa+3]=U[ba+1]=za-ia}render(r){const C=null==r?r=new V:void 0,{delaunay:{halfedges:N,inedges:U,hull:ja},circumcenters:ba,vectors:ia}=this;if(1>=ja.length)return null;for(let qa=0,Da=N.length;qa<Da;++qa){var za=N[qa];if(!(za<qa)){var Wa=2*Math.floor(qa/3);za=2*Math.floor(za/3);this._renderSegment(ba[Wa],ba[Wa+1],ba[za],ba[za+1],r)}}Wa=ja[ja.length-1];for(za=0;za<ja.length;++za){var hb=Wa;Wa=ja[za];var Ja=
2*Math.floor(U[Wa]/3);const qa=ba[Ja];Ja=ba[Ja+1];hb*=4;(hb=this._project(qa,Ja,ia[hb+2],ia[hb+3]))&&this._renderSegment(qa,Ja,hb[0],hb[1],r)}return C&&C.value()}renderBounds(r){const C=null==r?r=new V:void 0;r.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return C&&C.value()}renderCell(r,C){const N=null==C?C=new V:void 0;r=this._clip(r);if(null!==r&&r.length){C.moveTo(r[0],r[1]);for(var U=r.length;r[0]===r[U-2]&&r[1]===r[U-1]&&1<U;)U-=2;for(let ja=2;ja<U;ja+=2)r[ja]===r[ja-2]&&
r[ja+1]===r[ja-1]||C.lineTo(r[ja],r[ja+1]);C.closePath();return N&&N.value()}}*cellPolygons(){var {delaunay:{points:r}}=this;for(let C=0,N=r.length/2;C<N;++C)if(r=this.cellPolygon(C))r.index=C,yield r}cellPolygon(r){const C=new S;this.renderCell(r,C);return C.value()}_renderSegment(r,C,N,U,ja){const ba=this._regioncode(r,C),ia=this._regioncode(N,U);if(0===ba&&0===ia)ja.moveTo(r,C),ja.lineTo(N,U);else if(r=this._clipSegment(r,C,N,U,ba,ia))ja.moveTo(r[0],r[1]),ja.lineTo(r[2],r[3])}contains(r,C,N){return(C=
+C,C!==C)||(N=+N,N!==N)?!1:this.delaunay._step(r,C,N)===r}*neighbors(r){const C=this._clip(r);if(C)for(const N of this.delaunay.neighbors(r))if(r=this._clip(N))a:for(let U=0,ja=C.length;U<ja;U+=2)for(let ba=0,ia=r.length;ba<ia;ba+=2)if(C[U]==r[ba]&&C[U+1]==r[ba+1]&&C[(U+2)%ja]==r[(ba+ia-2)%ia]&&C[(U+3)%ja]==r[(ba+ia-1)%ia]){yield N;break a}}_cell(r){const {circumcenters:C,delaunay:{inedges:N,halfedges:U,triangles:ja}}=this,ba=N[r];if(-1===ba)return null;const ia=[];let za=ba;do{const Wa=Math.floor(za/
3);ia.push(C[2*Wa],C[2*Wa+1]);za=2===za%3?za-2:za+1;if(ja[za]!==r)break;za=U[za]}while(za!==ba&&-1!==za);return ia}_clip(r){if(0===r&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const C=this._cell(r);if(null===C)return null;const {vectors:N}=this,U=4*r;return N[U]||N[U+1]?this._clipInfinite(r,C,N[U],N[U+1],N[U+2],N[U+3]):this._clipFinite(r,C)}_clipFinite(r,C){const N=C.length;let U=null;let ja=C[N-2],ba=C[N-1];let ia=this._regioncode(ja,
ba),za=0;for(let qa=0;qa<N;qa+=2){var Wa=ja;var hb=ba;ja=C[qa];ba=C[qa+1];var Ja=ia;ia=this._regioncode(ja,ba);if(0===Ja&&0===ia)za=0,U?U.push(ja,ba):U=[ja,ba];else{let Da,va;if(0===Ja){if(null===(Wa=this._clipSegment(Wa,hb,ja,ba,Ja,ia)))continue;[hb,Ja,Da,va]=Wa}else{if(null===(Wa=this._clipSegment(ja,ba,Wa,hb,ia,Ja)))continue;[Da,va,hb,Ja]=Wa;Wa=za;za=this._edgecode(hb,Ja);Wa&&za&&this._edge(r,Wa,za,U,U.length);U?U.push(hb,Ja):U=[hb,Ja]}Wa=za;za=this._edgecode(Da,va);Wa&&za&&this._edge(r,Wa,za,
U,U.length);U?U.push(Da,va):U=[Da,va]}}if(U)Wa=za,za=this._edgecode(U[0],U[1]),Wa&&za&&this._edge(r,Wa,za,U,U.length);else if(this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return U}_clipSegment(r,C,N,U,ja,ba){for(;;){if(0===ja&&0===ba)return[r,C,N,U];if(ja&ba)return null;var ia=void 0;let za;ia=ja||ba;ia&8?(ia=r+(N-r)*(this.ymax-C)/(U-C),za=this.ymax):ia&4?(ia=r+(N-r)*(this.ymin-C)/(U-C),za=
this.ymin):ia&2?(za=C+(U-C)*(this.xmax-r)/(N-r),ia=this.xmax):(za=C+(U-C)*(this.xmin-r)/(N-r),ia=this.xmin);ja?(r=ia,C=za,ja=this._regioncode(r,C)):(N=ia,U=za,ba=this._regioncode(N,U))}}_clipInfinite(r,C,N,U,ja,ba){C=Array.from(C);let ia;(ia=this._project(C[0],C[1],N,U))&&C.unshift(ia[0],ia[1]);(ia=this._project(C[C.length-2],C[C.length-1],ja,ba))&&C.push(ia[0],ia[1]);if(C=this._clipFinite(r,C))for(let za=0,Wa=C.length,hb,Ja=this._edgecode(C[Wa-2],C[Wa-1]);za<Wa;za+=2)hb=Ja,Ja=this._edgecode(C[za],
C[za+1]),hb&&Ja&&(za=this._edge(r,hb,Ja,C,za),Wa=C.length);else this.contains(r,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(C=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return C}_edge(r,C,N,U,ja){for(;C!==N;){let ba,ia;switch(C){case 5:C=4;continue;case 4:C=6;ba=this.xmax;ia=this.ymin;break;case 6:C=2;continue;case 2:C=10;ba=this.xmax;ia=this.ymax;break;case 10:C=8;continue;case 8:C=9;ba=this.xmin;ia=this.ymax;break;case 9:C=1;continue;case 1:C=5,ba=
this.xmin,ia=this.ymin}U[ja]===ba&&U[ja+1]===ia||!this.contains(r,ba,ia)||(U.splice(ja,0,ba,ia),ja+=2)}if(4<U.length)for(r=0;r<U.length;r+=2)if(C=(r+2)%U.length,N=(r+4)%U.length,U[r]===U[C]&&U[C]===U[N]||U[r+1]===U[C+1]&&U[C+1]===U[N+1])U.splice(C,2),r-=2;return ja}_project(r,C,N,U){let ja=Infinity,ba,ia,za;if(0>U){if(C<=this.ymin)return null;(ba=(this.ymin-C)/U)<ja&&(za=this.ymin,ia=r+(ja=ba)*N)}else if(0<U){if(C>=this.ymax)return null;(ba=(this.ymax-C)/U)<ja&&(za=this.ymax,ia=r+(ja=ba)*N)}if(0<
N){if(r>=this.xmax)return null;(ba=(this.xmax-r)/N)<ja&&(ia=this.xmax,za=C+ba*U)}else if(0>N){if(r<=this.xmin)return null;(ba=(this.xmin-r)/N)<ja&&(ia=this.xmin,za=C+ba*U)}return[ia,za]}_edgecode(r,C){return(r===this.xmin?1:r===this.xmax?2:0)|(C===this.ymin?4:C===this.ymax?8:0)}_regioncode(r,C){return(r<this.xmin?1:r>this.xmax?2:0)|(C<this.ymin?4:C>this.ymax?8:0)}}const ea=2*Math.PI,T=Math.pow;class R{static from(r,C=b,N=c,U){if("length"in r){const ja=r.length,ba=new Float64Array(2*ja);for(let ia=
0;ia<ja;++ia){const za=r[ia];ba[2*ia]=C.call(U,za,ia,r);ba[2*ia+1]=N.call(U,za,ia,r)}r=ba}else r=Float64Array.from(t(r,C,N,U));return new R(r)}constructor(r){this._delaunator=new O(r);this.inedges=new Int32Array(r.length/2);this._hullIndex=new Int32Array(r.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var r=this._delaunator;const C=this.points;if(r.hull&&2<r.hull.length&&a(r)){this.collinear=Int32Array.from({length:C.length/
2},(ia,za)=>za).sort((ia,za)=>C[2*ia]-C[2*za]||C[2*ia+1]-C[2*za+1]);r=this.collinear[0];var N=this.collinear[this.collinear.length-1];r=[C[2*r],C[2*r+1],C[2*N],C[2*N+1]];r=1E-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let ia=0,za=C.length/2;ia<za;++ia)N=e(C[2*ia],C[2*ia+1],r),C[2*ia]=N[0],C[2*ia+1]=N[1];this._delaunator=new O(C)}else delete this.collinear;r=this.halfedges=this._delaunator.halfedges;N=this.hull=this._delaunator.hull;const U=this.triangles=this._delaunator.triangles,ja=this.inedges.fill(-1),
ba=this._hullIndex.fill(-1);for(let ia=0,za=r.length;ia<za;++ia){const Wa=U[2===ia%3?ia-2:ia+1];if(-1===r[ia]||-1===ja[Wa])ja[Wa]=ia}for(let ia=0,za=N.length;ia<za;++ia)ba[N[ia]]=ia;2>=N.length&&0<N.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=N[0],ja[N[0]]=1,2===N.length&&(ja[N[1]]=0,this.triangles[1]=N[1],this.triangles[2]=N[1]))}voronoi(r){return new ca(this,r)}*neighbors(r){const {inedges:C,hull:N,_hullIndex:U,halfedges:ja,
triangles:ba,collinear:ia}=this;if(ia){var za=ia.indexOf(r);0<za&&(yield ia[za-1]);za<ia.length-1&&(yield ia[za+1])}else{var Wa=C[r];if(-1!==Wa){var hb=Wa;do{yield(za=ba[hb]);hb=2===hb%3?hb-2:hb+1;if(ba[hb]!==r)break;hb=ja[hb];if(-1===hb){r=N[(U[r]+1)%N.length];r!==za&&(yield r);break}}while(hb!==Wa)}}}find(r,C,N=0){if((r=+r,r!==r)||(C=+C,C!==C))return-1;const U=N;let ja;for(;0<=(ja=this._step(N,r,C))&&ja!==N&&ja!==U;)N=ja;return ja}_step(r,C,N){const {inedges:U,hull:ja,_hullIndex:ba,halfedges:ia,
triangles:za,points:Wa}=this;if(-1===U[r]||!Wa.length)return(r+1)%(Wa.length>>1);let hb=r,Ja=T(C-Wa[2*r],2)+T(N-Wa[2*r+1],2);const qa=U[r];let Da=qa;do{let va=za[Da];const sa=T(C-Wa[2*va],2)+T(N-Wa[2*va+1],2);sa<Ja&&(Ja=sa,hb=va);Da=2===Da%3?Da-2:Da+1;if(za[Da]!==r)break;Da=ia[Da];if(-1===Da){Da=ja[(ba[r]+1)%ja.length];if(Da!==va&&T(C-Wa[2*Da],2)+T(N-Wa[2*Da+1],2)<Ja)return Da;break}}while(Da!==qa);return hb}render(r){const C=null==r?r=new V:void 0,{points:N,halfedges:U,triangles:ja}=this;for(let ia=
0,za=U.length;ia<za;++ia){var ba=U[ia];if(ba<ia)continue;const Wa=2*ja[ia];ba=2*ja[ba];r.moveTo(N[Wa],N[Wa+1]);r.lineTo(N[ba],N[ba+1])}this.renderHull(r);return C&&C.value()}renderPoints(r,C){void 0!==C||r&&"function"===typeof r.moveTo||(C=r,r=null);C=void 0==C?2:+C;const N=null==r?r=new V:void 0,{points:U}=this;for(let ja=0,ba=U.length;ja<ba;ja+=2){const ia=U[ja],za=U[ja+1];r.moveTo(ia+C,za);r.arc(ia,za,C,0,ea)}return N&&N.value()}renderHull(r){const C=null==r?r=new V:void 0,{hull:N,points:U}=this;
var ja=2*N[0];const ba=N.length;r.moveTo(U[ja],U[ja+1]);for(ja=1;ja<ba;++ja){const ia=2*N[ja];r.lineTo(U[ia],U[ia+1])}r.closePath();return C&&C.value()}hullPolygon(){const r=new S;this.renderHull(r);return r.value()}renderTriangle(r,C){const N=null==C?C=new V:void 0,{points:U,triangles:ja}=this,ba=2*ja[r*=3],ia=2*ja[r+1];r=2*ja[r+2];C.moveTo(U[ba],U[ba+1]);C.lineTo(U[ia],U[ia+1]);C.lineTo(U[r],U[r+1]);C.closePath();return N&&N.value()}*trianglePolygons(){const {triangles:r}=this;for(let C=0,N=r.length/
3;C<N;++C)yield this.trianglePolygon(C)}trianglePolygon(r){const C=new S;this.renderTriangle(r,C);return C.value()}}y.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const J=[-1E5,-1E5,1E5,1E5];p.inherits(y,
k.Transform,{transform(r,C){const N=r.as||"path",U=C.source;if(!U||!U.length)return C;var ja=r.size;ja=ja?[0,0,ja[0],ja[1]]:(ja=r.extent)?[ja[0][0],ja[0][1],ja[1][0],ja[1][1]]:J;ja=this.value=R.from(U,r.x,r.y).voronoi(ja);for(let za=0,Wa=U.length;za<Wa;++za){var ba=ja.cellPolygon(za),ia=U[za];if(ba){const hb=ba[0][0],Ja=ba[0][1];let qa=ba.length-1;for(;ba[qa][0]===hb&&ba[qa][1]===Ja;--qa);ba="M"+ba.slice(0,qa+1).join("L")+"Z"}else ba=null;ia[N]=ba}return C.reflow(r.modified()).modifies(N)}});v.voronoi=
y;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[38]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(26),z(23),z(14),z(27),z(24)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,p,A,u,m){function l(){function E(r){r.width=r.height=1;var C=Math.sqrt(r.getContext("2d").getImageData(0,
0,1,1).data.length>>2);r.width=2048/C;r.height=2048/C;r=r.getContext("2d");r.fillStyle=r.strokeStyle="red";r.textAlign="center";return{context:r,ratio:C}}function F(r,C,N){for(var U=C.x,ja=C.y,ba=Math.sqrt(w[0]*w[0]+w[1]*w[1]),ia=ea(w),za=.5>R()?1:-1,Wa=-za,hb,Ja;hb=ia(Wa+=za);){Ja=~~hb[0];hb=~~hb[1];if(Math.min(Math.abs(Ja),Math.abs(hb))>=ba)break;C.x=U+Ja;C.y=ja+hb;if(!(0>C.x+C.x0||0>C.y+C.y0||C.x+C.x1>w[0]||C.y+C.y1>w[1])){if(!(Ja=!N)){a:{Ja=w[0];Ja>>=5;hb=C.sprite;var qa=C.width>>5;var Da=C.x-
(qa<<4);for(var va=Da&127,sa=32-va,xa=C.y1-C.y0,ma=(C.y+C.y0)*Ja+(Da>>5),Ea=0;Ea<xa;Ea++){for(var Ua=Da=0;Ua<=qa;Ua++)if((Da<<sa|(Ua<qa?(Da=hb[Ea*qa+Ua])>>>va:0))&r[ma+Ua]){Ja=!0;break a}ma+=Ja}Ja=!1}Ja=!Ja}if(Ja&&(!N||C.x+C.x1>N[0].x&&C.x+C.x0<N[1].x&&C.y+C.y1>N[0].y&&C.y+C.y0<N[1].y)){N=C.sprite;U=C.width>>5;ja=w[0]>>5;Wa=C.x-(U<<4);ba=Wa&127;ia=32-ba;za=C.y1-C.y0;Wa=(C.y+C.y0)*ja+(Wa>>5);for(hb=0;hb<za;hb++){for(qa=Ja=0;qa<=U;qa++)r[Wa+qa]=r[Wa+qa]|Ja<<ia|(qa<U?(Ja=N[hb*U+qa])>>>ba:0);Wa+=ja}C.sprite=
null;return!0}}}return!1}var w=[256,256],D,G,L,O,V,S,ca,ea=d,T=[],R=Math.random,J={layout:function(){for(var r=E(k.canvas()),C=b((w[0]>>5)*w[1]),N=null,U=T.length,ja=-1,ba=[],ia=T.map(Wa=>({text:D(Wa),font:G(Wa),style:O(Wa),weight:V(Wa),rotate:S(Wa),size:~~(L(Wa)+1E-14),padding:ca(Wa),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Wa})).sort((Wa,hb)=>hb.size-Wa.size);++ja<U;){var za=ia[ja];za.x=w[0]*(R()+.5)>>1;za.y=w[1]*(R()+.5)>>1;f(r,za,ia,ja);za.hasText&&F(C,za,N)&&(ba.push(za),
N?g(N,za):N=[{x:za.x+za.x0,y:za.y+za.y0},{x:za.x+za.x1,y:za.y+za.y1}],za.x-=w[0]>>1,za.y-=w[1]>>1)}return ba},words:function(r){return arguments.length?(T=r,J):T},size:function(r){return arguments.length?(w=[+r[0],+r[1]],J):w},font:function(r){return arguments.length?(G=c(r),J):G},fontStyle:function(r){return arguments.length?(O=c(r),J):O},fontWeight:function(r){return arguments.length?(V=c(r),J):V},rotate:function(r){return arguments.length?(S=c(r),J):S},text:function(r){return arguments.length?
(D=c(r),J):D},spiral:function(r){return arguments.length?(ea=t[r]||r,J):ea},fontSize:function(r){return arguments.length?(L=c(r),J):L},padding:function(r){return arguments.length?(ca=c(r),J):ca},random:function(r){return arguments.length?(R=r,J):R}};return J}function f(E,F,w,D){if(!F.sprite){var G=E.context,L=E.ratio;G.clearRect(0,0,2048/L,2048/L);var O=E=0,V=0,S=w.length;for(--D;++D<S;){F=w[D];G.save();G.font=F.style+" "+F.weight+" "+~~((F.size+1)/L)+"px "+F.font;var ca=G.measureText(F.text+"m").width*
L;var ea=F.size<<1;if(F.rotate){var T=Math.sin(F.rotate*e),R=Math.cos(F.rotate*e),J=ca*R,r=ca*T;R*=ea;ca=ea*T;ca=Math.max(Math.abs(J+ca),Math.abs(J-ca))+31>>5<<5;ea=~~Math.max(Math.abs(r+R),Math.abs(r-R))}else ca=ca+31>>5<<5;ea>V&&(V=ea);2048<=E+ca&&(E=0,O+=V,V=0);if(2048<=O+ea)break;G.translate((E+(ca>>1))/L,(O+(ea>>1))/L);F.rotate&&G.rotate(F.rotate*e);G.fillText(F.text,0,0);F.padding&&(G.lineWidth=2*F.padding,G.strokeText(F.text,0,0));G.restore();F.width=ca;F.height=ea;F.xoff=E;F.yoff=O;F.x1=ca>>
1;F.y1=ea>>1;F.x0=-F.x1;F.y0=-F.y1;F.hasText=!0;E+=ca}S=G.getImageData(0,0,2048/L,2048/L).data;for(J=[];0<=--D;)if(F=w[D],F.hasText){ca=F.width;G=ca>>5;ea=F.y1-F.y0;for(L=0;L<ea*G;L++)J[L]=0;E=F.xoff;if(null==E)break;O=F.yoff;r=0;T=-1;for(V=0;V<ea;V++){for(L=0;L<ca;L++)R=S[2048*(O+V)+(E+L)<<2]?1<<31-L%32:0,J[G*V+(L>>5)]|=R,r|=R;r?T=V:(F.y0++,ea--,V--,O++)}F.y1=F.y0+T;F.sprite=J.slice(0,(F.y1-F.y0)*G)}}}function g(E,F){var w=E[0];E=E[1];F.x+F.x0<w.x&&(w.x=F.x+F.x0);F.y+F.y0<w.y&&(w.y=F.y+F.y0);F.x+
F.x1>E.x&&(E.x=F.x+F.x1);F.y+F.y1>E.y&&(E.y=F.y+F.y1)}function d(E){var F=E[0]/E[1];return function(w){return[F*(w*=.1)*Math.cos(w),w*Math.sin(w)]}}function b(E){for(var F=[],w=-1;++w<E;)F[w]=0;return F}function c(E){return"function"===typeof E?E:function(){return E}}function a(E){p.Transform.call(this,l(),E)}var e=Math.PI/180,t={archimedean:d,rectangular:function(E){var F=4*E[0]/E[1],w=0,D=0;return function(G){var L=0>G?-1:1;switch(Math.sqrt(1+4*L*G)-L&3){case 0:w+=F;break;case 1:D+=4;break;case 2:w-=
F;break;default:D-=4}return[w,D]}}};const y="x y font fontSize fontStyle fontWeight angle".split(" "),q="text font rotate fontSize fontStyle fontWeight".split(" ");a.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},
{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":y}]};A.inherits(a,p.Transform,{transform(E,F){function w(ca){ca=E[ca];return A.isFunction(ca)&&F.modified(ca.fields)}!E.size||E.size[0]&&E.size[1]||A.error("Wordcloud size dimensions must be non-zero.");
const D=E.modified();if(D||F.changed(F.ADD_REM)||q.some(w)){var G=F.materialize(F.SOURCE).source,L=this.value,O=E.as||y,V=E.fontSize||14,S;A.isFunction(V)?S=E.fontSizeRange:V=A.constant(V);if(S){const ca=V,ea=u.scale("sqrt")().domain(A.extent(G,ca)).range(S);V=T=>ea(ca(T))}G.forEach(ca=>{ca[O[0]]=NaN;ca[O[1]]=NaN;ca[O[3]]=0});G=L.words(G).text(E.text).size(E.size||[500,500]).padding(E.padding||1).spiral(E.spiral||"archimedean").rotate(E.rotate||0).font(E.font||"sans-serif").fontStyle(E.fontStyle||
"normal").fontWeight(E.fontWeight||"normal").fontSize(V).random(m.random).layout();V=L.size();L=V[0]>>1;V=V[1]>>1;S=G.length;for(let ca=0,ea,T;ca<S;++ca)ea=G[ca],T=ea.datum,T[O[0]]=ea.x+L,T[O[1]]=ea.y+V,T[O[2]]=ea.font,T[O[3]]=ea.size,T[O[4]]=ea.style,T[O[5]]=ea.weight,T[O[6]]=ea.rotate;return F.reflow(D).modifies(O)}}});v.wordcloud=a;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[39]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(23),z(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k((v.vega=v.vega||{},v.vega.transforms={}),v.vega,v.vega))})(this,function(v,k,p){function A(){let w=8,D=[],G=new Uint32Array(0),L=u(0,w),O=u(0,w);return{data:()=>D,seen:()=>{var V=G;var S=D.length;V.length>=S||(S=new V.constructor(S),S.set(V),
V=S);return G=V},add(V){for(let S=0,ca=D.length,ea=V.length,T;S<ea;++S)T=V[S],T._index=ca++,D.push(T)},remove(V,S){const ca=D.length;V=Array(ca-V);const ea=D;let T,R,J;for(R=0;!S[R]&&R<ca;++R)V[R]=D[R],ea[R]=R;for(J=R;R<ca;++R)T=D[R],S[R]?ea[R]=-1:(ea[R]=J,L[J]=L[R],O[J]=O[R],V[J]=T,T._index=J++),L[R]=0;D=V;return ea},size:()=>D.length,curr:()=>L,prev:()=>O,reset:V=>O[V]=L[V],all:()=>257>w?255:65537>w?65535:4294967295,set(V,S){L[V]|=S},clear(V,S){L[V]&=~S},resize(V,S){if(V>L.length||S>w)w=Math.max(S,
w),L=u(V,w,L),O=u(V,w)}}}function u(w,D,G){w=(257>D?e:65537>D?t:y)(w);G&&w.set(G);return w}function m(w,D,G){const L=1<<D;return{one:L,zero:~L,range:G.slice(),bisect:w.bisect,index:w.index,size:w.size,onAdd(O,V){var S=this.bisect(this.range,O.value);O=O.index;const ca=S[0];S=S[1];const ea=O.length;let T;for(T=0;T<ca;++T)V[O[T]]|=L;for(T=S;T<ea;++T)V[O[T]]|=L;return this}}}function l(w,D){return null==w||null==D?NaN:w<D?-1:w>D?1:w>=D?0:NaN}function f(w){function D(V,S,ca=0,ea=V.length){if(ca<ea){if(0!==
L(S,S))return ea;do{const T=ca+ea>>>1;0>O(V[T],S)?ca=T+1:ea=T}while(ca<ea)}return ca}let G=w,L=w,O=w;2!==w.length&&(G=(V,S)=>w(V)-S,L=l,O=(V,S)=>l(w(V),S));return{left:D,center:function(V,S,ca=0,ea=V.length){ea=D(V,S,ca,ea-1);return ea>ca&&G(V[ea-1],S)>-G(V[ea],S)?ea-1:ea},right:function(V,S,ca=0,ea=V.length){if(ca<ea){if(0!==L(S,S))return ea;do{const T=ca+ea>>>1;0>=O(V[T],S)?ca=T+1:ea=T}while(ca<ea)}return ca}}}function g(w,D){return Array.from(D,G=>w[G])}function d(){let w=new Uint32Array(0),D=
[],G=0;return{insert:function(L,O,V){if(!O.length)return[];const S=G,ca=O.length,ea=new Uint32Array(ca);let T=Array(ca);var R;for(R=0;R<ca;++R)T[R]=L(O[R]),ea[R]=R;T=b(T,ea);if(S){L=D;O=w;D=Array(S+ca);w=new Uint32Array(S+ca);R=T;var J=D,r=w;let C=0,N=0,U;for(U=0;C<S&&N<ca;++U)L[C]<R[N]?(J[U]=L[C],r[U]=O[C++]):(J[U]=R[N],r[U]=ea[N++]+V);for(;C<S;++C,++U)J[U]=L[C],r[U]=O[C];for(;N<ca;++N,++U)J[U]=R[N],r[U]=ea[N]+V}else{if(0<V)for(R=0;R<ca;++R)ea[R]+=V;D=T;w=ea}G=S+ca;return{index:ea,value:T}},remove:function(L,
O){const V=G;let S,ca,ea;for(ca=0;!O[w[ca]]&&ca<V;++ca);for(ea=ca;ca<V;++ca)O[S=w[ca]]||(w[ea]=S,D[ea]=D[ca],++ea);G=V-L},bisect:function(L,O){let V;O?V=O.length:(O=D,V=G);return[F(O,L[0],0,V),E(O,L[1],0,V)]},reindex:function(L){for(let O=0,V=G;O<V;++O)w[O]=L[w[O]]},index:()=>w,size:()=>G}}function b(w,D){w.sort.call(D,(G,L)=>{G=w[G];L=w[L];return G<L?-1:G>L?1:0});return g(w,D)}function c(w){k.Transform.call(this,A(),w);this._dims=this._indices=null}function a(w){k.Transform.call(this,null,w)}const e=
w=>new Uint8Array(w),t=w=>new Uint16Array(w),y=w=>new Uint32Array(w),q=f(l),E=q.right,F=q.left;f(function(w){return null===w?NaN:+w}).center;c.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};p.inherits(c,k.Transform,{transform(w,D){return this._dims?w.modified("fields")||w.fields.some(G=>D.modified(G.fields))?this.reinit(w,D):this.eval(w,D):this.init(w,
D)},init(w,D){const G=w.fields,L=w.query,O=this._indices={},V=this._dims=[],S=L.length;let ca=0;for(var ea;ca<S;++ca)ea=G[ca].fname,ea=O[ea]||(O[ea]=d()),V.push(m(ea,ca,L[ca]));return this.eval(w,D)},reinit(w,D){const G=D.materialize().fork(),L=w.fields,O=w.query,V=this._indices,S=this._dims,ca=this.value,ea=ca.curr(),T=ca.prev(),R=ca.all(),J=G.rem=G.add,r=G.mod,C=O.length,N={};let U;var ja;let ba,ia,za,Wa;T.set(ea);D.rem.length&&(ba=this.remove(w,D,G));D.add.length&&ca.add(D.add);if(D.mod.length){ia=
{};var hb=D.mod;za=0;for(ja=hb.length;za<ja;++za)ia[hb[za]._index]=1}for(za=0;za<C;++za)if(Wa=L[za],!S[za]||w.modified("fields",za)||D.modified(Wa.fields))ja=Wa.fname,(hb=N[ja])||(V[ja]=U=d(),N[ja]=hb=U.insert(Wa,D.source,0)),S[za]=m(U,za,O[za]).onAdd(hb,ea);za=0;for(ja=ca.data().length;za<ja;++za)ba[za]||(T[za]!==ea[za]?J.push(za):ia[za]&&ea[za]!==R&&r.push(za));ca.mask=(1<<C)-1;return G},eval(w,D){const G=D.materialize().fork(),L=this._dims.length;let O=0;D.rem.length&&(this.remove(w,D,G),O|=(1<<
L)-1);w.modified("query")&&!w.modified("fields")&&(O|=this.update(w,D,G));D.add.length&&(this.insert(w,D,G),O|=(1<<L)-1);D.mod.length&&(this.modify(D,G),O|=(1<<L)-1);this.value.mask=O;return G},insert(w,D,G){D=D.add;var L=this.value;const O=this._dims,V=this._indices;w=w.fields;const S={};G=G.add;const ca=L.size()+D.length,ea=O.length;let T=L.size();L.resize(ca,ea);L.add(D);const R=L.curr(),J=L.prev(),r=L.all();for(L=0;L<ea;++L){var C=w[L].fname;C=S[C]||(S[C]=V[C].insert(w[L],D,T));O[L].onAdd(C,R)}for(;T<
ca;++T)J[T]=r,R[T]!==r&&G.push(T)},modify(w,D){D=D.mod;var G=this.value;const L=G.curr();G=G.all();w=w.mod;let O,V,S;O=0;for(V=w.length;O<V;++O)S=w[O]._index,L[S]!==G&&D.push(S)},remove(w,D,G){w=this._indices;var L=this.value;const O=L.curr(),V=L.prev();L=L.all();const S={};G=G.rem;const ca=D.rem;let ea,T,R,J;ea=0;for(T=ca.length;ea<T;++ea)R=ca[ea]._index,S[R]=1,V[R]=J=O[R],O[R]=L,J!==L&&G.push(R);for(R in w)w[R].remove(T,S);this.reindex(D,T,S);return S},reindex(w,D,G){const L=this._indices,O=this.value;
w.runAfter(()=>{const V=O.remove(D,G);for(const S in L)L[S].reindex(V)})},update(w,D,G){const L=this._dims,O=w.query;D=D.stamp;const V=L.length;let S=0,ca,ea;for(ea=G.filters=0;ea<V;++ea)w.modified("query",ea)&&(ca=ea,++S);if(1===S)S=L[ca].one,this.incrementOne(L[ca],O[ca],G.add,G.rem);else for(S=ea=0;ea<V;++ea)w.modified("query",ea)&&(S|=L[ea].one,this.incrementAll(L[ea],O[ea],D,G.add),G.rem=G.add);return S},incrementAll(w,D,G,L){var O=this.value;const V=O.seen(),S=O.curr();O=O.prev();const ca=w.index();
var ea=w.bisect(w.range),T=w.bisect(D);const R=T[0];T=T[1];const J=ea[0];ea=ea[1];const r=w.one;let C,N,U;if(R<J)for(C=R,N=Math.min(J,T);C<N;++C)U=ca[C],V[U]!==G&&(O[U]=S[U],V[U]=G,L.push(U)),S[U]^=r;else if(R>J)for(C=J,N=Math.min(R,ea);C<N;++C)U=ca[C],V[U]!==G&&(O[U]=S[U],V[U]=G,L.push(U)),S[U]^=r;if(T>ea)for(C=Math.max(R,ea),N=T;C<N;++C)U=ca[C],V[U]!==G&&(O[U]=S[U],V[U]=G,L.push(U)),S[U]^=r;else if(T<ea)for(C=Math.max(J,T),N=ea;C<N;++C)U=ca[C],V[U]!==G&&(O[U]=S[U],V[U]=G,L.push(U)),S[U]^=r;w.range=
D.slice()},incrementOne(w,D,G,L){const O=this.value.curr(),V=w.index();var S=w.bisect(w.range),ca=w.bisect(D);const ea=ca[0];ca=ca[1];const T=S[0];S=S[1];const R=w.one;let J,r,C;if(ea<T)for(J=ea,r=Math.min(T,ca);J<r;++J)C=V[J],O[C]^=R,G.push(C);else if(ea>T)for(J=T,r=Math.min(ea,S);J<r;++J)C=V[J],O[C]^=R,L.push(C);if(ca>S)for(J=Math.max(ea,S),r=ca;J<r;++J)C=V[J],O[C]^=R,G.push(C);else if(ca<S)for(J=Math.max(T,ca),r=S;J<r;++J)C=V[J],O[C]^=R,L.push(C);w.range=D.slice()}});a.Definition={type:"ResolveFilter",
metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};p.inherits(a,k.Transform,{transform(w,D){const G=~(w.ignore||0);w=w.filter;const L=w.mask;if(0===(L&G))return D.StopPropagation;D=D.fork(D.ALL);const O=w.data(),V=w.curr(),S=w.prev(),ca=ea=>V[ea]&G?null:O[ea];D.filter(D.MOD,ca);L&L-1?(D.filter(D.ADD,ea=>{const T=V[ea]&
G;return!T&&T^S[ea]&G?O[ea]:null}),D.filter(D.REM,ea=>{const T=V[ea]&G;return!T||T^T^S[ea]&G?null:O[ea]})):(D.filter(D.ADD,ca),D.filter(D.REM,ea=>(V[ea]&G)===L?O[ea]:null));return D.filter(D.SOURCE,ea=>ca(ea._index))}});v.crossfilter=c;v.resolvefilter=a;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[40]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega))})(this,function(v,k){function p(xa){this.type=xa}function A(xa){switch(xa.type){case "ArrayExpression":return xa.elements;case "BinaryExpression":case "LogicalExpression":return[xa.left,xa.right];case "CallExpression":return[xa.callee].concat(xa.arguments);
case "ConditionalExpression":return[xa.test,xa.consequent,xa.alternate];case "MemberExpression":return[xa.object,xa.property];case "ObjectExpression":return xa.properties;case "Property":return[xa.key,xa.value];case "UnaryExpression":return[xa.argument];default:return[]}}function u(xa,ma){if(!xa)throw Error("ASSERT: "+ma);}function m(xa){return 48<=xa&&57>=xa}function l(xa){return 0<="0123456789abcdefABCDEF".indexOf(xa)}function f(xa){return 0<="01234567".indexOf(xa)}function g(xa){return 10===xa||
13===xa||8232===xa||8233===xa}function d(xa){return 36===xa||95===xa||65<=xa&&90>=xa||97<=xa&&122>=xa||92===xa||128<=xa&&Ja.test(String.fromCharCode(xa))}function b(xa){return 36===xa||95===xa||65<=xa&&90>=xa||97<=xa&&122>=xa||48<=xa&&57>=xa||92===xa||128<=xa&&qa.test(String.fromCharCode(xa))}function c(){for(;za<Wa;){const xa=ia.charCodeAt(za);if(32===xa||9===xa||11===xa||12===xa||160===xa||5760<=xa&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(xa)||
g(xa))++za;else break}}function a(xa){var ma=0;var Ea="u"===xa?4:2;for(xa=0;xa<Ea;++xa)if(za<Wa&&l(ia[za])){var Ua=ia[za++];ma=16*ma+"0123456789abcdef".indexOf(Ua.toLowerCase())}else S({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(ma)}function e(){var xa=ia.charCodeAt(za++);var ma=String.fromCharCode(xa);92===xa&&(117!==ia.charCodeAt(za)&&S({},"Unexpected token %0","ILLEGAL"),++za,(xa=a("u"))&&"\\"!==xa&&d(xa.charCodeAt(0))||S({},"Unexpected token %0","ILLEGAL"),ma=xa);for(;za<Wa;){xa=
ia.charCodeAt(za);if(!b(xa))break;++za;ma+=String.fromCharCode(xa);92===xa&&(ma=ma.substr(0,ma.length-1),117!==ia.charCodeAt(za)&&S({},"Unexpected token %0","ILLEGAL"),++za,(xa=a("u"))&&"\\"!==xa&&b(xa.charCodeAt(0))||S({},"Unexpected token %0","ILLEGAL"),ma+=xa)}return ma}function t(){var xa=za,ma=ia.charCodeAt(za),Ea=ia[za];switch(ma){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++za,{type:7,value:String.fromCharCode(ma),start:xa,end:za};
default:var Ua=ia.charCodeAt(za+1);if(61===Ua)switch(ma){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return za+=2,{type:7,value:String.fromCharCode(ma)+String.fromCharCode(Ua),start:xa,end:za};case 33:case 61:return za+=2,61===ia.charCodeAt(za)&&++za,{type:7,value:ia.slice(xa,za),start:xa,end:za}}}ma=ia.substr(za,4);if("\x3e\x3e\x3e\x3d"===ma)return za+=4,{type:7,value:ma,start:xa,end:za};ma=ma.substr(0,3);if("\x3e\x3e\x3e"===ma||"\x3c\x3c\x3d"===ma||"\x3e\x3e\x3d"===
ma)return za+=3,{type:7,value:ma,start:xa,end:za};ma=ma.substr(0,2);if(Ea===ma[1]&&0<="+-\x3c\x3e\x26|".indexOf(Ea)||"\x3d\x3e"===ma)return za+=2,{type:7,value:ma,start:xa,end:za};"//"===ma&&S({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(Ea))return++za,{type:7,value:Ea,start:xa,end:za};S({},"Unexpected token %0","ILLEGAL")}function y(){var xa=ia[za];u(m(xa.charCodeAt(0))||"."===xa,"Numeric literal must start with a decimal digit or a decimal point");var ma=za;var Ea=
"";if("."!==xa){Ea=ia[za++];xa=ia[za];if("0"===Ea){if("x"===xa||"X"===xa){++za;for(Ea="";za<Wa&&l(ia[za]);)Ea+=ia[za++];0===Ea.length&&S({},"Unexpected token %0","ILLEGAL");d(ia.charCodeAt(za))&&S({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+Ea,16),start:ma,end:za}}if(f(xa)){for(Ea="0"+ia[za++];za<Wa&&f(ia[za]);)Ea+=ia[za++];(d(ia.charCodeAt(za))||m(ia.charCodeAt(za)))&&S({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(Ea,8),octal:!0,start:ma,end:za}}xa&&
m(xa.charCodeAt(0))&&S({},"Unexpected token %0","ILLEGAL")}for(;m(ia.charCodeAt(za));)Ea+=ia[za++];xa=ia[za]}if("."===xa){for(Ea+=ia[za++];m(ia.charCodeAt(za));)Ea+=ia[za++];xa=ia[za]}if("e"===xa||"E"===xa){Ea+=ia[za++];xa=ia[za];if("+"===xa||"-"===xa)Ea+=ia[za++];if(m(ia.charCodeAt(za)))for(;m(ia.charCodeAt(za));)Ea+=ia[za++];else S({},"Unexpected token %0","ILLEGAL")}d(ia.charCodeAt(za))&&S({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(Ea),start:ma,end:za}}function q(xa,ma){let Ea=
xa;0<=ma.indexOf("u")&&(Ea=Ea.replace(/\\u\{([0-9a-fA-F]+)\}/g,(Ua,ab)=>{if(1114111>=parseInt(ab,16))return"x";S({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(Ea)}catch(Ua){S({},"Invalid regular expression")}try{return new RegExp(xa,ma)}catch(Ua){return null}}function E(){c();if(za>=Wa)return{type:2,start:za,end:za};var xa=ia.charCodeAt(za);if(d(xa)){xa=za;if(92===ia.charCodeAt(za))var ma=e();else a:{for(ma=za++;za<Wa;){var Ea=ia.charCodeAt(za);
if(92===Ea){za=ma;ma=e();break a}if(b(Ea))++za;else break}ma=ia.slice(ma,za)}return{type:1===ma.length?3:Da.hasOwnProperty(ma)?4:"null"===ma?5:"true"===ma||"false"===ma?1:3,value:ma,start:xa,end:za}}if(40===xa||41===xa||59===xa)return t();if(39===xa||34===xa){var Ua="";Ea=!1;xa=ia[za];u("'"===xa||'"'===xa,"String literal must starts with a quote");ma=za;for(++za;za<Wa;){var ab=ia[za++];if(ab===xa){xa="";break}else if("\\"===ab)if((ab=ia[za++])&&g(ab.charCodeAt(0)))"\r"===ab&&"\n"===ia[za]&&++za;else switch(ab){case "u":case "x":if("{"===
ia[za]){++za;var ta=ia[za];ab=0;for("}"===ta&&S({},"Unexpected token %0","ILLEGAL");za<Wa;){ta=ia[za++];if(!l(ta))break;ab=16*ab+"0123456789abcdef".indexOf(ta.toLowerCase())}(1114111<ab||"}"!==ta)&&S({},"Unexpected token %0","ILLEGAL");ab=65535>=ab?String.fromCharCode(ab):String.fromCharCode((ab-65536>>10)+55296,(ab-65536&1023)+56320);Ua+=ab}else Ua+=a(ab);break;case "n":Ua+="\n";break;case "r":Ua+="\r";break;case "t":Ua+="\t";break;case "b":Ua+="\b";break;case "f":Ua+="\f";break;case "v":Ua+="\v";
break;default:f(ab)?(ta="01234567".indexOf(ab),0!==ta&&(Ea=!0),za<Wa&&f(ia[za])&&(Ea=!0,ta=8*ta+"01234567".indexOf(ia[za++]),0<="0123".indexOf(ab)&&za<Wa&&f(ia[za])&&(ta=8*ta+"01234567".indexOf(ia[za++]))),Ua+=String.fromCharCode(ta)):Ua+=ab}else if(g(ab.charCodeAt(0)))break;else Ua+=ab}""!==xa&&S({},"Unexpected token %0","ILLEGAL");return{type:8,value:Ua,octal:Ea,start:ma,end:za}}return 46===xa?m(ia.charCodeAt(za+1))?y():t():m(xa)?y():t()}function F(){const xa=hb;za=xa.end;hb=E();za=xa.end;return xa}
function w(){const xa=za;hb=E();za=xa}function D(xa,ma,Ea){const Ua=new p("||"===xa||"\x26\x26"===xa?"LogicalExpression":"BinaryExpression");Ua.operator=xa;Ua.left=ma;Ua.right=Ea;return Ua}function G(xa){const ma=new p("Identifier");ma.name=xa;return ma}function L(xa){const ma=new p("Literal");ma.value=xa.value;ma.raw=ia.slice(xa.start,xa.end);xa.regex&&("//"===ma.raw&&(ma.raw="/(?:)/"),ma.regex=xa.regex);return ma}function O(xa,ma,Ea){const Ua=new p("MemberExpression");Ua.computed="["===xa;Ua.object=
ma;Ua.property=Ea;Ua.computed||(Ea.member=!0);return Ua}function V(xa,ma,Ea){const Ua=new p("Property");Ua.key=ma;Ua.value=Ea;Ua.kind=xa;return Ua}function S(xa,ma){var Ea=Array.prototype.slice.call(arguments,2),Ua=ma.replace(/%(\d)/g,(ta,Na)=>{u(Na<Ea.length,"Message reference must be in range");return Ea[Na]});var ab=Error(Ua);ab.index=za;ab.description=Ua;throw ab;}function ca(xa){2===xa.type&&S(xa,"Unexpected end of input");6===xa.type&&S(xa,"Unexpected number");8===xa.type&&S(xa,"Unexpected string");
3===xa.type&&S(xa,"Unexpected identifier");4===xa.type&&S(xa,"Unexpected reserved word");S(xa,"Unexpected token %0",xa.value)}function ea(xa){const ma=F();7===ma.type&&ma.value===xa||ca(ma)}function T(xa){return 7===hb.type&&hb.value===xa}function R(){za=hb.start;const xa=F();return 8===xa.type||6===xa.type?(xa.octal&&S(xa,"Octal literals are not allowed in strict mode."),L(xa)):G(xa.value)}function J(){if(T("(")){ea("(");var xa=ja();ea(")");return xa}if(T("[")){xa=[];za=hb.start;for(ea("[");!T("]");)T(",")?
(F(),xa.push(null)):(xa.push(U()),T("]")||ea(","));F();var ma=new p("ArrayExpression");ma.elements=xa;return ma}if(T("{")){xa=[];ma={};var Ea=String;za=hb.start;for(ea("{");!T("}");){za=hb.start;var Ua=hb;if(3===Ua.type){var ab=R();ea(":");Ua=U();Ua=V("init",ab,Ua)}else 2===Ua.type||7===Ua.type?(ca(Ua),Ua=void 0):(ab=R(),ea(":"),Ua=U(),Ua=V("init",ab,Ua));ab="Identifier"===Ua.key.type?Ua.key.name:Ea(Ua.key.value);ab="$"+ab;Object.prototype.hasOwnProperty.call(ma,ab)?S({},"Duplicate data property in object literal not allowed in strict mode"):
ma[ab]=!0;xa.push(Ua);T("}")||ea(",")}ea("}");ma=new p("ObjectExpression");ma.properties=xa;return ma}xa=hb.type;za=hb.start;if(3===xa||va[hb.value])ma=G(F().value);else if(8===xa||6===xa)hb.octal&&S(hb,"Octal literals are not allowed in strict mode."),ma=L(F());else{if(4===xa)throw Error("Disabled.");if(1===xa)xa=F(),xa.value="true"===xa.value,ma=L(xa);else if(5===xa)xa=F(),xa.value=null,ma=L(xa);else if(T("/")||T("/\x3d")){var ta;hb=null;c();xa=za;ma=ia[za];u("/"===ma,"Regular expression literal must start with a slash");
Ea=ia[za++];for(ab=Ua=!1;za<Wa;)if(ma=ia[za++],Ea+=ma,"\\"===ma)ma=ia[za++],g(ma.charCodeAt(0))&&S({},"Invalid regular expression: missing /"),Ea+=ma;else if(g(ma.charCodeAt(0)))S({},"Invalid regular expression: missing /");else if(Ua)"]"===ma&&(Ua=!1);else if("/"===ma){ab=!0;break}else"["===ma&&(Ua=!0);ab||S({},"Invalid regular expression: missing /");ma=Ea.substr(1,Ea.length-2);for(ta=ab="";za<Wa;){Ua=ia[za];if(!b(Ua.charCodeAt(0)))break;++za;"\\"===Ua&&za<Wa?S({},"Unexpected token %0","ILLEGAL"):
(ta+=Ua,ab+=Ua)}0<=ta.search(/[^gimuy]/g)&&S({},"Invalid regular expression",ta);Ua=ta;ta=q(ma,Ua);ma=L({literal:Ea+ab,value:ta,regex:{pattern:ma,flags:Ua},start:xa,end:za});w()}else ca(F())}return ma}function r(){var xa;for(xa=J();;)if(T(".")){ea(".");za=hb.start;var ma=F();3===ma.type||4===ma.type||1===ma.type||5===ma.type||ca(ma);ma=G(ma.value);xa=O(".",xa,ma)}else if(T("(")){ma=[];ea("(");if(!T(")"))for(;za<Wa;){ma.push(U());if(T(")"))break;ea(",")}ea(")");const Ea=new p("CallExpression");Ea.callee=
xa;Ea.arguments=ma;xa=Ea}else if(T("["))ea("["),ma=ja(),ea("]"),xa=O("[",xa,ma);else break;if(7===hb.type&&(T("++")||T("--")))throw Error("Disabled.");return xa}function C(){if(7!==hb.type&&4!==hb.type)var xa=r();else{if(T("++")||T("--"))throw Error("Disabled.");if(T("+")||T("-")||T("~")||T("!")){var ma=F();xa=C();ma=ma.value;const Ea=new p("UnaryExpression");Ea.operator=ma;Ea.argument=xa;Ea.prefix=!0;xa=Ea}else{if(4===hb.type&&"delete"===hb.value||4===hb.type&&"void"===hb.value||4===hb.type&&"typeof"===
hb.value)throw Error("Disabled.");xa=r()}}return xa}function N(xa){let ma=0;if(7!==xa.type&&4!==xa.type)return 0;switch(xa.value){case "||":ma=1;break;case "\x26\x26":ma=2;break;case "|":ma=3;break;case "^":ma=4;break;case "\x26":ma=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":ma=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":ma=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":ma=8;break;case "+":case "-":ma=9;break;
case "*":case "/":case "%":ma=11}return ma}function U(){var xa=hb;var ma=C();var Ea=hb;var Ua=N(Ea);if(0===Ua)var ab=ma;else{Ea.prec=Ua;F();xa=[xa,hb];var ta=C();for(ab=[ma,Ea,ta];0<(Ua=N(hb));){for(;2<ab.length&&Ua<=ab[ab.length-2].prec;)ta=ab.pop(),Ea=ab.pop().value,ma=ab.pop(),xa.pop(),ma=D(Ea,ma,ta),ab.push(ma);Ea=F();Ea.prec=Ua;ab.push(Ea);xa.push(hb);ma=C();ab.push(ma)}Ua=ab.length-1;ma=ab[Ua];for(xa.pop();1<Ua;)xa.pop(),ma=D(ab[Ua-1].value,ab[Ua-2],ma),Ua-=2;ab=ma}T("?")&&(F(),xa=U(),ea(":"),
Ua=U(),ma=new p("ConditionalExpression"),ma.test=ab,ma.consequent=xa,ma.alternate=Ua,ab=ma);return ab}function ja(){const xa=U();if(T(","))throw Error("Disabled.");return xa}function ba(xa){function ma(Ea,Ua,ab){return ta=>{let Na=xa(ta[0]);Ua&&(Na=Ua+"("+Na+")",0===Ua.lastIndexOf("new ",0)&&(Na="("+Na+")"));return Na+"."+Ea+(0>ab?"":0===ab?"()":"("+ta.slice(1).map(xa).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",
atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(Ea){3>Ea.length&&k.error("Missing arguments to clamp function.");3<Ea.length&&k.error("Too many arguments to clamp function.");Ea=Ea.map(xa);return"Math.max("+Ea[1]+", Math.min("+Ea[2]+","+Ea[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:ma("getDate",
"new Date",0),day:ma("getDay","new Date",0),year:ma("getFullYear","new Date",0),month:ma("getMonth","new Date",0),hours:ma("getHours","new Date",0),minutes:ma("getMinutes","new Date",0),seconds:ma("getSeconds","new Date",0),milliseconds:ma("getMilliseconds","new Date",0),time:ma("getTime","new Date",0),timezoneoffset:ma("getTimezoneOffset","new Date",0),utcdate:ma("getUTCDate","new Date",0),utcday:ma("getUTCDay","new Date",0),utcyear:ma("getUTCFullYear","new Date",0),utcmonth:ma("getUTCMonth","new Date",
0),utchours:ma("getUTCHours","new Date",0),utcminutes:ma("getUTCMinutes","new Date",0),utcseconds:ma("getUTCSeconds","new Date",0),utcmilliseconds:ma("getUTCMilliseconds","new Date",0),length:ma("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:ma("toUpperCase","String",0),lower:ma("toLowerCase","String",0),substring:ma("substring","String"),split:ma("split","String"),trim:ma("trim","String",0),regexp:"RegExp",test:ma("test","RegExp"),if:function(Ea){3>Ea.length&&k.error("Missing arguments to if function.");
3<Ea.length&&k.error("Too many arguments to if function.");Ea=Ea.map(xa);return"("+Ea[0]+"?"+Ea[1]+":"+Ea[2]+")"}}}p.prototype.visit=function(xa){let ma,Ea,Ua;if(xa(this))return 1;ma=A(this);Ea=0;for(Ua=ma.length;Ea<Ua;++Ea)if(ma[Ea].visit(xa))return 1};var ia,za,Wa,hb,Ja=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
qa=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const Da={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},va={"if":1};var sa={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};v.ASTNode=p;v.ArrayExpression="ArrayExpression";v.BinaryExpression="BinaryExpression";v.CallExpression="CallExpression";v.ConditionalExpression="ConditionalExpression";v.Identifier="Identifier";v.Literal="Literal";v.LogicalExpression="LogicalExpression";v.MemberExpression="MemberExpression";v.ObjectExpression="ObjectExpression";
v.Property="Property";v.RawCode="RawCode";v.UnaryExpression="UnaryExpression";v.codegenExpression=function(xa){function ma(ib){if(k.isString(ib))return ib;const Eb=mb[ib.type];null==Eb&&k.error("Unsupported type: "+ib.type);return Eb(ib)}function Ea(ib){ib={code:ma(ib),globals:Object.keys(Ia),fields:Object.keys(Xa)};Ia={};Xa={};return ib}xa=xa||{};const Ua=xa.allowed?k.toSet(xa.allowed):{},ab=xa.forbidden?k.toSet(xa.forbidden):{},ta=xa.constants||sa,Na=(xa.functions||ba)(ma),oa=xa.globalvar,aa=xa.fieldvar,
ka=k.isFunction(oa)?oa:ib=>`${oa}["${ib}"]`;let Ia={},Xa={},Ya=0;const mb={Literal:ib=>ib.raw,Identifier:ib=>{ib=ib.name;if(0<Ya)return ib;if(k.hasOwnProperty(ab,ib))return k.error("Illegal identifier: "+ib);if(k.hasOwnProperty(ta,ib))return ta[ib];if(k.hasOwnProperty(Ua,ib))return ib;Ia[ib]=1;return ka(ib)},MemberExpression:ib=>{const Eb=!ib.computed,Zb=ma(ib.object);Eb&&(Ya+=1);ib=ma(ib.property);if(Zb===aa){var Gc=Xa;var xc=(xc=ib&&ib.length-1)&&('"'===ib[0]&&'"'===ib[xc]||"'"===ib[0]&&"'"===ib[xc])?
ib.slice(1,-1):ib;Gc[xc]=1}Eb&&--Ya;return Zb+(Eb?"."+ib:"["+ib+"]")},CallExpression:ib=>{"Identifier"!==ib.callee.type&&k.error("Illegal callee type: "+ib.callee.type);const Eb=ib.callee.name;ib=ib.arguments;const Zb=k.hasOwnProperty(Na,Eb)&&Na[Eb];Zb||k.error("Unrecognized function: "+Eb);return k.isFunction(Zb)?Zb(ib):Zb+"("+ib.map(ma).join(",")+")"},ArrayExpression:ib=>"["+ib.elements.map(ma).join(",")+"]",BinaryExpression:ib=>"("+ma(ib.left)+" "+ib.operator+" "+ma(ib.right)+")",UnaryExpression:ib=>
"("+ib.operator+ma(ib.argument)+")",ConditionalExpression:ib=>"("+ma(ib.test)+"?"+ma(ib.consequent)+":"+ma(ib.alternate)+")",LogicalExpression:ib=>"("+ma(ib.left)+ib.operator+ma(ib.right)+")",ObjectExpression:ib=>"{"+ib.properties.map(ma).join(",")+"}",Property:ib=>{Ya+=1;const Eb=ma(ib.key);--Ya;return Eb+":"+ma(ib.value)}};Ea.functions=Na;Ea.constants=ta;return Ea};v.constants=sa;v.functions=ba;v.parseExpression=function(xa){ia=xa;za=0;Wa=ia.length;hb=null;w();xa=ja();if(2!==hb.type)throw Error("Unexpect token after expression.");
return xa};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[41]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14),z(40)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,p){function A(b){return(c,a)=>{c=b(c);return c<a?-1:c>a?1:c>=a?0:NaN}}function u(b,c){var a=c.fields;c=c.values;for(var e=a.length,t=0,y,q;t<e;++t)if(q=a[t],q.getter=k.field.getter||k.field(q.field),
y=q.getter(b),k.isDate(y)&&(y=k.toNumber(y)),k.isDate(c[t])&&(c[t]=k.toNumber(c[t])),k.isDate(c[t][0])&&(c[t]=c[t].map(k.toNumber)),"E"===q.type){if(k.isArray(c[t])?0>c[t].indexOf(y):y!==c[t])return!1}else if("R"===q.type){if(!k.inrange(y,c[t]))return!1}else if("R-RE"===q.type){if(!k.inrange(y,c[t],!0,!1))return!1}else if("R-E"===q.type){if(!k.inrange(y,c[t],!1,!1))return!1}else if("R-LE"===q.type&&!k.inrange(y,c[t],!1,!0))return!1;return!0}const m=k.field("_vgsid_"),l=function(b){function c(t,y,
q,E){null==q&&(q=0);null==E&&(E=t.length);for(;q<E;){const F=q+E>>>1;0>e(t[F],y)?q=F+1:E=F}return q}let a=b,e=b;1===b.length&&(a=(t,y)=>b(t)-y,e=A(b));return{left:c,center:function(t,y,q,E){null==q&&(q=0);null==E&&(E=t.length);E=c(t,y,q,E-1);return E>q&&a(t[E-1],y)>-a(t[E],y)?E-1:E},right:function(t,y,q,E){null==q&&(q=0);null==E&&(E=t.length);for(;q<E;){const F=q+E>>>1;0<e(t[F],y)?E=F:q=F+1}return q}}}(m),f=l.left,g=l.right;var d={E_union:function(b,c){if(!b.length)return c;for(var a=0,e=c.length;a<
e;++a)0>b.indexOf(c[a])&&b.push(c[a]);return b},E_intersect:function(b,c){return b.length?b.filter(a=>0<=c.indexOf(a)):c},R_union:function(b,c){var a=k.toNumber(c[0]),e=k.toNumber(c[1]);a>e&&(a=c[1],e=c[0]);if(!b.length)return[a,e];b[0]>a&&(b[0]=a);b[1]<e&&(b[1]=e);return b},R_intersect:function(b,c){var a=k.toNumber(c[0]),e=k.toNumber(c[1]);a>e&&(a=c[1],e=c[0]);if(!b.length)return[a,e];if(e<b[0]||b[1]<a)return[];b[0]<a&&(b[0]=a);b[1]>e&&(b[1]=e);return b}};v.selectionIdTest=function(b,c,a){var e=
this.context.data[b];b=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;c=m(c);const t=f(b,c);if(t===b.length||m(b[t])!==c)return!1;if(e&&a){if(1===e.size)return!0;if(g(b,c)-t<e.size)return!1}return!0};v.selectionResolve=function(b,c,a,e){b=(b=this.context.data[b])?b.values.value:[];for(var t={},y={},q={},E,F,w,D,G,L,O=b.length,V=0,S,ca;V<O;++V){E=b[V];w=E.unit;F=E.fields;E=E.values;S=0;for(ca=F.length;S<ca;++S)D=F[S],G=t[D.field]||(t[D.field]={}),L=G[w]||(G[w]=
[]),q[D.field]=D=D.type.charAt(0),D=d[D+"_union"],G[w]=D(L,k.array(E[S]));a&&(L=y[w]||(y[w]=[]),L.push(k.array(E).reduce((ea,T,R)=>(ea[F[R].field]=T,ea),{})))}c=c||"union";Object.keys(t).forEach(ea=>{t[ea]=Object.keys(t[ea]).map(T=>t[ea][T]).reduce((T,R)=>void 0===T?R:d[q[ea]+"_"+c](T,R))});b=Object.keys(y);a&&b.length&&(t[e?"vlPoint":"vlMulti"]="union"===c?{or:b.reduce((ea,T)=>(ea.push(...y[T]),ea),[])}:{and:b.map(ea=>({or:y[ea]}))});return t};v.selectionTest=function(b,c,a){var e=this.context.data[b];
b=e?e.values.value:[];e=e?e["index:unit"]&&e["index:unit"].value:void 0;a="intersect"===a;for(var t=b.length,y=0,q,E,F,w;y<t;++y)if(q=b[y],e&&a){if(E=E||{},F=E[w=q.unit]||0,-1!==F){q=u(c,q);E[w]=q?-1:++F;if(q&&1===e.size)return!0;if(!q&&F===e.get(w).count)return!1}}else if(q=u(c,q),a^q)return q;return t&&a};v.selectionTuples=function(b,c){return b.map(a=>k.extend({values:c.fields.map(e=>(e.getter||(e.getter=k.field(e.field)))(a.datum))},c))};v.selectionVisitor=function(b,c,a,e){c[0].type!==p.Literal&&
k.error("First argument to selection functions must be a string literal.");b=c[0].value;c=2<=c.length&&k.peek(c).value;const t=":"+b;"intersect"!==c||k.hasOwnProperty(e,"@unit")||(e["@unit"]=a.getData(b).indataRef(a,"unit"));k.hasOwnProperty(e,t)||(e[t]=a.getData(b).tuplesRef())};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[42]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14),z(40),z(23),z(27),z(28),z(41),z(24),z(16)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,p,A,u,m,l,f,g){function d(bb){return(bb=
this.context.data[bb])?bb.values.value:[]}function b(bb,Hb,nc){return(nc=(bb=this.context.data[bb]["index:"+Hb])?bb.value.get(nc):void 0)?nc.count:nc}function c(bb,Hb){const nc=this.context.dataflow;nc.pulse(this.context.data[bb].input,nc.changeset().remove(k.truthy).insert(Hb));return 1}function a(bb,Hb,nc){if(bb){const td=this.context.dataflow;td.pulse(bb.mark.source,td.changeset().encode(bb,Hb))}return void 0!==nc?nc:bb}function e(bb,Hb,nc){if(!Number.isInteger(bb)||!Number.isInteger(Hb))return"";
Wb.setYear(2E3);Wb.setMonth(bb);Wb.setDate(Hb);return yf.call(this,Wb,nc)}function t(bb){return e.call(this,bb,1,"%B")}function y(bb){return e.call(this,bb,1,"%b")}function q(bb){return e.call(this,0,2+bb,"%A")}function E(bb){return e.call(this,0,2+bb,"%a")}function F(bb,Hb,nc,td){Hb[0].type!==p.Literal&&k.error("First argument to data functions must be a string literal.");bb=Hb[0].value;Hb=":"+bb;if(!k.hasOwnProperty(Hb,td))try{td[Hb]=nc.getData(bb).tuplesRef()}catch(zd){}}function w(bb,Hb,nc,td){Hb[0].type!==
p.Literal&&k.error("First argument to indata must be a string literal.");Hb[1].type!==p.Literal&&k.error("Second argument to indata must be a string literal.");bb=Hb[0].value;Hb=Hb[1].value;const zd="@"+Hb;k.hasOwnProperty(zd,td)||(td[zd]=nc.getData(bb).indataRef(nc,Hb))}function D(bb,Hb,nc,td){if(Hb[0].type===p.Literal)G(nc,td,Hb[0].value);else for(bb in nc.scales)G(nc,td,bb)}function G(bb,Hb,nc){const td="%"+nc;if(!k.hasOwnProperty(Hb,td))try{Hb[td]=bb.scaleRef(nc)}catch(zd){}}function L(bb,Hb){let nc;
return k.isFunction(bb)?bb:k.isString(bb)?(nc=Hb.scales[bb])&&nc.value:void 0}function O(bb,Hb,nc){Hb.__bandwidth=zd=>zd&&zd.bandwidth?zd.bandwidth():0;nc._bandwidth=D;nc._range=D;nc._scale=D;const td=zd=>"_["+(zd.type===p.Literal?k.stringValue("%"+zd.value):k.stringValue("%")+"+"+bb(zd))+"]";return{_bandwidth:zd=>`this.__bandwidth(${td(zd[0])})`,_range:zd=>`${td(zd[0])}.range()`,_scale:zd=>`${td(zd[0])}(${bb(zd[1])})`}}function V(bb){return 1<bb?oe:-1>bb?-oe:Math.asin(bb)}function S(){}function ca(bb,
Hb){if(bb&&fb.hasOwnProperty(bb.type))fb[bb.type](bb,Hb)}function ea(bb,Hb,nc){var td=-1;nc=bb.length-nc;for(Hb.lineStart();++td<nc;){var zd=bb[td];Hb.point(zd[0],zd[1],zd[2])}Hb.lineEnd()}function T(bb,Hb){var nc=-1,td=bb.length;for(Hb.polygonStart();++nc<td;)ea(bb[nc],Hb,1);Hb.polygonEnd()}function R(bb,Hb){if(bb&&Qa.hasOwnProperty(bb.type))Qa[bb.type](bb,Hb);else ca(bb,Hb)}function J(){Ec.point=C}function r(){N(ac,yc)}function C(bb,Hb){Ec.point=N;ac=bb;yc=Hb;bb*=cf;Hb*=cf;Zc=bb;ad=vb(Hb=Hb/2+Vd);
Lc=ic(Hb)}function N(bb,Hb){bb*=cf;Hb*=cf;Hb=Hb/2+Vd;var nc=bb-Zc,td=0<=nc?1:-1,zd=td*nc;nc=vb(Hb);Hb=ic(Hb);var he=Lc*Hb,kf=ad*nc+he*vb(zd);td=he*td*ic(zd);xb.add(ua(td,kf));Zc=bb;ad=nc;Lc=Hb}function U(bb,Hb){return[bb[1]*Hb[2]-bb[2]*Hb[1],bb[2]*Hb[0]-bb[0]*Hb[2],bb[0]*Hb[1]-bb[1]*Hb[0]]}function ja(bb,Hb){Ma.push(lb=[tc=bb,mc=bb]);Hb<Nc&&(Nc=Hb);Hb>Qc&&(Qc=Hb)}function ba(bb,Hb){var nc=[bb*cf,Hb*cf];var td=nc[0];nc=nc[1];var zd=vb(nc);td=[zd*vb(td),zd*ic(td),ic(nc)];if(Rb){nc=U(Rb,td);zd=nc=U([nc[1],
-nc[0],0],nc);var he=la(zd[0]*zd[0]+zd[1]*zd[1]+zd[2]*zd[2]);zd[0]/=he;zd[1]/=he;zd[2]/=he;nc=[ua(nc[1],nc[0]),V(nc[2])];var kf=bb-jb;zd=0<kf?1:-1;he=nc[0]*se*zd;kf=180<qf(kf);kf^(zd*jb<he&&he<zd*bb)?(nc=nc[1]*se,nc>Qc&&(Qc=nc)):(he=(he+360)%360-180,kf^(zd*jb<he&&he<zd*bb))?(nc=-nc[1]*se,nc<Nc&&(Nc=nc)):(Hb<Nc&&(Nc=Hb),Hb>Qc&&(Qc=Hb));kf?bb<jb?qa(tc,bb)>qa(tc,mc)&&(mc=bb):qa(bb,mc)>qa(tc,mc)&&(tc=bb):mc>=tc?(bb<tc&&(tc=bb),bb>mc&&(mc=bb)):bb>jb?qa(tc,bb)>qa(tc,mc)&&(mc=bb):qa(bb,mc)>qa(tc,mc)&&(tc=
bb)}else Ma.push(lb=[tc=bb,mc=bb]);Hb<Nc&&(Nc=Hb);Hb>Qc&&(Qc=Hb);Rb=td;jb=bb}function ia(){Jb.point=ba}function za(){lb[0]=tc;lb[1]=mc;Jb.point=ja;Rb=null}function Wa(bb,Hb){if(Rb){var nc=bb-jb;na.add(180<qf(nc)?nc+(0<nc?360:-360):nc)}else Ib=bb,Qb=Hb;Ec.point(bb,Hb);ba(bb,Hb)}function hb(){Ec.lineStart()}function Ja(){Wa(Ib,Qb);Ec.lineEnd();1E-6<qf(na)&&(tc=-(mc=180));lb[0]=tc;lb[1]=mc;Rb=null}function qa(bb,Hb){return 0>(Hb-=bb)?Hb+360:Hb}function Da(bb,Hb){return bb[0]-Hb[0]}function va(bb,Hb){return bb[0]<=
bb[1]?bb[0]<=Hb&&Hb<=bb[1]:Hb<bb[0]||bb[1]<Hb}function sa(bb,Hb){bb*=cf;Hb*=cf;var nc=vb(Hb);xa(nc*vb(bb),nc*ic(bb),ic(Hb))}function xa(bb,Hb,nc){++Nb;pc+=(bb-pc)/Nb;Oc+=(Hb-Oc)/Nb;zc+=(nc-zc)/Nb}function ma(){vd.point=Ea}function Ea(bb,Hb){bb*=cf;Hb*=cf;var nc=vb(Hb);Id=nc*vb(bb);te=nc*ic(bb);ye=ic(Hb);vd.point=Ua;xa(Id,te,ye)}function Ua(bb,Hb){bb*=cf;Hb*=cf;var nc=vb(Hb),td=nc*vb(bb);bb=nc*ic(bb);Hb=ic(Hb);var zd=ua(la((zd=te*Hb-ye*bb)*zd+(zd=ye*td-Id*Hb)*zd+(zd=Id*bb-te*td)*zd),Id*td+te*bb+ye*
Hb);Lb+=zd;wc+=zd*(Id+(Id=td));od+=zd*(te+(te=bb));qd+=zd*(ye+(ye=Hb));xa(Id,te,ye)}function ab(){vd.point=sa}function ta(){vd.point=oa}function Na(){aa(ve,xd);vd.point=sa}function oa(bb,Hb){ve=bb;xd=Hb;bb*=cf;Hb*=cf;vd.point=aa;var nc=vb(Hb);Id=nc*vb(bb);te=nc*ic(bb);ye=ic(Hb);xa(Id,te,ye)}function aa(bb,Hb){bb*=cf;Hb*=cf;var nc=vb(Hb),td=nc*vb(bb);bb=nc*ic(bb);Hb=ic(Hb);nc=te*Hb-ye*bb;var zd=ye*td-Id*Hb,he=Id*bb-te*td,kf=Oa(nc,zd,he),sf=V(kf);kf=kf&&-sf/kf;Fe.add(kf*nc);Cd.add(kf*zd);je.add(kf*
he);Lb+=sf;wc+=sf*(Id+(Id=td));od+=sf*(te+(te=bb));qd+=sf*(ye+(ye=Hb));xa(Id,te,ye)}function ka(bb,Hb){return function(nc,td,zd){return nc?(nc=L(nc,(zd||this).context))&&nc.path[bb](td):Hb(td)}}function Ia(bb){const Hb=this.context.group;let nc=!1;if(Hb)for(;bb;){if(bb===Hb){nc=!0;break}bb=bb.mark.group}return nc}function Xa(bb,Hb,nc){try{bb[Hb].apply(bb,["EXPRESSION"].concat([].slice.call(nc)))}catch(td){bb.warn(td)}return nc[nc.length-1]}function Ya(){return Xa(this.context.dataflow,"warn",arguments)}
function mb(){return Xa(this.context.dataflow,"info",arguments)}function ib(){return Xa(this.context.dataflow,"debug",arguments)}function Eb(bb,Hb,nc){bb.prototype=Hb.prototype=nc;nc.constructor=bb}function Zb(bb,Hb){bb=Object.create(bb.prototype);for(var nc in Hb)bb[nc]=Hb[nc];return bb}function Gc(){}function xc(){return this.rgb().formatHex()}function Ic(){return this.rgb().formatRgb()}function rc(bb){var Hb,nc;bb=(bb+"").trim().toLowerCase();return(Hb=Of.exec(bb))?(nc=Hb[1].length,Hb=parseInt(Hb[1],
16),6===nc?jd(Hb):3===nc?new Yb(Hb>>8&15|Hb>>4&240,Hb>>4&15|Hb&240,(Hb&15)<<4|Hb&15,1):8===nc?Bb(Hb>>24&255,Hb>>16&255,Hb>>8&255,(Hb&255)/255):4===nc?Bb(Hb>>12&15|Hb>>8&240,Hb>>8&15|Hb>>4&240,Hb>>4&15|Hb&240,((Hb&15)<<4|Hb&15)/255):null):(Hb=Xg.exec(bb))?new Yb(Hb[1],Hb[2],Hb[3],1):(Hb=Xd.exec(bb))?new Yb(255*Hb[1]/100,255*Hb[2]/100,255*Hb[3]/100,1):(Hb=Ge.exec(bb))?Bb(Hb[1],Hb[2],Hb[3],Hb[4]):(Hb=og.exec(bb))?Bb(255*Hb[1]/100,255*Hb[2]/100,255*Hb[3]/100,Hb[4]):(Hb=wg.exec(bb))?Dc(Hb[1],Hb[2]/100,
Hb[3]/100,1):(Hb=Zg.exec(bb))?Dc(Hb[1],Hb[2]/100,Hb[3]/100,Hb[4]):Bg.hasOwnProperty(bb)?jd(Bg[bb]):"transparent"===bb?new Yb(NaN,NaN,NaN,0):null}function jd(bb){return new Yb(bb>>16&255,bb>>8&255,bb&255,1)}function Bb(bb,Hb,nc,td){0>=td&&(bb=Hb=nc=NaN);return new Yb(bb,Hb,nc,td)}function tb(bb){bb instanceof Gc||(bb=rc(bb));if(!bb)return new Yb;bb=bb.rgb();return new Yb(bb.r,bb.g,bb.b,bb.opacity)}function dc(bb,Hb,nc,td){return 1===arguments.length?tb(bb):new Yb(bb,Hb,nc,null==td?1:td)}function Yb(bb,
Hb,nc,td){this.r=+bb;this.g=+Hb;this.b=+nc;this.opacity=+td}function hc(){return"#"+qc(this.r)+qc(this.g)+qc(this.b)}function vc(){var bb=this.opacity;bb=isNaN(bb)?1:Math.max(0,Math.min(1,bb));return(1===bb?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===bb?")":", "+bb+")")}function qc(bb){bb=Math.max(0,Math.min(255,Math.round(bb)||0));return(16>bb?"0":"")+bb.toString(16)}
function Dc(bb,Hb,nc,td){0>=td?bb=Hb=nc=NaN:0>=nc||1<=nc?bb=Hb=NaN:0>=Hb&&(bb=NaN);return new Fa(bb,Hb,nc,td)}function Yc(bb){if(bb instanceof Fa)return new Fa(bb.h,bb.s,bb.l,bb.opacity);bb instanceof Gc||(bb=rc(bb));if(!bb)return new Fa;if(bb instanceof Fa)return bb;bb=bb.rgb();var Hb=bb.r/255,nc=bb.g/255,td=bb.b/255,zd=Math.min(Hb,nc,td),he=Math.max(Hb,nc,td),kf=NaN,sf=he-zd,Rg=(he+zd)/2;sf?(kf=Hb===he?(nc-td)/sf+6*(nc<td):nc===he?(td-Hb)/sf+2:(Hb-nc)/sf+4,sf/=.5>Rg?he+zd:2-he-zd,kf*=60):sf=0<Rg&&
1>Rg?0:kf;return new Fa(kf,sf,Rg,bb.opacity)}function Hd(bb,Hb,nc,td){return 1===arguments.length?Yc(bb):new Fa(bb,Hb,nc,null==td?1:td)}function Fa(bb,Hb,nc,td){this.h=+bb;this.s=+Hb;this.l=+nc;this.opacity=+td}function Ca(bb,Hb,nc){return 255*(60>bb?Hb+(nc-Hb)*bb/60:180>bb?nc:240>bb?Hb+(nc-Hb)*(240-bb)/60:Hb)}function Ha(bb){if(bb instanceof ob)return new ob(bb.l,bb.a,bb.b,bb.opacity);if(bb instanceof dd)return ld(bb);bb instanceof Yb||(bb=tb(bb));var Hb=$b(bb.r),nc=$b(bb.g),td=$b(bb.b),zd=Ab(.2225045*
Hb+.7168786*nc+.0606169*td);if(Hb===nc&&nc===td)var he=Hb=zd;else he=Ab((.4360747*Hb+.3850649*nc+.1430804*td)/.96422),Hb=Ab((.0139322*Hb+.0971045*nc+.7141733*td)/.82521);return new ob(116*zd-16,500*(he-zd),200*(zd-Hb),bb.opacity)}function db(bb,Hb,nc,td){return 1===arguments.length?Ha(bb):new ob(bb,Hb,nc,null==td?1:td)}function ob(bb,Hb,nc,td){this.l=+bb;this.a=+Hb;this.b=+nc;this.opacity=+td}function Ab(bb){return bb>eg?Math.pow(bb,1/3):bb/Pf+fg}function Ob(bb){return bb>zf?bb*bb*bb:Pf*(bb-fg)}function Ub(bb){return 255*
(.0031308>=bb?12.92*bb:1.055*Math.pow(bb,1/2.4)-.055)}function $b(bb){return.04045>=(bb/=255)?bb/12.92:Math.pow((bb+.055)/1.055,2.4)}function Jc(bb){if(bb instanceof dd)return new dd(bb.h,bb.c,bb.l,bb.opacity);bb instanceof ob||(bb=Ha(bb));if(0===bb.a&&0===bb.b)return new dd(NaN,0<bb.l&&100>bb.l?0:NaN,bb.l,bb.opacity);var Hb=Math.atan2(bb.b,bb.a)*sg;return new dd(0>Hb?Hb+360:Hb,Math.sqrt(bb.a*bb.a+bb.b*bb.b),bb.l,bb.opacity)}function Wc(bb,Hb,nc,td){return 1===arguments.length?Jc(bb):new dd(bb,Hb,
nc,null==td?1:td)}function dd(bb,Hb,nc,td){this.h=+bb;this.c=+Hb;this.l=+nc;this.opacity=+td}function ld(bb){if(isNaN(bb.h))return new ob(bb.l,0,0,bb.opacity);var Hb=bb.h*Qg;return new ob(bb.l,Math.cos(Hb)*bb.c,Math.sin(Hb)*bb.c,bb.opacity)}function rd(bb){bb/=255;return.03928>=bb?bb/12.92:Math.pow((bb+.055)/1.055,2.4)}function Kd(bb){var Hb=dc(bb);bb=rd(Hb.r);const nc=rd(Hb.g);Hb=rd(Hb.b);return.2126*bb+.7152*nc+.0722*Hb}function Nd(bb,Hb){bb=Kd(bb);Hb=Kd(Hb);return(Math.max(bb,Hb)+.05)/(Math.min(bb,
Hb)+.05)}function fe(){const bb=[].slice.call(arguments);bb.unshift({});return k.extend(...bb)}function be(bb,Hb){if(bb===Hb||bb!==bb&&Hb!==Hb)bb=!0;else if(k.isArray(bb))if(k.isArray(Hb)&&bb.length===Hb.length)a:{for(let nc=0,td=bb.length;nc<td;++nc)if(!be(bb[nc],Hb[nc])){bb=!1;break a}bb=!0}else bb=!1;else bb=k.isObject(bb)&&k.isObject(Hb)?ce(bb,Hb):!1;return bb}function ce(bb,Hb){for(const nc in bb)if(!be(bb[nc],Hb[nc]))return!1;return!0}function Td(bb){return Hb=>ce(bb,Hb)}function af(bb,Hb,nc,
td,zd,he){const kf=this.context.dataflow,sf=this.context.data[bb],Rg=sf.input;bb=kf.stamp();let Rf=sf.changes,eh;if(!1===kf._trigger||!(Rg.value.length||Hb||td))return 0;if(!Rf||Rf.stamp<bb)sf.changes=Rf=kf.changeset(),Rf.stamp=bb,kf.runAfter(()=>{sf.modified=!0;kf.pulse(Rg,Rf).run()},!0,1);nc&&(nc=!0===nc?k.truthy:k.isArray(nc)||A.isTuple(nc)?nc:Td(nc),Rf.remove(nc));Hb&&Rf.insert(Hb);td&&(nc=Td(td),Rg.value.some(nc)?Rf.remove(nc):Rf.insert(td));if(zd)for(eh in he)Rf.modify(zd,eh,he[eh]);return 1}
function Se(bb){var Hb=bb.touches;bb=Hb[0].clientX-Hb[1].clientX;Hb=Hb[0].clientY-Hb[1].clientY;return Math.sqrt(bb*bb+Hb*Hb)}function ue(bb){bb=bb.touches;return Math.atan2(bb[0].clientY-bb[1].clientY,bb[0].clientX-bb[1].clientX)}function me(bb,Hb){Hb=Mf[Hb]||(Mf[Hb]=k.field(Hb));return k.isArray(bb)?bb.map(Hb):Hb(bb)}function Ga(bb){return k.isArray(bb)||ArrayBuffer.isView(bb)?bb:null}function $a(bb){return Ga(bb)||(k.isString(bb)?bb:null)}function ub(bb,...Hb){return Ga(bb).join(...Hb)}function Mb(bb,
...Hb){return $a(bb).indexOf(...Hb)}function fc(bb,...Hb){return $a(bb).lastIndexOf(...Hb)}function oc(bb,...Hb){return $a(bb).slice(...Hb)}function Mc(bb,Hb,nc){k.isFunction(nc)&&k.error("Function argument passed to replace.");return String(bb).replace(Hb,nc)}function Kc(bb){return Ga(bb).slice().reverse()}function gc(bb,Hb,nc){return u.bandSpace(bb||0,Hb||0,nc||0)}function fd(bb,Hb){return(bb=L(bb,(Hb||this).context))&&bb.bandwidth?bb.bandwidth():0}function nd(bb,Hb){return(bb=L(bb,(Hb||this).context))?
bb.copy():void 0}function Fd(bb,Hb){return(bb=L(bb,(Hb||this).context))?bb.domain():[]}function Od(bb,Hb,nc){return(bb=L(bb,(nc||this).context))?k.isArray(Hb)?(bb.invertRange||bb.invert)(Hb):(bb.invert||bb.invertExtent)(Hb):void 0}function Ud(bb,Hb){return(bb=L(bb,(Hb||this).context))&&bb.range?bb.range():[]}function Yd(bb,Hb,nc){return(bb=L(bb,(nc||this).context))?bb(Hb):void 0}function Ee(bb,Hb,nc,td,zd){bb=L(bb,(zd||this).context);const he=m.Gradient(Hb,nc);Hb=bb.domain();nc=Hb[0];zd=k.peek(Hb);
let kf=k.identity;zd-nc?kf=u.scaleFraction(bb,nc,zd):bb=(bb.interpolator?u.scale("sequential")().interpolator(bb.interpolator()):u.scale("linear")().interpolate(bb.interpolate()).range(bb.range())).domain([nc=0,zd=1]);bb.ticks&&(Hb=bb.ticks(+td||15),nc!==Hb[0]&&Hb.unshift(nc),zd!==k.peek(Hb)&&Hb.push(zd));Hb.forEach(sf=>he.stop(kf(sf),bb(sf)));return he}function ze(bb,Hb,nc){const td=L(bb,(nc||this).context);return function(zd){return td?td.path.context(zd)(Hb):""}}function Bf(bb){let Hb=null;return function(nc){return nc?
m.pathRender(nc,Hb=Hb||m.pathParse(bb)):bb}}function xe(bb,Hb){bb=d.call(Hb,bb);return bb.root&&bb.root.lookup||{}}function Ne(bb,Hb,nc){bb=xe(bb,this);Hb=bb[Hb];nc=bb[nc];return Hb&&nc?Hb.path(nc).map(gg):void 0}function rf(bb,Hb){return(bb=xe(bb,this)[Hb])?bb.ancestors().map(gg):void 0}function Vb(){const bb="undefined"!==typeof window&&window||null;return bb?bb.screen:{}}function sc(){const bb="undefined"!==typeof window&&window||null;return bb?[bb.innerWidth,bb.innerHeight]:[void 0,void 0]}function cd(){var bb=
this.context.dataflow;return(bb=bb.container&&bb.container())?[bb.clientWidth,bb.clientHeight]:[void 0,void 0]}function wd(bb,Hb,nc){if(!bb)return[];const [td,zd]=bb;bb=(new m.Bounds).set(td[0],td[1],zd[0],zd[1]);nc=nc||this.context.dataflow.scenegraph().root;return m.intersect(nc,bb,Bd(Hb))}function Bd(bb){let Hb=null;if(bb){const nc=k.array(bb.marktype),td=k.array(bb.markname);Hb=zd=>(!nc.length||nc.some(he=>zd.marktype===he))&&(!td.length||td.some(he=>zd.name===he))}return Hb}function pe(bb,Hb,
nc){if(1===arguments.length)return kh[bb];kh[bb]=Hb;nc&&(Gg[bb]=nc);zh&&(zh.functions[bb]="this."+bb);return this}const hf=bb=>function(Hb,nc){return this.context.dataflow.locale()[bb](nc)(Hb)},Vf=hf("format"),yf=hf("timeFormat"),Ff=hf("utcFormat"),Oe=hf("timeParse"),Gb=hf("utcParse"),Wb=new Date(2E3,0,1);class Uc{constructor(){this._partials=new Float64Array(32);this._n=0}add(bb){const Hb=this._partials;let nc=0;for(let td=0;td<this._n&&32>td;td++){const zd=Hb[td],he=bb+zd;(bb=Math.abs(bb)<Math.abs(zd)?
bb-(he-zd):zd-(he-bb))&&(Hb[nc++]=bb);bb=he}Hb[nc]=bb;this._n=nc+1;return this}valueOf(){const bb=this._partials;let Hb=this._n;let nc,td=0;if(0<Hb){for(td=bb[--Hb];0<Hb;){var zd=td;nc=bb[--Hb];td=zd+nc;if(zd=nc-(td-zd))break}0<Hb&&(0>zd&&0>bb[Hb-1]||0<zd&&0<bb[Hb-1])&&(nc=2*zd,zd=td+nc,nc==zd-td&&(td=zd))}return td}}var ie=Math.PI,oe=ie/2,Vd=ie/4,Qd=2*ie,se=180/ie,cf=ie/180,qf=Math.abs,ua=Math.atan2,vb=Math.cos,Oa=Math.hypot,ic=Math.sin,la=Math.sqrt,Qa={Feature:function(bb,Hb){ca(bb.geometry,Hb)},
FeatureCollection:function(bb,Hb){bb=bb.features;for(var nc=-1,td=bb.length;++nc<td;)ca(bb[nc].geometry,Hb)}},fb={Sphere:function(bb,Hb){Hb.sphere()},Point:function(bb,Hb){bb=bb.coordinates;Hb.point(bb[0],bb[1],bb[2])},MultiPoint:function(bb,Hb){for(var nc=bb.coordinates,td=-1,zd=nc.length;++td<zd;)bb=nc[td],Hb.point(bb[0],bb[1],bb[2])},LineString:function(bb,Hb){ea(bb.coordinates,Hb,0)},MultiLineString:function(bb,Hb){bb=bb.coordinates;for(var nc=-1,td=bb.length;++nc<td;)ea(bb[nc],Hb,0)},Polygon:function(bb,
Hb){T(bb.coordinates,Hb)},MultiPolygon:function(bb,Hb){bb=bb.coordinates;for(var nc=-1,td=bb.length;++nc<td;)T(bb[nc],Hb)},GeometryCollection:function(bb,Hb){bb=bb.geometries;for(var nc=-1,td=bb.length;++nc<td;)ca(bb[nc],Hb)}},xb=new Uc,Fb=new Uc,ac,yc,Zc,ad,Lc,Ec={point:S,lineStart:S,lineEnd:S,polygonStart:function(){xb=new Uc;Ec.lineStart=J;Ec.lineEnd=r},polygonEnd:function(){var bb=+xb;Fb.add(0>bb?Qd+bb:bb);this.lineStart=this.lineEnd=this.point=S},sphere:function(){Fb.add(Qd)}},tc,Nc,mc,Qc,jb,
Ib,Qb,Rb,na,Ma,lb,Jb={point:ja,lineStart:ia,lineEnd:za,polygonStart:function(){Jb.point=Wa;Jb.lineStart=hb;Jb.lineEnd=Ja;na=new Uc;Ec.polygonStart()},polygonEnd:function(){Ec.polygonEnd();Jb.point=ja;Jb.lineStart=ia;Jb.lineEnd=za;0>xb?(tc=-(mc=180),Nc=-(Qc=90)):1E-6<na?Qc=90:-1E-6>na&&(Nc=-90);lb[0]=tc;lb[1]=mc},sphere:function(){tc=-(mc=180);Nc=-(Qc=90)}},Nb,Lb,pc,Oc,zc,wc,od,qd,Fe,Cd,je,ve,xd,Id,te,ye,vd={sphere:S,point:sa,lineStart:ma,lineEnd:ab,polygonStart:function(){vd.lineStart=ta;vd.lineEnd=
Na},polygonEnd:function(){vd.lineStart=ma;vd.lineEnd=ab}};const ef=ka("area",function(bb){Fb=new Uc;R(bb,Ec);return 2*Fb}),df=ka("bounds",function(bb){var Hb,nc,td;Qc=mc=-(tc=Nc=Infinity);Ma=[];R(bb,Jb);if(Hb=Ma.length){Ma.sort(Da);bb=1;var zd=Ma[0];for(nc=[zd];bb<Hb;++bb){var he=Ma[bb];va(zd,he[0])||va(zd,he[1])?(qa(zd[0],he[1])>qa(zd[0],zd[1])&&(zd[1]=he[1]),qa(he[0],zd[1])>qa(zd[0],zd[1])&&(zd[0]=he[0])):nc.push(zd=he)}var kf=-Infinity;Hb=nc.length-1;bb=0;for(zd=nc[Hb];bb<=Hb;zd=he,++bb)he=nc[bb],
(td=qa(zd[1],he[0]))>kf&&(kf=td,tc=he[0],mc=zd[1])}Ma=lb=null;return Infinity===tc||Infinity===Nc?[[NaN,NaN],[NaN,NaN]]:[[tc,Nc],[mc,Qc]]}),vf=ka("centroid",function(bb){Nb=Lb=pc=Oc=zc=wc=od=qd=0;Fe=new Uc;Cd=new Uc;je=new Uc;R(bb,vd);bb=+Fe;var Hb=+Cd,nc=+je,td=Oa(bb,Hb,nc);return 1E-12>td&&(bb=wc,Hb=od,nc=qd,1E-6>Lb&&(bb=pc,Hb=Oc,nc=zc),td=Oa(bb,Hb,nc),1E-12>td)?[NaN,NaN]:[ua(Hb,bb)*se,V(nc/td)*se]});var Lf=1/.7,Of=/^#([0-9a-f]{3,8})$/,Xg=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
Xd=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ge=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),og=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
wg=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Zg=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Bg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Eb(Gc,rc,{copy:function(bb){return Object.assign(new this.constructor,this,bb)},displayable:function(){return this.rgb().displayable()},hex:xc,formatHex:xc,formatHsl:function(){return Yc(this).formatHsl()},formatRgb:Ic,toString:Ic});Eb(Yb,dc,Zb(Gc,{brighter:function(bb){bb=null==bb?Lf:Math.pow(Lf,bb);return new Yb(this.r*bb,this.g*bb,this.b*bb,this.opacity)},darker:function(bb){bb=null==bb?.7:Math.pow(.7,bb);return new Yb(this.r*bb,this.g*bb,this.b*bb,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:hc,formatHex:hc,formatRgb:vc,toString:vc}));Eb(Fa,Hd,Zb(Gc,{brighter:function(bb){bb=null==bb?Lf:Math.pow(Lf,bb);return new Fa(this.h,this.s,this.l*bb,this.opacity)},darker:function(bb){bb=null==bb?.7:Math.pow(.7,bb);return new Fa(this.h,this.s,this.l*bb,this.opacity)},rgb:function(){var bb=this.h%360+360*(0>this.h),Hb=isNaN(bb)||isNaN(this.s)?0:this.s,nc=this.l;Hb=nc+(.5>nc?nc:1-nc)*
Hb;nc=2*nc-Hb;return new Yb(Ca(240<=bb?bb-240:bb+120,nc,Hb),Ca(bb,nc,Hb),Ca(120>bb?bb+240:bb-120,nc,Hb),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var bb=this.opacity;bb=isNaN(bb)?1:Math.max(0,Math.min(1,bb));return(1===bb?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===bb?")":", "+bb+")")}}));const Qg=Math.PI/180,sg=180/Math.PI,fg=4/29,zf=6/29,Pf=3*
zf*zf,eg=zf*zf*zf;Eb(ob,db,Zb(Gc,{brighter:function(bb){return new ob(this.l+18*(null==bb?1:bb),this.a,this.b,this.opacity)},darker:function(bb){return new ob(this.l-18*(null==bb?1:bb),this.a,this.b,this.opacity)},rgb:function(){var bb=(this.l+16)/116,Hb=isNaN(this.a)?bb:bb+this.a/500,nc=isNaN(this.b)?bb:bb-this.b/200;Hb=.96422*Ob(Hb);bb=1*Ob(bb);nc=.82521*Ob(nc);return new Yb(Ub(3.1338561*Hb-1.6168667*bb-.4906146*nc),Ub(-.9787684*Hb+1.9161415*bb+.033454*nc),Ub(.0719453*Hb-.2289914*bb+1.4052427*nc),
this.opacity)}}));Eb(dd,Wc,Zb(Gc,{brighter:function(bb){return new dd(this.h,this.c,this.l+18*(null==bb?1:bb),this.opacity)},darker:function(bb){return new dd(this.h,this.c,this.l-18*(null==bb?1:bb),this.opacity)},rgb:function(){return ld(this).rgb()}}));const Mf={},gg=bb=>bb.data,kh={random(){return f.random()},cumulativeNormal:f.cumulativeNormal,cumulativeLogNormal:f.cumulativeLogNormal,cumulativeUniform:f.cumulativeUniform,densityNormal:f.densityNormal,densityLogNormal:f.densityLogNormal,densityUniform:f.densityUniform,
quantileNormal:f.quantileNormal,quantileLogNormal:f.quantileLogNormal,quantileUniform:f.quantileUniform,sampleNormal:f.sampleNormal,sampleLogNormal:f.sampleLogNormal,sampleUniform:f.sampleUniform,isArray:k.isArray,isBoolean:k.isBoolean,isDate:k.isDate,isDefined(bb){return void 0!==bb},isNumber:k.isNumber,isObject:k.isObject,isRegExp:k.isRegExp,isString:k.isString,isTuple:A.isTuple,isValid(bb){return null!=bb&&bb===bb},toBoolean:k.toBoolean,toDate(bb){return k.toDate(bb)},toNumber:k.toNumber,toString:k.toString,
indexof:Mb,join:ub,lastindexof:fc,replace:Mc,reverse:Kc,slice:oc,flush:k.flush,lerp:k.lerp,merge:fe,pad:k.pad,peek:k.peek,pluck:me,span:k.span,inrange:k.inrange,truncate:k.truncate,rgb:dc,lab:db,hcl:Wc,hsl:Hd,luminance:Kd,contrast:Nd,sequence:function(bb,Hb,nc){bb=+bb;Hb=+Hb;nc=2>(zd=arguments.length)?(Hb=bb,bb=0,1):3>zd?1:+nc;for(var td=-1,zd=Math.max(0,Math.ceil((Hb-bb)/nc))|0,he=Array(zd);++td<zd;)he[td]=bb+td*nc;return he},format:Vf,utcFormat:Ff,utcParse:Gb,utcOffset:g.utcOffset,utcSequence:g.utcSequence,
timeFormat:yf,timeParse:Oe,timeOffset:g.timeOffset,timeSequence:g.timeSequence,timeUnitSpecifier:g.timeUnitSpecifier,monthFormat:t,monthAbbrevFormat:y,dayFormat:q,dayAbbrevFormat:E,quarter:k.quarter,utcquarter:k.utcquarter,week:g.week,utcweek:g.utcweek,dayofyear:g.dayofyear,utcdayofyear:g.utcdayofyear,warn:Ya,info:mb,debug:ib,extent(bb){return k.extent(bb)},inScope:Ia,intersect:wd,clampRange:k.clampRange,pinchDistance:Se,pinchAngle:ue,screen:Vb,containerSize:cd,windowSize:sc,bandspace:gc,setdata:c,
pathShape:Bf,panLinear:k.panLinear,panLog:k.panLog,panPow:k.panPow,panSymlog:k.panSymlog,zoomLinear:k.zoomLinear,zoomLog:k.zoomLog,zoomPow:k.zoomPow,zoomSymlog:k.zoomSymlog,encode:a,modify:af,lassoAppend:function(bb,Hb,nc,td=5){const zd=bb[bb.length-1];return void 0===zd||Math.sqrt(Math.pow(zd[0]-Hb,2)+Math.pow(zd[1]-nc,2))>td?(bb.push([Hb,nc]),[...bb]):bb},lassoPath:function(bb){return(null!=bb?bb:[]).reduce((Hb,[nc,td],zd)=>Hb+(0==zd?`M ${nc},${td} `:zd===bb.length-1?" Z":`L ${nc},${td} `),"")},
intersectLasso:function(bb,Hb,nc){const {x:td,y:zd,mark:he}=nc;nc=(new m.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [kf,sf]of Hb)kf<nc.x1&&(nc.x1=kf),kf>nc.x2&&(nc.x2=kf),sf<nc.y1&&(nc.y1=sf),sf>nc.y2&&(nc.y2=sf);nc.translate(td,zd);return wd([[nc.x1,nc.y1],[nc.x2,nc.y2]],bb,he).filter(kf=>{var sf=kf.y;let Rg=0;for(let Rf=0,eh=Hb.length-1;Rf<Hb.length;eh=Rf++){const [uh,$g]=Hb[eh],[fh,mf]=Hb[Rf];mf>sf!=$g>sf&&kf.x<(uh-fh)*
(sf-mf)/($g-mf)+fh&&Rg++}return Rg&1})}},th="view item group xy x y".split(" "),Gg={},xg={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:bb=>`_[${k.stringValue("$"+bb)}]`,functions:function(bb){const Hb=p.functions(bb);th.forEach(nc=>Hb[nc]="event.vega."+nc);for(const nc in kh)Hb[nc]="this."+nc;k.extend(Hb,O(bb,kh,Gg));return Hb},constants:p.constants,visitors:Gg},zh=p.codegenExpression(xg);pe("bandwidth",fd,D);pe("copy",nd,D);pe("domain",Fd,D);pe("range",Ud,D);pe("invert",
Od,D);pe("scale",Yd,D);pe("gradient",Ee,D);pe("geoArea",ef,D);pe("geoBounds",df,D);pe("geoCentroid",vf,D);pe("geoShape",ze,D);pe("indata",b,w);pe("data",d,F);pe("treePath",Ne,F);pe("treeAncestors",rf,F);pe("vlSelectionTest",l.selectionTest,l.selectionVisitor);pe("vlSelectionIdTest",l.selectionIdTest,l.selectionVisitor);pe("vlSelectionResolve",l.selectionResolve,l.selectionVisitor);pe("vlSelectionTuples",l.selectionTuples);v.DataPrefix=":";v.IndexPrefix="@";v.ScalePrefix="%";v.SignalPrefix="$";v.bandspace=
gc;v.bandwidth=fd;v.codeGenerator=zh;v.codegenParams=xg;v.containerSize=cd;v.contrast=Nd;v.copy=nd;v.data=d;v.dataVisitor=F;v.dayAbbrevFormat=E;v.dayFormat=q;v.debug=ib;v.domain=Fd;v.encode=a;v.expressionFunction=pe;v.format=Vf;v.functionContext=kh;v.geoArea=ef;v.geoBounds=df;v.geoCentroid=vf;v.geoShape=ze;v.inScope=Ia;v.indata=b;v.indataVisitor=w;v.indexof=Mb;v.info=mb;v.invert=Od;v.join=ub;v.lastindexof=fc;v.luminance=Kd;v.merge=fe;v.modify=af;v.monthAbbrevFormat=y;v.monthFormat=t;v.parseExpression=
function(bb,Hb){const nc={};let td;try{bb=k.isString(bb)?bb:k.stringValue(bb)+"",td=p.parseExpression(bb)}catch(zd){k.error("Expression parse error: "+bb)}td.visit(zd=>{if(zd.type===p.CallExpression){var he=zd.callee.name,kf=xg.visitors[he];kf&&kf(he,zd.arguments,Hb,nc)}});bb=zh(td);bb.globals.forEach(zd=>{const he="$"+zd;!k.hasOwnProperty(nc,he)&&Hb.getSignal(zd)&&(nc[he]=Hb.signalRef(zd))});return{$expr:k.extend({code:bb.code},Hb.options.ast?{ast:td}:null),$fields:bb.fields,$params:nc}};v.pathShape=
Bf;v.pinchAngle=ue;v.pinchDistance=Se;v.pluck=me;v.range=Ud;v.replace=Mc;v.reverse=Kc;v.scale=Yd;v.scaleGradient=Ee;v.scaleVisitor=D;v.screen=Vb;v.setdata=c;v.slice=oc;v.timeFormat=yf;v.timeParse=Oe;v.treeAncestors=rf;v.treePath=Ne;v.utcFormat=Ff;v.utcParse=Gb;v.warn=Ya;v.windowSize=sc;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[43]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14),z(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega))})(this,function(v,k,p){function A(a,e,t){";"!==t[t.length-1]&&(t="return("+t+");");e=Function(...e.concat(t));return a&&a.functions?e.bind(a.functions):e}function u(a,e,t){if(!a||!k.isObject(a))return a;for(let y=0,
q=b.length,E;y<q;++y)if(E=b[y],k.hasOwnProperty(a,E.key))return E.parse(a,e,t);return a}function m(a,e,t,y){this.dataflow=a;this.transforms=e;this.events=a.events.bind(a);this.expr=y||d;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};t&&(this.functions=Object.create(t),this.functions.context=this)}function l(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.events=a.events;this.expr=a.expr;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=
Object.create(a.nodes);this.data=Object.create(a.data);this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),this.functions.context=this)}const f=k.toSet(["rule"]),g=k.toSet(["group","image","rect"]);var d={operator:(a,e)=>A(a,["_"],e.code),parameter:(a,e)=>A(a,["datum","_"],e.code),event:(a,e)=>A(a,["event"],e.code),handler:(a,e)=>A(a,["_","event"],`var datum=event.item&&event.item.datum;return ${e.code};`),encode:(a,e)=>{const {marktype:t,channels:y}=e;e="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var q in y){const E="o["+k.stringValue(q)+"]";e+=`$=${y[q].code};if(${E}!==$)${E}=$,m=1;`}q="";f[t]||(y.x2&&(y.x?(g[t]&&(q+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),q+="o.width\x3do.x2-o.x;"):q+="o.x\x3do.x2-(o.width||0);"),y.xc&&(q+="o.x\x3do.xc-(o.width||0)/2;"),y.y2&&(y.y?(g[t]&&(q+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),q+="o.height\x3do.y2-o.y;"):q+="o.y\x3do.y2-(o.height||0);"),y.yc&&(q+="o.y\x3do.yc-(o.height||0)/2;"));e+=q;return A(a,["item","_"],e+"return m;")},codegen:{get(a){a=
`[${a.map(k.stringValue).join("][")}]`;const e=Function("_",`return _${a};`);e.path=a;return e},comparator(a,e){let t;a=Function("a","b","var u, v; return "+a.map((y,q)=>{const E=e[q];let F;y.path?(F=`a${y.path}`,y=`b${y.path}`):((t=t||{})["f"+q]=y,F=`this.f${q}(a)`,y=`this.f${q}(b)`);q=-E;return`((u = ${F}) < (v = ${y}) || u == null) && v != null ? ${q}
  : (u > v || v == null) && u != null ? ${E}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${q}
  : v !== v && u === u ? ${E} : `}).join("")+"0;");return t?a.bind(t):a}}},b=[{key:"$ref",parse:function(a,e){return e.get(a.$ref)||k.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,e){const t="k:"+a.$key+"_"+!!a.$flat;return e.fn[t]||(e.fn[t]=k.key(a.$key,a.$flat,e.expr.codegen))}},{key:"$expr",parse:function(a,e,t){a.$params&&e.parseParameters(a.$params,t);t="e:"+a.$expr.code+"_"+a.$name;return e.fn[t]||(e.fn[t]=k.accessor(e.parameterExpression(a.$expr),a.$fields,a.$name))}},
{key:"$field",parse:function(a,e){if(!a.$field)return null;const t="f:"+a.$field+"_"+a.$name;return e.fn[t]||(e.fn[t]=k.field(a.$field,a.$name,e.expr.codegen))}},{key:"$encode",parse:function(a,e){a=a.$encode;const t={};for(const y in a){const q=a[y];t[y]=k.accessor(e.encodeExpression(q.$expr),q.$fields);t[y].output=q.$output}return t}},{key:"$compare",parse:function(a,e){const t="c:"+a.$compare+"_"+a.$order,y=k.array(a.$compare).map(q=>q&&q.$tupleid?p.tupleid:q);return e.fn[t]||(e.fn[t]=k.compare(y,
a.$order,e.expr.codegen))}},{key:"$context",parse:function(a,e){return e}},{key:"$subflow",parse:function(a,e){const t=a.$subflow;return function(y,q,E){const F=e.fork().parse(t);y=F.get(t.operators[0].id);(q=F.signals.parent)&&q.set(E);y.detachSubflow=()=>e.detach(F);return y}}},{key:"$tupleid",parse:function(){return p.tupleid}}];const c={skip:!0};m.prototype=l.prototype={fork(){const a=new l(this);(this.subcontext||(this.subcontext=[])).push(a);return a},detach(a){this.subcontext=this.subcontext.filter(t=>
t!==a);const e=Object.keys(a.nodes);for(const t of e)a.nodes[t]._targets=null;for(const t of e)a.nodes[t].detach();a.nodes=null},get(a){return this.nodes[a]},set(a,e){return this.nodes[a]=e},add(a,e){const t=this,y=t.dataflow,q=a.value;t.set(a.id,e);"collect"===(a.type+"").toLowerCase()&&q&&(q.$ingest?y.ingest(e,q.$ingest,q.$format):q.$request?y.preload(e,q.$request,q.$format):y.pulse(e,y.changeset().insert(q)));a.root&&(t.root=e);if(a.parent){let E=t.get(a.parent.$ref);E?(y.connect(E,[e]),e.targets().add(E)):
(t.unresolved=t.unresolved||[]).push(()=>{E=t.get(a.parent.$ref);y.connect(E,[e]);e.targets().add(E)})}a.signal&&(t.signals[a.signal]=e);a.scale&&(t.scales[a.scale]=e);if(a.data)for(const E in a.data){const F=t.data[E]||(t.data[E]={});a.data[E].forEach(w=>F[w]=e)}},resolve(){(this.unresolved||[]).forEach(a=>a());delete this.unresolved;return this},operator(a,e){this.add(a,this.dataflow.add(a.value,e))},transform(a,e){this.add(a,this.dataflow.add(this.transforms[(e+"").toLowerCase()]))},stream(a,e){this.set(a.id,
e)},update(a,e,t,y,q){this.dataflow.on(e,t,y,q,a.options)},operatorExpression(a){return this.expr.operator(this,a)},parameterExpression(a){return this.expr.parameter(this,a)},eventExpression(a){return this.expr.event(this,a)},handlerExpression(a){return this.expr.handler(this,a)},encodeExpression(a){return this.expr.encode(this,a)},parse:function(a){const e=this,t=a.operators||[];a.background&&(e.background=a.background);a.eventConfig&&(e.eventConfig=a.eventConfig);a.locale&&(e.locale=a.locale);t.forEach(y=>
e.parseOperator(y));t.forEach(y=>e.parseOperatorParameters(y));(a.streams||[]).forEach(y=>e.parseStream(y));(a.updates||[]).forEach(y=>e.parseUpdate(y));return e.resolve()},parseOperator:function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?this.transform(a,a.type):this.operator(a,a.update?this.operatorExpression(a.update):null)},parseOperatorParameters:function(a){if(a.params){const e=this.get(a.id);e||k.error("Invalid operator id: "+a.id);this.dataflow.connect(e,e.parameters(this.parseParameters(a.params),
a.react,a.initonly))}},parseParameters:function(a,e){e=e||{};const t=this;for(const y in a){const q=a[y];e[y]=k.isArray(q)?q.map(E=>u(E,t,e)):u(q,t,e)}return e},parseStream:function(a){var e=this,t=null!=a.filter?e.eventExpression(a.filter):void 0,y=null!=a.stream?e.get(a.stream):void 0;if(a.source)y=e.events(a.source,a.type,t);else if(a.merge){var q=a.merge.map(E=>e.get(E));y=q[0].merge.apply(q[0],q.slice(1))}a.between&&(q=a.between.map(E=>e.get(E)),y=y.between(q[0],q[1]));a.filter&&(y=y.filter(t));
null!=a.throttle&&(y=y.throttle(+a.throttle));null!=a.debounce&&(y=y.debounce(+a.debounce));null==y&&k.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&y.consume(!0);e.stream(a,y)},parseUpdate:function(a){var e=k.isObject(e=a.source)?e.$ref:e;e=this.get(e);var t=a.update,y=void 0;e||k.error("Source not defined: "+a.source);var q=a.target&&a.target.$expr?this.eventExpression(a.target.$expr):this.get(a.target);t&&t.$expr&&(t.$params&&(y=this.parseParameters(t.$params)),t=this.handlerExpression(t.$expr));
this.update(a,e,q,t,y)},getState:function(a){var e=this,t={};if(a.signals){var y=t.signals={};Object.keys(e.signals).forEach(E=>{const F=e.signals[E];a.signals(E,F)&&(y[E]=F.value)})}if(a.data){var q=t.data={};Object.keys(e.data).forEach(E=>{const F=e.data[E];a.data(E,F)&&(q[E]=F.input.value)})}e.subcontext&&!1!==a.recurse&&(t.subcontext=e.subcontext.map(E=>E.getState(a)));return t},setState:function(a){var e=this,t=e.dataflow,y=a.data,q=a.signals;Object.keys(q||{}).forEach(E=>{t.update(e.signals[E],
q[E],c)});Object.keys(y||{}).forEach(E=>{t.pulse(e.data[E].input,t.changeset().remove(k.truthy).insert(y[E]))});(a.subcontext||[]).forEach((E,F)=>{(F=e.subcontext[F])&&F.setState(E)})}};v.context=function(a,e,t,y){return new m(a,e,t,y)};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[44]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14),z(23),z(28),z(42),z(43),z(17)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,p,A,u,m,l){function f(Fa){const Ca=Fa.container();Ca&&(Ca.setAttribute("role","graphics-document"),
Ca.setAttribute("aria-roleDescription","visualization"),g(Ca,Fa.description()))}function g(Fa,Ca){Fa&&(null==Ca?Fa.removeAttribute("aria-label"):Fa.setAttribute("aria-label",Ca))}function d(Fa){Fa.add(null,Ca=>{Fa._background=Ca.bg;Fa._resize=1;return Ca.bg},{bg:Fa._signals.background})}function b(Fa){const Ca=Fa._signals.cursor||(Fa._signals.cursor=Fa.add({user:"default",item:null}));Fa.on(Fa.events("view","mousemove"),Ca,(Ha,db)=>{const ob=(Ha=Ca.value)?k.isString(Ha)?Ha:Ha.user:"default";db=db.item&&
db.item.cursor||null;return Ha&&ob===Ha.user&&db==Ha.item?Ha:{user:ob,item:db}});Fa.add(null,function(Ha){Ha=Ha.cursor;let db=this.value;k.isString(Ha)||(db=Ha.item,Ha=Ha.user);c(Fa,Ha&&"default"!==Ha?Ha:db||Ha);return db},{cursor:Ca})}function c(Fa,Ca){if(Fa=Fa.globalCursor()?"undefined"!==typeof document&&document.body:Fa.container())return null==Ca?Fa.style.removeProperty("cursor"):Fa.style.cursor=Ca}function a(Fa,Ca){Fa=Fa._runtime.data;k.hasOwnProperty(Fa,Ca)||k.error("Unrecognized data set: "+
Ca);return Fa[Ca]}function e(Fa,Ca){p.isChangeSet(Ca)||k.error("Second argument to changes must be a changeset.");Fa=a(this,Fa);Fa.modified=!0;return this.pulse(Fa.input,Ca)}function t(Fa){var Ca=Fa.padding();return Math.max(0,Fa._viewWidth+Ca.left+Ca.right)}function y(Fa){var Ca=Fa.padding();return Math.max(0,Fa._viewHeight+Ca.top+Ca.bottom)}function q(Fa){var Ca=Fa.padding();Fa=Fa._origin;return[Ca.left+Fa[0],Ca.top+Fa[1]]}function E(Fa){var Ca=q(Fa),Ha=t(Fa),db=y(Fa);Fa._renderer.background(Fa.background());
Fa._renderer.resize(Ha,db,Ca);Fa._handler.origin(Ca);Fa._resizeListeners.forEach(ob=>{try{ob(Ha,db)}catch(Ab){Fa.error(Ab)}})}function F(Fa,Ca,Ha){function db(Ob){var Ub=Ab,$b;if(Ob)for($b=Ca;$b;$b=$b.mark.group)if($b.mark.name===Ob){Ub=$b;break}return Ub&&Ub.mark&&Ub.mark.interactive?Ub:{}}function ob(Ob){if(!Ob)return Ha;k.isString(Ob)&&(Ob=db(Ob));const Ub=Ha.slice();for(;Ob;)Ub[0]-=Ob.x||0,Ub[1]-=Ob.y||0,Ob=Ob.mark&&Ob.mark.group;return Ub}const Ab=Ca?"group"===Ca.mark.marktype?Ca:Ca.mark.group:
null;return{view:k.constant(Fa),item:k.constant(Ca||{}),group:db,xy:ob,x:Ob=>ob(Ob)[0],y:Ob=>ob(Ob)[1]}}function w(Fa){Fa=k.extend({defaults:{}},Fa);const Ca=(Ha,db)=>{db.forEach(ob=>{k.isArray(Ha[ob])&&(Ha[ob]=k.toSet(Ha[ob]))})};Ca(Fa.defaults,["prevent","allow"]);Ca(Fa,["view","window","selector"]);return Fa}function D(Fa,Ca,Ha,db){Fa._eventListeners.push({type:Ha,sources:k.array(Ca),handler:db})}function G(Fa,Ca,Ha){const db=Fa._eventConfig&&Fa._eventConfig[Ca];return!1===db||k.isObject(db)&&
!db[Ha]?(Fa.warn(`Blocked ${Ca} ${Ha} event listener.`),!1):!0}function L(Fa){return Fa.item}function O(Fa){return Fa.item.mark.source}function V(Fa){return function(Ca,Ha){return Ha.vega.view().changeset().encode(Ha.item,Fa)}}function S(Fa,Ca,Ha){Fa=document.createElement(Fa);for(const db in Ca)Fa.setAttribute(db,Ca[db]);null!=Ha&&(Fa.textContent=Ha);return Fa}function ca(Fa,Ca,Ha){var db=Math.abs(Ca-Fa)/Math.max(0,Ha);Ha=Math.pow(10,Math.floor(Math.log(db)/Math.LN10));db/=Ha;db>=xc?Ha*=10:db>=Ic?
Ha*=5:db>=rc&&(Ha*=2);return Ca<Fa?-Ha:Ha}function ea(Fa,Ca,Ha){if(Ca){var db=Ha.param,ob=Ha.state;ob||(ob=Ha.state={elements:null,active:!1,set:null,update:Ab=>{Ab!=Fa.signal(db.signal)&&Fa.runAsync(null,()=>{ob.source=!0;Fa.signal(db.signal,Ab)})}},db.debounce&&(ob.update=k.debounce(db.debounce,ob.update)));(null==db.input&&db.element?T:R)(ob,Ca,db,Fa);ob.active||(Fa.on(Fa._signals[db.signal],null,()=>{ob.source?ob.source=!1:ob.set(Fa.signal(db.signal))}),ob.active=!0);return ob}}function T(Fa,
Ca,Ha,db){const ob=Ha.event||"input",Ab=()=>Fa.update(Ca.value);db.signal(Ha.signal,Ca.value);Ca.addEventListener(ob,Ab);D(db,Ca,ob,Ab);Fa.set=Ob=>{Ca.value=Ob;Ob=Ca.dispatchEvent;var Ub="undefined"!==typeof Event?new Event(ob):{type:ob};Ob.call(Ca,Ub)}}function R(Fa,Ca,Ha,db){db=db.signal(Ha.signal);const ob=S("div",{"class":"vega-bind"}),Ab="radio"===Ha.input?ob:ob.appendChild(S("label"));Ab.appendChild(S("span",{"class":"vega-bind-name"},Ha.name||Ha.signal));Ca.appendChild(ob);Ca=J;switch(Ha.input){case "checkbox":Ca=
r;break;case "select":Ca=C;break;case "radio":Ca=N;break;case "range":Ca=U}Ca(Fa,Ab,Ha,db)}function J(Fa,Ca,Ha,db){const ob=S("input");for(const Ab in Ha)"signal"!==Ab&&"element"!==Ab&&ob.setAttribute("input"===Ab?"type":Ab,Ha[Ab]);ob.setAttribute("name",Ha.signal);ob.value=db;Ca.appendChild(ob);ob.addEventListener("input",()=>Fa.update(ob.value));Fa.elements=[ob];Fa.set=Ab=>ob.value=Ab}function r(Fa,Ca,Ha,db){Ha={type:"checkbox",name:Ha.signal};db&&(Ha.checked=!0);const ob=S("input",Ha);Ca.appendChild(ob);
ob.addEventListener("change",()=>Fa.update(ob.checked));Fa.elements=[ob];Fa.set=Ab=>ob.checked=!!Ab||null}function C(Fa,Ca,Ha,db){const ob=S("select",{name:Ha.signal}),Ab=Ha.labels||[];Ha.options.forEach((Ob,Ub)=>{const $b={value:Ob};ja(Ob,db)&&($b.selected=!0);ob.appendChild(S("option",$b,(Ab[Ub]||Ob)+""))});Ca.appendChild(ob);ob.addEventListener("change",()=>{Fa.update(Ha.options[ob.selectedIndex])});Fa.elements=[ob];Fa.set=Ob=>{for(let Ub=0,$b=Ha.options.length;Ub<$b;++Ub)if(ja(Ha.options[Ub],
Ob)){ob.selectedIndex=Ub;break}}}function N(Fa,Ca,Ha,db){const ob=S("span",{"class":"vega-bind-radio"}),Ab=Ha.labels||[];Ca.appendChild(ob);Fa.elements=Ha.options.map((Ob,Ub)=>{var $b={type:"radio",name:Ha.signal,value:Ob};ja(Ob,db)&&($b.checked=!0);$b=S("input",$b);$b.addEventListener("change",()=>Fa.update(Ob));Ub=S("label",{},(Ab[Ub]||Ob)+"");Ub.prepend($b);ob.appendChild(Ub);return $b});Fa.set=Ob=>{const Ub=Fa.elements,$b=Ub.length;for(let Jc=0;Jc<$b;++Jc)ja(Ub[Jc].value,Ob)&&(Ub[Jc].checked=
!0)}}function U(Fa,Ca,Ha,db){db=void 0!==db?db:(+Ha.max+ +Ha.min)/2;const ob=null!=Ha.max?Ha.max:Math.max(100,+db)||100,Ab=Ha.min||Math.min(0,ob,+db)||0,Ob=Ha.step||ca(Ab,ob,100),Ub=S("input",{type:"range",name:Ha.signal,min:Ab,max:ob,step:Ob});Ub.value=db;const $b=S("span",{},+db);Ca.appendChild(Ub);Ca.appendChild($b);Ca=()=>{$b.textContent=Ub.value;Fa.update(+Ub.value)};Ub.addEventListener("input",Ca);Ub.addEventListener("change",Ca);Fa.elements=[Ub];Fa.set=Jc=>{Ub.value=Jc;$b.textContent=Jc}}function ja(Fa,
Ca){return Fa===Ca||Fa+""===Ca+""}function ba(Fa,Ca,Ha,db,ob,Ab){Ca=Ca||new db(Fa.loader());return Ca.initialize(Ha,t(Fa),y(Fa),q(Fa),ob,Ab).background(Fa.background())}function ia(Fa,Ca){return Ca?function(){try{Ca.apply(this,arguments)}catch(Ha){Fa.error(Ha)}}:null}function za(Fa,Ca,Ha,db){const ob=(new db(Fa.loader(),ia(Fa,Fa.tooltip()))).scene(Fa.scenegraph().root).initialize(Ha,q(Fa),Fa);Ca&&Ca.handlers().forEach(Ab=>{ob.on(Ab.type,Ab.handler)});return ob}function Wa(Fa,Ca,Ha){if("string"===
typeof Ca)if("undefined"!==typeof document){if(Ca=document.querySelector(Ca),!Ca)return Fa.error("Signal bind element not found: "+Ca),null}else return Fa.error("DOM document instance not found."),null;if(Ca&&Ha)try{Ca.textContent=""}catch(db){Ca=null,Fa.error(db)}return Ca}function hb(Fa){k.isObject(Fa)?Fa={top:+Fa.top||0,bottom:+Fa.bottom||0,left:+Fa.left||0,right:+Fa.right||0}:(Fa=+Fa||0,Fa={top:Fa,bottom:Fa,left:Fa,right:Fa});return Fa}function Ja(Fa,Ca,Ha,db){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var ob=
A.renderModule(Ca);(ob=ob&&ob.headless)||k.error("Unrecognized renderer type: "+Ca);yield Fa.runAsync();return ba(Fa,null,null,ob,Ha,db).renderAsync(Fa._scenegraph.root)})}function qa(Fa,Ca,Ha){return m.context(Fa,p.transforms,u.functionContext,Ha).parse(Ca)}function Da(Fa,Ca){var Ha=Fa.autosize();Fa=Fa.padding();return Ca-(Ha&&"padding"===Ha.contains?Fa.left+Fa.right:0)}function va(Fa,Ca){var Ha=Fa.autosize();Fa=Fa.padding();return Ca-(Ha&&"padding"===Ha.contains?Fa.top+Fa.bottom:0)}function sa(Fa){function Ca(){Fa._autosize=
Fa._resize=1}var Ha=Fa._signals,db=Ha.width,ob=Ha.height;Ha=Ha.padding;Fa._resizeWidth=Fa.add(null,Ob=>{Fa._width=Ob.size;Fa._viewWidth=Da(Fa,Ob.size);Ca()},{size:db});Fa._resizeHeight=Fa.add(null,Ob=>{Fa._height=Ob.size;Fa._viewHeight=va(Fa,Ob.size);Ca()},{size:ob});const Ab=Fa.add(null,Ca,{pad:Ha});Fa._resizeWidth.rank=db.rank+1;Fa._resizeHeight.rank=ob.rank+1;Ab.rank=Ha.rank+1}function xa(Fa,Ca){return Ca.modified&&k.isArray(Ca.input.value)&&Fa.indexOf("_:vega:_")}function ma(Fa,Ca){return!("parent"===
Fa||Ca instanceof p.transforms.proxy)}function Ea(){return qc||(Hd(Ua),qc=Yc.now()+Dc)}function Ua(){qc=0}function ab(){this._call=this._time=this._next=null}function ta(){qc=(vc=Yc.now())+Dc;Bb=tb=0;try{Ea();++Bb;for(var Fa=Yb,Ca;Fa;)0<=(Ca=qc-Fa._time)&&Fa._call.call(void 0,Ca),Fa=Fa._next;--Bb}finally{Bb=0;Fa=Yb;for(var Ha=Infinity;Fa;)if(Fa._call){Ha>Fa._time&&(Ha=Fa._time);var db=Fa;Fa=Fa._next}else Ca=Fa._next,Fa._next=null,Fa=db?db._next=Ca:Yb=Ca;hc=db;oa(Ha);qc=0}}function Na(){var Fa=Yc.now(),
Ca=Fa-vc;1E3<Ca&&(Dc-=Ca,vc=Fa)}function oa(Fa){Bb||(tb&&(tb=clearTimeout(tb)),24<Fa-qc?(Infinity>Fa&&(tb=setTimeout(ta,Fa-Yc.now()-Dc)),dc&&(dc=clearInterval(dc))):(dc||(vc=Yc.now(),dc=setInterval(Na,1E3)),Bb=1,Hd(ta)))}function aa(Fa,Ca,Ha){var db=new ab,ob=Ca;if(null==Ca)return db.restart(Fa,Ca,Ha),db;db._restart=db.restart;db.restart=function(Ab,Ob,Ub){Ob=+Ob;Ub=null==Ub?Ea():+Ub;db._restart(function Wc(Jc){Jc+=ob;db._restart(Wc,ob+=Ob,Ub);Ab(Jc)},Ob,Ub)};db.restart(Fa,Ca,Ha);return db}function ka(Fa,
Ca,Ha,db){if(Fa=Fa.element())Ca=Fa.setAttribute,db=null==db?"":k.isArray(db)?"["+db.map(Xa).join(", ")+"]":k.isObject(db)&&!k.isDate(db)?Ia(db):db+"",Ca.call(Fa,"title",db)}function Ia(Fa){return Object.keys(Fa).map(Ca=>{const Ha=Fa[Ca];return Ca+": "+(k.isArray(Ha)?"["+Ha.map(Xa).join(", ")+"]":Xa(Ha))}).join("\n")}function Xa(Fa){return k.isArray(Fa)?"[]":k.isObject(Fa)&&!k.isDate(Fa)?"{}":Fa}function Ya(Fa,Ca){Ca=Ca||{};p.Dataflow.call(this);Ca.loader&&this.loader(Ca.loader);Ca.logger&&this.logger(Ca.logger);
null!=Ca.logLevel&&this.logLevel(Ca.logLevel);if(Ca.locale||Fa.locale){var Ha=k.extend({},Fa.locale,Ca.locale);this.locale(l.locale(Ha.number,Ha.time))}this._elBind=this._el=null;this._renderType=Ca.renderer||A.RenderType.Canvas;this._scenegraph=new A.Scenegraph;Ha=this._scenegraph.root;this._renderer=null;this._tooltip=Ca.tooltip||ka;this._redraw=!0;this._handler=(new A.CanvasHandler).scene(Ha);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=
[];this._eventConfig=w(Fa.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const db=qa(this,Fa,Ca.expr);this._runtime=db;this._signals=db.signals;this._bind=(Fa.bindings||[]).map(ob=>({state:null,param:k.extend({},ob)}));db.root&&db.root.set(Ha);Ha.source=db.data.root.input;this.pulse(db.data.root.input,this.changeset().insert(Ha.items));this._width=this.width();this._height=this.height();this._viewWidth=Da(this,this._width);this._viewHeight=va(this,this._height);this._origin=[0,0];
this._resize=0;this._autosize=1;sa(this);d(this);b(this);this.description(Fa.description);Ca.hover&&this.hover();Ca.container&&this.initialize(Ca.container,Ca.bind)}function mb(Fa,Ca){return k.hasOwnProperty(Fa._signals,Ca)?Fa._signals[Ca]:k.error("Unrecognized signal name: "+k.stringValue(Ca))}function ib(Fa,Ca){Fa=(Fa._targets||[]).filter(Ha=>Ha._update&&Ha._update.handler===Ca);return Fa.length?Fa[0]:null}function Eb(Fa,Ca,Ha,db){let ob=ib(Ha,db);ob||(ob=ia(Fa,()=>db(Ca,Ha.value)),ob.handler=db,
Fa.on(Ha,null,ob));return Fa}function Zb(Fa,Ca,Ha){(Ha=ib(Ca,Ha))&&Ca._targets.remove(Ha);return Fa}const Gc={trap:!1};var xc=Math.sqrt(50),Ic=Math.sqrt(10),rc=Math.sqrt(2),jd={skip:!0},Bb=0,tb=0,dc=0,Yb,hc,vc=0,qc=0,Dc=0,Yc="object"===typeof performance&&performance.now?performance:Date,Hd="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Fa){setTimeout(Fa,17)};ab.prototype={constructor:ab,restart:function(Fa,Ca,Ha){if("function"!==typeof Fa)throw new TypeError("callback is not a function");
Ha=(null==Ha?Ea():+Ha)+(null==Ca?0:+Ca);this._next||hc===this||(hc?hc._next=this:Yb=this,hc=this);this._call=Fa;this._time=Ha;oa()},stop:function(){this._call&&(this._call=null,this._time=Infinity,oa())}};k.inherits(Ya,p.Dataflow,{evaluate(Fa,Ca,Ha){const db=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield p.Dataflow.prototype.evaluate.call(db,Fa,Ca);if(db._redraw||db._resize)try{db._renderer&&(db._resize&&(db._resize=0,E(db)),yield db._renderer.renderAsync(db._scenegraph.root)),
db._redraw=!1}catch(ob){db.error(ob)}Ha&&p.asyncCallback(db,Ha);return db})},dirty(Fa){this._redraw=!0;this._renderer&&this._renderer.dirty(Fa)},description(Fa){if(arguments.length){const Ca=null!=Fa?Fa+"":null;Ca!==this._desc&&g(this._el,this._desc=Ca);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Fa,Ca,Ha){const db=mb(this,Fa);return 1===arguments.length?db.value:this.update(db,Ca,Ha)},width(Fa){return arguments.length?
this.signal("width",Fa):this.signal("width")},height(Fa){return arguments.length?this.signal("height",Fa):this.signal("height")},padding(Fa){return arguments.length?this.signal("padding",hb(Fa)):hb(this.signal("padding"))},autosize(Fa){return arguments.length?this.signal("autosize",Fa):this.signal("autosize")},background(Fa){return arguments.length?this.signal("background",Fa):this.signal("background")},renderer(Fa){if(!arguments.length)return this._renderType;A.renderModule(Fa)||k.error("Unrecognized renderer type: "+
Fa);Fa!==this._renderType&&(this._renderType=Fa,this._resetRenderer());return this},tooltip(Fa){if(!arguments.length)return this._tooltip;Fa!==this._tooltip&&(this._tooltip=Fa,this._resetRenderer());return this},loader(Fa){if(!arguments.length)return this._loader;Fa!==this._loader&&(p.Dataflow.prototype.loader.call(this,Fa),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(mb(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,
this._elBind))},_resizeView:function(Fa,Ca,Ha,db,ob,Ab){this.runAfter(Ob=>{let Ub=0;Ob._autosize=0;Ob.width()!==Ha&&(Ub=1,Ob.signal("width",Ha,jd),Ob._resizeWidth.skip(!0));Ob.height()!==db&&(Ub=1,Ob.signal("height",db,jd),Ob._resizeHeight.skip(!0));Ob._viewWidth!==Fa&&(Ob._resize=1,Ob._viewWidth=Fa);Ob._viewHeight!==Ca&&(Ob._resize=1,Ob._viewHeight=Ca);if(Ob._origin[0]!==ob[0]||Ob._origin[1]!==ob[1])Ob._resize=1,Ob._origin=ob;Ub&&Ob.run("enter");Ab&&Ob.runAfter($b=>$b.resize())},!1,1)},addEventListener(Fa,
Ca,Ha){let db=Ca;Ha&&!1===Ha.trap||(db=ia(this,Ca),db.raw=Ca);this._handler.on(Fa,db);return this},removeEventListener(Fa,Ca){for(var Ha=this._handler.handlers(Fa),db=Ha.length,ob,Ab;0<=--db;)if(Ab=Ha[db].type,ob=Ha[db].handler,Fa===Ab&&(Ca===ob||Ca===ob.raw)){this._handler.off(Ab,ob);break}return this},addResizeListener(Fa){const Ca=this._resizeListeners;0>Ca.indexOf(Fa)&&Ca.push(Fa);return this},removeResizeListener(Fa){var Ca=this._resizeListeners;Fa=Ca.indexOf(Fa);0<=Fa&&Ca.splice(Fa,1);return this},
addSignalListener(Fa,Ca){return Eb(this,Fa,mb(this,Fa),Ca)},removeSignalListener(Fa,Ca){return Zb(this,mb(this,Fa),Ca)},addDataListener(Fa,Ca){return Eb(this,Fa,a(this,Fa).values,Ca)},removeDataListener(Fa,Ca){return Zb(this,a(this,Fa).values,Ca)},globalCursor(Fa){if(arguments.length){if(this._globalCursor!==!!Fa){const Ca=c(this,null);this._globalCursor=!!Fa;Ca&&c(this,Ca)}return this}return this._globalCursor},preventDefault(Fa){return arguments.length?(this._preventDefault=Fa,this):this._preventDefault},
timer:function(Fa,Ca){this._timers.push(aa(function(Ha){Fa({timestamp:Date.now(),elapsed:Ha})},Ca))},events:function(Fa,Ca,Ha){var db=this,ob=new p.EventStream(Ha);Ha=function($b,Jc){db.runAsync(null,()=>{var Wc;if(Wc="view"===Fa){var dd=db._eventConfig.defaults;Wc=dd.prevent;dd=dd.allow;Wc=!1===Wc||!0===dd?!1:!0===Wc||!1===dd?!0:Wc?Wc[Ca]:dd?!dd[Ca]:db.preventDefault()}Wc&&$b.preventDefault();Wc=ob.receive;dd=(dd=db._renderer)&&dd.canvas();if(dd){var ld=q(db);var rd=$b.changedTouches?$b.changedTouches[0]:
$b;rd=A.point(rd,dd);rd[0]-=ld[0];rd[1]-=ld[1]}$b.dataflow=db;$b.item=Jc;$b.vega=F(db,Jc,rd);Wc.call(ob,$b)})};var Ab;if("timer"===Fa)G(db,"timer",Ca)&&db.timer(Ha,Ca);else if("view"===Fa)G(db,"view",Ca)&&db.addEventListener(Ca,Ha,Gc);else if("window"===Fa?G(db,"window",Ca)&&"undefined"!==typeof window&&(Ab=[window]):"undefined"!==typeof document&&G(db,"selector",Ca)&&(Ab=document.querySelectorAll(Fa)),Ab){for(var Ob=0,Ub=Ab.length;Ob<Ub;++Ob)Ab[Ob].addEventListener(Ca,Ha);D(db,Ab,Ca,Ha)}else db.warn("Can not resolve event source: "+
Fa);return ob},finalize:function(){var Fa=this._tooltip,Ca=this._timers,Ha=this._eventListeners,db;for(db=Ca.length;0<=--db;)Ca[db].stop();for(db=Ha.length;0<=--db;){var ob=Ha[db];for(Ca=ob.sources.length;0<=--Ca;)ob.sources[Ca].removeEventListener(ob.type,ob.handler)}Fa&&Fa.call(this,this._handler,null,null,null);return this},hover:function(Fa,Ca){Fa=[Fa||"hover"];Ca=[Ca||"update",Fa[0]];this.on(this.events("view","mouseover",L),O,V(Fa));this.on(this.events("view","mouseout",L),O,V(Ca));return this},
data:function(Fa,Ca){return 2>arguments.length?a(this,Fa).values.value:e.call(this,Fa,p.changeset().remove(k.truthy).insert(Ca))},change:e,insert:function(Fa,Ca){return e.call(this,Fa,p.changeset().insert(Ca))},remove:function(Fa,Ca){return e.call(this,Fa,p.changeset().remove(Ca))},scale:function(Fa){var Ca=this._runtime.scales;k.hasOwnProperty(Ca,Fa)||k.error("Unrecognized scale or projection: "+Fa);return Ca[Fa].value},initialize:function(Fa,Ca){const Ha=this;var db=Ha._renderType;const ob=Ha._eventConfig.bind;
var Ab=A.renderModule(db);Fa=Ha._el=Fa?Wa(Ha,Fa,!0):null;f(Ha);Ab||Ha.error("Unrecognized renderer type: "+db);db=Ab.handler||A.CanvasHandler;Ab=Fa?Ab.renderer:Ab.headless;Ha._renderer=Ab?ba(Ha,Ha._renderer,Fa,Ab):null;Ha._handler=za(Ha,Ha._handler,Fa,db);Ha._redraw=!0;Fa&&"none"!==ob&&(Ca=Ca?Ha._elBind=Wa(Ha,Ca,!0):Fa.appendChild(S("form",{"class":"vega-bindings"})),Ha._bind.forEach(Ob=>{Ob.param.element&&"container"!==ob&&(Ob.element=Wa(Ha,Ob.param.element,!!Ob.param.input))}),Ha._bind.forEach(Ob=>
{ea(Ha,Ob.element||Ca,Ob)}));return Ha},toImageURL:function(Fa,Ca){const Ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Fa!==A.RenderType.Canvas&&Fa!==A.RenderType.SVG&&Fa!==A.RenderType.PNG&&k.error("Unrecognized image type: "+Fa);var db=yield Ja(Ha,Fa,Ca);Fa===A.RenderType.SVG?(db=db.svg(),db=new Blob([db],{type:"image/svg+xml"}),db=window.URL.createObjectURL(db)):db=db.canvas().toDataURL("image/png");return db})},toCanvas:function(Fa,Ca){const Ha=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield Ja(Ha,
A.RenderType.Canvas,Fa,Ca)).canvas()})},toSVG:function(Fa){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield Ja(Ca,A.RenderType.SVG,Fa)).svg()})},getState:function(Fa){return this._runtime.getState(Fa||{data:xa,signals:ma,recurse:!0})},setState:function(Fa){this.runAsync(null,Ca=>{Ca._trigger=!1;Ca._runtime.setState(Fa)},Ca=>{Ca._trigger=!0});return this}});v.View=Ya;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[45]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B):"function"===typeof define&&define.amd?define(["exports"],k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={}))})(this,function(v){function k(d,b,c,a,e){const t=d.length;let y=0,q;for(;b<t;++b)if(q=d[b],y||q!==c)e&&0<=e.indexOf(q)?--y:a&&0<=a.indexOf(q)&&++y;else break;return b}function p(d){const b=[],c=d.length;let a=0,e=0;for(;e<c;)e=k(d,e,",","[{","]}"),b.push(d.substring(a,
e).trim()),a=++e;if(0===b.length)throw"Empty event selector: "+d;return b}function A(d){if("["===d[0]){var b=d;var c=b.length;d=k(b,1,"]","[","]");if(d===c)throw"Empty between selector: "+b;c=p(b.substring(1,d));if(2!==c.length)throw"Between selector must have two elements: "+b;b=b.slice(d+1).trim();if("\x3e"!==b[0])throw"Expected '\x3e' after between selector: "+b;c=c.map(A);b=A(b.slice(1).trim());b.between?b={between:c,stream:b}:b.between=c}else{c={source:f};const a=[];let e=[0,0],t=0,y=0,q=d.length,
E=0,F;if("}"===d[q-1]){E=d.lastIndexOf("{");if(0<=E){try{e=u(d.substring(E+1,q-1))}catch(w){throw"Invalid throttle specification: "+d;}d=d.slice(0,E).trim();q=d.length}else throw"Unmatched right brace: "+d;E=0}if(!q)throw d;"@"===d[0]&&(t=++E);F=k(d,E,":");F<q&&(a.push(d.substring(y,F).trim()),y=E=++F);E=k(d,E,"[");if(E===q)a.push(d.substring(y,q).trim());else if(a.push(d.substring(y,E).trim()),b=[],y=++E,y===q)throw"Unmatched left bracket: "+d;for(;E<q;){E=k(d,E,"]");if(E===q)throw"Unmatched left bracket: "+
d;b.push(d.substring(y,E).trim());if(E<q-1&&"["!==d[++E])throw"Expected left bracket: "+d;y=++E}if(!(q=a.length)||m.test(a[q-1]))throw"Invalid event selector: "+d;1<q?(c.type=a[1],t?c.markname=a[0].slice(1):g[a[0]]?c.marktype=a[0]:c.source=a[0]):c.type=a[0];"!"===c.type.slice(-1)&&(c.consume=!0,c.type=c.type.slice(0,-1));null!=b&&(c.filter=b);e[0]&&(c.throttle=e[0]);e[1]&&(c.debounce=e[1]);b=c}return b}function u(d){const b=d.split(",");if(!d.length||2<b.length)throw d;return b.map(c=>{c=+c;if(c!==
c)throw d;return c})}const m=/[[\]{}]/,l={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let f,g;v.parseSelector=function(d,b,c){f=b||"view";g=c||l;return p(d.trim()).map(A)};Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[46]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?k(B,z(14),z(42),z(45),z(27),z(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),k):(v="undefined"!==typeof globalThis?globalThis:v||self,k(v.vega={},v.vega,v.vega,v.vega,v.vega,v.vega))})(this,function(v,k,p,A,u,m){function l(na){return k.isObject(na)?na:{type:na||"pad"}}function f(na){k.isObject(na)?na=na.signal?
na:{top:+na.top||0,bottom:+na.bottom||0,left:+na.left||0,right:+na.right||0}:(na=+na||0,na={top:na,bottom:na,left:na,right:na});return na}function g(na,Ma,lb,Jb){return null!=lb?(k.isObject(lb)&&!k.isArray(lb)||k.isArray(lb)&&lb.length&&k.isObject(lb[0])?na.update[Ma]=lb:na[Jb||"enter"][Ma]={value:lb},1):0}function d(na,Ma,lb){for(const Jb in Ma)g(na,Jb,Ma[Jb]);for(const Jb in lb)g(na,Jb,lb[Jb],"update")}function b(na,Ma,lb){for(const Jb in Ma)lb&&k.hasOwnProperty(lb,Jb)||(na[Jb]=k.extend(na[Jb]||
{},Ma[Jb]));return na}function c(na,Ma){return Ma&&(Ma.enter&&Ma.enter[na]||Ma.update&&Ma.update[na])}function a(na,Ma,lb,Jb,Nb){const Lb={},pc={};let Oc,zc;zc="lineBreak";"text"!==Ma||null==Nb[zc]||c(zc,na)||e(Lb,zc,Nb[zc]);if("legend"==lb||String(lb).startsWith("axis"))lb=null;lb="frame"===lb?Nb.group:"mark"===lb?k.extend({},Nb.mark,Nb[Ma]):null;for(zc in lb)(Ma=c(zc,na)||("fill"===zc||"stroke"===zc)&&(c("fill",na)||c("stroke",na)))||e(Lb,zc,lb[zc]);k.array(Jb).forEach(wc=>{wc=Nb.style&&Nb.style[wc];
for(const od in wc)c(od,na)||e(Lb,od,wc[od])});na=k.extend({},na);for(zc in Lb)lb=Lb[zc],lb.signal?(Oc=Oc||{})[zc]=lb:pc[zc]=lb;na.enter=k.extend(pc,na.enter);Oc&&(na.update=k.extend(Oc,na.update));return na}function e(na,Ma,lb){na[Ma]=lb&&lb.signal?{signal:lb.signal}:{value:lb}}function t(na){if(null!=na.gradient)return y(na);if(na.signal)var Ma=`(${na.signal})`;else na.color?(Ma=na.color,Ma=Ma.c?Yd("hcl",Ma.h,Ma.c,Ma.l):Ma.h||Ma.s?Yd("hsl",Ma.h,Ma.s,Ma.l):Ma.l||Ma.a?Yd("lab",Ma.l,Ma.a,Ma.b):Ma.r||
Ma.g||Ma.b?Yd("rgb",Ma.r,Ma.g,Ma.b):null):Ma=null!=na.field?E(na.field):void 0!==na.value?k.stringValue(na.value):void 0;if(null!=na.scale){const lb=Ud(na.scale);null!=na.range?Ma=`lerp(_range(${lb}), ${+na.range})`:(void 0!==Ma&&(Ma=`_scale(${lb}, ${Ma})`),na.band&&(Ma=(Ma?Ma+"+":"")+`_bandwidth(${lb})`+(1===+na.band?"":"*"+q(na.band)),na.extra&&(Ma=`(datum.extra ? _scale(${lb}, datum.extra.value) : ${Ma})`)),null==Ma&&(Ma="0"))}void 0===Ma&&(Ma=null);null!=na.exponent&&(Ma=`pow(${Ma},${q(na.exponent)})`);
null!=na.mult&&(Ma+=`*${q(na.mult)}`);null!=na.offset&&(Ma+=`+${q(na.offset)}`);na.round&&(Ma=`round(${Ma})`);return Ma}function y(na){const Ma=[na.start,na.stop,na.count].map(lb=>null==lb?null:k.stringValue(lb));for(;Ma.length&&null==k.peek(Ma);)Ma.pop();Ma.unshift(Ud(na.gradient));return`gradient(${Ma.join(",")})`}function q(na){return k.isObject(na)?"("+t(na)+")":na}function E(na){return F(k.isObject(na)?na:{datum:na})}function F(na){let Ma;if(na.signal){Ma="datum";var lb=na.signal}else if(na.group||
na.parent){lb=Math.max(1,na.level||1);for(Ma="item";0<lb--;)Ma+=".mark.group";na.parent?(lb=na.parent,Ma+=".datum"):lb=na.group}else na.datum?(Ma="datum",lb=na.datum):k.error("Invalid field reference: "+k.stringValue(na));na.signal||(lb=k.isString(lb)?k.splitAccessPath(lb).map(k.stringValue).join("]["):F(lb));return Ma+"["+lb+"]"}function w(na){let Ma="";na.forEach(lb=>{const Jb=t(lb);Ma+=lb.test?`(${lb.test})?${Jb}:`:Jb});":"===k.peek(Ma)&&(Ma+="null");return Ma}function D(na,Ma,lb,Jb,Nb,Lb){const pc=
{};Lb=Lb||{};Lb.encoders={$encode:pc};na=a(na,Ma,lb,Jb,Nb.config);for(const qd in na){lb=na[qd];Jb=Ma;var Oc=Lb,zc=Nb;const Fe={},Cd={};for(const je in lb)if(null!=lb[je]){var wc=G;var od=lb[je];od=k.isArray(od)?w(od):t(od);Fe[je]=wc(od,zc,Oc,Cd)}lb={$expr:{marktype:Jb,channels:Fe},$fields:Object.keys(Cd),$output:Object.keys(lb)};pc[qd]=lb}return Lb}function G(na,Ma,lb,Jb){na=p.parseExpression(na,Ma);na.$fields.forEach(Nb=>Jb[Nb]=1);k.extend(lb,na.$params);return na.$expr}function L(na,Ma){k.error(na+
' for "outer" push: '+k.stringValue(Ma))}function O(na,Ma){const lb=na.name;if("outer"===na.push)Ma.signals[lb]||L("No prior signal definition",lb),Ee.forEach(Jb=>{void 0!==na[Jb]&&L("Invalid property ",Jb)});else{const Jb=Ma.addSignal(lb,na.value);!1===na.react&&(Jb.react=!1);na.bind&&Ma.addBinding(lb,na.bind)}}function V(na,Ma,lb,Jb){this.id=-1;this.type=na;this.value=Ma;this.params=lb;Jb&&(this.parent=Jb)}function S(na){const Ma={$ref:na.id};0>na.id&&(na.refs=na.refs||[]).push(Ma);return Ma}function ca(na,
Ma){return Ma?{$field:na,$name:Ma}:{$field:na}}function ea(na,Ma){na={$key:na};Ma&&(na.$flat=!0);return na}function T(na,Ma){return(na&&na.signal?"$"+na.signal:na||"")+(na&&Ma?"_":"")+(Ma&&Ma.signal?"$"+Ma.signal:Ma||"")}function R(na){return na&&na.signal}function J(na){if(R(na))return!0;if(k.isObject(na))for(const Ma in na)if(J(na[Ma]))return!0;return!1}function r(na,Ma){return null!=na?na:Ma}function C(na){return na&&na.signal||na}function N(na,Ma){return(na.merge?U:na.stream?ja:na.type?ba:k.error("Invalid stream specification: "+
k.stringValue(na)))(na,Ma)}function U(na,Ma){const lb=na.merge.map(Jb=>N(Jb,Ma));na=ia({merge:lb},na,Ma);return Ma.addStream(na).id}function ja(na,Ma){const lb=N(na.stream,Ma);na=ia({stream:lb},na,Ma);return Ma.addStream(na).id}function ba(na,Ma){if("timer"===na.type){var lb=Ma.event("timer",na.throttle);na={between:na.between,filter:na.filter}}else lb=na.source,lb=Ma.event.call(Ma,"scope"===lb?"view":lb||"view",na.type);na=ia({stream:lb},na,Ma);return 1===Object.keys(na).length?lb:Ma.addStream(na).id}
function ia(na,Ma,lb){let Jb=Ma.between;Jb&&(2!==Jb.length&&k.error('Stream "between" parameter must have 2 entries: '+k.stringValue(Ma)),na.between=[N(Jb[0],lb),N(Jb[1],lb)]);Jb=Ma.filter?[].concat(Ma.filter):[];if(Ma.marktype||Ma.markname||Ma.markrole){var Nb=Jb,Lb=Ma.marktype,pc=Ma.markname,Oc=Ma.markrole;Nb.push.call(Nb,"event.item"+(Lb&&"*"!==Lb?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Lb+"'":"")+(Oc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+Oc+"'":"")+(pc?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+
pc+"'":""))}"scope"===Ma.source&&Jb.push("inScope(event.item)");Jb.length&&(na.filter=p.parseExpression("("+Jb.join(")\x26\x26(")+")",lb).$expr);null!=(Jb=Ma.throttle)&&(na.throttle=+Jb);null!=(Jb=Ma.debounce)&&(na.debounce=+Jb);Ma.consume&&(na.consume=!0);return na}function za(na,Ma,lb){const Jb=na.encode,Nb={target:lb};lb=na.events;let Lb=na.update,pc=[];lb||k.error("Signal update missing events specification.");k.isString(lb)&&(lb=A.parseSelector(lb,Ma.isSubscope()?"scope":"view"));lb=k.array(lb).filter(Oc=>
Oc.signal||Oc.scale?(pc.push(Oc),0):1);1<pc.length&&(pc=[Wa(pc)]);lb.length&&pc.push(1<lb.length?{merge:lb}:lb[0]);null!=Jb&&(Lb&&k.error("Signal encode and update are mutually exclusive."),Lb="encode(item(),"+k.stringValue(Jb)+")");Nb.update=k.isString(Lb)?p.parseExpression(Lb,Ma):null!=Lb.expr?p.parseExpression(Lb.expr,Ma):null!=Lb.value?Lb.value:null!=Lb.signal?{$expr:Bf,$params:{$value:Ma.signalRef(Lb.signal)}}:k.error("Invalid signal update specification.");na.force&&(Nb.options={force:!0});
pc.forEach(Oc=>{var zc=Ma.addUpdate,wc=k.extend;Oc={source:Oc.signal?Ma.signalRef(Oc.signal):Oc.scale?Ma.scaleRef(Oc.scale):N(Oc,Ma)};return zc.call(Ma,wc.call(k,Oc,Nb))})}function Wa(na){return{signal:"["+na.map(Ma=>Ma.scale?'scale("'+Ma.scale+'")':Ma.signal)+"]"}}function hb(na,Ma){const lb=Ma.getSignal(na.name);let Jb=na.update;na.init&&(Jb?k.error("Signals can not include both init and update expressions."):(Jb=na.init,lb.initonly=!0));Jb&&(Jb=p.parseExpression(Jb,Ma),lb.update=Jb.$expr,lb.params=
Jb.$params);na.on&&na.on.forEach(Nb=>za(Nb,Ma,lb.id))}function Ja(na,Ma){return k.isObject(na)?na.signal?Ma.signalRef(na.signal):k.error("Unsupported object: "+k.stringValue(na)):na}function qa(na,Ma){return na.signal?Ma.signalRef(na.signal):na.map(lb=>Ja(lb,Ma))}function Da(na){k.error("Can not find data set: "+k.stringValue(na))}function va(na,Ma,lb){if(na)return na.signal?lb.signalRef(na.signal):(k.isArray(na)?sa:na.fields?ma:xa)(na,Ma,lb);null==Ma.domainMin&&null==Ma.domainMax||k.error("No scale domain defined for domainMin/domainMax to override.")}
function sa(na,Ma,lb){return na.map(Jb=>Ja(Jb,lb))}function xa(na,Ma,lb){const Jb=lb.getData(na.data);Jb||Da(na.data);return u.isDiscrete(Ma.type)?Jb.valuesRef(lb,na.field,Ua(na.sort,!1)):u.isQuantile(Ma.type)?Jb.domainRef(lb,na.field):Jb.extentRef(lb,na.field)}function ma(na,Ma,lb){const Jb=na.data,Nb=na.fields.reduce((Lb,pc)=>{if(k.isString(pc))pc={data:Jb,field:pc};else if(k.isArray(pc)||pc.signal){var Oc=pc;pc="_:vega:_"+Qa++;const zc=sc({});k.isArray(Oc)?zc.value={$ingest:Oc}:Oc.signal&&(Oc=
"setdata("+k.stringValue(pc)+","+Oc.signal+")",zc.params.input=lb.signalRef(Oc));lb.addDataPipeline(pc,[zc,vb({})]);pc={data:pc,field:"data"}}Lb.push(pc);return Lb},[]);return(u.isDiscrete(Ma.type)?Ea:u.isQuantile(Ma.type)?ab:ta)(na,lb,Nb)}function Ea(na,Ma,lb){const Jb=Ua(na.sort,!0);na=lb.map(Lb=>{const pc=Ma.getData(Lb.data);pc||Da(Lb.data);return pc.countsRef(Ma,Lb.field,Jb)});const Nb={groupby:ze,pulse:na};Jb&&(na=Jb.op||"count",lb=Jb.field?T(na,Jb.field):"count",Nb.ops=[fb[na]],Nb.fields=[Ma.fieldRef(lb)],
Nb.as=[lb]);na=Ma.add(Ne(Nb));na=Ma.add(sc({pulse:S(na)}));lb=Ma.add(la({field:ze,sort:Ma.sortRef(Jb),pulse:S(na)}));return S(lb)}function Ua(na,Ma){na&&(na.field||na.op?na.field||"count"===na.op?Ma&&na.field&&na.op&&!fb[na.op]&&k.error("Multiple domain scales can not be sorted using "+na.op):k.error("No field provided for sort aggregate op: "+na.op):k.isObject(na)?na.field="key":na={field:"key"});return na}function ab(na,Ma,lb){na=lb.map(Jb=>{const Nb=Ma.getData(Jb.data);Nb||Da(Jb.data);return Nb.domainRef(Ma,
Jb.field)});return S(Ma.add(Uc({values:na})))}function ta(na,Ma,lb){na=lb.map(Jb=>{const Nb=Ma.getData(Jb.data);Nb||Da(Jb.data);return Nb.extentRef(Ma,Jb.field)});return S(Ma.add(Wb({extents:na})))}function Na(na,Ma,lb){const Jb=Ma.config.range;let Nb=na.range;if(Nb.signal)return Ma.signalRef(Nb.signal);if(k.isString(Nb)){if(Jb&&k.hasOwnProperty(Jb,Nb))return na=k.extend({},na,{range:Jb[Nb]}),Na(na,Ma,lb);"width"===Nb?Nb=[0,{signal:"width"}]:"height"===Nb?Nb=u.isDiscrete(na.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:k.error("Unrecognized scale range value: "+k.stringValue(Nb))}else{if(Nb.scheme){lb.scheme=k.isArray(Nb.scheme)?qa(Nb.scheme,Ma):Ja(Nb.scheme,Ma);Nb.extent&&(lb.schemeExtent=qa(Nb.extent,Ma));Nb.count&&(lb.schemeCount=Ja(Nb.count,Ma));return}if(Nb.step){lb.rangeStep=Ja(Nb.step,Ma);return}if(u.isDiscrete(na.type)&&!k.isArray(Nb))return va(Nb,na,Ma);k.isArray(Nb)||k.error("Unsupported range type: "+k.stringValue(Nb))}return Nb.map(Lb=>(k.isArray(Lb)?qa:Ja)(Lb,Ma))}function oa(na,
Ma,lb){return k.isArray(na)?na.map(Jb=>oa(Jb,Ma,lb)):k.isObject(na)?na.signal?lb.signalRef(na.signal):"fit"===Ma?na:k.error("Unsupported parameter object: "+k.stringValue(na)):na}function aa(na){na.type="group";na.interactive=na.interactive||!1;return na}function ka(na,Ma){const lb=(Jb,Nb)=>r(na[Jb],r(Ma[Jb],Nb));lb.isVertical=Jb=>"vertical"===r(na.direction,Ma.direction||(Jb?Ma.symbolDirection:Ma.gradientDirection));lb.gradientLength=()=>r(na.gradientLength,Ma.gradientLength||Ma.gradientWidth);lb.gradientThickness=
()=>r(na.gradientThickness,Ma.gradientThickness||Ma.gradientHeight);lb.entryColumns=()=>r(na.columns,r(Ma.columns,+lb.isVertical(!0)));return lb}function Ia(na,Ma){return(na=Ma&&(Ma.update&&Ma.update[na]||Ma.enter&&Ma.enter[na]))&&na.signal?na:na?na.value:null}function Xa(na,Ma,lb){return`item.anchor === '${"start"}' ? ${na} : item.anchor === '${"end"}' ? ${Ma} : ${lb}`}function Ya(na,Ma){return Ma?na?k.isObject(na)?Object.assign({},na,{offset:Ya(na.offset,Ma)}):{value:na,offset:Ma}:Ma:na}function mb(na,
Ma){Ma?(na.name=Ma.name,na.style=Ma.style||na.style,na.interactive=!!Ma.interactive,na.encode=b(na.encode,Ma,Fb)):na.interactive=!1;return na}function ib(na,Ma,lb,Jb){na=ka(na,lb);lb=na.isVertical();var Nb=na.gradientThickness();const Lb=na.gradientLength();let pc,Oc,zc;lb?(lb=[0,1],Oc=[0,0],zc=Nb,Nb=Lb):(lb=[0,0],Oc=[1,0],zc=Lb);Nb={enter:pc={opacity:ac,x:ac,y:ac,width:Od(zc),height:Od(Nb)},update:k.extend({},pc,{opacity:yc,fill:{gradient:Ma,start:lb,stop:Oc}}),exit:{opacity:ac}};d(Nb,{stroke:na("gradientStrokeColor"),
strokeWidth:na("gradientStrokeWidth")},{opacity:na("gradientOpacity")});return mb({type:"rect",role:"legend-gradient",encode:Nb},Jb)}function Eb(na,Ma,lb,Jb,Nb){na=ka(na,lb);const Lb=na.isVertical();lb=na.gradientThickness();const pc=na.gradientLength();var Oc;let zc,wc,od,qd="";Lb?(Oc="y",wc="y2",zc="x",od="width",qd="1-"):(Oc="x",wc="x2",zc="y",od="height");Ma={opacity:ac,fill:{scale:Ma,field:"value"}};Ma[Oc]={signal:qd+"datum.perc",mult:pc};Ma[zc]=ac;Ma[wc]={signal:qd+"datum.perc2",mult:pc};Ma[od]=
Od(lb);Oc={enter:Ma,update:k.extend({},Ma,{opacity:yc}),exit:{opacity:ac}};d(Oc,{stroke:na("gradientStrokeColor"),strokeWidth:na("gradientStrokeWidth")},{opacity:na("gradientOpacity")});return mb({type:"rect",role:"legend-band",key:"value",from:Nb,encode:Oc},Jb)}function Zb(na,Ma,lb,Jb){const Nb=ka(na,Ma);var Lb=Nb.isVertical();const pc=Od(Nb.gradientThickness()),Oc=Nb.gradientLength();let zc=Nb("labelOverlap"),wc,od,qd,Fe="";const Cd={enter:wc={opacity:ac},update:od={opacity:yc,text:{field:"label"}},
exit:{opacity:ac}};d(Cd,{fill:Nb("labelColor"),fillOpacity:Nb("labelOpacity"),font:Nb("labelFont"),fontSize:Nb("labelFontSize"),fontStyle:Nb("labelFontStyle"),fontWeight:Nb("labelFontWeight"),limit:r(na.labelLimit,Ma.gradientLabelLimit)});Lb?(wc.align={value:"left"},wc.baseline=od.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Lb="y",qd="x",Fe="1-"):(wc.align=od.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},wc.baseline={value:"top"},
Lb="x",qd="y");wc[Lb]=od[Lb]={signal:Fe+"datum.perc",mult:Oc};wc[qd]=od[qd]=pc;pc.offset=r(na.labelOffset,Ma.gradientLabelOffset)||0;zc=zc?{separation:Nb("labelSeparation"),method:zc,order:"datum.index"}:void 0;return mb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Jb,encode:Cd,overlap:zc},lb)}function Gc(na,Ma,lb,Jb,Nb){var Lb=ka(na,Ma);const pc=lb.entries,Oc=!(!pc||!pc.interactive),zc=pc?pc.name:void 0,wc=Lb("clipHeight"),od=Lb("symbolOffset"),qd={data:"value"},Fe=`(${Nb}) ? datum.${"offset"} : datum.${"size"}`,
Cd=wc?Od(wc):{field:"size"},je=`max(1, ${Nb})`;let ve,xd;Cd.mult=.5;var Id={enter:ve={opacity:ac,x:{signal:Fe,mult:.5,offset:od},y:Cd},update:xd={opacity:yc,x:ve.x,y:ve.y},exit:{opacity:ac}};let te=null,ye=null;na.fill||(te=Ma.symbolBaseFillColor,ye=Ma.symbolBaseStrokeColor);d(Id,{fill:Lb("symbolFillColor",te),shape:Lb("symbolType"),size:Lb("symbolSize"),stroke:Lb("symbolStrokeColor",ye),strokeDash:Lb("symbolDash"),strokeDashOffset:Lb("symbolDashOffset"),strokeWidth:Lb("symbolStrokeWidth")},{opacity:Lb("symbolOpacity")});
xb.forEach(vd=>{na[vd]&&(xd[vd]=ve[vd]={scale:na[vd],field:"value"})});Ma=mb({type:"symbol",role:"legend-symbol",key:"value",from:qd,clip:wc?!0:void 0,encode:Id},lb.symbols);Id=Od(od);Id.offset=Lb("labelOffset");Id={enter:ve={opacity:ac,x:{signal:Fe,offset:Id},y:Cd},update:xd={opacity:yc,text:{field:"label"},x:ve.x,y:ve.y},exit:{opacity:ac}};d(Id,{align:Lb("labelAlign"),baseline:Lb("labelBaseline"),fill:Lb("labelColor"),fillOpacity:Lb("labelOpacity"),font:Lb("labelFont"),fontSize:Lb("labelFontSize"),
fontStyle:Lb("labelFontStyle"),fontWeight:Lb("labelFontWeight"),limit:Lb("labelLimit")});lb=mb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:qd,encode:Id},lb.labels);Id={enter:{noBound:{value:!wc},width:ac,height:wc?Od(wc):ac,opacity:ac},exit:{opacity:ac},update:xd={opacity:yc,row:{signal:null},column:{signal:null}}};Lb.isVertical(!0)?(Lb=`ceil(item.mark.items.length / ${je})`,xd.row.signal=`${"datum.index"}%${Lb}`,xd.column.signal=`floor(${"datum.index"} / ${Lb})`,Lb={field:["row",
"datum.index"]}):(xd.row.signal=`floor(${"datum.index"} / ${je})`,xd.column.signal=`${"datum.index"} % ${je}`,Lb={field:"datum.index"});xd.column.signal=`(${Nb})?${xd.column.signal}:${"datum.index"}`;Jb={facet:{data:Jb,name:"value",groupby:"index"}};return aa({role:"scope",from:Jb,encode:b(Id,pc,Fb),marks:[Ma,lb],name:zc,interactive:Oc,sort:Lb})}function xc(na,Ma){na=ka(na,Ma);return{align:na("gridAlign"),columns:na.entryColumns(),center:{row:!0,column:!1},padding:{row:na("rowPadding"),column:na("columnPadding")}}}
function Ic(na,Ma,lb,Jb){Ma=ka(na,Ma);const Nb={enter:{opacity:ac},update:{opacity:yc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:ac}};d(Nb,{orient:Ma("titleOrient"),_anchor:Ma("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Lc},baseline:{signal:Ec},text:na.title,fill:Ma("titleColor"),fillOpacity:Ma("titleOpacity"),font:Ma("titleFont"),fontSize:Ma("titleFontSize"),fontStyle:Ma("titleFontStyle"),fontWeight:Ma("titleFontWeight"),limit:Ma("titleLimit"),lineHeight:Ma("titleLineHeight")},{align:Ma("titleAlign"),baseline:Ma("titleBaseline")});return mb({type:"text",role:"legend-title",style:"guide-title",from:Jb,encode:Nb},lb)}function rc(na,Ma){let lb;k.isObject(na)&&(na.signal?lb=na.signal:na.path?lb="pathShape("+
jd(na.path)+")":na.sphere&&(lb="geoShape("+jd(na.sphere)+', {type: "Sphere"})'));return lb?Ma.signalRef(lb):!!na}function jd(na){return k.isObject(na)&&na.signal?na.signal:k.stringValue(na)}function Bb(na){const Ma=na.role||"";return Ma.indexOf("axis")&&Ma.indexOf("legend")&&Ma.indexOf("title")?"group"===na.type?"scope":Ma||"mark":Ma}function tb(na){return{marktype:na.type,name:na.name||void 0,role:na.role||Bb(na),zindex:+na.zindex||void 0,aria:na.aria,description:na.description}}function dc(na,Ma){return na&&
na.signal?Ma.signalRef(na.signal):!1===na?!1:!0}function Yb(na,Ma){const lb=m.definition(na.type);lb||k.error("Unrecognized transform type: "+k.stringValue(na.type));var Jb=lb.type.toLowerCase();var Nb=hc(lb,na,Ma);Jb=new V(Jb,null,Nb,void 0);na.signal&&Ma.addSignal(na.signal,Ma.proxy(Jb));Jb.metadata=lb.metadata||{};return Jb}function hc(na,Ma,lb){const Jb={},Nb=na.params.length;for(let Lb=0;Lb<Nb;++Lb){const pc=na.params[Lb];Jb[pc.name]=vc(pc,Ma,lb)}return Jb}function vc(na,Ma,lb){const Jb=na.type,
Nb=Ma[na.name];if("index"===Jb)return Dc(na,Ma,lb);if(void 0===Nb)na.required&&k.error("Missing required "+k.stringValue(Ma.type)+" parameter: "+k.stringValue(na.name));else return"param"===Jb?Yc(na,Ma,lb):"projection"===Jb?lb.projectionRef(Ma[na.name]):na.array&&!R(Nb)?Nb.map(Lb=>qc(na,Lb,lb)):qc(na,Nb,lb)}function qc(na,Ma,lb){const Jb=na.type;return R(Ma)?"expr"===Jb?k.error("Expression references can not be signals."):"field"===Jb?lb.fieldRef(Ma):"compare"===Jb?lb.compareRef(Ma):lb.signalRef(Ma.signal):
(na=na.expr||"field"===Jb)&&Ma&&Ma.expr?lb.exprRef(Ma.expr,Ma.as):na&&Ma&&Ma.field?ca(Ma.field,Ma.as):"expr"===Jb?p.parseExpression(Ma,lb):"data"===Jb?S(lb.getData(Ma).values):"field"===Jb?ca(Ma):"compare"===Jb?lb.compareRef(Ma):Ma}function Dc(na,Ma,lb){k.isString(Ma.from)||k.error('Lookup "from" parameter must be a string literal.');return lb.getData(Ma.from).lookupRef(lb,Ma.key)}function Yc(na,Ma,lb){Ma=Ma[na.name];return na.array?(k.isArray(Ma)||k.error("Expected an array of sub-parameters. Instead: "+
k.stringValue(Ma)),Ma.map(Jb=>Hd(na,Jb,lb))):Hd(na,Ma,lb)}function Hd(na,Ma,lb){const Jb=na.params.length;let Nb;for(let Lb=0;Lb<Jb;++Lb){Nb=na.params[Lb];for(const pc in Nb.key)if(Nb.key[pc]!==Ma[pc]){Nb=null;break}if(Nb)break}Nb||k.error("Unsupported parameter: "+k.stringValue(Ma));na=k.extend(hc(Nb,Ma,lb),Nb.key);return S(lb.add(oe(na)))}function Fa(na,Ma,lb){let Jb,Nb,Lb,pc;if(!na)Lb=S(lb.add(sc(null,[{}])));else if(Jb=na.facet)Ma||k.error("Only group marks can be faceted."),null!=Jb.field?Lb=
pc=Ca(Jb,lb):(na.data?pc=S(lb.getData(na.data).aggregate):(Ma=Yb(k.extend({type:"aggregate",groupby:k.array(Jb.groupby)},Jb.aggregate),lb),Ma.params.key=lb.keyRef(Jb.groupby),Ma.params.pulse=Ca(Jb,lb),Lb=pc=S(lb.add(Ma))),Nb=lb.keyRef(Jb.groupby,!0));Lb||(Lb=Ca(na,lb));return{key:Nb,pulse:Lb,parent:pc}}function Ca(na,Ma){return na.$ref?na:na.data&&na.data.$ref?na.data:S(Ma.getData(na.data).output)}function Ha(na,Ma,lb,Jb,Nb){this.scope=na;this.input=Ma;this.output=lb;this.values=Jb;this.aggregate=
Nb;this.index={}}function db(na){return k.isString(na)?na:null}function ob(na,Ma,lb){const Jb=T(lb.op,lb.field);let Nb;if(Ma.ops)for(let Lb=0,pc=Ma.as.length;Lb<pc;++Lb){if(Ma.as[Lb]===Jb)return}else Ma.ops=["count"],Ma.fields=[null],Ma.as=["count"];lb.op&&(Ma.ops.push((Nb=lb.op.signal)?na.signalRef(Nb):lb.op),Ma.fields.push(na.fieldRef(lb.field)),Ma.as.push(Jb))}function Ab(na,Ma,lb,Jb,Nb,Lb,pc){lb=Ma[lb]||(Ma[lb]={});var Oc=k.isObject(Lb)?("descending"===Lb.order?"-":"+")+T(Lb.op,Lb.field):"";let zc=
db(Nb);if(null!=zc){na=Ma.scope;zc+=Oc?"|"+Oc:"";var wc=lb[zc]}wc||(wc=Lb?{field:ze,pulse:Ma.countsRef(na,Nb,Lb)}:{field:na.fieldRef(Nb),pulse:S(Ma.output)},Oc&&(wc.sort=na.sortRef(Lb)),na=na.add(new V(Jb,void 0,wc,void 0)),pc&&(Ma.index[Nb]=na),wc=S(na),null!=zc&&(lb[zc]=wc));return wc}function Ob(na,Ma,lb){var Jb=na.from.facet;const Nb=Jb.name,Lb=Ca(Jb,Ma);let pc;Jb.name||k.error("Facet must have a name: "+k.stringValue(Jb));Jb.data||k.error("Facet must reference a data set: "+k.stringValue(Jb));
Jb.field?pc=Ma.add(Vd({field:Ma.fieldRef(Jb.field),pulse:Lb})):Jb.groupby?pc=Ma.add(hf({key:Ma.keyRef(Jb.groupby),group:S(Ma.proxy(lb.parent)),pulse:Lb})):k.error("Facet must specify groupby or field: "+k.stringValue(Jb));Ma=Ma.fork();lb=Ma.add(sc());Jb=Ma.add(vb({pulse:S(lb)}));Ma.addData(Nb,new Ha(Ma,lb,lb,Jb));Ma.addSignal("parent",null);pc.params.subflow={$subflow:Ma.parse(na).toRuntime()}}function Ub(na,Ma,lb){lb=Ma.add(Vd({pulse:lb.pulse}));Ma=Ma.fork();Ma.add(vb());Ma.addSignal("parent",null);
lb.params.subflow={$subflow:Ma.parse(na).toRuntime()}}function $b(na,Ma,lb){const Jb=na.remove,Nb=na.insert,Lb=na.toggle,pc=na.modify,Oc=na.values,zc=Ma.add(new V("operator",void 0,void 0,void 0));na="if("+na.trigger+',modify("'+lb+'",'+[Nb,Jb,Lb,pc,Oc].map(wc=>null==wc?"null":wc).join(",")+"),0)";Ma=p.parseExpression(na,Ma);zc.update=Ma.$expr;zc.params=Ma.$params}function Jc(na,Ma){var lb=Bb(na),Jb="group"===na.type,Nb=na.from&&na.from.facet;const Lb=na.overlap;let pc=na.layout||"scope"===lb||"frame"===
lb,Oc,zc,wc,od,qd,Fe;const Cd="mark"===lb||pc||Nb,je=Fa(na.from,Jb,Ma);zc=Ma.add(wd({key:je.key||(na.key?ca(na.key):void 0),pulse:je.pulse,clean:!Jb}));const ve=S(zc);zc=wc=Ma.add(sc({pulse:ve}));zc=Ma.add(Gb({markdef:tb(na),interactive:dc(na.interactive,Ma),clip:rc(na.clip,Ma),context:{$context:!0},groups:Ma.lookup(),parent:Ma.signals.parent?Ma.signalRef("parent"):null,index:Ma.markpath(),pulse:S(zc)}));var xd=S(zc);zc=od=Ma.add(Bd(D(na.encode,na.type,lb,na.style,Ma,{mod:!1,pulse:xd})));zc.params.parent=
Ma.encode();na.transform&&na.transform.forEach(te=>{te=Yb(te,Ma);const ye=te.metadata;(ye.generates||ye.changes)&&k.error("Mark transforms should not generate new data.");ye.nomod||(od.params.mod=!0);te.params.pulse=S(zc);Ma.add(zc=te)});na.sort&&(zc=Ma.add(Oa({sort:Ma.compareRef(na.sort),pulse:S(zc)})));lb=S(zc);if(Nb||pc)pc=Ma.add(ic({layout:Ma.objectProperty(na.layout),legends:Ma.legends,mark:xd,pulse:lb})),Fe=S(pc);const Id=Ma.add(Vb({mark:xd,pulse:Fe||lb}));xd=S(Id);Jb&&(Cd&&(Oc=Ma.operators,
Oc.pop(),pc&&Oc.pop()),Ma.pushState(lb,Fe||xd,ve),Nb?Ob(na,Ma,je):Cd?Ub(na,Ma,je):Ma.parse(na),Ma.popState(),Cd&&(pc&&Oc.push(pc),Oc.push(Id)));Lb&&(xd=Wc(Lb,xd,Ma));Jb=Ma.add(qf({pulse:xd}));Nb=Ma.add(vb({pulse:S(Jb)},void 0,Ma.parent()));null!=na.name&&(qd=na.name,Ma.addData(qd,new Ha(Ma,wc,Jb,Nb)),na.on&&na.on.forEach(te=>{(te.insert||te.remove||te.toggle)&&k.error("Marks only support modify triggers.");$b(te,Ma,qd)}))}function Wc(na,Ma,lb){const Jb=na.method,Nb=na.bound,Lb=na.separation;Ma={separation:R(Lb)?
lb.signalRef(Lb.signal):Lb,method:R(Jb)?lb.signalRef(Jb.signal):Jb,pulse:Ma};na.order&&(Ma.sort=lb.compareRef({field:na.order}));Nb&&(na=Nb.tolerance,Ma.boundTolerance=R(na)?lb.signalRef(na.signal):+na,Ma.boundScale=lb.scaleRef(Nb.scale),Ma.boundOrient=Nb.orient);return S(lb.add(ie(Ma)))}function dd(na,Ma){const lb=Ma.config.legend,Jb=na.encode||{},Nb=ka(na,lb),Lb=Jb.legend||{},pc=Lb.name||void 0,Oc=Lb.interactive,zc=Lb.style,wc={};let od=0,qd,Fe;xb.forEach(Id=>na[Id]?(wc[Id]=na[Id],od=od||na[Id]):
0);od||k.error("Missing valid scale for legend.");var Cd=ld(na,Ma.scaleType(od));const je={title:null!=na.title,scales:wc,type:Cd,vgrad:"symbol"!==Cd&&Nb.isVertical()},ve=S(Ma.add(sc(null,[je]))),xd=S(Ma.add(Ff(Fe={type:Cd,scale:Ma.scaleRef(od),count:Ma.objectProperty(Nb("tickCount")),limit:Ma.property(Nb("symbolLimit")),values:Ma.objectProperty(na.values),minstep:Ma.property(na.tickMinStep),formatType:Ma.property(na.formatType),formatSpecifier:Ma.property(na.format)})));"gradient"===Cd?(Cd=[ib(na,
od,lb,Jb.gradient),Zb(na,lb,Jb.labels,xd)],Fe.count=Fe.count||Ma.signalRef(`max(2,2*floor((${C(Nb.gradientLength())})/100))`)):"discrete"===Cd?Cd=[Eb(na,od,lb,Jb.gradient,xd),Zb(na,lb,Jb.labels,xd)]:(qd=xc(na,lb),Cd=[Gc(na,lb,Jb,xd,C(qd.columns))],Fe.size=Nd(na,Ma,Cd[0].marks));Cd=[aa({role:"legend-entry",from:ve,encode:{enter:{x:{value:0},y:{value:0}}},marks:Cd,layout:qd,interactive:Oc})];je.title&&Cd.push(Ic(na,lb,Jb.title,ve));return Jc(aa({role:"legend",from:ve,encode:b(Kd(Nb,na,lb),Lb,Fb),marks:Cd,
aria:Nb("aria"),description:Nb("description"),zindex:Nb("zindex"),name:pc,interactive:Oc,style:zc}),Ma)}function ld(na,Ma){let lb=na.type||"symbol";na.type||1!==rd(na)||!na.fill&&!na.stroke||(lb=u.isContinuous(Ma)?"gradient":u.isDiscretizing(Ma)?"discrete":"symbol");return"gradient"!==lb?lb:u.isDiscretizing(Ma)?"discrete":"gradient"}function rd(na){return xb.reduce((Ma,lb)=>Ma+(na[lb]?1:0),0)}function Kd(na,Ma,lb){const Jb={enter:{},update:{}};d(Jb,{orient:na("orient"),offset:na("offset"),padding:na("padding"),
titlePadding:na("titlePadding"),cornerRadius:na("cornerRadius"),fill:na("fillColor"),stroke:na("strokeColor"),strokeWidth:lb.strokeWidth,strokeDash:lb.strokeDash,x:na("legendX"),y:na("legendY"),format:Ma.format,formatType:Ma.formatType});return Jb}function Nd(na,Ma,lb){const Jb=C(fe("size",na,lb));na=C(fe("strokeWidth",na,lb));(lb=Ia("fontSize",lb[1].encode))||(lb=(lb=Ma.config.style["guide-label"])&&lb.fontSize);lb=C(lb);return p.parseExpression(`max(ceil(sqrt(${Jb})+${na}),${lb})`,Ma)}function fe(na,
Ma,lb){return Ma[na]?`scale("${Ma[na]}",datum)`:Ia(na,lb[0].encode)}function be(na,Ma){na=k.isString(na)?{text:na}:na;const lb=ka(na,Ma.config.title);var Jb=na.encode||{},Nb=Jb.group||{};const Lb=Nb.name||void 0,pc=Nb.interactive,Oc=Nb.style,zc=[],wc=S(Ma.add(sc(null,[{}])));var od=zc.push,qd=na;var Fe=(Fe=na.encode)&&Fe.title||k.extend({name:na.name,interactive:na.interactive,style:na.style},Fe);var Cd={value:0};Cd={enter:{opacity:Cd},update:{opacity:{value:1}},exit:{opacity:Cd}};d(Cd,{text:qd.text,
align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:lb("dx"),dy:lb("dy"),fill:lb("color"),font:lb("font"),fontSize:lb("fontSize"),fontStyle:lb("fontStyle"),fontWeight:lb("fontWeight"),lineHeight:lb("lineHeight")},{align:lb("align"),angle:lb("angle"),baseline:lb("baseline")});qd=mb({type:"text",role:"title-text",style:"group-title",from:wc,encode:Cd},Fe);od.call(zc,qd);na.subtitle&&(od=zc.push,Jb=Jb.subtitle,qd={value:0},
qd={enter:{opacity:qd},update:{opacity:{value:1}},exit:{opacity:qd}},d(qd,{text:na.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:lb("dx"),dy:lb("dy"),fill:lb("subtitleColor"),font:lb("subtitleFont"),fontSize:lb("subtitleFontSize"),fontStyle:lb("subtitleFontStyle"),fontWeight:lb("subtitleFontWeight"),lineHeight:lb("subtitleLineHeight")},{align:lb("align"),angle:lb("angle"),baseline:lb("baseline")}),na=
mb({type:"text",role:"title-subtitle",style:"group-subtitle",from:wc,encode:qd},Jb),od.call(zc,na));na={enter:{},update:{}};d(na,{orient:lb("orient"),anchor:lb("anchor"),align:{signal:Zc},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:lb("limit"),frame:lb("frame"),offset:lb("offset")||0,padding:lb("subtitlePadding")});Nb=b(na,Nb,Fb);return Jc(aa({role:"title",from:wc,encode:Nb,marks:zc,aria:lb("aria"),description:lb("description"),zindex:lb("zindex"),
name:Lb,interactive:pc,style:Oc}),Ma)}function ce(na,Ma){const lb=[];na.transform&&na.transform.forEach(Jb=>{lb.push(Yb(Jb,Ma))});na.on&&na.on.forEach(Jb=>{$b(Jb,Ma,na.name)});Ma.addDataPipeline(na.name,Td(na,Ma,lb))}function Td(na,Ma,lb){const Jb=[];let Nb=null,Lb=!1,pc=!1,Oc,zc,wc,od;na.values?R(na.values)||J(na.format)?(Jb.push(Se(Ma,na)),Jb.push(Nb=af())):Jb.push(Nb=af({$ingest:na.values,$format:na.format})):na.url?J(na.url)||J(na.format)?(Jb.push(Se(Ma,na)),Jb.push(Nb=af())):Jb.push(Nb=af({$request:na.url,
$format:na.format})):na.source&&(Nb=Oc=k.array(na.source).map(qd=>S(Ma.getData(qd).output)),Jb.push(null));na=0;for(zc=lb.length;na<zc;++na)wc=lb[na],od=wc.metadata,Nb||od.source||Jb.push(Nb=af()),Jb.push(wc),od.generates&&(pc=!0),od.modifies&&!pc&&(Lb=!0),od.source?Nb=wc:od.changes&&(Nb=null);Oc&&(zc=Oc.length-1,Jb[0]=cf({derive:Lb,pulse:zc?Oc:Oc[0]}),(Lb||zc)&&Jb.splice(1,0,af()));Nb||Jb.push(af());Jb.push(vb({}));return Jb}function af(na){na=sc({},na);na.metadata={source:!0};return na}function Se(na,
Ma){return Oe({url:Ma.url?na.property(Ma.url):void 0,async:Ma.async?na.property(Ma.async):void 0,values:Ma.values?na.property(Ma.values):void 0,format:na.objectProperty(Ma.format)})}function ue(na,Ma,lb,Jb){let Nb;if(Ma&&k.hasOwnProperty(Ma,na))return Ma[na];if(k.hasOwnProperty(lb,na))return lb[na];if(na.startsWith("title")){switch(na){case "titleColor":Nb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Nb=na[5].toLowerCase()+na.slice(6)}return Jb["guide-title"][Nb]}if(na.startsWith("label")){switch(na){case "labelColor":Nb=
"fill";break;case "labelFont":case "labelFontSize":Nb=na[5].toLowerCase()+na.slice(6)}return Jb["guide-label"][Nb]}return null}function me(na){const Ma={};for(const lb of na)if(lb)for(const Jb in lb)Ma[Jb]=1;return Object.keys(Ma)}function Ga(na,Ma,lb,Jb,Nb){return{signal:'flush(range("'+na+'"), scale("'+na+'", datum.value), '+Ma+","+lb+","+Jb+","+Nb+")"}}function $a(na,Ma,lb,Jb){const Nb=(pc,Oc)=>null!=pc?(lb.update[Oc]=Rb(Od(pc),lb.update[Oc]),!1):c(Oc,Jb)?!1:!0,Lb=Nb(na("titleX"),"x");na=Nb(na("titleY"),
"y");lb.enter.auto=na===Lb?Od(na):Nc(Ma,Od(na),Od(Lb))}function ub(na,Ma,lb){const Jb=k.array(na.signals),Nb=k.array(na.scales);lb||Jb.forEach(Lb=>O(Lb,Ma));k.array(na.projections).forEach(Lb=>{const pc=Ma.config.projection||{},Oc={};for(const zc in Lb)"name"!==zc&&(Oc[zc]=oa(Lb[zc],zc,Ma));for(const zc in pc)null==Oc[zc]&&(Oc[zc]=oa(pc[zc],zc,Ma));Ma.addProjection(Lb.name,Oc)});Nb.forEach(Lb=>{const pc=Lb.type||"linear";u.isValidScaleType(pc)||k.error("Unrecognized scale type: "+k.stringValue(pc));
Ma.addScale(Lb.name,{type:pc,domain:void 0})});k.array(na.data).forEach(Lb=>ce(Lb,Ma));Nb.forEach(Lb=>{const pc=Ma.getScale(Lb.name).params;let Oc;pc.domain=va(Lb.domain,Lb,Ma);null!=Lb.range&&(pc.range=Na(Lb,Ma,pc));if(null!=Lb.interpolate){var zc=Lb.interpolate;pc.interpolate=Ja(zc.type||zc);null!=zc.gamma&&(pc.interpolateGamma=Ja(zc.gamma))}null!=Lb.nice&&(zc=Lb.nice,zc=k.isObject(zc)?{interval:Ja(zc.interval),step:Ja(zc.step)}:Ja(zc),pc.nice=zc);null!=Lb.bins&&(zc=Lb.bins,zc=zc.signal||k.isArray(zc)?
qa(zc,Ma):Ma.objectProperty(zc),pc.bins=zc);for(Oc in Lb)k.hasOwnProperty(pc,Oc)||"name"===Oc||(pc[Oc]=Ja(Lb[Oc],Ma))});(lb||Jb).forEach(Lb=>hb(Lb,Ma));k.array(na.axes).forEach(Lb=>{var pc=Ma.config,Oc=pc.style,zc=pc.axis,wc="band"===Ma.scaleType(Lb.scale)&&pc.axisBand,od=Lb.orient,qd;if(R(od)){const Te=me([pc.axisX,pc.axisY]),gf=me([pc.axisTop,pc.axisBottom,pc.axisLeft,pc.axisRight]);var Fe={};for(qd of Te)Fe[qd]=Nc(od,ue(qd,pc.axisX,zc,Oc),ue(qd,pc.axisY,zc,Oc));var Cd={};for(qd of gf){var je=Cd,
ve=qd,xd=od.signal,Id=ue(qd,pc.axisTop,zc,Oc),te=ue(qd,pc.axisBottom,zc,Oc),ye=ue(qd,pc.axisLeft,zc,Oc),vd=ue(qd,pc.axisRight,zc,Oc);var ef={signal:(null!=ye?`${xd} === '${"left"}' ? (${Qb(ye)}) : `:"")+(null!=te?`${xd} === '${"bottom"}' ? (${Qb(te)}) : `:"")+(null!=vd?`${xd} === '${"right"}' ? (${Qb(vd)}) : `:"")+(null!=Id?`${xd} === '${"top"}' ? (${Qb(Id)}) : `:"")+"(null)"};je[ve]=ef}}else Fe="top"===od||"bottom"===od?pc.axisX:pc.axisY,Cd=pc["axis"+od[0].toUpperCase()+od.slice(1)];var df=Fe||Cd||
wc?k.extend({},zc,Fe,Cd,wc):zc;const vf=Lb.encode||{},Lf=vf.axis||{},Of=Lf.name||void 0,Xg=Lf.interactive,Xd=Lf.style,Ge=ka(Lb,df),og=Ge("tickBand");let wg=Ge("tickOffset"),Zg,Bg;og?og.signal?(Zg={signal:`(${og.signal}) === 'extent' ? 1 : 0.5`},Bg={signal:`(${og.signal}) === 'extent'`},k.isObject(wg)||(wg={signal:`(${og.signal}) === 'extent' ? 0 : ${wg}`})):"extent"===og?(Zg=1,Bg=!0,wg=0):(Zg=.5,Bg=!1):(Zg=Ge("bandPosition"),Bg=Ge("tickExtra"));var Qg=Bg;var sg=Zg;var fg=wg;const zf={scale:Lb.scale,
ticks:!!Ge("ticks"),labels:!!Ge("labels"),grid:!!Ge("grid"),domain:!!Ge("domain"),title:null!=Lb.title},Pf=S(Ma.add(sc({},[zf]))),eg=S(Ma.add(rf({scale:Ma.scaleRef(Lb.scale),extra:Ma.property(Qg),count:Ma.objectProperty(Lb.tickCount),values:Ma.objectProperty(Lb.values),minstep:Ma.property(Lb.tickMinStep),formatType:Ma.property(Lb.formatType),formatSpecifier:Ma.property(Lb.format)}))),Mf=[];let gg;if(zf.grid){var kh=Mf.push,th=vf.grid;const Te=ka(Lb,df),gf=Lb.orient,K=Lb.gridScale,Z=tc(gf,1,-1);a:{var Gg=
Lb.offset,xg=Z;if(1!==xg)if(k.isObject(Gg)){let Rd=Gg=k.extend({},Gg);for(;null!=Rd.mult;)if(k.isObject(Rd.mult))Rd=Rd.mult=k.extend({},Rd.mult);else{Rd.mult=R(xg)?{signal:`(${Rd.mult}) * (${xg.signal})`}:Rd.mult*xg;var zh=Gg;break a}Rd.mult=xg}else Gg=R(xg)?{signal:`(${xg.signal}) * (${Gg||0})`}:xg*(Gg||0);zh=Gg}const wa=zh;let Ta,pb,Db;const Xb={enter:Ta={opacity:ac},update:Db={opacity:yc},exit:pb={opacity:ac}};d(Xb,{stroke:Te("gridColor"),strokeCap:Te("gridCap"),strokeDash:Te("gridDash"),strokeDashOffset:Te("gridDashOffset"),
strokeOpacity:Te("gridOpacity"),strokeWidth:Te("gridWidth")});const Hc={scale:Lb.scale,field:"value",band:sg,extra:Qg,offset:fg,round:Te("tickRound")},Vc=Nc(gf,{signal:"height"},{signal:"width"}),Pc=K?{scale:K,range:0,mult:Z,offset:wa}:{value:0,offset:wa},Dd=K?{scale:K,range:1,mult:Z,offset:wa}:k.extend(Vc,{mult:Z,offset:wa});Ta.x=Db.x=Nc(gf,Hc,Pc);Ta.y=Db.y=mc(gf,Hc,Pc);Ta.x2=Db.x2=mc(gf,Dd);Ta.y2=Db.y2=Nc(gf,Dd);pb.x=Nc(gf,Hc);pb.y=mc(gf,Hc);var bb=mb({type:"rule",role:"axis-grid",key:"value",from:eg,
encode:Xb},th);kh.call(Mf,bb)}if(zf.ticks){gg=Ge("tickSize");var Hb=Mf.push,nc=vf.ticks,td=gg;const Te=ka(Lb,df),gf=Lb.orient,K=tc(gf,-1,1);let Z,wa,Ta;const pb={enter:Z={opacity:ac},update:Ta={opacity:yc},exit:wa={opacity:ac}};d(pb,{stroke:Te("tickColor"),strokeCap:Te("tickCap"),strokeDash:Te("tickDash"),strokeDashOffset:Te("tickDashOffset"),strokeOpacity:Te("tickOpacity"),strokeWidth:Te("tickWidth")});const Db=Od(td);Db.mult=K;const Xb={scale:Lb.scale,field:"value",band:sg,extra:Qg,offset:fg,round:Te("tickRound")};
Ta.y=Z.y=Nc(gf,ac,Xb);Ta.y2=Z.y2=Nc(gf,Db);wa.x=Nc(gf,Xb);Ta.x=Z.x=mc(gf,ac,Xb);Ta.x2=Z.x2=mc(gf,Db);wa.y=mc(gf,Xb);var zd=mb({type:"rule",role:"axis-tick",key:"value",from:eg,encode:pb},nc);Hb.call(Mf,zd)}if(zf.labels){gg=zf.ticks?gg:0;var he=Mf.push,kf=vf.labels,sf=gg;const Te=ka(Lb,df),gf=Lb.orient,K=Lb.scale,Z=tc(gf,-1,1),wa=C(Te("labelFlush")),Ta=C(Te("labelFlushOffset")),pb=Te("labelAlign"),Db=Te("labelBaseline");let Xb=0===wa||!!wa,Hc;const Vc=Od(sf);Vc.mult=Z;Vc.offset=Od(Te("labelPadding")||
0);Vc.offset.mult=Z;const Pc={scale:K,field:"value",band:.5,offset:Ya(fg,Te("labelOffset"))};var Rg=Xb?Ga(K,wa,'"left"','"right"','"center"'):{value:"center"},Rf=gf;var eh=R(Rf)?Ib(`${Rf.signal} === '${"right"}'`,"left","right"):"right"===Rf?{value:"left"}:{value:"right"};const Dd=Nc(gf,Rg,eh),Rd=Nc(gf,Qc(gf,"bottom","top"),Xb?Ga(K,wa,'"top"','"bottom"','"middle"'):{value:"middle"}),Ve=Ga(K,wa,`-(${Ta})`,Ta,0);Xb=Xb&&Ta;const He={opacity:ac,x:Nc(gf,Pc,Vc),y:mc(gf,Pc,Vc)},Jf={enter:He,update:Hc={opacity:yc,
text:{field:"label"},x:He.x,y:He.y,align:Dd,baseline:Rd},exit:{opacity:ac,x:He.x,y:He.y}};d(Jf,{dx:!pb&&Xb?Nc(gf,Ve):null,dy:!Db&&Xb?mc(gf,Ve):null});d(Jf,{angle:Te("labelAngle"),fill:Te("labelColor"),fillOpacity:Te("labelOpacity"),font:Te("labelFont"),fontSize:Te("labelFontSize"),fontWeight:Te("labelFontWeight"),fontStyle:Te("labelFontStyle"),limit:Te("labelLimit"),lineHeight:Te("labelLineHeight")},{align:pb,baseline:Db});const Pd=Te("labelBound");let ge=Te("labelOverlap");ge=ge||Pd?{separation:Te("labelSeparation"),
method:ge,order:"datum.index",bound:Pd?{scale:K,orient:gf,tolerance:Pd}:null}:void 0;Hc.align!==Dd&&(Hc.align=Rb(Hc.align,Dd));Hc.baseline!==Rd&&(Hc.baseline=Rb(Hc.baseline,Rd));var uh=mb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:eg,encode:Jf,overlap:ge},kf);he.call(Mf,uh)}if(zf.domain){var $g=Mf.push,fh=vf.domain;const Te=ka(Lb,df),gf=Lb.orient;let K,Z;const wa={enter:K={opacity:ac},update:Z={opacity:yc},exit:{opacity:ac}};d(wa,{stroke:Te("domainColor"),strokeCap:Te("domainCap"),
strokeDash:Te("domainDash"),strokeDashOffset:Te("domainDashOffset"),strokeWidth:Te("domainWidth"),strokeOpacity:Te("domainOpacity")});const Ta={scale:Lb.scale,range:0},pb={scale:Lb.scale,range:1};K.x=Z.x=Nc(gf,Ta,ac);K.x2=Z.x2=Nc(gf,pb);K.y=Z.y=mc(gf,Ta,ac);K.y2=Z.y2=mc(gf,pb);var mf=mb({type:"rule",role:"axis-domain",from:Pf,encode:wa},fh);$g.call(Mf,mf)}if(zf.title){var ae=Mf.push,gh=vf.title;const Te=ka(Lb,df),gf=Lb.orient,K=tc(gf,-1,1);let Z,wa;const Ta={enter:Z={opacity:ac,anchor:Od(Te("titleAnchor",
null)),align:{signal:Zc}},update:wa=k.extend({},Z,{opacity:yc,text:Od(Lb.title)}),exit:{opacity:ac}},pb={signal:`lerp(range("${Lb.scale}"), ${Xa(0,1,.5)})`};wa.x=Nc(gf,pb);wa.y=mc(gf,pb);var Vh=Z,lh=K;var tg=R(lh)?{signal:`(${lh.signal}) * ${90}`}:{value:90*lh};Vh.angle=Nc(gf,ac,tg);Z.baseline=Nc(gf,Qc(gf,"bottom","top"),{value:"bottom"});wa.angle=Z.angle;wa.baseline=Z.baseline;d(Ta,{fill:Te("titleColor"),fillOpacity:Te("titleOpacity"),font:Te("titleFont"),fontSize:Te("titleFontSize"),fontStyle:Te("titleFontStyle"),
fontWeight:Te("titleFontWeight"),limit:Te("titleLimit"),lineHeight:Te("titleLineHeight")},{align:Te("titleAlign"),angle:Te("titleAngle"),baseline:Te("titleBaseline")});$a(Te,gf,Ta,gh);Ta.update.align=Rb(Ta.update.align,Z.align);Ta.update.angle=Rb(Ta.update.angle,Z.angle);Ta.update.baseline=Rb(Ta.update.baseline,Z.baseline);var Mh=mb({type:"text",role:"axis-title",style:"guide-title",from:Pf,encode:Ta},gh);ae.call(Mf,Mh)}const Th={enter:{},update:{}};d(Th,{orient:Ge("orient"),offset:Ge("offset")||
0,position:r(Lb.position,0),titlePadding:Ge("titlePadding"),minExtent:Ge("minExtent"),maxExtent:Ge("maxExtent"),range:{signal:`abs(span(range("${Lb.scale}")))`},translate:Ge("translate"),format:Lb.format,formatType:Lb.formatType});return Jc(aa({role:"axis",from:Pf,encode:b(Th,Lf,Fb),marks:Mf,aria:Ge("aria"),description:Ge("description"),zindex:Ge("zindex"),name:Of,interactive:Xg,style:Xd}),Ma)});k.array(na.marks).forEach(Lb=>Jc(Lb,Ma));k.array(na.legends).forEach(Lb=>dd(Lb,Ma));na.title&&be(na.title,
Ma);Ma.parseLambdas();return Ma}function Mb(na,Ma){var lb=Ma.config;const Jb=S(Ma.root=Ma.add(new V("operator",void 0,void 0,void 0))),Nb=oc(na,lb);Nb.forEach(Oc=>O(Oc,Ma));Ma.description=na.description||lb.description;Ma.eventConfig=lb.events;Ma.legends=Ma.objectProperty(lb.legend&&lb.legend.layout);Ma.locale=lb.locale;lb=Ma.add(sc());const Lb=Ma.add(Bd(D(b({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},na.encode),"group","frame",na.style,Ma,{pulse:S(lb)}))),
pc=Ma.add(ic({layout:Ma.objectProperty(na.layout),legends:Ma.legends,autosize:Ma.signalRef("autosize"),mark:Jb,pulse:S(Lb)}));Ma.operators.pop();Ma.pushState(S(Lb),S(pc),null);ub(na,Ma,Nb);Ma.operators.push(pc);na=Ma.add(Vb({mark:Jb,pulse:S(pc)}));na=Ma.add(qf({pulse:S(na)}));na=Ma.add(vb({pulse:S(na)}));Ma.addData("root",new Ha(Ma,lb,lb,na));return Ma}function fc(na,Ma){return Ma&&Ma.signal?{name:na,update:Ma.signal}:{name:na,value:Ma}}function oc(na,Ma){const lb=pc=>r(na[pc],Ma[pc]),Jb=[fc("background",
lb("background")),fc("autosize",l(lb("autosize"))),fc("padding",f(lb("padding"))),fc("width",lb("width")||0),fc("height",lb("height")||0)],Nb=Jb.reduce((pc,Oc)=>(pc[Oc.name]=Oc,pc),{}),Lb={};k.array(na.signals).forEach(pc=>{k.hasOwnProperty(Nb,pc.name)?pc=k.extend(Nb[pc.name],pc):Jb.push(pc);Lb[pc.name]=pc});k.array(Ma.signals).forEach(pc=>{k.hasOwnProperty(Lb,pc.name)||k.hasOwnProperty(Nb,pc.name)||Jb.push(pc)});return Jb}function Mc(na,Ma){this.config=na||{};this.options=Ma||{};this.bindings=[];
this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Kc(na){this.config=na.config;this.options=na.options;this.legends=na.legends;this.field=Object.create(na.field);this.signals=Object.create(na.signals);this.lambdas=Object.create(na.lambdas);this.scales=Object.create(na.scales);
this.events=Object.create(na.events);this.data=Object.create(na.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++na._nextsub[0];this._nextsub=na._nextsub;this._parent=na._parent.slice();this._encode=na._encode.slice();this._lookup=na._lookup.slice();this._markpath=na._markpath}function gc(na){return(k.isArray(na)?fd:nd)(na)}function fd(na){const Ma=na.length;let lb="[";for(let Jb=0;Jb<Ma;++Jb){const Nb=na[Jb];lb+=(0<Jb?",":"")+(k.isObject(Nb)?Nb.signal||gc(Nb):k.stringValue(Nb))}return lb+
"]"}function nd(na){let Ma="{",lb=0,Jb,Nb;for(Jb in na)Nb=na[Jb],Ma+=(1<++lb?",":"")+k.stringValue(Jb)+":"+(k.isObject(Nb)?Nb.signal||gc(Nb):k.stringValue(Nb));return Ma+"}"}function Fd(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},
symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},
cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,
rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",
left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Od=na=>k.isObject(na)&&!k.isArray(na)?k.extend({},na):{value:na},Ud=na=>k.isString(na)?k.stringValue(na):na.signal?`(${na.signal})`:E(na),Yd=(na,Ma,lb,Jb)=>`(${na}(${[Ma,
lb,Jb].map(t).join(",")})+'')`,Ee=["value","update","init","react","bind"],ze=ca("key"),Bf={code:"_.$value",ast:{type:"Identifier",value:"value"}},xe=na=>(Ma,lb,Jb)=>new V(na,lb,Ma||void 0,Jb),Ne=xe("aggregate"),rf=xe("axisticks"),Vb=xe("bound"),sc=xe("collect"),cd=xe("compare"),wd=xe("datajoin"),Bd=xe("encode"),pe=xe("expression"),hf=xe("facet"),Vf=xe("field"),yf=xe("key"),Ff=xe("legendentries"),Oe=xe("load"),Gb=xe("mark"),Wb=xe("multiextent"),Uc=xe("multivalues"),ie=xe("overlap"),oe=xe("params"),
Vd=xe("prefacet"),Qd=xe("projection"),se=xe("proxy"),cf=xe("relay"),qf=xe("render"),ua=xe("scale"),vb=xe("sieve"),Oa=xe("sortitems"),ic=xe("viewlayout"),la=xe("values");let Qa=0;const fb={min:"min",max:"max",count:"sum"},xb="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Fb={name:1,style:1,interactive:1},ac={value:0},yc={value:1},Zc=Xa(k.stringValue("left"),k.stringValue("right"),k.stringValue("center")),ad=Xa('"top"','"bottom"','"middle"'),Lc=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Xa('"right"',
'"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Zc}`,Ec=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${ad}) : "top"`;Ha.fromEntries=function(na,Ma){const lb=Ma.length,Jb=Ma[lb-1],Nb=Ma[lb-2];let Lb=Ma[0],pc=null,Oc=1;Lb&&"load"===Lb.type&&(Lb=Ma[1]);for(na.add(Ma[0]);Oc<
lb;++Oc)Ma[Oc].params.pulse=S(Ma[Oc-1]),na.add(Ma[Oc]),"aggregate"===Ma[Oc].type&&(pc=Ma[Oc]);return new Ha(na,Lb,Nb,Jb,pc)};Ha.prototype={countsRef(na,Ma,lb){const Jb=this.counts||(this.counts={}),Nb=db(Ma);if(null!=Nb){na=this.scope;var Lb=Jb[Nb]}Lb?lb&&lb.field&&ob(na,Lb.agg.params,lb):(Lb={groupby:na.fieldRef(Ma,"key"),pulse:S(this.output)},lb&&lb.field&&ob(na,Lb,lb),lb=na.add(Ne(Lb)),Lb=na.add(sc({pulse:S(lb)})),Lb={agg:lb,ref:S(Lb)},null!=Nb&&(Jb[Nb]=Lb));return Lb.ref},tuplesRef(){return S(this.values)},
extentRef(na,Ma){return Ab(na,this,"extent","extent",Ma,!1)},domainRef(na,Ma){return Ab(na,this,"domain","values",Ma,!1)},valuesRef(na,Ma,lb){return Ab(na,this,"vals","values",Ma,lb||!0)},lookupRef(na,Ma){return Ab(na,this,"lookup","tupleindex",Ma,!1)},indataRef(na,Ma){return Ab(na,this,"indata","tupleindex",Ma,!0,!0)}};const tc=(na,Ma,lb)=>{R(na)?(na=na.signal,Ma=Ib(`${na} === '${"left"}' || ${na} === '${"top"}'`,Ma,lb)):Ma="left"===na||"top"===na?Ma:lb;return Ma},Nc=(na,Ma,lb)=>{R(na)?(na=na.signal,
Ma=jb(`${na} === '${"top"}' || ${na} === '${"bottom"}'`,Ma,lb)):Ma="bottom"===na||"top"===na?Ma:lb;return Ma},mc=(na,Ma,lb)=>{R(na)?(na=na.signal,Ma=jb(`${na} !== '${"top"}' && ${na} !== '${"bottom"}'`,Ma,lb)):Ma="bottom"===na||"top"===na?lb:Ma;return Ma},Qc=(na,Ma,lb)=>R(na)?Ib(`${na.signal} === '${"top"}'`,Ma,lb):"top"===na?{value:Ma}:{value:lb},jb=(na,Ma,lb)=>{Ma=null!=Ma?Od(Ma):Ma;lb=null!=lb?Od(lb):lb;if(null!=Ma&&1!==Object.keys(Ma).length||null!=lb&&1!==Object.keys(lb).length)return[k.extend({test:na},
Ma)].concat(lb||[]);Ma=Ma?Ma.signal||k.stringValue(Ma.value):null;lb=lb?lb.signal||k.stringValue(lb.value):null;return{signal:`${na} ? (${Ma}) : (${lb})`}},Ib=(na,Ma,lb)=>({signal:`${na} ? (${Qb(Ma)}) : (${Qb(lb)})`}),Qb=na=>R(na)?na.signal:null==na?null:k.stringValue(na),Rb=(na,Ma)=>{const lb=na.signal;return lb&&lb.endsWith("(null)")?{signal:lb.slice(0,-6)+Ma.signal}:na};Mc.prototype=Kc.prototype={parse(na){return ub(na,this)},fork(){return new Kc(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();
return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(na){this.operators.push(na);na.id=this.id();na.refs&&(na.refs.forEach(Ma=>{Ma.$ref=na.id}),na.refs=null);return na},proxy(na){na=na instanceof V?S(na):na;return this.add(se({value:na}))},addStream(na){this.streams.push(na);na.id=this.id();return na},addUpdate(na){this.updates.push(na);
return na},finish(){function na(Jb,Nb,Lb){Jb&&(Jb=Jb.data||(Jb.data={}),Nb=Jb[Nb]||(Jb[Nb]=[]),Nb.push(Lb))}let Ma,lb;this.root&&(this.root.root=!0);for(Ma in this.signals)this.signals[Ma].signal=Ma;for(Ma in this.scales)this.scales[Ma].scale=Ma;for(Ma in this.data){lb=this.data[Ma];na(lb.input,Ma,"input");na(lb.output,Ma,"output");na(lb.values,Ma,"values");for(const Jb in lb.index)na(lb.index[Jb],Ma,"index:"+Jb)}return this},pushState(na,Ma,lb){this._encode.push(S(this.add(vb({pulse:na}))));this._parent.push(Ma);
this._lookup.push(lb?S(this.proxy(lb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return k.peek(this._parent)},encode(){return k.peek(this._encode)},lookup(){return k.peek(this._lookup)},markpath(){const na=this._markpath;return++na[na.length-1]},fieldRef(na,Ma){if(k.isString(na))return ca(na,Ma);na.signal||k.error("Unsupported field reference: "+k.stringValue(na));na=na.signal;var lb=this.field[na];lb||(lb={name:this.signalRef(na)},
Ma&&(lb.as=Ma),this.field[na]=lb=S(this.add(Vf(lb))));return lb},compareRef(na){let Ma=!1;const lb=Nb=>R(Nb)?(Ma=!0,this.signalRef(Nb.signal)):Nb&&Nb.expr?(Ma=!0,this.exprRef(Nb.expr)):Nb,Jb=k.array(na.field).map(lb);na=k.array(na.order).map(lb);return Ma?S(this.add(cd({fields:Jb,orders:na}))):{$compare:Jb,$order:na}},keyRef(na,Ma){let lb=!1;const Jb=this.signals;na=k.array(na).map(Nb=>R(Nb)?(lb=!0,S(Jb[Nb.signal])):Nb);return lb?S(this.add(yf({fields:na,flat:Ma}))):ea(na,Ma)},sortRef(na){if(!na)return na;
const Ma=T(na.op,na.field);na=na.order||"ascending";return na.signal?S(this.add(cd({fields:Ma,orders:this.signalRef(na.signal)}))):{$compare:Ma,$order:na}},event(na,Ma){const lb=na+":"+Ma;if(!this.events[lb]){const Jb=this.id();this.streams.push({id:Jb,source:na,type:Ma});this.events[lb]=Jb}return this.events[lb]},hasOwnSignal(na){return k.hasOwnProperty(this.signals,na)},addSignal(na,Ma){this.hasOwnSignal(na)&&k.error("Duplicate signal name: "+k.stringValue(na));Ma=Ma instanceof V?Ma:this.add(new V("operator",
Ma,void 0,void 0));return this.signals[na]=Ma},getSignal(na){this.signals[na]||k.error("Unrecognized signal name: "+k.stringValue(na));return this.signals[na]},signalRef(na){if(this.signals[na])return S(this.signals[na]);k.hasOwnProperty(this.lambdas,na)||(this.lambdas[na]=this.add(new V("operator",null,void 0,void 0)));return S(this.lambdas[na])},parseLambdas(){const na=Object.keys(this.lambdas);for(let lb=0,Jb=na.length;lb<Jb;++lb){var Ma=na[lb];const Nb=p.parseExpression(Ma,this);Ma=this.lambdas[Ma];
Ma.params=Nb.$params;Ma.update=Nb.$expr}},property(na){return na&&na.signal?this.signalRef(na.signal):na},objectProperty(na){return na&&k.isObject(na)?this.signalRef(na.signal||gc(na)):na},exprRef(na,Ma){na={expr:p.parseExpression(na,this)};Ma&&(na.expr.$name=Ma);return S(this.add(pe(na)))},addBinding(na,Ma){this.bindings||k.error("Nested signals do not support binding: "+k.stringValue(na));this.bindings.push(k.extend({signal:na},Ma))},addScaleProj(na,Ma){k.hasOwnProperty(this.scales,na)&&k.error("Duplicate scale or projection name: "+
k.stringValue(na));this.scales[na]=this.add(Ma)},addScale(na,Ma){this.addScaleProj(na,ua(Ma))},addProjection(na,Ma){this.addScaleProj(na,Qd(Ma))},getScale(na){this.scales[na]||k.error("Unrecognized scale name: "+k.stringValue(na));return this.scales[na]},scaleRef(na){return S(this.getScale(na))},scaleType(na){return this.getScale(na).params.type},projectionRef(na){return this.scaleRef(na)},projectionType(na){return this.scaleType(na)},addData(na,Ma){k.hasOwnProperty(this.data,na)&&k.error("Duplicate data set name: "+
k.stringValue(na));return this.data[na]=Ma},getData(na){this.data[na]||k.error("Undefined data set name: "+k.stringValue(na));return this.data[na]},addDataPipeline(na,Ma){k.hasOwnProperty(this.data,na)&&k.error("Duplicate data set name: "+k.stringValue(na));return this.addData(na,Ha.fromEntries(this,Ma))}};v.AxisDomainRole="axis-domain";v.AxisGridRole="axis-grid";v.AxisLabelRole="axis-label";v.AxisRole="axis";v.AxisTickRole="axis-tick";v.AxisTitleRole="axis-title";v.DataScope=Ha;v.FrameRole="frame";
v.LegendEntryRole="legend-entry";v.LegendLabelRole="legend-label";v.LegendRole="legend";v.LegendSymbolRole="legend-symbol";v.LegendTitleRole="legend-title";v.MarkRole="mark";v.Scope=Mc;v.ScopeRole="scope";v.config=Fd;v.parse=function(na,Ma,lb){k.isObject(na)||k.error("Input Vega specification must be an object.");Ma=k.mergeConfig(Fd(),Ma,na.config);return Mb(na,new Mc(Ma,lb)).toRuntime()};v.signal=O;v.signalUpdates=hb;v.stream=N;Object.defineProperty(v,"__esModule",{value:!0})})};
shadow$provide[47]=function(ra,z,cb,B){function v(S){if(S&&S.__esModule)return S;var ca=Object.create(null);S&&Object.keys(S).forEach(function(ea){if("default"!==ea){var T=Object.getOwnPropertyDescriptor(S,ea);Object.defineProperty(ca,ea,T.get?T:{enumerable:!0,get:function(){return S[ea]}})}});ca["default"]=S;return Object.freeze(ca)}Object.defineProperty(B,"__esModule",{value:!0});var k=z(14),p=z(23),A=z(25),u=z(29),m=z(30),l=z(32),f=z(33),g=z(34),d=z(35),b=z(36),c=z(37);cb=z(38);ra=z(39);var a=
z(24),e=z(16),t=z(22),y=z(28),q=z(27),E=z(31),F=z(44),w=z(17),D=z(42),G=z(46),L=z(43),O=z(40),V=z(45);z=v(A);u=v(u);m=v(m);l=v(l);f=v(f);g=v(g);d=v(d);b=v(b);c=v(c);cb=v(cb);ra=v(ra);k.extend(p.transforms,z,u,m,l,f,d,g,b,c,cb,ra);Object.defineProperty(B,"Dataflow",{enumerable:!0,get:function(){return p.Dataflow}});Object.defineProperty(B,"EventStream",{enumerable:!0,get:function(){return p.EventStream}});Object.defineProperty(B,"MultiPulse",{enumerable:!0,get:function(){return p.MultiPulse}});Object.defineProperty(B,
"Operator",{enumerable:!0,get:function(){return p.Operator}});Object.defineProperty(B,"Parameters",{enumerable:!0,get:function(){return p.Parameters}});Object.defineProperty(B,"Pulse",{enumerable:!0,get:function(){return p.Pulse}});Object.defineProperty(B,"Transform",{enumerable:!0,get:function(){return p.Transform}});Object.defineProperty(B,"changeset",{enumerable:!0,get:function(){return p.changeset}});Object.defineProperty(B,"definition",{enumerable:!0,get:function(){return p.definition}});Object.defineProperty(B,
"ingest",{enumerable:!0,get:function(){return p.ingest}});Object.defineProperty(B,"isTuple",{enumerable:!0,get:function(){return p.isTuple}});Object.defineProperty(B,"transform",{enumerable:!0,get:function(){return p.transform}});Object.defineProperty(B,"transforms",{enumerable:!0,get:function(){return p.transforms}});Object.defineProperty(B,"tupleid",{enumerable:!0,get:function(){return p.tupleid}});Object.defineProperty(B,"interpolate",{enumerable:!0,get:function(){return q.interpolate}});Object.defineProperty(B,
"interpolateColors",{enumerable:!0,get:function(){return q.interpolateColors}});Object.defineProperty(B,"interpolateRange",{enumerable:!0,get:function(){return q.interpolateRange}});Object.defineProperty(B,"quantizeInterpolator",{enumerable:!0,get:function(){return q.quantizeInterpolator}});Object.defineProperty(B,"scale",{enumerable:!0,get:function(){return q.scale}});Object.defineProperty(B,"scheme",{enumerable:!0,get:function(){return q.scheme}});Object.defineProperty(B,"projection",{enumerable:!0,
get:function(){return E.projection}});Object.defineProperty(B,"View",{enumerable:!0,get:function(){return F.View}});Object.defineProperty(B,"defaultLocale",{enumerable:!0,get:function(){return w.defaultLocale}});Object.defineProperty(B,"formatLocale",{enumerable:!0,get:function(){return w.numberFormatDefaultLocale}});Object.defineProperty(B,"locale",{enumerable:!0,get:function(){return w.locale}});Object.defineProperty(B,"resetDefaultLocale",{enumerable:!0,get:function(){return w.resetDefaultLocale}});
Object.defineProperty(B,"timeFormatLocale",{enumerable:!0,get:function(){return w.timeFormatDefaultLocale}});Object.defineProperty(B,"expressionFunction",{enumerable:!0,get:function(){return D.expressionFunction}});Object.defineProperty(B,"parse",{enumerable:!0,get:function(){return G.parse}});Object.defineProperty(B,"runtimeContext",{enumerable:!0,get:function(){return L.context}});Object.defineProperty(B,"codegenExpression",{enumerable:!0,get:function(){return O.codegenExpression}});Object.defineProperty(B,
"parseExpression",{enumerable:!0,get:function(){return O.parseExpression}});Object.defineProperty(B,"parseSelector",{enumerable:!0,get:function(){return V.parseSelector}});B.version="5.22.1";Object.keys(k).forEach(function(S){"default"===S||B.hasOwnProperty(S)||Object.defineProperty(B,S,{enumerable:!0,get:function(){return k[S]}})});Object.keys(a).forEach(function(S){"default"===S||B.hasOwnProperty(S)||Object.defineProperty(B,S,{enumerable:!0,get:function(){return a[S]}})});Object.keys(e).forEach(function(S){"default"===
S||B.hasOwnProperty(S)||Object.defineProperty(B,S,{enumerable:!0,get:function(){return e[S]}})});Object.keys(t).forEach(function(S){"default"===S||B.hasOwnProperty(S)||Object.defineProperty(B,S,{enumerable:!0,get:function(){return t[S]}})});Object.keys(y).forEach(function(S){"default"===S||B.hasOwnProperty(S)||Object.defineProperty(B,S,{enumerable:!0,get:function(){return y[S]}})})};
shadow$provide[48]=function(ra,z,cb,B){var v=z(21).Buffer;(function(k,p){"object"===typeof B&&"undefined"!==typeof cb?p(B,z(47)):"function"===typeof define&&define.amd?define(["exports","vega"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,p(k.vegaLite={},k.vega))})(this,function(k,p){function A(x,W){if(x.not)A(x.not,W);else if(x.and)for(const n of x.and)A(n,W);else if(x.or)for(const n of x.or)A(n,W);else W(x)}function u(x,W){return x.not?{not:u(x.not,W)}:x.and?{and:x.and.map(n=>u(n,W))}:
x.or?{or:x.or.map(n=>u(n,W))}:W(x)}function m(x){throw Error(x);}function l(x,W){const n={};for(const M of W)p.hasOwnProperty(x,M)&&(n[M]=x[M]);return n}function f(x,W){x=Object.assign({},x);for(const n of W)delete x[n];return x}function g(x){if(p.isNumber(x))return x;x=p.isString(x)?x:Qi(x);if(250>x.length)return x;let W=0;for(let n=0;n<x.length;n++){const M=x.charCodeAt(n);W=(W<<5)-W+M;W&=W}return W}function d(x){return!1===x||null===x}function b(x,W){return x.includes(W)}function c(x,W){let n=
0;for(const M of x.entries()){const [Q,ha]=M;if(W(ha,Q,n++))return!0}return!1}function a(x,W){let n=0;for(const M of x.entries()){const [Q,ha]=M;if(!W(ha,Q,n++))return!1}return!0}function e(x){for(var W=arguments.length,n=Array(1<W?W-1:0),M=1;M<W;M++)n[M-1]=arguments[M];for(const Q of n){W=x;n=null!==Q&&void 0!==Q?Q:{};for(const ha of ne(n))p.writeConfig(W,ha,n[ha],!0)}return x}function t(x,W){const n=[],M={};for(const Q of x)x=W(Q),x in M||(M[x]=1,n.push(Q));return n}function y(x,W){if(x.size!==
W.size)return!1;for(const n of x)if(!W.has(n))return!1;return!0}function q(x,W){for(const n of x)if(W.has(n))return!0;return!1}function E(x){const W=new Set;for(const n of x){const M=p.splitAccessPath(n).map((Q,ha)=>0===ha?Q:"[".concat(Q,"]"));x=M.map((Q,ha)=>M.slice(0,ha+1).join(""));for(const Q of x)W.add(Q)}return W}function F(x,W){return void 0===x||void 0===W?!0:q(E(x),E(W))}function w(x){return 0===ne(x).length}function D(x){return!0===x||!1===x}function G(x){const W=x.replace(/\W/g,"_");return(x.match(/^\d+/)?
"_":"")+W}function L(x,W){return x.not?"!(".concat(L(x.not,W),")"):x.and?"(".concat(x.and.map(n=>L(n,W)).join(") \x26\x26 ("),")"):x.or?"(".concat(x.or.map(n=>L(n,W)).join(") || ("),")"):W(x)}function O(x,W){if(0===W.length)return!0;const n=W.shift();n in x&&O(x[n],W)&&delete x[n];return w(x)}function V(x){return x.charAt(0).toUpperCase()+x.substr(1)}function S(x){let W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const n=p.splitAccessPath(x),M=[];for(let Q=1;Q<=n.length;Q++){const ha=
"[".concat(n.slice(0,Q).map(p.stringValue).join("]["),"]");M.push("".concat(W).concat(ha))}return M.join(" \x26\x26 ")}function ca(x){return"".concat(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum","[").concat(p.stringValue(p.splitAccessPath(x).join(".")),"]")}function ea(x){return x.replace(/(\[|\]|\.|'|")/g,"\\$1")}function T(x){return"".concat(p.splitAccessPath(x).map(ea).join("\\."))}function R(x,W,n){return x.replace(new RegExp(W.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),
n)}function J(x){return"".concat(p.splitAccessPath(x).join("."))}function r(x){return x?p.splitAccessPath(x).length:0}function C(){for(var x=arguments.length,W=Array(x),n=0;n<x;n++)W[n]=arguments[n];for(const M of W)if(void 0!==M)return M}function N(x){const W=++sk;return x?String(x)+W:W}function U(x){return ja(x)?x:"__".concat(x)}function ja(x){return x.startsWith("__")}function ba(x){if(void 0!==x)return(x%360+360)%360}function ia(x){return p.isNumber(x)?!0:!isNaN(x)&&!isNaN(parseFloat(x))}function za(x){switch(x){case "latitude":return"y";
case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function Wa(x){return"color"===x||"fill"===x||"stroke"===x}function hb(x){return Ja(x)!==x}function Ja(x){switch(x){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return x}function qa(x){if(x in ck)switch(x){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";
case "radius2":return"innerRadius"}return x}function Da(x){switch(x){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function va(x){switch(x){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function sa(x){switch(x){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";
case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function xa(x){switch(x){case "x":return"xOffset";case "y":return"yOffset"}}function ma(x){switch(x){case "xOffset":return"x";case "yOffset":return"y"}}function Ea(x){return x in Tk}function Ua(x){return"width"===x?"x":"y"}function ab(x){switch(x){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Rk;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Ri;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function ta(x){switch(x){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function Na(x){return!!x&&!!x.argmin}function oa(x){return!!x&&!!x.argmax}function aa(x){return p.isString(x)&&!!ek[x]}function ka(x){return p.isString(x)&&Ah.has(x)}function Ia(x){p.isBoolean(x)&&(x=Bg(x,void 0));return"bin"+ne(x).map(W=>mb(x[W])?G("_".concat(W,"_").concat(hj(x[W]))):G("_".concat(W,"_").concat(x[W]))).join("")}function Xa(x){return!0===x||p.isObject(x)&&!x.binned}function Ya(x){return"binned"===x||p.isObject(x)&&!0===x.binned}
function mb(x){return null===x||void 0===x?void 0:x.param}function ib(x){switch(x){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Eb(x){return x&&!!x.expr}function Zb(x){const W=ne(x||{}),n={};for(const M of W)n[M]=tb(x[M]);return n}function Gc(x){var W=Object.assign({},x),n=x.anchor;const M=x.frame,Q=x.offset,ha=x.orient,
ya=x.angle,Ba=x.limit;var gb=x.color,sb=x.subtitleColor;const zb=x.subtitleFont,Sb=x.subtitleFontSize,Bc=x.subtitleFontStyle,md=x.subtitleFontWeight,Tc=x.subtitleLineHeight,yd=x.subtitlePadding;W=(delete W.anchor,delete W.frame,delete W.offset,delete W.orient,delete W.angle,delete W.limit,delete W.color,delete W.subtitleColor,delete W.subtitleFont,delete W.subtitleFontSize,delete W.subtitleFontStyle,delete W.subtitleFontWeight,delete W.subtitleLineHeight,delete W.subtitlePadding,W);gb=Object.assign({},
W,gb?{fill:gb}:{});n=Object.assign({},n?{anchor:n}:{},M?{frame:M}:{},Q?{offset:Q}:{},ha?{orient:ha}:{},void 0!==ya?{angle:ya}:{},void 0!==Ba?{limit:Ba}:{});sb=Object.assign({},sb?{subtitleColor:sb}:{},zb?{subtitleFont:zb}:{},Sb?{subtitleFontSize:Sb}:{},Bc?{subtitleFontStyle:Bc}:{},md?{subtitleFontWeight:md}:{},Tc?{subtitleLineHeight:Tc}:{},yd?{subtitlePadding:yd}:{});x=l(x,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:gb,subtitleMarkConfig:x,nonMarkTitleProperties:n,subtitle:sb}}
function xc(x){return p.isString(x)||p.isArray(x)&&p.isString(x[0])}function Ic(x){return x&&!!x.signal}function rc(x){return!!x.step}function jd(x){return p.isArray(x)?!1:"field"in x&&"data"in x}function Bb(x){const W=p.isArray(x.condition)?x.condition.map(dc):dc(x.condition);return Object.assign({},tb(x),{condition:W})}function tb(x){if(Eb(x)){var W=Object.assign({},x);x=x.expr;W=(delete W.expr,W);return Object.assign({},{signal:x},W)}return x}function dc(x){if(Eb(x)){var W=Object.assign({},x);
x=x.expr;W=(delete W.expr,W);return Object.assign({},{signal:x},W)}return x}function Yb(x){if(Eb(x)){var W=Object.assign({},x);x=x.expr;W=(delete W.expr,W);return Object.assign({},{signal:x},W)}return Ic(x)?x:void 0!==x?{value:x}:void 0}function hc(x){return Ic(x)?x.signal:p.stringValue(x.value)}function vc(x){return Ic(x)?x.signal:null==x?null:p.stringValue(x)}function qc(x){var W;return[].concat(x.type,null!==(W=x.style)&&void 0!==W?W:[])}function Dc(x,W,n){let M=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:{};const {vgChannel:Q,ignoreVgConfig:ha}=M;if(Q&&void 0!==W[Q])return W[Q];if(void 0!==W[x])return W[x];if(!ha||Q&&Q!==x)return Yc(x,W,n,M)}function Yc(x,W,n){let {vgChannel:M}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return C(M?Hd(x,W,n.style):void 0,Hd(x,W,n.style),M?n[W.type][M]:void 0,n[W.type][x],M?n.mark[M]:n.mark[x])}function Hd(x,W,n){return Fa(x,qc(W),n)}function Fa(x,W,n){W=p.array(W);let M;for(const Q of W)(W=n[Q])&&void 0!==W[x]&&(M=W[x]);return M}function Ca(x,
W){return p.array(x).reduce((n,M)=>{var Q;n.field.push(vd(M,W));n.order.push(null!==(Q=M.sort)&&void 0!==Q?Q:"ascending");return n},{field:[],order:[]})}function Ha(x,W){const n=[...x];W.forEach(M=>{for(const Q of n)if(oh(Q,M))return;n.push(M)});return n}function db(x,W){return oh(x,W)||!W?x:x?[...p.array(x),...p.array(W)].join(", "):W}function ob(x,W){const n=x.value;W=W.value;if(null==n||null===W)return{explicit:x.explicit,value:null};if((xc(n)||Ic(n))&&(xc(W)||Ic(W)))return{explicit:x.explicit,
value:db(n,W)};if(xc(n)||Ic(n))return{explicit:x.explicit,value:n};if(xc(W)||Ic(W))return{explicit:x.explicit,value:W};if(!(xc(n)||Ic(n)||xc(W)||Ic(W)))return{explicit:x.explicit,value:Ha(n,W)};throw Error("It should never reach here");}function Ab(x,W,n){W in x?Object.defineProperty(x,W,{value:n,enumerable:!0,configurable:!0,writable:!0}):x[W]=n;return x}function Ob(x,W,n){W=Ub(x,W,"set");if(W.set)W.set.call(x,n);else{if(!W.writable)throw new TypeError("attempted to set read only private field");
W.value=n}return n}function Ub(x,W,n){if(!W.has(x))throw new TypeError("attempted to "+n+" private field on non-instance");return W.get(x)}function $b(x){return"Invalid specification ".concat(Lg(x),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}function Jc(x){return"".concat("width"==x?"Width":"Height",' "container" only works for single views and layered views.')}function Wc(x){const W="width"==
x?"x":"y";return"".concat("width"==x?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(W,'".')}function dd(x){return x?'Dropping "fit-'.concat(x,'" because spec has discrete ').concat(va(x),"."):'Dropping "fit" because spec has discrete size.'}function ld(x){return"Unknown field for ".concat(x,". Cannot calculate view size.")}function rd(x){return'Cannot project a selection on encoding channel "'.concat(x,'", which has no field.')}function Kd(x,W){return'Cannot project a selection on encoding channel "'.concat(x,
'" as it uses an aggregate function ("').concat(W,'").')}function Nd(x){return"Selection not supported for ".concat(x," yet.")}function fe(x){return'The "columns" property cannot be used when "'.concat(x,'" has nested row/column.')}function be(x,W,n){return'An ancestor parsed field "'.concat(x,'" as ').concat(n," but a child wants to parse the field as ").concat(W,".")}function ce(x){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(x," are dropped.")}
function Td(x){return"".concat(x,"Offset dropped because ").concat(x," is continuous")}function af(x){return"There is no ".concat(x," encoding. Replacing ").concat(x,"Offset encoding as ").concat(x,".")}function Se(x,W){const {fill:n,stroke:M}=W;return"Dropping color ".concat(x," as the plot also has ").concat(n&&M?"fill and stroke":n?"fill":"stroke",".")}function ue(x,W){return"Dropping ".concat(Lg(x),' from channel "').concat(W,'" since it does not contain any data field, datum, value, or signal.')}
function me(x,W,n){return"".concat(x,' dropped as it is incompatible with "').concat(W,'"').concat(n?" when ".concat(n):"",".")}function Ga(x){return"".concat(x,"-encoding is dropped as ").concat(x," is not a valid encoding channel.")}function $a(x,W){return'Using discrete channel "'.concat(x,'" to encode "').concat(W,'" field can be misleading as it does not encode ').concat("ordinal"===W?"order":"magnitude",".")}function ub(x,W,n){return"".concat(n,"-scale's \"").concat(W,'" is dropped as it does not work with ').concat(x,
" scale.")}function Mb(x){return'The step for "'.concat(x,'" is dropped because the ').concat("width"===x?"x":"y"," is continuous.")}function fc(x){return'Cannot stack "'.concat(x,'" if there is already "').concat(x,'2".')}function oc(x,W){return"Invalid ".concat(x,": ").concat(Lg(W),".")}function Mc(x){return"1D error band does not support ".concat(x,".")}function Kc(x){return"Channel ".concat(x,' is required for "binned" bin.')}function gc(){mj.warn(...arguments)}function fd(){mj.debug(...arguments)}
function nd(x){if(x&&p.isObject(x))for(const W of Oj)if(W in x)return!0;return!1}function Fd(x){ia(x)&&(x=+x);if(p.isNumber(x))return x-1;var W=x.toLowerCase();const n=jh.indexOf(W);if(-1!==n)return n;W=W.substr(0,3);W=bi.indexOf(W);if(-1!==W)return W;throw Error(oc("month",x));}function Od(x){ia(x)&&(x=+x);if(p.isNumber(x))return x%7;var W=x.toLowerCase();const n=Rh.indexOf(W);if(-1!==n)return n;W=W.substr(0,3);W=vk.indexOf(W);if(-1!==W)return W;throw Error(oc("day",x));}function Ud(x,W){const n=
[];W&&void 0!==x.day&&1<ne(x).length&&(gc("Dropping day from datetime ".concat(Lg(x)," as day cannot be combined with other units.")),x=uf(x),delete x.day);void 0!==x.year?n.push(x.year):n.push(2012);if(void 0!==x.month){var M=W?Fd(x.month):x.month;n.push(M)}else if(void 0!==x.quarter){if(W)if(M=x.quarter,ia(M)&&(M=+M),p.isNumber(M))4<M&&gc(oc("quarter",M)),--M;else throw Error(oc("quarter",M));else M=x.quarter;n.push(p.isNumber(M)?3*M:"".concat(M,"*3"))}else n.push(0);void 0!==x.date?n.push(x.date):
void 0!==x.day?(W=W?Od(x.day):x.day,n.push(p.isNumber(W)?W+1:"".concat(W,"+1"))):n.push(1);for(const Q of["hours","minutes","seconds","milliseconds"])W=x[Q],n.push("undefined"===typeof W?0:W);return n}function Yd(x){const W=Ud(x,!0).join(", ");return x.utc?"utc(".concat(W,")"):"datetime(".concat(W,")")}function Ee(x){const W=Ud(x,!0);return x.utc?+new Date(Date.UTC(...W)):+new Date(...W)}function ze(x){return Oj.filter(W=>Bf(x,W))}function Bf(x,W){const n=x.indexOf(W);return 0>n||0<n&&"seconds"===
W&&"i"===x.charAt(n-1)||x.length>n+3&&"day"===W&&"o"===x.charAt(n+3)||0<n&&"year"===W&&"f"===x.charAt(n-1)?!1:!0}function xe(x,W){var {end:n}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{end:!1};const M=S(W),Q=x.startsWith("utc")?"utc":"";const ha={};for(const Ba of Oj)if(Bf(x,Ba)){var ya=Ba;ya="quarter"===ya?"(".concat(Q,"quarter(").concat(M,")-1)"):"".concat(Q).concat(ya,"(").concat(M,")");ha[Ba]=ya;ya=Ba}n&&(ha[ya]+="+1");n=Ud(ha,!1).join(", ");return ha.utc?"utc(".concat(n,")"):"datetime(".concat(n,
")")}function Ne(x){if(x)return x=ze(x),"timeUnitSpecifier(".concat(Lg(x),", ").concat(Lg(xl),")")}function rf(x){if(x){var W;p.isString(x)?W={unit:x}:p.isObject(x)&&(W=Object.assign({},x,x.unit?{unit:x.unit}:{}));W.unit.startsWith("utc")&&(W.utc=!0,W.unit=W.unit.substr(3));return W}}function Vb(x){var W=rf(x);x=Object.assign({},W);W=W.utc;const n=(delete x.utc,x);return n.unit?(W?"utc":"")+ne(n).map(M=>G("".concat("unit"===M?"":"_".concat(M,"_")).concat(n[M]))).join(""):(W?"utc":"")+"timeunit"+ne(n).map(M=>
G("_".concat(M,"_").concat(n[M]))).join("")}function sc(x){return x&&!!x.field&&void 0!==x.equal}function cd(x){return x&&!!x.field&&void 0!==x.lt}function wd(x){return x&&!!x.field&&void 0!==x.lte}function Bd(x){return x&&!!x.field&&void 0!==x.gt}function pe(x){return x&&!!x.field&&void 0!==x.gte}function hf(x){return null!==x&&void 0!==x&&x.field&&(p.isArray(x.range)&&2===x.range.length||Ic(x.range))?!0:!1}function Vf(x){return x&&!!x.field&&(p.isArray(x.oneOf)||p.isArray(x.in))}function yf(x){return Vf(x)||
sc(x)||hf(x)||cd(x)||Bd(x)||wd(x)||pe(x)}function Ff(x,W){return fg(x,{timeUnit:W,wrapTime:!0})}function Oe(x,W){return x.map(n=>Ff(n,W))}function Gb(x){var W,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:M}=x;const Q=null===(W=rf(x.timeUnit))||void 0===W?void 0:W.unit;W=Q?"time(".concat(xe(Q,M),")"):vd(x,{expr:"datum"});if(sc(x))return"".concat(W,"\x3d\x3d\x3d").concat(Ff(x.equal,Q));if(cd(x))return n=x.lt,"".concat(W,"\x3c").concat(Ff(n,Q));if(Bd(x))return n=x.gt,"".concat(W,
"\x3e").concat(Ff(n,Q));if(wd(x))return n=x.lte,"".concat(W,"\x3c\x3d").concat(Ff(n,Q));if(pe(x))return n=x.gte,"".concat(W,"\x3e\x3d").concat(Ff(n,Q));if(Vf(x))return"indexof([".concat(Oe(x.oneOf,Q).join(","),"], ").concat(W,") !\x3d\x3d -1");if(x&&x.field&&void 0!==x.valid)return Wb(W,x.valid);if(hf(x)){var {range:ha}=x;M=Ic(ha)?{signal:"".concat(ha.signal,"[0]")}:ha[0];ha=Ic(ha)?{signal:"".concat(ha.signal,"[1]")}:ha[1];if(null!==M&&null!==ha&&n)return"inrange("+W+", ["+Ff(M,Q)+", "+Ff(ha,Q)+"])";
n=[];null!==M&&n.push("".concat(W," \x3e\x3d ").concat(Ff(M,Q)));null!==ha&&n.push("".concat(W," \x3c\x3d ").concat(Ff(ha,Q)));return 0<n.length?n.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(Lg(x)));}function Wb(x){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?"isValid(".concat(x,") \x26\x26 isFinite(+").concat(x,")"):"!isValid(".concat(x,") || !isFinite(+").concat(x,")")}function Uc(x){if(yf(x)&&x.timeUnit){var W;return Object.assign({},x,{timeUnit:null===
(W=rf(x.timeUnit))||void 0===W?void 0:W.unit})}return x}function ie(x){return"quantitative"===x||"temporal"===x}function oe(x){return"ordinal"===x||"nominal"===x}function Vd(x){if(x)switch(x=x.toLowerCase(),x){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Qd(x){return yl.has(x)}function se(x){return il.has(x)}function cf(x){return null===
x||void 0===x?void 0:x.param}function qf(x,W){switch(W){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(x);case "bins":return!["point","band","identity","ordinal"].includes(x);case "round":return gi.has(x)||"band"===x||"point"===x;case "padding":case "rangeMin":case "rangeMax":return gi.has(x)||["point","band"].includes(x);case "paddingOuter":case "align":return["point","band"].includes(x);case "paddingInner":return"band"===
x;case "domainMax":case "domainMid":case "domainMin":case "clamp":return gi.has(x);case "nice":return gi.has(x)||"quantize"===x||"threshold"===x;case "exponent":return"pow"===x;case "base":return"log"===x;case "constant":return"symlog"===x;case "zero":return se(x)&&!b(["log","time","utc","threshold","quantile"],x)}}function ua(x,W){switch(W){case "interpolate":case "scheme":case "domainMid":if(!Wa(x))return'Cannot use the scale property "'.concat(x,'" with non-color channel.')}}function vb(x,W){let n=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!xi[x])return!1;switch(x){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return gi.has(W)||"band"===W?!0:"point"===W?!n:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return gi.has(W)||zj.has(W)||b(["band","point","ordinal"],W);case "color":case "fill":case "stroke":return"band"!==W;case "strokeDash":case "shape":return"ordinal"===W||zj.has(W)}}function Oa(x){return["line",
"area","trail"].includes(x)}function ic(x){return x.type}function la(x){return x&&void 0!=x.band}function Qa(x){const {channel:W,channelDef:n,markDef:M,scale:Q,config:ha}=x;x=ac(x);if(wc(n)&&!ka(n.aggregate)&&Q&&gi.has(Q.get("type"))){{let {fieldDef:Ba,channel:gb,markDef:sb,ref:zb,config:Sb}={fieldDef:n,channel:W,markDef:M,ref:x,config:ha};if(Oa(sb.type))x=zb;else if(null===Dc("invalid",sb,Sb)){var ya=gb;x=fb(Ba,!0);ya="y"===Ja(ya)?{field:{group:"height"}}:{value:0};x=[Object.assign({},{test:x},ya),
zb]}else x=zb}return x}return x}function fb(x){let W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Wb(p.isString(x)?x:vd(x,{expr:"datum"}),!W)}function xb(x,W,n,M){const Q={};W&&(Q.scale=W);od(x)?({datum:x}=x,nd(x)?Q.signal=Yd(x):Ic(x)?Q.signal=x.signal:Eb(x)?Q.signal=x.expr:Q.value=x):Q.field=vd(x,n);if(M){const {offset:ha,band:ya}=M;ha&&(Q.offset=ha);ya&&(Q.band=ya)}return Q}function Fb(x){let {scaleName:W,fieldOrDatumDef:n,fieldOrDatumDef2:M,offset:Q,startSuffix:ha,bandPosition:ya=
.5}=x;var Ba=0<ya&&1>ya?"datum":void 0;x=vd(n,{expr:Ba,suffix:ha});const gb=void 0!==M?vd(M,{expr:Ba}):vd(n,{suffix:"end",expr:Ba});Ba={};0===ya||1===ya?(Ba.scale=W,Ba.field=0===ya?x:gb):(x=Ic(ya)?"".concat(ya.signal," * ").concat(x," + (1-").concat(ya.signal,") * ").concat(gb):"".concat(ya," * ").concat(x," + ").concat(1-ya," * ").concat(gb),Ba.signal='scale("'.concat(W,'", ').concat(x,")"));Q&&(Ba.offset=Q);return Ba}function ac(x){let {channel:W,channelDef:n,channel2Def:M,markDef:Q,config:ha,scaleName:ya,
scale:Ba,stack:gb,offset:sb,defaultRef:zb,bandPosition:Sb}=x;if(n){if(Cd(n)){var Bc,md;x=null===Ba||void 0===Ba?void 0:Ba.get("type");if(je(n)){var Tc;null!==(Tc=Sb)&&void 0!==Tc?Tc:Sb=Jb({fieldDef:n,fieldDef2:M,markDef:Q,config:ha});const {bin:yd,timeUnit:Jd,type:de}=n;if(Xa(yd)||Sb&&Jd&&"temporal"===de)return null!==gb&&void 0!==gb&&gb.impute?xb(n,ya,{binSuffix:"mid"},{offset:sb}):Sb&&!Qd(x)?Fb({scaleName:ya,fieldOrDatumDef:n,bandPosition:Sb,offset:sb}):xb(n,ya,Pf(n,W)?{binSuffix:"range"}:{},{offset:sb});
if(Ya(yd)){if(wc(M))return Fb({scaleName:ya,fieldOrDatumDef:n,fieldOrDatumDef2:M,bandPosition:Sb,offset:sb});gc(Kc("x"===W?"x2":"y2"))}}return xb(n,ya,Qd(x)?{binSuffix:"range"}:{},{offset:sb,band:"band"===x?null!==(Bc=null!==(md=Sb)&&void 0!==md?md:n.bandPosition)&&void 0!==Bc?Bc:.5:void 0})}if(ve(n))return Bc=sb?{offset:sb}:{},Object.assign({},yc(W,n.value),Bc)}p.isFunction(zb)&&(zb=zb());return zb?Object.assign({},zb,sb?{offset:sb}:{}):zb}function yc(x,W){return b(["x","x2"],x)&&"width"===W?{field:{group:"width"}}:
b(["y","y2"],x)&&"height"===W?{field:{group:"height"}}:Yb(W)}function Zc(x){return x&&"number"!==x&&"time"!==x}function ad(x,W,n){return"".concat(x,"(").concat(W).concat(n?", ".concat(Lg(n)):"",")")}function Lc(x){let {fieldOrDatumDef:W,format:n,formatType:M,expr:Q,normalizeStack:ha,config:ya}=x;if(Zc(M))return tc({fieldOrDatumDef:W,format:n,formatType:M,expr:Q,config:ya});x=Ec(W,Q,ha);if(sg(W)){var Ba,gb;var sb=wc(W)?null===(Ba=rf(W.timeUnit))||void 0===Ba?void 0:Ba.unit:void 0,zb=n,Sb=ya.timeFormat;
Ba=xd(W)&&(null===(gb=W.scale)||void 0===gb?void 0:gb.type)===ji.UTC;!sb||zb?(zb=p.isString(zb)?zb:Sb,x="".concat(Ba?"utc":"time","Format(").concat(x,", '").concat(zb,"')")):sb?(gb=Ne(sb),sb=Ba||sb.startsWith("utc"),x="".concat(sb?"utc":"time","Format(").concat(x,", ").concat(gb,")")):x=void 0;return x?{signal:x}:void 0}n=Qc(W&&W.type,n,ya);return wc(W)&&Xa(W.bin)?(gb=vd(W,{expr:Q,binSuffix:"end"}),{signal:Qb(x,gb,n,M,ya)}):n||"quantitative"===(W&&W.type)?{signal:"".concat(jb(x,n))}:{signal:"isValid(".concat(x,
") ? ").concat(x,' : ""+').concat(x)}}function Ec(x,W,n){if(wc(x))return n?"".concat(vd(x,{expr:W,suffix:"end"}),"-").concat(vd(x,{expr:W,suffix:"start"})):vd(x,{expr:W});({datum:x}=x);x=nd(x)?Yd(x):"".concat(Lg(x));return x}function tc(x){var W;let {fieldOrDatumDef:n,format:M,formatType:Q,expr:ha,normalizeStack:ya,config:Ba,field:gb}=x;null!==(W=gb)&&void 0!==W?W:gb=Ec(n,ha,ya);return wc(n)&&Xa(n.bin)?(x=vd(n,{expr:ha,binSuffix:"end"}),{signal:Qb(gb,x,M,Q,Ba)}):{signal:ad(Q,gb,M)}}function Nc(x,
W,n,M,Q,ha){if(!Zc(M)){if(sg(x)){var ya;x=wc(x)?null===(ya=rf(x.timeUnit))||void 0===ya?void 0:ya.unit:void 0;n=n?n:x?{signal:Ne(x)}:ha?void 0:Q.timeFormat;return n}return Qc(W,n,Q)}}function mc(x,W,n){if(x&&(Ic(x)||"number"===x||"time"===x))return x;if(sg(W)&&"time"!==n&&"utc"!==n)return"time"}function Qc(x,W,n){if(p.isString(W))return W;if("quantitative"===x)return n.numberFormat}function jb(x,W){return"format(".concat(x,', "').concat(W||"",'")')}function Ib(x,W,n,M){var Q;return Zc(n)?ad(n,x,W):
jb(x,null!==(Q=p.isString(W)?W:void 0)&&void 0!==Q?Q:M.numberFormat)}function Qb(x,W,n,M,Q){const ha=Ib(x,n,M,Q);W=Ib(W,n,M,Q);return"".concat(Wb(x,!1),' ? "null" : ').concat(ha,' + "').concat("  ",'" + ').concat(W)}function Rb(x){return!!x&&("count"===x.op||!!x.field)}function na(x){return!!x&&p.isArray(x)}function Ma(x){return"row"in x||"column"in x}function lb(x){const {field:W,timeUnit:n,bin:M,aggregate:Q}=x;return Object.assign({},n?{timeUnit:n}:{},M?{bin:M}:{},Q?{aggregate:Q}:{},{field:W})}
function Jb(x){let {fieldDef:W,fieldDef2:n,markDef:M,config:Q}=x;if(Cd(W)&&void 0!==W.bandPosition)return W.bandPosition;if(wc(W)){const {timeUnit:ha,bin:ya}=W;if(ha&&!n)return["rect","bar","image","arc"].includes(M.type)?0:Yc("timeUnitBandPosition",M,Q);if(Xa(ya))return.5}}function Nb(x){let {channel:W,fieldDef:n,fieldDef2:M,markDef:Q,config:ha,scaleType:ya,useVlSizeChannel:Ba}=x;x=va(W);x=Dc(Ba?"size":x,Q,ha,{vgChannel:x});if(void 0!==x)return x;if(wc(n)){const {timeUnit:Sb,bin:Bc}=n;if(Sb&&!M)return{band:Yc("timeUnitBandSize",
Q,ha)};if(Xa(Bc)&&!Qd(ya))return{band:1}}if(["rect","bar","image","arc"].includes(Q.type)){var gb;if(ya){if(Qd(ya)){var sb;return(null===(sb=ha[Q.type])||void 0===sb?void 0:sb.discreteBandSize)||{band:1}}var zb;return null===(zb=ha[Q.type])||void 0===zb?void 0:zb.continuousBandSize}return null===(gb=ha[Q.type])||void 0===gb?void 0:gb.discreteBandSize}}function Lb(x,W,n,M){return Xa(x.bin)||x.timeUnit&&je(x)&&"temporal"===x.type?void 0!==Jb({fieldDef:x,fieldDef2:W,markDef:n,config:M}):!1}function pc(x){return x&&
"condition"in x}function Oc(x){x=x&&x.condition;return!!x&&!p.isArray(x)&&wc(x)}function zc(x){x=x&&x.condition;return!!x&&!p.isArray(x)&&Cd(x)}function wc(x){return x&&(!!x.field||"count"===x.aggregate)}function od(x){return x&&"datum"in x}function qd(x){return je(x)&&!ef(x)||Fe(x)}function Fe(x){return od(x)&&p.isNumber(x.datum)}function Cd(x){return wc(x)||od(x)}function je(x){return x&&("field"in x||"count"===x.aggregate)&&"type"in x}function ve(x){return x&&"value"in x&&"value"in x}function xd(x){return x&&
("scale"in x||"sort"in x)}function Id(x){return x&&("axis"in x||"stack"in x||"impute"in x)}function te(x){return x&&("format"in x||"formatType"in x)}function ye(x){return f(x,["legend","axis","header","scale"])}function vd(x){let W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=x.field;const M=W.prefix;let Q=W.suffix,ha="";if("count"===x.aggregate)n=U("count");else{let sb;if(!W.nofn)if("op"in x)sb=x.op;else{const {bin:zb,aggregate:Sb,timeUnit:Bc}=x;if(Xa(zb)){var ya,Ba;sb=Ia(zb);Q=(null!==
(ya=W.binSuffix)&&void 0!==ya?ya:"")+(null!==(Ba=W.suffix)&&void 0!==Ba?Ba:"")}else if(Sb)oa(Sb)?(ha='["'.concat(n,'"]'),n="argmax_".concat(Sb.argmax)):Na(Sb)?(ha='["'.concat(n,'"]'),n="argmin_".concat(Sb.argmin)):sb=String(Sb);else if(Bc){var gb;sb=Vb(Bc);Q=(!["range","mid"].includes(W.binSuffix)&&W.binSuffix||"")+(null!==(gb=W.suffix)&&void 0!==gb?gb:"")}}sb&&(n=n?"".concat(sb,"_").concat(n):sb)}Q&&(n="".concat(n,"_").concat(Q));M&&(n="".concat(M,"_").concat(n));return W.forAs?J(n):W.expr?ca(n,
W.expr)+ha:T(n)+ha}function ef(x){switch(x.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return wc(x)&&!!x.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(x.type,'".'));}function df(x,W){const {field:n,bin:M,timeUnit:Q,aggregate:ha}=x;if("count"===ha)return W.countTitle;if(Xa(M))return"".concat(n," (binned)");if(Q){var ya;if(x=null===(ya=rf(Q))||void 0===ya?void 0:ya.unit)return"".concat(n," (").concat(ze(x).join("-"),")")}else if(ha)return oa(ha)?
"".concat(n," for max ").concat(ha.argmax):Na(ha)?"".concat(n," for min ").concat(ha.argmin):"".concat(V(ha)," of ").concat(n);return n}function vf(x,W,n){var M;let {allowDisabling:Q,includeDefault:ha=!0}=n;n=null===(M=Lf(x))||void 0===M?void 0:M.title;if(!wc(x))return null!==n&&void 0!==n?n:x.title;W=ha?Ai(x,W):void 0;if(Q)return C(n,x.title,W);var ya;return null!==(ya=null!==n&&void 0!==n?n:x.title)&&void 0!==ya?ya:W}function Lf(x){if(Id(x)&&x.axis)return x.axis;if(x&&"legend"in x&&x.legend)return x.legend;
if(x&&"header"in x&&x.header)return x.header}function Of(x){if(te(x)){const {format:Q,formatType:ha}=x;return{format:Q,formatType:ha}}var W;x=null!==(W=Lf(x))&&void 0!==W?W:{};const {format:n,formatType:M}=x;return{format:n,formatType:M}}function Xg(x,W){var n;switch(W){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in x&&p.isArray(x.sort))return"ordinal";const {aggregate:M,
bin:Q,timeUnit:ha}=x;if(ha)return"temporal";if(Q||M&&!oa(M)&&!Na(M))return"quantitative";if(xd(x)&&null!==(n=x.scale)&&void 0!==n&&n.type)switch(Qk[x.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Xd(x){if(wc(x))return x;if(Oc(x))return x.condition}function Ge(x){if(Cd(x))return x;if(zc(x))return x.condition}function og(x,W,n){var M=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return p.isString(x)||p.isNumber(x)||
p.isBoolean(x)?(M=p.isString(x)?"string":p.isNumber(x)?"number":"boolean",M="Channel ".concat(W," is a ").concat(M,". Converted to {value: ").concat(Lg(x),"}."),gc(M),{value:x}):Cd(x)?wg(x,W,n,M):zc(x)?Object.assign({},x,{condition:wg(x.condition,W,n,M)}):x}function wg(x,W,n,M){if(te(x)){var Q=Object.assign({},x),ha=x.formatType;Q=(delete Q.format,delete Q.formatType,Q);if(Zc(ha)&&!n.customFormatTypes)return gc(ce(W)),wg(Q,W,n,M)}else if((ha=Id(x)?"axis":x&&"legend"in x?"legend":x&&"header"in x?"header":
null)&&x[ha]){var ya=x[ha];Q=Object.assign({},ya);ya=ya.formatType;Q=(delete Q.format,delete Q.formatType,Q);if(Zc(ya)&&!n.customFormatTypes)return gc(ce(W)),wg(Object.assign({},x,{[ha]:Q}),W,n,M)}if(wc(x))return Zg(x,W,M);W=x.type;W||({datum:W}=x,W=p.isNumber(W)?"quantitative":p.isString(W)?"nominal":nd(W)?"temporal":void 0,x=Object.assign({},x,{type:W}));return x}function Zg(x,W){var {compositeMark:n=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:M,timeUnit:Q,bin:ha,
field:ya}=x,Ba=Object.assign({},x);n||!M||aa(M)||oa(M)||Na(M)||(gc('Invalid aggregation operator "'.concat(M,'".')),delete Ba.aggregate);Q&&(Ba.timeUnit=rf(Q));ya&&(Ba.field="".concat(ya));Xa(ha)&&(Ba.bin=Bg(ha,W));Ya(ha)&&!Ea(W)&&gc("Channel ".concat(W,' should not be used with "binned" bin.'));if(je(Ba)){({type:n}=Ba);var gb=Vd(n);n!==gb&&(Ba.type=gb);"quantitative"!==n&&ka(M)&&(n='Invalid field type "'.concat(n,'" for aggregate: "').concat(M,'", using "quantitative" instead.'),gc(n),Ba.type="quantitative")}else hb(W)||
(n=Xg(Ba,W),Ba.type=n);if(je(Ba)){const {compatible:zb,warning:Sb}=Qg(Ba,W)||{};!1===zb&&gc(Sb)}if("sort"in Ba&&p.isString(Ba.sort)){({sort:n}=Ba);if(n in yk)return Object.assign({},Ba,{sort:{encoding:n}});gb=n.substr(1);if("-"===n.charAt(0)&&gb in yk)return Object.assign({},Ba,{sort:{encoding:gb,order:"descending"}})}if(Ba&&"header"in Ba&&({header:n}=Ba,n)){var sb=n;gb=Object.assign({},sb);sb=sb.orient;gb=(delete gb.orient,gb);if(sb)return Object.assign({},Ba,{header:Object.assign({},gb,{labelOrient:n.labelOrient||
sb,titleOrient:n.titleOrient||sb})})}return Ba}function Bg(x,W){return p.isBoolean(x)?{maxbins:ib(W)}:"binned"===x?{binned:!0}:x.maxbins||x.step?x:Object.assign({},x,{maxbins:ib(W)})}function Qg(x,W){var n=x.type;if("geojson"===n&&"shape"!==W)return{compatible:!1,warning:"Channel ".concat(W," should not be used with a geojson data.")};switch(W){case "row":case "column":case "facet":return ef(x)?Vi:{compatible:!1,warning:"".concat(W," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Vi;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==n?{compatible:!1,warning:"Channel ".concat(W," should be used with a quantitative field only, not ").concat(x.type," field.")}:Vi;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==n||x.sort?Vi:{compatible:!1,warning:"Channel ".concat(W," should not be used with an unsorted discrete field.")};case "shape":case "strokeDash":if(n=
!ef(x)){var M;n=!(xd(x)&&zj.has(null===(M=x.scale)||void 0===M?void 0:M.type))}return n?{compatible:!1,warning:"".concat(W," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}:Vi;case "order":return"nominal"!==x.type||"sort"in x?Vi:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function sg(x){var {formatType:W}=Of(x),n;if(!(n="time"===W)){if(W=!W)W=x&&("temporal"===x.type||wc(x)&&!!x.timeUnit);
n=W}return n}function fg(x,W){let {timeUnit:n,type:M,wrapTime:Q,undefinedIfExprNotRequired:ha}=W;var ya=(W=n&&(null===(ya=rf(n))||void 0===ya?void 0:ya.unit))||"temporal"===M;let Ba;Eb(x)?Ba=x.expr:Ic(x)?Ba=x.signal:nd(x)?(ya=!0,Ba=Yd(x)):(p.isString(x)||p.isNumber(x))&&ya&&(Ba="datetime(".concat(Lg(x),")"),Nj[W]&&(p.isNumber(x)&&1E4>x||p.isString(x)&&isNaN(Date.parse(x)))&&(Ba=Yd({[W]:x})));return Ba?Q&&ya?"time(".concat(Ba,")"):Ba:ha?void 0:Lg(x)}function zf(x,W){const {type:n}=x;return W.map(M=>
{const Q=fg(M,{timeUnit:wc(x)?x.timeUnit:void 0,type:n,undefinedIfExprNotRequired:!0});return void 0!==Q?{signal:Q}:M})}function Pf(x,W){return Xa(x.bin)?!!xi[W]&&["ordinal","nominal"].includes(x.type):(console.warn("Only call this method for binned field defs."),!1)}function eg(x){return x&&x.condition}function Mf(x){return"mark"in x}function gg(x,W){return(x=x&&x[W])?p.isArray(x)?c(x,n=>!!n.field):wc(x)||Oc(x):!1}function kh(x,W){return(x=x&&x[W])?p.isArray(x)?c(x,n=>!!n.field):wc(x)||od(x)||zc(x):
!1}function th(x,W){if(Ea(W)){const n=x[W];if((wc(n)||od(n))&&oe(n.type))return W=xa(W),kh(x,W)}return!1}function Gg(x){return c(fl,W=>gg(x,W)?(W=x[W],p.isArray(W)?c(W,n=>!!n.aggregate):(W=Xd(W))&&!!W.aggregate):!1)}function xg(x,W){const n=[],M=[],Q=[],ha=[],ya={};td(x,(Ba,gb)=>{if(wc(Ba)){var sb=Object.assign({},Ba),zb=Ba.field;const Bc=Ba.aggregate,md=Ba.bin,Tc=Ba.timeUnit;sb=(delete sb.field,delete sb.aggregate,delete sb.bin,delete sb.timeUnit,sb);if(Bc||Tc||md){var Sb=Lf(Ba);const yd=null===
Sb||void 0===Sb?void 0:Sb.title;Sb=vd(Ba,{forAs:!0});sb=Object.assign({},yd?[]:{title:vf(Ba,W,{allowDisabling:!0})},sb,{field:Sb});if(Bc){let Jd;oa(Bc)?(Jd="argmax",Sb=vd({op:"argmax",field:Bc.argmax},{forAs:!0}),sb.field="".concat(Sb,".").concat(zb)):Na(Bc)?(Jd="argmin",Sb=vd({op:"argmin",field:Bc.argmin},{forAs:!0}),sb.field="".concat(Sb,".").concat(zb)):"boxplot"!==Bc&&"errorbar"!==Bc&&"errorband"!==Bc&&(Jd=Bc);Jd&&(Ba={op:Jd,as:Sb},zb&&(Ba.field=zb),ha.push(Ba))}else n.push(Sb),je(Ba)&&Xa(md)?
(M.push({bin:md,field:zb,as:Sb}),n.push(vd(Ba,{binSuffix:"end"})),Pf(Ba,gb)&&n.push(vd(Ba,{binSuffix:"range"})),Ea(gb)&&(zb={field:"".concat(Sb,"_end")},ya["".concat(gb,"2")]=zb),sb.bin="binned",hb(gb)||(sb.type="quantitative")):Tc&&(Q.push({timeUnit:Tc,field:zb,as:Sb}),(zb=je(Ba)&&"temporal"!==Ba.type&&"time")&&("text"===gb||"tooltip"===gb?sb.formatType=zb:Hk[gb]?sb.legend=Object.assign({},{formatType:zb},sb.legend):Ea(gb)&&(sb.axis=Object.assign({},{formatType:zb},sb.axis))));ya[gb]=sb}else n.push(zb),
ya[gb]=x[gb]}else ya[gb]=x[gb]});return{bins:M,timeUnits:Q,aggregate:ha,groupby:n,encoding:ya}}function zh(x,W,n){n=ab(W)[n];return n&&("binned"!==n||(n=x["x2"===W?"x":"y"],wc(n)&&wc(x[W])&&Ya(n.bin)))?!0:!1}function bb(x,W,n,M){const Q={};for(var ha of ne(x))ak[ha]||gc(Ga(ha));for(let Ba of tk)if(x[Ba]){ha=x[Ba];if(Ba in wi){var ya=ma(Ba);const gb=Q[ya];if(wc(gb)){if(ie(gb.type)&&wc(ha)){gc(Td(ya));continue}}else Ba=ya,gc(af(ya))}"angle"!==Ba||"arc"!==W||x.theta||(gc("Arc marks uses theta channel rather than angle, replacing angle with theta."),
Ba="theta");if(zh(x,Ba,W)){if("size"===Ba&&"line"===W&&(ya=Xd(x[Ba]),null!==ya&&void 0!==ya&&ya.aggregate)){gc("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}if("color"===Ba&&(n?"fill"in x:"stroke"in x))gc(Se("encoding",{fill:"fill"in x,stroke:"stroke"in x}));else if("detail"===Ba||"order"===Ba&&!p.isArray(ha)&&!ve(ha)||"tooltip"===Ba&&p.isArray(ha))ha&&(Q[Ba]=p.array(ha).reduce((gb,sb)=>{wc(sb)?gb.push(Zg(sb,Ba)):gc(ue(sb,Ba));return gb},
[]));else{if("tooltip"===Ba&&null===ha)Q[Ba]=null;else if(!(wc(ha)||od(ha)||ve(ha)||pc(ha)||Ic(ha))){gc(ue(ha,Ba));continue}Q[Ba]=og(ha,Ba,M)}}else gc(me(Ba,W))}return Q}function Hb(x,W){const n={};for(const M of ne(x)){const Q=og(x[M],M,W,{compositeMark:!0});n[M]=Q}return n}function nc(x){const W=[];for(const n of ne(x))if(gg(x,n)){const M=p.array(x[n]);for(const Q of M)wc(Q)?W.push(Q):Oc(Q)&&W.push(Q.condition)}return W}function td(x,W,n){if(x)for(const M of ne(x)){const Q=x[M];if(p.isArray(Q))for(const ha of Q)W.call(n,
ha,M);else W.call(n,Q,M)}}function zd(x,W,n,M){return x?ne(x).reduce((Q,ha)=>{const ya=x[ha];return p.isArray(ya)?ya.reduce((Ba,gb)=>W.call(M,Ba,gb,ha),Q):W.call(M,Q,ya,ha)},n):n}function he(x,W){return ne(W).reduce((n,M)=>{switch(M){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return n;
case "order":if("line"===x||"trail"===x)return n;case "detail":case "key":M=W[M];if(p.isArray(M)||wc(M))for(var Q of p.array(M))Q.aggregate||n.push(vd(Q,{}));return n;case "size":if("trail"===x)return n;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(Q=Xd(W[M]))&&!Q.aggregate&&n.push(vd(Q,{})),n}},[])}function kf(x,W,n){let M=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in n)return{tooltip:n.tooltip};
const Q=x.map(ya=>{let {fieldPrefix:Ba,titlePrefix:gb}=ya;ya=M?" of ".concat(sf(W)):"";return{field:Ba+W.field,type:W.type,title:Ic(gb)?{signal:"".concat(gb,'"').concat(escape(ya),'"')}:gb+ya}}),ha=nc(n).map(ye);return{tooltip:[...Q,...t(ha,g)]}}function sf(x){const {title:W,field:n}=x;return C(W,n)}function Rg(x,W,n,M,Q){const {scale:ha,axis:ya}=n;return Ba=>{let {partName:gb,mark:sb,positionPrefix:zb,endPositionPrefix:Sb,extraEncoding:Bc={}}=Ba;Ba=sf(n);return Rf(x,gb,Q,{mark:sb,encoding:Object.assign({},
{[W]:Object.assign({},{field:"".concat(zb,"_").concat(n.field),type:n.type},void 0!==Ba?{title:Ba}:{},void 0!==ha?{scale:ha}:{},void 0!==ya?{axis:ya}:{})},p.isString(Sb)?{["".concat(W,"2")]:{field:"".concat(Sb,"_").concat(n.field)}}:{},M,Bc)})}}function Rf(x,W,n,M){const {clip:Q,color:ha,opacity:ya}=x,Ba=x.type;return x[W]||void 0===x[W]&&n[W]?[Object.assign({},M,{mark:Object.assign({},n[W],Q?{clip:Q}:{},ha?{color:ha}:{},ya?{opacity:ya}:{},ic(M.mark)?M.mark:{type:M.mark},{style:"".concat(Ba,"-").concat(W)},
p.isBoolean(x[W])?{}:x[W])})]:[]}function eh(x,W,n){({encoding:x}=x);W="vertical"===W?"y":"x";const M=x[W],Q=x["".concat(W,"2")],ha=x["".concat(W,"Error")];x=x["".concat(W,"Error2")];return{continuousAxisChannelDef:uh(M,n),continuousAxisChannelDef2:uh(Q,n),continuousAxisChannelDefError:uh(ha,n),continuousAxisChannelDefError2:uh(x,n),continuousAxis:W}}function uh(x,W){if(null!==x&&void 0!==x&&x.aggregate){var n=Object.assign({},x);x=x.aggregate;n=(delete n.aggregate,n);x!==W&&(W="Continuous axis should not have customized aggregation function ".concat(x,
"; ").concat(W," already agregates the axis."),gc(W));return n}return x}function $g(x,W){const {mark:n,encoding:M}=x,{x:Q,y:ha}=M;if(ic(n)&&n.orient)return n.orient;if(qd(Q)){if(qd(ha)){x=wc(Q)&&Q.aggregate;const ya=wc(ha)&&ha.aggregate;if(!x&&ya===W)return"vertical";if(ya||x!==W){if(x===W&&ya===W)throw Error("Both x and y cannot have aggregate");return sg(ha)&&!sg(Q)?"horizontal":"vertical"}}return"horizontal"}if(qd(ha))return"vertical";throw Error("Need a valid continuous axis for ".concat(W,"s"));
}function fh(x){return p.isNumber(x)?"tukey":x}function mf(x,W){var n,{config:M}=W,Q=x=Object.assign({},x,{encoding:Hb(x.encoding,M)});W=Object.assign({},Q);var ha=Q.mark;Q=Q.params;W=(delete W.mark,delete W.encoding,delete W.params,delete W.projection,W);ha=ic(ha)?ha:{type:ha};Q&&gc(Nd("boxplot"));Q=null!==(n=ha.extent)&&void 0!==n?n:M.boxplot.extent;var ya=Dc("size",ha,M);n=fh(Q);var Ba=x;x=$g(Ba,"boxplot");const {continuousAxisChannelDef:gb,continuousAxis:sb}=eh(Ba,x,"boxplot");var zb=gb.field,
Sb=fh(Q),Bc=[...ae(zb),{op:"median",field:zb,as:"mid_box_".concat(zb)},{op:"min",field:zb,as:("min-max"===Sb?"lower_whisker_":"min_")+zb},{op:"max",field:zb,as:("min-max"===Sb?"upper_whisker_":"max_")+zb}];zb="min-max"===Sb||"tukey"===Sb?[]:[{calculate:'datum["upper_box_'.concat(zb,'"] - datum["lower_box_').concat(zb,'"]'),as:"iqr_".concat(zb)},{calculate:'min(datum["upper_box_'.concat(zb,'"] + datum["iqr_').concat(zb,'"] * ').concat(Q,', datum["max_').concat(zb,'"])'),as:"upper_whisker_".concat(zb)},
{calculate:'max(datum["lower_box_'.concat(zb,'"] - datum["iqr_').concat(zb,'"] * ').concat(Q,', datum["min_').concat(zb,'"])'),as:"lower_whisker_".concat(zb)}];Ba=Object.assign({},Ba.encoding);var md;Sb=(delete Ba[sb],Ba);Ba=Object.assign({},Sb);Sb=Sb.tooltip;Ba=(delete Ba.tooltip,Ba);if(Sb){var Tc;if(p.isArray(Sb)){for(var yd of Sb)yd.aggregate?(md||(md=[]),md.push(yd)):(Tc||(Tc=[]),Tc.push(yd));md&&(Ba.tooltip=md)}else Sb.aggregate?Ba.tooltip=Sb:Tc=Sb;p.isArray(Tc)&&1===Tc.length&&(Tc=Tc[0]);md=
{customTooltipWithoutAggregatedField:Tc,filteredEncoding:Ba}}else md={filteredEncoding:Ba};const {customTooltipWithoutAggregatedField:Jd,filteredEncoding:de}=md,{bins:we,timeUnits:ee,aggregate:Ae,groupby:Ye,encoding:Qe}=xg(de,M);md=[...we,...ee,{aggregate:[...Ae,...Bc],groupby:Ye},...zb];const {bins:Ke,timeUnits:ag,transform:ah,continuousAxisChannelDef:jg,continuousAxis:di,groupby:Ji,aggregate:El,encodingWithoutContinuousAxis:bh,ticksOrient:ml,boxOrient:Fl,customTooltipWithoutAggregatedField:Ul}=
{bins:we,timeUnits:ee,transform:md,groupby:Ye,aggregate:Ae,continuousAxisChannelDef:gb,continuousAxis:sb,encodingWithoutContinuousAxis:Qe,ticksOrient:"vertical"===x?"horizontal":"vertical",boxOrient:x,customTooltipWithoutAggregatedField:Jd};Tc=Object.assign({},bh);md=bh.color;Bc=bh.size;Tc=(delete Tc.color,delete Tc.size,Tc);yd=Rg(ha,di,jg,Tc,M.boxplot);x=Rg(ha,di,jg,bh,M.boxplot);Bc=Rg(ha,di,jg,Object.assign({},Tc,Bc?{size:Bc}:{}),M.boxplot);zb=kf([{fieldPrefix:"min-max"===n?"upper_whisker_":"max_",
titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===n?"lower_whisker_":"min_",titlePrefix:"Min"}],jg,bh);Ba={type:"tick",color:"black",opacity:1,orient:ml,invalid:null,aria:!1};Sb="min-max"===n?zb:kf([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],jg,bh);yd=[...yd({partName:"rule",mark:{type:"rule",invalid:null,
aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Sb}),...yd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Sb}),...yd({partName:"ticks",mark:Ba,positionPrefix:"lower_whisker",extraEncoding:Sb}),...yd({partName:"ticks",mark:Ba,positionPrefix:"upper_whisker",extraEncoding:Sb})];ya=[...("tukey"!==n?yd:[]),...x({partName:"box",mark:Object.assign({},{type:"bar"},ya?{size:ya}:{},{orient:Fl,
invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:zb}),...Bc({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},p.isObject(M.boxplot.median)&&M.boxplot.median.color?{color:M.boxplot.median.color}:{},ya?{size:ya}:{},{orient:ml,aria:!1}),positionPrefix:"mid_box",extraEncoding:zb})];if("min-max"===n){var Hj;return Object.assign({},W,{transform:(null!==(Hj=W.transform)&&void 0!==Hj?Hj:[]).concat(ah),layer:ya})}Hj='datum["lower_box_'.concat(jg.field,
'"]');n='datum["upper_box_'.concat(jg.field,'"]');x="(".concat(n," - ").concat(Hj,")");Hj="".concat(Hj," - ").concat(Q," * ").concat(x);x="".concat(n," + ").concat(Q," * ").concat(x);Bc='datum["'.concat(jg.field,'"]');Q={joinaggregate:ae(jg.field),groupby:Ji};n={transform:[{filter:"(".concat(Hj," \x3c\x3d ").concat(Bc,") \x26\x26 (").concat(Bc," \x3c\x3d ").concat(x,")")},{aggregate:[{op:"min",field:jg.field,as:"lower_whisker_".concat(jg.field)},{op:"max",field:jg.field,as:"upper_whisker_".concat(jg.field)},
{op:"min",field:"lower_box_".concat(jg.field),as:"lower_box_".concat(jg.field)},{op:"max",field:"upper_box_".concat(jg.field),as:"upper_box_".concat(jg.field)},...El],groupby:Ji}],layer:yd};Tc=Object.assign({},Tc);Tc=(delete Tc.tooltip,Tc);const {scale:Vl,axis:lm}=jg;yd=sf(jg);zb=f(lm,["title"]);M=Rf(ha,"outliers",M.boxplot,{transform:[{filter:"(".concat(Bc," \x3c ").concat(Hj,") || (").concat(Bc," \x3e ").concat(x,")")}],mark:"point",encoding:Object.assign({},{[di]:Object.assign({},{field:jg.field,
type:jg.type},void 0!==yd?{title:yd}:{},void 0!==Vl?{scale:Vl}:{},w(zb)?{}:{axis:zb})},Tc,md?{color:md}:{},Ul?{tooltip:Ul}:{})})[0];ha=[...Ke,...ag,Q];M?M={transform:ha,layer:[M,n]}:(M=n,M.transform.unshift(...ha));return Object.assign({},W,{layer:[M,{transform:ah,layer:ya}]})}function ae(x){return[{op:"q1",field:x,as:"lower_box_".concat(x)},{op:"q3",field:x,as:"upper_box_".concat(x)}]}function gh(x,W){({config:W}=W);x=Object.assign({},x,{encoding:Hb(x.encoding,W)});const {transform:n,continuousAxisChannelDef:M,
continuousAxis:Q,encodingWithoutContinuousAxis:ha,ticksOrient:ya,markDef:Ba,outerSpec:gb,tooltipEncoding:sb}=lh(x,"errorbar",W);delete ha.size;x=Rg(Ba,Q,M,ha,W.errorbar);W=Ba.thickness;var zb=Ba.size;zb=Object.assign({},{type:"tick",orient:ya,aria:!1},void 0!==W?{thickness:W}:{},void 0!==zb?{size:zb}:{});x=[...x({partName:"ticks",mark:zb,positionPrefix:"lower",extraEncoding:sb}),...x({partName:"ticks",mark:zb,positionPrefix:"upper",extraEncoding:sb}),...x({partName:"rule",mark:Object.assign({},{type:"rule",
ariaRoleDescription:"errorbar"},void 0!==W?{size:W}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:sb})];return Object.assign({},gb,{transform:n},1<x.length?{layer:x}:Object.assign({},x[0]))}function Vh(x,W){var {encoding:n}=x;if(!(!Cd(n.x)&&!Cd(n.y)||Cd(n.x2)||Cd(n.y2)||Cd(n.xError)||Cd(n.xError2)||Cd(n.yError)||Cd(n.yError2)))return{orient:$g(x,W),inputType:"raw"};var M=Cd(n.x2)||Cd(n.y2);var Q=Cd(n.xError)||Cd(n.xError2)||Cd(n.yError)||Cd(n.yError2);x=n.x;const ha=n.y;if(M){if(Q)throw Error("".concat(W,
" cannot be both type aggregated-upper-lower and aggregated-error"));M=n.x2;n=n.y2;if(Cd(M)&&Cd(n))throw Error("".concat(W," cannot have both x2 and y2"));if(Cd(M)){if(qd(x))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(W));}if(Cd(n)){if(qd(ha))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(W));}}else{M=n.xError;Q=n.yError;const ya=n.yError2;
if(Cd(n.xError2)&&!Cd(M))throw Error("".concat(W," cannot have xError2 without xError"));if(Cd(ya)&&!Cd(Q))throw Error("".concat(W," cannot have yError2 without yError"));if(Cd(M)&&Cd(Q))throw Error("".concat(W," cannot have both xError and yError with both are quantiative"));if(Cd(M)){if(qd(x))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Cd(Q)){if(qd(ha))return{orient:"vertical",inputType:"aggregated-error"};
throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function lh(x,W,n){var M,Q=Object.assign({},x),ha=x.mark,ya=x.encoding,Ba=x.params;Q=(delete Q.mark,delete Q.encoding,delete Q.params,delete Q.projection,Q);ha=ic(ha)?ha:{type:ha};Ba&&gc(Nd(W));const {orient:gb,inputType:sb}=Vh(x,W),{continuousAxisChannelDef:zb,continuousAxisChannelDef2:Sb,continuousAxisChannelDefError:Bc,continuousAxisChannelDefError2:md,continuousAxis:Tc}=eh(x,gb,W);var yd=
[];x=[];Ba=zb.field;var Jd=!1;if("raw"===sb){var de=ha.center?ha.center:ha.extent?"iqr"===ha.extent?"median":"mean":n.errorbar.center;var we=ha.extent?ha.extent:"mean"===de?"stderr":"iqr";"median"===de!==("iqr"===we)&&(yd=we,yd="".concat(de," is not usually used with ").concat(yd," for ").concat(W,"."),gc(yd));"stderr"===we||"stdev"===we?(yd=[{op:we,field:Ba,as:"extent_".concat(Ba)},{op:de,field:Ba,as:"center_".concat(Ba)}],x=[{calculate:'datum["center_'.concat(Ba,'"] + datum["extent_').concat(Ba,
'"]'),as:"upper_".concat(Ba)},{calculate:'datum["center_'.concat(Ba,'"] - datum["extent_').concat(Ba,'"]'),as:"lower_".concat(Ba)}],de=[{fieldPrefix:"center_",titlePrefix:V(de)},{fieldPrefix:"upper_",titlePrefix:tg(de,we,"+")},{fieldPrefix:"lower_",titlePrefix:tg(de,we,"-")}],Jd=!0):("ci"===we?(W="mean",de="ci0",we="ci1"):(W="median",de="q1",we="q3"),yd=[{op:de,field:Ba,as:"lower_".concat(Ba)},{op:we,field:Ba,as:"upper_".concat(Ba)},{op:W,field:Ba,as:"center_".concat(Ba)}],de=[{fieldPrefix:"upper_",
titlePrefix:vf({field:Ba,aggregate:we,type:"quantitative"},n,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:vf({field:Ba,aggregate:de,type:"quantitative"},n,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:vf({field:Ba,aggregate:W,type:"quantitative"},n,{allowDisabling:!1})}])}else{if(ha.center||ha.extent){W=ha.center;var ee=ha.extent;W="".concat(ee?"extent ":"").concat(ee&&W?"and ":"").concat(W?"center ":"").concat(ee&&W?"are ":"is ","not needed when data are aggregated.");gc(W)}"aggregated-upper-lower"===
sb?(de=[],x=[{calculate:'datum["'.concat(Sb.field,'"]'),as:"upper_".concat(Ba)},{calculate:'datum["'.concat(Ba,'"]'),as:"lower_".concat(Ba)}]):"aggregated-error"===sb&&(de=[{fieldPrefix:"",titlePrefix:Ba}],x=[{calculate:'datum["'.concat(Ba,'"] + datum["').concat(Bc.field,'"]'),as:"upper_".concat(Ba)}],md?x.push({calculate:'datum["'.concat(Ba,'"] + datum["').concat(md.field,'"]'),as:"lower_".concat(Ba)}):x.push({calculate:'datum["'.concat(Ba,'"] - datum["').concat(Bc.field,'"]'),as:"lower_".concat(Ba)}));
for(we of x)de.push({fieldPrefix:we.as.substring(0,6),titlePrefix:R(R(we.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:Ae,postAggregateCalculates:Ye,tooltipSummary:Qe,tooltipTitleWithFieldName:Ke}={postAggregateCalculates:x,errorBarSpecificAggregate:yd,tooltipSummary:de,tooltipTitleWithFieldName:Jd};ya=Object.assign({},ya);x="x"===Tc?"x2":"y2";Ba="x"===Tc?"xError":"yError";Jd="x"===Tc?"xError2":"yError2";ya=(delete ya[Tc],delete ya[x],delete ya[Ba],delete ya[Jd],ya);const {bins:ag,
timeUnits:ah,aggregate:jg,groupby:di,encoding:Ji}=xg(ya,n);n=[...jg,...Ae];ya="raw"!==sb?[]:di;x=kf(Qe,zb,Ji,Ke);return{transform:[...(null!==(M=Q.transform)&&void 0!==M?M:[]),...ag,...ah,...(0===n.length?[]:[{aggregate:n,groupby:ya}]),...Ye],groupby:ya,continuousAxisChannelDef:zb,continuousAxis:Tc,encodingWithoutContinuousAxis:Ji,ticksOrient:"vertical"===gb?"horizontal":"vertical",markDef:ha,outerSpec:Q,tooltipEncoding:x}}function tg(x,W,n){return"".concat(V(x)," ").concat(n," ").concat(W)}function Mh(x,
W){({config:W}=W);x=Object.assign({},x,{encoding:Hb(x.encoding,W)});const {transform:n,continuousAxisChannelDef:M,continuousAxis:Q,encodingWithoutContinuousAxis:ha,markDef:ya,outerSpec:Ba,tooltipEncoding:gb}=lh(x,"errorband",W);W=Rg(ya,Q,M,ha,W.errorband);x=void 0!==x.encoding.x&&void 0!==x.encoding.y;let sb={type:x?"area":"rect"},zb={type:x?"line":"rule"};const Sb=Object.assign({},ya.interpolate?{interpolate:ya.interpolate}:{},ya.tension&&ya.interpolate?{tension:ya.tension}:{});x?(sb=Object.assign({},
sb,Sb,{ariaRoleDescription:"errorband"}),zb=Object.assign({},zb,Sb,{aria:!1})):ya.interpolate?gc(Mc("interpolate")):ya.tension&&gc(Mc("tension"));return Object.assign({},Ba,{transform:n,layer:[...W({partName:"band",mark:sb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:gb}),...W({partName:"borders",mark:zb,positionPrefix:"lower",extraEncoding:gb}),...W({partName:"borders",mark:zb,positionPrefix:"upper",extraEncoding:gb})]})}function Th(x,W,n){W=new Bj(x,W);hk[x]={normalizer:W,parts:n}}
function Te(x){return!!x&&("legend"===x||!!x.legend)}function gf(x){return Te(x)&&p.isObject(x)}function K(x){const W=[];for(const Q of x||[])if(!Q.select){var n=Q,M=Object.assign({},n);x=n.expr;n=n.bind;M=(delete M.expr,delete M.bind,M);n&&x?(x=Object.assign({},M,{bind:n,init:x}),W.push(x)):(x=Object.assign({},M,x?{update:x}:{},n?{bind:n}:{}),W.push(x))}return W}function Z(x,W){const n={};for(const M of Dl)x&&void 0!==x[M]&&(n[M]=tb(x[M]));W&&(n.params=x.params);return n}function wa(x){let {step:W,
offsetIsDiscrete:n}=x;if(n){var M;return null!==(M=W.for)&&void 0!==M?M:"offset"}return"position"}function Ta(x){return p.isObject(x)&&void 0!==x.step}function pb(x){return x.view||x.width||x.height}function Db(x,W,n){const M={},{spacing:Q,columns:ha}=n[W];void 0!==Q&&(M.spacing=Q);void 0!==ha&&("facet"in x&&!Ma(x.facet)||"concat"in x)&&(M.columns=ha);"vconcat"in x&&(M.columns=1);for(const gb of Ik)if(void 0!==x[gb])if("spacing"===gb){var ya,Ba;W=x[gb];M[gb]=p.isNumber(W)?W:{row:null!==(ya=W.row)&&
void 0!==ya?ya:Q,column:null!==(Ba=W.column)&&void 0!==Ba?Ba:Q}}else M[gb]=x[gb];return M}function Xb(x,W){var n;return null!==(n=x[W])&&void 0!==n?n:x["width"===W?"continuousWidth":"continuousHeight"]}function Hc(x,W){x=Vc(x,W);return Ta(x)?x.step:20}function Vc(x,W){var n;const M=null!==(n=x[W])&&void 0!==n?n:x["width"===W?"discreteWidth":"discreteHeight"];return C(M,{step:x.step})}function Pc(){let x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:p.isObject(x)?
Object.assign({},Ra,x):Ra}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},
{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Dd(x){var W=ne(x||{});const n={};for(const M of W)W=x[M],n[M]=eg(W)?Bb(W):tb(W);return n}function Rd(){var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},W=Object.assign({},x),n=x.color,M=x.font,Q=x.fontSize;x=x.selection;W=(delete W.color,delete W.font,delete W.fontSize,
delete W.selection,W);var ha=p.mergeConfig,ya=uf(H);M=M?{text:{font:M},style:{"guide-label":{font:M},"guide-title":{font:M},"group-title":{font:M},"group-subtitle":{font:M}}}:{};n=n?Pc(n):{};Q=Q?{signals:[{name:"fontSize",value:p.isObject(Q)?Object.assign({},da,Q):da}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:
{};Q=ha.call(p,{},ya,M,n,Q,W||{});x&&p.writeConfig(Q,"selection",x,!0);x=f(Q,nb);for(var Ba of["background","lineBreak","padding"])Q[Ba]&&(x[Ba]=tb(Q[Ba]));for(var gb of bf)Q[gb]&&(x[gb]=Zb(Q[gb]));for(var sb of Ak)Q[sb]&&(x[sb]=Dd(Q[sb]));for(const zb of ll)Q[zb]&&(x[zb]=Zb(Q[zb]));Q.legend&&(x.legend=Zb(Q.legend));Q.scale&&(x.scale=Zb(Q.scale));if(Q.style){Ba=Q.style;gb=ne(Ba);sb={};for(const zb of gb)sb[zb]=Dd(Ba[zb]);x.style=sb}Q.title&&(x.title=Zb(Q.title));Q.view&&(x.view=Zb(Q.view));return x}
function Ve(x){x=uf(x);for(var W of ec)delete x[W];if(x.axis)for(var n in x.axis)eg(x.axis[n])&&delete x.axis[n];if(x.legend)for(var M of Bl)delete x.legend[M];if(x.mark){for(var Q of wk)delete x.mark[Q];x.mark.tooltip&&p.isObject(x.mark.tooltip)&&delete x.mark.tooltip}x.params&&(x.signals=(x.signals||[]).concat(K(x.params)),delete x.params);for(var ha of Kb){for(const Sb of wk)delete x[ha][Sb];if(W=Ac[ha])for(const Sb of W)delete x[ha][Sb];n=W=void 0;M=x;Q=ha;var ya=void 0,Ba=M[Q];"view"===Q&&(ya=
"cell");Ba=Object.assign({},Ba,M.style[null!==(n=ya)&&void 0!==n?n:Q]);w(Ba)||(M.style[null!==(W=ya)&&void 0!==W?W:Q]=Ba);delete M[Q]}for(const Sb of ne(hk))delete x[Sb];ha=x;const {titleMarkConfig:gb,subtitleMarkConfig:sb,subtitle:zb}=Gc(ha.title);w(gb)||(ha.style["group-title"]=Object.assign({},ha.style["group-title"],gb));w(sb)||(ha.style["group-subtitle"]=Object.assign({},ha.style["group-subtitle"],sb));w(zb)?delete ha.title:ha.title=zb;for(const Sb in x)p.isObject(x[Sb])&&w(x[Sb])&&delete x[Sb];
return w(x)?void 0:x}function He(x){return wc(x)&&"quantitative"===(x&&x.type)&&!x.bin}function Jf(x,W){const n="x"===W?"y":"radius";var M=x[W];x=x[n];if(wc(M)&&wc(x))if(He(M)&&He(x)){if(M.stack)return W;if(x.stack)return n;const ya=wc(M)&&!!M.aggregate,Ba=wc(x)&&!!x.aggregate;if(ya!==Ba)return ya?W:n;var Q,ha;M=null===(Q=M.scale)||void 0===Q?void 0:Q.type;Q=null===(ha=x.scale)||void 0===ha?void 0:ha.type;if(M&&"linear"!==M)return n;if(Q&&"linear"!==Q)return W}else{if(He(M))return W;if(He(x))return n}else{if(He(M))return W;
if(He(x))return n}}function Pd(x){switch(x){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function ge(x,W){var n,M;let Q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const ha=ic(x)?x.type:x;if(!$e.has(ha))return null;const ya=Jf(W,"x")||Jf(W,"theta");if(!ya)return null;const Ba=W[ya];var gb=wc(Ba)?vd(Ba,{}):void 0,sb=Pd(ya);const zb=[],Sb=new Set;if(W[sb]){var Bc=W[sb];(Bc=wc(Bc)?vd(Bc,{}):void 0)&&Bc!==gb&&(zb.push(sb),Sb.add(Bc));sb=
"x"===sb?"xOffset":"yOffset";Bc=W[sb];(Bc=wc(Bc)?vd(Bc,{}):void 0)&&Bc!==gb&&(zb.push(sb),Sb.add(Bc))}gb=ci.reduce((Tc,yd)=>{if("tooltip"!==yd&&gg(W,yd)){var Jd=W[yd];for(const de of p.array(Jd)){Jd=Xd(de);if(Jd.aggregate)continue;const we=vd(Jd,{});we&&Sb.has(we)||Tc.push({channel:yd,fieldDef:Jd})}}return Tc},[]);let md;void 0!==Ba.stack?md=p.isBoolean(Ba.stack)?Ba.stack?"zero":null:Ba.stack:Uf.has(ha)&&(md="zero");if(!(md&&md in Ld)||Gg(W)&&0===gb.length)return null;if(null!==Ba&&void 0!==Ba&&null!==
(n=Ba.scale)&&void 0!==n&&n.type&&(null===Ba||void 0===Ba?void 0:null===(M=Ba.scale)||void 0===M?void 0:M.type)!==ji.LINEAR){if(Q.disallowNonLinearStack)return null;gc("Cannot stack non-linear scale (".concat(Ba.scale.type,")."))}if(Cd(W[Da(ya)]))return void 0!==Ba.stack&&gc(fc(ya)),null;wc(Ba)&&Ba.aggregate&&!Fi.has(Ba.aggregate)&&gc('Stacking is applied even though the aggregate function is non-summative ("'.concat(Ba.aggregate,'").'));return{groupbyChannels:zb,groupbyFields:Sb,fieldChannel:ya,
impute:null===Ba.impute?!1:Oa(ha),stackBy:gb,offset:md}}function Je(x){let W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0;if("transparent"===x.point)return{opacity:0};if(x.point)return p.isObject(x.point)?x.point:{};if(void 0!==x.point)return null;if(W.point||n.shape)return p.isObject(W.point)?W.point:{}}function Pe(x){let W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(x.line)return!0===x.line?{}:x.line;if(void 0!==x.line)return null;
if(W.line)return!0===W.line?{}:W.line}function Hf(x,W){return W?ff(x,W):x}function hg(x,W,n){const M=W[x];if(M&&!p.isString(M)&&"repeat"in M){if(M.repeat in n)return Object.assign({},W,{[x]:n[M.repeat]});gc('Unknown repeated value "'.concat(M.repeat,'".'))}else return W}function Ue(x,W){x=hg("field",x,W);if(void 0!==x){if(null===x)return null;"sort"in x&&Rb(x.sort)&&(W=hg("field",x.sort,W),x=Object.assign({},x,W?{sort:W}:{}));return x}}function nf(x,W){if(wc(x))return Ue(x,W);W=hg("datum",x,W);W===
x||W.type||(W.type="nominal");return W}function Yf(x,W){if(Cd(x)){if(W=nf(x,W))return W;if(pc(x))return{condition:x.condition}}else{if(zc(x)){if(W=nf(x.condition,W))return Object.assign({},x,{condition:W});x=Object.assign({},x);return delete x.condition,x}return x}}function ff(x,W){const n={};for(const Q in x)if(p.hasOwnProperty(x,Q)){var M=x[Q];p.isArray(M)?n[Q]=M.map(ha=>Yf(ha,W)).filter(ha=>ha):(M=Yf(M,W),void 0!==M&&(n[Q]=M))}return n}function yg(x){let {parentEncoding:W,encoding:n={},layer:M}=
x;x={};if(W){var Q=new Set([...ne(W),...ne(n)]);for(const ha of Q){Q=n[ha];const ya=W[ha];if(Cd(Q))Q=Object.assign({},ya,Q),x[ha]=Q;else if(zc(Q))x[ha]=Object.assign({},Q,{condition:Object.assign({},ya,Q.condition)});else if(Q||null===Q)x[ha]=Q;else if(M||ve(ya)||Ic(ya)||Cd(ya)||p.isArray(ya))x[ha]=ya}}else x=n;return!x||w(x)?void 0:x}function Ng(x){const {parentProjection:W,projection:n}=x;if(W&&n){const {parentProjection:M,projection:Q}={parentProjection:W,projection:n};x="Layer's shared projection ".concat(Lg(M),
" is overridden by a child projection ").concat(Lg(Q),".");gc(x)}return null!==n&&void 0!==n?n:W}function Sg(x){return x.map(W=>"filter"in W?{filter:u(W.filter,Uc)}:W)}function Qf(x,W){var n=Object.assign({},x);const M=x.transform;n=(delete n.transform,n);return M?(x=M.map(Q=>{if("filter"in Q)return{filter:Nf(Q,W)};if("bin"in Q&&p.isObject(Q.bin))return Object.assign({},Q,{bin:lf(Q.bin)});if("lookup"in Q){var ha=Q.from,ya=Object.assign({},ha);ha=ha.selection;ya=(delete ya.selection,ya);return ha?
Object.assign({},Q,{from:Object.assign({},{param:ha},ya)}):Q}return Q}),Object.assign({},n,{transform:x})):x}function pg(x,W){var n,M;x=uf(x);wc(x)&&p.isObject(x.bin)&&(x.bin=lf(x.bin));xd(x)&&null!==(n=x.scale)&&void 0!==n&&null!==(M=n.domain)&&void 0!==M&&M.selection&&(M=x.scale.domain,n=Object.assign({},M),M=M.selection,n=(delete n.selection,n),x.scale.domain=Object.assign({},n,M?{param:M}:{}));pc(x)&&(p.isArray(x.condition)?x.condition=x.condition.map(Q=>{var ha=Object.assign({},Q);const ya=Q.param;
ha=(delete ha.selection,delete ha.param,delete ha.test,ha);return ya?Q:Object.assign({},ha,{test:Nf(Q,W)})}):(M=pg(x.condition,W),n=Object.assign({},M),M=M.param,n=(delete n.selection,delete n.param,delete n.test,n),x.condition=M?x.condition:Object.assign({},n,{test:Nf(x.condition,W)})));return x}function lf(x){var W=x.extent;if(null!==W&&void 0!==W&&W.selection){var n=Object.assign({},W);W=W.selection;n=(delete n.selection,n);return Object.assign({},x,{extent:Object.assign({},n,{param:W})})}return x}
function Nf(x,W){const n=M=>u(M,Q=>{var ha,ya,Ba;const gb=null!==(ha=W.emptySelections[Q])&&void 0!==ha?ha:!0;ha={param:Q,empty:gb};null!==(Ba=(ya=W.selectionPredicates)[Q])&&void 0!==Ba?Ba:ya[Q]=[];W.selectionPredicates[Q].push(ha);return ha});return x.selection?n(x.selection):u(x.test||x.filter,M=>M.selection?n(M.selection):M)}function wh(x,W){var n;return x.name?Object.assign({},W,{path:(null!==(n=W.path)&&void 0!==n?n:[]).concat(x.name)}):W}function qg(x,W){void 0===W&&(W=Rd(x.config));const n=
Oh(x,W),{width:M,height:Q}=x;{let {width:ha,height:ya}={width:M,height:Q,autosize:x.autosize};x=Mf(n)||"layer"in n;const Ba={};x?"container"==ha&&"container"==ya?(Ba.type="fit",Ba.contains="padding"):"container"==ha?(Ba.type="fit-x",Ba.contains="padding"):"container"==ya&&(Ba.type="fit-y",Ba.contains="padding"):("container"==ha&&(gc(Jc("width")),ha=void 0),"container"==ya&&(gc(Jc("height")),ya=void 0));W=Object.assign({},{type:"pad"},Ba,W?Jh(W.autosize):{},Jh(n.autosize));"fit"!==W.type||x||(gc('Autosize "fit" only works for single views and layered views.'),
W.type="pad");"container"==ha&&"fit"!=W.type&&"fit-x"!=W.type&&gc(Wc("width"));"container"==ya&&"fit"!=W.type&&"fit-y"!=W.type&&gc(Wc("height"));W=oh(W,{type:"pad"})?void 0:W}return Object.assign({},n,W?{autosize:W}:{})}function Oh(x){const W={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return Zd.map(kd.map(sd.map(x,W),W),W)}function Jh(x){return p.isString(x)?{type:x}:null!==x&&void 0!==x?x:{}}function qh(x){return{explicit:!0,value:x}}function ig(x){return{explicit:!1,value:x}}
function zi(x){return(W,n,M,Q)=>{const ha=x(W.value,n.value);return 0<ha?W:0>ha?n:ph(W,n,M,Q)}}function ph(x,W,n,M){if(x.explicit&&W.explicit){var Q=x.value;W=W.value;n="Conflicting ".concat(M.toString(),' property "').concat(n.toString(),'" (').concat(Lg(Q)," and ").concat(Lg(W),"). Using ").concat(Lg(Q),".");gc(n)}return x}function Yg(x,W,n,M){let Q=4<arguments.length&&void 0!==arguments[4]?arguments[4]:ph;return void 0===x||void 0===x.value?W:x.explicit&&!W.explicit?x:W.explicit&&!x.explicit?W:
oh(x.value,W.value)?x:Q(x,W,n,M)}function Ti(x){return"name"in x&&!("url"in x)&&!("values"in x)&&!xh(x)}function xh(x){return x&&("sequence"in x||"sphere"in x||"graticule"in x)}function Ph(x){let W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p.identity;if(p.isArray(x)){const M=x.map(Q=>Ph(Q,W,n));return W?"[".concat(M.join(", "),"]"):M}return nd(x)?W?n(Yd(x)):n(Ee(x)):W?n(Lg(x)):x}function Ka(x,W){x.component.selection&&ne(x.component.selection).length&&
(x=p.stringValue(x.getName("cell")),W.unshift({name:"facet",value:{},on:[{events:p.parseSelector("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(x,").datum")}]}));return Fc(W)}function kb(x,W){var n=!1;for(const Q of Bh(null!==(M=x.component.selection)&&void 0!==M?M:{})){var M;const ha=Q.name;n=p.stringValue(ha+"_store");if(0===W.filter(ya=>ya.name===ha).length){M="global"===Q.resolve?"union":Q.resolve;const ya="point"===Q.type?", true, true)":")";W.push({name:Q.name,update:"".concat("vlSelectionResolve",
"(").concat(n,", ").concat(p.stringValue(M)).concat(ya)})}n=!0;for(const ya of nl)ya.defined(Q)&&ya.topLevelSignals&&(W=ya.topLevelSignals(x,Q,W))}n&&0===W.filter(Q=>"unit"===Q.name).length&&W.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Fc(W)}function Cb(x,W){W=[...W];for(const M of Bh(null!==(n=x.component.selection)&&void 0!==n?n:{})){var n;n={name:M.name+"_store"};if(M.init){const Q=M.project.items.map(ha=>{ha=Object.assign({},ha);
return delete ha.signals,ha});n.values=M.init.map(ha=>({unit:Dh(x,{escape:!1}),fields:Q,values:Ph(ha,!1)}))}W.filter(Q=>Q.name===M.name+"_store").length||W.push(n)}return W}function Pb(x,W){for(const M of Bh(null!==(n=x.component.selection)&&void 0!==n?n:{})){var n;for(const Q of nl)Q.defined(M)&&Q.marks&&(W=Q.marks(x,M,W))}return W}function uc(x,W){for(const n of x.children)Tb(n)&&(W=Pb(n,W));return W}function Fc(x){return x.map(W=>{W.on&&!W.on.length&&delete W.on;return W})}function $c(x,W){x=p.stringValue(x.scaleName(W));
return"domain(".concat(x,")")}function Aa(x){var W;return x.parent&&bd(x.parent)&&(null!==(W=!x.parent.parent)&&void 0!==W?W:Aa(x.parent.parent))}function Sa(x,W,n,M){const Q=n.channel,ha=n.signals.visual;n=n.signals.data;const ya=lj.defined(W),Ba=p.stringValue(x.scaleName(Q));var gb=x.getScaleComponent(Q);gb=gb?gb.get("type"):void 0;const sb=Bc=>"scale(".concat(Ba,", ").concat(Bc,")"),zb=x.getSizeSignalRef("x"===Q?"width":"height").signal,Sb="".concat(Q,"(unit)");x=qb(W,(Bc,md)=>[...Bc,{events:md.between[0],
update:"[".concat(Sb,", ").concat(Sb,"]")},{events:md,update:"[".concat(ha,"[0], clamp(").concat(Sb,", 0, ").concat(zb,")]")}]);x.push({events:{signal:W.name+"_scale_trigger"},update:se(gb)?"[".concat(sb("".concat(n,"[0]")),", ").concat(sb("".concat(n,"[1]")),"]"):"[0, 0]"});return ya?[{name:n,on:[]}]:[Object.assign({},{name:ha},M?{init:Ph(M,!0,sb)}:{value:[]},{on:x}),Object.assign({},{name:n},M?{init:Ph(M)}:{},{on:[{events:{signal:ha},update:"".concat(ha,"[0] \x3d\x3d\x3d ").concat(ha,"[1] ? null : invert(").concat(Ba,
", ").concat(ha,")")}]})]}function qb(x,W){return x.events.reduce((n,M)=>M.between?W(n,M):(gc("".concat(M," is not an ordered event stream for interval selections.")),n),[])}function rb(x,W,n,M){var Q=pc(W)&&W.condition;W=M(W);return Q?(Q=p.array(Q).map(ha=>{const ya=M(ha);if(ha.param){const {param:Ba,empty:gb}=ha;ha=mi(x,{param:Ba,empty:gb});return Object.assign({},{test:ha},ya)}ha=yh(x,ha.test);return Object.assign({},{test:ha},ya)}),{[n]:[...Q,...(void 0!==W?[W]:[])]}):void 0!==W?{[n]:W}:{}}function kc(x){let W=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return rb(x,x.encoding[W],W,n=>Rc(n,x.config))}function Rc(x,W){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(x){if(ve(x))return Yb(x.value);if(Cd(x)){const {format:M,formatType:Q}=Of(x);return Lc({fieldOrDatumDef:x,format:M,formatType:Q,expr:n,config:W})}}}function gd(x){let W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:n,markDef:M,config:Q,stack:ha}=x,ya=n.tooltip;if(p.isArray(ya))return{tooltip:Xc({tooltip:ya},
ha,Q,W)};const Ba=W.reactiveGeom?"datum.datum":"datum";return rb(x,ya,"tooltip",gb=>{const sb=Rc(gb,Q,Ba);if(sb)return sb;if(null!==gb){gb=Dc("tooltip",M,Q);!0===gb&&(gb={content:"encoding"});if(p.isString(gb))return{value:gb};if(p.isObject(gb))return Ic(gb)?gb:"encoding"===gb.content?Xc(n,ha,Q,W):{signal:Ba}}})}function Ad(x,W,n){function M(gb,sb){var zb,Sb=Ja(sb);gb=je(gb)?gb:Object.assign({},gb,{type:x[Sb].type});Sb=gb.title||Ai(gb,n);Sb=p.array(Sb).join(", ");if(Ea(sb)){const Tc="x"===sb?"x2":
"y2";var Bc=Xd(x[Tc]);if(Ya(gb.bin)&&Bc){var md=vd(gb,{expr:ya});Bc=vd(Bc,{expr:ya});const {format:yd,formatType:Jd}=Of(gb);md=Qb(md,Bc,yd,Jd,n);ha[Tc]=!0}else if(W&&W.fieldChannel===sb&&"normalize"===W.offset){const {format:yd,formatType:Jd}=Of(gb);md=Lc({fieldOrDatumDef:gb,format:yd,formatType:Jd,expr:ya,config:n,normalizeStack:!0}).signal}}null!==(zb=md)&&void 0!==zb?zb:md=Rc(gb,n,ya).signal;Ba.push({channel:sb,key:Sb,value:md})}var {reactiveGeom:Q}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:
{};const ha={},ya=Q?"datum.datum":"datum",Ba=[];td(x,(gb,sb)=>{wc(gb)?M(gb,sb):Oc(gb)&&M(gb.condition,sb)});Q={};for(const gb of Ba){const {channel:sb,key:zb,value:Sb}=gb;ha[sb]||Q[zb]||(Q[zb]=Sb)}return Q}function Xc(x,W,n){var {reactiveGeom:M}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};M=Ad(x,W,n,{reactiveGeom:M});M=hj(M).map(Q=>{let [ha,ya]=Q;return'"'.concat(ha,'": ').concat(ya)});return 0<M.length?{signal:"{".concat(M.join(", "),"}")}:void 0}function Sd(x){const {encoding:W,markDef:n,
config:M,stack:Q}=x;var ha=W.description;if(ha)return rb(x,ha,"description",ya=>Rc(ya,x.config));ha=Dc("description",n,M);if(null!=ha)return{description:Yb(ha)};if(!1===M.aria)return{};ha=Ad(W,Q,M);if(!w(ha))return{description:{signal:hj(ha).map((ya,Ba)=>{let [gb,sb]=ya;return'"'.concat(0<Ba?"; ":"").concat(gb,': " + (').concat(sb,")")}).join(" + ")}}}function Ed(x,W){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:M,encoding:Q,config:ha}=W,{vgChannel:ya}=n;let {defaultRef:Ba,
defaultValue:gb}=n;if(void 0===Ba){var sb;null!==(sb=gb)&&void 0!==sb?sb:gb=Dc(x,M,ha,{vgChannel:ya,ignoreVgConfig:!0});void 0!==gb&&(Ba=Yb(gb))}return rb(W,Q[x],null!==ya&&void 0!==ya?ya:x,zb=>ac({channel:x,channelDef:zb,markDef:M,config:ha,scaleName:W.scaleName(x),scale:W.getScaleComponent(x),stack:null,defaultRef:Ba}))}function De(x){var W,n,M,Q,ha=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const {markDef:ya,encoding:Ba,config:gb}=x;var {type:sb}=ya;ha=null!==(W=ha.filled)&&
void 0!==W?W:Dc("filled",ya,gb);sb=b(["bar","point","circle","square","geoshape"],sb)?"transparent":void 0;W=null!==(n=null!==(M=Dc(!0===ha?"color":void 0,ya,gb,{vgChannel:"fill"}))&&void 0!==M?M:gb.mark[!0===ha&&"color"])&&void 0!==n?n:sb;n=null!==(Q=Dc(!1===ha?"color":void 0,ya,gb,{vgChannel:"stroke"}))&&void 0!==Q?Q:gb.mark[!1===ha&&"color"];Q=ha?"fill":"stroke";M=Object.assign({},W?{fill:Yb(W)}:{},n?{stroke:Yb(n)}:{});ya.color&&(ha?ya.fill:ya.stroke)&&gc(Se("property",{fill:"fill"in ya,stroke:"stroke"in
ya}));return Object.assign({},M,Ed("color",x,{vgChannel:Q,defaultValue:ha?W:n}),Ed("fill",x,{defaultValue:Ba.fill?W:void 0}),Ed("stroke",x,{defaultValue:Ba.stroke?n:void 0}))}function Af(x){const {encoding:W,mark:n}=x,M=W.order;return!Oa(n)&&ve(M)?rb(x,M,"zindex",Q=>Yb(Q.value)):{}}function We(x){let {channel:W,markDef:n,encoding:M={},model:Q,bandPosition:ha}=x;x="".concat(W,"Offset");const ya=n[x],Ba=M[x];return"xOffset"!==x&&"yOffset"!==x||!Ba?(x=n[x])?{offsetType:"visual",offset:x}:{}:{offsetType:"encoding",
offset:ac({channel:x,channelDef:Ba,markDef:n,config:null===Q||void 0===Q?void 0:Q.config,scaleName:Q.scaleName(x),scale:Q.getScaleComponent(x),stack:null,defaultRef:Yb(ya),bandPosition:ha})}}function Ef(x,W,n){let {defaultPos:M,vgChannel:Q}=n;const {encoding:ha,markDef:ya,config:Ba,stack:gb}=W;n=ha[x];const sb=ha[Da(x)],zb=W.scaleName(x),Sb=W.getScaleComponent(x),{offset:Bc,offsetType:md}=We({channel:x,markDef:ya,encoding:ha,model:W,bandPosition:.5}),Tc=ug({model:W,defaultPos:M,channel:x,scaleName:zb,
scale:Sb});if(!n&&Ea(x)&&(ha.latitude||ha.longitude))W={field:W.getName(x)};else a:{W={channel:x,channelDef:n,channel2Def:sb,markDef:ya,config:Ba,scaleName:zb,scale:Sb,stack:gb,offset:Bc,defaultRef:Tc,bandPosition:"encoding"===md?0:void 0};const {channel:yd,channelDef:Jd,scaleName:de,stack:we,offset:ee,markDef:Ae}=W;if(Cd(Jd)&&we&&yd===we.fieldChannel){if(wc(Jd)&&(W=Jd.bandPosition,void 0!==W||"text"!==Ae.type||"radius"!==yd&&"theta"!==yd||(W=.5),void 0!==W)){W=Fb({scaleName:de,fieldOrDatumDef:Jd,
startSuffix:"start",bandPosition:W,offset:ee});break a}W=xb(Jd,de,{suffix:"end"},{offset:ee})}else W=Qa(W)}return W?{[Q||x]:W}:void 0}function ug(x){let {model:W,defaultPos:n,channel:M,scaleName:Q,scale:ha}=x;const {markDef:ya,config:Ba}=W;return()=>{var gb=Ja(M),sb=qa(M);sb=Dc(M,ya,Ba,{vgChannel:sb});if(void 0!==sb)return yc(M,sb);switch(n){case "zeroOrMin":case "zeroOrMax":if(Q&&(sb=ha.get("type"),!b([ji.LOG,ji.TIME,ji.UTC],sb)&&ha.domainDefinitelyIncludesZero()))return{scale:Q,value:0};if("zeroOrMin"===
n)return"y"===gb?{field:{group:"height"}}:{value:0};switch(gb){case "radius":return{signal:"min(".concat(W.width.signal,",").concat(W.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return gb=W[va(M)],Object.assign({},gb,{mult:.5})}}}function Tg(x,W,n){let M=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===x||"theta"===x)return qa(x);var Q="x"===x?"align":"baseline";const ha=Dc(Q,
W,n);Ic(ha)?(gc("The ".concat(Q," for range marks cannot be an expression")),Q=void 0):Q=ha;return"x"===x?mm[Q||("top"===M?"left":"center")]:nm[Q||M]}function wf(x,W,n){let {defaultPos:M,defaultPos2:Q,range:ha}=n;return ha?$f(x,W,{defaultPos:M,defaultPos2:Q}):Ef(x,W,{defaultPos:M})}function $f(x,W,n){let {defaultPos:M,defaultPos2:Q}=n;const {markDef:ha,config:ya}=W;var Ba=Da(x);n=va(x);{const {encoding:Bc,mark:md,markDef:Tc,stack:yd,config:Jd}=W;var gb=Ja(Ba),sb=va(Ba);const de=qa(Ba);var zb=Bc[gb],
Sb=W.scaleName(gb);const we=W.getScaleComponent(gb);({offset:gb}=Ba in Bc||Ba in Tc?We({channel:Ba,markDef:Tc,encoding:Bc,model:W}):We({channel:gb,markDef:Tc,encoding:Bc,model:W}));if(zb||"x2"!==Ba&&"y2"!==Ba||!Bc.latitude&&!Bc.longitude){let {channel:ee,channelDef:Ae,channel2Def:Ye,markDef:Qe,config:Ke,scaleName:ag,scale:ah,stack:jg,offset:di,defaultRef:Ji}={channel:Ba,channelDef:zb,channel2Def:Bc[Ba],markDef:Tc,config:Jd,scaleName:Sb,scale:we,stack:yd,offset:gb,defaultRef:void 0};zb=Cd(Ae)&&jg&&
ee.charAt(0)===jg.fieldChannel.charAt(0)?xb(Ae,ag,{suffix:"start"},{offset:di}):Qa({channel:ee,channelDef:Ye,scaleName:ag,scale:ah,stack:jg,markDef:Qe,config:Ke,offset:di,defaultRef:Ji});Ba=void 0!==zb?{[de]:zb}:cg(Ba,Tc)||cg(Ba,{[Ba]:Hd(Ba,Tc,Jd.style),[sb]:Hd(sb,Tc,Jd.style)})||cg(Ba,Jd[md])||cg(Ba,Jd.mark)||{[de]:ug({model:W,defaultPos:Q,channel:Ba,scaleName:Sb,scale:we})()}}else sb=va(Ba),Sb=W.markDef[sb],Ba=null!=Sb?{[sb]:{value:Sb}}:{[de]:{field:W.getName(Ba)}}}n=Ba[n]?Tg(x,ha,ya):qa(x);return Object.assign({},
Ef(x,W,{defaultPos:M,vgChannel:n}),Ba)}function cg(x,W){const n=va(x),M=qa(x);if(void 0!==W[M])return{[M]:yc(x,W[M])};if(void 0!==W[x])return{[M]:yc(x,W[x])};if(W[n])if(W=W[n],la(W))gc("Position range does not support relative band size for ".concat(n,"."));else return{[n]:yc(x,W)}}function rg(x,W){var n,M;const {config:Q,encoding:ha,markDef:ya}=x;var Ba=ya.type,gb=Da(W),sb=va(W),zb=ha[W];gb=ha[gb];var Sb=x.getScaleComponent(W);Sb=Sb?Sb.get("type"):void 0;const Bc=ya.orient,md=null!==(n=null!==(M=
ha[sb])&&void 0!==M?M:ha.size)&&void 0!==n?n:Dc("size",ya,Q,{vgChannel:sb});n="bar"===Ba&&("x"===W?"vertical"===Bc:"horizontal"===Bc);if(!wc(zb)||!(Xa(zb.bin)||Ya(zb.bin)||zb.timeUnit&&!gb)||md&&!la(md)||Qd(Sb)){if((Cd(zb)&&Qd(Sb)||n)&&!gb){var Tc;{const {markDef:we,encoding:ee,config:Ae,stack:Ye}=x;Ba=we.orient;var yd=x.scaleName(W);n=x.getScaleComponent(W);var Jd=va(W),de=Da(W);M=sa(W);M=x.scaleName(M);Ba="horizontal"===Ba&&"y"===W||"vertical"===Ba&&"x"===W;if(ee.size||we.size)Ba?Tc=Ed("size",x,
{vgChannel:Jd,defaultRef:Yb(we.size)}):gc('Cannot apply size to non-oriented mark "'.concat(we.type,'".'));Ba=Nb({channel:W,fieldDef:zb,markDef:we,config:Ae,scaleType:null===n||void 0===n?void 0:n.get("type"),useVlSizeChannel:Ba});Tc=Tc||{[Jd]:li(Jd,M||yd,n,Ae,Ba)};M="band"===(null===n||void 0===n?void 0:n.get("type"))&&"band"in Tc[Jd]?"top":"middle";M=Tg(W,we,Ae,M);sb="xc"===M||"yc"===M;const {offset:Qe,offsetType:Ke}=We({channel:W,markDef:we,encoding:ee,model:x,bandPosition:sb?.5:0});x=Qa({channel:W,
channelDef:zb,markDef:we,config:Ae,scaleName:yd,scale:n,stack:Ye,offset:Qe,defaultRef:ug({model:x,defaultPos:"mid",channel:W,scaleName:yd,scale:n}),bandPosition:sb?"encoding"===Ke?0:.5:Ic(Ba)?{signal:"(1-".concat(Ba,")/2")}:la(Ba)?(1-Ba.band)/2:0});Jd?Tc=Object.assign({},{[M]:x},Tc):(W=qa(de),Tc=Tc[Jd],Tc=Qe?Object.assign({},Tc,{offset:Qe}):Tc,Tc={[M]:x,[W]:p.isArray(x)?[x[0],Object.assign({},x[1],{offset:Tc})]:Object.assign({},x,{offset:Tc})})}return Tc}return $f(W,x,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:we,
fieldDef2:ee,channel:Ae,model:Ye}={fieldDef:zb,fieldDef2:gb,channel:W,model:x};const {config:Qe,markDef:Ke,encoding:ag}=Ye;x=Ye.getScaleComponent(Ae);Tc=Ye.scaleName(Ae);W=x?x.get("type"):void 0;x=x.get("reverse");W=Nb({channel:Ae,fieldDef:we,markDef:Ke,config:Qe,scaleType:W});zb=null===(yd=Ye.component.axes[Ae])||void 0===yd?void 0:yd[0];zb=null!==(de=null===zb||void 0===zb?void 0:zb.get("translate"))&&void 0!==de?de:.5;de=Ea(Ae)?null!==(Jd=Dc("binSpacing",Ke,Qe))&&void 0!==Jd?Jd:0:0;Jd=Da(Ae);yd=
qa(Ae);n=qa(Jd);({offset:M}=We({channel:Ae,markDef:Ke,encoding:ag,model:Ye,bandPosition:0}));W=Ic(W)?{signal:"(1-".concat(W.signal,")/2")}:la(W)?(1-W.band)/2:.5;if(Xa(we.bin)||we.timeUnit)Tc={[n]:hh({fieldDef:we,scaleName:Tc,bandPosition:W,offset:Dg(Jd,de,x,zb,M)}),[yd]:hh({fieldDef:we,scaleName:Tc,bandPosition:Ic(W)?{signal:"1-".concat(W.signal)}:1-W,offset:Dg(Ae,de,x,zb,M)})};else{if(Ya(we.bin)){W=xb(we,Tc,{},{offset:Dg(Jd,de,x,zb,M)});if(wc(ee)){Tc={[n]:W,[yd]:xb(ee,Tc,{},{offset:Dg(Ae,de,x,zb,
M)})};break a}if(p.isObject(we.bin)&&we.bin.step){Tc={[n]:W,[yd]:{signal:'scale("'.concat(Tc,'", ').concat(vd(we,{expr:"datum"})," + ").concat(we.bin.step,")"),offset:Dg(Ae,de,x,zb,M)}};break a}}gc(Kc(Jd));Tc=void 0}}return Tc}function li(x,W,n,M,Q){if(la(Q))if(n){const ha=n.get("type");if("band"===ha)return{scale:W,band:Q.band};1!==Q.band&&gc("Cannot use the relative band size with ".concat(ha," scale."))}else return{mult:Q.band,field:{group:x}};else{if(Ic(Q))return Q;if(Q)return{value:Q}}return n&&
(W=n.get("range"),rc(W)&&p.isNumber(W.step))?{value:W.step-2}:{value:Hc(M.view,x)-2}}function Dg(x,W,n,M,Q){if(x in ck)return 0;x="x"===x||"y2"===x?-W/2:W/2;if(Ic(n)||Ic(Q)||Ic(M))return n=vc(n),Q=vc(Q),M=(M=vc(M))?"".concat(M," + "):"",n=n?"(".concat(n," ? -1 : 1) * "):"",x=Q?"(".concat(Q," + ").concat(x,")"):x,{signal:M+n+x};Q=Q||0;return M+(n?-Q-x:+Q+x)}function hh(x){let {fieldDef:W,scaleName:n,bandPosition:M,offset:Q}=x;return Fb({scaleName:n,fieldOrDatumDef:W,bandPosition:M,offset:Q})}function ih(x,
W){const {fill:n,stroke:M}="include"===W.color?De(x):{};var Q=Object,ha=Q.assign;W=ch(x.markDef,W);var ya=Vg(x,"fill",n),Ba=Vg(x,"stroke",M),gb=Ed("opacity",x),sb=Ed("fillOpacity",x),zb=Ed("strokeOpacity",x),Sb=Ed("strokeWidth",x),Bc=Ed("strokeDash",x),md=Af(x),Tc=gd(x),yd=kc(x,"href");{const {markDef:ee,config:Ae}=x,Ye=Dc("aria",ee,Ae);if(!1===Ye)x={};else{var Jd=Object,de=Jd.assign;{const {mark:Qe,markDef:Ke,config:ag}=x;if(!1===ag.aria)var we={};else we=Dc("ariaRoleDescription",Ke,ag),we=null!=
we?{ariaRoleDescription:{value:we}}:Qe in Mj?{}:{ariaRoleDescription:{value:Qe}}}x=de.call(Jd,{},Ye?{aria:Ye}:{},we,Sd(x))}}return ha.call(Q,{},W,ya,Ba,gb,sb,zb,Sb,Bc,md,Tc,yd,x)}function Vg(x,W,n){const {config:M,mark:Q,markDef:ha}=x;return"hide"===Dc("invalid",ha,M)&&n&&!Oa(Q)&&(x=Wh(x,{invalid:!0,channels:yj}))?{[W]:[{test:x,value:null},...p.array(n)]}:n?{[W]:n}:{}}function ch(x,W){return yi.reduce((n,M)=>{om.has(M)||void 0===x[M]||"ignore"===W[M]||(n[M]=Yb(x[M]));return n},{})}function Wh(x,W){let {invalid:n=
!1,channels:M}=W;W=M.reduce((Q,ha)=>{var ya=x.getScaleComponent(ha);ya&&(ya=ya.get("type"),(ha=x.vgField(ha,{expr:"datum"}))&&se(ya)&&(Q[ha]=!0));return Q},{});W=ne(W);if(0<W.length){const Q=n?"||":"\x26\x26";return W.map(ha=>fb(ha,n)).join(" ".concat(Q," "))}}function Jg(x){const {config:W,markDef:n}=x;return Dc("invalid",n,W)&&(x=si(x,{channels:oi}))?{defined:{signal:x}}:{}}function si(x,W){let {invalid:n=!1,channels:M}=W;W=M.reduce((Q,ha)=>{var ya=x.getScaleComponent(ha);ya&&(ya=ya.get("type"),
(ha=x.vgField(ha,{expr:"datum"}))&&se(ya)&&(Q[ha]=!0));return Q},{});W=ne(W);if(0<W.length){const Q=n?"||":"\x26\x26";return W.map(ha=>fb(ha,n)).join(" ".concat(Q," "))}}function Ug(x,W){if(void 0!==W)return{[x]:Yb(W)}}function Mg(x,W,n,M,Q){var ha,ya,Ba=W.name,gb=Ba+"_translate_anchor";Ba+="_translate_delta";var sb=n.channel;const zb=lj.defined(W);W=Q.filter(md=>md.name===n.signals[zb?"data":"visual"])[0];M=x.getSizeSignalRef(M).signal;x=x.getScaleComponent(sb);Q=x.get("type");var Sb=x.get("reverse");
Sb=zb?"x"===sb?Sb?"":"-":Sb?"-":"":"";gb="".concat(gb,".extent_").concat(sb);sb="".concat(Sb).concat(Ba,".").concat(sb," / ").concat(zb?"".concat(M):"span(".concat(gb,")"));Sb=zb?"log"===Q?"panLog":"symlog"===Q?"panSymlog":"pow"===Q?"panPow":"panLinear":"panLinear";const Bc=zb?"pow"===Q?", ".concat(null!==(ha=x.get("exponent"))&&void 0!==ha?ha:1):"symlog"===Q?", ".concat(null!==(ya=x.get("constant"))&&void 0!==ya?ya:1):"":"";ha="".concat(Sb,"(").concat(gb,", ").concat(sb).concat(Bc,")");W.on.push({events:{signal:Ba},
update:zb?ha:"clampRange(".concat(ha,", 0, ").concat(M,")")})}function lg(x,W,n,M,Q){var ha,ya,Ba=W.name,gb=n.channel;const sb=lj.defined(W);W=Q.filter(md=>md.name===n.signals[sb?"data":"visual"])[0];M=x.getSizeSignalRef(M).signal;Q=x.getScaleComponent(gb);const zb=Q.get("type"),Sb=sb?$c(x,gb):W.name;x=Ba+"_zoom_delta";Ba="".concat(Ba).concat("_zoom_anchor",".").concat(gb);gb=sb?"log"===zb?"zoomLog":"symlog"===zb?"zoomSymlog":"pow"===zb?"zoomPow":"zoomLinear":"zoomLinear";const Bc=sb?"pow"===zb?", ".concat(null!==
(ha=Q.get("exponent"))&&void 0!==ha?ha:1):"symlog"===zb?", ".concat(null!==(ya=Q.get("constant"))&&void 0!==ya?ya:1):"":"";ha="".concat(gb,"(").concat(Sb,", ").concat(Ba,", ").concat(x).concat(Bc,")");W.on.push({events:{signal:x},update:sb?ha:"clampRange(".concat(ha,", 0, ").concat(M,")")})}function Dh(x){var {escape:W}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};W=W?p.stringValue(x.name):x.name;var n;for(n=x.parent;n&&!jc(n);)n=n.parent;if(n){const {facet:M}=n;for(const Q of ei)M[Q]&&
(W+=" + '__facet_".concat(Q,"_' + (facet[").concat(p.stringValue(n.vgField(Q)),"])"))}return W}function Gh(x){var W;return Bh(null!==(W=x.component.selection)&&void 0!==W?W:{}).reduce((n,M)=>n||M.project.items.some(Q=>"_vgsid_"===Q.field),!1)}function ii(x,W){!p.isString(W.select)&&W.select.on||delete x.events;!p.isString(W.select)&&W.select.clear||delete x.clear;!p.isString(W.select)&&W.select.toggle||delete x.toggle}function Zf(x){const W=[];if("Identifier"===x.type)return[x.name];if("Literal"===
x.type)return[x.value];"MemberExpression"===x.type&&(W.push(...Zf(x.object)),W.push(...Zf(x.property)));return W}function Eg(x){return"MemberExpression"===x.object.type?Eg(x.object):"datum"===x.object.name}function rh(x){x=p.parseExpression(x);const W=new Set;x.visit(n=>{"MemberExpression"===n.type&&Eg(n)&&W.add(Zf(n).slice(1).join("."))});return W}function mi(x,W,n){var M=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",Q=p.isString(W)?W:W.param,ha=G(Q),ya=p.stringValue(ha+"_store");
let Ba;try{Ba=x.getSelectionComponent(ha,Q)}catch(gb){return"!!".concat(ha)}Ba.project.timeUnit&&(Q=null!==n&&void 0!==n?n:x.component.data.raw,ha=Ba.project.timeUnit.clone(),Q.parent?ha.insertAsParentOf(Q):Q.parent=ha);M="vlSelectionTest(".concat(ya,", ").concat(M).concat("global"===Ba.resolve?")":", ".concat(p.stringValue(Ba.resolve),")"));ya="length(data(".concat(ya,"))");return!1===W.empty?"".concat(ya," \x26\x26 ").concat(M):"!".concat(ya," || ").concat(M)}function vi(x,W,n){const M=G(W),Q=n.encoding;
let ha=n.field,ya;try{ya=x.getSelectionComponent(M,W)}catch(Ba){return M}Q||ha?Q&&!ha&&(x=ya.project.items.filter(Ba=>Ba.channel===Q),!x.length||1<x.length?(ha=ya.project.items[0].field,gc((x.length?"Multiple ":"No ")+"matching ".concat(p.stringValue(Q)," encoding found for selection ").concat(p.stringValue(n.param),". ")+'Using "field": '.concat(p.stringValue(ha),"."))):ha=x[0].field):(ha=ya.project.items[0].field,1<ya.project.items.length&&gc('A "field" or "encoding" must be specified when using a selection as a scale domain. '+
'Using "field": '.concat(p.stringValue(ha),".")));return"".concat(ya.name,"[").concat(p.stringValue(T(ha)),"]")}function yh(x,W,n){return L(W,M=>p.isString(M)?M:(null===M||void 0===M?0:M.param)?mi(x,M,n):Gb(M))}function Li(x,W){if(x)return p.isArray(x)&&!xc(x)?x.map(n=>Ai(n,W)).join(", "):x}function Xi(x,W,n,M){var Q,ha,ya,Ba,gb;null!==(Q=x.encode)&&void 0!==Q?Q:x.encode={};null!==(ya=(ha=x.encode)[W])&&void 0!==ya?ya:ha[W]={};null!==(gb=(Ba=x.encode[W]).update)&&void 0!==gb?gb:Ba.update={};x.encode[W].update[n]=
M}function Ei(x,W,n){var M=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},Q=x.combine(),ha=Object.assign({},Q),ya=Q.disable;const Ba=Q.orient,gb=Q.scale;var sb=Q.labelExpr;const zb=Q.title;Q=Q.zindex;ha=(delete ha.disable,delete ha.orient,delete ha.scale,delete ha.labelExpr,delete ha.title,delete ha.zindex,ha);if(!ya){for(const Tc in ha){var Sb=Xk[Tc];ya=ha[Tc];if(Sb&&Sb!==W&&"both"!==Sb)delete ha[Tc];else if(eg(ya)){Sb=ya;ya=Object.assign({},Sb);Sb=Sb.condition;ya=(delete ya.condition,
ya);Sb=p.array(Sb);const yd=Vj[Tc];if(yd){const {vgProp:Jd,part:de}=yd;ya=[...Sb.map(we=>{var ee=Object.assign({},we);we=we.test;ee=(delete ee.test,ee);return Object.assign({},{test:yh(null,we)},ee)}),ya];Xi(ha,de,Jd,ya);delete ha[Tc]}else null===yd&&(ya={signal:Sb.map(Jd=>{var de=Object.assign({},Jd);Jd=Jd.test;de=(delete de.test,de);return"".concat(yh(null,Jd)," ? ").concat(hc(de)," : ")}).join("")+hc(ya)},ha[Tc]=ya)}else if(Ic(ya)&&(Sb=Vj[Tc])){const {vgProp:yd,part:Jd}=Sb;Xi(ha,Jd,yd,ya);delete ha[Tc]}b(["labelAlign",
"labelBaseline"],Tc)&&null===ha[Tc]&&delete ha[Tc]}if("grid"===W){if(ha.grid)return ha.encode&&({grid:sb}=ha.encode,ha.encode=Object.assign({},sb?{grid:sb}:{}),w(ha.encode)&&delete ha.encode),Object.assign({},{scale:gb,orient:Ba},ha,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:C(Q,0)})}else if(M.header||!x.mainExtracted){if(void 0!==sb){var Bc,md;M=sb;null!==(Bc=ha.encode)&&void 0!==Bc&&null!==(md=Bc.labels)&&void 0!==md&&md.update&&Ic(ha.encode.labels.update.text)&&(M=R(sb,
"datum.label",ha.encode.labels.update.text.signal));Xi(ha,"labels","text",{signal:M})}null===ha.labelAlign&&delete ha.labelAlign;if(ha.encode){for(const Tc of Ck)x.hasAxisPart(Tc)||delete ha.encode[Tc];w(ha.encode)&&delete ha.encode}sb=Li(zb,n);return Object.assign({},{scale:gb,orient:Ba,grid:!1},sb?{title:sb}:{},ha,!1===n.aria?{aria:!1}:{},{zindex:C(Q,0)})}}}function ri(x){const {axes:W}=x.component,n=[];for(const M of oi)if(W[M])for(const Q of W[M])if(!Q.get("disable")&&!Q.get("gridScale")){const ha=
"x"===M?"height":"width",ya=x.getSizeSignalRef(ha).signal;ha!==ya&&n.push({name:ha,update:ya})}return n}function Ii(x,W){const {x:n=[],y:M=[]}=x;return[...n.map(Q=>Ei(Q,"grid",W)),...M.map(Q=>Ei(Q,"grid",W)),...n.map(Q=>Ei(Q,"main",W)),...M.map(Q=>Ei(Q,"main",W))].filter(Q=>Q)}function Bi(x,W,n,M){return Object.assign.apply(null,[{},...x.map(Q=>{if("axisOrient"===Q){Q="x"===n?"bottom":"left";const ha=W["x"===n?"axisBottom":"axisLeft"]||{},ya=W["x"===n?"axisTop":"axisRight"]||{},Ba=new Set([...ne(ha),
...ne(ya)]),gb={};for(const sb of Ba.values())gb[sb]={signal:"".concat(M.signal,' \x3d\x3d\x3d "').concat(Q,'" ? ').concat(vc(ha[sb])," : ").concat(vc(ya[sb]))};return gb}return W[Q]})])}function Hg(x,W,n,M){var Q="band"===W?["axisDiscrete","axisBand"]:"point"===W?["axisDiscrete","axisPoint"]:pi.has(W)?["axisQuantitative"]:"time"===W||"utc"===W?["axisTemporal"]:[];const ha="x"===x?"axisX":"axisY";W=Ic(n)?"axisOrient":"axis".concat(V(n));Q=[...Q,...Q.map(ya=>ha+ya.substr(4))];W=["axis",W,ha];return{vlOnlyAxisConfig:Bi(Q,
M,x,n),vgAxisConfig:Bi(W,M,x,n),axisConfigStyle:Jj([...W,...Q],M)}}function Jj(x,W){const n=[{}];for(const Q of x){var M;if(x=null===(M=W[Q])||void 0===M?void 0:M.style){x=p.array(x);for(const ha of x)n.push(W.style[ha])}}return Object.assign.apply(null,n)}function pa(x,W,n){let M=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const Q=Fa(x,n,W);if(void 0!==Q)return{configFrom:"style",configValue:Q};for(const ya of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var ha;if(void 0!==
(null===(ha=M[ya])||void 0===ha?void 0:ha[x]))return{configFrom:ya,configValue:M[ya][x]}}return{}}function Pa(x,W,n,M,Q){const ha=null===W||void 0===W?void 0:W.labelAngle;if(void 0!==ha)return Ic(ha)?ha:ba(ha);({configValue:W}=pa("labelAngle",M,null===W||void 0===W?void 0:W.style,Q));if(void 0!==W)return ba(W);if("x"===n&&b(["nominal","ordinal"],x.type)&&(!wc(x)||!x.timeUnit))return 270}function Va(x){return"(((".concat(x.signal," % 360) + 360) % 360)")}function wb(x,W,n,M){if(void 0!==x)return"x"===
n?Ic(x)?(M=Va(x),W=Ic(W)?"(".concat(W.signal,' \x3d\x3d\x3d "top")'):"top"===W,{signal:"(45 \x3c ".concat(M," \x26\x26 ").concat(M," \x3c 135) || (225 \x3c ").concat(M," \x26\x26 ").concat(M,' \x3c 315) ? "middle" :')+"(".concat(M," \x3c\x3d 45 || 315 \x3c\x3d ").concat(M,") \x3d\x3d\x3d ").concat(W,' ? "bottom" : "top"')}):45<x&&135>x||225<x&&315>x?"middle":Ic(W)?(M=45>=x||315<=x?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(W.signal," ").concat(M,' "top" ? "bottom" : "top"')}):(45>=x||315<=x)===
("top"===W)?"bottom":"top":Ic(x)?(x=Va(x),W=Ic(W)?"(".concat(W.signal,' \x3d\x3d\x3d "left")'):"left"===W,M=M?'"middle"':"null",{signal:"".concat(x," \x3c\x3d 45 || 315 \x3c\x3d ").concat(x," || (135 \x3c\x3d ").concat(x," \x26\x26 ").concat(x," \x3c\x3d 225) ? ").concat(M," : (45 \x3c\x3d ").concat(x," \x26\x26 ").concat(x," \x3c\x3d 135) \x3d\x3d\x3d ").concat(W,' ? "top" : "bottom"')}):45>=x||315<=x||135<=x&&225>=x?M?"middle":null:Ic(W)?(M=45<=x&&135>=x?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(W.signal,
" ").concat(M,' "left" ? "top" : "bottom"')}):(45<=x&&135>=x)===("left"===W)?"top":"bottom"}function bc(x,W,n){if(void 0!==x){var M=(n="x"===n)?0:90,Q=n?"bottom":"left";return Ic(x)?(x=Va(x),W=Ic(W)?"(".concat(W.signal,' \x3d\x3d\x3d "').concat(Q,'")'):W===Q,{signal:"(".concat(M?"(".concat(x," + 90)"):x," % 180 \x3d\x3d\x3d 0) ? ").concat(n?null:'"center"'," :")+"(".concat(M," \x3c ").concat(x," \x26\x26 ").concat(x," \x3c ").concat(180+M,") \x3d\x3d\x3d ").concat(W,' ? "left" : "right"')}):0===(x+
M)%180?n?null:"center":Ic(W)?(n=M<x&&x<180+M?"\x3d\x3d\x3d":"!\x3d\x3d",W="".concat(W.signal," ").concat(n,' "').concat(Q,'"'),{signal:"".concat(W,' ? "left" : "right"')}):(M<x&&x<180+M)===(W===Q)?"left":"right"}}function cc(x,W){var n="x"===W?"x2":"y2";W=x.fieldDef(W);x=x.fieldDef(n);n=W?W.title:void 0;x=x?x.title:void 0;if(n&&x)return db(n,x);if(n)return n;if(x)return x;if(void 0!==n)return n;if(void 0!==x)return x}function lc(x,W,n){return vd(x,Object.assign({},{prefix:W,suffix:"sort_index"},null!==
n&&void 0!==n?n:{}))}function Cc(x,W){return b(["top","bottom"],W)?"column":b(["left","right"],W)?"row":"row"===x?"row":"column"}function id(x,W,n,M){return C((W||{})[x],("row"===M?n.headerRow:"column"===M?n.headerColumn:n.headerFacet)[x],n.header[x])}function Gd(x,W,n,M){const Q={};for(const ha of x)x=id(ha,W||{},n,M),void 0!==x&&(Q[ha]=x);return Q}function Wd(x,W){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const n=
bc(W,"row"===x?"left":"top","row"===x?"y":"x");return n?{align:n}:{}}function pd(x,W){return(x=wb(x,"row"===W?"left":"top","row"===W?"y":"x",!0))?{baseline:x}:{}}function le(x,W,n){const {format:M,formatType:Q,labelAngle:ha,labelAnchor:ya,labelOrient:Ba,labelExpr:gb}=Gd("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),x.header,n,W),sb=Lc({fieldOrDatumDef:x,format:M,formatType:Q,expr:"parent",config:n}).signal,zb=Cc(W,Ba);return Object.assign({},{text:{signal:gb?R(R(gb,"datum.label",
sb),"datum.value",vd(x,{expr:"parent"})):sb}},"row"===W?{orient:"left"}:{},{style:"guide-label",frame:"group"},pd(ha,zb),Wd(zb,ha,ya),Ze(n,x,W,vl,Mk))}function Ze(x,W,n,M,Q){const ha={};for(const ya of M)Q[ya]&&(M=id(ya,null===W||void 0===W?void 0:W.header,x,n),void 0!==M&&(ha[Q[ya]]=M));return ha}function Cf(x){return[...Ie(x,"width"),...Ie(x,"height"),...Ie(x,"childWidth"),...Ie(x,"childHeight")]}function Ie(x,W){var n="width"===W?"x":"y",M=x.component.layoutSize.get(W);if(!M||"merged"===M)return[];
W=x.getSizeSignalRef(W).signal;if("step"===M){if(M=x.getScaleComponent(n)){var Q=M.get("type");const ha=M.get("range");if(Qd(Q)&&rc(ha))return Q=x.scaleName(n),jc(x.parent)&&"independent"===x.parent.component.resolve.scale[n]?[bg(Q,ha)]:[bg(Q,ha),{name:W,update:Og(Q,M,"domain('".concat(Q,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==M?(n=(M=W.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",x=Xb(x.config.view,M?"width":"height"),
x="isFinite(".concat(n,") ? ").concat(n," : ").concat(x),[{name:W,init:x,on:[{update:x,events:"window:resize"}]}]):[{name:W,value:M}]}function bg(x,W){x="".concat(x,"_step");return Ic(W.step)?{name:x,update:W.step.signal}:{name:x,value:W.step}}function Og(x,W,n){const M=W.get("type"),Q=W.get("padding"),ha=C(W.get("paddingOuter"),Q);W=W.get("paddingInner");W="band"===M?void 0!==W?W:Q:1;return"bandspace(".concat(n,", ").concat(vc(W),", ").concat(vc(ha),") * ").concat(x,"_step")}function Le(x){return"childWidth"===
x?"width":"childHeight"===x?"height":x}function sh(x,W){return ne(x).reduce((n,M)=>Object.assign({},n,rb(W,x[M],M,Q=>Yb(Q.value))),{})}function Lh(x,W){if(jc(W))return"theta"===x?"independent":"shared";if(bd(W))return"shared";if(Sc(W))return Ea(x)||"theta"===x||"radius"===x?"independent":"shared";throw Error("invalid model type for resolve");}function Pg(x,W){const n=x.scale[W],M=Ea(W)?"axis":"legend";return"independent"===n?("shared"===x[M][W]&&gc('Setting the scale to be independent for "'.concat(W,
'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):x[M][W]||"shared"}function of(x){return Xh(x,(W,n)=>Math.max(W,n.value))}function zg(x){return Xh(x,(W,n)=>C(W,n.value))}function Xh(x,W){const n=x&&x.condition;if(n&&(p.isArray(n)||ve(n)))return p.array(x.condition).reduce(W,x.value);if(ve(x))return x.value}function Me(x,W,n){x=W.get("selections");if(null!==x&&void 0!==x&&x.length){var M=p.stringValue(n.field);return x.map(Q=>{const ha=p.stringValue(G(Q)+
"_store");return"(!length(data(".concat(ha,")) || (").concat(Q,"[").concat(M,"] \x26\x26 indexof(").concat(Q,"[").concat(M,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function qe(x,W,n,M){x=x.getSizeSignalRef(W).signal;return{signal:"clamp(".concat(x,", ").concat(n,", ").concat(M,")")}}function Re(x){var W;if(Tb(x)){var {encoding:n}=x,M={};for(const Ye of["color",...Wj]){var Q=Ge(n[Ye]);if(Q&&x.getScaleComponent(Ye)&&("shape"!==Ye||!wc(Q)||"geojson"!==Q.type)){a:{var ha=Q=void 0,ya=void 0,Ba=
void 0,gb=void 0,sb=void 0;var zb=void 0;var Sb=x,Bc=Ye;let Qe=Sb.legend(Bc);const {markDef:Ke,encoding:ag,config:ah}=Sb;var md=ah.legend;b:{var Tc=Sb;var yd=Bc,Jd=Tc.scaleName(yd);if("trail"===Tc.mark){if("color"===yd){Tc={stroke:Jd};break b}if("size"===yd){Tc={strokeWidth:Jd};break b}}Tc="color"===yd?Tc.markDef.filled?{fill:Jd}:{stroke:Jd}:{[yd]:Jd}}Tc=new pm({},Tc);yd=null===(Ba=Sb.fieldDef(Bc))||void 0===Ba?void 0:Ba.field;for(const bh of Bh(null!==(W=Sb.component.selection)&&void 0!==W?W:{})){var de;
if((Ba=null!==(de=bh.project.hasField[yd])&&void 0!==de?de:bh.project.hasChannel[Bc])&&Wl.defined(bh)){var we;Jd=null!==(we=Tc.get("selections"))&&void 0!==we?we:[];Jd.push(bh.name);Tc.set("selections",Jd,!1);Ba.hasLegend=!0}}Ba=void 0!==Qe?!Qe:md.disable;Tc.set("disable",Ba,void 0!==Qe);if(Ba){Q=Tc;break a}Qe=Qe||{};yd=Sb.getScaleComponent(Bc).get("type");Ba=Ge(ag[Bc]);var ee=wc(Ba)?null===(zb=rf(Ba.timeUnit))||void 0===zb?void 0:zb.unit:void 0;Jd=Qe.orient||ah.legend.orient||"right";zb={legend:Qe,
channel:Bc,timeUnit:ee,scaleType:yd};({legend:ee}=zb);ee=ee.type;b:{let {channel:bh,timeUnit:ml,scaleType:Fl}=zb;if(Wa(bh)){if(b(["quarter","month","day"],ml)){zb="symbol";break b}if(gi.has(Fl)){zb="gradient";break b}}zb="symbol"}zb=C(ee,zb);let {legendConfig:jg,legendType:di,orient:Ji,legend:El}={legend:Qe,legendType:zb,orient:Jd,legendConfig:md};if(null!==(ya=null!==(ha=El.direction)&&void 0!==ha?ha:jg[di?"gradientDirection":"symbolDirection"])&&void 0!==ya)ha=ya;else b:{switch(Ji){case "top":case "bottom":ha=
"horizontal";break b;case "left":case "right":case "none":case void 0:break;default:ha="gradient"===di?"horizontal":void 0;break b}ha=void 0}md={legend:Qe,channel:Bc,model:Sb,markDef:Ke,encoding:ag,fieldOrDatumDef:Ba,legendConfig:md,config:ah,scaleType:yd,orient:Jd,legendType:zb,direction:ha};for(const bh of Xl)if(!("gradient"===zb&&bh.startsWith("symbol")||"symbol"===zb&&bh.startsWith("gradient"))&&(ha=bh in Yl?Yl[bh](md):Qe[bh],void 0!==ha)){b:{ya=Sb.fieldDef(Bc);switch(bh){case "disable":ya=void 0!==
Qe;break b;case "values":ya=!(null===Qe||void 0===Qe||!Qe.values);break b;case "title":if("title"===bh&&ha===(null===ya||void 0===ya?void 0:ya.title)){ya=!0;break b}}ya=ha===(Qe||{})[bh]}(ya||void 0===ah.legend[bh])&&Tc.set(bh,ha,ya)}md=null!==(sb=null===(gb=Qe)||void 0===gb?void 0:gb.encoding)&&void 0!==sb?sb:{};gb=Tc.get("selections");sb={};Bc={fieldOrDatumDef:Ba,model:Sb,channel:Bc,legendCmpt:Tc,legendType:zb};for(const bh of"labels legend title symbols gradient entries".split(" ")){var Ae;ha=
sh(null!==(Ae=md[bh])&&void 0!==Ae?Ae:{},Sb);ha=bh in Zl?Zl[bh](ha,Bc):ha;void 0===ha||w(ha)||(sb[bh]=Object.assign({},null!==gb&&void 0!==gb&&gb.length&&wc(Ba)?{name:"".concat(G(Ba.field),"_legend_").concat(bh)}:{},null!==gb&&void 0!==gb&&gb.length?{interactive:!!gb}:{},{update:ha}))}w(sb)||Tc.set("encode",sb,!(null===(Q=Qe)||void 0===Q||!Q.encoding));Q=Tc}M[Ye]=Q}}W=M}else{const {legends:Ye,resolve:Qe}=x.component;for(n of x.children){Re(n);for(M of ne(n.component.legends))Qe.legend[M]=Pg(x.component.resolve,
M),"shared"===Qe.legend[M]&&(Ye[M]=re(Ye[M],n.component.legends[M]),Ye[M]||(Qe.legend[M]="independent",delete Ye[M]))}for(Q of ne(Ye))for(Sb of x.children)Sb.component.legends[Q]&&"shared"===Qe.legend[Q]&&delete Sb.component.legends[Q];W=Ye}return x.component.legends=W}function re(x,W){if(!x)return W.clone();var n=x.getWithExplicit("orient");const M=W.getWithExplicit("orient");if(!n.explicit||!M.explicit||n.value===M.value){var Q=!1;for(const sb of Xl)n=Yg(x.getWithExplicit(sb),W.getWithExplicit(sb),
sb,"legend",(zb,Sb)=>{switch(sb){case "symbolType":return zb="circle"===Sb.value?Sb:zb,zb;case "title":return ob(zb,Sb);case "type":return Q=!0,ig("symbol")}return ph(zb,Sb,sb,"legend")}),x.setWithExplicit(sb,n);if(Q){var ha,ya,Ba,gb;null!==(ha=x.implicit)&&void 0!==ha&&null!==(ya=ha.encode)&&void 0!==ya&&ya.gradient&&O(x.implicit,["encode","gradient"]);null!==(Ba=x.explicit)&&void 0!==Ba&&null!==(gb=Ba.encode)&&void 0!==gb&&gb.gradient&&O(x.explicit,["encode","gradient"])}return x}}function xf(x){const W=
x.component.legends,n={};for(const Q of ne(W)){var M=x.getScaleComponent(Q);M=Lg(M.get("domains"));if(n[M])for(const ha of n[M])re(ha,W[Q])||n[M].push(W[Q]);else n[M]=[W[Q].clone()]}return Bh(n).flat().map(Q=>{{var ha=x.config,ya,Ba=Q.combine();Q=Object.assign({},Ba);const Jd=Ba.disable;Ba=Ba.labelExpr;Q=(delete Q.disable,delete Q.labelExpr,delete Q.selections,Q);if(Jd)var gb=void 0;else{!1===ha.aria&&void 0==Q.aria&&(Q.aria=!1);if(null!==(ya=Q.encode)&&void 0!==ya&&ya.symbols){ha=Q.encode.symbols.update;
!ha.fill||"transparent"===ha.fill.value||ha.stroke||Q.stroke||(ha.stroke={value:"transparent"});for(var sb of Wj)Q[sb]&&delete ha[sb]}Q.title||delete Q.title;if(void 0!==Ba){var zb,Sb;sb=Ba;null!==(zb=Q.encode)&&void 0!==zb&&null!==(Sb=zb.labels)&&void 0!==Sb&&Sb.update&&Ic(Q.encode.labels.update.text)&&(sb=R(Ba,"datum.label",Q.encode.labels.update.text.signal));zb=Q;Sb={signal:sb};var Bc,md,Tc,yd;null!==(gb=zb.encode)&&void 0!==gb?gb:zb.encode={};null!==(md=(Bc=zb.encode).labels)&&void 0!==md?md:
Bc.labels={};null!==(yd=(Tc=zb.encode.labels).update)&&void 0!==yd?yd:Tc.update={};zb.encode.labels.update.text=Sb}gb=Q}}return gb}).filter(Q=>void 0!==Q)}function Wg(x){return x.children.reduce((W,n)=>W.concat(n.assembleProjections()),dg(x))}function dg(x){var W=x.component.projection;if(!W||W.merged)return[];const n=W.combine(),{name:M}=n;if(W.data){const Q={signal:"[".concat(W.size.map(ha=>ha.signal).join(", "),"]")};W=W.data.reduce((ha,ya)=>{ya=Ic(ya)?ya.signal:"data('".concat(x.lookupDataSource(ya),
"')");ha.includes(ya)||ha.push(ya);return ha},[]);if(0>=W.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:M,size:Q,fit:{signal:1<W.length?"[".concat(W.join(", "),"]"):W[0]}},n)]}return[Object.assign({},{name:M},{translate:{signal:"[width / 2, height / 2]"}},n)]}function mh(x){var W=x.component,n;if(Tb(x))if(x.hasProjection){const ha=Zb(x.specifiedProjection);var M=!(ha&&(null!=ha.scale||null!=ha.translate));const ya=M?[x.getSizeSignalRef("width"),
x.getSizeSignalRef("height")]:void 0;if(M){M=[];const {encoding:Ba}=x;for(Q of[["longitude","latitude"],["longitude2","latitude2"]])(Ge(Ba[Q[0]])||Ge(Ba[Q[1]]))&&M.push({signal:x.getName("geojson_".concat(M.length))});x.channelHasField("shape")&&"geojson"===x.typedFieldDef("shape").type&&M.push({signal:x.getName("geojson_".concat(M.length))});0===M.length&&M.push(x.requestDataName(Be.Main));var Q=M}else Q=void 0;x=new $l(x.projectionName(!0),Object.assign({},null!==(n=Zb(x.config.projection))&&void 0!==
n?n:{},null!==ha&&void 0!==ha?ha:{}),ya,Q);x.get("type")||x.set("type","equalEarth",!1);n=x}else n=void 0;else n=Ih(x);W.projection=n}function $h(x,W){const n=a(qm,M=>!p.hasOwnProperty(x.explicit,M)&&!p.hasOwnProperty(W.explicit,M)||p.hasOwnProperty(x.explicit,M)&&p.hasOwnProperty(W.explicit,M)&&oh(x.get(M),W.get(M))?!0:!1);if(oh(x.size,W.size)){if(n)return x;if(oh(x.explicit,{}))return W;if(oh(W.explicit,{}))return x}return null}function Ih(x){if(0!==x.children.length){var W;for(var n of x.children)mh(n);
n=a(x.children,M=>{if(M=M.component.projection){if(W)return(M=$h(W,M))&&(W=M),!!M;W=M}return!0});if(W&&n){n=x.projectionName(!0);const M=new $l(n,W.specifiedProjection,W.size,uf(W.data));for(const Q of x.children)if(x=Q.component.projection)x.isFit&&M.data.push(...Q.component.projection.data),Q.renameProjection(x.get("name"),n),x.merged=!0;return M}}}function Pi(x,W){return"".concat(Ia(x),"_").concat(W)}function Kj(x,W,n){var M;n=null!==(M=Bg(n,void 0))&&void 0!==M?M:{};W=Pi(n,W);return x.getName("".concat(W,
"_bins"))}function Yj(x,W,n){let M;M="as"in x?p.isString(x.as)?[x.as,"".concat(x.as,"_end")]:[x.as[0],x.as[1]]:[vd(x,{forAs:!0}),vd(x,{binSuffix:"end",forAs:!0})];const Q=Object.assign({},Bg(W,void 0));W=Pi(Q,x.field);var ha={signal:n.getName("".concat(W,"_bins")),extentSignal:n.getName("".concat(W,"_extent"))};const {signal:ya,extentSignal:Ba}=ha;if(mb(Q.extent)){var gb=Q.extent;gb=vi(n,gb.param,gb);delete Q.extent}x=Object.assign({},{bin:Q,field:x.field,as:[M]},ya?{signal:ya}:{},Ba?{extentSignal:Ba}:
{},gb?{span:gb}:{});return{key:W,binComponent:x}}function Di(x){return x.startsWith("'")&&x.endsWith("'")||x.startsWith('"')&&x.endsWith('"')?x.slice(1,-1):x}function Ej(x,W){x=S(x);if("number"===W)return"toNumber(".concat(x,")");if("boolean"===W)return"toBoolean(".concat(x,")");if("string"===W)return"toString(".concat(x,")");if("date"===W)return"toDate(".concat(x,")");if("flatten"===W)return x;if(W.startsWith("date:"))return W=Di(W.slice(5,W.length)),"timeParse(".concat(x,",'").concat(W,"')");if(W.startsWith("utc:"))return W=
Di(W.slice(4,W.length)),"utcParse(".concat(x,",'").concat(W,"')");gc('Unrecognized parse "'.concat(W,'".'));return null}function Dk(x){const W={};A(x.filter,n=>{if(yf(n)){let Q=null;if(sc(n))Q=tb(n.equal);else if(wd(n))Q=tb(n.lte);else if(cd(n))Q=tb(n.lt);else if(Bd(n))Q=tb(n.gt);else if(pe(n))Q=tb(n.gte);else if(hf(n))Q=n.range[0];else if(Vf(n)){var M;Q=(null!==(M=n.oneOf)&&void 0!==M?M:n["in"])[0]}Q&&(nd(Q)?W[n.field]="date":p.isNumber(Q)?W[n.field]="number":p.isString(Q)&&(W[n.field]="string"));
n.timeUnit&&(W[n.field]="date")}});return W}function Ag(x){function W(M){if(sg(M))n[M.field]="date";else{var Q;if(Q="quantitative"===M.type)Q=M.aggregate,Q=p.isString(Q)&&b(["min","max"],Q);Q?n[M.field]="number":1<r(M.field)?M.field in n||(n[M.field]="flatten"):xd(M)&&Rb(M.sort)&&1<r(M.sort.field)&&(M.sort.field in n||(n[M.sort.field]="flatten"))}}const n={};(Tb(x)||jc(x))&&x.forEachFieldDef((M,Q)=>{je(M)?W(M):(Q=Ja(Q),Q=x.fieldDef(Q),W(Object.assign({},M,{type:Q.type})))});if(Tb(x)){const {mark:M,
markDef:Q,encoding:ha}=x;if(Oa(M)&&!x.encoding.order){const ya=ha["horizontal"===Q.orient?"y":"x"];!wc(ya)||"quantitative"!==ya.type||ya.field in n||(n[ya.field]="number")}}return n}function Qh(x){return x instanceof lk||x instanceof ol||x instanceof pl}function sj(x){return x.stack.stackBy.reduce((W,n)=>{(n=vd(n.fieldDef))&&W.push(n);return W},[])}function ok(x){return p.isArray(x)&&x.every(W=>p.isString(W))&&1<x.length}function Nk(x){function W(n){if(!(n instanceof Jk)){const M=n.clone();if(M instanceof
Df){const Q="scale_"+M.getSource();M.setSource(Q);x.model.component.data.outputNodes[Q]=M}else(M instanceof rj||M instanceof Xj||M instanceof Zk||M instanceof Kk)&&M.addDimensions(x.fields);for(const Q of n.children.flatMap(W))Q.parent=M;return[M]}return n.children.flatMap(W)}return W}function cj(x){if(x instanceof Jk)if(1!==x.numChildren()||x.children[0]instanceof Df){var W=x.model.component.data.main;Mi(W);const n=Nk(x);x=x.children.map(n).flat();for(const M of x)M.parent=W}else W=x.children[0],
(W instanceof rj||W instanceof Xj||W instanceof Zk||W instanceof Kk)&&W.addDimensions(x.fields),W.swapWithParent(),cj(x);else x.children.map(cj)}function Mi(x){if(x instanceof Df&&x.type===Be.Main&&1===x.numChildren()){const W=x.children[0];W instanceof Jk||(W.swapWithParent(),Mi(x))}}function Hh(x){for(const W of x){for(const n of W.children)if(n.parent!==W)return!1;if(!Hh(W.children))return!1}return!0}function dh(x,W){let n=!1;for(const M of W)n=x.optimize(M)||n;return n}function kg(x,W,n){let M=
x.sources,Q=!1;Q=dh(new rm,M)||Q;Q=dh(new sm(W),M)||Q;M=M.filter(ha=>0<ha.numChildren());Q=dh(new tm,M)||Q;M=M.filter(ha=>0<ha.numChildren());n||(Q=dh(new um,M)||Q,Q=dh(new vm(W),M)||Q,Q=dh(new wm,M)||Q,Q=dh(new xm,M)||Q,Q=dh(new ym,M)||Q,Q=dh(new zm,M)||Q,Q=dh(new Am,M)||Q,Q=dh(new Bm,M)||Q);x.sources=M;return Q}function ti(x){const W=x.component.scales;for(const sb of ne(W)){var n=x,M=sb,Q=n.getScaleComponent(M).get("type"),{encoding:ha}=n;var ya=n.scaleDomain(M);var Ba=n.typedFieldDef(M),gb=n.config.scale;
if("unaggregated"===ya){const {valid:zb,reason:Sb}=pj(Ba,Q);zb||(gc(Sb),ya=void 0)}else void 0===ya&&gb.useUnaggregatedDomain&&({valid:Ba}=pj(Ba,Q),Ba&&(ya="unaggregated"));ya!==n.scaleDomain(M)&&(n.specifiedScales[M]=Object.assign({},n.specifiedScales[M],{domain:ya}));n="x"===M&&Ge(ha.x2)?Ge(ha.x)?Yg(Ci(Q,ya,n,"x"),Ci(Q,ya,n,"x2"),"domain","scale",ni):Ci(Q,ya,n,"x2"):"y"===M&&Ge(ha.y2)?Ge(ha.y)?Yg(Ci(Q,ya,n,"y"),Ci(Q,ya,n,"y2"),"domain","scale",ni):Ci(Q,ya,n,"y2"):Ci(Q,ya,n,M);W[sb].setWithExplicit("domains",
n);ha=void 0;M=x.component.scales[sb];ya=x.specifiedScales[sb].domain;Q=null===(ha=x.fieldDef(sb))||void 0===ha?void 0:ha.bin;ha=cf(ya)&&ya;Q=p.isObject(Q)&&mb(Q.extent)&&Q.extent;(ha||Q)&&M.set("selectionExtent",null!==ha&&void 0!==ha?ha:Q,!0);if(x.component.data.isFaceted){for(M=x;!jc(M)&&M.parent;)M=M.parent;if("shared"===M.component.resolve.scale[sb])for(const zb of n.value)jd(zb)&&(zb.data="scale_"+zb.data.replace("scale_",""))}}}function uj(x){for(var W of x.children){var n=W;Tb(n)?ti(n):uj(n)}n=
x.component.scales;for(const Q of ne(n)){let ha;W=null;for(const ya of x.children){var M=ya.component.scales[Q];M&&(ha=void 0===ha?M.getWithExplicit("domains"):Yg(ha,M.getWithExplicit("domains"),"domains","scale",ni),M=M.get("selectionExtent"),W&&M&&W.param!==M.param&&gc("The same selection must be used to override scale domains in a layered view."),W=M)}n[Q].setWithExplicit("domains",ha);W&&n[Q].set("selectionExtent",W,!0)}}function ki(x,W,n){return x.map(M=>{M=fg(M,{timeUnit:n,type:W});return{signal:"{data: ".concat(M,
"}")}})}function Yi(x,W,n){var M;n=null===(M=rf(n))||void 0===M?void 0:M.unit;return"temporal"===W||n?ki(x,W,n):[x]}function Ci(x,W,n,M){var {encoding:Q}=n;Q=Ge(Q[M]);const {type:ha}=Q,ya=Q.timeUnit;if(W&&W.unionWith)return M=Ci(x,void 0,n,M),W=Yi(W.unionWith,ha,ya),qh([...M.value,...W]);if(Ic(W))return qh([W]);if(W&&"unaggregated"!==W&&!cf(W))return qh(Yi(W,ha,ya));var Ba=n.stack;if(Ba&&M===Ba.fieldChannel){if("normalize"===Ba.offset)return ig([[0,1]]);W=n.requestDataName(Be.Main);return ig([{data:W,
field:n.vgField(M,{suffix:"start"})},{data:W,field:n.vgField(M,{suffix:"end"})}])}Ba=xi[M]&&wc(Q)?oj(n,M,x):void 0;if(od(Q))return M=Yi([Q.datum],ha,ya),ig(M);if("unaggregated"===W)return M=n.requestDataName(Be.Main),{field:W}=Q,ig([{data:M,field:vd({field:W,aggregate:"min"})},{data:M,field:vd({field:W,aggregate:"max"})}]);if(Xa(Q.bin)){if(Qd(x))return"bin-ordinal"===x?ig([]):ig([{data:D(Ba)?n.requestDataName(Be.Main):n.requestDataName(Be.Raw),field:n.vgField(M,Pf(Q,M)?{binSuffix:"range"}:{}),sort:!0!==
Ba&&p.isObject(Ba)?Ba:{field:n.vgField(M,{}),op:"min"}}]);({bin:W}=Q);if(Xa(W)){const gb=Kj(n,Q.field,W);return ig([new Ki(()=>{const sb=n.getSignalName(gb);return"[".concat(sb,".start, ").concat(sb,".stop]")})])}return ig([{data:n.requestDataName(Be.Main),field:n.vgField(M,{})}])}return Q.timeUnit&&b(["time","utc"],x)&&Lb(Q,Tb(n)?n.encoding[Da(M)]:void 0,n.markDef,n.config)?(W=n.requestDataName(Be.Main),ig([{data:W,field:n.vgField(M)},{data:W,field:n.vgField(M,{suffix:"end"})}])):Ba?ig([{data:D(Ba)?
n.requestDataName(Be.Main):n.requestDataName(Be.Raw),field:n.vgField(M),sort:Ba}]):ig([{data:n.requestDataName(Be.Main),field:n.vgField(M)}])}function Fh(x,W){const {op:n,field:M,order:Q}=x;return Object.assign({},{op:null!==n&&void 0!==n?n:W?"sum":"min"},M?{field:T(M)}:{},Q?{order:Q}:{})}function oj(x,W,n){if(Qd(n)){var M=x.fieldDef(W);n=M.sort;if(na(n))return{op:"min",field:lc(M,W),order:"ascending"};({stack:M}=x);var Q=M?new Set([...M.groupbyFields,...M.stackBy.map(ha=>ha.fieldDef.field)]):void 0;
if(Rb(n))return x=M&&!Q.has(n.field),Fh(n,x);if(n&&n.encoding){const {encoding:ha,order:ya}=n;x=x.fieldDef(ha);const {aggregate:Ba,field:gb}=x;W=M&&!Q.has(gb);if(Na(Ba)||oa(Ba))return Fh({field:vd(x),order:ya},W);if(aa(Ba)||!Ba)return Fh({op:Ba,field:gb,order:ya},W)}else{if("descending"===n)return{op:"min",field:x.vgField(W),order:"descending"};if(b(["ascending",void 0],n))return!0}}}function pj(x,W){const {aggregate:n,type:M}=x;return n?p.isString(n)&&!Si.has(n)?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(n,
'" since it produces values outside the origin domain of the source data.')}:"quantitative"===M&&"log"===W?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(Lg(x),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(Lg(x),").")}}function ni(x,W,n,M){if(x.explicit&&W.explicit){var Q=x.value,ha=W.value;n="Conflicting ".concat(M.toString(),' property "').concat(n.toString(),'" (').concat(Lg(Q)," and ").concat(Lg(ha),
"). Using the union of the two domains.");gc(n)}return{explicit:x.explicit,value:[...x.value,...W.value]}}function Fj(x){var W=t(x.map(Q=>jd(Q)?(Q=Object.assign({},Q),delete Q.sort,Q):Q),g),n=t(x.map(Q=>{if(jd(Q))return Q=Q.sort,void 0===Q||D(Q)||("op"in Q&&"count"===Q.op&&delete Q.field,"ascending"===Q.order&&delete Q.order),Q}).filter(Q=>void 0!==Q),g);if(0!==W.length){if(1===W.length){W=x[0];if(jd(W)&&0<n.length){var M=n[0];1<n.length?(gc("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
M=!0):p.isObject(M)&&"field"in M&&W.field===M.field&&(M=M.order?{order:M.order}:!0);return Object.assign({},W,{sort:M})}return W}n=t(n.map(Q=>{if(D(Q)||!("op"in Q)||p.isString(Q.op)&&Q.op in dk)return Q;gc("Dropping sort property ".concat(Lg(Q),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),g);1===n.length?M=n[0]:1<n.length&&(gc("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),M=!0);n=t(x.map(Q=>jd(Q)?Q.data:null),
Q=>Q);return 1===n.length&&null!==n[0]?Object.assign({},{data:n[0],fields:W.map(Q=>Q.field)},M?{sort:M}:{}):Object.assign({},{fields:W},M?{sort:M}:{})}}function dj(x){if(jd(x)&&p.isString(x.field))return x.field;var W=p.isArray(x)?!1:"fields"in x&&!("data"in x);if(W){let n;for(const M of x.fields)if(jd(M)&&p.isString(M.field))if(!n)n=M.field;else if(n!==M.field)return gc("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
n;gc("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return n}W=p.isArray(x)?!1:"fields"in x&&"data"in x;if(W)return gc("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
x=x.fields[0],p.isString(x)?x:void 0}function Wi(x,W){W=x.component.scales[W].get("domains").map(n=>{jd(n)&&(n.data=x.lookupDataSource(n.data));return n});return Fj(W)}function Oi(x){return bd(x)||Sc(x)?x.children.reduce((W,n)=>W.concat(Oi(n)),qj(x)):qj(x)}function qj(x){return ne(x.component.scales).reduce((W,n)=>{var M=x.component.scales[n];if(M.merged)return W;var Q=M.combine(),ha=Object.assign({},Q);const ya=Q.name,Ba=Q.type;var gb=Q.selectionExtent;const sb=Q.reverse;ha=(delete ha.name,delete ha.type,
delete ha.selectionExtent,delete ha.domains,delete ha.range,delete ha.reverse,ha);Q=Q.range;Ea(n)?rc(Q)&&(Q={step:{signal:"".concat(ya,"_step")}}):p.isObject(Q)&&jd(Q)&&(Q=Object.assign({},Q,{data:x.lookupDataSource(Q.data)}));n=Wi(x,n);gb?(gb=vi(x,gb.param,gb),M={signal:se(M.get("type"))&&p.isArray(n)&&n[0]>n[1]?"isValid(".concat(gb,") \x26\x26 reverse(").concat(gb,")"):gb}):M=null;W.push(Object.assign({},{name:ya,type:Ba},n?{domain:n}:{},M?{domainRaw:M}:{},{range:Q},void 0!==sb?{reverse:sb}:{},
ha));return W},[])}function pk(x,W){var n=x.fieldDef(W);if(null!==n&&void 0!==n&&n.bin){const {bin:M,field:Q}=n;n=va(W);const ha=x.getName(n);if(p.isObject(M)&&M.binned&&void 0!==M.step)return new Ki(()=>{var ya=x.scaleName(W);ya='(domain("'.concat(ya,'")[1] - domain("').concat(ya,'")[0]) / ').concat(M.step);return"".concat(x.getSignalName(ha)," / (").concat(ya,")")});if(Xa(M)){const ya=Kj(x,Q,M);return new Ki(()=>{var Ba=x.getSignalName(ya);Ba="(".concat(Ba,".stop - ").concat(Ba,".start) / ").concat(Ba,
".step");return"".concat(x.getSignalName(ha)," / (").concat(Ba,")")})}}}function ik(x,W){const n=W.specifiedScales[x];var {size:M}=W,Q=W.getScaleComponent(x).get("type");for(var ha of Cm)if(void 0!==n[ha]){const gb=qf(Q,ha),sb=ua(x,ha);if(gb)if(sb)gc(sb);else switch(ha){case "range":Q=n.range;if(p.isArray(Q)){if(Ea(x))return qh(Q.map(zb=>{if("width"===zb||"height"===zb){zb=W.getName(zb);const Sb=W.getSignalName.bind(W);return Ki.fromName(Sb,zb)}return zb}))}else if(p.isObject(Q))return qh({data:W.requestDataName(Be.Main),
field:Q.field,sort:{op:"min",field:W.vgField(x)}});return qh(Q);case "scheme":return qh(Zj(n[ha]))}else gc(ub(Q,ha,x))}ha="x"===x||"xOffset"===x?"width":"height";M=M[ha];if(Ta(M))if(Ea(x))if(Qd(Q)){if(M=Zi(M,W,x))return qh({step:M})}else gc(Mb(ha));else if(x in wi&&"band"===W.getScaleComponent("xOffset"===x?"x":"y").get("type")&&(M=bj(M,Q)))return qh(M);const {rangeMin:ya,rangeMax:Ba}=n;x=Gj(x,W);return(void 0!==ya||void 0!==Ba)&&qf(Q,"rangeMin")&&p.isArray(x)&&2===x.length?qh([null!==ya&&void 0!==
ya?ya:x[0],null!==Ba&&void 0!==Ba?Ba:x[1]]):ig(x)}function Zj(x){return!p.isString(x)&&x.name?Object.assign({},{scheme:x.name},f(x,["name"])):{scheme:x}}function Gj(x,W){const {size:n,config:M,mark:Q,encoding:ha}=W;var ya=W.getSignalName.bind(W),{type:Ba}=Ge(ha[x]);const gb=W.getScaleComponent(x).get("type"),{domain:sb,domainMid:zb}=W.specifiedScales[x];switch(x){case "x":case "y":if(b(["point","band"],gb)&&(Ba=tj(x,n,M.view),Ta(Ba)))return{step:Zi(Ba,W,x)};Ba=va(x);Ba=W.getName(Ba);return"y"===x&&
se(gb)?[Ki.fromName(ya,Ba),0]:[0,Ki.fromName(ya,Ba)];case "xOffset":case "yOffset":return Ek(x,W,gb);case "size":return ya=W.component.scales[x].get("zero"),ya=Ig(Q,ya,M),Ba=nh(Q,n,W,M),zj.has(gb)?Zh(ya,Ba,jk(gb,M,sb,x)):[ya,Ba];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Ki(()=>{const Sb=W.getSignalName("width"),Bc=W.getSignalName("height");return"min(".concat(Sb,",").concat(Bc,")/2")})];case "strokeWidth":return[M.scale.minStrokeWidth,M.scale.maxStrokeWidth];
case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===gb?"nominal"===Ba?"category":"ordinal":void 0!==zb?"diverging":"rect"===Q||"geoshape"===Q?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[M.scale.minOpacity,M.scale.maxOpacity]}}function Zi(x,W,n){var {encoding:M}=W,Q=W.getScaleComponent(n);n=xa(n);const ha=M[n];if("offset"===wa({step:x,offsetIsDiscrete:Cd(ha)&&oe(ha.type)})&&
kh(M,n)){var ya;M=W.getScaleComponent(n);W=W.scaleName(n);W="domain('".concat(W,"').length");if("band"===M.get("type")){var Ba,gb,sb,zb;n=null!==(Ba=null!==(gb=M.get("paddingInner"))&&void 0!==gb?gb:M.get("padding"))&&void 0!==Ba?Ba:0;Ba=null!==(sb=null!==(zb=M.get("paddingOuter"))&&void 0!==zb?zb:M.get("padding"))&&void 0!==sb?sb:0;W="bandspace(".concat(W,", ").concat(n,", ").concat(Ba,")")}sb=null!==(ya=Q.get("paddingInner"))&&void 0!==ya?ya:Q.get("padding");x="".concat(x.step," * ").concat(W," / (1-");
Q=x.concat;ya=sb;ya=Ic(ya)?ya.signal:p.stringValue(ya);return{signal:Q.call(x,ya,")")}}return x.step}function bj(x,W){if("offset"===wa({step:x,offsetIsDiscrete:Qd(W)}))return{step:x.step}}function Ek(x,W,n){const M="xOffset"===x?"x":"y",Q=W.getScaleComponent(M).get("type"),ha=W.scaleName(M);return"band"===Q?(x=tj(M,W.size,W.config.view),Ta(x)&&(n=bj(x,n))?n:[0,{signal:"bandwidth('".concat(ha,"')")}]):m("Cannot use ".concat(x," scale if ").concat(M," scale is not discrete."))}function tj(x,W,n){x=
"x"===x?"width":"height";return(W=W[x])?W:Vc(n,x)}function jk(x,W,n,M){switch(x){case "quantile":return W.scale.quantileCount;case "quantize":return W.scale.quantizeCount;case "threshold":if(void 0!==n&&p.isArray(n))return n.length+1;gc("Domain for ".concat(M," is required for threshold scale."));return 3}}function Zh(x,W,n){const M=()=>{const Q=vc(W),ha=vc(x),ya="(".concat(Q," - ").concat(ha,") / (").concat(n," - 1)");return"sequence(".concat(ha,", ").concat(Q," + ").concat(ya,", ").concat(ya,")")};
return Ic(W)?new Ki(M):{signal:M()}}function Ig(x,W,n){if(W)return Ic(W)?{signal:"".concat(W.signal," ? 0 : ").concat(Ig(x,!1,n))}:0;switch(x){case "bar":case "tick":return n.scale.minBandSize;case "line":case "trail":case "rule":return n.scale.minStrokeWidth;case "text":return n.scale.minFontSize;case "point":case "square":case "circle":return n.scale.minSize}throw Error(me("size",x));}function nh(x,W,n,M){n={x:pk(n,"x"),y:pk(n,"y")};switch(x){case "bar":case "tick":if(void 0!==M.scale.maxBandSize)return M.scale.maxBandSize;
const Q=Fk(W,n,M.view);return p.isNumber(Q)?Q-1:new Ki(()=>"".concat(Q.signal," - 1"));case "line":case "trail":case "rule":return M.scale.maxStrokeWidth;case "text":return M.scale.maxFontSize;case "point":case "square":case "circle":if(M.scale.maxSize)return M.scale.maxSize;const ha=Fk(W,n,M.view);return p.isNumber(ha)?Math.pow(.95*ha,2):new Ki(()=>"pow(".concat(.95," * ").concat(ha.signal,", 2)"))}throw Error(me("size",x));}function Fk(x,W,n){const M=Ta(x.width)?x.width.step:Hc(n,"width"),Q=Ta(x.height)?
x.height.step:Hc(n,"height");return W.x||W.y?new Ki(()=>"min(".concat([W.x?W.x.signal:M,W.y?W.y.signal:Q].join(", "),")")):Math.min(M,Q)}function ej(x,W){if(Tb(x)){const ya=x.component.scales,{config:Ba,encoding:gb,markDef:sb,specifiedScales:zb}=x;for(const Sb of ne(ya)){var n=zb[Sb];const Bc=ya[Sb];var M=x.getScaleComponent(Sb),Q=Ge(gb[Sb]),ha=n[W];const md=M.get("type"),Tc=M.get("padding");M=M.get("paddingInner");const yd=qf(md,W),Jd=ua(Sb,W);void 0!==ha&&(yd?Jd&&gc(Jd):gc(ub(md,W,Sb)));if(yd&&
void 0===Jd)if(void 0!==ha)switch(ha=Q.timeUnit,Q=Q.type,W){case "domainMax":case "domainMin":nd(n[W])||"temporal"===Q||ha?Bc.set(W,{signal:fg(n[W],{type:Q,timeUnit:ha})},!0):Bc.set(W,n[W],!0);break;default:Bc.copyKeyFromObject(W,n)}else n=W in am?am[W]({model:x,channel:Sb,fieldOrDatumDef:Q,scaleType:md,scalePadding:Tc,scalePaddingInner:M,domain:n.domain,domainMin:n.domainMin,domainMax:n.domainMax,markDef:sb,config:Ba,hasNestedOffsetScale:th(gb,Sb)}):Ba.scale[W],void 0!==n&&Bc.set(W,n,!1)}}else I(x,
W)}function h(x){if(Tb(x)){const W=x.component.scales;for(const n of yj){const M=W[n];if(!M)continue;const Q=ik(n,x);M.setWithExplicit("range",Q)}}else I(x,"range")}function I(x,W){const n=x.component.scales;for(var M of x.children)"range"===W?h(M):ej(M,W);for(const Q of ne(n)){let ha;for(const ya of x.children)if(M=ya.component.scales[Q])M=M.getWithExplicit(W),ha=Yg(ha,M,W,"scale",zi((Ba,gb)=>{switch(W){case "range":if(Ba.step&&gb.step)return Ba.step-gb.step}return 0}));n[Q].setWithExplicit(W,ha)}}
function Y(x,W){const n=W.bin;if(Xa(n)){const M=Kj(x,W.field,n);return new Ki(()=>x.getSignalName(M))}if(Ya(n)&&p.isObject(n)&&void 0!==n.step)return{step:n.step}}function X(x,W,n,M,Q){let ha=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===x){if(Ea(W)){const {bandPaddingInner:ya,barBandPaddingInner:Ba,rectBandPaddingInner:gb,bandWithNestedOffsetPaddingInner:sb}=Q;return ha?sb:C(ya,"bar"===n?Ba:gb)}if(W in wi&&M===ji.BAND)return Q.offsetBandPaddingInner}}function fa(x,W,n,M,Q){let ha=
5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===x)if(Ea(W)){const {bandPaddingOuter:ya,bandWithNestedOffsetPaddingOuter:Ba}=Q;if(ha)return Ba;if(n===ji.BAND)return C(ya,Ic(M)?{signal:"".concat(M.signal,"/2")}:M/2)}else if(W in wi){if(n===ji.POINT)return.5;if(n===ji.BAND)return Q.offsetBandPaddingOuter}}function La(x,W,n,M){const Q=Za(W,n,M,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1);var {type:ha}=x;if(!xi[W])return null;if(void 0!==ha){if(!vb(W,ha))return ha='Channel "'.concat(W,
'" does not work with "').concat(ha,'" scale. We are using "').concat(Q,'" scale instead.'),gc(ha),Q;var ya;if(ya=wc(n))ya=n.type,ya=!(b(["ordinal","nominal"],ya)?void 0===ha||Qd(ha):"temporal"===ya?b([ji.TIME,ji.UTC,void 0],ha):"quantitative"===ya?pi.has(ha)||zj.has(ha)||void 0===ha:1);return ya?(ha='FieldDef does not work with "'.concat(ha,'" scale. We are using "').concat(Q,'" scale instead.'),gc(ha),Q):ha}return Q}function Za(x,W,n,M){switch(W.type){case "nominal":case "ordinal":var Q;if(Wa(x)||
"discrete"===ta(x))return"shape"===x&&"ordinal"===W.type&&gc($a(x,"ordinal")),"ordinal";if(Ea(x)||x in wi){if(b(["rect","bar","image","rule"],n.type)||M)return"band"}else if("arc"===n.type&&x in ij)return"band";x=n[va(x)];return la(x)||Id(W)&&null!==(Q=W.axis)&&void 0!==Q&&Q.tickBand?"band":"point";case "temporal":if(!Wa(x)){if("discrete"===ta(x))return gc($a(x,"temporal")),"ordinal";if(wc(W)&&W.timeUnit&&rf(W.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Wa(x)){if(wc(W)&&Xa(W.bin))return"bin-ordinal"}else if("discrete"===
ta(x))return gc($a(x,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(W.type,'".'));}function eb(x){let {ignoreRange:W}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};yb(x);Tb(x)?ti(x):uj(x);for(const n of zl)ej(x,n);W||h(x)}function yb(x){if(Tb(x)){var W=x.component;const {encoding:gb,mark:sb,markDef:zb}=x;var n={};for(var M of yj){var Q=Ge(gb[M]);if(!Q||sb!==Bk||"shape"!==M||"geojson"!==Q.type){var ha=Q&&Q.scale;if(M in wi){var ya=
ma(M);if(!th(gb,ya)){ha&&gc("".concat(M," encoding has no scale, so specified scale is ignored."));continue}}if(Q&&null!==ha&&!1!==ha){var Ba;null!==(Ba=ha)&&void 0!==Ba?Ba:ha={};ya=th(gb,M);Q=La(ha,M,Q,zb,ya);n[M]=new bm(x.scaleName("".concat(M),!0),{value:Q,explicit:ha.type===Q})}}}W.scales=n}else{Ba=x.component;M=x.component.scales={};ya={};const gb=x.component.resolve;for(const sb of x.children){yb(sb);for(const zb of ne(sb.component.scales))if(null!==(Q=(ha=gb.scale)[zb])&&void 0!==Q?Q:ha[zb]=
Lh(zb,x),"shared"===gb.scale[zb]){const Sb=ya[zb],Bc=sb.component.scales[zb].getWithExplicit("type");if(Sb){const md=Qk[Sb.value],Tc=Qk[Bc.value];md===Tc||"ordinal-position"===md&&"time"===Tc||"ordinal-position"===Tc&&"time"===md?ya[zb]=Yg(Sb,Bc,"type","scale",Dm):(gb.scale[zb]="independent",delete ya[zb])}else ya[zb]=Bc}}for(W of ne(ya)){ha=x.scaleName(W,!0);M[W]=new bm(ha,ya[W]);for(n of x.children)if(Q=n.component.scales[W])n.renameScale(Q.get("name"),ha),Q.merged=!0}Ba.scales=M}}function Tb(x){return"unit"===
(null===x||void 0===x?void 0:x.type)}function jc(x){return"facet"===(null===x||void 0===x?void 0:x.type)}function Sc(x){return"concat"===(null===x||void 0===x?void 0:x.type)}function bd(x){return"layer"===(null===x||void 0===x?void 0:x.type)}function ed(x){function W(M,Q){M instanceof lk&&!(M.isGenerator||"url"in M.data)&&(x.push(Q),Q={name:null,source:Q.name,transform:[]});if(M instanceof ui)if(M.parent instanceof lk&&!Q.source){var ha;Q.format=Object.assign({},null!==(ha=Q.format)&&void 0!==ha?
ha:{},{parse:M.assembleFormatParse()});Q.transform.push(...M.assembleTransforms(!0))}else Q.transform.push(...M.assembleTransforms());if(M instanceof Jk)Q.name||(Q.name="data_".concat(n++)),!Q.source||0<Q.transform.length?(x.push(Q),M.data=Q.name):M.data=Q.source,x.push(...M.assemble());else switch((M instanceof ol||M instanceof pl||M instanceof ql||M instanceof $k||M instanceof al||M instanceof rl||M instanceof rj||M instanceof sl||M instanceof Zk||M instanceof Kk||M instanceof Gl||M instanceof Hl||
M instanceof Il||M instanceof Jl||M instanceof Kl||M instanceof Ll||M instanceof mk||M instanceof Ml||M instanceof Nl)&&Q.transform.push(M.assemble()),(M instanceof Ij||M instanceof Gf||M instanceof Lk||M instanceof Xj||M instanceof bl)&&Q.transform.push(...M.assemble()),M instanceof Df&&(Q.source&&0===Q.transform.length?M.setSource(Q.source):M.parent instanceof Df?M.setSource(Q.name):(Q.name||(Q.name="data_".concat(n++)),M.setSource(Q.name),1===M.numChildren()&&(x.push(Q),Q={name:null,source:Q.name,
transform:[]}))),M.numChildren()){case 0:M instanceof Df&&(!Q.source||0<Q.transform.length)&&x.push(Q);break;case 1:W(M.children[0],Q);break;default:Q.name||(Q.name="data_".concat(n++));ha=Q.name;!Q.source||0<Q.transform.length?x.push(Q):ha=Q.source;for(const ya of M.children)W(ya,{name:null,source:ha,transform:[]})}}let n=0;return W}function Md(x){const W=[],n=ed(W);for(const M of x.children)n(M,{source:x.name,name:null,transform:[]});return W}function Ce(x,W){const n=[];var M=ed(n);let Q=0;for(const Ba of x.sources){Ba.hasName()||
(Ba.dataName="source_".concat(Q++));const gb=Ba.assemble();M(Ba,gb)}for(const Ba of n)0===Ba.transform.length&&delete Ba.transform;M=0;for(const Ba of n.entries()){const [gb,sb]=Ba;var ha;0!==(null!==(ha=sb.transform)&&void 0!==ha?ha:[]).length||sb.source||n.splice(M++,0,n.splice(gb,1)[0])}for(const Ba of n)for(const gb of null!==(ya=Ba.transform)&&void 0!==ya?ya:[]){var ya;"lookup"===gb.type&&(gb.from=x.outputNodes[gb.from].getSource())}for(const Ba of n)Ba.name in W&&(Ba.values=W[Ba.name]);return n}
function tf(x,W,n){W="row"===W?"height":"width";return{labels:n,sizeSignal:x.child.component.layoutSize.get(W)?x.child.getSizeSignalRef(W):void 0,axes:[]}}function vh(x,W){var {child:n}=x;if(n.component.axes[W]){const {layoutHeaders:Q,resolve:ha}=x.component;ha.axis[W]=Pg(ha,W);if("shared"===ha.axis[W]){const ya="x"===W?"column":"row",Ba=Q[ya];for(const gb of n.component.axes[W]){var M;W=gb.get("orient");W="top"===W||"left"===W||Ic(W)?"header":"footer";null!==(M=Ba[W])&&void 0!==M?M:Ba[W]=[tf(x,ya,
!1)];(n=Ei(gb,"main",x.config,{header:!0}))&&Ba[W][0].axes.push(n);gb.mainExtracted=!0}}}}function jf(x){for(const W of x.children)W.parseLayoutSize()}function Tf(x,W){const n=Le(W),M=Ua(n),Q=x.component.resolve,ha=x.component.layoutSize;let ya;for(const gb of x.children){var Ba;const sb=gb.component.layoutSize.getWithExplicit(n),zb=null!==(Ba=Q.scale[M])&&void 0!==Ba?Ba:Lh(M,x);if("independent"===zb&&"step"===sb.value){ya=void 0;break}if(ya){if("independent"===zb&&ya.value!==sb.value){ya=void 0;
break}ya=Yg(ya,sb,n,"")}else ya=sb}if(ya){for(const gb of x.children)x.renameSignal(gb.getName(n),x.getName(W)),gb.component.layoutSize.set(n,"merged",!1);ha.setWithExplicit(W,ya)}else ha.setWithExplicit(W,{explicit:!1,value:void 0})}function Fg(x,W){const n=x.config;var M=x.getScaleComponent("width"===W?"x":"y");if(M)return x=M.get("type"),M=M.get("range"),Qd(x)?(W=Vc(n.view,W),rc(M)||Ta(W)?"step":W):Xb(n.view,W);if(x.hasProjection||"arc"===x.mark)return Xb(n.view,W);W=Vc(n.view,W);return Ta(W)?
W.step:W}function Kg(x,W,n){return vd(W,Object.assign({},{suffix:"by_".concat(vd(x))},null!==n&&void 0!==n?n:{}))}function vg(x,W){for(const Ba of W){var n,M,Q,ha;W=Ba.data;if(x.name&&Ba.hasName()&&x.name!==Ba.dataName)continue;const gb=null===(n=x.format)||void 0===n?void 0:n.mesh;var ya=null===(M=W.format)||void 0===M?void 0:M.feature;if(gb&&ya)continue;const sb=null===(Q=x.format)||void 0===Q?void 0:Q.feature;if(!sb&&!ya||sb===ya)if(ya=null===(ha=W.format)||void 0===ha?void 0:ha.mesh,!gb&&!ya||
gb===ya)if("values"in x&&"values"in W){if(oh(x.values,W.values))return Ba}else if("url"in x&&"url"in W){if(x.url===W.url)return Ba}else if(Ti(x)&&x.name===Ba.dataName)return Ba}return null}function Wf(x,W){if(x.data||!x.parent){if(null===x.data)return x=new lk({values:[]}),W.push(x),x;const n=vg(x.data,W);if(n)return xh(x.data)||(n.data.format=e({},x.data.format,n.data.format)),!n.hasName()&&x.data.name&&(n.dataName=x.data.name),n;x=new lk(x.data);W.push(x);return x}return x.parent.component.data.facetRoot?
x.parent.component.data.facetRoot:x.parent.component.data.main}function ng(x){var W,n,M,Q=Wf(x,x.component.data.sources);const {outputNodes:ha,outputNodeRefCounts:ya}=x.component.data,Ba=x.data,gb=Ba&&(xh(Ba)||"url"in Ba||"values"in Ba)||!x.parent?new Xf:x.parent.component.data.ancestorParse.clone();xh(Ba)?("sequence"in Ba?Q=new pl(Q,Ba.sequence):"graticule"in Ba&&(Q=new ol(Q,Ba.graticule)),gb.parseNothing=!0):null===(null===Ba||void 0===Ba?void 0:null===(W=Ba.format)||void 0===W?void 0:W.parse)&&
(gb.parseNothing=!0);Q=null!==(n=ui.makeExplicit(Q,x,gb))&&void 0!==n?n:Q;Q=new mk(Q);W=x.parent&&bd(x.parent);if((Tb(x)||jc(x))&&W){var sb;Q=null!==(sb=Ij.makeFromEncoding(Q,x))&&void 0!==sb?sb:Q}if(0<x.transforms.length){sb=0;for(const Ke of x.transforms){var zb=n=void 0;if("calculate"in Ke)zb=Q=new al(Q,Ke),n="derived";else if("filter"in Ke){var Sb;zb=Dk(Ke);zb=Q=null!==(Sb=ui.makeWithAncestors(Q,{},zb,gb))&&void 0!==Sb?Sb:Q;Q=new $k(Q,x,Ke.filter)}else if("bin"in Ke)zb=Q=Ij.makeFromTransform(Q,
Ke,x),n="number";else if("timeUnit"in Ke)n="date",void 0===gb.getWithExplicit(Ke.field).value&&(Q=new ui(Q,{[Ke.field]:n}),gb.set(Ke.field,n,!1)),zb=Q=Gf.makeFromTransform(Q,Ke);else if("aggregate"in Ke)zb=Q=rj.makeFromTransform(Q,Ke),n="number",Gh(x)&&(Q=new mk(Q));else if("lookup"in Ke)zb=Q=sl.make(Q,x,Ke,sb++),n="derived";else if("window"in Ke)zb=Q=new Zk(Q,Ke),n="number";else if("joinaggregate"in Ke)zb=Q=new Kk(Q,Ke),n="number";else if("stack"in Ke)zb=Q=Xj.makeFromTransform(Q,Ke),n="derived";
else if("fold"in Ke)zb=Q=new Gl(Q,Ke),n="derived";else if("flatten"in Ke)zb=Q=new Hl(Q,Ke),n="derived";else if("pivot"in Ke)zb=Q=new Nl(Q,Ke),n="derived";else if("sample"in Ke)Q=new Ml(Q,Ke);else if("impute"in Ke)zb=Q=Lk.makeFromTransform(Q,Ke),n="derived";else if("density"in Ke)zb=Q=new Il(Q,Ke),n="derived";else if("quantile"in Ke)zb=Q=new Kl(Q,Ke),n="derived";else if("regression"in Ke)zb=Q=new Ll(Q,Ke),n="derived";else if("loess"in Ke)zb=Q=new Jl(Q,Ke),n="derived";else{gc("Ignoring an invalid transform: ".concat(Lg(Ke),
"."));continue}if(zb&&void 0!==n)for(const ag of null!==(Bc=zb.producedFields())&&void 0!==Bc?Bc:[]){var Bc;gb.set(ag,n,!1)}}}Sb={};if(Tb(x)&&x.component.selection)for(var md of ne(x.component.selection)){Bc=x.component.selection[md];for(const Ke of Bc.project.items)!Ke.channel&&1<r(Ke.field)&&(Sb[Ke.field]="flatten")}md=Ag(x);Q=null!==(M=ui.makeWithAncestors(Q,{},Object.assign({},Sb,md),gb))&&void 0!==M?M:Q;Tb(x)&&(Q=bl.parseAll(Q,x),Q=rl.parseAll(Q,x));if(Tb(x)||jc(x)){var Tc;if(!W){var yd;Q=null!==
(yd=Ij.makeFromEncoding(Q,x))&&void 0!==yd?yd:Q}Q=null!==(Tc=Gf.makeFromEncoding(Q,x))&&void 0!==Tc?Tc:Q;Q=al.parseAllForSortIndex(Q,x)}Tc=x.getDataName(Be.Raw);M=new Df(Q,Tc,Be.Raw,ya);Q=ha[Tc]=M;if(Tb(x)){var Jd,de;if(Tc=rj.makeFromEncoding(Q,x))Q=Tc,Gh(x)&&(Q=new mk(Q));Q=null!==(Jd=Lk.makeFromEncoding(Q,x))&&void 0!==Jd?Jd:Q;Q=null!==(de=Xj.makeFromEncoding(Q,x))&&void 0!==de?de:Q}if(Tb(x)){var we;Q=null!==(we=ql.make(Q,x))&&void 0!==we?we:Q}de=x.getDataName(Be.Main);Jd=new Df(Q,de,Be.Main,ya);
Q=ha[de]=Jd;if(Tb(x))for(var ee of hj(null!==(Ae=x.component.selection)&&void 0!==Ae?Ae:{})){const [Ke,ag]=ee;var Ae;Ae=x.getName("lookup_".concat(Ke));x.component.data.outputNodes[Ae]=ag.materialized=new Df(new $k(Jd,x,{param:Ke}),Ae,Be.Lookup,x.component.data.outputNodeRefCounts)}Ae=null;if(jc(x)){var Ye;ee=x.getName("facet");{Ae=Q;const {row:Ke,column:ag}=x.facet;if(Ke&&ag){de=null;for(Qe of[Ke,ag])if(Rb(Qe.sort)){const {field:ah,op:jg="min"}=Qe.sort;Ae=de=new Kk(Ae,{joinaggregate:[{op:jg,field:ah,
as:Kg(Qe,Qe.sort,{forAs:!0})}],groupby:[vd(Qe)]})}var Qe=de}else Qe=null}Q=null!==(Ye=Qe)&&void 0!==Ye?Ye:Q;Ae=new Jk(Q,x,ee,Jd.getSource());ha[ee]=Ae}return Object.assign({},x.component.data,{outputNodes:ha,outputNodeRefCounts:ya,raw:M,main:Jd,facetRoot:Ae,ancestorParse:gb})}function mg(x){return oi.reduce((W,n)=>{x.component.scales[n]&&(W[n]=[Yh(n,x)]);return W},{})}function Cg(x,W){if(x){if(x.length!==W.length)return;const n=x.length;for(let M=0;M<n;M++){const Q=x[M],ha=W[M];if(!!Q!==!!ha)return;
if(Q&&ha){const ya=Q.getWithExplicit("orient"),Ba=ha.getWithExplicit("orient");if(ya.explicit&&Ba.explicit&&ya.value!==Ba.value)return;x[M]=Kh(Q,ha)}}}else return W.map(n=>n.clone());return x}function Kh(x,W){for(const n of cm){const M=Yg(x.getWithExplicit(n),W.getWithExplicit(n),n,"axis",(Q,ha)=>{switch(n){case "title":return ob(Q,ha);case "gridScale":return{explicit:Q.explicit,value:C(Q.value,ha.value)}}return ph(Q,ha,n,"axis")});x.setWithExplicit(n,M)}return x}function Eh(x,W,n,M,Q){if("disable"===
W)return void 0!==n;n=n||{};switch(W){case "titleAngle":case "labelAngle":return x===(Ic(n.labelAngle)?n.labelAngle:ba(n.labelAngle));case "values":return!!n.values;case "encode":return!!n.encoding||!!n.labelAngle;case "title":if(x===cc(M,Q))return!0}return x===n[W]}function Yh(x,W){var n,M,Q,ha,ya;let Ba=W.axis(x);const gb=new dm;var sb=Ge(W.encoding[x]);const {mark:zb,config:Sb}=W;var Bc=(null===(n=Ba)||void 0===n?void 0:n.orient)||(null===(M=Sb["x"===x?"axisX":"axisY"])||void 0===M?void 0:M.orient)||
(null===(Q=Sb.axis)||void 0===Q?void 0:Q.orient)||("x"===x?"bottom":"left");M=W.getScaleComponent(x).get("type");n=Hg(x,M,Bc,W.config);Q=void 0!==Ba?!Ba:pa("disable",Sb.style,null===(ha=Ba)||void 0===ha?void 0:ha.style,n).configValue;gb.set("disable",Q,void 0!==Ba);if(Q)return gb;Ba=Ba||{};ha=Pa(sb,Ba,x,Sb.style,n);sb={fieldOrDatumDef:sb,axis:Ba,channel:x,model:W,scaleType:M,orient:Bc,labelAngle:ha,mark:zb,config:Sb};for(const Tc of cm)if(Bc=Tc in em?em[Tc](sb):Qj[Tc]?Ba[Tc]:void 0,ha=void 0!==Bc,
M=Eh(Bc,Tc,Ba,W,x),ha&&M)gb.set(Tc,Bc,M);else{const {configValue:yd,configFrom:Jd}=Qj[Tc]&&"values"!==Tc?pa(Tc,Sb.style,Ba.style,n):{};Q=void 0!==yd;ha&&!Q?gb.set(Tc,Bc,M):("vgAxisConfig"!==Jd||Em.has(Tc)&&Q||eg(yd)||Ic(yd))&&gb.set(Tc,yd,!1)}const md=null!==(ya=Ba.encoding)&&void 0!==ya?ya:{};ya=Ck.reduce((Tc,yd)=>{var Jd;if(!gb.hasAxisPart(yd))return Tc;var de=sh(null!==(Jd=md[yd])&&void 0!==Jd?Jd:{},W);if("labels"===yd){{var we;const {encoding:ee,config:Ae}=W;Jd=null!==(we=Ge(ee[x]))&&void 0!==
we?we:Ge(ee[Da(x)]);we=W.axis(x)||{};const {format:Ye,formatType:Qe}=we;de=Zc(Qe)?Object.assign({},{text:tc({fieldOrDatumDef:Jd,field:"datum.value",format:Ye,formatType:Qe,config:Ae})},de):de}}void 0===de||w(de)||(Tc[yd]={update:de});return Tc},{});w(ya)||gb.set("encode",ya,!!Ba.encoding||void 0!==Ba.labelAngle);return gb}function Ni(x){let {encoding:W,size:n}=x;for(const M of oi)x=va(M),Ta(n[x])&&qd(W[M])&&(delete n[x],gc(Mb(x)));return n}function Hi(x,W,n){x=Zb(x);var M=Dc("orient",x,n);x.orient=
jl(x.type,W,M);void 0!==M&&M!==x.orient&&(M='Specified orient "'.concat(x.orient,'" overridden with "').concat(M,'".'),gc(M));if("bar"===x.type&&x.orient&&(M=Dc("cornerRadiusEnd",x,n),void 0!==M)){const ha="horizontal"===x.orient&&W.x2||"vertical"===x.orient&&W.y2?["cornerRadius"]:xk[x.orient];for(var Q of ha)x[Q]=M;void 0!==x.cornerRadiusEnd&&delete x.cornerRadiusEnd}void 0===Dc("opacity",x,n)&&(Q=b([Nh,Sj,wj,nj],x.type)&&!Gg(W)?.7:void 0,x.opacity=Q);void 0===Dc("cursor",x,n)&&(W=W.href||x.href||
Dc("href",x,n)?"pointer":x.cursor,x.cursor=W);return x}function Dj(x,W,n){({graticule:n}=n);if(n)return!1;W=Yc("filled",x,W);x=x.type;return C(W,x!==Nh&&x!==Ch&&x!==Tj)}function jl(x,W,n){switch(x){case Nh:case wj:case nj:case Sh:case Cj:case fi:return}const {x:M,y:Q,x2:ha,y2:ya}=W;switch(x){case Kf:if(wc(M)&&(Ya(M.bin)||wc(Q)&&Q.aggregate&&!M.aggregate))break;if(wc(Q)&&(Ya(Q.bin)||wc(M)&&M.aggregate&&!Q.aggregate))return"horizontal";if(ya||ha){if(n)return n;if(!ha&&(wc(M)&&"quantitative"===M.type&&
!Xa(M.bin)||Fe(M)))return"horizontal";if(!ya&&(wc(Q)&&"quantitative"===Q.type&&!Xa(Q.bin)||Fe(Q)))break}case Tj:if(!(!ha||wc(M)&&Ya(M.bin)||!ya||wc(Q)&&Ya(Q.bin)))return;case Uj:if(ya){if(wc(Q)&&Ya(Q.bin))return"horizontal";break}else if(ha)if(wc(M)&&Ya(M.bin))break;else return"horizontal";else if(x===Tj)if(M&&!Q)break;else if(Q&&!M)return"horizontal";case Ch:case Sj:W=qd(M);const Ba=qd(Q);if(n)return n;if(W&&!Ba)return"tick"!==x?"horizontal":"vertical";if(!W&&Ba)return"tick"!==x?"vertical":"horizontal";
if(W&&Ba){n="temporal"===M.type;W="temporal"===Q.type;if(n&&!W)return"tick"!==x?"vertical":"horizontal";if(!n&&W)return"tick"!==x?"horizontal":"vertical";if(!M.aggregate&&Q.aggregate)return"tick"!==x?"vertical":"horizontal";if(M.aggregate&&!Q.aggregate)return"tick"!==x?"horizontal":"vertical"}else return}return"vertical"}function Wk(x,W){var n=Object,M=n.assign,Q=ih(x,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),ha=Ef("x",x,{defaultPos:"mid"}),
ya=Ef("y",x,{defaultPos:"mid"}),Ba=Ed("size",x),gb=Ed("angle",x);x=W?{shape:{value:W}}:Ed("shape",x);return M.call(n,{},Q,ha,ya,Ba,gb,x)}function Yk(x){if(b([Ch,Uj,Pj],x.mark)){var W=he(x.mark,x.encoding);if(0<W.length)return Gk(x,W)}else if(x.mark===Kf&&(W=xj.some(n=>Dc(n,x.markDef,x.config)),x.stack&&!x.fieldDef("size")&&W))return gj(x);return fj(x)}function Gk(x,W){return[{name:x.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+x.requestDataName(Be.Main),data:x.requestDataName(Be.Main),
groupby:W}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:fj(x,{fromPrefix:"faceted_path_"})}]}function gj(x){var W;const [n]=fj(x,{fromPrefix:"stack_group_"}),M=x.scaleName(x.stack.fieldChannel),Q=function(){return x.vgField(x.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var ha=(sb,zb)=>{zb=[Q({prefix:"min",suffix:"start",expr:zb}),Q({prefix:"max",suffix:"start",expr:zb}),Q({prefix:"min",suffix:"end",expr:zb}),Q({prefix:"max",
suffix:"end",expr:zb})];return"".concat(sb,"(").concat(zb.map(Sb=>"scale('".concat(M,"',").concat(Sb,")")).join(","),")")};let ya;"x"===x.stack.fieldChannel?(ha=Object.assign({},l(n.encode.update,["y","yc","y2","height",...xj]),{x:{signal:ha("min","datum")},x2:{signal:ha("max","datum")},clip:{value:!0}}),ya={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},n.encode.update=Object.assign({},f(n.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(ha=Object.assign({},l(n.encode.update,
["x","xc","x2","width"]),{y:{signal:ha("min","datum")},y2:{signal:ha("max","datum")},clip:{value:!0}}),ya={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},n.encode.update=Object.assign({},f(n.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var Ba of xj){var gb=Yc(Ba,x.markDef,x.config);n.encode.update[Ba]?(ha[Ba]=n.encode.update[Ba],delete n.encode.update[Ba]):gb&&(ha[Ba]=Yb(gb));gb&&(n.encode.update[Ba]={value:0})}Ba=[];if(0<(null===(W=x.stack.groupbyChannels)||
void 0===W?void 0:W.length))for(const sb of x.stack.groupbyChannels)W=x.fieldDef(sb),(gb=vd(W))&&Ba.push(gb),(null!==W&&void 0!==W&&W.bin||null!==W&&void 0!==W&&W.timeUnit)&&Ba.push(vd(W,{binSuffix:"end"}));ha="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((sb,zb)=>{if(n.encode.update[zb])return Object.assign({},sb,{[zb]:n.encode.update[zb]});const Sb=Yc(zb,x.markDef,x.config);return void 0!==Sb?Object.assign({},sb,{[zb]:Yb(Sb)}):
sb},ha);ha.stroke&&(ha.strokeForeground={value:!0},ha.strokeOffset={value:0});return[{type:"group",from:{facet:{data:x.requestDataName(Be.Main),name:"stack_group_"+x.requestDataName(Be.Main),groupby:Ba,aggregate:{fields:[Q({suffix:"start"}),Q({suffix:"start"}),Q({suffix:"end"}),Q({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:ha},marks:[{type:"group",encode:{update:ya},marks:[n]}]}]}function qk(x){const {encoding:W,stack:n,mark:M,markDef:Q,config:ha}=x;var ya=W.order;if(!(!p.isArray(ya)&&
ve(ya)&&d(ya.value)||!ya&&d(Dc("order",Q,ha)))){if((p.isArray(ya)||wc(ya))&&!n)return Ca(ya,{expr:"datum"});if(Oa(M)){const gb="horizontal"===Q.orient?"y":"x",sb=W[gb];if(wc(sb)){ya=sb.sort;if(p.isArray(ya))return{field:vd(sb,{prefix:gb,suffix:"sort_index",expr:"datum"})};if(Rb(ya))return{field:vd({aggregate:Gg(x.encoding)?ya.op:void 0,field:ya.field},{expr:"datum"})};if(ya&&ya.encoding)return x=x.fieldDef(ya.encoding),{field:vd(x,{expr:"datum"}),order:ya.order};if(null!==ya){var Ba;return{field:vd(sb,
{binSuffix:null!==(Ba=x.stack)&&void 0!==Ba&&Ba.impute?"mid":void 0,expr:"datum"})}}}}}}function fj(x){let W=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:n,markDef:M,encoding:Q,config:ha}=x;var ya=M.clip;var Ba=x.getScaleComponent("x");var gb=x.getScaleComponent("y");Ba=null!==Ba&&void 0!==Ba&&Ba.get("selectionExtent")||null!==gb&&void 0!==gb&&gb.get("selectionExtent")?!0:void 0;gb=x.component.projection;ya=C(ya,Ba,gb&&!gb.isFit?!0:void 0);Ba=qc(M);gb=Q.key;const sb=
qk(x);var zb;if(x.component.selection){for(var Sb=zb=ne(x.component.selection).length,Bc=x.parent;Bc&&0===Sb;)Sb=ne(Bc.component.selection).length,Bc=Bc.parent;zb=Sb?{interactive:0<zb||!!x.encoding.tooltip}:null}else zb=null;Sb=Dc("aria",M,ha);Bc=tl[n].postEncodingTransform?tl[n].postEncodingTransform(x):null;return[Object.assign({},{name:x.getName("marks"),type:tl[n].vgMark},ya?{clip:!0}:{},Ba?{style:Ba}:{},gb?{key:gb.field}:{},sb?{sort:sb}:{},zb?zb:{},!1===Sb?{aria:Sb}:{},{from:{data:W.fromPrefix+
x.requestDataName(Be.Main)},encode:{update:tl[n].encodeEntry(x)}},Bc?{transform:Bc}:{})]}function rk(x,W,n,M,Q){if("facet"in x)return new ul(x,W,n,Q);if("layer"in x)return new fm(x,W,n,M,Q);if(Mf(x))return new gm(x,W,n,M,Q);if("vconcat"in x||"hconcat"in x||"concat"in x)return new Fm(x,W,n,Q);throw Error($b(x));}function Ok(x,W){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let M=3<arguments.length?arguments[3]:void 0;const Q=x.config?Ve(x.config):void 0;n=[].concat(x.assembleSelectionData([]),
Ce(x.component.data,n));const ha=x.assembleProjections(),ya=x.assembleTitle(),Ba=x.assembleGroupStyle(),gb=x.assembleGroupEncodeEntry(!0);let sb=x.assembleLayoutSignals();sb=sb.filter(Bc=>"width"!==Bc.name&&"height"!==Bc.name||void 0===Bc.value?!0:(W[Bc.name]=+Bc.value,!1));var zb=Object.assign({},W);const Sb=W.params;zb=(delete zb.params,zb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},x.description?{description:x.description}:{},zb,ya?{title:ya}:{},Ba?{style:Ba}:
{},gb?{encode:{update:gb}}:{},{data:n},0<ha.length?{projections:ha}:{},x.assembleGroup([...sb,...x.assembleSelectionTopLevelSignals([]),...K(Sb)]),Q?{config:Q}:{},M?{usermeta:M}:{})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function n(W){var M=isNaN(W)?1:Number(W);return M?Array.prototype.reduce.call(this,function(Q,ha){return Array.isArray(ha)?Q.push.apply(Q,n.call(ha,M-1)):Q.push(ha),Q},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||
Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(W){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var vj={exports:{}};(function(W){var n=function(){function M(zb,Sb){return null!=Sb&&zb instanceof Sb}function Q(zb,Sb,Bc,md,Tc){function yd(ee,Ae){if(null===ee)return null;if(0===Ae||"object"!=typeof ee)return ee;if(M(ee,Ba))var Ye=new Ba;else if(M(ee,gb))Ye=new gb;else if(M(ee,sb))Ye=new sb(function(jg,di){ee.then(function(Ji){jg(yd(Ji,Ae-1))},
function(Ji){di(yd(Ji,Ae-1))})});else if(Q.__isArray(ee))Ye=[];else if(Q.__isRegExp(ee))Ye=new RegExp(ee.source,ya(ee)),ee.lastIndex&&(Ye.lastIndex=ee.lastIndex);else if(Q.__isDate(ee))Ye=new Date(ee.getTime());else{if(we&&v.isBuffer(ee))return Ye=v.allocUnsafe?v.allocUnsafe(ee.length):new v(ee.length),ee.copy(Ye),Ye;if(M(ee,Error))Ye=Object.create(ee);else if("undefined"==typeof md){var Qe=Object.getPrototypeOf(ee);Ye=Object.create(Qe)}else Ye=Object.create(md),Qe=md}if(Sb){var Ke=Jd.indexOf(ee);
if(-1!=Ke)return de[Ke];Jd.push(ee);de.push(Ye)}M(ee,Ba)&&ee.forEach(function(jg,di){di=yd(di,Ae-1);jg=yd(jg,Ae-1);Ye.set(di,jg)});M(ee,gb)&&ee.forEach(function(jg){jg=yd(jg,Ae-1);Ye.add(jg)});for(var ag in ee){var ah;Qe&&(ah=Object.getOwnPropertyDescriptor(Qe,ag));ah&&null==ah.set||(Ye[ag]=yd(ee[ag],Ae-1))}if(Object.getOwnPropertySymbols)for(Ke=Object.getOwnPropertySymbols(ee),ag=0;ag<Ke.length;ag++)if(ah=Ke[ag],Qe=Object.getOwnPropertyDescriptor(ee,ah),!Qe||Qe.enumerable||Tc)Ye[ah]=yd(ee[ah],Ae-
1),Qe.enumerable||Object.defineProperty(Ye,ah,{enumerable:!1});if(Tc)for(Ke=Object.getOwnPropertyNames(ee),ag=0;ag<Ke.length;ag++)ah=Ke[ag],Qe=Object.getOwnPropertyDescriptor(ee,ah),Qe&&Qe.enumerable||(Ye[ah]=yd(ee[ah],Ae-1),Object.defineProperty(Ye,ah,{enumerable:!1}));return Ye}"object"===typeof Sb&&(Bc=Sb.depth,md=Sb.prototype,Tc=Sb.includeNonEnumerable,Sb=Sb.circular);var Jd=[],de=[],we="undefined"!=typeof v;"undefined"==typeof Sb&&(Sb=!0);"undefined"==typeof Bc&&(Bc=Infinity);return yd(zb,Bc)}
function ha(zb){return Object.prototype.toString.call(zb)}function ya(zb){var Sb="";zb.global&&(Sb+="g");zb.ignoreCase&&(Sb+="i");zb.multiline&&(Sb+="m");return Sb}try{var Ba=Map}catch(zb){Ba=function(){}}try{var gb=Set}catch(zb){gb=function(){}}try{var sb=Promise}catch(zb){sb=function(){}}Q.clonePrototype=function(zb){if(null===zb)return null;var Sb=function(){};Sb.prototype=zb;return new Sb};Q.__objToStr=ha;Q.__isDate=function(zb){return"object"===typeof zb&&"[object Date]"===ha(zb)};Q.__isArray=
function(zb){return"object"===typeof zb&&"[object Array]"===ha(zb)};Q.__isRegExp=function(zb){return"object"===typeof zb&&"[object RegExp]"===ha(zb)};Q.__getRegExpFlags=ya;return Q}();W.exports&&(W.exports=n)})(vj);var Qi=function(W,n){n||(n={});"function"===typeof n&&(n={cmp:n});var M="boolean"===typeof n.cycles?n.cycles:!1,Q=n.cmp&&function(ya){return function(Ba){return function(gb,sb){return ya({key:gb,value:Ba[gb]},{key:sb,value:Ba[sb]})}}}(n.cmp),ha=[];return function gb(Ba){Ba&&Ba.toJSON&&
"function"===typeof Ba.toJSON&&(Ba=Ba.toJSON());if(void 0!==Ba){if("number"==typeof Ba)return isFinite(Ba)?""+Ba:"null";if("object"!==typeof Ba)return JSON.stringify(Ba);var sb;if(Array.isArray(Ba)){var zb="[";for(sb=0;sb<Ba.length;sb++)sb&&(zb+=","),zb+=gb(Ba[sb])||"null";return zb+"]"}if(null===Ba)return"null";if(-1!==ha.indexOf(Ba)){if(M)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Sb=ha.push(Ba)-1,Bc=Object.keys(Ba).sort(Q&&Q(Ba));zb="";
for(sb=0;sb<Bc.length;sb++){var md=Bc[sb],Tc=gb(Ba[md]);Tc&&(zb&&(zb+=","),zb+=JSON.stringify(md)+":"+Tc)}ha.splice(Sb,1);return"{"+zb+"}"}}(W)};const oh=function Q(n,M){if(n===M)return!0;if(n&&M&&"object"==typeof n&&"object"==typeof M){if(n.constructor!==M.constructor)return!1;var ha;if(Array.isArray(n)){var ya=n.length;if(ya!=M.length)return!1;for(ha=ya;0!==ha--;)if(!Q(n[ha],M[ha]))return!1;return!0}if(n.constructor===RegExp)return n.source===M.source&&n.flags===M.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===
M.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===M.toString();var Ba=Object.keys(n);ya=Ba.length;if(ya!==Object.keys(M).length)return!1;for(ha=ya;0!==ha--;)if(!Object.prototype.hasOwnProperty.call(M,Ba[ha]))return!1;for(ha=ya;0!==ha--;)if(ya=Ba[ha],!Q(n[ya],M[ya]))return!1;return!0}return n!==n&&M!==M},uf=vj.exports;Set.prototype.toJSON=function(){return"Set(".concat([...this].map(n=>Qi(n)).join(","),")")};const Lg=Qi,ne=Object.keys,Bh=Object.values,hj=Object.entries;let sk=
42;const ck={theta:1,theta2:1,radius:1,radius2:1},Vk={longitude:1,longitude2:1,latitude:1,latitude2:1},kl=ne(Vk),kk=Object.assign({},{x:1,y:1,x2:1,y2:1},ck,Vk,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),el={row:1,column:1,facet:1},ei=ne(el),ak=Object.assign({},kk,el),fl=ne(ak);var bk=Object.assign({},ak),gl=(delete bk.order,delete bk.detail,
delete bk.tooltip,bk),Rj=Object.assign({},gl);const Cl=(delete Rj.row,delete Rj.column,delete Rj.facet,Rj),$i="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),tk=ne(kk);var Uh=Object.assign({},kk);const Hk=(delete Uh.x,delete Uh.y,delete Uh.x2,delete Uh.y2,delete Uh.xOffset,delete Uh.yOffset,delete Uh.latitude,delete Uh.longitude,delete Uh.latitude2,delete Uh.longitude2,delete Uh.theta,delete Uh.theta2,delete Uh.radius,delete Uh.radius2,Uh),ci=ne(Hk),Tk={x:1,y:1},oi=ne(Tk),ij={theta:1,radius:1},
jj=ne(ij),wi={xOffset:1,yOffset:1};var ai=Object.assign({},Hk);const Pk=(delete ai.text,delete ai.tooltip,delete ai.href,delete ai.url,delete ai.description,delete ai.detail,delete ai.key,delete ai.order,ai),uk=ne(Pk),xi=Object.assign({},Tk,ij,wi,Pk),yj=ne(xi),Rk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Lj=Object.assign({},Rk);const Ri=
(delete Lj.geoshape,Lj),ek={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},dk={count:1,min:1,max:1},Ah=new Set(["count","valid","missing","distinct"]),Fi=new Set(["count","sum","distinct","valid","missing"]),Si=new Set("mean average median q1 q3 min max".split(" ")),yi=ne({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,
stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,
cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Mj={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},xj=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],qi=p.logger(p.Warn);let mj=qi;const jh="january february march april may june july august september october november december".split(" "),bi=jh.map(n=>n.substr(0,3)),Rh="sunday monday tuesday wednesday thursday friday saturday".split(" "),
vk=Rh.map(n=>n.substr(0,3)),Nj={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Oj=ne(Nj),xl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},ji={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Qk={linear:"numeric",log:"numeric",
pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},hl={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},pi=new Set(["linear","log","pow","sqrt","symlog"]),gi=new Set([...pi,
"time","utc"]),zj=new Set(["quantile","quantize","threshold"]),il=new Set([...gi,...zj,"sequential","identity"]),yl=new Set(["ordinal","bin-ordinal","point","band"]);var Aj=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const Al=(delete Aj.type,delete Aj.domain,delete Aj.range,delete Aj.rangeMax,delete Aj.rangeMin,
delete Aj.scheme,Aj),zl=ne(Al),hi={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},fk=hi.arc,Uj=hi.area,Kf=hi.bar,fi=hi.image,Ch=hi.line,Nh=hi.point,Cj=hi.rect,Tj=hi.rule,Sh=hi.text,Sj=hi.tick,Pj=hi.trail,wj=hi.circle,nj=hi.square,Bk=hi.geoshape,Uk=new Set(ne(hi)),Sk="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),
wk=ne({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),bf=ne({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),xk={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},yk={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Gi=(n,M)=>{switch(M.fieldTitle){case "plain":return n.field;
case "functional":{const {aggregate:Q,bin:ha,timeUnit:ya,field:Ba}=n;oa(Q)?n="".concat(Ba," for argmax(").concat(Q.argmax,")"):Na(Q)?n="".concat(Ba," for argmin(").concat(Q.argmin,")"):(n=rf(ya),n=(n=Q||(null===n||void 0===n?void 0:n.unit)||(null===n||void 0===n?void 0:n.maxbins)&&"timeunit"||Xa(ha)&&"bin")?"".concat(n.toUpperCase(),"(").concat(Ba,")"):Ba)}return n;default:return df(n,M)}};let Ai=Gi;const Vi={compatible:!0},Vj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",
vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},
gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Ck=["domain","grid","labels","ticks","title"],Xk={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",
aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",
labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",
titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Ui={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,
labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,
titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Qj=Object.assign({},Ui,{style:1,labelExpr:1,encoding:1}),Ak=ne({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,
axisYQuantitative:1,axisYTemporal:1});class Bj{constructor(n,M){this.name=n;this.run=M}hasMatchingType(n){return Mf(n)?(n=n.mark,(ic(n)?n.type:n)===this.name):!1}}const aj=new Bj("boxplot",mf),zk=new Bj("errorbar",gh),gk=new Bj("errorband",Mh),hk={};Th("boxplot",mf,["box","median","outliers","rule","ticks"]);Th("errorbar",gh,["ticks","rule"]);Th("errorband",Mh,["band","borders"]);const Bl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength",
"unselectedOpacity"],dl={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Mk={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",
labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},wl=ne(dl),vl=ne(Mk),ll=ne({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Wj="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Dl=["background","padding"],Ik=ne({align:1,bounds:1,center:1,columns:1,spacing:1}),H={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",
timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,
rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",
fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},P="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),da={text:11,guideLabel:10,
guideTitle:11,groupTitle:13,groupSubtitle:12},Ra={blue:P[0],orange:P[1],red:P[2],teal:P[3],green:P[4],yellow:P[5],purple:P[6],pink:P[7],brown:P[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},nb=[...bf,...Ak,...ll,"background","padding","legend","lineBreak","scale","style","title","view"],Kb=new Set(["view",...Uk]),ec="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Ac=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class hd{map(n,M){return"facet"in n?this.mapFacet(n,M):"repeat"in n?this.mapRepeat(n,M):"hconcat"in n?this.mapHConcat(n,M):"vconcat"in n?this.mapVConcat(n,M):"concat"in n?this.mapConcat(n,M):this.mapLayerOrUnit(n,
M)}mapLayerOrUnit(n,M){if("layer"in n)return this.mapLayer(n,M);if(Mf(n))return this.mapUnit(n,M);throw Error($b(n));}mapLayer(n,M){return Object.assign({},n,{layer:n.layer.map(Q=>this.mapLayerOrUnit(Q,M))})}mapHConcat(n,M){return Object.assign({},n,{hconcat:n.hconcat.map(Q=>this.map(Q,M))})}mapVConcat(n,M){return Object.assign({},n,{vconcat:n.vconcat.map(Q=>this.map(Q,M))})}mapConcat(n,M){var Q=Object.assign({},n);n=n.concat;Q=(delete Q.concat,Q);return Object.assign({},Q,{concat:n.map(ha=>this.map(ha,
M))})}mapFacet(n,M){return Object.assign({},n,{spec:this.map(n.spec,M)})}mapRepeat(n,M){return Object.assign({},n,{spec:this.map(n.spec,M)})}}const Ld={zero:1,center:1,normalize:1},$e=new Set([fk,Kf,Uj,Tj,Nh,wj,nj,Ch,Sh,Sj]),Uf=new Set([Kf,Uj,fk]);class ke{constructor(){Ab(this,"name","path-overlay")}hasMatchingType(n,M){if(Mf(n)){const {mark:Q,encoding:ha}=n;n=ic(Q)?Q:{type:Q};switch(n.type){case "line":case "rule":case "trail":return!!Je(n,M[n.type],ha);case "area":return!!Je(n,M[n.type],ha)||!!Pe(n,
M[n.type])}}return!1}run(n,M,Q){var {config:ha}=M,ya=Object.assign({},n),Ba=n.params,gb=n.projection,sb=n.mark;n=n.encoding;ya=(delete ya.params,delete ya.projection,delete ya.mark,delete ya.encoding,ya);n=Hb(n,ha);sb=ic(sb)?sb:{type:sb};const zb=Je(sb,ha[sb.type],n),Sb="area"===sb.type&&Pe(sb,ha[sb.type]);var Bc=Object,md=Bc.assign;var Tc=Object.assign({},"area"===sb.type&&void 0===sb.opacity&&void 0===sb.fillOpacity?{opacity:.7}:{},sb);Tc=Object.assign({},Tc);Tc=(delete Tc.point,delete Tc.line,
Tc);Tc=1<ne(Tc).length?Tc:Tc.type;Ba=[md.call(Bc,{},Ba?{params:Ba}:{},{mark:Tc,encoding:f(n,["shape"])})];Bc=ge(sb,n);md=n;if(Bc){const {fieldChannel:yd,offset:Jd}=Bc;md=Object.assign({},n,{[yd]:Object.assign({},n[yd],Jd?{stack:Jd}:{})})}Sb&&Ba.push(Object.assign({},gb?{projection:gb}:{},{mark:Object.assign({},{type:"line"},l(sb,["clip","interpolate","tension","tooltip"]),Sb),encoding:md}));zb&&Ba.push(Object.assign({},gb?{projection:gb}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},
l(sb,["clip","tooltip"]),zb),encoding:md}));gb=Object.assign({},ya,{layer:Ba});ya=Object;Ba=ya.assign;for(const yd of["line","area","rule","trail"])ha[yd]&&(ha=Object.assign({},ha,{[yd]:f(ha[yd],["point","line"])}));return Q(gb,Ba.call(ya,{},M,{config:ha}))}}class pf{constructor(){Ab(this,"name","RuleForRangedLine")}hasMatchingType(n){if(Mf(n)){const {encoding:M,mark:Q}=n;if("line"===Q||ic(Q)&&"line"===Q.type)for(const ha of $i)if(n=Ja(ha),n=M[n],M[ha]&&(wc(n)&&!Ya(n.bin)||od(n)))return!0}return!1}run(n,
M,Q){const {encoding:ha,mark:ya}=n;var Ba=!!ha.x2;Ba="Line mark is for continuous lines and thus cannot be used with ".concat(Ba&&ha.y2?"x2 and y2":Ba?"x2":"y2",". We will use the rule mark (line segments) instead.");gc(Ba);return Q(Object.assign({},n,{mark:p.isObject(ya)?Object.assign({},ya,{type:"rule"}):"rule"}),M)}}class Sf extends hd{constructor(){super(...arguments);Ab(this,"nonFacetUnitNormalizers",[aj,zk,gk,new ke,new pf])}map(n,M){if(Mf(n)){const Q=gg(n.encoding,"row"),ha=gg(n.encoding,"column"),
ya=gg(n.encoding,"facet");if(Q||ha||ya)return this.mapFacetedUnit(n,M)}return super.map(n,M)}mapUnit(n,M){const {parentEncoding:Q,parentProjection:ha}=M;var ya=Hf(n.encoding,M.repeater);n=Object.assign({},n,ya?{encoding:ya}:{});if(Q||ha)return this.mapUnitWithParentEncodingOrProjection(n,M);ya=this.mapLayerOrUnit.bind(this);for(const Ba of this.nonFacetUnitNormalizers)if(Ba.hasMatchingType(n,M.config))return Ba.run(n,M,ya);return n}mapRepeat(n,M){return!p.isArray(n.repeat)&&n.repeat.layer?this.mapLayerRepeat(n,
M):this.mapNonLayerRepeat(n,M)}mapLayerRepeat(n,M){var Q=Object.assign({},n);const ha=n.repeat,ya=n.spec;Q=(delete Q.repeat,delete Q.spec,Q);const {row:Ba,column:gb,layer:sb}=ha,{repeater:zb={},repeaterPrefix:Sb=""}=M;return Ba||gb?this.mapRepeat(Object.assign({},n,{repeat:Object.assign({},Ba?{row:Ba}:{},gb?{column:gb}:{}),spec:{repeat:{layer:sb},spec:ya}}),M):Object.assign({},Q,{layer:sb.map(Bc=>{var md=Object.assign({},zb,{layer:Bc});Bc="".concat((ya.name||"")+Sb,"child__layer_").concat(G(Bc));
md=this.mapLayerOrUnit(ya,Object.assign({},M,{repeater:md,repeaterPrefix:Bc}));md.name=Bc;return md})})}mapNonLayerRepeat(n,M){var Q,ha=n,ya=Object.assign({},ha);const Ba=ha.repeat,gb=ha.spec;ha=ha.data;ya=(delete ya.repeat,delete ya.spec,delete ya.data,ya);!p.isArray(Ba)&&n.columns&&(n=f(n,["columns"]),gc(fe("repeat")));const sb=[],{repeater:zb={},repeaterPrefix:Sb=""}=M,Bc=!p.isArray(Ba)&&Ba.row||[zb?zb.row:null],md=!p.isArray(Ba)&&Ba.column||[zb?zb.column:null];var Tc=p.isArray(Ba)&&Ba||[zb?zb.repeat:
null];for(const Jd of Tc)for(const de of Bc)for(const we of md){var yd={repeat:Jd,row:de,column:we,layer:zb.layer};Tc=(gb.name||"")+Sb+"child__"+(p.isArray(Ba)?"".concat(G(Jd)):(Ba.row?"row_".concat(G(de)):"")+(Ba.column?"column_".concat(G(we)):""));yd=this.map(gb,Object.assign({},M,{repeater:yd,repeaterPrefix:Tc}));yd.name=Tc;sb.push(f(yd,["data"]))}n=p.isArray(Ba)?n.columns:Ba.column?Ba.column.length:1;return Object.assign({},{data:null!==(Q=gb.data)&&void 0!==Q?Q:ha,align:"all"},ya,{columns:n,
concat:sb})}mapFacet(n,M){const {facet:Q}=n;Ma(Q)&&n.columns&&(n=f(n,["columns"]),gc(fe("facet")));return super.mapFacet(n,M)}mapUnitWithParentEncodingOrProjection(n,M){const {encoding:Q,projection:ha}=n,{parentEncoding:ya,parentProjection:Ba,config:gb}=M,sb=Ng({parentProjection:Ba,projection:ha});M=yg({parentEncoding:ya,encoding:Hf(Q,M.repeater)});return this.mapUnit(Object.assign({},n,sb?{projection:sb}:{},M?{encoding:M}:{}),{config:gb})}mapFacetedUnit(n,M){var Q=n.encoding,ha=Object.assign({},
Q),ya=Q.row;const Ba=Q.column;Q=Q.facet;const gb=(delete ha.row,delete ha.column,delete ha.facet,ha);var sb=Object.assign({},n);ha=n.mark;const zb=n.width,Sb=n.projection,Bc=n.height,md=n.view;n=n.params;sb=(delete sb.mark,delete sb.width,delete sb.projection,delete sb.height,delete sb.view,delete sb.params,delete sb.encoding,sb);const {facetMapping:Tc,layout:yd}=this.getFacetMappingAndLayout({row:ya,column:Ba,facet:Q},M);ya=Hf(gb,M.repeater);return this.mapFacet(Object.assign({},sb,yd,{facet:Tc,
spec:Object.assign({},zb?{width:zb}:{},Bc?{height:Bc}:{},md?{view:md}:{},Sb?{projection:Sb}:{},{mark:ha,encoding:ya},n?{params:n}:{})}),M)}getFacetMappingAndLayout(n,M){const {row:Q,column:ha,facet:ya}=n;if(Q||ha){ya&&(M=[...(Q?["row"]:[]),...(ha?["column"]:[])],M="Facet encoding dropped as ".concat(M.join(" and ")," ").concat(1<M.length?"are":"is"," also specified."),gc(M));M={};var Ba={};for(var gb of["row","column"]){const Bc=n[gb];if(Bc){var sb=Object.assign({},Bc);sb=(delete sb.align,delete sb.center,
delete sb.spacing,delete sb.columns,sb);M[gb]=sb;for(var zb of["align","center","spacing"])if(void 0!==Bc[zb]){var Sb;null!==(Sb=Ba[zb])&&void 0!==Sb?Sb:Ba[zb]={};Ba[zb][gb]=Bc[zb]}}}return{facetMapping:M,layout:Ba}}Ba=Object.assign({},ya);n=ya.align;Sb=ya.center;gb=ya.spacing;zb=ya.columns;Ba=(delete Ba.align,delete Ba.center,delete Ba.spacing,delete Ba.columns,Ba);M=(M=M.repeater)?Ma(Ba)?ff(Ba,M):Ue(Ba,M):Ba;return{facetMapping:M,layout:Object.assign({},n?{align:n}:{},Sb?{center:Sb}:{},gb?{spacing:gb}:
{},zb?{columns:zb}:{})}}mapLayer(n,M){var Q=Object.assign({},M),ha=M.parentEncoding;M=M.parentProjection;Q=(delete Q.parentEncoding,delete Q.parentProjection,Q);var ya=Object.assign({},n);const Ba=n.encoding;n=n.projection;ya=(delete ya.encoding,delete ya.projection,ya);ha=Object.assign({},Q,{parentEncoding:yg({parentEncoding:ha,encoding:Ba,layer:!0}),parentProjection:Ng({parentProjection:M,projection:n})});return super.mapLayer(ya,ha)}}class If extends hd{map(n,M){var Q,ha;null!==(Q=M.emptySelections)&&
void 0!==Q?Q:M.emptySelections={};null!==(ha=M.selectionPredicates)&&void 0!==ha?ha:M.selectionPredicates={};n=Qf(n,M);return super.map(n,M)}mapLayerOrUnit(n,M){n=Qf(n,M);if(n.encoding){const Q={};for(const ha of hj(n.encoding)){const [ya,Ba]=ha;Q[ya]=pg(Ba,M)}n=Object.assign({},n,{encoding:Q})}return super.mapLayerOrUnit(n,M)}mapUnit(n,M){var Q=Object.assign({},n);const ha=n.selection;Q=(delete Q.selection,Q);return ha?Object.assign({},Q,{params:hj(ha).map(ya=>{let [Ba,gb]=ya;var sb=Object.assign({},
gb);ya=gb.init;const zb=gb.bind,Sb=gb.empty;sb=(delete sb.init,delete sb.bind,delete sb.empty,sb);"single"===sb.type?(sb.type="point",sb.toggle=!1):"multi"===sb.type&&(sb.type="point");M.emptySelections[Ba]="none"!==Sb;for(const md of Bh(null!==(Bc=M.selectionPredicates[Ba])&&void 0!==Bc?Bc:{})){var Bc;md.empty="none"!==Sb}return{name:Ba,value:ya,select:sb,bind:zb}})}):n}}class ud extends hd{map(n,M){var Q;const ha=null!==(Q=M.selections)&&void 0!==Q?Q:[];if(n.params&&!Mf(n)){Q=[];for(const ya of n.params)ya.select?
ha.push(ya):Q.push(ya);n.params=Q}M.selections=ha;return super.map(n,wh(n,M))}mapUnit(n,M){var Q;const ha=M.selections;if(!ha||!ha.length)return n;const ya=(null!==(Q=M.path)&&void 0!==Q?Q:[]).concat(n.name);M=[];for(const Ba of ha)if(Ba.views&&Ba.views.length)for(const gb of Ba.views)(p.isString(gb)&&(gb===n.name||0<=ya.indexOf(gb))||p.isArray(gb)&&gb.map(sb=>ya.indexOf(sb)).every((sb,zb,Sb)=>-1!==sb&&(0===zb||sb>Sb[zb-1])))&&M.push(Ba);else M.push(Ba);M.length&&(n.params=M);return n}}for(const n of["mapFacet",
"mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const M=ud.prototype[n];ud.prototype[n]=function(Q,ha){return M.call(this,Q,wh(Q,ha))}}const kd=new Sf,sd=new If,Zd=new ud;class $d{constructor(){let n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=n}clone(){return new $d(uf(this.explicit),uf(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(n){return C(this.explicit[n],
this.implicit[n])}getWithExplicit(n){return void 0!==this.explicit[n]?{explicit:!0,value:this.explicit[n]}:void 0!==this.implicit[n]?{explicit:!1,value:this.implicit[n]}:{explicit:!1,value:void 0}}setWithExplicit(n,M){let {value:Q,explicit:ha}=M;void 0!==Q&&this.set(n,Q,ha)}set(n,M,Q){delete this[Q?"implicit":"explicit"][n];this[Q?"explicit":"implicit"][n]=M;return this}copyKeyFromSplit(n,M){let {explicit:Q,implicit:ha}=M;void 0!==Q[n]?this.set(n,Q[n],!0):void 0!==ha[n]&&this.set(n,ha[n],!1)}copyKeyFromObject(n,
M){void 0!==M[n]&&this.set(n,M[n],!0)}copyAll(n){for(const M of ne(n.combine())){const Q=n.getWithExplicit(M);this.setWithExplicit(M,Q)}}}class Xf extends $d{constructor(){let n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(n,M);this.explicit=n;this.implicit=M;this.parseNothing=Q}clone(){const n=super.clone();n.parseNothing=this.parseNothing;return n}}let Be;(function(n){n[n.Raw=
0]="Raw";n[n.Main=1]="Main";n[n.Row=2]="Row";n[n.Column=3]="Column";n[n.Lookup=4]="Lookup"})(Be||(Be={}));class Xe{constructor(n,M){this.debugName=M;Ab(this,"_children",[]);Ab(this,"_parent",null);Ab(this,"_hash",void 0);n&&(this.parent=n)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(n){(this._parent=n)&&n.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(n,M){this._children.includes(n)?gc("Attempt to add the same child twice."):
void 0!==M?this._children.splice(M,0,n):this._children.push(n)}removeChild(n){n=this._children.indexOf(n);this._children.splice(n,1);return n}remove(){let n=this._parent.removeChild(this);for(const M of this._children)M._parent=this._parent,this._parent.addChild(M,n++)}insertAsParentOf(n){const M=n.parent;M.removeChild(this);this.parent=M;n.parent=this}swapWithParent(){const n=this._parent,M=n.parent;for(const Q of this._children)Q.parent=n;this._children=[];n.removeChild(this);n.parent.removeChild(n);
this.parent=M;n.parent=this}}class Df extends Xe{clone(){const n=new this.constructor;n.debugName="clone_".concat(this.debugName);n._source=this._source;n._name="clone_".concat(this._name);n.type=this.type;n.refCounts=this.refCounts;n.refCounts[n._name]=0;return n}constructor(n,M,Q,ha){super(n,M);this.type=Q;this.refCounts=ha;Ab(this,"_source",void 0);Ab(this,"_name",void 0);this._source=this._name=M;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===
this._hash&&(this._hash="Output ".concat(N()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(n){this._source=n}}class Gf extends Xe{clone(){return new Gf(null,uf(this.formula))}constructor(n,M){super(n);this.formula=M}static makeFromEncoding(n,M){M=M.reduceFieldDef((Q,ha)=>{const {field:ya,timeUnit:Ba}=ha;Ba&&(ha=vd(ha,{forAs:!0}),Q[g({as:ha,field:ya,timeUnit:Ba})]={as:ha,field:ya,timeUnit:Ba});return Q},{});
return w(M)?null:new Gf(n,M)}static makeFromTransform(n,M){var Q=Object.assign({},M);M=Object.assign({},Q);Q=Q.timeUnit;M=(delete M.timeUnit,M);Q=rf(Q);M=Object.assign({},M,{timeUnit:Q});return new Gf(n,{[g(M)]:M})}merge(n){this.formula=Object.assign({},this.formula);for(const M in n.formula)this.formula[M]||(this.formula[M]=n.formula[M]);for(const M of n.children)n.removeChild(M),M.parent=this;n.remove()}removeFormulas(n){const M={};for(const Q of hj(this.formula)){const [ha,ya]=Q;n.has(ya.as)||
(M[ha]=ya)}this.formula=M}producedFields(){return new Set(Bh(this.formula).map(n=>n.as))}dependentFields(){return new Set(Bh(this.formula).map(n=>n.field))}hash(){return"TimeUnit ".concat(g(this.formula))}assemble(){const n=[];for(const ha of Bh(this.formula)){const {field:ya,as:Ba,timeUnit:gb}=ha;var M=rf(gb),Q=Object.assign({},M);const sb=M.unit;M=M.utc;Q=(delete Q.unit,delete Q.utc,Q);n.push(Object.assign({},{field:T(ya),type:"timeunit"},sb?{units:ze(sb)}:{},M?{timezone:"utc"}:{},Q,{as:[Ba,"".concat(Ba,
"_end")]}))}return n}}class kj{constructor(){Ab(this,"hasChannel",void 0);Ab(this,"hasField",void 0);Ab(this,"timeUnit",void 0);Ab(this,"items",void 0);for(var n=arguments.length,M=Array(n),Q=0;Q<n;Q++)M[Q]=arguments[Q];this.items=M;this.hasChannel={};this.hasField={}}}const lj={defined:n=>"interval"===n.type&&"global"===n.resolve&&n.bind&&"scales"===n.bind,parse:(n,M)=>{const Q=M.scales=[];for(const ya of M.project.items){var ha=ya.channel;if(!xi[ha])continue;const Ba=(ha=n.getScaleComponent(ha))?
ha.get("type"):void 0;ha&&se(Ba)?(ha.set("selectionExtent",{param:M.name,field:ya.field},!0),Q.push(ya)):gc("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(n,M,Q)=>{const ha=M.scales.filter(Ba=>0===Q.filter(gb=>gb.name===Ba.signals.data).length);if(!n.parent||Aa(n)||0===ha.length)return Q;n=Q.filter(Ba=>Ba.name===M.name)[0];let ya=n.update;if(0<=ya.indexOf("vlSelectionResolve"))n.update="{".concat(ha.map(Ba=>"".concat(p.stringValue(T(Ba.field)),
": ").concat(Ba.signals.data)).join(", "),"}");else{for(const Ba of ha){const gb="".concat(p.stringValue(T(Ba.field)),": ").concat(Ba.signals.data);ya.includes(gb)||(ya="".concat(ya.substring(0,ya.length-1),", ").concat(gb,"}"))}n.update=ya}return Q.concat(ha.map(Ba=>({name:Ba.signals.data})))},signals:(n,M,Q)=>{if(n.parent&&!Aa(n))for(const ha of M.scales)n=Q.filter(ya=>ya.name===ha.signals.data)[0],n.push="outer",delete n.value,delete n.update;return Q}},mm={left:"x",center:"xc",right:"x2"},nm=
{top:"y",middle:"yc",bottom:"y2"},om=new Set(["aria","width","height"]),hm={defined:n=>"point"===n.type&&n.nearest,parse:(n,M)=>{if(M.events)for(const Q of M.events)Q.markname=n.getName("voronoi")},marks:(n,M,Q)=>{const {x:ha,y:ya}=M.project.hasChannel;M=n.mark;if(Oa(M))return gc('The "nearest" transform is not supported for '.concat(M," marks.")),Q;M={name:n.getName("voronoi"),type:"path",interactive:!0,from:{data:n.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},
stroke:{value:"transparent"},isVoronoi:{value:!0}},gd(n,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:ha||!ya?"datum.datum.x || 0":"0"},y:{expr:ya||!ha?"datum.datum.y || 0":"0"},size:[n.getSizeSignalRef("width"),n.getSizeSignalRef("height")]}]};let Ba=0,gb=!1;Q.forEach((sb,zb)=>{var Sb;sb=null!==(Sb=sb.name)&&void 0!==Sb?Sb:"";sb===n.component.mark[0].name?Ba=zb:0<=sb.indexOf("voronoi")&&(gb=!0)});gb||Q.splice(Ba+1,0,M);return Q}},im={defined:n=>"point"===n.type&&"global"===n.resolve&&n.bind&&
"scales"!==n.bind&&!Te(n.bind),parse:(n,M,Q)=>ii(M,Q),topLevelSignals:(n,M,Q)=>{const ha=M.name;n=M.project;const ya=M.bind,Ba=M.init&&M.init[0],gb=hm.defined(M)?"(item().isVoronoi ? datum.datum : datum)":"datum";n.items.forEach((sb,zb)=>{const Sb=G("".concat(ha,"_").concat(sb.field));if(!Q.filter(Tc=>Tc.name===Sb).length){var Bc,md;Q.unshift(Object.assign({},{name:Sb},Ba?{init:Ph(Ba[zb])}:{value:null},{on:M.events?[{events:M.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(gb,
"[").concat(p.stringValue(sb.field),"] : null")}]:[],bind:null!==(Bc=null!==(md=ya[sb.field])&&void 0!==md?md:ya[sb.channel])&&void 0!==Bc?Bc:ya}))}});return Q},signals:(n,M,Q)=>{const ha=M.name;var ya=M.project;n=Q.filter(gb=>gb.name===ha+"_tuple")[0];M=ha+"_tuple_fields";ya=ya.items.map(gb=>G("".concat(ha,"_").concat(gb.field)));const Ba=ya.map(gb=>"".concat(gb," !\x3d\x3d null")).join(" \x26\x26 ");ya.length&&(n.update="".concat(Ba," ? {fields: ").concat(M,", values: [").concat(ya.join(", "),"]} : null"));
delete n.value;delete n.on;return Q}},jm={defined:n=>"point"===n.type&&!!n.toggle,signals:(n,M,Q)=>Q.concat({name:M.name+"_toggle",value:!1,on:[{events:M.events,update:M.toggle}]}),modifyExpr:(n,M)=>{const Q=M.name+"_tuple",ha=M.name+"_toggle";return"".concat(ha," ? null : ").concat(Q,", ")+("global"===M.resolve?"".concat(ha," ? null : true, "):"".concat(ha," ? null : {unit: ").concat(Dh(n),"}, "))+"".concat(ha," ? ").concat(Q," : null")}},Wl={defined:n=>{const M="global"===n.resolve&&n.bind&&Te(n.bind);
n=1===n.project.items.length&&"_vgsid_"!==n.project.items[0].field;M&&!n&&gc("Legend bindings are only supported for selections over an individual field or encoding channel.");return M&&n},parse:(n,M,Q)=>{n=uf(Q);n.select=p.isString(n.select)?{type:n.select,toggle:M.toggle}:Object.assign({},n.select,{toggle:M.toggle});ii(M,n);if(p.isObject(Q.select)&&(Q.select.on||Q.select.clear))for(const ya of M.events){var ha;ya.filter=p.array(null!==(ha=ya.filter)&&void 0!==ha?ha:[]);ya.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||
ya.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}Q=gf(M.bind)?M.bind.legend:"click";Q=p.isString(Q)?p.parseSelector(Q,"view"):p.array(Q);M.bind={legend:{merge:Q}}},topLevelSignals:(n,M,Q)=>{n=M.name;const ha=gf(M.bind)&&M.bind.legend,ya=gb=>sb=>{sb=uf(sb);sb.markname=gb;return sb};for(const gb of M.project.items){if(!gb.hasLegend)continue;var Ba="".concat(G(gb.field),"_legend");const sb="".concat(n,"_").concat(Ba);0===Q.filter(zb=>zb.name===sb).length&&(Ba=ha.merge.map(ya("".concat(Ba,
"_symbols"))).concat(ha.merge.map(ya("".concat(Ba,"_labels")))).concat(ha.merge.map(ya("".concat(Ba,"_entries")))),Q.unshift(Object.assign({},{name:sb},M.init?{}:{value:null},{on:[{events:Ba,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:ha.merge,update:"!event.item || !datum ? null : ".concat(sb),force:!0}]})))}return Q},signals:(n,M,Q)=>{const ha=M.name;var ya=M.project;n=Q.find(sb=>sb.name===ha+"_tuple");var Ba=ha+"_tuple_fields";ya=ya.items.filter(sb=>sb.hasLegend).map(sb=>
G("".concat(ha,"_").concat(G(sb.field),"_legend")));const gb=ya.map(sb=>"".concat(sb," !\x3d\x3d null")).join(" \x26\x26 ");Ba="".concat(gb," ? {fields: ").concat(Ba,", values: [").concat(ya.join(", "),"]} : null");M.events&&0<ya.length?n.on.push({events:ya.map(sb=>({signal:sb})),update:Ba}):0<ya.length&&(n.update=Ba,delete n.value,delete n.on);n=Q.find(sb=>sb.name===ha+"_toggle");Ba=gf(M.bind)&&M.bind.legend;n&&(M.events?n.on.push(Object.assign({},n.on[0],{events:Ba})):n.on[0].events=Ba);return Q}},
nl=[{defined:n=>"point"===n.type,signals:(n,M,Q)=>{var ha;const ya=M.name;var Ba=ya+"_tuple_fields";const gb=M.project.items.map(zb=>{const Sb=n.fieldDef(zb.channel);return null!==Sb&&void 0!==Sb&&Sb.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue(n.vgField(zb.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue(n.vgField(zb.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue(zb.field),
"]")}).join(", ");Ba="unit: ".concat(Dh(n),", fields: ").concat(Ba,", values");M=M.events;const sb=Bh(null!==(ha=n.component.selection)&&void 0!==ha?ha:{}).reduce((zb,Sb)=>"interval"===Sb.type?zb.concat(Sb.name+"_brush"):zb,[]).map(zb=>"indexof(item().mark.name, '".concat(zb,"') \x3c 0")).join(" \x26\x26 ");ha="datum \x26\x26 item().mark.marktype !\x3d\x3d 'group'".concat(sb?" \x26\x26 ".concat(sb):"");return Q.concat([{name:ya+"_tuple",on:M?[{events:M,update:"".concat(ha," ? {").concat(Ba,": [").concat(gb,
"]} : null"),force:!0}]:[]}])}},{defined:n=>"interval"===n.type,signals:(n,M,Q)=>{const ha=M.name;var ya=ha+"_tuple_fields";const Ba=lj.defined(M),gb=M.init?M.init[0]:null,sb=[],zb=[];if(M.translate&&!Ba){const Sb="!event.item || event.item.mark.name !\x3d\x3d ".concat(p.stringValue(ha+"_brush"));qb(M,(Bc,md)=>{var Tc,yd;md=p.array(null!==(yd=(Tc=md.between[0]).filter)&&void 0!==yd?yd:Tc.filter=[]);md.includes(Sb)||md.push(Sb);return Bc})}M.project.items.forEach((Sb,Bc)=>{const md=Sb.channel;if("x"!==
md&&"y"!==md)gc("Interval selections only support x and y encoding channels.");else{Bc=Sa(n,M,Sb,gb?gb[Bc]:null);var Tc=Sb.signals.data;Sb=Sb.signals.visual;var yd=p.stringValue(n.scaleName(md)),Jd=n.getScaleComponent(md).get("type");Jd=se(Jd)?"+":"";Q.push(...Bc);sb.push(Tc);zb.push({scaleName:n.scaleName(md),expr:"(!isArray(".concat(Tc,") || ")+"(".concat(Jd,"invert(").concat(yd,", ").concat(Sb,")[0] \x3d\x3d\x3d ").concat(Jd).concat(Tc,"[0] \x26\x26 ")+"".concat(Jd,"invert(").concat(yd,", ").concat(Sb,
")[1] \x3d\x3d\x3d ").concat(Jd).concat(Tc,"[1]))")})}});!Ba&&zb.length&&Q.push({name:ha+"_scale_trigger",value:{},on:[{events:zb.map(Sb=>({scale:Sb.scaleName})),update:"".concat(zb.map(Sb=>Sb.expr).join(" \x26\x26 ")," ? ").concat(ha+"_scale_trigger"," : {}")}]});ya="unit: ".concat(Dh(n),", fields: ").concat(ya,", values");return Q.concat(Object.assign({},{name:ha+"_tuple"},gb?{init:"{".concat(ya,": ").concat(Ph(gb),"}")}:{},sb.length?{on:[{events:[{signal:sb.join(" || ")}],update:"".concat(sb.join(" \x26\x26 "),
" ? {").concat(ya,": [").concat(sb,"]} : null")}]}:{}))},marks:(n,M,Q)=>{const ha=M.name,{x:ya,y:Ba}=M.project.hasChannel,gb=null===ya||void 0===ya?void 0:ya.signals.visual,sb=null===Ba||void 0===Ba?void 0:Ba.signals.visual;var zb="data(".concat(p.stringValue(M.name+"_store"),")");if(lj.defined(M)||!ya&&!Ba)return Q;const Sb={x:void 0!==ya?{signal:"".concat(gb,"[0]")}:{value:0},y:void 0!==Ba?{signal:"".concat(sb,"[0]")}:{value:0},x2:void 0!==ya?{signal:"".concat(gb,"[1]")}:{field:{group:"width"}},
y2:void 0!==Ba?{signal:"".concat(sb,"[1]")}:{field:{group:"height"}}};if("global"===M.resolve)for(var Bc of ne(Sb))Sb[Bc]=[Object.assign({},{test:"".concat(zb,".length \x26\x26 ").concat(zb,"[0].unit \x3d\x3d\x3d ").concat(Dh(n))},Sb[Bc]),{value:0}];Bc=M.mark;zb=Object.assign({},Bc);n=Bc.fill;M=Bc.fillOpacity;Bc=Bc.cursor;const md=(delete zb.fill,delete zb.fillOpacity,delete zb.cursor,zb);zb=ne(md).reduce((Tc,yd)=>{Tc[yd]=[{test:[void 0!==ya&&"".concat(gb,"[0] !\x3d\x3d ").concat(gb,"[1]"),void 0!==
Ba&&"".concat(sb,"[0] !\x3d\x3d ").concat(sb,"[1]")].filter(Jd=>Jd).join(" \x26\x26 "),value:md[yd]},{value:null}];return Tc},{});return[{name:"".concat(ha+"_brush","_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:n},fillOpacity:{value:M}},update:Sb}},...Q,{name:ha+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},Bc?{cursor:{value:Bc}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Sb,zb)}}]}},{defined:()=>!0,parse:(n,M,Q)=>{var ha;const ya=M.name,Ba=null!==(ha=M.project)&&
void 0!==ha?ha:M.project=new kj,gb={};ha={};const sb=new Set,zb=(ee,Ae)=>{ee="visual"===Ae?ee.channel:ee.field;let Ye=G("".concat(ya,"_").concat(ee));for(let Qe=1;sb.has(Ye);Qe++)Ye=G("".concat(ya,"_").concat(ee,"_").concat(Qe));sb.add(Ye);return{[Ae]:Ye}},Sb=M.type,Bc=n.config.selection[Sb],md=void 0!==Q.value?p.array(Q.value):null;let {fields:Tc,encodings:yd}=p.isObject(Q.select)?Q.select:{};if(!Tc&&!yd&&md)for(var Jd of md)if(p.isObject(Jd))for(const ee of ne(Jd))Cl[ee]?(yd||(yd=[])).push(ee):
"interval"===Sb?(gc('Interval selections should be initialized using "x" and/or "y" keys.'),yd=Bc.encodings):(Tc||(Tc=[])).push(ee);Tc||yd||(yd=Bc.encodings,"fields"in Bc&&(Tc=Bc.fields));for(const ee of null!==(de=yd)&&void 0!==de?de:[]){var de;(de=n.fieldDef(ee))?(Q=de.field,de.aggregate?gc(Kd(ee,de.aggregate)):Q?(de.timeUnit&&(Q=n.vgField(ee),Jd={timeUnit:de.timeUnit,as:Q,field:de.field},ha[g(Jd)]=Jd),gb[Q]||(Jd="E","interval"===Sb?(de=n.getScaleComponent(ee).get("type"),se(de)&&(Jd="R")):de.bin&&
(Jd="R-RE"),de={field:Q,channel:ee,type:Jd},de.signals=Object.assign({},zb(de,"data"),zb(de,"visual")),Ba.items.push(gb[Q]=de),Ba.hasField[Q]=Ba.hasChannel[ee]=gb[Q])):gc(rd(ee))):gc(rd(ee))}for(const ee of null!==(we=Tc)&&void 0!==we?we:[]){var we;Ba.hasField[ee]||(n={type:"E",field:ee},n.signals=Object.assign({},zb(n,"data")),Ba.items.push(n),Ba.hasField[ee]=n)}md&&(M.init=md.map(ee=>Ba.items.map(Ae=>p.isObject(ee)?void 0!==ee[Ae.channel]?ee[Ae.channel]:ee[Ae.field]:ee)));w(ha)||(Ba.timeUnit=new Gf(null,
ha))},signals:(n,M,Q)=>{const ha=M.name+"_tuple_fields";return 0<Q.filter(ya=>ya.name===ha).length?Q:Q.concat({name:ha,value:M.project.items.map(ya=>{ya=Object.assign({},ya);ya=(delete ya.signals,delete ya.hasLegend,ya);ya.field=T(ya.field);return ya})})}},jm,im,lj,Wl,{defined:n=>void 0!==n.clear&&!1!==n.clear,parse:(n,M)=>{M.clear&&(M.clear=p.isString(M.clear)?p.parseSelector(M.clear,"view"):M.clear)},topLevelSignals:(n,M,Q)=>{if(im.defined(M))for(const ha of M.project.items)n=Q.findIndex(ya=>ya.name===
G("".concat(M.name,"_").concat(ha.field))),-1!==n&&Q[n].on.push({events:M.clear,update:"null"});return Q},signals:(n,M,Q)=>{function ha(ya,Ba){-1!==ya&&Q[ya].on&&Q[ya].on.push({events:M.clear,update:Ba})}if("interval"===M.type)for(const ya of M.project.items)n=Q.findIndex(Ba=>Ba.name===ya.signals.visual),ha(n,"[0, 0]"),-1===n&&(n=Q.findIndex(Ba=>Ba.name===ya.signals.data),ha(n,"null"));else n=Q.findIndex(ya=>ya.name===M.name+"_tuple"),ha(n,"null"),jm.defined(M)&&(n=Q.findIndex(ya=>ya.name===M.name+
"_toggle"),ha(n,"false"));return Q}},{defined:n=>"interval"===n.type&&n.translate,signals:(n,M,Q)=>{const ha=M.name,ya=lj.defined(M),Ba=ha+"_translate_anchor",{x:gb,y:sb}=M.project.hasChannel;let zb=p.parseSelector(M.translate,"scope");ya||(zb=zb.map(Sb=>(Sb.between[0].markname=ha+"_brush",Sb)));Q.push({name:Ba,value:{},on:[{events:zb.map(Sb=>Sb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==gb?", extent_x: ".concat(ya?$c(n,"x"):"slice(".concat(gb.signals.visual,")")):"")+(void 0!==sb?", extent_y: ".concat(ya?
$c(n,"y"):"slice(".concat(sb.signals.visual,")")):"")+"}"}]},{name:ha+"_translate_delta",value:{},on:[{events:zb,update:"{x: ".concat(Ba,".x - x(unit), y: ").concat(Ba,".y - y(unit)}")}]});void 0!==gb&&Mg(n,M,gb,"width",Q);void 0!==sb&&Mg(n,M,sb,"height",Q);return Q}},{defined:n=>"interval"===n.type&&n.zoom,signals:(n,M,Q)=>{const ha=M.name,ya=lj.defined(M),Ba=ha+"_zoom_delta",{x:gb,y:sb}=M.project.hasChannel,zb=p.stringValue(n.scaleName("x")),Sb=p.stringValue(n.scaleName("y"));let Bc=p.parseSelector(M.zoom,
"scope");ya||(Bc=Bc.map(md=>(md.markname=ha+"_brush",md)));Q.push({name:ha+"_zoom_anchor",on:[{events:Bc,update:ya?"{"+[zb?"x: invert(".concat(zb,", x(unit))"):"",Sb?"y: invert(".concat(Sb,", y(unit))"):""].filter(md=>!!md).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:Ba,on:[{events:Bc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==gb&&lg(n,M,gb,"width",Q);void 0!==sb&&lg(n,M,sb,"height",Q);return Q}},hm];class $k extends Xe{clone(){return new $k(null,this.model,
uf(this.filter))}constructor(n,M,Q){super(n);this.model=M;this.filter=Q;Ab(this,"expr",void 0);Ab(this,"_dependentFields",void 0);this.expr=yh(this.model,this.filter,this);this._dependentFields=rh(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const em={scale:n=>{let {model:M,channel:Q}=n;return M.scaleName(Q)},format:n=>{let {fieldOrDatumDef:M,config:Q,axis:ha}=n;const {format:ya,
formatType:Ba}=ha;return Nc(M,M.type,ya,Ba,Q,!0)},formatType:n=>{let {axis:M,fieldOrDatumDef:Q,scaleType:ha}=n;({formatType:n}=M);return mc(n,Q,ha)},grid:n=>{var M;let {fieldOrDatumDef:Q,axis:ha,scaleType:ya}=n;return null!==(M=ha.grid)&&void 0!==M?M:!Qd(ya)&&wc(Q)&&!Xa(null===Q||void 0===Q?void 0:Q.bin)&&!Ya(null===Q||void 0===Q?void 0:Q.bin)},gridScale:n=>{let {model:M,channel:Q}=n;n="x"===Q?"y":"x";n=M.getScaleComponent(n)?M.scaleName(n):void 0;return n},labelAlign:n=>{let {axis:M,labelAngle:Q,
orient:ha,channel:ya}=n;return M.labelAlign||bc(Q,ha,ya)},labelAngle:n=>{({labelAngle:n}=n);return n},labelBaseline:n=>{let {axis:M,labelAngle:Q,orient:ha,channel:ya}=n;return M.labelBaseline||wb(Q,ha,ya)},labelFlush:n=>{var M;let {axis:Q,fieldOrDatumDef:ha,channel:ya}=n;n=null!==(M=Q.labelFlush)&&void 0!==M?M:"x"===ya&&b(["quantitative","temporal"],ha.type)?!0:void 0;return n},labelOverlap:n=>{var M;let {axis:Q,fieldOrDatumDef:ha,scaleType:ya}=n;if(null!==(M=Q.labelOverlap)&&void 0!==M)n=M;else{n=
ha.type;M=wc(ha)&&!!ha.timeUnit;var Ba=wc(ha)?ha.sort:void 0;n=M&&!p.isObject(Ba)||"nominal"!==n&&"ordinal"!==n?"log"===ya||"symlog"===ya?"greedy":!0:void 0}return n},orient:n=>{({orient:n}=n);return n},tickCount:n=>{var M;let {channel:Q,model:ha,axis:ya,fieldOrDatumDef:Ba,scaleType:gb}=n;n=(n="x"===Q?"width":"y"===Q?"height":void 0)?ha.getSizeSignalRef(n):void 0;if(null===(M=ya.tickCount)||void 0===M)a:{let {fieldOrDatumDef:zb,scaleType:Sb,size:Bc,values:md}={fieldOrDatumDef:Ba,scaleType:gb,size:n,
values:ya.values};if(md||Qd(Sb)||"log"===Sb)M=void 0;else{if(wc(zb)){var sb;if(Xa(zb.bin)){M={signal:"ceil(".concat(Bc.signal,"/10)")};break a}if(zb.timeUnit&&b(["month","hours","day","quarter"],null===(sb=rf(zb.timeUnit))||void 0===sb?void 0:sb.unit)){M=void 0;break a}}M={signal:"ceil(".concat(Bc.signal,"/40)")}}}return M},title:n=>{let {axis:M,model:Q,channel:ha}=n;if(void 0!==M.title)return M.title;n=cc(Q,ha);if(void 0!==n)return n;n=Q.typedFieldDef(ha);const ya=Q.fieldDef("x"===ha?"x2":"y2");
return Ha(n?[lb(n)]:[],wc(ya)?[lb(ya)]:[])},values:n=>{let {axis:M,fieldOrDatumDef:Q}=n;n=M.values;n=p.isArray(n)?zf(Q,n):Ic(n)?n:void 0;return n},zindex:n=>{var M;let {axis:Q,fieldOrDatumDef:ha,mark:ya}=n;n=null!==(M=Q.zindex)&&void 0!==M?M:"rect"===ya&&ef(ha)?1:0;return n}};class al extends Xe{clone(){return new al(null,uf(this.transform))}constructor(n,M){super(n);this.transform=M;Ab(this,"_dependentFields",void 0);this._dependentFields=rh(this.transform.calculate)}static parseAllForSortIndex(n,
M){M.forEachFieldDef((Q,ha)=>{if(xd(Q)&&na(Q.sort)){const {field:Ba,timeUnit:gb}=Q;var ya=Q.sort;ya=ya.map((sb,zb)=>"".concat(Gb({field:Ba,timeUnit:gb,equal:sb})," ? ").concat(zb," : ")).join("")+ya.length;n=new al(n,{calculate:ya,as:lc(Q,ha,{forAs:!0})})}});return n}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(g(this.transform))}}
const Ol=["row","column"],Pl=["header","footer"],Gm={column:{start:0,end:1},row:{start:1,end:0}},Hm=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,
labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,
values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Xl=ne(Hm);class pm extends $d{}const Zl={symbols:function(n,M){var Q,ha,ya,Ba;let {fieldOrDatumDef:gb,model:sb,channel:zb,legendCmpt:Sb,legendType:Bc}=M;if("symbol"===Bc){var {markDef:md,encoding:Tc,config:yd,mark:Jd}=sb;M=md.filled&&"trail"!==Jd;var de=Object,we=de.assign,ee={};for(var Ae of Sk){const ah=Yc(Ae,sb.markDef,sb.config);void 0!==ah&&(ee[Ae]=Yb(ah))}Ae=
we.call(de,{},ee,De(sb,{filled:M}));de=null!==(Q=Sb.get("symbolOpacity"))&&void 0!==Q?Q:yd.legend.symbolOpacity;Q=null!==(ha=Sb.get("symbolFillColor"))&&void 0!==ha?ha:yd.legend.symbolFillColor;ha=null!==(ya=Sb.get("symbolStrokeColor"))&&void 0!==ya?ya:yd.legend.symbolStrokeColor;ya=void 0===de?null!==(Ba=of(Tc.opacity))&&void 0!==Ba?Ba:md.opacity:void 0;if(Ae.fill)if("fill"===zb||M&&"color"===zb)delete Ae.fill;else if(Ae.fill.field)if(Q)delete Ae.fill;else{var Ye;Ae.fill=Yb(null!==(Ye=yd.legend.symbolBaseFillColor)&&
void 0!==Ye?Ye:"black");Ae.fillOpacity=Yb(null!==ya&&void 0!==ya?ya:1)}else if(p.isArray(Ae.fill)){var Qe,Ke,ag;if(Ba=null!==(Qe=null!==(Ke=zg(null!==(ag=Tc.fill)&&void 0!==ag?ag:Tc.color))&&void 0!==Ke?Ke:md.fill)&&void 0!==Qe?Qe:M&&md.color)Ae.fill=Yb(Ba)}Ae.stroke&&("stroke"===zb||!M&&"color"===zb?delete Ae.stroke:Ae.stroke.field||ha?delete Ae.stroke:p.isArray(Ae.stroke)&&(Qe=C(zg(Tc.stroke||Tc.color),md.stroke,M?md.color:void 0))&&(Ae.stroke={value:Qe}));"opacity"!==zb&&((Qe=wc(gb)&&Me(sb,Sb,
gb))?Ae.opacity=[Object.assign({},{test:Qe},Yb(null!==ya&&void 0!==ya?ya:1)),Yb(yd.legend.unselectedOpacity)]:ya&&(Ae.opacity=Yb(ya)));Ae=Object.assign({},Ae,n);return w(Ae)?void 0:Ae}},gradient:function(n,M){var Q;let {model:ha,legendType:ya,legendCmpt:Ba}=M;if("gradient"===ya){var {config:gb,markDef:sb,encoding:zb}=ha;M={};var Sb=void 0===(null!==(Q=Ba.get("gradientOpacity"))&&void 0!==Q?Q:gb.legend.gradientOpacity)?of(zb.opacity)||sb.opacity:void 0;Sb&&(M.opacity=Yb(Sb));M=Object.assign({},M,n);
return w(M)?void 0:M}},labels:function(n,M){let {fieldOrDatumDef:Q,model:ha,channel:ya,legendCmpt:Ba}=M;M=ha.legend(ya)||{};const gb=ha.config;var sb=wc(Q)?Me(ha,Ba,Q):void 0;sb=sb?[{test:sb,value:1},{value:gb.legend.unselectedOpacity}]:void 0;const {format:zb,formatType:Sb}=M;M=Zc(Sb)?tc({fieldOrDatumDef:Q,field:"datum.value",format:zb,formatType:Sb,config:gb}):void 0;n=Object.assign({},sb?{opacity:sb}:{},M?{text:M}:{},n);return w(n)?void 0:n},entries:function(n,M){({legendCmpt:M}=M);M=M.get("selections");
return null!==M&&void 0!==M&&M.length?Object.assign({},n,{fill:{value:"transparent"}}):n}},Yl={direction:n=>{({direction:n}=n);return n},format:n=>{let {fieldOrDatumDef:M,legend:Q,config:ha}=n;const {format:ya,formatType:Ba}=Q;return Nc(M,M.type,ya,Ba,ha,!1)},formatType:n=>{let {legend:M,fieldOrDatumDef:Q,scaleType:ha}=n;({formatType:n}=M);return mc(n,Q,ha)},gradientLength:n=>{var M,Q;const {legend:ha,legendConfig:ya}=n;if(null!==(M=null!==(Q=ha.gradientLength)&&void 0!==Q?Q:ya.gradientLength)&&void 0!==
M)n=M;else{{let {legendConfig:Ba,model:gb,direction:sb,orient:zb,scaleType:Sb}=n;const {gradientHorizontalMaxLength:Bc,gradientHorizontalMinLength:md,gradientVerticalMaxLength:Tc,gradientVerticalMinLength:yd}=Ba;n=gi.has(Sb)?"horizontal"===sb?"top"===zb||"bottom"===zb?qe(gb,"width",md,Bc):md:qe(gb,"height",yd,Tc):void 0}}return n},labelOverlap:n=>{var M,Q;let {legend:ha,legendConfig:ya,scaleType:Ba}=n;n=null!==(M=null!==(Q=ha.labelOverlap)&&void 0!==Q?Q:ya.labelOverlap)&&void 0!==M?M:b(["quantile",
"threshold","log","symlog"],Ba)?"greedy":void 0;return n},symbolType:n=>{var M;let {legend:Q,markDef:ha,channel:ya,encoding:Ba}=n;if(null!==(M=Q.symbolType)&&void 0!==M)var gb=M;else a:{n=ha.type;M=ha.shape;if("shape"!==ya){const sb=null!==(gb=zg(Ba.shape))&&void 0!==gb?gb:M;if(sb){gb=sb;break a}}switch(n){case "bar":case "rect":case "image":case "square":gb="square";break a;case "line":case "trail":case "rule":gb="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":gb=
"circle";break a}gb=void 0}return gb},title:n=>{let {fieldOrDatumDef:M,config:Q}=n;return vf(M,Q,{allowDisabling:!0})},type:n=>{let {legendType:M,scaleType:Q,channel:ha}=n;if(Wa(ha)&&gi.has(Q)){if("gradient"===M)return}else if("symbol"===M)return;return M},values:n=>{let {fieldOrDatumDef:M,legend:Q}=n;n=Q.values;n=p.isArray(n)?zf(M,n):Ic(n)?n:void 0;return n}},qm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");
class $l extends $d{constructor(n,M,Q,ha){super(Object.assign({},M),{name:n});this.specifiedProjection=M;this.size=Q;this.data=ha;Ab(this,"merged",!1)}get isFit(){return!!this.data}}class Ij extends Xe{clone(){return new Ij(null,uf(this.bins))}constructor(n,M){super(n);this.bins=M}static makeFromEncoding(n,M){const Q=M.reduceFieldDef((ha,ya,Ba)=>{if(je(ya)&&Xa(ya.bin)){const {key:Tc,binComponent:yd}=Yj(ya,ya.bin,M);var gb=Object,sb=gb.assign,zb=ha[Tc];var Sb=M.config;if(Pf(ya,Ba)){var Bc,md;const Jd=
Tb(M)?null!==(Bc=null!==(md=M.axis(Ba))&&void 0!==md?md:M.legend(Ba))&&void 0!==Bc?Bc:{}:{};Ba=vd(ya,{expr:"datum"});Bc=vd(ya,{expr:"datum",binSuffix:"end"});ya={formulaAs:vd(ya,{binSuffix:"range",forAs:!0}),formula:Qb(Ba,Bc,Jd.format,Jd.formatType,Sb)}}else ya={};ha[Tc]=sb.call(gb,{},yd,zb,ya)}return ha},{});return w(Q)?null:new Ij(n,Q)}static makeFromTransform(n,M,Q){const {key:ha,binComponent:ya}=Yj(M,M.bin,Q);return new Ij(n,{[ha]:ya})}merge(n,M){for(const Q of ne(n.bins))Q in this.bins?(M(n.bins[Q].signal,
this.bins[Q].signal),this.bins[Q].as=t([...this.bins[Q].as,...n.bins[Q].as],g)):this.bins[Q]=n.bins[Q];for(const Q of n.children)n.removeChild(Q),Q.parent=this;n.remove()}producedFields(){return new Set(Bh(this.bins).map(n=>n.as).flat(2))}dependentFields(){return new Set(Bh(this.bins).map(n=>n.field))}hash(){return"Bin ".concat(g(this.bins))}assemble(){return Bh(this.bins).flatMap(n=>{const M=[],[Q,...ha]=n.as;var ya=n.bin,Ba=Object.assign({},ya);ya=ya.extent;Ba=(delete Ba.extent,Ba);Ba=Object.assign({},
{type:"bin",field:T(n.field),as:Q,signal:n.signal},mb(ya)?{extent:null}:{extent:ya},n.span?{span:{signal:"span(".concat(n.span,")")}}:{},Ba);!ya&&n.extentSignal&&(M.push({type:"extent",field:T(n.field),signal:n.extentSignal}),Ba.extent={signal:n.extentSignal});M.push(Ba);for(const gb of ha)for(ya=0;2>ya;ya++)M.push({type:"formula",expr:vd({field:Q[ya]},{expr:"datum"}),as:gb[ya]});n.formula&&M.push({type:"formula",expr:n.formula,as:n.formulaAs});return M})}}class rj extends Xe{clone(){return new rj(null,
new Set(this.dimensions),uf(this.measures))}constructor(n,M,Q){super(n);this.dimensions=M;this.measures=Q}get groupBy(){return this.dimensions}static makeFromEncoding(n,M){let Q=!1;M.forEachFieldDef(Ba=>{Ba.aggregate&&(Q=!0)});const ha={},ya=new Set;if(!Q)return null;M.forEachFieldDef((Ba,gb)=>{const {aggregate:sb,field:zb}=Ba;if(sb)if("count"===sb){var Sb;null!==(Sb=ha["*"])&&void 0!==Sb?Sb:ha["*"]={};ha["*"].count=new Set([vd(Ba,{forAs:!0})])}else{if(Na(sb)||oa(sb)){var Bc;Ba=Na(sb)?"argmin":"argmax";
var md=sb[Ba];null!==(Bc=ha[md])&&void 0!==Bc?Bc:ha[md]={};ha[md][Ba]=new Set([vd({op:Ba,field:md},{forAs:!0})])}else{var Tc;null!==(Tc=ha[zb])&&void 0!==Tc?Tc:ha[zb]={};ha[zb][sb]=new Set([vd(Ba,{forAs:!0})])}if(xi[gb]&&"unaggregated"===M.scaleDomain(gb)){var yd;null!==(yd=ha[zb])&&void 0!==yd?yd:ha[zb]={};ha[zb].min=new Set([vd({field:zb,aggregate:"min"},{forAs:!0})]);ha[zb].max=new Set([vd({field:zb,aggregate:"max"},{forAs:!0})])}}else{Bc=Tb(M)?M.encoding[Da(gb)]:void 0;je(Ba)&&Tb(M)&&Lb(Ba,Bc,
M.markDef,M.config)?(ya.add(vd(Ba,{})),ya.add(vd(Ba,{suffix:"end"})),Ba.bin&&Pf(Ba,gb)&&ya.add(vd(Ba,{binSuffix:"range"}))):gb in Vk?(gb=za(gb),ya.add(M.getName(gb))):ya.add(vd(Ba));if(gb=xd(Ba))gb=null===(md=Ba.scale)||void 0===md?void 0:md.range,gb=p.isObject(gb)&&"field"in gb;gb&&ya.add(Ba.scale.range.field)}});return 0===ya.size+ne(ha).length?null:new rj(n,ya,ha)}static makeFromTransform(n,M){const Q=new Set,ha={};for(const sb of M.aggregate){const {op:zb,field:Sb,as:Bc}=sb;if(zb)if("count"===
zb){var ya;null!==(ya=ha["*"])&&void 0!==ya?ya:ha["*"]={};ha["*"].count=new Set([Bc?Bc:vd(sb,{forAs:!0})])}else{var Ba;null!==(Ba=ha[Sb])&&void 0!==Ba?Ba:ha[Sb]={};ha[Sb][zb]=new Set([Bc?Bc:vd(sb,{forAs:!0})])}}for(const sb of null!==(gb=M.groupby)&&void 0!==gb?gb:[]){var gb;Q.add(sb)}return 0===Q.size+ne(ha).length?null:new rj(n,Q,ha)}merge(n){if(y(this.dimensions,n.dimensions)){var M=this.measures;n=n.measures;for(const ha of ne(n)){const ya=n[ha];for(const Ba of ne(ya))if(ha in M){var Q;M[ha][Ba]=
new Set([...(null!==(Q=M[ha][Ba])&&void 0!==Q?Q:[]),...ya[Ba]])}else M[ha]={[Ba]:ya[Ba]}}return!0}fd("different dimensions, cannot merge");return!1}addDimensions(n){n.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...ne(this.measures)])}producedFields(){const n=new Set;for(const M of ne(this.measures))for(const Q of ne(this.measures[M])){const ha=this.measures[M][Q];0===ha.size?n.add("".concat(Q,"_").concat(M)):ha.forEach(n.add,n)}return n}hash(){return"Aggregate ".concat(g({dimensions:this.dimensions,
measures:this.measures}))}assemble(){const n=[],M=[],Q=[];for(const ha of ne(this.measures))for(const ya of ne(this.measures[ha]))for(const Ba of this.measures[ha][ya])Q.push(Ba),n.push(ya),M.push("*"===ha?null:T(ha));return{type:"aggregate",groupby:[...this.dimensions].map(T),ops:n,fields:M,as:Q}}}class Jk extends Xe{constructor(n,M,Q,ha){super(n);this.model=M;this.name=Q;this.data=ha;Ab(this,"column",void 0);Ab(this,"row",void 0);Ab(this,"facet",void 0);Ab(this,"childModel",void 0);for(const ya of ei)if(n=
M.facet[ya]){const {bin:Ba,sort:gb}=n;this[ya]=Object.assign({},{name:M.getName("".concat(ya,"_domain")),fields:[vd(n),...(Xa(Ba)?[vd(n,{binSuffix:"end"})]:[])]},Rb(gb)?{sortField:gb}:p.isArray(gb)?{sortIndexField:lc(n,ya)}:{})}this.childModel=M.child}hash(){let n="Facet";for(const M of ei)this[M]&&(n+=" ".concat(M.charAt(0),":").concat(g(this[M])));return n}get fields(){const n=[];for(const Q of ei){var M;null!==(M=this[Q])&&void 0!==M&&M.fields&&n.push(...this[Q].fields)}return n}dependentFields(){const n=
new Set(this.fields);for(const M of ei)this[M]&&(this[M].sortField&&n.add(this[M].sortField.field),this[M].sortIndexField&&n.add(this[M].sortIndexField));return n}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const n={};for(const ha of oi){var M=this.childModel.component.scales[ha];if(M&&!M.merged){var Q=M.get("type");M=M.get("range");Qd(Q)&&rc(M)&&(Q=Wi(this.childModel,ha),(Q=dj(Q))?n[ha]=Q:gc(ld(ha)))}}return n}assembleRowColumnHeaderData(n,M,Q){const ha=
{row:"y",column:"x",facet:void 0}[n],ya=[],Ba=[],gb=[];ha&&Q&&Q[ha]&&(M?(ya.push("distinct_".concat(Q[ha])),Ba.push("max")):(ya.push(Q[ha]),Ba.push("distinct")),gb.push("distinct_".concat(Q[ha])));const {sortField:sb,sortIndexField:zb}=this[n];if(sb){const {op:Sb="min",field:Bc}=sb;ya.push(Bc);Ba.push(Sb);gb.push(vd(sb,{forAs:!0}))}else zb&&(ya.push(zb),Ba.push("max"),gb.push(zb));return{name:this[n].name,source:null!==M&&void 0!==M?M:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[n].fields},
ya.length?{fields:ya,ops:Ba,as:gb}:{})]}}assembleFacetHeaderData(n){const {columns:M}=this.model.layout,{layoutHeaders:Q}=this.model.component,ha=[],ya={};for(const Bc of Ol){for(const md of Pl){var Ba,gb=null!==(Ba=Q[Bc]&&Q[Bc][md])&&void 0!==Ba?Ba:[];for(const Tc of gb){var sb;if(0<(null===(sb=Tc.axes)||void 0===sb?void 0:sb.length)){ya[Bc]=!0;break}}}ya[Bc]&&(gb='length(data("'.concat(this.facet.name,'"))'),gb="row"===Bc?M?{signal:"ceil(".concat(gb," / ").concat(M,")")}:1:M?{signal:"min(".concat(gb,
", ").concat(M,")")}:{signal:gb},ha.push({name:"".concat(this.facet.name,"_").concat(Bc),transform:[{type:"sequence",start:0,stop:gb}]}))}const {row:zb,column:Sb}=ya;(zb||Sb)&&ha.unshift(this.assembleRowColumnHeaderData("facet",null,n));return ha}assemble(){const n=[];var M=null;const Q=this.getChildIndependentFieldsWithStep(),{column:ha,row:ya,facet:Ba}=this;if(ha&&ya&&(Q.x||Q.y)){var gb,sb;M="cross_".concat(this.column.name,"_").concat(this.row.name);const zb=[].concat(null!==(gb=Q.x)&&void 0!==
gb?gb:[],null!==(sb=Q.y)&&void 0!==sb?sb:[]);gb=zb.map(()=>"distinct");n.push({name:M,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:zb,ops:gb}]})}for(const zb of["column","row"])this[zb]&&n.push(this.assembleRowColumnHeaderData(zb,M,Q));Ba&&(M=this.assembleFacetHeaderData(Q))&&n.push(...M);return n}}class ui extends Xe{clone(){return new ui(null,uf(this._parse))}constructor(n,M){super(n);Ab(this,"_parse",void 0);this._parse=M}hash(){return"Parse ".concat(g(this._parse))}static makeExplicit(n,
M,Q){var ha;let ya={};M=M.data;!xh(M)&&null!==M&&void 0!==M&&null!==(ha=M.format)&&void 0!==ha&&ha.parse&&(ya=M.format.parse);return this.makeWithAncestors(n,ya,{},Q)}static makeWithAncestors(n,M,Q,ha){for(var ya of ne(Q)){const gb=ha.getWithExplicit(ya);void 0!==gb.value&&(gb.explicit||gb.value===Q[ya]||"derived"===gb.value||"flatten"===Q[ya]?delete Q[ya]:gc(be(ya,Q[ya],gb.value)))}for(var Ba of ne(M))ya=ha.get(Ba),void 0!==ya&&(ya===M[Ba]?delete M[Ba]:gc(be(Ba,M[Ba],ya)));M=new $d(M,Q);ha.copyAll(M);
Q={};for(const gb of ne(M.combine()))Ba=M.get(gb),null!==Ba&&(Q[gb]=Ba);return 0===ne(Q).length||ha.parseNothing?null:new ui(n,Q)}get parse(){return this._parse}merge(n){this._parse=Object.assign({},this._parse,n.parse);n.remove()}assembleFormatParse(){const n={};for(const M of ne(this._parse)){const Q=this._parse[M];1===r(M)&&(n[M]=Q)}return n}producedFields(){return new Set(ne(this._parse))}dependentFields(){return new Set(ne(this._parse))}assembleTransforms(){let n=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:!1;return ne(this._parse).filter(M=>n?1<r(M):!0).map(M=>{const Q=Ej(M,this._parse[M]);return Q?{type:"formula",expr:Q,as:J(M)}:null}).filter(M=>null!==M)}}class mk extends Xe{clone(){return new mk(null)}constructor(n){super(n)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class ol extends Xe{clone(){return new ol(null,this.params)}constructor(n,M){super(n);this.params=
M}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(g(this.params))}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class pl extends Xe{clone(){return new pl(null,this.params)}constructor(n,M){super(n);this.params=M}dependentFields(){return new Set}producedFields(){var n;return new Set([null!==(n=this.params.as)&&void 0!==n?n:"data"])}hash(){return"Hash ".concat(g(this.params))}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class lk extends Xe{constructor(n){var M;super(null);Ab(this,"_data",void 0);Ab(this,"_name",void 0);Ab(this,"_generator",void 0);null!==(M=n)&&void 0!==M?M:n={name:"source"};let Q;xh(n)||(Q=n.format?Object.assign({},f(n.format,["parse"])):{});if("values"in n)this._data={values:n.values};else if("url"in n)this._data={url:n.url},Q.type||(M=/(?:\.([^.]+))?$/.exec(n.url)[1],b(["json","csv","tsv","dsv","topojson"],M)||(M="json"),Q.type=M);else if("sphere"in n)this._data={values:[{type:"Sphere"}]};
else if(Ti(n)||xh(n))this._data={};this._generator=xh(n);n.name&&(this._name=n.name);Q&&!w(Q)&&(this._data.format=Q)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(n){this._name=n}set parent(n){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");
}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var cl=new WeakMap;class Ql{constructor(){if(cl.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");cl.set(this,{writable:!0,value:void 0});Ob(this,cl,!1)}setModified(){Ob(this,cl,!0)}get modifiedFlag(){var n=Ub(this,cl,"get");return n.get?n.get.call(this):n.value}}class nk extends Ql{getNodeDepths(n,M,Q){Q.set(n,M);for(const ha of n.children)this.getNodeDepths(ha,M+1,Q);return Q}optimize(n){n=
[...this.getNodeDepths(n,0,new Map).entries()].sort((M,Q)=>Q[1]-M[1]);for(const M of n)this.run(M[0]);return this.modifiedFlag}}class Rl extends Ql{optimize(n){this.run(n);for(const M of n.children)this.optimize(M);return this.modifiedFlag}}class Am extends Rl{mergeNodes(n,M){const Q=M.shift();for(const ha of M)n.removeChild(ha),ha.parent=Q,ha.remove()}run(n){const M=n.children.map(ha=>ha.hash()),Q={};for(let ha=0;ha<M.length;ha++)void 0===Q[M[ha]]?Q[M[ha]]=[n.children[ha]]:Q[M[ha]].push(n.children[ha]);
for(const ha of ne(Q))1<Q[ha].length&&(this.setModified(),this.mergeNodes(n,Q[ha]))}}class sm extends Rl{constructor(n){super();Ab(this,"requiresSelectionId",void 0);this.requiresSelectionId=n&&Gh(n)}run(n){!(n instanceof mk)||this.requiresSelectionId&&(Qh(n.parent)||n.parent instanceof rj||n.parent instanceof ui)||(this.setModified(),n.remove())}}class wm extends Ql{optimize(n){this.run(n,new Set);return this.modifiedFlag}run(n,M){let Q=new Set;n instanceof Gf&&(Q=n.producedFields(),q(Q,M)&&(this.setModified(),
n.removeFormulas(M),0===n.producedFields.length&&n.remove()));for(const ha of n.children)this.run(ha,new Set([...M,...Q]))}}class rm extends Rl{constructor(){super()}run(n){n instanceof Df&&!n.isRequired()&&(this.setModified(),n.remove())}}class um extends nk{run(n){if(!(Qh(n)||1<n.numChildren()))for(const M of n.children)M instanceof ui&&(n instanceof ui?(this.setModified(),n.merge(M)):F(n.producedFields(),M.dependentFields())||(this.setModified(),M.swapWithParent()))}}class xm extends nk{run(n){const M=
[...n.children];var Q=n.children.filter(ya=>ya instanceof ui);if(1<n.numChildren()&&1<=Q.length){const ya={};var ha=new Set;for(const Ba of Q){Q=Ba.parse;for(const gb of ne(Q))gb in ya?ya[gb]!==Q[gb]&&ha.add(gb):ya[gb]=Q[gb]}for(const Ba of ha)delete ya[Ba];if(!w(ya)){this.setModified();ha=new ui(n,ya);for(const Ba of M){if(Ba instanceof ui)for(const gb of ne(ya))delete Ba.parse[gb];n.removeChild(Ba);Ba.parent=ha;Ba instanceof ui&&0===ne(Ba.parse).length&&Ba.remove()}}}}}class tm extends nk{run(n){n instanceof
Df||0<n.numChildren()||n instanceof Jk||n instanceof lk||(this.setModified(),n.remove())}}class zm extends nk{run(n){n=n.children.filter(Q=>Q instanceof Gf);const M=n.pop();for(const Q of n)this.setModified(),M.merge(Q)}}class ym extends nk{run(n){var M=n.children.filter(ya=>ya instanceof rj);const Q={};for(var ha of M)M=g(ha.groupBy),M in Q||(Q[M]=[]),Q[M].push(ha);for(const ya of ne(Q))if(ha=Q[ya],1<ha.length){M=ha.pop();for(const Ba of ha)M.merge(Ba)&&(n.removeChild(Ba),Ba.parent=M,Ba.remove(),
this.setModified())}}}class vm extends nk{constructor(n){super();this.model=n}run(n){var M=!(Qh(n)||n instanceof $k||n instanceof ui||n instanceof mk);const Q=[],ha=[];for(const ya of n.children)ya instanceof Ij&&(M&&!F(n.producedFields(),ya.dependentFields())?Q.push(ya):ha.push(ya));if(0<Q.length){M=Q.pop();for(const ya of Q)M.merge(ya,this.model.renameSignal.bind(this.model));this.setModified();n instanceof Ij?n.merge(M,this.model.renameSignal.bind(this.model)):M.swapWithParent()}if(1<ha.length){n=
ha.pop();for(const ya of ha)n.merge(ya,this.model.renameSignal.bind(this.model));this.setModified()}}}class Bm extends nk{run(n){var M=[...n.children];if(c(M,ya=>ya instanceof Df)&&!(1>=n.numChildren())){var Q=[];for(const ya of M)if(ya instanceof Df){for(M=ya;1===M.numChildren();){const [Ba]=M.children;if(Ba instanceof Df)M=Ba;else break}Q.push(...M.children);if(ha)n.removeChild(ya),ya.parent=ha.parent,ha.parent.removeChild(ha),ha.parent=M,this.setModified();else var ha=M}else Q.push(ya);if(Q.length){this.setModified();
for(const ya of Q)ya.parent.removeChild(ya),ya.parent=ha}}}}class Kk extends Xe{clone(){return new Kk(null,uf(this.transform))}constructor(n,M){super(n);this.transform=M}addDimensions(n){this.transform.groupby=t(this.transform.groupby.concat(n),M=>M)}dependentFields(){const n=new Set;this.transform.groupby&&this.transform.groupby.forEach(n.add,n);this.transform.joinaggregate.map(M=>M.field).filter(M=>void 0!==M).forEach(n.add,n);return n}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(n){var M;
return null!==(M=n.as)&&void 0!==M?M:vd(n)}hash(){return"JoinAggregateTransform ".concat(g(this.transform))}assemble(){const n=[],M=[],Q=[];for(var ha of this.transform.joinaggregate)M.push(ha.op),Q.push(this.getDefaultName(ha)),n.push(void 0===ha.field?null:ha.field);ha=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:Q,ops:M,fields:n},void 0!==ha?{groupby:ha}:{})}}class Xj extends Xe{clone(){return new Xj(null,uf(this._stack))}constructor(n,M){super(n);Ab(this,"_stack",void 0);
this._stack=M}static makeFromTransform(n,M){const {stack:Q,groupby:ha,as:ya,offset:Ba="zero"}=M;var gb=[];const sb=[];if(void 0!==M.sort)for(const zb of M.sort)gb.push(zb.field),sb.push(C(zb.order,"ascending"));gb={field:gb,order:sb};M=ok(ya)?ya:p.isString(ya)?[ya,"".concat(ya,"_end")]:["".concat(M.stack,"_start"),"".concat(M.stack,"_end")];return new Xj(n,{dimensionFieldDefs:[],stackField:Q,groupby:ha,offset:Ba,sort:gb,facetby:[],as:M})}static makeFromEncoding(n,M){var Q=M.stack;const {encoding:ha}=
M;if(!Q)return null;const {groupbyChannels:ya,fieldChannel:Ba,offset:gb,impute:sb}=Q;Q=ya.map(Bc=>Xd(ha[Bc])).filter(Bc=>!!Bc);const zb=sj(M);var Sb=M.encoding.order;Sb=p.isArray(Sb)||wc(Sb)?Ca(Sb):zb.reduce((Bc,md)=>{Bc.field.push(md);Bc.order.push("y"===Ba?"descending":"ascending");return Bc},{field:[],order:[]});return new Xj(n,{dimensionFieldDefs:Q,stackField:M.vgField(Ba),facetby:[],stackby:zb,sort:Sb,offset:gb,impute:sb,as:[M.vgField(Ba,{suffix:"start",forAs:!0}),M.vgField(Ba,{suffix:"end",
forAs:!0})]})}get stack(){return this._stack}addDimensions(n){this._stack.facetby.push(...n)}dependentFields(){const n=new Set;n.add(this._stack.stackField);this.getGroupbyFields().forEach(n.add,n);this._stack.facetby.forEach(n.add,n);this._stack.sort.field.forEach(n.add,n);return n}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(g(this._stack))}getGroupbyFields(){const {dimensionFieldDefs:n,impute:M,groupby:Q}=this._stack;return 0<n.length?n.map(ha=>ha.bin?M?[vd(ha,{binSuffix:"mid"})]:
[vd(ha,{}),vd(ha,{binSuffix:"end"})]:[vd(ha)]).flat():null!==Q&&void 0!==Q?Q:[]}assemble(){const n=[],{facetby:M,dimensionFieldDefs:Q,stackField:ha,stackby:ya,sort:Ba,offset:gb,impute:sb,as:zb}=this._stack;if(sb)for(const Sb of Q){const {bandPosition:Bc=.5,bin:md}=Sb;if(md){const Tc=vd(Sb,{expr:"datum"}),yd=vd(Sb,{expr:"datum",binSuffix:"end"});n.push({type:"formula",expr:"".concat(Bc,"*").concat(Tc,"+").concat(1-Bc,"*").concat(yd),as:vd(Sb,{binSuffix:"mid",forAs:!0})})}n.push({type:"impute",field:ha,
groupby:[...ya,...M],key:vd(Sb,{binSuffix:"mid"}),method:"value",value:0})}n.push({type:"stack",groupby:[...this.getGroupbyFields(),...M],field:ha,sort:Ba,as:zb,offset:gb});return n}}class Zk extends Xe{clone(){return new Zk(null,uf(this.transform))}constructor(n,M){super(n);this.transform=M}addDimensions(n){this.transform.groupby=t(this.transform.groupby.concat(n),M=>M)}dependentFields(){var n,M;const Q=new Set;(null!==(n=this.transform.groupby)&&void 0!==n?n:[]).forEach(Q.add,Q);(null!==(M=this.transform.sort)&&
void 0!==M?M:[]).forEach(ha=>Q.add(ha.field));this.transform.window.map(ha=>ha.field).filter(ha=>void 0!==ha).forEach(Q.add,Q);return Q}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(n){var M;return null!==(M=n.as)&&void 0!==M?M:vd(n)}hash(){return"WindowTransform ".concat(g(this.transform))}assemble(){const n=[],M=[],Q=[],ha=[];for(var ya of this.transform.window)M.push(ya.op),Q.push(this.getDefaultName(ya)),ha.push(void 0===ya.param?null:ya.param),
n.push(void 0===ya.field?null:ya.field);ya=this.transform.frame;const Ba=this.transform.groupby;if(ya&&null===ya[0]&&null===ya[1]&&M.every(Sb=>aa(Sb)))return Object.assign({},{type:"joinaggregate",as:Q,ops:M,fields:n},void 0!==Ba?{groupby:Ba}:{});const gb=[],sb=[];if(void 0!==this.transform.sort)for(const Sb of this.transform.sort){var zb;gb.push(Sb.field);sb.push(null!==(zb=Sb.order)&&void 0!==zb?zb:"ascending")}zb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:ha,as:Q,
ops:M,fields:n,sort:{field:gb,order:sb}},void 0!==zb?{ignorePeers:zb}:{},void 0!==Ba?{groupby:Ba}:{},void 0!==ya?{frame:ya}:{})}}class Ki{constructor(n){Ab(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:n})}static fromName(n,M){return new Ki(()=>n(M))}}class bm extends $d{constructor(n,M){super({},{name:n});Ab(this,"merged",!1);this.setWithExplicit("type",M)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:c(this.get("domains"),n=>p.isArray(n)&&2===n.length&&
0>=n[0]&&0<=n[1])}}const Cm=["range","scheme"],am={bins:n=>{let {model:M,fieldOrDatumDef:Q}=n;return wc(Q)?Y(M,Q):void 0},interpolate:n=>{let {channel:M,fieldOrDatumDef:Q}=n;n=Q.type;n=b(["color","fill","stroke"],M)&&"nominal"!==n?"hcl":void 0;return n},nice:n=>{let {scaleType:M,channel:Q,domain:ha,domainMin:ya,domainMax:Ba,fieldOrDatumDef:gb}=n;var sb;n=null!==(sb=Xd(gb))&&void 0!==sb&&sb.bin||p.isArray(ha)||null!=Ba||null!=ya||b([ji.TIME,ji.UTC],M)?void 0:Ea(Q)?!0:void 0;return n},padding:n=>{let {channel:M,
scaleType:Q,fieldOrDatumDef:ha,markDef:ya,config:Ba}=n;a:{n=Ba.scale;var gb=Ba.bar;if(Ea(M)){if(gi.has(Q)){if(void 0!==n.continuousPadding){n=n.continuousPadding;break a}const {type:sb,orient:zb}=ya;if("bar"===sb&&(!wc(ha)||!ha.bin&&!ha.timeUnit)&&("vertical"===zb&&"x"===M||"horizontal"===zb&&"y"===M)){n=gb.continuousBandSize;break a}}if(Q===ji.POINT){n=n.pointPadding;break a}}n=void 0}return n},paddingInner:n=>{let {scalePadding:M,channel:Q,markDef:ha,scaleType:ya,config:Ba,hasNestedOffsetScale:gb}=
n;return X(M,Q,ha.type,ya,Ba.scale,gb)},paddingOuter:n=>{let {scalePadding:M,channel:Q,scaleType:ha,scalePaddingInner:ya,config:Ba,hasNestedOffsetScale:gb}=n;return fa(M,Q,ha,ya,Ba.scale,gb)},reverse:n=>{let {fieldOrDatumDef:M,scaleType:Q,channel:ha,config:ya}=n;n=wc(M)?M.sort:void 0;var Ba=ya.scale;n="x"===ha&&void 0!==Ba.xReverse?se(Q)&&"descending"===n?Ic(Ba.xReverse)?{signal:"!".concat(Ba.xReverse.signal)}:!Ba.xReverse:Ba.xReverse:se(Q)&&"descending"===n?!0:void 0;return n},zero:n=>{let {channel:M,
fieldOrDatumDef:Q,domain:ha,markDef:ya,scaleType:Ba}=n;a:if(ha&&"unaggregated"!==ha&&se(Ba)){if(p.isArray(ha)&&(n=ha[ha.length-1],0>=ha[0]&&0<=n)){n=!0;break a}n=!1}else if("size"!==M||"quantitative"!==Q.type||zj.has(Ba))if(wc(Q)&&Q.bin||!b([...oi,...jj],M))n=!1;else{const {orient:gb,type:sb}=ya;n=b(["bar","area","line","trail"],sb)&&("horizontal"===gb&&"y"===M||"vertical"===gb&&"x"===M)?!1:!0}else n=!0;return n}},Dm=zi((n,M)=>hl[n]-hl[M]);class Sl{constructor(){Ab(this,"nameMap",void 0);this.nameMap=
{}}rename(n,M){this.nameMap[n]=M}has(n){return void 0!==this.nameMap[n]}get(n){for(;this.nameMap[n]&&n!==this.nameMap[n];)n=this.nameMap[n];return n}}class Tl{constructor(n,M,Q,ha,ya,Ba,gb){var sb,zb;this.type=M;this.parent=Q;this.config=ya;Ab(this,"name",void 0);Ab(this,"size",void 0);Ab(this,"title",void 0);Ab(this,"description",void 0);Ab(this,"data",void 0);Ab(this,"transforms",void 0);Ab(this,"layout",void 0);Ab(this,"scaleNameMap",void 0);Ab(this,"projectionNameMap",void 0);Ab(this,"signalNameMap",
void 0);Ab(this,"component",void 0);Ab(this,"view",void 0);Ab(this,"children",void 0);Ab(this,"correctDataNames",Sb=>{var Bc,md,Tc;null!==(Bc=Sb.from)&&void 0!==Bc&&Bc.data&&(Sb.from.data=this.lookupDataSource(Sb.from.data));null!==(md=Sb.from)&&void 0!==md&&null!==(Tc=md.facet)&&void 0!==Tc&&Tc.data&&(Sb.from.facet.data=this.lookupDataSource(Sb.from.facet.data));return Sb});this.parent=Q;this.config=ya;this.view=Zb(gb);this.name=null!==(sb=n.name)&&void 0!==sb?sb:ha;this.title=xc(n.title)?{text:n.title}:
n.title?Zb(n.title):void 0;this.scaleNameMap=Q?Q.scaleNameMap:new Sl;this.projectionNameMap=Q?Q.projectionNameMap:new Sl;this.signalNameMap=Q?Q.signalNameMap:new Sl;this.data=n.data;this.description=n.description;this.transforms=Sg(null!==(zb=n.transform)&&void 0!==zb?zb:[]);this.layout="layer"===M||"unit"===M?{}:Db(n,M,ya);this.component={data:{sources:Q?Q.component.data.sources:[],outputNodes:Q?Q.component.data.outputNodes:{},outputNodeRefCounts:Q?Q.component.data.outputNodeRefCounts:{},isFaceted:"facet"in
n||(null===Q||void 0===Q?void 0:Q.component.data.isFaceted)&&void 0===n.data},layoutSize:new $d,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},Ba?uf(Ba):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();
this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){eb(this)}parseProjection(){mh(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Re(this)}assembleEncodeFromView(n){n=Object.assign({},n);n=(delete n.style,n);const M={};for(const Q of ne(n)){const ha=n[Q];void 0!==ha&&(M[Q]=Yb(ha))}return M}assembleGroupEncodeEntry(n){let M=
{};this.view&&(M=this.assembleEncodeFromView(this.view));if(!n&&(this.description&&(M.description=Yb(this.description)),"unit"===this.type||"layer"===this.type)){var Q;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(Q=M)&&void 0!==Q?Q:{})}return w(M)?void 0:M}assembleLayout(){if(this.layout){var n=this.layout,M=Object.assign({},n);n=n.spacing;M=(delete M.spacing,M);var {component:Q,config:ha}=this,ya=Q.layoutHeaders,Ba={};for(sb of ei){var gb=
ya[sb];if(null!==gb&&void 0!==gb&&gb.facetFieldDef){const {titleAnchor:zb,titleOrient:Sb}=Gd(["titleAnchor","titleOrient"],gb.facetFieldDef.header,ha,sb);gb=Cc(sb,Sb);const Bc=Gm[gb][zb];void 0!==Bc&&(Ba[gb]=Bc)}}var sb=w(Ba)?void 0:Ba;return Object.assign({},{padding:n},this.assembleDefaultLayout(),M,sb?{titleBand:sb}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:n}=this.component,M=[];for(var Q of ei)if(n[Q].title){var ha=M,ya=ha.push;var Ba=Q;var gb=this.component.layoutHeaders[Ba].title,
sb=this.config?this.config:void 0,zb=this.component.layoutHeaders[Ba].facetFieldDef?this.component.layoutHeaders[Ba].facetFieldDef:void 0;const {titleAnchor:de,titleAngle:we,titleOrient:ee}=Gd(["titleAnchor","titleAngle","titleOrient"],zb.header,sb,Ba);var Sb=Cc(Ba,ee),Bc=ba(we);Ba={name:"".concat(Ba,"-title"),type:"group",role:"".concat(Sb,"-title"),title:Object.assign({},{text:gb},"row"===Ba?{orient:"left"}:{},{style:"guide-title"},pd(Bc,Sb),Wd(Sb,Bc,de),Ze(sb,zb,Ba,wl,dl))};ya.call(ha,Ba)}for(const de of Ol){n=
M;M=n.concat;ha=de;ya=this.component.layoutHeaders[ha];Q=[];for(const we of Pl)if(ya[we])for(const ee of ya[we]){a:{zb=void 0;Ba=ha;var md=we,Tc=ya;if(gb=ee){sb=null;({facetFieldDef:Jd}=Tc);Sb=this.config?this.config:void 0;Jd&&gb.labels&&({labelOrient:Bc}=Gd(["labelOrient"],Jd.header,Sb,Ba),"row"===Ba&&!b(["top","bottom"],Bc)||"column"===Ba&&!b(["left","right"],Bc))&&(sb=le(Jd,Ba,Sb));const Ae=jc(this)&&!Ma(this.facet),Ye=gb.axes,Qe=0<(null===Ye||void 0===Ye?void 0:Ye.length);if(sb||Qe){const Ke=
"row"===Ba?"height":"width";Sb=Object;Bc=Sb.assign;md={name:this.getName("".concat(Ba,"_").concat(md)),type:"group",role:"".concat(Ba,"-").concat(md)};if(Tc.facetFieldDef){Tc={data:this.getName("".concat(Ba,"_domain"))};{var yd=Jd;const {sort:ag}=yd;var Jd=Rb(ag)?{field:vd(ag,{expr:"datum"}),order:null!==(zb=ag.order)&&void 0!==zb?zb:"ascending"}:p.isArray(ag)?{field:lc(yd,Ba,{expr:"datum"}),order:"ascending"}:{field:vd(yd,{expr:"datum"}),order:null!==ag&&void 0!==ag?ag:"ascending"}}zb={from:Tc,sort:Jd}}else zb=
{};Ba=Bc.call(Sb,{},md,zb,Qe&&Ae?{from:{data:this.getName("facet_domain_".concat(Ba))}}:{},sb?{title:sb}:{},gb.sizeSignal?{encode:{update:{[Ke]:gb.sizeSignal}}}:{},Qe?{axes:Ye}:{});break a}}Ba=null}null!=Ba&&Q.push(Ba)}M=M.call(n,Q)}return M}assembleAxes(){return Ii(this.component.axes,this.config)}assembleLegends(){return xf(this)}assembleProjections(){var n=bd(this)||Sc(this)?Wg(this):dg(this);return n}assembleTitle(){var n,M=null!==(n=this.title)&&void 0!==n?n:{};n=Object.assign({},M);M=M.encoding;
n=(delete n.encoding,n);M=Object.assign({},Gc(this.config.title).nonMarkTitleProperties,n,M?{encode:{update:M}}:{});if(M.text){if(b(["unit","layer"],this.type)){if(b(["middle",void 0],M.anchor)){var Q;null!==(Q=M.frame)&&void 0!==Q?Q:M.frame="group"}}else{var ha;null!==(ha=M.anchor)&&void 0!==ha?ha:M.anchor="start"}return w(M)?void 0:M}}assembleGroup(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const M={};n=n.concat(this.assembleSignals());0<n.length&&(M.signals=n);if(n=this.assembleLayout())M.layout=
n;M.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());n=!this.parent||jc(this.parent)?Oi(this):[];0<n.length&&(M.scales=n);n=this.assembleAxes();0<n.length&&(M.axes=n);n=this.assembleLegends();0<n.length&&(M.legends=n);return M}getName(n){return G((this.name?"".concat(this.name,"_"):"")+n)}getDataName(n){return this.getName(Be[n].toLowerCase())}requestDataName(n){n=this.getDataName(n);const M=this.component.data.outputNodeRefCounts;M[n]=(M[n]||0)+1;return n}getSizeSignalRef(n){if(jc(this.parent)){var M=
Le(n),Q=Ua(M);if((M=this.component.scales[Q])&&!M.merged){var ha=M.get("type");const ya=M.get("range");if(Qd(ha)&&rc(ya)){n=M.get("name");ha=Wi(this,Q);if(ha=dj(ha))return Q=vd({aggregate:"distinct",field:ha},{expr:"datum"}),{signal:Og(n,M,Q)};gc(ld(Q));return null}}}return{signal:this.signalNameMap.get(this.getName(n))}}lookupDataSource(n){const M=this.component.data.outputNodes[n];return M?M.getSource():n}getSignalName(n){return this.signalNameMap.get(n)}renameSignal(n,M){this.signalNameMap.rename(n,
M)}renameScale(n,M){this.scaleNameMap.rename(n,M)}renameProjection(n,M){this.projectionNameMap.rename(n,M)}scaleName(n,M){if(M)return this.getName(n);if(ak[n]&&xi[n]&&this.component.scales[n]||this.scaleNameMap.has(this.getName(n)))return this.scaleNameMap.get(this.getName(n))}projectionName(n){if(n)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(n){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const M=this.component.scales[n];return M&&!M.merged?M:this.parent?this.parent.getScaleComponent(n):void 0}getSelectionComponent(n,M){let Q=this.component.selection[n];!Q&&this.parent&&(Q=this.parent.getSelectionComponent(n,M));if(!Q)throw Error('Cannot find a selection named "'.concat(M,'".'));return Q}hasAxisOrientSignalRef(){var n,M;return(null===(n=this.component.axes.x)||void 0===n?void 0:n.some(Q=>Q.hasOrientSignalRef()))||(null===(M=this.component.axes.y)||void 0===M?void 0:M.some(Q=>Q.hasOrientSignalRef()))}}
class km extends Tl{vgField(n){let M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const Q=this.fieldDef(n);if(Q)return vd(Q,M)}reduceFieldDef(n,M){return zd(this.getMapping(),(Q,ha,ya)=>(ha=Xd(ha))?n(Q,ha,ya):Q,M)}forEachFieldDef(n,M){td(this.getMapping(),(Q,ha)=>{(Q=Xd(Q))&&n(Q,ha)},M)}}class Il extends Xe{clone(){return new Il(null,uf(this.transform))}constructor(n,M){var Q,ha,ya;super(n);this.transform=M;this.transform=uf(M);n=null!==(Q=this.transform.as)&&void 0!==Q?Q:[void 0,void 0];
this.transform.as=[null!==(ha=n[0])&&void 0!==ha?ha:"value",null!==(ya=n[1])&&void 0!==ya?ya:"density"]}dependentFields(){var n;return new Set([this.transform.density,...(null!==(n=this.transform.groupby)&&void 0!==n?n:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(g(this.transform))}assemble(){var n=this.transform,M=Object.assign({},n);n=n.density;M=(delete M.density,M);return Object.assign({},{type:"kde",field:n},M)}}class ql extends Xe{clone(){return new ql(null,
Object.assign({},this.filter))}constructor(n,M){super(n);this.filter=M}static make(n,M){const {config:Q,mark:ha,markDef:ya}=M;if("filter"!==Dc("invalid",ya,Q))return null;const Ba=M.reduceFieldDef((gb,sb,zb)=>{if(zb=!!xi[zb]&&M.getScaleComponent(zb))zb=zb.get("type"),se(zb)&&"count"!==sb.aggregate&&!Oa(ha)&&(gb[sb.field]=sb);return gb},{});return ne(Ba).length?new ql(n,Ba):null}dependentFields(){return new Set(ne(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(g(this.filter))}assemble(){const n=
ne(this.filter).reduce((M,Q)=>{Q=this.filter[Q];const ha=vd(Q,{expr:"datum"});null!==Q&&("temporal"===Q.type?M.push("(isDate(".concat(ha,") || (isValid(").concat(ha,") \x26\x26 isFinite(+").concat(ha,")))")):"quantitative"===Q.type&&(M.push("isValid(".concat(ha,")")),M.push("isFinite(+".concat(ha,")"))));return M},[]);return 0<n.length?{type:"filter",expr:n.join(" \x26\x26 ")}:null}}class Hl extends Xe{clone(){return new Hl(this.parent,uf(this.transform))}constructor(n,M){super(n);this.transform=
M;this.transform=uf(M);const {flatten:Q,as:ha=[]}=this.transform;this.transform.as=Q.map((ya,Ba)=>{var gb;return null!==(gb=ha[Ba])&&void 0!==gb?gb:ya})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(g(this.transform))}assemble(){const {flatten:n,as:M}=this.transform;return{type:"flatten",fields:n,as:M}}}class Gl extends Xe{clone(){return new Gl(null,uf(this.transform))}constructor(n,M){var Q,ha,ya;
super(n);this.transform=M;this.transform=uf(M);n=null!==(Q=this.transform.as)&&void 0!==Q?Q:[void 0,void 0];this.transform.as=[null!==(ha=n[0])&&void 0!==ha?ha:"key",null!==(ya=n[1])&&void 0!==ya?ya:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(g(this.transform))}assemble(){const {fold:n,as:M}=this.transform;return{type:"fold",fields:n,as:M}}}class bl extends Xe{clone(){return new bl(null,uf(this.fields),
this.geojson,this.signal)}static parseAll(n,M){if(M.component.projection&&!M.component.projection.isFit)return n;let Q=0;for(var ha of[["longitude","latitude"],["longitude2","latitude2"]]){const ya=ha.map(Ba=>{Ba=Ge(M.encoding[Ba]);return wc(Ba)?Ba.field:od(Ba)?{expr:"".concat(Ba.datum)}:ve(Ba)?{expr:"".concat(Ba.value)}:void 0});if(ya[0]||ya[1])n=new bl(n,ya,null,M.getName("geojson_".concat(Q++)))}M.channelHasField("shape")&&(ha=M.typedFieldDef("shape"),"geojson"===ha.type&&(n=new bl(n,null,ha.field,
M.getName("geojson_".concat(Q++)))));return n}constructor(n,M,Q,ha){super(n);this.fields=M;this.geojson=Q;this.signal=ha}dependentFields(){var n;const M=(null!==(n=this.fields)&&void 0!==n?n:[]).filter(p.isString);return new Set([...(this.geojson?[this.geojson]:[]),...M])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(g(this.fields))}assemble(){return[...(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class rl extends Xe{clone(){return new rl(null,this.projection,uf(this.fields),uf(this.as))}constructor(n,M,Q,ha){super(n);this.projection=M;this.fields=Q;this.as=ha}static parseAll(n,M){if(!M.projectionName())return n;for(const Q of[["longitude","latitude"],["longitude2","latitude2"]]){const ha=Q.map(Ba=>{Ba=Ge(M.encoding[Ba]);return wc(Ba)?Ba.field:od(Ba)?{expr:"".concat(Ba.datum)}:
ve(Ba)?{expr:"".concat(Ba.value)}:void 0}),ya="longitude2"===Q[0]?"2":"";if(ha[0]||ha[1])n=new rl(n,M.projectionName(),ha,[M.getName("x".concat(ya)),M.getName("y".concat(ya))])}return n}dependentFields(){return new Set(this.fields.filter(p.isString))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(g(this.fields)," ").concat(g(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Lk extends Xe{clone(){return new Lk(null,
uf(this.transform))}constructor(n,M){super(n);this.transform=M}dependentFields(){var n;return new Set([this.transform.impute,this.transform.key,...(null!==(n=this.transform.groupby)&&void 0!==n?n:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(n){const {start:M=0,stop:Q,step:ha}=n;n=[M,Q,...(ha?[ha]:[])].join();return{signal:"sequence(".concat(n,")")}}static makeFromTransform(n,M){return new Lk(n,M)}static makeFromEncoding(n,M){const Q=M.encoding;var ha=Q.x;const ya=
Q.y;if(wc(ha)&&wc(ya)){const Ba=ha.impute?ha:ya.impute?ya:void 0;if(void 0===Ba)return;ha=ha.impute?ya:ya.impute?ha:void 0;const {method:gb,value:sb,frame:zb,keyvals:Sb}=Ba.impute;M=he(M.mark,Q);return new Lk(n,Object.assign({},{impute:Ba.field,key:ha.field},gb?{method:gb}:{},void 0!==sb?{value:sb}:{},zb?{frame:zb}:{},void 0!==Sb?{keyvals:Sb}:{},M.length?{groupby:M}:{}))}return null}hash(){return"Impute ".concat(g(this.transform))}assemble(){const {impute:n,key:M,keyvals:Q,method:ha,groupby:ya,value:Ba,
frame:gb=[null,null]}=this.transform,sb=Object.assign({},{type:"impute",field:n,key:M},Q?{keyvals:void 0!==(null===Q||void 0===Q?void 0:Q.stop)?this.processSequence(Q):Q}:{},{method:"value"},ya?{groupby:ya}:{},{value:ha&&"value"!==ha?null:Ba});if(ha&&"value"!==ha){const zb=Object.assign({},{type:"window",as:["imputed_".concat(n,"_value")],ops:[ha],fields:[n],frame:gb,ignorePeers:!1},ya?{groupby:ya}:{}),Sb={type:"formula",expr:"datum.".concat(n," \x3d\x3d\x3d null ? datum.imputed_").concat(n,"_value : datum.").concat(n),
as:n};return[sb,zb,Sb]}return[sb]}}class Jl extends Xe{clone(){return new Jl(null,uf(this.transform))}constructor(n,M){var Q,ha,ya;super(n);this.transform=M;this.transform=uf(M);n=null!==(Q=this.transform.as)&&void 0!==Q?Q:[void 0,void 0];this.transform.as=[null!==(ha=n[0])&&void 0!==ha?ha:M.on,null!==(ya=n[1])&&void 0!==ya?ya:M.loess]}dependentFields(){var n;return new Set([this.transform.loess,this.transform.on,...(null!==(n=this.transform.groupby)&&void 0!==n?n:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(g(this.transform))}assemble(){var n=
this.transform,M=Object.assign({},n);const Q=n.loess;n=n.on;M=(delete M.loess,delete M.on,M);return Object.assign({},{type:"loess",x:n,y:Q},M)}}class sl extends Xe{clone(){return new sl(null,uf(this.transform),this.secondary)}constructor(n,M,Q){super(n);this.transform=M;this.secondary=Q}static make(n,M,Q,ha){const ya=M.component.data.sources,{from:Ba}=Q;var gb=null;if("data"in Ba)gb=vg(Ba.data,ya),gb||(gb=new lk(Ba.data),ya.push(gb)),ha=M.getName("lookup_".concat(ha)),gb=new Df(gb,ha,Be.Lookup,M.component.data.outputNodeRefCounts),
M.component.data.outputNodes[ha]=gb;else if("param"in Ba){ha=Ba.param;Q=Object.assign({},{as:ha},Q);let sb;try{sb=M.getSelectionComponent(G(ha),ha)}catch(zb){throw Error('Lookups can only be performed on selection parameters. "'.concat(ha,'" is a variable parameter.'));}gb=sb.materialized;if(!gb)throw Error('Cannot define and lookup the "'.concat(ha,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");}return new sl(n,Q,gb.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
p.array(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(g({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var n=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:p.array(this.transform.as)}:{});else n=this.transform.as,p.isString(n)||(gc('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),n="_lookup"),n={as:[n]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},n,this.transform.default?{default:this.transform.default}:{})}}class Kl extends Xe{clone(){return new Kl(null,uf(this.transform))}constructor(n,M){var Q,ha,ya;super(n);this.transform=M;this.transform=uf(M);n=null!==(Q=this.transform.as)&&void 0!==Q?Q:[void 0,void 0];this.transform.as=[null!==(ha=n[0])&&void 0!==ha?ha:"prob",null!==(ya=n[1])&&void 0!==ya?ya:"value"]}dependentFields(){var n;return new Set([this.transform.quantile,
...(null!==(n=this.transform.groupby)&&void 0!==n?n:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(g(this.transform))}assemble(){var n=this.transform,M=Object.assign({},n);n=n.quantile;M=(delete M.quantile,M);return Object.assign({},{type:"quantile",field:n},M)}}class Ll extends Xe{clone(){return new Ll(null,uf(this.transform))}constructor(n,M){var Q,ha,ya;super(n);this.transform=M;this.transform=uf(M);n=null!==(Q=this.transform.as)&&void 0!==Q?Q:
[void 0,void 0];this.transform.as=[null!==(ha=n[0])&&void 0!==ha?ha:M.on,null!==(ya=n[1])&&void 0!==ya?ya:M.regression]}dependentFields(){var n;return new Set([this.transform.regression,this.transform.on,...(null!==(n=this.transform.groupby)&&void 0!==n?n:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(g(this.transform))}assemble(){var n=this.transform,M=Object.assign({},n);const Q=n.regression;n=n.on;M=(delete M.regression,delete M.on,M);return Object.assign({},
{type:"regression",x:n,y:Q},M)}}class Nl extends Xe{clone(){return new Nl(null,uf(this.transform))}constructor(n,M){super(n);this.transform=M}addDimensions(n){var M;this.transform.groupby=t((null!==(M=this.transform.groupby)&&void 0!==M?M:[]).concat(n),Q=>Q)}producedFields(){}dependentFields(){var n;return new Set([this.transform.pivot,this.transform.value,...(null!==(n=this.transform.groupby)&&void 0!==n?n:[])])}hash(){return"PivotTransform ".concat(g(this.transform))}assemble(){const {pivot:n,value:M,
groupby:Q,limit:ha,op:ya}=this.transform;return Object.assign({},{type:"pivot",field:n,value:M},void 0!==ha?{limit:ha}:{},void 0!==ya?{op:ya}:{},void 0!==Q?{groupby:Q}:{})}}class Ml extends Xe{clone(){return new Ml(null,uf(this.transform))}constructor(n,M){super(n);this.transform=M}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(g(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class ul extends km{constructor(n,
M,Q,ha){super(n,"facet",M,Q,ha,n.resolve);Ab(this,"facet",void 0);Ab(this,"child",void 0);Ab(this,"children",void 0);this.child=rk(n.spec,this,this.getName("child"),void 0,ha);this.children=[this.child];this.facet=this.initFacet(n.facet)}initFacet(n){if(!Ma(n))return{facet:this.initFacetFieldDef(n,"facet")};var M=ne(n);const Q={};for(const ha of M){if(!["row","column"].includes(ha)){gc(me(ha,"facet"));break}M=n[ha];if(void 0===M.field){gc(ue(M,ha));break}Q[ha]=this.initFacetFieldDef(M,ha)}return Q}initFacetFieldDef(n,
M){n=Zg(n,M);n.header?n.header=Zb(n.header):null===n.header&&(n.header=null);return n}channelHasField(n){return!!this.facet[n]}fieldDef(n){return this.facet[n]}parseData(){this.component.data=ng(this);this.child.parseData()}parseLayoutSize(){jf(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const ha of ei){var n=void 0,M=ha;const {facet:ya,
config:Ba,child:gb,component:sb}=this;if(this.channelHasField(M)){const zb=ya[M];var Q=id("title",null,Ba,M);Q=vf(zb,Ba,{allowDisabling:!0,includeDefault:void 0===Q||!!Q});gb.component.layoutHeaders[M].title&&(Q=p.isArray(Q)?Q.join(", "):Q,Q+=" / ".concat(gb.component.layoutHeaders[M].title),gb.component.layoutHeaders[M].title=null);const Sb=id("labelOrient",zb.header,Ba,M),Bc=null!==zb.header?C(null===(n=zb.header)||void 0===n?void 0:n.labels,Ba.header.labels,!0):!1;n=b(["bottom","right"],Sb)?"footer":
"header";sb.layoutHeaders[M]={title:null!==zb.header?Q:null,facetFieldDef:zb,[n]:"facet"===M?[]:[tf(this,M,Bc)]}}}vh(this,"x");vh(this,"y")}assembleSelectionTopLevelSignals(n){return this.child.assembleSelectionTopLevelSignals(n)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(n){return this.child.assembleSelectionData(n)}getHeaderLayoutMixins(){const n={};for(const gb of ei)for(const sb of Pl){const zb=this.component.layoutHeaders[gb];var M=zb[sb],{facetFieldDef:Q}=
zb;if(Q&&(Q=id("titleOrient",Q.header,this.config,gb),["right","bottom"].includes(Q))){var ha;Q=Cc(gb,Q);null!==(ha=n.titleAnchor)&&void 0!==ha?ha:n.titleAnchor={};n.titleAnchor[Q]="end"}if(null!==M&&void 0!==M&&M[0]){M="row"===gb?"height":"width";Q="header"===sb?"headerBand":"footerBand";if("facet"!==gb&&!this.child.component.layoutSize.get(M)){var ya;null!==(ya=n[Q])&&void 0!==ya?ya:n[Q]={};n[Q][gb]=.5}if(zb.title){var Ba;null!==(Ba=n.offset)&&void 0!==Ba?Ba:n.offset={};n.offset["row"===gb?"rowTitle":
"columnTitle"]=10}}}return n}assembleDefaultLayout(){const {column:n,row:M}=this.facet,Q=n?this.columnDistinctSignal():M?1:void 0;let ha="all";M||"independent"!==this.component.resolve.scale.x?n||"independent"!==this.component.resolve.scale.y||(ha="none"):ha="none";return Object.assign({},this.getHeaderLayoutMixins(),Q?{columns:Q}:{},{bounds:"full",align:ha})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof ul)){const n=
this.getName("column_domain");return{signal:"length(data('".concat(n,"'))")}}}assembleGroupStyle(){}assembleGroup(n){return this.parent&&this.parent instanceof ul?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:vd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(n)):super.assembleGroup(n)}getCardinalityAggregateForChild(){const n=[],M=[],Q=[];if(this.child instanceof ul){if(this.child.channelHasField("column")){var ha=vd(this.child.facet.column);n.push(ha);
M.push("distinct");Q.push("distinct_".concat(ha))}}else for(ha of oi){var ya=this.child.component.scales[ha];if(ya&&!ya.merged){var Ba=ya.get("type");ya=ya.get("range");Qd(Ba)&&rc(ya)&&(Ba=Wi(this.child,ha),(Ba=dj(Ba))?(n.push(Ba),M.push("distinct"),Q.push("distinct_".concat(Ba))):gc(ld(ha)))}}return{fields:n,ops:M,as:Q}}assembleFacet(){const {name:n,data:M}=this.component.data.facetRoot,{row:Q,column:ha}=this.facet,{fields:ya,ops:Ba,as:gb}=this.getCardinalityAggregateForChild(),sb=[];for(var zb of ei){var Sb=
this.facet[zb];if(Sb){sb.push(vd(Sb));const {bin:Bc,sort:md}=Sb;Xa(Bc)&&sb.push(vd(Sb,{binSuffix:"end"}));if(Rb(md)){const {field:Tc,op:yd="min"}=md;Sb=Kg(Sb,md);Q&&ha?(ya.push(Sb),Ba.push("max")):(ya.push(Tc),Ba.push(yd));gb.push(Sb)}else p.isArray(md)&&(Sb=lc(Sb,zb),ya.push(Sb),Ba.push("max"),gb.push(Sb))}}zb=!!Q&&!!ha;return Object.assign({},{name:n,data:M,groupby:sb},zb||0<ya.length?{aggregate:Object.assign({},zb?{cross:zb}:{},ya.length?{fields:ya,ops:Ba,as:gb}:{})}:{})}facetSortFields(n){var {facet:M}=
this;return(M=M[n])?Rb(M.sort)?[Kg(M,M.sort,{expr:"datum"})]:p.isArray(M.sort)?[lc(M,n,{expr:"datum"})]:[vd(M,{expr:"datum"})]:[]}facetSortOrder(n){const {facet:M}=this;return(n=M[n])?({sort:n}=n,[(Rb(n)?n.order:!p.isArray(n)&&n)||"ascending"]):[]}assembleLabelTitle(){const {facet:n,config:M}=this;if(n.facet)return le(n.facet,"facet",M);const Q={row:["top","bottom"],column:["left","right"]};for(const ya of Ol)if(n[ya]){var ha;const Ba=id("labelOrient",null===(ha=n[ya])||void 0===ha?void 0:ha.header,
M,ya);if(Q[ya].includes(Ba))return le(n[ya],ya,M)}}assembleMarks(){const {child:n}=this,M=Md(this.component.data.facetRoot),Q=n.assembleGroupEncodeEntry(!1),ha=this.assembleLabelTitle()||n.assembleTitle(),ya=n.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},ha?{title:ha}:{},ya?{style:ya}:{},{from:{facet:this.assembleFacet()},sort:{field:ei.map(Ba=>this.facetSortFields(Ba)).flat(),order:ei.map(Ba=>this.facetSortOrder(Ba)).flat()}},0<M.length?{data:M}:{},Q?{encode:{update:Q}}:
{},n.assembleGroup(Ka(this,[])))]}getMapping(){return this.facet}}class Fm extends Tl{constructor(n,M,Q,ha){var ya,Ba,gb,sb;super(n,"concat",M,Q,ha,n.resolve);Ab(this,"children",void 0);"shared"!==(null===(ya=n.resolve)||void 0===ya?void 0:null===(Ba=ya.axis)||void 0===Ba?void 0:Ba.x)&&"shared"!==(null===(gb=n.resolve)||void 0===gb?void 0:null===(sb=gb.axis)||void 0===sb?void 0:sb.y)||gc("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");
this.children=this.getChildren(n).map((zb,Sb)=>rk(zb,this,this.getName("concat_".concat(Sb)),void 0,ha))}parseData(){this.component.data=ng(this);for(const n of this.children)n.parseData()}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const M of ne(n.component.selection))this.component.selection[M]=n.component.selection[M]}}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){for(const n of this.children)n.parseAxesAndHeaders()}getChildren(n){return"vconcat"in
n?n.vconcat:"hconcat"in n?n.hconcat:n.concat}parseLayoutSize(){jf(this);const n=void 0===this.layout.columns?"height":"childHeight";Tf(this,1===this.layout.columns?"width":"childWidth");Tf(this,n)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(n){return this.children.reduce((M,Q)=>Q.assembleSelectionTopLevelSignals(M),n)}assembleSignals(){this.children.forEach(n=>n.assembleSignals());return[]}assembleLayoutSignals(){const n=Cf(this);for(const M of this.children)n.push(...M.assembleLayoutSignals());
return n}assembleSelectionData(n){return this.children.reduce((M,Q)=>Q.assembleSelectionData(M),n)}assembleMarks(){return this.children.map(n=>{const M=n.assembleTitle(),Q=n.assembleGroupStyle(),ha=n.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:n.getName("group")},M?{title:M}:{},Q?{style:Q}:{},ha?{encode:{update:ha}}:{},n.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const n=this.layout.columns;return Object.assign({},null!=n?{columns:n}:{},{bounds:"full",
align:"each"})}}const Im=Object.assign({},{disable:1,gridScale:1,scale:1},Ui,{labelExpr:1,encode:1}),cm=ne(Im);class dm extends $d{constructor(){let n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},Q=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=n;this.implicit=M;this.mainExtracted=Q}clone(){return new dm(uf(this.explicit),uf(this.implicit),this.mainExtracted)}hasAxisPart(n){if("axis"===n)return!0;
if("grid"===n||"title"===n)return!!this.get(n);n=this.get(n);return!(!1===n||null===n)}hasOrientSignalRef(){return Ic(this.explicit.orient)}}const Jm={bottom:"top",top:"bottom",left:"right",right:"left"},Em=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),tl={arc:{vgMark:"arc",encodeEntry:n=>Object.assign({},ih(n,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Ef("x",n,{defaultPos:"mid"}),Ef("y",
n,{defaultPos:"mid"}),rg(n,"radius"),rg(n,"theta"))},area:{vgMark:"area",encodeEntry:n=>Object.assign({},ih(n,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),wf("x",n,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===n.markDef.orient}),wf("y",n,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===n.markDef.orient}),Jg(n))},bar:{vgMark:"rect",encodeEntry:n=>Object.assign({},ih(n,{align:"ignore",baseline:"ignore",color:"include",
orient:"ignore",size:"ignore",theta:"ignore"}),rg(n,"x"),rg(n,"y"))},circle:{vgMark:"symbol",encodeEntry:n=>Wk(n,"circle")},geoshape:{vgMark:"shape",encodeEntry:n=>Object.assign({},ih(n,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:n=>{var {encoding:M}=n;M=M.shape;return[Object.assign({},{type:"geoshape",projection:n.projectionName()},M&&wc(M)&&"geojson"===M.type?{field:vd(M,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:n=>
Object.assign({},ih(n,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),rg(n,"x"),rg(n,"y"),kc(n,"url"))},line:{vgMark:"line",encodeEntry:n=>Object.assign({},ih(n,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Ef("x",n,{defaultPos:"mid"}),Ef("y",n,{defaultPos:"mid"}),Ed("size",n,{vgChannel:"strokeWidth"}),Jg(n))},point:{vgMark:"symbol",encodeEntry:n=>Wk(n)},rect:{vgMark:"rect",encodeEntry:n=>Object.assign({},
ih(n,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),rg(n,"x"),rg(n,"y"))},rule:{vgMark:"rule",encodeEntry:n=>{var {markDef:M}=n;M=M.orient;return n.encoding.x||n.encoding.y||n.encoding.latitude||n.encoding.longitude?Object.assign({},ih(n,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),wf("x",n,{defaultPos:"horizontal"===M?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==M}),wf("y",n,{defaultPos:"vertical"===
M?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==M}),Ed("size",n,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:n=>Wk(n,"square")},text:{vgMark:"text",encodeEntry:n=>{var {config:M}=n,Q=Object,ha=Q.assign,ya=ih(n,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Ba=Ef("x",n,{defaultPos:"mid"}),gb=Ef("y",n,{defaultPos:"mid"}),sb=kc(n),zb=Ed("size",n,{vgChannel:"fontSize"}),Sb=Ed("angle",n);var Bc=void 0===Dc("align",
n.markDef,M)?"center":void 0;Bc=Ug("align",Bc);M=void 0===Dc("baseline",n.markDef,M)?"middle":void 0;return ha.call(Q,{},ya,Ba,gb,sb,zb,Sb,Bc,Ug("baseline",M),Ef("radius",n,{defaultPos:null}),Ef("theta",n,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:n=>{const {config:M,markDef:Q}=n;var ha=Q.orient;const ya="horizontal"===ha?"width":"height";ha="horizontal"===ha?"height":"width";var Ba=Object,gb=Ba.assign,sb=ih(n,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",
theta:"ignore"}),zb=Ef("x",n,{defaultPos:"mid",vgChannel:"xc"}),Sb=Ef("y",n,{defaultPos:"mid",vgChannel:"yc"}),Bc;{const {config:Tc,markDef:yd}=n;var {orient:md}=yd;const Jd="horizontal"===md?"width":"height";md=n.getScaleComponent("horizontal"===md?"x":"y");const de=null!==(Bc=Dc("size",yd,Tc,{vgChannel:Jd}))&&void 0!==Bc?Bc:Tc.tick.bandSize;Bc=void 0!==de?de:(Bc=md?md.get("range"):void 0)&&rc(Bc)&&p.isNumber(Bc.step)?3*Bc.step/4:3*Hc(Tc.view,Jd)/4}return gb.call(Ba,{},sb,zb,Sb,Ed("size",n,{defaultValue:Bc,
vgChannel:ya}),{[ha]:Yb(Dc("thickness",Q,M))})}},trail:{vgMark:"trail",encodeEntry:n=>Object.assign({},ih(n,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Ef("x",n,{defaultPos:"mid"}),Ef("y",n,{defaultPos:"mid"}),Ed("size",n),Jg(n))}};class gm extends km{constructor(n,M,Q){var ha;let ya=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},Ba=4<arguments.length?arguments[4]:void 0;super(n,"unit",M,Q,Ba,void 0,pb(n)?n.view:void 0);Ab(this,"markDef",
void 0);Ab(this,"encoding",void 0);Ab(this,"specifiedScales",{});Ab(this,"stack",void 0);Ab(this,"specifiedAxes",{});Ab(this,"specifiedLegends",{});Ab(this,"specifiedProjection",{});Ab(this,"selection",[]);Ab(this,"children",[]);const gb=ic(n.mark)?Object.assign({},n.mark):{type:n.mark},sb=gb.type;void 0===gb.filled&&(gb.filled=Dj(gb,Ba,{graticule:n.data&&"graticule"in n.data}));const zb=this.encoding=bb(n.encoding||{},sb,gb.filled,Ba);this.markDef=Hi(gb,zb,Ba);this.size=Ni({encoding:zb,size:pb(n)?
Object.assign({},ya,n.width?{width:n.width}:{},n.height?{height:n.height}:{}):ya});this.stack=ge(sb,zb);this.specifiedScales=this.initScales(sb,zb);this.specifiedAxes=this.initAxes(zb);this.specifiedLegends=this.initLegends(zb);this.specifiedProjection=n.projection;this.selection=(null!==(ha=n.params)&&void 0!==ha?ha:[]).filter(Sb=>!!Sb.select)}get hasProjection(){const {encoding:n}=this,M=this.mark===Bk,Q=n&&kl.some(ha=>Cd(n[ha]));return M||Q}scaleDomain(n){return(n=this.specifiedScales[n])?n.domain:
void 0}axis(n){return this.specifiedAxes[n]}legend(n){return this.specifiedLegends[n]}initScales(n,M){return yj.reduce((Q,ha)=>{const ya=Ge(M[ha]);if(ya){var Ba;Q[ha]=this.initScale(null!==(Ba=ya.scale)&&void 0!==Ba?Ba:{})}return Q},{})}initScale(n){const {domain:M,range:Q}=n;n=Zb(n);p.isArray(M)&&(n.domain=M.map(tb));p.isArray(Q)&&(n.range=Q.map(tb));return n}initAxes(n){return oi.reduce((M,Q)=>{var ha=n[Q];if(Cd(ha)||"x"===Q&&Cd(n.x2)||"y"===Q&&Cd(n.y2))ha=Cd(ha)?ha.axis:void 0,M[Q]=ha?this.initAxis(Object.assign({},
ha)):ha;return M},{})}initAxis(n){var M=ne(n);const Q={};for(const ha of M)M=n[ha],Q[ha]=eg(M)?Bb(M):tb(M);return Q}initLegends(n){return uk.reduce((M,Q)=>{var ha=Ge(n[Q]),ya;if(ya=ha)a:{switch(Q){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":ya=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":ya=!1;break a}ya=void 0}ya&&(ha=ha.legend,M[Q]=ha?Zb(ha):ha);return M},{})}parseData(){this.component.data=ng(this)}parseLayoutSize(){const {size:n,
component:M}=this;for(const ha of oi){const ya=va(ha);if(n[ya]){var Q=n[ya];M.layoutSize.set(ya,Ta(Q)?"step":Q,!0)}else Q=Fg(this,ya),M.layoutSize.set(ya,Q,!1)}}parseSelections(){var n=this.component,M;{var Q=this.selection;const ya={},Ba=this.config.selection;if(Q&&Q.length)for(const gb of Q){Q=G(gb.name);var ha=gb.select;const sb=p.isString(ha)?ha:ha.type;ha=p.isObject(ha)?uf(ha):{type:sb};const zb=Ba[sb];for(const Sb in zb)"fields"!==Sb&&"encodings"!==Sb&&("mark"===Sb&&(ha[Sb]=Object.assign({},
zb[Sb],ha[Sb])),void 0===ha[Sb]||!0===ha[Sb])&&(ha[Sb]=null!==(M=zb[Sb])&&void 0!==M?M:ha[Sb]);Q=ya[Q]=Object.assign({},ha,{name:Q,type:sb,init:gb.value,bind:gb.bind,events:p.isString(ha.on)?p.parseSelector(ha.on,"scope"):p.array(uf(ha.on))});for(const Sb of nl)Sb.defined(Q)&&Sb.parse&&Sb.parse(this,Q,gb)}M=ya}n.selection=M}parseMarkGroup(){this.component.mark=Yk(this)}parseAxesAndHeaders(){this.component.axes=mg(this)}assembleSelectionTopLevelSignals(n){return kb(this,n)}assembleSignals(){var n=
[...ri(this)];var M=[];for(const ha of Bh(null!==(Q=this.component.selection)&&void 0!==Q?Q:{})){var Q;Q=ha.name;let ya="".concat(Q).concat("_tuple",", ").concat("global"===ha.resolve?"true":"{unit: ".concat(Dh(this),"}"));for(const Ba of nl)Ba.defined(ha)&&(Ba.signals&&(M=Ba.signals(this,ha,M)),Ba.modifyExpr&&(ya=Ba.modifyExpr(this,ha,ya)));M.push({name:Q+"_modify",on:[{events:{signal:ha.name+"_tuple"},update:"modify(".concat(p.stringValue(ha.name+"_store"),", ").concat(ya,")")}]})}M=Fc(M);return[...n,
...M]}assembleSelectionData(n){return Cb(this,n)}assembleLayout(){return null}assembleLayoutSignals(){return Cf(this)}assembleMarks(){var n;let M=null!==(n=this.component.mark)&&void 0!==n?n:[];this.parent&&bd(this.parent)||(M=Pb(this,M));return M.map(this.correctDataNames)}assembleGroupStyle(){const {style:n}=this.view||{};if(void 0!==n)return n;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(n){return gg(this.encoding,
n)}fieldDef(n){return Xd(this.encoding[n])}typedFieldDef(n){n=this.fieldDef(n);return je(n)?n:null}}class fm extends Tl{constructor(n,M,Q,ha,ya){super(n,"layer",M,Q,ya,n.resolve,n.view);Ab(this,"children",void 0);const Ba=Object.assign({},ha,n.width?{width:n.width}:{},n.height?{height:n.height}:{});this.children=n.layer.map((gb,sb)=>{if("layer"in gb)return new fm(gb,this,this.getName("layer_".concat(sb)),Ba,ya);if(Mf(gb))return new gm(gb,this,this.getName("layer_".concat(sb)),Ba,ya);throw Error($b(gb));
})}parseData(){this.component.data=ng(this);for(const n of this.children)n.parseData()}parseLayoutSize(){jf(this);Tf(this,"width");Tf(this,"height")}parseSelections(){this.component.selection={};for(const n of this.children){n.parseSelections();for(const M of ne(n.component.selection))this.component.selection[M]=n.component.selection[M]}}parseMarkGroup(){for(const n of this.children)n.parseMarkGroup()}parseAxesAndHeaders(){const {axes:n,resolve:M}=this.component,Q={top:0,bottom:0,right:0,left:0};
for(var ha of this.children){ha.parseAxesAndHeaders();for(const Ba of ne(ha.component.axes))M.axis[Ba]=Pg(this.component.resolve,Ba),"shared"===M.axis[Ba]&&(n[Ba]=Cg(n[Ba],ha.component.axes[Ba]),n[Ba]||(M.axis[Ba]="independent",delete n[Ba]))}for(const Ba of oi){for(const gb of this.children)if(gb.component.axes[Ba]){if("independent"===M.axis[Ba]){var ya;n[Ba]=(null!==(ya=n[Ba])&&void 0!==ya?ya:[]).concat(gb.component.axes[Ba]);for(const sb of gb.component.axes[Ba]){const {value:zb,explicit:Sb}=sb.getWithExplicit("orient");
Ic(zb)||(0<Q[zb]&&!Sb&&(ha=Jm[zb],Q[zb]>Q[ha]&&sb.set("orient",ha,!1)),Q[zb]++)}}delete gb.component.axes[Ba]}if("independent"===M.axis[Ba]&&n[Ba]&&1<n[Ba].length)for(const gb of n[Ba])gb.get("grid")&&!gb.explicit.grid&&(gb.implicit.grid=!1)}}assembleSelectionTopLevelSignals(n){return this.children.reduce((M,Q)=>Q.assembleSelectionTopLevelSignals(M),n)}assembleSignals(){return this.children.reduce((n,M)=>n.concat(M.assembleSignals()),ri(this))}assembleLayoutSignals(){return this.children.reduce((n,
M)=>n.concat(M.assembleLayoutSignals()),Cf(this))}assembleSelectionData(n){return this.children.reduce((M,Q)=>Q.assembleSelectionData(M),n)}assembleGroupStyle(){var n=new Set;for(const M of this.children)for(const Q of p.array(M.assembleGroupStyle()))n.add(Q);n=Array.from(n);return 1<n.length?n:1===n.length?n[0]:void 0}assembleTitle(){let n=super.assembleTitle();if(n)return n;for(const M of this.children)if(n=M.assembleTitle())return n}assembleLayout(){return null}assembleMarks(){return uc(this,this.children.flatMap(n=>
n.assembleMarks()))}assembleLegends(){return this.children.reduce((n,M)=>n.concat(M.assembleLegends()),xf(this))}}k.accessPathDepth=r;k.accessPathWithDatum=S;k.compile=function(n){let M=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};M.logger&&(mj=M.logger);M.fieldTitle&&(Ai=M.fieldTitle);try{const Bc=Rd(p.mergeConfig(M.config,n.config)),md=qg(n,Bc),Tc=rk(md,null,"",void 0,Bc);Tc.parse();var Q=Tc.component.data,ha=Tc;Hh(Q.sources);let yd=0,Jd=0;for(var ya=0;5>ya&&kg(Q,ha,!0);ya++)yd++;Q.sources.map(cj);
for(ya=0;5>ya&&kg(Q,ha,!1);ya++)Jd++;Hh(Q.sources);5===Math.max(yd,Jd)&&gc("Maximum optimization runs(".concat(5,") reached."));var Ba=md.autosize;Q=Bc;ha=Tc;const de=ha.component.layoutSize.get("width"),we=ha.component.layoutSize.get("height");void 0===Ba?(Ba={type:"pad"},ha.hasAxisOrientSignalRef()&&(Ba.resize=!0)):p.isString(Ba)&&(Ba={type:Ba});var gb;if(gb=de&&we){var sb=Ba.type;gb="fit"===sb||"fit-x"===sb||"fit-y"===sb}if(gb)if("step"===de&&"step"===we)gc(dd()),Ba.type="pad";else if("step"===
de||"step"===we){sb="step"===de?"width":"height";gc(dd(Ua(sb)));gb=Ba;var zb=(sb="width"===sb?"height":"width","fit-".concat(Ua(sb)));gb.type=zb}var Sb=Object.assign({},1===ne(Ba).length&&Ba.type?"pad"===Ba.type?{}:{autosize:Ba.type}:{autosize:Ba},Z(Q,!1),Z(n,!0));return{spec:Ok(Tc,Sb,n.datasets,n.usermeta),normalized:md}}finally{M.logger&&(mj=qi),M.fieldTitle&&(Ai=Gi)}};k.contains=b;k.deepEqual=oh;k.deleteNestedProperty=O;k.duplicate=uf;k.entries=hj;k.every=a;k.fieldIntersection=F;k.flatAccessWithDatum=
ca;k.getFirstDefined=C;k.hasIntersection=q;k.hash=g;k.internalField=U;k.isBoolean=D;k.isEmpty=w;k.isEqual=function(n,M){const Q=ne(n),ha=ne(M);if(Q.length!==ha.length)return!1;for(const ya of Q)if(n[ya]!==M[ya])return!1;return!0};k.isInternalField=ja;k.isNullOrFalse=d;k.isNumeric=ia;k.keys=ne;k.logicalExpr=L;k.mergeDeep=e;k.never=m;k.normalize=qg;k.normalizeAngle=ba;k.omit=f;k.pick=l;k.prefixGenerator=E;k.removePathFromField=J;k.replaceAll=R;k.replacePathInField=T;k.resetIdCounter=function(){sk=42};
k.setEqual=y;k.some=c;k.stringify=Lg;k.titleCase=V;k.unique=t;k.uniqueId=N;k.vals=Bh;k.varName=G;k.version="5.2.0";Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[49]=function(ra,z,cb,B){function v(){throw Error("setTimeout has not been defined");}function k(){throw Error("clearTimeout has not been defined");}function p(t){if(g===setTimeout)return setTimeout(t,0);if((g===v||!g)&&setTimeout)return g=setTimeout,setTimeout(t,0);try{return g(t,0)}catch(y){try{return g.call(null,t,0)}catch(q){return g.call(this,t,0)}}}function A(t){if(d===clearTimeout)return clearTimeout(t);if((d===k||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(y){try{return d.call(null,
t)}catch(q){return d.call(this,t)}}}function u(){c&&a&&(c=!1,a.length?b=a.concat(b):e=-1,b.length&&m())}function m(){if(!c){var t=p(u);c=!0;for(var y=b.length;y;){a=b;for(b=[];++e<y;)a&&a[e].run();e=-1;y=b.length}a=null;c=!1;A(t)}}function l(t,y){this.fun=t;this.array=y}function f(){}ra=cb.exports={};try{var g="function"===typeof setTimeout?setTimeout:v}catch(t){g=v}try{var d="function"===typeof clearTimeout?clearTimeout:k}catch(t){d=k}var b=[],c=!1,a,e=-1;ra.nextTick=function(t){var y=Array(arguments.length-
1);if(1<arguments.length)for(var q=1;q<arguments.length;q++)y[q-1]=arguments[q];b.push(new l(t,y));1!==b.length||c||p(m)};l.prototype.run=function(){this.fun.apply(null,this.array)};ra.title="browser";ra.browser=!0;ra.env={};ra.argv=[];ra.version="";ra.versions={};ra.on=f;ra.addListener=f;ra.once=f;ra.off=f;ra.removeListener=f;ra.removeAllListeners=f;ra.emit=f;ra.prependListener=f;ra.prependOnceListener=f;ra.listeners=function(t){return[]};ra.binding=function(t){throw Error("process.binding is not supported");
};ra.cwd=function(){return"/"};ra.chdir=function(t){throw Error("process.chdir is not supported");};ra.umask=function(){return 0}};
shadow$provide[50]=function(ra,z,cb,B){var v=z(49);(function(k,p){"object"===typeof B&&"undefined"!==typeof cb?cb.exports=p(z(47),z(48)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,k.vegaEmbed=p(k.vega,k.vegaLite))})(this,function(k,p){function A(la){if(la&&la.__esModule)return la;var Qa=Object.create(null);la&&Object.keys(la).forEach(function(fb){if("default"!==fb){var xb=Object.getOwnPropertyDescriptor(la,fb);Object.defineProperty(Qa,
fb,xb.get?xb:{enumerable:!0,get:function(){return la[fb]}})}});Qa["default"]=la;return Object.freeze(Qa)}function u(la){if(Array.isArray(la)){var Qa=Array(la.length);for(la=0;la<Qa.length;la++)Qa[la]=""+la;return Qa}if(Object.keys)return Object.keys(la);Qa=[];for(var fb in la)Ja.call(la,fb)&&Qa.push(fb);return Qa}function m(la){switch(typeof la){case "object":return JSON.parse(JSON.stringify(la));case "undefined":return null;default:return la}}function l(la){for(var Qa=0,fb=la.length,xb;Qa<fb;)if(xb=
la.charCodeAt(Qa),48<=xb&&57>=xb)Qa++;else return!1;return!0}function f(la){return-1===la.indexOf("/")&&-1===la.indexOf("~")?la:la.replace(/~/g,"~0").replace(/\//g,"~1")}function g(la){return la.replace(/~1/g,"/").replace(/~0/g,"~")}function d(la){if(void 0===la)return!0;if(la)if(Array.isArray(la))for(var Qa=0,fb=la.length;Qa<fb;Qa++){if(d(la[Qa]))return!0}else if("object"===typeof la){fb=u(la);var xb=fb.length;for(Qa=0;Qa<xb;Qa++)if(d(la[fb[Qa]]))return!0}return!1}function b(la,Qa){la=[la];for(var fb in Qa){var xb=
"object"===typeof Qa[fb]?JSON.stringify(Qa[fb],null,2):Qa[fb];"undefined"!==typeof xb&&la.push(fb+": "+xb)}return la.join("\n")}function c(la,Qa){if(""==Qa)return la;Qa={op:"_get",path:Qa};a(la,Qa);return Qa.value}function a(la,Qa,fb,xb,Fb,ac){void 0===fb&&(fb=!1);void 0===xb&&(xb=!0);void 0===Fb&&(Fb=!0);void 0===ac&&(ac=0);fb&&("function"==typeof fb?fb(Qa,0,la,Qa.path):t(Qa,0));if(""===Qa.path){Fb={newDocument:la};if("add"===Qa.op)return Fb.newDocument=Qa.value,Fb;if("replace"===Qa.op)return Fb.newDocument=
Qa.value,Fb.removed=la,Fb;if("move"===Qa.op||"copy"===Qa.op)return Fb.newDocument=c(la,Qa.from),"move"===Qa.op&&(Fb.removed=la),Fb;if("test"===Qa.op){Fb.test=q(la,Qa.value);if(!1===Fb.test)throw new Da("Test operation failed","TEST_OPERATION_FAILED",ac,Qa,la);Fb.newDocument=la;return Fb}if("remove"===Qa.op)return Fb.removed=la,Fb.newDocument=null,Fb;if("_get"===Qa.op)return Qa.value=la,Fb;if(fb)throw new Da("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
ac,Qa,la);return Fb}xb||(la=m(la));xb=(Qa.path||"").split("/");var yc=la,Zc=1,ad=xb.length,Lc=void 0,Ec,tc;for(tc="function"==typeof fb?fb:t;;){(Ec=xb[Zc])&&-1!=Ec.indexOf("~")&&(Ec=g(Ec));if(Fb&&"__proto__"==Ec)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");fb&&void 0===Lc&&(void 0===yc[Ec]?Lc=xb.slice(0,Zc).join("/"):
Zc==ad-1&&(Lc=Qa.path),void 0!==Lc&&tc(Qa,0,la,Lc));Zc++;if(Array.isArray(yc)){if("-"===Ec)Ec=yc.length;else{if(fb&&!l(Ec))throw new Da("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",ac,Qa,la);l(Ec)&&(Ec=~~Ec)}if(Zc>=ad){if(fb&&"add"===Qa.op&&Ec>yc.length)throw new Da("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",ac,Qa,
la);Fb=sa[Qa.op].call(Qa,yc,Ec,la);if(!1===Fb.test)throw new Da("Test operation failed","TEST_OPERATION_FAILED",ac,Qa,la);return Fb}}else if(Zc>=ad){Fb=va[Qa.op].call(Qa,yc,Ec,la);if(!1===Fb.test)throw new Da("Test operation failed","TEST_OPERATION_FAILED",ac,Qa,la);return Fb}yc=yc[Ec];if(fb&&Zc<ad&&(!yc||"object"!==typeof yc))throw new Da("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",ac,Qa,la);}}function e(la,Qa,fb,xb,Fb){void 0===xb&&(xb=!0);void 0===Fb&&(Fb=!0);if(fb&&
!Array.isArray(Qa))throw new Da("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");xb||(la=m(la));xb=Array(Qa.length);for(var ac=0,yc=Qa.length;ac<yc;ac++)xb[ac]=a(la,Qa[ac],fb,!0,Fb,ac),la=xb[ac].newDocument;xb.newDocument=la;return xb}function t(la,Qa,fb,xb){if("object"!==typeof la||null===la||Array.isArray(la))throw new Da("Operation is not an object","OPERATION_NOT_AN_OBJECT",Qa,la,fb);if(va[la.op]){if("string"!==typeof la.path)throw new Da("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",Qa,la,fb);if(0!==la.path.indexOf("/")&&0<la.path.length)throw new Da('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",Qa,la,fb);if("move"!==la.op&&"copy"!==la.op||"string"===typeof la.from)if("add"!==la.op&&"replace"!==la.op&&"test"!==la.op||void 0!==la.value){if(("add"===la.op||"replace"===la.op||"test"===la.op)&&d(la.value))throw new Da("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
Qa,la,fb);if(fb)if("add"==la.op){var Fb=la.path.split("/").length;xb=xb.split("/").length;if(Fb!==xb+1&&Fb!==xb)throw new Da("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",Qa,la,fb);}else if("replace"===la.op||"remove"===la.op||"_get"===la.op){if(la.path!==xb)throw new Da("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Qa,la,fb);}else if(("move"===la.op||"copy"===la.op)&&(Fb=y([{op:"_get",path:la.from,value:void 0}],fb))&&
"OPERATION_PATH_UNRESOLVABLE"===Fb.name)throw new Da("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Qa,la,fb);}else throw new Da("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",Qa,la,fb);else throw new Da("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Qa,la,fb);}else throw new Da("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",Qa,la,fb);}function y(la,Qa,fb){try{if(!Array.isArray(la))throw new Da("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Qa)e(m(Qa),m(la),fb||!0);else{fb=fb||t;for(var xb=0;xb<la.length;xb++)fb(la[xb],xb,Qa,void 0)}}catch(Fb){if(Fb instanceof Da)return Fb;throw Fb;}}function q(la,Qa){if(la===Qa)return!0;if(la&&Qa&&"object"==typeof la&&"object"==typeof Qa){var fb=Array.isArray(la),xb=Array.isArray(Qa);if(fb&&xb){var Fb=la.length;if(Fb!=Qa.length)return!1;for(fb=Fb;0!==
fb--;)if(!q(la[fb],Qa[fb]))return!1;return!0}if(fb!=xb)return!1;xb=Object.keys(la);Fb=xb.length;if(Fb!==Object.keys(Qa).length)return!1;for(fb=Fb;0!==fb--;)if(!Qa.hasOwnProperty(xb[fb]))return!1;for(fb=Fb;0!==fb--;)if(Fb=xb[fb],!q(la[Fb],Qa[Fb]))return!1;return!0}return la!==la&&Qa!==Qa}function E(la,Qa){void 0===Qa&&(Qa=!1);var fb=ma.get(la.object);F(fb.value,la.object,la.patches,"",Qa);la.patches.length&&e(fb.value,la.patches);Qa=la.patches;0<Qa.length&&(la.patches=[],la.callback&&la.callback(Qa));
return Qa}function F(la,Qa,fb,xb,Fb){if(Qa!==la){"function"===typeof Qa.toJSON&&(Qa=Qa.toJSON());for(var ac=u(Qa),yc=u(la),Zc=!1,ad=yc.length-1;0<=ad;ad--){var Lc=yc[ad],Ec=la[Lc];if(!Ja.call(Qa,Lc)||void 0===Qa[Lc]&&void 0!==Ec&&!1===Array.isArray(Qa))Array.isArray(la)===Array.isArray(Qa)?(Fb&&fb.push({op:"test",path:xb+"/"+f(Lc),value:m(Ec)}),fb.push({op:"remove",path:xb+"/"+f(Lc)}),Zc=!0):(Fb&&fb.push({op:"test",path:xb,value:la}),fb.push({op:"replace",path:xb,value:Qa}));else{var tc=Qa[Lc];"object"==
typeof Ec&&null!=Ec&&"object"==typeof tc&&null!=tc&&Array.isArray(Ec)===Array.isArray(tc)?F(Ec,tc,fb,xb+"/"+f(Lc),Fb):Ec!==tc&&(Fb&&fb.push({op:"test",path:xb+"/"+f(Lc),value:m(Ec)}),fb.push({op:"replace",path:xb+"/"+f(Lc),value:m(tc)}))}}if(Zc||ac.length!=yc.length)for(ad=0;ad<ac.length;ad++)Lc=ac[ad],Ja.call(la,Lc)||void 0===Qa[Lc]||fb.push({op:"add",path:xb+"/"+f(Lc),value:m(Qa[Lc])})}}function w(la){var Qa=this;Qa instanceof w||(Qa=new w);Qa.tail=null;Qa.head=null;Qa.length=0;if(la&&"function"===
typeof la.forEach)la.forEach(function(Fb){Qa.push(Fb)});else if(0<arguments.length)for(var fb=0,xb=arguments.length;fb<xb;fb++)Qa.push(arguments[fb]);return Qa}function D(la,Qa,fb,xb){if(!(this instanceof D))return new D(la,Qa,fb,xb);this.list=xb;this.value=la;Qa?(Qa.next=this,this.prev=Qa):this.prev=null;fb?(fb.prev=this,this.next=fb):this.next=null}function G(la,Qa,fb,xb,Fb,ac){const yc=Zc=>pe[Zc.type](yc,Zc);yc.memberDepth=0;yc.fn=Object.create(Qa);yc.params=fb;yc.datum=xb;yc.event=Fb;yc.item=
ac;Bd.forEach(Zc=>yc.fn[Zc]=function(){return Fb.vega[Zc](...arguments)});return yc(la)}function L(la){const [Qa,fb]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(la).slice(1,3);return{library:Qa,version:fb}}function O(la,Qa,fb){la.fields=Qa||[];la.fname=fb;return la}function V(la){return 1===la.length?Oe(la[0]):Gb(la)}function S(la){function Qa(){fb.push(yc+la.substring(Zc,ad));yc="";Zc=ad+1}const fb=[],xb=la.length;let Fb=null,ac=0,yc="",Zc,ad,Lc;la+="";for(Zc=ad=0;ad<xb;++ad)if(Lc=la[ad],"\\"===
Lc)yc+=la.substring(Zc,ad),yc+=la.substring(++ad,++ad),Zc=ad;else if(Lc===Fb)Qa(),Fb=null,ac=-1;else if(!Fb)if(Zc===ac&&'"'===Lc)Zc=ad+1,Fb=Lc;else if(Zc===ac&&"'"===Lc)Zc=ad+1,Fb=Lc;else if("."===Lc&&!ac)ad>Zc?Qa():Zc=ad+1;else if("["===Lc)ad>Zc&&Qa(),ac=Zc=ad+1;else if("]"===Lc){if(!ac)throw Error("Access path missing open bracket: "+la);0<ac&&Qa();ac=0;Zc=ad+1}if(ac)throw Error("Access path missing closing bracket: "+la);if(Fb)throw Error("Access path missing closing quote: "+la);ad>Zc&&(ad++,
Qa());return fb}function ca(la,Qa){var fb={},xb;for(xb in la)Object.prototype.hasOwnProperty.call(la,xb)&&0>Qa.indexOf(xb)&&(fb[xb]=la[xb]);if(null!=la&&"function"===typeof Object.getOwnPropertySymbols){var Fb=0;for(xb=Object.getOwnPropertySymbols(la);Fb<xb.length;Fb++)0>Qa.indexOf(xb[Fb])&&Object.prototype.propertyIsEnumerable.call(la,xb[Fb])&&(fb[xb[Fb]]=la[xb[Fb]])}return fb}function ea(la){const Qa=[];return function(fb,xb){if("object"!==typeof xb||null===xb)return xb;fb=Qa.indexOf(this)+1;Qa.length=
fb;if(Qa.length>la)return"[Object]";if(0<=Qa.indexOf(xb))return"[Circular]";Qa.push(xb);return xb}}function T(la,Qa,fb){function xb(ad){ad.source===ac&&(Zc=0,la.removeEventListener("message",xb,!1))}function Fb(){0>=Zc||(ac.postMessage(fb,yc),setTimeout(Fb,250),--Zc)}const ac=la.open(Qa),{origin:yc}=new URL(Qa);let Zc=40;la.addEventListener("message",xb,!1);setTimeout(Fb,250)}function R(la){for(var Qa=arguments.length,fb=Array(1<Qa?Qa-1:0),xb=1;xb<Qa;xb++)fb[xb-1]=arguments[xb];for(const Fb of fb){Qa=
la;fb=Fb;for(const ac of Object.keys(fb))k.writeConfig(Qa,ac,fb[ac],!0)}return la}function J(la,Qa,fb,xb){Qa="\x3chtml\x3e\x3chead\x3e".concat(Qa,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');fb="\x3c/code\x3e\x3c/pre\x3e".concat(fb,"\x3c/body\x3e\x3c/html\x3e");const Fb=window.open("");Fb.document.write(Qa+la+fb);Fb.document.title="".concat(ua[xb]," JSON Source")}function r(la,Qa){if(la.$schema){la=L(la.$schema);if(Qa&&Qa!==la.library){var fb;console.warn("The given visualization spec is written in ".concat(ua[la.library],
", but mode argument sets ").concat(null!==(fb=ua[Qa])&&void 0!==fb?fb:Qa,"."))}Qa=la.library;xe(vb[Qa],"^".concat(la.version.slice(1)))||console.warn("The input spec uses ".concat(ua[Qa]," ").concat(la.version,", but the current version of ").concat(ua[Qa]," is v").concat(vb[Qa],"."));return Qa}return"mark"in la||"encoding"in la||"layer"in la||"hconcat"in la||"vconcat"in la||"facet"in la||"repeat"in la?"vega-lite":"marks"in la||"signals"in la||"scales"in la||"axes"in la?"vega":null!==Qa&&void 0!==
Qa?Qa:"vega"}function C(la){return la&&"load"in la?la:Vd.loader(la)}function N(la,Qa){const fb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var xb,Fb,ac=2<fb.length&&void 0!==fb[2]?fb[2]:{};let yc,Zc;k.isString(Qa)?(Zc=C(ac.loader),yc=JSON.parse(yield Zc.load(Qa))):yc=Qa;var ad,Lc,Ec=null!==(ad=null===(Lc=yc.usermeta)||void 0===Lc?void 0:Lc.embedOptions)&&void 0!==ad?ad:{};k.isString(Ec.defaultStyle)&&(Ec.defaultStyle=!1);ad=Ec.loader;if(!Zc||ad){var tc;Zc=C(null!==(tc=
ac.loader)&&void 0!==tc?tc:ad)}Ec=yield U(Ec,Zc);ac=yield U(ac,Zc);ac=Object.assign({},R(ac,Ec),{config:k.mergeConfig(null!==(xb=ac.config)&&void 0!==xb?xb:{},null!==(Fb=Ec.config)&&void 0!==Fb?Fb:{})});return yield ba(la,yc,ac,Zc)})}function U(la,Qa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var fb;const xb=k.isString(la.config)?JSON.parse(yield Qa.load(la.config)):null!==(fb=la.config)&&void 0!==fb?fb:{};fb=k.isString(la.patch)?JSON.parse(yield Qa.load(la.patch)):la.patch;
return Object.assign({},la,fb?{patch:fb}:{},xb?{config:xb}:{})})}function ja(la){var Qa;la=la.getRootNode?la.getRootNode():document;return la instanceof ShadowRoot?{root:la,rootContainer:la}:{root:document,rootContainer:null!==(Qa=document.head)&&void 0!==Qa?Qa:document.body}}function ba(la,Qa){const fb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var xb,Fb,ac,yc,Zc,ad,Lc;let Ec=2<fb.length&&void 0!==fb[2]?fb[2]:{};var tc=3<fb.length?fb[3]:void 0;const Nc=Ec.theme?k.mergeConfig(Ff[Ec.theme],
null!==(xb=Ec.config)&&void 0!==xb?xb:{}):Ec.config;xb=k.isBoolean(Ec.actions)?Ec.actions:R({},cf,null!==(Fb=Ec.actions)&&void 0!==Fb?Fb:{});Fb=Object.assign({},qf,Ec.i18n);const mc=null!==(ac=Ec.renderer)&&void 0!==ac?ac:"canvas";ac=null!==(yc=Ec.logLevel)&&void 0!==yc?yc:Vd.Warn;yc=null!==(Zc=Ec.downloadFileName)&&void 0!==Zc?Zc:"visualization";Zc="string"===typeof la?document.querySelector(la):la;if(!Zc)throw Error("".concat(la," does not exist"));if(!1!==Ec.defaultStyle){const {root:Jb,rootContainer:Nb}=
ja(Zc);if(!Jb.getElementById("vega-embed-style")){var Qc=document.createElement("style");Qc.id="vega-embed-style";Qc.innerHTML=void 0===Ec.defaultStyle||!0===Ec.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid #0000;\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid #0000;\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
Ec.defaultStyle;Nb.appendChild(Qc)}}const jb=r(Qa,Ec.mode);let Ib=Oa[jb](Qa,Nc);"vega-lite"===jb&&Ib.$schema&&(Qc=L(Ib.$schema),xe(vb.vega,"^".concat(Qc.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(Qc.version,", but current version is v").concat(vb.vega,".")));Zc.classList.add("vega-embed");xb&&Zc.classList.add("has-actions");Zc.innerHTML="";let Qb=Zc;xb&&(Qc=document.createElement("div"),Qc.classList.add("chart-wrapper"),Zc.appendChild(Qc),Qb=Qc);(Qc=Ec.patch)&&(Ib=Qc instanceof
Function?Qc(Ib):e(Ib,Qc,!0,!1).newDocument);Ec.formatLocale&&Vd.formatLocale(Ec.formatLocale);Ec.timeFormatLocale&&Vd.timeFormatLocale(Ec.timeFormatLocale);({ast:Qc}=Ec);const Rb=Vd.parse(Ib,"vega-lite"===jb?{}:Nc,{ast:Qc}),na=new (Ec.viewClass||Vd.View)(Rb,Object.assign({},{loader:tc,logLevel:ac,renderer:mc},Qc?{expr:null!==(ad=null!==(Lc=Vd.expressionInterpreter)&&void 0!==Lc?Lc:Ec.expr)&&void 0!==ad?ad:hf}:{}));na.addSignalListener("autosize",(Jb,Nb)=>{({type:Jb}=Nb);"fit-x"==Jb?(Qb.classList.add("fit-x"),
Qb.classList.remove("fit-y")):"fit-y"==Jb?(Qb.classList.remove("fit-x"),Qb.classList.add("fit-y")):"fit"==Jb?Qb.classList.add("fit-x","fit-y"):Qb.classList.remove("fit-x","fit-y")});!1!==Ec.tooltip&&(ad="function"===typeof Ec.tooltip?Ec.tooltip:(new ie(!0===Ec.tooltip?{}:Ec.tooltip)).call,na.tooltip(ad));({hover:ad}=Ec);void 0===ad&&(ad="vega"===jb);if(ad){const {hoverSet:Jb,updateSet:Nb}="boolean"===typeof ad?{}:ad;na.hover(Jb,Nb)}Ec&&(null!=Ec.width&&na.width(Ec.width),null!=Ec.height&&na.height(Ec.height),
null!=Ec.padding&&na.padding(Ec.padding));yield na.initialize(Qb,Ec.bind).runAsync();let Ma;if(!1!==xb){Lc=Zc;if(!1!==Ec.defaultStyle){const Jb=document.createElement("details");Jb.title=Fb.CLICK_TO_VIEW_ACTIONS;Zc.append(Jb);Lc=Jb;ad=document.createElement("summary");ad.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Jb.append(ad);Ma=Nb=>{Jb.contains(Nb.target)||Jb.removeAttribute("open")};document.addEventListener("click",Ma)}ad=document.createElement("div");Lc.append(ad);ad.classList.add("vega-actions");if(!0===xb||!1!==xb.export)for(const Jb of["svg","png"])if(!0===xb||!0===xb.export||xb.export[Jb])Lc=Fb["".concat(Jb.toUpperCase(),"_ACTION")],tc=document.createElement("a"),tc.text=Lc,tc.href="#",tc.target="_blank",tc.download="".concat(yc,".").concat(Jb),tc.addEventListener("mousedown",function(Nb){const Lb=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Nb.preventDefault();const pc=yield na.toImageURL(Jb,Ec.scaleFactor);Lb.href=pc})}),ad.append(tc);if(!0===xb||!1!==xb.source)yc=document.createElement("a"),yc.text=Fb.SOURCE_ACTION,yc.href="#",yc.addEventListener("click",function(Jb){var Nb,Lb;J(Na(Qa),null!==(Nb=Ec.sourceHeader)&&void 0!==Nb?Nb:"",null!==(Lb=Ec.sourceFooter)&&void 0!==Lb?Lb:"",jb);Jb.preventDefault()}),ad.append(yc);"vega-lite"!==jb||!0!==xb&&!1===xb.compiled||(yc=
document.createElement("a"),yc.text=Fb.COMPILED_ACTION,yc.href="#",yc.addEventListener("click",function(Jb){var Nb,Lb;J(Na(Ib),null!==(Nb=Ec.sourceHeader)&&void 0!==Nb?Nb:"",null!==(Lb=Ec.sourceFooter)&&void 0!==Lb?Lb:"","vega");Jb.preventDefault()}),ad.append(yc));if(!0===xb||!1!==xb.editor){var lb;const Jb=null!==(lb=Ec.editorUrl)&&void 0!==lb?lb:"https://vega.github.io/editor/";lb=document.createElement("a");lb.text=Fb.EDITOR_ACTION;lb.href="#";lb.addEventListener("click",function(Nb){T(window,
Jb,{config:Nc,mode:jb,renderer:mc,spec:Na(Qa)});Nb.preventDefault()});ad.append(lb)}}return{view:na,spec:Qa,vgSpec:Ib,finalize:function(){Ma&&document.removeEventListener("click",Ma);na.finalize()},embedOptions:Ec}})}function ia(la){const Qa=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var fb;let xb=1<Qa.length&&void 0!==Qa[1]?Qa[1]:{};const Fb=document.createElement("div");Fb.classList.add("vega-embed-wrapper");const ac=document.createElement("div");Fb.appendChild(ac);
const yc=!0===xb.actions||!1===xb.actions?xb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(fb=xb.actions)&&void 0!==fb?fb:{});fb=yield N(ac,la,Object.assign({},{actions:yc},null!==xb&&void 0!==xb?xb:{}));Fb.value=fb.view;return Fb})}var za=A(k),Wa=A(p),hb=function(){var la=function(Qa,fb){la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(xb,Fb){xb.__proto__=Fb}||function(xb,Fb){for(var ac in Fb)Fb.hasOwnProperty(ac)&&(xb[ac]=Fb[ac])};return la(Qa,fb)};
return function(Qa,fb){function xb(){this.constructor=Qa}la(Qa,fb);Qa.prototype=null===fb?Object.create(fb):(xb.prototype=fb.prototype,new xb)}}(),Ja=Object.prototype.hasOwnProperty,qa=function(la){function Qa(fb,xb,Fb,ac,yc){var Zc=this.constructor,ad=la.call(this,b(fb,{name:xb,index:Fb,operation:ac,tree:yc}))||this;ad.name=xb;ad.index=Fb;ad.operation=ac;ad.tree=yc;Object.setPrototypeOf(ad,Zc.prototype);ad.message=b(fb,{name:xb,index:Fb,operation:ac,tree:yc});return ad}hb(Qa,la);return Qa}(Error),
Da=qa,va={add:function(la,Qa,fb){la[Qa]=this.value;return{newDocument:fb}},remove:function(la,Qa,fb){var xb=la[Qa];delete la[Qa];return{newDocument:fb,removed:xb}},replace:function(la,Qa,fb){var xb=la[Qa];la[Qa]=this.value;return{newDocument:fb,removed:xb}},move:function(la,Qa,fb){(la=c(fb,this.path))&&(la=m(la));Qa=a(fb,{op:"remove",path:this.from}).removed;a(fb,{op:"add",path:this.path,value:Qa});return{newDocument:fb,removed:la}},copy:function(la,Qa,fb){la=c(fb,this.from);a(fb,{op:"add",path:this.path,
value:m(la)});return{newDocument:fb}},test:function(la,Qa,fb){return{newDocument:fb,test:q(la[Qa],this.value)}},_get:function(la,Qa,fb){this.value=la[Qa];return{newDocument:fb}}},sa={add:function(la,Qa,fb){l(Qa)?la.splice(Qa,0,this.value):la[Qa]=this.value;return{newDocument:fb,index:Qa}},remove:function(la,Qa,fb){la=la.splice(Qa,1);return{newDocument:fb,removed:la[0]}},replace:function(la,Qa,fb){var xb=la[Qa];la[Qa]=this.value;return{newDocument:fb,removed:xb}},move:va.move,copy:va.copy,test:va.test,
_get:va._get},xa=Object.freeze({__proto__:null,JsonPatchError:Da,deepClone:m,getValueByPointer:c,applyOperation:a,applyPatch:e,applyReducer:function(la,Qa,fb){var xb=a(la,Qa);if(!1===xb.test)throw new Da("Test operation failed","TEST_OPERATION_FAILED",fb,Qa,la);return xb.newDocument},validator:t,validate:y,_areEquals:q}),ma=new WeakMap,Ea=function(){return function(la){this.observers=new Map;this.obj=la}}(),Ua=function(){return function(la,Qa){this.callback=la;this.observer=Qa}}(),ab=Object.freeze({__proto__:null,
unobserve:function(la,Qa){Qa.unobserve()},observe:function(la,Qa){var fb=ma.get(la);if(fb){var xb=fb.observers.get(Qa);var Fb=xb&&xb.observer}else fb=new Ea(la),ma.set(la,fb);if(Fb)return Fb;Fb={};fb.value=m(la);if(Qa){Fb.callback=Qa;Fb.next=null;var ac=function(){E(Fb)},yc=function(){clearTimeout(Fb.next);Fb.next=setTimeout(ac)};"undefined"!==typeof window&&(window.addEventListener("mouseup",yc),window.addEventListener("keyup",yc),window.addEventListener("mousedown",yc),window.addEventListener("keydown",
yc),window.addEventListener("change",yc))}Fb.patches=[];Fb.object=la;Fb.unobserve=function(){E(Fb);clearTimeout(Fb.next);fb.observers.delete(Fb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",yc),window.removeEventListener("keyup",yc),window.removeEventListener("mousedown",yc),window.removeEventListener("keydown",yc),window.removeEventListener("change",yc))};fb.observers.set(Qa,new Ua(Qa,Fb));return Fb},generate:E,compare:function(la,Qa,fb){void 0===fb&&(fb=!1);var xb=
[];F(la,Qa,xb,"",fb);return xb}});Object.assign({},xa,ab,{JsonPatchError:qa,deepClone:m,escapePathComponent:f,unescapePathComponent:g});var ta=/("(?:[^\\"]|\\.)*")|[:,]/g,Na=function(la,Qa){Qa=Qa||{};var fb=JSON.stringify([1],void 0,void 0===Qa.indent?2:Qa.indent).slice(2,-3);var xb=""===fb?Infinity:void 0===Qa.maxLength?80:Qa.maxLength;var Fb=Qa.replacer;return function Lc(yc,Zc,ad){yc&&"function"===typeof yc.toJSON&&(yc=yc.toJSON());var Ec=JSON.stringify(yc,Fb);if(void 0===Ec)return Ec;ad=xb-Zc.length-
ad;if(Ec.length<=ad){var tc=Ec.replace(ta,function(na,Ma){return Ma||na+" "});if(tc.length<=ad)return tc}null!=Fb&&(yc=JSON.parse(Ec),Fb=void 0);if("object"===typeof yc&&null!==yc){var Nc=Zc+fb;var mc=[];var Qc=0;if(Array.isArray(yc)){var jb="[";tc="]";for(ad=yc.length;Qc<ad;Qc++)mc.push(Lc(yc[Qc],Nc,Qc===ad-1?0:1)||"null")}else{jb="{";tc="}";var Ib=Object.keys(yc);for(ad=Ib.length;Qc<ad;Qc++){var Qb=Ib[Qc];var Rb=JSON.stringify(Qb)+": ";Qb=Lc(yc[Qb],Nc,Rb.length+(Qc===ad-1?0:1));void 0!==Qb&&mc.push(Rb+
Qb)}}if(0<mc.length)return[jb,fb+mc.join(",\n"+Nc),tc].join("\n"+Zc)}return Ec}(la,"",0)};w.Node=D;w.create=w;w.prototype.removeNode=function(la){if(la.list!==this)throw Error("removing node which does not belong to this list");var Qa=la.next,fb=la.prev;Qa&&(Qa.prev=fb);fb&&(fb.next=Qa);la===this.head&&(this.head=Qa);la===this.tail&&(this.tail=fb);la.list.length--;la.next=null;la.prev=null;la.list=null;return Qa};w.prototype.unshiftNode=function(la){if(la!==this.head){la.list&&la.list.removeNode(la);
var Qa=this.head;la.list=this;if(la.next=Qa)Qa.prev=la;this.head=la;this.tail||(this.tail=la);this.length++}};w.prototype.pushNode=function(la){if(la!==this.tail){la.list&&la.list.removeNode(la);var Qa=this.tail;la.list=this;if(la.prev=Qa)Qa.next=la;this.tail=la;this.head||(this.head=la);this.length++}};w.prototype.push=function(){for(var la=0,Qa=arguments.length;la<Qa;la++)this.tail=new D(arguments[la],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};w.prototype.unshift=
function(){for(var la=0,Qa=arguments.length;la<Qa;la++)this.head=new D(arguments[la],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};w.prototype.pop=function(){if(this.tail){var la=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return la}};w.prototype.shift=function(){if(this.head){var la=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return la}};w.prototype.forEach=function(la,
Qa){Qa=Qa||this;for(var fb=this.head,xb=0;null!==fb;xb++)la.call(Qa,fb.value,xb,this),fb=fb.next};w.prototype.forEachReverse=function(la,Qa){Qa=Qa||this;for(var fb=this.tail,xb=this.length-1;null!==fb;xb--)la.call(Qa,fb.value,xb,this),fb=fb.prev};w.prototype.get=function(la){for(var Qa=0,fb=this.head;null!==fb&&Qa<la;Qa++)fb=fb.next;if(Qa===la&&null!==fb)return fb.value};w.prototype.getReverse=function(la){for(var Qa=0,fb=this.tail;null!==fb&&Qa<la;Qa++)fb=fb.prev;if(Qa===la&&null!==fb)return fb.value};
w.prototype.map=function(la,Qa){Qa=Qa||this;for(var fb=new w,xb=this.head;null!==xb;)fb.push(la.call(Qa,xb.value,this)),xb=xb.next;return fb};w.prototype.mapReverse=function(la,Qa){Qa=Qa||this;for(var fb=new w,xb=this.tail;null!==xb;)fb.push(la.call(Qa,xb.value,this)),xb=xb.prev;return fb};w.prototype.reduce=function(la,Qa){var fb=this.head;if(1<arguments.length)var xb=Qa;else if(this.head)fb=this.head.next,xb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");
for(var Fb=0;null!==fb;Fb++)xb=la(xb,fb.value,Fb),fb=fb.next;return xb};w.prototype.reduceReverse=function(la,Qa){var fb=this.tail;if(1<arguments.length)var xb=Qa;else if(this.tail)fb=this.tail.prev,xb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Fb=this.length-1;null!==fb;Fb--)xb=la(xb,fb.value,Fb),fb=fb.prev;return xb};w.prototype.toArray=function(){for(var la=Array(this.length),Qa=0,fb=this.head;null!==fb;Qa++)la[Qa]=fb.value,fb=fb.next;return la};
w.prototype.toArrayReverse=function(){for(var la=Array(this.length),Qa=0,fb=this.tail;null!==fb;Qa++)la[Qa]=fb.value,fb=fb.prev;return la};w.prototype.slice=function(la,Qa){Qa=Qa||this.length;0>Qa&&(Qa+=this.length);la=la||0;0>la&&(la+=this.length);var fb=new w;if(Qa<la||0>Qa)return fb;0>la&&(la=0);Qa>this.length&&(Qa=this.length);for(var xb=0,Fb=this.head;null!==Fb&&xb<la;xb++)Fb=Fb.next;for(;null!==Fb&&xb<Qa;xb++,Fb=Fb.next)fb.push(Fb.value);return fb};w.prototype.sliceReverse=function(la,Qa){Qa=
Qa||this.length;0>Qa&&(Qa+=this.length);la=la||0;0>la&&(la+=this.length);var fb=new w;if(Qa<la||0>Qa)return fb;0>la&&(la=0);Qa>this.length&&(Qa=this.length);for(var xb=this.length,Fb=this.tail;null!==Fb&&xb>Qa;xb--)Fb=Fb.prev;for(;null!==Fb&&xb>la;xb--,Fb=Fb.prev)fb.push(Fb.value);return fb};w.prototype.splice=function(la,Qa){la>this.length&&(la=this.length-1);0>la&&(la=this.length+la);for(var fb=0,xb=this.head;null!==xb&&fb<la;fb++)xb=xb.next;var Fb=[];for(fb=0;xb&&fb<Qa;fb++)Fb.push(xb.value),xb=
this.removeNode(xb);null===xb&&(xb=this.tail);xb!==this.head&&xb!==this.tail&&(xb=xb.prev);for(fb=0;fb<(2>=arguments.length?0:arguments.length-2);fb++){var ac=2>fb+2||arguments.length<=fb+2?void 0:arguments[fb+2];xb=xb===this.head?new D(ac,null,xb,this):new D(ac,xb,xb.next,this);null===xb.next&&(this.tail=xb);null===xb.prev&&(this.head=xb);this.length++}return Fb};w.prototype.reverse=function(){for(var la=this.head,Qa=this.tail,fb=la;null!==fb;fb=fb.prev){var xb=fb.prev;fb.prev=fb.next;fb.next=xb}this.head=
Qa;this.tail=la;return this};try{w.prototype[Symbol.iterator]=function*(){for(let la=this.head;la;la=la.next)yield la.value}}catch(la){}const oa=Symbol("max"),aa=Symbol("length"),ka=Symbol("lengthCalculator"),Ia=Symbol("allowStale"),Xa=Symbol("maxAge"),Ya=Symbol("dispose"),mb=Symbol("noDisposeOnSet"),ib=Symbol("lruList"),Eb=Symbol("cache"),Zb=Symbol("updateAgeOnGet"),Gc=()=>1;class xc{constructor(la){"number"===typeof la&&(la={max:la});la||(la={});if(la.max&&("number"!==typeof la.max||0>la.max))throw new TypeError("max must be a non-negative number");
this[oa]=la.max||Infinity;const Qa=la.length||Gc;this[ka]="function"!==typeof Qa?Gc:Qa;this[Ia]=la.stale||!1;if(la.maxAge&&"number"!==typeof la.maxAge)throw new TypeError("maxAge must be a number");this[Xa]=la.maxAge||0;this[Ya]=la.dispose;this[mb]=la.noDisposeOnSet||!1;this[Zb]=la.updateAgeOnGet||!1;this.reset()}set max(la){if("number"!==typeof la||0>la)throw new TypeError("max must be a non-negative number");this[oa]=la||Infinity;jd(this)}get max(){return this[oa]}set allowStale(la){this[Ia]=!!la}get allowStale(){return this[Ia]}set maxAge(la){if("number"!==
typeof la)throw new TypeError("maxAge must be a non-negative number");this[Xa]=la;jd(this)}get maxAge(){return this[Xa]}set lengthCalculator(la){"function"!==typeof la&&(la=Gc);la!==this[ka]&&(this[ka]=la,this[aa]=0,this[ib].forEach(Qa=>{Qa.length=this[ka](Qa.value,Qa.key);this[aa]+=Qa.length}));jd(this)}get lengthCalculator(){return this[ka]}get length(){return this[aa]}get itemCount(){return this[ib].length}rforEach(la,Qa){Qa=Qa||this;for(let fb=this[ib].tail;null!==fb;){const xb=fb.prev;dc(this,
la,fb,Qa);fb=xb}}forEach(la,Qa){Qa=Qa||this;for(let fb=this[ib].head;null!==fb;){const xb=fb.next;dc(this,la,fb,Qa);fb=xb}}keys(){return this[ib].toArray().map(la=>la.key)}values(){return this[ib].toArray().map(la=>la.value)}reset(){this[Ya]&&this[ib]&&this[ib].length&&this[ib].forEach(la=>this[Ya](la.key,la.value));this[Eb]=new Map;this[ib]=new w;this[aa]=0}dump(){return this[ib].map(la=>rc(this,la)?!1:{k:la.key,v:la.value,e:la.now+(la.maxAge||0)}).toArray().filter(la=>la)}dumpLru(){return this[ib]}set(la,
Qa,fb){if((fb=fb||this[Xa])&&"number"!==typeof fb)throw new TypeError("maxAge must be a number");const xb=fb?Date.now():0,Fb=this[ka](Qa,la);if(this[Eb].has(la)){if(Fb>this[oa])return Bb(this,this[Eb].get(la)),!1;const ac=this[Eb].get(la).value;if(this[Ya]&&!this[mb])this[Ya](la,ac.value);ac.now=xb;ac.maxAge=fb;ac.value=Qa;this[aa]+=Fb-ac.length;ac.length=Fb;this.get(la);jd(this);return!0}fb=new tb(la,Qa,Fb,xb,fb);if(fb.length>this[oa]){if(this[Ya])this[Ya](la,Qa);return!1}this[aa]+=fb.length;this[ib].unshift(fb);
this[Eb].set(la,this[ib].head);jd(this);return!0}has(la){if(!this[Eb].has(la))return!1;la=this[Eb].get(la).value;return!rc(this,la)}get(la){return Ic(this,la,!0)}peek(la){return Ic(this,la,!1)}pop(){const la=this[ib].tail;if(!la)return null;Bb(this,la);return la.value}del(la){Bb(this,this[Eb].get(la))}load(la){this.reset();const Qa=Date.now();for(let xb=la.length-1;0<=xb;xb--){const Fb=la[xb];var fb=Fb.e||0;0===fb?this.set(Fb.k,Fb.v):(fb-=Qa,0<fb&&this.set(Fb.k,Fb.v,fb))}}prune(){this[Eb].forEach((la,
Qa)=>Ic(this,Qa,!1))}}const Ic=(la,Qa,fb)=>{if(Qa=la[Eb].get(Qa)){const xb=Qa.value;if(rc(la,xb)){if(Bb(la,Qa),!la[Ia])return}else fb&&(la[Zb]&&(Qa.value.now=Date.now()),la[ib].unshiftNode(Qa));return xb.value}},rc=(la,Qa)=>{if(!Qa||!Qa.maxAge&&!la[Xa])return!1;const fb=Date.now()-Qa.now;return Qa.maxAge?fb>Qa.maxAge:la[Xa]&&fb>la[Xa]},jd=la=>{if(la[aa]>la[oa])for(let Qa=la[ib].tail;la[aa]>la[oa]&&null!==Qa;){const fb=Qa.prev;Bb(la,Qa);Qa=fb}},Bb=(la,Qa)=>{if(Qa){const fb=Qa.value;if(la[Ya])la[Ya](fb.key,
fb.value);la[aa]-=fb.length;la[Eb].delete(fb.key);la[ib].removeNode(Qa)}};class tb{constructor(la,Qa,fb,xb,Fb){this.key=la;this.value=Qa;this.length=fb;this.now=xb;this.maxAge=Fb||0}}const dc=(la,Qa,fb,xb)=>{let Fb=fb.value;rc(la,Fb)&&(Bb(la,fb),la[Ia]||(Fb=void 0));Fb&&Qa.call(xb,Fb.value,Fb.key,la)};var Yb=xc;const hc=["includePrerelease","loose","rtl"];var vc=la=>la?"object"!==typeof la?{loose:!0}:hc.filter(Qa=>la[Qa]).reduce((Qa,fb)=>{Qa[fb]=!0;return Qa},{}):{},qc={exports:{}},Dc={SEMVER_SPEC_VERSION:"2.0.0",
MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Yc="object"===typeof v&&v.env&&v.env.NODE_DEBUG&&/\bsemver\b/i.test(v.env.NODE_DEBUG)?function(){for(var la=arguments.length,Qa=Array(la),fb=0;fb<la;fb++)Qa[fb]=arguments[fb];return console.error("SEMVER",...Qa)}:()=>{};(function(la,Qa){const {MAX_SAFE_COMPONENT_LENGTH:fb}=Dc;Qa=la.exports={};const xb=Qa.re=[],Fb=Qa.src=[],ac=Qa.t={};let yc=0;la=(Zc,ad,Lc)=>{const Ec=yc++;Yc(Ec,ad);ac[Zc]=Ec;Fb[Ec]=
ad;xb[Ec]=new RegExp(ad,Lc?"g":void 0)};la("NUMERICIDENTIFIER","0|[1-9]\\d*");la("NUMERICIDENTIFIERLOOSE","[0-9]+");la("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");la("MAINVERSION","(".concat(Fb[ac.NUMERICIDENTIFIER],")\\.")+"(".concat(Fb[ac.NUMERICIDENTIFIER],")\\.")+"(".concat(Fb[ac.NUMERICIDENTIFIER],")"));la("MAINVERSIONLOOSE","(".concat(Fb[ac.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Fb[ac.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Fb[ac.NUMERICIDENTIFIERLOOSE],")"));la("PRERELEASEIDENTIFIER",
"(?:".concat(Fb[ac.NUMERICIDENTIFIER],"|").concat(Fb[ac.NONNUMERICIDENTIFIER],")"));la("PRERELEASEIDENTIFIERLOOSE","(?:".concat(Fb[ac.NUMERICIDENTIFIERLOOSE],"|").concat(Fb[ac.NONNUMERICIDENTIFIER],")"));la("PRERELEASE","(?:-(".concat(Fb[ac.PRERELEASEIDENTIFIER],"(?:\\.").concat(Fb[ac.PRERELEASEIDENTIFIER],")*))"));la("PRERELEASELOOSE","(?:-?(".concat(Fb[ac.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(Fb[ac.PRERELEASEIDENTIFIERLOOSE],")*))"));la("BUILDIDENTIFIER","[0-9A-Za-z-]+");la("BUILD","(?:\\+(".concat(Fb[ac.BUILDIDENTIFIER],
"(?:\\.").concat(Fb[ac.BUILDIDENTIFIER],")*))"));la("FULLPLAIN","v?".concat(Fb[ac.MAINVERSION]).concat(Fb[ac.PRERELEASE],"?").concat(Fb[ac.BUILD],"?"));la("FULL","^".concat(Fb[ac.FULLPLAIN],"$"));la("LOOSEPLAIN","[v\x3d\\s]*".concat(Fb[ac.MAINVERSIONLOOSE]).concat(Fb[ac.PRERELEASELOOSE],"?").concat(Fb[ac.BUILD],"?"));la("LOOSE","^".concat(Fb[ac.LOOSEPLAIN],"$"));la("GTLT","((?:\x3c|\x3e)?\x3d?)");la("XRANGEIDENTIFIERLOOSE","".concat(Fb[ac.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));la("XRANGEIDENTIFIER",
"".concat(Fb[ac.NUMERICIDENTIFIER],"|x|X|\\*"));la("XRANGEPLAIN","[v\x3d\\s]*(".concat(Fb[ac.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Fb[ac.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Fb[ac.XRANGEIDENTIFIER],")")+"(?:".concat(Fb[ac.PRERELEASE],")?").concat(Fb[ac.BUILD],"?")+")?)?");la("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(Fb[ac.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Fb[ac.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Fb[ac.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(Fb[ac.PRERELEASELOOSE],")?").concat(Fb[ac.BUILD],
"?")+")?)?");la("XRANGE","^".concat(Fb[ac.GTLT],"\\s*").concat(Fb[ac.XRANGEPLAIN],"$"));la("XRANGELOOSE","^".concat(Fb[ac.GTLT],"\\s*").concat(Fb[ac.XRANGEPLAINLOOSE],"$"));la("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(fb,"})")+"(?:\\.(\\d{1,".concat(fb,"}))?")+"(?:\\.(\\d{1,".concat(fb,"}))?")+"(?:$|[^\\d])");la("COERCERTL",Fb[ac.COERCE],!0);la("LONETILDE","(?:~\x3e?)");la("TILDETRIM","(\\s*)".concat(Fb[ac.LONETILDE],"\\s+"),!0);Qa.tildeTrimReplace="$1~";la("TILDE","^".concat(Fb[ac.LONETILDE]).concat(Fb[ac.XRANGEPLAIN],
"$"));la("TILDELOOSE","^".concat(Fb[ac.LONETILDE]).concat(Fb[ac.XRANGEPLAINLOOSE],"$"));la("LONECARET","(?:\\^)");la("CARETTRIM","(\\s*)".concat(Fb[ac.LONECARET],"\\s+"),!0);Qa.caretTrimReplace="$1^";la("CARET","^".concat(Fb[ac.LONECARET]).concat(Fb[ac.XRANGEPLAIN],"$"));la("CARETLOOSE","^".concat(Fb[ac.LONECARET]).concat(Fb[ac.XRANGEPLAINLOOSE],"$"));la("COMPARATORLOOSE","^".concat(Fb[ac.GTLT],"\\s*(").concat(Fb[ac.LOOSEPLAIN],")$|^$"));la("COMPARATOR","^".concat(Fb[ac.GTLT],"\\s*(").concat(Fb[ac.FULLPLAIN],
")$|^$"));la("COMPARATORTRIM","(\\s*)".concat(Fb[ac.GTLT],"\\s*(").concat(Fb[ac.LOOSEPLAIN],"|").concat(Fb[ac.XRANGEPLAIN],")"),!0);Qa.comparatorTrimReplace="$1$2$3";la("HYPHENRANGE","^\\s*(".concat(Fb[ac.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(Fb[ac.XRANGEPLAIN],")")+"\\s*$");la("HYPHENRANGELOOSE","^\\s*(".concat(Fb[ac.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(Fb[ac.XRANGEPLAINLOOSE],")")+"\\s*$");la("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");la("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");la("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")})(qc,
qc.exports);const Hd=/^[0-9]+$/,Fa=(la,Qa)=>{const fb=Hd.test(la),xb=Hd.test(Qa);fb&&xb&&(la=+la,Qa=+Qa);return la===Qa?0:fb&&!xb?-1:xb&&!fb?1:la<Qa?-1:1};var Ca={compareIdentifiers:Fa,rcompareIdentifiers:(la,Qa)=>Fa(Qa,la)};const {MAX_LENGTH:Ha,MAX_SAFE_INTEGER:db}=Dc,{re:ob,t:Ab}=qc.exports,{compareIdentifiers:Ob}=Ca;class Ub{constructor(la,Qa){Qa=vc(Qa);if(la instanceof Ub){if(la.loose===!!Qa.loose&&la.includePrerelease===!!Qa.includePrerelease)return la;la=la.version}else if("string"!==typeof la)throw new TypeError("Invalid Version: ".concat(la));
if(la.length>Ha)throw new TypeError("version is longer than ".concat(Ha," characters"));Yc("SemVer",la,Qa);this.options=Qa;this.loose=!!Qa.loose;this.includePrerelease=!!Qa.includePrerelease;Qa=la.trim().match(Qa.loose?ob[Ab.LOOSE]:ob[Ab.FULL]);if(!Qa)throw new TypeError("Invalid Version: ".concat(la));this.raw=la;this.major=+Qa[1];this.minor=+Qa[2];this.patch=+Qa[3];if(this.major>db||0>this.major)throw new TypeError("Invalid major version");if(this.minor>db||0>this.minor)throw new TypeError("Invalid minor version");
if(this.patch>db||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=Qa[4]?Qa[4].split(".").map(fb=>{if(/^[0-9]+$/.test(fb)){const xb=+fb;if(0<=xb&&xb<db)return xb}return fb}):[];this.build=Qa[5]?Qa[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(la){Yc("SemVer.compare",
this.version,this.options,la);if(!(la instanceof Ub)){if("string"===typeof la&&la===this.version)return 0;la=new Ub(la,this.options)}return la.version===this.version?0:this.compareMain(la)||this.comparePre(la)}compareMain(la){la instanceof Ub||(la=new Ub(la,this.options));return Ob(this.major,la.major)||Ob(this.minor,la.minor)||Ob(this.patch,la.patch)}comparePre(la){la instanceof Ub||(la=new Ub(la,this.options));if(this.prerelease.length&&!la.prerelease.length)return-1;if(!this.prerelease.length&&
la.prerelease.length)return 1;if(!this.prerelease.length&&!la.prerelease.length)return 0;let Qa=0;do{const fb=this.prerelease[Qa],xb=la.prerelease[Qa];Yc("prerelease compare",Qa,fb,xb);if(void 0===fb&&void 0===xb)return 0;if(void 0===xb)return 1;if(void 0===fb)return-1;if(fb!==xb)return Ob(fb,xb)}while(++Qa)}compareBuild(la){la instanceof Ub||(la=new Ub(la,this.options));let Qa=0;do{const fb=this.build[Qa],xb=la.build[Qa];Yc("prerelease compare",Qa,fb,xb);if(void 0===fb&&void 0===xb)return 0;if(void 0===
xb)return 1;if(void 0===fb)return-1;if(fb!==xb)return Ob(fb,xb)}while(++Qa)}inc(la,Qa){switch(la){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Qa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Qa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Qa);this.inc("pre",Qa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Qa);this.inc("pre",Qa);break;case "major":0===this.minor&&0===
this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(la=this.prerelease.length;0<=--la;)"number"===typeof this.prerelease[la]&&(this.prerelease[la]++,la=-2);-1===la&&this.prerelease.push(0)}Qa&&(this.prerelease[0]===
Qa?isNaN(this.prerelease[1])&&(this.prerelease=[Qa,0]):this.prerelease=[Qa,0]);break;default:throw Error("invalid increment argument: ".concat(la));}this.format();this.raw=this.version;return this}}var $b=Ub,Jc=(la,Qa,fb)=>(new $b(la,fb)).compare(new $b(Qa,fb));const Wc=Symbol("SemVer ANY");class dd{static get ANY(){return Wc}constructor(la,Qa){Qa=rd(Qa);if(la instanceof dd){if(la.loose===!!Qa.loose)return la;la=la.value}be("comparator",la,Qa);this.options=Qa;this.loose=!!Qa.loose;this.parse(la);
this.value=this.semver===Wc?"":this.operator+this.semver.version;be("comp",this)}parse(la){const Qa=la.match(this.options.loose?Kd[Nd.COMPARATORLOOSE]:Kd[Nd.COMPARATOR]);if(!Qa)throw new TypeError("Invalid comparator: ".concat(la));this.operator=void 0!==Qa[1]?Qa[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Qa[2]?new ce(Qa[2],this.options.loose):Wc}toString(){return this.value}test(la){be("Comparator.test",la,this.options.loose);if(this.semver===Wc||la===Wc)return!0;if("string"===
typeof la)try{la=new ce(la,this.options)}catch(Qa){return!1}return fe(la,this.operator,this.semver,this.options)}intersects(la,Qa){if(!(la instanceof dd))throw new TypeError("a Comparator is required");Qa&&"object"===typeof Qa||(Qa={loose:!!Qa,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Td(la.value,Qa)).test(this.value);if(""===la.operator)return""===la.value?!0:(new Td(this.value,Qa)).test(la.semver);const fb=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===
la.operator||"\x3e"===la.operator),xb=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===la.operator||"\x3c"===la.operator),Fb=this.semver.version===la.semver.version,ac=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===la.operator||"\x3c\x3d"===la.operator),yc=fe(this.semver,"\x3c",la.semver,Qa)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===la.operator||"\x3c"===la.operator);la=fe(this.semver,"\x3e",la.semver,Qa)&&("\x3c\x3d"===this.operator||
"\x3c"===this.operator)&&("\x3e\x3d"===la.operator||"\x3e"===la.operator);return fb||xb||Fb&&ac||yc||la}}var ld=dd;const rd=vc,{re:Kd,t:Nd}=qc.exports,fe=(la,Qa,fb,xb)=>{switch(Qa){case "\x3d\x3d\x3d":return"object"===typeof la&&(la=la.version),"object"===typeof fb&&(fb=fb.version),la===fb;case "!\x3d\x3d":return"object"===typeof la&&(la=la.version),"object"===typeof fb&&(fb=fb.version),la!==fb;case "":case "\x3d":case "\x3d\x3d":return 0===Jc(la,fb,xb);case "!\x3d":return 0!==Jc(la,fb,xb);case "\x3e":return 0<
Jc(la,fb,xb);case "\x3e\x3d":return 0<=Jc(la,fb,xb);case "\x3c":return 0>Jc(la,fb,xb);case "\x3c\x3d":return 0>=Jc(la,fb,xb);default:throw new TypeError("Invalid operator: ".concat(Qa));}},be=Yc,ce=$b,Td=Se;class af{constructor(la,Qa){Qa=me(Qa);if(la instanceof af)return la.loose===!!Qa.loose&&la.includePrerelease===!!Qa.includePrerelease?la:new af(la.raw,Qa);if(la instanceof Ga)return this.raw=la.value,this.set=[[la]],this.format(),this;this.options=Qa;this.loose=!!Qa.loose;this.includePrerelease=
!!Qa.includePrerelease;this.raw=la;this.set=la.split(/\s*\|\|\s*/).map(fb=>this.parseRange(fb.trim())).filter(fb=>fb.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(la));if(1<this.set.length)if(la=this.set[0],this.set=this.set.filter(fb=>"\x3c0.0.0-0"!==fb[0].value),0===this.set.length)this.set=[la];else if(1<this.set.length)for(const fb of this.set)if(1===fb.length&&""===fb[0].value){this.set=[fb];break}this.format()}format(){return this.range=this.set.map(la=>la.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(la){la=
la.trim();var Qa=Object.keys(this.options).join(",");Qa="parseRange:".concat(Qa,":").concat(la);var fb=ue.get(Qa);if(fb)return fb;fb=this.options.loose;la=la.replace(fb?Mb[fc.HYPHENRANGELOOSE]:Mb[fc.HYPHENRANGE],ze(this.options.includePrerelease));$a("hyphen replace",la);la=la.replace(Mb[fc.COMPARATORTRIM],oc);$a("comparator trim",la,Mb[fc.COMPARATORTRIM]);la=la.replace(Mb[fc.TILDETRIM],Mc);la=la.replace(Mb[fc.CARETTRIM],Kc);la=la.split(/\s+/).join(" ");const xb=fb?Mb[fc.COMPARATORLOOSE]:Mb[fc.COMPARATOR];
la=la.split(" ").map(ac=>{var yc=ac;ac=this.options;$a("comp",yc,ac);yc=Od(yc,ac);$a("caret",yc);yc=nd(yc,ac);$a("tildes",yc);yc=Yd(yc,ac);$a("xrange",yc);$a("replaceStars",yc,ac);yc=yc.trim().replace(Mb[fc.STAR],"");$a("stars",yc);return yc}).join(" ").split(/\s+/).map(ac=>{var yc=this.options;$a("replaceGTE0",ac,yc);return ac.trim().replace(Mb[yc.includePrerelease?fc.GTE0PRE:fc.GTE0],"")}).filter(this.options.loose?ac=>!!ac.match(xb):()=>!0).map(ac=>new Ga(ac,this.options));la.length;fb=new Map;
for(var Fb of la){if("\x3c0.0.0-0"===Fb.value)return[Fb];fb.set(Fb.value,Fb)}1<fb.size&&fb.has("")&&fb.delete("");Fb=[...fb.values()];ue.set(Qa,Fb);return Fb}intersects(la,Qa){if(!(la instanceof af))throw new TypeError("a Range is required");return this.set.some(fb=>gc(fb,Qa)&&la.set.some(xb=>gc(xb,Qa)&&fb.every(Fb=>xb.every(ac=>Fb.intersects(ac,Qa)))))}test(la){if(!la)return!1;if("string"===typeof la)try{la=new ub(la,this.options)}catch(ac){return!1}for(let ac=0;ac<this.set.length;ac++){a:{var Qa=
this.set[ac];var fb=la,xb=this.options;for(var Fb=0;Fb<Qa.length;Fb++)if(!Qa[Fb].test(fb)){Qa=!1;break a}if(fb.prerelease.length&&!xb.includePrerelease){for(xb=0;xb<Qa.length;xb++)if($a(Qa[xb].semver),Qa[xb].semver!==Ga.ANY&&0<Qa[xb].semver.prerelease.length&&(Fb=Qa[xb].semver,Fb.major===fb.major&&Fb.minor===fb.minor&&Fb.patch===fb.patch)){Qa=!0;break a}Qa=!1}else Qa=!0}if(Qa)return!0}return!1}}var Se=af;const ue=new Yb({max:1E3}),me=vc,Ga=ld,$a=Yc,ub=$b,{re:Mb,t:fc,comparatorTrimReplace:oc,tildeTrimReplace:Mc,
caretTrimReplace:Kc}=qc.exports,gc=(la,Qa)=>{let fb=!0;la=la.slice();let xb=la.pop();for(;fb&&la.length;)fb=la.every(Fb=>xb.intersects(Fb,Qa)),xb=la.pop();return fb},fd=la=>!la||"x"===la.toLowerCase()||"*"===la,nd=(la,Qa)=>la.trim().split(/\s+/).map(fb=>Fd(fb,Qa)).join(" "),Fd=(la,Qa)=>la.replace(Qa.loose?Mb[fc.TILDELOOSE]:Mb[fc.TILDE],(fb,xb,Fb,ac,yc)=>{$a("tilde",la,fb,xb,Fb,ac,yc);fd(xb)?fb="":fd(Fb)?fb="\x3e\x3d".concat(xb,".0.0 \x3c").concat(+xb+1,".0.0-0"):fd(ac)?fb="\x3e\x3d".concat(xb,".").concat(Fb,
".0 \x3c").concat(xb,".").concat(+Fb+1,".0-0"):yc?($a("replaceTilde pr",yc),fb="\x3e\x3d".concat(xb,".").concat(Fb,".").concat(ac,"-").concat(yc," \x3c").concat(xb,".").concat(+Fb+1,".0-0")):fb="\x3e\x3d".concat(xb,".").concat(Fb,".").concat(ac," \x3c").concat(xb,".").concat(+Fb+1,".0-0");$a("tilde return",fb);return fb}),Od=(la,Qa)=>la.trim().split(/\s+/).map(fb=>Ud(fb,Qa)).join(" "),Ud=(la,Qa)=>{$a("caret",la,Qa);const fb=Qa.includePrerelease?"-0":"";return la.replace(Qa.loose?Mb[fc.CARETLOOSE]:
Mb[fc.CARET],(xb,Fb,ac,yc,Zc)=>{$a("caret",la,xb,Fb,ac,yc,Zc);fd(Fb)?xb="":fd(ac)?xb="\x3e\x3d".concat(Fb,".0.0").concat(fb," \x3c").concat(+Fb+1,".0.0-0"):fd(yc)?xb="0"===Fb?"\x3e\x3d".concat(Fb,".").concat(ac,".0").concat(fb," \x3c").concat(Fb,".").concat(+ac+1,".0-0"):"\x3e\x3d".concat(Fb,".").concat(ac,".0").concat(fb," \x3c").concat(+Fb+1,".0.0-0"):Zc?($a("replaceCaret pr",Zc),xb="0"===Fb?"0"===ac?"\x3e\x3d".concat(Fb,".").concat(ac,".").concat(yc,"-").concat(Zc," \x3c").concat(Fb,".").concat(ac,
".").concat(+yc+1,"-0"):"\x3e\x3d".concat(Fb,".").concat(ac,".").concat(yc,"-").concat(Zc," \x3c").concat(Fb,".").concat(+ac+1,".0-0"):"\x3e\x3d".concat(Fb,".").concat(ac,".").concat(yc,"-").concat(Zc," \x3c").concat(+Fb+1,".0.0-0")):($a("no pr"),xb="0"===Fb?"0"===ac?"\x3e\x3d".concat(Fb,".").concat(ac,".").concat(yc).concat(fb," \x3c").concat(Fb,".").concat(ac,".").concat(+yc+1,"-0"):"\x3e\x3d".concat(Fb,".").concat(ac,".").concat(yc).concat(fb," \x3c").concat(Fb,".").concat(+ac+1,".0-0"):"\x3e\x3d".concat(Fb,
".").concat(ac,".").concat(yc," \x3c").concat(+Fb+1,".0.0-0"));$a("caret return",xb);return xb})},Yd=(la,Qa)=>{$a("replaceXRanges",la,Qa);return la.split(/\s+/).map(fb=>Ee(fb,Qa)).join(" ")},Ee=(la,Qa)=>{la=la.trim();return la.replace(Qa.loose?Mb[fc.XRANGELOOSE]:Mb[fc.XRANGE],(fb,xb,Fb,ac,yc,Zc)=>{$a("xRange",la,fb,xb,Fb,ac,yc,Zc);const ad=fd(Fb),Lc=ad||fd(ac);yc=Lc||fd(yc);"\x3d"===xb&&yc&&(xb="");Zc=Qa.includePrerelease?"-0":"";ad?fb="\x3e"===xb||"\x3c"===xb?"\x3c0.0.0-0":"*":xb&&yc?(Lc&&(ac=0),
yc=0,"\x3e"===xb?(xb="\x3e\x3d",Lc?(Fb=+Fb+1,ac=0):ac=+ac+1,yc=0):"\x3c\x3d"===xb&&(xb="\x3c",Lc?Fb=+Fb+1:ac=+ac+1),"\x3c"===xb&&(Zc="-0"),fb="".concat(xb+Fb,".").concat(ac,".").concat(yc).concat(Zc)):Lc?fb="\x3e\x3d".concat(Fb,".0.0").concat(Zc," \x3c").concat(+Fb+1,".0.0-0"):yc&&(fb="\x3e\x3d".concat(Fb,".").concat(ac,".0").concat(Zc," \x3c").concat(Fb,".").concat(+ac+1,".0-0"));$a("xRange return",fb);return fb})},ze=la=>(Qa,fb,xb,Fb,ac,yc,Zc,ad,Lc,Ec,tc,Nc,mc)=>{fb=fd(xb)?"":fd(Fb)?"\x3e\x3d".concat(xb,
".0.0").concat(la?"-0":""):fd(ac)?"\x3e\x3d".concat(xb,".").concat(Fb,".0").concat(la?"-0":""):yc?"\x3e\x3d".concat(fb):"\x3e\x3d".concat(fb).concat(la?"-0":"");ad=fd(Lc)?"":fd(Ec)?"\x3c".concat(+Lc+1,".0.0-0"):fd(tc)?"\x3c".concat(Lc,".").concat(+Ec+1,".0-0"):Nc?"\x3c\x3d".concat(Lc,".").concat(Ec,".").concat(tc,"-").concat(Nc):la?"\x3c".concat(Lc,".").concat(Ec,".").concat(+tc+1,"-0"):"\x3c\x3d".concat(ad);return"".concat(fb," ").concat(ad).trim()},Bf=Se;var xe=(la,Qa,fb)=>{try{Qa=new Bf(Qa,fb)}catch(xb){return!1}return Qa.test(la)},
Ne={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},rf={"*":(la,Qa)=>la*Qa,"+":(la,Qa)=>la+Qa,"-":(la,Qa)=>la-Qa,"/":(la,Qa)=>la/Qa,"%":(la,Qa)=>la%Qa,"\x3e":(la,Qa)=>la>Qa,"\x3c":(la,Qa)=>la<Qa,"\x3c\x3d":(la,Qa)=>la<=Qa,"\x3e\x3d":(la,Qa)=>la>=Qa,"\x3d\x3d":(la,Qa)=>la==Qa,"!\x3d":(la,Qa)=>la!=Qa,"\x3d\x3d\x3d":(la,Qa)=>la===Qa,"!\x3d\x3d":(la,Qa)=>la!==Qa,"\x26":(la,
Qa)=>la&Qa,"|":(la,Qa)=>la|Qa,"^":(la,Qa)=>la^Qa,"\x3c\x3c":(la,Qa)=>la<<Qa,"\x3e\x3e":(la,Qa)=>la>>Qa,"\x3e\x3e\x3e":(la,Qa)=>la>>>Qa},Vb={"+":la=>+la,"-":la=>-la,"~":la=>~la,"!":la=>!la};const sc=Array.prototype.slice,cd=(la,Qa,fb)=>{fb=fb?fb(Qa[0]):Qa[0];return fb[la].apply(fb,sc.call(Qa,1))};var wd={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,
min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(la,Qa,fb)=>Math.max(Qa,Math.min(fb,la)),now:Date.now,utc:Date.UTC,datetime:(la,Qa,fb,xb,Fb,ac,yc)=>new Date(la,Qa||0,null!=fb?fb:1,xb||0,Fb||0,ac||0,yc||0),date:la=>(new Date(la)).getDate(),day:la=>(new Date(la)).getDay(),year:la=>(new Date(la)).getFullYear(),month:la=>(new Date(la)).getMonth(),hours:la=>(new Date(la)).getHours(),minutes:la=>(new Date(la)).getMinutes(),seconds:la=>(new Date(la)).getSeconds(),
milliseconds:la=>(new Date(la)).getMilliseconds(),time:la=>(new Date(la)).getTime(),timezoneoffset:la=>(new Date(la)).getTimezoneOffset(),utcdate:la=>(new Date(la)).getUTCDate(),utcday:la=>(new Date(la)).getUTCDay(),utcyear:la=>(new Date(la)).getUTCFullYear(),utcmonth:la=>(new Date(la)).getUTCMonth(),utchours:la=>(new Date(la)).getUTCHours(),utcminutes:la=>(new Date(la)).getUTCMinutes(),utcseconds:la=>(new Date(la)).getUTCSeconds(),utcmilliseconds:la=>(new Date(la)).getUTCMilliseconds(),length:la=>
la.length,join:function(){return cd("join",arguments)},indexof:function(){return cd("indexOf",arguments)},lastindexof:function(){return cd("lastIndexOf",arguments)},slice:function(){return cd("slice",arguments)},reverse:la=>la.slice().reverse(),parseFloat,parseInt,upper:la=>String(la).toUpperCase(),lower:la=>String(la).toLowerCase(),substring:function(){return cd("substring",arguments,String)},split:function(){return cd("split",arguments,String)},replace:function(){return cd("replace",arguments,String)},
trim:la=>String(la).trim(),regexp:RegExp,test:(la,Qa)=>RegExp(la).test(Qa)};const Bd="view item group xy x y".split(" "),pe={Literal:(la,Qa)=>Qa.value,Identifier:(la,Qa)=>{Qa=Qa.name;return 0<la.memberDepth?Qa:"datum"===Qa?la.datum:"event"===Qa?la.event:"item"===Qa?la.item:Ne[Qa]||la.params["$"+Qa]},MemberExpression:(la,Qa)=>{const fb=!Qa.computed,xb=la(Qa.object);fb&&(la.memberDepth+=1);Qa=la(Qa.property);fb&&--la.memberDepth;return xb[Qa]},CallExpression:(la,Qa)=>{const fb=Qa.arguments;Qa=Qa.callee.name;
Qa.startsWith("_")&&(Qa=Qa.slice(1));return"if"===Qa?la(fb[0])?la(fb[1]):la(fb[2]):(la.fn[Qa]||wd[Qa]).apply(la.fn,fb.map(la))},ArrayExpression:(la,Qa)=>Qa.elements.map(la),BinaryExpression:(la,Qa)=>rf[Qa.operator](la(Qa.left),la(Qa.right)),UnaryExpression:(la,Qa)=>Vb[Qa.operator](la(Qa.argument)),ConditionalExpression:(la,Qa)=>la(Qa.test)?la(Qa.consequent):la(Qa.alternate),LogicalExpression:(la,Qa)=>"\x26\x26"===Qa.operator?la(Qa.left)&&la(Qa.right):la(Qa.left)||la(Qa.right),ObjectExpression:(la,
Qa)=>Qa.properties.reduce((fb,xb)=>{la.memberDepth+=1;const Fb=la(xb.key);--la.memberDepth;fb[Fb]=la(xb.value);return fb},{})};var hf={operator(la,Qa){const fb=Qa.ast,xb=la.functions;return Fb=>G(fb,xb,Fb)},parameter(la,Qa){const fb=Qa.ast,xb=la.functions;return(Fb,ac)=>G(fb,xb,ac,Fb)},event(la,Qa){const fb=Qa.ast,xb=la.functions;return Fb=>G(fb,xb,void 0,void 0,Fb)},handler(la,Qa){const fb=Qa.ast,xb=la.functions;return(Fb,ac)=>G(fb,xb,Fb,ac.item&&ac.item.datum,ac)},encode(la,Qa){const {marktype:fb,
channels:xb}=Qa,Fb=la.functions,ac="group"===fb||"image"===fb||"rect"===fb;return(yc,Zc)=>{const ad=yc.datum;let Lc=0,Ec;for(const tc in xb)Ec=G(xb[tc].ast,Fb,Zc,ad,void 0,yc),yc[tc]!==Ec&&(yc[tc]=Ec,Lc=1);"rule"!==fb&&(xb.x2&&(xb.x?(ac&&yc.x>yc.x2&&(Zc=yc.x,yc.x=yc.x2,yc.x2=Zc),yc.width=yc.x2-yc.x):yc.x=yc.x2-(yc.width||0)),xb.xc&&(yc.x=yc.xc-(yc.width||0)/2),xb.y2&&(xb.y?(ac&&yc.y>yc.y2&&(Zc=yc.y,yc.y=yc.y2,yc.y2=Zc),yc.height=yc.y2-yc.y):yc.y=yc.y2-(yc.height||0)),xb.yc&&(yc.y=yc.yc-(yc.height||
0)/2));return Lc}}};const Vf={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},yf={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),
"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),
"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2",
"#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};
var Ff=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",
gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,
titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),
heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,
tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",
fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",
fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,
titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Vf["category-6"],diverging:Vf["fireandice-6"],heatmap:Vf["fire-7"],ordinal:Vf["fire-7"],ramp:Vf["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},
symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},
axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",
orient:"right",offset:10},view:{stroke:"transparent"},range:{category:yf["six-groups-cat-1"],diverging:yf["diverging-colors"],heatmap:yf["diverging-colors"],ordinal:yf["six-groups-seq"],ramp:yf["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,
size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,
padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Oe=la=>function(Qa){return Qa[la]},Gb=la=>{const Qa=la.length;return function(fb){for(let xb=0;xb<Qa;++xb)fb=fb[la[xb]];return fb}};(function(la,Qa,fb){const xb=S(la);la=1===xb.length?xb[0]:la;return O((fb&&fb.get||V)(xb),[la],Qa||la)})("id");O(la=>la,[],"identity");O(()=>0,[],"zero");O(()=>1,[],"one");O(()=>!0,[],"true");O(()=>!1,[],"false");var Wb=Array.isArray;const Uc=
{offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(la){return String(la).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(la,Qa,fb){if(Wb(la))return"[".concat(la.map(Fb=>Qa("string"===typeof Fb?Fb:JSON.stringify(Fb,ea(fb)))).join(", "),"]");if(la===Object(la)){let Fb="";const {title:ac,image:yc}=la;la=ca(la,["title","image"]);ac&&(Fb+="\x3ch2\x3e".concat(Qa(ac),"\x3c/h2\x3e"));yc&&(Fb+=
'\x3cimg src\x3d"'.concat(Qa(yc),'"\x3e'));var xb=Object.keys(la);if(0<xb.length){Fb+="\x3ctable\x3e";for(const Zc of xb)xb=la[Zc],void 0!==xb&&(xb===Object(xb)&&(xb=JSON.stringify(xb,ea(fb))),Fb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(Qa(Zc),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(Qa(xb),"\x3c/td\x3e\x3c/tr\x3e"));Fb+="\x3c/table\x3e"}return Fb||"{}"}return Qa(la)}};class ie{constructor(la){this.options=Object.assign(Object.assign({},Uc),la);var Qa=this.options.id;this.el=null;this.call=
this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){la=document.createElement("style");la.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Qa))throw Error("Invalid HTML ID");Qa="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
Qa);la.innerHTML=Qa;Qa=document.head;0<Qa.childNodes.length?Qa.insertBefore(la,Qa.childNodes[0]):Qa.appendChild(la)}}tooltipHandler(la,Qa,fb,xb){var Fb;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(Fb=document.fullscreenElement)&&void 0!==Fb?Fb:document.body).appendChild(this.el));if(null==xb||""===xb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(xb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));la=this.el.getBoundingClientRect();Fb=this.options.offsetX;fb=this.options.offsetY;xb=Qa.clientX+Fb;xb+la.width>window.innerWidth&&(xb=+Qa.clientX-Fb-la.width);Fb=Qa.clientY+fb;Fb+la.height>window.innerHeight&&(Fb=+Qa.clientY-fb-la.height);var {x:ac,y:yc}={x:xb,y:Fb};this.el.setAttribute("style","top: ".concat(yc,"px; left: ").concat(ac,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(la,Qa){return this.substr(!Qa||0>Qa?0:+Qa,la.length)===la});var oe;const Vd=za;let Qd=Wa;const se="undefined"!==typeof window?window:void 0;void 0===Qd&&null!==se&&void 0!==se&&null!==(oe=se.vl)&&void 0!==oe&&oe.compile&&(Qd=se.vl);const cf={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},qf={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},ua={vega:"Vega","vega-lite":"Vega-Lite"},vb={vega:Vd.version,"vega-lite":Qd?Qd.version:"not available"},Oa={vega:la=>la,"vega-lite":(la,Qa)=>Qd.compile(la,{config:Qa}).spec},ic=function(){var la;if(la=1<arguments.length){if(la=k.isString(0>=arguments.length?void 0:arguments[0]))la=0>=arguments.length?void 0:arguments[0],la=!(la.startsWith("http://")||la.startsWith("https://")||la.startsWith("//"));la=la||(0>=arguments.length?void 0:arguments[0])instanceof
HTMLElement||3===arguments.length}return la?N(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):ia(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};ic.vegaLite=Qd;ic.vl=Qd;ic.container=ia;ic.embed=N;ic.vega=Vd;ic.default=N;ic.version="6.20.8";return ic})};
shadow$provide[51]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?cb.exports=k():"function"===typeof define&&define.amd?define(k):(v=v||self,v.CodeMirror=k())})(this,function(){function v(h){return new RegExp("(^|\\s)"+h+"(?:$|\\s)\\s*")}function k(h){for(var I=h.childNodes.length;0<I;--I)h.removeChild(h.firstChild);return h}function p(h,I){return k(h).appendChild(I)}function A(h,I,Y,X){h=document.createElement(h);Y&&(h.className=Y);X&&(h.style.cssText=X);if("string"==
typeof I)h.appendChild(document.createTextNode(I));else if(I)for(Y=0;Y<I.length;++Y)h.appendChild(I[Y]);return h}function u(h,I,Y,X){h=A(h,I,Y,X);h.setAttribute("role","presentation");return h}function m(h,I){3==I.nodeType&&(I=I.parentNode);if(h.contains)return h.contains(I);do if(11==I.nodeType&&(I=I.host),I==h)return!0;while(I=I.parentNode)}function l(){try{var h=document.activeElement}catch(I){h=document.body||null}for(;h&&h.shadowRoot&&h.shadowRoot.activeElement;)h=h.shadowRoot.activeElement;
return h}function f(h,I){var Y=h.className;v(I).test(Y)||(h.className+=(Y?" ":"")+I)}function g(h,I){h=h.split(" ");for(var Y=0;Y<h.length;Y++)h[Y]&&!v(h[Y]).test(I)&&(I+=" "+h[Y]);return I}function d(h){var I=Array.prototype.slice.call(arguments,1);return function(){return h.apply(null,I)}}function b(h,I,Y){I||(I={});for(var X in h)!h.hasOwnProperty(X)||!1===Y&&I.hasOwnProperty(X)||(I[X]=h[X]);return I}function c(h,I,Y,X,fa){null==I&&(I=h.search(/[^\s\u00a0]/),-1==I&&(I=h.length));X=X||0;for(fa=
fa||0;;){var La=h.indexOf("\t",X);if(0>La||La>=I)return fa+(I-X);fa+=La-X;fa+=Y-fa%Y;X=La+1}}function a(h,I){for(var Y=0;Y<h.length;++Y)if(h[Y]==I)return Y;return-1}function e(h,I,Y){for(var X=0,fa=0;;){var La=h.indexOf("\t",X);-1==La&&(La=h.length);var Za=La-X;if(La==h.length||fa+Za>=I)return X+Math.min(Za,I-fa);fa+=La-X;fa+=Y-fa%Y;X=La+1;if(fa>=I)return X}}function t(h){for(;le.length<=h;)le.push(y(le)+" ");return le[h]}function y(h){return h[h.length-1]}function q(h,I){for(var Y=[],X=0;X<h.length;X++)Y[X]=
I(h[X],X);return Y}function E(h,I,Y){for(var X=0,fa=Y(I);X<h.length&&Y(h[X])<=fa;)X++;h.splice(X,0,I)}function F(){}function w(h,I){Object.create?h=Object.create(h):(F.prototype=h,h=new F);I&&b(I,h);return h}function D(h){return/\w/.test(h)||""<h&&(h.toUpperCase()!=h.toLowerCase()||Ze.test(h))}function G(h,I){return I?-1<I.source.indexOf("\\w")&&D(h)?!0:I.test(h):D(h)}function L(h){for(var I in h)if(h.hasOwnProperty(I)&&h[I])return!1;return!0}function O(h){return 768<=h.charCodeAt(0)&&Cf.test(h)}
function V(h,I,Y){for(;(0>Y?0<I:I<h.length)&&O(h.charAt(I));)I+=Y;return I}function S(h,I,Y){for(var X=I>Y?-1:1;;){if(I==Y)return I;var fa=(I+Y)/2;fa=0>X?Math.ceil(fa):Math.floor(fa);if(fa==I)return h(fa)?I:Y;h(fa)?Y=fa:I=fa+X}}function ca(h,I,Y,X){if(!h)return X(I,Y,"ltr",0);for(var fa=!1,La=0;La<h.length;++La){var Za=h[La];if(Za.from<Y&&Za.to>I||I==Y&&Za.to==I)X(Math.max(Za.from,I),Math.min(Za.to,Y),1==Za.level?"rtl":"ltr",La),fa=!0}fa||X(I,Y,"ltr")}function ea(h,I,Y){var X;Ie=null;for(var fa=0;fa<
h.length;++fa){var La=h[fa];if(La.from<I&&La.to>I)return fa;La.to==I&&(La.from!=La.to&&"before"==Y?X=fa:Ie=fa);La.from==I&&(La.from!=La.to&&"before"!=Y?X=fa:Ie=fa)}return null!=X?X:Ie}function T(h,I){var Y=h.order;null==Y&&(Y=h.order=bg(h.text,I));return Y}function R(h,I,Y){if(h.removeEventListener)h.removeEventListener(I,Y,!1);else if(h.detachEvent)h.detachEvent("on"+I,Y);else{var X=(h=h._handlers)&&h[I];X&&(Y=a(X,Y),-1<Y&&(h[I]=X.slice(0,Y).concat(X.slice(Y+1))))}}function J(h,I){var Y=h._handlers&&
h._handlers[I]||Og;if(Y.length)for(var X=Array.prototype.slice.call(arguments,2),fa=0;fa<Y.length;++fa)Y[fa].apply(null,X)}function r(h,I,Y){"string"==typeof I&&(I={type:I,preventDefault:function(){this.defaultPrevented=!0}});J(h,Y||I.type,h,I);return ia(I)||I.codemirrorIgnore}function C(h){var I=h._handlers&&h._handlers.cursorActivity;if(I){h=h.curOp.cursorActivityHandlers||(h.curOp.cursorActivityHandlers=[]);for(var Y=0;Y<I.length;++Y)-1==a(h,I[Y])&&h.push(I[Y])}}function N(h,I){return 0<(h._handlers&&
h._handlers[I]||Og).length}function U(h){h.prototype.on=function(I,Y){Le(this,I,Y)};h.prototype.off=function(I,Y){R(this,I,Y)}}function ja(h){h.preventDefault?h.preventDefault():h.returnValue=!1}function ba(h){h.stopPropagation?h.stopPropagation():h.cancelBubble=!0}function ia(h){return null!=h.defaultPrevented?h.defaultPrevented:0==h.returnValue}function za(h){ja(h);ba(h)}function Wa(h){var I=h.which;null==I&&(h.button&1?I=1:h.button&2?I=3:h.button&4&&(I=2));Hg&&h.ctrlKey&&1==I&&(I=3);return I}function hb(h,
I){2<arguments.length&&(I.dependencies=Array.prototype.slice.call(arguments,2));qe[h]=I}function Ja(h){if("string"==typeof h&&Re.hasOwnProperty(h))h=Re[h];else if(h&&"string"==typeof h.name&&Re.hasOwnProperty(h.name)){var I=Re[h.name];"string"==typeof I&&(I={name:I});h=w(I,h);h.name=I.name}else{if("string"==typeof h&&/^[\w\-]+\/[\w\-]+\+xml$/.test(h))return Ja("application/xml");if("string"==typeof h&&/^[\w\-]+\/[\w\-]+\+json$/.test(h))return Ja("application/json")}return"string"==typeof h?{name:h}:
h||{name:"null"}}function qa(h,I){I=Ja(I);var Y=qe[I.name];if(!Y)return qa(h,"text/plain");h=Y(h,I);if(re.hasOwnProperty(I.name)){Y=re[I.name];for(var X in Y)Y.hasOwnProperty(X)&&(h.hasOwnProperty(X)&&(h["_"+X]=h[X]),h[X]=Y[X])}h.name=I.name;I.helperType&&(h.helperType=I.helperType);if(I.modeProps)for(var fa in I.modeProps)h[fa]=I.modeProps[fa];return h}function Da(h,I){h=re.hasOwnProperty(h)?re[h]:re[h]={};b(I,h)}function va(h,I){if(!0===I)return I;if(h.copyState)return h.copyState(I);h={};for(var Y in I){var X=
I[Y];X instanceof Array&&(X=X.concat([]));h[Y]=X}return h}function sa(h,I){for(var Y;h.innerMode;){Y=h.innerMode(I);if(!Y||Y.mode==h)break;I=Y.state;h=Y.mode}return Y||{mode:h,state:I}}function xa(h,I,Y){return h.startState?h.startState(I,Y):!0}function ma(h,I){I-=h.first;if(0>I||I>=h.size)throw Error("There is no line "+(I+h.first)+" in the document.");for(;!h.lines;)for(var Y=0;;++Y){var X=h.children[Y],fa=X.chunkSize();if(I<fa){h=X;break}I-=fa}return h.lines[I]}function Ea(h,I,Y){var X=[],fa=I.line;
h.iter(I.line,Y.line+1,function(La){La=La.text;fa==Y.line&&(La=La.slice(0,Y.ch));fa==I.line&&(La=La.slice(I.ch));X.push(La);++fa});return X}function Ua(h,I,Y){var X=[];h.iter(I,Y,function(fa){X.push(fa.text)});return X}function ab(h,I){if(I-=h.height)for(;h;h=h.parent)h.height+=I}function ta(h){if(null==h.parent)return null;var I=h.parent;h=a(I.lines,h);for(var Y=I.parent;Y;I=Y,Y=Y.parent)for(var X=0;Y.children[X]!=I;++X)h+=Y.children[X].chunkSize();return h+I.first}function Na(h,I){var Y=h.first;
a:do{for(var X=0;X<h.children.length;++X){var fa=h.children[X],La=fa.height;if(I<La){h=fa;continue a}I-=La;Y+=fa.chunkSize()}return Y}while(!h.lines);for(X=0;X<h.lines.length;++X){fa=h.lines[X].height;if(I<fa)break;I-=fa}return Y+X}function oa(h,I){return I>=h.first&&I<h.first+h.size}function aa(h,I){return String(h.lineNumberFormatter(I+h.firstLineNumber))}function ka(h,I,Y){void 0===Y&&(Y=null);if(!(this instanceof ka))return new ka(h,I,Y);this.line=h;this.ch=I;this.sticky=Y}function Ia(h,I){return h.line-
I.line||h.ch-I.ch}function Xa(h,I){return h.sticky==I.sticky&&0==Ia(h,I)}function Ya(h){return ka(h.line,h.ch)}function mb(h,I){return 0>Ia(h,I)?I:h}function ib(h,I){return 0>Ia(h,I)?h:I}function Eb(h,I){if(I.line<h.first)return ka(h.first,0);var Y=h.first+h.size-1;if(I.line>Y)return ka(Y,ma(h,Y).text.length);h=ma(h,I.line).text.length;Y=I.ch;I=null==Y||Y>h?ka(I.line,h):0>Y?ka(I.line,0):I;return I}function Zb(h,I){for(var Y=[],X=0;X<I.length;X++)Y[X]=Eb(h,I[X]);return Y}function Gc(h,I,Y,X){var fa=
[h.state.modeGen],La={};Yb(h,I.text,h.doc.mode,Y,function(yb,Tb){return fa.push(yb,Tb)},La,X);var Za=Y.state;X=function(yb){Y.baseTokens=fa;var Tb=h.state.overlays[yb],jc=1,Sc=0;Y.state=!0;Yb(h,I.text,Tb.mode,Y,function(bd,ed){for(var Md=jc;Sc<bd;){var Ce=fa[jc];Ce>bd&&fa.splice(jc,1,bd,fa[jc+1],Ce);jc+=2;Sc=Math.min(bd,Ce)}if(ed)if(Tb.opaque)fa.splice(Md,jc-Md,bd,"overlay "+ed),jc=Md+2;else for(;Md<jc;Md+=2)bd=fa[Md+1],fa[Md+1]=(bd?bd+" ":"")+"overlay "+ed},La);Y.state=Za;Y.baseTokens=null;Y.baseTokenPos=
1};for(var eb=0;eb<h.state.overlays.length;++eb)X(eb);return{styles:fa,classes:La.bgClass||La.textClass?La:null}}function xc(h,I,Y){if(!I.styles||I.styles[0]!=h.state.modeGen){var X=Ic(h,ta(I)),fa=I.text.length>h.options.maxHighlightLength&&va(h.doc.mode,X.state),La=Gc(h,I,X);fa&&(X.state=fa);I.stateAfter=X.save(!fa);I.styles=La.styles;La.classes?I.styleClasses=La.classes:I.styleClasses&&(I.styleClasses=null);Y===h.doc.highlightFrontier&&(h.doc.modeFrontier=Math.max(h.doc.modeFrontier,++h.doc.highlightFrontier))}return I.styles}
function Ic(h,I,Y){var X=h.doc,fa=h.display;if(!X.mode.startState)return new dg(X,!0,I);var La=hc(h,I,Y),Za=La>X.first&&ma(X,La-1).stateAfter,eb=Za?dg.fromSaved(X,Za,La):new dg(X,xa(X.mode),La);X.iter(La,I,function(yb){rc(h,yb.text,eb);var Tb=eb.line;yb.stateAfter=Tb==I-1||0==Tb%5||Tb>=fa.viewFrom&&Tb<fa.viewTo?eb.save():null;eb.nextLine()});Y&&(X.modeFrontier=eb.line);return eb}function rc(h,I,Y,X){var fa=h.doc.mode;h=new xf(I,h.options.tabSize,Y);h.start=h.pos=X||0;for(""==I&&jd(fa,Y.state);!h.eol();)Bb(fa,
h,Y.state),h.start=h.pos}function jd(h,I){if(h.blankLine)return h.blankLine(I);if(h.innerMode&&(h=sa(h,I),h.mode.blankLine))return h.mode.blankLine(h.state)}function Bb(h,I,Y,X){for(var fa=0;10>fa;fa++){X&&(X[0]=sa(h,Y).mode);var La=h.token(I,Y);if(I.pos>I.start)return La}throw Error("Mode "+h.name+" failed to advance stream.");}function tb(h,I,Y,X){var fa=h.doc,La=fa.mode;I=Eb(fa,I);var Za=ma(fa,I.line);Y=Ic(h,I.line,Y);h=new xf(Za.text,h.options.tabSize,Y);var eb;for(X&&(eb=[]);(X||h.pos<I.ch)&&
!h.eol();){h.start=h.pos;var yb=Bb(La,h,Y.state);X&&eb.push(new mh(h,yb,va(fa.mode,Y.state)))}return X?eb:new mh(h,yb,Y.state)}function dc(h,I){if(h)for(;;){var Y=h.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!Y)break;h=h.slice(0,Y.index)+h.slice(Y.index+Y[0].length);var X=Y[1]?"bgClass":"textClass";null==I[X]?I[X]=Y[2]:(new RegExp("(?:^|\\s)"+Y[2]+"(?:$|\\s)")).test(I[X])||(I[X]+=" "+Y[2])}return h}function Yb(h,I,Y,X,fa,La,Za){var eb=Y.flattenSpans;null==eb&&(eb=h.options.flattenSpans);var yb=
0,Tb=null,jc=new xf(I,h.options.tabSize,X),Sc=h.options.addModeClass&&[null];for(""==I&&dc(jd(Y,X.state),La);!jc.eol();){if(jc.pos>h.options.maxHighlightLength){eb=!1;Za&&rc(h,I,X,jc.pos);jc.pos=I.length;var bd=null}else bd=dc(Bb(Y,jc,X.state,Sc),La);if(Sc){var ed=Sc[0].name;ed&&(bd="m-"+(bd?ed+" "+bd:ed))}if(!eb||Tb!=bd){for(;yb<jc.start;)yb=Math.min(jc.start,yb+5E3),fa(yb,Tb);Tb=bd}jc.start=jc.pos}for(;yb<jc.pos;)h=Math.min(jc.pos,yb+5E3),fa(h,Tb),yb=h}function hc(h,I,Y){for(var X,fa,La=h.doc,Za=
Y?-1:I-(h.doc.mode.innerMode?1E3:100);I>Za;--I){if(I<=La.first)return La.first;var eb=ma(La,I-1),yb=eb.stateAfter;if(yb&&(!Y||I+(yb instanceof Wg?yb.lookAhead:0)<=La.modeFrontier))return I;eb=c(eb.text,null,h.options.tabSize);if(null==fa||X>eb)fa=I-1,X=eb}return fa}function vc(h,I){h.modeFrontier=Math.min(h.modeFrontier,I);if(!(h.highlightFrontier<I-10)){for(var Y=h.first,X=I-1;X>Y;X--){var fa=ma(h,X).stateAfter;if(fa&&(!(fa instanceof Wg)||X+fa.lookAhead<I)){Y=X+1;break}}h.highlightFrontier=Math.min(h.highlightFrontier,
Y)}}function qc(h,I,Y){this.marker=h;this.from=I;this.to=Y}function Dc(h,I){if(h)for(var Y=0;Y<h.length;++Y){var X=h[Y];if(X.marker==I)return X}}function Yc(h,I){if(I.full)return null;var Y=oa(h,I.from.line)&&ma(h,I.from.line).markedSpans,X=oa(h,I.to.line)&&ma(h,I.to.line).markedSpans;if(!Y&&!X)return null;h=I.from.ch;var fa=I.to.ch,La=0==Ia(I.from,I.to),Za;if(Y)for(var eb=0;eb<Y.length;++eb){var yb=Y[eb],Tb=yb.marker;if(null==yb.from||(Tb.inclusiveLeft?yb.from<=h:yb.from<h)||!(yb.from!=h||"bookmark"!=
Tb.type||La&&yb.marker.insertLeft)){var jc=null==yb.to||(Tb.inclusiveRight?yb.to>=h:yb.to>h);(Za||(Za=[])).push(new qc(Tb,yb.from,jc?null:yb.to))}}Y=Za;var Sc;if(X)for(Za=0;Za<X.length;++Za)if(eb=X[Za],yb=eb.marker,null==eb.to||(yb.inclusiveRight?eb.to>=fa:eb.to>fa)||eb.from==fa&&"bookmark"==yb.type&&(!La||eb.marker.insertLeft))Tb=null==eb.from||(yb.inclusiveLeft?eb.from<=fa:eb.from<fa),(Sc||(Sc=[])).push(new qc(yb,Tb?null:eb.from-fa,null==eb.to?null:eb.to-fa));X=1==I.text.length;fa=y(I.text).length+
(X?h:0);if(Y)for(La=0;La<Y.length;++La)if(Za=Y[La],null==Za.to)(eb=Dc(Sc,Za.marker),eb)?X&&(Za.to=null==eb.to?null:eb.to+fa):Za.to=h;if(Sc)for(h=0;h<Sc.length;++h)La=Sc[h],null!=La.to&&(La.to+=fa),null==La.from?Dc(Y,La.marker)||(La.from=fa,X&&(Y||(Y=[])).push(La)):(La.from+=fa,X&&(Y||(Y=[])).push(La));Y&&(Y=Hd(Y));Sc&&Sc!=Y&&(Sc=Hd(Sc));h=[Y];if(!X){I=I.text.length-2;var bd;if(0<I&&Y)for(X=0;X<Y.length;++X)null==Y[X].to&&(bd||(bd=[])).push(new qc(Y[X].marker,null,null));for(Y=0;Y<I;++Y)h.push(bd);
h.push(Sc)}return h}function Hd(h){for(var I=0;I<h.length;++I){var Y=h[I];null!=Y.from&&Y.from==Y.to&&!1!==Y.marker.clearWhenEmpty&&h.splice(I--,1)}return h.length?h:null}function Fa(h,I,Y){var X=null;h.iter(I.line,Y.line+1,function(jc){if(jc.markedSpans)for(var Sc=0;Sc<jc.markedSpans.length;++Sc){var bd=jc.markedSpans[Sc].marker;!bd.readOnly||X&&-1!=a(X,bd)||(X||(X=[])).push(bd)}});if(!X)return null;h=[{from:I,to:Y}];for(I=0;I<X.length;++I){Y=X[I];for(var fa=Y.find(0),La=0;La<h.length;++La){var Za=
h[La];if(!(0>Ia(Za.to,fa.from)||0<Ia(Za.from,fa.to))){var eb=[La,1],yb=Ia(Za.from,fa.from),Tb=Ia(Za.to,fa.to);(0>yb||!Y.inclusiveLeft&&!yb)&&eb.push({from:Za.from,to:fa.from});(0<Tb||!Y.inclusiveRight&&!Tb)&&eb.push({from:fa.to,to:Za.to});h.splice.apply(h,eb);La+=eb.length-3}}}return h}function Ca(h){var I=h.markedSpans;if(I){for(var Y=0;Y<I.length;++Y)I[Y].marker.detachLine(h);h.markedSpans=null}}function Ha(h,I){if(I){for(var Y=0;Y<I.length;++Y)I[Y].marker.attachLine(h);h.markedSpans=I}}function db(h,
I){var Y=h.lines.length-I.lines.length;if(0!=Y)return Y;Y=h.find();var X=I.find(),fa=Ia(Y.from,X.from)||(h.inclusiveLeft?-1:0)-(I.inclusiveLeft?-1:0);return fa?-fa:(Y=Ia(Y.to,X.to)||(h.inclusiveRight?1:0)-(I.inclusiveRight?1:0))?Y:I.id-h.id}function ob(h,I){h=Ih&&h.markedSpans;if(h)for(var Y,X=0;X<h.length;++X)if(Y=h[X],Y.marker.collapsed&&null==(I?Y.from:Y.to)&&(!fa||0>db(fa,Y.marker)))var fa=Y.marker;return fa}function Ab(h,I,Y,X,fa){h=ma(h,I);if(h=Ih&&h.markedSpans)for(I=0;I<h.length;++I){var La=
h[I];if(La.marker.collapsed){var Za=La.marker.find(0),eb=Ia(Za.from,Y)||(La.marker.inclusiveLeft?-1:0)-(fa.inclusiveLeft?-1:0),yb=Ia(Za.to,X)||(La.marker.inclusiveRight?1:0)-(fa.inclusiveRight?1:0);if(!(0<=eb&&0>=yb||0>=eb&&0<=yb)&&(0>=eb&&(La.marker.inclusiveRight&&fa.inclusiveLeft?0<=Ia(Za.to,Y):0<Ia(Za.to,Y))||0<=eb&&(La.marker.inclusiveRight&&fa.inclusiveLeft?0>=Ia(Za.from,X):0>Ia(Za.from,X))))return!0}}}function Ob(h){for(var I;I=ob(h,!0);)h=I.find(-1,!0).line;return h}function Ub(h,I){h=ma(h,
I);var Y=Ob(h);return h==Y?I:ta(Y)}function $b(h,I){if(I>h.lastLine())return I;var Y=ma(h,I);if(!Jc(h,Y))return I;for(;h=ob(Y,!1);)Y=h.find(1,!0).line;return ta(Y)+1}function Jc(h,I){var Y=Ih&&I.markedSpans;if(Y)for(var X,fa=0;fa<Y.length;++fa)if(X=Y[fa],X.marker.collapsed&&(null==X.from||!X.marker.widgetNode&&0==X.from&&X.marker.inclusiveLeft&&Wc(h,I,X)))return!0}function Wc(h,I,Y){if(null==Y.to)return I=Y.marker.find(1,!0),Wc(h,I.line,Dc(I.line.markedSpans,Y.marker));if(Y.marker.inclusiveRight&&
Y.to==I.text.length)return!0;for(var X,fa=0;fa<I.markedSpans.length;++fa)if(X=I.markedSpans[fa],X.marker.collapsed&&!X.marker.widgetNode&&X.from==Y.to&&(null==X.to||X.to!=Y.from)&&(X.marker.inclusiveLeft||Y.marker.inclusiveRight)&&Wc(h,I,X))return!0}function dd(h){h=Ob(h);for(var I=0,Y=h.parent,X=0;X<Y.lines.length;++X){var fa=Y.lines[X];if(fa==h)break;else I+=fa.height}for(h=Y.parent;h;Y=h,h=Y.parent)for(X=0;X<h.children.length&&(fa=h.children[X],fa!=Y);++X)I+=fa.height;return I}function ld(h){if(0==
h.height)return 0;for(var I=h.text.length,Y,X=h;Y=ob(X,!0);)Y=Y.find(0,!0),X=Y.from.line,I+=Y.from.ch-Y.to.ch;for(X=h;Y=ob(X,!1);)h=Y.find(0,!0),I-=X.text.length-h.from.ch,X=h.to.line,I+=X.text.length-h.to.ch;return I}function rd(h){var I=h.display;h=h.doc;I.maxLine=ma(h,h.first);I.maxLineLength=ld(I.maxLine);I.maxLineChanged=!0;h.iter(function(Y){var X=ld(Y);X>I.maxLineLength&&(I.maxLineLength=X,I.maxLine=Y)})}function Kd(h,I){if(!h||/^\s*$/.test(h))return null;I=I.addModeClass?Yj:Kj;return I[h]||
(I[h]=h.replace(/\S+/g,"cm-$\x26"))}function Nd(h,I){var Y=u("span",null,null,rh?"padding-right: .1px":null);Y={pre:u("pre",[Y],"CodeMirror-line"),content:Y,col:0,pos:0,cm:h,trailingSpace:!1,splitSpaces:h.getOption("lineWrapping")};I.measure={};for(var X=0;X<=(I.rest?I.rest.length:0);X++){var fa=X?I.rest[X-1]:I.line,La=void 0;Y.pos=0;Y.addToken=be;var Za=h.display.measure;if(null!=Pg)Za=Pg;else{var eb=p(Za,document.createTextNode("AA")),yb=cc(eb,0,1).getBoundingClientRect();eb=cc(eb,1,2).getBoundingClientRect();
k(Za);Za=yb&&yb.left!=yb.right?Pg=3>eb.right-yb.right:!1}Za&&(La=T(fa,h.doc.direction))&&(Y.addToken=ce(Y.addToken,La));Y.map=[];var Tb=I!=h.display.externalMeasured&&ta(fa);a:{var jc=eb=yb=Za=void 0,Sc=void 0,bd=void 0,ed=void 0;La=Y;Tb=xc(h,fa,Tb);var Md=fa.markedSpans,Ce=fa.text,tf=0;if(Md)for(var vh=Ce.length,jf=0,Tf=1,Fg="",Kg=0;;){if(Kg==jf){Sc=jc=eb=bd="";yb=Za=null;Kg=Infinity;for(var vg=[],Wf=void 0,ng=0;ng<Md.length;++ng){var mg=Md[ng],Cg=mg.marker;if("bookmark"==Cg.type&&mg.from==jf&&Cg.widgetNode)vg.push(Cg);
else if(mg.from<=jf&&(null==mg.to||mg.to>jf||Cg.collapsed&&mg.to==jf&&mg.from==jf)){null!=mg.to&&mg.to!=jf&&Kg>mg.to&&(Kg=mg.to,jc="");Cg.className&&(Sc+=" "+Cg.className);Cg.css&&(bd=(bd?bd+";":"")+Cg.css);Cg.startStyle&&mg.from==jf&&(eb+=" "+Cg.startStyle);Cg.endStyle&&mg.to==Kg&&(Wf||(Wf=[])).push(Cg.endStyle,mg.to);Cg.title&&((Za||(Za={})).title=Cg.title);if(Cg.attributes)for(var Kh in Cg.attributes)(Za||(Za={}))[Kh]=Cg.attributes[Kh];Cg.collapsed&&(!yb||0>db(yb.marker,Cg))&&(yb=mg)}else mg.from>
jf&&Kg>mg.from&&(Kg=mg.from)}if(Wf)for(ng=0;ng<Wf.length;ng+=2)Wf[ng+1]==Kg&&(jc+=" "+Wf[ng]);if(!yb||yb.from==jf)for(Wf=0;Wf<vg.length;++Wf)Td(La,0,vg[Wf]);if(yb&&(yb.from||0)==jf){Td(La,(null==yb.to?vh+1:yb.to)-jf,yb.marker,null==yb.from);if(null==yb.to)break a;yb.to==jf&&(yb=!1)}}if(jf>=vh)break;for(vg=Math.min(vh,Kg);;){if(Fg){Wf=jf+Fg.length;yb||(ng=Wf>vg?Fg.slice(0,vg-jf):Fg,La.addToken(La,ng,ed?ed+Sc:Sc,eb,jf+ng.length==Kg?jc:"",bd,Za));if(Wf>=vg){Fg=Fg.slice(vg-jf);jf=vg;break}jf=Wf;eb=""}Fg=
Ce.slice(tf,tf=Tb[Tf++]);ed=Kd(Tb[Tf++],La.cm.options)}}else for(Za=1;Za<Tb.length;Za+=2)La.addToken(La,Ce.slice(tf,tf=Tb[Za]),Kd(Tb[Za+1],La.cm.options))}fa.styleClasses&&(fa.styleClasses.bgClass&&(Y.bgClass=g(fa.styleClasses.bgClass,Y.bgClass||"")),fa.styleClasses.textClass&&(Y.textClass=g(fa.styleClasses.textClass,Y.textClass||"")));0==Y.map.length&&(fa=Y.map,La=fa.push,Za=Y.content,yb=Za.appendChild,eb=h.display.measure,null==Lh&&(jc=A("span",""),p(eb,A("span",[jc,document.createTextNode("x")])),
0!=eb.firstChild.offsetHeight&&(Lh=1>=jc.offsetWidth&&2<jc.offsetHeight&&!(Zf&&8>Eg))),eb=Lh?A("span",""):A("span","",null,"display: inline-block; width: 1px; margin-right: -1px"),eb.setAttribute("cm-text",""),La.call(fa,0,0,yb.call(Za,eb)));0==X?(I.measure.map=Y.map,I.measure.cache={}):((I.measure.maps||(I.measure.maps=[])).push(Y.map),(I.measure.caches||(I.measure.caches=[])).push({}))}rh&&(Kh=Y.content.lastChild,/\bcm-tab\b/.test(Kh.className)||Kh.querySelector&&Kh.querySelector(".cm-tab"))&&
(Y.content.className="cm-tab-wrap-hack");J(h,"renderLine",h,I.line,Y.pre);Y.pre.className&&(Y.textClass=g(Y.pre.className,Y.textClass||""));return Y}function fe(h){var I=A("span","","cm-invalidchar");I.title="\\u"+h.charCodeAt(0).toString(16);I.setAttribute("aria-label",I.title);return I}function be(h,I,Y,X,fa,La,Za){if(I){if(h.splitSpaces){var eb=h.trailingSpace;if(1<I.length&&!/  /.test(I))eb=I;else{for(var yb="",Tb=0;Tb<I.length;Tb++){var jc=I.charAt(Tb);" "!=jc||!eb||Tb!=I.length-1&&32!=I.charCodeAt(Tb+
1)||(jc="");yb+=jc;eb=" "==jc}eb=yb}}else eb=I;yb=eb;Tb=h.cm.state.specialChars;jc=!1;if(Tb.test(I)){eb=document.createDocumentFragment();for(var Sc=0;;){Tb.lastIndex=Sc;var bd=Tb.exec(I),ed=bd?bd.index-Sc:I.length-Sc;if(ed){var Md=document.createTextNode(yb.slice(Sc,Sc+ed));Zf&&9>Eg?eb.appendChild(A("span",[Md])):eb.appendChild(Md);h.map.push(h.pos,h.pos+ed,Md);h.col+=ed;h.pos+=ed}if(!bd)break;Sc+=ed+1;"\t"==bd[0]?(bd=h.cm.options.tabSize,bd-=h.col%bd,ed=eb.appendChild(A("span",t(bd),"cm-tab")),
ed.setAttribute("role","presentation"),ed.setAttribute("cm-text","\t"),h.col+=bd):("\r"==bd[0]||"\n"==bd[0]?(ed=eb.appendChild(A("span","\r"==bd[0]?"":"","cm-invalidchar")),ed.setAttribute("cm-text",bd[0])):(ed=h.cm.options.specialCharPlaceholder(bd[0]),ed.setAttribute("cm-text",bd[0]),Zf&&9>Eg?eb.appendChild(A("span",[ed])):eb.appendChild(ed)),h.col+=1);h.map.push(h.pos,h.pos+1,ed);h.pos++}}else h.col+=I.length,eb=document.createTextNode(yb),h.map.push(h.pos,h.pos+I.length,eb),Zf&&9>Eg&&(jc=!0),
h.pos+=I.length;h.trailingSpace=32==yb.charCodeAt(I.length-1);if(Y||X||fa||jc||La||Za){I=Y||"";X&&(I+=X);fa&&(I+=fa);X=A("span",[eb],I,La);if(Za)for(var Ce in Za)Za.hasOwnProperty(Ce)&&"style"!=Ce&&"class"!=Ce&&X.setAttribute(Ce,Za[Ce]);return h.content.appendChild(X)}h.content.appendChild(eb)}}function ce(h,I){return function(Y,X,fa,La,Za,eb,yb){fa=fa?fa+" cm-force-border":"cm-force-border";for(var Tb=Y.pos,jc=Tb+X.length;;){for(var Sc=void 0,bd=0;bd<I.length&&!(Sc=I[bd],Sc.to>Tb&&Sc.from<=Tb);bd++);
if(Sc.to>=jc)return h(Y,X,fa,La,Za,eb,yb);h(Y,X.slice(0,Sc.to-Tb),fa,La,null,eb,yb);La=null;X=X.slice(Sc.to-Tb);Tb=Sc.to}}}function Td(h,I,Y,X){var fa=!X&&Y.widgetNode;fa&&h.map.push(h.pos,h.pos+I,fa);!X&&h.cm.display.input.needsContentAttribute&&(fa||(fa=h.content.appendChild(document.createElement("span"))),fa.setAttribute("cm-marker",Y.id));fa&&(h.cm.display.input.setUneditable(fa),h.content.appendChild(fa));h.pos+=I;h.trailingSpace=!1}function af(h,I,Y){for(var X=this.line=I,fa;X=ob(X,!1);)X=
X.find(1,!0).line,(fa||(fa=[])).push(X);this.size=(this.rest=fa)?ta(y(this.rest))-Y+1:1;this.node=this.text=null;this.hidden=Jc(h,I)}function Se(h,I,Y){var X=[],fa;for(fa=I;fa<Y;)I=new af(h.doc,ma(h.doc,fa),fa),fa+=I.size,X.push(I);return X}function ue(h,I){if(h=h.ownsGroup)try{var Y=h.delayedCallbacks,X=0;do{for(;X<Y.length;X++)Y[X].call(null);for(var fa=0;fa<h.ops.length;fa++){var La=h.ops[fa];if(La.cursorActivityHandlers)for(;La.cursorActivityCalled<La.cursorActivityHandlers.length;)La.cursorActivityHandlers[La.cursorActivityCalled++].call(null,
La.cm)}}while(X<Y.length)}finally{Di=null,I(h)}}function me(h,I){var Y=h._handlers&&h._handlers[I]||Og;if(Y.length){var X=Array.prototype.slice.call(arguments,2);if(Di)var fa=Di.delayedCallbacks;else Ej?fa=Ej:(fa=Ej=[],setTimeout(Ga,0));for(var La=function(eb){fa.push(function(){return Y[eb].apply(null,X)})},Za=0;Za<Y.length;++Za)La(Za)}}function Ga(){var h=Ej;Ej=null;for(var I=0;I<h.length;++I)h[I]()}function $a(h,I,Y,X){for(var fa=0;fa<I.changes.length;fa++){var La=I.changes[fa];if("text"==La){La=
h;var Za=I,eb=Za.text.className,yb=Mb(La,Za);Za.text==Za.node&&(Za.node=yb.pre);Za.text.parentNode.replaceChild(yb.pre,Za.text);Za.text=yb.pre;yb.bgClass!=Za.bgClass||yb.textClass!=Za.textClass?(Za.bgClass=yb.bgClass,Za.textClass=yb.textClass,fc(La,Za)):eb&&(Za.text.className=eb)}else if("gutter"==La)oc(h,I,Y,X);else if("class"==La)fc(h,I);else if("widget"==La){La=h;Za=I;eb=X;Za.alignable&&(Za.alignable=null);yb=v("CodeMirror-linewidget");for(var Tb=Za.node.firstChild,jc;Tb;Tb=jc)jc=Tb.nextSibling,
yb.test(Tb.className)&&Za.node.removeChild(Tb);Kc(La,Za,eb)}}I.changes=null}function ub(h){h.node==h.text&&(h.node=A("div",null,null,"position: relative"),h.text.parentNode&&h.text.parentNode.replaceChild(h.node,h.text),h.node.appendChild(h.text),Zf&&8>Eg&&(h.node.style.zIndex=2));return h.node}function Mb(h,I){var Y=h.display.externalMeasured;return Y&&Y.line==I.line?(h.display.externalMeasured=null,I.measure=Y.measure,Y.built):Nd(h,I)}function fc(h,I){var Y=I.bgClass?I.bgClass+" "+(I.line.bgClass||
""):I.line.bgClass;Y&&(Y+=" CodeMirror-linebackground");if(I.background)Y?I.background.className=Y:(I.background.parentNode.removeChild(I.background),I.background=null);else if(Y){var X=ub(I);I.background=X.insertBefore(A("div",null,Y),X.firstChild);h.display.input.setUneditable(I.background)}I.line.wrapClass?ub(I).className=I.line.wrapClass:I.node!=I.text&&(I.node.className="");I.text.className=(I.textClass?I.textClass+" "+(I.line.textClass||""):I.line.textClass)||""}function oc(h,I,Y,X){I.gutter&&
(I.node.removeChild(I.gutter),I.gutter=null);I.gutterBackground&&(I.node.removeChild(I.gutterBackground),I.gutterBackground=null);if(I.line.gutterClass){var fa=ub(I);I.gutterBackground=A("div",null,"CodeMirror-gutter-background "+I.line.gutterClass,"left: "+(h.options.fixedGutter?X.fixedPos:-X.gutterTotalWidth)+"px; width: "+X.gutterTotalWidth+"px");h.display.input.setUneditable(I.gutterBackground);fa.insertBefore(I.gutterBackground,I.text)}fa=I.line.gutterMarkers;if(h.options.lineNumbers||fa){var La=
ub(I),Za=I.gutter=A("div",null,"CodeMirror-gutter-wrapper","left: "+(h.options.fixedGutter?X.fixedPos:-X.gutterTotalWidth)+"px");Za.setAttribute("aria-hidden","true");h.display.input.setUneditable(Za);La.insertBefore(Za,I.text);I.line.gutterClass&&(Za.className+=" "+I.line.gutterClass);!h.options.lineNumbers||fa&&fa["CodeMirror-linenumbers"]||(I.lineNumber=Za.appendChild(A("div",aa(h.options,Y),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+X.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+
h.display.lineNumInnerWidth+"px")));if(fa)for(I=0;I<h.display.gutterSpecs.length;++I)Y=h.display.gutterSpecs[I].className,(La=fa.hasOwnProperty(Y)&&fa[Y])&&Za.appendChild(A("div",[La],"CodeMirror-gutter-elt","left: "+X.gutterLeft[Y]+"px; width: "+X.gutterWidth[Y]+"px"))}}function Mc(h,I,Y,X){var fa=Mb(h,I);I.text=I.node=fa.pre;fa.bgClass&&(I.bgClass=fa.bgClass);fa.textClass&&(I.textClass=fa.textClass);fc(h,I);oc(h,I,Y,X);Kc(h,I,X);return I.node}function Kc(h,I,Y){gc(h,I.line,I,Y,!0);if(I.rest)for(var X=
0;X<I.rest.length;X++)gc(h,I.rest[X],I,Y,!1)}function gc(h,I,Y,X,fa){if(I.widgets){var La=ub(Y),Za=0;for(I=I.widgets;Za<I.length;++Za){var eb=I[Za],yb=A("div",[eb.node],"CodeMirror-linewidget"+(eb.className?" "+eb.className:""));eb.handleMouseEvents||yb.setAttribute("cm-ignore-events","true");var Tb=eb,jc=yb,Sc=X;if(Tb.noHScroll){(Y.alignable||(Y.alignable=[])).push(jc);var bd=Sc.wrapperWidth;jc.style.left=Sc.fixedPos+"px";Tb.coverGutter||(bd-=Sc.gutterTotalWidth,jc.style.paddingLeft=Sc.gutterTotalWidth+
"px");jc.style.width=bd+"px"}Tb.coverGutter&&(jc.style.zIndex=5,jc.style.position="relative",Tb.noHScroll||(jc.style.marginLeft=-Sc.gutterTotalWidth+"px"));h.display.input.setUneditable(yb);fa&&eb.above?La.insertBefore(yb,Y.gutter||Y.text):La.appendChild(yb);me(eb,"redraw")}}}function fd(h){if(null!=h.height)return h.height;var I=h.doc.cm;if(!I)return 0;if(!m(document.body,h.node)){var Y="position: relative;";h.coverGutter&&(Y+="margin-left: -"+I.display.gutters.offsetWidth+"px;");h.noHScroll&&(Y+=
"width: "+I.display.wrapper.clientWidth+"px;");p(I.display.measure,A("div",[h.node],null,Y))}return h.height=h.node.parentNode.offsetHeight}function nd(h,I){for(I=I.target||I.srcElement;I!=h.wrapper;I=I.parentNode)if(!I||1==I.nodeType&&"true"==I.getAttribute("cm-ignore-events")||I.parentNode==h.sizer&&I!=h.mover)return!0}function Fd(h){return h.mover.offsetHeight-h.lineSpace.offsetHeight}function Od(h){if(h.cachedPaddingH)return h.cachedPaddingH;var I=p(h.measure,A("pre","x","CodeMirror-line-like"));
I=window.getComputedStyle?window.getComputedStyle(I):I.currentStyle;I={left:parseInt(I.paddingLeft),right:parseInt(I.paddingRight)};isNaN(I.left)||isNaN(I.right)||(h.cachedPaddingH=I);return I}function Ud(h){return 50-h.display.nativeBarWidth}function Yd(h){return h.display.scroller.clientWidth-Ud(h)-h.display.barWidth}function Ee(h){return h.display.scroller.clientHeight-Ud(h)-h.display.barHeight}function ze(h,I,Y){if(h.line==I)return{map:h.measure.map,cache:h.measure.cache};if(h.rest){for(var X=
0;X<h.rest.length;X++)if(h.rest[X]==I)return{map:h.measure.maps[X],cache:h.measure.caches[X]};for(I=0;I<h.rest.length;I++)if(ta(h.rest[I])>Y)return{map:h.measure.maps[I],cache:h.measure.caches[I],before:!0}}}function Bf(h,I){if(I>=h.display.viewFrom&&I<h.display.viewTo)return h.display.view[Qa(h,I)];if((h=h.display.externalMeasured)&&I>=h.lineN&&I<h.lineN+h.size)return h}function xe(h,I){var Y=ta(I),X=Bf(h,Y);X&&!X.text?X=null:X&&X.changes&&($a(h,X,Y,ua(h)),h.curOp.forceUpdate=!0);if(!X){var fa=Ob(I);
X=ta(fa);fa=h.display.externalMeasured=new af(h.doc,fa,X);fa.lineN=X;X=fa.built=Nd(h,fa);fa.text=X.pre;p(h.display.lineMeasure,X.pre);X=fa}h=ze(X,I,Y);return{line:I,view:X,rect:null,map:h.map,cache:h.cache,before:h.before,hasHeights:!1}}function Ne(h,I,Y,X,fa){I.before&&(Y=-1);var La=Y+(X||"");if(I.cache.hasOwnProperty(La))h=I.cache[La];else{I.rect||(I.rect=I.view.text.getBoundingClientRect());if(!I.hasHeights){var Za=I.view,eb=I.rect,yb=h.options.lineWrapping,Tb=yb&&Yd(h);if(!Za.measure.heights||
yb&&Za.measure.width!=Tb){var jc=Za.measure.heights=[];if(yb)for(Za.measure.width=Tb,Za=Za.text.firstChild.getClientRects(),yb=0;yb<Za.length-1;yb++){Tb=Za[yb];var Sc=Za[yb+1];2<Math.abs(Tb.bottom-Sc.bottom)&&jc.push((Tb.bottom+Sc.top)/2-eb.top)}jc.push(eb.bottom-eb.top)}I.hasHeights=!0}jc=X;Za=rf(I.map,Y,jc);X=Za.node;eb=Za.start;yb=Za.end;Y=Za.collapse;if(3==X.nodeType){for(var bd=0;4>bd;bd++){for(;eb&&O(I.line.text.charAt(Za.coverStart+eb));)--eb;for(;Za.coverStart+yb<Za.coverEnd&&O(I.line.text.charAt(Za.coverStart+
yb));)++yb;if(Zf&&9>Eg&&0==eb&&yb==Za.coverEnd-Za.coverStart)var ed=X.parentNode.getBoundingClientRect();else{ed=cc(X,eb,yb).getClientRects();yb=Dk;if("left"==jc)for(Tb=0;Tb<ed.length&&(yb=ed[Tb]).left==yb.right;Tb++);else for(Tb=ed.length-1;0<=Tb&&(yb=ed[Tb]).left==yb.right;Tb--);ed=yb}if(ed.left||ed.right||0==eb)break;yb=eb;--eb;Y="right"}Zf&&11>Eg&&((bd=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=Me?bd=Me:(jc=p(h.display.measure,A("span","x")),bd=jc.getBoundingClientRect(),
jc=cc(jc,0,1).getBoundingClientRect(),bd=Me=1<Math.abs(bd.left-jc.left)),bd=!bd),bd||(bd=screen.logicalXDPI/screen.deviceXDPI,jc=screen.logicalYDPI/screen.deviceYDPI,ed={left:ed.left*bd,right:ed.right*bd,top:ed.top*jc,bottom:ed.bottom*jc}))}else 0<eb&&(Y=jc="right"),ed=h.options.lineWrapping&&1<(bd=X.getClientRects()).length?bd["right"==jc?bd.length-1:0]:X.getBoundingClientRect();!(Zf&&9>Eg)||eb||ed&&(ed.left||ed.right)||(ed=(ed=X.parentNode.getClientRects()[0])?{left:ed.left,right:ed.left+qf(h.display),
top:ed.top,bottom:ed.bottom}:Dk);X=ed.top-I.rect.top;eb=ed.bottom-I.rect.top;bd=(X+eb)/2;jc=I.view.measure.heights;for(Za=0;Za<jc.length-1&&!(bd<jc[Za]);Za++);Y={left:("right"==Y?ed.right:ed.left)-I.rect.left,right:("left"==Y?ed.left:ed.right)-I.rect.left,top:Za?jc[Za-1]:0,bottom:jc[Za]};ed.left||ed.right||(Y.bogus=!0);h.options.singleCursorHeightPerLine||(Y.rtop=X,Y.rbottom=eb);h=Y;h.bogus||(I.cache[La]=h)}return{left:h.left,right:h.right,top:fa?h.rtop:h.top,bottom:fa?h.rbottom:h.bottom}}function rf(h,
I,Y){for(var X,fa,La,Za,eb,yb,Tb=0;Tb<h.length;Tb+=3){eb=h[Tb];yb=h[Tb+1];if(I<eb)fa=0,La=1,Za="left";else if(I<yb)fa=I-eb,La=fa+1;else if(Tb==h.length-3||I==yb&&h[Tb+3]>I)La=yb-eb,fa=La-1,I>=yb&&(Za="right");if(null!=fa){X=h[Tb+2];eb==yb&&Y==(X.insertLeft?"left":"right")&&(Za=Y);if("left"==Y&&0==fa)for(;Tb&&h[Tb-2]==h[Tb-3]&&h[Tb-1].insertLeft;)X=h[(Tb-=3)+2],Za="left";if("right"==Y&&fa==yb-eb)for(;Tb<h.length-3&&h[Tb+3]==h[Tb+4]&&!h[Tb+5].insertLeft;)X=h[(Tb+=3)+2],Za="right";break}}return{node:X,
start:fa,end:La,collapse:Za,coverStart:eb,coverEnd:yb}}function Vb(h){if(h.measure&&(h.measure.cache={},h.measure.heights=null,h.rest))for(var I=0;I<h.rest.length;I++)h.measure.caches[I]={}}function sc(h){h.display.externalMeasure=null;k(h.display.lineMeasure);for(var I=0;I<h.display.view.length;I++)Vb(h.display.view[I])}function cd(h){sc(h);h.display.cachedCharWidth=h.display.cachedTextHeight=h.display.cachedPaddingH=null;h.options.lineWrapping||(h.display.maxLineChanged=!0);h.display.lineNumChars=
null}function wd(){return vi&&Ii?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Bd(){return vi&&Ii?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function pe(h){h=Ob(h).widgets;var I=0;if(h)for(var Y=0;Y<h.length;++Y)h[Y].above&&(I+=fd(h[Y]));return I}
function hf(h,I,Y,X,fa){fa||(fa=pe(I),Y.top+=fa,Y.bottom+=fa);if("line"==X)return Y;X||(X="local");I=dd(I);I="local"==X?I+h.display.lineSpace.offsetTop:I-h.display.viewOffset;if("page"==X||"window"==X)h=h.display.lineSpace.getBoundingClientRect(),I+=h.top+("window"==X?0:Bd()),X=h.left+("window"==X?0:wd()),Y.left+=X,Y.right+=X;Y.top+=I;Y.bottom+=I;return Y}function Vf(h,I,Y){if("div"==Y)return I;var X=I.left;I=I.top;"page"==Y?(X-=wd(),I-=Bd()):"local"!=Y&&Y||(Y=h.display.sizer.getBoundingClientRect(),
X+=Y.left,I+=Y.top);h=h.display.lineSpace.getBoundingClientRect();return{left:X-h.left,top:I-h.top}}function yf(h,I,Y,X,fa){X||(X=ma(h.doc,I.line));var La=X;I=I.ch;X=Ne(h,xe(h,X),I,fa);return hf(h,La,X,Y)}function Ff(h,I,Y,X,fa,La){function Za(bd,ed){bd=Ne(h,fa,bd,ed?"right":"left",La);ed?bd.left=bd.right:bd.right=bd.left;return hf(h,X,bd,Y)}function eb(bd,ed,Md){return Za(Md?bd-1:bd,1==yb[ed].level!=Md)}X=X||ma(h.doc,I.line);fa||(fa=xe(h,X));var yb=T(X,h.doc.direction),Tb=I.ch;I=I.sticky;Tb>=X.text.length?
(Tb=X.text.length,I="before"):0>=Tb&&(Tb=0,I="after");if(!yb)return Za("before"==I?Tb-1:Tb,"before"==I);var jc=ea(yb,Tb,I),Sc=Ie;jc=eb(Tb,jc,"before"==I);null!=Sc&&(jc.other=eb(Tb,Sc,"before"!=I));return jc}function Oe(h,I){var Y=0;I=Eb(h.doc,I);h.options.lineWrapping||(Y=qf(h.display)*I.ch);I=ma(h.doc,I.line);h=dd(I)+h.display.lineSpace.offsetTop;return{left:Y,right:Y,top:h,bottom:h+I.height}}function Gb(h,I,Y,X,fa){h=ka(h,I,Y);h.xRel=fa;X&&(h.outside=X);return h}function Wb(h,I,Y){var X=h.doc;Y+=
h.display.viewOffset;if(0>Y)return Gb(X.first,0,null,-1,-1);var fa=Na(X,Y),La=X.first+X.size-1;if(fa>La)return Gb(X.first+X.size-1,ma(X,La).text.length,null,1,1);0>I&&(I=0);for(var Za=ma(X,fa);;){La=Vd(h,Za,fa,I,Y);var eb=void 0;var yb=La.ch+(0<La.xRel||0<La.outside?1:0);if(Za=Ih&&Za.markedSpans)for(var Tb=0;Tb<Za.length;++Tb){var jc=Za[Tb];jc.marker.collapsed&&(null==jc.from||jc.from<yb)&&(null==jc.to||jc.to>yb)&&(!eb||0>db(eb,jc.marker))&&(eb=jc.marker)}if(!eb)return La;La=eb.find(1);if(La.line==
fa)return La;Za=ma(X,fa=La.line)}}function Uc(h,I,Y,X){X-=pe(I);I=I.text.length;var fa=S(function(La){return Ne(h,Y,La-1).bottom<=X},I,0);I=S(function(La){return Ne(h,Y,La).top>X},fa,I);return{begin:fa,end:I}}function ie(h,I,Y,X){Y||(Y=xe(h,I));X=hf(h,I,Ne(h,Y,X),"line").top;return Uc(h,I,Y,X)}function oe(h,I,Y,X){return h.bottom<=Y?!1:h.top>Y?!0:(X?h.left:h.right)>I}function Vd(h,I,Y,X,fa){fa-=dd(I);var La=xe(h,I),Za=pe(I),eb=0,yb=I.text.length,Tb=!0,jc=T(I,h.doc.direction);jc&&(jc=(h.options.lineWrapping?
se:Qd)(h,I,Y,La,jc,X,fa),eb=(Tb=1!=jc.level)?jc.from:jc.to-1,yb=Tb?jc.to:jc.from-1);var Sc=null,bd=null;jc=S(function(Md){var Ce=Ne(h,La,Md);Ce.top+=Za;Ce.bottom+=Za;if(!oe(Ce,X,fa,!1))return!1;Ce.top<=fa&&Ce.left<=X&&(Sc=Md,bd=Ce);return!0},eb,yb);var ed=!1;bd?(eb=X-bd.left<bd.right-X,Tb=eb==Tb,jc=Sc+(Tb?0:1),Tb=Tb?"after":"before",eb=eb?bd.left:bd.right):(Tb||jc!=yb&&jc!=eb||jc++,Tb=0==jc?"after":jc==I.text.length?"before":Ne(h,La,jc-(Tb?1:0)).bottom+Za<=fa==Tb?"after":"before",ed=Ff(h,ka(Y,jc,
Tb),"line",I,La),eb=ed.left,ed=fa<ed.top?-1:fa>=ed.bottom?1:0);jc=V(I.text,jc,1);return Gb(Y,jc,Tb,ed,X-eb)}function Qd(h,I,Y,X,fa,La,Za){var eb=S(function(jc){jc=fa[jc];var Sc=1!=jc.level;return oe(Ff(h,ka(Y,Sc?jc.to:jc.from,Sc?"before":"after"),"line",I,X),La,Za,!0)},0,fa.length-1),yb=fa[eb];if(0<eb){var Tb=1!=yb.level;Tb=Ff(h,ka(Y,Tb?yb.from:yb.to,Tb?"after":"before"),"line",I,X);oe(Tb,La,Za,!0)&&Tb.top>Za&&(yb=fa[eb-1])}return yb}function se(h,I,Y,X,fa,La,Za){Za=Uc(h,I,X,Za);Y=Za.begin;Za=Za.end;
/\s/.test(I.text.charAt(Za-1))&&Za--;for(var eb=I=null,yb=0;yb<fa.length;yb++){var Tb=fa[yb];if(!(Tb.from>=Za||Tb.to<=Y)){var jc=Ne(h,X,1!=Tb.level?Math.min(Za,Tb.to)-1:Math.max(Y,Tb.from)).right;jc=jc<La?La-jc+1E9:jc-La;if(!I||eb>jc)I=Tb,eb=jc}}I||(I=fa[fa.length-1]);I.from<Y&&(I={from:Y,to:I.to,level:I.level});I.to>Za&&(I={from:I.from,to:Za,level:I.level});return I}function cf(h){if(null!=h.cachedTextHeight)return h.cachedTextHeight;if(null==Ag){Ag=A("pre",null,"CodeMirror-line-like");for(var I=
0;49>I;++I)Ag.appendChild(document.createTextNode("x")),Ag.appendChild(A("br"));Ag.appendChild(document.createTextNode("x"))}p(h.measure,Ag);I=Ag.offsetHeight/50;3<I&&(h.cachedTextHeight=I);k(h.measure);return I||1}function qf(h){if(null!=h.cachedCharWidth)return h.cachedCharWidth;var I=A("span","xxxxxxxxxx"),Y=A("pre",[I],"CodeMirror-line-like");p(h.measure,Y);I=I.getBoundingClientRect();I=(I.right-I.left)/10;2<I&&(h.cachedCharWidth=I);return I||10}function ua(h){for(var I=h.display,Y={},X={},fa=
I.gutters.clientLeft,La=I.gutters.firstChild,Za=0;La;La=La.nextSibling,++Za){var eb=h.display.gutterSpecs[Za].className;Y[eb]=La.offsetLeft+La.clientLeft+fa;X[eb]=La.clientWidth}return{fixedPos:vb(I),gutterTotalWidth:I.gutters.offsetWidth,gutterLeft:Y,gutterWidth:X,wrapperWidth:I.wrapper.clientWidth}}function vb(h){return h.scroller.getBoundingClientRect().left-h.sizer.getBoundingClientRect().left}function Oa(h){var I=cf(h.display),Y=h.options.lineWrapping,X=Y&&Math.max(5,h.display.scroller.clientWidth/
qf(h.display)-3);return function(fa){if(Jc(h.doc,fa))return 0;var La=0;if(fa.widgets)for(var Za=0;Za<fa.widgets.length;Za++)fa.widgets[Za].height&&(La+=fa.widgets[Za].height);return Y?La+(Math.ceil(fa.text.length/X)||1)*I:La+I}}function ic(h){var I=h.doc,Y=Oa(h);I.iter(function(X){var fa=Y(X);fa!=X.height&&ab(X,fa)})}function la(h,I,Y,X){var fa=h.display;if(!Y&&"true"==(I.target||I.srcElement).getAttribute("cm-not-content"))return null;Y=fa.lineSpace.getBoundingClientRect();try{var La=I.clientX-Y.left;
var Za=I.clientY-Y.top}catch(yb){return null}I=Wb(h,La,Za);var eb;X&&0<I.xRel&&(eb=ma(h.doc,I.line).text).length==I.ch&&(X=c(eb,eb.length,h.options.tabSize)-eb.length,I=ka(I.line,Math.max(0,Math.round((La-Od(h.display).left)/qf(h.display))-X)));return I}function Qa(h,I){if(I>=h.display.viewTo)return null;I-=h.display.viewFrom;if(0>I)return null;h=h.display.view;for(var Y=0;Y<h.length;Y++)if(I-=h[Y].size,0>I)return Y}function fb(h,I,Y,X){null==I&&(I=h.doc.first);null==Y&&(Y=h.doc.first+h.doc.size);
X||(X=0);var fa=h.display;X&&Y<fa.viewTo&&(null==fa.updateLineNumbers||fa.updateLineNumbers>I)&&(fa.updateLineNumbers=I);h.curOp.viewChanged=!0;if(I>=fa.viewTo)Ih&&Ub(h.doc,I)<fa.viewTo&&Fb(h);else if(Y<=fa.viewFrom)Ih&&$b(h.doc,Y+X)>fa.viewFrom?Fb(h):(fa.viewFrom+=X,fa.viewTo+=X);else if(I<=fa.viewFrom&&Y>=fa.viewTo)Fb(h);else if(I<=fa.viewFrom){var La=ac(h,Y,Y+X,1);La?(fa.view=fa.view.slice(La.index),fa.viewFrom=La.lineN,fa.viewTo+=X):Fb(h)}else if(Y>=fa.viewTo)(La=ac(h,I,I,-1))?(fa.view=fa.view.slice(0,
La.index),fa.viewTo=La.lineN):Fb(h);else{La=ac(h,I,I,-1);var Za=ac(h,Y,Y+X,1);La&&Za?(fa.view=fa.view.slice(0,La.index).concat(Se(h,La.lineN,Za.lineN)).concat(fa.view.slice(Za.index)),fa.viewTo+=X):Fb(h)}if(h=fa.externalMeasured)Y<h.lineN?h.lineN+=X:I<h.lineN+h.size&&(fa.externalMeasured=null)}function xb(h,I,Y){h.curOp.viewChanged=!0;var X=h.display,fa=h.display.externalMeasured;fa&&I>=fa.lineN&&I<fa.lineN+fa.size&&(X.externalMeasured=null);I<X.viewFrom||I>=X.viewTo||(h=X.view[Qa(h,I)],null!=h.node&&
(h=h.changes||(h.changes=[]),-1==a(h,Y)&&h.push(Y)))}function Fb(h){h.display.viewFrom=h.display.viewTo=h.doc.first;h.display.view=[];h.display.viewOffset=0}function ac(h,I,Y,X){var fa=Qa(h,I),La=h.display.view;if(!Ih||Y==h.doc.first+h.doc.size)return{index:fa,lineN:Y};for(var Za=h.display.viewFrom,eb=0;eb<fa;eb++)Za+=La[eb].size;if(Za!=I){if(0<X){if(fa==La.length-1)return null;I=Za+La[fa].size-I;fa++}else I=Za-I;Y+=I}for(;Ub(h.doc,Y)!=Y;){if(fa==(0>X?0:La.length-1))return null;Y+=X*La[fa-(0>X?1:
0)].size;fa+=X}return{index:fa,lineN:Y}}function yc(h){h=h.display.view;for(var I=0,Y=0;Y<h.length;Y++){var X=h[Y];X.hidden||X.node&&!X.changes||++I}return I}function Zc(h){h.display.input.showSelection(h.display.input.prepareSelection())}function ad(h,I){void 0===I&&(I=!0);var Y=h.doc,X={},fa=X.cursors=document.createDocumentFragment(),La=X.selection=document.createDocumentFragment(),Za=h.options.$customCursor;Za&&(I=!0);for(var eb=0;eb<Y.sel.ranges.length;eb++)if(I||eb!=Y.sel.primIndex){var yb=
Y.sel.ranges[eb];if(!(yb.from().line>=h.display.viewTo||yb.to().line<h.display.viewFrom)){var Tb=yb.empty();if(Za){var jc=Za(h,yb);jc&&Lc(h,jc,fa)}else(Tb||h.options.showCursorWhenSelecting)&&Lc(h,yb.head,fa);Tb||tc(h,yb,La)}}return X}function Lc(h,I,Y){var X=Ff(h,I,"div",null,null,!h.options.singleCursorHeightPerLine),fa=Y.appendChild(A("div","","CodeMirror-cursor"));fa.style.left=X.left+"px";fa.style.top=X.top+"px";fa.style.height=Math.max(0,X.bottom-X.top)*h.options.cursorHeight+"px";/\bcm-fat-cursor\b/.test(h.getWrapperElement().className)&&
(I=yf(h,I,"div",null,null),I=I.right-I.left,fa.style.width=(0<I?I:h.defaultCharWidth())+"px");X.other&&(h=Y.appendChild(A("div","","CodeMirror-cursor CodeMirror-secondarycursor")),h.style.display="",h.style.left=X.other.left+"px",h.style.top=X.other.top+"px",h.style.height=.85*(X.other.bottom-X.other.top)+"px")}function Ec(h,I){return h.top-I.top||h.left-I.left}function tc(h,I,Y){function X(ed,Md,Ce,tf){0>Md&&(Md=0);Md=Math.round(Md);tf=Math.round(tf);eb.appendChild(A("div",null,"CodeMirror-selected",
"position: absolute; left: "+ed+"px;\n                             top: "+Md+"px; width: "+(null==Ce?jc-ed:Ce)+"px;\n                             height: "+(tf-Md)+"px"))}function fa(ed,Md,Ce){function tf(Wf,ng){return yf(h,ka(ed,Wf),"div",jf,ng)}function vh(Wf,ng,mg){Wf=ie(h,jf,null,Wf);ng="ltr"==ng==("after"==mg)?"left":"right";mg="after"==mg?Wf.begin:Wf.end-(/\s/.test(jf.text.charAt(Wf.end-1))?2:1);return tf(mg,ng)[ng]}var jf=ma(Za,ed),Tf=jf.text.length,Fg,Kg,vg=T(jf,Za.direction);ca(vg,Md||0,
null==Ce?Tf:Ce,function(Wf,ng,mg,Cg){var Kh="ltr"==mg,Eh=tf(Wf,Kh?"left":"right"),Yh=tf(ng-1,Kh?"right":"left"),Ni=null==Md&&0==Wf,Hi=null==Ce&&ng==Tf,Dj=0==Cg;Cg=!vg||Cg==vg.length-1;3>=Yh.top-Eh.top?(ng=(Sc?Ni:Hi)&&Dj?Tb:(Kh?Eh:Yh).left,X(ng,Eh.top,((Sc?Hi:Ni)&&Cg?jc:(Kh?Yh:Eh).right)-ng,Eh.bottom)):(Kh?(Kh=Sc&&Ni&&Dj?Tb:Eh.left,Ni=Sc?jc:vh(Wf,mg,"before"),Wf=Sc?Tb:vh(ng,mg,"after"),Hi=Sc&&Hi&&Cg?jc:Yh.right):(Kh=Sc?vh(Wf,mg,"before"):Tb,Ni=!Sc&&Ni&&Dj?jc:Eh.right,Wf=!Sc&&Hi&&Cg?Tb:Yh.left,Hi=Sc?
vh(ng,mg,"after"):jc),X(Kh,Eh.top,Ni-Kh,Eh.bottom),Eh.bottom<Yh.top&&X(Tb,Eh.bottom,null,Yh.top),X(Wf,Yh.top,Hi-Wf,Yh.bottom));if(!Fg||0>Ec(Eh,Fg))Fg=Eh;0>Ec(Yh,Fg)&&(Fg=Yh);if(!Kg||0>Ec(Eh,Kg))Kg=Eh;0>Ec(Yh,Kg)&&(Kg=Yh)});return{start:Fg,end:Kg}}var La=h.display,Za=h.doc,eb=document.createDocumentFragment(),yb=Od(h.display),Tb=yb.left,jc=Math.max(La.sizerWidth,Yd(h)-La.sizer.offsetLeft)-yb.right,Sc="ltr"==Za.direction;La=I.from();I=I.to();if(La.line==I.line)fa(La.line,La.ch,I.ch);else{var bd=ma(Za,
La.line);yb=ma(Za,I.line);yb=Ob(bd)==Ob(yb);La=fa(La.line,La.ch,yb?bd.text.length+1:null).end;I=fa(I.line,yb?0:null,I.ch).start;yb&&(La.top<I.top-2?(X(La.right,La.top,null,La.bottom),X(Tb,I.top,I.left,I.bottom)):X(La.right,La.top,I.left-La.right,La.bottom));La.bottom<I.top&&X(Tb,La.bottom,null,I.top)}Y.appendChild(eb)}function Nc(h){if(h.state.focused){var I=h.display;clearInterval(I.blinker);var Y=!0;I.cursorDiv.style.visibility="";0<h.options.cursorBlinkRate?I.blinker=setInterval(function(){h.hasFocus()||
Ib(h);I.cursorDiv.style.visibility=(Y=!Y)?"":"hidden"},h.options.cursorBlinkRate):0>h.options.cursorBlinkRate&&(I.cursorDiv.style.visibility="hidden")}}function mc(h){h.hasFocus()||(h.display.input.focus(),h.state.focused||jb(h))}function Qc(h){h.state.delayingBlurEvent=!0;setTimeout(function(){h.state.delayingBlurEvent&&(h.state.delayingBlurEvent=!1,h.state.focused&&Ib(h))},100)}function jb(h,I){h.state.delayingBlurEvent&&!h.state.draggingText&&(h.state.delayingBlurEvent=!1);"nocursor"!=h.options.readOnly&&
(h.state.focused||(J(h,"focus",h,I),h.state.focused=!0,f(h.display.wrapper,"CodeMirror-focused"),h.curOp||h.display.selForContextMenu==h.doc.sel||(h.display.input.reset(),rh&&setTimeout(function(){return h.display.input.reset(!0)},20)),h.display.input.receivedFocus()),Nc(h))}function Ib(h,I){h.state.delayingBlurEvent||(h.state.focused&&(J(h,"blur",h,I),h.state.focused=!1,bc(h.display.wrapper,"CodeMirror-focused")),clearInterval(h.display.blinker),setTimeout(function(){h.state.focused||(h.display.shift=
!1)},150))}function Qb(h){for(var I=h.display,Y=I.lineDiv.offsetTop,X=Math.max(0,I.scroller.getBoundingClientRect().top),fa=I.lineDiv.getBoundingClientRect().top,La=0,Za=0;Za<I.view.length;Za++){var eb=I.view[Za],yb=h.options.lineWrapping,Tb=0;if(!eb.hidden){fa+=eb.line.height;if(Zf&&8>Eg){yb=eb.node.offsetTop+eb.node.offsetHeight;var jc=yb-Y;Y=yb}else{var Sc=eb.node.getBoundingClientRect();jc=Sc.bottom-Sc.top;!yb&&eb.text.firstChild&&(Tb=eb.text.firstChild.getBoundingClientRect().right-Sc.left-1)}yb=
eb.line.height-jc;if(.005<yb||-.005>yb)if(fa<X&&(La-=yb),ab(eb.line,jc),Rb(eb.line),eb.rest)for(jc=0;jc<eb.rest.length;jc++)Rb(eb.rest[jc]);Tb>h.display.sizerWidth&&(Tb=Math.ceil(Tb/qf(h.display)),Tb>h.display.maxLineLength&&(h.display.maxLineLength=Tb,h.display.maxLine=eb.line,h.display.maxLineChanged=!0))}}2<Math.abs(La)&&(I.scroller.scrollTop+=La)}function Rb(h){if(h.widgets)for(var I=0;I<h.widgets.length;++I){var Y=h.widgets[I],X=Y.node.parentNode;X&&(Y.height=X.offsetHeight)}}function na(h,I,
Y){var X=Y&&null!=Y.top?Math.max(0,Y.top):h.scroller.scrollTop;X=Math.floor(X-h.lineSpace.offsetTop);var fa=Y&&null!=Y.bottom?Y.bottom:X+h.wrapper.clientHeight;X=Na(I,X);fa=Na(I,fa);if(Y&&Y.ensure){var La=Y.ensure.from.line;Y=Y.ensure.to.line;La<X?(X=La,fa=Na(I,dd(ma(I,La))+h.wrapper.clientHeight)):Math.min(Y,I.lastLine())>=fa&&(X=Na(I,dd(ma(I,Y))-h.wrapper.clientHeight),fa=Y)}return{from:X,to:Math.max(fa,X+1)}}function Ma(h,I){var Y=h.display,X=cf(h.display);0>I.top&&(I.top=0);var fa=h.curOp&&null!=
h.curOp.scrollTop?h.curOp.scrollTop:Y.scroller.scrollTop,La=Ee(h),Za={};I.bottom-I.top>La&&(I.bottom=I.top+La);var eb=h.doc.height+Fd(Y),yb=I.top<X;X=I.bottom>eb-X;I.top<fa?Za.scrollTop=yb?0:I.top:I.bottom>fa+La&&(La=Math.min(I.top,(X?eb:I.bottom)-La),La!=fa&&(Za.scrollTop=La));fa=h.options.fixedGutter?0:Y.gutters.offsetWidth;La=h.curOp&&null!=h.curOp.scrollLeft?h.curOp.scrollLeft:Y.scroller.scrollLeft-fa;h=Yd(h)-Y.gutters.offsetWidth;if(Y=I.right-I.left>h)I.right=I.left+h;10>I.left?Za.scrollLeft=
0:I.left<La?Za.scrollLeft=Math.max(0,I.left+fa-(Y?0:10)):I.right>h+La-3&&(Za.scrollLeft=I.right+(Y?0:10)-h);return Za}function lb(h,I){null!=I&&(Lb(h),h.curOp.scrollTop=(null==h.curOp.scrollTop?h.doc.scrollTop:h.curOp.scrollTop)+I)}function Jb(h){Lb(h);var I=h.getCursor();h.curOp.scrollToPos={from:I,to:I,margin:h.options.cursorScrollMargin}}function Nb(h,I,Y){null==I&&null==Y||Lb(h);null!=I&&(h.curOp.scrollLeft=I);null!=Y&&(h.curOp.scrollTop=Y)}function Lb(h){var I=h.curOp.scrollToPos;if(I){h.curOp.scrollToPos=
null;var Y=Oe(h,I.from),X=Oe(h,I.to);pc(h,Y,X,I.margin)}}function pc(h,I,Y,X){I=Ma(h,{left:Math.min(I.left,Y.left),top:Math.min(I.top,Y.top)-X,right:Math.max(I.right,Y.right),bottom:Math.max(I.bottom,Y.bottom)+X});Nb(h,I.scrollLeft,I.scrollTop)}function Oc(h,I){2>Math.abs(h.doc.scrollTop-I)||(lg||Lf(h,{top:I}),zc(h,I,!0),lg&&Lf(h),vd(h,100))}function zc(h,I,Y){I=Math.max(0,Math.min(h.display.scroller.scrollHeight-h.display.scroller.clientHeight,I));if(h.display.scroller.scrollTop!=I||Y)h.doc.scrollTop=
I,h.display.scrollbars.setScrollTop(I),h.display.scroller.scrollTop!=I&&(h.display.scroller.scrollTop=I)}function wc(h,I,Y,X){I=Math.max(0,Math.min(I,h.display.scroller.scrollWidth-h.display.scroller.clientWidth));(Y?I==h.doc.scrollLeft:2>Math.abs(h.doc.scrollLeft-I))&&!X||(h.doc.scrollLeft=I,Ge(h),h.display.scroller.scrollLeft!=I&&(h.display.scroller.scrollLeft=I),h.display.scrollbars.setScrollLeft(I))}function od(h){var I=h.display,Y=I.gutters.offsetWidth,X=Math.round(h.doc.height+Fd(h.display));
return{clientHeight:I.scroller.clientHeight,viewHeight:I.wrapper.clientHeight,scrollWidth:I.scroller.scrollWidth,clientWidth:I.scroller.clientWidth,viewWidth:I.wrapper.clientWidth,barLeft:h.options.fixedGutter?Y:0,docHeight:X,scrollHeight:X+Ud(h)+I.barHeight,nativeBarWidth:I.nativeBarWidth,gutterWidth:Y}}function qd(h,I){I||(I=od(h));var Y=h.display.barWidth,X=h.display.barHeight;Fe(h,I);for(I=0;4>I&&Y!=h.display.barWidth||X!=h.display.barHeight;I++)Y!=h.display.barWidth&&h.options.lineWrapping&&
Qb(h),Fe(h,od(h)),Y=h.display.barWidth,X=h.display.barHeight}function Fe(h,I){var Y=h.display,X=Y.scrollbars.update(I);Y.sizer.style.paddingRight=(Y.barWidth=X.right)+"px";Y.sizer.style.paddingBottom=(Y.barHeight=X.bottom)+"px";Y.heightForcer.style.borderBottom=X.bottom+"px solid transparent";X.right&&X.bottom?(Y.scrollbarFiller.style.display="block",Y.scrollbarFiller.style.height=X.bottom+"px",Y.scrollbarFiller.style.width=X.right+"px"):Y.scrollbarFiller.style.display="";X.bottom&&h.options.coverGutterNextToScrollbar&&
h.options.fixedGutter?(Y.gutterFiller.style.display="block",Y.gutterFiller.style.height=X.bottom+"px",Y.gutterFiller.style.width=I.gutterWidth+"px"):Y.gutterFiller.style.display=""}function Cd(h){h.display.scrollbars&&(h.display.scrollbars.clear(),h.display.scrollbars.addClass&&bc(h.display.wrapper,h.display.scrollbars.addClass));h.display.scrollbars=new ok[h.options.scrollbarStyle](function(I){h.display.wrapper.insertBefore(I,h.display.scrollbarFiller);Le(I,"mousedown",function(){h.state.focused&&
setTimeout(function(){return h.display.input.focus()},0)});I.setAttribute("cm-not-content","true")},function(I,Y){"horizontal"==Y?wc(h,I):Oc(h,I)},h);h.display.scrollbars.addClass&&f(h.display.wrapper,h.display.scrollbars.addClass)}function je(h){h.curOp={cm:h,viewChanged:!1,startHeight:h.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,
id:++Nk,markArrays:null};h=h.curOp;Di?Di.ops.push(h):h.ownsGroup=Di={ops:[h],delayedCallbacks:[]}}function ve(h){(h=h.curOp)&&ue(h,function(I){for(var Y=0;Y<I.ops.length;Y++)I.ops[Y].cm.curOp=null;I=I.ops;for(Y=0;Y<I.length;Y++){var X=I[Y],fa=X.cm,La=fa.display,Za=fa.display;!Za.scrollbarsClipped&&Za.scroller.offsetWidth&&(Za.nativeBarWidth=Za.scroller.offsetWidth-Za.scroller.clientWidth,Za.heightForcer.style.height=Ud(fa)+"px",Za.sizer.style.marginBottom=-Za.nativeBarWidth+"px",Za.sizer.style.borderRightWidth=
Ud(fa)+"px",Za.scrollbarsClipped=!0);X.updateMaxLine&&rd(fa);X.mustUpdate=X.viewChanged||X.forceUpdate||null!=X.scrollTop||X.scrollToPos&&(X.scrollToPos.from.line<La.viewFrom||X.scrollToPos.to.line>=La.viewTo)||La.maxLineChanged&&fa.options.lineWrapping;X.update=X.mustUpdate&&new cj(fa,X.mustUpdate&&{top:X.scrollTop,ensure:X.scrollToPos},X.forceUpdate)}for(Y=0;Y<I.length;Y++)X=I[Y],X.updatedDisplay=X.mustUpdate&&df(X.cm,X.update);for(Y=0;Y<I.length;Y++)if(X=I[Y],fa=X.cm,La=fa.display,X.updatedDisplay&&
Qb(fa),X.barMeasure=od(fa),La.maxLineChanged&&!fa.options.lineWrapping&&(Za=La.maxLine.text.length,Za=Ne(fa,xe(fa,La.maxLine),Za,void 0),X.adjustWidthTo=Za.left+3,fa.display.sizerWidth=X.adjustWidthTo,X.barMeasure.scrollWidth=Math.max(La.scroller.clientWidth,La.sizer.offsetLeft+X.adjustWidthTo+Ud(fa)+fa.display.barWidth),X.maxScrollLeft=Math.max(0,La.sizer.offsetLeft+X.adjustWidthTo-Yd(fa))),X.updatedDisplay||X.selectionChanged)X.preparedSelection=La.input.prepareSelection();for(Y=0;Y<I.length;Y++)X=
I[Y],fa=X.cm,null!=X.adjustWidthTo&&(fa.display.sizer.style.minWidth=X.adjustWidthTo+"px",X.maxScrollLeft<fa.doc.scrollLeft&&wc(fa,Math.min(fa.display.scroller.scrollLeft,X.maxScrollLeft),!0),fa.display.maxLineChanged=!1),La=X.focus&&X.focus==l(),X.preparedSelection&&fa.display.input.showSelection(X.preparedSelection,La),(X.updatedDisplay||X.startHeight!=fa.doc.height)&&qd(fa,X.barMeasure),X.updatedDisplay&&Xd(fa,X.barMeasure),X.selectionChanged&&Nc(fa),fa.state.focused&&X.updateInput&&fa.display.input.reset(X.typing),
La&&mc(X.cm);for(Y=0;Y<I.length;Y++){var eb=void 0;X=I[Y];fa=X.cm;La=fa.display;Za=fa.doc;X.updatedDisplay&&vf(fa,X.update);null==La.wheelStartX||null==X.scrollTop&&null==X.scrollLeft&&!X.scrollToPos||(La.wheelStartX=La.wheelStartY=null);null!=X.scrollTop&&zc(fa,X.scrollTop,X.forceScroll);null!=X.scrollLeft&&wc(fa,X.scrollLeft,!0,!0);if(X.scrollToPos){var yb=Eb(Za,X.scrollToPos.from);var Tb=Eb(Za,X.scrollToPos.to);var jc=X.scrollToPos.margin;null==jc&&(jc=0);fa.options.lineWrapping||yb!=Tb||(Tb="before"==
yb.sticky?ka(yb.line,yb.ch+1,"before"):yb,yb=yb.ch?ka(yb.line,"before"==yb.sticky?yb.ch-1:yb.ch,"after"):yb);for(var Sc=0;5>Sc;Sc++){var bd=!1;eb=Ff(fa,yb);var ed=Tb&&Tb!=yb?Ff(fa,Tb):eb;eb={left:Math.min(eb.left,ed.left),top:Math.min(eb.top,ed.top)-jc,right:Math.max(eb.left,ed.left),bottom:Math.max(eb.bottom,ed.bottom)+jc};ed=Ma(fa,eb);var Md=fa.doc.scrollTop,Ce=fa.doc.scrollLeft;null!=ed.scrollTop&&(Oc(fa,ed.scrollTop),1<Math.abs(fa.doc.scrollTop-Md)&&(bd=!0));null!=ed.scrollLeft&&(wc(fa,ed.scrollLeft),
1<Math.abs(fa.doc.scrollLeft-Ce)&&(bd=!0));if(!bd)break}Tb=eb;r(fa,"scrollCursorIntoView")||(jc=fa.display,Sc=jc.sizer.getBoundingClientRect(),yb=null,0>Tb.top+Sc.top?yb=!0:Tb.bottom+Sc.top>(window.innerHeight||document.documentElement.clientHeight)&&(yb=!1),null==yb||Ei||(Tb=A("div","",null,"position: absolute;\n                         top: "+(Tb.top-jc.viewOffset-fa.display.lineSpace.offsetTop)+"px;\n                         height: "+(Tb.bottom-Tb.top+Ud(fa)+jc.barHeight)+"px;\n                         left: "+
Tb.left+"px; width: "+Math.max(2,Tb.right-Tb.left)+"px;"),fa.display.lineSpace.appendChild(Tb),Tb.scrollIntoView(yb),fa.display.lineSpace.removeChild(Tb)))}Tb=X.maybeHiddenMarkers;yb=X.maybeUnhiddenMarkers;if(Tb)for(jc=0;jc<Tb.length;++jc)Tb[jc].lines.length||J(Tb[jc],"hide");if(yb)for(Tb=0;Tb<yb.length;++Tb)yb[Tb].lines.length&&J(yb[Tb],"unhide");La.wrapper.offsetHeight&&(Za.scrollTop=fa.display.scroller.scrollTop);X.changeObjs&&J(fa,"changes",fa,X.changeObjs);X.update&&X.update.finish()}})}function xd(h,
I){if(h.curOp)return I();je(h);try{return I()}finally{ve(h)}}function Id(h,I){return function(){if(h.curOp)return I.apply(h,arguments);je(h);try{return I.apply(h,arguments)}finally{ve(h)}}}function te(h){return function(){if(this.curOp)return h.apply(this,arguments);je(this);try{return h.apply(this,arguments)}finally{ve(this)}}}function ye(h){return function(){var I=this.cm;if(!I||I.curOp)return h.apply(this,arguments);je(I);try{return h.apply(this,arguments)}finally{ve(I)}}}function vd(h,I){h.doc.highlightFrontier<
h.display.viewTo&&h.state.highlight.set(I,d(ef,h))}function ef(h){var I=h.doc;if(!(I.highlightFrontier>=h.display.viewTo)){var Y=+new Date+h.options.workTime,X=Ic(h,I.highlightFrontier),fa=[];I.iter(X.line,Math.min(I.first+I.size,h.display.viewTo+500),function(La){if(X.line>=h.display.viewFrom){var Za=La.styles,eb=La.text.length>h.options.maxHighlightLength?va(I.mode,X.state):null,yb=Gc(h,La,X,!0);eb&&(X.state=eb);La.styles=yb.styles;eb=La.styleClasses;(yb=yb.classes)?La.styleClasses=yb:eb&&(La.styleClasses=
null);yb=!Za||Za.length!=La.styles.length||eb!=yb&&(!eb||!yb||eb.bgClass!=yb.bgClass||eb.textClass!=yb.textClass);for(eb=0;!yb&&eb<Za.length;++eb)yb=Za[eb]!=La.styles[eb];yb&&fa.push(X.line);La.stateAfter=X.save()}else La.text.length<=h.options.maxHighlightLength&&rc(h,La.text,X),La.stateAfter=0==X.line%5?X.save():null;X.nextLine();if(+new Date>Y)return vd(h,h.options.workDelay),!0});I.highlightFrontier=X.line;I.modeFrontier=Math.max(I.modeFrontier,X.line);fa.length&&xd(h,function(){for(var La=0;La<
fa.length;La++)xb(h,fa[La],"text")})}}function df(h,I){var Y=h.display,X=h.doc;if(I.editorIsHidden)return Fb(h),!1;if(!I.force&&I.visible.from>=Y.viewFrom&&I.visible.to<=Y.viewTo&&(null==Y.updateLineNumbers||Y.updateLineNumbers>=Y.viewTo)&&Y.renderedView==Y.view&&0==yc(h))return!1;og(h)&&(Fb(h),I.dims=ua(h));var fa=X.first+X.size,La=Math.max(I.visible.from-h.options.viewportMargin,X.first),Za=Math.min(fa,I.visible.to+h.options.viewportMargin);Y.viewFrom<La&&20>La-Y.viewFrom&&(La=Math.max(X.first,
Y.viewFrom));Y.viewTo>Za&&20>Y.viewTo-Za&&(Za=Math.min(fa,Y.viewTo));Ih&&(La=Ub(h.doc,La),Za=$b(h.doc,Za));X=La!=Y.viewFrom||Za!=Y.viewTo||Y.lastWrapHeight!=I.wrapperHeight||Y.lastWrapWidth!=I.wrapperWidth;fa=h.display;0==fa.view.length||La>=fa.viewTo||Za<=fa.viewFrom?(fa.view=Se(h,La,Za),fa.viewFrom=La):(fa.viewFrom>La?fa.view=Se(h,La,fa.viewFrom).concat(fa.view):fa.viewFrom<La&&(fa.view=fa.view.slice(Qa(h,La))),fa.viewFrom=La,fa.viewTo<Za?fa.view=fa.view.concat(Se(h,fa.viewTo,Za)):fa.viewTo>Za&&
(fa.view=fa.view.slice(0,Qa(h,Za))));fa.viewTo=Za;Y.viewOffset=dd(ma(h.doc,Y.viewFrom));h.display.mover.style.top=Y.viewOffset+"px";Za=yc(h);if(!X&&0==Za&&!I.force&&Y.renderedView==Y.view&&(null==Y.updateLineNumbers||Y.updateLineNumbers>=Y.viewTo))return!1;h.hasFocus()?La=null:(La=l())&&m(h.display.lineDiv,La)?(La={activeElt:La},window.getSelection&&(fa=window.getSelection(),fa.anchorNode&&fa.extend&&m(h.display.lineDiv,fa.anchorNode)&&(La.anchorNode=fa.anchorNode,La.anchorOffset=fa.anchorOffset,
La.focusNode=fa.focusNode,La.focusOffset=fa.focusOffset))):La=null;4<Za&&(Y.lineDiv.style.display="none");Of(h,Y.updateLineNumbers,I.dims);4<Za&&(Y.lineDiv.style.display="");Y.renderedView=Y.view;(Za=La)&&Za.activeElt&&Za.activeElt!=l()&&(Za.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Za.activeElt.nodeName)&&Za.anchorNode&&m(document.body,Za.anchorNode)&&m(document.body,Za.focusNode)&&(La=window.getSelection(),fa=document.createRange(),fa.setEnd(Za.anchorNode,Za.anchorOffset),fa.collapse(!1),La.removeAllRanges(),
La.addRange(fa),La.extend(Za.focusNode,Za.focusOffset)));k(Y.cursorDiv);k(Y.selectionDiv);Y.gutters.style.height=Y.sizer.style.minHeight=0;X&&(Y.lastWrapHeight=I.wrapperHeight,Y.lastWrapWidth=I.wrapperWidth,vd(h,400));Y.updateLineNumbers=null;return!0}function vf(h,I){for(var Y=I.viewport,X=!0;;X=!1){if(X&&h.options.lineWrapping&&I.oldDisplayWidth!=Yd(h))X&&(I.visible=na(h.display,h.doc,Y));else if(Y&&null!=Y.top&&(Y={top:Math.min(h.doc.height+Fd(h.display)-Ee(h),Y.top)}),I.visible=na(h.display,h.doc,
Y),I.visible.from>=h.display.viewFrom&&I.visible.to<=h.display.viewTo)break;if(!df(h,I))break;Qb(h);X=od(h);Zc(h);qd(h,X);Xd(h,X);I.force=!1}I.signal(h,"update",h);if(h.display.viewFrom!=h.display.reportedViewFrom||h.display.viewTo!=h.display.reportedViewTo)I.signal(h,"viewportChange",h,h.display.viewFrom,h.display.viewTo),h.display.reportedViewFrom=h.display.viewFrom,h.display.reportedViewTo=h.display.viewTo}function Lf(h,I){I=new cj(h,I);if(df(h,I)){Qb(h);vf(h,I);var Y=od(h);Zc(h);qd(h,Y);Xd(h,
Y);I.finish()}}function Of(h,I,Y){function X(bd){var ed=bd.nextSibling;rh&&Hg&&h.display.currentWheelTarget==bd?bd.style.display="none":bd.parentNode.removeChild(bd);return ed}var fa=h.display,La=h.options.lineNumbers,Za=fa.lineDiv,eb=Za.firstChild,yb=fa.view;fa=fa.viewFrom;for(var Tb=0;Tb<yb.length;Tb++){var jc=yb[Tb];if(!jc.hidden)if(jc.node&&jc.node.parentNode==Za){for(;eb!=jc.node;)eb=X(eb);eb=La&&null!=I&&I<=fa&&jc.lineNumber;jc.changes&&(-1<a(jc.changes,"gutter")&&(eb=!1),$a(h,jc,fa,Y));eb&&
(k(jc.lineNumber),jc.lineNumber.appendChild(document.createTextNode(aa(h.options,fa))));eb=jc.node.nextSibling}else{var Sc=Mc(h,jc,fa,Y);Za.insertBefore(Sc,eb)}fa+=jc.size}for(;eb;)eb=X(eb)}function Xg(h){h.sizer.style.marginLeft=h.gutters.offsetWidth+"px";me(h,"gutterChanged",h)}function Xd(h,I){h.display.sizer.style.minHeight=I.docHeight+"px";h.display.heightForcer.style.top=I.docHeight+"px";h.display.gutters.style.height=I.docHeight+h.display.barHeight+Ud(h)+"px"}function Ge(h){var I=h.display,
Y=I.view;if(I.alignWidgets||I.gutters.firstChild&&h.options.fixedGutter){for(var X=vb(I)-I.scroller.scrollLeft+h.doc.scrollLeft,fa=I.gutters.offsetWidth,La=X+"px",Za=0;Za<Y.length;Za++)if(!Y[Za].hidden){h.options.fixedGutter&&(Y[Za].gutter&&(Y[Za].gutter.style.left=La),Y[Za].gutterBackground&&(Y[Za].gutterBackground.style.left=La));var eb=Y[Za].alignable;if(eb)for(var yb=0;yb<eb.length;yb++)eb[yb].style.left=La}h.options.fixedGutter&&(I.gutters.style.left=X+fa+"px")}}function og(h){if(!h.options.lineNumbers)return!1;
var I=h.doc;I=aa(h.options,I.first+I.size-1);var Y=h.display;if(I.length!=Y.lineNumChars){var X=Y.measure.appendChild(A("div",[A("div",I)],"CodeMirror-linenumber CodeMirror-gutter-elt")),fa=X.firstChild.offsetWidth;X=X.offsetWidth-fa;Y.lineGutter.style.width="";Y.lineNumInnerWidth=Math.max(fa,Y.lineGutter.offsetWidth-X)+1;Y.lineNumWidth=Y.lineNumInnerWidth+X;Y.lineNumChars=Y.lineNumInnerWidth?I.length:-1;Y.lineGutter.style.width=Y.lineNumWidth+"px";Xg(h.display);return!0}return!1}function wg(h,I){for(var Y=
[],X=!1,fa=0;fa<h.length;fa++){var La=h[fa],Za=null;"string"!=typeof La&&(Za=La.style,La=La.className);if("CodeMirror-linenumbers"==La)if(I)X=!0;else continue;Y.push({className:La,style:Za})}I&&!X&&Y.push({className:"CodeMirror-linenumbers",style:null});return Y}function Zg(h){var I=h.gutters,Y=h.gutterSpecs;k(I);h.lineGutter=null;for(var X=0;X<Y.length;++X){var fa=Y[X],La=fa.className;fa=fa.style;var Za=I.appendChild(A("div",null,"CodeMirror-gutter "+La));fa&&(Za.style.cssText=fa);"CodeMirror-linenumbers"==
La&&(h.lineGutter=Za,Za.style.width=(h.lineNumWidth||1)+"px")}I.style.display=Y.length?"":"none";Xg(h)}function Bg(h){Zg(h.display);fb(h);Ge(h)}function Qg(h,I,Y,X){this.input=Y;this.scrollbarFiller=A("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=A("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=u("div",null,"CodeMirror-code");this.selectionDiv=A("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=A("div",null,"CodeMirror-cursors");this.measure=A("div",null,"CodeMirror-measure");this.lineMeasure=A("div",null,"CodeMirror-measure");this.lineSpace=u("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var fa=u("div",[this.lineSpace],"CodeMirror-lines");this.mover=A("div",[fa],null,"position: relative");this.sizer=A("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=A("div",null,null,
"position: absolute; height: 50px; width: 1px;");this.gutters=A("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=A("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=A("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");this.wrapper.setAttribute("translate","no");Zf&&8>Eg&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);rh||lg&&Bi||(this.scroller.draggable=!0);h&&
(h.appendChild?h.appendChild(this.wrapper):h(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=I.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=
null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=wg(X.gutters,X.lineNumbers);Zg(this);Y.init(this)}function sg(h){var I=h.wheelDeltaX,Y=h.wheelDeltaY;null==I&&h.detail&&h.axis==h.HORIZONTAL_AXIS&&(I=h.detail);null==Y&&h.detail&&h.axis==h.VERTICAL_AXIS?Y=h.detail:null==Y&&(Y=h.wheelDelta);return{x:I,y:Y}}function fg(h){h=sg(h);h.x*=Hh;h.y*=Hh;return h}function zf(h,
I){var Y=sg(I),X=Y.x;Y=Y.y;var fa=Hh;0===I.deltaMode&&(X=I.deltaX,Y=I.deltaY,fa=1);var La=h.display,Za=La.scroller,eb=Za.scrollWidth>Za.clientWidth,yb=Za.scrollHeight>Za.clientHeight;if(X&&eb||Y&&yb){if(Y&&Hg&&rh){eb=I.target;var Tb=La.view;a:for(;eb!=Za;eb=eb.parentNode)for(var jc=0;jc<Tb.length;jc++)if(Tb[jc].node==eb){h.display.currentWheelTarget=eb;break a}}!X||lg||yh||null==fa?(Y&&null!=fa&&(fa*=Y,yb=h.doc.scrollTop,eb=yb+La.wrapper.clientHeight,0>fa?yb=Math.max(0,yb+fa-50):eb=Math.min(h.doc.height,
eb+fa+50),Lf(h,{top:yb,bottom:eb})),20>Mi&&0!==I.deltaMode&&(null==La.wheelStartX?(La.wheelStartX=Za.scrollLeft,La.wheelStartY=Za.scrollTop,La.wheelDX=X,La.wheelDY=Y,setTimeout(function(){if(null!=La.wheelStartX){var Sc=Za.scrollLeft-La.wheelStartX,bd=Za.scrollTop-La.wheelStartY;Sc=bd&&La.wheelDY&&bd/La.wheelDY||Sc&&La.wheelDX&&Sc/La.wheelDX;La.wheelStartX=La.wheelStartY=null;Sc&&(Hh=(Hh*Mi+Sc)/(Mi+1),++Mi)}},200)):(La.wheelDX+=X,La.wheelDY+=Y))):(Y&&yb&&Oc(h,Math.max(0,Za.scrollTop+Y*fa)),wc(h,Math.max(0,
Za.scrollLeft+X*fa)),(!Y||Y&&yb)&&ja(I),La.wheelStartX=null)}}function Pf(h,I,Y){h=h&&h.options.selectionsMayTouch;Y=I[Y];I.sort(function(yb,Tb){return Ia(yb.from(),Tb.from())});Y=a(I,Y);for(var X=1;X<I.length;X++){var fa=I[X],La=I[X-1],Za=Ia(La.to(),fa.from());if(h&&!fa.empty()?0<Za:0<=Za){Za=ib(La.from(),fa.from());var eb=mb(La.to(),fa.to());fa=La.empty()?fa.from()==fa.head:La.from()==La.head;X<=Y&&--Y;I.splice(--X,2,new kg(fa?eb:Za,fa?Za:eb))}}return new dh(I,Y)}function eg(h,I){return new dh([new kg(h,
I||h)],0)}function Mf(h){return h.text?ka(h.from.line+h.text.length-1,y(h.text).length+(1==h.text.length?h.from.ch:0)):h.to}function gg(h,I){if(0>Ia(h,I.from))return h;if(0>=Ia(h,I.to))return Mf(I);var Y=h.line+I.text.length-(I.to.line-I.from.line)-1,X=h.ch;h.line==I.to.line&&(X+=Mf(I).ch-I.to.ch);return ka(Y,X)}function kh(h,I){for(var Y=[],X=0;X<h.sel.ranges.length;X++){var fa=h.sel.ranges[X];Y.push(new kg(gg(fa.anchor,I),gg(fa.head,I)))}return Pf(h.cm,Y,h.sel.primIndex)}function th(h,I,Y){return h.line==
I.line?ka(Y.line,h.ch-I.ch+Y.ch):ka(Y.line+(h.line-I.line),h.ch)}function Gg(h){h.doc.mode=qa(h.options,h.doc.modeOption);xg(h)}function xg(h){h.doc.iter(function(I){I.stateAfter&&(I.stateAfter=null);I.styles&&(I.styles=null)});h.doc.modeFrontier=h.doc.highlightFrontier=h.doc.first;vd(h,100);h.state.modeGen++;h.curOp&&fb(h)}function zh(h,I){return 0==I.from.ch&&0==I.to.ch&&""==y(I.text)&&(!h.cm||h.cm.options.wholeLineUpdateBefore)}function bb(h,I,Y,X){function fa(Md,Ce,tf){Md.text=Ce;Md.stateAfter&&
(Md.stateAfter=null);Md.styles&&(Md.styles=null);null!=Md.order&&(Md.order=null);Ca(Md);Ha(Md,tf);Ce=X?X(Md):1;Ce!=Md.height&&ab(Md,Ce);me(Md,"change",Md,I)}function La(Md,Ce){for(var tf=[];Md<Ce;++Md)tf.push(new Pi(yb[Md],Y?Y[Md]:null,X));return tf}var Za=I.from,eb=I.to,yb=I.text,Tb=ma(h,Za.line),jc=ma(h,eb.line),Sc=y(yb),bd=Y?Y[yb.length-1]:null,ed=eb.line-Za.line;I.full?(h.insert(0,La(0,yb.length)),h.remove(yb.length,h.size-yb.length)):zh(h,I)?(eb=La(0,yb.length-1),fa(jc,jc.text,bd),ed&&h.remove(Za.line,
ed),eb.length&&h.insert(Za.line,eb)):Tb==jc?1==yb.length?fa(Tb,Tb.text.slice(0,Za.ch)+Sc+Tb.text.slice(eb.ch),bd):(ed=La(1,yb.length-1),ed.push(new Pi(Sc+Tb.text.slice(eb.ch),bd,X)),fa(Tb,Tb.text.slice(0,Za.ch)+yb[0],Y?Y[0]:null),h.insert(Za.line+1,ed)):1==yb.length?(fa(Tb,Tb.text.slice(0,Za.ch)+yb[0]+jc.text.slice(eb.ch),Y?Y[0]:null),h.remove(Za.line+1,ed)):(fa(Tb,Tb.text.slice(0,Za.ch)+yb[0],Y?Y[0]:null),fa(jc,Sc+jc.text.slice(eb.ch),bd),bd=La(1,yb.length-1),1<ed&&h.remove(Za.line+1,ed-1),h.insert(Za.line+
1,bd));me(h,"change",h,I)}function Hb(h,I,Y){function X(fa,La,Za){if(fa.linked)for(var eb=0;eb<fa.linked.length;++eb){var yb=fa.linked[eb];if(yb.doc!=La){var Tb=Za&&yb.sharedHist;if(!Y||Tb)I(yb.doc,Tb),X(yb.doc,fa,Tb)}}}X(h,null,!0)}function nc(h,I){if(I.cm)throw Error("This document is already in use.");h.doc=I;I.cm=h;ic(h);Gg(h);td(h);h.options.direction=I.direction;h.options.lineWrapping||rd(h);h.options.mode=I.modeOption;fb(h)}function td(h){("rtl"==h.doc.direction?f:bc)(h.display.lineDiv,"CodeMirror-rtl")}
function zd(h){xd(h,function(){td(h);fb(h)})}function he(h){this.done=[];this.undone=[];this.undoDepth=h?h.undoDepth:Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=h?h.maxGeneration:1}function kf(h,I){var Y={from:Ya(I.from),to:Mf(I),text:Ea(h,I.from,I.to)};eh(h,Y,I.from.line,I.to.line+1);Hb(h,function(X){return eh(X,Y,I.from.line,I.to.line+1)},!0);return Y}function sf(h){for(;h.length;)if(y(h).ranges)h.pop();
else break}function Rg(h,I,Y,X){var fa=h.history;fa.undone.length=0;var La=+new Date,Za;if(Za=fa.lastOp==X||fa.lastOrigin==I.origin&&I.origin&&("+"==I.origin.charAt(0)&&fa.lastModTime>La-(h.cm?h.cm.options.historyEventDelay:500)||"*"==I.origin.charAt(0))){if(fa.lastOp==X){sf(fa.done);var eb=y(fa.done)}else fa.done.length&&!y(fa.done).ranges?eb=y(fa.done):1<fa.done.length&&!fa.done[fa.done.length-2].ranges?(fa.done.pop(),eb=y(fa.done)):eb=void 0;Za=eb}if(Za){var yb=y(eb.changes);0==Ia(I.from,I.to)&&
0==Ia(I.from,yb.to)?yb.to=Mf(I):eb.changes.push(kf(h,I))}else for((eb=y(fa.done))&&eb.ranges||Rf(h.sel,fa.done),eb={changes:[kf(h,I)],generation:fa.generation},fa.done.push(eb);fa.done.length>fa.undoDepth;)fa.done.shift(),fa.done[0].ranges||fa.done.shift();fa.done.push(Y);fa.generation=++fa.maxGeneration;fa.lastModTime=fa.lastSelTime=La;fa.lastOp=fa.lastSelOp=X;fa.lastOrigin=fa.lastSelOrigin=I.origin;yb||J(h,"historyAdded")}function Rf(h,I){var Y=y(I);Y&&Y.ranges&&Y.equals(h)||I.push(h)}function eh(h,
I,Y,X){var fa=I["spans_"+h.id],La=0;h.iter(Math.max(h.first,Y),Math.min(h.first+h.size,X),function(Za){Za.markedSpans&&((fa||(fa=I["spans_"+h.id]={}))[La]=Za.markedSpans);++La})}function uh(h,I){var Y;if(Y=I["spans_"+h.id]){for(var X=[],fa=0;fa<I.text.length;++fa){var La=X,Za=La.push;var eb=void 0;var yb=Y[fa];if(yb){for(var Tb=0;Tb<yb.length;++Tb)yb[Tb].marker.explicitlyCleared?eb||(eb=yb.slice(0,Tb)):eb&&eb.push(yb[Tb]);eb=eb?eb.length?eb:null:yb}else eb=null;Za.call(La,eb)}Y=X}else Y=null;h=Yc(h,
I);if(!Y)return h;if(!h)return Y;for(I=0;I<Y.length;++I)if(X=Y[I],fa=h[I],X&&fa)a:for(La=0;La<fa.length;++La){Za=fa[La];for(eb=0;eb<X.length;++eb)if(X[eb].marker==Za.marker)continue a;X.push(Za)}else fa&&(Y[I]=fa);return Y}function $g(h,I,Y){for(var X=[],fa=0;fa<h.length;++fa){var La=h[fa];if(La.ranges)X.push(Y?dh.prototype.deepCopy.call(La):La);else{La=La.changes;var Za=[];X.push({changes:Za});for(var eb=0;eb<La.length;++eb){var yb=La[eb],Tb;Za.push({from:yb.from,to:yb.to,text:yb.text});if(I)for(var jc in yb)(Tb=
jc.match(/^spans_(\d+)$/))&&-1<a(I,Number(Tb[1]))&&(y(Za)[jc]=yb[jc],delete yb[jc])}}}return X}function fh(h,I,Y,X){return X?(h=h.anchor,Y&&(X=0>Ia(I,h),X!=0>Ia(Y,h)?(h=I,I=Y):X!=0>Ia(I,Y)&&(I=Y)),new kg(h,I)):new kg(Y||I,I)}function mf(h,I,Y,X,fa){null==fa&&(fa=h.cm&&(h.cm.display.shift||h.extend));tg(h,new dh([fh(h.sel.primary(),I,Y,fa)],0),X)}function ae(h,I,Y){for(var X=[],fa=h.cm&&(h.cm.display.shift||h.extend),La=0;La<h.sel.ranges.length;La++)X[La]=fh(h.sel.ranges[La],I[La],null,fa);I=Pf(h.cm,
X,h.sel.primIndex);tg(h,I,Y)}function gh(h,I,Y,X){var fa=h.sel.ranges.slice(0);fa[I]=Y;tg(h,Pf(h.cm,fa,h.sel.primIndex),X)}function Vh(h,I,Y){Y={ranges:I.ranges,update:function(X){this.ranges=[];for(var fa=0;fa<X.length;fa++)this.ranges[fa]=new kg(Eb(h,X[fa].anchor),Eb(h,X[fa].head))},origin:Y&&Y.origin};J(h,"beforeSelectionChange",h,Y);h.cm&&J(h.cm,"beforeSelectionChange",h.cm,Y);return Y.ranges!=I.ranges?Pf(h.cm,Y.ranges,Y.ranges.length-1):I}function lh(h,I,Y){var X=h.history.done,fa=y(X);fa&&fa.ranges?
(X[X.length-1]=I,Mh(h,I,Y)):tg(h,I,Y)}function tg(h,I,Y){Mh(h,I,Y);I=h.sel;var X=h.cm?h.cm.curOp.id:NaN,fa=h.history,La=Y&&Y.origin,Za;if(!(Za=X==fa.lastSelOp)&&(Za=La&&fa.lastSelOrigin==La)&&!(Za=fa.lastModTime==fa.lastSelTime&&fa.lastOrigin==La)){Za=y(fa.done);var eb=La.charAt(0);Za="*"==eb||"+"==eb&&Za.ranges.length==I.ranges.length&&Za.somethingSelected()==I.somethingSelected()&&new Date-h.history.lastSelTime<=(h.cm?h.cm.options.historyEventDelay:500)}Za?fa.done[fa.done.length-1]=I:Rf(I,fa.done);
fa.lastSelTime=+new Date;fa.lastSelOrigin=La;fa.lastSelOp=X;Y&&!1!==Y.clearRedo&&sf(fa.undone)}function Mh(h,I,Y){if(N(h,"beforeSelectionChange")||h.cm&&N(h.cm,"beforeSelectionChange"))I=Vh(h,I,Y);var X=Y&&Y.bias||(0>Ia(I.primary().head,h.sel.primary().head)?-1:1);Th(h,gf(h,I,X,!0));Y&&!1===Y.scroll||!h.cm||"nocursor"==h.cm.getOption("readOnly")||Jb(h.cm)}function Th(h,I){I.equals(h.sel)||(h.sel=I,h.cm&&(h.cm.curOp.updateInput=1,h.cm.curOp.selectionChanged=!0,C(h.cm)),me(h,"cursorActivity",h))}function Te(h){Th(h,
gf(h,h.sel,null,!1))}function gf(h,I,Y,X){for(var fa,La=0;La<I.ranges.length;La++){var Za=I.ranges[La],eb=I.ranges.length==h.sel.ranges.length&&h.sel.ranges[La],yb=Z(h,Za.anchor,eb&&eb.anchor,Y,X);eb=Z(h,Za.head,eb&&eb.head,Y,X);if(fa||yb!=Za.anchor||eb!=Za.head)fa||(fa=I.ranges.slice(0,La)),fa[La]=new kg(yb,eb)}return fa?Pf(h.cm,fa,I.primIndex):I}function K(h,I,Y,X,fa){var La=ma(h,I.line);if(La.markedSpans)for(var Za=0;Za<La.markedSpans.length;++Za){var eb=La.markedSpans[Za],yb=eb.marker,Tb="selectLeft"in
yb?!yb.selectLeft:yb.inclusiveLeft,jc="selectRight"in yb?!yb.selectRight:yb.inclusiveRight;if((null==eb.from||(Tb?eb.from<=I.ch:eb.from<I.ch))&&(null==eb.to||(jc?eb.to>=I.ch:eb.to>I.ch))){if(fa&&(J(yb,"beforeCursorEnter"),yb.explicitlyCleared))if(La.markedSpans){--Za;continue}else break;if(yb.atomic){if(Y){Za=yb.find(0>X?1:-1);eb=void 0;if(0>X?jc:Tb)Za=wa(h,Za,-X,Za&&Za.line==I.line?La:null);if(Za&&Za.line==I.line&&(eb=Ia(Za,Y))&&(0>X?0>eb:0<eb))return K(h,Za,I,X,fa)}Y=yb.find(0>X?-1:1);if(0>X?Tb:
jc)Y=wa(h,Y,X,Y.line==I.line?La:null);return Y?K(h,Y,I,X,fa):null}}}return I}function Z(h,I,Y,X,fa){X=X||1;I=K(h,I,Y,X,fa)||!fa&&K(h,I,Y,X,!0)||K(h,I,Y,-X,fa)||!fa&&K(h,I,Y,-X,!0);return I?I:(h.cantEdit=!0,ka(h.first,0))}function wa(h,I,Y,X){return 0>Y&&0==I.ch?I.line>h.first?Eb(h,ka(I.line-1)):null:0<Y&&I.ch==(X||ma(h,I.line)).text.length?I.line<h.first+h.size-1?ka(I.line+1,0):null:new ka(I.line,I.ch+Y)}function Ta(h){h.setSelection(ka(h.firstLine(),0),ka(h.lastLine()),Gd)}function pb(h,I,Y){var X=
{canceled:!1,from:I.from,to:I.to,text:I.text,origin:I.origin,cancel:function(){return X.canceled=!0}};Y&&(X.update=function(fa,La,Za,eb){fa&&(X.from=Eb(h,fa));La&&(X.to=Eb(h,La));Za&&(X.text=Za);void 0!==eb&&(X.origin=eb)});J(h,"beforeChange",h,X);h.cm&&J(h.cm,"beforeChange",h.cm,X);return X.canceled?(h.cm&&(h.cm.curOp.updateInput=2),null):{from:X.from,to:X.to,text:X.text,origin:X.origin}}function Db(h,I,Y){if(h.cm){if(!h.cm.curOp)return Id(h.cm,Db)(h,I,Y);if(h.cm.state.suppressEdits)return}if(N(h,
"beforeChange")||h.cm&&N(h.cm,"beforeChange"))if(I=pb(h,I,!0),!I)return;if(Y=$h&&!Y&&Fa(h,I.from,I.to))for(var X=Y.length-1;0<=X;--X)Xb(h,{from:Y[X].from,to:Y[X].to,text:X?[""]:I.text,origin:I.origin});else Xb(h,I)}function Xb(h,I){if(1!=I.text.length||""!=I.text[0]||0!=Ia(I.from,I.to)){var Y=kh(h,I);Rg(h,I,Y,h.cm?h.cm.curOp.id:NaN);Pc(h,I,Y,Yc(h,I));var X=[];Hb(h,function(fa,La){La||-1!=a(X,fa.history)||(Jf(fa.history,I),X.push(fa.history));Pc(fa,I,null,Yc(fa,I))})}}function Hc(h,I,Y){var X=h.cm&&
h.cm.state.suppressEdits;if(!X||Y){for(var fa=h.history,La,Za=h.sel,eb="undo"==I?fa.done:fa.undone,yb="undo"==I?fa.undone:fa.done,Tb=0;Tb<eb.length&&(La=eb[Tb],Y?!La.ranges||La.equals(h.sel):La.ranges);Tb++);if(Tb!=eb.length){for(fa.lastOrigin=fa.lastSelOrigin=null;;)if(La=eb.pop(),La.ranges){Rf(La,yb);if(Y&&!La.equals(h.sel)){tg(h,La,{clearRedo:!1});return}Za=La}else{if(X){eb.push(La);return}break}var jc=[];Rf(Za,yb);yb.push({changes:jc,generation:fa.generation});fa.generation=La.generation||++fa.maxGeneration;
var Sc=N(h,"beforeChange")||h.cm&&N(h.cm,"beforeChange");Y=function(bd){var ed=La.changes[bd];ed.origin=I;if(Sc&&!pb(h,ed,!1))return eb.length=0,{};jc.push(kf(h,ed));var Md=bd?kh(h,ed):y(eb);Pc(h,ed,Md,uh(h,ed));!bd&&h.cm&&h.cm.scrollIntoView({from:ed.from,to:Mf(ed)});var Ce=[];Hb(h,function(tf,vh){vh||-1!=a(Ce,tf.history)||(Jf(tf.history,ed),Ce.push(tf.history));Pc(tf,ed,null,uh(tf,ed))})};for(X=La.changes.length-1;0<=X;--X)if(fa=Y(X))return fa.v}}}function Vc(h,I){if(0!=I&&(h.first+=I,h.sel=new dh(q(h.sel.ranges,
function(fa){return new kg(ka(fa.anchor.line+I,fa.anchor.ch),ka(fa.head.line+I,fa.head.ch))}),h.sel.primIndex),h.cm)){fb(h.cm,h.first,h.first-I,I);for(var Y=h.cm.display,X=Y.viewFrom;X<Y.viewTo;X++)xb(h.cm,X,"gutter")}}function Pc(h,I,Y,X){if(h.cm&&!h.cm.curOp)return Id(h.cm,Pc)(h,I,Y,X);if(I.to.line<h.first)Vc(h,I.text.length-1-(I.to.line-I.from.line));else if(!(I.from.line>h.lastLine())){if(I.from.line<h.first){var fa=I.text.length-1-(h.first-I.from.line);Vc(h,fa);I={from:ka(h.first,0),to:ka(I.to.line+
fa,I.to.ch),text:[y(I.text)],origin:I.origin}}fa=h.lastLine();I.to.line>fa&&(I={from:I.from,to:ka(fa,ma(h,fa).text.length),text:[I.text[0]],origin:I.origin});I.removed=Ea(h,I.from,I.to);Y||(Y=kh(h,I));h.cm?Dd(h.cm,I,X):bb(h,I,X);Mh(h,Y,Gd);h.cantEdit&&Z(h,ka(h.firstLine(),0))&&(h.cantEdit=!1)}}function Dd(h,I,Y){var X=h.doc,fa=h.display,La=I.from,Za=I.to,eb=!1,yb=La.line;h.options.lineWrapping||(yb=ta(Ob(ma(X,La.line))),X.iter(yb,Za.line+1,function(Tb){if(Tb==fa.maxLine)return eb=!0}));-1<X.sel.contains(I.from,
I.to)&&C(h);bb(X,I,Y,Oa(h));h.options.lineWrapping||(X.iter(yb,La.line+I.text.length,function(Tb){var jc=ld(Tb);jc>fa.maxLineLength&&(fa.maxLine=Tb,fa.maxLineLength=jc,fa.maxLineChanged=!0,eb=!1)}),eb&&(h.curOp.updateMaxLine=!0));vc(X,La.line);vd(h,400);Y=I.text.length-(Za.line-La.line)-1;I.full?fb(h):La.line!=Za.line||1!=I.text.length||zh(h.doc,I)?fb(h,La.line,Za.line+1,Y):xb(h,La.line,"text");Y=N(h,"changes");if((X=N(h,"change"))||Y)I={from:La,to:Za,text:I.text,removed:I.removed,origin:I.origin},
X&&me(h,"change",h,I),Y&&(h.curOp.changeObjs||(h.curOp.changeObjs=[])).push(I);h.display.selForContextMenu=null}function Rd(h,I,Y,X,fa){X||(X=Y);0>Ia(X,Y)&&(X=[X,Y],Y=X[0],X=X[1]);"string"==typeof I&&(I=h.splitLines(I));Db(h,{from:Y,to:X,text:I,origin:fa})}function Ve(h,I,Y,X){Y<h.line?h.line+=X:I<h.line&&(h.line=I,h.ch=0)}function He(h,I,Y,X){for(var fa=0;fa<h.length;++fa){var La=h[fa],Za=!0;if(La.ranges)for(La.copied||(La=h[fa]=La.deepCopy(),La.copied=!0),Za=0;Za<La.ranges.length;Za++)Ve(La.ranges[Za].anchor,
I,Y,X),Ve(La.ranges[Za].head,I,Y,X);else{for(var eb=0;eb<La.changes.length;++eb){var yb=La.changes[eb];if(Y<yb.from.line)yb.from=ka(yb.from.line+X,yb.from.ch),yb.to=ka(yb.to.line+X,yb.to.ch);else if(I<=yb.to.line){Za=!1;break}}Za||(h.splice(0,fa+1),fa=0)}}}function Jf(h,I){var Y=I.from.line,X=I.to.line;I=I.text.length-(X-Y)-1;He(h.done,Y,X,I);He(h.undone,Y,X,I)}function Pd(h,I,Y,X){var fa=I,La=I;"number"==typeof I?La=ma(h,Math.max(h.first,Math.min(I,h.first+h.size-1))):fa=ta(I);if(null==fa)return null;
X(La,fa)&&h.cm&&xb(h.cm,fa,Y);return La}function ge(h){this.lines=h;this.parent=null;for(var I=0,Y=0;Y<h.length;++Y)h[Y].parent=this,I+=h[Y].height;this.height=I}function Je(h){this.children=h;for(var I=0,Y=0,X=0;X<h.length;++X){var fa=h[X];I+=fa.chunkSize();Y+=fa.height;fa.parent=this}this.size=I;this.height=Y;this.parent=null}function Pe(h,I,Y,X){var fa=new ti(h,Y,X),La=h.cm;La&&fa.noHScroll&&(La.display.alignWidgets=!0);Pd(h,I,"widget",function(Za){var eb=Za.widgets||(Za.widgets=[]);null==fa.insertAt?
eb.push(fa):eb.splice(Math.min(eb.length,Math.max(0,fa.insertAt)),0,fa);fa.line=Za;La&&!Jc(h,Za)&&(eb=dd(Za)<h.scrollTop,ab(Za,Za.height+fd(fa)),eb&&lb(La,fa.height),La.curOp.forceUpdate=!0);return!0});La&&me(La,"lineWidgetAdded",La,fa,"number"==typeof I?I:ta(I));return fa}function Hf(h,I,Y,X,fa){if(X&&X.shared)return hg(h,I,Y,X,fa);if(h.cm&&!h.cm.curOp)return Id(h.cm,Hf)(h,I,Y,X,fa);var La=new ki(h,fa);fa=Ia(I,Y);X&&b(X,La,!1);if(0<fa||0==fa&&!1!==La.clearWhenEmpty)return La;La.replacedWith&&(La.collapsed=
!0,La.widgetNode=u("span",[La.replacedWith],"CodeMirror-widget"),X.handleMouseEvents||La.widgetNode.setAttribute("cm-ignore-events","true"),X.insertLeft&&(La.widgetNode.insertLeft=!0));if(La.collapsed){if(Ab(h,I.line,I,Y,La)||I.line!=Y.line&&Ab(h,Y.line,I,Y,La))throw Error("Inserting collapsed marker partially overlapping an existing one");Ih=!0}La.addToHistory&&Rg(h,{from:I,to:Y,origin:"markText"},h.sel,NaN);var Za=I.line,eb=h.cm,yb;h.iter(Za,Y.line+1,function(Tb){eb&&La.collapsed&&!eb.options.lineWrapping&&
Ob(Tb)==eb.display.maxLine&&(yb=!0);La.collapsed&&Za!=I.line&&ab(Tb,0);var jc=new qc(La,Za==I.line?I.ch:null,Za==Y.line?Y.ch:null),Sc=h.cm&&h.cm.curOp;(Sc=Sc&&window.WeakSet&&(Sc.markedSpans||(Sc.markedSpans=new WeakSet)))&&Tb.markedSpans&&Sc.has(Tb.markedSpans)?Tb.markedSpans.push(jc):(Tb.markedSpans=Tb.markedSpans?Tb.markedSpans.concat([jc]):[jc],Sc&&Sc.add(Tb.markedSpans));jc.marker.attachLine(Tb);++Za});La.collapsed&&h.iter(I.line,Y.line+1,function(Tb){Jc(h,Tb)&&ab(Tb,0)});La.clearOnEnter&&Le(La,
"beforeCursorEnter",function(){return La.clear()});La.readOnly&&($h=!0,(h.history.done.length||h.history.undone.length)&&h.clearHistory());La.collapsed&&(La.id=++uj,La.atomic=!0);if(eb){yb&&(eb.curOp.updateMaxLine=!0);if(La.collapsed)fb(eb,I.line,Y.line+1);else if(La.className||La.startStyle||La.endStyle||La.css||La.attributes||La.title)for(X=I.line;X<=Y.line;X++)xb(eb,X,"text");La.atomic&&Te(eb.doc);me(eb,"markerAdded",eb,La)}return La}function hg(h,I,Y,X,fa){X=b(X);X.shared=!1;var La=[Hf(h,I,Y,
X,fa)],Za=La[0],eb=X.widgetNode;Hb(h,function(yb){eb&&(X.widgetNode=eb.cloneNode(!0));La.push(Hf(yb,Eb(yb,I),Eb(yb,Y),X,fa));for(var Tb=0;Tb<yb.linked.length;++Tb)if(yb.linked[Tb].isParent)return;Za=y(La)});return new Yi(La,Za)}function Ue(h){return h.findMarks(ka(h.first,0),h.clipPos(ka(h.lastLine())),function(I){return I.parent})}function nf(h){for(var I=function(X){X=h[X];var fa=[X.primary.doc];Hb(X.primary.doc,function(eb){return fa.push(eb)});for(var La=0;La<X.markers.length;La++){var Za=X.markers[La];
-1==a(fa,Za.doc)&&(Za.parent=null,X.markers.splice(La--,1))}},Y=0;Y<h.length;Y++)I(Y)}function Yf(h){var I=this;ff(I);if(!r(I,h)&&!nd(I.display,h)){ja(h);Zf&&(oj=+new Date);var Y=la(I,h,!0),X=h.dataTransfer.files;if(Y&&!I.isReadOnly())if(X&&X.length&&window.FileReader&&window.File)for(var fa=X.length,La=Array(fa),Za=0,eb=function(){++Za==fa&&Id(I,function(){Y=Eb(I.doc,Y);var jc={from:Y,to:Y,text:I.doc.splitLines(La.filter(function(Sc){return null!=Sc}).join(I.doc.lineSeparator())),origin:"paste"};
Db(I.doc,jc);lh(I.doc,eg(Eb(I.doc,Y),Eb(I.doc,Mf(jc))))})()},yb=function(jc,Sc){if(I.options.allowDropFileTypes&&-1==a(I.options.allowDropFileTypes,jc.type))eb();else{var bd=new FileReader;bd.onerror=function(){return eb()};bd.onload=function(){var ed=bd.result;/[\x00-\x08\x0e-\x1f]{2}/.test(ed)||(La[Sc]=ed);eb()};bd.readAsText(jc)}},Tb=0;Tb<X.length;Tb++)yb(X[Tb],Tb);else if(I.state.draggingText&&-1<I.doc.sel.contains(Y))I.state.draggingText(h),setTimeout(function(){return I.display.input.focus()},
20);else try{if(yb=h.dataTransfer.getData("Text")){I.state.draggingText&&!I.state.draggingText.copy&&(Tb=I.listSelections());Mh(I.doc,eg(Y,Y));if(Tb)for(X=0;X<Tb.length;++X)Rd(I.doc,"",Tb[X].anchor,Tb[X].head,"drag");I.replaceSelection(yb,"around","paste");I.display.input.focus()}}catch(jc){}}}function ff(h){h.display.dragCursor&&(h.display.lineSpace.removeChild(h.display.dragCursor),h.display.dragCursor=null)}function yg(h){if(document.getElementsByClassName){for(var I=document.getElementsByClassName("CodeMirror"),
Y=[],X=0;X<I.length;X++){var fa=I[X].CodeMirror;fa&&Y.push(fa)}Y.length&&Y[0].operation(function(){for(var La=0;La<Y.length;La++)h(Y[La])})}}function Ng(){var h;Le(window,"resize",function(){null==h&&(h=setTimeout(function(){h=null;yg(Sg)},100))});Le(window,"blur",function(){return yg(Ib)})}function Sg(h){var I=h.display;I.cachedCharWidth=I.cachedTextHeight=I.cachedPaddingH=null;I.scrollbarsClipped=!1;h.setSize()}function Qf(h){var I=h.split(/-(?!$)/);h=I[I.length-1];for(var Y,X,fa,La,Za=0;Za<I.length-
1;Za++){var eb=I[Za];if(/^(cmd|meta|m)$/i.test(eb))La=!0;else if(/^a(lt)?$/i.test(eb))Y=!0;else if(/^(c|ctrl|control)$/i.test(eb))X=!0;else if(/^s(hift)?$/i.test(eb))fa=!0;else throw Error("Unrecognized modifier name: "+eb);}Y&&(h="Alt-"+h);X&&(h="Ctrl-"+h);La&&(h="Cmd-"+h);fa&&(h="Shift-"+h);return h}function pg(h){var I={},Y;for(Y in h)if(h.hasOwnProperty(Y)){var X=h[Y];if(!/^(name|fallthrough|(de|at)tach)$/.test(Y)){if("..."!=X)for(var fa=q(Y.split(" "),Qf),La=0;La<fa.length;La++){if(La==fa.length-
1){var Za=fa.join(" ");var eb=X}else Za=fa.slice(0,La+1).join(" "),eb="...";var yb=I[Za];if(!yb)I[Za]=eb;else if(yb!=eb)throw Error("Inconsistent bindings for "+Za);}delete h[Y]}}for(var Tb in I)h[Tb]=I[Tb];return h}function lf(h,I,Y,X){I=Oh(I);var fa=I.call?I.call(h,X):I[h];if(!1===fa)return"nothing";if("..."===fa)return"multi";if(null!=fa&&Y(fa))return"handled";if(I.fallthrough){if("[object Array]"!=Object.prototype.toString.call(I.fallthrough))return lf(h,I.fallthrough,Y,X);for(fa=0;fa<I.fallthrough.length;fa++){var La=
lf(h,I.fallthrough[fa],Y,X);if(La)return La}}}function Nf(h){h="string"==typeof h?h:ni[h.keyCode];return"Ctrl"==h||"Alt"==h||"Shift"==h||"Mod"==h}function wh(h,I,Y){var X=h;I.altKey&&"Alt"!=X&&(h="Alt-"+h);(Va?I.metaKey:I.ctrlKey)&&"Ctrl"!=X&&(h="Ctrl-"+h);(Va?I.ctrlKey:I.metaKey)&&"Mod"!=X&&(h="Cmd-"+h);!Y&&I.shiftKey&&"Shift"!=X&&(h="Shift-"+h);return h}function qg(h,I){if(yh&&34==h.keyCode&&h["char"])return!1;var Y=ni[h.keyCode];if(null==Y||h.altGraphKey)return!1;3==h.keyCode&&h.code&&(Y=h.code);
return wh(Y,h,I)}function Oh(h){return"string"==typeof h?Oi[h]:h}function Jh(h,I){for(var Y=h.doc.sel.ranges,X=[],fa=0;fa<Y.length;fa++){for(var La=I(Y[fa]);X.length&&0>=Ia(La.from,y(X).to);){var Za=X.pop();if(0>Ia(Za.from,La.from)){La.from=Za.from;break}}X.push(La)}xd(h,function(){for(var eb=X.length-1;0<=eb;eb--)Rd(h.doc,"",X[eb].from,X[eb].to,"+delete");Jb(h)})}function qh(h,I,Y){I=V(h.text,I+Y,Y);return 0>I||I>h.text.length?null:I}function ig(h,I,Y){h=qh(h,I.ch,Y);return null==h?null:new ka(I.line,
h,0>Y?"after":"before")}function zi(h,I,Y,X,fa){if(h&&("rtl"==I.doc.direction&&(fa=-fa),h=T(Y,I.doc.direction))){h=0>fa?y(h):h[0];var La=0>fa==(1==h.level)?"after":"before";if(0<h.level||"rtl"==I.doc.direction){var Za=xe(I,Y);var eb=0>fa?Y.text.length-1:0;var yb=Ne(I,Za,eb).top;eb=S(function(Tb){return Ne(I,Za,Tb).top==yb},0>fa==(1==h.level)?h.from:h.to-1,eb);"before"==La&&(eb=qh(Y,eb,1))}else eb=0>fa?h.to:h.from;return new ka(X,eb,La)}return new ka(X,0>fa?Y.text.length:0,0>fa?"before":"after")}function ph(h,
I,Y,X){var fa=T(I,h.doc.direction);if(!fa)return ig(I,Y,X);Y.ch>=I.text.length?(Y.ch=I.text.length,Y.sticky="before"):0>=Y.ch&&(Y.ch=0,Y.sticky="after");var La=ea(fa,Y.ch,Y.sticky),Za=fa[La];if("ltr"==h.doc.direction&&0==Za.level%2&&(0<X?Za.to>Y.ch:Za.from<Y.ch))return ig(I,Y,X);var eb=function(ed,Md){return qh(I,ed instanceof ka?ed.ch:ed,Md)},yb,Tb=function(ed){if(!h.options.lineWrapping)return{begin:0,end:I.text.length};yb=yb||xe(h,I);return ie(h,I,yb,ed)},jc=Tb("before"==Y.sticky?eb(Y,-1):Y.ch);
if("rtl"==h.doc.direction||1==Za.level){var Sc=1==Za.level==0>X,bd=eb(Y,Sc?1:-1);if(null!=bd&&(Sc?bd<=Za.to&&bd<=jc.end:bd>=Za.from&&bd>=jc.begin))return new ka(Y.line,bd,Sc?"before":"after")}Za=function(ed,Md,Ce){for(var tf=function(Fg,Kg){return Kg?new ka(Y.line,eb(Fg,1),"before"):new ka(Y.line,Fg,"after")};0<=ed&&ed<fa.length;ed+=Md){var vh=fa[ed],jf=0<Md==(1!=vh.level),Tf=jf?Ce.begin:eb(Ce.end,-1);if(vh.from<=Tf&&Tf<vh.to)return tf(Tf,jf);Tf=jf?vh.from:eb(vh.to,-1);if(Ce.begin<=Tf&&Tf<Ce.end)return tf(Tf,
jf)}};if(La=Za(La+X,X,jc))return La;jc=0<X?jc.end:eb(jc.begin,-1);return null==jc||0<X&&jc==I.text.length||!(La=Za(0<X?0:fa.length-1,X,Tb(jc)))?null:La}function Yg(h,I){var Y=ma(h.doc,I),X=Ob(Y);X!=Y&&(I=ta(X));return zi(!0,h,X,I,1)}function Ti(h,I){var Y=Yg(h,I.line),X=ma(h.doc,Y.line);h=T(X,h.doc.direction);return h&&0!=h[0].level?Y:(X=Math.max(Y.ch,X.text.search(/\S/)),ka(Y.line,I.line==Y.line&&I.ch<=X&&I.ch?0:X,Y.sticky))}function xh(h,I,Y){if("string"==typeof I&&(I=qj[I],!I))return!1;h.display.input.ensurePolled();
var X=h.display.shift,fa=!1;try{h.isReadOnly()&&(h.state.suppressEdits=!0),Y&&(h.display.shift=!1),fa=I(h)!=id}finally{h.display.shift=X,h.state.suppressEdits=!1}return fa}function Ph(h,I,Y,X){var fa=h.state.keySeq;if(fa){if(Nf(I))return"handled";/'$/.test(I)?h.state.keySeq=null:pk.set(50,function(){h.state.keySeq==fa&&(h.state.keySeq=null,h.display.input.reset())});if(Ka(h,fa+" "+I,Y,X))return!0}return Ka(h,I,Y,X)}function Ka(h,I,Y,X){a:{for(var fa=0;fa<h.state.keyMaps.length;fa++){var La=lf(I,h.state.keyMaps[fa],
X,h);if(La){X=La;break a}}X=h.options.extraKeys&&lf(I,h.options.extraKeys,X,h)||lf(I,h.options.keyMap,X,h)}"multi"==X&&(h.state.keySeq=I);"handled"==X&&me(h,"keyHandled",h,I,Y);if("handled"==X||"multi"==X)ja(Y),Nc(h);return!!X}function kb(h,I){var Y=qg(I,!0);return Y?I.shiftKey&&!h.state.keySeq?Ph(h,"Shift-"+Y,I,function(X){return xh(h,X,!0)})||Ph(h,Y,I,function(X){if("string"==typeof X?/^go[A-Z]/.test(X):X.motion)return xh(h,X)}):Ph(h,Y,I,function(X){return xh(h,X)}):!1}function Cb(h,I,Y){return Ph(h,
"'"+Y+"'",I,function(X){return xh(h,X,!0)})}function Pb(h){if(!h.target||h.target==this.display.input.getField())if(this.curOp.focus=l(),!r(this,h)){Zf&&11>Eg&&27==h.keyCode&&(h.returnValue=!1);var I=h.keyCode;this.display.shift=16==I||h.shiftKey;var Y=kb(this,h);yh&&(ik=Y?I:null,!Y&&88==I&&!Xh&&(Hg?h.metaKey:h.ctrlKey)&&this.replaceSelection("",null,"cut"));lg&&!Hg&&!Y&&46==I&&h.shiftKey&&!h.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=I||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||
uc(this)}}function uc(h){function I(X){18!=X.keyCode&&X.altKey||(bc(Y,"CodeMirror-crosshair"),R(document,"keyup",I),R(document,"mouseover",I))}var Y=h.display.lineDiv;f(Y,"CodeMirror-crosshair");Le(document,"keyup",I);Le(document,"mouseover",I)}function Fc(h){16==h.keyCode&&(this.doc.sel.shift=!1);r(this,h)}function $c(h){if(!(h.target&&h.target!=this.display.input.getField()||nd(this.display,h)||r(this,h)||h.ctrlKey&&!h.altKey||Hg&&h.metaKey)){var I=h.keyCode,Y=h.charCode;if(yh&&I==ik)ik=null,ja(h);
else if(!yh||h.which&&!(10>h.which)||!kb(this,h))if(I=String.fromCharCode(null==Y?I:Y),"\b"!=I&&!Cb(this,h,I))this.display.input.onKeyPress(h)}}function Aa(h,I){var Y=+new Date;if(Zi&&Zi.compare(Y,h,I))return Gj=Zi=null,"triple";if(Gj&&Gj.compare(Y,h,I))return Zi=new Zj(Y,h,I),Gj=null,"double";Gj=new Zj(Y,h,I);Zi=null;return"single"}function Sa(h){var I=this.display;if(!(r(this,h)||I.activeTouch&&I.input.supportsTouch()))if(I.input.ensurePolled(),I.shift=h.shiftKey,nd(I,h))rh||(I.scroller.draggable=
!1,setTimeout(function(){return I.scroller.draggable=!0},100));else if(!Xc(this,h,"gutterClick",!0)){var Y=la(this,h),X=Wa(h),fa=Y?Aa(Y,X):"single";window.focus();1==X&&this.state.selectingText&&this.state.selectingText(h);if(!Y||!qb(this,X,Y,fa,h))if(1==X)Y?rb(this,Y,fa,h):(h.target||h.srcElement)==I.scroller&&ja(h);else if(2==X)Y&&mf(this.doc,Y),setTimeout(function(){return I.input.focus()},20);else if(3==X)if(wb)this.display.input.onContextMenu(h);else Qc(this)}}function qb(h,I,Y,X,fa){var La=
"Click";"double"==X?La="Double"+La:"triple"==X&&(La="Triple"+La);return Ph(h,wh((1==I?"Left":2==I?"Middle":"Right")+La,fa),fa,function(Za){"string"==typeof Za&&(Za=qj[Za]);if(!Za)return!1;var eb=!1;try{h.isReadOnly()&&(h.state.suppressEdits=!0),eb=Za(h,Y)!=id}finally{h.state.suppressEdits=!1}return eb})}function rb(h,I,Y,X){Zf?setTimeout(d(mc,h),0):h.curOp.focus=l();var fa=h.getOption("configureMouse");fa=fa?fa(h,Y,X):{};null==fa.unit&&(fa.unit=(Jj?X.shiftKey&&X.metaKey:X.altKey)?"rectangle":"single"==
Y?"char":"double"==Y?"word":"line");if(null==fa.extend||h.doc.extend)fa.extend=h.doc.extend||X.shiftKey;null==fa.addNew&&(fa.addNew=Hg?X.metaKey:X.ctrlKey);null==fa.moveOnDrag&&(fa.moveOnDrag=!(Hg?X.altKey:X.ctrlKey));var La=h.doc.sel,Za;h.options.dragDrop&&sh&&!h.isReadOnly()&&"single"==Y&&-1<(Za=La.contains(I))&&(0>Ia((Za=La.ranges[Za]).from(),I)||0<I.xRel)&&(0<Ia(Za.to(),I)||0>I.xRel)?kc(h,X,I,fa):gd(h,X,I,fa)}function kc(h,I,Y,X){var fa=h.display,La=!1,Za=Id(h,function(Tb){rh&&(fa.scroller.draggable=
!1);h.state.draggingText=!1;h.state.delayingBlurEvent&&(h.hasFocus()?h.state.delayingBlurEvent=!1:Qc(h));R(fa.wrapper.ownerDocument,"mouseup",Za);R(fa.wrapper.ownerDocument,"mousemove",eb);R(fa.scroller,"dragstart",yb);R(fa.scroller,"drop",Za);La||(ja(Tb),X.addNew||mf(h.doc,Y,null,null,X.extend),rh&&!Li||Zf&&9==Eg?setTimeout(function(){fa.wrapper.ownerDocument.body.focus({preventScroll:!0});fa.input.focus()},20):fa.input.focus())}),eb=function(Tb){La=La||10<=Math.abs(I.clientX-Tb.clientX)+Math.abs(I.clientY-
Tb.clientY)},yb=function(){return La=!0};rh&&(fa.scroller.draggable=!0);h.state.draggingText=Za;Za.copy=!X.moveOnDrag;Le(fa.wrapper.ownerDocument,"mouseup",Za);Le(fa.wrapper.ownerDocument,"mousemove",eb);Le(fa.scroller,"dragstart",yb);Le(fa.scroller,"drop",Za);h.state.delayingBlurEvent=!0;setTimeout(function(){return fa.input.focus()},20);fa.scroller.dragDrop&&fa.scroller.dragDrop()}function Rc(h,I,Y){if("char"==Y)return new kg(I,I);if("word"==Y)return h.findWordAt(I);if("line"==Y)return new kg(ka(I.line,
0),Eb(h.doc,ka(I.line+1,0)));h=Y(h,I);return new kg(h.from,h.to)}function gd(h,I,Y,X){function fa(jf){if(0!=Ia(ed,jf))if(ed=jf,"rectangle"==X.unit){var Tf=[],Fg=h.options.tabSize,Kg=c(ma(yb,Y.line).text,Y.ch,Fg),vg=c(ma(yb,jf.line).text,jf.ch,Fg),Wf=Math.min(Kg,vg);Kg=Math.max(Kg,vg);vg=Math.min(Y.line,jf.line);for(var ng=Math.min(h.lastLine(),Math.max(Y.line,jf.line));vg<=ng;vg++){var mg=ma(yb,vg).text,Cg=e(mg,Wf,Fg);Wf==Kg?Tf.push(new kg(ka(vg,Cg),ka(vg,Cg))):mg.length>Cg&&Tf.push(new kg(ka(vg,
Cg),ka(vg,e(mg,Kg,Fg))))}Tf.length||Tf.push(new kg(Y,Y));tg(yb,Pf(h,Tb.ranges.slice(0,Sc).concat(Tf),Sc),{origin:"*mouse",scroll:!1});h.scrollIntoView(jf)}else Tf=bd,Wf=Rc(h,jf,X.unit),jf=Tf.anchor,0<Ia(Wf.anchor,jf)?(Fg=Wf.head,jf=ib(Tf.from(),Wf.anchor)):(Fg=Wf.anchor,jf=mb(Tf.to(),Wf.head)),Tf=Tb.ranges.slice(0),Tf[Sc]=Ad(h,new kg(Eb(yb,jf),Fg)),tg(yb,Pf(h,Tf,Sc),Wd)}function La(jf){var Tf=++Ce,Fg=la(h,jf,!0,"rectangle"==X.unit);if(Fg)if(0!=Ia(Fg,ed)){h.curOp.focus=l();fa(Fg);var Kg=na(eb,yb);
(Fg.line>=Kg.to||Fg.line<Kg.from)&&setTimeout(Id(h,function(){Ce==Tf&&La(jf)}),150)}else{var vg=jf.clientY<Md.top?-20:jf.clientY>Md.bottom?20:0;vg&&setTimeout(Id(h,function(){Ce==Tf&&(eb.scroller.scrollTop+=vg,La(jf))}),50)}}function Za(jf){h.state.selectingText=!1;Ce=Infinity;jf&&(ja(jf),eb.input.focus());R(eb.wrapper.ownerDocument,"mousemove",tf);R(eb.wrapper.ownerDocument,"mouseup",vh);yb.history.lastSelOrigin=null}Zf&&Qc(h);var eb=h.display,yb=h.doc;ja(I);var Tb=yb.sel,jc=Tb.ranges;if(X.addNew&&
!X.extend){var Sc=yb.sel.contains(Y);var bd=-1<Sc?jc[Sc]:new kg(Y,Y)}else bd=yb.sel.primary(),Sc=yb.sel.primIndex;"rectangle"==X.unit?(X.addNew||(bd=new kg(Y,Y)),Y=la(h,I,!0,!0),Sc=-1):(I=Rc(h,Y,X.unit),bd=X.extend?fh(bd,I.anchor,I.head,X.extend):I);X.addNew?-1==Sc?(Sc=jc.length,tg(yb,Pf(h,jc.concat([bd]),Sc),{scroll:!1,origin:"*mouse"})):1<jc.length&&jc[Sc].empty()&&"char"==X.unit&&!X.extend?(tg(yb,Pf(h,jc.slice(0,Sc).concat(jc.slice(Sc+1)),0),{scroll:!1,origin:"*mouse"}),Tb=yb.sel):gh(yb,Sc,bd,
Wd):(Sc=0,tg(yb,new dh([bd],0),Wd),Tb=yb.sel);var ed=Y,Md=eb.wrapper.getBoundingClientRect(),Ce=0,tf=Id(h,function(jf){0!==jf.buttons&&Wa(jf)?La(jf):Za(jf)}),vh=Id(h,Za);h.state.selectingText=vh;Le(eb.wrapper.ownerDocument,"mousemove",tf);Le(eb.wrapper.ownerDocument,"mouseup",vh)}function Ad(h,I){var Y=I.anchor,X=I.head,fa=ma(h.doc,Y.line);if(0==Ia(Y,X)&&Y.sticky==X.sticky)return I;fa=T(fa);if(!fa)return I;var La=ea(fa,Y.ch,Y.sticky),Za=fa[La];if(Za.from!=Y.ch&&Za.to!=Y.ch)return I;var eb=La+(Za.from==
Y.ch==(1!=Za.level)?0:1);if(0==eb||eb==fa.length)return I;X.line!=Y.line?h=0<(X.line-Y.line)*("ltr"==h.doc.direction?1:-1):(h=ea(fa,X.ch,X.sticky),La=h-La||(X.ch-Y.ch)*(1==Za.level?-1:1),h=h==eb-1||h==eb?0>La:0<La);fa=fa[eb+(h?-1:0)];fa=(eb=h==(1==fa.level))?fa.from:fa.to;eb=eb?"after":"before";return Y.ch==fa&&Y.sticky==eb?I:new kg(new ka(Y.line,fa,eb),X)}function Xc(h,I,Y,X){if(I.touches){var fa=I.touches[0].clientX;var La=I.touches[0].clientY}else try{fa=I.clientX,La=I.clientY}catch(yb){return!1}if(fa>=
Math.floor(h.display.gutters.getBoundingClientRect().right))return!1;X&&ja(I);X=h.display;var Za=X.lineDiv.getBoundingClientRect();if(La>Za.bottom||!N(h,Y))return ia(I);La-=Za.top-X.viewOffset;for(Za=0;Za<h.display.gutterSpecs.length;++Za){var eb=X.gutters.childNodes[Za];if(eb&&eb.getBoundingClientRect().right>=fa)return fa=Na(h.doc,La),J(h,Y,h,fa,h.display.gutterSpecs[Za].className,I),ia(I)}}function Sd(h,I){var Y;(Y=nd(h.display,I))||(Y=N(h,"gutterContextMenu")?Xc(h,I,"gutterContextMenu",!1):!1);
if(!Y&&!r(h,I,"contextmenu")&&!wb)h.display.input.onContextMenu(I)}function Ed(h){h.display.wrapper.className=h.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+h.options.theme.replace(/(^|\s)\s*/g," cm-s-");cd(h)}function De(h,I,Y){!I!=!(Y&&Y!=bj)&&(Y=h.display.dragFunctions,I=I?Le:R,I(h.display.scroller,"dragstart",Y.start),I(h.display.scroller,"dragenter",Y.enter),I(h.display.scroller,"dragover",Y.over),I(h.display.scroller,"dragleave",Y.leave),I(h.display.scroller,"drop",Y.drop))}function Af(h){h.options.lineWrapping?
(f(h.display.wrapper,"CodeMirror-wrap"),h.display.sizer.style.minWidth="",h.display.sizerWidth=null):(bc(h.display.wrapper,"CodeMirror-wrap"),rd(h));ic(h);fb(h);cd(h);setTimeout(function(){return qd(h)},100)}function We(h,I){var Y=this;if(!(this instanceof We))return new We(h,I);this.options=I=I?b(I):{};b(Ek,I,!1);var X=I.value;"string"==typeof X?X=new Fh(X,I.mode,null,I.lineSeparator,I.direction):I.mode&&(X.modeOption=I.mode);this.doc=X;var fa=new We.inputStyles[I.inputStyle](this);h=this.display=
new Qg(h,X,fa,I);h.wrapper.CodeMirror=this;Ed(this);I.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Cd(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Cc,keySeq:null,specialChars:null};I.autofocus&&!Bi&&h.input.focus();Zf&&11>Eg&&setTimeout(function(){return Y.display.input.reset(!0)},20);Ef(this);pj||(Ng(),pj=!0);je(this);this.curOp.forceUpdate=
!0;nc(this,X);I.autofocus&&!Bi||this.hasFocus()?setTimeout(function(){Y.hasFocus()&&!Y.state.focused&&jb(Y)},20):Ib(this);for(var La in tj)if(tj.hasOwnProperty(La))tj[La](this,I[La],bj);og(this);I.finishInit&&I.finishInit(this);for(X=0;X<jk.length;++X)jk[X](this);ve(this);rh&&I.lineWrapping&&"optimizelegibility"==getComputedStyle(h.lineDiv).textRendering&&(h.lineDiv.style.textRendering="auto")}function Ef(h){function I(){X.activeTouch&&(fa=setTimeout(function(){return X.activeTouch=null},1E3),La=
X.activeTouch,La.end=+new Date)}function Y(eb,yb){if(null==yb.left)return!0;var Tb=yb.left-eb.left;eb=yb.top-eb.top;return 400<Tb*Tb+eb*eb}var X=h.display;Le(X.scroller,"mousedown",Id(h,Sa));Zf&&11>Eg?Le(X.scroller,"dblclick",Id(h,function(eb){if(!r(h,eb)){var yb=la(h,eb);!yb||Xc(h,eb,"gutterClick",!0)||nd(h.display,eb)||(ja(eb),eb=h.findWordAt(yb),mf(h.doc,eb.anchor,eb.head))}})):Le(X.scroller,"dblclick",function(eb){return r(h,eb)||ja(eb)});Le(X.scroller,"contextmenu",function(eb){return Sd(h,eb)});
Le(X.input.getField(),"contextmenu",function(eb){X.scroller.contains(eb.target)||Sd(h,eb)});var fa,La={end:0};Le(X.scroller,"touchstart",function(eb){var yb;if(yb=!r(h,eb))1!=eb.touches.length?yb=!1:(yb=eb.touches[0],yb=1>=yb.radiusX&&1>=yb.radiusY),yb=!yb;yb&&!Xc(h,eb,"gutterClick",!0)&&(X.input.ensurePolled(),clearTimeout(fa),yb=+new Date,X.activeTouch={start:yb,moved:!1,prev:300>=yb-La.end?La:null},1==eb.touches.length&&(X.activeTouch.left=eb.touches[0].pageX,X.activeTouch.top=eb.touches[0].pageY))});
Le(X.scroller,"touchmove",function(){X.activeTouch&&(X.activeTouch.moved=!0)});Le(X.scroller,"touchend",function(eb){var yb=X.activeTouch;if(yb&&!nd(X,eb)&&null!=yb.left&&!yb.moved&&300>new Date-yb.start){var Tb=h.coordsChar(X.activeTouch,"page");yb=!yb.prev||Y(yb,yb.prev)?new kg(Tb,Tb):!yb.prev.prev||Y(yb,yb.prev.prev)?h.findWordAt(Tb):new kg(ka(Tb.line,0),Eb(h.doc,ka(Tb.line+1,0)));h.setSelection(yb.anchor,yb.head);h.focus();ja(eb)}I()});Le(X.scroller,"touchcancel",I);Le(X.scroller,"scroll",function(){X.scroller.clientHeight&&
(Oc(h,X.scroller.scrollTop),wc(h,X.scroller.scrollLeft,!0),J(h,"scroll",h))});Le(X.scroller,"mousewheel",function(eb){return zf(h,eb)});Le(X.scroller,"DOMMouseScroll",function(eb){return zf(h,eb)});Le(X.wrapper,"scroll",function(){return X.wrapper.scrollTop=X.wrapper.scrollLeft=0});X.dragFunctions={enter:function(eb){r(h,eb)||za(eb)},over:function(eb){if(!r(h,eb)){var yb=la(h,eb);if(yb){var Tb=document.createDocumentFragment();Lc(h,yb,Tb);h.display.dragCursor||(h.display.dragCursor=A("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),
h.display.lineSpace.insertBefore(h.display.dragCursor,h.display.cursorDiv));p(h.display.dragCursor,Tb)}za(eb)}},start:function(eb){if(Zf&&(!h.state.draggingText||100>+new Date-oj))za(eb);else if(!r(h,eb)&&!nd(h.display,eb)&&(eb.dataTransfer.setData("Text",h.getSelection()),eb.dataTransfer.effectAllowed="copyMove",eb.dataTransfer.setDragImage&&!Li)){var yb=A("img",null,null,"position: fixed; left: 0; top: 0;");yb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";
yh&&(yb.width=yb.height=1,h.display.wrapper.appendChild(yb),yb._top=yb.offsetTop);eb.dataTransfer.setDragImage(yb,0,0);yh&&yb.parentNode.removeChild(yb)}},drop:Id(h,Yf),leave:function(eb){r(h,eb)||ff(h)}};var Za=X.input.getField();Le(Za,"keyup",function(eb){return Fc.call(h,eb)});Le(Za,"keydown",Id(h,Pb));Le(Za,"keypress",Id(h,$c));Le(Za,"focus",function(eb){return jb(h,eb)});Le(Za,"blur",function(eb){return Ib(h,eb)})}function ug(h,I,Y,X){var fa=h.doc,La;null==Y&&(Y="add");"smart"==Y&&(fa.mode.indent?
La=Ic(h,I).state:Y="prev");var Za=h.options.tabSize,eb=ma(fa,I),yb=c(eb.text,null,Za);eb.stateAfter&&(eb.stateAfter=null);var Tb=eb.text.match(/^\s*/)[0];if(!X&&!/\S/.test(eb.text)){var jc=0;Y="not"}else if("smart"==Y&&(jc=fa.mode.indent(La,eb.text.slice(Tb.length),eb.text),jc==id||150<jc)){if(!X)return;Y="prev"}"prev"==Y?jc=I>fa.first?c(ma(fa,I-1).text,null,Za):0:"add"==Y?jc=yb+h.options.indentUnit:"subtract"==Y?jc=yb-h.options.indentUnit:"number"==typeof Y&&(jc=yb+Y);jc=Math.max(0,jc);Y="";X=0;
if(h.options.indentWithTabs)for(h=Math.floor(jc/Za);h;--h)X+=Za,Y+="\t";X<jc&&(Y+=t(jc-X));if(Y!=Tb)return Rd(fa,Y,ka(I,0),ka(I,Tb.length),"+input"),eb.stateAfter=null,!0;for(Za=0;Za<fa.sel.ranges.length;Za++)if(eb=fa.sel.ranges[Za],eb.head.line==I&&eb.head.ch<Tb.length){I=ka(I,Tb.length);gh(fa,Za,new kg(I,I));break}}function Tg(h,I,Y,X,fa){var La=h.doc;h.display.shift=!1;X||(X=La.sel);var Za=+new Date-200,eb="paste"==fa||h.state.pasteIncoming>Za,yb=of(I),Tb=null;if(eb&&1<X.ranges.length)if(Zh&&Zh.text.join("\n")==
I){if(0==X.ranges.length%Zh.text.length){Tb=[];for(var jc=0;jc<Zh.text.length;jc++)Tb.push(La.splitLines(Zh.text[jc]))}}else yb.length==X.ranges.length&&h.options.pasteLinesPerSelection&&(Tb=q(yb,function(Ce){return[Ce]}));jc=h.curOp.updateInput;for(var Sc=X.ranges.length-1;0<=Sc;Sc--){var bd=X.ranges[Sc],ed=bd.from(),Md=bd.to();bd.empty()&&(Y&&0<Y?ed=ka(ed.line,ed.ch-Y):h.state.overwrite&&!eb?Md=ka(Md.line,Math.min(ma(La,Md.line).text.length,Md.ch+y(yb).length)):eb&&Zh&&Zh.lineWise&&Zh.text.join("\n")==
yb.join("\n")&&(ed=Md=ka(ed.line,0)));bd={from:ed,to:Md,text:Tb?Tb[Sc%Tb.length]:yb,origin:fa||(eb?"paste":h.state.cutIncoming>Za?"cut":"+input")};Db(h.doc,bd);me(h,"inputRead",h,bd)}I&&!eb&&$f(h,I);Jb(h);2>h.curOp.updateInput&&(h.curOp.updateInput=jc);h.curOp.typing=!0;h.state.pasteIncoming=h.state.cutIncoming=-1}function wf(h,I){var Y=h.clipboardData&&h.clipboardData.getData("Text");if(Y)return h.preventDefault(),I.isReadOnly()||I.options.disableInput||xd(I,function(){return Tg(I,Y,0,null,"paste")}),
!0}function $f(h,I){if(h.options.electricChars&&h.options.smartIndent)for(var Y=h.doc.sel,X=Y.ranges.length-1;0<=X;X--){var fa=Y.ranges[X];if(!(100<fa.head.ch||X&&Y.ranges[X-1].head.line==fa.head.line)){var La=h.getModeAt(fa.head),Za=!1;if(La.electricChars)for(var eb=0;eb<La.electricChars.length;eb++){if(-1<I.indexOf(La.electricChars.charAt(eb))){Za=ug(h,fa.head.line,"smart");break}}else La.electricInput&&La.electricInput.test(ma(h.doc,fa.head.line).text.slice(0,fa.head.ch))&&(Za=ug(h,fa.head.line,
"smart"));Za&&me(h,"electricInput",h,fa.head.line)}}}function cg(h){for(var I=[],Y=[],X=0;X<h.doc.sel.ranges.length;X++){var fa=h.doc.sel.ranges[X].head.line;fa={anchor:ka(fa,0),head:ka(fa+1,0)};Y.push(fa);I.push(h.getRange(fa.anchor,fa.head))}return{text:I,ranges:Y}}function rg(h,I,Y,X){h.setAttribute("autocorrect",Y?"":"off");h.setAttribute("autocapitalize",X?"":"off");h.setAttribute("spellcheck",!!I)}function li(){var h=A("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),
I=A("div",[h],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");rh?h.style.width="1000px":h.setAttribute("wrap","off");ri&&(h.style.border="1px solid black");rg(h);return I}function Dg(h,I,Y,X,fa){function La(Ce){if("codepoint"==X){var tf=yb.text.charCodeAt(I.ch+(0<Y?0:-1));tf=isNaN(tf)?null:new ka(I.line,Math.max(0,Math.min(yb.text.length,I.ch+Y*((0<Y?55296<=tf&&56320>tf:56320<=tf&&57343>tf)?2:1))),-Y)}else tf=fa?ph(h.cm,yb,I,Y):ig(yb,I,Y);if(null==tf){if(Ce=!Ce)Ce=I.line+Tb,
Ce<h.first||Ce>=h.first+h.size?Ce=!1:(I=new ka(Ce,I.ch,I.sticky),Ce=yb=ma(h,Ce));if(Ce)I=zi(fa,h.cm,yb,I.line,Tb);else return!1}else I=tf;return!0}var Za=I,eb=Y,yb=ma(h,I.line),Tb=fa&&"rtl"==h.direction?-Y:Y;if("char"==X||"codepoint"==X)La();else if("column"==X)La(!0);else if("word"==X||"group"==X)for(var jc=null,Sc="group"==X,bd=h.cm&&h.cm.getHelper(I,"wordChars"),ed=!0;!(0>Y)||La(!ed);ed=!1){var Md=yb.text.charAt(I.ch)||"\n";Md=G(Md,bd)?"w":Sc&&"\n"==Md?"n":!Sc||/\s/.test(Md)?null:"p";!Sc||ed||
Md||(Md="s");if(jc&&jc!=Md){0>Y&&(Y=1,La(),I.sticky="after");break}Md&&(jc=Md);if(0<Y&&!La(!ed))break}eb=Z(h,I,Za,eb,!0);Xa(Za,eb)&&(eb.hitSide=!0);return eb}function hh(h,I,Y,X){var fa=h.doc,La=I.left;if("page"==X){var Za=Math.max(Math.min(h.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*cf(h.display),3);Za=(0<Y?I.bottom:I.top)+Y*Za}else"line"==X&&(Za=0<Y?I.bottom+3:I.top-3);for(;;){I=Wb(h,La,Za);if(!I.outside)break;if(0>Y?0>=Za:Za>=fa.height){I.hitSide=
!0;break}Za+=5*Y}return I}function ih(h,I){var Y=Bf(h,I.line);if(!Y||Y.hidden)return null;var X=ma(h.doc,I.line);Y=ze(Y,X,I.line);h=T(X,h.doc.direction);X="left";h&&(X=ea(h,I.ch)%2?"right":"left");I=rf(Y.map,I.ch,X);I.offset="right"==I.collapse?I.end:I.start;return I}function Vg(h){for(;h;h=h.parentNode)if(/CodeMirror-gutter-wrapper/.test(h.className))return!0;return!1}function ch(h,I){I&&(h.bad=!0);return h}function Wh(h,I,Y,X,fa){function La(ed){return function(Md){return Md.id==ed}}function Za(){jc&&
(Tb+=Sc,bd&&(Tb+=Sc),jc=bd=!1)}function eb(ed){ed&&(Za(),Tb+=ed)}function yb(ed){if(1==ed.nodeType){var Md=ed.getAttribute("cm-text");if(Md)eb(Md);else{Md=ed.getAttribute("cm-marker");var Ce;if(Md)ed=h.findMarks(ka(X,0),ka(fa+1,0),La(+Md)),ed.length&&(Ce=ed[0].find(0))&&eb(Ea(h.doc,Ce.from,Ce.to).join(Sc));else if("false"!=ed.getAttribute("contenteditable")&&(Ce=/^(pre|div|p|li|table|br)$/i.test(ed.nodeName),/^br$/i.test(ed.nodeName)||0!=ed.textContent.length)){Ce&&Za();for(Md=0;Md<ed.childNodes.length;Md++)yb(ed.childNodes[Md]);
/^(pre|p)$/i.test(ed.nodeName)&&(bd=!0);Ce&&(jc=!0)}}}else 3==ed.nodeType&&eb(ed.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Tb="",jc=!1,Sc=h.doc.lineSeparator(),bd=!1;;){yb(I);if(I==Y)break;I=I.nextSibling;bd=!1}return Tb}function Jg(h,I,Y){if(I==h.display.lineDiv){var X=h.display.lineDiv.childNodes[Y];if(!X)return ch(h.clipPos(ka(h.display.viewTo-1)),!0);I=null;Y=0}else for(X=I;;X=X.parentNode){if(!X||X==h.display.lineDiv)return null;if(X.parentNode&&X.parentNode==h.display.lineDiv)break}for(var fa=
0;fa<h.display.view.length;fa++){var La=h.display.view[fa];if(La.node==X)return si(La,I,Y)}}function si(h,I,Y){function X(jc,Sc,bd){for(var ed=-1;ed<(Tb?Tb.length:0);ed++)for(var Md=0>ed?yb.map:Tb[ed],Ce=0;Ce<Md.length;Ce+=3){var tf=Md[Ce+2];if(tf==jc||tf==Sc){Sc=ta(0>ed?h.line:h.rest[ed]);ed=Md[Ce]+bd;if(0>bd||tf!=jc)ed=Md[Ce+(bd?1:0)];return ka(Sc,ed)}}}var fa=h.text.firstChild,La=!1;if(!I||!m(fa,I))return ch(ka(ta(h.line),0),!0);if(I==fa&&(La=!0,I=fa.childNodes[Y],Y=0,!I))return Y=h.rest?y(h.rest):
h.line,ch(ka(ta(Y),Y.text.length),La);var Za=3==I.nodeType?I:null,eb=I;Za||1!=I.childNodes.length||3!=I.firstChild.nodeType||(Za=I.firstChild,Y&&(Y=Za.nodeValue.length));for(;eb.parentNode!=fa;)eb=eb.parentNode;var yb=h.measure,Tb=yb.maps;if(I=X(Za,eb,Y))return ch(I,La);fa=eb.nextSibling;for(Za=Za?Za.nodeValue.length-Y:0;fa;fa=fa.nextSibling){if(I=X(fa,fa.firstChild,0))return ch(ka(I.line,I.ch-Za),La);Za+=fa.textContent.length}for(eb=eb.previousSibling;eb;eb=eb.previousSibling){if(I=X(eb,eb.firstChild,
-1))return ch(ka(I.line,I.ch+Y),La);Y+=eb.textContent.length}}var Ug=navigator.userAgent,Mg=navigator.platform,lg=/gecko\/\d/i.test(Ug),Dh=/MSIE \d/.test(Ug),Gh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ug),ii=/Edge\/(\d+)/.exec(Ug),Zf=Dh||Gh||ii,Eg=Zf&&(Dh?document.documentMode||6:+(ii||Gh)[1]),rh=!ii&&/WebKit\//.test(Ug),mi=rh&&/Qt\/\d+\.\d+/.test(Ug),vi=!ii&&/Chrome\//.test(Ug),yh=/Opera\//.test(Ug),Li=/Apple Computer/.test(navigator.vendor),Xi=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Ug),Ei=/PhantomJS/.test(Ug),
ri=Li&&(/Mobile\/\w+/.test(Ug)||2<navigator.maxTouchPoints),Ii=/Android/.test(Ug),Bi=ri||Ii||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Ug),Hg=ri||/Mac/.test(Mg),Jj=/\bCrOS\b/.test(Ug),pa=/win/i.test(Mg),Pa=yh&&Ug.match(/Version\/(\d*\.\d*)/);Pa&&(Pa=Number(Pa[1]));Pa&&15<=Pa&&(yh=!1,rh=!0);var Va=Hg&&(mi||yh&&(null==Pa||12.11>Pa)),wb=lg||Zf&&9<=Eg,bc=function(h,I){var Y=h.className;if(I=v(I).exec(Y)){var X=Y.slice(I.index+I[0].length);h.className=Y.slice(0,I.index)+(X?I[1]+X:"")}};var cc=
document.createRange?function(h,I,Y,X){var fa=document.createRange();fa.setEnd(X||h,Y);fa.setStart(h,I);return fa}:function(h,I,Y){var X=document.body.createTextRange();try{X.moveToElementText(h.parentNode)}catch(fa){return X}X.collapse(!0);X.moveEnd("character",Y);X.moveStart("character",I);return X};var lc=function(h){h.select()};ri?lc=function(h){h.selectionStart=0;h.selectionEnd=h.value.length}:Zf&&(lc=function(h){try{h.select()}catch(I){}});var Cc=function(){this.f=this.id=null;this.time=0;this.handler=
d(this.onTimeout,this)};Cc.prototype.onTimeout=function(h){h.id=0;h.time<=+new Date?h.f():setTimeout(h.handler,h.time-+new Date)};Cc.prototype.set=function(h,I){this.f=I;I=+new Date+h;if(!this.id||I<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,h),this.time=I};var id={toString:function(){return"CodeMirror.Pass"}},Gd={scroll:!1},Wd={origin:"*mouse"},pd={origin:"+move"},le=[""],Ze=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,
Cf=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Ie=null,bg=function(){function h(Za,eb,yb){this.level=Za;this.from=eb;this.to=yb}var I=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,Y=/[stwN]/,X=/[LRr]/,fa=/[Lb1n]/,La=/[1n]/;return function(Za,eb){var yb="ltr"==eb?"L":"R";if(0==Za.length||"ltr"==eb&&!I.test(Za))return!1;for(var Tb=Za.length,jc=[],Sc=0;Sc<Tb;++Sc){var bd=jc,ed=bd.push;var Md=Za.charCodeAt(Sc);Md=247>=Md?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Md):
1424<=Md&&1524>=Md?"R":1536<=Md&&1785>=Md?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Md-1536):1774<=Md&&2220>=Md?"r":8192<=Md&&8203>=Md?"w":8204==Md?"b":"L";ed.call(bd,Md)}Sc=0;for(bd=yb;Sc<Tb;++Sc)ed=jc[Sc],"m"==ed?jc[Sc]=bd:bd=ed;Sc=0;for(bd=yb;Sc<Tb;++Sc)ed=jc[Sc],"1"==ed&&"r"==bd?
jc[Sc]="n":X.test(ed)&&(bd=ed,"r"==ed&&(jc[Sc]="R"));Sc=1;for(bd=jc[0];Sc<Tb-1;++Sc)ed=jc[Sc],"+"==ed&&"1"==bd&&"1"==jc[Sc+1]?jc[Sc]="1":","!=ed||bd!=jc[Sc+1]||"1"!=bd&&"n"!=bd||(jc[Sc]=bd),bd=ed;for(Sc=0;Sc<Tb;++Sc)if(bd=jc[Sc],","==bd)jc[Sc]="N";else if("%"==bd){for(bd=Sc+1;bd<Tb&&"%"==jc[bd];++bd);for(ed=Sc&&"!"==jc[Sc-1]||bd<Tb&&"1"==jc[bd]?"1":"N";Sc<bd;++Sc)jc[Sc]=ed;Sc=bd-1}Sc=0;for(bd=yb;Sc<Tb;++Sc)ed=jc[Sc],"L"==bd&&"1"==ed?jc[Sc]="L":X.test(ed)&&(bd=ed);for(bd=0;bd<Tb;++bd)if(Y.test(jc[bd])){for(Sc=
bd+1;Sc<Tb&&Y.test(jc[Sc]);++Sc);ed="L"==(bd?jc[bd-1]:yb);for(ed=ed==("L"==(Sc<Tb?jc[Sc]:yb))?ed?"L":"R":yb;bd<Sc;++bd)jc[bd]=ed;bd=Sc-1}yb=[];var Ce;for(Sc=0;Sc<Tb;)if(fa.test(jc[Sc])){bd=Sc;for(++Sc;Sc<Tb&&fa.test(jc[Sc]);++Sc);yb.push(new h(0,bd,Sc))}else{var tf=Sc;bd=yb.length;ed="rtl"==eb?1:0;for(++Sc;Sc<Tb&&"L"!=jc[Sc];++Sc);for(Md=tf;Md<Sc;)if(La.test(jc[Md])){tf<Md&&(yb.splice(bd,0,new h(1,tf,Md)),bd+=ed);tf=Md;for(++Md;Md<Sc&&La.test(jc[Md]);++Md);yb.splice(bd,0,new h(2,tf,Md));bd+=ed;tf=
Md}else++Md;tf<Sc&&yb.splice(bd,0,new h(1,tf,Sc))}"ltr"==eb&&(1==yb[0].level&&(Ce=Za.match(/^\s+/))&&(yb[0].from=Ce[0].length,yb.unshift(new h(0,0,Ce[0].length))),1==y(yb).level&&(Ce=Za.match(/\s+$/))&&(y(yb).to-=Ce[0].length,yb.push(new h(0,Tb-Ce[0].length,Tb))));return"rtl"==eb?yb.reverse():yb}}(),Og=[],Le=function(h,I,Y){h.addEventListener?h.addEventListener(I,Y,!1):h.attachEvent?h.attachEvent("on"+I,Y):(h=h._handlers||(h._handlers={}),h[I]=(h[I]||Og).concat(Y))},sh=function(){if(Zf&&9>Eg)return!1;
var h=A("div");return"draggable"in h||"dragDrop"in h}(),Lh,Pg,of=3!="\n\nb".split(/\n/).length?function(h){for(var I=0,Y=[],X=h.length;I<=X;){var fa=h.indexOf("\n",I);-1==fa&&(fa=h.length);var La=h.slice(I,"\r"==h.charAt(fa-1)?fa-1:fa),Za=La.indexOf("\r");-1!=Za?(Y.push(La.slice(0,Za)),I+=Za+1):(Y.push(La),I=fa+1)}return Y}:function(h){return h.split(/\r\n?|\n/)},zg=window.getSelection?function(h){try{return h.selectionStart!=h.selectionEnd}catch(I){return!1}}:function(h){try{var I=h.ownerDocument.selection.createRange()}catch(Y){}return I&&
I.parentElement()==h?0!=I.compareEndPoints("StartToEnd",I):!1},Xh=function(){var h=A("div");if("oncopy"in h)return!0;h.setAttribute("oncopy","return;");return"function"==typeof h.oncopy}(),Me=null,qe={},Re={},re={},xf=function(h,I,Y){this.pos=this.start=0;this.string=h;this.tabSize=I||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=Y};xf.prototype.eol=function(){return this.pos>=this.string.length};xf.prototype.sol=function(){return this.pos==this.lineStart};xf.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};xf.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};xf.prototype.eat=function(h){var I=this.string.charAt(this.pos);if("string"==typeof h?I==h:I&&(h.test?h.test(I):h(I)))return++this.pos,I};xf.prototype.eatWhile=function(h){for(var I=this.pos;this.eat(h););return this.pos>I};xf.prototype.eatSpace=function(){for(var h=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
h};xf.prototype.skipToEnd=function(){this.pos=this.string.length};xf.prototype.skipTo=function(h){h=this.string.indexOf(h,this.pos);if(-1<h)return this.pos=h,!0};xf.prototype.backUp=function(h){this.pos-=h};xf.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=c(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)};xf.prototype.indentation=
function(){return c(this.string,null,this.tabSize)-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)};xf.prototype.match=function(h,I,Y){if("string"==typeof h){var X=function(La){return Y?La.toLowerCase():La},fa=this.string.substr(this.pos,h.length);if(X(fa)==X(h))return!1!==I&&(this.pos+=h.length),!0}else{if((h=this.string.slice(this.pos).match(h))&&0<h.index)return null;h&&!1!==I&&(this.pos+=h[0].length);return h}};xf.prototype.current=function(){return this.string.slice(this.start,
this.pos)};xf.prototype.hideFirstChars=function(h,I){this.lineStart+=h;try{return I()}finally{this.lineStart-=h}};xf.prototype.lookAhead=function(h){var I=this.lineOracle;return I&&I.lookAhead(h)};xf.prototype.baseToken=function(){var h=this.lineOracle;return h&&h.baseToken(this.pos)};var Wg=function(h,I){this.state=h;this.lookAhead=I},dg=function(h,I,Y,X){this.state=I;this.doc=h;this.line=Y;this.maxLookAhead=X||0;this.baseTokens=null;this.baseTokenPos=1};dg.prototype.lookAhead=function(h){var I=
this.doc.getLine(this.line+h);null!=I&&h>this.maxLookAhead&&(this.maxLookAhead=h);return I};dg.prototype.baseToken=function(h){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=h;)this.baseTokenPos+=2;var I=this.baseTokens[this.baseTokenPos+1];return{type:I&&I.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-h}};dg.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};dg.fromSaved=function(h,I,Y){return I instanceof Wg?new dg(h,
va(h.mode,I.state),Y,I.lookAhead):new dg(h,va(h.mode,I),Y)};dg.prototype.save=function(h){h=!1!==h?va(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Wg(h,this.maxLookAhead):h};var mh=function(h,I,Y){this.start=h.start;this.end=h.pos;this.string=h.current();this.type=I||null;this.state=Y},$h=!1,Ih=!1,Pi=function(h,I,Y){this.text=h;Ha(this,I);this.height=Y?Y(this):1};Pi.prototype.lineNo=function(){return ta(this)};U(Pi);var Kj={},Yj={},Di=null,Ej=null,Dk={left:0,right:0,top:0,bottom:0},
Ag,Qh=function(h,I,Y){this.cm=Y;var X=this.vert=A("div",[A("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),fa=this.horiz=A("div",[A("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");X.tabIndex=fa.tabIndex=-1;h(X);h(fa);Le(X,"scroll",function(){X.clientHeight&&I(X.scrollTop,"vertical")});Le(fa,"scroll",function(){fa.clientWidth&&I(fa.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;Zf&&8>Eg&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Qh.prototype.update=
function(h){var I=h.scrollWidth>h.clientWidth+1,Y=h.scrollHeight>h.clientHeight+1,X=h.nativeBarWidth;Y?(this.vert.style.display="block",this.vert.style.bottom=I?X+"px":"0",this.vert.firstChild.style.height=Math.max(0,h.scrollHeight-h.clientHeight+(h.viewHeight-(I?X:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0");I?(this.horiz.style.display="block",this.horiz.style.right=Y?X+"px":"0",this.horiz.style.left=h.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,h.scrollWidth-h.clientWidth+(h.viewWidth-h.barLeft-(Y?X:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<h.clientHeight&&(0==X&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:Y?X:0,bottom:I?X:0}};Qh.prototype.setScrollLeft=function(h){this.horiz.scrollLeft!=h&&(this.horiz.scrollLeft=h);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Qh.prototype.setScrollTop=function(h){this.vert.scrollTop!=
h&&(this.vert.scrollTop=h);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Qh.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=Hg&&!Xi?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new Cc;this.disableVert=new Cc};Qh.prototype.enableZeroWidthBar=function(h,I,Y){function X(){var fa=h.getBoundingClientRect();("vert"==Y?document.elementFromPoint(fa.right-1,(fa.top+fa.bottom)/2):document.elementFromPoint((fa.right+
fa.left)/2,fa.bottom-1))!=h?h.style.pointerEvents="none":I.set(1E3,X)}h.style.pointerEvents="auto";I.set(1E3,X)};Qh.prototype.clear=function(){var h=this.horiz.parentNode;h.removeChild(this.horiz);h.removeChild(this.vert)};var sj=function(){};sj.prototype.update=function(){return{bottom:0,right:0}};sj.prototype.setScrollLeft=function(){};sj.prototype.setScrollTop=function(){};sj.prototype.clear=function(){};var ok={"native":Qh,"null":sj},Nk=0,cj=function(h,I,Y){var X=h.display;this.viewport=I;this.visible=
na(X,h.doc,I);this.editorIsHidden=!X.wrapper.offsetWidth;this.wrapperHeight=X.wrapper.clientHeight;this.wrapperWidth=X.wrapper.clientWidth;this.oldDisplayWidth=Yd(h);this.force=Y;this.dims=ua(h);this.events=[]};cj.prototype.signal=function(h,I){N(h,I)&&this.events.push(arguments)};cj.prototype.finish=function(){for(var h=0;h<this.events.length;h++)J.apply(null,this.events[h])};var Mi=0,Hh=null;Zf?Hh=-.53:lg?Hh=15:vi?Hh=-.7:Li&&(Hh=-1/3);var dh=function(h,I){this.ranges=h;this.primIndex=I};dh.prototype.primary=
function(){return this.ranges[this.primIndex]};dh.prototype.equals=function(h){if(h==this)return!0;if(h.primIndex!=this.primIndex||h.ranges.length!=this.ranges.length)return!1;for(var I=0;I<this.ranges.length;I++){var Y=this.ranges[I],X=h.ranges[I];if(!Xa(Y.anchor,X.anchor)||!Xa(Y.head,X.head))return!1}return!0};dh.prototype.deepCopy=function(){for(var h=[],I=0;I<this.ranges.length;I++)h[I]=new kg(Ya(this.ranges[I].anchor),Ya(this.ranges[I].head));return new dh(h,this.primIndex)};dh.prototype.somethingSelected=
function(){for(var h=0;h<this.ranges.length;h++)if(!this.ranges[h].empty())return!0;return!1};dh.prototype.contains=function(h,I){I||(I=h);for(var Y=0;Y<this.ranges.length;Y++){var X=this.ranges[Y];if(0<=Ia(I,X.from())&&0>=Ia(h,X.to()))return Y}return-1};var kg=function(h,I){this.anchor=h;this.head=I};kg.prototype.from=function(){return ib(this.anchor,this.head)};kg.prototype.to=function(){return mb(this.anchor,this.head)};kg.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};ge.prototype={chunkSize:function(){return this.lines.length},removeInner:function(h,I){for(var Y=h,X=h+I;Y<X;++Y){var fa=this.lines[Y];this.height-=fa.height;var La=fa;La.parent=null;Ca(La);me(fa,"delete")}this.lines.splice(h,I)},collapse:function(h){h.push.apply(h,this.lines)},insertInner:function(h,I,Y){this.height+=Y;this.lines=this.lines.slice(0,h).concat(I).concat(this.lines.slice(h));for(h=0;h<I.length;++h)I[h].parent=this},iterN:function(h,I,Y){for(I=h+I;h<I;++h)if(Y(this.lines[h]))return!0}};
Je.prototype={chunkSize:function(){return this.size},removeInner:function(h,I){this.size-=I;for(var Y=0;Y<this.children.length;++Y){var X=this.children[Y],fa=X.chunkSize();if(h<fa){var La=Math.min(I,fa-h),Za=X.height;X.removeInner(h,La);this.height-=Za-X.height;fa==La&&(this.children.splice(Y--,1),X.parent=null);if(0==(I-=La))break;h=0}else h-=fa}25>this.size-I&&(1<this.children.length||!(this.children[0]instanceof ge))&&(h=[],this.collapse(h),this.children=[new ge(h)],this.children[0].parent=this)},
collapse:function(h){for(var I=0;I<this.children.length;++I)this.children[I].collapse(h)},insertInner:function(h,I,Y){this.size+=I.length;this.height+=Y;for(var X=0;X<this.children.length;++X){var fa=this.children[X],La=fa.chunkSize();if(h<=La){fa.insertInner(h,I,Y);if(fa.lines&&50<fa.lines.length){for(I=h=fa.lines.length%25+25;I<fa.lines.length;)Y=new ge(fa.lines.slice(I,I+=25)),fa.height-=Y.height,this.children.splice(++X,0,Y),Y.parent=this;fa.lines=fa.lines.slice(0,h);this.maybeSpill()}break}h-=
La}},maybeSpill:function(){if(!(10>=this.children.length)){var h=this;do{var I=h.children.splice(h.children.length-5,5);I=new Je(I);if(h.parent){h.size-=I.size;h.height-=I.height;var Y=a(h.parent.children,h);h.parent.children.splice(Y+1,0,I)}else Y=new Je(h.children),Y.parent=h,h.children=[Y,I],h=Y;I.parent=h.parent}while(10<h.children.length);h.parent.maybeSpill()}},iterN:function(h,I,Y){for(var X=0;X<this.children.length;++X){var fa=this.children[X],La=fa.chunkSize();if(h<La){La=Math.min(I,La-h);
if(fa.iterN(h,La,Y))return!0;if(0==(I-=La))break;h=0}else h-=La}}};var ti=function(h,I,Y){if(Y)for(var X in Y)Y.hasOwnProperty(X)&&(this[X]=Y[X]);this.doc=h;this.node=I};ti.prototype.clear=function(){var h=this.doc.cm,I=this.line.widgets,Y=this.line,X=ta(Y);if(null!=X&&I){for(var fa=0;fa<I.length;++fa)I[fa]==this&&I.splice(fa--,1);I.length||(Y.widgets=null);var La=fd(this);ab(Y,Math.max(0,Y.height-La));h&&(xd(h,function(){var Za=-La;dd(Y)<(h.curOp&&h.curOp.scrollTop||h.doc.scrollTop)&&lb(h,Za);xb(h,
X,"widget")}),me(h,"lineWidgetCleared",h,this,X))}};ti.prototype.changed=function(){var h=this,I=this.height,Y=this.doc.cm,X=this.line;this.height=null;var fa=fd(this)-I;fa&&(Jc(this.doc,X)||ab(X,X.height+fa),Y&&xd(Y,function(){Y.curOp.forceUpdate=!0;dd(X)<(Y.curOp&&Y.curOp.scrollTop||Y.doc.scrollTop)&&lb(Y,fa);me(Y,"lineWidgetChanged",Y,h,ta(X))}))};U(ti);var uj=0,ki=function(h,I){this.lines=[];this.type=I;this.doc=h;this.id=++uj};ki.prototype.clear=function(){if(!this.explicitlyCleared){var h=this.doc.cm,
I=h&&!h.curOp;I&&je(h);if(N(this,"clear")){var Y=this.find();Y&&me(this,"clear",Y.from,Y.to)}for(var X=Y=null,fa=0;fa<this.lines.length;++fa){var La=this.lines[fa],Za=Dc(La.markedSpans,this);h&&!this.collapsed?xb(h,ta(La),"text"):h&&(null!=Za.to&&(X=ta(La)),null!=Za.from&&(Y=ta(La)));for(var eb=La,yb=void 0,Tb=La.markedSpans,jc=Za,Sc=0;Sc<Tb.length;++Sc)Tb[Sc]!=jc&&(yb||(yb=[])).push(Tb[Sc]);eb.markedSpans=yb;null==Za.from&&this.collapsed&&!Jc(this.doc,La)&&h&&ab(La,cf(h.display))}if(h&&this.collapsed&&
!h.options.lineWrapping)for(fa=0;fa<this.lines.length;++fa)La=Ob(this.lines[fa]),Za=ld(La),Za>h.display.maxLineLength&&(h.display.maxLine=La,h.display.maxLineLength=Za,h.display.maxLineChanged=!0);null!=Y&&h&&this.collapsed&&fb(h,Y,X+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,h&&Te(h.doc));h&&me(h,"markerCleared",h,this,Y,X);I&&ve(h);this.parent&&this.parent.clear()}};ki.prototype.find=function(h,I){null==h&&"bookmark"==this.type&&(h=1);
for(var Y,X,fa=0;fa<this.lines.length;++fa){var La=this.lines[fa],Za=Dc(La.markedSpans,this);if(null!=Za.from&&(Y=ka(I?La:ta(La),Za.from),-1==h))return Y;if(null!=Za.to&&(X=ka(I?La:ta(La),Za.to),1==h))return X}return Y&&{from:Y,to:X}};ki.prototype.changed=function(){var h=this,I=this.find(-1,!0),Y=this,X=this.doc.cm;I&&X&&xd(X,function(){var fa=I.line,La=ta(I.line);if(La=Bf(X,La))Vb(La),X.curOp.selectionChanged=X.curOp.forceUpdate=!0;X.curOp.updateMaxLine=!0;Jc(Y.doc,fa)||null==Y.height||(La=Y.height,
Y.height=null,(La=fd(Y)-La)&&ab(fa,fa.height+La));me(X,"markerChanged",X,h)})};ki.prototype.attachLine=function(h){if(!this.lines.length&&this.doc.cm){var I=this.doc.cm.curOp;I.maybeHiddenMarkers&&-1!=a(I.maybeHiddenMarkers,this)||(I.maybeUnhiddenMarkers||(I.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(h)};ki.prototype.detachLine=function(h){this.lines.splice(a(this.lines,h),1);!this.lines.length&&this.doc.cm&&(h=this.doc.cm.curOp,(h.maybeHiddenMarkers||(h.maybeHiddenMarkers=[])).push(this))};
U(ki);var Yi=function(h,I){this.markers=h;this.primary=I;for(I=0;I<h.length;++I)h[I].parent=this};Yi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var h=0;h<this.markers.length;++h)this.markers[h].clear();me(this,"clear")}};Yi.prototype.find=function(h,I){return this.primary.find(h,I)};U(Yi);var Ci=0,Fh=function(h,I,Y,X,fa){if(!(this instanceof Fh))return new Fh(h,I,Y,X,fa);null==Y&&(Y=0);Je.call(this,[new ge([new Pi("",null)])]);this.first=Y;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=Y;Y=ka(Y,0);this.sel=eg(Y);this.history=new he(null);this.id=++Ci;this.modeOption=I;this.lineSep=X;this.direction="rtl"==fa?"rtl":"ltr";this.extend=!1;"string"==typeof h&&(h=this.splitLines(h));bb(this,{from:Y,to:Y,text:h});tg(this,eg(Y),Gd)};Fh.prototype=w(Je.prototype,{constructor:Fh,iter:function(h,I,Y){Y?this.iterN(h-this.first,I-h,Y):this.iterN(this.first,this.first+this.size,h)},insert:function(h,
I){for(var Y=0,X=0;X<I.length;++X)Y+=I[X].height;this.insertInner(h-this.first,I,Y)},remove:function(h,I){this.removeInner(h-this.first,I)},getValue:function(h){var I=Ua(this,this.first,this.first+this.size);return!1===h?I:I.join(h||this.lineSeparator())},setValue:ye(function(h){var I=ka(this.first,0),Y=this.first+this.size-1;Db(this,{from:I,to:ka(Y,ma(this,Y).text.length),text:this.splitLines(h),origin:"setValue",full:!0},!0);this.cm&&Nb(this.cm,0,0);tg(this,eg(I),Gd)}),replaceRange:function(h,I,
Y,X){I=Eb(this,I);Y=Y?Eb(this,Y):I;Rd(this,h,I,Y,X)},getRange:function(h,I,Y){h=Ea(this,Eb(this,h),Eb(this,I));return!1===Y?h:""===Y?h.join(""):h.join(Y||this.lineSeparator())},getLine:function(h){return(h=this.getLineHandle(h))&&h.text},getLineHandle:function(h){if(oa(this,h))return ma(this,h)},getLineNumber:function(h){return ta(h)},getLineHandleVisualStart:function(h){"number"==typeof h&&(h=ma(this,h));return Ob(h)},lineCount:function(){return this.size},firstLine:function(){return this.first},
lastLine:function(){return this.first+this.size-1},clipPos:function(h){return Eb(this,h)},getCursor:function(h){var I=this.sel.primary();return null==h||"head"==h?I.head:"anchor"==h?I.anchor:"end"==h||"to"==h||!1===h?I.to():I.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ye(function(h,I,Y){h=Eb(this,"number"==typeof h?ka(h,I||0):h);tg(this,eg(h,null),Y)}),setSelection:ye(function(h,I,Y){var X=Eb(this,h);h=Eb(this,
I||h);tg(this,eg(X,h),Y)}),extendSelection:ye(function(h,I,Y){mf(this,Eb(this,h),I&&Eb(this,I),Y)}),extendSelections:ye(function(h,I){ae(this,Zb(this,h),I)}),extendSelectionsBy:ye(function(h,I){h=q(this.sel.ranges,h);ae(this,Zb(this,h),I)}),setSelections:ye(function(h,I,Y){if(h.length){for(var X=[],fa=0;fa<h.length;fa++)X[fa]=new kg(Eb(this,h[fa].anchor),Eb(this,h[fa].head||h[fa].anchor));null==I&&(I=Math.min(h.length-1,this.sel.primIndex));tg(this,Pf(this.cm,X,I),Y)}}),addSelection:ye(function(h,
I,Y){var X=this.sel.ranges.slice(0);X.push(new kg(Eb(this,h),Eb(this,I||h)));tg(this,Pf(this.cm,X,X.length-1),Y)}),getSelection:function(h){for(var I=this.sel.ranges,Y,X=0;X<I.length;X++){var fa=Ea(this,I[X].from(),I[X].to());Y=Y?Y.concat(fa):fa}return!1===h?Y:Y.join(h||this.lineSeparator())},getSelections:function(h){for(var I=[],Y=this.sel.ranges,X=0;X<Y.length;X++){var fa=Ea(this,Y[X].from(),Y[X].to());!1!==h&&(fa=fa.join(h||this.lineSeparator()));I[X]=fa}return I},replaceSelection:function(h,
I,Y){for(var X=[],fa=0;fa<this.sel.ranges.length;fa++)X[fa]=h;this.replaceSelections(X,I,Y||"+input")},replaceSelections:ye(function(h,I,Y){for(var X=[],fa=this.sel,La=0;La<fa.ranges.length;La++){var Za=fa.ranges[La];X[La]={from:Za.from(),to:Za.to(),text:this.splitLines(h[La]),origin:Y}}if(h=I&&"end"!=I){h=[];fa=Y=ka(this.first,0);for(La=0;La<X.length;La++){var eb=X[La];Za=th(eb.from,Y,fa);var yb=th(Mf(eb),Y,fa);Y=eb.to;fa=yb;"around"==I?(eb=this.sel.ranges[La],eb=0>Ia(eb.head,eb.anchor),h[La]=new kg(eb?
yb:Za,eb?Za:yb)):h[La]=new kg(Za,Za)}h=new dh(h,this.sel.primIndex)}I=h;for(h=X.length-1;0<=h;h--)Db(this,X[h]);I?lh(this,I):this.cm&&Jb(this.cm)}),undo:ye(function(){Hc(this,"undo")}),redo:ye(function(){Hc(this,"redo")}),undoSelection:ye(function(){Hc(this,"undo",!0)}),redoSelection:ye(function(){Hc(this,"redo",!0)}),setExtending:function(h){this.extend=h},getExtending:function(){return this.extend},historySize:function(){for(var h=this.history,I=0,Y=0,X=0;X<h.done.length;X++)h.done[X].ranges||++I;
for(X=0;X<h.undone.length;X++)h.undone[X].ranges||++Y;return{undo:I,redo:Y}},clearHistory:function(){var h=this;this.history=new he(this.history);Hb(this,function(I){return I.history=h.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(h){h&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(h){return this.history.generation==(h||this.cleanGeneration)},getHistory:function(){return{done:$g(this.history.done),
undone:$g(this.history.undone)}},setHistory:function(h){var I=this.history=new he(this.history);I.done=$g(h.done.slice(0),null,!0);I.undone=$g(h.undone.slice(0),null,!0)},setGutterMarker:ye(function(h,I,Y){return Pd(this,h,"gutter",function(X){var fa=X.gutterMarkers||(X.gutterMarkers={});fa[I]=Y;!Y&&L(fa)&&(X.gutterMarkers=null);return!0})}),clearGutter:ye(function(h){var I=this;this.iter(function(Y){Y.gutterMarkers&&Y.gutterMarkers[h]&&Pd(I,Y,"gutter",function(){Y.gutterMarkers[h]=null;L(Y.gutterMarkers)&&
(Y.gutterMarkers=null);return!0})})}),lineInfo:function(h){if("number"==typeof h){if(!oa(this,h))return null;var I=h;h=ma(this,h);if(!h)return null}else if(I=ta(h),null==I)return null;return{line:I,handle:h,text:h.text,gutterMarkers:h.gutterMarkers,textClass:h.textClass,bgClass:h.bgClass,wrapClass:h.wrapClass,widgets:h.widgets}},addLineClass:ye(function(h,I,Y){return Pd(this,h,"gutter"==I?"gutter":"class",function(X){var fa="text"==I?"textClass":"background"==I?"bgClass":"gutter"==I?"gutterClass":
"wrapClass";if(X[fa]){if(v(Y).test(X[fa]))return!1;X[fa]+=" "+Y}else X[fa]=Y;return!0})}),removeLineClass:ye(function(h,I,Y){return Pd(this,h,"gutter"==I?"gutter":"class",function(X){var fa="text"==I?"textClass":"background"==I?"bgClass":"gutter"==I?"gutterClass":"wrapClass",La=X[fa];if(La)if(null==Y)X[fa]=null;else{var Za=La.match(v(Y));if(!Za)return!1;var eb=Za.index+Za[0].length;X[fa]=La.slice(0,Za.index)+(Za.index&&eb!=La.length?" ":"")+La.slice(eb)||null}else return!1;return!0})}),addLineWidget:ye(function(h,
I,Y){return Pe(this,h,I,Y)}),removeLineWidget:function(h){h.clear()},markText:function(h,I,Y){return Hf(this,Eb(this,h),Eb(this,I),Y,Y&&Y.type||"range")},setBookmark:function(h,I){I={replacedWith:I&&(null==I.nodeType?I.widget:I),insertLeft:I&&I.insertLeft,clearWhenEmpty:!1,shared:I&&I.shared,handleMouseEvents:I&&I.handleMouseEvents};h=Eb(this,h);return Hf(this,h,h,I,"bookmark")},findMarksAt:function(h){h=Eb(this,h);var I=[],Y=ma(this,h.line).markedSpans;if(Y)for(var X=0;X<Y.length;++X){var fa=Y[X];
(null==fa.from||fa.from<=h.ch)&&(null==fa.to||fa.to>=h.ch)&&I.push(fa.marker.parent||fa.marker)}return I},findMarks:function(h,I,Y){h=Eb(this,h);I=Eb(this,I);var X=[],fa=h.line;this.iter(h.line,I.line+1,function(La){if(La=La.markedSpans)for(var Za=0;Za<La.length;Za++){var eb=La[Za];null!=eb.to&&fa==h.line&&h.ch>=eb.to||null==eb.from&&fa!=h.line||null!=eb.from&&fa==I.line&&eb.from>=I.ch||Y&&!Y(eb.marker)||X.push(eb.marker.parent||eb.marker)}++fa});return X},getAllMarks:function(){var h=[];this.iter(function(I){if(I=
I.markedSpans)for(var Y=0;Y<I.length;++Y)null!=I[Y].from&&h.push(I[Y].marker)});return h},posFromIndex:function(h){var I,Y=this.first,X=this.lineSeparator().length;this.iter(function(fa){fa=fa.text.length+X;if(fa>h)return I=h,!0;h-=fa;++Y});return Eb(this,ka(Y,I))},indexFromPos:function(h){h=Eb(this,h);var I=h.ch;if(h.line<this.first||0>h.ch)return 0;var Y=this.lineSeparator().length;this.iter(this.first,h.line,function(X){I+=X.text.length+Y});return I},copy:function(h){var I=new Fh(Ua(this,this.first,
this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);I.scrollTop=this.scrollTop;I.scrollLeft=this.scrollLeft;I.sel=this.sel;I.extend=!1;h&&(I.history.undoDepth=this.history.undoDepth,I.setHistory(this.getHistory()));return I},linkedDoc:function(h){h||(h={});var I=this.first,Y=this.first+this.size;null!=h.from&&h.from>I&&(I=h.from);null!=h.to&&h.to<Y&&(Y=h.to);I=new Fh(Ua(this,I,Y),h.mode||this.modeOption,I,this.lineSep,this.direction);h.sharedHist&&(I.history=this.history);
(this.linked||(this.linked=[])).push({doc:I,sharedHist:h.sharedHist});I.linked=[{doc:this,isParent:!0,sharedHist:h.sharedHist}];h=Ue(this);for(Y=0;Y<h.length;Y++){var X=h[Y],fa=X.find(),La=I.clipPos(fa.from);fa=I.clipPos(fa.to);Ia(La,fa)&&(La=Hf(I,La,fa,X.primary,X.primary.type),X.markers.push(La),La.parent=X)}return I},unlinkDoc:function(h){h instanceof We&&(h=h.doc);if(this.linked)for(var I=0;I<this.linked.length;++I)if(this.linked[I].doc==h){this.linked.splice(I,1);h.unlinkDoc(this);nf(Ue(this));
break}if(h.history==this.history){var Y=[h.id];Hb(h,function(X){return Y.push(X.id)},!0);h.history=new he(null);h.history.done=$g(this.history.done,Y);h.history.undone=$g(this.history.undone,Y)}},iterLinkedDocs:function(h){Hb(this,h)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(h){return this.lineSep?h.split(this.lineSep):of(h)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ye(function(h){"rtl"!=h&&(h="ltr");h!=this.direction&&(this.direction=
h,this.iter(function(I){return I.order=null}),this.cm&&zd(this.cm))})});Fh.prototype.eachLine=Fh.prototype.iter;for(var oj=0,pj=!1,ni={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",
188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Fj=0;10>Fj;Fj++)ni[Fj+48]=ni[Fj+96]=String(Fj);for(var dj=65;90>=dj;dj++)ni[dj]=String.fromCharCode(dj);for(var Wi=1;12>=Wi;Wi++)ni[Wi+111]=ni[Wi+63235]="F"+Wi;var Oi={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",
PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart",
"Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd",
"Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore",
"Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Oi["default"]=Hg?Oi.macDefault:Oi.pcDefault;var qj={selectAll:Ta,
singleSelection:function(h){return h.setSelection(h.getCursor("anchor"),h.getCursor("head"),Gd)},killLine:function(h){return Jh(h,function(I){if(I.empty()){var Y=ma(h.doc,I.head.line).text.length;return I.head.ch==Y&&I.head.line<h.lastLine()?{from:I.head,to:ka(I.head.line+1,0)}:{from:I.head,to:ka(I.head.line,Y)}}return{from:I.from(),to:I.to()}})},deleteLine:function(h){return Jh(h,function(I){return{from:ka(I.from().line,0),to:Eb(h.doc,ka(I.to().line+1,0))}})},delLineLeft:function(h){return Jh(h,
function(I){return{from:ka(I.from().line,0),to:I.from()}})},delWrappedLineLeft:function(h){return Jh(h,function(I){var Y=h.charCoords(I.head,"div").top+5;return{from:h.coordsChar({left:0,top:Y},"div"),to:I.from()}})},delWrappedLineRight:function(h){return Jh(h,function(I){var Y=h.charCoords(I.head,"div").top+5;Y=h.coordsChar({left:h.display.lineDiv.offsetWidth+100,top:Y},"div");return{from:I.from(),to:Y}})},undo:function(h){return h.undo()},redo:function(h){return h.redo()},undoSelection:function(h){return h.undoSelection()},
redoSelection:function(h){return h.redoSelection()},goDocStart:function(h){return h.extendSelection(ka(h.firstLine(),0))},goDocEnd:function(h){return h.extendSelection(ka(h.lastLine()))},goLineStart:function(h){return h.extendSelectionsBy(function(I){return Yg(h,I.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(h){return h.extendSelectionsBy(function(I){return Ti(h,I.head)},{origin:"+move",bias:1})},goLineEnd:function(h){return h.extendSelectionsBy(function(I){I=I.head.line;var Y=
ma(h.doc,I);var X=Y;for(var fa;fa=ob(X,!1);)X=fa.find(1,!0).line;X!=Y&&(I=ta(X));return zi(!0,h,Y,I,-1)},{origin:"+move",bias:-1})},goLineRight:function(h){return h.extendSelectionsBy(function(I){I=h.cursorCoords(I.head,"div").top+5;return h.coordsChar({left:h.display.lineDiv.offsetWidth+100,top:I},"div")},pd)},goLineLeft:function(h){return h.extendSelectionsBy(function(I){I=h.cursorCoords(I.head,"div").top+5;return h.coordsChar({left:0,top:I},"div")},pd)},goLineLeftSmart:function(h){return h.extendSelectionsBy(function(I){var Y=
h.cursorCoords(I.head,"div").top+5;Y=h.coordsChar({left:0,top:Y},"div");return Y.ch<h.getLine(Y.line).search(/\S/)?Ti(h,I.head):Y},pd)},goLineUp:function(h){return h.moveV(-1,"line")},goLineDown:function(h){return h.moveV(1,"line")},goPageUp:function(h){return h.moveV(-1,"page")},goPageDown:function(h){return h.moveV(1,"page")},goCharLeft:function(h){return h.moveH(-1,"char")},goCharRight:function(h){return h.moveH(1,"char")},goColumnLeft:function(h){return h.moveH(-1,"column")},goColumnRight:function(h){return h.moveH(1,
"column")},goWordLeft:function(h){return h.moveH(-1,"word")},goGroupRight:function(h){return h.moveH(1,"group")},goGroupLeft:function(h){return h.moveH(-1,"group")},goWordRight:function(h){return h.moveH(1,"word")},delCharBefore:function(h){return h.deleteH(-1,"codepoint")},delCharAfter:function(h){return h.deleteH(1,"char")},delWordBefore:function(h){return h.deleteH(-1,"word")},delWordAfter:function(h){return h.deleteH(1,"word")},delGroupBefore:function(h){return h.deleteH(-1,"group")},delGroupAfter:function(h){return h.deleteH(1,
"group")},indentAuto:function(h){return h.indentSelection("smart")},indentMore:function(h){return h.indentSelection("add")},indentLess:function(h){return h.indentSelection("subtract")},insertTab:function(h){return h.replaceSelection("\t")},insertSoftTab:function(h){for(var I=[],Y=h.listSelections(),X=h.options.tabSize,fa=0;fa<Y.length;fa++){var La=Y[fa].from();La=c(h.getLine(La.line),La.ch,X);I.push(t(X-La%X))}h.replaceSelections(I)},defaultTab:function(h){h.somethingSelected()?h.indentSelection("add"):
h.execCommand("insertTab")},transposeChars:function(h){return xd(h,function(){for(var I=h.listSelections(),Y=[],X=0;X<I.length;X++)if(I[X].empty()){var fa=I[X].head,La=ma(h.doc,fa.line).text;if(La)if(fa.ch==La.length&&(fa=new ka(fa.line,fa.ch-1)),0<fa.ch)fa=new ka(fa.line,fa.ch+1),h.replaceRange(La.charAt(fa.ch-1)+La.charAt(fa.ch-2),ka(fa.line,fa.ch-2),fa,"+transpose");else if(fa.line>h.doc.first){var Za=ma(h.doc,fa.line-1).text;Za&&(fa=new ka(fa.line,1),h.replaceRange(La.charAt(0)+h.doc.lineSeparator()+
Za.charAt(Za.length-1),ka(fa.line-1,Za.length-1),fa,"+transpose"))}Y.push(new kg(fa,fa))}h.setSelections(Y)})},newlineAndIndent:function(h){return xd(h,function(){for(var I=h.listSelections(),Y=I.length-1;0<=Y;Y--)h.replaceRange(h.doc.lineSeparator(),I[Y].anchor,I[Y].head,"+input");I=h.listSelections();for(Y=0;Y<I.length;Y++)h.indentLine(I[Y].from().line,null,!0);Jb(h)})},openLine:function(h){return h.replaceSelection("\n","start")},toggleOverwrite:function(h){return h.toggleOverwrite()}},pk=new Cc,
ik=null,Zj=function(h,I,Y){this.time=h;this.pos=I;this.button=Y};Zj.prototype.compare=function(h,I,Y){return this.time+400>h&&0==Ia(I,this.pos)&&Y==this.button};var Gj,Zi,bj={toString:function(){return"CodeMirror.Init"}},Ek={},tj={};We.defaults=Ek;We.optionHandlers=tj;var jk=[];We.defineInitHook=function(h){return jk.push(h)};var Zh=null,Ig=function(h){this.cm=h;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Cc;this.composing=null;this.gracePeriod=
!1;this.readDOMTimeout=null};Ig.prototype.init=function(h){function I(eb){for(eb=eb.target;eb;eb=eb.parentNode){if(eb==Za)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(eb.className))break}return!1}function Y(eb){if(I(eb)&&!r(La,eb)){if(La.somethingSelected())Zh={lineWise:!1,text:La.getSelections()},"cut"==eb.type&&La.replaceSelection("",null,"cut");else if(La.options.lineWiseCopyCut){var yb=cg(La);Zh={lineWise:!0,text:yb.text};"cut"==eb.type&&La.operation(function(){La.setSelections(yb.ranges,
0,Gd);La.replaceSelection("",null,"cut")})}else return;if(eb.clipboardData){eb.clipboardData.clearData();var Tb=Zh.text.join("\n");eb.clipboardData.setData("Text",Tb);if(eb.clipboardData.getData("Text")==Tb){eb.preventDefault();return}}var jc=li();eb=jc.firstChild;La.display.lineSpace.insertBefore(jc,La.display.lineSpace.firstChild);eb.value=Zh.text.join("\n");var Sc=l();lc(eb);setTimeout(function(){La.display.lineSpace.removeChild(jc);Sc.focus();Sc==Za&&fa.showPrimarySelection()},50)}}var X=this,
fa=this,La=fa.cm,Za=fa.div=h.lineDiv;Za.contentEditable=!0;rg(Za,La.options.spellcheck,La.options.autocorrect,La.options.autocapitalize);Le(Za,"paste",function(eb){!I(eb)||r(La,eb)||wf(eb,La)||11>=Eg&&setTimeout(Id(La,function(){return X.updateFromDOM()}),20)});Le(Za,"compositionstart",function(eb){X.composing={data:eb.data,done:!1}});Le(Za,"compositionupdate",function(eb){X.composing||(X.composing={data:eb.data,done:!1})});Le(Za,"compositionend",function(eb){X.composing&&(eb.data!=X.composing.data&&
X.readFromDOMSoon(),X.composing.done=!0)});Le(Za,"touchstart",function(){return fa.forceCompositionEnd()});Le(Za,"input",function(){X.composing||X.readFromDOMSoon()});Le(Za,"copy",Y);Le(Za,"cut",Y)};Ig.prototype.screenReaderLabelChanged=function(h){h?this.div.setAttribute("aria-label",h):this.div.removeAttribute("aria-label")};Ig.prototype.prepareSelection=function(){var h=ad(this.cm,!1);h.focus=l()==this.div;return h};Ig.prototype.showSelection=function(h,I){h&&this.cm.display.view.length&&((h.focus||
I)&&this.showPrimarySelection(),this.showMultipleSelections(h))};Ig.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};Ig.prototype.showPrimarySelection=function(){var h=this.getSelection(),I=this.cm,Y=I.doc.sel.primary(),X=Y.from();Y=Y.to();if(I.display.viewTo==I.display.viewFrom||X.line>=I.display.viewTo||Y.line<I.display.viewFrom)h.removeAllRanges();else{var fa=Jg(I,h.anchorNode,h.anchorOffset),La=Jg(I,h.focusNode,h.focusOffset);if(!fa||fa.bad||!La||
La.bad||0!=Ia(ib(fa,La),X)||0!=Ia(mb(fa,La),Y))if(fa=I.display.view,X=X.line>=I.display.viewFrom&&ih(I,X)||{node:fa[0].measure.map[2],offset:0},Y=Y.line<I.display.viewTo&&ih(I,Y),Y||(Y=fa[fa.length-1].measure,Y=Y.maps?Y.maps[Y.maps.length-1]:Y.map,Y={node:Y[Y.length-1],offset:Y[Y.length-2]-Y[Y.length-3]}),X&&Y){fa=h.rangeCount&&h.getRangeAt(0);try{var Za=cc(X.node,X.offset,Y.offset,Y.node)}catch(eb){}Za&&(!lg&&I.state.focused?(h.collapse(X.node,X.offset),Za.collapsed||(h.removeAllRanges(),h.addRange(Za))):
(h.removeAllRanges(),h.addRange(Za)),fa&&null==h.anchorNode?h.addRange(fa):lg&&this.startGracePeriod());this.rememberSelection()}else h.removeAllRanges()}};Ig.prototype.startGracePeriod=function(){var h=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){h.gracePeriod=!1;h.selectionChanged()&&h.cm.operation(function(){return h.cm.curOp.selectionChanged=!0})},20)};Ig.prototype.showMultipleSelections=function(h){p(this.cm.display.cursorDiv,h.cursors);p(this.cm.display.selectionDiv,
h.selection)};Ig.prototype.rememberSelection=function(){var h=this.getSelection();this.lastAnchorNode=h.anchorNode;this.lastAnchorOffset=h.anchorOffset;this.lastFocusNode=h.focusNode;this.lastFocusOffset=h.focusOffset};Ig.prototype.selectionInEditor=function(){var h=this.getSelection();if(!h.rangeCount)return!1;h=h.getRangeAt(0).commonAncestorContainer;return m(this.div,h)};Ig.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&l()==this.div||this.showSelection(this.prepareSelection(),
!0),this.div.focus())};Ig.prototype.blur=function(){this.div.blur()};Ig.prototype.getField=function(){return this.div};Ig.prototype.supportsTouch=function(){return!0};Ig.prototype.receivedFocus=function(){function h(){Y.cm.state.focused&&(Y.pollSelection(),Y.polling.set(Y.cm.options.pollInterval,h))}var I=this,Y=this;this.selectionInEditor()?setTimeout(function(){return I.pollSelection()},20):xd(this.cm,function(){return Y.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,
h)};Ig.prototype.selectionChanged=function(){var h=this.getSelection();return h.anchorNode!=this.lastAnchorNode||h.anchorOffset!=this.lastAnchorOffset||h.focusNode!=this.lastFocusNode||h.focusOffset!=this.lastFocusOffset};Ig.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var h=this.getSelection(),I=this.cm;if(Ii&&vi&&this.cm.display.gutterSpecs.length&&Vg(h.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),
this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var Y=Jg(I,h.anchorNode,h.anchorOffset),X=Jg(I,h.focusNode,h.focusOffset);Y&&X&&xd(I,function(){tg(I.doc,eg(Y,X),Gd);if(Y.bad||X.bad)I.curOp.selectionChanged=!0})}}};Ig.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var h=this.cm,I=h.display,Y=h.doc.sel.primary(),X=Y.from(),fa=Y.to();0==X.ch&&X.line>h.firstLine()&&(X=ka(X.line-1,ma(h.doc,X.line-1).length));
fa.ch==ma(h.doc,fa.line).text.length&&fa.line<h.lastLine()&&(fa=ka(fa.line+1,0));if(X.line<I.viewFrom||fa.line>I.viewTo-1)return!1;var La;X.line==I.viewFrom||0==(La=Qa(h,X.line))?(Y=ta(I.view[0].line),La=I.view[0].node):(Y=ta(I.view[La].line),La=I.view[La-1].node.nextSibling);var Za=Qa(h,fa.line);Za==I.view.length-1?(fa=I.viewTo-1,I=I.lineDiv.lastChild):(fa=ta(I.view[Za+1].line)-1,I=I.view[Za+1].node.previousSibling);if(!La)return!1;I=h.doc.splitLines(Wh(h,La,I,Y,fa));for(La=Ea(h.doc,ka(Y,0),ka(fa,
ma(h.doc,fa).text.length));1<I.length&&1<La.length;)if(y(I)==y(La))I.pop(),La.pop(),fa--;else if(I[0]==La[0])I.shift(),La.shift(),Y++;else break;var eb=0;Za=0;for(var yb=I[0],Tb=La[0],jc=Math.min(yb.length,Tb.length);eb<jc&&yb.charCodeAt(eb)==Tb.charCodeAt(eb);)++eb;yb=y(I);Tb=y(La);for(jc=Math.min(yb.length-(1==I.length?eb:0),Tb.length-(1==La.length?eb:0));Za<jc&&yb.charCodeAt(yb.length-Za-1)==Tb.charCodeAt(Tb.length-Za-1);)++Za;if(1==I.length&&1==La.length&&Y==X.line)for(;eb&&eb>X.ch&&yb.charCodeAt(yb.length-
Za-1)==Tb.charCodeAt(Tb.length-Za-1);)eb--,Za++;I[I.length-1]=yb.slice(0,yb.length-Za).replace(/^\u200b+/,"");I[0]=I[0].slice(eb).replace(/\u200b+$/,"");X=ka(Y,eb);Y=ka(fa,La.length?y(La).length-Za:0);if(1<I.length||I[0]||Ia(X,Y))return Rd(h.doc,I,X,Y,"+input"),!0};Ig.prototype.ensurePolled=function(){this.forceCompositionEnd()};Ig.prototype.reset=function(){this.forceCompositionEnd()};Ig.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,
this.updateFromDOM(),this.div.blur(),this.div.focus())};Ig.prototype.readFromDOMSoon=function(){var h=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){h.readDOMTimeout=null;if(h.composing)if(h.composing.done)h.composing=null;else return;h.updateFromDOM()},80))};Ig.prototype.updateFromDOM=function(){var h=this;!this.cm.isReadOnly()&&this.pollContent()||xd(this.cm,function(){return fb(h.cm)})};Ig.prototype.setUneditable=function(h){h.contentEditable="false"};Ig.prototype.onKeyPress=
function(h){0==h.charCode||this.composing||(h.preventDefault(),this.cm.isReadOnly()||Id(this.cm,Tg)(this.cm,String.fromCharCode(null==h.charCode?h.keyCode:h.charCode),0))};Ig.prototype.readOnlyChanged=function(h){this.div.contentEditable=String("nocursor"!=h)};Ig.prototype.onContextMenu=function(){};Ig.prototype.resetPosition=function(){};Ig.prototype.needsContentAttribute=!0;var nh=function(h){this.cm=h;this.prevInput="";this.pollingFast=!1;this.polling=new Cc;this.hasSelection=!1;this.composing=
null};nh.prototype.init=function(h){function I(Za){if(!r(fa,Za)){if(fa.somethingSelected())Zh={lineWise:!1,text:fa.getSelections()};else if(fa.options.lineWiseCopyCut){var eb=cg(fa);Zh={lineWise:!0,text:eb.text};"cut"==Za.type?fa.setSelections(eb.ranges,null,Gd):(X.prevInput="",La.value=eb.text.join("\n"),lc(La))}else return;"cut"==Za.type&&(fa.state.cutIncoming=+new Date)}}var Y=this,X=this,fa=this.cm;this.createField(h);var La=this.textarea;h.wrapper.insertBefore(this.wrapper,h.wrapper.firstChild);
ri&&(La.style.width="0px");Le(La,"input",function(){Zf&&9<=Eg&&Y.hasSelection&&(Y.hasSelection=null);X.poll()});Le(La,"paste",function(Za){r(fa,Za)||wf(Za,fa)||(fa.state.pasteIncoming=+new Date,X.fastPoll())});Le(La,"cut",I);Le(La,"copy",I);Le(h.scroller,"paste",function(Za){if(!nd(h,Za)&&!r(fa,Za))if(La.dispatchEvent){var eb=new Event("paste");eb.clipboardData=Za.clipboardData;La.dispatchEvent(eb)}else fa.state.pasteIncoming=+new Date,X.focus()});Le(h.lineSpace,"selectstart",function(Za){nd(h,Za)||
ja(Za)});Le(La,"compositionstart",function(){var Za=fa.getCursor("from");X.composing&&X.composing.range.clear();X.composing={start:Za,range:fa.markText(Za,fa.getCursor("to"),{className:"CodeMirror-composing"})}});Le(La,"compositionend",function(){X.composing&&(X.poll(),X.composing.range.clear(),X.composing=null)})};nh.prototype.createField=function(h){this.wrapper=li();this.textarea=this.wrapper.firstChild};nh.prototype.screenReaderLabelChanged=function(h){h?this.textarea.setAttribute("aria-label",
h):this.textarea.removeAttribute("aria-label")};nh.prototype.prepareSelection=function(){var h=this.cm,I=h.display,Y=h.doc,X=ad(h);if(h.options.moveInputWithCursor){h=Ff(h,Y.sel.primary().head,"div");Y=I.wrapper.getBoundingClientRect();var fa=I.lineDiv.getBoundingClientRect();X.teTop=Math.max(0,Math.min(I.wrapper.clientHeight-10,h.top+fa.top-Y.top));X.teLeft=Math.max(0,Math.min(I.wrapper.clientWidth-10,h.left+fa.left-Y.left))}return X};nh.prototype.showSelection=function(h){var I=this.cm.display;
p(I.cursorDiv,h.cursors);p(I.selectionDiv,h.selection);null!=h.teTop&&(this.wrapper.style.top=h.teTop+"px",this.wrapper.style.left=h.teLeft+"px")};nh.prototype.reset=function(h){if(!this.contextMenuPending&&!this.composing){var I=this.cm;I.somethingSelected()?(this.prevInput="",h=I.getSelection(),this.textarea.value=h,I.state.focused&&lc(this.textarea),Zf&&9<=Eg&&(this.hasSelection=h)):h||(this.prevInput=this.textarea.value="",Zf&&9<=Eg&&(this.hasSelection=null))}};nh.prototype.getField=function(){return this.textarea};
nh.prototype.supportsTouch=function(){return!1};nh.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Bi||l()!=this.textarea))try{this.textarea.focus()}catch(h){}};nh.prototype.blur=function(){this.textarea.blur()};nh.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};nh.prototype.receivedFocus=function(){this.slowPoll()};nh.prototype.slowPoll=function(){var h=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){h.poll();
h.cm.state.focused&&h.slowPoll()})};nh.prototype.fastPoll=function(){function h(){Y.poll()||I?(Y.pollingFast=!1,Y.slowPoll()):(I=!0,Y.polling.set(60,h))}var I=!1,Y=this;Y.pollingFast=!0;Y.polling.set(20,h)};nh.prototype.poll=function(){var h=this,I=this.cm,Y=this.textarea,X=this.prevInput;if(this.contextMenuPending||!I.state.focused||zg(Y)&&!X&&!this.composing||I.isReadOnly()||I.options.disableInput||I.state.keySeq)return!1;var fa=Y.value;if(fa==X&&!I.somethingSelected())return!1;if(Zf&&9<=Eg&&this.hasSelection===
fa||Hg&&/[\uf700-\uf7ff]/.test(fa))return I.display.input.reset(),!1;if(I.doc.sel==I.display.selForContextMenu){var La=fa.charCodeAt(0);8203!=La||X||(X="");if(8666==La)return this.reset(),this.cm.execCommand("undo")}var Za=0;for(La=Math.min(X.length,fa.length);Za<La&&X.charCodeAt(Za)==fa.charCodeAt(Za);)++Za;xd(I,function(){Tg(I,fa.slice(Za),X.length-Za,null,h.composing?"*compose":null);1E3<fa.length||-1<fa.indexOf("\n")?Y.value=h.prevInput="":h.prevInput=fa;h.composing&&(h.composing.range.clear(),
h.composing.range=I.markText(h.composing.start,I.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};nh.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};nh.prototype.onKeyPress=function(){Zf&&9<=Eg&&(this.hasSelection=null);this.fastPoll()};nh.prototype.onContextMenu=function(h){function I(){if(null!=Za.selectionStart){var ed=fa.somethingSelected(),Md=""+(ed?Za.value:"");Za.value="";Za.value=Md;X.prevInput=ed?"":"";Za.selectionStart=1;Za.selectionEnd=
Md.length;La.selForContextMenu=fa.doc.sel}}function Y(){if(X.contextMenuPending==Y&&(X.contextMenuPending=!1,X.wrapper.style.cssText=jc,Za.style.cssText=Tb,Zf&&9>Eg&&La.scrollbars.setScrollTop(La.scroller.scrollTop=yb),null!=Za.selectionStart)){(!Zf||Zf&&9>Eg)&&I();var ed=0,Md=function(){La.selForContextMenu==fa.doc.sel&&0==Za.selectionStart&&0<Za.selectionEnd&&""==X.prevInput?Id(fa,Ta)(fa):10>ed++?La.detectingSelectAll=setTimeout(Md,500):(La.selForContextMenu=null,La.input.reset())};La.detectingSelectAll=
setTimeout(Md,200)}}var X=this,fa=X.cm,La=fa.display,Za=X.textarea;X.contextMenuPending&&X.contextMenuPending();var eb=la(fa,h),yb=La.scroller.scrollTop;if(eb&&!yh){fa.options.resetSelectionOnContextMenu&&-1==fa.doc.sel.contains(eb)&&Id(fa,tg)(fa.doc,eg(eb),Gd);var Tb=Za.style.cssText,jc=X.wrapper.style.cssText;eb=X.wrapper.offsetParent.getBoundingClientRect();X.wrapper.style.cssText="position: static";Za.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(h.clientY-eb.top-
5)+"px; left: "+(h.clientX-eb.left-5)+"px;\n      z-index: 1000; background: "+(Zf?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(rh)var Sc=window.scrollY;La.input.focus();rh&&window.scrollTo(null,Sc);La.input.reset();fa.somethingSelected()||(Za.value=X.prevInput=" ");X.contextMenuPending=Y;La.selForContextMenu=fa.doc.sel;clearTimeout(La.detectingSelectAll);Zf&&9<=Eg&&I();if(wb){za(h);
var bd=function(){R(window,"mouseup",bd);setTimeout(Y,20)};Le(window,"mouseup",bd)}else setTimeout(Y,50)}};nh.prototype.readOnlyChanged=function(h){h||this.reset();this.textarea.disabled="nocursor"==h;this.textarea.readOnly=!!h};nh.prototype.setUneditable=function(){};nh.prototype.needsContentAttribute=!1;(function(h){function I(X,fa,La,Za){h.defaults[X]=fa;La&&(Y[X]=Za?function(eb,yb,Tb){Tb!=bj&&La(eb,yb,Tb)}:La)}var Y=h.optionHandlers;h.defineOption=I;h.Init=bj;I("value","",function(X,fa){return X.setValue(fa)},
!0);I("mode",null,function(X,fa){X.doc.modeOption=fa;Gg(X)},!0);I("indentUnit",2,Gg,!0);I("indentWithTabs",!1);I("smartIndent",!0);I("tabSize",4,function(X){xg(X);cd(X);fb(X)},!0);I("lineSeparator",null,function(X,fa){if(X.doc.lineSep=fa){var La=[],Za=X.doc.first;X.doc.iter(function(yb){for(var Tb=0;;){var jc=yb.text.indexOf(fa,Tb);if(-1==jc)break;Tb=jc+fa.length;La.push(ka(Za,jc))}Za++});for(var eb=La.length-1;0<=eb;eb--)Rd(X.doc,fa,La[eb],ka(La[eb].line,La[eb].ch+fa.length))}});I("specialChars",
/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(X,fa,La){X.state.specialChars=new RegExp(fa.source+(fa.test("\t")?"":"|\t"),"g");La!=bj&&X.refresh()});I("specialCharPlaceholder",fe,function(X){return X.refresh()},!0);I("electricChars",!0);I("inputStyle",Bi?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);I("spellcheck",!1,function(X,fa){return X.getInputField().spellcheck=fa},
!0);I("autocorrect",!1,function(X,fa){return X.getInputField().autocorrect=fa},!0);I("autocapitalize",!1,function(X,fa){return X.getInputField().autocapitalize=fa},!0);I("rtlMoveVisually",!pa);I("wholeLineUpdateBefore",!0);I("theme","default",function(X){Ed(X);Bg(X)},!0);I("keyMap","default",function(X,fa,La){fa=Oh(fa);(La=La!=bj&&Oh(La))&&La.detach&&La.detach(X,fa);fa.attach&&fa.attach(X,La||null)});I("extraKeys",null);I("configureMouse",null);I("lineWrapping",!1,Af,!0);I("gutters",[],function(X,
fa){X.display.gutterSpecs=wg(fa,X.options.lineNumbers);Bg(X)},!0);I("fixedGutter",!0,function(X,fa){X.display.gutters.style.left=fa?vb(X.display)+"px":"0";X.refresh()},!0);I("coverGutterNextToScrollbar",!1,function(X){return qd(X)},!0);I("scrollbarStyle","native",function(X){Cd(X);qd(X);X.display.scrollbars.setScrollTop(X.doc.scrollTop);X.display.scrollbars.setScrollLeft(X.doc.scrollLeft)},!0);I("lineNumbers",!1,function(X,fa){X.display.gutterSpecs=wg(X.options.gutters,fa);Bg(X)},!0);I("firstLineNumber",
1,Bg,!0);I("lineNumberFormatter",function(X){return X},Bg,!0);I("showCursorWhenSelecting",!1,Zc,!0);I("resetSelectionOnContextMenu",!0);I("lineWiseCopyCut",!0);I("pasteLinesPerSelection",!0);I("selectionsMayTouch",!1);I("readOnly",!1,function(X,fa){"nocursor"==fa&&(Ib(X),X.display.input.blur());X.display.input.readOnlyChanged(fa)});I("screenReaderLabel",null,function(X,fa){X.display.input.screenReaderLabelChanged(""===fa?null:fa)});I("disableInput",!1,function(X,fa){fa||X.display.input.reset()},!0);
I("dragDrop",!0,De);I("allowDropFileTypes",null);I("cursorBlinkRate",530);I("cursorScrollMargin",0);I("cursorHeight",1,Zc,!0);I("singleCursorHeightPerLine",!0,Zc,!0);I("workTime",100);I("workDelay",100);I("flattenSpans",!0,xg,!0);I("addModeClass",!1,xg,!0);I("pollInterval",100);I("undoDepth",200,function(X,fa){return X.doc.history.undoDepth=fa});I("historyEventDelay",1250);I("viewportMargin",10,function(X){return X.refresh()},!0);I("maxHighlightLength",1E4,xg,!0);I("moveInputWithCursor",!0,function(X,
fa){fa||X.display.input.resetPosition()});I("tabindex",null,function(X,fa){return X.display.input.getField().tabIndex=fa||""});I("autofocus",null);I("direction","ltr",function(X,fa){return X.doc.setDirection(fa)},!0);I("phrases",null)})(We);(function(h){var I=h.optionHandlers,Y=h.helpers={};h.prototype={constructor:h,focus:function(){window.focus();this.display.input.focus()},setOption:function(X,fa){var La=this.options,Za=La[X];if(La[X]!=fa||"mode"==X)La[X]=fa,I.hasOwnProperty(X)&&Id(this,I[X])(this,
fa,Za),J(this,"optionChange",this,X)},getOption:function(X){return this.options[X]},getDoc:function(){return this.doc},addKeyMap:function(X,fa){this.state.keyMaps[fa?"push":"unshift"](Oh(X))},removeKeyMap:function(X){for(var fa=this.state.keyMaps,La=0;La<fa.length;++La)if(fa[La]==X||fa[La].name==X)return fa.splice(La,1),!0},addOverlay:te(function(X,fa){var La=X.token?X:h.getMode(this.options,X);if(La.startState)throw Error("Overlays may not be stateful.");E(this.state.overlays,{mode:La,modeSpec:X,
opaque:fa&&fa.opaque,priority:fa&&fa.priority||0},function(Za){return Za.priority});this.state.modeGen++;fb(this)}),removeOverlay:te(function(X){for(var fa=this.state.overlays,La=0;La<fa.length;++La){var Za=fa[La].modeSpec;if(Za==X||"string"==typeof X&&Za.name==X){fa.splice(La,1);this.state.modeGen++;fb(this);break}}}),indentLine:te(function(X,fa,La){"string"!=typeof fa&&"number"!=typeof fa&&(fa=null==fa?this.options.smartIndent?"smart":"prev":fa?"add":"subtract");oa(this.doc,X)&&ug(this,X,fa,La)}),
indentSelection:te(function(X){for(var fa=this.doc.sel.ranges,La=-1,Za=0;Za<fa.length;Za++){var eb=fa[Za];if(eb.empty())eb.head.line>La&&(ug(this,eb.head.line,X,!0),La=eb.head.line,Za==this.doc.sel.primIndex&&Jb(this));else{var yb=eb.from();eb=eb.to();var Tb=Math.max(La,yb.line);La=Math.min(this.lastLine(),eb.line-(eb.ch?0:1))+1;for(eb=Tb;eb<La;++eb)ug(this,eb,X);eb=this.doc.sel.ranges;0==yb.ch&&fa.length==eb.length&&0<eb[Za].from().ch&&gh(this.doc,Za,new kg(yb,eb[Za].to()),Gd)}}}),getTokenAt:function(X,
fa){return tb(this,X,fa)},getLineTokens:function(X,fa){return tb(this,ka(X),fa,!0)},getTokenTypeAt:function(X){X=Eb(this.doc,X);var fa=xc(this,ma(this.doc,X.line)),La=0,Za=(fa.length-1)/2;X=X.ch;if(0==X)fa=fa[2];else for(;;){var eb=La+Za>>1;if((eb?fa[2*eb-1]:0)>=X)Za=eb;else if(fa[2*eb+1]<X)La=eb+1;else{fa=fa[2*eb+2];break}}La=fa?fa.indexOf("overlay "):-1;return 0>La?fa:0==La?null:fa.slice(0,La-1)},getModeAt:function(X){var fa=this.doc.mode;return fa.innerMode?h.innerMode(fa,this.getTokenAt(X).state).mode:
fa},getHelper:function(X,fa){return this.getHelpers(X,fa)[0]},getHelpers:function(X,fa){var La=[];if(!Y.hasOwnProperty(fa))return La;var Za=Y[fa];X=this.getModeAt(X);if("string"==typeof X[fa])Za[X[fa]]&&La.push(Za[X[fa]]);else if(X[fa])for(var eb=0;eb<X[fa].length;eb++){var yb=Za[X[fa][eb]];yb&&La.push(yb)}else X.helperType&&Za[X.helperType]?La.push(Za[X.helperType]):Za[X.name]&&La.push(Za[X.name]);for(fa=0;fa<Za._global.length;fa++)eb=Za._global[fa],eb.pred(X,this)&&-1==a(La,eb.val)&&La.push(eb.val);
return La},getStateAfter:function(X,fa){var La=this.doc;X=Math.max(La.first,Math.min(null==X?La.first+La.size-1:X,La.first+La.size-1));return Ic(this,X+1,fa).state},cursorCoords:function(X,fa){var La=this.doc.sel.primary();X=null==X?La.head:"object"==typeof X?Eb(this.doc,X):X?La.from():La.to();return Ff(this,X,fa||"page")},charCoords:function(X,fa){return yf(this,Eb(this.doc,X),fa||"page")},coordsChar:function(X,fa){X=Vf(this,X,fa||"page");return Wb(this,X.left,X.top)},lineAtHeight:function(X,fa){X=
Vf(this,{top:X,left:0},fa||"page").top;return Na(this.doc,X+this.display.viewOffset)},heightAtLine:function(X,fa,La){var Za=!1;if("number"==typeof X){var eb=this.doc.first+this.doc.size-1;X<this.doc.first?X=this.doc.first:X>eb&&(X=eb,Za=!0);X=ma(this.doc,X)}return hf(this,X,{top:0,left:0},fa||"page",La||Za).top+(Za?this.doc.height-dd(X):0)},defaultTextHeight:function(){return cf(this.display)},defaultCharWidth:function(){return qf(this.display)},getViewport:function(){return{from:this.display.viewFrom,
to:this.display.viewTo}},addWidget:function(X,fa,La,Za,eb){var yb=this.display;X=Ff(this,Eb(this.doc,X));var Tb=X.bottom,jc=X.left;fa.style.position="absolute";fa.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(fa);yb.sizer.appendChild(fa);if("over"==Za)Tb=X.top;else if("above"==Za||"near"==Za){var Sc=Math.max(yb.wrapper.clientHeight,this.doc.height),bd=Math.max(yb.sizer.clientWidth,yb.lineSpace.clientWidth);("above"==Za||X.bottom+fa.offsetHeight>Sc)&&X.top>fa.offsetHeight?
Tb=X.top-fa.offsetHeight:X.bottom+fa.offsetHeight<=Sc&&(Tb=X.bottom);jc+fa.offsetWidth>bd&&(jc=bd-fa.offsetWidth)}fa.style.top=Tb+"px";fa.style.left=fa.style.right="";"right"==eb?(jc=yb.sizer.clientWidth-fa.offsetWidth,fa.style.right="0px"):("left"==eb?jc=0:"middle"==eb&&(jc=(yb.sizer.clientWidth-fa.offsetWidth)/2),fa.style.left=jc+"px");La&&(X=Ma(this,{left:jc,top:Tb,right:jc+fa.offsetWidth,bottom:Tb+fa.offsetHeight}),null!=X.scrollTop&&Oc(this,X.scrollTop),null!=X.scrollLeft&&wc(this,X.scrollLeft))},
triggerOnKeyDown:te(Pb),triggerOnKeyPress:te($c),triggerOnKeyUp:Fc,triggerOnMouseDown:te(Sa),execCommand:function(X){if(qj.hasOwnProperty(X))return qj[X].call(null,this)},triggerElectric:te(function(X){$f(this,X)}),findPosH:function(X,fa,La,Za){var eb=1;0>fa&&(eb=-1,fa=-fa);X=Eb(this.doc,X);for(var yb=0;yb<fa&&(X=Dg(this.doc,X,eb,La,Za),!X.hitSide);++yb);return X},moveH:te(function(X,fa){var La=this;this.extendSelectionsBy(function(Za){return La.display.shift||La.doc.extend||Za.empty()?Dg(La.doc,
Za.head,X,fa,La.options.rtlMoveVisually):0>X?Za.from():Za.to()},pd)}),deleteH:te(function(X,fa){var La=this.doc;this.doc.sel.somethingSelected()?La.replaceSelection("",null,"+delete"):Jh(this,function(Za){var eb=Dg(La,Za.head,X,fa,!1);return 0>X?{from:eb,to:Za.head}:{from:Za.head,to:eb}})}),findPosV:function(X,fa,La,Za){var eb=1;0>fa&&(eb=-1,fa=-fa);var yb=Eb(this.doc,X);for(X=0;X<fa&&(yb=Ff(this,yb,"div"),null==Za?Za=yb.left:yb.left=Za,yb=hh(this,yb,eb,La),!yb.hitSide);++X);return yb},moveV:te(function(X,
fa){var La=this,Za=this.doc,eb=[],yb=!this.display.shift&&!Za.extend&&Za.sel.somethingSelected();Za.extendSelectionsBy(function(jc){if(yb)return 0>X?jc.from():jc.to();var Sc=Ff(La,jc.head,"div");null!=jc.goalColumn&&(Sc.left=jc.goalColumn);eb.push(Sc.left);var bd=hh(La,Sc,X,fa);"page"==fa&&jc==Za.sel.primary()&&lb(La,yf(La,bd,"div").top-Sc.top);return bd},pd);if(eb.length)for(var Tb=0;Tb<Za.sel.ranges.length;Tb++)Za.sel.ranges[Tb].goalColumn=eb[Tb]}),findWordAt:function(X){var fa=ma(this.doc,X.line).text,
La=X.ch,Za=X.ch;if(fa){var eb=this.getHelper(X,"wordChars");"before"!=X.sticky&&Za!=fa.length||!La?++Za:--La;var yb=fa.charAt(La);for(yb=G(yb,eb)?function(Tb){return G(Tb,eb)}:/\s/.test(yb)?function(Tb){return/\s/.test(Tb)}:function(Tb){return!/\s/.test(Tb)&&!G(Tb)};0<La&&yb(fa.charAt(La-1));)--La;for(;Za<fa.length&&yb(fa.charAt(Za));)++Za}return new kg(ka(X.line,La),ka(X.line,Za))},toggleOverwrite:function(X){if(null==X||X!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?f(this.display.cursorDiv,
"CodeMirror-overwrite"):bc(this.display.cursorDiv,"CodeMirror-overwrite"),J(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==l()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:te(function(X,fa){Nb(this,X,fa)}),getScrollInfo:function(){var X=this.display.scroller;return{left:X.scrollLeft,top:X.scrollTop,height:X.scrollHeight-Ud(this)-this.display.barHeight,width:X.scrollWidth-Ud(this)-this.display.barWidth,
clientHeight:Ee(this),clientWidth:Yd(this)}},scrollIntoView:te(function(X,fa){null==X?(X={from:this.doc.sel.primary().head,to:null},null==fa&&(fa=this.options.cursorScrollMargin)):"number"==typeof X?X={from:ka(X,0),to:null}:null==X.from&&(X={from:X,to:null});X.to||(X.to=X.from);X.margin=fa||0;null!=X.from.line?(Lb(this),this.curOp.scrollToPos=X):pc(this,X.from,X.to,X.margin)}),setSize:te(function(X,fa){var La=this,Za=function(yb){return"number"==typeof yb||/^\d+$/.test(String(yb))?yb+"px":yb};null!=
X&&(this.display.wrapper.style.width=Za(X));null!=fa&&(this.display.wrapper.style.height=Za(fa));this.options.lineWrapping&&sc(this);var eb=this.display.viewFrom;this.doc.iter(eb,this.display.viewTo,function(yb){if(yb.widgets)for(var Tb=0;Tb<yb.widgets.length;Tb++)if(yb.widgets[Tb].noHScroll){xb(La,eb,"widget");break}++eb});this.curOp.forceUpdate=!0;J(this,"refresh",this)}),operation:function(X){return xd(this,X)},startOperation:function(){return je(this)},endOperation:function(){return ve(this)},
refresh:te(function(){var X=this.display.cachedTextHeight;fb(this);this.curOp.forceUpdate=!0;cd(this);Nb(this,this.doc.scrollLeft,this.doc.scrollTop);Xg(this.display);(null==X||.5<Math.abs(X-cf(this.display))||this.options.lineWrapping)&&ic(this);J(this,"refresh",this)}),swapDoc:te(function(X){var fa=this.doc;fa.cm=null;this.state.selectingText&&this.state.selectingText();nc(this,X);cd(this);this.display.input.reset();Nb(this,X.scrollLeft,X.scrollTop);this.curOp.forceScroll=!0;me(this,"swapDoc",this,
fa);return fa}),phrase:function(X){var fa=this.options.phrases;return fa&&Object.prototype.hasOwnProperty.call(fa,X)?fa[X]:X},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};U(h);h.registerHelper=function(X,fa,La){Y.hasOwnProperty(X)||(Y[X]=h[X]={_global:[]});Y[X][fa]=La};h.registerGlobalHelper=function(X,fa,
La,Za){h.registerHelper(X,fa,Za);Y[X]._global.push({pred:La,val:Za})}})(We);var Fk="iter insert remove copy getEditor constructor".split(" "),ej;for(ej in Fh.prototype)Fh.prototype.hasOwnProperty(ej)&&0>a(Fk,ej)&&(We.prototype[ej]=function(h){return function(){return h.apply(this.doc,arguments)}}(Fh.prototype[ej]));U(Fh);We.inputStyles={textarea:nh,contenteditable:Ig};We.defineMode=function(h){We.defaults.mode||"null"==h||(We.defaults.mode=h);hb.apply(this,arguments)};We.defineMIME=function(h,I){Re[h]=
I};We.defineMode("null",function(){return{token:function(h){return h.skipToEnd()}}});We.defineMIME("text/plain","null");We.defineExtension=function(h,I){We.prototype[h]=I};We.defineDocExtension=function(h,I){Fh.prototype[h]=I};We.fromTextArea=function(h,I){function Y(){h.value=eb.getValue()}I=I?b(I):{};I.value=h.value;!I.tabindex&&h.tabIndex&&(I.tabindex=h.tabIndex);!I.placeholder&&h.placeholder&&(I.placeholder=h.placeholder);if(null==I.autofocus){var X=l();I.autofocus=X==h||null!=h.getAttribute("autofocus")&&
X==document.body}if(h.form&&(Le(h.form,"submit",Y),!I.leaveSubmitMethodAlone)){var fa=h.form;var La=fa.submit;try{var Za=fa.submit=function(){Y();fa.submit=La;fa.submit();fa.submit=Za}}catch(yb){}}I.finishInit=function(yb){yb.save=Y;yb.getTextArea=function(){return h};yb.toTextArea=function(){yb.toTextArea=isNaN;Y();h.parentNode.removeChild(yb.getWrapperElement());h.style.display="";h.form&&(R(h.form,"submit",Y),I.leaveSubmitMethodAlone||"function"!=typeof h.form.submit||(h.form.submit=La))}};h.style.display=
"none";var eb=We(function(yb){return h.parentNode.insertBefore(yb,h.nextSibling)},I);return eb};(function(h){h.off=R;h.on=Le;h.wheelEventPixels=fg;h.Doc=Fh;h.splitLines=of;h.countColumn=c;h.findColumn=e;h.isWordChar=D;h.Pass=id;h.signal=J;h.Line=Pi;h.changeEnd=Mf;h.scrollbarModel=ok;h.Pos=ka;h.cmpPos=Ia;h.modes=qe;h.mimeModes=Re;h.resolveMode=Ja;h.getMode=qa;h.modeExtensions=re;h.extendMode=Da;h.copyState=va;h.startState=xa;h.innerMode=sa;h.commands=qj;h.keyMap=Oi;h.keyName=qg;h.isModifierKey=Nf;
h.lookupKey=lf;h.normalizeKeyMap=pg;h.StringStream=xf;h.SharedTextMarker=Yi;h.TextMarker=ki;h.LineWidget=ti;h.e_preventDefault=ja;h.e_stopPropagation=ba;h.e_stop=za;h.addClass=f;h.contains=m;h.rmClass=bc;h.keyNames=ni})(We);We.version="5.65.3";return We})};
shadow$provide[52]=function(ra,z,cb,B){(function(v){"object"===typeof B&&"object"===typeof cb?v(z(51)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],v):v(CodeMirror)})(function(v){v.defineMode("clojure",function(k){function p(F,w){if(F.eatSpace()||F.eat(","))return["space",null];if(F.match(y))return[null,"number"];if(F.match(q))return[null,"string-2"];if(F.eat(/^"/))return(w.tokenize=A)(F,w);if(F.eat(/^[(\[{]/))return["open","bracket"];if(F.eat(/^[)\]}]/))return["close","bracket"];
if(F.eat(/^;/))return F.skipToEnd(),["space","comment"];if(F.eat(/^[#'@^`~]/))return[null,"meta"];var D=F.match(E);D=D&&D[0];return D?"comment"===D&&"("===w.lastToken?(w.tokenize=u)(F,w):l(D,b)||":"===D.charAt(0)?["symbol","atom"]:l(D,c)||l(D,a)?["symbol","keyword"]:"("===w.lastToken?["symbol","builtin"]:["symbol","variable"]:(F.next(),F.eatWhile(function(G){return!l(G,t)}),[null,"error"])}function A(F,w){for(var D=!1,G;G=F.next();){if('"'===G&&!D){w.tokenize=p;break}D=!D&&"\\"===G}return[null,"string"]}
function u(F,w){for(var D=1,G;G=F.next();)if(")"===G&&D--,"("===G&&D++,0===D){F.backUp(1);w.tokenize=p;break}return["space","comment"]}function m(F){for(var w={},D=0;D<F.length;++D)w[F[D]]=!0;return w}function l(F,w){if(w instanceof RegExp)return w.test(F);if(w instanceof Object)return w.propertyIsEnumerable(F)}var f=["false","nil","true"],g=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),d="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
v.registerHelper("hintWords","clojure",[].concat(f,g,d));var b=m(f),c=m(g),a=m(d),e=m("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
t=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,y=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,q=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,E=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:p}},token:function(F,w){F.sol()&&"number"!==typeof w.ctx.indentTo&&(w.ctx.indentTo=w.ctx.start+1);var D=w.tokenize(F,w),G=D[0];D=D[1];var L=F.current();"space"!==G&&("("===w.lastToken&&null===w.ctx.indentTo?"symbol"===G&&l(L,e)?w.ctx.indentTo=w.ctx.start+k.indentUnit:w.ctx.indentTo="next":"next"===w.ctx.indentTo&&(w.ctx.indentTo=F.column()),w.lastToken=L);"open"===G?w.ctx={prev:w.ctx,start:F.column(),indentTo:null}:
"close"===G&&(w.ctx=w.ctx.prev||w.ctx);return D},indent:function(F){var w=F.ctx.indentTo;return"number"===typeof w?w:F.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});v.defineMIME("text/x-clojure","clojure");v.defineMIME("text/x-clojurescript","clojure");v.defineMIME("application/edn","clojure")})};
shadow$provide[53]=function(ra,z,cb,B){(function(v){"object"==typeof B&&"object"==typeof cb?v(z(51)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],v):v(CodeMirror)})(function(v){var k={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,
dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,
caseFold:!0},p={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};v.defineMode("xml",function(A,u){function m(T,R){function J(C){R.tokenize=C;return C(T,R)}var r=T.next();if("\x3c"==r){if(T.eat("!"))return T.eat("[")?T.match("CDATA[")?J(g("atom","]]\x3e")):null:T.match("--")?J(g("comment","--\x3e")):T.match("DOCTYPE",!0,!0)?(T.eatWhile(/[\w\._\-]/),J(d(1))):null;if(T.eat("?"))return T.eatWhile(/[\w\._\-]/),
R.tokenize=g("meta","?\x3e"),"meta";ca=T.eat("/")?"closeTag":"openTag";R.tokenize=l;return"tag bracket"}if("\x26"==r)return(T.eat("#")?T.eat("x")?T.eatWhile(/[a-fA-F\d]/)&&T.eat(";"):T.eatWhile(/[\d]/)&&T.eat(";"):T.eatWhile(/[\w\.\-:]/)&&T.eat(";"))?"atom":"error";T.eatWhile(/[^&<]/);return null}function l(T,R){var J=T.next();if("\x3e"==J||"/"==J&&T.eat("\x3e"))return R.tokenize=m,ca="\x3e"==J?"endTag":"selfcloseTag","tag bracket";if("\x3d"==J)return ca="equals",null;if("\x3c"==J)return R.tokenize=
m,R.state=t,R.tagName=R.tagStart=null,(T=R.tokenize(T,R))?T+" tag error":"tag error";if(/['"]/.test(J))return R.tokenize=f(J),R.stringStartCol=T.column(),R.tokenize(T,R);T.match(/^[^\s\u00a0=<>"']*[^\s\u00a0=<>"'\/]/);return"word"}function f(T){var R=function(J,r){for(;!J.eol();)if(J.next()==T){r.tokenize=l;break}return"string"};R.isInAttribute=!0;return R}function g(T,R){return function(J,r){for(;!J.eol();){if(J.match(R)){r.tokenize=m;break}J.next()}return T}}function d(T){return function(R,J){for(var r;null!=
(r=R.next());){if("\x3c"==r)return J.tokenize=d(T+1),J.tokenize(R,J);if("\x3e"==r)if(1==T){J.tokenize=m;break}else return J.tokenize=d(T-1),J.tokenize(R,J)}return"meta"}}function b(T){return T&&T.toLowerCase()}function c(T,R,J){this.prev=T.context;this.tagName=R||"";this.indent=T.indented;this.startOfLine=J;if(V.doNotIndent.hasOwnProperty(R)||T.context&&T.context.noIndent)this.noIndent=!0}function a(T){T.context&&(T.context=T.context.prev)}function e(T,R){for(var J;T.context;){J=T.context.tagName;
if(!V.contextGrabbers.hasOwnProperty(b(J))||!V.contextGrabbers[b(J)].hasOwnProperty(b(R)))break;a(T)}}function t(T,R,J){return"openTag"==T?(J.tagStart=R.column(),y):"closeTag"==T?q:t}function y(T,R,J){if("word"==T)return J.tagName=R.current(),ea="tag",w;if(V.allowMissingTagName&&"endTag"==T)return ea="tag bracket",w(T,R,J);ea="error";return y}function q(T,R,J){if("word"==T){T=R.current();J.context&&J.context.tagName!=T&&V.implicitlyClosed.hasOwnProperty(b(J.context.tagName))&&a(J);if(J.context&&J.context.tagName==
T||!1===V.matchClosing)return ea="tag",E;ea="tag error";return F}if(V.allowMissingTagName&&"endTag"==T)return ea="tag bracket",E(T,R,J);ea="error";return F}function E(T,R,J){if("endTag"!=T)return ea="error",E;a(J);return t}function F(T,R,J){ea="error";return E(T,R,J)}function w(T,R,J){if("word"==T)return ea="attribute",D;if("endTag"==T||"selfcloseTag"==T){R=J.tagName;var r=J.tagStart;J.tagName=J.tagStart=null;"selfcloseTag"==T||V.autoSelfClosers.hasOwnProperty(b(R))?e(J,R):(e(J,R),J.context=new c(J,
R,r==J.indented));return t}ea="error";return w}function D(T,R,J){if("equals"==T)return G;V.allowMissing||(ea="error");return w(T,R,J)}function G(T,R,J){if("string"==T)return L;if("word"==T&&V.allowUnquoted)return ea="string",w;ea="error";return w(T,R,J)}function L(T,R,J){return"string"==T?L:w(T,R,J)}var O=A.indentUnit,V={};A=u.htmlMode?k:p;for(var S in A)V[S]=A[S];for(S in u)V[S]=u[S];var ca,ea;m.isInText=!0;return{startState:function(T){var R={tokenize:m,state:t,indented:T||0,tagName:null,tagStart:null,
context:null};null!=T&&(R.baseIndent=T);return R},token:function(T,R){!R.tagName&&T.sol()&&(R.indented=T.indentation());if(T.eatSpace())return null;ca=null;var J=R.tokenize(T,R);(J||ca)&&"comment"!=J&&(ea=null,R.state=R.state(ca||J,T,R),ea&&(J="error"==ea?J+" error":ea));return J},indent:function(T,R,J){var r=T.context;if(T.tokenize.isInAttribute)return T.tagStart==T.indented?T.stringStartCol+1:T.indented+O;if(r&&r.noIndent)return v.Pass;if(T.tokenize!=l&&T.tokenize!=m)return J?J.match(/^(\s*)/)[0].length:
0;if(T.tagName)return!1!==V.multilineTagIndentPastTag?T.tagStart+T.tagName.length+2:T.tagStart+O*(V.multilineTagIndentFactor||1);if(V.alignCDATA&&/<!\[CDATA\[/.test(R))return 0;if((R=R&&/^<(\/)?([\w_:\.-]*)/.exec(R))&&R[1])for(;r;)if(r.tagName==R[2]){r=r.prev;break}else if(V.implicitlyClosed.hasOwnProperty(b(r.tagName)))r=r.prev;else break;else if(R)for(;r;)if((J=V.contextGrabbers[b(r.tagName)])&&J.hasOwnProperty(b(R[2])))r=r.prev;else break;for(;r&&r.prev&&!r.startOfLine;)r=r.prev;return r?r.indent+
O:T.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:V.htmlMode?"html":"xml",helperType:V.htmlMode?"html":"xml",skipAttribute:function(T){T.state==G&&(T.state=w)},xmlCurrentTag:function(T){return T.tagName?{name:T.tagName,close:"closeTag"==T.type}:null},xmlCurrentContext:function(T){var R=[];for(T=T.context;T;T=T.prev)R.push(T.tagName);return R.reverse()}}});v.defineMIME("text/xml","xml");v.defineMIME("application/xml","xml");v.mimeModes.hasOwnProperty("text/html")||
v.defineMIME("text/html",{name:"xml",htmlMode:!0})})};
shadow$provide[54]=function(ra,z,cb,B){(function(v){"object"==typeof B&&"object"==typeof cb?v(z(51)):"function"==typeof define&&define.amd?define(["../lib/codemirror"],v):v(CodeMirror)})(function(v){v.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},
{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:"cpp c++ cc cxx hpp h++ hh hxx".split(" "),alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",
mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",
mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",
ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",
ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},
{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",
ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",
ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript",
"text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",
mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",
mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",
mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",
mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:"php php3 php4 php5 php7 phtml".split(" ")},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:"txt text conf def list log".split(" ")},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",
ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",
ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",
mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",
mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},
{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},
{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:"123456789".split("")},
{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",
mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},
{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",
mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var k=0;k<v.modeInfo.length;k++){var p=v.modeInfo[k];p.mimes&&(p.mime=p.mimes[0])}v.findModeByMIME=function(A){A=A.toLowerCase();for(var u=0;u<v.modeInfo.length;u++){var m=v.modeInfo[u];if(m.mime==A)return m;if(m.mimes)for(var l=0;l<m.mimes.length;l++)if(m.mimes[l]==A)return m}if(/\+xml$/.test(A))return v.findModeByMIME("application/xml");if(/\+json$/.test(A))return v.findModeByMIME("application/json")};v.findModeByExtension=function(A){A=
A.toLowerCase();for(var u=0;u<v.modeInfo.length;u++){var m=v.modeInfo[u];if(m.ext)for(var l=0;l<m.ext.length;l++)if(m.ext[l]==A)return m}};v.findModeByFileName=function(A){for(var u=0;u<v.modeInfo.length;u++){var m=v.modeInfo[u];if(m.file&&m.file.test(A))return m}u=A.lastIndexOf(".");if(A=-1<u&&A.substring(u+1,A.length))return v.findModeByExtension(A)};v.findModeByName=function(A){A=A.toLowerCase();for(var u=0;u<v.modeInfo.length;u++){var m=v.modeInfo[u];if(m.name.toLowerCase()==A)return m;if(m.alias)for(var l=
0;l<m.alias.length;l++)if(m.alias[l].toLowerCase()==A)return m}}})};
shadow$provide[55]=function(ra,z,cb,B){(function(v){"object"==typeof B&&"object"==typeof cb?v(z(51),z(53),z(54)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],v):v(CodeMirror)})(function(v){v.defineMode("markdown",function(k,p){function A(C,N,U){N.f=N.inline=U;return U(C,N)}function u(C){C.linkTitle=!1;C.linkHref=!1;C.linkText=!1;C.em=!1;C.strong=!1;C.strikethrough=!1;C.quote=0;C.indentedCode=!1;if(C.f==l){var N=F;N||(N=v.innerMode(E,C.htmlState),N="xml"==
N.mode.name&&null===N.state.tagStart&&!N.state.context&&N.state.tokenize.isInText);N&&(C.f=b,C.block=m,C.htmlState=null)}C.trailingSpace=0;C.trailingSpaceNewLine=!1;C.prevLine=C.thisLine;C.thisLine={stream:null};return null}function m(C,N){var U=C.column()===N.indentation,ja=N.prevLine.stream;var ba=!ja||!/\S/.test(ja.string);var ia=N.indentedCode,za=N.prevLine.hr,Wa=!1!==N.list,hb=(N.listStack[N.listStack.length-1]||0)+3;N.indentedCode=!1;ja=N.indentation;if(null===N.indentationDiff&&(N.indentationDiff=
N.indentation,Wa)){for(N.list=null;ja<N.listStack[N.listStack.length-1];)N.listStack.pop(),N.listStack.length?N.indentation=N.listStack[N.listStack.length-1]:N.list=!1;!1!==N.list&&(N.indentationDiff=ja-N.listStack[N.listStack.length-1])}var Ja=!ba&&!za&&!N.prevLine.header&&(!Wa||!ia)&&!N.prevLine.fencedCodeEnd,qa=(!1===N.list||za||ba)&&N.indentation<=hb&&C.match(G);za=null;if(4<=N.indentationDiff&&(ia||N.prevLine.fencedCodeEnd||N.prevLine.header||ba))return C.skipToEnd(),N.indentedCode=!0,w.code;
if(C.eatSpace())return null;if(U&&N.indentation<=hb&&(za=C.match(V))&&6>=za[1].length)return N.quote=0,N.header=za[1].length,N.thisLine.header=!0,p.highlightFormatting&&(N.formatting="header"),N.f=N.inline,g(N);if(N.indentation<=hb&&C.eat("\x3e"))return N.quote=U?1:N.quote+1,p.highlightFormatting&&(N.formatting="quote"),C.eatSpace(),g(N);if(!qa&&!N.setext&&U&&N.indentation<=hb&&(za=C.match(L)))return U=za[1]?"ol":"ul",N.indentation=ja+C.current().length,N.list=!0,N.quote=0,N.listStack.push(N.indentation),
N.em=!1,N.strong=!1,N.code=!1,N.strikethrough=!1,p.taskLists&&C.match(O,!1)&&(N.taskList=!0),N.f=N.inline,p.highlightFormatting&&(N.formatting=["list","list-"+U]),g(N);if(U&&N.indentation<=hb&&(za=C.match(ea,!0))){N.quote=0;N.fencedEndRE=new RegExp(za[1]+"+ *$");if(C=p.fencedCodeBlockHighlighting)C=za[2]||p.fencedCodeBlockDefaultMode,v.findModeByName&&(U=v.findModeByName(C))&&(C=U.mime||U.mimes[0]),C=v.getMode(k,C),C="null"==C.name?null:C;N.localMode=C;N.localMode&&(N.localState=v.startState(N.localMode));
N.f=N.block=f;p.highlightFormatting&&(N.formatting="code-block");N.code=-1;return g(N)}return N.setext||!(Ja&&Wa||N.quote||!1!==N.list||N.code||qa||T.test(C.string))&&(za=C.lookAhead(1))&&(za=za.match(S))?(N.setext?(N.header=N.setext,N.setext=0,C.skipToEnd(),p.highlightFormatting&&(N.formatting="header")):(N.header="\x3d"==za[0].charAt(0)?1:2,N.setext=N.header),N.thisLine.header=!0,N.f=N.inline,g(N)):qa?(C.skipToEnd(),N.hr=!0,N.thisLine.hr=!0,w.hr):"["===C.peek()?A(C,N,t):A(C,N,N.inline)}function l(C,
N){var U=E.token(C,N.htmlState);if(!F){var ja=v.innerMode(E,N.htmlState);if("xml"==ja.mode.name&&null===ja.state.tagStart&&!ja.state.context&&ja.state.tokenize.isInText||N.md_inside&&-1<C.current().indexOf("\x3e"))N.f=b,N.block=m,N.htmlState=null}return U}function f(C,N){var U=N.listStack[N.listStack.length-1]||0,ja=N.indentation<U;if(N.fencedEndRE&&N.indentation<=U+3&&(ja||C.match(N.fencedEndRE))){p.highlightFormatting&&(N.formatting="code-block");var ba;ja||(ba=g(N));N.localMode=N.localState=null;
N.block=m;N.f=b;N.fencedEndRE=null;N.code=0;N.thisLine.fencedCodeEnd=!0;return ja?(U=N.block,N.f=N.block=U,U(C,N)):ba}if(N.localMode)return N.localMode.token(C,N.localState);C.skipToEnd();return w.code}function g(C){var N=[];if(C.formatting){N.push(w.formatting);"string"===typeof C.formatting&&(C.formatting=[C.formatting]);for(var U=0;U<C.formatting.length;U++)N.push(w.formatting+"-"+C.formatting[U]),"header"===C.formatting[U]&&N.push(w.formatting+"-"+C.formatting[U]+"-"+C.header),"quote"===C.formatting[U]&&
(!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=C.quote?N.push(w.formatting+"-"+C.formatting[U]+"-"+C.quote):N.push("error"))}if(C.taskOpen)return N.push("meta"),N.length?N.join(" "):null;if(C.taskClosed)return N.push("property"),N.length?N.join(" "):null;C.linkHref?N.push(w.linkHref,"url"):(C.strong&&N.push(w.strong),C.em&&N.push(w.em),C.strikethrough&&N.push(w.strikethrough),C.emoji&&N.push(w.emoji),C.linkText&&N.push(w.linkText),C.code&&N.push(w.code),C.image&&N.push(w.image),C.imageAltText&&N.push(w.imageAltText,
"link"),C.imageMarker&&N.push(w.imageMarker));C.header&&N.push(w.header,w.header+"-"+C.header);C.quote&&(N.push(w.quote),!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=C.quote?N.push(w.quote+"-"+C.quote):N.push(w.quote+"-"+p.maxBlockquoteDepth));!1!==C.list&&((U=(C.listStack.length-1)%3)?1===U?N.push(w.list2):N.push(w.list3):N.push(w.list1));C.trailingSpaceNewLine?N.push("trailing-space-new-line"):C.trailingSpace&&N.push("trailing-space-"+(C.trailingSpace%2?"a":"b"));return N.length?N.join(" "):null}
function d(C,N){if(C.match(ca,!0))return g(N)}function b(C,N){var U=N.text(C,N);if("undefined"!==typeof U)return U;if(N.list)return N.list=null,g(N);if(N.taskList)return" "===C.match(O,!0)[1]?N.taskOpen=!0:N.taskClosed=!0,p.highlightFormatting&&(N.formatting="task"),N.taskList=!1,g(N);N.taskOpen=!1;N.taskClosed=!1;if(N.header&&C.match(/^#+$/,!0))return p.highlightFormatting&&(N.formatting="header"),g(N);U=C.next();if(N.linkTitle){N.linkTitle=!1;var ja=U;"("===U&&(ja=")");ja=(ja+"").replace(/([.?*+^\[\]\\(){}|-])/g,
"\\$1");if(C.match(new RegExp("^\\s*(?:[^"+ja+"\\\\]+|\\\\\\\\|\\\\.)"+ja),!0))return w.linkHref}if("`"===U){U=N.formatting;p.highlightFormatting&&(N.formatting="code");C.eatWhile("`");C=C.current().length;if(0!=N.code||N.quote&&1!=C){if(C==N.code)return C=g(N),N.code=0,C;N.formatting=U;return g(N)}N.code=C;return g(N)}if(N.code)return g(N);if("\\"===U&&(C.next(),p.highlightFormatting))return U=g(N),N=w.formatting+"-escape",U?U+" "+N:N;if("!"===U&&C.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return N.imageMarker=
!0,N.image=!0,p.highlightFormatting&&(N.formatting="image"),g(N);if("["===U&&N.imageMarker&&C.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return N.imageMarker=!1,N.imageAltText=!0,p.highlightFormatting&&(N.formatting="image"),g(N);if("]"===U&&N.imageAltText)return p.highlightFormatting&&(N.formatting="image"),U=g(N),N.imageAltText=!1,N.image=!1,N.inline=N.f=a,U;if("["===U&&!N.image){if(N.linkText&&C.match(/^.*?\]/))return g(N);N.linkText=!0;p.highlightFormatting&&(N.formatting="link");return g(N)}if("]"===
U&&N.linkText)return p.highlightFormatting&&(N.formatting="link"),U=g(N),N.linkText=!1,N.inline=N.f=C.match(/\(.*?\)| ?\[.*?\]/,!1)?a:b,U;if("\x3c"===U&&C.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=c,p.highlightFormatting&&(N.formatting="link"),U=g(N),(U?U+" ":"")+w.linkInline;if("\x3c"===U&&C.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=c,p.highlightFormatting&&(N.formatting="link"),U=g(N),(U?U+" ":"")+w.linkEmail;if(p.xml&&"\x3c"===U&&C.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,
!1))return U=C.string.indexOf("\x3e",C.pos),-1!=U&&(U=C.string.substring(C.start,U),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(U)&&(N.md_inside=!0)),C.backUp(1),N.htmlState=v.startState(E),U=l,N.f=N.block=U,U(C,N);if(p.xml&&"\x3c"===U&&C.match(/^\/\w*?>/))return N.md_inside=!1,"tag";if("*"===U||"_"===U){for(var ba=1,ia=1==C.pos?" ":C.string.charAt(C.pos-2);3>ba&&C.eat(U);)ba++;var za=C.peek()||" ",Wa=!/\s/.test(za)&&(!R.test(za)||/\s/.test(ia)||R.test(ia)),hb=!/\s/.test(ia)&&(!R.test(ia)||/\s/.test(za)||
R.test(za)),Ja=ja=null;ba%2&&(N.em||!Wa||"*"!==U&&hb&&!R.test(ia)?N.em!=U||!hb||"*"!==U&&Wa&&!R.test(za)||(ja=!1):ja=!0);1<ba&&(N.strong||!Wa||"*"!==U&&hb&&!R.test(ia)?N.strong!=U||!hb||"*"!==U&&Wa&&!R.test(za)||(Ja=!1):Ja=!0);if(null!=Ja||null!=ja)return p.highlightFormatting&&(N.formatting=null==ja?"strong":null==Ja?"em":"strong em"),!0===ja&&(N.em=U),!0===Ja&&(N.strong=U),C=g(N),!1===ja&&(N.em=!1),!1===Ja&&(N.strong=!1),C}else if(" "===U&&(C.eat("*")||C.eat("_"))){if(" "===C.peek())return g(N);
C.backUp(1)}if(p.strikethrough)if("~"===U&&C.eatWhile(U)){if(N.strikethrough)return p.highlightFormatting&&(N.formatting="strikethrough"),C=g(N),N.strikethrough=!1,C;if(C.match(/^[^\s]/,!1))return N.strikethrough=!0,p.highlightFormatting&&(N.formatting="strikethrough"),g(N)}else if(" "===U&&C.match("~~",!0)){if(" "===C.peek())return g(N);C.backUp(2)}if(p.emoji&&":"===U&&C.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/))return N.emoji=!0,p.highlightFormatting&&(N.formatting="emoji"),C=g(N),
N.emoji=!1,C;" "===U&&(C.match(/^ +$/,!1)?N.trailingSpace++:N.trailingSpace&&(N.trailingSpaceNewLine=!0));return g(N)}function c(C,N){if("\x3e"===C.next())return N.f=N.inline=b,p.highlightFormatting&&(N.formatting="link"),C=g(N),(C?C+" ":"")+w.linkInline;C.match(/^[^>]+/,!0);return w.linkInline}function a(C,N){if(C.eatSpace())return null;C=C.next();return"("===C||"["===C?(N.f=N.inline=e("("===C?")":"]"),p.highlightFormatting&&(N.formatting="link-string"),N.linkHref=!0,g(N)):"error"}function e(C){return function(N,
U){if(N.next()===C)return U.f=U.inline=b,p.highlightFormatting&&(U.formatting="link-string"),N=g(U),U.linkHref=!1,N;N.match(J[C]);U.linkHref=!0;return g(U)}}function t(C,N){return C.match(/^([^\]\\]|\\.)*\]:/,!1)?(N.f=y,C.next(),p.highlightFormatting&&(N.formatting="link"),N.linkText=!0,g(N)):A(C,N,b)}function y(C,N){if(C.match("]:",!0))return N.f=N.inline=q,p.highlightFormatting&&(N.formatting="link"),C=g(N),N.linkText=!1,C;C.match(/^([^\]\\]|\\.)+/,!0);return w.linkText}function q(C,N){if(C.eatSpace())return null;
C.match(/^[^\s]+/,!0);void 0===C.peek()?N.linkTitle=!0:C.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0);N.f=N.inline=b;return w.linkHref+" url"}var E=v.getMode(k,"text/html"),F="null"==E.name;void 0===p.highlightFormatting&&(p.highlightFormatting=!1);void 0===p.maxBlockquoteDepth&&(p.maxBlockquoteDepth=0);void 0===p.taskLists&&(p.taskLists=!1);void 0===p.strikethrough&&(p.strikethrough=!1);void 0===p.emoji&&(p.emoji=!1);void 0===p.fencedCodeBlockHighlighting&&(p.fencedCodeBlockHighlighting=
!0);void 0===p.fencedCodeBlockDefaultMode&&(p.fencedCodeBlockDefaultMode="text/plain");void 0===p.xml&&(p.xml=!0);void 0===p.tokenTypeOverrides&&(p.tokenTypeOverrides={});var w={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",
emoji:"builtin"},D;for(D in w)w.hasOwnProperty(D)&&p.tokenTypeOverrides[D]&&(w[D]=p.tokenTypeOverrides[D]);var G=/^([*\-_])(?:\s*\1){2,}\s*$/,L=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,O=/^\[(x| )\](?=\s)/i,V=p.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,S=/^ {0,3}(?:={1,}|-{2,})\s*$/,ca=/^[^#!\[\]*_\\<>` "'(~:]+/,ea=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,T=/^\s*\[[^\]]+?\]:.*$/,R=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,
J={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},r={startState:function(){return{f:m,prevLine:{stream:null},thisLine:{stream:null},block:m,htmlState:null,indentation:0,inline:b,text:d,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(C){return{f:C.f,
prevLine:C.prevLine,thisLine:C.thisLine,block:C.block,htmlState:C.htmlState&&v.copyState(E,C.htmlState),indentation:C.indentation,localMode:C.localMode,localState:C.localMode?v.copyState(C.localMode,C.localState):null,inline:C.inline,text:C.text,formatting:!1,linkText:C.linkText,linkTitle:C.linkTitle,linkHref:C.linkHref,code:C.code,em:C.em,strong:C.strong,strikethrough:C.strikethrough,emoji:C.emoji,header:C.header,setext:C.setext,hr:C.hr,taskList:C.taskList,list:C.list,listStack:C.listStack.slice(0),
quote:C.quote,indentedCode:C.indentedCode,trailingSpace:C.trailingSpace,trailingSpaceNewLine:C.trailingSpaceNewLine,md_inside:C.md_inside,fencedEndRE:C.fencedEndRE}},token:function(C,N){N.formatting=!1;if(C!=N.thisLine.stream){N.header=0;N.hr=!1;if(C.match(/^\s*$/,!0))return u(N),null;N.prevLine=N.thisLine;N.thisLine={stream:C};N.taskList=!1;N.trailingSpace=0;N.trailingSpaceNewLine=!1;if(!N.localState&&(N.f=N.block,N.f!=l)){var U=C.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;N.indentation=U;
N.indentationDiff=null;if(0<U)return null}}return N.f(C,N)},innerMode:function(C){return C.block==l?{state:C.htmlState,mode:E}:C.localState?{state:C.localState,mode:C.localMode}:{state:C,mode:r}},indent:function(C,N,U){return C.block==l&&E.indent?E.indent(C.htmlState,N,U):C.localState&&C.localMode.indent?C.localMode.indent(C.localState,N,U):v.Pass},blankLine:u,getType:g,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return r},"xml");v.defineMIME("text/markdown",
"markdown");v.defineMIME("text/x-markdown","markdown")})};
shadow$provide[56]=function(ra,z,cb,B){(function(v){"object"==typeof B&&"object"==typeof cb?v(z(51)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],v):v(CodeMirror)})(function(v){v.overlayMode=function(k,p,A){return{startState:function(){return{base:v.startState(k),overlay:v.startState(p),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(u){return{base:v.copyState(k,u.base),overlay:v.copyState(p,u.overlay),basePos:u.basePos,baseCur:null,
overlayPos:u.overlayPos,overlayCur:null}},token:function(u,m){if(u!=m.streamSeen||Math.min(m.basePos,m.overlayPos)<u.start)m.streamSeen=u,m.basePos=m.overlayPos=u.start;u.start==m.basePos&&(m.baseCur=k.token(u,m.base),m.basePos=u.pos);u.start==m.overlayPos&&(u.pos=u.start,m.overlayCur=p.token(u,m.overlay),m.overlayPos=u.pos);u.pos=Math.min(m.basePos,m.overlayPos);return null==m.overlayCur?m.baseCur:null!=m.baseCur&&m.overlay.combineTokens||A&&null==m.overlay.combineTokens?m.baseCur+" "+m.overlayCur:
m.overlayCur},indent:k.indent&&function(u,m,l){return k.indent(u.base,m,l)},electricChars:k.electricChars,innerMode:function(u){return{state:u.base,mode:k}},blankLine:function(u){var m,l;k.blankLine&&(m=k.blankLine(u.base));p.blankLine&&(l=p.blankLine(u.overlay));return null==l?m:A&&null!=m?m+" "+l:l}}}})};
shadow$provide[57]=function(ra,z,cb,B){(function(v){"object"==typeof B&&"object"==typeof cb?v(z(51),z(55),z(56)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],v):v(CodeMirror)})(function(v){var k=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;
v.defineMode("gfm",function(p,A){var u=0,m={taskLists:!0,strikethrough:!0,emoji:!0},l;for(l in A)m[l]=A[l];m.name="markdown";return v.overlayMode(v.getMode(p,m),{startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(f){return{code:f.code,codeBlock:f.codeBlock,ateSpace:f.ateSpace}},token:function(f,g){g.combineTokens=null;if(g.codeBlock){if(f.match(/^```+/))return g.codeBlock=!1,null;f.skipToEnd();return null}f.sol()&&(g.code=!1);if(f.sol()&&f.match(/^```+/))return f.skipToEnd(),
g.codeBlock=!0,null;if("`"===f.peek()){f.next();var d=f.pos;f.eatWhile("`");f=1+f.pos-d;g.code?f===u&&(g.code=!1):(u=f,g.code=!0);return null}if(g.code)return f.next(),null;if(f.eatSpace())return g.ateSpace=!0,null;if(f.sol()||g.ateSpace)if(g.ateSpace=!1,!1!==A.gitHubSpice&&(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)))return g.combineTokens=!0,"link";if(f.match(k)&&"]("!=f.string.slice(f.start-
2,f.start)&&(0==f.start||/\W/.test(f.string.charAt(f.start-1))))return g.combineTokens=!0,"link";f.next();return null},blankLine:function(f){f.code=!1;return null}})},"markdown");v.defineMIME("text/x-gfm","gfm")})};
shadow$provide[58]=function(ra,z,cb,B){function v(){cb.exports=v=Object.assign||function(k){for(var p=1;p<arguments.length;p++){var A=arguments[p],u;for(u in A)Object.prototype.hasOwnProperty.call(A,u)&&(k[u]=A[u])}return k};cb.exports["default"]=cb.exports;cb.exports.__esModule=!0;return v.apply(this,arguments)}cb.exports=v;cb.exports["default"]=cb.exports;cb.exports.__esModule=!0};
shadow$provide[59]=function(ra,z,cb,B){cb.exports=function(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v};cb.exports["default"]=cb.exports;cb.exports.__esModule=!0};
shadow$provide[60]=function(ra,z,cb,B){function v(k,p){cb.exports=v=Object.setPrototypeOf||function(A,u){A.__proto__=u;return A};cb.exports["default"]=cb.exports;cb.exports.__esModule=!0;return v(k,p)}cb.exports=v;cb.exports["default"]=cb.exports;cb.exports.__esModule=!0};
shadow$provide[61]=function(ra,z,cb,B){var v=z(60);cb.exports=function(k,p){k.prototype=Object.create(p.prototype);k.prototype.constructor=k;v(k,p)};cb.exports["default"]=cb.exports;cb.exports.__esModule=!0};
shadow$provide[62]=function(ra,z,cb,B){function v(k,p){if(k.length!==p.length)return!1;for(var A=0;A<k.length;A++)if(k[A]!==p[A])return!1;return!0}cb.exports=function(k,p){void 0===p&&(p=v);var A,u=[],m,l=!1;return function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];if(l&&A===this&&p(f,u))return m;m=k.apply(this,f);l=!0;A=this;u=f;return m}}};
shadow$provide[63]=function(ra,z,cb,B){cb.exports=function(v,k){if(null==v)return{};var p={},A=Object.keys(v),u;for(u=0;u<A.length;u++){var m=A[u];0<=k.indexOf(m)||(p[m]=v[m])}return p};cb.exports["default"]=cb.exports;cb.exports.__esModule=!0};
shadow$provide[64]=function(ra,z,cb,B){function v(J){return J&&"object"===typeof J&&"default"in J?J["default"]:J}function k(J,r){function C(){e()-N>=r?J.call(null):U.id=requestAnimationFrame(C)}var N=e(),U={id:requestAnimationFrame(C)};return U}function p(J){void 0===J&&(J=!1);if(null===y||J){J=document.createElement("div");var r=J.style;r.width="50px";r.height="50px";r.overflow="scroll";r.direction="rtl";r=document.createElement("div");var C=r.style;C.width="100px";C.height="100px";J.appendChild(r);
document.body.appendChild(J);0<J.scrollLeft?y="positive-descending":(J.scrollLeft=1,y=0===J.scrollLeft?"negative":"positive-ascending");document.body.removeChild(J)}return y}function A(J){var r,C=J.getColumnOffset,N=J.getColumnStartIndexForOffset,U=J.getColumnStopIndexForStartIndex,ja=J.getColumnWidth,ba=J.getEstimatedTotalHeight,ia=J.getEstimatedTotalWidth,za=J.getOffsetForColumnAndAlignment,Wa=J.getOffsetForRowAndAlignment,hb=J.getRowHeight,Ja=J.getRowOffset,qa=J.getRowStartIndexForOffset,Da=J.getRowStopIndexForStartIndex,
va=J.initInstanceProps,sa=J.shouldResetStyleCacheOnItemSizeChange,xa=J.validateProps;return r=function(ma){function Ea(ab){var ta=ma.call(this,ab)||this;ta._instanceProps=va(ta.props,g(ta));ta._resetIsScrollingTimeoutId=null;ta._outerRef=void 0;ta.state={instance:g(ta),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"===typeof ta.props.initialScrollLeft?ta.props.initialScrollLeft:0,scrollTop:"number"===typeof ta.props.initialScrollTop?ta.props.initialScrollTop:0,scrollUpdateWasRequested:!1,
verticalScrollDirection:"forward"};ta._callOnItemsRendered=void 0;ta._callOnItemsRendered=b(function(Na,oa,aa,ka,Ia,Xa,Ya,mb){return ta.props.onItemsRendered({overscanColumnStartIndex:Na,overscanColumnStopIndex:oa,overscanRowStartIndex:aa,overscanRowStopIndex:ka,visibleColumnStartIndex:Ia,visibleColumnStopIndex:Xa,visibleRowStartIndex:Ya,visibleRowStopIndex:mb})});ta._callOnScroll=void 0;ta._callOnScroll=b(function(Na,oa,aa,ka,Ia){return ta.props.onScroll({horizontalScrollDirection:aa,scrollLeft:Na,
scrollTop:oa,verticalScrollDirection:ka,scrollUpdateWasRequested:Ia})});ta._getItemStyle=void 0;ta._getItemStyle=function(Na,oa){var aa=ta.props,ka=aa.columnWidth,Ia=aa.direction;aa=aa.rowHeight;ka=ta._getItemStyleCache(sa&&ka,sa&&Ia,sa&&aa);aa=Na+":"+oa;if(ka.hasOwnProperty(aa))Na=ka[aa];else{var Xa=C(ta.props,oa,ta._instanceProps);Ia="rtl"===Ia;ka[aa]=Na={position:"absolute",left:Ia?void 0:Xa,right:Ia?Xa:void 0,top:Ja(ta.props,Na,ta._instanceProps),height:hb(ta.props,Na,ta._instanceProps),width:ja(ta.props,
oa,ta._instanceProps)}}return Na};ta._getItemStyleCache=void 0;ta._getItemStyleCache=b(function(Na,oa,aa){return{}});ta._onScroll=function(Na){Na=Na.currentTarget;var oa=Na.clientHeight,aa=Na.clientWidth,ka=Na.scrollLeft,Ia=Na.scrollTop,Xa=Na.scrollHeight,Ya=Na.scrollWidth;ta.setState(function(mb){if(mb.scrollLeft===ka&&mb.scrollTop===Ia)return null;var ib=ka;if("rtl"===ta.props.direction)switch(p()){case "negative":ib=-ka;break;case "positive-descending":ib=Ya-aa-ka}ib=Math.max(0,Math.min(ib,Ya-
aa));return{isScrolling:!0,horizontalScrollDirection:mb.scrollLeft<ka?"forward":"backward",scrollLeft:ib,scrollTop:Math.max(0,Math.min(Ia,Xa-oa)),verticalScrollDirection:mb.scrollTop<Ia?"forward":"backward",scrollUpdateWasRequested:!1}},ta._resetIsScrollingDebounced)};ta._outerRefSetter=function(Na){var oa=ta.props.outerRef;ta._outerRef=Na;"function"===typeof oa?oa(Na):null!=oa&&"object"===typeof oa&&oa.hasOwnProperty("current")&&(oa.current=Na)};ta._resetIsScrollingDebounced=function(){null!==ta._resetIsScrollingTimeoutId&&
cancelAnimationFrame(ta._resetIsScrollingTimeoutId.id);ta._resetIsScrollingTimeoutId=k(ta._resetIsScrolling,150)};ta._resetIsScrolling=function(){ta._resetIsScrollingTimeoutId=null;ta.setState({isScrolling:!1},function(){ta._getItemStyleCache(-1)})};return ta}d(Ea,ma);Ea.getDerivedStateFromProps=function(ab,ta){xa(ab);return null};var Ua=Ea.prototype;Ua.scrollTo=function(ab){var ta=ab.scrollLeft,Na=ab.scrollTop;void 0!==ta&&(ta=Math.max(0,ta));void 0!==Na&&(Na=Math.max(0,Na));this.setState(function(oa){void 0===
ta&&(ta=oa.scrollLeft);void 0===Na&&(Na=oa.scrollTop);return oa.scrollLeft===ta&&oa.scrollTop===Na?null:{horizontalScrollDirection:oa.scrollLeft<ta?"forward":"backward",scrollLeft:ta,scrollTop:Na,scrollUpdateWasRequested:!0,verticalScrollDirection:oa.scrollTop<Na?"forward":"backward"}},this._resetIsScrollingDebounced)};Ua.scrollToItem=function(ab){var ta=ab.align;ta=void 0===ta?"auto":ta;var Na=ab.columnIndex;ab=ab.rowIndex;var oa=this.props,aa=oa.columnCount,ka=oa.height,Ia=oa.rowCount,Xa=oa.width,
Ya=this.state;oa=Ya.scrollLeft;Ya=Ya.scrollTop;var mb=void 0;void 0===mb&&(mb=!1);if(-1===t||mb){mb=document.createElement("div");var ib=mb.style;ib.width="50px";ib.height="50px";ib.overflow="scroll";document.body.appendChild(mb);t=mb.offsetWidth-mb.clientWidth;document.body.removeChild(mb)}mb=t;void 0!==Na&&(Na=Math.max(0,Math.min(Na,aa-1)));void 0!==ab&&(ab=Math.max(0,Math.min(ab,Ia-1)));aa=ba(this.props,this._instanceProps);Ia=ia(this.props,this._instanceProps)>Xa?mb:0;this.scrollTo({scrollLeft:void 0!==
Na?za(this.props,Na,ta,oa,this._instanceProps,aa>ka?mb:0):oa,scrollTop:void 0!==ab?Wa(this.props,ab,ta,Ya,this._instanceProps,Ia):Ya})};Ua.componentDidMount=function(){var ab=this.props,ta=ab.initialScrollLeft;ab=ab.initialScrollTop;if(null!=this._outerRef){var Na=this._outerRef;"number"===typeof ta&&(Na.scrollLeft=ta);"number"===typeof ab&&(Na.scrollTop=ab)}this._callPropsCallbacks()};Ua.componentDidUpdate=function(){var ab=this.props.direction,ta=this.state,Na=ta.scrollLeft,oa=ta.scrollTop;if(ta.scrollUpdateWasRequested&&
null!=this._outerRef){ta=this._outerRef;if("rtl"===ab)switch(p()){case "negative":ta.scrollLeft=-Na;break;case "positive-ascending":ta.scrollLeft=Na;break;default:ta.scrollLeft=ta.scrollWidth-ta.clientWidth-Na}else ta.scrollLeft=Math.max(0,Na);ta.scrollTop=Math.max(0,oa)}this._callPropsCallbacks()};Ua.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelAnimationFrame(this._resetIsScrollingTimeoutId.id)};Ua.render=function(){var ab=this.props,ta=ab.children,Na=ab.className,
oa=ab.columnCount,aa=ab.direction,ka=ab.height,Ia=ab.innerRef,Xa=ab.innerElementType,Ya=ab.innerTagName,mb=ab.itemData,ib=ab.itemKey,Eb=void 0===ib?q:ib;ib=ab.outerElementType;var Zb=ab.outerTagName,Gc=ab.rowCount,xc=ab.style,Ic=ab.useIsScrolling;ab=ab.width;var rc=this.state.isScrolling,jd=this._getHorizontalRangeToRender(),Bb=jd[0],tb=jd[1];jd=this._getVerticalRangeToRender();var dc=jd[0],Yb=jd[1];jd=[];if(0<oa&&Gc)for(oa=dc;oa<=Yb;oa++)for(Gc=Bb;Gc<=tb;Gc++)jd.push(c.createElement(ta,{columnIndex:Gc,
data:mb,isScrolling:Ic?rc:void 0,key:Eb({columnIndex:Gc,data:mb,rowIndex:oa}),rowIndex:oa,style:this._getItemStyle(oa,Gc)}));ta=ba(this.props,this._instanceProps);mb=ia(this.props,this._instanceProps);return c.createElement(ib||Zb||"div",{className:Na,onScroll:this._onScroll,ref:this._outerRefSetter,style:f({position:"relative",height:ka,width:ab,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:aa},xc)},c.createElement(Xa||Ya||"div",{children:jd,ref:Ia,style:{height:ta,
pointerEvents:rc?"none":void 0,width:mb}}))};Ua._callPropsCallbacks=function(){var ab=this.props,ta=ab.columnCount,Na=ab.onScroll,oa=ab.rowCount;if("function"===typeof ab.onItemsRendered&&0<ta&&0<oa){var aa=this._getHorizontalRangeToRender();ab=aa[0];ta=aa[1];oa=aa[2];aa=aa[3];var ka=this._getVerticalRangeToRender();this._callOnItemsRendered(ab,ta,ka[0],ka[1],oa,aa,ka[2],ka[3])}"function"===typeof Na&&(Na=this.state,this._callOnScroll(Na.scrollLeft,Na.scrollTop,Na.horizontalScrollDirection,Na.verticalScrollDirection,
Na.scrollUpdateWasRequested))};Ua._getHorizontalRangeToRender=function(){var ab=this.props,ta=ab.columnCount,Na=ab.overscanColumnsCount,oa=ab.overscanCount,aa=ab.rowCount,ka=this.state,Ia=ka.horizontalScrollDirection,Xa=ka.isScrolling;ka=ka.scrollLeft;ab=ab.overscanColumnCount||Na||oa||1;if(0===ta||0===aa)return[0,0,0,0];aa=N(this.props,ka,this._instanceProps);ka=U(this.props,aa,ka,this._instanceProps);return[Math.max(0,aa-(Xa&&"backward"!==Ia?1:Math.max(1,ab))),Math.max(0,Math.min(ta-1,ka+(Xa&&"forward"!==
Ia?1:Math.max(1,ab)))),aa,ka]};Ua._getVerticalRangeToRender=function(){var ab=this.props,ta=ab.overscanCount,Na=ab.overscanRowsCount,oa=ab.rowCount,aa=this.state,ka=aa.isScrolling,Ia=aa.verticalScrollDirection;aa=aa.scrollTop;ta=ab.overscanRowCount||Na||ta||1;if(0===ab.columnCount||0===oa)return[0,0,0,0];ab=qa(this.props,aa,this._instanceProps);aa=Da(this.props,ab,aa,this._instanceProps);return[Math.max(0,ab-(ka&&"backward"!==Ia?1:Math.max(1,ta))),Math.max(0,Math.min(oa-1,aa+(ka&&"forward"!==Ia?1:
Math.max(1,ta)))),ab,aa]};return Ea}(c.PureComponent),r.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},r}function u(J){var r,C=J.getItemOffset,N=J.getEstimatedTotalSize,U=J.getItemSize,ja=J.getOffsetForIndexAndAlignment,ba=J.getStartIndexForOffset,ia=J.getStopIndexForStartIndex,za=J.initInstanceProps,Wa=J.shouldResetStyleCacheOnItemSizeChange,hb=J.validateProps;return r=function(Ja){function qa(va){var sa=Ja.call(this,va)||this;sa._instanceProps=za(sa.props,g(sa));sa._outerRef=void 0;
sa._resetIsScrollingTimeoutId=null;sa.state={instance:g(sa),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof sa.props.initialScrollOffset?sa.props.initialScrollOffset:0,scrollUpdateWasRequested:!1};sa._callOnItemsRendered=void 0;sa._callOnItemsRendered=b(function(xa,ma,Ea,Ua){return sa.props.onItemsRendered({overscanStartIndex:xa,overscanStopIndex:ma,visibleStartIndex:Ea,visibleStopIndex:Ua})});sa._callOnScroll=void 0;sa._callOnScroll=b(function(xa,ma,Ea){return sa.props.onScroll({scrollDirection:xa,
scrollOffset:ma,scrollUpdateWasRequested:Ea})});sa._getItemStyle=void 0;sa._getItemStyle=function(xa){var ma=sa.props,Ea=ma.direction,Ua=ma.itemSize,ab=ma.layout;Ua=sa._getItemStyleCache(Wa&&Ua,Wa&&ab,Wa&&Ea);if(Ua.hasOwnProperty(xa))xa=Ua[xa];else{ma=C(sa.props,xa,sa._instanceProps);var ta=U(sa.props,xa,sa._instanceProps);ab="horizontal"===Ea||"horizontal"===ab;Ea="rtl"===Ea;var Na=ab?ma:0;Ua[xa]=xa={position:"absolute",left:Ea?void 0:Na,right:Ea?Na:void 0,top:ab?0:ma,height:ab?"100%":ta,width:ab?
ta:"100%"}}return xa};sa._getItemStyleCache=void 0;sa._getItemStyleCache=b(function(xa,ma,Ea){return{}});sa._onScrollHorizontal=function(xa){xa=xa.currentTarget;var ma=xa.clientWidth,Ea=xa.scrollLeft,Ua=xa.scrollWidth;sa.setState(function(ab){if(ab.scrollOffset===Ea)return null;var ta=Ea;if("rtl"===sa.props.direction)switch(p()){case "negative":ta=-Ea;break;case "positive-descending":ta=Ua-ma-Ea}ta=Math.max(0,Math.min(ta,Ua-ma));return{isScrolling:!0,scrollDirection:ab.scrollOffset<Ea?"forward":"backward",
scrollOffset:ta,scrollUpdateWasRequested:!1}},sa._resetIsScrollingDebounced)};sa._onScrollVertical=function(xa){xa=xa.currentTarget;var ma=xa.clientHeight,Ea=xa.scrollHeight,Ua=xa.scrollTop;sa.setState(function(ab){if(ab.scrollOffset===Ua)return null;var ta=Math.max(0,Math.min(Ua,Ea-ma));return{isScrolling:!0,scrollDirection:ab.scrollOffset<ta?"forward":"backward",scrollOffset:ta,scrollUpdateWasRequested:!1}},sa._resetIsScrollingDebounced)};sa._outerRefSetter=function(xa){var ma=sa.props.outerRef;
sa._outerRef=xa;"function"===typeof ma?ma(xa):null!=ma&&"object"===typeof ma&&ma.hasOwnProperty("current")&&(ma.current=xa)};sa._resetIsScrollingDebounced=function(){null!==sa._resetIsScrollingTimeoutId&&cancelAnimationFrame(sa._resetIsScrollingTimeoutId.id);sa._resetIsScrollingTimeoutId=k(sa._resetIsScrolling,150)};sa._resetIsScrolling=function(){sa._resetIsScrollingTimeoutId=null;sa.setState({isScrolling:!1},function(){sa._getItemStyleCache(-1,null)})};return sa}d(qa,Ja);qa.getDerivedStateFromProps=
function(va,sa){hb(va);return null};var Da=qa.prototype;Da.scrollTo=function(va){va=Math.max(0,va);this.setState(function(sa){return sa.scrollOffset===va?null:{scrollDirection:sa.scrollOffset<va?"forward":"backward",scrollOffset:va,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)};Da.scrollToItem=function(va,sa){void 0===sa&&(sa="auto");var xa=this.state.scrollOffset;va=Math.max(0,Math.min(va,this.props.itemCount-1));this.scrollTo(ja(this.props,va,sa,xa,this._instanceProps))};Da.componentDidMount=
function(){var va=this.props,sa=va.direction,xa=va.initialScrollOffset;va=va.layout;if("number"===typeof xa&&null!=this._outerRef){var ma=this._outerRef;"horizontal"===sa||"horizontal"===va?ma.scrollLeft=xa:ma.scrollTop=xa}this._callPropsCallbacks()};Da.componentDidUpdate=function(){var va=this.props,sa=va.direction;va=va.layout;var xa=this.state,ma=xa.scrollOffset;if(xa.scrollUpdateWasRequested&&null!=this._outerRef)if(xa=this._outerRef,"horizontal"===sa||"horizontal"===va)if("rtl"===sa)switch(p()){case "negative":xa.scrollLeft=
-ma;break;case "positive-ascending":xa.scrollLeft=ma;break;default:xa.scrollLeft=xa.scrollWidth-xa.clientWidth-ma}else xa.scrollLeft=ma;else xa.scrollTop=ma;this._callPropsCallbacks()};Da.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelAnimationFrame(this._resetIsScrollingTimeoutId.id)};Da.render=function(){var va=this.props,sa=va.children,xa=va.className,ma=va.direction,Ea=va.height,Ua=va.innerRef,ab=va.innerElementType,ta=va.innerTagName,Na=va.itemCount,oa=va.itemData,
aa=va.itemKey,ka=void 0===aa?O:aa,Ia=va.layout;aa=va.outerElementType;var Xa=va.outerTagName,Ya=va.style,mb=va.useIsScrolling;va=va.width;var ib=this.state.isScrolling,Eb=(Ia="horizontal"===ma||"horizontal"===Ia)?this._onScrollHorizontal:this._onScrollVertical,Zb=this._getRangeToRender(),Gc=Zb[0],xc=Zb[1];Zb=[];if(0<Na)for(Na=Gc;Na<=xc;Na++)Zb.push(c.createElement(sa,{data:oa,key:ka(Na,oa),index:Na,isScrolling:mb?ib:void 0,style:this._getItemStyle(Na)}));sa=N(this.props,this._instanceProps);return c.createElement(aa||
Xa||"div",{className:xa,onScroll:Eb,ref:this._outerRefSetter,style:f({position:"relative",height:Ea,width:va,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:ma},Ya)},c.createElement(ab||ta||"div",{children:Zb,ref:Ua,style:{height:Ia?"100%":sa,pointerEvents:ib?"none":void 0,width:Ia?sa:"100%"}}))};Da._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&0<this.props.itemCount){var va=this._getRangeToRender();this._callOnItemsRendered(va[0],
va[1],va[2],va[3])}"function"===typeof this.props.onScroll&&(va=this.state,this._callOnScroll(va.scrollDirection,va.scrollOffset,va.scrollUpdateWasRequested))};Da._getRangeToRender=function(){var va=this.props,sa=va.itemCount;va=va.overscanCount;var xa=this.state,ma=xa.isScrolling,Ea=xa.scrollDirection,Ua=xa.scrollOffset;if(0===sa)return[0,0,0,0];xa=ba(this.props,Ua,this._instanceProps);Ua=ia(this.props,xa,Ua,this._instanceProps);return[Math.max(0,xa-(ma&&"backward"!==Ea?1:Math.max(1,va))),Math.max(0,
Math.min(sa-1,Ua+(ma&&"forward"!==Ea?1:Math.max(1,va)))),xa,Ua]};return qa}(c.PureComponent),r.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},r}function m(J,r){for(var C in J)if(!(C in r))return!0;for(var N in r)if(J[N]!==r[N])return!0;return!1}function l(J,r){var C=J.style;J=a(J,T);var N=r.style;r=a(r,R);return!m(C,N)&&!m(J,r)}Object.defineProperty(B,"__esModule",{value:!0});var f=v(z(58)),g=v(z(59)),d=v(z(61)),b=v(z(62)),c=z(3),a=v(z(63)),e="object"===
typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()},t=-1,y=null,q=function(J){return J.rowIndex+":"+J.columnIndex},E=function(J,r){J=J.rowCount;var C=r.rowMetadataMap,N=r.estimatedRowHeight;r=r.lastMeasuredRowIndex;var U=0;r>=J&&(r=J-1);0<=r&&(C=C[r],U=C.offset+C.size);return U+(J-r-1)*N},F=function(J,r){J=J.columnCount;var C=r.columnMetadataMap,N=r.estimatedColumnWidth;r=r.lastMeasuredColumnIndex;var U=0;r>=J&&(r=J-1);0<=r&&(C=
C[r],U=C.offset+C.size);return U+(J-r-1)*N},w=function(J,r,C,N){if("column"===J){var U=N.columnMetadataMap;r=r.columnWidth;var ja=N.lastMeasuredColumnIndex}else U=N.rowMetadataMap,r=r.rowHeight,ja=N.lastMeasuredRowIndex;if(C>ja){var ba=0;0<=ja&&(ba=U[ja],ba=ba.offset+ba.size);for(ja+=1;ja<=C;ja++){var ia=r(ja);U[ja]={offset:ba,size:ia};ba+=ia}"column"===J?N.lastMeasuredColumnIndex=C:N.lastMeasuredRowIndex=C}return U[C]},D=function(J,r,C,N){if("column"===J){var U=C.columnMetadataMap;var ja=C.lastMeasuredColumnIndex}else U=
C.rowMetadataMap,ja=C.lastMeasuredRowIndex;if((0<ja?U[ja].offset:0)>=N)return G(J,r,C,ja,0,N);U=Math.max(0,ja);ja="column"===J?r.columnCount:r.rowCount;for(var ba=1;U<ja&&w(J,r,U,C).offset<N;)U+=ba,ba*=2;return G(J,r,C,Math.min(U,ja-1),Math.floor(U/2),N)},G=function(J,r,C,N,U,ja){for(;U<=N;){var ba=U+Math.floor((N-U)/2),ia=w(J,r,ba,C).offset;if(ia===ja)return ba;ia<ja?U=ba+1:ia>ja&&(N=ba-1)}return 0<U?U-1:0},L=function(J,r,C,N,U,ja,ba){var ia="column"===J?r.width:r.height;C=w(J,r,C,ja);J="column"===
J?F(r,ja):E(r,ja);J=Math.max(0,Math.min(J-ia,C.offset));ba=Math.max(0,C.offset-ia+ba+C.size);"smart"===N&&(N=U>=ba-ia&&U<=J+ia?"auto":"center");switch(N){case "start":return J;case "end":return ba;case "center":return Math.round(ba+(J-ba)/2);default:return U>=ba&&U<=J?U:ba>J?ba:U<ba?ba:J}};ra=A({getColumnOffset:function(J,r,C){return w("column",J,r,C).offset},getColumnStartIndexForOffset:function(J,r,C){return D("column",J,C,r)},getColumnStopIndexForStartIndex:function(J,r,C,N){var U=J.columnCount,
ja=J.width,ba=w("column",J,r,N);C+=ja;for(ba=ba.offset+ba.size;r<U-1&&ba<C;)r++,ba+=w("column",J,r,N).size;return r},getColumnWidth:function(J,r,C){return C.columnMetadataMap[r].size},getEstimatedTotalHeight:E,getEstimatedTotalWidth:F,getOffsetForColumnAndAlignment:function(J,r,C,N,U,ja){return L("column",J,r,C,N,U,ja)},getOffsetForRowAndAlignment:function(J,r,C,N,U,ja){return L("row",J,r,C,N,U,ja)},getRowOffset:function(J,r,C){return w("row",J,r,C).offset},getRowHeight:function(J,r,C){return C.rowMetadataMap[r].size},
getRowStartIndexForOffset:function(J,r,C){return D("row",J,C,r)},getRowStopIndexForStartIndex:function(J,r,C,N){var U=J.rowCount,ja=J.height,ba=w("row",J,r,N);C+=ja;for(ba=ba.offset+ba.size;r<U-1&&ba<C;)r++,ba+=w("row",J,r,N).size;return r},initInstanceProps:function(J,r){var C={columnMetadataMap:{},estimatedColumnWidth:J.estimatedColumnWidth||50,estimatedRowHeight:J.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};r.resetAfterColumnIndex=function(N,U){void 0===
U&&(U=!0);r.resetAfterIndices({columnIndex:N,shouldForceUpdate:U})};r.resetAfterRowIndex=function(N,U){void 0===U&&(U=!0);r.resetAfterIndices({rowIndex:N,shouldForceUpdate:U})};r.resetAfterIndices=function(N){var U=N.columnIndex,ja=N.rowIndex;N=N.shouldForceUpdate;N=void 0===N?!0:N;"number"===typeof U&&(C.lastMeasuredColumnIndex=Math.min(C.lastMeasuredColumnIndex,U-1));"number"===typeof ja&&(C.lastMeasuredRowIndex=Math.min(C.lastMeasuredRowIndex,ja-1));r._getItemStyleCache(-1);N&&r.forceUpdate()};
return C},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(J){}});var O=function(J,r){return J},V=function(J,r,C){J=J.itemSize;var N=C.itemMetadataMap,U=C.lastMeasuredIndex;if(r>U){var ja=0;0<=U&&(ja=N[U],ja=ja.offset+ja.size);for(U+=1;U<=r;U++){var ba=J(U);N[U]={offset:ja,size:ba};ja+=ba}C.lastMeasuredIndex=r}return N[r]},S=function(J,r,C,N,U){for(;N<=C;){var ja=N+Math.floor((C-N)/2),ba=V(J,ja,r).offset;if(ba===U)return ja;ba<U?N=ja+1:ba>U&&(C=ja-1)}return 0<N?N-1:0},ca=function(J,
r){J=J.itemCount;var C=r.itemMetadataMap,N=r.estimatedItemSize;r=r.lastMeasuredIndex;var U=0;r>=J&&(r=J-1);0<=r&&(C=C[r],U=C.offset+C.size);return U+(J-r-1)*N};z=u({getItemOffset:function(J,r,C){return V(J,r,C).offset},getItemSize:function(J,r,C){return C.itemMetadataMap[r].size},getEstimatedTotalSize:ca,getOffsetForIndexAndAlignment:function(J,r,C,N,U){var ja=J.height,ba=J.layout,ia=J.width;ja="horizontal"===J.direction||"horizontal"===ba?ia:ja;r=V(J,r,U);J=ca(J,U);J=Math.max(0,Math.min(J-ja,r.offset));
U=Math.max(0,r.offset-ja+r.size);"smart"===C&&(C=N>=U-ja&&N<=J+ja?"auto":"center");switch(C){case "start":return J;case "end":return U;case "center":return Math.round(U+(J-U)/2);default:return N>=U&&N<=J?N:N<U?U:J}},getStartIndexForOffset:function(J,r,C){var N=C.itemMetadataMap,U=C.lastMeasuredIndex;if((0<U?N[U].offset:0)>=r)J=S(J,C,U,0,r);else{N=Math.max(0,U);U=J.itemCount;for(var ja=1;N<U&&V(J,N,C).offset<r;)N+=ja,ja*=2;J=S(J,C,Math.min(N,U-1),Math.floor(N/2),r)}return J},getStopIndexForStartIndex:function(J,
r,C,N){var U=J.height,ja=J.itemCount,ba=J.layout,ia=J.width;ba="horizontal"===J.direction||"horizontal"===ba?ia:U;U=V(J,r,N);C+=ba;for(U=U.offset+U.size;r<ja-1&&U<C;)r++,U+=V(J,r,N).size;return r},initInstanceProps:function(J,r){var C={itemMetadataMap:{},estimatedItemSize:J.estimatedItemSize||50,lastMeasuredIndex:-1};r.resetAfterIndex=function(N,U){void 0===U&&(U=!0);C.lastMeasuredIndex=Math.min(C.lastMeasuredIndex,N-1);r._getItemStyleCache(-1);U&&r.forceUpdate()};return C},shouldResetStyleCacheOnItemSizeChange:!1,
validateProps:function(J){}});cb=A({getColumnOffset:function(J,r){return r*J.columnWidth},getColumnWidth:function(J,r){return J.columnWidth},getRowOffset:function(J,r){return r*J.rowHeight},getRowHeight:function(J,r){return J.rowHeight},getEstimatedTotalHeight:function(J){return J.rowHeight*J.rowCount},getEstimatedTotalWidth:function(J){return J.columnWidth*J.columnCount},getOffsetForColumnAndAlignment:function(J,r,C,N,U,ja){var ba=J.columnWidth;U=J.width;J=Math.max(0,J.columnCount*ba-U);var ia=Math.min(J,
r*ba);r=Math.max(0,r*ba-U+ja+ba);"smart"===C&&(C=N>=r-U&&N<=ia+U?"auto":"center");switch(C){case "start":return ia;case "end":return r;case "center":return C=Math.round(r+(ia-r)/2),C<Math.ceil(U/2)?0:C>J+Math.floor(U/2)?J:C;default:return N>=r&&N<=ia?N:r>ia?r:N<r?r:ia}},getOffsetForRowAndAlignment:function(J,r,C,N,U,ja){var ba=J.rowHeight;U=J.height;J=Math.max(0,J.rowCount*ba-U);var ia=Math.min(J,r*ba);r=Math.max(0,r*ba-U+ja+ba);"smart"===C&&(C=N>=r-U&&N<=ia+U?"auto":"center");switch(C){case "start":return ia;
case "end":return r;case "center":return C=Math.round(r+(ia-r)/2),C<Math.ceil(U/2)?0:C>J+Math.floor(U/2)?J:C;default:return N>=r&&N<=ia?N:r>ia?r:N<r?r:ia}},getColumnStartIndexForOffset:function(J,r){return Math.max(0,Math.min(J.columnCount-1,Math.floor(r/J.columnWidth)))},getColumnStopIndexForStartIndex:function(J,r,C){var N=J.columnWidth;return Math.max(0,Math.min(J.columnCount-1,r+Math.ceil((J.width+C-r*N)/N)-1))},getRowStartIndexForOffset:function(J,r){return Math.max(0,Math.min(J.rowCount-1,Math.floor(r/
J.rowHeight)))},getRowStopIndexForStartIndex:function(J,r,C){var N=J.rowHeight;return Math.max(0,Math.min(J.rowCount-1,r+Math.ceil((J.height+C-r*N)/N)-1))},initInstanceProps:function(J){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(J){}});var ea=u({getItemOffset:function(J,r){return r*J.itemSize},getItemSize:function(J,r){return J.itemSize},getEstimatedTotalSize:function(J){return J.itemSize*J.itemCount},getOffsetForIndexAndAlignment:function(J,r,C,N){var U=J.height,ja=J.itemSize,
ba=J.layout,ia=J.width;U="horizontal"===J.direction||"horizontal"===ba?ia:U;J=Math.max(0,J.itemCount*ja-U);ba=Math.min(J,r*ja);r=Math.max(0,r*ja-U+ja);"smart"===C&&(C=N>=r-U&&N<=ba+U?"auto":"center");switch(C){case "start":return ba;case "end":return r;case "center":return C=Math.round(r+(ba-r)/2),C<Math.ceil(U/2)?0:C>J+Math.floor(U/2)?J:C;default:return N>=r&&N<=ba?N:N<r?r:ba}},getStartIndexForOffset:function(J,r){return Math.max(0,Math.min(J.itemCount-1,Math.floor(r/J.itemSize)))},getStopIndexForStartIndex:function(J,
r,C){var N=J.height,U=J.itemSize,ja=J.layout,ba=J.width;return Math.max(0,Math.min(J.itemCount-1,r+Math.ceil((("horizontal"===J.direction||"horizontal"===ja?ba:N)+C-r*U)/U)-1))},initInstanceProps:function(J){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(J){}}),T=["style"],R=["style"];B.FixedSizeGrid=cb;B.FixedSizeList=ea;B.VariableSizeGrid=ra;B.VariableSizeList=z;B.areEqual=l;B.shouldComponentUpdate=function(J,r){return!l(this.props,J)||m(this.state,r)}};
shadow$provide[65]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(){function v(){this.disposed=!1}v.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())};v.prototype.disposeInternal=function(){};return v}();B.default=ra};
shadow$provide[66]=function(ra,z,cb,B){function v(k,p){return k>p?1:k<p?-1:0}Object.defineProperty(B,"__esModule",{value:!0});B.binarySearch=function(k,p,A){for(var u,m=A||v,l=0,f=k.length,g=!1;l<f;)A=l+(f-l>>1),u=+m(k[A],p),0>u?l=A+1:(f=A,g=!u);return g?l:~l};B.numberSafeCompareFunction=v;B.includes=function(k,p){return 0<=k.indexOf(p)};B.linearFindNearest=function(k,p,A){var u=k.length;if(k[0]<=p)return 0;if(!(p<=k[u-1])){var m;if(0<A)for(m=1;m<u;++m){if(k[m]<p)return m-1}else if(0>A)for(m=1;m<
u;++m){if(k[m]<=p)return m}else for(m=1;m<u;++m){if(k[m]==p)return m;if(k[m]<p)return"function"===typeof A?0<A(p,k[m-1],k[m])?m-1:m:k[m-1]-p<p-k[m]?m-1:m}}return u-1};B.reverseSubArray=function(k,p,A){for(;p<A;){var u=k[p];k[p]=k[A];k[A]=u;++p;--A}};B.extend=function(k,p){p=Array.isArray(p)?p:[p];for(var A=p.length,u=0;u<A;u++)k[k.length]=p[u]};B.remove=function(k,p){p=k.indexOf(p);var A=-1<p;A&&k.splice(p,1);return A};B.find=function(k,p){for(var A=k.length>>>0,u,m=0;m<A;m++)if(u=k[m],p(u,m,k))return u;
return null};B.equals=function(k,p){var A=k.length;if(A!==p.length)return!1;for(var u=0;u<A;u++)if(k[u]!==p[u])return!1;return!0};B.stableSort=function(k,p){var A=k.length,u=Array(k.length),m;for(m=0;m<A;m++)u[m]={index:m,value:k[m]};u.sort(function(l,f){return p(l.value,f.value)||l.index-f.index});for(m=0;m<k.length;m++)k[m]=u[m].value};B.findIndex=function(k,p){var A;return k.every(function(u,m){A=m;return!p(u,m,k)})?-1:A};B.isSorted=function(k,p,A){var u=p||v;return k.every(function(m,l){if(0===
l)return!0;m=u(k[l-1],m);return!(0<m||A&&0===m)})}};
shadow$provide[67]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.TRUE=function(){return!0};B.FALSE=function(){return!1};B.VOID=function(){};B.memoizeOne=function(k){var p=!1,A,u,m;return function(){var l=Array.prototype.slice.call(arguments);p&&this===m&&(0,v.equals)(l,u)||(p=!0,m=this,u=l,A=k.apply(this,arguments));return A}};B.toPromise=function(k){a:{try{var p=k()}catch(A){k=Promise.reject(A);break a}k=p instanceof Promise?p:Promise.resolve(p)}return k};var v=z(66)};
shadow$provide[68]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.abstract=function(){throw Error("Unimplemented abstract method.");};B.getUid=function(k){return k.ol_uid||(k.ol_uid=String(++v))};B.VERSION=void 0;var v=0;B.VERSION="6.14.1"};
shadow$provide[69]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.PASSIVE_EVENT_LISTENERS=B.IMAGE_DECODE=B.WORKER_OFFSCREEN_CANVAS=B.DEVICE_PIXEL_RATIO=B.MAC=B.WEBKIT=B.SAFARI_BUG_237906=B.SAFARI=B.FIREFOX=void 0;ra="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";z=-1!==ra.indexOf("firefox");B.FIREFOX=z;z=-1!==ra.indexOf("safari")&&-1==ra.indexOf("chrom");z=(B.SAFARI=z)&&!!(0<=ra.indexOf("version/15.4")||ra.match(/cpu (os|iphone os) 15_4 like mac os x/));
B.SAFARI_BUG_237906=z;z=-1!==ra.indexOf("webkit")&&-1==ra.indexOf("edge");B.WEBKIT=z;ra=-1!==ra.indexOf("macintosh");B.MAC=ra;B.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;B.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;B.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;ra=function(){var v=!1;try{var k=Object.defineProperty({},"passive",{get:function(){v=!0}});window.addEventListener("_",
null,k);window.removeEventListener("_",null,k)}catch(p){}return v}();B.PASSIVE_EVENT_LISTENERS=ra};
shadow$provide[70]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var v=z(68),k=function(){var p=function(A,u){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,l){m.__proto__=l}||function(m,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(m[f]=l[f])};return p(A,u)};return function(A,u){function m(){this.constructor=A}if("function"!==typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");
p(A,u);A.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();ra=function(p){function A(u){var m="Assertion failed. See https://openlayers.org/en/"+("latest"===v.VERSION?v.VERSION:"v"+v.VERSION.split("-")[0])+"/doc/errors/#"+u+" for details.";var l=p.call(this,m)||this;l.code=u;l.name="AssertionError";l.message=m;return l}k(A,p);return A}(Error);B.default=ra};
shadow$provide[71]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.assert=function(k,p){if(!k)throw new v.default(p);};var v=function(k){return k&&k.__esModule?k:{default:k}}(z(70))};
shadow$provide[72]=function(ra,z,cb,B){function v(){return[1,0,0,1,0,0]}function k(c,a){var e=c[0],t=c[1],y=c[2],q=c[3],E=c[4],F=c[5],w=a[0],D=a[1],G=a[2],L=a[3],O=a[4];a=a[5];c[0]=e*w+y*D;c[1]=t*w+q*D;c[2]=e*G+y*L;c[3]=t*G+q*L;c[4]=e*O+y*a+E;c[5]=t*O+q*a+F;return c}function p(c,a,e,t,y,q,E){c[0]=a;c[1]=e;c[2]=t;c[3]=y;c[4]=q;c[5]=E;return c}function A(c,a,e,t,y,q,E,F){var w=Math.sin(q);q=Math.cos(q);c[0]=t*q;c[1]=y*w;c[2]=-t*w;c[3]=y*q;c[4]=E*t*q-F*t*w+a;c[5]=E*y*w+F*y*q+e;return c}function u(c,
a){var e=m(a);(0,g.assert)(0!==e,32);var t=a[0],y=a[1],q=a[2],E=a[3],F=a[4];a=a[5];c[0]=E/e;c[1]=-y/e;c[2]=-q/e;c[3]=t/e;c[4]=(q*a-E*F)/e;c[5]=-(t*a-y*F)/e;return c}function m(c){return c[0]*c[3]-c[1]*c[2]}function l(c){c="matrix("+c.join(", ")+")";if(f.WORKER_OFFSCREEN_CANVAS)return c;var a=b||(b=document.createElement("div"));a.style.transform=c;return a.style.transform}Object.defineProperty(B,"__esModule",{value:!0});B.create=v;B.reset=function(c){return p(c,1,0,0,1,0,0)};B.multiply=k;B.set=p;
B.setFromArray=function(c,a){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];return c};B.apply=function(c,a){var e=a[0],t=a[1];a[0]=c[0]*e+c[2]*t+c[4];a[1]=c[1]*e+c[3]*t+c[5];return a};B.rotate=function(c,a){var e=Math.cos(a);a=Math.sin(a);return k(c,p(d,e,a,-a,e,0,0))};B.scale=function(c,a,e){return k(c,p(d,a,0,0,e,0,0))};B.makeScale=function(c,a,e){return p(c,a,0,0,e,0,0)};B.translate=function(c,a,e){return k(c,p(d,1,0,0,1,a,e))};B.compose=A;B.composeCssTransform=function(c,a,e,t,y,
q,E){return l(A(v(),c,a,e,t,y,q,E))};B.invert=function(c){return u(c,c)};B.makeInverse=u;B.determinant=m;B.toString=l;var f=z(69),g=z(71),d=Array(6),b};
shadow$provide[73]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[74]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[75]=function(ra,z,cb,B){function v(S){return S&&S.__esModule?S:{default:S}}function k(S,ca,ea){return S[0]<=ca&&ca<=S[2]&&S[1]<=ea&&ea<=S[3]}function p(S,ca){var ea=S[1],T=S[2],R=S[3],J=ca[0];ca=ca[1];var r=O.default.UNKNOWN;J<S[0]?r|=O.default.LEFT:J>T&&(r|=O.default.RIGHT);ca<ea?r|=O.default.BELOW:ca>R&&(r|=O.default.ABOVE);r===O.default.UNKNOWN&&(r=O.default.INTERSECTING);return r}function A(){return[Infinity,Infinity,-Infinity,-Infinity]}function u(S,ca,ea,T,R){return R?(R[0]=S,
R[1]=ca,R[2]=ea,R[3]=T,R):[S,ca,ea,T]}function m(S){return u(Infinity,Infinity,-Infinity,-Infinity,S)}function l(S,ca){ca[0]<S[0]&&(S[0]=ca[0]);ca[0]>S[2]&&(S[2]=ca[0]);ca[1]<S[1]&&(S[1]=ca[1]);ca[1]>S[3]&&(S[3]=ca[1])}function f(S,ca){for(var ea=0,T=ca.length;ea<T;++ea)l(S,ca[ea]);return S}function g(S,ca,ea,T,R){for(;ea<T;ea+=R)b(S,ca[ea],ca[ea+1]);return S}function d(S,ca){for(var ea=0,T=ca.length;ea<T;++ea)f(S,ca[ea]);return S}function b(S,ca,ea){S[0]=Math.min(S[0],ca);S[1]=Math.min(S[1],ea);
S[2]=Math.max(S[2],ca);S[3]=Math.max(S[3],ea)}function c(S){var ca=0;G(S)||(ca=w(S)*y(S));return ca}function a(S){return[S[0],S[1]]}function e(S){return[S[2],S[1]]}function t(S){return[(S[0]+S[2])/2,(S[1]+S[3])/2]}function y(S){return S[3]-S[1]}function q(S,ca,ea){ea=ea?ea:A();D(S,ca)?(ea[0]=S[0]>ca[0]?S[0]:ca[0],ea[1]=S[1]>ca[1]?S[1]:ca[1],ea[2]=S[2]<ca[2]?S[2]:ca[2],ea[3]=S[3]<ca[3]?S[3]:ca[3]):m(ea);return ea}function E(S){return[S[0],S[3]]}function F(S){return[S[2],S[3]]}function w(S){return S[2]-
S[0]}function D(S,ca){return S[0]<=ca[2]&&S[2]>=ca[0]&&S[1]<=ca[3]&&S[3]>=ca[1]}function G(S){return S[2]<S[0]||S[3]<S[1]}Object.defineProperty(B,"__esModule",{value:!0});B.boundingExtent=function(S){for(var ca=A(),ea=0,T=S.length;ea<T;++ea)l(ca,S[ea]);return ca};B.buffer=function(S,ca,ea){return ea?(ea[0]=S[0]-ca,ea[1]=S[1]-ca,ea[2]=S[2]+ca,ea[3]=S[3]+ca,ea):[S[0]-ca,S[1]-ca,S[2]+ca,S[3]+ca]};B.clone=function(S,ca){return ca?(ca[0]=S[0],ca[1]=S[1],ca[2]=S[2],ca[3]=S[3],ca):S.slice()};B.closestSquaredDistanceXY=
function(S,ca,ea){ca=ca<S[0]?S[0]-ca:S[2]<ca?ca-S[2]:0;S=ea<S[1]?S[1]-ea:S[3]<ea?ea-S[3]:0;return ca*ca+S*S};B.containsCoordinate=function(S,ca){return k(S,ca[0],ca[1])};B.containsExtent=function(S,ca){return S[0]<=ca[0]&&ca[2]<=S[2]&&S[1]<=ca[1]&&ca[3]<=S[3]};B.containsXY=k;B.coordinateRelationship=p;B.createEmpty=A;B.createOrUpdate=u;B.createOrUpdateEmpty=m;B.createOrUpdateFromCoordinate=function(S,ca){var ea=S[0];S=S[1];return u(ea,S,ea,S,ca)};B.createOrUpdateFromCoordinates=function(S,ca){ca=
m(ca);return f(ca,S)};B.createOrUpdateFromFlatCoordinates=function(S,ca,ea,T,R){R=m(R);return g(R,S,ca,ea,T)};B.createOrUpdateFromRings=function(S,ca){ca=m(ca);return d(ca,S)};B.equals=function(S,ca){return S[0]==ca[0]&&S[2]==ca[2]&&S[1]==ca[1]&&S[3]==ca[3]};B.approximatelyEquals=function(S,ca,ea){return Math.abs(S[0]-ca[0])<ea&&Math.abs(S[2]-ca[2])<ea&&Math.abs(S[1]-ca[1])<ea&&Math.abs(S[3]-ca[3])<ea};B.extend=function(S,ca){ca[0]<S[0]&&(S[0]=ca[0]);ca[2]>S[2]&&(S[2]=ca[2]);ca[1]<S[1]&&(S[1]=ca[1]);
ca[3]>S[3]&&(S[3]=ca[3]);return S};B.extendCoordinate=l;B.extendCoordinates=f;B.extendFlatCoordinates=g;B.extendRings=d;B.extendXY=b;B.forEachCorner=function(S,ca){var ea;return(ea=ca(a(S)))||(ea=ca(e(S)))||(ea=ca(F(S)))?ea:(ea=ca(E(S)))?ea:!1};B.getArea=c;B.getBottomLeft=a;B.getBottomRight=e;B.getCenter=t;B.getCorner=function(S,ca){var ea;ca===L.default.BOTTOM_LEFT?ea=a(S):ca===L.default.BOTTOM_RIGHT?ea=e(S):ca===L.default.TOP_LEFT?ea=E(S):ca===L.default.TOP_RIGHT?ea=F(S):(0,V.assert)(!1,13);return ea};
B.getEnlargedArea=function(S,ca){return(Math.max(S[2],ca[2])-Math.min(S[0],ca[0]))*(Math.max(S[3],ca[3])-Math.min(S[1],ca[1]))};B.getForViewAndSize=function(S,ca,ea,T,R){var J=ca*T[0]/2;T=ca*T[1]/2;ca=Math.cos(ea);var r=Math.sin(ea);ea=J*ca;J*=r;ca*=T;var C=T*r,N=S[0],U=S[1];S=N-ea+C;T=N-ea-C;r=N+ea-C;ea=N+ea+C;C=U-J-ca;N=U-J+ca;var ja=U+J+ca;J=U+J-ca;return u(Math.min(S,T,r,ea),Math.min(C,N,ja,J),Math.max(S,T,r,ea),Math.max(C,N,ja,J),R)};B.getHeight=y;B.getIntersectionArea=function(S,ca){S=q(S,ca);
return c(S)};B.getIntersection=q;B.getMargin=function(S){return w(S)+y(S)};B.getSize=function(S){return[S[2]-S[0],S[3]-S[1]]};B.getTopLeft=E;B.getTopRight=F;B.getWidth=w;B.intersects=D;B.isEmpty=G;B.returnOrUpdate=function(S,ca){return ca?(ca[0]=S[0],ca[1]=S[1],ca[2]=S[2],ca[3]=S[3],ca):S};B.scaleFromCenter=function(S,ca){var ea=(S[2]-S[0])/2*(ca-1);ca=(S[3]-S[1])/2*(ca-1);S[0]-=ea;S[2]+=ea;S[1]-=ca;S[3]+=ca};B.intersectsSegment=function(S,ca,ea){var T=!1,R=p(S,ca),J=p(S,ea);if(R===O.default.INTERSECTING||
J===O.default.INTERSECTING)T=!0;else{var r=S[0],C=S[1],N=S[2];S=S[3];var U=ea[0];ea=ea[1];ca=(ea-ca[1])/(U-ca[0]);J&O.default.ABOVE&&!(R&O.default.ABOVE)&&(T=U-(ea-S)/ca,T=T>=r&&T<=N);T||!(J&O.default.RIGHT)||R&O.default.RIGHT||(T=ea-(U-N)*ca,T=T>=C&&T<=S);T||!(J&O.default.BELOW)||R&O.default.BELOW||(T=U-(ea-C)/ca,T=T>=r&&T<=N);T||!(J&O.default.LEFT)||R&O.default.LEFT||(T=ea-(U-r)*ca,T=T>=C&&T<=S)}return T};B.applyTransform=function(S,ca,ea,T){var R=[];if(1<T)for(var J=S[2]-S[0],r=S[3]-S[1],C=0;C<
T;++C)R.push(S[0]+J*C/T,S[1],S[2],S[1]+r*C/T,S[2]-J*C/T,S[3],S[0],S[3]-r*C/T);else R=[S[0],S[1],S[2],S[1],S[2],S[3],S[0],S[3]];ca(R,R,2);ca=[];S=[];C=0;for(T=R.length;C<T;C+=2)ca.push(R[C]),S.push(R[C+1]);R=Math.min.apply(null,ca);C=Math.min.apply(null,S);ca=Math.max.apply(null,ca);S=Math.max.apply(null,S);return u(R,C,ca,S,ea)};B.wrapX=function(S,ca){var ea=ca.getExtent(),T=t(S);ca.canWrapX()&&(T[0]<ea[0]||T[0]>=ea[2])&&(ca=w(ea),ea=Math.floor((T[0]-ea[0])/ca)*ca,S[0]-=ea,S[2]-=ea);return S};var L=
v(z(73)),O=v(z(74)),V=z(71)};
shadow$provide[76]=function(ra,z,cb,B){function v(p,A,u,m){p=u-p;A=m-A;return p*p+A*A}function k(p,A){A=Math.pow(10,A);return Math.round(p*A)/A}Object.defineProperty(B,"__esModule",{value:!0});B.clamp=function(p,A,u){return Math.min(Math.max(p,A),u)};B.squaredSegmentDistance=function(p,A,u,m,l,f){var g=l-u,d=f-m;if(0!==g||0!==d){var b=((p-u)*g+(A-m)*d)/(g*g+d*d);1<b?(u=l,m=f):0<b&&(u+=g*b,m+=d*b)}return v(p,A,u,m)};B.squaredDistance=v;B.solveLinearSystem=function(p){for(var A=p.length,u=0;u<A;u++){for(var m=
u,l=Math.abs(p[u][u]),f=u+1;f<A;f++){var g=Math.abs(p[f][u]);g>l&&(l=g,m=f)}if(0===l)return null;l=p[m];p[m]=p[u];p[u]=l;for(m=u+1;m<A;m++)for(l=-p[m][u]/p[u][u],f=u;f<A+1;f++)p[m][f]=u==f?0:p[m][f]+l*p[u][f]}u=Array(A);for(m=A-1;0<=m;m--)for(u[m]=p[m][A]/p[m][m],l=m-1;0<=l;l--)p[l][A]-=p[l][m]*u[m];return u};B.toDegrees=function(p){return 180*p/Math.PI};B.toRadians=function(p){return p*Math.PI/180};B.modulo=function(p,A){p%=A;return 0>p*A?p+A:p};B.lerp=function(p,A,u){return p+u*(A-p)};B.toFixed=
k;B.round=function(p,A){return Math.round(k(p,A))};B.floor=function(p,A){return Math.floor(k(p,A))};B.ceil=function(p,A){return Math.ceil(k(p,A))};B.log2=B.cosh=void 0;ra=function(){return"cosh"in Math?Math.cosh:function(p){p=Math.exp(p);return(p+1/p)/2}}();B.cosh=ra;ra=function(){return"log2"in Math?Math.log2:function(p){return Math.log(p)*Math.LOG2E}}();B.log2=ra};
shadow$provide[77]=function(ra,z,cb,B){function v(g){var d=document.createElement("div");d.style.color=g;return""!==d.style.color?(document.body.appendChild(d),g=getComputedStyle(d).color,document.body.removeChild(d),g):""}function k(g){g[0]=(0,u.clamp)(g[0]+.5|0,0,255);g[1]=(0,u.clamp)(g[1]+.5|0,0,255);g[2]=(0,u.clamp)(g[2]+.5|0,0,255);g[3]=(0,u.clamp)(g[3],0,1);return g}function p(g){var d=g[0];d!=(d|0)&&(d=d+.5|0);var b=g[1];b!=(b|0)&&(b=b+.5|0);var c=g[2];c!=(c|0)&&(c=c+.5|0);return"rgba("+d+
","+b+","+c+","+(void 0===g[3]?1:Math.round(100*g[3])/100)+")"}Object.defineProperty(B,"__esModule",{value:!0});B.asString=function(g){return"string"===typeof g?g:p(g)};B.asArray=function(g){return Array.isArray(g)?g:f(g)};B.normalize=k;B.toString=p;B.isStringColor=function(g){l.test(g)&&(g=v(g));return m.test(g)||0===g.indexOf("rgba(")||0===g.indexOf("rgb(")};B.fromString=void 0;var A=z(71),u=z(76),m=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,l=/^([a-z]*)$|^hsla?\(.*\)$/i,f=function(){var g=
{},d=0;return function(b){if(g.hasOwnProperty(b))var c=g[b];else{if(1024<=d){c=0;for(var a in g)0===(c++&3)&&(delete g[a],--d)}c=b;l.exec(c)&&(c=v(c));if(m.exec(c)){a=c.length-1;var e=4>=a?1:2;var t=4===a||8===a;a=parseInt(c.substr(1+0*e,e),16);var y=parseInt(c.substr(1+1*e,e),16);var q=parseInt(c.substr(1+2*e,e),16);c=t?parseInt(c.substr(1+3*e,e),16):255;1==e&&(a=(a<<4)+a,y=(y<<4)+y,q=(q<<4)+q,t&&(c=(c<<4)+c));e=[a,y,q,c/255]}else 0==c.indexOf("rgba(")?(e=c.slice(5,-1).split(",").map(Number),k(e)):
0==c.indexOf("rgb(")?(e=c.slice(4,-1).split(",").map(Number),e.push(1),k(e)):(0,A.assert)(!1,14);c=e;g[b]=c;++d}return c}}();B.fromString=f};
shadow$provide[78]=function(ra,z,cb,B){function v(p,A,u){u=u?(0,k.asString)(u):"null";return A+":"+p+":"+u}Object.defineProperty(B,"__esModule",{value:!0});B.shared=B.default=void 0;var k=z(77);ra=function(){function p(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}p.prototype.clear=function(){this.cache_={};this.cacheSize_=0};p.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_};p.prototype.expire=function(){if(this.canExpireCache()){var A=0,u;for(u in this.cache_){var m=
this.cache_[u];0!==(A++&3)||m.hasListener()||(delete this.cache_[u],--this.cacheSize_)}}};p.prototype.get=function(A,u,m){A=v(A,u,m);return A in this.cache_?this.cache_[A]:null};p.prototype.set=function(A,u,m,l){A=v(A,u,m);this.cache_[A]=l;++this.cacheSize_};p.prototype.setSize=function(A){this.maxCacheSize_=A;this.expire()};return p}();B.default=ra;ra=new ra;B.shared=ra};
shadow$provide[79]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.stopPropagation=function(v){v.stopPropagation()};B.preventDefault=function(v){v.preventDefault()};B.default=void 0;ra=function(){function v(k){this.type=k;this.target=null}v.prototype.preventDefault=function(){this.defaultPrevented=!0};v.prototype.stopPropagation=function(){this.propagationStopped=!0};return v}();B.default=ra};
shadow$provide[80]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={PROPERTYCHANGE:"propertychange"}};
shadow$provide[81]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.clear=function(v){for(var k in v)delete v[k]};B.isEmpty=function(v){for(var k in v)return!1;return!k};B.getValues=B.assign=void 0;B.assign="function"===typeof Object.assign?Object.assign:function(v,k){if(void 0===v||null===v)throw new TypeError("Cannot convert undefined or null to object");for(var p=Object(v),A=1,u=arguments.length;A<u;++A){var m=arguments[A];if(void 0!==m&&null!==m)for(var l in m)m.hasOwnProperty(l)&&
(p[l]=m[l])}return p};B.getValues="function"===typeof Object.values?Object.values:function(v){var k=[],p;for(p in v)k.push(v[p]);return k}};
shadow$provide[82]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(65));var k=v(z(79)),p=z(67),A=z(81),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&null!==
f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(f){var g=m.call(this)||this;g.eventTarget_=f;g.pendingRemovals_=null;g.dispatching_=null;g.listeners_=null;return g}u(l,m);l.prototype.addEventListener=function(f,g){if(f&&g){var d=this.listeners_||(this.listeners_={});f=d[f]||(d[f]=[]);-1===f.indexOf(g)&&f.push(g)}};l.prototype.dispatchEvent=function(f){var g=
"string"===typeof f,d=g?f:f.type,b=this.listeners_&&this.listeners_[d];if(b){var c=g?new k.default(f):f;c.target||(c.target=this.eventTarget_||this);f=this.dispatching_||(this.dispatching_={});g=this.pendingRemovals_||(this.pendingRemovals_={});d in f||(f[d]=0,g[d]=0);++f[d];for(var a,e=0,t=b.length;e<t;++e)if(a="handleEvent"in b[e]?b[e].handleEvent(c):b[e].call(this,c),!1===a||c.propagationStopped){a=!1;break}if(0===--f[d]){b=g[d];for(delete g[d];b--;)this.removeEventListener(d,p.VOID);delete f[d]}return a}};
l.prototype.disposeInternal=function(){this.listeners_&&(0,A.clear)(this.listeners_)};l.prototype.getListeners=function(f){return this.listeners_&&this.listeners_[f]||void 0};l.prototype.hasListener=function(f){return this.listeners_?f?f in this.listeners_:0<Object.keys(this.listeners_).length:!1};l.prototype.removeEventListener=function(f,g){var d=this.listeners_&&this.listeners_[f];d&&(g=d.indexOf(g),-1!==g&&(this.pendingRemovals_&&f in this.pendingRemovals_?(d[g]=p.VOID,++this.pendingRemovals_[f]):
(d.splice(g,1),0===d.length&&delete this.listeners_[f])))};return l}(ra.default);B.default=z};
shadow$provide[83]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[84]=function(ra,z,cb,B){function v(p,A,u,m,l){m&&m!==p&&(u=u.bind(m));if(l){var f=u;u=function(){p.removeEventListener(A,u);f.apply(this,arguments)}}m={target:p,type:A,listener:u};p.addEventListener(A,u);return m}Object.defineProperty(B,"__esModule",{value:!0});B.listen=v;B.listenOnce=function(p,A,u,m){return v(p,A,u,m,!0)};B.unlistenByKey=function(p){p&&p.target&&(p.target.removeEventListener(p.type,p.listener),(0,k.clear)(p))};var k=z(81)};
shadow$provide[85]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}function k(m){if(Array.isArray(m))for(var l=0,f=m.length;l<f;++l)(0,A.unlistenByKey)(m[l]);else(0,A.unlistenByKey)(m)}Object.defineProperty(B,"__esModule",{value:!0});B.unByKey=k;B.default=void 0;ra=v(z(82));var p=v(z(83)),A=z(84),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,
b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(){var f=m.call(this)||this;f.on=f.onInternal;f.once=f.onceInternal;f.un=f.unInternal;f.revision_=0;return f}u(l,m);l.prototype.changed=function(){++this.revision_;this.dispatchEvent(p.default.CHANGE)};
l.prototype.getRevision=function(){return this.revision_};l.prototype.onInternal=function(f,g){if(Array.isArray(f)){for(var d=f.length,b=Array(d),c=0;c<d;++c)b[c]=(0,A.listen)(this,f[c],g);return b}return(0,A.listen)(this,f,g)};l.prototype.onceInternal=function(f,g){if(Array.isArray(f)){var d=f.length;var b=Array(d);for(var c=0;c<d;++c)b[c]=(0,A.listenOnce)(this,f[c],g)}else b=(0,A.listenOnce)(this,f,g);return g.ol_key=b};l.prototype.unInternal=function(f,g){var d=g.ol_key;if(d)k(d);else if(Array.isArray(f)){d=
0;for(var b=f.length;d<b;++d)this.removeEventListener(f[d],g)}else this.removeEventListener(f,g)};return l}(ra.default);B.default=z};
shadow$provide[86]=function(ra,z,cb,B){function v(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.ObjectEvent=void 0;ra=v(z(79));var k=v(z(80));cb=v(z(85));var p=z(81),A=z(68),u=function(){var l=function(f,g){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}
if("function"!==typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}(),m=function(l){function f(g,d,b){g=l.call(this,g)||this;g.key=d;g.oldValue=b;return g}u(f,l);return f}(ra.default);B.ObjectEvent=m;z=function(l){function f(g){var d=l.call(this)||this;(0,A.getUid)(d);d.values_=null;void 0!==g&&d.setProperties(g);return d}u(f,l);f.prototype.get=function(g){var d;this.values_&&
this.values_.hasOwnProperty(g)&&(d=this.values_[g]);return d};f.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]};f.prototype.getProperties=function(){return this.values_&&(0,p.assign)({},this.values_)||{}};f.prototype.hasProperties=function(){return!!this.values_};f.prototype.notify=function(g,d){var b="change:".concat(g);this.hasListener(b)&&this.dispatchEvent(new m(b,g,d));b=k.default.PROPERTYCHANGE;this.hasListener(b)&&this.dispatchEvent(new m(b,g,d))};f.prototype.addChangeListener=
function(g,d){this.addEventListener("change:".concat(g),d)};f.prototype.removeChangeListener=function(g,d){this.removeEventListener("change:".concat(g),d)};f.prototype.set=function(g,d,b){var c=this.values_||(this.values_={});b?c[g]=d:(b=c[g],c[g]=d,b!==d&&this.notify(g,b))};f.prototype.setProperties=function(g,d){for(var b in g)this.set(b,g[b],d)};f.prototype.applyProperties=function(g){g.values_&&(0,p.assign)(this.values_||(this.values_={}),g.values_)};f.prototype.unset=function(g,d){if(this.values_&&
g in this.values_){var b=this.values_[g];delete this.values_[g];(0,p.isEmpty)(this.values_)&&(this.values_=null);d||this.notify(g,b)}};return f}(cb.default);B.default=z};
shadow$provide[87]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}};
shadow$provide[88]=function(ra,z,cb,B){function v(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(86));var k=v(z(87)),p=z(68),A=z(71),u=z(81),m=z(76),l=function(){var f=function(g,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};return f(g,d)};return function(g,d){function b(){this.constructor=g}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(g,d);g.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}();z=function(f){function g(d){var b=f.call(this)||this;b.background_=d.background;var c=(0,u.assign)({},d);"object"===typeof d.properties&&(delete c.properties,(0,u.assign)(c,d.properties));c[k.default.OPACITY]=void 0!==d.opacity?d.opacity:1;(0,A.assert)("number"===typeof c[k.default.OPACITY],64);c[k.default.VISIBLE]=
void 0!==d.visible?d.visible:!0;c[k.default.Z_INDEX]=d.zIndex;c[k.default.MAX_RESOLUTION]=void 0!==d.maxResolution?d.maxResolution:Infinity;c[k.default.MIN_RESOLUTION]=void 0!==d.minResolution?d.minResolution:0;c[k.default.MIN_ZOOM]=void 0!==d.minZoom?d.minZoom:-Infinity;c[k.default.MAX_ZOOM]=void 0!==d.maxZoom?d.maxZoom:Infinity;b.className_=void 0!==c.className?c.className:"ol-layer";delete c.className;b.setProperties(c);b.state_=null;return b}l(g,f);g.prototype.getBackground=function(){return this.background_};
g.prototype.getClassName=function(){return this.className_};g.prototype.getLayerState=function(d){d=this.state_||{layer:this,managed:void 0===d?!0:d};var b=this.getZIndex();d.opacity=(0,m.clamp)(Math.round(100*this.getOpacity())/100,0,1);d.visible=this.getVisible();d.extent=this.getExtent();d.zIndex=void 0!==b||d.managed?b:Infinity;d.maxResolution=this.getMaxResolution();d.minResolution=Math.max(this.getMinResolution(),0);d.minZoom=this.getMinZoom();d.maxZoom=this.getMaxZoom();return this.state_=
d};g.prototype.getLayersArray=function(d){return(0,p.abstract)()};g.prototype.getLayerStatesArray=function(d){return(0,p.abstract)()};g.prototype.getExtent=function(){return this.get(k.default.EXTENT)};g.prototype.getMaxResolution=function(){return this.get(k.default.MAX_RESOLUTION)};g.prototype.getMinResolution=function(){return this.get(k.default.MIN_RESOLUTION)};g.prototype.getMinZoom=function(){return this.get(k.default.MIN_ZOOM)};g.prototype.getMaxZoom=function(){return this.get(k.default.MAX_ZOOM)};
g.prototype.getOpacity=function(){return this.get(k.default.OPACITY)};g.prototype.getSourceState=function(){return(0,p.abstract)()};g.prototype.getVisible=function(){return this.get(k.default.VISIBLE)};g.prototype.getZIndex=function(){return this.get(k.default.Z_INDEX)};g.prototype.setBackground=function(d){this.background_=d;this.changed()};g.prototype.setExtent=function(d){this.set(k.default.EXTENT,d)};g.prototype.setMaxResolution=function(d){this.set(k.default.MAX_RESOLUTION,d)};g.prototype.setMinResolution=
function(d){this.set(k.default.MIN_RESOLUTION,d)};g.prototype.setMaxZoom=function(d){this.set(k.default.MAX_ZOOM,d)};g.prototype.setMinZoom=function(d){this.set(k.default.MIN_ZOOM,d)};g.prototype.setOpacity=function(d){(0,A.assert)("number"===typeof d,64);this.set(k.default.OPACITY,d)};g.prototype.setVisible=function(d){this.set(k.default.VISIBLE,d)};g.prototype.setZIndex=function(d){this.set(k.default.Z_INDEX,d)};g.prototype.disposeInternal=function(){this.state_&&(this.state_=this.state_.layer=
null);f.prototype.disposeInternal.call(this)};return g}(ra.default);B.default=z};
shadow$provide[89]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[90]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}};
shadow$provide[91]=function(ra,z,cb,B){function v(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(B,"__esModule",{value:!0});B.inView=function(d,b){if(!d.visible)return!1;var c=b.resolution;if(c<d.minResolution||c>=d.maxResolution)return!1;b=b.zoom;return b>d.minZoom&&b<=d.maxZoom};B.default=void 0;ra=v(z(88));var k=v(z(83)),p=v(z(87)),A=v(z(89)),u=v(z(90)),m=z(71),l=z(81),f=z(84),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=
e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();z=function(d){function b(c){var a=(0,l.assign)({},c);delete a.source;a=d.call(this,a)||this;a.mapPrecomposeKey_=null;a.mapRenderKey_=null;a.sourceChangeKey_=
null;a.renderer_=null;a.rendered=!1;c.render&&(a.render=c.render);c.map&&a.setMap(c.map);a.addChangeListener(p.default.SOURCE,a.handleSourcePropertyChange_);a.setSource(c.source?c.source:null);return a}g(b,d);b.prototype.getLayersArray=function(c){c=c?c:[];c.push(this);return c};b.prototype.getLayerStatesArray=function(c){c=c?c:[];c.push(this.getLayerState());return c};b.prototype.getSource=function(){return this.get(p.default.SOURCE)||null};b.prototype.getRenderSource=function(){return this.getSource()};
b.prototype.getSourceState=function(){var c=this.getSource();return c?c.getState():u.default.UNDEFINED};b.prototype.handleSourceChange_=function(){this.changed()};b.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,f.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var c=this.getSource();c&&(this.sourceChangeKey_=(0,f.listen)(c,k.default.CHANGE,this.handleSourceChange_,this));this.changed()};b.prototype.getFeatures=function(c){return this.renderer_?this.renderer_.getFeatures(c):
new Promise(function(a){return a([])})};b.prototype.getData=function(c){return this.renderer_&&this.rendered?this.renderer_.getData(c):null};b.prototype.render=function(c,a){var e=this.getRenderer();if(e.prepareFrame(c))return this.rendered=!0,e.renderFrame(c,a)};b.prototype.unrender=function(){this.rendered=!1};b.prototype.setMapInternal=function(c){c||this.unrender();this.set(p.default.MAP,c)};b.prototype.getMapInternal=function(){return this.get(p.default.MAP)};b.prototype.setMap=function(c){this.mapPrecomposeKey_&&
((0,f.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);c||this.changed();this.mapRenderKey_&&((0,f.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);c&&(this.mapPrecomposeKey_=(0,f.listen)(c,A.default.PRECOMPOSE,function(a){a=a.frameState.layerStatesArray;var e=this.getLayerState(!1);(0,m.assert)(!a.some(function(t){return t.layer===e.layer}),67);a.push(e)},this),this.mapRenderKey_=(0,f.listen)(this,k.default.CHANGE,c.render,c),this.changed())};b.prototype.setSource=function(c){this.set(p.default.SOURCE,
c)};b.prototype.getRenderer=function(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_};b.prototype.hasRenderer=function(){return!!this.renderer_};b.prototype.createRenderer=function(){return null};b.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_);this.setSource(null);d.prototype.disposeInternal.call(this)};return b}(ra.default);B.default=z};
shadow$provide[92]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.padNumber=function(v,k,p){v=void 0!==p?v.toFixed(p):""+v;p=v.indexOf(".");p=-1===p?v.length:p;return p>k?v:Array(1+k-p).join("0")+v};B.compareVersions=function(v,k){v=(""+v).split(".");k=(""+k).split(".");for(var p=0;p<Math.max(v.length,k.length);p++){var A=parseInt(v[p]||"0",10),u=parseInt(k[p]||"0",10);if(A>u)return 1;if(u>A)return-1}return 0}};
shadow$provide[93]=function(ra,z,cb,B){function v(d,b){var c=d[0];d=d[1];var a=b[0],e=b[1];b=a[0];a=a[1];var t=e[0];e=e[1];var y=t-b,q=e-a;c=0===y&&0===q?0:(y*(c-b)+q*(d-a))/(y*y+q*q||0);0>=c?(d=b,c=a):1<=c?(d=t,c=e):(d=b+c*y,c=a+c*q);return[d,c]}function k(d,b,c){b=(0,f.modulo)(b+180,360)-180;var a=Math.abs(3600*b);c=c||0;var e=Math.pow(10,c),t=Math.floor(a/3600),y=Math.floor((a-3600*t)/60);a=Math.ceil((a-3600*t-60*y)*e)/e;60<=a&&(a=0,y+=1);60<=y&&(y=0,t+=1);return t+" "+(0,g.padNumber)(y,2)+" "+
(0,g.padNumber)(a,2,c)+""+(0==b?"":" "+d.charAt(0>b?1:0))}function p(d,b,c){return d?b.replace("{x}",d[0].toFixed(c)).replace("{y}",d[1].toFixed(c)):""}function A(d,b){var c=d[0]-b[0];d=d[1]-b[1];return c*c+d*d}function u(d,b){return p(d,"{x}, {y}",b)}function m(d,b,c){var a=b.getExtent(),e=0;b.canWrapX()&&(d[0]<a[0]||d[0]>a[2])&&(b=c||(0,l.getWidth)(a),e=Math.floor((d[0]-a[0])/b));return e}Object.defineProperty(B,"__esModule",{value:!0});B.add=function(d,b){d[0]+=+b[0];d[1]+=+b[1];return d};B.closestOnCircle=
function(d,b){var c=b.getRadius(),a=b.getCenter();b=a[0];a=a[1];var e=d[0]-b;d=d[1]-a;0===e&&0===d&&(e=1);var t=Math.sqrt(e*e+d*d);return[b+c*e/t,a+c*d/t]};B.closestOnSegment=v;B.createStringXY=function(d){return function(b){return u(b,d)}};B.degreesToStringHDMS=k;B.format=p;B.equals=function(d,b){for(var c=!0,a=d.length-1;0<=a;--a)if(d[a]!=b[a]){c=!1;break}return c};B.rotate=function(d,b){var c=Math.cos(b);b=Math.sin(b);var a=d[1]*c+d[0]*b;d[0]=d[0]*c-d[1]*b;d[1]=a;return d};B.scale=function(d,b){d[0]*=
b;d[1]*=b;return d};B.squaredDistance=A;B.distance=function(d,b){return Math.sqrt(A(d,b))};B.squaredDistanceToSegment=function(d,b){return A(d,v(d,b))};B.toStringHDMS=function(d,b){return d?k("NS",d[1],b)+" "+k("EW",d[0],b):""};B.toStringXY=u;B.wrapX=function(d,b){if(b.canWrapX()){var c=(0,l.getWidth)(b.getExtent());(b=m(d,b,c))&&(d[0]-=b*c)}return d};B.getWorldsAway=m;var l=z(75),f=z(76),g=z(92)};
shadow$provide[94]=function(ra,z,cb,B){function v(d,b){m.shared.expire()}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(d){return d&&d.__esModule?d:{default:d}}(z(65));var k=z(67),p=z(68),A=z(72),u=z(75),m=z(78),l=z(91),f=z(93),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=
b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();z=function(d){function b(c){var a=d.call(this)||this;a.map_=c;return a}g(b,d);b.prototype.dispatchRenderEvent=function(c,a){(0,p.abstract)()};b.prototype.calculateMatrices2D=function(c){var a=c.viewState,e=c.coordinateToPixelTransform,t=c.pixelToCoordinateTransform;(0,A.compose)(e,c.size[0]/2,c.size[1]/
2,1/a.resolution,-1/a.resolution,-a.rotation,-a.center[0],-a.center[1]);(0,A.makeInverse)(t,e)};b.prototype.forEachFeatureAtCoordinate=function(c,a,e,t,y,q,E,F){function w(N,U,ja,ba){return y.call(q,U,N?ja:null,ba)}var D=a.viewState,G=D.projection,L=(0,f.wrapX)(c.slice(),G),O=[[0,0]];G.canWrapX()&&t&&(t=G.getExtent(),t=(0,u.getWidth)(t),O.push([-t,0],[t,0]));t=a.layerStatesArray;G=t.length;for(var V=[],S=[],ca=0;ca<O.length;ca++)for(var ea=G-1;0<=ea;--ea){var T=t[ea],R=T.layer;if(R.hasRenderer()&&
(0,l.inView)(T,D)&&E.call(F,R)){var J=R.getRenderer();R=R.getSource();if(J&&R){R=R.getWrapX()?L:c;T=w.bind(null,T.managed);S[0]=R[0]+O[ca][0];S[1]=R[1]+O[ca][1];var r=J.forEachFeatureAtCoordinate(S,a,e,T,V)}if(r)return r}}if(0!==V.length){var C=1/V.length;V.forEach(function(N,U){return N.distanceSq+=U*C});V.sort(function(N,U){return N.distanceSq-U.distanceSq});V.some(function(N){return r=N.callback(N.feature,N.layer,N.geometry)});return r}};b.prototype.forEachLayerAtPixel=function(c,a,e,t,y){return(0,p.abstract)()};
b.prototype.hasFeatureAtCoordinate=function(c,a,e,t,y,q){return void 0!==this.forEachFeatureAtCoordinate(c,a,e,t,k.TRUE,this,y,q)};b.prototype.getMap=function(){return this.map_};b.prototype.renderFrame=function(c){(0,p.abstract)()};b.prototype.scheduleExpireIconCache=function(c){m.shared.canExpireCache()&&c.postRenderFunctions.push(v)};return b}(ra.default);B.default=z};
shadow$provide[95]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(k){return k&&k.__esModule?k:{default:k}}(z(79));var v=function(){var k=function(p,A){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(u[l]=m[l])};return k(p,A)};return function(p,A){function u(){this.constructor=p}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+
String(A)+" is not a constructor or null");k(p,A);p.prototype=null===A?Object.create(A):(u.prototype=A.prototype,new u)}}();ra=function(k){function p(A,u,m,l){A=k.call(this,A)||this;A.inversePixelTransform=u;A.frameState=m;A.context=l;return A}v(p,k);return p}(ra.default);B.default=ra};
shadow$provide[96]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.cssOpacity=function(p){return 1===p?"":String(Math.round(100*p)/100)};B.getFontParameters=B.CLASS_COLLAPSED=B.CLASS_CONTROL=B.CLASS_UNSUPPORTED=B.CLASS_UNSELECTABLE=B.CLASS_SELECTABLE=B.CLASS_HIDDEN=void 0;B.CLASS_HIDDEN="ol-hidden";B.CLASS_SELECTABLE="ol-selectable";B.CLASS_UNSELECTABLE="ol-unselectable";B.CLASS_UNSUPPORTED="ol-unsupported";B.CLASS_CONTROL="ol-control";B.CLASS_COLLAPSED="ol-collapsed";var v=
RegExp("^\\s*(?\x3d(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$","i"),k="style variant weight size lineHeight family".split(" ");B.getFontParameters=function(p){p=p.match(v);if(!p)return null;
for(var A={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},u=0,m=k.length;u<m;++u){var l=p[u+1];void 0!==l&&(A[k[u]]=l)}A.families=A.family.split(/,\s?/);return A}};
shadow$provide[97]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.createCanvasContext2D=function(k,p,A,u){A=A&&A.length?A.shift():v.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(k||300,p||300):document.createElement("canvas");k&&(A.width=k);p&&(A.height=p);return A.getContext("2d",u)};B.outerWidth=function(k){var p=k.offsetWidth;k=getComputedStyle(k);return p+=parseInt(k.marginLeft,10)+parseInt(k.marginRight,10)};B.outerHeight=function(k){var p=k.offsetHeight;k=getComputedStyle(k);
return p+=parseInt(k.marginTop,10)+parseInt(k.marginBottom,10)};B.replaceNode=function(k,p){var A=p.parentNode;A&&A.replaceChild(k,p)};B.removeNode=function(k){return k&&k.parentNode?k.parentNode.removeChild(k):null};B.removeChildren=function(k){for(;k.lastChild;)k.removeChild(k.lastChild)};B.replaceChildren=function(k,p){for(var A=k.childNodes,u=0;;++u){var m=A[u],l=p[u];if(!m&&!l)break;m!==l&&(m?l?k.insertBefore(l,m):(k.removeChild(m),--u):k.appendChild(l))}};var v=z(69)};
shadow$provide[98]=function(ra,z,cb,B){function v(a){return a&&a.__esModule?a:{default:a}}function k(a,e){g||(g=(0,m.createCanvasContext2D)(1,1));a!=d&&(g.font=a,d=g.font);return g.measureText(e)}function p(a,e){return k(a,e).width}Object.defineProperty(B,"__esModule",{value:!0});B.measureTextWidth=p;B.measureAndCacheTextWidth=function(a,e,t){if(e in t)return t[e];a=p(a,e);return t[e]=a};B.getTextDimensions=function(a,e){for(var t=[],y=[],q=[],E=0,F=0,w=0,D=0,G=0,L=e.length;G<=L;G+=2){var O=e[G];
if("\n"===O||G===L)E=Math.max(E,F),q.push(F),F=0,w+=D;else{var V=e[G+1]||a.font;O=p(V,O);t.push(O);F+=O;V=c(V);y.push(V);D=Math.max(D,V)}}return{width:E,height:w,widths:t,heights:y,lineWidths:q}};B.rotateAtOffset=function(a,e,t,y){0!==e&&(a.translate(t,y),a.rotate(e),a.translate(-t,-y))};B.drawImageOrLabel=function(a,e,t,y,q,E,F,w,D,G,L){a.save();1!==t&&(a.globalAlpha*=t);e&&a.setTransform.apply(a,e);if(y.contextInstructions)for(a.translate(D,G),a.scale(L[0],L[1]),e=y.contextInstructions,t=0,y=e.length;t<
y;t+=2)Array.isArray(e[t+1])?a[e[t]].apply(a,e[t+1]):a[e[t]]=e[t+1];else 0>L[0]||0>L[1]?(a.translate(D,G),a.scale(L[0],L[1]),a.drawImage(y,q,E,F,w,0,0,F,w)):a.drawImage(y,q,E,F,w,D,G,F*L[0],w*L[1]);a.restore()};B.measureTextHeight=B.registerFont=B.textHeights=B.labelCache=B.checkedFonts=B.defaultLineWidth=B.defaultPadding=B.defaultTextBaseline=B.defaultTextAlign=B.defaultStrokeStyle=B.defaultMiterLimit=B.defaultLineJoin=B.defaultLineDashOffset=B.defaultLineDash=B.defaultLineCap=B.defaultFillStyle=
B.defaultFont=void 0;ra=v(z(86));cb=v(z(82));var A=z(69),u=z(81),m=z(97),l=z(96);B.defaultFont="10px sans-serif";B.defaultFillStyle="#000";B.defaultLineCap="round";B.defaultLineDash=[];B.defaultLineDashOffset=0;B.defaultLineJoin="round";B.defaultMiterLimit=10;B.defaultStrokeStyle="#000";B.defaultTextAlign="center";B.defaultTextBaseline="middle";B.defaultPadding=[0,0,0,0];B.defaultLineWidth=1;var f=new ra.default;B.checkedFonts=f;z=new cb.default;B.labelCache=z;z.setSize=function(){console.warn("labelCache is deprecated.")};
var g=null,d,b={};B.textHeights=b;z=function(){function a(F,w,D){for(var G=!0,L=0;L<y;++L){var O=t[L];E=p(F+" "+w+" 32px "+O,"wmytzilWMYTZIL@#/\x26?$%10");D!=O&&(O=p(F+" "+w+" 32px "+D+","+O,"wmytzilWMYTZIL@#/\x26?$%10"),G=G&&O!=E)}return G?!0:!1}function e(){for(var F=!0,w=f.getKeys(),D=0,G=w.length;D<G;++D){var L=w[D];100>f.get(L)&&(a.apply(this,L.split("\n"))?((0,u.clear)(b),g=null,d=void 0,f.set(L,100)):(f.set(L,f.get(L)+1,!0),F=!1))}F&&(clearInterval(q),q=void 0)}var t=["monospace","serif"],
y=t.length,q,E;return function(F){if(F=(0,l.getFontParameters)(F))for(var w=F.families,D=0,G=w.length;D<G;++D){var L=w[D],O=F.style+"\n"+F.weight+"\n"+L;void 0===f.get(O)&&(f.set(O,100,!0),a(F.style,F.weight,L)||(f.set(O,0,!0),void 0===q&&(q=setInterval(e,32))))}}}();B.registerFont=z;var c=function(){var a;return function(e){var t=b[e];if(void 0==t){if(A.WORKER_OFFSCREEN_CANVAS){t=(0,l.getFontParameters)(e);var y=k(e,"g");t=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(y.actualBoundingBoxAscent+
y.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=e,document.body.appendChild(a),t=a.offsetHeight,document.body.removeChild(a);b[e]=t}return t}}();B.measureTextHeight=c};
shadow$provide[99]=function(ra,z,cb,B){function v(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(94));var k=v(z(80)),p=v(z(95)),A=v(z(89)),u=v(z(90)),m=z(96),l=z(98),f=z(91),g=z(84),d=z(97),b=function(){var c=function(a,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,y){t.__proto__=y}||function(t,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(t[q]=y[q])};return c(a,e)};return function(a,e){function t(){this.constructor=
a}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c(a,e);a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}();z=function(c){function a(e){var t=c.call(this,e)||this;t.fontChangeListenerKey_=(0,g.listen)(l.checkedFonts,k.default.PROPERTYCHANGE,e.redrawText.bind(e));t.element_=document.createElement("div");var y=t.element_.style;y.position="absolute";y.width="100%";y.height="100%";y.zIndex="0";t.element_.className=
m.CLASS_UNSELECTABLE+" ol-layers";e=e.getViewport();e.insertBefore(t.element_,e.firstChild||null);t.children_=[];t.renderedVisible_=!0;return t}b(a,c);a.prototype.dispatchRenderEvent=function(e,t){var y=this.getMap();y.hasListener(e)&&(e=new p.default(e,void 0,t),y.dispatchEvent(e))};a.prototype.disposeInternal=function(){(0,g.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);c.prototype.disposeInternal.call(this)};a.prototype.renderFrame=function(e){if(e){this.calculateMatrices2D(e);
this.dispatchRenderEvent(A.default.PRECOMPOSE,e);var t=e.layerStatesArray.sort(function(O,V){return O.zIndex-V.zIndex}),y=e.viewState;this.children_.length=0;for(var q=[],E=null,F=0,w=t.length;F<w;++F){var D=t[F];e.layerIndex=F;var G=D.layer,L=G.getSourceState();if(!(0,f.inView)(D,y)||L!=u.default.READY&&L!=u.default.UNDEFINED)G.unrender();else if(D=G.render(e,E))D!==E&&(this.children_.push(D),E=D),"getDeclutter"in G&&q.push(G)}for(F=q.length-1;0<=F;--F)q[F].renderDeclutter(e);(0,d.replaceChildren)(this.element_,
this.children_);this.dispatchRenderEvent(A.default.POSTCOMPOSE,e);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)};a.prototype.forEachLayerAtPixel=function(e,t,y,q,E){for(var F=t.viewState,w=t.layerStatesArray,D=w.length-1;0<=D;--D){var G=w[D],L=G.layer;if(L.hasRenderer()&&(0,f.inView)(G,F)&&E(L)&&(G=L.getRenderer().getDataAtPixel(e,t,y))&&(L=q(L,
G)))return L}};return a}(ra.default);B.default=z};
shadow$provide[100]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={ADD:"add",REMOVE:"remove"}};
shadow$provide[101]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.CollectionEvent=void 0;var k=v(z(70));ra=v(z(86));var p=v(z(100));z=v(z(79));var A=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=
l}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}(),u=function(m){function l(f,g,d){f=m.call(this,f)||this;f.element=g;f.index=d;return f}A(l,m);return l}(z.default);B.CollectionEvent=u;z=function(m){function l(f,g){var d=m.call(this)||this;d.unique_=!!(g||{}).unique;d.array_=f?f:[];if(d.unique_)for(f=0,g=d.array_.length;f<g;++f)d.assertUnique_(d.array_[f],
f);d.updateLength_();return d}A(l,m);l.prototype.clear=function(){for(;0<this.getLength();)this.pop()};l.prototype.extend=function(f){for(var g=0,d=f.length;g<d;++g)this.push(f[g]);return this};l.prototype.forEach=function(f){for(var g=this.array_,d=0,b=g.length;d<b;++d)f(g[d],d,g)};l.prototype.getArray=function(){return this.array_};l.prototype.item=function(f){return this.array_[f]};l.prototype.getLength=function(){return this.get("length")};l.prototype.insertAt=function(f,g){this.unique_&&this.assertUnique_(g);
this.array_.splice(f,0,g);this.updateLength_();this.dispatchEvent(new u(p.default.ADD,g,f))};l.prototype.pop=function(){return this.removeAt(this.getLength()-1)};l.prototype.push=function(f){this.unique_&&this.assertUnique_(f);var g=this.getLength();this.insertAt(g,f);return this.getLength()};l.prototype.remove=function(f){for(var g=this.array_,d=0,b=g.length;d<b;++d)if(g[d]===f)return this.removeAt(d)};l.prototype.removeAt=function(f){var g=this.array_[f];this.array_.splice(f,1);this.updateLength_();
this.dispatchEvent(new u(p.default.REMOVE,g,f));return g};l.prototype.setAt=function(f,g){var d=this.getLength();if(f<d)this.unique_&&this.assertUnique_(g,f),d=this.array_[f],this.array_[f]=g,this.dispatchEvent(new u(p.default.REMOVE,d,f)),this.dispatchEvent(new u(p.default.ADD,g,f));else{for(;d<f;++d)this.insertAt(d,void 0);this.insertAt(f,g)}};l.prototype.updateLength_=function(){this.set("length",this.array_.length)};l.prototype.assertUnique_=function(f,g){for(var d=0,b=this.array_.length;d<b;++d)if(this.array_[d]===
f&&d!==g)throw new k.default(58);};return l}(ra.default);B.default=z};
shadow$provide[102]=function(ra,z,cb,B){function v(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.GroupEvent=void 0;ra=v(z(88));var k=v(z(101)),p=v(z(100));cb=v(z(79));var A=v(z(83)),u=v(z(80)),m=v(z(90)),l=z(71),f=z(81),g=z(75),d=z(68),b=z(84),c=function(){var e=function(t,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,E){q.__proto__=E}||function(q,E){for(var F in E)Object.prototype.hasOwnProperty.call(E,F)&&(q[F]=E[F])};
return e(t,y)};return function(t,y){function q(){this.constructor=t}if("function"!==typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");e(t,y);t.prototype=null===y?Object.create(y):(q.prototype=y.prototype,new q)}}(),a=function(e){function t(y,q){y=e.call(this,y)||this;y.layer=q;return y}c(t,e);return t}(cb.default);B.GroupEvent=a;z=function(e){function t(y){var q=y||{};y=(0,f.assign)({},q);delete y.layers;q=q.layers;y=e.call(this,y)||this;y.layersListenerKeys_=
[];y.listenerKeys_={};y.addChangeListener("layers",y.handleLayersChanged_);q?Array.isArray(q)?q=new k.default(q.slice(),{unique:!0}):(0,l.assert)("function"===typeof q.getArray,43):q=new k.default(void 0,{unique:!0});y.setLayers(q);return y}c(t,e);t.prototype.handleLayerChange_=function(){this.changed()};t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(b.unlistenByKey);this.layersListenerKeys_.length=0;var y=this.getLayers();this.layersListenerKeys_.push((0,b.listen)(y,
p.default.ADD,this.handleLayersAdd_,this),(0,b.listen)(y,p.default.REMOVE,this.handleLayersRemove_,this));for(var q in this.listenerKeys_)this.listenerKeys_[q].forEach(b.unlistenByKey);(0,f.clear)(this.listenerKeys_);y=y.getArray();q=0;for(var E=y.length;q<E;q++){var F=y[q];this.registerLayerListeners_(F);this.dispatchEvent(new a("addlayer",F))}this.changed()};t.prototype.registerLayerListeners_=function(y){var q=[(0,b.listen)(y,u.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,b.listen)(y,
A.default.CHANGE,this.handleLayerChange_,this)];y instanceof t&&q.push((0,b.listen)(y,"addlayer",this.handleLayerGroupAdd_,this),(0,b.listen)(y,"removelayer",this.handleLayerGroupRemove_,this));this.listenerKeys_[(0,d.getUid)(y)]=q};t.prototype.handleLayerGroupAdd_=function(y){this.dispatchEvent(new a("addlayer",y.layer))};t.prototype.handleLayerGroupRemove_=function(y){this.dispatchEvent(new a("removelayer",y.layer))};t.prototype.handleLayersAdd_=function(y){y=y.element;this.registerLayerListeners_(y);
this.dispatchEvent(new a("addlayer",y));this.changed()};t.prototype.handleLayersRemove_=function(y){y=y.element;var q=(0,d.getUid)(y);this.listenerKeys_[q].forEach(b.unlistenByKey);delete this.listenerKeys_[q];this.dispatchEvent(new a("removelayer",y));this.changed()};t.prototype.getLayers=function(){return this.get("layers")};t.prototype.setLayers=function(y){var q=this.getLayers();if(q){q=q.getArray();for(var E=0,F=q.length;E<F;++E)this.dispatchEvent(new a("removelayer",q[E]))}this.set("layers",
y)};t.prototype.getLayersArray=function(y){var q=void 0!==y?y:[];this.getLayers().forEach(function(E){E.getLayersArray(q)});return q};t.prototype.getLayerStatesArray=function(y){var q=void 0!==y?y:[],E=q.length;this.getLayers().forEach(function(G){G.getLayerStatesArray(q)});var F=this.getLayerState(),w=F.zIndex;y||void 0!==F.zIndex||(w=0);y=E;for(E=q.length;y<E;y++){var D=q[y];D.opacity*=F.opacity;D.visible=D.visible&&F.visible;D.maxResolution=Math.min(D.maxResolution,F.maxResolution);D.minResolution=
Math.max(D.minResolution,F.minResolution);D.minZoom=Math.max(D.minZoom,F.minZoom);D.maxZoom=Math.min(D.maxZoom,F.maxZoom);void 0!==F.extent&&(D.extent=void 0!==D.extent?(0,g.getIntersection)(D.extent,F.extent):F.extent);void 0===D.zIndex&&(D.zIndex=w)}return q};t.prototype.getSourceState=function(){return m.default.READY};return t}(ra.default);B.default=z};
shadow$provide[103]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(k){return k&&k.__esModule?k:{default:k}}(z(79));var v=function(){var k=function(p,A){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(u[l]=m[l])};return k(p,A)};return function(p,A){function u(){this.constructor=p}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+
String(A)+" is not a constructor or null");k(p,A);p.prototype=null===A?Object.create(A):(u.prototype=A.prototype,new u)}}();ra=function(k){function p(A,u,m){A=k.call(this,A)||this;A.map=u;A.frameState=void 0!==m?m:null;return A}v(p,k);return p}(ra.default);B.default=ra};
shadow$provide[104]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(k){return k&&k.__esModule?k:{default:k}}(z(103));var v=function(){var k=function(p,A){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(u[l]=m[l])};return k(p,A)};return function(p,A){function u(){this.constructor=p}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+
String(A)+" is not a constructor or null");k(p,A);p.prototype=null===A?Object.create(A):(u.prototype=A.prototype,new u)}}();ra=function(k){function p(A,u,m,l,f){A=k.call(this,A,u,f)||this;A.originalEvent=m;A.pixel_=null;A.coordinate_=null;A.dragging=void 0!==l?l:!1;return A}v(p,k);Object.defineProperty(p.prototype,"pixel",{get:function(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_},set:function(A){this.pixel_=A},enumerable:!1,configurable:!0});Object.defineProperty(p.prototype,
"coordinate",{get:function(){this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));return this.coordinate_},set:function(A){this.coordinate_=A},enumerable:!1,configurable:!0});p.prototype.preventDefault=function(){k.prototype.preventDefault.call(this);"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()};p.prototype.stopPropagation=function(){k.prototype.stopPropagation.call(this);"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()};
return p}(ra.default);B.default=ra};
shadow$provide[105]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=(ra=z(83))&&ra.__esModule?ra:{default:ra};B.default={SINGLECLICK:"singleclick",CLICK:ra.default.CLICK,DBLCLICK:ra.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[106]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[107]=function(ra,z,cb,B){function v(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(83)),p=v(z(104)),A=v(z(105)),u=v(z(106));ra=v(z(82));var m=z(69),l=z(67),f=z(84),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=
b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();z=function(d){function b(c,a){var e=d.call(this,c)||this;e.map_=c;e.emulateClicks_=!1;e.dragging_=!1;e.dragListenerKeys_=[];e.moveTolerance_=void 0===a?1:a;e.down_=null;c=e.map_.getViewport();e.activePointers_=0;e.trackedTouches_={};e.element_=c;e.pointerdownListenerKey_=(0,f.listen)(c,u.default.POINTERDOWN,
e.handlePointerDown_,e);e.relayedListenerKey_=(0,f.listen)(c,u.default.POINTERMOVE,e.relayEvent_,e);e.boundHandleTouchMove_=e.handleTouchMove_.bind(e);e.element_.addEventListener(k.default.TOUCHMOVE,e.boundHandleTouchMove_,m.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);return e}g(b,d);b.prototype.emulateClick_=function(c){var a=new p.default(A.default.CLICK,this.map_,c);this.dispatchEvent(a);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,a=new p.default(A.default.DBLCLICK,
this.map_,c),this.dispatchEvent(a)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new p.default(A.default.SINGLECLICK,this.map_,c);this.dispatchEvent(e)}.bind(this),250)};b.prototype.updateActivePointers_=function(c){c.type==A.default.POINTERUP||c.type==A.default.POINTERCANCEL?delete this.trackedTouches_[c.pointerId]:c.type==A.default.POINTERDOWN&&(this.trackedTouches_[c.pointerId]=!0);this.activePointers_=Object.keys(this.trackedTouches_).length};b.prototype.handlePointerUp_=
function(c){this.updateActivePointers_(c);var a=new p.default(A.default.POINTERUP,this.map_,c);this.dispatchEvent(a);this.emulateClicks_&&!a.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(c)&&this.emulateClick_(this.down_);0===this.activePointers_&&(this.dragListenerKeys_.forEach(f.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)};b.prototype.isMouseActionButton_=function(c){return 0===c.button};b.prototype.handlePointerDown_=function(c){this.emulateClicks_=
0===this.activePointers_;this.updateActivePointers_(c);var a=new p.default(A.default.POINTERDOWN,this.map_,c);this.dispatchEvent(a);this.down_={};for(var e in c)a=c[e],this.down_[e]="function"===typeof a?l.VOID:a;0===this.dragListenerKeys_.length&&(c=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,f.listen)(c,A.default.POINTERMOVE,this.handlePointerMove_,this),(0,f.listen)(c,A.default.POINTERUP,this.handlePointerUp_,this),(0,f.listen)(this.element_,A.default.POINTERCANCEL,this.handlePointerUp_,
this)),this.element_.getRootNode&&this.element_.getRootNode()!==c&&this.dragListenerKeys_.push((0,f.listen)(this.element_.getRootNode(),A.default.POINTERUP,this.handlePointerUp_,this)))};b.prototype.handlePointerMove_=function(c){this.isMoving_(c)&&(this.dragging_=!0,c=new p.default(A.default.POINTERDRAG,this.map_,c,this.dragging_),this.dispatchEvent(c))};b.prototype.relayEvent_=function(c){this.originalPointerMoveEvent_=c;var a=!(!this.down_||!this.isMoving_(c));this.dispatchEvent(new p.default(c.type,
this.map_,c,a))};b.prototype.handleTouchMove_=function(c){var a=this.originalPointerMoveEvent_;a&&!a.defaultPrevented||"boolean"===typeof c.cancelable&&!0!==c.cancelable||c.preventDefault()};b.prototype.isMoving_=function(c){return this.dragging_||Math.abs(c.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(c.clientY-this.down_.clientY)>this.moveTolerance_};b.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,f.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=
null);this.element_.removeEventListener(k.default.TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&((0,f.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(f.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;d.prototype.disposeInternal.call(this)};return b}(ra.default);B.default=z};
shadow$provide[108]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}};
shadow$provide[109]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[110]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=B.DROP=void 0;var v=z(71),k=z(81);B.DROP=Infinity;ra=function(){function p(A,u){this.priorityFunction_=A;this.keyFunction_=u;this.elements_=[];this.priorities_=[];this.queuedElements_={}}p.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;(0,k.clear)(this.queuedElements_)};p.prototype.dequeue=function(){var A=this.elements_,u=this.priorities_,m=A[0];1==A.length?(A.length=0,
u.length=0):(A[0]=A.pop(),u[0]=u.pop(),this.siftUp_(0));A=this.keyFunction_(m);delete this.queuedElements_[A];return m};p.prototype.enqueue=function(A){(0,v.assert)(!(this.keyFunction_(A)in this.queuedElements_),31);var u=this.priorityFunction_(A);return Infinity!=u?(this.elements_.push(A),this.priorities_.push(u),this.queuedElements_[this.keyFunction_(A)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};p.prototype.getCount=function(){return this.elements_.length};p.prototype.getLeftChildIndex_=
function(A){return 2*A+1};p.prototype.getRightChildIndex_=function(A){return 2*A+2};p.prototype.getParentIndex_=function(A){return A-1>>1};p.prototype.heapify_=function(){var A;for(A=(this.elements_.length>>1)-1;0<=A;A--)this.siftUp_(A)};p.prototype.isEmpty=function(){return 0===this.elements_.length};p.prototype.isKeyQueued=function(A){return A in this.queuedElements_};p.prototype.isQueued=function(A){return this.isKeyQueued(this.keyFunction_(A))};p.prototype.siftUp_=function(A){for(var u=this.elements_,
m=this.priorities_,l=u.length,f=u[A],g=m[A],d=A;A<l>>1;){var b=this.getLeftChildIndex_(A),c=this.getRightChildIndex_(A);b=c<l&&m[c]<m[b]?c:b;u[A]=u[b];m[A]=m[b];A=b}u[A]=f;m[A]=g;this.siftDown_(d,A)};p.prototype.siftDown_=function(A,u){for(var m=this.elements_,l=this.priorities_,f=m[u],g=l[u];u>A;){var d=this.getParentIndex_(u);if(l[d]>g)m[u]=m[d],l[u]=l[d],u=d;else break}m[u]=f;l[u]=g};p.prototype.reprioritize=function(){var A=this.priorityFunction_,u=this.elements_,m=this.priorities_,l=0,f=u.length,
g;for(g=0;g<f;++g){var d=u[g];var b=A(d);Infinity==b?delete this.queuedElements_[this.keyFunction_(d)]:(m[l]=b,u[l++]=d)}u.length=l;m.length=l;this.heapify_()};return p}();B.default=ra};
shadow$provide[111]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[112]=function(ra,z,cb,B){function v(l){if("function"!==typeof WeakMap)return null;var f=new WeakMap,g=new WeakMap;return(v=function(d){return d?g:f})(l)}function k(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(B,"__esModule",{value:!0});B.getTilePriority=function(l,f,g,d,b){if(!(l&&g in l.wantedTiles&&l.wantedTiles[g][f.getKey()]))return A.DROP;f=l.viewState.center;l=d[0]-f[0];d=d[1]-f[1];return 65536*Math.log(b)+Math.sqrt(l*l+d*d)/b};B.default=void 0;var p=k(z(83)),
A=function(l,f){if(!f&&l&&l.__esModule)return l;if(null===l||"object"!==typeof l&&"function"!==typeof l)return{default:l};if((f=v(f))&&f.has(l))return f.get(l);var g={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,b;for(b in l)if("default"!==b&&Object.prototype.hasOwnProperty.call(l,b)){var c=d?Object.getOwnPropertyDescriptor(l,b):null;c&&(c.get||c.set)?Object.defineProperty(g,b,c):g[b]=l[b]}g.default=l;f&&f.set(l,g);return g}(z(110)),u=k(z(111)),m=function(){var l=function(f,g){l=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}if("function"!==typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();ra=function(l){function f(g,d){var b=l.call(this,function(c){return g.apply(null,c)},
function(c){return c[0].getKey()})||this;b.boundHandleTileChange_=b.handleTileChange.bind(b);b.tileChangeCallback_=d;b.tilesLoading_=0;b.tilesLoadingKeys_={};return b}m(f,l);f.prototype.enqueue=function(g){var d=l.prototype.enqueue.call(this,g);d&&g[0].addEventListener(p.default.CHANGE,this.boundHandleTileChange_);return d};f.prototype.getTilesLoading=function(){return this.tilesLoading_};f.prototype.handleTileChange=function(g){g=g.target;var d=g.getState();if(d===u.default.LOADED||d===u.default.ERROR||
d===u.default.EMPTY)g.removeEventListener(p.default.CHANGE,this.boundHandleTileChange_),g=g.getKey(),g in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[g],--this.tilesLoading_),this.tileChangeCallback_()};f.prototype.loadMoreTiles=function(g,d){for(var b=0,c,a,e;this.tilesLoading_<g&&b<d&&0<this.getCount();)a=this.dequeue()[0],e=a.getKey(),c=a.getState(),c!==u.default.IDLE||e in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[e]=!0,++this.tilesLoading_,++b,a.load())};return f}(A.default);
B.default=ra};
shadow$provide[113]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}};
shadow$provide[114]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.fromCode=function(k){return v[k]};B.default=B.METERS_PER_UNIT=void 0;ra={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var v={9001:ra.METERS,9002:ra.FEET,9003:ra.USFEET,9101:ra.RADIANS,9102:ra.DEGREES};z={};B.METERS_PER_UNIT=z;z[ra.RADIANS]=6370997/(2*Math.PI);z[ra.DEGREES]=12741994*Math.PI/360;z[ra.FEET]=.3048;z[ra.METERS]=1;z[ra.USFEET]=
1200/3937;B.default=ra};
shadow$provide[115]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={ANIMATING:0,INTERACTING:1}};
shadow$provide[116]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[117]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.DEFAULT_MAX_ZOOM=42;B.DEFAULT_TILE_SIZE=256};
shadow$provide[118]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var v=z(114);ra=function(){function k(p){this.code_=p.code;this.units_=p.units;this.extent_=void 0!==p.extent?p.extent:null;this.worldExtent_=void 0!==p.worldExtent?p.worldExtent:null;this.axisOrientation_=void 0!==p.axisOrientation?p.axisOrientation:"enu";this.global_=void 0!==p.global?p.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=p.getPointResolution;
this.defaultTileGrid_=null;this.metersPerUnit_=p.metersPerUnit}k.prototype.canWrapX=function(){return this.canWrapX_};k.prototype.getCode=function(){return this.code_};k.prototype.getExtent=function(){return this.extent_};k.prototype.getUnits=function(){return this.units_};k.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||v.METERS_PER_UNIT[this.units_]};k.prototype.getWorldExtent=function(){return this.worldExtent_};k.prototype.getAxisOrientation=function(){return this.axisOrientation_};
k.prototype.isGlobal=function(){return this.global_};k.prototype.setGlobal=function(p){this.global_=p;this.canWrapX_=!(!p||!this.extent_)};k.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};k.prototype.setDefaultTileGrid=function(p){this.defaultTileGrid_=p};k.prototype.setExtent=function(p){this.extent_=p;this.canWrapX_=!(!this.global_||!p)};k.prototype.setWorldExtent=function(p){this.worldExtent_=p};k.prototype.setGetPointResolution=function(p){this.getPointResolutionFunc_=p};
k.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};return k}();B.default=ra};
shadow$provide[119]=function(ra,z,cb,B){function v(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(B,"__esModule",{value:!0});B.fromEPSG4326=function(g,d,b){var c=g.length;b=1<b?b:2;void 0===d&&(d=2<b?g.slice():Array(c));for(var a=0;a<c;a+=b){d[a]=u*g[a]/180;var e=6378137*Math.log(Math.tan(Math.PI*(+g[a+1]+90)/360));e>f?e=f:e<-f&&(e=-f);d[a+1]=e}return d};B.toEPSG4326=function(g,d,b){var c=g.length;b=1<b?b:2;void 0===d&&(d=2<b?g.slice():Array(c));for(var a=0;a<c;a+=b)d[a]=180*g[a]/u,
d[a+1]=360*Math.atan(Math.exp(g[a+1]/6378137))/Math.PI-90;return d};B.PROJECTIONS=B.MAX_SAFE_Y=B.WORLD_EXTENT=B.EXTENT=B.HALF_SIZE=B.RADIUS=void 0;ra=v(z(118));var k=v(z(114)),p=z(76),A=function(){var g=function(d,b){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e])};return g(d,b)};return function(d,b){function c(){this.constructor=d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+
String(b)+" is not a constructor or null");g(d,b);d.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}();B.RADIUS=6378137;var u=6378137*Math.PI;B.HALF_SIZE=u;var m=[-u,-u,u,u];B.EXTENT=m;var l=[-180,-85,180,85];B.WORLD_EXTENT=l;var f=6378137*Math.log(Math.tan(Math.PI/2));B.MAX_SAFE_Y=f;z=function(g){function d(b){return g.call(this,{code:b,units:k.default.METERS,extent:m,global:!0,worldExtent:l,getPointResolution:function(c,a){return c/(0,p.cosh)(a[1]/6378137)}})||this}A(d,g);return d}(ra.default);
z=[new z("EPSG:3857"),new z("EPSG:102100"),new z("EPSG:102113"),new z("EPSG:900913"),new z("http://www.opengis.net/def/crs/EPSG/0/3857"),new z("http://www.opengis.net/gml/srs/epsg.xml#3857")];B.PROJECTIONS=z};
shadow$provide[120]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.PROJECTIONS=B.METERS_PER_UNIT=B.EXTENT=B.RADIUS=void 0;ra=v(z(118));var k=v(z(114)),p=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==
typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();B.RADIUS=6378137;var A=[-180,-90,180,90];B.EXTENT=A;var u=6378137*Math.PI/180;B.METERS_PER_UNIT=u;z=function(m){function l(f,g){return m.call(this,{code:f,units:k.default.DEGREES,extent:A,axisOrientation:g,global:!0,metersPerUnit:u,worldExtent:A})||this}p(l,m);return l}(ra.default);z=[new z("CRS:84"),new z("EPSG:4326",
"neu"),new z("urn:ogc:def:crs:OGC:1.3:CRS84"),new z("urn:ogc:def:crs:OGC:2:84"),new z("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new z("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new z("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];B.PROJECTIONS=z};
shadow$provide[121]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.clear=function(){v={}};B.get=function(k){return v[k]||v[k.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};B.add=function(k,p){v[k]=p};var v={}};
shadow$provide[122]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.clear=function(){k={}};B.add=function(p,A,u){p=p.getCode();A=A.getCode();p in k||(k[p]={});k[p][A]=u};B.remove=function(p,A){p=p.getCode();A=A.getCode();var u=k[p][A];delete k[p][A];(0,v.isEmpty)(k[p])&&delete k[p];return u};B.get=function(p,A){var u;p in k&&A in k[p]&&(u=k[p][A]);return u};var v=z(81),k={}};
shadow$provide[123]=function(ra,z,cb,B){function v(g,d,b){b=b||f;var c=(0,l.toRadians)(g[1]),a=(0,l.toRadians)(d[1]),e=(a-c)/2;g=(0,l.toRadians)(d[0]-g[0])/2;g=Math.sin(e)*Math.sin(e)+Math.sin(g)*Math.sin(g)*Math.cos(c)*Math.cos(a);return 2*b*Math.atan2(Math.sqrt(g),Math.sqrt(1-g))}function k(g,d){for(var b=0,c=0,a=g.length;c<a-1;++c)b+=v(g[c],g[c+1],d);return b}function p(g,d){var b=d||{},c=b.radius||f;b=b.projection||"EPSG:3857";var a=g.getType();a!==m.default.GEOMETRY_COLLECTION&&(g=g.clone().transform(b,
"EPSG:4326"));b=0;var e;switch(a){case m.default.POINT:case m.default.MULTI_POINT:break;case m.default.LINE_STRING:case m.default.LINEAR_RING:d=g.getCoordinates();b=k(d,c);break;case m.default.MULTI_LINE_STRING:case m.default.POLYGON:d=g.getCoordinates();g=0;for(a=d.length;g<a;++g)b+=k(d[g],c);break;case m.default.MULTI_POLYGON:d=g.getCoordinates();g=0;for(a=d.length;g<a;++g){var t=d[g];var y=0;for(e=t.length;y<e;++y)b+=k(t[y],c)}break;case m.default.GEOMETRY_COLLECTION:c=g.getGeometries();g=0;for(a=
c.length;g<a;++g)b+=p(c[g],d);break;default:throw Error("Unsupported geometry type: "+a);}return b}function A(g,d){for(var b=0,c=g.length,a=g[c-1][0],e=g[c-1][1],t=0;t<c;t++){var y=g[t][0],q=g[t][1];b+=(0,l.toRadians)(y-a)*(2+Math.sin((0,l.toRadians)(e))+Math.sin((0,l.toRadians)(q)));a=y;e=q}return b*d*d/2}function u(g,d){var b=d||{},c=b.radius||f;b=b.projection||"EPSG:3857";var a=g.getType();a!==m.default.GEOMETRY_COLLECTION&&(g=g.clone().transform(b,"EPSG:4326"));b=0;var e;switch(a){case m.default.POINT:case m.default.MULTI_POINT:case m.default.LINE_STRING:case m.default.MULTI_LINE_STRING:case m.default.LINEAR_RING:break;
case m.default.POLYGON:d=g.getCoordinates();b=Math.abs(A(d[0],c));g=1;for(a=d.length;g<a;++g)b-=Math.abs(A(d[g],c));break;case m.default.MULTI_POLYGON:d=g.getCoordinates();g=0;for(a=d.length;g<a;++g){var t=d[g];b+=Math.abs(A(t[0],c));var y=1;for(e=t.length;y<e;++y)b-=Math.abs(A(t[y],c))}break;case m.default.GEOMETRY_COLLECTION:c=g.getGeometries();g=0;for(a=c.length;g<a;++g)b+=u(c[g],d);break;default:throw Error("Unsupported geometry type: "+a);}return b}Object.defineProperty(B,"__esModule",{value:!0});
B.getDistance=v;B.getLength=p;B.getArea=u;B.offset=function(g,d,b,c){var a=c||f;c=(0,l.toRadians)(g[1]);g=(0,l.toRadians)(g[0]);d/=a;a=Math.asin(Math.sin(c)*Math.cos(d)+Math.cos(c)*Math.sin(d)*Math.cos(b));return[(0,l.toDegrees)(g+Math.atan2(Math.sin(b)*Math.sin(d)*Math.cos(c),Math.cos(d)-Math.sin(c)*Math.sin(a))),(0,l.toDegrees)(a)]};B.DEFAULT_RADIUS=void 0;var m=function(g){return g&&g.__esModule?g:{default:g}}(z(113)),l=z(76),f=6371008.8;B.DEFAULT_RADIUS=f};
shadow$provide[124]=function(ra,z,cb,B){function v(T){if("function"!==typeof WeakMap)return null;var R=new WeakMap,J=new WeakMap;return(v=function(r){return r?J:R})(T)}function k(T){ca=!(void 0===T||T)}function p(T,R,J){if(void 0!==R){J=0;for(var r=T.length;J<r;++J)R[J]=T[J];T=R}else T=T.slice();return T}function A(T,R,J){if(void 0!==R&&T!==R){J=0;for(var r=T.length;J<r;++J)R[J]=T[J];T=R}return T}function u(T){(0,D.add)(T.getCode(),T);(0,G.add)(T,T,p)}function m(T){T.forEach(u)}function l(T){return"string"===
typeof T?(0,D.get)(T):T||null}function f(T){m(T);T.forEach(function(R){T.forEach(function(J){R!==J&&(0,G.add)(R,J,p)})})}function g(T,R,J,r){T.forEach(function(C){R.forEach(function(N){(0,G.add)(C,N,J);(0,G.add)(N,C,r)})})}function d(T){return function(R,J,r){var C=R.length;r=void 0!==r?r:2;J=void 0!==J?J:Array(C);for(var N=0;N<C;N+=r){var U=T([R[N],R[N+1]]);J[N]=U[0];J[N+1]=U[1];for(U=r-1;2<=U;--U)J[N+U]=R[N+U]}return J}}function b(T,R){T=T.getCode();R=R.getCode();(R=(0,G.get)(T,R))||(R=A);return R}
function c(T,R){T=l(T);R=l(R);return b(T,R)}function a(T,R,J){return c(R,J)(T,void 0,T.length)}function e(T,R,J,r){R=c(R,J);return(0,L.applyTransform)(T,R,void 0,r)}function t(T){ea=l(T)}function y(){f(F.PROJECTIONS);f(w.PROJECTIONS);g(w.PROJECTIONS,F.PROJECTIONS,F.fromEPSG4326,F.toEPSG4326)}Object.defineProperty(B,"__esModule",{value:!0});B.disableCoordinateWarning=k;B.cloneTransform=p;B.identityTransform=A;B.addProjection=u;B.addProjections=m;B.get=l;B.getPointResolution=function(T,R,J,r){T=l(T);
var C=T.getPointResolutionFunc();if(C)R=C(R,J),r&&r!==T.getUnits()&&(T=T.getMetersPerUnit())&&(R=R*T/E.METERS_PER_UNIT[r]);else{var N=T.getUnits();N==E.default.DEGREES&&!r||r==E.default.DEGREES||(C=b(T,l("EPSG:4326")),C===A&&N!==E.default.DEGREES?R*=T.getMetersPerUnit():(R=[J[0]-R/2,J[1],J[0]+R/2,J[1],J[0],J[1]-R/2,J[0],J[1]+R/2],R=C(R,R,2),J=(0,S.getDistance)(R.slice(0,2),R.slice(2,4)),R=(0,S.getDistance)(R.slice(4,6),R.slice(6,8)),R=(J+R)/2),T=r?E.METERS_PER_UNIT[r]:T.getMetersPerUnit(),void 0!==
T&&(R/=T))}return R};B.addEquivalentProjections=f;B.addEquivalentTransforms=g;B.clearAllProjections=function(){(0,D.clear)();(0,G.clear)()};B.createProjection=function(T,R){return T?"string"===typeof T?l(T):T:l(R)};B.createTransformFromCoordinateTransform=d;B.addCoordinateTransforms=function(T,R,J,r){T=l(T);R=l(R);(0,G.add)(T,R,d(J));(0,G.add)(R,T,d(r))};B.fromLonLat=function(T,R){k();return a(T,"EPSG:4326",void 0!==R?R:"EPSG:3857")};B.toLonLat=function(T,R){T=a(T,void 0!==R?R:"EPSG:3857","EPSG:4326");
R=T[0];if(-180>R||180<R)T[0]=(0,O.modulo)(R+180,360)-180;return T};B.equivalent=function(T,R){if(T===R)return!0;var J=T.getUnits()===R.getUnits();return T.getCode()===R.getCode()?J:b(T,R)===p&&J};B.getTransformFromProjections=b;B.getTransform=c;B.transform=a;B.transformExtent=e;B.transformWithProjections=function(T,R,J){return b(R,J)(T)};B.setUserProjection=t;B.clearUserProjection=function(){ea=null};B.getUserProjection=function(){return ea};B.useGeographic=function(){t("EPSG:4326")};B.toUserCoordinate=
function(T,R){return ea?a(T,R,ea):T};B.fromUserCoordinate=function(T,R){return ea?a(T,ea,R):(ca&&!(0,V.equals)(T,[0,0])&&-180<=T[0]&&180>=T[0]&&-90<=T[1]&&90>=T[1]&&(ca=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),T)};B.toUserExtent=function(T,R){return ea?e(T,R,ea):T};B.fromUserExtent=function(T,R){return ea?e(T,ea,R):T};B.toUserResolution=function(T,R){if(!ea)return T;R=l(R).getUnits();var J=ea.getUnits();return R&&J?T*E.METERS_PER_UNIT[R]/
E.METERS_PER_UNIT[J]:T};B.fromUserResolution=function(T,R){if(!ea)return T;R=l(R).getUnits();var J=ea.getUnits();return R&&J?T*E.METERS_PER_UNIT[J]/E.METERS_PER_UNIT[R]:T};B.createSafeCoordinateTransform=function(T,R,J){return function(r){var C=r[0],N=r[1],U;if(T.canWrapX()){var ja=T.getExtent(),ba=(0,L.getWidth)(ja);(U=(0,V.getWorldsAway)(r,T,ba))&&(C-=U*ba);C=(0,O.clamp)(C,ja[0],ja[2]);N=(0,O.clamp)(N,ja[1],ja[3]);r=J([C,N])}else r=J(r);U&&R.canWrapX()&&(r[0]+=U*(0,L.getWidth)(R.getExtent()));return r}};
B.addCommon=y;Object.defineProperty(B,"Projection",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(B,"METERS_PER_UNIT",{enumerable:!0,get:function(){return E.METERS_PER_UNIT}});var q=function(T){return T&&T.__esModule?T:{default:T}}(z(118)),E=function(T,R){if(!R&&T&&T.__esModule)return T;if(null===T||"object"!==typeof T&&"function"!==typeof T)return{default:T};if((R=v(R))&&R.has(T))return R.get(T);var J={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,C;for(C in T)if("default"!==
C&&Object.prototype.hasOwnProperty.call(T,C)){var N=r?Object.getOwnPropertyDescriptor(T,C):null;N&&(N.get||N.set)?Object.defineProperty(J,C,N):J[C]=T[C]}J.default=T;R&&R.set(T,J);return J}(z(114)),F=z(119),w=z(120),D=z(121),G=z(122),L=z(75),O=z(76),V=z(93),S=z(123),ca=!0,ea=null;y()};
shadow$provide[125]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.createExtent=function(k,p,A){return function(u,m,l,f,g){if(u){if(!m&&!p)return u;var d=p?0:l[0]*m,b=p?0:l[1]*m;l=g?g[0]:0;var c=g?g[1]:0;g=k[0]+d/2+l;d=k[2]-d/2+l;l=k[1]+b/2+c;b=k[3]-b/2+c;g>d&&(d=g=(d+g)/2);l>b&&(b=l=(b+l)/2);c=(0,v.clamp)(u[0],g,d);var a=(0,v.clamp)(u[1],l,b);f&&A&&m&&(m*=30,c+=-m*Math.log(1+Math.max(0,g-u[0])/m)+m*Math.log(1+Math.max(0,u[0]-d)/m),a+=-m*Math.log(1+Math.max(0,l-u[1])/m)+m*
Math.log(1+Math.max(0,u[1]-b)/m));return[c,a]}}};B.none=function(k){return k};var v=z(76)};
shadow$provide[126]=function(ra,z,cb,B){function v(m,l,f,g){var d=(0,A.getWidth)(l)/f[0];l=(0,A.getHeight)(l)/f[1];return g?Math.min(m,Math.max(d,l)):Math.min(m,Math.min(d,l))}function k(m,l,f){var g=Math.min(m,l);g*=Math.log(1+50*Math.max(0,m/l-1))/50+1;f&&(g=Math.max(g,f),g/=Math.log(1+50*Math.max(0,f/m-1))/50+1);return(0,p.clamp)(g,f/2,2*l)}Object.defineProperty(B,"__esModule",{value:!0});B.createSnapToResolutions=function(m,l,f,g){return function(d,b,c,a){if(void 0!==d){var e=m[0],t=m[m.length-
1];c=f?v(e,f,c,g):e;if(a)return void 0===l||l?k(d,c,t):(0,p.clamp)(d,t,c);d=Math.floor((0,u.linearFindNearest)(m,Math.min(c,d),b));return m[d]>c&&d<m.length-1?m[d+1]:m[d]}}};B.createSnapToPower=function(m,l,f,g,d,b){return function(c,a,e,t){if(void 0!==c){e=d?v(l,d,e,b):l;var y=void 0!==f?f:0;return t?void 0===g||g?k(c,e,y):(0,p.clamp)(c,y,e):(0,p.clamp)(l/Math.pow(m,Math.max(Math.ceil(Math.log(l/e)/Math.log(m)-1E-9),Math.floor(Math.log(l/Math.min(e,c))/Math.log(m)+(-a*(.5-1E-9)+.5)))),y,e)}}};B.createMinMaxResolution=
function(m,l,f,g,d){return function(b,c,a,e){if(void 0!==b)return c=g?v(m,g,a,d):m,void 0!==f&&!f||!e?(0,p.clamp)(b,l,c):k(b,c,l)}};var p=z(76),A=z(75),u=z(66)};
shadow$provide[127]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.disable=function(k){if(void 0!==k)return 0};B.none=function(k){if(void 0!==k)return k};B.createSnapToN=function(k){var p=2*Math.PI/k;return function(A,u){if(u)return A;if(void 0!==A)return A=Math.floor(A/p+.5)*p}};B.createSnapToZero=function(k){var p=k||(0,v.toRadians)(5);return function(A,u){if(u)return A;if(void 0!==A)return Math.abs(A)<=p?0:A}};var v=z(76)};
shadow$provide[128]=function(ra,z,cb,B){function v(p){return Math.pow(p,3)}function k(p){return 3*p*p-2*p*p*p}Object.defineProperty(B,"__esModule",{value:!0});B.easeIn=v;B.easeOut=function(p){return 1-v(1-p)};B.inAndOut=k;B.linear=function(p){return p};B.upAndDown=function(p){return.5>p?k(2*p):1-k(2*(p-.5))}};
shadow$provide[129]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}};
shadow$provide[130]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.transform2D=function(v,k,p,A,u,m){for(var l=m?m:[],f=0;k<p;k+=A){var g=v[k],d=v[k+1];l[f++]=u[0]*g+u[2]*d+u[4];l[f++]=u[1]*g+u[3]*d+u[5]}m&&l.length!=f&&(l.length=f);return l};B.rotate=function(v,k,p,A,u,m,l){var f=l?l:[],g=Math.cos(u);u=Math.sin(u);var d=m[0];m=m[1];for(var b=0;k<p;k+=A){var c=v[k]-d,a=v[k+1]-m;f[b++]=d+c*g-a*u;f[b++]=m+c*u+a*g;for(c=k+2;c<k+A;++c)f[b++]=v[c]}l&&f.length!=b&&(f.length=b);return f};
B.scale=function(v,k,p,A,u,m,l,f){var g=f?f:[],d=l[0];l=l[1];for(var b=0;k<p;k+=A){var c=v[k]-d,a=v[k+1]-l;g[b++]=d+u*c;g[b++]=l+m*a;for(c=k+2;c<k+A;++c)g[b++]=v[c]}f&&g.length!=b&&(g.length=b);return g};B.translate=function(v,k,p,A,u,m,l){for(var f=l?l:[],g=0;k<p;k+=A){f[g++]=v[k]+u;f[g++]=v[k+1]+m;for(var d=k+2;d<k+A;++d)f[g++]=v[d]}l&&f.length!=g&&(f.length=g);return f}};
shadow$provide[131]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(86));var k=v(z(114)),p=z(68),A=z(72),u=z(75),m=z(124),l=z(67),f=z(130),g=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=
c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),d=(0,A.create)();z=function(b){function c(){var a=b.call(this)||this;a.extent_=(0,u.createEmpty)();a.extentRevision_=-1;a.simplifiedGeometryMaxMinSquaredTolerance=0;a.simplifiedGeometryRevision=0;a.simplifyTransformedInternal=(0,l.memoizeOne)(function(e,t,y){if(!y)return this.getSimplifiedGeometry(t);
e=this.clone();e.applyTransform(y);return e.getSimplifiedGeometry(t)});return a}g(c,b);c.prototype.simplifyTransformed=function(a,e){return this.simplifyTransformedInternal(this.getRevision(),a,e)};c.prototype.clone=function(){return(0,p.abstract)()};c.prototype.closestPointXY=function(a,e,t,y){return(0,p.abstract)()};c.prototype.containsXY=function(a,e){var t=this.getClosestPoint([a,e]);return t[0]===a&&t[1]===e};c.prototype.getClosestPoint=function(a,e){e=e?e:[NaN,NaN];this.closestPointXY(a[0],
a[1],e,Infinity);return e};c.prototype.intersectsCoordinate=function(a){return this.containsXY(a[0],a[1])};c.prototype.computeExtent=function(a){return(0,p.abstract)()};c.prototype.getExtent=function(a){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,u.createOrUpdateEmpty)(e);this.extentRevision_=this.getRevision()}return(0,u.returnOrUpdate)(this.extent_,a)};c.prototype.rotate=function(a,e){(0,p.abstract)()};c.prototype.scale=function(a,
e,t){(0,p.abstract)()};c.prototype.simplify=function(a){return this.getSimplifiedGeometry(a*a)};c.prototype.getSimplifiedGeometry=function(a){return(0,p.abstract)()};c.prototype.getType=function(){return(0,p.abstract)()};c.prototype.applyTransform=function(a){(0,p.abstract)()};c.prototype.intersectsExtent=function(a){return(0,p.abstract)()};c.prototype.translate=function(a,e){(0,p.abstract)()};c.prototype.transform=function(a,e){var t=(0,m.get)(a);a=t.getUnits()==k.default.TILE_PIXELS?function(y,
q,E){var F=t.getExtent(),w=t.getWorldExtent();F=(0,u.getHeight)(w)/(0,u.getHeight)(F);(0,A.compose)(d,w[0],w[3],F,-F,0,0,0);(0,f.transform2D)(y,0,y.length,E,d,q);return(0,m.getTransform)(t,e)(y,q,E)}:(0,m.getTransform)(t,e);this.applyTransform(a);return this};return c}(ra.default);B.default=z};
shadow$provide[132]=function(ra,z,cb,B){function v(f){return f&&f.__esModule?f:{default:f}}function k(f){var g;f==p.default.XY?g=2:f==p.default.XYZ||f==p.default.XYM?g=3:f==p.default.XYZM&&(g=4);return g}Object.defineProperty(B,"__esModule",{value:!0});B.getStrideForLayout=k;B.transformGeom2D=function(f,g,d){var b=f.getFlatCoordinates();return b?(f=f.getStride(),(0,m.transform2D)(b,0,b.length,f,g,d)):null};B.default=void 0;ra=v(z(131));var p=v(z(129)),A=z(68),u=z(75),m=z(130),l=function(){var f=function(g,
d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};return f(g,d)};return function(g,d){function b(){this.constructor=g}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(g,d);g.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}();z=function(f){function g(){var d=f.call(this)||this;d.layout=
p.default.XY;d.stride=2;d.flatCoordinates=null;return d}l(g,f);g.prototype.computeExtent=function(d){return(0,u.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,d)};g.prototype.getCoordinates=function(){return(0,A.abstract)()};g.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};g.prototype.getFlatCoordinates=function(){return this.flatCoordinates};g.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-
this.stride)};g.prototype.getLayout=function(){return this.layout};g.prototype.getSimplifiedGeometry=function(d){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>d||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&d<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var b=this.getSimplifiedGeometryInternal(d);if(b.getFlatCoordinates().length<this.flatCoordinates.length)return b;
this.simplifiedGeometryMaxMinSquaredTolerance=d;return this};g.prototype.getSimplifiedGeometryInternal=function(d){return this};g.prototype.getStride=function(){return this.stride};g.prototype.setFlatCoordinates=function(d,b){this.stride=k(d);this.layout=d;this.flatCoordinates=b};g.prototype.setCoordinates=function(d,b){(0,A.abstract)()};g.prototype.setLayout=function(d,b,c){if(d)b=k(d);else{for(d=0;d<c;++d){if(0===b.length){this.layout=p.default.XY;this.stride=2;return}b=b[0]}b=b.length;if(2==b)var a=
p.default.XY;else 3==b?a=p.default.XYZ:4==b&&(a=p.default.XYZM);d=a}this.layout=d;this.stride=b};g.prototype.applyTransform=function(d){this.flatCoordinates&&(d(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};g.prototype.rotate=function(d,b){var c=this.getFlatCoordinates();if(c){var a=this.getStride();(0,m.rotate)(c,0,c.length,a,d,b,c);this.changed()}};g.prototype.scale=function(d,b,c){void 0===b&&(b=d);c||(c=(0,u.getCenter)(this.getExtent()));var a=this.getFlatCoordinates();
if(a){var e=this.getStride();(0,m.scale)(a,0,a.length,e,d,b,c,a);this.changed()}};g.prototype.translate=function(d,b){var c=this.getFlatCoordinates();if(c){var a=this.getStride();(0,m.translate)(c,0,c.length,a,d,b,c);this.changed()}};return g}(ra.default);B.default=z};
shadow$provide[133]=function(ra,z,cb,B){function v(l,f,g,d,b,c,a){var e=l[f],t=l[f+1],y=l[g]-e,q=l[g+1]-t;if(0!==y||0!==q)if(c=((b-e)*y+(c-t)*q)/(y*y+q*q),1<c)f=g;else if(0<c){for(b=0;b<d;++b)a[b]=(0,m.lerp)(l[f+b],l[g+b],c);a.length=d;return}for(b=0;b<d;++b)a[b]=l[f+b];a.length=d}function k(l,f,g,d,b){var c=l[f],a=l[f+1];for(f+=d;f<g;f+=d){var e=l[f],t=l[f+1];c=(0,m.squaredDistance)(c,a,e,t);c>b&&(b=c);c=e;a=t}return b}function p(l,f,g,d,b){for(var c=0,a=g.length;c<a;++c){var e=g[c];b=k(l,f,e,d,
b);f=e}return b}function A(l,f,g,d,b,c,a,e,t,y,q){if(f==g)return y;if(0===b){var E=(0,m.squaredDistance)(a,e,l[f],l[f+1]);if(E<y){for(q=0;q<d;++q)t[q]=l[f+q];t.length=d;return E}return y}for(var F=q?q:[NaN,NaN],w=f+d;w<g;)if(v(l,w-d,w,d,a,e,F),E=(0,m.squaredDistance)(a,e,F[0],F[1]),E<y){y=E;for(q=0;q<d;++q)t[q]=F[q];t.length=d;w+=d}else w+=d*Math.max((Math.sqrt(E)-Math.sqrt(y))/b|0,1);if(c&&(v(l,g-d,f,d,a,e,F),E=(0,m.squaredDistance)(a,e,F[0],F[1]),E<y)){y=E;for(q=0;q<d;++q)t[q]=F[q];t.length=d}return y}
function u(l,f,g,d,b,c,a,e,t,y,q){q=q?q:[NaN,NaN];for(var E=0,F=g.length;E<F;++E){var w=g[E];y=A(l,f,w,d,b,c,a,e,t,y,q);f=w}return y}Object.defineProperty(B,"__esModule",{value:!0});B.maxSquaredDelta=k;B.arrayMaxSquaredDelta=p;B.multiArrayMaxSquaredDelta=function(l,f,g,d,b){for(var c=0,a=g.length;c<a;++c){var e=g[c];b=p(l,f,e,d,b);f=e[e.length-1]}return b};B.assignClosestPoint=A;B.assignClosestArrayPoint=u;B.assignClosestMultiArrayPoint=function(l,f,g,d,b,c,a,e,t,y,q){q=q?q:[NaN,NaN];for(var E=0,
F=g.length;E<F;++E){var w=g[E];y=u(l,f,w,d,b,c,a,e,t,y,q);f=w[w.length-1]}return y};var m=z(76)};
shadow$provide[134]=function(ra,z,cb,B){function v(p,A,u,m){for(var l=0,f=u.length;l<f;++l)for(var g=u[l],d=0;d<m;++d)p[A++]=g[d];return A}function k(p,A,u,m,l){l=l?l:[];for(var f=0,g=0,d=u.length;g<d;++g)A=v(p,A,u[g],m),l[f++]=A;l.length=f;return l}Object.defineProperty(B,"__esModule",{value:!0});B.deflateCoordinate=function(p,A,u,m){m=0;for(var l=u.length;m<l;++m)p[A++]=u[m];return A};B.deflateCoordinates=v;B.deflateCoordinatesArray=k;B.deflateMultiCoordinatesArray=function(p,A,u,m,l){l=l?l:[];
for(var f=0,g=0,d=u.length;g<d;++g)A=k(p,A,u[g],m,l[f]),l[f++]=A,A=A[A.length-1];l.length=f;return l}};
shadow$provide[135]=function(ra,z,cb,B){function v(f,g,d,b,c,a,e){var t=(d-g)/b;if(3>t){for(;g<d;g+=b)a[e++]=f[g],a[e++]=f[g+1];return e}var y=Array(t);y[0]=1;y[t-1]=1;d=[g,d-b];for(var q=0;0<d.length;){for(var E=d.pop(),F=d.pop(),w=0,D=f[F],G=f[F+1],L=f[E],O=f[E+1],V=F+b;V<E;V+=b){var S=(0,l.squaredSegmentDistance)(f[V],f[V+1],D,G,L,O);S>w&&(q=V,w=S)}w>c&&(y[(q-g)/b]=1,F+b<q&&d.push(F,q),q+b<E&&d.push(q,E))}for(V=0;V<t;++V)y[V]&&(a[e++]=f[g+V*b],a[e++]=f[g+V*b+1]);return e}function k(f,g,d,b,c,a,
e,t){for(var y=0,q=d.length;y<q;++y){var E=d[y];e=v(f,g,E,b,c,a,e);t.push(e);g=E}return e}function p(f,g,d,b,c,a,e){if(d<=g+b){for(;g<d;g+=b)a[e++]=f[g],a[e++]=f[g+1];return e}var t=f[g],y=f[g+1];a[e++]=t;a[e++]=y;var q=t,E=y;for(g+=b;g<d;g+=b)q=f[g],E=f[g+1],(0,l.squaredDistance)(t,y,q,E)>c&&(a[e++]=q,a[e++]=E,t=q,y=E);if(q!=t||E!=y)a[e++]=q,a[e++]=E;return e}function A(f,g){return g*Math.round(f/g)}function u(f,g,d,b,c,a,e){if(g==d)return e;var t=A(f[g],c),y=A(f[g+1],c);g+=b;a[e++]=t;a[e++]=y;do{var q=
A(f[g],c);var E=A(f[g+1],c);g+=b;if(g==d)return a[e++]=q,a[e++]=E,e}while(q==t&&E==y);for(;g<d;){var F=A(f[g],c),w=A(f[g+1],c);g+=b;if(F!=q||w!=E){var D=q-t,G=E-y,L=F-t,O=w-y;D*O==G*L&&(0>D&&L<D||D==L||0<D&&L>D)&&(0>G&&O<G||G==O||0<G&&O>G)||(a[e++]=q,a[e++]=E,t=q,y=E);q=F;E=w}}a[e++]=q;a[e++]=E;return e}function m(f,g,d,b,c,a,e,t){for(var y=0,q=d.length;y<q;++y){var E=d[y];e=u(f,g,E,b,c,a,e);t.push(e);g=E}return e}Object.defineProperty(B,"__esModule",{value:!0});B.simplifyLineString=function(f,g,
d,b,c,a,e){e=void 0!==e?e:[];a||(d=p(f,g,d,b,c,e,0),f=e,g=0,b=2);e.length=v(f,g,d,b,c,e,0);return e};B.douglasPeucker=v;B.douglasPeuckerArray=k;B.douglasPeuckerMultiArray=function(f,g,d,b,c,a,e,t){for(var y=0,q=d.length;y<q;++y){var E=d[y],F=[];e=k(f,g,E,b,c,a,e,F);t.push(F);g=E[E.length-1]}return e};B.radialDistance=p;B.snap=A;B.quantize=u;B.quantizeArray=m;B.quantizeMultiArray=function(f,g,d,b,c,a,e,t){for(var y=0,q=d.length;y<q;++y){var E=d[y],F=[];e=m(f,g,E,b,c,a,e,F);t.push(F);g=E[E.length-1]}return e};
var l=z(76)};
shadow$provide[136]=function(ra,z,cb,B){function v(p,A,u,m,l){l=void 0!==l?l:[];for(var f=0;A<u;A+=m)l[f++]=p.slice(A,A+m);l.length=f;return l}function k(p,A,u,m,l){l=void 0!==l?l:[];for(var f=0,g=0,d=u.length;g<d;++g){var b=u[g];l[f++]=v(p,A,b,m,l[f]);A=b}l.length=f;return l}Object.defineProperty(B,"__esModule",{value:!0});B.inflateCoordinates=v;B.inflateCoordinatesArray=k;B.inflateMultiCoordinatesArray=function(p,A,u,m,l){l=void 0!==l?l:[];for(var f=0,g=0,d=u.length;g<d;++g){var b=u[g];l[f++]=k(p,
A,b,m,l[f]);A=b[b.length-1]}l.length=f;return l}};
shadow$provide[137]=function(ra,z,cb,B){function v(p,A,u,m){for(var l=0,f=p[u-m],g=p[u-m+1];A<u;A+=m){var d=p[A],b=p[A+1];l+=g*d-f*b;f=d;g=b}return l/2}function k(p,A,u,m){for(var l=0,f=0,g=u.length;f<g;++f){var d=u[f];l+=v(p,A,d,m);A=d}return l}Object.defineProperty(B,"__esModule",{value:!0});B.linearRing=v;B.linearRings=k;B.linearRingss=function(p,A,u,m){for(var l=0,f=0,g=u.length;f<g;++f){var d=u[f];l+=k(p,A,d,m);A=d[d.length-1]}return l}};
shadow$provide[138]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(129)),p=v(z(113));ra=v(z(132));var A=z(133),u=z(75),m=z(134),l=z(135),f=z(136),g=z(137),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=
c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a,e){var t=b.call(this)||this;t.maxDelta_=-1;t.maxDeltaRevision_=-1;void 0===e||Array.isArray(a[0])?t.setCoordinates(a,e):t.setFlatCoordinates(e,a);return t}d(c,b);c.prototype.clone=function(){return new c(this.flatCoordinates.slice(),this.layout)};c.prototype.closestPointXY=
function(a,e,t,y){if(y<(0,u.closestSquaredDistanceXY)(this.getExtent(),a,e))return y;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,A.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,A.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,a,e,t,y)};c.prototype.getArea=function(){return(0,g.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride)};c.prototype.getCoordinates=function(){return(0,f.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};c.prototype.getSimplifiedGeometryInternal=function(a){var e=[];e.length=(0,l.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,a,e,0);return new c(e,k.default.XY)};c.prototype.getType=function(){return p.default.LINEAR_RING};c.prototype.intersectsExtent=function(a){return!1};c.prototype.setCoordinates=function(a,e){this.setLayout(e,
a,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,m.deflateCoordinates)(this.flatCoordinates,0,a,this.stride);this.changed()};return c}(ra.default);B.default=z};
shadow$provide[139]=function(ra,z,cb,B){function v(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(113));ra=v(z(132));var p=z(75),A=z(134),u=z(76),m=function(){var l=function(f,g){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}if("function"!==
typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();z=function(l){function f(g,d){var b=l.call(this)||this;b.setCoordinates(g,d);return b}m(f,l);f.prototype.clone=function(){var g=new f(this.flatCoordinates.slice(),this.layout);g.applyProperties(this);return g};f.prototype.closestPointXY=function(g,d,b,c){var a=this.flatCoordinates;g=(0,u.squaredDistance)(g,d,a[0],
a[1]);if(g<c){c=this.stride;for(d=0;d<c;++d)b[d]=a[d];b.length=c;return g}return c};f.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]};f.prototype.computeExtent=function(g){return(0,p.createOrUpdateFromCoordinate)(this.flatCoordinates,g)};f.prototype.getType=function(){return k.default.POINT};f.prototype.intersectsExtent=function(g){return(0,p.containsXY)(g,this.flatCoordinates[0],this.flatCoordinates[1])};f.prototype.setCoordinates=function(g,d){this.setLayout(d,
g,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,A.deflateCoordinate)(this.flatCoordinates,0,g,this.stride);this.changed()};return f}(ra.default);B.default=z};
shadow$provide[140]=function(ra,z,cb,B){function v(A,u,m,l,f,g){for(var d=0,b=A[m-l],c=A[m-l+1];u<m;u+=l){var a=A[u],e=A[u+1];c<=g?e>g&&0<(a-b)*(g-c)-(f-b)*(e-c)&&d++:e<=g&&0>(a-b)*(g-c)-(f-b)*(e-c)&&d--;b=a;c=e}return 0!==d}function k(A,u,m,l,f,g){if(0===m.length||!v(A,u,m[0],l,f,g))return!1;u=1;for(var d=m.length;u<d;++u)if(v(A,m[u-1],m[u],l,f,g))return!1;return!0}Object.defineProperty(B,"__esModule",{value:!0});B.linearRingContainsExtent=function(A,u,m,l,f){return!(0,p.forEachCorner)(f,function(g){return!v(A,
u,m,l,g[0],g[1])})};B.linearRingContainsXY=v;B.linearRingsContainsXY=k;B.linearRingssContainsXY=function(A,u,m,l,f,g){if(0===m.length)return!1;for(var d=0,b=m.length;d<b;++d){var c=m[d];if(k(A,u,c,l,f,g))return!0;u=c[c.length-1]}return!1};var p=z(75)};
shadow$provide[141]=function(ra,z,cb,B){function v(A,u,m,l,f,g,d){for(var b,c,a,e,t,y=f[g+1],q=[],E=0,F=m.length;E<F;++E){var w=m[E];a=A[w-l];t=A[w-l+1];for(b=u;b<w;b+=l){e=A[b];c=A[b+1];if(y<=t&&c<=y||t<=y&&y<=c)a=(y-t)/(c-t)*(e-a)+a,q.push(a);a=e;t=c}}E=NaN;F=-Infinity;q.sort(p.numberSafeCompareFunction);a=q[0];b=1;for(c=q.length;b<c;++b)e=q[b],w=Math.abs(e-a),w>F&&(a=(a+e)/2,(0,k.linearRingsContainsXY)(A,u,m,l,a,y)&&(E=a,F=w)),a=e;isNaN(E)&&(E=f[g]);return d?(d.push(E,y,F),d):[E,y,F]}Object.defineProperty(B,
"__esModule",{value:!0});B.getInteriorPointOfArray=v;B.getInteriorPointsOfMultiArray=function(A,u,m,l,f){for(var g=[],d=0,b=m.length;d<b;++d){var c=m[d];g=v(A,u,c,l,f,2*d,g);u=c[c.length-1]}return g};var k=z(140),p=z(66)};
shadow$provide[142]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.forEach=function(v,k,p,A,u){var m;for(k+=A;k<p;k+=A)if(m=u(v.slice(k-A,k),v.slice(k,k+A)))return m;return!1}};
shadow$provide[143]=function(ra,z,cb,B){function v(l,f,g,d,b){var c=(0,A.extendFlatCoordinates)((0,A.createEmpty)(),l,f,g,d);return(0,A.intersects)(b,c)?(0,A.containsExtent)(b,c)||c[0]>=b[0]&&c[2]<=b[2]||c[1]>=b[1]&&c[3]<=b[3]?!0:(0,u.forEach)(l,f,g,d,function(a,e){return(0,A.intersectsSegment)(b,a,e)}):!1}function k(l,f,g,d,b){return v(l,f,g,d,b)||(0,m.linearRingContainsXY)(l,f,g,d,b[0],b[1])||(0,m.linearRingContainsXY)(l,f,g,d,b[0],b[3])||(0,m.linearRingContainsXY)(l,f,g,d,b[2],b[1])||(0,m.linearRingContainsXY)(l,
f,g,d,b[2],b[3])?!0:!1}function p(l,f,g,d,b){if(!k(l,f,g[0],d,b))return!1;if(1===g.length)return!0;f=1;for(var c=g.length;f<c;++f)if((0,m.linearRingContainsExtent)(l,g[f-1],g[f],d,b)&&!v(l,g[f-1],g[f],d,b))return!1;return!0}Object.defineProperty(B,"__esModule",{value:!0});B.intersectsLineString=v;B.intersectsLineStringArray=function(l,f,g,d,b){for(var c=0,a=g.length;c<a;++c){if(v(l,f,g[c],d,b))return!0;f=g[c]}return!1};B.intersectsLinearRing=k;B.intersectsLinearRingArray=p;B.intersectsLinearRingMultiArray=
function(l,f,g,d,b){for(var c=0,a=g.length;c<a;++c){var e=g[c];if(p(l,f,e,d,b))return!0;f=e[e.length-1]}return!1};var A=z(75),u=z(142),m=z(140)};
shadow$provide[144]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.coordinates=function(v,k,p,A){for(;k<p-A;){for(var u=0;u<A;++u){var m=v[k+u];v[k+u]=v[p-A+u];v[p-A+u]=m}k+=A;p-=A}}};
shadow$provide[145]=function(ra,z,cb,B){function v(u,m,l,f){for(var g=0,d=u[l-f],b=u[l-f+1];m<l;m+=f){var c=u[m],a=u[m+1];g+=(c-d)*(a+b);d=c;b=a}return 0===g?void 0:0<g}function k(u,m,l,f,g){g=void 0!==g?g:!1;for(var d=0,b=l.length;d<b;++d){var c=l[d];m=v(u,m,c,f);if(0===d){if(g&&m||!g&&!m)return!1}else if(g&&!m||!g&&m)return!1;m=c}return!0}function p(u,m,l,f,g){g=void 0!==g?g:!1;for(var d=0,b=l.length;d<b;++d){var c=l[d],a=v(u,m,c,f);(0===d?g&&a||!g&&!a:g&&!a||!g&&a)&&(0,A.coordinates)(u,m,c,f);
m=c}return m}Object.defineProperty(B,"__esModule",{value:!0});B.linearRingIsClockwise=v;B.linearRingsAreOriented=k;B.linearRingssAreOriented=function(u,m,l,f,g){for(var d=0,b=l.length;d<b;++d){var c=l[d];if(!k(u,m,c,f,g))return!1;c.length&&(m=c[c.length-1])}return!0};B.orientLinearRings=p;B.orientLinearRingsArray=function(u,m,l,f,g){for(var d=0,b=l.length;d<b;++d)m=p(u,m,l[d],f,g);return m};B.inflateEnds=function(u,m){for(var l=[],f=0,g=0,d=0,b=m.length;d<b;++d){var c=m[d];if(v(u,f,c,2)){if(0===l.length)continue;
l[l.length-1].push(m[g])}else l.push(m.slice(g,d+1));g=d+1;f=c}return l};var A=z(144)};
shadow$provide[146]=function(ra,z,cb,B){function v(G){return G&&G.__esModule?G:{default:G}}function k(G,L,O,V){var S=G.getFlatCoordinates(),ca=G.getStride(),ea=S.length/ca-1;V=V?V:0;for(var T=0;T<=ea;++T){var R=T*ca,J=V+2*(0,q.modulo)(T,ea)*Math.PI/ea;S[R]=L[0]+O*Math.cos(J);S[R+1]=L[1]+O*Math.sin(J)}G.changed()}Object.defineProperty(B,"__esModule",{value:!0});B.circular=function(G,L,O,V){O=O?O:32;for(var S=[],ca=0;ca<O;++ca)(0,d.extend)(S,(0,F.offset)(G,L,2*Math.PI*ca/O,V));S.push(S[0],S[1]);return new D(S,
p.default.XY,[S.length])};B.fromExtent=function(G){var L=G[0],O=G[1],V=G[2];G=G[3];L=[L,O,L,G,V,G,V,O,L,O];return new D(L,p.default.XY,[L.length])};B.fromCircle=function(G,L,O){var V=L?L:32,S=G.getStride(),ca=G.getLayout();L=G.getCenter();V=S*(V+1);for(var ea=Array(V),T=0;T<V;T+=S){ea[T]=0;ea[T+1]=0;for(var R=2;R<S;R++)ea[T+R]=L[R]}S=new D(ea,ca,[ea.length]);k(S,L,G.getRadius(),O);return S};B.makeRegular=k;B.default=void 0;var p=v(z(129)),A=v(z(113)),u=v(z(138)),m=v(z(139));ra=v(z(132));var l=z(133),
f=z(75),g=z(134),d=z(66),b=z(141),c=z(136),a=z(143),e=z(145),t=z(137),y=z(140),q=z(76),E=z(135),F=z(123),w=function(){var G=function(L,O){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,S){V.__proto__=S}||function(V,S){for(var ca in S)Object.prototype.hasOwnProperty.call(S,ca)&&(V[ca]=S[ca])};return G(L,O)};return function(L,O){function V(){this.constructor=L}if("function"!==typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");
G(L,O);L.prototype=null===O?Object.create(O):(V.prototype=O.prototype,new V)}}(),D=function(G){function L(O,V,S){var ca=G.call(this)||this;ca.ends_=[];ca.flatInteriorPointRevision_=-1;ca.flatInteriorPoint_=null;ca.maxDelta_=-1;ca.maxDeltaRevision_=-1;ca.orientedRevision_=-1;ca.orientedFlatCoordinates_=null;void 0!==V&&S?(ca.setFlatCoordinates(V,O),ca.ends_=S):ca.setCoordinates(O,V);return ca}w(L,G);L.prototype.appendLinearRing=function(O){this.flatCoordinates?(0,d.extend)(this.flatCoordinates,O.getFlatCoordinates()):
this.flatCoordinates=O.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};L.prototype.clone=function(){var O=new L(this.flatCoordinates.slice(),this.layout,this.ends_.slice());O.applyProperties(this);return O};L.prototype.closestPointXY=function(O,V,S,ca){if(ca<(0,f.closestSquaredDistanceXY)(this.getExtent(),O,V))return ca;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,l.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,
0)),this.maxDeltaRevision_=this.getRevision());return(0,l.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,O,V,S,ca)};L.prototype.containsXY=function(O,V){return(0,y.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,O,V)};L.prototype.getArea=function(){return(0,t.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};L.prototype.getCoordinates=function(O){if(void 0!==O){var V=this.getOrientedFlatCoordinates().slice();
(0,e.orientLinearRings)(V,0,this.ends_,this.stride,O)}else V=this.flatCoordinates;return(0,c.inflateCoordinatesArray)(V,0,this.ends_,this.stride)};L.prototype.getEnds=function(){return this.ends_};L.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var O=(0,f.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,b.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,O,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};
L.prototype.getInteriorPoint=function(){return new m.default(this.getFlatInteriorPoint(),p.default.XYM)};L.prototype.getLinearRingCount=function(){return this.ends_.length};L.prototype.getLinearRing=function(O){return 0>O||this.ends_.length<=O?null:new u.default(this.flatCoordinates.slice(0===O?0:this.ends_[O-1],this.ends_[O]),this.layout)};L.prototype.getLinearRings=function(){for(var O=this.layout,V=this.flatCoordinates,S=this.ends_,ca=[],ea=0,T=0,R=S.length;T<R;++T){var J=S[T];ea=new u.default(V.slice(ea,
J),O);ca.push(ea);ea=J}return ca};L.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var O=this.flatCoordinates;(0,e.linearRingsAreOriented)(O,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=O:(this.orientedFlatCoordinates_=O.slice(),this.orientedFlatCoordinates_.length=(0,e.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};L.prototype.getSimplifiedGeometryInternal=
function(O){var V=[],S=[];V.length=(0,E.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(O),V,0,S);return new L(V,p.default.XY,S)};L.prototype.getType=function(){return A.default.POLYGON};L.prototype.intersectsExtent=function(O){return(0,a.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,O)};L.prototype.setCoordinates=function(O,V){this.setLayout(V,O,2);this.flatCoordinates||(this.flatCoordinates=[]);O=(0,g.deflateCoordinatesArray)(this.flatCoordinates,
0,O,this.stride,this.ends_);this.flatCoordinates.length=0===O.length?0:O[O.length-1];this.changed()};return L}(ra.default);B.default=D};
shadow$provide[147]=function(ra,z,cb,B){function v(ea){return ea&&ea.__esModule?ea:{default:ea}}function k(ea,T){setTimeout(function(){ea(T)},0)}function p(ea){if(void 0!==ea.extent)return(0,E.createExtent)(ea.extent,ea.constrainOnlyCenter,void 0!==ea.smoothExtentConstraint?ea.smoothExtentConstraint:!0);var T=(0,a.createProjection)(ea.projection,"EPSG:3857");return!0!==ea.multiWorld&&T.isGlobal()?(ea=T.getExtent().slice(),ea[0]=-Infinity,ea[2]=Infinity,(0,E.createExtent)(ea,!1,!1)):E.none}function A(ea){var T=
void 0!==ea.minZoom?ea.minZoom:ca,R=void 0!==ea.maxZoom?ea.maxZoom:28,J=void 0!==ea.zoomFactor?ea.zoomFactor:2;var r=void 0!==ea.multiWorld?ea.multiWorld:!1;var C=void 0!==ea.smoothResolutionConstraint?ea.smoothResolutionConstraint:!0,N=void 0!==ea.showFullExtent?ea.showFullExtent:!1;var U=(0,a.createProjection)(ea.projection,"EPSG:3857");var ja=U.getExtent(),ba=ea.constrainOnlyCenter,ia=ea.extent;r||ia||!U.isGlobal()||(ba=!1,ia=ja);if(void 0!==ea.resolutions)ja=ea.resolutions,r=ja[T],U=void 0!==
ja[R]?ja[R]:ja[ja.length-1],ea=ea.constrainResolution?(0,w.createSnapToResolutions)(ja,C,!ba&&ia,N):(0,w.createMinMaxResolution)(r,U,C,!ba&&ia,N);else{ja=(ja?Math.max((0,L.getWidth)(ja),(0,L.getHeight)(ja)):360*a.METERS_PER_UNIT[g.default.DEGREES]/U.getMetersPerUnit())/c.DEFAULT_TILE_SIZE/Math.pow(2,ca);var za=ja/Math.pow(2,28-ca);r=ea.maxResolution;void 0!==r?T=0:r=ja/Math.pow(J,T);U=ea.minResolution;void 0===U&&(U=void 0!==ea.maxZoom?void 0!==ea.maxResolution?r/Math.pow(J,R):ja/Math.pow(J,R):za);
R=T+Math.floor(Math.log(r/U)/Math.log(J));U=r/Math.pow(J,R-T);ea=ea.constrainResolution?(0,w.createSnapToPower)(J,r,U,C,!ba&&ia,N):(0,w.createMinMaxResolution)(r,U,C,!ba&&ia,N)}return{constraint:ea,maxResolution:r,minResolution:U,minZoom:T,zoomFactor:J}}function u(ea){return(void 0!==ea.enableRotation?ea.enableRotation:1)?(ea=ea.constrainRotation,void 0===ea||!0===ea?(0,D.createSnapToZero)():!1===ea?D.none:"number"===typeof ea?(0,D.createSnapToN)(ea):D.none):D.disable}function m(ea){return ea.sourceCenter&&
ea.targetCenter&&!(0,t.equals)(ea.sourceCenter,ea.targetCenter)||ea.sourceResolution!==ea.targetResolution||ea.sourceRotation!==ea.targetRotation?!1:!0}function l(ea,T,R,J,r){var C=Math.cos(-r);r=Math.sin(-r);var N=ea[0]*C-ea[1]*r;ea=ea[1]*C+ea[0]*r;N+=(T[0]/2-R[0])*J;ea+=(R[1]-T[1]/2)*J;r=-r;return[N*C-ea*r,ea*C+N*r]}Object.defineProperty(B,"__esModule",{value:!0});B.createCenterConstraint=p;B.createResolutionConstraint=A;B.createRotationConstraint=u;B.isNoopAnimation=m;B.default=void 0;ra=v(z(86));
var f=v(z(113)),g=v(z(114)),d=v(z(115)),b=v(z(116)),c=z(117),a=z(124),e=z(67),t=z(93),y=z(71),q=z(81),E=z(125),F=z(76),w=z(126),D=z(127),G=z(128),L=z(75),O=z(66),V=z(146),S=function(){var ea=function(T,R){ea=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,r){J.__proto__=r}||function(J,r){for(var C in r)Object.prototype.hasOwnProperty.call(r,C)&&(J[C]=r[C])};return ea(T,R)};return function(T,R){function J(){this.constructor=T}if("function"!==typeof R&&null!==R)throw new TypeError("Class extends value "+
String(R)+" is not a constructor or null");ea(T,R);T.prototype=null===R?Object.create(R):(J.prototype=R.prototype,new J)}}(),ca=0;z=function(ea){function T(R){var J=ea.call(this)||this;R=(0,q.assign)({},R);J.hints_=[0,0];J.animations_=[];J.projection_=(0,a.createProjection)(R.projection,"EPSG:3857");J.viewportSize_=[100,100];J.targetCenter_=null;J.nextCenter_=null;J.cancelAnchor_=void 0;R.projection&&(0,a.disableCoordinateWarning)();R.center&&(R.center=(0,a.fromUserCoordinate)(R.center,J.projection_));
R.extent&&(R.extent=(0,a.fromUserExtent)(R.extent,J.projection_));J.applyOptions_(R);return J}S(T,ea);T.prototype.applyOptions_=function(R){var J=(0,q.assign)({},R);for(r in b.default)delete J[r];this.setProperties(J,!0);var r=A(R);this.maxResolution_=r.maxResolution;this.minResolution_=r.minResolution;this.zoomFactor_=r.zoomFactor;this.resolutions_=R.resolutions;this.padding_=R.padding;this.minZoom_=r.minZoom;J=p(R);r=r.constraint;var C=u(R);this.constraints_={center:J,resolution:r,rotation:C};this.setRotation(void 0!==
R.rotation?R.rotation:0);this.setCenterInternal(void 0!==R.center?R.center:null);void 0!==R.resolution?this.setResolution(R.resolution):void 0!==R.zoom&&this.setZoom(R.zoom)};Object.defineProperty(T.prototype,"padding",{get:function(){return this.padding_},set:function(R){var J=this.padding_;this.padding_=R;var r=this.getCenter();if(r){R=R||[0,0,0,0];J=J||[0,0,0,0];var C=this.getResolution();this.setCenterInternal([r[0]+C/2*(R[3]-J[3]+J[1]-R[1]),r[1]-C/2*(R[0]-J[0]+J[2]-R[2])])}},enumerable:!1,configurable:!0});
T.prototype.getUpdatedOptions_=function(R){var J=this.getProperties();void 0!==J.resolution?J.resolution=this.getResolution():J.zoom=this.getZoom();J.center=this.getCenterInternal();J.rotation=this.getRotation();return(0,q.assign)({},J,R)};T.prototype.animate=function(R){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var J=Array(arguments.length),r=0;r<J.length;++r){var C=arguments[r];C.center&&(C=(0,q.assign)({},C),C.center=(0,a.fromUserCoordinate)(C.center,this.getProjection()));
C.anchor&&(C=(0,q.assign)({},C),C.anchor=(0,a.fromUserCoordinate)(C.anchor,this.getProjection()));J[r]=C}this.animateInternal.apply(this,J)};T.prototype.animateInternal=function(R){var J=arguments.length;if(1<J&&"function"===typeof arguments[J-1]){var r=arguments[J-1];--J}for(var C=0;C<J&&!this.isDef();++C){var N=arguments[C];N.center&&this.setCenterInternal(N.center);void 0!==N.zoom?this.setZoom(N.zoom):N.resolution&&this.setResolution(N.resolution);void 0!==N.rotation&&this.setRotation(N.rotation)}if(C===
J)r&&k(r,!0);else{N=Date.now();for(var U=this.targetCenter_.slice(),ja=this.targetResolution_,ba=this.targetRotation_,ia=[];C<J;++C){var za=arguments[C],Wa={start:N,complete:!1,anchor:za.anchor,duration:void 0!==za.duration?za.duration:1E3,easing:za.easing||G.inAndOut,callback:r};za.center&&(Wa.sourceCenter=U,Wa.targetCenter=za.center.slice(),U=Wa.targetCenter);void 0!==za.zoom?(Wa.sourceResolution=ja,Wa.targetResolution=this.getResolutionForZoom(za.zoom),ja=Wa.targetResolution):za.resolution&&(Wa.sourceResolution=
ja,Wa.targetResolution=za.resolution,ja=Wa.targetResolution);void 0!==za.rotation&&(Wa.sourceRotation=ba,za=(0,F.modulo)(za.rotation-ba+Math.PI,2*Math.PI)-Math.PI,Wa.targetRotation=ba+za,ba=Wa.targetRotation);m(Wa)?Wa.complete=!0:N+=Wa.duration;ia.push(Wa)}this.animations_.push(ia);this.setHint(d.default.ANIMATING,1);this.updateAnimations_()}};T.prototype.getAnimating=function(){return 0<this.hints_[d.default.ANIMATING]};T.prototype.getInteracting=function(){return 0<this.hints_[d.default.INTERACTING]};
T.prototype.cancelAnimations=function(){this.setHint(d.default.ANIMATING,-this.hints_[d.default.ANIMATING]);for(var R,J=0,r=this.animations_.length;J<r;++J){var C=this.animations_[J];C[0].callback&&k(C[0].callback,!1);if(!R)for(var N=0,U=C.length;N<U;++N){var ja=C[N];if(!ja.complete){R=ja.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=R;this.nextCenter_=null;this.nextRotation_=this.nextResolution_=NaN};T.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),
this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var R=Date.now(),J=!1,r=this.animations_.length-1;0<=r;--r){for(var C=this.animations_[r],N=!0,U=0,ja=C.length;U<ja;++U){var ba=C[U];if(!ba.complete){J=R-ba.start;J=0<ba.duration?J/ba.duration:1;1<=J?(ba.complete=!0,J=1):N=!1;J=ba.easing(J);if(ba.sourceCenter){var ia=ba.sourceCenter[0],za=ba.sourceCenter[1],Wa=ba.targetCenter[0],hb=ba.targetCenter[1];this.nextCenter_=ba.targetCenter;this.targetCenter_=[ia+J*(Wa-ia),za+J*(hb-za)]}ba.sourceResolution&&
ba.targetResolution&&(ia=1===J?ba.targetResolution:ba.sourceResolution+J*(ba.targetResolution-ba.sourceResolution),ba.anchor&&(za=this.getViewportSize_(this.getRotation()),za=this.constraints_.resolution(ia,0,za,!0),this.targetCenter_=this.calculateCenterZoom(za,ba.anchor)),this.nextResolution_=ba.targetResolution,this.targetResolution_=ia,this.applyTargetState_(!0));void 0!==ba.sourceRotation&&void 0!==ba.targetRotation&&(J=1===J?(0,F.modulo)(ba.targetRotation+Math.PI,2*Math.PI)-Math.PI:ba.sourceRotation+
J*(ba.targetRotation-ba.sourceRotation),ba.anchor&&(ia=this.constraints_.rotation(J,!0),this.targetCenter_=this.calculateCenterRotate(ia,ba.anchor)),this.nextRotation_=ba.targetRotation,this.targetRotation_=J);this.applyTargetState_(!0);J=!0;if(!ba.complete)break}}N&&(this.animations_[r]=null,this.setHint(d.default.ANIMATING,-1),this.nextCenter_=null,this.nextRotation_=this.nextResolution_=NaN,(C=C[0].callback)&&k(C,!0))}this.animations_=this.animations_.filter(Boolean);J&&void 0===this.updateAnimationKey_&&
(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}};T.prototype.calculateCenterRotate=function(R,J){var r=this.getCenterInternal();if(void 0!==r){var C=[r[0]-J[0],r[1]-J[1]];(0,t.rotate)(C,R-this.getRotation());(0,t.add)(C,J)}return C};T.prototype.calculateCenterZoom=function(R,J){var r,C=this.getCenterInternal(),N=this.getResolution();void 0!==C&&void 0!==N&&(r=[J[0]-R*(J[0]-C[0])/N,J[1]-R*(J[1]-C[1])/N]);return r};T.prototype.getViewportSize_=function(R){var J=
this.viewportSize_;if(R){var r=J[0];J=J[1];return[Math.abs(r*Math.cos(R))+Math.abs(J*Math.sin(R)),Math.abs(r*Math.sin(R))+Math.abs(J*Math.cos(R))]}return J};T.prototype.setViewportSize=function(R){this.viewportSize_=Array.isArray(R)?R.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)};T.prototype.getCenter=function(){var R=this.getCenterInternal();return R?(0,a.toUserCoordinate)(R,this.getProjection()):R};T.prototype.getCenterInternal=function(){return this.get(b.default.CENTER)};
T.prototype.getConstraints=function(){return this.constraints_};T.prototype.getConstrainResolution=function(){return this.get("constrainResolution")};T.prototype.getHints=function(R){return void 0!==R?(R[0]=this.hints_[0],R[1]=this.hints_[1],R):this.hints_.slice()};T.prototype.calculateExtent=function(R){R=this.calculateExtentInternal(R);return(0,a.toUserExtent)(R,this.getProjection())};T.prototype.calculateExtentInternal=function(R){R=R||this.getViewportSizeMinusPadding_();var J=this.getCenterInternal();
(0,y.assert)(J,1);var r=this.getResolution();(0,y.assert)(void 0!==r,2);var C=this.getRotation();(0,y.assert)(void 0!==C,3);return(0,L.getForViewAndSize)(J,r,C,R)};T.prototype.getMaxResolution=function(){return this.maxResolution_};T.prototype.getMinResolution=function(){return this.minResolution_};T.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};T.prototype.setMaxZoom=function(R){this.applyOptions_(this.getUpdatedOptions_({maxZoom:R}))};T.prototype.getMinZoom=
function(){return this.getZoomForResolution(this.maxResolution_)};T.prototype.setMinZoom=function(R){this.applyOptions_(this.getUpdatedOptions_({minZoom:R}))};T.prototype.setConstrainResolution=function(R){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:R}))};T.prototype.getProjection=function(){return this.projection_};T.prototype.getResolution=function(){return this.get(b.default.RESOLUTION)};T.prototype.getResolutions=function(){return this.resolutions_};T.prototype.getResolutionForExtent=
function(R,J){return this.getResolutionForExtentInternal((0,a.fromUserExtent)(R,this.getProjection()),J)};T.prototype.getResolutionForExtentInternal=function(R,J){var r=J||this.getViewportSizeMinusPadding_();J=(0,L.getWidth)(R)/r[0];R=(0,L.getHeight)(R)/r[1];return Math.max(J,R)};T.prototype.getResolutionForValueFunction=function(R){var J=R||2,r=this.getConstrainedResolution(this.maxResolution_),C=Math.log(r/this.minResolution_)/Math.log(J);return function(N){return r/Math.pow(J,N*C)}};T.prototype.getRotation=
function(){return this.get(b.default.ROTATION)};T.prototype.getValueForResolutionFunction=function(R){var J=Math.log(R||2),r=this.getConstrainedResolution(this.maxResolution_),C=Math.log(r/this.minResolution_)/J;return function(N){return Math.log(r/N)/J/C}};T.prototype.getViewportSizeMinusPadding_=function(R){R=this.getViewportSize_(R);var J=this.padding_;J&&(R=[R[0]-J[1]-J[3],R[1]-J[0]-J[2]]);return R};T.prototype.getState=function(){var R=this.getProjection(),J=this.getResolution(),r=this.getRotation(),
C=this.getCenterInternal(),N=this.padding_;if(N){var U=this.getViewportSizeMinusPadding_();C=l(C,this.getViewportSize_(),[U[0]/2+N[3],U[1]/2+N[0]],J,r)}return{center:C.slice(0),projection:void 0!==R?R:null,resolution:J,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}};T.prototype.getZoom=function(){var R,J=this.getResolution();void 0!==J&&(R=this.getZoomForResolution(J));return R};T.prototype.getZoomForResolution=function(R){var J=
this.minZoom_||0,r;if(this.resolutions_){J=r=(0,O.linearFindNearest)(this.resolutions_,R,1);var C=this.resolutions_[r];r=r==this.resolutions_.length-1?2:C/this.resolutions_[r+1]}else C=this.maxResolution_,r=this.zoomFactor_;return J+Math.log(C/R)/Math.log(r)};T.prototype.getResolutionForZoom=function(R){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;var J=(0,F.clamp)(Math.floor(R),0,this.resolutions_.length-2);return this.resolutions_[J]/Math.pow(this.resolutions_[J]/this.resolutions_[J+
1],(0,F.clamp)(R-J,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,R-this.minZoom_)};T.prototype.fit=function(R,J){(0,y.assert)(Array.isArray(R)||"function"===typeof R.getSimplifiedGeometry,24);if(Array.isArray(R)){(0,y.assert)(!(0,L.isEmpty)(R),25);var r=(0,a.fromUserExtent)(R,this.getProjection());R=(0,V.fromExtent)(r)}else R.getType()===f.default.CIRCLE?(r=(0,a.fromUserExtent)(R.getExtent(),this.getProjection()),R=(0,V.fromExtent)(r),R.rotate(this.getRotation(),(0,L.getCenter)(r))):
R=(r=(0,a.getUserProjection)())?R.clone().transform(r,this.getProjection()):R;this.fitInternal(R,J)};T.prototype.rotatedExtentForGeometry=function(R){var J=this.getRotation(),r=Math.cos(J);J=Math.sin(-J);var C=R.getFlatCoordinates();R=R.getStride();for(var N=Infinity,U=Infinity,ja=-Infinity,ba=-Infinity,ia=0,za=C.length;ia<za;ia+=R){var Wa=C[ia]*r-C[ia+1]*J,hb=C[ia]*J+C[ia+1]*r;N=Math.min(N,Wa);U=Math.min(U,hb);ja=Math.max(ja,Wa);ba=Math.max(ba,hb)}return[N,U,ja,ba]};T.prototype.fitInternal=function(R,
J){J=J||{};var r=J.size;r||(r=this.getViewportSizeMinusPadding_());var C=void 0!==J.padding?J.padding:[0,0,0,0],N=void 0!==J.nearest?J.nearest:!1;var U=void 0!==J.minResolution?J.minResolution:void 0!==J.maxZoom?this.getResolutionForZoom(J.maxZoom):0;var ja=this.rotatedExtentForGeometry(R);R=this.getResolutionForExtentInternal(ja,[r[0]-C[1]-C[3],r[1]-C[0]-C[2]]);R=isNaN(R)?U:Math.max(R,U);R=this.getConstrainedResolution(R,N?0:1);U=this.getRotation();N=Math.sin(U);U=Math.cos(U);ja=(0,L.getCenter)(ja);
ja[0]+=(C[1]-C[3])/2*R;ja[1]+=(C[0]-C[2])/2*R;C=this.getConstrainedCenter([ja[0]*U-ja[1]*N,ja[1]*U+ja[0]*N],R);ja=J.callback?J.callback:e.VOID;void 0!==J.duration?this.animateInternal({resolution:R,center:C,duration:J.duration,easing:J.easing},ja):(this.targetResolution_=R,this.targetCenter_=C,this.applyTargetState_(!1,!0),k(ja,!0))};T.prototype.centerOn=function(R,J,r){this.centerOnInternal((0,a.fromUserCoordinate)(R,this.getProjection()),J,r)};T.prototype.centerOnInternal=function(R,J,r){this.setCenterInternal(l(R,
J,r,this.getResolution(),this.getRotation()))};T.prototype.calculateCenterShift=function(R,J,r,C){var N=this.padding_;if(N&&R){var U=this.getViewportSizeMinusPadding_(-r);J=l(R,C,[U[0]/2+N[3],U[1]/2+N[0]],J,r);U=[R[0]-J[0],R[1]-J[1]]}return U};T.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()};T.prototype.adjustCenter=function(R){var J=(0,a.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([J[0]+R[0],J[1]+R[1]])};T.prototype.adjustCenterInternal=
function(R){var J=this.targetCenter_;this.setCenterInternal([J[0]+R[0],J[1]+R[1]])};T.prototype.adjustResolution=function(R,J){J=J&&(0,a.fromUserCoordinate)(J,this.getProjection());this.adjustResolutionInternal(R,J)};T.prototype.adjustResolutionInternal=function(R,J){var r=this.getAnimating()||this.getInteracting(),C=this.getViewportSize_(this.getRotation());r=this.constraints_.resolution(this.targetResolution_*R,0,C,r);J&&(this.targetCenter_=this.calculateCenterZoom(r,J));this.targetResolution_*=
R;this.applyTargetState_()};T.prototype.adjustZoom=function(R,J){this.adjustResolution(Math.pow(this.zoomFactor_,-R),J)};T.prototype.adjustRotation=function(R,J){J&&(J=(0,a.fromUserCoordinate)(J,this.getProjection()));this.adjustRotationInternal(R,J)};T.prototype.adjustRotationInternal=function(R,J){var r=this.getAnimating()||this.getInteracting();r=this.constraints_.rotation(this.targetRotation_+R,r);J&&(this.targetCenter_=this.calculateCenterRotate(r,J));this.targetRotation_+=R;this.applyTargetState_()};
T.prototype.setCenter=function(R){this.setCenterInternal(R?(0,a.fromUserCoordinate)(R,this.getProjection()):R)};T.prototype.setCenterInternal=function(R){this.targetCenter_=R;this.applyTargetState_()};T.prototype.setHint=function(R,J){this.hints_[R]+=J;this.changed();return this.hints_[R]};T.prototype.setResolution=function(R){this.targetResolution_=R;this.applyTargetState_()};T.prototype.setRotation=function(R){this.targetRotation_=R;this.applyTargetState_()};T.prototype.setZoom=function(R){this.setResolution(this.getResolutionForZoom(R))};
T.prototype.applyTargetState_=function(R,J){var r=this.getAnimating()||this.getInteracting()||J;J=this.constraints_.rotation(this.targetRotation_,r);var C=this.getViewportSize_(J),N=this.constraints_.resolution(this.targetResolution_,0,C,r);r=this.constraints_.center(this.targetCenter_,N,C,r,this.calculateCenterShift(this.targetCenter_,N,J,C));this.get(b.default.ROTATION)!==J&&this.set(b.default.ROTATION,J);this.get(b.default.RESOLUTION)!==N&&(this.set(b.default.RESOLUTION,N),this.set("zoom",this.getZoom(),
!0));r&&this.get(b.default.CENTER)&&(0,t.equals)(this.get(b.default.CENTER),r)||this.set(b.default.CENTER,r);this.getAnimating()&&!R&&this.cancelAnimations();this.cancelAnchor_=void 0};T.prototype.resolveConstraints=function(R,J,r){R=void 0!==R?R:200;var C=J||0;J=this.constraints_.rotation(this.targetRotation_);var N=this.getViewportSize_(J);C=this.constraints_.resolution(this.targetResolution_,C,N);N=this.constraints_.center(this.targetCenter_,C,N,!1,this.calculateCenterShift(this.targetCenter_,
C,J,N));0!==R||this.cancelAnchor_?(r=r||(0===R?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===C&&this.getRotation()===J&&this.getCenterInternal()&&(0,t.equals)(this.getCenterInternal(),N)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:J,center:N,resolution:C,duration:R,easing:G.easeOut,anchor:r}))):(this.targetResolution_=C,this.targetRotation_=J,this.targetCenter_=N,this.applyTargetState_())};T.prototype.beginInteraction=function(){this.resolveConstraints(0);
this.setHint(d.default.INTERACTING,1)};T.prototype.endInteraction=function(R,J,r){r=r&&(0,a.fromUserCoordinate)(r,this.getProjection());this.endInteractionInternal(R,J,r)};T.prototype.endInteractionInternal=function(R,J,r){this.setHint(d.default.INTERACTING,-1);this.resolveConstraints(R,J,r)};T.prototype.getConstrainedCenter=function(R,J){var r=this.getViewportSize_(this.getRotation());return this.constraints_.center(R,J||this.getResolution(),r)};T.prototype.getConstrainedZoom=function(R,J){R=this.getResolutionForZoom(R);
return this.getZoomForResolution(this.getConstrainedResolution(R,J))};T.prototype.getConstrainedResolution=function(R,J){J=J||0;var r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(R,J,r)};return T}(ra.default);B.default=z};
shadow$provide[148]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.buffer=function(v,k,p){void 0===p&&(p=[0,0]);p[0]=v[0]+2*k;p[1]=v[1]+2*k;return p};B.hasArea=function(v){return 0<v[0]&&0<v[1]};B.scale=function(v,k,p){void 0===p&&(p=[0,0]);p[0]=v[0]*k+.5|0;p[1]=v[1]*k+.5|0;return p};B.toSize=function(v,k){if(Array.isArray(v))return v;void 0===k?k=[v,v]:(k[0]=v,k[1]=v);return k}};
shadow$provide[149]=function(ra,z,cb,B){function v(U){if("function"!==typeof WeakMap)return null;var ja=new WeakMap,ba=new WeakMap;return(v=function(ia){return ia?ba:ja})(U)}function k(U,ja){if(!ja&&U&&U.__esModule)return U;if(null===U||"object"!==typeof U&&"function"!==typeof U)return{default:U};if((ja=v(ja))&&ja.has(U))return ja.get(U);var ba={},ia=Object.defineProperty&&Object.getOwnPropertyDescriptor,za;for(za in U)if("default"!==za&&Object.prototype.hasOwnProperty.call(U,za)){var Wa=ia?Object.getOwnPropertyDescriptor(U,
za):null;Wa&&(Wa.get||Wa.set)?Object.defineProperty(ba,za,Wa):ba[za]=U[za]}ba.default=U;ja&&ja.set(U,ba);return ba}function p(U){return U&&U.__esModule?U:{default:U}}function A(U){U instanceof d.default?U.setMapInternal(null):U instanceof b.default&&U.getLayers().forEach(A)}function u(U,ja){if(U instanceof d.default)U.setMapInternal(ja);else if(U instanceof b.default){U=U.getLayers().getArray();for(var ba=0,ia=U.length;ba<ia;++ba)u(U[ba],ja)}}function m(U){var ja=null;void 0!==U.keyboardEventTarget&&
(ja="string"===typeof U.keyboardEventTarget?document.getElementById(U.keyboardEventTarget):U.keyboardEventTarget);var ba={},ia=U.layers&&"function"===typeof U.layers.getLayers?U.layers:new b.default({layers:U.layers});ba[q.default.LAYERGROUP]=ia;ba[q.default.TARGET]=U.target;ba[q.default.VIEW]=U.view instanceof G.default?U.view:new G.default;if(void 0!==U.controls)if(Array.isArray(U.controls))var za=new l.default(U.controls.slice());else(0,ca.assert)("function"===typeof U.controls.getArray,47),za=
U.controls;if(void 0!==U.interactions)if(Array.isArray(U.interactions))var Wa=new l.default(U.interactions.slice());else(0,ca.assert)("function"===typeof U.interactions.getArray,48),Wa=U.interactions;void 0!==U.overlays?Array.isArray(U.overlays)?U=new l.default(U.overlays.slice()):((0,ca.assert)("function"===typeof U.overlays.getArray,49),U=U.overlays):U=new l.default;return{controls:za,interactions:Wa,keyboardEventTarget:ja,overlays:U,values:ba}}Object.defineProperty(B,"__esModule",{value:!0});B.default=
void 0;ra=p(z(86));var l=p(z(101)),f=p(z(100)),g=p(z(83)),d=p(z(91)),b=k(z(102)),c=p(z(104)),a=p(z(107)),e=p(z(105)),t=p(z(103)),y=p(z(108)),q=p(z(109)),E=p(z(80)),F=p(z(106)),w=p(z(89)),D=k(z(112)),G=p(z(147)),L=p(z(115)),O=z(69),V=z(67),S=z(72),ca=z(71),ea=z(75),T=z(124),R=z(68),J=z(148),r=z(84),C=z(97),N=function(){var U=function(ja,ba){U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ia,za){ia.__proto__=za}||function(ia,za){for(var Wa in za)Object.prototype.hasOwnProperty.call(za,
Wa)&&(ia[Wa]=za[Wa])};return U(ja,ba)};return function(ja,ba){function ia(){this.constructor=ja}if("function"!==typeof ba&&null!==ba)throw new TypeError("Class extends value "+String(ba)+" is not a constructor or null");U(ja,ba);ja.prototype=null===ba?Object.create(ba):(ia.prototype=ba.prototype,new ia)}}();z=function(U){function ja(ba){var ia=U.call(this)||this,za=m(ba);ia.loaded_=!0;ia.boundHandleBrowserEvent_=ia.handleBrowserEvent.bind(ia);ia.maxTilesLoading_=void 0!==ba.maxTilesLoading?ba.maxTilesLoading:
16;ia.pixelRatio_=void 0!==ba.pixelRatio?ba.pixelRatio:O.DEVICE_PIXEL_RATIO;ia.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}.bind(ia);ia.coordinateToPixelTransform_=(0,S.create)();ia.pixelToCoordinateTransform_=(0,S.create)();ia.frameIndex_=0;ia.frameState_=null;ia.previousExtent_=null;ia.viewPropertyListenerKey_=null;ia.viewChangeListenerKey_=null;ia.layerGroupPropertyListenerKeys_=null;ia.viewport_=document.createElement("div");ia.viewport_.className="ol-viewport"+
("ontouchstart"in window?" ol-touch":"");ia.viewport_.style.position="relative";ia.viewport_.style.overflow="hidden";ia.viewport_.style.width="100%";ia.viewport_.style.height="100%";ia.overlayContainer_=document.createElement("div");ia.overlayContainer_.style.position="absolute";ia.overlayContainer_.style.zIndex="0";ia.overlayContainer_.style.width="100%";ia.overlayContainer_.style.height="100%";ia.overlayContainer_.style.pointerEvents="none";ia.overlayContainer_.className="ol-overlaycontainer";ia.viewport_.appendChild(ia.overlayContainer_);
ia.overlayContainerStopEvent_=document.createElement("div");ia.overlayContainerStopEvent_.style.position="absolute";ia.overlayContainerStopEvent_.style.zIndex="0";ia.overlayContainerStopEvent_.style.width="100%";ia.overlayContainerStopEvent_.style.height="100%";ia.overlayContainerStopEvent_.style.pointerEvents="none";ia.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";ia.viewport_.appendChild(ia.overlayContainerStopEvent_);ia.mapBrowserEventHandler_=null;ia.moveTolerance_=ba.moveTolerance;
ia.keyboardEventTarget_=za.keyboardEventTarget;ia.targetChangeHandlerKeys_=null;ia.controls=za.controls||new l.default;ia.interactions=za.interactions||new l.default;ia.overlays_=za.overlays;ia.overlayIdIndex_={};ia.renderer_=null;ia.postRenderFunctions_=[];ia.tileQueue_=new D.default(ia.getTilePriority.bind(ia),ia.handleTileChange_.bind(ia));ia.addChangeListener(q.default.LAYERGROUP,ia.handleLayerGroupChanged_);ia.addChangeListener(q.default.VIEW,ia.handleViewChanged_);ia.addChangeListener(q.default.SIZE,
ia.handleSizeChanged_);ia.addChangeListener(q.default.TARGET,ia.handleTargetChanged_);ia.setProperties(za.values);!ba.view||ba.view instanceof G.default||ba.view.then(function(Wa){ia.setView(new G.default(Wa))});ia.controls.addEventListener(f.default.ADD,function(Wa){Wa.element.setMap(this)}.bind(ia));ia.controls.addEventListener(f.default.REMOVE,function(Wa){Wa.element.setMap(null)}.bind(ia));ia.interactions.addEventListener(f.default.ADD,function(Wa){Wa.element.setMap(this)}.bind(ia));ia.interactions.addEventListener(f.default.REMOVE,
function(Wa){Wa.element.setMap(null)}.bind(ia));ia.overlays_.addEventListener(f.default.ADD,function(Wa){this.addOverlayInternal_(Wa.element)}.bind(ia));ia.overlays_.addEventListener(f.default.REMOVE,function(Wa){var hb=Wa.element.getId();void 0!==hb&&delete this.overlayIdIndex_[hb.toString()];Wa.element.setMap(null)}.bind(ia));ia.controls.forEach(function(Wa){Wa.setMap(this)}.bind(ia));ia.interactions.forEach(function(Wa){Wa.setMap(this)}.bind(ia));ia.overlays_.forEach(ia.addOverlayInternal_.bind(ia));
return ia}N(ja,U);ja.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method");};ja.prototype.addControl=function(ba){this.getControls().push(ba)};ja.prototype.addInteraction=function(ba){this.getInteractions().push(ba)};ja.prototype.addLayer=function(ba){this.getLayerGroup().getLayers().push(ba)};ja.prototype.handleLayerAdd_=function(ba){u(ba.layer,this)};ja.prototype.addOverlay=function(ba){this.getOverlays().push(ba)};ja.prototype.addOverlayInternal_=function(ba){var ia=
ba.getId();void 0!==ia&&(this.overlayIdIndex_[ia.toString()]=ba);ba.setMap(this)};ja.prototype.disposeInternal=function(){this.setTarget(null);U.prototype.disposeInternal.call(this)};ja.prototype.forEachFeatureAtPixel=function(ba,ia,za){if(this.frameState_&&this.renderer_)return ba=this.getCoordinateFromPixelInternal(ba),za=void 0!==za?za:{},this.renderer_.forEachFeatureAtCoordinate(ba,this.frameState_,void 0!==za.hitTolerance?za.hitTolerance:0,!1!==za.checkWrapped,ia,null,void 0!==za.layerFilter?
za.layerFilter:V.TRUE,null)};ja.prototype.getFeaturesAtPixel=function(ba,ia){var za=[];this.forEachFeatureAtPixel(ba,function(Wa){za.push(Wa)},ia);return za};ja.prototype.getAllLayers=function(){function ba(za){za.forEach(function(Wa){Wa instanceof b.default?ba(Wa.getLayers()):ia.push(Wa)})}var ia=[];ba(this.getLayers());return ia};ja.prototype.forEachLayerAtPixel=function(ba,ia,za){if(this.frameState_&&this.renderer_)return za=za||{},this.renderer_.forEachLayerAtPixel(ba,this.frameState_,void 0!==
za.hitTolerance?za.hitTolerance:0,ia,za.layerFilter||V.TRUE)};ja.prototype.hasFeatureAtPixel=function(ba,ia){if(!this.frameState_||!this.renderer_)return!1;ba=this.getCoordinateFromPixelInternal(ba);ia=void 0!==ia?ia:{};return this.renderer_.hasFeatureAtCoordinate(ba,this.frameState_,void 0!==ia.hitTolerance?ia.hitTolerance:0,!1!==ia.checkWrapped,void 0!==ia.layerFilter?ia.layerFilter:V.TRUE,null)};ja.prototype.getEventCoordinate=function(ba){return this.getCoordinateFromPixel(this.getEventPixel(ba))};
ja.prototype.getEventCoordinateInternal=function(ba){return this.getCoordinateFromPixelInternal(this.getEventPixel(ba))};ja.prototype.getEventPixel=function(ba){var ia=this.viewport_.getBoundingClientRect();ba="changedTouches"in ba?ba.changedTouches[0]:ba;return[ba.clientX-ia.left,ba.clientY-ia.top]};ja.prototype.getTarget=function(){return this.get(q.default.TARGET)};ja.prototype.getTargetElement=function(){var ba=this.getTarget();return void 0!==ba?"string"===typeof ba?document.getElementById(ba):
ba:null};ja.prototype.getCoordinateFromPixel=function(ba){return(0,T.toUserCoordinate)(this.getCoordinateFromPixelInternal(ba),this.getView().getProjection())};ja.prototype.getCoordinateFromPixelInternal=function(ba){var ia=this.frameState_;return ia?(0,S.apply)(ia.pixelToCoordinateTransform,ba.slice()):null};ja.prototype.getControls=function(){return this.controls};ja.prototype.getOverlays=function(){return this.overlays_};ja.prototype.getOverlayById=function(ba){ba=this.overlayIdIndex_[ba.toString()];
return void 0!==ba?ba:null};ja.prototype.getInteractions=function(){return this.interactions};ja.prototype.getLayerGroup=function(){return this.get(q.default.LAYERGROUP)};ja.prototype.setLayers=function(ba){var ia=this.getLayerGroup();ba instanceof l.default?ia.setLayers(ba):(ia=ia.getLayers(),ia.clear(),ia.extend(ba))};ja.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};ja.prototype.getLoadingOrNotReady=function(){for(var ba=this.getLayerGroup().getLayerStatesArray(),ia=0,
za=ba.length;ia<za;++ia){var Wa=ba[ia];if(Wa.visible){var hb=Wa.layer.getRenderer();if(hb&&!hb.ready||(Wa=Wa.layer.getSource())&&Wa.loading)return!0}}return!1};ja.prototype.getPixelFromCoordinate=function(ba){ba=(0,T.fromUserCoordinate)(ba,this.getView().getProjection());return this.getPixelFromCoordinateInternal(ba)};ja.prototype.getPixelFromCoordinateInternal=function(ba){var ia=this.frameState_;return ia?(0,S.apply)(ia.coordinateToPixelTransform,ba.slice(0,2)):null};ja.prototype.getRenderer=function(){return this.renderer_};
ja.prototype.getSize=function(){return this.get(q.default.SIZE)};ja.prototype.getView=function(){return this.get(q.default.VIEW)};ja.prototype.getViewport=function(){return this.viewport_};ja.prototype.getOverlayContainer=function(){return this.overlayContainer_};ja.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};ja.prototype.getOwnerDocument=function(){var ba=this.getTargetElement();return ba?ba.ownerDocument:document};ja.prototype.getTilePriority=function(ba,
ia,za,Wa){return(0,D.getTilePriority)(this.frameState_,ba,ia,za,Wa)};ja.prototype.handleBrowserEvent=function(ba,ia){ba=new c.default(ia||ba.type,this,ba);this.handleMapBrowserEvent(ba)};ja.prototype.handleMapBrowserEvent=function(ba){if(this.frameState_){var ia=ba.originalEvent,za=ia.type;if(za===F.default.POINTERDOWN||za===g.default.WHEEL||za===g.default.KEYDOWN){za=this.getOwnerDocument();var Wa=this.viewport_.getRootNode?this.viewport_.getRootNode():za;ia=ia.target;if(this.overlayContainerStopEvent_.contains(ia)||
!(Wa===za?za.documentElement:Wa).contains(ia))return}ba.frameState=this.frameState_;if(!1!==this.dispatchEvent(ba))for(ia=this.getInteractions().getArray().slice(),za=ia.length-1;0<=za&&(Wa=ia[za],Wa.getMap()!==this||!Wa.getActive()||!this.getTargetElement()||Wa.handleEvent(ba)&&!ba.propagationStopped);za--);}};ja.prototype.handlePostRender=function(){var ba=this.frameState_,ia=this.tileQueue_;if(!ia.isEmpty()){var za=this.maxTilesLoading_,Wa=za;if(ba){var hb=ba.viewHints;if(hb[L.default.ANIMATING]||
hb[L.default.INTERACTING])za=(Wa=8<Date.now()-ba.time)?0:8,Wa=Wa?0:2}ia.getTilesLoading()<za&&(ia.reprioritize(),ia.loadMoreTiles(za,Wa))}ba&&this.renderer_&&!ba.animate&&(!0===this.renderComplete_?(this.hasListener(w.default.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(w.default.RENDERCOMPLETE,ba),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new t.default(y.default.LOADEND,this,ba)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new t.default(y.default.LOADSTART,this,ba))));
ia=this.postRenderFunctions_;za=0;for(Wa=ia.length;za<Wa;++za)ia[za](this,ba);ia.length=0};ja.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()};ja.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var ba=0,ia=this.targetChangeHandlerKeys_.length;ba<ia;++ba)(0,r.unlistenByKey)(this.targetChangeHandlerKeys_[ba]);this.targetChangeHandlerKeys_=null;this.viewport_.removeEventListener(g.default.CONTEXTMENU,
this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(g.default.WHEEL,this.boundHandleBrowserEvent_);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,C.removeNode)(this.viewport_)}if(ba=this.getTargetElement()){ba.appendChild(this.viewport_);this.renderer_||(this.renderer_=this.createRenderer());this.mapBrowserEventHandler_=new a.default(this,this.moveTolerance_);for(var za in e.default)this.mapBrowserEventHandler_.addEventListener(e.default[za],this.handleMapBrowserEvent.bind(this));
this.viewport_.addEventListener(g.default.CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(g.default.WHEEL,this.boundHandleBrowserEvent_,O.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);za=this.getOwnerDocument().defaultView;ba=this.keyboardEventTarget_?this.keyboardEventTarget_:ba;this.targetChangeHandlerKeys_=[(0,r.listen)(ba,g.default.KEYDOWN,this.handleBrowserEvent,this),(0,r.listen)(ba,g.default.KEYPRESS,this.handleBrowserEvent,this),(0,r.listen)(za,g.default.RESIZE,this.updateSize,
this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()};ja.prototype.handleTileChange_=function(){this.render()};ja.prototype.handleViewPropertyChanged_=function(){this.render()};ja.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&
((0,r.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,r.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var ba=this.getView();ba&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,r.listen)(ba,E.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,r.listen)(ba,g.default.CHANGE,this.handleViewPropertyChanged_,this),ba.resolveConstraints(0));this.render()};
ja.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(r.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var ba=this.getLayerGroup();ba&&(this.handleLayerAdd_(new b.GroupEvent("addlayer",ba)),this.layerGroupPropertyListenerKeys_=[(0,r.listen)(ba,E.default.PROPERTYCHANGE,this.render,this),(0,r.listen)(ba,g.default.CHANGE,this.render,this),(0,r.listen)(ba,"addlayer",this.handleLayerAdd_,this),(0,r.listen)(ba,"removelayer",
this.handleLayerRemove_,this)]);this.render()};ja.prototype.isRendered=function(){return!!this.frameState_};ja.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};ja.prototype.redrawText=function(){for(var ba=this.getLayerGroup().getLayerStatesArray(),ia=0,za=ba.length;ia<za;++ia){var Wa=ba[ia].layer;Wa.hasRenderer()&&Wa.getRenderer().handleFontsChanged()}};ja.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&
(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))};ja.prototype.removeControl=function(ba){return this.getControls().remove(ba)};ja.prototype.removeInteraction=function(ba){return this.getInteractions().remove(ba)};ja.prototype.removeLayer=function(ba){return this.getLayerGroup().getLayers().remove(ba)};ja.prototype.handleLayerRemove_=function(ba){A(ba.layer)};ja.prototype.removeOverlay=function(ba){return this.getOverlays().remove(ba)};ja.prototype.renderFrame_=function(ba){var ia=
this,za=this.getSize(),Wa=this.getView(),hb=this.frameState_,Ja=null;void 0!==za&&(0,J.hasArea)(za)&&Wa&&Wa.isDef()&&(Ja=Wa.getHints(this.frameState_?this.frameState_.viewHints:void 0),Wa=Wa.getState(),Ja={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,ea.getForViewAndSize)(Wa.center,Wa.resolution,Wa.rotation,za),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,
postRenderFunctions:[],size:za,tileQueue:this.tileQueue_,time:ba,usedTiles:{},viewState:Wa,viewHints:Ja,wantedTiles:{},mapId:(0,R.getUid)(this),renderTargets:{}},Wa.nextCenter&&Wa.nextResolution&&(ba=isNaN(Wa.nextRotation)?Wa.rotation:Wa.nextRotation,Ja.nextExtent=(0,ea.getForViewAndSize)(Wa.nextCenter,Wa.nextResolution,ba,za)));this.frameState_=Ja;this.renderer_.renderFrame(Ja);Ja&&(Ja.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,Ja.postRenderFunctions),!hb||this.previousExtent_&&
((0,ea.isEmpty)(this.previousExtent_)||(0,ea.equals)(Ja.extent,this.previousExtent_))||(this.dispatchEvent(new t.default(y.default.MOVESTART,this,hb)),this.previousExtent_=(0,ea.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||Ja.viewHints[L.default.ANIMATING]||Ja.viewHints[L.default.INTERACTING]||(0,ea.equals)(Ja.extent,this.previousExtent_)||(this.dispatchEvent(new t.default(y.default.MOVEEND,this,Ja)),(0,ea.clone)(Ja.extent,this.previousExtent_)));this.dispatchEvent(new t.default(y.default.POSTRENDER,
this,Ja));this.renderComplete_=this.hasListener(y.default.LOADSTART)||this.hasListener(y.default.LOADEND)||this.hasListener(w.default.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0;this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){ia.postRenderTimeoutHandle_=void 0;ia.handlePostRender()},0))};ja.prototype.setLayerGroup=function(ba){var ia=this.getLayerGroup();ia&&this.handleLayerRemove_(new b.GroupEvent("removelayer",
ia));this.set(q.default.LAYERGROUP,ba)};ja.prototype.setSize=function(ba){this.set(q.default.SIZE,ba)};ja.prototype.setTarget=function(ba){this.set(q.default.TARGET,ba)};ja.prototype.setView=function(ba){if(!ba||ba instanceof G.default)this.set(q.default.VIEW,ba);else{this.set(q.default.VIEW,new G.default);var ia=this;ba.then(function(za){ia.setView(new G.default(za))})}};ja.prototype.updateSize=function(){var ba=this.getTargetElement(),ia=void 0;if(ba){var za=getComputedStyle(ba),Wa=ba.offsetWidth-
parseFloat(za.borderLeftWidth)-parseFloat(za.paddingLeft)-parseFloat(za.paddingRight)-parseFloat(za.borderRightWidth);za=ba.offsetHeight-parseFloat(za.borderTopWidth)-parseFloat(za.paddingTop)-parseFloat(za.paddingBottom)-parseFloat(za.borderBottomWidth);isNaN(Wa)||isNaN(za)||(ia=[Wa,za],!(0,J.hasArea)(ia)&&(ba.offsetWidth||ba.offsetHeight||ba.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(ia);this.updateViewportSize_()};ja.prototype.updateViewportSize_=
function(){var ba=this.getView();if(ba){var ia=void 0,za=getComputedStyle(this.viewport_);za.width&&za.height&&(ia=[parseInt(za.width,10),parseInt(za.height,10)]);ba.setViewportSize(ia)}};return ja}(ra.default);B.default=z};
shadow$provide[150]=function(ra,z,cb,B){function v(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(86));var k=v(z(108)),p=z(67),A=z(84),u=z(97),m=function(){var l=function(f,g){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}if("function"!==typeof g&&
null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();z=function(l){function f(g){var d=l.call(this)||this,b=g.element;!b||g.target||b.style.pointerEvents||(b.style.pointerEvents="auto");d.element=b?b:null;d.target_=null;d.map_=null;d.listenerKeys=[];g.render&&(d.render=g.render);g.target&&d.setTarget(g.target);return d}m(f,l);f.prototype.disposeInternal=function(){(0,u.removeNode)(this.element);
l.prototype.disposeInternal.call(this)};f.prototype.getMap=function(){return this.map_};f.prototype.setMap=function(g){this.map_&&(0,u.removeNode)(this.element);for(var d=0,b=this.listenerKeys.length;d<b;++d)(0,A.unlistenByKey)(this.listenerKeys[d]);this.listenerKeys.length=0;if(this.map_=g)(this.target_?this.target_:g.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==p.VOID&&this.listenerKeys.push((0,A.listen)(g,k.default.POSTRENDER,this.render,this)),g.render()};f.prototype.render=
function(g){};f.prototype.setTarget=function(g){this.target_="string"===typeof g?document.getElementById(g):g};return f}(ra.default);B.default=z};
shadow$provide[151]=function(ra,z,cb,B){function v(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(150));var k=v(z(83)),p=z(96),A=z(66),u=z(91),m=z(97),l=function(){var f=function(g,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};return f(g,d)};return function(g,d){function b(){this.constructor=g}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(g,d);g.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}();z=function(f){function g(d){var b=d?d:{};d=f.call(this,{element:document.createElement("div"),render:b.render,target:b.target})||this;d.ulElement_=document.createElement("ul");d.collapsed_=void 0!==b.collapsed?b.collapsed:!0;d.userCollapsed_=d.collapsed_;d.overrideCollapsible_=void 0!==b.collapsible;d.collapsible_=
void 0!==b.collapsible?b.collapsible:!0;d.collapsible_||(d.collapsed_=!1);var c=void 0!==b.className?b.className:"ol-attribution",a=void 0!==b.tipLabel?b.tipLabel:"Attributions",e=void 0!==b.expandClassName?b.expandClassName:c+"-expand",t=void 0!==b.collapseLabel?b.collapseLabel:"",y=void 0!==b.collapseClassName?b.collapseClassName:c+"-collapse";"string"===typeof t?(d.collapseLabel_=document.createElement("span"),d.collapseLabel_.textContent=t,d.collapseLabel_.className=y):d.collapseLabel_=t;b=void 0!==
b.label?b.label:"i";"string"===typeof b?(d.label_=document.createElement("span"),d.label_.textContent=b,d.label_.className=e):d.label_=b;e=d.collapsible_&&!d.collapsed_?d.collapseLabel_:d.label_;d.toggleButton_=document.createElement("button");d.toggleButton_.setAttribute("type","button");d.toggleButton_.setAttribute("aria-expanded",String(!d.collapsed_));d.toggleButton_.title=a;d.toggleButton_.appendChild(e);d.toggleButton_.addEventListener(k.default.CLICK,d.handleClick_.bind(d),!1);a=d.element;
a.className=c+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL+(d.collapsed_&&d.collapsible_?" "+p.CLASS_COLLAPSED:"")+(d.collapsible_?"":" ol-uncollapsible");a.appendChild(d.toggleButton_);a.appendChild(d.ulElement_);d.renderedAttributions_=[];d.renderedVisible_=!0;return d}l(g,f);g.prototype.collectSourceAttributions_=function(d){for(var b={},c=[],a=!0,e=d.layerStatesArray,t=0,y=e.length;t<y;++t){var q=e[t];if((0,u.inView)(q,d.viewState)){var E=q.layer.getSource();if(E&&(q=E.getAttributions())&&(q=
q(d)))if(a=a&&!1!==E.getAttributionsCollapsible(),Array.isArray(q)){E=0;for(var F=q.length;E<F;++E)q[E]in b||(c.push(q[E]),b[q[E]]=!0)}else q in b||(c.push(q),b[q]=!0)}}this.overrideCollapsible_||this.setCollapsible(a);return c};g.prototype.updateElement_=function(d){if(d){d=this.collectSourceAttributions_(d);var b=0<d.length;this.renderedVisible_!=b&&(this.element.style.display=b?"":"none",this.renderedVisible_=b);if(!(0,A.equals)(d,this.renderedAttributions_)){(0,m.removeChildren)(this.ulElement_);
b=0;for(var c=d.length;b<c;++b){var a=document.createElement("li");a.innerHTML=d[b];this.ulElement_.appendChild(a)}this.renderedAttributions_=d}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};g.prototype.handleClick_=function(d){d.preventDefault();this.handleToggle_();this.userCollapsed_=this.collapsed_};g.prototype.handleToggle_=function(){this.element.classList.toggle(p.CLASS_COLLAPSED);this.collapsed_?(0,m.replaceNode)(this.collapseLabel_,this.label_):
(0,m.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))};g.prototype.getCollapsible=function(){return this.collapsible_};g.prototype.setCollapsible=function(d){this.collapsible_!==d&&(this.collapsible_=d,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())};g.prototype.setCollapsed=function(d){this.userCollapsed_=d;this.collapsible_&&this.collapsed_!==d&&this.handleToggle_()};
g.prototype.getCollapsed=function(){return this.collapsed_};g.prototype.render=function(d){this.updateElement_(d.frameState)};return g}(ra.default);B.default=z};
shadow$provide[152]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(150));var k=v(z(83)),p=z(96),A=z(128),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(f){var g=f?f:{};f=m.call(this,{element:document.createElement("div"),render:g.render,target:g.target})||this;var d=void 0!==g.className?g.className:"ol-rotate",b=void 0!==g.label?g.label:"",c=void 0!==g.compassClassName?g.compassClassName:"ol-compass";f.label_=null;"string"===typeof b?(f.label_=document.createElement("span"),
f.label_.className=c,f.label_.textContent=b):(f.label_=b,f.label_.classList.add(c));c=g.tipLabel?g.tipLabel:"Reset rotation";b=document.createElement("button");b.className=d+"-reset";b.setAttribute("type","button");b.title=c;b.appendChild(f.label_);b.addEventListener(k.default.CLICK,f.handleClick_.bind(f),!1);c=f.element;c.className=d+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL;c.appendChild(b);f.callResetNorth_=g.resetNorth?g.resetNorth:void 0;f.duration_=void 0!==g.duration?g.duration:250;f.autoHide_=
void 0!==g.autoHide?g.autoHide:!0;f.rotation_=void 0;f.autoHide_&&f.element.classList.add(p.CLASS_HIDDEN);return f}u(l,m);l.prototype.handleClick_=function(f){f.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};l.prototype.resetNorth_=function(){var f=this.getMap().getView();if(f){var g=f.getRotation();void 0!==g&&(0<this.duration_&&0!==g%(2*Math.PI)?f.animate({rotation:0,duration:this.duration_,easing:A.easeOut}):f.setRotation(0))}};l.prototype.render=function(f){if(f=
f.frameState){f=f.viewState.rotation;if(f!=this.rotation_){var g="rotate("+f+"rad)";if(this.autoHide_){var d=this.element.classList.contains(p.CLASS_HIDDEN);d||0!==f?d&&0!==f&&this.element.classList.remove(p.CLASS_HIDDEN):this.element.classList.add(p.CLASS_HIDDEN)}this.label_.style.transform=g}this.rotation_=f}};return l}(ra.default);B.default=z};
shadow$provide[153]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(150));var k=v(z(83)),p=z(96),A=z(128),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(f){var g=f?f:{};f=m.call(this,{element:document.createElement("div"),target:g.target})||this;var d=void 0!==g.className?g.className:"ol-zoom",b=void 0!==g.delta?g.delta:1,c=void 0!==g.zoomInClassName?g.zoomInClassName:d+"-in",a=void 0!==g.zoomOutClassName?g.zoomOutClassName:d+"-out",e=void 0!==g.zoomInLabel?
g.zoomInLabel:"+",t=void 0!==g.zoomOutLabel?g.zoomOutLabel:"",y=void 0!==g.zoomInTipLabel?g.zoomInTipLabel:"Zoom in",q=void 0!==g.zoomOutTipLabel?g.zoomOutTipLabel:"Zoom out",E=document.createElement("button");E.className=c;E.setAttribute("type","button");E.title=y;E.appendChild("string"===typeof e?document.createTextNode(e):e);E.addEventListener(k.default.CLICK,f.handleClick_.bind(f,b),!1);c=document.createElement("button");c.className=a;c.setAttribute("type","button");c.title=q;c.appendChild("string"===
typeof t?document.createTextNode(t):t);c.addEventListener(k.default.CLICK,f.handleClick_.bind(f,-b),!1);b=f.element;b.className=d+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL;b.appendChild(E);b.appendChild(c);f.duration_=void 0!==g.duration?g.duration:250;return f}u(l,m);l.prototype.handleClick_=function(f,g){g.preventDefault();this.zoomByDelta_(f)};l.prototype.zoomByDelta_=function(f){var g=this.getMap().getView();if(g){var d=g.getZoom();void 0!==d&&(f=g.getConstrainedZoom(d+f),0<this.duration_?
(g.getAnimating()&&g.cancelAnimations(),g.animate({zoom:f,duration:this.duration_,easing:A.easeOut})):g.setZoom(f))}};return l}(ra.default);B.default=z};
shadow$provide[154]=function(ra,z,cb,B){function v(c){return c&&c.__esModule?c:{default:c}}function k(c){var a=c.body;return!!(a.webkitRequestFullscreen||a.msRequestFullscreen&&c.msFullscreenEnabled||a.requestFullscreen&&c.fullscreenEnabled)}function p(c){return!!(c.webkitIsFullScreen||c.msFullscreenElement||c.fullscreenElement)}function A(c){c.requestFullscreen?c.requestFullscreen():c.msRequestFullscreen?c.msRequestFullscreen():c.webkitRequestFullscreen&&c.webkitRequestFullscreen()}Object.defineProperty(B,
"__esModule",{value:!0});B.default=void 0;ra=v(z(150));var u=v(z(83)),m=v(z(109)),l=z(96),f=z(84),g=z(97),d=function(){var c=function(a,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,y){t.__proto__=y}||function(t,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(t[q]=y[q])};return c(a,e)};return function(a,e){function t(){this.constructor=a}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c(a,
e);a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),b=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];z=function(c){function a(e){var t=e?e:{};e=c.call(this,{element:document.createElement("div"),target:t.target})||this;e.keys_=void 0!==t.keys?t.keys:!1;e.source_=t.source;e.isInFullscreen_=!1;e.boundHandleMapTargetChange_=e.handleMapTargetChange_.bind(e);e.cssClassName_=void 0!==t.className?t.className:"ol-full-screen";e.documentListeners_=[];e.activeClassName_=
void 0!==t.activeClassName?t.activeClassName.split(" "):[e.cssClassName_+"-true"];e.inactiveClassName_=void 0!==t.inactiveClassName?t.inactiveClassName.split(" "):[e.cssClassName_+"-false"];var y=void 0!==t.label?t.label:"";e.labelNode_="string"===typeof y?document.createTextNode(y):y;y=void 0!==t.labelActive?t.labelActive:"";e.labelActiveNode_="string"===typeof y?document.createTextNode(y):y;t=t.tipLabel?t.tipLabel:"Toggle full-screen";e.button_=document.createElement("button");e.button_.title=
t;e.button_.setAttribute("type","button");e.button_.appendChild(e.labelNode_);e.button_.addEventListener(u.default.CLICK,e.handleClick_.bind(e),!1);e.setClassName_(e.button_,e.isInFullscreen_);e.element.className="".concat(e.cssClassName_," ").concat(l.CLASS_UNSELECTABLE," ").concat(l.CLASS_CONTROL);e.element.appendChild(e.button_);return e}d(a,c);a.prototype.handleClick_=function(e){e.preventDefault();this.handleFullScreen_()};a.prototype.handleFullScreen_=function(){var e=this.getMap();if(e){var t=
e.getOwnerDocument();k(t)&&(p(t)?t.exitFullscreen?t.exitFullscreen():t.msExitFullscreen?t.msExitFullscreen():t.webkitExitFullscreen&&t.webkitExitFullscreen():(e=this.source_?"string"===typeof this.source_?t.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?e.webkitRequestFullscreen?e.webkitRequestFullscreen():A(e):A(e)))}};a.prototype.handleFullScreenChange_=function(){var e=this.getMap();if(e){var t=this.isInFullscreen_;this.isInFullscreen_=p(e.getOwnerDocument());t!==this.isInFullscreen_&&
(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?((0,g.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):((0,g.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),e.updateSize())}};a.prototype.setClassName_=function(e,t){var y,q,E,F;t?((y=e.classList).remove.apply(y,this.inactiveClassName_),(q=e.classList).add.apply(q,this.activeClassName_)):((E=e.classList).remove.apply(E,this.activeClassName_),
(F=e.classList).add.apply(F,this.inactiveClassName_))};a.prototype.setMap=function(e){var t=this.getMap();t&&t.removeChangeListener(m.default.TARGET,this.boundHandleMapTargetChange_);c.prototype.setMap.call(this,e);this.handleMapTargetChange_();e&&e.addChangeListener(m.default.TARGET,this.boundHandleMapTargetChange_)};a.prototype.handleMapTargetChange_=function(){for(var e=this.documentListeners_,t=0,y=e.length;t<y;++t)(0,f.unlistenByKey)(e[t]);e.length=0;if(t=this.getMap()){var q=t.getOwnerDocument();
k(q)?this.element.classList.remove(l.CLASS_UNSUPPORTED):this.element.classList.add(l.CLASS_UNSUPPORTED);t=0;for(y=b.length;t<y;++t)e.push((0,f.listen)(q,b[t],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}};return a}(ra.default);B.default=z};
shadow$provide[155]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(150));var k=v(z(106)),p=z(124),A=z(84),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(f){var g=f?f:{},d=document.createElement("div");d.className=void 0!==g.className?g.className:"ol-mouse-position";f=m.call(this,{element:d,render:g.render,target:g.target})||this;f.addChangeListener("projection",f.handleProjectionChanged_);g.coordinateFormat&&f.setCoordinateFormat(g.coordinateFormat);
g.projection&&f.setProjection(g.projection);var b=!0,c="\x26#160;";"undefinedHTML"in g?(void 0!==g.undefinedHTML&&(c=g.undefinedHTML),b=!!c):"placeholder"in g&&(!1===g.placeholder?b=!1:c=String(g.placeholder));f.placeholder_=c;f.renderOnMouseOut_=b;f.renderedHTML_=d.innerHTML;f.mapProjection_=null;f.transform_=null;return f}u(l,m);l.prototype.handleProjectionChanged_=function(){this.transform_=null};l.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")};l.prototype.getProjection=
function(){return this.get("projection")};l.prototype.handleMouseMove=function(f){var g=this.getMap();this.updateHTML_(g.getEventPixel(f))};l.prototype.handleMouseOut=function(f){this.updateHTML_(null)};l.prototype.setMap=function(f){m.prototype.setMap.call(this,f);f&&(f=f.getViewport(),this.listenerKeys.push((0,A.listen)(f,k.default.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,A.listen)(f,k.default.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null))};
l.prototype.setCoordinateFormat=function(f){this.set("coordinateFormat",f)};l.prototype.setProjection=function(f){this.set("projection",(0,p.get)(f))};l.prototype.updateHTML_=function(f){var g=this.placeholder_;if(f&&this.mapProjection_){if(!this.transform_){var d=this.getProjection();this.transform_=d?(0,p.getTransformFromProjections)(this.mapProjection_,d):p.identityTransform}if(f=this.getMap().getCoordinateFromPixelInternal(f)){if(g=(0,p.getUserProjection)())this.transform_=(0,p.getTransformFromProjections)(this.mapProjection_,
g);this.transform_(f,f);g=(g=this.getCoordinateFormat())?g(f):f.toString()}}this.renderedHTML_&&g===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=g)};l.prototype.render=function(f){f=f.frameState;f?this.mapProjection_!=f.viewState.projection&&(this.mapProjection_=f.viewState.projection,this.transform_=null):this.mapProjection_=null};return l}(ra.default);B.default=z};
shadow$provide[156]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"}};
shadow$provide[157]=function(ra,z,cb,B){function v(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(86));var k=v(z(108)),p=v(z(156)),A=z(96),u=z(75),m=z(84),l=z(97),f=function(){var g=function(d,b){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e])};return g(d,b)};return function(d,b){function c(){this.constructor=d}
if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(d,b);d.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}();z=function(g){function d(b){var c=g.call(this)||this;c.options=b;c.id=b.id;c.insertFirst=void 0!==b.insertFirst?b.insertFirst:!0;c.stopEvent=void 0!==b.stopEvent?b.stopEvent:!0;c.element=document.createElement("div");c.element.className=void 0!==b.className?b.className:"ol-overlay-container "+A.CLASS_SELECTABLE;
c.element.style.position="absolute";c.element.style.pointerEvents="auto";var a=b.autoPan;a&&"object"!==typeof a&&(a={animation:b.autoPanAnimation,margin:b.autoPanMargin});c.autoPan=a||!1;c.rendered={transform_:"",visible:!0};c.mapPostrenderListenerKey=null;c.addChangeListener("element",c.handleElementChanged);c.addChangeListener("map",c.handleMapChanged);c.addChangeListener("offset",c.handleOffsetChanged);c.addChangeListener("position",c.handlePositionChanged);c.addChangeListener("positioning",c.handlePositioningChanged);
void 0!==b.element&&c.setElement(b.element);c.setOffset(void 0!==b.offset?b.offset:[0,0]);c.setPositioning(void 0!==b.positioning?b.positioning:p.default.TOP_LEFT);void 0!==b.position&&c.setPosition(b.position);return c}f(d,g);d.prototype.getElement=function(){return this.get("element")};d.prototype.getId=function(){return this.id};d.prototype.getMap=function(){return this.get("map")||null};d.prototype.getOffset=function(){return this.get("offset")};d.prototype.getPosition=function(){return this.get("position")};
d.prototype.getPositioning=function(){return this.get("positioning")};d.prototype.handleElementChanged=function(){(0,l.removeChildren)(this.element);var b=this.getElement();b&&this.element.appendChild(b)};d.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,l.removeNode)(this.element),(0,m.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var b=this.getMap();b&&(this.mapPostrenderListenerKey=(0,m.listen)(b,k.default.POSTRENDER,this.render,this),
this.updatePixelPosition(),b=this.stopEvent?b.getOverlayContainerStopEvent():b.getOverlayContainer(),this.insertFirst?b.insertBefore(this.element,b.childNodes[0]||null):b.appendChild(this.element),this.performAutoPan())};d.prototype.render=function(){this.updatePixelPosition()};d.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};d.prototype.handlePositionChanged=function(){this.updatePixelPosition();this.performAutoPan()};d.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};
d.prototype.setElement=function(b){this.set("element",b)};d.prototype.setMap=function(b){this.set("map",b)};d.prototype.setOffset=function(b){this.set("offset",b)};d.prototype.setPosition=function(b){this.set("position",b)};d.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)};d.prototype.panIntoView=function(b){var c=this.getMap();if(c&&c.getTargetElement()&&this.get("position")){var a=this.getRect(c.getTargetElement(),c.getSize()),e=this.getElement(),t=this.getRect(e,
[(0,l.outerWidth)(e),(0,l.outerHeight)(e)]);b=b||{};e=void 0===b.margin?20:b.margin;if(!(0,u.containsExtent)(a,t)){var y=t[0]-a[0],q=a[2]-t[2],E=t[1]-a[1];t=a[3]-t[3];a=[0,0];0>y?a[0]=y-e:0>q&&(a[0]=Math.abs(q)+e);0>E?a[1]=E-e:0>t&&(a[1]=Math.abs(t)+e);if(0!==a[0]||0!==a[1])if(e=c.getView().getCenterInternal(),e=c.getPixelFromCoordinateInternal(e))a=[e[0]+a[0],e[1]+a[1]],b=b.animation||{},c.getView().animateInternal({center:c.getCoordinateFromPixelInternal(a),duration:b.duration,easing:b.easing})}}};
d.prototype.getRect=function(b,c){var a=b.getBoundingClientRect();b=a.left+window.pageXOffset;a=a.top+window.pageYOffset;return[b,a,b+c[0],a+c[1]]};d.prototype.setPositioning=function(b){this.set("positioning",b)};d.prototype.setVisible=function(b){this.rendered.visible!==b&&(this.element.style.display=b?"":"none",this.rendered.visible=b)};d.prototype.updatePixelPosition=function(){var b=this.getMap(),c=this.getPosition();b&&b.isRendered()&&c?(c=b.getPixelFromCoordinate(c),b=b.getSize(),this.updateRenderedPosition(c,
b)):this.setVisible(!1)};d.prototype.updateRenderedPosition=function(b,c){c=this.element.style;var a=this.getOffset(),e=this.getPositioning();this.setVisible(!0);var t=Math.round(b[0]+a[0])+"px";b=Math.round(b[1]+a[1])+"px";var y=a="0%";if(e==p.default.BOTTOM_RIGHT||e==p.default.CENTER_RIGHT||e==p.default.TOP_RIGHT)a="-100%";else if(e==p.default.BOTTOM_CENTER||e==p.default.CENTER_CENTER||e==p.default.TOP_CENTER)a="-50%";if(e==p.default.BOTTOM_LEFT||e==p.default.BOTTOM_CENTER||e==p.default.BOTTOM_RIGHT)y=
"-100%";else if(e==p.default.CENTER_LEFT||e==p.default.CENTER_CENTER||e==p.default.CENTER_RIGHT)y="-50%";e="translate(".concat(a,", ").concat(y,") translate(").concat(t,", ").concat(b,")");this.rendered.transform_!=e&&(this.rendered.transform_=e,c.transform=e,c.msTransform=e)};d.prototype.getOptions=function(){return this.options};return d}(ra.default);B.default=z};
shadow$provide[158]=function(ra,z,cb,B){function v(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(99));ra=v(z(150));var p=v(z(83)),A=v(z(108)),u=v(z(109)),m=v(z(80)),l=v(z(157)),f=v(z(156));cb=v(z(149));var g=v(z(147)),d=v(z(116)),b=z(96),c=z(75),a=z(84),e=z(146),t=z(97),y=function(){var E=function(F,w){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var L in G)Object.prototype.hasOwnProperty.call(G,
L)&&(D[L]=G[L])};return E(F,w)};return function(F,w){function D(){this.constructor=F}if("function"!==typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");E(F,w);F.prototype=null===w?Object.create(w):(D.prototype=w.prototype,new D)}}(),q=function(E){function F(){return null!==E&&E.apply(this,arguments)||this}y(F,E);F.prototype.createRenderer=function(){return new k.default(this)};return F}(cb.default);z=function(E){function F(w){var D=this,G=w?w:
{};D=E.call(this,{element:document.createElement("div"),render:G.render,target:G.target})||this;D.boundHandleRotationChanged_=D.handleRotationChanged_.bind(D);D.collapsed_=void 0!==G.collapsed?G.collapsed:!0;D.collapsible_=void 0!==G.collapsible?G.collapsible:!0;D.collapsible_||(D.collapsed_=!1);D.rotateWithView_=void 0!==G.rotateWithView?G.rotateWithView:!1;D.viewExtent_=void 0;w=void 0!==G.className?G.className:"ol-overviewmap";var L=void 0!==G.tipLabel?G.tipLabel:"Overview map",O=void 0!==G.collapseLabel?
G.collapseLabel:"";"string"===typeof O?(D.collapseLabel_=document.createElement("span"),D.collapseLabel_.textContent=O):D.collapseLabel_=O;O=void 0!==G.label?G.label:"";"string"===typeof O?(D.label_=document.createElement("span"),D.label_.textContent=O):D.label_=O;var V=D.collapsible_&&!D.collapsed_?D.collapseLabel_:D.label_;O=document.createElement("button");O.setAttribute("type","button");O.title=L;O.appendChild(V);O.addEventListener(p.default.CLICK,D.handleClick_.bind(D),!1);D.ovmapDiv_=document.createElement("div");
D.ovmapDiv_.className="ol-overviewmap-map";D.view_=G.view;D.ovmap_=new q({view:G.view});var S=D.ovmap_;G.layers&&G.layers.forEach(function(J){S.addLayer(J)});G=document.createElement("div");G.className="ol-overviewmap-box";G.style.boxSizing="border-box";D.boxOverlay_=new l.default({position:[0,0],positioning:f.default.CENTER_CENTER,element:G});D.ovmap_.addOverlay(D.boxOverlay_);G=D.element;G.className=w+" "+b.CLASS_UNSELECTABLE+" "+b.CLASS_CONTROL+(D.collapsed_&&D.collapsible_?" "+b.CLASS_COLLAPSED:
"")+(D.collapsible_?"":" ol-uncollapsible");G.appendChild(D.ovmapDiv_);G.appendChild(O);var ca=D,ea=D.boxOverlay_,T=function(J){J=S.getEventCoordinateInternal({clientX:J.clientX,clientY:J.clientY});ea.setPosition(J)},R=function(J){J=S.getEventCoordinateInternal(J);ca.getMap().getView().setCenterInternal(J);window.removeEventListener("mousemove",T);window.removeEventListener("mouseup",R)};D.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",T);window.addEventListener("mouseup",
R)});return D}y(F,E);F.prototype.setMap=function(w){var D=this.getMap();if(w!==D&&(D&&((D=D.getView())&&this.unbindView_(D),this.ovmap_.setTarget(null)),E.prototype.setMap.call(this,w),w)){this.ovmap_.setTarget(this.ovmapDiv_);this.listenerKeys.push((0,a.listen)(w,m.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this));if(w=w.getView())this.bindView_(w),w.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_());this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}};F.prototype.handleMapPropertyChange_=
function(w){w.key===u.default.VIEW?((w=w.oldValue)&&this.unbindView_(w),w=this.getMap().getView(),this.bindView_(w)):this.ovmap_.isRendered()||w.key!==u.default.TARGET&&w.key!==u.default.SIZE||this.ovmap_.updateSize()};F.prototype.bindView_=function(w){if(!this.view_){var D=new g.default({projection:w.getProjection()});this.ovmap_.setView(D)}w.addChangeListener(d.default.ROTATION,this.boundHandleRotationChanged_);this.handleRotationChanged_()};F.prototype.unbindView_=function(w){w.removeChangeListener(d.default.ROTATION,
this.boundHandleRotationChanged_)};F.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};F.prototype.validateExtent_=function(){var w=this.getMap(),D=this.ovmap_;if(w.isRendered()&&D.isRendered()){var G=w.getSize();w=w.getView().calculateExtentInternal(G);if(!this.viewExtent_||!(0,c.equals)(w,this.viewExtent_)){this.viewExtent_=w;var L=D.getSize();G=D.getView().calculateExtentInternal(L);var O=D.getPixelFromCoordinateInternal((0,c.getTopLeft)(w)),
V=D.getPixelFromCoordinateInternal((0,c.getBottomRight)(w));D=Math.abs(O[0]-V[0]);O=Math.abs(O[1]-V[1]);V=L[0];L=L[1];D<.1*V||O<.1*L||D>.75*V||O>.75*L?this.resetExtent_():(0,c.containsExtent)(G,w)||this.recenter_()}}};F.prototype.resetExtent_=function(){var w=this.getMap(),D=this.ovmap_,G=w.getSize();w=w.getView().calculateExtentInternal(G);D=D.getView();(0,c.scaleFromCenter)(w,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2)));D.fitInternal((0,e.fromExtent)(w))};F.prototype.recenter_=function(){var w=
this.getMap(),D=this.ovmap_;w=w.getView();D.getView().setCenterInternal(w.getCenterInternal())};F.prototype.updateBox_=function(){var w=this.getMap(),D=this.ovmap_;if(w.isRendered()&&D.isRendered()){var G=w.getSize(),L=w.getView(),O=D.getView();D=this.rotateWithView_?0:-L.getRotation();w=this.boxOverlay_;var V=this.boxOverlay_.getElement(),S=L.getCenterInternal();L=L.getResolution();var ca=O.getResolution();O=G[0]*L/ca;G=G[1]*L/ca;w.setPosition(S);V&&(V.style.width=O+"px",V.style.height=G+"px",V.style.transform=
"rotate("+D+"rad)")}};F.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=(0,a.listenOnce)(this.ovmap_,A.default.POSTRENDER,function(w){delete this.ovmapPostrenderKey_;this.updateBox_()},this))};F.prototype.handleClick_=function(w){w.preventDefault();this.handleToggle_()};F.prototype.handleToggle_=function(){this.element.classList.toggle(b.CLASS_COLLAPSED);this.collapsed_?(0,t.replaceNode)(this.collapseLabel_,this.label_):(0,t.replaceNode)(this.label_,
this.collapseLabel_);this.collapsed_=!this.collapsed_;var w=this.ovmap_;this.collapsed_||(w.isRendered()?(this.viewExtent_=void 0,w.render()):(w.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()))};F.prototype.getCollapsible=function(){return this.collapsible_};F.prototype.setCollapsible=function(w){this.collapsible_!==w&&(this.collapsible_=w,this.element.classList.toggle("ol-uncollapsible"),!w&&this.collapsed_&&this.handleToggle_())};F.prototype.setCollapsed=function(w){this.collapsible_&&
this.collapsed_!==w&&this.handleToggle_()};F.prototype.getCollapsed=function(){return this.collapsed_};F.prototype.getRotateWithView=function(){return this.rotateWithView_};F.prototype.setRotateWithView=function(w){this.rotateWithView_!==w&&(this.rotateWithView_=w,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))};F.prototype.getOverviewMap=function(){return this.ovmap_};
F.prototype.render=function(w){this.validateExtent_();this.updateBox_()};return F}(ra.default);B.default=z};
shadow$provide[159]=function(ra,z,cb,B){function v(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.Units=void 0;ra=v(z(150));var k=v(z(114)),p=z(96),A=z(124),u=z(71),m=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=b}if("function"!==
typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}(),l={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};B.Units=l;var f=[1,2,5],g=25.4/.28;z=function(d){function b(c){var a=c?c:{},e=void 0!==a.className?a.className:a.bar?"ol-scale-bar":"ol-scale-line";c=d.call(this,{element:document.createElement("div"),render:a.render,target:a.target})||
this;c.innerElement_=document.createElement("div");c.innerElement_.className=e+"-inner";c.element.className=e+" "+p.CLASS_UNSELECTABLE;c.element.appendChild(c.innerElement_);c.viewState_=null;c.minWidth_=void 0!==a.minWidth?a.minWidth:64;c.renderedVisible_=!1;c.renderedWidth_=void 0;c.renderedHTML_="";c.addChangeListener("units",c.handleUnitsChanged_);c.setUnits(a.units||l.METRIC);c.scaleBar_=a.bar||!1;c.scaleBarSteps_=a.steps||4;c.scaleBarText_=a.text||!1;c.dpi_=a.dpi||void 0;return c}m(b,d);b.prototype.getUnits=
function(){return this.get("units")};b.prototype.handleUnitsChanged_=function(){this.updateElement_()};b.prototype.setUnits=function(c){this.set("units",c)};b.prototype.setDpi=function(c){this.dpi_=c};b.prototype.updateElement_=function(){var c=this.viewState_;if(c){var a=c.center,e=c.projection,t=this.getUnits();c=(0,A.getPointResolution)(e,c.resolution,a,t==l.DEGREES?k.default.DEGREES:k.default.METERS);a=this.minWidth_*(this.dpi_||g)/g;var y=a*c;e="";t==l.DEGREES?(e=A.METERS_PER_UNIT[k.default.DEGREES],
y*=e,y<e/60?(e="",c*=3600):y<e?(e="",c*=60):e=""):t==l.IMPERIAL?.9144>y?(e="in",c/=.0254):1609.344>y?(e="ft",c/=.3048):(e="mi",c/=1609.344):t==l.NAUTICAL?(c/=1852,e="nm"):t==l.METRIC?.001>y?(e="m",c*=1E6):1>y?(e="mm",c*=1E3):1E3>y?e="m":(e="km",c/=1E3):t==l.US?.9144>y?(e="in",c*=39.37):1609.344>y?(e="ft",c/=.30480061):(e="mi",c/=1609.3472):(0,u.assert)(!1,33);y=3*Math.floor(Math.log(a*c)/Math.log(10));for(var q,E;;){E=Math.floor(y/3);q=f[(y%3+3)%3]*Math.pow(10,E);t=Math.round(q/c);if(isNaN(t)){this.element.style.display=
"none";this.renderedVisible_=!1;return}if(t>=a)break;++y}c=this.scaleBar_?this.createScaleBar(t,q,e):q.toFixed(0>E?-E:0)+" "+e;this.renderedHTML_!=c&&(this.renderedHTML_=this.innerElement_.innerHTML=c);this.renderedWidth_!=t&&(this.innerElement_.style.width=t+"px",this.renderedWidth_=t);this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};b.prototype.createScaleBar=function(c,a,e){for(var t=
"1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),y=[],q=c/this.scaleBarSteps_,E="#ffffff",F=0;F<this.scaleBarSteps_;F++)0===F&&y.push(this.createMarker("absolute",F)),y.push('\x3cdiv\x3e\x3cdiv class\x3d"ol-scale-singlebar" style\x3d"width: '+q+"px;background-color: "+E+';"\x3e\x3c/div\x3e'+this.createMarker("relative",F)+(0===F%2||2===this.scaleBarSteps_?this.createStepText(F,c,!1,a,e):"")+"\x3c/div\x3e"),F===this.scaleBarSteps_-1&&y.push(this.createStepText(F+1,c,!0,a,e)),E="#ffffff"===
E?"#000000":"#ffffff";return'\x3cdiv style\x3d"display: flex;"\x3e'+(this.scaleBarText_?'\x3cdiv class\x3d"ol-scale-text" style\x3d"width: '+c+'px;"\x3e'+t+"\x3c/div\x3e":"")+y.join("")+"\x3c/div\x3e"};b.prototype.createMarker=function(c,a){return'\x3cdiv class\x3d"ol-scale-step-marker" style\x3d"position: '+c+";top: "+("absolute"===c?3:-10)+'px;"\x3e\x3c/div\x3e'};b.prototype.createStepText=function(c,a,e,t,y){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"margin-left: '+(0===c?-3:a/this.scaleBarSteps_*
-1)+"px;text-align: "+(0===c?"left":"center")+"; min-width: "+(0===c?0:a/this.scaleBarSteps_*2)+"px;left: "+(e?a+"px":"unset")+';"\x3e'+((0===c?0:Math.round(t/this.scaleBarSteps_*c*100)/100)+(0===c?"":" "+y))+"\x3c/div\x3e"};b.prototype.getScaleForResolution=function(){var c=(0,A.getPointResolution)(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,k.default.METERS),a=this.dpi_||g,e=1E3/25.4;return parseFloat(c.toString())*e*a};b.prototype.render=function(c){this.viewState_=
(c=c.frameState)?c.viewState:null;this.updateElement_()};return b}(ra.default);B.default=z};
shadow$provide[160]=function(ra,z,cb,B){function v(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(150));var k=v(z(83)),p=v(z(106)),A=z(96),u=z(76),m=z(128),l=z(84),f=z(79),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=
b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();z=function(d){function b(c){var a=c?c:{};c=d.call(this,{element:document.createElement("div"),render:a.render})||this;c.dragListenerKeys_=[];c.currentResolution_=void 0;c.direction_=0;c.heightLimit_=0;c.widthLimit_=0;c.thumbSize_=null;c.sliderInitialized_=!1;c.duration_=void 0!==a.duration?a.duration:
200;a=void 0!==a.className?a.className:"ol-zoomslider";var e=document.createElement("button");e.setAttribute("type","button");e.className=a+"-thumb "+A.CLASS_UNSELECTABLE;var t=c.element;t.className=a+" "+A.CLASS_UNSELECTABLE+" "+A.CLASS_CONTROL;t.appendChild(e);t.addEventListener(p.default.POINTERDOWN,c.handleDraggerStart_.bind(c),!1);t.addEventListener(p.default.POINTERMOVE,c.handleDraggerDrag_.bind(c),!1);t.addEventListener(p.default.POINTERUP,c.handleDraggerEnd_.bind(c),!1);t.addEventListener(k.default.CLICK,
c.handleContainerClick_.bind(c),!1);e.addEventListener(k.default.CLICK,f.stopPropagation,!1);return c}g(b,d);b.prototype.setMap=function(c){d.prototype.setMap.call(this,c);c&&c.render()};b.prototype.initSlider_=function(){var c=this.element,a=c.offsetWidth,e=c.offsetHeight;if(0===a&&0===e)return this.sliderInitialized_=!1;var t=getComputedStyle(c);a-=parseFloat(t.paddingRight)+parseFloat(t.paddingLeft);e-=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom);t=c.firstElementChild;var y=getComputedStyle(t);
c=t.offsetWidth+parseFloat(y.marginRight)+parseFloat(y.marginLeft);t=t.offsetHeight+parseFloat(y.marginTop)+parseFloat(y.marginBottom);this.thumbSize_=[c,t];a>e?(this.direction_=1,this.widthLimit_=a-c):(this.direction_=0,this.heightLimit_=e-t);return this.sliderInitialized_=!0};b.prototype.handleContainerClick_=function(c){var a=this.getMap().getView();c=this.getRelativePosition_(c.offsetX-this.thumbSize_[0]/2,c.offsetY-this.thumbSize_[1]/2);c=this.getResolutionForPosition_(c);c=a.getConstrainedZoom(a.getZoomForResolution(c));
a.animateInternal({zoom:c,duration:this.duration_,easing:m.easeOut})};b.prototype.handleDraggerStart_=function(c){if(!this.dragging_&&c.target===this.element.firstElementChild){var a=this.element.firstElementChild;this.getMap().getView().beginInteraction();this.startX_=c.clientX-parseFloat(a.style.left);this.startY_=c.clientY-parseFloat(a.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){c=this.handleDraggerDrag_;a=this.handleDraggerEnd_;var e=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,l.listen)(e,
p.default.POINTERMOVE,c,this),(0,l.listen)(e,p.default.POINTERUP,a,this))}}};b.prototype.handleDraggerDrag_=function(c){this.dragging_&&(c=this.getRelativePosition_(c.clientX-this.startX_,c.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(c),this.getMap().getView().setResolution(this.currentResolution_))};b.prototype.handleDraggerEnd_=function(c){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(l.unlistenByKey),
this.dragListenerKeys_.length=0)};b.prototype.setThumbPosition_=function(c){c=this.getPositionForResolution_(c);var a=this.element.firstElementChild;1==this.direction_?a.style.left=this.widthLimit_*c+"px":a.style.top=this.heightLimit_*c+"px"};b.prototype.getRelativePosition_=function(c,a){return(0,u.clamp)(1===this.direction_?c/this.widthLimit_:a/this.heightLimit_,0,1)};b.prototype.getResolutionForPosition_=function(c){return this.getMap().getView().getResolutionForValueFunction()(1-c)};b.prototype.getPositionForResolution_=
function(c){var a=this.getMap().getView().getValueForResolutionFunction();return(0,u.clamp)(1-a(c),0,1)};b.prototype.render=function(c){c.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=c=c.frameState.viewState.resolution,this.setThumbPosition_(c))};return b}(ra.default);B.default=z};
shadow$provide[161]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(150));var k=v(z(83)),p=z(96),A=z(146),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(f){var g=f?f:{};f=m.call(this,{element:document.createElement("div"),target:g.target})||this;f.extent=g.extent?g.extent:null;var d=void 0!==g.className?g.className:"ol-zoom-extent",b=void 0!==g.label?g.label:"E",c=void 0!==g.tipLabel?g.tipLabel:"Fit to extent";g=document.createElement("button");g.setAttribute("type",
"button");g.title=c;g.appendChild("string"===typeof b?document.createTextNode(b):b);g.addEventListener(k.default.CLICK,f.handleClick_.bind(f),!1);b=f.element;b.className=d+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL;b.appendChild(g);return f}u(l,m);l.prototype.handleClick_=function(f){f.preventDefault();this.handleZoomToExtent()};l.prototype.handleZoomToExtent=function(){var f=this.getMap().getView(),g=this.extent?this.extent:f.getProjection().getExtent();f.fitInternal((0,A.fromExtent)(g))};return l}(ra.default);
B.default=z};
shadow$provide[162]=function(ra,z,cb,B){function v(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(B,"__esModule",{value:!0});B.defaults=function(a){a=a?a:{};var e=new p.default;(void 0!==a.zoom?a.zoom:1)&&e.push(new u.default(a.zoomOptions));(void 0!==a.rotate?a.rotate:1)&&e.push(new A.default(a.rotateOptions));(void 0!==a.attribution?a.attribution:1)&&e.push(new k.default(a.attributionOptions));return e};Object.defineProperty(B,"Attribution",{enumerable:!0,get:function(){return k.default}});
Object.defineProperty(B,"Rotate",{enumerable:!0,get:function(){return A.default}});Object.defineProperty(B,"Zoom",{enumerable:!0,get:function(){return u.default}});Object.defineProperty(B,"Control",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(B,"FullScreen",{enumerable:!0,get:function(){return l.default}});Object.defineProperty(B,"MousePosition",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(B,"OverviewMap",{enumerable:!0,get:function(){return g.default}});
Object.defineProperty(B,"ScaleLine",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(B,"ZoomSlider",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(B,"ZoomToExtent",{enumerable:!0,get:function(){return c.default}});var k=v(z(151)),p=v(z(101)),A=v(z(152)),u=v(z(153)),m=v(z(150)),l=v(z(154)),f=v(z(155)),g=v(z(158)),d=v(z(159)),b=v(z(160)),c=v(z(161))};
shadow$provide[163]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={ACTIVE:"active"}};
shadow$provide[164]=function(ra,z,cb,B){function v(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(B,"__esModule",{value:!0});B.pan=function(u,m,l){var f=u.getCenterInternal();f&&u.animateInternal({duration:void 0!==l?l:250,easing:p.linear,center:u.getConstrainedCenter([f[0]+m[0],f[1]+m[1]])})};B.zoomByDelta=function(u,m,l,f){var g=u.getZoom();void 0!==g&&(m=u.getConstrainedZoom(g+m),m=u.getResolutionForZoom(m),u.getAnimating()&&u.cancelAnimations(),u.animate({resolution:m,anchor:l,
duration:void 0!==f?f:250,easing:p.easeOut}))};B.default=void 0;ra=v(z(86));var k=v(z(163)),p=z(128),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(m,l);
m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();z=function(u){function m(l){var f=u.call(this)||this;l&&l.handleEvent&&(f.handleEvent=l.handleEvent);f.map_=null;f.setActive(!0);return f}A(m,u);m.prototype.getActive=function(){return this.get(k.default.ACTIVE)};m.prototype.getMap=function(){return this.map_};m.prototype.handleEvent=function(l){return!0};m.prototype.setActive=function(l){this.set(k.default.ACTIVE,l)};m.prototype.setMap=function(l){this.map_=l};return m}(ra.default);
B.default=z};
shadow$provide[165]=function(ra,z,cb,B){function v(u){if("function"!==typeof WeakMap)return null;var m=new WeakMap,l=new WeakMap;return(v=function(f){return f?l:m})(u)}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=function(u,m){if(!m&&u&&u.__esModule)return u;if(null===u||"object"!==typeof u&&"function"!==typeof u)return{default:u};if((m=v(m))&&m.has(u))return m.get(u);var l={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in u)if("default"!==g&&Object.prototype.hasOwnProperty.call(u,
g)){var d=f?Object.getOwnPropertyDescriptor(u,g):null;d&&(d.get||d.set)?Object.defineProperty(l,g,d):l[g]=u[g]}l.default=u;m&&m.set(u,l);return l}(z(164)),p=function(u){return u&&u.__esModule?u:{default:u}}(z(105)),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==
typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();ra=function(u){function m(l){var f=u.call(this)||this;l=l?l:{};f.delta_=l.delta?l.delta:1;f.duration_=void 0!==l.duration?l.duration:250;return f}A(m,u);m.prototype.handleEvent=function(l){var f=!1;if(l.type==p.default.DBLCLICK){f=l.originalEvent;var g=l.coordinate,d=f.shiftKey?-this.delta_:this.delta_;l=l.map.getView();
(0,k.zoomByDelta)(l,d,g,this.duration_);f.preventDefault();f=!0}return!f};return m}(k.default);B.default=ra};
shadow$provide[166]=function(ra,z,cb,B){function v(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(B,"__esModule",{value:!0});B.centroid=function(u){for(var m=u.length,l=0,f=0,g=0;g<m;g++)l+=u[g].clientX,f+=u[g].clientY;return[l/m,f/m]};B.default=void 0;ra=v(z(164));var k=v(z(105)),p=z(81),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=
g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();z=function(u){function m(l){var f=l?l:{};l=u.call(this,f)||this;f.handleDownEvent&&(l.handleDownEvent=f.handleDownEvent);f.handleDragEvent&&(l.handleDragEvent=f.handleDragEvent);f.handleMoveEvent&&(l.handleMoveEvent=f.handleMoveEvent);
f.handleUpEvent&&(l.handleUpEvent=f.handleUpEvent);f.stopDown&&(l.stopDown=f.stopDown);l.handlingDownUpSequence=!1;l.trackedPointers_={};l.targetPointers=[];return l}A(m,u);m.prototype.getPointerCount=function(){return this.targetPointers.length};m.prototype.handleDownEvent=function(l){return!1};m.prototype.handleDragEvent=function(l){};m.prototype.handleEvent=function(l){if(!l.originalEvent)return!0;var f=!1;this.updateTrackedPointers_(l);this.handlingDownUpSequence?l.type==k.default.POINTERDRAG?
(this.handleDragEvent(l),l.originalEvent.preventDefault()):l.type==k.default.POINTERUP&&(this.handlingDownUpSequence=this.handleUpEvent(l)&&0<this.targetPointers.length):l.type==k.default.POINTERDOWN?(this.handlingDownUpSequence=l=this.handleDownEvent(l),f=this.stopDown(l)):l.type==k.default.POINTERMOVE&&this.handleMoveEvent(l);return!f};m.prototype.handleMoveEvent=function(l){};m.prototype.handleUpEvent=function(l){return!1};m.prototype.stopDown=function(l){return l};m.prototype.updateTrackedPointers_=
function(l){var f=l.type;if(f===k.default.POINTERDOWN||f===k.default.POINTERDRAG||f===k.default.POINTERUP){f=l.originalEvent;var g=f.pointerId.toString();l.type==k.default.POINTERUP?delete this.trackedPointers_[g]:l.type==k.default.POINTERDOWN?this.trackedPointers_[g]=f:g in this.trackedPointers_&&(this.trackedPointers_[g]=f);this.targetPointers=(0,p.getValues)(this.trackedPointers_)}};return m}(ra.default);B.default=z};
shadow$provide[167]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.all=function(u){var m=arguments;return function(l){for(var f=!0,g=0,d=m.length;g<d&&(f=f&&m[g](l),f);++g);return f}};B.primaryAction=B.penOnly=B.touchOnly=B.mouseOnly=B.targetNotEditable=B.shiftKeyOnly=B.platformModifierKeyOnly=B.noModifierKeys=B.doubleClick=B.singleClick=B.pointerMove=B.never=B.mouseActionButton=B.click=B.always=B.focusWithTabindex=B.focus=B.altShiftKeysOnly=B.altKeyOnly=void 0;var v=function(u){return u&&
u.__esModule?u:{default:u}}(z(105));ra=z(67);var k=z(69),p=z(71);B.altKeyOnly=function(u){u=u.originalEvent;return u.altKey&&!(u.metaKey||u.ctrlKey)&&!u.shiftKey};B.altShiftKeysOnly=function(u){u=u.originalEvent;return u.altKey&&!(u.metaKey||u.ctrlKey)&&u.shiftKey};var A=function(u){var m=u.map.getTargetElement();u=u.map.getOwnerDocument().activeElement;return m.contains(u)};B.focus=A;B.focusWithTabindex=function(u){return u.map.getTargetElement().hasAttribute("tabindex")?A(u):!0};B.always=ra.TRUE;
B.click=function(u){return u.type==v.default.CLICK};B.mouseActionButton=function(u){u=u.originalEvent;return 0==u.button&&!(k.WEBKIT&&k.MAC&&u.ctrlKey)};B.never=ra.FALSE;B.pointerMove=function(u){return"pointermove"==u.type};B.singleClick=function(u){return u.type==v.default.SINGLECLICK};B.doubleClick=function(u){return u.type==v.default.DBLCLICK};B.noModifierKeys=function(u){u=u.originalEvent;return!u.altKey&&!(u.metaKey||u.ctrlKey)&&!u.shiftKey};B.platformModifierKeyOnly=function(u){u=u.originalEvent;
return!u.altKey&&(k.MAC?u.metaKey:u.ctrlKey)&&!u.shiftKey};B.shiftKeyOnly=function(u){u=u.originalEvent;return!u.altKey&&!(u.metaKey||u.ctrlKey)&&u.shiftKey};B.targetNotEditable=function(u){u=u.originalEvent.target.tagName;return"INPUT"!==u&&"SELECT"!==u&&"TEXTAREA"!==u};B.mouseOnly=function(u){u=u.originalEvent;(0,p.assert)(void 0!==u,56);return"mouse"==u.pointerType};B.touchOnly=function(u){u=u.originalEvent;(0,p.assert)(void 0!==u,56);return"touch"===u.pointerType};B.penOnly=function(u){u=u.originalEvent;
(0,p.assert)(void 0!==u,56);return"pen"===u.pointerType};B.primaryAction=function(u){u=u.originalEvent;(0,p.assert)(void 0!==u,56);return u.isPrimary&&0===u.button}};
shadow$provide[168]=function(ra,z,cb,B){function v(f){if("function"!==typeof WeakMap)return null;var g=new WeakMap,d=new WeakMap;return(v=function(b){return b?d:g})(f)}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=function(f,g){if(!g&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((g=v(g))&&g.has(f))return g.get(f);var d={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in f)if("default"!==c&&Object.prototype.hasOwnProperty.call(f,
c)){var a=b?Object.getOwnPropertyDescriptor(f,c):null;a&&(a.get||a.set)?Object.defineProperty(d,c,a):d[c]=f[c]}d.default=f;g&&g.set(f,d);return d}(z(166)),p=z(67),A=z(167),u=z(128),m=z(93),l=function(){var f=function(g,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};return f(g,d)};return function(g,d){function b(){this.constructor=g}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+
String(d)+" is not a constructor or null");f(g,d);g.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}();ra=function(f){function g(d){var b=f.call(this,{stopDown:p.FALSE})||this;d=d?d:{};b.kinetic_=d.kinetic;b.lastCentroid=null;b.panning_=!1;var c=d.condition?d.condition:(0,A.all)(A.noModifierKeys,A.primaryAction);b.condition_=d.onFocusOnly?(0,A.all)(A.focusWithTabindex,c):c;b.noKinetic_=!1;return b}l(g,f);g.prototype.handleDragEvent=function(d){this.panning_||(this.panning_=!0,
this.getMap().getView().beginInteraction());var b=this.targetPointers,c=(0,k.centroid)(b);if(b.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(c[0],c[1]),this.lastCentroid){var a=[this.lastCentroid[0]-c[0],c[1]-this.lastCentroid[1]],e=d.map.getView();(0,m.scale)(a,e.getResolution());(0,m.rotate)(a,e.getRotation());e.adjustCenterInternal(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=c;this.lastPointersCount_=b.length;d.originalEvent.preventDefault()};g.prototype.handleUpEvent=
function(d){var b=d.map;d=b.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var c=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),e=d.getCenterInternal();e=b.getPixelFromCoordinateInternal(e);b=b.getCoordinateFromPixelInternal([e[0]-c*Math.cos(a),e[1]-c*Math.sin(a)]);d.animateInternal({center:d.getConstrainedCenter(b),duration:500,easing:u.easeOut})}this.panning_&&(this.panning_=!1,d.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();
this.lastCentroid=null;return!0};g.prototype.handleDownEvent=function(d){return 0<this.targetPointers.length&&this.condition_(d)?(d=d.map.getView(),this.lastCentroid=null,d.getAnimating()&&d.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1};return g}(k.default);B.default=ra};
shadow$provide[169]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(u){return u&&u.__esModule?u:{default:u}}(z(166));var v=z(67),k=z(167),p=z(127),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==
l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();z=function(u){function m(l){var f=l?l:{};l=u.call(this,{stopDown:v.FALSE})||this;l.condition_=f.condition?f.condition:k.altShiftKeysOnly;l.lastAngle_=void 0;l.duration_=void 0!==f.duration?f.duration:250;return l}A(m,u);m.prototype.handleDragEvent=function(l){if((0,k.mouseOnly)(l)){var f=l.map,g=f.getView();g.getConstraints().rotation!==
p.disable&&(f=f.getSize(),l=l.pixel,l=Math.atan2(f[1]/2-l[1],l[0]-f[0]/2),void 0!==this.lastAngle_&&g.adjustRotationInternal(-(l-this.lastAngle_)),this.lastAngle_=l)}};m.prototype.handleUpEvent=function(l){if(!(0,k.mouseOnly)(l))return!0;l.map.getView().endInteraction(this.duration_);return!1};m.prototype.handleDownEvent=function(l){return(0,k.mouseOnly)(l)&&(0,k.mouseActionButton)(l)&&this.condition_(l)?(l.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1};return m}(ra.default);B.default=
z};
shadow$provide[170]=function(ra,z,cb,B){function v(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(65));var k=v(z(146)),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m){var l=A.call(this)||this;l.geometry_=null;l.element_=document.createElement("div");l.element_.style.position="absolute";l.element_.style.pointerEvents="auto";l.element_.className="ol-box "+m;l.map_=null;l.startPixel_=null;l.endPixel_=null;return l}p(u,A);u.prototype.disposeInternal=function(){this.setMap(null)};u.prototype.render_=function(){var m=
this.startPixel_,l=this.endPixel_,f=this.element_.style;f.left=Math.min(m[0],l[0])+"px";f.top=Math.min(m[1],l[1])+"px";f.width=Math.abs(l[0]-m[0])+"px";f.height=Math.abs(l[1]-m[1])+"px"};u.prototype.setMap=function(m){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var l=this.element_.style;l.left="inherit";l.top="inherit";l.width="inherit";l.height="inherit"}(this.map_=m)&&this.map_.getOverlayContainer().appendChild(this.element_)};u.prototype.setPixels=function(m,l){this.startPixel_=
m;this.endPixel_=l;this.createOrUpdateGeometry();this.render_()};u.prototype.createOrUpdateGeometry=function(){var m=this.startPixel_,l=this.endPixel_;m=[m,[m[0],l[1]],l,[l[0],m[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);m[4]=m[0].slice();this.geometry_?this.geometry_.setCoordinates([m]):this.geometry_=new k.default([m])};u.prototype.getGeometry=function(){return this.geometry_};return u}(ra.default);B.default=z};
shadow$provide[171]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.DragBoxEvent=void 0;ra=v(z(79));cb=v(z(166));var k=v(z(170)),p=z(167),A=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==
typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}(),u=function(m){function l(f,g,d){f=m.call(this,f)||this;f.coordinate=g;f.mapBrowserEvent=d;return f}A(l,m);return l}(ra.default);B.DragBoxEvent=u;z=function(m){function l(f){var g=m.call(this)||this;f=f?f:{};g.box_=new k.default(f.className||"ol-dragbox");g.minArea_=void 0!==f.minArea?f.minArea:64;f.onBoxEnd&&(g.onBoxEnd=
f.onBoxEnd);g.startPixel_=null;g.condition_=f.condition?f.condition:p.mouseActionButton;g.boxEndCondition_=f.boxEndCondition?f.boxEndCondition:g.defaultBoxEndCondition;return g}A(l,m);l.prototype.defaultBoxEndCondition=function(f,g,d){f=d[0]-g[0];g=d[1]-g[1];return f*f+g*g>=this.minArea_};l.prototype.getGeometry=function(){return this.box_.getGeometry()};l.prototype.handleDragEvent=function(f){this.box_.setPixels(this.startPixel_,f.pixel);this.dispatchEvent(new u("boxdrag",f.coordinate,f))};l.prototype.handleUpEvent=
function(f){this.box_.setMap(null);var g=this.boxEndCondition_(f,this.startPixel_,f.pixel);if(g)this.onBoxEnd(f);this.dispatchEvent(new u(g?"boxend":"boxcancel",f.coordinate,f));return!1};l.prototype.handleDownEvent=function(f){return this.condition_(f)?(this.startPixel_=f.pixel,this.box_.setMap(f.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new u("boxstart",f.coordinate,f)),!0):!1};l.prototype.onBoxEnd=function(f){};return l}(cb.default);B.default=z};
shadow$provide[172]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(A){return A&&A.__esModule?A:{default:A}}(z(171));var v=z(128),k=z(167),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m){var l=m?m:{};m=A.call(this,{condition:l.condition?l.condition:k.shiftKeyOnly,className:l.className||"ol-dragzoom",minArea:l.minArea})||this;m.duration_=void 0!==l.duration?l.duration:200;m.out_=void 0!==l.out?l.out:!1;return m}p(u,A);u.prototype.onBoxEnd=function(m){m=this.getMap().getView();var l=this.getGeometry();if(this.out_){var f=m.rotatedExtentForGeometry(l);
f=m.getResolutionForExtentInternal(f);f=m.getResolution()/f;l=l.clone();l.scale(f*f)}m.fitInternal(l,{duration:this.duration_,easing:v.easeOut})};return u}(ra.default);B.default=z};
shadow$provide[173]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[174]=function(ra,z,cb,B){function v(g){if("function"!==typeof WeakMap)return null;var d=new WeakMap,b=new WeakMap;return(v=function(c){return c?b:d})(g)}function k(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=k(z(83)),A=function(g,d){if(!d&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((d=v(d))&&d.has(g))return d.get(g);var b={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,
a;for(a in g)if("default"!==a&&Object.prototype.hasOwnProperty.call(g,a)){var e=c?Object.getOwnPropertyDescriptor(g,a):null;e&&(e.get||e.set)?Object.defineProperty(b,a,e):b[a]=g[a]}b.default=g;d&&d.set(g,b);return b}(z(164)),u=k(z(173)),m=z(167),l=z(93),f=function(){var g=function(d,b){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e])};return g(d,b)};return function(d,b){function c(){this.constructor=
d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(d,b);d.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}();ra=function(g){function d(b){var c=g.call(this)||this;b=b||{};c.defaultCondition_=function(a){return(0,m.noModifierKeys)(a)&&(0,m.targetNotEditable)(a)};c.condition_=void 0!==b.condition?b.condition:c.defaultCondition_;c.duration_=void 0!==b.duration?b.duration:100;c.pixelDelta_=void 0!==b.pixelDelta?
b.pixelDelta:128;return c}f(d,g);d.prototype.handleEvent=function(b){var c=!1;if(b.type==p.default.KEYDOWN){var a=b.originalEvent,e=a.keyCode;if(this.condition_(b)&&(e==u.default.DOWN||e==u.default.LEFT||e==u.default.RIGHT||e==u.default.UP)){b=b.map.getView();c=b.getResolution()*this.pixelDelta_;var t=0,y=0;e==u.default.DOWN?y=-c:e==u.default.LEFT?t=-c:e==u.default.RIGHT?t=c:y=c;e=[t,y];(0,l.rotate)(e,b.getRotation());(0,A.pan)(b,e,this.duration_);a.preventDefault();c=!0}}return!c};return d}(A.default);
B.default=ra};
shadow$provide[175]=function(ra,z,cb,B){function v(m){if("function"!==typeof WeakMap)return null;var l=new WeakMap,f=new WeakMap;return(v=function(g){return g?f:l})(m)}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=function(m){return m&&m.__esModule?m:{default:m}}(z(83)),p=function(m,l){if(!l&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((l=v(l))&&l.has(m))return l.get(m);var f={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,
d;for(d in m)if("default"!==d&&Object.prototype.hasOwnProperty.call(m,d)){var b=g?Object.getOwnPropertyDescriptor(m,d):null;b&&(b.get||b.set)?Object.defineProperty(f,d,b):f[d]=m[d]}f.default=m;l&&l.set(m,f);return f}(z(164)),A=z(167),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=
l}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();ra=function(m){function l(f){var g=m.call(this)||this;f=f?f:{};g.condition_=f.condition?f.condition:A.targetNotEditable;g.delta_=f.delta?f.delta:1;g.duration_=void 0!==f.duration?f.duration:100;return g}u(l,m);l.prototype.handleEvent=function(f){var g=!1;if(f.type==k.default.KEYDOWN||f.type==k.default.KEYPRESS){var d=
f.originalEvent,b=d.charCode;!this.condition_(f)||43!=b&&45!=b||(g=43==b?this.delta_:-this.delta_,f=f.map.getView(),(0,p.zoomByDelta)(f,g,void 0,this.duration_),d.preventDefault(),g=!0)}return!g};return l}(p.default);B.default=ra};
shadow$provide[176]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(){function v(k,p,A){this.decay_=k;this.minVelocity_=p;this.delay_=A;this.points_=[];this.initialVelocity_=this.angle_=0}v.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};v.prototype.update=function(k,p){this.points_.push(k,p,Date.now())};v.prototype.end=function(){if(6>this.points_.length)return!1;var k=Date.now()-this.delay_,p=this.points_.length-
3;if(this.points_[p+2]<k)return!1;for(var A=p-3;0<A&&this.points_[A+2]>k;)A-=3;k=this.points_[p+2]-this.points_[A+2];if(k<1E3/60)return!1;var u=this.points_[p]-this.points_[A];p=this.points_[p+1]-this.points_[A+1];this.angle_=Math.atan2(p,u);this.initialVelocity_=Math.sqrt(u*u+p*p)/k;return this.initialVelocity_>this.minVelocity_};v.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};v.prototype.getAngle=function(){return this.angle_};return v}();B.default=
ra};
shadow$provide[177]=function(ra,z,cb,B){function v(g){if("function"!==typeof WeakMap)return null;var d=new WeakMap,b=new WeakMap;return(v=function(c){return c?b:d})(g)}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.Mode=void 0;var k=function(g){return g&&g.__esModule?g:{default:g}}(z(83)),p=function(g,d){if(!d&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((d=v(d))&&d.has(g))return d.get(g);var b={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,
a;for(a in g)if("default"!==a&&Object.prototype.hasOwnProperty.call(g,a)){var e=c?Object.getOwnPropertyDescriptor(g,a):null;e&&(e.get||e.set)?Object.defineProperty(b,a,e):b[a]=g[a]}b.default=g;d&&d.set(g,b);return b}(z(164)),A=z(69),u=z(167),m=z(76),l=function(){var g=function(d,b){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e])};return g(d,b)};return function(d,b){function c(){this.constructor=
d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(d,b);d.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}(),f={TRACKPAD:"trackpad",WHEEL:"wheel"};B.Mode=f;ra=function(g){function d(b){var c=b?b:{};b=g.call(this,c)||this;b.totalDelta_=0;b.lastDelta_=0;b.maxDelta_=void 0!==c.maxDelta?c.maxDelta:1;b.duration_=void 0!==c.duration?c.duration:250;b.timeout_=void 0!==c.timeout?c.timeout:80;b.useAnchor_=void 0!==
c.useAnchor?c.useAnchor:!0;b.constrainResolution_=void 0!==c.constrainResolution?c.constrainResolution:!1;var a=c.condition?c.condition:u.always;b.condition_=c.onFocusOnly?(0,u.all)(u.focusWithTabindex,a):a;b.lastAnchor_=null;b.startTime_=void 0;b.mode_=void 0;b.trackpadEventGap_=400;b.deltaPerZoom_=300;return b}l(d,g);d.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;this.getMap().getView().endInteraction(void 0,this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)};d.prototype.handleEvent=
function(b){if(!this.condition_(b)||b.type!==k.default.WHEEL)return!0;var c=b.map,a=b.originalEvent;a.preventDefault();this.useAnchor_&&(this.lastAnchor_=b.coordinate);if(b.type==k.default.WHEEL){var e=a.deltaY;A.FIREFOX&&a.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(e/=A.DEVICE_PIXEL_RATIO);a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(e*=40)}if(0===e)return!1;this.lastDelta_=e;b=Date.now();void 0===this.startTime_&&(this.startTime_=b);if(!this.mode_||b-this.startTime_>this.trackpadEventGap_)this.mode_=
4>Math.abs(e)?f.TRACKPAD:f.WHEEL;a=c.getView();if(this.mode_===f.TRACKPAD&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-e/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=b,!1;this.totalDelta_+=e;e=Math.max(this.timeout_-(b-this.startTime_),0);clearTimeout(this.timeoutId_);
this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,c),e);return!1};d.prototype.handleWheelZoom_=function(b){b=b.getView();b.getAnimating()&&b.cancelAnimations();var c=-(0,m.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(b.getConstrainResolution()||this.constrainResolution_)c=c?0<c?1:-1:0;(0,p.zoomByDelta)(b,c,this.lastAnchor_,this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=
void 0};d.prototype.setMouseAnchor=function(b){this.useAnchor_=b;b||(this.lastAnchor_=null)};return d}(p.default);B.default=ra};
shadow$provide[178]=function(ra,z,cb,B){function v(m){if("function"!==typeof WeakMap)return null;var l=new WeakMap,f=new WeakMap;return(v=function(g){return g?f:l})(m)}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=function(m,l){if(!l&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((l=v(l))&&l.has(m))return l.get(m);var f={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in m)if("default"!==d&&Object.prototype.hasOwnProperty.call(m,
d)){var b=g?Object.getOwnPropertyDescriptor(m,d):null;b&&(b.get||b.set)?Object.defineProperty(f,d,b):f[d]=m[d]}f.default=m;l&&l.set(m,f);return f}(z(166)),p=z(67),A=z(127),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+
String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();ra=function(m){function l(f){var g=f?f:{};g.stopDown||(g.stopDown=p.FALSE);f=m.call(this,g)||this;f.anchor_=null;f.lastAngle_=void 0;f.rotating_=!1;f.rotationDelta_=0;f.threshold_=void 0!==g.threshold?g.threshold:.3;f.duration_=void 0!==g.duration?g.duration:250;return f}u(l,m);l.prototype.handleDragEvent=function(f){var g=0,d=this.targetPointers[0],b=this.targetPointers[1];
d=Math.atan2(b.clientY-d.clientY,b.clientX-d.clientX);void 0!==this.lastAngle_&&(g=d-this.lastAngle_,this.rotationDelta_+=g,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=d;f=f.map;d=f.getView();if(d.getConstraints().rotation!==A.disable){b=f.getViewport().getBoundingClientRect();var c=(0,k.centroid)(this.targetPointers);c[0]-=b.left;c[1]-=b.top;this.anchor_=f.getCoordinateFromPixelInternal(c);this.rotating_&&(f.render(),d.adjustRotationInternal(g,
this.anchor_))}};l.prototype.handleUpEvent=function(f){return 2>this.targetPointers.length?(f.map.getView().endInteraction(this.duration_),!1):!0};l.prototype.handleDownEvent=function(f){return 2<=this.targetPointers.length?(f=f.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||f.getView().beginInteraction(),!0):!1};return l}(k.default);B.default=ra};
shadow$provide[179]=function(ra,z,cb,B){function v(u){if("function"!==typeof WeakMap)return null;var m=new WeakMap,l=new WeakMap;return(v=function(f){return f?l:m})(u)}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=function(u,m){if(!m&&u&&u.__esModule)return u;if(null===u||"object"!==typeof u&&"function"!==typeof u)return{default:u};if((m=v(m))&&m.has(u))return m.get(u);var l={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in u)if("default"!==g&&Object.prototype.hasOwnProperty.call(u,
g)){var d=f?Object.getOwnPropertyDescriptor(u,g):null;d&&(d.get||d.set)?Object.defineProperty(l,g,d):l[g]=u[g]}l.default=u;m&&m.set(u,l);return l}(z(166)),p=z(67),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+
String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();ra=function(u){function m(l){var f=l?l:{};f.stopDown||(f.stopDown=p.FALSE);l=u.call(this,f)||this;l.anchor_=null;l.duration_=void 0!==f.duration?f.duration:400;l.lastDistance_=void 0;l.lastScaleDelta_=1;return l}A(m,u);m.prototype.handleDragEvent=function(l){var f=1,g=this.targetPointers[0],d=this.targetPointers[1],b=g.clientX-d.clientX;g=g.clientY-d.clientY;b=Math.sqrt(b*b+
g*g);void 0!==this.lastDistance_&&(f=this.lastDistance_/b);this.lastDistance_=b;l=l.map;b=l.getView();1!=f&&(this.lastScaleDelta_=f);g=l.getViewport().getBoundingClientRect();d=(0,k.centroid)(this.targetPointers);d[0]-=g.left;d[1]-=g.top;this.anchor_=l.getCoordinateFromPixelInternal(d);l.render();b.adjustResolutionInternal(f,this.anchor_)};m.prototype.handleUpEvent=function(l){return 2>this.targetPointers.length?(l.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0};m.prototype.handleDownEvent=
function(l){return 2<=this.targetPointers.length?(l=l.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||l.getView().beginInteraction(),!0):!1};return m}(k.default);B.default=ra};
shadow$provide[180]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}};
shadow$provide[181]=function(ra,z,cb,B){function v(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.DragAndDropEvent=void 0;ra=v(z(79));var k=v(z(83)),p=v(z(180));cb=v(z(164));var A=z(67),u=z(124),m=z(84),l=function(){var g=function(d,b){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e])};return g(d,b)};return function(d,b){function c(){this.constructor=
d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(d,b);d.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}(),f=function(g){function d(b,c,a,e){b=g.call(this,b)||this;b.features=a;b.file=c;b.projection=e;return b}l(d,g);return d}(ra.default);B.DragAndDropEvent=f;z=function(g){function d(b){var c=b?b:{};b=g.call(this,{handleEvent:A.TRUE})||this;b.readAsBuffer_=!1;b.formats_=[];for(var a=c.formatConstructors?
c.formatConstructors:[],e=0,t=a.length;e<t;++e){var y=a[e];"function"===typeof y&&(y=new y);b.formats_.push(y);b.readAsBuffer_=b.readAsBuffer_||y.getType()===p.default.ARRAY_BUFFER}b.projection_=c.projection?(0,u.get)(c.projection):null;b.dropListenKeys_=null;b.source_=c.source||null;b.target=c.target?c.target:null;return b}l(d,g);d.prototype.handleResult_=function(b,c){c=c.target.result;var a=this.getMap(),e=this.projection_;e||(e=a.getView().getProjection());var t;a=this.formats_;for(var y=0,q=
a.length;y<q;++y){var E=a[y],F=c;this.readAsBuffer_&&E.getType()!==p.default.ARRAY_BUFFER&&(void 0===t&&(t=(new TextDecoder).decode(c)),F=t);if((E=this.tryReadFeatures_(E,F,{featureProjection:e}))&&0<E.length){this.source_&&(this.source_.clear(),this.source_.addFeatures(E));this.dispatchEvent(new f("addfeatures",b,E,e));break}}};d.prototype.registerListeners_=function(){var b=this.getMap();b&&(b=this.target?this.target:b.getViewport(),this.dropListenKeys_=[(0,m.listen)(b,k.default.DROP,this.handleDrop,
this),(0,m.listen)(b,k.default.DRAGENTER,this.handleStop,this),(0,m.listen)(b,k.default.DRAGOVER,this.handleStop,this),(0,m.listen)(b,k.default.DROP,this.handleStop,this)])};d.prototype.setActive=function(b){!this.getActive()&&b&&this.registerListeners_();this.getActive()&&!b&&this.unregisterListeners_();g.prototype.setActive.call(this,b)};d.prototype.setMap=function(b){this.unregisterListeners_();g.prototype.setMap.call(this,b);this.getActive()&&this.registerListeners_()};d.prototype.tryReadFeatures_=
function(b,c,a){try{return b.readFeatures(c,a)}catch(e){return null}};d.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(m.unlistenByKey),this.dropListenKeys_=null)};d.prototype.handleDrop=function(b){b=b.dataTransfer.files;for(var c=0,a=b.length;c<a;++c){var e=b.item(c),t=new FileReader;t.addEventListener(k.default.LOAD,this.handleResult_.bind(this,e));this.readAsBuffer_?t.readAsArrayBuffer(e):t.readAsText(e)}};d.prototype.handleStop=function(b){b.stopPropagation();
b.preventDefault();b.dataTransfer.dropEffect="copy"};return d}(cb.default);B.default=z};
shadow$provide[182]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(p){return p&&p.__esModule?p:{default:p}}(z(166));var v=z(167),k=function(){var p=function(A,u){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,l){m.__proto__=l}||function(m,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(m[f]=l[f])};return p(A,u)};return function(A,u){function m(){this.constructor=A}if("function"!==typeof u&&null!==u)throw new TypeError("Class extends value "+
String(u)+" is not a constructor or null");p(A,u);A.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();z=function(p){function A(u){var m=u?u:{};u=p.call(this,m)||this;u.condition_=m.condition?m.condition:v.shiftKeyOnly;u.lastAngle_=void 0;u.lastMagnitude_=void 0;u.lastScaleDelta_=0;u.duration_=void 0!==m.duration?m.duration:400;return u}k(A,p);A.prototype.handleDragEvent=function(u){if((0,v.mouseOnly)(u)){var m=u.map,l=m.getSize(),f=u.pixel;u=f[0]-l[0]/2;f=l[1]/2-f[1];l=Math.atan2(f,
u);u=Math.sqrt(u*u+f*f);m=m.getView();void 0!==this.lastAngle_&&m.adjustRotationInternal(this.lastAngle_-l);this.lastAngle_=l;void 0!==this.lastMagnitude_&&m.adjustResolutionInternal(this.lastMagnitude_/u);void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/u);this.lastMagnitude_=u}};A.prototype.handleUpEvent=function(u){if(!(0,v.mouseOnly)(u))return!0;u.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1);this.lastScaleDelta_=0;return!1};A.prototype.handleDownEvent=
function(u){return(0,v.mouseOnly)(u)&&this.condition_(u)?(u.map.getView().beginInteraction(),this.lastMagnitude_=this.lastAngle_=void 0,!0):!1};return A}(ra.default);B.default=z};
shadow$provide[183]=function(ra,z,cb,B){function v(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(113));ra=v(z(132));var p=z(75),A=z(134),u=z(130),m=function(){var l=function(f,g){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}if("function"!==
typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();z=function(l){function f(g,d,b){var c=l.call(this)||this;void 0!==b&&void 0===d?c.setFlatCoordinates(b,g):c.setCenterAndRadius(g,d?d:0,b);return c}m(f,l);f.prototype.clone=function(){var g=new f(this.flatCoordinates.slice(),void 0,this.layout);g.applyProperties(this);return g};f.prototype.closestPointXY=function(g,
d,b,c){var a=this.flatCoordinates;g-=a[0];var e=d-a[1];d=g*g+e*e;if(d<c){0===d?c=0:(c=this.getRadius()/Math.sqrt(d),b[0]=a[0]+c*g,b[1]=a[1]+c*e,c=2);for(;c<this.stride;++c)b[c]=a[c];b.length=this.stride;return d}return c};f.prototype.containsXY=function(g,d){var b=this.flatCoordinates;g-=b[0];d-=b[1];return g*g+d*d<=this.getRadiusSquared_()};f.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};f.prototype.computeExtent=function(g){var d=this.flatCoordinates,b=d[this.stride]-
d[0];return(0,p.createOrUpdate)(d[0]-b,d[1]-b,d[0]+b,d[1]+b,g)};f.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};f.prototype.getRadiusSquared_=function(){var g=this.flatCoordinates[this.stride]-this.flatCoordinates[0],d=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return g*g+d*d};f.prototype.getType=function(){return k.default.CIRCLE};f.prototype.intersectsExtent=function(g){var d=this.getExtent();return(0,p.intersects)(g,d)?(d=this.getCenter(),g[0]<=d[0]&&
g[2]>=d[0]||g[1]<=d[1]&&g[3]>=d[1]?!0:(0,p.forEachCorner)(g,this.intersectsCoordinate.bind(this))):!1};f.prototype.setCenter=function(g){var d=this.stride,b=this.flatCoordinates[d]-this.flatCoordinates[0],c=g.slice();c[d]=c[0]+b;for(b=1;b<d;++b)c[d+b]=g[b];this.setFlatCoordinates(this.layout,c);this.changed()};f.prototype.setCenterAndRadius=function(g,d,b){this.setLayout(b,g,0);this.flatCoordinates||(this.flatCoordinates=[]);b=this.flatCoordinates;g=(0,A.deflateCoordinate)(b,0,g,this.stride);b[g++]=
b[0]+d;d=1;for(var c=this.stride;d<c;++d)b[g++]=b[d];b.length=g;this.changed()};f.prototype.getCoordinates=function(){return null};f.prototype.setCoordinates=function(g,d){};f.prototype.setRadius=function(g){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+g;this.changed()};f.prototype.rotate=function(g,d){var b=this.getCenter(),c=this.getStride();this.setCenter((0,u.rotate)(b,0,b.length,c,g,d,b));this.changed()};f.prototype.translate=function(g,d){var b=this.getCenter(),c=this.getStride();
this.setCenter((0,u.translate)(b,0,b.length,c,g,d,b));this.changed()};return f}(ra.default);B.default=z};
shadow$provide[184]=function(ra,z,cb,B){function v(l){return l&&l.__esModule?l:{default:l}}function k(l){if("function"===typeof l)return l;if(Array.isArray(l))var f=l;else(0,A.assert)("function"===typeof l.getZIndex,41),f=[l];return function(){return f}}Object.defineProperty(B,"__esModule",{value:!0});B.createStyleFunction=k;B.default=void 0;ra=v(z(86));var p=v(z(83)),A=z(71),u=z(84),m=function(){var l=function(f,g){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=
b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}if("function"!==typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();z=function(l){function f(g){var d=l.call(this)||this;d.id_=void 0;d.geometryName_="geometry";d.style_=null;d.styleFunction_=void 0;d.geometryChangeKey_=
null;d.addChangeListener(d.geometryName_,d.handleGeometryChanged_);g&&("function"===typeof g.getSimplifiedGeometry?d.setGeometry(g):d.setProperties(g));return d}m(f,l);f.prototype.clone=function(){var g=new f(this.hasProperties()?this.getProperties():null);g.setGeometryName(this.getGeometryName());var d=this.getGeometry();d&&g.setGeometry(d.clone());(d=this.getStyle())&&g.setStyle(d);return g};f.prototype.getGeometry=function(){return this.get(this.geometryName_)};f.prototype.getId=function(){return this.id_};
f.prototype.getGeometryName=function(){return this.geometryName_};f.prototype.getStyle=function(){return this.style_};f.prototype.getStyleFunction=function(){return this.styleFunction_};f.prototype.handleGeometryChange_=function(){this.changed()};f.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,u.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var g=this.getGeometry();g&&(this.geometryChangeKey_=(0,u.listen)(g,p.default.CHANGE,this.handleGeometryChange_,
this));this.changed()};f.prototype.setGeometry=function(g){this.set(this.geometryName_,g)};f.prototype.setStyle=function(g){this.styleFunction_=(this.style_=g)?k(g):void 0;this.changed()};f.prototype.setId=function(g){this.id_=g;this.changed()};f.prototype.setGeometryName=function(g){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_);this.geometryName_=g;this.addChangeListener(this.geometryName_,this.handleGeometryChanged_);this.handleGeometryChanged_()};return f}(ra.default);
B.default=z};
shadow$provide[185]=function(ra,z,cb,B){function v(A,u,m,l,f,g){if(m==u)return null;if(f<A[u+l-1])return g?(m=A.slice(u,u+l),m[l-1]=f,m):null;if(A[m-1]<f)return g?(m=A.slice(m-l,m),m[l-1]=f,m):null;if(f==A[u+l-1])return A.slice(u,u+l);u/=l;for(m/=l;u<m;)g=u+m>>1,f<A[(g+1)*l-1]?m=g:u=g+1;m=A[u*l-1];if(f==m)return A.slice((u-1)*l,(u-1)*l+l);g=(f-m)/(A[(u+1)*l-1]-m);m=[];for(var d=0;d<l-1;++d)m.push((0,p.lerp)(A[(u-1)*l+d],A[u*l+d],g));m.push(f);return m}Object.defineProperty(B,"__esModule",{value:!0});
B.interpolatePoint=function(A,u,m,l,f,g,d){var b=(m-u)/l;if(1===b)var c=u;else if(2===b){c=u;var a=f}else if(0!==b){var e=A[u],t=A[u+1],y=0;c=[0];for(b=u+l;b<m;b+=l){var q=A[b],E=A[b+1];y+=Math.sqrt((q-e)*(q-e)+(E-t)*(E-t));c.push(y);e=q;t=E}b=f*y;m=(0,k.binarySearch)(c,b);0>m?(a=(b-c[-m-2])/(c[-m-1]-c[-m-2]),c=u+(-m-2)*l):c=u+m*l}u=1<d?d:2;g=g?g:Array(u);for(b=0;b<u;++b)g[b]=void 0===c?NaN:void 0===a?A[c+b]:(0,p.lerp)(A[c+b],A[c+l+b],a);return g};B.lineStringCoordinateAtM=v;B.lineStringsCoordinateAtM=
function(A,u,m,l,f,g,d){if(d)return v(A,u,m[m.length-1],l,f,g);if(f<A[l-1])return g?(A=A.slice(0,l),A[l-1]=f,A):null;if(A[A.length-1]<f)return g?(A=A.slice(A.length-l),A[l-1]=f,A):null;g=0;for(d=m.length;g<d;++g){var b=m[g];if(u!=b){if(f<A[u+l-1])break;else if(f<=A[b-1])return v(A,u,b,l,f,!1);u=b}}return null};var k=z(66),p=z(76)};
shadow$provide[186]=function(ra,z,cb,B){function v(k,p,A,u){var m=k[p],l=k[p+1],f=0;for(p+=u;p<A;p+=u){var g=k[p],d=k[p+1];f+=Math.sqrt((g-m)*(g-m)+(d-l)*(d-l));m=g;l=d}return f}Object.defineProperty(B,"__esModule",{value:!0});B.lineStringLength=v;B.linearRingLength=function(k,p,A,u){var m=v(k,p,A,u),l=k[A-u]-k[p];k=k[A-u+1]-k[p+1];return m+=Math.sqrt(l*l+k*k)}};
shadow$provide[187]=function(ra,z,cb,B){function v(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(129)),p=v(z(113));ra=v(z(132));var A=z(133),u=z(75),m=z(134),l=z(135),f=z(66),g=z(142),d=z(136),b=z(185),c=z(143),a=z(186),e=function(){var t=function(y,q){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,F){E.__proto__=F}||function(E,F){for(var w in F)Object.prototype.hasOwnProperty.call(F,w)&&(E[w]=F[w])};return t(y,
q)};return function(y,q){function E(){this.constructor=y}if("function"!==typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");t(y,q);y.prototype=null===q?Object.create(q):(E.prototype=q.prototype,new E)}}();z=function(t){function y(q,E){var F=t.call(this)||this;F.flatMidpoint_=null;F.flatMidpointRevision_=-1;F.maxDelta_=-1;F.maxDeltaRevision_=-1;void 0===E||Array.isArray(q[0])?F.setCoordinates(q,E):F.setFlatCoordinates(E,q);return F}e(y,t);y.prototype.appendCoordinate=
function(q){this.flatCoordinates?(0,f.extend)(this.flatCoordinates,q):this.flatCoordinates=q.slice();this.changed()};y.prototype.clone=function(){var q=new y(this.flatCoordinates.slice(),this.layout);q.applyProperties(this);return q};y.prototype.closestPointXY=function(q,E,F,w){if(w<(0,u.closestSquaredDistanceXY)(this.getExtent(),q,E))return w;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,A.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,
0)),this.maxDeltaRevision_=this.getRevision());return(0,A.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,q,E,F,w)};y.prototype.forEachSegment=function(q){return(0,g.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,q)};y.prototype.getCoordinateAtM=function(q,E){return this.layout!=k.default.XYM&&this.layout!=k.default.XYZM?null:(0,b.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,q,
void 0!==E?E:!1)};y.prototype.getCoordinates=function(){return(0,d.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};y.prototype.getCoordinateAt=function(q,E){return(0,b.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,q,E,this.stride)};y.prototype.getLength=function(){return(0,a.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};y.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&
(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision());return this.flatMidpoint_};y.prototype.getSimplifiedGeometryInternal=function(q){var E=[];E.length=(0,l.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,q,E,0);return new y(E,k.default.XY)};y.prototype.getType=function(){return p.default.LINE_STRING};y.prototype.intersectsExtent=function(q){return(0,c.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride,q)};y.prototype.setCoordinates=function(q,E){this.setLayout(E,q,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,m.deflateCoordinates)(this.flatCoordinates,0,q,this.stride);this.changed()};return y}(ra.default);B.default=z};
shadow$provide[188]=function(ra,z,cb,B){function v(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(129)),p=v(z(113)),A=v(z(187));ra=v(z(132));var u=z(133),m=z(75),l=z(134),f=z(135),g=z(66),d=z(136),b=z(185),c=z(143),a=function(){var e=function(t,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,E){q.__proto__=E}||function(q,E){for(var F in E)Object.prototype.hasOwnProperty.call(E,F)&&(q[F]=E[F])};return e(t,y)};
return function(t,y){function q(){this.constructor=t}if("function"!==typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");e(t,y);t.prototype=null===y?Object.create(y):(q.prototype=y.prototype,new q)}}();z=function(e){function t(y,q,E){var F=e.call(this)||this;F.ends_=[];F.maxDelta_=-1;F.maxDeltaRevision_=-1;if(Array.isArray(y[0]))F.setCoordinates(y,q);else if(void 0!==q&&E)F.setFlatCoordinates(q,y),F.ends_=E;else{q=F.getLayout();E=[];for(var w=[],
D=0,G=y.length;D<G;++D){var L=y[D];0===D&&(q=L.getLayout());(0,g.extend)(E,L.getFlatCoordinates());w.push(E.length)}F.setFlatCoordinates(q,E);F.ends_=w}return F}a(t,e);t.prototype.appendLineString=function(y){this.flatCoordinates?(0,g.extend)(this.flatCoordinates,y.getFlatCoordinates().slice()):this.flatCoordinates=y.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};t.prototype.clone=function(){var y=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());
y.applyProperties(this);return y};t.prototype.closestPointXY=function(y,q,E,F){if(F<(0,m.closestSquaredDistanceXY)(this.getExtent(),y,q))return F;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,u.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,u.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,y,q,E,F)};t.prototype.getCoordinateAtM=function(y,q,E){return this.layout!=
k.default.XYM&&this.layout!=k.default.XYZM||0===this.flatCoordinates.length?null:(0,b.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,y,void 0!==q?q:!1,void 0!==E?E:!1)};t.prototype.getCoordinates=function(){return(0,d.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)};t.prototype.getEnds=function(){return this.ends_};t.prototype.getLineString=function(y){return 0>y||this.ends_.length<=y?null:new A.default(this.flatCoordinates.slice(0===y?0:this.ends_[y-
1],this.ends_[y]),this.layout)};t.prototype.getLineStrings=function(){for(var y=this.flatCoordinates,q=this.ends_,E=this.layout,F=[],w=0,D=0,G=q.length;D<G;++D){var L=q[D];w=new A.default(y.slice(w,L),E);F.push(w);w=L}return F};t.prototype.getFlatMidpoints=function(){for(var y=[],q=this.flatCoordinates,E=0,F=this.ends_,w=this.stride,D=0,G=F.length;D<G;++D){var L=F[D];E=(0,b.interpolatePoint)(q,E,L,w,.5);(0,g.extend)(y,E);E=L}return y};t.prototype.getSimplifiedGeometryInternal=function(y){var q=[],
E=[];q.length=(0,f.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,y,q,0,E);return new t(q,k.default.XY,E)};t.prototype.getType=function(){return p.default.MULTI_LINE_STRING};t.prototype.intersectsExtent=function(y){return(0,c.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,y)};t.prototype.setCoordinates=function(y,q){this.setLayout(q,y,2);this.flatCoordinates||(this.flatCoordinates=[]);y=(0,l.deflateCoordinatesArray)(this.flatCoordinates,0,y,this.stride,
this.ends_);this.flatCoordinates.length=0===y.length?0:y[y.length-1];this.changed()};return t}(ra.default);B.default=z};
shadow$provide[189]=function(ra,z,cb,B){function v(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(113)),p=v(z(139));ra=v(z(132));var A=z(75),u=z(134),m=z(66),l=z(136),f=z(76),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=
b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();z=function(d){function b(c,a){var e=d.call(this)||this;a&&!Array.isArray(c[0])?e.setFlatCoordinates(a,c):e.setCoordinates(c,a);return e}g(b,d);b.prototype.appendPoint=function(c){this.flatCoordinates?(0,m.extend)(this.flatCoordinates,c.getFlatCoordinates()):this.flatCoordinates=c.getFlatCoordinates().slice();
this.changed()};b.prototype.clone=function(){var c=new b(this.flatCoordinates.slice(),this.layout);c.applyProperties(this);return c};b.prototype.closestPointXY=function(c,a,e,t){if(t<(0,A.closestSquaredDistanceXY)(this.getExtent(),c,a))return t;for(var y=this.flatCoordinates,q=this.stride,E=0,F=y.length;E<F;E+=q){var w=(0,f.squaredDistance)(c,a,y[E],y[E+1]);if(w<t){t=w;for(w=0;w<q;++w)e[w]=y[E+w];e.length=q}}return t};b.prototype.getCoordinates=function(){return(0,l.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)};b.prototype.getPoint=function(c){var a=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return 0>c||a<=c?null:new p.default(this.flatCoordinates.slice(c*this.stride,(c+1)*this.stride),this.layout)};b.prototype.getPoints=function(){for(var c=this.flatCoordinates,a=this.layout,e=this.stride,t=[],y=0,q=c.length;y<q;y+=e){var E=new p.default(c.slice(y,y+e),a);t.push(E)}return t};b.prototype.getType=function(){return k.default.MULTI_POINT};b.prototype.intersectsExtent=
function(c){for(var a=this.flatCoordinates,e=this.stride,t=0,y=a.length;t<y;t+=e)if((0,A.containsXY)(c,a[t],a[t+1]))return!0;return!1};b.prototype.setCoordinates=function(c,a){this.setLayout(a,c,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,u.deflateCoordinates)(this.flatCoordinates,0,c,this.stride);this.changed()};return b}(ra.default);B.default=z};
shadow$provide[190]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.linearRingss=function(k,p,A,u){var m=[];(0,v.createEmpty)();for(var l=0,f=A.length;l<f;++l){var g=A[l];p=(0,v.createOrUpdateFromFlatCoordinates)(k,p,g[0],u);m.push((p[0]+p[2])/2,(p[1]+p[3])/2);p=g[g.length-1]}return m};var v=z(75)};
shadow$provide[191]=function(ra,z,cb,B){function v(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(129)),p=v(z(113)),A=v(z(189)),u=v(z(146));ra=v(z(132));var m=z(133),l=z(75),f=z(134),g=z(66),d=z(141),b=z(136),c=z(143),a=z(145),e=z(137),t=z(190),y=z(140),q=z(135),E=function(){var F=function(w,D){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,L){G.__proto__=L}||function(G,L){for(var O in L)Object.prototype.hasOwnProperty.call(L,
O)&&(G[O]=L[O])};return F(w,D)};return function(w,D){function G(){this.constructor=w}if("function"!==typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");F(w,D);w.prototype=null===D?Object.create(D):(G.prototype=D.prototype,new G)}}();z=function(F){function w(D,G,L){var O=F.call(this)||this;O.endss_=[];O.flatInteriorPointsRevision_=-1;O.flatInteriorPoints_=null;O.maxDelta_=-1;O.maxDeltaRevision_=-1;O.orientedRevision_=-1;O.orientedFlatCoordinates_=
null;if(!L&&!Array.isArray(D[0])){G=O.getLayout();var V=D;D=[];L=[];for(var S=0,ca=V.length;S<ca;++S){var ea=V[S];0===S&&(G=ea.getLayout());for(var T=D.length,R=ea.getEnds(),J=0,r=R.length;J<r;++J)R[J]+=T;(0,g.extend)(D,ea.getFlatCoordinates());L.push(R)}}void 0!==G&&L?(O.setFlatCoordinates(G,D),O.endss_=L):O.setCoordinates(D,G);return O}E(w,F);w.prototype.appendPolygon=function(D){if(this.flatCoordinates){var G=this.flatCoordinates.length;(0,g.extend)(this.flatCoordinates,D.getFlatCoordinates());
D=D.getEnds().slice();for(var L=0,O=D.length;L<O;++L)D[L]+=G}else this.flatCoordinates=D.getFlatCoordinates().slice(),D=D.getEnds().slice(),this.endss_.push();this.endss_.push(D);this.changed()};w.prototype.clone=function(){for(var D=this.endss_.length,G=Array(D),L=0;L<D;++L)G[L]=this.endss_[L].slice();D=new w(this.flatCoordinates.slice(),this.layout,G);D.applyProperties(this);return D};w.prototype.closestPointXY=function(D,G,L,O){if(O<(0,l.closestSquaredDistanceXY)(this.getExtent(),D,G))return O;
this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,m.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,m.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,D,G,L,O)};w.prototype.containsXY=function(D,G){return(0,y.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,D,G)};w.prototype.getArea=function(){return(0,e.linearRingss)(this.getOrientedFlatCoordinates(),
0,this.endss_,this.stride)};w.prototype.getCoordinates=function(D){if(void 0!==D){var G=this.getOrientedFlatCoordinates().slice();(0,a.orientLinearRingsArray)(G,0,this.endss_,this.stride,D)}else G=this.flatCoordinates;return(0,b.inflateMultiCoordinatesArray)(G,0,this.endss_,this.stride)};w.prototype.getEndss=function(){return this.endss_};w.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var D=(0,t.linearRingss)(this.flatCoordinates,0,this.endss_,
this.stride);this.flatInteriorPoints_=(0,d.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,D);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};w.prototype.getInteriorPoints=function(){return new A.default(this.getFlatInteriorPoints().slice(),k.default.XYM)};w.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var D=this.flatCoordinates;(0,a.linearRingssAreOriented)(D,0,this.endss_,
this.stride)?this.orientedFlatCoordinates_=D:(this.orientedFlatCoordinates_=D.slice(),this.orientedFlatCoordinates_.length=(0,a.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};w.prototype.getSimplifiedGeometryInternal=function(D){var G=[],L=[];G.length=(0,q.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(D),G,0,L);return new w(G,k.default.XY,L)};w.prototype.getPolygon=
function(D){if(0>D||this.endss_.length<=D)return null;if(0===D)var G=0;else G=this.endss_[D-1],G=G[G.length-1];D=this.endss_[D].slice();var L=D[D.length-1];if(0!==G)for(var O=0,V=D.length;O<V;++O)D[O]-=G;return new u.default(this.flatCoordinates.slice(G,L),this.layout,D)};w.prototype.getPolygons=function(){for(var D=this.layout,G=this.flatCoordinates,L=this.endss_,O=[],V=0,S=0,ca=L.length;S<ca;++S){var ea=L[S].slice(),T=ea[ea.length-1];if(0!==V)for(var R=0,J=ea.length;R<J;++R)ea[R]-=V;V=new u.default(G.slice(V,
T),D,ea);O.push(V);V=T}return O};w.prototype.getType=function(){return p.default.MULTI_POLYGON};w.prototype.intersectsExtent=function(D){return(0,c.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,D)};w.prototype.setCoordinates=function(D,G){this.setLayout(G,D,3);this.flatCoordinates||(this.flatCoordinates=[]);D=(0,f.deflateMultiCoordinatesArray)(this.flatCoordinates,0,D,this.stride,this.endss_);0===D.length?this.flatCoordinates.length=0:(D=D[D.length-1],
this.flatCoordinates.length=0===D.length?0:D[D.length-1]);this.changed()};return w}(ra.default);B.default=z};
shadow$provide[192]=function(ra,z,cb,B){!function(v,k){"object"==typeof B&&"undefined"!=typeof cb?cb.exports=k():"function"==typeof define&&define.amd?define(k):(v=v||self).RBush=k()}(this,function(){function v(y,q,E,F,w){!function ca(G,L,O,V,S){for(;V>O;){if(600<V-O){var ea=V-O+1,T=L-O+1,R=Math.log(ea),J=.5*Math.exp(2*R/3);R=.5*Math.sqrt(R*J*(ea-J)/ea)*(0>T-ea/2?-1:1);ca(G,L,Math.max(O,Math.floor(L-T*J/ea+R)),Math.min(V,Math.floor(L+(ea-T)*J/ea+R)),S)}ea=G[L];T=O;J=V;k(G,O,L);for(0<S(G[V],ea)&&k(G,
O,V);T<J;){k(G,T,J);T++;for(J--;0>S(G[T],ea);)T++;for(;0<S(G[J],ea);)J--}0===S(G[O],ea)?k(G,O,J):k(G,++J,V);J<=L&&(O=J+1);L<=J&&(V=J-1)}}(y,q,E||0,F||y.length-1,w||p)}function k(y,q,E){var F=y[q];y[q]=y[E];y[E]=F}function p(y,q){return y<q?-1:y>q?1:0}function A(y,q){u(y,0,y.children.length,q,y)}function u(y,q,E,F,w){w||(w=a(null));w.minX=1/0;w.minY=1/0;w.maxX=-1/0;for(w.maxY=-1/0;q<E;q++){var D=y.children[q];m(w,y.leaf?F(D):D)}return w}function m(y,q){return y.minX=Math.min(y.minX,q.minX),y.minY=
Math.min(y.minY,q.minY),y.maxX=Math.max(y.maxX,q.maxX),y.maxY=Math.max(y.maxY,q.maxY),y}function l(y,q){return y.minX-q.minX}function f(y,q){return y.minY-q.minY}function g(y){return(y.maxX-y.minX)*(y.maxY-y.minY)}function d(y){return y.maxX-y.minX+(y.maxY-y.minY)}function b(y,q){return y.minX<=q.minX&&y.minY<=q.minY&&q.maxX<=y.maxX&&q.maxY<=y.maxY}function c(y,q){return q.minX<=y.maxX&&q.minY<=y.maxY&&q.maxX>=y.minX&&q.maxY>=y.minY}function a(y){return{children:y,height:1,leaf:!0,minX:1/0,minY:1/
0,maxX:-1/0,maxY:-1/0}}function e(y,q,E,F,w){for(var D=[q,E];D.length;)if(!((E=D.pop())-(q=D.pop())<=F)){var G=q+Math.ceil((E-q)/F/2)*F;v(y,G,q,E,w);D.push(q,G,G,E)}}var t=function(y){void 0===y&&(y=9);this._maxEntries=Math.max(4,y);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return t.prototype.all=function(){return this._all(this.data,[])},t.prototype.search=function(y){var q=this.data,E=[];if(!c(y,q))return E;for(var F=this.toBBox,w=[];q;){for(var D=0;D<q.children.length;D++){var G=
q.children[D],L=q.leaf?F(G):G;c(y,L)&&(q.leaf?E.push(G):b(y,L)?this._all(G,E):w.push(G))}q=w.pop()}return E},t.prototype.collides=function(y){var q=this.data;if(!c(y,q))return!1;for(var E=[];q;){for(var F=0;F<q.children.length;F++){var w=q.children[F],D=q.leaf?this.toBBox(w):w;if(c(y,D)){if(q.leaf||b(y,D))return!0;E.push(w)}}q=E.pop()}return!1},t.prototype.load=function(y){if(!y||!y.length)return this;if(y.length<this._minEntries){for(var q=0;q<y.length;q++)this.insert(y[q]);return this}y=this._build(y.slice(),
0,y.length-1,0);this.data.children.length?this.data.height===y.height?this._splitRoot(this.data,y):(this.data.height<y.height&&(q=this.data,this.data=y,y=q),this._insert(y,this.data.height-y.height-1,!0)):this.data=y;return this},t.prototype.insert=function(y){return y&&this._insert(y,this.data.height-1),this},t.prototype.clear=function(){return this.data=a([]),this},t.prototype.remove=function(y,q){if(!y)return this;for(var E,F,w,D=this.data,G=this.toBBox(y),L=[],O=[];D||L.length;){if(D||(D=L.pop(),
F=L[L.length-1],E=O.pop(),w=!0),D.leaf){a:{var V=y;var S=D.children,ca=q;if(ca){for(var ea=0;ea<S.length;ea++)if(ca(V,S[ea])){V=ea;break a}V=-1}else V=S.indexOf(V)}if(-1!==V)return D.children.splice(V,1),L.push(D),this._condense(L),this}w||D.leaf||!b(D,G)?F?(E++,D=F.children[E],w=!1):D=null:(L.push(D),O.push(E),E=0,F=D,D=D.children[0])}return this},t.prototype.toBBox=function(y){return y},t.prototype.compareMinX=function(y,q){return y.minX-q.minX},t.prototype.compareMinY=function(y,q){return y.minY-
q.minY},t.prototype.toJSON=function(){return this.data},t.prototype.fromJSON=function(y){return this.data=y,this},t.prototype._all=function(y,q){for(var E=[];y;)y.leaf?q.push.apply(q,y.children):E.push.apply(E,y.children),y=E.pop();return q},t.prototype._build=function(y,q,E,F){var w,D=E-q+1,G=this._maxEntries;if(D<=G)return A(w=a(y.slice(q,E+1)),this.toBBox),w;F||(F=Math.ceil(Math.log(D)/Math.log(G)),G=Math.ceil(D/Math.pow(G,F-1)));(w=a([])).leaf=!1;w.height=F;D=Math.ceil(D/G);G=D*Math.ceil(Math.sqrt(G));
for(e(y,q,E,G,this.compareMinX);q<=E;q+=G){var L=Math.min(q+G-1,E);e(y,q,L,D,this.compareMinY);for(var O=q;O<=L;O+=D)w.children.push(this._build(y,O,Math.min(O+D-1,L),F-1))}return A(w,this.toBBox),w},t.prototype._chooseSubtree=function(y,q,E,F){for(;F.push(q),!q.leaf&&F.length-1!==E;){for(var w=1/0,D=1/0,G=void 0,L=0;L<q.children.length;L++){var O=q.children[L],V=g(O),S=(ca=y,ea=O,(Math.max(ea.maxX,ca.maxX)-Math.min(ea.minX,ca.minX))*(Math.max(ea.maxY,ca.maxY)-Math.min(ea.minY,ca.minY))-V);S<D?(D=
S,w=V<w?V:w,G=O):S===D&&V<w&&(w=V,G=O)}q=G||q.children[0]}var ca,ea;return q},t.prototype._insert=function(y,q,E){E=E?y:this.toBBox(y);var F=[],w=this._chooseSubtree(E,this.data,q,F);w.children.push(y);for(m(w,E);0<=q&&F[q].children.length>this._maxEntries;)this._split(F,q),q--;this._adjustParentBBoxes(E,F,q)},t.prototype._split=function(y,q){var E=y[q],F=E.children.length,w=this._minEntries;this._chooseSplitAxis(E,w,F);F=this._chooseSplitIndex(E,w,F);F=a(E.children.splice(F,E.children.length-F));
F.height=E.height;F.leaf=E.leaf;A(E,this.toBBox);A(F,this.toBBox);q?y[q-1].children.push(F):this._splitRoot(E,F)},t.prototype._splitRoot=function(y,q){this.data=a([y,q]);this.data.height=y.height+1;this.data.leaf=!1;A(this.data,this.toBBox)},t.prototype._chooseSplitIndex=function(y,q,E){for(var F,w,D,G,L,O,V,S=1/0,ca=1/0,ea=q;ea<=E-q;ea++){var T=u(y,0,ea,this.toBBox),R=u(y,ea,E,this.toBBox),J=(w=T,D=R,G=void 0,L=void 0,O=void 0,V=void 0,G=Math.max(w.minX,D.minX),L=Math.max(w.minY,D.minY),O=Math.min(w.maxX,
D.maxX),V=Math.min(w.maxY,D.maxY),Math.max(0,O-G)*Math.max(0,V-L));T=g(T)+g(R);J<S?(S=J,F=ea,ca=T<ca?T:ca):J===S&&T<ca&&(ca=T,F=ea)}return F||E-q},t.prototype._chooseSplitAxis=function(y,q,E){var F=y.leaf?this.compareMinX:l,w=y.leaf?this.compareMinY:f;this._allDistMargin(y,q,E,F)<this._allDistMargin(y,q,E,w)&&y.children.sort(F)},t.prototype._allDistMargin=function(y,q,E,F){y.children.sort(F);F=this.toBBox;for(var w=u(y,0,q,F),D=u(y,E-q,E,F),G=d(w)+d(D),L=q;L<E-q;L++){var O=y.children[L];m(w,y.leaf?
F(O):O);G+=d(w)}for(E=E-q-1;E>=q;E--)w=y.children[E],m(D,y.leaf?F(w):w),G+=d(D);return G},t.prototype._adjustParentBBoxes=function(y,q,E){for(;0<=E;E--)m(q[E],y)},t.prototype._condense=function(y){for(var q=y.length-1,E=void 0;0<=q;q--)0===y[q].children.length?0<q?(E=y[q-1].children).splice(E.indexOf(y[q]),1):this.clear():A(y[q],this.toBBox)},t})};
shadow$provide[193]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[194]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var v=z(68),k=z(148);ra=function(){function p(A){this.opacity_=A.opacity;this.rotateWithView_=A.rotateWithView;this.rotation_=A.rotation;this.scale_=A.scale;this.scaleArray_=(0,k.toSize)(A.scale);this.displacement_=A.displacement}p.prototype.clone=function(){var A=this.getScale();return new p({opacity:this.getOpacity(),scale:Array.isArray(A)?A.slice():A,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),
displacement:this.getDisplacement().slice()})};p.prototype.getOpacity=function(){return this.opacity_};p.prototype.getRotateWithView=function(){return this.rotateWithView_};p.prototype.getRotation=function(){return this.rotation_};p.prototype.getScale=function(){return this.scale_};p.prototype.getScaleArray=function(){return this.scaleArray_};p.prototype.getDisplacement=function(){return this.displacement_};p.prototype.getAnchor=function(){return(0,v.abstract)()};p.prototype.getImage=function(A){return(0,v.abstract)()};
p.prototype.getHitDetectionImage=function(){return(0,v.abstract)()};p.prototype.getPixelRatio=function(A){return 1};p.prototype.getImageState=function(){return(0,v.abstract)()};p.prototype.getImageSize=function(){return(0,v.abstract)()};p.prototype.getOrigin=function(){return(0,v.abstract)()};p.prototype.getSize=function(){return(0,v.abstract)()};p.prototype.setDisplacement=function(A){this.displacement_=A};p.prototype.setOpacity=function(A){this.opacity_=A};p.prototype.setRotateWithView=function(A){this.rotateWithView_=
A};p.prototype.setRotation=function(A){this.rotation_=A};p.prototype.setScale=function(A){this.scale_=A;this.scaleArray_=(0,k.toSize)(A)};p.prototype.listenImageChange=function(A){(0,v.abstract)()};p.prototype.load=function(){(0,v.abstract)()};p.prototype.unlistenImageChange=function(A){(0,v.abstract)()};return p}();B.default=ra};
shadow$provide[195]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.asColorLike=function(k){return Array.isArray(k)?(0,v.toString)(k):k};var v=z(77)};
shadow$provide[196]=function(ra,z,cb,B){function v(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(193));ra=v(z(194));var p=z(77),A=z(195),u=z(97),m=z(98),l=function(){var f=function(g,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};return f(g,d)};return function(g,d){function b(){this.constructor=g}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(g,d);g.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}();z=function(f){function g(d){var b=f.call(this,{opacity:1,rotateWithView:void 0!==d.rotateWithView?d.rotateWithView:!1,rotation:void 0!==d.rotation?d.rotation:0,scale:void 0!==d.scale?d.scale:1,displacement:void 0!==d.displacement?d.displacement:[0,0]})||this;b.canvas_=void 0;b.hitDetectionCanvas_=null;b.fill_=void 0!==
d.fill?d.fill:null;b.origin_=[0,0];b.points_=d.points;b.radius_=void 0!==d.radius?d.radius:d.radius1;b.radius2_=d.radius2;b.angle_=void 0!==d.angle?d.angle:0;b.stroke_=void 0!==d.stroke?d.stroke:null;b.size_=null;b.renderOptions_=null;b.render();return b}l(g,f);g.prototype.clone=function(){var d=this.getScale();d=new g({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():
void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(d)?d.slice():d,displacement:this.getDisplacement().slice()});d.setOpacity(this.getOpacity());return d};g.prototype.getAnchor=function(){var d=this.size_;if(!d)return null;var b=this.getDisplacement();return[d[0]/2-b[0],d[1]/2+b[1]]};g.prototype.getAngle=function(){return this.angle_};g.prototype.getFill=function(){return this.fill_};g.prototype.getHitDetectionImage=function(){this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_);
return this.hitDetectionCanvas_};g.prototype.getImage=function(d){var b=this.canvas_[d];if(!b){b=this.renderOptions_;var c=(0,u.createCanvasContext2D)(b.size*d,b.size*d);this.draw_(b,c,d);b=c.canvas;this.canvas_[d]=b}return b};g.prototype.getPixelRatio=function(d){return d};g.prototype.getImageSize=function(){return this.size_};g.prototype.getImageState=function(){return k.default.LOADED};g.prototype.getOrigin=function(){return this.origin_};g.prototype.getPoints=function(){return this.points_};g.prototype.getRadius=
function(){return this.radius_};g.prototype.getRadius2=function(){return this.radius2_};g.prototype.getSize=function(){return this.size_};g.prototype.getStroke=function(){return this.stroke_};g.prototype.listenImageChange=function(d){};g.prototype.load=function(){};g.prototype.unlistenImageChange=function(d){};g.prototype.calculateLineJoinSize_=function(d,b,c){if(0===b||Infinity===this.points_||"bevel"!==d&&"miter"!==d)return b;var a=this.radius_,e=void 0===this.radius2_?a:this.radius2_;if(a<e){var t=
a;a=e;e=t}t=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_);var y=e*Math.sin(t),q=a-Math.sqrt(e*e-y*y),E=Math.sqrt(y*y+q*q);y=E/y;if("miter"===d&&y<=c)return y*b;y=b/2/y;q=b/2*(q/E);q=Math.sqrt((a+y)*(a+y)+q*q)-a;if(void 0===this.radius2_||"bevel"===d)return 2*q;d=a*Math.sin(t);t=e-Math.sqrt(a*a-d*d);d=Math.sqrt(d*d+t*t)/d;return d<=c?2*Math.max(q,d*b/2-e-a):2*q};g.prototype.createRenderOptions=function(){var d=m.defaultLineJoin,b=0,c=null,a=0,e=0;if(this.stroke_){var t=this.stroke_.getColor();
null===t&&(t=m.defaultStrokeStyle);t=(0,A.asColorLike)(t);e=this.stroke_.getWidth();void 0===e&&(e=m.defaultLineWidth);c=this.stroke_.getLineDash();a=this.stroke_.getLineDashOffset();d=this.stroke_.getLineJoin();void 0===d&&(d=m.defaultLineJoin);b=this.stroke_.getMiterLimit();void 0===b&&(b=m.defaultMiterLimit)}var y=this.calculateLineJoinSize_(d,e,b);return{strokeStyle:t,strokeWidth:e,size:Math.ceil(2*Math.max(this.radius_,this.radius2_||0)+y),lineDash:c,lineDashOffset:a,lineJoin:d,miterLimit:b}};
g.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var d=this.renderOptions_.size;this.canvas_={};this.size_=[d,d]};g.prototype.draw_=function(d,b,c){b.scale(c,c);b.translate(d.size/2,d.size/2);this.createPath_(b);this.fill_&&(c=this.fill_.getColor(),null===c&&(c=m.defaultFillStyle),b.fillStyle=(0,A.asColorLike)(c),b.fill());this.stroke_&&(b.strokeStyle=d.strokeStyle,b.lineWidth=d.strokeWidth,b.setLineDash&&d.lineDash&&(b.setLineDash(d.lineDash),b.lineDashOffset=d.lineDashOffset),
b.lineJoin=d.lineJoin,b.miterLimit=d.miterLimit,b.stroke())};g.prototype.createHitDetectionCanvas_=function(d){if(this.fill_){var b=this.fill_.getColor(),c=0;"string"===typeof b&&(b=(0,p.asArray)(b));null===b?c=1:Array.isArray(b)&&(c=4===b.length?b[3]:1);0===c&&(b=(0,u.createCanvasContext2D)(d.size,d.size),this.hitDetectionCanvas_=b.canvas,this.drawHitDetectionCanvas_(d,b))}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))};g.prototype.createPath_=function(d){var b=this.points_,
c=this.radius_;if(Infinity===b)d.arc(0,0,c,0,2*Math.PI);else{var a=void 0===this.radius2_?c:this.radius2_;void 0!==this.radius2_&&(b*=2);for(var e=this.angle_-Math.PI/2,t=2*Math.PI/b,y=0;y<b;y++){var q=e+y*t,E=0===y%2?c:a;d.lineTo(E*Math.cos(q),E*Math.sin(q))}d.closePath()}};g.prototype.drawHitDetectionCanvas_=function(d,b){b.translate(d.size/2,d.size/2);this.createPath_(b);b.fillStyle=m.defaultFillStyle;b.fill();this.stroke_&&(b.strokeStyle=d.strokeStyle,b.lineWidth=d.strokeWidth,d.lineDash&&(b.setLineDash(d.lineDash),
b.lineDashOffset=d.lineDashOffset),b.lineJoin=d.lineJoin,b.miterLimit=d.miterLimit,b.stroke())};return g}(ra.default);B.default=z};
shadow$provide[197]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(k){return k&&k.__esModule?k:{default:k}}(z(196));var v=function(){var k=function(p,A){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(u[l]=m[l])};return k(p,A)};return function(p,A){function u(){this.constructor=p}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+
String(A)+" is not a constructor or null");k(p,A);p.prototype=null===A?Object.create(A):(u.prototype=A.prototype,new u)}}();ra=function(k){function p(A){A=A?A:{};return k.call(this,{points:Infinity,fill:A.fill,radius:A.radius,stroke:A.stroke,scale:void 0!==A.scale?A.scale:1,rotation:void 0!==A.rotation?A.rotation:0,rotateWithView:void 0!==A.rotateWithView?A.rotateWithView:!1,displacement:void 0!==A.displacement?A.displacement:[0,0]})||this}v(p,k);p.prototype.clone=function(){var A=this.getScale();
A=new p({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(A)?A.slice():A,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});A.setOpacity(this.getOpacity());return A};p.prototype.setRadius=function(A){this.radius_=A;this.render()};return p}(ra.default);B.default=ra};
shadow$provide[198]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(){function v(k){k=k||{};this.color_=void 0!==k.color?k.color:null}v.prototype.clone=function(){var k=this.getColor();return new v({color:Array.isArray(k)?k.slice():k||void 0})};v.prototype.getColor=function(){return this.color_};v.prototype.setColor=function(k){this.color_=k};return v}();B.default=ra};
shadow$provide[199]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(){function v(k){k=k||{};this.color_=void 0!==k.color?k.color:null;this.lineCap_=k.lineCap;this.lineDash_=void 0!==k.lineDash?k.lineDash:null;this.lineDashOffset_=k.lineDashOffset;this.lineJoin_=k.lineJoin;this.miterLimit_=k.miterLimit;this.width_=k.width}v.prototype.clone=function(){var k=this.getColor();return new v({color:Array.isArray(k)?k.slice():k||void 0,lineCap:this.getLineCap(),
lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};v.prototype.getColor=function(){return this.color_};v.prototype.getLineCap=function(){return this.lineCap_};v.prototype.getLineDash=function(){return this.lineDash_};v.prototype.getLineDashOffset=function(){return this.lineDashOffset_};v.prototype.getLineJoin=function(){return this.lineJoin_};v.prototype.getMiterLimit=
function(){return this.miterLimit_};v.prototype.getWidth=function(){return this.width_};v.prototype.setColor=function(k){this.color_=k};v.prototype.setLineCap=function(k){this.lineCap_=k};v.prototype.setLineDash=function(k){this.lineDash_=k};v.prototype.setLineDashOffset=function(k){this.lineDashOffset_=k};v.prototype.setLineJoin=function(k){this.lineJoin_=k};v.prototype.setMiterLimit=function(k){this.miterLimit_=k};v.prototype.setWidth=function(k){this.width_=k};return v}();B.default=ra};
shadow$provide[200]=function(ra,z,cb,B){function v(d){return d&&d.__esModule?d:{default:d}}function k(d){return d.getGeometry()}Object.defineProperty(B,"__esModule",{value:!0});B.toFunction=function(d){if("function"!==typeof d){if(Array.isArray(d))var b=d;else(0,l.assert)("function"===typeof d.getZIndex,41),b=[d];d=function(){return b}}return d};B.createDefaultStyle=function(d,b){g||(d=new A.default({color:"rgba(255,255,255,0.4)"}),b=new m.default({color:"#3399CC",width:1.25}),g=[new f({image:new p.default({fill:d,
stroke:b,radius:5}),fill:d,stroke:b})]);return g};B.createEditingStyle=function(){var d={},b=[255,255,255,1],c=[0,153,255,1];d[u.default.POLYGON]=[new f({fill:new A.default({color:[255,255,255,.5]})})];d[u.default.MULTI_POLYGON]=d[u.default.POLYGON];d[u.default.LINE_STRING]=[new f({stroke:new m.default({color:b,width:5})}),new f({stroke:new m.default({color:c,width:3})})];d[u.default.MULTI_LINE_STRING]=d[u.default.LINE_STRING];d[u.default.CIRCLE]=d[u.default.POLYGON].concat(d[u.default.LINE_STRING]);
d[u.default.POINT]=[new f({image:new p.default({radius:6,fill:new A.default({color:c}),stroke:new m.default({color:b,width:1.5})}),zIndex:Infinity})];d[u.default.MULTI_POINT]=d[u.default.POINT];d[u.default.GEOMETRY_COLLECTION]=d[u.default.POLYGON].concat(d[u.default.LINE_STRING],d[u.default.POINT]);return d};B.default=void 0;var p=v(z(197)),A=v(z(198)),u=v(z(113)),m=v(z(199)),l=z(71),f=function(){function d(b){b=b||{};this.geometry_=null;this.geometryFunction_=k;void 0!==b.geometry&&this.setGeometry(b.geometry);
this.fill_=void 0!==b.fill?b.fill:null;this.image_=void 0!==b.image?b.image:null;this.renderer_=void 0!==b.renderer?b.renderer:null;this.hitDetectionRenderer_=void 0!==b.hitDetectionRenderer?b.hitDetectionRenderer:null;this.stroke_=void 0!==b.stroke?b.stroke:null;this.text_=void 0!==b.text?b.text:null;this.zIndex_=b.zIndex}d.prototype.clone=function(){var b=this.getGeometry();b&&"object"===typeof b&&(b=b.clone());return new d({geometry:b,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?
this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};d.prototype.getRenderer=function(){return this.renderer_};d.prototype.setRenderer=function(b){this.renderer_=b};d.prototype.setHitDetectionRenderer=function(b){this.hitDetectionRenderer_=b};d.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_};d.prototype.getGeometry=function(){return this.geometry_};
d.prototype.getGeometryFunction=function(){return this.geometryFunction_};d.prototype.getFill=function(){return this.fill_};d.prototype.setFill=function(b){this.fill_=b};d.prototype.getImage=function(){return this.image_};d.prototype.setImage=function(b){this.image_=b};d.prototype.getStroke=function(){return this.stroke_};d.prototype.setStroke=function(b){this.stroke_=b};d.prototype.getText=function(){return this.text_};d.prototype.setText=function(b){this.text_=b};d.prototype.getZIndex=function(){return this.zIndex_};
d.prototype.setGeometry=function(b){"function"===typeof b?this.geometryFunction_=b:"string"===typeof b?this.geometryFunction_=function(c){return c.get(b)}:b?void 0!==b&&(this.geometryFunction_=function(){return b}):this.geometryFunction_=k;this.geometry_=b};d.prototype.setZIndex=function(b){this.zIndex_=b};return d}(),g=null;B.default=f};
shadow$provide[201]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(91));var k=v(z(192)),p=z(81),A=z(200),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(f){f=f?f:{};var g=(0,p.assign)({},f);delete g.style;delete g.renderBuffer;delete g.updateWhileAnimating;delete g.updateWhileInteracting;g=m.call(this,g)||this;g.declutter_=void 0!==f.declutter?f.declutter:!1;g.renderBuffer_=void 0!==f.renderBuffer?f.renderBuffer:100;g.style_=null;g.styleFunction_=void 0;
g.setStyle(f.style);g.updateWhileAnimating_=void 0!==f.updateWhileAnimating?f.updateWhileAnimating:!1;g.updateWhileInteracting_=void 0!==f.updateWhileInteracting?f.updateWhileInteracting:!1;return g}u(l,m);l.prototype.getDeclutter=function(){return this.declutter_};l.prototype.getFeatures=function(f){return m.prototype.getFeatures.call(this,f)};l.prototype.getRenderBuffer=function(){return this.renderBuffer_};l.prototype.getRenderOrder=function(){return this.get("renderOrder")};l.prototype.getStyle=
function(){return this.style_};l.prototype.getStyleFunction=function(){return this.styleFunction_};l.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_};l.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};l.prototype.renderDeclutter=function(f){f.declutterTree||(f.declutterTree=new k.default(9));this.getRenderer().renderDeclutter(f)};l.prototype.setRenderOrder=function(f){this.set("renderOrder",f)};l.prototype.setStyle=function(f){this.style_=
void 0!==f?f:A.createDefaultStyle;this.styleFunction_=null===f?void 0:(0,A.toFunction)(this.style_);this.changed()};return l}(ra.default);B.default=z};
shadow$provide[202]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};B.fillInstruction=[ra.FILL];B.strokeInstruction=[ra.STROKE];B.beginPathInstruction=[ra.BEGIN_PATH];B.closePathInstruction=[ra.CLOSE_PATH];B.default=ra};
shadow$provide[203]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(){function v(){}v.prototype.drawCustom=function(k,p,A,u){};v.prototype.drawGeometry=function(k){};v.prototype.setStyle=function(k){};v.prototype.drawCircle=function(k,p){};v.prototype.drawFeature=function(k,p){};v.prototype.drawGeometryCollection=function(k,p){};v.prototype.drawLineString=function(k,p){};v.prototype.drawMultiLineString=function(k,p){};v.prototype.drawMultiPoint=function(k,
p){};v.prototype.drawMultiPolygon=function(k,p){};v.prototype.drawPoint=function(k,p){};v.prototype.drawPolygon=function(k,p){};v.prototype.drawText=function(k,p){};v.prototype.setFillStrokeStyle=function(k,p){};v.prototype.setImageStyle=function(k,p){};v.prototype.setTextStyle=function(k,p){};return v}();B.default=ra};
shadow$provide[204]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(202)),p=v(z(113)),A=v(z(74));ra=v(z(203));var u=z(195),m=z(75),l=z(98),f=z(66),g=z(136),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=
c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a,e,t,y){var q=b.call(this)||this;q.tolerance=a;q.maxExtent=e;q.pixelRatio=y;q.maxLineWidth=0;q.resolution=t;q.beginGeometryInstruction1_=null;q.beginGeometryInstruction2_=null;q.bufferedMaxExtent_=null;q.instructions=[];q.coordinates=[];q.tmpCoordinate_=[];q.hitDetectionInstructions=
[];q.state={};return q}d(c,b);c.prototype.applyPixelRatio=function(a){var e=this.pixelRatio;return 1==e?a:a.map(function(t){return t*e})};c.prototype.appendFlatPointCoordinates=function(a,e){for(var t=this.getBufferedMaxExtent(),y=this.tmpCoordinate_,q=this.coordinates,E=q.length,F=0,w=a.length;F<w;F+=e)y[0]=a[F],y[1]=a[F+1],(0,m.containsCoordinate)(t,y)&&(q[E++]=y[0],q[E++]=y[1]);return E};c.prototype.appendFlatLineCoordinates=function(a,e,t,y,q,E){var F=this.coordinates,w=F.length,D=this.getBufferedMaxExtent();
E&&(e+=y);E=a[e];var G=a[e+1],L=this.tmpCoordinate_,O=!0,V;for(V=e+y;V<t;V+=y){L[0]=a[V];L[1]=a[V+1];var S=(0,m.coordinateRelationship)(D,L);S!==ca?(O&&(F[w++]=E,F[w++]=G,O=!1),F[w++]=L[0],F[w++]=L[1]):S===A.default.INTERSECTING?(F[w++]=L[0],F[w++]=L[1],O=!1):O=!0;E=L[0];G=L[1];var ca=S}if(q&&O||V===e+y)F[w++]=E,F[w++]=G;return w};c.prototype.drawCustomCoordinates_=function(a,e,t,y,q){for(var E=0,F=t.length;E<F;++E){var w=t[E];e=this.appendFlatLineCoordinates(a,e,w,y,!1,!1);q.push(e);e=w}return e};
c.prototype.drawCustom=function(a,e,t,y){this.beginGeometry(a,e);var q=a.getType(),E=a.getStride(),F=this.coordinates.length,w;switch(q){case p.default.MULTI_POLYGON:q=a.getOrientedFlatCoordinates();var D=[];for(var G=a.getEndss(),L=w=0,O=G.length;L<O;++L){var V=[];w=this.drawCustomCoordinates_(q,w,G[L],E,V);D.push(V)}this.instructions.push([k.default.CUSTOM,F,D,a,t,g.inflateMultiCoordinatesArray]);this.hitDetectionInstructions.push([k.default.CUSTOM,F,D,a,y||t,g.inflateMultiCoordinatesArray]);break;
case p.default.POLYGON:case p.default.MULTI_LINE_STRING:D=[];q=q==p.default.POLYGON?a.getOrientedFlatCoordinates():a.getFlatCoordinates();this.drawCustomCoordinates_(q,0,a.getEnds(),E,D);this.instructions.push([k.default.CUSTOM,F,D,a,t,g.inflateCoordinatesArray]);this.hitDetectionInstructions.push([k.default.CUSTOM,F,D,a,y||t,g.inflateCoordinatesArray]);break;case p.default.LINE_STRING:case p.default.CIRCLE:q=a.getFlatCoordinates();E=this.appendFlatLineCoordinates(q,0,q.length,E,!1,!1);this.instructions.push([k.default.CUSTOM,
F,E,a,t,g.inflateCoordinates]);this.hitDetectionInstructions.push([k.default.CUSTOM,F,E,a,y||t,g.inflateCoordinates]);break;case p.default.MULTI_POINT:q=a.getFlatCoordinates();E=this.appendFlatPointCoordinates(q,E);E>F&&(this.instructions.push([k.default.CUSTOM,F,E,a,t,g.inflateCoordinates]),this.hitDetectionInstructions.push([k.default.CUSTOM,F,E,a,y||t,g.inflateCoordinates]));break;case p.default.POINT:q=a.getFlatCoordinates(),this.coordinates.push(q[0],q[1]),E=this.coordinates.length,this.instructions.push([k.default.CUSTOM,
F,E,a,t]),this.hitDetectionInstructions.push([k.default.CUSTOM,F,E,a,y||t])}this.endGeometry(e)};c.prototype.beginGeometry=function(a,e){this.beginGeometryInstruction1_=[k.default.BEGIN_GEOMETRY,e,0,a];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[k.default.BEGIN_GEOMETRY,e,0,a];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};c.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,
coordinates:this.coordinates}};c.prototype.reverseHitDetectionInstructions=function(){var a=this.hitDetectionInstructions;a.reverse();var e,t=a.length,y=-1;for(e=0;e<t;++e){var q=a[e];var E=q[0];E==k.default.END_GEOMETRY?y=e:E==k.default.BEGIN_GEOMETRY&&(q[2]=e,(0,f.reverseSubArray)(this.hitDetectionInstructions,y,e),y=-1)}};c.prototype.setFillStrokeStyle=function(a,e){var t=this.state;a?(a=a.getColor(),t.fillStyle=(0,u.asColorLike)(a?a:l.defaultFillStyle)):t.fillStyle=void 0;e?(a=e.getColor(),t.strokeStyle=
(0,u.asColorLike)(a?a:l.defaultStrokeStyle),a=e.getLineCap(),t.lineCap=void 0!==a?a:l.defaultLineCap,a=e.getLineDash(),t.lineDash=a?a.slice():l.defaultLineDash,a=e.getLineDashOffset(),t.lineDashOffset=a?a:l.defaultLineDashOffset,a=e.getLineJoin(),t.lineJoin=void 0!==a?a:l.defaultLineJoin,a=e.getWidth(),t.lineWidth=void 0!==a?a:l.defaultLineWidth,e=e.getMiterLimit(),t.miterLimit=void 0!==e?e:l.defaultMiterLimit,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)):
(t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0)};c.prototype.createFill=function(a){a=a.fillStyle;var e=[k.default.SET_FILL_STYLE,a];"string"!==typeof a&&e.push(!0);return e};c.prototype.applyStroke=function(a){this.instructions.push(this.createStroke(a))};c.prototype.createStroke=function(a){return[k.default.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth*this.pixelRatio,a.lineCap,a.lineJoin,a.miterLimit,this.applyPixelRatio(a.lineDash),
a.lineDashOffset*this.pixelRatio]};c.prototype.updateFillStyle=function(a,e){var t=a.fillStyle;if("string"!==typeof t||a.currentFillStyle!=t)void 0!==t&&this.instructions.push(e.call(this,a)),a.currentFillStyle=t};c.prototype.updateStrokeStyle=function(a,e){var t=a.strokeStyle,y=a.lineCap,q=a.lineDash,E=a.lineDashOffset,F=a.lineJoin,w=a.lineWidth,D=a.miterLimit;if(a.currentStrokeStyle!=t||a.currentLineCap!=y||q!=a.currentLineDash&&!(0,f.equals)(a.currentLineDash,q)||a.currentLineDashOffset!=E||a.currentLineJoin!=
F||a.currentLineWidth!=w||a.currentMiterLimit!=D)void 0!==t&&e.call(this,a),a.currentStrokeStyle=t,a.currentLineCap=y,a.currentLineDash=q,a.currentLineDashOffset=E,a.currentLineJoin=F,a.currentLineWidth=w,a.currentMiterLimit=D};c.prototype.endGeometry=function(a){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;a=[k.default.END_GEOMETRY,a];this.instructions.push(a);
this.hitDetectionInstructions.push(a)};c.prototype.getBufferedMaxExtent=function(){this.bufferedMaxExtent_||(this.bufferedMaxExtent_=(0,m.clone)(this.maxExtent),0<this.maxLineWidth&&(0,m.buffer)(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_));return this.bufferedMaxExtent_};return c}(ra.default);B.default=z};
shadow$provide[205]=function(ra,z,cb,B){function v(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(204));var k=v(z(202)),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m,l,f,g){m=A.call(this,m,l,f,g)||this;m.hitDetectionImage_=null;m.image_=null;m.imagePixelRatio_=void 0;m.anchorX_=void 0;m.anchorY_=void 0;m.height_=void 0;m.opacity_=void 0;m.originX_=void 0;m.originY_=void 0;m.rotateWithView_=void 0;m.rotation_=void 0;m.scale_=void 0;m.width_=void 0;m.declutterImageWithText_=void 0;return m}p(u,A);u.prototype.drawPoint=
function(m,l){if(this.image_){this.beginGeometry(m,l);var f=m.getFlatCoordinates(),g=m.getStride();m=this.coordinates.length;f=this.appendFlatPointCoordinates(f,g);this.instructions.push([k.default.DRAW_IMAGE,m,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/
this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);this.hitDetectionInstructions.push([k.default.DRAW_IMAGE,m,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(l)}};u.prototype.drawMultiPoint=function(m,l){if(this.image_){this.beginGeometry(m,l);var f=m.getFlatCoordinates(),g=m.getStride();
m=this.coordinates.length;f=this.appendFlatPointCoordinates(f,g);this.instructions.push([k.default.DRAW_IMAGE,m,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]);
this.hitDetectionInstructions.push([k.default.DRAW_IMAGE,m,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]);this.endGeometry(l)}};u.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=
this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return A.prototype.finish.call(this)};u.prototype.setImageStyle=function(m,l){var f=m.getAnchor(),g=m.getSize(),d=m.getHitDetectionImage(),b=m.getImage(this.pixelRatio),c=m.getOrigin();this.imagePixelRatio_=m.getPixelRatio(this.pixelRatio);this.anchorX_=f[0];this.anchorY_=f[1];this.hitDetectionImage_=d;this.image_=b;this.height_=g[1];this.opacity_=m.getOpacity();this.originX_=c[0]*this.imagePixelRatio_;this.originY_=c[1]*this.imagePixelRatio_;
this.rotateWithView_=m.getRotateWithView();this.rotation_=m.getRotation();this.scale_=m.getScaleArray();this.width_=g[0];this.declutterImageWithText_=l};return u}(ra.default);B.default=z};
shadow$provide[206]=function(ra,z,cb,B){function v(u){if("function"!==typeof WeakMap)return null;var m=new WeakMap,l=new WeakMap;return(v=function(f){return f?l:m})(u)}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(u){return u&&u.__esModule?u:{default:u}}(z(204));var k=function(u,m){if(!m&&u&&u.__esModule)return u;if(null===u||"object"!==typeof u&&"function"!==typeof u)return{default:u};if((m=v(m))&&m.has(u))return m.get(u);var l={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,
g;for(g in u)if("default"!==g&&Object.prototype.hasOwnProperty.call(u,g)){var d=f?Object.getOwnPropertyDescriptor(u,g):null;d&&(d.get||d.set)?Object.defineProperty(l,g,d):l[g]=u[g]}l.default=u;m&&m.set(u,l);return l}(z(202)),p=z(98),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=
m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();z=function(u){function m(l,f,g,d){return u.call(this,l,f,g,d)||this}A(m,u);m.prototype.drawFlatCoordinates_=function(l,f,g,d){var b=this.coordinates.length;l=this.appendFlatLineCoordinates(l,f,g,d,!1,!1);b=[k.default.MOVE_TO_LINE_TO,b,l];this.instructions.push(b);this.hitDetectionInstructions.push(b);
return g};m.prototype.drawLineString=function(l,f){var g=this.state,d=g.lineWidth;void 0!==g.strokeStyle&&void 0!==d&&(this.updateStrokeStyle(g,this.applyStroke),this.beginGeometry(l,f),this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,g.strokeStyle,g.lineWidth,g.lineCap,g.lineJoin,g.miterLimit,p.defaultLineDash,p.defaultLineDashOffset],k.beginPathInstruction),g=l.getFlatCoordinates(),l=l.getStride(),this.drawFlatCoordinates_(g,0,g.length,l),this.hitDetectionInstructions.push(k.strokeInstruction),
this.endGeometry(f))};m.prototype.drawMultiLineString=function(l,f){var g=this.state,d=g.lineWidth;if(void 0!==g.strokeStyle&&void 0!==d){this.updateStrokeStyle(g,this.applyStroke);this.beginGeometry(l,f);this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,g.strokeStyle,g.lineWidth,g.lineCap,g.lineJoin,g.miterLimit,g.lineDash,g.lineDashOffset],k.beginPathInstruction);g=l.getEnds();d=l.getFlatCoordinates();l=l.getStride();for(var b=0,c=0,a=g.length;c<a;++c)b=this.drawFlatCoordinates_(d,
b,g[c],l);this.hitDetectionInstructions.push(k.strokeInstruction);this.endGeometry(f)}};m.prototype.finish=function(){var l=this.state;void 0!=l.lastStroke&&l.lastStroke!=this.coordinates.length&&this.instructions.push(k.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return u.prototype.finish.call(this)};m.prototype.applyStroke=function(l){void 0!=l.lastStroke&&l.lastStroke!=this.coordinates.length&&(this.instructions.push(k.strokeInstruction),l.lastStroke=this.coordinates.length);
l.lastStroke=0;u.prototype.applyStroke.call(this,l);this.instructions.push(k.beginPathInstruction)};return m}(ra.default);B.default=z};
shadow$provide[207]=function(ra,z,cb,B){function v(m){if("function"!==typeof WeakMap)return null;var l=new WeakMap,f=new WeakMap;return(v=function(g){return g?f:l})(m)}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(m){return m&&m.__esModule?m:{default:m}}(z(204));var k=function(m,l){if(!l&&m&&m.__esModule)return m;if(null===m||"object"!==typeof m&&"function"!==typeof m)return{default:m};if((l=v(l))&&l.has(m))return l.get(m);var f={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,
d;for(d in m)if("default"!==d&&Object.prototype.hasOwnProperty.call(m,d)){var b=g?Object.getOwnPropertyDescriptor(m,d):null;b&&(b.get||b.set)?Object.defineProperty(f,d,b):f[d]=m[d]}f.default=m;l&&l.set(m,f);return f}(z(202)),p=z(98),A=z(135),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=
l}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(f,g,d,b){return m.call(this,f,g,d,b)||this}u(l,m);l.prototype.drawFlatCoordinatess_=function(f,g,d,b){var c=this.state,a=void 0!==c.fillStyle;c=void 0!==c.strokeStyle;var e=d.length;this.instructions.push(k.beginPathInstruction);this.hitDetectionInstructions.push(k.beginPathInstruction);
for(var t=0;t<e;++t){var y=d[t],q=this.coordinates.length;g=this.appendFlatLineCoordinates(f,g,y,b,!0,!c);g=[k.default.MOVE_TO_LINE_TO,q,g];this.instructions.push(g);this.hitDetectionInstructions.push(g);c&&(this.instructions.push(k.closePathInstruction),this.hitDetectionInstructions.push(k.closePathInstruction));g=y}a&&(this.instructions.push(k.fillInstruction),this.hitDetectionInstructions.push(k.fillInstruction));c&&(this.instructions.push(k.strokeInstruction),this.hitDetectionInstructions.push(k.strokeInstruction));
return g};l.prototype.drawCircle=function(f,g){var d=this.state,b=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==b){this.setFillStrokeStyles_();this.beginGeometry(f,g);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([k.default.SET_FILL_STYLE,p.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);b=f.getFlatCoordinates();f=f.getStride();var c=this.coordinates.length;
this.appendFlatLineCoordinates(b,0,b.length,f,!1,!1);b=[k.default.CIRCLE,c];this.instructions.push(k.beginPathInstruction,b);this.hitDetectionInstructions.push(k.beginPathInstruction,b);void 0!==d.fillStyle&&(this.instructions.push(k.fillInstruction),this.hitDetectionInstructions.push(k.fillInstruction));void 0!==d.strokeStyle&&(this.instructions.push(k.strokeInstruction),this.hitDetectionInstructions.push(k.strokeInstruction));this.endGeometry(g)}};l.prototype.drawPolygon=function(f,g){var d=this.state,
b=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==b)this.setFillStrokeStyles_(),this.beginGeometry(f,g),void 0!==d.fillStyle&&this.hitDetectionInstructions.push([k.default.SET_FILL_STYLE,p.defaultFillStyle]),void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]),d=f.getEnds(),b=f.getOrientedFlatCoordinates(),f=f.getStride(),this.drawFlatCoordinatess_(b,0,d,f),this.endGeometry(g)};
l.prototype.drawMultiPolygon=function(f,g){var d=this.state,b=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==b){this.setFillStrokeStyles_();this.beginGeometry(f,g);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([k.default.SET_FILL_STYLE,p.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);d=f.getEndss();b=f.getOrientedFlatCoordinates();f=f.getStride();
for(var c=0,a=0,e=d.length;a<e;++a)c=this.drawFlatCoordinatess_(b,c,d[a],f);this.endGeometry(g)}};l.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var f=this.tolerance;if(0!==f)for(var g=this.coordinates,d=0,b=g.length;d<b;++d)g[d]=(0,A.snap)(g[d],f);return m.prototype.finish.call(this)};l.prototype.setFillStrokeStyles_=function(){var f=this.state;void 0!==f.fillStyle&&this.updateFillStyle(f,this.createFill);void 0!==f.strokeStyle&&this.updateStrokeStyle(f,this.applyStroke)};
return l}(ra.default);B.default=z};
shadow$provide[208]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={POINT:"point",LINE:"line"}};
shadow$provide[209]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.matchingChunk=function(v,k,p,A,u){for(var m=p,l=p,f=0,g=0,d=p,b,c,a,e,t,y;p<A;p+=u){var q=k[p],E=k[p+1];void 0!==a&&(a=q-a,e=E-e,c=Math.sqrt(a*a+e*e),void 0!==t&&(g+=b,b=Math.acos((t*a+y*e)/(b*c)),b>v&&(g>f&&(f=g,m=d,l=p),g=0,d=p-u)),b=c,t=a,y=e);a=q;e=E}return g+c>f?[d,p]:[m,l]}};
shadow$provide[210]=function(ra,z,cb,B){function v(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.TEXT_ALIGN=void 0;ra=v(z(204));var k=v(z(202)),p=v(z(113)),A=v(z(208)),u=z(195),m=z(98),l=z(68),f=z(75),g=z(209),d=function(){var c=function(a,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,y){t.__proto__=y}||function(t,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(t[q]=y[q])};return c(a,e)};return function(a,
e){function t(){this.constructor=a}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c(a,e);a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),b={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};B.TEXT_ALIGN=b;z=function(c){function a(e,t,y,q){e=c.call(this,e,t,y,q)||this;e.labels_=null;e.text_="";e.textOffsetX_=0;e.textOffsetY_=0;e.textRotateWithView_=
void 0;e.textRotation_=0;e.textFillState_=null;e.fillStates={};e.textStrokeState_=null;e.strokeStates={};e.textState_={};e.textStates={};e.textKey_="";e.fillKey_="";e.strokeKey_="";e.declutterImageWithText_=void 0;return e}d(a,c);a.prototype.finish=function(){var e=c.prototype.finish.call(this);e.textStates=this.textStates;e.fillStates=this.fillStates;e.strokeStates=this.strokeStates;return e};a.prototype.drawText=function(e,t){var y=this.textFillState_,q=this.textStrokeState_,E=this.textState_;if(""!==
this.text_&&E&&(y||q)){var F=this.coordinates;y=F.length;q=e.getType();var w=null,D=e.getStride();if(E.placement!==A.default.LINE||q!=p.default.LINE_STRING&&q!=p.default.MULTI_LINE_STRING&&q!=p.default.POLYGON&&q!=p.default.MULTI_POLYGON){var G=E.overflow?null:[];switch(q){case p.default.POINT:case p.default.MULTI_POINT:w=e.getFlatCoordinates();break;case p.default.LINE_STRING:w=e.getFlatMidpoint();break;case p.default.CIRCLE:w=e.getCenter();break;case p.default.MULTI_LINE_STRING:w=e.getFlatMidpoints();
D=2;break;case p.default.POLYGON:w=e.getFlatInteriorPoint();E.overflow||G.push(w[2]/this.resolution);D=3;break;case p.default.MULTI_POLYGON:var L=e.getFlatInteriorPoints();w=[];q=0;for(ca=L.length;q<ca;q+=3)E.overflow||G.push(L[q+2]/this.resolution),w.push(L[q],L[q+1]);if(0===w.length)return;D=2}q=this.appendFlatPointCoordinates(w,D);if(q===y)return;if(G&&(q-y)/2!==w.length/D){var O=y/2;G=G.filter(function(T,R){(T=F[2*(O+R)]===w[R*D]&&F[2*(O+R)+1]===w[R*D+1])||--O;return T})}this.saveTextStates_();
if(E.backgroundFill||E.backgroundStroke)this.setFillStrokeStyle(E.backgroundFill,E.backgroundStroke),E.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),E.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(e,t);e=E.padding;if(e!=m.defaultPadding&&(0>E.scale[0]||0>E.scale[1])){e=E.padding[0];ca=E.padding[1];L=E.padding[2];
var V=E.padding[3];0>E.scale[0]&&(ca=-ca,V=-V);0>E.scale[1]&&(e=-e,L=-L);e=[e,ca,L,V]}var S=this.pixelRatio;this.instructions.push([k.default.DRAW_IMAGE,y,q,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,e==m.defaultPadding?m.defaultPadding:e.map(function(T){return T*S}),!!E.backgroundFill,!!E.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G]);ca=1/S;this.hitDetectionInstructions.push([k.default.DRAW_IMAGE,
y,q,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[ca,ca],NaN,this.declutterImageWithText_,e,!!E.backgroundFill,!!E.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,G])}else{if(!(0,f.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;G=void 0;w=e.getFlatCoordinates();if(q==p.default.LINE_STRING)G=[w.length];else if(q==p.default.MULTI_LINE_STRING)G=e.getEnds();else if(q==p.default.POLYGON)G=e.getEnds().slice(0,
1);else if(q==p.default.MULTI_POLYGON){L=e.getEndss();G=[];q=0;for(var ca=L.length;q<ca;++q)G.push(L[q][0])}this.beginGeometry(e,t);e=E.textAlign;V=0;var ea=void 0;ca=0;for(L=G.length;ca<L;++ca){void 0==e?(q=(0,g.matchingChunk)(E.maxAngle,w,V,G[ca],D),V=q[0],ea=q[1]):ea=G[ca];for(q=V;q<ea;q+=D)F.push(w[q],w[q+1]);q=F.length;V=G[ca];this.drawChars_(y,q);y=q}}this.endGeometry(t)}};a.prototype.saveTextStates_=function(){var e=this.textStrokeState_,t=this.textState_,y=this.textFillState_,q=this.strokeKey_;
e&&(q in this.strokeStates||(this.strokeStates[q]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));e=this.textKey_;e in this.textStates||(this.textStates[e]={font:t.font,textAlign:t.textAlign||m.defaultTextAlign,textBaseline:t.textBaseline||m.defaultTextBaseline,scale:t.scale});t=this.fillKey_;y&&(t in this.fillStates||(this.fillStates[t]={fillStyle:y.fillStyle}))};a.prototype.drawChars_=
function(e,t){var y=this.textStrokeState_,q=this.textState_,E=this.strokeKey_,F=this.textKey_,w=this.fillKey_;this.saveTextStates_();var D=this.pixelRatio,G=b[q.textBaseline],L=this.textOffsetY_*D,O=this.text_;y=y?y.lineWidth*Math.abs(q.scale[0])/2:0;this.instructions.push([k.default.DRAW_CHARS,e,t,G,q.overflow,w,q.maxAngle,D,L,E,y*D,O,F,1]);this.hitDetectionInstructions.push([k.default.DRAW_CHARS,e,t,G,q.overflow,w,q.maxAngle,1,L,E,y,O,F,1/D])};a.prototype.setTextStyle=function(e,t){var y,q;if(e){if(q=
e.getFill()){var E=this.textFillState_;E||(this.textFillState_=E={});E.fillStyle=(0,u.asColorLike)(q.getColor()||m.defaultFillStyle)}else this.textFillState_=E=null;if(y=e.getStroke()){q=this.textStrokeState_;q||(this.textStrokeState_=q={});var F=y.getLineDash(),w=y.getLineDashOffset(),D=y.getWidth(),G=y.getMiterLimit();q.lineCap=y.getLineCap()||m.defaultLineCap;q.lineDash=F?F.slice():m.defaultLineDash;q.lineDashOffset=void 0===w?m.defaultLineDashOffset:w;q.lineJoin=y.getLineJoin()||m.defaultLineJoin;
q.lineWidth=void 0===D?m.defaultLineWidth:D;q.miterLimit=void 0===G?m.defaultMiterLimit:G;q.strokeStyle=(0,u.asColorLike)(y.getColor()||m.defaultStrokeStyle)}else this.textStrokeState_=q=null;y=this.textState_;F=e.getFont()||m.defaultFont;(0,m.registerFont)(F);w=e.getScaleArray();y.overflow=e.getOverflow();y.font=F;y.maxAngle=e.getMaxAngle();y.placement=e.getPlacement();y.textAlign=e.getTextAlign();y.textBaseline=e.getTextBaseline()||m.defaultTextBaseline;y.backgroundFill=e.getBackgroundFill();y.backgroundStroke=
e.getBackgroundStroke();y.padding=e.getPadding()||m.defaultPadding;y.scale=void 0===w?[1,1]:w;F=e.getOffsetX();w=e.getOffsetY();D=e.getRotateWithView();G=e.getRotation();this.text_=e.getText()||"";this.textOffsetX_=void 0===F?0:F;this.textOffsetY_=void 0===w?0:w;this.textRotateWithView_=void 0===D?!1:D;this.textRotation_=void 0===G?0:G;this.strokeKey_=q?("string"==typeof q.strokeStyle?q.strokeStyle:(0,l.getUid)(q.strokeStyle))+q.lineCap+q.lineDashOffset+"|"+q.lineWidth+q.lineJoin+q.miterLimit+"["+
q.lineDash.join()+"]":"";this.textKey_=y.font+y.scale+(y.textAlign||"?")+(y.textBaseline||"?");this.fillKey_=E?"string"==typeof E.fillStyle?E.fillStyle:"|"+(0,l.getUid)(E.fillStyle):""}else this.text_="";this.declutterImageWithText_=t};return a}(ra.default);B.default=z};
shadow$provide[211]=function(ra,z,cb,B){function v(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(204));cb=v(z(205));var k=v(z(206)),p=v(z(207));z=v(z(210));var A={Circle:p.default,Default:ra.default,Image:cb.default,LineString:k.default,Polygon:p.default,Text:z.default};z=function(){function u(m,l,f,g){this.tolerance_=m;this.maxExtent_=l;this.pixelRatio_=g;this.resolution_=f;this.buildersByZIndex_={}}u.prototype.finish=function(){var m=
{},l;for(l in this.buildersByZIndex_){m[l]=m[l]||{};var f=this.buildersByZIndex_[l],g;for(g in f){var d=f[g].finish();m[l][g]=d}}return m};u.prototype.getBuilder=function(m,l){var f=void 0!==m?m.toString():"0";m=this.buildersByZIndex_[f];void 0===m&&(m={},this.buildersByZIndex_[f]=m);f=m[l];void 0===f&&(f=new A[l](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),m[l]=f);return f};return u}();B.default=z};
shadow$provide[212]=function(ra,z,cb,B){function v(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(83)),p=v(z(193));ra=v(z(85));var A=v(z(90)),u=z(68),m=function(){var l=function(f,g){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}if("function"!==
typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();z=function(l){function f(g){var d=l.call(this)||this;d.ready=!0;d.boundHandleImageChange_=d.handleImageChange_.bind(d);d.layer_=g;d.declutterExecutorGroup=null;return d}m(f,l);f.prototype.getFeatures=function(g){return(0,u.abstract)()};f.prototype.getData=function(g){return null};f.prototype.prepareFrame=function(g){return(0,u.abstract)()};
f.prototype.renderFrame=function(g,d){return(0,u.abstract)()};f.prototype.loadedTileCallback=function(g,d,b){g[d]||(g[d]={});g[d][b.tileCoord.toString()]=b};f.prototype.createLoadedTileFinder=function(g,d,b){return function(c,a){var e=this.loadedTileCallback.bind(this,b,c);return g.forEachLoadedTile(d,c,a,e)}.bind(this)};f.prototype.forEachFeatureAtCoordinate=function(g,d,b,c,a){};f.prototype.getDataAtPixel=function(g,d,b){return null};f.prototype.getLayer=function(){return this.layer_};f.prototype.handleFontsChanged=
function(){};f.prototype.handleImageChange_=function(g){g.target.getState()===p.default.LOADED&&this.renderIfReadyAndVisible()};f.prototype.loadImage=function(g){var d=g.getState();d!=p.default.LOADED&&d!=p.default.ERROR&&g.addEventListener(k.default.CHANGE,this.boundHandleImageChange_);d==p.default.IDLE&&(g.load(),d=g.getState());return d==p.default.LOADED};f.prototype.renderIfReadyAndVisible=function(){var g=this.getLayer();g.getVisible()&&g.getSourceState()==A.default.READY&&g.changed()};f.prototype.disposeInternal=
function(){delete this.layer_;l.prototype.disposeInternal.call(this)};return f}(ra.default);B.default=z};
shadow$provide[213]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(212));var k=v(z(95)),p=v(z(89)),A=z(72),u=z(77),m=z(75),l=z(97),f=z(66),g=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=
c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),d=null;z=function(b){function c(a){a=b.call(this,a)||this;a.container=null;a.tempTransform=(0,A.create)();a.pixelTransform=(0,A.create)();a.inversePixelTransform=(0,A.create)();a.context=null;a.containerReused=!1;a.pixelContext_=null;a.frameState=null;return a}g(c,b);c.prototype.getImageData=function(a,
e,t){if(!d){var y=document.createElement("canvas");y.width=1;y.height=1;d=y.getContext("2d")}d.clearRect(0,0,1,1);try{d.drawImage(a,e,t,1,1,0,0,1,1);var q=d.getImageData(0,0,1,1).data}catch(E){return null}return q};c.prototype.getBackground=function(a){var e=this.getLayer().getBackground();"function"===typeof e&&(e=e(a.viewState.resolution));return e||void 0};c.prototype.useContainer=function(a,e,t,y){var q=this.getLayer().getClassName(),E;a&&a.className===q&&""===a.style.opacity&&1===t&&(!y||a.style.backgroundColor&&
(0,f.equals)((0,u.asArray)(a.style.backgroundColor),(0,u.asArray)(y)))&&(t=a.firstElementChild,t instanceof HTMLCanvasElement&&(E=t.getContext("2d")));E&&E.canvas.style.transform===e?(this.container=a,this.context=E,this.containerReused=!0):this.containerReused&&(this.context=this.container=null,this.containerReused=!1);this.container||(a=document.createElement("div"),a.className=q,q=a.style,q.position="absolute",q.width="100%",q.height="100%",y&&(q.backgroundColor=y),E=(0,l.createCanvasContext2D)(),
t=E.canvas,a.appendChild(t),q=t.style,q.position="absolute",q.left="0",q.transformOrigin="top left",this.container=a,this.context=E)};c.prototype.clipUnrotated=function(a,e,t){var y=(0,m.getTopLeft)(t),q=(0,m.getTopRight)(t),E=(0,m.getBottomRight)(t);t=(0,m.getBottomLeft)(t);(0,A.apply)(e.coordinateToPixelTransform,y);(0,A.apply)(e.coordinateToPixelTransform,q);(0,A.apply)(e.coordinateToPixelTransform,E);(0,A.apply)(e.coordinateToPixelTransform,t);e=this.inversePixelTransform;(0,A.apply)(e,y);(0,A.apply)(e,
q);(0,A.apply)(e,E);(0,A.apply)(e,t);a.save();a.beginPath();a.moveTo(Math.round(y[0]),Math.round(y[1]));a.lineTo(Math.round(q[0]),Math.round(q[1]));a.lineTo(Math.round(E[0]),Math.round(E[1]));a.lineTo(Math.round(t[0]),Math.round(t[1]));a.clip()};c.prototype.dispatchRenderEvent_=function(a,e,t){var y=this.getLayer();y.hasListener(a)&&(a=new k.default(a,this.inversePixelTransform,t,e),y.dispatchEvent(a))};c.prototype.preRender=function(a,e){this.frameState=e;this.dispatchRenderEvent_(p.default.PRERENDER,
a,e)};c.prototype.postRender=function(a,e){this.dispatchRenderEvent_(p.default.POSTRENDER,a,e)};c.prototype.getRenderTransform=function(a,e,t,y,q,E,F){e=y/e;return(0,A.compose)(this.tempTransform,q/2,E/2,e,-e,-t,-a[0]+F,-a[1])};c.prototype.getDataAtPixel=function(a,e,t){var y=(0,A.apply)(this.inversePixelTransform,a.slice());t=this.context;var q=this.getLayer().getExtent();if(q&&(a=(0,A.apply)(e.pixelToCoordinateTransform,a.slice()),!(0,m.containsCoordinate)(q,a)))return null;a=Math.round(y[0]);y=
Math.round(y[1]);e=this.pixelContext_;e||(e=document.createElement("canvas"),e.width=1,e.height=1,this.pixelContext_=e=e.getContext("2d"));e.clearRect(0,0,1,1);try{e.drawImage(t.canvas,a,y,1,1,0,0,1,1);var E=e.getImageData(0,0,1,1).data}catch(F){return"SecurityError"===F.name?(this.pixelContext_=null,new Uint8Array):E}return 0===E[3]?null:E};c.prototype.disposeInternal=function(){delete this.frameState;b.prototype.disposeInternal.call(this)};return c}(ra.default);B.default=z};
shadow$provide[214]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"}};
shadow$provide[215]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.drawTextOnPath=function(p,A,u,m,l,f,g,d,b,c,a,e){function t(){E=y;F=q;A+=m;y=p[A];q=p[A+1];D+=w;w=Math.sqrt((y-E)*(y-E)+(q-F)*(q-F))}var y=p[A],q=p[A+1],E=0,F=0,w=0,D=0;do t();while(A<u-m&&D+w<f);for(var G=0===w?0:(f-D)/w,L=(0,v.lerp)(E,y,G),O=(0,v.lerp)(F,q,G),V=A-m,S=D,ca=f+d*b(c,l,a);A<u-m&&D+w<ca;)t();G=0===w?0:(ca-D)/w;var ea=(0,v.lerp)(E,y,G);G=(0,v.lerp)(F,q,G);if(e){var T=[L,O,ea,G];(0,k.rotate)(T,0,
4,2,e,T,T);e=T[0]>T[2]}else e=L>ea;T=Math.PI;var R=[],J=V+m===A;A=V;w=0;D=S;y=p[A];q=p[A+1];if(J){t();var r=Math.atan2(q-F,y-E);e&&(r+=0<r?-T:T);R[0]=[(ea+L)/2,(G+O)/2,(ca-f)/2,r,l];return R}L=0;for(O=l.length;L<O;){t();V=Math.atan2(q-F,y-E);e&&(V+=0<V?-T:T);if(void 0!==r&&(r=V-r,r+=r>T?-2*T:r<-T?2*T:0,Math.abs(r)>g))return null;r=V;G=L;for(S=0;L<O;++L){ca=d*b(c,l[e?O-L-1:L],a);if(A+m<u&&D+w<f+S+ca/2)break;S+=ca}L!==G&&(ea=e?l.substring(O-G,O-L):l.substring(G,L),G=0===w?0:(f+S/2-D)/w,ca=(0,v.lerp)(E,
y,G),G=(0,v.lerp)(F,q,G),R.push([ca,G,S/2,V,ea]),f+=S)}return R};var v=z(76),k=z(130)};
shadow$provide[216]=function(ra,z,cb,B){function v(w){return w[3].declutterBox}function k(w,D){"start"!==D&&"end"!==D||F.test(w)||(D="start"===D?"left":"right");return u.TEXT_ALIGN[D]}function p(w,D,G){0<G&&w.push("\n","");w.push(D,"");return w}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var A=function(w){return w&&w.__esModule?w:{default:w}}(z(202)),u=z(210),m=z(69),l=z(72),f=z(75),g=z(98),d=z(215),b=z(66),c=z(186),a=z(130),e=(0,f.createEmpty)(),t=[],y=[],q=[],E=[],F=new RegExp("["+
String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");ra=function(){function w(D,G,L,O){this.overlaps=L;this.pixelRatio=G;this.resolution=D;this.instructions=O.instructions;this.coordinates=O.coordinates;this.coordinateCache_={};this.renderedTransform_=(0,l.create)();
this.hitDetectionInstructions=O.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=O.fillStates||{};this.strokeStates=O.strokeStates||{};this.textStates=O.textStates||{};this.widths_={};this.labels_={}}w.prototype.createLabel=function(D,G,L,O){var V=D+G+L+O;if(this.labels_[V])return this.labels_[V];var S=O?this.strokeStates[O]:null,ca=L?this.fillStates[L]:null;G=this.textStates[G];var ea=this.pixelRatio,T=[G.scale[0]*ea,G.scale[1]*ea],R=Array.isArray(D);ea=k(R?
D[0]:D,G.textAlign||g.defaultTextAlign);var J=O&&S.lineWidth?S.lineWidth:0;D=R?D:D.split("\n").reduce(p,[]);var r=(0,g.getTextDimensions)(G,D);R=r.widths;var C=r.heights,N=r.lineWidths,U=r.width+J,ja=[],ba=(U+2)*T[0];r=(r.height+J)*T[1];ba={width:0>ba?Math.floor(ba):Math.ceil(ba),height:0>r?Math.floor(r):Math.ceil(r),contextInstructions:ja};1==T[0]&&1==T[1]||ja.push("scale",T);O&&(ja.push("strokeStyle",S.strokeStyle),ja.push("lineWidth",J),ja.push("lineCap",S.lineCap),ja.push("lineJoin",S.lineJoin),
ja.push("miterLimit",S.miterLimit),(m.WORKER_OFFSCREEN_CANVAS?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(ja.push("setLineDash",[S.lineDash]),ja.push("lineDashOffset",S.lineDashOffset)));L&&ja.push("fillStyle",ca.fillStyle);ja.push("textBaseline","middle");ja.push("textAlign","center");S=.5-ea;ca=ea*U+S*J;T=[];r=[];for(var ia=0,za=0,Wa=0,hb=0,Ja,qa=0,Da=D.length;qa<Da;qa+=2){var va=D[qa];if("\n"===va)za+=ia,ia=0,ca=ea*U+S*J,++hb;else{var sa=D[qa+1]||G.font;
sa!==Ja&&(O&&T.push("font",sa),L&&r.push("font",sa),Ja=sa);ia=Math.max(ia,C[Wa]);va=[va,ca+S*R[Wa]+ea*(R[Wa]-N[hb]),.5*(J+ia)+za];ca+=R[Wa];O&&T.push("strokeText",va);L&&r.push("fillText",va);++Wa}}Array.prototype.push.apply(ja,T);Array.prototype.push.apply(ja,r);return this.labels_[V]=ba};w.prototype.replayTextBackground_=function(D,G,L,O,V,S,ca){D.beginPath();D.moveTo.apply(D,G);D.lineTo.apply(D,L);D.lineTo.apply(D,O);D.lineTo.apply(D,V);D.lineTo.apply(D,G);S&&(this.alignFill_=S[2],this.fill_(D));
ca&&(this.setStrokeStyle_(D,ca),D.stroke())};w.prototype.calculateImageOrLabelDimensions_=function(D,G,L,O,V,S,ca,ea,T,R,J,r,C,N,U,ja){ca*=r[0];ea*=r[1];ca=L-ca;ea=O-ea;D=V+T>D?D-T:V;G=S+R>G?G-R:S;S=N[3]+D*r[0]+N[1];V=N[0]+G*r[1]+N[2];var ba=ca-N[3];N=ea-N[0];if(U||0!==J)t[0]=ba,E[0]=ba,t[1]=N,y[1]=N,y[0]=ba+S,q[0]=y[0],q[1]=N+V,E[1]=q[1];if(0!==J){var ia=(0,l.compose)((0,l.create)(),L,O,1,1,J,-L,-O);(0,l.apply)(ia,t);(0,l.apply)(ia,y);(0,l.apply)(ia,q);(0,l.apply)(ia,E);(0,f.createOrUpdate)(Math.min(t[0],
y[0],q[0],E[0]),Math.min(t[1],y[1],q[1],E[1]),Math.max(t[0],y[0],q[0],E[0]),Math.max(t[1],y[1],q[1],E[1]),e)}else(0,f.createOrUpdate)(Math.min(ba,ba+S),Math.min(N,N+V),Math.max(ba,ba+S),Math.max(N,N+V),e);C&&(ca=Math.round(ca),ea=Math.round(ea));return{drawImageX:ca,drawImageY:ea,drawImageW:D,drawImageH:G,originX:T,originY:R,declutterBox:{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:ja},canvasTransform:ia,scale:r}};w.prototype.replayImageOrLabel_=function(D,G,L,O,V,S,ca){var ea=O.declutterBox,T=
D.canvas,R=ca?ca[2]*O.scale[0]/2:0;ea.minX-R<=T.width/G&&0<=ea.maxX+R&&ea.minY-R<=T.height/G&&0<=ea.maxY+R&&((S||ca)&&this.replayTextBackground_(D,t,y,q,E,S,ca),(0,g.drawImageOrLabel)(D,O.canvasTransform,V,L,O.originX,O.originY,O.drawImageW,O.drawImageH,O.drawImageX,O.drawImageY,O.scale));return!0};w.prototype.fill_=function(D){if(this.alignFill_){var G=(0,l.apply)(this.renderedTransform_,[0,0]),L=512*this.pixelRatio;D.save();D.translate(G[0]%L,G[1]%L);D.rotate(this.viewRotation_)}D.fill();this.alignFill_&&
D.restore()};w.prototype.setStrokeStyle_=function(D,G){D.strokeStyle=G[1];D.lineWidth=G[2];D.lineCap=G[3];D.lineJoin=G[4];D.miterLimit=G[5];D.setLineDash&&(D.lineDashOffset=G[7],D.setLineDash(G[6]))};w.prototype.drawLabelWithPointPlacement_=function(D,G,L,O){var V=this.textStates[G];G=this.createLabel(D,G,O,L);O=this.strokeStates[L];L=this.pixelRatio;D=k(Array.isArray(D)?D[0]:D,V.textAlign||g.defaultTextAlign);var S=u.TEXT_ALIGN[V.textBaseline||g.defaultTextBaseline];O=O&&O.lineWidth?O.lineWidth:
0;return{label:G,anchorX:D*(G.width/L-2*V.scale[0])+2*(.5-D)*O,anchorY:S*G.height/L+2*(.5-S)*O}};w.prototype.execute_=function(D,G,L,O,V,S,ca,ea){if(this.pixelCoordinates_&&(0,b.equals)(L,this.renderedTransform_))var T=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),T=(0,a.transform2D)(this.coordinates,0,this.coordinates.length,2,L,this.pixelCoordinates_),(0,l.setFromArray)(this.renderedTransform_,L);var R=0,J=O.length,r,C=0,N=0,U=null,ja=null,ba=this.coordinateCache_,
ia=this.viewRotation_;L=Math.round(1E12*Math.atan2(-L[1],L[0]))/1E12;for(var za={context:D,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ia},Wa=this.instructions!=O||this.overlaps?0:200,hb,Ja;R<J;){var qa=O[R];switch(qa[0]){case A.default.BEGIN_GEOMETRY:hb=qa[1];Ja=qa[3];hb.getGeometry()?void 0===ca||(0,f.intersects)(ca,Ja.getExtent())?++R:R=qa[2]+1:R=qa[2];break;case A.default.BEGIN_PATH:C>Wa&&(this.fill_(D),C=0);N>Wa&&(D.stroke(),N=0);if(!C&&!N){D.beginPath();var Da=r=NaN}++R;break;
case A.default.CIRCLE:var va=qa[1];var sa=T[va];var xa=T[va+1];var ma=T[va+2]-sa;va=T[va+3]-xa;va=Math.sqrt(ma*ma+va*va);D.moveTo(sa+va,xa);D.arc(sa,xa,va,0,2*Math.PI,!0);++R;break;case A.default.CLOSE_PATH:D.closePath();++R;break;case A.default.CUSTOM:va=qa[1];var Ea=qa[2];sa=qa[4];xa=6==qa.length?qa[5]:void 0;za.geometry=qa[3];za.feature=hb;R in ba||(ba[R]=[]);ma=ba[R];xa?xa(T,va,Ea,2,ma):(ma[0]=T[va],ma[1]=T[va+1],ma.length=2);sa(ma,za);++R;break;case A.default.DRAW_IMAGE:va=qa[1];Ea=qa[2];ma=
qa[3];sa=qa[4];xa=qa[5];var Ua=qa[6];var ab=qa[7],ta=qa[8],Na=qa[9],oa=qa[10],aa=qa[11],ka=qa[12];var Ia=qa[13];var Xa=qa[14];!ma&&19<=qa.length&&(sa=qa[18],ma=qa[19],Ua=qa[20],Ia=qa[21],xa=this.drawLabelWithPointPlacement_(sa,ma,Ua,Ia),ma=xa.label,qa[3]=ma,sa=(xa.anchorX-qa[22])*this.pixelRatio,qa[4]=sa,xa=(xa.anchorY-qa[23])*this.pixelRatio,qa[5]=xa,Ua=ma.height,qa[6]=Ua,Ia=ma.width,qa[13]=Ia);var Ya=void 0;24<qa.length&&(Ya=qa[24]);if(16<qa.length){var mb=qa[15];var ib=qa[16];var Eb=qa[17]}else mb=
g.defaultPadding,Eb=ib=!1;oa&&L?aa+=ia:oa||L||(aa-=ia);for(oa=0;va<Ea;va+=2)if(!(Ya&&Ya[oa++]<Ia/this.pixelRatio)){qa=this.calculateImageOrLabelDimensions_(ma.width,ma.height,T[va],T[va+1],Ia,Ua,sa,xa,ta,Na,aa,ka,V,mb,ib||Eb,hb);var Zb=[D,G,ma,qa,ab,ib?U:null,Eb?ja:null],Gc=void 0,xc=void 0;if(ea&&Xa){xc=Ea-va;if(!Xa[xc]){Xa[xc]=Zb;continue}Gc=Xa[xc];delete Xa[xc];xc=v(Gc);if(ea.collides(xc))continue}ea&&ea.collides(qa.declutterBox)||(Gc&&(ea&&ea.insert(xc),this.replayImageOrLabel_.apply(this,Gc)),
ea&&ea.insert(qa.declutterBox),this.replayImageOrLabel_.apply(this,Zb))}++R;break;case A.default.DRAW_CHARS:xa=qa[1];aa=qa[2];va=qa[3];ka=qa[4];Ia=qa[5];Xa=qa[6];Na=qa[7];Ea=qa[8];Ua=qa[9];ab=qa[10];sa=qa[11];ma=qa[12];ta=[qa[13],qa[13]];Ya=this.textStates[ma];qa=Ya.font;Na=[Ya.scale[0]*Na,Ya.scale[1]*Na];qa in this.widths_?Ya=this.widths_[qa]:(Ya={},this.widths_[qa]=Ya);mb=(0,c.lineStringLength)(T,xa,aa,2);ib=Math.abs(Na[0])*(0,g.measureAndCacheTextWidth)(qa,sa,Ya);if(ka||ib<=mb)a:if(ka=(0,d.drawTextOnPath)(T,
xa,aa,2,sa,(mb-ib)*u.TEXT_ALIGN[this.textStates[ma].textAlign],Xa,Math.abs(Na[0]),g.measureAndCacheTextWidth,qa,Ya,L?0:this.viewRotation_),ka){aa=[];if(Ua)for(Xa=0,Ya=ka.length;Xa<Ya;++Xa){qa=ka[Xa];sa=qa[4];mb=this.createLabel(sa,ma,"",Ua);sa=qa[2]+(0>Na[0]?-ab:ab);xa=va*mb.height+2*(.5-va)*ab*Na[1]/Na[0]-Ea;qa=this.calculateImageOrLabelDimensions_(mb.width,mb.height,qa[0],qa[1],mb.width,mb.height,sa,xa,0,0,qa[3],ta,!1,g.defaultPadding,!1,hb);if(ea&&ea.collides(qa.declutterBox))break a;aa.push([D,
G,mb,qa,1,null,null])}if(Ia)for(Xa=0,Ya=ka.length;Xa<Ya;++Xa){qa=ka[Xa];sa=qa[4];mb=this.createLabel(sa,ma,Ia,"");sa=qa[2];xa=va*mb.height-Ea;qa=this.calculateImageOrLabelDimensions_(mb.width,mb.height,qa[0],qa[1],mb.width,mb.height,sa,xa,0,0,qa[3],ta,!1,g.defaultPadding,!1,hb);if(ea&&ea.collides(qa.declutterBox))break a;aa.push([D,G,mb,qa,1,null,null])}ea&&ea.load(aa.map(v));va=0;for(sa=aa.length;va<sa;++va)this.replayImageOrLabel_.apply(this,aa[va])}++R;break;case A.default.END_GEOMETRY:if(void 0!==
S&&(hb=qa[1],va=S(hb,Ja)))return va;++R;break;case A.default.FILL:Wa?C++:this.fill_(D);++R;break;case A.default.MOVE_TO_LINE_TO:va=qa[1];Ea=qa[2];ma=T[va];Ua=T[va+1];sa=ma+.5|0;xa=Ua+.5|0;if(sa!==r||xa!==Da)D.moveTo(ma,Ua),r=sa,Da=xa;for(va+=2;va<Ea;va+=2)if(ma=T[va],Ua=T[va+1],sa=ma+.5|0,xa=Ua+.5|0,va==Ea-2||sa!==r||xa!==Da)D.lineTo(ma,Ua),r=sa,Da=xa;++R;break;case A.default.SET_FILL_STYLE:U=qa;this.alignFill_=qa[2];C&&(this.fill_(D),C=0,N&&(D.stroke(),N=0));D.fillStyle=qa[1];++R;break;case A.default.SET_STROKE_STYLE:ja=
qa;N&&(D.stroke(),N=0);this.setStrokeStyle_(D,qa);++R;break;case A.default.STROKE:Wa?N++:D.stroke();++R;break;default:++R}}C&&this.fill_(D);N&&D.stroke()};w.prototype.execute=function(D,G,L,O,V,S){this.viewRotation_=O;this.execute_(D,G,L,this.instructions,V,void 0,void 0,S)};w.prototype.executeHitDetection=function(D,G,L,O,V){this.viewRotation_=L;return this.execute_(D,1,G,this.hitDetectionInstructions,!0,O,V)};return w}();B.default=ra};
shadow$provide[217]=function(ra,z,cb,B){function v(a){return a&&a.__esModule?a:{default:a}}function k(a){if(void 0!==c[a])return c[a];for(var e=2*a+1,t=a*a,y=Array(t+1),q=0;q<=a;++q)for(var E=0;E<=a;++E){var F=q*q+E*E;if(F>t)break;var w=y[F];w||(w=[],y[F]=w);w.push(4*((a+q)*e+(a+E))+3);0<q&&w.push(4*((a-q)*e+(a+E))+3);0<E&&(w.push(4*((a+q)*e+(a-E))+3),0<q&&w.push(4*((a-q)*e+(a-E))+3))}e=[];q=0;for(t=y.length;q<t;++q)y[q]&&e.push.apply(e,y[q]);return c[a]=e}Object.defineProperty(B,"__esModule",{value:!0});
B.getPixelIndexArray=k;B.default=void 0;var p=v(z(214)),A=v(z(216)),u=z(75),m=z(72),l=z(97),f=z(81),g=z(66),d=z(130),b=[p.default.POLYGON,p.default.CIRCLE,p.default.LINE_STRING,p.default.IMAGE,p.default.TEXT,p.default.DEFAULT];ra=function(){function a(e,t,y,q,E,F){this.maxExtent_=e;this.overlaps_=q;this.pixelRatio_=y;this.resolution_=t;this.renderBuffer_=F;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,m.create)();this.createExecutors_(E)}a.prototype.clip=
function(e,t){t=this.getClipCoords(t);e.beginPath();e.moveTo(t[0],t[1]);e.lineTo(t[2],t[3]);e.lineTo(t[4],t[5]);e.lineTo(t[6],t[7]);e.clip()};a.prototype.createExecutors_=function(e){for(var t in e){var y=this.executorsByZIndex_[t];void 0===y&&(y={},this.executorsByZIndex_[t]=y);var q=e[t],E;for(E in q)y[E]=new A.default(this.resolution_,this.pixelRatio_,this.overlaps_,q[E])}};a.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var y=this.executorsByZIndex_[t],q=0,E=e.length;q<
E;++q)if(e[q]in y)return!0;return!1};a.prototype.forEachFeatureAtCoordinate=function(e,t,y,q,E,F){function w(R,J){for(var r=O.getImageData(0,0,D,D).data,C=0,N=S.length;C<N;C++)if(0<r[S[C]]){if(!F||ea!==p.default.IMAGE&&ea!==p.default.TEXT||-1!==F.indexOf(R))if(C=(S[C]-3)/4,r=q-C%D,C=q-(C/D|0),R=E(R,J,r*r+C*C))return R;O.clearRect(0,0,D,D);break}}q=Math.round(q);var D=2*q+1,G=(0,m.compose)(this.hitDetectionTransform_,q+.5,q+.5,1/t,-1/t,-y,-e[0],-e[1]),L=!this.hitDetectionContext_;L&&(this.hitDetectionContext_=
(0,l.createCanvasContext2D)(D,D));var O=this.hitDetectionContext_;O.canvas.width!==D||O.canvas.height!==D?(O.canvas.width=D,O.canvas.height=D):L||O.clearRect(0,0,D,D);if(void 0!==this.renderBuffer_){var V=(0,u.createEmpty)();(0,u.extendCoordinate)(V,e);(0,u.buffer)(V,t*(this.renderBuffer_+q),V)}var S=k(q);e=Object.keys(this.executorsByZIndex_).map(Number);e.sort(g.numberSafeCompareFunction);for(t=e.length-1;0<=t;--t){var ca=this.executorsByZIndex_[e[t].toString()];for(L=b.length-1;0<=L;--L){var ea=
b[L];var T=ca[ea];if(void 0!==T&&(T=T.executeHitDetection(O,G,y,w,V)))return T}}};a.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var y=t[0],q=t[1],E=t[2];t=t[3];y=[y,q,y,t,E,t,E,q];(0,d.transform2D)(y,0,8,2,e,y);return y};a.prototype.isEmpty=function(){return(0,f.isEmpty)(this.executorsByZIndex_)};a.prototype.execute=function(e,t,y,q,E,F,w){var D=Object.keys(this.executorsByZIndex_).map(Number);D.sort(g.numberSafeCompareFunction);this.maxExtent_&&(e.save(),this.clip(e,
y));F=F?F:b;var G,L;w&&D.reverse();var O=0;for(G=D.length;O<G;++O){var V=this.executorsByZIndex_[D[O].toString()];var S=0;for(L=F.length;S<L;++S){var ca=V[F[S]];void 0!==ca&&ca.execute(e,t,y,q,E,w)}}this.maxExtent_&&e.restore()};return a}();var c={};B.default=ra};
shadow$provide[218]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(113));ra=v(z(203));var p=z(195),A=z(72),u=z(98),m=z(66),l=z(75),f=z(130),g=z(132),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=
c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a,e,t,y,q,E,F){var w=b.call(this)||this;w.context_=a;w.pixelRatio_=e;w.extent_=t;w.transform_=y;w.viewRotation_=q;w.squaredTolerance_=E;w.userTransform_=F;w.contextFillState_=null;w.contextStrokeState_=null;w.contextTextState_=null;w.fillState_=null;w.strokeState_=null;w.image_=
null;w.imageAnchorX_=0;w.imageAnchorY_=0;w.imageHeight_=0;w.imageOpacity_=0;w.imageOriginX_=0;w.imageOriginY_=0;w.imageRotateWithView_=!1;w.imageRotation_=0;w.imageScale_=[0,0];w.imageWidth_=0;w.text_="";w.textOffsetX_=0;w.textOffsetY_=0;w.textRotateWithView_=!1;w.textRotation_=0;w.textScale_=[0,0];w.textFillState_=null;w.textStrokeState_=null;w.textState_=null;w.pixelCoordinates_=[];w.tmpLocalTransform_=(0,A.create)();return w}d(c,b);c.prototype.drawImages_=function(a,e,t,y){if(this.image_){a=(0,f.transform2D)(a,
e,t,y,this.transform_,this.pixelCoordinates_);e=this.context_;t=this.tmpLocalTransform_;y=e.globalAlpha;1!=this.imageOpacity_&&(e.globalAlpha=y*this.imageOpacity_);var q=this.imageRotation_;this.imageRotateWithView_&&(q+=this.viewRotation_);for(var E=0,F=a.length;E<F;E+=2){var w=a[E]-this.imageAnchorX_,D=a[E+1]-this.imageAnchorY_;0!==q||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(w+=this.imageAnchorX_,D+=this.imageAnchorY_,(0,A.compose)(t,w,D,1,1,q,-w,-D),e.setTransform.apply(e,t),e.translate(w,
D),e.scale(this.imageScale_[0],this.imageScale_[1]),e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),e.setTransform(1,0,0,1,0,0)):e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,w,D,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(e.globalAlpha=y)}};c.prototype.drawText_=function(a,e,t,y){if(this.textState_&&""!==this.text_){this.textFillState_&&
this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);this.setContextTextState_(this.textState_);a=(0,f.transform2D)(a,e,t,y,this.transform_,this.pixelCoordinates_);var q=this.context_,E=this.textRotation_;for(this.textRotateWithView_&&(E+=this.viewRotation_);e<t;e+=y){var F=a[e]+this.textOffsetX_,w=a[e+1]+this.textOffsetY_;if(0!==E||1!=this.textScale_[0]||1!=this.textScale_[1]){var D=(0,A.compose)(this.tmpLocalTransform_,F,w,1,1,
E,-F,-w);q.setTransform.apply(q,D);q.translate(F,w);q.scale(this.textScale_[0],this.textScale_[1]);this.textStrokeState_&&q.strokeText(this.text_,0,0);this.textFillState_&&q.fillText(this.text_,0,0);q.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&q.strokeText(this.text_,F,w),this.textFillState_&&q.fillText(this.text_,F,w)}}};c.prototype.moveToLineTo_=function(a,e,t,y,q){var E=this.context_;a=(0,f.transform2D)(a,e,t,y,this.transform_,this.pixelCoordinates_);E.moveTo(a[0],a[1]);e=a.length;q&&
(e-=2);for(y=2;y<e;y+=2)E.lineTo(a[y],a[y+1]);q&&E.closePath();return t};c.prototype.drawRings_=function(a,e,t,y){for(var q=0,E=t.length;q<E;++q)e=this.moveToLineTo_(a,e,t[q],y,!0);return e};c.prototype.drawCircle=function(a){if((0,l.intersects)(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,g.transformGeom2D)(a,this.transform_,this.pixelCoordinates_),
t=e[2]-e[0],y=e[3]-e[1];t=Math.sqrt(t*t+y*y);y=this.context_;y.beginPath();y.arc(e[0],e[1],t,0,2*Math.PI);this.fillState_&&y.fill();this.strokeState_&&y.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};c.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};c.prototype.setTransform=function(a){this.transform_=a};c.prototype.drawGeometry=function(a){switch(a.getType()){case k.default.POINT:this.drawPoint(a);
break;case k.default.LINE_STRING:this.drawLineString(a);break;case k.default.POLYGON:this.drawPolygon(a);break;case k.default.MULTI_POINT:this.drawMultiPoint(a);break;case k.default.MULTI_LINE_STRING:this.drawMultiLineString(a);break;case k.default.MULTI_POLYGON:this.drawMultiPolygon(a);break;case k.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(a);break;case k.default.CIRCLE:this.drawCircle(a)}};c.prototype.drawFeature=function(a,e){(a=e.getGeometryFunction()(a))&&(0,l.intersects)(this.extent_,
a.getExtent())&&(this.setStyle(e),this.drawGeometry(a))};c.prototype.drawGeometryCollection=function(a){a=a.getGeometriesArray();for(var e=0,t=a.length;e<t;++e)this.drawGeometry(a[e])};c.prototype.drawPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};c.prototype.drawMultiPoint=function(a){this.squaredTolerance_&&
(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(e,0,e.length,a);""!==this.text_&&this.drawText_(e,0,e.length,a)};c.prototype.drawLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,l.intersects)(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,t=a.getFlatCoordinates();
e.beginPath();this.moveToLineTo_(t,0,t.length,a.getStride(),!1);e.stroke()}""!==this.text_&&(a=a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};c.prototype.drawMultiLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=a.getExtent();if((0,l.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);e=this.context_;var t=a.getFlatCoordinates(),y=0,q=a.getEnds(),E=a.getStride();e.beginPath();for(var F=
0,w=q.length;F<w;++F)y=this.moveToLineTo_(t,y,q[F],E,!1);e.stroke()}""!==this.text_&&(a=a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};c.prototype.drawPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,l.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;
e.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),0,a.getEnds(),a.getStride());this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,0,2,2))}};c.prototype.drawMultiPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,l.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);
this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,t=a.getOrientedFlatCoordinates(),y=0,q=a.getEndss(),E=a.getStride();e.beginPath();for(var F=0,w=q.length;F<w;++F)y=this.drawRings_(t,y,q[F],E);this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};c.prototype.setContextFillState_=function(a){var e=this.context_,t=this.contextFillState_;t?t.fillStyle!=a.fillStyle&&(t.fillStyle=a.fillStyle,
e.fillStyle=a.fillStyle):(e.fillStyle=a.fillStyle,this.contextFillState_={fillStyle:a.fillStyle})};c.prototype.setContextStrokeState_=function(a){var e=this.context_,t=this.contextStrokeState_;t?(t.lineCap!=a.lineCap&&(t.lineCap=a.lineCap,e.lineCap=a.lineCap),e.setLineDash&&((0,m.equals)(t.lineDash,a.lineDash)||e.setLineDash(t.lineDash=a.lineDash),t.lineDashOffset!=a.lineDashOffset&&(t.lineDashOffset=a.lineDashOffset,e.lineDashOffset=a.lineDashOffset)),t.lineJoin!=a.lineJoin&&(t.lineJoin=a.lineJoin,
e.lineJoin=a.lineJoin),t.lineWidth!=a.lineWidth&&(t.lineWidth=a.lineWidth,e.lineWidth=a.lineWidth),t.miterLimit!=a.miterLimit&&(t.miterLimit=a.miterLimit,e.miterLimit=a.miterLimit),t.strokeStyle!=a.strokeStyle&&(t.strokeStyle=a.strokeStyle,e.strokeStyle=a.strokeStyle)):(e.lineCap=a.lineCap,e.setLineDash&&(e.setLineDash(a.lineDash),e.lineDashOffset=a.lineDashOffset),e.lineJoin=a.lineJoin,e.lineWidth=a.lineWidth,e.miterLimit=a.miterLimit,e.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,
lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};c.prototype.setContextTextState_=function(a){var e=this.context_,t=this.contextTextState_,y=a.textAlign?a.textAlign:u.defaultTextAlign;t?(t.font!=a.font&&(t.font=a.font,e.font=a.font),t.textAlign!=y&&(t.textAlign=y,e.textAlign=y),t.textBaseline!=a.textBaseline&&(t.textBaseline=a.textBaseline,e.textBaseline=a.textBaseline)):(e.font=a.font,e.textAlign=y,
e.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:y,textBaseline:a.textBaseline})};c.prototype.setFillStrokeStyle=function(a,e){var t=this;a?(a=a.getColor(),this.fillState_={fillStyle:(0,p.asColorLike)(a?a:u.defaultFillStyle)}):this.fillState_=null;if(e){a=e.getColor();var y=e.getLineCap(),q=e.getLineDash(),E=e.getLineDashOffset(),F=e.getLineJoin(),w=e.getWidth();e=e.getMiterLimit();q=q?q:u.defaultLineDash;this.strokeState_={lineCap:void 0!==y?y:u.defaultLineCap,lineDash:1===
this.pixelRatio_?q:q.map(function(D){return D*t.pixelRatio_}),lineDashOffset:(E?E:u.defaultLineDashOffset)*this.pixelRatio_,lineJoin:void 0!==F?F:u.defaultLineJoin,lineWidth:(void 0!==w?w:u.defaultLineWidth)*this.pixelRatio_,miterLimit:void 0!==e?e:u.defaultMiterLimit,strokeStyle:(0,p.asColorLike)(a?a:u.defaultStrokeStyle)}}else this.strokeState_=null};c.prototype.setImageStyle=function(a){var e;if(a&&(e=a.getSize())){var t=a.getAnchor(),y=a.getOrigin();this.image_=a.getImage(this.pixelRatio_);this.imageAnchorX_=
t[0]*this.pixelRatio_;this.imageAnchorY_=t[1]*this.pixelRatio_;this.imageHeight_=e[1]*this.pixelRatio_;this.imageOpacity_=a.getOpacity();this.imageOriginX_=y[0];this.imageOriginY_=y[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();this.imageScale_=a.getScaleArray();this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null};c.prototype.setTextStyle=function(a){if(a){var e=a.getFill();e?(e=e.getColor(),this.textFillState_={fillStyle:(0,p.asColorLike)(e?e:u.defaultFillStyle)}):
this.textFillState_=null;var t=a.getStroke();if(t){e=t.getColor();var y=t.getLineCap(),q=t.getLineDash(),E=t.getLineDashOffset(),F=t.getLineJoin(),w=t.getWidth();t=t.getMiterLimit();this.textStrokeState_={lineCap:void 0!==y?y:u.defaultLineCap,lineDash:q?q:u.defaultLineDash,lineDashOffset:E?E:u.defaultLineDashOffset,lineJoin:void 0!==F?F:u.defaultLineJoin,lineWidth:void 0!==w?w:u.defaultLineWidth,miterLimit:void 0!==t?t:u.defaultMiterLimit,strokeStyle:(0,p.asColorLike)(e?e:u.defaultStrokeStyle)}}else this.textStrokeState_=
null;e=a.getFont();y=a.getOffsetX();q=a.getOffsetY();E=a.getRotateWithView();F=a.getRotation();w=a.getScaleArray();t=a.getText();var D=a.getTextAlign();a=a.getTextBaseline();this.textState_={font:void 0!==e?e:u.defaultFont,textAlign:void 0!==D?D:u.defaultTextAlign,textBaseline:void 0!==a?a:u.defaultTextBaseline};this.text_=void 0!==t?Array.isArray(t)?t.reduce(function(G,L,O){return G+(O%2?" ":L)},""):t:"";this.textOffsetX_=void 0!==y?this.pixelRatio_*y:0;this.textOffsetY_=void 0!==q?this.pixelRatio_*
q:0;this.textRotateWithView_=void 0!==E?E:!1;this.textRotation_=void 0!==F?F:0;this.textScale_=[this.pixelRatio_*w[0],this.pixelRatio_*w[1]]}else this.text_=""};return c}(ra.default);B.default=z};
shadow$provide[219]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={FRACTION:"fraction",PIXELS:"pixels"}};
shadow$provide[220]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[221]=function(ra,z,cb,B){function v(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(82));var k=v(z(83)),p=z(68),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+
String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();z=function(u){function m(l,f,g,d){var b=u.call(this)||this;b.extent=l;b.pixelRatio_=g;b.resolution=f;b.state=d;return b}A(m,u);m.prototype.changed=function(){this.dispatchEvent(k.default.CHANGE)};m.prototype.getExtent=function(){return this.extent};m.prototype.getImage=function(){return(0,p.abstract)()};m.prototype.getPixelRatio=function(){return this.pixelRatio_};m.prototype.getResolution=
function(){return this.resolution};m.prototype.getState=function(){return this.state};m.prototype.load=function(){(0,p.abstract)()};return m}(ra.default);B.default=z};
shadow$provide[222]=function(ra,z,cb,B){function v(g){return g&&g.__esModule?g:{default:g}}function k(g,d,b){var c=!0,a=!1,e=!1,t=[(0,l.listenOnce)(g,p.default.LOAD,function(){e=!0;a||d()})];g.src&&u.IMAGE_DECODE?(a=!0,g.decode().then(function(){c&&d()}).catch(function(y){c&&(e?d():b())})):t.push((0,l.listenOnce)(g,p.default.ERROR,b));return function(){c=!1;t.forEach(l.unlistenByKey)}}Object.defineProperty(B,"__esModule",{value:!0});B.listenImage=k;B.default=void 0;var p=v(z(83));ra=v(z(221));var A=
v(z(193)),u=z(69),m=z(75),l=z(84),f=function(){var g=function(d,b){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e])};return g(d,b)};return function(d,b){function c(){this.constructor=d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(d,b);d.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}();
z=function(g){function d(b,c,a,e,t,y){b=g.call(this,b,c,a,A.default.IDLE)||this;b.src_=e;b.image_=new Image;null!==t&&(b.image_.crossOrigin=t);b.unlisten_=null;b.state=A.default.IDLE;b.imageLoadFunction_=y;return b}f(d,g);d.prototype.getImage=function(){return this.image_};d.prototype.handleImageError_=function(){this.state=A.default.ERROR;this.unlistenImage_();this.changed()};d.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,m.getHeight)(this.extent)/this.image_.height);
this.state=A.default.LOADED;this.unlistenImage_();this.changed()};d.prototype.load=function(){if(this.state==A.default.IDLE||this.state==A.default.ERROR)this.state=A.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=k(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))};d.prototype.setImage=function(b){this.image_=b;this.resolution=(0,m.getHeight)(this.extent)/this.image_.height};d.prototype.unlistenImage_=function(){this.unlisten_&&
(this.unlisten_(),this.unlisten_=null)};return d}(ra.default);B.default=z};
shadow$provide[223]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.get=function(b,c,a,e,t,y){var q=m.shared.get(c,e,y);q||(q=new d(b,c,a,e,t,y),m.shared.set(c,e,y,q));return q};B.default=void 0;ra=v(z(82));var k=v(z(83)),p=v(z(193)),A=z(77),u=z(97),m=z(78),l=z(222),f=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,
y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}(),g=null,d=function(b){function c(a,e,t,y,q,E){var F=b.call(this)||this;F.hitDetectionImage_=null;F.image_=a?a:new Image;null!==y&&(F.image_.crossOrigin=y);F.canvas_={};F.color_=E;F.unlisten_=null;F.imageState_=q;F.size_=
t;F.src_=e;return F}f(c,b);c.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===p.default.LOADED){g||(g=(0,u.createCanvasContext2D)(1,1));g.drawImage(this.image_,0,0);try{g.getImageData(0,0,1,1),this.tainted_=!1}catch(a){g=null,this.tainted_=!0}}return!0===this.tainted_};c.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(k.default.CHANGE)};c.prototype.handleImageError_=function(){this.imageState_=p.default.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};
c.prototype.handleImageLoad_=function(){this.imageState_=p.default.LOADED;this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()};c.prototype.getImage=function(a){this.replaceColor_(a);return this.canvas_[a]?this.canvas_[a]:this.image_};c.prototype.getPixelRatio=function(a){this.replaceColor_(a);return this.canvas_[a]?a:1};c.prototype.getImageState=function(){return this.imageState_};
c.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var a=this.size_[0],e=this.size_[1],t=(0,u.createCanvasContext2D)(a,e);t.fillRect(0,0,a,e);this.hitDetectionImage_=t.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};c.prototype.getSize=function(){return this.size_};c.prototype.getSrc=function(){return this.src_};c.prototype.load=function(){if(this.imageState_==p.default.IDLE){this.imageState_=p.default.LOADING;try{this.image_.src=
this.src_}catch(a){this.handleImageError_()}this.unlisten_=(0,l.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}};c.prototype.replaceColor_=function(a){if(this.color_&&!this.canvas_[a]&&this.imageState_===p.default.LOADED){var e=document.createElement("canvas");this.canvas_[a]=e;e.width=Math.ceil(this.image_.width*a);e.height=Math.ceil(this.image_.height*a);var t=e.getContext("2d");t.scale(a,a);t.drawImage(this.image_,0,0);t.globalCompositeOperation="multiply";
if("multiply"===t.globalCompositeOperation||this.isTainted_())t.fillStyle=(0,A.asString)(this.color_),t.fillRect(0,0,e.width/a,e.height/a),t.globalCompositeOperation="destination-in",t.drawImage(this.image_,0,0);else{a=t.getImageData(0,0,e.width,e.height);e=a.data;for(var y=this.color_[0]/255,q=this.color_[1]/255,E=this.color_[2]/255,F=this.color_[3],w=0,D=e.length;w<D;w+=4)e[w]*=y,e[w+1]*=q,e[w+2]*=E,e[w+3]*=F;t.putImageData(a,0,0)}}};c.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),
this.unlisten_=null)};return c}(ra.default);B.default=d};
shadow$provide[224]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(83)),p=v(z(219)),A=v(z(220)),u=v(z(193));ra=v(z(194));var m=z(77),l=z(71),f=z(223),g=z(68),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=
c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a){var e=a||{};a=b.call(this,{opacity:void 0!==e.opacity?e.opacity:1,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:void 0!==e.rotateWithView?e.rotateWithView:!1})||this;a.anchor_=
void 0!==e.anchor?e.anchor:[.5,.5];a.normalizedAnchor_=null;a.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:A.default.TOP_LEFT;a.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:p.default.FRACTION;a.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:p.default.FRACTION;a.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var t=void 0!==e.img?e.img:null;a.imgSize_=e.imgSize;var y=e.src;(0,l.assert)(!(void 0!==y&&t),4);(0,l.assert)(!t||t&&a.imgSize_,5);void 0!==y&&0!==y.length||!t||
(y=t.src||(0,g.getUid)(t));(0,l.assert)(void 0!==y&&0<y.length,6);var q=void 0!==e.src?u.default.IDLE:u.default.LOADED;a.color_=void 0!==e.color?(0,m.asArray)(e.color):null;a.iconImage_=(0,f.get)(t,y,void 0!==a.imgSize_?a.imgSize_:null,a.crossOrigin_,q,a.color_);a.offset_=void 0!==e.offset?e.offset:[0,0];a.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:A.default.TOP_LEFT;a.origin_=null;a.size_=void 0!==e.size?e.size:null;return a}d(c,b);c.prototype.clone=function(){var a=this.getScale();return new c({anchor:this.anchor_.slice(),
anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(a)?a.slice():a,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc()})};c.prototype.getAnchor=
function(){var a=this.normalizedAnchor_;if(!a){a=this.anchor_;var e=this.getSize();if(this.anchorXUnits_==p.default.FRACTION||this.anchorYUnits_==p.default.FRACTION){if(!e)return null;a=this.anchor_.slice();this.anchorXUnits_==p.default.FRACTION&&(a[0]*=e[0]);this.anchorYUnits_==p.default.FRACTION&&(a[1]*=e[1])}if(this.anchorOrigin_!=A.default.TOP_LEFT){if(!e)return null;a===this.anchor_&&(a=this.anchor_.slice());if(this.anchorOrigin_==A.default.TOP_RIGHT||this.anchorOrigin_==A.default.BOTTOM_RIGHT)a[0]=
-a[0]+e[0];if(this.anchorOrigin_==A.default.BOTTOM_LEFT||this.anchorOrigin_==A.default.BOTTOM_RIGHT)a[1]=-a[1]+e[1]}this.normalizedAnchor_=a}e=this.getDisplacement();return[a[0]-e[0],a[1]+e[1]]};c.prototype.setAnchor=function(a){this.anchor_=a;this.normalizedAnchor_=null};c.prototype.getColor=function(){return this.color_};c.prototype.getImage=function(a){return this.iconImage_.getImage(a)};c.prototype.getPixelRatio=function(a){return this.iconImage_.getPixelRatio(a)};c.prototype.getImageSize=function(){return this.iconImage_.getSize()};
c.prototype.getImageState=function(){return this.iconImage_.getImageState()};c.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()};c.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var a=this.offset_;if(this.offsetOrigin_!=A.default.TOP_LEFT){var e=this.getSize(),t=this.iconImage_.getSize();if(!e||!t)return null;a=a.slice();if(this.offsetOrigin_==A.default.TOP_RIGHT||this.offsetOrigin_==A.default.BOTTOM_RIGHT)a[0]=t[0]-e[0]-a[0];if(this.offsetOrigin_==
A.default.BOTTOM_LEFT||this.offsetOrigin_==A.default.BOTTOM_RIGHT)a[1]=t[1]-e[1]-a[1]}return this.origin_=a};c.prototype.getSrc=function(){return this.iconImage_.getSrc()};c.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};c.prototype.listenImageChange=function(a){this.iconImage_.addEventListener(k.default.CHANGE,a)};c.prototype.load=function(){this.iconImage_.load()};c.prototype.unlistenImageChange=function(a){this.iconImage_.removeEventListener(k.default.CHANGE,
a)};return c}(ra.default);B.default=z};
shadow$provide[225]=function(ra,z,cb,B){function v(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(198)),p=v(z(208)),A=z(148);ra=function(){function u(m){m=m||{};this.font_=m.font;this.rotation_=m.rotation;this.rotateWithView_=m.rotateWithView;this.scale_=m.scale;this.scaleArray_=(0,A.toSize)(void 0!==m.scale?m.scale:1);this.text_=m.text;this.textAlign_=m.textAlign;this.textBaseline_=m.textBaseline;this.fill_=void 0!==m.fill?m.fill:
new k.default({color:"#333"});this.maxAngle_=void 0!==m.maxAngle?m.maxAngle:Math.PI/4;this.placement_=void 0!==m.placement?m.placement:p.default.POINT;this.overflow_=!!m.overflow;this.stroke_=void 0!==m.stroke?m.stroke:null;this.offsetX_=void 0!==m.offsetX?m.offsetX:0;this.offsetY_=void 0!==m.offsetY?m.offsetY:0;this.backgroundFill_=m.backgroundFill?m.backgroundFill:null;this.backgroundStroke_=m.backgroundStroke?m.backgroundStroke:null;this.padding_=void 0===m.padding?null:m.padding}u.prototype.clone=
function(){var m=this.getScale();return new u({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(m)?m.slice():m,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?
this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})};u.prototype.getOverflow=function(){return this.overflow_};u.prototype.getFont=function(){return this.font_};u.prototype.getMaxAngle=function(){return this.maxAngle_};u.prototype.getPlacement=function(){return this.placement_};u.prototype.getOffsetX=function(){return this.offsetX_};u.prototype.getOffsetY=function(){return this.offsetY_};
u.prototype.getFill=function(){return this.fill_};u.prototype.getRotateWithView=function(){return this.rotateWithView_};u.prototype.getRotation=function(){return this.rotation_};u.prototype.getScale=function(){return this.scale_};u.prototype.getScaleArray=function(){return this.scaleArray_};u.prototype.getStroke=function(){return this.stroke_};u.prototype.getText=function(){return this.text_};u.prototype.getTextAlign=function(){return this.textAlign_};u.prototype.getTextBaseline=function(){return this.textBaseline_};
u.prototype.getBackgroundFill=function(){return this.backgroundFill_};u.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};u.prototype.getPadding=function(){return this.padding_};u.prototype.setOverflow=function(m){this.overflow_=m};u.prototype.setFont=function(m){this.font_=m};u.prototype.setMaxAngle=function(m){this.maxAngle_=m};u.prototype.setOffsetX=function(m){this.offsetX_=m};u.prototype.setOffsetY=function(m){this.offsetY_=m};u.prototype.setPlacement=function(m){this.placement_=
m};u.prototype.setRotateWithView=function(m){this.rotateWithView_=m};u.prototype.setFill=function(m){this.fill_=m};u.prototype.setRotation=function(m){this.rotation_=m};u.prototype.setScale=function(m){this.scale_=m;this.scaleArray_=(0,A.toSize)(void 0!==m?m:1)};u.prototype.setStroke=function(m){this.stroke_=m};u.prototype.setText=function(m){this.text_=m};u.prototype.setTextAlign=function(m){this.textAlign_=m};u.prototype.setTextBaseline=function(m){this.textBaseline_=m};u.prototype.setBackgroundFill=
function(m){this.backgroundFill_=m};u.prototype.setBackgroundStroke=function(m){this.backgroundStroke_=m};u.prototype.setPadding=function(m){this.padding_=m};return u}();B.default=ra};
shadow$provide[226]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});Object.defineProperty(B,"Circle",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(B,"Fill",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(B,"Icon",{enumerable:!0,get:function(){return A.default}});Object.defineProperty(B,"IconImage",{enumerable:!0,get:function(){return u.default}});Object.defineProperty(B,"Image",
{enumerable:!0,get:function(){return m.default}});Object.defineProperty(B,"RegularShape",{enumerable:!0,get:function(){return l.default}});Object.defineProperty(B,"Stroke",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(B,"Style",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(B,"Text",{enumerable:!0,get:function(){return d.default}});var k=v(z(197)),p=v(z(198)),A=v(z(224)),u=v(z(223)),m=v(z(194)),l=v(z(196)),f=v(z(199)),g=v(z(200)),d=v(z(225))};
shadow$provide[227]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.createHitDetectionImageData=function(b,c,a,e,t,y,q){b=(0,l.createCanvasContext2D)(b[0]*d,b[1]*d);b.imageSmoothingEnabled=!1;var E=b.canvas;q=new k.default(b,d,t,null,q);for(var F=a.length,w=Math.floor(16777215/F),D={},G=1;G<=F;++G){var L=a[G-1],O=L.getStyleFunction()||e;if(e){var V=O(L,y);if(V){Array.isArray(V)||(V=[V]);var S="#"+("000000"+(G*w).toString(16)).slice(-6);
O=0;for(var ca=V.length;O<ca;++O){var ea=V[O],T=ea.getGeometryFunction()(L);if(T&&(0,f.intersects)(t,T.getExtent())){var R=ea.clone(),J=R.getFill();J&&J.setColor(S);if(J=R.getStroke())J.setColor(S),J.setLineDash(null);R.setText(void 0);if((ea=ea.getImage())&&0!==ea.getOpacity()){J=ea.getImageSize();if(!J)continue;var r=(0,l.createCanvasContext2D)(J[0],J[1],void 0,{alpha:!1}),C=r.canvas;r.fillStyle=S;r.fillRect(0,0,C.width,C.height);R.setImage(new u.Icon({img:C,imgSize:J,anchor:ea.getAnchor(),anchorXUnits:A.default.PIXELS,
anchorYUnits:A.default.PIXELS,offset:ea.getOrigin(),opacity:1,size:ea.getSize(),scale:ea.getScale(),rotation:ea.getRotation(),rotateWithView:ea.getRotateWithView()}))}J=R.getZIndex()||0;ea=D[J];ea||(ea={},D[J]=ea,ea[p.default.POLYGON]=[],ea[p.default.CIRCLE]=[],ea[p.default.LINE_STRING]=[],ea[p.default.POINT]=[]);ea[T.getType().replace("Multi","")].push(T,R)}}}}}a=Object.keys(D).map(Number).sort(g.numberSafeCompareFunction);G=0;for(e=a.length;G<e;++G){ea=D[a[G]];for(var N in ea)for(t=ea[N],O=0,ca=
t.length;O<ca;O+=2)for(q.setStyle(t[O+1]),y=0,F=c.length;y<F;++y)q.setTransform(c[y]),q.drawGeometry(t[O])}return b.getImageData(0,0,E.width,E.height)};B.hitDetect=function(b,c,a){var e=[];if(a){var t=Math.floor(Math.round(b[1])*d);b=4*((0,m.clamp)(Math.floor(Math.round(b[0])*d),0,a.width-1)+(0,m.clamp)(t,0,a.height-1)*a.width);a=a.data[b+2]+256*(a.data[b+1]+256*a.data[b]);b=Math.floor(16777215/c.length);a&&0===a%b&&e.push(c[a/b-1])}return e};B.HIT_DETECT_RESOLUTION=void 0;var k=v(z(218)),p=v(z(113)),
A=v(z(219)),u=z(226),m=z(76),l=z(97),f=z(75),g=z(66),d=.5;B.HIT_DETECT_RESOLUTION=d};
shadow$provide[228]=function(ra,z,cb,B){function v(g){return g&&g.__esModule?g:{default:g}}function k(g,d,b,c){if(d.getType()==A.default.GEOMETRY_COLLECTION){d=d.getGeometries();for(var a=0,e=d.length;a<e;++a)k(g,d[a],b,c)}else g.getBuilder(b.getZIndex(),p.default.DEFAULT).drawCustom(d,c,b.getRenderer(),b.getHitDetectionRenderer())}Object.defineProperty(B,"__esModule",{value:!0});B.defaultOrder=function(g,d){return parseInt((0,m.getUid)(g),10)-parseInt((0,m.getUid)(d),10)};B.getSquaredTolerance=function(g,
d){g=l*g/d;return g*g};B.getTolerance=function(g,d){return l*g/d};B.renderFeature=function(g,d,b,c,a,e,t){var y=!1,q=b.getImage();if(q){var E=q.getImageState();E==u.default.LOADED||E==u.default.ERROR?q.unlistenImageChange(a):(E==u.default.IDLE&&q.load(),q.getImageState(),q.listenImageChange(a),y=!0)}if(a=b.getGeometryFunction()(d))if(c=a.simplifyTransformed(c,e),b.getRenderer())k(g,c,b,d);else(0,f[c.getType()])(g,c,b,d,t);return y};var p=v(z(214)),A=v(z(113)),u=v(z(193)),m=z(68),l=.5,f={Point:function(g,
d,b,c,a){var e=b.getImage(),t=b.getText();if(a){g=a;var y=e&&t&&t.getText()?{}:void 0}if(e){if(e.getImageState()!=u.default.LOADED)return;a=g.getBuilder(b.getZIndex(),p.default.IMAGE);a.setImageStyle(e,y);a.drawPoint(d,c)}t&&t.getText()&&(g=g.getBuilder(b.getZIndex(),p.default.TEXT),g.setTextStyle(t,y),g.drawText(d,c))},LineString:function(g,d,b,c,a){var e=b.getStroke();if(e){var t=g.getBuilder(b.getZIndex(),p.default.LINE_STRING);t.setFillStrokeStyle(null,e);t.drawLineString(d,c)}(e=b.getText())&&
e.getText()&&(g=(a||g).getBuilder(b.getZIndex(),p.default.TEXT),g.setTextStyle(e),g.drawText(d,c))},Polygon:function(g,d,b,c,a){var e=b.getFill(),t=b.getStroke();if(e||t){var y=g.getBuilder(b.getZIndex(),p.default.POLYGON);y.setFillStrokeStyle(e,t);y.drawPolygon(d,c)}(e=b.getText())&&e.getText()&&(g=(a||g).getBuilder(b.getZIndex(),p.default.TEXT),g.setTextStyle(e),g.drawText(d,c))},MultiPoint:function(g,d,b,c,a){var e=b.getImage(),t=b.getText();if(a){g=a;var y=e&&t&&t.getText()?{}:void 0}if(e){if(e.getImageState()!=
u.default.LOADED)return;var q=g.getBuilder(b.getZIndex(),p.default.IMAGE);q.setImageStyle(e,y);q.drawMultiPoint(d,c)}t&&t.getText()&&(g=(a||g).getBuilder(b.getZIndex(),p.default.TEXT),g.setTextStyle(t,y),g.drawText(d,c))},MultiLineString:function(g,d,b,c,a){var e=b.getStroke();if(e){var t=g.getBuilder(b.getZIndex(),p.default.LINE_STRING);t.setFillStrokeStyle(null,e);t.drawMultiLineString(d,c)}(e=b.getText())&&e.getText()&&(g=(a||g).getBuilder(b.getZIndex(),p.default.TEXT),g.setTextStyle(e),g.drawText(d,
c))},MultiPolygon:function(g,d,b,c,a){var e=b.getFill(),t=b.getStroke();if(t||e){var y=g.getBuilder(b.getZIndex(),p.default.POLYGON);y.setFillStrokeStyle(e,t);y.drawMultiPolygon(d,c)}(e=b.getText())&&e.getText()&&(g=(a||g).getBuilder(b.getZIndex(),p.default.TEXT),g.setTextStyle(e),g.drawText(d,c))},GeometryCollection:function(g,d,b,c,a){d=d.getGeometriesArray();var e;var t=0;for(e=d.length;t<e;++t)(0,f[d[t].getType()])(g,d[t],b,c,a)},Circle:function(g,d,b,c,a){var e=b.getFill(),t=b.getStroke();if(e||
t){var y=g.getBuilder(b.getZIndex(),p.default.CIRCLE);y.setFillStrokeStyle(e,t);y.drawCircle(d,c)}(e=b.getText())&&e.getText()&&(g=(a||g).getBuilder(b.getZIndex(),p.default.TEXT),g.setTextStyle(e),g.drawText(d,c))}}};
shadow$provide[229]=function(ra,z,cb,B){function v(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(211));ra=v(z(213));var p=v(z(217)),A=v(z(115)),u=z(227),m=z(72),l=z(75),f=z(96),g=z(228),d=z(66),b=z(124),c=z(68),a=z(93),e=function(){var t=function(y,q){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,F){E.__proto__=F}||function(E,F){for(var w in F)Object.prototype.hasOwnProperty.call(F,w)&&(E[w]=F[w])};return t(y,
q)};return function(y,q){function E(){this.constructor=y}if("function"!==typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");t(y,q);y.prototype=null===q?Object.create(q):(E.prototype=q.prototype,new E)}}();z=function(t){function y(q){q=t.call(this,q)||this;q.boundHandleStyleImageChange_=q.handleStyleImageChange_.bind(q);q.dirty_=!1;q.hitDetectionImageData_=null;q.renderedFeatures_=null;q.renderedRevision_=-1;q.renderedResolution_=NaN;q.renderedExtent_=
(0,l.createEmpty)();q.wrappedRenderedExtent_=(0,l.createEmpty)();q.renderedCenter_=null;q.renderedProjection_=null;q.renderedRenderOrder_=null;q.replayGroup_=null;q.replayGroupChanged=!0;q.declutterExecutorGroup=null;q.clipping=!0;return q}e(y,t);y.prototype.renderWorlds=function(q,E,F){var w=E.extent,D=E.viewState,G=D.center,L=D.resolution,O=D.projection;D=D.rotation;var V=O.getExtent(),S=this.getLayer().getSource(),ca=E.pixelRatio,ea=E.viewHints;ea=!(ea[A.default.ANIMATING]||ea[A.default.INTERACTING]);
var T=this.context,R=Math.round(E.size[0]*ca);E=Math.round(E.size[1]*ca);var J=S.getWrapX()&&O.canWrapX();O=J?(0,l.getWidth)(V):null;S=J?Math.ceil((w[2]-V[2])/O)+1:1;w=J?Math.floor((w[0]-V[0])/O):0;do V=this.getRenderTransform(G,L,D,ca,R,E,w*O),q.execute(T,1,V,D,ea,void 0,F);while(++w<S)};y.prototype.renderDeclutter=function(q){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,q,q.declutterTree)};y.prototype.renderFrame=function(q,E){var F=q.pixelRatio,w=q.layerStatesArray[q.layerIndex];
(0,m.makeScale)(this.pixelTransform,1/F,1/F);(0,m.makeInverse)(this.inversePixelTransform,this.pixelTransform);var D=(0,m.toString)(this.pixelTransform);this.useContainer(E,D,w.opacity,this.getBackground(q));E=this.context;var G=E.canvas,L=this.replayGroup_,O=this.declutterExecutorGroup;if(!(L&&!L.isEmpty()||O&&!O.isEmpty()))return null;O=Math.round(q.size[0]*F);F=Math.round(q.size[1]*F);G.width!=O||G.height!=F?(G.width=O,G.height=F,G.style.transform!==D&&(G.style.transform=D)):this.containerReused||
E.clearRect(0,0,O,F);this.preRender(E,q);D=q.viewState;O=D.projection;F=!1;G=!0;w.extent&&this.clipping&&(O=(0,b.fromUserExtent)(w.extent,O),(F=(G=(0,l.intersects)(O,q.extent))&&!(0,l.containsExtent)(O,q.extent))&&this.clipUnrotated(E,q,O));G&&this.renderWorlds(L,q);F&&E.restore();this.postRender(E,q);q=(0,f.cssOpacity)(w.opacity);w=this.container;q!==w.style.opacity&&(w.style.opacity=q);this.renderedRotation_!==D.rotation&&(this.renderedRotation_=D.rotation,this.hitDetectionImageData_=null);return this.container};
y.prototype.getFeatures=function(q){return new Promise(function(E){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var F=[this.context.canvas.width,this.context.canvas.height];(0,m.apply)(this.pixelTransform,F);var w=this.renderedCenter_,D=this.renderedResolution_,G=this.renderedRotation_,L=this.renderedProjection_,O=this.wrappedRenderedExtent_,V=this.getLayer(),S=[],ca=F[0]*u.HIT_DETECT_RESOLUTION,ea=F[1]*u.HIT_DETECT_RESOLUTION;S.push(this.getRenderTransform(w,D,G,u.HIT_DETECT_RESOLUTION,
ca,ea,0).slice());var T=V.getSource(),R=L.getExtent();if(T.getWrapX()&&L.canWrapX()&&!(0,l.containsExtent)(R,O)){L=O[0];T=(0,l.getWidth)(R);for(var J=0,r;L<R[0];)--J,r=T*J,S.push(this.getRenderTransform(w,D,G,u.HIT_DETECT_RESOLUTION,ca,ea,r).slice()),L+=T;J=0;for(L=O[2];L>R[2];)++J,r=T*J,S.push(this.getRenderTransform(w,D,G,u.HIT_DETECT_RESOLUTION,ca,ea,r).slice()),L-=T}this.hitDetectionImageData_=(0,u.createHitDetectionImageData)(F,S,this.renderedFeatures_,V.getStyleFunction(),O,D,G)}E((0,u.hitDetect)(q,
this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))};y.prototype.forEachFeatureAtCoordinate=function(q,E,F,w,D){var G=this;if(this.replayGroup_){var L=E.viewState.resolution,O=E.viewState.rotation,V=this.getLayer(),S={},ca=function(R,J,r){var C=(0,c.getUid)(R),N=S[C];if(!N){if(0===r)return S[C]=!0,w(R,V,J);D.push(S[C]={feature:R,layer:V,geometry:J,distanceSq:r,callback:w})}else if(!0!==N&&r<N.distanceSq){if(0===r)return S[C]=!0,D.splice(D.lastIndexOf(N),1),w(R,V,J);N.geometry=J;N.distanceSq=
r}},ea,T=[this.replayGroup_];this.declutterExecutorGroup&&T.push(this.declutterExecutorGroup);T.some(function(R){return ea=R.forEachFeatureAtCoordinate(q,L,O,F,ca,R===G.declutterExecutorGroup&&E.declutterTree?E.declutterTree.all().map(function(J){return J.value}):null)});return ea}};y.prototype.handleFontsChanged=function(){var q=this.getLayer();q.getVisible()&&this.replayGroup_&&q.changed()};y.prototype.handleStyleImageChange_=function(q){this.renderIfReadyAndVisible()};y.prototype.prepareFrame=
function(q){var E=this.getLayer(),F=E.getSource();if(!F)return!1;var w=q.viewHints[A.default.ANIMATING],D=q.viewHints[A.default.INTERACTING],G=E.getUpdateWhileAnimating(),L=E.getUpdateWhileInteracting();if(!this.dirty_&&!G&&w||!L&&D)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var O=q.extent,V=q.viewState;w=V.projection;var S=V.resolution;D=q.pixelRatio;G=E.getRevision();var ca=E.getRenderBuffer();L=E.getRenderOrder();void 0===L&&(L=g.defaultOrder);V=V.center.slice();O=(0,l.buffer)(O,
ca*S);ca=O.slice();var ea=[O.slice()],T=w.getExtent();if(F.getWrapX()&&w.canWrapX()&&!(0,l.containsExtent)(T,q.extent)){q=(0,l.getWidth)(T);var R=Math.max((0,l.getWidth)(O)/2,q);O[0]=T[0]-R;O[2]=T[2]+R;(0,a.wrapX)(V,w);R=(0,l.wrapX)(ea[0],w);R[0]<T[0]&&R[2]<T[2]?ea.push([R[0]+q,R[1],R[2]+q,R[3]]):R[0]>T[0]&&R[2]>T[2]&&ea.push([R[0]-q,R[1],R[2]-q,R[3]])}if(!this.dirty_&&this.renderedResolution_==S&&this.renderedRevision_==G&&this.renderedRenderOrder_==L&&(0,l.containsExtent)(this.wrappedRenderedExtent_,
O))return(0,d.equals)(this.renderedExtent_,ca)||(this.hitDetectionImageData_=null,this.renderedExtent_=ca),this.renderedCenter_=V,this.replayGroupChanged=!1,!0;this.replayGroup_=null;this.dirty_=!1;var J=new k.default((0,g.getTolerance)(S,D),O,S,D),r;this.getLayer().getDeclutter()&&(r=new k.default((0,g.getTolerance)(S,D),O,S,D));R=(0,b.getUserProjection)();if(R){q=0;for(T=ea.length;q<T;++q){var C=(0,b.toUserExtent)(ea[q],w);F.loadFeatures(C,(0,b.toUserResolution)(S,w),R)}var N=(0,b.getTransformFromProjections)(R,
w)}else for(q=0,T=ea.length;q<T;++q)F.loadFeatures(ea[q],S,w);var U=(0,g.getSquaredTolerance)(S,D);ea=function(ja){var ba,ia=ja.getStyleFunction()||E.getStyleFunction();ia&&(ba=ia(ja,S));ba&&(ja=this.renderFeature(ja,U,ba,J,N,r),this.dirty_=this.dirty_||ja)}.bind(this);q=(0,b.toUserExtent)(O,w);R=F.getFeaturesInExtent(q);L&&R.sort(L);q=0;for(T=R.length;q<T;++q)ea(R[q]);this.renderedFeatures_=R;q=J.finish();q=new p.default(O,S,D,F.getOverlaps(),q,E.getRenderBuffer());r&&(this.declutterExecutorGroup=
new p.default(O,S,D,F.getOverlaps(),r.finish(),E.getRenderBuffer()));this.renderedResolution_=S;this.renderedRevision_=G;this.renderedRenderOrder_=L;this.renderedExtent_=ca;this.wrappedRenderedExtent_=O;this.renderedCenter_=V;this.renderedProjection_=w;this.replayGroup_=q;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0};y.prototype.renderFeature=function(q,E,F,w,D,G){if(!F)return!1;var L=!1;if(Array.isArray(F))for(var O=0,V=F.length;O<V;++O)L=(0,g.renderFeature)(w,q,F[O],E,this.boundHandleStyleImageChange_,
D,G)||L;else L=(0,g.renderFeature)(w,q,F,E,this.boundHandleStyleImageChange_,D,G);return L};return y}(ra.default);B.default=z};
shadow$provide[230]=function(ra,z,cb,B){function v(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(201));var k=v(z(229)),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m){return A.call(this,m)||this}p(u,A);u.prototype.createRenderer=function(){return new k.default(this)};return u}(ra.default);B.default=z};
shadow$provide[231]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var v=function(u){return u&&u.__esModule?u:{default:u}}(z(192)),k=z(75),p=z(68),A=z(81);ra=function(){function u(m){this.rbush_=new v.default(m);this.items_={}}u.prototype.insert=function(m,l){m={minX:m[0],minY:m[1],maxX:m[2],maxY:m[3],value:l};this.rbush_.insert(m);this.items_[(0,p.getUid)(l)]=m};u.prototype.load=function(m,l){for(var f=Array(l.length),g=0,d=l.length;g<d;g++){var b=m[g],c=l[g];
b={minX:b[0],minY:b[1],maxX:b[2],maxY:b[3],value:c};f[g]=b;this.items_[(0,p.getUid)(c)]=b}this.rbush_.load(f)};u.prototype.remove=function(m){m=(0,p.getUid)(m);var l=this.items_[m];delete this.items_[m];return null!==this.rbush_.remove(l)};u.prototype.update=function(m,l){var f=this.items_[(0,p.getUid)(l)];(0,k.equals)([f.minX,f.minY,f.maxX,f.maxY],m)||(this.remove(l),this.insert(m,l))};u.prototype.getAll=function(){return this.rbush_.all().map(function(m){return m.value})};u.prototype.getInExtent=
function(m){return this.rbush_.search({minX:m[0],minY:m[1],maxX:m[2],maxY:m[3]}).map(function(l){return l.value})};u.prototype.forEach=function(m){return this.forEach_(this.getAll(),m)};u.prototype.forEachInExtent=function(m,l){return this.forEach_(this.getInExtent(m),l)};u.prototype.forEach_=function(m,l){for(var f,g=0,d=m.length;g<d&&!(f=l(m[g]));g++);return f};u.prototype.isEmpty=function(){return(0,A.isEmpty)(this.items_)};u.prototype.clear=function(){this.rbush_.clear();this.items_={}};u.prototype.getExtent=
function(m){var l=this.rbush_.toJSON();return(0,k.createOrUpdate)(l.minX,l.minY,l.maxX,l.maxY,m)};u.prototype.concat=function(m){this.rbush_.load(m.rbush_.all());for(var l in m.items_)this.items_[l]=m.items_[l]};return u}();B.default=ra};
shadow$provide[232]=function(ra,z,cb,B){function v(l){return l&&l.__esModule?l:{default:l}}function k(l){return l?Array.isArray(l)?function(f){return l}:"function"===typeof l?l:function(f){return[l]}:null}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(86));var p=v(z(90)),A=z(68),u=z(124),m=function(){var l=function(f,g){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,
c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}if("function"!==typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();z=function(l){function f(g){var d=l.call(this)||this;d.projection=(0,u.get)(g.projection);d.attributions_=k(g.attributions);d.attributionsCollapsible_=void 0!==g.attributionsCollapsible?g.attributionsCollapsible:!0;
d.loading=!1;d.state_=void 0!==g.state?g.state:p.default.READY;d.wrapX_=void 0!==g.wrapX?g.wrapX:!1;d.interpolate_=!!g.interpolate;d.viewResolver=null;d.viewRejector=null;d.viewPromise_=new Promise(function(b,c){d.viewResolver=b;d.viewRejector=c});return d}m(f,l);f.prototype.getAttributions=function(){return this.attributions_};f.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_};f.prototype.getProjection=function(){return this.projection};f.prototype.getResolutions=
function(){return(0,A.abstract)()};f.prototype.getView=function(){return this.viewPromise_};f.prototype.getState=function(){return this.state_};f.prototype.getWrapX=function(){return this.wrapX_};f.prototype.getInterpolate=function(){return this.interpolate_};f.prototype.refresh=function(){this.changed()};f.prototype.setAttributions=function(g){this.attributions_=k(g);this.changed()};f.prototype.setState=function(g){this.state_=g;this.changed()};return f}(ra.default);B.default=z};
shadow$provide[233]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[234]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.all=function(k,p){return[[-Infinity,-Infinity,Infinity,Infinity]]};B.bbox=function(k,p){return[k]};B.tile=function(k){return function(p,A,u){A=k.getZForResolution((0,v.fromUserResolution)(A,u));p=k.getTileRangeForExtentAndZ((0,v.fromUserExtent)(p,u),A);var m=[];A=[A,0,0];for(A[1]=p.minX;A[1]<=p.maxX;++A[1])for(A[2]=p.minY;A[2]<=p.maxY;++A[2])m.push((0,v.toUserExtent)(k.getTileCoordExtent(A),u));return m}};var v=
z(124)};
shadow$provide[235]=function(ra,z,cb,B){function v(u,m,l,f,g,d,b){var c=new XMLHttpRequest;c.open("GET","function"===typeof u?u(l,f,g):u,!0);m.getType()==k.default.ARRAY_BUFFER&&(c.responseType="arraybuffer");c.withCredentials=A;c.onload=function(a){if(!c.status||200<=c.status&&300>c.status){a=m.getType();var e=void 0;a==k.default.JSON||a==k.default.TEXT?e=c.responseText:a==k.default.XML?(e=c.responseXML)||(e=(new DOMParser).parseFromString(c.responseText,"application/xml")):a==k.default.ARRAY_BUFFER&&
(e=c.response);e?d(m.readFeatures(e,{extent:l,featureProjection:g}),m.readProjection(e)):b()}else b()};c.onerror=b;c.send()}Object.defineProperty(B,"__esModule",{value:!0});B.loadFeaturesXhr=v;B.xhr=function(u,m){return function(l,f,g,d,b){var c=this;v(u,m,l,f,g,function(a,e){c.addFeatures(a);void 0!==d&&d(a)},b?b:p.VOID)}};B.setWithCredentials=function(u){A=u};var k=function(u){return u&&u.__esModule?u:{default:u}}(z(180)),p=z(67),A=!1};
shadow$provide[236]=function(ra,z,cb,B){function v(w){return w&&w.__esModule?w:{default:w}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.VectorSourceEvent=void 0;var k=v(z(101)),p=v(z(100));ra=v(z(79));var A=v(z(83)),u=v(z(80)),m=v(z(231));cb=v(z(232));var l=v(z(90)),f=v(z(233)),g=z(67),d=z(234),b=z(71),c=z(75),a=z(66),e=z(68),t=z(81),y=z(84),q=z(235),E=function(){var w=function(D,G){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,O){L.__proto__=O}||function(L,O){for(var V in O)Object.prototype.hasOwnProperty.call(O,
V)&&(L[V]=O[V])};return w(D,G)};return function(D,G){function L(){this.constructor=D}if("function"!==typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");w(D,G);D.prototype=null===G?Object.create(G):(L.prototype=G.prototype,new L)}}(),F=function(w){function D(G,L,O){G=w.call(this,G)||this;G.feature=L;G.features=O;return G}E(D,w);return D}(ra.default);B.VectorSourceEvent=F;z=function(w){function D(G){var L=G||{};G=w.call(this,{attributions:L.attributions,
interpolate:!0,projection:void 0,state:l.default.READY,wrapX:void 0!==L.wrapX?L.wrapX:!0})||this;G.loader_=g.VOID;G.format_=L.format;G.overlaps_=void 0===L.overlaps?!0:L.overlaps;G.url_=L.url;void 0!==L.loader?G.loader_=L.loader:void 0!==G.url_&&((0,b.assert)(G.format_,7),G.loader_=(0,q.xhr)(G.url_,G.format_));G.strategy_=void 0!==L.strategy?L.strategy:d.all;var O=void 0!==L.useSpatialIndex?L.useSpatialIndex:!0;G.featuresRtree_=O?new m.default:null;G.loadedExtentsRtree_=new m.default;G.loadingExtentsCount_=
0;G.nullGeometryFeatures_={};G.idIndex_={};G.uidIndex_={};G.featureChangeKeys_={};G.featuresCollection_=null;if(Array.isArray(L.features))var V=L.features;else if(L.features){var S=L.features;V=S.getArray()}O||void 0!==S||(S=new k.default(V));void 0!==V&&G.addFeaturesInternal(V);void 0!==S&&G.bindFeaturesCollection_(S);return G}E(D,w);D.prototype.addFeature=function(G){this.addFeatureInternal(G);this.changed()};D.prototype.addFeatureInternal=function(G){var L=(0,e.getUid)(G);if(this.addToIndex_(L,
G)){this.setupChangeEvents_(L,G);var O=G.getGeometry();O?(L=O.getExtent(),this.featuresRtree_&&this.featuresRtree_.insert(L,G)):this.nullGeometryFeatures_[L]=G;this.dispatchEvent(new F(f.default.ADDFEATURE,G))}else this.featuresCollection_&&this.featuresCollection_.remove(G)};D.prototype.setupChangeEvents_=function(G,L){this.featureChangeKeys_[G]=[(0,y.listen)(L,A.default.CHANGE,this.handleFeatureChange_,this),(0,y.listen)(L,u.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]};D.prototype.addToIndex_=
function(G,L){var O=!0,V=L.getId();void 0!==V&&(V.toString()in this.idIndex_?O=!1:this.idIndex_[V.toString()]=L);O&&((0,b.assert)(!(G in this.uidIndex_),30),this.uidIndex_[G]=L);return O};D.prototype.addFeatures=function(G){this.addFeaturesInternal(G);this.changed()};D.prototype.addFeaturesInternal=function(G){for(var L=[],O=[],V=[],S=0,ca=G.length;S<ca;S++){var ea=G[S],T=(0,e.getUid)(ea);this.addToIndex_(T,ea)&&O.push(ea)}S=0;for(G=O.length;S<G;S++)ea=O[S],T=(0,e.getUid)(ea),this.setupChangeEvents_(T,
ea),(ca=ea.getGeometry())?(T=ca.getExtent(),L.push(T),V.push(ea)):this.nullGeometryFeatures_[T]=ea;this.featuresRtree_&&this.featuresRtree_.load(L,V);if(this.hasListener(f.default.ADDFEATURE))for(S=0,L=O.length;S<L;S++)this.dispatchEvent(new F(f.default.ADDFEATURE,O[S]))};D.prototype.bindFeaturesCollection_=function(G){var L=!1;this.addEventListener(f.default.ADDFEATURE,function(O){L||(L=!0,G.push(O.feature),L=!1)});this.addEventListener(f.default.REMOVEFEATURE,function(O){L||(L=!0,G.remove(O.feature),
L=!1)});G.addEventListener(p.default.ADD,function(O){L||(L=!0,this.addFeature(O.element),L=!1)}.bind(this));G.addEventListener(p.default.REMOVE,function(O){L||(L=!0,this.removeFeature(O.element),L=!1)}.bind(this));this.featuresCollection_=G};D.prototype.clear=function(G){if(G){for(var L in this.featureChangeKeys_)this.featureChangeKeys_[L].forEach(y.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){G=function(V){this.removeFeatureInternal(V)}.bind(this);
this.featuresRtree_.forEach(G);for(var O in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[O])}this.featuresCollection_&&this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};O=new F(f.default.CLEAR);this.dispatchEvent(O);this.changed()};D.prototype.forEachFeature=function(G){if(this.featuresRtree_)return this.featuresRtree_.forEach(G);this.featuresCollection_&&this.featuresCollection_.forEach(G)};D.prototype.forEachFeatureAtCoordinateDirect=
function(G,L){return this.forEachFeatureInExtent([G[0],G[1],G[0],G[1]],function(O){if(O.getGeometry().intersectsCoordinate(G))return L(O)})};D.prototype.forEachFeatureInExtent=function(G,L){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(G,L);this.featuresCollection_&&this.featuresCollection_.forEach(L)};D.prototype.forEachFeatureIntersectingExtent=function(G,L){return this.forEachFeatureInExtent(G,function(O){if(O.getGeometry().intersectsExtent(G)&&(O=L(O)))return O})};D.prototype.getFeaturesCollection=
function(){return this.featuresCollection_};D.prototype.getFeatures=function(){if(this.featuresCollection_)var G=this.featuresCollection_.getArray().slice(0);else this.featuresRtree_&&(G=this.featuresRtree_.getAll(),(0,t.isEmpty)(this.nullGeometryFeatures_)||(0,a.extend)(G,(0,t.getValues)(this.nullGeometryFeatures_)));return G};D.prototype.getFeaturesAtCoordinate=function(G){var L=[];this.forEachFeatureAtCoordinateDirect(G,function(O){L.push(O)});return L};D.prototype.getFeaturesInExtent=function(G){return this.featuresRtree_?
this.featuresRtree_.getInExtent(G):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]};D.prototype.getClosestFeatureToCoordinate=function(G,L){var O=G[0],V=G[1],S=null,ca=[NaN,NaN],ea=Infinity,T=[-Infinity,-Infinity,Infinity,Infinity],R=L?L:g.TRUE;this.featuresRtree_.forEachInExtent(T,function(J){if(R(J)){var r=J.getGeometry(),C=ea;ea=r.closestPointXY(O,V,ca,ea);ea<C&&(S=J,J=Math.sqrt(ea),T[0]=O-J,T[1]=V-J,T[2]=O+J,T[3]=V+J)}});return S};D.prototype.getExtent=function(G){return this.featuresRtree_.getExtent(G)};
D.prototype.getFeatureById=function(G){G=this.idIndex_[G.toString()];return void 0!==G?G:null};D.prototype.getFeatureByUid=function(G){G=this.uidIndex_[G];return void 0!==G?G:null};D.prototype.getFormat=function(){return this.format_};D.prototype.getOverlaps=function(){return this.overlaps_};D.prototype.getUrl=function(){return this.url_};D.prototype.handleFeatureChange_=function(G){G=G.target;var L=(0,e.getUid)(G),O=G.getGeometry();O?(O=O.getExtent(),L in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[L],
this.featuresRtree_&&this.featuresRtree_.insert(O,G)):this.featuresRtree_&&this.featuresRtree_.update(O,G)):L in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(G),this.nullGeometryFeatures_[L]=G);O=G.getId();void 0!==O?(L=O.toString(),this.idIndex_[L]!==G&&(this.removeFromIdIndex_(G),this.idIndex_[L]=G)):(this.removeFromIdIndex_(G),this.uidIndex_[L]=G);this.changed();this.dispatchEvent(new F(f.default.CHANGEFEATURE,G))};D.prototype.hasFeature=function(G){var L=G.getId();
return void 0!==L?L in this.idIndex_:(0,e.getUid)(G)in this.uidIndex_};D.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,t.isEmpty)(this.nullGeometryFeatures_):this.featuresCollection_?0===this.featuresCollection_.getLength():!0};D.prototype.loadFeatures=function(G,L,O){var V=this.loadedExtentsRtree_,S=this.strategy_(G,L,O);G=function(R,J){var r=S[R];V.forEachInExtent(r,function(C){return(0,c.containsExtent)(C.extent,r)})||(++ca.loadingExtentsCount_,ca.dispatchEvent(new F(f.default.FEATURESLOADSTART)),
ca.loader_.call(ca,r,L,O,function(C){--this.loadingExtentsCount_;this.dispatchEvent(new F(f.default.FEATURESLOADEND,void 0,C))}.bind(ca),function(){--this.loadingExtentsCount_;this.dispatchEvent(new F(f.default.FEATURESLOADERROR))}.bind(ca)),V.insert(r,{extent:r.slice()}))};for(var ca=this,ea=0,T=S.length;ea<T;++ea)G(ea,T);this.loading=4>this.loader_.length?!1:0<this.loadingExtentsCount_};D.prototype.refresh=function(){this.clear(!0);this.loadedExtentsRtree_.clear();w.prototype.refresh.call(this)};
D.prototype.removeLoadedExtent=function(G){var L=this.loadedExtentsRtree_,O;L.forEachInExtent(G,function(V){if((0,c.equals)(V.extent,G))return O=V,!0});O&&L.remove(O)};D.prototype.removeFeature=function(G){if(G){var L=(0,e.getUid)(G);L in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[L]:this.featuresRtree_&&this.featuresRtree_.remove(G);this.removeFeatureInternal(G)&&this.changed()}};D.prototype.removeFeatureInternal=function(G){var L=(0,e.getUid)(G),O=this.featureChangeKeys_[L];if(O)return O.forEach(y.unlistenByKey),
delete this.featureChangeKeys_[L],O=G.getId(),void 0!==O&&delete this.idIndex_[O.toString()],delete this.uidIndex_[L],this.dispatchEvent(new F(f.default.REMOVEFEATURE,G)),G};D.prototype.removeFromIdIndex_=function(G){var L=!1,O;for(O in this.idIndex_)if(this.idIndex_[O]===G){delete this.idIndex_[O];L=!0;break}return L};D.prototype.setLoader=function(G){this.loader_=G};D.prototype.setUrl=function(G){(0,b.assert)(this.format_,7);this.url_=G;this.setLoader((0,q.xhr)(G,this.format_))};return D}(cb.default);
B.default=z};
shadow$provide[237]=function(ra,z,cb,B){function v(T){if("function"!==typeof WeakMap)return null;var R=new WeakMap,J=new WeakMap;return(v=function(r){return r?J:R})(T)}function k(T){return T&&T.__esModule?T:{default:T}}function p(){var T=(0,L.createEditingStyle)();return function(R,J){return T[R.getGeometry().getType()]}}function A(T){switch(T){case f.default.POINT:case f.default.MULTI_POINT:return ca.POINT;case f.default.LINE_STRING:case f.default.MULTI_LINE_STRING:return ca.LINE_STRING;case f.default.POLYGON:case f.default.MULTI_POLYGON:return ca.POLYGON;
case f.default.CIRCLE:return ca.CIRCLE;default:throw Error("Invalid type: "+T);}}Object.defineProperty(B,"__esModule",{value:!0});B.createRegularPolygon=function(T,R){return function(J,r,C){var N=(0,O.fromUserCoordinate)(J[0],C);J=(0,O.fromUserCoordinate)(J[J.length-1],C);var U=Math.sqrt((0,V.squaredDistance)(N,J));r=r?r:(0,q.fromCircle)(new u.default(N),T);var ja=R;R||0===R||(ja=Math.atan2(J[1]-N[1],J[0]-N[0]));(0,q.makeRegular)(r,N,U,ja);(N=(0,O.getUserProjection)())&&r.transform(C,N);return r}};
B.createBox=function(){return function(T,R,J){T=(0,G.boundingExtent)([T[0],T[T.length-1]].map(function(r){return(0,O.fromUserCoordinate)(r,J)}));T=[[(0,G.getBottomLeft)(T),(0,G.getBottomRight)(T),(0,G.getTopRight)(T),(0,G.getTopLeft)(T),(0,G.getBottomLeft)(T)]];R?R.setCoordinates(T):R=new q.default(T);(T=(0,O.getUserProjection)())&&R.transform(J,T);return R}};B.default=B.DrawEvent=void 0;var u=k(z(183));ra=k(z(79));var m=k(z(83)),l=k(z(184)),f=k(z(113)),g=k(z(163)),d=k(z(187)),b=k(z(104)),c=k(z(105)),
a=k(z(188)),e=k(z(189)),t=k(z(191)),y=k(z(139));cb=k(z(166));var q=function(T,R){if(!R&&T&&T.__esModule)return T;if(null===T||"object"!==typeof T&&"function"!==typeof T)return{default:T};if((R=v(R))&&R.has(T))return R.get(T);var J={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,C;for(C in T)if("default"!==C&&Object.prototype.hasOwnProperty.call(T,C)){var N=r?Object.getOwnPropertyDescriptor(T,C):null;N&&(N.get||N.set)?Object.defineProperty(J,C,N):J[C]=T[C]}J.default=T;R&&R.set(T,J);return J}(z(146)),
E=k(z(230)),F=k(z(236)),w=z(67),D=z(167),G=z(75),L=z(200),O=z(124),V=z(93),S=function(){var T=function(R,J){T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,C){r.__proto__=C}||function(r,C){for(var N in C)Object.prototype.hasOwnProperty.call(C,N)&&(r[N]=C[N])};return T(R,J)};return function(R,J){function r(){this.constructor=R}if("function"!==typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");T(R,J);R.prototype=null===J?Object.create(J):
(r.prototype=J.prototype,new r)}}(),ca={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},ea=function(T){function R(J,r){J=T.call(this,J)||this;J.feature=r;return J}S(R,T);return R}(ra.default);B.DrawEvent=ea;z=function(T){function R(J){var r=this;J.stopDown||(J.stopDown=w.FALSE);r=T.call(this,J)||this;r.shouldHandle_=!1;r.downPx_=null;r.freehand_=!1;r.source_=J.source?J.source:null;r.features_=J.features?J.features:null;r.snapTolerance_=J.snapTolerance?J.snapTolerance:12;
r.type_=J.type;r.mode_=A(r.type_);r.stopClick_=!!J.stopClick;r.minPoints_=J.minPoints?J.minPoints:r.mode_===ca.POLYGON?3:2;r.maxPoints_=r.mode_===ca.CIRCLE?2:J.maxPoints?J.maxPoints:Infinity;r.finishCondition_=J.finishCondition?J.finishCondition:w.TRUE;var C=J.geometryFunction;if(!C){var N=r.mode_;if(N===ca.CIRCLE)C=function(ja,ba,ia){ba=ba?ba:new u.default([NaN,NaN]);var za=(0,O.fromUserCoordinate)(ja[0],ia);ja=(0,V.squaredDistance)(za,(0,O.fromUserCoordinate)(ja[ja.length-1],ia));ba.setCenterAndRadius(za,
Math.sqrt(ja));(ja=(0,O.getUserProjection)())&&ba.transform(ia,ja);return ba};else{if(N===ca.POINT)var U=y.default;else N===ca.LINE_STRING?U=d.default:N===ca.POLYGON&&(U=q.default);C=function(ja,ba,ia){ba?N===ca.POLYGON?ja[0].length?ba.setCoordinates([ja[0].concat([ja[0][0]])]):ba.setCoordinates([]):ba.setCoordinates(ja):ba=new U(ja);return ba}}}r.geometryFunction_=C;r.dragVertexDelay_=void 0!==J.dragVertexDelay?J.dragVertexDelay:500;r.finishCoordinate_=null;r.sketchFeature_=null;r.sketchPoint_=null;
r.sketchCoords_=null;r.sketchLine_=null;r.sketchLineCoords_=null;r.squaredClickTolerance_=J.clickTolerance?J.clickTolerance*J.clickTolerance:36;r.overlay_=new E.default({source:new F.default({useSpatialIndex:!1,wrapX:J.wrapX?J.wrapX:!1}),style:J.style?J.style:p(),updateWhileInteracting:!0});r.geometryName_=J.geometryName;r.condition_=J.condition?J.condition:D.noModifierKeys;r.freehandCondition_=J.freehand?D.always:J.freehandCondition?J.freehandCondition:D.shiftKeyOnly;r.addChangeListener(g.default.ACTIVE,
r.updateState_);return r}S(R,T);R.prototype.setMap=function(J){T.prototype.setMap.call(this,J);this.updateState_()};R.prototype.getOverlay=function(){return this.overlay_};R.prototype.handleEvent=function(J){J.originalEvent.type===m.default.CONTEXTMENU&&J.originalEvent.preventDefault();this.freehand_=this.mode_!==ca.POINT&&this.freehandCondition_(J);var r=J.type===c.default.POINTERMOVE,C=!0;!this.freehand_&&this.lastDragTime_&&J.type===c.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?
(this.downPx_=J.pixel,this.shouldHandle_=!this.freehand_,r=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));this.freehand_&&J.type===c.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(J.coordinate),C=!1):this.freehand_&&J.type===c.default.POINTERDOWN?C=!1:r&&2>this.getPointerCount()?(C=J.type===c.default.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(J),this.shouldHandle_&&J.originalEvent.preventDefault()):
("mouse"===J.originalEvent.pointerType||J.type===c.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(J):J.type===c.default.DBLCLICK&&(C=!1);return T.prototype.handleEvent.call(this,J)&&C};R.prototype.handleDownEvent=function(J){this.shouldHandle_=!this.freehand_;if(this.freehand_)return this.downPx_=J.pixel,this.finishCoordinate_||this.startDrawing_(J.coordinate),!0;if(this.condition_(J))return this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new b.default(c.default.POINTERMOVE,
J.map,J.originalEvent,!1,J.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=J.pixel,!0;this.lastDragTime_=void 0;return!1};R.prototype.handleUpEvent=function(J){var r=!0;0===this.getPointerCount()&&(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(J),this.shouldHandle_?((r=!this.finishCoordinate_)&&this.startDrawing_(J.coordinate),!r&&this.freehand_?this.finishDrawing():this.freehand_||r&&this.mode_!==ca.POINT||(this.atFinish_(J.pixel)?
this.finishCondition_(J)&&this.finishDrawing():this.addToDrawing_(J.coordinate)),r=!1):this.freehand_&&this.abortDrawing());!r&&this.stopClick_&&J.preventDefault();return r};R.prototype.handlePointerMove_=function(J){this.pointerType_=J.originalEvent.pointerType;if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var r=this.downPx_,C=J.pixel,N=r[0]-C[0];r=r[1]-C[1];N=N*N+r*r;this.shouldHandle_=this.freehand_?N>this.squaredClickTolerance_:N<=this.squaredClickTolerance_;
if(!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(J.coordinate):this.createOrUpdateSketchPoint_(J.coordinate.slice())};R.prototype.atFinish_=function(J){var r=!1;if(this.sketchFeature_){var C=!1,N=[this.finishCoordinate_],U=this.mode_;U===ca.POINT?r=!0:U===ca.CIRCLE?r=2===this.sketchCoords_.length:U===ca.LINE_STRING?C=this.sketchCoords_.length>this.minPoints_:U===ca.POLYGON&&(N=this.sketchCoords_,C=N[0].length>this.minPoints_,N=[N[0][0],N[0][N[0].length-2]]);if(C){C=this.getMap();
U=0;for(var ja=N.length;U<ja;U++){var ba=N[U],ia=C.getPixelFromCoordinate(ba);r=J[0]-ia[0];ia=J[1]-ia[1];if(r=Math.sqrt(r*r+ia*ia)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=ba;break}}}}return r};R.prototype.createOrUpdateSketchPoint_=function(J){this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(J):(this.sketchPoint_=new l.default(new y.default(J)),this.updateSketchFeatures_())};R.prototype.createOrUpdateCustomSketchLine_=function(J){this.sketchLine_||(this.sketchLine_=
new l.default);J=J.getLinearRing(0);var r=this.sketchLine_.getGeometry();r?(r.setFlatCoordinates(J.getLayout(),J.getFlatCoordinates()),r.changed()):(r=new d.default(J.getFlatCoordinates(),J.getLayout()),this.sketchLine_.setGeometry(r))};R.prototype.startDrawing_=function(J){var r=this.getMap().getView().getProjection();this.finishCoordinate_=J;this.mode_===ca.POINT?this.sketchCoords_=J.slice():this.mode_===ca.POLYGON?(this.sketchCoords_=[[J.slice(),J.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):
this.sketchCoords_=[J.slice(),J.slice()];this.sketchLineCoords_&&(this.sketchLine_=new l.default(new d.default(this.sketchLineCoords_)));J=this.geometryFunction_(this.sketchCoords_,void 0,r);this.sketchFeature_=new l.default;this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_);this.sketchFeature_.setGeometry(J);this.updateSketchFeatures_();this.dispatchEvent(new ea("drawstart",this.sketchFeature_))};R.prototype.modifyDrawing_=function(J){var r=this.getMap(),C=this.sketchFeature_.getGeometry(),
N=r.getView().getProjection();if(this.mode_===ca.POINT)var U=this.sketchCoords_;else this.mode_===ca.POLYGON?(U=this.sketchCoords_[0],U=U[U.length-1],this.atFinish_(r.getPixelFromCoordinate(J))&&(J=this.finishCoordinate_.slice())):(U=this.sketchCoords_,U=U[U.length-1]);U[0]=J[0];U[1]=J[1];this.geometryFunction_(this.sketchCoords_,C,N);this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(J);C.getType()===f.default.POLYGON&&this.mode_!==ca.POLYGON?this.createOrUpdateCustomSketchLine_(C):
this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()};R.prototype.addToDrawing_=function(J){var r=this.sketchFeature_.getGeometry(),C=this.getMap().getView().getProjection(),N;var U=this.mode_;U===ca.LINE_STRING||U===ca.CIRCLE?(this.finishCoordinate_=J.slice(),U=this.sketchCoords_,U.length>=this.maxPoints_&&(this.freehand_?U.pop():N=!0),U.push(J.slice()),this.geometryFunction_(U,r,C)):U===ca.POLYGON&&(U=this.sketchCoords_[0],U.length>=
this.maxPoints_&&(this.freehand_?U.pop():N=!0),U.push(J.slice()),N&&(this.finishCoordinate_=U[0]),this.geometryFunction_(this.sketchCoords_,r,C));this.createOrUpdateSketchPoint_(J.slice());this.updateSketchFeatures_();N&&this.finishDrawing()};R.prototype.removeLastPoint=function(){if(this.sketchFeature_){var J=this.sketchFeature_.getGeometry(),r=this.getMap().getView().getProjection(),C=this.mode_;if(C===ca.LINE_STRING||C===ca.CIRCLE){var N=this.sketchCoords_;N.splice(-2,1);2<=N.length&&(this.finishCoordinate_=
N[N.length-2].slice(),C=this.finishCoordinate_.slice(),N[N.length-1]=C,this.createOrUpdateSketchPoint_(C));this.geometryFunction_(N,J,r);J.getType()===f.default.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(J)}else if(C===ca.POLYGON){N=this.sketchCoords_[0];N.splice(-2,1);var U=this.sketchLine_.getGeometry();2<=N.length&&(C=N[N.length-2].slice(),N[N.length-1]=C,this.createOrUpdateSketchPoint_(C));U.setCoordinates(N);this.geometryFunction_(this.sketchCoords_,J,r)}1===N.length&&this.abortDrawing();
this.updateSketchFeatures_()}};R.prototype.finishDrawing=function(){var J=this.abortDrawing_();if(J){var r=this.sketchCoords_,C=J.getGeometry(),N=this.getMap().getView().getProjection();this.mode_===ca.LINE_STRING?(r.pop(),this.geometryFunction_(r,C,N)):this.mode_===ca.POLYGON&&(r[0].pop(),this.geometryFunction_(r,C,N),r=C.getCoordinates());this.type_===f.default.MULTI_POINT?J.setGeometry(new e.default([r])):this.type_===f.default.MULTI_LINE_STRING?J.setGeometry(new a.default([r])):this.type_===f.default.MULTI_POLYGON&&
J.setGeometry(new t.default([r]));this.dispatchEvent(new ea("drawend",J));this.features_&&this.features_.push(J);this.source_&&this.source_.addFeature(J)}};R.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var J=this.sketchFeature_;this.sketchLine_=this.sketchPoint_=this.sketchFeature_=null;this.overlay_.getSource().clear(!0);return J};R.prototype.abortDrawing=function(){var J=this.abortDrawing_();J&&this.dispatchEvent(new ea("drawabort",J))};R.prototype.appendCoordinates=function(J){var r=
this.mode_,C=!this.sketchFeature_;C&&this.startDrawing_(J[0]);if(r===ca.LINE_STRING||r===ca.CIRCLE)r=this.sketchCoords_;else if(r===ca.POLYGON)r=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;C&&r.shift();r.pop();for(C=0;C<J.length;C++)this.addToDrawing_(J[C]);J=J[J.length-1];this.addToDrawing_(J);this.modifyDrawing_(J)};R.prototype.extend=function(J){var r=J.getGeometry();this.sketchFeature_=J;this.sketchCoords_=r.getCoordinates();J=this.sketchCoords_[this.sketchCoords_.length-
1];this.finishCoordinate_=J.slice();this.sketchCoords_.push(J.slice());this.sketchPoint_=new l.default(new y.default(J));this.updateSketchFeatures_();this.dispatchEvent(new ea("drawstart",this.sketchFeature_))};R.prototype.updateSketchFeatures_=function(){var J=[];this.sketchFeature_&&J.push(this.sketchFeature_);this.sketchLine_&&J.push(this.sketchLine_);this.sketchPoint_&&J.push(this.sketchPoint_);var r=this.overlay_.getSource();r.clear(!0);r.addFeatures(J)};R.prototype.updateState_=function(){var J=
this.getMap(),r=this.getActive();J&&r||this.abortDrawing();this.overlay_.setMap(r?J:null)};return R}(cb.default);B.default=z};
shadow$provide[238]=function(ra,z,cb,B){function v(w){return w&&w.__esModule?w:{default:w}}function k(){var w=(0,t.createEditingStyle)();return function(D,G){return w[l.default.POLYGON]}}function p(){var w=(0,t.createEditingStyle)();return function(D,G){return w[l.default.POINT]}}function A(w){return function(D){return(0,a.boundingExtent)([w,D])}}function u(w,D){return w[0]==D[0]?function(G){return(0,a.boundingExtent)([w,[G[0],D[1]]])}:w[1]==D[1]?function(G){return(0,a.boundingExtent)([w,[D[0],G[1]]])}:
null}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.ExtentEvent=void 0;ra=v(z(79));var m=v(z(184)),l=v(z(113)),f=v(z(105)),g=v(z(139));cb=v(z(166));var d=v(z(230)),b=v(z(236)),c=z(167),a=z(75),e=z(93),t=z(200),y=z(146),q=z(124),E=function(){var w=function(D,G){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,O){L.__proto__=O}||function(L,O){for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(L[V]=O[V])};return w(D,G)};return function(D,G){function L(){this.constructor=
D}if("function"!==typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");w(D,G);D.prototype=null===G?Object.create(G):(L.prototype=G.prototype,new L)}}(),F=function(w){function D(G){var L=w.call(this,"extentchanged")||this;L.extent=G;return L}E(D,w);return D}(ra.default);B.ExtentEvent=F;z=function(w){function D(G){var L=G||{};var O=w.call(this,L)||this;O.condition_=L.condition?L.condition:c.always;O.extent_=null;O.pointerHandler_=null;O.pixelTolerance_=
void 0!==L.pixelTolerance?L.pixelTolerance:10;O.snappedToVertex_=!1;O.extentFeature_=null;O.vertexFeature_=null;G||(G={});O.extentOverlay_=new d.default({source:new b.default({useSpatialIndex:!1,wrapX:!!G.wrapX}),style:G.boxStyle?G.boxStyle:k(),updateWhileAnimating:!0,updateWhileInteracting:!0});O.vertexOverlay_=new d.default({source:new b.default({useSpatialIndex:!1,wrapX:!!G.wrapX}),style:G.pointerStyle?G.pointerStyle:p(),updateWhileAnimating:!0,updateWhileInteracting:!0});G.extent&&O.setExtent(G.extent);
return O}E(D,w);D.prototype.snapToVertex_=function(G,L){var O=L.getCoordinateFromPixelInternal(G),V=function(ea,T){return(0,e.squaredDistanceToSegment)(O,ea)-(0,e.squaredDistanceToSegment)(O,T)},S=this.getExtentInternal();if(S){S=[[[S[0],S[1]],[S[0],S[3]]],[[S[0],S[3]],[S[2],S[3]]],[[S[2],S[3]],[S[2],S[1]]],[[S[2],S[1]],[S[0],S[1]]]];S.sort(V);V=S[0];S=(0,e.closestOnSegment)(O,V);var ca=L.getPixelFromCoordinateInternal(S);if((0,e.distance)(G,ca)<=this.pixelTolerance_)return G=L.getPixelFromCoordinateInternal(V[0]),
L=L.getPixelFromCoordinateInternal(V[1]),G=(0,e.squaredDistance)(ca,G),L=(0,e.squaredDistance)(ca,L),(this.snappedToVertex_=Math.sqrt(Math.min(G,L))<=this.pixelTolerance_)&&(S=G>L?V[1]:V[0]),S}return null};D.prototype.handlePointerMove_=function(G){var L=G.pixel;G=G.map;var O=this.snapToVertex_(L,G);O||(O=G.getCoordinateFromPixelInternal(L));this.createOrUpdatePointerFeature_(O)};D.prototype.createOrUpdateExtentFeature_=function(G){var L=this.extentFeature_;L?G?L.setGeometry((0,y.fromExtent)(G)):
L.setGeometry(void 0):(this.extentFeature_=L=G?new m.default((0,y.fromExtent)(G)):new m.default({}),this.extentOverlay_.getSource().addFeature(L));return L};D.prototype.createOrUpdatePointerFeature_=function(G){var L=this.vertexFeature_;L?L.getGeometry().setCoordinates(G):(this.vertexFeature_=L=new m.default(new g.default(G)),this.vertexOverlay_.getSource().addFeature(L));return L};D.prototype.handleEvent=function(G){if(!G.originalEvent||!this.condition_(G))return!0;G.type!=f.default.POINTERMOVE||
this.handlingDownUpSequence||this.handlePointerMove_(G);w.prototype.handleEvent.call(this,G);return!1};D.prototype.handleDownEvent=function(G){var L=G.pixel,O=G.map,V=this.getExtentInternal();G=this.snapToVertex_(L,O);var S=function(ca){var ea=null,T=null;ca[0]==V[0]?ea=V[2]:ca[0]==V[2]&&(ea=V[0]);ca[1]==V[1]?T=V[3]:ca[1]==V[3]&&(T=V[1]);return null!==ea&&null!==T?[ea,T]:null};G&&V?(L=G[0]==V[0]||G[0]==V[2]?G[0]:null,O=G[1]==V[1]||G[1]==V[3]?G[1]:null,null!==L&&null!==O?this.pointerHandler_=A(S(G)):
null!==L?this.pointerHandler_=u(S([L,V[1]]),S([L,V[3]])):null!==O&&(this.pointerHandler_=u(S([V[0],O]),S([V[2],O])))):(G=O.getCoordinateFromPixelInternal(L),this.setExtent([G[0],G[1],G[0],G[1]]),this.pointerHandler_=A(G));return!0};D.prototype.handleDragEvent=function(G){this.pointerHandler_&&(G=G.coordinate,this.setExtent(this.pointerHandler_(G)),this.createOrUpdatePointerFeature_(G))};D.prototype.handleUpEvent=function(G){this.pointerHandler_=null;(G=this.getExtentInternal())&&0!==(0,a.getArea)(G)||
this.setExtent(null);return!1};D.prototype.setMap=function(G){this.extentOverlay_.setMap(G);this.vertexOverlay_.setMap(G);w.prototype.setMap.call(this,G)};D.prototype.getExtent=function(){return(0,q.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())};D.prototype.getExtentInternal=function(){return this.extent_};D.prototype.setExtent=function(G){this.extent_=G?G:null;this.createOrUpdateExtentFeature_(G);this.dispatchEvent(new F(this.extent_))};return D}(cb.default);B.default=
z};
shadow$provide[239]=function(ra,z,cb,B){function v(T){return T&&T.__esModule?T:{default:T}}function k(T,R){return T.index-R.index}function p(T,R,J){var r=R.geometry;if(r.getType()===d.default.CIRCLE&&1===R.index)return(R=(0,L.getUserProjection)())&&(r=r.clone().transform(R,J)),J=(0,F.squaredDistance)(r.getCenter(),(0,L.fromUserCoordinate)(T,J)),J=Math.sqrt(J)-r.getRadius(),J*J;T=(0,L.fromUserCoordinate)(T,J);ca[0]=(0,L.fromUserCoordinate)(R.segment[0],J);ca[1]=(0,L.fromUserCoordinate)(R.segment[1],
J);return(0,F.squaredDistanceToSegment)(T,ca)}function A(T,R,J){var r=R.geometry;if(r.getType()===d.default.CIRCLE&&1===R.index)return R=r,(r=(0,L.getUserProjection)())&&(R=R.clone().transform(r,J)),(0,L.toUserCoordinate)(R.getClosestPoint((0,L.fromUserCoordinate)(T,J)),J);T=(0,L.fromUserCoordinate)(T,J);ca[0]=(0,L.fromUserCoordinate)(R.segment[0],J);ca[1]=(0,L.fromUserCoordinate)(R.segment[1],J);return(0,L.toUserCoordinate)((0,F.closestOnSegment)(T,ca),J)}function u(){var T=(0,w.createEditingStyle)();
return function(R,J){return T[d.default.POINT]}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.ModifyEvent=void 0;var m=v(z(101)),l=v(z(100));ra=v(z(79));var f=v(z(83)),g=v(z(184)),d=v(z(113)),b=v(z(105)),c=v(z(139));cb=v(z(166));var a=v(z(231)),e=v(z(233)),t=v(z(230)),y=v(z(236)),q=z(167),E=z(75),F=z(93),w=z(200),D=z(66),G=z(146),L=z(124),O=z(68),V=function(){var T=function(R,J){T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,C){r.__proto__=C}||function(r,C){for(var N in C)Object.prototype.hasOwnProperty.call(C,
N)&&(r[N]=C[N])};return T(R,J)};return function(R,J){function r(){this.constructor=R}if("function"!==typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");T(R,J);R.prototype=null===J?Object.create(J):(r.prototype=J.prototype,new r)}}(),S=[0,0,0,0],ca=[],ea=function(T){function R(J,r,C){J=T.call(this,J)||this;J.features=r;J.mapBrowserEvent=C;return J}V(R,T);return R}(ra.default);B.ModifyEvent=ea;z=function(T){function R(J){var r=T.call(this,J)||this;
r.boundHandleFeatureChange_=r.handleFeatureChange_.bind(r);r.condition_=J.condition?J.condition:q.primaryAction;r.defaultDeleteCondition_=function(N){return(0,q.altKeyOnly)(N)&&(0,q.singleClick)(N)};r.deleteCondition_=J.deleteCondition?J.deleteCondition:r.defaultDeleteCondition_;r.insertVertexCondition_=J.insertVertexCondition?J.insertVertexCondition:q.always;r.vertexFeature_=null;r.vertexSegments_=null;r.lastPixel_=[0,0];r.ignoreNextSingleClick_=!1;r.featuresBeingModified_=null;r.rBush_=new a.default;
r.pixelTolerance_=void 0!==J.pixelTolerance?J.pixelTolerance:10;r.snappedToVertex_=!1;r.changingFeature_=!1;r.dragSegments_=[];r.overlay_=new t.default({source:new y.default({useSpatialIndex:!1,wrapX:!!J.wrapX}),style:J.style?J.style:u(),updateWhileAnimating:!0,updateWhileInteracting:!0});r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),
MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r)};r.source_=null;r.hitDetection_=null;if(J.features)var C=J.features;else J.source&&(r.source_=J.source,C=new m.default(r.source_.getFeatures()),r.source_.addEventListener(e.default.ADDFEATURE,r.handleSourceAdd_.bind(r)),r.source_.addEventListener(e.default.REMOVEFEATURE,r.handleSourceRemove_.bind(r)));
if(!C)throw Error("The modify interaction requires features, a source or a layer");J.hitDetection&&(r.hitDetection_=J.hitDetection);r.features_=C;r.features_.forEach(r.addFeature_.bind(r));r.features_.addEventListener(l.default.ADD,r.handleFeatureAdd_.bind(r));r.features_.addEventListener(l.default.REMOVE,r.handleFeatureRemove_.bind(r));r.lastPointerEvent_=null;r.delta_=[0,0];r.snapToPointer_=void 0===J.snapToPointer?!r.hitDetection_:J.snapToPointer;return r}V(R,T);R.prototype.addFeature_=function(J){var r=
J.getGeometry();if(r){var C=this.SEGMENT_WRITERS_[r.getType()];C&&C(J,r)}(r=this.getMap())&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r);J.addEventListener(f.default.CHANGE,this.boundHandleFeatureChange_)};R.prototype.willModifyFeatures_=function(J,r){if(!this.featuresBeingModified_){this.featuresBeingModified_=new m.default;for(var C=this.featuresBeingModified_.getArray(),N=0,U=r.length;N<U;++N)for(var ja=r[N],ba=0,ia=ja.length;ba<ia;++ba){var za=ja[ba].feature;
za&&-1===C.indexOf(za)&&this.featuresBeingModified_.push(za)}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new ea("modifystart",this.featuresBeingModified_,J))}};R.prototype.removeFeature_=function(J){this.removeFeatureSegmentData_(J);this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);J.removeEventListener(f.default.CHANGE,this.boundHandleFeatureChange_)};R.prototype.removeFeatureSegmentData_=
function(J){var r=this.rBush_,C=[];r.forEach(function(ba){J===ba.feature&&C.push(ba)});for(var N=C.length-1;0<=N;--N){for(var U=C[N],ja=this.dragSegments_.length-1;0<=ja;--ja)this.dragSegments_[ja][0]===U&&this.dragSegments_.splice(ja,1);r.remove(U)}};R.prototype.setActive=function(J){this.vertexFeature_&&!J&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);T.prototype.setActive.call(this,J)};R.prototype.setMap=function(J){this.overlay_.setMap(J);T.prototype.setMap.call(this,
J)};R.prototype.getOverlay=function(){return this.overlay_};R.prototype.handleSourceAdd_=function(J){J.feature&&this.features_.push(J.feature)};R.prototype.handleSourceRemove_=function(J){J.feature&&this.features_.remove(J.feature)};R.prototype.handleFeatureAdd_=function(J){this.addFeature_(J.element)};R.prototype.handleFeatureChange_=function(J){this.changingFeature_||(J=J.target,this.removeFeature_(J),this.addFeature_(J))};R.prototype.handleFeatureRemove_=function(J){this.removeFeature_(J.element)};
R.prototype.writePointGeometry_=function(J,r){var C=r.getCoordinates();J={feature:J,geometry:r,segment:[C,C]};this.rBush_.insert(r.getExtent(),J)};R.prototype.writeMultiPointGeometry_=function(J,r){for(var C=r.getCoordinates(),N=0,U=C.length;N<U;++N){var ja=C[N];ja={feature:J,geometry:r,depth:[N],index:N,segment:[ja,ja]};this.rBush_.insert(r.getExtent(),ja)}};R.prototype.writeLineStringGeometry_=function(J,r){for(var C=r.getCoordinates(),N=0,U=C.length-1;N<U;++N){var ja=C.slice(N,N+2),ba={feature:J,
geometry:r,index:N,segment:ja};this.rBush_.insert((0,E.boundingExtent)(ja),ba)}};R.prototype.writeMultiLineStringGeometry_=function(J,r){for(var C=r.getCoordinates(),N=0,U=C.length;N<U;++N)for(var ja=C[N],ba=0,ia=ja.length-1;ba<ia;++ba){var za=ja.slice(ba,ba+2),Wa={feature:J,geometry:r,depth:[N],index:ba,segment:za};this.rBush_.insert((0,E.boundingExtent)(za),Wa)}};R.prototype.writePolygonGeometry_=function(J,r){for(var C=r.getCoordinates(),N=0,U=C.length;N<U;++N)for(var ja=C[N],ba=0,ia=ja.length-
1;ba<ia;++ba){var za=ja.slice(ba,ba+2),Wa={feature:J,geometry:r,depth:[N],index:ba,segment:za};this.rBush_.insert((0,E.boundingExtent)(za),Wa)}};R.prototype.writeMultiPolygonGeometry_=function(J,r){for(var C=r.getCoordinates(),N=0,U=C.length;N<U;++N)for(var ja=C[N],ba=0,ia=ja.length;ba<ia;++ba)for(var za=ja[ba],Wa=0,hb=za.length-1;Wa<hb;++Wa){var Ja=za.slice(Wa,Wa+2),qa={feature:J,geometry:r,depth:[ba,N],index:Wa,segment:Ja};this.rBush_.insert((0,E.boundingExtent)(Ja),qa)}};R.prototype.writeCircleGeometry_=
function(J,r){var C=r.getCenter(),N={feature:J,geometry:r,index:0,segment:[C,C]};J={feature:J,geometry:r,index:1,segment:[C,C]};var U=[N,J];N.featureSegments=U;J.featureSegments=U;this.rBush_.insert((0,E.createOrUpdateFromCoordinate)(C),N);(C=(0,L.getUserProjection)())&&this.getMap()&&(N=this.getMap().getView().getProjection(),r=r.clone().transform(C,N),r=(0,G.fromCircle)(r).transform(N,C));this.rBush_.insert(r.getExtent(),J)};R.prototype.writeGeometryCollectionGeometry_=function(J,r){r=r.getGeometriesArray();
for(var C=0;C<r.length;++C){var N=r[C];(0,this.SEGMENT_WRITERS_[N.getType()])(J,N)}};R.prototype.createOrUpdateVertexFeature_=function(J,r,C){var N=this.vertexFeature_;N?N.getGeometry().setCoordinates(J):(this.vertexFeature_=N=new g.default(new c.default(J)),this.overlay_.getSource().addFeature(N));N.set("features",r);N.set("geometries",C);return N};R.prototype.handleEvent=function(J){if(!J.originalEvent)return!0;this.lastPointerEvent_=J;var r;J.map.getView().getInteracting()||J.type!=b.default.POINTERMOVE||
this.handlingDownUpSequence||this.handlePointerMove_(J);this.vertexFeature_&&this.deleteCondition_(J)&&(r=J.type==b.default.SINGLECLICK&&this.ignoreNextSingleClick_?!0:this.removePoint());J.type==b.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1);return T.prototype.handleEvent.call(this,J)&&!r};R.prototype.handleDragEvent=function(J){this.ignoreNextSingleClick_=!1;this.willModifyFeatures_(J,this.dragSegments_);for(var r=[J.coordinate[0]+this.delta_[0],J.coordinate[1]+this.delta_[1]],C=[],N=[],
U=0,ja=this.dragSegments_.length;U<ja;++U){var ba=this.dragSegments_[U],ia=ba[0],za=ia.feature;-1===C.indexOf(za)&&C.push(za);za=ia.geometry;-1===N.indexOf(za)&&N.push(za);var Wa=ia.depth,hb=void 0,Ja=ia.segment;for(ba=ba[1];r.length<za.getStride();)r.push(Ja[ba][r.length]);switch(za.getType()){case d.default.POINT:hb=r;Ja[0]=r;Ja[1]=r;break;case d.default.MULTI_POINT:hb=za.getCoordinates();hb[ia.index]=r;Ja[0]=r;Ja[1]=r;break;case d.default.LINE_STRING:hb=za.getCoordinates();hb[ia.index+ba]=r;Ja[ba]=
r;break;case d.default.MULTI_LINE_STRING:hb=za.getCoordinates();hb[Wa[0]][ia.index+ba]=r;Ja[ba]=r;break;case d.default.POLYGON:hb=za.getCoordinates();hb[Wa[0]][ia.index+ba]=r;Ja[ba]=r;break;case d.default.MULTI_POLYGON:hb=za.getCoordinates();hb[Wa[1]][Wa[0]][ia.index+ba]=r;Ja[ba]=r;break;case d.default.CIRCLE:Ja[0]=r;Ja[1]=r;if(0===ia.index)this.changingFeature_=!0,za.setCenter(r);else{this.changingFeature_=!0;ia=J.map.getView().getProjection();ba=(0,F.distance)((0,L.fromUserCoordinate)(za.getCenter(),
ia),(0,L.fromUserCoordinate)(r,ia));if(Wa=(0,L.getUserProjection)())Ja=za.clone().transform(Wa,ia),Ja.setRadius(ba),ba=Ja.transform(ia,Wa).getRadius();za.setRadius(ba)}this.changingFeature_=!1}hb&&this.setGeometryCoordinates_(za,hb)}this.createOrUpdateVertexFeature_(r,C,N)};R.prototype.handleDownEvent=function(J){if(!this.condition_(J))return!1;var r=J.coordinate;this.handlePointerAtPixel_(J.pixel,J.map,r);this.dragSegments_.length=0;this.featuresBeingModified_=null;var C=this.vertexFeature_;if(C){var N=
J.map.getView().getProjection(),U=[];C=C.getGeometry().getCoordinates();var ja=(0,E.boundingExtent)([C]);ja=this.rBush_.getInExtent(ja);var ba={};ja.sort(k);for(var ia=0,za=ja.length;ia<za;++ia){var Wa=ja[ia],hb=Wa.segment,Ja=(0,O.getUid)(Wa.geometry),qa=Wa.depth;qa&&(Ja+="-"+qa.join("-"));ba[Ja]||(ba[Ja]=Array(2));if(Wa.geometry.getType()===d.default.CIRCLE&&1===Wa.index)hb=A(r,Wa,N),(0,F.equals)(hb,C)&&!ba[Ja][0]&&(this.dragSegments_.push([Wa,0]),ba[Ja][0]=Wa);else if((0,F.equals)(hb[0],C)&&!ba[Ja][0])this.dragSegments_.push([Wa,
0]),ba[Ja][0]=Wa;else if((0,F.equals)(hb[1],C)&&!ba[Ja][1]){if(Wa.geometry.getType()!==d.default.LINE_STRING&&Wa.geometry.getType()!==d.default.MULTI_LINE_STRING||!ba[Ja][0]||0!==ba[Ja][0].index)this.dragSegments_.push([Wa,1]),ba[Ja][1]=Wa}else(0,O.getUid)(hb)in this.vertexSegments_&&!ba[Ja][0]&&!ba[Ja][1]&&this.insertVertexCondition_(J)&&U.push(Wa)}U.length&&this.willModifyFeatures_(J,[U]);for(J=U.length-1;0<=J;--J)this.insertVertex_(U[J],C)}return!!this.vertexFeature_};R.prototype.handleUpEvent=
function(J){for(var r=this.dragSegments_.length-1;0<=r;--r){var C=this.dragSegments_[r][0],N=C.geometry;if(N.getType()===d.default.CIRCLE){var U=N.getCenter(),ja=C.featureSegments[0];C=C.featureSegments[1];ja.segment[0]=U;ja.segment[1]=U;C.segment[0]=U;C.segment[1]=U;this.rBush_.update((0,E.createOrUpdateFromCoordinate)(U),ja);if(U=(0,L.getUserProjection)())ja=J.map.getView().getProjection(),N=N.clone().transform(U,ja),N=(0,G.fromCircle)(N).transform(ja,U);this.rBush_.update(N.getExtent(),C)}else this.rBush_.update((0,E.boundingExtent)(C.segment),
C)}this.featuresBeingModified_&&(this.dispatchEvent(new ea("modifyend",this.featuresBeingModified_,J)),this.featuresBeingModified_=null);return!1};R.prototype.handlePointerMove_=function(J){this.lastPixel_=J.pixel;this.handlePointerAtPixel_(J.pixel,J.map,J.coordinate)};R.prototype.handlePointerAtPixel_=function(J,r,C){var N=this,U=C||r.getCoordinateFromPixel(J),ja=r.getView().getProjection();C=function(Da,va){return p(U,Da,ja)-p(U,va,ja)};var ba;this.hitDetection_&&r.forEachFeatureAtPixel(J,function(Da,
va,sa){sa=sa||Da.getGeometry();sa.getType()===d.default.POINT&&(0,D.includes)(N.features_.getArray(),Da)&&(ba=sa,va=sa.getFlatCoordinates().slice(0,2),Wa=[{feature:Da,geometry:sa,segment:[va,va]}]);return!0},{layerFilter:"object"===typeof this.hitDetection_?function(Da){return Da===N.hitDetection_}:void 0});if(!Wa){var ia=(0,L.fromUserExtent)((0,E.createOrUpdateFromCoordinate)(U,S),ja),za=r.getView().getResolution()*this.pixelTolerance_;ia=(0,L.toUserExtent)((0,E.buffer)(ia,za,S),ja);var Wa=this.rBush_.getInExtent(ia)}if(Wa&&
0<Wa.length){ia=Wa.sort(C)[0];C=ia.segment;za=A(U,ia,ja);var hb=r.getPixelFromCoordinate(za),Ja=(0,F.distance)(J,hb);if(ba||Ja<=this.pixelTolerance_){J={};J[(0,O.getUid)(C)]=!0;this.snapToPointer_||(this.delta_[0]=za[0]-U[0],this.delta_[1]=za[1]-U[1]);if(ia.geometry.getType()===d.default.CIRCLE&&1===ia.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(za,[ia.feature],[ia.geometry]);else{Ja=r.getPixelFromCoordinate(C[0]);var qa=r.getPixelFromCoordinate(C[1]);r=(0,F.squaredDistance)(hb,
Ja);hb=(0,F.squaredDistance)(hb,qa);Ja=Math.sqrt(Math.min(r,hb));(this.snappedToVertex_=Ja<=this.pixelTolerance_)&&(za=r>hb?C[1]:C[0]);this.createOrUpdateVertexFeature_(za,[ia.feature],[ia.geometry]);r={};r[(0,O.getUid)(ia.geometry)]=!0;ia=1;for(za=Wa.length;ia<za;++ia)if(hb=Wa[ia].segment,(0,F.equals)(C[0],hb[0])&&(0,F.equals)(C[1],hb[1])||(0,F.equals)(C[0],hb[1])&&(0,F.equals)(C[1],hb[0]))Ja=(0,O.getUid)(Wa[ia].geometry),Ja in r||(r[Ja]=!0,J[(0,O.getUid)(hb)]=!0);else break}this.vertexSegments_=
J;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)};R.prototype.insertVertex_=function(J,r){for(var C=J.segment,N=J.feature,U=J.geometry,ja=J.depth,ba=J.index,ia;r.length<U.getStride();)r.push(0);switch(U.getType()){case d.default.MULTI_LINE_STRING:ia=U.getCoordinates();ia[ja[0]].splice(ba+1,0,r);break;case d.default.POLYGON:ia=U.getCoordinates();ia[ja[0]].splice(ba+1,0,r);break;case d.default.MULTI_POLYGON:ia=U.getCoordinates();
ia[ja[1]][ja[0]].splice(ba+1,0,r);break;case d.default.LINE_STRING:ia=U.getCoordinates();ia.splice(ba+1,0,r);break;default:return}this.setGeometryCoordinates_(U,ia);ia=this.rBush_;ia.remove(J);this.updateSegmentIndices_(U,ba,ja,1);J={segment:[C[0],r],feature:N,geometry:U,depth:ja,index:ba};ia.insert((0,E.boundingExtent)(J.segment),J);this.dragSegments_.push([J,1]);r={segment:[r,C[1]],feature:N,geometry:U,depth:ja,index:ba+1};ia.insert((0,E.boundingExtent)(r.segment),r);this.dragSegments_.push([r,
0]);this.ignoreNextSingleClick_=!0};R.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=b.default.POINTERDRAG){var J=this.lastPointerEvent_;this.willModifyFeatures_(J,this.dragSegments_);var r=this.removeVertex_();this.featuresBeingModified_&&this.dispatchEvent(new ea("modifyend",this.featuresBeingModified_,J));this.featuresBeingModified_=null;return r}return!1};R.prototype.removeVertex_=function(){var J=this.dragSegments_,r={},C=!1,N,U;for(U=J.length-1;0<=U;--U){var ja=
J[U];var ba=ja[0];var ia=(0,O.getUid)(ba.feature);ba.depth&&(ia+="-"+ba.depth.join("-"));ia in r||(r[ia]={});0===ja[1]?(r[ia].right=ba,r[ia].index=ba.index):1==ja[1]&&(r[ia].left=ba,r[ia].index=ba.index+1)}for(ia in r){var za=r[ia].right;var Wa=r[ia].left;U=r[ia].index;var hb=U-1;ba=void 0!==Wa?Wa:za;0>hb&&(hb=0);ja=ba.geometry;var Ja=N=ja.getCoordinates();C=!1;switch(ja.getType()){case d.default.MULTI_LINE_STRING:2<N[ba.depth[0]].length&&(N[ba.depth[0]].splice(U,1),C=!0);break;case d.default.LINE_STRING:2<
N.length&&(N.splice(U,1),C=!0);break;case d.default.MULTI_POLYGON:Ja=Ja[ba.depth[1]];case d.default.POLYGON:Ja=Ja[ba.depth[0]],4<Ja.length&&(U==Ja.length-1&&(U=0),Ja.splice(U,1),C=!0,0===U&&(Ja.pop(),Ja.push(Ja[0]),hb=Ja.length-1))}C&&(this.setGeometryCoordinates_(ja,N),Ja=[],void 0!==Wa&&(this.rBush_.remove(Wa),Ja.push(Wa.segment[0])),void 0!==za&&(this.rBush_.remove(za),Ja.push(za.segment[1])),void 0!==Wa&&void 0!==za&&(Wa={depth:ba.depth,feature:ba.feature,geometry:ba.geometry,index:hb,segment:Ja},
this.rBush_.insert((0,E.boundingExtent)(Wa.segment),Wa)),this.updateSegmentIndices_(ja,U,ba.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),J.length=0)}return C};R.prototype.setGeometryCoordinates_=function(J,r){this.changingFeature_=!0;J.setCoordinates(r);this.changingFeature_=!1};R.prototype.updateSegmentIndices_=function(J,r,C,N){this.rBush_.forEachInExtent(J.getExtent(),function(U){U.geometry===J&&(void 0===C||void 0===U.depth||
(0,D.equals)(U.depth,C))&&U.index>r&&(U.index+=N)})};return R}(cb.default);B.default=z};
shadow$provide[240]=function(ra,z,cb,B){function v(y){return y&&y.__esModule?y:{default:y}}function k(){var y=(0,g.createEditingStyle)();(0,d.extend)(y[u.default.POLYGON],y[u.default.LINE_STRING]);(0,d.extend)(y[u.default.GEOMETRY_COLLECTION],y[u.default.LINE_STRING]);return function(q){return q.getGeometry()?y[q.getGeometry().getType()]:null}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.SelectEvent=void 0;var p=v(z(101)),A=v(z(100));ra=v(z(79));var u=v(z(113));cb=v(z(164));var m=
v(z(230)),l=z(67),f=z(81),g=z(200),d=z(66),b=z(68),c=z(167),a=function(){var y=function(q,E){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,w){F.__proto__=w}||function(F,w){for(var D in w)Object.prototype.hasOwnProperty.call(w,D)&&(F[D]=w[D])};return y(q,E)};return function(q,E){function F(){this.constructor=q}if("function"!==typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");y(q,E);q.prototype=null===E?Object.create(E):(F.prototype=
E.prototype,new F)}}(),e=function(y){function q(E,F,w,D){E=y.call(this,E)||this;E.selected=F;E.deselected=w;E.mapBrowserEvent=D;return E}a(q,y);return q}(ra.default);B.SelectEvent=e;var t={};z=function(y){function q(E){var F=y.call(this)||this;E=E?E:{};F.boundAddFeature_=F.addFeature_.bind(F);F.boundRemoveFeature_=F.removeFeature_.bind(F);F.condition_=E.condition?E.condition:c.singleClick;F.addCondition_=E.addCondition?E.addCondition:c.never;F.removeCondition_=E.removeCondition?E.removeCondition:
c.never;F.toggleCondition_=E.toggleCondition?E.toggleCondition:c.shiftKeyOnly;F.multi_=E.multi?E.multi:!1;F.filter_=E.filter?E.filter:l.TRUE;F.hitTolerance_=E.hitTolerance?E.hitTolerance:0;F.style_=void 0!==E.style?E.style:k();F.features_=E.features||new p.default;if(E.layers)if("function"===typeof E.layers)E=E.layers;else{var w=E.layers;E=function(D){return(0,d.includes)(w,D)}}else E=l.TRUE;F.layerFilter_=E;F.featureLayerAssociation_={};return F}a(q,y);q.prototype.addFeatureLayerAssociation_=function(E,
F){this.featureLayerAssociation_[(0,b.getUid)(E)]=F};q.prototype.getFeatures=function(){return this.features_};q.prototype.getHitTolerance=function(){return this.hitTolerance_};q.prototype.getLayer=function(E){return this.featureLayerAssociation_[(0,b.getUid)(E)]};q.prototype.setHitTolerance=function(E){this.hitTolerance_=E};q.prototype.setMap=function(E){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this));y.prototype.setMap.call(this,E);E?(this.features_.addEventListener(A.default.ADD,
this.boundAddFeature_),this.features_.addEventListener(A.default.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(A.default.ADD,this.boundAddFeature_),this.features_.removeEventListener(A.default.REMOVE,this.boundRemoveFeature_))};q.prototype.addFeature_=function(E){var F=E.element;this.style_&&this.applySelectedStyle_(F);this.getLayer(F)||(E=this.getMap().getAllLayers().find(function(w){if(w instanceof m.default&&
w.getSource()&&w.getSource().hasFeature(F))return w}))&&this.addFeatureLayerAssociation_(F,E)};q.prototype.removeFeature_=function(E){E=E.element;this.style_&&this.restorePreviousStyle_(E)};q.prototype.getStyle=function(){return this.style_};q.prototype.applySelectedStyle_=function(E){var F=(0,b.getUid)(E);F in t||(t[F]=E.getStyle());E.setStyle(this.style_)};q.prototype.restorePreviousStyle_=function(E){for(var F=this.getMap().getInteractions().getArray(),w=F.length-1;0<=w;--w){var D=F[w];if(D!==
this&&D instanceof q&&D.getStyle()&&-1!==D.getFeatures().getArray().lastIndexOf(E)){E.setStyle(D.getStyle());return}}F=(0,b.getUid)(E);E.setStyle(t[F]);delete t[F]};q.prototype.removeFeatureLayerAssociation_=function(E){delete this.featureLayerAssociation_[(0,b.getUid)(E)]};q.prototype.handleEvent=function(E){if(!this.condition_(E))return!0;var F=this.addCondition_(E),w=this.removeCondition_(E),D=this.toggleCondition_(E),G=!F&&!w&&!D,L=E.map,O=this.getFeatures(),V=[],S=[];if(G){(0,f.clear)(this.featureLayerAssociation_);
L.forEachFeatureAtPixel(E.pixel,function(ea,T){if(this.filter_(ea,T))return this.addFeatureLayerAssociation_(ea,T),S.push(ea),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(G=O.getLength()-1;0<=G;--G){L=O.item(G);var ca=S.indexOf(L);-1<ca?S.splice(ca,1):(O.remove(L),V.push(L))}0!==S.length&&O.extend(S)}else{L.forEachFeatureAtPixel(E.pixel,function(ea,T){if(this.filter_(ea,T))return!F&&!D||(0,d.includes)(O.getArray(),ea)?(w||D)&&(0,d.includes)(O.getArray(),
ea)&&(V.push(ea),this.removeFeatureLayerAssociation_(ea)):(this.addFeatureLayerAssociation_(ea,T),S.push(ea)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(G=V.length-1;0<=G;--G)O.remove(V[G]);O.extend(S)}(0<S.length||0<V.length)&&this.dispatchEvent(new e("select",S,V,E));return!0};return q}(cb.default);B.default=z};
shadow$provide[241]=function(ra,z,cb,B){function v(E){return E&&E.__esModule?E:{default:E}}function k(E){if(E.feature)return E.feature;if(E.element)return E.element}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=v(z(100)),A=v(z(83)),u=v(z(113));ra=v(z(166));var m=v(z(231)),l=v(z(233)),f=z(67),g=z(75),d=z(93),b=z(146),c=z(124),a=z(68),e=z(81),t=z(84),y=function(){var E=function(F,w){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,
G){for(var L in G)Object.prototype.hasOwnProperty.call(G,L)&&(D[L]=G[L])};return E(F,w)};return function(F,w){function D(){this.constructor=F}if("function"!==typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");E(F,w);F.prototype=null===w?Object.create(w):(D.prototype=w.prototype,new D)}}(),q=[];z=function(E){function F(w){var D=w?w:{};D.handleDownEvent||(D.handleDownEvent=f.TRUE);D.stopDown||(D.stopDown=f.FALSE);w=E.call(this,D)||this;w.source_=
D.source?D.source:null;w.vertex_=void 0!==D.vertex?D.vertex:!0;w.edge_=void 0!==D.edge?D.edge:!0;w.features_=D.features?D.features:null;w.featuresListenerKeys_=[];w.featureChangeListenerKeys_={};w.indexedFeaturesExtents_={};w.pendingFeatures_={};w.pixelTolerance_=void 0!==D.pixelTolerance?D.pixelTolerance:10;w.rBush_=new m.default;w.GEOMETRY_SEGMENTERS_={Point:w.segmentPointGemetry_.bind(w),LineString:w.segmentLineStringGemetry_.bind(w),LinearRing:w.segmentLineStringGemetry_.bind(w),Polygon:w.segmentPolygonGemetry_.bind(w),
MultiPoint:w.segmentMultiPointGemetry_.bind(w),MultiLineString:w.segmentMultiLineStringGemetry_.bind(w),MultiPolygon:w.segmentMultiPolygonGemetry_.bind(w),GeometryCollection:w.segmentGeometryCollectionGemetry_.bind(w),Circle:w.segmentCircleGemetry_.bind(w)};return w}y(F,E);F.prototype.addFeature=function(w,D){D=void 0!==D?D:!0;var G=(0,a.getUid)(w),L=w.getGeometry();if(L){var O=this.GEOMETRY_SEGMENTERS_[L.getType()];if(O){this.indexedFeaturesExtents_[G]=L.getExtent((0,g.createEmpty)());var V=[];O(V,
L);1===V.length?this.rBush_.insert((0,g.boundingExtent)(V[0]),{feature:w,segment:V[0]}):1<V.length&&(L=V.map(function(S){return(0,g.boundingExtent)(S)}),V=V.map(function(S){return{feature:w,segment:S}}),this.rBush_.load(L,V))}}D&&(this.featureChangeListenerKeys_[G]=(0,t.listen)(w,A.default.CHANGE,this.handleFeatureChange_,this))};F.prototype.forEachFeatureAdd_=function(w){this.addFeature(w)};F.prototype.forEachFeatureRemove_=function(w){this.removeFeature(w)};F.prototype.getFeatures_=function(){var w;
this.features_?w=this.features_:this.source_&&(w=this.source_.getFeatures());return w};F.prototype.handleEvent=function(w){var D=this.snapTo(w.pixel,w.coordinate,w.map);D&&(w.coordinate=D.vertex.slice(0,2),w.pixel=D.vertexPixel);return E.prototype.handleEvent.call(this,w)};F.prototype.handleFeatureAdd_=function(w){w=k(w);this.addFeature(w)};F.prototype.handleFeatureRemove_=function(w){w=k(w);this.removeFeature(w)};F.prototype.handleFeatureChange_=function(w){w=w.target;if(this.handlingDownUpSequence){var D=
(0,a.getUid)(w);D in this.pendingFeatures_||(this.pendingFeatures_[D]=w)}else this.updateFeature_(w)};F.prototype.handleUpEvent=function(w){w=(0,e.getValues)(this.pendingFeatures_);w.length&&(w.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={});return!1};F.prototype.removeFeature=function(w,D){D=void 0!==D?D:!0;var G=(0,a.getUid)(w),L=this.indexedFeaturesExtents_[G];if(L){var O=this.rBush_,V=[];O.forEachInExtent(L,function(S){w===S.feature&&V.push(S)});for(L=V.length-1;0<=L;--L)O.remove(V[L])}D&&
((0,t.unlistenByKey)(this.featureChangeListenerKeys_[G]),delete this.featureChangeListenerKeys_[G])};F.prototype.setMap=function(w){var D=this.getMap(),G=this.featuresListenerKeys_,L=this.getFeatures_();D&&(G.forEach(t.unlistenByKey),G.length=0,L.forEach(this.forEachFeatureRemove_.bind(this)));E.prototype.setMap.call(this,w);w&&(this.features_?G.push((0,t.listen)(this.features_,p.default.ADD,this.handleFeatureAdd_,this),(0,t.listen)(this.features_,p.default.REMOVE,this.handleFeatureRemove_,this)):
this.source_&&G.push((0,t.listen)(this.source_,l.default.ADDFEATURE,this.handleFeatureAdd_,this),(0,t.listen)(this.source_,l.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),L.forEach(this.forEachFeatureAdd_.bind(this)))};F.prototype.snapTo=function(w,D,G){var L=G.getCoordinateFromPixel([w[0]-this.pixelTolerance_,w[1]+this.pixelTolerance_]),O=G.getCoordinateFromPixel([w[0]+this.pixelTolerance_,w[1]-this.pixelTolerance_]);L=(0,g.boundingExtent)([L,O]);L=this.rBush_.getInExtent(L);O=L.length;
if(0===O)return null;var V=G.getView().getProjection(),S=(0,c.fromUserCoordinate)(D,V),ca=Infinity,ea=this.pixelTolerance_*this.pixelTolerance_;D=function(){if(C){var N=G.getPixelFromCoordinate(C);if((0,d.squaredDistance)(w,N)<=ea)return{vertex:C,vertexPixel:[Math.round(N[0]),Math.round(N[1])]}}return null};if(this.vertex_){for(var T=0;T<O;++T){var R=L[T];R.feature.getGeometry().getType()!==u.default.CIRCLE&&R.segment.forEach(function(N){var U=(0,c.fromUserCoordinate)(N,V);U=(0,d.squaredDistance)(S,
U);U<ca&&(C=N,ca=U)})}if(T=D())return T}if(this.edge_){for(T=0;T<O;++T){var J=null;R=L[T];if(R.feature.getGeometry().getType()===u.default.CIRCLE)J=R.feature.getGeometry(),(R=(0,c.getUserProjection)())&&(J=J.clone().transform(R,V)),J=(0,c.toUserCoordinate)((0,d.closestOnCircle)(S,J),V);else{var r=R.segment;R=r[0];if(r=r[1])q[0]=(0,c.fromUserCoordinate)(R,V),q[1]=(0,c.fromUserCoordinate)(r,V),J=(0,d.closestOnSegment)(S,q)}if(J&&(R=(0,d.squaredDistance)(S,J),R<ca)){var C=J;ca=R}}if(T=D())return T}return null};
F.prototype.updateFeature_=function(w){this.removeFeature(w,!1);this.addFeature(w,!1)};F.prototype.segmentCircleGemetry_=function(w,D){var G=this.getMap().getView().getProjection(),L=D;(D=(0,c.getUserProjection)())&&(L=L.clone().transform(D,G));L=(0,b.fromCircle)(L);D&&L.transform(G,D);G=L.getCoordinates()[0];D=0;for(L=G.length-1;D<L;++D)w.push(G.slice(D,D+2))};F.prototype.segmentGeometryCollectionGemetry_=function(w,D){D=D.getGeometriesArray();for(var G=0;G<D.length;++G){var L=this.GEOMETRY_SEGMENTERS_[D[G].getType()];
L&&L(w,D[G])}};F.prototype.segmentLineStringGemetry_=function(w,D){D=D.getCoordinates();for(var G=0,L=D.length-1;G<L;++G)w.push(D.slice(G,G+2))};F.prototype.segmentMultiLineStringGemetry_=function(w,D){D=D.getCoordinates();for(var G=0,L=D.length;G<L;++G)for(var O=D[G],V=0,S=O.length-1;V<S;++V)w.push(O.slice(V,V+2))};F.prototype.segmentMultiPointGemetry_=function(w,D){D.getCoordinates().forEach(function(G){w.push([G])})};F.prototype.segmentMultiPolygonGemetry_=function(w,D){D=D.getCoordinates();for(var G=
0,L=D.length;G<L;++G)for(var O=D[G],V=0,S=O.length;V<S;++V)for(var ca=O[V],ea=0,T=ca.length-1;ea<T;++ea)w.push(ca.slice(ea,ea+2))};F.prototype.segmentPointGemetry_=function(w,D){w.push([D.getCoordinates()])};F.prototype.segmentPolygonGemetry_=function(w,D){D=D.getCoordinates();for(var G=0,L=D.length;G<L;++G)for(var O=D[G],V=0,S=O.length-1;V<S;++V)w.push(O.slice(V,V+2))};return F}(ra.default);B.default=z};
shadow$provide[242]=function(ra,z,cb,B){function v(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.TranslateEvent=void 0;var k=v(z(101));ra=v(z(79));var p=v(z(163));cb=v(z(166));var A=z(67),u=z(167),m=z(66),l=function(){var g=function(d,b){g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e])};return g(d,b)};return function(d,b){function c(){this.constructor=
d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(d,b);d.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}(),f=function(g){function d(b,c,a,e,t){b=g.call(this,b)||this;b.features=c;b.coordinate=a;b.startCoordinate=e;b.mapBrowserEvent=t;return b}l(d,g);return d}(ra.default);B.TranslateEvent=f;z=function(g){function d(b){var c=this;b=b?b:{};c=g.call(this,b)||this;c.lastCoordinate_=null;c.startCoordinate_=
null;c.features_=void 0!==b.features?b.features:null;if(b.layers&&!c.features_)if("function"===typeof b.layers)var a=b.layers;else{var e=b.layers;a=function(t){return(0,m.includes)(e,t)}}else a=A.TRUE;c.layerFilter_=a;c.filter_=b.filter&&!c.features_?b.filter:A.TRUE;c.hitTolerance_=b.hitTolerance?b.hitTolerance:0;c.condition_=b.condition?b.condition:u.always;c.lastFeature_=null;c.addChangeListener(p.default.ACTIVE,c.handleActiveChanged_);return c}l(d,g);d.prototype.handleDownEvent=function(b){if(!b.originalEvent||
!this.condition_(b))return!1;this.lastFeature_=this.featuresAtPixel_(b.pixel,b.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=this.startCoordinate_=b.coordinate;this.handleMoveEvent(b);var c=this.features_||new k.default([this.lastFeature_]);this.dispatchEvent(new f("translatestart",c,b.coordinate,this.startCoordinate_,b));return!0}return!1};d.prototype.handleUpEvent=function(b){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(b);var c=this.features_||
new k.default([this.lastFeature_]);this.dispatchEvent(new f("translateend",c,b.coordinate,this.startCoordinate_,b));this.startCoordinate_=null;return!0}return!1};d.prototype.handleDragEvent=function(b){if(this.lastCoordinate_){var c=b.coordinate,a=c[0]-this.lastCoordinate_[0],e=c[1]-this.lastCoordinate_[1],t=this.features_||new k.default([this.lastFeature_]);t.forEach(function(y){var q=y.getGeometry();q.translate(a,e);y.setGeometry(q)});this.lastCoordinate_=c;this.dispatchEvent(new f("translating",
t,c,this.startCoordinate_,b))}};d.prototype.handleMoveEvent=function(b){var c=b.map.getViewport();this.featuresAtPixel_(b.pixel,b.map)?(c.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),c.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):c.classList.remove("ol-grab","ol-grabbing")};d.prototype.featuresAtPixel_=function(b,c){return c.forEachFeatureAtPixel(b,function(a,e){if(this.filter_(a,e)&&(!this.features_||(0,m.includes)(this.features_.getArray(),a)))return a}.bind(this),
{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};d.prototype.getHitTolerance=function(){return this.hitTolerance_};d.prototype.setHitTolerance=function(b){this.hitTolerance_=b};d.prototype.setMap=function(b){var c=this.getMap();g.prototype.setMap.call(this,b);this.updateState_(c)};d.prototype.handleActiveChanged_=function(){this.updateState_(null)};d.prototype.updateState_=function(b){var c=this.getMap(),a=this.getActive();c&&a||(c=c||b)&&c.getViewport().classList.remove("ol-grab",
"ol-grabbing")};return d}(cb.default);B.default=z};
shadow$provide[243]=function(ra,z,cb,B){function v(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(B,"__esModule",{value:!0});B.defaults=function(O){O=O?O:{};var V=new k.default,S=new g.default(-.005,.05,100);(void 0!==O.altShiftDragRotate?O.altShiftDragRotate:1)&&V.push(new u.default);(void 0!==O.doubleClickZoom?O.doubleClickZoom:1)&&V.push(new p.default({delta:O.zoomDelta,duration:O.zoomDuration}));(void 0!==O.dragPan?O.dragPan:1)&&V.push(new A.default({onFocusOnly:O.onFocusOnly,kinetic:S}));
(void 0!==O.pinchRotate?O.pinchRotate:1)&&V.push(new b.default);(void 0!==O.pinchZoom?O.pinchZoom:1)&&V.push(new c.default({duration:O.zoomDuration}));if(void 0!==O.keyboard?O.keyboard:1)V.push(new l.default),V.push(new f.default({delta:O.zoomDelta,duration:O.zoomDuration}));(void 0!==O.mouseWheelZoom?O.mouseWheelZoom:1)&&V.push(new d.default({onFocusOnly:O.onFocusOnly,duration:O.zoomDuration}));(void 0!==O.shiftDragZoom?O.shiftDragZoom:1)&&V.push(new m.default({duration:O.zoomDuration}));return V};
Object.defineProperty(B,"DoubleClickZoom",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(B,"DragPan",{enumerable:!0,get:function(){return A.default}});Object.defineProperty(B,"DragRotate",{enumerable:!0,get:function(){return u.default}});Object.defineProperty(B,"DragZoom",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(B,"KeyboardPan",{enumerable:!0,get:function(){return l.default}});Object.defineProperty(B,"KeyboardZoom",{enumerable:!0,get:function(){return f.default}});
Object.defineProperty(B,"MouseWheelZoom",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(B,"PinchRotate",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(B,"PinchZoom",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(B,"DragAndDrop",{enumerable:!0,get:function(){return a.default}});Object.defineProperty(B,"DragBox",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(B,"DragRotateAndZoom",{enumerable:!0,get:function(){return t.default}});
Object.defineProperty(B,"Draw",{enumerable:!0,get:function(){return y.default}});Object.defineProperty(B,"Extent",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(B,"Interaction",{enumerable:!0,get:function(){return E.default}});Object.defineProperty(B,"Modify",{enumerable:!0,get:function(){return F.default}});Object.defineProperty(B,"Pointer",{enumerable:!0,get:function(){return w.default}});Object.defineProperty(B,"Select",{enumerable:!0,get:function(){return D.default}});
Object.defineProperty(B,"Snap",{enumerable:!0,get:function(){return G.default}});Object.defineProperty(B,"Translate",{enumerable:!0,get:function(){return L.default}});var k=v(z(101)),p=v(z(165)),A=v(z(168)),u=v(z(169)),m=v(z(172)),l=v(z(174)),f=v(z(175)),g=v(z(176)),d=v(z(177)),b=v(z(178)),c=v(z(179)),a=v(z(181)),e=v(z(171)),t=v(z(182)),y=v(z(237)),q=v(z(238)),E=v(z(164)),F=v(z(239)),w=v(z(166)),D=v(z(240)),G=v(z(241)),L=v(z(242))};
shadow$provide[244]=function(ra,z,cb,B){function v(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(99));ra=v(z(149));var p=z(81),A=z(162),u=z(243),m=function(){var l=function(f,g){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}if("function"!==
typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();z=function(l){function f(g){g=(0,p.assign)({},g);g.controls||(g.controls=(0,A.defaults)());g.interactions||(g.interactions=(0,u.defaults)({onFocusOnly:!0}));return l.call(this,g)||this}m(f,l);f.prototype.createRenderer=function(){return new k.default(this)};return f}(ra.default);B.default=z};
shadow$provide[245]=function(ra,z,cb,B){function v(f){return f&&f.__esModule?f:{default:f}}function k(f){for(var g=[],d=0,b=f.length;d<b;++d)g.push(f[d].clone());return g}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=v(z(83));ra=v(z(131));var A=v(z(113)),u=z(75),m=z(84),l=function(){var f=function(g,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};
return f(g,d)};return function(g,d){function b(){this.constructor=g}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(g,d);g.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}();z=function(f){function g(d){var b=f.call(this)||this;b.geometries_=d?d:null;b.changeEventsKeys_=[];b.listenGeometriesChange_();return b}l(g,f);g.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(m.unlistenByKey);
this.changeEventsKeys_.length=0};g.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var d=0,b=this.geometries_.length;d<b;++d)this.changeEventsKeys_.push((0,m.listen)(this.geometries_[d],p.default.CHANGE,this.changed,this))};g.prototype.clone=function(){var d=new g(null);d.setGeometries(this.geometries_);d.applyProperties(this);return d};g.prototype.closestPointXY=function(d,b,c,a){if(a<(0,u.closestSquaredDistanceXY)(this.getExtent(),d,b))return a;for(var e=this.geometries_,t=
0,y=e.length;t<y;++t)a=e[t].closestPointXY(d,b,c,a);return a};g.prototype.containsXY=function(d,b){for(var c=this.geometries_,a=0,e=c.length;a<e;++a)if(c[a].containsXY(d,b))return!0;return!1};g.prototype.computeExtent=function(d){(0,u.createOrUpdateEmpty)(d);for(var b=this.geometries_,c=0,a=b.length;c<a;++c)(0,u.extend)(d,b[c].getExtent());return d};g.prototype.getGeometries=function(){return k(this.geometries_)};g.prototype.getGeometriesArray=function(){return this.geometries_};g.prototype.getGeometriesArrayRecursive=
function(){for(var d=[],b=this.geometries_,c=0,a=b.length;c<a;++c)b[c].getType()===this.getType()?d=d.concat(b[c].getGeometriesArrayRecursive()):d.push(b[c]);return d};g.prototype.getSimplifiedGeometry=function(d){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>d||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&d<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var b=[],
c=this.geometries_,a=!1,e=0,t=c.length;e<t;++e){var y=c[e],q=y.getSimplifiedGeometry(d);b.push(q);q!==y&&(a=!0)}if(a)return d=new g(null),d.setGeometriesArray(b),d;this.simplifiedGeometryMaxMinSquaredTolerance=d;return this};g.prototype.getType=function(){return A.default.GEOMETRY_COLLECTION};g.prototype.intersectsExtent=function(d){for(var b=this.geometries_,c=0,a=b.length;c<a;++c)if(b[c].intersectsExtent(d))return!0;return!1};g.prototype.isEmpty=function(){return 0===this.geometries_.length};g.prototype.rotate=
function(d,b){for(var c=this.geometries_,a=0,e=c.length;a<e;++a)c[a].rotate(d,b);this.changed()};g.prototype.scale=function(d,b,c){c||(c=(0,u.getCenter)(this.getExtent()));for(var a=this.geometries_,e=0,t=a.length;e<t;++e)a[e].scale(d,b,c);this.changed()};g.prototype.setGeometries=function(d){this.setGeometriesArray(k(d))};g.prototype.setGeometriesArray=function(d){this.unlistenGeometriesChange_();this.geometries_=d;this.listenGeometriesChange_();this.changed()};g.prototype.applyTransform=function(d){for(var b=
this.geometries_,c=0,a=b.length;c<a;++c)b[c].applyTransform(d);this.changed()};g.prototype.translate=function(d,b){for(var c=this.geometries_,a=0,e=c.length;a<e;++a)c[a].translate(d,b);this.changed()};g.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();f.prototype.disposeInternal.call(this)};return g}(ra.default);B.default=z};
shadow$provide[246]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.transformGeometryWithOptions=function(u,m,l){var f=l?(0,A.get)(l.featureProjection):null,g=l?(0,A.get)(l.dataProjection):null;f=f&&g&&!(0,A.equivalent)(f,g)?(m?u.clone():u).transform(m?f:g,m?g:f):u;if(m&&l&&void 0!==l.decimals){var d=Math.pow(10,l.decimals);f===u&&(f=u.clone());f.applyTransform(function(b){for(var c=0,a=b.length;c<a;++c)b[c]=Math.round(b[c]*d)/d;return b})}return f};B.transformExtentWithOptions=
function(u,m){var l=m?(0,A.get)(m.featureProjection):null;m=m?(0,A.get)(m.dataProjection):null;return l&&m&&!(0,A.equivalent)(l,m)?(0,A.transformExtent)(u,m,l):u};B.default=void 0;var v=function(u){return u&&u.__esModule?u:{default:u}}(z(114)),k=z(68),p=z(81),A=z(124);ra=function(){function u(){this.defaultFeatureProjection=this.dataProjection=void 0;this.supportedMediaTypes=null}u.prototype.getReadOptions=function(m,l){if(l){m=l.dataProjection?(0,A.get)(l.dataProjection):this.readProjection(m);l.extent&&
m&&m.getUnits()===v.default.TILE_PIXELS&&(m=(0,A.get)(m),m.setWorldExtent(l.extent));var f={dataProjection:m,featureProjection:l.featureProjection}}return this.adaptOptions(f)};u.prototype.adaptOptions=function(m){return(0,p.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},m)};u.prototype.getType=function(){return(0,k.abstract)()};u.prototype.readFeature=function(m,l){return(0,k.abstract)()};u.prototype.readFeatures=function(m,l){return(0,k.abstract)()};
u.prototype.readGeometry=function(m,l){return(0,k.abstract)()};u.prototype.readProjection=function(m){return(0,k.abstract)()};u.prototype.writeFeature=function(m,l){return(0,k.abstract)()};u.prototype.writeFeatures=function(m,l){return(0,k.abstract)()};u.prototype.writeGeometry=function(m,l){return(0,k.abstract)()};return u}();B.default=ra};
shadow$provide[247]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}function k(m){return"string"===typeof m?m:""}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(246));var p=v(z(180)),A=z(68),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=
l}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(){return m.call(this)||this}u(l,m);l.prototype.getType=function(){return p.default.TEXT};l.prototype.readFeature=function(f,g){return this.readFeatureFromText(k(f),this.adaptOptions(g))};l.prototype.readFeatureFromText=function(f,g){return(0,A.abstract)()};l.prototype.readFeatures=
function(f,g){return this.readFeaturesFromText(k(f),this.adaptOptions(g))};l.prototype.readFeaturesFromText=function(f,g){return(0,A.abstract)()};l.prototype.readGeometry=function(f,g){return this.readGeometryFromText(k(f),this.adaptOptions(g))};l.prototype.readGeometryFromText=function(f,g){return(0,A.abstract)()};l.prototype.readProjection=function(f){return this.readProjectionFromText(k(f))};l.prototype.readProjectionFromText=function(f){return this.dataProjection};l.prototype.writeFeature=function(f,
g){return this.writeFeatureText(f,this.adaptOptions(g))};l.prototype.writeFeatureText=function(f,g){return(0,A.abstract)()};l.prototype.writeFeatures=function(f,g){return this.writeFeaturesText(f,this.adaptOptions(g))};l.prototype.writeFeaturesText=function(f,g){return(0,A.abstract)()};l.prototype.writeGeometry=function(f,g){return this.writeGeometryText(f,this.adaptOptions(g))};l.prototype.writeGeometryText=function(f,g){return(0,A.abstract)()};return l}(ra.default);B.default=z};
shadow$provide[248]=function(ra,z,cb,B){function v(G){return G&&G.__esModule?G:{default:G}}function k(G){G=G.getCoordinates();return 0===G.length?"":G.join(" ")}function p(G){G=G.getCoordinates();for(var L=[],O=0,V=G.length;O<V;++O)L.push(G[O].join(" "));return L.join(",")}function A(G){var L=[];G=G.getLinearRings();for(var O=0,V=G.length;O<V;++O)L.push("("+p(G[O])+")");return L.join(",")}function u(G){var L=G.getType(),O=(0,D[L])(G);L=L.toUpperCase();if("function"===typeof G.getFlatCoordinates){G=
G.getLayout();var V="";if(G===f.default.XYZ||G===f.default.XYZM)V+="Z";if(G===f.default.XYM||G===f.default.XYZM)V+="M";G=V;0<G.length&&(L+=" "+G)}return 0===O.length?L+" EMPTY":L+"("+O+")"}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var m=v(z(184)),l=v(z(245)),f=v(z(129)),g=v(z(113));ra=v(z(187));cb=v(z(188));var d=v(z(189)),b=v(z(191)),c=v(z(139)),a=v(z(146)),e=v(z(247)),t=z(246),y=function(){var G=function(L,O){G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,
S){V.__proto__=S}||function(V,S){for(var ca in S)Object.prototype.hasOwnProperty.call(S,ca)&&(V[ca]=S[ca])};return G(L,O)};return function(L,O){function V(){this.constructor=L}if("function"!==typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");G(L,O);L.prototype=null===O?Object.create(O):(V.prototype=O.prototype,new V)}}(),q={POINT:c.default,LINESTRING:ra.default,POLYGON:a.default,MULTIPOINT:d.default,MULTILINESTRING:cb.default,MULTIPOLYGON:b.default},
E;for(E in g.default)g.default[E].toUpperCase();var F=function(){function G(L){this.wkt=L;this.index_=-1}G.prototype.isAlpha_=function(L){return"a"<=L&&"z">=L||"A"<=L&&"Z">=L};G.prototype.isNumeric_=function(L,O){return"0"<=L&&"9">=L||"."==L&&!(void 0!==O&&O)};G.prototype.isWhiteSpace_=function(L){return" "==L||"\t"==L||"\r"==L||"\n"==L};G.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};G.prototype.nextToken=function(){var L=this.nextChar_(),O=this.index_,V=L;if("("==L)L=2;else if(","==
L)L=5;else if(")"==L)L=3;else if(this.isNumeric_(L)||"-"==L)L=4,V=this.readNumber_();else if(this.isAlpha_(L))L=1,V=this.readText_();else{if(this.isWhiteSpace_(L))return this.nextToken();if(""===L)L=6;else throw Error("Unexpected character: "+L);}return{position:O,value:V,type:L}};G.prototype.readNumber_=function(){var L=this.index_,O=!1,V=!1;do{if("."==S)O=!0;else if("e"==S||"E"==S)V=!0;var S=this.nextChar_()}while(this.isNumeric_(S,O)||!V&&("e"==S||"E"==S)||V&&("-"==S||"+"==S));return parseFloat(this.wkt.substring(L,
this.index_--))};G.prototype.readText_=function(){var L=this.index_;do var O=this.nextChar_();while(this.isAlpha_(O));return this.wkt.substring(L,this.index_--).toUpperCase()};return G}(),w=function(){function G(L){this.lexer_=L;this.token_={position:0,type:0};this.layout_=f.default.XY}G.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};G.prototype.isTokenType=function(L){return this.token_.type==L};G.prototype.match=function(L){(L=this.isTokenType(L))&&this.consume_();return L};
G.prototype.parse=function(){this.consume_();return this.parseGeometry_()};G.prototype.parseGeometryLayout_=function(){var L=f.default.XY,O=this.token_;this.isTokenType(1)&&(O=O.value,"Z"===O?L=f.default.XYZ:"M"===O?L=f.default.XYM:"ZM"===O&&(L=f.default.XYZM),L!==f.default.XY&&this.consume_());return L};G.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var L=[];do L.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return L}throw Error(this.formatErrorMessage_());
};G.prototype.parsePointText_=function(){if(this.match(2)){var L=this.parsePoint_();if(this.match(3))return L}throw Error(this.formatErrorMessage_());};G.prototype.parseLineStringText_=function(){if(this.match(2)){var L=this.parsePointList_();if(this.match(3))return L}throw Error(this.formatErrorMessage_());};G.prototype.parsePolygonText_=function(){if(this.match(2)){var L=this.parseLineStringTextList_();if(this.match(3))return L}throw Error(this.formatErrorMessage_());};G.prototype.parseMultiPointText_=
function(){if(this.match(2)){var L=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return L}throw Error(this.formatErrorMessage_());};G.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var L=this.parseLineStringTextList_();if(this.match(3))return L}throw Error(this.formatErrorMessage_());};G.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var L=this.parsePolygonTextList_();if(this.match(3))return L}throw Error(this.formatErrorMessage_());
};G.prototype.parsePoint_=function(){for(var L=[],O=this.layout_.length,V=0;V<O;++V){var S=this.token_;if(this.match(4))L.push(S.value);else break}if(L.length==O)return L;throw Error(this.formatErrorMessage_());};G.prototype.parsePointList_=function(){for(var L=[this.parsePoint_()];this.match(5);)L.push(this.parsePoint_());return L};G.prototype.parsePointTextList_=function(){for(var L=[this.parsePointText_()];this.match(5);)L.push(this.parsePointText_());return L};G.prototype.parseLineStringTextList_=
function(){for(var L=[this.parseLineStringText_()];this.match(5);)L.push(this.parseLineStringText_());return L};G.prototype.parsePolygonTextList_=function(){for(var L=[this.parsePolygonText_()];this.match(5);)L.push(this.parsePolygonText_());return L};G.prototype.isEmptyGeometry_=function(){var L=this.isTokenType(1)&&"EMPTY"==this.token_.value;L&&this.consume_();return L};G.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+
this.lexer_.wkt+"`"};G.prototype.parseGeometry_=function(){var L=this.token_;if(this.match(1)){L=L.value;this.layout_=this.parseGeometryLayout_();var O=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==L){if(O)return new l.default([]);L=this.parseGeometryCollectionText_();return new l.default(L)}var V=q[L];if(!V)throw Error("Invalid geometry type: "+L);var S=void 0;if(O)S="POINT"==L?[NaN,NaN]:[];else switch(L){case "POINT":S=this.parsePointText_();break;case "LINESTRING":S=this.parseLineStringText_();
break;case "POLYGON":S=this.parsePolygonText_();break;case "MULTIPOINT":S=this.parseMultiPointText_();break;case "MULTILINESTRING":S=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":S=this.parseMultiPolygonText_()}return new V(S,this.layout_)}throw Error(this.formatErrorMessage_());};return G}();z=function(G){function L(O){var V=G.call(this)||this;O=O?O:{};V.splitCollection_=void 0!==O.splitCollection?O.splitCollection:!1;return V}y(L,G);L.prototype.parse_=function(O){O=new F(O);return(new w(O)).parse()};
L.prototype.readFeatureFromText=function(O,V){O=this.readGeometryFromText(O,V);V=new m.default;V.setGeometry(O);return V};L.prototype.readFeaturesFromText=function(O,V){O=this.readGeometryFromText(O,V);O=this.splitCollection_&&O.getType()==g.default.GEOMETRY_COLLECTION?O.getGeometriesArray():[O];V=[];for(var S=0,ca=O.length;S<ca;++S){var ea=new m.default;ea.setGeometry(O[S]);V.push(ea)}return V};L.prototype.readGeometryFromText=function(O,V){O=this.parse_(O);return(0,t.transformGeometryWithOptions)(O,
!1,V)};L.prototype.writeFeatureText=function(O,V){return(O=O.getGeometry())?this.writeGeometryText(O,V):""};L.prototype.writeFeaturesText=function(O,V){if(1==O.length)return this.writeFeatureText(O[0],V);for(var S=[],ca=0,ea=O.length;ca<ea;++ca)S.push(O[ca].getGeometry());O=new l.default(S);return this.writeGeometryText(O,V)};L.prototype.writeGeometryText=function(O,V){return u((0,t.transformGeometryWithOptions)(O,!0,V))};return L}(e.default);var D={Point:k,LineString:p,Polygon:A,MultiPoint:function(G){var L=
[];G=G.getPoints();for(var O=0,V=G.length;O<V;++O)L.push("("+k(G[O])+")");return L.join(",")},MultiLineString:function(G){var L=[];G=G.getLineStrings();for(var O=0,V=G.length;O<V;++O)L.push("("+p(G[O])+")");return L.join(",")},MultiPolygon:function(G){var L=[];G=G.getPolygons();for(var O=0,V=G.length;O<V;++O)L.push("("+A(G[O])+")");return L.join(",")},GeometryCollection:function(G){var L=[];G=G.getGeometries();for(var O=0,V=G.length;O<V;++O)L.push(u(G[O]));return L.join(",")}};B.default=z};
shadow$provide[249]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var v=z(71);ra=function(){function k(p){this.highWaterMark=void 0!==p?p:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}k.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark};k.prototype.expireCache=function(p){for(;this.canExpireCache();)this.pop()};k.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=
null};k.prototype.containsKey=function(p){return this.entries_.hasOwnProperty(p)};k.prototype.forEach=function(p){for(var A=this.oldest_;A;)p(A.value_,A.key_,this),A=A.newer};k.prototype.get=function(p,A){p=this.entries_[p];(0,v.assert)(void 0!==p,15);if(p===this.newest_)return p.value_;p===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(p.newer.older=p.older,p.older.newer=p.newer);p.newer=null;p.older=this.newest_;this.newest_=this.newest_.newer=p;return p.value_};k.prototype.remove=
function(p){var A=this.entries_[p];(0,v.assert)(void 0!==A,15);if(A===this.newest_){if(this.newest_=A.older)this.newest_.newer=null}else if(A===this.oldest_){if(this.oldest_=A.newer)this.oldest_.older=null}else A.newer.older=A.older,A.older.newer=A.newer;delete this.entries_[p];--this.count_;return A.value_};k.prototype.getCount=function(){return this.count_};k.prototype.getKeys=function(){var p=Array(this.count_),A=0,u;for(u=this.newest_;u;u=u.older)p[A++]=u.key_;return p};k.prototype.getValues=
function(){var p=Array(this.count_),A=0,u;for(u=this.newest_;u;u=u.older)p[A++]=u.value_;return p};k.prototype.peekLast=function(){return this.oldest_.value_};k.prototype.peekLastKey=function(){return this.oldest_.key_};k.prototype.peekFirstKey=function(){return this.newest_.key_};k.prototype.pop=function(){var p=this.oldest_;delete this.entries_[p.key_];p.newer&&(p.newer.older=null);this.oldest_=p.newer;this.oldest_||(this.newest_=null);--this.count_;return p.value_};k.prototype.replace=function(p,
A){this.get(p);this.entries_[p].value_=A};k.prototype.set=function(p,A){(0,v.assert)(!(p in this.entries_),16);A={key_:p,newer:null,older:this.newest_,value_:A};this.newest_?this.newest_.newer=A:this.oldest_=A;this.newest_=A;this.entries_[p]=A;++this.count_};k.prototype.setSize=function(p){this.highWaterMark=p};return k}();B.default=ra};
shadow$provide[250]=function(ra,z,cb,B){function v(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(82));var k=v(z(83)),p=v(z(111)),A=z(68),u=z(128),m=function(){var l=function(f,g){l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(d[c]=b[c])};return l(f,g)};return function(f,g){function d(){this.constructor=f}if("function"!==
typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");l(f,g);f.prototype=null===g?Object.create(g):(d.prototype=g.prototype,new d)}}();z=function(l){function f(g,d,b){var c=l.call(this)||this;b=b?b:{};c.tileCoord=g;c.state=d;c.interimTile=null;c.key="";c.transition_=void 0===b.transition?250:b.transition;c.transitionStarts_={};c.interpolate=!!b.interpolate;return c}m(f,l);f.prototype.changed=function(){this.dispatchEvent(k.default.CHANGE)};f.prototype.release=
function(){};f.prototype.getKey=function(){return this.key+"/"+this.tileCoord};f.prototype.getInterimTile=function(){if(!this.interimTile)return this;var g=this.interimTile;do{if(g.getState()==p.default.LOADED)return this.transition_=0,g;g=g.interimTile}while(g);return this};f.prototype.refreshInterimChain=function(){if(this.interimTile){var g=this.interimTile,d=this;do{if(g.getState()==p.default.LOADED){g.interimTile=null;break}else g.getState()==p.default.LOADING?d=g:g.getState()==p.default.IDLE?
d.interimTile=g.interimTile:d=g;g=d.interimTile}while(g)}};f.prototype.getTileCoord=function(){return this.tileCoord};f.prototype.getState=function(){return this.state};f.prototype.setState=function(g){if(this.state!==p.default.ERROR&&this.state>g)throw Error("Tile load sequence violation");this.state=g;this.changed()};f.prototype.load=function(){(0,A.abstract)()};f.prototype.getAlpha=function(g,d){if(!this.transition_)return 1;var b=this.transitionStarts_[g];if(!b)b=d,this.transitionStarts_[g]=b;
else if(-1===b)return 1;g=d-b+1E3/60;return g>=this.transition_?1:(0,u.easeIn)(g/this.transition_)};f.prototype.inTransition=function(g){return this.transition_?-1!==this.transitionStarts_[g]:!1};f.prototype.endTransition=function(g){this.transition_&&(this.transitionStarts_[g]=-1)};return f}(ra.default);B.default=z};
shadow$provide[251]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(250));var k=v(z(111)),p=z(97),A=z(222),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(f,g,d,b,c,a){f=m.call(this,f,g,a)||this;f.crossOrigin_=b;f.src_=d;f.key=d;f.image_=new Image;null!==b&&(f.image_.crossOrigin=b);f.unlisten_=null;f.tileLoadFunction_=c;return f}u(l,m);l.prototype.getImage=function(){return this.image_};l.prototype.setImage=function(f){this.image_=f;this.state=k.default.LOADED;
this.unlistenImage_();this.changed()};l.prototype.handleImageError_=function(){this.state=k.default.ERROR;this.unlistenImage_();var f=(0,p.createCanvasContext2D)(1,1);f.fillStyle="rgba(0,0,0,0)";f.fillRect(0,0,1,1);this.image_=f.canvas;this.changed()};l.prototype.handleImageLoad_=function(){var f=this.image_;this.state=f.naturalWidth&&f.naturalHeight?k.default.LOADED:k.default.EMPTY;this.unlistenImage_();this.changed()};l.prototype.load=function(){this.state==k.default.ERROR&&(this.state=k.default.IDLE,
this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));this.state==k.default.IDLE&&(this.state=k.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,A.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))};l.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return l}(ra.default);B.default=z};
shadow$provide[252]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.ERROR_THRESHOLD=.5;B.ENABLE_RASTER_REPROJECTION=!0};
shadow$provide[253]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var v=z(75),k=z(124),p=z(76);ra=function(){function A(u,m,l,f,g,d){this.sourceProj_=u;this.targetProj_=m;var b={},c=(0,k.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(E){var F=E[0]+"/"+E[1];b[F]||(b[F]=c(E));return b[F]};this.maxSourceExtent_=f;this.errorThresholdSquared_=g*g;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!f&&!!this.sourceProj_.getExtent()&&(0,v.getWidth)(f)==(0,v.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,v.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,v.getWidth)(this.targetProj_.getExtent()):null;u=(0,v.getTopLeft)(l);m=(0,v.getTopRight)(l);f=(0,v.getBottomRight)(l);g=(0,v.getBottomLeft)(l);var a=this.transformInv_(u),e=this.transformInv_(m),t=this.transformInv_(f),y=this.transformInv_(g);
l=10+(d?Math.max(0,Math.ceil((0,p.log2)((0,v.getArea)(l)/(d*d*65536)))):0);this.addQuad_(u,m,f,g,a,e,t,y,l);if(this.wrapsXInSource_){var q=Infinity;this.triangles_.forEach(function(E,F,w){q=Math.min(q,E.source[0][0],E.source[1][0],E.source[2][0])});this.triangles_.forEach(function(E){if(Math.max(E.source[0][0],E.source[1][0],E.source[2][0])-q>this.sourceWorldWidth_/2){var F=[[E.source[0][0],E.source[0][1]],[E.source[1][0],E.source[1][1]],[E.source[2][0],E.source[2][1]]];F[0][0]-q>this.sourceWorldWidth_/
2&&(F[0][0]-=this.sourceWorldWidth_);F[1][0]-q>this.sourceWorldWidth_/2&&(F[1][0]-=this.sourceWorldWidth_);F[2][0]-q>this.sourceWorldWidth_/2&&(F[2][0]-=this.sourceWorldWidth_);Math.max(F[0][0],F[1][0],F[2][0])-Math.min(F[0][0],F[1][0],F[2][0])<this.sourceWorldWidth_/2&&(E.source=F)}}.bind(this))}b={}}A.prototype.addTriangle_=function(u,m,l,f,g,d){this.triangles_.push({source:[f,g,d],target:[u,m,l]})};A.prototype.addQuad_=function(u,m,l,f,g,d,b,c,a){var e=(0,v.boundingExtent)([g,d,b,c]),t=this.sourceWorldWidth_?
(0,v.getWidth)(e)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,q=this.sourceProj_.canWrapX()&&.5<t&&1>t,E=!1;if(0<a){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var F=(0,v.boundingExtent)([u,m,l,f]);E=.25<(0,v.getWidth)(F)/this.targetWorldWidth_||E}!q&&this.sourceProj_.isGlobal()&&t&&(E=.25<t||E)}if(E||!this.maxSourceExtent_||!(isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])&&isFinite(e[3]))||(0,v.intersects)(e,this.maxSourceExtent_)){e=0;if(!(E||isFinite(g[0])&&isFinite(g[1])&&
isFinite(d[0])&&isFinite(d[1])&&isFinite(b[0])&&isFinite(b[1])&&isFinite(c[0])&&isFinite(c[1])))if(0<a)E=!0;else if(e=(isFinite(g[0])&&isFinite(g[1])?0:8)+(isFinite(d[0])&&isFinite(d[1])?0:4)+(isFinite(b[0])&&isFinite(b[1])?0:2)+(isFinite(c[0])&&isFinite(c[1])?0:1),1!=e&&2!=e&&4!=e&&8!=e)return;if(0<a&&(E||(E=this.transformInv_([(u[0]+l[0])/2,(u[1]+l[1])/2]),y=q?((0,p.modulo)(g[0],y)+(0,p.modulo)(b[0],y))/2-(0,p.modulo)(E[0],y):(g[0]+b[0])/2-E[0],E=(g[1]+b[1])/2-E[1],E=y*y+E*E>this.errorThresholdSquared_),
E)){Math.abs(u[0]-l[0])<=Math.abs(u[1]-l[1])?(q=[(m[0]+l[0])/2,(m[1]+l[1])/2],y=this.transformInv_(q),E=[(f[0]+u[0])/2,(f[1]+u[1])/2],e=this.transformInv_(E),this.addQuad_(u,m,q,E,g,d,y,e,a-1),this.addQuad_(E,q,l,f,e,y,b,c,a-1)):(q=[(u[0]+m[0])/2,(u[1]+m[1])/2],y=this.transformInv_(q),E=[(l[0]+f[0])/2,(l[1]+f[1])/2],e=this.transformInv_(E),this.addQuad_(u,q,E,f,g,y,e,c,a-1),this.addQuad_(q,m,l,E,y,d,b,e,a-1));return}if(q){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(e&11)&&this.addTriangle_(u,
l,f,g,b,c);0==(e&14)&&this.addTriangle_(u,l,m,g,b,d);e&&(0==(e&13)&&this.addTriangle_(m,f,u,d,c,g),0==(e&7)&&this.addTriangle_(m,f,l,d,c,b))}};A.prototype.calculateSourceExtent=function(){var u=(0,v.createEmpty)();this.triangles_.forEach(function(m,l,f){m=m.source;(0,v.extendCoordinate)(u,m[0]);(0,v.extendCoordinate)(u,m[1]);(0,v.extendCoordinate)(u,m[2])});return u};A.prototype.getTriangles=function(){return this.triangles_};return A}();B.default=ra};
shadow$provide[254]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};B.IMAGE_SMOOTHING_ENABLED={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0}};
shadow$provide[255]=function(ra,z,cb,B){function v(b,c,a,e,t){b.beginPath();b.moveTo(0,0);b.lineTo(c,a);b.lineTo(e,t);b.closePath();b.save();b.clip();b.fillRect(0,0,Math.max(c,e)+1,Math.max(a,t));b.restore()}function k(b,c){return 2<Math.abs(b[4*c]-210)||2<Math.abs(b[4*c+3]-191.25)}function p(b,c,a,e){var t=(0,f.transform)(a,c,b);a=(0,f.getPointResolution)(c,e,a);c=c.getMetersPerUnit();void 0!==c&&(a*=c);c=b.getMetersPerUnit();void 0!==c&&(a/=c);c=b.getExtent();if(!c||(0,m.containsCoordinate)(c,t))b=
(0,f.getPointResolution)(b,a,t)/a,isFinite(b)&&0<b&&(a/=b);return a}Object.defineProperty(B,"__esModule",{value:!0});B.calculateSourceResolution=p;B.calculateSourceExtentResolution=function(b,c,a,e){var t=(0,m.getCenter)(a),y=p(b,c,t,e);(!isFinite(y)||0>=y)&&(0,m.forEachCorner)(a,function(q){y=p(b,c,q,e);return isFinite(y)&&0<y});return y};B.render=function(b,c,a,e,t,y,q,E,F,w,D,G){function L(T){return Math.round(T*a)/a}var O=(0,l.createCanvasContext2D)(Math.round(a*b),Math.round(a*c));G||(0,u.assign)(O,
A.IMAGE_SMOOTHING_DISABLED);if(0===F.length)return O.canvas;O.scale(a,a);O.globalCompositeOperation="lighter";var V=(0,m.createEmpty)();F.forEach(function(T,R,J){(0,m.extend)(V,T.extent)});b=(0,m.getWidth)(V);c=(0,m.getHeight)(V);var S=(0,l.createCanvasContext2D)(Math.round(a*b/e),Math.round(a*c/e));G||(0,u.assign)(S,A.IMAGE_SMOOTHING_DISABLED);var ca=a/e;F.forEach(function(T,R,J){R=T.extent[0]-V[0];J=-(T.extent[3]-V[3]);var r=(0,m.getWidth)(T.extent),C=(0,m.getHeight)(T.extent);0<T.image.width&&
0<T.image.height&&S.drawImage(T.image,w,w,T.image.width-2*w,T.image.height-2*w,R*ca,J*ca,r*ca,C*ca)});var ea=(0,m.getTopLeft)(q);E.getTriangles().forEach(function(T,R,J){J=T.source;var r=T.target;T=J[0][0];R=J[0][1];var C=J[1][0],N=J[1][1],U=J[2][0],ja=J[2][1];J=L((r[0][0]-ea[0])/y);var ba=L(-(r[0][1]-ea[1])/y),ia=L((r[1][0]-ea[0])/y),za=L(-(r[1][1]-ea[1])/y),Wa=L((r[2][0]-ea[0])/y);r=L(-(r[2][1]-ea[1])/y);C-=T;N-=R;U-=T;ja-=R;if(C=(0,g.solveLinearSystem)([[C,N,0,0,ia-J],[U,ja,0,0,Wa-J],[0,0,C,N,
za-ba],[0,0,U,ja,r-ba]])){O.save();O.beginPath();void 0===d&&(N=document.createElement("canvas").getContext("2d"),N.globalCompositeOperation="lighter",N.fillStyle="rgba(210, 0, 0, 0.75)",v(N,4,5,4,0),v(N,4,5,0,5),N=N.getImageData(0,0,3,3).data,d=k(N,0)||k(N,4)||k(N,8));if(d||!G)for(O.moveTo(ia,za),N=J-ia,U=ba-za,ja=0;4>ja;ja++)O.lineTo(ia+L((ja+1)*N/4),za+L(ja*U/3)),3!=ja&&O.lineTo(ia+L((ja+1)*N/4),za+L((ja+1)*U/3));else O.moveTo(ia,za),O.lineTo(J,ba);O.lineTo(Wa,r);O.clip();O.transform(C[0],C[2],
C[1],C[3],J,ba);O.translate(V[0]-T,V[3]-R);O.scale(e/a,-e/a);O.drawImage(S.canvas,0,0);O.restore()}});D&&(O.save(),O.globalCompositeOperation="source-over",O.strokeStyle="black",O.lineWidth=1,E.getTriangles().forEach(function(T,R,J){var r=T.target;T=(r[0][0]-ea[0])/y;R=-(r[0][1]-ea[1])/y;J=(r[1][0]-ea[0])/y;var C=-(r[1][1]-ea[1])/y,N=(r[2][0]-ea[0])/y;r=-(r[2][1]-ea[1])/y;O.beginPath();O.moveTo(J,C);O.lineTo(T,R);O.lineTo(N,r);O.closePath();O.stroke()}),O.restore());return O.canvas};var A=z(254),
u=z(81),m=z(75),l=z(97),f=z(124),g=z(76),d};
shadow$provide[256]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=z(252),p=v(z(83));ra=v(z(250));var A=v(z(111)),u=v(z(253)),m=z(255),l=z(76),f=z(75),g=z(84),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=
c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a,e,t,y,q,E,F,w,D,G,L,O){O=b.call(this,q,A.default.IDLE,{interpolate:!!O})||this;O.renderEdges_=void 0!==L?L:!1;O.pixelRatio_=F;O.gutter_=w;O.canvas_=null;O.sourceTileGrid_=e;O.targetTileGrid_=y;O.wrappedTileCoord_=E?E:q;O.sourceTiles_=[];O.sourcesListenerKeys_=null;O.sourceZ_=
0;E=y.getTileCoordExtent(O.wrappedTileCoord_);w=O.targetTileGrid_.getExtent();q=O.sourceTileGrid_.getExtent();E=w?(0,f.getIntersection)(E,w):E;if(0===(0,f.getArea)(E))return O.state=A.default.EMPTY,O;(w=a.getExtent())&&(q=q?(0,f.getIntersection)(q,w):w);y=y.getResolution(O.wrappedTileCoord_[0]);w=(0,m.calculateSourceExtentResolution)(a,t,E,y);if(!isFinite(w)||0>=w)return O.state=A.default.EMPTY,O;O.triangulation_=new u.default(a,t,E,q,w*(void 0!==G?G:k.ERROR_THRESHOLD),y);if(0===O.triangulation_.getTriangles().length)return O.state=
A.default.EMPTY,O;O.sourceZ_=e.getZForResolution(w);t=O.triangulation_.calculateSourceExtent();q&&(a.canWrapX()?(t[1]=(0,l.clamp)(t[1],q[1],q[3]),t[3]=(0,l.clamp)(t[3],q[1],q[3])):t=(0,f.getIntersection)(t,q));if((0,f.getArea)(t)){a=e.getTileRangeForExtentAndZ(t,O.sourceZ_);for(e=a.minX;e<=a.maxX;e++)for(t=a.minY;t<=a.maxY;t++)(G=D(O.sourceZ_,e,t,F))&&O.sourceTiles_.push(G);0===O.sourceTiles_.length&&(O.state=A.default.EMPTY)}else O.state=A.default.EMPTY;return O}d(c,b);c.prototype.getImage=function(){return this.canvas_};
c.prototype.reproject_=function(){var a=[];this.sourceTiles_.forEach(function(F,w,D){F&&F.getState()==A.default.LOADED&&a.push({extent:this.sourceTileGrid_.getTileCoordExtent(F.tileCoord),image:F.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===a.length)this.state=A.default.ERROR;else{var e=this.wrappedTileCoord_[0],t=this.targetTileGrid_.getTileSize(e),y="number"===typeof t?t:t[0];t="number"===typeof t?t:t[1];e=this.targetTileGrid_.getResolution(e);var q=this.sourceTileGrid_.getResolution(this.sourceZ_),
E=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,m.render)(y,t,this.pixelRatio_,q,this.sourceTileGrid_.getExtent(),e,E,this.triangulation_,a,this.gutter_,this.renderEdges_,this.interpolate);this.state=A.default.LOADED}this.changed()};c.prototype.load=function(){if(this.state==A.default.IDLE){this.state=A.default.LOADING;this.changed();var a=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(e,t,y){t=e.getState();if(t==A.default.IDLE||t==A.default.LOADING){a++;
var q=(0,g.listen)(e,p.default.CHANGE,function(E){E=e.getState();if(E==A.default.LOADED||E==A.default.ERROR||E==A.default.EMPTY)(0,g.unlistenByKey)(q),a--,0===a&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(q)}}.bind(this));0===a?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(e,t,y){e.getState()==A.default.IDLE&&e.load()})}};c.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(g.unlistenByKey);this.sourcesListenerKeys_=
null};return c}(ra.default);B.default=z};
shadow$provide[257]=function(ra,z,cb,B){function v(k,p,A){return k+"/"+p+"/"+A}Object.defineProperty(B,"__esModule",{value:!0});B.createOrUpdate=function(k,p,A,u){return void 0!==u?(u[0]=k,u[1]=p,u[2]=A,u):[k,p,A]};B.getKeyZXY=v;B.getKey=function(k){return v(k[0],k[1],k[2])};B.getCacheKeyForTileKey=function(k){k=k.substring(k.lastIndexOf("/")+1,k.length).split(",").map(Number);return v(k[0],k[1],k[2])};B.fromKey=function(k){return k.split("/").map(Number)};B.hash=function(k){return(k[1]<<k[0])+k[2]};
B.withinExtentAndZ=function(k,p){var A=k[0],u=k[1];k=k[2];return p.getMinZoom()>A||A>p.getMaxZoom()?!1:(p=p.getFullTileRange(A))?p.containsXY(u,k):!0}};
shadow$provide[258]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(p){return p&&p.__esModule?p:{default:p}}(z(249));var v=z(257),k=function(){var p=function(A,u){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,l){m.__proto__=l}||function(m,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(m[f]=l[f])};return p(A,u)};return function(A,u){function m(){this.constructor=A}if("function"!==typeof u&&null!==u)throw new TypeError("Class extends value "+
String(u)+" is not a constructor or null");p(A,u);A.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();z=function(p){function A(){return null!==p&&p.apply(this,arguments)||this}k(A,p);A.prototype.expireCache=function(u){for(;this.canExpireCache()&&!(this.peekLast().getKey()in u);)this.pop().release()};A.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var u=this.peekFirstKey(),m=(0,v.fromKey)(u)[0];this.forEach(function(l){l.tileCoord[0]!==m&&(this.remove((0,v.getKey)(l.tileCoord)),
l.release())}.bind(this))}};return A}(ra.default);B.default=z};
shadow$provide[259]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[260]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.createOrUpdate=function(k,p,A,u,m){return void 0!==m?(m.minX=k,m.maxX=p,m.minY=A,m.maxY=u,m):new v(k,p,A,u)};B.default=void 0;var v=function(){function k(p,A,u,m){this.minX=p;this.maxX=A;this.minY=u;this.maxY=m}k.prototype.contains=function(p){return this.containsXY(p[1],p[2])};k.prototype.containsTileRange=function(p){return this.minX<=p.minX&&p.maxX<=this.maxX&&this.minY<=p.minY&&p.maxY<=this.maxY};k.prototype.containsXY=
function(p,A){return this.minX<=p&&p<=this.maxX&&this.minY<=A&&A<=this.maxY};k.prototype.equals=function(p){return this.minX==p.minX&&this.minY==p.minY&&this.maxX==p.maxX&&this.maxY==p.maxY};k.prototype.extend=function(p){p.minX<this.minX&&(this.minX=p.minX);p.maxX>this.maxX&&(this.maxX=p.maxX);p.minY<this.minY&&(this.minY=p.minY);p.maxY>this.maxY&&(this.maxY=p.maxY)};k.prototype.getHeight=function(){return this.maxY-this.minY+1};k.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};
k.prototype.getWidth=function(){return this.maxX-this.minX+1};k.prototype.intersects=function(p){return this.minX<=p.maxX&&this.maxX>=p.minX&&this.minY<=p.maxY&&this.maxY>=p.minY};return k}();B.default=v};
shadow$provide[261]=function(ra,z,cb,B){function v(b){if("function"!==typeof WeakMap)return null;var c=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:c})(b)}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=function(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!==typeof b&&"function"!==typeof b)return{default:b};if((c=v(c))&&c.has(b))return c.get(b);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,t;for(t in b)if("default"!==t&&Object.prototype.hasOwnProperty.call(b,
t)){var y=e?Object.getOwnPropertyDescriptor(b,t):null;y&&(y.get||y.set)?Object.defineProperty(a,t,y):a[t]=b[t]}a.default=b;c&&c.set(b,a);return a}(z(260)),p=z(117),A=z(71),u=z(76),m=z(75),l=z(257),f=z(66),g=z(148),d=[0,0,0];ra=function(){function b(c){this.minZoom=void 0!==c.minZoom?c.minZoom:0;this.resolutions_=c.resolutions;(0,A.assert)((0,f.isSorted)(this.resolutions_,function(q,E){return E-q},!0),17);if(!c.origins)for(var a=0,e=this.resolutions_.length-1;a<e;++a)if(!t)var t=this.resolutions_[a]/
this.resolutions_[a+1];else if(this.resolutions_[a]/this.resolutions_[a+1]!==t){t=void 0;break}this.zoomFactor_=t;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==c.origin?c.origin:null;this.origins_=null;void 0!==c.origins&&(this.origins_=c.origins,(0,A.assert)(this.origins_.length==this.resolutions_.length,20));var y=c.extent;void 0===y||this.origin_||this.origins_||(this.origin_=(0,m.getTopLeft)(y));(0,A.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=
null;void 0!==c.tileSizes&&(this.tileSizes_=c.tileSizes,(0,A.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==c.tileSize?c.tileSize:this.tileSizes_?null:p.DEFAULT_TILE_SIZE;(0,A.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=void 0!==y?y:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];this.tmpExtent_=[0,0,0,0];void 0!==c.sizes?this.fullTileRanges_=c.sizes.map(function(q,E){q=new k.default(Math.min(0,q[0]),Math.max(q[0]-
1,-1),Math.min(0,q[1]),Math.max(q[1]-1,-1));y&&(E=this.getTileRangeForExtentAndZ(y,E),q.minX=Math.max(E.minX,q.minX),q.maxX=Math.min(E.maxX,q.maxX),q.minY=Math.max(E.minY,q.minY),q.maxY=Math.min(E.maxY,q.maxY));return q},this):y&&this.calculateTileRanges_(y)}b.prototype.forEachTileCoord=function(c,a,e){c=this.getTileRangeForExtentAndZ(c,a);for(var t=c.minX,y=c.maxX;t<=y;++t)for(var q=c.minY,E=c.maxY;q<=E;++q)e([a,t,q])};b.prototype.forEachTileCoordParentTileRange=function(c,a,e,t){var y=null,q=c[0]-
1;if(2===this.zoomFactor_){var E=c[1];var F=c[2]}else y=this.getTileCoordExtent(c,t);for(;q>=this.minZoom;){2===this.zoomFactor_?(E=Math.floor(E/2),F=Math.floor(F/2),c=(0,k.createOrUpdate)(E,E,F,F,e)):c=this.getTileRangeForExtentAndZ(y,q,e);if(a(q,c))return!0;--q}return!1};b.prototype.getExtent=function(){return this.extent_};b.prototype.getMaxZoom=function(){return this.maxZoom};b.prototype.getMinZoom=function(){return this.minZoom};b.prototype.getOrigin=function(c){return this.origin_?this.origin_:
this.origins_[c]};b.prototype.getResolution=function(c){return this.resolutions_[c]};b.prototype.getResolutions=function(){return this.resolutions_};b.prototype.getTileCoordChildTileRange=function(c,a,e){if(c[0]<this.maxZoom){if(2===this.zoomFactor_)return e=2*c[1],c=2*c[2],(0,k.createOrUpdate)(e,e+1,c,c+1,a);e=this.getTileCoordExtent(c,e||this.tmpExtent_);return this.getTileRangeForExtentAndZ(e,c[0]+1,a)}return null};b.prototype.getTileRangeForTileCoordAndZ=function(c,a,e){if(a>this.maxZoom||a<this.minZoom)return null;
var t=c[0],y=c[1],q=c[2];if(a===t)return(0,k.createOrUpdate)(y,q,y,q,e);if(this.zoomFactor_){c=Math.pow(this.zoomFactor_,a-t);var E=Math.floor(y*c),F=Math.floor(q*c);return a<t?(0,k.createOrUpdate)(E,E,F,F,e):(0,k.createOrUpdate)(E,Math.floor(c*(y+1))-1,F,Math.floor(c*(q+1))-1,e)}t=this.getTileCoordExtent(c,this.tmpExtent_);return this.getTileRangeForExtentAndZ(t,a,e)};b.prototype.getTileRangeExtent=function(c,a,e){var t=this.getOrigin(c),y=this.getResolution(c);c=(0,g.toSize)(this.getTileSize(c),
this.tmpSize_);return(0,m.createOrUpdate)(t[0]+a.minX*c[0]*y,t[1]+a.minY*c[1]*y,t[0]+(a.maxX+1)*c[0]*y,t[1]+(a.maxY+1)*c[1]*y,e)};b.prototype.getTileRangeForExtentAndZ=function(c,a,e){this.getTileCoordForXYAndZ_(c[0],c[3],a,!1,d);var t=d[1],y=d[2];this.getTileCoordForXYAndZ_(c[2],c[1],a,!0,d);return(0,k.createOrUpdate)(t,d[1],y,d[2],e)};b.prototype.getTileCoordCenter=function(c){var a=this.getOrigin(c[0]),e=this.getResolution(c[0]),t=(0,g.toSize)(this.getTileSize(c[0]),this.tmpSize_);return[a[0]+
(c[1]+.5)*t[0]*e,a[1]-(c[2]+.5)*t[1]*e]};b.prototype.getTileCoordExtent=function(c,a){var e=this.getOrigin(c[0]),t=this.getResolution(c[0]),y=(0,g.toSize)(this.getTileSize(c[0]),this.tmpSize_),q=e[0]+c[1]*y[0]*t;c=e[1]-(c[2]+1)*y[1]*t;return(0,m.createOrUpdate)(q,c,q+y[0]*t,c+y[1]*t,a)};b.prototype.getTileCoordForCoordAndResolution=function(c,a,e){return this.getTileCoordForXYAndResolution_(c[0],c[1],a,!1,e)};b.prototype.getTileCoordForXYAndResolution_=function(c,a,e,t,y){var q=this.getZForResolution(e),
E=e/this.getResolution(q),F=this.getOrigin(q),w=(0,g.toSize)(this.getTileSize(q),this.tmpSize_);c=E*(c-F[0])/e/w[0];a=E*(F[1]-a)/e/w[1];t?(c=(0,u.ceil)(c,5)-1,a=(0,u.ceil)(a,5)-1):(c=(0,u.floor)(c,5),a=(0,u.floor)(a,5));return(0,l.createOrUpdate)(q,c,a,y)};b.prototype.getTileCoordForXYAndZ_=function(c,a,e,t,y){var q=this.getOrigin(e),E=this.getResolution(e),F=(0,g.toSize)(this.getTileSize(e),this.tmpSize_);c=(c-q[0])/E/F[0];a=(q[1]-a)/E/F[1];t?(c=(0,u.ceil)(c,5)-1,a=(0,u.ceil)(a,5)-1):(c=(0,u.floor)(c,
5),a=(0,u.floor)(a,5));return(0,l.createOrUpdate)(e,c,a,y)};b.prototype.getTileCoordForCoordAndZ=function(c,a,e){return this.getTileCoordForXYAndZ_(c[0],c[1],a,!1,e)};b.prototype.getTileCoordResolution=function(c){return this.resolutions_[c[0]]};b.prototype.getTileSize=function(c){return this.tileSize_?this.tileSize_:this.tileSizes_[c]};b.prototype.getFullTileRange=function(c){return this.fullTileRanges_?this.fullTileRanges_[c]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,c):null};b.prototype.getZForResolution=
function(c,a){c=(0,f.linearFindNearest)(this.resolutions_,c,a||0);return(0,u.clamp)(c,this.minZoom,this.maxZoom)};b.prototype.calculateTileRanges_=function(c){for(var a=this.resolutions_.length,e=Array(a),t=this.minZoom;t<a;++t)e[t]=this.getTileRangeForExtentAndZ(c,t);this.fullTileRanges_=e};return b}();B.default=ra};
shadow$provide[262]=function(ra,z,cb,B){function v(a){return a&&a.__esModule?a:{default:a}}function k(a,e,t,y){y=void 0!==y?y:m.default.TOP_LEFT;e=p(a,e,t);return new l.default({extent:a,origin:(0,b.getCorner)(a,y),resolutions:e,tileSize:t})}function p(a,e,t,y){e=void 0!==e?e:g.DEFAULT_MAX_ZOOM;var q=(0,b.getHeight)(a);a=(0,b.getWidth)(a);t=(0,c.toSize)(void 0!==t?t:g.DEFAULT_TILE_SIZE);y=0<y?y:Math.max(a/t[0],q/t[1]);e+=1;t=Array(e);for(q=0;q<e;++q)t[q]=y/Math.pow(2,q);return t}function A(a,e,t,
y){a=u(a);return k(a,e,t,y)}function u(a){a=(0,d.get)(a);var e=a.getExtent();e||(a=180*d.METERS_PER_UNIT[f.default.DEGREES]/a.getMetersPerUnit(),e=(0,b.createOrUpdate)(-a,-a,a,a));return e}Object.defineProperty(B,"__esModule",{value:!0});B.getForProjection=function(a){var e=a.getDefaultTileGrid();e||(e=A(a),a.setDefaultTileGrid(e));return e};B.wrapX=function(a,e,t){var y=e[0],q=a.getTileCoordCenter(e);t=u(t);if((0,b.containsCoordinate)(t,q))return e;e=(0,b.getWidth)(t);q[0]+=e*Math.ceil((t[0]-q[0])/
e);return a.getTileCoordForCoordAndZ(q,y)};B.createForExtent=k;B.createXYZ=function(a){a=a||{};var e=a.extent||(0,d.get)("EPSG:3857").getExtent();a={extent:e,minZoom:a.minZoom,tileSize:a.tileSize,resolutions:p(e,a.maxZoom,a.tileSize,a.maxResolution)};return new l.default(a)};B.createForProjection=A;B.extentFromProjection=u;var m=v(z(73)),l=v(z(261)),f=v(z(114)),g=z(117),d=z(124),b=z(75),c=z(148)};
shadow$provide[263]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.TileSourceEvent=void 0;ra=v(z(79));cb=v(z(232));var k=v(z(258)),p=v(z(111)),A=z(68),u=z(71),m=z(124),l=z(257),f=z(262),g=z(148),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,
a){function e(){this.constructor=c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a){var e=b.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,projection:a.projection,state:a.state,wrapX:a.wrapX,interpolate:a.interpolate})||this;e.opaque_=void 0!==a.opaque?a.opaque:!1;e.tilePixelRatio_=
void 0!==a.tilePixelRatio?a.tilePixelRatio:1;e.tileGrid=void 0!==a.tileGrid?a.tileGrid:null;var t=[256,256];e.tileGrid&&(0,g.toSize)(e.tileGrid.getTileSize(e.tileGrid.getMinZoom()),t);e.tileCache=new k.default(a.cacheSize||0);e.tmpSize=[0,0];e.key_=a.key||"";e.tileOptions={transition:a.transition,interpolate:a.interpolate};e.zDirection=a.zDirection?a.zDirection:0;return e}d(c,b);c.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};c.prototype.expireCache=function(a,e){(a=
this.getTileCacheForProjection(a))&&a.expireCache(e)};c.prototype.forEachLoadedTile=function(a,e,t,y){a=this.getTileCacheForProjection(a);if(!a)return!1;for(var q=!0,E,F,w=t.minX;w<=t.maxX;++w)for(var D=t.minY;D<=t.maxY;++D)E=(0,l.getKeyZXY)(e,w,D),F=!1,a.containsKey(E)&&(E=a.get(E),(F=E.getState()===p.default.LOADED)&&(F=!1!==y(E))),F||(q=!1);return q};c.prototype.getGutterForProjection=function(a){return 0};c.prototype.getKey=function(){return this.key_};c.prototype.setKey=function(a){this.key_!==
a&&(this.key_=a,this.changed())};c.prototype.getOpaque=function(a){return this.opaque_};c.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null};c.prototype.getTile=function(a,e,t,y,q){return(0,A.abstract)()};c.prototype.getTileGrid=function(){return this.tileGrid};c.prototype.getTileGridForProjection=function(a){return this.tileGrid?this.tileGrid:(0,f.getForProjection)(a)};c.prototype.getTileCacheForProjection=function(a){(0,u.assert)((0,m.equivalent)(this.getProjection(),
a),68);return this.tileCache};c.prototype.getTilePixelRatio=function(a){return this.tilePixelRatio_};c.prototype.getTilePixelSize=function(a,e,t){t=this.getTileGridForProjection(t);e=this.getTilePixelRatio(e);a=(0,g.toSize)(t.getTileSize(a),this.tmpSize);return 1==e?a:(0,g.scale)(a,e,this.tmpSize)};c.prototype.getTileCoordForTileUrlFunction=function(a,e){e=void 0!==e?e:this.getProjection();var t=this.getTileGridForProjection(e);this.getWrapX()&&e.isGlobal()&&(a=(0,f.wrapX)(t,a,e));return(0,l.withinExtentAndZ)(a,
t)?a:null};c.prototype.clear=function(){this.tileCache.clear()};c.prototype.refresh=function(){this.clear();b.prototype.refresh.call(this)};c.prototype.updateCacheSize=function(a,e){e=this.getTileCacheForProjection(e);a>e.highWaterMark&&(e.highWaterMark=a)};c.prototype.useTile=function(a,e,t,y){};return c}(cb.default);ra=function(b){function c(a,e){a=b.call(this,a)||this;a.tile=e;return a}d(c,b);return c}(ra.default);B.TileSourceEvent=ra;B.default=z};
shadow$provide[264]=function(ra,z,cb,B){function v(m,l){var f=/\{z\}/g,g=/\{x\}/g,d=/\{y\}/g,b=/\{-y\}/g;return function(c,a,e){if(c)return m.replace(f,c[0].toString()).replace(g,c[1].toString()).replace(d,c[2].toString()).replace(b,function(){var t=l.getFullTileRange(c[0]);(0,p.assert)(t,55);return(t.getHeight()-c[2]-1).toString()})}}function k(m){return 1===m.length?m[0]:function(l,f,g){if(l){var d=(0,u.hash)(l);d=(0,A.modulo)(d,m.length);return m[d](l,f,g)}}}Object.defineProperty(B,"__esModule",
{value:!0});B.createFromTemplate=v;B.createFromTemplates=function(m,l){for(var f=m.length,g=Array(f),d=0;d<f;++d)g[d]=v(m[d],l);return k(g)};B.createFromTileUrlFunctions=k;B.nullTileUrlFunction=function(m,l,f){};B.expandUrl=function(m){var l=[],f=/\{([a-z])-([a-z])\}/.exec(m);if(f){for(var g=f[1].charCodeAt(0),d=f[2].charCodeAt(0);g<=d;++g)l.push(m.replace(f[0],String.fromCharCode(g)));return l}if(f=/\{(\d+)-(\d+)\}/.exec(m)){d=parseInt(f[2],10);for(g=parseInt(f[1],10);g<=d;g++)l.push(m.replace(f[0],
g.toString()));return l}l.push(m);return l};var p=z(71),A=z(76),u=z(257)};
shadow$provide[265]=function(ra,z,cb,B){function v(d){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(v=function(a){return a?c:b})(d)}function k(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=k(z(259)),A=function(d,b){if(!b&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((b=v(b))&&b.has(d))return b.get(d);var c={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,
e;for(e in d)if("default"!==e&&Object.prototype.hasOwnProperty.call(d,e)){var t=a?Object.getOwnPropertyDescriptor(d,e):null;t&&(t.get||t.set)?Object.defineProperty(c,e,t):c[e]=d[e]}c.default=d;b&&b.set(d,c);return c}(z(263)),u=k(z(111)),m=z(264),l=z(257),f=z(68),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,
c){function a(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();ra=function(d){function b(c){var a=d.call(this,{attributions:c.attributions,cacheSize:c.cacheSize,opaque:c.opaque,projection:c.projection,state:c.state,tileGrid:c.tileGrid,tilePixelRatio:c.tilePixelRatio,wrapX:c.wrapX,transition:c.transition,interpolate:c.interpolate,
key:c.key,attributionsCollapsible:c.attributionsCollapsible,zDirection:c.zDirection})||this;a.generateTileUrlFunction_=a.tileUrlFunction===b.prototype.tileUrlFunction;a.tileLoadFunction=c.tileLoadFunction;c.tileUrlFunction&&(a.tileUrlFunction=c.tileUrlFunction);a.urls=null;c.urls?a.setUrls(c.urls):c.url&&a.setUrl(c.url);a.tileLoadingKeys_={};return a}g(b,d);b.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};b.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===
this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction};b.prototype.getUrls=function(){return this.urls};b.prototype.handleTileChange=function(c){c=c.target;var a=(0,f.getUid)(c),e=c.getState();if(e==u.default.LOADING){this.tileLoadingKeys_[a]=!0;var t=p.default.TILELOADSTART}else a in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[a],t=e==u.default.ERROR?p.default.TILELOADERROR:e==u.default.LOADED?p.default.TILELOADEND:void 0);void 0!=t&&this.dispatchEvent(new A.TileSourceEvent(t,
c))};b.prototype.setTileLoadFunction=function(c){this.tileCache.clear();this.tileLoadFunction=c;this.changed()};b.prototype.setTileUrlFunction=function(c,a){this.tileUrlFunction=c;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof a?this.setKey(a):this.changed()};b.prototype.setUrl=function(c){this.urls=c=(0,m.expandUrl)(c);this.setUrls(c)};b.prototype.setUrls=function(c){this.urls=c;var a=c.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,m.createFromTemplates)(c,this.tileGrid),
a):this.setKey(a)};b.prototype.tileUrlFunction=function(c,a,e){};b.prototype.useTile=function(c,a,e){c=(0,l.getKeyZXY)(c,a,e);this.tileCache.containsKey(c)&&this.tileCache.get(c)};return b}(A.default);B.default=ra};
shadow$provide[266]=function(ra,z,cb,B){function v(e){return e&&e.__esModule?e:{default:e}}function k(e,t){e.getImage().src=t}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=v(z(83)),A=v(z(251)),u=v(z(256)),m=v(z(258)),l=v(z(111));ra=v(z(265));var f=z(252),g=z(124),d=z(257),b=z(262),c=z(68),a=function(){var e=function(t,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,E){q.__proto__=E}||function(q,E){for(var F in E)Object.prototype.hasOwnProperty.call(E,
F)&&(q[F]=E[F])};return e(t,y)};return function(t,y){function q(){this.constructor=t}if("function"!==typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");e(t,y);t.prototype=null===y?Object.create(y):(q.prototype=y.prototype,new q)}}();z=function(e){function t(y){var q=void 0!==y.imageSmoothing?y.imageSmoothing:!0;void 0!==y.interpolate&&(q=y.interpolate);q=e.call(this,{attributions:y.attributions,cacheSize:y.cacheSize,opaque:y.opaque,projection:y.projection,
state:y.state,tileGrid:y.tileGrid,tileLoadFunction:y.tileLoadFunction?y.tileLoadFunction:k,tilePixelRatio:y.tilePixelRatio,tileUrlFunction:y.tileUrlFunction,url:y.url,urls:y.urls,wrapX:y.wrapX,transition:y.transition,interpolate:q,key:y.key,attributionsCollapsible:y.attributionsCollapsible,zDirection:y.zDirection})||this;q.crossOrigin=void 0!==y.crossOrigin?y.crossOrigin:null;q.tileClass=void 0!==y.tileClass?y.tileClass:A.default;q.tileCacheForProjection={};q.tileGridForProjection={};q.reprojectionErrorThreshold_=
y.reprojectionErrorThreshold;q.renderReprojectionEdges_=!1;return q}a(t,e);t.prototype.canExpireCache=function(){if(!f.ENABLE_RASTER_REPROJECTION)return e.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var y in this.tileCacheForProjection)if(this.tileCacheForProjection[y].canExpireCache())return!0;return!1};t.prototype.expireCache=function(y,q){if(f.ENABLE_RASTER_REPROJECTION){y=this.getTileCacheForProjection(y);this.tileCache.expireCache(this.tileCache==y?q:{});
for(var E in this.tileCacheForProjection){var F=this.tileCacheForProjection[E];F.expireCache(F==y?q:{})}}else e.prototype.expireCache.call(this,y,q)};t.prototype.getGutterForProjection=function(y){return f.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&y&&!(0,g.equivalent)(this.getProjection(),y)?0:this.getGutter()};t.prototype.getGutter=function(){return 0};t.prototype.getKey=function(){var y=e.prototype.getKey.call(this);this.getInterpolate()||(y+=":disable-interpolation");return y};t.prototype.getOpaque=
function(y){return f.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&y&&!(0,g.equivalent)(this.getProjection(),y)?!1:e.prototype.getOpaque.call(this,y)};t.prototype.getTileGridForProjection=function(y){if(!f.ENABLE_RASTER_REPROJECTION)return e.prototype.getTileGridForProjection.call(this,y);var q=this.getProjection();return!this.tileGrid||q&&!(0,g.equivalent)(q,y)?(q=(0,c.getUid)(y),q in this.tileGridForProjection||(this.tileGridForProjection[q]=(0,b.getForProjection)(y)),this.tileGridForProjection[q]):
this.tileGrid};t.prototype.getTileCacheForProjection=function(y){if(!f.ENABLE_RASTER_REPROJECTION)return e.prototype.getTileCacheForProjection.call(this,y);var q=this.getProjection();if(!q||(0,g.equivalent)(q,y))return this.tileCache;y=(0,c.getUid)(y);y in this.tileCacheForProjection||(this.tileCacheForProjection[y]=new m.default(this.tileCache.highWaterMark));return this.tileCacheForProjection[y]};t.prototype.createTile_=function(y,q,E,F,w,D){y=[y,q,E];F=(q=this.getTileCoordForTileUrlFunction(y,
w))?this.tileUrlFunction(q,F,w):void 0;F=new this.tileClass(y,void 0!==F?l.default.IDLE:l.default.EMPTY,void 0!==F?F:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);F.key=D;F.addEventListener(p.default.CHANGE,this.handleTileChange.bind(this));return F};t.prototype.getTile=function(y,q,E,F,w){var D=this.getProjection();if(f.ENABLE_RASTER_REPROJECTION&&D&&w&&!(0,g.equivalent)(D,w)){var G=this.getTileCacheForProjection(w),L=[y,q,E];y=void 0;q=(0,d.getKey)(L);G.containsKey(q)&&(y=G.get(q));
E=this.getKey();if(y&&y.key==E)return y;var O=this.getTileGridForProjection(D),V=this.getTileGridForProjection(w),S=this.getTileCoordForTileUrlFunction(L,w);F=new u.default(D,O,w,V,L,S,this.getTilePixelRatio(F),this.getGutter(),function(ca,ea,T,R){return this.getTileInternal(ca,ea,T,R,D)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());F.key=E;y?(F.interimTile=y,F.refreshInterimChain(),G.replace(q,F)):G.set(q,F);return F}return this.getTileInternal(y,
q,E,F,D||w)};t.prototype.getTileInternal=function(y,q,E,F,w){var D=(0,d.getKeyZXY)(y,q,E),G=this.getKey();if(this.tileCache.containsKey(D)){var L=this.tileCache.get(D);if(L.key!=G){var O=L;L=this.createTile_(y,q,E,F,w,G);O.getState()==l.default.IDLE?L.interimTile=O.interimTile:L.interimTile=O;L.refreshInterimChain();this.tileCache.replace(D,L)}}else L=this.createTile_(y,q,E,F,w,G),this.tileCache.set(D,L);return L};t.prototype.setRenderReprojectionEdges=function(y){if(f.ENABLE_RASTER_REPROJECTION&&
this.renderReprojectionEdges_!=y){this.renderReprojectionEdges_=y;for(var q in this.tileCacheForProjection)this.tileCacheForProjection[q].clear();this.changed()}};t.prototype.setTileGridForProjection=function(y,q){f.ENABLE_RASTER_REPROJECTION&&(y=(0,g.get)(y))&&(y=(0,c.getUid)(y),y in this.tileGridForProjection||(this.tileGridForProjection[y]=q))};return t}(ra.default);B.default=z};
shadow$provide[267]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.jsonp=function(m,l,f,g){function d(){delete window[c];b.parentNode.removeChild(b)}var b=document.createElement("script"),c="olc_"+(0,v.getUid)(l);b.async=!0;b.src=m+(-1==m.indexOf("?")?"?":"\x26")+(g||"callback")+"\x3d"+c;var a=setTimeout(function(){d();f&&f()},1E4);window[c]=function(e){clearTimeout(a);d();l(e)};document.getElementsByTagName("head")[0].appendChild(b)};B.getJSON=function(m){return new Promise(function(l,
f){var g=new XMLHttpRequest;g.addEventListener("load",function(d){d=d.target;if(!d.status||200<=d.status&&300>d.status){var b=void 0;try{b=JSON.parse(d.responseText)}catch(c){f(Error("Error parsing response text as JSON: "+c.message));return}l(b)}else f(new p(d))});g.addEventListener("error",function(d){f(new A(d.target))});g.open("GET",m);g.setRequestHeader("Accept","application/json");g.send()})};B.resolveUrl=function(m,l){return 0<=l.indexOf("://")?l:(new URL(l,m)).href};B.overrideXHR=function(m){"undefined"!==
typeof XMLHttpRequest&&(u=XMLHttpRequest);ra.XMLHttpRequest=m};B.restoreXHR=function(){ra.XMLHttpRequest=u};B.ClientError=B.ResponseError=void 0;var v=z(68),k=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+
String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}(),p=function(m){function l(f){var g=m.call(this,"Unexpected response status: "+f.status)||this;g.name="ResponseError";g.response=f;return g}k(l,m);return l}(Error);B.ResponseError=p;var A=function(m){function l(f){var g=m.call(this,"Failed to issue request")||this;g.name="ClientError";g.client=f;return g}k(l,m);return l}(Error);B.ClientError=A;var u};
shadow$provide[268]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}function k(b){var c=b[0],a=Array(c),e=1<<c-1,t;for(t=0;t<c;++t){var y=48;b[1]&e&&(y+=1);b[2]&e&&(y+=2);a[t]=String.fromCharCode(y);e>>=1}return a.join("")}Object.defineProperty(B,"__esModule",{value:!0});B.quadKey=k;B.default=void 0;var p=v(z(90));ra=v(z(266));var A=z(75),u=z(264),m=z(257),l=z(262),f=z(124),g=z(267),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,
t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a){var e=void 0!==a.hidpi?a.hidpi:!1;var t=void 0!==a.imageSmoothing?a.imageSmoothing:!0;void 0!==a.interpolate&&
(t=a.interpolate);t=b.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",interpolate:t,opaque:!0,projection:(0,f.get)("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:p.default.LOADING,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition,zDirection:a.zDirection})||this;t.hidpi_=e;t.culture_=void 0!==a.culture?a.culture:"en-us";t.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1;t.apiKey_=a.key;t.imagerySet_=a.imagerySet;
(0,g.jsonp)("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+t.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+t.apiKey_+"\x26c\x3d"+t.culture_,t.handleImageryMetadataResponse.bind(t),void 0,"jsonp");return t}d(c,b);c.prototype.getApiKey=function(){return this.apiKey_};c.prototype.getImagerySet=function(){return this.imagerySet_};c.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||
1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.setState(p.default.ERROR);else{var e=a.resourceSets[0].resources[0];a=-1==this.maxZoom_?e.zoomMax:this.maxZoom_;var t=this.getProjection();t=(0,l.extentFromProjection)(t);var y=this.hidpi_?2:1;this.tileGrid=(0,l.createXYZ)({extent:t,minZoom:e.zoomMin,maxZoom:a,tileSize:e.imageWidth==e.imageHeight?e.imageWidth/y:[e.imageWidth/y,e.imageHeight/y]});var q=this.culture_,E=this.hidpi_;this.tileUrlFunction=(0,u.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(w){var D=
[0,0,0],G=e.imageUrl.replace("{subdomain}",w).replace("{culture}",q);return function(L,O,V){if(L)return(0,m.createOrUpdate)(L[0],L[1],L[2],D),L=G,E&&(L+="\x26dpi\x3dd1\x26device\x3dmobile"),L.replace("{quadkey}",k(D))}}));if(e.imageryProviders){var F=(0,f.getTransformFromProjections)((0,f.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(w){var D=[],G=w.viewState,L=this.getTileGrid(),O=L.getZForResolution(G.resolution,this.zDirection),V=L.getTileCoordForCoordAndZ(G.center,O)[0];
e.imageryProviders.map(function(S){for(var ca=!1,ea=S.coverageAreas,T=0,R=ea.length;T<R;++T){var J=ea[T];if(V>=J.zoomMin&&V<=J.zoomMax&&(J=J.bbox,J=(0,A.applyTransform)([J[1],J[0],J[3],J[2]],F),(0,A.intersects)(J,w.extent))){ca=!0;break}}ca&&D.push(S.attribution)});D.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return D}.bind(this))}this.setState(p.default.READY)}};return c}(ra.default);B.default=
z};
shadow$provide[269]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(p){return p&&p.__esModule?p:{default:p}}(z(266));var v=z(262),k=function(){var p=function(A,u){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,l){m.__proto__=l}||function(m,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(m[f]=l[f])};return p(A,u)};return function(A,u){function m(){this.constructor=A}if("function"!==typeof u&&null!==u)throw new TypeError("Class extends value "+
String(u)+" is not a constructor or null");p(A,u);A.prototype=null===u?Object.create(u):(m.prototype=u.prototype,new m)}}();z=function(p){function A(u){u=u||{};var m=void 0!==u.imageSmoothing?u.imageSmoothing:!0;void 0!==u.interpolate&&(m=u.interpolate);var l=void 0!==u.projection?u.projection:"EPSG:3857",f=void 0!==u.tileGrid?u.tileGrid:(0,v.createXYZ)({extent:(0,v.extentFromProjection)(l),maxResolution:u.maxResolution,maxZoom:u.maxZoom,minZoom:u.minZoom,tileSize:u.tileSize});return p.call(this,
{attributions:u.attributions,cacheSize:u.cacheSize,crossOrigin:u.crossOrigin,interpolate:m,opaque:u.opaque,projection:l,reprojectionErrorThreshold:u.reprojectionErrorThreshold,tileGrid:f,tileLoadFunction:u.tileLoadFunction,tilePixelRatio:u.tilePixelRatio,tileUrlFunction:u.tileUrlFunction,url:u.url,urls:u.urls,wrapX:void 0!==u.wrapX?u.wrapX:!0,transition:u.transition,attributionsCollapsible:u.attributionsCollapsible,zDirection:u.zDirection})||this}k(A,p);return A}(ra.default);B.default=z};
shadow$provide[270]=function(ra,z,cb,B){function v(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(90));ra=v(z(269));var p=z(81),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==
l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();z=function(u){function m(l){var f=u.call(this,{attributions:l.attributions,cacheSize:l.cacheSize,crossOrigin:l.crossOrigin,maxZoom:void 0!==l.maxZoom?l.maxZoom:18,minZoom:l.minZoom,projection:l.projection,transition:l.transition,wrapX:l.wrapX,zDirection:l.zDirection})||this;f.account_=l.account;f.mapId_=l.map||"";f.config_=l.config||
{};f.templateCache_={};f.initializeMap_();return f}A(m,u);m.prototype.getConfig=function(){return this.config_};m.prototype.updateConfig=function(l){(0,p.assign)(this.config_,l);this.initializeMap_()};m.prototype.setConfig=function(l){this.config_=l||{};this.initializeMap_()};m.prototype.initializeMap_=function(){var l=JSON.stringify(this.config_);if(this.templateCache_[l])this.applyTemplate_(this.templateCache_[l]);else{var f="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(f+="/named/"+
this.mapId_);var g=new XMLHttpRequest;g.addEventListener("load",this.handleInitResponse_.bind(this,l));g.addEventListener("error",this.handleInitError_.bind(this));g.open("POST",f);g.setRequestHeader("Content-type","application/json");g.send(JSON.stringify(this.config_))}};m.prototype.handleInitResponse_=function(l,f){f=f.target;if(!f.status||200<=f.status&&300>f.status){var g=void 0;try{g=JSON.parse(f.responseText)}catch(d){this.setState(k.default.ERROR);return}this.applyTemplate_(g);this.templateCache_[l]=
g;this.setState(k.default.READY)}else this.setState(k.default.ERROR)};m.prototype.handleInitError_=function(l){this.setState(k.default.ERROR)};m.prototype.applyTemplate_=function(l){this.setUrl("https://"+l.cdn_url.https+"/"+this.account_+"/api/v1/map/"+l.layergroupid+"/{z}/{x}/{y}.png")};return m}(ra.default);B.default=z};
shadow$provide[271]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(83)),p=v(z(184)),A=v(z(113)),u=v(z(139));ra=v(z(236));var m=z(93),l=z(71),f=z(75),g=z(68),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=
c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a){var e=b.call(this,{attributions:a.attributions,wrapX:a.wrapX})||this;e.resolution=void 0;e.distance=void 0!==a.distance?a.distance:20;e.minDistance=a.minDistance||0;e.interpolationRatio=0;e.features=[];e.geometryFunction=a.geometryFunction||function(t){t=t.getGeometry();
(0,l.assert)(t.getType()==A.default.POINT,10);return t};e.createCustomCluster_=a.createCluster;e.source=null;e.boundRefresh_=e.refresh.bind(e);e.updateDistance(e.distance,e.minDistance);e.setSource(a.source||null);return e}d(c,b);c.prototype.clear=function(a){this.features.length=0;b.prototype.clear.call(this,a)};c.prototype.getDistance=function(){return this.distance};c.prototype.getSource=function(){return this.source};c.prototype.loadFeatures=function(a,e,t){this.source.loadFeatures(a,e,t);e!==
this.resolution&&(this.resolution=e,this.refresh())};c.prototype.setDistance=function(a){this.updateDistance(a,this.minDistance)};c.prototype.setMinDistance=function(a){this.updateDistance(this.distance,a)};c.prototype.getMinDistance=function(){return this.minDistance};c.prototype.setSource=function(a){this.source&&this.source.removeEventListener(k.default.CHANGE,this.boundRefresh_);(this.source=a)&&a.addEventListener(k.default.CHANGE,this.boundRefresh_);this.refresh()};c.prototype.refresh=function(){this.clear();
this.cluster();this.addFeatures(this.features)};c.prototype.updateDistance=function(a,e){var t=0===a?0:Math.min(e,a)/a,y=a!==this.distance||this.interpolationRatio!==t;this.distance=a;this.minDistance=e;this.interpolationRatio=t;y&&this.refresh()};c.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var a=(0,f.createEmpty)(),e=this.distance*this.resolution,t=this.source.getFeatures(),y={},q=0,E=t.length;q<E;q++){var F=t[q];(0,g.getUid)(F)in y||!(F=this.geometryFunction(F))||
(F=F.getCoordinates(),(0,f.createOrUpdateFromCoordinate)(F,a),(0,f.buffer)(a,e,a),F=this.source.getFeaturesInExtent(a).filter(function(w){w=(0,g.getUid)(w);return w in y?!1:y[w]=!0}),this.features.push(this.createCluster(F,a)))}};c.prototype.createCluster=function(a,e){for(var t=[0,0],y=a.length-1;0<=y;--y){var q=this.geometryFunction(a[y]);q?(0,m.add)(t,q.getCoordinates()):a.splice(y,1)}(0,m.scale)(t,1/a.length);e=(0,f.getCenter)(e);y=this.interpolationRatio;t=new u.default([t[0]*(1-y)+e[0]*y,t[1]*
(1-y)+e[1]*y]);return this.createCustomCluster_?this.createCustomCluster_(t,a):new p.default({geometry:t,features:a})};return c}(ra.default);B.default=z};
shadow$provide[272]=function(ra,z,cb,B){function v(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(250));var k=v(z(111)),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m){var l=A.call(this,m.tileCoord,k.default.IDLE,{transition:m.transition,interpolate:m.interpolate})||this;l.loader_=m.loader;l.data_=null;l.error_=null;return l}p(u,A);u.prototype.getData=function(){return this.data_};u.prototype.getError=function(){return this.error_};u.prototype.load=function(){this.state=k.default.LOADING;this.changed();var m=this;
this.loader_().then(function(l){m.data_=l;m.state=k.default.LOADED;m.changed()}).catch(function(l){m.error_=l;m.state=k.default.ERROR;m.changed()})};return u}(ra.default);B.default=z};
shadow$provide[273]=function(ra,z,cb,B){function v(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,y=new WeakMap;return(v=function(q){return q?y:t})(e)}function k(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=k(z(272)),A=k(z(83)),u=k(z(259)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((t=v(t))&&t.has(e))return t.get(e);var y={},q=Object.defineProperty&&
Object.getOwnPropertyDescriptor,E;for(E in e)if("default"!==E&&Object.prototype.hasOwnProperty.call(e,E)){var F=q?Object.getOwnPropertyDescriptor(e,E):null;F&&(F.get||F.set)?Object.defineProperty(y,E,F):y[E]=e[E]}y.default=e;t&&t.set(e,y);return y}(z(263)),l=k(z(111)),f=z(81),g=z(262),d=z(257),b=z(68),c=z(67),a=function(){var e=function(t,y){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,E){q.__proto__=E}||function(q,E){for(var F in E)Object.prototype.hasOwnProperty.call(E,F)&&
(q[F]=E[F])};return e(t,y)};return function(t,y){function q(){this.constructor=t}if("function"!==typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");e(t,y);t.prototype=null===y?Object.create(y):(q.prototype=y.prototype,new q)}}();ra=function(e){function t(y){var q=void 0===y.projection?"EPSG:3857":y.projection;var E=y.tileGrid;void 0===E&&q&&(E=(0,g.createXYZ)({extent:(0,g.extentFromProjection)(q),maxResolution:y.maxResolution,maxZoom:y.maxZoom,
minZoom:y.minZoom,tileSize:y.tileSize}));q=e.call(this,{cacheSize:.1,attributions:y.attributions,attributionsCollapsible:y.attributionsCollapsible,projection:q,tileGrid:E,opaque:y.opaque,state:y.state,tilePixelRatio:y.tilePixelRatio,wrapX:y.wrapX,transition:y.transition,interpolate:y.interpolate})||this;q.tileLoadingKeys_={};q.loader_=y.loader;q.handleTileChange_=q.handleTileChange_.bind(q);q.bandCount=void 0===y.bandCount?4:y.bandCount;return q}a(t,e);t.prototype.setLoader=function(y){this.loader_=
y};t.prototype.getTile=function(y,q,E,F,w){F=(0,d.getKeyZXY)(y,q,E);if(this.tileCache.containsKey(F))return this.tileCache.get(F);var D=this.loader_;w=new p.default((0,f.assign)({tileCoord:[y,q,E],loader:function(){return(0,c.toPromise)(function(){return D(y,q,E)})}},this.tileOptions));w.key=this.getKey();w.addEventListener(A.default.CHANGE,this.handleTileChange_);this.tileCache.set(F,w);return w};t.prototype.handleTileChange_=function(y){y=y.target;var q=(0,b.getUid)(y),E=y.getState();if(E==l.default.LOADING){this.tileLoadingKeys_[q]=
!0;var F=u.default.TILELOADSTART}else q in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[q],F=E==l.default.ERROR?u.default.TILELOADERROR:E==l.default.LOADED?u.default.TILELOADEND:void 0);F&&this.dispatchEvent(new m.TileSourceEvent(F,y))};return t}(m.default);B.default=ra};
shadow$provide[274]=function(ra,z,cb,B){(function(v){function k(Vb){return(sc,...cd)=>O(Vb,sc,cd)}function p(Vb){if(Vb[ia]===ka)return Vb;const sc=qa(Mb);$a(ub,sc,Ia(Vb));return sc}function A(Vb){const sc=qa(oc);$a(fc,sc,Vb);return sc}function u(Vb){return null!==Vb&&"object"===typeof Vb||"function"===typeof Vb}function m(Vb){Vb=ob(Vb);return"BigInt64Array"===Vb||"BigUint64Array"===Vb}function l(Vb){if(null===Gc)return!1;try{return xc(Vb),!0}catch(sc){return!1}}function f(Vb){return ab(Vb)?Vb[ia]===
ka?!0:"Array Iterator"===Vb[ia]()[Wa]:!1}function g(Vb){return void 0===ob(Vb)?!1:Vb[ia]===Bb?!0:"Array Iterator"===Vb[ia]()[Wa]}function d(Vb){if("string"!==typeof Vb)return!1;const sc=U(Vb);return Vb===sc+""&&ja(sc)?sc===Xa(sc):!1}function b(Vb){if(null===Vb||"object"!==typeof Vb)return!1;Vb=T(Vb);if(null===Vb||"object"!==typeof Vb)return!1;Vb=Vb.constructor;if(void 0===Vb)return!1;if(!u(Vb))throw Nd("The constructor property value is not an object");return R(Vb,Mc)}function c(Vb){gc[0]=Vb;Vb=fd[0];
const sc=Vb>>23&511;return nd[sc]+((Vb&8388607)>>Fd[sc])}function a(Vb){const sc=Vb>>10;fd[0]=Od[Yd[sc]+(Vb&1023)]+Ud[sc];return gc[0]}function e(Vb){if("bigint"===typeof Vb)throw Nd("Cannot convert a BigInt value to a number");Vb=U(Vb);return ba(Vb)||0===Vb?0:Xa(Vb)}function t(Vb){Vb=e(Vb);return 0>Vb?0:Vb<Ee?Vb:Ee}function y(Vb,sc){if(!u(Vb))throw Nd("This is not an object");Vb=Vb.constructor;if(void 0===Vb)return sc;if(!u(Vb))throw Nd("The constructor property value is not an object");Vb=Vb[za];
return null==Vb?sc:Vb}function q(Vb){if(l(Vb))return!1;try{return Eb(Vb,0,0),!1}catch(sc){}return!0}function E(Vb,sc){const cd=ba(Vb),wd=ba(sc);if(cd&&wd)return 0;if(cd)return 1;if(wd||Vb<sc)return-1;if(Vb>sc)return 1;if(0===Vb&&0===sc){Vb=sa(Vb,0);sc=sa(sc,0);if(!Vb&&sc)return-1;if(Vb&&!sc)return 1}return 0}function F(Vb){return Ga(ze,Vb)||!mb(Vb)&&b(Vb)}function w(Vb){if(!F(Vb))throw Nd("This is not a Float16Array object");}function D(Vb,sc){var cd=F(Vb);const wd=void 0!==ob(Vb);if(!cd&&!wd)throw Nd("Species constructor didn't return TypedArray object");
if("number"===typeof sc&&(cd?(cd=G(Vb),cd=db(cd)):cd=db(Vb),cd<sc))throw Nd("Derived constructor created TypedArray object which was too small length");if(m(Vb))throw Nd("Cannot mix BigInt and other types, use explicit conversions");}function G(Vb){var sc=me(ze,Vb);if(void 0!==sc){Vb=Ca(sc);if(q(Vb))throw Nd("Attempting to access detached ArrayBuffer");return sc}sc=Vb.buffer;if(q(sc))throw Nd("Attempting to access detached ArrayBuffer");Vb=V(Ne,[sc,Vb.byteOffset,Vb.length],Vb.constructor);return me(ze,
Vb)}function L(Vb){const sc=db(Vb),cd=[];for(let wd=0;wd<sc;++wd)cd[wd]=a(Vb[wd]);return cd}const {apply:O,construct:V,defineProperty:S,get:ca,getOwnPropertyDescriptor:ea,getPrototypeOf:T,has:R,ownKeys:J,set:r,setPrototypeOf:C}=Reflect,N=Proxy,U=Number,{isFinite:ja,isNaN:ba}=U,{iterator:ia,species:za,toStringTag:Wa,for:hb}=Symbol,Ja=Object,{create:qa,defineProperty:Da,freeze:va,is:sa}=Ja,xa=Ja.prototype,ma=xa.__lookupGetter__?k(xa.__lookupGetter__):(Vb,sc)=>{if(null==Vb)throw Nd("Cannot convert undefined or null to object");
Vb=Ja(Vb);do{const cd=ea(Vb,sc);if(void 0!==cd){if(Ea(cd,"get"))return cd.get;break}}while(null!==(Vb=T(Vb)))},Ea=Ja.hasOwn||k(xa.hasOwnProperty),Ua=Array,ab=Ua.isArray,ta=Ua.prototype,Na=k(ta.join),oa=k(ta.push),aa=k(ta.toLocaleString),ka=ta[ia],Ia=k(ka),Xa=Math.trunc,Ya=ArrayBuffer,mb=Ya.isView,ib=Ya.prototype,Eb=k(ib.slice),Zb=k(ea(ib,"byteLength").get),Gc="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:null,xc=Gc&&k(ea(Gc.prototype,"byteLength").get),Ic=T(Uint8Array),rc=Ic.from,jd=Ic.prototype,
Bb=jd[ia],tb=k(jd.keys),dc=k(jd.values),Yb=k(jd.entries),hc=k(jd.set),vc=k(jd.reverse),qc=k(jd.fill),Dc=k(jd.copyWithin),Yc=k(jd.sort),Hd=k(jd.slice),Fa=k(jd.subarray),Ca=k(ea(jd,"buffer").get),Ha=k(ea(jd,"byteOffset").get),db=k(ea(jd,"length").get),ob=k(ea(jd,Wa).get),Ab=Uint16Array,Ob=Uint32Array,Ub=Float32Array,$b=T([][ia]()),Jc=k($b.next),Wc=k(function*(){}().next),dd=T($b),ld=DataView.prototype,rd=k(ld.getUint16),Kd=k(ld.setUint16),Nd=TypeError,fe=RangeError,be=WeakSet,ce=be.prototype,Td=k(ce.add),
af=k(ce.has),Se=WeakMap,ue=Se.prototype,me=k(ue.get),Ga=k(ue.has),$a=k(ue.set),ub=new Se,Mb=qa(null,{next:{value:function(){const Vb=me(ub,this);return Jc(Vb)}},[ia]:{value:function(){return this}}}),fc=new Se,oc=qa(dd,{next:{value:function(){const Vb=me(fc,this);return Wc(Vb)},writable:!0,configurable:!0}});for(const Vb of J($b))"next"!==Vb&&Da(oc,Vb,ea($b,Vb));const Mc=hb("__Float16Array__"),Kc=new Ya(4),gc=new Ub(Kc),fd=new Ob(Kc),nd=new Ob(512),Fd=new Ob(512);for(let Vb=0;256>Vb;++Vb){const sc=
Vb-127;-27>sc?(nd[Vb]=0,nd[Vb|256]=32768,Fd[Vb]=24,Fd[Vb|256]=24):-14>sc?(nd[Vb]=1024>>-sc-14,nd[Vb|256]=1024>>-sc-14|32768,Fd[Vb]=-sc-1,Fd[Vb|256]=-sc-1):15>=sc?(nd[Vb]=sc+15<<10,nd[Vb|256]=sc+15<<10|32768,Fd[Vb]=13,Fd[Vb|256]=13):128>sc?(nd[Vb]=31744,nd[Vb|256]=64512,Fd[Vb]=24,Fd[Vb|256]=24):(nd[Vb]=31744,nd[Vb|256]=64512,Fd[Vb]=13,Fd[Vb|256]=13)}const Od=new Ob(2048),Ud=new Ob(64),Yd=new Ob(64);for(let Vb=1;1024>Vb;++Vb){let sc=Vb<<13,cd=0;for(;0===(sc&8388608);)sc<<=1,cd-=8388608;sc&=-8388609;
cd+=947912704;Od[Vb]=sc|cd}for(let Vb=1024;2048>Vb;++Vb)Od[Vb]=939524096+(Vb-1024<<13);for(let Vb=1;31>Vb;++Vb)Ud[Vb]=Vb<<23;Ud[31]=1199570944;Ud[32]=2147483648;for(let Vb=33;63>Vb;++Vb)Ud[Vb]=2147483648+(Vb-32<<23);Ud[63]=3347054592;for(let Vb=1;64>Vb;++Vb)32!==Vb&&(Yd[Vb]=1024);const Ee=U.MAX_SAFE_INTEGER,ze=new Se,Bf=new be;for(const Vb of J(jd)){if(Vb===Wa)continue;const sc=ea(jd,Vb);Ea(sc,"get")&&"function"===typeof sc.get&&Td(Bf,sc.get)}const xe=va({get(Vb,sc,cd){return d(sc)&&Ea(Vb,sc)?a(ca(Vb,
sc)):af(Bf,ma(Vb,sc))?ca(Vb,sc):ca(Vb,sc,cd)},set(Vb,sc,cd,wd){return d(sc)&&Ea(Vb,sc)?r(Vb,sc,c(cd)):r(Vb,sc,cd,wd)},getOwnPropertyDescriptor(Vb,sc){return d(sc)&&Ea(Vb,sc)?(Vb=ea(Vb,sc),Vb.value=a(Vb.value),Vb):ea(Vb,sc)},defineProperty(Vb,sc,cd){d(sc)&&Ea(Vb,sc)&&Ea(cd,"value")&&(cd.value=c(cd.value));return S(Vb,sc,cd)}});class Ne{constructor(Vb,sc,cd){if(F(Vb))var wd=V(Ab,[G(Vb)],new.target);else{var Bd;if(Bd=u(Vb)){try{Zb(Vb);var pe=!0}catch(Vf){pe=!1}Bd=!pe}if(Bd){if(void 0!==ob(Vb)){Bd=Vb;
pe=db(Vb);wd=Ca(Vb);var hf=l(wd)?Ya:y(wd,Ya);if(q(wd))throw Nd("Attempting to access detached ArrayBuffer");if(m(Vb))throw Nd("Cannot mix BigInt and other types, use explicit conversions");wd=new hf(2*pe);wd=V(Ab,[wd],new.target)}else{Bd=Vb[ia];if(null!=Bd&&"function"!==typeof Bd)throw Nd("@@iterator property is not callable");null!=Bd?f(Vb)?(Bd=Vb,pe=Vb.length):(Bd=[...Vb],pe=Bd.length):(Bd=Vb,pe=t(Bd.length));wd=V(Ab,[pe],new.target)}for(hf=0;hf<pe;++hf)wd[hf]=c(Bd[hf])}else wd=V(Ab,arguments,new.target)}Bd=
new N(wd,xe);$a(ze,Bd,wd);return Bd}static from(Vb,...sc){if(!R(this,Mc))throw Nd("This constructor is not a subclass of Float16Array");if(this===Ne){if(F(Vb)&&0===sc.length){var cd=G(Vb);cd=new Ab(Ca(cd),Ha(cd),db(cd));return new Ne(Ca(Hd(cd)))}if(0===sc.length)return new Ne(Ca(O(rc,Ab,[Vb,c])));const Bd=sc[0];return new Ne(Ca(O(rc,Ab,[Vb,function(pe,...hf){return c(O(Bd,this,[pe,...p(hf)]))},sc[1]])))}cd=Vb[ia];if(null!=cd&&"function"!==typeof cd)throw Nd("@@iterator property is not callable");
if(null!=cd)f(Vb)?(cd=Vb,Vb=Vb.length):g(Vb)?(cd=Vb,Vb=db(Vb)):(cd=[...Vb],Vb=cd.length);else{if(null==Vb)throw Nd("Cannot convert undefined or null to object");cd=Ja(Vb);Vb=t(cd.length)}const wd=new this(Vb);if(0===sc.length)for(sc=0;sc<Vb;++sc)wd[sc]=cd[sc];else{const Bd=sc[0];sc=sc[1];for(let pe=0;pe<Vb;++pe)wd[pe]=O(Bd,sc,[cd[pe],pe])}return wd}static of(...Vb){if(!R(this,Mc))throw Nd("This constructor is not a subclass of Float16Array");const sc=Vb.length;if(this===Ne){var cd=new Ne(sc),wd=G(cd);
for(let Bd=0;Bd<sc;++Bd)wd[Bd]=c(Vb[Bd]);return cd}cd=new this(sc);for(wd=0;wd<sc;++wd)cd[wd]=Vb[wd];return cd}keys(){w(this);const Vb=G(this);return tb(Vb)}values(){w(this);const Vb=G(this);return A(function*(){for(const sc of dc(Vb))yield a(sc)}())}entries(){w(this);const Vb=G(this);return A(function*(){for(const [sc,cd]of Yb(Vb))yield[sc,a(cd)]}())}at(Vb){w(this);const sc=G(this),cd=db(sc);Vb=e(Vb);Vb=0<=Vb?Vb:cd+Vb;if(!(0>Vb||Vb>=cd))return a(sc[Vb])}map(Vb,...sc){w(this);const cd=G(this),wd=
db(cd);sc=sc[0];var Bd=y(cd,Ne);if(Bd===Ne){Bd=new Ne(wd);var pe=G(Bd);for(var hf=0;hf<wd;++hf){const Vf=a(cd[hf]);pe[hf]=c(O(Vb,sc,[Vf,hf,this]))}return Bd}Bd=new Bd(wd);D(Bd,wd);for(pe=0;pe<wd;++pe)hf=a(cd[pe]),Bd[pe]=O(Vb,sc,[hf,pe,this]);return Bd}filter(Vb,...sc){w(this);const cd=G(this),wd=db(cd);sc=sc[0];const Bd=[];for(let pe=0;pe<wd;++pe){const hf=a(cd[pe]);O(Vb,sc,[hf,pe,this])&&oa(Bd,hf)}Vb=new (y(cd,Ne))(Bd);D(Vb);return Vb}reduce(Vb,...sc){w(this);const cd=G(this),wd=db(cd);if(0===wd&&
0===sc.length)throw Nd("Reduce of empty array with no initial value");if(0===sc.length){sc=a(cd[0]);var Bd=1}else sc=sc[0],Bd=0;for(;Bd<wd;++Bd)sc=Vb(sc,a(cd[Bd]),Bd,this);return sc}reduceRight(Vb,...sc){w(this);const cd=G(this);var wd=db(cd);if(0===wd&&0===sc.length)throw Nd("Reduce of empty array with no initial value");0===sc.length?(sc=a(cd[wd-1]),wd-=2):(sc=sc[0],--wd);for(;0<=wd;--wd)sc=Vb(sc,a(cd[wd]),wd,this);return sc}forEach(Vb,...sc){w(this);const cd=G(this),wd=db(cd);sc=sc[0];for(let Bd=
0;Bd<wd;++Bd)O(Vb,sc,[a(cd[Bd]),Bd,this])}find(Vb,...sc){w(this);const cd=G(this),wd=db(cd);sc=sc[0];for(let Bd=0;Bd<wd;++Bd){const pe=a(cd[Bd]);if(O(Vb,sc,[pe,Bd,this]))return pe}}findIndex(Vb,...sc){w(this);const cd=G(this),wd=db(cd);sc=sc[0];for(let Bd=0;Bd<wd;++Bd){const pe=a(cd[Bd]);if(O(Vb,sc,[pe,Bd,this]))return Bd}return-1}findLast(Vb,...sc){w(this);const cd=G(this);var wd=db(cd);sc=sc[0];for(--wd;0<=wd;--wd){const Bd=a(cd[wd]);if(O(Vb,sc,[Bd,wd,this]))return Bd}}findLastIndex(Vb,...sc){w(this);
const cd=G(this);var wd=db(cd);sc=sc[0];for(--wd;0<=wd;--wd){const Bd=a(cd[wd]);if(O(Vb,sc,[Bd,wd,this]))return wd}return-1}every(Vb,...sc){w(this);const cd=G(this),wd=db(cd);sc=sc[0];for(let Bd=0;Bd<wd;++Bd)if(!O(Vb,sc,[a(cd[Bd]),Bd,this]))return!1;return!0}some(Vb,...sc){w(this);const cd=G(this),wd=db(cd);sc=sc[0];for(let Bd=0;Bd<wd;++Bd)if(O(Vb,sc,[a(cd[Bd]),Bd,this]))return!0;return!1}set(Vb,...sc){w(this);const cd=G(this);sc=e(sc[0]);if(0>sc)throw fe("Offset is out of bounds");if(null==Vb)throw Nd("Cannot convert undefined or null to object");
if(m(Vb))throw Nd("Cannot mix BigInt and other types, use explicit conversions");if(F(Vb))return hc(G(this),G(Vb),sc);if(void 0!==ob(Vb)){var wd=Ca(Vb);if(q(wd))throw Nd("Attempting to access detached ArrayBuffer");}wd=db(cd);Vb=Ja(Vb);const Bd=t(Vb.length);if(Infinity===sc||Bd+sc>wd)throw fe("Offset is out of bounds");for(wd=0;wd<Bd;++wd)cd[wd+sc]=c(Vb[wd])}reverse(){w(this);const Vb=G(this);vc(Vb);return this}fill(Vb,...sc){w(this);const cd=G(this);qc(cd,c(Vb),...p(sc));return this}copyWithin(Vb,
sc,...cd){w(this);const wd=G(this);Dc(wd,Vb,sc,...p(cd));return this}sort(...Vb){w(this);const sc=G(this),cd=void 0!==Vb[0]?Vb[0]:E;Yc(sc,(wd,Bd)=>cd(a(wd),a(Bd)));return this}slice(...Vb){w(this);var sc=G(this),cd=y(sc,Ne);if(cd===Ne)return sc=new Ab(Ca(sc),Ha(sc),db(sc)),new Ne(Ca(Hd(sc,...p(Vb))));var wd=db(sc),Bd=e(Vb[0]);const pe=void 0===Vb[1]?wd:e(Vb[1]);Vb=-Infinity===Bd?0:0>Bd?0<wd+Bd?wd+Bd:0:wd<Bd?wd:Bd;wd=-Infinity===pe?0:0>pe?0<wd+pe?wd+pe:0:wd<pe?wd:pe;Bd=0<wd-Vb?wd-Vb:0;cd=new cd(Bd);
D(cd,Bd);if(0===Bd)return cd;Bd=Ca(sc);if(q(Bd))throw Nd("Attempting to access detached ArrayBuffer");for(Bd=0;Vb<wd;)cd[Bd]=a(sc[Vb]),++Vb,++Bd;return cd}subarray(...Vb){w(this);var sc=G(this),cd=y(sc,Ne);sc=new Ab(Ca(sc),Ha(sc),db(sc));Vb=Fa(sc,...p(Vb));cd=new cd(Ca(Vb),Ha(Vb),db(Vb));D(cd);return cd}indexOf(Vb,...sc){w(this);const cd=G(this),wd=db(cd);sc=e(sc[0]);if(Infinity===sc)return-1;0>sc&&(sc+=wd,0>sc&&(sc=0));for(;sc<wd;++sc)if(Ea(cd,sc)&&a(cd[sc])===Vb)return sc;return-1}lastIndexOf(Vb,
...sc){w(this);const cd=G(this);var wd=db(cd);sc=1<=sc.length?e(sc[0]):wd-1;if(-Infinity===sc)return-1;sc=0<=sc?sc<wd-1?sc:wd-1:sc+wd;for(wd=sc;0<=wd;--wd)if(Ea(cd,wd)&&a(cd[wd])===Vb)return wd;return-1}includes(Vb,...sc){w(this);const cd=G(this),wd=db(cd);var Bd=e(sc[0]);if(Infinity===Bd)return!1;0>Bd&&(Bd+=wd,0>Bd&&(Bd=0));for(sc=ba(Vb);Bd<wd;++Bd){const pe=a(cd[Bd]);if(sc&&ba(pe)||pe===Vb)return!0}return!1}join(...Vb){w(this);var sc=G(this);sc=L(sc);return Na(sc,...p(Vb))}toLocaleString(...Vb){w(this);
var sc=G(this);sc=L(sc);return aa(sc,...p(Vb))}get [Wa](){if(F(this))return"Float16Array"}}Da(Ne,"BYTES_PER_ELEMENT",{value:2});Da(Ne,Mc,{});C(Ne,Ic);const rf=Ne.prototype;Da(rf,"BYTES_PER_ELEMENT",{value:2});Da(rf,ia,{value:rf.values,writable:!0,configurable:!0});C(rf,jd);v.Float16Array=Ne;v.getFloat16=function(Vb,sc,...cd){return a(rd(Vb,sc,...p(cd)))};v.hfround=function(Vb){if("bigint"===typeof Vb)throw Nd("Cannot convert a BigInt value to a number");Vb=U(Vb);if(!ja(Vb)||0===Vb)return Vb;Vb=c(Vb);
return a(Vb)};v.isFloat16Array=F;v.isTypedArray=function(Vb){return void 0!==ob(Vb)||F(Vb)};v.setFloat16=function(Vb,sc,cd,...wd){return Kd(Vb,sc,c(cd),...p(wd))};Object.defineProperties(v,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});return v})({})};
shadow$provide[275]=function(ra,z,cb,B){cb.exports=function(v,k,p){(p=p&&p.debug||!1)&&console.log("getting "+k+" in "+v);v="object"===typeof v?v.outer:v;k=`${k}\\="\([^"]*\)"`;p&&console.log("pattern:",k);k=(new RegExp(k)).exec(v);p&&console.log("match:",k);if(k)return k[1]}};
shadow$provide[276]=function(ra,z,cb,B){cb.exports=function(v,k,p){return(v=(new RegExp(k)).exec(v.slice(p)))?p+v.index:-1}};
shadow$provide[277]=function(ra,z,cb,B){const v=z(276);cb.exports=function(k,p,A){const u=A&&A.debug||!1;var m=A&&A.startIndex||0;u&&console.log("starting findTagByName with",p," and ",A);A=v(k,`\<${p}[ \>]`,m);u&&console.log("start:",A);if(-1!==A){var l=k.slice(A+p.length),f=v(l,"[ /]"+p+"\x3e",0);(m=-1===f)&&(f=v(l,"[ /]\x3e",0));p=A+p.length+f+1+(m?0:p.length)+1;u&&console.log("end:",p);if(-1!==p)return k=k.slice(A,p),{inner:m?null:k.slice(k.indexOf("\x3e")+1,k.lastIndexOf("\x3c")),outer:k,start:A,
end:p}}}};
shadow$provide[278]=function(ra,z,cb,B){const v=z(277);cb.exports=function(k,p,A){const u=[],m=A&&A.debug||!1;A=A&&A.startIndex||0;let l;for(;l=v(k,p,{debug:m,startIndex:A});)A=l.end,u.push(l);m&&console.log("findTagsByName found",u.length,"tags");return u}};
shadow$provide[279]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.geoKeys=B.geoKeyNames=B.LercAddCompression=B.LercParameters=B.ExtraSamplesValues=B.photometricInterpretations=B.fieldTypes=B.fieldTypeNames=B.arrayFields=B.fieldTagTypes=void 0;B.fieldTagNames={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",
290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",
328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",
286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",
42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"};B.fieldTags={};for(const v in B.fieldTagNames)B.fieldTagNames.hasOwnProperty(v)&&(B.fieldTags[B.fieldTagNames[v]]=parseInt(v,10));B.fieldTagTypes={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",279:"LONG",282:"RATIONAL",283:"RATIONAL",
284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",297:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",3072:"SHORT",3073:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"};B.arrayFields=[B.fieldTags.BitsPerSample,B.fieldTags.ExtraSamples,B.fieldTags.SampleFormat,B.fieldTags.StripByteCounts,B.fieldTags.StripOffsets,B.fieldTags.StripRowCounts,B.fieldTags.TileByteCounts,B.fieldTags.TileOffsets,
B.fieldTags.SubIFDs];B.fieldTypeNames={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"};B.fieldTypes={};for(const v in B.fieldTypeNames)B.fieldTypeNames.hasOwnProperty(v)&&(B.fieldTypes[B.fieldTypeNames[v]]=parseInt(v,10));B.photometricInterpretations={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9};B.ExtraSamplesValues={Unspecified:0,
Assocalpha:1,Unassalpha:2};B.LercParameters={Version:0,AddCompression:1};B.LercAddCompression={None:0,Deflate:1};B.geoKeyNames={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",
2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",
3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",
4099:"VerticalUnitsGeoKey"};B.geoKeys={};for(const v in B.geoKeyNames)B.geoKeyNames.hasOwnProperty(v)&&(B.geoKeys[B.geoKeyNames[v]]=parseInt(v,10))};
shadow$provide[280]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.fromCIELab=B.fromYCbCr=B.fromCMYK=B.fromPalette=B.fromBlackIsZero=B.fromWhiteIsZero=void 0;B.fromWhiteIsZero=function(v,k){const {width:p,height:A}=v,u=new Uint8Array(p*A*3);let m;for(let l=0,f=0;l<v.length;++l,f+=3)m=256-v[l]/k*256,u[f]=m,u[f+1]=m,u[f+2]=m;return u};B.fromBlackIsZero=function(v,k){const {width:p,height:A}=v,u=new Uint8Array(p*A*3);let m;for(let l=0,f=0;l<v.length;++l,f+=3)m=v[l]/k*256,u[f]=
m,u[f+1]=m,u[f+2]=m;return u};B.fromPalette=function(v,k){const {width:p,height:A}=v,u=new Uint8Array(p*A*3),m=k.length/3,l=k.length/3*2;for(let f=0,g=0;f<v.length;++f,g+=3){const d=v[f];u[g]=k[d]/65536*256;u[g+1]=k[d+m]/65536*256;u[g+2]=k[d+l]/65536*256}return u};B.fromCMYK=function(v){const {width:k,height:p}=v,A=new Uint8Array(k*p*3);for(let u=0,m=0;u<v.length;u+=4,m+=3){const l=v[u+1],f=v[u+2],g=v[u+3];A[m]=(255-v[u])/256*255*((255-g)/256);A[m+1]=(255-l)/256*255*((255-g)/256);A[m+2]=(255-f)/256*
255*((255-g)/256)}return A};B.fromYCbCr=function(v){const {width:k,height:p}=v,A=new Uint8ClampedArray(k*p*3);for(let u=0,m=0;u<v.length;u+=3,m+=3){const l=v[u],f=v[u+1],g=v[u+2];A[m]=l+1.402*(g-128);A[m+1]=l-.34414*(f-128)-.71414*(g-128);A[m+2]=l+1.772*(f-128)}return A};B.fromCIELab=function(v){const {width:k,height:p}=v,A=new Uint8Array(k*p*3);for(let m=0,l=0;m<v.length;m+=3,l+=3){var u=(v[m+0]+16)/116;let f=(v[m+1]<<24>>24)/500+u,g=u-(v[m+2]<<24>>24)/200,d,b;f=.95047*(.008856<f*f*f?f*f*f:(f-16/
116)/7.787);u=.008856<u*u*u?u*u*u:(u-16/116)/7.787;g=1.08883*(.008856<g*g*g?g*g*g:(g-16/116)/7.787);d=3.2406*f+-1.5372*u+-.4986*g;b=-.9689*f+1.8758*u+.0415*g;u=.0557*f+-.204*u+1.057*g;d=.0031308<d?1.055*Math.pow(d,1/2.4)-.055:12.92*d;b=.0031308<b?1.055*Math.pow(b,1/2.4)-.055:12.92*b;u=.0031308<u?1.055*Math.pow(u,1/2.4)-.055:12.92*u;A[l]=255*Math.max(0,Math.min(1,d));A[l+1]=255*Math.max(0,Math.min(1,b));A[l+2]=255*Math.max(0,Math.min(1,u))}return A}};
shadow$provide[281]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.applyPredictor=void 0;B.applyPredictor=function(v,k,p,A,u,m){if(!k||1===k)return v;for(var l=0;l<u.length;++l){if(0!==u[l]%8)throw Error("When decoding with predictor, only multiple of 8 bits are supported.");if(u[l]!==u[0])throw Error("When decoding with predictor, all samples must have the same size.");}l=u[0]/8;m=2===m?1:u.length;for(let e=0;e<A&&!(e*m*p*l>=v.byteLength);++e){var f=void 0;if(2===k){switch(u[0]){case 8:f=
new Uint8Array(v,e*m*p*l,m*p*l);break;case 16:f=new Uint16Array(v,e*m*p*l,m*p*l/2);break;case 32:f=new Uint32Array(v,e*m*p*l,m*p*l/4);break;default:throw Error(`Predictor 2 not allowed with ${u[0]} bits per sample.`);}var g=m,d=f.length-g,b=0;do{for(var c=g;0<c;c--)f[b+g]+=f[b],b++;d-=g}while(0<d)}else if(3===k){f=new Uint8Array(v,e*m*p*l,m*p*l);b=m;g=l;c=0;var a=f.length;for(d=a/g;a>b;){for(let t=b;0<t;--t)f[c+b]+=f[c],++c;a-=b}b=f.slice();for(c=0;c<d;++c)for(a=0;a<g;++a)f[g*c+a]=b[(g-a-1)*d+c]}}return v}};
shadow$provide[282]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});const v=z(281);class k{decode(p,A){const u=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const m=yield u.decodeBlock(A),l=p.Predictor||1;if(1!==l){const f=!p.StripOffsets;return(0,v.applyPredictor)(m,l,f?p.TileWidth:p.ImageWidth,f?p.TileLength:p.RowsPerStrip||p.ImageLength,p.BitsPerSample,p.PlanarConfiguration)}return m})}}B.default=k};
shadow$provide[283]=function(ra,z,cb,B){ra=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(B,"__esModule",{value:!0});z=ra(z(282));class v extends z.default{decodeBlock(k){return k}}B.default=v};
shadow$provide[284]=function(ra,z,cb,B){function v(A,u){for(let m=u.length-1;0<=m;m--)A.push(u[m]);return A}function k(A){function u(q){{var E=a,F=c,w=E%8;const G=Math.floor(E/8),L=8-w,O=E+F-8*(G+1);const V=8*(G+2)-E;var D=Math.max(0,8*(G+2)-(E+F));G>=q.length?(console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),q=257):(w=(q[G]&Math.pow(2,8-w)-1)<<F-L,G+1<q.length&&(D=q[G+1]>>>D,D<<=Math.max(0,F-V),w+=D),8<O&&G+2<q.length&&(w+=q[G+2]>>>8*(G+3)-(E+F)),q=w)}a+=
c;return q}function m(q,E){g[b]=E;f[b]=q;b++;return b-1}function l(q){const E=[];for(;4096!==q;q=f[q])E.push(g[q]);return E}const f=new Uint16Array(4093),g=new Uint8Array(4093);for(var d=0;257>=d;d++)f[d]=4096,g[d]=d;let b=258,c=9,a=0;d=[];b=258;c=9;A=new Uint8Array(A);let e=u(A);for(var t;257!==e;){if(256===e){b=258;c=9;for(e=u(A);256===e;)e=u(A);if(257===e)break;else{if(256<e)throw Error(`corrupted code at scanline ${e}`);t=l(e);v(d,t);t=e}}else{if(e<b){var y=l(e);v(d,y);m(t,y[y.length-1])}else{y=
l(t);if(!y)throw Error(`Bogus entry. Not in dictionary, ${t} / ${b}, position: ${a}`);v(d,y);d.push(y[y.length-1]);m(t,y[y.length-1])}t=e}b+1>=Math.pow(2,c)&&(12===c?t=void 0:c++);e=u(A)}return new Uint8Array(d)}ra=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{"default":A}};Object.defineProperty(B,"__esModule",{value:!0});z=ra(z(282));class p extends z.default{decodeBlock(A){return k(A,!1).buffer}}B.default=p};
shadow$provide[285]=function(ra,z,cb,B){function v(m,l){let f=0;const g=[];let d=16;for(;0<d&&!m[d-1];)--d;g.push({children:[],index:0});let b=g[0],c;for(let a=0;a<d;a++){for(let e=0;e<m[a];e++){b=g.pop();for(b.children[b.index]=l[f];0<b.index;)b=g.pop();b.index++;for(g.push(b);g.length<=a;)g.push(c={children:[],index:0}),b.children[b.index]=c.children,b=c;f++}a+1<d&&(g.push(c={children:[],index:0}),b.children[b.index]=c.children,b=c)}return g[0].children}function k(m,l,f,g,d,b,c,a,e){function t(){if(0<
ea)return ea--,ca>>ea&1;ca=m[S++];if(255===ca){const za=m[S++];if(za)throw Error(`unexpected marker: ${(ca<<8|za).toString(16)}`);}ea=7;return ca>>>7}function y(za){let Wa;for(;null!==(Wa=t());){za=za[Wa];if("number"===typeof za)return za;if("object"!==typeof za)throw Error("invalid huffman sequence");}return null}function q(za){let Wa=0;for(;0<za;){const hb=t();if(null===hb)return;Wa=Wa<<1|hb;--za}return Wa}function E(za){const Wa=q(za);return Wa>=1<<za-1?Wa:Wa+(-1<<za)+1}function F(za,Wa){var hb=
y(za.huffmanTableDC);hb=0===hb?0:E(hb);za.pred+=hb;Wa[0]=za.pred;for(hb=1;64>hb;){var Ja=y(za.huffmanTableAC);const qa=Ja&15;Ja>>=4;if(0===qa){if(15>Ja)break;hb+=16}else hb+=Ja,Wa[p[hb]]=E(qa),hb++}}function w(za,Wa){var hb=y(za.huffmanTableDC);hb=0===hb?0:E(hb)<<e;za.pred+=hb;Wa[0]=za.pred}function D(za,Wa){Wa[0]|=t()<<e}function G(za,Wa){if(0<T)T--;else for(var hb=b;hb<=c;){var Ja=y(za.huffmanTableAC);const qa=Ja&15;Ja>>=4;if(0===qa){if(15>Ja){T=q(Ja)+(1<<Ja)-1;break}hb+=16}else hb+=Ja,Wa[p[hb]]=
E(qa)*(1<<e),hb++}}function L(za,Wa){let hb=b;for(var Ja=0;hb<=c;){var qa=p[hb];const Da=0>Wa[qa]?-1:1;switch(R){case 0:Ja=y(za.huffmanTableAC);qa=Ja&15;Ja>>=4;if(0===qa)15>Ja?(T=q(Ja)+(1<<Ja),R=4):(Ja=16,R=1);else{if(1!==qa)throw Error("invalid ACn encoding");J=E(qa);R=Ja?2:3}continue;case 1:case 2:Wa[qa]?Wa[qa]+=(t()<<e)*Da:(Ja--,0===Ja&&(R=2===R?3:0));break;case 3:Wa[qa]?Wa[qa]+=(t()<<e)*Da:(Wa[qa]=J<<e,R=0);break;case 4:Wa[qa]&&(Wa[qa]+=(t()<<e)*Da)}hb++}4===R&&(T--,0===T&&(R=0))}const {mcusPerLine:O,
progressive:V}=f;let S=l,ca=0,ea=0,T=0,R=0,J;const r=g.length;let C,N,U,ja;a=V?0===b?0===a?w:D:0===a?G:L:F;let ba=0;f=1===r?g[0].blocksPerLine*g[0].blocksPerColumn:O*f.mcusPerColumn;for(d=d||f;ba<f;){for(C=0;C<r;C++)g[C].pred=0;T=0;if(1===r){var ia=g[0];for(ja=0;ja<d;ja++)a(ia,ia.blocks[ba/ia.blocksPerLine|0][ba%ia.blocksPerLine]),ba++}else for(ja=0;ja<d;ja++){for(C=0;C<r;C++){ia=g[C];const {h:za,v:Wa}=ia;for(N=0;N<Wa;N++)for(U=0;U<za;U++)a(ia,ia.blocks[(ba/O|0)*ia.v+N][ba%O*ia.h+U])}ba++;if(ba===
f)break}ea=0;ia=m[S]<<8|m[S+1];if(65280>ia)throw Error("marker was not found");if(65488<=ia&&65495>=ia)S+=2;else break}return S-l}ra=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{"default":m}};Object.defineProperty(B,"__esModule",{value:!0});z=ra(z(282));const p=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);class A{constructor(){this.adobe=
this.jfif=null;this.quantizationTables=[];this.huffmanTablesAC=[];this.huffmanTablesDC=[];this.resetFrames()}resetFrames(){this.frames=[]}parse(m){function l(){const E=m[d]<<8|m[d+1];d+=2;return E}function f(){var E=l();E=m.subarray(d,d+E-2);d+=E.length;return E}function g(E){let F=0,w=0,D,G;for(G in E.components)E.components.hasOwnProperty(G)&&(D=E.components[G],F<D.h&&(F=D.h),w<D.v&&(w=D.v));const L=Math.ceil(E.samplesPerLine/8/F),O=Math.ceil(E.scanLines/8/w);for(G in E.components)if(E.components.hasOwnProperty(G)){D=
E.components[G];const V=Math.ceil(Math.ceil(E.samplesPerLine/8)*D.h/F),S=Math.ceil(Math.ceil(E.scanLines/8)*D.v/w),ca=L*D.h,ea=O*D.v,T=[];for(let R=0;R<ea;R++){const J=[];for(let r=0;r<ca;r++)J.push(new Int32Array(64));T.push(J)}D.blocksPerLine=V;D.blocksPerColumn=S;D.blocks=T}E.maxH=F;E.maxV=w;E.mcusPerLine=L;E.mcusPerColumn=O}let d=0;var b=l();if(65496!==b)throw Error("SOI not found");for(b=l();65497!==b;){switch(b){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var c=
f();65504===b&&74===c[0]&&70===c[1]&&73===c[2]&&70===c[3]&&0===c[4]&&(this.jfif={version:{major:c[5],minor:c[6]},densityUnits:c[7],xDensity:c[8]<<8|c[9],yDensity:c[10]<<8|c[11],thumbWidth:c[12],thumbHeight:c[13],thumbData:c.subarray(14,14+3*c[12]*c[13])});65518===b&&65===c[0]&&100===c[1]&&111===c[2]&&98===c[3]&&101===c[4]&&0===c[5]&&(this.adobe={version:c[6],flags0:c[7]<<8|c[8],flags1:c[9]<<8|c[10],transformCode:c[11]});break;case 65499:for(b=l()+d-2;d<b;){c=m[d++];var a=new Int32Array(64);if(0===
c>>4)for(var e=0;64>e;e++)a[p[e]]=m[d++];else if(1===c>>4)for(e=0;64>e;e++)a[p[e]]=l();else throw Error("DQT: invalid table spec");this.quantizationTables[c&15]=a}break;case 65472:case 65473:case 65474:l();b={extended:65473===b,progressive:65474===b,precision:m[d++],scanLines:l(),samplesPerLine:l(),components:{},componentsOrder:[]};c=m[d++];for(e=0;e<c;e++){a=m[d];var t=m[d+1]>>4,y=m[d+1]&15,q=m[d+2];b.componentsOrder.push(a);b.components[a]={h:t,v:y,quantizationIdx:q};d+=3}g(b);this.frames.push(b);
break;case 65476:b=l();for(c=2;c<b;){a=m[d++];e=new Uint8Array(16);t=0;for(y=0;16>y;y++,d++)e[y]=m[d],t+=e[y];y=new Uint8Array(t);for(q=0;q<t;q++,d++)y[q]=m[d];c+=17+t;0===a>>4?this.huffmanTablesDC[a&15]=v(e,y):this.huffmanTablesAC[a&15]=v(e,y)}break;case 65501:l();this.resetInterval=l();break;case 65498:l();a=m[d++];b=[];c=this.frames[0];for(e=0;e<a;e++)t=c.components[m[d++]],y=m[d++],t.huffmanTableDC=this.huffmanTablesDC[y>>4],t.huffmanTableAC=this.huffmanTablesAC[y&15],b.push(t);a=m[d++];e=m[d++];
t=m[d++];b=k(m,d,c,b,this.resetInterval,a,e,t>>4,t&15);d+=b;break;case 65535:255!==m[d]&&d--;break;default:if(255===m[d-3]&&192<=m[d-2]&&254>=m[d-2])d-=3;else throw Error(`unknown JPEG marker ${b.toString(16)}`);}b=l()}}getResult(){var {frames:m}=this;if(0===this.frames.length)throw Error("no frames were decoded");1<this.frames.length&&console.warn("more than one frame is not supported");for(var l=0;l<this.frames.length;l++){var f=this.frames[l].components;for(var g of Object.keys(f))f[g].quantizationTable=
this.quantizationTables[f[g].quantizationIdx],delete f[g].quantizationIdx}g=m[0];const {components:d,componentsOrder:b}=g;m=[];l=g.samplesPerLine;f=g.scanLines;for(var c=0;c<b.length;c++){var a=d[b[c]],e=m,t=e.push,y=a;const V=[],{blocksPerLine:S,blocksPerColumn:ca}=y,ea=S<<3,T=new Int32Array(64),R=new Uint8Array(64);for(let J=0;J<ca;J++){const r=J<<3;for(var q=0;8>q;q++)V.push(new Uint8Array(ea));for(q=0;q<S;q++){var E=void 0,F=void 0,w=void 0;let C,N,U,ja,ba,ia,za;F=y.blocks[J][q];var D=R,G=T;w=
y.quantizationTable;var L=G;for(E=0;64>E;E++)L[E]=F[E]*w[E];for(E=0;8>E;++E){var O=8*E;0===L[1+O]&&0===L[2+O]&&0===L[3+O]&&0===L[4+O]&&0===L[5+O]&&0===L[6+O]&&0===L[7+O]?(F=5793*L[0+O]+512>>10,L[0+O]=F,L[1+O]=F,L[2+O]=F,L[3+O]=F,L[4+O]=F,L[5+O]=F,L[6+O]=F,L[7+O]=F):(za=5793*L[0+O]+128>>8,ia=5793*L[4+O]+128>>8,ba=L[2+O],ja=L[6+O],U=2896*(L[1+O]-L[7+O])+128>>8,w=2896*(L[1+O]+L[7+O])+128>>8,N=L[3+O]<<4,C=L[5+O]<<4,F=za-ia+1>>1,za=za+ia+1>>1,ia=F,F=3784*ba+1567*ja+128>>8,ba=1567*ba-3784*ja+128>>8,ja=
F,F=U-C+1>>1,U=U+C+1>>1,C=F,F=w+N+1>>1,N=w-N+1>>1,w=F,F=za-ja+1>>1,za=za+ja+1>>1,ja=F,F=ia-ba+1>>1,ia=ia+ba+1>>1,ba=F,F=2276*U+3406*w+2048>>12,U=3406*U-2276*w+2048>>12,w=F,F=799*N+4017*C+2048>>12,N=4017*N-799*C+2048>>12,C=F,L[0+O]=za+w,L[7+O]=za-w,L[1+O]=ia+C,L[6+O]=ia-C,L[2+O]=ba+N,L[5+O]=ba-N,L[3+O]=ja+U,L[4+O]=ja-U)}for(E=0;8>E;++E)O=E,0===L[8+O]&&0===L[16+O]&&0===L[24+O]&&0===L[32+O]&&0===L[40+O]&&0===L[48+O]&&0===L[56+O]?(F=5793*G[E+0]+8192>>14,L[0+O]=F,L[8+O]=F,L[16+O]=F,L[24+O]=F,L[32+O]=F,
L[40+O]=F,L[48+O]=F,L[56+O]=F):(za=5793*L[0+O]+2048>>12,ia=5793*L[32+O]+2048>>12,ba=L[16+O],ja=L[48+O],U=2896*(L[8+O]-L[56+O])+2048>>12,w=2896*(L[8+O]+L[56+O])+2048>>12,N=L[24+O],C=L[40+O],F=za-ia+1>>1,za=za+ia+1>>1,ia=F,F=3784*ba+1567*ja+2048>>12,ba=1567*ba-3784*ja+2048>>12,ja=F,F=U-C+1>>1,U=U+C+1>>1,C=F,F=w+N+1>>1,N=w-N+1>>1,w=F,F=za-ja+1>>1,za=za+ja+1>>1,ja=F,F=ia-ba+1>>1,ia=ia+ba+1>>1,ba=F,F=2276*U+3406*w+2048>>12,U=3406*U-2276*w+2048>>12,w=F,F=799*N+4017*C+2048>>12,N=4017*N-799*C+2048>>12,C=
F,L[0+O]=za+w,L[56+O]=za-w,L[8+O]=ia+C,L[48+O]=ia-C,L[16+O]=ba+N,L[40+O]=ba-N,L[24+O]=ja+U,L[32+O]=ja-U);for(E=0;64>E;++E)G=128+(L[E]+8>>4),D[E]=0>G?0:255<G?255:G;D=0;E=q<<3;for(L=0;8>L;L++)for(G=V[r+L],F=0;8>F;F++)G[E+F]=R[D++]}}t.call(e,{lines:V,scaleX:a.h/g.maxH,scaleY:a.v/g.maxV})}g=new Uint8Array(l*f*m.length);e=0;for(t=0;t<f;++t)for(y=0;y<l;++y)for(c=0;c<m.length;++c)a=m[c],g[e]=a.lines[0|t*a.scaleY][0|y*a.scaleX],++e;return g}}class u extends z.default{constructor(m){super();this.reader=new A;
m.JPEGTables&&this.reader.parse(m.JPEGTables)}decodeBlock(m){this.reader.resetFrames();this.reader.parse(new Uint8Array(m));return this.reader.getResult().buffer}}B.default=u};
shadow$provide[286]=function(ra,z,cb,B){function v(ua){let vb=ua.length;for(;0<=--vb;)ua[vb]=0}function k(ua,vb,Oa,ic,la){this.static_tree=ua;this.extra_bits=vb;this.extra_base=Oa;this.elems=ic;this.max_length=la;this.has_stree=ua&&ua.length}function p(ua,vb){this.dyn_tree=ua;this.max_code=0;this.stat_desc=vb}function A(ua,vb,Oa,ic,la){this.good_length=ua;this.max_lazy=vb;this.nice_length=Oa;this.max_chain=ic;this.func=la}function u(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=
this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=jd;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=
this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);tb(this.dyn_ltree);tb(this.dyn_dtree);tb(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);tb(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);tb(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=
0}function m(ua){ua=this.options=Ob.assign({level:ce,method:af,chunkSize:16384,windowBits:15,memLevel:8,strategy:Td},ua||{});ua.raw&&0<ua.windowBits?ua.windowBits=-ua.windowBits:ua.gzip&&0<ua.windowBits&&16>ua.windowBits&&(ua.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Wc;this.strm.avail_out=0;let vb=Ab.deflateInit2(this.strm,ua.level,ua.method,ua.windowBits,ua.memLevel,ua.strategy);if(vb!==fe)throw Error(Da[vb]);ua.header&&Ab.deflateSetHeader(this.strm,ua.header);
if(ua.dictionary){ua="string"===typeof ua.dictionary?Jc.string2buf(ua.dictionary):"[object ArrayBuffer]"===dd.call(ua.dictionary)?new Uint8Array(ua.dictionary):ua.dictionary;vb=Ab.deflateSetDictionary(this.strm,ua);if(vb!==fe)throw Error(Da[vb]);this._dict_set=!0}}function l(ua,vb){vb=new m(vb);vb.push(ua,!0);if(vb.err)throw vb.msg||Da[vb.err];return vb.result}function f(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=
this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function g(ua){const vb=this.options=Ob.assign({chunkSize:65536,windowBits:15,to:""},ua||{});vb.raw&&0<=vb.windowBits&&16>vb.windowBits&&(vb.windowBits=
-vb.windowBits,0===vb.windowBits&&(vb.windowBits=-15));!(0<=vb.windowBits&&16>vb.windowBits)||ua&&ua.windowBits||(vb.windowBits+=32);15<vb.windowBits&&48>vb.windowBits&&0===(vb.windowBits&15)&&(vb.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new Wc;this.strm.avail_out=0;ua=sc.inflateInit2(this.strm,vb.windowBits);if(ua!==hf)throw Error(Da[ua]);this.header=new cd;sc.inflateGetHeader(this.strm,this.header);if(vb.dictionary&&("string"===typeof vb.dictionary?vb.dictionary=
Jc.string2buf(vb.dictionary):"[object ArrayBuffer]"===wd.call(vb.dictionary)&&(vb.dictionary=new Uint8Array(vb.dictionary)),vb.raw&&(ua=sc.inflateSetDictionary(this.strm,vb.dictionary),ua!==hf)))throw Error(Da[ua]);}function d(ua,vb){vb=new g(vb);vb.push(ua);if(vb.err)throw vb.msg||Da[vb.err];return vb.result}Object.defineProperty(B,"__esModule",{value:!0});B.ungzip=B.inflateRaw=B.inflate=B.gzip=B.deflateRaw=B.deflate=B.default=B.constants=B.Inflate=B.Deflate=void 0;const b=new Uint8Array([0,0,0,
0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),c=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),e=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),t=Array(576);v(t);const y=Array(60);v(y);const q=Array(512);v(q);const E=Array(256);v(E);const F=Array(29);v(F);const w=Array(30);v(w);let D,G,L;const O=(ua,vb)=>{ua.pending_buf[ua.pending++]=vb&255;ua.pending_buf[ua.pending++]=vb>>>8&
255},V=(ua,vb,Oa)=>{ua.bi_valid>16-Oa?(ua.bi_buf|=vb<<ua.bi_valid&65535,O(ua,ua.bi_buf),ua.bi_buf=vb>>16-ua.bi_valid,ua.bi_valid+=Oa-16):(ua.bi_buf|=vb<<ua.bi_valid&65535,ua.bi_valid+=Oa)},S=(ua,vb,Oa)=>{V(ua,Oa[2*vb],Oa[2*vb+1])},ca=(ua,vb)=>{let Oa=0;do Oa|=ua&1,ua>>>=1,Oa<<=1;while(0<--vb);return Oa>>>1},ea=(ua,vb,Oa)=>{const ic=Array(16);var la=0;let Qa;for(Qa=1;15>=Qa;Qa++)ic[Qa]=la=la+Oa[Qa-1]<<1;for(Oa=0;Oa<=vb;Oa++)la=ua[2*Oa+1],0!==la&&(ua[2*Oa]=ca(ic[la]++,la))},T=ua=>{let vb;for(vb=0;286>
vb;vb++)ua.dyn_ltree[2*vb]=0;for(vb=0;30>vb;vb++)ua.dyn_dtree[2*vb]=0;for(vb=0;19>vb;vb++)ua.bl_tree[2*vb]=0;ua.dyn_ltree[512]=1;ua.opt_len=ua.static_len=0;ua.last_lit=ua.matches=0},R=ua=>{8<ua.bi_valid?O(ua,ua.bi_buf):0<ua.bi_valid&&(ua.pending_buf[ua.pending++]=ua.bi_buf);ua.bi_buf=0;ua.bi_valid=0},J=(ua,vb,Oa,ic)=>{const la=2*vb,Qa=2*Oa;return ua[la]<ua[Qa]||ua[la]===ua[Qa]&&ic[vb]<=ic[Oa]},r=(ua,vb,Oa)=>{const ic=ua.heap[Oa];let la=Oa<<1;for(;la<=ua.heap_len;){la<ua.heap_len&&J(vb,ua.heap[la+
1],ua.heap[la],ua.depth)&&la++;if(J(vb,ic,ua.heap[la],ua.depth))break;ua.heap[Oa]=ua.heap[la];Oa=la;la<<=1}ua.heap[Oa]=ic},C=(ua,vb,Oa)=>{let ic,la,Qa=0,fb,xb;if(0!==ua.last_lit){do ic=ua.pending_buf[ua.d_buf+2*Qa]<<8|ua.pending_buf[ua.d_buf+2*Qa+1],la=ua.pending_buf[ua.l_buf+Qa],Qa++,0===ic?S(ua,la,vb):(fb=E[la],S(ua,fb+256+1,vb),xb=b[fb],0!==xb&&(la-=F[fb],V(ua,la,xb)),ic--,fb=256>ic?q[ic]:q[256+(ic>>>7)],S(ua,fb,Oa),xb=c[fb],0!==xb&&(ic-=w[fb],V(ua,ic,xb)));while(Qa<ua.last_lit)}S(ua,256,vb)},
N=(ua,vb)=>{const Oa=vb.dyn_tree;var ic=vb.stat_desc.static_tree,la=vb.stat_desc.has_stree,Qa=vb.stat_desc.elems,fb;let xb=-1;ua.heap_len=0;ua.heap_max=573;for(fb=0;fb<Qa;fb++)0!==Oa[2*fb]?(ua.heap[++ua.heap_len]=xb=fb,ua.depth[fb]=0):Oa[2*fb+1]=0;for(;2>ua.heap_len;){var Fb=ua.heap[++ua.heap_len]=2>xb?++xb:0;Oa[2*Fb]=1;ua.depth[Fb]=0;ua.opt_len--;la&&(ua.static_len-=ic[2*Fb+1])}vb.max_code=xb;for(fb=ua.heap_len>>1;1<=fb;fb--)r(ua,Oa,fb);Fb=Qa;do fb=ua.heap[1],ua.heap[1]=ua.heap[ua.heap_len--],r(ua,
Oa,1),ic=ua.heap[1],ua.heap[--ua.heap_max]=fb,ua.heap[--ua.heap_max]=ic,Oa[2*Fb]=Oa[2*fb]+Oa[2*ic],ua.depth[Fb]=(ua.depth[fb]>=ua.depth[ic]?ua.depth[fb]:ua.depth[ic])+1,Oa[2*fb+1]=Oa[2*ic+1]=Fb,ua.heap[1]=Fb++,r(ua,Oa,1);while(2<=ua.heap_len);ua.heap[--ua.heap_max]=ua.heap[1];{fb=vb.dyn_tree;Fb=vb.max_code;ic=vb.stat_desc.static_tree;la=vb.stat_desc.has_stree;Qa=vb.stat_desc.extra_bits;const ac=vb.stat_desc.extra_base,yc=vb.stat_desc.max_length;let Zc,ad,Lc,Ec,tc=0;for(ad=0;15>=ad;ad++)ua.bl_count[ad]=
0;fb[2*ua.heap[ua.heap_max]+1]=0;for(vb=ua.heap_max+1;573>vb;vb++)Zc=ua.heap[vb],ad=fb[2*fb[2*Zc+1]+1]+1,ad>yc&&(ad=yc,tc++),fb[2*Zc+1]=ad,Zc>Fb||(ua.bl_count[ad]++,Lc=0,Zc>=ac&&(Lc=Qa[Zc-ac]),Ec=fb[2*Zc],ua.opt_len+=Ec*(ad+Lc),la&&(ua.static_len+=Ec*(ic[2*Zc+1]+Lc)));if(0!==tc){do{for(ad=yc-1;0===ua.bl_count[ad];)ad--;ua.bl_count[ad]--;ua.bl_count[ad+1]+=2;ua.bl_count[yc]--;tc-=2}while(0<tc);for(ad=yc;0!==ad;ad--)for(Zc=ua.bl_count[ad];0!==Zc;)ic=ua.heap[--vb],ic>Fb||(fb[2*ic+1]!==ad&&(ua.opt_len+=
(ad-fb[2*ic+1])*fb[2*ic],fb[2*ic+1]=ad),Zc--)}}ea(Oa,xb,ua.bl_count)},U=(ua,vb,Oa)=>{let ic,la=-1,Qa,fb=vb[1],xb=0,Fb=7,ac=4;0===fb&&(Fb=138,ac=3);vb[2*(Oa+1)+1]=65535;for(ic=0;ic<=Oa;ic++)Qa=fb,fb=vb[2*(ic+1)+1],++xb<Fb&&Qa===fb||(xb<ac?ua.bl_tree[2*Qa]+=xb:0!==Qa?(Qa!==la&&ua.bl_tree[2*Qa]++,ua.bl_tree[32]++):10>=xb?ua.bl_tree[34]++:ua.bl_tree[36]++,xb=0,la=Qa,0===fb?(Fb=138,ac=3):Qa===fb?(Fb=6,ac=3):(Fb=7,ac=4))},ja=(ua,vb,Oa)=>{let ic,la=-1,Qa,fb=vb[1],xb=0,Fb=7,ac=4;0===fb&&(Fb=138,ac=3);for(ic=
0;ic<=Oa;ic++)if(Qa=fb,fb=vb[2*(ic+1)+1],!(++xb<Fb&&Qa===fb)){if(xb<ac){do S(ua,Qa,ua.bl_tree);while(0!==--xb)}else 0!==Qa?(Qa!==la&&(S(ua,Qa,ua.bl_tree),xb--),S(ua,16,ua.bl_tree),V(ua,xb-3,2)):10>=xb?(S(ua,17,ua.bl_tree),V(ua,xb-3,3)):(S(ua,18,ua.bl_tree),V(ua,xb-11,7));xb=0;la=Qa;0===fb?(Fb=138,ac=3):Qa===fb?(Fb=6,ac=3):(Fb=7,ac=4)}},ba=ua=>{let vb=4093624447,Oa;for(Oa=0;31>=Oa;Oa++,vb>>>=1)if(vb&1&&0!==ua.dyn_ltree[2*Oa])return 0;if(0!==ua.dyn_ltree[18]||0!==ua.dyn_ltree[20]||0!==ua.dyn_ltree[26])return 1;
for(Oa=32;256>Oa;Oa++)if(0!==ua.dyn_ltree[2*Oa])return 1;return 0};let ia=!1;const za=(ua,vb,Oa,ic)=>{V(ua,ic?1:0,3);R(ua);O(ua,Oa);O(ua,~Oa);ua.pending_buf.set(ua.window.subarray(vb,vb+Oa),ua.pending);ua.pending+=Oa};var Wa={_tr_init:ua=>{if(!ia){var vb,Oa;let ic;const la=Array(16);for(ic=Oa=0;28>ic;ic++)for(F[ic]=Oa,vb=0;vb<1<<b[ic];vb++)E[Oa++]=ic;E[Oa-1]=ic;for(ic=Oa=0;16>ic;ic++)for(w[ic]=Oa,vb=0;vb<1<<c[ic];vb++)q[Oa++]=ic;for(Oa>>=7;30>ic;ic++)for(w[ic]=Oa<<7,vb=0;vb<1<<c[ic]-7;vb++)q[256+
Oa++]=ic;for(vb=0;15>=vb;vb++)la[vb]=0;for(vb=0;143>=vb;)t[2*vb+1]=8,vb++,la[8]++;for(;255>=vb;)t[2*vb+1]=9,vb++,la[9]++;for(;279>=vb;)t[2*vb+1]=7,vb++,la[7]++;for(;287>=vb;)t[2*vb+1]=8,vb++,la[8]++;ea(t,287,la);for(vb=0;30>vb;vb++)y[2*vb+1]=5,y[2*vb]=ca(vb,5);D=new k(t,b,257,286,15);G=new k(y,c,0,30,15);L=new k([],a,0,19,7);ia=!0}ua.l_desc=new p(ua.dyn_ltree,D);ua.d_desc=new p(ua.dyn_dtree,G);ua.bl_desc=new p(ua.bl_tree,L);ua.bi_buf=0;ua.bi_valid=0;T(ua)},_tr_stored_block:za,_tr_flush_block:(ua,
vb,Oa,ic)=>{let la;var Qa=0;if(0<ua.level){2===ua.strm.data_type&&(ua.strm.data_type=ba(ua));N(ua,ua.l_desc);N(ua,ua.d_desc);U(ua,ua.dyn_ltree,ua.l_desc.max_code);U(ua,ua.dyn_dtree,ua.d_desc.max_code);N(ua,ua.bl_desc);for(Qa=18;3<=Qa&&0===ua.bl_tree[2*e[Qa]+1];Qa--);ua.opt_len+=3*(Qa+1)+14;var fb=ua.opt_len+3+7>>>3;la=ua.static_len+3+7>>>3;la<=fb&&(fb=la)}else fb=la=Oa+5;if(Oa+4<=fb&&-1!==vb)za(ua,vb,Oa,ic);else if(4===ua.strategy||la===fb)V(ua,2+(ic?1:0),3),C(ua,t,y);else{V(ua,4+(ic?1:0),3);vb=ua.l_desc.max_code+
1;Oa=ua.d_desc.max_code+1;Qa+=1;V(ua,vb-257,5);V(ua,Oa-1,5);V(ua,Qa-4,4);for(fb=0;fb<Qa;fb++)V(ua,ua.bl_tree[2*e[fb]+1],3);ja(ua,ua.dyn_ltree,vb-1);ja(ua,ua.dyn_dtree,Oa-1);C(ua,ua.dyn_ltree,ua.dyn_dtree)}T(ua);ic&&R(ua)},_tr_tally:(ua,vb,Oa)=>{ua.pending_buf[ua.d_buf+2*ua.last_lit]=vb>>>8&255;ua.pending_buf[ua.d_buf+2*ua.last_lit+1]=vb&255;ua.pending_buf[ua.l_buf+ua.last_lit]=Oa&255;ua.last_lit++;0===vb?ua.dyn_ltree[2*Oa]++:(ua.matches++,vb--,ua.dyn_ltree[2*(E[Oa]+256+1)]++,ua.dyn_dtree[2*(256>vb?
q[vb]:q[256+(vb>>>7)])]++);return ua.last_lit===ua.lit_bufsize-1},_tr_align:ua=>{V(ua,2,3);S(ua,256,t);16===ua.bi_valid?(O(ua,ua.bi_buf),ua.bi_buf=0,ua.bi_valid=0):8<=ua.bi_valid&&(ua.pending_buf[ua.pending++]=ua.bi_buf&255,ua.bi_buf>>=8,ua.bi_valid-=8)}},hb=(ua,vb,Oa,ic)=>{let la=ua&65535|0;ua=ua>>>16&65535|0;let Qa;for(;0!==Oa;){Qa=2E3<Oa?2E3:Oa;Oa-=Qa;do la=la+vb[ic++]|0,ua=ua+la|0;while(--Qa);la%=65521;ua%=65521}return la|ua<<16|0};const Ja=new Uint32Array((()=>{let ua,vb=[];for(var Oa=0;256>
Oa;Oa++){ua=Oa;for(var ic=0;8>ic;ic++)ua=ua&1?3988292384^ua>>>1:ua>>>1;vb[Oa]=ua}return vb})());var qa=(ua,vb,Oa,ic)=>{Oa=ic+Oa;for(ua^=-1;ic<Oa;ic++)ua=ua>>>8^Ja[(ua^vb[ic])&255];return ua^-1},Da={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},va={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,
Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const {_tr_init:sa,_tr_stored_block:xa,_tr_flush_block:ma,_tr_tally:Ea,_tr_align:Ua}=Wa,{Z_NO_FLUSH:ab,Z_PARTIAL_FLUSH:ta,Z_FULL_FLUSH:Na,Z_FINISH:oa,Z_BLOCK:aa,Z_OK:ka,Z_STREAM_END:Ia,Z_STREAM_ERROR:Xa,Z_DATA_ERROR:Ya,Z_BUF_ERROR:mb,
Z_DEFAULT_COMPRESSION:ib,Z_FILTERED:Eb,Z_HUFFMAN_ONLY:Zb,Z_RLE:Gc,Z_FIXED:xc,Z_DEFAULT_STRATEGY:Ic,Z_UNKNOWN:rc,Z_DEFLATED:jd}=va,Bb=(ua,vb)=>{ua.msg=Da[vb];return vb},tb=ua=>{let vb=ua.length;for(;0<=--vb;)ua[vb]=0},dc=ua=>{const vb=ua.state;let Oa=vb.pending;Oa>ua.avail_out&&(Oa=ua.avail_out);0!==Oa&&(ua.output.set(vb.pending_buf.subarray(vb.pending_out,vb.pending_out+Oa),ua.next_out),ua.next_out+=Oa,vb.pending_out+=Oa,ua.total_out+=Oa,ua.avail_out-=Oa,vb.pending-=Oa,0===vb.pending&&(vb.pending_out=
0))},Yb=(ua,vb)=>{ma(ua,0<=ua.block_start?ua.block_start:-1,ua.strstart-ua.block_start,vb);ua.block_start=ua.strstart;dc(ua.strm)},hc=(ua,vb)=>{ua.pending_buf[ua.pending++]=vb>>>8&255;ua.pending_buf[ua.pending++]=vb&255},vc=(ua,vb)=>{let Oa=ua.max_chain_length,ic=ua.strstart;let la=ua.prev_length,Qa=ua.nice_match;const fb=ua.strstart>ua.w_size-262?ua.strstart-(ua.w_size-262):0,xb=ua.window,Fb=ua.w_mask,ac=ua.prev,yc=ua.strstart+258;let Zc=xb[ic+la-1],ad=xb[ic+la];ua.prev_length>=ua.good_match&&(Oa>>=
2);Qa>ua.lookahead&&(Qa=ua.lookahead);do{var Lc=vb;if(xb[Lc+la]===ad&&xb[Lc+la-1]===Zc&&xb[Lc]===xb[ic]&&xb[++Lc]===xb[ic+1]){ic+=2;for(Lc++;xb[++ic]===xb[++Lc]&&xb[++ic]===xb[++Lc]&&xb[++ic]===xb[++Lc]&&xb[++ic]===xb[++Lc]&&xb[++ic]===xb[++Lc]&&xb[++ic]===xb[++Lc]&&xb[++ic]===xb[++Lc]&&xb[++ic]===xb[++Lc]&&ic<yc;);Lc=258-(yc-ic);ic=yc-258;if(Lc>la){ua.match_start=vb;la=Lc;if(Lc>=Qa)break;Zc=xb[ic+la-1];ad=xb[ic+la]}}}while((vb=ac[vb&Fb])>fb&&0!==--Oa);return la<=ua.lookahead?la:ua.lookahead},qc=
ua=>{const vb=ua.w_size;var Oa;do{var ic=ua.window_size-ua.lookahead-ua.strstart;if(ua.strstart>=vb+(vb-262)){ua.window.set(ua.window.subarray(vb,vb+vb),0);ua.match_start-=vb;ua.strstart-=vb;ua.block_start-=vb;var la=Oa=ua.hash_size;do{var Qa=ua.head[--la];ua.head[la]=Qa>=vb?Qa-vb:0}while(--Oa);la=Oa=vb;do Qa=ua.prev[--la],ua.prev[la]=Qa>=vb?Qa-vb:0;while(--Oa);ic+=vb}if(0===ua.strm.avail_in)break;{la=ua.strm;Oa=ua.window;Qa=ua.strstart+ua.lookahead;let fb=la.avail_in;fb>ic&&(fb=ic);0===fb?Oa=0:(la.avail_in-=
fb,Oa.set(la.input.subarray(la.next_in,la.next_in+fb),Qa),1===la.state.wrap?la.adler=hb(la.adler,Oa,fb,Qa):2===la.state.wrap&&(la.adler=qa(la.adler,Oa,fb,Qa)),la.next_in+=fb,la.total_in+=fb,Oa=fb)}ua.lookahead+=Oa;if(3<=ua.lookahead+ua.insert)for(ic=ua.strstart-ua.insert,ua.ins_h=ua.window[ic],ua.ins_h=(ua.ins_h<<ua.hash_shift^ua.window[ic+1])&ua.hash_mask;ua.insert&&!(ua.ins_h=(ua.ins_h<<ua.hash_shift^ua.window[ic+3-1])&ua.hash_mask,ua.prev[ic&ua.w_mask]=ua.head[ua.ins_h],ua.head[ua.ins_h]=ic,ic++,
ua.insert--,3>ua.lookahead+ua.insert););}while(262>ua.lookahead&&0!==ua.strm.avail_in)},Dc=(ua,vb)=>{for(var Oa;;){if(262>ua.lookahead){qc(ua);if(262>ua.lookahead&&vb===ab)return 1;if(0===ua.lookahead)break}Oa=0;3<=ua.lookahead&&(ua.ins_h=(ua.ins_h<<ua.hash_shift^ua.window[ua.strstart+3-1])&ua.hash_mask,Oa=ua.prev[ua.strstart&ua.w_mask]=ua.head[ua.ins_h],ua.head[ua.ins_h]=ua.strstart);0!==Oa&&ua.strstart-Oa<=ua.w_size-262&&(ua.match_length=vc(ua,Oa));if(3<=ua.match_length)if(Oa=Ea(ua,ua.strstart-
ua.match_start,ua.match_length-3),ua.lookahead-=ua.match_length,ua.match_length<=ua.max_lazy_match&&3<=ua.lookahead){ua.match_length--;do ua.strstart++,ua.ins_h=(ua.ins_h<<ua.hash_shift^ua.window[ua.strstart+3-1])&ua.hash_mask,ua.prev[ua.strstart&ua.w_mask]=ua.head[ua.ins_h],ua.head[ua.ins_h]=ua.strstart;while(0!==--ua.match_length);ua.strstart++}else ua.strstart+=ua.match_length,ua.match_length=0,ua.ins_h=ua.window[ua.strstart],ua.ins_h=(ua.ins_h<<ua.hash_shift^ua.window[ua.strstart+1])&ua.hash_mask;
else Oa=Ea(ua,0,ua.window[ua.strstart]),ua.lookahead--,ua.strstart++;if(Oa&&(Yb(ua,!1),0===ua.strm.avail_out))return 1}ua.insert=2>ua.strstart?ua.strstart:2;return vb===oa?(Yb(ua,!0),0===ua.strm.avail_out?3:4):ua.last_lit&&(Yb(ua,!1),0===ua.strm.avail_out)?1:2},Yc=(ua,vb)=>{let Oa;for(;;){if(262>ua.lookahead){qc(ua);if(262>ua.lookahead&&vb===ab)return 1;if(0===ua.lookahead)break}var ic=0;3<=ua.lookahead&&(ua.ins_h=(ua.ins_h<<ua.hash_shift^ua.window[ua.strstart+3-1])&ua.hash_mask,ic=ua.prev[ua.strstart&
ua.w_mask]=ua.head[ua.ins_h],ua.head[ua.ins_h]=ua.strstart);ua.prev_length=ua.match_length;ua.prev_match=ua.match_start;ua.match_length=2;0!==ic&&ua.prev_length<ua.max_lazy_match&&ua.strstart-ic<=ua.w_size-262&&(ua.match_length=vc(ua,ic),5>=ua.match_length&&(ua.strategy===Eb||3===ua.match_length&&4096<ua.strstart-ua.match_start)&&(ua.match_length=2));if(3<=ua.prev_length&&ua.match_length<=ua.prev_length){Oa=ua.strstart+ua.lookahead-3;ic=Ea(ua,ua.strstart-1-ua.prev_match,ua.prev_length-3);ua.lookahead-=
ua.prev_length-1;ua.prev_length-=2;do++ua.strstart<=Oa&&(ua.ins_h=(ua.ins_h<<ua.hash_shift^ua.window[ua.strstart+3-1])&ua.hash_mask,ua.prev[ua.strstart&ua.w_mask]=ua.head[ua.ins_h],ua.head[ua.ins_h]=ua.strstart);while(0!==--ua.prev_length);ua.match_available=0;ua.match_length=2;ua.strstart++;if(ic&&(Yb(ua,!1),0===ua.strm.avail_out))return 1}else if(ua.match_available){if((ic=Ea(ua,0,ua.window[ua.strstart-1]))&&Yb(ua,!1),ua.strstart++,ua.lookahead--,0===ua.strm.avail_out)return 1}else ua.match_available=
1,ua.strstart++,ua.lookahead--}ua.match_available&&(Ea(ua,0,ua.window[ua.strstart-1]),ua.match_available=0);ua.insert=2>ua.strstart?ua.strstart:2;return vb===oa?(Yb(ua,!0),0===ua.strm.avail_out?3:4):ua.last_lit&&(Yb(ua,!1),0===ua.strm.avail_out)?1:2},Hd=(ua,vb)=>{let Oa,ic;const la=ua.window;for(;;){if(258>=ua.lookahead){qc(ua);if(258>=ua.lookahead&&vb===ab)return 1;if(0===ua.lookahead)break}ua.match_length=0;if(3<=ua.lookahead&&0<ua.strstart){Oa=ua.strstart-1;var Qa=la[Oa];if(Qa===la[++Oa]&&Qa===
la[++Oa]&&Qa===la[++Oa]){for(ic=ua.strstart+258;Qa===la[++Oa]&&Qa===la[++Oa]&&Qa===la[++Oa]&&Qa===la[++Oa]&&Qa===la[++Oa]&&Qa===la[++Oa]&&Qa===la[++Oa]&&Qa===la[++Oa]&&Oa<ic;);ua.match_length=258-(ic-Oa);ua.match_length>ua.lookahead&&(ua.match_length=ua.lookahead)}}3<=ua.match_length?(Qa=Ea(ua,1,ua.match_length-3),ua.lookahead-=ua.match_length,ua.strstart+=ua.match_length,ua.match_length=0):(Qa=Ea(ua,0,ua.window[ua.strstart]),ua.lookahead--,ua.strstart++);if(Qa&&(Yb(ua,!1),0===ua.strm.avail_out))return 1}ua.insert=
0;return vb===oa?(Yb(ua,!0),0===ua.strm.avail_out?3:4):ua.last_lit&&(Yb(ua,!1),0===ua.strm.avail_out)?1:2},Fa=(ua,vb)=>{let Oa;for(;;){if(0===ua.lookahead&&(qc(ua),0===ua.lookahead)){if(vb===ab)return 1;break}ua.match_length=0;Oa=Ea(ua,0,ua.window[ua.strstart]);ua.lookahead--;ua.strstart++;if(Oa&&(Yb(ua,!1),0===ua.strm.avail_out))return 1}ua.insert=0;return vb===oa?(Yb(ua,!0),0===ua.strm.avail_out?3:4):ua.last_lit&&(Yb(ua,!1),0===ua.strm.avail_out)?1:2},Ca=[new A(0,0,0,0,(ua,vb)=>{let Oa=65535;for(Oa>
ua.pending_buf_size-5&&(Oa=ua.pending_buf_size-5);;){if(1>=ua.lookahead){qc(ua);if(0===ua.lookahead&&vb===ab)return 1;if(0===ua.lookahead)break}ua.strstart+=ua.lookahead;ua.lookahead=0;const ic=ua.block_start+Oa;if(0===ua.strstart||ua.strstart>=ic)if(ua.lookahead=ua.strstart-ic,ua.strstart=ic,Yb(ua,!1),0===ua.strm.avail_out)return 1;if(ua.strstart-ua.block_start>=ua.w_size-262&&(Yb(ua,!1),0===ua.strm.avail_out))return 1}ua.insert=0;if(vb===oa)return Yb(ua,!0),0===ua.strm.avail_out?3:4;ua.strstart>
ua.block_start&&Yb(ua,!1);return 1}),new A(4,4,8,4,Dc),new A(4,5,16,8,Dc),new A(4,6,32,32,Dc),new A(4,4,16,16,Yc),new A(8,16,32,32,Yc),new A(8,16,128,128,Yc),new A(8,32,128,256,Yc),new A(32,128,258,1024,Yc),new A(32,258,258,4096,Yc)],Ha=ua=>{if(!ua||!ua.state)return Bb(ua,Xa);ua.total_in=ua.total_out=0;ua.data_type=rc;const vb=ua.state;vb.pending=0;vb.pending_out=0;0>vb.wrap&&(vb.wrap=-vb.wrap);vb.status=vb.wrap?42:113;ua.adler=2===vb.wrap?0:1;vb.last_flush=ab;sa(vb);return ka},db=ua=>{const vb=Ha(ua);
vb===ka&&(ua=ua.state,ua.window_size=2*ua.w_size,tb(ua.head),ua.max_lazy_match=Ca[ua.level].max_lazy,ua.good_match=Ca[ua.level].good_length,ua.nice_match=Ca[ua.level].nice_length,ua.max_chain_length=Ca[ua.level].max_chain,ua.strstart=0,ua.block_start=0,ua.lookahead=0,ua.insert=0,ua.match_length=ua.prev_length=2,ua.match_available=0,ua.ins_h=0);return vb},ob=(ua,vb,Oa,ic,la,Qa)=>{if(!ua)return Xa;let fb=1;vb===ib&&(vb=6);0>ic?(fb=0,ic=-ic):15<ic&&(fb=2,ic-=16);if(1>la||9<la||Oa!==jd||8>ic||15<ic||
0>vb||9<vb||0>Qa||Qa>xc)return Bb(ua,Xa);8===ic&&(ic=9);const xb=new u;ua.state=xb;xb.strm=ua;xb.wrap=fb;xb.gzhead=null;xb.w_bits=ic;xb.w_size=1<<xb.w_bits;xb.w_mask=xb.w_size-1;xb.hash_bits=la+7;xb.hash_size=1<<xb.hash_bits;xb.hash_mask=xb.hash_size-1;xb.hash_shift=~~((xb.hash_bits+3-1)/3);xb.window=new Uint8Array(2*xb.w_size);xb.head=new Uint16Array(xb.hash_size);xb.prev=new Uint16Array(xb.w_size);xb.lit_bufsize=1<<la+6;xb.pending_buf_size=4*xb.lit_bufsize;xb.pending_buf=new Uint8Array(xb.pending_buf_size);
xb.d_buf=1*xb.lit_bufsize;xb.l_buf=3*xb.lit_bufsize;xb.level=vb;xb.strategy=Qa;xb.method=Oa;return db(ua)};var Ab={deflateInit:(ua,vb)=>ob(ua,vb,jd,15,8,Ic),deflateInit2:ob,deflateReset:db,deflateResetKeep:Ha,deflateSetHeader:(ua,vb)=>{if(!ua||!ua.state||2!==ua.state.wrap)return Xa;ua.state.gzhead=vb;return ka},deflate:(ua,vb)=>{if(!ua||!ua.state||vb>aa||0>vb)return ua?Bb(ua,Xa):Xa;const Oa=ua.state;if(!ua.output||!ua.input&&0!==ua.avail_in||666===Oa.status&&vb!==oa)return Bb(ua,0===ua.avail_out?
mb:Xa);Oa.strm=ua;var ic=Oa.last_flush;Oa.last_flush=vb;if(42===Oa.status)if(2===Oa.wrap)if(ua.adler=0,Oa.pending_buf[Oa.pending++]=31,Oa.pending_buf[Oa.pending++]=139,Oa.pending_buf[Oa.pending++]=8,Oa.gzhead){var la=(Oa.gzhead.text?1:0)+(Oa.gzhead.hcrc?2:0)+(Oa.gzhead.extra?4:0)+(Oa.gzhead.name?8:0)+(Oa.gzhead.comment?16:0);Oa.pending_buf[Oa.pending++]=la;la=Oa.gzhead.time&255;Oa.pending_buf[Oa.pending++]=la;la=Oa.gzhead.time>>8&255;Oa.pending_buf[Oa.pending++]=la;la=Oa.gzhead.time>>16&255;Oa.pending_buf[Oa.pending++]=
la;la=Oa.gzhead.time>>24&255;Oa.pending_buf[Oa.pending++]=la;la=9===Oa.level?2:Oa.strategy>=Zb||2>Oa.level?4:0;Oa.pending_buf[Oa.pending++]=la;la=Oa.gzhead.os&255;Oa.pending_buf[Oa.pending++]=la;Oa.gzhead.extra&&Oa.gzhead.extra.length&&(la=Oa.gzhead.extra.length&255,Oa.pending_buf[Oa.pending++]=la,la=Oa.gzhead.extra.length>>8&255,Oa.pending_buf[Oa.pending++]=la);Oa.gzhead.hcrc&&(ua.adler=qa(ua.adler,Oa.pending_buf,Oa.pending,0));Oa.gzindex=0;Oa.status=69}else Oa.pending_buf[Oa.pending++]=0,Oa.pending_buf[Oa.pending++]=
0,Oa.pending_buf[Oa.pending++]=0,Oa.pending_buf[Oa.pending++]=0,Oa.pending_buf[Oa.pending++]=0,la=9===Oa.level?2:Oa.strategy>=Zb||2>Oa.level?4:0,Oa.pending_buf[Oa.pending++]=la,Oa.pending_buf[Oa.pending++]=3,Oa.status=113;else la=jd+(Oa.w_bits-8<<4)<<8,la|=(Oa.strategy>=Zb||2>Oa.level?0:6>Oa.level?1:6===Oa.level?2:3)<<6,0!==Oa.strstart&&(la|=32),Oa.status=113,hc(Oa,la+(31-la%31)),0!==Oa.strstart&&(hc(Oa,ua.adler>>>16),hc(Oa,ua.adler&65535)),ua.adler=1;if(69===Oa.status)if(Oa.gzhead.extra){for(la=
Oa.pending;Oa.gzindex<(Oa.gzhead.extra.length&65535)&&(Oa.pending!==Oa.pending_buf_size||(Oa.gzhead.hcrc&&Oa.pending>la&&(ua.adler=qa(ua.adler,Oa.pending_buf,Oa.pending-la,la)),dc(ua),la=Oa.pending,Oa.pending!==Oa.pending_buf_size));){var Qa=Oa.gzhead.extra[Oa.gzindex]&255;Oa.pending_buf[Oa.pending++]=Qa;Oa.gzindex++}Oa.gzhead.hcrc&&Oa.pending>la&&(ua.adler=qa(ua.adler,Oa.pending_buf,Oa.pending-la,la));Oa.gzindex===Oa.gzhead.extra.length&&(Oa.gzindex=0,Oa.status=73)}else Oa.status=73;if(73===Oa.status)if(Oa.gzhead.name){la=
Oa.pending;do{if(Oa.pending===Oa.pending_buf_size&&(Oa.gzhead.hcrc&&Oa.pending>la&&(ua.adler=qa(ua.adler,Oa.pending_buf,Oa.pending-la,la)),dc(ua),la=Oa.pending,Oa.pending===Oa.pending_buf_size)){Qa=1;break}var fb=Qa=Oa.gzindex<Oa.gzhead.name.length?Oa.gzhead.name.charCodeAt(Oa.gzindex++)&255:0;Oa.pending_buf[Oa.pending++]=fb}while(0!==Qa);Oa.gzhead.hcrc&&Oa.pending>la&&(ua.adler=qa(ua.adler,Oa.pending_buf,Oa.pending-la,la));0===Qa&&(Oa.gzindex=0,Oa.status=91)}else Oa.status=91;if(91===Oa.status)if(Oa.gzhead.comment){la=
Oa.pending;do{if(Oa.pending===Oa.pending_buf_size&&(Oa.gzhead.hcrc&&Oa.pending>la&&(ua.adler=qa(ua.adler,Oa.pending_buf,Oa.pending-la,la)),dc(ua),la=Oa.pending,Oa.pending===Oa.pending_buf_size)){Qa=1;break}fb=Qa=Oa.gzindex<Oa.gzhead.comment.length?Oa.gzhead.comment.charCodeAt(Oa.gzindex++)&255:0;Oa.pending_buf[Oa.pending++]=fb}while(0!==Qa);Oa.gzhead.hcrc&&Oa.pending>la&&(ua.adler=qa(ua.adler,Oa.pending_buf,Oa.pending-la,la));0===Qa&&(Oa.status=103)}else Oa.status=103;103===Oa.status&&(Oa.gzhead.hcrc?
(Oa.pending+2>Oa.pending_buf_size&&dc(ua),Oa.pending+2<=Oa.pending_buf_size&&(la=ua.adler&255,Oa.pending_buf[Oa.pending++]=la,la=ua.adler>>8&255,Oa.pending_buf[Oa.pending++]=la,ua.adler=0,Oa.status=113)):Oa.status=113);if(0!==Oa.pending){if(dc(ua),0===ua.avail_out)return Oa.last_flush=-1,ka}else if(0===ua.avail_in&&(vb<<1)-(4<vb?9:0)<=(ic<<1)-(4<ic?9:0)&&vb!==oa)return Bb(ua,mb);if(666===Oa.status&&0!==ua.avail_in)return Bb(ua,mb);if(0!==ua.avail_in||0!==Oa.lookahead||vb!==ab&&666!==Oa.status){ic=
Oa.strategy===Zb?Fa(Oa,vb):Oa.strategy===Gc?Hd(Oa,vb):Ca[Oa.level].func(Oa,vb);if(3===ic||4===ic)Oa.status=666;if(1===ic||3===ic)return 0===ua.avail_out&&(Oa.last_flush=-1),ka;if(2===ic&&(vb===ta?Ua(Oa):vb!==aa&&(xa(Oa,0,0,!1),vb===Na&&(tb(Oa.head),0===Oa.lookahead&&(Oa.strstart=0,Oa.block_start=0,Oa.insert=0))),dc(ua),0===ua.avail_out))return Oa.last_flush=-1,ka}if(vb!==oa)return ka;if(0>=Oa.wrap)return Ia;2===Oa.wrap?(vb=ua.adler&255,Oa.pending_buf[Oa.pending++]=vb,vb=ua.adler>>8&255,Oa.pending_buf[Oa.pending++]=
vb,vb=ua.adler>>16&255,Oa.pending_buf[Oa.pending++]=vb,vb=ua.adler>>24&255,Oa.pending_buf[Oa.pending++]=vb,vb=ua.total_in&255,Oa.pending_buf[Oa.pending++]=vb,vb=ua.total_in>>8&255,Oa.pending_buf[Oa.pending++]=vb,vb=ua.total_in>>16&255,Oa.pending_buf[Oa.pending++]=vb,vb=ua.total_in>>24&255,Oa.pending_buf[Oa.pending++]=vb):(hc(Oa,ua.adler>>>16),hc(Oa,ua.adler&65535));dc(ua);0<Oa.wrap&&(Oa.wrap=-Oa.wrap);return 0!==Oa.pending?ka:Ia},deflateEnd:ua=>{if(!ua||!ua.state)return Xa;const vb=ua.state.status;
if(42!==vb&&69!==vb&&73!==vb&&91!==vb&&103!==vb&&113!==vb&&666!==vb)return Bb(ua,Xa);ua.state=null;return 113===vb?Bb(ua,Ya):ka},deflateSetDictionary:(ua,vb)=>{var Oa=vb.length;if(!ua||!ua.state)return Xa;const ic=ua.state,la=ic.wrap;if(2===la||1===la&&42!==ic.status||ic.lookahead)return Xa;1===la&&(ua.adler=hb(ua.adler,vb,Oa,0));ic.wrap=0;if(Oa>=ic.w_size){0===la&&(tb(ic.head),ic.strstart=0,ic.block_start=0,ic.insert=0);var Qa=new Uint8Array(ic.w_size);Qa.set(vb.subarray(Oa-ic.w_size,Oa),0);vb=Qa;
Oa=ic.w_size}Qa=ua.avail_in;const fb=ua.next_in,xb=ua.input;ua.avail_in=Oa;ua.next_in=0;ua.input=vb;for(qc(ic);3<=ic.lookahead;){vb=ic.strstart;Oa=ic.lookahead-2;do ic.ins_h=(ic.ins_h<<ic.hash_shift^ic.window[vb+3-1])&ic.hash_mask,ic.prev[vb&ic.w_mask]=ic.head[ic.ins_h],ic.head[ic.ins_h]=vb,vb++;while(--Oa);ic.strstart=vb;ic.lookahead=2;qc(ic)}ic.strstart+=ic.lookahead;ic.block_start=ic.strstart;ic.insert=ic.lookahead;ic.lookahead=0;ic.match_length=ic.prev_length=2;ic.match_available=0;ua.next_in=
fb;ua.input=xb;ua.avail_in=Qa;ic.wrap=la;return ka},deflateInfo:"pako deflate (from Nodeca project)"},Ob={assign:function(ua){const vb=Array.prototype.slice.call(arguments,1);for(;vb.length;){const Oa=vb.shift();if(Oa){if("object"!==typeof Oa)throw new TypeError(Oa+"must be non-object");for(const ic in Oa)Object.prototype.hasOwnProperty.call(Oa,ic)&&(ua[ic]=Oa[ic])}}return ua},flattenChunks:ua=>{var vb=0;for(let Oa=0,ic=ua.length;Oa<ic;Oa++)vb+=ua[Oa].length;vb=new Uint8Array(vb);for(let Oa=0,ic=
0,la=ua.length;Oa<la;Oa++){let Qa=ua[Oa];vb.set(Qa,ic);ic+=Qa.length}return vb}};let Ub=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ua){Ub=!1}const $b=new Uint8Array(256);for(let ua=0;256>ua;ua++)$b[ua]=252<=ua?6:248<=ua?5:240<=ua?4:224<=ua?3:192<=ua?2:1;$b[254]=$b[254]=1;var Jc={string2buf:ua=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(ua);let vb,Oa,ic,la,Qa,fb=ua.length,xb=0;for(la=0;la<fb;la++)Oa=ua.charCodeAt(la),55296===
(Oa&64512)&&la+1<fb&&(ic=ua.charCodeAt(la+1),56320===(ic&64512)&&(Oa=65536+(Oa-55296<<10)+(ic-56320),la++)),xb+=128>Oa?1:2048>Oa?2:65536>Oa?3:4;vb=new Uint8Array(xb);for(la=Qa=0;Qa<xb;la++)Oa=ua.charCodeAt(la),55296===(Oa&64512)&&la+1<fb&&(ic=ua.charCodeAt(la+1),56320===(ic&64512)&&(Oa=65536+(Oa-55296<<10)+(ic-56320),la++)),128>Oa?vb[Qa++]=Oa:(2048>Oa?vb[Qa++]=192|Oa>>>6:(65536>Oa?vb[Qa++]=224|Oa>>>12:(vb[Qa++]=240|Oa>>>18,vb[Qa++]=128|Oa>>>12&63),vb[Qa++]=128|Oa>>>6&63),vb[Qa++]=128|Oa&63);return vb},
buf2string:(ua,vb)=>{var Oa=vb||ua.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(ua.subarray(0,vb));var ic;let la;vb=Array(2*Oa);for(ic=la=0;ic<Oa;){let Qa=ua[ic++];if(128>Qa){vb[la++]=Qa;continue}let fb=$b[Qa];if(4<fb)vb[la++]=65533,ic+=fb-1;else{for(Qa&=2===fb?31:3===fb?15:7;1<fb&&ic<Oa;)Qa=Qa<<6|ua[ic++]&63,fb--;1<fb?vb[la++]=65533:65536>Qa?vb[la++]=Qa:(Qa-=65536,vb[la++]=55296|Qa>>10&1023,vb[la++]=56320|Qa&1023)}}ua=la;if(65534>ua&&vb.subarray&&
Ub)vb=String.fromCharCode.apply(null,vb.length===ua?vb:vb.subarray(0,ua));else{Oa="";for(ic=0;ic<ua;ic++)Oa+=String.fromCharCode(vb[ic]);vb=Oa}return vb},utf8border:(ua,vb)=>{vb=vb||ua.length;vb>ua.length&&(vb=ua.length);let Oa=vb-1;for(;0<=Oa&&128===(ua[Oa]&192);)Oa--;return 0>Oa||0===Oa?vb:Oa+$b[ua[Oa]]>vb?Oa:vb}},Wc=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=
0};const dd=Object.prototype.toString,{Z_NO_FLUSH:ld,Z_SYNC_FLUSH:rd,Z_FULL_FLUSH:Kd,Z_FINISH:Nd,Z_OK:fe,Z_STREAM_END:be,Z_DEFAULT_COMPRESSION:ce,Z_DEFAULT_STRATEGY:Td,Z_DEFLATED:af}=va;m.prototype.push=function(ua,vb){const Oa=this.strm,ic=this.options.chunkSize;if(this.ended)return!1;vb=vb===~~vb?vb:!0===vb?Nd:ld;"string"===typeof ua?Oa.input=Jc.string2buf(ua):"[object ArrayBuffer]"===dd.call(ua)?Oa.input=new Uint8Array(ua):Oa.input=ua;Oa.next_in=0;for(Oa.avail_in=Oa.input.length;;)if(0===Oa.avail_out&&
(Oa.output=new Uint8Array(ic),Oa.next_out=0,Oa.avail_out=ic),(vb===rd||vb===Kd)&&6>=Oa.avail_out)this.onData(Oa.output.subarray(0,Oa.next_out)),Oa.avail_out=0;else{ua=Ab.deflate(Oa,vb);if(ua===be){if(0<Oa.next_out)this.onData(Oa.output.subarray(0,Oa.next_out));ua=Ab.deflateEnd(this.strm);this.onEnd(ua);this.ended=!0;return ua===fe}if(0===Oa.avail_out)this.onData(Oa.output);else if(0<vb&&0<Oa.next_out)this.onData(Oa.output.subarray(0,Oa.next_out)),Oa.avail_out=0;else if(0===Oa.avail_in)break}return!0};
m.prototype.onData=function(ua){this.chunks.push(ua)};m.prototype.onEnd=function(ua){ua===fe&&(this.result=Ob.flattenChunks(this.chunks));this.chunks=[];this.err=ua;this.msg=this.strm.msg};var Se={Deflate:m,deflate:l,deflateRaw:function(ua,vb){vb=vb||{};vb.raw=!0;return l(ua,vb)},gzip:function(ua,vb){vb=vb||{};vb.gzip=!0;return l(ua,vb)},constants:va};const ue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),me=new Uint8Array([16,16,16,16,
16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ga=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),$a=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ub=(ua,vb,Oa,ic,la,Qa,fb,xb)=>{var Fb=xb.bits;let ac,yc,Zc,ad;var Lc;let Ec,tc,Nc,mc,Qc,jb,Ib,Qb=0,Rb;const na=new Uint16Array(16);var Ma=new Uint16Array(16);let lb,
Jb=0,Nb,Lb,pc;for(ac=0;15>=ac;ac++)na[ac]=0;for(yc=0;yc<ic;yc++)na[vb[Oa+yc]]++;ad=Fb;for(Zc=15;1<=Zc&&0===na[Zc];Zc--);ad>Zc&&(ad=Zc);if(0===Zc)return la[Qa++]=20971520,la[Qa++]=20971520,xb.bits=1,0;for(Fb=1;Fb<Zc&&0===na[Fb];Fb++);ad<Fb&&(ad=Fb);for(ac=Lc=1;15>=ac;ac++)if(Lc<<=1,Lc-=na[ac],0>Lc)return-1;if(0<Lc&&(0===ua||1!==Zc))return-1;Ma[1]=0;for(ac=1;15>ac;ac++)Ma[ac+1]=Ma[ac]+na[ac];for(yc=0;yc<ic;yc++)0!==vb[Oa+yc]&&(fb[Ma[vb[Oa+yc]]++]=yc);0===ua?(Ib=lb=fb,Rb=19):1===ua?(Ib=ue,Qb-=257,lb=
me,Jb-=257,Rb=256):(Ib=Ga,lb=$a,Rb=-1);yc=tc=0;ac=Fb;jb=Qa;ic=ad;Ma=0;mc=-1;Ec=1<<ad;Qc=Ec-1;if(1===ua&&852<Ec||2===ua&&592<Ec)return 1;for(;;){Nb=ac-Ma;fb[yc]<Rb?(Lb=0,pc=fb[yc]):fb[yc]>Rb?(Lb=lb[Jb+fb[yc]],pc=Ib[Qb+fb[yc]]):(Lb=96,pc=0);Lc=1<<ac-Ma;Fb=Nc=1<<ic;do Nc-=Lc,la[jb+(tc>>Ma)+Nc]=Nb<<24|Lb<<16|pc|0;while(0!==Nc);for(Lc=1<<ac-1;tc&Lc;)Lc>>=1;0!==Lc?(tc&=Lc-1,tc+=Lc):tc=0;yc++;if(0===--na[ac]){if(ac===Zc)break;ac=vb[Oa+fb[yc]]}if(ac>ad&&(tc&Qc)!==mc){0===Ma&&(Ma=ad);jb+=Fb;ic=ac-Ma;for(Lc=
1<<ic;ic+Ma<Zc;){Lc-=na[ic+Ma];if(0>=Lc)break;ic++;Lc<<=1}Ec+=1<<ic;if(1===ua&&852<Ec||2===ua&&592<Ec)return 1;mc=tc&Qc;la[mc]=ad<<24|ic<<16|jb-Qa|0}}0!==tc&&(la[jb+tc]=ac-Ma<<24|4194304);xb.bits=ad;return 0};const {Z_FINISH:Mb,Z_BLOCK:fc,Z_TREES:oc,Z_OK:Mc,Z_STREAM_END:Kc,Z_NEED_DICT:gc,Z_STREAM_ERROR:fd,Z_DATA_ERROR:nd,Z_MEM_ERROR:Fd,Z_BUF_ERROR:Od,Z_DEFLATED:Ud}=va,Yd=ua=>{if(!ua||!ua.state)return fd;const vb=ua.state;ua.total_in=ua.total_out=vb.total=0;ua.msg="";vb.wrap&&(ua.adler=vb.wrap&1);
vb.mode=1;vb.last=0;vb.havedict=0;vb.dmax=32768;vb.head=null;vb.hold=0;vb.bits=0;vb.lencode=vb.lendyn=new Int32Array(852);vb.distcode=vb.distdyn=new Int32Array(592);vb.sane=1;vb.back=-1;return Mc},Ee=ua=>{if(!ua||!ua.state)return fd;const vb=ua.state;vb.wsize=0;vb.whave=0;vb.wnext=0;return Yd(ua)},ze=(ua,vb)=>{let Oa;if(!ua||!ua.state)return fd;const ic=ua.state;0>vb?(Oa=0,vb=-vb):(Oa=(vb>>4)+1,48>vb&&(vb&=15));if(vb&&(8>vb||15<vb))return fd;null!==ic.window&&ic.wbits!==vb&&(ic.window=null);ic.wrap=
Oa;ic.wbits=vb;return Ee(ua)},Bf=(ua,vb)=>{if(!ua)return fd;const Oa=new f;ua.state=Oa;Oa.window=null;vb=ze(ua,vb);vb!==Mc&&(ua.state=null);return vb};let xe=!0,Ne,rf;const Vb=(ua,vb,Oa,ic)=>{const la=ua.state;null===la.window&&(la.wsize=1<<la.wbits,la.wnext=0,la.whave=0,la.window=new Uint8Array(la.wsize));ic>=la.wsize?(la.window.set(vb.subarray(Oa-la.wsize,Oa),0),la.wnext=0,la.whave=la.wsize):(ua=la.wsize-la.wnext,ua>ic&&(ua=ic),la.window.set(vb.subarray(Oa-ic,Oa-ic+ua),la.wnext),(ic-=ua)?(la.window.set(vb.subarray(Oa-
ic,Oa),0),la.wnext=ic,la.whave=la.wsize):(la.wnext+=ua,la.wnext===la.wsize&&(la.wnext=0),la.whave<la.wsize&&(la.whave+=ua)));return 0};var sc={inflateReset:Ee,inflateReset2:ze,inflateResetKeep:Yd,inflateInit:ua=>Bf(ua,15),inflateInit2:Bf,inflate:(ua,vb)=>{let Oa;let ic,la;let Qa;const fb=new Uint8Array(4),xb=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!ua||!ua.state||!ua.output||!ua.input&&0!==ua.avail_in)return fd;Oa=ua.state;12===Oa.mode&&(Oa.mode=13);var Fb=ua.next_out;
var ac=ua.output;var yc=ua.avail_out;var Zc=ua.next_in;var ad=ua.input;var Lc=ua.avail_in;var Ec=Oa.hold;var tc=Oa.bits;ic=Lc;la=yc;Qa=Mc;a:for(;;)switch(Oa.mode){case 1:if(0===Oa.wrap){Oa.mode=13;break}for(;16>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}if(Oa.wrap&2&&35615===Ec){Oa.check=0;fb[0]=Ec&255;fb[1]=Ec>>>8&255;Oa.check=qa(Oa.check,fb,2,0);tc=Ec=0;Oa.mode=2;break}Oa.flags=0;Oa.head&&(Oa.head.done=!1);if(!(Oa.wrap&1)||(((Ec&255)<<8)+(Ec>>8))%31){ua.msg="incorrect header check";Oa.mode=
30;break}if((Ec&15)!==Ud){ua.msg="unknown compression method";Oa.mode=30;break}Ec>>>=4;tc-=4;var Nc=(Ec&15)+8;if(0===Oa.wbits)Oa.wbits=Nc;else if(Nc>Oa.wbits){ua.msg="invalid window size";Oa.mode=30;break}Oa.dmax=1<<Oa.wbits;ua.adler=Oa.check=1;Oa.mode=Ec&512?10:12;tc=Ec=0;break;case 2:for(;16>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Oa.flags=Ec;if((Oa.flags&255)!==Ud){ua.msg="unknown compression method";Oa.mode=30;break}if(Oa.flags&57344){ua.msg="unknown header flags set";Oa.mode=30;break}Oa.head&&
(Oa.head.text=Ec>>8&1);Oa.flags&512&&(fb[0]=Ec&255,fb[1]=Ec>>>8&255,Oa.check=qa(Oa.check,fb,2,0));tc=Ec=0;Oa.mode=3;case 3:for(;32>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Oa.head&&(Oa.head.time=Ec);Oa.flags&512&&(fb[0]=Ec&255,fb[1]=Ec>>>8&255,fb[2]=Ec>>>16&255,fb[3]=Ec>>>24&255,Oa.check=qa(Oa.check,fb,4,0));tc=Ec=0;Oa.mode=4;case 4:for(;16>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Oa.head&&(Oa.head.xflags=Ec&255,Oa.head.os=Ec>>8);Oa.flags&512&&(fb[0]=Ec&255,fb[1]=Ec>>>8&255,Oa.check=
qa(Oa.check,fb,2,0));tc=Ec=0;Oa.mode=5;case 5:if(Oa.flags&1024){for(;16>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Oa.length=Ec;Oa.head&&(Oa.head.extra_len=Ec);Oa.flags&512&&(fb[0]=Ec&255,fb[1]=Ec>>>8&255,Oa.check=qa(Oa.check,fb,2,0));tc=Ec=0}else Oa.head&&(Oa.head.extra=null);Oa.mode=6;case 6:if(Oa.flags&1024){var mc=Oa.length;mc>Lc&&(mc=Lc);mc&&(Oa.head&&(Nc=Oa.head.extra_len-Oa.length,Oa.head.extra||(Oa.head.extra=new Uint8Array(Oa.head.extra_len)),Oa.head.extra.set(ad.subarray(Zc,Zc+mc),
Nc)),Oa.flags&512&&(Oa.check=qa(Oa.check,ad,mc,Zc)),Lc-=mc,Zc+=mc,Oa.length-=mc);if(Oa.length)break a}Oa.length=0;Oa.mode=7;case 7:if(Oa.flags&2048){if(0===Lc)break a;mc=0;do Nc=ad[Zc+mc++],Oa.head&&Nc&&65536>Oa.length&&(Oa.head.name+=String.fromCharCode(Nc));while(Nc&&mc<Lc);Oa.flags&512&&(Oa.check=qa(Oa.check,ad,mc,Zc));Lc-=mc;Zc+=mc;if(Nc)break a}else Oa.head&&(Oa.head.name=null);Oa.length=0;Oa.mode=8;case 8:if(Oa.flags&4096){if(0===Lc)break a;mc=0;do Nc=ad[Zc+mc++],Oa.head&&Nc&&65536>Oa.length&&
(Oa.head.comment+=String.fromCharCode(Nc));while(Nc&&mc<Lc);Oa.flags&512&&(Oa.check=qa(Oa.check,ad,mc,Zc));Lc-=mc;Zc+=mc;if(Nc)break a}else Oa.head&&(Oa.head.comment=null);Oa.mode=9;case 9:if(Oa.flags&512){for(;16>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}if(Ec!==(Oa.check&65535)){ua.msg="header crc mismatch";Oa.mode=30;break}tc=Ec=0}Oa.head&&(Oa.head.hcrc=Oa.flags>>9&1,Oa.head.done=!0);ua.adler=Oa.check=0;Oa.mode=12;break;case 10:for(;32>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=
8}ua.adler=Oa.check=(Ec>>>24&255)+(Ec>>>8&65280)+((Ec&65280)<<8)+((Ec&255)<<24);tc=Ec=0;Oa.mode=11;case 11:if(0===Oa.havedict)return ua.next_out=Fb,ua.avail_out=yc,ua.next_in=Zc,ua.avail_in=Lc,Oa.hold=Ec,Oa.bits=tc,gc;ua.adler=Oa.check=1;Oa.mode=12;case 12:if(vb===fc||vb===oc)break a;case 13:if(Oa.last){Ec>>>=tc&7;tc-=tc&7;Oa.mode=27;break}for(;3>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Oa.last=Ec&1;Ec>>>=1;--tc;switch(Ec&3){case 0:Oa.mode=14;break;case 1:mc=Oa;if(xe){Ne=new Int32Array(512);
rf=new Int32Array(32);for(Nc=0;144>Nc;)mc.lens[Nc++]=8;for(;256>Nc;)mc.lens[Nc++]=9;for(;280>Nc;)mc.lens[Nc++]=7;for(;288>Nc;)mc.lens[Nc++]=8;ub(1,mc.lens,0,288,Ne,0,mc.work,{bits:9});for(Nc=0;32>Nc;)mc.lens[Nc++]=5;ub(2,mc.lens,0,32,rf,0,mc.work,{bits:5});xe=!1}mc.lencode=Ne;mc.lenbits=9;mc.distcode=rf;mc.distbits=5;Oa.mode=20;if(vb===oc){Ec>>>=2;tc-=2;break a}break;case 2:Oa.mode=17;break;case 3:ua.msg="invalid block type",Oa.mode=30}Ec>>>=2;tc-=2;break;case 14:Ec>>>=tc&7;for(tc-=tc&7;32>tc;){if(0===
Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}if((Ec&65535)!==(Ec>>>16^65535)){ua.msg="invalid stored block lengths";Oa.mode=30;break}Oa.length=Ec&65535;tc=Ec=0;Oa.mode=15;if(vb===oc)break a;case 15:Oa.mode=16;case 16:if(mc=Oa.length){mc>Lc&&(mc=Lc);mc>yc&&(mc=yc);if(0===mc)break a;ac.set(ad.subarray(Zc,Zc+mc),Fb);Lc-=mc;Zc+=mc;yc-=mc;Fb+=mc;Oa.length-=mc;break}Oa.mode=12;break;case 17:for(;14>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Oa.nlen=(Ec&31)+257;Ec>>>=5;tc-=5;Oa.ndist=(Ec&31)+1;Ec>>>=5;
tc-=5;Oa.ncode=(Ec&15)+4;Ec>>>=4;tc-=4;if(286<Oa.nlen||30<Oa.ndist){ua.msg="too many length or distance symbols";Oa.mode=30;break}Oa.have=0;Oa.mode=18;case 18:for(;Oa.have<Oa.ncode;){for(;3>tc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Oa.lens[xb[Oa.have++]]=Ec&7;Ec>>>=3;tc-=3}for(;19>Oa.have;)Oa.lens[xb[Oa.have++]]=0;Oa.lencode=Oa.lendyn;Oa.lenbits=7;mc={bits:Oa.lenbits};Qa=ub(0,Oa.lens,0,19,Oa.lencode,0,Oa.work,mc);Oa.lenbits=mc.bits;if(Qa){ua.msg="invalid code lengths set";Oa.mode=30;break}Oa.have=
0;Oa.mode=19;case 19:for(;Oa.have<Oa.nlen+Oa.ndist;){for(;;){var Qc=Oa.lencode[Ec&(1<<Oa.lenbits)-1];mc=Qc>>>24;Qc&=65535;if(mc<=tc)break;if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}if(16>Qc)Ec>>>=mc,tc-=mc,Oa.lens[Oa.have++]=Qc;else{if(16===Qc){for(Nc=mc+2;tc<Nc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Ec>>>=mc;tc-=mc;if(0===Oa.have){ua.msg="invalid bit length repeat";Oa.mode=30;break}Nc=Oa.lens[Oa.have-1];mc=3+(Ec&3);Ec>>>=2;tc-=2}else if(17===Qc){for(Nc=mc+3;tc<Nc;){if(0===Lc)break a;
Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Ec>>>=mc;tc-=mc;Nc=0;mc=3+(Ec&7);Ec>>>=3;tc-=3}else{for(Nc=mc+7;tc<Nc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Ec>>>=mc;tc-=mc;Nc=0;mc=11+(Ec&127);Ec>>>=7;tc-=7}if(Oa.have+mc>Oa.nlen+Oa.ndist){ua.msg="invalid bit length repeat";Oa.mode=30;break}for(;mc--;)Oa.lens[Oa.have++]=Nc}}if(30===Oa.mode)break;if(0===Oa.lens[256]){ua.msg="invalid code -- missing end-of-block";Oa.mode=30;break}Oa.lenbits=9;mc={bits:Oa.lenbits};Qa=ub(1,Oa.lens,0,Oa.nlen,Oa.lencode,0,Oa.work,
mc);Oa.lenbits=mc.bits;if(Qa){ua.msg="invalid literal/lengths set";Oa.mode=30;break}Oa.distbits=6;Oa.distcode=Oa.distdyn;mc={bits:Oa.distbits};Qa=ub(2,Oa.lens,Oa.nlen,Oa.ndist,Oa.distcode,0,Oa.work,mc);Oa.distbits=mc.bits;if(Qa){ua.msg="invalid distances set";Oa.mode=30;break}Oa.mode=20;if(vb===oc)break a;case 20:Oa.mode=21;case 21:if(6<=Lc&&258<=yc){ua.next_out=Fb;ua.avail_out=yc;ua.next_in=Zc;ua.avail_in=Lc;Oa.hold=Ec;Oa.bits=tc;var jb=void 0;let na,Ma,lb,Jb,Nb,Lb,pc,Oc,zc;ad=ua;const wc=ad.state;
zc=ad.next_in;Zc=ad.input;Oc=zc+(ad.avail_in-5);pc=ad.next_out;ac=ad.output;Lb=pc-(la-ad.avail_out);Nb=pc+(ad.avail_out-257);Jb=wc.dmax;lb=wc.wsize;Qc=wc.whave;var Ib=wc.wnext;var Qb=wc.window;var Rb=wc.hold;Nc=wc.bits;mc=wc.lencode;tc=wc.distcode;Ec=(1<<wc.lenbits)-1;yc=(1<<wc.distbits)-1;b:do c:for(15>Nc&&(Rb+=Zc[zc++]<<Nc,Nc+=8,Rb+=Zc[zc++]<<Nc,Nc+=8),jb=mc[Rb&Ec];;){Lc=jb>>>24;Rb>>>=Lc;Nc-=Lc;Lc=jb>>>16&255;if(0===Lc)ac[pc++]=jb&65535;else if(Lc&16){Fb=jb&65535;if(Lc&=15)Nc<Lc&&(Rb+=Zc[zc++]<<
Nc,Nc+=8),Fb+=Rb&(1<<Lc)-1,Rb>>>=Lc,Nc-=Lc;15>Nc&&(Rb+=Zc[zc++]<<Nc,Nc+=8,Rb+=Zc[zc++]<<Nc,Nc+=8);jb=tc[Rb&yc];d:for(;;){Lc=jb>>>24;Rb>>>=Lc;Nc-=Lc;Lc=jb>>>16&255;if(Lc&16){Ma=jb&65535;Lc&=15;Nc<Lc&&(Rb+=Zc[zc++]<<Nc,Nc+=8,Nc<Lc&&(Rb+=Zc[zc++]<<Nc,Nc+=8));Ma+=Rb&(1<<Lc)-1;if(Ma>Jb){ad.msg="invalid distance too far back";wc.mode=30;break b}Rb>>>=Lc;Nc-=Lc;Lc=pc-Lb;if(Ma>Lc){Lc=Ma-Lc;if(Lc>Qc&&wc.sane){ad.msg="invalid distance too far back";wc.mode=30;break b}na=0;jb=Qb;if(0===Ib){if(na+=lb-Lc,Lc<Fb){Fb-=
Lc;do ac[pc++]=Qb[na++];while(--Lc);na=pc-Ma;jb=ac}}else if(Ib<Lc){if(na+=lb+Ib-Lc,Lc-=Ib,Lc<Fb){Fb-=Lc;do ac[pc++]=Qb[na++];while(--Lc);na=0;if(Ib<Fb){Lc=Ib;Fb-=Lc;do ac[pc++]=Qb[na++];while(--Lc);na=pc-Ma;jb=ac}}}else if(na+=Ib-Lc,Lc<Fb){Fb-=Lc;do ac[pc++]=Qb[na++];while(--Lc);na=pc-Ma;jb=ac}for(;2<Fb;)ac[pc++]=jb[na++],ac[pc++]=jb[na++],ac[pc++]=jb[na++],Fb-=3;Fb&&(ac[pc++]=jb[na++],1<Fb&&(ac[pc++]=jb[na++]))}else{na=pc-Ma;do ac[pc++]=ac[na++],ac[pc++]=ac[na++],ac[pc++]=ac[na++],Fb-=3;while(2<
Fb);Fb&&(ac[pc++]=ac[na++],1<Fb&&(ac[pc++]=ac[na++]))}}else if(0===(Lc&64)){jb=tc[(jb&65535)+(Rb&(1<<Lc)-1)];continue d}else{ad.msg="invalid distance code";wc.mode=30;break b}break}}else if(0===(Lc&64)){jb=mc[(jb&65535)+(Rb&(1<<Lc)-1)];continue c}else{Lc&32?wc.mode=12:(ad.msg="invalid literal/length code",wc.mode=30);break b}break}while(zc<Oc&&pc<Nb);Fb=Nc>>3;zc-=Fb;Nc-=Fb<<3;ad.next_in=zc;ad.next_out=pc;ad.avail_in=zc<Oc?5+(Oc-zc):5-(zc-Oc);ad.avail_out=pc<Nb?257+(Nb-pc):257-(pc-Nb);wc.hold=Rb&(1<<
Nc)-1;wc.bits=Nc;Fb=ua.next_out;ac=ua.output;yc=ua.avail_out;Zc=ua.next_in;ad=ua.input;Lc=ua.avail_in;Ec=Oa.hold;tc=Oa.bits;12===Oa.mode&&(Oa.back=-1);break}for(Oa.back=0;;){Qc=Oa.lencode[Ec&(1<<Oa.lenbits)-1];mc=Qc>>>24;Nc=Qc>>>16&255;Qc&=65535;if(mc<=tc)break;if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}if(Nc&&0===(Nc&240)){Rb=mc;Qb=Nc;for(Ib=Qc;;){Qc=Oa.lencode[Ib+((Ec&(1<<Rb+Qb)-1)>>Rb)];mc=Qc>>>24;Nc=Qc>>>16&255;Qc&=65535;if(Rb+mc<=tc)break;if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Ec>>>=
Rb;tc-=Rb;Oa.back+=Rb}Ec>>>=mc;tc-=mc;Oa.back+=mc;Oa.length=Qc;if(0===Nc){Oa.mode=26;break}if(Nc&32){Oa.back=-1;Oa.mode=12;break}if(Nc&64){ua.msg="invalid literal/length code";Oa.mode=30;break}Oa.extra=Nc&15;Oa.mode=22;case 22:if(Oa.extra){for(Nc=Oa.extra;tc<Nc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Oa.length+=Ec&(1<<Oa.extra)-1;Ec>>>=Oa.extra;tc-=Oa.extra;Oa.back+=Oa.extra}Oa.was=Oa.length;Oa.mode=23;case 23:for(;;){Qc=Oa.distcode[Ec&(1<<Oa.distbits)-1];mc=Qc>>>24;Nc=Qc>>>16&255;Qc&=65535;
if(mc<=tc)break;if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}if(0===(Nc&240)){Rb=mc;Qb=Nc;for(Ib=Qc;;){Qc=Oa.distcode[Ib+((Ec&(1<<Rb+Qb)-1)>>Rb)];mc=Qc>>>24;Nc=Qc>>>16&255;Qc&=65535;if(Rb+mc<=tc)break;if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Ec>>>=Rb;tc-=Rb;Oa.back+=Rb}Ec>>>=mc;tc-=mc;Oa.back+=mc;if(Nc&64){ua.msg="invalid distance code";Oa.mode=30;break}Oa.offset=Qc;Oa.extra=Nc&15;Oa.mode=24;case 24:if(Oa.extra){for(Nc=Oa.extra;tc<Nc;){if(0===Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}Oa.offset+=
Ec&(1<<Oa.extra)-1;Ec>>>=Oa.extra;tc-=Oa.extra;Oa.back+=Oa.extra}if(Oa.offset>Oa.dmax){ua.msg="invalid distance too far back";Oa.mode=30;break}Oa.mode=25;case 25:if(0===yc)break a;mc=la-yc;if(Oa.offset>mc){mc=Oa.offset-mc;if(mc>Oa.whave&&Oa.sane){ua.msg="invalid distance too far back";Oa.mode=30;break}mc>Oa.wnext?(mc-=Oa.wnext,Nc=Oa.wsize-mc):Nc=Oa.wnext-mc;mc>Oa.length&&(mc=Oa.length);Rb=Oa.window}else Rb=ac,Nc=Fb-Oa.offset,mc=Oa.length;mc>yc&&(mc=yc);yc-=mc;Oa.length-=mc;do ac[Fb++]=Rb[Nc++];while(--mc);
0===Oa.length&&(Oa.mode=21);break;case 26:if(0===yc)break a;ac[Fb++]=Oa.length;yc--;Oa.mode=21;break;case 27:if(Oa.wrap){for(;32>tc;){if(0===Lc)break a;Lc--;Ec|=ad[Zc++]<<tc;tc+=8}la-=yc;ua.total_out+=la;Oa.total+=la;la&&(ua.adler=Oa.check=Oa.flags?qa(Oa.check,ac,la,Fb-la):hb(Oa.check,ac,la,Fb-la));la=yc;if((Oa.flags?Ec:(Ec>>>24&255)+(Ec>>>8&65280)+((Ec&65280)<<8)+((Ec&255)<<24))!==Oa.check){ua.msg="incorrect data check";Oa.mode=30;break}tc=Ec=0}Oa.mode=28;case 28:if(Oa.wrap&&Oa.flags){for(;32>tc;){if(0===
Lc)break a;Lc--;Ec+=ad[Zc++]<<tc;tc+=8}if(Ec!==(Oa.total&4294967295)){ua.msg="incorrect length check";Oa.mode=30;break}tc=Ec=0}Oa.mode=29;case 29:Qa=Kc;break a;case 30:Qa=nd;break a;case 31:return Fd;default:return fd}ua.next_out=Fb;ua.avail_out=yc;ua.next_in=Zc;ua.avail_in=Lc;Oa.hold=Ec;Oa.bits=tc;(Oa.wsize||la!==ua.avail_out&&30>Oa.mode&&(27>Oa.mode||vb!==Mb))&&Vb(ua,ua.output,ua.next_out,la-ua.avail_out);ic-=ua.avail_in;la-=ua.avail_out;ua.total_in+=ic;ua.total_out+=la;Oa.total+=la;Oa.wrap&&la&&
(ua.adler=Oa.check=Oa.flags?qa(Oa.check,ac,la,ua.next_out-la):hb(Oa.check,ac,la,ua.next_out-la));ua.data_type=Oa.bits+(Oa.last?64:0)+(12===Oa.mode?128:0)+(20===Oa.mode||15===Oa.mode?256:0);(0===ic&&0===la||vb===Mb)&&Qa===Mc&&(Qa=Od);return Qa},inflateEnd:ua=>{if(!ua||!ua.state)return fd;let vb=ua.state;vb.window&&(vb.window=null);ua.state=null;return Mc},inflateGetHeader:(ua,vb)=>{if(!ua||!ua.state)return fd;ua=ua.state;if(0===(ua.wrap&2))return fd;ua.head=vb;vb.done=!1;return Mc},inflateSetDictionary:(ua,
vb)=>{const Oa=vb.length;let ic,la;if(!ua||!ua.state)return fd;ic=ua.state;if(0!==ic.wrap&&11!==ic.mode)return fd;if(11===ic.mode&&(la=hb(1,vb,Oa,0),la!==ic.check))return nd;if(Vb(ua,vb,Oa,Oa))return ic.mode=31,Fd;ic.havedict=1;return Mc},inflateInfo:"pako inflate (from Nodeca project)"},cd=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1};const wd=Object.prototype.toString,{Z_NO_FLUSH:Bd,Z_FINISH:pe,Z_OK:hf,Z_STREAM_END:Vf,
Z_NEED_DICT:yf,Z_STREAM_ERROR:Ff,Z_DATA_ERROR:Oe,Z_MEM_ERROR:Gb}=va;g.prototype.push=function(ua,vb){const Oa=this.strm,ic=this.options.chunkSize,la=this.options.dictionary;let Qa,fb;if(this.ended)return!1;Qa=vb===~~vb?vb:!0===vb?pe:Bd;"[object ArrayBuffer]"===wd.call(ua)?Oa.input=new Uint8Array(ua):Oa.input=ua;Oa.next_in=0;for(Oa.avail_in=Oa.input.length;;){0===Oa.avail_out&&(Oa.output=new Uint8Array(ic),Oa.next_out=0,Oa.avail_out=ic);vb=sc.inflate(Oa,Qa);vb===yf&&la&&(vb=sc.inflateSetDictionary(Oa,
la),vb===hf?vb=sc.inflate(Oa,Qa):vb===Oe&&(vb=yf));for(;0<Oa.avail_in&&vb===Vf&&0<Oa.state.wrap&&0!==ua[Oa.next_in];)sc.inflateReset(Oa),vb=sc.inflate(Oa,Qa);switch(vb){case Ff:case Oe:case yf:case Gb:return this.onEnd(vb),this.ended=!0,!1}fb=Oa.avail_out;if(Oa.next_out&&(0===Oa.avail_out||vb===Vf))if("string"===this.options.to){let xb=Jc.utf8border(Oa.output,Oa.next_out),Fb=Oa.next_out-xb,ac=Jc.buf2string(Oa.output,xb);Oa.next_out=Fb;Oa.avail_out=ic-Fb;Fb&&Oa.output.set(Oa.output.subarray(xb,xb+
Fb),0);this.onData(ac)}else this.onData(Oa.output.length===Oa.next_out?Oa.output:Oa.output.subarray(0,Oa.next_out));if(vb!==hf||0!==fb){if(vb===Vf){vb=sc.inflateEnd(this.strm);this.onEnd(vb);this.ended=!0;break}if(0===Oa.avail_in)break}}return!0};g.prototype.onData=function(ua){this.chunks.push(ua)};g.prototype.onEnd=function(ua){ua===hf&&(this.result="string"===this.options.to?this.chunks.join(""):Ob.flattenChunks(this.chunks));this.chunks=[];this.err=ua;this.msg=this.strm.msg};var Wb={Inflate:g,
inflate:d,inflateRaw:function(ua,vb){vb=vb||{};vb.raw=!0;return d(ua,vb)},ungzip:d,constants:va};const {Deflate:Uc,deflate:ie,deflateRaw:oe,gzip:Vd}=Se,{Inflate:Qd,inflate:se,inflateRaw:cf,ungzip:qf}=Wb;B.Deflate=Uc;B.deflate=ie;B.deflateRaw=oe;B.gzip=Vd;B.Inflate=Qd;B.inflate=se;B.inflateRaw=cf;B.ungzip=qf;B.constants=va;B.default={Deflate:Uc,deflate:ie,deflateRaw:oe,gzip:Vd,Inflate:Qd,inflate:se,inflateRaw:cf,ungzip:qf,constants:va}};
shadow$provide[287]=function(ra,z,cb,B){ra=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(B,"__esModule",{value:!0});const v=z(286);z=ra(z(282));class k extends z.default{decodeBlock(p){return(0,v.inflate)(new Uint8Array(p)).buffer}}B.default=k};
shadow$provide[288]=function(ra,z,cb,B){ra=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(B,"__esModule",{value:!0});z=ra(z(282));class v extends z.default{decodeBlock(k){const p=new DataView(k),A=[];for(let m=0;m<k.byteLength;++m){let l=p.getInt8(m);if(0>l){var u=p.getUint8(m+1);l=-l;for(let f=0;f<=l;++f)A.push(u);m+=1}else{for(u=0;u<=l;++u)A.push(p.getUint8(m+u+1));m+=l+1}}return(new Uint8Array(A)).buffer}}B.default=v};
shadow$provide[289]=function(ra,z,cb,B){(function(){var v=function(){var u={defaultNoDataValue:-3.4027999387901484E38,decode:function(m,l){l=l||{};var f=l.inputOffset||0,g=l.encodedMaskData||null===l.encodedMaskData,d={},b=new Uint8Array(m,f,10);d.fileIdentifierString=String.fromCharCode.apply(null,b);if("CntZImage"!==d.fileIdentifierString.trim())throw"Unexpected file identifier string: "+d.fileIdentifierString;f+=10;b=new DataView(m,f,24);d.fileVersion=b.getInt32(0,!0);d.imageType=b.getInt32(4,
!0);d.height=b.getUint32(8,!0);d.width=b.getUint32(12,!0);d.maxZError=b.getFloat64(16,!0);f+=24;if(!g)if(b=new DataView(m,f,16),d.mask={},d.mask.numBlocksY=b.getUint32(0,!0),d.mask.numBlocksX=b.getUint32(4,!0),d.mask.numBytes=b.getUint32(8,!0),d.mask.maxValue=b.getFloat32(12,!0),f+=16,0<d.mask.numBytes){g=new Uint8Array(Math.ceil(d.width*d.height/8));b=new DataView(m,f,d.mask.numBytes);var c=b.getInt16(0,!0),a=2,e=0;do{if(0<c)for(;c--;)g[e++]=b.getUint8(a++);else{var t=b.getUint8(a++);for(c=-c;c--;)g[e++]=
t}c=b.getInt16(a,!0);a+=2}while(a<d.mask.numBytes);if(-32768!==c||e<g.length)throw"Unexpected end of mask RLE encoding";d.mask.bitset=g;f+=d.mask.numBytes}else 0===(d.mask.numBytes|d.mask.numBlocksY|d.mask.maxValue)&&(d.mask.bitset=new Uint8Array(Math.ceil(d.width*d.height/8)));b=new DataView(m,f,16);d.pixels={};d.pixels.numBlocksY=b.getUint32(0,!0);d.pixels.numBlocksX=b.getUint32(4,!0);d.pixels.numBytes=b.getUint32(8,!0);d.pixels.maxValue=b.getFloat32(12,!0);f+=16;g=d.pixels.numBlocksX;b=d.pixels.numBlocksY;
g+=0<d.width%g?1:0;c=b+(0<d.height%b?1:0);d.pixels.blocks=Array(g*c);for(e=a=0;e<c;e++)for(t=0;t<g;t++){var y=0;b=new DataView(m,f,Math.min(10,m.byteLength-f));var q={};d.pixels.blocks[a++]=q;var E=b.getUint8(0);y++;q.encoding=E&63;if(3<q.encoding)throw"Invalid block encoding ("+q.encoding+")";if(2===q.encoding)f++;else{if(0!==E&&2!==E){E>>=6;q.offsetType=E;if(2===E)q.offset=b.getInt8(1),y++;else if(1===E)q.offset=b.getInt16(1,!0),y+=2;else if(0===E)q.offset=b.getFloat32(1,!0),y+=4;else throw"Invalid block offset type";
if(1===q.encoding)if(E=b.getUint8(y),y++,q.bitsPerPixel=E&63,E>>=6,q.numValidPixelsType=E,2===E)q.numValidPixels=b.getUint8(y),y++;else if(1===E)q.numValidPixels=b.getUint16(y,!0),y+=2;else if(0===E)q.numValidPixels=b.getUint32(y,!0),y+=4;else throw"Invalid valid pixel count type";}f+=y;if(3!==q.encoding)if(0===q.encoding){E=(d.pixels.numBytes-1)/4;if(E!==Math.floor(E))throw"uncompressed block has invalid length";b=new ArrayBuffer(4*E);y=new Uint8Array(b);y.set(new Uint8Array(m,f,4*E));b=new Float32Array(b);
q.rawData=b;f+=4*E}else 1===q.encoding&&(E=Math.ceil(q.numValidPixels*q.bitsPerPixel/8),b=new ArrayBuffer(4*Math.ceil(E/4)),y=new Uint8Array(b),y.set(new Uint8Array(m,f,E)),q.stuffedData=new Uint32Array(b),f+=E)}}d.eofOffset=f;m=null!==l.noDataValue?l.noDataValue:u.defaultNoDataValue;g=l.encodedMaskData;E=l.returnMask;c=0;a=d.pixels.numBlocksX;e=d.pixels.numBlocksY;t=Math.floor(d.width/a);q=Math.floor(d.height/e);y=2*d.maxZError;f=Number.MAX_VALUE;var F;g=g||(d.mask?d.mask.bitset:null);var w;b=new (l.pixelType||
Float32Array)(d.width*d.height);E&&g&&(w=new Uint8Array(d.width*d.height));E=new Float32Array(t*q);for(var D,G,L=0;L<=e;L++){var O=L!==e?q:d.height%e;if(0!==O)for(var V=0;V<=a;V++){var S=V!==a?t:d.width%a;if(0!==S){var ca=L*d.width*q+V*t,ea=d.width-S,T=d.pixels.blocks[c];if(2>T.encoding){if(0===T.encoding)var R=T.rawData;else{R=void 0;D=T.stuffedData;G=T.bitsPerPixel;var J=T.numValidPixels,r=T.offset,C=y,N=E,U=d.pixels.maxValue,ja=(1<<G)-1,ba=0,ia=0,za=Math.ceil((U-r)/C);D[D.length-1]<<=8*(4*D.length-
Math.ceil(G*J/8));for(F=0;F<J;F++){0===ia&&(R=D[ba++],ia=32);if(ia>=G){var Wa=R>>>ia-G&ja;ia-=G}else ia=G-ia,Wa=(R&ja)<<ia&ja,R=D[ba++],ia=32-ia,Wa+=R>>>ia;N[F]=Wa<za?r+Wa*C:U}R=E}Wa=0}else var hb=2===T.encoding?0:T.offset;if(g)for(G=0;G<O;G++){if(ca&7){var Ja=g[ca>>3];Ja<<=ca&7}for(D=0;D<S;D++)ca&7||(Ja=g[ca>>3]),Ja&128?(w&&(w[ca]=1),F=2>T.encoding?R[Wa++]:hb,f=f>F?F:f,b[ca++]=F):(w&&(w[ca]=0),b[ca++]=m),Ja<<=1;ca+=ea}else if(2>T.encoding)for(G=0;G<O;G++){for(D=0;D<S;D++)F=R[Wa++],f=f>F?F:f,b[ca++]=
F;ca+=ea}else for(f=f>hb?hb:f,G=0;G<O;G++){for(D=0;D<S;D++)b[ca++]=hb;ca+=ea}if(1===T.encoding&&Wa!==T.numValidPixels)throw"Block and Mask do not match";c++}}}hb=w;w={width:d.width,height:d.height,pixelData:b,minValue:f,maxValue:d.pixels.maxValue,noDataValue:m};hb&&(w.maskData=hb);l.returnEncodedMask&&d.mask&&(w.encodedMaskData=d.mask.bitset?d.mask.bitset:null);if(l.returnFileInfo&&(w.fileInfo={fileIdentifierString:d.fileIdentifierString,fileVersion:d.fileVersion,imageType:d.imageType,height:d.height,
width:d.width,maxZError:d.maxZError,eofOffset:d.eofOffset,mask:d.mask?{numBlocksX:d.mask.numBlocksX,numBlocksY:d.mask.numBlocksY,numBytes:d.mask.numBytes,maxValue:d.mask.maxValue}:null,pixels:{numBlocksX:d.pixels.numBlocksX,numBlocksY:d.pixels.numBlocksY,numBytes:d.pixels.numBytes,maxValue:d.pixels.maxValue,noDataValue:d.noDataValue}},l.computeUsedBitDepths)){l=w.fileInfo;hb=d.pixels.numBlocksX*d.pixels.numBlocksY;Ja={};for(R=0;R<hb;R++)Wa=d.pixels.blocks[R],0===Wa.encoding?Ja.float32=!0:1===Wa.encoding?
Ja[Wa.bitsPerPixel]=!0:Ja[0]=!0;d=Object.keys(Ja);l.bitDepths=d}return w}};return u}(),k=function(){var u={unstuff:function(f,g,d,b,c,a,e,t){var y=(1<<d)-1,q=0,E,F=0;f[f.length-1]<<=8*(4*f.length-Math.ceil(d*b/8));if(c)for(E=0;E<b;E++){if(0===F){var w=f[q++];F=32}if(F>=d){var D=w>>>F-d&y;F-=d}else F=d-F,D=(w&y)<<F&y,w=f[q++],F=32-F,D+=w>>>F;g[E]=c[D]}else for(c=Math.ceil((t-a)/e),E=0;E<b;E++)0===F&&(w=f[q++],F=32),F>=d?(D=w>>>F-d&y,F-=d):(F=d-F,D=(w&y)<<F&y,w=f[q++],F=32-F,D+=w>>>F),g[E]=D<c?a+D*
e:t},unstuffLUT:function(f,g,d,b,c,a){var e=(1<<g)-1,t=0,y;var q=0;var E=[];f[f.length-1]<<=8*(4*f.length-Math.ceil(g*d/8));var F=Math.ceil((a-b)/c);for(y=0;y<d;y++){if(0===q){var w=f[t++];q=32}if(q>=g){var D=w>>>q-g&e;q-=g}else q=g-q,D=(w&e)<<q&e,w=f[t++],q=32-q,D+=w>>>q;E[y]=D<F?b+D*c:a}E.unshift(b);return E},unstuff2:function(f,g,d,b,c,a,e,t){var y=(1<<d)-1,q=0,E,F=0,w=0;if(c)for(E=0;E<b;E++){if(0===F){var D=f[q++];F=32;w=0}if(F>=d){var G=D>>>w&y;F-=d;w+=d}else{var L=d-F;G=D>>>w&y;D=f[q++];F=32-
L;G|=(D&(1<<L)-1)<<d-L;w=L}g[E]=c[G]}else for(c=Math.ceil((t-a)/e),E=0;E<b;E++)0===F&&(D=f[q++],F=32,w=0),F>=d?(G=D>>>w&y,F-=d,w+=d):(L=d-F,G=D>>>w&y,D=f[q++],F=32-L,G|=(D&(1<<L)-1)<<d-L,w=L),g[E]=G<c?a+G*e:t;return g},unstuffLUT2:function(f,g,d,b,c,a){var e=(1<<g)-1,t=0,y,q=0,E=0,F=[],w=Math.ceil((a-b)/c);for(y=0;y<d;y++){if(0===q){var D=f[t++];q=32;E=0}if(q>=g){var G=D>>>E&e;q-=g;E+=g}else{var L=g-q;G=D>>>E&e;D=f[t++];q=32-L;G|=(D&(1<<L)-1)<<g-L;E=L}F[y]=G<w?b+G*c:a}F.unshift(b);return F},originalUnstuff:function(f,
g,d,b){var c=(1<<d)-1,a=0,e,t=0;f[f.length-1]<<=8*(4*f.length-Math.ceil(d*b/8));for(e=0;e<b;e++){if(0===t){var y=f[a++];t=32}if(t>=d){var q=y>>>t-d&c;t-=d}else t=d-t,q=(y&c)<<t&c,y=f[a++],t=32-t,q+=y>>>t;g[e]=q}return g},originalUnstuff2:function(f,g,d,b){var c=(1<<d)-1,a=0,e,t=0,y=0;for(e=0;e<b;e++){if(0===t){var q=f[a++];t=32;y=0}if(t>=d){var E=q>>>y&c;t-=d;y+=d}else{var F=d-t;E=q>>>y&c;q=f[a++];t=32-F;E|=(q&(1<<F)-1)<<d-F;y=F}g[e]=E}return g}},m={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(f){for(var g=
65535,d=65535,b=f.length,c=Math.floor(b/2),a=0;c;){var e=359<=c?359:c;c-=e;do g+=f[a++]<<8,d+=g+=f[a++];while(--e);g=(g&65535)+(g>>>16);d=(d&65535)+(d>>>16)}b&1&&(d+=g+=f[a]<<8);return((d&65535)+(d>>>16)<<16|(g&65535)+(g>>>16))>>>0},readHeaderInfo:function(f,g){var d=g.ptr,b=new Uint8Array(f,d,6),c={};c.fileIdentifierString=String.fromCharCode.apply(null,b);if(0!==c.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+c.fileIdentifierString;d+=6;b=
new DataView(f,d,8);var a=b.getInt32(0,!0);c.fileVersion=a;d+=4;3<=a&&(c.checksum=b.getUint32(4,!0),d+=4);b=new DataView(f,d,12);c.height=b.getUint32(0,!0);c.width=b.getUint32(4,!0);d+=8;4<=a?(c.numDims=b.getUint32(8,!0),d+=4):c.numDims=1;b=new DataView(f,d,40);c.numValidPixel=b.getUint32(0,!0);c.microBlockSize=b.getInt32(4,!0);c.blobSize=b.getInt32(8,!0);c.imageType=b.getInt32(12,!0);c.maxZError=b.getFloat64(16,!0);c.zMin=b.getFloat64(24,!0);c.zMax=b.getFloat64(32,!0);d+=40;g.headerInfo=c;g.ptr=
d;if(3<=a&&(f=this.computeChecksumFletcher32(new Uint8Array(f,d-(4<=a?52:48),c.blobSize-14)),f!==c.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(f,g){var d=g.headerInfo,b=this.getDataTypeArray(d.imageType),c=d.numDims*this.getDataTypeSize(d.imageType),a=this.readSubArray(f,g.ptr,b,c);f=this.readSubArray(f,g.ptr+c,b,c);g.ptr+=2*c;c=!0;for(g=0;g<d.numDims;g++)if(a[g]!==f[g]){c=!1;break}d.minValues=a;d.maxValues=f;return c},readSubArray:function(f,g,d,b){if(d===Uint8Array)f=
new Uint8Array(f,g,b);else{var c=new ArrayBuffer(b);(new Uint8Array(c)).set(new Uint8Array(f,g,b));f=new d(c)}return f},readMask:function(f,g){var d=g.ptr,b=g.headerInfo,c=b.width*b.height,a=b.numValidPixel,e=new DataView(f,d,4);b={};b.numBytes=e.getUint32(0,!0);d+=4;if((0===a||c===a)&&0!==b.numBytes)throw"invalid mask";if(0===a)a=new Uint8Array(Math.ceil(c/8)),b.bitset=a,e=new Uint8Array(c),g.pixels.resultMask=e,d+=b.numBytes;else if(0<b.numBytes){a=new Uint8Array(Math.ceil(c/8));e=new DataView(f,
d,b.numBytes);f=e.getInt16(0,!0);var t=2,y=0;do{if(0<f)for(;f--;)a[y++]=e.getUint8(t++);else{var q=e.getUint8(t++);for(f=-f;f--;)a[y++]=q}f=e.getInt16(t,!0);t+=2}while(t<b.numBytes);if(-32768!==f||y<a.length)throw"Unexpected end of mask RLE encoding";e=new Uint8Array(c);for(t=0;t<c;t++)t&7?(f=a[t>>3],f<<=t&7):f=a[t>>3],f&128&&(e[t]=1);g.pixels.resultMask=e;b.bitset=a;d+=b.numBytes}g.ptr=d;g.mask=b;return!0},readDataOneSweep:function(f,g,d,b){var c=g.ptr,a=g.headerInfo,e=a.numDims,t=a.width*a.height;
a=a.numValidPixel*m.getDataTypeSize(a.imageType)*e;var y=g.pixels.resultMask;if(d===Uint8Array)f=new Uint8Array(f,c,a);else{var q=new ArrayBuffer(a);(new Uint8Array(q)).set(new Uint8Array(f,c,a));f=new d(q)}if(f.length===t*e)g.pixels.resultPixels=b?m.swapDimensionOrder(f,t,e,d,!0):f;else if(g.pixels.resultPixels=new d(t*e),d=0,1<e)if(b)for(b=0;b<t;b++){if(y[b]){var E=b;for(q=0;q<e;q++,E+=t)g.pixels.resultPixels[E]=f[d++]}}else for(b=0;b<t;b++){if(y[b])for(E=b*e,q=0;q<e;q++)g.pixels.resultPixels[E+
q]=f[d++]}else for(b=0;b<t;b++)y[b]&&(g.pixels.resultPixels[b]=f[d++]);g.ptr=c+a;return!0},readHuffmanTree:function(f,g){var d=this.HUFFMAN_LUT_BITS_MAX,b=new DataView(f,g.ptr,16);g.ptr+=16;if(2>b.getInt32(0,!0))throw"unsupported Huffman version";var c=b.getInt32(4,!0),a=b.getInt32(8,!0);b=b.getInt32(12,!0);if(a>=b)return!1;var e=new Uint32Array(b-a);m.decodeBits(f,g,e);var t=[],y;for(y=a;y<b;y++){var q=y-(y<c?0:c);t[q]={first:e[y-a],second:null}}y=f.byteLength-g.ptr;e=new ArrayBuffer(4*Math.ceil(y/
4));(new Uint8Array(e)).set(new Uint8Array(f,g.ptr,y));f=new Uint32Array(e);g=0;e=0;var E=f[0];for(y=a;y<b;y++){q=y-(y<c?0:c);var F=t[q].first;0<F&&(t[q].second=E<<g>>>32-F,32-g>=F?(g+=F,32===g&&(g=0,e++,E=f[e])):(g+=F-32,e++,E=f[e],t[q].second|=E>>>32-g))}E=0;var w=new l;for(y=0;y<t.length;y++)void 0!==t[y]&&(E=Math.max(E,t[y].first));d=E>=d?d:E;var D=[],G;for(y=a;y<b;y++)if(q=y-(y<c?0:c),F=t[q].first,0<F)if(a=[F,q],F<=d){q=t[q].second<<d-F;var L=1<<d-F;for(F=0;F<L;F++)D[q|F]=a}else for(q=t[q].second,
L=w,--F;0<=F;F--)(G=q>>>F&1)?(L.right||(L.right=new l),L=L.right):(L.left||(L.left=new l),L=L.left),0!==F||L.val||(L.val=a[1]);return{decodeLut:D,numBitsLUTQick:d,numBitsLUT:E,tree:w,stuffedData:f,srcPtr:e,bitPos:g}},readHuffman:function(f,g,d,b){var c=g.headerInfo.numDims,a=g.headerInfo.height,e=g.headerInfo.width,t=e*a,y=this.readHuffmanTree(f,g);f=y.decodeLut;var q=y.tree,E=y.stuffedData,F=y.srcPtr,w=y.bitPos,D=y.numBitsLUTQick;y=y.numBitsLUT;var G=0===g.headerInfo.imageType?128:0,L=g.pixels.resultMask,
O,V,S,ca,ea,T,R=0;0<w&&(F++,w=0);var J=E[F],r=1===g.encodeMode,C=new d(t*c),N=C,U;if(2>c||r)for(U=0;U<c;U++)if(1<c&&(N=new d(C.buffer,t*U,t),R=0),g.headerInfo.numValidPixel===e*a)for(S=ea=0;S<a;S++)for(ca=0;ca<e;ca++,ea++){var ja=0;var ba=O=J<<w>>>32-D;32-w<D&&(ba=O|=E[F+1]>>>64-w-D);if(f[ba])ja=f[ba][1],w+=f[ba][0];else for(O=J<<w>>>32-y,32-w<y&&(O|=E[F+1]>>>64-w-y),ba=q,T=0;T<y;T++)if(ba=(V=O>>>y-T-1&1)?ba.right:ba.left,!ba.left&&!ba.right){ja=ba.val;w=w+T+1;break}32<=w&&(w-=32,F++,J=E[F]);ja-=
G;r?(ja=0<ca?ja+R:0<S?ja+N[ea-e]:ja+R,ja&=255,R=N[ea]=ja):N[ea]=ja}else for(S=ea=0;S<a;S++)for(ca=0;ca<e;ca++,ea++){if(L[ea]){ja=0;ba=O=J<<w>>>32-D;32-w<D&&(ba=O|=E[F+1]>>>64-w-D);if(f[ba])ja=f[ba][1],w+=f[ba][0];else for(O=J<<w>>>32-y,32-w<y&&(O|=E[F+1]>>>64-w-y),ba=q,T=0;T<y;T++)if(ba=(V=O>>>y-T-1&1)?ba.right:ba.left,!ba.left&&!ba.right){ja=ba.val;w=w+T+1;break}32<=w&&(w-=32,F++,J=E[F]);ja-=G;r?(ja=0<ca&&L[ea-1]?ja+R:0<S&&L[ea-e]?ja+N[ea-e]:ja+R,ja&=255,R=N[ea]=ja):N[ea]=ja}}else for(S=0;S<a;S++)for(ca=
0;ca<e;ca++)if(ea=S*e+ca,!L||L[ea])for(U=0;U<c;U++,ea+=t){ja=0;ba=O=J<<w>>>32-D;32-w<D&&(ba=O|=E[F+1]>>>64-w-D);if(f[ba])ja=f[ba][1],w+=f[ba][0];else for(O=J<<w>>>32-y,32-w<y&&(O|=E[F+1]>>>64-w-y),ba=q,T=0;T<y;T++)if(ba=(V=O>>>y-T-1&1)?ba.right:ba.left,!ba.left&&!ba.right){ja=ba.val;w=w+T+1;break}32<=w&&(w-=32,F++,J=E[F]);ja-=G;N[ea]=ja}g.ptr=g.ptr+4*(F+1)+(0<w?4:0);g.pixels.resultPixels=C;1<c&&!b&&(g.pixels.resultPixels=m.swapDimensionOrder(C,t,c,d))},decodeBits:function(f,g,d,b,c){var a=g.headerInfo,
e=a.fileVersion,t=0,y=new DataView(f,g.ptr,5<=f.byteLength-g.ptr?5:f.byteLength-g.ptr),q=y.getUint8(0);t++;var E=q>>6;E=0===E?4:3-E;var F=0<(q&32)?!0:!1;q&=31;if(1===E)E=y.getUint8(t),t++;else if(2===E)E=y.getUint16(t,!0),t+=2;else if(4===E)E=y.getUint32(t,!0),t+=4;else throw"Invalid valid pixel count type";var w=2*a.maxZError;c=1<a.numDims?a.maxValues[c]:a.zMax;if(F){g.counter.lut++;F=y.getUint8(t);t++;a=Math.ceil((F-1)*q/8);var D=Math.ceil(a/4);D=new ArrayBuffer(4*D);var G=new Uint8Array(D);g.ptr+=
t;G.set(new Uint8Array(f,g.ptr,a));t=new Uint32Array(D);g.ptr+=a;for(y=0;F-1>>>y;)y++;a=Math.ceil(E*y/8);D=Math.ceil(a/4);D=new ArrayBuffer(4*D);G=new Uint8Array(D);G.set(new Uint8Array(f,g.ptr,a));f=new Uint32Array(D);g.ptr+=a;g=3<=e?u.unstuffLUT2(t,q,F-1,b,w,c):u.unstuffLUT(t,q,F-1,b,w,c);3<=e?u.unstuff2(f,d,y,E,g):u.unstuff(f,d,y,E,g)}else g.counter.bitstuffer++,y=q,g.ptr+=t,0<y&&(a=Math.ceil(E*y/8),D=Math.ceil(a/4),D=new ArrayBuffer(4*D),G=new Uint8Array(D),G.set(new Uint8Array(f,g.ptr,a)),f=
new Uint32Array(D),g.ptr+=a,3<=e?null==b?u.originalUnstuff2(f,d,y,E):u.unstuff2(f,d,y,E,!1,b,w,c):null==b?u.originalUnstuff(f,d,y,E):u.unstuff(f,d,y,E,!1,b,w,c))},readTiles:function(f,g,d,b){var c=g.headerInfo,a=c.width,e=c.height,t=a*e,y=c.microBlockSize,q=c.imageType,E=m.getDataTypeSize(q),F=Math.ceil(a/y),w=Math.ceil(e/y);g.pixels.numBlocksY=w;g.pixels.numBlocksX=F;g.pixels.ptr=0;var D,G=new d(y*y),L=e%y||y,O=a%y||y,V=c.numDims,S,ca=g.pixels.resultMask,ea=g.pixels.resultPixels,T=5<=c.fileVersion?
14:15,R=c.zMax;for(e=0;e<w;e++){var J=e!==w-1?y:L;for(D=0;D<F;D++){var r=D!==F-1?y:O;var C=e*a*y+D*y;var N=a-r;for(S=0;S<V;S++){if(1<V){var U=ea;C=e*a*y+D*y;ea=new d(g.pixels.resultPixels.buffer,t*S*E,t);R=c.maxValues[S]}else U=null;var ja=f.byteLength-g.ptr;var ba=new DataView(f,g.ptr,Math.min(10,ja));var ia={};ja=0;var za=ba.getUint8(0);ja++;var Wa=5<=c.fileVersion?za&4:0;var hb=za>>6&255;var Ja=za>>2&T;if(Ja!==(D*y>>3&T))throw"integrity issue";if(Wa&&0===S)throw"integrity issue";za&=3;if(3<za)throw g.ptr+=
ja,"Invalid block encoding ("+za+")";if(2===za){if(Wa)if(ca)for(ba=0;ba<J;ba++)for(ia=0;ia<r;ia++)ca[C]&&(ea[C]=U[C]),C++;else for(ba=0;ba<J;ba++)for(ia=0;ia<r;ia++)ea[C]=U[C],C++;g.counter.constant++;g.ptr+=ja}else if(0===za){if(Wa)throw"integrity issue";g.counter.uncompressed++;g.ptr+=ja;U=J*r*E;ja=f.byteLength-g.ptr;U=U<ja?U:ja;ja=new ArrayBuffer(0===U%E?U:U+E-U%E);Wa=new Uint8Array(ja);Wa.set(new Uint8Array(f,g.ptr,U));ja=new d(ja);U=0;if(ca)for(ba=0;ba<J;ba++){for(ia=0;ia<r;ia++)ca[C]&&(ea[C]=
ja[U++]),C++;C+=N}else for(ba=0;ba<J;ba++){for(ia=0;ia<r;ia++)ea[C++]=ja[U++];C+=N}g.ptr+=U*E}else if(hb=m.getDataTypeUsed(Wa&&6>q?4:q,hb),Ja=m.getOnePixel(ia,ja,hb,ba),ja+=m.getDataTypeSize(hb),3===za)if(g.ptr+=ja,g.counter.constantoffset++,ca)for(ba=0;ba<J;ba++){for(ia=0;ia<r;ia++)ca[C]&&(ea[C]=Wa?Math.min(R,U[C]+Ja):Ja),C++;C+=N}else for(ba=0;ba<J;ba++){for(ia=0;ia<r;ia++)ea[C]=Wa?Math.min(R,U[C]+Ja):Ja,C++;C+=N}else if(g.ptr+=ja,m.decodeBits(f,g,G,Ja,S),ja=0,Wa)if(ca)for(ba=0;ba<J;ba++){for(ia=
0;ia<r;ia++)ca[C]&&(ea[C]=G[ja++]+U[C]),C++;C+=N}else for(ba=0;ba<J;ba++){for(ia=0;ia<r;ia++)ea[C]=G[ja++]+U[C],C++;C+=N}else if(ca)for(ba=0;ba<J;ba++){for(ia=0;ia<r;ia++)ca[C]&&(ea[C]=G[ja++]),C++;C+=N}else for(ba=0;ba<J;ba++){for(ia=0;ia<r;ia++)ea[C++]=G[ja++];C+=N}}}}1<V&&!b&&(g.pixels.resultPixels=m.swapDimensionOrder(g.pixels.resultPixels,t,V,d))},formatFileInfo:function(f){return{fileIdentifierString:f.headerInfo.fileIdentifierString,fileVersion:f.headerInfo.fileVersion,imageType:f.headerInfo.imageType,
height:f.headerInfo.height,width:f.headerInfo.width,numValidPixel:f.headerInfo.numValidPixel,microBlockSize:f.headerInfo.microBlockSize,blobSize:f.headerInfo.blobSize,maxZError:f.headerInfo.maxZError,pixelType:m.getPixelType(f.headerInfo.imageType),eofOffset:f.eofOffset,mask:f.mask?{numBytes:f.mask.numBytes}:null,pixels:{numBlocksX:f.pixels.numBlocksX,numBlocksY:f.pixels.numBlocksY,maxValue:f.headerInfo.zMax,minValue:f.headerInfo.zMin,noDataValue:f.noDataValue}}},constructConstantSurface:function(f,
g){var d=f.headerInfo.zMax,b=f.headerInfo.zMin,c=f.headerInfo.maxValues,a=f.headerInfo.numDims,e=f.headerInfo.height*f.headerInfo.width,t=f.pixels.resultMask;f=f.pixels.resultPixels;if(t)if(1<a)if(g)for(g=0;g<a;g++){var y=g*e;d=c[g];for(b=0;b<e;b++)t[b]&&(f[y+b]=d)}else for(b=0;b<e;b++){if(t[b])for(y=b*a,g=0;g<a;g++)f[y+a]=c[g]}else for(b=0;b<e;b++)t[b]&&(f[b]=d);else if(1<a&&b!==d)if(g)for(g=0;g<a;g++)for(y=g*e,d=c[g],b=0;b<e;b++)f[y+b]=d;else for(b=0;b<e;b++)for(y=b*a,g=0;g<a;g++)f[y+g]=c[g];else for(b=
0;b<e*a;b++)f[b]=d},getDataTypeArray:function(f){switch(f){case 0:f=Int8Array;break;case 1:f=Uint8Array;break;case 2:f=Int16Array;break;case 3:f=Uint16Array;break;case 4:f=Int32Array;break;case 5:f=Uint32Array;break;case 6:f=Float32Array;break;case 7:f=Float64Array;break;default:f=Float32Array}return f},getPixelType:function(f){switch(f){case 0:f="S8";break;case 1:f="U8";break;case 2:f="S16";break;case 3:f="U16";break;case 4:f="S32";break;case 5:f="U32";break;case 6:f="F32";break;case 7:f="F64";break;
default:f="F32"}return f},isValidPixelValue:function(f,g){if(null==g)return!1;switch(f){case 0:f=-128<=g&&127>=g;break;case 1:f=0<=g&&255>=g;break;case 2:f=-32768<=g&&32767>=g;break;case 3:f=0<=g&&65536>=g;break;case 4:f=-2147483648<=g&&2147483647>=g;break;case 5:f=0<=g&&4294967296>=g;break;case 6:f=-3.4027999387901484E38<=g&&3.4027999387901484E38>=g;break;case 7:f=-1.7976931348623157E308<=g&&1.7976931348623157E308>=g;break;default:f=!1}return f},getDataTypeSize:function(f){switch(f){case 0:case 1:f=
1;break;case 2:case 3:f=2;break;case 4:case 5:case 6:f=4;break;case 7:f=8}return f},getDataTypeUsed:function(f,g){switch(f){case 2:case 4:f-=g;break;case 3:case 5:f-=2*g;break;case 6:f=0===g?f:1===g?2:1;break;case 7:f=0===g?f:f-2*g+1}return f},getOnePixel:function(f,g,d,b){switch(d){case 0:f=b.getInt8(g);break;case 1:f=b.getUint8(g);break;case 2:f=b.getInt16(g,!0);break;case 3:f=b.getUint16(g,!0);break;case 4:f=b.getInt32(g,!0);break;case 5:f=b.getUInt32(g,!0);break;case 6:f=b.getFloat32(g,!0);break;
case 7:f=b.getFloat64(g,!0);break;default:throw"the decoder does not understand this pixel type";}return f},swapDimensionOrder:function(f,g,d,b,c){var a=0,e=f;if(1<d)if(e=new b(g*d),c)for(b=0;b<g;b++){var t=b;for(c=0;c<d;c++,t+=g)e[t]=f[a++]}else for(b=0;b<g;b++)for(t=b,c=0;c<d;c++,t+=g)e[a++]=f[t];return e}},l=function(f,g,d){this.val=f;this.left=g;this.right=d};return{decode:function(f,g){g=g||{};var d=g.noDataValue,b={};b.ptr=g.inputOffset||0;b.pixels={};if(m.readHeaderInfo(f,b)){var c=b.headerInfo;
var a=c.fileVersion,e=m.getDataTypeArray(c.imageType);if(5<a)throw"unsupported lerc version 2."+a;m.readMask(f,b);c.numValidPixel===c.width*c.height||b.pixels.resultMask||(b.pixels.resultMask=g.maskData);var t=c.width*c.height;b.pixels.resultPixels=new e(t*c.numDims);b.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var y=!g.returnPixelInterleavedDims;if(0!==c.numValidPixel)if(c.zMax===c.zMin)m.constructConstantSurface(b,y);else if(4<=a&&m.checkMinMaxRanges(f,b))m.constructConstantSurface(b,
y);else{var q=new DataView(f,b.ptr,2),E=q.getUint8(0);b.ptr++;if(E)m.readDataOneSweep(f,b,e,y);else if(1<a&&1>=c.imageType&&1E-5>Math.abs(c.maxZError-.5)){q=q.getUint8(1);b.ptr++;b.encodeMode=q;if(2<q||4>a&&1<q)throw"Invalid Huffman flag "+q;q?m.readHuffman(f,b,e,y):m.readTiles(f,b,e,y)}else m.readTiles(f,b,e,y)}b.eofOffset=b.ptr;g.inputOffset?(f=b.headerInfo.blobSize+g.inputOffset-b.ptr,1<=Math.abs(f)&&(b.eofOffset=g.inputOffset+b.headerInfo.blobSize)):(f=b.headerInfo.blobSize-b.ptr,1<=Math.abs(f)&&
(b.eofOffset=b.headerInfo.blobSize));f={width:c.width,height:c.height,pixelData:b.pixels.resultPixels,minValue:c.zMin,maxValue:c.zMax,validPixelCount:c.numValidPixel,dimCount:c.numDims,dimStats:{minValues:c.minValues,maxValues:c.maxValues},maskData:b.pixels.resultMask};if(b.pixels.resultMask&&m.isValidPixelValue(c.imageType,d)){a=b.pixels.resultMask;for(c=0;c<t;c++)a[c]||(f.pixelData[c]=d);f.noDataValue=d}b.noDataValue=d;g.returnFileInfo&&(f.fileInfo=m.formatFileInfo(b));return f}},getBandCount:function(f){for(var g=
0,d=0,b={ptr:0,pixels:{}};d<f.byteLength-58;)m.readHeaderInfo(f,b),d+=b.headerInfo.blobSize,g++,b.ptr=d;return g}}}(),p=function(){var u=new ArrayBuffer(4),m=new Uint8Array(u);(new Uint32Array(u))[0]=1;return 1===m[0]}(),A={decode:function(u,m){if(!p)throw"Big endian system is not supported.";m=m||{};var l=m.inputOffset||0,f=new Uint8Array(u,l,10);f=String.fromCharCode.apply(null,f);if("CntZImage"===f.trim()){var g=v;var d=1}else if("Lerc2"===f.substring(0,5))g=k,d=2;else throw"Unexpected file identifier string: "+
f;var b=0,c=u.byteLength-10;f=[];for(var a,e={width:0,height:0,pixels:[],pixelType:m.pixelType,mask:null,statistics:[]},t=0;l<c;){var y=g.decode(u,{inputOffset:l,encodedMaskData:q,maskData:a,returnMask:0===b?!0:!1,returnEncodedMask:0===b?!0:!1,returnFileInfo:!0,returnPixelInterleavedDims:m.returnPixelInterleavedDims,pixelType:m.pixelType||null,noDataValue:m.noDataValue||null});l=y.fileInfo.eofOffset;a=y.maskData;if(0===b){var q=y.encodedMaskData;e.width=y.width;e.height=y.height;e.dimCount=y.dimCount||
1;e.pixelType=y.pixelType||y.fileInfo.pixelType;e.mask=a}1<d&&(a&&f.push(a),y.fileInfo.mask&&0<y.fileInfo.mask.numBytes&&t++);b++;e.pixels.push(y.pixelData);e.statistics.push({minValue:y.minValue,maxValue:y.maxValue,noDataValue:y.noDataValue,dimStats:y.dimStats})}if(1<d&&1<t){q=e.width*e.height;e.bandMasks=f;a=new Uint8Array(q);a.set(f[0]);for(m=1;m<f.length;m++)for(u=f[m],l=0;l<q;l++)a[l]&=u[l];e.maskData=a}return e}};"function"===typeof define&&define.amd?define([],function(){return A}):"undefined"!==
typeof cb&&cb.exports?cb.exports=A:this.Lerc=A})()};
shadow$provide[290]=function(ra,z,cb,B){ra=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{"default":u}};Object.defineProperty(B,"__esModule",{value:!0});const v=z(286),k=ra(z(289));ra=ra(z(282));const p=z(279);class A extends ra.default{constructor(u){super();this.planarConfiguration="undefined"!==typeof u.PlanarConfiguration?u.PlanarConfiguration:1;this.samplesPerPixel="undefined"!==typeof u.SamplesPerPixel?u.SamplesPerPixel:1;this.addCompression=u.LercParameters[p.LercParameters.AddCompression]}decodeBlock(u){switch(this.addCompression){case p.LercAddCompression.None:break;
case p.LercAddCompression.Deflate:u=(0,v.inflate)(new Uint8Array(u)).buffer;break;default:throw Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`);}return k.default.decode(u,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}B.default=A};
shadow$provide[291]=function(ra,z,cb,B){ra=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(B,"__esModule",{value:!0});z=ra(z(282));class v extends z.default{constructor(){super();if("undefined"===typeof createImageBitmap)throw Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"===typeof document&&"undefined"===typeof OffscreenCanvas)throw Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");
}decode(k,p){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var A=new Blob([p]);A=yield createImageBitmap(A);if("undefined"!==typeof document){var u=document.createElement("canvas");u.width=A.width;u.height=A.height}else u=new OffscreenCanvas(A.width,A.height);u=u.getContext("2d");u.drawImage(A,0,0);return u.getImageData(0,0,A.width,A.height).data.buffer})}}B.default=v};
shadow$provide[292]=function(ra,z,cb,B){function v(m,l){Array.isArray(m)||(m=[m]);m.forEach(f=>u.set(f,l))}var k=this&&this.__createBinding||(Object.create?function(m,l,f,g){void 0===g&&(g=f);Object.defineProperty(m,g,{enumerable:!0,get:function(){return l[f]}})}:function(m,l,f,g){void 0===g&&(g=f);m[g]=l[f]}),p=this&&this.__setModuleDefault||(Object.create?function(m,l){Object.defineProperty(m,"default",{enumerable:!0,value:l})}:function(m,l){m["default"]=l}),A=this&&this.__importStar||function(m){if(m&&
m.__esModule)return m;var l={};if(null!=m)for(var f in m)"default"!==f&&Object.prototype.hasOwnProperty.call(m,f)&&k(l,m,f);p(l,m);return l};Object.defineProperty(B,"__esModule",{value:!0});B.getDecoder=B.addDecoder=void 0;const u=new Map;B.addDecoder=v;B.getDecoder=function(m){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const l=u.get(m.Compression);if(!l)throw Error(`Unknown compression method identifier: ${m.Compression}`);return new (yield l())(m)})};v([void 0,1],()=>Promise.resolve().then(()=>
A(z(283))).then(m=>m.default));v(5,()=>Promise.resolve().then(()=>A(z(284))).then(m=>m.default));v(6,()=>{throw Error("old style JPEG compression is not supported.");});v(7,()=>Promise.resolve().then(()=>A(z(285))).then(m=>m.default));v([8,32946],()=>Promise.resolve().then(()=>A(z(287))).then(m=>m.default));v(32773,()=>Promise.resolve().then(()=>A(z(288))).then(m=>m.default));v(34887,()=>Promise.resolve().then(()=>A(z(290))).then(m=>m.default));v(50001,()=>Promise.resolve().then(()=>A(z(291))).then(m=>
m.default))};
shadow$provide[293]=function(ra,z,cb,B){function v(m,l,f,g=1){return new (Object.getPrototypeOf(m).constructor)(l*f*g)}function k(m,l,f,g,d){const b=l/g,c=f/d;return m.map(a=>{const e=v(a,g,d);for(let t=0;t<d;++t){const y=Math.min(Math.round(c*t),f-1);for(let q=0;q<g;++q)e[t*g+q]=a[y*l+Math.min(Math.round(b*q),l-1)]}return e})}function p(m,l,f,g,d){const b=l/g,c=f/d;return m.map(a=>{const e=v(a,g,d);for(let y=0;y<d;++y){const q=c*y,E=Math.floor(q),F=Math.min(Math.ceil(q),f-1);for(let w=0;w<g;++w){var t=
b*w;const D=t%1,G=Math.floor(t),L=Math.min(Math.ceil(t),l-1);t=q%1;e[y*g+w]=(1-t)*((1-D)*a[E*l+G]+D*a[E*l+L])+t*((1-D)*a[F*l+G]+D*a[F*l+L])}}return e})}function A(m,l,f,g,d,b){const c=l/g,a=f/d,e=v(m,g,d,b);for(let t=0;t<d;++t){const y=Math.min(Math.round(a*t),f-1);for(let q=0;q<g;++q){const E=Math.min(Math.round(c*q),l-1);for(let F=0;F<b;++F)e[t*g*b+q*b+F]=m[y*l*b+E*b+F]}}return e}function u(m,l,f,g,d,b){const c=l/g,a=f/d,e=v(m,g,d,b);for(let y=0;y<d;++y){const q=a*y,E=Math.floor(q),F=Math.min(Math.ceil(q),
f-1);for(let w=0;w<g;++w){var t=c*w;const D=t%1,G=Math.floor(t),L=Math.min(Math.ceil(t),l-1);for(let O=0;O<b;++O)t=q%1,e[y*g*b+w*b+O]=(1-t)*((1-D)*m[E*l*b+G*b+O]+D*m[E*l*b+L*b+O])+t*((1-D)*m[F*l*b+G*b+O]+D*m[F*l*b+L*b+O])}}return e}Object.defineProperty(B,"__esModule",{value:!0});B.resampleInterleaved=B.resampleBilinearInterleaved=B.resampleNearestInterleaved=B.resample=B.resampleBilinear=B.resampleNearest=void 0;B.resampleNearest=k;B.resampleBilinear=p;B.resample=function(m,l,f,g,d,b="nearest"){switch(b.toLowerCase()){case "nearest":return k(m,
l,f,g,d);case "bilinear":case "linear":return p(m,l,f,g,d);default:throw Error(`Unsupported resampling method: '${b}'`);}};B.resampleNearestInterleaved=A;B.resampleBilinearInterleaved=u;B.resampleInterleaved=function(m,l,f,g,d,b,c="nearest"){switch(c.toLowerCase()){case "nearest":return A(m,l,f,g,d,b);case "bilinear":case "linear":return u(m,l,f,g,d,b);default:throw Error(`Unsupported resampling method: '${c}'`);}}};
shadow$provide[294]=function(ra,z,cb,B){function v(b,c,a){let e=0;for(;c<a;++c)e+=b[c];return e}function k(b,c,a){switch(b){case 1:if(8>=c)return new Uint8Array(a);if(16>=c)return new Uint16Array(a);if(32>=c)return new Uint32Array(a);break;case 2:if(8===c)return new Int8Array(a);if(16===c)return new Int16Array(a);if(32===c)return new Int32Array(a);break;case 3:switch(c){case 16:case 32:return new Float32Array(a);case 64:return new Float64Array(a)}}throw Error("Unsupported data format/bitsPerSample");
}ra=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{"default":b}};Object.defineProperty(B,"__esModule",{value:!0});const p=z(274),A=ra(z(275)),u=ra(z(278)),m=z(279),l=z(280),f=z(292),g=z(293);class d{constructor(b,c,a,e,t,y){this.fileDirectory=b;this.geoKeys=c;this.dataView=a;this.littleEndian=e;this.tiles=t?{}:null;this.isTiled=!b.StripOffsets;b=b.PlanarConfiguration;this.planarConfiguration="undefined"===typeof b?1:b;if(1!==this.planarConfiguration&&2!==this.planarConfiguration)throw Error("Invalid planar configuration.");
this.source=y}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return"undefined"!==typeof this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:"undefined"!==typeof this.fileDirectory.RowsPerStrip?
Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(b){return this.isTiled||(b+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-b*this.getTileHeight()}getBytesPerPixel(){let b=0;for(let c=0;c<this.fileDirectory.BitsPerSample.length;++c)b+=this.getSampleByteSize(c);return b}getSampleByteSize(b){if(b>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${b} is out of range.`);
return Math.ceil(this.fileDirectory.BitsPerSample[b]/8)}getReaderForSample(b){const c=this.fileDirectory.BitsPerSample[b];switch(this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[b]:1){case 1:if(8>=c)return DataView.prototype.getUint8;if(16>=c)return DataView.prototype.getUint16;if(32>=c)return DataView.prototype.getUint32;break;case 2:if(8>=c)return DataView.prototype.getInt8;if(16>=c)return DataView.prototype.getInt16;if(32>=c)return DataView.prototype.getInt32;break;case 3:switch(c){case 16:return function(a,
e){return(0,p.getFloat16)(this,a,e)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample");}getSampleFormat(b=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[b]:1}getBitsPerSample(b=0){return this.fileDirectory.BitsPerSample[b]}getArrayForSample(b,c){const a=this.getSampleFormat(b);b=this.getBitsPerSample(b);return k(a,b,c)}getTileOrStrip(b,c,a,e,t){const y=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var q=
Math.ceil(y.getWidth()/y.getTileWidth()),E=Math.ceil(y.getHeight()/y.getTileHeight());let F;const {tiles:w}=y;1===y.planarConfiguration?F=c*q+b:2===y.planarConfiguration&&(F=a*q*E+c*q+b);y.isTiled?(q=y.fileDirectory.TileOffsets[F],E=y.fileDirectory.TileByteCounts[F]):(q=y.fileDirectory.StripOffsets[F],E=y.fileDirectory.StripByteCounts[F]);const D=(yield y.source.fetch([{offset:q,length:E}],t))[0];null!==w&&w[F]?q=w[F]:(q=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){var G=yield e.decode(y.fileDirectory,
D),L=y.getSampleFormat();const O=y.getBitsPerSample();if((1===L||2===L)&&32>=O&&0===O%8?0:3!==L||16!==O&&32!==O&&64!==O){var V=y.planarConfiguration,S=y.getSamplesPerPixel(),ca=y.getTileWidth(),ea=y.getBlockHeight(c);G=new DataView(G);const J=2===V?1:S,r=k(L,O,2===V?ea*ca:ea*ca*S),C=parseInt("1".repeat(O),2);if(1===L)for(L=ca*(1===V?S*O:O),0!==(L&7)&&(L=L+7&-8),V=0;V<ea;++V){S=V*L;for(let N=0;N<ca;++N){const U=S+N*J*O;for(let ja=0;ja<J;++ja){var T=U+ja*O;const ba=(V*ca+N)*J+ja;var R=Math.floor(T/
8);T%=8;8>=T+O?r[ba]=G.getUint8(R)>>8-O-T&C:16>=T+O?r[ba]=G.getUint16(R)>>16-O-T&C:24>=T+O?(R=G.getUint16(R)<<8|G.getUint8(R+2),r[ba]=R>>24-O-T&C):r[ba]=G.getUint32(R)>>32-O-T&C}}}G=r.buffer}return G}))(),null!==w&&(w[F]=q));return{x:b,y:c,sample:a,data:yield q}})}_readRaster(b,c,a,e,t,y,q,E,F){const w=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const D=w.getTileWidth(),G=w.getTileHeight(),L=w.getWidth(),O=w.getHeight();var V=Math.max(Math.floor(b[0]/D),0);const S=Math.min(Math.ceil(b[2]/
D),Math.ceil(L/D));var ca=Math.max(Math.floor(b[1]/G),0);const ea=Math.min(Math.ceil(b[3]/G),Math.ceil(O/G)),T=b[2]-b[0];let R=w.getBytesPerPixel();const J=[],r=[];for(var C=0;C<c.length;++C)1===w.planarConfiguration?J.push(v(w.fileDirectory.BitsPerSample,0,c[C])/8):J.push(0),r.push(w.getReaderForSample(c[C]));C=[];const {littleEndian:N}=w;for(;ca<ea;++ca)for(let ja=V;ja<S;++ja)for(let ba=0;ba<c.length;++ba){const ia=ba;var U=c[ba];2===w.planarConfiguration&&(R=w.getSampleByteSize(ba));U=w.getTileOrStrip(ja,
ca,U,t,F).then(za=>{const Wa=new DataView(za.data);var hb=w.getBlockHeight(za.y);const Ja=za.y*G,qa=za.x*D,Da=r[ia];hb=Math.min(hb,hb-(Ja+hb-b[3]),O-Ja);za=Math.min(D,D-((za.x+1)*D-b[2]),L-qa);for(let va=Math.max(0,b[1]-Ja);va<hb;++va)for(let sa=Math.max(0,b[0]-qa);sa<za;++sa){const xa=Da.call(Wa,(va*D+sa)*R+J[ia],N);let ma;e?(ma=(va+Ja-b[1])*T*c.length+(sa+qa-b[0])*c.length+ia,a[ma]=xa):(ma=(va+Ja-b[1])*T+sa+qa-b[0],a[ia][ma]=xa)}});C.push(U)}yield Promise.all(C);if(y&&b[2]-b[0]!==y||q&&b[3]-b[1]!==
q)return V=e?(0,g.resampleInterleaved)(a,b[2]-b[0],b[3]-b[1],y,q,c.length,E):(0,g.resample)(a,b[2]-b[0],b[3]-b[1],y,q,E),V.width=y,V.height=q,V;a.width=y||b[2]-b[0];a.height=q||b[3]-b[1];return a})}readRasters({window:b,samples:c=[],interleave:a,pool:e=null,width:t,height:y,resampleMethod:q,fillValue:E,signal:F}={}){const w=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const D=b||[0,0,w.getWidth(),w.getHeight()];if(D[0]>D[2]||D[1]>D[3])throw Error("Invalid subsets");var G=(D[2]-
D[0])*(D[3]-D[1]),L=w.getSamplesPerPixel();if(!c||!c.length)for(var O=0;O<L;++O)c.push(O);else for(O=0;O<c.length;++O)if(c[O]>=L)return Promise.reject(new RangeError(`Invalid sample index '${c[O]}'.`));if(a)L=w.fileDirectory.SampleFormat?Math.max.apply(null,w.fileDirectory.SampleFormat):1,O=Math.max.apply(null,w.fileDirectory.BitsPerSample),L=k(L,O,G*c.length),E&&L.fill(E);else for(L=[],O=0;O<c.length;++O){const V=w.getArrayForSample(c[O],G);Array.isArray(E)&&O<E.length?V.fill(E[O]):E&&!Array.isArray(E)&&
V.fill(E);L.push(V)}G=e||(yield(0,f.getDecoder)(w.fileDirectory));return yield w._readRaster(D,c,L,a,G,t,y,q,F)})}readRGB({window:b,interleave:c=!0,pool:a=null,width:e,height:t,resampleMethod:y,enableAlpha:q=!1,signal:E}={}){const F=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var w=b||[0,0,F.getWidth(),F.getHeight()];if(w[0]>w[2]||w[1]>w[3])throw Error("Invalid subsets");var D=F.fileDirectory.PhotometricInterpretation;if(D===m.photometricInterpretations.RGB){w=[0,1,2];if(F.fileDirectory.ExtraSamples!==
m.ExtraSamplesValues.Unspecified&&q)for(w=[],D=0;D<F.fileDirectory.BitsPerSample.length;D+=1)w.push(D);return F.readRasters({window:b,interleave:c,samples:w,pool:a,width:e,height:t,resampleMethod:y,signal:E})}switch(D){case m.photometricInterpretations.WhiteIsZero:case m.photometricInterpretations.BlackIsZero:case m.photometricInterpretations.Palette:var G=[0];break;case m.photometricInterpretations.CMYK:G=[0,1,2,3];break;case m.photometricInterpretations.YCbCr:case m.photometricInterpretations.CIELab:G=
[0,1,2];break;default:throw Error("Invalid or unsupported photometric interpretation.");}w={window:w,interleave:!0,samples:G,pool:a,width:e,height:t,resampleMethod:y,signal:E};({fileDirectory:G}=F);w=yield F.readRasters(w);var L=Math.pow(2,F.fileDirectory.BitsPerSample[0]);switch(D){case m.photometricInterpretations.WhiteIsZero:D=(0,l.fromWhiteIsZero)(w,L);break;case m.photometricInterpretations.BlackIsZero:D=(0,l.fromBlackIsZero)(w,L);break;case m.photometricInterpretations.Palette:D=(0,l.fromPalette)(w,
G.ColorMap);break;case m.photometricInterpretations.CMYK:D=(0,l.fromCMYK)(w);break;case m.photometricInterpretations.YCbCr:D=(0,l.fromYCbCr)(w);break;case m.photometricInterpretations.CIELab:D=(0,l.fromCIELab)(w);break;default:throw Error("Unsupported photometric interpretation.");}if(!c){G=new Uint8Array(D.length/3);L=new Uint8Array(D.length/3);const O=new Uint8Array(D.length/3);for(let V=0,S=0;V<D.length;V+=3,++S)G[S]=D[V],L[S]=D[V+1],O[S]=D[V+2];D=[G,L,O]}D.width=w.width;D.height=w.height;return D})}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];
const b=[];for(let c=0;c<this.fileDirectory.ModelTiepoint.length;c+=6)b.push({i:this.fileDirectory.ModelTiepoint[c],j:this.fileDirectory.ModelTiepoint[c+1],k:this.fileDirectory.ModelTiepoint[c+2],x:this.fileDirectory.ModelTiepoint[c+3],y:this.fileDirectory.ModelTiepoint[c+4],z:this.fileDirectory.ModelTiepoint[c+5]});return b}getGDALMetadata(b=null){const c={};if(!this.fileDirectory.GDAL_METADATA)return null;let a=(0,u.default)(this.fileDirectory.GDAL_METADATA,"Item");a=null===b?a.filter(e=>void 0===
(0,A.default)(e,"sample")):a.filter(e=>Number((0,A.default)(e,"sample"))===b);for(let e=0;e<a.length;++e){const t=a[e];c[(0,A.default)(t,"name")]=t.inner}return c}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const b=this.fileDirectory.GDAL_NODATA;return Number(b.substring(0,b.length-1))}getOrigin(){const b=this.fileDirectory.ModelTiepoint,c=this.fileDirectory.ModelTransformation;if(b&&6===b.length)return[b[3],b[4],b[5]];if(c)return[c[3],c[7],c[11]];throw Error("The image does not have an affine transformation.");
}getResolution(b=null){const c=this.fileDirectory.ModelPixelScale,a=this.fileDirectory.ModelTransformation;if(c)return[c[0],-c[1],c[2]];if(a)return[a[0],a[5],a[10]];if(b){const [e,t,y]=b.getResolution();return[e*b.getWidth()/this.getWidth(),t*b.getHeight()/this.getHeight(),y*b.getWidth()/this.getWidth()]}throw Error("The image does not have an affine transformation.");}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(){var b=this.getOrigin(),c=this.getResolution();const a=b[0];
b=b[1];const e=a+c[0]*this.getWidth();c=b+c[1]*this.getHeight();return[Math.min(a,e),Math.min(b,c),Math.max(a,e),Math.max(b,c)]}}B.default=d};
shadow$provide[295]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});const v=z(274);class k{constructor(p){this._dataView=new DataView(p)}get buffer(){return this._dataView.buffer}getUint64(p,A){const u=this.getUint32(p,A);p=this.getUint32(p+4,A);if(A){A=u+Math.pow(2,32)*p;if(!Number.isSafeInteger(A))throw Error(`${A} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return A}A=Math.pow(2,
32)*u+p;if(!Number.isSafeInteger(A))throw Error(`${A} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return A}getInt64(p,A){let u=0;const m=0<(this._dataView.getUint8(p+(A?7:0))&128);let l=!0;for(let f=0;8>f;f++){let g=this._dataView.getUint8(p+(A?f:7-f));m&&(l?0!==g&&(g=~(g-1)&255,l=!1):g=~g&255);u+=g*Math.pow(256,f)}m&&(u=-u);return u}getUint8(p,A){return this._dataView.getUint8(p,A)}getInt8(p,A){return this._dataView.getInt8(p,
A)}getUint16(p,A){return this._dataView.getUint16(p,A)}getInt16(p,A){return this._dataView.getInt16(p,A)}getUint32(p,A){return this._dataView.getUint32(p,A)}getInt32(p,A){return this._dataView.getInt32(p,A)}getFloat16(p,A){return(0,v.getFloat16)(this._dataView,p,A)}getFloat32(p,A){return this._dataView.getFloat32(p,A)}getFloat64(p,A){return this._dataView.getFloat64(p,A)}}B.default=k};
shadow$provide[296]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});class v{constructor(k,p,A,u){this._dataView=new DataView(k);this._sliceOffset=p;this._littleEndian=A;this._bigTiff=u}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(k,p){return this.sliceOffset<=k&&this.sliceTop>=k+p}readUint8(k){return this._dataView.getUint8(k-
this._sliceOffset,this._littleEndian)}readInt8(k){return this._dataView.getInt8(k-this._sliceOffset,this._littleEndian)}readUint16(k){return this._dataView.getUint16(k-this._sliceOffset,this._littleEndian)}readInt16(k){return this._dataView.getInt16(k-this._sliceOffset,this._littleEndian)}readUint32(k){return this._dataView.getUint32(k-this._sliceOffset,this._littleEndian)}readInt32(k){return this._dataView.getInt32(k-this._sliceOffset,this._littleEndian)}readFloat32(k){return this._dataView.getFloat32(k-
this._sliceOffset,this._littleEndian)}readFloat64(k){return this._dataView.getFloat64(k-this._sliceOffset,this._littleEndian)}readUint64(k){var p=this.readUint32(k);k=this.readUint32(k+4);if(this._littleEndian){p+=Math.pow(2,32)*k;if(!Number.isSafeInteger(p))throw Error(`${p} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return p}p=Math.pow(2,32)*p+k;if(!Number.isSafeInteger(p))throw Error(`${p} exceeds MAX_SAFE_INTEGER. `+
"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return p}readInt64(k){let p=0;const A=0<(this._dataView.getUint8(k+(this._littleEndian?7:0))&128);let u=!0;for(let m=0;8>m;m++){let l=this._dataView.getUint8(k+(this._littleEndian?m:7-m));A&&(u?0!==l&&(l=~(l-1)&255,u=!1):l=~l&255);p+=l*Math.pow(256,m)}A&&(p=-p);return p}readOffset(k){return this._bigTiff?this.readUint64(k):this.readUint32(k)}}B.default=v};
shadow$provide[297]=function(ra,z,cb,B){cb.exports=Worker};
shadow$provide[298]=function(ra,z,cb,B){var v=z(21).Buffer;"use strict";ra=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(B,"__esModule",{value:!0});B.create=void 0;const k=ra(z(297));B.create=function(){return new k.default("undefined"===typeof Blob?"data:application/javascript;base64,"+v.from('function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});',
"binary").toString("base64"):URL.createObjectURL(new Blob(['function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});'],
{type:"application/javascript"})))}};
shadow$provide[299]=function(ra,z,cb,B){var v=this&&this.__createBinding||(Object.create?function(l,f,g,d){void 0===d&&(d=g);Object.defineProperty(l,d,{enumerable:!0,get:function(){return f[g]}})}:function(l,f,g,d){void 0===d&&(d=g);l[d]=f[g]}),k=this&&this.__setModuleDefault||(Object.create?function(l,f){Object.defineProperty(l,"default",{enumerable:!0,value:f})}:function(l,f){l["default"]=f}),p=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var f={};if(null!=l)for(var g in l)"default"!==
g&&Object.prototype.hasOwnProperty.call(l,g)&&v(f,l,g);k(f,l);return f};Object.defineProperty(B,"__esModule",{value:!0});const A=z(292),u="undefined"!==typeof navigator?navigator.hardwareConcurrency||2:2;class m{constructor(l=u,f){this._awaitingDecoder=this.workers=null;this.size=l;this.messageId=0;l&&(this._awaitingDecoder=f?Promise.resolve(f):new Promise(g=>{Promise.resolve().then(()=>p(z(298))).then(d=>{g(d.create)})}),this._awaitingDecoder.then(g=>{this._awaitingDecoder=null;this.workers=[];for(let d=
0;d<l;d++)this.workers.push({worker:g(),idle:!0})}))}decode(l,f){const g=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){g._awaitingDecoder&&(yield g._awaitingDecoder);return 0===g.size?(0,A.getDecoder)(l).then(d=>d.decode(l,f)):new Promise(d=>{const b=g.workers.find(e=>e.idle)||g.workers[Math.floor(Math.random()*g.size)];b.idle=!1;const c=g.messageId++,a=e=>{e.data.id===c&&(b.idle=!0,d(e.data.decoded),b.worker.removeEventListener("message",a))};b.worker.addEventListener("message",
a);b.worker.postMessage({fileDirectory:l,buffer:f,id:c},[f])})})}destroy(){this.workers&&(this.workers.forEach(l=>{l.worker.terminate()}),this.workers=null)}}B.default=m};
shadow$provide[300]=function(ra,z,cb,B){function v(A){if("undefined"!==typeof Object.fromEntries)return Object.fromEntries(A);const u={};for(const [m,l]of A)u[m.toLowerCase()]=l;return u}function k(A){A=A.split("\r\n").map(u=>{u=u.split(":").map(m=>m.trim());u[0]=u[0].toLowerCase();return u});return v(A)}function p(A){let u,m,l;A&&([,u,m,l]=A.match(/bytes (\d+)-(\d+)\/(\d+)/),u=parseInt(u,10),m=parseInt(m,10),l=parseInt(l,10));return{start:u,end:m,total:l}}Object.defineProperty(B,"__esModule",{value:!0});
B.parseByteRanges=B.parseContentRange=B.parseContentType=void 0;B.parseContentType=function(A){const [u,...m]=A.split(";").map(l=>l.trim());A=m.map(l=>l.split("\x3d"));return{type:u,params:v(A)}};B.parseContentRange=p;B.parseByteRanges=function(A,u){var m=null;const l=new TextDecoder("ascii"),f=[];u=`--${u}`;const g=`${u}--`;for(var d=0;10>d;++d)l.decode(new Uint8Array(A,d,u.length))===u&&(m=d);if(null===m)throw Error("Could not find initial boundary");for(;m<A.byteLength;){d=l.decode(new Uint8Array(A,
m,Math.min(u.length+1024,A.byteLength-m)));if(0===d.length||d.startsWith(g))break;if(!d.startsWith(u))throw Error("Part does not start with boundary");d=d.substr(u.length+2);if(0===d.length)break;var b=d.indexOf("\r\n\r\n");d=k(d.substr(0,b));const {start:c,end:a,total:e}=p(d["content-range"]);m=m+u.length+b+4;b=parseInt(a,10)+1-parseInt(c,10);f.push({headers:d,data:A.slice(m,m+b),offset:c,length:b,fileSize:e});m=m+b+4}return f}};
shadow$provide[301]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.BaseSource=void 0;class v{fetch(k,p){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return Promise.all(k.map(u=>A.fetchSlice(u,p)))})}fetchSlice(k){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error(`fetching of slice ${k} not possible, not implemented`);})}get fileSize(){return null}close(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){})}}
B.BaseSource=v};
shadow$provide[302]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;class v extends Map{constructor(k={}){super();if(!(k.maxSize&&0<k.maxSize))throw new TypeError("`maxSize` must be a number greater than 0");if("number"===typeof k.maxAge&&0===k.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=k.maxSize;this.maxAge=k.maxAge||Number.POSITIVE_INFINITY;this.onEviction=k.onEviction;this.cache=new Map;this.oldCache=new Map;this._size=
0}_emitEvictions(k){if("function"===typeof this.onEviction)for(const [p,A]of k)this.onEviction(p,A.value)}_deleteIfExpired(k,p){if("number"===typeof p.expiry&&p.expiry<=Date.now()){if("function"===typeof this.onEviction)this.onEviction(k,p.value);return this.delete(k)}return!1}_getOrDeleteIfExpired(k,p){if(!1===this._deleteIfExpired(k,p))return p.value}_getItemValue(k,p){return p.expiry?this._getOrDeleteIfExpired(k,p):p.value}_peek(k,p){p=p.get(k);return this._getItemValue(k,p)}_set(k,p){this.cache.set(k,
p);this._size++;this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(k,p){this.oldCache.delete(k);this._set(k,p)}*_entriesAscending(){for(const k of this.oldCache){const [p,A]=k;this.cache.has(p)||!1===this._deleteIfExpired(p,A)&&(yield k)}for(const k of this.cache){const [p,A]=k;!1===this._deleteIfExpired(p,A)&&(yield k)}}get(k){if(this.cache.has(k)){var p=this.cache.get(k);return this._getItemValue(k,p)}if(this.oldCache.has(k)&&
(p=this.oldCache.get(k),!1===this._deleteIfExpired(k,p)))return this._moveToRecent(k,p),p.value}set(k,p,{maxAge:A=this.maxAge}={}){A="number"===typeof A&&A!==Number.POSITIVE_INFINITY?Date.now()+A:void 0;this.cache.has(k)?this.cache.set(k,{value:p,expiry:A}):this._set(k,{value:p,expiry:A})}has(k){return this.cache.has(k)?!this._deleteIfExpired(k,this.cache.get(k)):this.oldCache.has(k)?!this._deleteIfExpired(k,this.oldCache.get(k)):!1}peek(k){if(this.cache.has(k))return this._peek(k,this.cache);if(this.oldCache.has(k))return this._peek(k,
this.oldCache)}delete(k){const p=this.cache.delete(k);p&&this._size--;return this.oldCache.delete(k)||p}clear(){this.cache.clear();this.oldCache.clear();this._size=0}resize(k){if(!(k&&0<k))throw new TypeError("`maxSize` must be a number greater than 0");const p=[...this._entriesAscending()],A=p.length-k;0>A?(this.cache=new Map(p),this.oldCache=new Map,this._size=p.length):(0<A&&this._emitEvictions(p.slice(0,A)),this.oldCache=new Map(p.slice(A)),this.cache=new Map,this._size=0);this.maxSize=k}*keys(){for(const [k]of this)yield k}*values(){for(const [,
k]of this)yield k}*[Symbol.iterator](){for(const k of this.cache){const [p,A]=k;!1===this._deleteIfExpired(p,A)&&(yield[p,A.value])}for(const k of this.oldCache){const [p,A]=k;this.cache.has(p)||!1===this._deleteIfExpired(p,A)&&(yield[p,A.value])}}*entriesDescending(){let k=[...this.cache];for(var p=k.length-1;0<=p;--p){const [A,u]=k[p];!1===this._deleteIfExpired(A,u)&&(yield[A,u.value])}k=[...this.oldCache];for(p=k.length-1;0<=p;--p){const [A,u]=k[p];this.cache.has(A)||!1===this._deleteIfExpired(A,
u)&&(yield[A,u.value])}}*entriesAscending(){for(const [k,p]of this._entriesAscending())yield[k,p.value]}get size(){if(!this._size)return this.oldCache.size;let k=0;for(const p of this.oldCache.keys())this.cache.has(p)||k++;return Math.min(this._size+k,this.maxSize)}entries(){return this.entriesAscending()}forEach(k,p=this){for(const [A,u]of this.entriesAscending())k.call(p,u,A,this)}get [Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}B.default=v};
shadow$provide[303]=function(ra,z,cb,B){function v(u){const m=[],{length:l}=u;for(let f=0;f<l;f++)m.push(u[f]);return m}function k(u){return u.length?v(u).map(k):u}Object.defineProperty(B,"__esModule",{value:!0});B.AggregateError=B.CustomAggregateError=B.AbortError=B.zip=B.wait=B.parseContentRange=B.toArrayRecursively=B.toArray=B.times=B.range=B.invert=B.forEach=B.endsWith=B.chunk=B.assign=void 0;B.assign=function(u,m){for(const l in m)m.hasOwnProperty(l)&&(u[l]=m[l])};B.chunk=function(u,m){const l=
[],f=u.length;for(let g=0;g<f;g+=m){const d=[];for(let b=g;b<g+m;b++)d.push(u[b]);l.push(d)}return l};B.endsWith=function(u,m){return u.length<m.length?!1:u.substr(u.length-m.length)===m};B.forEach=function(u,m){const {length:l}=u;for(let f=0;f<l;f++)m(u[f],f)};B.invert=function(u){const m={};for(const l in u)u.hasOwnProperty(l)&&(m[u[l]]=l);return m};B.range=function(u){const m=[];for(let l=0;l<u;l++)m.push(l);return m};B.times=function(u,m){const l=[];for(let f=0;f<u;f++)l.push(m(f));return l};
B.toArray=v;B.toArrayRecursively=k;B.parseContentRange=function(u){if(!u)return null;if("string"!==typeof u)throw Error("invalid argument");let m=u.match(/^(\w*) /);const l=m&&m[1];return(m=u.match(/(\d+)-(\d+)\/(\d+|\*)/))?{unit:l,first:Number.parseInt(m[1],10),last:Number.parseInt(m[2],10),length:"*"===m[3]?null:Number.parseInt(m[3],10)}:(m=u.match(/(\d+|\*)/))?{unit:l,first:null,last:null,length:"*"===m[1]?null:Number.parseInt(m[1],10)}:null};B.wait=function(u){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise(m=>
setTimeout(m,u))})};B.zip=function(u,m){u=Array.isArray(u)?u:Array.from(u);const l=Array.isArray(m)?m:Array.from(m);return u.map((f,g)=>[f,l[g]])};class p extends Error{constructor(u){super(u);Error.captureStackTrace&&Error.captureStackTrace(this,p);this.name="AbortError"}}B.AbortError=p;class A extends Error{constructor(u,m){super(m);this.errors=u;this.message=m;this.name="AggregateError"}}B.CustomAggregateError=A;B.AggregateError=A};
shadow$provide[304]=function(ra,z,cb,B){ra=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{"default":m}};Object.defineProperty(B,"__esModule",{value:!0});B.BlockedSource=void 0;const v=ra(z(302));ra=z(301);const k=z(303);class p{constructor(m,l,f=null){this.offset=m;this.length=l;this.data=f}get top(){return this.offset+this.length}}class A{constructor(m,l,f){this.offset=m;this.length=l;this.blockIds=f}}class u extends ra.BaseSource{constructor(m,{blockSize:l=65536,cacheSize:f=100}=
{}){super();this.source=m;this.blockSize=l;this.blockCache=new v.default({maxSize:f});this.blockRequests=new Map;this.blockIdsToFetch=new Set;this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}fetch(m,l){const f=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var g=[],d=[],b=[];for(const {offset:t,length:y}of m){var c=t+y,{fileSize:a}=f;null!==a&&(c=Math.min(c,a));for(a=Math.floor(t/f.blockSize)*f.blockSize;a<c;a+=f.blockSize){const q=Math.floor(a/f.blockSize);
f.blockCache.has(q)||f.blockRequests.has(q)||(f.blockIdsToFetch.add(q),d.push(q));f.blockRequests.has(q)&&g.push(f.blockRequests.get(q));b.push(q)}}yield(0,k.wait)();f.fetchBlocks(l);c=[];for(const t of d)f.blockRequests.has(t)&&c.push(f.blockRequests.get(t));yield Promise.allSettled(g);yield Promise.allSettled(c);g=[];d=b.filter(t=>f.abortedBlockIds.has(t)||!f.blockCache.has(t));d.forEach(t=>f.blockIdsToFetch.add(t));if(0<d.length&&l&&!l.aborted){f.fetchBlocks(null);for(var e of d){d=f.blockRequests.get(e);
if(!d)throw Error(`Block ${e} is not in the block requests`);g.push(d)}yield Promise.allSettled(g)}if(l&&l.aborted)throw new k.AbortError("Request was aborted");e=b.map(t=>f.blockCache.get(t));g=e.filter(t=>!t);if(g.length)throw new k.AggregateError(g,"Request failed");b=new Map((0,k.zip)(b,e));return f.readSliceData(m,b)})}fetchBlocks(m){if(0<this.blockIdsToFetch.size){const l=this.groupBlocks(this.blockIdsToFetch),f=this.source.fetch(l,m);for(let g=0;g<l.length;++g){const d=l[g];for(const b of d.blockIds)this.blockRequests.set(b,
(()=>{const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{const a=(yield f)[g],e=b*c.blockSize,t=e-a.offset,y=a.data.slice(t,Math.min(t+c.blockSize,a.data.byteLength)),q=new p(e,y.byteLength,y,b);c.blockCache.set(b,q);c.abortedBlockIds.delete(b)}catch(a){if("AbortError"===a.name)a.signal=m,c.blockCache.delete(b),c.abortedBlockIds.add(b);else throw a;}finally{c.blockRequests.delete(b)}})})())}this.blockIdsToFetch.clear()}}groupBlocks(m){m=Array.from(m).sort((d,b)=>d-b);
if(0===m.length)return[];let l=[],f=null;const g=[];for(const d of m)null===f||f+1===d?l.push(d):(g.push(new A(l[0]*this.blockSize,l.length*this.blockSize,l)),l=[d]),f=d;g.push(new A(l[0]*this.blockSize,l.length*this.blockSize,l));return g}readSliceData(m,l){return m.map(f=>{let g=f.offset+f.length;null!==this.fileSize&&(g=Math.min(this.fileSize,g));var d=Math.floor(f.offset/this.blockSize);const b=Math.floor(g/this.blockSize),c=new ArrayBuffer(f.length),a=new Uint8Array(c);for(;d<=b;++d){var e=l.get(d);
const t=e.offset-f.offset,y=e.top-g;let q=0,E=0;0>t?q=-t:0<t&&(E=t);e=new Uint8Array(e.data,q,0>y?e.length-q:g-e.offset-q);a.set(e,E)}return c})}}B.BlockedSource=u};
shadow$provide[305]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.BaseClient=B.BaseResponse=void 0;class v{get ok(){return 200<=this.status&&299>=this.status}get status(){throw Error("not implemented");}getHeader(p){throw Error("not implemented");}getData(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error("not implemented");})}}B.BaseResponse=v;class k{constructor(p){this.url=p}request({}={}){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error("request is not implemented");
})}}B.BaseClient=k};
shadow$provide[306]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.FetchClient=void 0;ra=z(305);class v extends ra.BaseResponse{constructor(p){super();this.response=p}get status(){return this.response.status}getHeader(p){return this.response.headers.get(p)}getData(){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return p.response.arrayBuffer?yield p.response.arrayBuffer():(yield p.response.buffer()).buffer})}}class k extends ra.BaseClient{constructor(p,
A){super(p);this.credentials=A}request({headers:p,credentials:A,signal:u}={}){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const l=yield fetch(m.url,{headers:p,credentials:A,signal:u});return new v(l)})}}B.FetchClient=k};
shadow$provide[307]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.XHRClient=void 0;ra=z(305);const v=z(303);class k extends ra.BaseResponse{constructor(A,u){super();this.xhr=A;this.data=u}get status(){return this.xhr.status}getHeader(A){return this.xhr.getResponseHeader(A)}getData(){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return A.data})}}class p extends ra.BaseClient{constructRequest(A,u){return new Promise((m,l)=>{const f=new XMLHttpRequest;
f.open("GET",this.url);f.responseType="arraybuffer";for(const [g,d]of Object.entries(A))f.setRequestHeader(g,d);f.onload=()=>{m(new k(f,f.response))};f.onerror=l;f.onabort=()=>l(new v.AbortError("Request aborted"));f.send();u&&(u.aborted&&f.abort(),u.addEventListener("abort",()=>f.abort()))})}request({headers:A,signal:u}={}){const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield m.constructRequest(A,u)})}}B.XHRClient=p};
shadow$provide[308]=function(ra,z,cb,B){function v(){if(void 0!==A)return A;if(ra.XMLHttpRequest){A=new ra.XMLHttpRequest;try{A.open("GET",ra.XDomainRequest?"/":"https://example.com")}catch(u){A=null}}else A=null;return A}function k(u){var m=v();if(!m)return!1;try{return m.responseType=u,m.responseType===u}catch(l){}return!1}function p(u){return"function"===typeof u}B.fetch=p(ra.fetch)&&p(ra.ReadableStream);B.writableStream=p(ra.WritableStream);B.abortController=p(ra.AbortController);B.blobConstructor=
!1;try{new Blob([new ArrayBuffer(1)]),B.blobConstructor=!0}catch(u){}cb=(z="undefined"!==typeof ra.ArrayBuffer)&&p(ra.ArrayBuffer.prototype.slice);B.arraybuffer=B.fetch||z&&k("arraybuffer");B.msstream=!B.fetch&&cb&&k("ms-stream");B.mozchunkedarraybuffer=!B.fetch&&z&&k("moz-chunked-arraybuffer");B.overrideMimeType=B.fetch||(v()?p(v().overrideMimeType):!1);B.vbArray=p(ra.VBArray);var A=null};
shadow$provide[309]=function(ra,z,cb,B){cb.exports="function"===typeof Object.create?function(v,k){v.super_=k;v.prototype=Object.create(k.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}})}:function(v,k){v.super_=k;var p=function(){};p.prototype=k.prototype;v.prototype=new p;v.prototype.constructor=v}};
shadow$provide[310]=function(ra,z,cb,B){function v(p,A,u,m){if("function"!==typeof p)throw new TypeError('"callback" argument must be a function');var l=arguments.length;switch(l){case 0:case 1:return k.nextTick(p);case 2:return k.nextTick(function(){p.call(null,A)});case 3:return k.nextTick(function(){p.call(null,A,u)});case 4:return k.nextTick(function(){p.call(null,A,u,m)});default:var f=Array(l-1);for(l=0;l<f.length;)f[l++]=arguments[l];return k.nextTick(function(){p.apply(null,f)})}}var k=z(49);
"use strict";"undefined"===typeof k||!k.version||0===k.version.indexOf("v0.")||0===k.version.indexOf("v1.")&&0!==k.version.indexOf("v1.8.")?cb.exports={nextTick:v}:cb.exports=k};
shadow$provide[311]=function(ra,z,cb,B){function v(){v.init.call(this)}function k(a){if("function"!==typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a);}function p(a,e,t,y){k(t);var q=a._events;if(void 0===q)q=a._events=Object.create(null),a._eventsCount=0;else{void 0!==q.newListener&&(a.emit("newListener",e,t.listener?t.listener:t),q=a._events);var E=q[e]}void 0===E?(q[e]=t,++a._eventsCount):("function"===typeof E?E=q[e]=y?[t,E]:[E,t]:y?E.unshift(t):
E.push(t),t=void 0===a._maxListeners?v.defaultMaxListeners:a._maxListeners,0<t&&E.length>t&&!E.warned&&(E.warned=!0,t=Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit"),t.name="MaxListenersExceededWarning",t.emitter=a,t.type=e,t.count=E.length,console&&console.warn&&console.warn(t)));return a}function A(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?
this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(a,e,t){a={fired:!1,wrapFn:void 0,target:a,type:e,listener:t};e=A.bind(a);e.listener=t;return a.wrapFn=e}function m(a,e,t){a=a._events;if(void 0===a)return[];e=a[e];if(void 0===e)return[];if("function"===typeof e)return t?[e.listener||e]:[e];if(t)for(t=Array(e.length),a=0;a<t.length;++a)t[a]=e[a].listener||e[a];else t=f(e,e.length);return t}function l(a){var e=this._events;if(void 0!==e){a=e[a];if("function"===typeof a)return 1;
if(void 0!==a)return a.length}return 0}function f(a,e){for(var t=Array(e),y=0;y<e;++y)t[y]=a[y];return t}var g=(ra="object"===typeof Reflect?Reflect:null)&&"function"===typeof ra.apply?ra.apply:function(a,e,t){return Function.prototype.apply.call(a,e,t)};var d=ra&&"function"===typeof ra.ownKeys?ra.ownKeys:Object.getOwnPropertySymbols?function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:function(a){return Object.getOwnPropertyNames(a)};var b=Number.isNaN||function(a){return a!==
a};cb.exports=v;cb.exports.once=function(a,e){return new Promise(function(t,y){function q(){void 0!==E&&a.removeListener("error",E);t([].slice.call(arguments))}if("error"!==e){var E=function(F){a.removeListener(e,q);y(F)};a.once("error",E)}a.once(e,q)})};v.EventEmitter=v;v.prototype._events=void 0;v.prototype._eventsCount=0;v.prototype._maxListeners=void 0;var c=10;Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(a){if("number"!==typeof a||0>a||b(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+
a+".");c=a}});v.init=function(){if(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)this._events=Object.create(null),this._eventsCount=0;this._maxListeners=this._maxListeners||void 0};v.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||b(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this._maxListeners=a;return this};v.prototype.getMaxListeners=function(){return void 0===this._maxListeners?v.defaultMaxListeners:
this._maxListeners};v.prototype.emit=function(a){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);t="error"===a;var y=this._events;if(void 0!==y)t=t&&void 0===y.error;else if(!t)return!1;if(t){var q;0<e.length&&(q=e[0]);if(q instanceof Error)throw q;e=Error("Unhandled error."+(q?" ("+q.message+")":""));e.context=q;throw e;}t=y[a];if(void 0===t)return!1;if("function"===typeof t)g(t,this,e);else for(q=t.length,y=f(t,q),t=0;t<q;++t)g(y[t],this,e);return!0};v.prototype.addListener=function(a,
e){return p(this,a,e,!1)};v.prototype.on=v.prototype.addListener;v.prototype.prependListener=function(a,e){return p(this,a,e,!0)};v.prototype.once=function(a,e){k(e);this.on(a,u(this,a,e));return this};v.prototype.prependOnceListener=function(a,e){k(e);this.prependListener(a,u(this,a,e));return this};v.prototype.removeListener=function(a,e){var t;k(e);var y=this._events;if(void 0===y)return this;var q=y[a];if(void 0===q)return this;if(q===e||q.listener===e)0===--this._eventsCount?this._events=Object.create(null):
(delete y[a],y.removeListener&&this.emit("removeListener",a,q.listener||e));else if("function"!==typeof q){var E=-1;for(t=q.length-1;0<=t;t--)if(q[t]===e||q[t].listener===e){var F=q[t].listener;E=t;break}if(0>E)return this;if(0===E)q.shift();else{for(;E+1<q.length;E++)q[E]=q[E+1];q.pop()}1===q.length&&(y[a]=q[0]);void 0!==y.removeListener&&this.emit("removeListener",a,F||e)}return this};v.prototype.off=v.prototype.removeListener;v.prototype.removeAllListeners=function(a){var e=this._events;if(void 0===
e)return this;if(void 0===e.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==e[a]&&(0===--this._eventsCount?this._events=Object.create(null):delete e[a]),this;if(0===arguments.length){var t=Object.keys(e);for(e=0;e<t.length;++e){var y=t[e];"removeListener"!==y&&this.removeAllListeners(y)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}t=e[a];if("function"===typeof t)this.removeListener(a,
t);else if(void 0!==t)for(e=t.length-1;0<=e;e--)this.removeListener(a,t[e]);return this};v.prototype.listeners=function(a){return m(this,a,!0)};v.prototype.rawListeners=function(a){return m(this,a,!1)};v.listenerCount=function(a,e){return"function"===typeof a.listenerCount?a.listenerCount(e):l.call(a,e)};v.prototype.listenerCount=l;v.prototype.eventNames=function(){return 0<this._eventsCount?d(this._events):[]}};
shadow$provide[312]=function(ra,z,cb,B){cb.exports=z(311).EventEmitter};
shadow$provide[313]=function(ra,z,cb,B){function v(u,m){for(var l in u)m[l]=u[l]}function k(u,m,l){return A(u,m,l)}var p=z(21),A=p.Buffer;A.from&&A.alloc&&A.allocUnsafe&&A.allocUnsafeSlow?cb.exports=p:(v(p,B),B.Buffer=k);v(A,k);k.from=function(u,m,l){if("number"===typeof u)throw new TypeError("Argument must not be a number");return A(u,m,l)};k.alloc=function(u,m,l){if("number"!==typeof u)throw new TypeError("Argument must be a number");u=A(u);void 0!==m?"string"===typeof l?u.fill(m,l):u.fill(m):u.fill(0);
return u};k.allocUnsafe=function(u){if("number"!==typeof u)throw new TypeError("Argument must be a number");return A(u)};k.allocUnsafeSlow=function(u){if("number"!==typeof u)throw new TypeError("Argument must be a number");return p.SlowBuffer(u)}};
shadow$provide[314]=function(ra,z,cb,B){cb.exports=function(v){return v&&"object"===typeof v&&"function"===typeof v.copy&&"function"===typeof v.fill&&"function"===typeof v.readUInt8}};
shadow$provide[315]=function(ra,z,cb,B){cb.exports="function"===typeof Object.create?function(v,k){v.super_=k;v.prototype=Object.create(k.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}})}:function(v,k){v.super_=k;var p=function(){};p.prototype=k.prototype;v.prototype=new p;v.prototype.constructor=v}};
shadow$provide[316]=function(ra,z,cb,B){function v(R,J){var r={seen:[],stylize:p};3<=arguments.length&&(r.depth=arguments[2]);4<=arguments.length&&(r.colors=arguments[3]);c(J)?r.showHidden=J:J&&B._extend(r,J);t(r.showHidden)&&(r.showHidden=!1);t(r.depth)&&(r.depth=2);t(r.colors)&&(r.colors=!1);t(r.customInspect)&&(r.customInspect=!0);r.colors&&(r.stylize=k);return u(r,R,r.depth)}function k(R,J){return(J=v.styles[J])?"["+v.colors[J][0]+"m"+R+"["+v.colors[J][1]+"m":R}function p(R,J){return R}function A(R){var J=
{};R.forEach(function(r,C){J[r]=!0});return J}function u(R,J,r){if(R.customInspect&&J&&w(J.inspect)&&J.inspect!==B.inspect&&(!J.constructor||J.constructor.prototype!==J)){var C=J.inspect(r,R);e(C)||(C=u(R,C,r));return C}if(C=m(R,J))return C;var N=Object.keys(J),U=A(N);R.showHidden&&(N=Object.getOwnPropertyNames(J));if(F(J)&&(0<=N.indexOf("message")||0<=N.indexOf("description")))return l(J);if(0===N.length){if(w(J))return R.stylize("[Function"+(J.name?": "+J.name:"")+"]","special");if(y(J))return R.stylize(RegExp.prototype.toString.call(J),
"regexp");if(E(J))return R.stylize(Date.prototype.toString.call(J),"date");if(F(J))return l(J)}C="";var ja=!1,ba=["{","}"];b(J)&&(ja=!0,ba=["[","]"]);w(J)&&(C=" [Function"+(J.name?": "+J.name:"")+"]");y(J)&&(C=" "+RegExp.prototype.toString.call(J));E(J)&&(C=" "+Date.prototype.toUTCString.call(J));F(J)&&(C=" "+l(J));if(0===N.length&&(!ja||0==J.length))return ba[0]+C+ba[1];if(0>r)return y(J)?R.stylize(RegExp.prototype.toString.call(J),"regexp"):R.stylize("[Object]","special");R.seen.push(J);N=ja?f(R,
J,r,U,N):N.map(function(ia){return g(R,J,r,U,ia,ja)});R.seen.pop();return d(N,C,ba)}function m(R,J){if(t(J))return R.stylize("undefined","undefined");if(e(J))return J="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",R.stylize(J,"string");if(a(J))return R.stylize(""+J,"number");if(c(J))return R.stylize(""+J,"boolean");if(null===J)return R.stylize("null","null")}function l(R){return"["+Error.prototype.toString.call(R)+"]"}function f(R,J,r,C,N){for(var U=[],ja=0,
ba=J.length;ja<ba;++ja)Object.prototype.hasOwnProperty.call(J,String(ja))?U.push(g(R,J,r,C,String(ja),!0)):U.push("");N.forEach(function(ia){ia.match(/^\d+$/)||U.push(g(R,J,r,C,ia,!0))});return U}function g(R,J,r,C,N,U){var ja,ba;J=Object.getOwnPropertyDescriptor(J,N)||{value:J[N]};J.get?ba=J.set?R.stylize("[Getter/Setter]","special"):R.stylize("[Getter]","special"):J.set&&(ba=R.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(C,N)||(ja="["+N+"]");ba||(0>R.seen.indexOf(J.value)?
(ba=null===r?u(R,J.value,null):u(R,J.value,r-1),-1<ba.indexOf("\n")&&(ba=U?ba.split("\n").map(function(ia){return"  "+ia}).join("\n").substr(2):"\n"+ba.split("\n").map(function(ia){return"   "+ia}).join("\n"))):ba=R.stylize("[Circular]","special"));if(t(ja)){if(U&&N.match(/^\d+$/))return ba;ja=JSON.stringify(""+N);ja.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ja=ja.substr(1,ja.length-2),ja=R.stylize(ja,"name")):(ja=ja.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ja=R.stylize(ja,"string"))}return ja+
": "+ba}function d(R,J,r){var C=0;return 60<R.reduce(function(N,U){C++;0<=U.indexOf("\n")&&C++;return N+U.replace(/\u001b\[\d\d?m/g,"").length+1},0)?r[0]+(""===J?"":J+"\n ")+" "+R.join(",\n  ")+" "+r[1]:r[0]+J+" "+R.join(", ")+" "+r[1]}function b(R){return Array.isArray(R)}function c(R){return"boolean"===typeof R}function a(R){return"number"===typeof R}function e(R){return"string"===typeof R}function t(R){return void 0===R}function y(R){return q(R)&&"[object RegExp]"===Object.prototype.toString.call(R)}
function q(R){return"object"===typeof R&&null!==R}function E(R){return q(R)&&"[object Date]"===Object.prototype.toString.call(R)}function F(R){return q(R)&&("[object Error]"===Object.prototype.toString.call(R)||R instanceof Error)}function w(R){return"function"===typeof R}function D(R){return 10>R?"0"+R.toString(10):R.toString(10)}function G(R,J){if(!R){var r=Error("Promise was rejected with a falsy value");r.reason=R;R=r}return J(R)}var L=z(49),O=Object.getOwnPropertyDescriptors||function(R){for(var J=
Object.keys(R),r={},C=0;C<J.length;C++)r[J[C]]=Object.getOwnPropertyDescriptor(R,J[C]);return r},V=/%[sdj%]/g;B.format=function(R){if(!e(R)){for(var J=[],r=0;r<arguments.length;r++)J.push(v(arguments[r]));return J.join(" ")}r=1;var C=arguments,N=C.length;J=String(R).replace(V,function(ja){if("%%"===ja)return"%";if(r>=N)return ja;switch(ja){case "%s":return String(C[r++]);case "%d":return Number(C[r++]);case "%j":try{return JSON.stringify(C[r++])}catch(ba){return"[Circular]"}default:return ja}});for(var U=
C[r];r<N;U=C[++r])J=null!==U&&q(U)?J+(" "+v(U)):J+(" "+U);return J};B.deprecate=function(R,J){if("undefined"!==typeof L&&!0===L.noDeprecation)return R;if("undefined"===typeof L)return function(){return B.deprecate(R,J).apply(this,arguments)};var r=!1;return function(){if(!r){if(L.throwDeprecation)throw Error(J);L.traceDeprecation?console.trace(J):console.error(J);r=!0}return R.apply(this,arguments)}};var S={},ca;B.debuglog=function(R){t(ca)&&(ca=L.env.NODE_DEBUG||"");R=R.toUpperCase();if(!S[R])if((new RegExp("\\b"+
R+"\\b","i")).test(ca)){var J=L.pid;S[R]=function(){var r=B.format.apply(B,arguments);console.error("%s %d: %s",R,J,r)}}else S[R]=function(){};return S[R]};B.inspect=v;v.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};v.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};B.isArray=
b;B.isBoolean=c;B.isNull=function(R){return null===R};B.isNullOrUndefined=function(R){return null==R};B.isNumber=a;B.isString=e;B.isSymbol=function(R){return"symbol"===typeof R};B.isUndefined=t;B.isRegExp=y;B.isObject=q;B.isDate=E;B.isError=F;B.isFunction=w;B.isPrimitive=function(R){return null===R||"boolean"===typeof R||"number"===typeof R||"string"===typeof R||"symbol"===typeof R||"undefined"===typeof R};B.isBuffer=z(314);var ea="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");B.log=
function(){var R=console,J=R.log;var r=new Date;var C=[D(r.getHours()),D(r.getMinutes()),D(r.getSeconds())].join(":");r=[r.getDate(),ea[r.getMonth()],C].join(" ");J.call(R,"%s - %s",r,B.format.apply(B,arguments))};B.inherits=z(315);B._extend=function(R,J){if(!J||!q(J))return R;for(var r=Object.keys(J),C=r.length;C--;)R[r[C]]=J[r[C]];return R};var T="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;B.promisify=function(R){function J(){for(var r,C,N=new Promise(function(ba,ia){r=ba;
C=ia}),U=[],ja=0;ja<arguments.length;ja++)U.push(arguments[ja]);U.push(function(ba,ia){ba?C(ba):r(ia)});try{R.apply(this,U)}catch(ba){C(ba)}return N}if("function"!==typeof R)throw new TypeError('The "original" argument must be of type Function');if(T&&R[T]){J=R[T];if("function"!==typeof J)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(J,T,{value:J,enumerable:!1,writable:!1,configurable:!0});return J}Object.setPrototypeOf(J,Object.getPrototypeOf(R));
T&&Object.defineProperty(J,T,{value:J,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(J,O(R))};B.promisify.custom=T;B.callbackify=function(R){function J(){for(var r=[],C=0;C<arguments.length;C++)r.push(arguments[C]);var N=r.pop();if("function"!==typeof N)throw new TypeError("The last argument must be of type Function");var U=this,ja=function(){return N.apply(U,arguments)};R.apply(this,r).then(function(ba){L.nextTick(ja,null,ba)},function(ba){L.nextTick(G,ba,ja)})}if("function"!==
typeof R)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(J,Object.getPrototypeOf(R));Object.defineProperties(J,O(R));return J}};
shadow$provide[317]=function(ra,z,cb,B){cb.exports="function"===typeof Object.create?function(v,k){k&&(v.super_=k,v.prototype=Object.create(k.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}))}:function(v,k){if(k){v.super_=k;var p=function(){};p.prototype=k.prototype;v.prototype=new p;v.prototype.constructor=v}}};
shadow$provide[318]=function(ra,z,cb,B){var v=z(313).Buffer,k=z(316);cb.exports=function(){function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.tail=this.head=null;this.length=0}p.prototype.push=function(A){A={data:A,next:null};0<this.length?this.tail.next=A:this.head=A;this.tail=A;++this.length};p.prototype.unshift=function(A){A={data:A,next:this.head};0===this.length&&(this.tail=A);this.head=A;++this.length};p.prototype.shift=function(){if(0!==this.length){var A=
this.head.data;this.head=1===this.length?this.tail=null:this.head.next;--this.length;return A}};p.prototype.clear=function(){this.head=this.tail=null;this.length=0};p.prototype.join=function(A){if(0===this.length)return"";for(var u=this.head,m=""+u.data;u=u.next;)m+=A+u.data;return m};p.prototype.concat=function(A){if(0===this.length)return v.alloc(0);if(1===this.length)return this.head.data;A=v.allocUnsafe(A>>>0);for(var u=this.head,m=0;u;)u.data.copy(A,m),m+=u.data.length,u=u.next;return A};return p}();
k&&k.inspect&&k.inspect.custom&&(cb.exports.prototype[k.inspect.custom]=function(){var p=k.inspect({length:this.length});return this.constructor.name+" "+p})};
shadow$provide[319]=function(ra,z,cb,B){function v(p,A){p.emit("error",A)}var k=z(310);cb.exports={destroy:function(p,A){var u=this,m=this._writableState&&this._writableState.destroyed;if(this._readableState&&this._readableState.destroyed||m)return A?A(p):!p||this._writableState&&this._writableState.errorEmitted||k.nextTick(v,this,p),this;this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(p||null,function(l){!A&&l?(k.nextTick(v,
u,l),u._writableState&&(u._writableState.errorEmitted=!0)):A&&A(l)});return this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}};
shadow$provide[320]=function(ra,z,cb,B){function v(k){try{if(!ra.localStorage)return!1}catch(p){return!1}k=ra.localStorage[k];return null==k?!1:"true"===String(k).toLowerCase()}cb.exports=function(k,p){if(v("noDeprecation"))return k;var A=!1;return function(){if(!A){if(v("throwDeprecation"))throw Error(p);v("traceDeprecation")?console.trace(p):console.warn(p);A=!0}return k.apply(this,arguments)}}};
shadow$provide[321]=function(ra,z,cb,B){function v(F){var w=this;this.entry=this.next=null;this.finish=function(){var D=w.entry;for(w.entry=null;D;){var G=D.callback;F.pendingcb--;G(void 0);D=D.next}F.corkedRequestsFree?F.corkedRequestsFree.next=w:F.corkedRequestsFree=w}}function k(){}function p(F,w){a=a||z(322);F=F||{};var D=w instanceof a;this.objectMode=!!F.objectMode;D&&(this.objectMode=this.objectMode||!!F.writableObjectMode);var G=F.highWaterMark,L=F.writableHighWaterMark,O=this.objectMode?
16:16384;this.highWaterMark=G||0===G?G:D&&(L||0===L)?L:O;this.highWaterMark=Math.floor(this.highWaterMark);this.destroyed=this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1;this.decodeStrings=!1!==F.decodeStrings;this.defaultEncoding=F.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(V){var S=w._writableState,ca=S.sync,ea=S.writecb;S.writing=!1;S.writecb=null;S.length-=S.writelen;S.writelen=0;V?(--S.pendingcb,
ca?(b.nextTick(ea,V),b.nextTick(d,w,S),w._writableState.errorEmitted=!0,w.emit("error",V)):(ea(V),w._writableState.errorEmitted=!0,w.emit("error",V),d(w,S))):((V=f(S))||S.corked||S.bufferProcessing||!S.bufferedRequest||l(w,S),ca?c(m,w,S,V,ea):m(w,S,V,ea))};this.writecb=null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new v(this)}function A(F){a=a||z(322);if(!(E.call(A,
this)||this instanceof a))return new A(F);this._writableState=new p(F,this);this.writable=!0;F&&("function"===typeof F.write&&(this._write=F.write),"function"===typeof F.writev&&(this._writev=F.writev),"function"===typeof F.destroy&&(this._destroy=F.destroy),"function"===typeof F.final&&(this._final=F.final));t.call(this)}function u(F,w,D,G,L,O,V){w.writelen=G;w.writecb=V;w.writing=!0;w.sync=!0;D?F._writev(L,w.onwrite):F._write(L,O,w.onwrite);w.sync=!1}function m(F,w,D,G){!D&&0===w.length&&w.needDrain&&
(w.needDrain=!1,F.emit("drain"));w.pendingcb--;G();d(F,w)}function l(F,w){w.bufferProcessing=!0;var D=w.bufferedRequest;if(F._writev&&D&&D.next){var G=Array(w.bufferedRequestCount),L=w.corkedRequestsFree;L.entry=D;for(var O=0,V=!0;D;)G[O]=D,D.isBuf||(V=!1),D=D.next,O+=1;G.allBuffers=V;u(F,w,!0,w.length,G,"",L.finish);w.pendingcb++;w.lastBufferedRequest=null;L.next?(w.corkedRequestsFree=L.next,L.next=null):w.corkedRequestsFree=new v(w);w.bufferedRequestCount=0}else{for(;D&&(G=D.chunk,u(F,w,!1,w.objectMode?
1:G.length,G,D.encoding,D.callback),D=D.next,w.bufferedRequestCount--,!w.writing););null===D&&(w.lastBufferedRequest=null)}w.bufferedRequest=D;w.bufferProcessing=!1}function f(F){return F.ending&&0===F.length&&null===F.bufferedRequest&&!F.finished&&!F.writing}function g(F,w){F._final(function(D){w.pendingcb--;D&&F.emit("error",D);w.prefinished=!0;F.emit("prefinish");d(F,w)})}function d(F,w){var D=f(w);D&&(w.prefinished||w.finalCalled||("function"===typeof F._final?(w.pendingcb++,w.finalCalled=!0,
b.nextTick(g,F,w)):(w.prefinished=!0,F.emit("prefinish"))),0===w.pendingcb&&(w.finished=!0,F.emit("finish")));return D}B=z(49);"use strict";var b=z(310);cb.exports=A;var c=!B.browser&&-1<["v0.10","v0.9."].indexOf(B.version.slice(0,5))?setImmediate:b.nextTick,a;A.WritableState=p;cb=Object.create(z(316));cb.inherits=z(317);var e={deprecate:z(320)},t=z(312),y=z(313).Buffer,q=ra.Uint8Array||function(){};ra=z(319);cb.inherits(A,t);p.prototype.getBuffer=function(){for(var F=this.bufferedRequest,w=[];F;)w.push(F),
F=F.next;return w};(function(){try{Object.defineProperty(p.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(F){}})();if("function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]){var E=Function.prototype[Symbol.hasInstance];Object.defineProperty(A,Symbol.hasInstance,{value:function(F){return E.call(this,F)?!0:this!==A?!1:F&&F._writableState instanceof
p}})}else E=function(F){return F instanceof this};A.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};A.prototype.write=function(F,w,D){var G=this._writableState,L=!1,O;if(O=!G.objectMode)O=F,O=y.isBuffer(O)||O instanceof q;O&&!y.isBuffer(F)&&(F=y.from(F));"function"===typeof w&&(D=w,w=null);O?w="buffer":w||(w=G.defaultEncoding);"function"!==typeof D&&(D=k);if(G.ended)G=D,D=Error("write after end"),this.emit("error",D),b.nextTick(G,D);else{var V;if(!(V=O)){V=F;var S=
D,ca=!0,ea=!1;null===V?ea=new TypeError("May not write null values to stream"):"string"===typeof V||void 0===V||G.objectMode||(ea=new TypeError("Invalid non-string/buffer chunk"));ea&&(this.emit("error",ea),b.nextTick(S,ea),ca=!1);V=ca}V&&(G.pendingcb++,L=O,L||(O=F,G.objectMode||!1===G.decodeStrings||"string"!==typeof O||(O=y.from(O,w)),F!==O&&(L=!0,w="buffer",F=O)),V=G.objectMode?1:F.length,G.length+=V,O=G.length<G.highWaterMark,O||(G.needDrain=!0),G.writing||G.corked?(V=G.lastBufferedRequest,G.lastBufferedRequest=
{chunk:F,encoding:w,isBuf:L,callback:D,next:null},V?V.next=G.lastBufferedRequest:G.bufferedRequest=G.lastBufferedRequest,G.bufferedRequestCount+=1):u(this,G,!1,V,F,w,D),L=O)}return L};A.prototype.cork=function(){this._writableState.corked++};A.prototype.uncork=function(){var F=this._writableState;F.corked&&(F.corked--,F.writing||F.corked||F.finished||F.bufferProcessing||!F.bufferedRequest||l(this,F))};A.prototype.setDefaultEncoding=function(F){"string"===typeof F&&(F=F.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((F+
"").toLowerCase())))throw new TypeError("Unknown encoding: "+F);this._writableState.defaultEncoding=F;return this};Object.defineProperty(A.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});A.prototype._write=function(F,w,D){D(Error("_write() is not implemented"))};A.prototype._writev=null;A.prototype.end=function(F,w,D){var G=this._writableState;"function"===typeof F?(D=F,w=F=null):"function"===typeof w&&(D=w,w=null);null!==F&&void 0!==F&&
this.write(F,w);G.corked&&(G.corked=1,this.uncork());if(!G.ending&&!G.finished){F=D;G.ending=!0;d(this,G);if(F)if(G.finished)b.nextTick(F);else this.once("finish",F);G.ended=!0;this.writable=!1}};Object.defineProperty(A.prototype,"destroyed",{get:function(){return void 0===this._writableState?!1:this._writableState.destroyed},set:function(F){this._writableState&&(this._writableState.destroyed=F)}});A.prototype.destroy=ra.destroy;A.prototype._undestroy=ra.undestroy;A.prototype._destroy=function(F,
w){this.end();w(F)}};
shadow$provide[322]=function(ra,z,cb,B){function v(l){if(!(this instanceof v))return new v(l);u.call(this,l);m.call(this,l);l&&!1===l.readable&&(this.readable=!1);l&&!1===l.writable&&(this.writable=!1);this.allowHalfOpen=!0;l&&!1===l.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",k)}function k(){this.allowHalfOpen||this._writableState.ended||A.nextTick(p,this)}function p(l){l.end()}var A=z(310);ra=Object.keys||function(l){var f=[],g;for(g in l)f.push(g);return f};cb.exports=v;cb=Object.create(z(316));
cb.inherits=z(317);var u=z(324),m=z(321);cb.inherits(v,u);z=ra(m.prototype);for(cb=0;cb<z.length;cb++)ra=z[cb],v.prototype[ra]||(v.prototype[ra]=m.prototype[ra]);Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0===this._readableState||void 0===this._writableState?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(l){void 0!==
this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}});v.prototype._destroy=function(l,f){this.push(null);this.end();A.nextTick(f,l)}};
shadow$provide[323]=function(ra,z,cb,B){function v(e){if(!e)return"utf8";for(var t;;)switch(e){case "utf8":case "utf-8":return"utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return"utf16le";case "latin1":case "binary":return"latin1";case "base64":case "ascii":case "hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=!0}}function k(e){var t=v(e);if("string"!==typeof t&&(c.isEncoding===a||!a(e)))throw Error("Unknown encoding: "+e);this.encoding=t||e;switch(this.encoding){case "utf16le":this.text=
m;this.end=l;e=4;break;case "utf8":this.fillLast=u;e=4;break;case "base64":this.text=f;this.end=g;e=3;break;default:this.write=d;this.end=b;return}this.lastTotal=this.lastNeed=0;this.lastChar=c.allocUnsafe(e)}function p(e){return 127>=e?0:6===e>>5?2:14===e>>4?3:30===e>>3?4:2===e>>6?-1:-2}function A(e,t,y){var q=t.length-1;if(q<y)return 0;var E=p(t[q]);if(0<=E)return 0<E&&(e.lastNeed=E-1),E;if(--q<y||-2===E)return 0;E=p(t[q]);if(0<=E)return 0<E&&(e.lastNeed=E-2),E;if(--q<y||-2===E)return 0;E=p(t[q]);
return 0<=E?(0<E&&(2===E?E=0:e.lastNeed=E-3),E):0}function u(e){var t=this.lastTotal-this.lastNeed;a:if(128!==(e[0]&192)){this.lastNeed=0;var y=""}else{if(1<this.lastNeed&&1<e.length){if(128!==(e[1]&192)){this.lastNeed=1;y="";break a}if(2<this.lastNeed&&2<e.length&&128!==(e[2]&192)){this.lastNeed=2;y="";break a}}y=void 0}if(void 0!==y)return y;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,
0,e.length);this.lastNeed-=e.length}function m(e,t){if(0===(e.length-t)%2){if(t=e.toString("utf16le",t)){var y=t.charCodeAt(t.length-1);if(55296<=y&&56319>=y)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function l(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("utf16le",0,this.lastTotal-
this.lastNeed):e}function f(e,t){var y=(e.length-t)%3;if(0===y)return e.toString("base64",t);this.lastNeed=3-y;this.lastTotal=3;1===y?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]);return e.toString("base64",t,e.length-y)}function g(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(e){return e.toString(this.encoding)}function b(e){return e&&e.length?this.write(e):""}var c=z(313).Buffer,
a=c.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};B.StringDecoder=k;k.prototype.write=function(e){if(0===e.length)return"";if(this.lastNeed){var t=this.fillLast(e);if(void 0===t)return"";var y=this.lastNeed;this.lastNeed=0}else y=0;return y<e.length?t?t+this.text(e,y):this.text(e,y):t||""};k.prototype.end=function(e){e=
e&&e.length?this.write(e):"";return this.lastNeed?e+"":e};k.prototype.text=function(e,t){var y=A(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=y;y=e.length-(y-this.lastNeed);e.copy(this.lastChar,0,y);return e.toString("utf8",t,y)};k.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);
this.lastNeed-=e.length}};
shadow$provide[324]=function(ra,z,cb,B){function v(T,R,J){if("function"===typeof T.prependListener)return T.prependListener(R,J);if(T._events&&T._events[R])w(T._events[R])?T._events[R].unshift(J):T._events[R]=[J,T._events[R]];else T.on(R,J)}function k(T,R){D=D||z(322);T=T||{};R=R instanceof D;this.objectMode=!!T.objectMode;R&&(this.objectMode=this.objectMode||!!T.readableObjectMode);var J=T.highWaterMark,r=T.readableHighWaterMark,C=this.objectMode?16:16384;this.highWaterMark=J||0===J?J:R&&(r||0===
r)?r:C;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new S;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.destroyed=this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1;this.defaultEncoding=T.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;T.encoding&&(ca||(ca=z(323).StringDecoder),this.decoder=new ca(T.encoding),this.encoding=
T.encoding)}function p(T){D=D||z(322);if(!(this instanceof p))return new p(T);this._readableState=new k(T,this);this.readable=!0;T&&("function"===typeof T.read&&(this._read=T.read),"function"===typeof T.destroy&&(this._destroy=T.destroy));G.call(this)}function A(T,R,J,r,C){var N=T._readableState;if(null===R)N.reading=!1,N.ended||(N.decoder&&(R=N.decoder.end())&&R.length&&(N.buffer.push(R),N.length+=N.objectMode?1:R.length),N.ended=!0,l(T));else{if(!C){C=R;var U;L.isBuffer(C)||C instanceof O||"string"===
typeof C||void 0===C||N.objectMode||(U=new TypeError("Invalid non-string/buffer chunk"));var ja=U}ja?T.emit("error",ja):N.objectMode||R&&0<R.length?("string"===typeof R||N.objectMode||Object.getPrototypeOf(R)===L.prototype||(R=L.from(R)),r?N.endEmitted?T.emit("error",Error("stream.unshift() after end event")):u(T,N,R,!0):N.ended?T.emit("error",Error("stream.push() after EOF")):(N.reading=!1,N.decoder&&!J?(R=N.decoder.write(R),N.objectMode||0!==R.length?u(T,N,R,!1):N.readingMore||(N.readingMore=!0,
F.nextTick(g,T,N))):u(T,N,R,!1))):r||(N.reading=!1)}return!N.ended&&(N.needReadable||N.length<N.highWaterMark||0===N.length)}function u(T,R,J,r){R.flowing&&0===R.length&&!R.sync?(T.emit("data",J),T.read(0)):(R.length+=R.objectMode?1:J.length,r?R.buffer.unshift(J):R.buffer.push(J),R.needReadable&&l(T));R.readingMore||(R.readingMore=!0,F.nextTick(g,T,R))}function m(T,R){if(0>=T||0===R.length&&R.ended)return 0;if(R.objectMode)return 1;if(T!==T)return R.flowing&&R.length?R.buffer.head.data.length:R.length;
if(T>R.highWaterMark){var J=T;8388608<=J?J=8388608:(J--,J|=J>>>1,J|=J>>>2,J|=J>>>4,J|=J>>>8,J|=J>>>16,J++);R.highWaterMark=J}return T<=R.length?T:R.ended?R.length:(R.needReadable=!0,0)}function l(T){var R=T._readableState;R.needReadable=!1;R.emittedReadable||(V("emitReadable",R.flowing),R.emittedReadable=!0,R.sync?F.nextTick(f,T):f(T))}function f(T){V("emit readable");T.emit("readable");a(T)}function g(T,R){for(var J=R.length;!R.reading&&!R.flowing&&!R.ended&&R.length<R.highWaterMark&&(V("maybeReadMore read 0"),
T.read(0),J!==R.length);)J=R.length;R.readingMore=!1}function d(T){return function(){var R=T._readableState;V("pipeOnDrain",R.awaitDrain);R.awaitDrain&&R.awaitDrain--;0===R.awaitDrain&&T.listeners("data").length&&(R.flowing=!0,a(T))}}function b(T){V("readable nexttick read 0");T.read(0)}function c(T,R){R.reading||(V("resume read 0"),T.read(0));R.resumeScheduled=!1;R.awaitDrain=0;T.emit("resume");a(T);R.flowing&&!R.reading&&T.read(0)}function a(T){var R=T._readableState;for(V("flow",R.flowing);R.flowing&&
null!==T.read(););}function e(T,R){if(0===R.length)return null;if(R.objectMode)var J=R.buffer.shift();else if(!T||T>=R.length)J=R.decoder?R.buffer.join(""):1===R.buffer.length?R.buffer.head.data:R.buffer.concat(R.length),R.buffer.clear();else{J=R.buffer;R=R.decoder;if(T<J.head.data.length)R=J.head.data.slice(0,T),J.head.data=J.head.data.slice(T);else{if(T===J.head.data.length)J=J.shift();else if(R){R=J.head;var r=1,C=R.data;for(T-=C.length;R=R.next;){var N=R.data,U=T>N.length?N.length:T;C=U===N.length?
C+N:C+N.slice(0,T);T-=U;if(0===T){U===N.length?(++r,J.head=R.next?R.next:J.tail=null):(J.head=R,R.data=N.slice(U));break}++r}J.length-=r;J=C}else{R=L.allocUnsafe(T);r=J.head;C=1;r.data.copy(R);for(T-=r.data.length;r=r.next;){N=r.data;U=T>N.length?N.length:T;N.copy(R,R.length-T,0,U);T-=U;if(0===T){U===N.length?(++C,J.head=r.next?r.next:J.tail=null):(J.head=r,r.data=N.slice(U));break}++C}J.length-=C;J=R}R=J}J=R}return J}function t(T){var R=T._readableState;if(0<R.length)throw Error('"endReadable()" called on non-empty stream');
R.endEmitted||(R.ended=!0,F.nextTick(y,R,T))}function y(T,R){T.endEmitted||0!==T.length||(T.endEmitted=!0,R.readable=!1,R.emit("end"))}function q(T,R){for(var J=0,r=T.length;J<r;J++)if(T[J]===R)return J;return-1}var E=z(49);"use strict";var F=z(310);cb.exports=p;var w=z(20),D;p.ReadableState=k;z(311);var G=z(312),L=z(313).Buffer,O=ra.Uint8Array||function(){};ra=Object.create(z(316));ra.inherits=z(317);cb=z(316);var V=void 0;V=cb&&cb.debuglog?cb.debuglog("stream"):function(){};var S=z(318);cb=z(319);
var ca;ra.inherits(p,G);var ea=["error","close","destroy","pause","resume"];Object.defineProperty(p.prototype,"destroyed",{get:function(){return void 0===this._readableState?!1:this._readableState.destroyed},set:function(T){this._readableState&&(this._readableState.destroyed=T)}});p.prototype.destroy=cb.destroy;p.prototype._undestroy=cb.undestroy;p.prototype._destroy=function(T,R){this.push(null);R(T)};p.prototype.push=function(T,R){var J=this._readableState;if(J.objectMode)var r=!0;else"string"===
typeof T&&(R=R||J.defaultEncoding,R!==J.encoding&&(T=L.from(T,R),R=""),r=!0);return A(this,T,R,!1,r)};p.prototype.unshift=function(T){return A(this,T,null,!0,!1)};p.prototype.isPaused=function(){return!1===this._readableState.flowing};p.prototype.setEncoding=function(T){ca||(ca=z(323).StringDecoder);this._readableState.decoder=new ca(T);this._readableState.encoding=T;return this};p.prototype.read=function(T){V("read",T);T=parseInt(T,10);var R=this._readableState,J=T;0!==T&&(R.emittedReadable=!1);
if(0===T&&R.needReadable&&(R.length>=R.highWaterMark||R.ended))return V("read: emitReadable",R.length,R.ended),0===R.length&&R.ended?t(this):l(this),null;T=m(T,R);if(0===T&&R.ended)return 0===R.length&&t(this),null;var r=R.needReadable;V("need readable",r);if(0===R.length||R.length-T<R.highWaterMark)r=!0,V("length less than watermark",r);R.ended||R.reading?V("reading or ended",!1):r&&(V("do read"),R.reading=!0,R.sync=!0,0===R.length&&(R.needReadable=!0),this._read(R.highWaterMark),R.sync=!1,R.reading||
(T=m(J,R)));r=0<T?e(T,R):null;null===r?(R.needReadable=!0,T=0):R.length-=T;0===R.length&&(R.ended||(R.needReadable=!0),J!==T&&R.ended&&t(this));null!==r&&this.emit("data",r);return r};p.prototype._read=function(T){this.emit("error",Error("_read() is not implemented"))};p.prototype.pipe=function(T,R){function J(qa,Da){V("onunpipe");qa===ia&&Da&&!1===Da.hasUnpiped&&(Da.hasUnpiped=!0,V("cleanup"),T.removeListener("close",U),T.removeListener("finish",ja),T.removeListener("drain",Wa),T.removeListener("error",
N),T.removeListener("unpipe",J),ia.removeListener("end",r),ia.removeListener("end",ba),ia.removeListener("data",C),hb=!0,!za.awaitDrain||T._writableState&&!T._writableState.needDrain||Wa())}function r(){V("onend");T.end()}function C(qa){V("ondata");Ja=!1;!1!==T.write(qa)||Ja||((1===za.pipesCount&&za.pipes===T||1<za.pipesCount&&-1!==q(za.pipes,T))&&!hb&&(V("false write response, pause",ia._readableState.awaitDrain),ia._readableState.awaitDrain++,Ja=!0),ia.pause())}function N(qa){V("onerror",qa);ba();
T.removeListener("error",N);0===T.listeners("error").length&&T.emit("error",qa)}function U(){T.removeListener("finish",ja);ba()}function ja(){V("onfinish");T.removeListener("close",U);ba()}function ba(){V("unpipe");ia.unpipe(T)}var ia=this,za=this._readableState;switch(za.pipesCount){case 0:za.pipes=T;break;case 1:za.pipes=[za.pipes,T];break;default:za.pipes.push(T)}za.pipesCount+=1;V("pipe count\x3d%d opts\x3d%j",za.pipesCount,R);R=R&&!1===R.end||T===E.stdout||T===E.stderr?ba:r;if(za.endEmitted)F.nextTick(R);
else ia.once("end",R);T.on("unpipe",J);var Wa=d(ia);T.on("drain",Wa);var hb=!1,Ja=!1;ia.on("data",C);v(T,"error",N);T.once("close",U);T.once("finish",ja);T.emit("pipe",ia);za.flowing||(V("pipe resume"),ia.resume());return T};p.prototype.unpipe=function(T){var R=this._readableState,J={hasUnpiped:!1};if(0===R.pipesCount)return this;if(1===R.pipesCount){if(T&&T!==R.pipes)return this;T||(T=R.pipes);R.pipes=null;R.pipesCount=0;R.flowing=!1;T&&T.emit("unpipe",this,J);return this}if(!T){T=R.pipes;var r=
R.pipesCount;R.pipes=null;R.pipesCount=0;R.flowing=!1;for(R=0;R<r;R++)T[R].emit("unpipe",this,J);return this}r=q(R.pipes,T);if(-1===r)return this;R.pipes.splice(r,1);--R.pipesCount;1===R.pipesCount&&(R.pipes=R.pipes[0]);T.emit("unpipe",this,J);return this};p.prototype.on=function(T,R){R=G.prototype.on.call(this,T,R);"data"===T?!1!==this._readableState.flowing&&this.resume():"readable"===T&&(T=this._readableState,T.endEmitted||T.readableListening||(T.readableListening=T.needReadable=!0,T.emittedReadable=
!1,T.reading?T.length&&l(this):F.nextTick(b,this)));return R};p.prototype.addListener=p.prototype.on;p.prototype.resume=function(){var T=this._readableState;T.flowing||(V("resume"),T.flowing=!0,T.resumeScheduled||(T.resumeScheduled=!0,F.nextTick(c,this,T)));return this};p.prototype.pause=function(){V("call pause flowing\x3d%j",this._readableState.flowing);!1!==this._readableState.flowing&&(V("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};p.prototype.wrap=function(T){var R=
this,J=this._readableState,r=!1;T.on("end",function(){V("wrapped end");if(J.decoder&&!J.ended){var N=J.decoder.end();N&&N.length&&R.push(N)}R.push(null)});T.on("data",function(N){V("wrapped data");J.decoder&&(N=J.decoder.write(N));J.objectMode&&(null===N||void 0===N)||!(J.objectMode||N&&N.length)||R.push(N)||(r=!0,T.pause())});for(var C in T)void 0===this[C]&&"function"===typeof T[C]&&(this[C]=function(N){return function(){return T[N].apply(T,arguments)}}(C));for(C=0;C<ea.length;C++)T.on(ea[C],this.emit.bind(this,
ea[C]));this._read=function(N){V("wrapped _read",N);r&&(r=!1,T.resume())};return this};Object.defineProperty(p.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});p._fromList=e};
shadow$provide[325]=function(ra,z,cb,B){function v(m,l){var f=this._transformState;f.transforming=!1;var g=f.writecb;if(!g)return this.emit("error",Error("write callback called multiple times"));f.writechunk=null;f.writecb=null;null!=l&&this.push(l);g(m);m=this._readableState;m.reading=!1;(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function k(m){if(!(this instanceof k))return new k(m);u.call(this,m);this._transformState={afterTransform:v.bind(this),needTransform:!1,transforming:!1,
writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;m&&("function"===typeof m.transform&&(this._transform=m.transform),"function"===typeof m.flush&&(this._flush=m.flush));this.on("prefinish",p)}function p(){var m=this;"function"===typeof this._flush?this._flush(function(l,f){A(m,l,f)}):A(this,null,null)}function A(m,l,f){if(l)return m.emit("error",l);null!=f&&m.push(f);if(m._writableState.length)throw Error("Calling transform done when ws.length !\x3d 0");
if(m._transformState.transforming)throw Error("Calling transform done when still transforming");return m.push(null)}cb.exports=k;var u=z(322);ra=Object.create(z(316));ra.inherits=z(317);ra.inherits(k,u);k.prototype.push=function(m,l){this._transformState.needTransform=!1;return u.prototype.push.call(this,m,l)};k.prototype._transform=function(m,l,f){throw Error("_transform() is not implemented");};k.prototype._write=function(m,l,f){var g=this._transformState;g.writecb=f;g.writechunk=m;g.writeencoding=
l;g.transforming||(m=this._readableState,(g.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark))};k.prototype._read=function(m){m=this._transformState;null!==m.writechunk&&m.writecb&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0};k.prototype._destroy=function(m,l){var f=this;u.prototype._destroy.call(this,m,function(g){l(g);f.emit("close")})}};
shadow$provide[326]=function(ra,z,cb,B){function v(p){if(!(this instanceof v))return new v(p);k.call(this,p)}cb.exports=v;var k=z(325);ra=Object.create(z(316));ra.inherits=z(317);ra.inherits(v,k);v.prototype._transform=function(p,A,u){u(null,p)}};
shadow$provide[327]=function(ra,z,cb,B){B=cb.exports=z(324);B.Stream=B;B.Readable=B;B.Writable=z(321);B.Duplex=z(322);B.Transform=z(325);B.PassThrough=z(326)};
shadow$provide[328]=function(ra,z,cb,B){var v=z(49),k=z(21).Buffer,p=z(308);cb=z(309);var A=z(327),u=B.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};z=B.IncomingMessage=function(m,l,f,g){var d=this;A.Readable.call(d);d._mode=f;d.headers={};d.rawHeaders=[];d.trailers={};d.rawTrailers=[];d.on("end",function(){v.nextTick(function(){d.emit("close")})});if("fetch"===f){d._fetchResponse=l;d.url=l.url;d.statusCode=l.status;d.statusMessage=l.statusText;l.headers.forEach(function(a,e){d.headers[e.toLowerCase()]=
a;d.rawHeaders.push(e,a)});if(p.writableStream){m=new WritableStream({write:function(a){return new Promise(function(e,t){d._destroyed?t():d.push(new k(a))?e():d._resumeFetch=e})},close:function(){ra.clearTimeout(g);d._destroyed||d.push(null)},abort:function(a){d._destroyed||d.emit("error",a)}});try{l.body.pipeTo(m).catch(function(a){ra.clearTimeout(g);d._destroyed||d.emit("error",a)});return}catch(a){}}var b=l.body.getReader();function c(){b.read().then(function(a){d._destroyed||(a.done?(ra.clearTimeout(g),
d.push(null)):(d.push(new k(a.value)),c()))}).catch(function(a){ra.clearTimeout(g);d._destroyed||d.emit("error",a)})}c()}else if(d._xhr=m,d._pos=0,d.url=m.responseURL,d.statusCode=m.status,d.statusMessage=m.statusText,m.getAllResponseHeaders().split(/\r?\n/).forEach(function(c){if(c=c.match(/^([^:]+):\s*(.*)/)){var a=c[1].toLowerCase();"set-cookie"===a?(void 0===d.headers[a]&&(d.headers[a]=[]),d.headers[a].push(c[2])):d.headers[a]=void 0!==d.headers[a]?d.headers[a]+(", "+c[2]):c[2];d.rawHeaders.push(c[1],
c[2])}}),d._charset="x-user-defined",!p.overrideMimeType){if(l=d.rawHeaders["mime-type"])if(l=l.match(/;\s*charset=([^;])(;|$)/))d._charset=l[1].toLowerCase();d._charset||(d._charset="utf-8")}};cb(z,A.Readable);z.prototype._read=function(){var m=this._resumeFetch;m&&(this._resumeFetch=null,m())};z.prototype._onXHRProgress=function(){var m=this,l=m._xhr,f=null;switch(m._mode){case "text:vbarray":if(l.readyState!==u.DONE)break;try{f=(new ra.VBArray(l.responseBody)).toArray()}catch(c){}if(null!==f){m.push(new k(f));
break}case "text":try{f=l.responseText}catch(c){m._mode="text:vbarray";break}if(f.length>m._pos){l=f.substr(m._pos);if("x-user-defined"===m._charset){for(var g=new k(l.length),d=0;d<l.length;d++)g[d]=l.charCodeAt(d)&255;m.push(g)}else m.push(l,m._charset);m._pos=f.length}break;case "arraybuffer":if(l.readyState!==u.DONE||!l.response)break;f=l.response;m.push(new k(new Uint8Array(f)));break;case "moz-chunked-arraybuffer":f=l.response;if(l.readyState!==u.LOADING||!f)break;m.push(new k(new Uint8Array(f)));
break;case "ms-stream":if(f=l.response,l.readyState===u.LOADING){var b=new ra.MSStreamReader;b.onprogress=function(){b.result.byteLength>m._pos&&(m.push(new k(new Uint8Array(b.result.slice(m._pos)))),m._pos=b.result.byteLength)};b.onload=function(){m.push(null)};b.readAsArrayBuffer(f)}}m._xhr.readyState===u.DONE&&"ms-stream"!==m._mode&&m.push(null)}};
shadow$provide[329]=function(ra,z,cb,B){var v=z(21).Buffer;cb.exports=function(k){if(k instanceof Uint8Array){if(0===k.byteOffset&&k.byteLength===k.buffer.byteLength)return k.buffer;if("function"===typeof k.buffer.slice)return k.buffer.slice(k.byteOffset,k.byteOffset+k.byteLength)}if(v.isBuffer(k)){for(var p=new Uint8Array(k.length),A=k.length,u=0;u<A;u++)p[u]=k[u];return p.buffer}throw Error("Argument must be a Buffer");}};
shadow$provide[330]=function(ra,z,cb,B){var v=z(49),k=z(21).Buffer,p=z(308);B=z(309);var A=z(328),u=z(327),m=z(329),l=A.IncomingMessage,f=A.readyStates;z=cb.exports=function(d){var b=this;u.Writable.call(b);b._opts=d;b._body=[];b._headers={};d.auth&&b.setHeader("Authorization","Basic "+(new k(d.auth)).toString("base64"));Object.keys(d.headers).forEach(function(e){b.setHeader(e,d.headers[e])});var c=!0;if("disable-fetch"===d.mode||"requestTimeout"in d&&!p.abortController){c=!1;var a=!0}else if("prefer-streaming"===
d.mode)a=!1;else if("allow-wrong-content-type"===d.mode)a=!p.overrideMimeType;else{if(d.mode&&"default"!==d.mode&&"prefer-fast"!==d.mode)throw Error("Invalid value for opts.mode");a=!0}b._mode=p.fetch&&c?"fetch":p.mozchunkedarraybuffer?"moz-chunked-arraybuffer":p.msstream?"ms-stream":p.arraybuffer&&a?"arraybuffer":p.vbArray&&a?"text:vbarray":"text";b._fetchTimer=null;b.on("finish",function(){b._onFinish()})};B(z,u.Writable);z.prototype.setHeader=function(d,b){var c=d.toLowerCase();-1===g.indexOf(c)&&
(this._headers[c]={name:d,value:b})};z.prototype.getHeader=function(d){return(d=this._headers[d.toLowerCase()])?d.value:null};z.prototype.removeHeader=function(d){delete this._headers[d.toLowerCase()]};z.prototype._onFinish=function(){var d=this;if(!d._destroyed){var b=d._opts,c=d._headers,a=null;"GET"!==b.method&&"HEAD"!==b.method&&(a=p.arraybuffer?m(k.concat(d._body)):p.blobConstructor?new ra.Blob(d._body.map(function(E){return m(E)}),{type:(c["content-type"]||{}).value||""}):k.concat(d._body).toString());
var e=[];Object.keys(c).forEach(function(E){var F=c[E].name;E=c[E].value;Array.isArray(E)?E.forEach(function(w){e.push([F,w])}):e.push([F,E])});if("fetch"===d._mode){var t=null;if(p.abortController){var y=new AbortController;t=y.signal;d._fetchAbortController=y;"requestTimeout"in b&&0!==b.requestTimeout&&(d._fetchTimer=ra.setTimeout(function(){d.emit("requestTimeout");d._fetchAbortController&&d._fetchAbortController.abort()},b.requestTimeout))}ra.fetch(d._opts.url,{method:d._opts.method,headers:e,
body:a||void 0,mode:"cors",credentials:b.withCredentials?"include":"same-origin",signal:t}).then(function(E){d._fetchResponse=E;d._connect()},function(E){ra.clearTimeout(d._fetchTimer);d._destroyed||d.emit("error",E)})}else{var q=d._xhr=new ra.XMLHttpRequest;try{q.open(d._opts.method,d._opts.url,!0)}catch(E){v.nextTick(function(){d.emit("error",E)});return}"responseType"in q&&(q.responseType=d._mode.split(":")[0]);"withCredentials"in q&&(q.withCredentials=!!b.withCredentials);"text"===d._mode&&"overrideMimeType"in
q&&q.overrideMimeType("text/plain; charset\x3dx-user-defined");"requestTimeout"in b&&(q.timeout=b.requestTimeout,q.ontimeout=function(){d.emit("requestTimeout")});e.forEach(function(E){q.setRequestHeader(E[0],E[1])});d._response=null;q.onreadystatechange=function(){switch(q.readyState){case f.LOADING:case f.DONE:d._onXHRProgress()}};"moz-chunked-arraybuffer"===d._mode&&(q.onprogress=function(){d._onXHRProgress()});q.onerror=function(){d._destroyed||d.emit("error",Error("XHR error"))};try{q.send(a)}catch(E){v.nextTick(function(){d.emit("error",
E)})}}}};z.prototype._onXHRProgress=function(){try{var d=this._xhr.status;var b=null!==d&&0!==d}catch(c){b=!1}b&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())};z.prototype._connect=function(){var d=this;d._destroyed||(d._response=new l(d._xhr,d._fetchResponse,d._mode,d._fetchTimer),d._response.on("error",function(b){d.emit("error",b)}),d.emit("response",d._response))};z.prototype._write=function(d,b,c){this._body.push(d);c()};z.prototype.abort=z.prototype.destroy=
function(){this._destroyed=!0;ra.clearTimeout(this._fetchTimer);this._response&&(this._response._destroyed=!0);this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()};z.prototype.end=function(d,b,c){"function"===typeof d&&(c=d,d=void 0);u.Writable.prototype.end.call(this,d,b,c)};z.prototype.flushHeaders=function(){};z.prototype.setTimeout=function(){};z.prototype.setNoDelay=function(){};z.prototype.setSocketKeepAlive=function(){};var g="accept-charset accept-encoding access-control-request-headers access-control-request-method connection content-length cookie cookie2 date dnt expect host keep-alive origin referer te trailer transfer-encoding upgrade via".split(" ")};
shadow$provide[331]=function(ra,z,cb,B){cb.exports=function(){for(var k={},p=0;p<arguments.length;p++){var A=arguments[p],u;for(u in A)v.call(A,u)&&(k[u]=A[u])}return k};var v=Object.prototype.hasOwnProperty};
shadow$provide[332]=function(ra,z,cb,B){cb.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",
403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",
429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}};
shadow$provide[333]=function(ra,z,cb,B){(function(v){function k(D){throw RangeError(y[D]);}function p(D,G){for(var L=D.length,O=[];L--;)O[L]=G(D[L]);return O}function A(D,G){var L=D.split("@"),O="";1<L.length&&(O=L[0]+"@",D=L[1]);D=D.replace(t,".");D=D.split(".");G=p(D,G).join(".");return O+G}function u(D){for(var G=[],L=0,O=D.length,V,S;L<O;)V=D.charCodeAt(L++),55296<=V&&56319>=V&&L<O?(S=D.charCodeAt(L++),56320==(S&64512)?G.push(((V&1023)<<10)+(S&1023)+65536):(G.push(V),L--)):G.push(V);return G}
function m(D){return p(D,function(G){var L="";65535<G&&(G-=65536,L+=E(G>>>10&1023|55296),G=56320|G&1023);return L+=E(G)}).join("")}function l(D,G,L){var O=0;D=L?q(D/700):D>>1;for(D+=q(D/G);455<D;O+=36)D=q(D/35);return q(O+36*D/(D+38))}function f(D){var G=[],L=D.length,O=0,V=128,S=72,ca,ea;var T=D.lastIndexOf("-");0>T&&(T=0);for(ca=0;ca<T;++ca)128<=D.charCodeAt(ca)&&k("not-basic"),G.push(D.charCodeAt(ca));for(T=0<T?T+1:0;T<L;){ca=O;var R=1;for(ea=36;;ea+=36){T>=L&&k("invalid-input");var J=D.charCodeAt(T++);
J=10>J-48?J-22:26>J-65?J-65:26>J-97?J-97:36;(36<=J||J>q((2147483647-O)/R))&&k("overflow");O+=J*R;var r=ea<=S?1:ea>=S+26?26:ea-S;if(J<r)break;J=36-r;R>q(2147483647/J)&&k("overflow");R*=J}R=G.length+1;S=l(O-ca,R,0==ca);q(O/R)>2147483647-V&&k("overflow");V+=q(O/R);O%=R;G.splice(O++,0,V)}return m(G)}function g(D){var G,L,O,V=[];D=u(D);var S=D.length;var ca=128;var ea=0;var T=72;for(O=0;O<S;++O){var R=D[O];128>R&&V.push(E(R))}for((G=L=V.length)&&V.push("-");G<S;){var J=2147483647;for(O=0;O<S;++O)R=D[O],
R>=ca&&R<J&&(J=R);var r=G+1;J-ca>q((2147483647-ea)/r)&&k("overflow");ea+=(J-ca)*r;ca=J;for(O=0;O<S;++O)if(R=D[O],R<ca&&2147483647<++ea&&k("overflow"),R==ca){var C=ea;for(J=36;;J+=36){R=J<=T?1:J>=T+26?26:J-T;if(C<R)break;var N=C-R;C=36-R;var U=V;R+=N%C;U.push.call(U,E(R+22+75*(26>R)-0));C=q(N/C)}V.push(E(C+22+75*(26>C)-0));T=l(ea,r,G==L);ea=0;++G}++ea;++ca}return V.join("")}var d="object"==typeof B&&B&&!B.nodeType&&B,b="object"==typeof cb&&cb&&!cb.nodeType&&cb,c="object"==typeof ra&&ra;if(c.global===
c||c.window===c||c.self===c)v=c;var a=/^xn--/,e=/[^\x20-\x7E]/,t=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=Math.floor,E=String.fromCharCode,F;var w={version:"1.3.2",ucs2:{decode:u,encode:m},decode:f,encode:g,toASCII:function(D){return A(D,function(G){return e.test(G)?"xn--"+g(G):G})},toUnicode:function(D){return A(D,function(G){return a.test(G)?f(G.slice(4).toLowerCase()):
G})}};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return w});else if(d&&b)if(cb.exports==d)b.exports=w;else for(F in w)w.hasOwnProperty(F)&&(d[F]=w[F]);else v.punycode=w})(this)};
shadow$provide[334]=function(ra,z,cb,B){cb.exports={isString:function(v){return"string"===typeof v},isObject:function(v){return"object"===typeof v&&null!==v},isNull:function(v){return null===v},isNullOrUndefined:function(v){return null==v}}};
shadow$provide[335]=function(ra,z,cb,B){cb.exports=function(k,p,A,u){A=A||"\x3d";var m={};if("string"!==typeof k||0===k.length)return m;var l=/\+/g;k=k.split(p||"\x26");p=1E3;u&&"number"===typeof u.maxKeys&&(p=u.maxKeys);u=k.length;0<p&&u>p&&(u=p);for(p=0;p<u;++p){var f=k[p].replace(l,"%20"),g=f.indexOf(A);if(0<=g){var d=f.substr(0,g);f=f.substr(g+1)}else d=f,f="";d=decodeURIComponent(d);f=decodeURIComponent(f);Object.prototype.hasOwnProperty.call(m,d)?v(m[d])?m[d].push(f):m[d]=[m[d],f]:m[d]=f}return m};
var v=Array.isArray||function(k){return"[object Array]"===Object.prototype.toString.call(k)}};
shadow$provide[336]=function(ra,z,cb,B){function v(u,m){if(u.map)return u.map(m);for(var l=[],f=0;f<u.length;f++)l.push(m(u[f],f));return l}var k=function(u){switch(typeof u){case "string":return u;case "boolean":return u?"true":"false";case "number":return isFinite(u)?u:"";default:return""}};cb.exports=function(u,m,l,f){m=m||"\x26";l=l||"\x3d";null===u&&(u=void 0);return"object"===typeof u?v(A(u),function(g){var d=encodeURIComponent(k(g))+l;return p(u[g])?v(u[g],function(b){return d+encodeURIComponent(k(b))}).join(m):
d+encodeURIComponent(k(u[g]))}).join(m):f?encodeURIComponent(k(f))+l+encodeURIComponent(k(u)):""};var p=Array.isArray||function(u){return"[object Array]"===Object.prototype.toString.call(u)},A=Object.keys||function(u){var m=[],l;for(l in u)Object.prototype.hasOwnProperty.call(u,l)&&m.push(l);return m}};
shadow$provide[337]=function(ra,z,cb,B){B.decode=B.parse=z(335);B.encode=B.stringify=z(336)};
shadow$provide[338]=function(ra,z,cb,B){function v(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function k(q,E,F){if(q&&A.isObject(q)&&q instanceof v)return q;var w=new v;w.parse(q,E,F);return w}var p=z(333),A=z(334);B.parse=k;B.resolve=function(q,E){return k(q,!1,!0).resolve(E)};B.resolveObject=function(q,E){return q?k(q,!1,!0).resolveObject(E):E};B.format=function(q){A.isString(q)&&(q=k(q));return q instanceof
v?q.format():v.prototype.format.call(q)};B.Url=v;var u=/^([a-z0-9.+-]+:)/i,m=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/;ra="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split(""));var f=["'"].concat(ra),g=["%","/","?",";","#"].concat(f),d=["/","?","#"],b=/^[+a-z0-9A-Z_-]{0,63}$/,c=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,a={javascript:!0,"javascript:":!0},e={javascript:!0,"javascript:":!0},t={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=z(337);
v.prototype.parse=function(q,E,F){if(!A.isString(q))throw new TypeError("Parameter 'url' must be a string, not "+typeof q);var w=q.indexOf("?");w=-1!==w&&w<q.indexOf("#")?"?":"#";q=q.split(w);q[0]=q[0].replace(/\\/g,"/");q=q.join(w);w=q.trim();if(!F&&1===q.split("#").length&&(q=l.exec(w)))return this.href=this.path=w,this.pathname=q[1],q[2]?(this.search=q[2],this.query=E?y.parse(this.search.substr(1)):this.search.substr(1)):E&&(this.search="",this.query={}),this;if(q=u.exec(w)){q=q[0];var D=q.toLowerCase();
this.protocol=D;w=w.substr(q.length)}if(F||q||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var G="//"===w.substr(0,2);!G||q&&e[q]||(w=w.substr(2),this.slashes=!0)}if(!e[q]&&(G||q&&!t[q])){G=-1;for(F=0;F<d.length;F++)q=w.indexOf(d[F]),-1!==q&&(-1===G||q<G)&&(G=q);G=-1===G?w.lastIndexOf("@"):w.lastIndexOf("@",G);-1!==G&&(F=w.slice(0,G),w=w.slice(G+1),this.auth=decodeURIComponent(F));G=-1;for(F=0;F<g.length;F++)q=w.indexOf(g[F]),-1!==q&&(-1===G||q<G)&&(G=q);-1===G&&(G=w.length);this.host=w.slice(0,G);w=w.slice(G);
this.parseHost();this.hostname=this.hostname||"";G="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!G){var L=this.hostname.split(/\./);F=0;for(q=L.length;F<q;F++){var O=L[F];if(O&&!O.match(b)){for(var V="",S=0,ca=O.length;S<ca;S++)V=127<O.charCodeAt(S)?V+"x":V+O[S];if(!V.match(b)){q=L.slice(0,F);F=L.slice(F+1);if(O=O.match(c))q.push(O[1]),F.unshift(O[2]);F.length&&(w="/"+F.join(".")+w);this.hostname=q.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();
G||(this.hostname=p.toASCII(this.hostname));F=this.port?":"+this.port:"";this.host=(this.hostname||"")+F;this.href+=this.host;G&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!a[D])for(F=0,q=f.length;F<q;F++)G=f[F],-1!==w.indexOf(G)&&(O=encodeURIComponent(G),O===G&&(O=escape(G)),w=w.split(G).join(O));F=w.indexOf("#");-1!==F&&(this.hash=w.substr(F),w=w.slice(0,F));F=w.indexOf("?");-1!==F?(this.search=w.substr(F),this.query=w.substr(F+1),E&&(this.query=y.parse(this.query)),
w=w.slice(0,F)):E&&(this.search="",this.query={});w&&(this.pathname=w);t[D]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)F=this.pathname||"",this.path=F+(this.search||"");this.href=this.format();return this};v.prototype.format=function(){var q=this.auth||"";q&&(q=encodeURIComponent(q),q=q.replace(/%3A/i,":"),q+="@");var E=this.protocol||"",F=this.pathname||"",w=this.hash||"",D=!1,G="";this.host?D=q+this.host:this.hostname&&(D=q+(-1===this.hostname.indexOf(":")?
this.hostname:"["+this.hostname+"]"),this.port&&(D+=":"+this.port));this.query&&A.isObject(this.query)&&Object.keys(this.query).length&&(G=y.stringify(this.query));q=this.search||G&&"?"+G||"";E&&":"!==E.substr(-1)&&(E+=":");this.slashes||(!E||t[E])&&!1!==D?(D="//"+(D||""),F&&"/"!==F.charAt(0)&&(F="/"+F)):D||(D="");w&&"#"!==w.charAt(0)&&(w="#"+w);q&&"?"!==q.charAt(0)&&(q="?"+q);F=F.replace(/[?#]/g,function(L){return encodeURIComponent(L)});q=q.replace("#","%23");return E+D+F+q+w};v.prototype.resolve=
function(q){return this.resolveObject(k(q,!1,!0)).format()};v.prototype.resolveObject=function(q){if(A.isString(q)){var E=new v;E.parse(q,!1,!0);q=E}E=new v;for(var F=Object.keys(this),w=0;w<F.length;w++){var D=F[w];E[D]=this[D]}E.hash=q.hash;if(""===q.href)return E.href=E.format(),E;if(q.slashes&&!q.protocol){F=Object.keys(q);for(w=0;w<F.length;w++)D=F[w],"protocol"!==D&&(E[D]=q[D]);t[E.protocol]&&E.hostname&&!E.pathname&&(E.path=E.pathname="/");E.href=E.format();return E}if(q.protocol&&q.protocol!==
E.protocol){if(!t[q.protocol]){F=Object.keys(q);for(w=0;w<F.length;w++)D=F[w],E[D]=q[D];E.href=E.format();return E}E.protocol=q.protocol;if(q.host||e[q.protocol])E.pathname=q.pathname;else{for(var G=(q.pathname||"").split("/");G.length&&!(q.host=G.shift()););q.host||(q.host="");q.hostname||(q.hostname="");""!==G[0]&&G.unshift("");2>G.length&&G.unshift("");E.pathname=G.join("/")}E.search=q.search;E.query=q.query;E.host=q.host||"";E.auth=q.auth;E.hostname=q.hostname||q.host;E.port=q.port;if(E.pathname||
E.search)E.path=(E.pathname||"")+(E.search||"");E.slashes=E.slashes||q.slashes;E.href=E.format();return E}F=E.pathname&&"/"===E.pathname.charAt(0);var L=q.host||q.pathname&&"/"===q.pathname.charAt(0),O=F=L||F||E.host&&q.pathname;w=E.pathname&&E.pathname.split("/")||[];G=q.pathname&&q.pathname.split("/")||[];if(D=E.protocol&&!t[E.protocol])E.hostname="",E.port=null,E.host&&(""===w[0]?w[0]=E.host:w.unshift(E.host)),E.host="",q.protocol&&(q.hostname=null,q.port=null,q.host&&(""===G[0]?G[0]=q.host:G.unshift(q.host)),
q.host=null),F=F&&(""===G[0]||""===w[0]);if(L)E.host=q.host||""===q.host?q.host:E.host,E.hostname=q.hostname||""===q.hostname?q.hostname:E.hostname,E.search=q.search,E.query=q.query,w=G;else if(G.length)w||(w=[]),w.pop(),w=w.concat(G),E.search=q.search,E.query=q.query;else if(!A.isNullOrUndefined(q.search))return D&&(E.hostname=E.host=w.shift(),D=E.host&&0<E.host.indexOf("@")?E.host.split("@"):!1)&&(E.auth=D.shift(),E.host=E.hostname=D.shift()),E.search=q.search,E.query=q.query,A.isNull(E.pathname)&&
A.isNull(E.search)||(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:"")),E.href=E.format(),E;if(!w.length)return E.pathname=null,E.path=E.search?"/"+E.search:null,E.href=E.format(),E;L=w.slice(-1)[0];G=(E.host||q.host||1<w.length)&&("."===L||".."===L)||""===L;for(var V=0,S=w.length;0<=S;S--)L=w[S],"."===L?w.splice(S,1):".."===L?(w.splice(S,1),V++):V&&(w.splice(S,1),V--);if(!F&&!O)for(;V--;V)w.unshift("..");!F||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift("");G&&"/"!==w.join("/").substr(-1)&&
w.push("");O=""===w[0]||w[0]&&"/"===w[0].charAt(0);D&&(E.hostname=E.host=O?"":w.length?w.shift():"",D=E.host&&0<E.host.indexOf("@")?E.host.split("@"):!1)&&(E.auth=D.shift(),E.host=E.hostname=D.shift());(F=F||E.host&&w.length)&&!O&&w.unshift("");w.length?E.pathname=w.join("/"):(E.pathname=null,E.path=null);A.isNull(E.pathname)&&A.isNull(E.search)||(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:""));E.auth=q.auth||E.auth;E.slashes=E.slashes||q.slashes;E.href=E.format();return E};v.prototype.parseHost=
function(){var q=this.host,E=m.exec(q);E&&(E=E[0],":"!==E&&(this.port=E.substr(1)),q=q.substr(0,q.length-E.length));q&&(this.hostname=q)}};
shadow$provide[339]=function(ra,z,cb,B){var v=z(330);cb=z(328);var k=z(331),p=z(332),A=z(338);B.request=function(u,m){u="string"===typeof u?A.parse(u):k(u);var l=-1===ra.location.protocol.search(/^https?:$/)?"http:":"";l=u.protocol||l;var f=u.hostname||u.host,g=u.port,d=u.path||"/";f&&-1!==f.indexOf(":")&&(f="["+f+"]");u.url=(f?l+"//"+f:"")+(g?":"+g:"")+d;u.method=(u.method||"GET").toUpperCase();u.headers=u.headers||{};u=new v(u);if(m)u.on("response",m);return u};B.get=function(u,m){u=B.request(u,
m);u.end();return u};B.ClientRequest=v;B.IncomingMessage=cb.IncomingMessage;B.Agent=function(){};B.Agent.defaultMaxSockets=4;B.globalAgent=new B.Agent;B.STATUS_CODES=p;B.METHODS="CHECKOUT CONNECT COPY DELETE GET HEAD LOCK M-SEARCH MERGE MKACTIVITY MKCOL MOVE NOTIFY OPTIONS PATCH POST PROPFIND PROPPATCH PURGE PUT REPORT SEARCH SUBSCRIBE TRACE UNLOCK UNSUBSCRIBE".split(" ")};
shadow$provide[340]=function(ra,z,cb,B){function v(u){"string"===typeof u&&(u=p.parse(u));u.protocol||(u.protocol="https:");if("https:"!==u.protocol)throw Error('Protocol "'+u.protocol+'" not supported. Expected "https:"');return u}var k=z(339),p=z(338);ra=cb.exports;for(var A in k)k.hasOwnProperty(A)&&(ra[A]=k[A]);ra.request=function(u,m){u=v(u);return k.request.call(this,u,m)};ra.get=function(u,m){u=v(u);return k.get.call(this,u,m)}};
shadow$provide[341]=function(ra,z,cb,B){var v=z(21).Buffer;"use strict";ra=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{"default":f}};Object.defineProperty(B,"__esModule",{value:!0});B.HttpClient=void 0;const k=ra(z(339)),p=ra(z(340)),A=ra(z(338));ra=z(305);const u=z(303);class m extends ra.BaseResponse{constructor(f,g){super();this.response=f;this.dataPromise=g}get status(){return this.response.statusCode}getHeader(f){return this.response.headers[f]}getData(){const f=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield f.dataPromise})}}
class l extends ra.BaseClient{constructor(f){super(f);this.parsedUrl=A.default.parse(this.url);this.httpApi="http:"===this.parsedUrl.protocol?k.default:p.default}constructRequest(f,g){return new Promise((d,b)=>{const c=this.httpApi.get(Object.assign({},this.parsedUrl,{headers:f}),a=>{const e=new Promise(t=>{const y=[];a.on("data",q=>{y.push(q)});a.on("end",()=>{const q=v.concat(y).buffer;t(q)});a.on("error",b)});d(new m(a,e))});c.on("error",b);g&&(g.aborted&&c.destroy(new u.AbortError("Request aborted")),
g.addEventListener("abort",()=>c.destroy(new u.AbortError("Request aborted"))))})}request({headers:f,signal:g}={}){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield d.constructRequest(f,g)})}}B.HttpClient=l};
shadow$provide[342]=function(ra,z,cb,B){function v(b,c){var {blockSize:a,cacheSize:e}=c;return null===a?b:new m.BlockedSource(b,{blockSize:a,cacheSize:e})}function k(b,c){var a=void 0===c?{}:c,e=Object.assign({},a);c=void 0===a.headers?{}:a.headers;var t=a.credentials,y=void 0===a.maxRanges?0:a.maxRanges;a=void 0===a.allowFullFile?!1:a.allowFullFile;e=(delete e.headers,delete e.credentials,delete e.maxRanges,delete e.allowFullFile,e);b=new l.FetchClient(b,t);b=new d(b,c,y,a);return v(b,e)}function p(b,
c){var a=void 0===c?{}:c,e=Object.assign({},a);c=void 0===a.headers?{}:a.headers;var t=void 0===a.maxRanges?0:a.maxRanges;a=void 0===a.allowFullFile?!1:a.allowFullFile;e=(delete e.headers,delete e.maxRanges,delete e.allowFullFile,e);b=new f.XHRClient(b);b=new d(b,c,t,a);return v(b,e)}function A(b,c){var a=void 0===c?{}:c,e=Object.assign({},a);c=void 0===a.headers?{}:a.headers;var t=void 0===a.maxRanges?0:a.maxRanges;a=void 0===a.allowFullFile?!1:a.allowFullFile;e=(delete e.headers,delete e.maxRanges,
delete e.allowFullFile,e);b=new g.HttpClient(b);b=new d(b,c,t,a);return v(b,e)}Object.defineProperty(B,"__esModule",{value:!0});B.makeRemoteSource=B.makeHttpSource=B.makeXHRSource=B.makeFetchSource=void 0;const u=z(300);ra=z(301);const m=z(304),l=z(306),f=z(307),g=z(341);class d extends ra.BaseSource{constructor(b,c,a,e){super();this.client=b;this.headers=c;this.maxRanges=a;this.allowFullFile=e;this._fileSize=null}fetch(b,c){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return a.maxRanges>=
b.length?a.fetchSlices(b,c):Promise.all(b.map(e=>a.fetchSlice(e,c)))})}fetchSlices(b,c){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var e=yield a.client.request({headers:Object.assign({},a.headers,{Range:`bytes=${b.map(y=>{var {offset:q,length:E}=y;return`${q}-${q+E}`}).join(",")}`}),signal:c});if(e.ok){if(206===e.status){const {type:y,params:q}=(0,u.parseContentType)(e.getHeader("content-type"));if("multipart/byteranges"===y)return e=(0,u.parseByteRanges)(yield e.getData(),
q.boundary),a._fileSize=e[0].fileSize||null,e;var t=yield e.getData();const {start:E,end:F,total:w}=(0,u.parseContentRange)(e.getHeader("content-range"));a._fileSize=w||null;e=[{data:t,offset:E,length:F-E}];return 1<b.length?(t=yield Promise.all(b.slice(1).map(D=>a.fetchSlice(D,c))),e.concat(t)):e}if(!a.allowFullFile)throw Error("Server responded with full file");e=yield e.getData();a._fileSize=e.byteLength;return[{data:e,offset:0,length:e.byteLength}]}throw Error("Error fetching data.");})}fetchSlice(b,
c){const a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const {offset:e,length:t}=b;var y=yield a.client.request({headers:Object.assign({},a.headers,{Range:`bytes=${e}-${e+t}`}),signal:c});if(y.ok){if(206===y.status){var q=yield y.getData();({total:y}=(0,u.parseContentRange)(y.getHeader("content-range")));a._fileSize=y||null;return{data:q,offset:e,length:t}}if(!a.allowFullFile)throw Error("Server responded with full file");q=yield y.getData();a._fileSize=q.byteLength;return{data:q,
offset:0,length:q.byteLength}}throw Error("Error fetching data.");})}get fileSize(){return this._fileSize}}B.makeFetchSource=k;B.makeXHRSource=p;B.makeHttpSource=A;B.makeRemoteSource=function(b,c){var a=void 0===c?{}:c;c=Object.assign({},a);a=void 0===a.forceXHR?!1:a.forceXHR;c=(delete c.forceXHR,c);return"function"!==typeof fetch||a?"undefined"!==typeof XMLHttpRequest?p(b,c):A(b,c):k(b,c)}};
shadow$provide[343]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.makeBufferSource=void 0;ra=z(301);const v=z(303);class k extends ra.BaseSource{constructor(p){super();this.arrayBuffer=p}fetchSlice(p,A){if(A&&A.aborted)throw new v.AbortError("Request aborted");return this.arrayBuffer.slice(p.offset,p.offset+p.length)}}B.makeBufferSource=function(p){return new k(p)}};
shadow$provide[344]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.makeFileReaderSource=void 0;ra=z(301);class v extends ra.BaseSource{constructor(k){super();this.file=k}fetchSlice(k,p){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise((u,m)=>{const l=A.file.slice(k.offset,k.offset+k.length),f=new FileReader;f.onload=g=>u(g.target.result);f.onerror=m;f.onabort=m;f.readAsArrayBuffer(l);p&&p.addEventListener("abort",()=>f.abort())})})}}
B.makeFileReaderSource=function(k){return new v(k)}};
shadow$provide[345]=function(ra,z,cb,B){};
shadow$provide[346]=function(ra,z,cb,B){function v(l){return new Promise((f,g)=>{u.default.close(l,d=>{d?g(d):f()})})}function k(l,f,g){return new Promise((d,b)=>{u.default.open(l,f,g,(c,a)=>{c?b(c):d(a)})})}function p(...l){return new Promise((f,g)=>{u.default.read(...l,(d,b,c)=>{d?g(d):f({bytesRead:b,buffer:c})})})}var A=z(21).Buffer;"use strict";ra=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{"default":l}};Object.defineProperty(B,"__esModule",{value:!0});B.makeFileSource=void 0;
const u=ra(z(345));z=z(301);class m extends z.BaseSource{constructor(l){super();this.path=l;this.openRequest=k(l,"r")}fetchSlice(l){const f=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var g=yield f.openRequest;({buffer:g}=yield p(g,A.alloc(l.length),0,l.length,l.offset));return g.buffer})}close(){const l=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const f=yield l.openRequest;yield v(f)})}}B.makeFileSource=function(l){return new m(l)}};
shadow$provide[347]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.writeGeotiff=void 0;const v=z(279),k=z(303);ra=(0,k.invert)(v.fieldTagNames);z=(0,k.invert)(v.geoKeyNames);const p={};(0,k.assign)(p,ra);(0,k.assign)(p,z);const A=(0,k.invert)(v.fieldTypeNames),u={nextZero:(b,c)=>{for(;0!==b[c];)c++;return c},readUshort:(b,c)=>b[c]<<8|b[c+1],readShort:(b,c)=>{const a=u.ui8;a[0]=b[c+1];a[1]=b[c+0];return u.i16[0]},readInt:(b,c)=>{const a=u.ui8;a[0]=b[c+3];a[1]=b[c+2];a[2]=b[c+
1];a[3]=b[c+0];return u.i32[0]},readUint:(b,c)=>{const a=u.ui8;a[0]=b[c+3];a[1]=b[c+2];a[2]=b[c+1];a[3]=b[c+0];return u.ui32[0]},readASCII:(b,c,a)=>a.map(e=>String.fromCharCode(b[c+e])).join(""),readFloat:(b,c)=>{const a=u.ui8;(0,k.times)(4,e=>{a[e]=b[c+3-e]});return u.fl32[0]},readDouble:(b,c)=>{const a=u.ui8;(0,k.times)(8,e=>{a[e]=b[c+7-e]});return u.fl64[0]},writeUshort:(b,c,a)=>{b[c]=a>>8&255;b[c+1]=a&255},writeUint:(b,c,a)=>{b[c]=a>>24&255;b[c+1]=a>>16&255;b[c+2]=a>>8&255;b[c+3]=a>>0&255},writeASCII:(b,
c,a)=>{(0,k.times)(a.length,e=>{b[c+e]=a.charCodeAt(e)})},ui8:new Uint8Array(8)};u.fl64=new Float64Array(u.ui8.buffer);u.writeDouble=(b,c,a)=>{u.fl64[0]=a;(0,k.times)(8,e=>{b[c+e]=u.ui8[7-e]})};const m=(b,c,a,e)=>{var t=Object.keys(e).filter(E=>void 0!==E&&null!==E&&"undefined"!==E);b.writeUshort(c,a,t.length);a+=2;let y=a+12*t.length+4;for(const E of t){var q=null;"number"===typeof E?q=E:"string"===typeof E&&(q=parseInt(E,10));t=v.fieldTagTypes[q];const F=A[t];if(null==t||void 0===t||"undefined"===
typeof t)throw Error(`unknown type of tag: ${q}`);let w=e[E];if(void 0===w)throw Error(`failed to get value for key ${E}`);"ASCII"===t&&"string"===typeof w&&!1===(0,k.endsWith)(w,"\x00")&&(w+="\x00");const D=w.length;b.writeUshort(c,a,q);a+=2;b.writeUshort(c,a,F);a+=2;b.writeUint(c,a,D);a+=4;q=[-1,1,1,2,4,8,0,0,0,0,0,0,8][F]*D;let G=a;4<q&&(b.writeUint(c,a,y),G=y);"ASCII"===t?b.writeASCII(c,G,w):"SHORT"===t?(0,k.times)(D,L=>{b.writeUshort(c,G+2*L,w[L])}):"LONG"===t?(0,k.times)(D,L=>{b.writeUint(c,
G+4*L,w[L])}):"RATIONAL"===t?(0,k.times)(D,L=>{b.writeUint(c,G+8*L,Math.round(1E4*w[L]));b.writeUint(c,G+8*L+4,1E4)}):"DOUBLE"===t&&(0,k.times)(D,L=>{b.writeDouble(c,G+8*L,w[L])});4<q&&(q+=q&1,y+=q);a+=4}return[a,y]},l=b=>{const c=new Uint8Array(1E3);var a=4;const e=u;c[0]=77;c[1]=77;c[3]=42;let t=8;e.writeUint(c,a,t);a+=4;b.forEach((y,q)=>{y=m(e,c,t,y);t=y[1];q<b.length-1&&e.writeUint(c,y[0],t)});if(c.slice)return c.slice(0,t).buffer;a=new Uint8Array(t);for(let y=0;y<t;y++)a[y]=c[y];return a.buffer},
f=(b,c,a,e)=>{if(void 0===a||null===a)throw Error(`you passed into encodeImage a width of type ${a}`);if(void 0===c||null===c)throw Error(`you passed into encodeImage a width of type ${c}`);const t={256:[c],257:[a],273:[1E3],278:[a],305:"geotiff.js"};if(e)for(const E in e)e.hasOwnProperty(E)&&(t[E]=e[E]);const y=new Uint8Array(l([t]));b=new Uint8Array(b);const q=new Uint8Array(1E3+c*a*t[277]);(0,k.times)(y.length,E=>{q[E]=y[E]});(0,k.forEach)(b,(E,F)=>{q[1E3+F]=E});return q.buffer},g=b=>{const c=
{};for(const a in b)"StripOffsets"!==a&&(p[a]||console.error(a,"not in name2code:",Object.keys(p)),c[p[a]]=b[a]);return c},d=[["Compression",1],["PlanarConfiguration",1],["ExtraSamples",0]];B.writeGeotiff=function(b,c){let a,e,t,y;"number"===typeof b[0]?(a=c.height||c.ImageLength,t=c.width||c.ImageWidth,e=b.length/(a*t),y=b):(e=b.length,a=b[0].length,t=b[0][0].length,y=[],(0,k.times)(a,E=>{(0,k.times)(t,F=>{(0,k.times)(e,w=>{y.push(b[w][E][F])})})}));c.ImageLength=a;delete c.height;c.ImageWidth=t;
delete c.width;c.BitsPerSample||(c.BitsPerSample=(0,k.times)(e,()=>8));d.forEach(E=>{const F=E[0];c[F]||(c[F]=E[1])});c.PhotometricInterpretation||(c.PhotometricInterpretation=3===c.BitsPerSample.length?2:1);c.SamplesPerPixel||(c.SamplesPerPixel=[e]);c.StripByteCounts||(c.StripByteCounts=[e*a*t]);c.ModelPixelScale||(c.ModelPixelScale=[360/t,180/a,0]);c.SampleFormat||(c.SampleFormat=(0,k.times)(e,()=>1));c.hasOwnProperty("GeographicTypeGeoKey")||c.hasOwnProperty("ProjectedCSTypeGeoKey")||(c.GeographicTypeGeoKey=
4326,c.ModelTiepoint=[0,0,0,-180,90,0],c.GeogCitationGeoKey="WGS 84",c.GTModelTypeGeoKey=2);var q=Object.keys(c).filter(E=>(0,k.endsWith)(E,"GeoKey")).sort((E,F)=>p[E]-p[F]);if(!c.GeoAsciiParams){let E="";q.forEach(F=>{"ASCII"===v.fieldTagTypes[Number(p[F])]&&(E+=`${c[F].toString()}\u0000`)});0<E.length&&(c.GeoAsciiParams=E)}if(!c.GeoKeyDirectory){const E=[1,1,0,q.length];q.forEach(F=>{const w=Number(p[F]);E.push(w);let D,G,L;"SHORT"===v.fieldTagTypes[w]?(D=1,G=0,L=c[F]):"GeogCitationGeoKey"===F?
(D=c.GeoAsciiParams.length,G=Number(p.GeoAsciiParams),L=0):console.log(`[geotiff.js] couldn't get TIFFTagLocation for ${F}`);E.push(G);E.push(D);E.push(L)});c.GeoKeyDirectory=E}for(const E in q)q.hasOwnProperty(E)&&delete c[E];"Compression ExtraSamples GeographicTypeGeoKey GTModelTypeGeoKey GTRasterTypeGeoKey ImageLength ImageWidth Orientation PhotometricInterpretation ProjectedCSTypeGeoKey PlanarConfiguration ResolutionUnit SamplesPerPixel XPosition YPosition".split(" ").forEach(E=>{if(c[E]){var F=
c[E];F=Array.isArray(F)?F:[F];c[E]=F}});q=g(c);return f(y,t,a,q)}};
shadow$provide[348]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.timeEnd=B.time=B.error=B.warn=B.info=B.log=B.debug=B.setLogger=void 0;class v{log(){}debug(){}info(){}warn(){}error(){}time(){}timeEnd(){}}let k=new v;B.setLogger=function(p=new v){k=p};B.debug=function(...p){return k.debug(...p)};B.log=function(...p){return k.log(...p)};B.info=function(...p){return k.info(...p)};B.warn=function(...p){return k.warn(...p)};B.error=function(...p){return k.error(...p)};B.time=
function(...p){return k.time(...p)};B.timeEnd=function(...p){return k.timeEnd(...p)}};
shadow$provide[349]=function(ra,z,cb,B){function v(L){switch(L){case a.fieldTypes.BYTE:case a.fieldTypes.ASCII:case a.fieldTypes.SBYTE:case a.fieldTypes.UNDEFINED:return 1;case a.fieldTypes.SHORT:case a.fieldTypes.SSHORT:return 2;case a.fieldTypes.LONG:case a.fieldTypes.SLONG:case a.fieldTypes.FLOAT:case a.fieldTypes.IFD:return 4;case a.fieldTypes.RATIONAL:case a.fieldTypes.SRATIONAL:case a.fieldTypes.DOUBLE:case a.fieldTypes.LONG8:case a.fieldTypes.SLONG8:case a.fieldTypes.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${L}`);
}}function k(L,O,V,S){let ca,ea;const T=v(O);switch(O){case a.fieldTypes.BYTE:case a.fieldTypes.ASCII:case a.fieldTypes.UNDEFINED:ca=new Uint8Array(V);ea=L.readUint8;break;case a.fieldTypes.SBYTE:ca=new Int8Array(V);ea=L.readInt8;break;case a.fieldTypes.SHORT:ca=new Uint16Array(V);ea=L.readUint16;break;case a.fieldTypes.SSHORT:ca=new Int16Array(V);ea=L.readInt16;break;case a.fieldTypes.LONG:case a.fieldTypes.IFD:ca=new Uint32Array(V);ea=L.readUint32;break;case a.fieldTypes.SLONG:ca=new Int32Array(V);
ea=L.readInt32;break;case a.fieldTypes.LONG8:case a.fieldTypes.IFD8:ca=Array(V);ea=L.readUint64;break;case a.fieldTypes.SLONG8:ca=Array(V);ea=L.readInt64;break;case a.fieldTypes.RATIONAL:ca=new Uint32Array(2*V);ea=L.readUint32;break;case a.fieldTypes.SRATIONAL:ca=new Int32Array(2*V);ea=L.readInt32;break;case a.fieldTypes.FLOAT:ca=new Float32Array(V);ea=L.readFloat32;break;case a.fieldTypes.DOUBLE:ca=new Float64Array(V);ea=L.readFloat64;break;default:throw new RangeError(`Invalid field type: ${O}`);
}if(O!==a.fieldTypes.RATIONAL&&O!==a.fieldTypes.SRATIONAL)for(var R=0;R<V;++R)ca[R]=ea.call(L,S+R*T);else for(R=0;R<V;R+=2)ca[R]=ea.call(L,S+R*T),ca[R+1]=ea.call(L,S+(R*T+4));return O===a.fieldTypes.ASCII?(new TextDecoder("utf-8")).decode(ca):ca}var p=this&&this.__createBinding||(Object.create?function(L,O,V,S){void 0===S&&(S=V);Object.defineProperty(L,S,{enumerable:!0,get:function(){return O[V]}})}:function(L,O,V,S){void 0===S&&(S=V);L[S]=O[V]}),A=this&&this.__setModuleDefault||(Object.create?function(L,
O){Object.defineProperty(L,"default",{enumerable:!0,value:O})}:function(L,O){L["default"]=O});ra=this&&this.__importStar||function(L){if(L&&L.__esModule)return L;var O={};if(null!=L)for(var V in L)"default"!==V&&Object.prototype.hasOwnProperty.call(L,V)&&p(O,L,V);A(O,L);return O};var u=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{"default":L}};Object.defineProperty(B,"__esModule",{value:!0});B.GeoTIFFImage=B.Pool=B.writeArrayBuffer=B.fromUrls=B.fromBlob=B.fromFile=B.fromArrayBuffer=
B.fromUrl=B.MultiGeoTIFF=B.GeoTIFF=B.setLogger=B.addDecoder=B.getDecoder=B.BaseDecoder=B.rgb=B.globals=void 0;const m=u(z(294));B.GeoTIFFImage=m.default;const l=u(z(295)),f=u(z(296));cb=u(z(299));B.Pool=cb.default;const g=z(342),d=z(343),b=z(344),c=z(346),a=z(279),e=z(347);cb=ra(z(279));B.globals=cb;ra=ra(z(280));B.rgb=ra;const t=z(292);Object.defineProperty(B,"getDecoder",{enumerable:!0,get:function(){return t.getDecoder}});Object.defineProperty(B,"addDecoder",{enumerable:!0,get:function(){return t.addDecoder}});
const y=z(348);Object.defineProperty(B,"setLogger",{enumerable:!0,get:function(){return y.setLogger}});var q=z(282);Object.defineProperty(B,"BaseDecoder",{enumerable:!0,get:function(){return u(q).default}});class E{constructor(L,O,V){this.fileDirectory=L;this.geoKeyDirectory=O;this.nextIFDByteOffset=V}}class F extends Error{constructor(L){super(`No image at index ${L}`);this.index=L}}class w{readRasters(L={}){const O=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const {window:V,
width:S,height:ca}=L;let {resX:ea,resY:T,bbox:R}=L;const J=yield O.getImage();var r=J,C=yield O.getImageCount(),N=J.getBoundingBox();if(V&&R)throw Error('Both "bbox" and "window" passed.');if(S||ca){if(V){const [ia,za]=J.getOrigin(),[Wa,hb]=J.getResolution();R=[ia+V[0]*Wa,za+V[1]*hb,ia+V[2]*Wa,za+V[3]*hb]}var U=R||N;if(S){if(ea)throw Error("Both width and resX passed");ea=(U[2]-U[0])/S}if(ca){if(T)throw Error("Both width and resY passed");T=(U[3]-U[1])/ca}}if(ea||T){U=[];for(var ja=0;ja<C;++ja){var ba=
yield O.getImage(ja);const {SubfileType:ia,NewSubfileType:za}=ba.fileDirectory;(0===ja||2===ia||za&1)&&U.push(ba)}U.sort((ia,za)=>ia.getWidth()-za.getWidth());for(C=0;C<U.length&&!(r=U[C],ja=(N[2]-N[0])/r.getWidth(),ba=(N[3]-N[1])/r.getHeight(),ea&&ea>ja||T&&T>ba);++C);}N=V;if(R){const [ia,za]=J.getOrigin(),[Wa,hb]=r.getResolution(J);N=[Math.round((R[0]-ia)/Wa),Math.round((R[1]-za)/hb),Math.round((R[2]-ia)/Wa),Math.round((R[3]-za)/hb)];N=[Math.min(N[0],N[2]),Math.min(N[1],N[3]),Math.max(N[0],N[2]),
Math.max(N[1],N[3])]}return r.readRasters(Object.assign({},L,{window:N}))})}}class D extends w{constructor(L,O,V,S,ca={}){super();this.source=L;this.littleEndian=O;this.bigTiff=V;this.firstIFDOffset=S;this.cache=ca.cache||!1;this.ifdRequests=[];this.ghostValues=null}getSlice(L,O){const V=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const S=V.bigTiff?4048:1024;return new f.default((yield V.source.fetch([{offset:L,length:"undefined"!==typeof O?O:S}]))[0],L,V.littleEndian,V.bigTiff)})}parseFileDirectoryAt(L){const O=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var V=O.bigTiff?20:12;const S=O.bigTiff?8:2;let ca=yield O.getSlice(L);const ea=O.bigTiff?ca.readUint64(L):ca.readUint16(L);var T=ea*V+(O.bigTiff?16:6);ca.covers(L,T)||(ca=yield O.getSlice(L,T));T={};var R=L+(O.bigTiff?8:2);for(var J=0;J<ea;R+=V,++J){var r=ca.readUint16(R),C=ca.readUint16(R+2),N=O.bigTiff?ca.readUint64(R+4):ca.readUint32(R+4),U=void 0;U=v(C);var ja=R+(O.bigTiff?12:8);U*N<=(O.bigTiff?8:4)?U=k(ca,C,N,ja):(U=ca.readOffset(ja),
ja=v(C)*N,ca.covers(U,ja)?U=k(ca,C,N,U):(ja=yield O.getSlice(U,ja),U=k(ja,C,N,U)));C=1===N&&-1===a.arrayFields.indexOf(r)&&C!==a.fieldTypes.RATIONAL&&C!==a.fieldTypes.SRATIONAL?U[0]:U;T[a.fieldTagNames[r]]=C}if(J=T.GeoKeyDirectory)for(R={},r=4;r<=4*J[3];r+=4){C=a.geoKeyNames[J[r]];ja=J[r+1]?a.fieldTagNames[J[r+1]]:null;N=J[r+2];U=J[r+3];if(ja){ja=T[ja];if("undefined"===typeof ja||null===ja)throw Error(`Could not get value of geoKey '${C}'.`);"string"===typeof ja?ja=ja.substring(U,U+N-1):ja.subarray&&
(ja=ja.subarray(U,U+N),1===N&&(ja=ja[0]))}else ja=U;R[C]=ja}else R=null;V=ca.readOffset(L+S+V*ea);return new E(T,R,V)})}requestIFD(L){const O=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(O.ifdRequests[L])return O.ifdRequests[L];if(0===L)return O.ifdRequests[L]=O.parseFileDirectoryAt(O.firstIFDOffset),O.ifdRequests[L];if(!O.ifdRequests[L-1])try{O.ifdRequests[L-1]=O.requestIFD(L-1)}catch(V){if(V instanceof F)throw new F(L);throw V;}O.ifdRequests[L]=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){const V=
yield O.ifdRequests[L-1];if(0===V.nextIFDByteOffset)throw new F(L);return O.parseFileDirectoryAt(V.nextIFDByteOffset)}))();return O.ifdRequests[L]})}getImage(L=0){const O=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const V=yield O.requestIFD(L);return new m.default(V.fileDirectory,V.geoKeyDirectory,O.dataView,O.littleEndian,O.cache,O.source)})}getImageCount(){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let O=0,V=!0;for(;V;)try{yield L.requestIFD(O),
++O}catch(S){if(S instanceof F)V=!1;else throw S;}return O})}getGhostValues(){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var O=L.bigTiff?16:8;if(L.ghostValues)return L.ghostValues;let V=yield L.getSlice(O,130);if("GDAL_STRUCTURAL_METADATA_SIZE\x3d"===k(V,a.fieldTypes.ASCII,30,O)){var S=k(V,a.fieldTypes.ASCII,130,O).split("\n")[0];S=Number(S.split("\x3d")[1].split(" ")[0])+S.length;130<S&&(V=yield L.getSlice(O,S));O=k(V,a.fieldTypes.ASCII,S,O);L.ghostValues={};O.split("\n").filter(ca=>
0<ca.length).map(ca=>ca.split("\x3d")).forEach(([ca,ea])=>{L.ghostValues[ca]=ea})}return L.ghostValues})}static fromSource(L,O,V){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var S=(yield L.fetch([{offset:0,length:1024}],V))[0];S=new l.default(S);var ca=S.getUint16(0,0);if(18761===ca)ca=!0;else if(19789===ca)ca=!1;else throw new TypeError("Invalid byte order value.");var ea=S.getUint16(2,ca);if(42===ea)ea=!1;else if(43===ea){if(ea=!0,8!==S.getUint16(4,ca))throw Error("Unsupported offset byte-size.");
}else throw new TypeError("Invalid magic number.");S=ea?S.getUint64(8,ca):S.getUint32(4,ca);return new D(L,ca,ea,S,O)})}close(){return"function"===typeof this.source.close?this.source.close():!1}}B.GeoTIFF=D;B.default=D;class G extends w{constructor(L,O){super();this.mainFile=L;this.overviewFiles=O;this.imageFiles=[L].concat(O);this.imageCount=this.fileDirectoriesPerFileParsing=this.fileDirectoriesPerFile=null}parseFileDirectoriesPerFile(){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const O=
[L.mainFile.parseFileDirectoryAt(L.mainFile.firstIFDOffset)].concat(L.overviewFiles.map(V=>V.parseFileDirectoryAt(V.firstIFDOffset)));L.fileDirectoriesPerFile=yield Promise.all(O);return L.fileDirectoriesPerFile})}getImage(L=0){const O=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield O.getImageCount();yield O.parseFileDirectoriesPerFile();var V=0;let S=0;for(let ca=0;ca<O.imageFiles.length;ca++){const ea=O.imageFiles[ca];for(let T=0;T<O.imageCounts[ca];T++){if(L===V)return V=
yield ea.requestIFD(S),new m.default(V.fileDirectory,V.geoKeyDirectory,ea.dataView,ea.littleEndian,ea.cache,ea.source);V++;S++}S=0}throw new RangeError("Invalid image index");})}getImageCount(){const L=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(null!==L.imageCount)return L.imageCount;const O=[L.mainFile.getImageCount()].concat(L.overviewFiles.map(V=>V.getImageCount()));L.imageCounts=yield Promise.all(O);L.imageCount=L.imageCounts.reduce((V,S)=>V+S,0);return L.imageCount})}}
B.MultiGeoTIFF=G;B.fromUrl=function(L,O={},V){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return D.fromSource((0,g.makeRemoteSource)(L,O),V)})};B.fromArrayBuffer=function(L,O){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return D.fromSource((0,d.makeBufferSource)(L),O)})};B.fromFile=function(L,O){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return D.fromSource((0,c.makeFileSource)(L),O)})};B.fromBlob=function(L,O){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return D.fromSource((0,b.makeFileReaderSource)(L),
O)})};B.fromUrls=function(L,O=[],V={},S){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ca=yield D.fromSource((0,g.makeRemoteSource)(L,V),S),ea=yield Promise.all(O.map(T=>D.fromSource((0,g.makeRemoteSource)(T,V))));return new G(ca,ea)})};B.writeArrayBuffer=function(L,O){return(0,e.writeGeotiff)(L,O)}};
shadow$provide[350]=function(ra,z,cb,B){function v(F){return F&&F.__esModule?F:{default:F}}function k(F){try{return F.getBoundingBox()}catch(w){return F=F.fileDirectory,[0,0,F.ImageWidth,F.ImageLength]}}function p(F){try{return F.getOrigin().slice(0,2)}catch(w){return[0,F.fileDirectory.ImageLength]}}function A(F,w){try{return F.getResolution(w)[0]}catch(D){return w.fileDirectory.ImageWidth/F.fileDirectory.ImageWidth}}function u(F){var w=F.geoKeys;if(!w)return null;if(w.ProjectedCSTypeGeoKey){F="EPSG:"+
w.ProjectedCSTypeGeoKey;var D=(0,c.get)(F);D||(w=(0,y.fromCode)(w.ProjLinearUnitsGeoKey))&&(D=new c.Projection({code:F,units:w}));return D}return w.GeographicTypeGeoKey?(F="EPSG:"+w.GeographicTypeGeoKey,D=(0,c.get)(F),D||(w=(0,y.fromCode)(w.GeogAngularUnitsGeoKey))&&(D=new c.Projection({code:F,units:w})),D):null}function m(F){return F.getImageCount().then(function(w){for(var D=Array(w),G=0;G<w;++G)D[G]=F.getImage(G);return Promise.all(D)})}function l(F,w){return(F.overviews?(0,b.fromUrls)(F.url,F.overviews,
w):(0,b.fromUrl)(F.url,w)).then(m)}function f(F,w,D,G,L){if(Array.isArray(F)){var O=F.length;if(!Array.isArray(w)||O!=w.length)throw F=Error(G),L(F),F;for(var V=0;V<O;++V)f(F[V],w[V],D,G,L)}else if(Math.abs(F-w)>D*F)throw Error(G);}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(273));var g=v(z(90)),d=v(z(261)),b=z(349),c=z(124),a=z(76),e=z(75),t=z(148),y=z(114),q=function(){var F=function(w,D){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,L){G.__proto__=
L}||function(G,L){for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&(G[O]=L[O])};return F(w,D)};return function(w,D){function G(){this.constructor=w}if("function"!==typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");F(w,D);w.prototype=null===D?Object.create(D):(G.prototype=D.prototype,new G)}}(),E;z=function(F){function w(D){var G=F.call(this,{state:g.default.LOADING,tileGrid:null,projection:null,opaque:D.opaque,transition:D.transition,
interpolate:!1!==D.interpolate,wrapX:D.wrapX})||this;G.sourceInfo_=D.sources;var L=G.sourceInfo_.length;G.sourceOptions_=D.sourceOptions;G.sourceImagery_=Array(L);G.resolutionFactors_=Array(L);G.normalize_=!1!==D.normalize;G.addAlpha_=!1;G.error_=null;G.readMethod_=D.convertToRGB?"readRGB":"readRasters";G.setKey(G.sourceInfo_.map(function(V){return V.url}).join(","));D=Array(L);for(var O=0;O<L;++O)D[O]=l(G.sourceInfo_[O],G.sourceOptions_);Promise.all(D).then(function(V){G.configure_(V)}).catch(function(V){console.error(V);
G.error_=V;G.setState(g.default.ERROR)});return G}q(w,F);w.prototype.getError=function(){return this.error_};w.prototype.configure_=function(D){for(var G,L,O,V,S=Array(D.length),ca=Array(D.length),ea=Array(D.length),T=0,R=D.length,J=function(ja){var ba=D[ja],ia=ba.length,za=void 0,Wa=void 0,hb=Array(ia),Ja=Array(ia);ca[ja]=Array(ia);ea[ja]=Array(ia);for(var qa=0;qa<ia;++qa){var Da=ba[qa],va=Da.getGDALNoData();ea[ja][qa]=Da.getGDALMetadata(0);ca[ja][qa]=null===va?NaN:va;va=r.sourceInfo_[ja].bands;
S[ja]=va?va.length:Da.getSamplesPerPixel();va=ia-(qa+1);za||(za=k(Da));Wa||(Wa=p(Da));Ja[va]=A(Da,ba[0]);hb[va]=[Da.getTileWidth(),Da.getTileHeight()]}G?(0,e.getIntersection)(G,za,G):G=za;L?(ia="Origin mismatch for source ".concat(ja,", got [").concat(Wa,"] but expected [").concat(L,"]"),f(L,Wa,0,ia,r.viewRejector)):L=Wa;if(V){V.length-T>Ja.length&&(T=V.length-Ja.length);var sa=V[V.length-1]/Ja[Ja.length-1];r.resolutionFactors_[ja]=sa;Wa=Ja.map(function(xa){return xa*sa});ia="Resolution mismatch for source ".concat(ja,
", got [").concat(Wa,"] but expected [").concat(V,"]");f(V.slice(T,V.length),Wa,.02,ia,r.viewRejector)}else V=Ja,r.resolutionFactors_[ja]=1;O?f(O.slice(T,O.length),hb,0,"Tile size mismatch for source ".concat(ja),r.viewRejector):O=hb;r.sourceImagery_[ja]=ba.reverse()},r=this,C=0;C<R;++C)J(C);J=0;for(C=this.sourceImagery_.length;J<C;++J)for(var N=this.sourceImagery_[J];N.length<V.length;)N.unshift(void 0);if(!this.getProjection())for(C=D[0],J=C.length-1;0<=J;--J)if(N=u(C[J])){this.projection=N;break}this.samplesPerPixel_=
S;this.nodataValues_=ca;this.metadata_=ea;C=0;a:for(;C<R;++C){if(void 0!==this.sourceInfo_[C].nodata){this.addAlpha_=!0;break}N=ca[C];var U=this.sourceInfo_[C].bands;if(U)for(J=0;J<U.length;++J){if(!isNaN(N[U[J]-1])){this.addAlpha_=!0;break a}}else for(J=0;J<N.length;++J)if(!isNaN(N[J])){this.addAlpha_=!0;break a}}R=this.addAlpha_?1:0;this.bandCount=S.reduce(function(ja,ba){return ja+ba},0)+R;this.tileGrid=new d.default({extent:G,minZoom:T,origin:L,resolutions:V,tileSizes:O});this.setLoader(this.loadTile_.bind(this));
this.setState(g.default.READY);this.viewResolver({projection:this.projection,resolutions:V,center:(0,c.toUserCoordinate)((0,e.getCenter)(G),this.projection),extent:(0,c.toUserExtent)(G,this.projection),zoom:0})};w.prototype.loadTile_=function(D,G,L){for(var O=(0,t.toSize)(this.tileGrid.getTileSize(D)),V=this.sourceImagery_.length,S=Array(V),ca=this.addAlpha_,ea=this.bandCount,T=this.samplesPerPixel_,R=this.nodataValues_,J=this.sourceInfo_,r=function(za){var Wa=J[za],hb=C.resolutionFactors_[za];hb=
[Math.round(G*O[0]*hb),Math.round(L*O[1]*hb),Math.round((G+1)*O[0]*hb),Math.round((L+1)*O[1]*hb)];var Ja=C.sourceImagery_[za][D],qa=void 0;Wa.bands&&(qa=Wa.bands.map(function(xa){return xa-1}));var Da=void 0;Da=isNaN(Wa.nodata)?qa?qa.map(function(xa){return R[za][xa]}):R[za]:Wa.nodata;Wa=Ja[C.readMethod_];var va=O[0],sa=O[1];E||(E=new b.Pool);S[za]=Wa.call(Ja,{window:hb,width:va,height:sa,samples:qa,fillValue:Da,pool:E,interleave:!1})},C=this,N=0;N<V;++N)r(N);var U=O[0]*O[1],ja=U*ea,ba=this.normalize_,
ia=this.metadata_;return Promise.all(S).then(function(za){var Wa=ba?new Uint8Array(ja):new Float32Array(ja);for(var hb=0,Ja=0;Ja<U;++Ja){for(var qa=ca,Da=0;Da<V;++Da){var va=J[Da],sa=va.min,xa=va.max,ma=void 0,Ea=void 0;ba&&(ma=ia[Da][0],void 0===sa&&(ma&&"STATISTICS_MINIMUM"in ma?Ea=parseFloat(ma.STATISTICS_MINIMUM):(Ea=za[Da][0],Ea=Ea instanceof Int8Array?-128:Ea instanceof Int16Array?-32768:Ea instanceof Int32Array?-2147483648:Ea instanceof Float32Array?1.2E-38:0),sa=Ea),void 0===xa&&(ma&&"STATISTICS_MAXIMUM"in
ma?ma=parseFloat(ma.STATISTICS_MAXIMUM):(ma=za[Da][0],ma=ma instanceof Int8Array?127:ma instanceof Uint8Array||ma instanceof Uint8ClampedArray?255:ma instanceof Int16Array?32767:ma instanceof Uint16Array?65535:ma instanceof Int32Array?2147483647:ma instanceof Uint32Array?4294967295:ma instanceof Float32Array?3.4E38:255),xa=ma),ma=255/(xa-sa),Ea=-sa*ma);for(sa=0;sa<T[Da];++sa){xa=za[Da][sa][Ja];var Ua=ba?(0,a.clamp)(ma*xa+Ea,0,255):xa;if(ca){var ab=va.nodata;void 0===ab&&(ab=R[Da][va.bands?va.bands[sa]-
1:sa]);xa!==ab&&(qa=!1,Wa[hb]=Ua)}else Wa[hb]=Ua;hb++}}ca&&(qa||(Wa[hb]=255),hb++)}return Wa})};return w}(ra.default);B.default=z};
shadow$provide[351]=function(ra,z,cb,B){function v(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.CustomTile=void 0;var k=z(117);ra=v(z(251));var p=v(z(261));cb=v(z(266));var A=v(z(111)),u=z(71),m=z(97),l=z(264),f=z(75),g=z(148),d=function(){var c=function(a,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,y){t.__proto__=y}||function(t,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(t[q]=y[q])};return c(a,e)};
return function(a,e){function t(){this.constructor=a}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c(a,e);a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),b=function(c){function a(e,t,y,q,E,F,w){t=c.call(this,t,y,q,E,F,w)||this;t.zoomifyImage_=null;t.tileSize_=e;return t}d(a,c);a.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var e=c.prototype.getImage.call(this);if(this.state==
A.default.LOADED){var t=this.tileSize_;if(e.width==t[0]&&e.height==t[1])return this.zoomifyImage_=e;t=(0,m.createCanvasContext2D)(t[0],t[1]);t.drawImage(e,0,0);return this.zoomifyImage_=t.canvas}return e};return a}(ra.default);B.CustomTile=b;z=function(c){function a(e){var t=this;t=void 0!==e.imageSmoothing?e.imageSmoothing:!0;void 0!==e.interpolate&&(t=e.interpolate);var y=e.size,q=e.tilePixelRatio||1,E=y[0],F=y[1],w=[],D=e.tileSize||k.DEFAULT_TILE_SIZE;y=D*q;switch(void 0!==e.tierSizeCalculation?
e.tierSizeCalculation:"default"){case "default":for(;E>y||F>y;)w.push([Math.ceil(E/y),Math.ceil(F/y)]),y+=y;break;case "truncated":for(var G=E,L=F;G>y||L>y;)w.push([Math.ceil(G/y),Math.ceil(L/y)]),G>>=1,L>>=1;break;default:(0,u.assert)(!1,53)}w.push([1,1]);w.reverse();y=[q];var O=[0];G=1;for(L=w.length;G<L;G++)y.push(q<<G),O.push(w[G-1][0]*w[G-1][1]+O[G-1]);y.reverse();E=new p.default({tileSize:D,extent:e.extent||[0,-F,E,0],resolutions:y});(F=e.url)&&-1==F.indexOf("{TileGroup}")&&-1==F.indexOf("{tileIndex}")&&
(F+="{TileGroup}/{z}-{x}-{y}.jpg");F=(0,l.expandUrl)(F);var V=D*q;F=(0,l.createFromTileUrlFunctions)(F.map(function(S){return function(ca,ea,T){if(ca){ea=ca[0];T=ca[1];ca=ca[2];var R=T+ca*w[ea][0],J={z:ea,x:T,y:ca,tileIndex:R,TileGroup:"TileGroup"+((R+O[ea])/V|0)};return S.replace(/\{(\w+?)\}/g,function(r,C){return J[C]})}}}));G=b.bind(null,(0,g.toSize)(D*q));t=c.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:t,projection:e.projection,tilePixelRatio:q,
reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:G,tileGrid:E,tileUrlFunction:F,transition:e.transition})||this;t.zDirection=e.zDirection;e=E.getTileCoordForCoordAndResolution((0,f.getCenter)(E.getExtent()),y[y.length-1]);e=F(e,1,null);q=new Image;q.addEventListener("error",function(){V=D;this.changed()}.bind(t));q.src=e;return t}d(a,c);return a}(cb.default);B.default=z};
shadow$provide[352]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=B.Versions=void 0;var v=z(71),k=z(66),p=function(d,b,c){if(c||2===arguments.length)for(var a=0,e=b.length,t;a<e;a++)!t&&a in b||(t||(t=Array.prototype.slice.call(b,0,a)),t[a]=b[a]);return d.concat(t||Array.prototype.slice.call(b))},A={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};B.Versions=A;var u={};u[A.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx",
"sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};u[A.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["default","bitonal"]}};u[A.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};u.none={none:{supports:[],formats:[],qualities:[]}};var m=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,
l=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,f=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,g={};g[A.VERSION1]=function(d){var b=d.getComplianceLevelSupportedFeatures();void 0===b&&(b=u[A.VERSION1].level0);return{url:void 0===d.imageInfo["@id"]?void 0:d.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:b.supports,formats:p(p([],b.formats,!0),[void 0===d.imageInfo.formats?[]:d.imageInfo.formats],!1),qualities:p(p([],b.qualities,!0),[void 0===
d.imageInfo.qualities?[]:d.imageInfo.qualities],!1),resolutions:d.imageInfo.scale_factors,tileSize:void 0!==d.imageInfo.tile_width?void 0!==d.imageInfo.tile_height?[d.imageInfo.tile_width,d.imageInfo.tile_height]:[d.imageInfo.tile_width,d.imageInfo.tile_width]:void 0!=d.imageInfo.tile_height?[d.imageInfo.tile_height,d.imageInfo.tile_height]:void 0}};g[A.VERSION2]=function(d){var b=d.getComplianceLevelSupportedFeatures(),c=Array.isArray(d.imageInfo.profile)&&1<d.imageInfo.profile.length,a=c&&d.imageInfo.profile[1].supports?
d.imageInfo.profile[1].supports:[],e=c&&d.imageInfo.profile[1].formats?d.imageInfo.profile[1].formats:[];c=c&&d.imageInfo.profile[1].qualities?d.imageInfo.profile[1].qualities:[];return{url:d.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===d.imageInfo.sizes?void 0:d.imageInfo.sizes.map(function(t){return[t.width,t.height]}),tileSize:void 0===d.imageInfo.tiles?void 0:[d.imageInfo.tiles.map(function(t){return t.width})[0],d.imageInfo.tiles.map(function(t){return void 0===t.height?
t.width:t.height})[0]],resolutions:void 0===d.imageInfo.tiles?void 0:d.imageInfo.tiles.map(function(t){return t.scaleFactors})[0],supports:p(p([],b.supports,!0),a,!0),formats:p(p([],b.formats,!0),e,!0),qualities:p(p([],b.qualities,!0),c,!0)}};g[A.VERSION3]=function(d){var b=d.getComplianceLevelSupportedFeatures(),c=void 0===d.imageInfo.extraFormats?b.formats:p(p([],b.formats,!0),d.imageInfo.extraFormats,!0),a=void 0!==d.imageInfo.preferredFormats&&Array.isArray(d.imageInfo.preferredFormats)&&0<d.imageInfo.preferredFormats.length?
d.imageInfo.preferredFormats.filter(function(e){return(0,k.includes)(["jpg","png","gif"],e)}).reduce(function(e,t){return void 0===e&&(0,k.includes)(c,t)?t:e},void 0):void 0;return{url:d.imageInfo.id,sizes:void 0===d.imageInfo.sizes?void 0:d.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===d.imageInfo.tiles?void 0:[d.imageInfo.tiles.map(function(e){return e.width})[0],d.imageInfo.tiles.map(function(e){return e.height})[0]],resolutions:void 0===d.imageInfo.tiles?void 0:
d.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:void 0===d.imageInfo.extraFeatures?b.supports:p(p([],b.supports,!0),d.imageInfo.extraFeatures,!0),formats:c,qualities:void 0===d.imageInfo.extraQualities?b.qualities:p(p([],b.qualities,!0),d.imageInfo.extraQualities,!0),preferredFormat:a}};ra=function(){function d(b){this.setImageInfo(b)}d.prototype.setImageInfo=function(b){this.imageInfo="string"==typeof b?JSON.parse(b):b};d.prototype.getImageApiVersion=function(){if(void 0!==
this.imageInfo){var b=this.imageInfo["@context"]||"ol-no-context";"string"==typeof b&&(b=[b]);for(var c=0;c<b.length;c++)switch(b[c]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return A.VERSION1;case "http://iiif.io/api/image/2/context.json":return A.VERSION2;case "http://iiif.io/api/image/3/context.json":return A.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(A.VERSION1)&&this.imageInfo.identifier)return A.VERSION1}(0,v.assert)(!1,
61)}};d.prototype.getComplianceLevelEntryFromProfile=function(b){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===b&&(b=this.getImageApiVersion()),b){case A.VERSION1:if(m.test(this.imageInfo.profile))return this.imageInfo.profile;break;case A.VERSION3:if(f.test(this.imageInfo.profile))return this.imageInfo.profile;break;case A.VERSION2:if("string"===typeof this.imageInfo.profile&&l.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&
0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&l.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}};d.prototype.getComplianceLevelFromProfile=function(b){b=this.getComplianceLevelEntryFromProfile(b);if(void 0!==b)return b=b.match(/level[0-2](?:\.json)?$/g),Array.isArray(b)?b[0].replace(".json",""):void 0};d.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var b=this.getImageApiVersion(),c=this.getComplianceLevelFromProfile(b);
return void 0===c?u.none.none:u[b][c]}};d.prototype.getTileSourceOptions=function(b){b=b||{};var c=this.getImageApiVersion();if(void 0!==c){var a=void 0===c?void 0:g[c](this);if(void 0!==a)return{url:a.url,version:c,size:[this.imageInfo.width,this.imageInfo.height],sizes:a.sizes,format:void 0!==b.format&&(0,k.includes)(a.formats,b.format)?b.format:void 0!==a.preferredFormat?a.preferredFormat:"jpg",supports:a.supports,quality:b.quality&&(0,k.includes)(a.qualities,b.quality)?b.quality:(0,k.includes)(a.qualities,
"native")?"native":"default",resolutions:Array.isArray(a.resolutions)?a.resolutions.sort(function(e,t){return t-e}):void 0,tileSize:a.tileSize}}};return d}();B.default=ra};
shadow$provide[353]=function(ra,z,cb,B){function v(c){return c&&c.__esModule?c:{default:c}}function k(c){return c.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=v(z(261));ra=v(z(266));var A=z(351),u=z(117),m=z(352),l=z(71),f=z(75),g=z(66),d=z(148),b=function(){var c=function(a,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,y){t.__proto__=y}||function(t,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,
q)&&(t[q]=y[q])};return c(a,e)};return function(a,e){function t(){this.constructor=a}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c(a,e);a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}();z=function(c){function a(e){var t=this;e=e||{};t=void 0!==e.imageSmoothing?e.imageSmoothing:!0;void 0!==e.interpolate&&(t=e.interpolate);var y=e.url||"";y+=y.lastIndexOf("/")===y.length-1||""===y?"":"/";var q=e.version||
m.Versions.VERSION2,E=e.sizes||[],F=e.size;(0,l.assert)(void 0!=F&&Array.isArray(F)&&2==F.length&&!isNaN(F[0])&&0<F[0]&&!isNaN(F[1])&&0<F[1],60);var w=F[0],D=F[1];F=e.tileSize;var G=e.tilePixelRatio||1,L=e.format||"jpg",O=e.quality||(e.version==m.Versions.VERSION1?"native":"default"),V=e.resolutions||[],S=e.supports||[],ca=e.extent||[0,-D,w,0],ea=void 0!=E&&Array.isArray(E)&&0<E.length,T=void 0!==F&&("number"===typeof F&&Number.isInteger(F)&&0<F||Array.isArray(F)&&0<F.length),R=void 0!=S&&Array.isArray(S)&&
((0,g.includes)(S,"regionByPx")||(0,g.includes)(S,"regionByPct"))&&((0,g.includes)(S,"sizeByWh")||(0,g.includes)(S,"sizeByH")||(0,g.includes)(S,"sizeByW")||(0,g.includes)(S,"sizeByPct")),J,r;V.sort(function(ba,ia){return ia-ba});if(T||R){if(void 0!=F)if("number"===typeof F&&Number.isInteger(F)&&0<F)var C=J=F;else if(Array.isArray(F)&&0<F.length){if(1==F.length||void 0==F[1]&&Number.isInteger(F[0]))J=F[0],C=F[0];2==F.length&&(Number.isInteger(F[0])&&Number.isInteger(F[1])?(J=F[0],C=F[1]):void 0==F[0]&&
Number.isInteger(F[1])&&(J=F[1],C=F[1]))}if(void 0===J||void 0===C)C=J=u.DEFAULT_TILE_SIZE;if(0==V.length)for(var N=r=Math.max(Math.ceil(Math.log(w/J)/Math.LN2),Math.ceil(Math.log(D/C)/Math.LN2));0<=N;N--)V.push(Math.pow(2,N));else N=Math.max.apply(Math,V),r=Math.round(Math.log(N)/Math.LN2)}else if(J=w,C=D,V=[],ea){E.sort(function(ba,ia){return ba[0]-ia[0]});r=-1;var U=[];for(N=0;N<E.length;N++){var ja=w/E[N][0];0<V.length&&V[V.length-1]==ja?U.push(N):(V.push(ja),r++)}if(0<U.length)for(N=0;N<U.length;N++)E.splice(U[N]-
N,1)}else V.push(1),E.push([w,D]),r=0;ca=new p.default({tileSize:[J,C],extent:ca,origin:(0,f.getTopLeft)(ca),resolutions:V});F=A.CustomTile.bind(null,(0,d.toSize)(F||256).map(function(ba){return ba*G}));t=c.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:t,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:e.state,tileClass:F,tileGrid:ca,tilePixelRatio:e.tilePixelRatio,
tileUrlFunction:function(ba,ia,za){var Wa;ia=ba[0];if(!(ia>r)){za=ba[1];var hb=ba[2];ba=V[ia];if(!(void 0===za||void 0===hb||void 0===ba||0>za||Math.ceil(w/ba/J)<=za||0>hb||Math.ceil(D/ba/C)<=hb)){if(R||T){var Ja=za*J*ba,qa=hb*C*ba,Da=J*ba;hb=C*ba;ia=J;za=C;Ja+Da>w&&(Da=w-Ja);qa+hb>D&&(hb=D-qa);Ja+J*ba>w&&(ia=Math.floor((w-Ja+ba-1)/ba));qa+C*ba>D&&(za=Math.floor((D-qa+ba-1)/ba));if(0==Ja&&Da==w&&0==qa&&hb==D)var va="full";else!R||(0,g.includes)(S,"regionByPx")?va=Ja+","+qa+","+Da+","+hb:(0,g.includes)(S,
"regionByPct")&&(va=k(Ja/w*100),Ja=k(qa/D*100),Da=k(Da/w*100),hb=k(hb/D*100),va="pct:"+va+","+Ja+","+Da+","+hb);q!=m.Versions.VERSION3||R&&!(0,g.includes)(S,"sizeByWh")?!R||(0,g.includes)(S,"sizeByW")?Wa=ia+",":(0,g.includes)(S,"sizeByH")?Wa=","+za:(0,g.includes)(S,"sizeByWh")?Wa=ia+","+za:(0,g.includes)(S,"sizeByPct")&&(Wa="pct:"+k(100/ba)):Wa=ia+","+za}else va="full",ea?(Wa=E[ia][0],ba=E[ia][1],Wa=q==m.Versions.VERSION3?Wa==w&&ba==D?"max":Wa+","+ba:Wa==w?"full":Wa+","):Wa=q==m.Versions.VERSION3?
"max":"full";return y+va+"/"+Wa+"/0/"+O+"."+L}}},transition:e.transition})||this;t.zDirection=e.zDirection;return t}b(a,c);return a}(ra.default);B.default=z};
shadow$provide[354]=function(ra,z,cb,B){function v(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=z(252),p=v(z(83));ra=v(z(221));var A=v(z(193)),u=v(z(253)),m=z(255),l=z(75),f=z(84),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=
b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();z=function(d){function b(c,a,e,t,y,q,E){var F,w=c.getExtent(),D=(F=a.getExtent())?(0,l.getIntersection)(e,F):e;F=(0,l.getCenter)(D);F=(0,m.calculateSourceResolution)(c,a,F,t);c=new u.default(c,a,D,w,F*k.ERROR_THRESHOLD,t);D=c.calculateSourceExtent();F=(y=q(D,F,y))?A.default.IDLE:A.default.EMPTY;q=
y?y.getPixelRatio():1;F=d.call(this,e,t,q,F)||this;F.targetProj_=a;F.maxSourceExtent_=w;F.triangulation_=c;F.targetResolution_=t;F.targetExtent_=e;F.sourceImage_=y;F.sourcePixelRatio_=q;F.interpolate_=E;F.canvas_=null;F.sourceListenerKey_=null;return F}g(b,d);b.prototype.disposeInternal=function(){this.state==A.default.LOADING&&this.unlistenSource_();d.prototype.disposeInternal.call(this)};b.prototype.getImage=function(){return this.canvas_};b.prototype.getProjection=function(){return this.targetProj_};
b.prototype.reproject_=function(){var c=this.sourceImage_.getState();if(c==A.default.LOADED){var a=(0,l.getWidth)(this.targetExtent_)/this.targetResolution_,e=(0,l.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,m.render)(a,e,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=
c;this.changed()};b.prototype.load=function(){if(this.state==A.default.IDLE){this.state=A.default.LOADING;this.changed();var c=this.sourceImage_.getState();c==A.default.LOADED||c==A.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,f.listen)(this.sourceImage_,p.default.CHANGE,function(a){a=this.sourceImage_.getState();if(a==A.default.LOADED||a==A.default.ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};b.prototype.unlistenSource_=function(){(0,f.unlistenByKey)(this.sourceListenerKey_);
this.sourceListenerKey_=null};return b}(ra.default);B.default=z};
shadow$provide[355]=function(ra,z,cb,B){function v(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(B,"__esModule",{value:!0});B.defaultImageLoadFunction=function(c,a){c.getImage().src=a};B.default=B.ImageSourceEvent=B.ImageSourceEventType=void 0;ra=v(z(79));var k=v(z(193)),p=v(z(354));cb=v(z(232));var A=z(252),u=z(68),m=z(75),l=z(124),f=z(66),g=function(){var c=function(a,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,y){t.__proto__=y}||function(t,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,
q)&&(t[q]=y[q])};return c(a,e)};return function(a,e){function t(){this.constructor=a}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c(a,e);a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),d={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};B.ImageSourceEventType=d;var b=function(c){function a(e,t){e=c.call(this,e)||this;e.image=t;return e}g(a,c);return a}(ra.default);
B.ImageSourceEvent=b;z=function(c){function a(e){var t=void 0!==e.imageSmoothing?e.imageSmoothing:!0;void 0!==e.interpolate&&(t=e.interpolate);t=c.call(this,{attributions:e.attributions,projection:e.projection,state:e.state,interpolate:t})||this;t.resolutions_=void 0!==e.resolutions?e.resolutions:null;t.reprojectedImage_=null;t.reprojectedRevision_=0;return t}g(a,c);a.prototype.getResolutions=function(){return this.resolutions_};a.prototype.findNearestResolution=function(e){this.resolutions_&&(e=
(0,f.linearFindNearest)(this.resolutions_,e,0),e=this.resolutions_[e]);return e};a.prototype.getImage=function(e,t,y,q){var E=this.getProjection();if(A.ENABLE_RASTER_REPROJECTION&&E&&q&&!(0,l.equivalent)(E,q)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,l.equivalent)(this.reprojectedImage_.getProjection(),q)&&this.reprojectedImage_.getResolution()==t&&(0,m.equals)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose();
this.reprojectedImage_=null}this.reprojectedImage_=new p.default(E,q,e,t,y,function(F,w,D){return this.getImageInternal(F,w,D,E)}.bind(this),this.getInterpolate());this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}E&&(q=E);return this.getImageInternal(e,t,y,q)};a.prototype.getImageInternal=function(e,t,y,q){return(0,u.abstract)()};a.prototype.handleImageChange=function(e){e=e.target;switch(e.getState()){case k.default.LOADING:this.loading=!0;var t=d.IMAGELOADSTART;break;case k.default.LOADED:this.loading=
!1;t=d.IMAGELOADEND;break;case k.default.ERROR:this.loading=!1;t=d.IMAGELOADERROR;break;default:return}this.hasListener(t)&&this.dispatchEvent(new b(t,e))};return a}(cb.default);B.default=z};
shadow$provide[356]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.appendParams=function(v,k){var p=[];Object.keys(k).forEach(function(u){null!==k[u]&&void 0!==k[u]&&p.push(u+"\x3d"+encodeURIComponent(k[u]))});var A=p.join("\x26");v=v.replace(/[?&]$/,"");v=-1===v.indexOf("?")?v+"?":v+"\x26";return v+A}};
shadow$provide[357]=function(ra,z,cb,B){function v(b){if("function"!==typeof WeakMap)return null;var c=new WeakMap,a=new WeakMap;return(v=function(e){return e?a:c})(b)}function k(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=k(z(83)),A=function(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!==typeof b&&"function"!==typeof b)return{default:b};if((c=v(c))&&c.has(b))return c.get(b);var a={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,
t;for(t in b)if("default"!==t&&Object.prototype.hasOwnProperty.call(b,t)){var y=e?Object.getOwnPropertyDescriptor(b,t):null;y&&(y.get||y.set)?Object.defineProperty(a,t,y):a[t]=b[t]}a.default=b;c&&c.set(b,a);return a}(z(355)),u=k(z(222)),m=z(356),l=z(71),f=z(81),g=z(75),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,
a){function e(){this.constructor=c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();ra=function(b){function c(a){a=a?a:{};var e=void 0!==a.imageSmoothing?a.imageSmoothing:!0;void 0!==a.interpolate&&(e=a.interpolate);e=b.call(this,{attributions:a.attributions,interpolate:e,projection:a.projection,resolutions:a.resolutions})||this;e.crossOrigin_=void 0!==
a.crossOrigin?a.crossOrigin:null;e.hidpi_=void 0!==a.hidpi?a.hidpi:!0;e.url_=a.url;e.imageLoadFunction_=void 0!==a.imageLoadFunction?a.imageLoadFunction:A.defaultImageLoadFunction;e.params_=a.params||{};e.image_=null;e.imageSize_=[0,0];e.renderedRevision_=0;e.ratio_=void 0!==a.ratio?a.ratio:1.5;return e}d(c,b);c.prototype.getParams=function(){return this.params_};c.prototype.getImageInternal=function(a,e,t,y){if(void 0===this.url_)return null;e=this.findNearestResolution(e);t=this.hidpi_?t:1;var q=
this.image_;if(q&&this.renderedRevision_==this.getRevision()&&q.getResolution()==e&&q.getPixelRatio()==t&&(0,g.containsExtent)(q.getExtent(),a))return q;q={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,f.assign)(q,this.params_);a=a.slice();var E=(a[0]+a[2])/2,F=(a[1]+a[3])/2;if(1!=this.ratio_){var w=this.ratio_*(0,g.getWidth)(a)/2,D=this.ratio_*(0,g.getHeight)(a)/2;a[0]=E-w;a[1]=F-D;a[2]=E+w;a[3]=F+D}w=e/t;D=Math.ceil((0,g.getWidth)(a)/w);var G=Math.ceil((0,g.getHeight)(a)/w);a[0]=E-w*D/2;a[2]=E+w*
D/2;a[1]=F-w*G/2;a[3]=F+w*G/2;this.imageSize_[0]=D;this.imageSize_[1]=G;y=this.getRequestUrl_(a,this.imageSize_,t,y,q);this.image_=new u.default(a,e,t,y,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this));return this.image_};c.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};c.prototype.getRequestUrl_=function(a,e,t,y,q){y=y.getCode().split(/:(?=\d+$)/).pop();
q.SIZE=e[0]+","+e[1];q.BBOX=a.join(",");q.BBOXSR=y;q.IMAGESR=y;q.DPI=Math.round(90*t);a=this.url_;e=a.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");e==a&&(0,l.assert)(!1,50);return(0,m.appendParams)(e,q)};c.prototype.getUrl=function(){return this.url_};c.prototype.setImageLoadFunction=function(a){this.image_=null;this.imageLoadFunction_=a;this.changed()};c.prototype.setUrl=function(a){a!=this.url_&&(this.url_=a,this.image_=null,this.changed())};c.prototype.updateParams=
function(a){(0,f.assign)(this.params_,a);this.image_=null;this.changed()};return c}(A.default);B.default=ra};
shadow$provide[358]=function(ra,z,cb,B){function v(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(221));var k=v(z(193)),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m,l,f,g,d){m=A.call(this,m,l,f,void 0!==d?k.default.IDLE:k.default.LOADED)||this;m.loader_=void 0!==d?d:null;m.canvas_=g;m.error_=null;return m}p(u,A);u.prototype.getError=function(){return this.error_};u.prototype.handleLoad_=function(m){m?(this.error_=m,this.state=k.default.ERROR):this.state=k.default.LOADED;this.changed()};u.prototype.load=function(){this.state==
k.default.IDLE&&(this.state=k.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))};u.prototype.getImage=function(){return this.canvas_};return u}(ra.default);B.default=z};
shadow$provide[359]=function(ra,z,cb,B){function v(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(358));ra=v(z(355));var p=z(75),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==
l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();z=function(u){function m(l){l=l?l:{};var f=void 0!==l.imageSmoothing?l.imageSmoothing:!0;void 0!==l.interpolate&&(f=l.interpolate);f=u.call(this,{attributions:l.attributions,interpolate:f,projection:l.projection,resolutions:l.resolutions,state:l.state})||this;f.canvasFunction_=l.canvasFunction;f.canvas_=null;f.renderedRevision_=0;
f.ratio_=void 0!==l.ratio?l.ratio:1.5;return f}A(m,u);m.prototype.getImageInternal=function(l,f,g,d){f=this.findNearestResolution(f);var b=this.canvas_;if(b&&this.renderedRevision_==this.getRevision()&&b.getResolution()==f&&b.getPixelRatio()==g&&(0,p.containsExtent)(b.getExtent(),l))return b;l=l.slice();(0,p.scaleFromCenter)(l,this.ratio_);var c=(0,p.getWidth)(l)/f,a=(0,p.getHeight)(l)/f;(d=this.canvasFunction_.call(this,l,f,g,[c*g,a*g],d))&&(b=new k.default(l,f,g,d));this.canvas_=b;this.renderedRevision_=
this.getRevision();return b};return m}(ra.default);B.default=z};
shadow$provide[360]=function(ra,z,cb,B){function v(d){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(v=function(a){return a?c:b})(d)}function k(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=k(z(83)),A=function(d,b){if(!b&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((b=v(b))&&b.has(d))return b.get(d);var c={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,
e;for(e in d)if("default"!==e&&Object.prototype.hasOwnProperty.call(d,e)){var t=a?Object.getOwnPropertyDescriptor(d,e):null;t&&(t.get||t.set)?Object.defineProperty(c,e,t):c[e]=d[e]}c.default=d;b&&b.set(d,c);return c}(z(355)),u=k(z(222)),m=z(356),l=z(81),f=z(75),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=
b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();ra=function(d){function b(c){var a=void 0!==c.imageSmoothing?c.imageSmoothing:!0;void 0!==c.interpolate&&(a=c.interpolate);a=d.call(this,{interpolate:a,projection:c.projection,resolutions:c.resolutions})||this;a.crossOrigin_=void 0!==c.crossOrigin?c.crossOrigin:null;a.displayDpi_=void 0!==c.displayDpi?
c.displayDpi:96;a.params_=c.params||{};a.url_=c.url;a.imageLoadFunction_=void 0!==c.imageLoadFunction?c.imageLoadFunction:A.defaultImageLoadFunction;a.hidpi_=void 0!==c.hidpi?c.hidpi:!0;a.metersPerUnit_=void 0!==c.metersPerUnit?c.metersPerUnit:1;a.ratio_=void 0!==c.ratio?c.ratio:1;a.useOverlay_=void 0!==c.useOverlay?c.useOverlay:!1;a.image_=null;a.renderedRevision_=0;return a}g(b,d);b.prototype.getParams=function(){return this.params_};b.prototype.getImageInternal=function(c,a,e,t){a=this.findNearestResolution(a);
e=this.hidpi_?e:1;var y=this.image_;if(y&&this.renderedRevision_==this.getRevision()&&y.getResolution()==a&&y.getPixelRatio()==e&&(0,f.containsExtent)(y.getExtent(),c))return y;1!=this.ratio_&&(c=c.slice(),(0,f.scaleFromCenter)(c,this.ratio_));y=(0,f.getWidth)(c)/a;var q=(0,f.getHeight)(c)/a;y=[y*e,q*e];void 0!==this.url_?(t=this.getUrl(this.url_,this.params_,c,y,t),y=new u.default(c,a,e,t,this.crossOrigin_,this.imageLoadFunction_),y.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this))):
y=null;this.image_=y;this.renderedRevision_=this.getRevision();return y};b.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};b.prototype.updateParams=function(c){(0,l.assign)(this.params_,c);this.changed()};b.prototype.getUrl=function(c,a,e,t,y){y=this.metersPerUnit_;var q=this.displayDpi_,E=(0,f.getWidth)(e),F=(0,f.getHeight)(e),w=t[0],D=t[1];q=.0254/q;y=D*E>w*F?E*y/(w*q):F*y/(D*q);e=(0,f.getCenter)(e);t={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",
VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(t[0]),SETDISPLAYHEIGHT:Math.round(t[1]),SETVIEWSCALE:y,SETVIEWCENTERX:e[0],SETVIEWCENTERY:e[1]};(0,l.assign)(t,a);return(0,m.appendParams)(c,t)};b.prototype.setImageLoadFunction=function(c){this.image_=null;this.imageLoadFunction_=c;this.changed()};return b}(A.default);B.default=ra};
shadow$provide[361]=function(ra,z,cb,B){function v(a){if("function"!==typeof WeakMap)return null;var e=new WeakMap,t=new WeakMap;return(v=function(y){return y?t:e})(a)}function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=k(z(83)),A=function(a,e){if(!e&&a&&a.__esModule)return a;if(null===a||"object"!==typeof a&&"function"!==typeof a)return{default:a};if((e=v(e))&&e.has(a))return e.get(a);var t={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor,
q;for(q in a)if("default"!==q&&Object.prototype.hasOwnProperty.call(a,q)){var E=y?Object.getOwnPropertyDescriptor(a,q):null;E&&(E.get||E.set)?Object.defineProperty(t,q,E):t[q]=a[q]}t.default=a;e&&e.set(a,t);return t}(z(355)),u=k(z(193)),m=k(z(222)),l=z(254),f=z(81),g=z(97),d=z(75),b=z(124),c=function(){var a=function(e,t){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,q){y.__proto__=q}||function(y,q){for(var E in q)Object.prototype.hasOwnProperty.call(q,E)&&(y[E]=q[E])};return a(e,
t)};return function(e,t){function y(){this.constructor=e}if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");a(e,t);e.prototype=null===t?Object.create(t):(y.prototype=t.prototype,new y)}}();ra=function(a){function e(t){var y=void 0!==t.crossOrigin?t.crossOrigin:null,q=void 0!==t.imageLoadFunction?t.imageLoadFunction:A.defaultImageLoadFunction;var E=void 0!==t.imageSmoothing?t.imageSmoothing:!0;void 0!==t.interpolate&&(E=t.interpolate);
E=a.call(this,{attributions:t.attributions,interpolate:E,projection:(0,b.get)(t.projection)})||this;E.url_=t.url;E.imageExtent_=t.imageExtent;E.image_=new m.default(E.imageExtent_,void 0,1,E.url_,y,q);E.imageSize_=t.imageSize?t.imageSize:null;E.image_.addEventListener(p.default.CHANGE,E.handleImageChange.bind(E));return E}c(e,a);e.prototype.getImageExtent=function(){return this.imageExtent_};e.prototype.getImageInternal=function(t,y,q,E){return(0,d.intersects)(t,this.image_.getExtent())?this.image_:
null};e.prototype.getUrl=function(){return this.url_};e.prototype.handleImageChange=function(t){if(this.image_.getState()==u.default.LOADED){var y=this.image_.getExtent(),q=this.image_.getImage();if(this.imageSize_){var E=this.imageSize_[0];var F=this.imageSize_[1]}else E=q.width,F=q.height;var w=(0,d.getWidth)(y);y=(0,d.getHeight)(y);var D=w/E,G=y/F,L=E,O=F;D>G?L=Math.round(w/G):O=Math.round(y/D);if(L!==E||O!==F)w=(0,g.createCanvasContext2D)(L,O),this.getInterpolate()||(0,f.assign)(w,l.IMAGE_SMOOTHING_DISABLED),
y=w.canvas,w.drawImage(q,0,0,E,F,0,0,y.width,y.height),this.image_.setImage(y)}a.prototype.handleImageChange.call(this,t)};return e}(A.default);B.default=ra};
shadow$provide[362]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.DEFAULT_WMS_VERSION="1.3.0"};
shadow$provide[363]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"}};
shadow$provide[364]=function(ra,z,cb,B){function v(E){if("function"!==typeof WeakMap)return null;var F=new WeakMap,w=new WeakMap;return(v=function(D){return D?w:F})(E)}function k(E){return E&&E.__esModule?E:{default:E}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=z(362),A=k(z(83)),u=function(E,F){if(!F&&E&&E.__esModule)return E;if(null===E||"object"!==typeof E&&"function"!==typeof E)return{default:E};if((F=v(F))&&F.has(E))return F.get(E);var w={},D=Object.defineProperty&&
Object.getOwnPropertyDescriptor,G;for(G in E)if("default"!==G&&Object.prototype.hasOwnProperty.call(E,G)){var L=D?Object.getOwnPropertyDescriptor(E,G):null;L&&(L.get||L.set)?Object.defineProperty(w,G,L):w[G]=E[G]}w.default=E;F&&F.set(E,w);return w}(z(355)),m=k(z(222)),l=k(z(363)),f=z(356),g=z(71),d=z(81),b=z(255),c=z(76),a=z(92),e=z(75),t=z(124),y=function(){var E=function(F,w){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var L in G)Object.prototype.hasOwnProperty.call(G,
L)&&(D[L]=G[L])};return E(F,w)};return function(F,w){function D(){this.constructor=F}if("function"!==typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");E(F,w);F.prototype=null===w?Object.create(w):(D.prototype=w.prototype,new D)}}(),q=[101,101];ra=function(E){function F(w){w=w?w:{};var D=void 0!==w.imageSmoothing?w.imageSmoothing:!0;void 0!==w.interpolate&&(D=w.interpolate);D=E.call(this,{attributions:w.attributions,interpolate:D,projection:w.projection,
resolutions:w.resolutions})||this;D.crossOrigin_=void 0!==w.crossOrigin?w.crossOrigin:null;D.url_=w.url;D.imageLoadFunction_=void 0!==w.imageLoadFunction?w.imageLoadFunction:u.defaultImageLoadFunction;D.params_=w.params||{};D.v13_=!0;D.updateV13_();D.serverType_=w.serverType;D.hidpi_=void 0!==w.hidpi?w.hidpi:!0;D.image_=null;D.imageSize_=[0,0];D.renderedRevision_=0;D.ratio_=void 0!==w.ratio?w.ratio:1.5;return D}y(F,E);F.prototype.getFeatureInfoUrl=function(w,D,G,L){if(void 0!==this.url_){G=(0,t.get)(G);
var O=this.getProjection();O&&O!==G&&(D=(0,b.calculateSourceResolution)(O,G,w,D),w=(0,t.transform)(w,G,O));var V=(0,e.getForViewAndSize)(w,D,0,q),S={SERVICE:"WMS",VERSION:p.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,d.assign)(S,this.params_,L);L=(0,c.floor)((w[0]-V[0])/D,4);w=(0,c.floor)((V[3]-w[1])/D,4);S[this.v13_?"I":"X"]=L;S[this.v13_?"J":"Y"]=w;return this.getRequestUrl_(V,q,1,O||G,S)}};F.prototype.getLegendUrl=function(w,
D){if(void 0!==this.url_){var G={SERVICE:"WMS",VERSION:p.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===D||void 0===D.LAYER){var L=this.params_.LAYERS;if(Array.isArray(L)&&1!==L.length)return;G.LAYER=L}void 0!==w&&(L=this.getProjection()?this.getProjection().getMetersPerUnit():1,G.SCALE=w*L/2.8E-4);(0,d.assign)(G,D);return(0,f.appendParams)(this.url_,G)}};F.prototype.getParams=function(){return this.params_};F.prototype.getImageInternal=function(w,D,G,L){if(void 0===
this.url_)return null;D=this.findNearestResolution(D);1==G||this.hidpi_&&void 0!==this.serverType_||(G=1);var O=D/G,V=(0,e.getCenter)(w),S=(0,c.ceil)((0,e.getWidth)(w)/O,4),ca=(0,c.ceil)((0,e.getHeight)(w)/O,4);S=(0,e.getForViewAndSize)(V,O,0,[S,ca]);ca=(0,c.ceil)(this.ratio_*(0,e.getWidth)(w)/O,4);w=(0,c.ceil)(this.ratio_*(0,e.getHeight)(w)/O,4);V=(0,e.getForViewAndSize)(V,O,0,[ca,w]);if((w=this.image_)&&this.renderedRevision_==this.getRevision()&&w.getResolution()==D&&w.getPixelRatio()==G&&(0,e.containsExtent)(w.getExtent(),
S))return w;S={SERVICE:"WMS",VERSION:p.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,d.assign)(S,this.params_);this.imageSize_[0]=(0,c.round)((0,e.getWidth)(V)/O,4);this.imageSize_[1]=(0,c.round)((0,e.getHeight)(V)/O,4);L=this.getRequestUrl_(V,this.imageSize_,G,L,S);this.image_=new m.default(V,D,G,L,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(A.default.CHANGE,this.handleImageChange.bind(this));return this.image_};
F.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};F.prototype.getRequestUrl_=function(w,D,G,L,O){(0,g.assert)(void 0!==this.url_,9);O[this.v13_?"CRS":"SRS"]=L.getCode();"STYLES"in this.params_||(O.STYLES="");if(1!=G)switch(this.serverType_){case l.default.GEOSERVER:G=90*G+.5|0;O.FORMAT_OPTIONS="FORMAT_OPTIONS"in O?O.FORMAT_OPTIONS+(";dpi:"+G):"dpi:"+G;break;case l.default.MAPSERVER:O.MAP_RESOLUTION=90*G;break;case l.default.CARMENTA_SERVER:case l.default.QGIS:O.DPI=90*G;
break;default:(0,g.assert)(!1,8)}O.WIDTH=D[0];O.HEIGHT=D[1];D=L.getAxisOrientation();w=this.v13_&&"ne"==D.substr(0,2)?[w[1],w[0],w[3],w[2]]:w;O.BBOX=w.join(",");return(0,f.appendParams)(this.url_,O)};F.prototype.getUrl=function(){return this.url_};F.prototype.setImageLoadFunction=function(w){this.image_=null;this.imageLoadFunction_=w;this.changed()};F.prototype.setUrl=function(w){w!=this.url_&&(this.url_=w,this.image_=null,this.changed())};F.prototype.updateParams=function(w){(0,d.assign)(this.params_,
w);this.updateV13_();this.image_=null;this.changed()};F.prototype.updateV13_=function(){this.v13_=0<=(0,a.compareVersions)(this.params_.VERSION||p.DEFAULT_WMS_VERSION,"1.3")};return F}(u.default);B.default=ra};
shadow$provide[365]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=B.ATTRIBUTION=void 0;ra=function(k){return k&&k.__esModule?k:{default:k}}(z(269));var v=function(){var k=function(p,A){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(u[l]=m[l])};return k(p,A)};return function(p,A){function u(){this.constructor=p}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+
String(A)+" is not a constructor or null");k(p,A);p.prototype=null===A?Object.create(A):(u.prototype=A.prototype,new u)}}();B.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';ra=function(k){function p(A){A=A||{};var u=void 0!==A.imageSmoothing?A.imageSmoothing:!0;void 0!==A.interpolate&&(u=A.interpolate);return k.call(this,{attributions:void 0!==A.attributions?A.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],
attributionsCollapsible:!1,cacheSize:A.cacheSize,crossOrigin:void 0!==A.crossOrigin?A.crossOrigin:"anonymous",interpolate:u,maxZoom:void 0!==A.maxZoom?A.maxZoom:19,opaque:void 0!==A.opaque?A.opaque:!0,reprojectionErrorThreshold:A.reprojectionErrorThreshold,tileLoadFunction:A.tileLoadFunction,transition:A.transition,url:void 0!==A.url?A.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:A.wrapX,zDirection:A.zDirection})||this}v(p,k);return p}(ra.default);B.default=ra};
shadow$provide[366]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(k){return k&&k.__esModule?k:{default:k}}(z(91));var v=function(){var k=function(p,A){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,m){u.__proto__=m}||function(u,m){for(var l in m)Object.prototype.hasOwnProperty.call(m,l)&&(u[l]=m[l])};return k(p,A)};return function(p,A){function u(){this.constructor=p}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+
String(A)+" is not a constructor or null");k(p,A);p.prototype=null===A?Object.create(A):(u.prototype=A.prototype,new u)}}();ra=function(k){function p(A){return k.call(this,A?A:{})||this}v(p,k);return p}(ra.default);B.default=ra};
shadow$provide[367]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(213));var k=v(z(193)),p=v(z(115)),A=z(252),u=z(254),m=z(72),l=z(81),f=z(75),g=z(124),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=
c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a){a=b.call(this,a)||this;a.image_=null;return a}d(c,b);c.prototype.getImage=function(){return this.image_?this.image_.getImage():null};c.prototype.prepareFrame=function(a){var e=a.layerStatesArray[a.layerIndex],t=a.pixelRatio,y=a.viewState,q=y.resolution,E=this.getLayer().getSource(),
F=a.viewHints;a=a.extent;void 0!==e.extent&&(a=(0,f.getIntersection)(a,(0,g.fromUserExtent)(e.extent,y.projection)));if(!F[p.default.ANIMATING]&&!F[p.default.INTERACTING]&&!(0,f.isEmpty)(a))if(E){if(e=y.projection,A.ENABLE_RASTER_REPROJECTION||(y=E.getProjection())&&(e=y),t=E.getImage(a,q,t,e))this.loadImage(t)?this.image_=t:t.getState()===k.default.EMPTY&&(this.image_=null)}else this.image_=null;return!!this.image_};c.prototype.getData=function(a){var e=this.frameState;if(!e)return null;var t=this.getLayer();
a=(0,m.apply)(e.pixelToCoordinateTransform,a.slice());if((t=t.getExtent())&&!(0,f.containsCoordinate)(t,a))return null;e=this.image_.getExtent();t=this.image_.getImage();var y=(0,f.getWidth)(e);y=Math.floor((a[0]-e[0])/y*t.width);if(0>y||y>=t.width)return null;var q=(0,f.getHeight)(e);a=Math.floor((e[3]-a[1])/q*t.height);return 0>a||a>=t.height?null:this.getImageData(t,y,a)};c.prototype.renderFrame=function(a,e){var t=this.image_,y=t.getExtent(),q=t.getResolution(),E=t.getPixelRatio(),F=a.layerStatesArray[a.layerIndex],
w=a.pixelRatio,D=a.viewState,G=D.center,L=a.size,O=w*q/(D.resolution*E),V=Math.round(L[0]*w),S=Math.round(L[1]*w);if(L=D.rotation){var ca=Math.round(Math.sqrt(V*V+S*S));S=V=ca}(0,m.compose)(this.pixelTransform,a.size[0]/2,a.size[1]/2,1/w,1/w,L,-V/2,-S/2);(0,m.makeInverse)(this.inversePixelTransform,this.pixelTransform);L=(0,m.toString)(this.pixelTransform);this.useContainer(e,L,F.opacity,this.getBackground(a));e=this.context;ca=e.canvas;ca.width!=V||ca.height!=S?(ca.width=V,ca.height=S):this.containerReused||
e.clearRect(0,0,V,S);var ea=!1,T=!0;F.extent&&(D=(0,g.fromUserExtent)(F.extent,D.projection),(ea=(T=(0,f.intersects)(D,a.extent))&&!(0,f.containsExtent)(D,a.extent))&&this.clipUnrotated(e,a,D));t=t.getImage();y=(0,m.compose)(this.tempTransform,V/2,S/2,O,O,0,E*(y[0]-G[0])/q,E*(G[1]-y[3])/q);this.renderedResolution=q*w/E;q=t.width*y[0];E=t.height*y[3];this.getLayer().getSource().getInterpolate()||(0,l.assign)(e,u.IMAGE_SMOOTHING_DISABLED);this.preRender(e,a);T&&.5<=q&&.5<=E&&(w=y[4],y=y[5],F=F.opacity,
G=void 0,1!==F&&(G=e.globalAlpha,e.globalAlpha=F),e.drawImage(t,0,0,+t.width,+t.height,Math.round(w),Math.round(y),Math.round(q),Math.round(E)),1!==F&&(e.globalAlpha=G));this.postRender(e,a);ea&&e.restore();(0,l.assign)(e,u.IMAGE_SMOOTHING_ENABLED);L!==ca.style.transform&&(ca.style.transform=L);return this.container};return c}(ra.default);B.default=z};
shadow$provide[368]=function(ra,z,cb,B){function v(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(366));var k=v(z(367)),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m){return A.call(this,m)||this}p(u,A);u.prototype.createRenderer=function(){return new k.default(this)};u.prototype.getData=function(m){return A.prototype.getData.call(this,m)};return u}(ra.default);B.default=z};
shadow$provide[369]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[370]=function(ra,z,cb,B){function v(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(91));var k=v(z(369)),p=z(81),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+
String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();z=function(u){function m(l){l=l?l:{};var f=(0,p.assign)({},l);delete f.preload;delete f.useInterimTilesOnError;f=u.call(this,f)||this;f.setPreload(void 0!==l.preload?l.preload:0);f.setUseInterimTilesOnError(void 0!==l.useInterimTilesOnError?l.useInterimTilesOnError:!0);return f}A(m,u);m.prototype.getPreload=function(){return this.get(k.default.PRELOAD)};m.prototype.setPreload=
function(l){this.set(k.default.PRELOAD,l)};m.prototype.getUseInterimTilesOnError=function(){return this.get(k.default.USE_INTERIM_TILES_ON_ERROR)};m.prototype.setUseInterimTilesOnError=function(l){this.set(k.default.USE_INTERIM_TILES_ON_ERROR,l)};m.prototype.getData=function(l){return u.prototype.getData.call(this,l)};return m}(ra.default);B.default=z};
shadow$provide[371]=function(ra,z,cb,B){function v(y){return y&&y.__esModule?y:{default:y}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(213));var k=v(z(251)),p=v(z(256)),A=v(z(260)),u=v(z(111)),m=z(254),l=z(72),f=z(81),g=z(75),d=z(96),b=z(124),c=z(68),a=z(66),e=z(148),t=function(){var y=function(q,E){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,w){F.__proto__=w}||function(F,w){for(var D in w)Object.prototype.hasOwnProperty.call(w,D)&&(F[D]=w[D])};
return y(q,E)};return function(q,E){function F(){this.constructor=q}if("function"!==typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");y(q,E);q.prototype=null===E?Object.create(E):(F.prototype=E.prototype,new F)}}();z=function(y){function q(E){E=y.call(this,E)||this;E.extentChanged=!0;E.renderedExtent_=null;E.renderedProjection=null;E.renderedTiles=[];E.newTiles_=!1;E.tmpExtent=(0,g.createEmpty)();E.tmpTileRange_=new A.default(0,0,0,0);return E}
t(q,y);q.prototype.isDrawableTile=function(E){var F=this.getLayer();E=E.getState();F=F.getUseInterimTilesOnError();return E==u.default.LOADED||E==u.default.EMPTY||E==u.default.ERROR&&!F};q.prototype.getTile=function(E,F,w,D){var G=D.pixelRatio,L=D.viewState.projection;D=this.getLayer();E=D.getSource().getTile(E,F,w,G,L);E.getState()==u.default.ERROR&&(D.getUseInterimTilesOnError()?0<D.getPreload()&&(this.newTiles_=!0):E.setState(u.default.LOADED));this.isDrawableTile(E)||(E=E.getInterimTile());return E};
q.prototype.getData=function(E){var F=this.frameState;if(!F)return null;var w=this.getLayer();E=(0,l.apply)(F.pixelToCoordinateTransform,E.slice());var D=w.getExtent();if(D&&!(0,g.containsCoordinate)(D,E))return null;var G=F.pixelRatio,L=F.viewState.projection;D=F.viewState;var O=w.getRenderSource();w=O.getTileGridForProjection(D.projection);F=O.getTilePixelRatio(F.pixelRatio);for(var V=w.getZForResolution(D.resolution);V>=w.getMinZoom();--V){var S=w.getTileCoordForCoordAndZ(E,V);D=O.getTile(V,S[1],
S[2],G,L);if(!(D instanceof k.default||D instanceof p.default))break;if(D.getState()===u.default.LOADED)return G=w.getOrigin(V),L=(0,e.toSize)(w.getTileSize(V)),O=w.getResolution(V),w=Math.floor(F*((E[0]-G[0])/O-S[1]*L[0])),E=Math.floor(F*((G[1]-E[1])/O-S[2]*L[1])),this.getImageData(D.getImage(),w,E)}return null};q.prototype.loadedTileCallback=function(E,F,w){return this.isDrawableTile(w)?y.prototype.loadedTileCallback.call(this,E,F,w):!1};q.prototype.prepareFrame=function(E){return!!this.getLayer().getSource()};
q.prototype.renderFrame=function(E,F){var w=E.layerStatesArray[E.layerIndex],D=E.viewState,G=D.projection,L=D.resolution,O=D.center,V=D.rotation;D=E.pixelRatio;var S=this.getLayer(),ca=S.getSource(),ea=ca.getRevision(),T=ca.getTileGridForProjection(G),R=T.getZForResolution(L,ca.zDirection),J=T.getResolution(R),r=E.extent,C=w.extent&&(0,b.fromUserExtent)(w.extent,G);C&&(r=(0,g.getIntersection)(r,(0,b.fromUserExtent)(w.extent,G)));var N=ca.getTilePixelRatio(D),U=Math.round(E.size[0]*N),ja=Math.round(E.size[1]*
N);if(V){var ba=Math.round(Math.sqrt(U*U+ja*ja));ja=U=ba}ba=J*U/2/N;var ia=J*ja/2/N;O=[O[0]-ba,O[1]-ia,O[0]+ba,O[1]+ia];var za=T.getTileRangeForExtentAndZ(r,R);ba={};ba[R]={};var Wa=this.createLoadedTileFinder(ca,G,ba),hb=this.tmpExtent,Ja=this.tmpTileRange_;this.newTiles_=!1;for(var qa=za.minX;qa<=za.maxX;++qa)for(var Da=za.minY;Da<=za.maxY;++Da){ia=this.getTile(R,qa,Da,E);if(this.isDrawableTile(ia)){var va=(0,c.getUid)(this);if(ia.getState()==u.default.LOADED){ba[R][ia.tileCoord.toString()]=ia;
var sa=ia.inTransition(va);this.newTiles_||!sa&&-1!==this.renderedTiles.indexOf(ia)||(this.newTiles_=!0)}if(1===ia.getAlpha(va,E.time))continue}sa=T.getTileCoordChildTileRange(ia.tileCoord,Ja,hb);va=!1;sa&&(va=Wa(R+1,sa));va||T.forEachTileCoordParentTileRange(ia.tileCoord,Wa,Ja,hb)}L=J/L;(0,l.compose)(this.pixelTransform,E.size[0]/2,E.size[1]/2,1/N,1/N,V,-U/2,-ja/2);V=(0,l.toString)(this.pixelTransform);this.useContainer(F,V,w.opacity,this.getBackground(E));F=this.context;za=F.canvas;(0,l.makeInverse)(this.inversePixelTransform,
this.pixelTransform);(0,l.compose)(this.tempTransform,U/2,ja/2,L,L,0,-U/2,-ja/2);za.width!=U||za.height!=ja?(za.width=U,za.height=ja):this.containerReused||F.clearRect(0,0,U,ja);C&&this.clipUnrotated(F,E,C);ca.getInterpolate()||(0,f.assign)(F,m.IMAGE_SMOOTHING_DISABLED);this.preRender(F,E);this.renderedTiles.length=0;C=Object.keys(ba).map(Number);C.sort(a.numberSafeCompareFunction);if(1!==w.opacity||this.containerReused&&!ca.getOpaque(E.viewState.projection)){var xa=[];var ma=[]}else C=C.reverse();
for(U=C.length-1;0<=U;--U){ja=C[U];ia=ca.getTilePixelSize(ja,D,G);qa=T.getResolution(ja)/J;Wa=ia[0]*qa*L;hb=ia[1]*qa*L;Ja=T.getTileCoordForCoordAndZ((0,g.getTopLeft)(O),ja);ia=T.getTileCoordExtent(Ja);va=(0,l.apply)(this.tempTransform,[N*(ia[0]-O[0])/J,N*(O[3]-ia[3])/J]);var Ea=N*ca.getGutterForProjection(G),Ua=ba[ja],ab;for(ab in Ua){ia=Ua[ab];Da=ia.tileCoord;qa=Ja[1]-Da[1];sa=Math.round(va[0]-(qa-1)*Wa);Da=Ja[2]-Da[2];var ta=Math.round(va[1]-(Da-1)*hb);qa=Math.round(va[0]-qa*Wa);Da=Math.round(va[1]-
Da*hb);var Na=sa-qa,oa=ta-Da,aa=R===ja;sa=aa&&1!==ia.getAlpha((0,c.getUid)(this),E.time);var ka=!1;if(!sa)if(xa){ta=[qa,Da,qa+Na,Da,qa+Na,Da+oa,qa,Da+oa];for(var Ia=0,Xa=xa.length;Ia<Xa;++Ia)if(R!==ja&&ja<ma[Ia]){var Ya=xa[Ia];(0,g.intersects)([qa,Da,qa+Na,Da+oa],[Ya[0],Ya[3],Ya[4],Ya[7]])&&(ka||(F.save(),ka=!0),F.beginPath(),F.moveTo(ta[0],ta[1]),F.lineTo(ta[2],ta[3]),F.lineTo(ta[4],ta[5]),F.lineTo(ta[6],ta[7]),F.moveTo(Ya[6],Ya[7]),F.lineTo(Ya[4],Ya[5]),F.lineTo(Ya[2],Ya[3]),F.lineTo(Ya[0],Ya[1]),
F.clip())}xa.push(ta);ma.push(ja)}else F.clearRect(qa,Da,Na,oa);this.drawTileImage(ia,E,qa,Da,Na,oa,Ea,aa);xa&&!sa?(ka&&F.restore(),this.renderedTiles.unshift(ia)):this.renderedTiles.push(ia);this.updateUsedTiles(E.usedTiles,ca,ia)}}this.renderedRevision=ea;this.renderedResolution=J;this.extentChanged=!this.renderedExtent_||!(0,g.equals)(this.renderedExtent_,O);this.renderedExtent_=O;this.renderedPixelRatio=D;this.renderedProjection=G;this.manageTilePyramid(E,ca,T,D,G,r,R,S.getPreload());this.scheduleExpireCache(E,
ca);this.postRender(F,E);w.extent&&F.restore();(0,f.assign)(F,m.IMAGE_SMOOTHING_ENABLED);V!==za.style.transform&&(za.style.transform=V);E=(0,d.cssOpacity)(w.opacity);w=this.container;E!==w.style.opacity&&(w.style.opacity=E);return this.container};q.prototype.drawTileImage=function(E,F,w,D,G,L,O,V){var S=this.getTileImage(E);if(S){var ca=(0,c.getUid)(this),ea=V?E.getAlpha(ca,F.time):1,T=ea!==this.context.globalAlpha;T&&(this.context.save(),this.context.globalAlpha=ea);this.context.drawImage(S,O,O,
S.width-2*O,S.height-2*O,w,D,G,L);T&&this.context.restore();1!==ea?F.animate=!0:V&&E.endTransition(ca)}};q.prototype.getImage=function(){var E=this.context;return E?E.canvas:null};q.prototype.getTileImage=function(E){return E.getImage()};q.prototype.scheduleExpireCache=function(E,F){F.canExpireCache()&&(F=function(w,D,G){D=(0,c.getUid)(w);D in G.usedTiles&&w.expireCache(G.viewState.projection,G.usedTiles[D])}.bind(null,F),E.postRenderFunctions.push(F))};q.prototype.updateUsedTiles=function(E,F,w){F=
(0,c.getUid)(F);F in E||(E[F]={});E[F][w.getKey()]=!0};q.prototype.manageTilePyramid=function(E,F,w,D,G,L,O,V,S){var ca=(0,c.getUid)(F);ca in E.wantedTiles||(E.wantedTiles[ca]={});var ea=E.wantedTiles[ca];E=E.tileQueue;var T=0,R,J,r;for(r=w.getMinZoom();r<=O;++r){var C=w.getTileRangeForExtentAndZ(L,r,C);var N=w.getResolution(r);for(R=C.minX;R<=C.maxX;++R)for(J=C.minY;J<=C.maxY;++J)if(O-r<=V){++T;var U=F.getTile(r,R,J,D,G);U.getState()==u.default.IDLE&&(ea[U.getKey()]=!0,E.isKeyQueued(U.getKey())||
E.enqueue([U,ca,w.getTileCoordCenter(U.tileCoord),N]));void 0!==S&&S(U)}else F.useTile(r,R,J,G)}F.updateCacheSize(T,G)};return q}(ra.default);B.default=z};
shadow$provide[372]=function(ra,z,cb,B){function v(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(370));var k=v(z(371)),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m){return A.call(this,m)||this}p(u,A);u.prototype.createRenderer=function(){return new k.default(this)};return u}(ra.default);B.default=z};
shadow$provide[373]=function(ra,z,cb,B){function v(R){return R&&R.__esModule?R:{default:R}}function k(R,J,r){if(V)return new ImageData(R,J,r);S||(S=document.createElement("canvas").getContext("2d"));J=S.createImageData(J,r);J.data.set(R);return J}function p(R){var J=!0;try{new ImageData(10,10)}catch(r){J=!1}return function(r){var C=r.buffers,N=r.meta,U=r.width,ja=r.height,ba=C.length,ia=C[0].byteLength;if(r.imageOps){ia=Array(ba);for(r=0;r<ba;++r){var za=r;var Wa=new Uint8ClampedArray(C[r]);var hb=
U,Ja=ja;Wa=J?new ImageData(Wa,hb,Ja):{data:Wa,width:hb,height:Ja};ia[za]=Wa}return R(ia,N).data.buffer}U=new Uint8ClampedArray(ia);ja=Array(ba);za=Array(ba);for(r=0;r<ba;++r)ja[r]=new Uint8ClampedArray(C[r]),za[r]=[0,0,0,0];for(C=0;C<ia;C+=4){for(r=0;r<ba;++r)Wa=ja[r],za[r][0]=Wa[C],za[r][1]=Wa[C+1],za[r][2]=Wa[C+2],za[r][3]=Wa[C+3];r=R(za,N);U[C]=r[0];U[C+1]=r[1];U[C+2]=r[2];U[C+3]=r[3]}return U.buffer}}function A(R,J){var r=Object.keys(R.lib||{}).map(function(C){return"var "+C+" \x3d "+R.lib[C].toString()+
";"}).concat(["var __minion__ \x3d ("+p.toString()+")(",R.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);r=new Worker("undefined"===typeof Blob?"data:text/javascript;base64,"+g.from(r.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(r,{type:"text/javascript"})));r.addEventListener("message",J);return r}function u(R,J){var r=
p(R.operation),C=!1;return{postMessage:function(N){setTimeout(function(){C||J({data:{buffer:r(N),meta:N.meta}})},0)},terminate:function(){C=!0}}}function m(R,J){var r=R.getRenderer();if(!r)throw Error("Unsupported layer type: "+R);if(!r.prepareFrame(J))return null;R=J.size[0];var C=J.size[1];if(0===R||0===C)return null;J=r.renderFrame(J,null);if(J instanceof HTMLCanvasElement)var N=J;else{J&&(N=J.firstElementChild);if(!(N instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+
N);if(N.width===R&&N.height===C)return N.getContext("2d").getImageData(0,0,R,C)}T?(J=T.canvas,J.width!==R||J.height!==C?T=(0,w.createCanvasContext2D)(R,C):T.clearRect(0,0,R,C)):T=(0,w.createCanvasContext2D)(R,C);T.drawImage(N,0,0,R,C);return T.getImageData(0,0,R,C)}function l(R){return R.map(function(J){return J.getLayerState()})}function f(R){for(var J=R.length,r=Array(J),C=0;C<J;++C){var N=C,U=void 0,ja=R[C];ja instanceof e.default?ja instanceof E.default?U=new y.default({source:ja}):ja instanceof
a.default&&(U=new c.default({source:ja})):U=ja;r[N]=U}return r}var g=z(21).Buffer;"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.newImageData=k;B.default=B.RasterSourceEvent=B.Processor=void 0;ra=v(z(65));cb=v(z(79));var d=v(z(83)),b=v(z(358)),c=v(z(368)),a=v(z(355)),e=v(z(232)),t=v(z(90)),y=v(z(372)),q=v(z(112)),E=v(z(263)),F=z(81),w=z(97),D=z(72),G=z(75),L=z(68),O=function(){var R=function(J,r){R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,N){C.__proto__=N}||
function(C,N){for(var U in N)Object.prototype.hasOwnProperty.call(N,U)&&(C[U]=N[U])};return R(J,r)};return function(J,r){function C(){this.constructor=J}if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");R(J,r);J.prototype=null===r?Object.create(r):(C.prototype=r.prototype,new C)}}(),V=!0;try{new ImageData(10,10)}catch(R){V=!1}var S,ca=function(R){function J(r){var C=R.call(this)||this;C._imageOps=!!r.imageOps;var N=0===r.threads?
0:C._imageOps?1:r.threads||1;var U=Array(N);if(N)for(var ja=0;ja<N;++ja)U[ja]=A(r,C._onWorkerMessage.bind(C,ja));else U[0]=u(r,C._onWorkerMessage.bind(C,0));C._workers=U;C._queue=[];C._maxQueueLength=r.queue||Infinity;C._running=0;C._dataLookup={};C._job=null;return C}O(J,R);J.prototype.process=function(r,C,N){this._enqueue({inputs:r,meta:C,callback:N});this._dispatch()};J.prototype._enqueue=function(r){for(this._queue.push(r);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,
null)};J.prototype._dispatch=function(){if(!this._running&&0!==this._queue.length){var r=this._queue.shift();this._job=r;var C=r.inputs[0].width,N=r.inputs[0].height,U=r.inputs.map(function(qa){return qa.data.buffer}),ja=this._workers.length;this._running=ja;if(1===ja)this._workers[0].postMessage({buffers:U,meta:r.meta,imageOps:this._imageOps,width:C,height:N},U);else for(var ba=4*Math.ceil(r.inputs[0].data.length/4/ja),ia=0;ia<ja;++ia){for(var za=ia*ba,Wa=[],hb=0,Ja=U.length;hb<Ja;++hb)Wa.push(U[hb].slice(za,
za+ba));this._workers[ia].postMessage({buffers:Wa,meta:r.meta,imageOps:this._imageOps,width:C,height:N},Wa)}}};J.prototype._onWorkerMessage=function(r,C){this.disposed||(this._dataLookup[r]=C.data,--this._running,0===this._running&&this._resolveJob())};J.prototype._resolveJob=function(){var r=this._job,C=this._workers.length;if(1===C){var N=new Uint8ClampedArray(this._dataLookup[0].buffer);var U=this._dataLookup[0].meta}else{var ja=r.inputs[0].data.length;N=new Uint8ClampedArray(ja);U=Array(C);ja=
4*Math.ceil(ja/4/C);for(var ba=0;ba<C;++ba){var ia=ba*ja;N.set(new Uint8ClampedArray(this._dataLookup[ba].buffer),ia);U[ba]=this._dataLookup[ba].meta}}this._job=null;this._dataLookup={};r.callback(null,k(N,r.inputs[0].width,r.inputs[0].height),U);this._dispatch()};J.prototype.disposeInternal=function(){for(var r=0;r<this._workers.length;++r)this._workers[r].terminate();this._workers.length=0};return J}(ra.default);B.Processor=ca;var ea=function(R){function J(r,C,N){r=R.call(this,r)||this;r.extent=
C.extent;r.resolution=C.viewState.resolution/C.pixelRatio;r.data=N;return r}O(J,R);return J}(cb.default);B.RasterSourceEvent=ea;z=function(R){function J(r){var C=R.call(this,{projection:null})||this;C.processor_=null;C.operationType_=void 0!==r.operationType?r.operationType:"pixel";C.threads_=void 0!==r.threads?r.threads:1;C.layers_=f(r.sources);for(var N=C.changed.bind(C),U=0,ja=C.layers_.length;U<ja;++U)C.layers_[U].addEventListener(d.default.CHANGE,N);C.tileQueue_=new q.default(function(){return 1},
C.changed.bind(C));C.renderedImageCanvas_=null;C.frameState_={animate:!1,coordinateToPixelTransform:(0,D.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:l(C.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,D.create)(),postRenderFunctions:[],size:[0,0],tileQueue:C.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:(0,L.getUid)(C),renderTargets:{}};C.setAttributions(function(ba){for(var ia=[],za=0,Wa=r.sources.length;za<
Wa;++za){var hb=r.sources[za];hb=(hb instanceof e.default?hb:hb.getSource()).getAttributions();"function"===typeof hb&&(hb=hb(ba),ia.push.apply(ia,hb))}return 0!==ia.length?ia:null});void 0!==r.operation&&C.setOperation(r.operation,r.lib);return C}O(J,R);J.prototype.setOperation=function(r,C){this.processor_&&this.processor_.dispose();this.processor_=new ca({operation:r,imageOps:"image"===this.operationType_,queue:1,lib:C,threads:this.threads_});this.changed()};J.prototype.updateFrameState_=function(r,
C,N){var U=(0,F.assign)({},this.frameState_);U.viewState=(0,F.assign)({},U.viewState);var ja=(0,G.getCenter)(r);U.extent=r.slice();U.size[0]=Math.round((0,G.getWidth)(r)/C);U.size[1]=Math.round((0,G.getHeight)(r)/C);U.time=Date.now();r=U.viewState;r.center=ja;r.projection=N;r.resolution=C;return U};J.prototype.allSourcesReady_=function(){for(var r=!0,C,N=0,U=this.layers_.length;N<U;++N)if(C=this.layers_[N].getSource(),C.getState()!==t.default.READY){r=!1;break}return r};J.prototype.getImage=function(r,
C,N,U){if(!this.allSourcesReady_())return null;this.requestedFrameState_=N=this.updateFrameState_(r,C,U);if(this.renderedImageCanvas_){U=this.renderedImageCanvas_.getResolution();var ja=this.renderedImageCanvas_.getExtent();C===U&&(0,G.equals)(r,ja)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();N.tileQueue.loadMoreTiles(16,16);N.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_};
J.prototype.processSources_=function(){for(var r=this.requestedFrameState_,C=this.layers_.length,N=Array(C),U=0;U<C;++U){r.layerIndex=U;var ja=m(this.layers_[U],r);if(ja)N[U]=ja;else return}C={};this.dispatchEvent(new ea("beforeoperations",r,C));this.processor_.process(N,C,this.onWorkerComplete_.bind(this,r))};J.prototype.onWorkerComplete_=function(r,C,N,U){if(!C&&N){C=r.extent;var ja=r.viewState.resolution;if(ja===this.requestedFrameState_.viewState.resolution&&(0,G.equals)(C,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var ba=
this.renderedImageCanvas_.getImage().getContext("2d");else{ba=Math.round((0,G.getWidth)(C)/ja);var ia=Math.round((0,G.getHeight)(C)/ja);ba=(0,w.createCanvasContext2D)(ba,ia);this.renderedImageCanvas_=new b.default(C,ja,1,ba.canvas)}ba.putImageData(N,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new ea("afteroperations",r,U));r.animate&&requestAnimationFrame(this.changed.bind(this))}}};J.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose();
R.prototype.disposeInternal.call(this)};return J}(a.default);var T=null;B.default=z};
shadow$provide[374]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(u){return u&&u.__esModule?u:{default:u}}(z(269));z=z(365);var v=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+
String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}(),k=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',z.ATTRIBUTION],p={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",
opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},A={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};z=function(u){function m(l){var f=void 0!==l.imageSmoothing?l.imageSmoothing:!0;void 0!==l.interpolate&&
(f=l.interpolate);var g=l.layer.indexOf("-");g=-1==g?l.layer:l.layer.slice(0,g);g=A[g];var d=p[l.layer];return u.call(this,{attributions:k,cacheSize:l.cacheSize,crossOrigin:"anonymous",interpolate:f,maxZoom:void 0!=l.maxZoom?l.maxZoom:g.maxZoom,minZoom:void 0!=l.minZoom?l.minZoom:g.minZoom,opaque:d.opaque,reprojectionErrorThreshold:l.reprojectionErrorThreshold,tileLoadFunction:l.tileLoadFunction,transition:l.transition,url:void 0!==l.url?l.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+l.layer+
"/{z}/{x}/{y}."+d.extension,wrapX:l.wrapX,zDirection:l.zDirection})||this}v(m,u);return m}(ra.default);B.default=z};
shadow$provide[375]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(f){return f&&f.__esModule?f:{default:f}}(z(266));var v=z(356),k=z(81),p=z(75),A=z(76),u=z(148),m=z(257),l=function(){var f=function(g,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};return f(g,d)};return function(g,d){function b(){this.constructor=g}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(g,d);g.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}();z=function(f){function g(d){d=d?d:{};var b=void 0!==d.imageSmoothing?d.imageSmoothing:!0;void 0!==d.interpolate&&(b=d.interpolate);b=f.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,interpolate:b,projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,
tileGrid:d.tileGrid,tileLoadFunction:d.tileLoadFunction,url:d.url,urls:d.urls,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition,zDirection:d.zDirection})||this;b.params_=d.params||{};b.hidpi_=void 0!==d.hidpi?d.hidpi:!0;b.tmpExtent_=(0,p.createEmpty)();b.setKey(b.getKeyForParams_());return b}l(g,f);g.prototype.getKeyForParams_=function(){var d=0,b=[],c;for(c in this.params_)b[d++]=c+"-"+this.params_[c];return b.join("/")};g.prototype.getParams=function(){return this.params_};g.prototype.getRequestUrl_=
function(d,b,c,a,e,t){var y=this.urls;if(y)return e=e.getCode().split(/:(?=\d+$)/).pop(),t.SIZE=b[0]+","+b[1],t.BBOX=c.join(","),t.BBOXSR=e,t.IMAGESR=e,t.DPI=Math.round(t.DPI?t.DPI*a:90*a),1==y.length?y=y[0]:(d=(0,A.modulo)((0,m.hash)(d),y.length),y=y[d]),y=y.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,v.appendParams)(y,t)};g.prototype.getTilePixelRatio=function(d){return this.hidpi_?d:1};g.prototype.updateParams=function(d){(0,k.assign)(this.params_,
d);this.setKey(this.getKeyForParams_())};g.prototype.tileUrlFunction=function(d,b,c){var a=this.getTileGrid();a||(a=this.getTileGridForProjection(c));if(!(a.getResolutions().length<=d[0])){1==b||this.hidpi_||(b=1);var e=a.getTileCoordExtent(d,this.tmpExtent_);a=(0,u.toSize)(a.getTileSize(d[0]),this.tmpSize);1!=b&&(a=(0,u.scale)(a,b,this.tmpSize));var t={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,k.assign)(t,this.params_);return this.getRequestUrl_(d,a,e,b,c,t)}};return g}(ra.default);B.default=z};
shadow$provide[376]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(A){return A&&A.__esModule?A:{default:A}}(z(269));var v=z(97),k=z(148),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m){var l=this;m=m||{};return l=A.call(this,{opaque:!1,projection:m.projection,tileGrid:m.tileGrid,wrapX:void 0!==m.wrapX?m.wrapX:!0,zDirection:m.zDirection,url:m.template||"z:{z} x:{x} y:{y}",tileLoadFunction:function(f,g){var d=f.getTileCoord()[0];d=(0,k.toSize)(l.tileGrid.getTileSize(d));var b=(0,v.createCanvasContext2D)(d[0],d[1]);b.strokeStyle="grey";
b.strokeRect(.5,.5,d[0]+.5,d[1]+.5);b.fillStyle="grey";b.strokeStyle="white";b.textAlign="center";b.textBaseline="middle";b.font="24px sans-serif";b.lineWidth=4;b.strokeText(g,d[0]/2,d[1]/2,d[0]);b.fillText(g,d[0]/2,d[1]/2,d[0]);f.setImage(b.canvas)}})||this}p(u,A);return u}(ra.default);B.default=z};
shadow$provide[377]=function(ra,z,cb,B){function v(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(90));ra=v(z(266));var p=z(75),A=z(71),u=z(264),m=z(262),l=z(124),f=z(267),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=
b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();z=function(d){function b(c){var a=void 0!==c.imageSmoothing?c.imageSmoothing:!0;void 0!==c.interpolate&&(a=c.interpolate);a=d.call(this,{attributions:c.attributions,cacheSize:c.cacheSize,crossOrigin:c.crossOrigin,interpolate:a,projection:(0,l.get)("EPSG:3857"),reprojectionErrorThreshold:c.reprojectionErrorThreshold,
state:k.default.LOADING,tileLoadFunction:c.tileLoadFunction,wrapX:void 0!==c.wrapX?c.wrapX:!0,transition:c.transition,zDirection:c.zDirection})||this;a.tileJSON_=null;a.tileSize_=c.tileSize;if(c.url)if(c.jsonp)(0,f.jsonp)(c.url,a.handleTileJSONResponse.bind(a),a.handleTileJSONError.bind(a));else{var e=new XMLHttpRequest;e.addEventListener("load",a.onXHRLoad_.bind(a));e.addEventListener("error",a.onXHRError_.bind(a));e.open("GET",c.url);e.send()}else c.tileJSON?a.handleTileJSONResponse(c.tileJSON):
(0,A.assert)(!1,51);return a}g(b,d);b.prototype.onXHRLoad_=function(c){c=c.target;if(!c.status||200<=c.status&&300>c.status){var a=void 0;try{a=JSON.parse(c.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(a)}else this.handleTileJSONError()};b.prototype.onXHRError_=function(c){this.handleTileJSONError()};b.prototype.getTileJSON=function(){return this.tileJSON_};b.prototype.handleTileJSONResponse=function(c){var a=(0,l.get)("EPSG:4326"),e=this.getProjection();if(void 0!==
c.bounds){var t=(0,l.getTransformFromProjections)(a,e);t=(0,p.applyTransform)(c.bounds,t)}e=(0,m.extentFromProjection)(e);this.tileGrid=a=(0,m.createXYZ)({extent:e,maxZoom:c.maxzoom||22,minZoom:c.minzoom||0,tileSize:this.tileSize_});this.tileUrlFunction=(0,u.createFromTemplates)(c.tiles,a);if(void 0!==c.attribution&&!this.getAttributions()){var y=void 0!==t?t:e;this.setAttributions(function(q){return(0,p.intersects)(y,q.extent)?[c.attribution]:null})}this.tileJSON_=c;this.setState(k.default.READY)};
b.prototype.handleTileJSONError=function(){this.setState(k.default.ERROR)};return b}(ra.default);B.default=z};
shadow$provide[378]=function(ra,z,cb,B){function v(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=z(362);ra=v(z(266));var p=v(z(363)),A=z(356),u=z(71),m=z(81),l=z(75),f=z(148),g=z(255),d=z(92),b=z(124),c=z(76),a=z(257),e=function(){var t=function(y,q){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,F){E.__proto__=F}||function(E,F){for(var w in F)Object.prototype.hasOwnProperty.call(F,w)&&(E[w]=F[w])};return t(y,q)};
return function(y,q){function E(){this.constructor=y}if("function"!==typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");t(y,q);y.prototype=null===q?Object.create(q):(E.prototype=q.prototype,new E)}}();z=function(t){function y(q){q=q?q:{};var E=void 0!==q.imageSmoothing?q.imageSmoothing:!0;void 0!==q.interpolate&&(E=q.interpolate);var F=q.params||{};E=t.call(this,{attributions:q.attributions,attributionsCollapsible:q.attributionsCollapsible,cacheSize:q.cacheSize,
crossOrigin:q.crossOrigin,interpolate:E,opaque:!("TRANSPARENT"in F?F.TRANSPARENT:1),projection:q.projection,reprojectionErrorThreshold:q.reprojectionErrorThreshold,tileClass:q.tileClass,tileGrid:q.tileGrid,tileLoadFunction:q.tileLoadFunction,url:q.url,urls:q.urls,wrapX:void 0!==q.wrapX?q.wrapX:!0,transition:q.transition,zDirection:q.zDirection})||this;E.gutter_=void 0!==q.gutter?q.gutter:0;E.params_=F;E.v13_=!0;E.serverType_=q.serverType;E.hidpi_=void 0!==q.hidpi?q.hidpi:!0;E.tmpExtent_=(0,l.createEmpty)();
E.updateV13_();E.setKey(E.getKeyForParams_());return E}e(y,t);y.prototype.getFeatureInfoUrl=function(q,E,F,w){F=(0,b.get)(F);var D=this.getProjection(),G=this.getTileGrid();G||(G=this.getTileGridForProjection(F));E=G.getZForResolution(E,this.zDirection);E=G.getTileCoordForCoordAndZ(q,E);if(!(G.getResolutions().length<=E[0])){var L=G.getResolution(E[0]),O=G.getTileCoordExtent(E,this.tmpExtent_);G=(0,f.toSize)(G.getTileSize(E[0]),this.tmpSize);var V=this.gutter_;0!==V&&(G=(0,f.buffer)(G,V,this.tmpSize),
O=(0,l.buffer)(O,L*V,O));D&&D!==F&&(L=(0,g.calculateSourceResolution)(D,F,q,L),O=(0,b.transformExtent)(O,F,D),q=(0,b.transform)(q,F,D));V={SERVICE:"WMS",VERSION:k.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,m.assign)(V,this.params_,w);w=Math.floor((O[3]-q[1])/L);V[this.v13_?"I":"X"]=Math.floor((q[0]-O[0])/L);V[this.v13_?"J":"Y"]=w;return this.getRequestUrl_(E,G,O,1,D||F,V)}};y.prototype.getLegendUrl=function(q,E){if(void 0!==
this.urls[0]){var F={SERVICE:"WMS",VERSION:k.DEFAULT_WMS_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===E||void 0===E.LAYER){var w=this.params_.LAYERS;if(Array.isArray(w)&&1!==w.length)return;F.LAYER=w}void 0!==q&&(w=this.getProjection()?this.getProjection().getMetersPerUnit():1,F.SCALE=q*w/2.8E-4);(0,m.assign)(F,E);return(0,A.appendParams)(this.urls[0],F)}};y.prototype.getGutter=function(){return this.gutter_};y.prototype.getParams=function(){return this.params_};y.prototype.getRequestUrl_=
function(q,E,F,w,D,G){var L=this.urls;if(L){G.WIDTH=E[0];G.HEIGHT=E[1];G[this.v13_?"CRS":"SRS"]=D.getCode();"STYLES"in this.params_||(G.STYLES="");if(1!=w)switch(this.serverType_){case p.default.GEOSERVER:E=90*w+.5|0;G.FORMAT_OPTIONS="FORMAT_OPTIONS"in G?G.FORMAT_OPTIONS+(";dpi:"+E):"dpi:"+E;break;case p.default.MAPSERVER:G.MAP_RESOLUTION=90*w;break;case p.default.CARMENTA_SERVER:case p.default.QGIS:G.DPI=90*w;break;default:(0,u.assert)(!1,52)}D=D.getAxisOrientation();this.v13_&&"ne"==D.substr(0,
2)&&(D=F[0],F[0]=F[1],F[1]=D,D=F[2],F[2]=F[3],F[3]=D);G.BBOX=F.join(",");1==L.length?L=L[0]:(q=(0,c.modulo)((0,a.hash)(q),L.length),L=L[q]);return(0,A.appendParams)(L,G)}};y.prototype.getTilePixelRatio=function(q){return this.hidpi_&&void 0!==this.serverType_?q:1};y.prototype.getKeyForParams_=function(){var q=0,E=[],F;for(F in this.params_)E[q++]=F+"-"+this.params_[F];return E.join("/")};y.prototype.updateParams=function(q){(0,m.assign)(this.params_,q);this.updateV13_();this.setKey(this.getKeyForParams_())};
y.prototype.updateV13_=function(){this.v13_=0<=(0,d.compareVersions)(this.params_.VERSION||k.DEFAULT_WMS_VERSION,"1.3")};y.prototype.tileUrlFunction=function(q,E,F){var w=this.getTileGrid();w||(w=this.getTileGridForProjection(F));if(!(w.getResolutions().length<=q[0])){1==E||this.hidpi_&&void 0!==this.serverType_||(E=1);var D=w.getResolution(q[0]),G=w.getTileCoordExtent(q,this.tmpExtent_);w=(0,f.toSize)(w.getTileSize(q[0]),this.tmpSize);var L=this.gutter_;0!==L&&(w=(0,f.buffer)(w,L,this.tmpSize),G=
(0,l.buffer)(G,D*L,G));1!=E&&(w=(0,f.scale)(w,E,this.tmpSize));D={SERVICE:"WMS",VERSION:k.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,m.assign)(D,this.params_);return this.getRequestUrl_(q,w,G,E,F,D)}};return y}(ra.default);B.default=z};
shadow$provide[379]=function(ra,z,cb,B){function v(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(B,"__esModule",{value:!0});B.default=B.CustomTile=void 0;var k=v(z(83)),p=v(z(90));ra=v(z(250));cb=v(z(263));var A=v(z(111)),u=z(75),m=z(71),l=z(264),f=z(262),g=z(257),d=z(124),b=z(84),c=z(267),a=function(){var t=function(y,q){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,F){E.__proto__=F}||function(E,F){for(var w in F)Object.prototype.hasOwnProperty.call(F,w)&&(E[w]=
F[w])};return t(y,q)};return function(y,q){function E(){this.constructor=y}if("function"!==typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");t(y,q);y.prototype=null===q?Object.create(q):(E.prototype=q.prototype,new E)}}(),e=function(t){function y(q,E,F,w,D,G){q=t.call(this,q,E)||this;q.src_=F;q.extent_=w;q.preemptive_=D;q.grid_=null;q.keys_=null;q.data_=null;q.jsonp_=G;return q}a(y,t);y.prototype.getImage=function(){return null};y.prototype.getData=
function(q){if(!this.grid_||!this.keys_)return null;var E=this.grid_[Math.floor((1-(q[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]))*this.grid_.length)];if("string"!==typeof E)return null;q=E.charCodeAt(Math.floor((q[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*E.length));93<=q&&q--;35<=q&&q--;q-=32;E=null;q in this.keys_&&(q=this.keys_[q],E=this.data_&&q in this.data_?this.data_[q]:q);return E};y.prototype.forDataAtCoordinate=function(q,E,F){this.state==A.default.EMPTY&&!0===F?(this.state=
A.default.IDLE,(0,b.listenOnce)(this,k.default.CHANGE,function(w){E(this.getData(q))},this),this.loadInternal_()):!0===F?setTimeout(function(){E(this.getData(q))}.bind(this),0):E(this.getData(q))};y.prototype.getKey=function(){return this.src_};y.prototype.handleError_=function(){this.state=A.default.ERROR;this.changed()};y.prototype.handleLoad_=function(q){this.grid_=q.grid;this.keys_=q.keys;this.data_=q.data;this.state=A.default.LOADED;this.changed()};y.prototype.loadInternal_=function(){if(this.state==
A.default.IDLE)if(this.state=A.default.LOADING,this.jsonp_)(0,c.jsonp)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var q=new XMLHttpRequest;q.addEventListener("load",this.onXHRLoad_.bind(this));q.addEventListener("error",this.onXHRError_.bind(this));q.open("GET",this.src_);q.send()}};y.prototype.onXHRLoad_=function(q){q=q.target;if(!q.status||200<=q.status&&300>q.status){var E=void 0;try{E=JSON.parse(q.responseText)}catch(F){this.handleError_();return}this.handleLoad_(E)}else this.handleError_()};
y.prototype.onXHRError_=function(q){this.handleError_()};y.prototype.load=function(){this.preemptive_?this.loadInternal_():this.setState(A.default.EMPTY)};return y}(ra.default);B.CustomTile=e;z=function(t){function y(q){var E=t.call(this,{projection:(0,d.get)("EPSG:3857"),state:p.default.LOADING,zDirection:q.zDirection})||this;E.preemptive_=void 0!==q.preemptive?q.preemptive:!0;E.tileUrlFunction_=l.nullTileUrlFunction;E.template_=void 0;E.jsonp_=q.jsonp||!1;if(q.url)if(E.jsonp_)(0,c.jsonp)(q.url,
E.handleTileJSONResponse.bind(E),E.handleTileJSONError.bind(E));else{var F=new XMLHttpRequest;F.addEventListener("load",E.onXHRLoad_.bind(E));F.addEventListener("error",E.onXHRError_.bind(E));F.open("GET",q.url);F.send()}else q.tileJSON?E.handleTileJSONResponse(q.tileJSON):(0,m.assert)(!1,51);return E}a(y,t);y.prototype.onXHRLoad_=function(q){q=q.target;if(!q.status||200<=q.status&&300>q.status){var E=void 0;try{E=JSON.parse(q.responseText)}catch(F){this.handleTileJSONError();return}this.handleTileJSONResponse(E)}else this.handleTileJSONError()};
y.prototype.onXHRError_=function(q){this.handleTileJSONError()};y.prototype.getTemplate=function(){return this.template_};y.prototype.forDataAtCoordinateAndResolution=function(q,E,F,w){this.tileGrid?(E=this.tileGrid.getZForResolution(E,this.zDirection),E=this.tileGrid.getTileCoordForCoordAndZ(q,E),this.getTile(E[0],E[1],E[2],1,this.getProjection()).forDataAtCoordinate(q,F,w)):!0===w?setTimeout(function(){F(null)},0):F(null)};y.prototype.handleTileJSONError=function(){this.setState(p.default.ERROR)};
y.prototype.handleTileJSONResponse=function(q){var E=(0,d.get)("EPSG:4326"),F=this.getProjection();if(void 0!==q.bounds){var w=(0,d.getTransformFromProjections)(E,F);w=(0,u.applyTransform)(q.bounds,w)}F=(0,f.extentFromProjection)(F);this.tileGrid=E=(0,f.createXYZ)({extent:F,maxZoom:q.maxzoom||22,minZoom:q.minzoom||0});this.template_=q.template;var D=q.grids;if(D){this.tileUrlFunction_=(0,l.createFromTemplates)(D,E);if(void 0!==q.attribution){var G=void 0!==w?w:F;this.setAttributions(function(L){return(0,u.intersects)(G,
L.extent)?[q.attribution]:null})}this.setState(p.default.READY)}else this.setState(p.default.ERROR)};y.prototype.getTile=function(q,E,F,w,D){var G=(0,g.getKeyZXY)(q,E,F);if(this.tileCache.containsKey(G))return this.tileCache.get(G);q=[q,E,F];E=this.getTileCoordForTileUrlFunction(q,D);w=this.tileUrlFunction_(E,w,D);w=new e(q,void 0!==w?A.default.IDLE:A.default.EMPTY,void 0!==w?w:"",this.tileGrid.getTileCoordExtent(q),this.preemptive_,this.jsonp_);this.tileCache.set(G,w);return w};y.prototype.useTile=
function(q,E,F){q=(0,g.getKeyZXY)(q,E,F);this.tileCache.containsKey(q)&&this.tileCache.get(q)};return y}(cb.default);B.default=z};
shadow$provide[380]=function(ra,z,cb,B){function v(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(250));var k=v(z(111)),p=function(){var A=function(u,m){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(l[g]=f[g])};return A(u,m)};return function(u,m){function l(){this.constructor=u}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+
String(m)+" is not a constructor or null");A(u,m);u.prototype=null===m?Object.create(m):(l.prototype=m.prototype,new l)}}();z=function(A){function u(m,l,f,g,d,b){m=A.call(this,m,l,b)||this;m.extent=null;m.format_=g;m.features_=null;m.projection=null;m.tileLoadFunction_=d;m.url_=f;m.key=f;return m}p(u,A);u.prototype.getFormat=function(){return this.format_};u.prototype.getFeatures=function(){return this.features_};u.prototype.load=function(){this.state==k.default.IDLE&&(this.setState(k.default.LOADING),
this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))};u.prototype.onLoad=function(m,l){this.setFeatures(m)};u.prototype.onError=function(){this.setState(k.default.ERROR)};u.prototype.setFeatures=function(m){this.features_=m;this.setState(k.default.LOADED)};u.prototype.setLoader=function(m){this.loader_=m};return u}(ra.default);B.default=z};
shadow$provide[381]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(u){return u&&u.__esModule?u:{default:u}}(z(250));var v=z(97),k=z(68),p=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+
String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}(),A=[];z=function(u){function m(l,f,g,d){l=u.call(this,l,f,{transition:0})||this;l.context_={};l.executorGroups={};l.declutterExecutorGroups={};l.loadingSourceTiles=0;l.hitDetectionImageData={};l.replayState_={};l.sourceTiles=[];l.errorTileKeys={};l.getSourceTiles=d.bind(void 0,l);l.wrappedTileCoord=g;return l}p(m,u);m.prototype.getContext=function(l){l=(0,k.getUid)(l);l in this.context_||
(this.context_[l]=(0,v.createCanvasContext2D)(1,1,A));return this.context_[l]};m.prototype.hasContext=function(l){return(0,k.getUid)(l)in this.context_};m.prototype.getImage=function(l){return this.hasContext(l)?this.getContext(l).canvas:null};m.prototype.getReplayState=function(l){l=(0,k.getUid)(l);l in this.replayState_||(this.replayState_[l]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1});return this.replayState_[l]};
m.prototype.load=function(){this.getSourceTiles()};m.prototype.release=function(){for(var l in this.context_)A.push(this.context_[l].canvas),delete this.context_[l];u.prototype.release.call(this)};return m}(ra.default);B.default=z};
shadow$provide[382]=function(ra,z,cb,B){function v(t){return t&&t.__esModule?t:{default:t}}function k(t,y){t.setLoader(function(q,E,F){(0,c.loadFeaturesXhr)(y,t.getFormat(),q,E,F,t.onLoad.bind(t),t.onError.bind(t))})}Object.defineProperty(B,"__esModule",{value:!0});B.defaultLoadFunction=k;B.default=void 0;var p=v(z(83)),A=v(z(380)),u=v(z(258)),m=v(z(111));ra=v(z(265));var l=v(z(381)),f=z(75),g=z(262),d=z(257),b=z(81),c=z(235),a=z(148),e=function(){var t=function(y,q){t=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(E,F){E.__proto__=F}||function(E,F){for(var w in F)Object.prototype.hasOwnProperty.call(F,w)&&(E[w]=F[w])};return t(y,q)};return function(y,q){function E(){this.constructor=y}if("function"!==typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");t(y,q);y.prototype=null===q?Object.create(q):(E.prototype=q.prototype,new E)}}();z=function(t){function y(q){var E=q.projection||"EPSG:3857";var F=q.extent||(0,g.extentFromProjection)(E);F=q.tileGrid||
(0,g.createXYZ)({extent:F,maxResolution:q.maxResolution,maxZoom:void 0!==q.maxZoom?q.maxZoom:22,minZoom:q.minZoom,tileSize:q.tileSize||512});E=t.call(this,{attributions:q.attributions,attributionsCollapsible:q.attributionsCollapsible,cacheSize:q.cacheSize,interpolate:!0,opaque:!1,projection:E,state:q.state,tileGrid:F,tileLoadFunction:q.tileLoadFunction?q.tileLoadFunction:k,tileUrlFunction:q.tileUrlFunction,url:q.url,urls:q.urls,wrapX:void 0===q.wrapX?!0:q.wrapX,transition:q.transition,zDirection:void 0===
q.zDirection?1:q.zDirection})||this;E.format_=q.format?q.format:null;E.sourceTileCache=new u.default(E.tileCache.highWaterMark);E.overlaps_=void 0==q.overlaps?!0:q.overlaps;E.tileClass=q.tileClass?q.tileClass:A.default;E.tileGrids_={};return E}e(y,t);y.prototype.getFeaturesInExtent=function(q){var E=[],F=this.tileCache;if(0===F.getCount())return E;var w=(0,d.fromKey)(F.peekFirstKey())[0],D=this.tileGrid;F.forEach(function(G){if(G.tileCoord[0]===w&&G.getState()===m.default.LOADED){G=G.getSourceTiles();
for(var L=0,O=G.length;L<O;++L){var V=G[L];if((0,f.intersects)(q,D.getTileCoordExtent(V.tileCoord))&&(V=V.getFeatures()))for(var S=0,ca=V.length;S<ca;++S){var ea=V[S],T=ea.getGeometry();(0,f.intersects)(q,T.getExtent())&&E.push(ea)}}}});return E};y.prototype.getOverlaps=function(){return this.overlaps_};y.prototype.clear=function(){this.tileCache.clear();this.sourceTileCache.clear()};y.prototype.expireCache=function(q,E){var F=this.getTileCacheForProjection(q),w=Object.keys(E).reduce(function(D,G){G=
(0,d.getCacheKeyForTileKey)(G);if(F.containsKey(G)){G=F.get(G).sourceTiles;for(var L=0,O=G.length;L<O;++L)D[G[L].getKey()]=!0}return D},{});t.prototype.expireCache.call(this,q,E);this.sourceTileCache.expireCache(w)};y.prototype.getSourceTiles=function(q,E,F){var w=this;if(F.getState()===m.default.IDLE){F.setState(m.default.LOADING);var D=F.wrappedTileCoord,G=this.getTileGridForProjection(E),L=G.getTileCoordExtent(D);D=G.getResolution(D[0]);(0,f.buffer)(L,-D,L);var O=this.tileGrid;(G=O.getExtent())&&
(0,f.getIntersection)(L,G,L);D=O.getZForResolution(D,1);O.forEachTileCoord(L,D,function(V){var S=w.tileUrlFunction(V,q,E),ca=w.sourceTileCache.containsKey(S)?w.sourceTileCache.get(S):new w.tileClass(V,S?m.default.IDLE:m.default.EMPTY,S,w.format_,w.tileLoadFunction);F.sourceTiles.push(ca);var ea=ca.getState();if(ea<m.default.LOADED){var T=function(R){w.handleTileChange(R);R=ca.getState();if(R===m.default.LOADED||R===m.default.ERROR){var J=ca.getKey();J in F.errorTileKeys?ca.getState()===m.default.LOADED&&
delete F.errorTileKeys[J]:F.loadingSourceTiles--;R===m.default.ERROR?F.errorTileKeys[J]=!0:ca.removeEventListener(p.default.CHANGE,T);0===F.loadingSourceTiles&&F.setState((0,b.isEmpty)(F.errorTileKeys)?m.default.LOADED:m.default.ERROR)}};ca.addEventListener(p.default.CHANGE,T);F.loadingSourceTiles++}ea===m.default.IDLE&&(ca.extent=O.getTileCoordExtent(V),ca.projection=E,ca.resolution=O.getResolution(V[0]),w.sourceTileCache.set(S,ca),ca.load())});F.loadingSourceTiles||F.setState(F.sourceTiles.some(function(V){return V.getState()===
m.default.ERROR})?m.default.ERROR:m.default.LOADED)}return F.sourceTiles};y.prototype.getTile=function(q,E,F,w,D){var G=(0,d.getKeyZXY)(q,E,F),L=this.getKey();if(this.tileCache.containsKey(G)){var O=this.tileCache.get(G);if(O.key===L)return O}E=[q,E,F];F=this.getTileCoordForTileUrlFunction(E,D);var V=this.getTileGrid().getExtent(),S=this.getTileGridForProjection(D);if(F&&V){var ca=S.getTileCoordExtent(F);(0,f.buffer)(ca,-S.getResolution(q),ca);(0,f.intersects)(V,ca)||(F=null)}var ea=!0;null!==F&&
(V=this.tileGrid,q=S.getResolution(q),ca=V.getZForResolution(q,1),S=S.getTileCoordExtent(F),(0,f.buffer)(S,-q,S),V.forEachTileCoord(S,ca,function(T){ea=ea&&!this.tileUrlFunction(T,w,D)}.bind(this)));E=new l.default(E,ea?m.default.EMPTY:m.default.IDLE,F,this.getSourceTiles.bind(this,w,D));E.key=L;O?(E.interimTile=O,E.refreshInterimChain(),this.tileCache.replace(G,E)):this.tileCache.set(G,E);return E};y.prototype.getTileGridForProjection=function(q){var E=q.getCode(),F=this.tileGrids_[E];F||(F=this.tileGrid,
F=(0,g.createForProjection)(q,void 0,F?F.getTileSize(F.getMinZoom()):void 0),this.tileGrids_[E]=F);return F};y.prototype.getTilePixelRatio=function(q){return q};y.prototype.getTilePixelSize=function(q,E,F){F=this.getTileGridForProjection(F);q=(0,a.toSize)(F.getTileSize(q),this.tmpSize);return[Math.round(q[0]*E),Math.round(q[1]*E)]};y.prototype.updateCacheSize=function(q,E){t.prototype.updateCacheSize.call(this,2*q,E);this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(E).highWaterMark};
return y}(ra.default);B.default=z};
shadow$provide[383]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={KVP:"KVP",REST:"REST"}};
shadow$provide[384]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.createFromCapabilitiesMatrixSet=function(u,m,l){var f=[],g=[],d=[],b=[],c=[],a=void 0!==l?l:[];l=(0,k.get)(u.SupportedCRS);var e=l.getMetersPerUnit(),t="ne"==l.getAxisOrientation().substr(0,2);u.TileMatrix.sort(function(y,q){return q.ScaleDenominator-y.ScaleDenominator});u.TileMatrix.forEach(function(y){if(0<a.length?(0,v.find)(a,function(w){return y.Identifier==w.TileMatrix?!0:-1===y.Identifier.indexOf(":")?
u.Identifier+":"+y.Identifier===w.TileMatrix:!1}):1){g.push(y.Identifier);var q=2.8E-4*y.ScaleDenominator/e,E=y.TileWidth,F=y.TileHeight;t?d.push([y.TopLeftCorner[1],y.TopLeftCorner[0]]):d.push(y.TopLeftCorner);f.push(q);b.push(E==F?E:[E,F]);c.push([y.MatrixWidth,y.MatrixHeight])}});return new A({extent:m,origins:d,resolutions:f,matrixIds:g,tileSizes:b,sizes:c})};B.default=void 0;ra=function(u){return u&&u.__esModule?u:{default:u}}(z(261));var v=z(66),k=z(124),p=function(){var u=function(m,l){u=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}(),A=function(u){function m(l){var f=u.call(this,{extent:l.extent,origin:l.origin,origins:l.origins,
resolutions:l.resolutions,tileSize:l.tileSize,tileSizes:l.tileSizes,sizes:l.sizes})||this;f.matrixIds_=l.matrixIds;return f}p(m,u);m.prototype.getMatrixId=function(l){return this.matrixIds_[l]};m.prototype.getMatrixIds=function(){return this.matrixIds_};return m}(ra.default);B.default=A};
shadow$provide[385]=function(ra,z,cb,B){function v(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(B,"__esModule",{value:!0});B.optionsFromCapabilities=function(b,c){var a=(0,g.find)(b.Contents.Layer,function(T,R,J){return T.Identifier==c.layer});if(null===a)return null;var e=b.Contents.TileMatrixSet;var t=1<a.TileMatrixSetLink.length?"projection"in c?(0,g.findIndex)(a.TileMatrixSetLink,function(T,R,J){R=(0,g.find)(e,function(C){return C.Identifier==T.TileMatrixSet}).SupportedCRS;J=
(0,f.get)(R);var r=(0,f.get)(c.projection);return J&&r?(0,f.equivalent)(J,r):R==c.projection}):(0,g.findIndex)(a.TileMatrixSetLink,function(T,R,J){return T.TileMatrixSet==c.matrixSet}):0;0>t&&(t=0);var y=a.TileMatrixSetLink[t].TileMatrixSet,q=a.TileMatrixSetLink[t].TileMatrixSetLimits,E=a.Format[0];"format"in c&&(E=c.format);t=(0,g.findIndex)(a.Style,function(T,R,J){return"style"in c?T.Title==c.style:T.isDefault});0>t&&(t=0);t=a.Style[t].Identifier;var F={};"Dimension"in a&&a.Dimension.forEach(function(T,
R,J){R=T.Identifier;J=T.Default;void 0===J&&(J=T.Value[0]);F[R]=J});var w=(0,g.find)(b.Contents.TileMatrixSet,function(T,R,J){return T.Identifier==y}),D,G=w.SupportedCRS;G&&(D=(0,f.get)(G));"projection"in c&&(G=(0,f.get)(c.projection),!G||D&&!(0,f.equivalent)(G,D)||(D=G));G=!1;var L="ne"==D.getAxisOrientation().substr(0,2),O=w.TileMatrix[0],V={MinTileCol:0,MinTileRow:0,MaxTileCol:O.MatrixWidth-1,MaxTileRow:O.MatrixHeight-1};if(q){V=q[q.length-1];var S=(0,g.find)(w.TileMatrix,function(T){return T.Identifier===
V.TileMatrix||w.Identifier+":"+T.Identifier===V.TileMatrix});S&&(O=S)}var ca=2.8E-4*O.ScaleDenominator/D.getMetersPerUnit();L=L?[O.TopLeftCorner[1],O.TopLeftCorner[0]]:O.TopLeftCorner;S=O.TileWidth*ca;ca*=O.TileHeight;O=w.BoundingBox;L=[L[0]+S*V.MinTileCol,L[1]-ca*(1+V.MaxTileRow),L[0]+S*(1+V.MaxTileCol),L[1]-ca*V.MinTileRow];void 0===O||(0,u.containsExtent)(O,L)||(S=a.WGS84BoundingBox,G=(0,f.get)("EPSG:4326").getExtent(),L=O,S?G=S[0]===G[0]&&S[2]===G[2]:(O=(0,f.transformExtent)(O,w.SupportedCRS,
"EPSG:4326"),G=O[0]-1E-10<=G[0]&&O[2]+1E-10>=G[2]));q=(0,m.createFromCapabilitiesMatrixSet)(w,L,q);var ea=[];O=c.requestEncoding;O=void 0!==O?O:"";if("OperationsMetadata"in b&&"GetTile"in b.OperationsMetadata)for(b=b.OperationsMetadata.GetTile.DCP.HTTP.Get,L=0,S=b.length;L<S;++L)if(b[L].Constraint)if(ca=(0,g.find)(b[L].Constraint,function(T){return"GetEncoding"==T.name}).AllowedValues.Value,""===O&&(O=ca[0]),O===k.default.KVP)(0,g.includes)(ca,k.default.KVP)&&ea.push(b[L].href);else break;else b[L].href&&
(O=k.default.KVP,ea.push(b[L].href));0===ea.length&&(O=k.default.REST,a.ResourceURL.forEach(function(T){"tile"===T.resourceType&&(E=T.format,ea.push(T.template))}));return{urls:ea,layer:c.layer,matrixSet:y,format:E,projection:D,requestEncoding:O,tileGrid:q,style:t,dimensions:F,wrapX:G,crossOrigin:c.crossOrigin}};B.default=void 0;ra=v(z(266));var k=v(z(383)),p=z(356),A=z(81),u=z(75),m=z(384),l=z(264),f=z(124),g=z(66),d=function(){var b=function(c,a){b=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(e,t){e.__proto__=t}||function(e,t){for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(e[y]=t[y])};return b(c,a)};return function(c,a){function e(){this.constructor=c}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");b(c,a);c.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}}();z=function(b){function c(a){var e=void 0!==a.imageSmoothing?a.imageSmoothing:!0;void 0!==a.interpolate&&(e=a.interpolate);
var t=void 0!==a.requestEncoding?a.requestEncoding:k.default.KVP,y=a.tileGrid,q=a.urls;void 0===q&&void 0!==a.url&&(q=(0,l.expandUrl)(a.url));e=b.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,interpolate:e,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:y,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,urls:q,wrapX:void 0!==a.wrapX?
a.wrapX:!1,transition:a.transition,zDirection:a.zDirection})||this;e.version_=void 0!==a.version?a.version:"1.0.0";e.format_=void 0!==a.format?a.format:"image/jpeg";e.dimensions_=void 0!==a.dimensions?a.dimensions:{};e.layer_=a.layer;e.matrixSet_=a.matrixSet;e.style_=a.style;e.requestEncoding_=t;e.setKey(e.getKeyForDimensions_());q&&0<q.length&&(e.tileUrlFunction=(0,l.createFromTileUrlFunctions)(q.map(e.createFromWMTSTemplate.bind(e))));return e}d(c,b);c.prototype.setUrls=function(a){this.urls=a;
var e=a.join("\n");this.setTileUrlFunction((0,l.createFromTileUrlFunctions)(a.map(this.createFromWMTSTemplate.bind(this))),e)};c.prototype.getDimensions=function(){return this.dimensions_};c.prototype.getFormat=function(){return this.format_};c.prototype.getLayer=function(){return this.layer_};c.prototype.getMatrixSet=function(){return this.matrixSet_};c.prototype.getRequestEncoding=function(){return this.requestEncoding_};c.prototype.getStyle=function(){return this.style_};c.prototype.getVersion=
function(){return this.version_};c.prototype.getKeyForDimensions_=function(){var a=0,e=[],t;for(t in this.dimensions_)e[a++]=t+"-"+this.dimensions_[t];return e.join("/")};c.prototype.updateDimensions=function(a){(0,A.assign)(this.dimensions_,a);this.setKey(this.getKeyForDimensions_())};c.prototype.createFromWMTSTemplate=function(a){var e=this.requestEncoding_,t={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==k.default.KVP&&(0,A.assign)(t,{Service:"WMTS",Request:"GetTile",Version:this.version_,
Format:this.format_});a=e==k.default.KVP?(0,p.appendParams)(a,t):a.replace(/\{(\w+?)\}/g,function(E,F){return F.toLowerCase()in t?t[F.toLowerCase()]:E});var y=this.tileGrid,q=this.dimensions_;return function(E,F,w){if(E){var D={TileMatrix:y.getMatrixId(E[0]),TileCol:E[1],TileRow:E[2]};(0,A.assign)(D,q);E=a;return E=e==k.default.KVP?(0,p.appendParams)(E,D):E.replace(/\{(\w+?)\}/g,function(G,L){return D[L]})}}};return c}(ra.default);B.default=z};
shadow$provide[386]=function(ra,z,cb,B){function v(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(B,"__esModule",{value:!0});B.sourcesFromTileGrid=function(C,N){var U=new k.default(32),ja=C.getExtent();return function(ba,ia){U.expireCache();ja&&(ba=(0,p.getIntersection)(ja,ba));ia=C.getZForResolution(ia);var za=[];C.forEachTileCoord(ba,ia,function(Wa){var hb=Wa.toString();U.containsKey(hb)||(Wa=N(Wa),U.set(hb,Wa));za.push(U.get(hb))});return za}};Object.defineProperty(B,"BingMaps",
{enumerable:!0,get:function(){return A.default}});Object.defineProperty(B,"CartoDB",{enumerable:!0,get:function(){return u.default}});Object.defineProperty(B,"Cluster",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(B,"DataTile",{enumerable:!0,get:function(){return l.default}});Object.defineProperty(B,"GeoTIFF",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(B,"IIIF",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(B,"Image",{enumerable:!0,
get:function(){return d.default}});Object.defineProperty(B,"ImageArcGISRest",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(B,"ImageCanvas",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(B,"ImageMapGuide",{enumerable:!0,get:function(){return a.default}});Object.defineProperty(B,"ImageStatic",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(B,"ImageWMS",{enumerable:!0,get:function(){return t.default}});Object.defineProperty(B,
"OSM",{enumerable:!0,get:function(){return y.default}});Object.defineProperty(B,"Raster",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(B,"Source",{enumerable:!0,get:function(){return E.default}});Object.defineProperty(B,"Stamen",{enumerable:!0,get:function(){return F.default}});Object.defineProperty(B,"Tile",{enumerable:!0,get:function(){return w.default}});Object.defineProperty(B,"TileArcGISRest",{enumerable:!0,get:function(){return D.default}});Object.defineProperty(B,
"TileDebug",{enumerable:!0,get:function(){return G.default}});Object.defineProperty(B,"TileImage",{enumerable:!0,get:function(){return L.default}});Object.defineProperty(B,"TileJSON",{enumerable:!0,get:function(){return O.default}});Object.defineProperty(B,"TileWMS",{enumerable:!0,get:function(){return V.default}});Object.defineProperty(B,"UrlTile",{enumerable:!0,get:function(){return S.default}});Object.defineProperty(B,"UTFGrid",{enumerable:!0,get:function(){return ca.default}});Object.defineProperty(B,
"Vector",{enumerable:!0,get:function(){return ea.default}});Object.defineProperty(B,"VectorTile",{enumerable:!0,get:function(){return T.default}});Object.defineProperty(B,"WMTS",{enumerable:!0,get:function(){return R.default}});Object.defineProperty(B,"XYZ",{enumerable:!0,get:function(){return J.default}});Object.defineProperty(B,"Zoomify",{enumerable:!0,get:function(){return r.default}});var k=v(z(249)),p=z(75),A=v(z(268)),u=v(z(270)),m=v(z(271)),l=v(z(273)),f=v(z(350)),g=v(z(353)),d=v(z(355)),b=
v(z(357)),c=v(z(359)),a=v(z(360)),e=v(z(361)),t=v(z(364)),y=v(z(365)),q=v(z(373)),E=v(z(232)),F=v(z(374)),w=v(z(263)),D=v(z(375)),G=v(z(376)),L=v(z(266)),O=v(z(377)),V=v(z(378)),S=v(z(265)),ca=v(z(379)),ea=v(z(236)),T=v(z(382)),R=v(z(385)),J=v(z(269)),r=v(z(351))};
shadow$provide[387]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.toContext=function(m,l){var f=m.canvas,g=l?l:{};l=g.pixelRatio||k.DEVICE_PIXEL_RATIO;if(g=g.size)f.width=g[0]*l,f.height=g[1]*l,f.style.width=g[0]+"px",f.style.height=g[1]+"px";f=[0,0,f.width,f.height];g=(0,p.scale)((0,p.create)(),l,l);return new v.default(m,l,f,g,0)};B.getVectorContext=function(m){if(!(m.context instanceof CanvasRenderingContext2D))throw Error("Only works for render events from Canvas 2D layers");
var l=m.inversePixelTransform[0],f=m.frameState,g=(0,p.multiply)(m.inversePixelTransform.slice(),f.coordinateToPixelTransform),d=(0,A.getSquaredTolerance)(f.viewState.resolution,l),b,c=(0,u.getUserProjection)();c&&(b=(0,u.getTransformFromProjections)(c,f.viewState.projection));return new v.default(m.context,l,f.extent,g,f.viewState.rotation,d,b)};B.getRenderPixel=function(m,l){return(0,p.apply)(m.inversePixelTransform,l.slice(0))};var v=function(m){return m&&m.__esModule?m:{default:m}}(z(218)),k=
z(69),p=z(72),A=z(228),u=z(124)};
shadow$provide[388]=function(ra,z,cb,B){function v(A,u,m){for(var l=[],f=A(0),g=A(1),d=u(f),b=u(g),c=[g,f],a=[b,d],e=[1,0],t={},y=1E5,q,E,F,w,D;0<--y&&0<e.length;)F=e.pop(),f=c.pop(),d=a.pop(),g=F.toString(),g in t||(l.push(d[0],d[1]),t[g]=!0),w=e.pop(),g=c.pop(),b=a.pop(),D=(F+w)/2,q=A(D),E=u(q),(0,p.squaredSegmentDistance)(E[0],E[1],d[0],d[1],b[0],b[1])<m?(l.push(b[0],b[1]),g=w.toString(),t[g]=!0):(e.push(w,D,D,F),a.push(b,E,E,d),c.push(g,q,q,f));return l}Object.defineProperty(B,"__esModule",{value:!0});
B.greatCircleArc=function(A,u,m,l,f,g){var d=(0,k.get)("EPSG:4326"),b=Math.cos((0,p.toRadians)(u)),c=Math.sin((0,p.toRadians)(u)),a=Math.cos((0,p.toRadians)(l)),e=Math.sin((0,p.toRadians)(l)),t=Math.cos((0,p.toRadians)(m-A)),y=Math.sin((0,p.toRadians)(m-A)),q=c*e+b*a*t;return v(function(E){if(1<=q)return[m,l];var F=E*Math.acos(q);E=Math.cos(F);var w=Math.sin(F),D=Math.atan2(y*a,b*e-c*a*t);F=Math.asin(c*E+b*w*Math.cos(D));E=(0,p.toRadians)(A)+Math.atan2(Math.sin(D)*w*b,E-c*Math.sin(F));return[(0,p.toDegrees)(E),
(0,p.toDegrees)(F)]},(0,k.getTransform)(d,f),g)};B.meridian=function(A,u,m,l,f){var g=(0,k.get)("EPSG:4326");return v(function(d){return[A,u+(m-u)*d]},(0,k.getTransform)(g,l),f)};B.parallel=function(A,u,m,l,f){var g=(0,k.get)("EPSG:4326");return v(function(d){return[u+(m-u)*d,A]},(0,k.getTransform)(g,l),f)};var k=z(124),p=z(76)};
shadow$provide[389]=function(ra,z,cb,B){function v(L){return L&&L.__esModule?L:{default:L}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(101)),p=v(z(89)),A=v(z(184)),u=v(z(198)),m=v(z(129)),l=v(z(187)),f=v(z(139)),g=v(z(199)),d=v(z(200)),b=v(z(225));ra=v(z(230));var c=v(z(236)),a=z(75),e=z(81),t=z(76),y=z(93),q=z(124),E=z(387),F=z(388),w=function(){var L=function(O,V){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,ca){S.__proto__=ca}||function(S,
ca){for(var ea in ca)Object.prototype.hasOwnProperty.call(ca,ea)&&(S[ea]=ca[ea])};return L(O,V)};return function(O,V){function S(){this.constructor=O}if("function"!==typeof V&&null!==V)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");L(O,V);O.prototype=null===V?Object.create(V):(S.prototype=V.prototype,new S)}}(),D=new g.default({color:"rgba(0,0,0,0.2)"}),G=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];z=function(L){function O(V){var S=this;V=V?V:{};S=
(0,e.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},V);delete S.maxLines;delete S.strokeStyle;delete S.targetSize;delete S.showLabels;delete S.lonLabelFormatter;delete S.latLabelFormatter;delete S.lonLabelPosition;delete S.latLabelPosition;delete S.lonLabelStyle;delete S.latLabelStyle;delete S.intervals;S=L.call(this,S)||this;S.projection_=null;S.maxLat_=Infinity;S.maxLon_=Infinity;S.minLat_=-Infinity;S.minLon_=-Infinity;S.maxX_=Infinity;S.maxY_=Infinity;S.minX_=-Infinity;
S.minY_=-Infinity;S.targetSize_=void 0!==V.targetSize?V.targetSize:100;S.maxLines_=void 0!==V.maxLines?V.maxLines:100;S.meridians_=[];S.parallels_=[];S.strokeStyle_=void 0!==V.strokeStyle?V.strokeStyle:D;S.fromLonLatTransform_=void 0;S.toLonLatTransform_=void 0;S.projectionCenterLonLat_=null;S.bottomLeft_=null;S.bottomRight_=null;S.topLeft_=null;S.topRight_=null;S.meridiansLabels_=null;S.parallelsLabels_=null;V.showLabels&&(S.lonLabelFormatter_=void 0==V.lonLabelFormatter?y.degreesToStringHDMS.bind(S,
"EW"):V.lonLabelFormatter,S.latLabelFormatter_=void 0==V.latLabelFormatter?y.degreesToStringHDMS.bind(S,"NS"):V.latLabelFormatter,S.lonLabelPosition_=void 0==V.lonLabelPosition?0:V.lonLabelPosition,S.latLabelPosition_=void 0==V.latLabelPosition?1:V.latLabelPosition,S.lonLabelStyleBase_=new d.default({text:void 0!==V.lonLabelStyle?V.lonLabelStyle.clone():new b.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new u.default({color:"rgba(0,0,0,1)"}),stroke:new g.default({color:"rgba(255,255,255,1)",
width:3})})}),S.lonLabelStyle_=function(ca){ca=ca.get("graticule_label");this.lonLabelStyleBase_.getText().setText(ca);return this.lonLabelStyleBase_}.bind(S),S.latLabelStyleBase_=new d.default({text:void 0!==V.latLabelStyle?V.latLabelStyle.clone():new b.default({font:"12px Calibri,sans-serif",textAlign:"right",fill:new u.default({color:"rgba(0,0,0,1)"}),stroke:new g.default({color:"rgba(255,255,255,1)",width:3})})}),S.latLabelStyle_=function(ca){ca=ca.get("graticule_label");this.latLabelStyleBase_.getText().setText(ca);
return this.latLabelStyleBase_}.bind(S),S.meridiansLabels_=[],S.parallelsLabels_=[],S.addEventListener(p.default.POSTRENDER,S.drawLabels_.bind(S)));S.intervals_=void 0!==V.intervals?V.intervals:G;S.setSource(new c.default({loader:S.loaderFunction.bind(S),strategy:S.strategyFunction.bind(S),features:new k.default,overlaps:!1,useSpatialIndex:!1,wrapX:V.wrapX}));S.featurePool_=[];S.lineStyle_=new d.default({stroke:S.strokeStyle_});S.loadedExtent_=null;S.renderedExtent_=null;S.renderedResolution_=null;
S.setRenderOrder(null);return S}w(O,L);O.prototype.strategyFunction=function(V,S){V=V.slice();this.projection_&&this.getSource().getWrapX()&&(0,a.wrapX)(V,this.projection_);this.loadedExtent_&&((0,a.approximatelyEquals)(this.loadedExtent_,V,S)?V=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[V]};O.prototype.loaderFunction=function(V,S,ca){this.loadedExtent_=V;var ea=this.getSource(),T=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];V=(0,a.getIntersection)(T,
V);if(!this.renderedExtent_||!(0,a.equals)(this.renderedExtent_,V)||this.renderedResolution_!==S)if(this.renderedExtent_=V,this.renderedResolution_=S,!(0,a.isEmpty)(V)){T=(0,a.getCenter)(V);var R=S*S/4;this.projection_&&(0,q.equivalent)(this.projection_,ca)||this.updateProjectionInfo_(ca);this.createGraticule_(V,T,S,R);ca=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(ca+=this.meridians_.length);for(this.parallelsLabels_&&(ca+=this.parallels_.length);ca>this.featurePool_.length;)S=
new A.default,this.featurePool_.push(S);ea=ea.getFeaturesCollection();ea.clear();V=ca=0;for(T=this.meridians_.length;V<T;++V)S=this.featurePool_[ca++],S.setGeometry(this.meridians_[V]),S.setStyle(this.lineStyle_),ea.push(S);V=0;for(T=this.parallels_.length;V<T;++V)S=this.featurePool_[ca++],S.setGeometry(this.parallels_[V]),S.setStyle(this.lineStyle_),ea.push(S)}};O.prototype.addMeridian_=function(V,S,ca,ea,T,R){S=this.getMeridian_(V,S,ca,ea,R);(0,a.intersects)(S.getExtent(),T)&&(this.meridiansLabels_&&
(V=this.lonLabelFormatter_(V),R in this.meridiansLabels_?this.meridiansLabels_[R].text=V:this.meridiansLabels_[R]={geom:new f.default([]),text:V}),this.meridians_[R++]=S);return R};O.prototype.addParallel_=function(V,S,ca,ea,T,R){S=this.getParallel_(V,S,ca,ea,R);(0,a.intersects)(S.getExtent(),T)&&(this.parallelsLabels_&&(V=this.latLabelFormatter_(V),R in this.parallelsLabels_?this.parallelsLabels_[R].text=V:this.parallelsLabels_[R]={geom:new f.default([]),text:V}),this.parallels_[R++]=S);return R};
O.prototype.drawLabels_=function(V){var S=V.frameState.viewState.rotation,ca=V.frameState.viewState.resolution,ea=V.frameState.size,T=V.frameState.extent,R=(0,a.getCenter)(T),J=T;S&&(J=ea[0]*ca,ca*=ea[1],J=[R[0]-J/2,R[1]-ca/2,R[0]+J/2,R[1]+ca/2]);ea=ca=0;var r=.5>this.latLabelPosition_,C=this.projection_.getExtent(),N=(0,a.getWidth)(C);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(C,T)&&(ca=Math.floor((T[0]-C[0])/N),ea=Math.ceil((T[2]-C[2])/N),r=r!==Math.abs(S)>Math.PI/
2);V=(0,E.getVectorContext)(V);for(C=ca;C<=ea;++C){var U=this.meridians_.length+this.parallels_.length,ja;if(this.meridiansLabels_){var ba=0;for(ja=this.meridiansLabels_.length;ba<ja;++ba){var ia=this.meridians_[ba];if(S||0!==C){ia=ia.clone();ia.translate(C*N,0);ia.rotate(-S,R);var za=this.getMeridianPoint_(ia,J,ba);za.rotate(S,R)}else za=this.getMeridianPoint_(ia,T,ba);ia=this.featurePool_[U++];ia.setGeometry(za);ia.set("graticule_label",this.meridiansLabels_[ba].text);V.drawFeature(ia,this.lonLabelStyle_(ia))}}if(this.parallelsLabels_&&
(C===ca&&r||C===ea&&!r))for(ba=0,ja=this.parallels_.length;ba<ja;++ba)ia=this.parallels_[ba],S||0!==C?(ia=ia.clone(),ia.translate(C*N,0),ia.rotate(-S,R),za=this.getParallelPoint_(ia,J,ba),za.rotate(S,R)):za=this.getParallelPoint_(ia,T,ba),ia=this.featurePool_[U++],ia.setGeometry(za),ia.set("graticule_label",this.parallelsLabels_[ba].text),V.drawFeature(ia,this.latLabelStyle_(ia))}};O.prototype.createGraticule_=function(V,S,ca,ea){ca=this.getInterval_(ca);if(-1==ca)this.meridians_.length=0,this.parallels_.length=
0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var T=!1,R=this.projection_.getExtent(),J=(0,a.getWidth)(R);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,a.containsExtent)(R,V)&&((0,a.getWidth)(V)>=J?(V[0]=R[0],V[2]=R[2]):T=!0);S=[(0,t.clamp)(S[0],this.minX_,this.maxX_),(0,t.clamp)(S[1],this.minY_,this.maxY_)];R=this.toLonLatTransform_(S);isNaN(R[1])&&(R[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:
this.minLat_);S=(0,t.clamp)(R[0],this.minLon_,this.maxLon_);R=(0,t.clamp)(R[1],this.minLat_,this.maxLat_);J=this.maxLines_;var r=V;T||(r=[(0,t.clamp)(V[0],this.minX_,this.maxX_),(0,t.clamp)(V[1],this.minY_,this.maxY_),(0,t.clamp)(V[2],this.minX_,this.maxX_),(0,t.clamp)(V[3],this.minY_,this.maxY_)]);var C=(0,a.applyTransform)(r,this.toLonLatTransform_,void 0,8),N=C[3],U=C[2],ja=C[1];C=C[0];T||((0,a.containsCoordinate)(r,this.bottomLeft_)&&(C=this.minLon_,ja=this.minLat_),(0,a.containsCoordinate)(r,
this.bottomRight_)&&(U=this.maxLon_,ja=this.minLat_),(0,a.containsCoordinate)(r,this.topLeft_)&&(C=this.minLon_,N=this.maxLat_),(0,a.containsCoordinate)(r,this.topRight_)&&(U=this.maxLon_,N=this.maxLat_),N=(0,t.clamp)(N,R,this.maxLat_),U=(0,t.clamp)(U,S,this.maxLon_),ja=(0,t.clamp)(ja,this.minLat_,R),C=(0,t.clamp)(C,this.minLon_,S));S=Math.floor(S/ca)*ca;var ba=(0,t.clamp)(S,this.minLon_,this.maxLon_);var ia=this.addMeridian_(ba,ja,N,ea,V,0);r=0;if(T)for(;(ba-=ca)>=C&&r++<J;)ia=this.addMeridian_(ba,
ja,N,ea,V,ia);else for(;ba!=this.minLon_&&r++<J;)ba=Math.max(ba-ca,this.minLon_),ia=this.addMeridian_(ba,ja,N,ea,V,ia);ba=(0,t.clamp)(S,this.minLon_,this.maxLon_);r=0;if(T)for(;(ba+=ca)<=U&&r++<J;)ia=this.addMeridian_(ba,ja,N,ea,V,ia);else for(;ba!=this.maxLon_&&r++<J;)ba=Math.min(ba+ca,this.maxLon_),ia=this.addMeridian_(ba,ja,N,ea,V,ia);this.meridians_.length=ia;this.meridiansLabels_&&(this.meridiansLabels_.length=ia);R=Math.floor(R/ca)*ca;T=(0,t.clamp)(R,this.minLat_,this.maxLat_);ia=this.addParallel_(T,
C,U,ea,V,0);for(r=0;T!=this.minLat_&&r++<J;)T=Math.max(T-ca,this.minLat_),ia=this.addParallel_(T,C,U,ea,V,ia);T=(0,t.clamp)(R,this.minLat_,this.maxLat_);for(r=0;T!=this.maxLat_&&r++<J;)T=Math.min(T+ca,this.maxLat_),ia=this.addParallel_(T,C,U,ea,V,ia);this.parallels_.length=ia;this.parallelsLabels_&&(this.parallelsLabels_.length=ia)}};O.prototype.getInterval_=function(V){var S=this.projectionCenterLonLat_[0],ca=this.projectionCenterLonLat_[1],ea=-1;V=Math.pow(this.targetSize_*V,2);for(var T=[],R=[],
J=0,r=this.intervals_.length;J<r;++J){var C=(0,t.clamp)(this.intervals_[J]/2,0,90),N=(0,t.clamp)(ca,-90+C,90-C);T[0]=S-C;T[1]=N-C;R[0]=S+C;R[1]=N+C;this.fromLonLatTransform_(T,T);this.fromLonLatTransform_(R,R);if(Math.pow(R[0]-T[0],2)+Math.pow(R[1]-T[1],2)<=V)break;ea=this.intervals_[J]}return ea};O.prototype.getMeridian_=function(V,S,ca,ea,T){V=(0,F.meridian)(V,S,ca,this.projection_,ea);(S=this.meridians_[T])?(S.setFlatCoordinates(m.default.XY,V),S.changed()):(S=new l.default(V,m.default.XY),this.meridians_[T]=
S);return S};O.prototype.getMeridianPoint_=function(V,S,ca){V=V.getFlatCoordinates();var ea=1,T=V.length-1;V[ea]>V[T]&&(ea=T,T=1);S=(0,t.clamp)(S[1]+Math.abs(S[1]-S[3])*this.lonLabelPosition_,Math.max(S[1],V[ea]),Math.min(S[3],V[T]));ca=this.meridiansLabels_[ca].geom;ca.setCoordinates([V[ea-1]+(V[T-1]-V[ea-1])*(S-V[ea])/(V[T]-V[ea]),S]);return ca};O.prototype.getMeridians=function(){return this.meridians_};O.prototype.getParallel_=function(V,S,ca,ea,T){V=(0,F.parallel)(V,S,ca,this.projection_,ea);
(T=this.parallels_[T])?(T.setFlatCoordinates(m.default.XY,V),T.changed()):T=new l.default(V,m.default.XY);return T};O.prototype.getParallelPoint_=function(V,S,ca){V=V.getFlatCoordinates();var ea=0,T=V.length-2;V[ea]>V[T]&&(ea=T,T=0);S=(0,t.clamp)(S[0]+Math.abs(S[0]-S[2])*this.latLabelPosition_,Math.max(S[0],V[ea]),Math.min(S[2],V[T]));ca=this.parallelsLabels_[ca].geom;ca.setCoordinates([S,V[ea+1]+(V[T+1]-V[ea+1])*(S-V[ea])/(V[T]-V[ea])]);return ca};O.prototype.getParallels=function(){return this.parallels_};
O.prototype.updateProjectionInfo_=function(V){var S=(0,q.get)("EPSG:4326"),ca=V.getWorldExtent();this.maxLat_=ca[3];this.maxLon_=ca[2];this.minLat_=ca[1];this.minLon_=ca[0];var ea=(0,q.getTransform)(V,S);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=ea;else{var T=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(R,J,r){r=r||2;R=ea(R,J,r);J=0;for(var C=R.length;J<C;J+=r)R[J]<T&&(R[J]+=360);return R}}this.fromLonLatTransform_=(0,q.getTransform)(S,V);S=(0,a.applyTransform)([this.minLon_,
this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=S[0];this.maxX_=S[2];this.minY_=S[1];this.maxY_=S[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,a.getCenter)(V.getExtent()));
isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=V};return O}(ra.default);B.default=z};
shadow$provide[390]=function(ra,z,cb,B){function v(m,l){l=(0,p.assign)({preserveDrawingBuffer:!0,antialias:k.SAFARI_BUG_237906?!1:!0},l);for(var f=A.length,g=0;g<f;++g)try{var d=m.getContext(A[g],l);if(d)return d}catch(b){}return null}Object.defineProperty(B,"__esModule",{value:!0});B.getContext=v;B.getSupportedExtensions=function(){if(!u){var m=document.createElement("canvas");(m=v(m))&&(u=m.getSupportedExtensions())}return u};B.FLOAT=B.UNSIGNED_INT=B.UNSIGNED_SHORT=B.UNSIGNED_BYTE=B.DYNAMIC_DRAW=
B.STATIC_DRAW=B.STREAM_DRAW=B.ELEMENT_ARRAY_BUFFER=B.ARRAY_BUFFER=void 0;var k=z(69),p=z(81);B.ARRAY_BUFFER=34962;B.ELEMENT_ARRAY_BUFFER=34963;B.STREAM_DRAW=35040;B.STATIC_DRAW=35044;B.DYNAMIC_DRAW=35048;B.UNSIGNED_BYTE=5121;B.UNSIGNED_SHORT=5123;B.UNSIGNED_INT=5125;B.FLOAT=5126;var A=["experimental-webgl","webgl","webkit-3d","moz-webgl"],u};
shadow$provide[391]=function(ra,z,cb,B){function v(u){switch(u){case k.ARRAY_BUFFER:return Float32Array;case k.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(B,"__esModule",{value:!0});B.getArrayClassForType=v;B.default=B.BufferUsage=void 0;var k=z(390),p=z(71),A={STATIC_DRAW:k.STATIC_DRAW,STREAM_DRAW:k.STREAM_DRAW,DYNAMIC_DRAW:k.DYNAMIC_DRAW};B.BufferUsage=A;ra=function(){function u(m,l){this.array=null;this.type=m;(0,p.assert)(m===k.ARRAY_BUFFER||m===
k.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==l?l:A.STATIC_DRAW}u.prototype.ofSize=function(m){this.array=new (v(this.type))(m)};u.prototype.fromArray=function(m){var l=v(this.type);this.array=l.from?l.from(m):new l(m)};u.prototype.fromArrayBuffer=function(m){this.array=new (v(this.type))(m)};u.prototype.getType=function(){return this.type};u.prototype.getArray=function(){return this.array};u.prototype.getUsage=function(){return this.usage};u.prototype.getSize=function(){return this.array?this.array.length:
0};return u}();B.default=ra};
shadow$provide[392]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[393]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var v=z(68);ra=function(){function k(p){var A=this.gl_=p.webGlContext;this.scaleRatio_=p.scaleRatio||1;this.renderTargetTexture_=A.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=A.createFramebuffer();var u=A.createShader(A.VERTEX_SHADER);A.shaderSource(u,p.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
A.compileShader(u);var m=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(m,p.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord) * u_opacity;\n  }\n");A.compileShader(m);this.renderTargetProgram_=A.createProgram();A.attachShader(this.renderTargetProgram_,u);A.attachShader(this.renderTargetProgram_,m);A.linkProgram(this.renderTargetProgram_);
this.renderTargetVerticesBuffer_=A.createBuffer();A.bindBuffer(A.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);A.bufferData(A.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),A.STATIC_DRAW);this.renderTargetAttribLocation_=A.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=A.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetOpacityLocation_=A.getUniformLocation(this.renderTargetProgram_,"u_opacity");this.renderTargetTextureLocation_=
A.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];p.uniforms&&Object.keys(p.uniforms).forEach(function(l){this.uniforms_.push({value:p.uniforms[l],location:A.getUniformLocation(this.renderTargetProgram_,l)})}.bind(this))}k.prototype.getGL=function(){return this.gl_};k.prototype.init=function(p){p=this.getGL();var A=[p.drawingBufferWidth*this.scaleRatio_,p.drawingBufferHeight*this.scaleRatio_];p.bindFramebuffer(p.FRAMEBUFFER,this.getFrameBuffer());p.viewport(0,0,A[0],A[1]);
if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==A[0]||this.renderTargetTextureSize_[1]!==A[1]){this.renderTargetTextureSize_=A;var u=p.RGBA,m=p.RGBA,l=p.UNSIGNED_BYTE;p.bindTexture(p.TEXTURE_2D,this.renderTargetTexture_);p.texImage2D(p.TEXTURE_2D,0,u,A[0],A[1],0,m,l,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.framebufferTexture2D(p.FRAMEBUFFER,
p.COLOR_ATTACHMENT0,p.TEXTURE_2D,this.renderTargetTexture_,0)}};k.prototype.apply=function(p,A,u,m){var l=this.getGL(),f=p.size;l.bindFramebuffer(l.FRAMEBUFFER,A?A.getFrameBuffer():null);l.activeTexture(l.TEXTURE0);l.bindTexture(l.TEXTURE_2D,this.renderTargetTexture_);if(!A&&(A=(0,v.getUid)(l.canvas),!p.renderTargets[A])){var g=l.getContextAttributes();g&&g.preserveDrawingBuffer&&(l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT));p.renderTargets[A]=!0}l.enable(l.BLEND);l.blendFunc(l.ONE,l.ONE_MINUS_SRC_ALPHA);
l.viewport(0,0,l.drawingBufferWidth,l.drawingBufferHeight);l.bindBuffer(l.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);l.useProgram(this.renderTargetProgram_);l.enableVertexAttribArray(this.renderTargetAttribLocation_);l.vertexAttribPointer(this.renderTargetAttribLocation_,2,l.FLOAT,!1,0,0);l.uniform2f(this.renderTargetUniformLocation_,f[0],f[1]);l.uniform1i(this.renderTargetTextureLocation_,0);l.uniform1f(this.renderTargetOpacityLocation_,p.layerStatesArray[p.layerIndex].opacity);this.applyUniforms(p);
u&&u(l,p);l.drawArrays(l.TRIANGLES,0,6);m&&m(l,p)};k.prototype.getFrameBuffer=function(){return this.frameBuffer_};k.prototype.applyUniforms=function(p){var A=this.getGL(),u,m=1;this.uniforms_.forEach(function(l){u="function"===typeof l.value?l.value(p):l.value;if(u instanceof HTMLCanvasElement||u instanceof ImageData)l.texture||(l.texture=A.createTexture()),A.activeTexture(A["TEXTURE".concat(m)]),A.bindTexture(A.TEXTURE_2D,l.texture),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.LINEAR),A.texParameteri(A.TEXTURE_2D,
A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),u instanceof ImageData?A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,u.width,u.height,0,A.UNSIGNED_BYTE,new Uint8Array(u.data)):A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,u),A.uniform1i(l.location,m++);else if(Array.isArray(u))switch(u.length){case 2:A.uniform2f(l.location,u[0],u[1]);break;case 3:A.uniform3f(l.location,u[0],u[1],u[2]);break;case 4:A.uniform4f(l.location,u[0],u[1],u[2],u[3])}else"number"===
typeof u&&A.uniform1f(l.location,u)})};return k}();B.default=ra};
shadow$provide[394]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};B.fromTransform=function(v,k){v[0]=k[0];v[1]=k[1];v[4]=k[2];v[5]=k[3];v[12]=k[4];v[13]=k[5];return v}};
shadow$provide[395]=function(ra,z,cb,B){function v(E){return E&&E.__esModule?E:{default:E}}function k(){var E="unique/"+q;q+=1;return E}function p(E){var F=y[E];F||(F=document.createElement("canvas"),F.style.position="absolute",F.style.left="0",F={users:0,canvas:F},y[E]=F);F.users+=1;return F.canvas}function A(E){for(var F=0,w=0;w<E.length;w++){var D=E[w];F+=D.size*u(D.type)}return F}function u(E){switch(E){case t.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case t.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;
case t.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(B,"__esModule",{value:!0});B.computeAttributesStride=A;B.default=B.AttributeType=B.DefaultUniform=B.ShaderType=void 0;var m=v(z(392));ra=v(z(65));var l=v(z(393)),f=z(390),g=z(81),d=z(72),b=z(394),c=z(68),a=function(){var E=function(F,w){E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,G){D.__proto__=G}||function(D,G){for(var L in G)Object.prototype.hasOwnProperty.call(G,
L)&&(D[L]=G[L])};return E(F,w)};return function(F,w){function D(){this.constructor=F}if("function"!==typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");E(F,w);F.prototype=null===w?Object.create(w):(D.prototype=w.prototype,new D)}}();B.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};var e={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",
RESOLUTION:"u_resolution"};B.DefaultUniform=e;var t={UNSIGNED_BYTE:f.UNSIGNED_BYTE,UNSIGNED_SHORT:f.UNSIGNED_SHORT,UNSIGNED_INT:f.UNSIGNED_INT,FLOAT:f.FLOAT};B.AttributeType=t;var y={},q=0;z=function(E){function F(w){var D=E.call(this)||this;w=w||{};D.boundHandleWebGLContextLost_=D.handleWebGLContextLost.bind(D);D.boundHandleWebGLContextRestored_=D.handleWebGLContextRestored.bind(D);D.canvasCacheKey_=w.canvasCacheKey?"shared/"+w.canvasCacheKey:k();D.canvas_=p(D.canvasCacheKey_);D.gl_=(0,f.getContext)(D.canvas_);
D.bufferCache_={};D.extensionCache_={};D.currentProgram_=null;D.canvas_.addEventListener(m.default.LOST,D.boundHandleWebGLContextLost_);D.canvas_.addEventListener(m.default.RESTORED,D.boundHandleWebGLContextRestored_);D.offsetRotateMatrix_=(0,d.create)();D.offsetScaleMatrix_=(0,d.create)();D.tmpMat4_=(0,b.create)();D.uniformLocations_={};D.attribLocations_={};D.uniforms_=[];w.uniforms&&D.setUniforms(w.uniforms);var G=D.getGL();D.postProcessPasses_=w.postProcesses?w.postProcesses.map(function(L){return new l.default({webGlContext:G,
scaleRatio:L.scaleRatio,vertexShader:L.vertexShader,fragmentShader:L.fragmentShader,uniforms:L.uniforms})}):[new l.default({webGlContext:G})];D.shaderCompileErrors_=null;D.startTime_=Date.now();return D}a(F,E);F.prototype.setUniforms=function(w){this.uniforms_=[];for(var D in w)this.uniforms_.push({name:D,value:w[D]});this.uniformLocations_={}};F.prototype.canvasCacheKeyMatches=function(w){return this.canvasCacheKey_==="shared/"+w};F.prototype.getExtension=function(w){if(w in this.extensionCache_)return this.extensionCache_[w];
var D=this.gl_.getExtension(w);return this.extensionCache_[w]=D};F.prototype.bindBuffer=function(w){var D=this.getGL(),G=(0,c.getUid)(w),L=this.bufferCache_[G];L||(L=D.createBuffer(),L={buffer:w,webGlBuffer:L},this.bufferCache_[G]=L);D.bindBuffer(w.getType(),L.webGlBuffer)};F.prototype.flushBufferData=function(w){var D=this.getGL();this.bindBuffer(w);D.bufferData(w.getType(),w.getArray(),w.getUsage())};F.prototype.deleteBuffer=function(w){var D=this.getGL();w=(0,c.getUid)(w);var G=this.bufferCache_[w];
G&&!D.isContextLost()&&D.deleteBuffer(G.webGlBuffer);delete this.bufferCache_[w]};F.prototype.disposeInternal=function(){this.canvas_.removeEventListener(m.default.LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(m.default.RESTORED,this.boundHandleWebGLContextRestored_);var w=this.canvasCacheKey_,D=y[w];D&&(--D.users,0<D.users||((D=(0,f.getContext)(D.canvas).getExtension("WEBGL_lose_context"))&&D.loseContext(),delete y[w]));delete this.gl_;delete this.canvas_};F.prototype.prepareDraw=
function(w,D){var G=this.getGL(),L=this.getCanvas(),O=w.size,V=w.pixelRatio;L.width=O[0]*V;L.height=O[1]*V;L.style.width=O[0]+"px";L.style.height=O[1]+"px";G.useProgram(this.currentProgram_);for(L=this.postProcessPasses_.length-1;0<=L;L--)this.postProcessPasses_[L].init(w);G.bindTexture(G.TEXTURE_2D,null);G.clearColor(0,0,0,0);G.clear(G.COLOR_BUFFER_BIT);G.enable(G.BLEND);G.blendFunc(G.ONE,D?G.ZERO:G.ONE_MINUS_SRC_ALPHA);G.useProgram(this.currentProgram_);this.applyFrameState(w);this.applyUniforms(w)};
F.prototype.prepareDrawToRenderTarget=function(w,D,G){var L=this.getGL(),O=D.getSize();L.bindFramebuffer(L.FRAMEBUFFER,D.getFramebuffer());L.viewport(0,0,O[0],O[1]);L.bindTexture(L.TEXTURE_2D,D.getTexture());L.clearColor(0,0,0,0);L.clear(L.COLOR_BUFFER_BIT);L.enable(L.BLEND);L.blendFunc(L.ONE,G?L.ZERO:L.ONE_MINUS_SRC_ALPHA);L.useProgram(this.currentProgram_);this.applyFrameState(w);this.applyUniforms(w)};F.prototype.drawElements=function(w,D){var G=this.getGL();this.getExtension("OES_element_index_uint");
G.drawElements(G.TRIANGLES,D-w,G.UNSIGNED_INT,4*w)};F.prototype.finalizeDraw=function(w,D,G){for(var L=0,O=this.postProcessPasses_.length;L<O;L++)L===O-1?this.postProcessPasses_[L].apply(w,null,D,G):this.postProcessPasses_[L].apply(w,this.postProcessPasses_[L+1])};F.prototype.getCanvas=function(){return this.canvas_};F.prototype.getGL=function(){return this.gl_};F.prototype.applyFrameState=function(w){var D=w.size,G=w.viewState.rotation,L=(0,d.reset)(this.offsetScaleMatrix_);(0,d.scale)(L,2/D[0],
2/D[1]);D=(0,d.reset)(this.offsetRotateMatrix_);0!==G&&(0,d.rotate)(D,-G);this.setUniformMatrixValue(e.OFFSET_SCALE_MATRIX,(0,b.fromTransform)(this.tmpMat4_,L));this.setUniformMatrixValue(e.OFFSET_ROTATION_MATRIX,(0,b.fromTransform)(this.tmpMat4_,D));this.setUniformFloatValue(e.TIME,.001*(Date.now()-this.startTime_));this.setUniformFloatValue(e.ZOOM,w.viewState.zoom);this.setUniformFloatValue(e.RESOLUTION,w.viewState.resolution)};F.prototype.applyUniforms=function(w){var D=this.getGL(),G,L=0;this.uniforms_.forEach(function(O){G=
"function"===typeof O.value?O.value(w):O.value;if(G instanceof HTMLCanvasElement||G instanceof HTMLImageElement||G instanceof ImageData)O.texture||(O.prevValue=void 0,O.texture=D.createTexture()),D.activeTexture(D["TEXTURE".concat(L)]),D.bindTexture(D.TEXTURE_2D,O.texture),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.LINEAR),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,D.CLAMP_TO_EDGE),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE),G instanceof HTMLImageElement&&!G.complete||
O.prevValue===G||(O.prevValue=G,D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,G)),D.uniform1i(this.getUniformLocation(O.name),L++);else if(Array.isArray(G)&&6===G.length)this.setUniformMatrixValue(O.name,(0,b.fromTransform)(this.tmpMat4_,G));else if(Array.isArray(G)&&4>=G.length)switch(G.length){case 2:D.uniform2f(this.getUniformLocation(O.name),G[0],G[1]);break;case 3:D.uniform3f(this.getUniformLocation(O.name),G[0],G[1],G[2]);break;case 4:D.uniform4f(this.getUniformLocation(O.name),
G[0],G[1],G[2],G[3])}else"number"===typeof G&&D.uniform1f(this.getUniformLocation(O.name),G)}.bind(this))};F.prototype.useProgram=function(w){if(w==this.currentProgram_)return!1;this.getGL().useProgram(w);this.currentProgram_=w;this.uniformLocations_={};this.attribLocations_={};return!0};F.prototype.compileShader=function(w,D){var G=this.getGL();D=G.createShader(D);G.shaderSource(D,w);G.compileShader(D);return D};F.prototype.getProgram=function(w,D){var G=this.getGL();w=this.compileShader(w,G.FRAGMENT_SHADER);
D=this.compileShader(D,G.VERTEX_SHADER);var L=G.createProgram();G.attachShader(L,w);G.attachShader(L,D);G.linkProgram(L);if(!G.getShaderParameter(w,G.COMPILE_STATUS))throw G="Fragment shader compliation failed: ".concat(G.getShaderInfoLog(w)),Error(G);G.deleteShader(w);if(!G.getShaderParameter(D,G.COMPILE_STATUS))throw G="Vertex shader compilation failed: ".concat(G.getShaderInfoLog(D)),Error(G);G.deleteShader(D);if(!G.getProgramParameter(L,G.LINK_STATUS))throw G="GL program linking failed: ".concat(G.getShaderInfoLog(D)),
Error(G);return L};F.prototype.getUniformLocation=function(w){void 0===this.uniformLocations_[w]&&(this.uniformLocations_[w]=this.getGL().getUniformLocation(this.currentProgram_,w));return this.uniformLocations_[w]};F.prototype.getAttributeLocation=function(w){void 0===this.attribLocations_[w]&&(this.attribLocations_[w]=this.getGL().getAttribLocation(this.currentProgram_,w));return this.attribLocations_[w]};F.prototype.makeProjectionTransform=function(w,D){var G=w.size,L=w.viewState.rotation,O=w.viewState.resolution;
w=w.viewState.center;(0,d.reset)(D);(0,d.compose)(D,0,0,2/(O*G[0]),2/(O*G[1]),-L,-w[0],-w[1]);return D};F.prototype.setUniformFloatValue=function(w,D){this.getGL().uniform1f(this.getUniformLocation(w),D)};F.prototype.setUniformFloatVec4=function(w,D){this.getGL().uniform4fv(this.getUniformLocation(w),D)};F.prototype.setUniformMatrixValue=function(w,D){this.getGL().uniformMatrix4fv(this.getUniformLocation(w),!1,D)};F.prototype.enableAttributeArray_=function(w,D,G,L,O){w=this.getAttributeLocation(w);
0>w||(this.getGL().enableVertexAttribArray(w),this.getGL().vertexAttribPointer(w,D,G,!1,L,O))};F.prototype.enableAttributes=function(w){for(var D=A(w),G=0,L=0;L<w.length;L++){var O=w[L];this.enableAttributeArray_(O.name,O.size,O.type||f.FLOAT,D,G);G+=O.size*u(O.type)}};F.prototype.handleWebGLContextLost=function(){(0,g.clear)(this.bufferCache_);this.currentProgram_=null};F.prototype.handleWebGLContextRestored=function(){};F.prototype.createTexture=function(w,D,G){var L=this.getGL();G=G||L.createTexture();
var O=L.RGBA,V=L.RGBA,S=L.UNSIGNED_BYTE;L.bindTexture(L.TEXTURE_2D,G);D?L.texImage2D(L.TEXTURE_2D,0,O,V,S,D):L.texImage2D(L.TEXTURE_2D,0,O,w[0],w[1],0,V,S,null);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.LINEAR);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE);L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE);return G};return F}(ra.default);B.default=z};
shadow$provide[396]=function(ra,z,cb,B){function v(c){return c&&c.__esModule?c:{default:c}}function k(c,a,e,t,y){c[a+0]=e;c[a+1]=t;c[a+2]=y}Object.defineProperty(B,"__esModule",{value:!0});B.writePointFeatureToBuffers=function(c,a,e,t,y,q){var E=3+y,F=c[a+0],w=c[a+1],D=d;D.length=y;for(y=0;y<D.length;y++)D[y]=c[a+2+y];c=q?q.vertexPosition:0;q=q?q.indexPosition:0;a=c/E;k(e,c,F,w,0);D.length&&e.set(D,c+3);c+=E;k(e,c,F,w,1);D.length&&e.set(D,c+3);c+=E;k(e,c,F,w,2);D.length&&e.set(D,c+3);c+=E;k(e,c,F,
w,3);D.length&&e.set(D,c+3);t[q++]=a;t[q++]=a+1;t[q++]=a+3;t[q++]=a+1;t[q++]=a+2;t[q++]=a+3;b.vertexPosition=c+E;b.indexPosition=q;return b};B.getBlankImageData=function(){var c=document.createElement("canvas").getContext("2d").createImageData(1,1);c.data[0]=255;c.data[1]=255;c.data[2]=255;c.data[3]=255;return c};B.colorEncodeId=function(c,a){a=a||[];a[0]=Math.floor(c/256/256/256)/255;a[1]=Math.floor(c/256/256)%256/255;a[2]=Math.floor(c/256)%256/255;a[3]=c%256/255;return a};B.colorDecodeId=function(c){var a=
0+Math.round(4278190080*c[0]);a+=Math.round(16711680*c[1]);a+=Math.round(65280*c[2]);return a+=Math.round(255*c[3])};B.default=B.WebGLWorkerMessageType=void 0;var p=v(z(87));ra=v(z(212));var A=v(z(95)),u=v(z(89)),m=v(z(395)),l=z(72),f=z(75),g=function(){var c=function(a,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,y){t.__proto__=y}||function(t,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(t[q]=y[q])};return c(a,e)};return function(a,e){function t(){this.constructor=
a}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c(a,e);a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}();B.WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"};z=function(c){function a(e,t){var y=c.call(this,e)||this;t=t||{};y.inversePixelTransform_=(0,l.create)();y.pixelContext_=null;y.postProcesses_=t.postProcesses;y.uniforms_=t.uniforms;e.addChangeListener(p.default.MAP,y.removeHelper.bind(y));
y.dispatchPreComposeEvent=y.dispatchPreComposeEvent.bind(y);y.dispatchPostComposeEvent=y.dispatchPostComposeEvent.bind(y);return y}g(a,c);a.prototype.dispatchPreComposeEvent=function(e,t){var y=this.getLayer();y.hasListener(u.default.PRECOMPOSE)&&(e=new A.default(u.default.PRECOMPOSE,void 0,t,e),y.dispatchEvent(e))};a.prototype.dispatchPostComposeEvent=function(e,t){var y=this.getLayer();y.hasListener(u.default.POSTCOMPOSE)&&(e=new A.default(u.default.POSTCOMPOSE,void 0,t,e),y.dispatchEvent(e))};
a.prototype.reset=function(e){this.uniforms_=e.uniforms;this.helper&&this.helper.setUniforms(this.uniforms_)};a.prototype.removeHelper=function(){this.helper&&(this.helper.dispose(),delete this.helper)};a.prototype.prepareFrame=function(e){if(this.getLayer().getRenderSource()){for(var t=!0,y=-1,q=void 0,E=0,F=e.layerStatesArray.length;E<F;E++){var w=e.layerStatesArray[E].layer,D=w.getRenderer();if(D instanceof a){w=w.getClassName();if(t||w!==q)y+=1,t=!1;q=w;if(D===this)break}else t=!0}t="map/"+e.mapId+
"/group/"+y;this.helper&&this.helper.canvasCacheKeyMatches(t)||(this.removeHelper(),this.helper=new m.default({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:t}),q&&(this.helper.getCanvas().className=q),this.afterHelperCreated())}return this.prepareFrameInternal(e)};a.prototype.afterHelperCreated=function(){};a.prototype.prepareFrameInternal=function(e){return!0};a.prototype.disposeInternal=function(){this.removeHelper();c.prototype.disposeInternal.call(this)};a.prototype.dispatchRenderEvent_=
function(e,t,y){var q=this.getLayer();q.hasListener(e)&&((0,l.compose)(this.inversePixelTransform_,0,0,y.pixelRatio,-y.pixelRatio,0,0,-y.size[1]),e=new A.default(e,this.inversePixelTransform_,y,t),q.dispatchEvent(e))};a.prototype.preRender=function(e,t){this.dispatchRenderEvent_(u.default.PRERENDER,e,t)};a.prototype.postRender=function(e,t){this.dispatchRenderEvent_(u.default.POSTRENDER,e,t)};a.prototype.getDataAtPixel=function(e,t,y){var q=(0,l.apply)([t.pixelRatio,0,0,t.pixelRatio,0,0],e.slice());
y=this.helper.getGL();if(!y)return null;var E=this.getLayer().getExtent();if(E&&(e=(0,l.apply)(t.pixelToCoordinateTransform,e.slice()),!(0,f.containsCoordinate)(E,e)))return null;e=y.getContextAttributes();if(!e||!e.preserveDrawingBuffer)return new Uint8Array;e=Math.round(q[0]);q=Math.round(q[1]);t=this.pixelContext_;t||(t=document.createElement("canvas"),t.width=1,t.height=1,this.pixelContext_=t=t.getContext("2d"));t.clearRect(0,0,1,1);try{t.drawImage(y.canvas,e,q,1,1,0,0,1,1);var F=t.getImageData(0,
0,1,1).data}catch(w){return F}return 0===F[3]?null:F};return a}(ra.default);var d=[],b={vertexPosition:0,indexPosition:0};B.default=z};
shadow$provide[397]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var v=z(66),k=new Uint8Array(4);ra=function(){function p(A,u){this.helper_=A;A=A.getGL();this.texture_=A.createTexture();this.framebuffer_=A.createFramebuffer();this.size_=u||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}p.prototype.setSize=function(A){(0,v.equals)(A,this.size_)||(this.size_[0]=A[0],this.size_[1]=A[1],this.updateSize_())};p.prototype.getSize=function(){return this.size_};
p.prototype.clearCachedData=function(){this.dataCacheDirty_=!0};p.prototype.readAll=function(){if(this.dataCacheDirty_){var A=this.size_,u=this.helper_.getGL();u.bindFramebuffer(u.FRAMEBUFFER,this.framebuffer_);u.readPixels(0,0,A[0],A[1],u.RGBA,u.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_};p.prototype.readPixel=function(A,u){if(0>A||0>u||A>this.size_[0]||u>=this.size_[1])return k[0]=0,k[1]=0,k[2]=0,k[3]=0,k;this.readAll();A=Math.floor(A)+(this.size_[1]-Math.floor(u)-1)*this.size_[0];
k[0]=this.data_[4*A];k[1]=this.data_[4*A+1];k[2]=this.data_[4*A+2];k[3]=this.data_[4*A+3];return k};p.prototype.getTexture=function(){return this.texture_};p.prototype.getFramebuffer=function(){return this.framebuffer_};p.prototype.updateSize_=function(){var A=this.size_,u=this.helper_.getGL();this.texture_=this.helper_.createTexture(A,null,this.texture_);u.bindFramebuffer(u.FRAMEBUFFER,this.framebuffer_);u.viewport(0,0,A[0],A[1]);u.framebufferTexture2D(u.FRAMEBUFFER,u.COLOR_ATTACHMENT0,u.TEXTURE_2D,
this.texture_,0);this.data_=new Uint8Array(A[0]*A[1]*4)};return p}();B.default=ra};
shadow$provide[398]=function(ra,z,cb,B){var v=z(21).Buffer;"use strict";Object.defineProperty(B,"__esModule",{value:!0});B.create=function(){return new Worker("undefined"===typeof Blob?"data:application/javascript;base64,"+v.from('var e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");for(var t\x3dObject(e),r\x3d1,o\x3darguments.length;r\x3co;++r){var i\x3darguments[r];if(null!\x3di)for(var f in i)i.hasOwnProperty(f)\x26\x26(t[f]\x3di[f])}return t},n\x3d"GENERATE_BUFFERS",t\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3do}function i(e,n,i,f,s,a){var u\x3d3+s,l\x3de[n+0],v\x3de[n+1],c\x3dt;c.length\x3ds;for(var g\x3d0;g\x3cc.length;g++)c[g]\x3de[n+2+g];var b\x3da?a.vertexPosition:0,h\x3da?a.indexPosition:0,d\x3db/u;return o(i,b,l,v,0),c.length\x26\x26i.set(c,b+3),o(i,b+\x3du,l,v,1),c.length\x26\x26i.set(c,b+3),o(i,b+\x3du,l,v,2),c.length\x26\x26i.set(c,b+3),o(i,b+\x3du,l,v,3),c.length\x26\x26i.set(c,b+3),b+\x3du,f[h++]\x3dd,f[h++]\x3dd+1,f[h++]\x3dd+3,f[h++]\x3dd+1,f[h++]\x3dd+2,f[h++]\x3dd+3,r.vertexPosition\x3db,r.indexPosition\x3dh,r}var f\x3dself;f.onmessage\x3dfunction(t){var r\x3dt.data;if(r.type\x3d\x3d\x3dn){for(var o,s\x3dr.customAttributesCount,a\x3d2+s,u\x3dnew Float32Array(r.renderInstructions),l\x3du.length/a,v\x3d4*l*(s+3),c\x3dnew Uint32Array(6*l),g\x3dnew Float32Array(v),b\x3d0;b\x3cu.length;b+\x3da)o\x3di(u,b,g,c,s,o);var h\x3de({vertexBuffer:g.buffer,indexBuffer:c.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[g.buffer,c.buffer,u.buffer])}};',
"binary").toString("base64"):URL.createObjectURL(new Blob(['var e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");for(var t\x3dObject(e),r\x3d1,o\x3darguments.length;r\x3co;++r){var i\x3darguments[r];if(null!\x3di)for(var f in i)i.hasOwnProperty(f)\x26\x26(t[f]\x3di[f])}return t},n\x3d"GENERATE_BUFFERS",t\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]\x3dt,e[n+1]\x3dr,e[n+2]\x3do}function i(e,n,i,f,s,a){var u\x3d3+s,l\x3de[n+0],v\x3de[n+1],c\x3dt;c.length\x3ds;for(var g\x3d0;g\x3cc.length;g++)c[g]\x3de[n+2+g];var b\x3da?a.vertexPosition:0,h\x3da?a.indexPosition:0,d\x3db/u;return o(i,b,l,v,0),c.length\x26\x26i.set(c,b+3),o(i,b+\x3du,l,v,1),c.length\x26\x26i.set(c,b+3),o(i,b+\x3du,l,v,2),c.length\x26\x26i.set(c,b+3),o(i,b+\x3du,l,v,3),c.length\x26\x26i.set(c,b+3),b+\x3du,f[h++]\x3dd,f[h++]\x3dd+1,f[h++]\x3dd+3,f[h++]\x3dd+1,f[h++]\x3dd+2,f[h++]\x3dd+3,r.vertexPosition\x3db,r.indexPosition\x3dh,r}var f\x3dself;f.onmessage\x3dfunction(t){var r\x3dt.data;if(r.type\x3d\x3d\x3dn){for(var o,s\x3dr.customAttributesCount,a\x3d2+s,u\x3dnew Float32Array(r.renderInstructions),l\x3du.length/a,v\x3d4*l*(s+3),c\x3dnew Uint32Array(6*l),g\x3dnew Float32Array(v),b\x3d0;b\x3cu.length;b+\x3da)o\x3di(u,b,g,c,s,o);var h\x3de({vertexBuffer:g.buffer,indexBuffer:c.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[g.buffer,c.buffer,u.buffer])}};'],
{type:"application/javascript"})))}};
shadow$provide[399]=function(ra,z,cb,B){function v(F){if("function"!==typeof WeakMap)return null;var w=new WeakMap,D=new WeakMap;return(v=function(G){return G?D:w})(F)}function k(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var p=k(z(201)),A=k(z(113)),u=k(z(233)),m=k(z(115)),l=k(z(391)),f=function(F,w){if(!w&&F&&F.__esModule)return F;if(null===F||"object"!==typeof F&&"function"!==typeof F)return{default:F};if((w=v(w))&&w.has(F))return w.get(F);
var D={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor,L;for(L in F)if("default"!==L&&Object.prototype.hasOwnProperty.call(F,L)){var O=G?Object.getOwnPropertyDescriptor(F,L):null;O&&(O.get||O.set)?Object.defineProperty(D,L,O):D[L]=F[L]}D.default=F;w&&w.set(F,D);return D}(z(396)),g=k(z(397)),d=z(390),b=z(395),c=z(72),a=z(71),e=z(75),t=z(398),y=z(68),q=z(84),E=function(){var F=function(w,D){F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,L){G.__proto__=L}||function(G,
L){for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&(G[O]=L[O])};return F(w,D)};return function(w,D){function G(){this.constructor=w}if("function"!==typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");F(w,D);w.prototype=null===D?Object.create(D):(G.prototype=D.prototype,new G)}}();ra=function(F){function w(D,G){var L=this;L=G.uniforms||{};var O=(0,c.create)();L[b.DefaultUniform.PROJECTION_MATRIX]=O;L=F.call(this,D,{uniforms:L,postProcesses:G.postProcesses})||
this;L.ready=!1;L.sourceRevision_=-1;L.verticesBuffer_=new l.default(d.ARRAY_BUFFER,d.DYNAMIC_DRAW);L.hitVerticesBuffer_=new l.default(d.ARRAY_BUFFER,d.DYNAMIC_DRAW);L.indicesBuffer_=new l.default(d.ELEMENT_ARRAY_BUFFER,d.DYNAMIC_DRAW);L.vertexShader_=G.vertexShader;L.fragmentShader_=G.fragmentShader;L.hitDetectionEnabled_=G.hitFragmentShader&&G.hitVertexShader?!0:!1;L.hitVertexShader_=G.hitVertexShader;L.hitFragmentShader_=G.hitFragmentShader;D=G.attributes?G.attributes.map(function(V){return{name:"a_"+
V.name,size:1,type:b.AttributeType.FLOAT}}):[];L.attributes=[{name:"a_position",size:2,type:b.AttributeType.FLOAT},{name:"a_index",size:1,type:b.AttributeType.FLOAT}].concat(D);L.hitDetectionAttributes=[{name:"a_position",size:2,type:b.AttributeType.FLOAT},{name:"a_index",size:1,type:b.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:b.AttributeType.FLOAT},{name:"a_featureUid",size:1,type:b.AttributeType.FLOAT}].concat(D);L.customAttributes=G.attributes?G.attributes:[];L.previousExtent_=(0,e.createEmpty)();
L.currentTransform_=O;L.renderTransform_=(0,c.create)();L.invertRenderTransform_=(0,c.create)();L.renderInstructions_=new Float32Array(0);L.hitRenderInstructions_=new Float32Array(0);L.generateBuffersRun_=0;L.worker_=(0,t.create)();L.worker_.addEventListener("message",function(V){var S=V.data;if(S.type===f.WebGLWorkerMessageType.GENERATE_BUFFERS){var ca=S.projectionTransform;S.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(S.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):
(this.verticesBuffer_.fromArrayBuffer(S.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(S.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=ca;(0,c.makeInverse)(this.invertRenderTransform_,this.renderTransform_);S.hitDetection?this.hitRenderInstructions_=new Float32Array(V.data.renderInstructions):(this.renderInstructions_=new Float32Array(V.data.renderInstructions),S.generateBuffersRun===this.generateBuffersRun_&&
(this.ready=!0));this.getLayer().changed()}}.bind(L));L.featureCache_={};L.featureCount_=0;G=L.getLayer().getSource();L.sourceListenKeys_=[(0,q.listen)(G,u.default.ADDFEATURE,L.handleSourceFeatureAdded_,L),(0,q.listen)(G,u.default.CHANGEFEATURE,L.handleSourceFeatureChanged_,L),(0,q.listen)(G,u.default.REMOVEFEATURE,L.handleSourceFeatureDelete_,L),(0,q.listen)(G,u.default.CLEAR,L.handleSourceFeatureClear_,L)];G.forEachFeature(function(V){this.featureCache_[(0,y.getUid)(V)]={feature:V,properties:V.getProperties(),
geometry:V.getGeometry()};this.featureCount_++}.bind(L));return L}E(w,F);w.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new g.default(this.helper))};w.prototype.handleSourceFeatureAdded_=function(D){D=D.feature;this.featureCache_[(0,y.getUid)(D)]={feature:D,properties:D.getProperties(),geometry:D.getGeometry()};
this.featureCount_++};w.prototype.handleSourceFeatureChanged_=function(D){D=D.feature;this.featureCache_[(0,y.getUid)(D)]={feature:D,properties:D.getProperties(),geometry:D.getGeometry()}};w.prototype.handleSourceFeatureDelete_=function(D){delete this.featureCache_[(0,y.getUid)(D.feature)];this.featureCount_--};w.prototype.handleSourceFeatureClear_=function(){this.featureCache_={};this.featureCount_=0};w.prototype.renderFrame=function(D){var G=this.helper.getGL();this.preRender(G,D);var L=this.indicesBuffer_.getSize();
this.helper.drawElements(0,L);this.helper.finalizeDraw(D,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);L=this.helper.getCanvas();this.hitDetectionEnabled_&&(this.renderHitDetection(D),this.hitRenderTarget_.clearCachedData());this.postRender(G,D);return L};w.prototype.prepareFrameInternal=function(D){var G=this.getLayer(),L=G.getSource(),O=D.viewState,V=!D.viewHints[m.default.ANIMATING]&&!D.viewHints[m.default.INTERACTING],S=!(0,e.equals)(this.previousExtent_,D.extent),ca=this.sourceRevision_<
L.getRevision();ca&&(this.sourceRevision_=L.getRevision());V&&(S||ca)&&(V=O.projection,O=O.resolution,G=G instanceof p.default?G.getRenderBuffer():0,G=(0,e.buffer)(D.extent,G*O),L.loadFeatures(G,O,V),this.rebuildBuffers_(D),this.previousExtent_=D.extent.slice());this.helper.makeProjectionTransform(D,this.currentTransform_);(0,c.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.useProgram(this.program_);this.helper.prepareDraw(D);this.helper.bindBuffer(this.verticesBuffer_);
this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);return!0};w.prototype.rebuildBuffers_=function(D){var G=(0,c.create)();this.helper.makeProjectionTransform(D,G);D=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===D||(this.renderInstructions_=new Float32Array(D));this.hitDetectionEnabled_&&(D=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===
D||(this.hitRenderInstructions_=new Float32Array(D)));var L,O=[],V=[],S=0,ca=0;for(T in this.featureCache_)if(D=this.featureCache_[T],(L=D.geometry)&&L.getType()===A.default.POINT){O[0]=L.getFlatCoordinates()[0];O[1]=L.getFlatCoordinates()[1];(0,c.apply)(G,O);L=(0,f.colorEncodeId)(ca+6,V);this.renderInstructions_[S++]=O[0];this.renderInstructions_[S++]=O[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[ca++]=O[0],this.hitRenderInstructions_[ca++]=O[1],this.hitRenderInstructions_[ca++]=L[0],
this.hitRenderInstructions_[ca++]=L[1],this.hitRenderInstructions_[ca++]=L[2],this.hitRenderInstructions_[ca++]=L[3],this.hitRenderInstructions_[ca++]=Number(T));for(var ea=0;ea<this.customAttributes.length;ea++)L=this.customAttributes[ea].callback(D.feature,D.properties),this.renderInstructions_[S++]=L,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[ca++]=L)}var T={type:f.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};
T.projectionTransform=G;T.generateBuffersRun=++this.generateBuffersRun_;this.ready=!1;this.worker_.postMessage(T,[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(T={type:f.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length},T.projectionTransform=G,T.hitDetection=!0,this.worker_.postMessage(T,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)};
w.prototype.forEachFeatureAtCoordinate=function(D,G,L,O,V){(0,a.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&(D=(0,c.apply)(G.coordinateToPixelTransform,D.slice()),D=this.hitRenderTarget_.readPixel(D[0]/2,D[1]/2),D=(0,f.colorDecodeId)([D[0]/255,D[1]/255,D[2]/255,D[3]/255]),D=Math.floor(this.hitRenderInstructions_[D]).toString(),D=this.getLayer().getSource().getFeatureByUid(D)))return O(D,this.getLayer(),null)};w.prototype.renderHitDetection=function(D){this.hitVerticesBuffer_.getSize()&&
(this.hitRenderTarget_.setSize([Math.floor(D.size[0]/2),Math.floor(D.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(D,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes),D=this.indicesBuffer_.getSize(),this.helper.drawElements(0,D))};w.prototype.disposeInternal=function(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(D){(0,q.unlistenByKey)(D)});
this.sourceListenKeys_=null;F.prototype.disposeInternal.call(this)};return w}(f.default);B.default=ra};
shadow$provide[400]=function(ra,z,cb,B){function v(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(201));var k=v(z(399)),p=z(81),A=z(76),u=z(97),m=function(){var f=function(g,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};return f(g,d)};return function(g,d){function b(){this.constructor=g}if("function"!==typeof d&&
null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(g,d);g.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}(),l=["#00f","#0ff","#0f0","#ff0","#f00"];z=function(f){function g(d){var b=this;d=d?d:{};b=(0,p.assign)({},d);delete b.gradient;delete b.radius;delete b.blur;delete b.weight;b=f.call(this,b)||this;b.gradient_=null;b.addChangeListener("gradient",b.handleGradientChanged_);b.setGradient(d.gradient?d.gradient:l);b.setBlur(void 0!==
d.blur?d.blur:15);b.setRadius(void 0!==d.radius?d.radius:8);var c=d.weight?d.weight:"weight";b.weightFunction_="string"===typeof c?function(a){return a.get(c)}:c;b.setRenderOrder(null);return b}m(g,f);g.prototype.getBlur=function(){return this.get("blur")};g.prototype.getGradient=function(){return this.get("gradient")};g.prototype.getRadius=function(){return this.get("radius")};g.prototype.handleGradientChanged_=function(){for(var d=this.getGradient(),b=(0,u.createCanvasContext2D)(1,256),c=b.createLinearGradient(0,
0,1,256),a=1/(d.length-1),e=0,t=d.length;e<t;++e)c.addColorStop(e*a,d[e]);b.fillStyle=c;b.fillRect(0,0,1,256);this.gradient_=b.canvas};g.prototype.setBlur=function(d){this.set("blur",d)};g.prototype.setGradient=function(d){this.set("gradient",d)};g.prototype.setRadius=function(d){this.set("radius",d)};g.prototype.createRenderer=function(){return new k.default(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(d){d=this.weightFunction_(d);return void 0!==d?(0,A.clamp)(d,
0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a * u_opacity;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})};g.prototype.renderDeclutter=function(){};return g}(ra.default);B.default=z};
shadow$provide[401]=function(ra,z,cb,B){function v(D){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(D)?D:new Uint8Array(D||0);this.type=this.pos=0;this.length=this.buf.length}function k(D,G,L){var O=L.buf;var V=O[L.pos++];var S=(V&112)>>4;if(128>V)return A(D,S,G);V=O[L.pos++];S|=(V&127)<<3;if(128>V)return A(D,S,G);V=O[L.pos++];S|=(V&127)<<10;if(128>V)return A(D,S,G);V=O[L.pos++];S|=(V&127)<<17;if(128>V)return A(D,S,G);V=O[L.pos++];S|=(V&127)<<24;if(128>V)return A(D,S,G);V=O[L.pos++];if(128>V)return A(D,
S|(V&1)<<31,G);throw Error("Expected varint not more than 10 bytes");}function p(D){return D.type===v.Bytes?D.readVarint()+D.pos:D.pos+1}function A(D,G,L){return L?4294967296*G+(D>>>0):4294967296*(G>>>0)+(D>>>0)}function u(D,G,L){G=16383>=G?1:2097151>=G?2:268435455>=G?3:Math.floor(Math.log(G)/(7*Math.LN2));L.realloc(G);for(var O=L.pos-1;O>=D;O--)L.buf[O+G]=L.buf[O]}function m(D,G){for(var L=0;L<D.length;L++)G.writeVarint(D[L])}function l(D,G){for(var L=0;L<D.length;L++)G.writeSVarint(D[L])}function f(D,
G){for(var L=0;L<D.length;L++)G.writeFloat(D[L])}function g(D,G){for(var L=0;L<D.length;L++)G.writeDouble(D[L])}function d(D,G){for(var L=0;L<D.length;L++)G.writeBoolean(D[L])}function b(D,G){for(var L=0;L<D.length;L++)G.writeFixed32(D[L])}function c(D,G){for(var L=0;L<D.length;L++)G.writeSFixed32(D[L])}function a(D,G){for(var L=0;L<D.length;L++)G.writeFixed64(D[L])}function e(D,G){for(var L=0;L<D.length;L++)G.writeSFixed64(D[L])}function t(D,G){return(D[G]|D[G+1]<<8|D[G+2]<<16)+16777216*D[G+3]}function y(D,
G,L){D[L]=G;D[L+1]=G>>>8;D[L+2]=G>>>16;D[L+3]=G>>>24}function q(D,G){return(D[G]|D[G+1]<<8|D[G+2]<<16)+(D[G+3]<<24)}cb.exports=v;var E=z(19);v.Varint=0;v.Fixed64=1;v.Bytes=2;v.Fixed32=5;var F=1/4294967296,w="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");v.prototype={destroy:function(){this.buf=null},readFields:function(D,G,L){for(L=L||this.length;this.pos<L;){var O=this.readVarint(),V=O>>3,S=this.pos;this.type=O&7;D(V,G,this);this.pos===S&&this.skip(O)}return G},readMessage:function(D,
G){return this.readFields(D,G,this.readVarint()+this.pos)},readFixed32:function(){var D=t(this.buf,this.pos);this.pos+=4;return D},readSFixed32:function(){var D=q(this.buf,this.pos);this.pos+=4;return D},readFixed64:function(){var D=t(this.buf,this.pos)+4294967296*t(this.buf,this.pos+4);this.pos+=8;return D},readSFixed64:function(){var D=t(this.buf,this.pos)+4294967296*q(this.buf,this.pos+4);this.pos+=8;return D},readFloat:function(){var D=E.read(this.buf,this.pos,!0,23,4);this.pos+=4;return D},readDouble:function(){var D=
E.read(this.buf,this.pos,!0,52,8);this.pos+=8;return D},readVarint:function(D){var G=this.buf;var L=G[this.pos++];var O=L&127;if(128>L)return O;L=G[this.pos++];O|=(L&127)<<7;if(128>L)return O;L=G[this.pos++];O|=(L&127)<<14;if(128>L)return O;L=G[this.pos++];O|=(L&127)<<21;if(128>L)return O;L=G[this.pos];return k(O|(L&15)<<28,D,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var D=this.readVarint();return 1===D%2?(D+1)/-2:D/2},readBoolean:function(){return!!this.readVarint()},
readString:function(){var D=this.readVarint()+this.pos,G=this.pos;this.pos=D;if(12<=D-G&&w)return w.decode(this.buf.subarray(G,D));for(var L=this.buf,O="";G<D;){var V=L[G],S=null,ca=239<V?4:223<V?3:191<V?2:1;if(G+ca>D)break;if(1===ca)128>V&&(S=V);else if(2===ca){var ea=L[G+1];128===(ea&192)&&(S=(V&31)<<6|ea&63,127>=S&&(S=null))}else if(3===ca){ea=L[G+1];var T=L[G+2];128===(ea&192)&&128===(T&192)&&(S=(V&15)<<12|(ea&63)<<6|T&63,2047>=S||55296<=S&&57343>=S)&&(S=null)}else if(4===ca){ea=L[G+1];T=L[G+
2];var R=L[G+3];128===(ea&192)&&128===(T&192)&&128===(R&192)&&(S=(V&15)<<18|(ea&63)<<12|(T&63)<<6|R&63,65535>=S||1114112<=S)&&(S=null)}null===S?(S=65533,ca=1):65535<S&&(S-=65536,O+=String.fromCharCode(S>>>10&1023|55296),S=56320|S&1023);O+=String.fromCharCode(S);G+=ca}return O},readBytes:function(){var D=this.readVarint()+this.pos,G=this.buf.subarray(this.pos,D);this.pos=D;return G},readPackedVarint:function(D,G){if(this.type!==v.Bytes)return D.push(this.readVarint(G));var L=p(this);for(D=D||[];this.pos<
L;)D.push(this.readVarint(G));return D},readPackedSVarint:function(D){if(this.type!==v.Bytes)return D.push(this.readSVarint());var G=p(this);for(D=D||[];this.pos<G;)D.push(this.readSVarint());return D},readPackedBoolean:function(D){if(this.type!==v.Bytes)return D.push(this.readBoolean());var G=p(this);for(D=D||[];this.pos<G;)D.push(this.readBoolean());return D},readPackedFloat:function(D){if(this.type!==v.Bytes)return D.push(this.readFloat());var G=p(this);for(D=D||[];this.pos<G;)D.push(this.readFloat());
return D},readPackedDouble:function(D){if(this.type!==v.Bytes)return D.push(this.readDouble());var G=p(this);for(D=D||[];this.pos<G;)D.push(this.readDouble());return D},readPackedFixed32:function(D){if(this.type!==v.Bytes)return D.push(this.readFixed32());var G=p(this);for(D=D||[];this.pos<G;)D.push(this.readFixed32());return D},readPackedSFixed32:function(D){if(this.type!==v.Bytes)return D.push(this.readSFixed32());var G=p(this);for(D=D||[];this.pos<G;)D.push(this.readSFixed32());return D},readPackedFixed64:function(D){if(this.type!==
v.Bytes)return D.push(this.readFixed64());var G=p(this);for(D=D||[];this.pos<G;)D.push(this.readFixed64());return D},readPackedSFixed64:function(D){if(this.type!==v.Bytes)return D.push(this.readSFixed64());var G=p(this);for(D=D||[];this.pos<G;)D.push(this.readSFixed64());return D},skip:function(D){D&=7;if(D===v.Varint)for(;127<this.buf[this.pos++];);else if(D===v.Bytes)this.pos=this.readVarint()+this.pos;else if(D===v.Fixed32)this.pos+=4;else if(D===v.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+
D);},writeTag:function(D,G){this.writeVarint(D<<3|G)},realloc:function(D){for(var G=this.length||16;G<this.pos+D;)G*=2;G!==this.length&&(D=new Uint8Array(G),D.set(this.buf),this.buf=D,this.length=G)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(D){this.realloc(4);y(this.buf,D,this.pos);this.pos+=4},writeSFixed32:function(D){this.realloc(4);y(this.buf,D,this.pos);this.pos+=4},writeFixed64:function(D){this.realloc(8);y(this.buf,D&-1,
this.pos);y(this.buf,Math.floor(D*F),this.pos+4);this.pos+=8},writeSFixed64:function(D){this.realloc(8);y(this.buf,D&-1,this.pos);y(this.buf,Math.floor(D*F),this.pos+4);this.pos+=8},writeVarint:function(D){D=+D||0;if(268435455<D||0>D){if(0<=D){var G=D%4294967296|0;var L=D/4294967296|0}else G=~(-D%4294967296),L=~(-D/4294967296),G^4294967295?G=G+1|0:(G=0,L=L+1|0);if(1.8446744073709552E19<=D||-1.8446744073709552E19>D)throw Error("Given varint doesn't fit into 10 bytes");this.realloc(10);D=G;this.buf[this.pos++]=
D&127|128;D>>>=7;this.buf[this.pos++]=D&127|128;D>>>=7;this.buf[this.pos++]=D&127|128;D>>>=7;this.buf[this.pos++]=D&127|128;this.buf[this.pos]=D>>>7&127;this.buf[this.pos++]|=(L&7)<<4|((L>>>=3)?128:0);L&&(this.buf[this.pos++]=L&127|((L>>>=7)?128:0),L&&(this.buf[this.pos++]=L&127|((L>>>=7)?128:0),L&&(this.buf[this.pos++]=L&127|((L>>>=7)?128:0),L&&(this.buf[this.pos++]=L&127|((L>>>=7)?128:0),L&&(this.buf[this.pos++]=L&127)))))}else this.realloc(4),this.buf[this.pos++]=D&127|(127<D?128:0),127>=D||(this.buf[this.pos++]=
(D>>>=7)&127|(127<D?128:0),127>=D||(this.buf[this.pos++]=(D>>>=7)&127|(127<D?128:0),127>=D||(this.buf[this.pos++]=D>>>7&127)))},writeSVarint:function(D){this.writeVarint(0>D?2*-D-1:2*D)},writeBoolean:function(D){this.writeVarint(!!D)},writeString:function(D){D=String(D);this.realloc(4*D.length);this.pos++;for(var G=this.pos,L=this.buf,O=this.pos,V=0,S,ca;V<D.length;V++){S=D.charCodeAt(V);if(55295<S&&57344>S)if(ca)if(56320>S){L[O++]=239;L[O++]=191;L[O++]=189;ca=S;continue}else S=ca-55296<<10|S-56320|
65536,ca=null;else{56319<S||V+1===D.length?(L[O++]=239,L[O++]=191,L[O++]=189):ca=S;continue}else ca&&(L[O++]=239,L[O++]=191,L[O++]=189,ca=null);128>S?L[O++]=S:(2048>S?L[O++]=S>>6|192:(65536>S?L[O++]=S>>12|224:(L[O++]=S>>18|240,L[O++]=S>>12&63|128),L[O++]=S>>6&63|128),L[O++]=S&63|128)}this.pos=O;L=this.pos-G;128<=L&&u(G,L,this);this.pos=G-1;this.writeVarint(L);this.pos+=L},writeFloat:function(D){this.realloc(4);E.write(this.buf,D,this.pos,!0,23,4);this.pos+=4},writeDouble:function(D){this.realloc(8);
E.write(this.buf,D,this.pos,!0,52,8);this.pos+=8},writeBytes:function(D){var G=D.length;this.writeVarint(G);this.realloc(G);for(var L=0;L<G;L++)this.buf[this.pos++]=D[L]},writeRawMessage:function(D,G){this.pos++;var L=this.pos;D(G,this);D=this.pos-L;128<=D&&u(L,D,this);this.pos=L-1;this.writeVarint(D);this.pos+=D},writeMessage:function(D,G,L){this.writeTag(D,v.Bytes);this.writeRawMessage(G,L)},writePackedVarint:function(D,G){G.length&&this.writeMessage(D,m,G)},writePackedSVarint:function(D,G){G.length&&
this.writeMessage(D,l,G)},writePackedBoolean:function(D,G){G.length&&this.writeMessage(D,d,G)},writePackedFloat:function(D,G){G.length&&this.writeMessage(D,f,G)},writePackedDouble:function(D,G){G.length&&this.writeMessage(D,g,G)},writePackedFixed32:function(D,G){G.length&&this.writeMessage(D,b,G)},writePackedSFixed32:function(D,G){G.length&&this.writeMessage(D,c,G)},writePackedFixed64:function(D,G){G.length&&this.writeMessage(D,a,G)},writePackedSFixed64:function(D,G){G.length&&this.writeMessage(D,
e,G)},writeBytesField:function(D,G){this.writeTag(D,v.Bytes);this.writeBytes(G)},writeFixed32Field:function(D,G){this.writeTag(D,v.Fixed32);this.writeFixed32(G)},writeSFixed32Field:function(D,G){this.writeTag(D,v.Fixed32);this.writeSFixed32(G)},writeFixed64Field:function(D,G){this.writeTag(D,v.Fixed64);this.writeFixed64(G)},writeSFixed64Field:function(D,G){this.writeTag(D,v.Fixed64);this.writeSFixed64(G)},writeVarintField:function(D,G){this.writeTag(D,v.Varint);this.writeVarint(G)},writeSVarintField:function(D,
G){this.writeTag(D,v.Varint);this.writeSVarint(G)},writeStringField:function(D,G){this.writeTag(D,v.Bytes);this.writeString(G)},writeFloatField:function(D,G){this.writeTag(D,v.Fixed32);this.writeFloat(G)},writeDoubleField:function(D,G){this.writeTag(D,v.Fixed64);this.writeDouble(G)},writeBooleanField:function(D,G){this.writeVarintField(D,!!G)}}};
shadow$provide[402]=function(ra,z,cb,B){function v(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(B,"__esModule",{value:!0});Object.defineProperty(B,"Circle",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(B,"Geometry",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(B,"GeometryCollection",{enumerable:!0,get:function(){return A.default}});Object.defineProperty(B,"LinearRing",{enumerable:!0,get:function(){return u.default}});Object.defineProperty(B,
"LineString",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(B,"MultiLineString",{enumerable:!0,get:function(){return l.default}});Object.defineProperty(B,"MultiPoint",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(B,"MultiPolygon",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(B,"Point",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(B,"Polygon",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(B,
"SimpleGeometry",{enumerable:!0,get:function(){return c.default}});var k=v(z(183)),p=v(z(131)),A=v(z(245)),u=v(z(138)),m=v(z(187)),l=v(z(188)),f=v(z(189)),g=v(z(191)),d=v(z(139)),b=v(z(146)),c=v(z(132))};
shadow$provide[403]=function(ra,z,cb,B){function v(q){return q&&q.__esModule?q:{default:q}}function k(q){var E=q.getType();switch(E){case u.default.POINT:return new m.Point(q.getFlatCoordinates());case u.default.MULTI_POINT:return new m.MultiPoint(q.getFlatCoordinates(),A.default.XY);case u.default.LINE_STRING:return new m.LineString(q.getFlatCoordinates(),A.default.XY);case u.default.MULTI_LINE_STRING:return new m.MultiLineString(q.getFlatCoordinates(),A.default.XY,q.getEnds());case u.default.POLYGON:E=
q.getFlatCoordinates();q=q.getEnds();var F=(0,c.inflateEnds)(E,q);return 1<F.length?new m.MultiPolygon(E,A.default.XY,F):new m.Polygon(E,A.default.XY,q);default:throw Error("Invalid geometry type:"+E);}}Object.defineProperty(B,"__esModule",{value:!0});B.toGeometry=k;B.toFeature=function(q,E){var F=q.getId(),w=k(q);q=q.getProperties();var D=new p.default;void 0!==E&&D.setGeometryName(E);D.setGeometry(w);void 0!==F&&D.setId(F);D.setProperties(q,!0);return D};B.default=void 0;var p=v(z(184)),A=v(z(129)),
u=v(z(113)),m=z(402),l=z(72),f=z(75),g=z(66),d=z(141),b=z(124),c=z(145),a=z(185),e=z(190),t=z(130),y=(0,l.create)();ra=function(){function q(E,F,w,D,G){this.id_=G;this.type_=E;this.flatCoordinates_=F;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=w;this.properties_=D}q.prototype.get=function(E){return this.properties_[E]};q.prototype.getExtent=function(){this.extent_||(this.extent_=this.type_===u.default.POINT?(0,f.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,f.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,
0,this.flatCoordinates_.length,2));return this.extent_};q.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var E=(0,f.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,d.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,E,0)}return this.flatInteriorPoints_};q.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var E=(0,e.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,d.getInteriorPointsOfMultiArray)(this.flatCoordinates_,
0,this.ends_,2,E)}return this.flatInteriorPoints_};q.prototype.getFlatMidpoint=function(){this.flatMidpoints_||(this.flatMidpoints_=(0,a.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_};q.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var E=this.flatCoordinates_,F=0,w=this.ends_,D=0,G=w.length;D<G;++D){var L=w[D];F=(0,a.interpolatePoint)(E,F,L,2,.5);(0,g.extend)(this.flatMidpoints_,F);F=L}}return this.flatMidpoints_};
q.prototype.getId=function(){return this.id_};q.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};q.prototype.getGeometry=function(){return this};q.prototype.getSimplifiedGeometry=function(E){return this};q.prototype.simplifyTransformed=function(E,F){return this};q.prototype.getProperties=function(){return this.properties_};q.prototype.getStride=function(){return 2};q.prototype.getStyleFunction=function(){return this.styleFunction};q.prototype.getType=function(){return this.type_};
q.prototype.transform=function(E){E=(0,b.get)(E);var F=E.getExtent();E=E.getWorldExtent();F&&E&&(F=(0,f.getHeight)(E)/(0,f.getHeight)(F),(0,l.compose)(y,E[0],E[3],F,-F,0,0,0),(0,t.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,y,this.flatCoordinates_))};q.prototype.getEnds=function(){return this.ends_};return q}();ra.prototype.getEndss=ra.prototype.getEnds;ra.prototype.getFlatCoordinates=ra.prototype.getOrientedFlatCoordinates;B.default=ra};
shadow$provide[404]=function(ra,z,cb,B){function v(O){return O&&O.__esModule?O:{default:O}}function k(O){if("function"!==typeof WeakMap)return null;var V=new WeakMap,S=new WeakMap;return(k=function(ca){return ca?S:V})(O)}function p(O,V,S){if(3===O){O={keys:[],values:[],features:[]};var ca=S.readVarint()+S.pos;S.readFields(A,O,ca);O.length=O.features.length;O.length&&(V[O.name]=O)}}function A(O,V,S){if(15===O)V.version=S.readVarint();else if(1===O)V.name=S.readString();else if(5===O)V.extent=S.readVarint();
else if(2===O)V.features.push(S.pos);else if(3===O)V.keys.push(S.readString());else if(4===O){O=null;for(var ca=S.readVarint()+S.pos;S.pos<ca;)O=S.readVarint()>>3,O=1===O?S.readString():2===O?S.readFloat():3===O?S.readDouble():4===O?S.readVarint64():5===O?S.readVarint():6===O?S.readSVarint():7===O?S.readBoolean():null;V.values.push(O)}}function u(O,V,S){if(1==O)V.id=S.readVarint();else if(2==O)for(O=S.readVarint()+S.pos;S.pos<O;){var ca=V.layer.keys[S.readVarint()],ea=V.layer.values[S.readVarint()];
V.properties[ca]=ea}else 3==O?V.type=S.readVarint():4==O&&(V.geometry=S.pos)}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var m=function(O,V){if(!V&&O&&O.__esModule)return O;if(null===O||"object"!==typeof O&&"function"!==typeof O)return{default:O};if((V=k(V))&&V.has(O))return V.get(O);var S={},ca=Object.defineProperty&&Object.getOwnPropertyDescriptor,ea;for(ea in O)if("default"!==ea&&Object.prototype.hasOwnProperty.call(O,ea)){var T=ca?Object.getOwnPropertyDescriptor(O,ea):null;
T&&(T.get||T.set)?Object.defineProperty(S,ea,T):S[ea]=O[ea]}S.default=O;V&&V.set(O,S);return S}(z(246)),l=v(z(180)),f=v(z(129)),g=v(z(113)),d=v(z(187)),b=v(z(188)),c=v(z(189)),a=v(z(191)),e=v(z(401)),t=v(z(139)),y=v(z(146)),q=v(z(118)),E=v(z(403)),F=v(z(114)),w=z(71),D=z(124),G=z(145),L=function(){var O=function(V,S){O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ca,ea){ca.__proto__=ea}||function(ca,ea){for(var T in ea)Object.prototype.hasOwnProperty.call(ea,T)&&(ca[T]=ea[T])};
return O(V,S)};return function(V,S){function ca(){this.constructor=V}if("function"!==typeof S&&null!==S)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");O(V,S);V.prototype=null===S?Object.create(S):(ca.prototype=S.prototype,new ca)}}();ra=function(O){function V(S){var ca=O.call(this)||this;S=S?S:{};ca.dataProjection=new q.default({code:"",units:F.default.TILE_PIXELS});ca.featureClass_=S.featureClass?S.featureClass:E.default;ca.geometryName_=S.geometryName;ca.layerName_=
S.layerName?S.layerName:"layer";ca.layers_=S.layers?S.layers:null;ca.idProperty_=S.idProperty;ca.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"];return ca}L(V,O);V.prototype.readRawGeometry_=function(S,ca,ea,T){S.pos=ca.geometry;ca=S.readVarint()+S.pos;for(var R=1,J=0,r=0,C=0,N=0,U=0;S.pos<ca;)J||(J=S.readVarint(),R=J&7,J>>=3),J--,1===R||2===R?(r+=S.readSVarint(),C+=S.readSVarint(),1===R&&N>U&&(T.push(N),U=N),ea.push(r,C),N+=2):7===R?N>U&&(ea.push(ea[U],ea[U+1]),
N+=2):(0,w.assert)(!1,59);N>U&&T.push(N)};V.prototype.createFeature_=function(S,ca,ea){var T=ca.type;if(0===T)return null;var R=ca.properties;if(this.idProperty_){var J=R[this.idProperty_];delete R[this.idProperty_]}else J=ca.id;R[this.layerName_]=ca.layer.name;var r=[];var C=[];this.readRawGeometry_(S,ca,r,C);S=C.length;if(1===T)var N=1===S?g.default.POINT:g.default.MULTI_POINT;else 2===T?N=1===S?g.default.LINE_STRING:g.default.MULTI_LINE_STRING:3===T&&(N=g.default.POLYGON);T=N;this.featureClass_===
E.default?(r=new this.featureClass_(T,r,C,R,J),r.transform(ea.dataProjection)):(T==g.default.POLYGON?(T=(0,G.inflateEnds)(r,C),C=1<T.length?new a.default(r,f.default.XY,T):new y.default(r,f.default.XY,C)):C=T===g.default.POINT?new t.default(r,f.default.XY):T===g.default.LINE_STRING?new d.default(r,f.default.XY):T===g.default.POLYGON?new y.default(r,f.default.XY,C):T===g.default.MULTI_POINT?new c.default(r,f.default.XY):T===g.default.MULTI_LINE_STRING?new b.default(r,f.default.XY,C):null,r=new this.featureClass_,
this.geometryName_&&r.setGeometryName(this.geometryName_),ea=(0,m.transformGeometryWithOptions)(C,!1,ea),r.setGeometry(ea),void 0!==J&&r.setId(J),r.setProperties(R,!0));return r};V.prototype.getType=function(){return l.default.ARRAY_BUFFER};V.prototype.readFeatures=function(S,ca){var ea=this.layers_;ca=this.adaptOptions(ca);var T=(0,D.get)(ca.dataProjection);T.setWorldExtent(ca.extent);ca.dataProjection=T;S=new e.default(S);var R=S.readFields(p,{}),J=[],r;for(r in R)if(!ea||-1!=ea.indexOf(r)){var C=
R[r];T.setExtent(C?[0,0,C.extent,C.extent]:null);for(var N=0,U=C.length;N<U;++N){var ja=S,ba=C;ja.pos=ba.features[N];var ia=ja.readVarint()+ja.pos;ba={layer:ba,type:0,properties:{}};ja.readFields(u,ba,ia);ja=this.createFeature_(S,ba,ca);null!==ja&&J.push(ja)}}return J};V.prototype.readProjection=function(S){return this.dataProjection};V.prototype.setLayers=function(S){this.layers_=S};return V}(m.default);B.default=ra};
shadow$provide[405]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;B.default={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}};
shadow$provide[406]=function(ra,z,cb,B){function v(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var k=v(z(211)),p=v(z(217));ra=v(z(371));cb=v(z(214));var A=v(z(111)),u=v(z(405)),m=v(z(115)),l=z(227),f=z(72),g=z(75),d=z(228),b=z(68),c=z(148),a=z(93),e=function(){var q=function(E,F){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,D){w.__proto__=D}||function(w,D){for(var G in D)Object.prototype.hasOwnProperty.call(D,G)&&
(w[G]=D[G])};return q(E,F)};return function(E,F){function w(){this.constructor=E}if("function"!==typeof F&&null!==F)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");q(E,F);E.prototype=null===F?Object.create(F):(w.prototype=F.prototype,new w)}}(),t={image:[cb.default.POLYGON,cb.default.CIRCLE,cb.default.LINE_STRING,cb.default.IMAGE,cb.default.TEXT],hybrid:[cb.default.POLYGON,cb.default.LINE_STRING],vector:[]},y={hybrid:[cb.default.IMAGE,cb.default.TEXT,cb.default.DEFAULT],
vector:[cb.default.POLYGON,cb.default.CIRCLE,cb.default.LINE_STRING,cb.default.IMAGE,cb.default.TEXT,cb.default.DEFAULT]};z=function(q){function E(F){F=q.call(this,F)||this;F.boundHandleStyleImageChange_=F.handleStyleImageChange_.bind(F);F.dirty_=!1;F.renderedPixelToCoordinateTransform_=null;F.tmpTransform_=(0,f.create)();return F}e(E,q);E.prototype.prepareTile=function(F,w,D){var G,L=F.getState();if(L===A.default.LOADED||L===A.default.ERROR)this.updateExecutorGroup_(F,w,D),this.tileImageNeedsRender_(F)&&
(G=!0);return G};E.prototype.getTile=function(F,w,D,G){var L=G.pixelRatio,O=G.viewState,V=O.resolution;O=O.projection;var S=this.getLayer(),ca=S.getSource().getTile(F,w,D,L,O),ea=G.viewHints;if((ea=!(ea[m.default.ANIMATING]||ea[m.default.INTERACTING]))||!ca.wantedResolution)ca.wantedResolution=V;this.prepareTile(ca,L,O)&&(ea||8>Date.now()-G.time)&&S.getRenderMode()!==u.default.VECTOR&&this.renderTileImage_(ca,G);return q.prototype.getTile.call(this,F,w,D,G)};E.prototype.isDrawableTile=function(F){var w=
this.getLayer();return q.prototype.isDrawableTile.call(this,F)&&(w.getRenderMode()===u.default.VECTOR?(0,b.getUid)(w)in F.executorGroups:F.hasContext(w))};E.prototype.getTileImage=function(F){return F.getImage(this.getLayer())};E.prototype.prepareFrame=function(F){var w=this.getLayer().getRevision();this.renderedLayerRevision_!=w&&(this.renderedTiles.length=0);this.renderedLayerRevision_=w;return q.prototype.prepareFrame.call(this,F)};E.prototype.updateExecutorGroup_=function(F,w,D){var G=this.getLayer(),
L=G.getRevision(),O=G.getRenderOrder()||null,V=F.wantedResolution,S=F.getReplayState(G);if(S.dirty||S.renderedResolution!==V||S.renderedRevision!=L||S.renderedRenderOrder!=O){var ca=G.getSource(),ea=G.getDeclutter(),T=ca.getTileGrid(),R=ca.getTileGridForProjection(D).getTileCoordExtent(F.wrappedTileCoord),J=ca.getSourceTiles(w,D,F),r=(0,b.getUid)(G);delete F.hitDetectionImageData[r];F.executorGroups[r]=[];ea&&(F.declutterExecutorGroups[r]=[]);D=function(ja,ba){var ia=J[ja];if(ia.getState()!=A.default.LOADED)return"continue";
ba=T.getTileCoordExtent(ia.tileCoord);ja=(0,g.getIntersection)(R,ba);var za=(0,g.buffer)(ja,G.getRenderBuffer()*V,C.tmpExtent);ba=(0,g.equals)(ba,ja)?null:za;S.dirty=!1;var Wa=new k.default(0,za,V,w),hb=ea?new k.default(0,ja,V,w):void 0,Ja=(0,d.getSquaredTolerance)(V,w);za=function(sa){var xa,ma=sa.getStyleFunction()||G.getStyleFunction();ma&&(xa=ma(sa,V));xa&&(sa=this.renderFeature(sa,Ja,xa,Wa,hb),this.dirty_=this.dirty_||sa,S.dirty=S.dirty||sa)};ia=ia.getFeatures();O&&O!==S.renderedRenderOrder&&
ia.sort(O);for(var qa=0,Da=ia.length;qa<Da;++qa){var va=ia[qa];ba&&!(0,g.intersects)(ba,va.getGeometry().getExtent())||za.call(C,va)}ba=Wa.finish();ja=G.getRenderMode()!==u.default.VECTOR&&ea&&1===J.length?null:ja;ja=new p.default(ja,V,w,ca.getOverlaps(),ba,G.getRenderBuffer());F.executorGroups[r].push(ja);hb&&(ja=new p.default(null,V,w,ca.getOverlaps(),hb.finish(),G.getRenderBuffer()),F.declutterExecutorGroups[r].push(ja))};for(var C=this,N=0,U=J.length;N<U;++N)D(N,U);S.renderedRevision=L;S.renderedRenderOrder=
O;S.renderedResolution=V}};E.prototype.forEachFeatureAtCoordinate=function(F,w,D,G,L){var O=w.viewState.resolution,V=w.viewState.rotation;D=void 0==D?0:D;var S=this.getLayer(),ca=S.getSource().getTileGridForProjection(w.viewState.projection),ea=(0,g.boundingExtent)([F]);(0,g.buffer)(ea,O*D,ea);for(var T={},R=function(ja,ba,ia){var za=ja.getId();void 0===za&&(za=(0,b.getUid)(ja));var Wa=T[za];if(!Wa){if(0===ia)return T[za]=!0,G(ja,S,ba);L.push(T[za]={feature:ja,layer:S,geometry:ba,distanceSq:ia,callback:G})}else if(!0!==
Wa&&ia<Wa.distanceSq){if(0===ia)return T[za]=!0,L.splice(L.lastIndexOf(Wa),1),G(ja,S,ba);Wa.geometry=ba;Wa.distanceSq=ia}},J=this.renderedTiles,r,C=function(ja,ba){ja=J[ja];ba=ca.getTileCoordExtent(ja.wrappedTileCoord);if(!(0,g.intersects)(ba,ea))return"continue";ba=(0,b.getUid)(S);var ia=[ja.executorGroups[ba]],za=ja.declutterExecutorGroups[ba];za&&ia.push(za);ia.some(function(Wa){for(var hb=Wa===za?w.declutterTree.all().map(function(Da){return Da.value}):null,Ja=0,qa=Wa.length;Ja<qa;++Ja)if(r=Wa[Ja].forEachFeatureAtCoordinate(F,
O,V,D,R,hb))return!0})},N=0,U=J.length;!r&&N<U;++N)C(N,U);return r};E.prototype.getFeatures=function(F){return new Promise(function(w,D){D=this.getLayer();for(var G=(0,b.getUid)(D),L=D.getSource(),O=this.renderedProjection,V=O.getExtent(),S=this.renderedResolution,ca=L.getTileGridForProjection(O),ea=(0,f.apply)(this.renderedPixelToCoordinateTransform_,F.slice()),T=ca.getTileCoordForCoordAndResolution(ea,S),R,J=0,r=this.renderedTiles.length;J<r;++J)if(T.toString()===this.renderedTiles[J].tileCoord.toString()){R=
this.renderedTiles[J];if(R.getState()===A.default.LOADED){T=ca.getTileCoordExtent(R.tileCoord);L.getWrapX()&&O.canWrapX()&&!(0,g.containsExtent)(V,T)&&(0,a.wrapX)(ea,O);break}R=void 0}!R||0<R.loadingSourceTiles?w([]):(L=ca.getTileCoordExtent(R.wrappedTileCoord),L=(0,g.getTopLeft)(L),ea=[(ea[0]-L[0])/S,(L[1]-ea[1])/S],L=R.getSourceTiles().reduce(function(C,N){return C.concat(N.getFeatures())},[]),O=R.hitDetectionImageData[G],O||this.animatingOrInteracting_||(O=(0,c.toSize)(ca.getTileSize(ca.getZForResolution(S))),
V=this.renderedRotation_,S=[this.getRenderTransform(ca.getTileCoordCenter(R.wrappedTileCoord),S,0,l.HIT_DETECT_RESOLUTION,O[0]*l.HIT_DETECT_RESOLUTION,O[1]*l.HIT_DETECT_RESOLUTION,0)],O=(0,l.createHitDetectionImageData)(O,S,L,D.getStyleFunction(),ca.getTileCoordExtent(R.wrappedTileCoord),R.getReplayState(D).renderedResolution,V),R.hitDetectionImageData[G]=O),w((0,l.hitDetect)(ea,L,O)))}.bind(this))};E.prototype.handleFontsChanged=function(){var F=this.getLayer();F.getVisible()&&void 0!==this.renderedLayerRevision_&&
F.changed()};E.prototype.handleStyleImageChange_=function(F){this.renderIfReadyAndVisible()};E.prototype.renderDeclutter=function(F){var w=this.context,D=w.globalAlpha;w.globalAlpha=this.getLayer().getOpacity();var G=F.viewHints;G=!(G[m.default.ANIMATING]||G[m.default.INTERACTING]);for(var L=this.renderedTiles,O=0,V=L.length;O<V;++O){var S=L[O],ca=S.declutterExecutorGroups[(0,b.getUid)(this.getLayer())];if(ca)for(var ea=ca.length-1;0<=ea;--ea)ca[ea].execute(this.context,1,this.getTileRenderTransform(S,
F),F.viewState.rotation,G,void 0,F.declutterTree)}w.globalAlpha=D};E.prototype.getTileRenderTransform=function(F,w){var D=w.pixelRatio,G=w.viewState,L=G.center,O=G.resolution;G=G.rotation;var V=w.size,S=Math.round(V[0]*D);V=Math.round(V[1]*D);w=this.getLayer().getSource().getTileGridForProjection(w.viewState.projection);var ca=F.tileCoord;F=w.getTileCoordExtent(F.wrappedTileCoord);F=w.getTileCoordExtent(ca,this.tmpExtent)[0]-F[0];return(0,f.multiply)((0,f.scale)(this.inversePixelTransform.slice(),
1/D,1/D),this.getRenderTransform(L,O,G,D,S,V,F))};E.prototype.renderFrame=function(F,w){var D=F.viewHints;D=!(D[m.default.ANIMATING]||D[m.default.INTERACTING]);q.prototype.renderFrame.call(this,F,w);this.renderedPixelToCoordinateTransform_=F.pixelToCoordinateTransform.slice();this.renderedRotation_=F.viewState.rotation;w=this.getLayer();var G=w.getRenderMode(),L=this.context,O=L.globalAlpha;L.globalAlpha=w.getOpacity();var V=y[G],S=F.viewState;G=S.rotation;var ca=w.getSource();S=ca.getTileGridForProjection(S.projection).getZForResolution(S.resolution,
ca.zDirection);ca=this.renderedTiles;for(var ea=[],T=[],R=ca.length-1;0<=R;--R){var J=ca[R],r=J.executorGroups[(0,b.getUid)(w)].filter(function(za){return za.hasExecutors(V)});if(0!==r.length){var C=this.getTileRenderTransform(J,F),N=J.tileCoord[0];J=!1;for(var U=r[0].getClipCoords(C),ja=0,ba=ea.length;ja<ba;++ja)if(S!==N&&N<T[ja]){var ia=ea[ja];(0,g.intersects)([U[0],U[3],U[4],U[7]],[ia[0],ia[3],ia[4],ia[7]])&&(J||(L.save(),J=!0),L.beginPath(),L.moveTo(U[0],U[1]),L.lineTo(U[2],U[3]),L.lineTo(U[4],
U[5]),L.lineTo(U[6],U[7]),L.moveTo(ia[6],ia[7]),L.lineTo(ia[4],ia[5]),L.lineTo(ia[2],ia[3]),L.lineTo(ia[0],ia[1]),L.clip())}ea.push(U);T.push(N);N=0;for(U=r.length;N<U;++N)r[N].execute(L,1,C,G,D,V);J&&L.restore()}}L.globalAlpha=O;return this.container};E.prototype.renderFeature=function(F,w,D,G,L){if(!D)return!1;var O=!1;if(Array.isArray(D))for(var V=0,S=D.length;V<S;++V)O=(0,d.renderFeature)(G,F,D[V],w,this.boundHandleStyleImageChange_,void 0,L)||O;else O=(0,d.renderFeature)(G,F,D,w,this.boundHandleStyleImageChange_,
void 0,L);return O};E.prototype.tileImageNeedsRender_=function(F){var w=this.getLayer();if(w.getRenderMode()===u.default.VECTOR)return!1;var D=F.getReplayState(w);w=w.getRevision();return D.renderedTileResolution!==F.wantedResolution||D.renderedTileRevision!==w};E.prototype.renderTileImage_=function(F,w){var D=this.getLayer(),G=F.getReplayState(D),L=D.getRevision(),O=F.executorGroups[(0,b.getUid)(D)];G.renderedTileRevision=L;L=F.wrappedTileCoord;var V=L[0],S=D.getSource(),ca=w.pixelRatio,ea=w.viewState.projection,
T=S.getTileGridForProjection(ea),R=T.getResolution(F.tileCoord[0]);R*=w.pixelRatio/F.wantedResolution;var J=T.getResolution(V);w=F.getContext(D);ca=Math.round(Math.max(ca,R/ca));V=S.getTilePixelSize(V,ca,ea);w.canvas.width=V[0];w.canvas.height=V[1];ca/=R;1!==ca&&(V=(0,f.reset)(this.tmpTransform_),(0,f.scale)(V,ca,ca),w.setTransform.apply(w,V));L=T.getTileCoordExtent(L,this.tmpExtent);R/=J;T=(0,f.reset)(this.tmpTransform_);(0,f.scale)(T,R,-R);(0,f.translate)(T,-L[0],-L[3]);L=0;for(R=O.length;L<R;++L)O[L].execute(w,
ca,T,0,!0,t[D.getRenderMode()]);G.renderedTileResolution=F.wantedResolution};return E}(ra.default);B.default=z};
shadow$provide[407]=function(ra,z,cb,B){function v(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(201));var k=v(z(406)),p=v(z(369)),A=v(z(405)),u=z(71),m=z(81),l=function(){var f=function(g,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&(b[a]=c[a])};return f(g,d)};return function(g,d){function b(){this.constructor=g}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(g,d);g.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b)}}();z=function(f){function g(d){d=d?d:{};var b=(0,m.assign)({},d);delete b.preload;delete b.useInterimTilesOnError;b=f.call(this,b)||this;d.renderMode===A.default.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),d.renderMode=void 0);var c=d.renderMode||A.default.HYBRID;(0,u.assert)(c==A.default.HYBRID||
c==A.default.VECTOR,28);b.renderMode_=c;b.setPreload(d.preload?d.preload:0);b.setUseInterimTilesOnError(void 0!==d.useInterimTilesOnError?d.useInterimTilesOnError:!0);b.setBackground;return b}l(g,f);g.prototype.createRenderer=function(){return new k.default(this)};g.prototype.getFeatures=function(d){return f.prototype.getFeatures.call(this,d)};g.prototype.getRenderMode=function(){return this.renderMode_};g.prototype.getPreload=function(){return this.get(p.default.PRELOAD)};g.prototype.getUseInterimTilesOnError=
function(){return this.get(p.default.USE_INTERIM_TILES_ON_ERROR)};g.prototype.setPreload=function(d){this.set(p.default.PRELOAD,d)};g.prototype.setUseInterimTilesOnError=function(d){this.set(p.default.USE_INTERIM_TILES_ON_ERROR,d)};return g}(ra.default);B.default=z};
shadow$provide[408]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}function k(m){return"string"===typeof m?(m=JSON.parse(m))?m:null:null!==m?m:null}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(246));var p=v(z(180)),A=z(68),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,
f){function g(){this.constructor=l}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(){return m.call(this)||this}u(l,m);l.prototype.getType=function(){return p.default.JSON};l.prototype.readFeature=function(f,g){return this.readFeatureFromObject(k(f),this.getReadOptions(f,g))};l.prototype.readFeatures=function(f,g){return this.readFeaturesFromObject(k(f),
this.getReadOptions(f,g))};l.prototype.readFeatureFromObject=function(f,g){return(0,A.abstract)()};l.prototype.readFeaturesFromObject=function(f,g){return(0,A.abstract)()};l.prototype.readGeometry=function(f,g){return this.readGeometryFromObject(k(f),this.getReadOptions(f,g))};l.prototype.readGeometryFromObject=function(f,g){return(0,A.abstract)()};l.prototype.readProjection=function(f){return this.readProjectionFromObject(k(f))};l.prototype.readProjectionFromObject=function(f){return(0,A.abstract)()};
l.prototype.writeFeature=function(f,g){return JSON.stringify(this.writeFeatureObject(f,g))};l.prototype.writeFeatureObject=function(f,g){return(0,A.abstract)()};l.prototype.writeFeatures=function(f,g){return JSON.stringify(this.writeFeaturesObject(f,g))};l.prototype.writeFeaturesObject=function(f,g){return(0,A.abstract)()};l.prototype.writeGeometry=function(f,g){return JSON.stringify(this.writeGeometryObject(f,g))};l.prototype.writeGeometryObject=function(f,g){return(0,A.abstract)()};return l}(ra.default);
B.default=z};
shadow$provide[409]=function(ra,z,cb,B){function v(w){return w&&w.__esModule?w:{default:w}}function k(w,D){if(!w)return null;switch(w.type){case f.default.POINT:w=new a.default(w.coordinates);break;case f.default.LINE_STRING:w=new g.default(w.coordinates);break;case f.default.POLYGON:w=new e.default(w.coordinates);break;case f.default.MULTI_POINT:w=new b.default(w.coordinates);break;case f.default.MULTI_LINE_STRING:w=new d.default(w.coordinates);break;case f.default.MULTI_POLYGON:w=new c.default(w.coordinates);
break;case f.default.GEOMETRY_COLLECTION:w=p(w);break;default:throw Error("Unsupported GeoJSON type: "+w.type);}return(0,E.transformGeometryWithOptions)(w,!1,D)}function p(w,D){w=w.geometries.map(function(G){return k(G,D)});return new l.default(w)}function A(w,D){w=(0,E.transformGeometryWithOptions)(w,!0,D);var G=w.getType();switch(G){case f.default.POINT:w={type:"Point",coordinates:w.getCoordinates()};break;case f.default.LINE_STRING:w={type:"LineString",coordinates:w.getCoordinates()};break;case f.default.POLYGON:if(D)var L=
D.rightHanded;w={type:"Polygon",coordinates:w.getCoordinates(L)};break;case f.default.MULTI_POINT:w={type:"MultiPoint",coordinates:w.getCoordinates()};break;case f.default.MULTI_LINE_STRING:w={type:"MultiLineString",coordinates:w.getCoordinates()};break;case f.default.MULTI_POLYGON:if(D)var O=D.rightHanded;w={type:"MultiPolygon",coordinates:w.getCoordinates(O)};break;case f.default.GEOMETRY_COLLECTION:w=u(w,D);break;case f.default.CIRCLE:w={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+
G);}return w}function u(w,D){return{type:"GeometryCollection",geometries:w.getGeometriesArray().map(function(G){var L=(0,y.assign)({},D);delete L.featureProjection;return A(G,L)})}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;var m=v(z(184)),l=v(z(245)),f=v(z(113));ra=v(z(408));var g=v(z(187)),d=v(z(188)),b=v(z(189)),c=v(z(191)),a=v(z(139)),e=v(z(146)),t=z(71),y=z(81),q=z(124),E=z(246),F=function(){var w=function(D,G){w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,
O){L.__proto__=O}||function(L,O){for(var V in O)Object.prototype.hasOwnProperty.call(O,V)&&(L[V]=O[V])};return w(D,G)};return function(D,G){function L(){this.constructor=D}if("function"!==typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");w(D,G);D.prototype=null===G?Object.create(G):(L.prototype=G.prototype,new L)}}();z=function(w){function D(G){var L=G?G:{};G=w.call(this)||this;G.dataProjection=(0,q.get)(L.dataProjection?L.dataProjection:"EPSG:4326");
L.featureProjection&&(G.defaultFeatureProjection=(0,q.get)(L.featureProjection));G.geometryName_=L.geometryName;G.extractGeometryName_=L.extractGeometryName;G.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"];return G}F(D,w);D.prototype.readFeatureFromObject=function(G,L){G="Feature"===G.type?G:{type:"Feature",geometry:G,properties:null};L=k(G.geometry,L);var O=new m.default;this.geometryName_?O.setGeometryName(this.geometryName_):this.extractGeometryName_&&O.setGeometryName(G.geometry_name);
O.setGeometry(L);"id"in G&&O.setId(G.id);G.properties&&O.setProperties(G.properties,!0);return O};D.prototype.readFeaturesFromObject=function(G,L){if("FeatureCollection"===G.type){var O=[];G=G.features;for(var V=0,S=G.length;V<S;++V)O.push(this.readFeatureFromObject(G[V],L))}else O=[this.readFeatureFromObject(G,L)];return O};D.prototype.readGeometryFromObject=function(G,L){return k(G,L)};D.prototype.readProjectionFromObject=function(G){G=G.crs;var L;G?"name"==G.type?L=(0,q.get)(G.properties.name):
"EPSG"===G.type?L=(0,q.get)("EPSG:"+G.properties.code):(0,t.assert)(!1,36):L=this.dataProjection;return L};D.prototype.writeFeatureObject=function(G,L){L=this.adaptOptions(L);var O={type:"Feature",geometry:null,properties:null},V=G.getId();void 0!==V&&(O.id=V);if(!G.hasProperties())return O;V=G.getProperties();var S=G.getGeometry();S&&(O.geometry=A(S,L),delete V[G.getGeometryName()]);(0,y.isEmpty)(V)||(O.properties=V);return O};D.prototype.writeFeaturesObject=function(G,L){L=this.adaptOptions(L);
for(var O=[],V=0,S=G.length;V<S;++V)O.push(this.writeFeatureObject(G[V],L));return{type:"FeatureCollection",features:O}};D.prototype.writeGeometryObject=function(G,L){return A(G,this.adaptOptions(L))};return D}(ra.default);B.default=z};
shadow$provide[410]=function(ra,z,cb,B){var v={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},k=/(italic|oblique)$/i,p={};cb.exports=function(A,u,m){var l=p[A];if(!l){Array.isArray(A)||(A=[A]);l=400;for(var f="normal",g=[],d=0,b=A.length;d<
b;++d){var c=A[d].split(" "),a=c[c.length-1].toLowerCase();"normal"==a||"italic"==a||"oblique"==a?(f=a,c.pop(),a=c[c.length-1].toLowerCase()):k.test(a)&&(a=a.replace(k,""),f=c[c.length-1].replace(a,""));for(var e in v){var t=1<c.length?c[c.length-2].toLowerCase():"";if(a==e||a==e.replace("-","")||t+"-"+a==e){l=v[e];c.pop();t&&e.startsWith(t)&&c.pop();break}}"number"==typeof a&&(l=a);c=c.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==c.indexOf(" ")&&(c='"'+c+'"');g.push(c)}l=p[A]=[f,l,
g]}return l[0]+" "+l[1]+" "+u+"px"+(m?"/"+m:"")+" "+l[2]}};
shadow$provide[411]=function(ra,z,cb,B){var v=z(21).Buffer;(function(k,p){"object"===typeof B&&"undefined"!==typeof cb?p(B):"function"===typeof define&&define.amd?define(["exports"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,p(k.mapboxGlStyleSpecification={}))})(this,function(k){function p(K,Z){const wa={};for(const Ta in Z)void 0!==K[Ta]&&(wa[Ta]=K[Ta]);for(const Ta in K)void 0===wa[Ta]&&(wa[Ta]=K[Ta]);return wa}function A(K){var Z={exports:{}};return K(Z,Z.exports),Z.exports}function u(K){throw Error('Could not dynamically require "'+
K+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.');}function m(){this.href=this.path=this.pathname=this.query=this.search=this.hash=this.hostname=this.port=this.host=this.auth=this.slashes=this.protocol=null}function l(K,Z,wa){if(K&&Qd.isObject(K)&&K instanceof m)return K;var Ta=new m;Ta.parse(K,Z,wa);return Ta}function f(K){for(var Z=0;Z<Wb.layout.length;Z++)for(const wa in Wb[Wb.layout[Z]])if(wa===K)return Wb[Wb.layout[Z]][wa];
for(Z=0;Z<Wb.paint.length;Z++)for(const wa in Wb[Wb.paint[Z]])if(wa===K)return Wb[Wb.paint[Z]][wa];return null}function g(K,Z){for(const wa in K.sources)Z(K.sources[wa])}function d(K,Z){for(const wa of K.layers)Z(wa)}function b(K,Z,wa){function Ta(pb,Db){const Xb=pb[Db];Xb&&Object.keys(Xb).forEach(Hc=>{wa({path:[pb.id,Db,Hc],key:Hc,value:Xb[Hc],reference:f(Hc),set(Vc){Xb[Hc]=Vc}})})}d(K,pb=>{Z.paint&&Ta(pb,"paint");Z.layout&&Ta(pb,"layout")})}function c(K,Z){for(const wa in K)0===wa.indexOf("layout")&&
Z(K[wa],wa)}function a(K,Z){for(const wa in K)0===wa.indexOf("paint")&&Z(K[wa],wa)}function e(K,Z){return"string"===typeof Z&&"@"===Z[0]?e(K,K.constants[Z]):Z}function t(K,Z,wa){K[wa]=K[Z];delete K[Z]}function y(K){function Z(pb){const Db=Lc.parse(pb),Xb=Db.pathname.split("/");if("mapbox:"!==Db.protocol)return pb;if("fontstack"===Db.hostname)return"mapbox://fonts/mapbox/{fontstack}/{range}.pbf";if("fonts"===Db.hostname)return`mapbox://fonts/${Xb[2]}/{fontstack}/{range}.pbf`}function wa(pb){function Db(Xb){return Xb.split(",").map(Hc=>
Hc.trim())}if(Array.isArray(pb))return pb;if("string"===typeof pb)return Db(pb);if("object"===typeof pb)return pb.stops.forEach(Xb=>{Xb[1]=Db(Xb[1])}),pb;throw Error("unexpected font value");}K.version=8;g(K,pb=>{"video"===pb.type&&void 0!==pb.url&&t(pb,"url","urls");"video"===pb.type&&pb.coordinates.forEach(Db=>Db.reverse())});d(K,pb=>{c(pb,Db=>{void 0!==Db["symbol-min-distance"]&&t(Db,"symbol-min-distance","symbol-spacing")});a(pb,Db=>{void 0!==Db["background-image"]&&t(Db,"background-image","background-pattern");
void 0!==Db["line-image"]&&t(Db,"line-image","line-pattern");void 0!==Db["fill-image"]&&t(Db,"fill-image","fill-pattern")})});b(K,{paint:!0,layout:!0},pb=>{const Db=e(K,pb.value);Array.isArray(Db.stops)&&Db.stops.forEach(Xb=>{Xb[1]=e(K,Xb[1])});pb.set(Db)});delete K.constants;d(K,pb=>{c(pb,Db=>{delete Db["text-max-size"];delete Db["icon-max-size"]});a(pb,Db=>{Db["text-size"]&&(pb.layout||(pb.layout={}),pb.layout["text-size"]=Db["text-size"],delete Db["text-size"]);Db["icon-size"]&&(pb.layout||(pb.layout=
{}),pb.layout["icon-size"]=Db["icon-size"],delete Db["icon-size"])})});K.glyphs&&(K.glyphs=Z(K.glyphs));d(K,pb=>{c(pb,Db=>{Db["text-font"]&&(Db["text-font"]=wa(Db["text-font"]))})});var Ta=0;for(let pb=K.layers.length-1;0<=pb;pb--)if("symbol"!==K.layers[pb].type){Ta=pb+1;break}Ta=K.layers.splice(Ta);Ta.reverse();K.layers=K.layers.concat(Ta);return K}function q(K,...Z){for(const wa of Z)for(const Ta in wa)K[Ta]=wa[Ta];return K}function E(K,Z){return{kind:"array",itemType:K,N:Z}}function F(K){if("array"===
K.kind){const Z=F(K.itemType);return"number"===typeof K.N?`array<${Z}, ${K.N}>`:"value"===K.itemType.kind?"array":`array<${Z}>`}return K.kind}function w(K,Z){if("error"===Z.kind)return null;if("array"===K.kind){if("array"===Z.kind&&(0===Z.N&&"value"===Z.itemType.kind||!w(K.itemType,Z.itemType))&&("number"!==typeof K.N||K.N===Z.N))return null}else{if(K.kind===Z.kind)return null;if("value"===K.kind)for(const wa of Jb)if(!w(wa,Z))return null}return`Expected ${F(K)} but found ${F(Z)} instead.`}function D(K,
Z){return Z.some(wa=>wa.kind===K.kind)}function G(K,Z){return Z.some(wa=>"null"===wa?null===K:"array"===wa?Array.isArray(K):"object"===wa?K&&!Array.isArray(K)&&"object"===typeof K:wa===typeof K)}function L(K,Z,wa,Ta){return"number"===typeof K&&0<=K&&255>=K&&"number"===typeof Z&&0<=Z&&255>=Z&&"number"===typeof wa&&0<=wa&&255>=wa?"undefined"===typeof Ta||"number"===typeof Ta&&0<=Ta&&1>=Ta?null:`Invalid rgba value [${[K,Z,wa,Ta].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"===
typeof Ta?[K,Z,wa,Ta]:[K,Z,wa]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function O(K){if(null===K||"string"===typeof K||"boolean"===typeof K||"number"===typeof K||K instanceof Lb||K instanceof pc||K instanceof zc||K instanceof wc)return!0;if(Array.isArray(K)){for(const Z of K)if(!O(Z))return!1;return!0}if("object"===typeof K){for(const Z in K)if(!O(K[Z]))return!1;return!0}return!1}function V(K){if(null===K)return Nc;if("string"===typeof K)return Qc;if("boolean"===typeof K)return jb;
if("number"===typeof K)return mc;if(K instanceof Lb)return Ib;if(K instanceof pc)return na;if(K instanceof zc)return Ma;if(K instanceof wc)return lb;if(Array.isArray(K)){const Z=K.length;let wa;for(const Ta of K)if(K=V(Ta),wa){if(wa!==K){wa=Rb;break}}else wa=K;return E(wa||Rb,Z)}return Qb}function S(K){const Z=typeof K;return null===K?"":"string"===Z||"number"===Z||"boolean"===Z?String(K):K instanceof Lb||K instanceof zc||K instanceof wc?K.toString():JSON.stringify(K)}function ca(K,Z){K[0]=Math.min(K[0],
Z[0]);K[1]=Math.min(K[1],Z[1]);K[2]=Math.max(K[2],Z[0]);K[3]=Math.max(K[3],Z[1])}function ea(K,Z){return K[0]<=Z[0]||K[2]>=Z[2]||K[1]<=Z[1]||K[3]>=Z[3]?!1:!0}function T(K,Z){let wa=!1;for(let Xb=0,Hc=Z.length;Xb<Hc;Xb++){const Vc=Z[Xb];for(let Pc=0,Dd=Vc.length;Pc<Dd-1;Pc++){var Ta=Vc[Pc],pb=Vc[Pc+1],Db=K[0]-Ta[0];Ta=K[1]-Ta[1];const Rd=K[0]-pb[0];pb=K[1]-pb[1];if(0===Db*pb-Rd*Ta&&0>=Db*Rd&&0>=Ta*pb)return!1;Db=Vc[Pc];pb=Vc[Pc+1];Db[1]>K[1]!==pb[1]>K[1]&&K[0]<(pb[0]-Db[0])*(K[1]-Db[1])/(pb[1]-Db[1])+
Db[0]&&(wa=!wa)}}return wa}function R(K,Z,wa,Ta){const pb=Ta[0]-wa[0];Ta=Ta[1]-wa[1];K=(K[0]-wa[0])*Ta-pb*(K[1]-wa[1]);Z=(Z[0]-wa[0])*Ta-pb*(Z[1]-wa[1]);return 0<K&&0>Z||0>K&&0<Z?!0:!1}function J(K,Z){for(var wa=0;wa<K.length;++wa)if(!T(K[wa],Z))return!1;for(wa=0;wa<K.length-1;++wa){a:{var Ta=K[wa];var pb=K[wa+1],Db=Z;for(const Rd of Db)for(let Ve=0;Ve<Rd.length-1;++Ve){Db=Ta;var Xb=pb,Hc=Rd[Ve],Vc=Rd[Ve+1],Pc=[Vc[0]-Hc[0],Vc[1]-Hc[1]],Dd=[Xb[0]-Db[0],Xb[1]-Db[1]];if(0===Pc[0]*Dd[1]-Pc[1]*Dd[0]?0:
R(Db,Xb,Hc,Vc)&&R(Hc,Vc,Db,Xb)){Ta=!0;break a}}Ta=!1}if(Ta)return!1}return!0}function r(K,Z,wa){const Ta=[];for(let Db=0;Db<K.length;Db++){const Xb=[];for(let Hc=0;Hc<K[Db].length;Hc++){var pb=K[Db][Hc];const Vc=Math.pow(2,wa.z);pb=[Math.round((180+pb[0])/360*Vc*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+pb[1]*Math.PI/360)))/360*Vc*8192)];ca(Z,pb);Xb.push(pb)}Ta.push(Xb)}return Ta}function C(K,Z,wa){const Ta=[];for(let pb=0;pb<K.length;pb++){const Db=r(K[pb],Z,wa);Ta.push(Db)}return Ta}
function N(K,Z,wa,Ta){if(K[0]<wa[0]||K[0]>wa[2]){const pb=.5*Ta;let Db=K[0]-wa[0]>pb?-Ta:wa[0]-K[0]>pb?Ta:0;0===Db&&(Db=K[0]-wa[2]>pb?-Ta:wa[2]-K[0]>pb?Ta:0);K[0]+=Db}ca(Z,K)}function U(K,Z,wa,Ta){const pb=8192*Math.pow(2,Ta.z);Ta=[8192*Ta.x,8192*Ta.y];const Db=[];if(!K)return Db;for(const Xb of K)for(const Hc of Xb)K=[Hc.x+Ta[0],Hc.y+Ta[1]],N(K,Z,wa,pb),Db.push(K);return Db}function ja(K,Z,wa,Ta){const pb=8192*Math.pow(2,Ta.z);Ta=[8192*Ta.x,8192*Ta.y];const Db=[];if(!K)return Db;for(const Xb of K){K=
[];for(const Hc of Xb){const Vc=[Hc.x+Ta[0],Hc.y+Ta[1]];ca(Z,Vc);K.push(Vc)}Db.push(K)}if(Z[2]-Z[0]<=pb/2){Z[0]=Z[1]=Infinity;Z[2]=Z[3]=-Infinity;for(const Xb of Db)for(const Hc of Xb)N(Hc,Z,wa,pb)}return Db}function ba(K,Z){var wa=[Infinity,Infinity,-Infinity,-Infinity],Ta=[Infinity,Infinity,-Infinity,-Infinity];const pb=K.canonicalID();if(!pb)return!1;if("Polygon"===Z.type){const Db=r(Z.coordinates,Ta,pb),Xb=U(K.geometry(),wa,Ta,pb);if(!ea(wa,Ta))return!1;for(const Hc of Xb)if(!T(Hc,Db))return!1}if("MultiPolygon"===
Z.type){Z=C(Z.coordinates,Ta,pb);K=U(K.geometry(),wa,Ta,pb);if(!ea(wa,Ta))return!1;for(const Db of K){a:{wa=Db;Ta=Z;for(K=0;K<Ta.length;K++)if(T(wa,Ta[K])){wa=!0;break a}wa=!1}if(!wa)return!1}}return!0}function ia(K,Z){var wa=[Infinity,Infinity,-Infinity,-Infinity],Ta=[Infinity,Infinity,-Infinity,-Infinity];const pb=K.canonicalID();if(!pb)return!1;if("Polygon"===Z.type){const Db=r(Z.coordinates,Ta,pb),Xb=ja(K.geometry(),wa,Ta,pb);if(!ea(wa,Ta))return!1;for(const Hc of Xb)if(!J(Hc,Db))return!1}if("MultiPolygon"===
Z.type){Z=C(Z.coordinates,Ta,pb);K=ja(K.geometry(),wa,Ta,pb);if(!ea(wa,Ta))return!1;for(const Db of K){a:{wa=Db;Ta=Z;for(K=0;K<Ta.length;K++)if(J(wa,Ta[K])){wa=!0;break a}wa=!1}if(!wa)return!1}}return!0}function za(K){if(K instanceof vd&&("get"===K.name&&1===K.args.length||"feature-state"===K.name||"has"===K.name&&1===K.args.length||"properties"===K.name||"geometry-type"===K.name||"id"===K.name||/^filter-/.test(K.name))||K instanceof df)return!1;let Z=!0;K.eachChild(wa=>{Z&&!za(wa)&&(Z=!1)});return Z}
function Wa(K){if(K instanceof vd&&"feature-state"===K.name)return!1;let Z=!0;K.eachChild(wa=>{Z&&!Wa(wa)&&(Z=!1)});return Z}function hb(K,Z){if(K instanceof vd&&0<=Z.indexOf(K.name))return!1;let wa=!0;K.eachChild(Ta=>{wa&&!hb(Ta,Z)&&(wa=!1)});return wa}function Ja(K){if(K instanceof vf)return Ja(K.boundExpression);if(K instanceof vd&&"error"===K.name||K instanceof ef||K instanceof df)return!1;const Z=K instanceof Id||K instanceof Cd;let wa=!0;K.eachChild(Ta=>{wa=Z?wa&&Ja(Ta):wa&&Ta instanceof od});
return wa?za(K)&&hb(K,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script pitch distance-from-center".split(" ")):!1}function qa(K,Z){const wa=K.length-1;let Ta=0,pb=wa,Db,Xb,Hc;for(;Ta<=pb;)if(Db=Math.floor((Ta+pb)/2),Xb=K[Db],Hc=K[Db+1],Xb<=Z){if(Db===wa||Z<Hc)return Db;Ta=Db+1}else if(Xb>Z)pb=Db-1;else throw new qd("Input is not a number.");return 0}function Da(K,Z,wa,Ta){this.cx=3*K;this.bx=3*(wa-K)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*Z;this.by=3*(Ta-
Z)-this.cy;this.ay=1-this.cy-this.by;this.p1x=K;this.p1y=Ta;this.p2x=wa;this.p2y=Ta}function va(K,Z,wa){return K*(1-wa)+Z*wa}function sa(K){return K>wg?Math.pow(K,1/3):K/og+Xd}function xa(K){return K>Ge?K*K*K:og*(K-Xd)}function ma(K){return 255*(.0031308>=K?12.92*K:1.055*Math.pow(K,1/2.4)-.055)}function Ea(K){K/=255;return.04045>=K?K/12.92:Math.pow((K+.055)/1.055,2.4)}function Ua(K){var Z=Ea(K.r);const wa=Ea(K.g),Ta=Ea(K.b),pb=sa((.4124564*Z+.3575761*wa+.1804375*Ta)/.95047),Db=sa(.2126729*Z+.7151522*
wa+.072175*Ta);Z=sa((.0193339*Z+.119192*wa+.9503041*Ta)/1.08883);return{l:116*Db-16,a:500*(pb-Db),b:200*(Db-Z),alpha:K.a}}function ab(K){let Z=(K.l+16)/116,wa=isNaN(K.a)?Z:Z+K.a/500,Ta=isNaN(K.b)?Z:Z-K.b/200;Z=1*xa(Z);wa=.95047*xa(wa);Ta=1.08883*xa(Ta);return new Lb(ma(3.2404542*wa-1.5371385*Z-.4985314*Ta),ma(-.969266*wa+1.8760108*Z+.041556*Ta),ma(.0556434*wa-.2040259*Z+1.0572252*Ta),K.alpha)}function ta(K,Z,wa,Ta){Ta-=wa;K-=wa;return 0===Ta?0:1===Z?K/Ta:(Math.pow(Z,K)-1)/(Math.pow(Z,Ta)-1)}function Na(K,
Z){return"\x3d\x3d"===K||"!\x3d"===K?"boolean"===Z.kind||"string"===Z.kind||"number"===Z.kind||"null"===Z.kind||"value"===Z.kind:"string"===Z.kind||"number"===Z.kind||"value"===Z.kind}function oa(K,Z,wa,Ta){return 0===Ta.compare(Z,wa)}function aa(K,Z,wa){const Ta="\x3d\x3d"!==K&&"!\x3d"!==K;return class pb{constructor(Db,Xb,Hc){this.type=jb;this.lhs=Db;this.rhs=Xb;this.collator=Hc;this.hasUntypedArgument="value"===Db.type.kind||"value"===Xb.type.kind}static parse(Db,Xb){if(3!==Db.length&&4!==Db.length)return Xb.error("Expected two or three arguments.");
var Hc=Db[0];let Vc=Xb.parse(Db[1],1,Rb);if(!Vc)return null;if(!Na(Hc,Vc.type))return Xb.concat(1).error(`"${Hc}" comparisons are not supported for type '${F(Vc.type)}'.`);let Pc=Xb.parse(Db[2],2,Rb);if(!Pc)return null;if(!Na(Hc,Pc.type))return Xb.concat(2).error(`"${Hc}" comparisons are not supported for type '${F(Pc.type)}'.`);if(Vc.type.kind!==Pc.type.kind&&"value"!==Vc.type.kind&&"value"!==Pc.type.kind)return Xb.error(`Cannot compare types '${F(Vc.type)}' and '${F(Pc.type)}'.`);Ta&&("value"===
Vc.type.kind&&"value"!==Pc.type.kind?Vc=new Cd(Pc.type,[Vc]):"value"!==Vc.type.kind&&"value"===Pc.type.kind&&(Pc=new Cd(Vc.type,[Pc])));Hc=null;if(4===Db.length){if("string"!==Vc.type.kind&&"string"!==Pc.type.kind&&"value"!==Vc.type.kind&&"value"!==Pc.type.kind)return Xb.error("Cannot use collator to compare non-string types.");Hc=Xb.parse(Db[3],3,na);if(!Hc)return null}return new pb(Vc,Pc,Hc)}evaluate(Db){const Xb=this.lhs.evaluate(Db),Hc=this.rhs.evaluate(Db);if(Ta&&this.hasUntypedArgument){var Vc=
V(Xb),Pc=V(Hc);if(Vc.kind!==Pc.kind||"string"!==Vc.kind&&"number"!==Vc.kind)throw new qd(`Expected arguments for "${K}" to be (string, string) or (number, number), but found (${Vc.kind}, ${Pc.kind}) instead.`);}return this.collator&&!Ta&&this.hasUntypedArgument&&(Vc=V(Xb),Pc=V(Hc),"string"!==Vc.kind||"string"!==Pc.kind)?Z(Db,Xb,Hc):this.collator?wa(Db,Xb,Hc,this.collator.evaluate(Db)):Z(Db,Xb,Hc)}eachChild(Db){Db(this.lhs);Db(this.rhs);this.collator&&Db(this.collator)}outputDefined(){return!0}serialize(){const Db=
[K];this.eachChild(Xb=>{Db.push(Xb.serialize())});return Db}}}function ka(K,[Z,wa,Ta,pb]){Z=Z.evaluate(K);wa=wa.evaluate(K);Ta=Ta.evaluate(K);K=pb?pb.evaluate(K):1;if(pb=L(Z,wa,Ta,K))throw new qd(pb);return new Lb(Z/255*K,wa/255*K,Ta/255*K,K)}function Ia(K,Z){K=Z[K];return"undefined"===typeof K?null:K}function Xa(K){return{result:"success",value:K}}function Ya(K){return{result:"error",value:K}}function mb(K){return"data-driven"===K["property-type"]||"cross-faded-data-driven"===K["property-type"]}
function ib(K){return!!K.expression&&-1<K.expression.parameters.indexOf("zoom")}function Eb(K){return!!K.expression&&K.expression.interpolated}function Zb(K){return K instanceof Number?"number":K instanceof String?"string":K instanceof Boolean?"boolean":Array.isArray(K)?"array":null===K?"null":typeof K}function Gc(K){return"object"===typeof K&&null!==K&&!Array.isArray(K)}function xc(K){return K}function Ic(K,Z){var wa="color"===Z.type,Ta=K.stops&&"object"===typeof K.stops[0][0],pb=Ta||void 0!==K.property;
pb=Ta||!pb;var Db=K.type||(Eb(Z)?"exponential":"interval");wa&&(K=q({},K),K.stops&&(K.stops=K.stops.map(Rd=>[Rd[0],Lb.parse(Rd[1])])),K.default=K.default?Lb.parse(K.default):Lb.parse(Z.default));if(K.colorSpace&&"rgb"!==K.colorSpace&&!fg[K.colorSpace])throw Error(`Unknown color space: ${K.colorSpace}`);let Xb,Hc,Vc;if("exponential"===Db)Xb=tb;else if("interval"===Db)Xb=Bb;else if("categorical"===Db){Xb=jd;Hc=Object.create(null);for(var Pc of K.stops)Hc[Pc[0]]=Pc[1];Vc=typeof K.stops[0][0]}else if("identity"===
Db)Xb=dc;else throw Error(`Unknown function type "${Db}"`);if(Ta){wa={};Ta=[];for(Pc=0;Pc<K.stops.length;Pc++)pb=K.stops[Pc],Db=pb[0].zoom,void 0===wa[Db]&&(wa[Db]={zoom:Db,type:K.type,property:K.property,default:K.default,stops:[]},Ta.push(Db)),wa[Db].stops.push([pb[0].value,pb[1]]);const Rd=[];for(var Dd of Ta)Rd.push([wa[Dd].zoom,Ic(wa[Dd],Z)]);Dd={name:"linear"};return{kind:"composite",interpolationType:Dd,interpolationFactor:zf.interpolationFactor.bind(void 0,Dd),zoomStops:Rd.map(Ve=>Ve[0]),
evaluate({zoom:Ve},He){return tb({stops:Rd,base:K.base},Z,Ve).evaluate(Ve,He)}}}return pb?(Dd="exponential"===Db?{name:"exponential",base:void 0!==K.base?K.base:1}:null,{kind:"camera",interpolationType:Dd,interpolationFactor:zf.interpolationFactor.bind(void 0,Dd),zoomStops:K.stops.map(Rd=>Rd[0]),evaluate:({zoom:Rd})=>Xb(K,Z,Rd,Hc,Vc)}):{kind:"source",evaluate(Rd,Ve){Rd=Ve&&Ve.properties?Ve.properties[K.property]:void 0;return void 0===Rd?rc(K.default,Z.default):Xb(K,Z,Rd,Hc,Vc)}}}function rc(K,Z,
wa){if(void 0!==K)return K;if(void 0!==Z)return Z;if(void 0!==wa)return wa}function jd(K,Z,wa,Ta,pb){return rc(typeof wa===pb?Ta[wa]:void 0,K.default,Z.default)}function Bb(K,Z,wa){if("number"!==Zb(wa))return rc(K.default,Z.default);Z=K.stops.length;if(1===Z||wa<=K.stops[0][0])return K.stops[0][1];if(wa>=K.stops[Z-1][0])return K.stops[Z-1][1];wa=qa(K.stops.map(Ta=>Ta[0]),wa);return K.stops[wa][1]}function tb(K,Z,wa){const Ta=void 0!==K.base?K.base:1;if("number"!==Zb(wa))return rc(K.default,Z.default);
var pb=K.stops.length;if(1===pb||wa<=K.stops[0][0])return K.stops[0][1];if(wa>=K.stops[pb-1][0])return K.stops[pb-1][1];pb=qa(K.stops.map(Pc=>Pc[0]),wa);const Db=Yb(wa,Ta,K.stops[pb][0],K.stops[pb+1][0]),Xb=K.stops[pb][1],Hc=K.stops[pb+1][1];let Vc=Xg[Z.type]||xc;if(K.colorSpace&&"rgb"!==K.colorSpace){const Pc=fg[K.colorSpace];Vc=(Dd,Rd)=>Pc.reverse(Pc.interpolate(Pc.forward(Dd),Pc.forward(Rd),Db))}return"function"===typeof Xb.evaluate?{evaluate(...Pc){const Dd=Xb.evaluate.apply(void 0,Pc);Pc=Hc.evaluate.apply(void 0,
Pc);if(void 0!==Dd&&void 0!==Pc)return Vc(Dd,Pc,Db)}}:Vc(Xb,Hc,Db)}function dc(K,Z,wa){"color"===Z.type?wa=Lb.parse(wa):"formatted"===Z.type?wa=zc.fromString(wa.toString()):"resolvedImage"===Z.type?wa=wc.fromString(wa.toString()):Zb(wa)===Z.type||"enum"===Z.type&&Z.values[wa]||(wa=void 0);return rc(wa,K.default,Z.default)}function Yb(K,Z,wa,Ta){Ta-=wa;K-=wa;return 0===Ta?0:1===Z?K/Ta:(Math.pow(Z,K)-1)/(Math.pow(Z,Ta)-1)}function hc(K){return Array.isArray(K)&&0<K.length&&"string"===typeof K[0]&&K[0]in
sf}function vc(K,Z){if(Z){var wa={color:Ib,string:Qc,number:mc,enum:Qc,boolean:jb,formatted:Ma,resolvedImage:lb};wa="array"===Z.type?E(wa[Z.value]||Rb,Z.length):wa[Z.type]}else wa=void 0;wa=new Lf(sf,[],wa);return(K=wa.parse(K,void 0,void 0,void 0,Z&&"string"===Z.type?{typeAnnotation:"coerce"}:void 0))?Xa(new Rg(K,Z)):Ya(wa.errors)}function qc(K,Z){K=vc(K,Z);if("error"===K.result)return K;var wa=K.value.expression;const Ta=za(wa);if(!Ta&&!mb(Z))return Ya([new Ec("","data expressions not supported")]);
const pb=hb(wa,["zoom","pitch","distance-from-center"]);if(!pb&&!ib(Z))return Ya([new Ec("","zoom expressions not supported")]);if((wa=Dc(wa))||pb){if(wa instanceof Ec)return Ya([wa]);if(wa instanceof zf&&!Eb(Z))return Ya([new Ec("",'"interpolate" expressions cannot be used with this property')])}else return Ya([new Ec("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!wa)return Xa(Ta?new Rf("constant",K.value):new Rf("source",K.value));Z=wa instanceof
zf?wa.interpolation:void 0;return Xa(Ta?new eh("camera",K.value,wa.labels,Z):new eh("composite",K.value,wa.labels,Z))}function Dc(K){let Z=null;if(K instanceof eg)Z=Dc(K.result);else if(K instanceof Pf)for(const wa of K.args){if(Z=Dc(wa))break}else(K instanceof Of||K instanceof zf)&&K.input instanceof vd&&"zoom"===K.input.name&&(Z=K);if(Z instanceof Ec)return Z;K.eachChild(wa=>{wa=Dc(wa);wa instanceof Ec?Z=wa:!Z&&wa?Z=new Ec("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):
Z&&wa&&Z!==wa&&(Z=new Ec("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return Z}function Yc(K){return"object"===typeof K?["literal",K]:K}function Hd(K,Z){let wa=K.stops;if(!wa)return Fa(K,Z);const Ta=wa&&"object"===typeof wa[0][0],pb=Ta||void 0!==K.property,Db=Ta||!pb;wa=wa.map(Xb=>!pb&&Z.tokens&&"string"===typeof Xb[1]?[Xb[0],Jc(Xb[1])]:[Xb[0],Yc(Xb[1])]);return Ta?Ha(K,Z,wa):Db?Ab(K,Z,wa):ob(K,Z,wa)}function Fa(K,Z){const wa=["get",K.property];
if(void 0===K.default)return"string"===Z.type?["string",wa]:wa;if("enum"===Z.type)return["match",wa,Object.keys(Z.values),wa,K.default];K=["color"===Z.type?"to-color":Z.type,wa,Yc(K.default)];"array"===Z.type&&K.splice(1,0,Z.value,Z.length||null);return K}function Ca(K){switch(K.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";default:return"interpolate"}}function Ha(K,Z,wa){const Ta={},pb={};var Db=[];for(let Vc=0;Vc<wa.length;Vc++){const Pc=wa[Vc],Dd=Pc[0].zoom;
void 0===Ta[Dd]&&(Ta[Dd]={zoom:Dd,type:K.type,property:K.property,default:K.default},pb[Dd]=[],Db.push(Dd));pb[Dd].push([Pc[0].value,Pc[1]])}if("exponential"===$b({},Z)){var Xb=[Ca(K),["linear"],["zoom"]];for(var Hc of Db)Db=ob(Ta[Hc],Z,pb[Hc]),Ub(Xb,Hc,Db,!1);return Xb}Hc=["step",["zoom"]];for(Xb of Db)Db=ob(Ta[Xb],Z,pb[Xb]),Ub(Hc,Xb,Db,!0);Ob(Hc);return Hc}function db(K,Z){K=K.default;var wa=Z.default;K=Yc(void 0!==K?K:void 0!==wa?wa:void 0);return void 0===K&&"resolvedImage"===Z.type?"":K}function ob(K,
Z,wa){const Ta=$b(K,Z);var pb=["get",K.property];if("categorical"===Ta&&"boolean"===typeof wa[0][0]){var Db=["case"];for(const Xb of wa)Db.push(["\x3d\x3d",pb,Xb[0]],Xb[1]);Db.push(db(K,Z));return Db}if("categorical"===Ta){pb=["match",pb];for(const Xb of wa)Ub(pb,Xb[0],Xb[1],!1);pb.push(db(K,Z));return pb}if("interval"===Ta){Z=["step",["number",pb]];for(const Xb of wa)Ub(Z,Xb[0],Xb[1],!0);Ob(Z);return void 0===K.default?Z:["case",["\x3d\x3d",["typeof",pb],"number"],Z,Yc(K.default)]}if("exponential"===
Ta){Z=void 0!==K.base?K.base:1;Z=[Ca(K),1===Z?["linear"]:["exponential",Z],["number",pb]];for(Db of wa)Ub(Z,Db[0],Db[1],!1);return void 0===K.default?Z:["case",["\x3d\x3d",["typeof",pb],"number"],Z,Yc(K.default)]}throw Error(`Unknown property function type ${Ta}`);}function Ab(K,Z,wa,Ta=["zoom"]){var pb=$b(K,Z);Z=!1;if("interval"===pb)K=["step",Ta],Z=!0;else if("exponential"===pb)pb=void 0!==K.base?K.base:1,K=[Ca(K),1===pb?["linear"]:["exponential",pb],Ta];else throw Error(`Unknown zoom function type "${pb}"`);
for(const Db of wa)Ub(K,Db[0],Db[1],Z);Ob(K);return K}function Ob(K){"step"===K[0]&&3===K.length&&(K.push(0),K.push(K[3]))}function Ub(K,Z,wa,Ta){3<K.length&&Z===K[K.length-2]||(Ta&&2===K.length||K.push(Z),K.push(wa))}function $b(K,Z){return K.type?K.type:Z.expression.interpolated?"exponential":"interval"}function Jc(K){const Z=["concat"],wa=/{([^{}]+)}/g;let Ta=0;for(let pb=wa.exec(K);null!==pb;pb=wa.exec(K)){const Db=K.slice(Ta,wa.lastIndex-pb[0].length);Ta=wa.lastIndex;0<Db.length&&Z.push(Db);
Z.push(["get",pb[1]])}if(1===Z.length)return K;if(Ta<K.length)Z.push(K.slice(Ta));else if(2===Z.length)return["to-string",Z[1]];return Z}function Wc(K){return K instanceof Number||K instanceof String||K instanceof Boolean?K.valueOf():K}function dd(K){if(Array.isArray(K))return K.map(dd);if(K instanceof Object&&!(K instanceof Number||K instanceof String||K instanceof Boolean)){const Z={};for(const wa in K)Z[wa]=dd(K[wa]);return Z}return Wc(K)}function ld(K){if(!0===K||!1===K)return!0;if(!Array.isArray(K)||
0===K.length)return!1;switch(K[0]){case "has":return 2<=K.length&&"$id"!==K[1]&&"$type"!==K[1];case "in":return 3<=K.length&&("string"!==typeof K[1]||Array.isArray(K[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==K.length||Array.isArray(K[1])||Array.isArray(K[2]);case "any":case "all":for(const Z of K.slice(1))if(!ld(Z)&&"boolean"!==typeof Z)return!1;return!0;default:return!0}}function rd(K){if(!fe(K))return K;
K=dd(K);Nd(K);return K=Kd(K)}function Kd(K){if(!Array.isArray(K))return K;K=be(K);return!0===K?K:K.map(Z=>Kd(Z))}function Nd(K){var Z=!1;const wa=[];if("case"===K[0]){for(var Ta=1;Ta<K.length-1;Ta+=2)Z=Z||fe(K[Ta]),wa.push(K[Ta+1]);wa.push(K[K.length-1])}else if("match"===K[0]){Z=Z||fe(K[1]);for(Ta=2;Ta<K.length-1;Ta+=2)wa.push(K[Ta+1]);wa.push(K[K.length-1])}else if("step"===K[0])for(Z=Z||fe(K[1]),Ta=1;Ta<K.length-1;Ta+=2)wa.push(K[Ta+1]);Z&&(K.length=0,K.push("any",...wa));for(Z=1;Z<K.length;Z++)Nd(K[Z])}
function fe(K){if(!Array.isArray(K))return!1;var Z=K[0];if("pitch"===Z||"distance-from-center"===Z)return!0;for(Z=1;Z<K.length;Z++)if(fe(K[Z]))return!0;return!1}function be(K){if($g.has(K[0]))for(let Z=1;Z<K.length;Z++)if(fe(K[Z]))return!0;return K}function ce(K,Z){return K<Z?-1:K>Z?1:0}function Td(K){if(!Array.isArray(K))return!1;if("within"===K[0])return!0;for(let Z=1;Z<K.length;Z++)if(Td(K[Z]))return!0;return!1}function af(K){if(!K)return!0;const Z=K[0];return 1>=K.length?"any"!==Z:"\x3d\x3d"===
Z?Se(K[1],K[2],"\x3d\x3d"):"!\x3d"===Z?Ga(Se(K[1],K[2],"\x3d\x3d")):"\x3c"===Z||"\x3e"===Z||"\x3c\x3d"===Z||"\x3e\x3d"===Z?Se(K[1],K[2],Z):"any"===Z?["any"].concat(K.slice(1).map(af)):"all"===Z?["all"].concat(K.slice(1).map(af)):"none"===Z?["all"].concat(K.slice(1).map(af).map(Ga)):"in"===Z?ue(K[1],K.slice(2)):"!in"===Z?Ga(ue(K[1],K.slice(2))):"has"===Z?me(K[1]):"!has"===Z?Ga(me(K[1])):"within"===Z?K:!0}function Se(K,Z,wa){switch(K){case "$type":return[`filter-type-${wa}`,Z];case "$id":return[`filter-id-${wa}`,
Z];default:return[`filter-${wa}`,K,Z]}}function ue(K,Z){if(0===Z.length)return!1;switch(K){case "$type":return["filter-type-in",["literal",Z]];case "$id":return["filter-id-in",["literal",Z]];default:return 200<Z.length&&!Z.some(wa=>typeof wa!==typeof Z[0])?["filter-in-large",K,["literal",Z.sort(ce)]]:["filter-in-small",K,["literal",Z]]}}function me(K){switch(K){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",K]}}function Ga(K){return["!",K]}function $a(K){return ub(K,
{})}function ub(K,Z){if(ld(K))return K;if(!K)return!0;const wa=K[0];if(1>=K.length)return"any"!==wa;if("\x3d\x3d"===wa||"!\x3d"===wa||"\x3c"===wa||"\x3e"===wa||"\x3c\x3d"===wa||"\x3e\x3d"===wa){const [,Ta,pb]=K;K=Mb(Ta,pb,wa,Z)}else{if("any"===wa)return K=K.slice(1).map(Ta=>{var pb={};Ta=ub(Ta,pb);{const Db=[];for(const Xb in pb)Db.push(["\x3d\x3d",["typeof","$id"===Xb?["id"]:["get",Xb]],pb[Xb]]);pb=0===Db.length?!0:1===Db.length?Db[0]:["all"].concat(Db)}return!0===pb?Ta:["case",pb,Ta,!1]}),["any"].concat(K);
if("all"===wa)return K=K.slice(1).map(Ta=>ub(Ta,Z)),1<K.length?["all"].concat(K):[].concat(...K);if("none"===wa)return["!",ub(["any"].concat(K.slice(1)),{})];K="in"===wa?fc(K[1],K.slice(2)):"!in"===wa?fc(K[1],K.slice(2),!0):"has"===wa?oc(K[1]):"!has"===wa?["!",oc(K[1])]:!0}return K}function Mb(K,Z,wa,Ta){let pb;if("$type"===K)return[wa,["geometry-type"],Z];pb="$id"===K?["id"]:["get",K];Ta&&null!==Z&&(Ta[K]=typeof Z);return"\x3d\x3d"===wa&&"$id"!==K&&null===Z?["all",["has",K],["\x3d\x3d",pb,null]]:
"!\x3d"===wa&&"$id"!==K&&null===Z?["any",["!",["has",K]],["!\x3d",pb,null]]:[wa,pb,Z]}function fc(K,Z,wa=!1){if(0===Z.length)return wa;let Ta;Ta="$type"===K?["geometry-type"]:"$id"===K?["id"]:["get",K];K=!0;const pb=typeof Z[0];for(var Db of Z)if(typeof Db!==pb){K=!1;break}return!K||"string"!==pb&&"number"!==pb?[wa?"all":"any"].concat(Z.map(Xb=>[wa?"!\x3d":"\x3d\x3d",Ta,Xb])):(Db=Z.sort().filter((Xb,Hc)=>0===Hc||Z[Hc-1]!==Xb),["match",Ta,Db,!wa,wa])}function oc(K){return"$type"===K?!0:"$id"===K?["!\x3d",
["id"],null]:["has",K]}function Mc(K){const Z=[];d(K,wa=>{wa.filter&&(wa.filter=$a(wa.filter))});b(K,{paint:!0,layout:!0},({path:wa,value:Ta,reference:pb,set:Db})=>{hc(Ta)||("object"!==typeof Ta||Array.isArray(Ta)?pb.tokens&&"string"===typeof Ta&&Db(Jc(Ta)):(Db(Hd(Ta,pb)),Z.push(wa.join("."))))});return K}function Kc(K,Z){const wa={};for(const Ta in K)"ref"!==Ta&&(wa[Ta]=K[Ta]);fh.forEach(Ta=>{Ta in Z&&(wa[Ta]=Z[Ta])});return wa}function gc(K,Z){if(Array.isArray(K)){if(!Array.isArray(Z)||K.length!==
Z.length)return!1;for(var wa=0;wa<K.length;wa++)if(!gc(K[wa],Z[wa]))return!1;return!0}if("object"===typeof K&&null!==K&&null!==Z){if("object"!==typeof Z||Object.keys(K).length!==Object.keys(Z).length)return!1;for(wa in K)if(!gc(K[wa],Z[wa]))return!1;return!0}return K===Z}function fd(K,Z,wa,Ta){K=K||{};Z=Z||{};let pb;for(pb in K)if(K.hasOwnProperty(pb)&&!Z.hasOwnProperty(pb)){var Db=pb,Xb=Ta;wa.push({command:mf.removeSource,args:[Db]});Xb[Db]=!0}for(pb in Z)if(Z.hasOwnProperty(pb))if(!K.hasOwnProperty(pb))wa.push({command:mf.addSource,
args:[pb,Z[pb]]});else if(!gc(K[pb],Z[pb])){if(Db="geojson"===K[pb].type&&"geojson"===Z[pb].type)a:{var Hc=void 0;Db=K;Xb=Z;var Vc=pb;for(Hc in Db[Vc])if(Db[Vc].hasOwnProperty(Hc)&&"data"!==Hc&&!gc(Db[Vc][Hc],Xb[Vc][Hc])){Db=!1;break a}for(Hc in Xb[Vc])if(Xb[Vc].hasOwnProperty(Hc)&&"data"!==Hc&&!gc(Db[Vc][Hc],Xb[Vc][Hc])){Db=!1;break a}Db=!0}if(Db)wa.push({command:mf.setGeoJSONSourceData,args:[pb,Z[pb].data]});else{Db=pb;Xb=Z;Vc=wa;Hc=Db;var Pc=Ta;Vc.push({command:mf.removeSource,args:[Hc]});Pc[Hc]=
!0;Vc.push({command:mf.addSource,args:[Db,Xb[Db]]})}}}function nd(K,Z,wa,Ta,pb,Db){K=K||{};Z=Z||{};let Xb;for(Xb in K)K.hasOwnProperty(Xb)&&(gc(K[Xb],Z[Xb])||wa.push({command:Db,args:[Ta,Xb,Z[Xb],pb]}));for(Xb in Z)Z.hasOwnProperty(Xb)&&!K.hasOwnProperty(Xb)&&(gc(K[Xb],Z[Xb])||wa.push({command:Db,args:[Ta,Xb,Z[Xb],pb]}))}function Fd(K){return K.id}function Od(K,Z){K[Z.id]=Z;return K}function Ud(K,Z,wa){K=K||[];Z=Z||[];var Ta=K.map(Fd);const pb=Z.map(Fd);K=K.reduce(Od,{});Z=Z.reduce(Od,{});const Db=
Ta.slice(),Xb=Object.create(null);let Hc;var Vc;let Pc,Dd,Rd;for(Vc=Hc=0;Hc<Ta.length;Hc++)Pc=Ta[Hc],Z.hasOwnProperty(Pc)?Vc++:(wa.push({command:mf.removeLayer,args:[Pc]}),Db.splice(Db.indexOf(Pc,Vc),1));for(Vc=Hc=0;Hc<pb.length;Hc++)Pc=pb[pb.length-1-Hc],Db[Db.length-1-Hc]!==Pc&&(K.hasOwnProperty(Pc)?(wa.push({command:mf.removeLayer,args:[Pc]}),Db.splice(Db.lastIndexOf(Pc,Db.length-Vc),1)):Vc++,Dd=Db[Db.length-Hc],wa.push({command:mf.addLayer,args:[Z[Pc],Dd]}),Db.splice(Db.length-Hc,0,Pc),Xb[Pc]=
!0);for(Hc=0;Hc<pb.length;Hc++)if(Pc=pb[Hc],Vc=K[Pc],Ta=Z[Pc],!Xb[Pc]&&!gc(Vc,Ta))if(gc(Vc.source,Ta.source)&&gc(Vc["source-layer"],Ta["source-layer"])&&gc(Vc.type,Ta.type)){nd(Vc.layout,Ta.layout,wa,Pc,null,mf.setLayoutProperty);nd(Vc.paint,Ta.paint,wa,Pc,null,mf.setPaintProperty);gc(Vc.filter,Ta.filter)||wa.push({command:mf.setFilter,args:[Pc,Ta.filter]});gc(Vc.minzoom,Ta.minzoom)&&gc(Vc.maxzoom,Ta.maxzoom)||wa.push({command:mf.setLayerZoomRange,args:[Pc,Ta.minzoom,Ta.maxzoom]});for(Rd in Vc)Vc.hasOwnProperty(Rd)&&
"layout"!==Rd&&"paint"!==Rd&&"filter"!==Rd&&"metadata"!==Rd&&"minzoom"!==Rd&&"maxzoom"!==Rd&&(0===Rd.indexOf("paint.")?nd(Vc[Rd],Ta[Rd],wa,Pc,Rd.slice(6),mf.setPaintProperty):gc(Vc[Rd],Ta[Rd])||wa.push({command:mf.setLayerProperty,args:[Pc,Rd,Ta[Rd]]}));for(Rd in Ta)Ta.hasOwnProperty(Rd)&&!Vc.hasOwnProperty(Rd)&&"layout"!==Rd&&"paint"!==Rd&&"filter"!==Rd&&"metadata"!==Rd&&"minzoom"!==Rd&&"maxzoom"!==Rd&&(0===Rd.indexOf("paint.")?nd(Vc[Rd],Ta[Rd],wa,Pc,Rd.slice(6),mf.setPaintProperty):gc(Vc[Rd],Ta[Rd])||
wa.push({command:mf.setLayerProperty,args:[Pc,Rd,Ta[Rd]]}))}else wa.push({command:mf.removeLayer,args:[Pc]}),Dd=Db[Db.lastIndexOf(Pc)+1],wa.push({command:mf.addLayer,args:[Ta,Dd]})}function Yd(K){const Z=K.key,wa=K.value,Ta=K.valueSpec||{},pb=K.objectElementValidators||{},Db=K.style;K=K.styleSpec;let Xb=[];var Hc=Zb(wa);if("object"!==Hc)return[new ae(Z,wa,`object expected, ${Hc} found`)];for(const Vc in wa){Hc=Vc.split(".")[0];const Pc=Ta[Hc]||Ta["*"];let Dd;pb[Hc]?Dd=pb[Hc]:Ta[Hc]?Dd=Bd:pb["*"]?
Dd=pb["*"]:Ta["*"]&&(Dd=Bd);Dd?Xb=Xb.concat(Dd({key:(Z?`${Z}.`:Z)+Vc,value:wa[Vc],valueSpec:Pc,style:Db,styleSpec:K,object:wa,objectKey:Vc},wa)):Xb.push(new ae(Z,wa[Vc],`unknown property "${Vc}"`))}for(const Vc in Ta)pb[Vc]||Ta[Vc].required&&void 0===Ta[Vc]["default"]&&void 0===wa[Vc]&&Xb.push(new ae(Z,wa,`missing required property "${Vc}"`));return Xb}function Ee(K){const Z=K.value;var wa=K.valueSpec;const Ta=K.style,pb=K.styleSpec,Db=K.key;K=K.arrayElementValidator||Bd;if("array"!==Zb(Z))return[new ae(Db,
Z,`array expected, ${Zb(Z)} found`)];if(wa.length&&Z.length!==wa.length)return[new ae(Db,Z,`array length ${wa.length} expected, length ${Z.length} found`)];if(wa["min-length"]&&Z.length<wa["min-length"])return[new ae(Db,Z,`array length at least ${wa["min-length"]} expected, length ${Z.length} found`)];let Xb={type:wa.value,values:wa.values,minimum:wa.minimum,maximum:wa.maximum,function:void 0};7>pb.$version&&(Xb.function=wa.function);"object"===Zb(wa.value)&&(Xb=wa.value);wa=[];for(let Hc=0;Hc<Z.length;Hc++)wa=
wa.concat(K({array:Z,arrayIndex:Hc,value:Z[Hc],valueSpec:Xb,style:Ta,styleSpec:pb,key:`${Db}[${Hc}]`}));return wa}function ze(K){const Z=K.key,wa=K.value,Ta=K.valueSpec;var pb=Zb(wa);"number"===pb&&wa!==wa&&(pb="NaN");return"number"!==pb?[new ae(Z,wa,`number expected, ${pb} found`)]:"minimum"in Ta&&(pb=Ta.minimum,"array"===Zb(Ta.minimum)&&(pb=Ta.minimum[K.arrayIndex]),wa<pb)?[new ae(Z,wa,`${wa} is less than the minimum value ${pb}`)]:"maximum"in Ta&&(pb=Ta.maximum,"array"===Zb(Ta.maximum)&&(pb=Ta.maximum[K.arrayIndex]),
wa>pb)?[new ae(Z,wa,`${wa} is greater than the maximum value ${pb}`)]:[]}function Bf(K){function Z(He){let Jf=[];const Pd=He.value,ge=He.key;if("array"!==Zb(Pd))return[new ae(ge,Pd,`array expected, ${Zb(Pd)} found`)];if(2!==Pd.length)return[new ae(ge,Pd,`array length 2 expected, length ${Pd.length} found`)];if(Rd){if("object"!==Zb(Pd[0]))return[new ae(ge,Pd,`object expected, ${Zb(Pd[0])} found`)];if(void 0===Pd[0].zoom)return[new ae(ge,Pd,"object stop key must have zoom")];if(void 0===Pd[0].value)return[new ae(ge,
Pd,"object stop key must have value")];const Je=Wc(Pd[0].zoom);if("number"!==typeof Je)return[new ae(ge,Pd[0].zoom,"stop zoom values must be numbers")];if(Vc&&Vc>Je)return[new ae(ge,Pd[0].zoom,"stop zoom values must appear in ascending order")];Je!==Vc&&(Vc=Je,Hc=void 0,Xb={});Jf=Jf.concat(Yd({key:`${ge}[0]`,value:Pd[0],valueSpec:{zoom:{}},style:He.style,styleSpec:He.styleSpec,objectElementValidators:{zoom:ze,value:wa}}))}else Jf=Jf.concat(wa({key:`${ge}[0]`,value:Pd[0],valueSpec:{},style:He.style,
styleSpec:He.styleSpec},Pd));return hc(dd(Pd[1]))?Jf.concat([new ae(`${ge}[1]`,Pd[1],"expressions are not allowed in function stops.")]):Jf.concat(Bd({key:`${ge}[1]`,value:Pd[1],valueSpec:Ta,style:He.style,styleSpec:He.styleSpec}))}function wa(He,Jf){var Pd=Zb(He.value);const ge=Wc(He.value);Jf=null!==He.value?He.value:Jf;if(!Db)Db=Pd;else if(Pd!==Db)return[new ae(He.key,Jf,`${Pd} stop domain type must match previous stop domain type ${Db}`)];if("number"!==Pd&&"string"!==Pd&&"boolean"!==Pd&&"number"!==
typeof ge&&"string"!==typeof ge&&"boolean"!==typeof ge)return[new ae(He.key,Jf,"stop domain value must be a number, string, or boolean")];if("number"!==Pd&&"categorical"!==pb)return Pd=`number expected, ${Pd} found`,mb(Ta)&&void 0===pb&&(Pd+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new ae(He.key,Jf,Pd)];if("categorical"===pb&&"number"===Pd&&("number"!==typeof ge||!isFinite(ge)||Math.floor(ge)!==ge))return[new ae(He.key,Jf,`integer expected, found ${String(ge)}`)];
if("categorical"!==pb&&"number"===Pd&&"number"===typeof ge&&"number"===typeof Hc&&void 0!==Hc&&ge<Hc)return[new ae(He.key,Jf,"stop domain values must appear in ascending order")];Hc=ge;if("categorical"===pb&&ge in Xb)return[new ae(He.key,Jf,"stop domain values must be unique")];Xb[ge]=!0;return[]}const Ta=K.valueSpec,pb=Wc(K.value.type);let Db,Xb={},Hc,Vc;const Pc="categorical"!==pb&&void 0===K.value.property,Dd=!Pc,Rd="array"===Zb(K.value.stops)&&"array"===Zb(K.value.stops[0])&&"object"===Zb(K.value.stops[0][0]),
Ve=Yd({key:K.key,value:K.value,valueSpec:K.styleSpec.function,style:K.style,styleSpec:K.styleSpec,objectElementValidators:{stops:function(He){if("identity"===pb)return[new ae(He.key,He.value,'identity function may not have a "stops" property')];let Jf=[];const Pd=He.value;Jf=Jf.concat(Ee({key:He.key,value:Pd,valueSpec:He.valueSpec,style:He.style,styleSpec:He.styleSpec,arrayElementValidator:Z}));"array"===Zb(Pd)&&0===Pd.length&&Jf.push(new ae(He.key,Pd,"array must have at least one stop"));return Jf},
default:function(He){return Bd({key:He.key,value:He.value,valueSpec:Ta,style:He.style,styleSpec:He.styleSpec})}}});"identity"===pb&&Pc&&Ve.push(new ae(K.key,K.value,'missing required property "property"'));"identity"===pb||K.value.stops||Ve.push(new ae(K.key,K.value,'missing required property "stops"'));"exponential"===pb&&K.valueSpec.expression&&!Eb(K.valueSpec)&&Ve.push(new ae(K.key,K.value,"exponential functions not supported"));8<=K.styleSpec.$version&&(Dd&&!mb(K.valueSpec)?Ve.push(new ae(K.key,
K.value,"property functions not supported")):Pc&&!ib(K.valueSpec)&&Ve.push(new ae(K.key,K.value,"zoom functions not supported")));"categorical"!==pb&&!Rd||void 0!==K.value.property||Ve.push(new ae(K.key,K.value,'"property" property is required'));return Ve}function xe(K){var Z=("property"===K.expressionContext?qc:vc)(dd(K.value),K.valueSpec);if("error"===Z.result)return Z.value.map(wa=>new ae(`${K.key}${wa.key}`,K.value,wa.message));Z=Z.value.expression||Z.value._styleExpression.expression;if("property"===
K.expressionContext&&"text-font"===K.propertyKey&&!Z.outputDefined())return[new ae(K.key,K.value,`Invalid data expression for "${K.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===K.expressionContext&&"layout"===K.propertyType&&!Wa(Z))return[new ae(K.key,K.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===K.expressionContext)return Ne(Z,K);if(K.expressionContext&&0===K.expressionContext.indexOf("cluster")){if(!hb(Z,
["zoom","feature-state"]))return[new ae(K.key,K.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===K.expressionContext&&!za(Z))return[new ae(K.key,K.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ne(K,Z){const wa=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(Z.valueSpec&&Z.valueSpec.expression)for(const pb of Z.valueSpec.expression.parameters)wa.delete(pb);
if(0===wa.size)return[];const Ta=[];if(K instanceof vd&&wa.has(K.name))return[new ae(Z.key,Z.value,`["${K.name}"] expression is not supported in a filter for a ${Z.object.type} layer with id: ${Z.object.id}`)];K.eachChild(pb=>{Ta.push(...Ne(pb,Z))});return Ta}function rf(K){const Z=K.key,wa=K.value;K=K.valueSpec;const Ta=[];Array.isArray(K.values)?-1===K.values.indexOf(Wc(wa))&&Ta.push(new ae(Z,wa,`expected one of [${K.values.join(", ")}], ${JSON.stringify(wa)} found`)):-1===Object.keys(K.values).indexOf(Wc(wa))&&
Ta.push(new ae(Z,wa,`expected one of [${Object.keys(K.values).join(", ")}], ${JSON.stringify(wa)} found`));return Ta}function Vb(K){return ld(dd(K.value))?xe(q({},K,{expressionContext:"filter",valueSpec:K.styleSpec[`filter_${K.layerType||"fill"}`]})):sc(K)}function sc(K){const Z=K.value,wa=K.key;if("array"!==Zb(Z))return[new ae(wa,Z,`array expected, ${Zb(Z)} found`)];var Ta=K.styleSpec;let pb,Db=[];if(1>Z.length)return[new ae(wa,Z,"filter array must have at least 1 element")];Db=Db.concat(rf({key:`${wa}[0]`,
value:Z[0],valueSpec:Ta.filter_operator,style:K.style,styleSpec:K.styleSpec}));switch(Wc(Z[0])){case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":2<=Z.length&&"$type"===Wc(Z[1])&&Db.push(new ae(wa,Z,`"$type" cannot be use with operator "${Z[0]}"`));case "\x3d\x3d":case "!\x3d":3!==Z.length&&Db.push(new ae(wa,Z,`filter array for operator "${Z[0]}" must have 3 elements`));case "in":case "!in":2<=Z.length&&(pb=Zb(Z[1]),"string"!==pb&&Db.push(new ae(`${wa}[1]`,Z[1],`string expected, ${pb} found`)));
for(let Xb=2;Xb<Z.length;Xb++)pb=Zb(Z[Xb]),"$type"===Wc(Z[1])?Db=Db.concat(rf({key:`${wa}[${Xb}]`,value:Z[Xb],valueSpec:Ta.geometry_type,style:K.style,styleSpec:K.styleSpec})):"string"!==pb&&"number"!==pb&&"boolean"!==pb&&Db.push(new ae(`${wa}[${Xb}]`,Z[Xb],`string, number, or boolean expected, ${pb} found`));break;case "any":case "all":case "none":for(Ta=1;Ta<Z.length;Ta++)Db=Db.concat(sc({key:`${wa}[${Ta}]`,value:Z[Ta],style:K.style,styleSpec:K.styleSpec}));break;case "has":case "!has":pb=Zb(Z[1]);
2!==Z.length?Db.push(new ae(wa,Z,`filter array for "${Z[0]}" operator must have 2 elements`)):"string"!==pb&&Db.push(new ae(`${wa}[1]`,Z[1],`string expected, ${pb} found`));break;case "within":pb=Zb(Z[1]),2!==Z.length?Db.push(new ae(wa,Z,`filter array for "${Z[0]}" operator must have 2 elements`)):"object"!==pb&&Db.push(new ae(`${wa}[1]`,Z[1],`object expected, ${pb} found`))}return Db}function cd(K,Z){const wa=K.key,Ta=K.style,pb=K.styleSpec,Db=K.value,Xb=K.objectKey;var Hc=pb[`${Z}_${K.layerType}`];
if(!Hc)return[];const Vc=Xb.match(/^(.*)-transition$/);if("paint"===Z&&Vc&&Hc[Vc[1]]&&Hc[Vc[1]].transition)return Bd({key:wa,value:Db,valueSpec:pb.transition,style:Ta,styleSpec:pb});Hc=K.valueSpec||Hc[Xb];if(!Hc)return[new ae(wa,Db,`unknown property "${Xb}"`)];var Pc;if("string"===Zb(Db)&&mb(Hc)&&!Hc.tokens&&(Pc=/^{([^}]+)}$/.exec(Db)))return[new ae(wa,Db,`"${Xb}" does not support interpolation syntax\n`+`Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(Pc[1])} }\`.`)];
Pc=[];"symbol"===K.layerType&&("text-field"===Xb&&Ta&&!Ta.glyphs&&Pc.push(new ae(wa,Db,'use of "text-field" requires a style "glyphs" property')),"text-font"===Xb&&Gc(dd(Db))&&"identity"===Wc(Db.type)&&Pc.push(new ae(wa,Db,'"text-font" does not support identity functions')));return Pc.concat(Bd({key:K.key,value:Db,valueSpec:Hc,style:Ta,styleSpec:pb,expressionContext:"property",propertyType:Z,propertyKey:Xb}))}function wd(K){const Z=K.value;K=K.key;const wa=Zb(Z);return"string"!==wa?[new ae(K,Z,`string expected, ${wa} found`)]:
[]}function Bd(K){const Z=K.value,wa=K.valueSpec,Ta=K.styleSpec;return wa.expression&&Gc(Wc(Z))?Bf(K):wa.expression&&hc(dd(Z))?xe(K):wa.type&&lh[wa.type]?lh[wa.type](K):Yd(q({},K,{valueSpec:wa.type?Ta[wa.type]:wa}))}function pe(K){const Z=K.value,wa=K.key;K=wd(K);if(K.length)return K;-1===Z.indexOf("{fontstack}")&&K.push(new ae(wa,Z,'"glyphs" url must include a "{fontstack}" token'));-1===Z.indexOf("{range}")&&K.push(new ae(wa,Z,'"glyphs" url must include a "{range}" token'));return K}function hf(K,
Z=Wb){K=Bd({key:"",value:K,valueSpec:Z.$root,styleSpec:Z,style:K,objectElementValidators:{glyphs:pe,"*":()=>[]}});return Vf(K)}function Vf(K){return K.slice().sort((Z,wa)=>Z.line&&wa.line?Z.line-wa.line:0)}function yf(K){if(K instanceof String||"string"===typeof K||K instanceof v)try{return tg.parse(K.toString())}catch(Z){throw new gh(Z);}return K}function Ff(K,Z){return K&&"string"===Zb(K)?!!K.match(Z):!0}function Oe(K,Z,wa){const Ta=new Set(Z),pb=[];Object.keys(K).forEach(Db=>{Ta.has(Db)||pb.push(new ae(wa?
`${wa}.${Db}`:null,K[Db],`Unsupported property "${Db}"`))});return pb}function Gb(K){const Z=[];let wa=0;Object.keys(K).forEach((Ta,pb)=>{var Db=K[Ta];const Xb=[];Xb.push(...Oe(Db,["type","url","tileSize"],"source"));Mh.has(String(Db.type))||Xb.push(new ae(`sources[${pb}].type`,Db.type,`Expected one of [${Array.from(Mh).join(", ")}]`));const Hc=/^mapbox:\/\/([^/]*)$/;Db.url&&Ff(Db.url,Hc)||Xb.push(new ae(`sources[${pb}].url`,Db.url,"Expected a valid Mapbox tileset url"));Xb.length||(pb=wa,Ta=K[Ta],
Ta=Ta.url?Ta.url.split(",").length:0,wa=pb+Ta);Z.push(...Xb)});15<wa&&Z.push(new ae("sources",null,"Styles must contain 15 or fewer sources"));return Z}var Wb={$version:8,$root:{version:{required:!0,type:"enum",values:[8],doc:"Style specification version number. Must be 8.",example:8},name:{type:"string",doc:"A human-readable name for the style.",example:"Bright"},metadata:{type:"*",doc:"Arbitrary properties useful to track with the stylesheet, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},
center:{type:"array",value:"number",doc:"Default map center in longitude and latitude.  The style center will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:[-73.9749,40.7736]},zoom:{type:"number",doc:"Default zoom level.  The style zoom will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:12.5},bearing:{type:"number","default":0,period:360,units:"degrees",doc:'Default bearing, in degrees. The bearing is the compass direction that is "up"; for example, a bearing of 90 orients the map so that east is up. This value will be used only if the map has not been positioned by other means (e.g. map options or user interaction).',
example:29},pitch:{type:"number","default":0,units:"degrees",doc:"Default pitch, in degrees. Zero is perpendicular to the surface, for a look straight down at the map, while a greater value like 60 looks ahead towards the horizon. The style pitch will be used only if the map has not been positioned by other means (e.g. map options or user interaction).",example:50},light:{type:"light",doc:"The global light source.",example:{anchor:"viewport",color:"white",intensity:.4}},terrain:{type:"terrain",doc:"A global modifier that elevates layers and markers based on a DEM data source."},
fog:{type:"fog",doc:"A global effect that fades layers and markers based on their distance to the camera. The fog can be used to approximate the effect of atmosphere on distant objects and enhance the depth perception of the map when used with terrain or 3D features."},sources:{required:!0,type:"sources",doc:"Data source specifications.",example:{"mapbox-streets":{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"}}},sprite:{type:"string",doc:"A base URL for retrieving the sprite image and metadata. The extensions `.png`, `.json` and scale factor `@2x.png` will be automatically appended. This property is required if any layer uses the `background-pattern`, `fill-pattern`, `line-pattern`, `fill-extrusion-pattern`, or `icon-image` properties. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",
example:"mapbox://sprites/mapbox/bright-v8"},glyphs:{type:"string",doc:"A URL template for loading signed-distance-field glyph sets in PBF format. The URL must include `{fontstack}` and `{range}` tokens. This property is required if any layer uses the `text-field` layout property. The URL must be absolute, containing the [scheme, authority and path components](https://en.wikipedia.org/wiki/URL#Syntax).",example:"mapbox://fonts/mapbox/{fontstack}/{range}.pbf"},transition:{type:"transition",doc:"A global transition definition to use as a default across properties, to be used for timing transitions between one value and the next when no property-specific transition is set. Collision-based symbol fading is controlled independently of the style's `transition` property.",
example:{duration:300,delay:0}},projection:{type:"projection",doc:"The projection the map should be rendered in. Supported projections are Albers, Equal Earth, Equirectangular (WGS84), Lambert conformal conic, Mercator, Natural Earth, and Winkel Tripel. Terrain, fog, sky and CustomLayerInterface are not supported for projections other than mercator.",example:{name:"albers",center:[-154,50],parallels:[55,65]}},layers:{required:!0,type:"array",value:"layer",doc:"Layers will be drawn in the order of this array.",
example:[{id:"water",source:"mapbox-streets","source-layer":"water",type:"fill",paint:{"fill-color":"#00ffff"}}]}},sources:{"*":{type:"source",doc:"Specification of a data source. For vector and raster sources, either TileJSON or a URL to a TileJSON must be provided. For image and video sources, a URL must be provided. For GeoJSON sources, a URL or inline GeoJSON must be provided."}},source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,
type:"enum",values:{vector:{doc:"A vector tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},
scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},
attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`. If specified as a string for a vector tile source, the same property is used across all its source layers."},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.",
"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster:{type:{required:!0,type:"enum",values:{raster:{doc:"A raster tile source."}},doc:"The type of the source."},url:{type:"string",doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",
value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,
doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},scheme:{type:"enum",values:{xyz:{doc:"Slippy map tilenames scheme."},tms:{doc:"OSGeo spec scheme."}},"default":"xyz",doc:"Influences the y direction of the tile coordinates. The global-mercator (aka Spherical Mercator) profile is assumed."},
attribution:{type:"string",doc:"Contains an attribution to be displayed when the map is shown to a user."},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.","sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{doc:"A RGB-encoded raster DEM source"}},doc:"The type of the source."},url:{type:"string",
doc:"A URL to a TileJSON resource. Supported protocols are `http:`, `https:`, and `mapbox://\x3cTileset ID\x3e`."},tiles:{type:"array",value:"string",doc:"An array of one or more tile source URLs, as in the TileJSON spec."},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129],doc:"An array containing the longitude and latitude of the southwest and northeast corners of the source's bounding box in the following order: `[sw.lng, sw.lat, ne.lng, ne.lat]`. When this property is included in a source, no tiles outside of the given bounds are requested by Mapbox GL."},
minzoom:{type:"number","default":0,doc:"Minimum zoom level for which tiles are available, as in the TileJSON spec."},maxzoom:{type:"number","default":22,doc:"Maximum zoom level for which tiles are available, as in the TileJSON spec. Data from tiles at the maxzoom are used when displaying the map at higher zoom levels."},tileSize:{type:"number","default":512,units:"pixels",doc:"The minimum visual size to display tiles for this layer. Only configurable for raster layers."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},encoding:{type:"enum",values:{terrarium:{doc:"Terrarium format PNG tiles. See https://aws.amazon.com/es/public-datasets/terrain/ for more info."},mapbox:{doc:"Mapbox Terrain RGB tiles. See https://www.mapbox.com/help/access-elevation-data/#mapbox-terrain-rgb for more info."}},"default":"mapbox",doc:"The encoding used by this source. Mapbox Terrain RGB is used by default"},volatile:{type:"boolean","default":!1,doc:"A setting to determine whether a source's tiles are cached locally.",
"sdk-support":{"basic functionality":{android:"9.3.0",ios:"5.10.0"}}},"*":{type:"*",doc:"Other keys to configure the data source."}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{doc:"A GeoJSON data source."}},doc:"The data type of the GeoJSON source."},data:{type:"*",doc:"A URL to a GeoJSON file, or inline GeoJSON."},maxzoom:{type:"number","default":18,doc:"Maximum zoom level at which to create vector tiles (higher means greater detail at high zoom levels)."},attribution:{type:"string",
doc:"Contains an attribution to be displayed when the map is shown to a user."},buffer:{type:"number","default":128,maximum:512,minimum:0,doc:"Size of the tile buffer on each side. A value of 0 produces no buffer. A value of 512 produces a buffer as wide as the tile itself. Larger values produce fewer rendering artifacts near tile edges and slower performance."},filter:{type:"*",doc:"An expression for filtering features prior to processing them for rendering."},tolerance:{type:"number","default":.375,
doc:"Douglas-Peucker simplification tolerance (higher means simpler geometries and faster performance)."},cluster:{type:"boolean","default":!1,doc:"If the data is a collection of point features, setting this to true clusters the points by radius into groups. Cluster groups become new `Point` features in the source with additional properties:\n * `cluster` Is `true` if the point is a cluster \n * `cluster_id` A unqiue id for the cluster to be used in conjunction with the [cluster inspection methods](https://www.mapbox.com/mapbox-gl-js/api/#geojsonsource#getclusterexpansionzoom)\n * `point_count` Number of original points grouped into this cluster\n * `point_count_abbreviated` An abbreviated point count"},
clusterRadius:{type:"number","default":50,minimum:0,doc:"Radius of each cluster if clustering is enabled. A value of 512 indicates a radius equal to the width of a tile."},clusterMaxZoom:{type:"number",doc:"Max zoom on which to cluster points if clustering is enabled. Defaults to one zoom less than maxzoom (so that last zoom features are not clustered). Clusters are re-evaluated at integer zoom levels so setting clusterMaxZoom to 14 means the clusters will be displayed until z15."},clusterMinPoints:{type:"number",
doc:"Minimum number of points necessary to form a cluster if clustering is enabled. Defaults to `2`."},clusterProperties:{type:"*",doc:'An object defining custom properties on the generated clusters if clustering is enabled, aggregating values from clustered points. Has the form `{"property_name": [operator, map_expression]}`. `operator` is any expression function that accepts at least 2 operands (e.g. `"+"` or `"max"`)  it accumulates the property value from clusters/points the cluster contains; `map_expression` produces the value of a single point.\n\nExample: `{"sum": ["+", ["get", "scalerank"]]}`.\n\nFor more advanced use cases, in place of `operator`, you can use a custom reduce expression that references a special `["accumulated"]` value, e.g.:\n`{"sum": [["+", ["accumulated"], ["get", "sum"]], ["get", "scalerank"]]}`'},
lineMetrics:{type:"boolean","default":!1,doc:"Whether to calculate line distance metrics. This is required for line layers that specify `line-gradient` values."},generateId:{type:"boolean","default":!1,doc:"Whether to generate ids for the geojson features. When enabled, the `feature.id` property will be auto assigned based on its index in the `features` array, over-writing any previous values."},promoteId:{type:"promoteId",doc:"A property to use as a feature id (for feature state). Either a property name, or an object of the form `{\x3csourceLayer\x3e: \x3cpropertyName\x3e}`."}},
source_video:{type:{required:!0,type:"enum",values:{video:{doc:"A video data source."}},doc:"The data type of the video source."},urls:{required:!0,type:"array",value:"string",doc:"URLs to video content in order of preferred format."},coordinates:{required:!0,doc:"Corners of video specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},source_image:{type:{required:!0,type:"enum",values:{image:{doc:"An image data source."}},
doc:"The data type of the image source."},url:{required:!0,type:"string",doc:"URL that points to an image."},coordinates:{required:!0,doc:"Corners of image specified in longitude, latitude pairs.",type:"array",length:4,value:{type:"array",length:2,value:"number",doc:"A single longitude, latitude pair."}}},layer:{id:{type:"string",doc:"Unique layer name.",required:!0},type:{type:"enum",values:{fill:{doc:"A filled polygon with an optional stroked border.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},line:{doc:"A stroked line.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},symbol:{doc:"An icon or a text label.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},circle:{doc:"A filled circle.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},heatmap:{doc:"A heatmap.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"fill-extrusion":{doc:"An extruded (3D) polygon.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},raster:{doc:"Raster map textures such as satellite imagery.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},hillshade:{doc:"Client-side hillshading visualization based on DEM data. Currently, the implementation only supports Mapbox Terrain RGB and Mapzen Terrarium tiles.",
"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},background:{doc:"The background color or pattern of the map.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}}},sky:{doc:"A spherical dome around the map that is always rendered behind all other layers.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},doc:"Rendering type of this layer.",required:!0},metadata:{type:"*",doc:"Arbitrary properties useful to track with the layer, but do not influence rendering. Properties should be prefixed to avoid collisions, like 'mapbox:'."},
source:{type:"string",doc:"Name of a source description to be used for this layer. Required for all layer types except `background`."},"source-layer":{type:"string",doc:"Layer to use from a vector tile source. Required for vector tile sources; prohibited for all other source types, including GeoJSON sources."},minzoom:{type:"number",minimum:0,maximum:24,doc:"The minimum zoom level for the layer. At zoom levels less than the minzoom, the layer will be hidden."},maxzoom:{type:"number",minimum:0,maximum:24,
doc:"The maximum zoom level for the layer. At zoom levels equal to or greater than the maxzoom, the layer will be hidden."},filter:{type:"filter",doc:'An expression specifying conditions on source features. Only features that match the filter are displayed. Zoom expressions in filters are only evaluated at integer zoom levels. The `["feature-state", ...]` expression is not supported in filter expressions.  The `["pitch"]` and `["distance-from-center"]` expressions are supported only for filter expressions on the symbol layer.'},
layout:{type:"layout",doc:"Layout properties for the layer."},paint:{type:"paint",doc:"Default paint properties for this layer."}},layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),layout_background:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"}},"property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.","sdk-support":{"basic functionality":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"},"data-driven styling":{js:"1.2.0",android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},"property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{doc:"A cap with a squared-off end which is drawn to the exact endpoint of the line."},
round:{doc:"A cap with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},square:{doc:"A cap with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."}},"default":"butt",doc:"The display of line endings.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{doc:"A join with a squared-off end which is drawn beyond the endpoint of the line at a distance of one-half of the line's width."},round:{doc:"A join with a rounded end which is drawn beyond the endpoint of the line at a radius of one-half of the line's width and centered on the endpoint of the line."},miter:{doc:"A join with a sharp, angled corner which is drawn with the outer sides beyond the endpoint of the path until they meet."}},
"default":"miter",doc:"The display of lines when joining.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,doc:"Used to automatically convert miter joins to bevel joins for sharp angles.",requires:[{"line-join":"miter"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,doc:"Used to automatically convert round joins to miter joins for shallow angles.",requires:[{"line-join":"round"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with a higher sort key will appear above features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"},"data-driven styling":{js:"1.2.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"}},"property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{doc:"The label is placed at the point where the geometry is located."},line:{doc:"The label is placed along the line of the geometry. Can only be used on `LineString` and `Polygon` geometries."},"line-center":{doc:"The label is placed at the center of the line of the geometry. Can only be used on `LineString` and `Polygon` geometries. Note that a single feature in a vector tile may contain multiple line geometries."}},
"default":"point",doc:"Label placement relative to its geometry.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`line-center` value":{js:"0.47.0",android:"6.4.0",ios:"4.3.0",macos:"0.10.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number","default":250,minimum:1,units:"pixels",doc:"Distance between two symbol anchors.",requires:[{"symbol-placement":"line"}],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,doc:"If true, the symbols will not cross tile edges to avoid mutual collisions. Recommended in layers that don't have enough padding in the vector tile to prevent collisions, or if it is a point symbol layer placed after a line symbol layer. When using a client that supports global collision detection, like Mapbox GL JS version 0.42.0 or greater, enabling this property is not needed to prevent clipped labels at tile boundaries.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",doc:"Sorts features in ascending order based on this value. Features with lower sort keys are drawn and placed first.  When `icon-allow-overlap` or `text-allow-overlap` is `false`, features with a lower sort key will have priority during placement. When `icon-allow-overlap` or `text-allow-overlap` is set to `true`, features with a higher sort key will overlap over features with a lower sort key.",
"sdk-support":{"basic functionality":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"},"data-driven styling":{js:"0.53.0",android:"7.4.0",ios:"4.11.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},
"viewport-y":{doc:"Sorts symbols by their y-position relative to the viewport if `icon-allow-overlap` or `text-allow-overlap` is set to `true` or `icon-ignore-placement` or `text-ignore-placement` is `false`."},source:{doc:"Sorts symbols by `symbol-sort-key` if set. Otherwise, no sorting is applied; symbols are rendered in the same order as the source data."}},"default":"auto",doc:"Determines whether overlapping symbols in the same layer are rendered in the order that they appear in the data source or by their y-position relative to the viewport. To control the order and prioritization of symbols otherwise, use `symbol-sort-key`.",
"sdk-support":{"basic functionality":{js:"0.49.0",android:"6.6.0",ios:"4.5.0",macos:"0.12.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,doc:"If true, the icon will be visible even if it collides with other previously drawn symbols.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"icon-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the icon.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,doc:"If true, text will display without their corresponding icons when the icon collides with other symbols and the text does not.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns icons east-west. When `symbol-placement` is set to `line` or `line-center`, aligns icon x-axes with the line."},viewport:{doc:"Produces icons whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},
auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of icons.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",doc:"Scales the original size of the icon by the provided factor. The new pixel size of the image will be the original pixel size multiplied by `icon-size`. 1 is the original size; 3 triples the size of the image.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{doc:"The icon is displayed at its intrinsic aspect ratio."},width:{doc:"The icon is scaled in the x-dimension to fit the width of the text."},height:{doc:"The icon is scaled in the y-dimension to fit the height of the text."},both:{doc:"The icon is scaled in both x- and y-dimensions."}},"default":"none",doc:"Scales the icon to fit around the associated text.",
requires:["icon-image","text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"stretchable icons":{js:"1.6.0",android:"9.2.0",ios:"5.8.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",doc:"Size of the additional area added to dimensions determined by `icon-text-fit`, in clockwise order: top, right, bottom, left.",
requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",doc:"Name of image in sprite to use for drawing an image background.",tokens:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the icon clockwise.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the icon bounding box used for detecting symbol collisions.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,doc:"If true, the icon may be flipped to prevent it from being rendered upside-down.",
requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],doc:"Offset distance of icon from its anchor. Positive values indicate right and down, while negative values indicate left and up. Each component is multiplied by the value of `icon-size` to obtain the final offset in pixels. When combined with `icon-rotate` the offset will be as if the rotated direction was up.",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{doc:"The center of the icon is placed closest to the anchor."},left:{doc:"The left side of the icon is placed closest to the anchor."},right:{doc:"The right side of the icon is placed closest to the anchor."},
top:{doc:"The top of the icon is placed closest to the anchor."},bottom:{doc:"The bottom of the icon is placed closest to the anchor."},"top-left":{doc:"The top left corner of the icon is placed closest to the anchor."},"top-right":{doc:"The top right corner of the icon is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the icon is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the icon is placed closest to the anchor."}},"default":"center",
doc:"Part of the icon placed closest to the anchor.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{doc:"The icon is aligned to the plane of the map."},viewport:{doc:"The icon is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `icon-rotation-alignment`."}},"default":"auto",doc:"Orientation of icon when map is pitched.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{doc:"The text is aligned to the plane of the map."},viewport:{doc:"The text is aligned to the plane of the viewport."},
auto:{doc:"Automatically matches the value of `text-rotation-alignment`."}},"default":"auto",doc:"Orientation of text when map is pitched.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{doc:"When `symbol-placement` is set to `point`, aligns text east-west. When `symbol-placement` is set to `line` or `line-center`, aligns text x-axes with the line."},
viewport:{doc:"Produces glyphs whose x-axes are aligned with the x-axis of the viewport, regardless of the value of `symbol-placement`."},auto:{doc:"When `symbol-placement` is set to `point`, this is equivalent to `viewport`. When `symbol-placement` is set to `line` or `line-center`, this is equivalent to `map`."}},"default":"auto",doc:"In combination with `symbol-placement`, determines the rotation behavior of the individual glyphs forming the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"`auto` value":{js:"0.25.0",android:"4.2.0",ios:"3.4.0",macos:"0.3.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,doc:"Value to use for a text label. If a plain `string` is provided, it will be treated as a `formatted` with default/inherited formatting options. SDF images are not supported in formatted text and will be ignored.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],doc:"Font stack to use for displaying text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.43.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number","default":16,minimum:0,units:"pixels",doc:"Font size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},
"text-max-width":{type:"number","default":10,minimum:0,units:"ems",doc:"The maximum line width for text wrapping.",requires:["text-field",{"symbol-placement":["point"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",doc:"Text leading value for multi-line text.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number","default":0,units:"ems",doc:"Text tracking amount.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.40.0",android:"5.2.0",ios:"3.7.0",
macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{doc:"The text is aligned towards the anchor position."},left:{doc:"The text is aligned to the left."},center:{doc:"The text is centered."},right:{doc:"The text is aligned to the right."}},"default":"center",doc:"Text justification options.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},
"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"},auto:{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,doc:"Radial offset of text, in the direction of the symbol's anchor. Useful in combination with `text-variable-anchor`, which defaults to using the two-dimensional `text-offset` if present.","sdk-support":{"basic functionality":{js:"0.54.0",
android:"7.4.0",ios:"4.10.0",macos:"0.14.0"},"data-driven styling":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",macos:"0.14.0"}},requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},
top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},requires:["text-field",
{"symbol-placement":["point"]}],doc:"To increase the chance of placing high-priority labels on the map, you can provide an array of `text-anchor` locations: the renderer will attempt to place the label at each location, in order, before moving onto the next label. Use `text-justify: auto` to choose justification based on anchor position. To apply an offset, use the `text-radial-offset` or the two-dimensional `text-offset`.","sdk-support":{"basic functionality":{js:"0.54.0",android:"7.4.0",ios:"4.10.0",
macos:"0.14.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{doc:"The center of the text is placed closest to the anchor."},left:{doc:"The left side of the text is placed closest to the anchor."},right:{doc:"The right side of the text is placed closest to the anchor."},top:{doc:"The top of the text is placed closest to the anchor."},bottom:{doc:"The bottom of the text is placed closest to the anchor."},"top-left":{doc:"The top left corner of the text is placed closest to the anchor."},
"top-right":{doc:"The top right corner of the text is placed closest to the anchor."},"bottom-left":{doc:"The bottom left corner of the text is placed closest to the anchor."},"bottom-right":{doc:"The bottom right corner of the text is placed closest to the anchor."}},"default":"center",doc:"Part of the text placed closest to the anchor.",requires:["text-field",{"!":"text-variable-anchor"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",
android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",doc:"Maximum angle change between adjacent characters.",requires:["text-field",{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",
value:"enum",values:{horizontal:{doc:"If a text's language supports horizontal writing mode, symbols would be laid out horizontally."},vertical:{doc:"If a text's language supports vertical writing mode, symbols would be laid out vertically."}},doc:"The property allows control over a symbol's orientation. Note that the property values act as a hint, so that a symbol whose language doesnt support the provided orientation will be laid out in its natural orientation. Example: English point symbol will be rendered horizontally even if array value contains single 'vertical' enum value. For symbol with point placement, the order of elements in an array define priority order for the placement of an orientation variant. For symbol with line placement, the default text writing mode is either ['horizontal', 'vertical'] or ['vertical', 'horizontal'], the order doesn't affect the placement.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"1.3.0",android:"8.3.0",ios:"5.3.0",macos:"0.15.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",doc:"Rotates the text clockwise.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",doc:"Size of the additional area around the text bounding box used for detecting symbol collisions.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean","default":!0,doc:"If true, the text may be flipped vertically to prevent it from being rendered upside-down.",
requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{doc:"The text is not altered."},uppercase:{doc:"Forces all letters to be displayed in uppercase."},lowercase:{doc:"Forces all letters to be displayed in lowercase."}},"default":"none",
doc:"Specifies how to capitalize text, similar to the CSS `text-transform` property.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",doc:"Offset distance of text from its anchor. Positive values indicate right and down, while negative values indicate left and up. If used with text-variable-anchor, input values will be taken as absolute values. Offsets along the x- and y-axis will be applied automatically based on the anchor position.",
value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.35.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,doc:"If true, the text will be visible even if it collides with other previously drawn symbols.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,doc:"If true, other symbols can be visible even if they collide with the text.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"text-optional":{type:"boolean","default":!1,doc:"If true, icons will display without their corresponding text when the text collides with other symbols and the icon does not.",requires:["text-field","icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",
doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},"property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",
values:{visible:{doc:"The layer is shown."},none:{doc:"The layer is not shown."}},"default":"visible",doc:"Whether this layer is displayed.","sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},"property-type":"constant"}},filter:{type:"array",value:"*",doc:"A filter selects specific features from a layer."},filter_symbol:{type:"boolean",doc:'Expression which determines whether or not to display a symbol. Symbols support dynamic filtering, meaning this expression can use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',
"default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean",doc:'Expression which determines whether or not to display a polygon. Fill layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',"default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,
parameters:["zoom","feature"]}},filter_line:{type:"boolean",doc:'Expression which determines whether or not to display a Polygon or LineString. Line layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',"default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean",doc:'Expression which determines whether or not to display a circle. Circle layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',
"default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},"filter_fill-extrusion":{type:"boolean",doc:'Expression which determines whether or not to display a Polygon. Fill-extrusion layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',"default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,
parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean",doc:'Expression used to determine whether a point is being displayed or not. Heatmap layer does NOT support dynamic filtering, meaning this expression can NOT use the `["pitch"]` and `["distance-from-center"]` expressions to reference the current state of the view.',"default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"\x3d\x3d":{doc:'`["\x3d\x3d", key, value]` equality: `feature[key] \x3d value`'},
"!\x3d":{doc:'`["!\x3d", key, value]` inequality: `feature[key]  value`'},"\x3e":{doc:'`["\x3e", key, value]` greater than: `feature[key] \x3e value`'},"\x3e\x3d":{doc:'`["\x3e\x3d", key, value]` greater than or equal: `feature[key]  value`'},"\x3c":{doc:'`["\x3c", key, value]` less than: `feature[key] \x3c value`'},"\x3c\x3d":{doc:'`["\x3c\x3d", key, value]` less than or equal: `feature[key]  value`'},"in":{doc:'`["in", key, v0, ..., vn]` set inclusion: `feature[key]  {v0, ..., vn}`'},"!in":{doc:'`["!in", key, v0, ..., vn]` set exclusion: `feature[key]  {v0, ..., vn}`'},
all:{doc:'`["all", f0, ..., fn]` logical `AND`: `f0  ...  fn`'},any:{doc:'`["any", f0, ..., fn]` logical `OR`: `f0  ...  fn`'},none:{doc:'`["none", f0, ..., fn]` logical `NOR`: `f0  ...  fn`'},has:{doc:'`["has", key]` `feature[key]` exists'},"!has":{doc:'`["!has", key]` `feature[key]` does not exist'},within:{doc:'`["within", object]` feature geometry is within object geometry'}},doc:"The filter operator."},geometry_type:{type:"enum",values:{Point:{doc:"Filter to point geometries."},LineString:{doc:"Filter to line geometries."},
Polygon:{doc:"Filter to polygon geometries."}},doc:"The geometry type for the filter to select."},"function":{expression:{type:"expression",doc:"An expression."},stops:{type:"array",doc:"An array of stops.",value:"function_stop"},base:{type:"number","default":1,minimum:0,doc:"The exponential base of the interpolation curve. It controls the rate at which the result increases. Higher values make the result increase more towards the high end of the range. With `1` the stops are interpolated linearly."},
property:{type:"string",doc:"The name of a feature property to use as the function input.","default":"$zoom"},type:{type:"enum",values:{identity:{doc:"Return the input value as the output value."},exponential:{doc:"Generate an output by interpolating between stops just less than and just greater than the function input."},interval:{doc:"Return the output value of the stop just less than the function input."},categorical:{doc:"Return the output value of the stop equal to the function input."}},doc:"The interpolation strategy to use in function evaluation.",
"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{doc:"Use the RGB color space to interpolate color values"},lab:{doc:"Use the LAB color space to interpolate color values."},hcl:{doc:"Use the HCL color space to interpolate color values, interpolating the Hue, Chroma, and Luminance channels individually."}},doc:"The color space in which colors interpolated. Interpolating colors in perceptual color spaces like LAB and HCL tend to produce color ramps that look more consistent and produce colors that can be differentiated more easily than those interpolated in RGB space.",
"default":"rgb"},"default":{type:"*",required:!1,doc:"A value to serve as a fallback function result when a value isn't otherwise available. It is used in the following circumstances:\n* In categorical functions, when the feature value does not match any of the stop domain values.\n* In property and zoom-and-property functions, when a feature does not contain a value for the specified property.\n* In identity functions, when the feature value is not valid for the style property (for example, if the function is being used for a `circle-color` property but the feature property value is not a string or not a valid color).\n* In interval or exponential property and zoom-and-property functions, when the feature value is not numeric.\nIf no default is provided, the style property's default is used in these circumstances."}},
function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2,doc:"Zoom level and value pair."},expression:{type:"array",value:"*",minimum:1,doc:"An expression defines a function that can be used for data-driven style properties or feature filters."},expression_name:{doc:"",type:"enum",values:{let:{doc:'Binds expressions to named variables, which can then be referenced in the result expression using ["var", "variable_name"].',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"var":{doc:'References variable bound using "let".',group:"Variable binding","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},literal:{doc:"Provides a literal array or object value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},array:{doc:"Asserts that the input is an array (optionally with a specific item type and length).  If, when the input expression is evaluated, it is not of the asserted type, then this assertion will cause the whole expression to be aborted.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},at:{doc:"Retrieves an item from an array.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"in":{doc:"Determines whether an item exists in an array or a substring exists in a string. In the specific case when the second and third arguments are string literals, you must wrap at least one of them in a [`literal`](#types-literal) expression to hint correct interpretation to the [type system](#type-system).",
group:"Lookup","sdk-support":{"basic functionality":{js:"1.6.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"index-of":{doc:"Returns the first position at which an item can be found in an array or a substring can be found in a string, or `-1` if the input cannot be found. Accepts an optional index from where to begin the search.",group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},slice:{doc:"Returns an item from an array or a substring from a string from a specified start index, or between a start index and an end index if set. The return value is inclusive of the start index but not of the end index.",
group:"Lookup","sdk-support":{"basic functionality":{js:"1.10.0"}}},"case":{doc:"Selects the first output whose corresponding test condition evaluates to true, or the fallback value otherwise.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},match:{doc:'Selects the output for which the label value matches the input value, or the fallback value if no match is found. The input can be any expression (for example, `["get", "building_type"]`). Each label must be unique, and must be either:\n - a single literal value; or\n - an array of literal values, the values of which must be all strings or all numbers (for example `[100, 101]` or `["c", "b"]`).\n\nThe input matches if any of the values in the array matches using strict equality, similar to the `"in"` operator.\nIf the input type does not match the type of the labels, the result will be the fallback value.',
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},coalesce:{doc:"Evaluates each expression in turn until the first valid value is obtained. Invalid values are `null` and [`'image'`](#types-image) expressions that are unavailable in the style. If all values are invalid, `coalesce` returns the first value listed.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},step:{doc:'Produces discrete, stepped results by evaluating a piecewise-constant function defined by pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. Returns the output value of the stop just less than the input, or the first output if the input is less than the first stop.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},interpolate:{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). The `input` may be any numeric expression (e.g., `["get", "population"]`). Stop inputs must be numeric literals in strictly ascending order. The output type must be `number`, `array\x3cnumber\x3e`, or `color`.\n\nInterpolation types:\n- `["linear"]`: Interpolates linearly between the pair of stops just less than and just greater than the input.\n- `["exponential", base]`: Interpolates exponentially between the stops just less than and just greater than the input. `base` controls the rate at which the output increases: higher values make the output increase more towards the high end of the range. With values close to 1 the output increases linearly.\n- `["cubic-bezier", x1, y1, x2, y2]`: Interpolates using the cubic bezier curve defined by the given control points.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"interpolate-hcl":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the Hue-Chroma-Luminance color space.',group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},"interpolate-lab":{doc:'Produces continuous, smooth results by interpolating between pairs of input and output values ("stops"). Works like `interpolate`, but the output type must be `color`, and the interpolation is performed in the CIELAB color space.',
group:"Ramps, scales, curves","sdk-support":{"basic functionality":{js:"0.49.0"}}},ln2:{doc:"Returns mathematical constant ln(2).",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pi:{doc:"Returns the mathematical constant pi.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},e:{doc:"Returns the mathematical constant e.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"typeof":{doc:"Returns a string describing the type of the given value.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},string:{doc:"Asserts that the input value is a string. If multiple values are provided, each one is evaluated in order until a string is obtained. If none of the inputs are strings, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},number:{doc:"Asserts that the input value is a number. If multiple values are provided, each one is evaluated in order until a number is obtained. If none of the inputs are numbers, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},boolean:{doc:"Asserts that the input value is a boolean. If multiple values are provided, each one is evaluated in order until a boolean is obtained. If none of the inputs are booleans, the expression is an error.",
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},object:{doc:"Asserts that the input value is an object. If multiple values are provided, each one is evaluated in order until an object is obtained. If none of the inputs are objects, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},collator:{doc:"Returns a `collator` for use in locale-dependent comparison operations. The `case-sensitive` and `diacritic-sensitive` options default to `false`. The `locale` argument specifies the IETF language tag of the locale to use. If none is provided, the default locale is used. If the requested locale is not available, the `collator` will use a system-defined fallback locale. Use `resolved-locale` to test the results of locale fallback behavior.",
group:"Types","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},format:{doc:'Returns a `formatted` string for displaying mixed-format text in the `text-field` property. The input may contain a string literal or expression, including an [`\'image\'`](#types-image) expression. Strings may be followed by a style override object that supports the following properties:\n- `"text-font"`: Overrides the font stack specified by the root layout property.\n- `"text-color"`: Overrides the color specified by the root paint property.\n- `"font-scale"`: Applies a scaling factor on `text-size` as specified by the root layout property.',
group:"Types","sdk-support":{"basic functionality":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-font":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"font-scale":{js:"0.48.0",android:"6.7.0",ios:"4.6.0",macos:"0.12.0"},"text-color":{js:"1.3.0",android:"7.3.0",ios:"4.10.0",macos:"0.14.0"},image:{js:"1.6.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},image:{doc:"Returns a [`ResolvedImage`](/mapbox-gl-js/style-spec/types/#resolvedimage) for use in [`icon-image`](/mapbox-gl-js/style-spec/layers/#layout-symbol-icon-image), `*-pattern` entries, and as a section in the [`'format'`](#types-format) expression. A [`'coalesce'`](#coalesce) expression containing `image` expressions will evaluate to the first listed image that is currently in the style. This validation process is synchronous and requires the image to have been added to the style before requesting it in the `'image'` argument.",
group:"Types","sdk-support":{"basic functionality":{js:"1.4.0",android:"8.6.0",ios:"5.7.0",macos:"0.15.0"}}},"number-format":{doc:"Converts the input number into a string representation using the providing formatting rules. If set, the `locale` argument specifies the locale to use, as a BCP 47 language tag. If set, the `currency` argument specifies an ISO 4217 code to use for currency-style formatting. If set, the `min-fraction-digits` and `max-fraction-digits` arguments specify the minimum and maximum number of fractional digits to include.",
group:"Types","sdk-support":{"basic functionality":{js:"0.54.0",android:"8.4.0",ios:"5.4.0",macos:"0.15.0"}}},"to-string":{doc:'Converts the input value to a string. If the input is `null`, the result is `""`. If the input is a [`boolean`](#types-boolean), the result is `"true"` or `"false"`. If the input is a number, it is converted to a string as specified by the ["NumberToString" algorithm](https://tc39.github.io/ecma262/#sec-tostring-applied-to-the-number-type) of the ECMAScript Language Specification. If the input is a [`color`](#color), it is converted to a string of the form `"rgba(r,g,b,a)"`, where `r`, `g`, and `b` are numerals ranging from 0 to 255, and `a` ranges from 0 to 1. If the input is an [`\'image\'`](#types-image) expression, `\'to-string\'` returns the image name. Otherwise, the input is converted to a string in the format specified by the [`JSON.stringify`](https://tc39.github.io/ecma262/#sec-json.stringify) function of the ECMAScript Language Specification.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-number":{doc:'Converts the input value to a number, if possible. If the input is `null` or `false`, the result is 0. If the input is `true`, the result is 1. If the input is a string, it is converted to a number as specified by the ["ToNumber Applied to the String Type" algorithm](https://tc39.github.io/ecma262/#sec-tonumber-applied-to-the-string-type) of the ECMAScript Language Specification. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.',
group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-boolean":{doc:"Converts the input value to a boolean. The result is `false` when then input is an empty string, 0, `false`, `null`, or `NaN`; otherwise it is `true`.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-rgba":{doc:"Returns a four-element array containing the input color's red, green, blue, and alpha components, in that order.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"to-color":{doc:"Converts the input value to a color. If multiple values are provided, each one is evaluated in order until the first successful conversion is obtained. If none of the inputs can be converted, the expression is an error.",group:"Types","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgb:{doc:"Creates a color value from red, green, and blue components, which must range between 0 and 255, and an alpha component of 1. If any component is out of range, the expression is an error.",
group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},rgba:{doc:"Creates a color value from red, green, blue components, which must range between 0 and 255, and an alpha component which must range between 0 and 1. If any component is out of range, the expression is an error.",group:"Color","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},get:{doc:"Retrieves a property value from the current feature's properties, or from another object if a second argument is provided. Returns `null` if the requested property is missing.",
group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},has:{doc:"Tests for the presence of an property value in the current feature's properties, or from another object if a second argument is provided.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},length:{doc:"Returns the length of an array or string.",group:"Lookup","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",
ios:"4.0.0",macos:"0.7.0"}}},properties:{doc:'Returns the feature properties object.  Note that in some cases, it may be more efficient to use `["get", "property_name"]` directly.',group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"feature-state":{doc:"Retrieves a property value from the current feature's state. Returns `null` if the requested property is not present on the feature's state. A feature's state is not part of the GeoJSON or vector tile data, and must be set programmatically on each feature. Features are identified by their `id` attribute, which must be an integer or a string that can be cast to an integer. Note that [\"feature-state\"] can only be used with paint properties that support data-driven styling.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.46.0"}}},"geometry-type":{doc:"Returns the feature's geometry type: `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`. `Multi*` feature types are only returned in GeoJSON sources. When working with vector tile sources, use the singular forms.",group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},id:{doc:"Returns the feature's id, if it has one.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},zoom:{doc:'Returns the current zoom level.  Note that in style layout and paint properties, ["zoom"] may only appear as the input to a top-level "step" or "interpolate" expression.',group:"Camera","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},pitch:{doc:'Returns the current pitch in degrees. `["pitch"]` may only be used in the `filter` expression for a `symbol` layer.',
group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"distance-from-center":{doc:'Returns the distance of a `symbol` instance from the center of the map. The distance is measured in pixels divided by the height of the map container. It measures 0 at the center, decreases towards the camera and increase away from the camera. For example, if the height of the map is 1000px, a value of -1 means 1000px away from the center towards the camera, and a value of 1 means a distance of 1000px away from the camera from the center. `["distance-from-center"]` may only be used in the `filter` expression for a `symbol` layer.',
group:"Camera","sdk-support":{"basic functionality":{js:"2.6.0"}}},"heatmap-density":{doc:"Returns the kernel density estimation of a pixel in a heatmap layer, which is a relative measure of how many data points are crowded around a particular pixel. Can only be used in the `heatmap-color` property.",group:"Heatmap","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"line-progress":{doc:"Returns the progress along a gradient line. Can only be used in the `line-gradient` property.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.6.0",macos:"0.12.0"}}},"sky-radial-progress":{doc:"Returns the distance of a point on the sky from the sun position. Returns 0 at sun position and 1 when the distance reaches `sky-gradient-radius`. Can only be used in the `sky-gradient` property.",group:"sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},accumulated:{doc:"Returns the value of a cluster property accumulated so far. Can only be used in the `clusterProperties` option of a clustered GeoJSON source.",
group:"Feature data","sdk-support":{"basic functionality":{js:"0.53.0",android:"8.4.0",ios:"5.5.0",macos:"0.15.0"}}},"+":{doc:"Returns the sum of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"*":{doc:"Returns the product of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"-":{doc:"For two inputs, returns the result of subtracting the second input from the first. For a single input, returns the result of subtracting it from 0.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"/":{doc:"Returns the result of floating point division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"%":{doc:"Returns the remainder after integer division of the first input by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},
"^":{doc:"Returns the result of raising the first input to the power specified by the second.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sqrt:{doc:"Returns the square root of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.42.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log10:{doc:"Returns the base-ten logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},ln:{doc:"Returns the natural logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},log2:{doc:"Returns the base-two logarithm of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},sin:{doc:"Returns the sine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},cos:{doc:"Returns the cosine of the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},tan:{doc:"Returns the tangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},asin:{doc:"Returns the arcsine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},acos:{doc:"Returns the arccosine of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},atan:{doc:"Returns the arctangent of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},min:{doc:"Returns the minimum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},max:{doc:"Returns the maximum value of the inputs.",group:"Math","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",
macos:"0.7.0"}}},round:{doc:'Rounds the input to the nearest integer. Halfway values are rounded away from zero. For example, `["round", -1.5]` evaluates to -2.',group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},abs:{doc:"Returns the absolute value of the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},ceil:{doc:"Returns the smallest integer that is greater than or equal to the input.",
group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},floor:{doc:"Returns the largest integer that is less than or equal to the input.",group:"Math","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},distance:{doc:"Returns the shortest distance in meters between the evaluated feature and the input geometry. The input value can be a valid GeoJSON of type `Point`, `MultiPoint`, `LineString`, `MultiLineString`, `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Distance values returned may vary in precision due to loss in precision from encoding geometries, particularly below zoom level 13.",
group:"Math","sdk-support":{"basic functionality":{android:"9.2.0",ios:"5.9.0",macos:"0.16.0"}}},"\x3d\x3d":{doc:"Returns `true` if the input values are equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",group:"Decision",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"!\x3d":{doc:"Returns `true` if the input values are not equal, `false` otherwise. The comparison is strictly typed: values of different runtime types are always considered unequal. Cases where the types are known to be different at parse time are considered invalid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e":{doc:"Returns `true` if the first input is strictly greater than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c":{doc:"Returns `true` if the first input is strictly less than the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3e\x3d":{doc:"Returns `true` if the first input is greater than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},"\x3c\x3d":{doc:"Returns `true` if the first input is less than or equal to the second, `false` otherwise. The arguments are required to be either both strings or both numbers; if during evaluation they are not, expression evaluation produces an error. Cases where this constraint is known not to hold at parse time are considered in valid and will produce a parse error. Accepts an optional `collator` argument to control locale-dependent string comparisons.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},collator:{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}},all:{doc:"Returns `true` if all the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `false`, the result is `false` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},any:{doc:"Returns `true` if any of the inputs are `true`, `false` otherwise. The inputs are evaluated in order, and evaluation is short-circuiting: once an input expression evaluates to `true`, the result is `true` and no further input expressions are evaluated.",group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"!":{doc:"Logical negation. Returns `true` if the input is `false`, and `false` if the input is `true`.",
group:"Decision","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},within:{doc:"Returns `true` if the evaluated feature is fully contained inside a boundary of the input geometry, `false` otherwise. The input value can be a valid GeoJSON of type `Polygon`, `MultiPolygon`, `Feature`, or `FeatureCollection`. Supported features for evaluation:\n- `Point`: Returns `false` if a point is on the boundary or falls outside the boundary.\n- `LineString`: Returns `false` if any part of a line falls outside the boundary, the line intersects the boundary, or a line's endpoint is on the boundary.",
group:"Decision","sdk-support":{"basic functionality":{js:"1.9.0",android:"9.1.0",ios:"5.8.0",macos:"0.15.0"}}},"is-supported-script":{doc:"Returns `true` if the input string is expected to render legibly. Returns `false` if the input string contains sections that cannot be rendered without potential loss of meaning (e.g. Indic scripts that require complex text shaping, or right-to-left scripts if the the `mapbox-gl-rtl-text` plugin is not in use in Mapbox GL JS).",group:"String","sdk-support":{"basic functionality":{js:"0.45.0",
android:"6.6.0"}}},upcase:{doc:"Returns the input string converted to uppercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},downcase:{doc:"Returns the input string converted to lowercase. Follows the Unicode Default Case Conversion algorithm and the locale-insensitive case mappings in the Unicode Character Database.",
group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},concat:{doc:"Returns a `string` consisting of the concatenation of the inputs. Each input is converted to a string as if by `to-string`.",group:"String","sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}}},"resolved-locale":{doc:"Returns the IETF language tag of the locale being used by the provided `collator`. This can be used to determine the default system locale, or to determine if a requested locale was successfully loaded.",
group:"String","sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.2.0",macos:"0.9.0"}}}}},fog:{range:{type:"array","default":[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},doc:"The start and end distance range in which fog fades from fully transparent to fully opaque. The distance to the point at the center of the map is defined as zero, so that negative range values are closer to the camera, and positive values are farther away.",
example:[.5,10],"sdk-support":{"basic functionality":{js:"2.3.0"}}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"The color of the fog. Using opacity is recommended only for smoothly transitioning fog on/off as anything less than 100% opacity results in more tiles loaded and drawn.","sdk-support":{"basic functionality":{js:"2.3.0"}}},"horizon-blend":{type:"number","property-type":"data-constant","default":.1,
minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Horizon blend applies a smooth fade from the color of the fog to the color of the sky. A value of zero leaves a sharp transition from fog to sky. Increasing the value blends the color of fog into increasingly high angles of the sky.","sdk-support":{"basic functionality":{js:"2.3.0"}}}},light:{anchor:{type:"enum","default":"viewport",values:{map:{doc:"The position of the light source is aligned to the rotation of the map."},
viewport:{doc:"The position of the light source is aligned to the rotation of the viewport."}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]},doc:"Whether extruded geometries are lit relative to the map or viewport.",example:"map","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},position:{type:"array","default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,
parameters:["zoom"]},doc:"Position of the light source relative to lit (extruded) geometries, in [r radial coordinate, a azimuthal angle, p polar angle] where r indicates the distance from the center of the base of an object to its light, a indicates the position of the light relative to 0 (0 when `light.anchor` is set to `viewport` corresponds to the top of the viewport, or 0 when `light.anchor` is set to `map` corresponds to due north, and degrees proceed clockwise), and p indicates the height of the light (from 0, directly above, to 180, directly below).",
example:[1.5,90,80],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Color tint for lighting extruded geometries.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,
parameters:["zoom"]},transition:!0,doc:"Intensity of lighting (on a scale from 0 to 1). Higher numbers will present as more extreme contrast.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}}}},projection:{name:{type:"enum",values:{albers:{doc:"An Albers equal-area projection centered on the continental United States. You can configure the projection for a different region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},
equalEarth:{doc:"An Equal Earth projection."},equirectangular:{doc:"An Equirectangular projection. This projection is very similar to the Plate Carre projection."},lambertConformalConic:{doc:"A Lambert conformal conic projection. You can configure the projection for a region by setting `center` and `parallels` properties. You may want to set max bounds to constrain the map to the relevant region."},mercator:{doc:"The Mercator projection is the default projection."},naturalEarth:{doc:"A Natural Earth projection."},
winkelTripel:{doc:"A Winkel Tripel projection."}},"default":"mercator",doc:"The name of the projection to be used for rendering the map.",required:!0,"sdk-support":{"basic functionality":{js:"2.6.0"}}},center:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,doc:"The reference longitude and latitude of the projection. `center` takes the form of [lng, lat]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic). All other projections are centered on [0, 0].",
example:[-96,37.5],requires:[{name:["albers","lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",transition:!1,doc:"The standard parallels of the projection, denoting the desired latitude range with minimal distortion. `parallels` takes the form of [lat0, lat1]. This property is only configurable for conic projections (Albers and Lambert Conformal Conic).",example:[29.5,45.5],requires:[{name:["albers",
"lambertConformalConic"]}],"sdk-support":{"basic functionality":{js:"2.6.0"}}}},terrain:{source:{type:"string",doc:"Name of a source of `raster_dem` type to be used for terrain elevation.",required:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,doc:"Exaggerates the elevation of the terrain by multiplying the data from the DEM with this value.",
"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}}}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,doc:"Whether or not the fill should be antialiased.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},
"fill-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill layer. In contrast to the `fill-color`, this value will also affect the 1px stroke around the fill, if the stroke is used.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.21.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"fill-color":{type:"color","default":"#000000",doc:"The color of the filled part of this layer. This color can be specified as `rgba` with an alpha component and the color's opacity will not affect the opacity of the 1px stroke, if it is used.",transition:!0,requires:[{"!":"fill-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom",
"feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",doc:"The outline color of the fill. Matches the value of `fill-color` if unspecified.",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.19.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{doc:"The fill is translated relative to the map."},viewport:{doc:"The fill is translated relative to the viewport."}},
doc:"Controls the frame of reference for `fill-translate`.","default":"map",requires:["fill-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire fill extrusion layer. This is rendered on a per-layer, not per-feature, basis, and data-driven styling is not available.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",doc:"The base color of the extruded fill. The extrusion's surfaces will be shaded differently based on this color in combination with the root `light` settings. If this color is specified as `rgba` with an alpha component, the alpha component will be ignored; use `fill-extrusion-opacity` to set layer opacity.",
transition:!0,requires:[{"!":"fill-extrusion-pattern"}],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up (on the flat plane), respectively.",
"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{doc:"The fill extrusion is translated relative to the map."},viewport:{doc:"The fill extrusion is translated relative to the viewport."}},doc:"Controls the frame of reference for `fill-extrusion-translate`.","default":"map",requires:["fill-extrusion-translate"],"sdk-support":{"basic functionality":{js:"0.27.0",
android:"5.1.0",ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing images on extruded fills. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude this layer.",transition:!0,"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",
macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",doc:"The height with which to extrude the base of this layer. Must be less than or equal to `fill-extrusion-height`.",transition:!0,requires:["fill-extrusion-height"],"sdk-support":{"basic functionality":{js:"0.27.0",android:"5.1.0",ios:"3.6.0",macos:"0.5.0"},"data-driven styling":{js:"0.27.0",android:"5.1.0",
ios:"3.6.0",macos:"0.5.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,doc:"Whether to apply a vertical gradient to the sides of a fill-extrusion layer. If true, sides will be shaded slightly darker farther down.",transition:!1,"sdk-support":{"basic functionality":{js:"0.50.0",android:"7.0.0",ios:"4.7.0",macos:"0.13.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},
paint_line:{"line-opacity":{type:"number",doc:"The opacity at which the line will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",doc:"The color with which the line will be drawn.","default":"#000000",
transition:!0,requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.23.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{doc:"The line is translated relative to the map."},viewport:{doc:"The line is translated relative to the viewport."}},doc:"Controls the frame of reference for `line-translate`.","default":"map",requires:["line-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",doc:"Stroke thickness.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",
"default":0,minimum:0,doc:"Draws a line casing outside of a line's actual path. Value indicates the width of the inner gap.",transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,doc:"The line's offset. For linear features, a positive value offsets the line to the right, relative to the direction of the line, and a negative value to the left. For polygon features, a positive value results in an inset, and a negative value results in an outset.",
transition:!0,units:"pixels","sdk-support":{"basic functionality":{js:"0.12.1",android:"3.0.0",ios:"3.1.0",macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Blur applied to the line, in pixels.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",
macos:"0.1.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",doc:"Specifies the lengths of the alternating dashes and gaps that form the dash pattern. The lengths are later scaled by the line width. To convert a dash length to pixels, multiply the length by the current line width. Note that GeoJSON sources with `lineMetrics: true` specified won't render dashed lines to the expected scale. Also note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"2.3.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing image lines. For seamless patterns, image width must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.49.0",android:"6.5.0",macos:"0.11.0",ios:"4.4.0"}},expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",doc:'Defines a gradient with which to color a line feature. Can only be used with GeoJSON sources that specify `"lineMetrics": true`.',transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",
has:{lineMetrics:!0}}],"sdk-support":{"basic functionality":{js:"0.45.0",android:"6.5.0",ios:"4.4.0",macos:"0.11.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",doc:"Circle radius.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",
macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color","default":"#000000",doc:"The fill color of the circle.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.18.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",
"default":0,doc:"Amount to blur the circle. 1 blurs the circle such that only the centerpoint is full opacity.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",doc:"The opacity at which the circle will be drawn.","default":1,
minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.20.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"The geometry's offset. Values are [x, y] where negatives indicate left and up, respectively.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{doc:"The circle is translated relative to the map."},viewport:{doc:"The circle is translated relative to the viewport."}},doc:"Controls the frame of reference for `circle-translate`.","default":"map",requires:["circle-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{doc:"Circles are scaled according to their apparent distance to the camera."},viewport:{doc:"Circles are not scaled."}},"default":"map",doc:"Controls the scaling behavior of the circle when the map is pitched.","sdk-support":{"basic functionality":{js:"0.21.0",android:"4.2.0",ios:"3.4.0",macos:"0.2.1"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{doc:"The circle is aligned to the plane of the map."},viewport:{doc:"The circle is aligned to the plane of the viewport."}},"default":"viewport",doc:"Orientation of circle when map is pitched.","sdk-support":{"basic functionality":{js:"0.39.0",android:"5.2.0",ios:"3.7.0",macos:"0.6.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",doc:"The width of the circle's stroke. Strokes are placed outside of the `circle-radius`.","sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",doc:"The stroke color of the circle.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",doc:"The opacity of the circle's stroke.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"},
"data-driven styling":{js:"0.29.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",doc:"Radius of influence of one heatmap point in pixels. Increasing the value makes the heatmap smoother, but less detailed. `queryRenderedFeatures` on heatmap layers will return points within this radius.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,transition:!1,doc:"A measure of how much an individual point contributes to the heatmap. A value of 10 would be equivalent to having 10 points of weight 1 in the same spot. Especially useful when combined with clustering.",
"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,doc:"Similar to `heatmap-weight` but controls the intensity of the heatmap globally. Primarily used for adjusting the heatmap based on zoom level.","sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],doc:'Defines the color of each pixel based on its density value in a heatmap.  Should be an expression that uses `["heatmap-density"]` as input.',transition:!1,"sdk-support":{"basic functionality":{js:"0.41.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",doc:"The global opacity at which the heatmap layer will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.41.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{doc:"The opacity at which the icon will be drawn.",
type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,doc:"The color of the icon. This can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the icon's halo. Icon halos can only be used with [SDF icons](/help/troubleshooting/using-recolorable-images-in-mapbox-maps/).",
requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the icon outline.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Fade out the halo towards the outside.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the icon's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["icon-image"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{doc:"Icons are translated relative to the map."},viewport:{doc:"Icons are translated relative to the viewport."}},doc:"Controls the frame of reference for `icon-translate`.","default":"map",requires:["icon-image","icon-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",doc:"The opacity at which the text will be drawn.","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",
doc:"The color with which the text will be drawn.","default":"#000000",transition:!0,overridable:!0,requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,doc:"The color of the text's halo, which helps it stand out from backgrounds.",
requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"Distance of halo to the font outline. Max text halo width is 1/4 of the font-size.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",doc:"The halo's fadeout distance towards the outside.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{js:"0.33.0",
android:"5.0.0",ios:"3.5.0",macos:"0.4.0"}},expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",doc:"Distance that the text's anchor is moved from its original placement. Positive values indicate right and down, while negative values indicate left and up.",requires:["text-field"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",
ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{doc:"The text is translated relative to the map."},viewport:{doc:"The text is translated relative to the viewport."}},doc:"Controls the frame of reference for `text-translate`.","default":"map",requires:["text-field","text-translate"],"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",doc:"The opacity at which the image will be drawn.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",doc:"Rotates hues around the color wheel.",
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the minimum brightness.","default":0,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"raster-brightness-max":{type:"number",doc:"Increase or reduce the brightness of the image. The value is the maximum brightness.","default":1,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",doc:"Increase or reduce the saturation of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",doc:"Increase or reduce the contrast of the image.","default":0,minimum:-1,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",doc:"The resampling/interpolation method to use for overscaling, also known as texture magnification filter",
values:{linear:{doc:"(Bi)linear filtering interpolates pixel values using the weighted average of the four closest original source pixels creating a smooth but blurry look when overscaled"},nearest:{doc:"Nearest neighbor filtering interpolates pixel values using the nearest original source pixel creating a sharp but pixelated look when overscaled"}},"default":"linear","sdk-support":{"basic functionality":{js:"0.47.0",android:"6.3.0",ios:"4.2.0",macos:"0.9.0"}},expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",doc:"Fade duration when a new tile is added.","sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,doc:"The direction of the light source used to generate the hillshading with 0 as the top of the viewport if `hillshade-illumination-anchor` is set to `viewport` and due north if `hillshade-illumination-anchor` is set to `map`.",
transition:!1,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{doc:"The hillshade illumination is relative to the north direction."},viewport:{doc:"The hillshade illumination is relative to the top of the viewport."}},"default":"viewport",doc:"Direction of light source when map is rotated.","sdk-support":{"basic functionality":{js:"0.43.0",
android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",doc:"Intensity of the hillshade","default":.5,minimum:0,maximum:1,transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",doc:"The shading color of areas that face away from the light source.",
transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",doc:"The shading color of areas that faces towards the light source.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},
"hillshade-accent-color":{type:"color","default":"#000000",doc:"The shading color used to accentuate rugged terrain like sharp cliffs and gorges.",transition:!0,"sdk-support":{"basic functionality":{js:"0.43.0",android:"6.0.0",ios:"4.0.0",macos:"0.7.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",doc:"The color with which the background will be drawn.",transition:!0,requires:[{"!":"background-pattern"}],
"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,doc:"Name of image in sprite to use for drawing an image background. For seamless patterns, image width and height must be a factor of two (2, 4, 8, ..., 512). Note that zoom-dependent expressions will be evaluated only at integer zoom levels.","sdk-support":{"basic functionality":{js:"0.10.0",
android:"2.0.1",ios:"2.0.0",macos:"0.1.0"},"data-driven styling":{}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity at which the background will be drawn.",transition:!0,"sdk-support":{"basic functionality":{js:"0.10.0",android:"2.0.1",ios:"2.0.0",macos:"0.1.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{doc:"Renders the sky with a gradient that can be configured with `sky-gradient-radius` and `sky-gradient`."},
atmosphere:{doc:"Renders the sky with a simulated atmospheric scattering algorithm, the sun direction can be attached to the light position or explicitly set through `sky-atmosphere-sun`."}},"default":"atmosphere",doc:"The type of the sky","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,
180],transition:!1,doc:"Position of the sun center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the sun relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the sun, where 0 is directly above, at zenith, and 90 at the horizon. When this property is ommitted, the sun center is directly inherited from the light position.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},requires:[{"sky-type":"atmosphere"}],
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,doc:"Intensity of the sun as a light source in the atmosphere (on a scale from 0 to a 100). Setting higher values will brighten up the sky.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-gradient-center":{type:"array",
requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,doc:"Position of the gradient center [a azimuthal angle, p polar angle]. The azimuthal angle indicates the position of the gradient center relative to 0 north, where degrees proceed clockwise. The polar angle indicates the height of the gradient center, where 0 is directly above, at zenith, and 90 at the horizon.","sdk-support":{"basic functionality":{js:"2.0.0",
ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,doc:"The angular distance (measured in degrees) from `sky-gradient-center` up to which the gradient extends. A value of 180 causes the gradient to wrap around to the opposite direction from `sky-gradient-center`.","sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",
android:"10.0.0"}},expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],doc:"Defines a radial color gradient with which to color the sky. The color values can be interpolated with an expression using `sky-radial-progress`. The range [0, 1] for the interpolant covers a radial distance (in degrees) of [0, `sky-gradient-radius`] centered at the position specified by `sky-gradient-center`.",
transition:!1,requires:[{"sky-type":"gradient"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"},"data-driven styling":{}},expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color","default":"white",doc:"A color applied to the atmosphere sun halo. The alpha channel describes how strongly the sun halo is represented in an atmosphere sky layer.",transition:!1,requires:[{"sky-type":"atmosphere"}],
"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",doc:"A color used to tweak the main atmospheric scattering coefficients. Using white applies the default coefficients giving the natural blue color to the atmosphere. This color affects how heavily the corresponding wavelength is represented during scattering. The alpha channel describes the density of the atmosphere, with 1 maximum density and 0 no density.",
transition:!1,requires:[{"sky-type":"atmosphere"}],"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},"property-type":"data-constant"},"sky-opacity":{type:"number","default":1,minimum:0,maximum:1,doc:"The opacity of the entire sky layer.",transition:!0,"sdk-support":{"basic functionality":{js:"2.0.0",ios:"10.0.0",android:"10.0.0"}},expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,
units:"milliseconds",doc:"Time allotted for transitions to complete."},delay:{type:"number","default":0,minimum:0,units:"milliseconds",doc:"Length of time before a transition begins."}},"property-type":{"data-driven":{type:"property-type",doc:"Property is interpolable and can be represented using a property expression."},"cross-faded":{type:"property-type",doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms."},"cross-faded-data-driven":{type:"property-type",
doc:"Property is non-interpolable; rather, its values will be cross-faded to smoothly transition between integer zooms. It can be represented using a property expression."},"color-ramp":{type:"property-type",doc:"Property should be specified using a color ramp from which the output color can be sampled based on a property calculation."},"data-constant":{type:"property-type",doc:"Property is interpolable but cannot be represented using a property expression."},constant:{type:"property-type",doc:"Property is constant across all zoom levels and property values."}},
promoteId:{"*":{type:"string",doc:"A name of a feature property to use as ID for feature state."}}},Uc=/("(?:[^\\"]|\\.)*")|[:,]/g,ie=function(K,Z){Z=Z||{};var wa=JSON.stringify([1],void 0,void 0===Z.indent?2:Z.indent).slice(2,-3);var Ta=""===wa?Infinity:void 0===Z.maxLength?80:Z.maxLength;var pb=Z.replacer;return function Pc(Xb,Hc,Vc){Xb&&"function"===typeof Xb.toJSON&&(Xb=Xb.toJSON());var Dd=JSON.stringify(Xb,pb);if(void 0===Dd)return Dd;Vc=Ta-Hc.length-Vc;if(Dd.length<=Vc){var Rd=Dd.replace(Uc,
function(Hf,hg){return hg||Hf+" "});if(Rd.length<=Vc)return Rd}null!=pb&&(Xb=JSON.parse(Dd),pb=void 0);if("object"===typeof Xb&&null!==Xb){var Ve=Hc+wa;var He=[];var Jf=0;if(Array.isArray(Xb)){var Pd="[";Rd="]";for(Vc=Xb.length;Jf<Vc;Jf++)He.push(Pc(Xb[Jf],Ve,Jf===Vc-1?0:1)||"null")}else{Pd="{";Rd="}";var ge=Object.keys(Xb);for(Vc=ge.length;Jf<Vc;Jf++){var Je=ge[Jf];var Pe=JSON.stringify(Je)+": ";Je=Pc(Xb[Je],Ve,Pe.length+(Jf===Vc-1?0:1));void 0!==Je&&He.push(Pe+Je)}}if(0<He.length)return[Pd,wa+He.join(",\n"+
Ve),Rd].join("\n"+Hc)}return Dd}(K,"",0)},oe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof ra?ra:"undefined"!==typeof self?self:{},Vd=A(function(K,Z){(function(wa){function Ta(Ue){throw RangeError(Je[Ue]);}function pb(Ue,nf){for(var Yf=Ue.length,ff=[];Yf--;)ff[Yf]=nf(Ue[Yf]);return ff}function Db(Ue,nf){var Yf=Ue.split("@"),ff="";1<Yf.length&&(ff=Yf[0]+"@",Ue=Yf[1]);Ue=Ue.replace(ge,".");Ue=Ue.split(".");nf=pb(Ue,nf).join(".");return ff+nf}function Xb(Ue){for(var nf=
[],Yf=0,ff=Ue.length,yg,Ng;Yf<ff;)yg=Ue.charCodeAt(Yf++),55296<=yg&&56319>=yg&&Yf<ff?(Ng=Ue.charCodeAt(Yf++),56320==(Ng&64512)?nf.push(((yg&1023)<<10)+(Ng&1023)+65536):(nf.push(yg),Yf--)):nf.push(yg);return nf}function Hc(Ue){return pb(Ue,function(nf){var Yf="";65535<nf&&(nf-=65536,Yf+=Hf(nf>>>10&1023|55296),nf=56320|nf&1023);return Yf+=Hf(nf)}).join("")}function Vc(Ue,nf,Yf){var ff=0;Ue=Yf?Pe(Ue/700):Ue>>1;for(Ue+=Pe(Ue/nf);455<Ue;ff+=36)Ue=Pe(Ue/35);return Pe(ff+36*Ue/(Ue+38))}function Pc(Ue){var nf=
[],Yf=Ue.length,ff=0,yg=128,Ng=72,Sg,Qf;var pg=Ue.lastIndexOf("-");0>pg&&(pg=0);for(Sg=0;Sg<pg;++Sg)128<=Ue.charCodeAt(Sg)&&Ta("not-basic"),nf.push(Ue.charCodeAt(Sg));for(pg=0<pg?pg+1:0;pg<Yf;){Sg=ff;var lf=1;for(Qf=36;;Qf+=36){pg>=Yf&&Ta("invalid-input");var Nf=Ue.charCodeAt(pg++);Nf=10>Nf-48?Nf-22:26>Nf-65?Nf-65:26>Nf-97?Nf-97:36;(36<=Nf||Nf>Pe((2147483647-ff)/lf))&&Ta("overflow");ff+=Nf*lf;var wh=Qf<=Ng?1:Qf>=Ng+26?26:Qf-Ng;if(Nf<wh)break;Nf=36-wh;lf>Pe(2147483647/Nf)&&Ta("overflow");lf*=Nf}lf=
nf.length+1;Ng=Vc(ff-Sg,lf,0==Sg);Pe(ff/lf)>2147483647-yg&&Ta("overflow");yg+=Pe(ff/lf);ff%=lf;nf.splice(ff++,0,yg)}return Hc(nf)}function Dd(Ue){var nf,Yf,ff,yg=[];Ue=Xb(Ue);var Ng=Ue.length;var Sg=128;var Qf=0;var pg=72;for(ff=0;ff<Ng;++ff){var lf=Ue[ff];128>lf&&yg.push(Hf(lf))}for((nf=Yf=yg.length)&&yg.push("-");nf<Ng;){var Nf=2147483647;for(ff=0;ff<Ng;++ff)lf=Ue[ff],lf>=Sg&&lf<Nf&&(Nf=lf);var wh=nf+1;Nf-Sg>Pe((2147483647-Qf)/wh)&&Ta("overflow");Qf+=(Nf-Sg)*wh;Sg=Nf;for(ff=0;ff<Ng;++ff)if(lf=Ue[ff],
lf<Sg&&2147483647<++Qf&&Ta("overflow"),lf==Sg){var qg=Qf;for(Nf=36;;Nf+=36){lf=Nf<=pg?1:Nf>=pg+26?26:Nf-pg;if(qg<lf)break;var Oh=qg-lf;qg=36-lf;var Jh=yg;lf+=Oh%qg;Jh.push.call(Jh,Hf(lf+22+75*(26>lf)-0));qg=Pe(Oh/qg)}yg.push(Hf(qg+22+75*(26>qg)-0));pg=Vc(Qf,wh,nf==Yf);Qf=0;++nf}++Qf;++Sg}return yg.join("")}var Rd=Z&&!Z.nodeType&&Z,Ve=K&&!K.nodeType&&K,He="object"==typeof oe&&oe;if(He.global===He||He.window===He||He.self===He)wa=He;var Jf=/^xn--/,Pd=/[^\x20-\x7E]/,ge=/[\x2E\u3002\uFF0E\uFF61]/g,Je=
{overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input \x3e\x3d 0x80 (not a basic code point)","invalid-input":"Invalid input"},Pe=Math.floor,Hf=String.fromCharCode,hg;He={version:"1.3.2",ucs2:{decode:Xb,encode:Hc},decode:Pc,encode:Dd,toASCII:function(Ue){return Db(Ue,function(nf){return Pd.test(nf)?"xn--"+Dd(nf):nf})},toUnicode:function(Ue){return Db(Ue,function(nf){return Jf.test(nf)?Pc(nf.slice(4).toLowerCase()):nf})}};if(Rd&&Ve)if(K.exports==Rd)Ve.exports=He;else for(hg in He)He.hasOwnProperty(hg)&&
(Rd[hg]=He[hg]);else wa.punycode=He})(oe)}),Qd={isString:function(K){return"string"===typeof K},isObject:function(K){return"object"===typeof K&&null!==K},isNull:function(K){return null===K},isNullOrUndefined:function(K){return null==K}},se=function(K,Z,wa,Ta){wa=wa||"\x3d";var pb={};if("string"!==typeof K||0===K.length)return pb;var Db=/\+/g;K=K.split(Z||"\x26");Z=1E3;Ta&&"number"===typeof Ta.maxKeys&&(Z=Ta.maxKeys);Ta=K.length;0<Z&&Ta>Z&&(Ta=Z);for(Z=0;Z<Ta;++Z){var Xb=K[Z].replace(Db,"%20"),Hc=
Xb.indexOf(wa);if(0<=Hc){var Vc=Xb.substr(0,Hc);Xb=Xb.substr(Hc+1)}else Vc=Xb,Xb="";Vc=decodeURIComponent(Vc);Xb=decodeURIComponent(Xb);Object.prototype.hasOwnProperty.call(pb,Vc)?Array.isArray(pb[Vc])?pb[Vc].push(Xb):pb[Vc]=[pb[Vc],Xb]:pb[Vc]=Xb}return pb},cf=function(K){switch(typeof K){case "string":return K;case "boolean":return K?"true":"false";case "number":return isFinite(K)?K:"";default:return""}},qf=function(K,Z,wa,Ta){Z=Z||"\x26";wa=wa||"\x3d";null===K&&(K=void 0);return"object"===typeof K?
Object.keys(K).map(function(pb){var Db=encodeURIComponent(cf(pb))+wa;return Array.isArray(K[pb])?K[pb].map(function(Xb){return Db+encodeURIComponent(cf(Xb))}).join(Z):Db+encodeURIComponent(cf(K[pb]))}).join(Z):Ta?encodeURIComponent(cf(Ta))+wa+encodeURIComponent(cf(K)):""},ua=A(function(K,Z){Z.decode=Z.parse=se;Z.encode=Z.stringify=qf}),vb=/^([a-z0-9.+-]+:)/i,Oa=/:[0-9]*$/,ic=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,la="{}|\\^`".split("").concat('\x3c\x3e"` \r\n\t'.split("")),Qa=["'"].concat(la),fb=["%",
"/","?",";","#"].concat(Qa),xb=["/","?","#"],Fb=/^[+a-z0-9A-Z_-]{0,63}$/,ac=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yc={javascript:!0,"javascript:":!0},Zc={javascript:!0,"javascript:":!0},ad={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};m.prototype.parse=function(K,Z,wa){if(!Qd.isString(K))throw new TypeError("Parameter 'url' must be a string, not "+typeof K);var Ta=K.indexOf("?");Ta=-1!==Ta&&Ta<K.indexOf("#")?"?":"#";K=K.split(Ta);K[0]=K[0].replace(/\\/g,
"/");K=K.join(Ta);Ta=K.trim();if(!wa&&1===K.split("#").length&&(K=ic.exec(Ta)))return this.href=this.path=Ta,this.pathname=K[1],K[2]?(this.search=K[2],this.query=Z?ua.parse(this.search.substr(1)):this.search.substr(1)):Z&&(this.search="",this.query={}),this;if(K=vb.exec(Ta)){K=K[0];var pb=K.toLowerCase();this.protocol=pb;Ta=Ta.substr(K.length)}if(wa||K||Ta.match(/^\/\/[^@\/]+@[^@\/]+/)){var Db="//"===Ta.substr(0,2);!Db||K&&Zc[K]||(Ta=Ta.substr(2),this.slashes=!0)}if(!Zc[K]&&(Db||K&&!ad[K])){Db=-1;
for(wa=0;wa<xb.length;wa++)K=Ta.indexOf(xb[wa]),-1!==K&&(-1===Db||K<Db)&&(Db=K);Db=-1===Db?Ta.lastIndexOf("@"):Ta.lastIndexOf("@",Db);-1!==Db&&(wa=Ta.slice(0,Db),Ta=Ta.slice(Db+1),this.auth=decodeURIComponent(wa));Db=-1;for(wa=0;wa<fb.length;wa++)K=Ta.indexOf(fb[wa]),-1!==K&&(-1===Db||K<Db)&&(Db=K);-1===Db&&(Db=Ta.length);this.host=Ta.slice(0,Db);Ta=Ta.slice(Db);this.parseHost();this.hostname=this.hostname||"";Db="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Db){var Xb=this.hostname.split(/\./);
wa=0;for(K=Xb.length;wa<K;wa++){var Hc=Xb[wa];if(Hc&&!Hc.match(Fb)){for(var Vc="",Pc=0,Dd=Hc.length;Pc<Dd;Pc++)Vc=127<Hc.charCodeAt(Pc)?Vc+"x":Vc+Hc[Pc];if(!Vc.match(Fb)){K=Xb.slice(0,wa);wa=Xb.slice(wa+1);if(Hc=Hc.match(ac))K.push(Hc[1]),wa.unshift(Hc[2]);wa.length&&(Ta="/"+wa.join(".")+Ta);this.hostname=K.join(".");break}}}}this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase();Db||(this.hostname=Vd.toASCII(this.hostname));wa=this.port?":"+this.port:"";this.host=(this.hostname||"")+
wa;this.href+=this.host;Db&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==Ta[0]&&(Ta="/"+Ta))}if(!yc[pb])for(wa=0,K=Qa.length;wa<K;wa++)Db=Qa[wa],-1!==Ta.indexOf(Db)&&(Hc=encodeURIComponent(Db),Hc===Db&&(Hc=escape(Db)),Ta=Ta.split(Db).join(Hc));wa=Ta.indexOf("#");-1!==wa&&(this.hash=Ta.substr(wa),Ta=Ta.slice(0,wa));wa=Ta.indexOf("?");-1!==wa?(this.search=Ta.substr(wa),this.query=Ta.substr(wa+1),Z&&(this.query=ua.parse(this.query)),Ta=Ta.slice(0,wa)):Z&&(this.search="",this.query=
{});Ta&&(this.pathname=Ta);ad[pb]&&this.hostname&&!this.pathname&&(this.pathname="/");if(this.pathname||this.search)wa=this.pathname||"",this.path=wa+(this.search||"");this.href=this.format();return this};m.prototype.format=function(){var K=this.auth||"";K&&(K=encodeURIComponent(K),K=K.replace(/%3A/i,":"),K+="@");var Z=this.protocol||"",wa=this.pathname||"",Ta=this.hash||"",pb=!1,Db="";this.host?pb=K+this.host:this.hostname&&(pb=K+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),
this.port&&(pb+=":"+this.port));this.query&&Qd.isObject(this.query)&&Object.keys(this.query).length&&(Db=ua.stringify(this.query));K=this.search||Db&&"?"+Db||"";Z&&":"!==Z.substr(-1)&&(Z+=":");this.slashes||(!Z||ad[Z])&&!1!==pb?(pb="//"+(pb||""),wa&&"/"!==wa.charAt(0)&&(wa="/"+wa)):pb||(pb="");Ta&&"#"!==Ta.charAt(0)&&(Ta="#"+Ta);K&&"?"!==K.charAt(0)&&(K="?"+K);wa=wa.replace(/[?#]/g,function(Xb){return encodeURIComponent(Xb)});K=K.replace("#","%23");return Z+pb+wa+K+Ta};m.prototype.resolve=function(K){return this.resolveObject(l(K,
!1,!0)).format()};m.prototype.resolveObject=function(K){if(Qd.isString(K)){var Z=new m;Z.parse(K,!1,!0);K=Z}Z=new m;for(var wa=Object.keys(this),Ta=0;Ta<wa.length;Ta++){var pb=wa[Ta];Z[pb]=this[pb]}Z.hash=K.hash;if(""===K.href)return Z.href=Z.format(),Z;if(K.slashes&&!K.protocol){wa=Object.keys(K);for(Ta=0;Ta<wa.length;Ta++)pb=wa[Ta],"protocol"!==pb&&(Z[pb]=K[pb]);ad[Z.protocol]&&Z.hostname&&!Z.pathname&&(Z.path=Z.pathname="/");Z.href=Z.format();return Z}if(K.protocol&&K.protocol!==Z.protocol){if(!ad[K.protocol]){wa=
Object.keys(K);for(Ta=0;Ta<wa.length;Ta++)pb=wa[Ta],Z[pb]=K[pb];Z.href=Z.format();return Z}Z.protocol=K.protocol;if(K.host||Zc[K.protocol])Z.pathname=K.pathname;else{for(var Db=(K.pathname||"").split("/");Db.length&&!(K.host=Db.shift()););K.host||(K.host="");K.hostname||(K.hostname="");""!==Db[0]&&Db.unshift("");2>Db.length&&Db.unshift("");Z.pathname=Db.join("/")}Z.search=K.search;Z.query=K.query;Z.host=K.host||"";Z.auth=K.auth;Z.hostname=K.hostname||K.host;Z.port=K.port;if(Z.pathname||Z.search)Z.path=
(Z.pathname||"")+(Z.search||"");Z.slashes=Z.slashes||K.slashes;Z.href=Z.format();return Z}wa=Z.pathname&&"/"===Z.pathname.charAt(0);var Xb=K.host||K.pathname&&"/"===K.pathname.charAt(0),Hc=wa=Xb||wa||Z.host&&K.pathname;Ta=Z.pathname&&Z.pathname.split("/")||[];Db=K.pathname&&K.pathname.split("/")||[];if(pb=Z.protocol&&!ad[Z.protocol])Z.hostname="",Z.port=null,Z.host&&(""===Ta[0]?Ta[0]=Z.host:Ta.unshift(Z.host)),Z.host="",K.protocol&&(K.hostname=null,K.port=null,K.host&&(""===Db[0]?Db[0]=K.host:Db.unshift(K.host)),
K.host=null),wa=wa&&(""===Db[0]||""===Ta[0]);if(Xb)Z.host=K.host||""===K.host?K.host:Z.host,Z.hostname=K.hostname||""===K.hostname?K.hostname:Z.hostname,Z.search=K.search,Z.query=K.query,Ta=Db;else if(Db.length)Ta||(Ta=[]),Ta.pop(),Ta=Ta.concat(Db),Z.search=K.search,Z.query=K.query;else if(!Qd.isNullOrUndefined(K.search))return pb&&(Z.hostname=Z.host=Ta.shift(),pb=Z.host&&0<Z.host.indexOf("@")?Z.host.split("@"):!1)&&(Z.auth=pb.shift(),Z.host=Z.hostname=pb.shift()),Z.search=K.search,Z.query=K.query,
Qd.isNull(Z.pathname)&&Qd.isNull(Z.search)||(Z.path=(Z.pathname?Z.pathname:"")+(Z.search?Z.search:"")),Z.href=Z.format(),Z;if(!Ta.length)return Z.pathname=null,Z.path=Z.search?"/"+Z.search:null,Z.href=Z.format(),Z;Xb=Ta.slice(-1)[0];Db=(Z.host||K.host||1<Ta.length)&&("."===Xb||".."===Xb)||""===Xb;for(var Vc=0,Pc=Ta.length;0<=Pc;Pc--)Xb=Ta[Pc],"."===Xb?Ta.splice(Pc,1):".."===Xb?(Ta.splice(Pc,1),Vc++):Vc&&(Ta.splice(Pc,1),Vc--);if(!wa&&!Hc)for(;Vc--;Vc)Ta.unshift("..");!wa||""===Ta[0]||Ta[0]&&"/"===
Ta[0].charAt(0)||Ta.unshift("");Db&&"/"!==Ta.join("/").substr(-1)&&Ta.push("");Hc=""===Ta[0]||Ta[0]&&"/"===Ta[0].charAt(0);pb&&(Z.hostname=Z.host=Hc?"":Ta.length?Ta.shift():"",pb=Z.host&&0<Z.host.indexOf("@")?Z.host.split("@"):!1)&&(Z.auth=pb.shift(),Z.host=Z.hostname=pb.shift());(wa=wa||Z.host&&Ta.length)&&!Hc&&Ta.unshift("");Ta.length?Z.pathname=Ta.join("/"):(Z.pathname=null,Z.path=null);Qd.isNull(Z.pathname)&&Qd.isNull(Z.search)||(Z.path=(Z.pathname?Z.pathname:"")+(Z.search?Z.search:""));Z.auth=
K.auth||Z.auth;Z.slashes=Z.slashes||K.slashes;Z.href=Z.format();return Z};m.prototype.parseHost=function(){var K=this.host,Z=Oa.exec(K);Z&&(Z=Z[0],":"!==Z&&(this.port=Z.substr(1)),K=K.substr(0,K.length-Z.length));K&&(this.hostname=K)};var Lc={parse:l,resolve:function(K,Z){return l(K,!1,!0).resolve(Z)},resolveObject:function(K,Z){return K?l(K,!1,!0).resolveObject(Z):Z},format:function(K){Qd.isString(K)&&(K=l(K));return K instanceof m?K.format():m.prototype.format.call(K)},Url:m};class Ec extends Error{constructor(K,
Z){super(Z);this.message=Z;this.key=K}}class tc{constructor(K,Z=[]){this.parent=K;this.bindings={};for(const [wa,Ta]of Z)this.bindings[wa]=Ta}concat(K){return new tc(this,K)}get(K){if(this.bindings[K])return this.bindings[K];if(this.parent)return this.parent.get(K);throw Error(`${K} not found in scope.`);}has(K){return this.bindings[K]?!0:this.parent?this.parent.has(K):!1}}const Nc={kind:"null"},mc={kind:"number"},Qc={kind:"string"},jb={kind:"boolean"},Ib={kind:"color"},Qb={kind:"object"},Rb={kind:"value"},
na={kind:"collator"},Ma={kind:"formatted"},lb={kind:"resolvedImage"},Jb=[Nc,mc,Qc,jb,Ib,Ma,Qb,E(Rb),lb];var Nb=A(function(K,Z){function wa(Pc){Pc=Math.round(Pc);return 0>Pc?0:255<Pc?255:Pc}function Ta(Pc){return 0>Pc?0:1<Pc?1:Pc}function pb(Pc){return"%"===Pc[Pc.length-1]?wa(parseFloat(Pc)/100*255):wa(parseInt(Pc))}function Db(Pc){return"%"===Pc[Pc.length-1]?Ta(parseFloat(Pc)/100):Ta(parseFloat(Pc))}function Xb(Pc,Dd,Rd){0>Rd?Rd+=1:1<Rd&&--Rd;return 1>6*Rd?Pc+(Dd-Pc)*Rd*6:1>2*Rd?Dd:2>3*Rd?Pc+(Dd-
Pc)*(2/3-Rd)*6:Pc}function Hc(Pc){Pc=Pc.replace(/ /g,"").toLowerCase();if(Pc in Vc)return Vc[Pc].slice();if("#"===Pc[0])return 4===Pc.length?(Pc=parseInt(Pc.substr(1),16),0<=Pc&&4095>=Pc?[(Pc&3840)>>4|(Pc&3840)>>8,Pc&240|(Pc&240)>>4,Pc&15|(Pc&15)<<4,1]:null):7===Pc.length?(Pc=parseInt(Pc.substr(1),16),0<=Pc&&16777215>=Pc?[(Pc&16711680)>>16,(Pc&65280)>>8,Pc&255,1]:null):null;var Dd=Pc.indexOf("("),Rd=Pc.indexOf(")");if(-1!==Dd&&Rd+1===Pc.length){var Ve=Pc.substr(0,Dd);Dd=Pc.substr(Dd+1,Rd-(Dd+1)).split(",");
Pc=1;switch(Ve){case "rgba":if(4!==Dd.length)break;Pc=Db(Dd.pop());case "rgb":if(3!==Dd.length)break;return[pb(Dd[0]),pb(Dd[1]),pb(Dd[2]),Pc];case "hsla":if(4!==Dd.length)break;Pc=Db(Dd.pop());case "hsl":if(3===Dd.length)return Ve=(parseFloat(Dd[0])%360+360)%360/360,Rd=Db(Dd[1]),Dd=Db(Dd[2]),Rd=.5>=Dd?Dd*(Rd+1):Dd+Rd-Dd*Rd,Dd=2*Dd-Rd,[wa(255*Xb(Dd,Rd,Ve+1/3)),wa(255*Xb(Dd,Rd,Ve)),wa(255*Xb(Dd,Rd,Ve-1/3)),Pc]}}return null}var Vc={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,
215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,
134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,
105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,
240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,
0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,
0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,
105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,
1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{Z.parseCSSColor=Hc}catch(Pc){}});class Lb{constructor(K,Z,wa,Ta=1){this.r=K;this.g=Z;this.b=wa;this.a=Ta}static parse(K){if(K){if(K instanceof Lb)return K;if("string"===typeof K&&(K=Nb.parseCSSColor(K)))return new Lb(K[0]/255*K[3],K[1]/255*K[3],K[2]/255*K[3],K[3])}}toString(){const [K,Z,wa,Ta]=this.toArray();return`rgba(${Math.round(K)},${Math.round(Z)},${Math.round(wa)},${Ta})`}toArray(){const {r:K,
g:Z,b:wa,a:Ta}=this;return 0===Ta?[0,0,0,0]:[255*K/Ta,255*Z/Ta,255*wa/Ta,Ta]}}Lb.black=new Lb(0,0,0,1);Lb.white=new Lb(1,1,1,1);Lb.transparent=new Lb(0,0,0,0);Lb.red=new Lb(1,0,0,1);Lb.blue=new Lb(0,0,1,1);class pc{constructor(K,Z,wa){this.sensitivity=K?Z?"variant":"case":Z?"accent":"base";this.locale=wa;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(K,Z){return this.collator.compare(K,Z)}resolvedLocale(){return(new Intl.Collator(this.locale?
this.locale:[])).resolvedOptions().locale}}class Oc{constructor(K,Z,wa,Ta,pb){this.text=K.normalize?K.normalize():K;this.image=Z;this.scale=wa;this.fontStack=Ta;this.textColor=pb}}class zc{constructor(K){this.sections=K}static fromString(K){return new zc([new Oc(K,null,null,null,null)])}isEmpty(){return 0===this.sections.length?!0:!this.sections.some(K=>0!==K.text.length||K.image&&0!==K.image.name.length)}static factory(K){return K instanceof zc?K:zc.fromString(K)}toString(){return 0===this.sections.length?
"":this.sections.map(K=>K.text).join("")}serialize(){const K=["format"];for(const Z of this.sections){if(Z.image){K.push(["image",Z.image.name]);continue}K.push(Z.text);const wa={};Z.fontStack&&(wa["text-font"]=["literal",Z.fontStack.split(",")]);Z.scale&&(wa["font-scale"]=Z.scale);Z.textColor&&(wa["text-color"]=["rgba"].concat(Z.textColor.toArray()));K.push(wa)}return K}}class wc{constructor(K){this.name=K.name;this.available=K.available}toString(){return this.name}static fromString(K){return K?
new wc({name:K,available:!1}):null}serialize(){return["image",this.name]}}class od{constructor(K,Z){this.type=K;this.value=Z}static parse(K,Z){if(2!==K.length)return Z.error(`'literal' expression requires exactly one argument, but found ${K.length-1} instead.`);if(!O(K[1]))return Z.error("invalid value");K=K[1];let wa=V(K);Z=Z.expectedType;"array"!==wa.kind||0!==wa.N||!Z||"array"!==Z.kind||"number"===typeof Z.N&&0!==Z.N||(wa=Z);return new od(wa,K)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===
this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Lb?["rgba"].concat(this.value.toArray()):this.value instanceof zc?this.value.serialize():this.value}}class qd{constructor(K){this.name="ExpressionEvaluationError";this.message=K}toJSON(){return this.message}}const Fe={string:Qc,number:mc,boolean:jb,object:Qb};class Cd{constructor(K,Z){this.type=K;this.args=Z}static parse(K,Z){if(2>K.length)return Z.error("Expected at least one argument.");let wa=1;var Ta=K[0];if("array"===
Ta){if(2<K.length){Ta=K[1];if("string"!==typeof Ta||!(Ta in Fe)||"object"===Ta)return Z.error('The item type argument of "array" must be one of string, number, boolean',1);Ta=Fe[Ta];wa++}else Ta=Rb;if(3<K.length){if(null!==K[2]&&("number"!==typeof K[2]||0>K[2]||K[2]!==Math.floor(K[2])))return Z.error('The length argument to "array" must be a positive integer literal',2);var pb=K[2];wa++}pb=E(Ta,pb)}else pb=Fe[Ta];for(Ta=[];wa<K.length;wa++){const Db=Z.parse(K[wa],wa,Rb);if(!Db)return null;Ta.push(Db)}return new Cd(pb,
Ta)}evaluate(K){for(let Z=0;Z<this.args.length;Z++){const wa=this.args[Z].evaluate(K);if(!w(this.type,V(wa)))return wa;if(Z===this.args.length-1)throw new qd(`Expected value to be of type ${F(this.type)}, but found ${F(V(wa))} instead.`);}return null}eachChild(K){this.args.forEach(K)}outputDefined(){return this.args.every(K=>K.outputDefined())}serialize(){var K=this.type;const Z=[K.kind];if("array"===K.kind){const wa=K.itemType;if("string"===wa.kind||"number"===wa.kind||"boolean"===wa.kind)Z.push(wa.kind),
K=K.N,("number"===typeof K||1<this.args.length)&&Z.push(K)}return Z.concat(this.args.map(wa=>wa.serialize()))}}class je{constructor(K){this.type=Ma;this.sections=K}static parse(K,Z){if(2>K.length)return Z.error("Expected at least one argument.");var wa=K[1];if(!Array.isArray(wa)&&"object"===typeof wa)return Z.error("First argument must be an image or text section.");wa=[];var Ta=!1;for(let Xb=1;Xb<=K.length-1;++Xb){var pb=K[Xb];if(Ta&&"object"===typeof pb&&!Array.isArray(pb)){Ta=!1;var Db=null;if(pb["font-scale"]&&
(Db=Z.parse(pb["font-scale"],1,mc),!Db))return null;let Hc=null;if(pb["text-font"]&&(Hc=Z.parse(pb["text-font"],1,E(Qc)),!Hc))return null;let Vc=null;if(pb["text-color"]&&(Vc=Z.parse(pb["text-color"],1,Ib),!Vc))return null;pb=wa[wa.length-1];pb.scale=Db;pb.font=Hc;pb.textColor=Vc}else{Db=Z.parse(K[Xb],1,Rb);if(!Db)return null;Ta=Db.type.kind;if("string"!==Ta&&"value"!==Ta&&"null"!==Ta&&"resolvedImage"!==Ta)return Z.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ta=!0;wa.push({content:Db,
scale:null,font:null,textColor:null})}}return new je(wa)}evaluate(K){return new zc(this.sections.map(Z=>{const wa=Z.content.evaluate(K);return V(wa)===lb?new Oc("",wa,null,null,null):new Oc(S(wa),null,Z.scale?Z.scale.evaluate(K):null,Z.font?Z.font.evaluate(K).join(","):null,Z.textColor?Z.textColor.evaluate(K):null)}))}eachChild(K){for(const Z of this.sections)K(Z.content),Z.scale&&K(Z.scale),Z.font&&K(Z.font),Z.textColor&&K(Z.textColor)}outputDefined(){return!1}serialize(){const K=["format"];for(const Z of this.sections){K.push(Z.content.serialize());
const wa={};Z.scale&&(wa["font-scale"]=Z.scale.serialize());Z.font&&(wa["text-font"]=Z.font.serialize());Z.textColor&&(wa["text-color"]=Z.textColor.serialize());K.push(wa)}return K}}class ve{constructor(K){this.type=lb;this.input=K}static parse(K,Z){return 2!==K.length?Z.error("Expected two arguments."):(K=Z.parse(K[1],1,Qc))?new ve(K):Z.error("No image name provided.")}evaluate(K){const Z=this.input.evaluate(K),wa=wc.fromString(Z);wa&&K.availableImages&&(wa.available=-1<K.availableImages.indexOf(Z));
return wa}eachChild(K){K(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const xd={"to-boolean":jb,"to-color":Ib,"to-number":mc,"to-string":Qc};class Id{constructor(K,Z){this.type=K;this.args=Z}static parse(K,Z){if(2>K.length)return Z.error("Expected at least one argument.");var wa=K[0];if(("to-boolean"===wa||"to-string"===wa)&&2!==K.length)return Z.error("Expected one argument.");wa=xd[wa];const Ta=[];for(let pb=1;pb<K.length;pb++){const Db=Z.parse(K[pb],
pb,Rb);if(!Db)return null;Ta.push(Db)}return new Id(wa,Ta)}evaluate(K){if("boolean"===this.type.kind)return!!this.args[0].evaluate(K);if("color"===this.type.kind){for(const pb of this.args){var Z=pb.evaluate(K);var wa=null;if(Z instanceof Lb)return Z;if("string"===typeof Z){var Ta=K.parseColor(Z);if(Ta)return Ta}else if(Array.isArray(Z)&&(wa=3>Z.length||4<Z.length?`Invalid rbga value ${JSON.stringify(Z)}: expected an array containing either three or four numeric values.`:L(Z[0],Z[1],Z[2],Z[3]),!wa))return new Lb(Z[0]/
255,Z[1]/255,Z[2]/255,Z[3])}throw new qd(wa||`Could not parse color from value '${"string"===typeof Z?Z:String(JSON.stringify(Z))}'`);}if("number"===this.type.kind){Z=null;for(Ta of this.args){Z=Ta.evaluate(K);if(null===Z)return 0;wa=Number(Z);if(!isNaN(wa))return wa}throw new qd(`Could not convert ${JSON.stringify(Z)} to number.`);}return"formatted"===this.type.kind?zc.fromString(S(this.args[0].evaluate(K))):"resolvedImage"===this.type.kind?wc.fromString(S(this.args[0].evaluate(K))):S(this.args[0].evaluate(K))}eachChild(K){this.args.forEach(K)}outputDefined(){return this.args.every(K=>
K.outputDefined())}serialize(){if("formatted"===this.type.kind)return(new je([{content:this.args[0],scale:null,font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new ve(this.args[0])).serialize();const K=[`to-${this.type.kind}`];this.eachChild(Z=>{K.push(Z.serialize())});return K}}const te=["Unknown","Point","LineString","Polygon"];class ye{constructor(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.featureDistanceData=
this.featureTileCoord=this.canonical=this.availableImages=null}id(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"===typeof this.feature.type?te[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const K=
this.featureDistanceData.center,Z=this.featureDistanceData.scale,{x:wa,y:Ta}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(wa*Z-K[0])+this.featureDistanceData.bearing[1]*(Ta*Z-K[1])}return 0}parseColor(K){let Z=this._parseColorCache[K];Z||(Z=this._parseColorCache[K]=Lb.parse(K));return Z}}class vd{constructor(K,Z,wa,Ta){this.name=K;this.type=Z;this._evaluate=wa;this.args=Ta}evaluate(K){return this._evaluate(K,this.args)}eachChild(K){this.args.forEach(K)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(K=>
K.serialize()))}static parse(K,Z){var wa=K[0],Ta=vd.definitions[wa];if(!Ta)return Z.error(`Unknown expression "${wa}". If you wanted a literal array, use ["literal", [...]].`,0);var pb=Array.isArray(Ta)?Ta[0]:Ta.type;Ta=Array.isArray(Ta)?[[Ta[1],Ta[2]]]:Ta.overloads;var Db=Ta.filter(([Dd])=>!Array.isArray(Dd)||Dd.length===K.length-1);let Xb=null;for(const [Dd,Rd]of Db){Xb=new Lf(Z.registry,Z.path,null,Z.scope);const Ve=[];var Hc=!1;for(var Vc=1;Vc<K.length;Vc++){var Pc=K[Vc];const He=Array.isArray(Dd)?
Dd[Vc-1]:Dd.type;Pc=Xb.parse(Pc,1+Ve.length,He);if(!Pc){Hc=!0;break}Ve.push(Pc)}if(!Hc)if(Array.isArray(Dd)&&Dd.length!==Ve.length)Xb.error(`Expected ${Dd.length} arguments, but found ${Ve.length} instead.`);else{for(Hc=0;Hc<Ve.length;Hc++)Vc=Array.isArray(Dd)?Dd[Hc]:Dd.type,Pc=Ve[Hc],Xb.concat(Hc+1).checkSubtype(Vc,Pc.type);if(0===Xb.errors.length)return new vd(wa,pb,Rd,Ve)}}if(1===Db.length)Z.errors.push(...Xb.errors);else{wa=(Db.length?Db:Ta).map(([Dd])=>{Dd=Array.isArray(Dd)?`(${Dd.map(F).join(", ")})`:
`(${F(Dd.type)}...)`;return Dd}).join(" | ");pb=[];for(Ta=1;Ta<K.length;Ta++){Db=Z.parse(K[Ta],1+pb.length);if(!Db)return null;pb.push(F(Db.type))}Z.error(`Expected arguments of type ${wa}, but found (${pb.join(", ")}) instead.`)}return null}static register(K,Z){vd.definitions=Z;for(const wa in Z)K[wa]=vd}}class ef{constructor(K,Z,wa){this.type=na;this.locale=wa;this.caseSensitive=K;this.diacriticSensitive=Z}static parse(K,Z){if(2!==K.length)return Z.error("Expected one argument.");K=K[1];if("object"!==
typeof K||Array.isArray(K))return Z.error("Collator options argument must be an object.");const wa=Z.parse(void 0===K["case-sensitive"]?!1:K["case-sensitive"],1,jb);if(!wa)return null;const Ta=Z.parse(void 0===K["diacritic-sensitive"]?!1:K["diacritic-sensitive"],1,jb);if(!Ta)return null;let pb=null;return K.locale&&(pb=Z.parse(K.locale,1,Qc),!pb)?null:new ef(wa,Ta,pb)}evaluate(K){return new pc(this.caseSensitive.evaluate(K),this.diacriticSensitive.evaluate(K),this.locale?this.locale.evaluate(K):null)}eachChild(K){K(this.caseSensitive);
K(this.diacriticSensitive);this.locale&&K(this.locale)}outputDefined(){return!1}serialize(){const K={};K["case-sensitive"]=this.caseSensitive.serialize();K["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(K.locale=this.locale.serialize());return["collator",K]}}class df{constructor(K,Z){this.type=jb;this.geojson=K;this.geometries=Z}static parse(K,Z){if(2!==K.length)return Z.error(`'within' expression requires exactly one argument, but found ${K.length-1} instead.`);if(O(K[1]))if(K=
K[1],"FeatureCollection"===K.type)for(var wa=0;wa<K.features.length;++wa){const Ta=K.features[wa].geometry.type;if("Polygon"===Ta||"MultiPolygon"===Ta)return new df(K,K.features[wa].geometry)}else if("Feature"===K.type){if(wa=K.geometry.type,"Polygon"===wa||"MultiPolygon"===wa)return new df(K,K.geometry)}else if("Polygon"===K.type||"MultiPolygon"===K.type)return new df(K,K);return Z.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(K){if(null!=
K.geometry()&&null!=K.canonicalID()){if("Point"===K.geometryType())return ba(K,this.geometries);if("LineString"===K.geometryType())return ia(K,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}class vf{constructor(K,Z){this.type=Z.type;this.name=K;this.boundExpression=Z}static parse(K,Z){if(2!==K.length||"string"!==typeof K[1])return Z.error("'var' expression requires exactly one string literal argument.");K=K[1];return Z.scope.has(K)?new vf(K,
Z.scope.get(K)):Z.error(`Unknown variable "${K}". Make sure "${K}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(K){return this.boundExpression.evaluate(K)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class Lf{constructor(K,Z=[],wa,Ta=new tc,pb=[]){this.registry=K;this.path=Z;this.key=Z.map(Db=>`[${Db}]`).join("");this.scope=Ta;this.errors=pb;this.expectedType=wa}parse(K,Z,wa,Ta,pb={}){return Z?this.concat(Z,wa,Ta)._parse(K,pb):this._parse(K,
pb)}_parse(K,Z){function wa(Db,Xb,Hc){return"assert"===Hc?new Cd(Xb,[Db]):"coerce"===Hc?new Id(Xb,[Db]):Db}if(null===K||"string"===typeof K||"boolean"===typeof K||"number"===typeof K)K=["literal",K];if(Array.isArray(K)){if(0===K.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var Ta=K[0];if("string"!==typeof Ta)return this.error(`Expression name must be a string, but found ${typeof Ta} instead. If you wanted a literal array, use ["literal", [...]].`,
0),null;var pb=this.registry[Ta];if(pb){K=pb.parse(K,this);if(!K)return null;if(this.expectedType)if(Ta=this.expectedType,pb=K.type,("string"===Ta.kind||"number"===Ta.kind||"boolean"===Ta.kind||"object"===Ta.kind||"array"===Ta.kind)&&"value"===pb.kind)K=wa(K,Ta,Z.typeAnnotation||"assert");else if(!("color"!==Ta.kind&&"formatted"!==Ta.kind&&"resolvedImage"!==Ta.kind||"value"!==pb.kind&&"string"!==pb.kind))K=wa(K,Ta,Z.typeAnnotation||"coerce");else if(this.checkSubtype(Ta,pb))return null;if(!(K instanceof
od)&&"resolvedImage"!==K.type.kind&&Ja(K)){Z=new ye;try{K=new od(K.type,K.evaluate(Z))}catch(Db){return this.error(Db.message),null}}return K}return this.error(`Unknown expression "${Ta}". If you wanted a literal array, use ["literal", [...]].`,0)}return"undefined"===typeof K?this.error("'undefined' value invalid. Use null instead."):"object"===typeof K?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof K} instead.`)}concat(K,Z,wa){K=
"number"===typeof K?this.path.concat(K):this.path;wa=wa?this.scope.concat(wa):this.scope;return new Lf(this.registry,K,Z||null,wa,this.errors)}error(K,...Z){Z=`${this.key}${Z.map(wa=>`[${wa}]`).join("")}`;this.errors.push(new Ec(Z,K))}checkSubtype(K,Z){(K=w(K,Z))&&this.error(K);return K}}class Of{constructor(K,Z,wa){this.type=K;this.input=Z;this.labels=[];this.outputs=[];for(const [Ta,pb]of wa)this.labels.push(Ta),this.outputs.push(pb)}static parse(K,Z){if(4>K.length-1)return Z.error(`Expected at least 4 arguments, but found only ${K.length-
1}.`);if(0!==(K.length-1)%2)return Z.error("Expected an even number of arguments.");const wa=Z.parse(K[1],1,mc);if(!wa)return null;const Ta=[];let pb=null;Z.expectedType&&"value"!==Z.expectedType.kind&&(pb=Z.expectedType);for(let Xb=1;Xb<K.length;Xb+=2){const Hc=1===Xb?-Infinity:K[Xb];var Db=K[Xb+1];const Vc=Xb,Pc=Xb+1;if("number"!==typeof Hc)return Z.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Vc);
if(Ta.length&&Ta[Ta.length-1][0]>=Hc)return Z.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Vc);Db=Z.parse(Db,Pc,pb);if(!Db)return null;pb=pb||Db.type;Ta.push([Hc,Db])}return new Of(pb,wa,Ta)}evaluate(K){var Z=this.labels;const wa=this.outputs;if(1===Z.length)return wa[0].evaluate(K);const Ta=this.input.evaluate(K);if(Ta<=Z[0])return wa[0].evaluate(K);const pb=Z.length;if(Ta>=Z[pb-1])return wa[pb-1].evaluate(K);Z=qa(Z,Ta);return wa[Z].evaluate(K)}eachChild(K){K(this.input);
for(const Z of this.outputs)K(Z)}outputDefined(){return this.outputs.every(K=>K.outputDefined())}serialize(){const K=["step",this.input.serialize()];for(let Z=0;Z<this.labels.length;Z++)0<Z&&K.push(this.labels[Z]),K.push(this.outputs[Z].serialize());return K}}Da.prototype.sampleCurveX=function(K){return((this.ax*K+this.bx)*K+this.cx)*K};Da.prototype.sampleCurveY=function(K){return((this.ay*K+this.by)*K+this.cy)*K};Da.prototype.sampleCurveDerivativeX=function(K){return(3*this.ax*K+2*this.bx)*K+this.cx};
Da.prototype.solveCurveX=function(K,Z){"undefined"===typeof Z&&(Z=1E-6);var wa;var Ta=K;for(wa=0;8>wa;wa++){var pb=this.sampleCurveX(Ta)-K;if(Math.abs(pb)<Z)return Ta;var Db=this.sampleCurveDerivativeX(Ta);if(1E-6>Math.abs(Db))break;Ta-=pb/Db}wa=0;Db=1;Ta=K;if(Ta<wa)return wa;if(Ta>Db)return Db;for(;wa<Db;){pb=this.sampleCurveX(Ta);if(Math.abs(pb-K)<Z)break;K>pb?wa=Ta:Db=Ta;Ta=.5*(Db-wa)+wa}return Ta};Da.prototype.solve=function(K,Z){return this.sampleCurveY(this.solveCurveX(K,Z))};var Xg=Object.freeze({__proto__:null,
number:va,color:function(K,Z,wa){return new Lb(va(K.r,Z.r,wa),va(K.g,Z.g,wa),va(K.b,Z.b,wa),va(K.a,Z.a,wa))},array:function(K,Z,wa){return K.map((Ta,pb)=>va(Ta,Z[pb],wa))}});const Xd=4/29,Ge=6/29,og=3*Ge*Ge,wg=Ge*Ge*Ge,Zg=Math.PI/180,Bg=180/Math.PI,Qg={forward:Ua,reverse:ab,interpolate:function(K,Z,wa){return{l:va(K.l,Z.l,wa),a:va(K.a,Z.a,wa),b:va(K.b,Z.b,wa),alpha:va(K.alpha,Z.alpha,wa)}}},sg={forward:function(K){const {l:Z,a:wa,b:Ta}=Ua(K),pb=Math.atan2(Ta,wa)*Bg;return{h:0>pb?pb+360:pb,c:Math.sqrt(wa*
wa+Ta*Ta),l:Z,alpha:K.a}},reverse:function(K){const Z=K.h*Zg,wa=K.c;return ab({l:K.l,a:Math.cos(Z)*wa,b:Math.sin(Z)*wa,alpha:K.alpha})},interpolate:function(K,Z,wa){var Ta=K.h;const pb=Z.h-Ta;return{h:Ta+wa*(180<pb||-180>pb?pb-360*Math.round(pb/360):pb),c:va(K.c,Z.c,wa),l:va(K.l,Z.l,wa),alpha:va(K.alpha,Z.alpha,wa)}}};var fg=Object.freeze({__proto__:null,lab:Qg,hcl:sg});class zf{constructor(K,Z,wa,Ta,pb){this.type=K;this.operator=Z;this.interpolation=wa;this.input=Ta;this.labels=[];this.outputs=[];
for(const [Db,Xb]of pb)this.labels.push(Db),this.outputs.push(Xb)}static interpolationFactor(K,Z,wa,Ta){let pb=0;"exponential"===K.name?pb=ta(Z,K.base,wa,Ta):"linear"===K.name?pb=ta(Z,1,wa,Ta):"cubic-bezier"===K.name&&(K=K.controlPoints,pb=(new Da(K[0],K[1],K[2],K[3])).solve(ta(Z,1,wa,Ta)));return pb}static parse(K,Z){let [wa,Ta,pb,...Db]=K;if(!Array.isArray(Ta)||0===Ta.length)return Z.error("Expected an interpolation type expression.",1);if("linear"===Ta[0])Ta={name:"linear"};else if("exponential"===
Ta[0]){var Xb=Ta[1];if("number"!==typeof Xb)return Z.error("Exponential interpolation requires a numeric base.",1,1);Ta={name:"exponential",base:Xb}}else if("cubic-bezier"===Ta[0]){Xb=Ta.slice(1);if(4!==Xb.length||Xb.some(Vc=>"number"!==typeof Vc||0>Vc||1<Vc))return Z.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);Ta={name:"cubic-bezier",controlPoints:Xb}}else return Z.error(`Unknown interpolation type ${String(Ta[0])}`,1,0);if(4>K.length-1)return Z.error(`Expected at least 4 arguments, but found only ${K.length-
1}.`);if(0!==(K.length-1)%2)return Z.error("Expected an even number of arguments.");pb=Z.parse(pb,2,mc);if(!pb)return null;K=[];Xb=null;"interpolate-hcl"===wa||"interpolate-lab"===wa?Xb=Ib:Z.expectedType&&"value"!==Z.expectedType.kind&&(Xb=Z.expectedType);for(let Vc=0;Vc<Db.length;Vc+=2){const Pc=Db[Vc];var Hc=Db[Vc+1];const Dd=Vc+3,Rd=Vc+4;if("number"!==typeof Pc)return Z.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
Dd);if(K.length&&K[K.length-1][0]>=Pc)return Z.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Dd);Hc=Z.parse(Hc,Rd,Xb);if(!Hc)return null;Xb=Xb||Hc.type;K.push([Pc,Hc])}return"number"===Xb.kind||"color"===Xb.kind||"array"===Xb.kind&&"number"===Xb.itemType.kind&&"number"===typeof Xb.N?new zf(Xb,wa,Ta,pb,K):Z.error(`Type ${F(Xb)} is not interpolatable.`)}evaluate(K){var Z=this.labels;const wa=this.outputs;if(1===Z.length)return wa[0].evaluate(K);
var Ta=this.input.evaluate(K);if(Ta<=Z[0])return wa[0].evaluate(K);var pb=Z.length;if(Ta>=Z[pb-1])return wa[pb-1].evaluate(K);pb=qa(Z,Ta);Z=zf.interpolationFactor(this.interpolation,Ta,Z[pb],Z[pb+1]);Ta=wa[pb].evaluate(K);K=wa[pb+1].evaluate(K);return"interpolate"===this.operator?Xg[this.type.kind.toLowerCase()](Ta,K,Z):"interpolate-hcl"===this.operator?sg.reverse(sg.interpolate(sg.forward(Ta),sg.forward(K),Z)):Qg.reverse(Qg.interpolate(Qg.forward(Ta),Qg.forward(K),Z))}eachChild(K){K(this.input);
for(const Z of this.outputs)K(Z)}outputDefined(){return this.outputs.every(K=>K.outputDefined())}serialize(){var K="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);K=[this.operator,K,this.input.serialize()];for(let Z=0;Z<this.labels.length;Z++)K.push(this.labels[Z],this.outputs[Z].serialize());return K}}class Pf{constructor(K,
Z){this.type=K;this.args=Z}static parse(K,Z){if(2>K.length)return Z.error("Expectected at least one argument.");let wa=null;const Ta=Z.expectedType;Ta&&"value"!==Ta.kind&&(wa=Ta);const pb=[];for(const Db of K.slice(1)){K=Z.parse(Db,1+pb.length,wa,void 0,{typeAnnotation:"omit"});if(!K)return null;wa=wa||K.type;pb.push(K)}return Ta&&pb.some(Db=>w(Ta,Db.type))?new Pf(Rb,pb):new Pf(wa,pb)}evaluate(K){let Z=null,wa=0,Ta;for(const pb of this.args){wa++;if((Z=pb.evaluate(K))&&Z instanceof wc&&!Z.available&&
(Ta||(Ta=Z),Z=null,wa===this.args.length))return Ta;if(null!==Z)break}return Z}eachChild(K){this.args.forEach(K)}outputDefined(){return this.args.every(K=>K.outputDefined())}serialize(){const K=["coalesce"];this.eachChild(Z=>{K.push(Z.serialize())});return K}}class eg{constructor(K,Z){this.type=Z.type;this.bindings=[].concat(K);this.result=Z}evaluate(K){return this.result.evaluate(K)}eachChild(K){for(const Z of this.bindings)K(Z[1]);K(this.result)}static parse(K,Z){if(4>K.length)return Z.error(`Expected at least 3 arguments, but found ${K.length-
1} instead.`);const wa=[];for(let Ta=1;Ta<K.length-1;Ta+=2){const pb=K[Ta];if("string"!==typeof pb)return Z.error(`Expected string, but found ${typeof pb} instead.`,Ta);if(/[^a-zA-Z0-9_]/.test(pb))return Z.error("Variable names must contain only alphanumeric characters or '_'.",Ta);const Db=Z.parse(K[Ta+1],Ta+1);if(!Db)return null;wa.push([pb,Db])}return(K=Z.parse(K[K.length-1],K.length-1,Z.expectedType,wa))?new eg(wa,K):null}outputDefined(){return this.result.outputDefined()}serialize(){const K=
["let"];for(const [Z,wa]of this.bindings)K.push(Z,wa.serialize());K.push(this.result.serialize());return K}}class Mf{constructor(K,Z,wa){this.type=K;this.index=Z;this.input=wa}static parse(K,Z){if(3!==K.length)return Z.error(`Expected 2 arguments, but found ${K.length-1} instead.`);const wa=Z.parse(K[1],1,mc);K=Z.parse(K[2],2,E(Z.expectedType||Rb));return wa&&K?new Mf(K.type.itemType,wa,K):null}evaluate(K){const Z=this.index.evaluate(K);K=this.input.evaluate(K);if(0>Z)throw new qd(`Array index out of bounds: ${Z} < 0.`);
if(Z>=K.length)throw new qd(`Array index out of bounds: ${Z} > ${K.length-1}.`);if(Z!==Math.floor(Z))throw new qd(`Array index must be an integer, but found ${Z} instead.`);return K[Z]}eachChild(K){K(this.index);K(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class gg{constructor(K,Z){this.type=jb;this.needle=K;this.haystack=Z}static parse(K,Z){if(3!==K.length)return Z.error(`Expected 2 arguments, but found ${K.length-1} instead.`);const wa=
Z.parse(K[1],1,Rb);K=Z.parse(K[2],2,Rb);return wa&&K?D(wa.type,[jb,Qc,mc,Nc,Rb])?new gg(wa,K):Z.error(`Expected first argument to be of type boolean, string, number or null, but found ${F(wa.type)} instead`):null}evaluate(K){const Z=this.needle.evaluate(K);K=this.haystack.evaluate(K);if(null==K)return!1;if(!G(Z,["boolean","string","number","null"]))throw new qd(`Expected first argument to be of type boolean, string, number or null, but found ${F(V(Z))} instead.`);if(!G(K,["string","array"]))throw new qd(`Expected second argument to be of type array or string, but found ${F(V(K))} instead.`);
return 0<=K.indexOf(Z)}eachChild(K){K(this.needle);K(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class kh{constructor(K,Z,wa){this.type=mc;this.needle=K;this.haystack=Z;this.fromIndex=wa}static parse(K,Z){if(2>=K.length||5<=K.length)return Z.error(`Expected 3 or 4 arguments, but found ${K.length-1} instead.`);const wa=Z.parse(K[1],1,Rb),Ta=Z.parse(K[2],2,Rb);return wa&&Ta?D(wa.type,[jb,Qc,mc,Nc,Rb])?4===K.length?(K=Z.parse(K[3],
3,mc))?new kh(wa,Ta,K):null:new kh(wa,Ta):Z.error(`Expected first argument to be of type boolean, string, number or null, but found ${F(wa.type)} instead`):null}evaluate(K){const Z=this.needle.evaluate(K),wa=this.haystack.evaluate(K);if(!G(Z,["boolean","string","number","null"]))throw new qd(`Expected first argument to be of type boolean, string, number or null, but found ${F(V(Z))} instead.`);if(!G(wa,["string","array"]))throw new qd(`Expected second argument to be of type array or string, but found ${F(V(wa))} instead.`);
return this.fromIndex?(K=this.fromIndex.evaluate(K),wa.indexOf(Z,K)):wa.indexOf(Z)}eachChild(K){K(this.needle);K(this.haystack);this.fromIndex&&K(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const K=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),K]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class th{constructor(K,Z,wa,Ta,pb,Db){this.inputType=K;this.type=Z;this.input=
wa;this.cases=Ta;this.outputs=pb;this.otherwise=Db}static parse(K,Z){if(5>K.length)return Z.error(`Expected at least 4 arguments, but found only ${K.length-1}.`);if(1!==K.length%2)return Z.error("Expected an even number of arguments.");let wa,Ta;Z.expectedType&&"value"!==Z.expectedType.kind&&(Ta=Z.expectedType);const pb={},Db=[];for(var Xb=2;Xb<K.length-1;Xb+=2){var Hc=K[Xb];const Vc=K[Xb+1];Array.isArray(Hc)||(Hc=[Hc]);const Pc=Z.concat(Xb);if(0===Hc.length)return Pc.error("Expected at least one branch label.");
for(const Dd of Hc){if("number"!==typeof Dd&&"string"!==typeof Dd)return Pc.error("Branch labels must be numbers or strings.");if("number"===typeof Dd&&Math.abs(Dd)>Number.MAX_SAFE_INTEGER)return Pc.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"===typeof Dd&&Math.floor(Dd)!==Dd)return Pc.error("Numeric branch labels must be integer values.");if(!wa)wa=V(Dd);else if(Pc.checkSubtype(wa,V(Dd)))return null;if("undefined"!==typeof pb[String(Dd)])return Pc.error("Branch labels must be unique.");
pb[String(Dd)]=Db.length}Hc=Z.parse(Vc,Xb,Ta);if(!Hc)return null;Ta=Ta||Hc.type;Db.push(Hc)}Xb=Z.parse(K[1],1,Rb);if(!Xb)return null;K=Z.parse(K[K.length-1],K.length-1,Ta);return!K||"value"!==Xb.type.kind&&Z.concat(1).checkSubtype(wa,Xb.type)?null:new th(wa,Ta,Xb,pb,Db,K)}evaluate(K){const Z=this.input.evaluate(K);return(V(Z)===this.inputType&&this.outputs[this.cases[Z]]||this.otherwise).evaluate(K)}eachChild(K){K(this.input);this.outputs.forEach(K);K(this.otherwise)}outputDefined(){return this.outputs.every(K=>
K.outputDefined())&&this.otherwise.outputDefined()}serialize(){const K=["match",this.input.serialize()];var Z=Object.keys(this.cases).sort();const wa=[];var Ta={};for(const pb of Z)Z=Ta[this.cases[pb]],void 0===Z?(Ta[this.cases[pb]]=wa.length,wa.push([this.cases[pb],[pb]])):wa[Z][1].push(pb);Ta=pb=>"number"===this.inputType.kind?Number(pb):pb;for(const [pb,Db]of wa)1===Db.length?K.push(Ta(Db[0])):K.push(Db.map(Ta)),K.push(this.outputs[pb].serialize());K.push(this.otherwise.serialize());return K}}
class Gg{constructor(K,Z,wa){this.type=K;this.branches=Z;this.otherwise=wa}static parse(K,Z){if(4>K.length)return Z.error(`Expected at least 3 arguments, but found only ${K.length-1}.`);if(0!==K.length%2)return Z.error("Expected an odd number of arguments.");let wa;Z.expectedType&&"value"!==Z.expectedType.kind&&(wa=Z.expectedType);const Ta=[];for(let pb=1;pb<K.length-1;pb+=2){const Db=Z.parse(K[pb],pb,jb);if(!Db)return null;const Xb=Z.parse(K[pb+1],pb+1,wa);if(!Xb)return null;Ta.push([Db,Xb]);wa=
wa||Xb.type}return(K=Z.parse(K[K.length-1],K.length-1,wa))?new Gg(wa,Ta,K):null}evaluate(K){for(const [Z,wa]of this.branches)if(Z.evaluate(K))return wa.evaluate(K);return this.otherwise.evaluate(K)}eachChild(K){for(const [Z,wa]of this.branches)K(Z),K(wa);K(this.otherwise)}outputDefined(){return this.branches.every(([,K])=>K.outputDefined())&&this.otherwise.outputDefined()}serialize(){const K=["case"];this.eachChild(Z=>{K.push(Z.serialize())});return K}}class xg{constructor(K,Z,wa,Ta){this.type=K;
this.input=Z;this.beginIndex=wa;this.endIndex=Ta}static parse(K,Z){if(2>=K.length||5<=K.length)return Z.error(`Expected 3 or 4 arguments, but found ${K.length-1} instead.`);const wa=Z.parse(K[1],1,Rb),Ta=Z.parse(K[2],2,mc);return wa&&Ta?D(wa.type,[E(Rb),Qc,Rb])?4===K.length?(K=Z.parse(K[3],3,mc))?new xg(wa.type,wa,Ta,K):null:new xg(wa.type,wa,Ta):Z.error(`Expected first argument to be of type array or string, but found ${F(wa.type)} instead`):null}evaluate(K){const Z=this.input.evaluate(K),wa=this.beginIndex.evaluate(K);
if(!G(Z,["string","array"]))throw new qd(`Expected first argument to be of type array or string, but found ${F(V(Z))} instead.`);return this.endIndex?(K=this.endIndex.evaluate(K),Z.slice(wa,K)):Z.slice(wa)}eachChild(K){K(this.input);K(this.beginIndex);this.endIndex&&K(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const K=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),K]}return["slice",this.input.serialize(),
this.beginIndex.serialize()]}}const zh=aa("\x3d\x3d",function(K,Z,wa){return Z===wa},oa),bb=aa("!\x3d",function(K,Z,wa){return Z!==wa},function(K,Z,wa,Ta){return!oa(K,Z,wa,Ta)}),Hb=aa("\x3c",function(K,Z,wa){return Z<wa},function(K,Z,wa,Ta){return 0>Ta.compare(Z,wa)}),nc=aa("\x3e",function(K,Z,wa){return Z>wa},function(K,Z,wa,Ta){return 0<Ta.compare(Z,wa)}),td=aa("\x3c\x3d",function(K,Z,wa){return Z<=wa},function(K,Z,wa,Ta){return 0>=Ta.compare(Z,wa)}),zd=aa("\x3e\x3d",function(K,Z,wa){return Z>=
wa},function(K,Z,wa,Ta){return 0<=Ta.compare(Z,wa)});class he{constructor(K,Z,wa,Ta,pb){this.type=Qc;this.number=K;this.locale=Z;this.currency=wa;this.minFractionDigits=Ta;this.maxFractionDigits=pb}static parse(K,Z){if(3!==K.length)return Z.error("Expected two arguments.");const wa=Z.parse(K[1],1,mc);if(!wa)return null;K=K[2];if("object"!==typeof K||Array.isArray(K))return Z.error("NumberFormat options argument must be an object.");let Ta=null;if(K.locale&&(Ta=Z.parse(K.locale,1,Qc),!Ta))return null;
let pb=null;if(K.currency&&(pb=Z.parse(K.currency,1,Qc),!pb))return null;let Db=null;if(K["min-fraction-digits"]&&(Db=Z.parse(K["min-fraction-digits"],1,mc),!Db))return null;let Xb=null;return K["max-fraction-digits"]&&(Xb=Z.parse(K["max-fraction-digits"],1,mc),!Xb)?null:new he(wa,Ta,pb,Db,Xb)}evaluate(K){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(K):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(K):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(K):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(K):void 0})).format(this.number.evaluate(K))}eachChild(K){K(this.number);this.locale&&K(this.locale);this.currency&&K(this.currency);this.minFractionDigits&&K(this.minFractionDigits);this.maxFractionDigits&&K(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const K={};this.locale&&(K.locale=this.locale.serialize());this.currency&&(K.currency=this.currency.serialize());
this.minFractionDigits&&(K["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(K["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),K]}}class kf{constructor(K){this.type=mc;this.input=K}static parse(K,Z){return 2!==K.length?Z.error(`Expected 1 argument, but found ${K.length-1} instead.`):(K=Z.parse(K[1],1))?"array"!==K.type.kind&&"string"!==K.type.kind&&"value"!==K.type.kind?Z.error(`Expected argument of type string or array, but found ${F(K.type)} instead.`):
new kf(K):null}evaluate(K){K=this.input.evaluate(K);if("string"===typeof K||Array.isArray(K))return K.length;throw new qd(`Expected value to be of type string or array, but found ${F(V(K))} instead.`);}eachChild(K){K(this.input)}outputDefined(){return!1}serialize(){const K=["length"];this.eachChild(Z=>{K.push(Z.serialize())});return K}}const sf={"\x3d\x3d":zh,"!\x3d":bb,"\x3e":nc,"\x3c":Hb,"\x3e\x3d":zd,"\x3c\x3d":td,array:Cd,at:Mf,"boolean":Cd,"case":Gg,coalesce:Pf,collator:ef,format:je,image:ve,
"in":gg,"index-of":kh,interpolate:zf,"interpolate-hcl":zf,"interpolate-lab":zf,length:kf,let:eg,literal:od,match:th,number:Cd,"number-format":he,object:Cd,slice:xg,step:Of,string:Cd,"to-boolean":Id,"to-color":Id,"to-number":Id,"to-string":Id,"var":vf,within:df};vd.register(sf,{error:[{kind:"error"},[Qc],(K,[Z])=>{throw new qd(Z.evaluate(K));}],"typeof":[Qc,[Rb],(K,[Z])=>F(V(Z.evaluate(K)))],"to-rgba":[E(mc,4),[Ib],(K,[Z])=>Z.evaluate(K).toArray()],rgb:[Ib,[mc,mc,mc],ka],rgba:[Ib,[mc,mc,mc,mc],ka],
has:{type:jb,overloads:[[[Qc],(K,[Z])=>{Z=Z.evaluate(K);K=K.properties();return Z in K}],[[Qc,Qb],(K,[Z,wa])=>{Z=Z.evaluate(K);K=wa.evaluate(K);return Z in K}]]},get:{type:Rb,overloads:[[[Qc],(K,[Z])=>Ia(Z.evaluate(K),K.properties())],[[Qc,Qb],(K,[Z,wa])=>Ia(Z.evaluate(K),wa.evaluate(K))]]},"feature-state":[Rb,[Qc],(K,[Z])=>Ia(Z.evaluate(K),K.featureState||{})],properties:[Qb,[],K=>K.properties()],"geometry-type":[Qc,[],K=>K.geometryType()],id:[Rb,[],K=>K.id()],zoom:[mc,[],K=>K.globals.zoom],pitch:[mc,
[],K=>K.globals.pitch||0],"distance-from-center":[mc,[],K=>K.distanceFromCenter()],"heatmap-density":[mc,[],K=>K.globals.heatmapDensity||0],"line-progress":[mc,[],K=>K.globals.lineProgress||0],"sky-radial-progress":[mc,[],K=>K.globals.skyRadialProgress||0],accumulated:[Rb,[],K=>void 0===K.globals.accumulated?null:K.globals.accumulated],"+":[mc,{type:mc},(K,Z)=>{let wa=0;for(const Ta of Z)wa+=Ta.evaluate(K);return wa}],"*":[mc,{type:mc},(K,Z)=>{let wa=1;for(const Ta of Z)wa*=Ta.evaluate(K);return wa}],
"-":{type:mc,overloads:[[[mc,mc],(K,[Z,wa])=>Z.evaluate(K)-wa.evaluate(K)],[[mc],(K,[Z])=>-Z.evaluate(K)]]},"/":[mc,[mc,mc],(K,[Z,wa])=>Z.evaluate(K)/wa.evaluate(K)],"%":[mc,[mc,mc],(K,[Z,wa])=>Z.evaluate(K)%wa.evaluate(K)],ln2:[mc,[],()=>Math.LN2],pi:[mc,[],()=>Math.PI],e:[mc,[],()=>Math.E],"^":[mc,[mc,mc],(K,[Z,wa])=>Math.pow(Z.evaluate(K),wa.evaluate(K))],sqrt:[mc,[mc],(K,[Z])=>Math.sqrt(Z.evaluate(K))],log10:[mc,[mc],(K,[Z])=>Math.log(Z.evaluate(K))/Math.LN10],ln:[mc,[mc],(K,[Z])=>Math.log(Z.evaluate(K))],
log2:[mc,[mc],(K,[Z])=>Math.log(Z.evaluate(K))/Math.LN2],sin:[mc,[mc],(K,[Z])=>Math.sin(Z.evaluate(K))],cos:[mc,[mc],(K,[Z])=>Math.cos(Z.evaluate(K))],tan:[mc,[mc],(K,[Z])=>Math.tan(Z.evaluate(K))],asin:[mc,[mc],(K,[Z])=>Math.asin(Z.evaluate(K))],acos:[mc,[mc],(K,[Z])=>Math.acos(Z.evaluate(K))],atan:[mc,[mc],(K,[Z])=>Math.atan(Z.evaluate(K))],min:[mc,{type:mc},(K,Z)=>Math.min(...Z.map(wa=>wa.evaluate(K)))],max:[mc,{type:mc},(K,Z)=>Math.max(...Z.map(wa=>wa.evaluate(K)))],abs:[mc,[mc],(K,[Z])=>Math.abs(Z.evaluate(K))],
round:[mc,[mc],(K,[Z])=>{K=Z.evaluate(K);return 0>K?-Math.round(-K):Math.round(K)}],floor:[mc,[mc],(K,[Z])=>Math.floor(Z.evaluate(K))],ceil:[mc,[mc],(K,[Z])=>Math.ceil(Z.evaluate(K))],"filter-\x3d\x3d":[jb,[Qc,Rb],(K,[Z,wa])=>K.properties()[Z.value]===wa.value],"filter-id-\x3d\x3d":[jb,[Rb],(K,[Z])=>K.id()===Z.value],"filter-type-\x3d\x3d":[jb,[Qc],(K,[Z])=>K.geometryType()===Z.value],"filter-\x3c":[jb,[Qc,Rb],(K,[Z,wa])=>{K=K.properties()[Z.value];wa=wa.value;return typeof K===typeof wa&&K<wa}],
"filter-id-\x3c":[jb,[Rb],(K,[Z])=>{K=K.id();Z=Z.value;return typeof K===typeof Z&&K<Z}],"filter-\x3e":[jb,[Qc,Rb],(K,[Z,wa])=>{K=K.properties()[Z.value];wa=wa.value;return typeof K===typeof wa&&K>wa}],"filter-id-\x3e":[jb,[Rb],(K,[Z])=>{K=K.id();Z=Z.value;return typeof K===typeof Z&&K>Z}],"filter-\x3c\x3d":[jb,[Qc,Rb],(K,[Z,wa])=>{K=K.properties()[Z.value];wa=wa.value;return typeof K===typeof wa&&K<=wa}],"filter-id-\x3c\x3d":[jb,[Rb],(K,[Z])=>{K=K.id();Z=Z.value;return typeof K===typeof Z&&K<=Z}],
"filter-\x3e\x3d":[jb,[Qc,Rb],(K,[Z,wa])=>{K=K.properties()[Z.value];wa=wa.value;return typeof K===typeof wa&&K>=wa}],"filter-id-\x3e\x3d":[jb,[Rb],(K,[Z])=>{K=K.id();Z=Z.value;return typeof K===typeof Z&&K>=Z}],"filter-has":[jb,[Rb],(K,[Z])=>Z.value in K.properties()],"filter-has-id":[jb,[],K=>null!==K.id()&&void 0!==K.id()],"filter-type-in":[jb,[E(Qc)],(K,[Z])=>0<=Z.value.indexOf(K.geometryType())],"filter-id-in":[jb,[E(Rb)],(K,[Z])=>0<=Z.value.indexOf(K.id())],"filter-in-small":[jb,[Qc,E(Rb)],
(K,[Z,wa])=>0<=wa.value.indexOf(K.properties()[Z.value])],"filter-in-large":[jb,[Qc,E(Rb)],(K,[Z,wa])=>{a:{K=K.properties()[Z.value];Z=wa.value;var Ta=0;for(wa=wa.value.length-1;Ta<=wa;){const pb=Ta+wa>>1;if(Z[pb]===K){wa=!0;break a}Z[pb]>K?wa=pb-1:Ta=pb+1}wa=!1}return wa}],all:{type:jb,overloads:[[[jb,jb],(K,[Z,wa])=>Z.evaluate(K)&&wa.evaluate(K)],[{type:jb},(K,Z)=>{for(const wa of Z)if(!wa.evaluate(K))return!1;return!0}]]},any:{type:jb,overloads:[[[jb,jb],(K,[Z,wa])=>Z.evaluate(K)||wa.evaluate(K)],
[{type:jb},(K,Z)=>{for(const wa of Z)if(wa.evaluate(K))return!0;return!1}]]},"!":[jb,[jb],(K,[Z])=>!Z.evaluate(K)],"is-supported-script":[jb,[Qc],(K,[Z])=>{const wa=K.globals&&K.globals.isSupportedScript;return wa?wa(Z.evaluate(K)):!0}],upcase:[Qc,[Qc],(K,[Z])=>Z.evaluate(K).toUpperCase()],downcase:[Qc,[Qc],(K,[Z])=>Z.evaluate(K).toLowerCase()],concat:[Qc,{type:Rb},(K,Z)=>Z.map(wa=>S(wa.evaluate(K))).join("")],"resolved-locale":[Qc,[na],(K,[Z])=>Z.evaluate(K).resolvedLocale()]});class Rg{constructor(K,
Z){this.expression=K;this._warningHistory={};this._evaluator=new ye;this._defaultValue=Z?"color"===Z.type&&Gc(Z.default)?new Lb(0,0,0,0):"color"===Z.type?Lb.parse(Z.default)||null:void 0===Z.default?null:Z.default:null;this._enumValues=Z&&"enum"===Z.type?Z.values:null}evaluateWithoutErrorHandling(K,Z,wa,Ta,pb,Db,Xb,Hc){this._evaluator.globals=K;this._evaluator.feature=Z;this._evaluator.featureState=wa;this._evaluator.canonical=Ta||null;this._evaluator.availableImages=pb||null;this._evaluator.formattedSection=
Db;this._evaluator.featureTileCoord=Xb||null;this._evaluator.featureDistanceData=Hc||null;return this.expression.evaluate(this._evaluator)}evaluate(K,Z,wa,Ta,pb,Db,Xb,Hc){this._evaluator.globals=K;this._evaluator.feature=Z||null;this._evaluator.featureState=wa||null;this._evaluator.canonical=Ta||null;this._evaluator.availableImages=pb||null;this._evaluator.formattedSection=Db||null;this._evaluator.featureTileCoord=Xb||null;this._evaluator.featureDistanceData=Hc||null;try{const Vc=this.expression.evaluate(this._evaluator);
if(null===Vc||void 0===Vc||"number"===typeof Vc&&Vc!==Vc)return this._defaultValue;if(this._enumValues&&!(Vc in this._enumValues))throw new qd(`Expected value to be one of ${Object.keys(this._enumValues).map(Pc=>JSON.stringify(Pc)).join(", ")}, but found ${JSON.stringify(Vc)} instead.`);return Vc}catch(Vc){return this._warningHistory[Vc.message]||(this._warningHistory[Vc.message]=!0,"undefined"!==typeof console&&console.warn(Vc.message)),this._defaultValue}}}class Rf{constructor(K,Z){this.kind=K;
this._styleExpression=Z;this.isStateDependent="constant"!==K&&!Wa(Z.expression)}evaluateWithoutErrorHandling(K,Z,wa,Ta,pb,Db){return this._styleExpression.evaluateWithoutErrorHandling(K,Z,wa,Ta,pb,Db)}evaluate(K,Z,wa,Ta,pb,Db){return this._styleExpression.evaluate(K,Z,wa,Ta,pb,Db)}}class eh{constructor(K,Z,wa,Ta){this.kind=K;this.zoomStops=wa;this._styleExpression=Z;this.isStateDependent="camera"!==K&&!Wa(Z.expression);this.interpolationType=Ta}evaluateWithoutErrorHandling(K,Z,wa,Ta,pb,Db){return this._styleExpression.evaluateWithoutErrorHandling(K,
Z,wa,Ta,pb,Db)}evaluate(K,Z,wa,Ta,pb,Db){return this._styleExpression.evaluate(K,Z,wa,Ta,pb,Db)}interpolationFactor(K,Z,wa){return this.interpolationType?zf.interpolationFactor(this.interpolationType,K,Z,wa):0}}class uh{constructor(K,Z){this._parameters=K;this._specification=Z;q(this,Ic(this._parameters,this._specification))}static deserialize(K){return new uh(K._parameters,K._specification)}static serialize(K){return{_parameters:K._parameters,_specification:K._specification}}}const $g=new Set("in \x3d\x3d !\x3d \x3e \x3e\x3d \x3c \x3c\x3d to-boolean".split(" "));
var fh="type source source-layer minzoom maxzoom filter layout".split(" ");const mf={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",
setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};class ae{constructor(K,Z,wa,Ta){this.message=(K?`${K}: `:"")+wa;Ta&&(this.identifier=Ta);null!==Z&&void 0!==Z&&Z.__line__&&(this.line=Z.__line__)}}class gh{constructor(K){this.error=K;this.message=K.message;this.line=(K=K.message.match(/line (\d+)/))?parseInt(K[1],10):0}}const Vh={promoteId:function({key:K,value:Z}){if("string"===Zb(Z))return wd({key:K,value:Z});
const wa=[];for(const Ta in Z)wa.push(...wd({key:`${K}.${Ta}`,value:Z[Ta]}));return wa}},lh={["*"](){return[]},array:Ee,"boolean":function(K){const Z=K.value;K=K.key;const wa=Zb(Z);return"boolean"!==wa?[new ae(K,Z,`boolean expected, ${wa} found`)]:[]},number:ze,color:function(K){const Z=K.key;K=K.value;const wa=Zb(K);return"string"!==wa?[new ae(Z,K,`color expected, ${wa} found`)]:null===Nb.parseCSSColor(K)?[new ae(Z,K,`color expected, "${K}" found`)]:[]},"enum":rf,filter:Vb,"function":Bf,layer:function(K){let Z=
[];const wa=K.value,Ta=K.key;var pb=K.style;const Db=K.styleSpec;wa.type||wa.ref||Z.push(new ae(Ta,wa,'either "type" or "ref" is required'));let Xb=Wc(wa.type);const Hc=Wc(wa.ref);if(wa.id){var Vc=Wc(wa.id);for(let Pc=0;Pc<K.arrayIndex;Pc++){const Dd=pb.layers[Pc];Wc(Dd.id)===Vc&&Z.push(new ae(Ta,wa.id,`duplicate layer id "${wa.id}", previously used at line ${Dd.id.__line__}`))}}if("ref"in wa){["type","source","source-layer","filter","layout"].forEach(Dd=>{Dd in wa&&Z.push(new ae(Ta,wa[Dd],`"${Dd}" is prohibited for ref layers`))});
let Pc;pb.layers.forEach(Dd=>{Wc(Dd.id)===Hc&&(Pc=Dd)});Pc?Pc.ref?Z.push(new ae(Ta,wa.ref,"ref cannot reference another ref layer")):Xb=Wc(Pc.type):"string"===typeof Hc&&Z.push(new ae(Ta,wa.ref,`ref layer "${Hc}" not found`))}else"background"!==Xb&&"sky"!==Xb&&(wa.source?(Vc=(pb=pb.sources&&pb.sources[wa.source])&&Wc(pb.type),pb?"vector"===Vc&&"raster"===Xb?Z.push(new ae(Ta,wa.source,`layer "${wa.id}" requires a raster source`)):"raster"===Vc&&"raster"!==Xb?Z.push(new ae(Ta,wa.source,`layer "${wa.id}" requires a vector source`)):
"vector"!==Vc||wa["source-layer"]?"raster-dem"===Vc&&"hillshade"!==Xb?Z.push(new ae(Ta,wa.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==Xb||!wa.paint||!wa.paint["line-gradient"]||"geojson"===Vc&&pb.lineMetrics||Z.push(new ae(Ta,wa,`layer "${wa.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):Z.push(new ae(Ta,wa,`layer "${wa.id}" must specify a "source-layer"`)):Z.push(new ae(Ta,wa.source,`source "${wa.source}" not found`))):
Z.push(new ae(Ta,wa,'missing required property "source"')));return Z=Z.concat(Yd({key:Ta,value:wa,valueSpec:Db.layer,style:K.style,styleSpec:K.styleSpec,objectElementValidators:{["*"](){return[]},type(){return Bd({key:`${Ta}.type`,value:wa.type,valueSpec:Db.layer.type,style:K.style,styleSpec:K.styleSpec,object:wa,objectKey:"type"})},filter(Pc){return Vb(q({layerType:Xb},Pc))},layout(Pc){return Yd({layer:wa,key:Pc.key,value:Pc.value,valueSpec:{},style:Pc.style,styleSpec:Pc.styleSpec,objectElementValidators:{["*"](Dd){return cd(q({layerType:Xb},
Dd),"layout")}}})},paint(Pc){return Yd({layer:wa,key:Pc.key,value:Pc.value,valueSpec:{},style:Pc.style,styleSpec:Pc.styleSpec,objectElementValidators:{["*"](Dd){return cd(q({layerType:Xb},Dd),"paint")}}})}}}))},object:Yd,source:function(K){const Z=K.value,wa=K.key;var Ta=K.styleSpec;const pb=K.style;if(!Z.type)return[new ae(wa,Z,'"type" is required')];const Db=Wc(Z.type);switch(Db){case "vector":case "raster":case "raster-dem":return K=Yd({key:wa,value:Z,valueSpec:Ta[`source_${Db.replace("-","_")}`],
style:K.style,styleSpec:Ta,objectElementValidators:Vh});case "geojson":K=Yd({key:wa,value:Z,valueSpec:Ta.source_geojson,style:pb,styleSpec:Ta,objectElementValidators:Vh});if(Z.cluster)for(const Xb in Z.clusterProperties){const [Hc,Vc]=Z.clusterProperties[Xb];Ta="string"===typeof Hc?[Hc,["accumulated"],["get",Xb]]:Hc;K.push(...xe({key:`${wa}.${Xb}.map`,value:Vc,expressionContext:"cluster-map"}));K.push(...xe({key:`${wa}.${Xb}.reduce`,value:Ta,expressionContext:"cluster-reduce"}))}return K;case "video":return Yd({key:wa,
value:Z,valueSpec:Ta.source_video,style:pb,styleSpec:Ta});case "image":return Yd({key:wa,value:Z,valueSpec:Ta.source_image,style:pb,styleSpec:Ta});case "canvas":return[new ae(wa,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return rf({key:`${wa}.type`,value:Z.type,valueSpec:{values:"vector raster raster-dem geojson video image".split(" ")},style:pb,styleSpec:Ta})}},light:function(K){const Z=K.value,wa=K.styleSpec,Ta=wa.light;
K=K.style;let pb=[];var Db=Zb(Z);if(void 0===Z)return pb;if("object"!==Db)return pb=pb.concat([new ae("light",Z,`object expected, ${Db} found`)]);for(const Xb in Z)pb=(Db=Xb.match(/^(.*)-transition$/))&&Ta[Db[1]]&&Ta[Db[1]].transition?pb.concat(Bd({key:Xb,value:Z[Xb],valueSpec:wa.transition,style:K,styleSpec:wa})):Ta[Xb]?pb.concat(Bd({key:Xb,value:Z[Xb],valueSpec:Ta[Xb],style:K,styleSpec:wa})):pb.concat([new ae(Xb,Z[Xb],`unknown property "${Xb}"`)]);return pb},terrain:function(K){const Z=K.value,
wa=K.key;var Ta=K.style;const pb=K.styleSpec,Db=pb.terrain;K=[];var Xb=Zb(Z);if(void 0===Z)return K;if("object"!==Xb)return K=K.concat([new ae("terrain",Z,`object expected, ${Xb} found`)]);for(var Hc in Z)K=(Xb=Hc.match(/^(.*)-transition$/))&&Db[Xb[1]]&&Db[Xb[1]].transition?K.concat(Bd({key:Hc,value:Z[Hc],valueSpec:pb.transition,style:Ta,styleSpec:pb})):Db[Hc]?K.concat(Bd({key:Hc,value:Z[Hc],valueSpec:Db[Hc],style:Ta,styleSpec:pb})):K.concat([new ae(Hc,Z[Hc],`unknown property "${Hc}"`)]);Z.source?
(Hc=(Ta=Ta.sources&&Ta.sources[Z.source])&&Wc(Ta.type),Ta?"raster-dem"!==Hc&&K.push(new ae(wa,Z.source,`terrain cannot be used with a source of type ${String(Hc)}, it only be used with a "raster-dem" source type`)):K.push(new ae(wa,Z.source,`source "${Z.source}" not found`))):K.push(new ae(wa,Z,'terrain is missing required property "source"'));return K},fog:function(K){const Z=K.value,wa=K.style;K=K.styleSpec;const Ta=K.fog;let pb=[];var Db=Zb(Z);if(void 0===Z)return pb;if("object"!==Db)return pb=
pb.concat([new ae("fog",Z,`object expected, ${Db} found`)]);for(const Xb in Z)pb=(Db=Xb.match(/^(.*)-transition$/))&&Ta[Db[1]]&&Ta[Db[1]].transition?pb.concat(Bd({key:Xb,value:Z[Xb],valueSpec:K.transition,style:wa,styleSpec:K})):Ta[Xb]?pb.concat(Bd({key:Xb,value:Z[Xb],valueSpec:Ta[Xb],style:wa,styleSpec:K})):pb.concat([new ae(Xb,Z[Xb],`unknown property "${Xb}"`)]);return pb},string:wd,formatted:function(K){return 0===wd(K).length?[]:xe(K)},resolvedImage:function(K){return 0===wd(K).length?[]:xe(K)},
projection:function(K){const Z=K.value,wa=K.styleSpec,Ta=wa.projection;K=K.style;let pb=[];const Db=Zb(Z);if("object"===Db)for(const Xb in Z)pb=pb.concat(Bd({key:Xb,value:Z[Xb],valueSpec:Ta[Xb],style:K,styleSpec:wa}));else"string"!==Db&&(pb=pb.concat([new ae("projection",Z,`object or string expected, ${Db} found`)]));return pb}};var tg=A(function(K,Z){var wa=function(){function Ta(){this.yy={}}var pb=function(Pd,ge,Je,Pe){Je=Je||{};for(Pe=Pd.length;Pe--;Je[Pd[Pe]]=ge);return Je},Db=[1,12],Xb=[1,13],
Hc=[1,9],Vc=[1,10],Pc=[1,11],Dd=[1,14],Rd=[1,15],Ve=[14,18,22,24],He=[18,22],Jf=[22,24];pb={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",
18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(Pd,ge,Je,Pe,Hf,hg,Ue){ge=hg.length-1;switch(Hf){case 1:this.$=new String(Pd.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b"));this.$.__line__=this._$.first_line;break;case 2:this.$=
new Number(Pd);this.$.__line__=this._$.first_line;break;case 3:this.$=null;break;case 4:this.$=new Boolean(!0);this.$.__line__=this._$.first_line;break;case 5:this.$=new Boolean(!1);this.$.__line__=this._$.first_line;break;case 6:return this.$=hg[ge-1];case 13:this.$={};Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 14:case 19:this.$=hg[ge-1];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 15:this.$=[hg[ge-
2],hg[ge]];break;case 16:this.$={};this.$[hg[ge][0]]=hg[ge][1];break;case 17:this.$=hg[ge-2];hg[ge-2][hg[ge][0]]=hg[ge][1];break;case 18:this.$=[];Object.defineProperty(this.$,"__line__",{value:this._$.first_line,enumerable:!1});break;case 20:this.$=[hg[ge]];break;case 21:this.$=hg[ge-2],hg[ge-2].push(hg[ge])}},table:[{3:5,4:Db,5:6,6:Xb,7:3,8:Hc,9:4,10:Vc,11:Pc,12:1,13:2,15:7,16:8,17:Dd,23:Rd},{1:[3]},{14:[1,16]},pb(Ve,[2,7]),pb(Ve,[2,8]),pb(Ve,[2,9]),pb(Ve,[2,10]),pb(Ve,[2,11]),pb(Ve,[2,12]),pb(Ve,
[2,3]),pb(Ve,[2,4]),pb(Ve,[2,5]),pb([14,18,21,22,24],[2,1]),pb(Ve,[2,2]),{3:20,4:Db,18:[1,17],19:18,20:19},{3:5,4:Db,5:6,6:Xb,7:3,8:Hc,9:4,10:Vc,11:Pc,13:23,15:7,16:8,17:Dd,23:Rd,24:[1,21],25:22},{1:[2,6]},pb(Ve,[2,13]),{18:[1,24],22:[1,25]},pb(He,[2,16]),{21:[1,26]},pb(Ve,[2,18]),{22:[1,28],24:[1,27]},pb(Jf,[2,20]),pb(Ve,[2,14]),{3:20,4:Db,20:29},{3:5,4:Db,5:6,6:Xb,7:3,8:Hc,9:4,10:Vc,11:Pc,13:30,15:7,16:8,17:Dd,23:Rd},pb(Ve,[2,19]),{3:5,4:Db,5:6,6:Xb,7:3,8:Hc,9:4,10:Vc,11:Pc,13:31,15:7,16:8,17:Dd,
23:Rd},pb(He,[2,17]),pb(He,[2,15]),pb(Jf,[2,21])],defaultActions:{16:[2,6]},parseError:function(Pd,ge){if(ge.recoverable)this.trace(Pd);else throw Error(Pd);},parse:function(Pd){var ge=[0],Je=[null],Pe=[],Hf=this.table,hg="",Ue=0,nf=0,Yf=Pe.slice.call(arguments,1),ff=Object.create(this.lexer),yg={};for(Ng in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ng)&&(yg[Ng]=this.yy[Ng]);ff.setInput(Pd,yg);yg.lexer=ff;yg.parser=this;"undefined"==typeof ff.yylloc&&(ff.yylloc={});var Ng=ff.yylloc;Pe.push(Ng);
var Sg=ff.options&&ff.options.ranges;this.parseError="function"===typeof yg.parseError?yg.parseError:Object.getPrototypeOf(this).parseError;for(var Qf,pg,lf,Nf={},wh,qg;;){pg=ge[ge.length-1];if(this.defaultActions[pg])lf=this.defaultActions[pg];else{if(null===Qf||"undefined"==typeof Qf)Qf=ff.lex()||1,"number"!==typeof Qf&&(Qf=this.symbols_[Qf]||Qf);lf=Hf[pg]&&Hf[pg][Qf]}if("undefined"===typeof lf||!lf.length||!lf[0]){qg=[];for(wh in Hf[pg])this.terminals_[wh]&&2<wh&&qg.push("'"+this.terminals_[wh]+
"'");var Oh=ff.showPosition?"Parse error on line "+(Ue+1)+":\n"+ff.showPosition()+"\nExpecting "+qg.join(", ")+", got '"+(this.terminals_[Qf]||Qf)+"'":"Parse error on line "+(Ue+1)+": Unexpected "+(1==Qf?"end of input":"'"+(this.terminals_[Qf]||Qf)+"'");this.parseError(Oh,{text:ff.match,token:this.terminals_[Qf]||Qf,line:ff.yylineno,loc:Ng,expected:qg})}if(lf[0]instanceof Array&&1<lf.length)throw Error("Parse Error: multiple actions possible at state: "+pg+", token: "+Qf);switch(lf[0]){case 1:ge.push(Qf);
Je.push(ff.yytext);Pe.push(ff.yylloc);ge.push(lf[1]);Qf=null;nf=ff.yyleng;hg=ff.yytext;Ue=ff.yylineno;Ng=ff.yylloc;break;case 2:qg=this.productions_[lf[1]][1];Nf.$=Je[Je.length-qg];Nf._$={first_line:Pe[Pe.length-(qg||1)].first_line,last_line:Pe[Pe.length-1].last_line,first_column:Pe[Pe.length-(qg||1)].first_column,last_column:Pe[Pe.length-1].last_column};Sg&&(Nf._$.range=[Pe[Pe.length-(qg||1)].range[0],Pe[Pe.length-1].range[1]]);pg=this.performAction.apply(Nf,[hg,nf,Ue,yg,lf[1],Je,Pe].concat(Yf));
if("undefined"!==typeof pg)return pg;qg&&(ge=ge.slice(0,-2*qg),Je=Je.slice(0,-1*qg),Pe=Pe.slice(0,-1*qg));ge.push(this.productions_[lf[1]][0]);Je.push(Nf.$);Pe.push(Nf._$);lf=Hf[ge[ge.length-2]][ge[ge.length-1]];ge.push(lf);break;case 3:return!0}}}};Db=function(){return{EOF:1,parseError:function(Pd,ge){if(this.yy.parser)this.yy.parser.parseError(Pd,ge);else throw Error(Pd);},setInput:function(Pd,ge){this.yy=ge||this.yy||{};this._input=Pd;this._more=this._backtrack=this.done=!1;this.yylineno=this.yyleng=
0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var Pd=this._input[0];this.yytext+=Pd;this.yyleng++;this.offset++;this.match+=Pd;this.matched+=Pd;Pd.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);
return Pd},unput:function(Pd){var ge=Pd.length,Je=Pd.split(/(?:\r\n?|\n)/g);this._input=Pd+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-ge);this.offset-=ge;Pd=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);Je.length-1&&(this.yylineno-=Je.length-1);var Pe=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Je?
(Je.length===Pd.length?this.yylloc.first_column:0)+Pd[Pd.length-Je.length].length-Je[0].length:this.yylloc.first_column-ge};this.options.ranges&&(this.yylloc.range=[Pe[0],Pe[0]+this.yyleng-ge]);this.yyleng=this.yytext.length;return this},more:function(){this._more=!0;return this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer \x3d true).\n"+
this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Pd){this.unput(this.match.slice(Pd))},pastInput:function(){var Pd=this.matched.substr(0,this.matched.length-this.match.length);return(20<Pd.length?"...":"")+Pd.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Pd=this.match;20>Pd.length&&(Pd+=this._input.substr(0,20-Pd.length));return(Pd.substr(0,20)+(20<Pd.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var Pd=this.pastInput(),ge=Array(Pd.length+
1).join("-");return Pd+this.upcomingInput()+"\n"+ge+"^"},test_match:function(Pd,ge){var Je;if(this.options.backtrack_lexer){var Pe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),
done:this.done};this.options.ranges&&(Pe.yylloc.range=this.yylloc.range.slice(0))}if(Je=Pd[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=Je.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Je?Je[Je.length-1].length-Je[Je.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Pd[0].length};this.yytext+=Pd[0];this.match+=Pd[0];this.matches=Pd;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,
this.offset+=this.yyleng]);this._backtrack=this._more=!1;this._input=this._input.slice(Pd[0].length);this.matched+=Pd[0];Pd=this.performAction.call(this,this.yy,this,ge,this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(Pd)return Pd;if(this._backtrack)for(var Hf in Pe)this[Hf]=Pe[Hf];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Pd;this._more||(this.match=this.yytext="");for(var ge=this._currentRules(),Je=0;Je<ge.length;Je++)if((Pd=
this._input.match(this.rules[ge[Je]]))&&(!Pe||Pd[0].length>Pe[0].length)){var Pe=Pd;var Hf=Je;if(this.options.backtrack_lexer){Pe=this.test_match(Pd,ge[Je]);if(!1!==Pe)return Pe;if(this._backtrack)Pe=!1;else return!1}else if(!this.options.flex)break}return Pe?(Pe=this.test_match(Pe,ge[Hf]),!1!==Pe?Pe:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Pd=this.next();
return Pd?Pd:this.lex()},begin:function(Pd){this.conditionStack.push(Pd)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Pd){Pd=this.conditionStack.length-1-Math.abs(Pd||0);return 0<=Pd?this.conditionStack[Pd]:
"INITIAL"},pushState:function(Pd){this.begin(Pd)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Pd,ge,Je,Pe){switch(Je){case 1:return 6;case 2:return ge.yytext=ge.yytext.substr(1,ge.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,
/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}}}();pb.lexer=Db;Ta.prototype=pb;pb.Parser=Ta;return new Ta}();"undefined"!==typeof u&&(Z.parser=wa,Z.Parser=wa.Parser,Z.parse=function(){return wa.parse.apply(wa,arguments)})});const Mh=new Set(["vector","raster","raster-dem"]),Th={StyleExpression:Rg,
isExpression:hc,isExpressionFilter:ld,createExpression:vc,createPropertyExpression:qc,normalizePropertyExpression:function(K,Z){if(Gc(K))return new uh(K,Z);if(hc(K)){K=qc(K,Z);if("error"===K.result)throw Error(K.value.map(Ta=>`${Ta.key}: ${Ta.message}`).join(", "));return K.value}let wa=K;"string"===typeof K&&"color"===Z.type&&(wa=Lb.parse(K));return{kind:"constant",evaluate:()=>wa}},ZoomConstantExpression:Rf,ZoomDependentExpression:eh,StylePropertyFunction:uh},Te={convertFunction:Hd,createFunction:Ic,
isFunction:Gc},gf={eachSource:g,eachLayer:d,eachProperty:b};k.Color=Lb;k.ParsingError=gh;k.ValidationError=ae;k.composite=function(K){const Z=[],wa=[],Ta=[];for(const Xb in K.sources){var pb=K.sources[Xb];"vector"===pb.type&&(pb=/^mapbox:\/\/(.*)/.exec(pb.url))&&(Z.push(Xb),wa.push(pb[1]))}if(2>Z.length)return K;Z.forEach(Xb=>{delete K.sources[Xb]});const Db=wa.join(",");K.sources[Db]={type:"vector",url:`mapbox://${Db}`};K.layers.forEach(Xb=>{if(0<=Z.indexOf(Xb.source)&&(Xb.source=Db,"source-layer"in
Xb)){if(0<=Ta.indexOf(Xb["source-layer"]))throw Error("Conflicting source layer names");Ta.push(Xb["source-layer"])}});return K};k.convertFilter=$a;k.derefLayers=function(K){K=K.slice();const Z=Object.create(null);for(var wa=0;wa<K.length;wa++)Z[K[wa].id]=K[wa];for(wa=0;wa<K.length;wa++)"ref"in K[wa]&&(K[wa]=Kc(K[wa],Z[K[wa].ref]));return K};k.diff=function(K,Z){if(!K)return[{command:mf.setStyle,args:[Z]}];let wa=[];try{if(!gc(K.version,Z.version))return[{command:mf.setStyle,args:[Z]}];gc(K.center,
Z.center)||wa.push({command:mf.setCenter,args:[Z.center]});gc(K.zoom,Z.zoom)||wa.push({command:mf.setZoom,args:[Z.zoom]});gc(K.bearing,Z.bearing)||wa.push({command:mf.setBearing,args:[Z.bearing]});gc(K.pitch,Z.pitch)||wa.push({command:mf.setPitch,args:[Z.pitch]});gc(K.sprite,Z.sprite)||wa.push({command:mf.setSprite,args:[Z.sprite]});gc(K.glyphs,Z.glyphs)||wa.push({command:mf.setGlyphs,args:[Z.glyphs]});gc(K.transition,Z.transition)||wa.push({command:mf.setTransition,args:[Z.transition]});gc(K.light,
Z.light)||wa.push({command:mf.setLight,args:[Z.light]});gc(K.fog,Z.fog)||wa.push({command:mf.setFog,args:[Z.fog]});gc(K.projection,Z.projection)||wa.push({command:mf.setProjection,args:[Z.projection]});const Ta={},pb=[];fd(K.sources,Z.sources,pb,Ta);const Db=[];K.layers&&K.layers.forEach(Hc=>{Hc.source&&Ta[Hc.source]?wa.push({command:mf.removeLayer,args:[Hc.id]}):Db.push(Hc)});let Xb=K.terrain;Xb&&Ta[Xb.source]&&(wa.push({command:mf.setTerrain,args:[void 0]}),Xb=void 0);wa=wa.concat(pb);gc(Xb,Z.terrain)||
wa.push({command:mf.setTerrain,args:[Z.terrain]});Ud(Db,Z.layers,wa)}catch(Ta){console.warn("Unable to compute style diff:",Ta),wa=[{command:mf.setStyle,args:[Z]}]}return wa};k.expression=Th;k.featureFilter=function(K,Z="fill"){if(null===K||void 0===K)return{filter:()=>!0,needGeometry:!1,needFeature:!1};ld(K)||(K=af(K));let wa=!0;try{wa=rd(K)}catch(Hc){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(K,null,2)}
        `)}const Ta=Wb[`filter_${Z}`],pb=vc(wa,Ta);Z=null;if("error"===pb.result)throw Error(pb.value.map(Hc=>`${Hc.key}: ${Hc.message}`).join(", "));Z=(Hc,Vc,Pc)=>pb.value.evaluate(Hc,Vc,{},Pc);let Db=null,Xb=null;if(wa!==K){const Hc=vc(K,Ta);if("error"===Hc.result)throw Error(Hc.value.map(Vc=>`${Vc.key}: ${Vc.message}`).join(", "));Db=(Vc,Pc,Dd,Rd,Ve)=>Hc.value.evaluate(Vc,Pc,{},Dd,void 0,void 0,Rd,Ve);Xb=!za(Hc.value.expression)}K=Td(wa);return{filter:Z,dynamicFilter:Db?Db:void 0,needGeometry:K,
needFeature:!!Xb}};k.format=function(K,Z=2){K=p(K,Wb.$root);K.layers&&(K.layers=K.layers.map(wa=>p(wa,Wb.layer)));return ie(K,{indent:Z})};k.function=Te;k.latest=Wb;k.migrate=function(K){let Z=!1;7===K.version&&(K=y(K),Z=!0);8===K.version&&(Mc(K),Z=!0);if(!Z)throw Error("cannot migrate from",K.version);return K};k.v8=Wb;k.validate=function(K,Z=Wb){try{K=yf(K)}catch(wa){return[wa]}return hf(K,Z)};k.validateMapboxApiSupported=function(K){try{K=yf(K)}catch(Xb){return[Xb]}var Z=hf(K,Wb),wa=Z.concat,Ta=
K,pb=Object.keys(Wb.$root);const Db=[];pb=Oe(Ta,[...pb,"owner","id","cacheControl","draft","created","modified","visibility","protected"]);Db.push(...pb);(8<Ta.version||8>Ta.version)&&Db.push(new ae("version",Ta.version,"Style version must be 8"));Ff(Ta.glyphs,/^mapbox:\/\/fonts\/([^/]*)\/{fontstack}\/{range}.pbf$/)||Db.push(new ae("glyphs",Ta.glyphs,"Styles must reference glyphs hosted by Mapbox"));Ff(Ta.sprite,/^mapbox:\/\/sprites\/([^/]*)\/([^/]*)\/?([^/]*)?$/)||Db.push(new ae("sprite",Ta.sprite,
"Styles must reference sprites hosted by Mapbox"));Ff(Ta.visibility,/^(public|private)$/)||Db.push(new ae("visibility",Ta.visibility,"Style visibility must be public or private"));void 0!==Ta.protected&&"boolean"!==Zb(Ta.protected)&&Db.push(new ae("protected",Ta.protected,"Style protection must be true or false"));Z=wa.call(Z,Db);K.sources&&(Z=Z.concat(Gb(K.sources)));return Z};k.visit=gf;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[412]=function(ra,z,cb,B){function v(d,b){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(d,b);var c=document.createElement("canvas");c.width=d;c.height=b;return c}function k(d,b){if(.05<=b){var c="";d=d.split("\n");b=l.slice(0,Math.round(b/.1));for(var a=0,e=d.length;a<e;++a)0<a&&(c+="\n"),c+=d[a].split("").join(b);return c}return d}function p(){f||(f=v(1,1).getContext("2d"));return f}function A(d,
b){return p().measureText(d).width+(d.length-1)*b}function u(d,b,c,a){if(-1!==d.indexOf("\n")){var e=d.split("\n");d=[];for(var t=0,y=e.length;t<y;++t)d.push(u(e[t],b,c,a));return d.join("\n")}e=c+","+b+","+d+","+a;t=g[e];if(!t){var q=d.split(" ");if(1<q.length){d=p();d.font=b;b=d.measureText("M").width*c;c="";d=[];t=0;for(y=q.length;t<y;++t){var E=q[t],F=c+(c?" ":"")+E;A(F,a)<=b?c=F:(c&&d.push(c),c=E)}c&&d.push(c);t=0;for(y=d.length;t<y&&1<y;++t)q=d[t],A(q,a)<.35*b&&(c=0<t?A(d[t-1],a):Infinity,E=
t<y-1?A(d[t+1],a):Infinity,d.splice(t,1),--y,c<E?(d[t-1]+=" "+q,--t):d[t]=q+" "+d[t]);t=0;for(y=d.length-1;t<y;++t)c=d[t],q=d[t+1],A(c,a)>.7*b&&A(q,a)<.6*b&&(c=c.split(" "),E=c.pop(),A(E,a)<.2*b&&(d[t]=c.join(" "),d[t+1]=E+" "+q),--y);t=d.join("\n")}else t=d;t=k(t,a);g[e]=t}return t}Object.defineProperty(B,"__esModule",{value:!0});B.deg2rad=function(d){return d*Math.PI/180};B.createCanvas=v;B.getZoomForResolution=function(d,b){for(var c=0,a=b.length;c<a;++c)if(b[c]<d&&c+1<a)return c+Math.log(b[c]/
d)/Math.log(b[c]/b[c+1]);return a-1};B.applyLetterSpacing=k;B.wrapText=u;B.defaultResolutions=B.assign=void 0;ra=function(d){return d&&d.__esModule?d:{default:d}}(z(83));cb=z(98);z=z(84);B.assign="function"===typeof Object.assign?Object.assign:function(d,b){if(void 0===d||null===d)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(d),a=1,e=arguments.length;a<e;++a){var t=arguments[a];if(void 0!==t&&null!==t)for(var y in t)t.hasOwnProperty(y)&&(c[y]=t[y])}return c};
var m=function(){for(var d=[],b=78271.51696402048;24>=d.length;b/=2)d.push(b);return d}();B.defaultResolutions=m;var l=Array(256).join(""),f,g={};cb.labelCache&&(0,z.listen)(cb.labelCache,ra.default.CLEAR,function(){g={}})};
shadow$provide[413]=function(ra,z,cb,B){function v(R){return R&&R.__esModule?R:{default:R}}function k(R,J,r,C,N,U){var ja=R.id;U||(U={},console.warn("No functionCache provided to getValue()"));U[ja]||(U[ja]={});U=U[ja];if(!U[r]){var ba=(R[J]||L)[r];R=e.latest["".concat(J,"_").concat(R.type)][r];void 0===ba&&(ba=R.default);J=E(ba);!J&&y(ba)&&(ba=q(ba,R),J=!0);J?(R=G(ba,R),U[r]=R.evaluate.bind(R)):("color"==R.type&&(ba=e.Color.parse(ba)),U[r]=function(){return ba})}O.zoom=C;return U[r](O,N)}function p(R,
J,r,C,N){N||console.warn("No filterCache provided to evaluateFilter()");R in N||(N[R]=(0,e.featureFilter)(J).filter);O.zoom=C;return N[R](O,r)}function A(R,J){if(R){if(!ca&&(0===R.a||0===J))return;var r=R.a;return 0===r?"transparent":"rgba("+Math.round(255*R.r/r)+","+Math.round(255*R.g/r)+","+Math.round(255*R.b/r)+","+r*(void 0===J?1:J)+")"}return R}function u(R,J){var r;do(r=R.match(ea))&&(R=r[1]+(J[r[2]]||"")+r[3]);while(r);return R}Object.defineProperty(B,"__esModule",{value:!0});B._getValue=B.getValue=
k;B.renderTransparent=function(R){ca=R};B.recordStyleLayer=function(R){T=R};B.default=function(R,J,r,C,N,U,ja){void 0===C&&(C=t.defaultResolutions);"string"==typeof J&&(J=JSON.parse(J));if(8!=J.version)throw Error("glStyle version 8 required.");var ba,ia;if(U)if("undefined"!==typeof Image){var za=new Image;za.crossOrigin="anonymous";za.onload=function(){ba=za;ia=[za.width,za.height];R.changed();za.onload=null};za.src=U}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var Wa=
self;Wa.postMessage({action:"loadImage",src:U});Wa.addEventListener("message",function(Ia){"imageLoaded"===Ia.data.action&&Ia.data.src===U&&(ba=Ia.data.image,ia=[ba.width,ba.height])})}var hb=(0,e.derefLayers)(J.layers),Ja={};Wa=[];for(var qa={},Da={},va={},sa={},xa,ma=0,Ea=hb.length;ma<Ea;++ma){var Ua=hb[ma],ab=Ua.id;if("string"==typeof r&&Ua.source==r||-1!==r.indexOf(ab)){var ta=Ua["source-layer"];if(!xa){xa=Ua.source;var Na=J.sources[xa];if(!Na)throw Error('Source "'.concat(xa,'" is not defined'));
Na=Na.type;if("vector"!==Na&&"geojson"!==Na)throw Error('Source "'.concat(xa,'" is not of type "vector" or "geojson", but "').concat(Na,'"'));}Na=Ja[ta];Na||(Na=[],Ja[ta]=Na);Na.push({layer:Ua,index:ma});Wa.push(ab)}}var oa=new d.default,aa=new l.default,ka=[];J=function(Ia,Xa){var Ya=Ia.getProperties(),mb=Ja[Ya.layer];if(mb){var ib=C.indexOf(Xa);-1==ib&&(ib=(0,t.getZoomForResolution)(Xa,C));var Eb=w[Ia.getGeometry().getType()],Zb={properties:Ya,type:Eb},Gc=-1,xc,Ic=function(Bb,tb){var dc=mb[Bb];
Bb=dc.layer;tb=Bb.id;var Yb=Bb.layout||L,hc=Bb.paint||L;if("none"===Yb.visibility||"minzoom"in Bb&&ib<Bb.minzoom||"maxzoom"in Bb&&ib>=Bb.maxzoom)return"continue";var vc=Bb.filter;if(!vc||p(tb,vc,Zb,ib,sa)){xc=Bb;var qc=void 0,Dc=vc=void 0,Yc=Dc=void 0;tb=void 0;dc=dc.index;if(3==Eb&&("fill"==Bb.type||"fill-extrusion"==Bb.type))if(vc=k(Bb,"paint",Bb.type+"-opacity",ib,Zb,va),Bb.type+"-pattern"in hc){if(Dc=k(Bb,"paint",Bb.type+"-pattern",ib,Zb,va))if(qc="string"===typeof Dc?u(Dc,Ya):Dc.toString(),ba&&
N&&N[qc]){++Gc;tb=ka[Gc];if(!tb||!tb.getFill()||tb.getStroke()||tb.getText())tb=new b.default({fill:new l.default}),ka[Gc]=tb;Dc=tb.getFill();tb.setZIndex(dc);var Hd=qc+"."+vc;Yc=Da[Hd];if(!Yc){qc=N[qc];Yc=(0,t.createCanvas)(qc.width,qc.height);var Fa=Yc.getContext("2d");Fa.globalAlpha=vc;Fa.drawImage(ba,qc.x,qc.y,qc.width,qc.height,0,0,qc.width,qc.height);Yc=Fa.createPattern(Yc,"repeat");Da[Hd]=Yc}Dc.setColor(Yc)}}else if(qc=A(k(Bb,"paint",Bb.type+"-color",ib,Zb,va),vc),Bb.type+"-outline-color"in
hc&&(Yc=A(k(Bb,"paint",Bb.type+"-outline-color",ib,Zb,va),vc)),Yc||(Yc=qc),qc||Yc){++Gc;tb=ka[Gc];if(!tb||qc&&!tb.getFill()||!qc&&tb.getFill()||Yc&&!tb.getStroke()||!Yc&&tb.getStroke()||tb.getText())tb=new b.default({fill:qc?new l.default:void 0,stroke:Yc?new d.default:void 0}),ka[Gc]=tb;qc&&(Dc=tb.getFill(),Dc.setColor(qc));Yc&&(Dc=tb.getStroke(),Dc.setColor(Yc),Dc.setWidth(.5));tb.setZIndex(dc)}if(1!=Eb&&"line"==Bb.type){qc=!("line-pattern"in hc)&&"line-color"in hc?A(k(Bb,"paint","line-color",ib,
Zb,va),k(Bb,"paint","line-opacity",ib,Zb,va)):void 0;var Ca=k(Bb,"paint","line-width",ib,Zb,va);if(qc&&0<Ca){++Gc;tb=ka[Gc];if(!tb||!tb.getStroke()||tb.getFill()||tb.getText())tb=new b.default({stroke:new d.default}),ka[Gc]=tb;Dc=tb.getStroke();Dc.setLineCap(k(Bb,"layout","line-cap",ib,Zb,va));Dc.setLineJoin(k(Bb,"layout","line-join",ib,Zb,va));Dc.setMiterLimit(k(Bb,"layout","line-miter-limit",ib,Zb,va));Dc.setColor(qc);Dc.setWidth(Ca);Dc.setLineDash(hc["line-dasharray"]?k(Bb,"paint","line-dasharray",
ib,Zb,va).map(function(me){return me*Ca}):null);tb.setZIndex(dc)}}Yc=!1;Dc=null;var Ha=0,db=void 0;qc=Fa=void 0;if((1==Eb||2==Eb)&&"icon-image"in Yb&&(db=k(Bb,"layout","icon-image",ib,Zb,va))){db="string"===typeof db?u(db,Ya):db.toString();var ob=void 0;if(ba&&N&&N[db]){var Ab=k(Bb,"layout","icon-rotation-alignment",ib,Zb,va);if(2==Eb){var Ob=Ia.getGeometry();if(Ob.getFlatMidpoint||Ob.getFlatMidpoints)if(Hd=Ob.getExtent(),150<Math.sqrt(Math.max(Math.pow((Hd[2]-Hd[0])/Xa,2),Math.pow((Hd[3]-Hd[1])/
Xa,2)))){Hd="MultiLineString"===Ob.getType()?Ob.getFlatMidpoints():Ob.getFlatMidpoint();S||(V=[NaN,NaN],S=new g.default("Point",V,[],{},null));ob=S;V[0]=Hd[0];V[1]=Hd[1];var Ub=k(Bb,"layout","symbol-placement",ib,Zb,va);if("line"===Ub&&"map"===Ab){Ub=Ob.getStride();Ob=Ob.getFlatCoordinates();for(var $b=0,Jc=Ob.length-Ub;$b<Jc;$b+=Ub){var Wc=Ob[$b],dd=Ob[$b+1],ld=Ob[$b+Ub],rd=Ob[$b+Ub+1],Kd=Math.min(dd,rd),Nd=Math.max(Wc,ld),fe=Math.max(dd,rd);if(Hd[0]>=Math.min(Wc,ld)&&Hd[0]<=Nd&&Hd[1]>=Kd&&Hd[1]<=
fe){Ha=Math.atan2(dd-rd,ld-Wc);break}}}}}if(2!==Eb||ob){Ub=k(Bb,"layout","icon-size",ib,Zb,va);Ob=void 0!==hc["icon-color"]?k(Bb,"paint","icon-color",ib,Zb,va):null;if(!Ob||0!==Ob.a)if(Hd=db+"."+Ub,null!==Ob&&(Hd+="."+Ob),Fa=qa[Hd],!Fa){var be=N[db];Fa=new f.default({color:Ob?[255*Ob.r,255*Ob.g,255*Ob.b,Ob.a]:void 0,img:ba,imgSize:ia,size:[be.width,be.height],offset:[be.x,be.y],rotateWithView:"map"===Ab,scale:Ub/be.pixelRatio,displacement:"icon-offset"in Yb?k(Bb,"layout","icon-offset",ib,Zb,va).map(function(me){return-me*
be.pixelRatio}):void 0});qa[Hd]=Fa}if(Fa){++Gc;tb=ka[Gc];if(!tb||!tb.getImage()||tb.getFill()||tb.getStroke())tb=new b.default,ka[Gc]=tb;tb.setGeometry(ob);Fa.setRotation(Ha+(0,t.deg2rad)(k(Bb,"layout","icon-rotate",ib,Zb,va)));Fa.setOpacity(k(Bb,"paint","icon-opacity",ib,Zb,va));Fa.setAnchor(D[k(Bb,"layout","icon-anchor",ib,Zb,va)]);tb.setImage(Fa);Dc=tb.getText();tb.setText(void 0);tb.setZIndex(dc);Yc=!0;qc=!1}}else qc=!0}}if(1==Eb&&"circle"===Bb.type){++Gc;tb=ka[Gc];if(!tb||!tb.getImage()||tb.getFill()||
tb.getStroke())tb=new b.default,ka[Gc]=tb;Dc="circle-radius"in hc?k(Bb,"paint","circle-radius",ib,Zb,va):5;hc=A(k(Bb,"paint","circle-stroke-color",ib,Zb,va),k(Bb,"paint","circle-stroke-opacity",ib,Zb,va));Yc=A(k(Bb,"paint","circle-color",ib,Zb,va),k(Bb,"paint","circle-opacity",ib,Zb,va));Ha=k(Bb,"paint","circle-stroke-width",ib,Zb,va);db=Dc+"."+hc+"."+Yc+"."+Ha;Fa=qa[db];Fa||(Fa=new m.default({radius:Dc,stroke:hc&&0<Ha?new d.default({width:Ha,color:hc}):void 0,fill:Yc?new l.default({color:Yc}):void 0}),
qa[db]=Fa);tb.setImage(Fa);Dc=tb.getText();tb.setText(void 0);tb.setGeometry(void 0);tb.setZIndex(dc);Yc=!0}Fa=hc=void 0;if("text-field"in Yb){var ce=Math.round(k(Bb,"layout","text-size",ib,Zb,va));var Td=k(Bb,"layout","text-font",ib,Zb,va);var af=k(Bb,"layout","text-line-height",ib,Zb,va);Fa=(0,a.default)(ja?ja(Td):Td,ce,af);var Se=k(Bb,"layout","text-letter-spacing",ib,Zb,va);var ue=k(Bb,"layout","text-max-width",ib,Zb,va);vc=k(Bb,"layout","text-field",ib,Zb,va);hc="object"===typeof vc&&vc.sections?
1===vc.sections.length?vc.toString():vc.sections.reduce(function(me,Ga,$a){$a=Ga.fontStack?Ga.fontStack.split(","):Td;$a=(0,a.default)(ja?ja($a):$a,ce*(Ga.scale||1),af);Ga=Ga.text;if("\n"===Ga)return me.push("\n",""),me;if(2==Eb)me.push((0,t.applyLetterSpacing)(Ga,Se),$a);else{Ga=(0,t.wrapText)(Ga,$a,ue,Se).split("\n");for(var ub=0,Mb=Ga.length;ub<Mb;++ub)0<ub&&me.push("\n",""),me.push(Ga[ub],$a);return me}},[]):u(vc,Ya).trim();vc=k(Bb,"paint","text-opacity",ib,Zb,va)}if(hc&&vc&&!qc){if(!Yc){++Gc;
tb=ka[Gc];if(!tb||!tb.getText()||tb.getFill()||tb.getStroke())tb=new b.default,ka[Gc]=tb;tb.setImage(void 0);tb.setGeometry(void 0)}tb.getText()||tb.setText(Dc||new c.default({padding:[2,2,2,2]}));Dc=tb.getText();Yb=Yb["text-transform"];"uppercase"==Yb?hc=Array.isArray(hc)?hc.map(function(me,Ga){return Ga%2?me:me.toUpperCase()}):hc.toUpperCase():"lowercase"==Yb&&(hc=Array.isArray(hc)?hc.map(function(me,Ga){return Ga%2?me:me.toLowerCase()}):hc.toLowerCase());ob=Array.isArray(hc)?hc:2==Eb?(0,t.applyLetterSpacing)(hc,
Se):(0,t.wrapText)(hc,Fa,ue,Se);Dc.setText(ob);Dc.setFont(Fa);Dc.setRotation((0,t.deg2rad)(k(Bb,"layout","text-rotate",ib,Zb,va)));qc=k(Bb,"layout","text-anchor",ib,Zb,va);Ub=Yc||1==Eb?"point":k(Bb,"layout","symbol-placement",ib,Zb,va);Dc.setPlacement(Ub);Dc.setOverflow("point"===Ub);Yb=k(Bb,"paint","text-halo-width",ib,Zb,va);Yc=k(Bb,"layout","text-offset",ib,Zb,va);Fa=k(Bb,"paint","text-translate",ib,Zb,va);db=Ha=0;"point"==Ub?(hc="center",-1!==qc.indexOf("left")?(hc="left",db=Yb):-1!==qc.indexOf("right")&&
(hc="right",db=-Yb),Dc.setTextAlign(hc),hc=k(Bb,"layout","text-rotation-alignment",ib,Zb,va),Dc.setRotateWithView("map"==hc)):(Dc.setMaxAngle((0,t.deg2rad)(k(Bb,"layout","text-max-angle",ib,Zb,va))*hc.length/ob.length),Dc.setTextAlign(),Dc.setRotateWithView(!1));hc="middle";0==qc.indexOf("bottom")?(hc="bottom",Ha=-Yb-.5*(af-1)*ce):0==qc.indexOf("top")&&(hc="top",Ha=Yb+.5*(af-1)*ce);Dc.setTextBaseline(hc);Dc.setOffsetX(Yc[0]*ce+db+Fa[0]);Dc.setOffsetY(Yc[1]*ce+Ha+Fa[1]);aa.setColor(A(k(Bb,"paint",
"text-color",ib,Zb,va),vc));Dc.setFill(aa);(vc=A(k(Bb,"paint","text-halo-color",ib,Zb,va),vc))?(oa.setColor(vc),Yb*=2,vc=.5*ce,oa.setWidth(Yb<=vc?Yb:vc),Dc.setStroke(oa)):Dc.setStroke(void 0);Bb=k(Bb,"layout","text-padding",ib,Zb,va);vc=Dc.getPadding();Bb!==vc[0]&&(vc[0]=Bb,vc[1]=Bb,vc[2]=Bb,vc[3]=Bb);tb.setZIndex(dc)}}},rc=0,jd=mb.length;for(;rc<jd;++rc)Ic(rc,jd);if(-1<Gc)return ka.length=Gc+1,T&&("function"===typeof Ia.set?Ia.set("mapbox-layer",xc):Ia.getProperties()["mapbox-layer"]=xc),ka}};R.setStyle(J);
R.set("mapbox-source",xa);R.set("mapbox-layers",Wa);return J};B._colorWithOpacity=A;B._evaluateFilter=p;B._fromTemplate=u;var m=v(z(197)),l=v(z(198)),f=v(z(224)),g=v(z(403)),d=v(z(199)),b=v(z(200)),c=v(z(225)),a=v(z(410)),e=z(411),t=z(412),y=e.function.isFunction,q=e.function.convertFunction,E=e.expression.isExpression,F=e.expression.createPropertyExpression,w={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},D={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,
1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},G=function(R,J){R=F(R,J);if("error"===R.result)throw Error(R.value.map(function(r){return"".concat(r.key,": ").concat(r.message)}).join(", "));return R.value},L={},O={zoom:0},V,S,ca=!1,ea=/^([^]*)\{(.*)\}([^]*)$/,T=!1};
shadow$provide[414]=function(ra,z,cb,B){(function(){cb.exports={icon:"icons/google.svg",name:"google",title:"Google Fonts",link:"google.com/fonts",getNames:function(){return v},getLink:function(k){return"https://fonts.google.com/specimen/"+k.replace(/( )/g,"+")},normalizeName:function(k){return k}};var v="ABeeZee;Abel;Abril Fatface;Aclonica;Acme;Actor;Adamina;Advent Pro;Aguafina Script;Akronim;Aladin;Aldrich;Alef;Alegreya;Alegreya SC;Alegreya Sans;Alegreya Sans SC;Alex Brush;Alfa Slab One;Alice;Alike;Alike Angular;Allan;Allerta;Allerta Stencil;Allura;Almendra;Almendra Display;Almendra SC;Amarante;Amaranth;Amatic SC;Amethysta;Amiri;Amita;Anaheim;Andada;Andika;Angkor;Annie Use Your Telescope;Anonymous Pro;Antic;Antic Didone;Antic Slab;Anton;Arapey;Arbutus;Arbutus Slab;Architects Daughter;Archivo Black;Archivo Narrow;Arimo;Arizonia;Armata;Artifika;Arvo;Arya;Asap;Asar;Asset;Astloch;Asul;Atomic Age;Aubrey;Audiowide;Autour One;Average;Average Sans;Averia Gruesa Libre;Averia Libre;Averia Sans Libre;Averia Serif Libre;Bad Script;Balthazar;Bangers;Basic;Battambang;Baumans;Bayon;Belgrano;Belleza;BenchNine;Bentham;Berkshire Swash;Bevan;Bigelow Rules;Bigshot One;Bilbo;Bilbo Swash Caps;Biryani;Bitter;Black Ops One;Bokor;Bonbon;Boogaloo;Bowlby One;Bowlby One SC;Brawler;Bree Serif;Bubblegum Sans;Bubbler One;Buda;Buenard;Butcherman;Butterfly Kids;Cabin;Cabin Condensed;Cabin Sketch;Caesar Dressing;Cagliostro;Calligraffitti;Cambay;Cambo;Candal;Cantarell;Cantata One;Cantora One;Capriola;Cardo;Carme;Carrois Gothic;Carrois Gothic SC;Carter One;Catamaran;Caudex;Caveat;Caveat Brush;Cedarville Cursive;Ceviche One;Changa One;Chango;Chau Philomene One;Chela One;Chelsea Market;Chenla;Cherry Cream Soda;Cherry Swash;Chewy;Chicle;Chivo;Chonburi;Cinzel;Cinzel Decorative;Clicker Script;Coda;Coda Caption;Codystar;Combo;Comfortaa;Coming Soon;Concert One;Condiment;Content;Contrail One;Convergence;Cookie;Copse;Corben;Courgette;Cousine;Coustard;Covered By Your Grace;Crafty Girls;Creepster;Crete Round;Crimson Text;Croissant One;Crushed;Cuprum;Cutive;Cutive Mono;Damion;Dancing Script;Dangrek;Dawning of a New Day;Days One;Dekko;Delius;Delius Swash Caps;Delius Unicase;Della Respira;Denk One;Devonshire;Dhurjati;Didact Gothic;Diplomata;Diplomata SC;Domine;Donegal One;Doppio One;Dorsa;Dosis;Dr Sugiyama;Droid Sans;Droid Sans Mono;Droid Serif;Duru Sans;Dynalight;EB Garamond;Eagle Lake;Eater;Economica;Eczar;Ek Mukta;Electrolize;Elsie;Elsie Swash Caps;Emblema One;Emilys Candy;Engagement;Englebert;Enriqueta;Erica One;Esteban;Euphoria Script;Ewert;Exo;Exo 2;Expletus Sans;Fanwood Text;Fascinate;Fascinate Inline;Faster One;Fasthand;Fauna One;Federant;Federo;Felipa;Fenix;Finger Paint;Fira Mono;Fira Sans;Fjalla One;Fjord One;Flamenco;Flavors;Fondamento;Fontdiner Swanky;Forum;Francois One;Freckle Face;Fredericka the Great;Fredoka One;Freehand;Fresca;Frijole;Fruktur;Fugaz One;GFS Didot;GFS Neohellenic;Gabriela;Gafata;Galdeano;Galindo;Gentium Basic;Gentium Book Basic;Geo;Geostar;Geostar Fill;Germania One;Gidugu;Gilda Display;Give You Glory;Glass Antiqua;Glegoo;Gloria Hallelujah;Goblin One;Gochi Hand;Gorditas;Goudy Bookletter 1911;Graduate;Grand Hotel;Gravitas One;Great Vibes;Griffy;Gruppo;Gudea;Gurajada;Habibi;Halant;Hammersmith One;Hanalei;Hanalei Fill;Handlee;Hanuman;Happy Monkey;Headland One;Henny Penny;Herr Von Muellerhoff;Hind;Hind Siliguri;Hind Vadodara;Holtwood One SC;Homemade Apple;Homenaje;IM Fell DW Pica;IM Fell DW Pica SC;IM Fell Double Pica;IM Fell Double Pica SC;IM Fell English;IM Fell English SC;IM Fell French Canon;IM Fell French Canon SC;IM Fell Great Primer;IM Fell Great Primer SC;Iceberg;Iceland;Imprima;Inconsolata;Inder;Indie Flower;Inika;Inknut Antiqua;Irish Grover;Istok Web;Italiana;Italianno;Itim;Jacques Francois;Jacques Francois Shadow;Jaldi;Jim Nightshade;Jockey One;Jolly Lodger;Josefin Sans;Josefin Slab;Joti One;Judson;Julee;Julius Sans One;Junge;Jura;Just Another Hand;Just Me Again Down Here;Kadwa;Kalam;Kameron;Kantumruy;Karla;Karma;Kaushan Script;Kavoon;Kdam Thmor;Keania One;Kelly Slab;Kenia;Khand;Khmer;Khula;Kite One;Knewave;Kotta One;Koulen;Kranky;Kreon;Kristi;Krona One;Kurale;La Belle Aurore;Laila;Lakki Reddy;Lancelot;Lateef;Lato;League Script;Leckerli One;Ledger;Lekton;Lemon;Libre Baskerville;Life Savers;Lilita One;Lily Script One;Limelight;Linden Hill;Lobster;Lobster Two;Londrina Outline;Londrina Shadow;Londrina Sketch;Londrina Solid;Lora;Love Ya Like A Sister;Loved by the King;Lovers Quarrel;Luckiest Guy;Lusitana;Lustria;Macondo;Macondo Swash Caps;Magra;Maiden Orange;Mako;Mallanna;Mandali;Marcellus;Marcellus SC;Marck Script;Margarine;Marko One;Marmelad;Martel;Martel Sans;Marvel;Mate;Mate SC;Maven Pro;McLaren;Meddon;MedievalSharp;Medula One;Megrim;Meie Script;Merienda;Merienda One;Merriweather;Merriweather Sans;Metal;Metal Mania;Metamorphous;Metrophobic;Michroma;Milonga;Miltonian;Miltonian Tattoo;Miniver;Miss Fajardose;Modak;Modern Antiqua;Molengo;Molle;Monda;Monofett;Monoton;Monsieur La Doulaise;Montaga;Montez;Montserrat;Montserrat Alternates;Montserrat Subrayada;Moul;Moulpali;Mountains of Christmas;Mouse Memoirs;Mr Bedfort;Mr Dafoe;Mr De Haviland;Mrs Saint Delafield;Mrs Sheppards;Muli;Mystery Quest;NTR;Neucha;Neuton;New Rocker;News Cycle;Niconne;Nixie One;Nobile;Nokora;Norican;Nosifer;Nothing You Could Do;Noticia Text;Noto Sans;Noto Serif;Nova Cut;Nova Flat;Nova Mono;Nova Oval;Nova Round;Nova Script;Nova Slim;Nova Square;Numans;Nunito;Odor Mean Chey;Offside;Old Standard TT;Oldenburg;Oleo Script;Oleo Script Swash Caps;Open Sans;Open Sans Condensed;Oranienbaum;Orbitron;Oregano;Orienta;Original Surfer;Oswald;Over the Rainbow;Overlock;Overlock SC;Ovo;Oxygen;Oxygen Mono;PT Mono;PT Sans;PT Sans Caption;PT Sans Narrow;PT Serif;PT Serif Caption;Pacifico;Palanquin;Palanquin Dark;Paprika;Parisienne;Passero One;Passion One;Pathway Gothic One;Patrick Hand;Patrick Hand SC;Patua One;Paytone One;Peddana;Peralta;Permanent Marker;Petit Formal Script;Petrona;Philosopher;Piedra;Pinyon Script;Pirata One;Plaster;Play;Playball;Playfair Display;Playfair Display SC;Podkova;Poiret One;Poller One;Poly;Pompiere;Pontano Sans;Poppins;Port Lligat Sans;Port Lligat Slab;Pragati Narrow;Prata;Preahvihear;Press Start 2P;Princess Sofia;Prociono;Prosto One;Puritan;Purple Purse;Quando;Quantico;Quattrocento;Quattrocento Sans;Questrial;Quicksand;Quintessential;Qwigley;Racing Sans One;Radley;Rajdhani;Raleway;Raleway Dots;Ramabhadra;Ramaraja;Rambla;Rammetto One;Ranchers;Rancho;Ranga;Rationale;Ravi Prakash;Redressed;Reenie Beanie;Revalia;Rhodium Libre;Ribeye;Ribeye Marrow;Righteous;Risque;Roboto;Roboto Condensed;Roboto Mono;Roboto Slab;Rochester;Rock Salt;Rokkitt;Romanesco;Ropa Sans;Rosario;Rosarivo;Rouge Script;Rozha One;Rubik;Rubik Mono One;Rubik One;Ruda;Rufina;Ruge Boogie;Ruluko;Rum Raisin;Ruslan Display;Russo One;Ruthie;Rye;Sacramento;Sahitya;Sail;Salsa;Sanchez;Sancreek;Sansita One;Sarala;Sarina;Sarpanch;Satisfy;Scada;Scheherazade;Schoolbell;Seaweed Script;Sevillana;Seymour One;Shadows Into Light;Shadows Into Light Two;Shanti;Share;Share Tech;Share Tech Mono;Shojumaru;Short Stack;Siemreap;Sigmar One;Signika;Signika Negative;Simonetta;Sintony;Sirin Stencil;Six Caps;Skranji;Slabo 13px;Slabo 27px;Slackey;Smokum;Smythe;Sniglet;Snippet;Snowburst One;Sofadi One;Sofia;Sonsie One;Sorts Mill Goudy;Source Code Pro;Source Sans Pro;Source Serif Pro;Special Elite;Spicy Rice;Spinnaker;Spirax;Squada One;Sree Krushnadevaraya;Stalemate;Stalinist One;Stardos Stencil;Stint Ultra Condensed;Stint Ultra Expanded;Stoke;Strait;Sue Ellen Francisco;Sumana;Sunshiney;Supermercado One;Sura;Suranna;Suravaram;Suwannaphum;Swanky and Moo Moo;Syncopate;Tangerine;Taprom;Tauri;Teko;Telex;Tenali Ramakrishna;Tenor Sans;Text Me One;The Girl Next Door;Tienne;Tillana;Timmana;Tinos;Titan One;Titillium Web;Trade Winds;Trocchi;Trochut;Trykker;Tulpen One;Ubuntu;Ubuntu Condensed;Ubuntu Mono;Ultra;Uncial Antiqua;Underdog;Unica One;UnifrakturCook;UnifrakturMaguntia;Unkempt;Unlock;Unna;VT323;Vampiro One;Varela;Varela Round;Vast Shadow;Vesper Libre;Vibur;Vidaloka;Viga;Voces;Volkhov;Vollkorn;Voltaire;Waiting for the Sunrise;Wallpoet;Walter Turncoat;Warnes;Wellfleet;Wendy One;Wire One;Work Sans;Yanone Kaffeesatz;Yantramanav;Yellowtail;Yeseva One;Yesteryear;Zeyada".split(";")}).call(this)};
shadow$provide[415]=function(ra,z,cb,B){function v(va){if("function"!==typeof WeakMap)return null;var sa=new WeakMap,xa=new WeakMap;return(v=function(ma){return ma?xa:sa})(va)}function k(va){return va&&va.__esModule?va:{default:va}}function p(va){if(!za){za={};for(var sa=document.styleSheets,xa=0,ma=sa.length;xa<ma;++xa){var Ea=sa[xa];try{var Ua=Ea.rules||Ea.cssRules;if(Ua){Ea=0;for(var ab=Ua.length;Ea<ab;++Ea){var ta=Ua[Ea];if(5==ta.type){var Na=ta.cssText.match(ba);za[Na[1].replace(ia,"")]=!0}}}}catch(oa){}}}return va in
za}function A(va){var sa=va.toString();if(sa in Wa)return va;for(var xa=va.map(function(ta){ta=(0,R.default)(ta,1).split(" ");return[ta.slice(3).join(" ").replace(/"/g,""),ta[1]+ta[0]]}),ma=0,Ea=xa.length;ma<Ea;++ma){var Ua=xa[ma],ab=Ua[0];p(ab)||-1===hb.indexOf(ab)||(Ua="https://fonts.googleapis.com/css?family\x3d"+ab.replace(/ /g,"+")+":"+Ua[1],document.querySelector('link[href\x3d"'+Ua+'"]')||(ab=document.createElement("link"),ab.href=Ua,ab.rel="stylesheet",document.head.appendChild(ab)))}Wa[sa]=
!0;return va}function u(va,sa){sa&&0===va.indexOf(".")&&(va=sa+va);return va}function m(va,sa,xa){va=u(va,sa);return(sa=va.match(Ja))?sa[1]+xa+(2<sa.length?sa[2]:""):va+xa}function l(va,sa,xa,ma,Ea){return new Promise(function(Ua,ab){function ta(){aa||sa.sprite&&!Na?aa?(va.setStyle(aa),Ua()):ab(Error("Something went wrong trying to apply style.")):(aa=(0,T.default)(va,sa,xa,Ea,Na,oa,A),va.getStyle()?Ua():ab(Error("Nothing to show for source [".concat(xa,"]"))))}"object"!=typeof sa&&(sa=JSON.parse(sa));
if(8!=sa.version)return ab(Error("glStyle version 8 required."));if(!(va instanceof O.default||va instanceof S.default))return ab(Error("Can only apply to VectorLayer or VectorTileLayer"));var Na,oa,aa;if(sa.sprite){var ka=1.5<=window.devicePixelRatio?.5:1;var Ia=.5==ka?"@2x":"",Xa=m(sa.sprite,ma,Ia+".json");fetch(Xa,{credentials:"same-origin"}).then(function(Ya){if(Ya.ok||""===Ia)return Ya;Xa=m(sa.sprite,ma,".json");return fetch(Xa,{credentials:"same-origin"})}).then(function(Ya){if(Ya.ok)return Ya.json();
ab(Error("Problem fetching sprite from ".concat(Xa,": ").concat(Ya.statusText)))}).then(function(Ya){if(void 0===Ya)return ab(Error("No sprites found."));Na=Ya;oa=m(sa.sprite,ma,Ia+".png");ta()}).catch(function(Ya){ab(Error("Sprites cannot be loaded: ".concat(Xa,": ").concat(Ya.message)))})}else ta()})}function f(va,sa){function xa(Ua){var ab=sa.layout||{},ta=sa.paint||{};ma.paint=ta;Ua="function"===typeof va.getSource?va.getSource().getTileGrid().getZForResolution(Ua):va.getView().getZoom();var Na=
"function"===typeof va.getTargetElement?va.getTargetElement():void 0;if(void 0!==ta["background-color"]){var oa=(0,T.getValue)(ma,"paint","background-color",Ua,qa,Ea);Na&&(Na.style.background=J.Color.parse(oa).toString())}if(void 0!==ta["background-opacity"]){var aa=(0,T.getValue)(ma,"paint","background-opacity",Ua,qa,Ea);Na&&(Na.style.opacity=aa)}if("none"==ab.visibility)Na&&(Na.style.backgroundColor="",Na.style.opacity="");else return(0,T._colorWithOpacity)(oa,aa)}var ma={id:sa.id,type:sa.type},
Ea={};if("function"===typeof va.getTargetElement)va.getTargetElement()&&xa(),va.on(["change:resolution","change:target"],xa);else if("function"===typeof va.setBackground)va.setBackground(xa);else throw Error("Unable to apply background.");}function g(va,sa){var xa;va.some(function(ma){if(ma.id==sa)return xa=ma.source,!0});return xa}function d(va){var sa=va.bounds;if(sa)return va=(0,N.fromLonLat)([sa[0],sa[1]]),sa=(0,N.fromLonLat)([sa[2],sa[3]]),[va[0],va[1],sa[0],sa[1]]}function b(va,sa){va=(0,r.assign)({},
va);var xa=[sa,JSON.stringify(va)].toString(),ma=ja[xa];ma||(ma=new G.default({url:va.tiles?void 0:sa,tileJSON:va.tiles?va:void 0}),ja[xa]=ma);return new Promise(function(Ea){var Ua=ma.on("change",function(){var ab=ma.getState();if("ready"===ab){var ta=ma.getTileJSON();ab=Array.isArray(ta.tiles)?ta.tiles:[ta.tiles];if(sa)for(var Na=0,oa=ab.length;Na<oa;++Na)ab[Na]=decodeURI((new URL(ab[Na],sa)).href);Na=ma.getTileGrid();oa=d(ta);var aa=ta.minzoom||0;ta=ta.maxzoom||22;var ka=ma.get("ol-source");void 0===
ka&&(ka=new ca.default({attributions:ma.getAttributions(),format:new F.default,tileGrid:new D.default({origin:Na.getOrigin(0),extent:oa||Na.getExtent(),minZoom:aa,resolutions:r.defaultResolutions.slice(0,ta+1),tileSize:512}),urls:ab}),ma.set("ol-source",ka));(0,U.unByKey)(Ua);Ea(ka)}else"error"===ab&&(ma.set("ol-source",null),(0,U.unByKey)(Ua),Ea(void 0))});"ready"===ma.getState()&&ma.changed()})}function c(va,sa){var xa=new S.default({declutter:!0,visible:!1});b(va,sa).then(function(ma){xa.setSource(ma)});
return xa}function a(va,sa){var xa=new L.default,ma=new G.default({transition:0,url:va.tiles?void 0:sa,tileJSON:va.tiles?va:void 0,crossOrigin:"anonymous"}),Ea=ma.on("change",function(){var Ua=ma.getState();if("ready"===Ua){(0,U.unByKey)(Ea);var ab=ma.getTileJSON();Ua=d(ab);var ta=ma.getTileGrid(),Na=va.tileSize||ab.tileSize||512,oa=ab.minzoom||0;ab=ab.maxzoom||22;ma.tileGrid=new D.default({origin:ta.getOrigin(0),extent:Ua||ta.getExtent(),minZoom:oa,resolutions:(0,C.createXYZ)({maxZoom:ab,tileSize:Na}).getResolutions(),
tileSize:Na});xa.setSource(ma)}else"error"===Ua&&((0,U.unByKey)(Ea),xa.setSource(void 0))});ma.setTileLoadFunction(function(Ua,ab){if(-1!=ab.indexOf("{bbox-epsg-3857}")){var ta=ma.getTileGrid().getTileCoordExtent(Ua.getTileCoord());ab=ab.replace("{bbox-epsg-3857}",ta.toString())}Ua.getImage().src=ab});return xa}function e(va,sa){var xa=va.data,ma,Ea;"string"==typeof xa?Ea=u(xa,sa):ma=Da.readFeatures(xa,{featureProjection:"EPSG:3857"});return new O.default({declutter:!0,source:new V.default({attributions:va.attribution,
features:ma,format:Da,url:Ea}),visible:!1})}function t(va,sa,xa,ma){xa=xa.getZoom();va=(0,T.getValue)(va,"paint","raster-opacity",xa,qa,ma);sa.setOpacity(va)}function y(va,sa,xa,ma,Ea,Ua){void 0===Ua&&(Ua="");var ab=[],ta=sa.getView();ta.isDef()||ta.getRotation()||ta.getResolutions()||(ta=new ea.default((0,r.assign)(ta.getProperties(),{maxResolution:r.defaultResolutions[0]})),sa.setView(ta));"center"in va&&!ta.getCenter()&&ta.setCenter((0,N.fromLonLat)(va.center));"zoom"in va&&void 0===ta.getZoom()&&
ta.setResolution(r.defaultResolutions[0]/Math.pow(2,va.zoom));ta.getCenter()&&void 0!==ta.getZoom()||ta.fit(ta.getProjection().getExtent(),{nearest:!0,size:sa.getSize()});va.sprite&&(0==va.sprite.indexOf("mapbox://")?va.sprite=xa+"/sprite"+Ua:0!=va.sprite.indexOf("http")&&(va.sprite=(ma?ma+Ea:"")+va.sprite+Ua));var Na=va.layers,oa=[],aa,ka,Ia,Xa,Ya,mb;xa=function(Gc,xc){aa=Na[Gc];Gc=aa.type;if("heatmap"!=Gc&&"hillshade"!=Gc)if("background"==Gc)f(sa,aa);else{Xa=aa.source||g(Na,aa.ref);if(Xa!=Ia){oa.length&&
(ab.push(E(Ya,oa,va,Ea,sa)),oa=[]);ka=va.sources[Xa];if(mb=ka.url)if(mb=u(mb,Ea),0==mb.indexOf("mapbox://")){var Ic=mb.replace("mapbox://","");ka.tiles=["a","b","c","d"].map(function(rc){return"https://"+rc+".tiles.mapbox.com/v4/"+Ic+"/{z}/{x}/{y}."+("vector"==ka.type?"vector.pbf":"png")+Ua})}else 0===mb.indexOf("/")&&0===ma.indexOf("http")&&(mb=ma+mb);ka.tiles&&(ka.tiles=ka.tiles.map(function(rc){return u(rc,Ea)}));"vector"==ka.type?Ya=c(ka,mb):"raster"==ka.type?(Ya=a(ka,mb),Ya.setVisible(aa.layout?
"none"!==aa.layout.visibility:!0),Gc={},ta.on("change:resolution",t.bind(ib,aa,Ya,ta,Gc)),t(aa,Ya,ta,Gc)):"geojson"==ka.type&&(Ya=e(ka,Ea));Ia=Xa;Ya&&Ya.set("mapbox-source",Ia)}oa.push(aa.id)}};for(var ib=this,Eb=0,Zb=Na.length;Eb<Zb;++Eb)xa(Eb,Zb);ab.push(E(Ya,oa,va,Ea,sa));sa.set("mapbox-style",va);return Promise.all(ab)}function q(va,sa){var xa,ma="",Ea="",Ua="",ab="";if("string"===typeof va||va instanceof HTMLElement)va=new w.default({target:va});if("string"===typeof sa){if(xa=sa.match(Ja))Ea=
xa[1],ma=2<xa.length?xa[2]:"";xa=new Promise(function(ta,Na){fetch(sa,{credentials:"same-origin"}).then(function(oa){return oa.json()}).then(function(oa){var aa=document.createElement("A");aa.href=sa;var ka=aa.href;ab=aa.pathname.split("/").slice(0,-1).join("/")+"/";Ua=ka.substr(0,ka.indexOf(ab));y(oa,va,Ea,Ua,ab,ma).then(function(){ta(va)}).catch(Na)}).catch(function(oa){Na(Error("Could not load ".concat(sa,": ").concat(oa.message)))})})}else xa=new Promise(function(ta,Na){y(sa,va).then(function(){ta(va)}).catch(Na)});
return xa}function E(va,sa,xa,ma,Ea){for(var Ua=24,ab=0,ta=xa.layers,Na=0,oa=ta.length;Na<oa;++Na){var aa=ta[Na];-1!==sa.indexOf(aa.id)&&(Ua=Math.min("minzoom"in aa?aa.minzoom:0,Ua),ab=Math.max("maxzoom"in aa?aa.maxzoom:24,ab))}return new Promise(function(ka,Ia){var Xa=function(){var Ya=va.getSource();if(Ya&&"error"!==Ya.getState()){if("getTileGrid"in Ya){var mb=Ya.getTileGrid();if(mb){var ib=mb.getMinZoom();(0<Ua||0<ib)&&va.setMaxResolution(Math.min(r.defaultResolutions[Ua],mb.getResolution(ib))+
1E-9);24>ab&&va.setMinResolution(r.defaultResolutions[ab]+1E-9)}}Ya instanceof V.default||Ya instanceof ca.default?l(va,xa,sa,ma).then(function(){va.setVisible(!0);ka()},function(Eb){Ia(Eb)}):ka()}else Ia(Error("Error accessing data for source "+va.get("mapbox-source")))};va.set("mapbox-layers",sa);-1===Ea.getLayers().getArray().indexOf(va)&&Ea.addLayer(va);if(va.getSource())Xa();else va.once("change:source",Xa)})}Object.defineProperty(B,"__esModule",{value:!0});B.applyStyle=l;B.applyBackground=function(va,
sa){sa.layers.some(function(xa){if("background"==xa.type)return f(va,xa),!0})};B.setupVectorSource=b;B.default=q;B.apply=function(va,sa){if("string"===typeof va||va instanceof HTMLElement)va=new w.default({target:va});setTimeout(function(){q(va,sa)},0);return va};B.getLayer=function(va,sa){va=va.getLayers().getArray();for(var xa=0,ma=va.length;xa<ma;++xa){var Ea=va[xa].get("mapbox-layers");if(Ea&&-1!==Ea.indexOf(sa))return va[xa]}};B.getLayers=function(va,sa){var xa=[];va=va.getLayers().getArray();
for(var ma=0,Ea=va.length;ma<Ea;++ma)va[ma].get("mapbox-source")===sa&&xa.push(va[ma]);return xa};B.getSource=function(va,sa){va=va.getLayers().getArray();for(var xa=0,ma=va.length;xa<ma;++xa){var Ea=va[xa].getSource();if(va[xa].get("mapbox-source")===sa)return Ea}};B._finalizeLayer=E;B._getFonts=A;ra=k(z(409));var F=k(z(404)),w=k(z(244)),D=k(z(261)),G=k(z(377)),L=k(z(372)),O=k(z(230)),V=k(z(236)),S=k(z(407)),ca=k(z(382)),ea=k(z(147)),T=function(va,sa){if(!sa&&va&&va.__esModule)return va;if(null===
va||"object"!==typeof va&&"function"!==typeof va)return{default:va};if((sa=v(sa))&&sa.has(va))return sa.get(va);var xa={},ma=Object.defineProperty&&Object.getOwnPropertyDescriptor,Ea;for(Ea in va)if("default"!==Ea&&Object.prototype.hasOwnProperty.call(va,Ea)){var Ua=ma?Object.getOwnPropertyDescriptor(va,Ea):null;Ua&&(Ua.get||Ua.set)?Object.defineProperty(xa,Ea,Ua):xa[Ea]=va[Ea]}xa.default=va;sa&&sa.set(va,xa);return xa}(z(413));cb=k(z(414));var R=k(z(410)),J=z(411),r=z(412),C=z(262),N=z(124),U=z(85),
ja={},ba=/font-family: ?([^;]*);/,ia=/("|')/g,za,Wa={},hb=cb.default.getNames(),Ja=/^(.*)(\?.*)$/,qa={},Da=new ra.default};
shadow$provide[416]=function(ra,z,cb,B){function v(t){return t&&t.__esModule?t:{default:t}}function k(t){return 0!==t.indexOf("mapbox://")?"":t.slice(9)}function p(t,y,q){var E=k(t);if(!E)return decodeURI((new URL(t,q)).href);if(0!==E.indexOf("sprites/"))throw Error("unexpected sprites url: ".concat(t));t=E.slice(8);return"".concat(a,"/styles/v1/").concat(t,"/sprite?access_token\x3d").concat(y)}function A(t,y,q){var E=k(t);if(!E)return decodeURI((new URL(t,q)).href);if(0!==E.indexOf("fonts/"))throw Error("unexpected fonts url: ".concat(t));
t=E.slice(6);return"".concat(a,"/fonts/v1/").concat(t,"/0-255.pbf?access_token\x3d").concat(y)}function u(t,y){var q=k(t);if(!q)return decodeURI((new URL(t,location.href)).href);if(0!==q.indexOf("styles/"))throw Error("unexpected style url: ".concat(t));t=q.slice(7);return"".concat(a,"/styles/v1/").concat(t,"?\x26access_token\x3d").concat(y)}function m(t,y,q,E){E=new URL(t,E);t=k(t);if(!t){if(!y)return decodeURI(E.href);E.searchParams.set(q,y);return decodeURI(E.href)}return"https://{a-d}.tiles.mapbox.com/v4/".concat(t,
"/{z}/{x}/{y}.vector.pbf?access_token\x3d").concat(y)}Object.defineProperty(B,"__esModule",{value:!0});B.getMapboxPath=k;B.normalizeSpriteUrl=p;B.normalizeGlyphsUrl=A;B.normalizeStyleUrl=u;B.normalizeSourceUrl=m;B.default=void 0;ra=v(z(79));var l=v(z(83)),f=v(z(404)),g=v(z(90));cb=v(z(407));var d=v(z(382)),b=z(415),c=function(){var t=function(y,q){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,F){E.__proto__=F}||function(E,F){for(var w in F)Object.prototype.hasOwnProperty.call(F,
w)&&(E[w]=F[w])};return t(y,q)};return function(y,q){function E(){this.constructor=y}if("function"!==typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");t(y,q);y.prototype=null===q?Object.create(q):(E.prototype=q.prototype,new E)}}(),a="https://api.mapbox.com",e=function(t){function y(q){var E=t.call(this,l.default.ERROR)||this;E.error=q;return E}c(y,t);return y}(ra.default);z=function(t){function y(q){var E=this,F="declutter"in q?q.declutter:!0,
w=new d.default({state:g.default.LOADING,format:new f.default});E=t.call(this,{source:w,background:q.background,declutter:F,className:q.className,opacity:q.opacity,visible:q.visible,zIndex:q.zIndex,minResolution:q.minResolution,maxResolution:q.maxResolution,minZoom:q.minZoom,maxZoom:q.maxZoom,renderOrder:q.renderOrder,renderBuffer:q.renderBuffer,renderMode:q.renderMode,map:q.map,updateWhileAnimating:q.updateWhileAnimating,updateWhileInteracting:q.updateWhileInteracting,preload:q.preload,useInterimTilesOnError:q.useInterimTilesOnError,
properties:q.properties})||this;E.setMaxResolutionFromTileGrid_=void 0===q.maxResolution&&void 0===q.minZoom;E.sourceId=q.source;E.layers=q.layers;q.accessToken?E.accessToken=q.accessToken:(new URL(q.styleUrl,location.href)).searchParams.forEach(function(D,G){E.accessToken=D;E.accessTokenParam_=G});E.fetchStyle(q.styleUrl);return E}c(y,t);y.prototype.fetchStyle=function(q){var E=this,F=u(q,this.accessToken);fetch(F).then(function(w){if(!w.ok)throw Error("unexpected response when fetching style: ".concat(w.status));
return w.json()}).then(function(w){E.onStyleLoad(w,F.startsWith("data:")?location.href:F)}).catch(function(w){E.handleError(w)})};y.prototype.onStyleLoad=function(q,E){var F=this;if(this.layers){var w={};for(var D=0;D<q.layers.length;++D){var G=q.layers[D];G.source&&(w[G.id]=G.source)}G=void 0;for(D=0;D<this.layers.length;++D){var L=w[this.layers[D]];if(!L){this.handleError(Error("could not find source for ".concat(this.layers[D])));return}if(!G)G=L;else if(G!==L){this.handleError(Error("layers can only use a single source, found ".concat(G,
" and ").concat(L)));return}}w=G;var O=this.layers}else O=w=this.sourceId;O||(O=w=Object.keys(q.sources)[0]);q.sprite&&(q.sprite=p(q.sprite,this.accessToken,E));q.glyphs&&(q.glyphs=A(q.glyphs,this.accessToken,E));w=q.sources[w];if("vector"!==w.type)this.handleError(Error("only works for vector sources, found ".concat(w.type)));else{var V=this.getSource();w.url&&0===w.url.indexOf("mapbox://")?(V.setUrl(m(w.url,this.accessToken,this.accessTokenParam_,E)),(0,b.applyStyle)(this,q,O).then(function(){F.configureSource(V,
q)}).catch(function(S){F.handleError(S)})):(w.tiles&&(w.tiles=w.tiles.map(function(S){return m(S,F.accessToken,F.accessTokenParam_,E)})),(0,b.setupVectorSource)(w,w.url?m(w.url,this.accessToken,this.accessTokenParam_,E):void 0).then(function(S){(0,b.applyStyle)(F,q,O).then(function(){F.configureSource(S,q)}).catch(function(ca){F.configureSource(S,q);F.handleError(ca)})}))}};y.prototype.configureSource=function(q,E){var F=this.getSource();q!==F&&(F.setAttributions(q.getAttributions()),F.setTileUrlFunction(q.getTileUrlFunction()),
F.setTileLoadFunction(q.getTileLoadFunction()),F.tileGrid=q.tileGrid);void 0===this.getBackground()&&(0,b.applyBackground)(this,E);this.setMaxResolutionFromTileGrid_&&(q=F.getTileGrid(),this.setMaxResolution(q.getResolution(q.getMinZoom())));F.setState(g.default.READY)};y.prototype.handleError=function(q){this.dispatchEvent(new e(q));this.getSource().setState(g.default.ERROR)};return y}(cb.default);B.default=z};
shadow$provide[417]=function(ra,z,cb,B){function v(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(367));var k=v(z(229)),p=v(z(83)),A=v(z(358)),u=v(z(193)),m=v(z(192)),l=v(z(115)),f=z(72),g=z(81),d=z(75),b=function(){var c=function(a,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,y){t.__proto__=y}||function(t,y){for(var q in y)Object.prototype.hasOwnProperty.call(y,q)&&(t[q]=y[q])};return c(a,e)};return function(a,
e){function t(){this.constructor=a}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");c(a,e);a.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}();z=function(c){function a(e){var t=c.call(this,e)||this;t.vectorRenderer_=new k.default(e);t.layerImageRatio_=e.getImageRatio();t.coordinateToVectorPixelTransform_=(0,f.create)();t.renderedPixelToCoordinateTransform_=null;return t}b(a,c);a.prototype.disposeInternal=
function(){this.vectorRenderer_.dispose();c.prototype.disposeInternal.call(this)};a.prototype.getFeatures=function(e){if(!this.vectorRenderer_)return new Promise(function(t){return t([])});e=(0,f.apply)(this.coordinateToVectorPixelTransform_,(0,f.apply)(this.renderedPixelToCoordinateTransform_,e.slice()));return this.vectorRenderer_.getFeatures(e)};a.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()};a.prototype.prepareFrame=function(e){var t=e.pixelRatio,y=e.viewState,
q=y.resolution,E=e.viewHints,F=this.vectorRenderer_,w=e.extent;1!==this.layerImageRatio_&&(w=w.slice(0),(0,d.scaleFromCenter)(w,this.layerImageRatio_));var D=(0,d.getWidth)(w)/q,G=(0,d.getHeight)(w)/q;if(!E[l.default.ANIMATING]&&!E[l.default.INTERACTING]&&!(0,d.isEmpty)(w)){F.useContainer(null,null,1);E=F.context;var L=(0,g.assign)({},e,{declutterTree:new m.default(9),extent:w,size:[D,G],viewState:(0,g.assign)({},e.viewState,{rotation:0})}),O=!0,V=new A.default(w,q,t,E.canvas,function(S){F.prepareFrame(L)&&
F.replayGroupChanged&&(F.clipping=!1,F.renderFrame(L,null)&&(F.renderDeclutter(L),O=!1),S())});V.addEventListener(p.default.CHANGE,function(){if(V.getState()===u.default.LOADED){this.image_=O?null:V;var S=V.getResolution(),ca=V.getPixelRatio();this.renderedResolution=S=S*t/ca;this.coordinateToVectorPixelTransform_=(0,f.compose)(this.coordinateToVectorPixelTransform_,D/2,G/2,1/S,-1/S,0,-y.center[0],-y.center[1])}}.bind(this));V.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=e.pixelToCoordinateTransform.slice());
return!!this.image_};a.prototype.preRender=function(){};a.prototype.postRender=function(){};a.prototype.renderDeclutter=function(){};a.prototype.forEachFeatureAtCoordinate=function(e,t,y,q,E){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,t,y,q,E):c.prototype.forEachFeatureAtCoordinate.call(this,e,t,y,q,E)};return a}(ra.default);B.default=z};
shadow$provide[418]=function(ra,z,cb,B){function v(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(201));var k=v(z(417)),p=z(81),A=function(){var u=function(m,l){u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,g){f.__proto__=g}||function(f,g){for(var d in g)Object.prototype.hasOwnProperty.call(g,d)&&(f[d]=g[d])};return u(m,l)};return function(m,l){function f(){this.constructor=m}if("function"!==typeof l&&null!==l)throw new TypeError("Class extends value "+
String(l)+" is not a constructor or null");u(m,l);m.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}}();z=function(u){function m(l){l=l?l:{};var f=(0,p.assign)({},l);delete f.imageRatio;f=u.call(this,f)||this;f.imageRatio_=void 0!==l.imageRatio?l.imageRatio:1;return f}A(m,u);m.prototype.getImageRatio=function(){return this.imageRatio_};m.prototype.createRenderer=function(){return new k.default(this)};return m}(ra.default);B.default=z};
shadow$provide[419]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=function(){function v(k,p){this.name=k;this.data=p;this.texture_=null}v.prototype.getTexture=function(k){if(!this.texture_){var p=k.createTexture();k.bindTexture(k.TEXTURE_2D,p);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST);k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MAG_FILTER,k.NEAREST);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,this.data.length/4,1,0,k.RGBA,k.UNSIGNED_BYTE,this.data);this.texture_=p}return this.texture_};return v}();B.default=ra};
shadow$provide[420]=function(ra,z,cb,B){function v(q){return q&&q.__esModule?q:{default:q}}function k(q,E,F){F=F?q.LINEAR:q.NEAREST;q.bindTexture(q.TEXTURE_2D,E);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,F);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,F)}function p(q,E,F,w,D,G){var L=q.getGL();if(F instanceof Float32Array){var O=L.FLOAT;q.getExtension("OES_texture_float");
q=null!==q.getExtension("OES_texture_float_linear")}else O=L.UNSIGNED_BYTE,q=!0;k(L,E,G&&q);G=F.byteLength/w[1];E=1;0===G%8?E=8:0===G%4?E=4:0===G%2&&(E=2);switch(D){case 1:D=L.LUMINANCE;break;case 2:D=L.LUMINANCE_ALPHA;break;case 3:D=L.RGB;break;case 4:D=L.RGBA;break;default:throw Error("Unsupported number of bands: ".concat(D));}G=L.getParameter(L.UNPACK_ALIGNMENT);L.pixelStorei(L.UNPACK_ALIGNMENT,E);L.texImage2D(L.TEXTURE_2D,0,D,w[0],w[1],0,D,O,F);L.pixelStorei(L.UNPACK_ALIGNMENT,G)}Object.defineProperty(B,
"__esModule",{value:!0});B.default=void 0;var A=v(z(272));ra=v(z(82));var u=v(z(83)),m=v(z(251)),l=v(z(256)),f=v(z(111)),g=v(z(391)),d=z(390),b=z(254),c=z(81),a=z(97),e=z(148),t=function(){var q=function(E,F){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,D){w.__proto__=D}||function(w,D){for(var G in D)Object.prototype.hasOwnProperty.call(D,G)&&(w[G]=D[G])};return q(E,F)};return function(E,F){function w(){this.constructor=E}if("function"!==typeof F&&null!==F)throw new TypeError("Class extends value "+
String(F)+" is not a constructor or null");q(E,F);E.prototype=null===F?Object.create(F):(w.prototype=F.prototype,new w)}}(),y=null;z=function(q){function E(F){var w=q.call(this)||this;w.textures=[];w.handleTileChange_=w.handleTileChange_.bind(w);w.size=(0,e.toSize)(F.grid.getTileSize(F.tile.tileCoord[0]));w.tilePixelRatio_=F.tilePixelRatio||1;w.gutter_=F.gutter||0;w.bandCount=NaN;w.helper_=F.helper;var D=new g.default(d.ARRAY_BUFFER,d.STATIC_DRAW);D.fromArray([0,1,1,1,1,0,0,0]);w.helper_.flushBufferData(D);
w.coords=D;w.setTile(F.tile);return w}t(E,q);E.prototype.setTile=function(F){if(F!==this.tile)if(this.tile&&this.tile.removeEventListener(u.default.CHANGE,this.handleTileChange_),this.tile=F,this.textures.length=0,this.loaded=F.getState()===f.default.LOADED)this.uploadTile_();else{if(F instanceof m.default){var w=F.getImage();w instanceof Image&&!w.crossOrigin&&(w.crossOrigin="anonymous")}F.addEventListener(u.default.CHANGE,this.handleTileChange_)}};E.prototype.uploadTile_=function(){var F=this.helper_,
w=F.getGL(),D=this.tile;if(D instanceof m.default||D instanceof l.default){F=D.getImage();if(0!==this.gutter_){var G=this.tilePixelRatio_*this.gutter_,L=Math.round(F.width-2*G),O=Math.round(F.height-2*G),V=(0,a.createCanvasContext2D)(L,O);D.interpolate||(0,c.assign)(V,b.IMAGE_SMOOTHING_DISABLED);V.drawImage(F,G,G,L,O,0,0,L,O);F=V.canvas}var S=w.createTexture();this.textures.push(S);this.bandCount=4;k(w,S,D.interpolate);w.texImage2D(w.TEXTURE_2D,0,w.RGBA,w.RGBA,w.UNSIGNED_BYTE,F)}else{G=[this.size[0]*
this.tilePixelRatio_,this.size[1]*this.tilePixelRatio_];L=D.getData();O=G[0]*G[1];var ca=L instanceof Float32Array?Float32Array:Uint8Array;V=ca.BYTES_PER_ELEMENT;var ea=L.byteLength/G[1];this.bandCount=Math.floor(ea/V/G[0]);var T=Math.ceil(this.bandCount/4);if(1===T)S=w.createTexture(),this.textures.push(S),p(F,S,L,G,this.bandCount,D.interpolate);else{for(var R=Array(T),J=0;J<T;++J){S=w.createTexture();this.textures.push(S);var r=J<T-1?4:this.bandCount%4;R[J]=new ca(O*r)}ca=S=0;for(var C=G[0]*this.bandCount,
N=0;N<G[1];++N){for(var U=0;U<C;++U){var ja=L[ca+U],ba=Math.floor(S/this.bandCount),ia=U%this.bandCount;J=Math.floor(ia/4);w=R[J];r=w.length/O;w[ba*r+ia%4]=ja;++S}ca+=ea/V}for(J=0;J<T;++J)S=this.textures[J],w=R[J],r=w.length/O,p(F,S,w,G,r,D.interpolate)}}};E.prototype.handleTileChange_=function(){this.tile.getState()===f.default.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(u.default.CHANGE))};E.prototype.disposeInternal=function(){var F=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);
for(var w=0;w<this.textures.length;++w)F.deleteTexture(this.textures[w]);this.tile.removeEventListener(u.default.CHANGE,this.handleTileChange_)};E.prototype.getPixelData=function(F,w){if(!this.loaded)return null;F=Math.floor(this.tilePixelRatio_*F);w=Math.floor(this.tilePixelRatio_*w);if(this.tile instanceof A.default){var D=this.tile.getData(),G=Math.floor(this.tilePixelRatio_*this.size[0]);if(D instanceof DataView){var L=D.byteLength/(this.size[0]*this.size[1]);F=w*G*L+F*L;F=D.buffer.slice(F,F+
L);return new DataView(F)}F=w*G*this.bandCount+F*this.bandCount;return D.slice(F,F+this.bandCount)}y||(L=document.createElement("canvas"),L.width=1,L.height=1,y=L.getContext("2d"));y.clearRect(0,0,1,1);L=this.tile.getImage();try{y.drawImage(L,F,w,1,1,0,0,1,1),D=y.getImageData(0,0,1,1).data}catch(O){return null}return D};return E}(ra.default);B.default=z};
shadow$provide[421]=function(ra,z,cb,B){function v(L){return L&&L.__esModule?L:{default:L}}function k(L,O){var V=L.layerStatesArray[L.layerIndex];V.extent&&(O=(0,c.getIntersection)(O,(0,t.fromUserExtent)(V.extent,L.viewState.projection)));V=V.layer.getRenderSource();V.getWrapX()||(L=V.getTileGridForProjection(L.viewState.projection).getExtent())&&(O=(0,c.getIntersection)(O,L));return O}function p(L,O){return"".concat(L.getKey(),",").concat((0,e.getKey)(O))}Object.defineProperty(B,"__esModule",{value:!0});
B.default=B.Attributes=B.Uniforms=void 0;var A=v(z(249)),u=v(z(90)),m=v(z(260)),l=v(z(111)),f=v(z(420)),g=v(z(391));ra=v(z(396));cb=z(395);var d=z(390),b=z(72),c=z(75),a=z(394),e=z(257),t=z(124),y=z(68),q=z(66),E=z(148),F=function(){var L=function(O,V){L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,ca){S.__proto__=ca}||function(S,ca){for(var ea in ca)Object.prototype.hasOwnProperty.call(ca,ea)&&(S[ea]=ca[ea])};return L(O,V)};return function(O,V){function S(){this.constructor=
O}if("function"!==typeof V&&null!==V)throw new TypeError("Class extends value "+String(V)+" is not a constructor or null");L(O,V);O.prototype=null===V?Object.create(V):(S.prototype=V.prototype,new S)}}(),w={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY",
RENDER_EXTENT:"u_renderExtent",RESOLUTION:"u_resolution",ZOOM:"u_zoom"};B.Uniforms=w;z={TEXTURE_COORD:"a_textureCoord"};B.Attributes=z;var D=[{name:z.TEXTURE_COORD,size:2,type:cb.AttributeType.FLOAT}],G={};z=function(L){function O(V,S){V=L.call(this,V,{uniforms:S.uniforms})||this;V.renderComplete=!1;V.tileTransform_=(0,b.create)();V.tempMat4_=(0,a.create)();V.tempTileRange_=new m.default(0,0,0,0);V.tempTileCoord_=(0,e.createOrUpdate)(0,0,0);V.tempSize_=[0,0];V.vertexShader_=S.vertexShader;V.fragmentShader_=
S.fragmentShader;V.indices_=new g.default(d.ELEMENT_ARRAY_BUFFER,d.STATIC_DRAW);V.indices_.fromArray([0,1,3,1,2,3]);V.tileTextureCache_=new A.default(void 0!==S.cacheSize?S.cacheSize:512);V.paletteTextures_=S.paletteTextures||[];V.frameState_=null;return V}F(O,L);O.prototype.reset=function(V){L.prototype.reset.call(this,{uniforms:V.uniforms});this.vertexShader_=V.vertexShader;this.fragmentShader_=V.fragmentShader;this.paletteTextures_=V.paletteTextures||[];this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,
this.vertexShader_))};O.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.helper.flushBufferData(this.indices_)};O.prototype.isDrawableTile_=function(V){var S=this.getLayer();V=V.getState();S=S.getUseInterimTilesOnError();return V==l.default.LOADED||V==l.default.EMPTY||V==l.default.ERROR&&!S};O.prototype.prepareFrameInternal=function(V){var S=this.getLayer().getRenderSource();return!S||(0,c.isEmpty)(k(V,V.extent))?!1:S.getState()===
u.default.READY};O.prototype.enqueueTiles=function(V,S,ca,ea){var T=V.viewState,R=this.getLayer(),J=R.getRenderSource(),r=J.getTileGridForProjection(T.projection),C=J.getTilePixelRatio(V.pixelRatio),N=J.getGutterForProjection(T.projection),U=(0,y.getUid)(J);U in V.wantedTiles||(V.wantedTiles[U]={});var ja=V.wantedTiles[U],ba=this.tileTextureCache_;for(R=Math.max(ca-R.getPreload(),r.getMinZoom(),R.getMinZoom());ca>=R;--ca)for(var ia=r.getTileRangeForExtentAndZ(S,ca,this.tempTileRange_),za=r.getResolution(ca),
Wa=ia.minX;Wa<=ia.maxX;++Wa)for(var hb=ia.minY;hb<=ia.maxY;++hb){var Ja=(0,e.createOrUpdate)(ca,Wa,hb,this.tempTileCoord_),qa=p(J,Ja),Da=void 0,va=void 0;ba.containsKey(qa)&&(Da=ba.get(qa),va=Da.tile);Da&&Da.tile.key===J.getKey()||(va=J.getTile(ca,Wa,hb,V.pixelRatio,T.projection),Da?this.isDrawableTile_(va)?Da.setTile(va):(qa=va.getInterimTile(),Da.setTile(qa)):(Da=new f.default({tile:va,grid:r,helper:this.helper,tilePixelRatio:C,gutter:N}),ba.set(qa,Da)));qa=ea;var sa=ca;sa in qa||(qa[sa]=[]);qa[sa].push(Da);
Da=va.getKey();ja[Da]=!0;va.getState()===l.default.IDLE&&(V.tileQueue.isKeyQueued(Da)||V.tileQueue.enqueue([va,U,r.getTileCoordCenter(Ja),za]))}};O.prototype.renderFrame=function(V){this.frameState_=V;this.renderComplete=!0;var S=this.helper.getGL();this.preRender(S,V);var ca=V.viewState,ea=this.getLayer().getRenderSource(),T=ea.getTileGridForProjection(ca.projection),R=k(V,V.extent),J=T.getZForResolution(ca.resolution,ea.zDirection),r={};if(V.nextExtent){var C=T.getZForResolution(ca.nextResolution,
ea.zDirection),N=k(V,V.nextExtent);this.enqueueTiles(V,N,C,r)}this.enqueueTiles(V,R,J,r);C={};var U=(0,y.getUid)(this),ja=V.time,ba=!1,ia=r[J];N=0;for(var za=ia.length;N<za;++N){var Wa=ia[N],hb=Wa.tile,Ja=hb.tileCoord;if(Wa.loaded){Wa=hb.getAlpha(U,ja);if(1===Wa){hb.endTransition(U);continue}ba=!0;hb=(0,e.getKey)(Ja);C[hb]=Wa}this.renderComplete=!1;if(!this.findAltTiles_(T,Ja,J+1,r))for(hb=T.getMinZoom(),Wa=J-1;Wa>=hb&&!this.findAltTiles_(T,Ja,Wa,r);--Wa);}this.helper.useProgram(this.program_);this.helper.prepareDraw(V,
!ba);J=Object.keys(r).map(Number).sort(q.numberSafeCompareFunction);U=ca.center[0];ja=ca.center[1];ba=0;for(ia=J.length;ba<ia;++ba){N=J[ba];var qa=T.getResolution(N),Da=(0,E.toSize)(T.getTileSize(N),this.tempSize_),va=T.getOrigin(N),sa=(U-va[0])/(Da[0]*qa),xa=(va[1]-ja)/(Da[1]*qa),ma=ca.resolution/qa,Ea=2*(1-1/(N+1))-1,Ua=r[N];N=0;for(za=Ua.length;N<za;++N)if(Wa=Ua[N],Wa.loaded){hb=Wa.tile;Ja=hb.tileCoord;hb=(0,e.getKey)(Ja);var ab=Ja[1];Ja=Ja[2];(0,b.compose)(this.tileTransform_,0,0,2/(V.size[0]*
ma/Da[0]),-2/(V.size[1]*ma/Da[1]),ca.rotation,-(sa-ab),-(xa-Ja));this.helper.setUniformMatrixValue(w.TILE_TRANSFORM,(0,a.fromTransform)(this.tempMat4_,this.tileTransform_));this.helper.bindBuffer(Wa.coords);this.helper.bindBuffer(this.indices_);this.helper.enableAttributes(D);for(var ta=0;ta<Wa.textures.length;){var Na="TEXTURE"+ta,oa="".concat(w.TILE_TEXTURE_ARRAY,"[").concat(ta,"]");S.activeTexture(S[Na]);S.bindTexture(S.TEXTURE_2D,Wa.textures[ta]);S.uniform1i(this.helper.getUniformLocation(oa),
ta);++ta}for(Wa=0;Wa<this.paletteTextures_.length;++Wa)Na=this.paletteTextures_[Wa],S.activeTexture(S["TEXTURE"+ta]),oa=Na.getTexture(S),S.bindTexture(S.TEXTURE_2D,oa),S.uniform1i(this.helper.getUniformLocation(Na.name),ta),++ta;Wa=hb in C?C[hb]:1;1>Wa&&(V.animate=!0);this.helper.setUniformFloatValue(w.TRANSITION_ALPHA,Wa);this.helper.setUniformFloatValue(w.DEPTH,Ea);this.helper.setUniformFloatValue(w.TEXTURE_PIXEL_WIDTH,Da[0]);this.helper.setUniformFloatValue(w.TEXTURE_PIXEL_HEIGHT,Da[1]);this.helper.setUniformFloatValue(w.TEXTURE_RESOLUTION,
qa);this.helper.setUniformFloatValue(w.TEXTURE_ORIGIN_X,va[0]+ab*Da[0]*qa);this.helper.setUniformFloatValue(w.TEXTURE_ORIGIN_Y,va[1]-Ja*Da[1]*qa);this.helper.setUniformFloatVec4(w.RENDER_EXTENT,R);this.helper.setUniformFloatValue(w.RESOLUTION,ca.resolution);this.helper.setUniformFloatValue(w.ZOOM,ca.zoom);this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(V,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);ca=this.helper.getCanvas();for(T=this.tileTextureCache_;T.canExpireCache();)Wa=
T.pop(),Wa.dispose();V.postRenderFunctions.push(function(aa,ka){ea.expireCache(ka.viewState.projection,G)});this.postRender(S,V);return ca};O.prototype.getData=function(V){if(!this.helper.getGL())return null;var S=this.frameState_;if(!S)return null;var ca=this.getLayer();V=(0,b.apply)(S.pixelToCoordinateTransform,V.slice());S=S.viewState;var ea=ca.getExtent();if(ea&&!(0,c.containsCoordinate)((0,t.fromUserExtent)(ea,S.projection),V))return null;ea=ca.getRenderSource();ca=ea.getTileGridForProjection(S.projection);
if(!ea.getWrapX()){var T=ca.getExtent();if(T&&!(0,c.containsCoordinate)(T,V))return null}var R=this.tileTextureCache_;for(T=ca.getZForResolution(S.resolution);T>=ca.getMinZoom();--T){S=ca.getTileCoordForCoordAndZ(V,T);var J=p(ea,S);if(R.containsKey(J)&&(J=R.get(J),J.loaded))return ea=ca.getOrigin(T),R=(0,E.toSize)(ca.getTileSize(T)),ca=ca.getResolution(T),J.getPixelData((V[0]-ea[0])/ca-S[1]*R[0],(ea[1]-V[1])/ca-S[2]*R[1])}return null};O.prototype.findAltTiles_=function(V,S,ca,ea){V=V.getTileRangeForTileCoordAndZ(S,
ca,this.tempTileRange_);if(!V)return!1;S=!0;for(var T=this.tileTextureCache_,R=this.getLayer().getRenderSource(),J=V.minX;J<=V.maxX;++J)for(var r=V.minY;r<=V.maxY;++r){var C=p(R,[ca,J,r]),N=!1;if(T.containsKey(C)&&(C=T.get(C),C.loaded)){N=ea;var U=ca;U in N||(N[U]=[]);N[U].push(C);N=!0}N||(S=!1)}return S};O.prototype.removeHelper=function(){if(this.helper){var V=this.tileTextureCache_;V.forEach(function(S){return S.dispose()});V.clear()}L.prototype.removeHelper.call(this)};O.prototype.disposeInternal=
function(){var V=this.helper;V&&(V.getGL().deleteProgram(this.program_),delete this.program_,V.deleteBuffer(this.indices_));L.prototype.disposeInternal.call(this);delete this.indices_;delete this.tileTextureCache_;delete this.frameState_};return O}(ra.default);B.default=z};
shadow$provide[422]=function(ra,z,cb,B){function v(ca){if("number"===typeof ca)return V.NUMBER;if("boolean"===typeof ca)return V.BOOLEAN;if("string"===typeof ca)return(0,L.isStringColor)(ca)?V.COLOR|V.STRING:V.STRING;if(!Array.isArray(ca))throw Error("Unhandled value type: ".concat(JSON.stringify(ca)));if(ca.every(function(T){return"number"===typeof T}))return 3===ca.length||4===ca.length?V.COLOR|V.NUMBER_ARRAY:V.NUMBER_ARRAY;if("string"!==typeof ca[0])throw Error("Expected an expression operator but received: ".concat(JSON.stringify(ca)));
var ea=S[ca[0]];if(void 0===ea)throw Error("Unrecognized expression operator: ".concat(JSON.stringify(ca)));return ea.getReturnType(ca.slice(1))}function k(ca){return 0===(0,O.log2)(ca)%1}function p(ca){ca=ca.toString();return-1===ca.indexOf(".")?ca+".0":ca}function A(ca){if(2>ca.length||4<ca.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec".concat(ca.length,"(").concat(ca.map(p).join(", "),")")}function u(ca){ca=(0,L.asArray)(ca).slice();4>ca.length&&
ca.push(1);return A(ca.map(function(ea,T){return 3>T?ea/255:ea}))}function m(ca,ea){void 0===ca.stringLiteralsMap[ea]&&(ca.stringLiteralsMap[ea]=Object.keys(ca.stringLiteralsMap).length);return ca.stringLiteralsMap[ea]}function l(ca,ea){return p(m(ca,ea))}function f(ca,ea,T){if(Array.isArray(ea)&&"string"===typeof ea[0]){var R=S[ea[0]];if(void 0===R)throw Error("Unrecognized expression operator: ".concat(JSON.stringify(ea)));return R.toGlsl(ca,ea.slice(1),T)}R=v(ea);if(0<(R&V.NUMBER))return p(ea);
if(0<(R&V.BOOLEAN))return ea.toString();if(0<(R&V.STRING)&&(void 0===T||T==V.STRING))return l(ca,ea.toString());if(0<(R&V.COLOR)&&(void 0===T||T==V.COLOR))return u(ea);if(0<(R&V.NUMBER_ARRAY))return A(ea);throw Error("Unexpected expression ".concat(ea," (expected type ").concat(T,")"));}function g(ca){if(!(v(ca)&V.NUMBER))throw Error("A numeric value was expected, got ".concat(JSON.stringify(ca)," instead"));}function d(ca){for(var ea=0;ea<ca.length;ea++)g(ca[ea])}function b(ca){if(!(v(ca)&V.STRING))throw Error("A string value was expected, got ".concat(JSON.stringify(ca),
" instead"));}function c(ca){if(!(v(ca)&V.BOOLEAN))throw Error("A boolean value was expected, got ".concat(JSON.stringify(ca)," instead"));}function a(ca,ea){if(ca.length!==ea)throw Error("Exactly ".concat(ea," arguments were expected, got ").concat(ca.length," instead"));}function e(ca,ea){if(ca.length<ea)throw Error("At least ".concat(ea," arguments were expected, got ").concat(ca.length," instead"));}function t(ca,ea){if(ca.length>ea)throw Error("At most ".concat(ea," arguments were expected, got ").concat(ca.length,
" instead"));}function y(ca){if(0!==ca.length%2)throw Error("An even amount of arguments was expected, got ".concat(ca," instead"));}function q(ca,ea){if(!k(ea))throw Error("Could not infer only one type from the following expression: ".concat(JSON.stringify(ca)));}function E(ca){return"u_var_"+ca}function F(ca){return{getReturnType:function(ea){return V.BOOLEAN},toGlsl:function(ea,T){a(T,2);for(var R=V.ANY,J=0;J<T.length;J++)R&=v(T[J]);if(R===V.NONE)throw Error("All arguments should be of compatible type, got ".concat(JSON.stringify(T),
" instead"));R&=~V.COLOR;return"(".concat(f(ea,T[0],R)," ").concat(ca," ").concat(f(ea,T[1],R),")")}}}function w(ca){return{getReturnType:function(ea){return V.BOOLEAN},toGlsl:function(ea,T){e(T,2);for(var R=0;R<T.length;R++)c(T[R]);R="";R=T.map(function(J){return f(ea,J)}).join(" ".concat(ca," "));return R="(".concat(R,")")}}}Object.defineProperty(B,"__esModule",{value:!0});B.getValueType=v;B.isTypeUnique=k;B.numberToGlsl=p;B.arrayToGlsl=A;B.colorToGlsl=u;B.getStringNumberEquivalent=m;B.stringToGlsl=
l;B.expressionToGlsl=f;B.uniformNameForVariable=E;B.PALETTE_TEXTURE_ARRAY=B.Operators=B.ValueTypes=void 0;var D=function(ca){return ca&&ca.__esModule?ca:{default:ca}}(z(419)),G=z(421),L=z(77),O=z(76),V={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};B.ValueTypes=V;var S={};B.Operators=S;S.get={getReturnType:function(ca){return V.ANY},toGlsl:function(ca,ea){a(ea,1);b(ea[0]);ea=ea[0].toString();-1===ca.attributes.indexOf(ea)&&ca.attributes.push(ea);return(ca.inFragmentShader?"v_":
"a_")+ea}};S["var"]={getReturnType:function(ca){return V.ANY},toGlsl:function(ca,ea){a(ea,1);b(ea[0]);ea=ea[0].toString();-1===ca.variables.indexOf(ea)&&ca.variables.push(ea);return E(ea)}};B.PALETTE_TEXTURE_ARRAY="u_paletteTextures";S.palette={getReturnType:function(ca){return V.COLOR},toGlsl:function(ca,ea){a(ea,2);g(ea[0]);var T=f(ca,ea[0]),R=ea[1];if(!Array.isArray(R))throw Error("The second argument of palette must be an array");ea=R.length;for(var J=new Uint8Array(4*ea),r=0;r<ea;r++){var C=
R[r];if("string"===typeof C)C=(0,L.fromString)(C);else{if(!Array.isArray(C))throw Error("The second argument of palette must be an array of strings or colors");var N=C.length;if(4!==N){if(3!==N)throw Error("Expected palette color to have 3 or 4 values, got ".concat(N));C=[C[0],C[1],C[2],1]}}N=4*r;J[N]=C[0];J[N+1]=C[1];J[N+2]=C[2];J[N+3]=255*C[3]}ca.paletteTextures||(ca.paletteTextures=[]);R="".concat("u_paletteTextures","[").concat(ca.paletteTextures.length,"]");J=new D.default(R,J);ca.paletteTextures.push(J);
return"texture2D(".concat(R,", vec2((").concat(T," + 0.5) / ").concat(ea,".0, 0.5))")}};S.band={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){e(ea,1);t(ea,3);var T=ea[0];if(!("getBandValue"in ca.functions)){for(var R="",J=ca.bandCount||1,r=0;r<J;r++){var C=Math.floor(r/4),N=r%4;N===J-1&&1===N&&(N=3);C="".concat(G.Uniforms.TILE_TEXTURE_ARRAY,"[").concat(C,"]");R+="\n          if (band \x3d\x3d ".concat(r+1,".0) {\n            return texture2D(").concat(C,", v_textureCoord + vec2(dx, dy))[").concat(N,
"];\n          }\n        ")}ca.functions.getBandValue="\n        float getBandValue(float band, float xOffset, float yOffset) {\n          float dx \x3d xOffset / ".concat(G.Uniforms.TEXTURE_PIXEL_WIDTH,";\n          float dy \x3d yOffset / ").concat(G.Uniforms.TEXTURE_PIXEL_HEIGHT,";\n          ").concat(R,"\n        }\n      ")}T=f(ca,T);R=f(ca,ea[1]||0);ca=f(ca,ea[2]||0);return"".concat("getBandValue","(").concat(T,", ").concat(R,", ").concat(ca,")")}};S.time={getReturnType:function(ca){return V.NUMBER},
toGlsl:function(ca,ea){a(ea,0);return"u_time"}};S.zoom={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,0);return"u_zoom"}};S.resolution={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,0);return"u_resolution"}};S["*"]={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,2);d(ea);return"(".concat(f(ca,ea[0])," * ").concat(f(ca,ea[1]),")")}};S["/"]={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,2);d(ea);return"(".concat(f(ca,
ea[0])," / ").concat(f(ca,ea[1]),")")}};S["+"]={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,2);d(ea);return"(".concat(f(ca,ea[0])," + ").concat(f(ca,ea[1]),")")}};S["-"]={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,2);d(ea);return"(".concat(f(ca,ea[0])," - ").concat(f(ca,ea[1]),")")}};S.clamp={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,3);d(ea);var T=f(ca,ea[1]),R=f(ca,ea[2]);return"clamp(".concat(f(ca,ea[0]),", ").concat(T,
", ").concat(R,")")}};S["%"]={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,2);d(ea);return"mod(".concat(f(ca,ea[0]),", ").concat(f(ca,ea[1]),")")}};S["^"]={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,2);d(ea);return"pow(".concat(f(ca,ea[0]),", ").concat(f(ca,ea[1]),")")}};S.abs={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,1);d(ea);return"abs(".concat(f(ca,ea[0]),")")}};S.floor={getReturnType:function(ca){return V.NUMBER},
toGlsl:function(ca,ea){a(ea,1);d(ea);return"floor(".concat(f(ca,ea[0]),")")}};S.round={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,1);d(ea);return"floor(".concat(f(ca,ea[0])," + 0.5)")}};S.ceil={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,1);d(ea);return"ceil(".concat(f(ca,ea[0]),")")}};S.sin={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){a(ea,1);d(ea);return"sin(".concat(f(ca,ea[0]),")")}};S.cos={getReturnType:function(ca){return V.NUMBER},
toGlsl:function(ca,ea){a(ea,1);d(ea);return"cos(".concat(f(ca,ea[0]),")")}};S.atan={getReturnType:function(ca){return V.NUMBER},toGlsl:function(ca,ea){e(ea,1);t(ea,2);d(ea);return 2===ea.length?"atan(".concat(f(ca,ea[0]),", ").concat(f(ca,ea[1]),")"):"atan(".concat(f(ca,ea[0]),")")}};S["\x3e"]={getReturnType:function(ca){return V.BOOLEAN},toGlsl:function(ca,ea){a(ea,2);d(ea);return"(".concat(f(ca,ea[0])," \x3e ").concat(f(ca,ea[1]),")")}};S["\x3e\x3d"]={getReturnType:function(ca){return V.BOOLEAN},
toGlsl:function(ca,ea){a(ea,2);d(ea);return"(".concat(f(ca,ea[0])," \x3e\x3d ").concat(f(ca,ea[1]),")")}};S["\x3c"]={getReturnType:function(ca){return V.BOOLEAN},toGlsl:function(ca,ea){a(ea,2);d(ea);return"(".concat(f(ca,ea[0])," \x3c ").concat(f(ca,ea[1]),")")}};S["\x3c\x3d"]={getReturnType:function(ca){return V.BOOLEAN},toGlsl:function(ca,ea){a(ea,2);d(ea);return"(".concat(f(ca,ea[0])," \x3c\x3d ").concat(f(ca,ea[1]),")")}};S["\x3d\x3d"]=F("\x3d\x3d");S["!\x3d"]=F("!\x3d");S["!"]={getReturnType:function(ca){return V.BOOLEAN},
toGlsl:function(ca,ea){a(ea,1);c(ea[0]);return"(!".concat(f(ca,ea[0]),")")}};S.all=w("\x26\x26");S.any=w("||");S.between={getReturnType:function(ca){return V.BOOLEAN},toGlsl:function(ca,ea){a(ea,3);d(ea);var T=f(ca,ea[1]),R=f(ca,ea[2]);ca=f(ca,ea[0]);return"(".concat(ca," \x3e\x3d ").concat(T," \x26\x26 ").concat(ca," \x3c\x3d ").concat(R,")")}};S.array={getReturnType:function(ca){return V.NUMBER_ARRAY},toGlsl:function(ca,ea){e(ea,2);t(ea,4);d(ea);var T=ea.map(function(R){return f(ca,R,V.NUMBER)});
return"vec".concat(ea.length,"(").concat(T.join(", "),")")}};S.color={getReturnType:function(ca){return V.COLOR},toGlsl:function(ca,ea){e(ea,3);t(ea,4);d(ea);3===ea.length&&ea.push(1);var T=ea.map(function(R,J){return f(ca,R,V.NUMBER)+(3>J?" / 255.0":"")});return"vec".concat(ea.length,"(").concat(T.join(", "),")")}};S.interpolate={getReturnType:function(ca){for(var ea=V.COLOR|V.NUMBER,T=3;T<ca.length;T+=2)ea&=v(ca[T]);return ea},toGlsl:function(ca,ea,T){y(ea);e(ea,6);var R=ea[0];switch(R[0]){case "linear":var J=
1;break;case "exponential":J=R[1];break;default:J=null}if(!J)throw Error('Invalid interpolation type for "interpolate" operator, received: '.concat(JSON.stringify(R)));T=void 0!==T?T:V.ANY;T&=S.interpolate.getReturnType(ea);q(ea,T);R=f(ca,ea[1]);J=p(J);for(var r="",C=2;C<ea.length-2;C+=2){var N=f(ca,ea[C]);r=r||f(ca,ea[C+1],T);var U=f(ca,ea[C+2]),ja=f(ca,ea[C+3],T);r="mix(".concat(r,", ").concat(ja,", pow(clamp((").concat(R," - ").concat(N,") / (").concat(U," - ").concat(N,"), 0.0, 1.0), ").concat(J,
"))")}return r}};S.match={getReturnType:function(ca){for(var ea=V.ANY,T=2;T<ca.length;T+=2)ea&=v(ca[T]);return ea&=v(ca[ca.length-1])},toGlsl:function(ca,ea,T){y(ea);e(ea,4);T=void 0!==T?T:V.ANY;T&=S.match.getReturnType(ea);q(ea,T);for(var R=f(ca,ea[0]),J=f(ca,ea[ea.length-1],T),r=null,C=ea.length-3;1<=C;C-=2){var N=f(ca,ea[C]),U=f(ca,ea[C+1],T);r="(".concat(R," \x3d\x3d ").concat(N," ? ").concat(U," : ").concat(r||J,")")}return r}};S["case"]={getReturnType:function(ca){for(var ea=V.ANY,T=1;T<ca.length;T+=
2)ea&=v(ca[T]);return ea&=v(ca[ca.length-1])},toGlsl:function(ca,ea,T){if(0===ea.length%2)throw Error("An odd amount of arguments was expected, got ".concat(ea," instead"));e(ea,3);T=void 0!==T?T:V.ANY;T&=S["case"].getReturnType(ea);q(ea,T);for(var R=0;R<ea.length-1;R+=2)c(ea[R]);var J=f(ca,ea[ea.length-1],T),r=null;for(R=ea.length-3;0<=R;R-=2){var C=f(ca,ea[R]),N=f(ca,ea[R+1],T);r="(".concat(C," ? ").concat(N," : ").concat(r||J,")")}return r}}};
shadow$provide[423]=function(ra,z,cb,B){Object.defineProperty(B,"__esModule",{value:!0});B.parseLiteralStyle=function(p){var A=p.symbol,u=void 0!==A.size?A.size:1,m=A.color||"white",l=A.textureCoord||[0,0,1,1],f=A.offset||[0,0],g=void 0!==A.opacity?A.opacity:1,d=void 0!==A.rotation?A.rotation:0,b={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{}},c=(0,v.expressionToGlsl)(b,u,v.ValueTypes.NUMBER_ARRAY|v.ValueTypes.NUMBER);f=(0,v.expressionToGlsl)(b,f,v.ValueTypes.NUMBER_ARRAY);
l=(0,v.expressionToGlsl)(b,l,v.ValueTypes.NUMBER_ARRAY);var a=(0,v.expressionToGlsl)(b,d,v.ValueTypes.NUMBER);d={inFragmentShader:!0,variables:b.variables,attributes:[],stringLiteralsMap:b.stringLiteralsMap,functions:{}};m=(0,v.expressionToGlsl)(d,m,v.ValueTypes.COLOR);g=(0,v.expressionToGlsl)(d,g,v.ValueTypes.NUMBER);var e="1.0";u="vec2(".concat((0,v.expressionToGlsl)(d,u,v.ValueTypes.NUMBER_ARRAY|v.ValueTypes.NUMBER),").x");switch(A.symbolType){case "square":break;case "image":break;case "circle":e=
"(1.0-smoothstep(1.-4./".concat(u,",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))");break;case "triangle":e="(atan(".concat("(v_quadCoord*2.-1.)",".x,").concat("(v_quadCoord*2.-1.)",".y))");e="(1.0-smoothstep(.5-3./".concat(u,",.5,cos(floor(.5+").concat(e,"/2.094395102)*2.094395102-").concat(e,")*length(").concat("(v_quadCoord*2.-1.)",")))");break;default:throw Error("Unexpected symbol type: "+A.symbolType);}var t=(new k).setSizeExpression("vec2(".concat(c,")")).setRotationExpression(a).setSymbolOffsetExpression(f).setTextureCoordinateExpression(l).setSymbolRotateWithView(!!A.rotateWithView).setColorExpression("vec4(".concat(m,
".rgb, ").concat(m,".a * ").concat(g," * ").concat(e,")"));p.filter&&(c=(0,v.expressionToGlsl)(d,p.filter,v.ValueTypes.BOOLEAN),t.setFragmentDiscardExpression("!".concat(c)));var y={};d.variables.forEach(function(q){var E=(0,v.uniformNameForVariable)(q);t.addUniform("float ".concat(E));y[E]=function(){if(!p.variables||void 0===p.variables[q])throw Error("The following variable is missing from the style: ".concat(q));var F=p.variables[q];"string"===typeof F&&(F=(0,v.getStringNumberEquivalent)(b,F));
return void 0!==F?F:-9999999}});"image"===A.symbolType&&A.src&&(c=new Image,c.crossOrigin=void 0===A.crossOrigin?"anonymous":A.crossOrigin,c.src=A.src,t.addUniform("sampler2D u_texture").setColorExpression(t.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),y.u_texture=c);d.attributes.forEach(function(q){-1===b.attributes.indexOf(q)&&b.attributes.push(q);t.addVarying("v_".concat(q),"float","a_".concat(q))});b.attributes.forEach(function(q){t.addAttribute("float a_".concat(q))});return{builder:t,
attributes:b.attributes.map(function(q){return{name:q,callback:function(E,F){E=F[q];"string"===typeof E&&(E=(0,v.getStringNumberEquivalent)(b,E));return void 0!==E?E:-9999999}}}),uniforms:y}};B.ShaderBuilder=void 0;var v=z(422),k=function(){function p(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression=
"false";this.rotateWithView=!1}p.prototype.addUniform=function(A){this.uniforms.push(A);return this};p.prototype.addAttribute=function(A){this.attributes.push(A);return this};p.prototype.addVarying=function(A,u,m){this.varyings.push({name:A,type:u,expression:m});return this};p.prototype.setSizeExpression=function(A){this.sizeExpression=A;return this};p.prototype.setRotationExpression=function(A){this.rotationExpression=A;return this};p.prototype.setSymbolOffsetExpression=function(A){this.offsetExpression=
A;return this};p.prototype.setColorExpression=function(A){this.colorExpression=A;return this};p.prototype.setTextureCoordinateExpression=function(A){this.texCoordExpression=A;return this};p.prototype.setFragmentDiscardExpression=function(A){this.discardExpression=A;return this};p.prototype.setSymbolRotateWithView=function(A){this.rotateWithView=A;return this};p.prototype.getSizeExpression=function(){return this.sizeExpression};p.prototype.getOffsetExpression=function(){return this.offsetExpression};
p.prototype.getColorExpression=function(){return this.colorExpression};p.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression};p.prototype.getFragmentDiscardExpression=function(){return this.discardExpression};p.prototype.getSymbolVertexShader=function(A){var u=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",m=this.attributes,l=this.varyings;A&&(m=m.concat("vec4 a_hitColor"),l=l.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));
return"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n".concat(this.uniforms.map(function(f){return"uniform "+f+";"}).join("\n"),"\nattribute vec2 a_position;\nattribute float a_index;\n").concat(m.map(function(f){return"attribute "+f+";"}).join("\n"),"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n").concat(l.map(function(f){return"varying "+
f.type+" "+f.name+";"}).join("\n"),"\nvoid main(void) {\n  mat4 offsetMatrix \x3d ").concat(u,";\n  vec2 halfSize \x3d ").concat(this.sizeExpression," * 0.5;\n  vec2 offset \x3d ").concat(this.offsetExpression,";\n  float angle \x3d ").concat(this.rotationExpression,";\n  float offsetX;\n  float offsetY;\n  if (a_index \x3d\x3d 0.0) {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 1.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 2.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord \x3d ").concat(this.texCoordExpression,
";\n  float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? texCoord.s : texCoord.p;\n  float v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord \x3d vec2(u, v);\n  u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v_quadCoord \x3d vec2(u, v);\n").concat(l.map(function(f){return"  "+f.name+" \x3d "+f.expression+";"}).join("\n"),"\n}")};p.prototype.getSymbolFragmentShader=
function(A){var u=A?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"",m=this.varyings;A&&(m=m.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n".concat(this.uniforms.map(function(l){return"uniform "+l+";"}).join("\n"),"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n").concat(m.map(function(l){return"varying "+l.type+" "+l.name+";"}).join("\n"),
"\nvoid main(void) {\n  if (").concat(this.discardExpression,") { discard; }\n  gl_FragColor \x3d ").concat(this.colorExpression,";\n  gl_FragColor.rgb *\x3d gl_FragColor.a;\n").concat(u,"\n}")};return p}();B.ShaderBuilder=k};
shadow$provide[424]=function(ra,z,cb,B){function v(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=v(z(91));var k=v(z(399)),p=z(81),A=z(423),u=function(){var m=function(l,f){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,d){g.__proto__=d}||function(g,d){for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(g[b]=d[b])};return m(l,f)};return function(l,f){function g(){this.constructor=l}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");m(l,f);l.prototype=null===f?Object.create(f):(g.prototype=f.prototype,new g)}}();z=function(m){function l(f){var g=(0,p.assign)({},f);g=m.call(this,g)||this;g.parseResult_=(0,A.parseLiteralStyle)(f.style);g.styleVariables_=f.style.variables||{};g.hitDetectionDisabled_=!!f.disableHitDetection;return g}u(l,m);l.prototype.createRenderer=function(){return new k.default(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),
fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})};l.prototype.updateStyleVariables=function(f){(0,p.assign)(this.styleVariables_,f);this.changed()};return l}(ra.default);B.default=z};
shadow$provide[425]=function(ra,z,cb,B){function v(d){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(v=function(a){return a?c:b})(d)}function k(d){return d&&d.__esModule?d:{default:d}}function p(d,b){var c="\n    attribute vec2 ".concat(m.Attributes.TEXTURE_COORD,";\n    uniform mat4 ").concat(m.Uniforms.TILE_TRANSFORM,";\n    uniform float ").concat(m.Uniforms.TEXTURE_PIXEL_WIDTH,";\n    uniform float ").concat(m.Uniforms.TEXTURE_PIXEL_HEIGHT,";\n    uniform float ").concat(m.Uniforms.TEXTURE_RESOLUTION,
";\n    uniform float ").concat(m.Uniforms.TEXTURE_ORIGIN_X,";\n    uniform float ").concat(m.Uniforms.TEXTURE_ORIGIN_Y,";\n    uniform float ").concat(m.Uniforms.DEPTH,";\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n\n    void main() {\n      v_textureCoord \x3d ").concat(m.Attributes.TEXTURE_COORD,";\n      v_mapCoord \x3d vec2(\n        ").concat(m.Uniforms.TEXTURE_ORIGIN_X," + ").concat(m.Uniforms.TEXTURE_RESOLUTION," * ").concat(m.Uniforms.TEXTURE_PIXEL_WIDTH," * v_textureCoord[0],\n        ").concat(m.Uniforms.TEXTURE_ORIGIN_Y,
" - ").concat(m.Uniforms.TEXTURE_RESOLUTION," * ").concat(m.Uniforms.TEXTURE_PIXEL_HEIGHT," * v_textureCoord[1]\n      );\n      gl_Position \x3d ").concat(m.Uniforms.TILE_TRANSFORM," * vec4(").concat(m.Attributes.TEXTURE_COORD,", ").concat(m.Uniforms.DEPTH,", 1.0);\n    }\n  "),a={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:b},e=[];if(void 0!==d.color){var t=(0,l.expressionToGlsl)(a,d.color,l.ValueTypes.COLOR);e.push("color \x3d ".concat(t,";"))}void 0!==
d.contrast&&(t=(0,l.expressionToGlsl)(a,d.contrast,l.ValueTypes.NUMBER),e.push("color.rgb \x3d clamp((".concat(t," + 1.0) * color.rgb - (").concat(t," / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")));void 0!==d.exposure&&(t=(0,l.expressionToGlsl)(a,d.exposure,l.ValueTypes.NUMBER),e.push("color.rgb \x3d clamp((".concat(t," + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")));void 0!==d.saturation&&(t=(0,l.expressionToGlsl)(a,d.saturation,l.ValueTypes.NUMBER),e.push("\n      float saturation \x3d ".concat(t,
" + 1.0;\n      float sr \x3d (1.0 - saturation) * 0.2126;\n      float sg \x3d (1.0 - saturation) * 0.7152;\n      float sb \x3d (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix \x3d mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb \x3d clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    ")));void 0!==d.gamma&&(t=(0,l.expressionToGlsl)(a,d.gamma,l.ValueTypes.NUMBER),e.push("color.rgb \x3d pow(color.rgb, vec3(1.0 / ".concat(t,
"));")));void 0!==d.brightness&&(t=(0,l.expressionToGlsl)(a,d.brightness,l.ValueTypes.NUMBER),e.push("color.rgb \x3d clamp(color.rgb + ".concat(t,", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")));var y={};t=a.variables.length;if(1<t&&!d.variables)throw Error("Missing variables in style (expected ".concat(a.variables,")"));var q=function(F){var w=a.variables[F];if(!(w in d.variables))throw Error("Missing '".concat(w,"' in style variables"));F=(0,l.uniformNameForVariable)(w);y[F]=function(){var D=d.variables[w];
"string"===typeof D&&(D=(0,l.getStringNumberEquivalent)(a,D));return void 0!==D?D:-9999999}},E=0;for(;E<t;++E)q(E);t=Object.keys(y).map(function(F){return"uniform float ".concat(F,";")});b=Math.ceil(b/4);t.push("uniform sampler2D ".concat(m.Uniforms.TILE_TEXTURE_ARRAY,"[").concat(b,"];"));a.paletteTextures&&t.push("uniform sampler2D ".concat(l.PALETTE_TEXTURE_ARRAY,"[").concat(a.paletteTextures.length,"];"));b=Object.keys(a.functions).map(function(F){return a.functions[F]});e="\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n    uniform vec4 ".concat(m.Uniforms.RENDER_EXTENT,
";\n    uniform float ").concat(m.Uniforms.TRANSITION_ALPHA,";\n    uniform float ").concat(m.Uniforms.TEXTURE_PIXEL_WIDTH,";\n    uniform float ").concat(m.Uniforms.TEXTURE_PIXEL_HEIGHT,";\n    uniform float ").concat(m.Uniforms.RESOLUTION,";\n    uniform float ").concat(m.Uniforms.ZOOM,";\n\n    ").concat(t.join("\n"),"\n\n    ").concat(b.join("\n"),"\n\n    void main() {\n      if (\n        v_mapCoord[0] \x3c ").concat(m.Uniforms.RENDER_EXTENT,"[0] ||\n        v_mapCoord[1] \x3c ").concat(m.Uniforms.RENDER_EXTENT,
"[1] ||\n        v_mapCoord[0] \x3e ").concat(m.Uniforms.RENDER_EXTENT,"[2] ||\n        v_mapCoord[1] \x3e ").concat(m.Uniforms.RENDER_EXTENT,"[3]\n      ) {\n        discard;\n      }\n\n      vec4 color \x3d texture2D(").concat(m.Uniforms.TILE_TEXTURE_ARRAY,"[0],  v_textureCoord);\n\n      ").concat(e.join("\n"),"\n\n      if (color.a \x3d\x3d 0.0) {\n        discard;\n      }\n\n      gl_FragColor \x3d color;\n      gl_FragColor.rgb *\x3d gl_FragColor.a;\n      gl_FragColor *\x3d ").concat(m.Uniforms.TRANSITION_ALPHA,
";\n    }");return{vertexShader:c,fragmentShader:e,uniforms:y,paletteTextures:a.paletteTextures}}Object.defineProperty(B,"__esModule",{value:!0});B.default=void 0;ra=k(z(370));var A=k(z(87)),u=k(z(90)),m=function(d,b){if(!b&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((b=v(b))&&b.has(d))return b.get(d);var c={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in d)if("default"!==e&&Object.prototype.hasOwnProperty.call(d,e)){var t=
a?Object.getOwnPropertyDescriptor(d,e):null;t&&(t.get||t.set)?Object.defineProperty(c,e,t):c[e]=d[e]}c.default=d;b&&b.set(d,c);return c}(z(421)),l=z(422),f=z(81),g=function(){var d=function(b,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(a[t]=e[t])};return d(b,c)};return function(b,c){function a(){this.constructor=b}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+
String(c)+" is not a constructor or null");d(b,c);b.prototype=null===c?Object.create(c):(a.prototype=c.prototype,new a)}}();z=function(d){function b(c){var a=c?(0,f.assign)({},c):{},e=a.style||{};delete a.style;var t=a.cacheSize;delete a.cacheSize;c=d.call(this,a)||this;c.sources_=a.sources;c.renderedSource_=null;c.renderedResolution_=NaN;c.style_=e;c.cacheSize_=t;c.styleVariables_=c.style_.variables||{};c.addChangeListener(A.default.SOURCE,c.handleSourceUpdate_);return c}g(b,d);b.prototype.getSources=
function(c,a){var e=this.getSource();return this.sources_?"function"===typeof this.sources_?this.sources_(c,a):this.sources_:e?[e]:[]};b.prototype.getRenderSource=function(){return this.renderedSource_||this.getSource()};b.prototype.getSourceState=function(){var c=this.getRenderSource();return c?c.getState():u.default.UNDEFINED};b.prototype.handleSourceUpdate_=function(){this.getSource()&&this.setStyle(this.style_)};b.prototype.getSourceBandCount_=function(){var c=this.getSource();return c&&"bandCount"in
c?c.bandCount:4};b.prototype.createRenderer=function(){var c=p(this.style_,this.getSourceBandCount_());return new m.default(this,{vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,uniforms:c.uniforms,cacheSize:this.cacheSize_,paletteTextures:c.paletteTextures})};b.prototype.renderSources=function(c,a){for(var e=this.getRenderer(),t,y=0,q=a.length;y<q;++y)this.renderedSource_=a[y],e.prepareFrame(c)&&(t=e.renderFrame(c));return t};b.prototype.render=function(c,a){var e=this;this.rendered=
!0;a=c.viewState;for(var t=this.getSources(c.extent,a.resolution),y=!0,q=function(w,D){var G=t[w];w=G.getState();if(w==u.default.LOADING){var L=function(){G.getState()==u.default.READY&&(G.removeEventListener("change",L),e.changed())};G.addEventListener("change",L)}y=y&&w==u.default.READY},E=0,F=t.length;E<F;++E)q(E,F);q=this.renderSources(c,t);return this.getRenderer().renderComplete&&y?(this.renderedResolution_=a.resolution,q):this.renderedResolution_>.5*a.resolution&&(a=this.getSources(c.extent,
this.renderedResolution_).filter(function(w){return!t.includes(w)}),0<a.length)?this.renderSources(c,a):q};b.prototype.setStyle=function(c){this.styleVariables_=c.variables||{};this.style_=c;c=p(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,uniforms:c.uniforms,paletteTextures:c.paletteTextures});this.changed()};b.prototype.updateStyleVariables=function(c){(0,f.assign)(this.styleVariables_,c);this.changed()};return b}(ra.default);
B.default=z};
shadow$provide[426]=function(ra,z,cb,B){function v(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(B,"__esModule",{value:!0});Object.defineProperty(B,"Graticule",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(B,"Group",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(B,"Heatmap",{enumerable:!0,get:function(){return A.default}});Object.defineProperty(B,"Image",{enumerable:!0,get:function(){return u.default}});Object.defineProperty(B,"Layer",
{enumerable:!0,get:function(){return m.default}});Object.defineProperty(B,"MapboxVector",{enumerable:!0,get:function(){return l.default}});Object.defineProperty(B,"Tile",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(B,"Vector",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(B,"VectorImage",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(B,"VectorTile",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(B,
"WebGLPoints",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(B,"WebGLTile",{enumerable:!0,get:function(){return a.default}});var k=v(z(389)),p=v(z(102)),A=v(z(400)),u=v(z(368)),m=v(z(91)),l=v(z(416)),f=v(z(372)),g=v(z(230)),d=v(z(418)),b=v(z(407)),c=v(z(424)),a=v(z(425))};
shadow$provide[427]=function(ra,z,cb,B){(function(v,k){"function"==typeof define&&define.amd?define([],k):"undefined"!=typeof B?k():(k(),v.FileSaver={})})(this,function(){function v(f,g){return"undefined"==typeof g?g={autoBom:!1}:"object"!=typeof g&&(console.warn("Deprecated: Expected third argument to be a object"),g={autoBom:!g}),g.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["",f],{type:f.type}):f}function k(f,g,d){var b=new XMLHttpRequest;
b.open("GET",f);b.responseType="blob";b.onload=function(){l(b.response,g,d)};b.onerror=function(){console.error("could not download file")};b.send()}function p(f){var g=new XMLHttpRequest;g.open("HEAD",f,!1);try{g.send()}catch(d){}return 200<=g.status&&299>=g.status}function A(f){try{f.dispatchEvent(new MouseEvent("click"))}catch(d){var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);f.dispatchEvent(g)}}var u="object"==typeof window&&window.window===
window?window:"object"==typeof self&&self.self===self?self:"object"==typeof ra&&ra.global===ra?ra:void 0,m=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=u.saveAs||("object"!=typeof window||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(f,g,d){var b=u.URL||u.webkitURL,c=document.createElement("a");g=g||f.name||"download";c.download=g;c.rel="noopener";"string"==typeof f?(c.href=f,c.origin===
location.origin?A(c):p(c.href)?k(f,g,d):A(c,c.target="_blank")):(c.href=b.createObjectURL(f),setTimeout(function(){b.revokeObjectURL(c.href)},4E4),setTimeout(function(){A(c)},0))}:"msSaveOrOpenBlob"in navigator?function(f,g,d){if(g=g||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(v(f,d),g);else if(p(f))k(f,g,d);else{var b=document.createElement("a");b.href=f;b.target="_blank";setTimeout(function(){A(b)})}}:function(f,g,d,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText=
"downloading..."),"string"==typeof f)return k(f,g,d);g="application/octet-stream"===f.type;d=/constructor/i.test(u.HTMLElement)||u.safari;var c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||g&&d||m)&&"undefined"!=typeof FileReader){var a=new FileReader;a.onloadend=function(){var y=a.result;y=c?y:y.replace(/^data:[^;]*;/,"data:attachment/file;");b?b.location.href=y:location=y;b=null};a.readAsDataURL(f)}else{var e=u.URL||u.webkitURL,t=e.createObjectURL(f);b?b.location=t:location.href=t;b=null;setTimeout(function(){e.revokeObjectURL(t)},
4E4)}});u.saveAs=l.saveAs=l;"undefined"!=typeof cb&&(cb.exports=l)})};
shadow$provide[428]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"undefined"!==typeof cb?cb.exports=k():"function"===typeof define&&define.amd?define(k):v.Popper=k()})(this,function(){function v(aa){var ka=!1;return function(){ka||(ka=!0,window.Promise.resolve().then(function(){ka=!1;aa()}))}}function k(aa){var ka=!1;return function(){ka||(ka=!0,setTimeout(function(){ka=!1;aa()},Da))}}function p(aa){var ka={};return aa&&"[object Function]"===ka.toString.call(aa)}function A(aa,ka){if(1!==
aa.nodeType)return[];aa=aa.ownerDocument.defaultView.getComputedStyle(aa,null);return ka?aa[ka]:aa}function u(aa){return"HTML"===aa.nodeName?aa:aa.parentNode||aa.host}function m(aa){if(!aa)return document.body;switch(aa.nodeName){case "HTML":case "BODY":return aa.ownerDocument.body;case "#document":return aa.body}var ka=A(aa);return/(auto|scroll|overlay)/.test(ka.overflow+ka.overflowY+ka.overflowX)?aa:m(u(aa))}function l(aa){return 11===aa?sa:10===aa?xa:sa||xa}function f(aa){if(!aa)return document.documentElement;
for(var ka=l(10)?document.body:null,Ia=aa.offsetParent||null;Ia===ka&&aa.nextElementSibling;)Ia=(aa=aa.nextElementSibling).offsetParent;return(ka=Ia&&Ia.nodeName)&&"BODY"!==ka&&"HTML"!==ka?-1!==["TH","TD","TABLE"].indexOf(Ia.nodeName)&&"static"===A(Ia,"position")?f(Ia):Ia:aa?aa.ownerDocument.documentElement:document.documentElement}function g(aa){return null!==aa.parentNode?g(aa.parentNode):aa}function d(aa,ka){if(!(aa&&aa.nodeType&&ka&&ka.nodeType))return document.documentElement;var Ia=aa.compareDocumentPosition(ka)&
Node.DOCUMENT_POSITION_FOLLOWING,Xa=Ia?aa:ka,Ya=Ia?ka:aa;Ia=document.createRange();Ia.setStart(Xa,0);Ia.setEnd(Ya,0);Ia=Ia.commonAncestorContainer;if(aa!==Ia&&ka!==Ia||Xa.contains(Ya))return aa=Ia.nodeName,aa="BODY"===aa?!1:"HTML"===aa||f(Ia.firstElementChild)===Ia,aa?Ia:f(Ia);Xa=g(aa);return Xa.host?d(Xa.host,ka):d(aa,g(ka).host)}function b(aa){var ka="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",Ia=aa.nodeName;return"BODY"===Ia||"HTML"===Ia?(Ia=
aa.ownerDocument.documentElement,(aa.ownerDocument.scrollingElement||Ia)[ka]):aa[ka]}function c(aa,ka){var Ia=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,Xa=b(ka,"top"),Ya=b(ka,"left");Ia=Ia?-1:1;aa.top+=Xa*Ia;aa.bottom+=Xa*Ia;aa.left+=Ya*Ia;aa.right+=Ya*Ia;return aa}function a(aa,ka){ka="x"===ka?"Left":"Top";var Ia="Left"===ka?"Right":"Bottom";return parseFloat(aa["border"+ka+"Width"])+parseFloat(aa["border"+Ia+"Width"])}function e(aa,ka,Ia,Xa){return Math.max(ka["offset"+aa],ka["scroll"+
aa],Ia["client"+aa],Ia["offset"+aa],Ia["scroll"+aa],l(10)?parseInt(Ia["offset"+aa])+parseInt(Xa["margin"+("Height"===aa?"Top":"Left")])+parseInt(Xa["margin"+("Height"===aa?"Bottom":"Right")]):0)}function t(aa){var ka=aa.body;aa=aa.documentElement;var Ia=l(10)&&getComputedStyle(aa);return{height:e("Height",ka,aa,Ia),width:e("Width",ka,aa,Ia)}}function y(aa){return Ua({},aa,{right:aa.left+aa.width,bottom:aa.top+aa.height})}function q(aa){var ka={};try{if(l(10)){ka=aa.getBoundingClientRect();var Ia=
b(aa,"top"),Xa=b(aa,"left");ka.top+=Ia;ka.left+=Xa;ka.bottom+=Ia;ka.right+=Xa}else ka=aa.getBoundingClientRect()}catch(Ya){}ka={left:ka.left,top:ka.top,width:ka.right-ka.left,height:ka.bottom-ka.top};Xa="HTML"===aa.nodeName?t(aa.ownerDocument):{};Ia=aa.offsetWidth-(Xa.width||aa.clientWidth||ka.width);Xa=aa.offsetHeight-(Xa.height||aa.clientHeight||ka.height);if(Ia||Xa)aa=A(aa),Ia-=a(aa,"x"),Xa-=a(aa,"y"),ka.width-=Ia,ka.height-=Xa;return y(ka)}function E(aa,ka){var Ia=2<arguments.length&&void 0!==
arguments[2]?arguments[2]:!1,Xa=l(10),Ya="HTML"===ka.nodeName,mb=q(aa),ib=q(ka),Eb=m(aa),Zb=A(ka),Gc=parseFloat(Zb.borderTopWidth),xc=parseFloat(Zb.borderLeftWidth);Ia&&Ya&&(ib.top=Math.max(ib.top,0),ib.left=Math.max(ib.left,0));mb=y({top:mb.top-ib.top-Gc,left:mb.left-ib.left-xc,width:mb.width,height:mb.height});mb.marginTop=0;mb.marginLeft=0;!Xa&&Ya&&(Ya=parseFloat(Zb.marginTop),Zb=parseFloat(Zb.marginLeft),mb.top-=Gc-Ya,mb.bottom-=Gc-Ya,mb.left-=xc-Zb,mb.right-=xc-Zb,mb.marginTop=Ya,mb.marginLeft=
Zb);if(Xa&&!Ia?ka.contains(Eb):ka===Eb&&"BODY"!==Eb.nodeName)mb=c(mb,ka);return mb}function F(aa){var ka=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,Ia=aa.ownerDocument.documentElement,Xa=E(aa,Ia),Ya=Math.max(Ia.clientWidth,window.innerWidth||0),mb=Math.max(Ia.clientHeight,window.innerHeight||0),ib=ka?0:b(Ia);ka=ka?0:b(Ia,"left");return y({top:ib-Xa.top+Xa.marginTop,left:ka-Xa.left+Xa.marginLeft,width:Ya,height:mb})}function w(aa){var ka=aa.nodeName;return"BODY"===ka||"HTML"===ka?!1:
"fixed"===A(aa,"position")?!0:(aa=u(aa))?w(aa):!1}function D(aa){if(!aa||!aa.parentElement||l())return document.documentElement;for(aa=aa.parentElement;aa&&"none"===A(aa,"transform");)aa=aa.parentElement;return aa||document.documentElement}function G(aa,ka,Ia,Xa){var Ya=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1,mb={top:0,left:0},ib=Ya?D(aa):d(aa,ka&&ka.referenceNode?ka.referenceNode:ka);if("viewport"===Xa)mb=F(ib,Ya);else{if("scrollParent"===Xa){var Eb=m(u(ka));"BODY"===Eb.nodeName&&
(Eb=aa.ownerDocument.documentElement)}else Eb="window"===Xa?aa.ownerDocument.documentElement:Xa;Ya=E(Eb,ib,Ya);"HTML"!==Eb.nodeName||w(ib)?mb=Ya:(Eb=t(aa.ownerDocument),ib=Eb.height,Eb=Eb.width,mb.top+=Ya.top-Ya.marginTop,mb.bottom=ib+Ya.top,mb.left+=Ya.left-Ya.marginLeft,mb.right=Eb+Ya.left)}Ia=Ia||0;Ya="number"===typeof Ia;mb.left+=Ya?Ia:Ia.left||0;mb.top+=Ya?Ia:Ia.top||0;mb.right-=Ya?Ia:Ia.right||0;mb.bottom-=Ya?Ia:Ia.bottom||0;return mb}function L(aa,ka,Ia,Xa,Ya){var mb=5<arguments.length&&void 0!==
arguments[5]?arguments[5]:0;if(-1===aa.indexOf("auto"))return aa;mb=G(Ia,Xa,mb,Ya);var ib={top:{width:mb.width,height:ka.top-mb.top},right:{width:mb.right-ka.right,height:mb.height},bottom:{width:mb.width,height:mb.bottom-ka.bottom},left:{width:ka.left-mb.left,height:mb.height}};mb=Object.keys(ib).map(function(Zb){var Gc=ib[Zb];return Ua({key:Zb},ib[Zb],{area:Gc.width*Gc.height})}).sort(function(Zb,Gc){return Gc.area-Zb.area});var Eb=mb.filter(function(Zb){var Gc=Zb.height;return Zb.width>=Ia.clientWidth&&
Gc>=Ia.clientHeight});mb=0<Eb.length?Eb[0].key:mb[0].key;Eb=aa.split("-")[1];return mb+(Eb?"-"+Eb:"")}function O(aa,ka,Ia){var Xa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,Ya=Xa?D(ka):d(ka,Ia&&Ia.referenceNode?Ia.referenceNode:Ia);return E(Ia,Ya,Xa)}function V(aa){var ka=aa.ownerDocument.defaultView.getComputedStyle(aa),Ia=parseFloat(ka.marginTop||0)+parseFloat(ka.marginBottom||0);ka=parseFloat(ka.marginLeft||0)+parseFloat(ka.marginRight||0);return{width:aa.offsetWidth+ka,height:aa.offsetHeight+
Ia}}function S(aa){var ka={left:"right",right:"left",bottom:"top",top:"bottom"};return aa.replace(/left|right|bottom|top/g,function(Ia){return ka[Ia]})}function ca(aa,ka,Ia){Ia=Ia.split("-")[0];aa=V(aa);var Xa={width:aa.width,height:aa.height},Ya=-1!==["right","left"].indexOf(Ia),mb=Ya?"top":"left",ib=Ya?"left":"top",Eb=Ya?"height":"width";Xa[mb]=ka[mb]+ka[Eb]/2-aa[Eb]/2;Xa[ib]=Ia===ib?ka[ib]-aa[Ya?"width":"height"]:ka[S(ib)];return Xa}function ea(aa,ka){return Array.prototype.find?aa.find(ka):aa.filter(ka)[0]}
function T(aa,ka,Ia){if(Array.prototype.findIndex)return aa.findIndex(function(Ya){return Ya[ka]===Ia});var Xa=ea(aa,function(Ya){return Ya[ka]===Ia});return aa.indexOf(Xa)}function R(aa,ka,Ia){(void 0===Ia?aa:aa.slice(0,T(aa,"name",Ia))).forEach(function(Xa){Xa["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var Ya=Xa["function"]||Xa.fn;Xa.enabled&&p(Ya)&&(ka.offsets.popper=y(ka.offsets.popper),ka.offsets.reference=y(ka.offsets.reference),ka=Ya(ka,Xa))});return ka}
function J(aa,ka){return aa.some(function(Ia){var Xa=Ia.name;return Ia.enabled&&Xa===ka})}function r(aa){for(var ka=[!1,"ms","Webkit","Moz","O"],Ia=aa.charAt(0).toUpperCase()+aa.slice(1),Xa=0;Xa<ka.length;Xa++){var Ya=ka[Xa];Ya=Ya?""+Ya+Ia:aa;if("undefined"!==typeof document.body.style[Ya])return Ya}return null}function C(aa){return(aa=aa.ownerDocument)?aa.defaultView:window}function N(aa,ka,Ia,Xa){var Ya="BODY"===aa.nodeName;aa=Ya?aa.ownerDocument.defaultView:aa;aa.addEventListener(ka,Ia,{passive:!0});
Ya||N(m(aa.parentNode),ka,Ia,Xa);Xa.push(aa)}function U(aa,ka){C(aa).removeEventListener("resize",ka.updateBound);ka.scrollParents.forEach(function(Ia){Ia.removeEventListener("scroll",ka.updateBound)});ka.updateBound=null;ka.scrollParents=[];ka.scrollElement=null;ka.eventsEnabled=!1;return ka}function ja(aa){return""!==aa&&!isNaN(parseFloat(aa))&&isFinite(aa)}function ba(aa,ka){Object.keys(ka).forEach(function(Ia){var Xa="";-1!=="width height top right bottom left".split(" ").indexOf(Ia)&&ja(ka[Ia])&&
(Xa="px");aa.style[Ia]=ka[Ia]+Xa})}function ia(aa,ka){Object.keys(ka).forEach(function(Ia){!1!==ka[Ia]?aa.setAttribute(Ia,ka[Ia]):aa.removeAttribute(Ia)})}function za(aa,ka){var Ia=aa.offsets,Xa=Ia.popper,Ya=Math.round,mb=Math.floor,ib=function(Gc){return Gc};Ia=Ya(Ia.reference.width);var Eb=Ya(Xa.width),Zb=-1!==["left","right"].indexOf(aa.placement);aa=-1!==aa.placement.indexOf("-");mb=ka?Zb||aa||Ia%2===Eb%2?Ya:mb:ib;Ya=ka?Ya:ib;return{left:mb(1===Ia%2&&1===Eb%2&&!aa&&ka?Xa.left-1:Xa.left),top:Ya(Xa.top),
bottom:Ya(Xa.bottom),right:mb(Xa.right)}}function Wa(aa,ka,Ia){var Xa=ea(aa,function(mb){return mb.name===ka});aa=!!Xa&&aa.some(function(mb){return mb.name===Ia&&mb.enabled&&mb.order<Xa.order});if(!aa){var Ya="`"+ka+"`";console.warn("`"+Ia+"` modifier is required by "+Ya+" modifier in order to work, be sure to include it before "+Ya+"!")}return aa}function hb(aa){var ka=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,Ia=Na.indexOf(aa);Ia=Na.slice(Ia+1).concat(Na.slice(0,Ia));return ka?Ia.reverse():
Ia}function Ja(aa,ka,Ia,Xa){var Ya=[0,0],mb=-1!==["right","left"].indexOf(Xa);aa=aa.split(/(\+|\-)/).map(function(Eb){return Eb.trim()});Xa=aa.indexOf(ea(aa,function(Eb){return-1!==Eb.search(/,|\s/)}));aa[Xa]&&-1===aa[Xa].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var ib=/\s*,\s*|\s+/;aa=-1!==Xa?[aa.slice(0,Xa).concat([aa[Xa].split(ib)[0]]),[aa[Xa].split(ib)[1]].concat(aa.slice(Xa+1))]:[aa];aa=aa.map(function(Eb,Zb){var Gc=(1===Zb?!mb:
mb)?"height":"width",xc=!1;return Eb.reduce(function(Ic,rc){return""===Ic[Ic.length-1]&&-1!==["+","-"].indexOf(rc)?(Ic[Ic.length-1]=rc,xc=!0,Ic):xc?(Ic[Ic.length-1]+=rc,xc=!1,Ic):Ic.concat(rc)},[]).map(function(Ic){var rc=Ic.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var jd=+rc[1];rc=rc[2];if(jd)if(0===rc.indexOf("%")){switch(rc){case "%p":Ic=ka;break;default:Ic=Ia}jd*=y(Ic)[Gc]/100}else jd="vh"===rc||"vw"===rc?("vh"===rc?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,
window.innerWidth||0))/100*jd:jd;else jd=Ic;return jd})});aa.forEach(function(Eb,Zb){Eb.forEach(function(Gc,xc){ja(Gc)&&(Ya[Zb]+=Gc*("-"===Eb[xc-1]?-1:1))})});return Ya}var qa="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,Da=function(){for(var aa=["Edge","Trident","Firefox"],ka=0;ka<aa.length;ka+=1)if(qa&&0<=navigator.userAgent.indexOf(aa[ka]))return 1;return 0}(),va=qa&&window.Promise?v:k,sa=qa&&!(!window.MSInputMethodContext||!document.documentMode),
xa=qa&&/MSIE 10/.test(navigator.userAgent),ma=function(){function aa(ka,Ia){for(var Xa=0;Xa<Ia.length;Xa++){var Ya=Ia[Xa];Ya.enumerable=Ya.enumerable||!1;Ya.configurable=!0;"value"in Ya&&(Ya.writable=!0);Object.defineProperty(ka,Ya.key,Ya)}}return function(ka,Ia,Xa){Ia&&aa(ka.prototype,Ia);Xa&&aa(ka,Xa);return ka}}(),Ea=function(aa,ka,Ia){ka in aa?Object.defineProperty(aa,ka,{value:Ia,enumerable:!0,configurable:!0,writable:!0}):aa[ka]=Ia;return aa},Ua=Object.assign||function(aa){for(var ka=1;ka<arguments.length;ka++){var Ia=
arguments[ka],Xa;for(Xa in Ia)Object.prototype.hasOwnProperty.call(Ia,Xa)&&(aa[Xa]=Ia[Xa])}return aa},ab=qa&&/Firefox/i.test(navigator.userAgent),ta="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),Na=ta.slice(3),oa=function(){function aa(ka,Ia){var Xa=this,Ya=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof aa))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=
function(){return requestAnimationFrame(Xa.update)};this.update=va(this.update.bind(this));this.options=Ua({},aa.Defaults,Ya);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=ka&&ka.jquery?ka[0]:ka;this.popper=Ia&&Ia.jquery?Ia[0]:Ia;this.options.modifiers={};Object.keys(Ua({},aa.Defaults.modifiers,Ya.modifiers)).forEach(function(ib){Xa.options.modifiers[ib]=Ua({},aa.Defaults.modifiers[ib]||{},Ya.modifiers?Ya.modifiers[ib]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(ib){return Ua({name:ib},
Xa.options.modifiers[ib])}).sort(function(ib,Eb){return ib.order-Eb.order});this.modifiers.forEach(function(ib){if(ib.enabled&&p(ib.onLoad))ib.onLoad(Xa.reference,Xa.popper,Xa.options,ib,Xa.state)});this.update();var mb=this.options.eventsEnabled;mb&&this.enableEventListeners();this.state.eventsEnabled=mb}ma(aa,[{key:"update",value:function(){if(!this.state.isDestroyed){var ka={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};ka.offsets.reference=O(this.state,this.popper,
this.reference,this.options.positionFixed);ka.placement=L(this.options.placement,ka.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);ka.originalPlacement=ka.placement;ka.positionFixed=this.options.positionFixed;ka.offsets.popper=ca(this.popper,ka.offsets.reference,ka.placement);ka.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";ka=R(this.modifiers,ka);if(this.state.isCreated)this.options.onUpdate(ka);
else this.state.isCreated=!0,this.options.onCreate(ka)}}},{key:"destroy",value:function(){this.state.isDestroyed=!0;J(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[r("transform")]="");this.disableEventListeners();this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);
return this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var ka=this.reference,Ia=this.state;Ia.updateBound=this.scheduleUpdate;C(ka).addEventListener("resize",Ia.updateBound,{passive:!0});ka=m(ka);N(ka,"scroll",Ia.updateBound,Ia.scrollParents);Ia.scrollElement=ka;Ia.eventsEnabled=!0;this.state=Ia}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=U(this.reference,this.state))}}]);return aa}();
oa.Utils=("undefined"!==typeof window?window:ra).PopperUtils;oa.placements=ta;oa.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(aa){var ka=aa.placement,Ia=ka.split("-")[0];if(ka=ka.split("-")[1]){var Xa=aa.offsets,Ya=Xa.reference;Xa=Xa.popper;var mb=-1!==["bottom","top"].indexOf(Ia);Ia=mb?"left":"top";mb=mb?"width":"height";Ya={start:Ea({},Ia,Ya[Ia]),end:Ea({},Ia,Ya[Ia]+
Ya[mb]-Xa[mb])};aa.offsets.popper=Ua({},Xa,Ya[ka])}return aa}},offset:{order:200,enabled:!0,fn:function(aa,ka){var Ia=ka.offset,Xa=aa.offsets;ka=Xa.popper;var Ya=Xa.reference;Xa=aa.placement.split("-")[0];Ia=ja(+Ia)?[+Ia,0]:Ja(Ia,ka,Ya,Xa);"left"===Xa?(ka.top+=Ia[0],ka.left-=Ia[1]):"right"===Xa?(ka.top+=Ia[0],ka.left+=Ia[1]):"top"===Xa?(ka.left+=Ia[0],ka.top-=Ia[1]):"bottom"===Xa&&(ka.left+=Ia[0],ka.top+=Ia[1]);aa.popper=ka;return aa},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(aa,
ka){var Ia=ka.boundariesElement||f(aa.instance.popper);aa.instance.reference===Ia&&(Ia=f(Ia));var Xa=r("transform"),Ya=aa.instance.popper.style,mb=Ya.top,ib=Ya.left,Eb=Ya[Xa];Ya.top="";Ya.left="";Ya[Xa]="";var Zb=G(aa.instance.popper,aa.instance.reference,ka.padding,Ia,aa.positionFixed);Ya.top=mb;Ya.left=ib;Ya[Xa]=Eb;ka.boundaries=Zb;var Gc=aa.offsets.popper,xc={primary:function(Ic){var rc=Gc[Ic];Gc[Ic]<Zb[Ic]&&!ka.escapeWithReference&&(rc=Math.max(Gc[Ic],Zb[Ic]));return Ea({},Ic,rc)},secondary:function(Ic){var rc=
"right"===Ic?"left":"top",jd=Gc[rc];Gc[Ic]>Zb[Ic]&&!ka.escapeWithReference&&(jd=Math.min(Gc[rc],Zb[Ic]-("right"===Ic?Gc.width:Gc.height)));return Ea({},rc,jd)}};ka.priority.forEach(function(Ic){var rc=-1!==["left","top"].indexOf(Ic)?"primary":"secondary";Gc=Ua({},Gc,xc[rc](Ic))});aa.offsets.popper=Gc;return aa},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(aa){var ka=aa.offsets,Ia=ka.popper;ka=ka.reference;var Xa=
aa.placement.split("-")[0],Ya=Math.floor,mb=-1!==["top","bottom"].indexOf(Xa);Xa=mb?"right":"bottom";var ib=mb?"left":"top";mb=mb?"width":"height";Ia[Xa]<Ya(ka[ib])&&(aa.offsets.popper[ib]=Ya(ka[ib])-Ia[mb]);Ia[ib]>Ya(ka[Xa])&&(aa.offsets.popper[ib]=Ya(ka[Xa]));return aa}},arrow:{order:500,enabled:!0,fn:function(aa,ka){var Ia;if(!Wa(aa.instance.modifiers,"arrow","keepTogether"))return aa;ka=ka.element;if("string"===typeof ka){if(ka=aa.instance.popper.querySelector(ka),!ka)return aa}else if(!aa.instance.popper.contains(ka))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),
aa;var Xa=aa.placement.split("-")[0],Ya=aa.offsets,mb=Ya.popper,ib=Ya.reference,Eb=-1!==["left","right"].indexOf(Xa);Xa=Eb?"height":"width";var Zb=Eb?"Top":"Left";Ya=Zb.toLowerCase();var Gc=Eb?"left":"top",xc=Eb?"bottom":"right";Eb=V(ka)[Xa];ib[xc]-Eb<mb[Ya]&&(aa.offsets.popper[Ya]-=mb[Ya]-(ib[xc]-Eb));ib[Ya]+Eb>mb[xc]&&(aa.offsets.popper[Ya]+=ib[Ya]+Eb-mb[xc]);aa.offsets.popper=y(aa.offsets.popper);ib=ib[Ya]+ib[Xa]/2-Eb/2;var Ic=A(aa.instance.popper);xc=parseFloat(Ic["margin"+Zb]);Zb=parseFloat(Ic["border"+
Zb+"Width"]);Zb=ib-aa.offsets.popper[Ya]-xc-Zb;Zb=Math.max(Math.min(mb[Xa]-Eb,Zb),0);aa.arrowElement=ka;aa.offsets.arrow=(Ia={},Ea(Ia,Ya,Math.round(Zb)),Ea(Ia,Gc,""),Ia);return aa},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(aa,ka){if(J(aa.instance.modifiers,"inner")||aa.flipped&&aa.placement===aa.originalPlacement)return aa;var Ia=G(aa.instance.popper,aa.instance.reference,ka.padding,ka.boundariesElement,aa.positionFixed),Xa=aa.placement.split("-")[0],Ya=S(Xa),mb=aa.placement.split("-")[1]||
"",ib=[];switch(ka.behavior){case "flip":ib=[Xa,Ya];break;case "clockwise":ib=hb(Xa);break;case "counterclockwise":ib=hb(Xa,!0);break;default:ib=ka.behavior}ib.forEach(function(Eb,Zb){if(Xa!==Eb||ib.length===Zb+1)return aa;Xa=aa.placement.split("-")[0];Ya=S(Xa);var Gc=aa.offsets.popper;Eb=aa.offsets.reference;var xc=Math.floor;Eb="left"===Xa&&xc(Gc.right)>xc(Eb.left)||"right"===Xa&&xc(Gc.left)<xc(Eb.right)||"top"===Xa&&xc(Gc.bottom)>xc(Eb.top)||"bottom"===Xa&&xc(Gc.top)<xc(Eb.bottom);var Ic=xc(Gc.left)<
xc(Ia.left),rc=xc(Gc.right)>xc(Ia.right),jd=xc(Gc.top)<xc(Ia.top);xc=xc(Gc.bottom)>xc(Ia.bottom);Gc="left"===Xa&&Ic||"right"===Xa&&rc||"top"===Xa&&jd||"bottom"===Xa&&xc;var Bb=-1!==["top","bottom"].indexOf(Xa),tb=!!ka.flipVariationsByContent&&(Bb&&"start"===mb&&rc||Bb&&"end"===mb&&Ic||!Bb&&"start"===mb&&xc||!Bb&&"end"===mb&&jd);Ic=!!ka.flipVariations&&(Bb&&"start"===mb&&Ic||Bb&&"end"===mb&&rc||!Bb&&"start"===mb&&jd||!Bb&&"end"===mb&&xc)||tb;if(Eb||Gc||Ic){aa.flipped=!0;if(Eb||Gc)Xa=ib[Zb+1];Ic&&("end"===
mb?mb="start":"start"===mb&&(mb="end"));aa.placement=Xa+(mb?"-"+mb:"");aa.offsets.popper=Ua({},aa.offsets.popper,ca(aa.instance.popper,aa.offsets.reference,aa.placement));aa=R(aa.instance.modifiers,aa,"flip")}});return aa},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(aa){var ka=aa.placement,Ia=ka.split("-")[0],Xa=aa.offsets,Ya=Xa.popper;Xa=Xa.reference;var mb=-1!==["left","right"].indexOf(Ia),ib=-1===["top",
"left"].indexOf(Ia);Ya[mb?"left":"top"]=Xa[Ia]-(ib?Ya[mb?"width":"height"]:0);aa.placement=S(ka);aa.offsets.popper=y(Ya);return aa}},hide:{order:800,enabled:!0,fn:function(aa){if(!Wa(aa.instance.modifiers,"hide","preventOverflow"))return aa;var ka=aa.offsets.reference,Ia=ea(aa.instance.modifiers,function(Xa){return"preventOverflow"===Xa.name}).boundaries;if(ka.bottom<Ia.top||ka.left>Ia.right||ka.top>Ia.bottom||ka.right<Ia.left){if(!0===aa.hide)return aa;aa.hide=!0;aa.attributes["x-out-of-boundaries"]=
""}else{if(!1===aa.hide)return aa;aa.hide=!1;aa.attributes["x-out-of-boundaries"]=!1}return aa}},computeStyle:{order:850,enabled:!0,fn:function(aa,ka){var Ia=ka.x,Xa=ka.y,Ya=aa.offsets.popper,mb=ea(aa.instance.modifiers,function(Ic){return"applyStyle"===Ic.name}).gpuAcceleration;void 0!==mb&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");ka=void 0!==mb?mb:ka.gpuAcceleration;mb=f(aa.instance.popper);var ib=
q(mb);Ya={position:Ya.position};var Eb=za(aa,2>window.devicePixelRatio||!ab);Ia="bottom"===Ia?"top":"bottom";Xa="right"===Xa?"left":"right";var Zb=r("transform"),Gc=void 0,xc=void 0;xc="bottom"===Ia?"HTML"===mb.nodeName?-mb.clientHeight+Eb.bottom:-ib.height+Eb.bottom:Eb.top;Gc="right"===Xa?"HTML"===mb.nodeName?-mb.clientWidth+Eb.right:-ib.width+Eb.right:Eb.left;ka&&Zb?(Ya[Zb]="translate3d("+Gc+"px, "+xc+"px, 0)",Ya[Ia]=0,Ya[Xa]=0,Ya.willChange="transform"):(Ya[Ia]=xc*("bottom"===Ia?-1:1),Ya[Xa]=Gc*
("right"===Xa?-1:1),Ya.willChange=Ia+", "+Xa);aa.attributes=Ua({},{"x-placement":aa.placement},aa.attributes);aa.styles=Ua({},Ya,aa.styles);aa.arrowStyles=Ua({},aa.offsets.arrow,aa.arrowStyles);return aa},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(aa){ba(aa.instance.popper,aa.styles);ia(aa.instance.popper,aa.attributes);aa.arrowElement&&Object.keys(aa.arrowStyles).length&&ba(aa.arrowElement,aa.arrowStyles);return aa},onLoad:function(aa,ka,Ia,Xa,Ya){Xa=O(Ya,
ka,aa,Ia.positionFixed);aa=L(Ia.placement,Xa,ka,aa,Ia.modifiers.flip.boundariesElement,Ia.modifiers.flip.padding);ka.setAttribute("x-placement",aa);ba(ka,{position:Ia.positionFixed?"fixed":"absolute"});return Ia},gpuAcceleration:void 0}}};return oa})};
shadow$provide[429]=function(ra,z,cb,B){(function(v,k){"object"===typeof B&&"object"===typeof cb?cb.exports=k(z(3),z(428),z(12)):"function"===typeof define&&define.amd?define("reactTippy",["react","popper.js","react-dom"],k):"object"===typeof B?B.reactTippy=k(z(3),z(428),z(12)):v.reactTippy=k(v.React,v.Popper,v.ReactDOM)})(this,function(v,k,p){return function(A){function u(l){if(m[l])return m[l].exports;var f=m[l]={i:l,l:!1,exports:{}};A[l].call(f.exports,f,f.exports,u);f.l=!0;return f.exports}var m=
{};u.m=A;u.c=m;u.i=function(l){return l};u.d=function(l,f,g){u.o(l,f)||Object.defineProperty(l,f,{configurable:!1,enumerable:!0,get:g})};u.n=function(l){var f=l&&l.__esModule?function(){return l["default"]}:function(){return l};u.d(f,"a",f);return f};u.o=function(l,f){return Object.prototype.hasOwnProperty.call(l,f)};u.p="";return u(u.s=15)}([function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});A=u.Browser={};"undefined"!==typeof window&&(A.SUPPORTED="requestAnimationFrame"in window,A.SUPPORTS_TOUCH=
"ontouchstart"in window,A.touch=!1,A.dynamicInputDetection=!0,A.iOS=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream});u.Store=[];u.Selectors={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-tooltip-content",CIRCLE:"[x-circle]",ARROW:"[x-arrow]",TOOLTIPPED_EL:"[data-tooltipped]",CONTROLLER:"[data-tippy-controller]"};m=u.Defaults={html:!1,position:"top",animation:"shift",animateFill:!0,arrow:!1,arrowSize:"regular",delay:0,trigger:"mouseenter focus",duration:350,
interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,flipDuration:350,sticky:!1,stickyDuration:200,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,useContext:!1,reactInstance:void 0,popperOptions:{},open:void 0,onRequestClose:function(){}};u.DefaultsKeys=A.SUPPORTED&&Object.keys(m)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l){for(var f=
[!1,"webkit"],g=l.charAt(0).toUpperCase()+l.slice(1),d=0;d<f.length;d++){var b=f[d];b=b?""+b+g:l;if("undefined"!==typeof window.document.body.style[b])return b}return null}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l,f){return Array.prototype.find?l.find(f):l.filter(f)[0]}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l){return l.replace(/-.+/,"")}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=
function(f,g){return(Element.prototype.closest||function(d){for(var b=this;b;){if(l.matches.call(b,d))return b;b=b.parentElement}}).call(f,g)};var l=m(8)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l){window.requestAnimationFrame(function(){setTimeout(l,0)})}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(f){return{tooltip:f.querySelector(l.Selectors.TOOLTIP),circle:f.querySelector(l.Selectors.CIRCLE),content:f.querySelector(l.Selectors.CONTENT)}};
var l=m(0)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l){return"visible"===l.style.visibility}},function(A,u,m){function l(f){f=(this.document||this.ownerDocument).querySelectorAll(f);for(var g=f.length;0<=--g&&f.item(g)!==this;);return-1<g}Object.defineProperty(u,"__esModule",{value:!0});u.matches="undefined"===typeof window?l:Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||
Element.prototype.msMatchesSelector||l},function(A,u,m){function l(q,E){if("function"!==typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function, not "+typeof E);q.prototype=Object.create(E&&E.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}});E&&(Object.setPrototypeOf?Object.setPrototypeOf(q,E):q.__proto__=E)}Object.defineProperty(u,"__esModule",{value:!0});var f=Object.assign||function(q){for(var E=1;E<arguments.length;E++){var F=arguments[E],
w;for(w in F)Object.prototype.hasOwnProperty.call(F,w)&&(q[w]=F[w])}return q},g=function(){function q(E,F){for(var w=0;w<F.length;w++){var D=F[w];D.enumerable=D.enumerable||!1;D.configurable=!0;"value"in D&&(D.writable=!0);Object.defineProperty(E,D.key,D)}}return function(E,F,w){F&&q(E.prototype,F);w&&q(E,w);return E}}(),d=(A=m(13))&&A.__esModule?A:{default:A},b=m(30),c=b&&b.__esModule?b:{default:b},a=m(0),e=function(q){return q.stopPropagation()};m={html:null,position:"top",animation:"shift",animateFill:!0,
arrow:!1,delay:0,hideDelay:0,trigger:"mouseenter focus",duration:375,hideDuration:375,interactive:!1,interactiveBorder:2,theme:"dark",offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,popperOptions:{},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},disabled:!1,arrowSize:"regular",size:"regular",className:"",style:{},distance:10,onRequestClose:function(){},sticky:!1,stickyDuration:200,tag:"div",touchHold:!1,unmountHTMLWhenHide:!1,zIndex:9999};var t=Object.keys(m),
y=function(q,E){var F=[];t.forEach(function(w){q[w]!==E[w]&&F.push(w)});return F};A=function(q){function E(F){if(!(this instanceof E))throw new TypeError("Cannot call a class as a function");F=(E.__proto__||Object.getPrototypeOf(E)).call(this,F);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");F=!F||"object"!==typeof F&&"function"!==typeof F?this:F;F.initTippy=F._initTippy.bind(F);F.destroyTippy=F._destroyTippy.bind(F);F.updateTippy=F._updateTippy.bind(F);
F.updateReactDom=F._updateReactDom.bind(F);F.showTooltip=F._showTooltip.bind(F);F.hideTooltip=F._hideTooltip.bind(F);F.updateSettings=F._updateSettings.bind(F);F.state={reactDOMValue:null};return F}l(E,q);g(E,[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&"undefined"!==typeof document&&this.initTippy()}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&"undefined"!==typeof document&&this.destroyTippy()}},{key:"componentDidUpdate",value:function(F){var w=
this;"undefined"!==typeof window&&"undefined"!==typeof document&&(!1===this.props.disabled&&!0===F.disabled?(this.updateSettings("disabled",!1),this.destroyTippy(),this.initTippy()):!0===this.props.disabled&&!1===F.disabled?(this.updateSettings("disabled",!0),this.destroyTippy()):(!0!==this.props.open||F.open||(this.updateSettings("open",!0),setTimeout(function(){w.showTooltip()},0)),!1===this.props.open&&!0===F.open&&(this.updateSettings("open",!1),this.hideTooltip()),this.props.html!==F.html&&this.updateReactDom(),
this.props.title!==F.title&&this.updateTippy(),y(this.props,F).forEach(function(D){w.updateSettings(D,w.props[D])})))}},{key:"_showTooltip",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var F=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.show(F,this.props.duration)}}},{key:"_hideTooltip",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var F=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.hide(F,
this.props.hideDuration)}}},{key:"_updateSettings",value:function(F,w){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var D=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.updateSettings(D,F,w)}}},{key:"_updateReactDom",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){this.updateSettings("reactDOM",this.props.html);var F=this.tippy.getPopperElement(this.tooltipDOM);("visible"===F.style.visibility||this.props.open)&&this.tippy.updateForReact(F,
this.props.html)}}},{key:"_updateTippy",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var F=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.update(F)}}},{key:"_initTippy",value:function(){var F=this;"undefined"!==typeof window&&"undefined"!==typeof document&&a.Browser.SUPPORTED&&(this.props.disabled?this.tippy=null:(this.props.title&&this.tooltipDOM.setAttribute("title",this.props.title),this.tippy=(0,c.default)(this.tooltipDOM,{disabled:this.props.disabled,
position:this.props.position,animation:this.props.animation,animateFill:this.props.animateFill,arrow:this.props.arrow,arrowSize:this.props.arrowSize,delay:this.props.delay,hideDelay:this.props.hideDelay,trigger:this.props.trigger,duration:this.props.duration,hideDuration:this.props.hideDuration,interactive:this.props.interactive,interactiveBorder:this.props.interactiveBorder,theme:this.props.theme,offset:this.props.offset,hideOnClick:this.props.hideOnClick,multiple:this.props.multiple,size:this.props.size,
followCursor:this.props.followCursor,inertia:this.props.inertia,popperOptions:this.props.popperOptions,onShow:this.props.onShow,onShown:this.props.onShown,onHide:this.props.onHide,onHidden:this.props.onHidden,distance:this.props.distance,reactDOM:this.props.html,setReactDOMValue:function(w){return F.setState({reactDOMValue:w})},unmountHTMLWhenHide:this.props.unmountHTMLWhenHide,open:this.props.open,sticky:this.props.sticky,stickyDuration:this.props.stickyDuration,tag:this.props.tag,touchHold:this.props.touchHold,
onRequestClose:this.props.onRequestClose,useContext:this.props.useContext,reactInstance:this.props.useContext?this:void 0,performance:!0,html:this.props.rawTemplate?this.props.rawTemplate:void 0,zIndex:this.props.zIndex}),this.props.open&&this.showTooltip()))}},{key:"_destroyTippy",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var F=this.tippy.getPopperElement(this.tooltipDOM);this.updateSettings("open",!1);this.tippy.hide(F,0);this.tippy.destroy(F);this.tippy=
null}}},{key:"render",value:function(){var F=this;return d.default.createElement(d.default.Fragment,null,d.default.createElement(this.props.tag,{ref:function(w){F.tooltipDOM=w},title:this.props.title,className:this.props.className,tabIndex:this.props.tabIndex,style:f({display:"inline"},this.props.style)},this.props.children),this.state.reactDOMValue&&d.default.createElement("div",{onClick:e,onContextMenu:e,onDoubleClick:e,onDrag:e,onDragEnd:e,onDragEnter:e,onDragExit:e,onDragLeave:e,onDragOver:e,
onDragStart:e,onDrop:e,onMouseDown:e,onMouseEnter:e,onMouseLeave:e,onMouseMove:e,onMouseOver:e,onMouseOut:e,onMouseUp:e,onKeyDown:e,onKeyPress:e,onKeyUp:e,onFocus:e,onBlur:e,onChange:e,onInput:e,onInvalid:e,onSubmit:e},this.state.reactDOMValue))}}]);return E}(A.Component);A.defaultProps=m;u.default=A},function(A,u,m){function l(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(u,"__esModule",{value:!0});u.default=function(c){var a=this,e=(0,d.default)(f.Store,function(L){return L.el===
a});if(e){var t=e.popper,y=e.settings.offset;e=(0,g.default)(t.getAttribute("x-placement"));var q=Math.round(t.offsetWidth/2),E=Math.round(t.offsetHeight/2),F=document.documentElement.offsetWidth||document.body.offsetWidth,w=c.pageX,D=c.pageY,G=c=void 0;switch(e){case "top":c=w-q+y;G=D-2.25*E;break;case "left":c=w-2*q-10;G=D-E+y;break;case "right":c=w+E;G=D-E+y;break;case "bottom":c=w-q+y,G=D+E/1.5}E=w+5+q+y>F;y=0>w-5-q+y;if("top"===e||"bottom"===e)E&&(c=F-5-2*q),y&&(c=5);t.style[(0,b.default)("transform")]=
"translate3d("+c+"px, "+G+"px, 0)"}};var f=m(0);A=m(3);var g=l(A);A=m(2);var d=l(A);A=m(1);var b=l(A);m=m(4);l(m)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(f){return-(f-l.Defaults.distance)+"px"};var l=m(0)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l){var f=l.getAttribute("title");f&&l.setAttribute("data-original-title",f);l.removeAttribute("title")}},function(A,u){A.exports=v},function(A,u,m){Object.defineProperty(u,
"__esModule",{value:!0});var l=(A=m(13))&&A.__esModule?A:{default:A},f=(m=m(9))&&m.__esModule?m:{default:m};u.default=function(g){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(b){var c=[],a={},e;for(e in b)0<=c.indexOf(e)||Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return l.default.createElement(f.default,d,l.default.createElement(g,a))}}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.withTooltip=u.Tooltip=void 0;A=(A=m(9))&&A.__esModule?
A:{default:A};m=(m=m(14))&&m.__esModule?m:{default:m};u.Tooltip=A.default;u.withTooltip=m.default},function(A,u,m){function l(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(u,"__esModule",{value:!0});u.default=function(){var a=function(){f.Browser.touch=!0;f.Browser.iOS()&&document.body.classList.add("tippy-touch");f.Browser.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",e)},e=function(){var t=void 0;return function(){var y=performance.now();20>y-t&&
(f.Browser.touch=!1,document.removeEventListener("mousemove",e),f.Browser.iOS()||document.body.classList.remove("tippy-touch"));t=y}}();document.addEventListener("click",function(t){if(!(t.target instanceof Element))return(0,g.default)();var y=(0,d.default)(t.target,f.Selectors.TOOLTIPPED_EL),q=(0,d.default)(t.target,f.Selectors.POPPER);if(q){var E=(0,b.default)(f.Store,function(G){return G.popper===q});if(!E||E.settings.interactive)return}if(y){E=(0,b.default)(f.Store,function(G){return G.el===y});
if(!E)return;var F=E.settings,w=F.hideOnClick,D=F.multiple;F=F.trigger;if(!D&&f.Browser.touch||!D&&-1!==F.indexOf("click"))return(0,g.default)(E);if(!0!==w||-1!==F.indexOf("click"))return}!(0,d.default)(t.target,f.Selectors.CONTROLLER)&&document.querySelector(f.Selectors.POPPER)&&(0,g.default)()});document.addEventListener("touchstart",a);window.addEventListener("blur",function(t){(t=document.activeElement)&&t.blur&&c.matches.call(t,f.Selectors.TOOLTIPPED_EL)&&t.blur()});!f.Browser.SUPPORTS_TOUCH&&
(0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&document.addEventListener("pointerdown",a)};var f=m(0);A=m(25);var g=l(A);A=m(4);var d=l(A);A=m(2);var b=l(A),c=m(8)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(g,d,b){var c=b.position,a=b.distance,e=b.arrow,t=b.animateFill,y=b.inertia,q=b.animation,E=b.arrowSize,F=b.size,w=b.theme,D=b.html,G=b.zIndex;b=b.interactive;var L=document.createElement("div");L.setAttribute("class","tippy-popper");L.setAttribute("role",
"tooltip");L.setAttribute("aria-hidden","true");L.setAttribute("id","tippy-tooltip-"+g);L.style.zIndex=G;var O=document.createElement("div");O.setAttribute("class","tippy-tooltip tippy-tooltip--"+F+" leave");O.setAttribute("data-animation",q);w.split(" ").forEach(function(V){O.classList.add(V+"-theme")});e&&(g=document.createElement("div"),g.setAttribute("class","arrow-"+E),g.setAttribute("x-arrow",""),O.appendChild(g));t&&(O.setAttribute("data-animatefill",""),t=document.createElement("div"),t.setAttribute("class",
"leave"),t.setAttribute("x-circle",""),O.appendChild(t));y&&O.setAttribute("data-inertia","");b&&O.setAttribute("data-interactive","");y=document.createElement("div");y.setAttribute("class","tippy-tooltip-content");D?(d=void 0,D instanceof Element?(y.appendChild(D),d="#"+D.id||"tippy-html-template"):(y.innerHTML=document.getElementById(D.replace("#","")).innerHTML,d=D),L.classList.add("html-template"),b&&L.setAttribute("tabindex","-1"),O.setAttribute("data-template-id",d)):y.innerHTML=d;O.style[(0,l.default)(c)]=
(0,f.default)(a);O.appendChild(y);L.appendChild(O);return L};var l=(A=m(3))&&A.__esModule?A:{default:A},f=(m=m(11))&&m.__esModule?m:{default:m}},function(A,u,m){function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(u,"__esModule",{value:!0});var f=Object.assign||function(t){for(var y=1;y<arguments.length;y++){var q=arguments[y],E;for(E in q)Object.prototype.hasOwnProperty.call(q,E)&&(t[E]=q[E])}return t};u.default=function(t){var y=t.el,q=t.popper,E=t.settings,F=E.position,w=E.popperOptions,
D=E.offset,G=E.distance,L=E.flipDuration,O=(0,a.default)(q).tooltip;E=f({placement:F},w||{},{modifiers:f({},w?w.modifiers:{},{flip:f({padding:G+5},w&&w.modifiers?w.modifiers.flip:{}),offset:f({offset:D},w&&w.modifiers?w.modifiers.offset:{})}),onUpdate:function(){var S=O.style;S.top="";S.bottom="";S.left="";S.right="";S[(0,c.default)(q.getAttribute("x-placement"))]=(0,e.default)(G)}});if(window.MutationObserver){var V=q.style;F=new MutationObserver(function(){V[(0,b.default)("transitionDuration")]=
"0ms";t.popperInstance.update();(0,d.default)(function(){V[(0,b.default)("transitionDuration")]=L+"ms"})});F.observe(q,{childList:!0,subtree:!0,characterData:!0});t._mutationObserver=F}return new g.default(y,q,E)};A=m(38);var g=l(A);A=m(5);var d=l(A);A=m(1);var b=l(A);A=m(3);var c=l(A);A=m(6);var a=l(A);m=m(11);var e=l(m)},function(A,u,m){function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(u,"__esModule",{value:!0});u.default=function(t){var y=this;return t.reduce(function(q,
E){var F=e,w=(0,c.default)(y.settings.performance?y.settings:(0,f.default)(E,y.settings)),D=w.html,G=w.reactDOM,L=w.trigger,O=w.touchHold,V=E.getAttribute("title");if(!V&&!D&&!G)return q;E.setAttribute("data-tooltipped","");E.setAttribute("aria-describedby","tippy-tooltip-"+F);(0,a.default)(E);D=(0,g.default)(F,V,w);var S=b.default.call(y,E,D,w),ca=[];L.trim().split(" ").forEach(function(ea){return ca=ca.concat((0,d.default)(ea,E,S,O))});q.push({id:F,el:E,popper:D,settings:w,listeners:ca,tippyInstance:y});
e++;return q},[])};A=m(24);var f=l(A);A=m(17);var g=l(A);A=m(20);var d=l(A);A=m(23);var b=l(A);A=m(21);var c=l(A);A=m(12);var a=l(A);m(0);var e=1},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(f,g,d,b){var c=[];if("manual"===f)return c;g.addEventListener(f,d.handleTrigger);c.push({event:f,handler:d.handleTrigger});"mouseenter"===f&&(l.Browser.SUPPORTS_TOUCH&&b&&(g.addEventListener("touchstart",d.handleTrigger),c.push({event:"touchstart",handler:d.handleTrigger}),
g.addEventListener("touchend",d.handleMouseleave),c.push({event:"touchend",handler:d.handleMouseleave})),g.addEventListener("mouseleave",d.handleMouseleave),c.push({event:"mouseleave",handler:d.handleMouseleave}));"focus"===f&&(g.addEventListener("blur",d.handleBlur),c.push({event:"blur",handler:d.handleBlur}));return c};var l=m(0)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l){l.arrow&&(l.animateFill=!1);l.appendTo&&"function"===typeof l.appendTo&&(l.appendTo=
l.appendTo());return l}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l){return l instanceof Element?[l]:Array.isArray(l)?l:[].slice.call(document.querySelectorAll(l))}},function(A,u,m){function l(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(u,"__esModule",{value:!0});u.default=function(c,a,e){var t=this,y=e.delay,q=e.interactive,E=e.hideOnClick,F=e.trigger,w=e.touchHold,D=void 0,G=void 0,L=function(){clearTimeout(D);clearTimeout(G);if(!(0,g.default)(a)){var V=
Array.isArray(y)?y[0]:y;y?D=setTimeout(function(){return t.show(a)},V):t.show(a)}},O=function(){clearTimeout(D);clearTimeout(G);var V=Array.isArray(y)?y[1]:y;y?G=setTimeout(function(){return t.hide(a)},V):t.hide(a)};return{handleTrigger:function(V){var S="mouseenter"===V.type&&f.Browser.SUPPORTS_TOUCH&&f.Browser.touch;if(!S||!w){var ca="persistent"!==E;"click"===V.type&&(0,g.default)(a)&&ca?O():t.callbacks.wait?t.callbacks.wait.call(a,L,V):L();S&&f.Browser.iOS()&&c.click&&c.click()}},handleMouseleave:function(V){"mouseleave"===
V.type&&f.Browser.SUPPORTS_TOUCH&&f.Browser.touch&&w||(q?(document.body.addEventListener("mouseleave",O),document.addEventListener("mousemove",function ea(ca){var T=function(){document.body.removeEventListener("mouseleave",O);document.removeEventListener("mousemove",ea);O()},R=(0,d.default)(ca.target,f.Selectors.TOOLTIPPED_EL),J=(0,d.default)(ca.target,f.Selectors.POPPER)===a,r=R===c,C=-1!==F.indexOf("click");if(R&&R!==c)return T();J||r||C||(0,b.default)(ca,a,e)&&T()})):O())},handleBlur:function(V){V.relatedTarget&&
!f.Browser.touch&&((0,d.default)(V.relatedTarget,f.Selectors.POPPER)||O())}}};var f=m(0);A=m(7);var g=l(A);A=m(4);var d=l(A);m=m(32);var b=l(m)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(f,g){var d=l.DefaultsKeys.reduce(function(b,c){var a=f.getAttribute("data-"+c.toLowerCase())||g[c];"false"===a&&(a=!1);"true"===a&&(a=!0);isFinite(a)&&!isNaN(parseFloat(a))&&(a=parseFloat(a));"string"===typeof a&&"["===a.trim().charAt(0)&&(a=JSON.parse(a));b[c]=a;return b},
{});return Object.assign({},g,d)};var l=m(0)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(f){l.Store.forEach(function(g){var d=g.popper,b=g.tippyInstance,c=g.settings,a=c.hideOnClick,e=c.trigger;c.appendTo.contains(d)&&(c=!0===a||-1!==e.indexOf("focus"),a=!f||d!==f.popper,c&&a&&(g.settings.onRequestClose(),b.hide(d)))})};var l=m(0)},function(A,u,m){function l(){if(l.done)return!1;l.done=!0;(0,f.default)();return!0}Object.defineProperty(u,"__esModule",{value:!0});
u.default=l;var f=(A=m(16))&&A.__esModule?A:{default:A}},function(A,u,m){function l(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(u,"__esModule",{value:!0});u.default=function(b){var c=b.popper,a=b.popperInstance,e=b.settings.stickyDuration;(0,f.default)(function y(){a&&a.scheduleUpdate();c.style[(0,g.default)("transitionDuration")]=e+"ms";(0,d.default)(c)?window.requestAnimationFrame(y):c.style[(0,g.default)("transitionDuration")]=""})};A=m(5);var f=l(A);A=m(1);var g=l(A);m=m(7);
var d=l(m)},function(A,u,m){function l(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(u,"__esModule",{value:!0});u.default=function(b){var c=b.el,a=b.popper,e=b.settings,t=e.appendTo;e=e.followCursor;t.contains(a)||(t.appendChild(a),b.popperInstance?(b.popperInstance.update(),e&&!f.Browser.touch||b.popperInstance.enableEventListeners()):b.popperInstance=(0,d.default)(b),e&&!f.Browser.touch&&(c.addEventListener("mousemove",g.default),b.popperInstance.disableEventListeners()))};var f=
m(0);A=m(10);var g=l(A);A=m(18);var d=l(A);m=m(1);l(m)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(f,g,d){if(!g)return d();var b=(0,l.default)(f.popper).tooltip,c=!1,a=function(e){e.target!==b||c||(c=!0,d())};b.addEventListener("webkitTransitionEnd",a);b.addEventListener("transitionend",a);clearTimeout(f._transitionendTimeout);f._transitionendTimeout=setTimeout(function(){c||d()},g)};m(0);var l=(A=m(6))&&A.__esModule?A:{default:A}},function(A,u,m){function l(C){return C&&
C.__esModule?C:{default:C}}function f(C,N,U){N in C?Object.defineProperty(C,N,{value:U,enumerable:!0,configurable:!0,writable:!0}):C[N]=U;return C}function g(C,N){return new r(C,N)}Object.defineProperty(u,"__esModule",{value:!0});var d=Object.assign||function(C){for(var N=1;N<arguments.length;N++){var U=arguments[N],ja;for(ja in U)Object.prototype.hasOwnProperty.call(U,ja)&&(C[ja]=U[ja])}return C},b=function(){function C(N,U){for(var ja=0;ja<U.length;ja++){var ba=U[ja];ba.enumerable=ba.enumerable||
!1;ba.configurable=!0;"value"in ba&&(ba.writable=!0);Object.defineProperty(N,ba.key,ba)}}return function(N,U,ja){U&&C(N.prototype,U);ja&&C(N,ja);return N}}(),c=m(0);A=m(39);var a=l(A);A=m(26);var e=l(A);A=m(5);var t=l(A);A=m(1);l(A);A=m(2);var y=l(A);A=m(34);var q=l(A);A=m(12);var E=l(A);A=m(33);var F=l(A);A=m(37);var w=l(A);A=m(35);var D=l(A);A=m(6);var G=l(A);A=m(31);var L=l(A);A=m(7);var O=l(A);A=m(36);var V=l(A);A=m(10);var S=l(A);A=m(22);var ca=l(A);A=m(29);var ea=l(A);A=m(28);var T=l(A);A=m(27);
var R=l(A);m=m(19);var J=l(m),r=function(){function C(N){var U=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");c.Browser.SUPPORTED&&((0,e.default)(),this.state={destroyed:!1},this.selector=N,this.settings=d({},c.Defaults,U),(U.show||U.shown||U.hide||U.hidden)&&console.warn("Callbacks without the `on` prefix are deprecated (with the exception of `wait`). Use onShow, onShown, onHide, and onHidden instead."),this.callbacks=
{wait:U.wait,show:U.onShow||U.show||V.default,shown:U.onShown||U.shown||V.default,hide:U.onHide||U.hide||V.default,hidden:U.onHidden||U.hidden||V.default},this.store=J.default.call(this,(0,ca.default)(N)),c.Store.push.apply(c.Store,this.store))}b(C,[{key:"getPopperElement",value:function(N){try{return(0,y.default)(this.store,function(U){return U.el===N}).popper}catch(U){console.error("[getPopperElement]: Element passed as the argument does not exist in the instance")}}},{key:"getReferenceElement",
value:function(N){try{return(0,y.default)(this.store,function(U){return U.popper===N}).el}catch(U){console.error("[getReferenceElement]: Popper passed as the argument does not exist in the instance")}}},{key:"getReferenceData",value:function(N){return(0,y.default)(this.store,function(U){return U.el===N||U.popper===N})}},{key:"updateSettings",value:function(N,U,ja){var ba=(0,y.default)(this.store,function(ia){return ia.popper===N});ba&&(U=d({},ba.settings,f({},U,ja)),ba.settings=U)}},{key:"updateForReact",
value:function(N,U){var ja=N.querySelector(c.Selectors.CONTENT),ba=(0,y.default)(this.store,function(za){return za.popper===N});if(ba){ba=ba.settings;var ia=ba.setReactDOMValue;ba.useContext?ia(a.default.createPortal(U,ja)):a.default.render(U,ja)}}},{key:"show",value:function(N,U){var ja=this;if(!this.state.destroyed){var ba=(0,y.default)(this.store,function(Ea){return Ea.popper===N});if(ba){var ia=(0,G.default)(N),za=ia.tooltip,Wa=ia.circle,hb=ia.content;if(document.body.contains(ba.el)){if(this.callbacks.show.call(N),
!ba.settings||!1!==ba.settings.open){ba.settings.reactDOM&&this.updateForReact(N,ba.settings.reactDOM);var Ja=ba.el,qa=ba.settings,Da=qa.sticky,va=qa.interactive,sa=qa.followCursor,xa=qa.flipDuration;ia=qa.duration;qa.dynamicTitle&&(qa=Ja.getAttribute("title"))&&(hb.innerHTML=qa,(0,E.default)(Ja));var ma=void 0!==U?U:Array.isArray(ia)?ia[0]:ia;(0,L.default)([N,za,Wa],0);(0,T.default)(ba);N.style.visibility="visible";N.setAttribute("aria-hidden","false");(0,t.default)(function(){if(!sa||c.Browser.touch)ba.popperInstance.update(),
(0,L.default)([N],xa);(0,L.default)([za,Wa],ma);Wa&&(hb.style.opacity=1);va&&Ja.classList.add("active");Da&&(0,R.default)(ba);(0,w.default)(za,Wa);(0,D.default)([za,Wa],function(Ea){Ea.contains("tippy-notransition")&&Ea.remove("tippy-notransition");Ea.remove("leave");Ea.add("enter")});(0,ea.default)(ba,ma,function(){(0,O.default)(N)&&!ba._onShownFired&&(va&&N.focus(),za.classList.add("tippy-notransition"),ba._onShownFired=!0,ja.callbacks.shown.call(N))})})}}else this.destroy(N)}}}},{key:"hide",value:function(N,
U){var ja=this;if(!this.state.destroyed){this.callbacks.hide.call(N);var ba=(0,y.default)(this.store,function(ma){return ma.popper===N});if(ba){var ia=(0,G.default)(N),za=ia.tooltip,Wa=ia.circle,hb=ia.content;if(!1!==ba.settings.disabled||!ba||!ba.settings.open){var Ja=ba&&ba.settings&&ba.settings.unmountHTMLWhenHide&&ba.settings.reactDOM,qa=ba.el,Da=ba.settings,va=Da.appendTo;ia=Da.interactive;var sa=Da.html,xa=Da.trigger;Da=Da.duration;U=void 0!==U?U:Array.isArray(Da)?Da[1]:Da;ba._onShownFired=
!1;ia&&qa.classList.remove("active");N.style.visibility="hidden";N.setAttribute("aria-hidden","true");(0,L.default)([za,Wa,Wa?hb:null],U);Wa&&(hb.style.opacity=0);(0,D.default)([za,Wa],function(ma){ma.contains("tippy-tooltip")&&ma.remove("tippy-notransition");ma.remove("enter");ma.add("leave")});sa&&-1!==xa.indexOf("click")&&(0,F.default)(qa)&&qa.focus();(0,ea.default)(ba,U,function(){!(0,O.default)(N)&&va.contains(N)&&"1"!==getComputedStyle(za).opacity&&(qa.removeEventListener("mousemove",S.default),
ba.popperInstance.disableEventListeners(),va.removeChild(N),ja.callbacks.hidden.call(N),Ja&&a.default.unmountComponentAtNode(hb))})}}}}},{key:"update",value:function(N){if(!this.state.destroyed){var U=(0,y.default)(this.store,function(ia){return ia.popper===N});if(U){var ja=(0,G.default)(N).content,ba=U.el;U=U.settings.html;U instanceof Element?console.warn("Aborted: update() should not be used if `html` is a DOM element"):(ja.innerHTML=U?document.getElementById(U.replace("#","")).innerHTML:ba.getAttribute("title")||
ba.getAttribute("data-original-title"),U||(0,E.default)(ba))}}}},{key:"destroy",value:function(N,U){var ja=this;if(!this.state.destroyed){var ba=(0,y.default)(this.store,function(hb){return hb.popper===N});if(ba){var ia=ba.el,za=ba.popperInstance,Wa=ba.listeners;ba=ba._mutationObserver;(0,O.default)(N)&&this.hide(N,0);Wa.forEach(function(hb){return ia.removeEventListener(hb.event,hb.handler)});ia.setAttribute("title",ia.getAttribute("data-original-title"));ia.removeAttribute("data-original-title");
ia.removeAttribute("data-tooltipped");ia.removeAttribute("aria-describedby");za&&za.destroy();ba&&ba.disconnect();c.Store.splice((0,q.default)(c.Store,function(hb){return hb.popper===N}),1);if(void 0===U||U)this.store=c.Store.filter(function(hb){return hb.tippyInstance===ja})}}}},{key:"destroyAll",value:function(){var N=this;if(!this.state.destroyed){var U=this.store.length;this.store.forEach(function(ja,ba){N.destroy(ja.popper,ba===U-1)});this.store=null;this.state.destroyed=!0}}}]);return C}();
g.Browser=c.Browser;g.Defaults=c.Defaults;g.disableDynamicInputDetection=function(){return c.Browser.dynamicInputDetection=!1};g.enableDynamicInputDetection=function(){return c.Browser.dynamicInputDetection=!0};u.default=g},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(d,b){d.forEach(function(c){if(c){var a=g.matches.call(c,l.Selectors.CONTENT)?Math.round(b/1.3):b;c.style[(0,f.default)("transitionDuration")]=a+"ms"}})};var l=m(0),f=(A=m(1))&&A.__esModule?A:{default:A},
g=m(8)},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(f,g,d){if(!g.getAttribute("x-placement"))return!0;var b=f.clientX;f=f.clientY;var c=d.interactiveBorder,a=d.distance;d=g.getBoundingClientRect();g=(0,l.default)(g.getAttribute("x-placement"));a=c+a;var e=d.top-f>c,t=f-d.bottom>c,y=d.left-b>c;c=b-d.right>c;switch(g){case "top":e=d.top-f>a;break;case "bottom":t=f-d.bottom>a;break;case "left":y=d.left-b>a;break;case "right":c=b-d.right>a}return e||t||y||c};var l=
(A=m(3))&&A.__esModule?A:{default:A}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l){l=l.getBoundingClientRect();return 0<=l.top&&0<=l.left&&l.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&l.right<=(window.innerWidth||document.documentElement.clientWidth)}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(f,g){return Array.prototype.findIndex?f.findIndex(g):f.indexOf((0,l.default)(f,g))};var l=(A=m(2))&&
A.__esModule?A:{default:A}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(l,f){l.forEach(function(g){g&&f(g.classList)})}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(){}},function(A,u,m){Object.defineProperty(u,"__esModule",{value:!0});u.default=function(f,g){g?window.getComputedStyle(g)[(0,l.default)("transform")]:window.getComputedStyle(f).opacity};var l=(A=m(1))&&A.__esModule?A:{default:A}},function(A,u){A.exports=k},
function(A,u){A.exports=p}])})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,ba=ba||{},ca=this||self;function da(a,b){a=a.split(".");var c=ca;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function fa(){}function ha(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ia(a){var b=ha(a);return"array"==b||"object"==b&&"number"==typeof a.length}
function ja(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ka(a){return Object.prototype.hasOwnProperty.call(a,la)&&a[la]||(a[la]=++ma)}var la="closure_uid_"+(1E9*Math.random()>>>0),ma=0;function na(a,b,c){return a.call.apply(a.bind,arguments)}
function oa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function qa(a,b,c){qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?na:oa;return qa.apply(null,arguments)}
function ra(a,b){function c(){}c.prototype=b.prototype;a.Yd=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ta(a){ta[" "](a);return a}ta[" "]=fa;function wa(a){var b=xa;return Object.prototype.hasOwnProperty.call(b,9)?b[9]:b[9]=a(9)};function ya(a,b){return new za(a,b)}function Aa(a){return 0<a?0x7fffffffffffffff<=a?Ba:new za(a,a/4294967296):0>a?-0x7fffffffffffffff>=a?Fa:Ga(new za(-a,-a/4294967296)):Ha}
function Ia(a,b){if("-"==a.charAt(0))return Ga(Ia(a.substring(1),b));var c=parseInt(a,b||10);if(9007199254740991>=c)return new za(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=Aa(Math.pow(b,8));for(var d=Ha,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),h=parseInt(a.substring(e,e+f),b);8>f?(f=Aa(Math.pow(b,
f)),d=d.multiply(f).add(Aa(h))):(d=d.multiply(c),d=d.add(Aa(h)))}return d}function Ga(a){var b=~a.fb+1|0;return ya(b,~a.Qa+!b|0)}function Ja(a,b){return a.add(Ga(b))}function Ka(a){return 0==a.fb&&0==a.Qa}function La(a,b){b&=63;if(0==b)return a;var c=a.Qa;return 32>b?ya(a.fb>>>b|c<<32-b,c>>>b):32==b?ya(c,0):ya(c>>>b-32,0)}
class za{constructor(a,b){this.fb=a|0;this.Qa=b|0}toNumber(){return 4294967296*this.Qa+(this.fb>>>0)}isSafeInteger(){var a=this.Qa>>21;return 0==a||-1==a&&!(0==this.fb&&-2097152==this.Qa)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=this.toNumber();return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=ya(c,c/4294967296);c=this.div(d);d=Math.abs(Ja(this,c.multiply(d)).toNumber());var e=10==a?""+d:d.toString(a);e.length<b&&(e="0000000000000".substr(e.length-
b)+e);d=c.toNumber();return(10==a?d:d.toString(a))+e}eb(){return this.fb^this.Qa}equals(a){return this.fb==a.fb&&this.Qa==a.Qa}compare(a){return this.Qa==a.Qa?this.fb==a.fb?0:this.fb>>>0>a.fb>>>0?1:-1:this.Qa>a.Qa?1:-1}add(a){var b=this.Qa>>>16,c=this.Qa&65535,d=this.fb>>>16,e=a.Qa>>>16,f=a.Qa&65535,h=a.fb>>>16;a=(this.fb&65535)+(a.fb&65535);h=(a>>>16)+(d+h);d=h>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return ya((h&65535)<<16|a&65535,b<<16|d&65535)}multiply(a){if(Ka(this))return this;if(Ka(a))return a;
var b=this.Qa>>>16,c=this.Qa&65535,d=this.fb>>>16,e=this.fb&65535,f=a.Qa>>>16,h=a.Qa&65535,k=a.fb>>>16;a=a.fb&65535;var m=e*a;var n=(m>>>16)+d*a;var p=n>>>16;n=(n&65535)+e*k;p+=n>>>16;p+=c*a;var u=p>>>16;p=(p&65535)+d*k;u+=p>>>16;p=(p&65535)+e*h;u=u+(p>>>16)+(b*a+c*k+d*h+e*f)&65535;return ya((n&65535)<<16|m&65535,u<<16|p&65535)}div(a){if(Ka(a))throw Error("division by zero");if(0>this.Qa){if(this.equals(Fa)){if(a.equals(Na)||a.equals(Oa))return Fa;if(a.equals(Fa))return Na;var b=1;if(0==b)b=this;
else{var c=this.Qa;b=32>b?ya(this.fb>>>b|c<<32-b,c>>b):ya(c>>b-32,0<=c?0:-1)}b=b.div(a).shiftLeft(1);if(b.equals(Ha))return 0>a.Qa?Na:Oa;c=Ja(this,a.multiply(b));return b.add(c.div(a))}return 0>a.Qa?Ga(this).div(Ga(a)):Ga(Ga(this).div(a))}if(Ka(this))return Ha;if(0>a.Qa)return a.equals(Fa)?Ha:Ga(this.div(Ga(a)));var d=Ha;for(c=this;0<=c.compare(a);){b=Math.max(1,Math.floor(c.toNumber()/a.toNumber()));var e=Math.ceil(Math.log(b)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=Aa(b),h=f.multiply(a);0>
h.Qa||0<h.compare(c);)b-=e,f=Aa(b),h=f.multiply(a);Ka(f)&&(f=Na);d=d.add(f);c=Ja(c,h)}return d}modulo(a){return Ja(this,this.div(a).multiply(a))}not(){return ya(~this.fb,~this.Qa)}and(a){return ya(this.fb&a.fb,this.Qa&a.Qa)}or(a){return ya(this.fb|a.fb,this.Qa|a.Qa)}xor(a){return ya(this.fb^a.fb,this.Qa^a.Qa)}shiftLeft(a){a&=63;if(0==a)return this;var b=this.fb;return 32>a?ya(b<<a,this.Qa<<a|b>>>32-a):ya(0,b<<a-32)}}const Ha=ya(0,0),Na=ya(1,0),Oa=ya(-1,-1),Ba=ya(4294967295,2147483647),Fa=ya(0,2147483648);function Pa(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Qa(a){return/^[\s\xa0]*$/.test(a)}var Ra=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Sa(a,b){return a<b?-1:a>b?1:0};function Ta(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function Ua(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function Va(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function Wa(a,b,c){return null!==a&&b in a?a[b]:c}const Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ya(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<Xa.length;f++)c=Xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};const Za=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},$a=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,
c);for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},ab=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){const c=a.length,d="string"===typeof a?a.split(""):a;for(let e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1};function bb(a){if(!Array.isArray(a))for(let b=a.length-1;0<=b;b--)delete a[b];a.length=0}function cb(a,b){b=Za(a,b);let c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}
function db(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]}function fb(a,b){a.sort(b||gb)}function hb(a,b){const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||gb;fb(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value}function gb(a,b){return a>b?1:a<b?-1:0}
function ib(a){const b=Math.random;for(let c=a.length-1;0<c;c--){const d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};var jb;a:{const a=ca.navigator;if(a){const b=a.userAgent;if(b){jb=b;break a}}jb=""}let kb=jb;function lb(a){return-1!=kb.indexOf(a)};function mb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var nb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function ob(a,b){a=String(a);let c=a.indexOf(".");-1===c&&(c=a.length);const d="-"===a[0]?"-":"";d&&(a=a.substring(1));return d+nb("0",Math.max(0,b-c))+a};function pb(a){if(a.getCount&&"function"==typeof a.getCount)a=a.getCount();else if(ia(a)||"string"===typeof a)a=a.length;else{let b=0;for(const c in a)b++;a=b}return a}function qb(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("undefined"!==typeof Map&&a instanceof Map||"undefined"!==typeof Set&&a instanceof Set)return Array.from(a.values());if("string"===typeof a)return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ua(a)}
function rb(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if("undefined"!==typeof Map&&a instanceof Map)return Array.from(a.keys());if(!("undefined"!==typeof Set&&a instanceof Set)){if(ia(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Va(a)}}}
function sb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||"string"===typeof a)Array.prototype.forEach.call(a,b,c);else for(var d=rb(a),e=qb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}function tb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ia(a)||"string"===typeof a)return Array.prototype.every.call(a,b,void 0);for(var c=rb(a),d=qb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};var ub=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?\x3d[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function wb(a,b){this.pd=this.Qe=this.le="";this.bf=null;this.je=this.cd="";this.sd=this.Si=!1;if(a instanceof wb){this.sd=void 0!==b?b:a.sd;xb(this,a.le);var c=a.Qe;yb(this);this.Qe=c;c=a.pd;yb(this);this.pd=c;zb(this,a.bf);c=a.cd;yb(this);this.cd=c;Ab(this,a.dd.clone());a=a.je;yb(this);this.je=a}else a&&(c=String(a).match(ub))?(this.sd=!!b,xb(this,c[1]||"",!0),a=c[2]||"",yb(this),this.Qe=Bb(a),a=c[3]||"",yb(this),this.pd=Bb(a,!0),zb(this,c[4]),a=c[5]||"",yb(this),this.cd=Bb(a,!0),Ab(this,c[6]||
"",!0),a=c[7]||"",yb(this),this.je=Bb(a)):(this.sd=!!b,this.dd=new Db(null,this.sd))}g=wb.prototype;
g.toString=function(){var a=[],b=this.le;b&&a.push(Eb(b,Fb,!0),":");var c=this.pd;if(c||"file"==b)a.push("//"),(b=this.Qe)&&a.push(Eb(b,Fb,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.bf,null!=c&&a.push(":",String(c));if(c=this.cd)this.pd&&"/"!=c.charAt(0)&&a.push("/"),a.push(Eb(c,"/"==c.charAt(0)?Gb:Hb,!0));(c=this.dd.toString())&&a.push("?",c);(c=this.je)&&a.push("#",Eb(c,Ib));return a.join("")};
g.resolve=function(a){var b=this.clone(),c=!!a.le;c?xb(b,a.le):c=!!a.Qe;if(c){var d=a.Qe;yb(b);b.Qe=d}else c=!!a.pd;c?(d=a.pd,yb(b),b.pd=d):c=null!=a.bf;d=a.cd;if(c)zb(b,a.bf);else if(c=!!a.cd){if("/"!=d.charAt(0))if(this.pd&&!this.cd)d="/"+d;else{var e=b.cd.lastIndexOf("/");-1!=e&&(d=b.cd.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],h=0;h<e.length;){var k=e[h++];"."==k?d&&h==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(yb(b),b.cd=d):c=""!==a.dd.toString();c?Ab(b,a.dd.clone()):c=!!a.je;c&&(a=a.je,yb(b),b.je=a);return b};g.clone=function(){return new wb(this)};function xb(a,b,c){yb(a);a.le=c?Bb(b,!0):b;a.le&&(a.le=a.le.replace(/:$/,""))}function zb(a,b){yb(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.bf=b}else a.bf=null}
function Ab(a,b,c){yb(a);b instanceof Db?(a.dd=b,a.dd.Uh(a.sd)):(c||(b=Eb(b,Jb)),a.dd=new Db(b,a.sd))}g.getQuery=function(){return this.dd.toString()};g.removeParameter=function(a){yb(this);this.dd.remove(a);return this};g.isReadOnly=function(){return this.Si};function yb(a){if(a.Si)throw Error("Tried to modify a read-only Uri");}g.Uh=function(a){this.sd=a;this.dd&&this.dd.Uh(a)};function Kb(a){return a instanceof wb?a.clone():new wb(a,void 0)}
function Bb(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Eb(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,Lb),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Lb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Fb=/[#\/\?@]/g,Hb=/[#\?:]/g,Gb=/[#\?]/g,Jb=/[#\?@]/g,Ib=/#/g;function Db(a,b){this.count_=this.Db=null;this.$c=a||null;this.sd=!!b}
function Mb(a){a.Db||(a.Db=new Map,a.count_=0,a.$c&&vb(a.$c,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=Db.prototype;g.getCount=function(){Mb(this);return this.count_};g.add=function(a,b){Mb(this);this.$c=null;a=Nb(this,a);var c=this.Db.get(a);c||this.Db.set(a,c=[]);c.push(b);this.count_+=1;return this};g.remove=function(a){Mb(this);a=Nb(this,a);return this.Db.has(a)?(this.$c=null,this.count_-=this.Db.get(a).length,this.Db.delete(a)):!1};
g.clear=function(){this.Db=this.$c=null;this.count_=0};g.isEmpty=function(){Mb(this);return 0==this.count_};g.containsKey=function(a){Mb(this);a=Nb(this,a);return this.Db.has(a)};g.zf=function(a){var b=this.getValues();return 0<=Za(b,a)};g.forEach=function(a,b){Mb(this);this.Db.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)};
g.getKeys=function(){Mb(this);const a=Array.from(this.Db.values()),b=Array.from(this.Db.keys()),c=[];for(let d=0;d<b.length;d++){const e=a[d];for(let f=0;f<e.length;f++)c.push(b[d])}return c};g.getValues=function(a){Mb(this);let b=[];if("string"===typeof a)this.containsKey(a)&&(b=b.concat(this.Db.get(Nb(this,a))));else{a=Array.from(this.Db.values());for(let c=0;c<a.length;c++)b=b.concat(a[c])}return b};
g.set=function(a,b){Mb(this);this.$c=null;a=Nb(this,a);this.containsKey(a)&&(this.count_-=this.Db.get(a).length);this.Db.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};function Ob(a,b,c){a.remove(b);0<c.length&&(a.$c=null,a.Db.set(Nb(a,b),db(c)),a.count_+=c.length)}
g.toString=function(){if(this.$c)return this.$c;if(!this.Db)return"";const a=[],b=Array.from(this.Db.keys());for(var c=0;c<b.length;c++){var d=b[c];const f=encodeURIComponent(String(d)),h=this.getValues(d);for(d=0;d<h.length;d++){var e=f;""!==h[d]&&(e+="\x3d"+encodeURIComponent(String(h[d])));a.push(e)}}return this.$c=a.join("\x26")};g.clone=function(){var a=new Db;a.$c=this.$c;this.Db&&(a.Db=new Map(this.Db),a.count_=this.count_);return a};
function Nb(a,b){b=String(b);a.sd&&(b=b.toLowerCase());return b}g.Uh=function(a){a&&!this.sd&&(Mb(this),this.$c=null,this.Db.forEach(function(b,c){var d=c.toLowerCase();c!=d&&(this.remove(c),Ob(this,d,b))},this));this.sd=a};g.extend=function(a){for(var b=0;b<arguments.length;b++)sb(arguments[b],function(c,d){this.add(d,c)},this)};function Pb(a,b){null!=a&&this.append.apply(this,arguments)}g=Pb.prototype;g.qe="";g.set=function(a){this.qe=""+a};g.append=function(a,b,c){this.qe+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.qe+=arguments[d];return this};g.clear=function(){this.qe=""};g.getLength=function(){return this.qe.length};g.toString=function(){return this.qe};var Qb={},Rb={},Sb,l={},Tb=null,Ub=null,Vb=!0,Wb=!0,Xb=null,Yb=null;function Zb(){return new q(null,5,[$b,!0,ac,Wb,bc,!1,cc,!1,dc,Xb],null)}function ec(){Vb=!1;Ub=function(){return console.log.apply(console,db(arguments))}}function r(a){return null!=a&&!1!==a}function fc(a){return null==a}function gc(a){return a instanceof Array}function hc(a){return"number"===typeof a}function kc(a){return null==a?!0:!1===a?!0:!1}function lc(a){return null!=a}function mc(a){return"string"===ha(a)}
function nc(a,b){return a[ha(null==b?null:b)]?!0:a._?!0:!1}function oc(a){return null==a?null:a.constructor}function pc(a,b){var c=oc(b);c=r(r(c)?c.Wa:c)?c.Sa:ha(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function qc(a){var b=a.Sa;return r(b)?b:t.C(a)}
var rc="undefined"!==typeof Symbol&&"function"===ha(Symbol)?Symbol.iterator:"@@iterator",sc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},tc=null;
function uc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function vc(a){for(var b=Array(arguments.length),c=0;;)if(c<b.length)b[c]=arguments[c],c+=1;else return b}function xc(a){function b(d,e){d.push(e);return d}var c=[];return w.D?w.D(b,c,a):w.call(null,b,c,a)}function yc(a){return"symbol"===ha(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function zc(){}function Ac(){}
function Bc(a){if(null!=a&&null!=a.pa)a=a.pa(a);else{var b=Bc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Bc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ICloneable.-clone",a);}return a}function Cc(){}function Dc(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Dc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Dc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ICounted.-count",a);}return a}function Ec(){}
function Fc(a){if(null!=a&&null!=a.Pa)a=a.Pa(a);else{var b=Fc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Fc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IEmptyableCollection.-empty",a);}return a}function Gc(){}function Hc(a,b){if(null!=a&&null!=a.na)a=a.na(a,b);else{var c=Hc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Hc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ICollection.-conj",a);}return a}function Ic(){}
var Jc=function(){function a(d,e,f){var h=x[ha(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw pc("IIndexed.-nth",d);}function b(d,e){var f=x[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw pc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.B(arguments[0],arguments[1]);case 3:return x.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};x.B=function(a,b){return null!=a&&null!=a.Da?a.Da(a,b):Jc(a,b)};x.D=function(a,b,c){return null!=a&&null!=a.ob?a.ob(a,b,c):Jc(a,b,c)};x.aa=3;function Kc(){}
function Lc(a){if(null!=a&&null!=a.mb)a=a.mb(a);else{var b=Lc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Lc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ISeq.-first",a);}return a}function Mc(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=Mc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Mc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ISeq.-rest",a);}return a}function Nc(){}
function Oc(a){if(null!=a&&null!=a.Va)a=a.Va(a);else{var b=Oc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Oc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INext.-next",a);}return a}function Pc(){}
var Rc=function(){function a(d,e,f){var h=Qc[ha(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Qc._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw pc("ILookup.-lookup",d);}function b(d,e){var f=Qc[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Qc._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw pc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.D=a;return c}(),Qc=function Qc(a){switch(arguments.length){case 2:return Qc.B(arguments[0],arguments[1]);case 3:return Qc.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Qc.B=function(a,b){return null!=a&&null!=a.oa?a.oa(a,b):Rc(a,b)};Qc.D=function(a,b,c){return null!=a&&null!=a.Y?a.Y(a,b,c):Rc(a,b,c)};Qc.aa=3;function Sc(){}
function Tc(a,b){if(null!=a&&null!=a.ra)a=a.ra(a,b);else{var c=Tc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Tc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IAssociative.-contains-key?",a);}return a}function Uc(a,b,c){if(null!=a&&null!=a.ea)a=a.ea(a,b,c);else{var d=Uc[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Uc._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IAssociative.-assoc",a);}return a}
function Vc(a,b){if(null!=a&&null!=a.be)a=a.be(a,b);else{var c=Vc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Vc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IFind.-find",a);}return a}function Wc(){}function Xc(a,b){if(null!=a&&null!=a.za)a=a.za(a,b);else{var c=Xc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IMap.-dissoc",a);}return a}
function Yc(a){if(null!=a&&null!=a.$g)a=a.key;else{var b=Yc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Yc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IMapEntry.-key",a);}return a}function Zc(a){if(null!=a&&null!=a.ah)a=a.val;else{var b=Zc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Zc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IMapEntry.-val",a);}return a}function $c(){}
function ad(a,b){if(null!=a&&null!=a.hg)a=a.hg(a,b);else{var c=ad[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ad._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ISet.-disjoin",a);}return a}function bd(a){if(null!=a&&null!=a.ce)a=a.ce(a);else{var b=bd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=bd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IStack.-peek",a);}return a}
function cd(a){if(null!=a&&null!=a.de)a=a.de(a);else{var b=cd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=cd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IStack.-pop",a);}return a}function dd(){}function ed(a,b,c){if(null!=a&&null!=a.Bd)a=a.Bd(a,b,c);else{var d=ed[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ed._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IVector.-assoc-n",a);}return a}function fd(){}
function y(a){if(null!=a&&null!=a.ic)a=a.ic(a);else{var b=y[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=y._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDeref.-deref",a);}return a}function gd(){}function hd(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=hd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=hd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IMeta.-meta",a);}return a}function id(){}
function jd(a,b){if(null!=a&&null!=a.ha)a=a.ha(a,b);else{var c=jd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=jd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IWithMeta.-with-meta",a);}return a}function kd(){}
var md=function(){function a(d,e,f){var h=ld[ha(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=ld._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw pc("IReduce.-reduce",d);}function b(d,e){var f=ld[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=ld._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw pc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.D=a;return c}(),ld=function ld(a){switch(arguments.length){case 2:return ld.B(arguments[0],arguments[1]);case 3:return ld.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};ld.B=function(a,b){return null!=a&&null!=a.jb?a.jb(a,b):md(a,b)};ld.D=function(a,b,c){return null!=a&&null!=a.kb?a.kb(a,b,c):md(a,b,c)};ld.aa=3;function nd(){}
function od(a,b,c){if(null!=a&&null!=a.xa)a=a.xa(a,b,c);else{var d=od[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=od._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IKVReduce.-kv-reduce",a);}return a}function pd(a,b){if(null!=a&&null!=a.da)a=a.da(a,b);else{var c=pd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IEquiv.-equiv",a);}return a}
function qd(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=qd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=qd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IHash.-hash",a);}return a}function rd(){}function sd(a){if(null!=a&&null!=a.ka)a=a.ka(a);else{var b=sd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=sd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ISeqable.-seq",a);}return a}function td(){}function ud(){}function vd(){}
function wd(){}function xd(a){if(null!=a&&null!=a.Wc)a=a.Wc(a);else{var b=xd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=xd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IReversible.-rseq",a);}return a}function yd(a,b){if(null!=a&&null!=a.ue)a=a.ue(a,b);else{var c=yd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=yd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IWriter.-write",a);}return a}
function zd(a){if(null!=a&&null!=a.Rd)a=a.Rd(a);else{var b=zd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=zd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IWriter.-flush",a);}return a}function Ad(){}function Bd(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Bd[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Bd._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IPrintWithWriter.-pr-writer",a);}return a}function Dd(){}
function Ed(a){if(null!=a&&null!=a.gg)a=a.gg(a);else{var b=Ed[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Ed._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IPending.-realized?",a);}return a}function Fd(a,b,c){if(null!=a&&null!=a.jg)a.jg(a,b,c);else{var d=Fd[ha(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Fd._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IWatchable.-add-watch",a);}}
function Gd(a,b){if(null!=a&&null!=a.kg)a.kg(a,b);else{var c=Gd[ha(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gd._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw pc("IWatchable.-remove-watch",a);}}function Hd(a){if(null!=a&&null!=a.se)a=a.se(a);else{var b=Hd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Hd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IEditableCollection.-as-transient",a);}return a}
function Id(a,b){if(null!=a&&null!=a.te)a=a.te(a,b);else{var c=Id[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Id._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ITransientCollection.-conj!",a);}return a}function Jd(a){if(null!=a&&null!=a.De)a=a.De(a);else{var b=Jd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Jd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ITransientCollection.-persistent!",a);}return a}
function Kd(a,b,c){if(null!=a&&null!=a.We)a=a.We(a,b,c);else{var d=Kd[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kd._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("ITransientAssociative.-assoc!",a);}return a}function Ld(a,b){if(null!=a&&null!=a.hh)a=a.hh(a,b);else{var c=Ld[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ld._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ITransientMap.-dissoc!",a);}return a}
function Md(){}function Nd(a,b){if(null!=a&&null!=a.nd)a=a.nd(a,b);else{var c=Nd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Nd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IComparable.-compare",a);}return a}function Od(a){if(null!=a&&null!=a.nf)a=a.nf(a);else{var b=Od[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Od._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IChunk.-drop-first",a);}return a}
function Pd(a){if(null!=a&&null!=a.Ue)a=a.Ue(a);else{var b=Pd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Pd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IChunkedSeq.-chunked-first",a);}return a}function Qd(a){if(null!=a&&null!=a.ae)a=a.ae(a);else{var b=Qd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Qd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IChunkedSeq.-chunked-rest",a);}return a}
function Rd(a){if(null!=a&&null!=a.rf)a=a.rf(a);else{var b=Rd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Rd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INamed.-name",a);}return a}function Sd(a){if(null!=a&&null!=a.sf)a=a.sf(a);else{var b=Sd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Sd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INamed.-namespace",a);}return a}
function Td(a,b){if(null!=a&&null!=a.Ad)a=a.Ad(a,b);else{var c=Td[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Td._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IReset.-reset!",a);}return a}
var Vd=function(){function a(f,h,k,m,n){var p=Ud[ha(null==f?null:f)];if(null!=p)return p.ma?p.ma(f,h,k,m,n):p.call(null,f,h,k,m,n);p=Ud._;if(null!=p)return p.ma?p.ma(f,h,k,m,n):p.call(null,f,h,k,m,n);throw pc("ISwap.-swap!",f);}function b(f,h,k,m){var n=Ud[ha(null==f?null:f)];if(null!=n)return n.R?n.R(f,h,k,m):n.call(null,f,h,k,m);n=Ud._;if(null!=n)return n.R?n.R(f,h,k,m):n.call(null,f,h,k,m);throw pc("ISwap.-swap!",f);}function c(f,h,k){var m=Ud[ha(null==f?null:f)];if(null!=m)return m.D?m.D(f,h,
k):m.call(null,f,h,k);m=Ud._;if(null!=m)return m.D?m.D(f,h,k):m.call(null,f,h,k);throw pc("ISwap.-swap!",f);}function d(f,h){var k=Ud[ha(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Ud._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw pc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.B=d;e.D=c;e.R=b;e.ma=a;return e}(),Ud=function Ud(a){switch(arguments.length){case 2:return Ud.B(arguments[0],arguments[1]);case 3:return Ud.D(arguments[0],arguments[1],arguments[2]);case 4:return Ud.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ud.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Ud.B=function(a,b){return null!=a&&null!=a.dh?a.dh(a,b):Vd(a,b)};
Ud.D=function(a,b,c){return null!=a&&null!=a.eh?a.eh(a,b,c):Vd(a,b,c)};Ud.R=function(a,b,c,d){return null!=a&&null!=a.fh?a.fh(a,b,c,d):Vd(a,b,c,d)};Ud.ma=function(a,b,c,d,e){return null!=a&&null!=a.gh?a.gh(a,b,c,d,e):Vd(a,b,c,d,e)};Ud.aa=5;function Wd(a,b){if(null!=a&&null!=a.ig)a=a.ig(a,b);else{var c=Wd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Wd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IVolatile.-vreset!",a);}return a}function Xd(){}
function Yd(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=Yd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Yd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IIterable.-iterator",a);}return a}function Zd(a){this.Ll=a;this.O=1073741824;this.T=0}Zd.prototype.ue=function(a,b){return this.Ll.append(b)};Zd.prototype.Rd=function(){return null};function $d(a){var b=new Pb,c=new Zd(b);a.ia(null,c,Zb());c.Rd(null);return t.C(b)}
var de="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function ee(a){a=de(a|0,-862048943);return de(a<<15|a>>>-15,461845907)}function fe(a,b){a=(a|0)^(b|0);return de(a<<13|a>>>-13,5)+-430675100|0}function ge(a,b){a=(a|0)^b;a=de(a^a>>>16,-2048144789);a=de(a^a>>>13,-1028477387);return a^a>>>16}var he={},ie=0;
function je(a){255<ie&&(he={},ie=0);if(null==a)return 0;var b=he[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=de(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;he[a]=b;ie+=1;a=b}return a}
function ke(a){if(null!=a&&(a.O&4194304||l===a.fg))return a.ja(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=je(a),a=0===a?a:ge(fe(0,ee(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:qd(a)^0,a}function le(a){return a instanceof A}
function me(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=fe(d,ee(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=ge(1===(b.length&1)?c^ee(b.charCodeAt(b.length-1)):c,de(2,b.length));a=je(a.yc);return b^a+2654435769+(b<<6)+(b>>2)}function ne(a,b){if(a.zc===b.zc)return 0;var c=kc(a.yc);if(r(c?b.yc:c))return-1;if(r(a.yc)){if(kc(b.yc))return 1;c=gb(a.yc,b.yc);return 0===c?gb(a.name,b.name):c}return gb(a.name,b.name)}
function A(a,b,c,d,e){this.yc=a;this.name=b;this.zc=c;this._hash=d;this.ld=e;this.O=2154168321;this.T=4096}g=A.prototype;g.toString=function(){return this.zc};g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return b instanceof A?this.zc===b.zc:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return B.B?B.B(a,this):B.call(null,a,this)};g.B=function(a,b){return B.D?B.D(a,this,b):B.call(null,a,this,b)};g.ga=function(){return this.ld};g.ha=function(a,b){return new A(this.yc,this.name,this.zc,this._hash,b)};g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=me(this)};g.rf=function(){return this.name};g.sf=function(){return this.yc};g.ia=function(a,b){return yd(b,this.zc)};
var oe=function oe(a){switch(arguments.length){case 1:return oe.C(arguments[0]);case 2:return oe.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};oe.C=function(a){for(;;){if(a instanceof A)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?oe.B(null,a):oe.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof pe)return a.Ne;if(a instanceof D)a=a.ba;else throw Error("no conversion to symbol");}};
oe.B=function(a,b){var c=null!=a?[t.C(a),"/",t.C(b)].join(""):b;return new A(a,b,c,null,null)};oe.aa=2;function pe(a,b,c){this.val=a;this.Ne=b;this.ld=c;this.O=6717441;this.T=0}g=pe.prototype;g.toString=function(){return["#'",t.C(this.Ne)].join("")};g.ic=function(){return this.val.P?this.val.P():this.val.call(null)};g.ga=function(){return this.ld};g.ha=function(a,b){return new pe(this.val,this.Ne,b)};g.da=function(a,b){return b instanceof pe?(a=this.Ne,b=b.Ne,E.B?E.B(a,b):E.call(null,a,b)):!1};
g.ja=function(){return me(this.Ne)};g.wi=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Tb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.uc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.jc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.kc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.nc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.oc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.pc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.qc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.rc(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.sc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.tc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.pf(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.P=function(){var a=this.val.P?this.val.P():this.val.call(null);return a.P?a.P():a.call(null)};g.C=function(a){var b=this.val.P?this.val.P():this.val.call(null);return b.C?b.C(a):b.call(null,a)};
g.B=function(a,b){var c=this.val.P?this.val.P():this.val.call(null);return c.B?c.B(a,b):c.call(null,a,b)};g.D=function(a,b,c){var d=this.val.P?this.val.P():this.val.call(null);return d.D?d.D(a,b,c):d.call(null,a,b,c)};g.R=function(a,b,c,d){var e=this.val.P?this.val.P():this.val.call(null);return e.R?e.R(a,b,c,d):e.call(null,a,b,c,d)};g.ma=function(a,b,c,d,e){var f=this.val.P?this.val.P():this.val.call(null);return f.ma?f.ma(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Ra=function(a,b,c,d,e,f){var h=this.val.P?this.val.P():this.val.call(null);return h.Ra?h.Ra(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Tb=function(a,b,c,d,e,f,h){var k=this.val.P?this.val.P():this.val.call(null);return k.Tb?k.Tb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Ub=function(a,b,c,d,e,f,h,k){var m=this.val.P?this.val.P():this.val.call(null);return m.Ub?m.Ub(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.uc=function(a,b,c,d,e,f,h,k,m){var n=this.val.P?this.val.P():this.val.call(null);return n.uc?n.uc(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.jc=function(a,b,c,d,e,f,h,k,m,n){var p=this.val.P?this.val.P():this.val.call(null);return p.jc?p.jc(a,b,c,d,e,f,h,k,m,n):p.call(null,a,b,c,d,e,f,h,k,m,n)};g.kc=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.val.P?this.val.P():this.val.call(null);return u.kc?u.kc(a,b,c,d,e,f,h,k,m,n,p):u.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.lc=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.val.P?this.val.P():this.val.call(null);return v.lc?v.lc(a,b,c,d,e,f,h,k,m,n,p,u):v.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.mc=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var z=this.val.P?this.val.P():this.val.call(null);return z.mc?z.mc(a,b,c,d,e,f,h,k,m,n,p,u,v):z.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.nc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z){var C=this.val.P?this.val.P():this.val.call(null);return C.nc?C.nc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):C.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z)};g.oc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){var F=this.val.P?this.val.P():this.val.call(null);return F.oc?F.oc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):F.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C)};
g.pc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F){var I=this.val.P?this.val.P():this.val.call(null);return I.pc?I.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F)};g.qc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I){var O=this.val.P?this.val.P():this.val.call(null);return O.qc?O.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I)};
g.rc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O){var P=this.val.P?this.val.P():this.val.call(null);return P.rc?P.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O):P.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O)};g.sc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P){var T=this.val.P?this.val.P():this.val.call(null);return T.sc?T.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P):T.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P)};
g.tc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T){var aa=this.val.P?this.val.P():this.val.call(null);return aa.tc?aa.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T):aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T)};g.pf=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa){var ea=this.val.P?this.val.P():this.val.call(null);return qe.Zg?qe.Zg(ea,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa):qe.call(null,ea,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa)};
function re(a){return null!=a?a.T&131072||l===a.bm?!0:a.T?!1:nc(Xd,a):nc(Xd,a)}function G(a){if(null==a)return null;if(null!=a&&(a.O&8388608||l===a.Ci))return a.ka(null);if(gc(a)||"string"===typeof a)return 0===a.length?null:new se(a,0,null);if(null!=a&&null!=a[rc])return a=Wa(a,rc).call(a),ue.C?ue.C(a):ue.call(null,a);if(nc(rd,a))return sd(a);throw Error([t.C(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.O&64||l===a.Ve))return a.mb(null);a=G(a);return null==a?null:Lc(a)}function ve(a){return null!=a?null!=a&&(a.O&64||l===a.Ve)?a.wb(null):(a=G(a))?a.wb(null):we:we}function J(a){return null==a?null:null!=a&&(a.O&128||l===a.tf)?a.Va(null):G(ve(a))}
var E=function E(a){switch(arguments.length){case 1:return E.C(arguments[0]);case 2:return E.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return E.I(arguments[0],arguments[1],c)}};E.C=function(){return!0};E.B=function(a,b){return null==a?null==b:a===b||pd(a,b)};E.I=function(a,b,c){for(;;)if(E.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return E.B(b,H(c));else return!1};
E.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};E.aa=2;function xe(a){this.s=a}xe.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function ye(a){return new xe(G(a))}function ze(a,b){this.value=a;this.iter=b;this.Tg=null;this.O=8388672;this.T=0}ze.prototype.ka=function(){return this};ze.prototype.mb=function(){return this.value};
ze.prototype.wb=function(){null==this.Tg&&(this.Tg=ue.C?ue.C(this.iter):ue.call(null,this.iter));return this.Tg};function ue(a){var b=a.next();return r(b.done)?null:new ze(b.value,a)}function Ae(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=de(31,c)+ke(H(a))|0,a=J(a);else return ge(fe(0,ee(c)),b)}var Be=ge(fe(0,ee(1)),0);function Ce(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+ke(H(a))|0,a=J(a);else return ge(fe(0,ee(c)),b)}var De=ge(fe(0,ee(0)),0);Cc["null"]=!0;Dc["null"]=function(){return 0};
Date.prototype.da=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.zd=l;Date.prototype.nd=function(a,b){if(b instanceof Date)return gb(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};pd.number=function(a,b){return a===b};zc["function"]=!0;gd["function"]=!0;hd["function"]=function(){return null};qd._=function(a){return ka(a)};function Ee(a){return a+1}function Fe(a){this.val=a;this.O=32768;this.T=0}
Fe.prototype.ic=function(){return this.val};function Ge(a){return new Fe(a)}function Ie(a){return a instanceof Fe}function Je(a){return Ie(a)?Ke.C?Ke.C(a):Ke.call(null,a):a}function Ke(a){return y(a)}function Le(a,b){var c=a.la(null);if(0===c)return b.P?b.P():b.call(null);for(var d=a.Da(null,0),e=1;;)if(e<c){var f=a.Da(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(Ie(d))return y(d);e+=1}else return d}
function Me(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.Da(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(Ie(e))return y(e);c+=1}else return e}function Ne(a,b){var c=a.length;if(0===a.length)return b.P?b.P():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(Ie(d))return y(d);e+=1}else return d}function Oe(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(Ie(e))return y(e);c+=1}else return e}
function Pe(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(Ie(c))return y(c);d+=1}else return c}function Qe(a){return null!=a?a.O&2||l===a.xi?!0:a.O?!1:nc(Cc,a):nc(Cc,a)}function Re(a){return null!=a?a.O&16||l===a.Bi?!0:a.O?!1:nc(Ic,a):nc(Ic,a)}function Se(a,b,c){var d=K.C?K.C(a):K.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(E.B(Te?Te(a,c):Ue.call(null,a,c),b))return c;c+=1}else return-1}
function Ve(a,b,c){var d=K.C?K.C(a):K.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(E.B(Te?Te(a,c):Ue.call(null,a,c),b))return c;--c}else return-1}function We(a,b){this.K=a;this.i=b}We.prototype.Ua=function(){return this.i<this.K.length};We.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};function se(a,b,c){this.K=a;this.i=b;this.meta=c;this.O=166592766;this.T=139264}g=se.prototype;g.toString=function(){return $d(this)};
g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K.C?K.C(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.Da=function(a,b){a=b+this.i;if(0<=a&&a<this.K.length)return this.K[a];throw Error("Index out of bounds");};g.ob=function(a,b,c){a=b+this.i;return 0<=a&&a<this.K.length?this.K[a]:c};
g.qa=function(){return new We(this.K,this.i)};g.ga=function(){return this.meta};g.pa=function(){return new se(this.K,this.i,this.meta)};g.Va=function(){return this.i+1<this.K.length?new se(this.K,this.i+1,null):null};g.la=function(){var a=this.K.length-this.i;return 0>a?0:a};g.Wc=function(){var a=this.la(null);return 0<a?new Xe(this,a-1,null):null};g.ja=function(){return Ae(this)};g.da=function(a,b){return Ye.B?Ye.B(this,b):Ye.call(null,this,b)};g.Pa=function(){return we};
g.jb=function(a,b){return Pe(this.K,b,this.K[this.i],this.i+1)};g.kb=function(a,b,c){return Pe(this.K,b,c,this.i)};g.mb=function(){return this.K[this.i]};g.wb=function(){return this.i+1<this.K.length?new se(this.K,this.i+1,null):we};g.ka=function(){return this.i<this.K.length?this:null};g.ha=function(a,b){return b===this.meta?this:new se(this.K,this.i,b)};g.na=function(a,b){return Ze.B?Ze.B(b,this):Ze.call(null,b,this)};se.prototype[rc]=function(){return ye(this)};
function M(a){return 0<a.length?new se(a,0,null):null}function Xe(a,b,c){this.ci=a;this.i=b;this.meta=c;this.O=32374990;this.T=8192}g=Xe.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K.C?K.C(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new Xe(this.ci,this.i,this.meta)};g.Va=function(){return 0<this.i?new Xe(this.ci,this.i-1,null):null};g.la=function(){return this.i+1};
g.ja=function(){return Ae(this)};g.da=function(a,b){return Ye.B?Ye.B(this,b):Ye.call(null,this,b)};g.Pa=function(){return we};g.jb=function(a,b){return $e?$e(b,this):af.call(null,b,this)};g.kb=function(a,b,c){return bf?bf(b,c,this):af.call(null,b,c,this)};g.mb=function(){return x(this.ci,this.i)};g.wb=function(){return 0<this.i?new Xe(this.ci,this.i-1,null):we};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Xe(this.ci,this.i,b)};
g.na=function(a,b){return Ze.B?Ze.B(b,this):Ze.call(null,b,this)};Xe.prototype[rc]=function(){return ye(this)};function ef(a){return H(J(a))}function ff(a){return H(H(a))}function gf(a){for(;;){var b=J(a);if(null!=b)a=b;else return H(a)}}pd._=function(a,b){return a===b};
var hf=function hf(a){switch(arguments.length){case 0:return hf.P();case 1:return hf.C(arguments[0]);case 2:return hf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return hf.I(arguments[0],arguments[1],c)}};hf.P=function(){return jf};hf.C=function(a){return a};hf.B=function(a,b){return null!=a?Hc(a,b):new kf(null,b,null,1,null)};
hf.I=function(a,b,c){for(;;)if(r(c))a=hf.B(a,b),b=H(c),c=J(c);else return hf.B(a,b)};hf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};hf.aa=2;function lf(a){return null==a?null:null!=a&&(a.O&4||l===a.Ai)?a.Pa(null):(null!=a?a.O&4||l===a.Ai||(a.O?0:nc(Ec,a)):nc(Ec,a))?Fc(a):null}
function K(a){if(null!=a)if(null!=a&&(a.O&2||l===a.xi))a=a.la(null);else if(gc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.O&8388608||l===a.Ci))a:{a=G(a);for(var b=0;;){if(Qe(a)){a=b+Dc(a);break a}a=J(a);b+=1}}else a=Dc(a);else a=0;return a}function mf(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?H(a):c;if(Re(a))return x(a,b,c);if(G(a))a=J(a),--b;else return c}}
function Ue(a){switch(arguments.length){case 2:return Te(arguments[0],arguments[1]);case 3:return N(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}
function Te(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.O&16||l===a.Bi))return a.Da(null,b);if(gc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.O&64||l===a.Ve)||null!=a&&(a.O&16777216||l===a.Di)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=H(a);break a}throw Error("Index out of bounds");}if(Re(a)){a=x(a,b);break a}if(G(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(nc(Ic,a))return x(a,b);throw Error(["nth not supported on this type ",t.C(qc(oc(a)))].join(""));}
function N(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.O&16||l===a.Bi))return a.ob(null,b,c);if(gc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.O&64||l===a.Ve)||null!=a&&(a.O&16777216||l===a.Di))return 0>b?c:mf(a,b,c);if(nc(Ic,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.C(qc(oc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.B(arguments[0],arguments[1]);case 3:return B.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};B.B=function(a,b){return null==a?null:null!=a&&(a.O&256||l===a.ak)?a.oa(null,b):gc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:nc(Pc,a)?Qc(a,b):null};
B.D=function(a,b,c){return null!=a?null!=a&&(a.O&256||l===a.ak)?a.Y(null,b,c):gc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:nc(Pc,a)?Qc(a,b,c):c:c};B.aa=3;var Q=function Q(a){switch(arguments.length){case 3:return Q.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(3),0,null);return Q.I(arguments[0],arguments[1],arguments[2],c)}};
Q.D=function(a,b,c){return null!=a&&(a.O&512||l===a.Xj)?a.ea(null,b,c):null!=a?Uc(a,b,c):nf([b,c])};Q.I=function(a,b,c,d){for(;;)if(a=Q.D(a,b,c),r(d))b=H(d),c=ef(d),d=J(J(d));else return a};Q.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};Q.aa=3;
var R=function R(a){switch(arguments.length){case 1:return R.C(arguments[0]);case 2:return R.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return R.I(arguments[0],arguments[1],c)}};R.C=function(a){return a};R.B=function(a,b){return null==a?null:Xc(a,b)};R.I=function(a,b,c){for(;;){if(null==a)return null;a=R.B(a,b);if(r(c))b=H(c),c=J(c);else return a}};
R.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};R.aa=2;function of(a){var b="function"===typeof a;return b?b:null!=a?l===a.wi?!0:a.ve?!1:nc(zc,a):nc(zc,a)}function pf(a,b){this.ya=a;this.meta=b;this.O=393217;this.T=0}g=pf.prototype;g.ga=function(){return this.meta};g.ha=function(a,b){return new pf(this.ya,b)};g.wi=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Tb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.uc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.jc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.kc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.nc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.oc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.pc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.qc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.rc(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.sc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.tc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.pf(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.P=function(){return this.ya.P?this.ya.P():this.ya.call(null)};g.C=function(a){return this.ya.C?this.ya.C(a):this.ya.call(null,a)};g.B=function(a,b){return this.ya.B?this.ya.B(a,b):this.ya.call(null,a,b)};g.D=function(a,b,c){return this.ya.D?this.ya.D(a,b,c):this.ya.call(null,a,b,c)};
g.R=function(a,b,c,d){return this.ya.R?this.ya.R(a,b,c,d):this.ya.call(null,a,b,c,d)};g.ma=function(a,b,c,d,e){return this.ya.ma?this.ya.ma(a,b,c,d,e):this.ya.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){return this.ya.Ra?this.ya.Ra(a,b,c,d,e,f):this.ya.call(null,a,b,c,d,e,f)};g.Tb=function(a,b,c,d,e,f,h){return this.ya.Tb?this.ya.Tb(a,b,c,d,e,f,h):this.ya.call(null,a,b,c,d,e,f,h)};g.Ub=function(a,b,c,d,e,f,h,k){return this.ya.Ub?this.ya.Ub(a,b,c,d,e,f,h,k):this.ya.call(null,a,b,c,d,e,f,h,k)};
g.uc=function(a,b,c,d,e,f,h,k,m){return this.ya.uc?this.ya.uc(a,b,c,d,e,f,h,k,m):this.ya.call(null,a,b,c,d,e,f,h,k,m)};g.jc=function(a,b,c,d,e,f,h,k,m,n){return this.ya.jc?this.ya.jc(a,b,c,d,e,f,h,k,m,n):this.ya.call(null,a,b,c,d,e,f,h,k,m,n)};g.kc=function(a,b,c,d,e,f,h,k,m,n,p){return this.ya.kc?this.ya.kc(a,b,c,d,e,f,h,k,m,n,p):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.lc=function(a,b,c,d,e,f,h,k,m,n,p,u){return this.ya.lc?this.ya.lc(a,b,c,d,e,f,h,k,m,n,p,u):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.mc=function(a,b,c,d,e,f,h,k,m,n,p,u,v){return this.ya.mc?this.ya.mc(a,b,c,d,e,f,h,k,m,n,p,u,v):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};g.nc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z){return this.ya.nc?this.ya.nc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z)};
g.oc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){return this.ya.oc?this.ya.oc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C)};g.pc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F){return this.ya.pc?this.ya.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F)};g.qc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I){return this.ya.qc?this.ya.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I)};
g.rc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O){return this.ya.rc?this.ya.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O)};g.sc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P){return this.ya.sc?this.ya.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P)};
g.tc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T){return this.ya.tc?this.ya.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T)};g.pf=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa){return qe.Zg?qe.Zg(this.ya,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa):qe.call(null,this.ya,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa)};function qf(a,b){return"function"===typeof a?new pf(a,b):null==a?null:jd(a,b)}
function rf(a){var b=null!=a;return(b?null!=a?a.O&131072||l===a.qf||(a.O?0:nc(gd,a)):nc(gd,a):b)?hd(a):null}var sf=function sf(a){switch(arguments.length){case 1:return sf.C(arguments[0]);case 2:return sf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return sf.I(arguments[0],arguments[1],c)}};sf.C=function(a){return a};sf.B=function(a,b){return null==a?null:ad(a,b)};
sf.I=function(a,b,c){for(;;){if(null==a)return null;a=sf.B(a,b);if(r(c))b=H(c),c=J(c);else return a}};sf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};sf.aa=2;function tf(a){return null==a||kc(G(a))}function uf(a){return null==a?!1:null!=a?a.O&8||l===a.Zl?!0:a.O?!1:nc(Gc,a):nc(Gc,a)}function vf(a){return null==a?!1:null!=a?a.O&4096||l===a.km?!0:a.O?!1:nc($c,a):nc($c,a)}function wf(a){return null!=a?a.O&16777216||l===a.Di?!0:a.O?!1:nc(td,a):nc(td,a)}
function xf(a){return null==a?!1:null!=a?a.O&1024||l===a.gm?!0:a.O?!1:nc(Wc,a):nc(Wc,a)}function yf(a){return null!=a?a.O&67108864||l===a.jm?!0:a.O?!1:nc(vd,a):nc(vd,a)}function zf(a){return null!=a?a.O&16384||l===a.lm?!0:a.O?!1:nc(dd,a):nc(dd,a)}function Af(a){return null!=a?a.T&512||l===a.Yl?!0:!1:!1}function Bf(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Cf={};function Df(a){return null==a?!1:null!=a?a.O&64||l===a.Ve?!0:a.O?!1:nc(Kc,a):nc(Kc,a)}
function Ef(a){var b=null==a;return b?b:(b=null!=a?a.O&8388608||l===a.Ci?!0:a.O?!1:nc(rd,a):nc(rd,a))?b:gc(a)||"string"===typeof a}function Ff(a){return null==a?!1:!1===a?!1:!0}function Gf(a){var b=of(a);return b?b:null!=a?a.O&1||l===a.am?!0:a.O?!1:nc(Ac,a):nc(Ac,a)}function Hf(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function S(a,b){return null!=a&&(a.O&512||l===a.Xj)?a.ra(null,b):nc(Sc,a)?Tc(a,b):B.D(a,b,Cf)===Cf?!1:!0}
var If=function If(a){switch(arguments.length){case 1:return If.C(arguments[0]);case 2:return If.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return If.I(arguments[0],arguments[1],c)}};If.C=function(){return!0};If.B=function(a,b){return!E.B(a,b)};If.I=function(a,b,c){if(E.B(a,b))return!1;a=Jf([a,b]);for(b=c;;){var d=H(b);c=J(b);if(r(b)){if(S(a,d))return!1;a=hf.B(a,d);b=c}else return!0}};
If.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};If.aa=2;function Kf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return gb(a,b);throw Error(["Cannot compare ",t.C(a)," to ",t.C(b)].join(""));}if(null!=a?a.T&2048||l===a.zd||(a.T?0:nc(Md,a)):nc(Md,a))return Nd(a,b);if("string"!==typeof a&&!gc(a)&&!0!==a&&!1!==a||oc(a)!==oc(b))throw Error(["Cannot compare ",t.C(a)," to ",t.C(b)].join(""));return gb(a,b)}
function Lf(a,b){var c=K(a),d=K(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Kf(Te(a,d),Te(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Mf(a){return E.B(a,Kf)?Kf:function(b,c){var d=a.B?a.B(b,c):a.call(null,b,c);return"number"===typeof d?d:r(d)?-1:r(a.B?a.B(c,b):a.call(null,c,b))?1:0}}function Nf(a,b){if(G(b)){var c=Of.C?Of.C(b):Of.call(null,b);hb(c,Mf(a));return qf(G(c),rf(b))}return we}
function Pf(a,b){return Nf(function(c,d){c=a.C?a.C(c):a.call(null,c);d=a.C?a.C(d):a.call(null,d);var e=Mf(Kf);return e.B?e.B(c,d):e.call(null,c,d)},b)}function af(a){switch(arguments.length){case 2:return $e(arguments[0],arguments[1]);case 3:return bf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function $e(a,b){var c=G(b);return c?(b=H(c),c=J(c),w.D?w.D(a,b,c):w.call(null,a,b,c)):a.P?a.P():a.call(null)}
function bf(a,b,c){for(c=G(c);;)if(c){var d=H(c);b=a.B?a.B(b,d):a.call(null,b,d);if(Ie(b))return y(b);c=J(c)}else return b}function Qf(a,b){a=Yd(a);if(r(a.Ua()))for(var c=a.next();;)if(a.Ua()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Ie(c))return y(c)}else return c;else return b.P?b.P():b.call(null)}function Rf(a,b,c){for(a=Yd(a);;)if(a.Ua()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Ie(c))return y(c)}else return c}
var w=function w(a){switch(arguments.length){case 2:return w.B(arguments[0],arguments[1]);case 3:return w.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};w.B=function(a,b){return null!=b&&(b.O&524288||l===b.bk)?b.jb(null,a):gc(b)?Ne(b,a):"string"===typeof b?Ne(b,a):nc(kd,b)?ld(b,a):re(b)?Qf(b,a):$e(a,b)};
w.D=function(a,b,c){return null!=c&&(c.O&524288||l===c.bk)?c.kb(null,a,b):gc(c)?Oe(c,a,b):"string"===typeof c?Oe(c,a,b):nc(kd,c)?ld(c,a,b):re(c)?Rf(c,a,b):bf(a,b,c)};w.aa=3;function Sf(a,b,c){return null!=c?od(c,a,b):b}function Tf(a){return a}
function Uf(a,b){return function(){function c(h,k){return a.B?a.B(h,k):a.call(null,h,k)}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}function Vf(a,b,c){return Wf(a,b,b.P?b.P():b.call(null),c)}
function Wf(a,b,c,d){a=a.C?a.C(b):a.call(null,b);c=w.D(a,c,d);return a.C?a.C(c):a.call(null,c)}var Xf=function Xf(a){switch(arguments.length){case 0:return Xf.P();case 1:return Xf.C(arguments[0]);case 2:return Xf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return Xf.I(arguments[0],arguments[1],c)}};Xf.P=function(){return 0};Xf.C=function(a){return a};Xf.B=function(a,b){return a+b};
Xf.I=function(a,b,c){return w.D(Xf,a+b,c)};Xf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Xf.aa=2;var Yf=function Yf(a){switch(arguments.length){case 1:return Yf.C(arguments[0]);case 2:return Yf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return Yf.I(arguments[0],arguments[1],c)}};Yf.C=function(a){return-a};Yf.B=function(a,b){return a-b};
Yf.I=function(a,b,c){return w.D(Yf,a-b,c)};Yf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Yf.aa=2;var Zf=function Zf(a){switch(arguments.length){case 0:return Zf.P();case 1:return Zf.C(arguments[0]);case 2:return Zf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return Zf.I(arguments[0],arguments[1],c)}};Zf.P=function(){return 1};Zf.C=function(a){return a};
Zf.B=function(a,b){return a*b};Zf.I=function(a,b,c){return w.D(Zf,a*b,c)};Zf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Zf.aa=2;var $f=function $f(a){switch(arguments.length){case 1:return $f.C(arguments[0]);case 2:return $f.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return $f.I(arguments[0],arguments[1],c)}};$f.C=function(a){return 1/a};$f.B=function(a,b){return a/b};
$f.I=function(a,b,c){return w.D($f,a/b,c)};$f.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};$f.aa=2;function ag(a){return a-1}var bg=function bg(a){switch(arguments.length){case 1:return bg.C(arguments[0]);case 2:return bg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return bg.I(arguments[0],arguments[1],c)}};bg.C=function(a){return a};bg.B=function(a,b){return a>b?a:b};
bg.I=function(a,b,c){return w.D(bg,a>b?a:b,c)};bg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};bg.aa=2;var cg=function cg(a){switch(arguments.length){case 1:return cg.C(arguments[0]);case 2:return cg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return cg.I(arguments[0],arguments[1],c)}};cg.C=function(a){return a};cg.B=function(a,b){return a<b?a:b};
cg.I=function(a,b,c){return w.D(cg,a<b?a:b,c)};cg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};cg.aa=2;function dg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function eg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function fg(a,b){return(a%b+b)%b}function gg(a,b){return eg((a-a%b)/b)}function hg(a,b){return a-b*gg(a,b)}
function ig(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var jg=function jg(a){switch(arguments.length){case 1:return jg.C(arguments[0]);case 2:return jg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return jg.I(arguments[0],arguments[1],c)}};jg.C=function(){return!0};jg.B=function(a,b){return pd(a,b)};
jg.I=function(a,b,c){for(;;)if(a===b)if(J(c))a=b,b=H(c),c=J(c);else return b===H(c);else return!1};jg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};jg.aa=2;function kg(a){return 0<a}var t=function t(a){switch(arguments.length){case 0:return t.P();case 1:return t.C(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(1),0,null);return t.I(arguments[0],c)}};t.P=function(){return""};
t.C=function(a){return null==a?"":[a].join("")};t.I=function(a,b){for(a=new Pb(t.C(a));;)if(r(b))a=a.append(t.C(H(b))),b=J(b);else return a.toString()};t.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};t.aa=1;var lg=function lg(a){switch(arguments.length){case 2:return lg.B(arguments[0],arguments[1]);case 3:return lg.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};lg.B=function(a,b){return a.substring(b)};
lg.D=function(a,b,c){return a.substring(b,c)};lg.aa=3;function Ye(a,b){if(wf(b))if(Qe(a)&&Qe(b)&&K(a)!==K(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&E.B(H(a),H(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Ff(a)}function kf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.J=e;this.O=65937646;this.T=8192}g=kf.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new kf(this.meta,this.first,this.rest,this.count,this.J)};g.Va=function(){return 1===this.count?null:this.rest};g.la=function(){return this.count};g.ce=function(){return this.first};
g.de=function(){return this.wb(null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return jd(we,this.meta)};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){return this.first};g.wb=function(){return 1===this.count?we:this.rest};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new kf(b,this.first,this.rest,this.count,this.J)};
g.na=function(a,b){return new kf(this.meta,b,this,this.count+1,null)};function mg(a){return null!=a?a.O&33554432||l===a.fm?!0:a.O?!1:nc(ud,a):nc(ud,a)}kf.prototype[rc]=function(){return ye(this)};function ng(a){this.meta=a;this.O=65937614;this.T=8192}g=ng.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new ng(this.meta)};g.Va=function(){return null};g.la=function(){return 0};g.ce=function(){return null};g.de=function(){throw Error("Can't pop empty list");};g.ja=function(){return Be};
g.da=function(a,b){return mg(b)||wf(b)?null==G(b):!1};g.Pa=function(){return this};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){return null};g.wb=function(){return we};g.ka=function(){return null};g.ha=function(a,b){return b===this.meta?this:new ng(b)};g.na=function(a,b){return new kf(this.meta,b,null,1,null)};var we=new ng(null);ng.prototype[rc]=function(){return ye(this)};
function og(a){return(null!=a?a.O&134217728||l===a.ck||(a.O?0:nc(wd,a)):nc(wd,a))?(a=xd(a))?a:we:w.D(hf,we,a)}var pg=function pg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return pg.I(c)};pg.I=function(a){if(a instanceof se&&0===a.i)var b=a.K;else a:for(b=[];;)if(null!=a)b.push(Lc(a)),a=Oc(a);else break a;a=b.length;for(var c=we;;)if(0<a){var d=a-1;c=Hc(c,b[a-1]);a=d}else return c};pg.aa=0;pg.fa=function(a){return this.I(G(a))};
function qg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.J=d;this.O=65929452;this.T=8192}g=qg.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new qg(this.meta,this.first,this.rest,this.J)};g.Va=function(){return null==this.rest?null:G(this.rest)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){return this.first};g.wb=function(){return null==this.rest?we:this.rest};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new qg(b,this.first,this.rest,this.J)};g.na=function(a,b){return new qg(null,b,this,null)};qg.prototype[rc]=function(){return ye(this)};
function Ze(a,b){return null==b?new kf(null,a,null,1,null):null!=b&&(b.O&64||l===b.Ve)?new qg(null,a,b,null):new qg(null,a,G(b),null)}function rg(a,b){if(a.ba===b.ba)return 0;var c=kc(a.yc);if(r(c?b.yc:c))return-1;if(r(a.yc)){if(kc(b.yc))return 1;c=gb(a.yc,b.yc);return 0===c?gb(a.name,b.name):c}return gb(a.name,b.name)}function D(a,b,c,d){this.yc=a;this.name=b;this.ba=c;this._hash=d;this.O=2153775105;this.T=4096}g=D.prototype;g.toString=function(){return[":",t.C(this.ba)].join("")};
g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return b instanceof D?this.ba===b.ba:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return B.B(a,this)};g.B=function(a,b){return B.D(a,this,b)};
g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=me(this)+2654435769|0};g.rf=function(){return this.name};g.sf=function(){return this.yc};g.ia=function(a,b){return yd(b,[":",t.C(this.ba)].join(""))};function U(a,b){return a===b?!0:a instanceof D&&b instanceof D?a.ba===b.ba:!1}function sg(a){if(null!=a&&(a.T&4096||l===a.bh))return a.sf(null);throw Error(["Doesn't support namespace: ",t.C(a)].join(""));}function tg(a){return a instanceof D||a instanceof A}
var ug=function ug(a){switch(arguments.length){case 1:return ug.C(arguments[0]);case 2:return ug.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};ug.C=function(a){if(a instanceof D)return a;if(a instanceof A)return new D(sg(a),vg.C?vg.C(a):vg.call(null,a),a.zc,null);if(E.B("/",a))return new D(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new D(b[0],b[1],a,null):new D(null,b[0],a,null)}return null};
ug.B=function(a,b){a=a instanceof D?vg.C?vg.C(a):vg.call(null,a):a instanceof A?vg.C?vg.C(a):vg.call(null,a):a;b=b instanceof D?vg.C?vg.C(b):vg.call(null,b):b instanceof A?vg.C?vg.C(b):vg.call(null,b):b;return new D(a,b,[r(a)?[t.C(a),"/"].join(""):null,t.C(b)].join(""),null)};ug.aa=2;function wg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.J=d;this.O=32374988;this.T=1}g=wg.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
function xg(a){null!=a.fn&&(a.s=a.fn.P?a.fn.P():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){this.ka(null);return null==this.s?null:J(this.s)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};
g.Pa=function(){return jd(we,this.meta)};g.gg=function(){return kc(this.fn)};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){this.ka(null);return null==this.s?null:H(this.s)};g.wb=function(){this.ka(null);return null!=this.s?ve(this.s):we};g.ka=function(){xg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof wg)a=xg(a);else return this.s=a,G(this.s)};
g.ha=function(a,b){var c=this;return b===this.meta?c:new wg(b,function(){return c.ka(null)},null,this.J)};g.na=function(a,b){return Ze(b,this)};wg.prototype[rc]=function(){return ye(this)};function yg(a){this.buf=a;this.end=0;this.O=2;this.T=0}yg.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};yg.prototype.chunk=function(){var a=new Bg(this.buf,0,this.end);this.buf=null;return a};yg.prototype.la=function(){return this.end};function Cg(a){return new yg(Array(a))}
function Bg(a,b,c){this.K=a;this.off=b;this.end=c;this.O=524306;this.T=0}g=Bg.prototype;g.la=function(){return this.end-this.off};g.Da=function(a,b){return this.K[this.off+b]};g.ob=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.nf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Bg(this.K,this.off+1,this.end)};g.jb=function(a,b){return Pe(this.K,b,this.K[this.off],this.off+1)};g.kb=function(a,b,c){return Pe(this.K,b,c,this.off)};
function Dg(a,b,c,d){this.chunk=a;this.more=b;this.meta=c;this.J=d;this.O=31850732;this.T=1536}g=Dg.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){return 1<Dc(this.chunk)?new Dg(Od(this.chunk),this.more,null,null):null==this.more?null:sd(this.more)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.mb=function(){return x(this.chunk,0)};g.wb=function(){return 1<Dc(this.chunk)?new Dg(Od(this.chunk),this.more,null,null):null==this.more?we:this.more};g.ka=function(){return this};g.Ue=function(){return this.chunk};g.ae=function(){return null==this.more?we:this.more};g.ha=function(a,b){return b===this.meta?this:new Dg(this.chunk,this.more,b,this.J)};g.na=function(a,b){return Ze(b,this)};
g.Te=function(){return null==this.more?null:this.more};Dg.prototype[rc]=function(){return ye(this)};function Eg(a,b){return 0===Dc(a)?b:new Dg(a,b,null,null)}function Fg(a,b){a.add(b)}function Gg(a){return a.chunk()}function Of(a){var b=[];for(a=G(a);;)if(null!=a)b.push(H(a)),a=J(a);else return b}function Hg(a,b){if(Qe(b))return K(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var Ig=function Ig(a){if(null==a)return null;var c=J(a);return null==c?G(H(a)):Ze(H(a),Ig.C?Ig.C(c):Ig.call(null,c))},V=function V(a){switch(arguments.length){case 0:return V.P();case 1:return V.C(arguments[0]);case 2:return V.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return V.I(arguments[0],arguments[1],c)}};V.P=function(){return new wg(null,function(){return null},null,null)};
V.C=function(a){return new wg(null,function(){return a},null,null)};V.B=function(a,b){return new wg(null,function(){var c=G(a);return c?Af(c)?Eg(Pd(c),V.B(Qd(c),b)):Ze(H(c),V.B(ve(c),b)):b},null,null)};V.I=function(a,b,c){return function h(e,f){return new wg(null,function(){var k=G(e);return k?Af(k)?Eg(Pd(k),h(Qd(k),f)):Ze(H(k),h(ve(k),f)):r(f)?h(H(f),J(f)):null},null,null)}(V.B(a,b),c)};V.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};V.aa=2;
function Jg(a,b,c){return Ze(a,Ze(b,c))}function Kg(a){return Hd(a)}function Lg(a){return Jd(a)}var Mg=function Mg(a){switch(arguments.length){case 0:return Mg.P();case 1:return Mg.C(arguments[0]);case 2:return Mg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return Mg.I(arguments[0],arguments[1],c)}};Mg.P=function(){return Hd(jf)};Mg.C=function(a){return a};Mg.B=function(a,b){return Id(a,b)};
Mg.I=function(a,b,c){for(;;)if(a=Id(a,b),r(c))b=H(c),c=J(c);else return a};Mg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Mg.aa=2;function Ng(a,b,c){return Kd(a,b,c)}
function Og(a,b,c){var d=G(c);if(0===b)return a.P?a.P():a.call(null);c=Lc(d);var e=Mc(d);if(1===b)return a.C?a.C(c):a.call(null,c);d=Lc(e);var f=Mc(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=Lc(f);var h=Mc(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=Lc(h);var k=Mc(h);if(4===b)return a.R?a.R(c,d,e,f):a.call(null,c,d,e,f);h=Lc(k);var m=Mc(k);if(5===b)return a.ma?a.ma(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Lc(m);var n=Mc(m);if(6===b)return a.Ra?a.Ra(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);m=Lc(n);var p=Mc(n);if(7===b)return a.Tb?a.Tb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Lc(p);var u=Mc(p);if(8===b)return a.Ub?a.Ub(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);p=Lc(u);var v=Mc(u);if(9===b)return a.uc?a.uc(c,d,e,f,h,k,m,n,p):a.call(null,c,d,e,f,h,k,m,n,p);u=Lc(v);var z=Mc(v);if(10===b)return a.jc?a.jc(c,d,e,f,h,k,m,n,p,u):a.call(null,c,d,e,f,h,k,m,n,p,u);v=Lc(z);var C=Mc(z);if(11===b)return a.kc?a.kc(c,d,e,f,h,k,m,n,p,u,v):a.call(null,c,d,e,f,h,k,m,n,p,u,v);z=Lc(C);var F=Mc(C);
if(12===b)return a.lc?a.lc(c,d,e,f,h,k,m,n,p,u,v,z):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z);C=Lc(F);var I=Mc(F);if(13===b)return a.mc?a.mc(c,d,e,f,h,k,m,n,p,u,v,z,C):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C);F=Lc(I);var O=Mc(I);if(14===b)return a.nc?a.nc(c,d,e,f,h,k,m,n,p,u,v,z,C,F):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,F);I=Lc(O);var P=Mc(O);if(15===b)return a.oc?a.oc(c,d,e,f,h,k,m,n,p,u,v,z,C,F,I):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I);O=Lc(P);var T=Mc(P);if(16===b)return a.pc?a.pc(c,d,e,f,h,k,m,
n,p,u,v,z,C,F,I,O):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O);P=Lc(T);var aa=Mc(T);if(17===b)return a.qc?a.qc(c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P);T=Lc(aa);var ea=Mc(aa);if(18===b)return a.rc?a.rc(c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T);aa=Lc(ea);ea=Mc(ea);if(19===b)return a.sc?a.sc(c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa);var va=Lc(ea);Mc(ea);if(20===b)return a.tc?
a.tc(c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa,va):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa,va);throw Error("Only up to 20 arguments supported on functions");}function Pg(a){return null!=a&&(a.O&128||l===a.tf)?a.Va(null):G(ve(a))}function Qg(a,b,c){return null==c?a.C?a.C(b):a.call(a,b):Rg(a,b,Lc(c),Pg(c))}function Rg(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Sg(a,b,c,Lc(d),Pg(d))}function Sg(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Tg(a,b,c,d,Lc(e),Pg(e))}
function Tg(a,b,c,d,e,f){if(null==f)return a.R?a.R(b,c,d,e):a.call(a,b,c,d,e);var h=Lc(f),k=J(f);if(null==k)return a.ma?a.ma(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Lc(k);var m=J(k);if(null==m)return a.Ra?a.Ra(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Lc(m);var n=J(m);if(null==n)return a.Tb?a.Tb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Lc(n);var p=J(n);if(null==p)return a.Ub?a.Ub(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Lc(p);var u=J(p);if(null==u)return a.uc?a.uc(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,f,
k,m,n);p=Lc(u);var v=J(u);if(null==v)return a.jc?a.jc(b,c,d,e,h,f,k,m,n,p):a.call(a,b,c,d,e,h,f,k,m,n,p);u=Lc(v);var z=J(v);if(null==z)return a.kc?a.kc(b,c,d,e,h,f,k,m,n,p,u):a.call(a,b,c,d,e,h,f,k,m,n,p,u);v=Lc(z);var C=J(z);if(null==C)return a.lc?a.lc(b,c,d,e,h,f,k,m,n,p,u,v):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v);z=Lc(C);var F=J(C);if(null==F)return a.mc?a.mc(b,c,d,e,h,f,k,m,n,p,u,v,z):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z);C=Lc(F);var I=J(F);if(null==I)return a.nc?a.nc(b,c,d,e,h,f,k,m,n,p,u,v,z,C):a.call(a,
b,c,d,e,h,f,k,m,n,p,u,v,z,C);F=Lc(I);var O=J(I);if(null==O)return a.oc?a.oc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,F):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,F);I=Lc(O);var P=J(O);if(null==P)return a.pc?a.pc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I);O=Lc(P);var T=J(P);if(null==T)return a.qc?a.qc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I,O):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I,O);P=Lc(T);var aa=J(T);if(null==aa)return a.rc?a.rc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I,O,P):a.call(a,b,c,d,e,h,f,
k,m,n,p,u,v,z,C,F,I,O,P);T=Lc(aa);var ea=J(aa);if(null==ea)return a.sc?a.sc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I,O,P,T):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I,O,P,T);aa=Lc(ea);ea=J(ea);if(null==ea)return a.tc?a.tc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I,O,P,T,aa):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I,O,P,T,aa);b=[b,c,d,e,h,f,k,m,n,p,u,v,z,C,F,I,O,P,T,aa];for(c=ea;;)if(c)b.push(Lc(c)),c=J(c);else break;return a.apply(a,b)}
function qe(a){switch(arguments.length){case 2:return Ug(arguments[0],arguments[1]);case 3:return Vg(arguments[0],arguments[1],arguments[2]);case 4:return Wg(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Xg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new se(b.slice(5),0,null);return Yg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Ug(a,b){if(a.fa){var c=a.aa,d=Hg(c+1,b);return d<=c?Og(a,d,b):a.fa(b)}b=G(b);return null==b?a.P?a.P():a.call(a):Qg(a,Lc(b),Pg(b))}function Vg(a,b,c){if(a.fa){b=Ze(b,c);var d=a.aa;c=Hg(d,c)+1;return c<=d?Og(a,c,b):a.fa(b)}return Qg(a,b,G(c))}function Wg(a,b,c,d){return a.fa?(b=Jg(b,c,d),c=a.aa,d=2+Hg(c-1,d),d<=c?Og(a,d,b):a.fa(b)):Rg(a,b,c,G(d))}function Xg(a,b,c,d,e){return a.fa?(b=Ze(b,Ze(c,Ze(d,e))),c=a.aa,e=3+Hg(c-2,e),e<=c?Og(a,e,b):a.fa(b)):Sg(a,b,c,d,G(e))}
function Yg(a,b,c,d,e,f){return a.fa?(f=Ig(f),b=Ze(b,Ze(c,Ze(d,Ze(e,f)))),c=a.aa,f=4+Hg(c-3,f),f<=c?Og(a,f,b):a.fa(b)):Tg(a,b,c,d,e,Ig(f))}function Zg(a){return null!=a&&(a.O&64||l===a.Ve)?Ug($g,a):a}var ah=function ah(a){switch(arguments.length){case 1:return ah.C(arguments[0]);case 2:return ah.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return ah.I(arguments[0],arguments[1],c)}};ah.C=function(){return!1};
ah.B=function(a,b){return!E.B(a,b)};ah.I=function(a,b,c){return kc(Wg(E,a,b,c))};ah.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};ah.aa=2;function bh(a){return G(a)?a:null}
function ch(){if("undefined"===typeof Qb||"undefined"===typeof Rb||"undefined"===typeof Sb)Sb=function(a){this.Ik=a;this.O=393216;this.T=0},Sb.prototype.ha=function(a,b){return new Sb(b)},Sb.prototype.ga=function(){return this.Ik},Sb.prototype.Ua=function(){return!1},Sb.prototype.next=function(){return Error("No such element")},Sb.prototype.remove=function(){return Error("Unsupported operation")},Sb.Wa=!0,Sb.Sa="cljs.core/t_cljs$core19013",Sb.Za=function(a){return yd(a,"cljs.core/t_cljs$core19013")};
return new Sb(W)}function dh(a){this.s=a;this.i=0}dh.prototype.Ua=function(){return this.i<this.s.length};dh.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};dh.prototype.remove=function(){return Error("Unsupported operation")};function eh(a){this.K=a;this.i=0}eh.prototype.Ua=function(){return this.i<this.K.length};eh.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};eh.prototype.remove=function(){return Error("Unsupported operation")};var fh={},gh={};
function hh(a){this.kf=fh;this._next=a}hh.prototype.Ua=function(){this.kf===fh?(this.kf=gh,this._next=G(this._next)):this.kf===this._next&&(this._next=J(this.kf));return null!=this._next};hh.prototype.next=function(){if(this.Ua())return this.kf=this._next,H(this._next);throw Error("No such element");};hh.prototype.remove=function(){return Error("Unsupported operation")};
function ih(a){if(re(a))return Yd(a);if(null==a)return ch();if("string"===typeof a)return new dh(a);if(gc(a))return new eh(a);if(Ef(a))return new hh(a);throw Error(["Cannot create iterator from ",t.C(a)].join(""));}function jh(a){this.vals=a}jh.prototype.add=function(a){this.vals.push(a);return this};jh.prototype.remove=function(){return this.vals.shift()};jh.prototype.isEmpty=function(){return 0===this.vals.length};jh.prototype.toString=function(){return["Many: ",t.C(this.vals)].join("")};
var kh={};function lh(a){this.val=a}lh.prototype.add=function(a){return this.val===kh?(this.val=a,this):new jh([this.val,a])};lh.prototype.remove=function(){if(this.val===kh)throw Error("Removing object from empty buffer");var a=this.val;this.val=kh;return a};lh.prototype.isEmpty=function(){return this.val===kh};lh.prototype.toString=function(){return["Single: ",t.C(this.val)].join("")};function mh(){}mh.prototype.add=function(a){return new lh(a)};
mh.prototype.remove=function(){throw Error("Removing object from empty buffer");};mh.prototype.isEmpty=function(){return!0};mh.prototype.toString=function(){return"Empty"};var nh=new mh,oh=function oh(a){return new wg(null,function(){if(a.Ua())for(var c=[],d=0;;){var e=a.Ua();if(r(r(e)?32>d:e))c[d]=a.next(),d+=1;else return Eg(new Bg(c,0,d),oh.C?oh.C(a):oh.call(null,a))}else return null},null,null)};function ph(a){this.buffer=nh;this._next=kh;this.ph=!1;this.Od=null;this.Vh=a;this.nl=!1}
ph.prototype.step=function(){if(this._next!==kh)return!0;for(;;)if(this._next===kh)if(this.buffer.isEmpty()){if(this.ph)return!1;if(this.Vh.Ua()){if(this.nl)var a=Ug(this.Od,Ze(null,this.Vh.next()));else a=this.Vh.next(),a=this.Od.B?this.Od.B(null,a):this.Od.call(null,null,a);Ie(a)&&(this.Od.C?this.Od.C(null):this.Od.call(null,null),this.ph=!0)}else this.Od.C?this.Od.C(null):this.Od.call(null,null),this.ph=!0}else this._next=this.buffer.remove();else return!0};ph.prototype.Ua=function(){return this.step()};
ph.prototype.next=function(){if(this.Ua()){var a=this._next;this._next=kh;return a}throw Error("No such element");};ph.prototype.remove=function(){return Error("Unsupported operation")};ph.prototype[rc]=function(){return ye(this)};
function qh(a,b){var c=new ph(b);c.Od=function(){var d=function(){function e(h,k){c.buffer=c.buffer.add(k);return h}var f=null;f=function(h,k){switch(arguments.length){case 0:return null;case 1:return h;case 2:return e.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=function(){return null};f.C=function(h){return h};f.B=e;return f}();return a.C?a.C(d):a.call(null,d)}();return c}
function rh(a,b){for(;;){if(null==G(b))return!0;var c=H(b);c=a.C?a.C(c):a.call(null,c);if(r(c))b=J(b);else return!1}}function sh(a,b){for(;;)if(b=G(b)){var c=H(b);c=a.C?a.C(c):a.call(null,c);if(r(c))return c;b=J(b)}else return null}function th(a){if(Hf(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.C(a)].join(""));}
function uh(a){return function(){function b(h,k){return kc(a.B?a.B(h,k):a.call(null,h,k))}function c(h){return kc(a.C?a.C(h):a.call(null,h))}function d(){return kc(a.P?a.P():a.call(null))}var e=null,f=function(){function h(m,n,p){var u=null;if(2<arguments.length){u=0;for(var v=Array(arguments.length-2);u<v.length;)v[u]=arguments[u+2],++u;u=new se(v,0,null)}return k.call(this,m,n,u)}function k(m,n,p){return kc(Wg(a,m,n,p))}h.aa=2;h.fa=function(m){var n=H(m);m=J(m);var p=H(m);m=ve(m);return k(n,p,m)};
h.I=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new se(p,0,null)}return f.I(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.aa=2;e.fa=f.fa;e.P=d;e.C=c;e.B=b;e.I=f.I;return e}()}
function vh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.aa=0;b.fa=function(c){G(c);return a};b.I=function(){return a};return b}()}
var wh=function wh(a){switch(arguments.length){case 0:return wh.P();case 1:return wh.C(arguments[0]);case 2:return wh.B(arguments[0],arguments[1]);case 3:return wh.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(3),0,null);return wh.I(arguments[0],arguments[1],arguments[2],c)}};wh.P=function(){return Tf};wh.C=function(a){return a};
wh.B=function(a,b){return function(){function c(m,n,p){m=b.D?b.D(m,n,p):b.call(null,m,n,p);return a.C?a.C(m):a.call(null,m)}function d(m,n){m=b.B?b.B(m,n):b.call(null,m,n);return a.C?a.C(m):a.call(null,m)}function e(m){m=b.C?b.C(m):b.call(null,m);return a.C?a.C(m):a.call(null,m)}function f(){var m=b.P?b.P():b.call(null);return a.C?a.C(m):a.call(null,m)}var h=null,k=function(){function m(p,u,v,z){var C=null;if(3<arguments.length){C=0;for(var F=Array(arguments.length-3);C<F.length;)F[C]=arguments[C+
3],++C;C=new se(F,0,null)}return n.call(this,p,u,v,C)}function n(p,u,v,z){p=Xg(b,p,u,v,z);return a.C?a.C(p):a.call(null,p)}m.aa=3;m.fa=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var z=H(p);p=ve(p);return n(u,v,z,p)};m.I=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=
arguments[v+3],++v;v=new se(z,0,null)}return k.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.fa=k.fa;h.P=f;h.C=e;h.B=d;h.D=c;h.I=k.I;return h}()};
wh.D=function(a,b,c){return function(){function d(n,p,u){n=c.D?c.D(n,p,u):c.call(null,n,p,u);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function e(n,p){n=c.B?c.B(n,p):c.call(null,n,p);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function f(n){n=c.C?c.C(n):c.call(null,n);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function h(){var n=c.P?c.P():c.call(null);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}var k=null,m=function(){function n(u,
v,z,C){var F=null;if(3<arguments.length){F=0;for(var I=Array(arguments.length-3);F<I.length;)I[F]=arguments[F+3],++F;F=new se(I,0,null)}return p.call(this,u,v,z,F)}function p(u,v,z,C){u=Xg(c,u,v,z,C);u=b.C?b.C(u):b.call(null,u);return a.C?a.C(u):a.call(null,u)}n.aa=3;n.fa=function(u){var v=H(u);u=J(u);var z=H(u);u=J(u);var C=H(u);u=ve(u);return p(v,z,C,u)};n.I=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,
n,p);case 3:return d.call(this,n,p,u);default:var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new se(C,0,null)}return m.I(n,p,u,z)}throw Error("Invalid arity: "+arguments.length);};k.aa=3;k.fa=m.fa;k.P=h;k.C=f;k.B=e;k.D=d;k.I=m.I;return k}()};
wh.I=function(a,b,c,d){var e=og(Ze(a,Ze(b,Ze(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new se(n,0,null)}return h.call(this,m)}function h(k){k=Ug(H(e),k);for(var m=J(e);;)if(m){var n=H(m);k=n.C?n.C(k):n.call(null,k);m=J(m)}else return k}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()};wh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};
wh.aa=3;var xh=function xh(a){switch(arguments.length){case 1:return xh.C(arguments[0]);case 2:return xh.B(arguments[0],arguments[1]);case 3:return xh.D(arguments[0],arguments[1],arguments[2]);case 4:return xh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(4),0,null);return xh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};xh.C=function(a){return a};
xh.B=function(a,b){return function(){function c(m,n,p){return a.R?a.R(b,m,n,p):a.call(null,b,m,n,p)}function d(m,n){return a.D?a.D(b,m,n):a.call(null,b,m,n)}function e(m){return a.B?a.B(b,m):a.call(null,b,m)}function f(){return a.C?a.C(b):a.call(null,b)}var h=null,k=function(){function m(p,u,v,z){var C=null;if(3<arguments.length){C=0;for(var F=Array(arguments.length-3);C<F.length;)F[C]=arguments[C+3],++C;C=new se(F,0,null)}return n.call(this,p,u,v,C)}function n(p,u,v,z){return Yg(a,b,p,u,v,M([z]))}
m.aa=3;m.fa=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var z=H(p);p=ve(p);return n(u,v,z,p)};m.I=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=arguments[v+3],++v;v=new se(z,0,null)}return k.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.fa=k.fa;
h.P=f;h.C=e;h.B=d;h.D=c;h.I=k.I;return h}()};
xh.D=function(a,b,c){return function(){function d(n,p,u){return a.ma?a.ma(b,c,n,p,u):a.call(null,b,c,n,p,u)}function e(n,p){return a.R?a.R(b,c,n,p):a.call(null,b,c,n,p)}function f(n){return a.D?a.D(b,c,n):a.call(null,b,c,n)}function h(){return a.B?a.B(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,v,z,C){var F=null;if(3<arguments.length){F=0;for(var I=Array(arguments.length-3);F<I.length;)I[F]=arguments[F+3],++F;F=new se(I,0,null)}return p.call(this,u,v,z,F)}function p(u,v,z,C){return Yg(a,
b,c,u,v,M([z,C]))}n.aa=3;n.fa=function(u){var v=H(u);u=J(u);var z=H(u);u=J(u);var C=H(u);u=ve(u);return p(v,z,C,u)};n.I=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,p);case 3:return d.call(this,n,p,u);default:var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new se(C,0,null)}return m.I(n,p,u,z)}throw Error("Invalid arity: "+arguments.length);
};k.aa=3;k.fa=m.fa;k.P=h;k.C=f;k.B=e;k.D=d;k.I=m.I;return k}()};
xh.R=function(a,b,c,d){return function(){function e(p,u,v){return a.Ra?a.Ra(b,c,d,p,u,v):a.call(null,b,c,d,p,u,v)}function f(p,u){return a.ma?a.ma(b,c,d,p,u):a.call(null,b,c,d,p,u)}function h(p){return a.R?a.R(b,c,d,p):a.call(null,b,c,d,p)}function k(){return a.D?a.D(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function p(v,z,C,F){var I=null;if(3<arguments.length){I=0;for(var O=Array(arguments.length-3);I<O.length;)O[I]=arguments[I+3],++I;I=new se(O,0,null)}return u.call(this,v,z,C,I)}function u(v,
z,C,F){return Yg(a,b,c,d,v,M([z,C,F]))}p.aa=3;p.fa=function(v){var z=H(v);v=J(v);var C=H(v);v=J(v);var F=H(v);v=ve(v);return u(z,C,F,v)};p.I=u;return p}();m=function(p,u,v,z){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,p);case 2:return f.call(this,p,u);case 3:return e.call(this,p,u,v);default:var C=null;if(3<arguments.length){C=0;for(var F=Array(arguments.length-3);C<F.length;)F[C]=arguments[C+3],++C;C=new se(F,0,null)}return n.I(p,u,v,C)}throw Error("Invalid arity: "+
arguments.length);};m.aa=3;m.fa=n.fa;m.P=k;m.C=h;m.B=f;m.D=e;m.I=n.I;return m}()};xh.I=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new se(n,0,null)}return h.call(this,m)}function h(k){return Xg(a,b,c,d,V.B(e,k))}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()};
xh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};xh.aa=4;
function zh(a){return function(){function b(h,k,m){h=null==h?a:h;return hf.D?hf.D(h,k,m):hf.call(null,h,k,m)}function c(h,k){h=null==h?a:h;return hf.B?hf.B(h,k):hf.call(null,h,k)}function d(h){h=null==h?a:h;return hf.C?hf.C(h):hf.call(null,h)}var e=null,f=function(){function h(m,n,p,u){var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=arguments[v+3],++v;v=new se(z,0,null)}return k.call(this,m,n,p,v)}function k(m,n,p,u){return Xg(hf,null==m?a:m,n,p,u)}h.aa=
3;h.fa=function(m){var n=H(m);m=J(m);var p=H(m);m=J(m);var u=H(m);m=ve(m);return k(n,p,u,m)};h.I=k;return h}();e=function(h,k,m,n){switch(arguments.length){case 1:return d.call(this,h);case 2:return c.call(this,h,k);case 3:return b.call(this,h,k,m);default:var p=null;if(3<arguments.length){p=0;for(var u=Array(arguments.length-3);p<u.length;)u[p]=arguments[p+3],++p;p=new se(u,0,null)}return f.I(h,k,m,p)}throw Error("Invalid arity: "+arguments.length);};e.aa=3;e.fa=f.fa;e.C=d;e.B=c;e.D=b;e.I=f.I;return e}()}
function Ah(a){return function(b){var c=Bh.C?Bh.C(-1):Bh.call(null,-1);return function(){function d(k,m){var n=Wd(c,y(c)+1);m=a.B?a.B(n,m):a.call(null,n,m);return b.B?b.B(k,m):b.call(null,k,m)}function e(k){return b.C?b.C(k):b.call(null,k)}function f(){return b.P?b.P():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.P=f;h.C=e;h.B=d;return h}()}}
function Ch(a){return function(b){return function(){function c(h,k){k=a.C?a.C(k):a.call(null,k);return null==k?h:b.B?b.B(h,k):b.call(null,h,k)}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return b.P?b.P():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}
function Dh(a,b){return new wg(null,function(){var c=G(b);if(c){if(Af(c)){for(var d=Pd(c),e=K(d),f=Cg(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.C?a.C(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return Eg(Gg(f),Dh(a,Qd(c)))}e=function(){var m=H(c);return a.C?a.C(m):a.call(null,m)}();return null==e?Dh(a,ve(c)):Ze(e,Dh(a,ve(c)))}return null},null,null)}function Eh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.Zb=null;this.T=16386;this.O=6455296}g=Eh.prototype;
g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return this===b};g.ic=function(){return this.state};g.ga=function(){return this.meta};g.ih=function(a,b){for(var c=G(this.Zb),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f),k=N(h,0,null);h=N(h,1,null);h.R?h.R(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=G(c))Af(c)?(d=Pd(c),c=Qd(c),k=d,e=K(d),d=k):(d=H(c),k=N(d,0,null),h=N(d,1,null),h.R?h.R(k,this,a,b):h.call(null,k,this,a,b),c=J(c),d=null,e=0),f=0;else break};
g.jg=function(a,b,c){this.Zb=Q.D(this.Zb,b,c);return this};g.kg=function(a,b){return this.Zb=R.B(this.Zb,b)};g.ja=function(){return ka(this)};function Fh(a){return new Eh(a,null,null)}function Gh(a,b){if(a instanceof Eh){var c=a.validator;if(null!=c&&!r(c.C?c.C(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.Zb&&a.ih(c,b);return b}return Td(a,b)}
var Ih=function Ih(a){switch(arguments.length){case 2:return Ih.B(arguments[0],arguments[1]);case 3:return Ih.D(arguments[0],arguments[1],arguments[2]);case 4:return Ih.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(4),0,null);return Ih.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Ih.B=function(a,b){if(a instanceof Eh){var c=a.state;b=b.C?b.C(c):b.call(null,c);a=Gh(a,b)}else a=Ud(a,b);return a};Ih.D=function(a,b,c){if(a instanceof Eh){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=Gh(a,b)}else a=Ud(a,b,c);return a};Ih.R=function(a,b,c,d){if(a instanceof Eh){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=Gh(a,b)}else a=Ud(a,b,c,d);return a};Ih.I=function(a,b,c,d,e){return a instanceof Eh?Gh(a,Xg(b,a.state,c,d,e)):Ud(a,b,c,d,e)};
Ih.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};Ih.aa=4;function Jh(a){return E.B(a.ic(null),!1)?(Gh(a,!0),!0):!1}function Kh(a){this.state=a;this.O=32768;this.T=0}Kh.prototype.ig=function(a,b){return this.state=b};Kh.prototype.ic=function(){return this.state};function Bh(a){return new Kh(a)}
function Lh(){var a=Mh,b=Nh;return function(){function c(k,m,n){var p=a.C?a.C(k):a.call(null,k);if(r(p))return p;p=a.C?a.C(m):a.call(null,m);if(r(p))return p;p=a.C?a.C(n):a.call(null,n);if(r(p))return p;k=b.C?b.C(k):b.call(null,k);if(r(k))return k;m=b.C?b.C(m):b.call(null,m);return r(m)?m:b.C?b.C(n):b.call(null,n)}function d(k,m){var n=a.C?a.C(k):a.call(null,k);if(r(n))return n;n=a.C?a.C(m):a.call(null,m);if(r(n))return n;k=b.C?b.C(k):b.call(null,k);return r(k)?k:b.C?b.C(m):b.call(null,m)}function e(k){var m=
a.C?a.C(k):a.call(null,k);return r(m)?m:b.C?b.C(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new se(C,0,null)}return m.call(this,n,p,u,z)}function m(n,p,u,v){n=f.D(n,p,u);return r(n)?n:sh(function(z){var C=a.C?a.C(z):a.call(null,z);return r(C)?C:b.C?b.C(z):b.call(null,z)},v)}k.aa=3;k.fa=function(n){var p=H(n);n=J(n);var u=H(n);n=J(n);var v=H(n);n=ve(n);return m(p,u,v,n)};
k.I=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new se(v,0,null)}return h.I(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.fa=h.fa;f.P=function(){return null};f.C=e;f.B=d;f.D=c;f.I=h.I;return f}()}
function Oh(){var a=Ph,b=Qh;return function(){function c(k,m,n){var p=fc.C?fc.C(k):fc.call(null,k);if(r(p))return p;p=a.C?a.C(k):a.call(null,k);if(r(p))return p;k=b.C?b.C(k):b.call(null,k);if(r(k))return k;k=fc.C?fc.C(m):fc.call(null,m);if(r(k))return k;k=a.C?a.C(m):a.call(null,m);if(r(k))return k;m=b.C?b.C(m):b.call(null,m);if(r(m))return m;m=fc.C?fc.C(n):fc.call(null,n);if(r(m))return m;m=a.C?a.C(n):a.call(null,n);return r(m)?m:b.C?b.C(n):b.call(null,n)}function d(k,m){var n=fc.C?fc.C(k):fc.call(null,
k);if(r(n))return n;n=a.C?a.C(k):a.call(null,k);if(r(n))return n;k=b.C?b.C(k):b.call(null,k);if(r(k))return k;k=fc.C?fc.C(m):fc.call(null,m);if(r(k))return k;k=a.C?a.C(m):a.call(null,m);return r(k)?k:b.C?b.C(m):b.call(null,m)}function e(k){var m=fc.C?fc.C(k):fc.call(null,k);if(r(m))return m;m=a.C?a.C(k):a.call(null,k);return r(m)?m:b.C?b.C(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+
3],++z;z=new se(C,0,null)}return m.call(this,n,p,u,z)}function m(n,p,u,v){n=f.D(n,p,u);return r(n)?n:sh(function(z){var C=fc.C?fc.C(z):fc.call(null,z);if(r(C))return C;C=a.C?a.C(z):a.call(null,z);return r(C)?C:b.C?b.C(z):b.call(null,z)},v)}k.aa=3;k.fa=function(n){var p=H(n);n=J(n);var u=H(n);n=J(n);var v=H(n);n=ve(n);return m(p,u,v,n)};k.I=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,
k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new se(v,0,null)}return h.I(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.fa=h.fa;f.P=function(){return null};f.C=e;f.B=d;f.D=c;f.I=h.I;return f}()}
var Rh=function Rh(a){switch(arguments.length){case 1:return Rh.C(arguments[0]);case 2:return Rh.B(arguments[0],arguments[1]);case 3:return Rh.D(arguments[0],arguments[1],arguments[2]);case 4:return Rh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(4),0,null);return Rh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Rh.C=function(a){return function(b){return function(){function c(k,m){m=a.C?a.C(m):a.call(null,m);return b.B?b.B(k,m):b.call(null,k,m)}function d(k){return b.C?b.C(k):b.call(null,k)}function e(){return b.P?b.P():b.call(null)}var f=null,h=function(){function k(n,p,u){var v=null;if(2<arguments.length){v=0;for(var z=Array(arguments.length-2);v<z.length;)z[v]=arguments[v+2],++v;v=new se(z,0,null)}return m.call(this,n,p,v)}function m(n,p,u){p=Vg(a,p,u);return b.B?b.B(n,p):b.call(null,n,p)}k.aa=2;k.fa=
function(n){var p=H(n);n=J(n);var u=H(n);n=ve(n);return m(p,u,n)};k.I=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var p=null;if(2<arguments.length){p=0;for(var u=Array(arguments.length-2);p<u.length;)u[p]=arguments[p+2],++p;p=new se(u,0,null)}return h.I(k,m,p)}throw Error("Invalid arity: "+arguments.length);};f.aa=2;f.fa=h.fa;f.P=e;f.C=d;f.B=c;f.I=h.I;return f}()}};
Rh.B=function(a,b){return new wg(null,function(){var c=G(b);if(c){if(Af(c)){for(var d=Pd(c),e=K(d),f=Cg(e),h=0;;)if(h<e)Fg(f,function(){var k=x(d,h);return a.C?a.C(k):a.call(null,k)}()),h+=1;else break;return Eg(Gg(f),Rh.B(a,Qd(c)))}return Ze(function(){var k=H(c);return a.C?a.C(k):a.call(null,k)}(),Rh.B(a,ve(c)))}return null},null,null)};
Rh.D=function(a,b,c){return new wg(null,function(){var d=G(b),e=G(c);if(d&&e){var f=H(d);var h=H(e);f=a.B?a.B(f,h):a.call(null,f,h);d=Ze(f,Rh.D(a,ve(d),ve(e)))}else d=null;return d},null,null)};Rh.R=function(a,b,c,d){return new wg(null,function(){var e=G(b),f=G(c),h=G(d);if(e&&f&&h){var k=H(e);var m=H(f),n=H(h);k=a.D?a.D(k,m,n):a.call(null,k,m,n);e=Ze(k,Rh.R(a,ve(e),ve(f),ve(h)))}else e=null;return e},null,null)};
Rh.I=function(a,b,c,d,e){return Rh.B(function(f){return Ug(a,f)},function k(h){return new wg(null,function(){var m=Rh.B(G,h);return rh(Tf,m)?Ze(Rh.B(H,m),k(Rh.B(ve,m))):null},null,null)}(hf.I(e,d,M([c,b]))))};Rh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};Rh.aa=4;
var Sh=function Sh(a){switch(arguments.length){case 1:return Sh.C(arguments[0]);case 2:return Sh.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
Sh.C=function(a){return function(b){var c=Bh(a);return function(){function d(k,m){var n=y(c),p=c.ig(null,c.ic(null)-1);k=0<n?b.B?b.B(k,m):b.call(null,k,m):k;return 0<p?k:Ie(k)?k:Ge(k)}function e(k){return b.C?b.C(k):b.call(null,k)}function f(){return b.P?b.P():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.P=f;h.C=e;h.B=d;return h}()}};
Sh.B=function(a,b){return new wg(null,function(){if(0<a){var c=G(b);return c?Ze(H(c),Sh.B(a-1,ve(c))):null}return null},null,null)};Sh.aa=2;function Th(a,b){return new wg(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=ve(d);else break a;return d},null,null)}function Uh(a,b){return Rh.D(function(c){return c},b,Th(a,b))}
function Vh(a,b){return new wg(null,function(){a:for(var c=a,d=b;;){d=G(d);var e;if(e=d)e=H(d),e=c.C?c.C(e):c.call(null,e);if(r(e))d=ve(d);else break a}return d},null,null)}function Wh(a,b,c,d,e){this.meta=a;this.count=b;this.val=c;this.next=d;this.J=e;this.O=32374988;this.T=1}g=Wh.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){return null==this.next?1<this.count?this.next=new Wh(null,this.count-1,this.val,null,null):-1===this.count?this:null:this.next};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.gg=function(){return!1};g.jb=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.val,this.val):b.call(null,this.val,this.val);;){if(Ie(c))return y(c);c=b.B?b.B(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.B?b.B(c,this.val):b.call(null,c,this.val);if(Ie(c))return y(c);a+=1}else return c};
g.kb=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.val):b.call(null,c,this.val);;){if(Ie(c))return y(c);c=b.B?b.B(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.val):b.call(null,c,this.val);if(Ie(c))return y(c);a+=1}else return c};g.mb=function(){return this.val};g.wb=function(){return null==this.next?1<this.count?this.next=new Wh(null,this.count-1,this.val,null,null):-1===this.count?this:we:this.next};g.ka=function(){return this};
g.ha=function(a,b){return b===this.meta?this:new Wh(b,this.count,this.val,this.next,null)};g.na=function(a,b){return Ze(b,this)};function Xh(a){return new Wh(null,-1,a,null,null)}function Yh(a,b){return 0<a?new Wh(null,a,b,null,null):we}function Zh(a){return new wg(null,function(){return Ze(a.P?a.P():a.call(null),Zh(a))},null,null)}function $h(a,b){return Sh.B(a,Zh(b))}
var ai=function ai(a){switch(arguments.length){case 0:return ai.P();case 1:return ai.C(arguments[0]);case 2:return ai.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return ai.I(arguments[0],arguments[1],c)}};ai.P=function(){return we};ai.C=function(a){return new wg(null,function(){return a},null,null)};
ai.B=function(a,b){return new wg(null,function(){var c=G(a),d=G(b);return c&&d?Ze(H(c),Ze(H(d),ai.B(ve(c),ve(d)))):null},null,null)};ai.I=function(a,b,c){return new wg(null,function(){var d=Rh.B(G,hf.I(c,b,M([a])));return rh(Tf,d)?V.B(Rh.B(H,d),Ug(ai,Rh.B(ve,d))):null},null,null)};ai.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};ai.aa=2;
function bi(){return function(a){var b=Bh(!1);return function(){function c(h,k){if(r(y(b)))return h=a.B?a.B(h," "):a.call(null,h," "),Ie(h)?h:a.B?a.B(h,k):a.call(null,h,k);Wd(b,!0);return a.B?a.B(h,k):a.call(null,h,k)}function d(h){return a.C?a.C(h):a.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=
e;f.C=d;f.B=c;return f}()}}function ci(a,b){return Ug(V,Vg(Rh,a,b))}
function di(a){return function(b){return function(){function c(h,k){return r(a.C?a.C(k):a.call(null,k))?b.B?b.B(h,k):b.call(null,h,k):h}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return b.P?b.P():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}
function ei(a,b){return new wg(null,function(){var c=G(b);if(c){if(Af(c)){for(var d=Pd(c),e=K(d),f=Cg(e),h=0;;)if(h<e){var k=x(d,h);k=a.C?a.C(k):a.call(null,k);r(k)&&(k=x(d,h),f.add(k));h+=1}else break;return Eg(Gg(f),ei(a,Qd(c)))}d=H(c);c=ve(c);return r(a.C?a.C(d):a.call(null,d))?Ze(d,ei(a,c)):ei(a,c)}return null},null,null)}function fi(a,b){return ei(uh(a),b)}
var gi=function gi(a){switch(arguments.length){case 0:return gi.P();case 1:return gi.C(arguments[0]);case 2:return gi.B(arguments[0],arguments[1]);case 3:return gi.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};gi.P=function(){return jf};gi.C=function(a){return a};gi.B=function(a,b){return null!=a?null!=a&&(a.T&4||l===a.zi)?jd(Jd(w.D(Id,Hd(a),b)),rf(a)):w.D(Hc,a,b):w.D(hf,a,b)};
gi.D=function(a,b,c){return null!=a&&(a.T&4||l===a.zi)?jd(Jd(Wf(b,Mg,Hd(a),c)),rf(a)):Wf(b,hf,a,c)};gi.aa=3;
var hi=function hi(a){switch(arguments.length){case 2:return hi.B(arguments[0],arguments[1]);case 3:return hi.D(arguments[0],arguments[1],arguments[2]);case 4:return hi.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(4),0,null);return hi.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
hi.B=function(a,b){return Jd(w.D(function(c,d){return Mg.B(c,a.C?a.C(d):a.call(null,d))},Hd(jf),b))};hi.D=function(a,b,c){return gi.B(jf,Rh.D(a,b,c))};hi.R=function(a,b,c,d){return gi.B(jf,Rh.R(a,b,c,d))};hi.I=function(a,b,c,d,e){return gi.B(jf,Yg(Rh,a,b,c,d,M([e])))};hi.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};hi.aa=4;function ii(a,b){return Jd(w.D(function(c,d){return r(a.C?a.C(d):a.call(null,d))?Mg.B(c,d):c},Hd(jf),b))}
function ji(a,b,c){return new wg(null,function(){var d=G(c);if(d){var e=Sh.B(a,d);return a===K(e)?Ze(e,ji(a,b,Th(b,d))):null}return null},null,null)}function ki(a,b){return w.D(B,a,b)}function li(a,b){var c=Cf;for(b=G(b);;)if(null!=b){a=B.D(a,H(b),c);if(c===a)return null;b=J(b)}else return a}
var mi=function mi(a,b,c){var e=G(b);b=H(e);var f=J(e);if(f){e=Q.D;var h=B.B(a,b);c=mi.D?mi.D(h,f,c):mi.call(null,h,f,c);a=e.call(Q,a,b,c)}else a=Q.D(a,b,c);return a},ni=function ni(a){switch(arguments.length){case 3:return ni.D(arguments[0],arguments[1],arguments[2]);case 4:return ni.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ni.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ni.Ra(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(6),0,null);return ni.I(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ni.D=function(a,b,c){var d=G(b);b=H(d);if(d=J(d))a=Q.D(a,b,ni.D(B.B(a,b),d,c));else{d=Q.D;var e=B.B(a,b);c=c.C?c.C(e):c.call(null,e);a=d.call(Q,a,b,c)}return a};
ni.R=function(a,b,c,d){var e=G(b);b=H(e);if(e=J(e))a=Q.D(a,b,ni.R(B.B(a,b),e,c,d));else{e=Q.D;var f=B.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);a=e.call(Q,a,b,c)}return a};ni.ma=function(a,b,c,d,e){var f=G(b);b=H(f);if(f=J(f))a=Q.D(a,b,ni.ma(B.B(a,b),f,c,d,e));else{f=Q.D;var h=B.B(a,b);c=c.D?c.D(h,d,e):c.call(null,h,d,e);a=f.call(Q,a,b,c)}return a};
ni.Ra=function(a,b,c,d,e,f){var h=G(b);b=H(h);if(h=J(h))a=Q.D(a,b,ni.Ra(B.B(a,b),h,c,d,e,f));else{h=Q.D;var k=B.B(a,b);c=c.R?c.R(k,d,e,f):c.call(null,k,d,e,f);a=h.call(Q,a,b,c)}return a};ni.I=function(a,b,c,d,e,f,h){var k=G(b);b=H(k);return(k=J(k))?Q.D(a,b,Yg(ni,B.B(a,b),k,c,d,M([e,f,h]))):Q.D(a,b,Yg(c,B.B(a,b),d,e,f,M([h])))};ni.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.I(b,a,c,d,e,f,h)};ni.aa=6;
var oi=function oi(a){switch(arguments.length){case 3:return oi.D(arguments[0],arguments[1],arguments[2]);case 4:return oi.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return oi.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return oi.Ra(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(6),0,null);return oi.I(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};oi.D=function(a,b,c){var d=Q.D,e=B.B(a,b);c=c.C?c.C(e):c.call(null,e);return d.call(Q,a,b,c)};oi.R=function(a,b,c,d){var e=Q.D,f=B.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(Q,a,b,c)};oi.ma=function(a,b,c,d,e){var f=Q.D,h=B.B(a,b);c=c.D?c.D(h,d,e):c.call(null,h,d,e);return f.call(Q,a,b,c)};oi.Ra=function(a,b,c,d,e,f){var h=Q.D,k=B.B(a,b);c=c.R?c.R(k,d,e,f):c.call(null,k,d,e,f);return h.call(Q,a,b,c)};
oi.I=function(a,b,c,d,e,f,h){return Q.D(a,b,Yg(c,B.B(a,b),d,e,f,M([h])))};oi.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.I(b,a,c,d,e,f,h)};oi.aa=6;function pi(a,b){this.Xa=a;this.K=b}function qi(a){return new pi(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function ri(a){return new pi(a.Xa,uc(a.K))}function si(a){a=a.ca;return 32>a?0:a-1>>>5<<5}function ti(a,b,c){for(;;){if(0===b)return c;var d=qi(a);d.K[0]=c;c=d;b-=5}}var ui=function ui(a,b,c,d){var f=ri(c),h=a.ca-1>>>b&31;5===b?f.K[h]=d:(c=c.K[h],null!=c?(b-=5,a=ui.R?ui.R(a,b,c,d):ui.call(null,a,b,c,d)):a=ti(null,b-5,d),f.K[h]=a);return f};function vi(a,b){throw Error(["No item ",t.C(a)," in vector of length ",t.C(b)].join(""));}
function wi(a,b){if(b>=si(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.K[b>>>a&31];a=d}else return c.K}function xi(a,b){return 0<=b&&b<a.ca?wi(a,b):vi(b,a.ca)}
var yi=function yi(a,b,c,d,e){var h=ri(c);if(0===b)h.K[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.K[k];a=yi.ma?yi.ma(a,b,c,d,e):yi.call(null,a,b,c,d,e);h.K[k]=a}return h},zi=function zi(a,b,c){var e=a.ca-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=zi.D?zi.D(a,b,f):zi.call(null,a,b,f);if(null==a&&0===e)return null;c=ri(c);c.K[e]=a;return c}if(0===e)return null;c=ri(c);c.K[e]=null;return c};function Ai(a,b,c,d,e,f){this.i=a;this.base=b;this.K=c;this.v=d;this.start=e;this.end=f}
Ai.prototype.Ua=function(){return this.i<this.end};Ai.prototype.next=function(){32===this.i-this.base&&(this.K=wi(this.v,this.i),this.base+=32);var a=this.K[this.i&31];this.i+=1;return a};function Bi(a,b,c){return new Ai(b,b-b%32,b<K(a)?wi(a,b):null,a,b,c)}function Ci(a,b,c,d){return c<d?Di(a,b,Te(a,c),c+1,d):b.P?b.P():b.call(null)}
function Di(a,b,c,d,e){var f=c;c=d;for(d=wi(a,d);;)if(c<e){var h=c&31;d=0===h?wi(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(Ie(f))return y(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.ca=b;this.shift=c;this.root=d;this.tail=e;this.J=f;this.O=167666463;this.T=139268}g=X.prototype;g.be=function(a,b){return 0<=b&&b<this.ca?new Y(b,wi(this,b)[b&31],null):null};g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return"number"===typeof b?this.ob(null,b,c):c};
g.xa=function(a,b,c){a=0;for(var d=c;;)if(a<this.ca){var e=wi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(Ie(d)){e=d;break a}f+=1}else{e=d;break a}if(Ie(e))return y(e);a+=c;d=e}else return d};g.Yg=l;g.Da=function(a,b){return xi(this,b)[b&31]};g.ob=function(a,b,c){return 0<=b&&b<this.ca?wi(this,b)[b&31]:c};
g.Bd=function(a,b,c){if(0<=b&&b<this.ca)return si(this)<=b?(a=uc(this.tail),a[b&31]=c,new X(this.meta,this.ca,this.shift,this.root,a,null)):new X(this.meta,this.ca,this.shift,yi(this,this.shift,this.root,b,c),this.tail,null);if(b===this.ca)return this.na(null,c);throw Error(["Index ",t.C(b)," out of bounds  [0,",t.C(this.ca),"]"].join(""));};g.qa=function(){return Bi(this,0,this.ca)};g.ga=function(){return this.meta};g.pa=function(){return new X(this.meta,this.ca,this.shift,this.root,this.tail,this.J)};
g.la=function(){return this.ca};g.ce=function(){return 0<this.ca?this.Da(null,this.ca-1):null};
g.de=function(){if(0===this.ca)throw Error("Can't pop empty vector");if(1===this.ca)return jd(jf,this.meta);if(1<this.ca-si(this))return new X(this.meta,this.ca-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=wi(this,this.ca-2),b=zi(this,this.shift,this.root);b=null==b?Z:b;var c=this.ca-1;return 5<this.shift&&null==b.K[1]?new X(this.meta,c,this.shift-5,b.K[0],a,null):new X(this.meta,c,this.shift,b,a,null)};g.Wc=function(){return 0<this.ca?new Xe(this,this.ca-1,null):null};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){if(b instanceof X)if(this.ca===K(b))for(a=this.qa(null),b=b.qa(null);;)if(a.Ua()){var c=a.next(),d=b.next();if(!E.B(c,d))return!1}else return!0;else return!1;else return Ye(this,b)};g.se=function(){return new Ei(this.ca,this.shift,Fi.C?Fi.C(this.root):Fi.call(null,this.root),Gi.C?Gi.C(this.tail):Gi.call(null,this.tail))};g.Pa=function(){return jd(jf,this.meta)};g.jb=function(a,b){return Ci(this,b,0,this.ca)};
g.kb=function(a,b,c){a=0;for(var d=c;;)if(a<this.ca){var e=wi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(Ie(d)){e=d;break a}f+=1}else{e=d;break a}if(Ie(e))return y(e);a+=c;d=e}else return d};g.ea=function(a,b,c){if("number"===typeof b)return this.Bd(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.ra=function(a,b){return Hf(b)?0<=b&&b<this.ca:!1};
g.ka=function(){if(0===this.ca)return null;if(32>=this.ca)return new se(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.K[0];else{a=a.K;break a}}return Hi?Hi(this,a,0,0):Ji.call(null,this,a,0,0)};g.ha=function(a,b){return b===this.meta?this:new X(b,this.ca,this.shift,this.root,this.tail,this.J)};
g.na=function(a,b){if(32>this.ca-si(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.ca+1,this.shift,this.root,c,null)}a=(c=this.ca>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=qi(null),c.K[0]=this.root,d=ti(null,this.shift,new pi(null,this.tail)),c.K[1]=d):c=ui(this,this.shift,this.root,new pi(null,this.tail));return new X(this.meta,this.ca+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){if("number"===typeof a)return this.Da(null,a);throw Error("Key must be integer");};
var Z=new pi(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),jf=new X(null,0,5,Z,[],Be);function Ki(a,b){var c=a.length;a=b?a:uc(a);if(32>c)return new X(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Z,d,null)).se(null);;)if(b<c)d=b+1,e=Mg.B(e,a[b]),b=d;else return Jd(e)}X.prototype[rc]=function(){return ye(this)};
function Li(a){return r(Mi.C?Mi.C(a):Mi.call(null,a))?new X(null,2,5,Z,[Ni.C?Ni.C(a):Ni.call(null,a),Oi.C?Oi.C(a):Oi.call(null,a)],null):zf(a)?qf(a,null):gc(a)?Ki(a,!0):Jd(w.D(Id,Hd(jf),a))}var Pi=function Pi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return Pi.I(c)};Pi.I=function(a){return a instanceof se&&0===a.i?Ki(a.K,!gc(a.K)):Li(a)};Pi.aa=0;Pi.fa=function(a){return this.I(G(a))};
function Qi(a,b,c,d,e,f){this.Sc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.J=f;this.O=32375020;this.T=1536}g=Qi.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){if(this.off+1<this.node.length){var a=this.Sc;var b=this.node,c=this.i,d=this.off+1;a=Hi?Hi(a,b,c,d):Ji.call(null,a,b,c,d);return null==a?null:a}return this.Te()};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return Ci(this.Sc,b,this.i+this.off,K(this.Sc))};g.kb=function(a,b,c){return Di(this.Sc,b,c,this.i+this.off,K(this.Sc))};g.mb=function(){return this.node[this.off]};g.wb=function(){if(this.off+1<this.node.length){var a=this.Sc;var b=this.node,c=this.i,d=this.off+1;a=Hi?Hi(a,b,c,d):Ji.call(null,a,b,c,d);return null==a?we:a}return this.ae(null)};g.ka=function(){return this};
g.Ue=function(){var a=this.node;return new Bg(a,this.off,a.length)};g.ae=function(){var a=this.i+this.node.length;if(a<Dc(this.Sc)){var b=this.Sc,c=wi(this.Sc,a);return Hi?Hi(b,c,a,0):Ji.call(null,b,c,a,0)}return we};g.ha=function(a,b){return b===this.meta?this:Ri?Ri(this.Sc,this.node,this.i,this.off,b):Ji.call(null,this.Sc,this.node,this.i,this.off,b)};g.na=function(a,b){return Ze(b,this)};
g.Te=function(){var a=this.i+this.node.length;if(a<Dc(this.Sc)){var b=this.Sc,c=wi(this.Sc,a);return Hi?Hi(b,c,a,0):Ji.call(null,b,c,a,0)}return null};Qi.prototype[rc]=function(){return ye(this)};
function Ji(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Qi(b,xi(b,c),c,d,null,null);case 4:return Hi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ri(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Hi(a,b,c,d){return new Qi(a,b,c,d,null,null)}function Ri(a,b,c,d,e){return new Qi(a,b,c,d,e,null)}
function Si(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.J=e;this.O=167666463;this.T=139264}g=Si.prototype;g.be=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,Qc(this.v,a),null):null};g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return"number"===typeof b?this.ob(null,b,c):c};
g.xa=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(Ie(c))return y(c);d+=1;a+=1}else return c};g.Da=function(a,b){return 0>b||this.end<=this.start+b?vi(b,this.end-this.start):x(this.v,this.start+b)};g.ob=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Bd=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.C(b)," out of bounds [0,",t.C(this.la(null)),"]"].join(""));b=this.meta;c=Q.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Ti.ma?Ti.ma(b,c,d,a,null):Ti.call(null,b,c,d,a,null)};g.qa=function(){return null!=this.v&&l===this.v.Yg?Bi(this.v,this.start,this.end):new hh(this)};g.ga=function(){return this.meta};g.pa=function(){return new Si(this.meta,this.v,this.start,this.end,this.J)};
g.la=function(){return this.end-this.start};g.ce=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.de=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Ti.ma?Ti.ma(a,b,c,d,null):Ti.call(null,a,b,c,d,null)};g.Wc=function(){return this.start!==this.end?new Xe(this,this.end-this.start-1,null):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};
g.Pa=function(){return jd(jf,this.meta)};g.jb=function(a,b){return null!=this.v&&l===this.v.Yg?Ci(this.v,b,this.start,this.end):Le(this,b)};g.kb=function(a,b,c){return null!=this.v&&l===this.v.Yg?Di(this.v,b,c,this.start,this.end):Me(this,b,c)};g.ea=function(a,b,c){if("number"===typeof b)return this.Bd(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ra=function(a,b){return Hf(b)?0<=b&&b<this.end-this.start:!1};
g.ka=function(){var a=this;return function d(c){return c===a.end?null:Ze(x(a.v,c),new wg(null,function(){return d(c+1)},null,null))}(a.start)};g.ha=function(a,b){return b===this.meta?this:Ti.ma?Ti.ma(b,this.v,this.start,this.end,this.J):Ti.call(null,b,this.v,this.start,this.end,this.J)};g.na=function(a,b){a=this.meta;b=ed(this.v,this.end,b);var c=this.start,d=this.end+1;return Ti.ma?Ti.ma(a,b,c,d,null):Ti.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.ob(null,a,b)};Si.prototype[rc]=function(){return ye(this)};
function Ti(a,b,c,d,e){for(;;)if(b instanceof Si)c=b.start+c,d=b.start+d,b=b.v;else{if(!zf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>K(b))throw Error("Index out of bounds");return new Si(a,b,c,d,e)}}function Ui(a,b,c){return Ti(null,a,b|0,c|0,null)}function Vi(a,b){return a===b.Xa?b:new pi(a,uc(b.K))}function Fi(a){return new pi({},uc(a.K))}
function Gi(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Bf(a,0,b,0,a.length);return b}var Wi=function Wi(a,b,c,d){c=Vi(a.root.Xa,c);var f=a.ca-1>>>b&31;if(5===b)a=d;else{var h=c.K[f];null!=h?(b-=5,a=Wi.R?Wi.R(a,b,h,d):Wi.call(null,a,b,h,d)):a=ti(a.root.Xa,b-5,d)}c.K[f]=a;return c};function Ei(a,b,c,d){this.ca=a;this.shift=b;this.root=c;this.tail=d;this.T=88;this.O=275}g=Ei.prototype;
g.te=function(a,b){if(this.root.Xa){if(32>this.ca-si(this))this.tail[this.ca&31]=b;else{a=new pi(this.root.Xa,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.ca>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=ti(this.root.Xa,this.shift,a),this.root=new pi(this.root.Xa,b),this.shift=c):this.root=Wi(this,this.shift,this.root,a)}this.ca+=1;return this}throw Error("conj! after persistent!");};g.De=function(){if(this.root.Xa){this.root.Xa=null;var a=this.ca-si(this),b=Array(a);Bf(this.tail,0,b,0,a);return new X(null,this.ca,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.We=function(a,b,c){if("number"===typeof b)return Xi(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Xi(a,b,c){if(a.root.Xa){if(0<=b&&b<a.ca){if(si(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Vi(a.root.Xa,h);if(0===f)h.K[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.K[m]);h.K[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.ca)return a.te(null,c);throw Error(["Index ",t.C(b)," out of bounds for TransientVector of length",t.C(a.ca)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.Xa)return this.ca;throw Error("count after persistent!");};
g.Da=function(a,b){if(this.root.Xa)return xi(this,b)[b&31];throw Error("nth after persistent!");};g.ob=function(a,b,c){return 0<=b&&b<this.ca?this.Da(null,b):c};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){if(this.root.Xa)return"number"===typeof b?this.ob(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};function Yi(a,b){this.Ze=a;this.Tf=b}Yi.prototype.Ua=function(){var a=null!=this.Ze&&G(this.Ze);return a?a:(a=null!=this.Tf)?this.Tf.Ua():a};
Yi.prototype.next=function(){if(null!=this.Ze){var a=H(this.Ze);this.Ze=J(this.Ze);return a}if(null!=this.Tf&&this.Tf.Ua())return this.Tf.next();throw Error("No such element");};Yi.prototype.remove=function(){return Error("Unsupported operation")};function Zi(a,b,c,d){this.meta=a;this.wc=b;this.Ic=c;this.J=d;this.O=31850700;this.T=0}g=Zi.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){var a=J(this.wc);return a?new Zi(this.meta,a,this.Ic,null):null!=this.Ic?new Zi(this.meta,this.Ic,null,null):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return jd(we,this.meta)};g.mb=function(){return H(this.wc)};g.wb=function(){var a=J(this.wc);return a?new Zi(this.meta,a,this.Ic,null):null==this.Ic?this.Pa(null):new Zi(this.meta,this.Ic,null,null)};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Zi(b,this.wc,this.Ic,this.J)};g.na=function(a,b){return Ze(b,this)};Zi.prototype[rc]=function(){return ye(this)};
function $i(a,b,c,d,e){this.meta=a;this.count=b;this.wc=c;this.Ic=d;this.J=e;this.T=139264;this.O=31858766}g=$i.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,this.count.C?this.count.C(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.qa=function(){return new Yi(this.wc,Yd(this.Ic))};g.ga=function(){return this.meta};g.pa=function(){return new $i(this.meta,this.count,this.wc,this.Ic,this.J)};g.la=function(){return this.count};
g.ce=function(){return H(this.wc)};g.de=function(){if(r(this.wc)){var a=J(this.wc);return a?new $i(this.meta,this.count-1,a,this.Ic,null):new $i(this.meta,this.count-1,G(this.Ic),jf,null)}return this};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return jd(aj,this.meta)};g.mb=function(){return H(this.wc)};g.wb=function(){return ve(G(this))};
g.ka=function(){var a=G(this.Ic),b=this.wc;return r(r(b)?b:a)?new Zi(null,this.wc,G(a),null):null};g.ha=function(a,b){return b===this.meta?this:new $i(b,this.count,this.wc,this.Ic,this.J)};g.na=function(a,b){r(this.wc)?(a=this.Ic,b=new $i(this.meta,this.count+1,this.wc,hf.B(r(a)?a:jf,b),null)):b=new $i(this.meta,this.count+1,hf.B(this.wc,b),jf,null);return b};var aj=new $i(null,0,null,jf,Be);$i.prototype[rc]=function(){return ye(this)};function bj(){this.O=2097152;this.T=0}
bj.prototype.equiv=function(a){return this.da(null,a)};bj.prototype.da=function(){return!1};var cj=new bj;function dj(a,b){return Ff(xf(b)&&!yf(b)?K(a)===K(b)?(null!=a?a.O&1048576||l===a.dm||(a.O?0:nc(nd,a)):nc(nd,a))?Sf(function(c,d,e){return E.B(B.D(b,d,cj),e)?!0:Ge(!1)},!0,a):rh(function(c){return E.B(B.D(b,H(c),cj),ef(c))},a):null:null)}function ej(a,b,c,d){this.i=0;this.Fl=a;this.si=b;this.fields=c;this.Oi=d}ej.prototype.Ua=function(){var a=this.i<this.si;return a?a:this.Oi.Ua()};
ej.prototype.next=function(){if(this.i<this.si){var a=Te(this.fields,this.i);this.i+=1;return new Y(a,Qc(this.Fl,a),null)}return this.Oi.next()};ej.prototype.remove=function(){return Error("Unsupported operation")};function fj(a){this.s=a}fj.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=N(a,0,null);a=N(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function gj(a){this.s=a}
gj.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function hj(a,b){if(b instanceof D)a:{var c=a.length;b=b.ba;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof D&&b===a[d].ba){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof A)a:for(c=a.length,b=b.zc,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof A&&b===a[d].zc){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(E.B(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b,c){this.key=a;this.val=b;this.J=c;this.O=166619935;this.T=0}g=Y.prototype;g.be=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.oa=function(a,b){return this.ob(null,b,null)};g.Y=function(a,b,c){return this.ob(null,b,c)};g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.ob=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Bd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Bd(null,b,c)};g.ga=function(){return null};g.la=function(){return 2};g.$g=function(){return this.key};g.ah=function(){return this.val};g.ce=function(){return this.val};g.de=function(){return new X(null,1,5,Z,[this.key],null)};g.Wc=function(){return new se([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return null};g.jb=function(a,b){return Le(this,b)};g.kb=function(a,b,c){return Me(this,b,c)};g.ea=function(a,b,c){return Q.D(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.ka=function(){return new se([this.key,this.val],0,null)};g.ha=function(a,b){return qf(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.ob(null,a,b)};function Mi(a){return null!=a?a.O&2048||l===a.hm?!0:!1:!1}function ij(a,b,c){this.K=a;this.i=b;this.ld=c;this.O=32374990;this.T=0}g=ij.prototype;
g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.ld};g.Va=function(){return this.i<this.K.length-2?new ij(this.K,this.i+2,null):null};g.la=function(){return(this.K.length-this.i)/2};g.ja=function(){return Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){return new Y(this.K[this.i],this.K[this.i+1],null)};g.wb=function(){return this.i<this.K.length-2?new ij(this.K,this.i+2,null):we};g.ka=function(){return this};g.ha=function(a,b){return b===this.ld?this:new ij(this.K,this.i,b)};g.na=function(a,b){return Ze(b,this)};ij.prototype[rc]=function(){return ye(this)};
function jj(a,b){this.K=a;this.i=0;this.ca=b}jj.prototype.Ua=function(){return this.i<this.ca};jj.prototype.next=function(){var a=new Y(this.K[this.i],this.K[this.i+1],null);this.i+=2;return a};function q(a,b,c,d){this.meta=a;this.ca=b;this.K=c;this.J=d;this.O=16647951;this.T=139268}g=q.prototype;g.be=function(a,b){a=hj(this.K,b);return-1===a?null:new Y(this.K[a],this.K[a+1],null)};g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.keys=function(){return ye(kj.C?kj.C(this):kj.call(null,this))};g.entries=function(){return new fj(G(G(this)))};g.values=function(){return ye(lj.C?lj.C(this):lj.call(null,this))};g.has=function(a){return S(this,a)};g.get=function(a,b){return this.Y(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=hj(this.K,b);return-1===a?c:this.K[a+1]};
g.xa=function(a,b,c){a=this.K.length;for(var d=0;;)if(d<a){var e=this.K[d],f=this.K[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(Ie(c))return y(c);d+=2}else return c};g.qa=function(){return new jj(this.K,2*this.ca)};g.ga=function(){return this.meta};g.pa=function(){return new q(this.meta,this.ca,this.K,this.J)};g.la=function(){return this.ca};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};
g.da=function(a,b){if(xf(b)&&!yf(b))if(a=this.K.length,this.ca===b.la(null))for(var c=0;;)if(c<a){var d=b.Y(null,this.K[c],Cf);if(d!==Cf)if(E.B(this.K[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.se=function(){return new mj(this.K.length,uc(this.K))};g.Pa=function(){return jd(W,this.meta)};g.jb=function(a,b){return Qf(this,b)};g.kb=function(a,b,c){return Rf(this,b,c)};
g.za=function(a,b){if(0<=hj(this.K,b)){a=this.K.length;var c=a-2;if(0===c)return this.Pa(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new q(this.meta,this.ca-1,c,null);E.B(b,this.K[d])?d+=2:(c[e]=this.K[d],c[e+1]=this.K[d+1],e+=2,d+=2)}}else return this};
g.ea=function(a,b,c){a=hj(this.K,b);if(-1===a){if(this.ca<nj){a=this.K;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new q(this.meta,this.ca+1,e,null)}return jd(Uc(gi.B(oj,this),b,c),this.meta)}if(c===this.K[a+1])return this;b=uc(this.K);b[a+1]=c;return new q(this.meta,this.ca,b,null)};g.ra=function(a,b){return-1!==hj(this.K,b)};g.ka=function(){var a=this.K;return 0<=a.length-2?new ij(a,0,null):null};
g.ha=function(a,b){return b===this.meta?this:new q(b,this.ca,this.K,this.J)};g.na=function(a,b){if(zf(b))return this.ea(null,x(b,0),x(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=H(b);if(zf(c))a=Uc(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var W=new q(null,0,[],De),nj=8;
function pj(a,b,c){a=b?a:uc(a);if(!c){c=[];for(b=0;;)if(b<a.length){var d=a[b],e=a[b+1];-1===hj(c,d)&&(c.push(d),c.push(e));b+=2}else break;a=c}return new q(null,a.length/2,a,null)}function nf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=hj(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new q(null,b.length/2,b,null)}q.prototype[rc]=function(){return ye(this)};function mj(a,b){this.Fe={};this.Gd=a;this.K=b;this.O=259;this.T=56}g=mj.prototype;
g.la=function(){if(this.Fe)return gg(this.Gd,2);throw Error("count after persistent!");};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){if(this.Fe)return a=hj(this.K,b),-1===a?c:this.K[a+1];throw Error("lookup after persistent!");};
g.te=function(a,b){if(this.Fe){if(Mi(b))return this.We(null,Ni.C?Ni.C(b):Ni.call(null,b),Oi.C?Oi.C(b):Oi.call(null,b));if(zf(b))return this.We(null,b.C?b.C(0):b.call(null,0),b.C?b.C(1):b.call(null,1));a=G(b);for(b=this;;){var c=H(a);if(r(c))a=J(a),b=Kd(b,Ni.C?Ni.C(c):Ni.call(null,c),Oi.C?Oi.C(c):Oi.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.De=function(){if(this.Fe)return this.Fe=!1,new q(null,gg(this.Gd,2),this.K,null);throw Error("persistent! called twice");};
g.We=function(a,b,c){if(this.Fe){a=hj(this.K,b);if(-1===a)return this.Gd+2<=2*nj?(this.Gd+=2,this.K.push(b),this.K.push(c),this):Ng(qj.B?qj.B(this.Gd,this.K):qj.call(null,this.Gd,this.K),b,c);c!==this.K[a+1]&&(this.K[a+1]=c);return this}throw Error("assoc! after persistent!");};g.hh=function(a,b){if(this.Fe)return a=hj(this.K,b),0<=a&&(this.K[a]=this.K[this.Gd-2],this.K[a+1]=this.K[this.Gd-1],a=this.K,a.pop(),a.pop(),this.Gd-=2),this;throw Error("dissoc! after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Y(null,a,null)};g.B=function(a,b){return this.Y(null,a,b)};function qj(a,b){for(var c=Hd(oj),d=0;;)if(d<a)c=Kd(c,b[d],b[d+1]),d+=2;else return c}function rj(){this.val=!1}
function sj(a,b){return a===b?!0:U(a,b)?!0:E.B(a,b)}function tj(a,b,c){a=uc(a);a[b]=c;return a}function uj(a,b){var c=Array(a.length-2);Bf(a,0,c,0,2*b);Bf(a,2*(b+1),c,2*b,c.length-2*b);return c}function vj(a,b,c,d){a=a.ie(b);a.K[c]=d;return a}function wj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Le(b,f):f;if(Ie(c))return c;e+=2;f=c}else return f}function xj(a){this.K=a;this.i=0;this.Hd=this.Nf=null}
xj.prototype.advance=function(){for(var a=this.K.length;;)if(this.i<a){var b=this.K[this.i],c=this.K[this.i+1];null!=b?b=this.Nf=new Y(b,c,null):null!=c?(b=Yd(c),b=b.Ua()?this.Hd=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};xj.prototype.Ua=function(){var a=null!=this.Nf;return a?a:(a=null!=this.Hd)?a:this.advance()};
xj.prototype.next=function(){if(null!=this.Nf){var a=this.Nf;this.Nf=null;return a}if(null!=this.Hd)return a=this.Hd.next(),this.Hd.Ua()||(this.Hd=null),a;if(this.advance())return this.next();throw Error("No such element");};xj.prototype.remove=function(){return Error("Unsupported operation")};function yj(a,b,c){this.Xa=a;this.bitmap=b;this.K=c;this.T=131072;this.O=0}g=yj.prototype;
g.ie=function(a){if(a===this.Xa)return this;var b=ig(this.bitmap),c=Array(0>b?4:2*(b+1));Bf(this.K,0,c,0,2*b);return new yj(a,this.bitmap,c)};g.Kf=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=ig(this.bitmap&f-1),k=this.K[2*h],m=this.K[2*h+1];return null==k?(b=m.Kf(a,b+5,c,d,e),b===m?this:null!=b?vj(this,a,2*h+1,b):this.bitmap===f?null:zj(this,a,f,h)):sj(d,k)?(e.val=!0,zj(this,a,f,h)):this};
function zj(a,b,c,d){if(a.bitmap===c)return null;a=a.ie(b);b=a.K;var e=b.length;a.bitmap^=c;Bf(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.If=function(){return Aj?Aj(this.K):Bj.call(null,this.K)};g.Le=function(a,b){return wj(this.K,a,b)};g.ze=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ig(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.ze(a+5,b,c,d):sj(c,e)?f:d};
g.Fd=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ig(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=ig(this.bitmap);if(2*m<this.K.length){a=this.ie(a);b=a.K;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Cj.Fd(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.K[e]?Cj.Fd(a,b+5,ke(this.K[e]),this.K[e],this.K[e+1],f):this.K[e+1],e+=2,d+=1);else break;return new Dj(a,m+1,k)}b=Array(2*(m+4));Bf(this.K,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Bf(this.K,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.ie(a);a.K=b;a.bitmap|=h;return a}m=this.K[2*k];h=this.K[2*k+1];if(null==m)return m=h.Fd(a,b+5,c,d,e,f),m===h?this:vj(this,a,2*k+1,m);if(sj(d,m))return e===h?this:vj(this,a,2*k+1,e);f.val=!0;f=b+5;d=Ej?Ej(a,f,m,h,c,d,e):Fj.call(null,a,
f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.ie(a);a.K[e]=null;a.K[k]=d;return a};
g.Ed=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ig(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ig(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Cj.Ed(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.K[d]?Cj.Ed(a+5,ke(this.K[d]),this.K[d],this.K[d+1],e):this.K[d+1],d+=2,c+=1);else break;return new Dj(null,k+1,h)}a=Array(2*
(k+1));Bf(this.K,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Bf(this.K,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new yj(null,this.bitmap|f,a)}var m=this.K[2*h];f=this.K[2*h+1];if(null==m)return k=f.Ed(a+5,b,c,d,e),k===f?this:new yj(null,this.bitmap,tj(this.K,2*h+1,k));if(sj(c,m))return d===f?this:new yj(null,this.bitmap,tj(this.K,2*h+1,d));e.val=!0;e=this.bitmap;k=this.K;a+=5;a=Gj?Gj(a,m,f,b,c,d):Fj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=uc(k);d[c]=null;d[h]=a;return new yj(null,e,d)};
g.Hf=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ig(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Hf(a+5,b,c,d):sj(c,e)?new Y(e,f,null):d};
g.Jf=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ig(this.bitmap&d-1),f=this.K[2*e],h=this.K[2*e+1];return null==f?(a=h.Jf(a+5,b,c),a===h?this:null!=a?new yj(null,this.bitmap,tj(this.K,2*e+1,a)):this.bitmap===d?null:new yj(null,this.bitmap^d,uj(this.K,e))):sj(c,f)?new yj(null,this.bitmap^d,uj(this.K,e)):this};g.qa=function(){return new xj(this.K)};var Cj=new yj(null,0,[]);
function Hj(a,b,c){var d=a.K,e=d.length;a=Array(2*(a.ca-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new yj(b,k,a)}function Ij(a){this.K=a;this.i=0;this.Hd=null}Ij.prototype.Ua=function(){for(var a=this.K.length;;){if(null!=this.Hd&&this.Hd.Ua())return!0;if(this.i<a){var b=this.K[this.i];this.i+=1;null!=b&&(this.Hd=Yd(b))}else return!1}};Ij.prototype.next=function(){if(this.Ua())return this.Hd.next();throw Error("No such element");};
Ij.prototype.remove=function(){return Error("Unsupported operation")};function Dj(a,b,c){this.Xa=a;this.ca=b;this.K=c;this.T=131072;this.O=0}g=Dj.prototype;g.ie=function(a){return a===this.Xa?this:new Dj(a,this.ca,uc(this.K))};g.Kf=function(a,b,c,d,e){var f=c>>>b&31,h=this.K[f];if(null==h)return this;b=h.Kf(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.ca)return Hj(this,a,f);a=vj(this,a,f,b);--a.ca;return a}return vj(this,a,f,b)};g.If=function(){return Jj?Jj(this.K):Kj.call(null,this.K)};
g.Le=function(a,b){for(var c=this.K.length,d=0;;)if(d<c){var e=this.K[d];if(null!=e){b=e.Le(a,b);if(Ie(b))return b;d+=1}else d+=1}else return b};g.ze=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.ze(a+5,b,c,d):d};g.Fd=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.K[h];if(null==k)return a=vj(this,a,h,Cj.Fd(a,b+5,c,d,e,f)),a.ca+=1,a;b=k.Fd(a,b+5,c,d,e,f);return b===k?this:vj(this,a,h,b)};
g.Ed=function(a,b,c,d,e){var f=b>>>a&31,h=this.K[f];if(null==h)return new Dj(null,this.ca+1,tj(this.K,f,Cj.Ed(a+5,b,c,d,e)));a=h.Ed(a+5,b,c,d,e);return a===h?this:new Dj(null,this.ca,tj(this.K,f,a))};g.Hf=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Hf(a+5,b,c,d):d};g.Jf=function(a,b,c){var d=b>>>a&31,e=this.K[d];return null!=e?(a=e.Jf(a+5,b,c),a===e?this:null==a?8>=this.ca?Hj(this,null,d):new Dj(null,this.ca-1,tj(this.K,d,a)):new Dj(null,this.ca,tj(this.K,d,a))):this};g.qa=function(){return new Ij(this.K)};
function Lj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(sj(c,a[d]))return d;d+=2}else return-1}function Mj(a,b,c,d){this.Xa=a;this.ge=b;this.ca=c;this.K=d;this.T=131072;this.O=0}g=Mj.prototype;g.ie=function(a){if(a===this.Xa)return this;var b=Array(2*(this.ca+1));Bf(this.K,0,b,0,2*this.ca);return new Mj(a,this.ge,this.ca,b)};
g.Kf=function(a,b,c,d,e){b=Lj(this.K,this.ca,d);if(-1===b)return this;e.val=!0;if(1===this.ca)return null;a=this.ie(a);e=a.K;e[b]=e[2*this.ca-2];e[b+1]=e[2*this.ca-1];e[2*this.ca-1]=null;e[2*this.ca-2]=null;--a.ca;return a};g.If=function(){return Aj?Aj(this.K):Bj.call(null,this.K)};g.Le=function(a,b){return wj(this.K,a,b)};g.ze=function(a,b,c,d){a=Lj(this.K,this.ca,c);return 0>a?d:sj(c,this.K[a])?this.K[a+1]:d};
g.Fd=function(a,b,c,d,e,f){if(c===this.ge){b=Lj(this.K,this.ca,d);if(-1===b){if(this.K.length>2*this.ca)return b=2*this.ca,c=2*this.ca+1,a=this.ie(a),a.K[b]=d,a.K[c]=e,f.val=!0,a.ca+=1,a;c=this.K.length;b=Array(c+2);Bf(this.K,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.ca+1;a===this.Xa?(this.K=b,this.ca=d,a=this):a=new Mj(this.Xa,this.ge,d,b);return a}return this.K[b+1]===e?this:vj(this,a,b+1,e)}return(new yj(a,1<<(this.ge>>>b&31),[null,this,null,null])).Fd(a,b,c,d,e,f)};
g.Ed=function(a,b,c,d,e){return b===this.ge?(a=Lj(this.K,this.ca,c),-1===a?(a=2*this.ca,b=Array(a+2),Bf(this.K,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Mj(null,this.ge,this.ca+1,b)):E.B(this.K[a+1],d)?this:new Mj(null,this.ge,this.ca,tj(this.K,a+1,d))):(new yj(null,1<<(this.ge>>>a&31),[null,this])).Ed(a,b,c,d,e)};g.Hf=function(a,b,c,d){a=Lj(this.K,this.ca,c);return 0>a?d:sj(c,this.K[a])?new Y(this.K[a],this.K[a+1],null):d};
g.Jf=function(a,b,c){a=Lj(this.K,this.ca,c);return-1===a?this:1===this.ca?null:new Mj(null,this.ge,this.ca-1,uj(this.K,gg(a,2)))};g.qa=function(){return new xj(this.K)};function Fj(a){switch(arguments.length){case 6:return Gj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Ej(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}
function Gj(a,b,c,d,e,f){var h=ke(b);if(h===d)return new Mj(null,h,2,[b,c,e,f]);var k=new rj;return Cj.Ed(a,h,b,c,k).Ed(a,d,e,f,k)}function Ej(a,b,c,d,e,f,h){var k=ke(c);if(k===e)return new Mj(null,k,2,[c,d,f,h]);var m=new rj;return Cj.Fd(a,b,k,c,d,m).Fd(a,b,e,f,h,m)}function Nj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.O=32374988;this.T=0}g=Nj.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Oj?Oj(a,b,null):Bj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return Oj?Oj(a,b,c):Bj.call(null,a,b,c)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1],null):H(this.s)};
g.wb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Oj?Oj(c,d,null):Bj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return Oj?Oj(c,d,e):Bj.call(null,c,d,e)}();return null!=b?b:we};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Nj(b,this.nodes,this.i,this.s,this.J)};g.na=function(a,b){return Ze(b,this)};Nj.prototype[rc]=function(){return ye(this)};
function Bj(a){switch(arguments.length){case 1:return Aj(arguments[0]);case 3:return Oj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Aj(a){return Oj(a,0,null)}function Oj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Nj(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.If(),r(d)))return new Nj(null,a,b+2,d,null);b+=2}else return null;else return new Nj(null,a,b,c,null)}
function Pj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.O=32374988;this.T=0}g=Pj.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){var a=this.nodes,b=this.i,c=J(this.s);return Qj?Qj(a,b,c):Kj.call(null,a,b,c)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){return H(this.s)};g.wb=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=Qj?Qj(a,b,c):Kj.call(null,a,b,c);return null!=a?a:we};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Pj(b,this.nodes,this.i,this.s,this.J)};g.na=function(a,b){return Ze(b,this)};Pj.prototype[rc]=function(){return ye(this)};
function Kj(a){switch(arguments.length){case 1:return Jj(arguments[0]);case 3:return Qj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Jj(a){return Qj(a,0,null)}function Qj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(r(d)&&(d=d.If(),r(d)))return new Pj(null,a,b+1,d,null);b+=1}else return null;else return new Pj(null,a,b,c,null)}function Rj(a,b){this.Ob=a;this.pj=b;this.seen=!1}
Rj.prototype.Ua=function(){return!this.seen||this.pj.Ua()};Rj.prototype.next=function(){if(this.seen)return this.pj.next();this.seen=!0;return new Y(null,this.Ob,null)};Rj.prototype.remove=function(){return Error("Unsupported operation")};function Sj(a,b,c,d,e,f){this.meta=a;this.ca=b;this.root=c;this.Gb=d;this.Ob=e;this.J=f;this.O=16123663;this.T=139268}g=Sj.prototype;g.be=function(a,b){return null==b?this.Gb?new Y(null,this.Ob,null):null:null==this.root?null:this.root.Hf(0,ke(b),b,null)};
g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.keys=function(){return ye(kj.C?kj.C(this):kj.call(null,this))};g.entries=function(){return new fj(G(G(this)))};g.values=function(){return ye(lj.C?lj.C(this):lj.call(null,this))};g.has=function(a){return S(this,a)};g.get=function(a,b){return this.Y(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return null==b?this.Gb?this.Ob:c:null==this.root?c:this.root.ze(0,ke(b),b,c)};
g.xa=function(a,b,c){a=this.Gb?b.D?b.D(c,null,this.Ob):b.call(null,c,null,this.Ob):c;return Ie(a)?y(a):null!=this.root?Je(this.root.Le(b,a)):a};g.qa=function(){var a=this.root?Yd(this.root):ch();return this.Gb?new Rj(this.Ob,a):a};g.ga=function(){return this.meta};g.pa=function(){return new Sj(this.meta,this.ca,this.root,this.Gb,this.Ob,this.J)};g.la=function(){return this.ca};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};g.da=function(a,b){return dj(this,b)};
g.se=function(){return new Tj(this.root,this.ca,this.Gb,this.Ob)};g.Pa=function(){return jd(oj,this.meta)};g.za=function(a,b){if(null==b)return this.Gb?new Sj(this.meta,this.ca-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Jf(0,ke(b),b);return a===this.root?this:new Sj(this.meta,this.ca-1,a,this.Gb,this.Ob,null)};
g.ea=function(a,b,c){if(null==b)return this.Gb&&c===this.Ob?this:new Sj(this.meta,this.Gb?this.ca:this.ca+1,this.root,!0,c,null);a=new rj;b=(null==this.root?Cj:this.root).Ed(0,ke(b),b,c,a);return b===this.root?this:new Sj(this.meta,a.val?this.ca+1:this.ca,b,this.Gb,this.Ob,null)};g.ra=function(a,b){return null==b?this.Gb:null==this.root?!1:this.root.ze(0,ke(b),b,Cf)!==Cf};g.ka=function(){if(0<this.ca){var a=null!=this.root?this.root.If():null;return this.Gb?Ze(new Y(null,this.Ob,null),a):a}return null};
g.ha=function(a,b){return b===this.meta?this:new Sj(b,this.ca,this.root,this.Gb,this.Ob,this.J)};g.na=function(a,b){if(zf(b))return this.ea(null,x(b,0),x(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=H(b);if(zf(c))a=Uc(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var oj=new Sj(null,0,null,!1,null,De);
function Uj(a,b){for(var c=a.length,d=0,e=Hd(oj);;)if(d<c){if(b.length<=d)throw Error(["No value supplied for key: ",t.C(a[d])].join(""));var f=d+1;e=Kd(e,a[d],b[d]);d=f}else return Jd(e)}Sj.prototype[rc]=function(){return ye(this)};function Tj(a,b,c,d){this.Xa={};this.root=a;this.count=b;this.Gb=c;this.Ob=d;this.O=259;this.T=56}
function Vj(a,b,c){if(a.Xa){if(null==b)a.Ob!==c&&(a.Ob=c),a.Gb||(a.count+=1,a.Gb=!0);else{var d=new rj;b=(null==a.root?Cj:a.root).Fd(a.Xa,0,ke(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Tj.prototype;g.la=function(){if(this.Xa)return this.count;throw Error("count after persistent!");};g.oa=function(a,b){return null==b?this.Gb?this.Ob:null:null==this.root?null:this.root.ze(0,ke(b),b)};
g.Y=function(a,b,c){return null==b?this.Gb?this.Ob:c:null==this.root?c:this.root.ze(0,ke(b),b,c)};g.te=function(a,b){a:if(this.Xa)if(Mi(b))a=Vj(this,Ni.C?Ni.C(b):Ni.call(null,b),Oi.C?Oi.C(b):Oi.call(null,b));else if(zf(b))a=Vj(this,b.C?b.C(0):b.call(null,0),b.C?b.C(1):b.call(null,1));else for(a=G(b),b=this;;){var c=H(a);if(r(c))a=J(a),b=Vj(b,Ni.C?Ni.C(c):Ni.call(null,c),Oi.C?Oi.C(c):Oi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.De=function(){if(this.Xa){this.Xa=null;var a=new Sj(null,this.count,this.root,this.Gb,this.Ob,null)}else throw Error("persistent! called twice");return a};g.We=function(a,b,c){return Vj(this,b,c)};g.hh=function(a,b){if(this.Xa)null==b?this.Gb&&(this.Gb=!1,this.Ob=null,--this.count):null!=this.root&&(a=new rj,b=this.root.Kf(this.Xa,0,ke(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};function Wj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=hf.B(d,a),a=b;else return d}
function Xj(a,b,c,d,e){this.meta=a;this.stack=b;this.Be=c;this.ca=d;this.J=e;this.O=32374990;this.T=0}g=Xj.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){var a=H(this.stack);a=Wj(this.Be?a.right:a.left,J(this.stack),this.Be);return null==a?null:new Xj(null,a,this.Be,this.ca-1,null)};
g.la=function(){return 0>this.ca?K(J(this))+1:this.ca};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){var a=this.stack;return null==a?null:bd(a)};g.wb=function(){var a=H(this.stack);a=Wj(this.Be?a.right:a.left,J(this.stack),this.Be);return null!=a?new Xj(null,a,this.Be,this.ca-1,null):we};g.ka=function(){return this};
g.ha=function(a,b){return b===this.meta?this:new Xj(b,this.stack,this.Be,this.ca,this.J)};g.na=function(a,b){return Ze(b,this)};Xj.prototype[rc]=function(){return ye(this)};function Yj(a,b,c){return new Xj(null,Wj(a,null,b),b,c,null)}
function ak(a,b,c,d){return c instanceof bk?c.left instanceof bk?new bk(c.key,c.val,c.left.$d(),new ck(a,b,c.right,d)):c.right instanceof bk?new bk(c.right.key,c.right.val,new ck(c.key,c.val,c.left,c.right.left),new ck(a,b,c.right.right,d)):new ck(a,b,c,d):new ck(a,b,c,d)}
function dk(a,b,c,d){return d instanceof bk?d.right instanceof bk?new bk(d.key,d.val,new ck(a,b,c,d.left),d.right.$d()):d.left instanceof bk?new bk(d.left.key,d.left.val,new ck(a,b,c,d.left.left),new ck(d.key,d.val,d.left.right,d.right)):new ck(a,b,c,d):new ck(a,b,c,d)}
function ek(a,b,c,d){if(c instanceof bk)return new bk(a,b,c.$d(),d);if(d instanceof ck)return dk(a,b,c,d.Rf());if(d instanceof bk&&d.left instanceof ck)return new bk(d.left.key,d.left.val,new ck(a,b,c,d.left.left),dk(d.key,d.val,d.left.right,d.right.Rf()));throw Error("red-black tree invariant violation");}
function fk(a,b,c,d){if(d instanceof bk)return new bk(a,b,c,d.$d());if(c instanceof ck)return ak(a,b,c.Rf(),d);if(c instanceof bk&&c.right instanceof ck)return new bk(c.right.key,c.right.val,ak(c.key,c.val,c.left.Rf(),c.right.left),new ck(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var gk=function gk(a,b,c){var e=null!=a.left?function(){var k=a.left;return gk.D?gk.D(k,b,c):gk.call(null,k,b,c)}():c;if(Ie(e))return e;var f=function(){var k=a.key,m=a.val;return b.D?b.D(e,k,m):b.call(null,e,k,m)}();if(Ie(f))return f;if(null!=a.right){var h=a.right;return gk.D?gk.D(h,b,f):gk.call(null,h,b,f)}return f};function ck(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.J=null;this.O=166619935;this.T=0}g=ck.prototype;
g.be=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();g.mi=function(a){return a.ri(this)};g.Rf=function(){return new bk(this.key,this.val,this.left,this.right)};g.$d=function(){return this};g.li=function(a){return a.oi(this)};g.replace=function(a,b,c,d){return new ck(a,b,c,d)};
g.oi=function(a){return new ck(a.key,a.val,this,a.right)};g.ri=function(a){return new ck(a.key,a.val,a.left,this)};g.Le=function(a,b){return gk(this,a,b)};g.oa=function(a,b){return this.ob(null,b,null)};g.Y=function(a,b,c){return this.ob(null,b,c)};g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.ob=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Bd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Bd(null,b,c)};
g.ga=function(){return null};g.la=function(){return 2};g.$g=function(){return this.key};g.ah=function(){return this.val};g.ce=function(){return this.val};g.de=function(){return new X(null,1,5,Z,[this.key],null)};g.Wc=function(){return new se([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return null};g.jb=function(a,b){return Le(this,b)};g.kb=function(a,b,c){return Me(this,b,c)};
g.ea=function(a,b,c){return Q.D(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.ka=function(){return new se([this.key,this.val],0,null)};g.ha=function(a,b){return jd(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.ob(null,a,b)};ck.prototype[rc]=function(){return ye(this)};
function bk(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.J=null;this.O=166619935;this.T=0}g=bk.prototype;g.be=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();g.mi=function(a){return new bk(this.key,this.val,this.left,a)};g.Rf=function(){throw Error("red-black tree invariant violation");};g.$d=function(){return new ck(this.key,this.val,this.left,this.right)};
g.li=function(a){return new bk(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new bk(a,b,c,d)};g.oi=function(a){return this.left instanceof bk?new bk(this.key,this.val,this.left.$d(),new ck(a.key,a.val,this.right,a.right)):this.right instanceof bk?new bk(this.right.key,this.right.val,new ck(this.key,this.val,this.left,this.right.left),new ck(a.key,a.val,this.right.right,a.right)):new ck(a.key,a.val,this,a.right)};
g.ri=function(a){return this.right instanceof bk?new bk(this.key,this.val,new ck(a.key,a.val,a.left,this.left),this.right.$d()):this.left instanceof bk?new bk(this.left.key,this.left.val,new ck(a.key,a.val,a.left,this.left.left),new ck(this.key,this.val,this.left.right,this.right)):new ck(a.key,a.val,a.left,this)};g.Le=function(a,b){return gk(this,a,b)};g.oa=function(a,b){return this.ob(null,b,null)};g.Y=function(a,b,c){return this.ob(null,b,c)};
g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.ob=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Bd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Bd(null,b,c)};g.ga=function(){return null};g.la=function(){return 2};g.$g=function(){return this.key};g.ah=function(){return this.val};g.ce=function(){return this.val};g.de=function(){return new X(null,1,5,Z,[this.key],null)};
g.Wc=function(){return new se([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return null};g.jb=function(a,b){return Le(this,b)};g.kb=function(a,b,c){return Me(this,b,c)};g.ea=function(a,b,c){return Q.D(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.ka=function(){return new se([this.key,this.val],0,null)};
g.ha=function(a,b){return jd(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Da(null,a)};
g.B=function(a,b){return this.ob(null,a,b)};bk.prototype[rc]=function(){return ye(this)};
var hk=function hk(a,b,c,d,e){if(null==b)return new bk(c,d,null,null);var h=function(){var k=b.key;return a.B?a.B(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return hk.ma?hk.ma(a,k,c,d,e):hk.call(null,a,k,c,d,e)}(),null!=h?b.li(h):null;h=function(){var k=b.right;return hk.ma?hk.ma(a,k,c,d,e):hk.call(null,a,k,c,d,e)}();return null!=h?b.mi(h):null},ik=function ik(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof bk){if(b instanceof bk){var d=
function(){var e=a.right,f=b.left;return ik.B?ik.B(e,f):ik.call(null,e,f)}();return d instanceof bk?new bk(d.key,d.val,new bk(a.key,a.val,a.left,d.left),new bk(b.key,b.val,d.right,b.right)):new bk(a.key,a.val,a.left,new bk(b.key,b.val,d,b.right))}return new bk(a.key,a.val,a.left,function(){var e=a.right;return ik.B?ik.B(e,b):ik.call(null,e,b)}())}if(b instanceof bk)return new bk(b.key,b.val,function(){var e=b.left;return ik.B?ik.B(a,e):ik.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;
return ik.B?ik.B(e,f):ik.call(null,e,f)}();return d instanceof bk?new bk(d.key,d.val,new ck(a.key,a.val,a.left,d.left),new ck(b.key,b.val,d.right,b.right)):ek(a.key,a.val,a.left,new ck(b.key,b.val,d,b.right))},jk=function jk(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.B?a.B(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,ik(b.left,b.right);if(0>f)return f=function(){var h=b.left;return jk.R?jk.R(a,h,c,d):jk.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof ck?ek(b.key,b.val,
f,b.right):new bk(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return jk.R?jk.R(a,h,c,d):jk.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof ck?fk(b.key,b.val,b.left,f):new bk(b.key,b.val,b.left,f):null}return null},kk=function kk(a,b,c,d){var f=b.key,h=a.B?a.B(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return kk.R?kk.R(a,k,c,d):kk.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=
b.right;return kk.R?kk.R(a,k,c,d):kk.call(null,a,k,c,d)}())};function lk(a,b,c,d,e){this.Xc=a;this.tree=b;this.ca=c;this.meta=d;this.J=e;this.O=418776847;this.T=8192}g=lk.prototype;g.be=function(a,b){return mk(this,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.Y(null,a,b)};g.entries=function(){return new fj(G(G(this)))};g.toString=function(){return $d(this)};g.keys=function(){return ye(kj.C?kj.C(this):kj.call(null,this))};
g.values=function(){return ye(lj.C?lj.C(this):lj.call(null,this))};g.equiv=function(a){return this.da(null,a)};function mk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.Xc.B?a.Xc.B(b,d):a.Xc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return S(this,a)};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=mk(this,b);return null!=a?a.val:c};g.xa=function(a,b,c){return null!=this.tree?Je(gk(this.tree,b,c)):c};g.ga=function(){return this.meta};
g.pa=function(){return new lk(this.Xc,this.tree,this.ca,this.meta,this.J)};g.la=function(){return this.ca};g.Wc=function(){return 0<this.ca?Yj(this.tree,!1,this.ca):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};g.da=function(a,b){return dj(this,b)};g.Pa=function(){return new lk(this.Xc,null,0,this.meta,0)};
g.za=function(a,b){a=[null];b=jk(this.Xc,this.tree,b,a);return null==b?null==Te(a,0)?this:new lk(this.Xc,null,0,this.meta,null):new lk(this.Xc,b.$d(),this.ca-1,this.meta,null)};g.ea=function(a,b,c){a=[null];var d=hk(this.Xc,this.tree,b,c,a);return null==d?(a=Te(a,0),E.B(c,a.val)?this:new lk(this.Xc,kk(this.Xc,this.tree,b,c),this.ca,this.meta,null)):new lk(this.Xc,d.$d(),this.ca+1,this.meta,null)};g.ra=function(a,b){return null!=mk(this,b)};
g.ka=function(){return 0<this.ca?Yj(this.tree,!0,this.ca):null};g.ha=function(a,b){return b===this.meta?this:new lk(this.Xc,this.tree,this.ca,b,this.J)};g.na=function(a,b){if(zf(b))return this.ea(null,x(b,0),x(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=H(b);if(zf(c))a=Uc(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var nk=new lk(Kf,null,0,null,De);lk.prototype[rc]=function(){return ye(this)};
var $g=function $g(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return $g.I(c)};$g.I=function(a){a=G(a);for(var b=Hd(oj);;)if(a){var c=J(a);if(null==c)throw Error(["No value supplied for key: ",t.C(H(a))].join(""));var d=J(c);b=Ng(b,H(a),H(c));a=d}else return Jd(b)};$g.aa=0;$g.fa=function(a){return this.I(G(a))};
var ok=function ok(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return ok.I(c)};ok.I=function(a){a=a instanceof se&&0===a.i?a.K:xc(a);return nf(a)};ok.aa=0;ok.fa=function(a){return this.I(G(a))};
function pk(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new se(b.slice(0),0,null):null;a:for(b=G(b),d=nk;;)if(b)c=J(J(b)),d=Q.D(d,H(b),ef(b)),b=c;else break a;return d}function qk(a,b){this.Oa=a;this.ld=b;this.O=32374988;this.T=0}g=qk.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.ld};g.Va=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.tf||(this.Oa.O?0:nc(Nc,this.Oa)):nc(Nc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null==a?null:new qk(a,null)};g.ja=function(){return Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){return this.Oa.mb(null).key};g.wb=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.tf||(this.Oa.O?0:nc(Nc,this.Oa)):nc(Nc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null!=a?new qk(a,null):we};g.ka=function(){return this};g.ha=function(a,b){return b===this.ld?this:new qk(this.Oa,b)};g.na=function(a,b){return Ze(b,this)};
qk.prototype[rc]=function(){return ye(this)};function kj(a){return(a=G(a))?new qk(a,null):null}function Ni(a){return Yc(a)}function rk(a,b){this.Oa=a;this.ld=b;this.O=32374988;this.T=0}g=rk.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.ld};g.Va=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.tf||(this.Oa.O?0:nc(Nc,this.Oa)):nc(Nc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null==a?null:new rk(a,null)};g.ja=function(){return Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.mb=function(){return this.Oa.mb(null).val};g.wb=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.tf||(this.Oa.O?0:nc(Nc,this.Oa)):nc(Nc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null!=a?new rk(a,null):we};g.ka=function(){return this};g.ha=function(a,b){return b===this.ld?this:new rk(this.Oa,b)};g.na=function(a,b){return Ze(b,this)};
rk.prototype[rc]=function(){return ye(this)};function lj(a){return(a=G(a))?new rk(a,null):null}function Oi(a){return Zc(a)}var sk=function sk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return sk.I(c)};sk.I=function(a){return r(sh(Tf,a))?w.B(function(b,c){return hf.B(r(b)?b:W,c)},a):null};sk.aa=0;sk.fa=function(a){return this.I(G(a))};
var tk=function tk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new se(c.slice(1),0,null):null;return tk.I(arguments[0],c)};tk.I=function(a,b){if(r(sh(Tf,b))){var c=function(d,e){var f=Yc(e),h=Zc(e);if(S(d,f)){e=Q.D;var k=B.B(d,f);h=a.B?a.B(k,h):a.call(null,k,h);d=e.call(Q,d,f,h)}else d=Q.D(d,f,h);return d};return w.B(function(d,e){return w.D(c,r(d)?d:W,G(e))},b)}return null};tk.aa=1;tk.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};
function uk(a,b){var c=W;for(b=G(b);;)if(b){var d=H(b),e=B.D(a,d,vk);c=ah.B(e,vk)?Q.D(c,d,e):c;b=J(b)}else return jd(c,rf(a))}function wk(a){this.iter=a}wk.prototype.Ua=function(){return this.iter.Ua()};wk.prototype.next=function(){if(this.iter.Ua())return this.iter.next().key;throw Error("No such element");};wk.prototype.remove=function(){return Error("Unsupported operation")};function xk(a,b,c){this.meta=a;this.Vd=b;this.J=c;this.O=15077647;this.T=139268}g=xk.prototype;g.toString=function(){return $d(this)};
g.equiv=function(a){return this.da(null,a)};g.keys=function(){return ye(G(this))};g.entries=function(){return new gj(G(G(this)))};g.values=function(){return ye(G(this))};g.has=function(a){return S(this,a)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=Vc(this.Vd,b);return r(a)?Yc(a):c};g.qa=function(){return new wk(Yd(this.Vd))};g.ga=function(){return this.meta};g.pa=function(){return new xk(this.meta,this.Vd,this.J)};g.la=function(){return Dc(this.Vd)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};
g.da=function(a,b){if(a=vf(b))if(a=K(this)===K(b))try{return Sf(function(c,d){return(c=S(b,d))?c:Ge(!1)},!0,this.Vd)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.se=function(){return new yk(Hd(this.Vd))};g.Pa=function(){return jd(zk,this.meta)};g.hg=function(a,b){return new xk(this.meta,Xc(this.Vd,b),null)};g.ka=function(){return kj(this.Vd)};g.ha=function(a,b){return b===this.meta?this:new xk(b,this.Vd,this.J)};
g.na=function(a,b){return new xk(this.meta,Q.D(this.Vd,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var zk=new xk(null,W,De);
function Jf(a){for(var b=a.length,c=Hd(zk),d=0;;)if(d<b)Id(c,a[d]),d+=1;else break;return Jd(c)}xk.prototype[rc]=function(){return ye(this)};function yk(a){this.Oe=a;this.T=136;this.O=259}g=yk.prototype;g.te=function(a,b){this.Oe=Kd(this.Oe,b,null);return this};g.De=function(){return new xk(null,Jd(this.Oe),null)};g.la=function(){return K(this.Oe)};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return Qc(this.Oe,b,Cf)===Cf?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return Qc(this.Oe,a,Cf)===Cf?null:a};g.B=function(a,b){return Qc(this.Oe,a,Cf)===Cf?b:a};function Ak(a,b,c){this.meta=a;this.Ld=b;this.J=c;this.O=417730831;this.T=8192}g=Ak.prototype;g.toString=function(){return $d(this)};
g.equiv=function(a){return this.da(null,a)};g.keys=function(){return ye(G(this))};g.entries=function(){return new gj(G(G(this)))};g.values=function(){return ye(G(this))};g.has=function(a){return S(this,a)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=mk(this.Ld,b);return null!=a?a.key:c};g.ga=function(){return this.meta};g.pa=function(){return new Ak(this.meta,this.Ld,this.J)};g.la=function(){return K(this.Ld)};g.Wc=function(){return 0<K(this.Ld)?Rh.B(Ni,xd(this.Ld)):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};
g.da=function(a,b){if(a=vf(b))if(a=K(this)===K(b))try{return Sf(function(c,d){return(c=S(b,d))?c:Ge(!1)},!0,this.Ld)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.Pa=function(){return new Ak(this.meta,Fc(this.Ld),0)};g.hg=function(a,b){return new Ak(this.meta,R.B(this.Ld,b),null)};g.ka=function(){return kj(this.Ld)};g.ha=function(a,b){return b===this.meta?this:new Ak(b,this.Ld,this.J)};g.na=function(a,b){return new Ak(this.meta,Q.D(this.Ld,b,null),null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};Ak.prototype[rc]=function(){return ye(this)};
function Bk(a){if(vf(a))return qf(a,null);a=G(a);if(null==a)return zk;if(a instanceof se&&0===a.i)return Jf(a.K);for(var b=Hd(zk);;)if(null!=a){var c=J(a);b=Id(b,Lc(a));a=c}else return Jd(b)}function Ck(a){return function e(c,d){return new wg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=N(k,0,null);if(k=G(k))if(S(f,h))h=ve(k);else{f=Ze(h,e(ve(k),hf.B(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,zk)}
function Dk(a){for(var b=jf;;)if(J(a))b=hf.B(b,H(a)),a=J(a);else return G(b)}function vg(a){if(null!=a&&(a.T&4096||l===a.bh))return a.rf(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.C(a)].join(""));}function Ek(a,b){var c=Hd(W);a=G(a);for(b=G(b);;)if(a&&b)c=Ng(c,H(a),H(b)),a=J(a),b=J(b);else return Jd(c)}
var Fk=function Fk(a){switch(arguments.length){case 2:return Fk.B(arguments[0],arguments[1]);case 3:return Fk.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(3),0,null);return Fk.I(arguments[0],arguments[1],arguments[2],c)}};Fk.B=function(a,b){return b};Fk.D=function(a,b,c){return(a.C?a.C(b):a.call(null,b))>(a.C?a.C(c):a.call(null,c))?b:c};
Fk.I=function(a,b,c,d){return w.D(function(e,f){return Fk.D(a,e,f)},Fk.D(a,b,c),d)};Fk.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};Fk.aa=3;function Gk(){this.K=[]}g=Gk.prototype;g.add=function(a){return this.K.push(a)};g.size=function(){return this.K.length};g.clear=function(){return this.K=[]};g.isEmpty=function(){return 0===this.K.length};g.toArray=function(){return this.K};
function Hk(){return function(a){var b=new Gk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=Li(b.toArray()),b.clear(),a.B?a.B(h,k):a.call(null,h,k)):h}function d(h){if(!r(b.isEmpty())){var k=Li(b.toArray());b.clear();h=Je(a.B?a.B(h,k):a.call(null,h,k))}return a.C?a.C(h):a.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}function Ik(a,b){return new wg(null,function(){var c=G(b);if(c){var d=H(c);d=a.C?a.C(d):a.call(null,d);c=r(d)?Ze(H(c),Ik(a,ve(c))):null}else c=null;return c},null,null)}function Jk(a,b,c){this.start=a;this.step=b;this.count=c;this.O=82;this.T=0}g=Jk.prototype;g.la=function(){return this.count};g.mb=function(){return this.start};g.Da=function(a,b){return this.start+b*this.step};
g.ob=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.nf=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Jk(this.start+this.step,this.step,this.count-1)};function Kk(a,b,c){this.i=a;this.end=b;this.step=c}Kk.prototype.Ua=function(){return 0<this.step?this.i<this.end:this.i>this.end};Kk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Lk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.chunk=e;this.yd=f;this.J=h;this.O=32375006;this.T=140800}g=Lk.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
g.Ff=function(){if(null==this.chunk){var a=this.la(null);32<a?(this.yd=new Lk(null,this.start+32*this.step,this.end,this.step,null,null,null),this.chunk=new Jk(this.start,this.step,32)):this.chunk=new Jk(this.start,this.step,a)}};g.Da=function(a,b){if(0<=b&&b<this.la(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
g.ob=function(a,b,c){return 0<=b&&b<this.la(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.qa=function(){return new Kk(this.start,this.end,this.step)};g.ga=function(){return this.meta};g.pa=function(){return new Lk(this.meta,this.start,this.end,this.step,this.chunk,this.yd,this.J)};
g.Va=function(){return 0<this.step?this.start+this.step<this.end?new Lk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Lk(null,this.start+this.step,this.end,this.step,null,null,null):null};g.la=function(){return Math.ceil((this.end-this.start)/this.step)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return Le(this,b)};
g.kb=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(Ie(c))return y(c);a+=this.step}else return c};g.mb=function(){return this.start};g.wb=function(){var a=this.Va(null);return null==a?we:a};g.ka=function(){return this};g.Ue=function(){this.Ff();return this.chunk};g.ae=function(){this.Ff();return null==this.yd?we:this.yd};g.ha=function(a,b){return b===this.meta?this:new Lk(b,this.start,this.end,this.step,this.chunk,this.yd,this.J)};
g.na=function(a,b){return Ze(b,this)};g.Te=function(){return G(this.ae(null))};Lk.prototype[rc]=function(){return ye(this)};function Mk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.chunk=e;this.yd=f;this.J=h;this.T=140800;this.O=32374988}g=Mk.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
g.Ff=function(){if(null==this.chunk){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var b=0;for(var c=this.start;;)if(32>b){if(a[b]=c,b+=1,c+=this.step,!(0<this.step?c<this.end:c>this.end)){b=this.chunk=new Bg(a,0,b);break a}}else{b=c;break a}}null==this.chunk&&(this.chunk=new Bg(a,0,32),(0<this.step?b<this.end:b>this.end)&&(this.yd=new Mk(null,b,this.end,this.step,null,null,
null)))}};g.qa=function(){return new Kk(this.start,this.end,this.step)};g.ga=function(){return this.meta};g.pa=function(){return new Mk(this.meta,this.start,this.end,this.step,this.chunk,this.yd,this.J)};g.Va=function(){return 0<this.step?this.start+this.step<this.end?new Mk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Mk(null,this.start+this.step,this.end,this.step,null,null,null):null};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return we};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(Ie(c))return y(c);a+=this.step}else return c};g.mb=function(){return this.start};g.wb=function(){var a=this.Va(null);return null==a?we:a};g.ka=function(){return this};g.Ue=function(){this.Ff();return this.chunk};
g.ae=function(){this.Ff();return null==this.yd?we:this.yd};g.ha=function(a,b){return b===this.meta?this:new Mk(b,this.start,this.end,this.step,this.chunk,this.yd,this.J)};g.na=function(a,b){return Ze(b,this)};g.Te=function(){return G(this.ae(null))};Mk.prototype[rc]=function(){return ye(this)};
var Nk=function Nk(a){switch(arguments.length){case 0:return Nk.P();case 1:return Nk.C(arguments[0]);case 2:return Nk.B(arguments[0],arguments[1]);case 3:return Nk.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Nk.P=function(){return Nk.D(0,Number.MAX_VALUE,1)};Nk.C=function(a){return Nk.D(0,a,1)};Nk.B=function(a,b){return Nk.D(a,b,1)};
Nk.D=function(a,b,c){return 0<c?b<=a?we:Hf(a)&&Hf(b)&&Hf(c)?new Lk(null,a,b,c,null,null,null):new Mk(null,a,b,c,null,null,null):0>c?b>=a?we:Hf(a)&&Hf(b)&&Hf(c)?new Lk(null,a,b,c,null,null,null):new Mk(null,a,b,c,null,null,null):b===a?we:Xh(a)};Nk.aa=3;function Ok(a,b){return new wg(null,function(){var c=G(b);return c?Ze(H(c),Ok(a,Th(a,c))):null},null,null)}function Pk(a,b){return new X(null,2,5,Z,[Ik(a,b),Vh(a,b)],null)}
function Qk(a,b){return new wg(null,function(){var c=G(b);if(c){var d=H(c),e=a.C?a.C(d):a.call(null,d),f=Ze(d,Ik(function(h){return E.B(e,a.C?a.C(h):a.call(null,h))},J(c)));return Ze(f,Qk(a,new wg(null,function(){return Th(K(f),c)},null,null)))}return null},null,null)}function Rk(a){return Jd(w.D(function(b,c){return Ng(b,c,B.D(b,c,0)+1)},Hd(W),a))}
function Sk(a,b){return function(){function c(m,n,p){return new X(null,2,5,Z,[a.D?a.D(m,n,p):a.call(null,m,n,p),b.D?b.D(m,n,p):b.call(null,m,n,p)],null)}function d(m,n){return new X(null,2,5,Z,[a.B?a.B(m,n):a.call(null,m,n),b.B?b.B(m,n):b.call(null,m,n)],null)}function e(m){return new X(null,2,5,Z,[a.C?a.C(m):a.call(null,m),b.C?b.C(m):b.call(null,m)],null)}function f(){return new X(null,2,5,Z,[a.P?a.P():a.call(null),b.P?b.P():b.call(null)],null)}var h=null,k=function(){function m(p,u,v,z){var C=null;
if(3<arguments.length){C=0;for(var F=Array(arguments.length-3);C<F.length;)F[C]=arguments[C+3],++C;C=new se(F,0,null)}return n.call(this,p,u,v,C)}function n(p,u,v,z){return new X(null,2,5,Z,[Xg(a,p,u,v,z),Xg(b,p,u,v,z)],null)}m.aa=3;m.fa=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var z=H(p);p=ve(p);return n(u,v,z,p)};m.I=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,
n,p);default:var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=arguments[v+3],++v;v=new se(z,0,null)}return k.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.fa=k.fa;h.P=f;h.C=e;h.B=d;h.D=c;h.I=k.I;return h}()}function Tk(a){a:for(var b=a;;)if(b=G(b))b=J(b);else break a;return a}
function Uk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&E.B(a[0],b)?1===a.length?a[0]:Li(a):null;throw new TypeError("re-matches must match against a string.");}function Vk(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Li(a);throw new TypeError("re-find must match against a string.");}
var Wk=function Wk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Li(d);return Ze(f,new wg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=lg.B(b,h),Wk.B?Wk.B(a,h):Wk.call(null,a,h)):null},null,null))};function Xk(a,b){if("string"===typeof b)return Wk(a,b);throw new TypeError("re-seq must match against a string.");}
function Yk(a){if(a instanceof RegExp)return a;var b=Vk(/^\(\?([idmsux]*)\)/,a),c=N(b,0,null);b=N(b,1,null);a=lg.B(a,null==c?0:c.length);return new RegExp(a,r(b)?b:"")}
function Zk(a,b,c,d,e,f,h){var k=Yb;Yb=null==Yb?null:Yb-1;try{if(null!=Yb&&0>Yb)return yd(a,"#");yd(a,c);if(0===dc.C(f))G(h)&&yd(a,function(){var z=$k.C(f);return r(z)?z:"..."}());else{if(G(h)){var m=H(h);b.D?b.D(m,a,f):b.call(null,m,a,f)}for(var n=J(h),p=dc.C(f)-1;;)if(!n||null!=p&&0===p){G(n)&&0===p&&(yd(a,d),yd(a,function(){var z=$k.C(f);return r(z)?z:"..."}()));break}else{yd(a,d);var u=H(n);c=a;h=f;b.D?b.D(u,c,h):b.call(null,u,c,h);var v=J(n);c=p-1;n=v;p=c}}return yd(a,e)}finally{Yb=k}}
function al(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);yd(a,f);e+=1}else if(b=G(b))c=b,Af(c)?(b=Pd(c),d=Qd(c),c=b,f=K(b),b=d,d=f):(f=H(c),yd(a,f),b=J(c),c=null,d=0),e=0;else return null}function bl(a){if(null==Ub)throw Error("No *print-fn* fn set for evaluation environment");Ub.call(null,a);return null}var cl={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function dl(a){return['"',t.C(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return cl[b]})),'"'].join("")}function el(a,b){return(a=Ff(B.B(a,bc)))?(a=null!=b?b.O&131072||l===b.qf?!0:!1:!1)?null!=rf(b):a:a}
function fl(a,b,c){if(null==a)return yd(b,"nil");if(el(c,a)){yd(b,"^");var d=rf(a);gl.D?gl.D(d,b,c):gl.call(null,d,b,c);yd(b," ")}if(a.Wa)return a.Za(b);if(null!=a?a.O&2147483648||l===a.Na||(a.O?0:nc(Ad,a)):nc(Ad,a))return Bd(a,b,c);if(!0===a||!1===a)return yd(b,t.C(a));if("number"===typeof a)return yd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.C(a));if(null!=a&&a.constructor===Object)return yd(b,"#js "),d=Rh.B(function(f){return new Y(null!=Uk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?ug.C(f):f,a[f],null)},Va(a)),hl.R?hl.R(d,gl,b,c):hl.call(null,d,gl,b,c);if(gc(a))return Zk(b,gl,"#js ["," ","]",c,a);if("string"===typeof a)return r(ac.C(c))?yd(b,dl(a)):yd(b,a);if("function"===typeof a){var e=a.name;c=r(function(){var f=null==e;return f?f:Qa(e)}())?"Function":e;return al(b,M(["#object[",c,r(!1)?[' "',t.C(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.C(f);;)if(f.length<h)f=["0",f].join("");else return f},al(b,M(['#inst "',c(a.getUTCFullYear(),4),
"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return al(b,M(['#"',a.source,'"']));if(yc(a))return al(b,M(["#object[",a.toString(),"]"]));if(r(function(){var f=null==a?null:a.constructor;return null==f?null:f.Sa}()))return al(b,M(["#object[",a.constructor.Sa.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==
f?null:f.name}();c=r(function(){var f=null==e;return f?f:Qa(e)}())?"Object":e;return null==a.constructor?al(b,M(["#object[",c,"]"])):al(b,M(["#object[",c," ",t.C(a),"]"]))}function gl(a,b,c){var d=il.C(c);return r(d)?(c=Q.D(c,jl,fl),d.D?d.D(a,b,c):d.call(null,a,b,c)):fl(a,b,c)}
function kl(a,b){var c=new Pb,d=new Zd(c);a:{gl(H(a),d,b);a=G(J(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.Da(null,h);yd(d," ");gl(k,d,b);h+=1}else if(a=G(a))e=a,Af(e)?(a=Pd(e),f=Qd(e),e=a,k=K(a),a=f,f=k):(k=H(e),yd(d," "),gl(k,d,b),a=J(e),e=null,f=0),h=0;else break a}d.Rd(null);return c}function ll(a,b){return tf(a)?"":t.C(kl(a,b))}function ml(a,b){if(tf(a))return"\n";a=kl(a,b);a.append("\n");return t.C(a)}function nl(){var a=Zb();bl("\n");return B.B(a,$b),null}
var ol=function ol(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return ol.I(c)};ol.I=function(a){return ll(a,Zb())};ol.aa=0;ol.fa=function(a){return this.I(G(a))};var pl=function pl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return pl.I(c)};pl.I=function(a){return ml(a,Zb())};pl.aa=0;pl.fa=function(a){return this.I(G(a))};
var ql=function ql(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return ql.I(c)};ql.I=function(a){return ll(a,Q.D(Zb(),ac,!1))};ql.aa=0;ql.fa=function(a){return this.I(G(a))};var rl=function rl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return rl.I(c)};rl.I=function(a){return ml(a,Q.D(Zb(),ac,!1))};rl.aa=0;rl.fa=function(a){return this.I(G(a))};
function sl(a){return a instanceof A?oe.B(null,vg(a)):ug.B(null,vg(a))}function tl(a){if(r(!1)){var b=G(a),c=G(b),d=H(c);J(c);N(d,0,null);N(d,1,null);c=lf(a);for(a=null;;){d=a;b=G(b);a=H(b);var e=J(b),f=a;a=N(f,0,null);b=N(f,1,null);if(r(f))if(a instanceof D||a instanceof A)if(r(d))if(E.B(d,sg(a)))c=Q.D(c,sl(a),b),a=d,b=e;else return null;else if(d=sg(a),r(d))c=Q.D(c,sl(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Z,[d,c],null)}}else return null}
function ul(a,b,c,d,e){return Zk(d,function(f,h,k){var m=Yc(f);c.D?c.D(m,h,k):c.call(null,m,h,k);yd(h," ");f=Zc(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[t.C(a),"{"].join(""),", ","}",e,G(b))}function hl(a,b,c,d){var e=xf(a)?tl(a):null,f=N(e,0,null);e=N(e,1,null);return r(f)?ul(["#:",t.C(f)].join(""),e,b,c,d):ul(null,a,b,c,d)}Kh.prototype.Na=l;Kh.prototype.ia=function(a,b,c){yd(b,"#object[cljs.core.Volatile ");gl(new q(null,1,[vl,this.state],null),b,c);return yd(b,"]")};pe.prototype.Na=l;
pe.prototype.ia=function(a,b,c){yd(b,"#'");return gl(this.Ne,b,c)};se.prototype.Na=l;se.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};wg.prototype.Na=l;wg.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};Y.prototype.Na=l;Y.prototype.ia=function(a,b,c){return Zk(b,gl,"["," ","]",c,this)};Xj.prototype.Na=l;Xj.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};Nj.prototype.Na=l;Nj.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};
ck.prototype.Na=l;ck.prototype.ia=function(a,b,c){return Zk(b,gl,"["," ","]",c,this)};ij.prototype.Na=l;ij.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};ze.prototype.Na=l;ze.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};Ak.prototype.Na=l;Ak.prototype.ia=function(a,b,c){return Zk(b,gl,"#{"," ","}",c,this)};Qi.prototype.Na=l;Qi.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};qg.prototype.Na=l;
qg.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};Xe.prototype.Na=l;Xe.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};Lk.prototype.Na=l;Lk.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};Sj.prototype.Na=l;Sj.prototype.ia=function(a,b,c){return hl(this,gl,b,c)};Pj.prototype.Na=l;Pj.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};Si.prototype.Na=l;Si.prototype.ia=function(a,b,c){return Zk(b,gl,"["," ","]",c,this)};
lk.prototype.Na=l;lk.prototype.ia=function(a,b,c){return hl(this,gl,b,c)};xk.prototype.Na=l;xk.prototype.ia=function(a,b,c){return Zk(b,gl,"#{"," ","}",c,this)};Dg.prototype.Na=l;Dg.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};Eh.prototype.Na=l;Eh.prototype.ia=function(a,b,c){yd(b,"#object[cljs.core.Atom ");gl(new q(null,1,[vl,this.state],null),b,c);return yd(b,"]")};rk.prototype.Na=l;rk.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};bk.prototype.Na=l;
bk.prototype.ia=function(a,b,c){return Zk(b,gl,"["," ","]",c,this)};Wh.prototype.Na=l;Wh.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};X.prototype.Na=l;X.prototype.ia=function(a,b,c){return Zk(b,gl,"["," ","]",c,this)};Zi.prototype.Na=l;Zi.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};ng.prototype.Na=l;ng.prototype.ia=function(a,b){return yd(b,"()")};$i.prototype.Na=l;$i.prototype.ia=function(a,b,c){return Zk(b,gl,"#queue ["," ","]",c,G(this))};
q.prototype.Na=l;q.prototype.ia=function(a,b,c){return hl(this,gl,b,c)};Mk.prototype.Na=l;Mk.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};ph.prototype.Na=l;ph.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};qk.prototype.Na=l;qk.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};kf.prototype.Na=l;kf.prototype.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};A.prototype.zd=l;
A.prototype.nd=function(a,b){if(b instanceof A)return ne(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};D.prototype.zd=l;D.prototype.nd=function(a,b){if(b instanceof D)return rg(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};Si.prototype.zd=l;Si.prototype.nd=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};X.prototype.zd=l;
X.prototype.nd=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};Y.prototype.zd=l;Y.prototype.nd=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};ck.prototype.zd=l;ck.prototype.nd=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};bk.prototype.zd=l;
bk.prototype.nd=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};function wl(a,b){Fd(a,xl,b)}var yl=null;function zl(a){null==yl&&(yl=Fh(0));return oe.C([t.C(a),t.C(Ih.B(yl,Ee))].join(""))}function Al(a){this.f=a;this.value=null;this.O=2147516416;this.T=1}Al.prototype.ic=function(){r(this.f)&&(this.value=this.f.P?this.f.P():this.f.call(null),this.f=null);return this.value};Al.prototype.gg=function(){return kc(this.f)};
Al.prototype.ia=function(a,b,c){yd(b,"#object[cljs.core.Delay ");gl(new q(null,2,[Bl,null==this.f?Cl:Dl,vl,this.value],null),b,c);return yd(b,"]")};function El(a){return a instanceof Al?y(a):a}function Fl(a){return function(b,c){b=a.B?a.B(b,c):a.call(null,b,c);return Ie(b)?Ge(b):b}}
function Gl(a){var b=Fl(a);return function(){function c(h,k){return w.D(b,h,k)}function d(h){return a.C?a.C(h):a.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}function Hl(a,b){this.hb=a;this.pg=b;this.O=2173173760;this.T=131072}g=Hl.prototype;
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.qa=function(){var a=ih(this.pg);return qh(this.hb,a)};g.ka=function(){var a=ih(this.pg);a=qh(this.hb,a);a=oh(a);return G(r(a)?a:we)};g.jb=function(a,b){return Vf(this.hb,Uf(b,Tf),this.pg)};
g.kb=function(a,b,c){return Wf(this.hb,Uf(b,Tf),c,this.pg)};g.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,this)};Hl.prototype[rc]=function(){return ye(this)};function Il(){}function Jl(a){if(null!=a&&null!=a.$j)a=a.$j(a);else{var b=Jl[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Jl._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IEncodeJS.-clj-\x3ejs",a);}return a}
function Kl(a,b){return(null!=a?l===a.Zj||(a.ve?0:nc(Il,a)):nc(Il,a))?Jl(a):"string"===typeof a||"number"===typeof a||a instanceof D||a instanceof A?b.C?b.C(a):b.call(null,a):ol.I(M([a]))}var Ll=function Ll(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new se(c.slice(1),0,null):null;return Ll.I(arguments[0],c)};
Ll.I=function(a,b){b=Zg(b);var c=B.D(b,Ml,vg),d=function h(f){if(null==f)return null;if(null!=f?l===f.Zj||(f.ve?0:nc(Il,f)):nc(Il,f))return Jl(f);if(f instanceof D)return c.C?c.C(f):c.call(null,f);if(f instanceof A)return t.C(f);if(xf(f)){var k={};f=G(f);for(var m=null,n=0,p=0;;)if(p<n){var u=m.Da(null,p),v=N(u,0,null);u=N(u,1,null);v=Kl(v,d);u=h(u);k[v]=u;p+=1}else if(f=G(f))Af(f)?(n=Pd(f),f=Qd(f),m=n,n=K(n)):(n=H(f),m=N(n,0,null),n=N(n,1,null),m=Kl(m,d),n=h(n),k[m]=n,f=J(f),m=null,n=0),p=0;else break;
return k}if(uf(f)){k=[];f=G(Rh.B(h,f));m=null;for(p=n=0;;)if(p<n)v=m.Da(null,p),k.push(v),p+=1;else if(f=G(f))m=f,Af(m)?(f=Pd(m),p=Qd(m),m=f,n=K(f),f=p):(f=H(m),k.push(f),f=J(m),m=null,n=0),p=0;else break;return k}return f};return d(a)};Ll.aa=1;Ll.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};function Nl(){}
function Ol(a,b){if(null!=a&&null!=a.Yj)a=a.Yj(a,b);else{var c=Ol[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ol._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Pl(a){var b=M([Tl,!1]),c=Zg(b);c=B.B(c,Tl);var d=r(c)?ug:t;return function h(f){return(null!=f?l===f.$l||(f.ve?0:nc(Nl,f)):nc(Nl,f))?Ol(f,Ug(ok,b)):Df(f)?Tk(Rh.B(h,f)):Mi(f)?new Y(h(Yc(f)),h(Zc(f)),null):uf(f)?gi.D(lf(f),Rh.C(h),f):gc(f)?Jd(w.D(function(k,m){return Mg.B(k,h(m))},Hd(jf),f)):oc(f)===Object?Jd(w.D(function(k,m){return Ng(k,d.C?d.C(m):d.call(null,m),h(Wa(f,m)))},Hd(W),Va(f))):f}(a)}
function Ul(a){var b=Fh(W);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new se(h,0,null)}return d.call(this,f)}function d(e){var f=B.D(y(b),e,Cf);return f===Cf?(f=Ug(a,e),Ih.R(b,Q,e,f),f):f}c.aa=0;c.fa=function(e){e=G(e);return d(e)};c.I=d;return c}()}
var Vl=function Vl(a){switch(arguments.length){case 0:return Vl.P();case 1:return Vl.C(arguments[0]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Vl.P=function(){return Vl.C(1)};Vl.C=function(a){return Math.random()*a};Vl.aa=1;function Wl(a){return Math.floor(Math.random()*a)}function Xl(a,b){return Jd(w.D(function(c,d){var e=a.C?a.C(d):a.call(null,d);return Ng(c,e,hf.B(B.D(c,e,jf),d))},Hd(W),b))}var Yl=null;
function Zl(){null==Yl&&(Yl=Fh(new q(null,3,[$l,W,am,W,bm,W],null)));return Yl}function cm(a,b,c){var d=E.B(b,c);if(d)return d;d=bm.C(a);d=d.C?d.C(b):d.call(null,b);if(!(d=S(d,c))&&(d=zf(c)))if(d=zf(b))if(d=K(c)===K(b)){d=!0;for(var e=0;;)if(d&&e!==K(c))d=cm(a,b.C?b.C(e):b.call(null,e),c.C?c.C(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function dm(a){var b=y(Zl());return bh(B.B($l.C(b),a))}
function em(a,b,c,d){Ih.B(a,function(){return y(b)});Ih.B(c,function(){return y(d)})}
var fm=function fm(a,b,c){var e=function(){var f=y(c);return f.C?f.C(a):f.call(null,a)}();e=r(r(e)?e.C?e.C(b):e.call(null,b):e)?!0:null;if(r(e))return e;e=function(){for(var f=dm(b);;)if(0<K(f)){var h=H(f);fm.D?fm.D(a,h,c):fm.call(null,a,h,c);f=ve(f)}else return null}();if(r(e))return e;e=function(){for(var f=dm(a);;)if(0<K(f)){var h=H(f);fm.D?fm.D(h,b,c):fm.call(null,h,b,c);f=ve(f)}else return null}();return r(e)?e:!1};function gm(a,b,c,d){c=fm(a,b,c);return r(c)?c:cm(d,a,b)}
var hm=function hm(a,b,c,d,e,f,h,k){var n=w.D(function(u,v){var z=N(v,0,null);N(v,1,null);if(cm(y(c),b,z)){u=null==u||gm(z,H(u),e,y(c))?v:u;if(!gm(H(u),z,e,y(c)))throw Error(["Multiple methods in multimethod '",t.C(a),"' match dispatch value: ",t.C(b)," -\x3e ",t.C(z)," and ",t.C(H(u)),", and neither is preferred"].join(""));return u}return u},null,y(d)),p=function(){var u;if(u=null==n)u=y(d),u=u.C?u.C(k):u.call(null,k);return r(u)?new X(null,2,5,Z,[k,u],null):n}();if(r(p)){if(E.B(y(h),y(c)))return Ih.R(f,
Q,b,ef(p)),ef(p);em(f,d,h,c);return hm.Ub?hm.Ub(a,b,c,d,e,f,h,k):hm.call(null,a,b,c,d,e,f,h,k)}return null};function im(a,b,c){if(null!=a&&null!=a.lb)a.lb(a,b,c);else{var d=im[ha(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=im._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IMultiFn.-add-method",a);}}function jm(a,b){throw Error(["No method in multimethod '",t.C(a),"' for dispatch value: ",t.C(b)].join(""));}
function km(a,b,c,d,e,f,h){var k=lm;this.name=a;this.Aa=b;this.rk=k;this.xg=c;this.Eg=d;this.Cl=e;this.Dg=f;this.cg=h;this.O=4194305;this.T=4352}g=km.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Tb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.uc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.jc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.kc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.nc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.oc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.pc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.qc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.rc(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.sc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.tc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.pf(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.P=function(){var a=this.Aa.P?this.Aa.P():this.Aa.call(null),b=mm(this,a);r(b)||jm(this.name,a);return b.P?b.P():b.call(null)};g.C=function(a){var b=this.Aa.C?this.Aa.C(a):this.Aa.call(null,a),c=mm(this,b);r(c)||jm(this.name,b);return c.C?c.C(a):c.call(null,a)};
g.B=function(a,b){var c=this.Aa.B?this.Aa.B(a,b):this.Aa.call(null,a,b),d=mm(this,c);r(d)||jm(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.Aa.D?this.Aa.D(a,b,c):this.Aa.call(null,a,b,c),e=mm(this,d);r(e)||jm(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.R=function(a,b,c,d){var e=this.Aa.R?this.Aa.R(a,b,c,d):this.Aa.call(null,a,b,c,d),f=mm(this,e);r(f)||jm(this.name,e);return f.R?f.R(a,b,c,d):f.call(null,a,b,c,d)};
g.ma=function(a,b,c,d,e){var f=this.Aa.ma?this.Aa.ma(a,b,c,d,e):this.Aa.call(null,a,b,c,d,e),h=mm(this,f);r(h)||jm(this.name,f);return h.ma?h.ma(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){var h=this.Aa.Ra?this.Aa.Ra(a,b,c,d,e,f):this.Aa.call(null,a,b,c,d,e,f),k=mm(this,h);r(k)||jm(this.name,h);return k.Ra?k.Ra(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Tb=function(a,b,c,d,e,f,h){var k=this.Aa.Tb?this.Aa.Tb(a,b,c,d,e,f,h):this.Aa.call(null,a,b,c,d,e,f,h),m=mm(this,k);r(m)||jm(this.name,k);return m.Tb?m.Tb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.Ub=function(a,b,c,d,e,f,h,k){var m=this.Aa.Ub?this.Aa.Ub(a,b,c,d,e,f,h,k):this.Aa.call(null,a,b,c,d,e,f,h,k),n=mm(this,m);r(n)||jm(this.name,m);return n.Ub?n.Ub(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.uc=function(a,b,c,d,e,f,h,k,m){var n=this.Aa.uc?this.Aa.uc(a,b,c,d,e,f,h,k,m):this.Aa.call(null,a,b,c,d,e,f,h,k,m),p=mm(this,n);r(p)||jm(this.name,n);return p.uc?p.uc(a,b,c,d,e,f,h,k,m):p.call(null,a,b,c,d,e,f,h,k,m)};g.jc=function(a,b,c,d,e,f,h,k,m,n){var p=this.Aa.jc?this.Aa.jc(a,b,c,d,e,f,h,k,m,n):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n),u=mm(this,p);r(u)||jm(this.name,p);return u.jc?u.jc(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.kc=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.Aa.kc?this.Aa.kc(a,b,c,d,e,f,h,k,m,n,p):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p),v=mm(this,u);r(v)||jm(this.name,u);return v.kc?v.kc(a,b,c,d,e,f,h,k,m,n,p):v.call(null,a,b,c,d,e,f,h,k,m,n,p)};g.lc=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.Aa.lc?this.Aa.lc(a,b,c,d,e,f,h,k,m,n,p,u):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u),z=mm(this,v);r(z)||jm(this.name,v);return z.lc?z.lc(a,b,c,d,e,f,h,k,m,n,p,u):z.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};
g.mc=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var z=this.Aa.mc?this.Aa.mc(a,b,c,d,e,f,h,k,m,n,p,u,v):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v),C=mm(this,z);r(C)||jm(this.name,z);return C.mc?C.mc(a,b,c,d,e,f,h,k,m,n,p,u,v):C.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.nc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z){var C=this.Aa.nc?this.Aa.nc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z),F=mm(this,C);r(F)||jm(this.name,C);return F.nc?F.nc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):F.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z)};
g.oc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){var F=this.Aa.oc?this.Aa.oc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C),I=mm(this,F);r(I)||jm(this.name,F);return I.oc?I.oc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C)};
g.pc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F){var I=this.Aa.pc?this.Aa.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F),O=mm(this,I);r(O)||jm(this.name,I);return O.pc?O.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F)};
g.qc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I){var O=this.Aa.qc?this.Aa.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I),P=mm(this,O);r(P)||jm(this.name,O);return P.qc?P.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I):P.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I)};
g.rc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O){var P=this.Aa.rc?this.Aa.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O),T=mm(this,P);r(T)||jm(this.name,P);return T.rc?T.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O):T.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O)};
g.sc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P){var T=this.Aa.sc?this.Aa.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P),aa=mm(this,T);r(aa)||jm(this.name,T);return aa.sc?aa.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P):aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P)};
g.tc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T){var aa=this.Aa.tc?this.Aa.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T),ea=mm(this,aa);r(ea)||jm(this.name,aa);return ea.tc?ea.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T)};
g.pf=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa){var ea=Yg(this.Aa,a,b,c,d,M([e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa])),va=mm(this,ea);r(va)||jm(this.name,ea);return Yg(va,a,b,c,d,M([e,f,h,k,m,n,p,u,v,z,C,F,I,O,P,T,aa]))};g.lb=function(a,b,c){Ih.R(this.Eg,Q,b,c);em(this.Dg,this.Eg,this.cg,this.xg);return this};function mm(a,b){E.B(y(a.cg),y(a.xg))||em(a.Dg,a.Eg,a.cg,a.xg);var c=y(a.Dg);c=c.C?c.C(b):c.call(null,b);return r(c)?c:hm(a.name,b,a.xg,a.Eg,a.Cl,a.Dg,a.cg,a.rk)}g.rf=function(){return Rd(this.name)};
g.sf=function(){return Sd(this.name)};g.ja=function(){return ka(this)};function nm(a,b){this.Md=a;this.J=b;this.O=2153775104;this.T=2048}g=nm.prototype;g.toString=function(){return this.Md};g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return b instanceof nm&&this.Md===b.Md};g.ia=function(a,b){return yd(b,['#uuid "',t.C(this.Md),'"'].join(""))};g.ja=function(){null==this.J&&(this.J=ke(this.Md));return this.J};
g.nd=function(a,b){if(b instanceof nm)return gb(this.Md,b.Md);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};
function om(){function a(){return Wl(16).toString(16)}var b=(8|3&Wl(16)).toString(16);return new nm([t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-4",t.C(a()),t.C(a()),t.C(a()),"-",t.C(b),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a())].join("").toLowerCase(),null)}
function pm(a,b,c){var d=Error(a);this.message=a;this.data=b;this.vi=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}pm.prototype.__proto__=Error.prototype;pm.prototype.Na=l;
pm.prototype.ia=function(a,b,c){yd(b,"#error {:message ");gl(this.message,b,c);r(this.data)&&(yd(b,", :data "),gl(this.data,b,c));r(this.vi)&&(yd(b,", :cause "),gl(this.vi,b,c));return yd(b,"}")};pm.prototype.toString=function(){return $d(this)};function qm(a,b){return new pm(a,b,null)}
function rm(){r(tc)||(tc=function(){for(var a=Nf(function(e,f){return f.length-e.length},Va(sc)),b="";;)if(G(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.C(H(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return tc}
function sm(a){var b=t.C(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(rm(),"g");b=r(Pa(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(r(f))f=N(f,0,null),d=[d,t.C(b.substring(e,c.lastIndex-f.length)),t.C("$"===f?"/":Wa(sc,f))].join(""),e=c.lastIndex;else{c=[d,t.C(b.substring(e,b.length))].join("");break a}}}a=a instanceof A?oe:t;return a.C?a.C(c):a.call(null,c)}"undefined"!==typeof console&&ec();ec();var tm=new D(null,"components","components",-1073188942),um=new D(null,"data-error","data-error",-1058016301),vm=new D("chsk","error","chsk/error",-984175439),wm=new D(null,"level","level",1290497552),xm=new D("db","current-tx","db/current-tx",1600722132),ym=new D(null,"?err_","?err_",789480858),zm=new D(null,"on-change","on-change",-732046149),Uy=new A(null,"datascript.db","datascript.db",-444456104,null),Am=new D(null,"size","size",1098693007),Bm=new D(null,"button.cursor-default","button.cursor-default",
746942819),Cm=new D(null,"line","line",212345235),Dm=new D("db","unique","db/unique",329396388),Em=new D("db","isComponent","db/isComponent",423352398),Fm=new D("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002),Gm=new A(null,"ns*","ns*",1840949383,null),Hm=new D(null,"left","left",-399115937),Im=new D(null,"lp-timeout","lp-timeout",1149461302),Jm=new D(null,"start-block-t","start-block-t",-373430594),Km=new D(null,"limit","limit",-1355822363),Lm=new D(null,"per-line-prefix",
"per-line-prefix",846941813),Mm=new D(null,"form-str","form-str",871608859),Nm=new D("datascript.db","value-tempids","datascript.db/value-tempids",244806162),Om=new D(null,"string","string",-1989541586),Pm=new D(null,"avet","avet",1383857032),Qm=new D(null,"data","data",-232669377),Rm=new D(null,"factor","factor",-2103172748),Sm=new A(null,"identity","identity",-1007039734,null),Tm=new A(null,"max","max",1701898075,null),Um=new D("cljs.spec.alpha","amp","cljs.spec.alpha/amp",831147508),Vm=new D(null,
"done-nl","done-nl",-381024340),Wm=new D(null,"handlers","handlers",79528781),Xm=new D(null,"private","private",-558947994),Ym=new D(null,"?status","?status",938730360),Zm=new D("cljs.spec.alpha","alt","cljs.spec.alpha/alt",523685437),Bl=new D(null,"status","status",-1997798413),$m=new D(null,"version","version",425292698),an=new D(null,"days","days",-1394072564),bn=new A(null,"identical?","identical?",-745864205,null),cn=new A("cljs.core","deref","cljs.core/deref",1901963335,null),dn=new D("transact",
"cas","transact/cas",816687170),en=new D("cljs.spec.alpha","nil","cljs.spec.alpha/nil",1733813950),fn=new D("db.fn","cas","db.fn/cas",-379352172),gn=new D("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),hn=new D("chsk","timeout","chsk/timeout",-319776489),jn=new D(null,"mandatory","mandatory",542802336),ln=new D(null,"udt","udt",2011712751),mn=new D(null,"end-column","end-column",1425389514),nn=new D(null,"getInitialState","getInitialState",1541760916),on=new A(null,"list",
"list",-1889078086,null),pn=new D(null,"base-args","base-args",-1268706822),qn=new D(null,"return-map","return-map",1620104901),vk=new D("cljs.core","not-found","cljs.core/not-found",-1572889185),rn=new D(null,"vargs_","vargs_",552132148),sn=new A(null,"compare","compare",1109853757,null),tn=new D(null,"server","server",1499190120),un=new D(null,"def","def",-1043430536),vn=new D(null,"visitor","visitor",-1026865865),wn=new A(null,"stddev","stddev",775056588,null),xn=new A("cljs.core","string?","cljs.core/string?",
-2072921719,null),yn=new D("db","tupleAttrs","db/tupleAttrs",250080092),zn=new D(null,"clean?","clean?",-1675631009),An=new D(null,"tx-meta","tx-meta",1159283194),Bn=new D("debug","timeout","debug/timeout",309499949),Cn=new D("schema","validation","schema/validation",1178447161),Dn=new D(null,"right-margin","right-margin",-810413306),En=new D(null,"div.flex.border.border-transparent.hover:border-gray-100","div.flex.border.border-transparent.hover:border-gray-100",-328254749),Fn=new D(null,"wrong-id-type",
"wrong-id-type",-1213601689),Gn=new D(null,"exponentchar","exponentchar",1986664222),Hn=new A("clojure.string","includes?","clojure.string/includes?",-1842146260,null),In=new D("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),Jn=new D(null,"uid","uid",-1447769400),Kn=new D(null,"directive","directive",793559132),Ln=new D(null,"multival?","multival?",1072388383),Mn=new D(null,"qname","qname",-1983612179),Nn=new D(null,"where","where",-2044795965),On=new D("reitit.core","path-conflicting",
"reitit.core/path-conflicting",617644429),Pn=new D("cljs.spec.alpha","name","cljs.spec.alpha/name",205233570),Qn=new A(null,"min","min",2085523049,null),Rn=new D(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),Sn=new D("widget.table","width","widget.table/width",-305247953),Tn=new D(null,"noop","noop",-673731258),Un=new D(null,"trailing-white-space","trailing-white-space",1496006996),Vn=new D(null,"div","div",1057191632),Wn=new D(null,"handshake-data","handshake-data",-278378864),Xn=new A(null,
"$","$",-1580747756,null),Yn=new D("query","binding","query/binding",698240489),Zn=new D(null,"right-params","right-params",-1790676237),$n=new A(null,"let*","let*",1920721458,null),ao=new D(null,"width","width",-384071477),bo=new A(null,"limit","limit",284709164,null),co=new D("widget","children","widget/children",485181574),eo=new D("db.fn","retractEntity","db.fn/retractEntity",-1423535441),fo=new D(null,"component-will-unmount","component-will-unmount",-2058314698),go=new A(null,"when-first","when-first",
821699168,null),ho=new D(null,"ns-blacklist","ns-blacklist",1957763142),io=new D(null,"format","format",-1306924766),jo=new D(null,"onmessage-fn","onmessage-fn",1633804172),ko=new D(null,"?error","?error",1070752222),lo=new D(null,"href","href",-793805698),mo=new D("reitit.core","router","reitit.core/router",1293076450),no=new A(null,"variance","variance",-1522424942,null),oo=new D(null,"type","type",1174270348),po=new D(null,"none","none",1333468478),qo=new A(null,"_","_",-1201019570,null),ro=new D(null,
"style","style",-496642736),so=new D(null,"reader-error","reader-error",1610253121),to=new A(null,"v","v",1661996586,null),uo=new A(null,"m","m",-1021758608,null),vo=new A(null,"k","k",-505765866,null),wo=new D(null,"component?","component?",407783990),xo=new D(null,"code","code",1586293142),yo=new D(null,"keys","keys",1068423698),zo=new D(null,"deny","deny",1589338523),Ao=new D("literate","widget","literate/widget",-1743430817),Bo=new A(null,"println-str","println-str",-2049216703,null),Co=new A("cljs.spec.alpha",
"coll-of","cljs.spec.alpha/coll-of",1019430407,null),Do=new D(null,"wilds","wilds",132271223),Eo=new A(null,"quot","quot",-1125214196,null),Fo=new D(null,"div.flex.flex-col.text-sm","div.flex.flex-col.text-sm",1494228164),Go=new D(null,"colinc","colinc",-584873385),Ho=new D(null,"auto","auto",-566279492),Io=new D(null,"logical-block","logical-block",-581022564),Jo=new D(null,"your-version","your-version",-351781765),Ko=new D(null,"col","col",-1959363084),Lo=new A(null,"or","or",1876275696,null),Mo=
new D(null,"?ns-str","?ns-str",2012733966),No=new D("db","fn","db/fn",-1175261470),Oo=new D("entity-id","syntax","entity-id/syntax",1921317045),Ro=new D(null,"current","current",-1088038603),So=new D(null,"writing","writing",-1486865108),To=new D(null,"ch-recv","ch-recv",-990916861),Uo=new D(null,"suppress-namespaces","suppress-namespaces",2130686956),Vo=new D(null,"uri-str","uri-str",304128675),Wo=new D("reitit.impl","merge-data","reitit.impl/merge-data",-588218417),Xo=new D(null,"parent","parent",
-878878779),Yo=new D(null,"instance-handle_","instance-handle_",-1923384457),Zo=new D("query","where","query/where",-1935159429),$o=new A(null,"missing?","missing?",-1710383910,null),ap=new D(null,"seen","seen",-518999789),bp=new A("cljs.core","map?","cljs.core/map?",-1390345523,null),cp=new A(null,"\x26","\x26",-2144855648,null),dp=new D(null,"internal","internal",-854870097),ep=new D(null,"reagentRender","reagentRender",-358306383),fp=new D(null,"right-bracket","right-bracket",951856080),gp=new D(null,
"req-id","req-id",-471642231),hp=new D("geoplot.feature","wkt","geoplot.feature/wkt",-1055973148),ip=new D("chsk","state","chsk/state",-1991397620),jp=new D(null,"iso8601","iso8601",609352650),kp=new D("db","id","db/id",-1388397098),lp=new D(null,"vars","vars",-2046957217),mp=new D(null,"operation","operation",-1267664310),lm=new D(null,"default","default",-1987822328),np=new D(null,"div.flex.flex-col.p-1","div.flex.flex-col.p-1",74784419),op=new D(null,"secs","secs",1532330091),pp=new A("clojure.core",
"deref","clojure.core/deref",188719157,null),qp=new D(null,"coercion","coercion",904067157),rp=new D(null,"first-attr","first-attr",-1993039831),sp=new A(null,"p1__42935#","p1__42935#",-3404211,null),tp=new D(null,"*","*",-1294732318),up=new D(null,"json","json",1279968570),vp=new D("db","retractEntity","db/retractEntity",-1452737935),wp=new D(null,"no-op","no-op",-93046065),xp=new A(null,"zero?","zero?",325758897,null),yp=new D(null,"reader-exception","reader-exception",-1938323098),zp=new A(null,
"-","-",-471816912,null),Ap=new D(null,"req-un","req-un",1074571008),Bp=new D(null,"forms","forms",2045992350),Cp=new D(null,"cur","cur",1153190599),Dp=new D(null,"branches","branches",-1240337268),Ep=new A(null,"def","def",597100991,null),Fp=new A(null,"dec","dec",-766002333,null),Gp=new D(null,"div.h-screen.flex.flex-col","div.h-screen.flex.flex-col",-892501672),Tl=new D(null,"keywordize-keys","keywordize-keys",1310784252),Hp=new D("widget","type","widget/type",-1894308144),Ip=new D(null,"pos",
"pos",-864607220),Jp=new D("cljs.spec.alpha","v","cljs.spec.alpha/v",552625740),Kp=new D("transact","upsert","transact/upsert",412688078),Lp=new D("cljs.spec.alpha","k","cljs.spec.alpha/k",-1602615178),Mp=new D(null,"output-fn","output-fn",1600951539),Np=new D(null,"elements","elements",657646735),Op=new D(null,"total","total",1916810418),Pp=new D(null,"?content","?content",1697782054),Qp=new D(null,"form","form",-1624062471),Rp=new A(null,"%","%",-950237169,null),Sp=new D(null,"pretty-writer","pretty-writer",
-1222834267),Tp=new A(null,"..","..",-300507420,null),Up=new D(null,"length-computable?","length-computable?",1915473276),Vp=new A(null,"not\x3d","not\x3d",1466536204,null),Wp=new D(null,"validator","validator",-1966190681),Xp=new D(null,"pretty","pretty",-1916372486),Yp=new D(null,"unnamespaced-id","unnamespaced-id",1976189772),Zp=new A(null,"range","range",-1014743483,null),$p=new D("widget.geoplot","features","widget.geoplot/features",-1949420440),aq=new A("clojure.string","blank?","clojure.string/blank?",
1772874244,null),bq=new D(null,"fragment","fragment",826775688),cq=new D("cljs.spec.alpha","invalid","cljs.spec.alpha/invalid",-1220295119),dq=new D("cljs.spec.alpha","pcat","cljs.spec.alpha/pcat",26406623),eq=new D("widget.geoplot","center-wsg84?","widget.geoplot/center-wsg84?",-752220489),fq=new D(null,"error-handler","error-handler",-484945776),gq=new D(null,"progress-fn","progress-fn",-1146547855),hq=new D(null,"client-id","client-id",-464622140),iq=new D("parser","with","parser/with",-386255821),
jq=new D(null,"ns-str","ns-str",-2062616499),kq=new A(null,"uuid","uuid",-504564192,null),lq=new D(null,"udt-last-comms_","udt-last-comms_",-145799639),mq=new D(null,"entity-id","entity-id",1485898093),nq=new A(null,"queue","queue",-1198599890,null),oq=new D(null,"else","else",-1508377146),pq=new A(null,"case*","case*",-1938255072,null),qq=new D(null,"params","params",710516235),rq=new D(null,"tuples","tuples",-676032639),sq=new D("db","cardinality","db/cardinality",-104975659),tq=new A(null,"struct-map",
"struct-map",-1387540878,null),uq=new D(null,"rest","rest",-1241696419),vq=new D(null,"var","var",-769682797),wq=new D(null,"commachar","commachar",652859327),xq=new D(null,"error-level?","error-level?",778415885),yq=new D(null,"ring-req","ring-req",-747861961),zq=new D(null,"loaded","loaded",-1246482293),Aq=new A(null,"re-find","re-find",1143444147,null),vl=new D(null,"val","val",128701612),Bq=new A("cljs.core","zipmap","cljs.core/zipmap",-1902130674,null),Cq=new D(null,"button","button",1456579943),
Dq=new D(null,"path-params","path-params",-48130597),oH=new D(null,"thaw-kw","thaw-kw",1076733097),Eq=new D(null,"trace-evs?","trace-evs?",1502453512),Fq=new A(null,"catch","catch",-1616370245,null),Gq=new D("cljs.spec.alpha","kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Hq=new D(null,"kind","kind",-717265803),Iq=new D(null,"validate","validate",-201300827),Jq=new D(null,"method","method",55703592),Kq=new D(null,"val-type","val-type",-279850094),Lq=new D("db.fn","call","db.fn/call",-151594418),
Mq=new D(null,"stroke-width","stroke-width",716836435),Nq=new D(null,"years","years",-1298579689),Oq=new D(null,"constructor","constructor",-1953928811),Pq=new D("cljs.spec.alpha","accept","cljs.spec.alpha/accept",370988198),Qq=new D("widget.table","height","widget.table/height",802045018),Rq=new D(null,"path-conflicts","path-conflicts",-1238675313),Sq=new D("widget.type","column","widget.type/column",-1297718293),Tq=new D(null,"hostname_","hostname_",-2091647379),Uq=new D("db","cas","db/cas",-451542322),
Vq=new A(null,"\x3e","\x3e",1085014381,null),Wq=new D(null,"?msg-fmt","?msg-fmt",-852453891),Xq=new D(null,"sections","sections",-886710106),Yq=new D(null,"lines","lines",-700165781),Zq=new A(null,"do","do",1686842252,null),$q=new D(null,"colon","colon",-965200945),ar=new D("literate","widgets","literate/widgets",1235755088),br=new D(null,"color","color",1011675173),cr=new D(null,"edn","edn",1317840885),dr=new D(null,"keys-pred","keys-pred",858984739),hr=new D(null,"minpad","minpad",323570901),ir=
new D(null,"svg.w-6.h-6","svg.w-6.h-6",-1347042122),jr=new A("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),kr=new A(null,"db","db",-1661185010,null),lr=new D(null,"println","println",1920840330),mr=new A(null,"aggregate","aggregate",-1142967327,null),nr=new A(null,"try","try",-1273693247,null),or=new D(null,"location","location",1815599388),pr=new D(null,"div.flex.flex-col.flex-1.space-y-2","div.flex.flex-col.flex-1.space-y-2",1209242693),qr=new A(null,"array-map","array-map",1555038968,
null),rr=new D(null,"on-coercion-error","on-coercion-error",-970787),sr=new A(null,"let","let",358118826,null),$b=new D(null,"flush-on-newline","flush-on-newline",-151457939),tr=new D("widget.codemirror","value","widget.codemirror/value",1562181971),ur=new A(null,"meta","meta",-1154898805,null),vr=new D(null,"rels","rels",1770187185),wr=new D("widget.type","table","widget.type/table",-1467162840),xr=new D(null,"timestamp-opts","timestamp-opts",-1359534807),yr=new D(null,"pred-exprs","pred-exprs",
1792271395),zr=new A(null,"if","if",1181717262,null),Ar=new A(null,"get-some","get-some",409442058,null),Br=new D(null,"binding","binding",539932593),Cr=new D(null,"xform","xform",-1725711008),Dr=new A(null,"hash-map","hash-map",-439030950,null),Er=new D(null,"min-count","min-count",1594709013),Fr=new A(null,"quote","quote",1377916282,null),Gr=new D(null,"hierarchy","hierarchy",-1053470341),Hr=new D(null,"catch-all","catch-all",1184112570),Ir=new D(null,"trace","trace",-1082747415),Jr=new D("rl",
"reset","rl/reset",-800926172),Kr=new A("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null),Lr=new A(null,"fn","fn",465265323,null),Mr=new D(null,"hashchange-listener","hashchange-listener",-1234988801),Nr=new D(null,"strable","strable",1877668047),Or=new D(null,"contextType","contextType",1033066077),Pr=new D(null,"symbol","symbol",-1038572696),Qr=new D("db.pull","wildcard","db.pull/wildcard",116316031),Rr=new A(null,"lift-ns","lift-ns",602311926,null),Sr=new D(null,"acc",
"acc",838566312),Tr=new D(null,"reverse-attrs","reverse-attrs",630097702),Ur=new D(null,"middleware","middleware",1462115504),Vr=new D(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Wr=new D(null,"value","value",305978217),Xr=new D(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),Yr=new D(null,"sources","sources",-321166424),Zr=new D(null,"display-name","display-name",694513143),$r=new D(null,"enabled?","enabled?",-1376075057),as=new A(null,"ns","ns",2082130287,null),bs=new D(null,
"req","req",-326448303),cs=new D(null,"ret","ret",-468222814),ds=new D(null,"both","both",-393648840),es=new D(null,"result","result",1415092211),fs=new D(null,"vector","vector",1902966158),gs=new D(null,"end","end",-268185958),hs=new D(null,"className","className",-1983287057),is=new D(null,"buffer-blob","buffer-blob",-1830112173),js=new D(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),ks=new A("clojure.core","unquote","clojure.core/unquote",843087510,null),ls=new D(null,"pull-patterns",
"pull-patterns",-343695048),ms=new D(null,"flags","flags",1775418075),ns=new D(null,"parse-tag","parse-tag",1427313738),os=new D(null,"eof","eof",-489063237),ps=new D(null,"ws-kalive-ms","ws-kalive-ms",1442179968),qs=new A(null,"-differ?","-differ?",1465687357,null),rs=new A(null,"js","js",-886355190,null),ss=new D(null,"relative-to","relative-to",-470100051),ts=new A(null,"doseq","doseq",221164135,null),us=new D("widget","parent","widget/parent",-1665940103),vs=new A("cljs.core","list?","cljs.core/list?",
-684796618,null),ws=new D(null,"max-eid","max-eid",2134868075),xs=new D(null,"stroke","stroke",1741823555),ys=new D(null,"X-CSRF-Token","X-CSRF-Token",1562992453),zs=new D(null,"used-args","used-args",23596256),As=new D(null,"symbols","symbols",1211743),Bs=new D(null,"attr","attr",-604132353),Cs=new D(null,"doc","doc",1913296891),Ds=new D("chsk","bad-package","chsk/bad-package",501893679),Es=new D(null,"cbs-waiting_","cbs-waiting_",-1519029061),Fs=new D(null,"hash_","hash_",-827203612),Gs=new D("db.cardinality",
"one","db.cardinality/one",1428352190),Hs=new D("widget.table","rows","widget.table/rows",696089204),Is=new D("parser","query","parser/query",1877320671),Js=new D(null,"?file","?file",1533429675),Ks=new D(null,"added","added",2057651688),Ls=new D("widget.codemirror","lineNumbers","widget.codemirror/lineNumbers",399725207),Ms=new D(null,"qin","qin",1372651151),Ns=new A(null,"\x3c","\x3c",993667236,null),Os=new D(null,"map","map",1371690461),Ps=new D(null,"open?","open?",1238443125),Qs=new D(null,"body",
"body",-2049205669),Rs=new D("parser","pull","parser/pull",-2147427204),Ss=new D(null,"mode","mode",654403691),Ts=new D(null,"replace","replace",-786587770),Us=new D(null,"max","max",61366548),Vs=new D(null,"pending-guards","pending-guards",-1255527308),Ws=new D(null,"url","url",276297046),Xs=new A(null,"get","get",-971253014,null),Ys=new D(null,"qwhere","qwhere",-1645067378),Zs=new D(null,"count","count",2139924085),$s=new D(null,"clauses","clauses",1454841241),at=new D(null,"conflicts","conflicts",
-1219561816),bt=new A(null,"empty?","empty?",76408555,null),ct=new A(null,"re-matches","re-matches",-1865705768,null),dt=new D(null,"ever-opened?_","ever-opened?_",1641338913),et=new D(null,"miser-width","miser-width",-1310049437),ft=new D(null,"expand","expand",595248157),gt=new A(null,"binding","binding",-2114503176,null),ht=new A(null,"ground","ground",-1460862835,null),it=new D(null,"use-fragment","use-fragment",-1617737154),jt=new D(null,"packer","packer",66077544),kt=new D("db.unique","identity",
"db.unique/identity",1675950722),lt=new D("transact","unique","transact/unique",-940992320),mt=new D(null,"splice","splice",449588165),nt=new D(null,"dispatch","dispatch",1319337009),ot=new A(null,"inst","inst",-2008473268,null),pt=new D("widget.vega-embed","spec","widget.vega-embed/spec",-1913225774),qt=new A(null,"sample","sample",1719555128,null),rt=new D(null,"max-tx","max-tx",1119558339),st=new D("lookup-ref","syntax","lookup-ref/syntax",-317304012),tt=new D(null,"?meta","?meta",-793560773),
ut=new D(null,"name","name",1843675177),vt=new D(null,"syms","syms",-1575891762),wt=new D("db.type","ref","db.type/ref",-1728373079),pH=new A(null,"schema","schema",58529736,null),xt=new A(null,"loop","loop",1244978678,null),yt=new D(null,"appender","appender",1267426510),zt=new D(null,"nav.h-14.flex.justify-end.items-center.px-10.py-2","nav.h-14.flex.justify-end.items-center.px-10.py-2",1067080416),At=new D(null,"parameter-from-args","parameter-from-args",-758446196),Bt=new D(null,"stroke-linejoin",
"stroke-linejoin",-1810816406),Ct=new D(null,"on-mouse-over","on-mouse-over",-858472552),Dt=new D(null,"chsk-url-fn","chsk-url-fn",1968894294),Et=new D(null,"raw-resp","raw-resp",-1924342506),Ft=new D(null,"section","section",-300141526),Gt=new D(null,"bracket-info","bracket-info",-1600092774),Ht=new A(null,"Inf","Inf",647172781,null),It=new A("cljs.core","map","cljs.core/map",-338988913,null),cc=new D(null,"dup","dup",556298533),Jt=new D(null,"prefix-context","prefix-context",-1269613591),Kt=new D(null,
"init-db","init-db",1595181278),Lt=new D("ajax","resp-as-text","ajax/resp-as-text",141416819),Mt=new D(null,"socket_","socket_",-361048908),Nt=new D("cljs.spec.alpha","rep","cljs.spec.alpha/rep",1483217317),Ot=new D(null,"suffix","suffix",367373057),Pt=new D("reitit.trie","trie-compiler","reitit.trie/trie-compiler",2125029755),Qt=new D(null,"qwith","qwith",-45809392),Rt=new A(null,"defn-","defn-",1097765044,null),St=new D(null,"div.flex.hover:bg-teal-50","div.flex.hover:bg-teal-50",84339423),Tt=new D(null,
"div.p-2","div.p-2",-325121057),Ut=new D(null,"required","required",1807647006),Vt=new D(null,"priority","priority",1431093715),cu=new D(null,"buffer","buffer",617295198),eu=new D(null,"inherit","inherit",-1840815422),fu=new D(null,"msg_","msg_",-1925147E3),gu=new D("db.pull","attr","db.pull/attr",-533298746),hu=new D(null,"opt-keys","opt-keys",1262688261),iu=new A(null,"when-not","when-not",-1223136340,null),ju=new D(null,"component-did-mount","component-did-mount",-1126910518),ku=new D(null,"top-displace",
"top-displace",-2094589019),lu=new D(null,"path-parts","path-parts",945822894),mu=new D(null,"?content-type","?content-type",-2129759049),nu=new D(null,"post","post",269697687),ou=new D(null,"simple-auto-threading?","simple-auto-threading?",1950754184),pu=new D("db","valueType","db/valueType",1827971944),qu=new D("db","ident","db/ident",-737096),ru=new D(null,"min","min",444991522),su=new D("literate","!transact","literate/!transact",758397308),tu=new A(null,"re-pattern","re-pattern",1047705161,null),
uu=new D(null,"conflicting","conflicting",2003828416),vu=new D(null,"column","column",2078222095),qH=new D(null,"thaw-fn","thaw-fn",-240544261),wu=new D(null,"div.flex.flex-col.items-start.container.mx-auto.py-2.space-y-3","div.flex.flex-col.items-start.container.mx-auto.py-2.space-y-3",-415679671),xu=new D(null,"recursion-limit","recursion-limit",52345639),yu=new D(null,"up-arrow","up-arrow",1705310333),zu=new A(null,"contains?","contains?",-1676812576,null),Au=new D(null,"?ratio","?ratio",-1275760831),
Bu=new A(null,"true?","true?",-1600332395,null),Cu=new D(null,"bracket","bracket",-600276523),Du=new D(null,"logical-block-callback","logical-block-callback",1612691194),Eu=new D(null,"spying?","spying?",1753444487),Fu=new D("db.cardinality","many","db.cardinality/many",772806234),Gu=new D(null,"form-params","form-params",1884296467),Hu=new D(null,"weeks","weeks",1844596125),Iu=new D("swap","dissoc","swap/dissoc",-605373782),Ju=new D(null,"ppstr","ppstr",1557495252),Ku=new D(null,"mincol","mincol",
1230695445),Lu=new D(null,"protocol","protocol",652470118),Mu=new D(null,"curr-xhr_","curr-xhr_",-1318773696),Nu=new D(null,"*assert*","*assert*",-160895053),Ou=new D(null,"listen-key","listen-key",51973686),Pu=new D(null,"itemSize","itemSize",197086731),Qu=new D("reitit.exception","cause","reitit.exception/cause",2130128734),Ru=new D(null,"deref","deref",-145586795),Su=new D("cljs.spec.alpha","unknown","cljs.spec.alpha/unknown",651034818),Tu=new D(null,"max-iterations","max-iterations",2021275563),
Uu=new D(null,"output_","output_",-36797880),Vu=new D(null,"config","config",994861415),Wu=new D(null,"onclose-fn","onclose-fn",-1388163785),Xu=new D("widget","uuid","widget/uuid",-585315811),Yu=new A(null,"deftype*","deftype*",962659890,null),Zu=new D(null,"rep+","rep+",-281382396),$u=new A(null,"NaN","NaN",666918153,null),av=new D(null,"msecs","msecs",1711980553),bv=new A(null,"defmacro","defmacro",2054157304,null),cv=new D(null,"recv-buf-or-n","recv-buf-or-n",1363950355),dv=new A(null,"vector",
"vector",-751469611,null),ev=new D("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),fv=new D(null,"whitelist","whitelist",-979294437),gv=new D(null,"errors","errors",-908790718),hv=new D(null,"loading","loading",-737050189),iv=new D(null,"ns","ns",441598760),jv=new D(null,"expected","expected",1583670997),kv=new D(null,"div.flex-1","div.flex-1",2004402050),lv=new D("geoplot.feature","feature-projection","geoplot.feature/feature-projection",-1990940774),mv=new D(null,"apparent-success",
"apparent-success",242592222),nv=new A(null,"cljs.core","cljs.core",770546058,null),ov=new D(null,"xmlns","xmlns",-1862095571),pv=new D(null,"p2","p2",905500641),qv=new A(null,"defrecord*","defrecord*",-1936366207,null),rv=new D(null,"p1","p1",-936759954),sv=new D(null,"type-tag","type-tag",-1873863267),tv=new D(null,"ms","ms",-1152709733),uv=new D(null,"middleware-fn","middleware-fn",-61585752),vv=new D(null,"readers","readers",-2118263030),wv=new A(null,"!\x3d","!\x3d",-201205829,null),xv=new D("widget.geoplot",
"zoom","widget.geoplot/zoom",1712183482),yv=new D(null,"on-dispose","on-dispose",2105306360),zv=new D("db.type","tuple","db.type/tuple",938234914),Av=new D("lookup-ref","unique","lookup-ref/unique",-960647710),Bv=new A("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null),Cv=new D(null,"headers","headers",-835030129),Dv=new D(null,"processing","processing",-1576405467),Ev=new D("widget.type","codemirror","widget.type/codemirror",2093288987),Fv=new D(null,"end-line","end-line",
1837326455),Gv=new A(null,"fn*","fn*",-752876845,null),Hv=new D(null,"ks","ks",1900203942),Iv=new D("transact","syntax","transact/syntax",-299207078),Jv=new D(null,"abort","abort",521193198),Kv=new D(null,"allow","allow",-1857325745),Lv=new D(null,"source","source",-433931539),Mv=new D(null,"bindings","bindings",1271397192),Nv=new A("cljs.core","fn","cljs.core/fn",-1065745098,null),Ov=new A(null,"median","median",-2084869638,null),Pv=new D(null,"circle","circle",1903212362),am=new D(null,"descendants",
"descendants",1824886031),Qv=new D(null,"report","report",1394055010),rH=new A(null,"validate-schema","validate-schema",758884380,null),Rv=new D(null,"strs","strs",1175537277),Sv=new D(null,"start","start",-355208981),Tv=new D(null,"ns-whitelist","ns-whitelist",-1717299774),Uv=new A(null,"complement","complement",-913606051,null),Vv=new D(null,"on-click","on-click",1632826543),Wv=new D(null,"recur","recur",-437573268),Xv=new D(null,"deny-spec","deny-spec",-1074984268),Yv=new D(null,"port","port",
1534937262),Zv=new D(null,"*?data*","*?data*",1047537922),$v=new D(null,"http","http",382524695),aw=new D(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),bw=new A(null,"resolve-datom","resolve-datom",-294110827,null),cw=new D(null,"length","length",588987862),dw=new D(null,"appender-id","appender-id",-1917983538),ew=new A(null,"with-open","with-open",172119667,null),fw=new D(null,"timeout-ms","timeout-ms",754221406),xl=new D("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),gw=
new D(null,"ps","ps",292358046),hw=new D(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),iw=new D(null,"not-delivered","not-delivered",1599158697),jw=new A(null,"if-not","if-not",-265415609,null),kw=new D(null,"blacklist","blacklist",1248093170),lw=new D(null,"state","state",-1988618099),mw=new D(null,"db-before","db-before",-553691536),nw=new A(null,"\x3d\x3d","\x3d\x3d",-234118149,null),ow=new A("cljs.core","unquote","cljs.core/unquote",1013085760,null),pw=new D(null,"div.flex.border-b.border-teal-500.pb-1.mb-1",
"div.flex.border-b.border-teal-500.pb-1.mb-1",271713629),qw=new D(null,"no-cache","no-cache",1588056370),sH=new D(null,"serialize","serialize",-69216574),rw=new A(null,"dotimes","dotimes",-818708397,null),sw=new D(null,"raw-console?","raw-console?",-2061489061),tw=new D(null,"exception","exception",-335277064),uw=new D(null,"conform-keys","conform-keys",-1800041814),vw=new D(null,"op","op",-1882987955),ww=new A(null,"finally","finally",-1065347064,null),xw=new A(null,"str","str",-1564826950,null),
yw=new A(null,"/","/",-1371932971,null),zw=new D(null,"router","router",1091916230),Aw=new D(null,"routes","routes",457900162),GH=new D(null,"with-let29774","with-let29774",-1398179380),Bw=new D(null,"buffering","buffering",-876713613),Cw=new D("ajax","bad-response-type","ajax/bad-response-type",789441015),Dw=new D(null,"prefix-clauses","prefix-clauses",1294180028),Ew=new D(null,"illegal-argument","illegal-argument",-1845493170),Fw=new D(null,"first-open?","first-open?",396686530),Gw=new D(null,"opt-un",
"opt-un",883442496),Hw=new D("chsk","ws-ping","chsk/ws-ping",191675304),Iw=new D(null,"rule","rule",729973257),Jw=new D("widget.codemirror","width","widget.codemirror/width",851267293),Kw=new D(null,"template","template",-702405684),Lw=new D(null,"wildcard?","wildcard?",-686044101),Mw=new A(null,"pos?","pos?",-244377722,null),Nw=new D("query","inputs","query/inputs",1042810394),Ow=new D(null,"attribute","attribute",-2074029119),Pw=new A(null,"default","default",-347290801,null),Qw=new D(null,"tx",
"tx",466630418),Rw=new A(null,"locking","locking",1542862874,null),Sw=new D(null,"function-components","function-components",1492814963),Tw=new A(null,"subs","subs",1453849536,null),Uw=new D(null,"parameters","parameters",-1229919748),Vw=new D(null,"seq","seq",-1817803783),Ww=new A(null,"pr-str","pr-str",-2066912145,null),Xw=new D(null,"set","set",304602554),Yw=new D(null,"flush?","flush?",-108887231),Zw=new D(null,"handshake?","handshake?",-423743093),$w=new A(null,"or-join","or-join",591375469,
null),ax=new A(null,"sum","sum",1777518341,null),bx=new D("reitit.coercion","extract-request-format","reitit.coercion/extract-request-format",-1687953607),cx=new A(null,"some?","some?",234752293,null),dx=new D(null,"handshake","handshake",68079331),ex=new D(null,"error","error",-978969032),fx=new D(null,"base","base",185279322),gx=new D(null,"actual","actual",107306363),hx=new D(null,"event","event",301435442),ix=new A(null,"letfn*","letfn*",-110097810,null),jx=new D(null,"prefix","prefix",-265908465),
kx=new D("geoplot.style","fill","geoplot.style/fill",-660763808),lx=new D(null,"name-conflicts","name-conflicts",-2016386444),mx=new D("parser","binding","parser/binding",-346395752),nx=new D(null,"start-pos","start-pos",668789086),Ml=new D(null,"keyword-fn","keyword-fn",-64566675),ox=new D(null,"first","first",-644103046),px=new D(null,"pathname","pathname",-1420497528),qx=new A(null,"re-seq","re-seq",-2105554076,null),rx=new D(null,"?err","?err",549653299),sx=new D(null,"body-params","body-params",
-369749490),tx=new A(null,"recur","recur",1202958259,null),ux=new D("widget.type","markdown","widget.type/markdown",177221797),vx=new D(null,"impl_","impl_",1218818179),wx=new D("parser","rule-var","parser/rule-var",-1584354459),xx=new D(null,"callback","callback",-705136228),yx=new D("cljs.spec.alpha","op","cljs.spec.alpha/op",-1269055252),zx=new D(null,"ws","ws",86841443),Ax=new D(null,"span","span",1394872991),Bx=new D(null,"terminators","terminators",-1448255712),Cx=new D(null,"async?","async?",
1523057758),Dx=new D(null,"viewBox","viewBox",-469489477),Ex=new D(null,"itemCount","itemCount",1702035352),Fx=new D("entity-id","missing","entity-id/missing",1234588374),Gx=new A(null,"count","count",-514511684,null),Hx=new D(null,"no-stacktrace?","no-stacktrace?",1701072694),Ix=new D(null,"displace","displace",-1153355602),Jx=new D("reitit.trie","parameters","reitit.trie/parameters",-1304786787),Kx=new D(null,"qfind","qfind",1529332972),Lx=new D(null,"handler","handler",-195596612),Mx=new D(null,
"intra-block-nl","intra-block-nl",1808826875),Nx=new D("parser","rule-vars","parser/rule-vars",-1493174969),Ox=new D(null,"gen-max","gen-max",-793680445),bc=new D(null,"meta","meta",1499536964),Px=new A(null,"not-join","not-join",-645515756,null),Qx=new D("widget.type","html","widget.type/html",-2034153477),Rx=new D(null,"datoms","datoms",-290874434),Sx=new D(null,"search","search",1564939822),Tx=new D("geoplot.feature","style","geoplot.feature/style",-895485302),Ux=new D(null,"right","right",-452581833),
Vx=new D(null,"compile","compile",608186429),Wx=new D(null,"host","host",-1558485167),Xx=new D(null,"err","err",-2089457205),Yx=new A(null,"when","when",1064114221,null),Zx=new A("cljs.core","set?","cljs.core/set?",-1176684971,null),$x=new D(null,"logical-blocks","logical-blocks",-1466339776),ay=new D(null,"\x3cserver","\x3cserver",-2135373537),by=new A(null,"\x3e\x3d","\x3e\x3d",1016916022,null),cy=new D(null,"find","find",496279456),dy=new D(null,"fatal","fatal",1874419888),ey=new D(null,"rate-limit",
"rate-limit",1748082022),fy=new D(null,"namespaced-keyword","namespaced-keyword",131372895),gy=new A(null,"nil?","nil?",1612038930,null),hy=new D("widget.geoplot","height","widget.geoplot/height",774138358),iy=new D(null,"ref?","ref?",1932693720),jy=new D(null,"start-col","start-col",668080143),HH=new D(null,"transact","transact",-267998670),ky=new D("widget.geoplot","width","widget.geoplot/width",-600671533),ly=new D(null,"into","into",-150836029),my=new A(null,"set!","set!",250714521,null),ny=new D(null,
"title","title",636505583),oy=new D("widget.geoplot","style","widget.geoplot/style",1499653960),py=new D(null,"new","new",-2085437848),qy=new D("db","retract","db/retract",-1549825231),ty=new D(null,"free","free",801364328),vy=new D(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),wy=new D(null,"instant","instant",655498374),xy=new A(null,"\x3c\x3d","\x3c\x3d",1244895369,null),yy=new D(null,"ex-kind","ex-kind",1581199296),zy=new D(null,"last-ws-error","last-ws-error",-820288502),Ay=new D(null,
"schema","schema",-1582001791),By=new D(null,"tx-data","tx-data",934159761),Cy=new D(null,"amp","amp",271690571),Dy=new D("db.unique","value","db.unique/value",276903088),Ey=new D(null,"csrf-token","csrf-token",-1872302856),Fy=new D("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),Gy=new D("reitit.coercion","parameter-coercion","reitit.coercion/parameter-coercion",-1825124100),Hy=new A(null,"-Inf","-Inf",-2123243689,null),Iy=new D(null,"any","any",1705907423),Jy=new D(null,"client-uuid",
"client-uuid",-1717531965),Ky=new A(null,"name","name",-810760592,null),Ly=new D(null,"padchar","padchar",2018584530),My=new D(null,"unexpected","unexpected",-1137752424),Ny=new D(null,"elidable?","elidable?",248362249),Oy=new D(null,"children","children",-940561982),Py=new D(null,"cache?","cache?",-1601953949),dc=new D(null,"print-length","print-length",1931866356),Qy=new D(null,"nil","nil",99600501),Ry=new A(null,"odd?","odd?",-1458588199,null),Sy=new D("widget.type","vega-embed","widget.type/vega-embed",
-887166019),Ty=new D(null,"allow-spec","allow-spec",448749872),Vy=new D(null,"popstate-listener","popstate-listener",806944472),Wy=new D(null,"buffer-block","buffer-block",-10937307),Xy=new D("db.pull","reverse","db.pull/reverse",1999788297),Yy=new D(null,"remaining-arg-count","remaining-arg-count",-1216589335),Zy=new A(null,"keyword","keyword",-1843046022,null),$y=new D(null,"div.prose.prose-sm","div.prose.prose-sm",430504998),az=new D("db","attrTuples","db/attrTuples",860541631),bz=new D(null,"stroke-linecap",
"stroke-linecap",-1201103248),cz=new D("datascript.db","internal","datascript.db/internal",-249301114),dz=new A(null,"rand","rand",-1745930995,null),ez=new D(null,"prepend","prepend",342616040),fz=new D(null,"pull-attrs","pull-attrs",-974863177),gz=new D(null,"on-write","on-write",31519475),hz=new A(null,"set","set",1945134081,null),iz=new D(null,"commainterval","commainterval",-1980061083),jz=new D(null,"query-params","query-params",900640534),kz=new D("db.fn","retractAttribute","db.fn/retractAttribute",
937402164),lz=new D(null,"keywordize?","keywordize?",-234306912),mz=new D(null,"send-buffers","send-buffers",-1788003787),nz=new D(null,"on-mouse-leave","on-mouse-leave",-1864319528),oz=new D(null,"separator","separator",-1628749125),pz=new A("datascript","Datom","datascript/Datom",-901340080,null),qz=new A(null,"defonce","defonce",-1681484013,null),rz=new D("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977),sz=new D(null,"buffer-level","buffer-level",928864731),tz=new D("reitit.trie",
"unclosed-brackets","reitit.trie/unclosed-brackets",1599327560),uz=new D("rl","all","rl/all",892118056),vz=new D(null,"ever-opened?","ever-opened?",1128459732),Dl=new D(null,"pending","pending",-220036727),ac=new D(null,"readably","readably",1129599760),wz=new D(null,"contextTypes","contextTypes",-2023853910),xz=new D(null,"chsk","chsk",-863703081),yz=new D("datascript.impl.entity","nf","datascript.impl.entity/nf",-953741353),zz=new D(null,"file","file",-1269645878),Az=new D(null,"rschema","rschema",
-1196134054),Bz=new D(null,"fill","fill",883462889),Cz=new D("widget.table","columns","widget.table/columns",2077293308),Dz=new D(null,"attrs","attrs",-2090668713),Ez=new D(null,"months","months",-45571637),Fz=new D(null,"radix","radix",857016463),Gz=new D(null,"send-fn","send-fn",351002041),Hz=new D(null,"text","text",-1790561697),Iz=new D(null,"distinct","distinct",-1788879121),Jz=new D(null,"block","block",664686210),Kz=new D(null,"div.flex.space-x-2","div.flex.space-x-2",191162917),Lz=new D(null,
"variable","variable",-281346492),bm=new D(null,"ancestors","ancestors",-776045424),Mz=new D(null,"listeners","listeners",394544445),Nz=new D(null,"retry-count_","retry-count_",20238093),Oz=new D(null,"hostname","hostname",2105669933),Pz=new D(null,"min-remaining","min-remaining",962687677),Qz=new D(null,"?data","?data",-9471433),Rz=new D(null,"offset","offset",296498311),Sz=new A(null,"-\x3e","-\x3e",-2139605430,null),Tz=new D(null,"db-after","db-after",-571884666),Uz=new D(null,"render","render",
-1408033454),Vz=new D(null,"entity","entity",-450970276),Wz=new D(null,"timeout","timeout",-318625318),Xz=new D(null,"arglists","arglists",1661989754),Yz=new A(null,"js*","js*",-1134233646,null),Zz=new D(null,"end-pos","end-pos",-1643883926),$z=new D(null,"auto-run","auto-run",1958400437),aA=new D(null,"min-version","min-version",-1697197126),bA=new D(null,"pred-forms","pred-forms",172611832),cA=new D(null,"hours","hours",58380855),dA=new A(null,"tuple","tuple",1167864243,null),eA=new A(null,"count-distinct",
"count-distinct",-1566572514,null),fA=new D(null,"get","get",1683182755),gA=new A(null,"defn","defn",-126010802,null),hA=new A(null,"struct","struct",325972931,null),iA=new D(null,"recursion-limits","recursion-limits",1762857814),jA=new D("reitit.trie","multiple-terminators","reitit.trie/multiple-terminators",-116295163),kA=new D(null,"gfn","gfn",791517474),lA=new D(null,"namespaced-map","namespaced-map",1235665380),mA=new A(null,"prn-str","prn-str",-145225943,null),nA=new A(null,"...","...",-1926939749,
null),oA=new D("widget.table","row-height","widget.table/row-height",570139217),pA=new D(null,"childContextTypes","childContextTypes",578717991),qA=new D(null,"input","input",556931961),rA=new D(null,"onerror-fn","onerror-fn",1069372505),sA=new D(null,"xhr","xhr",-177710851),tA=new D(null,"\x3e","\x3e",-555517146),uA=new D(null,"eavt","eavt",-666437073),vA=new D(null,"mins","mins",467369676),wA=new D(null,"tag","tag",-1290361223),xA=new D(null,"linear","linear",872268697),yA=new A(null,"new","new",
-444906321,null),zA=new D(null,"syntax","syntax",-1637761676),AA=new D(null,"?line","?line",-631853385),BA=new D(null,"test","test",577538877),CA=new A(null,"\x3d","\x3d",-1501502141,null),DA=new D(null,"coerce","coerce",1917884504),EA=new A("datascript","DB","datascript/DB",-487332776,null),il=new D(null,"alt-impl","alt-impl",670969595),FA=new A(null,"not-empty","not-empty",2029453590,null),GA=new D(null,"conflict","conflict",1978796605),HA=new D(null,"datom","datom",-371556090),IA=new D(null,"given",
"given",716253602),JA=new D(null,"path","path",-188191168),KA=new A(null,"with-local-vars","with-local-vars",837642072,null),LA=new D(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),MA=new A(null,"and","and",668631710,null),NA=new D(null,"xml","xml",-1170142052),OA=new A(null,"throw","throw",595905694,null),PA=new D(null,"?reply-fn","?reply-fn",-1479510592),QA=new A(null,"print-str","print-str",-699700354,null),RA=new D(null,"opt-specs","opt-specs",-384905450),SA=new D(null,"wrong-length",
"wrong-length",1367572281),IH=new D(null,"import","import",-1399500709),TA=new D(null,"rules","rules",1198912366),UA=new D(null,"character","character",380652989),VA=new D("cljs.spec.alpha","kfn","cljs.spec.alpha/kfn",672643897),WA=new D(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),XA=new D(null,"reagent-render","reagent-render",-985383853),YA=new A(null,"loop*","loop*",615029416,null),ZA=new D(null,"last","last",1105735132),$A=new A("cljs.core","vector?","cljs.core/vector?",-1550392028,null),
aB=new A("cljs.core","lift-ns","cljs.core/lift-ns",463499081,null),bB=new D(null,"k","k",-2146297393),cB=new D(null,"div.flex.flex-1.space-x-2","div.flex.flex-1.space-x-2",-1554471704),dB=new D(null,"qreturn-map","qreturn-map",1841215994),eB=new D(null,"e","e",1381269198),fB=new D(null,"f","f",-1597136552),gB=new D(null,"d","d",1972142424),hB=new D(null,"a","a",-2123407586),iB=new A(null,"pull","pull",779986722,null),jB=new D(null,"ajax-cb","ajax-cb",-807060321),kB=new D(null,"w","w",354169001),lB=
new D(null,"v","v",21465059),mB=new D("geoplot.style","stroke","geoplot.style/stroke",-1145366218),nB=new D(null,"last-close","last-close",-2054255782),oB=new D(null,"p","p",151049309),pB=new D(null,"componentWillUnmount","componentWillUnmount",1573788814),qB=new D(null,"n","n",562130025),rB=new D(null,"func","func",-238706040),sB=new D(null,"got","got",-1674745710),tB=new A("cljs.core","contains?","cljs.core/contains?",-976526835,null),uB=new D(null,"indent-t","indent-t",528318969),vB=new D("widget.codemirror",
"mode","widget.codemirror/mode",-517946799),jl=new D(null,"fallback-impl","fallback-impl",-1501286995),wB=new D(null,"lookup","lookup",1225356838),xB=new D(null,"height","height",1025178622),yB=new D("parser","rule","parser/rule",-464044566),zB=new D(null,"chs","chs",376886120),AB=new D("widget.codemirror","height","widget.codemirror/height",-960842196),BB=new D(null,"ns-filter","ns-filter",108598448),CB=new D(null,"last-fragment","last-fragment",-919830173),DB=new D(null,"debug","debug",-1608172596),
EB=new D(null,"wrong-type","wrong-type",929556915),FB=new D(null,"connected-uids","connected-uids",1454332231),GB=new D(null,"req-specs","req-specs",553962313),HB=new A(null,"distinct","distinct",-148347594,null),IB=new A(null,"get-else","get-else",1312024065,null),JB=new D(null,"allows-separator","allows-separator",-818967742),KB=new D(null,"appenders","appenders",1245583998),LB=new D(null,"colon-up-arrow","colon-up-arrow",244853007),MB=new A(null,"*","*",345799209,null),NB=new D("rl","peek","rl/peek",
-291391771),OB=new A(null,"avg","avg",1837937727,null),PB=new A(null,"not","not",1044554643,null),QB=new A("cljs.spec.alpha","conformer","cljs.spec.alpha/conformer",2140085535,null),RB=new D("geoplot","color","geoplot/color",831577171),SB=new D(null,"unknown","unknown",-935977881),$k=new D(null,"more-marker","more-marker",-14717935),TB=new D(null,"index-access","index-access",-1548960265),UB=new A(null,"p1__42934#","p1__42934#",-1269573674,null),VB=new D("parser","where","parser/where",-966053850),
WB=new D(null,"aevt","aevt",-585148059),XB=new D(null,"nl-t","nl-t",-1608382114),YB=new A(null,"var","var",870848730,null),ZB=new D(null,"qualifier","qualifier",125841738),Cl=new D(null,"ready","ready",1086465795),$B=new A(null,"neg?","neg?",-1902175577,null),aC=new D(null,"http-error","http-error",-1040049553),bC=new A(null,"untuple","untuple",-606149900,null),cC=new D(null,"displayName","displayName",-809144601),dC=new D("cljs.spec.alpha","gfn","cljs.spec.alpha/gfn",-593120375),eC=new A(null,"mod",
"mod",1510044207,null),fC=new A(null,"cond","cond",1606708055,null),gC=new D(null,"element","element",1974019749),hC=new D(null,"char-format","char-format",-1016499218),iC=new A(null,"type","type",-1480165421,null),jC=new D(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),kC=new D(null,"max-columns","max-columns",1742323262),lC=new D(null,"recursive?","recursive?",1340075244),mC=new D(null,"last-ws-close","last-ws-close",-798104932),nC=new A(null,"when-let","when-let",-1383043480,
null),oC=new D("db","index","db/index",-1531680669),pC=new D(null,"header","header",119441134),qC=new D(null,"state_","state_",957667102),rC=new D(null,"index","index",-1531685915),sC=new D("widget.html","src","widget.html/src",1397441752),tC=new D(null,"class","class",-2030961996),uC=new D(null,"success?","success?",-122854052),vC=new D("datascript.db","queued-tuples","datascript.db/queued-tuples",-762852029),wC=new A(null,".",".",1975675962,null),xC=new D(null,"at","at",1476951349),yC=new D(null,
"span.font-bold","span.font-bold",-460884588),zC=new D(null,"ignore-anchor-click?","ignore-anchor-click?",-186007337),AC=new D(null,"reverse?","reverse?",-1672868474),BC=new D("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),CC=new D("widget","markdown","widget/markdown",-145862203),DC=new D(null,"__html","__html",674048345),EC=new D("widget.geoplot","center","widget.geoplot/center",-530369016),FC=new D(null,"as","as",1148689641),GC=new D(null,"vargs","vargs",-966597273),HC=new D("chsk",
"bad-event","chsk/bad-event",-565206930),IC=new D(null,"click-listen-key","click-listen-key",642240955),JC=new D(null,"queue","queue",1455835879),KC=new D(null,"stacktrace-fonts","stacktrace-fonts",830799382),LC=new D(null,"warn","warn",-436710552),MC=new D("parser","find","parser/find",-801023103),NC=new D(null,"selector","selector",762528866),JH=new A("datascript.db","rschema","datascript.db/rschema",1982085018,null),OC=new D(null,"miser","miser",-556060186),PC=new D(null,"ajax","ajax",814345549),
QC=new D(null,"on-set","on-set",-140953470),RC=new A(null,"inc","inc",324505433,null),SC=new D(null,"rule-vars","rule-vars",1665972520),TC=new D(null,"backoff-ms-fn","backoff-ms-fn",772895955),UC=new D(null,"context","context",-830191113),VC=new D(null,"colnum","colnum",2023796854),WC=new A(null,"even?","even?",-1827825394,null),XC=new D(null,"timestamp_","timestamp_",-954533417),YC=new D(null,"query","query",-1288509510),ZC=new D(null,"fn","fn",-1175266204),$C=new D(null,"args","args",1315556576),
KH=new D(null,"freeze-kw","freeze-kw",391758233),aD=new D(null,"old","old",-1825222690),bD=new D(null,"pattern","pattern",242135423),cD=new D(null,"component-did-update","component-did-update",-1468549173),dD=new D(null,"ev","ev",-406827324),eD=new D("muuntaja","request","muuntaja/request",-1616403792),fD=new D(null,"console","console",1228072057),gD=new D("parser","in","parser/in",1617442048),BI=new A("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null),hD=new D(null,
"on-navigate","on-navigate",-297227908),iD=new D(null,"hash","hash",-13781596),jD=new A(null,"namespace","namespace",1263021155,null),kD=new D(null,"div.flex.flex-col.flex-1.items-center.justify-center","div.flex.flex-col.flex-1.items-center.justify-center",-1334433298),lD=new D(null,"arg3","arg3",-1486822496),mD=new D(null,"min-level","min-level",1634684919),nD=new D(null,"arg1","arg1",951899358),oD=new D(null,"arg2","arg2",1729550917),pD=new D(null,"list","list",765357683),qD=new D(null,"dt","dt",
-368444759),rD=new D("geoplot.feature","data-projection","geoplot.feature/data-projection",-1161515945),uJ=new A(null,"rschema","rschema",444397473,null),sD=new D(null,"key","key",-1516042587),tD=new D(null,"db","db",993250759),uD=new A(null,"rand-int","rand-int",-495012157,null),vD=new D("chsk","recv","chsk/recv",561097091),wD=new D(null,"svg","svg",856789142),xD=new A(null,"+","+",-740910886,null),yD=new D(null,"generator-fn","generator-fn",811851656),zD=new D(null,"req-keys","req-keys",514319221),
AD=new D(null,"resp-type","resp-type",1050675962),BD=new D(null,"overflowchar","overflowchar",-1620088106),CD=new D(null,"cb","cb",589947841),DD=new D(null,"with","with",-1536296876),$l=new D(null,"parents","parents",-2027538891),ED=new D("chsk","handshake","chsk/handshake",64910686),FD=new D(null,"with-credentials?","with-credentials?",-1773202222),GD=new D("widget.type","row","widget.type/row",330405211),HD=new A(null,"if-let","if-let",1803593690,null),ID=new D("chsk","dummy-cb-200","chsk/dummy-cb-200",
-1663130337),JD=new A(null,"condp","condp",1054325175,null),KD=new A(null,"rem","rem",664046770,null),LD=new D(null,"in","in",-1531184865),MD=new D(null,"opt","opt",-794706369),ND=new D(null,"reason","reason",-2070751759),TJ=new D(null,"freeze-fn","freeze-fn",-575885995),OD=new D(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),PD=new D(null,"assertion","assertion",-1645134882),QD=new D(null,"id","id",-1388402092),RD=new A(null,"?e","?e",-1194391683,null),SD=new D(null,"stream","stream",
1534941648),TD=new D(null,"last-attr","last-attr",-526000708),UD=new A(null,"false?","false?",-1522377573,null),VD=new D(null,"ajax-opts","ajax-opts",-518239109),WD=new D(null,"indent","indent",-148200125),XD=new D("chsk","closed","chsk/closed",-922855264),YD=new D("db","add","db/add",235286841),ZD=new D("widget.type","geoplot","widget.type/geoplot",298472257),$D=new D("reitit.trie","following-parameters","reitit.trie/following-parameters",-1072685800),aE=new D(null,"else-params","else-params",-832171646),
bE=new D(null,"keyword","keyword",811389747),cE=new D(null,"end-block-t","end-block-t",1544648735),dE=new D(null,"tempids","tempids",1767509089),eE=new D(null,"max-count","max-count",1539185305);function fE(a,b,c){var d=RegExp,e=b.source,f=r(b.ignoreCase)?"gi":"g";f=r(b.multiline)?[f,"m"].join(""):f;b=r(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function gE(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=Uh(2,d);if(E.B(K(d),1))return d=H(d),a.C?a.C(d):a.call(null,d);d=Li(d);return a.C?a.C(d):a.call(null,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}
function hE(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?fE(a,b,c):fE(a,b,gE(c));throw["Invalid match arg: ",t.C(b)].join("");}function iE(a,b){var c=new Pb;for(b=G(b);;)if(null!=b)c.append(t.C(H(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}
function jE(a,b){if(0>=b||b>=2+K(a))return hf.B(Li(Ze("",Rh.B(t,G(a)))),"");if(r(jg.B?jg.B(1,b):jg.call(null,1,b)))return new X(null,1,5,Z,[a],null);if(r(jg.B?jg.B(2,b):jg.call(null,2,b)))return new X(null,2,5,Z,["",a],null);b-=2;return hf.B(Li(Ze("",Ui(Li(Rh.B(t,G(a))),0,b))),lg.B(a,b))}function kE(a,b){return lE(a,b,0)}
function lE(a,b,c){if("/(?:)/"===t.C(b))b=jE(a,c);else if(1>c)b=Li(t.C(a).split(b));else a:for(var d=c,e=jf;;){if(1===d){b=hf.B(e,a);break a}var f=Vk(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+K(f));--d;e=hf.B(e,a.substring(0,h));a=f}else{b=hf.B(e,a);break a}}if(0===c&&1<K(b))a:for(c=b;;)if(""===(null==c?null:bd(c)))c=null==c?null:cd(c);else break a;else c=b;return c}function mE(a){return Qa(null==a?"":String(a))}function rE(a){a=a.indexOf("/");return 0>a?null:a}
function sE(a,b,c){a=a.indexOf(b,c);return 0>a?null:a};var tE={},uE,vE,wE,xE,yE,zE,AE=function AE(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return AE.I(c)};AE.I=function(a){return yd(Tb,Ug(ql,a))};AE.aa=0;AE.fa=function(a){return this.I(G(a))};var BE=function BE(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return BE.I(c)};BE.I=function(a){return yd(Tb,Ug(ol,a))};BE.aa=0;BE.fa=function(a){return this.I(G(a))};
function CE(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new se(b.slice(0),0,null):null;Ug(BE,b);yd(Tb,"\n")}function DE(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function EE(a,b,c){var d=c;for(c=jf;;){if(tf(d))return new X(null,2,5,Z,[c,b],null);var e=H(d);d=J(d);e=Ug(a,new X(null,2,5,Z,[e,b],null));b=N(e,0,null);e=N(e,1,null);c=hf.B(c,b);b=e}}function FE(a,b){var c=b;for(b=jf;;){var d=Ug(a,new X(null,1,5,Z,[c],null));c=N(d,0,null);d=N(d,1,null);if(kc(c))return new X(null,2,5,Z,[b,d],null);b=hf.B(b,c);c=d}}
function GE(a){return new X(null,2,5,Z,[gi.B(W,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Cg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);var u=N(n,0,null);N(n,1,null);k.add(new X(null,2,5,Z,[p,u],null));m+=1}else{f=!0;break a}return f?Eg(Gg(k),d(Qd(e))):Eg(Gg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);h=N(f,0,null);N(f,1,null);return Ze(new X(null,2,5,Z,[k,h],null),d(ve(e)))}return null}},null,null)}(a)}()),
gi.B(W,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Cg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);N(n,0,null);n=N(n,1,null);k.add(new X(null,2,5,Z,[p,n],null));m+=1}else{f=!0;break a}return f?Eg(Gg(k),d(Qd(e))):Eg(Gg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);N(f,0,null);f=N(f,1,null);return Ze(new X(null,2,5,Z,[k,f],null),d(ve(e)))}return null}},null,null)}(a)}())],null)}
function HE(a,b){return gi.B(W,function(){return function e(d){return new wg(null,function(){for(;;){var f=G(d);if(f){if(Af(f)){var h=Pd(f),k=K(h),m=Cg(k);a:for(var n=0;;)if(n<k){var p=x(h,n),u=N(p,0,null);p=N(p,1,null);m.add(new X(null,2,5,Z,[u,new X(null,2,5,Z,[p,b],null)],null));n+=1}else{h=!0;break a}return h?Eg(Gg(m),e(Qd(f))):Eg(Gg(m),null)}h=H(f);m=N(h,0,null);h=N(h,1,null);return Ze(new X(null,2,5,Z,[m,new X(null,2,5,Z,[h,b],null)],null),e(ve(f)))}return null}},null,null)}(a)}())}
function IE(){var a=Tb;if(null!=a&&null!=a.lh)a.lh(a);else{var b=IE[ha(null==a?null:a)];if(null!=b)b.C?b.C(a):b.call(null,a);else if(b=IE._,null!=b)b.C?b.C(a):b.call(null,a);else throw pc("IPrettyFlush.-ppflush",a);}}function JE(a,b){a=y(y(a));return b.C?b.C(a):b.call(null,a)}function KE(a,b,c){Ih.R(y(a),Q,b,c)}function LE(a,b){E.B(b,"\n")?(KE(a,Cp,0),KE(a,Cm,JE(a,Cm)+1)):KE(a,Cp,JE(a,Cp)+1);return yd(JE(a,fx),b)}
function ME(a,b){var c=Fh(new q(null,4,[Us,b,Cp,0,Cm,0,fx,a],null));if("undefined"===typeof Qb||"undefined"===typeof tE||"undefined"===typeof uE)uE=function(d,e,f,h){this.vb=d;this.Ch=e;this.fields=f;this.Jk=h;this.O=1074167808;this.T=0},uE.prototype.ha=function(d,e){return new uE(this.vb,this.Ch,this.fields,e)},uE.prototype.ga=function(){return this.Jk},uE.prototype.ic=function(){return this.fields},uE.prototype.Rd=function(){return zd(this.vb)},uE.prototype.ue=function(d,e){d=oc(e);if(r(E.B?E.B(String,
d):E.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?KE(this,Cp,JE(this,Cp)+K(e)):(KE(this,Cp,K(e)-d-1),KE(this,Cm,JE(this,Cm)+K(ei(function(f){return E.B(f,"\n")},e)))),yd(JE(this,fx),e);if(r(E.B?E.B(Number,d):E.call(null,Number,d)))return LE(this,e);throw Error(["No matching clause: ",t.C(d)].join(""));},uE.Wa=!0,uE.Sa="cljs.pprint/t_cljs$pprint20475",uE.Za=function(d){return yd(d,"cljs.pprint/t_cljs$pprint20475")};return new uE(a,b,c,W)}
function NE(a,b,c,d,e,f,h,k,m,n,p,u,v){this.parent=a;this.hc=b;this.Yb=c;this.indent=d;this.ac=e;this.bc=f;this.prefix=h;this.fc=k;this.suffix=m;this.cc=n;this.G=p;this.F=u;this.J=v;this.O=2230716170;this.T=139264}g=NE.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "parent":return this.parent;case "section":return this.hc;case "start-col":return this.Yb;case "indent":return this.indent;case "done-nl":return this.ac;case "intra-block-nl":return this.bc;case "prefix":return this.prefix;case "per-line-prefix":return this.fc;case "suffix":return this.suffix;case "logical-block-callback":return this.cc;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,V.B(new X(null,10,5,Z,[new X(null,2,5,Z,[Xo,this.parent],null),new X(null,2,5,Z,[Ft,this.hc],null),new X(null,2,5,Z,[jy,this.Yb],null),new X(null,2,5,Z,[WD,this.indent],null),new X(null,2,5,Z,[Vm,this.ac],null),new X(null,2,5,Z,[Mx,this.bc],null),new X(null,2,5,Z,[jx,this.prefix],null),new X(null,2,5,Z,[Lm,this.fc],null),new X(null,2,5,Z,[Ot,this.suffix],null),new X(null,2,5,Z,[Du,
this.cc],null)],null),this.F))};g.qa=function(){return new ej(this,10,new X(null,10,5,Z,[Xo,Ft,jy,WD,Vm,Mx,jx,Lm,Ot,Du],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new NE(this.parent,this.hc,this.Yb,this.indent,this.ac,this.bc,this.prefix,this.fc,this.suffix,this.cc,this.G,this.F,this.J)};g.la=function(){return 10+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1977012399^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.parent,b.parent)&&E.B(this.hc,b.hc)&&E.B(this.Yb,b.Yb)&&E.B(this.indent,b.indent)&&E.B(this.ac,b.ac)&&E.B(this.bc,b.bc)&&E.B(this.prefix,b.prefix)&&E.B(this.fc,b.fc)&&E.B(this.suffix,b.suffix)&&E.B(this.cc,b.cc)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,10,[Ot,null,WD,null,Xo,null,Ft,null,Vm,null,jy,null,jx,null,Lm,null,Du,null,Mx,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new NE(this.parent,this.hc,this.Yb,this.indent,this.ac,this.bc,this.prefix,this.fc,this.suffix,this.cc,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "parent":case "section":case "start-col":case "indent":case "done-nl":case "intra-block-nl":case "prefix":case "per-line-prefix":case "suffix":case "logical-block-callback":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Xo,b):U.call(null,Xo,b))?new NE(c,this.hc,this.Yb,this.indent,this.ac,this.bc,this.prefix,this.fc,this.suffix,this.cc,this.G,this.F,null):r(U.B?U.B(Ft,b):U.call(null,Ft,b))?new NE(this.parent,c,this.Yb,this.indent,this.ac,this.bc,this.prefix,this.fc,this.suffix,this.cc,this.G,this.F,null):r(U.B?U.B(jy,b):U.call(null,jy,b))?new NE(this.parent,this.hc,c,this.indent,this.ac,this.bc,this.prefix,this.fc,this.suffix,this.cc,this.G,this.F,null):r(U.B?U.B(WD,b):U.call(null,
WD,b))?new NE(this.parent,this.hc,this.Yb,c,this.ac,this.bc,this.prefix,this.fc,this.suffix,this.cc,this.G,this.F,null):r(U.B?U.B(Vm,b):U.call(null,Vm,b))?new NE(this.parent,this.hc,this.Yb,this.indent,c,this.bc,this.prefix,this.fc,this.suffix,this.cc,this.G,this.F,null):r(U.B?U.B(Mx,b):U.call(null,Mx,b))?new NE(this.parent,this.hc,this.Yb,this.indent,this.ac,c,this.prefix,this.fc,this.suffix,this.cc,this.G,this.F,null):r(U.B?U.B(jx,b):U.call(null,jx,b))?new NE(this.parent,this.hc,this.Yb,this.indent,
this.ac,this.bc,c,this.fc,this.suffix,this.cc,this.G,this.F,null):r(U.B?U.B(Lm,b):U.call(null,Lm,b))?new NE(this.parent,this.hc,this.Yb,this.indent,this.ac,this.bc,this.prefix,c,this.suffix,this.cc,this.G,this.F,null):r(U.B?U.B(Ot,b):U.call(null,Ot,b))?new NE(this.parent,this.hc,this.Yb,this.indent,this.ac,this.bc,this.prefix,this.fc,c,this.cc,this.G,this.F,null):r(U.B?U.B(Du,b):U.call(null,Du,b))?new NE(this.parent,this.hc,this.Yb,this.indent,this.ac,this.bc,this.prefix,this.fc,this.suffix,c,this.G,
this.F,null):new NE(this.parent,this.hc,this.Yb,this.indent,this.ac,this.bc,this.prefix,this.fc,this.suffix,this.cc,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,10,5,Z,[new Y(Xo,this.parent,null),new Y(Ft,this.hc,null),new Y(jy,this.Yb,null),new Y(WD,this.indent,null),new Y(Vm,this.ac,null),new Y(Mx,this.bc,null),new Y(jx,this.prefix,null),new Y(Lm,this.fc,null),new Y(Ot,this.suffix,null),new Y(Du,this.cc,null)],null),this.F))};
g.ha=function(a,b){return new NE(this.parent,this.hc,this.Yb,this.indent,this.ac,this.bc,this.prefix,this.fc,this.suffix,this.cc,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function OE(a,b){for(b=Xo.C(b);;){if(null==b)return!1;if(a===b)return!0;b=Xo.C(b)}}function PE(a,b,c,d,e,f,h,k){this.va=a;this.data=b;this.fd=c;this.ua=d;this.ta=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=PE.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "data":return this.data;case "trailing-white-space":return this.fd;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[sv,this.va],null),new X(null,2,5,Z,[Qm,this.data],null),new X(null,2,5,Z,[Un,this.fd],null),new X(null,2,5,Z,[nx,this.ua],null),new X(null,2,5,Z,[Zz,this.ta],null)],null),this.F))};g.qa=function(){return new ej(this,5,new X(null,5,5,Z,[sv,Qm,Un,nx,Zz],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new PE(this.va,this.data,this.fd,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1809113693^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.data,b.data)&&E.B(this.fd,b.fd)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,5,[Zz,null,Un,null,sv,null,nx,null,Qm,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new PE(this.va,this.data,this.fd,this.ua,this.ta,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "data":case "trailing-white-space":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(sv,b):U.call(null,sv,b))?new PE(c,this.data,this.fd,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Qm,b):U.call(null,Qm,b))?new PE(this.va,c,this.fd,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Un,b):U.call(null,Un,b))?new PE(this.va,this.data,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(nx,b):U.call(null,nx,b))?new PE(this.va,this.data,this.fd,c,this.ta,this.G,this.F,null):r(U.B?U.B(Zz,b):U.call(null,Zz,b))?new PE(this.va,this.data,this.fd,this.ua,c,this.G,
this.F,null):new PE(this.va,this.data,this.fd,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(sv,this.va,null),new Y(Qm,this.data,null),new Y(Un,this.fd,null),new Y(nx,this.ua,null),new Y(Zz,this.ta,null)],null),this.F))};g.ha=function(a,b){return new PE(this.va,this.data,this.fd,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function QE(a,b,c,d,e,f,h,k){this.va=a;this.type=b;this.Ea=c;this.ua=d;this.ta=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=QE.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "type":return this.type;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[sv,this.va],null),new X(null,2,5,Z,[oo,this.type],null),new X(null,2,5,Z,[Io,this.Ea],null),new X(null,2,5,Z,[nx,this.ua],null),new X(null,2,5,Z,[Zz,this.ta],null)],null),this.F))};
g.qa=function(){return new ej(this,5,new X(null,5,5,Z,[sv,oo,Io,nx,Zz],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new QE(this.va,this.type,this.Ea,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1640656800^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.type,b.type)&&E.B(this.Ea,b.Ea)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,5,[Zz,null,oo,null,Io,null,sv,null,nx,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new QE(this.va,this.type,this.Ea,this.ua,this.ta,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "type":case "logical-block":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(sv,b):U.call(null,sv,b))?new QE(c,this.type,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(oo,b):U.call(null,oo,b))?new QE(this.va,c,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Io,b):U.call(null,Io,b))?new QE(this.va,this.type,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(nx,b):U.call(null,nx,b))?new QE(this.va,this.type,this.Ea,c,this.ta,this.G,this.F,null):r(U.B?U.B(Zz,b):U.call(null,Zz,b))?new QE(this.va,this.type,this.Ea,this.ua,c,this.G,
this.F,null):new QE(this.va,this.type,this.Ea,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(sv,this.va,null),new Y(oo,this.type,null),new Y(Io,this.Ea,null),new Y(nx,this.ua,null),new Y(Zz,this.ta,null)],null),this.F))};g.ha=function(a,b){return new QE(this.va,this.type,this.Ea,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function RE(a,b,c,d,e,f,h){this.va=a;this.Ea=b;this.ua=c;this.ta=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=RE.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[sv,this.va],null),new X(null,2,5,Z,[Io,this.Ea],null),new X(null,2,5,Z,[nx,this.ua],null),new X(null,2,5,Z,[Zz,this.ta],null)],null),this.F))};
g.qa=function(){return new ej(this,4,new X(null,4,5,Z,[sv,Io,nx,Zz],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new RE(this.va,this.Ea,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-414877272^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.Ea,b.Ea)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,4,[Zz,null,Io,null,sv,null,nx,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new RE(this.va,this.Ea,this.ua,this.ta,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "logical-block":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(sv,b):U.call(null,sv,b))?new RE(c,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Io,b):U.call(null,Io,b))?new RE(this.va,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(nx,b):U.call(null,nx,b))?new RE(this.va,this.Ea,c,this.ta,this.G,this.F,null):r(U.B?U.B(Zz,b):U.call(null,Zz,b))?new RE(this.va,this.Ea,this.ua,c,this.G,this.F,null):new RE(this.va,this.Ea,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(sv,this.va,null),new Y(Io,this.Ea,null),new Y(nx,this.ua,null),new Y(Zz,this.ta,null)],null),this.F))};g.ha=function(a,b){return new RE(this.va,this.Ea,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function SE(a,b,c,d,e,f,h){this.va=a;this.Ea=b;this.ua=c;this.ta=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=SE.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[sv,this.va],null),new X(null,2,5,Z,[Io,this.Ea],null),new X(null,2,5,Z,[nx,this.ua],null),new X(null,2,5,Z,[Zz,this.ta],null)],null),this.F))};g.qa=function(){return new ej(this,4,new X(null,4,5,Z,[sv,Io,nx,Zz],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new SE(this.va,this.Ea,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1365867980^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.Ea,b.Ea)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,4,[Zz,null,Io,null,sv,null,nx,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new SE(this.va,this.Ea,this.ua,this.ta,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "logical-block":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(sv,b):U.call(null,sv,b))?new SE(c,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Io,b):U.call(null,Io,b))?new SE(this.va,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(nx,b):U.call(null,nx,b))?new SE(this.va,this.Ea,c,this.ta,this.G,this.F,null):r(U.B?U.B(Zz,b):U.call(null,Zz,b))?new SE(this.va,this.Ea,this.ua,c,this.G,this.F,null):new SE(this.va,this.Ea,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(sv,this.va,null),new Y(Io,this.Ea,null),new Y(nx,this.ua,null),new Y(Zz,this.ta,null)],null),this.F))};g.ha=function(a,b){return new SE(this.va,this.Ea,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function TE(a,b,c,d,e,f,h,k,m){this.va=a;this.Ea=b;this.Qc=c;this.offset=d;this.ua=e;this.ta=f;this.G=h;this.F=k;this.J=m;this.O=2230716170;this.T=139264}g=TE.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "relative-to":return this.Qc;case "offset":return this.offset;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,V.B(new X(null,6,5,Z,[new X(null,2,5,Z,[sv,this.va],null),new X(null,2,5,Z,[Io,this.Ea],null),new X(null,2,5,Z,[ss,this.Qc],null),new X(null,2,5,Z,[Rz,this.offset],null),new X(null,2,5,Z,[nx,this.ua],null),new X(null,2,5,Z,[Zz,this.ta],null)],null),this.F))};g.qa=function(){return new ej(this,6,new X(null,6,5,Z,[sv,Io,ss,Rz,nx,Zz],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new TE(this.va,this.Ea,this.Qc,this.offset,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 6+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1602780238^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.Ea,b.Ea)&&E.B(this.Qc,b.Qc)&&E.B(this.offset,b.offset)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,6,[Rz,null,Zz,null,ss,null,Io,null,sv,null,nx,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new TE(this.va,this.Ea,this.Qc,this.offset,this.ua,this.ta,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "logical-block":case "relative-to":case "offset":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(sv,b):U.call(null,sv,b))?new TE(c,this.Ea,this.Qc,this.offset,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Io,b):U.call(null,Io,b))?new TE(this.va,c,this.Qc,this.offset,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(ss,b):U.call(null,ss,b))?new TE(this.va,this.Ea,c,this.offset,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Rz,b):U.call(null,Rz,b))?new TE(this.va,this.Ea,this.Qc,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(nx,b):U.call(null,nx,b))?new TE(this.va,
this.Ea,this.Qc,this.offset,c,this.ta,this.G,this.F,null):r(U.B?U.B(Zz,b):U.call(null,Zz,b))?new TE(this.va,this.Ea,this.Qc,this.offset,this.ua,c,this.G,this.F,null):new TE(this.va,this.Ea,this.Qc,this.offset,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,6,5,Z,[new Y(sv,this.va,null),new Y(Io,this.Ea,null),new Y(ss,this.Qc,null),new Y(Rz,this.offset,null),new Y(nx,this.ua,null),new Y(Zz,this.ta,null)],null),this.F))};
g.ha=function(a,b){return new TE(this.va,this.Ea,this.Qc,this.offset,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};var UE=function(){var a=Fh(W),b=Fh(W),c=Fh(W),d=Fh(W),e=B.D(W,Gr,Zl.P?Zl.P():Zl.call(null));return new km(oe.B("cljs.pprint","write-token"),function(f,h){return sv.C(h)},e,a,b,c,d)}();
UE.lb(null,Jm,function(a,b){var c=Du.C(y(y(a)));r(c)&&(c.C?c.C(Sv):c.call(null,Sv));b=Io.C(b);c=jx.C(b);r(c)&&yd(fx.C(y(y(a))),c);a=JE(fx.C(y(y(a))),Cp);Gh(jy.C(b),a);return Gh(WD.C(b),a)});UE.lb(null,cE,function(a,b){var c=Du.C(y(y(a)));r(c)&&(c.C?c.C(gs):c.call(null,gs));b=Ot.C(Io.C(b));return r(b)?yd(fx.C(y(y(a))),b):null});
UE.lb(null,uB,function(a,b){var c=Io.C(b),d=WD.C(c),e=Rz.C(b);b=ss.C(b);if(r(E.B?E.B(Jz,b):E.call(null,Jz,b)))a=y(jy.C(c));else if(r(E.B?E.B(Ro,b):E.call(null,Ro,b)))a=JE(fx.C(y(y(a))),Cp);else throw Error(["No matching clause: ",t.C(b)].join(""));return Gh(d,e+a)});UE.lb(null,is,function(a,b){return yd(fx.C(y(y(a))),Qm.C(b))});
UE.lb(null,XB,function(a,b){var c=E.B(oo.C(b),jn);c||(c=(c=!E.B(oo.C(b),Bz))?y(Vm.C(Io.C(b))):c);r(c)?VE.B?VE.B(a,b):VE.call(null,a,b):(b=Un.C(y(y(a))),r(b)&&yd(fx.C(y(y(a))),b));return Ih.R(y(a),Q,Un,null)});
function WE(a,b,c){b=G(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);if(!E.B(sv.C(h),XB)){var k=Un.C(y(y(a)));r(k)&&yd(fx.C(y(y(a))),k)}UE.B(a,h);Ih.R(y(a),Q,Un,Un.C(h));h=Un.C(y(y(a)));r(r(c)?h:c)&&(yd(fx.C(y(y(a))),h),Ih.R(y(a),Q,Un,null));f+=1}else if(b=G(b))Af(b)?(d=Pd(b),b=Qd(b),h=d,e=K(d),d=h):(h=H(b),E.B(sv.C(h),XB)||(d=Un.C(y(y(a))),r(d)&&yd(fx.C(y(y(a))),d)),UE.B(a,h),Ih.R(y(a),Q,Un,Un.C(h)),h=Un.C(y(y(a))),r(r(c)?h:c)&&(yd(fx.C(y(y(a))),h),Ih.R(y(a),Q,Un,null)),b=J(b),d=null,e=
0),f=0;else break}function XE(a,b){var c=JE(fx.C(y(y(a))),Us),d;(d=null==c)||(a=JE(fx.C(y(y(a))),Cp),b=(b=G(b))?Zz.C(gf(b))-nx.C(H(b)):0,d=a+b<c);return d}function YE(a,b,c){b=y(Vm.C(b));return r(b)?b:!XE(a,c)}function ZE(a,b,c){var d=et.C(y(y(a))),e=JE(fx.C(y(y(a))),Us);return r(d)?r(e)?(d=y(jy.C(b))>=e-d)?YE(a,b,c):d:e:d}var $E=function(){var a=Fh(W),b=Fh(W),c=Fh(W),d=Fh(W),e=B.D(W,Gr,Zl.P?Zl.P():Zl.call(null));return new km(oe.B("cljs.pprint","emit-nl?"),function(f){return oo.C(f)},e,a,b,c,d)}();
$E.lb(null,xA,function(a,b,c){a=Io.C(a);return YE(b,a,c)});$E.lb(null,OC,function(a,b,c){a=Io.C(a);return ZE(b,a,c)});$E.lb(null,Bz,function(a,b,c,d){a=Io.C(a);var e=y(Mx.C(a));return r(e)?e:(d=!XE(b,d))?d:ZE(b,a,c)});$E.lb(null,jn,function(){return!0});function aF(a){var b=H(a),c=Io.C(b);b=G(Ik(function(d){return!(E.B(sv.C(d),XB)&&OE(Io.C(d),c))},J(a)));return new X(null,2,5,Z,[b,G(Th(K(b)+1,a))],null)}
function bF(a){var b=H(a),c=Io.C(b);return G(Ik(function(d){var e=Io.C(d);return!(E.B(sv.C(d),XB)&&(E.B(e,c)||OE(e,c)))},J(a)))}function VE(a,b){yd(fx.C(y(y(a))),"\n");Ih.R(y(a),Q,Un,null);b=Io.C(b);var c=Lm.C(b);r(c)&&yd(fx.C(y(y(a))),c);c=Ug(t,Yh(y(WD.C(b))-K(c)," "));yd(fx.C(y(y(a))),c);a:for(Gh(Mx.C(b),!0),Gh(Vm.C(b),!0),a=Xo.C(b);;)if(r(a))Gh(Vm.C(a),!0),Gh(Mx.C(a),!0),a=Xo.C(a);else break a;return null}
function cF(a){var b=G(Ik(function(c){return!E.B(sv.C(c),XB)},a));return new X(null,2,5,Z,[b,G(Th(K(b),a))],null)}var dF=function dF(a,b){var d=cF(b);b=N(d,0,null);var e=N(d,1,null);r(b)&&WE(a,b,!1);if(r(e)){d=aF(e);b=N(d,0,null);d=N(d,1,null);var f=H(e),h=$E.R(f,a,b,bF(e));r(h)&&(VE(a,f),e=J(e));XE(a,e)?a=e:(e=dF.B?dF.B(a,b):dF.call(null,a,b),E.B(e,b)?(WE(a,b,!1),a=d):a=gi.B(jf,V.B(e,d)));return a}return null};
function eF(a){for(var b=cu.C(y(y(a)));;){Ih.R(y(a),Q,cu,gi.B(jf,b));if(XE(a,b))return null;var c=dF(a,b);if(b!==c)b=c;else return null}}function fF(a,b){Ih.R(y(a),Q,cu,hf.B(cu.C(y(y(a))),b));return XE(a,cu.C(y(y(a))))?null:eF(a)}function gF(a){var b=Un.C(y(y(a)));return r(b)?(yd(fx.C(y(y(a))),b),Ih.R(y(a),Q,Un,null)):null}
function hF(a,b){var c=lE(b,"\n",-1);if(E.B(K(c),1))return b;b=Lm.C(H($x.C(y(y(a)))));var d=H(c);if(E.B(Bw,Ss.C(y(y(a))))){var e=Ip.C(y(y(a))),f=e+K(d);Ih.R(y(a),Q,Ip,f);fF(a,new PE(is,d,null,e,f,null,null,null));eF(a);d=cu.C(y(y(a)));r(d)&&(WE(a,d,!0),Ih.R(y(a),Q,cu,jf))}else gF(a),yd(fx.C(y(y(a))),d);yd(fx.C(y(y(a))),"\n");d=G(J(Dk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.Da(null,h);yd(fx.C(y(y(a))),k);yd(fx.C(y(y(a))),"\n");r(b)&&yd(fx.C(y(y(a))),b);h+=1}else if(d=G(d))e=d,Af(e)?(d=Pd(e),h=
Qd(e),e=d,f=K(d),d=h):(d=H(e),yd(fx.C(y(y(a))),d),yd(fx.C(y(y(a))),"\n"),r(b)&&yd(fx.C(y(y(a))),b),d=J(e),e=null,f=0),h=0;else break;Ih.R(y(a),Q,Bw,So);return gf(c)}
function iF(a){var b=jF,c=kF,d=new NE(null,null,Fh(0),Fh(0),Fh(!1),Fh(!1),null,null,null,null,null,null,null),e=Fh(Uj([$x,et,Wy,Sp,Xq,Ss,Ip,Un,fx,sz,cu],[d,c,d,!0,null,So,0,null,ME(a,b),1,jf]));if("undefined"===typeof Qb||"undefined"===typeof tE||"undefined"===typeof vE)vE=function(f,h,k,m,n,p){this.vb=f;this.Ch=h;this.ml=k;this.Ak=m;this.fields=n;this.Mk=p;this.O=1074167808;this.T=0},vE.prototype.ha=function(f,h){return new vE(this.vb,this.Ch,this.ml,this.Ak,this.fields,h)},vE.prototype.ga=function(){return this.Mk},
vE.prototype.ic=function(){return this.fields},vE.prototype.ue=function(f,h){f=oc(h);if(r(E.B?E.B(String,f):E.call(null,String,f))){var k=hF(this,h);h=k.replace(/\s+$/,"");f=lg.B(k,h.length);var m=Ss.C(y(y(this)));if(E.B(m,So))return gF(this),yd(fx.C(y(y(this))),h),Ih.R(y(this),Q,Un,f);m=Ip.C(y(y(this)));k=m+K(k);Ih.R(y(this),Q,Ip,k);return fF(this,new PE(is,h,f,m,k,null,null,null))}if(r(E.B?E.B(Number,f):E.call(null,Number,f)))return E.B(Ss.C(y(y(this))),So)?(gF(this),h=yd(fx.C(y(y(this))),h)):E.B(h,
"\n")?h=hF(this,"\n"):(f=Ip.C(y(y(this))),k=f+1,Ih.R(y(this),Q,Ip,k),h=dg(h),h=fF(this,new PE(is,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.C(f)].join(""));},vE.prototype.Rd=function(){this.lh(null);return zd(fx.C(y(y(this))))},vE.prototype.lh=function(){return E.B(Ss.C(y(y(this))),Bw)?(WE(this,cu.C(y(y(this))),!0),Ih.R(y(this),Q,cu,jf)):gF(this)},vE.Wa=!0,vE.Sa="cljs.pprint/t_cljs$pprint23269",vE.Za=function(f){return yd(f,"cljs.pprint/t_cljs$pprint23269")};return new vE(a,
b,c,d,e,W)}function lF(a,b){var c=Tb;b=new NE($x.C(y(y(c))),null,Fh(0),Fh(0),Fh(!1),Fh(!1),a,null,b,null,null,null,null);Ih.R(y(c),Q,$x,b);if(E.B(Ss.C(y(y(c))),So)){gF(c);var d=Du.C(y(y(c)));r(d)&&(d.C?d.C(Sv):d.call(null,Sv));r(a)&&yd(fx.C(y(y(c))),a);c=JE(fx.C(y(y(c))),Cp);Gh(b.Yb,c);Gh(b.indent,c)}else d=Ip.C(y(y(c))),a=d+(r(a)?K(a):0),Ih.R(y(c),Q,Ip,a),fF(c,new RE(Jm,b,d,a,null,null,null))}
function mF(){var a=Tb,b=$x.C(y(y(a))),c=Ot.C(b);if(E.B(Ss.C(y(y(a))),So)){gF(a);r(c)&&yd(fx.C(y(y(a))),c);var d=Du.C(y(y(a)));r(d)&&(d.C?d.C(gs):d.call(null,gs))}else d=Ip.C(y(y(a))),c=d+(r(c)?K(c):0),Ih.R(y(a),Q,Ip,c),fF(a,new SE(cE,b,d,c,null,null,null));Ih.R(y(a),Q,$x,Xo.C(b))}var nF=!0,oF=null,jF=72,kF=40,pF=null,qF=null,rF=null,sF=null,tF=10,uF=0,vF=null;function wF(a){var b=null!=a?a.O&32768||l===a.yi?!0:a.O?!1:nc(fd,a):nc(fd,a);return b?Sp.C(y(y(a))):b}
function xF(a){var b=vF;r(b)&&(b=Xb,b=r(b)?vF>=Xb:b);kc(nF)?BE.call(null,a):r(b)?yd(Tb,"..."):(r(vF)&&(vF+=1),oF.call(null,a));return b}var yF=function yF(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new se(c.slice(1),0,null):null;return yF.I(arguments[0],c)};
yF.I=function(a,b){var c=sk.I(M([new q(null,1,[SD,!0],null),Ug($g,b)]));b=tF;var d=qF,e=Xb,f=Yb,h=pF,k=kF,m=oF,n=nF,p=sF,u=Wb,v=jF,z=rF,C=fx.B(c,tF),F=Pv.B(c,qF),I=cw.B(c,Xb),O=wm.B(c,Yb),P=Yq.B(c,pF),T=et.B(c,kF),aa=nt.B(c,oF),ea=Xp.B(c,nF),va=Fz.B(c,sF),ua=ac.B(c,Wb),Ma=Dn.B(c,jF),pa=Uo.B(c,rF);tF=C;qF=F;Xb=I;Yb=O;pF=P;kF=T;oF=aa;nF=ea;sF=va;Wb=ua;jF=Ma;rF=pa;try{var sa=new Pb,Da=S(c,SD)?SD.C(c):!0,Ca=!0===Da||null==Da?new Zd(sa):Da;if(r(nF)){var Ea=kc(wF(Ca));c=Tb;Tb=Ea?iF(Ca):Ca;try{xF(a),IE()}finally{Tb=
c}}else{Ea=Tb;Tb=Ca;try{BE.call(null,a)}finally{Tb=Ea}}!0===Da&&bl(t.C(sa));return null==Da?t.C(sa):null}finally{rF=z,jF=v,Wb=u,sF=p,nF=n,oF=m,kF=k,pF=h,Yb=f,Xb=e,qF=d,tF=b}};yF.aa=1;yF.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};
function zF(){var a=new X(null,6,5,Z,[cy,new X(null,2,5,Z,[pg(iB,RD,new X(null,1,5,Z,[tp],null)),nA],null),LD,Xn,Nn,new X(null,2,5,Z,[RD,Xu],null)],null);var b=y(AF);a=BF.B?BF.B(a,b):BF.call(null,a,b);b=new Pb;var c=Tb;Tb=new Zd(b);try{var d=Tb,e=kc(wF(d)),f=Tb;Tb=e?iF(d):d;try{e=nF;nF=!0;try{xF(a)}finally{nF=e}E.B(0,JE(Tb,Cp))||yd(Tb,"\n");IE()}finally{Tb=f}bl(t.C(b))}finally{Tb=c}}
function CF(a,b){if(kc(b.C?b.C(a):b.call(null,a)))throw Error(["Bad argument: ",t.C(a),". It must be one of ",t.C(b)].join(""));}function DF(){var a=Yb;return r(a)?uF>=Yb:a}function EF(a){CF(a,new xk(null,new q(null,4,[jn,null,OC,null,Bz,null,xA,null],null),null));var b=Tb;Ih.R(y(b),Q,Ss,Bw);var c=Ip.C(y(y(b))),d=$x.C(y(y(b)));fF(b,new QE(XB,a,d,c,c,null,null,null))}
function FF(a,b){CF(a,new xk(null,new q(null,2,[Jz,null,Ro,null],null),null));var c=Tb,d=$x.C(y(y(c)));if(E.B(Ss.C(y(y(c))),So)){gF(c);var e=WD.C(d);if(r(E.B?E.B(Jz,a):E.call(null,Jz,a)))a=y(jy.C(d));else if(r(E.B?E.B(Ro,a):E.call(null,Ro,a)))a=JE(fx.C(y(y(c))),Cp);else throw Error(["No matching clause: ",t.C(a)].join(""));Gh(e,b+a)}else e=Ip.C(y(y(c))),fF(c,new TE(uB,d,a,b,e,e,null,null,null))}
function GF(a,b,c){b="string"===typeof b?HF(b):b;c=IF(c);a:{var d=new Pb,e=kc(a)||!0===a?new Zd(d):a,f=JF(b)&&kc(wF(e))?r(wF(e))?e:iF(e):e,h=Tb;Tb=f;try{try{KF(b,c)}finally{e!==f&&zd(f)}var k=kc(a)?t.C(d):!0===a?bl(t.C(d)):null;break a}finally{Tb=h}k=void 0}return k}var LF=null;function MF(a,b){a=[t.C(a),"\n",t.C(LF),"\n",t.C(Ug(t,Yh(b," "))),"^\n"].join("");throw Error(a);}function NF(a,b,c,d,e,f){this.Kd=a;this.rest=b;this.pos=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=NF.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seq":return this.Kd;case "rest":return this.rest;case "pos":return this.pos;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Vw,this.Kd],null),new X(null,2,5,Z,[uq,this.rest],null),new X(null,2,5,Z,[Ip,this.pos],null)],null),this.F))};g.qa=function(){return new ej(this,3,new X(null,3,5,Z,[Vw,uq,Ip],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new NF(this.Kd,this.rest,this.pos,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-402038447^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Kd,b.Kd)&&E.B(this.rest,b.rest)&&E.B(this.pos,b.pos)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,3,[Ip,null,Vw,null,uq,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new NF(this.Kd,this.rest,this.pos,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seq":case "rest":case "pos":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Vw,b):U.call(null,Vw,b))?new NF(c,this.rest,this.pos,this.G,this.F,null):r(U.B?U.B(uq,b):U.call(null,uq,b))?new NF(this.Kd,c,this.pos,this.G,this.F,null):r(U.B?U.B(Ip,b):U.call(null,Ip,b))?new NF(this.Kd,this.rest,c,this.G,this.F,null):new NF(this.Kd,this.rest,this.pos,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(Vw,this.Kd,null),new Y(uq,this.rest,null),new Y(Ip,this.pos,null)],null),this.F))};g.ha=function(a,b){return new NF(this.Kd,this.rest,this.pos,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function IF(a){a=G(a);return new NF(a,a,0,null,null,null)}
function OF(a){var b=uq.C(a);if(r(b))return new X(null,2,5,Z,[H(b),new NF(Vw.C(a),J(b),Ip.C(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}function PF(a){var b=OF(a);a=N(b,0,null);b=N(b,1,null);a="string"===typeof a?HF(a):a;return new X(null,2,5,Z,[a,b],null)}function QF(a,b){return b>=Ip.C(a)?(b=Ip.C(a)-b,RF.B?RF.B(a,b):RF.call(null,a,b)):new NF(Vw.C(a),Th(b,Vw.C(a)),b,null,null,null)}
function RF(a,b){var c=Ip.C(a)+b;return 0>b?QF(a,c):new NF(Vw.C(a),Th(b,uq.C(a)),c,null,null,null)}function SF(a,b,c,d,e,f,h){this.func=a;this.def=b;this.params=c;this.offset=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=SF.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "func":return this.func;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[rB,this.func],null),new X(null,2,5,Z,[un,this.def],null),new X(null,2,5,Z,[qq,this.params],null),new X(null,2,5,Z,[Rz,this.offset],null)],null),this.F))};g.qa=function(){return new ej(this,4,new X(null,4,5,Z,[rB,un,qq,Rz],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new SF(this.func,this.def,this.params,this.offset,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-829256337^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.func,b.func)&&E.B(this.def,b.def)&&E.B(this.params,b.params)&&E.B(this.offset,b.offset)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,4,[Rz,null,rB,null,qq,null,un,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new SF(this.func,this.def,this.params,this.offset,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "func":case "def":case "params":case "offset":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(rB,b):U.call(null,rB,b))?new SF(c,this.def,this.params,this.offset,this.G,this.F,null):r(U.B?U.B(un,b):U.call(null,un,b))?new SF(this.func,c,this.params,this.offset,this.G,this.F,null):r(U.B?U.B(qq,b):U.call(null,qq,b))?new SF(this.func,this.def,c,this.offset,this.G,this.F,null):r(U.B?U.B(Rz,b):U.call(null,Rz,b))?new SF(this.func,this.def,this.params,c,this.G,this.F,null):new SF(this.func,this.def,this.params,this.offset,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(rB,this.func,null),new Y(un,this.def,null),new Y(qq,this.params,null),new Y(Rz,this.offset,null)],null),this.F))};g.ha=function(a,b){return new SF(this.func,this.def,this.params,this.offset,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function TF(a,b){var c=N(a,0,null);a=N(a,1,null);var d=N(a,0,null);a=N(a,1,null);d=S(new xk(null,new q(null,2,[$q,null,xC,null],null),null),c)?new X(null,2,5,Z,[d,b],null):E.B(d,At)?OF(b):E.B(d,Yy)?new X(null,2,5,Z,[K(uq.C(b)),b],null):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);return new X(null,2,5,Z,[new X(null,2,5,Z,[c,new X(null,2,5,Z,[b,a],null)],null),d],null)}function UF(a,b){b=EE(TF,b,a);a=N(b,0,null);b=N(b,1,null);return new X(null,2,5,Z,[gi.B(W,a),b],null)}
var VF=new q(null,3,[2,"#b",8,"#o",16,"#x"],null);
function WF(a,b,c){c=OF(c);var d=N(c,0,null);c=N(c,1,null);if(Hf(d))if(E.B(tF,10))var e=[t.C(d),r(sF)?".":null].join("");else{e=t;var f=e.C;if(r(sF)){var h=B.B(VF,tF);h=r(h)?h:["#",t.C(tF),"r"].join("")}else h=null;e=[f.call(e,h),t.C(XF(tF,d))].join("")}else e=null;a=r(e)?e:a.C?a.C(d):a.call(null,d);d=a.length;e=d+hr.C(b);e=e>=Ku.C(b)?e:e+(gg(Ku.C(b)-e-1,Go.C(b))+1)*Go.C(b);d=Ug(t,Yh(e-d,Ly.C(b)));r(xC.C(b))?AE.I(M([[t.C(d),t.C(a)].join("")])):AE.I(M([[t.C(a),t.C(d)].join("")]));return c}
function YF(a,b){return og(H(FE(function(c){return 0<c?new X(null,2,5,Z,[hg(c,a),gg(c,a)],null):new X(null,2,5,Z,[null,null],null)},b)))}function XF(a,b){return 0===b?"0":Ug(t,Rh.B(function(c){return 10>c?dg(DE("0")+c):dg(DE("a")+(c-10))},YF(a,b)))}function ZF(a,b){return og(H(FE(function(c){return new X(null,2,5,Z,[G(og(Sh.B(a,c))),G(Th(a,c))],null)},og(b))))}
function $F(a,b,c){c=OF(c);var d=N(c,0,null);c=N(c,1,null);if(Hf(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&E.B(d,Math.floor(d))){var e=0>d,f=XF(a,e?-d:d);a=r($q.C(b))?function(){var h=Rh.B(function(m){return Ug(t,m)},ZF(iz.C(b),f)),k=Yh(K(h),wq.C(b));return Ug(t,J(ai.B(k,h)))}():f;a=e?["-",t.C(a)].join(""):r(xC.C(b))?["+",t.C(a)].join(""):a;a=a.length<Ku.C(b)?[t.C(Ug(t,Yh(Ku.C(b)-a.length,Ly.C(b)))),t.C(a)].join(""):a;AE.I(M([a]))}else WF(ql,new q(null,5,[Ku,
Ku.C(b),Go,1,hr,0,Ly,Ly.C(b),xC,!0],null),IF(new X(null,1,5,Z,[d],null)));return c}
var aG=new X(null,20,5,Z,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),bG=new X(null,20,5,Z,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),cG=new X(null,10,5,Z,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),dG=new X(null,10,5,Z,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),eG=new X(null,22,5,Z," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function fG(a){var b=gg(a,100);a=hg(a,100);var c=0<b?[t.C(Te(aG,b))," hundred"].join(""):null,d=t,e=d.C;if(0<a)if(20>a)var f=Te(aG,a);else{f=gg(a,10);var h=hg(a,10);f=[t.C(0<f?Te(cG,f):null),0<f&&0<h?"-":null,t.C(0<h?Te(aG,h):null)].join("")}else f=null;return[c,0<b&&0<a?" ":null,e.call(d,f)].join("")}
function gG(a,b){var c=K(a),d=jf;--c;var e=H(a);for(a=J(a);;){if(null==a)return[t.C(Ug(t,Th(1,ai.B(Xh(", "),d)))),tf(e)||tf(d)?null:", ",t.C(e),!tf(e)&&0<c+b?[" ",t.C(Te(eG,c+b))].join(""):null].join("");d=tf(e)?d:hf.B(d,[t.C(e)," ",t.C(Te(eG,c+b))].join(""));--c;e=H(a);a=J(a)}}
var hG=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IIII V VI VII VIII VIIII".split(" "),null),new X(null,9,5,Z,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new X(null,9,5,Z,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new X(null,3,5,Z,["M","MM","MMM"],null)],null),iG=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IV V VI VII VIII IX".split(" "),null),new X(null,9,5,Z,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new X(null,9,5,Z,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new X(null,
3,5,Z,["M","MM","MMM"],null)],null);function jG(a,b){b=OF(b);var c=N(b,0,null);b=N(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=YF(10,c);c=jf;for(var e=K(d)-1;;)if(tf(d)){AE.I(M([Ug(t,c)]));break}else{var f=H(d);c=E.B(0,f)?c:hf.B(c,Te(Te(a,e),f-1));--e;d=J(d)}}else $F(10,new q(null,5,[Ku,0,Ly," ",wq,",",iz,3,$q,!0],null),IF(new X(null,1,5,Z,[c],null)));return b}var kG=new q(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function lG(a,b){a=OF(b);b=N(a,0,null);a=N(a,1,null);var c=DE(b);b=c&127;c&=128;var d=B.B(kG,b);0<c&&AE.I(M(["Meta-"]));AE.I(M([r(d)?d:32>b?["Control-",t.C(dg(b+64))].join(""):E.B(b,127)?"Control-?":dg(b)]));return a}
function mG(a,b){var c=OF(b);b=N(c,0,null);c=N(c,1,null);a=hC.C(a);if(r(E.B?E.B("o",a):E.call(null,"o",a)))GF(!0,"\\o~3,'0o",M([DE(b)]));else if(r(E.B?E.B("u",a):E.call(null,"u",a)))GF(!0,"\\u~4,'0x",M([DE(b)]));else if(r(E.B?E.B(null,a):E.call(null,null,a)))yd(Tb,r(E.B?E.B("\b",b):E.call(null,"\b",b))?"\\backspace":r(E.B?E.B(" ",b):E.call(null," ",b))?"\\space":r(E.B?E.B("\t",b):E.call(null,"\t",b))?"\\tab":r(E.B?E.B("\n",b):E.call(null,"\n",b))?"\\newline":r(E.B?E.B("\f",b):E.call(null,"\f",b))?
"\\formfeed":r(E.B?E.B("\r",b):E.call(null,"\r",b))?"\\return":r(E.B?E.B('"',b):E.call(null,'"',b))?'\\"':r(E.B?E.B("\\",b):E.call(null,"\\",b))?"\\\\":["\\",t.C(b)].join(""));else throw Error(["No matching clause: ",t.C(a)].join(""));return c}function nG(a,b){b=OF(b);a=N(b,0,null);b=N(b,1,null);AE.I(M([a]));return b}function oG(a){a=H(a);return E.B(yu,a)||E.B(LB,a)}
function pG(a,b,c){return ef(EE(function(d,e){if(oG(e))return new X(null,2,5,Z,[null,e],null);e=UF(qq.C(d),e);var f=N(e,0,null);e=N(e,1,null);var h=GE(f);f=N(h,0,null);h=N(h,1,null);f=Q.D(f,pn,c);return new X(null,2,5,Z,[null,Ug(rB.C(d),new X(null,3,5,Z,[f,e,h],null))],null)},b,a))}
function qG(a){a=t.C(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new X(null,2,5,Z,[a,t.C(a.length-1)],null):new X(null,2,5,Z,[[lg.D(a,0,c),lg.B(a,c+1)].join(""),t.C(c-1)],null):0>c?new X(null,2,5,Z,[lg.D(a,0,b),lg.B(a,b+1)],null):new X(null,2,5,Z,[[lg.D(a,0,1),lg.D(a,2,b)].join(""),lg.B(a,b+1)],null);b=N(a,0,null);a=N(a,1,null);a:if(c=K(b),0<c&&E.B(Te(b,K(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(E.B(Te(b,c),"0"))--c;else{b=lg.D(b,0,c+1);break a}}a:{c=b;var d=K(c);if(0<d&&
E.B(Te(c,0),"0"))for(var e=0;;){if(E.B(e,d)||!E.B(Te(c,e),"0")){c=lg.B(c,e);break a}e+=1}}b=K(b)-K(c);a=0<K(a)&&E.B(Te(a,0),"+")?lg.B(a,1):a;return tf(c)?new X(null,2,5,Z,["0",0],null):new X(null,2,5,Z,[c,parseInt(a,10)-b],null)}
function rG(a,b,c,d){if(r(r(c)?c:d)){var e=K(a);d=r(d)?2>d?2:d:0;r(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=E.B(c,0)?new X(null,4,5,Z,[["0",t.C(a)].join(""),b+1,1,e+1],null):new X(null,4,5,Z,[a,b,c,e],null);c=N(f,0,null);e=N(f,1,null);d=N(f,2,null);f=N(f,3,null);if(r(d)){if(0>d)return new X(null,3,5,Z,["0",0,!1],null);if(f>d){b=Te(c,d);a=lg.D(c,0,d);if(DE(b)>=DE("5")){a:for(b=K(a)-1,c=b|0;;){if(0>c){b=Vg(t,"1",Yh(b+1,"0"));break a}if(E.B("9",a.charAt(c)))--c;else{b=Wg(t,lg.D(a,0,c),dg(DE(a.charAt(c))+
1),Yh(b-c,"0"));break a}}a=K(b)>a.length;return new X(null,3,5,Z,[a?lg.D(b,0,K(b)-1):b,e,a],null)}return new X(null,3,5,Z,[a,e,!1],null)}}}return new X(null,3,5,Z,[a,b,!1],null)}function sG(a,b,c){var d=0>b?new X(null,2,5,Z,[[t.C(Ug(t,Yh(-b-1,"0"))),t.C(a)].join(""),-1],null):new X(null,2,5,Z,[a,b],null);a=N(d,0,null);var e=N(d,1,null);d=K(a);c=r(c)?e+c+1:e+1;c=d<c?[t.C(a),t.C(Ug(t,Yh(c-d,"0")))].join(""):a;0>b?b=[".",t.C(c)].join(""):(b+=1,b=[lg.D(c,0,b),".",lg.B(c,b)].join(""));return b}
function tG(a,b){return 0>b?[".",t.C(a)].join(""):[lg.D(a,0,b),".",lg.B(a,b)].join("")}
function uG(a,b){var c=kB.C(a),d=gB.C(a);b=OF(b);var e=N(b,0,null);b=N(b,1,null);var f=0>e?new X(null,2,5,Z,["-",-e],null):new X(null,2,5,Z,["+",e],null),h=N(f,0,null);f=N(f,1,null);f=qG(f);var k=N(f,0,null),m=N(f,1,null)+bB.C(a);f=function(){var v=xC.C(a);return r(v)?v:0>e}();var n=kc(d)&&K(k)-1<=m,p=rG(k,m,d,r(c)?c-(r(f)?1:0):null);k=N(p,0,null);m=N(p,1,null);p=N(p,2,null);k=sG(k,r(p)?m+1:m,d);d=r(r(c)?r(d)?1<=d&&E.B(k.charAt(0),"0")&&E.B(k.charAt(1),".")&&k.length>c-(r(f)?1:0):d:c)?lg.B(k,1):k;
m=E.B(H(d),".");if(r(c)){k=d.length;k=r(f)?k+1:k;m=m&&!(k>=c);n=n&&!(k>=c);var u=m||n?k+1:k;r(function(){var v=u>c;return v?BD.C(a):v}())?AE.I(M([Ug(t,Yh(c,BD.C(a)))])):AE.I(M([[t.C(Ug(t,Yh(c-u,Ly.C(a)))),t.C(r(f)?h:null),m?"0":null,d,n?"0":null].join("")]))}else AE.I(M([[t.C(r(f)?h:null),m?"0":null,d,n?"0":null].join("")]));return b}
function vG(a,b){b=OF(b);var c=N(b,0,null);b=N(b,1,null);var d=qG(0>c?-c:c);N(d,0,null);for(N(d,1,null);;){var e=N(d,0,null),f=N(d,1,null),h=kB.C(a),k=gB.C(a),m=eB.C(a),n=bB.C(a),p=function(){var I=Gn.C(a);return r(I)?I:"E"}();d=function(){var I=xC.C(a);return r(I)?I:0>c}();var u=0>=n,v=f-(n-1),z=t.C(Math.abs(v));p=[t.C(p),0>v?"-":"+",t.C(r(m)?Ug(t,Yh(m-z.length,"0")):null),z].join("");var C=p.length;v=K(e);e=[t.C(Ug(t,Yh(-n,"0"))),t.C(e),t.C(r(k)?Ug(t,Yh(k-(v-1)-(0>n?-n:0),"0")):null)].join("");
v=r(h)?h-C:null;e=rG(e,0,E.B(n,0)?k-1:0<n?k:0>n?k-1:null,r(v)?v-(r(d)?1:0):null);v=N(e,0,null);N(e,1,null);z=N(e,2,null);e=tG(v,n);k=E.B(n,K(v))&&null==k;if(kc(z)){if(r(h)){f=e.length+C;f=r(d)?f+1:f;var F=(u=u&&!E.B(f,h))?f+1:f;f=k&&F<h;r(function(){var I=F>h;I||(I=m,I=r(I)?C-2>m:I);return r(I)?BD.C(a):I}())?AE.I(M([Ug(t,Yh(h,BD.C(a)))])):AE.I(M([[t.C(Ug(t,Yh(h-F-(f?1:0),Ly.C(a)))),r(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,p].join("")]))}else AE.I(M([[r(d)?0>c?"-":"+":null,u?"0":null,e,k?"0":
null,p].join("")]));break}else d=new X(null,2,5,Z,[v,f+1],null)}return b}function wG(a,b,c){var d=OF(b),e=N(d,0,null);N(d,1,null);d=qG(0>e?-e:e);var f=N(d,0,null);d=N(d,1,null);var h=kB.C(a),k=gB.C(a),m=eB.C(a);d=E.B(e,0)?0:d+1;e=r(m)?m+2:4;h=r(h)?h-e:null;r(k)?f=k:(f=K(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=uG(new q(null,6,[kB,h,gB,d,bB,0,BD,BD.C(a),Ly,Ly.C(a),xC,xC.C(a)],null),b,c),AE.I(M([Ug(t,Yh(e," "))])),a):vG(a,b,c)}
function xG(a,b){b=OF(b);var c=N(b,0,null);b=N(b,1,null);var d=qG(Math.abs(c)),e=N(d,0,null),f=N(d,1,null),h=gB.C(a),k=qB.C(a);d=kB.C(a);var m=function(){var p=xC.C(a);return r(p)?p:0>c}(),n=rG(e,f,h,null);e=N(n,0,null);f=N(n,1,null);n=N(n,2,null);h=sG(e,r(n)?f+1:f,h);k=[t.C(Ug(t,Yh(k-h.indexOf("."),"0"))),h].join("");h=k.length+(r(m)?1:0);AE.I(M([[r(function(){var p=$q.C(a);return r(p)?m:p}())?0>c?"-":"+":null,t.C(Ug(t,Yh(d-h,Ly.C(a)))),r(function(){var p=kc($q.C(a));return p?m:p}())?0>c?"-":"+":
null,k].join("")]));return b}function yG(a,b){var c=NC.C(a);c=r(c)?new X(null,2,5,Z,[c,b],null):OF(b);b=N(c,0,null);c=N(c,1,null);var d=$s.C(a);b=0>b||b>=K(d)?H(oq.C(a)):Te(d,b);return r(b)?pG(b,c,pn.C(a)):c}function zG(a,b){var c=OF(b);b=N(c,0,null);c=N(c,1,null);var d=$s.C(a);b=r(b)?ef(d):H(d);return r(b)?pG(b,c,pn.C(a)):c}function AG(a,b){var c=OF(b),d=N(c,0,null);c=N(c,1,null);var e=$s.C(a);e=r(d)?H(e):null;return r(d)?r(e)?pG(e,b,pn.C(a)):b:c}
function BG(a,b){var c=Tu.C(a),d=H($s.C(a));d=tf(d)?PF(b):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=OF(d);var e=N(d,0,null);d=N(d,1,null);var f=0;e=IF(e);for(var h=-1;;){if(kc(c)&&E.B(Ip.C(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=tf(uq.C(e))&&(kc($q.C(Zn.C(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=pG(b,e,pn.C(a));if(E.B(yu,H(h)))return d;f+=1;var k=Ip.C(e);e=h;h=k}}
function CG(a,b){var c=Tu.C(a),d=H($s.C(a));d=tf(d)?PF(b):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=OF(d);var e=N(d,0,null);d=N(d,1,null);for(var f=0;;){var h=tf(e)&&(kc($q.C(Zn.C(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=pG(b,IF(H(e)),IF(J(e)));if(E.B(LB,H(h)))return d;f+=1;e=J(e)}}
function DG(a,b){var c=Tu.C(a),d=H($s.C(a)),e=tf(d)?PF(b):new X(null,2,5,Z,[d,b],null);b=N(e,0,null);d=0;e=N(e,1,null);for(var f=-1;;){if(kc(c)&&E.B(Ip.C(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=tf(uq.C(e))&&(kc($q.C(Zn.C(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=pG(b,e,pn.C(a));if(E.B(yu,H(f)))return ef(f);d+=1;var h=Ip.C(e);e=f;f=h}}
function EG(a,b){var c=Tu.C(a),d=H($s.C(a)),e=tf(d)?PF(b):new X(null,2,5,Z,[d,b],null);b=N(e,0,null);d=0;for(e=N(e,1,null);;){var f=tf(uq.C(e))&&(kc($q.C(Zn.C(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=uq.C(e);f=r(f)?new X(null,2,5,Z,[H(f),new NF(Vw.C(e),J(f),Ip.C(e)+1,null,null,null)],null):new X(null,2,5,Z,[null,e],null);e=N(f,0,null);f=N(f,1,null);e=pG(b,IF(e),f);if(E.B(LB,H(e)))return f;e=f;d+=1}}
function FG(a,b){if(r($q.C(Zn.C(a)))){var c=$s.C(a),d=K(c),e=1<d?Om.C(qq.C(H(H(c)))):r($q.C(a))?"(":null,f=Te(c,1<d?1:0);c=2<d?Om.C(qq.C(H(Te(c,2)))):r($q.C(a))?")":null;d=OF(b);b=N(d,0,null);d=N(d,1,null);if(r(DF()))yd(Tb,"#");else{var h=uF,k=vF;uF+=1;vF=0;try{lF(e,c),pG(f,IF(b),pn.C(a)),mF()}finally{vF=k,uF=h}}a=d}else a=GG(a,b);return a}
function HG(a,b,c){for(var d=jf;;){if(tf(a))return new X(null,2,5,Z,[d,b],null);var e=H(a);a:{var f=new Pb,h=Tb;Tb=new Zd(f);try{var k=new X(null,2,5,Z,[pG(e,b,c),t.C(f)],null);break a}finally{Tb=h}k=void 0}b=N(k,0,null);e=N(k,1,null);if(E.B(yu,H(b)))return new X(null,2,5,Z,[d,ef(b)],null);a=J(a);d=hf.B(d,e)}}
function GG(a,b){var c=function(){var P=oq.C(a);return r(P)?HG(P,b,pn.C(a)):null}(),d=N(c,0,null);d=N(d,0,null);c=N(c,1,null);var e=r(c)?c:b;c=function(){var P=aE.C(a);return r(P)?UF(P,e):null}();var f=N(c,0,null);c=N(c,1,null);var h=r(c)?c:e;c=function(){var P=H(Pz.C(f));return r(P)?P:0}();var k=function(){var P=H(kC.C(f));return r(P)?P:JE(Tb,Us)}(),m=$s.C(a);h=HG(m,h,pn.C(a));var n=N(h,0,null);h=N(h,1,null);var p=function(){var P=K(n)-1+(r($q.C(a))?1:0)+(r(xC.C(a))?1:0);return 1>P?1:P}();m=w.B(Xf,
Rh.B(K,n));var u=Ku.C(a),v=hr.C(a),z=Go.C(a),C=m+p*v;u=C<=u?u:u+z*(1+gg(C-u-1,z));var F=u-m;m=function(){var P=gg(F,p);return v>P?v:P}();z=F-m*p;m=Ug(t,Yh(m,Ly.C(a)));r(r(d)?JE(fx.C(y(y(Tb))),Cp)+c+u>k:d)&&AE.I(M([d]));c=z;for(var I=n,O=function(){var P=$q.C(a);return r(P)?P:E.B(K(I),1)&&kc(xC.C(a))}();;)if(G(I))AE.I(M([[t.C(kc(O)?H(I):null),t.C(r(function(){var P=O;return r(P)?P:(P=J(I))?P:xC.C(a)}())?m:null),t.C(0<c?Ly.C(a):null)].join("")])),--c,I=d=r(O)?I:J(I),O=!1;else break;return h}
function IG(a){if("undefined"===typeof Qb||"undefined"===typeof tE||"undefined"===typeof wE)wE=function(b,c){this.vb=b;this.Qk=c;this.O=1074135040;this.T=0},wE.prototype.ha=function(b,c){return new wE(this.vb,c)},wE.prototype.ga=function(){return this.Qk},wE.prototype.Rd=function(){return zd(this.vb)},wE.prototype.ue=function(b,c){b=oc(c);if(r(E.B?E.B(String,b):E.call(null,String,b)))return yd(this.vb,c.toLowerCase());if(r(E.B?E.B(Number,b):E.call(null,Number,b)))return yd(this.vb,dg(c).toLowerCase());
throw Error(["No matching clause: ",t.C(b)].join(""));},wE.Wa=!0,wE.Sa="cljs.pprint/t_cljs$pprint24236",wE.Za=function(b){return yd(b,"cljs.pprint/t_cljs$pprint24236")};return new wE(a,W)}
function JG(a){if("undefined"===typeof Qb||"undefined"===typeof tE||"undefined"===typeof xE)xE=function(b,c){this.vb=b;this.Rk=c;this.O=1074135040;this.T=0},xE.prototype.ha=function(b,c){return new xE(this.vb,c)},xE.prototype.ga=function(){return this.Rk},xE.prototype.Rd=function(){return zd(this.vb)},xE.prototype.ue=function(b,c){b=oc(c);if(r(E.B?E.B(String,b):E.call(null,String,b)))return yd(this.vb,c.toUpperCase());if(r(E.B?E.B(Number,b):E.call(null,Number,b)))return yd(this.vb,dg(c).toUpperCase());
throw Error(["No matching clause: ",t.C(b)].join(""));},xE.Wa=!0,xE.Sa="cljs.pprint/t_cljs$pprint24330",xE.Za=function(b){return yd(b,"cljs.pprint/t_cljs$pprint24330")};return new xE(a,W)}
function KG(a,b){var c=H(a);a=r(r(b)?r(c)?mb(c):c:b)?[c.toUpperCase(),lg.B(a,1)].join(""):a;return Ug(t,H(FE(function(d){if(tf(d))return new X(null,2,5,Z,[null,null],null);var e=RegExp("\\W\\w","g").exec(d);e=r(e)?e.index+1:e;return r(e)?new X(null,2,5,Z,[[lg.D(d,0,e),Te(d,e).toUpperCase()].join(""),lg.B(d,e+1)],null):new X(null,2,5,Z,[d,null],null)},a)))}
function LG(a){var b=Fh(!0);if("undefined"===typeof Qb||"undefined"===typeof tE||"undefined"===typeof yE)yE=function(c,d,e){this.vb=c;this.Mf=d;this.Sk=e;this.O=1074135040;this.T=0},yE.prototype.ha=function(c,d){return new yE(this.vb,this.Mf,d)},yE.prototype.ga=function(){return this.Sk},yE.prototype.Rd=function(){return zd(this.vb)},yE.prototype.ue=function(c,d){c=oc(d);if(r(E.B?E.B(String,c):E.call(null,String,c)))return yd(this.vb,KG(d.toLowerCase(),y(this.Mf))),0<d.length?Gh(this.Mf,Qa(Te(d,K(d)-
1))):null;if(r(E.B?E.B(Number,c):E.call(null,Number,c)))return d=dg(d),c=r(y(this.Mf))?d.toUpperCase():d,yd(this.vb,c),Gh(this.Mf,Qa(d));throw Error(["No matching clause: ",t.C(c)].join(""));},yE.Wa=!0,yE.Sa="cljs.pprint/t_cljs$pprint24347",yE.Za=function(c){return yd(c,"cljs.pprint/t_cljs$pprint24347")};return new yE(a,b,W)}
function MG(a){var b=Fh(!1);if("undefined"===typeof Qb||"undefined"===typeof tE||"undefined"===typeof zE)zE=function(c,d,e){this.vb=c;this.lf=d;this.Tk=e;this.O=1074135040;this.T=0},zE.prototype.ha=function(c,d){return new zE(this.vb,this.lf,d)},zE.prototype.ga=function(){return this.Tk},zE.prototype.Rd=function(){return zd(this.vb)},zE.prototype.ue=function(c,d){c=oc(d);if(r(E.B?E.B(String,c):E.call(null,String,c)))return d=d.toLowerCase(),kc(y(this.lf))?(c=RegExp("\\S","g").exec(d),c=r(c)?c.index:
c,r(c)?(yd(this.vb,[lg.D(d,0,c),Te(d,c).toUpperCase(),lg.B(d,c+1).toLowerCase()].join("")),Gh(this.lf,!0)):yd(this.vb,d)):yd(this.vb,d.toLowerCase());if(r(E.B?E.B(Number,c):E.call(null,Number,c)))return d=dg(d),c=kc(y(this.lf)),r(c?mb(d):c)?(Gh(this.lf,!0),yd(this.vb,d.toUpperCase())):yd(this.vb,d.toLowerCase());throw Error(["No matching clause: ",t.C(c)].join(""));},zE.Wa=!0,zE.Sa="cljs.pprint/t_cljs$pprint24361",zE.Za=function(c){return yd(c,"cljs.pprint/t_cljs$pprint24361")};return new zE(a,b,
W)}function NG(a,b){var c=r($q.C(a))?Ro:Jz;FF(c,qB.C(a));return b}function OG(a,b){a=r($q.C(a))?r(xC.C(a))?jn:Bz:r(xC.C(a))?OC:xA;EF(a);return b}
var PG=Uj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new q(null,5,[Kn,"A",qq,new q(null,4,[Ku,new X(null,2,5,Z,[0,Number],null),Go,new X(null,2,5,Z,[1,Number],null),hr,new X(null,2,5,Z,[0,Number],null),Ly,new X(null,2,5,Z,[" ",String],null)],null),ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(){return function(a,b){return WF(ql,a,b)}}],null),new q(null,5,[Kn,"S",qq,new q(null,4,[Ku,new X(null,2,5,Z,[0,Number],null),Go,new X(null,2,5,Z,[1,Number],
null),hr,new X(null,2,5,Z,[0,Number],null),Ly,new X(null,2,5,Z,[" ",String],null)],null),ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(){return function(a,b){return WF(ol,a,b)}}],null),new q(null,5,[Kn,"D",qq,new q(null,4,[Ku,new X(null,2,5,Z,[0,Number],null),Ly,new X(null,2,5,Z,[" ",String],null),wq,new X(null,2,5,Z,[",",String],null),iz,new X(null,2,5,Z,[3,Number],null)],null),ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(){return function(a,
b){return $F(10,a,b)}}],null),new q(null,5,[Kn,"B",qq,new q(null,4,[Ku,new X(null,2,5,Z,[0,Number],null),Ly,new X(null,2,5,Z,[" ",String],null),wq,new X(null,2,5,Z,[",",String],null),iz,new X(null,2,5,Z,[3,Number],null)],null),ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(){return function(a,b){return $F(2,a,b)}}],null),new q(null,5,[Kn,"O",qq,new q(null,4,[Ku,new X(null,2,5,Z,[0,Number],null),Ly,new X(null,2,5,Z,[" ",String],null),wq,new X(null,2,5,Z,[",",String],
null),iz,new X(null,2,5,Z,[3,Number],null)],null),ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(){return function(a,b){return $F(8,a,b)}}],null),new q(null,5,[Kn,"X",qq,new q(null,4,[Ku,new X(null,2,5,Z,[0,Number],null),Ly,new X(null,2,5,Z,[" ",String],null),wq,new X(null,2,5,Z,[",",String],null),iz,new X(null,2,5,Z,[3,Number],null)],null),ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(){return function(a,b){return $F(16,a,b)}}],
null),new q(null,5,[Kn,"R",qq,new q(null,5,[fx,new X(null,2,5,Z,[null,Number],null),Ku,new X(null,2,5,Z,[0,Number],null),Ly,new X(null,2,5,Z,[" ",String],null),wq,new X(null,2,5,Z,[",",String],null),iz,new X(null,2,5,Z,[3,Number],null)],null),ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(a){return r(H(fx.C(a)))?function(b,c){return $F(fx.C(b),b,c)}:r(function(){var b=xC.C(a);return r(b)?$q.C(a):b}())?function(b,c){return jG(hG,c)}:r(xC.C(a))?function(b,c){return jG(iG,
c)}:r($q.C(a))?function(b,c){b=OF(c);c=N(b,0,null);b=N(b,1,null);if(E.B(0,c))AE.I(M(["zeroth"]));else{var d=YF(1E3,0>c?-c:c);if(K(d)<=K(eG)){var e=Rh.B(fG,Uh(1,d));e=gG(e,1);var f=gf(d);d=gg(f,100);f=hg(f,100);var h=0<d?[t.C(Te(aG,d))," hundred"].join(""):null,k=t,m=k.C;if(0<f)if(20>f)var n=Te(bG,f);else{n=gg(f,10);var p=hg(f,10);n=0<n&&!(0<p)?Te(dG,n):[t.C(0<n?Te(cG,n):null),0<n&&0<p?"-":null,t.C(0<p?Te(bG,p):null)].join("")}else n=0<d?"th":null;d=[h,0<d&&0<f?" ":null,m.call(k,n)].join("");AE.I(M([[0>
c?"minus ":null,tf(e)||tf(d)?tf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else $F(10,new q(null,5,[Ku,0,Ly," ",wq,",",iz,3,$q,!0],null),IF(new X(null,1,5,Z,[c],null))),e=hg(c,100),c=11<e||19>e,e=hg(e,10),AE.I(M([1===e&&c?"st":2===e&&c?"nd":3===e&&c?"rd":"th"]))}return b}:function(b,c){c=OF(c);b=N(c,0,null);c=N(c,1,null);if(E.B(0,b))AE.I(M(["zero"]));else{var d=YF(1E3,0>b?-b:b);K(d)<=K(eG)?(d=Rh.B(fG,d),d=gG(d,0),AE.I(M([[0>b?"minus ":null,d].join("")]))):$F(10,new q(null,5,[Ku,0,Ly,
" ",wq,",",iz,3,$q,!0],null),IF(new X(null,1,5,Z,[b],null)))}return c}}],null),new q(null,5,[Kn,"P",qq,W,ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(){return function(a,b){b=r($q.C(a))?RF(b,-1):b;a=r(xC.C(a))?new X(null,2,5,Z,["y","ies"],null):new X(null,2,5,Z,["","s"],null);var c=OF(b);b=N(c,0,null);c=N(c,1,null);AE.I(M([E.B(b,1)?H(a):ef(a)]));return c}}],null),new q(null,5,[Kn,"C",qq,new q(null,1,[hC,new X(null,2,5,Z,[null,String],null)],null),ms,new xk(null,
new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(a){return r($q.C(a))?lG:r(xC.C(a))?mG:nG}],null),new q(null,5,[Kn,"F",qq,new q(null,5,[kB,new X(null,2,5,Z,[null,Number],null),gB,new X(null,2,5,Z,[null,Number],null),bB,new X(null,2,5,Z,[0,Number],null),BD,new X(null,2,5,Z,[null,String],null),Ly,new X(null,2,5,Z,[" ",String],null)],null),ms,new xk(null,new q(null,1,[xC,null],null),null),Gt,W,yD,function(){return uG}],null),new q(null,5,[Kn,"E",qq,new q(null,7,[kB,new X(null,2,5,
Z,[null,Number],null),gB,new X(null,2,5,Z,[null,Number],null),eB,new X(null,2,5,Z,[null,Number],null),bB,new X(null,2,5,Z,[1,Number],null),BD,new X(null,2,5,Z,[null,String],null),Ly,new X(null,2,5,Z,[" ",String],null),Gn,new X(null,2,5,Z,[null,String],null)],null),ms,new xk(null,new q(null,1,[xC,null],null),null),Gt,W,yD,function(){return vG}],null),new q(null,5,[Kn,"G",qq,new q(null,7,[kB,new X(null,2,5,Z,[null,Number],null),gB,new X(null,2,5,Z,[null,Number],null),eB,new X(null,2,5,Z,[null,Number],
null),bB,new X(null,2,5,Z,[1,Number],null),BD,new X(null,2,5,Z,[null,String],null),Ly,new X(null,2,5,Z,[" ",String],null),Gn,new X(null,2,5,Z,[null,String],null)],null),ms,new xk(null,new q(null,1,[xC,null],null),null),Gt,W,yD,function(){return wG}],null),new q(null,5,[Kn,"$",qq,new q(null,4,[gB,new X(null,2,5,Z,[2,Number],null),qB,new X(null,2,5,Z,[1,Number],null),kB,new X(null,2,5,Z,[0,Number],null),Ly,new X(null,2,5,Z,[" ",String],null)],null),ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],
null),null),Gt,W,yD,function(){return xG}],null),new q(null,5,[Kn,"%",qq,new q(null,1,[Zs,new X(null,2,5,Z,[1,Number],null)],null),ms,zk,Gt,W,yD,function(){return function(a,b){a=Zs.C(a);for(var c=0;;)if(c<a)CE(),c+=1;else break;return b}}],null),new q(null,5,[Kn,"\x26",qq,new q(null,1,[Zs,new X(null,2,5,Z,[1,Number],null)],null),ms,new xk(null,new q(null,1,[Xp,null],null),null),Gt,W,yD,function(){return function(a,b){a=Zs.C(a);0<a&&((null!=Tb?Tb.O&32768||l===Tb.yi||(Tb.O?0:nc(fd,Tb)):nc(fd,Tb))?
E.B(0,JE(fx.C(y(y(Tb))),Cp))||CE():CE());--a;for(var c=0;;)if(c<a)CE(),c+=1;else break;return b}}],null),new q(null,5,[Kn,"|",qq,new q(null,1,[Zs,new X(null,2,5,Z,[1,Number],null)],null),ms,zk,Gt,W,yD,function(){return function(a,b){a=Zs.C(a);for(var c=0;;)if(c<a)AE.I(M(["\f"])),c+=1;else break;return b}}],null),new q(null,5,[Kn,"~",qq,new q(null,1,[qB,new X(null,2,5,Z,[1,Number],null)],null),ms,zk,Gt,W,yD,function(){return function(a,b){a=qB.C(a);AE.I(M([Ug(t,Yh(a,"~"))]));return b}}],null),new q(null,
5,[Kn,"\n",qq,W,ms,new xk(null,new q(null,2,[$q,null,xC,null],null),null),Gt,W,yD,function(){return function(a,b){r(xC.C(a))&&CE();return b}}],null),new q(null,5,[Kn,"T",qq,new q(null,2,[VC,new X(null,2,5,Z,[1,Number],null),Go,new X(null,2,5,Z,[1,Number],null)],null),ms,new xk(null,new q(null,2,[xC,null,Xp,null],null),null),Gt,W,yD,function(a){return r(xC.C(a))?function(b,c){var d=VC.C(b);b=Go.C(b);var e=d+JE(fx.C(y(y(Tb))),Cp);e=0<b?hg(e,b):0;d+=E.B(0,e)?0:b-e;AE.I(M([Ug(t,Yh(d," "))]));return c}:
function(b,c){var d=VC.C(b);b=Go.C(b);var e=JE(fx.C(y(y(Tb))),Cp);d=e<d?d-e:E.B(b,0)?0:b-hg(e-d,b);AE.I(M([Ug(t,Yh(d," "))]));return c}}],null),new q(null,5,[Kn,"*",qq,new q(null,1,[qB,new X(null,2,5,Z,[1,Number],null)],null),ms,new xk(null,new q(null,2,[$q,null,xC,null],null),null),Gt,W,yD,function(){return function(a,b){var c=qB.C(a);return r(xC.C(a))?QF(b,c):RF(b,r($q.C(a))?-c:c)}}],null),new q(null,5,[Kn,"?",qq,W,ms,new xk(null,new q(null,1,[xC,null],null),null),Gt,W,yD,function(a){return r(xC.C(a))?
function(b,c){var d=PF(c);c=N(d,0,null);d=N(d,1,null);return pG(c,d,pn.C(b))}:function(b,c){var d=PF(c);c=N(d,0,null);d=N(d,1,null);var e=OF(d);d=N(e,0,null);e=N(e,1,null);d=IF(d);pG(c,d,pn.C(b));return e}}],null),new q(null,5,[Kn,"(",qq,W,ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,new q(null,3,[Ux,")",JB,null,oq,null],null),yD,function(a){var b=r(function(){var c=xC.C(a);return r(c)?$q.C(a):c}())?JG:r($q.C(a))?LG:r(xC.C(a))?MG:IG;return function(c,d){a:{var e=H($s.C(c)),
f=Tb;Tb=b.C?b.C(Tb):b.call(null,Tb);try{var h=pG(e,d,pn.C(c));break a}finally{Tb=f}h=void 0}return h}}],null),new q(null,5,[Kn,")",qq,W,ms,zk,Gt,W,yD,function(){return null}],null),new q(null,5,[Kn,"[",qq,new q(null,1,[NC,new X(null,2,5,Z,[null,Number],null)],null),ms,new xk(null,new q(null,2,[$q,null,xC,null],null),null),Gt,new q(null,3,[Ux,"]",JB,!0,oq,ZA],null),yD,function(a){return r($q.C(a))?zG:r(xC.C(a))?AG:yG}],null),new q(null,5,[Kn,";",qq,new q(null,2,[Pz,new X(null,2,5,Z,[null,Number],null),
kC,new X(null,2,5,Z,[null,Number],null)],null),ms,new xk(null,new q(null,1,[$q,null],null),null),Gt,new q(null,1,[oz,!0],null),yD,function(){return null}],null),new q(null,5,[Kn,"]",qq,W,ms,zk,Gt,W,yD,function(){return null}],null),new q(null,5,[Kn,"{",qq,new q(null,1,[Tu,new X(null,2,5,Z,[null,Number],null)],null),ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,new q(null,2,[Ux,"}",JB,!1],null),yD,function(a){var b=xC.C(a);b=r(b)?$q.C(a):b;return r(b)?EG:r($q.C(a))?CG:r(xC.C(a))?
DG:BG}],null),new q(null,5,[Kn,"}",qq,W,ms,new xk(null,new q(null,1,[$q,null],null),null),Gt,W,yD,function(){return null}],null),new q(null,5,[Kn,"\x3c",qq,new q(null,4,[Ku,new X(null,2,5,Z,[0,Number],null),Go,new X(null,2,5,Z,[1,Number],null),hr,new X(null,2,5,Z,[0,Number],null),Ly,new X(null,2,5,Z,[" ",String],null)],null),ms,new xk(null,new q(null,4,[$q,null,xC,null,ds,null,Xp,null],null),null),Gt,new q(null,3,[Ux,"\x3e",JB,!0,oq,ox],null),yD,function(){return FG}],null),new q(null,5,[Kn,"\x3e",
qq,W,ms,new xk(null,new q(null,1,[$q,null],null),null),Gt,W,yD,function(){return null}],null),new q(null,5,[Kn,"^",qq,new q(null,3,[nD,new X(null,2,5,Z,[null,Number],null),oD,new X(null,2,5,Z,[null,Number],null),lD,new X(null,2,5,Z,[null,Number],null)],null),ms,new xk(null,new q(null,1,[$q,null],null),null),Gt,W,yD,function(){return function(a,b){var c=nD.C(a),d=oD.C(a),e=lD.C(a),f=r($q.C(a))?LB:yu;return r(r(c)?r(d)?e:d:c)?c<=d&&d<=e?new X(null,2,5,Z,[f,b],null):b:r(r(c)?d:c)?E.B(c,d)?new X(null,
2,5,Z,[f,b],null):b:r(c)?E.B(c,0)?new X(null,2,5,Z,[f,b],null):b:(r($q.C(a))?tf(uq.C(pn.C(a))):tf(uq.C(b)))?new X(null,2,5,Z,[f,b],null):b}}],null),new q(null,5,[Kn,"W",qq,W,ms,new xk(null,new q(null,4,[$q,null,xC,null,ds,null,Xp,null],null),null),Gt,W,yD,function(a){if(r(function(){var c=xC.C(a);return r(c)?c:$q.C(a)}())){var b=V.B(r(xC.C(a))?new X(null,4,5,Z,[wm,null,cw,null],null):jf,r($q.C(a))?new X(null,2,5,Z,[Xp,!0],null):jf);return function(c,d){d=OF(d);c=N(d,0,null);d=N(d,1,null);return r(Vg(yF,
c,b))?new X(null,2,5,Z,[yu,d],null):d}}return function(c,d){d=OF(d);c=N(d,0,null);d=N(d,1,null);return r(xF(c))?new X(null,2,5,Z,[yu,d],null):d}}],null),new q(null,5,[Kn,"_",qq,W,ms,new xk(null,new q(null,3,[$q,null,xC,null,ds,null],null),null),Gt,W,yD,function(){return OG}],null),new q(null,5,[Kn,"I",qq,new q(null,1,[qB,new X(null,2,5,Z,[0,Number],null)],null),ms,new xk(null,new q(null,1,[$q,null],null),null),Gt,W,yD,function(){return NG}],null)]),QG=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,RG=new xk(null,
new q(null,2,[Yy,null,At,null],null),null);
function SG(a){var b=N(a,0,null),c=N(a,1,null),d=N(a,2,null);a=new RegExp(QG.source,"g");var e=a.exec(b);return r(e)?(d=H(e),b=lg.B(b,a.lastIndex),a=c+a.lastIndex,E.B(",",Te(b,0))?new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[lg.B(b,1),a+1,!0],null)],null):new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[b,a,!1],null)],null)):r(d)?MF("Badly formed parameters in format directive",c):new X(null,2,5,Z,[null,new X(null,2,5,Z,[b,c],null)],null)}
function TG(a){var b=N(a,0,null);a=N(a,1,null);return new X(null,2,5,Z,[E.B(b.length,0)?null:E.B(b.length,1)&&S(new xk(null,new q(null,2,["V",null,"v",null],null),null),Te(b,0))?At:E.B(b.length,1)&&E.B("#",Te(b,0))?Yy:E.B(b.length,2)&&E.B("'",Te(b,0))?Te(b,1):parseInt(b,10),a],null)}var UG=new q(null,2,[":",$q,"@",xC],null);
function VG(a,b){return FE(function(c){var d=N(c,0,null),e=N(c,1,null);c=N(c,2,null);if(tf(d))return new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null);var f=B.B(UG,H(d));return r(f)?S(c,f)?MF(['Flag "',t.C(H(d)),'" appears more than once in a directive'].join(""),e):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[lg.B(d,1),e+1,Q.D(c,f,new X(null,2,5,Z,[!0,e],null))],null)],null):new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null)},new X(null,3,5,Z,[a,b,W],null))}
function WG(a,b){var c=ms.C(a);r(function(){var d=kc(xC.C(c));return d?xC.C(b):d}())&&MF(['"@" is an illegal flag for format directive "',t.C(Kn.C(a)),'"'].join(""),Te(xC.C(b),1));r(function(){var d=kc($q.C(c));return d?$q.C(b):d}())&&MF(['":" is an illegal flag for format directive "',t.C(Kn.C(a)),'"'].join(""),Te($q.C(b),1));r(function(){var d=kc(ds.C(c));return d?(d=xC.C(b),r(d)?$q.C(b):d):d}())&&MF(['Cannot combine "@" and ":" flags for format directive "',t.C(Kn.C(a)),'"'].join(""),function(){var d=
Te($q.C(b),1),e=Te(xC.C(b),1);return d<e?d:e}())}
function XG(a,b,c,d){WG(a,c);K(b)>K(qq.C(a))&&MF(GF(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([Kn.C(a),K(b),K(qq.C(a))])),ef(H(b)));Tk(Rh.D(function(e,f){var h=H(e);return null==h||S(RG,h)||E.B(ef(ef(f)),oc(h))?null:MF(["Parameter ",vg(H(f)),' has bad type in directive "',t.C(Kn.C(a)),'": ',t.C(oc(h))].join(""),ef(e))},b,qq.C(a)));return sk.I(M([gi.B(W,og(function(){return function h(f){return new wg(null,function(){for(;;){var k=
G(f);if(k){if(Af(k)){var m=Pd(k),n=K(m),p=Cg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),z=N(v,0,null);v=N(v,1,null);v=N(v,0,null);p.add(new X(null,2,5,Z,[z,new X(null,2,5,Z,[v,d],null)],null));u+=1}else{m=!0;break a}return m?Eg(Gg(p),h(Qd(k))):Eg(Gg(p),null)}m=H(k);p=N(m,0,null);m=N(m,1,null);m=N(m,0,null);return Ze(new X(null,2,5,Z,[p,new X(null,2,5,Z,[m,d],null)],null),h(ve(k)))}return null}},null,null)}(qq.C(a))}())),w.D(function(e,f){return Vg(Q,e,f)},W,ei(function(e){return H(Te(e,1))},Ek(kj(qq.C(a)),
b))),c]))}
function YG(a,b){b=FE(SG,new X(null,3,5,Z,[a,b,!1],null));a=N(b,0,null);var c=N(b,1,null);b=N(c,0,null);c=N(c,1,null);b=VG(b,c);N(b,0,null);b=N(b,1,null);var d=N(b,0,null),e=N(b,1,null);b=N(b,2,null);c=H(d);var f=B.B(PG,c.toUpperCase()),h=r(f)?XG(f,Rh.B(TG,a),b,e):null;kc(c)&&MF("Format string ended in the middle of a directive",e);kc(f)&&MF(['Directive "',t.C(c),'" is undefined'].join(""),e);return new X(null,2,5,Z,[new SF(function(){var k=yD.C(f);return k.B?k.B(h,e):k.call(null,h,e)}(),f,h,e,null,
null,null),function(){var k=lg.B(d,1),m=e+1;if(E.B("\n",Kn.C(f))&&kc($q.C(h)))a:{var n=new X(null,2,5,Z,[" ","\t"],null);n=uf(n)?Bk(n):Jf([n]);for(var p=0;;){var u;(u=E.B(p,K(k)))||(u=Te(k,p),u=n.C?n.C(u):n.call(null,u),u=kc(u));if(u){n=p;break a}p+=1}}else n=0;k=lg.B(k,n);return new X(null,2,5,Z,[k,m+n],null)}()],null)}function ZG(a,b){return new SF(function(c,d){AE.I(M([a]));return d},null,new q(null,1,[Om,a],null),b,null,null,null)}
function $G(a,b){var c=aH(Gt.C(un.C(a)),Rz.C(a),b);b=N(c,0,null);c=N(c,1,null);return new X(null,2,5,Z,[new SF(rB.C(a),un.C(a),sk.I(M([qq.C(a),HE(b,Rz.C(a))])),Rz.C(a),null,null,null),c],null)}
function bH(a,b,c){return FE(function(d){if(tf(d))return MF("No closing bracket found.",b);var e=H(d);d=J(d);if(r(Ux.C(Gt.C(un.C(e)))))e=$G(e,d);else if(E.B(Ux.C(a),Kn.C(un.C(e))))e=new X(null,2,5,Z,[null,new X(null,4,5,Z,[fp,qq.C(e),null,d],null)],null);else{var f=oz.C(Gt.C(un.C(e)));f=r(f)?$q.C(qq.C(e)):f;e=r(f)?new X(null,2,5,Z,[null,new X(null,4,5,Z,[oq,null,qq.C(e),d],null)],null):r(oz.C(Gt.C(un.C(e))))?new X(null,2,5,Z,[null,new X(null,4,5,Z,[oz,null,null,d],null)],null):new X(null,2,5,Z,[e,
d],null)}return e},c)}
function aH(a,b,c){return ef(FE(function(d){var e=N(d,0,null),f=N(d,1,null);d=N(d,2,null);var h=bH(a,b,d);d=N(h,0,null);var k=N(h,1,null);h=N(k,0,null);var m=N(k,1,null),n=N(k,2,null);k=N(k,3,null);return E.B(h,fp)?new X(null,2,5,Z,[null,new X(null,2,5,Z,[tk.I(V,M([e,nf([r(f)?oq:$s,new X(null,1,5,Z,[d],null),Zn,m])])),k],null)],null):E.B(h,oq)?r(oq.C(e))?MF('Two else clauses ("~:;") inside bracket construction.',b):kc(oq.C(a))?MF('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
E.B(ox,oq.C(a))&&G($s.C(e))?MF('The else clause ("~:;") is only allowed in the first position for this directive.',b):E.B(ox,oq.C(a))?new X(null,2,5,Z,[!0,new X(null,3,5,Z,[tk.I(V,M([e,new q(null,2,[oq,new X(null,1,5,Z,[d],null),aE,n],null)])),!1,k],null)],null):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[tk.I(V,M([e,new q(null,1,[$s,new X(null,1,5,Z,[d],null)],null)])),!0,k],null)],null):E.B(h,oz)?r(f)?MF('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):kc(JB.C(a))?
MF('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[tk.I(V,M([e,new q(null,1,[$s,new X(null,1,5,Z,[d],null)],null)])),!1,k],null)],null):null},new X(null,3,5,Z,[new q(null,1,[$s,jf],null),!1,c],null)))}function cH(a){return H(FE(function(b){var c=H(b);b=J(b);var d=Gt.C(un.C(c));return r(Ux.C(d))?$G(c,b):new X(null,2,5,Z,[c,b],null)},a))}
function HF(a){var b=LF;LF=a;try{return cH(H(FE(function(c){var d=N(c,0,null);c=N(c,1,null);if(tf(d))return new X(null,2,5,Z,[null,d],null);var e=d.indexOf("~");return 0>e?new X(null,2,5,Z,[ZG(d,c),new X(null,2,5,Z,["",c+d.length],null)],null):0===e?YG(lg.B(d,1),c+1):new X(null,2,5,Z,[ZG(lg.D(d,0,e),c),new X(null,2,5,Z,[lg.B(d,e),e+c],null)],null)},new X(null,2,5,Z,[a,0],null))))}finally{LF=b}}
var JF=function JF(a){for(;;){if(tf(a))return!1;var c=Xp.C(ms.C(un.C(H(a))));r(c)||(c=sh(JF,H($s.C(qq.C(H(a))))),c=r(c)?c:sh(JF,H(oq.C(qq.C(H(a))))));if(r(c))return!0;a=J(a)}};function KF(a,b){EE(function(c,d){if(oG(d))return new X(null,2,5,Z,[null,d],null);d=UF(qq.C(c),d);var e=N(d,0,null);d=N(d,1,null);var f=GE(e);e=N(f,0,null);f=N(f,1,null);e=Q.D(e,pn,d);return new X(null,2,5,Z,[null,Ug(rB.C(c),new X(null,3,5,Z,[e,d,f],null))],null)},b,a);return null}
var dH=Ul(HF),eH=new q(null,6,[Fr,"'",YB,"#'",pp,"@",ks,"~",cn,"@",ow,"~"],null);function fH(a){var b=H(a);b=eH.C?eH.C(b):eH.call(null,b);return r(r(b)?E.B(2,K(a)):b)?(yd(Tb,b),xF(ef(a)),!0):null}function gH(a){if(r(DF()))yd(Tb,"#");else{var b=uF,c=vF;uF+=1;vF=0;try{lF("[","]");for(var d=0,e=G(a);;){if(kc(Xb)||d<Xb){if(e&&(xF(H(e)),J(e))){yd(Tb," ");EF(xA);a=d+1;var f=J(e);d=a;e=f;continue}}else yd(Tb,"...");break}mF()}finally{vF=c,uF=b}}return null}
(function(){var a=dH("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=IF(d);return KF(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()})();
function hH(a){var b=yf(a)?null:function(){var m=new pe(function(){return tl},aB,Uj([Xm,iv,ut,zz,mn,vu,Cm,Fv,Xz,Cs,BA],[!0,nv,Rr,"cljs/core.cljs",15,1,10449,10449,pg(new X(null,1,5,Z,[uo],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",r(tl)?tl.nm:null]));return m.C?m.C(a):m.call(null,a)}(),c=N(b,0,null);b=N(b,1,null);var d=r(b)?b:a,e=r(c)?["#:",t.C(c),"{"].join(""):"{";if(r(DF()))yd(Tb,"#");else{c=uF;b=vF;uF+=1;vF=0;try{lF(e,"}");e=0;for(var f=G(d);;){if(kc(Xb)||e<Xb){if(f){if(r(DF()))yd(Tb,
"#");else{d=uF;var h=vF;uF+=1;vF=0;try{lF(null,null),xF(ff(f)),yd(Tb," "),EF(xA),vF=0,xF(H(J(H(f)))),mF()}finally{vF=h,uF=d}}if(J(f)){yd(Tb,", ");EF(xA);d=e+1;var k=J(f);e=d;f=k;continue}}}else yd(Tb,"...");break}mF()}finally{vF=b,uF=c}}return null}function iH(a){return yd(Tb,ol.I(M([a])))}
var jH=function(){var a=dH("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=IF(d);return KF(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}(),kH=new q(null,2,["core$future_call","Future","core$promise","Promise"],null),lH=function(){var a=dH("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=
null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=IF(d);return KF(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}();function mH(a){return a instanceof $i?JC:(null!=a?a.O&32768||l===a.yi||(a.O?0:nc(fd,a)):nc(fd,a))?Ru:a instanceof A?Pr:Df(a)?pD:xf(a)?Os:zf(a)?fs:vf(a)?Xw:null==a?null:lm}var nH,VJ=Fh(W),WJ=Fh(W),XJ=Fh(W),YJ=Fh(W),nL=B.D(W,Gr,Zl.P?Zl.P():Zl.call(null));
nH=new km(oe.B("cljs.pprint","simple-dispatch"),mH,nL,VJ,WJ,XJ,YJ);im(nH,pD,function(a){if(kc(fH(a)))if(r(DF()))yd(Tb,"#");else{var b=uF,c=vF;uF+=1;vF=0;try{lF("(",")");for(var d=0,e=G(a);;){if(kc(Xb)||d<Xb){if(e&&(xF(H(e)),J(e))){yd(Tb," ");EF(xA);a=d+1;var f=J(e);d=a;e=f;continue}}else yd(Tb,"...");break}mF()}finally{vF=c,uF=b}}return null});im(nH,fs,gH);im(nH,Os,hH);im(nH,Xw,jH);im(nH,null,function(){return yd(Tb,ol.I(M([null])))});im(nH,lm,iH);oF=nH;
function tH(a){return zf(a)?new X(null,2,5,Z,["[","]"],null):new X(null,2,5,Z,["(",")"],null)}
function uH(a){if(wf(a)){var b=tH(a),c=N(b,0,null),d=N(b,1,null),e=G(a),f=H(e),h=J(e);if(r(DF()))yd(Tb,"#");else{var k=uF,m=vF,n=uF+1;uF=n;vF=0;try{lF(c,d);(function(){var va=dH("~w~:i");return function(){function ua(pa){var sa=null;if(0<arguments.length){sa=0;for(var Da=Array(arguments.length-0);sa<Da.length;)Da[sa]=arguments[sa+0],++sa;sa=new se(Da,0,null)}return Ma.call(this,sa)}function Ma(pa){pa=IF(pa);return KF(va,pa)}ua.aa=0;ua.fa=function(pa){pa=G(pa);return Ma(pa)};ua.I=Ma;return ua}()})()(f);
for(var p=h;;)if(G(p)){(function(){var va=dH(" ");return function(ua,Ma,pa){return function(){function sa(Ca){var Ea=null;if(0<arguments.length){Ea=0;for(var eb=Array(arguments.length-0);Ea<eb.length;)eb[Ea]=arguments[Ea+0],++Ea;Ea=new se(eb,0,null)}return Da.call(this,Ea)}function Da(Ca){Ca=IF(Ca);return KF(pa,Ca)}sa.aa=0;sa.fa=function(Ca){Ca=G(Ca);return Da(Ca)};sa.I=Da;return sa}()}(p," ",va,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=H(p);if(wf(u)){var v=tH(u),z=N(v,0,null),C=N(v,1,null);if(r(DF()))yd(Tb,
"#");else{var F=uF,I=vF,O=uF+1;uF=O;vF=0;try{lF(z,C);if(E.B(K(u),3)&&ef(u)instanceof D){var P=u,T=N(P,0,null),aa=N(P,1,null),ea=N(P,2,null);(function(){var va=dH("~w ~w ");return function(ua,Ma,pa){return function(){function sa(Ca){var Ea=null;if(0<arguments.length){Ea=0;for(var eb=Array(arguments.length-0);Ea<eb.length;)eb[Ea]=arguments[Ea+0],++Ea;Ea=new se(eb,0,null)}return Da.call(this,Ea)}function Da(Ca){Ca=IF(Ca);return KF(pa,Ca)}sa.aa=0;sa.fa=function(Ca){Ca=G(Ca);return Da(Ca)};sa.I=Da;return sa}()}(p,
"~w ~w ",va,P,T,aa,ea,F,I,O,0,v,z,C,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(T,aa);wf(ea)?function(){var va=zf(ea)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",ua="string"===typeof va?dH(va):va;return function(Ma,pa,sa){return function(){function Da(Ea){var eb=null;if(0<arguments.length){eb=0;for(var wc=Array(arguments.length-0);eb<wc.length;)wc[eb]=arguments[eb+0],++eb;eb=new se(wc,0,null)}return Ca.call(this,eb)}function Ca(Ea){Ea=IF(Ea);return KF(sa,Ea)}Da.aa=0;Da.fa=function(Ea){Ea=
G(Ea);return Ca(Ea)};Da.I=Ca;return Da}()}(p,va,ua,P,T,aa,ea,F,I,O,0,v,z,C,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(ea):xF(ea)}else Ug(function(){var va=dH("~w ~:i~@{~w~^ ~:_~}");return function(ua,Ma,pa){return function(){function sa(Ca){var Ea=null;if(0<arguments.length){Ea=0;for(var eb=Array(arguments.length-0);Ea<eb.length;)eb[Ea]=arguments[Ea+0],++Ea;Ea=new se(eb,0,null)}return Da.call(this,Ea)}function Da(Ca){Ca=IF(Ca);return KF(pa,Ca)}sa.aa=0;sa.fa=function(Ca){Ca=G(Ca);return Da(Ca)};sa.I=Da;return sa}()}(p,
"~w ~:i~@{~w~^ ~:_~}",va,F,I,O,0,v,z,C,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);mF()}finally{vF=I,uF=F}}J(p)&&function(){var va=dH("~_");return function(ua,Ma,pa){return function(){function sa(Ca){var Ea=null;if(0<arguments.length){Ea=0;for(var eb=Array(arguments.length-0);Ea<eb.length;)eb[Ea]=arguments[Ea+0],++Ea;Ea=new se(eb,0,null)}return Da.call(this,Ea)}function Da(Ca){Ca=IF(Ca);return KF(pa,Ca)}sa.aa=0;sa.fa=function(Ca){Ca=G(Ca);return Da(Ca)};sa.I=Da;return sa}()}(p,"~_",va,v,z,C,u,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else xF(u),J(p)&&function(){var va=dH("~:_");return function(ua,Ma,pa){return function(){function sa(Ca){var Ea=null;if(0<arguments.length){Ea=0;for(var eb=Array(arguments.length-0);Ea<eb.length;)eb[Ea]=arguments[Ea+0],++Ea;Ea=new se(eb,0,null)}return Da.call(this,Ea)}function Da(Ca){Ca=IF(Ca);return KF(pa,Ca)}sa.aa=0;sa.fa=function(Ca){Ca=G(Ca);return Da(Ca)};sa.I=Da;return sa}()}(p,"~:_",va,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();p=J(p)}else break;mF()}finally{vF=m,uF=k}}}else xF(a)}
var vH=function(){var a=dH("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=IF(d);return KF(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}();
function wH(a,b){G(a)&&(r(b)?function(){var c=dH(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new se(k,0,null)}return e.call(this,h)}function e(f){f=IF(f);return KF(c,f)}d.aa=0;d.fa=function(f){f=G(f);return e(f)};d.I=e;return d}()}()():function(){var c=dH(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new se(k,0,null)}return e.call(this,h)}function e(f){f=IF(f);return KF(c,f)}d.aa=0;d.fa=function(f){f=G(f);return e(f)};d.I=e;return d}()}()(),function(){var c=dH("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new se(k,0,null)}return e.call(this,h)}function e(f){f=IF(f);return KF(c,f)}d.aa=0;d.fa=function(f){f=G(f);return e(f)};d.I=e;return d}()}()(a))}
function xH(a){G(a)&&function(){var b=dH(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new se(h,0,null)}return d.call(this,f)}function d(e){e=IF(e);return KF(b,e)}c.aa=0;c.fa=function(e){e=G(e);return d(e)};c.I=d;return c}()}()(a)}
function yH(a){if(J(a)){var b=G(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new X(null,2,5,Z,[H(c),J(c)],null):new X(null,2,5,Z,[null,c],null);c=N(d,0,null);d=N(d,1,null);var e=xf(H(d))?new X(null,2,5,Z,[H(d),J(d)],null):new X(null,2,5,Z,[null,d],null);d=N(e,0,null);e=N(e,1,null);if(r(DF()))yd(Tb,"#");else{var f=uF,h=vF;uF+=1;vF=0;try{lF("(",")"),function(){var k=dH("~w ~1I~@_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-
0);u<v.length;)v[u]=arguments[u+0],++u;u=new se(v,0,null)}return n.call(this,u)}function n(p){p=IF(p);return KF(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};m.I=n;return m}()}()(a,b),r(c)&&function(){var k=dH(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new se(v,0,null)}return n.call(this,u)}function n(p){p=IF(p);return KF(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};m.I=n;return m}()}()(c),
r(d)&&function(){var k=dH(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new se(v,0,null)}return n.call(this,u)}function n(p){p=IF(p);return KF(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};m.I=n;return m}()}()(d),zf(H(e))?wH(e,r(c)?c:d):xH(e),mF()}finally{vF=h,uF=f}}return null}return zH(a)}
function AH(a){if(r(DF()))yd(Tb,"#");else{var b=uF,c=vF;uF+=1;vF=0;try{lF("[","]");for(var d=0;;){if(kc(Xb)||d<Xb){if(G(a)){if(r(DF()))yd(Tb,"#");else{var e=uF,f=vF;uF+=1;vF=0;try{lF(null,null),xF(H(a)),J(a)&&(yd(Tb," "),EF(OC),xF(ef(a))),mF()}finally{vF=f,uF=e}}if(J(ve(a))){yd(Tb," ");EF(xA);e=d+1;var h=J(ve(a));d=e;a=h;continue}}}else yd(Tb,"...");break}mF()}finally{vF=c,uF=b}}}
function BH(a){var b=H(a);if(r(DF()))yd(Tb,"#");else{var c=uF,d=vF;uF+=1;vF=0;try{lF("(",")"),J(a)&&zf(ef(a))?(function(){var e=dH("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new se(n,0,null)}return h.call(this,m)}function h(k){k=IF(k);return KF(e,k)}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()}()(b),AH(ef(a)),function(){var e=dH(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new se(n,0,null)}return h.call(this,m)}function h(k){k=IF(k);return KF(e,k)}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()}()(J(ve(a)))):zH(a),mF()}finally{vF=d,uF=c}}return null}
var CH=function(){var a=dH("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=IF(d);return KF(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}(),DH=W;
function zH(a){if(r(DF()))yd(Tb,"#");else{var b=uF,c=vF;uF+=1;vF=0;try{lF("(",")");FF(Jz,1);for(var d=0,e=G(a);;){if(kc(Xb)||d<Xb){if(e&&(xF(H(e)),J(e))){yd(Tb," ");EF(xA);a=d+1;var f=J(e);d=a;e=f;continue}}else yd(Tb,"...");break}mF()}finally{vF=c,uF=b}}return null}
var EH=function(a){return gi.B(W,ci(Tf,M([function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Cg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,2,5,Z,[n,new X(null,2,5,Z,[oe.C(vg(H(n))),ef(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Eg(Gg(k),d(Qd(e))):Eg(Gg(k),null)}k=H(e);return Ze(new X(null,2,5,Z,[k,new X(null,2,5,Z,[oe.C(vg(H(k))),ef(k)],null)],null),d(ve(e)))}return null}},null,null)}(a)}()])))}(function(a){return gi.B(W,
Rh.B(function(b){var c=N(b,0,null),d=N(b,1,null);var e=sg(c);e=r(e)?e:S(new xk(null,new q(null,24,[cp,"null",pq,"null",qv,"null",nr,"null",Gm,"null",ww,"null",YA,"null",Zq,"null",ix,"null",zr,"null",yA,"null",as,"null",Yu,"null",$n,"null",Yz,"null",Gv,"null",tx,"null",my,"null",wC,"null",YB,"null",Fr,"null",Fq,"null",OA,"null",Ep,"null"],null),null),c);return kc(e)?new X(null,2,5,Z,[oe.B("clojure.core",vg(c)),d],null):b},a))}(Uj([wC,Gv,go,zr,JD,Tp,bv,gA,xt,hA,ts,jw,iu,Ep,Yx,ew,KA,qz,nC,as,rw,fC,sr,
Lr,Rt,Rw,Sz,HD,gt,tq],[vH,function(a){var b=ef(a),c=H(ve(ve(a)));if(zf(b)){a=DH;DH=E.B(1,K(b))?nf([H(b),"%"]):gi.B(W,Rh.D(function(d,e){return new X(null,2,5,Z,[d,["%",t.C(e)].join("")],null)},b,Nk.B(1,K(b)+1)));try{return function(){var d=dH("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new se(m,0,null)}return f.call(this,k)}function f(h){h=IF(h);return KF(d,h)}e.aa=
0;e.fa=function(h){h=G(h);return f(h)};e.I=f;return e}()}()(c)}finally{DH=a}}else return zH(a)},BH,CH,function(a){if(3<K(a)){if(r(DF()))yd(Tb,"#");else{var b=uF,c=vF;uF+=1;vF=0;try{lF("(",")");FF(Jz,1);Ug(function(){var k=dH("~w ~@_~w ~@_~w ~_");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new se(v,0,null)}return n.call(this,u)}function n(p){p=IF(p);return KF(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};
m.I=n;return m}()}(),a);for(var d=0,e=G(Th(3,a));;){if(kc(Xb)||d<Xb){if(e){if(r(DF()))yd(Tb,"#");else{a=uF;var f=vF;uF+=1;vF=0;try{lF(null,null),xF(H(e)),J(e)&&(yd(Tb," "),EF(OC),xF(ef(e))),mF()}finally{vF=f,uF=a}}if(J(ve(e))){yd(Tb," ");EF(xA);a=d+1;var h=J(ve(e));d=a;e=h;continue}}}else yd(Tb,"...");break}mF()}finally{vF=c,uF=b}}return null}return zH(a)},vH,yH,yH,BH,vH,BH,CH,CH,vH,CH,BH,BH,vH,BH,function(a){if(J(a)){var b=G(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new X(null,
2,5,Z,[H(c),J(c)],null):new X(null,2,5,Z,[null,c],null);c=N(d,0,null);d=N(d,1,null);d=xf(H(d))?new X(null,2,5,Z,[H(d),J(d)],null):new X(null,2,5,Z,[null,d],null);var e=N(d,0,null),f=N(d,1,null);if(r(DF()))yd(Tb,"#");else{d=uF;var h=vF;uF+=1;vF=0;try{lF("(",")");(function(){var m=dH("~w ~1I~@_~w");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-0);v<z.length;)z[v]=arguments[v+0],++v;v=new se(z,0,null)}return p.call(this,v)}function p(u){u=IF(u);
return KF(m,u)}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()})()(a,b);r(r(c)?c:r(e)?e:G(f))&&function(){var m=dH("~@:_");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-0);v<z.length;)z[v]=arguments[v+0],++v;v=new se(z,0,null)}return p.call(this,v)}function p(u){u=IF(u);return KF(m,u)}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()}()();r(c)&&GF(!0,'"~a"~:[~;~:@_~]',M([c,r(e)?e:G(f)]));r(e)&&function(){var m=dH("~w~:[~;~:@_~]");
return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-0);v<z.length;)z[v]=arguments[v+0],++v;v=new se(z,0,null)}return p.call(this,v)}function p(u){u=IF(u);return KF(m,u)}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()}()(e,G(f));for(a=f;;){uH(H(a));var k=J(a);if(k)b=k,EF(xA),a=b;else break}mF()}finally{vF=h,uF=d}}return null}return xF(a)},BH,function(a){if(r(DF()))yd(Tb,"#");else{var b=uF,c=vF;uF+=1;vF=0;try{lF("(",")");FF(Jz,1);xF(H(a));
if(J(a)){yd(Tb," ");EF(xA);for(var d=0,e=J(a);;){if(kc(Xb)||d<Xb){if(e){if(r(DF()))yd(Tb,"#");else{a=uF;var f=vF;uF+=1;vF=0;try{lF(null,null),xF(H(e)),J(e)&&(yd(Tb," "),EF(OC),xF(ef(e))),mF()}finally{vF=f,uF=a}}if(J(ve(e))){yd(Tb," ");EF(xA);a=d+1;var h=J(ve(e));d=a;e=h;continue}}}else yd(Tb,"...");break}}mF()}finally{vF=c,uF=b}}return null},BH,yH,yH,vH,vH,BH,BH,vH]))),FH,oL=Fh(W),pL=Fh(W),qL=Fh(W),rL=Fh(W),$S=B.D(W,Gr,Zl.P?Zl.P():Zl.call(null));
FH=new km(oe.B("cljs.pprint","code-dispatch"),mH,$S,oL,pL,qL,rL);im(FH,pD,function(a){if(kc(fH(a))){var b=EH.call(null,H(a));return r(b)?b.C?b.C(a):b.call(null,a):zH(a)}return null});im(FH,Pr,function(a){var b=a.C?a.C(DH):a.call(null,DH);return r(b)?AE.I(M([b])):r(rF)?AE.I(M([vg(a)])):BE.call(null,a)});im(FH,fs,gH);im(FH,Os,hH);im(FH,Xw,jH);im(FH,JC,lH);
im(FH,Ru,function(a){var b=t,c=b.C,d=oc(a).name;var e=Vk(/^[^$]+\$[^$]+/,d);e=r(e)?kH.C?kH.C(e):kH.call(null,e):null;b=["#\x3c",c.call(b,r(e)?e:d),"@",t.C(ka(a)),": "].join("");if(r(DF()))yd(Tb,"#");else{c=uF;d=vF;uF+=1;vF=0;try{lF(b,"\x3e");FF(Jz,-(b.length-2));EF(xA);var f=null!=a?a.T&1||l===a.im?!0:a.T?!1:nc(Dd,a):nc(Dd,a);var h=f?!Ed(a):f;xF(h?iw:y(a));mF()}finally{vF=d,uF=c}}return null});im(FH,null,BE);im(FH,lm,iH);oF=nH;var LH="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return Va(a)},MH="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===ha(a)};function NH(){return Math.round(15*Math.random()).toString(16)};function OH(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1}function PH(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a}function QH(){this.cacheSize=this.xe=this.idx=0;this.cache={}}
QH.prototype.write=function(a,b){return OH(a,b)?(4096===this.cacheSize?(this.clear(),this.xe=0,this.cache={}):1936===this.idx&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[PH(this.idx),this.xe],this.idx++,a):b[1]!=this.xe?(b[1]=this.xe,b[0]=PH(this.idx),this.idx++,a):b[0]):a};QH.prototype.clear=function(){this.idx=0;this.xe++};function RH(){this.idx=0;this.cache=[]}RH.prototype.write=function(a){1936==this.idx&&(this.idx=0);this.cache[this.idx]=a;this.idx++;return a};
RH.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};RH.prototype.clear=function(){this.idx=0};var SH=1;function TH(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(MH(a)){if(MH(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!TH(a[c],b[c]))return!1;return!0}return!1}if(a.od)return a.od(b);if(null!=b&&"object"===typeof b){if(b.od)return b.od(a);c=0;var d=LH(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!TH(a[e],b[e])))return!1;return c===d}}return!1}function UH(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var VH={},WH=0;
function XH(a){var b=0;if(null!=a.forEach)a.forEach(function(h,k){b=(b+(YH(k)^YH(h)))%4503599627370496});else for(var c=LH(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(YH(e)^YH(f)))%4503599627370496}return b}function ZH(a){var b=0;if(MH(a))for(var c=0;c<a.length;c++)b=UH(b,YH(a[c]));else a.forEach&&a.forEach(function(d){b=UH(b,YH(d))});return b}
function YH(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=VH[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;WH++;256<=WH&&(VH={},WH=1);a=VH[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=SH,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,SH++),b;default:return a instanceof Date?a.valueOf():
MH(a)?ZH(a):a.Cd?a.Cd():XH(a)}};var $H="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function aI(a,b){this.tag=a;this.rep=b;this.eb=-1}aI.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"};aI.prototype.equiv=function(a){return TH(this,a)};aI.prototype.equiv=aI.prototype.equiv;aI.prototype.od=function(a){return a instanceof aI?this.tag===a.tag&&TH(this.rep,a.rep):!1};aI.prototype.Cd=function(){-1===this.eb&&(this.eb=UH(YH(this.tag),YH(this.rep)));return this.eb};
function bI(a,b){return new aI(a,b)}var cI=Ia("9007199254740991"),dI=Ia("-9007199254740991");za.prototype.equiv=function(a){return TH(this,a)};za.prototype.equiv=za.prototype.equiv;za.prototype.od=function(a){return a instanceof za&&this.equals(a)};za.prototype.Cd=function(){return this.fb};function eI(a){this._name=a;this.eb=-1}eI.prototype.toString=function(){return":"+this._name};eI.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};
eI.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};eI.prototype.equiv=function(a){return TH(this,a)};eI.prototype.equiv=eI.prototype.equiv;eI.prototype.od=function(a){return a instanceof eI&&this._name==a._name};eI.prototype.Cd=function(){-1===this.eb&&(this.eb=YH(this._name));return this.eb};function fI(a){this._name=a;this.eb=-1}
fI.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};fI.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};fI.prototype.toString=function(){return this._name};fI.prototype.equiv=function(a){return TH(this,a)};fI.prototype.equiv=fI.prototype.equiv;fI.prototype.od=function(a){return a instanceof fI&&this._name==a._name};
fI.prototype.Cd=function(){-1===this.eb&&(this.eb=YH(this._name));return this.eb};function gI(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=(new za(255,0)).shiftLeft(e);b<c;b++,e-=8,f=La(f,8)){var h=La(a.and(f),e).toString(16);1==h.length&&(h="0"+h);d+=h}return d}function hI(a,b){this.high=a;this.low=b;this.eb=-1}hI.prototype.toString=function(){var a=this.high,b=this.low;var c=gI(a,0,4)+"-";c+=gI(a,4,6)+"-";c+=gI(a,6,8)+"-";c+=gI(b,0,2)+"-";return c+=gI(b,2,8)};
hI.prototype.equiv=function(a){return TH(this,a)};hI.prototype.equiv=hI.prototype.equiv;hI.prototype.od=function(a){return a instanceof hI&&this.high.equals(a.high)&&this.low.equals(a.low)};hI.prototype.Cd=function(){-1===this.eb&&(this.eb=YH(this.toString()));return this.eb};Date.prototype.od=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.Cd=function(){return this.valueOf()};function iI(a,b){this.entries=a;this.type=b||0;this.idx=0}
iI.prototype.next=function(){if(this.idx<this.entries.length){var a={value:0===this.type?this.entries[this.idx]:1===this.type?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};this.idx+=2;return a}return{value:null,done:!0}};iI.prototype.next=iI.prototype.next;iI.prototype[$H]=function(){return this};function jI(a,b){this.map=a;this.type=b||0;this.keys=this.map.getKeys();this.idx=0;this.Ce=null;this.pe=0}
jI.prototype.next=function(){if(this.idx<this.map.size){null!=this.Ce&&this.pe<this.Ce.length||(this.Ce=this.map.map[this.keys[this.idx]],this.pe=0);var a={value:0===this.type?this.Ce[this.pe]:1===this.type?this.Ce[this.pe+1]:[this.Ce[this.pe],this.Ce[this.pe+1]],done:!1};this.idx++;this.pe+=2;return a}return{value:null,done:!0}};jI.prototype.next=jI.prototype.next;jI.prototype[$H]=function(){return this};
function kI(a,b){if(a instanceof lI&&(b instanceof mI||b instanceof lI)){if(a.size!==b.size)return!1;for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!TH(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof mI&&(b instanceof mI||b instanceof lI)){if(a.size!==b.size)return!1;a=a.ib;for(e=0;e<a.length;e+=2)if(!TH(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=LH(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!TH(b[f],a.get(f)))return!1}return!0}return!1}
function nI(a){return null==a?"null":"array"===ha(a)?"["+a.toString()+"]":"string"===ha(a)?'"'+a+'"':a.toString()}function oI(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=nI(e)+" \x3d\x3e "+nI(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function pI(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=nI(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function mI(a){this.ib=a;this.$a=null;this.eb=-1;this.size=a.length/2;this.ki=0}mI.prototype.toString=function(){return oI(this)};
mI.prototype.inspect=function(){return this.toString()};function qI(a){if(a.$a)throw Error("Invalid operation, already converted");if(8>a.size)return!1;a.ki++;return 32<a.ki?(a.$a=rI(a.ib,!1,!0),a.ib=[],!0):!1}mI.prototype.clear=function(){this.eb=-1;this.$a?this.$a.clear():this.ib=[];this.size=0};mI.prototype.clear=mI.prototype.clear;mI.prototype.keys=function(){return this.$a?this.$a.keys():new iI(this.ib,0)};mI.prototype.keys=mI.prototype.keys;
mI.prototype.Je=function(){if(this.$a)return this.$a.Je();for(var a=[],b=0,c=0;c<this.ib.length;b++,c+=2)a[b]=this.ib[c];return a};mI.prototype.keySet=mI.prototype.Je;mI.prototype.entries=function(){return this.$a?this.$a.entries():new iI(this.ib,2)};mI.prototype.entries=mI.prototype.entries;mI.prototype.values=function(){return this.$a?this.$a.values():new iI(this.ib,1)};mI.prototype.values=mI.prototype.values;
mI.prototype.forEach=function(a){if(this.$a)this.$a.forEach(a);else for(var b=0;b<this.ib.length;b+=2)a(this.ib[b+1],this.ib[b])};mI.prototype.forEach=mI.prototype.forEach;mI.prototype.get=function(a,b){if(this.$a)return this.$a.get(a);if(qI(this))return this.get(a);for(var c=0;c<this.ib.length;c+=2)if(TH(this.ib[c],a))return this.ib[c+1];return b};mI.prototype.get=mI.prototype.get;
mI.prototype.has=function(a){if(this.$a)return this.$a.has(a);if(qI(this))return this.has(a);for(var b=0;b<this.ib.length;b+=2)if(TH(this.ib[b],a))return!0;return!1};mI.prototype.has=mI.prototype.has;mI.prototype.set=function(a,b){this.eb=-1;if(this.$a)this.$a.set(a,b),this.size=this.$a.size;else{for(var c=0;c<this.ib.length;c+=2)if(TH(this.ib[c],a)){this.ib[c+1]=b;return}this.ib.push(a);this.ib.push(b);this.size++;32<this.size&&(this.$a=rI(this.ib,!1,!0),this.ib=null)}};mI.prototype.set=mI.prototype.set;
mI.prototype["delete"]=function(a){this.eb=-1;if(this.$a)return a=this.$a.delete(a),this.size=this.$a.size,a;for(var b=0;b<this.ib.length;b+=2)if(TH(this.ib[b],a))return a=this.ib[b+1],this.ib.splice(b,2),this.size--,a};mI.prototype.clone=function(){var a=rI();this.forEach(function(b,c){a.set(c,b)});return a};mI.prototype.clone=mI.prototype.clone;mI.prototype[$H]=function(){return this.entries()};mI.prototype.Cd=function(){if(this.$a)return this.$a.Cd();-1===this.eb&&(this.eb=XH(this));return this.eb};
mI.prototype.od=function(a){return this.$a?kI(this.$a,a):kI(this,a)};function lI(a,b,c){this.map=b||{};this._keys=a||[];this.size=c||0;this.eb=-1}lI.prototype.toString=function(){return oI(this)};lI.prototype.inspect=function(){return this.toString()};lI.prototype.clear=function(){this.eb=-1;this.map={};this._keys=[];this.size=0};lI.prototype.clear=lI.prototype.clear;lI.prototype.getKeys=function(){return null!=this._keys?this._keys:LH(this.map)};
lI.prototype["delete"]=function(a){this.eb=-1;this._keys=null;for(var b=YH(a),c=this.map[b],d=0;d<c.length;d+=2)if(TH(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};lI.prototype.entries=function(){return new jI(this,2)};lI.prototype.entries=lI.prototype.entries;lI.prototype.forEach=function(a){for(var b=this.getKeys(),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};lI.prototype.forEach=lI.prototype.forEach;
lI.prototype.get=function(a,b){var c=YH(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(TH(a,c[b]))return c[b+1]}else return b};lI.prototype.get=lI.prototype.get;lI.prototype.has=function(a){var b=YH(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(TH(a,b[c]))return!0;return!1};lI.prototype.has=lI.prototype.has;lI.prototype.keys=function(){return new jI(this,0)};lI.prototype.keys=lI.prototype.keys;
lI.prototype.Je=function(){for(var a=this.getKeys(),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};lI.prototype.keySet=lI.prototype.Je;lI.prototype.set=function(a,b){this.eb=-1;var c=YH(a),d=this.map[c];if(null==d)this._keys&&this._keys.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(TH(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};lI.prototype.set=lI.prototype.set;
lI.prototype.values=function(){return new jI(this,1)};lI.prototype.values=lI.prototype.values;lI.prototype.clone=function(){var a=rI();this.forEach(function(b,c){a.set(c,b)});return a};lI.prototype.clone=lI.prototype.clone;lI.prototype[$H]=function(){return this.entries()};lI.prototype.Cd=function(){-1===this.eb&&(this.eb=XH(this));return this.eb};lI.prototype.od=function(a){return kI(this,a)};
function rI(a,b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(TH(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new mI(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=YH(a[b]);var h=d[c];if(null==h)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<h.length;c+=2)if(TH(h[c],a[b])){h[c+1]=a[b+1];k=!1;break}k&&(h.push(a[b]),h.push(a[b+1]),f++)}}return new lI(e,d,f)}
function sI(a){this.map=a;this.size=a.size}sI.prototype.toString=function(){return pI(this)};sI.prototype.inspect=function(){return this.toString()};sI.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};sI.prototype.add=sI.prototype.add;sI.prototype.clear=function(){this.map=new lI;this.size=0};sI.prototype.clear=sI.prototype.clear;sI.prototype["delete"]=function(a){a=this.map.delete(a);this.size=this.map.size;return a};sI.prototype.entries=function(){return this.map.entries()};
sI.prototype.entries=sI.prototype.entries;sI.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};sI.prototype.forEach=sI.prototype.forEach;sI.prototype.has=function(a){return this.map.has(a)};sI.prototype.has=sI.prototype.has;sI.prototype.keys=function(){return this.map.keys()};sI.prototype.keys=sI.prototype.keys;sI.prototype.Je=function(){return this.map.Je()};sI.prototype.keySet=sI.prototype.Je;sI.prototype.values=function(){return this.map.values()};
sI.prototype.values=sI.prototype.values;sI.prototype.clone=function(){var a=tI();this.forEach(function(b){a.add(b)});return a};sI.prototype.clone=sI.prototype.clone;sI.prototype[$H]=function(){return this.values()};sI.prototype.od=function(a){if(a instanceof sI){if(this.size===a.size)return TH(this.map,a.map)}else return!1};sI.prototype.Cd=function(){return YH(this.map)};
function tI(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=YH(a[e]),h=b[f];if(null==h)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<h.length;k+=2)if(TH(h[k],a[e])){f=!1;break}f&&(h.push(a[e]),h.push(a[e]),d++)}}return new sI(new lI(c,b,d))};function uI(a){this.zc=a}
function vI(a){this.options=a||{};this.Nb={};for(var b in this.defaults.Nb)this.Nb[b]=this.defaults.Nb[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.Nb[b]=this.options.handlers[b]}this.Ig=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.Ig;this.Nh=null!=this.options.preferBuffers?this.options.preferBuffers:
this.defaults.Nh;this.sh=this.options.defaultHandler||this.defaults.sh;this.ud=this.options.mapBuilder;this.Se=this.options.arrayBuilder}
vI.prototype.defaults={Nb:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.Nh||"undefined"==typeof ca.Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=bI("b",a);else c=new ca.Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof za||(a=Ia(a,10),a=0<a.compare(cI)||0>a.compare(dI)?a:a.toNumber());return a},n:function(a){return bI("n",a)},d:function(a){return parseFloat(a)},f:function(a){return bI("f",a)},c:function(a){return a},":":function(a){return new eI(a)},$:function(a){return new fI(a)},r:function(a){return bI("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=ya(e,b);b=0;d=16;for(c=24;24>d;d+=2,
c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new hI(f,ya(e,b))},set:function(a){return tI(a)},list:function(a){return bI("list",a)},link:function(a){return bI("link",a)},cmap:function(a){return rI(a,!1)}},sh:function(a,b){return bI(a,b)},Ig:!0,Nh:!0};
vI.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return OH(a,c)?(a=wI(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):wI(this,a),b;case "object":if(MH(a))if("^ "===a[0])if(this.ud)if(17>a.length&&this.ud.fromArray){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.ud.fromArray(d,a)}else{d=this.ud.init(a);for(c=1;c<a.length;c+=2)d=this.ud.add(d,this.decode(a[c],b,!0,!1),
this.decode(a[c+1],b,!1,!1),a);b=this.ud.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=rI(d,!1)}else b=xI(this,a,b,c,d);else{c=LH(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof uI)a=a[e],c=this.Nb[d.zc],b=null!=c?c(this.decode(a,b,!1,!0),this):bI(d.zc,this.decode(a,b,!1,!1));else if(this.ud)if(16>c.length&&this.ud.fromArray){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],
b,!1,!1));b=this.ud.fromArray(f,a)}else{f=this.ud.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.ud.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.ud.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=rI(f,!1)}}return b}return a};vI.prototype.decode=vI.prototype.decode;
function xI(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}f=c&&c.idx;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof uI)return b=b[1],f=a.Nb[e.zc],null!=f?f=f(a.decode(b,c,d,!0),a):bI(e.zc,a.decode(b,c,d,!1));c&&f!=c.idx&&(c.idx=f);if(a.Se){if(32>=b.length&&a.Se.fromArray){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.Se.fromArray(f,b)}f=a.Se.init(b);for(e=0;e<b.length;e++)f=a.Se.add(f,a.decode(b[e],c,
d,!1),b);return a.Se.finalize(f,b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}function wI(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new uI(b.substring(2));var d=a.Nb[c];return null==d?a.sh(c,b.substring(2)):d(b.substring(2),a)}return b};function yI(a){this.decoder=new vI(a)}function zI(a,b){this.Ml=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new RH}zI.prototype.read=function(a){var b=this.cache;a=this.Ml.decoder.decode(JSON.parse(a),b);this.cache.clear();return a};zI.prototype.read=zI.prototype.read;var AI=0,EX=(8|3&Math.round(14*Math.random())).toString(16),CI="transit$guid$"+(NH()+NH()+NH()+NH()+NH()+NH()+NH()+NH()+"-"+NH()+NH()+NH()+NH()+"-4"+NH()+NH()+NH()+"-"+EX+NH()+NH()+NH()+"-"+NH()+NH()+NH()+NH()+NH()+NH()+NH()+NH()+NH()+NH()+NH()+NH());
function DI(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";if(a===Array)return"array";if(a===Object)return"map";var b=a[CI];null==b&&("undefined"!=typeof Object.defineProperty?(b=++AI,Object.defineProperty(a,CI,{value:b,enumerable:!1})):a[CI]=b=++AI);return b}function EI(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a}function FI(){}FI.prototype.tag=function(){return"_"};FI.prototype.rep=function(){return null};
FI.prototype.stringRep=function(){return"null"};function GI(){}GI.prototype.tag=function(){return"s"};GI.prototype.rep=function(a){return a};GI.prototype.stringRep=function(a){return a};function HI(){}HI.prototype.tag=function(){return"i"};HI.prototype.rep=function(a){return a};HI.prototype.stringRep=function(a){return a.toString()};function II(){}II.prototype.tag=function(){return"i"};II.prototype.rep=function(a){return a.toString()};II.prototype.stringRep=function(a){return a.toString()};
function JI(){}JI.prototype.tag=function(){return"?"};JI.prototype.rep=function(a){return a};JI.prototype.stringRep=function(a){return a.toString()};function KI(){}KI.prototype.tag=function(){return"array"};KI.prototype.rep=function(a){return a};KI.prototype.stringRep=function(){return null};function LI(){}LI.prototype.tag=function(){return"map"};LI.prototype.rep=function(a){return a};LI.prototype.stringRep=function(){return null};function MI(){}MI.prototype.tag=function(){return"t"};
MI.prototype.rep=function(a){return a.getUTCFullYear()+"-"+EI(a.getUTCMonth()+1,2)+"-"+EI(a.getUTCDate(),2)+"T"+EI(a.getUTCHours(),2)+":"+EI(a.getUTCMinutes(),2)+":"+EI(a.getUTCSeconds(),2)+"."+EI(a.getUTCMilliseconds(),3)+"Z"};MI.prototype.stringRep=function(a,b){return b.rep(a)};function NI(){}NI.prototype.tag=function(){return"m"};NI.prototype.rep=function(a){return a.valueOf()};NI.prototype.stringRep=function(a){return a.valueOf().toString()};NI.prototype.getVerboseHandler=function(){return new MI};
function OI(){}OI.prototype.tag=function(){return"u"};OI.prototype.rep=function(a){return a.toString()};OI.prototype.stringRep=function(a){return a.toString()};function PI(){}PI.prototype.tag=function(){return":"};PI.prototype.rep=function(a){return a._name};PI.prototype.stringRep=function(a,b){return b.rep(a)};function QI(){}QI.prototype.tag=function(){return"$"};QI.prototype.rep=function(a){return a._name};QI.prototype.stringRep=function(a,b){return b.rep(a)};function RI(){}RI.prototype.tag=function(a){return a.tag};
RI.prototype.rep=function(a){return a.rep};RI.prototype.stringRep=function(){return null};function SI(){}SI.prototype.tag=function(){return"set"};SI.prototype.rep=function(a){var b=[];a.forEach(function(c){b.push(c)});return bI("array",b)};SI.prototype.stringRep=function(){return null};function TI(){}TI.prototype.tag=function(){return"map"};TI.prototype.rep=function(a){return a};TI.prototype.stringRep=function(){return null};function UI(){}UI.prototype.tag=function(){return"map"};
UI.prototype.rep=function(a){return a};UI.prototype.stringRep=function(){return null};function VI(){}VI.prototype.tag=function(){return"b"};VI.prototype.rep=function(a){return a.toString("base64")};VI.prototype.stringRep=function(){return null};function WI(){}WI.prototype.tag=function(){return"b"};
WI.prototype.rep=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
WI.prototype.stringRep=function(){return null};
function XI(){this.Nb={};this.set(null,new FI);this.set(String,new GI);this.set(Number,new HI);this.set(za,new II);this.set(Boolean,new JI);this.set(Array,new KI);this.set(Object,new LI);this.set(Date,new NI);this.set(hI,new OI);this.set(eI,new PI);this.set(fI,new QI);this.set(aI,new RI);this.set(sI,new SI);this.set(mI,new TI);this.set(lI,new UI);"undefined"!=typeof ca.Buffer&&this.set(ca.Buffer,new VI);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new WI)}
XI.prototype.get=function(a){a="string"===typeof a?this.Nb[a]:this.Nb[DI(a)];return null!=a?a:this.Nb["default"]};XI.prototype.get=XI.prototype.get;XI.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.Nb[a]=b:this.Nb[DI(a)]=b};function YI(a){this.yb=a||{};this.Ig=null!=this.yb.preferStrings?this.yb.preferStrings:!0;this.Zi=this.yb.objectBuilder||null;this.transform=this.yb.transform||null;this.Nb=new XI;if(a=this.yb.handlers){if(MH(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(c,d){if(void 0!==d)b.Nb.set(d,c);else throw Error("Cannot create handler for JavaScript undefined");})}this.Gf=this.yb.handlerForForeign;this.Qg=this.yb.unpack||function(c){return c instanceof
mI&&null===c.$a?c.ib:!1};this.Wf=this.yb&&this.yb.verbose||!1}YI.prototype.handler=function(a){var b=this.Nb.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.Nb.get(a):null};function ZI(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a}function $I(a,b,c){var d=[];if(MH(b))for(var e=0;e<b.length;e++)d.push(aJ(a,b[e],!1,c));else b.forEach(function(f){d.push(aJ(a,f,!1,c))});return d}function bJ(a,b){return"string"!==typeof b?(a=a.handler(b))&&1===a.tag(b).length:!0}
function cJ(a,b){var c=a.Qg(b),d=!0;if(c){for(b=0;b<c.length&&(d=bJ(a,c[b]),d);b+=2);return d}if(b.keys){c=b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=bJ(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(f,h){d=d&&bJ(a,h)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);}
function dJ(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));b="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:b,enumerable:!1}):a.constructor.transit$isObject=b;return b}
function eJ(a,b,c){var d=null,e=null,f=null;d=null;var h=0;if(b.constructor===Object||null!=b.forEach||a.Gf&&dJ(b)){if(a.Wf){if(null!=b.forEach)if(cJ(a,b)){var k={};b.forEach(function(m,n){k[aJ(a,n,!0,!1)]=aJ(a,m,!1,c)})}else{d=a.Qg(b);e=[];f=ZI("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(aJ(a,d[h],!1,!1)),e.push(aJ(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(aJ(a,n,!1,!1));e.push(aJ(a,m,!1,c))});k={};k[f]=e}else for(d=LH(b),k={};h<d.length;h++)k[aJ(a,d[h],!0,!1)]=aJ(a,b[d[h]],!1,
c);return k}if(null!=b.forEach){if(cJ(a,b)){d=a.Qg(b);k=["^ "];if(d)for(;h<d.length;h+=2)k.push(aJ(a,d[h],!0,c)),k.push(aJ(a,d[h+1],!1,c));else b.forEach(function(m,n){k.push(aJ(a,n,!0,c));k.push(aJ(a,m,!1,c))});return k}d=a.Qg(b);e=[];f=ZI("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(aJ(a,d[h],!1,c)),e.push(aJ(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(aJ(a,n,!1,c));e.push(aJ(a,m,!1,c))});return[f,e]}k=["^ "];for(d=LH(b);h<d.length;h++)k.push(aJ(a,d[h],!0,c)),k.push(aJ(a,b[d[h]],
!1,c));return k}if(null!=a.Zi)return a.Zi(b,function(m){return aJ(a,m,!0,c)},function(m){return aJ(a,m,!1,c)});h=(null==b?null:b.constructor).name;d=Error("Cannot write "+h);d.data={obj:b,type:h};throw d;}
function aJ(a,b,c,d){null!==a.transform&&(b=a.transform(b));var e=a.handler(b)||(a.Gf?a.Gf(b,a.Nb):null),f=e?e.tag(b):null,h=e?e.rep(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?ZI("~","_","",c,d):null;case "s":return 0<h.length?(a=h.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+h:h):a=h,ZI("","",a,c,d);case "?":return c?ZI("~","?",h.toString()[0],c,d):h;case "i":return Infinity===h?ZI("~","z","INF",c,d):-Infinity===h?ZI("~","z","-INF",c,d):isNaN(h)?ZI("~","z","NaN",c,d):c||"string"===typeof h||
h instanceof za?ZI("~","i",h.toString(),c,d):h;case "d":return c?ZI(h.Ul,"d",h,c,d):h;case "b":return ZI("~","b",h,c,d);case "'":return a.Wf?(c={},b=ZI("~#","'","",!0,d),c[b]=aJ(a,h,!1,d),d=c):d=[ZI("~#","'","",!0,d),aJ(a,h,!1,d)],d;case "array":return $I(a,h,d);case "map":return eJ(a,h,d);default:a:{if(1===f.length){if("string"===typeof h){d=ZI("~",f,h,c,d);break a}if(c||a.Ig){(a=a.Wf&&e.getVerboseHandler())?(f=a.tag(b),h=a.stringRep(b,a)):h=e.stringRep(b,e);if(null!==h){d=ZI("~",f,h,c,d);break a}d=
Error('Tag "'+f+'" cannot be encoded as string');d.data={tag:f,rep:h,obj:b};throw d;}}c=f;b=h;a.Wf?(e={},e[ZI("~#",c,"",!0,d)]=aJ(a,b,!1,d),d=e):d=[ZI("~#",c,"",!0,d),aJ(a,b,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,a=Error("Cannot write "+d),a.data={obj:b,type:d},a;}function fJ(a,b){this.jf=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new QH}fJ.prototype.Gk=function(){return this.jf};fJ.prototype.marshaller=fJ.prototype.Gk;
fJ.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.jf.Wf?!1:this.cache;if(!1===c.marshalTop)a=aJ(this.jf,a,b,d);else{c=this.jf;var e=JSON,f=e.stringify,h=aJ;var k=c.handler(a)||(c.Gf?c.Gf(a,c.Nb):null);if(null!=k)a=1===k.tag(a).length?bI("'",a):a;else throw b=(null==a?null:a.constructor).name,d=Error("Cannot write "+b),d.data={obj:a,type:b},d;a=f.call(e,h(c,a,b,d))}null!=this.cache&&this.cache.clear();return a};fJ.prototype.write=fJ.prototype.write;
fJ.prototype.register=function(a,b){this.jf.Nb.set(a,b)};fJ.prototype.register=fJ.prototype.register;function gJ(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new yI(b),new zI(a,b);throw Error("Cannot create reader of type "+a);}function hJ(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new YI(b),new fJ(a,b);b=Error('Type must be "json"');b.data={type:a};throw b;};nm.prototype.da=function(a,b){return b instanceof nm?this.Md===b.Md:b instanceof hI?this.Md===b.toString():!1};nm.prototype.zd=l;nm.prototype.nd=function(a,b){if(b instanceof nm||b instanceof hI)return Kf(this.toString(),b.toString());throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};hI.prototype.zd=l;hI.prototype.nd=function(a,b){if(b instanceof nm||b instanceof hI)return Kf(this.toString(),b.toString());throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};
za.prototype.da=function(a,b){return this.equiv(b)};hI.prototype.da=function(a,b){return b instanceof nm?b.da(null,this):this.equiv(b)};aI.prototype.da=function(a,b){return this.equiv(b)};za.prototype.fg=l;za.prototype.ja=function(){return YH(this)};hI.prototype.fg=l;hI.prototype.ja=function(){return ke(this.toString())};aI.prototype.fg=l;aI.prototype.ja=function(){return YH(this)};hI.prototype.Na=l;hI.prototype.ia=function(a,b){return yd(b,['#uuid "',t.C(this.toString()),'"'].join(""))};
function iJ(a){for(var b=Ll(R.B(null,Wm)),c=G(Va(b)),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);a[h]=b[h];f+=1}else if(c=G(c))d=c,Af(d)?(c=Pd(d),f=Qd(d),d=c,e=K(c),c=f):(c=H(d),a[c]=b[c],c=J(d),d=null,e=0),f=0;else break;return a}function jJ(){}jJ.prototype.init=function(){return Hd(W)};jJ.prototype.add=function(a,b,c){return Kd(a,b,c)};jJ.prototype.finalize=function(a){return Jd(a)};jJ.prototype.fromArray=function(a){return pj.D?pj.D(a,!0,!0):pj.call(null,a,!0,!0)};function kJ(){}
kJ.prototype.init=function(){return Hd(jf)};kJ.prototype.add=function(a,b){return Mg.B(a,b)};kJ.prototype.finalize=function(a){return Jd(a)};kJ.prototype.fromArray=function(a){return Ki.B?Ki.B(a,!0):Ki.call(null,a,!0)};function lJ(){}lJ.prototype.tag=function(){return":"};lJ.prototype.rep=function(a){return a.ba};lJ.prototype.stringRep=function(a){return a.ba};function mJ(){}mJ.prototype.tag=function(){return"$"};mJ.prototype.rep=function(a){return a.zc};mJ.prototype.stringRep=function(a){return a.zc};
function nJ(){}nJ.prototype.tag=function(){return"list"};nJ.prototype.rep=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Af(c)?(a=Pd(c),e=Qd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return bI("array",b)};nJ.prototype.stringRep=function(){return null};function oJ(){}oJ.prototype.tag=function(){return"map"};oJ.prototype.rep=function(a){return a};oJ.prototype.stringRep=function(){return null};
function pJ(){}pJ.prototype.tag=function(){return"set"};pJ.prototype.rep=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Af(c)?(a=Pd(c),e=Qd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return bI("array",b)};pJ.prototype.stringRep=function(){return null};function qJ(){}qJ.prototype.tag=function(){return"array"};
qJ.prototype.rep=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Af(c)?(a=Pd(c),e=Qd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b};qJ.prototype.stringRep=function(){return null};function rJ(){}rJ.prototype.tag=function(){return"u"};rJ.prototype.rep=function(a){return a.Md};rJ.prototype.stringRep=function(a){return this.rep(a)};function sJ(a,b){this.value=a;this.meta=b}function tJ(){}
tJ.prototype.tag=function(){return"with-meta"};tJ.prototype.rep=function(a){return bI("array",[a.value,a.meta])};tJ.prototype.stringRep=function(){return null};var vJ={},wJ,xJ,yJ,zJ={};function AJ(a,b){if(null!=a&&null!=a.kh)a=a.kh(a,b);else{var c=AJ[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=AJ._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ReadPort.take!",a);}return a}function BJ(a,b,c){if(null!=a&&null!=a.mg)a=a.mg(a,b,c);else{var d=BJ[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=BJ._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("WritePort.put!",a);}return a}
function CJ(a){if(null!=a&&null!=a.uf)a=a.uf(a);else{var b=CJ[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=CJ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Channel.close!",a);}return a}function DJ(a){if(null!=a&&null!=a.Jc)a=a.Jc(a);else{var b=DJ[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=DJ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Handler.active?",a);}return a}
function EJ(a){if(null!=a&&null!=a.vc)a=a.vc(a);else{var b=EJ[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=EJ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Handler.commit",a);}return a}function FJ(a,b){if(null!=a&&null!=a.jh)a=a.jh(a,b);else{var c=FJ[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=FJ._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Buffer.add!*",a);}return a}
var GJ=function GJ(a){switch(arguments.length){case 1:return GJ.C(arguments[0]);case 2:return GJ.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};GJ.C=function(a){return a};GJ.B=function(a,b){return FJ(a,b)};GJ.aa=2;function HJ(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function IJ(a){this.length=this.tail=this.head=0;this.K=a}g=IJ.prototype;g.pop=function(){if(0===this.length)return null;var a=this.K[this.tail];this.K[this.tail]=null;this.tail=(this.tail+1)%this.K.length;--this.length;return a};g.unshift=function(a){this.K[this.head]=a;this.head=(this.head+1)%this.K.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.K.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.K.length);return this.tail<this.head?(HJ(this.K,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.K=a):this.tail>this.head?(HJ(this.K,this.tail,a,0,this.K.length-this.tail),HJ(this.K,0,a,this.K.length-this.tail,this.head),this.tail=0,this.head=this.length,this.K=a):this.tail===this.head?(this.head=this.tail=0,this.K=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.C?a.C(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function JJ(a){return new IJ(Array(a))}function KJ(a,b){this.buf=a;this.n=b;this.O=2;this.T=0}KJ.prototype.lg=function(){return this.buf.length>=this.n};KJ.prototype.jh=function(a,b){this.buf.unbounded_unshift(b);return this};KJ.prototype.la=function(){return this.buf.length};function LJ(a,b){this.buf=a;this.n=b;this.O=2;this.T=0}LJ.prototype.lg=function(){return!1};
LJ.prototype.jh=function(a,b){this.buf.length===this.n&&this.buf.pop();this.buf.unshift(b);return this};LJ.prototype.la=function(){return this.buf.length};function MJ(a){return new LJ(JJ(a),a)};function NJ(){return lb("iPhone")&&!lb("iPod")&&!lb("iPad")};var OJ=lb("Opera"),PJ=lb("Trident")||lb("MSIE"),QJ=lb("Edge"),RJ=lb("Gecko")&&!(-1!=kb.toLowerCase().indexOf("webkit")&&!lb("Edge"))&&!(lb("Trident")||lb("MSIE"))&&!lb("Edge"),SJ=-1!=kb.toLowerCase().indexOf("webkit")&&!lb("Edge");SJ&&lb("Mobile");lb("Macintosh");lb("Windows");lb("Linux")||lb("CrOS");var OX=ca.navigator||null;OX&&(OX.appVersion||"").indexOf("X11");lb("Android");NJ();lb("iPad");lb("iPod");NJ()||lb("iPad")||lb("iPod");kb.toLowerCase().indexOf("kaios");var UJ;
a:{var PX="",ZX=function(){if(RJ)return/rv:([^\);]+)(\)|;)/.exec(kb);if(QJ)return/Edge\/([\d\.]+)/.exec(kb);if(PJ)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(kb);if(SJ)return/WebKit\/(\S+)/.exec(kb);if(OJ)return/(?:Version)[ \/]?(\S+)/.exec(kb)}();ZX&&(PX=ZX?ZX[1]:"");if(PJ){var $X,$_=ca.document;$X=$_?$_.documentMode:void 0;if(null!=$X&&$X>parseFloat(PX)){UJ=String($X);break a}}UJ=PX}var xa={};
function ZJ(){return wa(function(){let a=0;const b=Ra(String(UJ)).split("."),c=Ra("9").split("."),d=Math.max(b.length,c.length);for(let h=0;0==a&&h<d;h++){var e=b[h]||"",f=c[h]||"";do{e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""];f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""];if(0==e[0].length&&0==f[0].length)break;a=Sa(0==e[1].length?0:parseInt(e[1],10),0==f[1].length?0:parseInt(f[1],10))||Sa(0==e[2].length,0==f[2].length)||Sa(e[2],f[2]);e=e[3];f=f[3]}while(0==a)}return 0<=a})};try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};function $J(){var a=document;var b="IFRAME";"application/xhtml+xml"===a.contentType&&(b=b.toLowerCase());return a.createElement(b)};var aK;
function bK(){var a=ca.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!lb("Presto")&&(a=function(){var e=$J();e.style.display="none";document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=qa(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);f.addEventListener("message",e,
!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!lb("Trident")&&!lb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.mf;c.mf=null;e()}};return function(e){d.next={mf:e};d=d.next;b.port2.postMessage(0)}}return function(e){ca.setTimeout(e,0)}};var cK=JJ(32),dK=!1,eK=!1;function fK(){dK=!0;eK=!1;for(var a=0;;){var b=cK.pop();if(null!=b&&(b.P?b.P():b.call(null),1024>a)){a+=1;continue}break}dK=!1;return 0<cK.length?gK.P?gK.P():gK.call(null):null}function gK(){if(eK&&dK)return null;eK=!0;"function"!==typeof ca.setImmediate||ca.Window&&ca.Window.prototype&&!lb("Edge")&&ca.Window.prototype.setImmediate==ca.setImmediate?(aK||(aK=bK()),aK(fK)):ca.setImmediate(fK)}function hK(a){cK.unbounded_unshift(a);gK()}function iK(a,b){setTimeout(a,b)};var jK={},kK;
function lK(a){if("undefined"===typeof Qb||"undefined"===typeof Rb||"undefined"===typeof vJ||"undefined"===typeof zJ||"undefined"===typeof jK||"undefined"===typeof kK)kK=function(b,c){this.val=b;this.Lk=c;this.O=425984;this.T=0},kK.prototype.ha=function(b,c){return new kK(this.val,c)},kK.prototype.ga=function(){return this.Lk},kK.prototype.ic=function(){return this.val},kK.Wa=!0,kK.Sa="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels23206",kK.Za=function(b){return yd(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels23206")};return new kK(a,
W)}function mK(a,b){this.handler=a;this.val=b}function nK(a){return DJ(a.handler)}function oK(a,b,c,d,e,f,h){this.gf=a;this.vg=b;this.ke=c;this.ug=d;this.buf=e;this.closed=f;this.md=h}function pK(a){for(;;){var b=a.ke.pop();if(null!=b){var c=b.handler,d=b.val;if(c.Jc(null)){var e=c.vc(null);hK(function(f){return function(){return f.C?f.C(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.ke.cleanup(vh(!1));a.uf(null)}
oK.prototype.mg=function(a,b,c){var d=this,e=this,f=d.closed;if(c.Jc(null)){if(f)return c.vc(null),lK(!1);if(r(function(){var u=d.buf;return r(u)?kc(d.buf.lg()):u}())){c.vc(null);var h=Ie(d.md.B?d.md.B(d.buf,b):d.md.call(null,d.buf,b));c=function(){for(var u=jf;;)if(0<d.gf.length&&0<K(d.buf)){var v=d.gf.pop();if(v.Jc(null)){var z=v.vc(null),C=d.buf.buf.pop();u=hf.B(u,function(F,I,O){return function(){return I.C?I.C(O):I.call(null,O)}}(u,z,C,v,h,f,e))}}else return u}();h&&pK(e);if(G(c)){c=G(c);a=null;
for(var k=0,m=0;;)if(m<k){var n=a.Da(null,m);hK(n);m+=1}else if(c=G(c))a=c,Af(a)?(c=Pd(a),m=Qd(a),a=c,k=K(c),c=m):(c=H(a),hK(c),c=J(a),a=null,k=0),m=0;else break}return lK(!0)}a=function(){for(;;){var u=d.gf.pop();if(r(u)){if(r(u.Jc(null)))return u}else return null}}();if(r(a)){var p=a.vc(null);c.vc(null);hK(function(){return p.C?p.C(b):p.call(null,b)});return lK(!0)}64<d.ug?(d.ug=0,d.ke.cleanup(nK)):d.ug+=1;r(c.vf())&&d.ke.unbounded_unshift(new mK(c,b));return null}return lK(!f)};
oK.prototype.kh=function(a,b){var c=this;if(b.Jc(null)){if(null!=c.buf&&0<K(c.buf)){a=b.vc(null);if(r(a)){var d=c.buf.buf.pop(),e=kc(c.buf.lg())&&0<c.ke.length?function(){for(var F=jf;;){var I=c.ke.pop(),O=I.handler;I=I.val;var P=O.Jc(null);O=P?O.vc(null):P;F=r(O)?hf.B(F,O):F;I=r(O)?Ie(c.md.B?c.md.B(c.buf,I):c.md.call(null,c.buf,I)):null;if(!(kc(I)&&kc(c.buf.lg())&&0<c.ke.length))return new X(null,2,5,Z,[I,F],null)}}():null,f=N(e,0,null),h=N(e,1,null);r(f)&&pK(this);for(var k=G(h),m=null,n=0,p=0;;)if(p<
n){var u=m.Da(null,p);hK(function(F,I,O,P,T){return function(){return T.C?T.C(!0):T.call(null,!0)}}(k,m,n,p,u,d,e,f,h,a,a,this));p+=1}else{var v=G(k);if(v){u=v;if(Af(u))k=Pd(u),p=Qd(u),m=k,n=K(k),k=p;else{var z=H(u);hK(function(F,I,O,P,T){return function(){return T.C?T.C(!0):T.call(null,!0)}}(k,m,n,p,z,u,v,d,e,f,h,a,a,this));k=J(u);m=null;n=0}p=0}else break}return lK(d)}return null}a=function(){for(;;){var F=c.ke.pop();if(r(F)){if(DJ(F.handler))return F}else return null}}();if(r(a)){var C=EJ(a.handler);
b.vc(null);hK(function(){return C.C?C.C(!0):C.call(null,!0)});return lK(a.val)}if(r(c.closed))return r(c.buf)&&(c.md.C?c.md.C(c.buf):c.md.call(null,c.buf)),r(function(){var F=b.Jc(null);return r(F)?b.vc(null):F}())?(a=function(){var F=c.buf;return r(F)?0<K(c.buf):F}(),d=r(a)?c.buf.buf.pop():null,lK(d)):null;64<c.vg?(c.vg=0,c.gf.cleanup(DJ)):c.vg+=1;r(b.vf())&&c.gf.unbounded_unshift(b)}return null};
oK.prototype.uf=function(){var a=this;if(!a.closed)for(a.closed=!0,r(function(){var e=a.buf;return r(e)?0===a.ke.length:e}())&&(a.md.C?a.md.C(a.buf):a.md.call(null,a.buf));;){var b=a.gf.pop();if(null!=b){if(b.Jc(null)){var c=b.vc(null),d=r(function(){var e=a.buf;return r(e)?0<K(a.buf):e}())?a.buf.buf.pop():null;hK(function(e,f){return function(){return e.C?e.C(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function qK(a){console.log(a);return null}
function rK(a,b){var c=r(null)?null:qK;b=c.C?c.C(b):c.call(null,b);return null==b?a:GJ.B(a,b)}
function sK(a,b){return new oK(JJ(32),0,JJ(32),0,a,!1,function(){var c=r(b)?b.C?b.C(GJ):b.call(null,GJ):GJ;return function(){function d(h,k){try{return c.B?c.B(h,k):c.call(null,h,k)}catch(m){return rK(h,m)}}function e(h){try{return c.C?c.C(h):c.call(null,h)}catch(k){return rK(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.C=e;f.B=d;return f}()}())};function tK(a,b,c){this.key=a;this.val=b;this.forward=c;this.O=2155872256;this.T=0}tK.prototype.ka=function(){return new kf(null,this.key,new kf(null,this.val,null,1,null),2,null)};tK.prototype.ia=function(a,b,c){return Zk(b,gl,"["," ","]",c,this)};function uK(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new tK(a,b,c)}
function vK(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(r(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function wK(){this.header=uK(null,null,0);this.level=0;this.O=2155872256;this.T=0}g=wK.prototype;
g.put=function(a,b){var c=Array(15),d=vK(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=uK(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,b<a.forward.length?a.forward[b]=d[b]:a.forward.push(b<d.length?d[b]:null),b<d.length?d[b]=a:d.push(a),b+=1;else return null};
g.remove=function(a){var b=Array(15),c=vK(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return E.B(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};
g.ka=function(){return function c(b){return new wg(null,function(){return null==b?null:Ze(new X(null,2,5,Z,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"{",", ","}",c,this)};var xK=new wK;function yK(a){var b=(new Date).valueOf()+a,c=xK.ceilingEntry(b);c=r(r(c)?c.key<b+10:c)?c.val:null;if(r(c))return c;var d=sK(null,null);xK.put(b,d);iK(function(){xK.remove(b);return CJ(d)},a);return d};var zK={},AK;
function BK(a){if("undefined"===typeof Qb||"undefined"===typeof Rb||"undefined"===typeof vJ||"undefined"===typeof zJ||"undefined"===typeof zK||"undefined"===typeof AK)AK=function(b,c){this.f=b;this.Kk=c;this.O=393216;this.T=0},AK.prototype.ha=function(b,c){return new AK(this.f,c)},AK.prototype.ga=function(){return this.Kk},AK.prototype.Jc=function(){return!0},AK.prototype.vf=function(){return!0},AK.prototype.vc=function(){return this.f},AK.Wa=!0,AK.Sa="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers23194",AK.Za=
function(b){return yd(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers23194")};return new AK(a,W)}function CK(a){try{var b=a[0];return b.C?b.C(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].uf(null),b;throw c;}}function DK(a,b,c){c=c.kh(null,BK(function(d){a[2]=d;a[1]=b;return CK(a)}));return r(c)?(a[2]=y(c),a[1]=b,Wv):null}function EK(a,b,c){b=b.mg(null,c,BK(function(d){a[2]=d;a[1]=11;return CK(a)}));return r(b)?(a[2]=y(b),a[1]=11,Wv):null}
function FK(a,b){a=a[6];null!=b&&a.mg(null,b,BK(function(){return null}));a.uf(null);return a};function GK(a,b){return HK(a,b)}function HK(a,b){a=E.B(a,0)?null:a;return sK("number"===typeof a?new KJ(JJ(a),a):a,b)}
var IK=function(a){if("undefined"===typeof Qb||"undefined"===typeof Rb||"undefined"===typeof vJ||"undefined"===typeof wJ)wJ=function(b,c,d){this.f=b;this.ti=c;this.Nk=d;this.O=393216;this.T=0},wJ.prototype.ha=function(b,c){return new wJ(this.f,this.ti,c)},wJ.prototype.ga=function(){return this.Nk},wJ.prototype.Jc=function(){return!0},wJ.prototype.vf=function(){return this.ti},wJ.prototype.vc=function(){return this.f},wJ.Wa=!0,wJ.Sa="cljs.core.async/t_cljs$core$async23620",wJ.Za=function(b){return yd(b,
"cljs.core.async/t_cljs$core$async23620")};return new wJ(a,!0,W)}(function(){return null});function JK(a,b){a=BJ(a,b,IK);return r(a)?y(a):!0}function KK(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;ib(b);return b}
function LK(){var a=Fh(!0);if("undefined"===typeof Qb||"undefined"===typeof Rb||"undefined"===typeof vJ||"undefined"===typeof xJ)xJ=function(b,c){this.Ge=b;this.Ok=c;this.O=393216;this.T=0},xJ.prototype.ha=function(b,c){return new xJ(this.Ge,c)},xJ.prototype.ga=function(){return this.Ok},xJ.prototype.Jc=function(){return y(this.Ge)},xJ.prototype.vf=function(){return!0},xJ.prototype.vc=function(){Gh(this.Ge,null);return!0},xJ.Wa=!0,xJ.Sa="cljs.core.async/t_cljs$core$async23768",xJ.Za=function(b){return yd(b,
"cljs.core.async/t_cljs$core$async23768")};return new xJ(a,W)}
function MK(a,b){if("undefined"===typeof Qb||"undefined"===typeof Rb||"undefined"===typeof vJ||"undefined"===typeof yJ)yJ=function(c,d,e){this.Ge=c;this.mf=d;this.Pk=e;this.O=393216;this.T=0},yJ.prototype.ha=function(c,d){return new yJ(this.Ge,this.mf,d)},yJ.prototype.ga=function(){return this.Pk},yJ.prototype.Jc=function(){return DJ(this.Ge)},yJ.prototype.vf=function(){return!0},yJ.prototype.vc=function(){EJ(this.Ge);return this.mf},yJ.Wa=!0,yJ.Sa="cljs.core.async/t_cljs$core$async23785",yJ.Za=function(c){return yd(c,
"cljs.core.async/t_cljs$core$async23785")};return new yJ(a,b,W)}
function NK(a,b,c){var d=LK(),e=K(b),f=KK(e),h=Vt.C(c),k=function(){for(var m=0;;)if(m<e){var n=r(h)?m:f[m],p=Te(b,n),u=zf(p)?p.C?p.C(0):p.call(null,0):null,v=r(u)?function(){var z=p.C?p.C(1):p.call(null,1);return BJ(u,z,MK(d,function(C,F,I,O,P){return function(T){T=new X(null,2,5,Z,[T,P],null);return a.C?a.C(T):a.call(null,T)}}(m,z,n,p,u,d,e,f,h)))}():AJ(p,MK(d,function(z,C,F){return function(I){I=new X(null,2,5,Z,[I,F],null);return a.C?a.C(I):a.call(null,I)}}(m,n,p,u,d,e,f,h)));if(r(v))return lK(new X(null,
2,5,Z,[y(v),function(){var z=u;return r(z)?z:p}()],null));m+=1}else return null}();return r(k)?k:S(c,lm)?(k=function(){var m=d.Jc(null);return r(m)?d.vc(null):m}(),r(k)?lK(new X(null,2,5,Z,[lm.C(c),lm],null)):null):null}
function OK(a,b){var c=HK(1,null);hK(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,Wv):1===k?(h[2]=null,h[1]=2,Wv):4===k?(k=h[2],h[7]=k,h[1]=r(null==k)?5:6,Wv):13===k?(h[2]=null,h[1]=14,Wv):6===k?(k=h[7],EK(h,b,k)):3===k?FK(h,h[2]):12===k?(h[2]=null,h[1]=2,Wv):2===k?DK(h,4,a):11===k?(h[1]=r(h[2])?12:13,Wv):9===k?(h[2]=null,h[1]=10,Wv):5===k?(h[1]=r(!0)?8:9,Wv):14===k||10===k?(h[2]=h[2],h[1]=7,Wv):8===k?(k=CJ(b),h[2]=k,h[1]=10,Wv):null}return function(){function h(n){for(;;){a:try{for(;;){var p=
f(n);if(!U(p,Wv)){var u=p;break a}}}catch(v){u=v;n[2]=u;if(G(n[4]))n[1]=H(n[4]);else throw u;u=Wv}if(!U(u,Wv))return u}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.P=k;m.C=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return CK(e)})}
function PK(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new se(b.slice(3),0,null):null;return QK(arguments[0],arguments[1],arguments[2],b)}function QK(a,b,c,d){d=Zg(d);a[1]=b;b=NK(function(e){a[2]=e;return CK(a)},c,d);return r(b)?(a[2]=y(b),Wv):null}
function RK(a,b){var c=HK(b,null),d=HK(1,null);hK(function(){var e=function(){function h(k){var m=k[1];if(7===m){m=k[7];m=k[2];var n=N(m,0,null),p=N(m,1,null);k[7]=n;k[8]=m;k[9]=p;k[1]=r(null==n)?8:9;return Wv}return 1===m?(m=Li(a),k[10]=m,k[2]=null,k[1]=2,Wv):4===m?(m=k[10],PK(k,7,m)):6===m?(k[2]=k[2],k[1]=3,Wv):3===m?FK(k,k[2]):2===m?(m=k[10],m=0<K(m),k[1]=r(m)?4:5,Wv):11===m?(m=k[10],k[11]=k[2],k[10]=m,k[2]=null,k[1]=2,Wv):9===m?(m=k[7],EK(k,c,m)):5===m?(m=CJ(c),k[2]=m,k[1]=6,Wv):10===m?(k[2]=
k[2],k[1]=6,Wv):8===m?(m=k[7],m=k[10],p=k[9],m=ii(function(){var u=p;return function(v){return ah.B(u,v)}}(),m),k[10]=m,k[2]=null,k[1]=2,Wv):null}return function(){function k(p){for(;;){a:try{for(;;){var u=h(p);if(!U(u,Wv)){var v=u;break a}}}catch(z){v=z;p[2]=v;if(G(p[4]))p[1]=H(p[4]);else throw v;v=Wv}if(!U(v,Wv))return v}}function m(){var p=[null,null,null,null,null,null,null,null,null,null,null,null];p[0]=n;p[1]=1;return p}var n=null;n=function(p){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,p)}throw Error("Invalid arity: "+arguments.length);};n.P=m;n.C=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return CK(f)});return c};function SK(a,b){var c=Vg(Fk,a,b);return Ze(c,fi(function(d){return c===d},b))}function TK(a,b){return K(a)<K(b)?w.D(hf,b,a):w.D(hf,a,b)}var UK=function UK(a){switch(arguments.length){case 1:return UK.C(arguments[0]);case 2:return UK.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return UK.I(arguments[0],arguments[1],c)}};UK.C=function(a){return a};
UK.B=function(a,b){for(;;)if(K(b)<K(a)){var c=a;a=b;b=c}else return w.D(function(d,e){return function(f,h){return S(e,h)?f:sf.B(f,h)}}(a,b),a,a)};UK.I=function(a,b,c){a=SK(function(d){return-K(d)},hf.I(c,b,M([a])));return w.D(UK,H(a),ve(a))};UK.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};UK.aa=2;
var VK=function VK(a){switch(arguments.length){case 1:return VK.C(arguments[0]);case 2:return VK.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return VK.I(arguments[0],arguments[1],c)}};VK.C=function(a){return a};VK.B=function(a,b){return K(a)<K(b)?w.D(function(c,d){return S(b,d)?sf.B(c,d):c},a,a):w.D(sf,a,b)};VK.I=function(a,b,c){return w.D(VK,a,hf.B(c,b))};
VK.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};VK.aa=2;function WK(a,b){return K(a)<=K(b)&&rh(function(c){return S(b,c)},a)}function XK(a,b){return K(a)>=K(b)&&rh(function(c){return S(a,c)},b)};var YK=/[\s]/;function ZK(a){return null==a?null:","===a?!0:YK.test(a)}function $K(a){return null==a?null:!/[^0-9]/.test(a)}
function aL(a,b){return function e(d){return new wg(null,function(){for(;;){var f=G(d);if(f){if(Af(f)){var h=Pd(f),k=K(h),m=Cg(k);return function(){for(var p=0;;)if(p<k){var u=x(h,p),v=m;if(u instanceof A||u instanceof D){var z=Sk(sg,vg)(u),C=N(z,0,null);z=N(z,1,null);var F=u instanceof A?oe:ug;u=null==C?F.B?F.B(a,z):F.call(null,a,z):E.B("_",C)?F.C?F.C(z):F.call(null,z):u}v.add(u);p+=1}else return!0}()?Eg(Gg(m),e(Qd(f))):Eg(Gg(m),null)}var n=H(f);return Ze(n instanceof A||n instanceof D?function(){var p=
Sk(sg,vg)(n),u=N(p,0,null);p=N(p,1,null);var v=n instanceof A?oe:ug;return null==u?v.B?v.B(a,p):v.call(null,a,p):E.B("_",u)?v.C?v.C(p):v.call(null,p):n}():n,e(ve(f)))}return null}},null,null)}(b)}function bL(a,b){a=parseInt(a,b);return r(isNaN(a))?-1:a};function cL(a){if(null!=a&&null!=a.Ee)a=a.Ee(a);else{var b=cL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=cL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Reader.read-char",a);}return a}function dL(a){if(null!=a&&null!=a.yf)a=a.yf(a);else{var b=dL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=dL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Reader.peek-char",a);}return a}
function eL(a,b){if(null!=a&&null!=a.Ei)a.Ei(a,b);else{var c=eL[ha(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=eL._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw pc("IPushbackReader.unread",a);}}function fL(a){if(null!=a&&null!=a.fk)a=a.fk(a);else{var b=fL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=fL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IndexingReader.get-line-number",a);}return a}
function gL(a){if(null!=a&&null!=a.dk)a=a.dk(a);else{var b=gL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=gL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IndexingReader.get-column-number",a);}return a}function hL(a){if(null!=a&&null!=a.ek)a=a.ek(a);else{var b=hL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=hL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IndexingReader.get-file-name",a);}return a}
function iL(a,b){this.s=a;this.qj=b;this.ff=0}iL.prototype.Ee=function(){if(this.qj>this.ff){var a=this.s.charAt(this.ff);this.ff+=1;return a}return null};iL.prototype.yf=function(){return this.qj>this.ff?this.s.charAt(this.ff):null};function jL(a,b){this.dj=a;this.buf=b;this.xd=this.Vg=1}jL.prototype.Ee=function(){var a=this.xd<this.Vg?this.buf[this.xd]:this.dj.Ee(null);this.xd<this.Vg&&(this.xd+=1);return null==a?null:dg(a)};
jL.prototype.yf=function(){var a=this.xd<this.Vg?this.buf[this.xd]:this.dj.yf(null);return null==a?null:dg(a)};jL.prototype.Ei=function(a,b){if(r(b)){if(0===this.xd)throw Error("Pushback buffer is full");--this.xd;return this.buf[this.xd]=b}return null};function kL(a){return null!=a?l===a.om?!0:!1:!1};function lL(a,b,c,d){var e=K(b);a=r(a)?0:10<e?10:e;b=Rh.B(xh.B(mL,!0),Sh.B(a,b));b=Ug(t,Th(1,ai.B(Xh(" "),b)));e=a<e?"...":null;return[t.C(c),t.C(b),e,t.C(d)].join("")}var mL,a0=Fh(W),d0=Fh(W),g0=Fh(W),a1=Fh(W),b1=B.D(W,Gr,Zl.P?Zl.P():Zl.call(null));
mL=new km(oe.B("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?Qy:"string"===typeof b?Om:b instanceof D?Nr:"number"===typeof b?Nr:b instanceof A?Nr:zf(b)?fs:mg(b)?pD:xf(b)?Os:vf(b)?Xw:E.B(b,!0)?Nr:E.B(b,!1)?Nr:oc(b)},b1,a0,d0,g0,a1);mL.lb(null,Om,function(a,b){a=r(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.C(b.substring(0,a<d?a:d)),c].join("")});mL.lb(null,Nr,function(a,b){return t.C(b)});mL.lb(null,se,function(){return"\x3cindexed seq\x3e"});
mL.lb(null,ij,function(){return"\x3cmap seq\x3e"});mL.lb(null,Nj,function(){return"\x3cmap seq\x3e"});mL.lb(null,qg,function(){return"\x3ccons\x3e"});mL.lb(null,wg,function(){return"\x3clazy seq\x3e"});mL.lb(null,Qy,function(){return"nil"});mL.lb(null,pD,function(a,b){return lL(a,b,"(",")")});mL.lb(null,Os,function(a,b){var c=K(b),d=r(a)?0:c;b=Ug(V,Sh.B(d,b));return lL(a,b,"{",c>d?"...}":"}")});mL.lb(null,Xw,function(a,b){return lL(a,b,"#{","}")});mL.lb(null,fs,function(a,b){return lL(a,b,"[","]")});
mL.lb(null,lm,function(a,b){return ol.I(M([oc(b)]))});function sL(a,b,c){b=new q(null,2,[oo,yp,yy,b],null);a=kL(a)?Q.I(b,zz,hL(a),M([Cm,fL(a),Ko,gL(a)])):b;var d=zz.C(a);b=Cm.C(a);var e=Ko.C(a);d=r(d)?[t.C(d)," "].join(""):null;b=r(b)?["[line ",t.C(b),", col ",t.C(e),"]"].join(""):null;c=Xg(t,d,b,r(r(d)?d:b)?" ":null,c);throw qm(c,a);}function tL(a,b){return sL(a,so,M([Ug(t,b)]))}function uL(a,b){return sL(a,Ew,M([Ug(t,b)]))}function vL(a,b){return sL(a,os,M([Ug(t,b)]))}
function wL(a,b,c,d){tL(a,M(["The map literal starting with ",mL.B(!1,H(d)),r(b)?[" on line ",t.C(b)," column ",t.C(c)].join(""):null," contains ",K(d)," form(s). Map literals must contain an even number of forms."]))}function xL(a,b,c){return tL(a,M(["Invalid ",vg(b),": ",c,"."]))}function yL(a,b,c){return tL(a,M(["Invalid character: ",c," found while reading ",vg(b),"."]))}
function zL(a,b){a:{var c=Om instanceof D?Om.ba:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.C(c)].join(""));}}return vL(a,M(["Unexpected EOF reading ",vg(Om)," starting ",Vg(t,c,b),"."]))}function AL(a,b){return uL(a,M(["Invalid digit ",b," in unicode character."]))}function BL(a){return tL(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function CL(a,b){b=function(c){return function f(e){return new wg(null,function(){for(var h=e;;)if(h=G(h)){if(Af(h)){var k=Pd(h),m=K(k),n=Cg(m);a:for(var p=0;;)if(p<m){var u=x(k,p),v=N(u,0,null);1<N(u,1,null)&&n.add(v);p+=1}else{k=!0;break a}return k?Eg(Gg(n),f(Qd(h))):Eg(Gg(n),null)}n=H(h);k=N(n,0,null);if(1<N(n,1,null))return Ze(k,f(ve(h)));h=ve(h)}else return null},null,null)}(Rk(c))}(b);return Xg(t,a,1<K(b)?"s":null,": ",Th(1,ai.B(Xh(", "),b)))}
function DL(a,b,c){b=vg(b);tL(a,M([CL([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function EL(a){for(var b=a.Ee(null);;)if(ZK.C?ZK.C(b):ZK.call(null,b))b=a.Ee(null);else return b}var FL=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,GL=/([-+]?[0-9]+)\/([0-9]+)/,HL=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function IL(a,b){a=Vk(a,b);return N(a,0,null)===b}
function JL(a){if(IL(FL,a)){var b=Li(Vk(FL,a));if(null!=(b.C?b.C(2):b.call(null,2)))a=0;else{a="-"===(b.C?b.C(1):b.call(null,1));b=null!=(b.C?b.C(3):b.call(null,3))?new X(null,2,5,Z,[b.C?b.C(3):b.call(null,3),10],null):null!=(b.C?b.C(4):b.call(null,4))?new X(null,2,5,Z,[b.C?b.C(4):b.call(null,4),16],null):null!=(b.C?b.C(5):b.call(null,5))?new X(null,2,5,Z,[b.C?b.C(5):b.call(null,5),8],null):null!=(b.C?b.C(7):b.call(null,7))?new X(null,2,5,Z,[b.C?b.C(7):b.call(null,7),parseInt(b.C?b.C(6):b.call(null,
6))],null):new X(null,2,5,Z,[null,null],null);var c=b.C?b.C(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.C?b.C(1):b.call(null,1)),a=a?-1*b:b,a=r(isNaN(a))?null:a)}}else IL(HL,a)?(b=Li(Vk(HL,a)),a=null!=(b.C?b.C(4):b.call(null,4))?parseFloat(b.C?b.C(1):b.call(null,1)):parseFloat(a)):IL(GL,a)?(b=Li(Vk(GL,a)),a=b.C?b.C(1):b.call(null,1),b=b.C?b.C(2):b.call(null,2),a=r(Vk(/^\+/,a))?lg.B(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function KL(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?lg.D(a,0,b):null;if(null!=c){b+=1;if(b===K(a))return null;a=lg.B(a,b);return $K(Te(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new X(null,2,5,Z,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new X(null,2,5,Z,[null,a],null):null}
var LL=function LL(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new se(c.slice(1),0,null):null;return LL.I(arguments[0],c)};LL.I=function(a){for(;;){var b=a.Ee(null);if("\n"===b||"\n"===b||null==b)break}return a};LL.aa=1;LL.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};
function ML(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new se(f,0,null)}return b.call(this,c,e)}function b(c){return tL(c,M(["Unreadable form"]))}a.aa=1;a.fa=function(c){var d=H(c);c=ve(c);return b(d,c)};a.I=b;return a}()};new Pb;function NL(a){var b="#"!==a;return b?(b="'"!==a)?(b=":"!==a)?OL.C?OL.C(a):OL.call(null,a):b:b:b}function PL(a){return"@"===a||"`"===a||"~"===a}function QL(a,b,c,d){if(kc(c))return vL(a,M(["Unexpected EOF while reading start of ",vg(b),"."]));if(r(r(d)?PL(c):d))return yL(a,b,c);d=new Pb;for(eL(a,c);;){if(ZK(c)||NL(c)||null==c)return t.C(d);if(PL(c))return yL(a,b,c);d.append(cL(a));c=dL(a)}}
function RL(a,b,c){b=cL(a);if(r(b)){var d=SL.C?SL.C(b):SL.call(null,b);if(r(d))return d.D?d.D(a,b,c):d.call(null,a,b,c);eL(a,b);return TL.D?TL.D(a,b,c):TL.call(null,a,b,c)}return vL(a,M(["Unexpected EOF while reading dispatch character."]))}function UL(a,b){return tL(a,M(["Unmatched delimiter ",b,"."]))}
function VL(a,b,c){b=1+b;if(K(a)!==b)throw uL(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=bL(Te(a,d),c);if(-1===f)return c=Te(a,d),uL(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function WL(a,b,c,d,e){for(var f=1,h=bL(b,c);;){if(-1===h)return AL(a,b);if(f!==d){var k=dL(a);var m=ZK(k);m||(m=OL.C?OL.C(k):OL.call(null,k),m=r(m)?m:null==k);if(r(m))return r(e)?uL(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long. ","Value supplied is ",f," characters long."])):String.fromCharCode(h);m=bL(k,c);cL(a);if(-1===m)return AL(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function XL(a){var b=cL(a);if(null!=b){b=NL(b)||PL(b)||ZK(b)?t.C(b):QL(a,UA,b,!1);var c=b.length;if(1===c)return Te(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(r(0==b.lastIndexOf("u",0)))return b=VL(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=tL(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(r(0==b.lastIndexOf("o",0))){--c;if(3<c)return tL(a,M(["Invalid octal escape sequence in a character literal: ",
b,". Octal escape sequences must be 3 or fewer digits."]));b=VL(b,c,8);return 255<(b|0)?BL(a):b}return tL(a,M(["Unsupported character: ",b,"."]))}return vL(a,M(["Unexpected EOF while reading character."]))}function YL(a){return kL(a)?new X(null,2,5,Z,[fL(a),(gL(a)|0)-1|0],null):null}
function ZL(a,b,c,d){var e=YL(c),f=N(e,0,null);e=N(e,1,null);b=null==b?null:dg(b);for(var h=Hd(jf);;){var k=EL(c);if(!r(k)){var m=a,n=f,p=e,u=K(h);vL(c,M(["Unexpected EOF while reading ",r(u)?["item ",t.C(u)," of "].join(""):null,vg(m),r(n)?[", starting at line ",t.C(n)," and column ",t.C(p)].join(""):null,"."]))}if(E.B(b,null==k?null:dg(k)))return Jd(h);m=OL.C?OL.C(k):OL.call(null,k);r(m)?(k=m.D?m.D(c,k,d):m.call(null,c,k,d),h=k!==c?Mg.B(h,k):h):(eL(c,k),k=$L?$L(c,!0,null,d):aM.call(null,c,!0,null,
d),h=k!==c?Mg.B(h,k):h)}}function bM(a,b,c){a=ZL(pD,")",a,c);return tf(a)?we:Ug(pg,a)}function cM(a,b,c){return ZL(fs,"]",a,c)}function dM(a,b,c){var d=YL(a);b=N(d,0,null);d=N(d,1,null);c=ZL(Os,"}",a,c);var e=K(c),f=Ok(2,c),h=Bk(f);!th(e)&&wL(a,b,d,c);E.B(K(h),K(f))||DL(a,Os,f);if(e<=2*nj)a=pj(Of(c),!0,!0);else a:for(a=Of(c),b=a.length,d=0,e=Hd(oj);;)if(d<b)c=d+2,e=Kd(e,a[d],a[d+1]),d=c;else{a=Jd(e);break a}return a}
function eM(a,b){for(var c=function(){var h=new Pb;h.append(b);return h}(),d=cL(a);;){if(r(function(){var h=ZK(d);if(h)return h;h=OL.C?OL.C(d):OL.call(null,d);return r(h)?h:null==d}())){var e=t.C(c);eL(a,d);var f=JL(e);return r(f)?f:tL(a,M(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=cL(a);c=e;d=f}}
function fM(a){var b=cL(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=cL(a),-1===parseInt(b|0,16)?tL(a,M(["Invalid unicode escape: \\u",b,"."])):WL(a,b,16,4,!0);default:return $K(b)?(b=WL(a,b,8,3,!1),255<(b|0)?BL(a):b):tL(a,M(["Unsupported escape character: \\",b,"."]))}}
function gM(a){for(var b=new Pb,c=cL(a);;){var d=c;if(E.B(null,d))return zL(a,M(['"',b]));if(E.B("\\",d)){d=function(){var f=b;f.append(fM(a));return f}();var e=cL(a);b=d;c=e}else{if(E.B('"',d))return t.C(b);d=function(){var f=b;f.append(c);return f}();e=cL(a);b=d;c=e}}}
function hM(a,b){b=QL(a,Pr,b,!0);if(r(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return yw;default:var c=KL(b);c=r(c)?oe.B(c.C?c.C(0):c.call(null,0),c.C?c.C(1):c.call(null,1)):null;return r(c)?c:xL(a,Pr,b)}else return null}
function iM(a){var b=cL(a);if(ZK(b))return tL(a,M(["A single colon is not a valid keyword."]));b=QL(a,bE,b,!0);var c=KL(b);if(r(r(c)?-1===b.indexOf("::"):c)){var d=c.C?c.C(0):c.call(null,0);c=c.C?c.C(1):c.call(null,1);return":"===Te(b,0)?xL(a,bE,[":",t.C(b)].join("")):ug.B(d,c)}return xL(a,bE,[":",t.C(b)].join(""))}
function jM(a,b,c){b=$L?$L(a,!0,null,c):aM.call(null,a,!0,null,c);b=b instanceof D?nf([b,!0]):b instanceof A?new q(null,1,[wA,b],null):"string"===typeof b?new q(null,1,[wA,b],null):b;xf(b)||tL(a,M(["Metadata cannot be ",mL.B(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=$L?$L(a,!0,null,c):aM.call(null,a,!0,null,c);return null!=c&&(c.O&131072||l===c.qf)?qf(c,sk.I(M([rf(c),b]))):tL(a,M(["Metadata can not be applied to ",mL.B(!1,c),". ","Metadata can only be applied to IMetas."]))}
function kM(a,b,c){b=ZL(Xw,"}",a,c);c=Bk(b);E.B(K(b),K(c))||DL(a,Xw,b);return c}function lM(a){$L?$L(a,!0,null,!0):aM.call(null,a,!0,null,!0);return a}
function mM(a,b,c){b=cL(a);b=QL(a,lA,b,!0);var d=null==b?null:KL(b);if(null==d)var e=null;else e=N(d,0,null),d=N(d,1,null),e=r(e)?null:d;return r(e)?"{"===EL(a)?(c=ZL(lA,"}",a,c),!th(K(c))&&wL(a,null,null,c),b=aL(t.C(e),Ok(2,c)),c=Ok(2,ve(c)),E.B(K(Bk(b)),K(b))||DL(a,lA,b),Ek(b,c)):tL(a,M(["Namespaced map with namespace ",b," does not specify a map."])):tL(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function nM(a,b,c){b=$L?$L(a,!0,null,c):aM.call(null,a,!0,null,c);return E.B($u,b)?Number.NaN:E.B(Hy,b)?Number.NEGATIVE_INFINITY:E.B(Ht,b)?Number.POSITIVE_INFINITY:tL(a,M([["Invalid token: ##",t.C(b)].join("")]))}function OL(a){switch(a){case '"':return gM;case ":":return iM;case ";":return LL;case "^":return jM;case "(":return bM;case ")":return UL;case "[":return cM;case "]":return UL;case "{":return dM;case "}":return UL;case "\\":return XL;case "#":return RL;default:return null}}
function SL(a){switch(a){case "^":return jM;case "{":return kM;case "\x3c":return ML();case "!":return LL;case "_":return lM;case ":":return mM;case "#":return nM;default:return null}}
function TL(a,b,c){b=$L?$L(a,!0,null,c):aM.call(null,a,!0,null,c);var d=$L?$L(a,!0,null,c):aM.call(null,a,!0,null,c);b instanceof A||tL(a,M(["Invalid reader tag: ",mL.B(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.B(vv.C(c),b);e=r(e)?e:W.C?W.C(b):W.call(null,b);if(r(e))return e.C?e.C(d):e.call(null,d);c=lm.C(c);return r(c)?c.B?c.B(b,d):c.call(null,b,d):tL(a,M(["No reader function for tag ",mL.B(!1,b),"."]))}
function aM(a){switch(arguments.length){case 1:return oM(W,arguments[0]);case 2:return oM(arguments[0],arguments[1]);case 4:return $L(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function oM(a,b){a=Zg(a);var c=B.B(a,os),d=!S(a,os);return $L(b,d,c,a)}
function $L(a,b,c,d){try{for(;;){var e=cL(a);if(!ZK(e)){if(null==e){if(r(b)){b=a;var f=r(null)?vL(b,M(["EOF while reading, starting at line ",null,"."])):vL(b,M(["EOF while reading."]))}else f=c;return f}if($K(e)||("+"===e||"-"===e)&&$K(a.yf(null)))return eM(a,e);var h=OL(e);if(r(h)){var k=h.D?h.D(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return hM(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof pm){b=f instanceof pm?f.data:null;if(E.B(yp,oo.C(b)))throw f;a=sk.I(M([new q(null,1,
[oo,yp],null),b,kL(a)?new q(null,3,[Cm,fL(a),vu,gL(a),zz,hL(a)],null):null]));throw new pm(f.message,a,f);}a=sk.I(M([new q(null,1,[oo,yp],null),kL(a)?new q(null,3,[Cm,fL(a),vu,gL(a),zz,hL(a)],null):null]));throw new pm(f.message,a,f);}throw m;}}function pM(a,b){if(r(r(b)?ah.B(b,""):b)){b=new iL(b,K(b));a:{var c=Array(1);if(Df(null))for(var d=0,e=G(null);;)if(e&&1>d)c[d]=H(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=oM(a,new jL(b,c))}else a=null;return a};var qM=function(){var a=new X(null,13,5,Z,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Z,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.B(r(d)?b:a,c)}}(),rM=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function sM(a){a=parseInt(a,10);return kc(isNaN(a))?a:null}
function tM(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.C(d)," Failed:  ",t.C(a),"\x3c\x3d",t.C(b),"\x3c\x3d",t.C(c)].join(""));return b}
function uM(a){var b=Uk(rM,a);N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),h=N(b,5,null),k=N(b,6,null),m=N(b,7,null),n=N(b,8,null),p=N(b,9,null),u=N(b,10,null);if(kc(b))throw Error(["Unrecognized date/time syntax: ",t.C(a)].join(""));a=sM(c);b=function(){var I=sM(d);return r(I)?I:1}();c=function(){var I=sM(e);return r(I)?I:1}();var v=function(){var I=sM(f);return r(I)?I:0}(),z=function(){var I=sM(h);return r(I)?I:0}(),C=function(){var I=sM(k);return r(I)?I:0}(),F=function(){a:if(E.B(3,
K(m)))var I=m;else if(3<K(m))I=lg.D(m,0,3);else for(I=new Pb(m);;)if(3>I.getLength())I=I.append("0");else{I=I.toString();break a}I=sM(I);return r(I)?I:0}();n=(E.B(n,"-")?-1:1)*(60*function(){var I=sM(p);return r(I)?I:0}()+function(){var I=sM(u);return r(I)?I:0}());return new X(null,8,5,Z,[a,tM(1,b,12,"timestamp month field must be in range 1..12"),tM(1,c,qM(b,0===fg(a,4)&&(0!==fg(a,100)||0===fg(a,400))),"timestamp day field must be in range 1..last day in month"),tM(0,v,23,"timestamp hour field must be in range 0..23"),
tM(0,z,59,"timestamp minute field must be in range 0..59"),tM(0,C,E.B(z,59)?60:59,"timestamp second field must be in range 0..60"),tM(0,F,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var vM=Fh(null),wM=Fh(sk.I(M([new q(null,4,[ot,function(a){if("string"===typeof a){var b=uM(a);if(r(b)){a=N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),h=N(b,5,null),k=N(b,6,null);b=N(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.C(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},kq,function(a){if("string"===typeof a)return new nm(a.toLowerCase(),null);throw Error("UUID literal expects a string as its representation.");
},nq,function(a){if(zf(a))return gi.B(aj,a);throw Error("Queue literal expects a vector for its elements.");},rs,function(a){if(zf(a)){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Af(c)?(a=Pd(c),e=Qd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(xf(a)){b={};a=G(a);c=null;for(e=d=0;;)if(e<d){var h=c.Da(null,e);f=N(h,0,null);h=N(h,1,null);f=vg(f);b[f]=h;e+=1}else if(a=G(a))Af(a)?(d=Pd(a),a=Qd(a),c=d,d=K(d)):
(d=H(a),c=N(d,0,null),d=N(d,1,null),c=vg(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),W])));function c1(a){return pM(new q(null,3,[vv,y(wM),lm,y(vM),os,null],null),a)}function d1(a,b){return pM(oi.D(sk.I(M([new q(null,1,[lm,y(vM)],null),a])),vv,function(c){return sk.I(M([y(wM),c]))}),b)};function xM(a,b){const c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,p,u){if("%"==n)return"%";const v=c.shift();if("undefined"==typeof v)throw Error("[goog.string.format] Not enough arguments");arguments[0]=v;return xM.he[n].apply(null,arguments)})}xM.he={};
xM.he.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+nb(" ",Number(c)-a.length):nb(" ",Number(c)-a.length)+a};
xM.he.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));let f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+nb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+nb(b,a)+d);return d};xM.he.d=function(a,b,c,d,e,f,h,k){return xM.he.f(parseInt(a,10),b,c,d,0,f,h,k)};
xM.he.i=xM.he.d;xM.he.u=xM.he.d;function yM(){0!=zM&&(AM[ka(this)]=this);this.Xe=this.Xe;this.af=this.af}var zM=0,AM={};yM.prototype.Xe=!1;yM.prototype.dispose=function(){if(!this.Xe&&(this.Xe=!0,this.disposeInternal(),0!=zM)){var a=ka(this);if(0!=zM&&this.af&&0<this.af.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete AM[a]}};yM.prototype.disposeInternal=function(){if(this.af)for(;this.af.length;)this.af.shift()()};function BM(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Qf=!1}BM.prototype.stopPropagation=function(){this.Qf=!0};BM.prototype.preventDefault=function(){this.defaultPrevented=!0};var CM=function(){if(!ca.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ca.addEventListener("test",fa,b),ca.removeEventListener("test",fa,b)}catch(c){}return a}();function DM(a,b){BM.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Ye=null;a&&this.init(a,b)}ra(DM,BM);var EM={2:"touch",3:"pen",4:"mouse"};
DM.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(RJ){a:{try{ta(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=SJ||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=SJ||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:EM[a.pointerType]||"";this.state=a.state;this.Ye=a;a.defaultPrevented&&DM.Yd.preventDefault.call(this)};DM.prototype.stopPropagation=function(){DM.Yd.stopPropagation.call(this);this.Ye.stopPropagation?this.Ye.stopPropagation():this.Ye.cancelBubble=!0};DM.prototype.preventDefault=function(){DM.Yd.preventDefault.call(this);var a=this.Ye;a.preventDefault?a.preventDefault():a.returnValue=!1};var FM=0;var GM="closure_listenable_"+(1E6*Math.random()|0);function HM(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++FM;this.removed=this.dg=!1}function IM(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function JM(a){this.src=a;this.listeners={};this.Vf=0}g=JM.prototype;g.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Vf++);var h=KM(a,b,d,e);-1<h?(b=a[h],c||(b.dg=!1)):(b=new HM(b,this.src,f,!!d,e),b.dg=c,a.push(b));return b};g.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=KM(e,b,c,d);return-1<b?(IM(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Vf--),!0):!1};
function LM(a,b){var c=b.type;if(!(c in a.listeners))return!1;var d=cb(a.listeners[c],b);d&&(IM(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Vf--));return d}g.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,IM(d[e]);delete this.listeners[c];this.Vf--}return b};g.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};
g.vh=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=KM(a,b,c,d));return-1<e?a[e]:null};g.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return Ta(this.listeners,function(f){for(var h=0;h<f.length;++h)if(!(c&&f[h].type!=d||e&&f[h].capture!=b))return!0;return!1})};function KM(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var MM="closure_lm_"+(1E6*Math.random()|0),NM={},OM=0;function PM(a,b,c,d,e){if(d&&d.once)return QM(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)PM(a,b[f],c,d,e);return null}c=RM(c);return a&&a[GM]?a.listen(b,c,ja(d)?!!d.capture:!!d,e):SM(a,b,c,!1,d,e)}
function SM(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ja(e)?!!e.capture:!!e,k=TM(a);k||(a[MM]=k=new JM(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=UM();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)CM||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(VM(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");OM++;return c}
function UM(){function a(c){return b.call(a.src,a.listener,c)}const b=WM;return a}function QM(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)QM(a,b[f],c,d,e);return null}c=RM(c);return a&&a[GM]?a.listenOnce(b,c,ja(d)?!!d.capture:!!d,e):SM(a,b,c,!0,d,e)}function XM(a,b,c,d,e){if(Array.isArray(b))for(var f=0;f<b.length;f++)XM(a,b[f],c,d,e);else d=ja(d)?!!d.capture:!!d,c=RM(c),a&&a[GM]?a.Td.remove(String(b),c,d,e):a&&(a=TM(a))&&(b=a.vh(b,c,d,e))&&YM(b)}
function YM(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[GM])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(VM(c),d):b.addListener&&b.removeListener&&b.removeListener(d);OM--;(c=TM(b))?(LM(c,a),0==c.Vf&&(c.src=null,b[MM]=null)):IM(a)}}}function VM(a){return a in NM?NM[a]:NM[a]="on"+a}
function WM(a,b){if(a.removed)a=!0;else{b=new DM(b,this);var c=a.listener,d=a.handler||a.src;a.dg&&YM(a);a=c.call(d,b)}return a}function TM(a){a=a[MM];return a instanceof JM?a:null}var ZM="__closure_events_fn_"+(1E9*Math.random()>>>0);function RM(a){if("function"===typeof a)return a;a[ZM]||(a[ZM]=function(b){return a.handleEvent(b)});return a[ZM]};function $M(){yM.call(this);this.Td=new JM(this);this.Sj=this;this.Mh=null}ra($M,yM);$M.prototype[GM]=!0;g=$M.prototype;g.addEventListener=function(a,b,c,d){PM(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){XM(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.Mh;if(c)for(b=[];c;c=c.Mh)b.push(c);c=this.Sj;var d=a.type||a;if("string"===typeof a)a=new BM(a,c);else if(a instanceof BM)a.target=a.target||c;else{var e=a;a=new BM(d,c);Ya(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Qf&&0<=f;f--){var h=a.currentTarget=b[f];e=aN(h,d,!0,a)&&e}a.Qf||(h=a.currentTarget=c,e=aN(h,d,!0,a)&&e,a.Qf||(e=aN(h,d,!1,a)&&e));if(b)for(f=0;!a.Qf&&f<b.length;f++)h=a.currentTarget=b[f],e=aN(h,d,!1,a)&&e;return e};
g.disposeInternal=function(){$M.Yd.disposeInternal.call(this);this.removeAllListeners();this.Mh=null};g.listen=function(a,b,c,d){return this.Td.add(String(a),b,!1,c,d)};g.listenOnce=function(a,b,c,d){return this.Td.add(String(a),b,!0,c,d)};g.unlistenByKey=function(a){return LM(this.Td,a)};g.removeAllListeners=function(a){return this.Td?this.Td.removeAll(a):0};
function aN(a,b,c,d){b=a.Td.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.dg&&a.unlistenByKey(h);e=!1!==k.call(m,d)&&e}}return e&&!d.defaultPrevented}g.getListeners=function(a,b){return this.Td.getListeners(String(a),b)};g.vh=function(a,b,c,d){return this.Td.vh(String(a),b,c,d)};g.hasListener=function(a,b){return this.Td.hasListener(void 0!==a?String(a):void 0,b)};function bN(a,b,c){if("function"===typeof a)c&&(a=qa(a,c));else if(a&&"function"==typeof a.handleEvent)a=qa(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:ca.setTimeout(a,b||0)};function cN(a){try{return ca.JSON.parse(a)}catch(b){}a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function dN(){}dN.prototype.ui=null;dN.prototype.getOptions=function(){var a;(a=this.ui)||(a={},eN(this)&&(a[0]=!0,a[1]=!0),a=this.ui=a);return a};var fN;function gN(){}ra(gN,dN);function hN(a){return(a=eN(a))?new ActiveXObject(a):new XMLHttpRequest}function eN(a){if(!a.Ri&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){const b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"];for(let c=0;c<b.length;c++){const d=b[c];try{return new ActiveXObject(d),a.Ri=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Ri}
fN=new gN;function iN(a){$M.call(this);this.headers=new Map;this.Sg=a||null;this.oe=!1;this.Rg=this.La=null;this.Ah="";this.$e=0;this.Ie=this.xh=this.yg=this.th=!1;this.Ng=0;this.timeoutId_=null;this.oj=jN;this.bi=this.cj=this.Xf=!1;this.Zh=null}ra(iN,$M);var jN="",kN=/^https?$/i,lN=["POST","PUT"];g=iN.prototype;g.setWithCredentials=function(a){this.Xf=a};g.setTrustToken=function(a){this.Zh=a};
g.send=function(a,b,c,d){if(this.La)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Ah+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Ah=a;this.$e=0;this.th=!1;this.oe=!0;this.La=this.Sg?hN(this.Sg):hN(fN);this.Rg=this.Sg?this.Sg.getOptions():fN.getOptions();this.La.onreadystatechange=qa(this.aj,this);this.cj&&"onprogress"in this.La&&(this.La.onprogress=qa(function(f){this.$i(f,!0)},this),this.La.upload&&(this.La.upload.onprogress=qa(this.$i,this)));try{this.xh=!0,
this.La.open(b,String(a),!0),this.xh=!1}catch(f){this.error_(5,f);return}a=c||"";c=new Map(this.headers);if(d)if(Object.getPrototypeOf(d)===Object.prototype)for(var e in d)c.set(e,d[e]);else if("function"===typeof d.keys&&"function"===typeof d.get)for(const f of d.keys())c.set(f,d.get(f));else throw Error("Unknown input type for opt_headers: "+String(d));d=Array.from(c.keys()).find(f=>"content-type"==f.toLowerCase());e=ca.FormData&&a instanceof ca.FormData;!(0<=Za(lN,b))||d||e||c.set("Content-Type",
"application/x-www-form-urlencoded;charset\x3dutf-8");for(const [f,h]of c)this.La.setRequestHeader(f,h);this.oj&&(this.La.responseType=this.oj);"withCredentials"in this.La&&this.La.withCredentials!==this.Xf&&(this.La.withCredentials=this.Xf);if("setTrustToken"in this.La&&this.Zh)try{this.La.setTrustToken(this.Zh)}catch(f){}try{mN(this),0<this.Ng&&((this.bi=nN(this.La))?(this.La.timeout=this.Ng,this.La.ontimeout=qa(this.timeout_,this)):this.timeoutId_=bN(this.timeout_,this.Ng,this)),this.yg=!0,this.La.send(a),
this.yg=!1}catch(f){this.error_(5,f)}};function nN(a){return PJ&&ZJ()&&"number"===typeof a.timeout&&void 0!==a.ontimeout}g.timeout_=function(){"undefined"!=typeof ba&&this.La&&(this.$e=8,this.dispatchEvent("timeout"),this.abort(8))};g.error_=function(a){this.oe=!1;this.La&&(this.Ie=!0,this.La.abort(),this.Ie=!1);this.$e=a;oN(this);pN(this)};function oN(a){a.th||(a.th=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
g.abort=function(a){this.La&&this.oe&&(this.oe=!1,this.Ie=!0,this.La.abort(),this.Ie=!1,this.$e=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),pN(this))};g.disposeInternal=function(){this.La&&(this.oe&&(this.oe=!1,this.Ie=!0,this.La.abort(),this.Ie=!1),pN(this,!0));iN.Yd.disposeInternal.call(this)};g.aj=function(){this.Xe||(this.xh||this.yg||this.Ie?qN(this):this.ql())};g.ql=function(){qN(this)};
function qN(a){if(a.oe&&"undefined"!=typeof ba&&(!a.Rg[1]||4!=rN(a)||2!=sN(a)))if(a.yg&&4==rN(a))bN(a.aj,0,a);else if(a.dispatchEvent("readystatechange"),4==rN(a)){a.oe=!1;try{tN(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.$e=6,oN(a))}finally{pN(a)}}}g.$i=function(a,b){this.dispatchEvent(uN(a,"progress"));this.dispatchEvent(uN(a,b?"downloadprogress":"uploadprogress"))};function uN(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}
function pN(a,b){if(a.La){mN(a);const c=a.La,d=a.Rg[0]?fa:null;a.La=null;a.Rg=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function mN(a){a.La&&a.bi&&(a.La.ontimeout=null);a.timeoutId_&&(ca.clearTimeout(a.timeoutId_),a.timeoutId_=null)}
function tN(a){var b=sN(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Ah).match(ub)[1]||null,!a&&ca.self&&ca.self.location&&(a=ca.self.location.protocol,a=a.substr(0,a.length-1)),b=!kN.test(a?a.toLowerCase():"");c=b}return c}function rN(a){return a.La?a.La.readyState:0}function sN(a){try{return 2<rN(a)?a.La.status:-1}catch(b){return-1}}
function vN(a){try{return a.La?a.La.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.La&&4==rN(this))return a=this.La.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.La&&4==rN(this)?this.La.getAllResponseHeaders()||"":""};function wN(){this.rd=[];this.Qd=[]}function xN(a){0===a.rd.length&&(a.rd=a.Qd,a.rd.reverse(),a.Qd=[])}g=wN.prototype;g.enqueue=function(a){this.Qd.push(a)};g.dequeue=function(){xN(this);return this.rd.pop()};g.peek=function(){xN(this);var a=this.rd;return a[a.length-1]};g.getCount=function(){return this.rd.length+this.Qd.length};g.isEmpty=function(){return 0===this.rd.length&&0===this.Qd.length};g.clear=function(){this.rd=[];this.Qd=[]};
g.contains=function(a){return 0<=Za(this.rd,a)||0<=Za(this.Qd,a)};g.remove=function(a){{var b=this.rd;const c=$a(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1}return b||cb(this.Qd,a)};g.getValues=function(){for(var a=[],b=this.rd.length-1;0<=b;--b)a.push(this.rd[b]);var c=this.Qd.length;for(b=0;b<c;++b)a.push(this.Qd[b]);return a};class yN{constructor(a,b){this.Wj=a[ca.Symbol.iterator]();this.Bk=b;this.ol=0}[Symbol.iterator](){return this}next(){const a=this.Wj.next();return{value:a.done?void 0:this.Bk.call(void 0,a.value,this.ol++),done:a.done}}}function zN(a,b){return new yN(a,b)};var AN="StopIteration"in ca?ca.StopIteration:{message:"StopIteration",stack:""};function CN(){}CN.prototype.Fg=function(){throw AN;};CN.prototype.next=function(){return IN};var IN={done:!0,value:void 0};CN.prototype.ne=function(){return this};function JN(a){if(a instanceof KN||a instanceof LN||a instanceof MN)return a;if("function"==typeof a.Fg)return new KN(()=>NN(a));if("function"==typeof a[Symbol.iterator])return new KN(()=>a[Symbol.iterator]());if("function"==typeof a.ne)return new KN(()=>NN(a.ne()));throw Error("Not an iterator or iterable.");}const NN=a=>{if(!(a instanceof CN))return a;let b=!1;return{next(){let c;for(;!b;)try{c=a.Fg();break}catch(d){if(d!==AN)throw d;b=!0}return{value:c,done:b}}}};
class KN{constructor(a){this.uh=a}ne(){return new LN(this.uh())}[Symbol.iterator](){return new MN(this.uh())}Xh(){return new MN(this.uh())}}class LN extends CN{constructor(a){super();this.Lf=a}Fg(){const a=this.Lf.next();if(a.done)throw AN;return a.value}[Symbol.iterator](){return new MN(this.Lf)}Xh(){return new MN(this.Lf)}}class MN extends KN{constructor(a){super(()=>a);this.Lf=a}next(){return this.Lf.next()}};function ON(a,b){this.map_={};this.keys_=[];this.version_=this.size=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=ON.prototype;g.getCount=function(){return this.size};g.getValues=function(){PN(this);for(var a=[],b=0;b<this.keys_.length;b++)a.push(this.map_[this.keys_[b]]);return a};g.getKeys=function(){PN(this);return this.keys_.concat()};g.containsKey=function(a){return this.has(a)};
g.has=function(a){return QN(this.map_,a)};g.zf=function(a){for(var b=0;b<this.keys_.length;b++){var c=this.keys_[b];if(QN(this.map_,c)&&this.map_[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.size!=a.getCount())return!1;b=b||RN;PN(this);for(var c,d=0;c=this.keys_[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function RN(a,b){return a===b}g.isEmpty=function(){return 0==this.size};g.clear=function(){this.map_={};this.keys_.length=0;this.me(0);this.version_=0};
g.remove=function(a){return this.delete(a)};g.delete=function(a){return QN(this.map_,a)?(delete this.map_[a],this.me(this.size-1),this.version_++,this.keys_.length>2*this.size&&PN(this),!0):!1};function PN(a){if(a.size!=a.keys_.length){for(var b=0,c=0;b<a.keys_.length;){var d=a.keys_[b];QN(a.map_,d)&&(a.keys_[c++]=d);b++}a.keys_.length=c}if(a.size!=a.keys_.length){var e={};for(c=b=0;b<a.keys_.length;)d=a.keys_[b],QN(e,d)||(a.keys_[c++]=d,e[d]=1),b++;a.keys_.length=c}}
g.get=function(a,b){return QN(this.map_,a)?this.map_[a]:b};g.set=function(a,b){QN(this.map_,a)||(this.me(this.size+1),this.keys_.push(a),this.version_++);this.map_[a]=b};g.addAll=function(a){if(a instanceof ON)for(var b=a.getKeys(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.getKeys(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new ON(this)};g.keys=function(){return JN(this.ne(!0)).Xh()};
g.values=function(){return JN(this.ne(!1)).Xh()};g.entries=function(){const a=this;return zN(this.keys(),function(b){return[b,a.get(b)]})};g.ne=function(a){PN(this);var b=0,c=this.version_,d=this,e=new CN;e.Fg=function(){if(c!=d.version_)throw Error("The map has changed since the iterator was created");if(b>=d.keys_.length)throw AN;var f=d.keys_[b++];return a?f:d.map_[f]};return e};g.me=function(a){this.size=a};function QN(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function SN(a){this.map_=new ON;this.size=0;a&&this.addAll(a)}function TN(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ka(a):b.substr(0,1)+a}g=SN.prototype;g.getCount=function(){return this.map_.size};g.add=function(a){this.map_.set(TN(a),a);this.me(this.map_.size)};g.addAll=function(a){a=qb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c]);this.me(this.map_.size)};g.removeAll=function(a){a=qb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c]);this.me(this.map_.size)};
g.delete=function(a){a=this.map_.remove(TN(a));this.me(this.map_.size);return a};g.remove=function(a){return this.delete(a)};g.clear=function(){this.map_.clear();this.me(0)};g.isEmpty=function(){return 0===this.map_.size};g.has=function(a){return this.map_.containsKey(TN(a))};g.contains=function(a){return this.map_.containsKey(TN(a))};g.getValues=function(){return this.map_.getValues()};g.values=function(){return this.map_.values()};g.clone=function(){return new SN(this)};
g.equals=function(a){return this.getCount()==pb(a)&&UN(this,a)};function UN(a,b){var c=pb(b);if(a.getCount()>c)return!1;!(b instanceof SN)&&5<c&&(b=new SN(b));return tb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.zf&&"function"==typeof e.zf)d=e.zf(d);else if(ia(e)||"string"===typeof e)d=0<=Za(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})}g.ne=function(){return this.map_.ne(!1)};SN.prototype[Symbol.iterator]=function(){return this.values()};
SN.prototype.me=function(a){this.size=a};function VN(a,b){yM.call(this);this.Wi=a||0;this.Bg=b||10;if(this.Wi>this.Bg)throw Error(WN);this.Ud=new wN;this.ye=new SN;this.delay=0;this.zh=null;this.Zf()}ra(VN,yM);var WN="[goog.structs.Pool] Min can not be greater than max";g=VN.prototype;g.wg=function(){var a=Date.now();if(!(null!=this.zh&&a-this.zh<this.delay)){for(var b;0<this.Ud.getCount()&&(b=this.Ud.dequeue(),!this.Lh(b));)this.Zf();!b&&this.getCount()<this.Bg&&(b=this.rh());b&&(this.zh=a,this.ye.add(b));return b}};
function XN(a,b){return a.ye.remove(b)?(a.Ug(b),!0):!1}g.Ug=function(a){this.ye.remove(a);this.Lh(a)&&this.getCount()<this.Bg?this.Ud.enqueue(a):YN(a)};g.Zf=function(){for(var a=this.Ud;this.getCount()<this.Wi;)a.enqueue(this.rh());for(;this.getCount()>this.Bg&&0<this.Ud.getCount();)YN(a.dequeue())};g.rh=function(){return{}};function YN(a){if("function"==typeof a.dispose)a.dispose();else for(var b in a)a[b]=null}g.Lh=function(a){return"function"==typeof a.Uj?a.Uj():!0};
g.contains=function(a){return this.Ud.contains(a)||this.ye.contains(a)};g.getCount=function(){return this.Ud.getCount()+this.ye.getCount()};g.isEmpty=function(){return this.Ud.isEmpty()&&this.ye.isEmpty()};g.disposeInternal=function(){VN.Yd.disposeInternal.call(this);if(0<this.ye.getCount())throw Error("[goog.structs.Pool] Objects not released");delete this.ye;for(var a=this.Ud;!a.isEmpty();)YN(a.dequeue());delete this.Ud};function ZN(a,b){this.key_=a;this.value_=b}ZN.prototype.getKey=function(){return this.key_};ZN.prototype.getValue=function(){return this.value_};ZN.prototype.clone=function(){return new ZN(this.key_,this.value_)};function $N(a){this.bd=[];if(a)a:{if(a instanceof $N){var b=a.getKeys();a=a.getValues();if(0>=this.getCount()){for(var c=this.bd,d=0;d<b.length;d++)c.push(new ZN(b[d],a[d]));break a}}else b=Va(a),a=Ua(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=$N.prototype;g.insert=function(a,b){var c=this.bd;c.push(new ZN(a,b));a=c.length-1;b=this.bd;for(c=b[a];0<a;){var d=this.getParentIndex_(a);if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.bd,b=a.length,c=a[0];if(!(0>=b)){if(1==b)bb(a);else{a[0]=a.pop();a=0;b=this.bd;for(var d=b.length,e=b[a];a<d>>1;){var f=this.getLeftChildIndex_(a),h=this.getRightChildIndex_(a);f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.bd;if(0!=a.length)return a[0].getValue()};g.getLeftChildIndex_=function(a){return 2*a+1};g.getRightChildIndex_=function(a){return 2*a+2};
g.getParentIndex_=function(a){return a-1>>1};g.getValues=function(){for(var a=this.bd,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};g.getKeys=function(){for(var a=this.bd,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.zf=function(a){return ab(this.bd,function(b){return b.getValue()==a})};g.containsKey=function(a){return ab(this.bd,function(b){return b.getKey()==a})};g.clone=function(){return new $N(this)};g.getCount=function(){return this.bd.length};
g.isEmpty=function(){return 0===this.bd.length};g.clear=function(){bb(this.bd)};function aO(){$N.call(this)}ra(aO,$N);aO.prototype.enqueue=function(a,b){this.insert(a,b)};aO.prototype.dequeue=function(){return this.remove()};function bO(a,b){this.Ni=void 0;this.Sh=new aO;VN.call(this,a,b)}ra(bO,VN);g=bO.prototype;g.wg=function(){var a=bO.Yd.wg.call(this);a&&this.delay&&(this.Ni=ca.setTimeout(qa(this.wh,this),this.delay));return a};g.wh=function(){for(var a=this.Sh;0<a.getCount();){var b=this.wg();if(b)a.dequeue().apply(this,[b]);else break}};g.Ug=function(a){bO.Yd.Ug.call(this,a);this.wh()};g.Zf=function(){bO.Yd.Zf.call(this);this.wh()};
g.disposeInternal=function(){bO.Yd.disposeInternal.call(this);ca.clearTimeout(this.Ni);this.Sh.clear();this.Sh=null};function cO(a,b,c,d){this.vk=a;this.Xf=!!d;bO.call(this,b,c)}ra(cO,bO);cO.prototype.rh=function(){const a=new iN,b=this.vk;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.Xf&&a.setWithCredentials(!0);return a};cO.prototype.Lh=function(a){return!a.Xe&&!a.La};function dO(a){a=y(a);throw qm(y(fu.C(a)),R.B(a,fu));}var eO={};
function fO(a,b,c,d){if(r(dO)){var e=new Al(function(){var f=new Date,h=r(a)?a:"?",k=t.C(b),m=null==c?"\x3ctruss/nil\x3e":ol.I(M([c])),n=eO===d?null:d,p=new Al(function(){var v=r(n)?t.C(n):null;var z=["Invariant violation in `",t.C("taoensso.sente"),":",t.C(h),"`. Test form `",t.C(k),"` failed against input val `",t.C(m),"`."].join("");return kc(n)?z:[z," An error was thrown while evaluating test form: [",v,"]."].join("")}),u=function(){if(r(null))try{return null.P?null.P():null.call(null)}catch(v){if(v instanceof
Error)return new q(null,1,[um,v],null);throw v;}else return null}();return Uj([Zv,fu,Ny,qD,vl,jq,Kq,rx,Nu,Qz,AA,Mm],[null,p,null,f,c,"taoensso.sente",oc(c),n,!0,u,a,k])});return dO.C?dO.C(e):dO.call(null,e)}return null};var gO=new X(null,3,5,Z,[3,12,0],null);function hO(a){if(null==a||""===a)return null;if("string"===typeof a){var b=B.D(null,vv,In),c=B.D(null,lm,In);r(U.B?U.B(b,In):U.call(null,b,In))&&(b=y(wM),b=iO.B?iO.B(oe,b):iO.call(null,oe,b));c=r(U.B?U.B(c,In):U.call(null,c,In))?y(vM):c;c=Q.I(null,vv,b,M([lm,c]));return pM(c,a)}throw qm("`read-edn` attempt against non-nil, non-string arg",new q(null,2,[IA,a,oo,oc(a)],null));}var jO=new Al(function(){return oK});
function kO(a){var b=y(jO);return a instanceof b}function lO(a){if(null!=a&&(a.T&4096||l===a.bh)){var b=vg(a);a=sg(a);return r(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function mO(a){return"string"===typeof a?E.B(a,"")?null:a:null}function nO(a){return"number"===typeof a?eg(a):"string"===typeof a?(a=parseInt(a,10),r(isNaN(a))?null:a):null}
function oO(a){var b=lO(a);if(!r(b))throw qm(["`as-",vg(Mn),"` failed against: `",ol.I(M([a])),"`"].join(""),new q(null,2,[IA,a,oo,oc(a)],null));return b}function pO(a,b,c){return Wf(Hk(),Uf(function(d,e){var f=N(e,0,null);e=N(e,1,null);return a.D?a.D(d,f,e):a.call(null,d,f,e)},Tf),b,c)}function qO(a,b){return w.D(function(c,d){c=a.C?a.C(d):a.call(null,d);return r(c)?Ge(c):null},null,b)}
var rO=function rO(a){switch(arguments.length){case 1:return rO.C(arguments[0]);case 2:return rO.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};rO.C=function(a){return rO.B(a,null)};rO.B=function(a,b){var c=Zg(b),d=B.B(c,ru);b=B.B(c,Us);c=B.D(c,Rm,1E3);a=Math.pow(2,36<a?36:a);a=eg(.5*(a+Vl.C(a))*c);d=eg(r(d)?a<d?d:a:a);return eg(r(b)?d>b?b:d:d)};rO.aa=2;E.B("default","nodejs");var sO="undefined"!==typeof window?window:null;
function tO(a){a=lE(t.C(a),/-/,2);var b=N(a,0,null);a=N(a,1,null);b=Xk(/\d+/,b);b=r(b)?hi.B(nO,b):null;return new q(null,2,[$m,b,ZB,r(a)?a.toLowerCase():null],null)}
function uO(a){var b=N(gO,0,null),c=N(gO,1,null),d=N(gO,2,null),e=zf(a)?a:$m.C(tO(a));a=N(e,0,null);var f=N(e,1,null);e=N(e,2,null);e=hi.B(function(h){return r(h)?h:0},new X(null,3,5,Z,[a,f,e],null));a=N(e,0,null);f=N(e,1,null);e=N(e,2,null);if(!(b>a||E.B(b,a)&&(c>f||E.B(c,f)&&d>=e)))throw qm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new q(null,2,[aA,iE(".",new X(null,3,5,Z,[a,f,e],null)),Jo,iE(".",new X(null,3,5,Z,[b,
c,d],null))],null));}function vO(a,b){return Wa(a,vg(b),null)}function wO(a,b){return null==b?null==a?W:a:Q.D(a,"x-requested-with",b)}var xO=function xO(a){switch(arguments.length){case 3:return xO.D(arguments[0],arguments[1],arguments[2]);case 2:return xO.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(3),0,null);return xO.I(arguments[0],arguments[1],arguments[2],c)}};
xO.D=function(a,b,c){return S(a,b)?a:Q.D(a,b,c)};xO.I=function(a,b,c,d){return pO(xO,xO.D(a,b,c),d)};xO.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};xO.B=function(a,b){return Sf(function(c,d,e){return S(c,d)?c:Q.D(c,d,e)},null==a?W:a,b)};xO.aa=3;
var yO=function yO(a){switch(arguments.length){case 2:return yO.B(arguments[0],arguments[1]);case 3:return yO.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};yO.B=function(a,b){b=0>b?0:b;var c=K(a);return b>=c?jf:Ui(a,b,c)};yO.D=function(a,b,c){b=0>b?0:b;var d=eg(K(a));c=c>d?d:c;return b>=c?jf:Ui(a,b,c)};yO.aa=3;
var zO=function zO(a){switch(arguments.length){case 2:return zO.B(arguments[0],arguments[1]);case 3:return zO.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};zO.B=function(a,b){var c=K(a);return 0>b?(b+=c,Ui(a,0>b?0:b,c)):b>=c?jf:Ui(a,b,c)};zO.D=function(a,b,c){if(0>=c)return jf;var d=eg(K(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Ui(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?jf:Ui(a,b,d)};zO.aa=3;
function AO(a){return 1<K(a)?Ui(a,1,K(a)):jf}function BO(a,b){for(var c=jf;;){var d=G(b);b=H(d);if(d=J(d))c=hf.B(c,b),b=d;else return a.B?a.B(c,b):a.call(null,c,b)}}xh.B(w,V);function iO(a,b){b=Sf(function(c,d,e){return Ng(c,a.C?a.C(d):a.call(null,d),e)},Kg.C?Kg.C(W):Kg.call(null,W),b);return Lg.C?Lg.C(b):Lg.call(null,b)}function CO(a,b){b=Bk(kj(b));a=vf(a)?a:Bk(a);return XK(b,a)}
function DO(a,b,c,d){var e=G(b);if(e){b=Te(b,0);if(e=J(e))return Q.D(a,b,DO(B.B(a,b),e,c,d));if(r(U.B?U.B(d,Iu):U.call(null,d,Iu)))return R.B(a,b);c=B.D(a,b,c);d=d.C?d.C(c):d.call(null,c);return r(U.B?U.B(d,Iu):U.call(null,d,Iu))?R.B(a,b):Q.D(a,b,d)}return d.C?d.C(a):d.call(null,a)}function EO(a,b,c){return DO(a,b,null,function(d){return R.B(d,c)})}var FO={};
function GO(a,b){return w.D(function(c,d){return null==d?c:Sf(function m(f,h,k){var n=B.D(f,h,FO);if(n===FO)return Q.D(f,h,k);if(r(U.B?U.B(k,Iu):U.call(null,k,Iu)))return R.B(f,h);if(r(r(!1)?xf(k)&&xf(n):!1))return Q.D(f,h,Sf(m,n,k));k=a.B?a.B(n,k):a.call(null,n,k);return r(U.B?U.B(k,Iu):U.call(null,k,Iu))?R.B(f,h):Q.D(f,h,k)},r(c)?c:W,d)},null,b)}function HO(a){return GO(function(b,c){return c},a)}function IO(a,b){this.Kh=a;this.Th=b}
function JO(a,b,c){for(;;){var d=y(b);c=c.C?c.C(d):c.call(null,d);var e=c instanceof IO,f=e?c.Kh:c;Gh(b,f);return e?c.Th:a.B?a.B(d,f):a.call(null,d,f)}}
function KO(a,b,c,d){if(r(U.B?U.B(d,Iu):U.call(null,d,Iu)))for(;;){var e=y(b);d=R.B(e,c);Gh(b,d);b=B.D(e,c,null);c=Iu;return a.B?a.B(b,c):a.call(null,b,c)}else for(;;){e=y(b);var f=B.D(e,c,null),h=d.C?d.C(f):d.call(null,f),k=h instanceof IO,m=k?h.Kh:h;d=r(U.B?U.B(m,Iu):U.call(null,m,Iu))?R.B(e,c):Q.D(e,c,m);Gh(b,d);return k?h.Th:a.B?a.B(f,m):a.call(null,f,m)}}
function LO(a,b,c){var d=MO,e=G(b);if(e)if(J(e))if(r(U.B?U.B(c,Iu):U.call(null,c,Iu)))for(;;){var f=y(a);e=BO(function(n){return function(p,u){return EO(n,p,u)}}(f,e,e),b);Gh(a,e);a=li(f,b);b=Iu;return d.B?d.B(a,b):d.call(null,a,b)}else for(;;){f=y(a);var h=li(f,b);c=c.C?c.C(h):c.call(null,h);var k=c instanceof IO,m=k?c.Kh:c;e=r(U.B?U.B(m,Iu):U.call(null,m,Iu))?BO(function(n){return function(p,u){return EO(n,p,u)}}(f,h,c,k,m,e,e),b):mi(f,b,m);Gh(a,e);return k?c.Th:d.B?d.B(h,m):d.call(null,h,m)}else return KO(d,
a,Te(b,0),c);else return JO(d,a,c)}function MO(a,b){return b}function NO(a,b){return JO(MO,a,b)}function OO(a,b,c){return LO(a,b,c)}function PO(a){return a}function QO(a,b,c){a:{var d=G(b);if(d)if(J(d))for(;;){d=y(a);var e=mi(d,b,c);Gh(a,e);a=li(d,b);PO.B?PO.B(a,c):PO.call(null,a,c);break a}else b:for(b=Te(b,0);;){d=y(a);e=Q.D(d,b,c);Gh(a,e);a=B.D(d,b,null);PO.B?PO.B(a,c):PO.call(null,a,c);break b}else b:for(;;){b=y(a);Gh(a,c);PO.B?PO.B(b,c):PO.call(null,b,c);break b}}}
function RO(){return(new Date).getTime()}(function(){var a=vO(sO,"performance");if(r(a)){var b=function(){var c=vO(a,"now");if(r(c))return c;c=vO(a,"mozNow");if(r(c))return c;c=vO(a,"msNow");if(r(c))return c;c=vO(a,"oNow");return r(c)?c:vO(a,"webkitNow")}();return r(b)?function(){return 1E6*eg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();function SO(a,b){this.n=a;this.Jh=b}function TO(a,b){this.n=a;this.ai=b}
function UO(a,b,c){this.m=a;this.xj=b;this.ei=c}function VO(a){if(xf(a))return Sf(function(c,d,e){var f=N(e,0,null);e=N(e,1,null);return Q.D(c,d,new SO(f,e))},W,a);if(zf(a)){var b=Bh(-1);return w.D(function(c,d){var e=N(d,0,null),f=N(d,1,null);d=N(d,2,null);return Q.D(c,r(d)?d:b.ig(null,b.ic(null)+1),new SO(e,f))},W,a)}throw qm("`encore/cond!`: no matching clause",W);}
function WO(a){function b(f,h){var k=(new Date).getTime();kc(h)&&6.25E-5>=Math.random()&&(Gh(c,null),Ih.B(d,function(u){return Jd(Sf(function(v,z,C){C=Sf(function(F,I,O){var P=B.B(e,I);return r(P)?k>=O.ai+P.Jh?R.B(F,I):F:R.B(F,I)},C,C);return tf(C)?Ld(v,z):Kd(v,z,C)},Hd(r(u)?u:W),u))}));for(;;){var m=y(d),n=B.B(m,f),p=null==n?null:Sf(function(u,v,z,C,F,I){return function(O,P,T){var aa=B.B(I,P);if(r(aa)){if(T.n<aa.n)return O;T=T.ai+aa.Jh-z;return 0>=T?O:null==O?new UO(nf([P,T]),P,T):T>O.ei?new UO(Q.D(O.m,
P,T),P,T):new UO(Q.D(O.m,P,T),O.xj,O.ei)}return O}}(m,n,k,c,d,e),null,n);if(r(r(h)?h:p))return h=p,r(h)?(f=h,new X(null,3,5,Z,[f.xj,f.ei,f.m],null)):null;h=y(c);r(h)||(n=Sf(function(u,v,z,C,F){return function(I,O,P){var T=Q.D;var aa=B.B(z,O);if(r(aa)){var ea=aa.ai;P=F>=ea+P.Jh?new TO(1,F):new TO(aa.n+1,ea)}else P=new TO(1,F);return T.call(Q,I,O,P)}}(h,m,n,p,k,c,d,e),n,e),Gh(d,Q.D(m,f,n)));return null}}if(tf(a))return new X(null,2,5,Z,[null,vh(null)],null);var c=Fh(null),d=Fh(null),e=VO(a);return new X(null,
2,5,Z,[d,function(){function f(n,p){if(r(U.B?U.B(n,Jr):U.call(null,n,Jr)))return r(U.B?U.B(p,uz):U.call(null,p,uz))?Gh(d,null):Ih.D(d,R,p),null;if(r(U.B?U.B(n,NB):U.call(null,n,NB)))return b(p,!0);throw qm("Unrecognized rate limiter command",new q(null,2,[IA,n,gp,p],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,p){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,n,p)}throw Error("Invalid arity: "+
arguments.length);};m.P=k;m.C=h;m.B=f;return m}()],null)}
var XO=function(){function a(d){return new Pb(d)}function b(){return new Pb}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.P=b;c.C=a;return c}(),YO=function(){function a(e,f){e=e instanceof Pb?e:XO.C(t.C(e));f=t.C(f);return e.append(f)}function b(e){return e instanceof Pb?e:XO.C(t.C(e))}function c(){return XO.P()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.P=c;d.C=b;d.B=a;return d}();function ZO(a,b){if(r(r(" ")?ah.B(" ",""):" ")){var c=bi(),d=Uf(YO,t);return r(a)?Vf(wh.B(a,c),d,b):Vf(c,d,b)}return r(a)?Vf(a,Uf(YO,t),b):t.C(w.B(YO,b))}function $O(a,b){return ah.B(-1,a.indexOf(b))}
var aP=function aP(a){switch(arguments.length){case 2:return aP.B(arguments[0],arguments[1]);case 3:return aP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};aP.B=function(a,b){return a.substring(b)};aP.D=function(a,b,c){return b>=c?"":a.substring(b,c)};aP.aa=3;
var bP=function bP(a){switch(arguments.length){case 2:return bP.B(arguments[0],arguments[1]);case 3:return bP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};bP.B=function(a,b){return mO(a.substr(b))};bP.D=function(a,b,c){return mO(a.substr(b,c))};bP.aa=3;function cP(a){return void 0===a||null==a?"nil":a}
function dP(a){if(mE("/"))return t.C(w.D(YO,"",a));var b=Bh(!1),c=Bh(!0);return t.C(w.D(function(d,e){e=t.C(e);var f=E.B(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?ah.B(-1,e.indexOf("/",k-1)):null;var m=y(b),n=y(c);Wd(b,k);r(n)&&Wd(c,f);if(r(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||r(r(n)?n:f)||d.append("/");return d.append(e)},XO.P(),a))}
function eP(){function a(){return Wl(16).toString(16)}var b=(8|3&Wl(16)).toString(16);return[t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-4",t.C(a()),t.C(a()),t.C(a()),"-",t.C(b),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a())].join("")}hi.B(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var fP=function fP(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return fP.I(c)};fP.I=function(a){var b=Zg(a);a=B.B(b,tv);var c=B.B(b,Hu),d=B.B(b,av),e=B.B(b,Ez),f=B.B(b,op),h=B.B(b,vA),k=B.B(b,an),m=B.B(b,cA);b=B.B(b,Nq);return Math.round((r(b)?31536E6*b:0)+(r(e)?2551392E3*e:0)+(r(c)?6048E5*c:0)+(r(k)?864E5*k:0)+(r(m)?36E5*m:0)+(r(h)?6E4*h:0)+(r(f)?1E3*f:0)+(r(d)?d:0)+(r(a)?a:0))};fP.aa=0;fP.fa=function(a){return this.I(G(a))};
wh.B(function(a){return gg(eg(a),1E3)},fP);var gP=new Al(function(){return new cO});function hP(){var a=y(gP).wg();return void 0===a?null:a}
var iP="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},jP="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},kP=function(){function a(c,d){if(r(iP(d)))return new X(null,2,5,Z,[c,d],null);var e=(e="undefined"!==typeof FormData)?qO(jP,lj(d)):e;if(r(e)){e=new FormData;d=G(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.Da(null,k),n=N(m,0,null);m=N(m,1,null);e.append(vg(n),m);k+=1}else if(d=G(d))Af(d)?(h=Pd(d),d=Qd(d),f=
h,h=K(h)):(h=H(d),f=N(h,0,null),h=N(h,1,null),e.append(vg(f),h),d=J(d),f=null,h=0),k=0;else break;return new X(null,2,5,Z,[c,e],null)}return new X(null,2,5,Z,[c,b(d)],null)}var b=function(){function c(f,h){h=e.C(h);f=mE(h)?f:[t.C(f),"?",t.C(h)].join("");return new X(null,2,5,Z,[f,null],null)}function d(f){if(G(f)){var h=Ll(f);f=rb(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new Db(null,void 0);h=qb(h);for(var m=0;m<f.length;m++){var n=f[m],p=h[m];Array.isArray(p)?Ob(k,n,p):
k.add(n,p)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.C=d;e.B=c;return e}();return function(c,d,e){d=d instanceof D?d.ba:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",t.C(d)].join(""));}}}();
function lP(a,b,c){var d=Zg(b),e=B.D(d,Jq,fA);b=B.B(d,qq);var f=B.B(d,Cv),h=B.D(d,fw,1E4),k=B.D(d,AD,Ho),m=B.B(d,FD),n=hP();if(r(n))try{var p=function(){var O=Wz.C(d);return r(O)?O:h}(),u=function(){var O=e instanceof D?e.ba:null;switch(O){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",t.C(O)].join(""));}}(),v=kP(a,e,b),z=N(v,0,null),C=N(v,1,null),F=function(){var O=iO(function(P){return vg(P).toLowerCase()},f);O=wO(O,B.D(O,"x-requested-with",
"XMLHTTPRequest"));return Ll(O)}(),I=function(){var O=gq.C(d);return r(O)?(n.cj=!0,PM(n,"progress",function(P){var T=P.lengthComputable,aa=P.loaded,ea=P.total,va=r(r(T)?ah.B(ea,0):T)?aa/ea:null;P=new q(null,5,[Au,va,Up,T,zq,aa,Op,ea,dD,P],null);return O.C?O.C(P):O.call(null,P)})):null}();QM(n,"ready",function(){return XN(y(gP),n)});QM(n,"complete",function(O){var P=tN(n),T=sN(n),aa=ah.B(T,-1)?function(){var ua=n.getResponseHeader("content-type"),Ma=function(){if(ah.B(k,Ho))var pa=k;else null==ua?
pa=Hz:(pa=t.C(ua).toLowerCase(),pa=$O(pa,"/edn")?cr:$O(pa,"/json")?up:$O(pa,"/xml")?NA:Hz);try{var sa=pa instanceof D?pa.ba:null;switch(sa){case "edn":return hO(vN(n));case "json":if(n.La){b:{var Da=n.La.responseText;if(ca.JSON)try{var Ca=ca.JSON.parse(Da);break b}catch(wc){}Ca=cN(Da)}var Ea=Ca}else Ea=void 0;return Ea;case "xml":try{var eb=n.La?n.La.responseXML:null}catch(wc){eb=null}return eb;case "text":return vN(n);default:throw Error(["No matching clause: ",t.C(sa)].join(""));}}catch(wc){return new q(null,
2,[Cw,pa,Lt,vN(n)],null)}}();return new X(null,3,5,Z,[T,ua,Ma],null)}():null,ea=N(aa,0,null),va=N(aa,1,null);aa=N(aa,2,null);r(I)&&YM(I);O=new q(null,7,[Et,O,sA,n,uC,P,Ym,ea,mu,va,Pp,aa,ko,r(P)?null:r(ea)?ea:B.D(nf([0,null,5,tw,6,aC,7,Jv,8,Wz]),n.$e,SB)],null);return c.C?c.C(O):c.call(null,O)});n.Ng=Math.max(0,r(p)?p:0);r(m)&&n.setWithCredentials(!0);n.send(z,u,C,F);return n}catch(O){return a=O,XN(y(gP),n),a=new q(null,1,[ko,a],null),c.C?c.C(a):c.call(null,a),null}else return a=new q(null,1,[ko,Rn],
null),c.C?c.C(a):c.call(null,a),null}function mP(a){return r(a)?hE(encodeURIComponent(t.C(a),a),"*","%2A"):null}function nP(a,b){N(b,0,null);return r(a)?decodeURIComponent(t.C(a)):null}
function oP(a){function b(c,d){c=mP(oO(c));var e=lO(d);d=r(e)?e:t.C(d);return[c,"\x3d",mP(d)].join("")}return tf(a)?"":iE("\x26",function(){return function e(d){return new wg(null,function(){for(var f=d;;)if(f=G(f)){if(Af(f)){var h=Pd(f),k=K(h),m=Cg(k);return function(){for(var v=0;;)if(v<k){var z=x(h,v),C=N(z,0,null),F=N(z,1,null);if(null!=F){z=m;if(wf(F)){var I=hi;var O=I.B;C=xh.B(b,C);F=G(F);I=iE("\x26",O.call(I,C,F?F:new X(null,1,5,Z,[""],null)))}else I=b(C,F);z.add(I)}v+=1}else return!0}()?Eg(Gg(m),
e(Qd(f))):Eg(Gg(m),null)}var n=H(f),p=N(n,0,null),u=N(n,1,null);if(null!=u)return Ze(wf(u)?iE("\x26",hi.B(xh.B(b,p),function(){var v=G(u);return v?v:new X(null,1,5,Z,[""],null)}())):b(p,u),e(ve(f)));f=ve(f)}else return null},null,null)}(a)}())}function pP(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new se(b.slice(1),0,null):null;return qP(arguments[0],b)}
function qP(a,b){var c=N(b,0,null),d=N(b,1,null);if(mE(a)||!$O(a,"\x3d"))return W;a=0===a.indexOf("?")?lg.B(a,1):a;a=w.D(function(e,f){var h=lE(f,/=/,2);if(r(h)){f=N(h,0,null);h=N(h,1,null);f=nP(f,M([d]));var k=nP(h,M([d]));h=Q.D;var m=B.B(e,f);k=r(m)?zf(m)?hf.B(m,k):new X(null,2,5,Z,[m,k],null):k;return h.call(Q,e,f,k)}return e},W,kE(a,/&/));return r(c)?iO(ug,a):a}
function rP(a,b){var c=lE(t.C(a),/\?/,2);a=N(c,0,null);c=N(c,1,null);b=HO(M([r(c)?iO(ug,pP(c)):null,iO(ug,b)]));b=oP(b);b="string"===typeof b?mE(b)?null:b:null;return r(b)?[t.C(a),"?",b].join(""):a}function sP(){return!0}function tP(){return!1}function uP(a){return $O(a,"*")?Yk(hE(hE(["^",t.C(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function vP(a,b){for(;;){if(r(function(){var n=new xk(null,new q(null,2,["*",null,Iy,null],null),null);return n.C?n.C(a):n.call(null,a)}()))return sP;if(r(function(){var n=Jf([jf,zk,po]);return n.C?n.C(a):n.call(null,a)}()))return tP;if(a instanceof RegExp)return function(n){return function(p){return Vk(n,p)}}(a,b,sP,tP,uP);if("string"===typeof a){var c=uP(a);if(r(c)){var d=b;a=c;b=d}else return function(n){return function(p){return E.B(p,n)}}(a,b,c,sP,tP,uP)}else if(zf(a)||vf(a)){if(r(function(){var n=
Bk(a);return n.C?n.C("*"):n.call(null,"*")}()))return sP;if(E.B(K(a),1))c=H(a),d=b,a=c,b=d;else{var e=w.D(function(n,p,u,v,z){return function(C,F){var I=N(C,0,null);C=N(C,1,null);var O=F instanceof RegExp?F:z(F);return r(O)?new X(null,2,5,Z,[I,hf.B(C,O)],null):new X(null,2,5,Z,[hf.B(I,F),C],null)}}(a,b,sP,tP,uP),new X(null,2,5,Z,[zk,jf],null),a),f=N(e,0,null),h=N(e,1,null),k=bh(f),m=function(){var n=bh(h);return r(n)?(n=function(p,u,v,z,C,F,I,O,P,T,aa){return function(ea){return qO(function(){return function(va){return Vk(va,
ea)}}(p,u,v,z,C,F,I,O,P,T,aa),v)}}(a,b,n,n,e,f,h,k,sP,tP,uP),r(b)?Ul(n):n):null}();if(r(function(){var n=k;return r(n)?m:n}()))return function(n,p,u,v,z,C,F){return function(I){var O=C.C?C.C(I):C.call(null,I);return r(O)?O:F.C?F.C(I):F.call(null,I)}}(a,b,e,f,h,k,m,sP,tP,uP);if(r(k))return k;if(r(m))return m;throw qm("`encore/cond!`: no matching clause",W);}}else throw qm("Unexpected compile spec type",new q(null,2,[IA,a,oo,oc(a)],null));}}
function wP(a){for(;;){if(xf(a)){var b=B.B(a,Py),c=function(){var h=B.B(a,Kv);return r(h)?h:B.B(a,fv)}(),d=function(){var h=B.B(a,zo);return r(h)?h:B.B(a,kw)}(),e=function(){var h=c;return r(h)?vP(h,b):null}(),f=function(){var h=d;return r(h)?vP(h,b):null}();if(E.B(f,sP)||E.B(e,tP))return tP;if(r(function(){var h=e;return r(h)?f:h}()))return function(h,k,m,n,p,u){return function(v){v=t.C(v);return r(p.C?p.C(v):p.call(null,v))?r(u.C?u.C(v):u.call(null,v))?!1:!0:!1}}(a,b,c,d,e,f,sP,tP,uP,vP);if(r(e))return E.B(e,
sP)?sP:function(h,k,m,n,p){return function(u){u=t.C(u);u=p.C?p.C(u):p.call(null,u);return r(u)?!0:!1}}(a,b,c,d,e,f,sP,tP,uP,vP);if(r(f))return E.B(f,tP)?sP:function(h,k,m,n,p,u){return function(v){v=t.C(v);v=u.C?u.C(v):u.call(null,v);return r(v)?!0:!1}}(a,b,c,d,e,f,sP,tP,uP,vP);throw qm("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new q(null,2,[Ty,c,Xv,d],null));}a=new q(null,2,[Kv,a,zo,null],null)}}wh.B(bh,yO);wh.B(bh,zO);wh.B(mO,aP);wh.B(mO,bP);var xP={Cj:["BC","AD"],Bj:["Before Christ","Anno Domini"],Ej:"JFMAMJJASOND".split(""),Kj:"JFMAMJJASOND".split(""),Dj:"January February March April May June July August September October November December".split(" "),Jj:"January February March April May June July August September October November December".split(" "),Gj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Mj:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Pj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Oj:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ij:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Nj:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Vl:"SMTWTFS".split(""),Lj:"SMTWTFS".split(""),Hj:["Q1","Q2","Q3","Q4"],Fj:["1st quarter","2nd quarter","3rd quarter","4th quarter"],yj:["AM","PM"],fi:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],ji:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],zj:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],gi:6,Xl:[5,6],hi:5},yP=xP;
yP=xP;function zP(a,b,c,d,e){a=new Date(a,b,c);e=e||0;return a.valueOf()+864E5*(((void 0!==d?d:3)-e+7)%7-((a.getDay()+6)%7-e+7)%7)};function AP(){}
function BP(a){if("number"==typeof a){var b=new AP;b.rj=a;var c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",ob(c,2));c=d.join("")}b.Wh=c;c=a;0==c?c="UTC":(d=["UTC",0>c?"+":"-"],c=Math.abs(c),d.push(Math.floor(c/60)%100),c%=60,0!=c&&d.push(":",c),c=d.join(""));a=CP(a);b.$h=[c,c];b.Pe={Wl:a,ii:a};b.Og=[];return b}b=new AP;b.Wh=a.id;b.rj=-a.std_offset;b.$h=a.names;b.Pe=a.names_ext;b.Og=a.transitions;return b}
function CP(a){var b=["GMT"];b.push(0>=a?"+":"-");a=Math.abs(a);b.push(ob(Math.floor(a/60)%100,2),":",ob(a%60,2));return b.join("")}function DP(a,b){b=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5;for(var c=0;c<a.Og.length&&b>=a.Og[c];)c+=2;return 0==c?0:a.Og[c-1]}AP.prototype.getOffset=function(a){return this.rj-DP(this,a)};function EP(a){this.Hg=[];this.xb=yP;"number"==typeof a?FP(this,a):GP(this,a)}var HP=[/^'(?:[^']|'')*('|$)/,/^(?:G+|y+|Y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^'GyYMkSEahKHcLQdmsvVwzZ]+/];function IP(a){return a.getHours?a.getHours():0}
function GP(a,b){for(JP&&(b=b.replace(/\u200f/g,""));b;){const c=b;for(let d=0;d<HP.length;++d){const e=b.match(HP[d]);if(e){let f=e[0];b=b.substring(f.length);0==d&&("''"==f?f="'":(f=f.substring(1,"'"==e[1]?f.length-1:f.length),f=f.replace(/''/g,"'")));a.Hg.push({text:f,type:d});break}}if(c===b)throw Error("Malformed pattern part: "+b);}}
EP.prototype.format=function(a,b){if(!a)throw Error("The date to format must be non-null.");var c=b?6E4*(a.getTimezoneOffset()-b.getOffset(a)):0;let d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(d=new Date(d.getTime()+6E4*(d.getTimezoneOffset()-a.getTimezoneOffset())),e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));c=[];for(let f=0;f<this.Hg.length;++f){const h=this.Hg[f].text;1==this.Hg[f].type?c.push(KP(this,h,a,d,e,b)):c.push(h)}return c.join("")};
function FP(a,b){let c;if(4>b)c=a.xb.fi[b];else if(8>b)c=a.xb.ji[b-4];else if(12>b)c=a.xb.zj[b-8],c=c.replace("{1}",a.xb.fi[b-8]),c=c.replace("{0}",a.xb.ji[b-8]);else{FP(a,10);return}GP(a,c)}function LP(a,b){{b=String(b);const c=a.xb||yP;if(void 0!==c.Qj){a=[];for(let d=0;d<b.length;d++){const e=b.charCodeAt(d);a.push(48<=e&&57>=e?String.fromCharCode(c.Qj+e-48):b.charAt(d))}b=a.join("")}}return b}var JP=!1;
function MP(a){if(!(a.getHours&&a.getSeconds&&a.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.");}
function KP(a,b,c,d,e,f){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.xb.Bj[c]:a.xb.Cj[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),LP(a,ob(c,h));case "Y":return c=(new Date(zP(d.getFullYear(),d.getMonth(),d.getDate(),a.xb.hi,a.xb.gi))).getFullYear(),0>c&&(c=-c),2==h&&(c%=100),LP(a,ob(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:h=a.xb.Ej[c];break a;case 4:h=a.xb.Dj[c];break a;case 3:h=a.xb.Gj[c];break a;default:h=LP(a,ob(c+1,h))}return h;
case "k":return MP(e),LP(a,ob(IP(e)||24,h));case "S":return LP(a,(e.getMilliseconds()/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?ob(0,h-3):""));case "E":return c=d.getDay(),4<=h?a.xb.Pj[c]:a.xb.Ij[c];case "a":return MP(e),h=IP(e),a.xb.yj[12<=h&&24>h?1:0];case "h":return MP(e),LP(a,ob(IP(e)%12||12,h));case "K":return MP(e),LP(a,ob(IP(e)%12,h));case "H":return MP(e),LP(a,ob(IP(e),h));case "c":a:switch(c=d.getDay(),h){case 5:h=a.xb.Lj[c];break a;case 4:h=a.xb.Oj[c];break a;case 3:h=a.xb.Nj[c];break a;
default:h=LP(a,ob(c,1))}return h;case "L":a:switch(c=d.getMonth(),h){case 5:h=a.xb.Kj[c];break a;case 4:h=a.xb.Jj[c];break a;case 3:h=a.xb.Mj[c];break a;default:h=LP(a,ob(c+1,h))}return h;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.xb.Hj[c]:a.xb.Fj[c];case "d":return LP(a,ob(d.getDate(),h));case "m":return MP(e),LP(a,ob(e.getMinutes(),h));case "s":return MP(e),LP(a,ob(e.getSeconds(),h));case "v":return h=f||BP(c.getTimezoneOffset()),h.Wh;case "V":return a=f||BP(c.getTimezoneOffset()),2>=h?
h=a.Wh:(h=a,h=0<DP(h,c)?void 0!==h.Pe.Aj?h.Pe.Aj:h.Pe.DST_GENERIC_LOCATION:void 0!==h.Pe.ii?h.Pe.ii:h.Pe.STD_GENERIC_LOCATION),h;case "w":return c=zP(e.getFullYear(),e.getMonth(),e.getDate(),a.xb.hi,a.xb.gi),LP(a,ob(Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,h));case "z":return a=f||BP(c.getTimezoneOffset()),4>h?a.$h[0<DP(a,c)?2:0]:a.$h[0<DP(a,c)?3:1];case "Z":return b=f||BP(c.getTimezoneOffset()),4>h?(h=-b.getOffset(c),a=[0>h?"-":"+"],h=Math.abs(h),
a.push(ob(Math.floor(h/60)%100,2),ob(h%60,2)),h=a.join("")):h=LP(a,CP(b.getOffset(c))),h;default:return""}};function NP(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new se(b.slice(0),0,null):null;return OP(b)}function OP(a){N(a,0,null);return new q(null,6,[$r,!0,Cx,!1,mD,null,ey,null,Mp,eu,ZC,function(b){b=Zg(b);b=B.B(b,Uu);b=M([El(b)]);var c=Q.D(Zb(),ac,!1);bl(ll(b,c));return r(Vb)?nl():null}],null)}
function PP(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new se(b.slice(0),0,null):null;return QP(b)}
function QP(a){N(a,0,null);return new q(null,6,[$r,!0,Cx,!1,mD,null,ey,null,Mp,eu,ZC,"undefined"===typeof console?function(){return null}:function(){function b(c){var d=function(){var e=c instanceof D?c.ba:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.C(e)].join(""));
}}();return r(d)?d:console.log}return function(c){var d=b(wm.C(c));if(r(d)){if(r(function(){var h=B.B(c,sw);return r(h)?h:ki(c,new X(null,2,5,Z,[tt,sw],null))}())){var e=function(){var h=Q.I(c,fu,"",M([rx,null])),k=Mp.C(c);return k.C?k.C(h):k.call(null,h)}(),f=function(){var h=GC.C(c),k=rx.C(c);return r(k)?Ze(e,Ze(k,h)):Ze(e,h)}();return d.apply(console,xc(f))}return d.call(console,El(Uu.C(c)))}return null}}()],null)};zf(gO)?uO(new X(null,3,5,Z,[2,126,2],null)):uO(2.126);var RP=new q(null,1,[bD,jp],null),SP=function SP(a){switch(arguments.length){case 1:return SP.C(arguments[0]);case 2:return SP.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};SP.C=function(a){return SP.B(null,a)};
SP.B=function(a,b){var c=Zg(a),d=B.B(c,Hx);B.B(c,KC);var e=Zg(b);b=B.B(e,wm);c=B.B(e,rx);var f=B.B(e,fu),h=B.B(e,Mo),k=B.B(e,Js);B.B(e,Tq);var m=B.B(e,XC);e=B.B(e,AA);m=El(m);return[r(m)?[t.C(m)," "].join(""):null,vg(b).toUpperCase()," [",t.C(r(h)?h:r(k)?k:"?"),":",t.C(r(e)?e:"?"),"] - ",t.C(El(f)),r(d)?null:r(c)?["\n",t.C(TP?TP(c,a):UP.call(null,c,a))].join(""):null].join("")};SP.aa=2;
var VP=new q(null,6,[mD,DB,BB,new xk(null,new q(null,1,["*",null],null),null),Ur,jf,xr,RP,Mp,SP,KB,"undefined"!==typeof window?new q(null,1,[fD,PP.C?PP.C(W):PP.call(null,W)],null):new q(null,1,[lr,NP.C?NP.C(W):NP.call(null,W)],null)],null);function WP(a){switch(a instanceof D?a.ba:null){case "trace":return 0;case "debug":return 1;case "info":return 2;case "warn":return 3;case "error":return 4;case "fatal":return 5;case "report":return 6;default:return null}}
function XP(a){if(r(WP(a)))return a;throw qm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[IA,a,oo,oc(a)],null));}function YP(a){var b=WP(a);if(r(b))return b;throw qm("Invalid Timbre logging level: should be e/o #{:trace :debug :info :warn :error :fatal :report}",new q(null,2,[IA,a,oo,oc(a)],null));}function ZP(a,b){return(YP.C?YP.C(a):YP.call(null,a))>=(YP.C?YP.C(b):YP.call(null,b))}
var $P=Ul(function(a){return wP(a)}),aQ=Ul(function(a,b){a=$P(a);return a.C?a.C(b):a.call(null,b)});function bQ(a,b){a=r(of.C?of.C(a):of.call(null,a))?a.C?a.C(b):a.call(null,b):aQ(a,b);return r(a)?!0:!1}var cQ=Ul(function(a,b){return qO(function(c){var d=N(c,0,null);c=N(c,1,null);return r(aQ(d,b))?XP(c):null},a)});function dQ(a,b,c){b=zf(b)?cQ(b,c):b;a=r(b)?b:a;return XP.C?XP.C(a):XP.call(null,a)}
function eQ(a){if(r(a)){var b=Jf([jf,zk]);b=b.C?b.C(a):b.call(null,a);a=r(b)?null:a}else a=null;return a}function fQ(a,b){a=eQ(a);b=eQ(b);return r(r(a)?a:b)?new q(null,2,[Kv,a,zo,b],null):null}
function gQ(a,b,c){var d=r(c)?c:VP;c=function(){var e=B.B(d,mD);e=r(e)?e:B.B(d,wm);return dQ.D?dQ.D(a,e,"taoensso.sente"):dQ.call(null,a,e,"taoensso.sente")}();return r(ZP.B?ZP.B(b,c):ZP.call(null,b,c))?(b=function(){var e=B.B(d,BB);if(r(e))return e;e=B.B(d,Tv);var f=B.B(d,ho);return fQ.B?fQ.B(e,f):fQ.call(null,e,f)}(),r(b)?r(bQ.B?bQ.B(b,"taoensso.sente"):bQ.call(null,b,"taoensso.sente"))?!0:!1:!0):!1}function hQ(a){return ZO(Rh.C(function(b){b=cP(b);return yf(b)?ol.I(M([b])):b}),a)}
var iQ=Ul(function(a,b){a=WO(b);N(a,0,null);return N(a,1,null)});
function jQ(a){var b=U.B?U.B(Ho,Ho):U.call(null,Ho,Ho),c=U.B?U.B(fB,fB):U.call(null,fB,fB),d=N(a,0,null);if(r(r(b)?d instanceof Error:b)){var e=d,f=null,h=AO(a);a=r(c)?N(h,0,null):null;c=r(c)?AO(h):h;return new X(null,4,5,Z,[e,f,a,c],null)}f=r(function(){var m=xf(d);return m?bc.C(rf(d)):m}())?d:null;e=function(){var m=Xx.C(f);return r(m)?m:r(b)?null:Ho}();var k=R.B(f,Xx);h=r(k)?AO(a):a;a=r(c)?N(h,0,null):null;c=r(c)?AO(h):h;return new X(null,4,5,Z,[e,k,a,c],null)}
function kQ(a,b,c,d){if(gQ(Qv,a,VP)){var e=new Date;c=y(c);c=jQ(c);var f=N(c,0,null),h=N(c,1,null),k=N(c,2,null);c=N(c,3,null);e=hf.B(r(null)?null:W,Uj([wy,Eu,Vu,GC,Js,xq,Mo,wm,rx,UC,AA,ym,tt,Wq],[e,null,VP,c,null,function(){var z=new xk(null,new q(null,2,[dy,null,ex,null],null),null);return z.C?z.C(a):z.call(null,a)}(),"taoensso.sente",a,f,null,b,new Al(function(){return f}),h,k]));e=w.D(function(z,C){z=C.C?C.C(z):C.call(null,z);return null==z?Ge(null):z},e,Ur.C(VP));if(r(e)){c=Zg(e);var m=B.B(c,
GC);e=Q.D(e,rn,new Al(function(){return m}));var n=xO.I(e,fu,new Al(function(){if(E.B(null,fB))return"";if(E.B(oB,fB))return hQ(m);if(E.B(fB,fB)){if("string"!==typeof k)throw qm("Timbre format-style logging call without a format pattern (string)",new q(null,2,[wm,a,or,[t.C(r("taoensso.sente")?"taoensso.sente":r(null)?null:"?"),":",t.C(r(b)?b:"?")].join("")],null));var z=r(k)?k:"",C=hi.B(cP,m);return Vg(xM,z,C)}throw Error(["No matching clause: ",t.C(fB)].join(""));}),M([Fs,new Al(function(){return ke(new X(null,
3,5,Z,[d,k,B.D(h,iD,m)],null))})])),p=Ul(B.D(VP,Mp,SP)),u=hf.B(RP,B.B(VP,xr)),v=Ul(function(z){return new Al(function(){var C=B.B(n,wy),F=Zg(z);F=B.B(F,bD);return r(U.B?U.B(F,jp):U.call(null,F,jp))?(new Date(C)).toISOString():(new EP(F)).format(C)})});Sf(function(z,C,F){if(r(function(){var ea=$r.C(F);return r(ea)?gQ(Ir,a,F):ea}())){var I=ey.C(F);if(function(){var ea=tf(I);if(ea)return ea;ea=iQ(C,I);var va=El(Fs.C(n));ea=ea.C?ea.C(va):ea.call(null,va);return kc(ea)}()){var O=Zg(F);z=B.B(O,ZC);B.B(O,
Cx);var P=function(){var ea=Mp.C(F);var va=(va=null==ea)?va:U.B?U.B(ea,eu):U.call(null,ea,eu);return r(va)?p:ea}(),T=function(){var ea=xr.C(F);var va=(va=null==ea)?va:U.B?U.B(ea,eu):U.call(null,ea,eu);return r(va)?v(u):v(hf.B(u,ea))}(),aa=hf.B(n,new q(null,5,[dw,C,yt,F,Mp,P,Uu,new Al(function(){var ea=Q.D(n,XC,T);return P.C?P.C(ea):P.call(null,ea)}),XC,T],null));O=function(){var ea=uv.C(F);return r(ea)?ea.C?ea.C(aa):ea.call(null,aa):aa}();return r(O)?z.C?z.C(O):z.call(null,O):null}}return null},null,
KB.C(VP))}}return null}function UP(a){switch(arguments.length){case 1:return TP(arguments[0],null);case 2:return TP(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function TP(a){var b=a.stack;return r(b)?b:t.C(a)};function lQ(a,b){if(null!=a&&null!=a.tj)a=a.tj(a,b);else{var c=lQ[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=lQ._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IPacker.pack",a);}return a}function mQ(a,b){if(null!=a&&null!=a.uj)a=a.uj(a,b);else{var c=mQ[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=mQ._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IPacker.unpack",a);}return a};zf(gO)?uO(new X(null,3,5,Z,[2,105,0],null)):uO(2.105);var nQ=E.B("default","nodejs"),oQ=Fh(!1);function pQ(a,b){return new q(null,2,[jv,a,gx,new q(null,2,[oo,oc(b),Wr,b],null)],null)}
function qQ(a){if(zf(a)){var b=K(a);var c=new xk(null,new q(null,2,[1,null,2,null],null),null);b=c.C?c.C(b):c.call(null,b);if(kc(b))return new q(null,1,[SA,pQ(new xk(null,new q(null,2,[1,null,2,null],null),null),a)],null);b=N(a,0,null);N(a,1,null);return b instanceof D?kc(sg(b))?new q(null,1,[Yp,pQ(fy,b)],null):null:new q(null,1,[Fn,pQ(bE,b)],null)}return new q(null,1,[EB,pQ(fs,a)],null)}function rQ(a){var b=qQ(a);if(r(b))throw qm("Invalid event",new q(null,2,[IA,a,gv,b],null));}
function sQ(a,b){var c=0===b.indexOf("+"),d=lg.B(b,1),e=function(){try{return mQ(a,d)}catch(m){var k=m;kQ(DB,215,new Al(function(){return new X(null,3,5,Z,["Bad package: %s (%s)",d,k],null)}),727588322);return new X(null,2,5,Z,[Ds,d],null)}}();c=c?e:new X(null,2,5,Z,[e,null],null);var f=N(c,0,null);c=N(c,1,null);var h=E.B(0,c)?jB:c;kQ(Ir,221,new Al(function(){return new X(null,3,5,Z,["Unpacking: %s -\x3e %s",b,new X(null,2,5,Z,[f,h],null)],null)}),-1169299320);return new X(null,2,5,Z,[f,h],null)}
function tQ(a,b,c){c=E.B(c,jB)?0:c;var d=r(c)?new X(null,2,5,Z,[b,c],null):new X(null,1,5,Z,[b],null),e=["+",t.C(lQ(a,d))].join("");kQ(Ir,237,new Al(function(){return new X(null,3,5,Z,["Packing (wrapped): %s -\x3e %s",d,e],null)}),-897241692);return e}function uQ(){}uQ.prototype.tj=function(a,b){a:{a=Yb;var c=Xb;Xb=Yb=null;try{var d=ol.I(M([b]));break a}finally{Xb=c,Yb=a}d=void 0}return d};uQ.prototype.uj=function(a,b){return hO(b)};var vQ=new uQ;function wQ(a){return E.B(a,cr)?vQ:a}
function xQ(a){if(null!=a&&null!=a.hf)a=a.hf(a);else{var b=xQ[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=xQ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IChSocket.-chsk-connect!",a);}return a}function yQ(a,b){if(null!=a&&null!=a.Mg)a=a.Mg(a,b);else{var c=yQ[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=yQ._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IChSocket.-chsk-disconnect!",a);}return a}
function zQ(a,b,c){if(null!=a&&null!=a.Uf)a=a.Uf(a,b,c);else{var d=zQ[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=zQ._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IChSocket.-chsk-send!",a);}return a}
var AQ=function AQ(a){switch(arguments.length){case 2:return AQ.B(arguments[0],arguments[1]);case 4:return AQ.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return AQ.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};AQ.B=function(a,b){return AQ.D(a,b,W)};AQ.R=function(a,b,c,d){return AQ.D(a,b,new q(null,2,[fw,c,CD,d],null))};
AQ.D=function(a,b,c){kQ(Ir,904,new Al(function(){return new X(null,3,5,Z,["Chsk send: (%s) %s",Q.D(c,CD,Ff(CD.C(c))),b],null)}),1131993494);return zQ(a,b,c)};AQ.aa=4;function BQ(a){kQ(LC,908,new Al(function(){return new X(null,1,5,Z,["Chsk send against closed chsk."],null)}),2066204700);r(a)&&(a.C?a.C(XD):a.call(null,XD));return!1}function CQ(a,b){return r(b)?OO(a,new X(null,1,5,Z,[b],null),function(c){return new IO(Iu,c)}):null}
function DQ(a,b){var c=NO(qC.C(a),function(e){var f=b.C?b.C(e):b.call(null,e);f=r(Fw.C(e))?Q.D(f,Fw,!1):f;f=r(Ps.C(f))?R.B(f,LA):f;return new IO(f,new X(null,2,5,Z,[e,f],null))}),d=N(c,0,null);c=N(c,1,null);return ah.B(d,c)?(d=new X(null,2,5,Z,[d,c],null),JK(ki(a,new X(null,2,5,Z,[zB,lw],null)),new X(null,2,5,Z,[ip,d],null)),d):null}function EQ(a,b){var c=Ps.C(a);c=r(c)?c:ah.B(b,My);return r(c)?Q.I(R.B(a,LA),Ps,!1,M([nB,new q(null,2,[ln,RO(),ND,b],null)])):a}
function FQ(a,b){if(null==a||Gf(a))return a;rQ(b);var c=N(b,0,null);N(b,1,null);return function(d){return JK(a,new X(null,2,5,Z,[ug.C([oO(c),".cb"].join("")),d],null))}}
function GQ(a,b){kQ(Ir,982,new Al(function(){return new X(null,2,5,Z,["receive-buffered-evs!: %s",b],null)}),-1027529554);for(var c=G(b),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);rQ(h);N(h,0,null);JK(ay.C(a),h);f+=1}else if(c=G(c))d=c,Af(d)?(c=Pd(d),e=Qd(d),d=c,h=K(c),c=e,e=h):(h=H(d),rQ(h),N(h,0,null),JK(ay.C(a),h),c=J(d),d=null,e=0),f=0;else return null}function HQ(a){var b=zf(a);return b?(a=N(a,0,null),E.B(a,ED)):b}
function IQ(a,b,c){kQ(Ir,997,new Al(function(){return new X(null,3,5,Z,["receive-handshake! (%s): %s",a,c],null)}),1298654105);N(c,0,null);var d=N(c,1,null),e=N(d,0,null);N(d,1,null);var f=N(d,2,null),h=Zg(b);d=B.B(h,zB);h=B.B(h,dt);h=Jh(h);var k=new q(null,6,[oo,a,Ps,!0,vz,!0,Jn,e,Wn,f,Fw,h],null);e=new X(null,2,5,Z,[ED,new X(null,4,5,Z,[e,null,f,h],null)],null);rQ(e);DQ(b,function(m){return sk.I(M([m,k]))});JK(dp.C(d),e)}
var JQ=function(){var a="undefined"!==typeof require?require:vh(wp);return new Al(function(){if(nQ&&"undefined"!==typeof require)try{var b=[t.C("web"),"socket"].join("");return a.C?a.C(b):a.call(null,b)}catch(c){return null}else return null})}();
function KQ(a){a=Zg(a);B.B(a,rA);B.B(a,jo);B.B(a,Wu);B.B(a,Vo);B.B(a,Cv);var b=Zg(a);a=B.B(b,rA);var c=B.B(b,jo),d=B.B(b,Wu),e=B.B(b,Vo);B.B(b,Cv);b=vO(ca,"WebSocket");r(b)||(b=vO(ca,"MozWebSocket"),b=r(b)?b:vO(y(JQ),"w3cwebsocket"));r(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function LQ(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,F,I,O){this.Ka=a;this.Ja=b;this.params=c;this.headers=d;this.Ia=e;this.url=f;this.Cb=h;this.state_=k;this.Ga=m;this.zb=n;this.Ma=p;this.Ha=u;this.nb=v;this.qb=z;this.sb=C;this.G=F;this.F=I;this.J=O;this.O=2230716170;this.T=139264}g=LQ.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "client-id":return this.Ka;case "chs":return this.Ja;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Ia;case "url":return this.url;case "ws-kalive-ms":return this.Cb;case "state_":return this.state_;case "instance-handle_":return this.Ga;case "retry-count_":return this.zb;case "ever-opened?_":return this.Ma;case "backoff-ms-fn":return this.Ha;case "cbs-waiting_":return this.nb;case "socket_":return this.qb;
case "udt-last-comms_":return this.sb;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,V.B(new X(null,15,5,Z,[new X(null,2,5,Z,[hq,this.Ka],null),new X(null,2,5,Z,[zB,this.Ja],null),new X(null,2,5,Z,[qq,this.params],null),new X(null,2,5,Z,[Cv,this.headers],null),new X(null,2,5,Z,[jt,this.Ia],null),new X(null,2,5,Z,[Ws,this.url],null),new X(null,2,5,Z,[ps,this.Cb],null),new X(null,2,5,Z,[qC,this.state_],null),new X(null,2,5,Z,[Yo,this.Ga],null),new X(null,2,5,Z,[Nz,this.zb],
null),new X(null,2,5,Z,[dt,this.Ma],null),new X(null,2,5,Z,[TC,this.Ha],null),new X(null,2,5,Z,[Es,this.nb],null),new X(null,2,5,Z,[Mt,this.qb],null),new X(null,2,5,Z,[lq,this.sb],null)],null),this.F))};g.qa=function(){return new ej(this,15,new X(null,15,5,Z,[hq,zB,qq,Cv,jt,Ws,ps,qC,Yo,Nz,dt,TC,Es,Mt,lq],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,this.J)};g.la=function(){return 15+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1998688700^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Ka,b.Ka)&&E.B(this.Ja,b.Ja)&&E.B(this.params,b.params)&&E.B(this.headers,b.headers)&&E.B(this.Ia,b.Ia)&&E.B(this.url,b.url)&&E.B(this.Cb,b.Cb)&&E.B(this.state_,b.state_)&&E.B(this.Ga,b.Ga)&&E.B(this.zb,b.zb)&&E.B(this.Ma,b.Ma)&&E.B(this.Ha,b.Ha)&&E.B(this.nb,b.nb)&&E.B(this.qb,b.qb)&&E.B(this.sb,b.sb)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,15,[ps,null,dt,null,hq,null,jt,null,zB,null,lq,null,qq,null,Nz,null,Cv,null,TC,null,Mt,null,Ws,null,Yo,null,Es,null,qC,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "client-id":case "chs":case "params":case "headers":case "packer":case "url":case "ws-kalive-ms":case "state_":case "instance-handle_":case "retry-count_":case "ever-opened?_":case "backoff-ms-fn":case "cbs-waiting_":case "socket_":case "udt-last-comms_":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(hq,b):U.call(null,hq,b))?new LQ(c,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(zB,b):U.call(null,zB,b))?new LQ(this.Ka,c,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(qq,b):U.call(null,qq,b))?new LQ(this.Ka,this.Ja,c,this.headers,this.Ia,this.url,this.Cb,
this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(Cv,b):U.call(null,Cv,b))?new LQ(this.Ka,this.Ja,this.params,c,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(jt,b):U.call(null,jt,b))?new LQ(this.Ka,this.Ja,this.params,this.headers,c,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(Ws,b):U.call(null,Ws,b))?new LQ(this.Ka,
this.Ja,this.params,this.headers,this.Ia,c,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(ps,b):U.call(null,ps,b))?new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,c,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(qC,b):U.call(null,qC,b))?new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,c,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,
this.F,null):r(U.B?U.B(Yo,b):U.call(null,Yo,b))?new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,c,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(Nz,b):U.call(null,Nz,b))?new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,c,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(dt,b):U.call(null,dt,b))?new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,
this.state_,this.Ga,this.zb,c,this.Ha,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(TC,b):U.call(null,TC,b))?new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,c,this.nb,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(Es,b):U.call(null,Es,b))?new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,c,this.qb,this.sb,this.G,this.F,null):r(U.B?U.B(Mt,b):U.call(null,Mt,b))?new LQ(this.Ka,
this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,c,this.sb,this.G,this.F,null):r(U.B?U.B(lq,b):U.call(null,lq,b))?new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,c,this.G,this.F,null):new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,15,5,Z,[new Y(hq,this.Ka,null),new Y(zB,this.Ja,null),new Y(qq,this.params,null),new Y(Cv,this.headers,null),new Y(jt,this.Ia,null),new Y(Ws,this.url,null),new Y(ps,this.Cb,null),new Y(qC,this.state_,null),new Y(Yo,this.Ga,null),new Y(Nz,this.zb,null),new Y(dt,this.Ma,null),new Y(TC,this.Ha,null),new Y(Es,this.nb,null),new Y(Mt,this.qb,null),new Y(lq,this.sb,null)],null),this.F))};
g.ha=function(a,b){return new LQ(this.Ka,this.Ja,this.params,this.headers,this.Ia,this.url,this.Cb,this.state_,this.Ga,this.zb,this.Ma,this.Ha,this.nb,this.qb,this.sb,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.Mg=function(a,b){Gh(this.Ga,null);DQ(this,function(c){return EQ(c,b)});a=y(this.qb);return r(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.Uf=function(a,b,c){var d=this;a=Zg(c);var e=B.B(a,fw);c=B.B(a,CD);B.B(a,Yw);rQ(b);var f=FQ(c,b);if(kc(Ps.C(y(d.state_))))return BQ(f);var h=r(f)?bP.D(eP(),0,6):null;b=tQ(d.Ia,b,h);if(r(h)&&(QO(d.nb,new X(null,1,5,Z,[h],null),f),r(e))){var k=HK(1,null);hK(function(){var n=function(){function u(v){var z=v[1];if(1===z)return z=yK(e),DK(v,2,z);if(2===z){z=v[2];var C=CQ(d.nb,h);v[7]=C;v[8]=z;v[1]=r(C)?3:4;return Wv}return 3===z?(z=v[7],z=z.C?z.C(hn):z.call(null,hn),v[2]=z,v[1]=5,Wv):4===z?(v[2]=null,
v[1]=5,Wv):5===z?FK(v,v[2]):null}return function(){function v(F){for(;;){a:try{for(;;){var I=u(F);if(!U(I,Wv)){var O=I;break a}}}catch(P){O=P;F[2]=O;if(G(F[4]))F[1]=H(F[4]);else throw O;O=Wv}if(!U(O,Wv))return O}}function z(){var F=[null,null,null,null,null,null,null,null,null];F[0]=C;F[1]=1;return F}var C=null;C=function(F){switch(arguments.length){case 0:return z.call(this);case 1:return v.call(this,F)}throw Error("Invalid arity: "+arguments.length);};C.P=z;C.C=v;return C}()}(),p=function(){var u=
n();u[6]=k;return u}();return CK(p)})}try{return y(d.qb).send(b),Gh(d.sb,RO()),mv}catch(n){var m=n;kQ(ex,1155,new Al(function(){return new X(null,2,5,Z,[m,"Chsk send error"],null)}),-536203958);r(h)&&(b=function(){var p=CQ(d.nb,h);return r(p)?p:f}(),b.C?b.C(vm):b.call(null,vm));return!1}};
g.hf=function(){function a(){return E.B(y(b.Ga),d)}var b=this,c=this,d=Gh(b.Ga,eP()),e=b.Cb;if(r(e)){var f=HK(1,null);hK(function(){var h=function(){function m(n){var p=n[1];if(7===p)return n[2]=n[2],n[1]=3,Wv;if(1===p)return n[2]=null,n[1]=2,Wv;if(4===p){p=n[2];var u=a();n[7]=p;n[1]=u?5:6;return Wv}return 6===p?(n[2]=null,n[1]=7,Wv):3===p?FK(n,n[2]):2===p?(p=y(b.sb),u=yK(e),n[8]=p,DK(n,4,u)):9===p?(n[2]=null,n[1]=10,Wv):5===p?(p=n[8],u=y(b.sb),p=E.B(p,u),n[1]=p?8:9,Wv):10===p?(n[9]=n[2],n[2]=null,
n[1]=2,Wv):8===p?(p=new X(null,1,5,Z,[Hw],null),u=Uj([Yw],[!0]),p=c.Uf(null,p,u),n[2]=p,n[1]=10,Wv):null}return function(){function n(v){for(;;){a:try{for(;;){var z=m(v);if(!U(z,Wv)){var C=z;break a}}}catch(F){C=F;v[2]=C;if(G(v[4]))v[1]=H(v[4]);else throw C;C=Wv}if(!U(C,Wv))return C}}function p(){var v=[null,null,null,null,null,null,null,null,null,null];v[0]=u;v[1]=1;return v}var u=null;u=function(v){switch(arguments.length){case 0:return p.call(this);case 1:return n.call(this,v)}throw Error("Invalid arity: "+
arguments.length);};u.P=p;u.C=n;return u}()}(),k=function(){var m=h();m[6]=f;return m}();return CK(k)})}Gh(b.zb,0);(function k(){if(a()){var m=function(){if(a()){var C=Ih.B(b.zb,Ee),F=b.Ha.C?b.Ha.C(C):b.Ha.call(null,C),I=RO()+F;kQ(LC,1174,new Al(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",C,F],null)}),1363174849);ca.setTimeout(k,F);return DQ(c,function(O){return Q.D(O,LA,I)})}return null},n=function(C){kQ(ex,1187,new Al(function(){var F=Z;try{var I=
Pl(C)}catch(O){I=C}return new X(null,2,5,F,["WebSocket error: %s",I],null)}),-958498094);return DQ(c,function(F){return Q.D(F,zy,new q(null,2,[ln,RO(),dD,C],null))})},p=function(C){C=vO(C,"data");C=sQ(b.Ia,C);var F=N(C,0,null);C=N(C,1,null);Gh(b.sb,RO());if(HQ(F)){IQ(zx,c,F);Gh(b.zb,0);var I=dx}else I=null;if(r(I))return I;E.B(F,Hw)?(JK(ay.C(b.Ja),new X(null,1,5,Z,[Hw],null)),I=Tn):I=null;return r(I)?I:r(C)?(C=CQ(b.nb,C),r(C)?C.C?C.C(F):C.call(null,F):kQ(LC,1231,new Al(function(){return new X(null,
2,5,Z,["Cb reply w/o local cb-fn: %s",F],null)}),-694249975)):GQ(b.Ja,F)},u=function(C){var F=new q(null,5,[ln,RO(),dD,C,zn,vO(C,"wasClean"),xo,vO(C,"code"),ND,vO(C,"reason")],null);if(r(zn.C(F)))return kQ(DB,1257,new Al(function(){return new X(null,1,5,Z,["Clean WebSocket close, will not attempt reconnect"],null)}),339494421),DQ(c,function(I){return Q.D(I,mC,F)});DQ(c,function(I){return Q.D(EQ(I,My),mC,F)});return m()},v=function(){try{return KQ(new q(null,5,[rA,n,jo,p,Wu,u,Cv,b.headers,Vo,rP(b.url,
sk.I(M([b.params,new q(null,2,[hq,b.Ka,Ey,Ey.C(y(b.state_))],null)])))],null))}catch(F){var C=F;kQ(ex,1280,new Al(function(){return new X(null,2,5,Z,[C,"WebSocket error"],null)}),-1480447698);return null}}();if(kc(v))return m();var z=y(b.qb);r(z)&&z.close();return Gh(b.qb,v)}return null})();return c};
function MQ(a,b){a=sk.I(M([new q(null,7,[qC,Fh(new q(null,4,[oo,zx,Ps,!1,vz,!1,Ey,b],null)),Yo,Fh(null),Nz,Fh(0),dt,Fh(!1),Es,Fh(W),Mt,Fh(null),lq,Fh(null)],null),a]));b=R.I(a,hq,M([zB,qq,Cv,jt,Ws,ps,qC,Yo,Nz,dt,TC,Es,Mt,lq]));b=yf(a)?gi.B(W,b):b;return new LQ(hq.C(a),zB.C(a),qq.C(a),Cv.C(a),jt.C(a),Ws.C(a),ps.C(a),qC.C(a),Yo.C(a),Nz.C(a),dt.C(a),TC.C(a),Es.C(a),Mt.C(a),lq.C(a),null,bh(b),null)}var NQ=fP.I(M([op,60]));
function OQ(a,b,c,d,e,f,h,k,m,n,p,u,v,z){this.Ka=a;this.Ja=b;this.params=c;this.Ia=d;this.url=e;this.state_=f;this.Ga=h;this.Ma=k;this.Ha=m;this.Ab=n;this.Mb=p;this.G=u;this.F=v;this.J=z;this.O=2230716170;this.T=139264}g=OQ.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "client-id":return this.Ka;case "chs":return this.Ja;case "params":return this.params;case "packer":return this.Ia;case "url":return this.url;case "state_":return this.state_;case "instance-handle_":return this.Ga;case "ever-opened?_":return this.Ma;case "backoff-ms-fn":return this.Ha;case "ajax-opts":return this.Ab;case "curr-xhr_":return this.Mb;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,V.B(new X(null,11,5,Z,[new X(null,2,5,Z,[hq,this.Ka],null),new X(null,2,5,Z,[zB,this.Ja],null),new X(null,2,5,Z,[qq,this.params],null),new X(null,2,5,Z,[jt,this.Ia],null),new X(null,2,5,Z,[Ws,this.url],null),new X(null,2,5,Z,[qC,this.state_],null),new X(null,2,5,Z,[Yo,this.Ga],null),new X(null,2,5,Z,[dt,this.Ma],null),new X(null,2,5,Z,[TC,this.Ha],null),new X(null,2,5,Z,[VD,this.Ab],
null),new X(null,2,5,Z,[Mu,this.Mb],null)],null),this.F))};g.qa=function(){return new ej(this,11,new X(null,11,5,Z,[hq,zB,qq,jt,Ws,qC,Yo,dt,TC,VD,Mu],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new OQ(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,this.G,this.F,this.J)};g.la=function(){return 11+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-266770752^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Ka,b.Ka)&&E.B(this.Ja,b.Ja)&&E.B(this.params,b.params)&&E.B(this.Ia,b.Ia)&&E.B(this.url,b.url)&&E.B(this.state_,b.state_)&&E.B(this.Ga,b.Ga)&&E.B(this.Ma,b.Ma)&&E.B(this.Ha,b.Ha)&&E.B(this.Ab,b.Ab)&&E.B(this.Mb,b.Mb)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,11,[Mu,null,dt,null,hq,null,jt,null,zB,null,qq,null,TC,null,Ws,null,Yo,null,VD,null,qC,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new OQ(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "client-id":case "chs":case "params":case "packer":case "url":case "state_":case "instance-handle_":case "ever-opened?_":case "backoff-ms-fn":case "ajax-opts":case "curr-xhr_":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(hq,b):U.call(null,hq,b))?new OQ(c,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,this.G,this.F,null):r(U.B?U.B(zB,b):U.call(null,zB,b))?new OQ(this.Ka,c,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,this.G,this.F,null):r(U.B?U.B(qq,b):U.call(null,qq,b))?new OQ(this.Ka,this.Ja,c,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,this.G,this.F,null):r(U.B?U.B(jt,b):U.call(null,
jt,b))?new OQ(this.Ka,this.Ja,this.params,c,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,this.G,this.F,null):r(U.B?U.B(Ws,b):U.call(null,Ws,b))?new OQ(this.Ka,this.Ja,this.params,this.Ia,c,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,this.G,this.F,null):r(U.B?U.B(qC,b):U.call(null,qC,b))?new OQ(this.Ka,this.Ja,this.params,this.Ia,this.url,c,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,this.G,this.F,null):r(U.B?U.B(Yo,b):U.call(null,Yo,b))?new OQ(this.Ka,this.Ja,this.params,this.Ia,
this.url,this.state_,c,this.Ma,this.Ha,this.Ab,this.Mb,this.G,this.F,null):r(U.B?U.B(dt,b):U.call(null,dt,b))?new OQ(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,c,this.Ha,this.Ab,this.Mb,this.G,this.F,null):r(U.B?U.B(TC,b):U.call(null,TC,b))?new OQ(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,c,this.Ab,this.Mb,this.G,this.F,null):r(U.B?U.B(VD,b):U.call(null,VD,b))?new OQ(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,
c,this.Mb,this.G,this.F,null):r(U.B?U.B(Mu,b):U.call(null,Mu,b))?new OQ(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,c,this.G,this.F,null):new OQ(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,11,5,Z,[new Y(hq,this.Ka,null),new Y(zB,this.Ja,null),new Y(qq,this.params,null),new Y(jt,this.Ia,null),new Y(Ws,this.url,null),new Y(qC,this.state_,null),new Y(Yo,this.Ga,null),new Y(dt,this.Ma,null),new Y(TC,this.Ha,null),new Y(VD,this.Ab,null),new Y(Mu,this.Mb,null)],null),this.F))};g.ha=function(a,b){return new OQ(this.Ka,this.Ja,this.params,this.Ia,this.url,this.state_,this.Ga,this.Ma,this.Ha,this.Ab,this.Mb,b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.Mg=function(a,b){Gh(this.Ga,null);DQ(this,function(c){return EQ(c,b)});a=y(this.Mb);return r(a)?a.abort():null};
g.Uf=function(a,b,c){function d(n){var p=Zg(n);n=B.B(p,ko);p=B.B(p,Pp);if(r(n)){if(E.B(n,Wz))return r(k)?k.C?k.C(hn):k.call(null,hn):null;DQ(f,function(v){return EQ(v,My)});return r(k)?k.C?k.C(vm):k.call(null,vm):null}n=sQ(e.Ia,p);var u=N(n,0,null);N(n,1,null);r(k)?k.C?k.C(u):k.call(null,u):ah.B(u,ID)&&kQ(LC,1404,new Al(function(){return new X(null,2,5,Z,["Cb reply w/o local cb-fn: %s",u],null)}),1455915728);return DQ(f,function(v){return Q.D(v,Ps,!0)})}var e=this,f=this;a=Zg(c);var h=B.B(a,fw);c=
B.B(a,CD);B.B(a,Yw);rQ(b);var k=FQ(c,b);if(kc(Ps.C(y(e.state_))))return BQ(k);var m=Ey.C(y(e.state_));a=e.url;c=sk.I(M([e.Ab,new q(null,5,[Jq,nu,fw,function(){if(r(h))return h;var n=fw.C(e.Ab);return r(n)?n:NQ}(),AD,Hz,Cv,sk.I(M([Cv.C(e.Ab),new q(null,1,[ys,m],null)])),qq,function(){var n=tQ(e.Ia,b,r(k)?jB:null);return sk.I(M([e.params,new q(null,4,[ln,RO(),Ey,m,hq,e.Ka,Ju,n],null)]))}()],null)]));lP.D?lP.D(a,c,d):lP.call(null,a,c,d);return mv};
g.hf=function(){var a=this,b=this,c=Gh(a.Ga,eP());(function f(e){kQ(Ir,1414,new Al(function(){return new X(null,1,5,Z,["async-poll-for-update!"],null)}),-1867650656);if(E.B(y(a.Ga),c)){var h=function(){if(E.B(y(a.Ga),c)){var k=e+1,m=a.Ha.C?a.Ha.C(k):a.Ha.call(null,k),n=RO()+m;kQ(LC,1422,new Al(function(){return new X(null,3,5,Z,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),809885556);ca.setTimeout(function(){return f(k)},m);return DQ(b,function(p){return Q.D(p,LA,n)})}return null};
return Gh(a.Mb,function(){function k(p){var u=Zg(p);p=B.B(u,ko);u=B.B(u,Pp);if(r(p)){if(E.B(p,Wz))return f(0);DQ(b,function(v){return EQ(v,My)});return h()}p=sQ(a.Ia,u);p=N(p,0,null);(u=HQ(p))&&IQ(PC,b,p);DQ(b,function(v){return Q.D(v,Ps,!0)});f(0);if(u)return null;E.B(p,hn)?(r(y(oQ))&&GQ(a.Ja,new X(null,1,5,Z,[new X(null,1,5,Z,[Bn],null)],null)),u=Tn):u=null;return r(u)?u:GQ(a.Ja,p)}var m=a.url,n=sk.I(M([a.Ab,new q(null,5,[Jq,fA,fw,function(){var p=fw.C(a.Ab);return r(p)?p:NQ}(),AD,Hz,qq,sk.I(M([a.params,
new q(null,2,[ln,RO(),hq,a.Ka],null),r(Ps.C(y(a.state_)))?null:new q(null,1,[Zw,!0],null)])),Cv,sk.I(M([Cv.C(a.Ab),new q(null,1,[ys,Ey.C(y(a.state_))],null)]))],null)]));return lP.D?lP.D(m,n,k):lP.call(null,m,n,k)}())}return null})(0);return b};
function PQ(a,b){a=sk.I(M([new q(null,4,[qC,Fh(new q(null,4,[oo,PC,Ps,!1,vz,!1,Ey,b],null)),Yo,Fh(null),dt,Fh(!1),Mu,Fh(null)],null),a]));b=R.I(a,hq,M([zB,qq,jt,Ws,qC,Yo,dt,TC,VD,Mu]));b=yf(a)?gi.B(W,b):b;return new OQ(hq.C(a),zB.C(a),qq.C(a),jt.C(a),Ws.C(a),qC.C(a),Yo.C(a),dt.C(a),TC.C(a),VD.C(a),Mu.C(a),null,bh(b),null)}function QQ(a,b,c,d,e,f,h){this.kd=a;this.Tc=b;this.state_=c;this.xc=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=QQ.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "ws-chsk-opts":return this.kd;case "ajax-chsk-opts":return this.Tc;case "state_":return this.state_;case "impl_":return this.xc;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[Xr,this.kd],null),new X(null,2,5,Z,[aw,this.Tc],null),new X(null,2,5,Z,[qC,this.state_],null),new X(null,2,5,Z,[vx,this.xc],null)],null),this.F))};g.qa=function(){return new ej(this,4,new X(null,4,5,Z,[Xr,aw,qC,vx],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new QQ(this.kd,this.Tc,this.state_,this.xc,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1193508708^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.kd,b.kd)&&E.B(this.Tc,b.Tc)&&E.B(this.state_,b.state_)&&E.B(this.xc,b.xc)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,4,[vx,null,Xr,null,qC,null,aw,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new QQ(this.kd,this.Tc,this.state_,this.xc,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "ws-chsk-opts":case "ajax-chsk-opts":case "state_":case "impl_":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Xr,b):U.call(null,Xr,b))?new QQ(c,this.Tc,this.state_,this.xc,this.G,this.F,null):r(U.B?U.B(aw,b):U.call(null,aw,b))?new QQ(this.kd,c,this.state_,this.xc,this.G,this.F,null):r(U.B?U.B(qC,b):U.call(null,qC,b))?new QQ(this.kd,this.Tc,c,this.xc,this.G,this.F,null):r(U.B?U.B(vx,b):U.call(null,vx,b))?new QQ(this.kd,this.Tc,this.state_,c,this.G,this.F,null):new QQ(this.kd,this.Tc,this.state_,this.xc,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(Xr,this.kd,null),new Y(aw,this.Tc,null),new Y(qC,this.state_,null),new Y(vx,this.xc,null)],null),this.F))};g.ha=function(a,b){return new QQ(this.kd,this.Tc,this.state_,this.xc,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.Mg=function(a,b){a=y(this.xc);return r(a)?yQ(a,b):null};g.Uf=function(a,b,c){a=y(this.xc);if(r(a))return zQ(a,b,c);c=Zg(c);c=B.B(c,CD);b=FQ(c,b);return BQ(b)};
g.hf=function(){function a(){var f=Fh(!1);wl(c.state_,function(h,k,m,n){h=y(c.xc);if(r(h)&&(k=dt.C(h),r(k))){if(r(y(k)))return null;if(r(zy.C(n))&&Jh(f))return kQ(LC,1555,new Al(function(){return new X(null,1,5,Z,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),1718777601),yQ(h,hw),Gh(c.xc,b())}return null});return MQ(e,Ey.C(y(c.state_))).hf(null)}function b(){Gd(c.state_,xl);return PQ(d,Ey.C(y(c.state_))).hf(null)}var c=this,d=Q.D(c.Tc,qC,c.state_),e=Q.D(c.kd,qC,c.state_);Gh(c.xc,function(){var f=
a();return r(f)?f:b()}());return this};
function RQ(a,b,c,d){var e=function(){switch(a instanceof D?a.ba:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof D?d.ba:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",t.C(e)].join(""));}default:throw Error(["No matching clause: ",t.C(h)].join(""));}}();return[t.C(f),"//",dP(M([b,c]))].join("")}
function SQ(a,b,c){function d(n){return n.P?n.P():n.call(null)}var e=kc(tn);c=Zg(c);var f=B.B(c,Eq),h=B.B(c,fq);B.B(c,ou);var k=HK(null,null),m=HK(1,null);hK(function(){var n=function(){function u(v){var z=v[1];if(7===z)return z=v[2],v[7]=z,v[1]=r(z)?8:9,Wv;if(1===z)return v[2]=null,v[1]=2,Wv;if(4===z){z=v[10];z=v[2];var C=N(z,0,null),F=N(z,1,null),I=E.B(F,k);v[8]=F;v[9]=z;v[10]=I;v[11]=C;v[1]=I?5:6;return Wv}if(6===z)return C=v[11],v[2]=null==C,v[1]=7,Wv;if(3===z)return FK(v,v[2]);if(2===z)return PK(v,
4,new X(null,2,5,Z,[a,k],null));if(9===z){C=v[11];var O=Zg(C),P=B.B(O,hx);z=d(function(){return function(){try{r(f)&&kQ(Ir,1754,new Al(function(){return new X(null,2,5,Z,["Pre-handler event: %s",P],null)}),-1177840582);var T=r(e)?function(){try{var va=xf(O);if(va){var ua=CO(new xk(null,new q(null,11,[PA,null,To,null,hq,null,FB,null,Jn,null,hx,null,QD,null,mz,null,yq,null,Qz,null,Gz,null],null),null),O);if(ua){var Ma=Zg(O),pa=B.B(Ma,To),sa=B.B(Ma,Gz),Da=B.B(Ma,FB),Ca=B.B(Ma,mz),Ea=B.B(Ma,yq),eb=B.B(Ma,
hq),wc=B.B(Ma,hx),ic=B.B(Ma,PA);var jc=kO(pa)&&Gf(sa)&&Da instanceof Eh&&Ca instanceof Eh&&xf(Ea)&&"string"===typeof eb&&!mE(eb)&&null==qQ(wc)&&(null==ic||Gf(ic))}else jc=ua}else jc=va;var Cb=jc?null:eO}catch(Cd){if(Cd instanceof Error)Cb=Cd;else throw Cd;}return null==Cb?O:fO(1757,"(server-event-msg? event-msg)",O,Cb)}():function(){try{var va=xf(O);if(va){var ua=CO(new xk(null,new q(null,6,[To,null,lw,null,hx,null,QD,null,Qz,null,Gz,null],null),null),O);if(ua){var Ma=Zg(O),pa=B.B(Ma,To),sa=B.B(Ma,
Gz),Da=B.B(Ma,lw),Ca=B.B(Ma,hx);var Ea=kO(pa)&&Gf(sa)&&Da instanceof Eh&&null==qQ(Ca)}else Ea=ua}else Ea=va;var eb=Ea?null:eO}catch(wc){if(wc instanceof Error)eb=wc;else throw wc;}return null==eb?O:fO(1758,"(client-event-msg? event-msg)",O,eb)}();return b.C?b.C(T):b.call(null,T)}catch(va){var aa=va;try{return r(h)?h.B?h.B(aa,O):h.call(null,aa,O):kQ(ex,1763,new Al(function(){return new X(null,3,5,Z,[aa,"Chsk router `event-msg-handler` error: %s",P],null)}),-490377415)}catch(ua){var ea=ua;return kQ(ex,
1764,new Al(function(){return new X(null,3,5,Z,[ea,"Chsk router `error-handler` error: %s",P],null)}),127475176)}}}}());v[12]=z;v[2]=null;v[1]=2;return Wv}return 5===z?(z=v[10],v[2]=z,v[1]=7,Wv):10===z?(v[2]=v[2],v[1]=3,Wv):8===z?(v[2]=null,v[1]=10,Wv):null}return function(){function v(F){for(;;){a:try{for(;;){var I=u(F);if(!U(I,Wv)){var O=I;break a}}}catch(P){O=P;F[2]=O;if(G(F[4]))F[1]=H(F[4]);else throw O;O=Wv}if(!U(O,Wv))return O}}function z(){var F=[null,null,null,null,null,null,null,null,null,
null,null,null,null];F[0]=C;F[1]=1;return F}var C=null;C=function(F){switch(arguments.length){case 0:return z.call(this);case 1:return v.call(this,F)}throw Error("Invalid arity: "+arguments.length);};C.P=z;C.C=v;return C}()}(),p=function(){var u=n();u[6]=m;return u}();return CK(p)});return function(){return CJ(k)}}
function TQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new se(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=N(d,0,null);d=Zg(d);B.B(d,Eq);B.B(d,fq);return SQ(b,c,d)};function UQ(a,b,c){if(mg(c)){var d=Ug(pg,Rh.B(a,c));return b.C?b.C(d):b.call(null,d)}return Mi(c)?(d=new Y(function(){var e=Yc(c);return a.C?a.C(e):a.call(null,e)}(),function(){var e=Zc(c);return a.C?a.C(e):a.call(null,e)}(),null),b.C?b.C(d):b.call(null,d)):Df(c)?(d=Tk(Rh.B(a,c)),b.C?b.C(d):b.call(null,d)):yf(c)?(d=w.D(function(e,f){return hf.B(e,a.C?a.C(f):a.call(null,f))},c,c),b.C?b.C(d):b.call(null,d)):uf(c)?(d=gi.B(lf(c),Rh.B(a,c)),b.C?b.C(d):b.call(null,d)):b.C?b.C(c):b.call(null,c)}
var VQ=function VQ(a,b){return UQ(xh.B(VQ,a),a,b)};function WQ(a){function b(c){var d=N(c,0,null);c=N(c,1,null);return"string"===typeof d?new X(null,2,5,Z,[ug.C(d),c],null):new X(null,2,5,Z,[d,c],null)}return VQ(function(c){return xf(c)?gi.B(W,Rh.B(b,c)):c},a)};var XQ={},YQ={},ZQ;function $Q(a,b,c,d,e){this.Ke=a;this.Qi=b;this.Ti=c;this.xe=d;this.limit=e;this.O=2147484416;this.T=0}g=$Q.prototype;g.ea=function(a,b,c){return aR.D?aR.D(this,b,c):aR.call(null,this,b,c)};g.ra=function(a,b){return Tc(this.Ke,b)};g.oa=function(a,b){return Qc(this.Ke,b,null)};g.Y=function(a,b,c){return Qc(this.Ke,b,c)};g.ia=function(a,b,c){return Bd(this.Ke,b,c)};
function aR(a,b,c){var d=a.Ke,e=a.Qi,f=a.Ti,h=a.xe;a=a.limit;var k=f.B?f.B(b,null):f.call(null,b,null);if(r(k))return new $Q(d,Q.D(R.B(e,k),h,b),Q.D(f,b,h),h+1,a);b=new $Q(Q.D(d,b,c),Q.D(e,h,b),Q.D(f,b,h),h+1,a);return bR.C?bR.C(b):bR.call(null,b)}function bR(a){if(K(a.Ke)>a.limit){var b=a.Ke,c=a.Qi,d=a.Ti,e=a.xe;a=a.limit;var f=H(c),h=N(f,0,null);f=N(f,1,null);return new $Q(R.B(b,f),R.B(c,h),R.B(d,f),e,a)}return a}
function cR(a,b,c){if(null!=a&&null!=a.Mi)a=a.Mi(a,b,c);else{var d=cR[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=cR._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("ICache.-get",a);}return a}
function dR(){var a=Bh(new $Q(W,pk(),W,0,100));if("undefined"===typeof XQ||"undefined"===typeof YQ||"undefined"===typeof ZQ)ZQ=function(b,c,d){this.limit=b;this.Yf=c;this.Uk=d;this.O=393216;this.T=0},ZQ.prototype.ha=function(b,c){return new ZQ(this.limit,this.Yf,c)},ZQ.prototype.ga=function(){return this.Uk},ZQ.prototype.Mi=function(b,c,d){b=B.D(y(this.Yf),c,null);return null==b?(d=d.P?d.P():d.call(null),Wd(this.Yf,Q.D(y(this.Yf),c,d)),d):b},ZQ.Wa=!0,ZQ.Sa="datascript.lru/t_datascript$lru28936",ZQ.Za=
function(b){return yd(b,"datascript.lru/t_datascript$lru28936")};return new ZQ(100,a,W)};function eR(a){return w.D(function(b,c){b.push(c);return b},[],a)}function fR(a){return a instanceof Array};var gR=H(ei(function(a){return 0!=(32&1<<a)},Nk.D(31,-1,-1)))+1,hR=(1<<gR)-1;function iR(a,b,c,d){for(var e=0,f=eg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.B?a.B(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function jR(a,b,c,d){for(var e=0,f=eg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.B?a.B(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function kR(a,b,c){var d=b.length,e=iR(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.B?a.B(b,c):a.call(null,b,c));return d?e:-1}
function lR(a,b,c){var d=b.length;a=iR(a,b,d-1,c);return a===d?-1:a}function mR(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var p=0;;)if(p<d)n[p+0]=a[p+b],p+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function nR(a,b,c,d){return mR(a,0,a.length,b,c,d)}
function oR(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function pR(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.B?a.B(h,k):a.call(null,h,k)))return!1;f+=1}else return f}function qR(a,b){return r(a)?r(b)?[a,b]:[a]:[b]}function rR(a,b,c){return r(a)?r(b)?r(c)?[a,b,c]:[a,b]:r(c)?[a,c]:[a]:r(b)?r(c)?[b,c]:[b]:[c]}
function sR(a){if(null!=a&&null!=a.Fh)a=a.Fh(a);else{var b=sR[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=sR._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INode.node-lim-key",a);}return a}function tR(a){if(null!=a&&null!=a.Vi)a=a.keys.length;else{var b=tR[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=tR._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INode.node-len",a);}return a}
function uR(a,b){if(null!=a&&null!=a.Hh)a=a.Hh(a,b);else{var c=uR[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=uR._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("INode.node-merge",a);}return a}function vR(a,b){if(null!=a&&null!=a.Ih)a=a.Ih(a,b);else{var c=vR[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=vR._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("INode.node-merge-n-split",a);}return a}
function wR(a,b,c){if(null!=a&&null!=a.Gh)a=a.Gh(a,b,c);else{var d=wR[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=wR._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("INode.node-lookup",a);}return a}function xR(a,b,c){if(null!=a&&null!=a.Dh)a=a.Dh(a,b,c);else{var d=xR[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=xR._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("INode.node-conj",a);}return a}
function yR(a,b,c,d,e,f){if(null!=a&&null!=a.Eh)a=a.Eh(a,b,c,d,e,f);else{var h=yR[ha(null==a?null:a)];if(null!=h)a=h.Ra?h.Ra(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=yR._,null!=h)a=h.Ra?h.Ra(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw pc("INode.node-disj",a);}return a}
function zR(a,b,c,d){if(r(b))return[a];if(16<tR(a))return rR(c,a,d);if(r(r(c)?16>=tR(c):c))return qR(uR(c,a),d);if(r(r(d)?16>=tR(d):d))return qR(c,uR(a,d));if(r(r(c)?null==d||tR(c)<tR(d):c))return a=vR(c,a),rR(a[0],a[1],d);a=vR(a,d);return rR(c,a[0],a[1])}function AR(a,b){this.keys=a;this.Eb=b}g=AR.prototype;g.Fh=function(){var a=this.keys;return a[a.length-1]};g.Vi=function(){return this.keys.length};g.Hh=function(a,b){return new AR(this.keys.concat(b.keys),this.Eb.concat(b.Eb))};
g.Ih=function(a,b){a=oR(this.keys,b.keys);b=oR(this.Eb,b.Eb);return qR(new AR(a[0],b[0]),new AR(a[1],b[1]))};g.Gh=function(a,b,c){a=lR(b,this.keys,c);return-1===a?null:wR(this.Eb[a],b,c)};g.Dh=function(a,b,c){a=iR(b,this.keys,this.keys.length-2,c);c=xR(this.Eb[a],b,c);if(r(c)){var d=this.keys,e=a+1,f=c.map(sR);b=pR(b,d,a,e,f,f.length)?d:nR(d,a,e,f);a=nR(this.Eb,a,a+1,c);if(32>=a.length)return[new AR(b,a)];c=a.length>>>1;return[new AR(b.slice(0,c),a.slice(0,c)),new AR(b.slice(c),a.slice(c))]}return null};
g.Eh=function(a,b,c,d,e,f){var h=lR(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.Eb[h-1]:null;var k=h+1<this.Eb.length?this.Eb[h+1]:null;c=yR(this.Eb[h],b,c,!1,a,k);if(r(c)){a=r(a)?h-1:h;h=r(k)?2+h:1+h;k=this.keys;var m=c.map(sR);b=pR(b,k,a,h,m,m.length)?k:nR(k,a,h,m);c=nR(this.Eb,a,h,c);return zR(new AR(b,c),d,e,f)}return null};function BR(a){this.keys=a}g=BR.prototype;g.Fh=function(){var a=this.keys;return a[a.length-1]};g.Vi=function(){return this.keys.length};g.Hh=function(a,b){return new BR(this.keys.concat(b.keys))};
g.Ih=function(a,b){a=oR(this.keys,b.keys);return qR(new BR(a[0]),new BR(a[1]))};g.Gh=function(a,b,c){a=kR(b,this.keys,c);return-1===a?null:this.keys[a]};g.Dh=function(a,b,c){a=iR(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.B?b.B(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new BR(this.keys.slice(0,b)),new BR(mR(this.keys,b,d,a,a,[c]))]:[new BR(mR(this.keys,0,b,a,a,[c])),new BR(this.keys.slice(b,d))]):[new BR(nR(this.keys,a,a,[c]))]};
g.Eh=function(a,b,c,d,e,f){a=kR(b,this.keys,c);if(-1===a)return null;a=nR(this.keys,a,a+1,[]);return zR(new BR(a),d,e,f)};function CR(a,b,c,d,e,f){this.root=a;this.shift=b;this.ca=c;this.Kc=d;this.meta=e;this._hash=f;this.O=2297303311;this.T=8332}g=CR.prototype;g.toString=function(){return $d(this)};g.oa=function(a,b){return wR(this.root,this.Kc,b)};g.Y=function(a,b,c){a=wR(this.root,this.Kc,b);return r(a)?a:c};g.ia=function(a,b,c){return Zk(b,gl,"#{"," ","}",c,G(this))};g.ga=function(){return this.meta};
g.pa=function(){return new CR(this.root,this.shift,this.ca,this.Kc,this.meta,this._hash)};g.la=function(){return this.ca};g.Wc=function(){return xd(DR.C?DR.C(this):DR.call(null,this))};g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=Ce(this)};g.da=function(a,b){var c=this;return vf(b)&&this.ca===K(b)&&rh(function(d){return S(c,d)},b)};g.se=function(){return this};g.Pa=function(){return new CR(new BR([]),0,0,this.Kc,this.meta,null)};
g.hg=function(a,b){return ER.D?ER.D(this,b,this.Kc):ER.call(null,this,b,this.Kc)};g.jb=function(a,b){a=DR.C?DR.C(this):DR.call(null,this);return r(a)?ld(a,b):b.P?b.P():b.call(null)};g.kb=function(a,b,c){a=DR.C?DR.C(this):DR.call(null,this);return r(a)?ld(a,b,c):c};g.te=function(a,b){return FR.D?FR.D(this,b,this.Kc):FR.call(null,this,b,this.Kc)};g.De=function(){return this};g.ka=function(){return DR.C?DR.C(this):DR.call(null,this)};
g.ha=function(a,b){return new CR(this.root,this.shift,this.ca,this.Kc,b,this._hash)};g.na=function(a,b){return FR.D?FR.D(this,b,this.Kc):FR.call(null,this,b,this.Kc)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};
g.B=function(a,b){return this.Y(null,a,b)};function GR(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.Eb[hR&b>>>c],c-=gR;else return a.keys}function HR(a,b,c,d){return new CR(b,c,d,a.Kc,a.meta,null)}var IR=function IR(a,b,c){var e=hR&b>>>c;if(0<c){var f=a.Eb[e],h=c-gR;b=IR.D?IR.D(f,b,h):IR.call(null,f,b,h);return-1===b?e+1<a.Eb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function JR(a,b){return IR(a.root,b,a.shift)}
function KR(a,b){for(var c=0;;)if(0<b)c|=a.Eb.length-1<<b,b-=gR,a=a.Eb,a=a[a.length-1];else return c|a.keys.length-1<<0}var LR=function LR(a,b,c){var e=hR&b>>>c;if(0<c){var f=c-gR,h=a.Eb[e];b=LR.D?LR.D(h,b,f):LR.call(null,h,b,f);return-1===b?0<=e-1?(--e,KR(a.Eb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function MR(a,b){return LR(a.root,b,a.shift)}function DR(a){if(0<tR(a.root)){var b=KR(a.root,a.shift)+1;return NR.D?NR.D(a,0,b):NR.call(null,a,0,b)}return null}
function OR(a,b,c){this.K=a;this.off=b;this.end=c;this.O=524306;this.T=0}g=OR.prototype;g.la=function(){return this.end-this.off};g.Da=function(a,b){return this.K[this.off+b]};g.ob=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.nf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Bg(this.K,this.off+1,this.end)};g.jb=function(a,b){return this.off===this.end?b.P?b.P():b.call(null):ld(this.nf(null),b,this.K[this.off])};
g.kb=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.K[a];c=b.B?b.B(c,d):b.call(null,c,d);if(Ie(c))return y(c);a+=1}else return c};function PR(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.O=2309488832;this.T=1536}g=PR.prototype;g.toString=function(){return $d(this)};g.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,G(this))};
g.Va=function(){if(r(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new PR(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=JR(this.set,this.left);return ah.B(-1,a)&&a<this.right?this.Cg(a,this.right):null}return null};g.Wc=function(){if(r(this.keys)){var a=this.set,b=MR(this.set,this.left),c=MR(this.set,this.right);return QR.D?QR.D(a,b,c):QR.call(null,a,b,c)}return null};g.da=function(a,b){return Ye(this,b)};
g.jb=function(a,b){if(null==this.keys)return b.P?b.P():b.call(null);a=this.mb(null);var c=this.Va(null);return null==c?a:ld(c,b,a)};g.kb=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.B?b.B(c,f):b.call(null,c,f);if(Ie(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=JR(this.set,a),-1!==a&&a<this.right)d=GR(this.set,a),e=hR&a>>>0;else return c}};g.mb=function(){return r(this.keys)?this.keys[this.idx]:null};
g.wb=function(){var a=this.Va(null);return r(a)?a:we};g.ka=function(){return r(this.keys)?this:null};g.Ue=function(){var a=E.B(this.left|hR,this.right|hR)?this.right&hR:this.keys.length;return new OR(this.keys,this.idx,a)};g.ae=function(){var a=this.Te();return r(a)?a:we};g.Cg=function(a,b){return new PR(this.set,a,b,GR(this.set,a),hR&a>>>0)};g.Te=function(){var a=JR(this.set,this.left+(this.keys.length-this.idx-1));return ah.B(-1,a)&&a<this.right?this.Cg(a,this.right):null};
function NR(a,b,c){return new PR(a,b,c,GR(a,b),hR&b>>>0)}function RR(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.O=2308964544;this.T=0}g=RR.prototype;g.toString=function(){return $d(this)};g.ia=function(a,b,c){return Zk(b,gl,"("," ",")",c,G(this))};
g.Va=function(){if(r(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new RR(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=MR(this.set,this.right);return ah.B(-1,a)&&a>this.left?this.Cg(this.left,a):null}return null};g.Wc=function(){if(r(this.keys)){var a=-1===this.left?0:JR(this.set,this.left),b=JR(this.set,this.right);return NR(this.set,a,-1===b?this.right+1:b)}return null};g.da=function(a,b){return Ye(this,b)};
g.mb=function(){return r(this.keys)?this.keys[this.idx]:null};g.wb=function(){var a=this.Va(null);return r(a)?a:we};g.ka=function(){return r(this.keys)?this:null};g.Cg=function(a,b){return new RR(this.set,a,b,GR(this.set,b),hR&b>>>0)};function QR(a,b,c){return new RR(a,b,c,GR(a,c),hR&c>>>0)}
function SR(a,b,c,d){a:if(null==b)b=0;else for(var e=a.root,f=0,h=a.shift;;){var k=tR(e);if(0===h){var m=e.keys;m=iR(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=iR(d,m,k-2,b);f|=m<<h;h-=gR;e=e.Eb[m]}if(0>b)return null;a:if(null==c)c=KR(a.root,a.shift)+1;else for(e=a.root,f=0,h=a.shift;;){m=tR(e);if(0===h){k=e.keys;m=jR(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=jR(d,k,m-2,c);f|=m<<h;h-=gR;e=e.Eb[m]}return c>b?new PR(a,b,c,GR(a,b),hR&b>>>0):null}
function TR(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.C?a.C(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function UR(a){var b=a.length,c=Hd(jf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){Mg.B(c,a.slice(d));break}else 40<=e?(Mg.B(c,a.slice(d,d+24)),d+=24):(e>>>=1,Mg.B(c,a.slice(d,d+e)),d+=e)}return Of(Jd(c))}function FR(a,b,c){b=xR(a.root,c,b);return null==b?a:1===b.length?HR(a,b[0],a.shift,a.ca+1):HR(a,new AR(b.map(sR),b),a.shift+gR,a.ca+1)}
function ER(a,b,c){b=yR(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof AR&&1===b.Eb.length?HR(a,b.Eb[0],a.shift-gR,a.ca-1):HR(a,b,a.shift,a.ca-1)}function VR(a,b,c){return SR(a,b,c,a.Kc)}
function WR(a,b){for(var c=TR(function(h){return new BR(h)},UR(b)),d=c,e=0;;){var f=K(d);switch(f){case 0:return new CR(new BR([]),0,0,a,null,null);case 1:return new CR(H(d),e,b.length,a,null,null);default:d=TR(function(){return function(h){return new AR(h.map(sR),h)}}(d,e,f,c),UR(d)),e+=gR}}}function YR(a){return new CR(new BR([]),0,0,a,null,null)};var ZR=Error;function $R(a){return"string"!==typeof a&&(Ef(a)||fR(a))}var aS=zh(jf),bS=zh(zk);function cS(a,b,c){return H(w.D(function(d,e){var f=N(d,0,null);d=N(d,1,null);e=a.D?a.D(f,e,d):a.call(null,f,e,d);return Ie(e)?Ge(new X(null,2,5,Z,[e,d],null)):new X(null,2,5,Z,[e,d+1],null)},new X(null,2,5,Z,[b,0],null),c))}function dS(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function eS(a){if(null!=a&&null!=a.Ta)a=a.Ta(a);else{var b=eS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=eS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDatom.datom-tx",a);}return a}function fS(a){if(null!=a&&null!=a.Lc)a=a.Lc(a);else{var b=fS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=fS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDatom.datom-added",a);}return a}
function gS(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.Pg=d;this.idx=e;this._hash=f;this.O=2162164496;this.T=0}g=gS.prototype;g.Ta=function(){return 0<this.Pg?this.Pg:-this.Pg};g.Lc=function(){return 0<this.Pg};g.ja=function(){return 0===this._hash?this._hash=hS.C?hS.C(this):hS.call(null,this):this._hash};g.da=function(a,b){return(a=b instanceof gS)?iS.B?iS.B(this,b):iS.call(null,this,b):a};g.ka=function(){return jS.C?jS.C(this):jS.call(null,this)};
g.oa=function(a,b){return kS.D?kS.D(this,b,null):kS.call(null,this,b,null)};g.Y=function(a,b,c){return kS.D?kS.D(this,b,c):kS.call(null,this,b,c)};g.Da=function(a,b){return lS?lS(this,b):mS.call(null,this,b)};g.ob=function(a,b,c){return nS?nS(this,b,c):mS.call(null,this,b,c)};g.ea=function(a,b,c){return oS.D?oS.D(this,b,c):oS.call(null,this,b,c)};g.ia=function(a,b,c){return Zk(b,gl,"#datascript/Datom ["," ","]",c,new X(null,5,5,Z,[this.e,this.a,this.v,this.Ta(null),this.Lc(null)],null))};
da("datascript.db.Datom",gS);var pS=function pS(a){switch(arguments.length){case 3:return pS.D(arguments[0],arguments[1],arguments[2]);case 4:return pS.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return pS.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};pS.D=function(a,b,c){return new gS(a,b,c,536870912,0,0)};pS.R=function(a,b,c,d){return new gS(a,b,c,d,0,0)};
pS.ma=function(a,b,c,d,e){return new gS(a,b,c,r(e)?d:-d,0,0)};pS.aa=5;function qS(a){return a instanceof gS}function hS(a){return dS(dS(ke(a.e),ke(a.a)),ke(a.v))}function iS(a,b){return a.e===b.e&&E.B(a.a,b.a)&&E.B(a.v,b.v)}function jS(a){return new kf(null,a.e,new kf(null,a.a,new kf(null,a.v,new kf(null,a.Ta(null),new kf(null,a.Lc(null),null,1,null),2,null),3,null),4,null),5,null)}
function kS(a,b,c){return E.B(lB,b)?a.v:E.B("e",b)?a.e:E.B(Ks,b)?a.Lc(null):E.B("v",b)?a.v:E.B(eB,b)?a.e:E.B("a",b)?a.a:E.B(Qw,b)?a.Ta(null):E.B("added",b)?a.Lc(null):E.B("tx",b)?a.Ta(null):E.B(hB,b)?a.a:c}function mS(a){switch(arguments.length){case 2:return lS(arguments[0],arguments[1]);case 3:return nS(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}
function lS(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ta(null);case 4:return a.Lc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.C(b)].join(""));}}function nS(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ta(null);case 4:return a.Lc(null);default:return c}}
function oS(a,b,c){switch(b instanceof D?b.ba:null){case "e":return pS.ma(c,a.a,a.v,a.Ta(null),a.Lc(null));case "a":return pS.ma(a.e,c,a.v,a.Ta(null),a.Lc(null));case "v":return pS.ma(a.e,a.a,c,a.Ta(null),a.Lc(null));case "tx":return pS.ma(a.e,a.a,a.v,c,a.Lc(null));case "added":return pS.ma(a.e,a.a,a.v,a.Ta(null),c);default:throw new ZR(["invalid key for #datascript/Datom: ",t.C(b)].join(""));}}function rS(a,b){return null==a?0:null==b?0:Kf(a,b)}function sS(a,b){return gb(qc(oc(a)),qc(oc(b)))}
function tS(a,b){try{return E.B(a,b)?0:(null!=a?a.T&2048||l===a.zd||(a.T?0:nc(Md,a)):nc(Md,a))?Nd(a,b):oc(a)===oc(b)?"number"===typeof a||"string"===typeof a||gc(a)||!0===a||!1===a?gb(a,b):ke(a)-ke(b):sS(a,b)}catch(d){if(d instanceof Error){var c=d;if(oc(a)===oc(b))throw c;return sS(a,b)}throw d;}}function uS(a,b){return null==a?0:null==b?0:tS(a,b)}function vS(a,b){var c=a.e-b.e;return 0===c?(c=rS(a.a,b.a),0===c?(c=uS(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}
function wS(a,b){var c=rS(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=uS(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function xS(a,b){var c=rS(a.a,b.a);return 0===c?(c=uS(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function yS(a,b){return a instanceof D?Nd(a,b):gb(a,b)}function zS(a,b){var c=a.e-b.e;return 0===c?(c=yS(a.a,b.a),0===c?(c=tS(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}
function AS(a,b){var c=yS(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=tS(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function BS(a,b){var c=yS(a.a,b.a);return 0===c?(c=tS(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function CS(){}
function DS(a,b){if(null!=a&&null!=a.Li)a=a.Li(a,b);else{var c=DS[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=DS._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ISearch.-search",a);}return a}function ES(a,b){return H(DS(a,b))}
function FS(a,b,c){if(null!=a&&null!=a.Ji)a=a.Ji(a,b,c);else{var d=FS[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=FS._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IIndexAccess.-datoms",a);}return a}function GS(a,b){if(null!=a&&null!=a.Ki)a=a.Ki(a,uA,b);else{var c=GS[ha(null==a?null:a)];if(null!=c)a=c.D?c.D(a,uA,b):c.call(null,a,uA,b);else if(c=GS._,null!=c)a=c.D?c.D(a,uA,b):c.call(null,a,uA,b);else throw pc("IIndexAccess.-seek-datoms",a);}return a}
function HS(a,b,c){if(E.B(b,Pm)&&(b=H(c),null!=b&&!r(IS.B?IS.B(a,b):IS.call(null,a,b))))throw qm(["Attribute ",ol.I(M([b]))," should be marked as :db/index true"].join(""),new q(null,3,[ex,TB,rC,Pm,tm,c],null));}function JS(){}function KS(a){if(null!=a&&null!=a.pk)a=a.Lb;else{var b=KS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=KS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDB.-schema",a);}return a}
function LS(a,b){if(null!=a&&null!=a.Ii)a=a.Ii(a,b);else{var c=LS[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=LS._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IDB.-attrs-by",a);}return a}function MS(a,b,c,d,e,f,h,k,m,n,p,u,v){this.Lb=a;this.Bb=b;this.Sb=c;this.Qb=d;this.dc=e;this.ec=f;this.Xb=h;this.Wb=k;this.Vb=m;this.hash=n;this.G=p;this.F=u;this.J=v;this.O=2230716170;this.T=139264}g=MS.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "schema":return this.Lb;case "eavt":return this.Bb;case "aevt":return this.Sb;case "avet":return this.Qb;case "max-eid":return this.dc;case "max-tx":return this.ec;case "rschema":return this.Xb;case "pull-patterns":return this.Wb;case "pull-attrs":return this.Vb;case "hash":return this.hash;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,V.B(new X(null,10,5,Z,[new X(null,2,5,Z,[Ay,this.Lb],null),new X(null,2,5,Z,[uA,this.Bb],null),new X(null,2,5,Z,[WB,this.Sb],null),new X(null,2,5,Z,[Pm,this.Qb],null),new X(null,2,5,Z,[ws,this.dc],null),new X(null,2,5,Z,[rt,this.ec],null),new X(null,2,5,Z,[Az,this.Xb],null),new X(null,2,5,Z,[ls,this.Wb],null),new X(null,2,5,Z,[fz,this.Vb],null),new X(null,2,5,Z,[iD,this.hash],null)],null),this.F))};
g.qa=function(){return new ej(this,10,new X(null,10,5,Z,[Ay,uA,WB,Pm,ws,rt,Az,ls,fz,iD],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new MS(this.Lb,this.Bb,this.Sb,this.Qb,this.dc,this.ec,this.Xb,this.Wb,this.Vb,this.hash,this.G,this.F,this.J)};g.la=function(){return 10+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1515640948^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Lb,b.Lb)&&E.B(this.Bb,b.Bb)&&E.B(this.Sb,b.Sb)&&E.B(this.Qb,b.Qb)&&E.B(this.dc,b.dc)&&E.B(this.ec,b.ec)&&E.B(this.Xb,b.Xb)&&E.B(this.Wb,b.Wb)&&E.B(this.Vb,b.Vb)&&E.B(this.hash,b.hash)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,10,[Ay,null,rt,null,iD,null,WB,null,Pm,null,ws,null,uA,null,fz,null,ls,null,Az,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new MS(this.Lb,this.Bb,this.Sb,this.Qb,this.dc,this.ec,this.Xb,this.Wb,this.Vb,this.hash,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Ay,b):U.call(null,Ay,b))?new MS(c,this.Bb,this.Sb,this.Qb,this.dc,this.ec,this.Xb,this.Wb,this.Vb,this.hash,this.G,this.F,null):r(U.B?U.B(uA,b):U.call(null,uA,b))?new MS(this.Lb,c,this.Sb,this.Qb,this.dc,this.ec,this.Xb,this.Wb,this.Vb,this.hash,this.G,this.F,null):r(U.B?U.B(WB,b):U.call(null,WB,b))?new MS(this.Lb,this.Bb,c,this.Qb,this.dc,this.ec,this.Xb,this.Wb,this.Vb,this.hash,this.G,this.F,null):r(U.B?U.B(Pm,b):U.call(null,Pm,b))?new MS(this.Lb,this.Bb,this.Sb,
c,this.dc,this.ec,this.Xb,this.Wb,this.Vb,this.hash,this.G,this.F,null):r(U.B?U.B(ws,b):U.call(null,ws,b))?new MS(this.Lb,this.Bb,this.Sb,this.Qb,c,this.ec,this.Xb,this.Wb,this.Vb,this.hash,this.G,this.F,null):r(U.B?U.B(rt,b):U.call(null,rt,b))?new MS(this.Lb,this.Bb,this.Sb,this.Qb,this.dc,c,this.Xb,this.Wb,this.Vb,this.hash,this.G,this.F,null):r(U.B?U.B(Az,b):U.call(null,Az,b))?new MS(this.Lb,this.Bb,this.Sb,this.Qb,this.dc,this.ec,c,this.Wb,this.Vb,this.hash,this.G,this.F,null):r(U.B?U.B(ls,b):
U.call(null,ls,b))?new MS(this.Lb,this.Bb,this.Sb,this.Qb,this.dc,this.ec,this.Xb,c,this.Vb,this.hash,this.G,this.F,null):r(U.B?U.B(fz,b):U.call(null,fz,b))?new MS(this.Lb,this.Bb,this.Sb,this.Qb,this.dc,this.ec,this.Xb,this.Wb,c,this.hash,this.G,this.F,null):r(U.B?U.B(iD,b):U.call(null,iD,b))?new MS(this.Lb,this.Bb,this.Sb,this.Qb,this.dc,this.ec,this.Xb,this.Wb,this.Vb,c,this.G,this.F,null):new MS(this.Lb,this.Bb,this.Sb,this.Qb,this.dc,this.ec,this.Xb,this.Wb,this.Vb,this.hash,this.G,Q.D(this.F,
b,c),null)};g.ka=function(){return G(V.B(new X(null,10,5,Z,[new Y(Ay,this.Lb,null),new Y(uA,this.Bb,null),new Y(WB,this.Sb,null),new Y(Pm,this.Qb,null),new Y(ws,this.dc,null),new Y(rt,this.ec,null),new Y(Az,this.Xb,null),new Y(ls,this.Wb,null),new Y(fz,this.Vb,null),new Y(iD,this.hash,null)],null),this.F))};g.ha=function(a,b){return new MS(this.Lb,this.Bb,this.Sb,this.Qb,this.dc,this.ec,this.Xb,this.Wb,this.Vb,this.hash,b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function NS(a){var b=R.I(a,Ay,M([uA,WB,Pm,ws,rt,Az,ls,fz,iD]));b=yf(a)?gi.B(W,b):b;return new MS(Ay.C(a),uA.C(a),WB.C(a),Pm.C(a),ws.C(a),rt.C(a),Az.C(a),ls.C(a),fz.C(a),iD.C(a),null,bh(b),null)}g.Na=l;g.ia=function(a,b,c){return OS.D?OS.D(this,b,c):OS.call(null,this,b,c)};g.xi=l;g.la=function(){return K(this.Bb)};g.ck=l;g.Wc=function(){return xd(this.Bb)};g.fg=l;g.ja=function(){return PS.C?PS.C(this):PS.call(null,this)};
g.da=function(a,b){return QS.B?QS.B(this,b):QS.call(null,this,b)};g.zi=l;g.se=function(){return oi.D(oi.D(oi.D(this,uA,Kg),WB,Kg),Pm,Kg)};g.Ai=l;g.Pa=function(){var a=this.Lb;a=RS?RS(a):SS.call(null,a);return qf(a,rf(this))};g.te=function(){throw qm("datascript.DB/conj! is not supported",W);};g.De=function(){return oi.D(oi.D(oi.D(this,uA,Lg),WB,Lg),Pm,Lg)};
g.Ji=function(a,b,c){HS(this,b,c);return VR(B.B(this,b),TS.ma?TS.ma(this,b,c,0,536870912):TS.call(null,this,b,c,0,536870912),TS.ma?TS.ma(this,b,c,2147483647,2147483647):TS.call(null,this,b,c,2147483647,2147483647))};g.Ki=function(a,b,c){HS(this,b,c);return VR(B.B(this,b),TS.ma?TS.ma(this,b,c,0,536870912):TS.call(null,this,b,c,0,536870912),pS.R(2147483647,null,null,2147483647))};g.Hi=l;g.pk=function(){return this.Lb};g.Ii=function(a,b){a=this.Xb;return a.C?a.C(b):a.call(null,b)};g.qk=l;
g.Li=function(a,b){a=N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null);b=this.Bb;var f=this.Sb,h=this.Qb;S(LS(this,Fu),c);return r(a)?r(c)?null!=d?r(e)?VR(b,pS.R(a,c,d,e),pS.R(a,c,d,e)):VR(b,pS.R(a,c,d,536870912),pS.R(a,c,d,2147483647)):r(e)?ei(function(k){return E.B(e,k.Ta(null))},VR(b,pS.R(a,c,null,536870912),pS.R(a,c,null,2147483647))):VR(b,pS.R(a,c,null,536870912),pS.R(a,c,null,2147483647)):null!=d?r(e)?ei(function(k){return E.B(d,k.v)&&E.B(e,k.Ta(null))},VR(b,pS.R(a,null,null,536870912),
pS.R(a,null,null,2147483647))):ei(function(k){return E.B(d,k.v)},VR(b,pS.R(a,null,null,536870912),pS.R(a,null,null,2147483647))):r(e)?ei(function(k){return E.B(e,k.Ta(null))},VR(b,pS.R(a,null,null,536870912),pS.R(a,null,null,2147483647))):VR(b,pS.R(a,null,null,536870912),pS.R(a,null,null,2147483647)):r(c)?null!=d?r(e)?r(IS.B?IS.B(this,c):IS.call(null,this,c))?ei(function(k){return E.B(e,k.Ta(null))},VR(h,pS.R(0,c,d,536870912),pS.R(2147483647,c,d,2147483647))):ei(function(k){return E.B(d,k.v)&&E.B(e,
k.Ta(null))},VR(f,pS.R(0,c,null,536870912),pS.R(2147483647,c,null,2147483647))):r(IS.B?IS.B(this,c):IS.call(null,this,c))?VR(h,pS.R(0,c,d,536870912),pS.R(2147483647,c,d,2147483647)):ei(function(k){return E.B(d,k.v)},VR(f,pS.R(0,c,null,536870912),pS.R(2147483647,c,null,2147483647))):r(e)?ei(function(k){return E.B(e,k.Ta(null))},VR(f,pS.R(0,c,null,536870912),pS.R(2147483647,c,null,2147483647))):VR(f,pS.R(0,c,null,536870912),pS.R(2147483647,c,null,2147483647)):null!=d?r(e)?ei(function(k){return E.B(d,
k.v)&&E.B(e,k.Ta(null))},b):ei(function(k){return E.B(d,k.v)},b):r(e)?ei(function(k){return E.B(e,k.Ta(null))},b):b};
function US(a,b){switch(b instanceof D?b.ba:null){case "db.unique/identity":return new X(null,3,5,Z,[Dm,kt,oC],null);case "db.unique/value":return new X(null,3,5,Z,[Dm,Dy,oC],null);case "db.cardinality/many":return new X(null,1,5,Z,[Fu],null);case "db.type/ref":return new X(null,2,5,Z,[wt,oC],null);default:return E.B(Em,a)&&!0===b?new X(null,1,5,Z,[Em],null):E.B(oC,a)&&!0===b?new X(null,1,5,Z,[oC],null):E.B(yn,a)?new X(null,2,5,Z,[zv,oC],null):jf}}
function VS(a,b){return w.D(function(c,d){return cS(function(e,f,h){return oi.ma(e,f,Q,d,h)},c,yn.C(B.B(a,d)))},W,zv.C(b))}function WS(a){var b=Sf(function(c,d,e){return Sf(function(f,h,k){return w.D(function(m,n){return oi.R(m,n,bS,d)},f,US(h,k))},c,e)},W,a);return Q.D(b,az,VS(a,b))}function XS(a,b,c,d){if(null!=c&&!S(d,c))throw qm(["Bad attribute specification for ",ol.I(M([nf([a,nf([b,c])])])),", expected one of ",t.C(d)].join(""),new q(null,4,[ex,Cn,Ow,a,sD,b,Wr,c],null));}
function YS(a){for(var b=G(a),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null),k=N(f,1,null),m=Em.B(k,!1);XS(h,Em,Em.C(k),new xk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=m;return r(I)?ah.B(pu.C(k),wt):I}()))throw qm(["Bad attribute specification for ",ol.I(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[ex,Cn,Ow,h,sD,Em],null));XS(h,Dm,Dm.C(k),new xk(null,new q(null,2,[kt,null,Dy,null],null),null));XS(h,
pu,pu.C(k),new xk(null,new q(null,2,[zv,null,wt,null],null),null));XS(h,sq,sq.C(k),new xk(null,new q(null,2,[Fu,null,Gs,null],null),null));if(E.B(zv,pu.C(k))&&!S(k,yn))throw qm(["Bad attribute specification for ",ol.I(M([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new q(null,3,[ex,Cn,Ow,h,sD,pu],null));if(S(k,yn)){f=new q(null,3,[ex,Cn,Ow,h,sD,yn],null);if(E.B(Fu,sq.C(k)))throw qm([ol.I(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=
yn.C(k);if(!wf(n))throw qm([ol.I(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",ol.I(M([n]))].join(""),f);if(tf(n))throw qm([ol.I(M([h]))," :db/tupleAttrs cant be empty"].join(""),f);n=G(n);for(var p=null,u=0,v=0;;)if(v<u){var z=p.Da(null,v),C=Q.D(f,Wr,z);if(S(B.B(a,z),yn))throw qm([ol.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ol.I(M([z]))].join(""),C);if(E.B(Fu,sq.C(B.B(a,z))))throw qm([ol.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",
ol.I(M([z]))].join(""),C);v+=1}else if(n=G(n)){if(Af(n))u=Pd(n),n=Qd(n),p=u,u=K(u);else{p=H(n);u=Q.D(f,Wr,p);if(S(B.B(a,p),yn))throw qm([ol.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ol.I(M([p]))].join(""),u);if(E.B(Fu,sq.C(B.B(a,p))))throw qm([ol.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",ol.I(M([p]))].join(""),u);n=J(n);p=null;u=0}v=0}else break}e+=1}else if(h=G(b)){b=h;if(Af(b))c=Pd(b),b=Qd(b),h=c,d=K(c),c=h;else{c=H(b);h=N(c,0,null);
k=N(c,1,null);var F=Em.B(k,!1);XS(h,Em,Em.C(k),new xk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=F;return r(I)?ah.B(pu.C(k),wt):I}()))throw qm(["Bad attribute specification for ",ol.I(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[ex,Cn,Ow,h,sD,Em],null));XS(h,Dm,Dm.C(k),new xk(null,new q(null,2,[kt,null,Dy,null],null),null));XS(h,pu,pu.C(k),new xk(null,new q(null,2,[zv,null,wt,null],null),null));XS(h,sq,sq.C(k),
new xk(null,new q(null,2,[Fu,null,Gs,null],null),null));if(E.B(zv,pu.C(k))&&!S(k,yn))throw qm(["Bad attribute specification for ",ol.I(M([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new q(null,3,[ex,Cn,Ow,h,sD,pu],null));if(S(k,yn)){c=new q(null,3,[ex,Cn,Ow,h,sD,yn],null);if(E.B(Fu,sq.C(k)))throw qm([ol.I(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=yn.C(k);if(!wf(d))throw qm([ol.I(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",
ol.I(M([d]))].join(""),c);if(tf(d))throw qm([ol.I(M([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=G(d);e=null;for(n=f=0;;)if(n<f){p=e.Da(null,n);u=Q.D(c,Wr,p);if(S(B.B(a,p),yn))throw qm([ol.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ol.I(M([p]))].join(""),u);if(E.B(Fu,sq.C(B.B(a,p))))throw qm([ol.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",ol.I(M([p]))].join(""),u);n+=1}else if(d=G(d)){if(Af(d))f=Pd(d),d=Qd(d),e=f,f=K(f);else{e=H(d);
f=Q.D(c,Wr,e);if(S(B.B(a,e),yn))throw qm([ol.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ol.I(M([e]))].join(""),f);if(E.B(Fu,sq.C(B.B(a,e))))throw qm([ol.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",ol.I(M([e]))].join(""),f);d=J(d);e=null;f=0}n=0}else break}b=J(b);c=null;d=0}e=0}else return null}
function SS(a){switch(arguments.length){case 0:return RS(null);case 1:return RS(arguments[0]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function RS(a){YS(a);return NS(Uj([Ay,rt,iD,WB,Pm,ws,uA,fz,ls,Az],[a,536870912,Fh(0),YR(wS),YR(xS),0,YR(vS),dR(),dR(),WS(sk.I(M([new q(null,1,[qu,new q(null,1,[Dm,kt],null)],null),a])))]))}
function ZS(a){var b=eB.C,c=pS.R(536870911,null,null,2147483647),d=pS.R(0,null,null,536870912);a=SR(a,d,c,a.Kc);a=null==a?null:xd(a);b=b.call(eB,H(a));return r(b)?b:0}
function aT(a,b){var c=H(Vh(qS,a));if(null!=c)throw qm(["init-db expects list of Datoms, got ",ol.I(M([oc(c)]))].join(""),new q(null,1,[ex,Kt],null));YS(b);c=WS(sk.I(M([new q(null,1,[qu,new q(null,1,[Dm,kt],null)],null),b])));var d=oC.C(c),e=fR(a)?a:eR(a);e.sort(zS);var f=WR(vS,e);e.sort(AS);e=WR(wS,e);a=Of(ei(function(m){return S(d,m.a)},a));a.sort(BS);a=WR(xS,a);var h=ZS(f),k=Wf(Rh.C(function(m){return m.Ta(null)}),bg,536870912,f);return NS(Uj([Ay,rt,iD,WB,Pm,ws,uA,fz,ls,Az],[b,k,Fh(0),e,a,h,f,
dR(),dR(),c]))}function PS(a){var b=y(a.hash);return 0===b?Gh(a.hash,dS(ke(a.Lb),ke(a.Bb))):b}function QS(a,b){var c;if(c=b instanceof MS||!1)if(c=E.B(KS(a),KS(b)))a:for(a=FS(a,uA,jf),c=FS(b,uA,jf),b=G(a),a=G(c);;){if(null==b){c=null==a;break a}if(E.B(H(b),H(a)))b=J(b),a=J(a);else{c=!1;break a}}return c}
function OS(a,b,c){yd(b,"#datascript/DB {");yd(b,":schema ");gl(KS(a),b,c);yd(b,", :datoms ");Zk(b,function(d,e,f){return Zk(e,gl,"["," ","]",f,new X(null,4,5,Z,[d.e,d.a,d.v,eS(d)],null))},"["," ","]",c,FS(a,uA,jf));return yd(b,"}")}
function bT(a,b,c,d,e,f,h){if(r(c)){var k=new kf(null,bw,new kf(null,kr,new kf(null,b,new kf(null,c,new kf(null,d,new kf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);cT.B?cT.B(c,k):cT.call(null,c,k)}return pS.R(function(){var m=dT.B?dT.B(a,b):dT.call(null,a,b);return r(m)?m:f}(),c,r(function(){var m=null!=d;return m?eT.B?eT.B(a,c):eT.call(null,a,c):m}())?fT.B?fT.B(a,d):fT.call(null,a,d):d,function(){var m=dT.B?dT.B(a,e):dT.call(null,a,e);return r(m)?m:h}())}
function TS(a,b,c,d,e){var f=N(c,0,null),h=N(c,1,null),k=N(c,2,null);c=N(c,3,null);b=b instanceof D?b.ba:null;switch(b){case "eavt":return bT(a,f,h,k,c,d,e);case "aevt":return bT(a,h,f,k,c,d,e);case "avet":return bT(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.C(b)].join(""));}}function gT(a,b,c,d,e,f,h,k){this.Zc=a;this.Yc=b;this.gd=c;this.ed=d;this.hd=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=gT.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "db-before":return this.Zc;case "db-after":return this.Yc;case "tx-data":return this.gd;case "tempids":return this.ed;case "tx-meta":return this.hd;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[mw,this.Zc],null),new X(null,2,5,Z,[Tz,this.Yc],null),new X(null,2,5,Z,[By,this.gd],null),new X(null,2,5,Z,[dE,this.ed],null),new X(null,2,5,Z,[An,this.hd],null)],null),this.F))};g.qa=function(){return new ej(this,5,new X(null,5,5,Z,[mw,Tz,By,dE,An],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new gT(this.Zc,this.Yc,this.gd,this.ed,this.hd,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2022644885^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Zc,b.Zc)&&E.B(this.Yc,b.Yc)&&E.B(this.gd,b.gd)&&E.B(this.ed,b.ed)&&E.B(this.hd,b.hd)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,5,[dE,null,Tz,null,mw,null,By,null,An,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new gT(this.Zc,this.Yc,this.gd,this.ed,this.hd,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(mw,b):U.call(null,mw,b))?new gT(c,this.Yc,this.gd,this.ed,this.hd,this.G,this.F,null):r(U.B?U.B(Tz,b):U.call(null,Tz,b))?new gT(this.Zc,c,this.gd,this.ed,this.hd,this.G,this.F,null):r(U.B?U.B(By,b):U.call(null,By,b))?new gT(this.Zc,this.Yc,c,this.ed,this.hd,this.G,this.F,null):r(U.B?U.B(dE,b):U.call(null,dE,b))?new gT(this.Zc,this.Yc,this.gd,c,this.hd,this.G,this.F,null):r(U.B?U.B(An,b):U.call(null,An,b))?new gT(this.Zc,this.Yc,this.gd,this.ed,c,this.G,this.F,
null):new gT(this.Zc,this.Yc,this.gd,this.ed,this.hd,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(mw,this.Zc,null),new Y(Tz,this.Yc,null),new Y(By,this.gd,null),new Y(dE,this.ed,null),new Y(An,this.hd,null)],null),this.F))};g.ha=function(a,b){return new gT(this.Zc,this.Yc,this.gd,this.ed,this.hd,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function hT(a){var b=R.I(a,mw,M([Tz,By,dE,An]));b=yf(a)?gi.B(W,b):b;return new gT(mw.C(a),Tz.C(a),By.C(a),dE.C(a),An.C(a),null,bh(b),null)}function iT(a,b,c){return S(LS(a,c),b)}function jT(a,b){return iT(a,b,Fu)}function eT(a,b){return iT(a,b,wt)}function IS(a,b){return iT(a,b,oC)}
function kT(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw qm(["Highest supported entity id is ",ol.I(M([2147483647])),", got ",ol.I(M([b]))].join(""),new q(null,2,[ex,mq,Wr,b],null));return b}if(wf(b)){var c=b,d=N(c,0,null);c=N(c,1,null);if(ah.B(K(b),2))throw qm(["Lookup ref should contain 2 elements: ",ol.I(M([b]))].join(""),new q(null,2,[ex,st,mq,b],null));if(iT(a,d,Dm))return null==c?null:eB.C(H(FS(a,Pm,b)));throw qm(["Lookup ref attribute should be marked as :db/unique: ",ol.I(M([b]))].join(""),
new q(null,2,[ex,Av,mq,b],null));}if(gc(b))b=M(b);else{if(b instanceof D)return eB.C(H(FS(a,Pm,new X(null,2,5,Z,[qu,b],null))));throw qm(["Expected number or lookup ref for entity id, got ",ol.I(M([b]))].join(""),new q(null,2,[ex,Oo,mq,b],null));}}}function fT(a,b){a=kT(a,b);if(r(a))return a;throw qm(["Nothing found for entity id ",ol.I(M([b]))].join(""),new q(null,2,[ex,Fx,mq,b],null));}function dT(a,b){return r(b)?fT(a,b):null}
function cT(a,b){if(a instanceof D||"string"===typeof a)return null;throw qm(["Bad entity attribute ",ol.I(M([a]))," at ",ol.I(M([b])),", expected keyword or string"].join(""),new q(null,3,[ex,Iv,Ow,a,UC,b],null));}function lT(a,b){if(null==a)throw qm(["Cannot store nil as a value at ",ol.I(M([b]))].join(""),new q(null,3,[ex,Iv,Wr,a,UC,b],null));return null}function mT(a){return ki(a,new X(null,2,5,Z,[mw,rt],null))+1}
function nT(a){return E.B(a,xm)||E.B(a,":db/current-tx")||E.B(a,"datomic.tx")||E.B(a,"datascript.tx")}function oT(a){return"number"===typeof a&&0>a||"string"===typeof a}function pT(a,b){return b>ws.C(a)&&536870912>b?Q.D(a,ws,b):a}function qT(a,b,c){var d=nT(b)?oi.ma(a,dE,Q,b,c):a;d=oT(b)?oi.ma(d,dE,Q,b,c):d;if(b=!oT(b))a=Tz.C(a),b=c>ws.C(a)&&536870912>c;a=b?oi.ma(d,dE,Q,c,c):d;return oi.R(a,Tz,pT,c)}
function rT(a,b,c,d,e){return Sf(function(f,h,k){var m=B.B(f,h);r(m)||(m=lB.C(H(FS(c,uA,new X(null,2,5,Z,[d,h],null)))),m=r(m)?m:Li(Yh(K(yn.C(B.B(KS(c),h))),null)));k=Q.D(m,k,e);return Q.D(f,h,k)},a,b)}
function sT(a,b){var c=Tz.C(a),d=hB.C(b),e=oi.R,f=Q.D;var h=b.Lc(null);h=r(h)?iT(c,b.a,Dm):h;if(r(h)&&(h=bh(FS(c,Pm,new X(null,2,5,Z,[b.a,b.v],null))),null!=h))throw qm(["Cannot add ",ol.I(M([b]))," because of unique constraint: ",ol.I(M([h]))].join(""),new q(null,3,[ex,lt,Ow,b.a,HA,b],null));h=IS(c,b.a);if(r(b.Lc(null))){var k=oi.ma(c,uA,FR,b,zS);k=oi.ma(k,WB,FR,b,AS);h=h?oi.ma(k,Pm,FR,b,BS):k;h=pT(h,b.e);h=Q.D(h,iD,Fh(0))}else if(k=ES(c,new X(null,3,5,Z,[b.e,b.a,b.v],null)),null==k)h=c;else{var m=
oi.ma(c,uA,ER,k,zS);m=oi.ma(m,WB,ER,k,AS);h=h?oi.ma(m,Pm,ER,k,BS):m;h=Q.D(h,iD,Fh(0))}a=e.call(oi,f.call(Q,a,Tz,h),By,hf,b);return iT(c,d,az)?(e=eB.C(b),b=r(fS(b))?lB.C(b):null,f=B.B(vC.C(a),e),f=r(f)?f:W,d=B.B(LS(c,az),d),c=rT(f,d,c,e,b),oi.ma(a,vC,Q,e,c)):a}
function tT(a){if(a instanceof D)return E.B("_",Te(vg(a),0));if("string"===typeof a)return Ff(Uk(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw qm(["Bad attribute type: ",ol.I(M([a])),", expected keyword or string"].join(""),new q(null,2,[ex,Iv,Ow,a],null));}
function uT(a){if(a instanceof D)return tT(a)?ug.B(sg(a),lg.B(vg(a),1)):ug.B(sg(a),["_",vg(a)].join(""));if("string"===typeof a){var b=Uk(/(?:([^\/]+)\/)?([^\/]+)/,a);N(b,0,null);a=N(b,1,null);b=N(b,2,null);return E.B("_",Te(b,0))?r(a)?[t.C(a),"/",lg.B(b,1)].join(""):lg.B(b,1):r(a)?[t.C(a),"/_",t.C(b)].join(""):["_",t.C(b)].join("")}throw qm(["Bad attribute type: ",ol.I(M([a])),", expected keyword or string"].join(""),new q(null,2,[ex,Iv,Ow,a],null));}
function vT(a,b){function c(f,h){return w.D(function(k,m){var n=d(f,m);return null==n?oi.R(k,0,hf,m):oi.ma(k,1,Q,m,n)},new X(null,2,5,Z,[jf,W],null),h)}function d(f,h){return eB.C(H(FS(a,Pm,new X(null,2,5,Z,[f,h],null))))}var e=bh(LS(a,kt));return null==e?new X(null,2,5,Z,[b,null],null):Sf(function(f,h,k){var m=N(f,0,null);f=N(f,1,null);cT(h,b);lT(k,b);if(S(e,h)){if(jT(a,h)&&(fR(k)||uf(k)&&!xf(k))){var n=c(h,k);k=N(n,0,null);n=N(n,1,null);return new X(null,2,5,Z,[tf(k)?m:Q.D(m,h,k),tf(n)?f:Q.D(f,
h,n)],null)}n=d(h,k);return null==n?new X(null,2,5,Z,[Q.D(m,h,k),f],null):new X(null,2,5,Z,[m,Q.D(f,h,nf([k,n]))],null)}return new X(null,2,5,Z,[Q.D(m,h,k),f],null)},new X(null,2,5,Z,[W,W],null),b)}
function wT(a,b){var c=Sf(function(h,k,m){return Sf(function(n,p,u){return Q.D(n,u,new X(null,2,5,Z,[k,p],null))},h,m)},W,b);if(2<=K(c)){b=H(c);a=N(b,0,null);var d=N(b,1,null);b=N(d,0,null);d=N(d,1,null);var e=ef(c);c=N(e,0,null);var f=N(e,1,null);e=N(f,0,null);f=N(f,1,null);throw qm(["Conflicting upserts: ",ol.I(M([new X(null,2,5,Z,[b,d],null)]))," resolves to ",ol.I(M([a])),", but ",ol.I(M([new X(null,2,5,Z,[e,f],null)]))," resolves to ",ol.I(M([c]))].join(""),new q(null,3,[ex,Kp,PD,new X(null,
3,5,Z,[a,b,d],null),GA,new X(null,3,5,Z,[c,e,f],null)],null));}d=H(c);b=N(d,0,null);c=N(d,1,null);d=N(c,0,null);c=N(c,1,null);a=kp.C(a);if(null!=b&&null!=a&&!oT(a)&&ah.B(b,a))throw qm(["Conflicting upsert: ",ol.I(M([new X(null,2,5,Z,[d,c],null)]))," resolves to ",ol.I(M([b])),", but entity already has :db/id ",ol.I(M([a]))].join(""),new q(null,3,[ex,Kp,PD,new X(null,3,5,Z,[b,d,c],null),GA,new q(null,1,[kp,a],null)],null));return b}
function xT(a,b,c){return tT(b)||jT(a,b)?fR(c)||uf(c)&&!xf(c)?E.B(K(c),2)&&iT(a,H(c),kt)?new X(null,1,5,Z,[c],null):c:new X(null,1,5,Z,[c],null):new X(null,1,5,Z,[c],null)}
function yT(a,b){var c=kp.C(b),d=Ug(V,w.D(function(e,f){var h=N(f,0,null);f=N(f,1,null);return oi.R(e,iT(a,h,zv)?1:0,hf,new X(null,2,5,Z,[h,f],null))},new X(null,2,5,Z,[jf,jf],null),b));return function h(f){return new wg(null,function(){for(var k=f;;){var m=G(k);if(m){var n=m,p=H(n),u=N(p,0,null),v=N(p,1,null);if(ah.B(u,kp)){var z=cT(u,nf([kp,c,u,v])),C=tT(u),F=C?uT(u):u;if(C&&!eT(a,F))throw qm(["Bad attribute ",ol.I(M([u])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),
new q(null,3,[ex,Iv,Ow,u,UC,nf([kp,c,u,v])],null));if(m=G(function(I,O,P,T,aa,ea,va,ua,Ma,pa,sa,Da){return function eb(Ea){return new wg(null,function(wc,ic,jc,Cb,Cd,zg,cf,yh,He,Ag,te){return function(){for(;;){var df=G(Ea);if(df){if(Af(df)){var ae=Pd(df),be=K(ae),ce=Cg(be);a:for(var Zj=0;;)if(Zj<be){var Ii=x(ae,Zj);Ii=eT(a,Cb)&&xf(Ii)?Q.D(Ii,uT(cf),te):jc?new X(null,4,5,Z,[YD,Ii,Cb,te],null):new X(null,4,5,Z,[YD,te,Cb,Ii],null);ce.add(Ii);Zj+=1}else{ae=!0;break a}return ae?Eg(Gg(ce),eb(Qd(df))):
Eg(Gg(ce),null)}ce=H(df);return Ze(eT(a,Cb)&&xf(ce)?Q.D(ce,uT(cf),te):jc?new X(null,4,5,Z,[YD,ce,Cb,te],null):new X(null,4,5,Z,[YD,te,Cb,ce],null),eb(ve(df)))}return null}}}(I,O,P,T,aa,ea,va,ua,Ma,pa,sa,Da),null,null)}}(k,z,C,F,null,p,u,v,n,m,c,d)(xT(a,u,v))))return V.B(m,h(ve(k)))}k=ve(k)}else return null}},null,null)}(d)}
function zT(a,b){N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null);cT(d,b);lT(e,b);b=r(f)?f:mT(a);f=Tz.C(a);c=fT(f,c);e=eT(f,d)?fT(f,e):e;var h=pS.R(c,d,e,b);f=jT(f,d)?ES(f,new X(null,3,5,Z,[c,d,e],null)):ES(f,new X(null,2,5,Z,[c,d],null));return null==f?sT(a,h):E.B(f.v,e)?oi.R(a,rz,aS,h):sT(sT(a,pS.ma(c,d,f.v,b,!1)),h)}function AT(a,b){var c=mT(a);return sT(a,pS.ma(b.e,b.a,b.v,c,!1))}
function BT(a,b){return gi.D(zk,wh.B(di(function(c){return iT(a,c.a,Em)}),Rh.C(function(c){return new X(null,2,5,Z,[eo,c.v],null)})),b)}function CT(a,b,c,d,e){if(S(dE.C(a),d))throw qm(["Conflicting upsert: ",ol.I(M([d]))," resolves both to ",ol.I(M([e]))," and ",ol.I(M([ki(a,new X(null,2,5,Z,[dE,d],null))]))].join(""),new q(null,1,[ex,Kp],null));b=Q.D(dE.C(b),d,e);a=Q.D(a,dE,b);return DT.B?DT.B(a,c):DT.call(null,a,c)}
var ET=new xk(null,new q(null,8,[Lq,null,Uq,null,eo,null,vp,null,qy,null,kz,null,fn,null,YD,null],null),null);function FT(a){var b=Tz.C(a);KS(b);LS(b,az);return Sf(function(c,d,e){return Sf(function(f,h,k){k=rh(fc,k)?null:k;var m=lB.C(H(FS(b,uA,new X(null,2,5,Z,[d,h],null))));return E.B(k,m)?f:null==k?hf.B(f,qf(new X(null,4,5,Z,[qy,d,h,m],null),new q(null,1,[cz,!0],null))):hf.B(f,qf(new X(null,4,5,Z,[YD,d,h,k],null),new q(null,1,[cz,!0],null)))},c,e)},jf,vC.C(a))}
function GT(a){var b=Nm.C(a);b=w.D(function(c,d){return r(fS(d))?R.B(c,eB.C(d)):c},b,V.B(By.C(a),rz.C(a)));if(tf(b))return R.I(a,Nm,M([rz]));throw qm(["Tempids used only as value in transaction: ",ol.I(M([Nf(Kf,lj(b))]))].join(""),new q(null,2,[ex,Iv,dE,b],null));}
function DT(a,b){if(null!=b&&!wf(b))throw qm(["Bad transaction data ",ol.I(M([b])),", expected sequential collection"].join(""),new q(null,2,[ex,Iv,By,b],null));for(var c=!tf(LS(Tz.C(a),zv)),d=c?ai.B(b,Xh(Fm)):b,e=a,f=d;;){if(tf(f))return oi.ma(oi.ma(GT(e),dE,Q,xm,mT(e)),Tz,oi,rt,Ee);var h=f,k=G(h),m=H(k),n=J(k),p=m,u=n;if(null==p)f=u;else if(E.B(Fm,p))if(S(e,vC)){var v=R.B(e,vC);u=V.B(FT(e),u);e=v;f=u}else f=u;else{var z=Tz.C(e),C=dE.C(e);if(xf(p)){var F=kp.C(p);if(nT(F))v=mT(e),e=qT(e,F,v),f=u=
Ze(Q.D(p,kp,v),u);else if(wf(F))v=fT(z,F),f=u=Ze(Q.D(p,kp,v),u);else{var I=vT(z,p);v=N(I,0,null);I=N(I,1,null);var O=wT(v,I);if(null!=O){if(oT(F)&&S(C,F)&&ah.B(O,B.B(C,F)))return CT(a,e,b,F,O);e=oi.R(qT(e,F,O),rz,aS,pS.R(O,null,null,536870912));f=u=V.B(yT(z,Q.D(v,kp,O)),u)}else if("number"===typeof F||null==F||"string"===typeof F)v=null==F?ws.C(z)+1:oT(F)?function(){var Cb=B.B(C,F);return r(Cb)?Cb:ws.C(z)+1}():F,p=Q.D(p,kp,v),e=qT(e,F,v),f=u=V.B(yT(z,p),u);else throw qm(["Expected number, string or lookup ref for :db/id, got ",
ol.I(M([F]))].join(""),new q(null,2,[ex,Oo,Vz,p],null));}}else if(wf(p)){var P=p;I=N(P,0,null);var T=N(P,1,null);v=N(P,2,null);var aa=N(P,3,null);if(E.B(I,Lq)){v=G(p);p=H(v);v=J(v);var ea=p;p=H(v);v=J(v);f=u=V.B(Vg(p,z,v),u)}else if(I instanceof D&&kc(ET.C?ET.C(I):ET.call(null,I))){ea=kT(z,I);if(null==ea)throw qm(["Cant find entity for transaction fn ",ol.I(M([I]))].join(""),new q(null,3,[ex,Iv,mp,Lq,By,p],null));T=lB.C(ES(z,new X(null,2,5,Z,[ea,No],null)));v=J(p);if(of(T))f=u=V.B(Vg(T,z,v),u);else throw qm(["Entity ",
ol.I(M([I]))," expected to have :db/fn attribute with fn? value"].join(""),new q(null,3,[ex,Iv,mp,Lq,By,p],null));}else{if(oT(T)&&ah.B(I,YD))throw qm(["Can't use tempid in '",ol.I(M([p])),"'. Tempids are allowed in :db/add only"].join(""),new q(null,2,[ex,Iv,vw,p],null));if(E.B(I,fn)||E.B(I,Uq)){var va=p;ea=N(va,0,null);var ua=N(va,1,null),Ma=N(va,2,null),pa=N(va,3,null),sa=N(va,4,null),Da=fT(z,ua),Ca=cT(Ma,p),Ea=eT(z,Ma)?fT(z,pa):pa,eb=eT(z,Ma)?fT(z,sa):sa,wc=lT(eb,p),ic=Li(DS(z,new X(null,2,5,Z,
[Da,Ma],null)));if(jT(z,Ma))if(r(sh(function(Cb,Cd,zg,cf,yh,He,Ag,te,df,ae,be){return function(ce){return E.B(ce.v,be)}}(e,f,va,ea,ua,Ma,pa,sa,Da,Ca,Ea,eb,wc,ic,P,I,T,v,aa,z,C,h,k,m,n,p,u,a,c,d),ic)))e=zT(e,new X(null,4,5,Z,[YD,Da,Ma,eb],null)),f=u;else throw qm([":db.fn/cas failed on datom [",ol.I(M([Da]))," ",ol.I(M([Ma]))," ",ol.I(M([Rh.B(lB,ic)])),"], expected ",ol.I(M([Ea]))].join(""),new q(null,4,[ex,dn,aD,ic,jv,Ea,py,eb],null));else if(I=lB.C(H(ic)),E.B(I,Ea))e=zT(e,new X(null,4,5,Z,[YD,Da,
Ma,eb],null)),f=u;else throw qm([":db.fn/cas failed on datom [",ol.I(M([Da]))," ",ol.I(M([Ma]))," ",ol.I(M([I])),"], expected ",ol.I(M([Ea]))].join(""),new q(null,4,[ex,dn,aD,H(ic),jv,Ea,py,eb],null));}else if(nT(T))p=qT(e,T,mT(e)),u=Ze(new X(null,4,5,Z,[I,mT(e),v,aa],null),u),e=p,f=u;else if(eT(z,v)&&nT(aa))p=qT(e,aa,mT(e)),u=Ze(new X(null,4,5,Z,[I,T,v,mT(e)],null),u),e=p,f=u;else if(eT(z,v)&&oT(aa))ea=B.B(C,aa),null==ea?(p=ws.C(z)+1,e=oi.ma(qT(e,aa,p),Nm,Q,p,aa),f=u=f):(p=ea,e=oi.ma(e,Nm,Q,p,aa),
f=u=Ze(new X(null,4,5,Z,[I,T,v,p],null),u));else if(oT(T)){O=iT(z,v,kt)?eB.C(H(FS(z,Pm,new X(null,2,5,Z,[v,aa],null)))):null;var jc=B.B(C,T);if(r(function(){var Cb=O;return r(Cb)?(Cb=jc,r(Cb)?ah.B(O,jc):Cb):Cb}()))return CT(a,e,b,T,O);p=function(){var Cb=O;if(r(Cb))return Cb;Cb=jc;return r(Cb)?Cb:ws.C(z)+1}();e=qT(e,T,p);f=u=Ze(new X(null,4,5,Z,[I,p,v,aa],null),u)}else if(kc(cz.C(rf(p)))&&iT(z,v,zv))if(ua=ki(z,new X(null,3,5,Z,[Ay,v,yn],null)),E.B(K(ua),K(aa))&&rh(lc,aa)&&rh(function(Cb,Cd,zg,cf,
yh,He,Ag,te,df){return function(ae){var be=N(ae,0,null);ae=N(ae,1,null);be=lB.C(H(FS(df,uA,new X(null,2,5,Z,[He,be],null))));return E.B(ae,be)}}(e,f,ua,P,I,T,v,aa,z,C,h,k,m,n,p,u,a,c,d),Rh.D(Pi,ua,aa)))f=u;else throw qm(["Cant modify tuple attrs directly: ",ol.I(M([p]))].join(""),new q(null,2,[ex,Iv,By,p],null));else if(E.B(I,YD))e=zT(e,p),f=u;else if(E.B(I,qy)&&null!=aa)ea=kT(z,T),null==ea?f=u:(ua=ea,I=eT(z,v)?fT(z,aa):aa,cT(v,p),lT(I,p),v=ES(z,new X(null,3,5,Z,[ua,v,I],null)),null==v?f=u:(e=AT(e,
v),f=u));else if(E.B(I,kz)||E.B(I,qy))ea=kT(z,T),null==ea?f=u:(ua=ea,ea=cT(v,p),ic=Li(DS(z,new X(null,2,5,Z,[ua,v],null))),e=w.D(AT,e,ic),f=u=V.B(BT(z,ic),u));else if(E.B(I,eo)||E.B(I,vp))ea=kT(z,T),null==ea?f=u:(ua=ea,ic=Li(DS(z,new X(null,1,5,Z,[ua],null))),v=Li(ci(function(Cb,Cd,zg,cf,yh,He,Ag,te,df,ae,be){return function(ce){return DS(be,new X(null,3,5,Z,[null,ce,cf],null))}}(e,f,ic,ua,ea,P,I,T,v,aa,z,C,h,k,m,n,p,u,a,c,d),M([LS(z,wt)]))),e=w.D(AT,e,V.B(ic,v)),f=u=V.B(BT(z,ic),u));else throw qm(["Unknown operation at ",
ol.I(M([p])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),new q(null,3,[ex,Iv,mp,I,By,p],null));}}else if(qS(p))I=p,T=N(I,0,null),v=N(I,1,null),aa=N(I,2,null),p=N(I,3,null),I=N(I,4,null),r(I)?(e=zT(e,new X(null,5,5,Z,[YD,T,v,aa,p],null)),f=u):f=u=Ze(new X(null,
4,5,Z,[qy,T,v,aa],null),u);else throw qm(["Bad entity type at ",ol.I(M([p])),", expected map or vector"].join(""),new q(null,2,[ex,Iv,By,p],null));}}};function HT(a,b){b="number"===typeof b||wf(b)||b instanceof D?kT(a,b):null;if(r(b)){var c=Bh(!1),d=Bh(W);return IT.R?IT.R(a,b,c,d):IT.call(null,a,b,c,d)}return null}function JT(a,b,c){return jT(a,b)?eT(a,b)?w.D(function(d,e){return hf.B(d,HT(a,lB.C(e)))},zk,c):w.D(function(d,e){return hf.B(d,lB.C(e))},zk,c):eT(a,b)?HT(a,lB.C(H(c))):lB.C(H(c))}
function KT(a,b,c,d){b=bh(DS(a,new X(null,3,5,Z,[null,c,b],null)));return r(b)?iT(a,c,Em)?HT(a,eB.C(H(b))):w.D(function(e,f){return hf.B(e,HT(a,eB.C(f)))},zk,b):d}function LT(a){return r(a)?Of(a):null}
function MT(a){NT.C?NT.C(a):NT.call(null,a);return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Cg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);p=jT(a.db,p)?new X(null,2,5,Z,[p,LT(n)],null):new X(null,2,5,Z,[p,n],null);k.add(p);m+=1}else{f=!0;break a}return f?Eg(Gg(k),d(Qd(e))):Eg(Gg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);return Ze(jT(a.db,k)?new X(null,2,5,Z,[k,LT(f)],null):new X(null,2,5,Z,[k,f],null),d(ve(e)))}return null}},
null,null)}(y(a.cache))}function OT(a,b,c,d){this.db=a;this.Sd=b;this.Yh=c;this.cache=d;this.O=2162164483;this.T=0}g=OT.prototype;g.entry_set=function(){return Of(Rh.B(Of,MT(this)))};
g.forEach=function(){function a(d,e){for(var f=G(MT(this)),h=null,k=0,m=0;;)if(m<k){var n=h.Da(null,m),p=N(n,0,null);n=N(n,1,null);d.call(e,n,p,this);m+=1}else if(f=G(f))Af(f)?(h=Pd(f),f=Qd(f),p=h,k=K(h),h=p):(h=H(f),p=N(h,0,null),n=N(h,1,null),d.call(e,n,p,this),f=J(f),h=null,k=0),m=0;else return null}function b(d){for(var e=G(MT(this)),f=null,h=0,k=0;;)if(k<h){var m=f.Da(null,k),n=N(m,0,null);m=N(m,1,null);d.D?d.D(m,n,this):d.call(null,m,n,this);k+=1}else if(e=G(e))Af(e)?(f=Pd(e),e=Qd(e),n=f,h=
K(f),f=n):(f=H(e),n=N(f,0,null),m=N(f,1,null),d.D?d.D(m,n,this):d.call(null,m,n,this),e=J(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.C=b;c.B=a;return c}();g.get=function(a){if(E.B(a,":db/id"))return this.Sd;if(tT(a))return LT(KT(this.db,this.Sd,uT(a),null));var b=PT?PT(this,a):QT.call(null,this,a);return jT(this.db,a)?LT(b):b};g.key_set=function(){return Of(kj(this))};
g.entries=function(){return new fj(G(MT(this)))};g.value_set=function(){return Of(Rh.B(ef,MT(this)))};g.toString=function(){return $d(this)};g.keys=function(){return ye(kj(this))};g.values=function(){return ye(Rh.B(ef,MT(this)))};g.equiv=function(a){return RT.B?RT.B(this,a):RT.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.oa=function(a,b){return ST?ST(this,b,null):QT.call(null,this,b,null)};g.Y=function(a,b,c){return ST?ST(this,b,c):QT.call(null,this,b,c)};
g.ia=function(a,b,c){return Bd(Q.D(y(this.cache),kp,this.Sd),b,c)};g.la=function(){NT.C?NT.C(this):NT.call(null,this);return K(y(this.cache))};g.ja=function(){return ke(this.Sd)};g.da=function(a,b){return RT.B?RT.B(this,b):RT.call(null,this,b)};g.ra=function(a,b){return ah.B(yz,ST?ST(this,b,yz):QT.call(null,this,b,yz))};g.ka=function(){NT.C?NT.C(this):NT.call(null,this);return G(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return PT?PT(this,a):QT.call(null,this,a)};g.B=function(a,b){return ST?ST(this,a,b):QT.call(null,this,a,b)};function IT(a,b,c,d){return new OT(a,b,c,d)}
function RT(a,b){return b instanceof OT&&E.B(a.Sd,b.Sd)}function QT(a){switch(arguments.length){case 2:return PT(arguments[0],arguments[1]);case 3:return ST(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function PT(a,b){return ST(a,b,null)}
function ST(a,b,c){if(E.B(b,kp))return a.Sd;if(tT(b))return KT(a.db,a.Sd,uT(b),c);var d=y(a.cache);d=d.C?d.C(b):d.call(null,b);if(null==d){if(r(y(a.Yh)))return c;d=bh(DS(a.db,new X(null,2,5,Z,[a.Sd,b],null)));if(null==d)return c;c=JT(a.db,b,d);b=Q.D(y(a.cache),b,c);Wd(a.cache,b);return c}return d}function TT(a,b){return Sf(function(c,d,e){return Q.D(c,d,iT(a,d,Em)?jT(a,d)?Bk(Rh.B(NT,e)):NT.C?NT.C(e):NT.call(null,e):e)},W,b)}
function UT(a,b){return w.D(function(c,d){var e=hB.C(H(d));return Q.D(c,e,JT(a,e,d))},W,Qk(hB,b))}function NT(a){if(!r(y(a.Yh))){var b=bh(DS(a.db,new X(null,1,5,Z,[a.Sd],null)));r(b)&&(b=TT(a.db,UT(a.db,b)),Wd(a.cache,b),Wd(a.Yh,!0))}return a}da("datascript.impl.entity.Entity",OT);var VT=function VT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return VT.I(c)};VT.I=function(a){var b=K(a);return ah.B(Sh.B(b/2,a),Th(b/2,a))};VT.aa=0;VT.fa=function(a){return this.I(G(a))};var WT=function WT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new se(c.slice(2),0,null):null;return WT.I(arguments[0],arguments[1],c)};
WT.I=function(a,b,c){return w.D(function(d,e){d=H(DS(a,new X(null,2,5,Z,[b,e],null)));return null==d?null:Ge(new X(null,2,5,Z,[hB.C(d),lB.C(d)],null))},null,c)};WT.aa=2;WT.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};var XT=function XT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return XT.I(c)};XT.I=function(a){return w.D(function(b,c){return r(c)?c:Ge(c)},!0,a)};XT.aa=0;XT.fa=function(a){return this.I(G(a))};
var YT=function YT(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return YT.I(c)};YT.I=function(a){return w.D(function(b,c){return r(c)?Ge(c):c},null,a)};YT.aa=0;YT.fa=function(a){return this.I(G(a))};
var ZT=function ZT(a){switch(arguments.length){case 1:return ZT.C(arguments[0]);case 2:return ZT.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return ZT.I(arguments[0],arguments[1],c)}};ZT.C=function(){return!0};ZT.B=function(a,b){return 0>tS(a,b)};ZT.I=function(a,b,c){for(;;)if(ZT.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return ZT.B(b,H(c));else return!1};
ZT.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};ZT.aa=2;var $T=function $T(a){switch(arguments.length){case 1:return $T.C(arguments[0]);case 2:return $T.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return $T.I(arguments[0],arguments[1],c)}};$T.C=function(){return!0};$T.B=function(a,b){return 0<tS(a,b)};
$T.I=function(a,b,c){for(;;)if($T.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return $T.B(b,H(c));else return!1};$T.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};$T.aa=2;var aU=function aU(a){switch(arguments.length){case 1:return aU.C(arguments[0]);case 2:return aU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return aU.I(arguments[0],arguments[1],c)}};aU.C=function(){return!0};
aU.B=function(a,b){return!(0<tS(a,b))};aU.I=function(a,b,c){for(;;)if(aU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return aU.B(b,H(c));else return!1};aU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};aU.aa=2;
var bU=function bU(a){switch(arguments.length){case 1:return bU.C(arguments[0]);case 2:return bU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return bU.I(arguments[0],arguments[1],c)}};bU.C=function(){return!0};bU.B=function(a,b){return!(0>tS(a,b))};bU.I=function(a,b,c){for(;;)if(bU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return bU.B(b,H(c));else return!1};
bU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};bU.aa=2;
var cU=Uj([Bu,MA,Ry,IB,by,QA,Vq,Gx,Ar,gy,bC,RC,yw,Eo,UD,PB,Sm,qs,dA,qx,xy,Kr,CA,Qn,xD,Ky,$o,ht,uD,Uv,nw,Dr,sn,Zp,Tm,bt,MB,Ww,Bo,ur,xp,wv,mA,Fp,tu,dv,Vp,Xs,xw,Ns,jD,Zy,zp,cx,Mw,dz,ct,on,zu,Bv,Tw,eC,Hn,qr,KD,WC,iC,$B,aq,FA,Lo,bn,hz,Aq],[function(a){return!0===a},XT,function(a){return!th(a)},function(a,b,c,d){if(null==d)throw qm("get-else: nil default value is not supported",new q(null,1,[ex,Zo],null));a=H(DS(a,new X(null,2,5,Z,[b,c],null)));return null==a?d:lB.C(a)},bU,ql,$T,K,WT,fc,Tf,Ee,$f,gg,function(a){return!1===
a},kc,Tf,VT,Pi,Xk,aU,function(a,b){return 0==a.lastIndexOf(b,0)},E,cg,Xf,vg,function(a,b,c){return null==B.B(HT(a,b),c)},Tf,Wl,uh,jg,$g,Kf,Nk,bg,tf,Zf,ol,rl,rf,function(a){return 0===a},ah,pl,ag,Yk,Pi,ah,B,t,ZT,sg,ug,Yf,lc,kg,Vl,Uk,pg,S,function(a,b){return Pa(a,b)},lg,fg,function(a,b){return-1!=a.indexOf(b)},ok,hg,th,oc,function(a){return 0>a},mE,bh,YT,function(a,b){return a===b},Bk,Vk]);function dU(a){return w.D(Xf,0,a)}function eU(a){return dU(a)/K(a)}
function fU(a){var b=eU(a);return dU(function(){return function e(d){return new wg(null,function(){for(;;){var f=G(d);if(f){if(Af(f)){var h=Pd(f),k=K(h),m=Cg(k);a:for(var n=0;;)if(n<k){var p=x(h,n)-b;m.add(p*p);n+=1}else{h=!0;break a}return h?Eg(Gg(m),e(Qd(f))):Eg(Gg(m),null)}m=H(f)-b;return Ze(m*m,e(ve(f)))}return null}},null,null)}(a)}())/K(a)}
var gU=function gU(a){switch(arguments.length){case 1:return gU.C(arguments[0]);case 2:return gU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};gU.C=function(a){return w.D(function(b,c){return 0>Kf(c,b)?c:b},H(a),J(a))};gU.B=function(a,b){return Li(w.D(function(c,d){return K(c)<a?Nf(Kf,hf.B(c,d)):0>Kf(d,gf(c))?Nf(Kf,hf.B(Dk(c),d)):c},jf,b))};gU.aa=2;
var hU=function hU(a){switch(arguments.length){case 1:return hU.C(arguments[0]);case 2:return hU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};hU.C=function(a){return w.D(function(b,c){return 0<Kf(c,b)?c:b},H(a),J(a))};hU.B=function(a,b){return Li(w.D(function(c,d){return K(c)<a?Nf(Kf,hf.B(c,d)):0<Kf(d,H(c))?Nf(Kf,hf.B(J(c),d)):c},jf,b))};hU.aa=2;
var iU=function iU(a){switch(arguments.length){case 1:return iU.C(arguments[0]);case 2:return iU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};iU.C=function(a){return Te(a,Wl(K(a)))};iU.B=function(a,b){return Li($h(a,function(){return Te(b,Wl(K(b)))}))};iU.aa=2;
var jU=Uj([no,Gx,Ov,ax,Qn,Tm,eA,HB,OB,wn,dz,qt],[fU,K,function(a){var b=Nf(Kf,a);a=K(a);var c=a>>1,d=Te(b,c);return th(a)?(d+Te(b,c-1))/2:d},dU,gU,hU,function(a){return K(Ck(a))},Bk,eU,function(a){return Math.sqrt(fU(a))},iU,function(a,b){var c=Sh.B;b=Of.C?Of.C(b):Of.call(null,b);ib(b);b=Li.C?Li.C(b):Li.call(null,b);return Li(c.call(Sh,a,b))}]);function kU(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){this.as=a;this.$b=b;this.limit=c;this.name=d;this.pattern=e;this.Ib=f;this.Jb=h;this.Pb=k;this.hb=m;this.Hb=n;this.Kb=p;this.Fb=u;this.G=v;this.F=z;this.J=C;this.O=2230716170;this.T=139264}g=kU.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "as":return this.as;case "default":return this.$b;case "limit":return this.limit;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.Ib;case "recursive?":return this.Jb;case "reverse?":return this.Pb;case "xform":return this.hb;case "multival?":return this.Hb;case "ref?":return this.Kb;case "component?":return this.Fb;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,V.B(new X(null,12,5,Z,[new X(null,2,5,Z,[FC,this.as],null),new X(null,2,5,Z,[lm,this.$b],null),new X(null,2,5,Z,[Km,this.limit],null),new X(null,2,5,Z,[ut,this.name],null),new X(null,2,5,Z,[bD,this.pattern],null),new X(null,2,5,Z,[xu,this.Ib],null),new X(null,2,5,Z,[lC,this.Jb],null),new X(null,2,5,Z,[AC,this.Pb],null),new X(null,2,5,Z,[Cr,this.hb],null),new X(null,2,5,Z,[Ln,
this.Hb],null),new X(null,2,5,Z,[iy,this.Kb],null),new X(null,2,5,Z,[wo,this.Fb],null)],null),this.F))};g.qa=function(){return new ej(this,12,new X(null,12,5,Z,[FC,lm,Km,ut,bD,xu,lC,AC,Cr,Ln,iy,wo],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new kU(this.as,this.$b,this.limit,this.name,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,this.F,this.J)};g.la=function(){return 12+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1743810262^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.as,b.as)&&E.B(this.default,b.default)&&E.B(this.limit,b.limit)&&E.B(this.name,b.name)&&E.B(this.pattern,b.pattern)&&E.B(this.Ib,b.Ib)&&E.B(this.Jb,b.Jb)&&E.B(this.Pb,b.Pb)&&E.B(this.hb,b.hb)&&E.B(this.Hb,b.Hb)&&E.B(this.Kb,b.Kb)&&E.B(this.Fb,b.Fb)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,12,[Cr,null,Km,null,AC,null,xu,null,lm,null,ut,null,FC,null,lC,null,wo,null,iy,null,Ln,null,bD,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new kU(this.as,this.$b,this.limit,this.name,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(FC,b):U.call(null,FC,b))?new kU(c,this.$b,this.limit,this.name,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,this.F,null):r(U.B?U.B(lm,b):U.call(null,lm,b))?new kU(this.as,c,this.limit,this.name,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,this.F,null):r(U.B?U.B(Km,b):U.call(null,Km,b))?new kU(this.as,this.$b,c,this.name,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,this.F,
null):r(U.B?U.B(ut,b):U.call(null,ut,b))?new kU(this.as,this.$b,this.limit,c,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,this.F,null):r(U.B?U.B(bD,b):U.call(null,bD,b))?new kU(this.as,this.$b,this.limit,this.name,c,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,this.F,null):r(U.B?U.B(xu,b):U.call(null,xu,b))?new kU(this.as,this.$b,this.limit,this.name,this.pattern,c,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,this.F,null):r(U.B?U.B(lC,b):
U.call(null,lC,b))?new kU(this.as,this.$b,this.limit,this.name,this.pattern,this.Ib,c,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,this.F,null):r(U.B?U.B(AC,b):U.call(null,AC,b))?new kU(this.as,this.$b,this.limit,this.name,this.pattern,this.Ib,this.Jb,c,this.hb,this.Hb,this.Kb,this.Fb,this.G,this.F,null):r(U.B?U.B(Cr,b):U.call(null,Cr,b))?new kU(this.as,this.$b,this.limit,this.name,this.pattern,this.Ib,this.Jb,this.Pb,c,this.Hb,this.Kb,this.Fb,this.G,this.F,null):r(U.B?U.B(Ln,b):U.call(null,Ln,
b))?new kU(this.as,this.$b,this.limit,this.name,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,c,this.Kb,this.Fb,this.G,this.F,null):r(U.B?U.B(iy,b):U.call(null,iy,b))?new kU(this.as,this.$b,this.limit,this.name,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,c,this.Fb,this.G,this.F,null):r(U.B?U.B(wo,b):U.call(null,wo,b))?new kU(this.as,this.$b,this.limit,this.name,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,c,this.G,this.F,null):new kU(this.as,this.$b,this.limit,this.name,this.pattern,
this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,12,5,Z,[new Y(FC,this.as,null),new Y(lm,this.$b,null),new Y(Km,this.limit,null),new Y(ut,this.name,null),new Y(bD,this.pattern,null),new Y(xu,this.Ib,null),new Y(lC,this.Jb,null),new Y(AC,this.Pb,null),new Y(Cr,this.hb,null),new Y(Ln,this.Hb,null),new Y(iy,this.Kb,null),new Y(wo,this.Fb,null)],null),this.F))};
g.ha=function(a,b){return new kU(this.as,this.$b,this.limit,this.name,this.pattern,this.Ib,this.Jb,this.Pb,this.hb,this.Hb,this.Kb,this.Fb,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function lU(a){var b=R.I(a,FC,M([lm,Km,ut,bD,xu,lC,AC,Cr,Ln,iy,wo]));b=yf(a)?gi.B(W,b):b;return new kU(FC.C(a),lm.C(a),Km.C(a),ut.C(a),bD.C(a),xu.C(a),lC.C(a),AC.C(a),Cr.C(a),Ln.C(a),iy.C(a),wo.C(a),null,bh(b),null)}
function mU(a,b,c,d,e,f,h,k){this.wa=a;this.Cc=b;this.Nc=c;this.Bc=d;this.Rb=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=mU.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "attrs":return this.wa;case "first-attr":return this.Cc;case "last-attr":return this.Nc;case "reverse-attrs":return this.Bc;case "wildcard?":return this.Rb;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Dz,this.wa],null),new X(null,2,5,Z,[rp,this.Cc],null),new X(null,2,5,Z,[TD,this.Nc],null),new X(null,2,5,Z,[Tr,this.Bc],null),new X(null,2,5,Z,[Lw,this.Rb],null)],null),this.F))};
g.qa=function(){return new ej(this,5,new X(null,5,5,Z,[Dz,rp,TD,Tr,Lw],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new mU(this.wa,this.Cc,this.Nc,this.Bc,this.Rb,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-795554044^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.wa,b.wa)&&E.B(this.Cc,b.Cc)&&E.B(this.Nc,b.Nc)&&E.B(this.Bc,b.Bc)&&E.B(this.Rb,b.Rb)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,5,[Tr,null,rp,null,Dz,null,Lw,null,TD,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new mU(this.wa,this.Cc,this.Nc,this.Bc,this.Rb,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Dz,b):U.call(null,Dz,b))?new mU(c,this.Cc,this.Nc,this.Bc,this.Rb,this.G,this.F,null):r(U.B?U.B(rp,b):U.call(null,rp,b))?new mU(this.wa,c,this.Nc,this.Bc,this.Rb,this.G,this.F,null):r(U.B?U.B(TD,b):U.call(null,TD,b))?new mU(this.wa,this.Cc,c,this.Bc,this.Rb,this.G,this.F,null):r(U.B?U.B(Tr,b):U.call(null,Tr,b))?new mU(this.wa,this.Cc,this.Nc,c,this.Rb,this.G,this.F,null):r(U.B?U.B(Lw,b):U.call(null,Lw,b))?new mU(this.wa,this.Cc,this.Nc,this.Bc,c,this.G,this.F,
null):new mU(this.wa,this.Cc,this.Nc,this.Bc,this.Rb,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Dz,this.wa,null),new Y(rp,this.Cc,null),new Y(TD,this.Nc,null),new Y(Tr,this.Bc,null),new Y(Lw,this.Rb,null)],null),this.F))};g.ha=function(a,b){return new mU(this.wa,this.Cc,this.Nc,this.Bc,this.Rb,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function nU(a){var b=R.I(a,Dz,M([rp,TD,Tr,Lw]));b=yf(a)?gi.B(W,b):b;return new mU(Dz.C(a),rp.C(a),TD.C(a),Tr.C(a),Lw.C(a),null,bh(b),null)}var oU=lU(new q(null,3,[ut,kp,FC,kp,Cr,Tf],null)),pU=nU(new q(null,1,[Dz,new kf(null,oU,null,1,null)],null)),qU=Q.D(pU,Lw,!0);function rU(a,b,c){if(r(a))return null;throw qm(["Expected ",t.C(b),", got: ",ol.I(M([c]))].join(""),new q(null,2,[ex,Rs,bq,c],null));}
function sU(a,b){var c=tT(b),d=c?uT(b):b,e=eT(a,d),f=iT(a,d,Em);a=jT(a,d);if(c){rU(e,"reverse attribute having :db.type/ref",b);var h=!0}else h=null;return lU(Uj([Cr,Km,AC,ut,FC,wo,iy,Ln,bD],[Tf,a?1E3:null,h,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?pU:f?qU:pU:null]))}function tU(a,b,c){rU("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);rU(jT(a,ut.C(b)),"limit attribute having :db.cardinality/many",ut.C(b))}
function uU(a,b){var c=function(){var d=H(b);return vU.B?vU.B(a,d):vU.call(null,a,d)}();if(null==c)return null;rU(th(K(J(b))),"even number of opts",b);return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);switch(f instanceof D?f.ba:null){case "as":return Q.D(d,FC,e);case "limit":return tU(a,d,e),Q.D(d,Km,e);case "default":return Q.D(d,lm,e);case "xform":f=Q.D;var h=of(e)?e:null;if(r(h))e=h;else if(h=B.B(cU,e),r(h))e=h;else throw qm(["Can't resolve symbol ",ol.I(M([e]))].join(""),new q(null,2,[ex,
Rs,bq,e],null));return f.call(Q,d,Cr,e);default:return rU(!1,"one of :as, :limit, :default, :xform",b)}},c,ji(2,2,J(b)))}
function vU(a,b){var c;!(c=b instanceof D)&&(c="string"===typeof b)&&(c=new xk(null,new q(null,2,["limit",null,"default",null],null),null),c=c.C?c.C(b):c.call(null,b),c=kc(c));if(c)return sU(a,b);if(wf(b)){c=uU(a,b);if(r(c))return c;c=H(b);var d=new xk(null,new q(null,2,[bo,null,"limit",null],null),null);c=d.C?d.C(c):d.call(null,c);r(c)?(rU(E.B(K(b),3),"['limit attr-name (positive-number | nil)]",b),N(b,0,null),d=N(b,1,null),c=N(b,2,null),d=vU.B?vU.B(a,d):vU.call(null,a,d),tU(a,d,c),c=Q.D(d,Km,c)):
c=null;if(r(c))return c;c=H(b);d=new xk(null,new q(null,2,[Pw,null,"default",null],null),null);c=d.C?d.C(c):d.call(null,c);r(c)?(rU(E.B(K(b),3),"['default attr-name any-value]",b),N(b,0,null),d=N(b,1,null),c=N(b,2,null),a=vU.B?vU.B(a,d):vU.call(null,a,d),a=Q.D(a,lm,c)):a=null;return r(a)?a:rU(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",b)}return null}
function wU(a,b){return sh(function(c){var d=N(c,0,null);c=N(c,1,null);return r(a.C?a.C(d):a.call(null,d))?c:null},Rh.D(Pi,b,Nk.P()))}function xU(a,b){var c=r(AC.C(b))?Tr:Dz,d=wU(function(e){return E.B(FC.C(e),FC.C(b))},B.B(a,c));return null==d?oi.R(a,c,hf,b):oi.ma(a,c,Q,d,b)}
function yU(a,b){rU(wf(b),"pattern to be sequential?",b);for(var c=nU(new q(null,3,[Dz,jf,Tr,jf,Lw,null],null));;){if(tf(b)){var d=c.wa,e=function(){return function(k){k=k.name;var m=new xk(null,new q(null,2,[kp,null,":db/id",null],null),null);return m.C?m.C(k):m.call(null,k)}}(b,c,d);b=function(){return function(k){k=ut.C(k);return k instanceof D?k:E.B(":",lg.D(k,0,1))?ug.C(lg.B(k,1)):ug.C(k)}}(b,c,d,e);d=r(function(){var k=c.Rb;return r(k)?kc(sh(e,c.wa)):k}())?hf.B(d,oU):d;d=G(Pf(b,d));var f=fi(e,
d),h=H(f);f=gf(f);return nU(new q(null,5,[Dz,d,rp,h,TD,f,Tr,G(Pf(b,c.Bc)),Lw,c.Rb],null))}h=H(b);if(E.B(MB,h)||E.B("*",h)||E.B(tp,h))b=J(b),c=d=Q.D(c,Lw,!0);else if(xf(h))d=Sf(function(){return function(k,m,n){var p=vU(a,m);rU(null!=p,"attr-name | attr-expr",m);rU(eT(a,ut.C(p)),"attribute having :db.type/ref",m);E.B(nA,n)||E.B("...",n)?m=Q.I(p,bD,null,M([lC,!0,xu,null])):"number"===typeof n?(rU(0<n,"(positive-num | ...)",nf([m,n])),m=Q.I(p,bD,null,M([lC,!0,xu,n]))):m=Q.D(p,bD,yU.B?yU.B(a,n):yU.call(null,
a,n));return xU(k,m)}}(b,c,h),c,h),b=J(b),c=d;else{d=vU(a,h);if(null==d)return rU(!1,"attr-name | attr-expr | map-spec | *",h);b=J(b);c=d=xU(c,d)}}};function zU(a){return null==a?null:Lc(a)}function AU(a){return null==a?null:Oc(a)}function BU(a,b){return null==a?new kf(null,b,null,1,null):Hc(a,b)}function CU(a,b,c,d,e){this.db=a;this.Nd=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=CU.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "db":return this.db;case "visitor":return this.Nd;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[tD,this.db],null),new X(null,2,5,Z,[vn,this.Nd],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[tD,vn],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new CU(this.db,this.Nd,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1727735959^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.db,b.db)&&E.B(this.Nd,b.Nd)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[tD,null,vn,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new CU(this.db,this.Nd,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "db":case "visitor":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(tD,b):U.call(null,tD,b))?new CU(c,this.Nd,this.G,this.F,null):r(U.B?U.B(vn,b):U.call(null,vn,b))?new CU(this.db,c,this.G,this.F,null):new CU(this.db,this.Nd,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(tD,this.db,null),new Y(vn,this.Nd,null)],null),this.F))};
g.ha=function(a,b){return new CU(this.db,this.Nd,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function DU(a,b,c,d,e){a=a.Nd;null==a||(a.R?a.R(b,c,d,e):a.call(null,b,c,d,e))}function EU(a,b){if(null!=a&&null!=a.tg)a=a.tg(a,b);else{var c=EU[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=EU._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IFrame.-merge",a);}return a}
function FU(a,b){if(null!=a&&null!=a.Bf)a=a.Bf(a,b);else{var c=FU[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=FU._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IFrame.-run",a);}return a}function GU(a,b,c,d,e){this.value=a;this.Ba=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=GU.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;case "datoms":return this.Ba;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Wr,this.value],null),new X(null,2,5,Z,[Rx,this.Ba],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[Wr,Rx],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new GU(this.value,this.Ba,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=836381841^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.value,b.value)&&E.B(this.Ba,b.Ba)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[Wr,null,Rx,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new GU(this.value,this.Ba,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":case "datoms":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Wr,b):U.call(null,Wr,b))?new GU(c,this.Ba,this.G,this.F,null):r(U.B?U.B(Rx,b):U.call(null,Rx,b))?new GU(this.value,c,this.G,this.F,null):new GU(this.value,this.Ba,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(Wr,this.value,null),new Y(Rx,this.Ba,null)],null),this.F))};g.ha=function(a,b){return new GU(this.value,this.Ba,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function HU(a,b,c,d,e,f){this.sa=a;this.attr=b;this.Ba=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=HU.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "acc":return this.sa;case "attr":return this.attr;case "datoms":return this.Ba;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Sr,this.sa],null),new X(null,2,5,Z,[Bs,this.attr],null),new X(null,2,5,Z,[Rx,this.Ba],null)],null),this.F))};g.qa=function(){return new ej(this,3,new X(null,3,5,Z,[Sr,Bs,Rx],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new HU(this.sa,this.attr,this.Ba,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1829867699^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.sa,b.sa)&&E.B(this.attr,b.attr)&&E.B(this.Ba,b.Ba)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,3,[Sr,null,Rx,null,Bs,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new HU(this.sa,this.attr,this.Ba,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "acc":case "attr":case "datoms":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Sr,b):U.call(null,Sr,b))?new HU(c,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(Bs,b):U.call(null,Bs,b))?new HU(this.sa,c,this.Ba,this.G,this.F,null):r(U.B?U.B(Rx,b):U.call(null,Rx,b))?new HU(this.sa,this.attr,c,this.G,this.F,null):new HU(this.sa,this.attr,this.Ba,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(Sr,this.sa,null),new Y(Bs,this.attr,null),new Y(Rx,this.Ba,null)],null),this.F))};g.ha=function(a,b){return new HU(this.sa,this.attr,this.Ba,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
g.Bf=function(){for(var a=this,b=a.sa,c=a.Ba;;){var d=zU(c);if(null==d||ah.B(d.a,a.attr.name))return new X(null,1,5,Z,[new GU(function(){var h=bh(Jd(b)),k=a.attr.hb;return k.C?k.C(h):k.call(null,h)}(),function(){var h=c;return r(h)?h:we}(),null,null,null)],null);if(r(function(){var h=a.attr.limit;return r(h)?K(b)>=a.attr.limit:h}()))for(var e=c;;){d=zU(e);if(null==d||ah.B(d.a,a.attr.name))return new X(null,1,5,Z,[new GU(Jd(b),function(){var h=e;return r(h)?h:we}(),null,null,null)],null);e=AU(e)}else{d=
Mg.B(b,d.v);var f=AU(c);b=d;c=f}}};function IU(a,b,c,d,e,f,h,k,m){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.Ba=f;this.G=h;this.F=k;this.J=m;this.O=2230716170;this.T=139264}g=IU.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "datoms":return this.Ba;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,V.B(new X(null,6,5,Z,[new X(null,2,5,Z,[ap,this.seen],null),new X(null,2,5,Z,[iA,this.Ca],null),new X(null,2,5,Z,[Sr,this.sa],null),new X(null,2,5,Z,[bD,this.pattern],null),new X(null,2,5,Z,[Bs,this.attr],null),new X(null,2,5,Z,[Rx,this.Ba],null)],null),this.F))};g.qa=function(){return new ej(this,6,new X(null,6,5,Z,[ap,iA,Sr,bD,Bs,Rx],null),r(this.F)?Yd(this.F):ch())};
g.ga=function(){return this.G};g.pa=function(){return new IU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,this.F,this.J)};g.la=function(){return 6+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1769511936^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.seen,b.seen)&&E.B(this.Ca,b.Ca)&&E.B(this.sa,b.sa)&&E.B(this.pattern,b.pattern)&&E.B(this.attr,b.attr)&&E.B(this.Ba,b.Ba)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,6,[Sr,null,ap,null,iA,null,Rx,null,bD,null,Bs,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new IU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(ap,b):U.call(null,ap,b))?new IU(c,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(iA,b):U.call(null,iA,b))?new IU(this.seen,c,this.sa,this.pattern,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(Sr,b):U.call(null,Sr,b))?new IU(this.seen,this.Ca,c,this.pattern,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(bD,b):U.call(null,bD,b))?new IU(this.seen,this.Ca,this.sa,c,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(Bs,b):U.call(null,
Bs,b))?new IU(this.seen,this.Ca,this.sa,this.pattern,c,this.Ba,this.G,this.F,null):r(U.B?U.B(Rx,b):U.call(null,Rx,b))?new IU(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.G,this.F,null):new IU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,6,5,Z,[new Y(ap,this.seen,null),new Y(iA,this.Ca,null),new Y(Sr,this.sa,null),new Y(bD,this.pattern,null),new Y(Bs,this.attr,null),new Y(Rx,this.Ba,null)],null),this.F))};
g.ha=function(a,b){return new IU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.tg=function(a,b){a=this.seen;var c=this.Ca,d=this.sa;b=b.value;b=null==b?d:Mg.B(d,b);return new IU(a,c,b,this.pattern,this.attr,AU(this.Ba),null,null,null)};
g.Bf=function(a,b){var c=this;a=zU(c.Ba);if(null==a||ah.B(a.a,c.attr.name))return new X(null,1,5,Z,[new GU(function(){var e=bh(Jd(c.sa)),f=c.attr.hb;return f.C?f.C(e):f.call(null,e)}(),function(){var e=c.Ba;return r(e)?e:we}(),null,null,null)],null);if(r(function(){var e=c.attr.limit;return r(e)?K(c.sa)>=c.attr.limit:e}()))for(var d=c.Ba;;){b=zU(d);if(null==b||ah.B(b.a,c.attr.name))return new X(null,1,5,Z,[new GU(Jd(c.sa),function(){var e=d;return r(e)?e:we}(),null,null,null)],null);d=AU(d)}else return a=
r(c.attr.Pb)?a.e:a.v,new X(null,2,5,Z,[this,JU.Ra?JU.Ra(b,c.seen,c.Ca,c.pattern,c.attr,a):JU.call(null,b,c.seen,c.Ca,c.pattern,c.attr,a)],null)};function KU(a,b,c,d,e,f,h,k,m,n,p){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.wa=f;this.Ba=h;this.id=k;this.G=m;this.F=n;this.J=p;this.O=2230716170;this.T=139264}g=KU.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "attrs":return this.wa;case "datoms":return this.Ba;case "id":return this.id;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,V.B(new X(null,8,5,Z,[new X(null,2,5,Z,[ap,this.seen],null),new X(null,2,5,Z,[iA,this.Ca],null),new X(null,2,5,Z,[Sr,this.sa],null),new X(null,2,5,Z,[bD,this.pattern],null),new X(null,2,5,Z,[Bs,this.attr],null),new X(null,2,5,Z,[Dz,this.wa],null),new X(null,2,5,Z,[Rx,this.Ba],null),new X(null,2,5,Z,[QD,this.id],null)],null),this.F))};
g.qa=function(){return new ej(this,8,new X(null,8,5,Z,[ap,iA,Sr,bD,Bs,Dz,Rx,QD],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new KU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,this.J)};g.la=function(){return 8+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1127179791^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.seen,b.seen)&&E.B(this.Ca,b.Ca)&&E.B(this.sa,b.sa)&&E.B(this.pattern,b.pattern)&&E.B(this.attr,b.attr)&&E.B(this.wa,b.wa)&&E.B(this.Ba,b.Ba)&&E.B(this.id,b.id)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,8,[Sr,null,ap,null,QD,null,iA,null,Dz,null,Rx,null,bD,null,Bs,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new KU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(ap,b):U.call(null,ap,b))?new KU(c,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(iA,b):U.call(null,iA,b))?new KU(this.seen,c,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(Sr,b):U.call(null,Sr,b))?new KU(this.seen,this.Ca,c,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(bD,b):U.call(null,bD,b))?new KU(this.seen,this.Ca,this.sa,c,this.attr,this.wa,
this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(Bs,b):U.call(null,Bs,b))?new KU(this.seen,this.Ca,this.sa,this.pattern,c,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(Dz,b):U.call(null,Dz,b))?new KU(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(Rx,b):U.call(null,Rx,b))?new KU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,c,this.id,this.G,this.F,null):r(U.B?U.B(QD,b):U.call(null,QD,b))?new KU(this.seen,this.Ca,this.sa,this.pattern,
this.attr,this.wa,this.Ba,c,this.G,this.F,null):new KU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,8,5,Z,[new Y(ap,this.seen,null),new Y(iA,this.Ca,null),new Y(Sr,this.sa,null),new Y(bD,this.pattern,null),new Y(Bs,this.attr,null),new Y(Dz,this.wa,null),new Y(Rx,this.Ba,null),new Y(QD,this.id,null)],null),this.F))};
g.ha=function(a,b){return new KU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.tg=function(a,b){a=this.seen;var c=this.Ca;var d=this.sa;var e=b.value;d=null==e?d:Kd(d,this.attr.as,e);e=this.pattern;var f=zU(this.wa),h=AU(this.wa);b=b.Ba;b=r(b)?b:AU(this.Ba);return new KU(a,c,d,e,f,h,bh(b),this.id,null,null,null)};
g.Bf=function(a,b){var c=this,d=c.sa,e=c.attr;a=c.wa;for(var f=c.Ba;;){if(null==f&&null==e)return new X(null,1,5,Z,[function(){var v=c.seen,z=c.Ca,C=d,F=c.pattern,I=zU(c.pattern.Bc),O=AU(c.pattern.Bc),P=c.id;return LU.Tb?LU.Tb(v,z,C,F,I,O,P):LU.call(null,v,z,C,F,I,O,P)}()],null);if(null!=e&&E.B(kp,e.name)){var h=Ng(d,e.as,function(){var v=e.hb;return v.C?v.C(c.id):v.call(null,c.id)}()),k=zU(a);a=AU(a);d=h;e=k}else{var m=zU(f),n=r(function(){var v=m;return r(v)?e:v}())?Kf(e.name,m.a):null,p=function(){var v=
null==e;if(v)return v;v=n;return r(v)?0<n:v}(),u=function(){var v=null==m;if(v)return v;v=n;return r(v)?0>n:v}();if(r(function(){var v=c.pattern.Rb;return r(v)?(v=null!=m)?p:v:v}()))k=cR(b.db.Vb,m.a,function(v,z,C,F,I){return function(){return sU(b.db,I.a)}}(d,e,a,f,m,n,p,u,this)),h=d,a=r(e)?BU(a,e):null,d=h,e=k;else if(r(p))h=d,k=e,f=AU(f),d=h,e=k;else if(DU(b,gu,c.id,e.name,null),r(function(){var v=u;return r(v)?null==e:v}()))h=d,k=zU(a),a=AU(a),d=h,e=k;else if(r(function(){var v=u;return r(v)?
null!=lm.C(e):v}()))h=Ng(d,e.as,lm.C(e)),k=zU(a),a=AU(a),d=h,e=k;else if(r(u))h=function(){var v=e.hb;return v.C?v.C(null):v.call(null,null)}(),null==h?(h=d,k=zU(a),a=AU(a),d=h,e=k):(h=Kd(d,e.as,h),k=zU(a),a=AU(a),d=h,e=k);else{if(r(function(){var v=e.Hb;return r(v)?e.Kb:v}()))return new X(null,2,5,Z,[new KU(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,null,null,null),new IU(c.seen,c.Ca,Hd(jf),c.pattern,e,f,null,null,null)],null);if(r(e.Hb))return new X(null,2,5,Z,[new KU(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,
null,null,null),new HU(Hd(jf),e,f,null,null,null)],null);if(r(e.Kb))return new X(null,2,5,Z,[new KU(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,null,null,null),function(){var v=c.seen,z=c.Ca,C=c.pattern,F=e,I=m.v;return JU.Ra?JU.Ra(b,v,z,C,F,I):JU.call(null,b,v,z,C,F,I)}()],null);h=Ng(d,e.as,function(){var v=m.v,z=e.hb;return z.C?z.C(v):z.call(null,v)}());k=zU(a);a=AU(a);f=AU(f);d=h;e=k}}}};
function MU(a,b,c,d,e,f,h,k,m,n){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.wa=f;this.id=h;this.G=k;this.F=m;this.J=n;this.O=2230716170;this.T=139264}g=MU.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "attrs":return this.wa;case "id":return this.id;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,V.B(new X(null,7,5,Z,[new X(null,2,5,Z,[ap,this.seen],null),new X(null,2,5,Z,[iA,this.Ca],null),new X(null,2,5,Z,[Sr,this.sa],null),new X(null,2,5,Z,[bD,this.pattern],null),new X(null,2,5,Z,[Bs,this.attr],null),new X(null,2,5,Z,[Dz,this.wa],null),new X(null,2,5,Z,[QD,this.id],null)],null),this.F))};
g.qa=function(){return new ej(this,7,new X(null,7,5,Z,[ap,iA,Sr,bD,Bs,Dz,QD],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new MU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.F,this.J)};g.la=function(){return 7+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=470210558^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.seen,b.seen)&&E.B(this.Ca,b.Ca)&&E.B(this.sa,b.sa)&&E.B(this.pattern,b.pattern)&&E.B(this.attr,b.attr)&&E.B(this.wa,b.wa)&&E.B(this.id,b.id)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,7,[Sr,null,ap,null,QD,null,iA,null,Dz,null,bD,null,Bs,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new MU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(ap,b):U.call(null,ap,b))?new MU(c,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(iA,b):U.call(null,iA,b))?new MU(this.seen,c,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(Sr,b):U.call(null,Sr,b))?new MU(this.seen,this.Ca,c,this.pattern,this.attr,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(bD,b):U.call(null,bD,b))?new MU(this.seen,this.Ca,this.sa,c,this.attr,this.wa,this.id,this.G,this.F,null):
r(U.B?U.B(Bs,b):U.call(null,Bs,b))?new MU(this.seen,this.Ca,this.sa,this.pattern,c,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(Dz,b):U.call(null,Dz,b))?new MU(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.id,this.G,this.F,null):r(U.B?U.B(QD,b):U.call(null,QD,b))?new MU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,c,this.G,this.F,null):new MU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,7,5,Z,[new Y(ap,this.seen,null),new Y(iA,this.Ca,null),new Y(Sr,this.sa,null),new Y(bD,this.pattern,null),new Y(Bs,this.attr,null),new Y(Dz,this.wa,null),new Y(QD,this.id,null)],null),this.F))};g.ha=function(a,b){return new MU(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
g.tg=function(a,b){a=this.seen;var c=this.Ca,d=this.sa;b=b.value;b=null==b?d:Kd(d,this.attr.as,b);return new MU(a,c,b,this.pattern,zU(this.wa),AU(this.wa),this.id,null,null,null)};
g.Bf=function(a,b){var c=this.sa;a=this.attr;for(var d=this.wa;;){if(null==a)return new X(null,1,5,Z,[new GU(bh(Jd(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof MS?VR(f.Qb,pS.R(0,e,this.id,536870912),pS.R(2147483647,e,this.id,2147483647)):DS(f,new X(null,3,5,Z,[null,e,this.id],null));DU(b,Xy,null,e,this.id);if(tf(f)&&null!=lm.C(a))c=Ng(c,a.as,lm.C(a)),a=zU(d),d=e=AU(d);else if(tf(f))a=zU(d),d=e=AU(d);else{if(r(a.Fb)){e=Z;c=new MU(this.seen,this.Ca,c,this.pattern,a,d,this.id,null,
null,null);d=this.seen;var h=this.Ca,k=this.pattern;f=zU(f).e;b=JU.Ra?JU.Ra(b,d,h,k,a,f):JU.call(null,b,d,h,k,a,f);b=new X(null,2,5,e,[c,b],null)}else b=new X(null,2,5,Z,[new MU(this.seen,this.Ca,c,this.pattern,a,d,this.id,null,null,null),new IU(this.seen,this.Ca,Hd(jf),this.pattern,a,f,null,null,null)],null);return b}}};function LU(a,b,c,d,e,f,h){return new MU(a,b,c,d,e,f,h,null,null,null)}
function JU(a,b,c,d,e,f){var h=e.Jb;r(h)||(h=e.Fb,h=r(h)?e.pattern.Rb:h);if(kc(h))return d=e.pattern,NU.ma?NU.ma(a,b,c,d,f):NU.call(null,a,b,c,d,f);if(r(b.C?b.C(f):b.call(null,f)))return new GU(new q(null,1,[kp,f],null),null,null,null,null);h=c.C?c.C(e):c.call(null,e);if(r(r(h)?0>=h:h))return new GU(null,null,null,null,null);b=hf.B(b,f);c=r(h)?oi.D(c,e,ag):r(e.Ib)?Q.D(c,e,e.Ib-1):c;d=r(e.Jb)?d:e.pattern;return NU.ma?NU.ma(a,b,c,d,f):NU.call(null,a,b,c,d,f)}
function NU(a,b,c,d,e){var f=a.db,h=r(function(){var k=d.Rb;return r(k)?f instanceof MS:k}())?VR(f.Bb,pS.R(e,null,null,536870912),pS.R(e,null,null,2147483647)):r(d.Rb)?DS(f,new X(null,1,5,Z,[e],null)):null==d.Cc?null:function(){var k=d.Cc.name,m=d.Nc.name;return f instanceof MS?VR(f.Bb,pS.R(e,k,null,536870912),pS.R(e,m,null,2147483647)):GS(f,new X(null,1,5,Z,[e],null))}();r(d.Rb)&&DU(a,Qr,e,null,null);return new KU(b,c,Hd(W),d,zU(d.wa),AU(d.wa),h,e,null,null,null)}
function OU(a,b){var c=Zg(a);a=B.B(c,UC);c=B.B(c,bD);b=kT(a.db,b);if(null==b)return null;for(c=new kf(null,NU(a,zk,W,c,b),null,1,null);;){b=zU(c);var d=AU(c);if(b instanceof GU){if(null==d)return b.value;c=zU(d);d=AU(d);c=BU(d,EU(c,b))}else c=w.D(BU,d,FU(b,a))}}function PU(a,b){var c=Zg(null);c=B.B(c,vn);return new q(null,2,[bD,cR(a.Wb,b,function(){return yU(a,b)}),UC,new CU(a,c,null,null,null)],null)};var e1=function e1(a){switch(arguments.length){case 1:return e1.C(arguments[0]);case 2:return e1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};e1.C=function(a){return c1(a)};e1.B=function(a,b){return d1(a,b)};e1.aa=2;function w2(a,b){return gc(a)?a[b]:Te(a,b)}function x2(a,b){return xf(a)?a.C?a.C(b):a.call(null,b):a[b]}function A2(a){return gc(a)||zf(a)}function J2(a,b){var c=Array(K(b));w.D(function(d,e){c[d]=a.C?a.C(e):a.call(null,e);return d+1},0,b);return c}function K2(a,b){var c=Array(K(b));w.D(function(d,e){c[d]=a.B?a.B(d,e):a.call(null,d,e);return d+1},0,b);return c}function L2(a,b){return null==b.a?-1:0>=Kf(a.a,b.a)?-1:1}
function M2(a){if(tf(WB.C(a)))return jf;for(var b=Hd(new X(null,1,5,Z,[hB.C(H(WB.C(a)))],null));;){var c=Te(b,K(b)-1),d=pS.D(0,c,null),e=pS.D(2147483647,null,null);c=hB;var f=c.C,h=WB.C(a);d=SR(h,d,e,L2);c=f.call(c,H(d));if(null!=c)b=Mg.B(b,c);else return Jd(b)}}function N2(a){return 0==a.lastIndexOf(":",0)?ug.C(lg.B(a,1)):a}
function O2(a,b){b=Zg(b);var c=B.D(b,TJ,ol),d=B.D(b,KH,t),e=M2(a),f=gi.B(W,Rh.D(Pi,e,Nk.P())),h=Bh(Hd(jf)),k=Bh(Hd(W));b=K2(function(u,v){v.idx=u|0;u=v.e;var z=v.a;z=f.C?f.C(z):f.call(null,z);var C=v.v;if("string"!==typeof C)if("number"===typeof C)C=Infinity===C?[2]:-Infinity===C?[3]:r(isNaN(C))?[4]:C;else if(!0!==C&&!1!==C)if(C instanceof D){var F=B.B(y(k),C);r(F)?C=F:(F=h.ig(null,Mg.B(h.ic(null),C)),F=K(F)-1,k.ig(null,Ng(k.ic(null),C,F)),C=F);C=[0,C]}else C=[1,c.C?c.C(C):c.call(null,C)];return[u,
z,C,v.Pg-536870912]},uA.C(a));var m=K2(function(u,v){return v.idx},WB.C(a)),n=K2(function(u,v){return v.idx},Pm.C(a)),p=function(){var u=Ay.C(a);return c.C?c.C(u):c.call(null,u)}();e=J2(d,e);d=J2(d,Jd(y(h)));return{count:K(uA.C(a)),tx0:536870912,"max-eid":ws.C(a),"max-tx":rt.C(a),schema:p,attrs:e,keywords:d,eavt:b,aevt:m,avet:n}}
function P2(a){switch(arguments.length){case 1:return Q2(arguments[0]);case 2:return O2(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Q2(a){return O2(a,W)}function R2(a){switch(arguments.length){case 1:return S2(arguments[0]);case 2:return T2(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function S2(a){return T2(a,W)}
function T2(a,b){b=Zg(b);var c=B.D(b,qH,e1);b=B.D(b,oH,N2);var d=x2(a,"tx0"),e=function(){var n=x2(a,"schema");return c.C?c.C(n):c.call(null,n)}();(function(){var n=new pe(function(){return YS},BI,Uj([Xm,iv,ut,zz,mn,vu,Cm,Fv,Xz,Cs,BA],[!0,Uy,rH,"datascript/db.cljc",23,1,726,726,pg(new X(null,1,5,Z,[pH],null)),null,r(YS)?YS.nm:null]));return n.C?n.C(e):n.call(null,e)})();var f=hi.B(b,x2(a,"attrs")),h=hi.B(b,x2(a,"keywords")),k=J2(function(n){var p=w2(n,0),u=Te(f,w2(n,1)),v=w2(n,2);if("number"===typeof v)var z=
v;else if("string"===typeof v)z=v;else if(!0===v||!1===v)z=v;else if(A2(v))z=function(){var C=w2(v,0);if(r(jg.B?jg.B(0,C):jg.call(null,0,C)))return Te(h,w2(v,1));if(r(jg.B?jg.B(1,C):jg.call(null,1,C)))return C=w2(v,1),c.C?c.C(C):c.call(null,C);if(r(jg.B?jg.B(2,C):jg.call(null,2,C)))return Infinity;if(r(jg.B?jg.B(3,C):jg.call(null,3,C)))return-Infinity;if(r(jg.B?jg.B(4,C):jg.call(null,4,C)))return NaN;throw qm(["Unexpected value marker ",ol.I(M([C]))," in ",ol.I(M([ol.I(M([v]))]))].join(""),new q(null,
2,[ex,sH,Wr,v],null));}();else throw qm(["Unexpected value type ",ol.I(M([oc(v)]))," (",ol.I(M([ol.I(M([v]))])),")"].join(""),new q(null,2,[ex,sH,Wr,v],null));n=d+w2(n,3);return pS.R(p,u,z,n)},x2(a,"eavt"));b=function(){var n=x2(a,"aevt");return null==n?null:J2(function(p){return k[p]},n)}();var m=function(){var n=x2(a,"avet");return null==n?null:J2(function(p){return k[p]},n)}();return NS(Uj([Ay,rt,iD,WB,Pm,ws,uA,fz,ls,Az],[e,x2(a,"max-tx"),Fh(0),WR(wS,b),WR(xS,m),x2(a,"max-eid"),WR(vS,k),dR(),dR(),
function(){var n=sk.I(M([new q(null,1,[qu,new q(null,1,[Dm,kt],null)],null),e])),p=new pe(function(){return WS},JH,Uj([Xm,iv,ut,zz,mn,vu,Cm,Fv,Xz,Cs,BA],[!0,Uy,uJ,"datascript/db.cljc",15,1,694,694,pg(new X(null,1,5,Z,[pH],null)),":db/unique           \x3d\x3e #{attr ...}\n   :db.unique/identity  \x3d\x3e #{attr ...}\n   :db.unique/value     \x3d\x3e #{attr ...}\n   :db/index            \x3d\x3e #{attr ...}\n   :db.cardinality/many \x3d\x3e #{attr ...}\n   :db.type/ref         \x3d\x3e #{attr ...}\n   :db/isComponent      \x3d\x3e #{attr ...}\n   :db.type/tuple       \x3d\x3e #{attr ...}\n   :db/attrTuples       \x3d\x3e {attr \x3d\x3e {tuple-attr \x3d\x3e idx}}",
r(WS)?WS.nm:null]));return p.C?p.C(n):p.call(null,n)}()]))};function QU(){}function RU(a,b,c){if(null!=a&&null!=a.bb)a=a.bb(a,b,c);else{var d=RU[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=RU._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("ITraversable.-collect",a);}return a}
function SU(a,b){if(null!=a&&null!=a.cb)a=a.cb(a,b);else{var c=SU[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=SU._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ITraversable.-collect-vars",a);}return a}function TU(a,b){return wf(a)&&E.B(K(a),b)}function UU(a,b){return wf(b)?w.D(function(c,d){d=a.C?a.C(d):a.call(null,d);return r(d)?hf.B(c,d):Ge(null)},jf,b):null}function VU(a,b){return WU(a,b,jf)}
function WU(a,b,c){return r(a.C?a.C(b):a.call(null,b))?hf.B(c,b):(null!=b?l===b.ab||(b.ve?0:nc(QU,b)):nc(QU,b))?RU(b,a,c):$R(b)?w.D(function(d,e){return WU(a,e,d)},c,b):c}function XU(a){var b=tf(a);return b?b:Ug(If,a)}function YU(a,b){return qf(a,new q(null,1,[Lv,b],null))}function ZU(a){var b=Lv.C(rf(a));return r(b)?b:a}function $U(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=$U.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){return B.D(this.F,b,c)};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,V.B(jf,this.F))};g.qa=function(){return new ej(this,0,jf,r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new $U(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-528488587^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.F,b.F)};g.za=function(a,b){return S(zk,b)?R.B(jd(gi.B(W,this),this.G),b):new $U(this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};g.ea=function(a,b,c){return new $U(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(jf,this.F))};g.ha=function(a,b){return new $U(b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function aV(a,b,c,d){this.symbol=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=aV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "symbol":return this.symbol;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Pr,this.symbol],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Pr],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new aV(this.symbol,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=736891289^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.symbol,b.symbol)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[Pr,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new aV(this.symbol,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "symbol":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Pr,b):U.call(null,Pr,b))?new aV(c,this.G,this.F,null):new aV(this.symbol,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Pr,this.symbol,null)],null),this.F))};g.ha=function(a,b){return new aV(this.symbol,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return WU(b,this.symbol,c)};g.cb=function(a,b){return bV.B?bV.B(b,this.symbol):bV.call(null,b,this.symbol)};function cV(a,b,c,d){this.symbol=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=cV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "symbol":return this.symbol;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Pr,this.symbol],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Pr],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new cV(this.symbol,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1648766309^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.symbol,b.symbol)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[Pr,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new cV(this.symbol,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "symbol":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Pr,b):U.call(null,Pr,b))?new cV(c,this.G,this.F,null):new cV(this.symbol,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Pr,this.symbol,null)],null),this.F))};g.ha=function(a,b){return new cV(this.symbol,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return WU(b,this.symbol,c)};g.cb=function(a,b){return bV.B?bV.B(b,this.symbol):bV.call(null,b,this.symbol)};function dV(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=dV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return B.D(this.F,b,c)};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,V.B(jf,this.F))};g.qa=function(){return new ej(this,0,jf,r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new dV(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-350962559^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.F,b.F)};
g.za=function(a,b){return S(zk,b)?R.B(jd(gi.B(W,this),this.G),b):new dV(this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};g.ea=function(a,b,c){return new dV(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(jf,this.F))};g.ha=function(a,b){return new dV(b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};
function eV(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=eV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return B.D(this.F,b,c)};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,V.B(jf,this.F))};
g.qa=function(){return new ej(this,0,jf,r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new eV(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1504050517^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.F,b.F)};g.za=function(a,b){return S(zk,b)?R.B(jd(gi.B(W,this),this.G),b):new eV(this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};
g.ea=function(a,b,c){return new eV(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(jf,this.F))};g.ha=function(a,b){return new eV(b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function fV(a,b,c,d){this.value=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=fV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Wr,this.value],null)],null),this.F))};
g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Wr],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new fV(this.value,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-812884714^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.value,b.value)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,1,[Wr,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new fV(this.value,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Wr,b):U.call(null,Wr,b))?new fV(c,this.G,this.F,null):new fV(this.value,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Wr,this.value,null)],null),this.F))};
g.ha=function(a,b){return new fV(this.value,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.value,c)};g.cb=function(a,b){return bV.B?bV.B(b,this.value):bV.call(null,b,this.value)};function gV(a,b,c,d){this.symbol=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=gV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "symbol":return this.symbol;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Pr,this.symbol],null)],null),this.F))};
g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Pr],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new gV(this.symbol,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1509921913^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.symbol,b.symbol)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,1,[Pr,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new gV(this.symbol,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "symbol":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Pr,b):U.call(null,Pr,b))?new gV(c,this.G,this.F,null):new gV(this.symbol,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Pr,this.symbol,null)],null),this.F))};
g.ha=function(a,b){return new gV(this.symbol,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.symbol,c)};g.cb=function(a,b){return bV.B?bV.B(b,this.symbol):bV.call(null,b,this.symbol)};function hV(a){return a instanceof A&&E.B(H(vg(a)),"?")?new aV(a,null,null,null):null}
function iV(a){var b=hV(a);if(r(b))return b;throw qm(["Cannot parse var, expected symbol starting with ?, got: ",ol.I(M([a]))].join(""),new q(null,2,[ex,wx,Qp,a],null));}function jV(a){return a instanceof A&&E.B(H(vg(a)),"$")?new cV(a,null,null,null):null}function kV(a){return a instanceof A&&E.B(H(vg(a)),"?")?null:new fV(a,null,null,null)}
function lV(a){return a instanceof A&&kc(hV(a))&&kc(jV(a))&&kc(E.B(Rp,a)?new eV(null,null,null):null)&&kc(E.B(qo,a)?new $U(null,null,null):null)?new gV(a,null,null,null):null}function mV(a){return r(lV(a))?new aV(a,null,null,null):null}function nV(a){var b=hV(a);if(r(b))return b;b=jV(a);return r(b)?b:kV(a)}function oV(a,b,c,d,e){this.required=a;this.qd=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=oV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "required":return this.required;case "free":return this.qd;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Ut,this.required],null),new X(null,2,5,Z,[ty,this.qd],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[Ut,ty],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new oV(this.required,this.qd,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=892963297^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.required,b.required)&&E.B(this.qd,b.qd)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[ty,null,Ut,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new oV(this.required,this.qd,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "required":case "free":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Ut,b):U.call(null,Ut,b))?new oV(c,this.qd,this.G,this.F,null):r(U.B?U.B(ty,b):U.call(null,ty,b))?new oV(this.required,c,this.G,this.F,null):new oV(this.required,this.qd,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(Ut,this.required,null),new Y(ty,this.qd,null)],null),this.F))};
g.ha=function(a,b){return new oV(this.required,this.qd,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.qd,WU(b,this.required,c))};g.cb=function(a,b){a=bV.B?bV.B(b,this.required):bV.call(null,b,this.required);b=this.qd;return bV.B?bV.B(a,b):bV.call(null,a,b)};
function pV(a){if(wf(a)){var b=wf(H(a))?new X(null,2,5,Z,[H(a),J(a)],null):new X(null,2,5,Z,[null,a],null),c=N(b,0,null);b=N(b,1,null);c=UU(iV,c);b=UU(iV,b);if(tf(c)&&tf(b))throw qm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new q(null,2,[ex,Nx,Qp,a],null));if(!r(XU(V.B(c,b))))throw qm("Rule variables should be distinct",new q(null,2,[ex,Nx,Qp,a],null));return new oV(c,b,null,null,null)}throw qm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new q(null,2,[ex,Nx,Qp,a],null));}function qV(a){return V.B(r(Ut.C(a))?new X(null,1,5,Z,[hi.B(Pr,Ut.C(a))],null):null,hi.B(Pr,ty.C(a)))}function rV(a){return new X(null,2,5,Z,[K(Ut.C(a)),K(ty.C(a))],null)}function sV(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=sV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return B.D(this.F,b,c)};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,V.B(jf,this.F))};g.qa=function(){return new ej(this,0,jf,r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new sV(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-890522983^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.F,b.F)};g.za=function(a,b){return S(zk,b)?R.B(jd(gi.B(W,this),this.G),b):new sV(this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};g.ea=function(a,b,c){return new sV(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(jf,this.F))};g.ha=function(a,b){return new sV(b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function tV(a,b,c,d){this.tb=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=tV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "variable":return this.tb;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Lz,this.tb],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Lz],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new tV(this.tb,this.G,this.F,this.J)};
g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1522792445^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.tb,b.tb)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[Lz,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new tV(this.tb,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "variable":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Lz,b):U.call(null,Lz,b))?new tV(c,this.G,this.F,null):new tV(this.tb,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Lz,this.tb,null)],null),this.F))};g.ha=function(a,b){return new tV(this.tb,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.tb,c)};g.cb=function(a,b){return bV.B?bV.B(b,this.tb):bV.call(null,b,this.tb)};
function uV(a,b,c,d){this.bindings=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=uV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "bindings":return this.bindings;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Mv,this.bindings],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Mv],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new uV(this.bindings,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1637239347^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.bindings,b.bindings)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[Mv,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new uV(this.bindings,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "bindings":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Mv,b):U.call(null,Mv,b))?new uV(c,this.G,this.F,null):new uV(this.bindings,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Mv,this.bindings,null)],null),this.F))};g.ha=function(a,b){return new uV(this.bindings,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.bindings,c)};
g.cb=function(a,b){return bV.B?bV.B(b,this.bindings):bV.call(null,b,this.bindings)};function vV(a,b,c,d){this.binding=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=vV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "binding":return this.binding;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Br,this.binding],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Br],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new vV(this.binding,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1930368089^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.binding,b.binding)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[Br,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new vV(this.binding,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "binding":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Br,b):U.call(null,Br,b))?new vV(c,this.G,this.F,null):new vV(this.binding,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Br,this.binding,null)],null),this.F))};g.ha=function(a,b){return new vV(this.binding,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.binding,c)};g.cb=function(a,b){return bV.B?bV.B(b,this.binding):bV.call(null,b,this.binding)};
function wV(a){return E.B(qo,a)?YU(new sV(null,null,null),a):null}function xV(a){var b=wV(a);return r(b)?b:yV.C?yV.C(a):yV.call(null,a)}function zV(a){var b=UU(xV,a);if(r(b)){if(tf(b))throw qm("Tuple binding cannot be empty",new q(null,2,[ex,mx,Qp,a],null));return YU(new uV(b,null,null,null),a)}return null}
function yV(a){a:{if(TU(a,2)&&E.B(ef(a),nA)){var b=H(a);b=yV.C?yV.C(b):yV.call(null,b);if(r(b)){b=YU(new vV(b,null,null,null),a);break a}throw qm("Cannot parse collection binding",new q(null,2,[ex,mx,Qp,a],null));}b=null}if(r(b))return b;b=TU(a,1)&&wf(H(a))?YU(new vV(zV(H(a)),null,null,null),a):null;if(r(b))return b;b=zV(a);if(r(b))return b;b=wV(a);if(r(b))return b;b=hV(a);b=r(b)?YU(new tV(b,null,null,null),a):null;if(r(b))return b;throw qm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new q(null,2,[ex,mx,Qp,a],null));}function AV(a){if(null!=a&&null!=a.sg)a=a.sg(a);else{var b=AV[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=AV._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IFindVars.-find-vars",a);}return a}aV.prototype.sg=function(){return new X(null,1,5,Z,[this.symbol],null)};function BV(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=BV.prototype;g.sg=function(){return AV(gf(this.args))};
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "fn":return this.fn;case "args":return this.args;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[ZC,this.fn],null),new X(null,2,5,Z,[$C,this.args],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[ZC,$C],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new BV(this.fn,this.args,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-91097383^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.fn,b.fn)&&E.B(this.args,b.args)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[$C,null,ZC,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new BV(this.fn,this.args,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "fn":case "args":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(ZC,b):U.call(null,ZC,b))?new BV(c,this.args,this.G,this.F,null):r(U.B?U.B($C,b):U.call(null,$C,b))?new BV(this.fn,c,this.G,this.F,null):new BV(this.fn,this.args,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(ZC,this.fn,null),new Y($C,this.args,null)],null),this.F))};g.ha=function(a,b){return new BV(this.fn,this.args,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return WU(b,this.args,WU(b,this.fn,c))};g.cb=function(a,b){a=bV.B?bV.B(b,this.fn):bV.call(null,b,this.fn);b=this.args;return bV.B?bV.B(a,b):bV.call(null,a,b)};function CV(a,b,c,d,e,f){this.source=a;this.tb=b;this.pattern=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=CV.prototype;g.sg=function(){return AV(this.tb)};g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "variable":return this.tb;case "pattern":return this.pattern;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Lv,this.source],null),new X(null,2,5,Z,[Lz,this.tb],null),new X(null,2,5,Z,[bD,this.pattern],null)],null),this.F))};g.qa=function(){return new ej(this,3,new X(null,3,5,Z,[Lv,Lz,bD],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new CV(this.source,this.tb,this.pattern,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2108867663^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.tb,b.tb)&&E.B(this.pattern,b.pattern)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,3,[Lz,null,Lv,null,bD,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new CV(this.source,this.tb,this.pattern,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "variable":case "pattern":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Lv,b):U.call(null,Lv,b))?new CV(c,this.tb,this.pattern,this.G,this.F,null):r(U.B?U.B(Lz,b):U.call(null,Lz,b))?new CV(this.source,c,this.pattern,this.G,this.F,null):r(U.B?U.B(bD,b):U.call(null,bD,b))?new CV(this.source,this.tb,c,this.G,this.F,null):new CV(this.source,this.tb,this.pattern,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(Lv,this.source,null),new Y(Lz,this.tb,null),new Y(bD,this.pattern,null)],null),this.F))};g.ha=function(a,b){return new CV(this.source,this.tb,this.pattern,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.pattern,WU(b,this.tb,WU(b,this.source,c)))};
g.cb=function(a,b){a=bV.B?bV.B(b,this.source):bV.call(null,b,this.source);b=this.tb;a=bV.B?bV.B(a,b):bV.call(null,a,b);b=this.pattern;return bV.B?bV.B(a,b):bV.call(null,a,b)};function DV(a){if(null!=a&&null!=a.Af)a=a.Af(a);else{var b=DV[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=DV._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IFindElements.find-elements",a);}return a}function EV(a,b,c,d){this.elements=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}
g=EV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "elements":return this.elements;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Np,this.elements],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Np],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new EV(this.elements,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=744809563^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.elements,b.elements)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[Np,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new EV(this.elements,this.G,bh(R.B(this.F,b)),null)};g.Af=function(){return this.elements};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "elements":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Np,b):U.call(null,Np,b))?new EV(c,this.G,this.F,null):new EV(this.elements,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Np,this.elements,null)],null),this.F))};g.ha=function(a,b){return new EV(this.elements,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.elements,c)};
g.cb=function(a,b){return bV.B?bV.B(b,this.elements):bV.call(null,b,this.elements)};function FV(a,b,c,d){this.element=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=FV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "element":return this.element;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[gC,this.element],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[gC],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new FV(this.element,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=124241361^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.element,b.element)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[gC,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new FV(this.element,this.G,bh(R.B(this.F,b)),null)};g.Af=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "element":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(gC,b):U.call(null,gC,b))?new FV(c,this.G,this.F,null):new FV(this.element,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(gC,this.element,null)],null),this.F))};g.ha=function(a,b){return new FV(this.element,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.element,c)};g.cb=function(a,b){return bV.B?bV.B(b,this.element):bV.call(null,b,this.element)};
function GV(a,b,c,d){this.element=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=GV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "element":return this.element;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[gC,this.element],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[gC],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new GV(this.element,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-661542332^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.element,b.element)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[gC,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new GV(this.element,this.G,bh(R.B(this.F,b)),null)};g.Af=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "element":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(gC,b):U.call(null,gC,b))?new GV(c,this.G,this.F,null):new GV(this.element,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(gC,this.element,null)],null),this.F))};g.ha=function(a,b){return new GV(this.element,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.element,c)};g.cb=function(a,b){return bV.B?bV.B(b,this.element):bV.call(null,b,this.element)};
function HV(a,b,c,d){this.elements=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=HV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "elements":return this.elements;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Np,this.elements],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Np],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new HV(this.elements,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=681530371^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.elements,b.elements)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[Np,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new HV(this.elements,this.G,bh(R.B(this.F,b)),null)};g.Af=function(){return this.elements};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "elements":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Np,b):U.call(null,Np,b))?new HV(c,this.G,this.F,null):new HV(this.elements,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Np,this.elements,null)],null),this.F))};g.ha=function(a,b){return new HV(this.elements,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.elements,c)};
g.cb=function(a,b){return bV.B?bV.B(b,this.elements):bV.call(null,b,this.elements)};function IV(a){return a instanceof BV}function JV(a){return a instanceof CV}
function KV(a){var b=hV(a);if(r(b))return b;a:{if(wf(a)&&E.B(H(a),iB)){if(3<=K(a)&&4>=K(a)){var c=(b=E.B(K(a),4))?Te(a,1):Xn;b=b?J(J(a)):J(a);var d=N(b,0,null);b=N(b,1,null);c=jV(c);d=hV(d);var e=hV(b);r(e)?b=e:(e=mV(b),b=r(e)?e:kV(b));if(r(r(c)?r(d)?b:d:c)){b=new CV(c,d,b,null,null,null);break a}}throw qm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new q(null,2,[ex,MC,bq,a],null));}b=null}if(r(b))return b;a:{if(wf(a)&&E.B(H(a),mr)){if(3<=
K(a)&&(b=G(a),H(b),c=J(b),b=H(c),c=J(c),b=hV(b),c=UU(nV,c),r(r(b)?c:b))){b=new BV(b,c,null,null,null);break a}throw qm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new q(null,2,[ex,MC,bq,a],null));}b=null}r(b)?a=b:wf(a)&&2<=K(a)?(b=G(a),a=H(b),b=J(b),a=lV(a),b=UU(nV,b),a=r(r(a)?b:a)?new BV(a,b,null,null,null):null):a=null;return a}
function LV(a){var b=UU(KV,a);b=null==b?null:new EV(b,null,null,null);if(r(b))return b;a:{if(wf(a)&&E.B(K(a),1)&&(b=H(a),wf(b)&&E.B(K(b),2)&&E.B(ef(b),nA))){b=KV(H(b));b=null==b?null:new FV(b,null,null,null);break a}b=null}if(r(b))return b;wf(a)&&E.B(K(a),2)&&E.B(ef(a),wC)?(b=KV(H(a)),b=null==b?null:new GV(b,null,null,null)):b=null;if(r(b))return b;wf(a)&&E.B(K(a),1)?(b=H(a),b=UU(KV,b),b=null==b?null:new HV(b,null,null,null)):b=null;if(r(b))return b;throw qm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new q(null,2,[ex,MC,bq,a],null));}function MV(a,b,c,d,e){this.type=a;this.symbols=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=MV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[oo,this.type],null),new X(null,2,5,Z,[As,this.symbols],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[oo,As],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new MV(this.type,this.symbols,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2025547471^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.type,b.type)&&E.B(this.symbols,b.symbols)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[oo,null,As,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new MV(this.type,this.symbols,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type":case "symbols":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(oo,b):U.call(null,oo,b))?new MV(c,this.symbols,this.G,this.F,null):r(U.B?U.B(As,b):U.call(null,As,b))?new MV(this.type,c,this.G,this.F,null):new MV(this.type,this.symbols,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(oo,this.type,null),new Y(As,this.symbols,null)],null),this.F))};
g.ha=function(a,b){return new MV(this.type,this.symbols,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.symbols,WU(b,this.type,c))};g.cb=function(a,b){a=bV.B?bV.B(b,this.type):bV.call(null,b,this.type);b=this.symbols;return bV.B?bV.B(a,b):bV.call(null,a,b)};
function NV(a,b){if(!tf(b)&&rh(le,b))switch(a instanceof D?a.ba:null){case "keys":return new MV(a,hi.B(ug,b),null,null,null);case "syms":return new MV(a,Li(b),null,null,null);case "strs":return new MV(a,hi.B(t,b),null,null,null);default:return null}else return null}function OV(a){var b=jV(a);r(b)||(b=E.B(Rp,a)?new eV(null,null,null):null,b=r(b)?b:mV(a));return r(b)?YU(new tV(b,null,null,null),a):yV(a)}
function PV(a){var b=UU(OV,a);if(r(b))return b;throw qm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new q(null,2,[ex,gD,Qp,a],null));}function QV(a,b,c,d,e){this.source=a;this.pattern=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=QV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Lv,this.source],null),new X(null,2,5,Z,[bD,this.pattern],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[Lv,bD],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new QV(this.source,this.pattern,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=575220587^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.pattern,b.pattern)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[Lv,null,bD,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new QV(this.source,this.pattern,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "pattern":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Lv,b):U.call(null,Lv,b))?new QV(c,this.pattern,this.G,this.F,null):r(U.B?U.B(bD,b):U.call(null,bD,b))?new QV(this.source,c,this.G,this.F,null):new QV(this.source,this.pattern,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(Lv,this.source,null),new Y(bD,this.pattern,null)],null),this.F))};
g.ha=function(a,b){return new QV(this.source,this.pattern,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.pattern,WU(b,this.source,c))};g.cb=function(a,b){a=bV.B?bV.B(b,this.source):bV.call(null,b,this.source);b=this.pattern;return bV.B?bV.B(a,b):bV.call(null,a,b)};function RV(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=RV.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "fn":return this.fn;case "args":return this.args;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[ZC,this.fn],null),new X(null,2,5,Z,[$C,this.args],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[ZC,$C],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new RV(this.fn,this.args,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1523376880^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.fn,b.fn)&&E.B(this.args,b.args)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[$C,null,ZC,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new RV(this.fn,this.args,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "fn":case "args":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(ZC,b):U.call(null,ZC,b))?new RV(c,this.args,this.G,this.F,null):r(U.B?U.B($C,b):U.call(null,$C,b))?new RV(this.fn,c,this.G,this.F,null):new RV(this.fn,this.args,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(ZC,this.fn,null),new Y($C,this.args,null)],null),this.F))};g.ha=function(a,b){return new RV(this.fn,this.args,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return WU(b,this.args,WU(b,this.fn,c))};g.cb=function(a,b){a=bV.B?bV.B(b,this.fn):bV.call(null,b,this.fn);b=this.args;return bV.B?bV.B(a,b):bV.call(null,a,b)};function SV(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=SV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[ZC,this.fn],null),new X(null,2,5,Z,[$C,this.args],null),new X(null,2,5,Z,[Br,this.binding],null)],null),this.F))};g.qa=function(){return new ej(this,3,new X(null,3,5,Z,[ZC,$C,Br],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new SV(this.fn,this.args,this.binding,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=589494199^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.fn,b.fn)&&E.B(this.args,b.args)&&E.B(this.binding,b.binding)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,3,[$C,null,ZC,null,Br,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new SV(this.fn,this.args,this.binding,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "fn":case "args":case "binding":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(ZC,b):U.call(null,ZC,b))?new SV(c,this.args,this.binding,this.G,this.F,null):r(U.B?U.B($C,b):U.call(null,$C,b))?new SV(this.fn,c,this.binding,this.G,this.F,null):r(U.B?U.B(Br,b):U.call(null,Br,b))?new SV(this.fn,this.args,c,this.G,this.F,null):new SV(this.fn,this.args,this.binding,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(ZC,this.fn,null),new Y($C,this.args,null),new Y(Br,this.binding,null)],null),this.F))};g.ha=function(a,b){return new SV(this.fn,this.args,this.binding,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.binding,WU(b,this.args,WU(b,this.fn,c)))};
g.cb=function(a,b){a=bV.B?bV.B(b,this.fn):bV.call(null,b,this.fn);b=this.args;a=bV.B?bV.B(a,b):bV.call(null,a,b);b=this.binding;return bV.B?bV.B(a,b):bV.call(null,a,b)};function TV(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=TV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Lv,this.source],null),new X(null,2,5,Z,[ut,this.name],null),new X(null,2,5,Z,[$C,this.args],null)],null),this.F))};g.qa=function(){return new ej(this,3,new X(null,3,5,Z,[Lv,ut,$C],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new TV(this.source,this.name,this.args,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-444662011^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.name,b.name)&&E.B(this.args,b.args)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,3,[$C,null,ut,null,Lv,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new TV(this.source,this.name,this.args,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "name":case "args":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Lv,b):U.call(null,Lv,b))?new TV(c,this.name,this.args,this.G,this.F,null):r(U.B?U.B(ut,b):U.call(null,ut,b))?new TV(this.source,c,this.args,this.G,this.F,null):r(U.B?U.B($C,b):U.call(null,$C,b))?new TV(this.source,this.name,c,this.G,this.F,null):new TV(this.source,this.name,this.args,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(Lv,this.source,null),new Y(ut,this.name,null),new Y($C,this.args,null)],null),this.F))};g.ha=function(a,b){return new TV(this.source,this.name,this.args,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.args,WU(b,this.name,WU(b,this.source,c)))};
g.cb=function(a,b){a=bV.B?bV.B(b,this.source):bV.call(null,b,this.source);b=this.name;a=bV.B?bV.B(a,b):bV.call(null,a,b);b=this.args;return bV.B?bV.B(a,b):bV.call(null,a,b)};function UV(a,b,c,d,e,f){this.source=a;this.ub=b;this.Fa=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=UV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "vars":return this.ub;case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Lv,this.source],null),new X(null,2,5,Z,[lp,this.ub],null),new X(null,2,5,Z,[$s,this.Fa],null)],null),this.F))};g.qa=function(){return new ej(this,3,new X(null,3,5,Z,[Lv,lp,$s],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new UV(this.source,this.ub,this.Fa,this.G,this.F,this.J)};g.la=function(){return 3+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1394671061^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.ub,b.ub)&&E.B(this.Fa,b.Fa)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,3,[Lv,null,$s,null,lp,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new UV(this.source,this.ub,this.Fa,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "vars":case "clauses":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Lv,b):U.call(null,Lv,b))?new UV(c,this.ub,this.Fa,this.G,this.F,null):r(U.B?U.B(lp,b):U.call(null,lp,b))?new UV(this.source,c,this.Fa,this.G,this.F,null):r(U.B?U.B($s,b):U.call(null,$s,b))?new UV(this.source,this.ub,c,this.G,this.F,null):new UV(this.source,this.ub,this.Fa,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(Lv,this.source,null),new Y(lp,this.ub,null),new Y($s,this.Fa,null)],null),this.F))};g.ha=function(a,b){return new UV(this.source,this.ub,this.Fa,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.Fa,WU(b,this.ub,WU(b,this.source,c)))};
g.cb=function(a,b){a=bV.B?bV.B(b,this.source):bV.call(null,b,this.source);b=this.ub;a=bV.B?bV.B(a,b):bV.call(null,a,b);b=this.Fa;return bV.B?bV.B(a,b):bV.call(null,a,b)};function VV(a,b,c,d,e,f){this.source=a;this.Rc=b;this.Fa=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=VV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "rule-vars":return this.Rc;case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Lv,this.source],null),new X(null,2,5,Z,[SC,this.Rc],null),new X(null,2,5,Z,[$s,this.Fa],null)],null),this.F))};g.qa=function(){return new ej(this,3,new X(null,3,5,Z,[Lv,SC,$s],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new VV(this.source,this.Rc,this.Fa,this.G,this.F,this.J)};g.la=function(){return 3+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1461934571^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.Rc,b.Rc)&&E.B(this.Fa,b.Fa)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,3,[SC,null,Lv,null,$s,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new VV(this.source,this.Rc,this.Fa,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "rule-vars":case "clauses":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Lv,b):U.call(null,Lv,b))?new VV(c,this.Rc,this.Fa,this.G,this.F,null):r(U.B?U.B(SC,b):U.call(null,SC,b))?new VV(this.source,c,this.Fa,this.G,this.F,null):r(U.B?U.B($s,b):U.call(null,$s,b))?new VV(this.source,this.Rc,c,this.G,this.F,null):new VV(this.source,this.Rc,this.Fa,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(Lv,this.source,null),new Y(SC,this.Rc,null),new Y($s,this.Fa,null)],null),this.F))};g.ha=function(a,b){return new VV(this.source,this.Rc,this.Fa,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.Fa,WU(b,this.Rc,WU(b,this.source,c)))};
g.cb=function(a,b){a=bV.B?bV.B(b,this.source):bV.call(null,b,this.source);b=this.Rc;a=bV.B?bV.B(a,b):bV.call(null,a,b);b=this.Fa;return bV.B?bV.B(a,b):bV.call(null,a,b)};function WV(a,b,c,d){this.Fa=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=WV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[$s,this.Fa],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[$s],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new WV(this.Fa,this.G,this.F,this.J)};
g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-131856804^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Fa,b.Fa)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[$s,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new WV(this.Fa,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "clauses":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B($s,b):U.call(null,$s,b))?new WV(c,this.G,this.F,null):new WV(this.Fa,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y($s,this.Fa,null)],null),this.F))};g.ha=function(a,b){return new WV(this.Fa,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.Fa,c)};g.cb=function(a,b){return bV.B?bV.B(b,this.Fa):bV.call(null,b,this.Fa)};
function XV(a){var b=E.B(qo,a)?new $U(null,null,null):null;if(r(b))return b;b=hV(a);return r(b)?b:kV(a)}function YV(a){if(wf(a)){var b=jV(H(a));return r(b)?new X(null,2,5,Z,[b,J(a)],null):new X(null,2,5,Z,[new dV(null,null,null),a],null)}return null}function ZV(a){if(wf(a)){var b=G(a);a=H(b);b=J(b);b=null==b?jf:b;var c=lV(a);a=r(c)?c:hV(a);b=UU(nV,b);return r(r(a)?b:a)?new X(null,2,5,Z,[a,b],null):null}return null}
var bV=function bV(a,b){return b instanceof aV?hf.B(a,b):b instanceof UV?gi.B(a,b.ub):b instanceof VV?(b=b.Rc,bV.B?bV.B(a,b):bV.call(null,a,b)):(null!=b?l===b.ab||(b.ve?0:nc(QU,b)):nc(QU,b))?SU(b,a):wf(b)?w.D(bV,a,b):a};function $V(a,b,c){if(tf(a)&&tf(b))throw qm("Join variables should not be empty",new q(null,2,[ex,VB,Qp,c],null));}function aW(a,b){$V(null,lp.C(a),b);return a}function bW(a,b){var c=Zg(a);c=B.B(c,SC);var d=Zg(c);c=B.B(d,Ut);d=B.B(d,ty);$V(c,d,b);return a}
function Mh(a){if(wf(a)&&E.B(MA,H(a))){var b=J(a);b=cW.C?cW.C(b):cW.call(null,b);if(r(bh(b)))return new WV(b,null,null,null);throw qm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new q(null,2,[ex,VB,Qp,a],null));}return null}
function Nh(a){a:{var b=YV(a);if(r(b)){var c=N(b,0,null);b=N(b,1,null);var d=G(b);b=H(d);d=J(d);if(E.B(PB,b)){b=cW.C?cW.C(d):cW.call(null,d);if(r(b)){c=aW(YU(new UV(c,Li(Ck(bV(jf,b))),b,null,null,null),a),a);break a}throw qm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new q(null,2,[ex,VB,Qp,a],null));}}c=null}if(r(c))return c;a:{b=YV(a);if(r(b)){c=N(b,0,null);b=N(b,1,null);d=G(b);b=H(d);var e=J(d);d=H(e);e=J(e);if(E.B(Px,b)){b=UU(hV,d);d=cW.C?cW.C(e):cW.call(null,e);if(r(r(b)?
d:b)){c=aW(YU(new UV(c,b,d,null,null,null),a),a);break a}throw qm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new q(null,2,[ex,VB,Qp,a],null));}}c=null}if(r(c))return c;a:{b=YV(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),d=G(b),b=H(d),d=J(d),E.B(Lo,b))){b=UU(Lh(),d);if(r(b)){c=bW(YU(new VV(c,new oV(null,Li(Ck(bV(jf,b))),null,null,null),b,null,null,null),a),a);break a}throw qm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new q(null,2,[ex,VB,
Qp,a],null));}c=null}if(r(c))return c;a:{b=YV(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),d=G(b),b=H(d),e=J(d),d=H(e),e=J(e),E.B($w,b))){b=pV(d);d=UU(Lh(),e);if(r(r(b)?d:b)){c=bW(YU(new VV(c,b,d,null,null,null),a),a);break a}throw qm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new q(null,2,[ex,VB,Qp,a],null));}c=null}if(r(c))return c;a:{if(TU(a,1)&&(b=ZV(H(a)),r(b))){c=N(b,0,null);b=N(b,1,null);c=YU(new RV(c,b,null,null,null),a);break a}c=null}if(r(c))return c;
a:{if(TU(a,2)&&(b=N(a,0,null),c=N(a,1,null),d=ZV(b),r(d))){b=N(d,0,null);d=N(d,1,null);c=yV(c);c=r(c)?YU(new SV(b,d,c,null,null,null),a):null;break a}c=null}if(r(c))return c;a:{b=YV(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),b=G(b),d=H(b),b=J(b),d=lV(d),e=UU(XV,b),r(d))){if(tf(b))throw qm("rule-expr requires at least one argument",new q(null,2,[ex,VB,Qp,a],null));if(null==e)throw qm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new q(null,2,[ex,VB,Qp,a],null));c=new TV(c,
d,e,null,null,null);break a}c=null}if(r(c))return c;a:{b=YV(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),b=UU(XV,b),r(b))){if(tf(b))throw qm("Pattern could not be empty",new q(null,2,[ex,VB,Qp,a],null));c=YU(new QV(c,b,null,null,null),a);break a}c=null}if(r(c))return c;throw qm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new q(null,2,[ex,VB,Qp,a],null));}function cW(a){return UU(Nh,a)}
function dW(a){var b=cW(a);if(r(b))return b;throw qm("Cannot parse :where clause, expected [clause+]",new q(null,2,[ex,VB,Qp,a],null));}function eW(a,b,c,d,e){this.ub=a;this.Fa=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=eW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "vars":return this.ub;case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[lp,this.ub],null),new X(null,2,5,Z,[$s,this.Fa],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[lp,$s],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new eW(this.ub,this.Fa,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1024755006^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.ub,b.ub)&&E.B(this.Fa,b.Fa)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[$s,null,lp,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new eW(this.ub,this.Fa,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "vars":case "clauses":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(lp,b):U.call(null,lp,b))?new eW(c,this.Fa,this.G,this.F,null):r(U.B?U.B($s,b):U.call(null,$s,b))?new eW(this.ub,c,this.G,this.F,null):new eW(this.ub,this.Fa,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(lp,this.ub,null),new Y($s,this.Fa,null)],null),this.F))};
g.ha=function(a,b){return new eW(this.ub,this.Fa,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.Fa,WU(b,this.ub,c))};g.cb=function(a,b){return bV(bV(b,this.ub),this.Fa)};function fW(a,b,c,d,e){this.name=a;this.branches=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=fW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "name":return this.name;case "branches":return this.branches;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[ut,this.name],null),new X(null,2,5,Z,[Dp,this.branches],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[ut,Dp],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new fW(this.name,this.branches,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-900273052^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.name,b.name)&&E.B(this.branches,b.branches)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[ut,null,Dp,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new fW(this.name,this.branches,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "name":case "branches":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(ut,b):U.call(null,ut,b))?new fW(c,this.branches,this.G,this.F,null):r(U.B?U.B(Dp,b):U.call(null,Dp,b))?new fW(this.name,c,this.G,this.F,null):new fW(this.name,this.branches,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(ut,this.name,null),new Y(Dp,this.branches,null)],null),this.F))};
g.ha=function(a,b){return new fW(this.name,this.branches,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return WU(b,this.branches,WU(b,this.name,c))};g.cb=function(a,b){return bV(bV(b,this.name),this.branches)};
function gW(a){if(wf(a)){var b=G(a),c=H(b),d=J(b);if(wf(c)){b=G(c);var e=H(b);c=J(b);b=function(){var h=lV(e);if(r(h))return h;throw qm("Cannot parse rule name, expected plain-symbol",new q(null,2,[ex,yB,Qp,a],null));}();c=pV(c);var f=function(){var h=bh(cW(d));if(r(h))return h;throw qm("Rule branch should have clauses",new q(null,2,[ex,yB,Qp,a],null));}();return new q(null,3,[ut,b,lp,c,$s,f],null)}throw qm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",ol.I(M([c]))].join(""),new q(null,
2,[ex,yB,Qp,a],null));}throw qm("Cannot parse rule, expected [rule-head clause+]",new q(null,2,[ex,yB,Qp,a],null));}
function hW(a,b){var c=lp.C(H(b)),d=rV(c);b=G(J(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.Da(null,h);k=lp.C(k);if(ah.B(d,rV(k)))throw qm(["Arity mismatch for rule '",ol.I(M([Pr.C(a)])),"': ",ol.I(M([qV(c)]))," vs. ",ol.I(M([qV(k)]))].join(""),new q(null,2,[ex,yB,Iw,a],null));h+=1}else if(b=G(b)){if(Af(b))f=Pd(b),b=Qd(b),e=f,f=K(f);else{k=H(b);e=lp.C(k);if(ah.B(d,rV(e)))throw qm(["Arity mismatch for rule '",ol.I(M([Pr.C(a)])),"': ",ol.I(M([qV(c)]))," vs. ",ol.I(M([qV(e)]))].join(""),new q(null,
2,[ex,yB,Iw,a],null));b=J(b);e=null;f=0}h=0}else break}
function iW(a){Li(function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){var f=e;if(Af(f)){var h=Pd(f),k=K(h),m=Cg(k);return function(){for(var v=0;;)if(v<k){var z=x(h,v),C=N(z,0,null),F=N(z,1,null);z=hi.B(function(){return function(I){return new eW(lp.C(I),$s.C(I),null,null,null)}}(v,z,C,F,h,k,m,f,e),F);F=m;hW(C,z);F.add(new fW(C,z,null,null,null));v+=1}else return!0}()?Eg(Gg(m),d(Qd(f))):Eg(Gg(m),null)}var n=H(f),p=N(n,0,null),u=N(n,1,null);n=hi.B(function(){return function(v){return new eW(lp.C(v),
$s.C(v),null,null,null)}}(n,p,u,f,e),u);hW(p,n);return Ze(new fW(p,n,null,null,null),d(ve(f)))}return null}},null,null)}(Xl(ut,UU(gW,a)))}())}function jW(a,b,c,d,e,f,h,k){this.Dc=a;this.Hc=b;this.Fc=c;this.Ec=d;this.Gc=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=jW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "qfind":return this.Dc;case "qwith":return this.Hc;case "qreturn-map":return this.Fc;case "qin":return this.Ec;case "qwhere":return this.Gc;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Kx,this.Dc],null),new X(null,2,5,Z,[Qt,this.Hc],null),new X(null,2,5,Z,[dB,this.Fc],null),new X(null,2,5,Z,[Ms,this.Ec],null),new X(null,2,5,Z,[Ys,this.Gc],null)],null),this.F))};g.qa=function(){return new ej(this,5,new X(null,5,5,Z,[Kx,Qt,dB,Ms,Ys],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new jW(this.Dc,this.Hc,this.Fc,this.Ec,this.Gc,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=181307977^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Dc,b.Dc)&&E.B(this.Hc,b.Hc)&&E.B(this.Fc,b.Fc)&&E.B(this.Ec,b.Ec)&&E.B(this.Gc,b.Gc)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,5,[Kx,null,Ys,null,Ms,null,Qt,null,dB,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new jW(this.Dc,this.Hc,this.Fc,this.Ec,this.Gc,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Kx,b):U.call(null,Kx,b))?new jW(c,this.Hc,this.Fc,this.Ec,this.Gc,this.G,this.F,null):r(U.B?U.B(Qt,b):U.call(null,Qt,b))?new jW(this.Dc,c,this.Fc,this.Ec,this.Gc,this.G,this.F,null):r(U.B?U.B(dB,b):U.call(null,dB,b))?new jW(this.Dc,this.Hc,c,this.Ec,this.Gc,this.G,this.F,null):r(U.B?U.B(Ms,b):U.call(null,Ms,b))?new jW(this.Dc,this.Hc,this.Fc,c,this.Gc,this.G,this.F,null):r(U.B?U.B(Ys,b):U.call(null,Ys,b))?new jW(this.Dc,this.Hc,this.Fc,this.Ec,c,this.G,this.F,
null):new jW(this.Dc,this.Hc,this.Fc,this.Ec,this.Gc,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Kx,this.Dc,null),new Y(Qt,this.Hc,null),new Y(dB,this.Fc,null),new Y(Ms,this.Ec,null),new Y(Ys,this.Gc,null)],null),this.F))};g.ha=function(a,b){return new jW(this.Dc,this.Hc,this.Fc,this.Ec,this.Gc,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return WU(b,this.Gc,WU(b,this.Ec,WU(b,this.Fc,WU(b,this.Hc,WU(b,this.Dc,c)))))};g.cb=function(a,b){return bV(bV(bV(bV(bV(b,this.Dc),this.Hc),this.Fc),this.Ec),this.Gc)};function kW(a){var b=R.I(a,Kx,M([Qt,dB,Ms,Ys]));b=yf(a)?gi.B(W,b):b;return new jW(Kx.C(a),Qt.C(a),dB.C(a),Ms.C(a),Ys.C(a),null,bh(b),null)}function lW(a){for(var b=W,c=null;;){var d=H(a);if(r(d))d instanceof D?(c=d,a=J(a)):(b=ni.R(b,new X(null,1,5,Z,[c],null),zh(jf),d),a=J(a));else return b}}
function mW(a){var b=Lv.C(a);return a instanceof QV?b:null!=b?b instanceof dV?null:b:null}
function nW(a,b,c){var d=Bk(bV(jf,Kx.C(a))),e=Bk(Qt.C(a)),f=Bk(bV(jf,Ms.C(a))),h=Bk(bV(jf,Ys.C(a)));f=VK.B(TK(d,e),TK(h,f));d=UK.B(d,e);if(!tf(f))throw qm(["Query for unknown vars: ",ol.I(M([hi.B(Pr,f)]))].join(""),new q(null,3,[ex,Is,lp,f,Qp,b],null));if(!tf(d))throw qm([":find and :with should not use same variables: ",ol.I(M([hi.B(Pr,d)]))].join(""),new q(null,3,[ex,Is,lp,d,Qp,b],null));d=dB.C(a);if(null!=d){if(Kx.C(a)instanceof GV)throw qm([ol.I(M([oo.C(d)]))," does not work with single-scalar :find"].join(""),
new q(null,2,[ex,Is,Qp,b],null));if(Kx.C(a)instanceof FV)throw qm([ol.I(M([oo.C(d)]))," does not work with collection :find"].join(""),new q(null,2,[ex,Is,Qp,b],null));}d=As.C(dB.C(a));if(null!=d&&(e=DV(Kx.C(a)),!E.B(K(d),K(e))))throw qm(["Count of ",ol.I(M([oo.C(dB.C(a))]))," must match count of :find"].join(""),new q(null,4,[ex,Is,qn,Ze(oo.C(dB.C(a)),d),cy,e,Qp,b],null));if(1<K(ei(lc,new X(null,3,5,Z,[yo.C(c),vt.C(c),Rv.C(c)],null))))throw qm("Only one of :keys/:syms/:strs must be present",new q(null,
2,[ex,Is,Qp,b],null));var k=bV(jf,Ms.C(a)),m=VU(function(p){return p instanceof cV},Ms.C(a)),n=VU(function(p){return p instanceof eV},Ms.C(a));if(!r(function(){var p=XU(k);return r(p)?(p=XU(m),r(p)?XU(n):p):p}()))throw qm("Vars used in :in should be distinct",new q(null,2,[ex,Is,Qp,b],null));c=bV(jf,Qt.C(a));if(!r(XU(c)))throw qm("Vars used in :with should be distinct",new q(null,2,[ex,Is,Qp,b],null));c=WU(function(p){return p instanceof cV},Ms.C(a),zk);d=WU(function(p){return p instanceof cV},Ys.C(a),
zk);c=VK.B(d,c);if(!tf(c))throw qm(["Where uses unknown source vars: ",ol.I(M([hi.B(Pr,c)]))].join(""),new q(null,3,[ex,Is,lp,c,Qp,b],null));c=VU(function(p){return p instanceof TV},Ys.C(a));a=VU(function(p){return p instanceof eV},Ms.C(a));if(!tf(c)&&tf(a))throw qm("Missing rules var '%' in :in",new q(null,2,[ex,Is,Qp,b],null));}
function oW(a){if(xf(a))var b=a;else if(wf(a))b=lW(a);else throw qm("Query should be a vector or a map",new q(null,2,[ex,Is,Qp,a],null));var c=b,d=dW(Nn.B(c,jf));b=kW(new q(null,5,[Kx,LV(cy.C(c)),Qt,function(){var e=DD.C(c);if(r(e)){var f=UU(hV,e);if(r(f))e=f;else throw qm("Cannot parse :with clause, expected [ variable+ ]",new q(null,2,[ex,iq,Qp,e],null));}else e=null;return e}(),dB,function(){var e=NV(yo,yo.C(c));if(r(e))return e;e=NV(vt,vt.C(c));return r(e)?e:NV(Rv,Rv.C(c))}(),Ms,PV(function(){var e=
LD.C(c);return r(e)?e:tf(VU(mW,d))?jf:new X(null,1,5,Z,[Xn],null)}()),Ys,d],null));nW(b,a,c);return b};var pW=dR();function qW(a,b,c,d,e,f){this.Id=a;this.sources=b;this.rules=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=qW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "rels":return this.Id;case "sources":return this.sources;case "rules":return this.rules;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[vr,this.Id],null),new X(null,2,5,Z,[Yr,this.sources],null),new X(null,2,5,Z,[TA,this.rules],null)],null),this.F))};g.qa=function(){return new ej(this,3,new X(null,3,5,Z,[vr,Yr,TA],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new qW(this.Id,this.sources,this.rules,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1014232958^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Id,b.Id)&&E.B(this.sources,b.sources)&&E.B(this.rules,b.rules)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,3,[Yr,null,TA,null,vr,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new qW(this.Id,this.sources,this.rules,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "rels":case "sources":case "rules":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(vr,b):U.call(null,vr,b))?new qW(c,this.sources,this.rules,this.G,this.F,null):r(U.B?U.B(Yr,b):U.call(null,Yr,b))?new qW(this.Id,c,this.rules,this.G,this.F,null):r(U.B?U.B(TA,b):U.call(null,TA,b))?new qW(this.Id,this.sources,c,this.G,this.F,null):new qW(this.Id,this.sources,this.rules,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(vr,this.Id,null),new Y(Yr,this.sources,null),new Y(TA,this.rules,null)],null),this.F))};g.ha=function(a,b){return new qW(this.Id,this.sources,this.rules,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function rW(a,b,c,d,e){this.wa=a;this.Zd=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=rW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "attrs":return this.wa;case "tuples":return this.Zd;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Dz,this.wa],null),new X(null,2,5,Z,[rq,this.Zd],null)],null),this.F))};
g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[Dz,rq],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new rW(this.wa,this.Zd,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1107093117^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.wa,b.wa)&&E.B(this.Zd,b.Zd)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,2,[rq,null,Dz,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new rW(this.wa,this.Zd,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "attrs":case "tuples":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Dz,b):U.call(null,Dz,b))?new rW(c,this.Zd,this.G,this.F,null):r(U.B?U.B(rq,b):U.call(null,rq,b))?new rW(this.wa,c,this.G,this.F,null):new rW(this.wa,this.Zd,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(Dz,this.wa,null),new Y(rq,this.Zd,null)],null),this.F))};g.ha=function(a,b){return new rW(this.wa,this.Zd,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function sW(a,b){return UK.B(Bk(kj(a)),Bk(kj(b)))}function tW(a,b){return E.B(K(a),K(b))&&rh(function(c){return S(b,c)},kj(a))&&rh(function(c){return S(b,c)},kj(a))}
var uW=function uW(a,b){return E.B(qo,a)?!0:E.B(new X(null,1,5,Z,[MB],null),a)?wf(b):a instanceof A?E.B(b,a):wf(a)?E.B(gf(a),MB)?wf(b)&&rh(function(d){var e=N(d,0,null);d=N(d,1,null);return uW.B?uW.B(e,d):uW.call(null,e,d)},Rh.D(Pi,Dk(a),b)):wf(b)&&E.B(K(b),K(a))&&rh(function(d){var e=N(d,0,null);d=N(d,1,null);return uW.B?uW.B(e,d):uW.call(null,e,d)},Rh.D(Pi,a,b)):a.C?a.C(b):a.call(null,b)};function vW(a){return a instanceof A&&E.B("$",H(vg(a)))}
function wW(a){return a instanceof A&&E.B("?",H(vg(a)))}function xW(a){return a instanceof D||"string"===typeof a}function yW(a){return uW(new X(null,2,5,Z,[xW,qo],null),a)}function zW(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var AW=function AW(a,b){var d=Zg(a),e=B.B(d,Dz);d=B.B(d,rq);var f=Zg(b),h=B.B(f,Dz);f=B.B(f,rq);if(E.B(e,h))return new rW(e,gi.B(Li(d),f),null,null,null);if(tW(e,h)){if(rh(hc,lj(e))){var k=Li(function(){return function v(u){return new wg(null,function(){for(;;){var z=G(u);if(z){if(Af(z)){var C=Pd(z),F=K(C),I=Cg(F);a:for(var O=0;;)if(O<F){var P=x(C,O),T=N(P,0,null);P=N(P,1,null);T=new X(null,2,5,Z,[P,e.C?e.C(T):e.call(null,T)],null);I.add(T);O+=1}else{C=!0;break a}return C?Eg(Gg(I),v(Qd(z))):Eg(Gg(I),
null)}C=H(z);I=N(C,0,null);C=N(C,1,null);return Ze(new X(null,2,5,Z,[C,e.C?e.C(I):e.call(null,I)],null),v(ve(z)))}return null}},null,null)}(h)}()),m=w.B(bg,lj(e))+1;b=Jd(w.D(function(p,u){for(var v=Array(m),z=G(k),C=null,F=0,I=0;;)if(I<F){var O=C.Da(null,I),P=N(O,0,null);O=N(O,1,null);v[O]=u[P];I+=1}else if(z=G(z))Af(z)?(F=Pd(z),z=Qd(z),C=F,F=K(F)):(F=H(z),C=N(F,0,null),F=N(F,1,null),v[F]=u[C],z=J(z),C=null,F=0),I=0;else break;return Mg.B(p,v)},Hd(Li(d)),f));return new rW(e,b,null,null,null)}var n=
Ek(kj(sk.I(M([e,h]))),Nk.P());d=function(){var p=new rW(n,jf,null,null,null);return AW.B?AW.B(p,a):AW.call(null,p,a)}();return AW.B?AW.B(d,b):AW.call(null,d,b)}throw qm(["Cant sum relations with different attrs: ",ol.I(M([e]))," and ",ol.I(M([h]))].join(""),new q(null,1,[ex,Zo],null));},BW=function BW(a){switch(arguments.length){case 0:return BW.P();case 2:return BW.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
BW.P=function(){return new rW(W,new X(null,1,5,Z,[[]],null),null,null,null)};BW.B=function(a,b){var c=kj(Dz.C(a)),d=kj(Dz.C(b)),e=Of(Rh.B(Dz.C(a),c)),f=Of(Rh.B(Dz.C(b),d));return new rW(Ek(V.B(c,d),Nk.P()),Jd(w.D(function(h,k){return w.D(function(m,n){return Mg.B(m,zW(k,e,n,f))},h,rq.C(b))},Hd(jf),rq.C(a))),null,null,null)};BW.aa=2;function CW(a){a=Rh.B(Pr,Li(Ck(bV(jf,a))));return new rW(Ek(a,Nk.P()),jf,null,null,null)}
function DW(a,b){if(null!=a&&null!=a.Cf)a=a.Cf(a,b);else{var c=DW[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=DW._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IBinding.in-\x3erel",a);}return a}sV.prototype.Cf=function(){return BW.P()};tV.prototype.Cf=function(a,b){return new rW(nf([ki(this,new X(null,2,5,Z,[Lz,Pr],null)),0]),new X(null,1,5,Z,[xc(new X(null,1,5,Z,[b],null))],null),null,null,null)};
vV.prototype.Cf=function(a,b){var c=this;if($R(b))return tf(b)?CW(c):w.B(AW,Rh.B(function(d){return DW(c.binding,d)},b));throw qm(["Cannot bind value ",ol.I(M([b]))," to collection ",ol.I(M([ZU(c)]))].join(""),new q(null,3,[ex,Yn,Wr,b,Br,ZU(c)],null));};
uV.prototype.Cf=function(a,b){if($R(b)){if(K(b)<K(this.bindings))throw qm(["Not enough elements in a collection ",ol.I(M([b]))," to bind tuple ",ol.I(M([ZU(this)]))].join(""),new q(null,3,[ex,Yn,Wr,b,Br,ZU(this)],null));return w.B(BW,Rh.D(function(c,d){return DW(c,d)},this.bindings,b))}throw qm(["Cannot bind value ",ol.I(M([b]))," to tuple ",ol.I(M([ZU(this)]))].join(""),new q(null,3,[ex,Yn,Wr,b,Br,ZU(this)],null));};
function EW(a,b){var c=N(b,0,null);b=N(b,1,null);c instanceof tV&&Lz.C(c)instanceof cV?a=oi.ma(a,Yr,Q,ki(c,new X(null,2,5,Z,[Lz,Pr],null)),b):c instanceof tV&&Lz.C(c)instanceof eV?(c=Q.D,b="string"===typeof b?c1(b):b,iW(b),b=Xl(ff,b),a=c.call(Q,a,TA,b)):a=oi.R(a,vr,hf,DW(c,b));return a}
function FW(a,b,c){var d=K(b),e=K(c);if(d<e)throw qm(["Extra inputs passed, expected: ",ol.I(M([hi.B(function(f){return Lv.C(rf(f))},b)])),", got: ",ol.I(M([e]))].join(""),new q(null,3,[ex,Nw,jv,b,sB,c],null));if(d>e)throw qm(["Too few inputs passed, expected: ",ol.I(M([hi.B(function(f){return Lv.C(rf(f))},b)])),", got: ",ol.I(M([e]))].join(""),new q(null,3,[ex,Nw,jv,b,sB,c],null));return w.D(EW,a,Ek(b,c))}var GW=null,HW=null;
function IW(a,b){var c=a.C?a.C(b):a.call(null,b);return S(GW,b)?function(d){d=d[c];return"number"===typeof d?d:wf(d)?kT(HW,d):fR(d)?kT(HW,d):d}:function(d){return d[c]}}function JW(a){if(1===K(a))return H(a);var b=Of(a);return function(c){return G(b.map(function(d){return d.C?d.C(c):d.call(null,c)}))}}function KW(a,b){for(var c=Hd(W);;){var d=H(b);if(null==d)return Jd(c);var e=a.C?a.C(d):a.call(null,d);b=J(b);c=Ng(c,e,hf.B(B.D(c,e,we),d))}}
function LW(a,b){var c=rq.C(a),d=rq.C(b),e=Dz.C(a),f=Dz.C(b);a=Li(sW(Dz.C(a),Dz.C(b)));var h=Rh.B(function(v){return IW(e,v)},a),k=Rh.B(function(v){return IW(f,v)},a);a=kj(e);b=Li(VK.B(Bk(kj(f)),Bk(kj(e))));var m=Of(Rh.B(e,a)),n=Of(Rh.B(f,b));h=JW(h);var p=KW(h,c),u=JW(k);c=Jd(w.D(function(v,z){var C=u.C?u.C(z):u.call(null,z);C=B.B(p,C);return null==C?v:w.D(function(F,I){return Mg.B(F,zW(I,m,z,n))},v,C)},Hd(jf),d));return new rW(Ek(V.B(a,b),Nk.P()),c,null,null,null)}
function MW(a,b){var c=Zg(a),d=B.B(c,Dz);c=B.B(c,rq);b=Zg(b);var e=B.B(b,Dz);b=B.B(b,rq);var f=sW(d,e),h=Rh.B(function(n){return IW(e,n)},f);h=JW(h);var k=KW(h,b);b=Rh.B(function(n){return IW(d,n)},f);var m=JW(b);return Q.D(a,rq,ii(function(n){n=m.C?m.C(n):m.call(null,n);return null==(k.C?k.C(n):k.call(null,n))},c))}
function NW(a,b){var c=hi.B(function(d){return E.B(d,qo)||wW(d)?null:d},b);a=DS(a,c);b=gi.B(W,ei(function(d){var e=N(d,0,null);N(d,1,null);return wW(e)},Rh.D(Pi,b,new X(null,4,5,Z,["e","a","v","tx"],null))));return new rW(b,a,null,null,null)}
function OW(a,b){a=ei(function(d){a:for(var e=b;;){var f=d;if(r(r(f)?e:f)){f=H(d);var h=H(e);if(E.B(h,qo)||wW(h)||E.B(f,h))d=J(d),e=J(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=gi.B(W,ei(function(d){var e=N(d,0,null);N(d,1,null);return wW(e)},Rh.D(Pi,b,Nk.P())));return new rW(c,hi.B(Of,a),null,null,null)}function PW(a,b){return(null!=a?l===a.qk||(a.ve?0:nc(CS,a)):nc(CS,a))?NW(a,b):OW(a,b)}
function QW(a,b){for(var c=jf;;){var d=H(a);if(null==d)return hf.B(c,b);r(bh(sW(Dz.C(b),Dz.C(d))))?(a=J(a),b=LW(d,b)):(a=J(a),c=hf.B(c,d))}}function RW(a,b){return sh(function(c){return S(Dz.C(c),b)?c:null},vr.C(a))}function SW(a,b){var c=RW(a,b);if(null==c)return null;a=H(rq.C(c));null==a?b=null:(c=Dz.C(c),b=c.C?c.C(b):c.call(null,b),b=a[b]);return b}function TW(a,b){return sh(function(c){return S(Dz.C(a),c)},b)}
function UW(a,b){var c=ei(function(e){return TW(e,b)},vr.C(a)),d=w.B(BW,c);return new X(null,2,5,Z,[oi.D(a,vr,function(e){return fi(Bk(c),e)}),d],null)}
function VW(a,b,c,d){a=Yr.C(a);b=Dz.C(b);for(var e=K(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=Te(d,k);if(m instanceof A){var n=B.B(a,m);null==n?h[k]=B.B(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Pi?function(p){for(var u=f.slice(0),v=0;;)if(v<e){var z=h[v];null!=z&&(u[v]=p[z]);v+=1}else break;return Ug(c,u)}:function(p){for(var u=0;;)if(u<e){var v=h[u];null!=v&&(f[u]=p[v]);u+=1}else break;return Ug(c,f)}}
function WW(a,b){var c=N(b,0,null);c=G(c);var d=H(c),e=J(c),f=function(){var m=B.B(cU,d);if(r(m))return m;m=SW(a,d);if(r(m))return m;if(r(null))return null;if(null==RW(a,d))throw qm(["Unknown predicate '",ol.I(M([d]))," in ",ol.I(M([b]))].join(""),new q(null,3,[ex,Zo,Qp,b,vq,d],null));return null}();c=UW(a,ei(le,e));var h=N(c,0,null),k=N(c,1,null);c=r(f)?function(){var m=VW(h,k,f,e);return oi.D(k,rq,function(n){return ei(m,n)})}():Q.D(k,rq,jf);return oi.R(h,vr,hf,c)}
function XW(a,b){var c=N(b,0,null);c=G(c);var d=H(c),e=J(c);c=N(b,1,null);var f=yV(c),h=function(){var n=B.B(cU,d);if(r(n))return n;n=SW(a,d);if(r(n))return n;if(r(null))return null;if(null==RW(a,d))throw qm(["Unknown function '",ol.I(M([d]))," in ",ol.I(M([b]))].join(""),new q(null,3,[ex,Zo,Qp,b,vq,d],null));return null}();c=UW(a,ei(le,e));var k=N(c,0,null),m=N(c,1,null);c=r(h)?function(){var n=VW(k,m,h,e),p=function(){return function z(v){return new wg(null,function(){for(var C=v;;)if(C=G(C)){if(Af(C)){var F=
Pd(C),I=K(F),O=Cg(I);a:for(var P=0;;)if(P<I){var T=x(F,P),aa=n(T);null!=aa&&(T=BW.B(new rW(Dz.C(m),new X(null,1,5,Z,[T],null),null,null,null),DW(f,aa)),O.add(T));P+=1}else{F=!0;break a}return F?Eg(Gg(O),z(Qd(C))):Eg(Gg(O),null)}O=H(C);F=n(O);if(null!=F)return Ze(BW.B(new rW(Dz.C(m),new X(null,1,5,Z,[O],null),null,null,null),DW(f,F)),z(ve(C)));C=ve(C)}else return null},null,null)}(rq.C(m))}();return tf(p)?BW.B(m,CW(f)):w.B(AW,p)}():BW.B(Q.D(m,rq,jf),CW(f));return oi.R(k,vr,QW,c)}
function YW(a,b){if(wf(b)){var c=vW(H(b))?ef(b):H(b);if(c instanceof A){if(wW(c)||S(new xk(null,new q(null,6,[MA,null,PB,null,Px,null,$w,null,Lo,null,qo,null],null),null),c))return!1;if(S(TA.C(a),c))return!0;throw qm(["Unknown rule '",ol.I(M([c]))," in ",ol.I(M([b]))].join(""),new q(null,2,[ex,Zo,Qp,b],null));}}return!1}var ZW=Fh(0);
function $W(a,b){var c=G(a),d=H(c),e=J(c),f=Ih.B(ZW,Ee),h=B.B(TA.C(b),d);return function n(m){return new wg(null,function(){for(;;){var p=G(m);if(p){var u=p;if(Af(u)){var v=Pd(u),z=K(v),C=Cg(z);return function(){for(var Ca=0;;)if(Ca<z){var Ea=x(v,Ca),eb=Ea,wc=G(eb),ic=H(wc),jc=J(wc),Cb=ic,Cd=G(Cb),zg=H(Cd),cf=J(Cd),yh=zg,He=cf,Ag=jc,te=Ek(He,e);Fg(C,VQ(function(df,ae,be,ce,Zj,Ii,ry,Po,Ql,er,Wt,Xt,Hh,Yt,Zt,fr,sy,Rl,Sl,Qo,$t,au,bu,nE,B0,BN){return function(kn){if(wW(kn)){var oE=Hh.C?Hh.C(kn):Hh.call(null,
kn);return null==oE?oe.C([vg(kn),"__auto__",t.C(BN)].join("")):oE}return kn}}(Ca,eb,wc,ic,jc,Cb,Cd,zg,cf,yh,He,Ag,te,Ea,v,z,C,u,p,a,c,d,e,d,e,f,h),Ag));Ca+=1}else return!0}()?Eg(Gg(C),n(Qd(u))):Eg(Gg(C),null)}var F=H(u),I=F,O=G(I),P=H(O),T=J(O),aa=P,ea=G(aa),va=H(ea),ua=J(ea),Ma=va,pa=ua,sa=T,Da=Ek(pa,e);return Ze(VQ(function(Ca,Ea,eb,wc,ic,jc,Cb,Cd,zg,cf,yh,He,Ag,te,df,ae,be,ce,Zj,Ii,ry,Po){return function(Ql){if(wW(Ql)){var er=He.C?He.C(Ql):He.call(null,Ql);return null==er?oe.C([vg(Ql),"__auto__",
t.C(Po)].join("")):er}return Ql}}(I,O,P,T,aa,ea,va,ua,Ma,pa,sa,Da,F,u,p,a,c,d,e,d,e,f,h),sa),n(ve(u)))}return null}},null,null)}(h)}function aX(a,b){a=fi(function(c){var d=N(c,0,null);c=N(c,1,null);return E.B(d,c)},Rh.D(Pi,a,b));return new X(null,2,5,Z,[Rh.B(H,a),Rh.B(ef,a)],null)}
function bX(a,b){a=G(a);var c=H(a),d=J(a);return function h(f){return new wg(null,function(){for(;;){var k=G(f);if(k){if(Af(k)){var m=Pd(k),n=K(m),p=Cg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),z=aX(d,v);v=N(z,0,null);z=N(z,1,null);v=new X(null,1,5,Z,[V.I(new X(null,1,5,Z,[qs],null),v,M([z]))],null);p.add(v);u+=1}else{m=!0;break a}return m?Eg(Gg(p),h(Qd(k))):Eg(Gg(p),null)}p=H(k);m=aX(d,p);p=N(m,0,null);m=N(m,1,null);return Ze(new X(null,1,5,Z,[V.I(new X(null,1,5,Z,[qs],null),p,M([m]))],null),h(ve(k)))}return null}},
null,null)}(B.B(b,c))}function cX(a){var b=Fh(jf);VQ(function(c){r(wW.C?wW.C(c):wW.call(null,c))&&Ih.D(b,hf,c);return c},a);return y(b)}function dX(a,b){function c(e){e=N(e,0,null);e=G(e);H(e);e=J(e);return rh(d,e)}var d=Bk(cX(a));return new X(null,2,5,Z,[ei(c,b),fi(c,b)],null)}
function eX(a,b){function c(jc){return sh(function(Cb){return tf(rq.C(Cb))},vr.C(jc))}function d(jc,Cb){return w.D(fX,jc,Cb)}for(var e=ei(wW,b),f=Ek(e,Nk.P()),h=new kf(null,new q(null,5,[Dw,jf,Jt,a,$s,new X(null,1,5,Z,[b],null),zs,W,Vs,W],null),null,1,null),k=new rW(f,jf,null,null,null);;){var m=H(h);if(null==m)return k;var n=m,p=Pk(function(){return function(jc){return!YW(a,jc)}}(h,k,n,m,e,f,d,c),$s.C(n)),u=N(p,0,null),v=N(p,1,null),z=G(v),C=H(z),F=J(z),I=C,O=F;if(null==I){b=d(Jt.C(n),u);b=gX?gX(b,
e):hX.call(null,b,e);var P=new rW(f,b,null,null,null);b=J(h);P=AW(k,P);h=b;k=P}else{var T=I,aa=G(T),ea=H(aa),va=J(aa),ua=ea,Ma=va,pa=bX(I,zs.C(n)),sa=dX(V.B(Dw.C(n),u),V.B(pa,Vs.C(n))),Da=N(sa,0,null),Ca=N(sa,1,null);if(r(sh(function(){return function(jc){return E.B(jc,new X(null,1,5,Z,[pg(qs)],null))}}(h,k,T,aa,ea,va,ua,Ma,pa,sa,Da,Ca,p,u,v,z,C,F,I,O,n,m,e,f,d,c),Da)))b=J(h),P=k,h=b,k=P;else{var Ea=V.B(u,Da),eb=d(Jt.C(n),Ea);if(r(c(eb)))b=J(h),P=k,h=b,k=P;else{var wc=Q.D(zs.C(n),ua,hf.B(B.D(zs.C(n),
ua,jf),Ma)),ic=$W(I,a);b=V.B(function(){return function(jc,Cb,Cd,zg,cf,yh,He,Ag,te,df,ae,be,ce,Zj,Ii,ry,Po,Ql,er,Wt,Xt,Hh,Yt,Zt,fr,sy,Rl,Sl,Qo,$t){return function nE(bu){return new wg(null,function(B0,BN,kn,oE,DN,EN,Y2,Z2,$2,a3,b3,c3,d3,e3,f3,FN,g3,h3,i3,j3,k3,l3,m3,GN){return function(){for(;;){var gr=G(bu);if(gr){if(Af(gr)){var uy=Pd(gr),HN=K(uy),du=Cg(HN);a:for(var pE=0;;)if(pE<HN){var qE=x(uy,pE);qE=new q(null,5,[Dw,DN,Jt,EN,$s,gi.D(jf,Gl,M([qE,GN])),zs,kn,Vs,FN],null);du.add(qE);pE+=1}else{uy=
!0;break a}return uy?Eg(Gg(du),nE(Qd(gr))):Eg(Gg(du),null)}du=H(gr);return Ze(new q(null,5,[Dw,DN,Jt,EN,$s,gi.D(jf,Gl,M([du,GN])),zs,kn,Vs,FN],null),nE(ve(gr)))}return null}}}(jc,Cb,Cd,zg,cf,yh,He,Ag,te,df,ae,be,ce,Zj,Ii,ry,Po,Ql,er,Wt,Xt,Hh,Yt,Zt,fr,sy,Rl,Sl,Qo,$t),null,null)}}(h,k,wc,ic,Ea,eb,T,aa,ea,va,ua,Ma,pa,sa,Da,Ca,p,u,v,z,C,F,I,O,n,m,e,f,d,c)(ic)}(),J(h));P=k;h=b;k=P}}}}}
function iX(a,b){if(null!=a?l===a.Hi||(a.ve?0:nc(JS,a)):nc(JS,a)){var c=N(b,0,null),d=N(b,1,null),e=N(b,2,null),f=N(b,3,null);return Ui(new X(null,4,5,Z,[r(function(){var h=yW(c);return r(h)?h:xW(c)}())?fT(a,c):c,d,r(function(){if(r(e)){var h=xW(d);return h?(h=eT(a,d))?(h=yW(e),r(h)?h:xW(e)):h:h}return e}())?fT(a,e):e,r(yW(f))?fT(a,f):f],null),0,K(b))}return b}
function jX(a,b){var c=N(b,0,null),d=N(b,1,null),e=N(b,2,null);b=N(b,3,null);c=wW(c)?hf.B(zk,c):zk;c=wW(b)?hf.B(c,b):c;return wW(e)&&!wW(d)&&eT(a,d)?hf.B(c,e):c}function kX(a,b){return Q.D(a,vr,Dh(function(c){var d=bh(uk(Dz.C(c),b));return null==d?null:Q.D(c,Dz,d)},vr.C(a)))}function lX(a){return gi.B(zk,ci(function(b){return kj(Dz.C(b))},M([vr.C(a)])))}
function mX(a,b,c){if(WK(b,a))return null;a=VK.B(Bk(b),a);throw qm(["Insufficient bindings: ",ol.I(M([a]))," not bound in ",ol.I(M([c]))].join(""),new q(null,3,[ex,Zo,Qp,c,lp,a],null));}function nX(a,b,c){b=hi.B(function(d){return VK.B(Bk(cX(d)),a)},b);if(r(Ug(E,b)))return null;throw qm(["All clauses in 'or' must use same set of free vars, had ",ol.I(M([b]))," in ",ol.I(M([c]))].join(""),new q(null,3,[ex,Zo,Qp,c,lp,b],null));}
function oX(a,b,c){for(var d=Bk(fi(a,b)),e=G(c),f=null,h=0,k=0;;)if(k<h){c=f.Da(null,k);var m=bh(VK.B(d,Bk(cX(c))));if(null!=m)throw e=m,bl(ll(M([c,a,b,d]),Zb())),r(Vb)&&nl(),qm(["All clauses in 'or' must use same set of free vars, had ",ol.I(M([e]))," not bound in ",ol.I(M([c]))].join(""),new q(null,3,[ex,Zo,Qp,c,lp,e],null));k+=1}else if(c=G(e)){e=c;if(Af(e))f=Pd(e),e=Qd(e),c=f,h=K(f),f=c;else{c=H(e);f=bh(VK.B(d,Bk(cX(c))));if(null!=f)throw e=f,bl(ll(M([c,a,b,d]),Zb())),r(Vb)&&nl(),qm(["All clauses in 'or' must use same set of free vars, had ",
ol.I(M([e]))," not bound in ",ol.I(M([c]))].join(""),new q(null,3,[ex,Zo,Qp,c,lp,e],null));e=J(e);f=null;h=0}k=0}else return null}var fX=function fX(a){switch(arguments.length){case 2:return fX.B(arguments[0],arguments[1]);case 3:return fX.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};fX.B=function(a,b){return fX.D(a,b,b)};
fX.D=function(a,b,c){for(;;){var d=uW,e=b;if(r(function(){var P=new X(null,1,5,Z,[new X(null,2,5,Z,[le,MB],null)],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return mX(lX(a),ei(wW,J(H(b))),b),WW(a,b);if(r(function(){var P=new X(null,2,5,Z,[new X(null,2,5,Z,[le,MB],null),qo],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return mX(lX(a),ei(wW,J(H(b))),b),XW(a,b);if(r(function(){var P=new X(null,2,5,Z,[vW,MB],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){var f=G(b);c=H(f);f=J(f);var h=
HW;HW=B.B(Yr.C(a),c);try{return fX.D(a,f,b)}finally{HW=h}}else{if(r(function(){var P=new X(null,2,5,Z,[Lo,MB],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){var k=b,m=G(k),n=H(m),p=J(m);f=n;h=p;var u=nX(lX(a),h,b),v=Rh.B(function(P){return function(T){return pX.B?pX.B(P,T):pX.call(null,P,T)}}(a,b,c,k,m,n,p,f,h,u,d,e),h);b=Rh.B(function(){return function(P){return w.B(LW,vr.C(P))}}(a,b,c,k,m,n,p,f,h,u,v,d,e),v);return Q.D(H(v),vr,new X(null,1,5,Z,[w.B(AW,b)],null))}if(r(function(){var P=new X(null,
3,5,Z,[$w,new X(null,2,5,Z,[new X(null,1,5,Z,[MB],null),MB],null),MB],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){h=G(b);f=H(h);h=J(h);k=H(h);f=J(h);k=G(k);h=H(k);k=J(k);u=h;h=f;f=lX(a);mX(f,u,c);oX(f,k,h);c=Jg($w,V.B(u,k),h);f=b;b=c;c=f;continue}else{if(r(function(){var P=new X(null,3,5,Z,[$w,new X(null,1,5,Z,[MB],null),MB],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){n=b;p=G(n);var z=H(p),C=J(p);f=z;var F=H(C),I=J(C);k=F;h=I;var O=Bk(k);u=oX(lX(a),O,h);m=kX(a,O);v=Rh.B(function(P,
T,aa,ea,va,ua,Ma,pa,sa,Da,Ca,Ea,eb,wc,ic){return function(jc){return kX(pX.B?pX.B(ic,jc):pX.call(null,ic,jc),eb)}}(a,b,c,n,p,z,C,f,F,I,k,h,O,u,m,d,e),h);b=Rh.B(function(){return function(P){return w.B(LW,vr.C(P))}}(a,b,c,n,p,z,C,f,F,I,k,h,O,u,m,v,d,e),v);b=w.B(AW,b);return oi.R(a,vr,QW,b)}if(r(function(){var P=new X(null,2,5,Z,[MA,MB],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return c=G(b),b=H(c),c=J(c),f=b,b=c,w.D(pX,a,b);if(r(function(){var P=new X(null,2,5,Z,[PB,MB],null),T=e;return d.B?
d.B(P,T):d.call(null,P,T)}())){f=G(b);b=H(f);h=J(f);f=b;b=h;f=lX(a);h=Bk(cX(b));if(tf(UK.B(f,h)))throw qm(["Insufficient bindings: none of ",ol.I(M([h]))," is bound in ",ol.I(M([c]))].join(""),new q(null,2,[ex,Zo,Qp,c],null));u=null;a=Q.D(a,vr,new X(null,1,5,Z,[w.B(LW,vr.C(a))],null));b=w.D(pX,a,b);b=MW(H(vr.C(a)),w.B(LW,vr.C(b)));return Q.D(a,vr,new X(null,1,5,Z,[b],null))}if(r(function(){var P=new X(null,3,5,Z,[Px,new X(null,1,5,Z,[MB],null),MB],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return b=
G(b),f=H(b),b=J(b),f=H(b),b=J(b),k=f,f=lX(a),u=mX(f,k,c),a=Q.D(a,vr,new X(null,1,5,Z,[w.B(LW,vr.C(a))],null)),m=kX(a,k),b=kX(w.D(pX,m,b),k),b=MW(H(vr.C(a)),w.B(LW,vr.C(b))),Q.D(a,vr,new X(null,1,5,Z,[b],null));if(r(function(){var P=new X(null,1,5,Z,[MB],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){c=HW;b=iX(c,b);f=PW(c,b);h=GW;GW=(null!=c?l===c.Hi||(c.ve?0:nc(JS,c)):nc(JS,c))?jX(c,b):GW;try{return oi.R(a,vr,QW,f)}finally{GW=h}}else throw Error(["No matching clause: ",t.C(e)].join(""));}}break}};
fX.aa=3;var pX=function pX(a,b){if(YW(a,b))if(vW(H(b))){var d=HW;HW=B.B(Yr.C(a),H(b));try{var e=J(b);return pX.B?pX.B(a,e):pX.call(null,a,e)}finally{HW=d}}else return oi.R(a,vr,QW,eX(a,b));else return fX.B(a,b)};function qX(a,b){var c=HW;HW=B.B(Yr.C(a),Xn);try{return w.D(pX,a,b)}finally{HW=c}}
function hX(a){switch(arguments.length){case 2:return gX(arguments[0],arguments[1]);case 3:return rX(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function gX(a,b){a=vr.C(a);return rX(new X(null,1,5,Z,[Array(K(b))],null),a,b)}
function rX(a,b,c){for(;;){var d=H(b);if(null==d)return a;if(tf(rq.C(d)))return jf;var e=uk(Dz.C(d),c);if(tf(e)){var f=a,h=J(b),k=c;a=f;b=h;c=k}else{var m=Of(Rh.B(function(p,u,v,z){return function(C){return B.B(z,C)}}(a,b,c,e,d),c)),n=K(c);f=function(){return function(p,u,v,z,C,F,I){return function T(P){return new wg(null,function(aa,ea,va,ua,Ma,pa,sa){return function(){for(var Da=P;;){var Ca=G(Da);if(Ca){var Ea=Ca,eb=H(Ea);if(Ca=G(function(wc,ic,jc,Cb,Cd,zg,cf,yh,He,Ag,te){return function be(ae){return new wg(null,
function(ce,Zj,Ii,ry,Po,Ql,er,Wt,Xt){return function(){for(;;){var Hh=G(ae);if(Hh){if(Af(Hh)){var Yt=Pd(Hh),Zt=K(Yt),fr=Cg(Zt);return function(){for(var Rl=0;;)if(Rl<Zt){for(var Sl=x(Yt,Rl),Qo=fr,$t=uc(Po),au=0;;)if(au<Xt){var bu=Wt[au];null!=bu&&($t[au]=Sl[bu]);au+=1}else break;Qo.add($t);Rl+=1}else return!0}()?Eg(Gg(fr),be(Qd(Hh))):Eg(Gg(fr),null)}var sy=H(Hh);return Ze(function(){for(var Rl=uc(Po),Sl=0;;)if(Sl<Xt){var Qo=Wt[Sl];null!=Qo&&(Rl[Sl]=sy[Qo]);Sl+=1}else break;return Rl}(),be(ve(Hh)))}return null}}}(wc,
ic,jc,Cb,Cd,zg,cf,yh,He,Ag,te),null,null)}}(Da,aa,ea,va,eb,Ea,Ca,ua,Ma,pa,sa)(rq.C(sa))))return V.B(Ca,T(ve(Da)));Da=ve(Da)}else return null}}}(p,u,v,z,C,F,I),null,null)}}(a,b,c,m,n,e,d)(a)}();h=J(b);k=c;a=f;b=h;c=k}}}function sX(a,b){return Bk(Rh.B(Li,gX(a,b)))}
function tX(a,b){if(null!=a&&null!=a.Df)a=a.Df(a,b);else{var c=tX[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=tX._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IContextResolve.-context-resolve",a);}return a}aV.prototype.Df=function(a,b){return SW(b,this.symbol)};cV.prototype.Df=function(a,b){return ki(b,new X(null,2,5,Z,[Yr,this.symbol],null))};gV.prototype.Df=function(){var a=B.B(jU,this.symbol);return r(a)?a:null};fV.prototype.Df=function(){return this.value};
function uX(a,b,c){return hi.R(function(d,e,f){if(IV(d)){e=tX(ZC.C(d),b);d=Rh.B(function(k){return tX(k,b)},Dk($C.C(d)));var h=Rh.B(function(k){return Te(k,f)},c);return Ug(e,V.B(d,new X(null,1,5,Z,[h],null)))}return e},a,H(c),Nk.P())}function vX(a){var b=uh(IV);return fi(fc,Rh.D(function(c,d){return r(b.C?b.C(c):b.call(null,c))?d:null},a,Nk.P()))}
function wX(a,b,c){var d=vX(a);return function h(f){return new wg(null,function(){for(;;){var k=G(f);if(k){if(Af(k)){var m=Pd(k),n=K(m),p=Cg(n);a:for(var u=0;;)if(u<n){var v=x(m,u);N(v,0,null);v=N(v,1,null);v=uX(a,b,v);p.add(v);u+=1}else{m=!0;break a}return m?Eg(Gg(p),h(Qd(k))):Eg(Gg(p),null)}p=H(k);N(p,0,null);p=N(p,1,null);return Ze(uX(a,b,p),h(ve(k)))}return null}},null,null)}(Xl(function(f){return Rh.B(function(h){return Te(f,h)},d)},c))}
function xX(a,b){return w.D(function(c,d){return hf.B(c,a.C?a.C(d):a.call(null,d))},lf(b),b)}function yX(a,b){var c=As.C(a),d=Nk.B(0,K(c));return xX(function(e){return w.D(function(f,h){return Q.D(f,Te(c,h),Te(e,h))},W,d)},b)}function zX(a,b,c){if(null!=a&&null!=a.Ef)a=a.Ef(a,b,c);else{var d=zX[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=zX._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IPostProcess.-post-process",a);}return a}
EV.prototype.Ef=function(a,b,c){return null==b?c:yX(b,c)};FV.prototype.Ef=function(a,b,c){return gi.D(jf,Rh.C(H),c)};GV.prototype.Ef=function(a,b,c){return ff(c)};HV.prototype.Ef=function(a,b,c){return null!=b?H(yX(b,new X(null,1,5,Z,[H(c)],null))):H(c)};
function AX(a,b,c){var d=function(){return function h(f){return new wg(null,function(){for(;;){var k=G(f);if(k){if(Af(k)){var m=Pd(k),n=K(m),p=Cg(n);return function(){for(var v=0;;)if(v<n){var z=x(m,v),C=p;if(JV(z)){var F=tX(Lv.C(z),b);z=tX(bD.C(z),b);F=PU(F,z)}else F=null;C.add(F);v+=1}else return!0}()?Eg(Gg(p),h(Qd(k))):Eg(Gg(p),null)}var u=H(k);return Ze(JV(u)?function(){var v=tX(Lv.C(u),b),z=tX(bD.C(u),b);return PU(v,z)}():null,h(ve(k)))}return null}},null,null)}(a)}();return function h(f){return new wg(null,
function(){for(;;){var k=G(f);if(k){var m=k;if(Af(m)){var n=Pd(m),p=K(n),u=Cg(p);return function(){for(var z=0;;)if(z<p){var C=x(n,z);Fg(u,hi.D(function(){return function(F,I){return r(F)?OU(F,I):I}}(z,C,n,p,u,m,k,d),d,C));z+=1}else return!0}()?Eg(Gg(u),h(Qd(m))):Eg(Gg(u),null)}var v=H(m);return Ze(hi.D(function(){return function(z,C){return r(z)?OU(z,C):C}}(v,m,k,d),d,v),h(ve(m)))}return null}},null,null)}(c)}
function BF(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new se(b.slice(1),0,null):null;return BX(arguments[0],b)}
function BX(a,b){var c=cR(pW,a,function(){return oW(a)}),d=Kx.C(c),e=DV(d),f=ci(AV,M([DV(d)])),h=K(e),k=Qt.C(c);k=V.B(f,Rh.B(Pr,k));f=wf(a)?lW(a):a;var m=Nn.C(f);b=FW(new qW(jf,W,W,null,null,null),Ms.C(c),b);k=sX(qX(b,m),k);f=r(DD.C(f))?hi.B(function(n){return Li(Ui(n,0,h))},k):k;f=r(sh(IV,e))?wX(e,b,f):f;e=r(sh(JV,e))?AX(e,b,f):f;return zX(d,dB.C(c),e)};function CX(a,b){var c=Fh(null);Ih.B(a,function(d){d=DT(hT(new q(null,5,[mw,d,Tz,d,By,jf,dE,W,An,null],null)),b);Gh(c,d);return Tz.C(d)});return y(c)}function DX(a){var b=AF;a=CX(b,a);b=Mz.C(rf(b));b=null==b?null:y(b);b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);N(f,0,null);f=N(f,1,null);f.C?f.C(a):f.call(null,a);e+=1}else if(b=G(b))Af(b)?(d=Pd(b),b=Qd(b),c=d,d=K(d)):(c=H(b),N(c,0,null),c=N(c,1,null),c.C?c.C(a):c.call(null,a),b=J(b),c=null,d=0),e=0;else break;return a}
function FX(a){var b=AF,c=hT(new q(null,4,[mw,y(b),Tz,a,By,V.B(Rh.B(function(k){return Q.D(k,Ks,!1)},FS(y(b),uA,jf)),FS(a,uA,jf)),An,null],null));Gh(b,a);a=G(function(){var k=Mz.C(rf(b));return null==k?null:y(k)}());for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);N(h,0,null);h=N(h,1,null);h.C?h.C(c):h.call(null,c);f+=1}else if(a=G(a))Af(a)?(e=Pd(a),a=Qd(a),d=e,e=K(e)):(d=H(a),N(d,0,null),d=N(d,1,null),d.C?d.C(c):d.call(null,c),a=J(a),d=null,e=0),f=0;else break}
function GX(a){var b=AF,c=Vl.P();Ih.R(Mz.C(rf(b)),Q,c,a)}
for(var HX=G(new q(null,2,[pz,function(a){return Ug(pS,a)},EA,function(a){var b=Zg(a);a=B.B(b,Ay);b=B.B(b,Rx);return aT(Rh.B(function(c){var d=N(c,0,null),e=N(c,1,null),f=N(c,2,null);c=N(c,3,null);return pS.R(d,e,f,c)},b),a)}],null)),IX=null,JX=0,KX=0;;)if(KX<JX){var LX=IX.Da(null,KX),MX=N(LX,0,null),NX=N(LX,1,null),U2=MX,V2=NX;B.B(y(wM),U2);Ih.R(wM,Q,U2,V2);KX+=1}else{var QX=G(HX);if(QX){var RX=QX;if(Af(RX)){var SX=Pd(RX),TX=Qd(RX),UX=SX,VX=K(SX);HX=TX;IX=UX;JX=VX}else{var WX=H(RX),XX=N(WX,0,null),
YX=N(WX,1,null),W2=XX,n3=YX;B.B(y(wM),W2);Ih.R(wM,Q,W2,n3);HX=J(RX);IX=null;JX=0}KX=0}else break};var aY={},bY={},cY=[];function dY(a,b){var c=bY[a];if(void 0!==c)return c;try{cY.push(a);var d=aY[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};aY[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ca,dY,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{cY.pop()}return d.exports}dY.cache={};dY.resolve=function(a){return a};
function eY(a){return dY(a,{})};var fY=eY(3);var gY={};var hY={},iY="undefined"!==typeof window&&null!=window.document,jY=new xk(null,new q(null,2,["aria",null,"data",null],null),null);function kY(a){return 2>K(a)?a.toUpperCase():[lg.D(a,0,1).toUpperCase(),lg.B(a,1)].join("")}function lY(a){if("string"===typeof a)return a;a=vg(a);var b=kE(a,/-/),c=G(b);b=H(c);c=J(c);return r(jY.C?jY.C(b):jY.call(null,b))?a:Vg(t,b,Rh.B(kY,c))}
function mY(a){var b=function(){var c=function(){var d=of(a);if(d){d=a.displayName;if(r(d))return d;d=a.name;return"string"===typeof d&&G(d)?d:null}return d}();if(r(c))return c;c=function(){var d=null!=a?a.T&4096||l===a.bh?!0:!1:!1;return d?vg(a):d}();if(r(c))return c;c=rf(a);return xf(c)?ut.C(c):null}();return r(b)?hE(t.C(b),"$","."):null}function nY(a){return a instanceof D||a instanceof A}
var oY=function oY(a){switch(arguments.length){case 0:return oY.P();case 1:return oY.C(arguments[0]);case 2:return oY.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return oY.I(arguments[0],arguments[1],c)}};oY.P=function(){return null};oY.C=function(a){return uf(a)?(a=Dh(function(b){return r(b)?nY(b)?vg(b):b:null},a),G(a)?iE(" ",a):null):nY(a)?vg(a):a};
oY.B=function(a,b){return r(a)?r(b)?[t.C(oY.C(a))," ",t.C(oY.C(b))].join(""):oY.C(a):oY.C(b)};oY.I=function(a,b,c){return w.D(oY,oY.B(a,b),c)};oY.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};oY.aa=2;var pY=!1;function qY(a){if(xf(a))try{var b=B.B(a,sD)}catch(c){b=null}else b=null;return b}
function rY(a){var b=sD.C(rf(a));if(r(b))return b;b=qY(N(a,1,null));if(r(b))return b;b=N(a,0,null);switch(b instanceof D?b.ba:null){case "\x3e":case "f\x3e":return qY(N(a,2,null));case "r\x3e":return a=N(a,2,null),null==a?null:a.key;default:return null}};var sY=0;function tY(a){return setTimeout(a,16)}var uY=iY?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(r(b))return b;b=a.webkitRequestAnimationFrame;if(r(b))return b;b=a.mozRequestAnimationFrame;if(r(b))return b;b=a.msRequestAnimationFrame;return r(b)?b:tY}().bind(a)}():tY;function vY(a,b){return a.nh-b.nh}function wY(){return null}function xY(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.P?d.P():d.call(null);c+=1}else return null}
function yY(a,b,c){b.push(c);return a.schedule()}function zY(){this.Lg=!1}g=zY.prototype;g.flush_after_render=function(){var a=this.$f;if(null==a)return null;this.$f=null;return xY(a)};g.queue_render=function(a){null==this.qg&&(this.qg=[]);return yY(this,this.qg,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Lg)return null;this.Lg=!0;return uY.C?uY.C(a):uY.call(null,a)};g.flush_before_flush=function(){var a=this.ag;if(null==a)return null;this.ag=null;return xY(a)};
g.flush_queues=function(){this.flush_before_flush();wY();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.Lg=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.ag&&(this.ag=[]);return yY(this,this.ag,a)};g.add_after_render=function(a){null==this.$f&&(this.$f=[]);return yY(this,this.$f,a)};
g.flush_render=function(){var a=this.qg;if(null==a)return null;this.qg=null;a:{a.sort(vY);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var AY=new zY;function BY(a){if(r(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return AY.queue_render(a)};function CY(a){if(null!=a&&null!=a.Dl)a=a.id;else{var b=CY[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=CY._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Compiler.get-id",a);}return a}function DY(a,b,c){if(null!=a&&null!=a.gj)a=a.gj(a,b,c);else{var d=DY[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=DY._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("Compiler.parse-tag",a);}return a}
function EY(a,b){if(null!=a&&null!=a.ej)a=a.ej(a,b);else{var c=EY[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=EY._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Compiler.as-element",a);}return a}
function FY(a,b,c,d,e){if(null!=a&&null!=a.fj)a=a.fj(a,b,c,d,e);else{var f=FY[ha(null==a?null:a)];if(null!=f)a=f.ma?f.ma(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=FY._,null!=f)a=f.ma?f.ma(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw pc("Compiler.make-element",a);}return a};var GY;function HY(a,b){b.Wg=null;a:{var c=GY;GY=b;try{var d=a.P?a.P():a.call(null);break a}finally{GY=c}d=void 0}a=b.Wg;b.we=!1;a:{c=b.Re;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function IY(a){var b=GY;if(null!=b){var c=b.Wg;null==c?b.Wg=[a]:c.push(a)}}function JY(a,b,c){a.Zb=Q.D(a.Zb,b,c);return a.di=null}function KY(a,b){a.Zb=R.B(a.Zb,b);return a.di=null}
function LY(a,b,c){var d=a.di;d=null==d?a.di=Sf(function(m,n,p){m.push(n);m.push(p);return m},[],a.Zb):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.R?k.R(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function MY(a,b,c,d){yd(a,["#object[reagent.ratom.",t.C(c)," "].join(""));a:{c=GY;GY=null;try{var e=d;break a}finally{GY=c}e=void 0}gl(e,a,b);return yd(a,"]")}var NY=null;function OY(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.Zb=d;this.O=2154201088;this.T=114690}g=OY.prototype;
g.ia=function(a,b,c){return MY(b,c,"RAtom",new q(null,1,[vl,this.ic(null)],null))};g.ga=function(){return this.meta};g.ja=function(){return ka(this)};g.da=function(a,b){return this===b};g.Ad=function(a,b){a=this.state;this.state=b;null!=this.Zb&&LY(this,a,b);return b};g.dh=function(a,b){return this.Ad(null,b.C?b.C(this.state):b.call(null,this.state))};g.eh=function(a,b,c){return this.Ad(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};
g.fh=function(a,b,c,d){return this.Ad(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.gh=function(a,b,c,d,e){return this.Ad(null,Xg(b,this.state,c,d,e))};g.ih=function(a,b){LY(this,a,b)};g.jg=function(a,b,c){return JY(this,b,c)};g.kg=function(a,b){return KY(this,b)};g.ha=function(a,b){return new OY(this.state,b,this.validator,this.Zb)};g.ic=function(){IY(this);return this.state};
var PY=function PY(a){switch(arguments.length){case 1:return PY.C(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(1),0,null);return PY.I(arguments[0],c)}};PY.C=function(a){return new OY(a,null,null,null)};PY.I=function(a,b){var c=Zg(b);b=B.B(c,bc);c=B.B(c,Wp);return new OY(a,b,c,null)};PY.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};PY.aa=1;
function QY(a){var b=RY,c=a.Oh;c=null==c?W:c;var d=c.B?c.B(GH,null):c.call(null,GH,null);if(null!=d)return y(d);if(null==GY)return vc.P?vc.P():vc.call(null);d=function(){function f(h){var k=R.B(a.Oh,GH);a.Oh=k;return null!=b?b.C?b.C(h):b.call(null,h):null}return SY.D?SY.D(vc,yv,f):SY.call(null,vc,yv,f)}();var e=y(d);a.Oh=Q.D(c,GH,d);return e}function RY(a){a=a.destroy;return null==a?null:a.P?a.P():a.call(null)}function TY(){var a=GY;return null==a?[]:QY(a)}
function UY(a){if(null!=a&&null!=a.Ph)a=a.Ph(a);else{var b=UY[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=UY._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDisposable.dispose!",a);}return a}function VY(a,b,c,d){return a._handle_change(b,c,d)}function WY(a){this.f=a;this.state=null;this.we=!0;this.Yi=!1;this.Xg=this.Pd=this.Zb=this.Re=null;this.O=2153807872;this.T=114690}g=WY.prototype;g._peek_at=function(){var a=GY;GY=null;try{return this.ic(null)}finally{GY=a}};
g._handle_change=function(a,b,c){return b===c||this.we?null:null==this.Pd?(this.we=!0,null==NY&&(NY=[],!1===AY.Lg&&AY.schedule()),NY.push(this)):!0===this.Pd?this._run(!1):this.Pd.C?this.Pd.C(this):this.Pd.call(null,this)};
g._update_watching=function(a){var b=Bk(a),c=Bk(this.Re);this.Re=a;a=G(VK.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);Fd(h,this,VY);f+=1}else if(a=G(a))d=a,Af(d)?(a=Pd(d),f=Qd(d),d=a,e=K(a),a=f):(a=H(d),Fd(a,this,VY),a=J(d),d=null,e=0),f=0;else break;b=G(VK.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.Da(null,e),Gd(a,this),e+=1;else if(b=G(b))c=b,Af(c)?(b=Pd(c),d=Qd(c),c=b,a=K(b),b=d,d=a):(a=H(c),Gd(a,this),b=J(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.we&&null!=this.Re?this._run(!0):null};g._try_capture=function(a){try{return this.Xg=null,HY(a,this)}catch(b){return this.Xg=this.state=a=b,this.we=!1}};g._run=function(a){var b=this.state;a=r(a)?this._try_capture(this.f):HY(this.f,this);this.Yi||(this.state=a,null==this.Zb||E.B(b,a)||LY(this,b,a));return a};
g._set_opts=function(a){var b=Zg(a);a=B.B(b,$z);var c=B.B(b,QC),d=B.B(b,yv);b=B.B(b,qw);null!=a&&(this.Pd=a);null!=c&&(this.rl=c);null!=d&&(this.bj=d);return null!=b?this.Yi=b:null};g.ia=function(a,b,c){return MY(b,c,"Reaction",new q(null,1,[vl,this.ic(null)],null))};g.ja=function(){return ka(this)};g.da=function(a,b){return this===b};
g.Ph=function(){var a=this.state,b=this.Re;this.Pd=this.state=this.Re=null;this.we=!0;b=G(Bk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);Gd(f,this);e+=1}else if(b=G(b))c=b,Af(c)?(b=Pd(c),e=Qd(c),c=b,d=K(b),b=e):(b=H(c),Gd(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.bj&&this.bj(a);a=this.pm;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.C?d.C(this):d.call(null,this),c+=1;else return null};g.Ad=function(a,b){a=this.state;this.state=b;this.rl(a,b);LY(this,a,b);return b};
g.dh=function(a,b){a=this.Ad;var c=this._peek_at();b=b.C?b.C(c):b.call(null,c);return a.call(this,null,b)};g.eh=function(a,b,c){a=this.Ad;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.fh=function(a,b,c,d){a=this.Ad;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.gh=function(a,b,c,d,e){return this.Ad(null,Xg(b,this._peek_at(),c,d,e))};g.ih=function(a,b){LY(this,a,b)};g.jg=function(a,b,c){return JY(this,b,c)};
g.kg=function(a,b){a=tf(this.Zb);KY(this,b);return!a&&tf(this.Zb)&&null==this.Pd?this.Ph(null):null};g.ic=function(){var a=this.Xg;if(null!=a)throw a;(a=null==GY)&&(XY.P?XY.P():XY.call(null));a&&null==this.Pd?this.we&&(a=this.state,this.state=this.f.P?this.f.P():this.f.call(null),null==this.Zb||E.B(a,this.state)||LY(this,a,this.state)):(IY(this),this.we&&this._run(!1));return this.state};
function XY(){for(;;){var a=NY;if(null==a)return null;NY=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}wY=XY;function SY(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new se(b.slice(1),0,null):null;b=arguments[0];var e=Zg(c);c=B.B(e,$z);d=B.B(e,QC);e=B.B(e,yv);b=new WY(b);b._set_opts(new q(null,3,[$z,c,QC,d,yv,e],null));return b}var YY=SY(null);
function ZY(a,b){var c=$Y,d=YY,e=HY(a,d);null!=d.Re&&(YY=SY(null),d._set_opts(c),d.f=a,d.Pd=function(){return BY.C?BY.C(b):BY.call(null,b)},b.cljsRatom=d);return e};var aZ;function bZ(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=Va(b),e=d.length,f=W,h=0;;)if(h<e){var k=d[h];f=Q.D(f,ug.C(k),Wa(b,k));h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function cZ(a){var b;if(b=of(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.Ae);return b}function dZ(a){var b;if(b=of(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.render);return b}
function eZ(a,b){for(;;){var c=a.Ae,d=!0===a.gk?c.call(a,a):function(){var e=bZ(a,a.props);switch(K(e)){case 1:return c.call(a);case 2:return c.call(a,Te(e,1));case 3:return c.call(a,Te(e,1),Te(e,2));case 4:return c.call(a,Te(e,1),Te(e,2),Te(e,3));case 5:return c.call(a,Te(e,1),Te(e,2),Te(e,3),Te(e,4));default:return c.apply(a,xc(e).slice(1))}}();if(zf(d))return EY(b,d);if(Gf(d))d=cZ(d)?function(e,f,h,k,m){return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-
0);v<z.length;)z[v]=arguments[v+0],++v;v=new se(z,0,null)}return p.call(this,v)}function p(u){return EY(f,Vg(Pi,m,u))}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()}(a,b,c,null,d):d,a.Ae=d;else return d}}var $Y=new q(null,1,[qw,!0],null);
function fZ(a,b){switch(a instanceof D?a.ba:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=N(f,1,null),c=xf(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.ik;d=null!=d?d:c.ik=PY.C(null);return Gh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,bZ(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,bZ(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,bZ(this,c))};case "shouldComponentUpdate":return function(c){var d=pY;if(r(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return ah.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,bZ(this,this.props),bZ(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,bZ(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,bZ(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,bZ(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=Wa(this,"cljsRatom");null!=c&&UY(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var gZ=new q(null,2,[OD,null,pB,null],null),hZ=function(a){var b=Fh(W);return function(c){var d=B.B(y(b),c);if(null!=d)return d;d=a.C?a.C(c):a.call(null,c);Ih.R(b,Q,c,d);return d}}(function(a){if("string"===typeof a)return a;a=vg(a);a=hE(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=kE(a,/-/);var b=G(a);a=H(b);b=J(b);return Vg(t,a,Rh.B(kY,b))});function iZ(a){return Sf(function(b,c,d){return Q.D(b,ug.C(hZ(c)),d)},W,a)}
function jZ(a,b){var c=function(){var h=ep.C(a);return r(h)?h:Uz.C(a)}(),d=null==ep.C(a),e=function(){var h=cC.C(a);if(r(h))return h;h=mY(c);return r(h)?h:t.C(zl("reagent"))}(),f=Sf(function(h,k,m){var n=Q.D,p=fZ(k,m);return n.call(Q,h,k,r(p)?p:m)},W,a);return Q.I(f,cC,e,M([vy,d,ep,c,Uz,function(){var h=this,k=Wa(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?ZY(function(){a:{var m=aZ;aZ=h;try{var n=eZ(h,b);break a}finally{aZ=m}n=void 0}return n},h):k._run(!1)}]))}
function kZ(a){return Sf(function(b,c,d){c=vg(c);b[c]=d;return b},{},a)}function lZ(a,b){return jZ(sk.I(M([gZ,iZ(a)])),b)}var mZ=new X(null,5,5,Z,[pA,wz,Or,Vr,jC],null);
function nZ(a,b){function c(k,m,n){fY.Component.call(this,k,m,n);r(h)&&(h.B?h.B(this,k):h.call(null,this,k));r(f)&&(this.state=f.C?f.C(this):f.call(null,this));this.nh=sY+=1;return this}a=lZ(a,b);b=kZ(Yg(R,a,cC,nn,Oq,M([Uz,ep,mZ])));var d=kZ(uk(a,mZ)),e=cC.C(a),f=nn.C(a),h=Oq.C(a);Ya(c.prototype,fY.Component.prototype,b);r(Uz.C(a))&&(c.prototype.render=Uz.C(a));r(ep.C(a))&&(c.prototype.Ae=ep.C(a));r(vy.C(a))&&(c.prototype.gk=vy.C(a));Ya(c,fY.Component,d);r(e)&&(c.displayName=e,c.Sa=e,c.Za=function(k){return yd(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Wa=!0;return c.prototype.constructor=c}function oZ(a,b,c){a=CY(a);return b[a]=c}function pZ(a,b){var c=Wa(a,CY(b));null==c?cZ(a)?a=oZ(b,a,a):(c=rf(a),c=Q.D(c,XA,a),c=nZ(c,b),a=oZ(b,a,c)):a=c;return a}
function qZ(a,b){for(;;){var c=b.Ae,d=b.argv,e=Ug(c,d);if(zf(e))return EY(a,e);if(Gf(e))c=cZ(e)?function(f,h,k,m,n,p){return function(){function u(z){var C=null;if(0<arguments.length){C=0;for(var F=Array(arguments.length-0);C<F.length;)F[C]=arguments[C+0],++C;C=new se(F,0,null)}return v.call(this,C)}function v(z){return EY(f,Vg(Pi,p,z))}u.aa=0;u.fa=function(z){z=G(z);return v(z)};u.I=v;return u}()}(a,b,c,null,d,e):e,b.Ae=c;else return e}}
function rZ(a,b){var c=b.argv,d=b.Ae;b=fY.useState(0);N(b,0,null);var e=N(b,1,null),f=fY.useRef();r(f.current)||function(){var k={forceUpdate:function(){return e.C?e.C(Ee):e.call(null,Ee)}};k.nh=sY+=1;k.constructor=d;k.Ae=d;return f.current=k}();var h=f.current;b=Wa(h,"cljsRatom");fY.useEffect(function(){return function(){var k=Wa(h,"cljsRatom");return null==k?null:UY(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?ZY(function(){a:{var k=aZ;aZ=h;try{var m=qZ(a,h);break a}finally{aZ=k}m=void 0}return m},
h):b._run(!1)}function sZ(a,b){a=a.argv;b=b.argv;var c=!1===pY;if(c)try{return E.B(a,b)}catch(d){return!1}else return c}function tZ(a,b){function c(e){return rZ(a,e)}var d=Wa(b,CY(a));if(r(d))return d;d=mY(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=fY.memo(c,sZ);oZ(a,b,d);return d};var uZ=new xk(null,new q(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function vZ(a,b,c,d){var e=Zg(W);e=B.B(e,gz);if(a===document.activeElement&&S(uZ,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(ah.B(f,c))return AY.add_after_render(function(){return wZ.C?wZ.C(d):wZ.call(null,d)});c=K(f)-a.selectionStart;c=K(b)-c;d.og=b;a.value=b;of(e)&&(e.C?e.C(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.og=b;a.value=b;return of(e)?e.C?e.C(b):e.call(null,b):null}
function wZ(a){if(r(a.mh)){a.Fi=!1;var b=a.hk,c=a.og,d=a.yh;return ah.B(b,c)?vZ(d,b,c,a):null}return null}function xZ(a,b,c){a.og=c.target.value;r(a.Fi)||(a.Fi=!0,AY.add_after_render(function(){return wZ(a)}));return b.C?b.C(c):b.call(null,c)}
function yZ(a){var b=aZ;if(r(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),r(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;r(b.mh)||(b.mh=!0,b.og=c);r(b.hj)||(b.hj=of(e)?function(f){b.yh=f;return e.C?e.C(f):e.call(null,f)}:r(r(e)?e.hasOwnProperty("current"):e)?function(f){b.yh=f;return e.current=f}:function(f){return b.yh=f});b.hk=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return xZ(b,d,f)};a.ref=b.hj}}
var zZ=new q(null,4,[Zr,"ReagentInput",cD,wZ,fo,function(a){return a.mh=null},XA,function(a,b,c,d,e){yZ(c);return FY(e,a,b,c,d)}],null);var AZ={},BZ,CZ=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,DZ={"class":"className","for":"htmlFor",charset:"charSet"};function EZ(a,b){return a.hasOwnProperty(b)?Wa(a,b):null}function FZ(a,b,c){if(nY(b)){var d=EZ(DZ,vg(b));null==d?(d=lY(b),b=vg(b),b=DZ[b]=d):b=d}c=GZ.C?GZ.C(c):GZ.call(null,c);a[b]=c;return a}
function GZ(a){return"object"!==ha(a)?a:nY(a)?vg(a):xf(a)?Sf(FZ,{},a):uf(a)?Ll(a):Gf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){return Ug(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}():Ll(a)}var HZ={};function IZ(a,b,c){if(nY(b)){var d=EZ(HZ,vg(b));null==d?(d=lY(b),b=vg(b),b=HZ[b]=d):b=d}c=GZ(c);a[b]=c;return a}
function JZ(a){return"object"!==ha(a)?a:nY(a)?vg(a):xf(a)?Sf(IZ,{},a):uf(a)?Ll(a):Gf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){return Ug(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}():Ll(a)}
function KZ(a,b,c,d,e){switch(K(b)-e){case 0:return fY.createElement(c,d);case 1:return fY.createElement(c,d,EY(a,N(b,e,null)));default:return fY.createElement.apply(null,Sf(function(f,h,k){h>=e&&f.push(EY(a,k));return f},[c,d],b))}}function LZ(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.custom=d}function MZ(a,b,c){a=pZ(a,c);c={};c.argv=b;b=rY(b);null!=b&&(c.key=b);return fY.createElement(a,c)}
function NZ(a,b,c,d){var e={};e.Ae=a;e.argv=Ui(b,c,K(b));b=rY(b);null!=b&&(e.key=b);return fY.createElement(tZ(d,a),e)}function OZ(a,b,c){return dZ(a)?MZ(a,b,c):NZ(a,b,1,c)}var PZ={};function QZ(a,b){a=EZ(PZ,b);if(null==a){var c=J(Uk(CZ,vg(b)));a=N(c,0,null);var d=N(c,1,null);c=N(c,2,null);c=null==c?null:hE(c,/\./," ");var e=ah.B(-1,a.indexOf("-"));a=new LZ(a,d,c,e);return PZ[b]=a}return a}
function RZ(a,b,c,d){var e=a.tag,f=N(b,c,null),h=null==f||xf(f),k=function(){var p=h?f:null;var u=tC.C(p);u=r(u)?Q.D(p,tC,oY.C(u)):p;var v=a.id;p=a.className;v=null!=v&&null==QD.C(u)?Q.D(u,QD,v):u;if(r(p)){var z=Q.D,C=oY.B,F=tC.C(u);u=r(F)?F:hs.C(u);p=z.call(Q,v,tC,C.call(oY,p,u))}else p=v;p=r(a.custom)?JZ(p):GZ(p);return r(p)?p:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m){m=qY(f);var n=function(){var p=d.El;if(r(p))return p;p=nZ(zZ,d);return d.El=p}();
return EY(d,qf(new X(null,6,5,Z,[n,b,e,k,c,d],null),sk.I(M([r(m)?new q(null,1,[sD,m],null):null,rf(b)]))))}m=qY(rf(b));null!=m&&(k.key=m);return FY(d,b,e,k,c)}function SZ(a,b){return xc(Rh.B(function(c){return EY(b,c)},a))}
function TZ(a,b,c){null==b&&console.error("vec-to-elem",ol.I(M([a])));var d=N(a,0,null);switch(d instanceof D?d.ba:null){case "\x3e":return c=N(a,1,null),RZ(new LZ(c,null,null,null),a,2,b);case "r\x3e":c=N(a,1,null);d=N(a,2,null);d=r(d)?d:{};var e=qY(rf(a));null!=e&&(d.key=e);return FY(b,a,c,d,3);case "f\x3e":return NZ(N(a,1,null),a,2,b);case "\x3c\x3e":return d=N(a,1,null),c=null==d||xf(d),d=GZ(c?d:null),d=r(d)?d:{},c=1+(c?1:0),e=rY(a),null!=e&&(d.key=e),FY(b,a,fY.Fragment,d,c);default:if(nY(d)||
"string"===typeof d)a:for(;;)switch(c=N(a,0,null),d=vg(c),e=d.indexOf("\x3e"),e){case -1:b=RZ(DY(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=qf(new X(null,2,5,Z,[lg.D(d,0,e),Q.D(qf(a,null),0,lg.B(d,e+1))],null),rf(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var UZ=function(a){var b=zl("reagent-compiler"),c=r(Sw.C(a))?OZ:MZ,d=B.D(a,ns,QZ);if("undefined"===typeof gY||"undefined"===typeof hY||"undefined"===typeof AZ||"undefined"===typeof BZ)BZ=function(e,f,h,k,m){this.yb=e;this.id=f;this.Pi=h;this.Gg=k;this.Vk=m;this.O=393216;this.T=0},BZ.prototype.ha=function(e,f){return new BZ(this.yb,this.id,this.Pi,this.Gg,f)},BZ.prototype.ga=function(){return this.Vk},BZ.prototype.Dl=function(){return this.id},BZ.prototype.gj=function(e,f,h){return this.Gg.D?this.Gg.D(this,
f,h):this.Gg.call(null,this,f,h)},BZ.prototype.ej=function(e,f){e=this.Pi;return"object"!==ha(f)?f:zf(f)?TZ(f,this,e):Df(f)?SZ(f,this):nY(f)?vg(f):(null!=f?f.O&2147483648||l===f.Na||(f.O?0:nc(Ad,f)):nc(Ad,f))?ol.I(M([f])):f},BZ.prototype.fj=function(e,f,h,k,m){return KZ(this,f,h,k,m)},BZ.Wa=!0,BZ.Sa="reagent.impl.template/t_reagent$impl$template39707",BZ.Za=function(e){return yd(e,"reagent.impl.template/t_reagent$impl$template39707")};return new BZ(a,b,c,d,W)}(W);function VZ(a){return dZ(a)?a:pZ(a,UZ)};var WZ=eY(12);var XZ=Fh(W);function YZ(a,b,c){var d=pY;pY=!0;try{return WZ.render(a.P?a.P():a.call(null),b,function(){var e=pY;pY=!1;try{return Ih.R(XZ,Q,b,a),AY.flush_after_render(),null!=c?c.P?c.P():c.call(null):null}finally{pY=e}})}finally{pY=d}}function ZZ(a,b){XY();var c=of(UZ)?new X(null,2,5,Z,[UZ,UZ],null):new X(null,2,5,Z,[UZ,xx.C(UZ)],null),d=N(c,0,null);c=N(c,1,null);return YZ(function(){return EY(d,of(a)?a.P?a.P():a.call(null):a)},b,c)};function $Z(a){return(null!=a?a.O&131072||l===a.qf||(a.O?0:nc(gd,a)):nc(gd,a))?rf(a):null}function a_(a,b){return(null!=a?a.O&262144||l===a.mm||(a.O?0:nc(id,a)):nc(id,a))?qf(a,b):a}function Ph(a){return Ix.C($Z(a))}function Qh(a){return Ts.C($Z(a))}function b_(a){if(!kc(ku.C($Z(a)))){var b=rf(a);b=R.B?R.B(b,ku):R.call(null,b,ku);a=qf(a,b)}return a}
function c_(a,b){return null==a?b:null==b?b_(a):r(ku.C($Z(a)))?b:r(function(){var c=Ph(a);return r(c)?Ph(b):c}())?a_(b,sk.I(M([$Z(a),$Z(b)]))):r(function(){var c=Qh(a);return r(c)?Qh(b):c}())?a_(b,sk.I(M([$Z(a),$Z(b)]))):r(function(){var c=Ph(a);return r(c)?c:Qh(b)}())?a_(b,sk.I(M([R.B($Z(a),Ix),R.B($Z(b),Ts)]))):r(function(){var c=Qh(a);return r(c)?c:Ph(b)}())?a_(a,sk.I(M([R.B($Z(b),Ix),R.B($Z(a),Ts)]))):null}
var d_=function d_(a){switch(arguments.length){case 0:return d_.P();case 1:return d_.C(arguments[0]);case 2:return d_.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return d_.I(arguments[0],arguments[1],c)}};d_.P=function(){return W};d_.C=function(a){return a};
d_.B=function(a,b){var c=sh(Oh(),new X(null,2,5,Z,[a,b],null));c=r(c)?c:ku.C($Z(a));Ff(c)?a=c_(a,b):xf(a)&&xf(b)?a=tk.I(d_,M([a,b])):vf(a)&&vf(b)?a=TK(b,a):uf(a)&&uf(b)?(c=ez.C(rf(a)),c=r(c)?c:ez.C(rf(b)),a=r(c)?qf(gi.B(lf(a),V.B(b,a)),sk.I(M([rf(a),uk(rf(b),new X(null,1,5,Z,[Ix],null))]))):gi.B(lf(a),V.B(a,b))):a=b;return a};d_.I=function(a,b,c){return w.D(d_,a,Ze(b,c))};d_.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};d_.aa=2;var e_={};function f_(a,b){throw qm(t.C(a),new q(null,2,[oo,a,Qm,b],null));}var g_=function(){var a=Fh(W),b=Fh(W),c=Fh(W),d=Fh(W),e=B.D(W,Gr,Zl.P?Zl.P():Zl.call(null));return new km(oe.B("reitit.exception","format-exception"),function(f){return f},e,a,b,c,d)}();function h_(a){var b=a instanceof pm?a.data:null,c=g_.D(oo.C(b),a instanceof Error?a.message:null,Qm.C(b));return qm(c,Q.D(r(b)?b:W,Qu,a))}g_.lb(null,lm,function(a,b,c){return[t.C(b),r(c)?["\n\n",ol.I(M([c]))].join(""):null].join("")});
g_.lb(null,Rq,function(a,b,c){function d(e,f){return[r(uu.C(f))?"   ":"-\x3e ",t.C(e)," ",t.C(bh(uk(f,new X(null,1,5,Z,[uu],null))))].join("")}return Vg(t,"Router contains conflicting route paths:\n\n",hi.B(function(e){var f=N(e,0,null),h=N(f,0,null);f=N(f,1,null);e=N(e,1,null);return[t.C(d(h,f)),"\n",iE("\n",hi.B(function(k){var m=N(k,0,null);k=N(k,1,null);return d(m,k)},e)),"\n\n"].join("")},c))});
g_.lb(null,lx,function(a,b,c){return Vg(t,"Router contains conflicting route names:\n\n",hi.B(function(d){var e=N(d,0,null);d=N(d,1,null);return[t.C(e),"\n-\x3e ",iE("\n-\x3e ",hi.B(H,d)),"\n"].join("")},c))});g_.lb(null,Wo,function(a,b,c){return["Error merging route-data\n\n",ol.I(M([c]))].join("")});var i_={},j_,k_,l_,m_,n_,o_;function p_(a){return vf(a)||wf(a)?Bk(a):null==a?zk:hf.B(zk,a)}function q_(a,b,c,d){this.value=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=q_.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#reitit.trie.Wild{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Wr,this.value],null)],null),this.F))};g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Wr],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new q_(this.value,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1970880185^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.value,b.value)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,1,[Wr,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new q_(this.value,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Wr,b):U.call(null,Wr,b))?new q_(c,this.G,this.F,null):new q_(this.value,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Wr,this.value,null)],null),this.F))};g.ha=function(a,b){return new q_(this.value,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function r_(a,b,c,d){this.value=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=r_.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#reitit.trie.CatchAll{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Wr,this.value],null)],null),this.F))};
g.qa=function(){return new ej(this,1,new X(null,1,5,Z,[Wr],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new r_(this.value,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-987265038^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.value,b.value)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,1,[Wr,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new r_(this.value,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Wr,b):U.call(null,Wr,b))?new r_(c,this.G,this.F,null):new r_(this.value,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Wr,this.value,null)],null),this.F))};
g.ha=function(a,b){return new r_(this.value,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function s_(a,b,c,d,e){this.params=a;this.data=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=s_.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "params":return this.params;case "data":return this.data;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#reitit.trie.Match{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[qq,this.params],null),new X(null,2,5,Z,[Qm,this.data],null)],null),this.F))};g.qa=function(){return new ej(this,2,new X(null,2,5,Z,[qq,Qm],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new s_(this.params,this.data,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1117628764^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.params,b.params)&&E.B(this.data,b.data)&&E.B(this.F,b.F)};g.za=function(a,b){return S(new xk(null,new q(null,2,[qq,null,Qm,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new s_(this.params,this.data,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "params":case "data":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(qq,b):U.call(null,qq,b))?new s_(c,this.data,this.G,this.F,null):r(U.B?U.B(Qm,b):U.call(null,Qm,b))?new s_(this.params,c,this.G,this.F,null):new s_(this.params,this.data,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(qq,this.params,null),new Y(Qm,this.data,null)],null),this.F))};
g.ha=function(a,b){return new s_(this.params,this.data,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function t_(a,b,c,d,e,f,h,k){this.children=a;this.jd=b;this.Uc=c;this.params=d;this.data=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=t_.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "children":return this.children;case "wilds":return this.jd;case "catch-all":return this.Uc;case "params":return this.params;case "data":return this.data;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#reitit.trie.Node{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Oy,this.children],null),new X(null,2,5,Z,[Do,this.jd],null),new X(null,2,5,Z,[Hr,this.Uc],null),new X(null,2,5,Z,[qq,this.params],null),new X(null,2,5,Z,[Qm,this.data],null)],null),this.F))};g.qa=function(){return new ej(this,5,new X(null,5,5,Z,[Oy,Do,Hr,qq,Qm],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new t_(this.children,this.jd,this.Uc,this.params,this.data,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=33004208^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.children,b.children)&&E.B(this.jd,b.jd)&&E.B(this.Uc,b.Uc)&&E.B(this.params,b.params)&&E.B(this.data,b.data)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,5,[Oy,null,qq,null,Do,null,Hr,null,Qm,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new t_(this.children,this.jd,this.Uc,this.params,this.data,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "children":case "wilds":case "catch-all":case "params":case "data":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Oy,b):U.call(null,Oy,b))?new t_(c,this.jd,this.Uc,this.params,this.data,this.G,this.F,null):r(U.B?U.B(Do,b):U.call(null,Do,b))?new t_(this.children,c,this.Uc,this.params,this.data,this.G,this.F,null):r(U.B?U.B(Hr,b):U.call(null,Hr,b))?new t_(this.children,this.jd,c,this.params,this.data,this.G,this.F,null):r(U.B?U.B(qq,b):U.call(null,qq,b))?new t_(this.children,this.jd,this.Uc,c,this.data,this.G,this.F,null):r(U.B?U.B(Qm,b):U.call(null,Qm,b))?new t_(this.children,
this.jd,this.Uc,this.params,c,this.G,this.F,null):new t_(this.children,this.jd,this.Uc,this.params,this.data,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Oy,this.children,null),new Y(Do,this.jd,null),new Y(Hr,this.Uc,null),new Y(qq,this.params,null),new Y(Qm,this.data,null)],null),this.F))};g.ha=function(a,b){return new t_(this.children,this.jd,this.Uc,this.params,this.data,b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function u_(a,b,c,d){if(null!=a&&null!=a.ef)a=a.ef(a,b,c,d);else{var e=u_[ha(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=u_._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw pc("Matcher.match",a);}return a}
function v_(a){if(null!=a&&null!=a.cf)a=a.cf(a);else{var b=v_[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=v_._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Matcher.depth",a);}return a}function w_(a){if(null!=a&&null!=a.df)a=a.df(a);else{var b=w_[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=w_._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Matcher.length",a);}return a}
function x_(a,b,c){if(null!=a&&null!=a.kj)a=a.kj(a,b,c);else{var d=x_[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=x_._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("TrieCompiler.data-matcher",a);}return a}
function y_(a,b,c){if(null!=a&&null!=a.mj)a=a.mj(a,b,c);else{var d=y_[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=y_._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("TrieCompiler.static-matcher",a);}return a}
function z_(a,b,c,d){if(null!=a&&null!=a.nj)a=a.nj(a,b,c,d);else{var e=z_[ha(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=z_._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw pc("TrieCompiler.wild-matcher",a);}return a}
function A_(a,b,c,d){if(null!=a&&null!=a.jj)a=a.jj(a,b,c,d);else{var e=A_[ha(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=A_._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw pc("TrieCompiler.catch-all-matcher",a);}return a}
function B_(a,b,c){if(null!=a&&null!=a.lj)a=a.lj(a,b,c);else{var d=B_[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=B_._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("TrieCompiler.linear-matcher",a);}return a}function C_(a,b){if(null!=a&&null!=a.ij)a=a.ij(a,b);else{var c=C_[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=C_._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("TrieCompiler.-path-matcher",a);}return a}
function D_(a,b,c){var d=qq.C(a);return Q.D(a,qq,Q.D(d,b,c))}function E_(a,b){var c=K(a);var d=K(b);c=c<d?c:d;for(d=0;;){if(d>c)return lg.D(a,0,c);if(ah.B(B.B(a,d),B.B(b,d)))return 0!==d?lg.D(a,0,d):null;d+=1}}
function F_(a,b){function c(p,u){return new X(null,1,5,Z,[new r_(ug.C(lg.D(a,p+1,u)),null,null,null)],null)}function d(p,u){var v=Z;p=lg.D(a,p+1,u);u=rE(p);p=r(u)?ug.B(lg.D(p,0,u),lg.B(p,u+1)):ug.C(p);return new X(null,1,5,v,[new q_(p,null,null,null)],null)}function e(p,u){return E.B(p,u)?null:new X(null,1,5,Z,[lg.D(a,p,u)],null)}b=Zg(b);var f=B.D(b,zA,new xk(null,new q(null,2,[$q,null,Cu,null],null),null));b=Cu.C(p_(f));f=$q.C(p_(f));for(var h=null,k=0,m=0;;){if(E.B(m,K(a)))return V.B(h,e(k,m));
var n=B.B(a,m);r(r(b)?E.B("{",n):b)?(n=function(){var p=sE(a,"}",m);return r(p)?p:f_(tz,new q(null,1,[JA,a],null))}(),E.B("*",B.B(a,m+1))?(h=V.I(h,e(k,m),M([c(m+1,n)])),k=eg(n+1),m=n=eg(n+1)):(h=V.I(h,e(k,m),M([d(m,n)])),k=eg(n+1),m=n=eg(n+1))):r(r(f)?E.B(":",n):f)?(n=function(){var p=sE(a,"/",m);return r(p)?p:K(a)}(),E.B(1,n-m)?m+=1:(h=V.I(h,e(k,m),M([d(m,n)])),k=eg(n),m=n=eg(n))):r(r(f)?E.B("*",n):f)?(n=K(a),h=V.I(h,e(k,m),M([c(m,n)])),k=eg(n),m=n=eg(n)):m+=1}}
function G_(a){return w.D(function(b,c){return[t.C(b),"string"===typeof c?c:c instanceof q_?["{",lg.B(t.C(c.value),1),"}"].join(""):c instanceof r_?["{*",lg.B(t.C(c.value),1),"}"].join(""):null].join("")},"",a)}
function H_(a,b){function c(k,m){var n=N(m,0,null),p=V.B;"string"!==typeof k?n=new X(null,1,5,Z,[k],null):"string"===typeof k&&ah.B(K(k),K(n))?n=new X(null,1,5,Z,[lg.B(n,K(k))],null):"string"===typeof n&&kc(k)?(k=r(n)?rE(n):n,n=r(k)?new X(null,2,5,Z,[lg.D(n,0,k),lg.B(n,k)],null):new X(null,1,5,Z,[n],null)):n=null;return p.call(V,n,ve(m))}function d(k){var m=N(k,0,null),n=r(m)?rE(m):m;return r(r(n)?0<n:n)?V.B(new X(null,2,5,Z,[lg.D(m,0,n),lg.B(m,n)],null),ve(k)):k}var e=N(a,0,null),f=N(b,0,null);if(null==
e||null==f)return new X(null,2,5,Z,[d(a),d(b)],null);var h=function(){var k="string"===typeof e;return k?(k="string"===typeof f)?E_(e,f):k:k}();return r(h)?new X(null,2,5,Z,[c(h,a),c(h,b)],null):new X(null,2,5,Z,[a,b],null)}function I_(a,b){var c="string"===typeof a?rE(a):null;return"number"===typeof c&&0<c?V.B(new X(null,1,5,Z,[lg.B(a,c)],null),b):b}
function J_(a,b){for(;;){var c=H_(a,b);a=N(c,0,null);b=G(a);a=H(b);b=J(b);c=N(c,1,null);var d=G(c);c=H(d);d=J(d);if(E.I(a,c,M([null])))return!0;if(null==a||null==c)return!1;if(a instanceof r_||c instanceof r_)return!0;if(a instanceof q_||c instanceof q_)a=I_(a,b),b=I_(c,d);else{if(ah.B(a,c))return!1;c=d;a=b;b=c}}}
function K_(a){a=sk.I(M([new q(null,4,[Oy,W,Do,W,Hr,W,qq,W],null),a]));var b=R.I(a,Oy,M([Do,Hr,qq,Qm]));b=yf(a)?gi.B(W,b):b;return new t_(Oy.C(a),Do.C(a),Hr.C(a),qq.C(a),Qm.C(a),null,bh(b),null)}
var L_=function L_(a,b,c,d,e){b=G(b);var h=H(b),k=J(b);b=null==h?Q.I(a,Qm,e,M([qq,d])):h instanceof q_?function(){var n=H(k);return n instanceof q_||n instanceof r_?f_($D,new q(null,2,[JA,c,Uw,Rh.B(Wr,new X(null,2,5,Z,[h,n],null))],null)):ni.D(a,new X(null,2,5,Z,[Do,h],null),function(p){p=r(p)?p:K_(W);return L_.ma?L_.ma(p,k,c,d,e):L_.call(null,p,k,c,d,e)})}():h instanceof r_?mi(a,new X(null,2,5,Z,[Hr,h],null),K_(new q(null,2,[qq,d,Qm,e],null))):tf(h)?L_.ma?L_.ma(a,k,c,d,e):L_.call(null,a,k,c,d,e):
function(){var n=w.D(function(p,u){var v=N(u,0,null),z=N(u,1,null),C=E_(v,h);if(r(C)){if(E.B(C,v)){var F=function(){var T=hf.B(k,lg.B(h,K(v)));return L_.ma?L_.ma(z,T,c,d,e):L_.call(null,z,T,c,d,e)}();return Ge(mi(a,new X(null,2,5,Z,[Oy,v],null),F))}var I=lg.B(v,C.length),O=lg.B(h,C.length);F=function(){var T=K_(W);return L_.ma?L_.ma(T,k,c,d,e):L_.call(null,T,k,c,d,e)}();var P=function(){var T=K_(new q(null,1,[Oy,nf([I,z,O,F])],null));return L_.ma?L_.ma(T,null,null,null,null):L_.call(null,T,null,null,
null,null)}();return Ge(oi.D(a,Oy,function(T){return Q.D(R.B(T,v),C,P)}))}return null},null,Oy.C(a));return r(n)?n:mi(a,new X(null,2,5,Z,[Oy,h],null),function(){var p=K_(W);return L_.ma?L_.ma(p,k,c,d,e):L_.call(null,p,k,c,d,e)}())}();var m=ki(b,new X(null,2,5,Z,[Oy,""],null));return r(m)?oi.R(tk.I(sk,M([R.B(b,Qm),m])),Oy,R,""):b};function M_(a,b,c,d){a=lg.D(a,b,c);return r(d)?decodeURIComponent(a):a}
function N_(){if("undefined"===typeof e_||"undefined"===typeof i_||"undefined"===typeof j_)j_=function(a){this.Ac=a;this.O=393216;this.T=0},j_.prototype.ha=function(a,b){return new j_(b)},j_.prototype.ga=function(){return this.Ac},j_.prototype.kj=function(a,b,c){a=new s_(b,c,null,null,null);if("undefined"===typeof e_||"undefined"===typeof i_||"undefined"===typeof k_)k_=function(d,e,f,h,k,m){this.Ac=d;this._=e;this.params=f;this.data=h;this.match=k;this.Wk=m;this.O=393216;this.T=0},k_.prototype.ha=
function(d,e){return new k_(this.Ac,this._,this.params,this.data,this.match,e)},k_.prototype.ga=function(){return this.Wk},k_.prototype.ef=function(d,e,f){return E.B(e,f)?this.match:null},k_.prototype.cf=function(){return 1},k_.prototype.df=function(){return null},k_.Wa=!0,k_.Sa="reitit.trie/t_reitit$trie40388",k_.Za=function(d){return yd(d,"reitit.trie/t_reitit$trie40388")};return new k_(this.Ac,this,b,c,a,W)},j_.prototype.mj=function(a,b,c){a=K(b);if("undefined"===typeof e_||"undefined"===typeof i_||
"undefined"===typeof l_)l_=function(d,e,f,h,k,m){this.Ac=d;this._=e;this.path=f;this.vd=h;this.size=k;this.Xk=m;this.O=393216;this.T=0},l_.prototype.ha=function(d,e){return new l_(this.Ac,this._,this.path,this.vd,this.size,e)},l_.prototype.ga=function(){return this.Xk},l_.prototype.ef=function(d,e,f,h){if(f<e+this.size)return null;for(d=0;;){if(E.B(d,this.size))return u_(this.vd,e+this.size,f,h);if(E.B(B.B(h,e+d),B.B(this.path,d)))d+=1;else return null}},l_.prototype.cf=function(){return v_(this.vd)+
1},l_.prototype.df=function(){return K(this.path)},l_.Wa=!0,l_.Sa="reitit.trie/t_reitit$trie40423",l_.Za=function(d){return yd(d,"reitit.trie/t_reitit$trie40423")};return new l_(this.Ac,this,b,c,a,W)},j_.prototype.nj=function(a,b,c,d){if("undefined"===typeof e_||"undefined"===typeof i_||"undefined"===typeof m_)m_=function(e,f,h,k,m,n){this.Ac=e;this._=f;this.key=h;this.end=k;this.vd=m;this.Yk=n;this.O=393216;this.T=0},m_.prototype.ha=function(e,f){return new m_(this.Ac,this._,this.key,this.end,this.vd,
f)},m_.prototype.ga=function(){return this.Yk},m_.prototype.ef=function(e,f,h,k){if(f<h&&ah.B(B.B(k,f),this.end)){e=!1;for(var m=f;;){if(E.B(h,m)){var n=u_(this.vd,h,h,k);return r(n)?D_(n,this.key,M_(k,f,h,e)):null}var p=B.B(k,m);n=E;if(r(n.B?n.B(this.end,p):n.call(null,this.end,p)))return n=u_(this.vd,m,h,k),r(n)?D_(n,this.key,M_(k,f,m,e)):null;n=n.B?n.B("%",p):n.call(null,"%",p);r(n)?(m+=1,e=!0):m+=1}}else return null},m_.prototype.cf=function(){return v_(this.vd)+1},m_.prototype.df=function(){return null},
m_.Wa=!0,m_.Sa="reitit.trie/t_reitit$trie40460",m_.Za=function(e){return yd(e,"reitit.trie/t_reitit$trie40460")};return new m_(this.Ac,this,b,c,d,W)},j_.prototype.jj=function(a,b,c,d){a=new s_(c,d,null,null,null);if("undefined"===typeof e_||"undefined"===typeof i_||"undefined"===typeof n_)n_=function(e,f,h,k,m,n,p){this.Ac=e;this._=f;this.key=h;this.params=k;this.data=m;this.match=n;this.Zk=p;this.O=393216;this.T=0},n_.prototype.ha=function(e,f){return new n_(this.Ac,this._,this.key,this.params,this.data,
this.match,f)},n_.prototype.ga=function(){return this.Zk},n_.prototype.ef=function(e,f,h,k){return f<=h?D_(this.match,this.key,M_(k,f,h,!0)):null},n_.prototype.cf=function(){return 1},n_.prototype.df=function(){return null},n_.Wa=!0,n_.Sa="reitit.trie/t_reitit$trie40632",n_.Za=function(e){return yd(e,"reitit.trie/t_reitit$trie40632")};return new n_(this.Ac,this,b,c,d,a,W)},j_.prototype.lj=function(a,b,c){a=Li(r(c)?b:og(Pf(Sk(v_,w_),b)));b=K(a);if("undefined"===typeof e_||"undefined"===typeof i_||
"undefined"===typeof o_)o_=function(d,e,f,h,k,m){this.Ac=d;this._=e;this.Bh=f;this.xl=h;this.size=k;this.$k=m;this.O=393216;this.T=0},o_.prototype.ha=function(d,e){return new o_(this.Ac,this._,this.Bh,this.xl,this.size,e)},o_.prototype.ga=function(){return this.$k},o_.prototype.ef=function(d,e,f,h){for(d=0;;)if(d<this.size){var k=u_(B.B(this.Bh,d),e,f,h);if(r(k))return k;d+=1}else return null},o_.prototype.cf=function(){return Vg(bg,0,Rh.B(v_,this.Bh))+1},o_.prototype.df=function(){return null},o_.Wa=
!0,o_.Sa="reitit.trie/t_reitit$trie40659",o_.Za=function(d){return yd(d,"reitit.trie/t_reitit$trie40659")};return new o_(this.Ac,this,a,c,b,W)},j_.prototype.ij=function(a,b){return function(c){var d=u_(b,0,K(c),c);r(d)?(c=qq.C(d),d=Qm.C(d),c=new s_(c,d,null,null,null)):c=null;return c}},j_.Wa=!0,j_.Sa="reitit.trie/t_reitit$trie40364",j_.Za=function(a){return yd(a,"reitit.trie/t_reitit$trie40364")};return new j_(W)}function O_(a){return Ek(a,Xh(null))}
function P_(a,b,c,d){d=Zg(d);var e=B.D(d,Jx,O_),f=F_(b,d);f=Rh.B(Wr,fi(mc,f));e=e.C?e.C(f):e.call(null,f);return L_(r(a)?a:K_(W),F_(b,d),b,e,c)}function Q_(a,b){return R_(a,b,jf)}
function R_(a,b,c){function d(n){n=Zg(n);n=B.B(n,Oy);n=kj(n);return r(n)?n:new X(null,1,5,Z,["/"],null)}a=Zg(a);var e=B.B(a,Qm),f=B.D(a,qq,W),h=B.B(a,Oy),k=B.B(a,Do),m=B.B(a,Hr);a=gi.B(gi.B(gi.B(r(e)?hf.B(jf,x_(b,f,e)):jf,function(){return function u(p){return new wg(null,function(){for(;;){var v=G(p);if(v){if(Af(v)){var z=Pd(v),C=K(z),F=Cg(C);a:for(var I=0;;)if(I<C){var O=x(z,I),P=N(O,0,null);O=N(O,1,null);P=y_(b,P,R_(O,b,hf.B(c,P)));F.add(P);I+=1}else{z=!0;break a}return z?Eg(Gg(F),u(Qd(v))):Eg(Gg(F),
null)}z=H(v);F=N(z,0,null);z=N(z,1,null);return Ze(y_(b,F,R_(z,b,hf.B(c,F))),u(ve(v)))}return null}},null,null)}(h)}()),function(){return function u(p){return new wg(null,function(){for(;;){var v=G(p);if(v){if(Af(v)){var z=Pd(v),C=K(z),F=Cg(C);return function(){for(var T=0;;)if(T<C){var aa=x(z,T),ea=N(aa,0,null),va=N(aa,1,null);aa=F;var ua=Wr.C(ea),Ma=d(va);ea=J(Ma)?f_(jA,new q(null,2,[Bx,Ma,JA,G_(hf.B(c,ea))],null)):z_(b,ua,ff(Ma),R_(va,b,hf.B(c,ua)));aa.add(ea);T+=1}else return!0}()?Eg(Gg(F),u(Qd(v))):
Eg(Gg(F),null)}var I=H(v),O=N(I,0,null),P=N(I,1,null);return Ze(function(){var T=Wr.C(O),aa=d(P);return J(aa)?f_(jA,new q(null,2,[Bx,aa,JA,G_(hf.B(c,O))],null)):z_(b,T,ff(aa),R_(P,b,hf.B(c,T)))}(),u(ve(v)))}return null}},null,null)}(k)}()),function(){return function u(p){return new wg(null,function(){for(;;){var v=G(p);if(v){if(Af(v)){var z=Pd(v),C=K(z),F=Cg(C);a:for(var I=0;;)if(I<C){var O=x(z,I),P=N(O,0,null);O=N(O,1,null);P=A_(b,Wr.C(P),f,Qm.C(O));F.add(P);I+=1}else{z=!0;break a}return z?Eg(Gg(F),
u(Qd(v))):Eg(Gg(F),null)}z=H(v);F=N(z,0,null);z=N(z,1,null);return Ze(A_(b,Wr.C(F),f,Qm.C(z)),u(ve(v)))}return null}},null,null)}(m)}());return 1<K(a)?B_(b,a,!1):E.B(K(a),1)?H(a):null};function S_(a,b){a=G_(F_(a,b));b=F_(a,b);var c=Bk(Rh.B(Wr,fi(mc,b)));return new q(null,3,[Dq,c,lu,b,JA,a],null)}function T_(a){return function(b){b=N(b,0,null);return Ff(G(Dq.C(S_(b,a))))}}function U_(a){var b=V_;return Sf(function(c,d,e){e=b.C?b.C(e):b.call(null,e);return null==e?c:Q.D(c,d,e)},a,a)}
function W_(a,b){function c(k,m,n){if(zf(H(n)))return d(k,m,n);if("string"===typeof H(n)){var p=G(n);n=H(p);p=J(p);var u=N(p,0,null);p=zf(u)||wf(u)&&wf(H(u))||null==u?new X(null,2,5,Z,[W,p],null):new X(null,2,5,Z,[u,ve(p)],null);u=N(p,0,null);p=N(p,1,null);m=gi.B(m,h.B?h.B(u,e):h.call(null,u,e));u=d([t.C(k),t.C(n)].join(""),m,Dh(Tf,p));return G(p)?G(u):new X(null,1,5,Z,[new X(null,2,5,Z,[[t.C(k),t.C(n)].join(""),m],null)],null)}return null}function d(k,m,n){return w.D(function(p,u){return gi.B(p,
c(k,m,u))},jf,n)}var e=Zg(b);b=B.B(e,JA);var f=B.D(e,Qm,jf);B.D(e,Aw,jf);var h=B.B(e,ft);return c(b,hi.B(Tf,f),a)}function X_(a,b){return hi.B(function(c){var d=N(c,0,null);c=N(c,1,null);return new X(null,2,5,Z,[d,a.B?a.B(d,c):a.call(null,d,c)],null)},b)}function Y_(a,b){return w.D(function(c,d){var e=N(d,0,null);d=N(d,1,null);try{return d_.B(c,nf([e,d]))}catch(h){if(h instanceof Error){var f=h;return f_(Wo,new q(null,4,[JA,a,Hm,c,Ux,nf([e,d]),tw,f],null))}throw h;}},W,b)}
function Z_(){var a=o3,b=Zg(p3),c=B.B(b,DA);a=X_(Y_,W_(a,b));return r(c)?gi.D(jf,Ch(function(d){return c.B?c.B(d,b):c.call(null,d,b)}),a):a}function b0(a,b){var c=hi.B(function(d){var e=N(d,0,null);return new X(null,2,5,Z,[F_(e,b),d],null)},a);return bh(gi.D(W,wh.B(Ah(function(d,e){var f=N(e,0,null);e=N(e,1,null);return new X(null,2,5,Z,[e,w.D(function(h,k){var m=N(k,0,null);k=N(k,1,null);return J_(f,m)?hf.B(h,k):h},zk,Ui(c,d+1,K(c)))],null)}),di(wh.B(G,ef))),c))}
function c0(){return bh(gi.D(W,di(uh(function(a){var b=N(a,0,null);N(b,0,null);b=N(b,1,null);a=N(a,1,null);b=uu.C(b);return r(b)?rh(wh.B(uu,ef),a):b})),q3))}
function e0(a){return Bk(Ug(V,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Cg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);p=hf.B(Rh.B(H,n),H(p));k.add(p);m+=1}else{f=!0;break a}return f?Eg(Gg(k),d(Qd(e))):Eg(Gg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);return Ze(hf.B(Rh.B(H,f),H(k)),d(ve(e)))}return null}},null,null)}(a)}()))}
function f0(){var a=r3;a=null==a?null:Xl(wh.B(ut,ef),a);a=null==a?null:fi(wh.B(fc,H),a);a=null==a?null:ei(wh.I(kg,K,Dk,M([ef])),a);a=null==a?null:G(a);a=null==a?null:Rh.B(function(b){var c=N(b,0,null);b=N(b,1,null);return new X(null,2,5,Z,[c,Bk(b)],null)},a);return null==a?null:gi.B(W,a)}function h0(a){return gi.D(jf,Ch(function(b){return ut.C(ef(b))}),a)}
function i0(){var a=p3;return gi.B(jf,Dh(function(b){var c=N(b,0,null),d=N(b,1,null),e=Zg(a),f=B.B(e,Vx);return new X(null,3,5,Z,[c,d,r(f)?f.B?f.B(b,e):f.call(null,b,e):null],null)},r3))}function j0(a){return hi.B(wh.B(Li,xh.B(Sh,2)),a)}function k0(a,b){return r(Dq.C(a))?(a=w.D(function(c,d){if("string"===typeof d)return hf.B(c,d);d=B.B(b,Wr.C(d));return r(d)?hf.B(c,d):Ge(null)},jf,lu.C(a)),r(a)?Ug(t,a):null):JA.C(a)}function V_(a){return r(a)?decodeURIComponent(a):null};function l0(a,b){if(null!=a&&null!=a.Gl)a=a.Gl(a,b);else{var c=l0[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=l0._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Coercion.-open-model",a);}return a}function m0(a,b,c){if(null!=a&&null!=a.Hl)a=a.Hl(a,b,c);else{var d=m0[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=m0._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("Coercion.-request-coercer",a);}return a}
function n0(a,b,c,d,e,f,h){this.Wd=a;this.style=b;this.td=c;this.wd=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=n0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "in":return this.Wd;case "style":return this.style;case "keywordize?":return this.td;case "open?":return this.wd;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#reitit.coercion.ParameterCoercion{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[LD,this.Wd],null),new X(null,2,5,Z,[ro,this.style],null),new X(null,2,5,Z,[lz,this.td],null),new X(null,2,5,Z,[Ps,this.wd],null)],null),this.F))};
g.qa=function(){return new ej(this,4,new X(null,4,5,Z,[LD,ro,lz,Ps],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new n0(this.Wd,this.style,this.td,this.wd,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1253949273^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.wk,b.wk)&&E.B(this.style,b.style)&&E.B(this.td,b.td)&&E.B(this.wd,b.wd)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,4,[lz,null,ro,null,Ps,null,LD,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new n0(this.Wd,this.style,this.td,this.wd,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "in":case "style":case "keywordize?":case "open?":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(LD,b):U.call(null,LD,b))?new n0(c,this.style,this.td,this.wd,this.G,this.F,null):r(U.B?U.B(ro,b):U.call(null,ro,b))?new n0(this.Wd,c,this.td,this.wd,this.G,this.F,null):r(U.B?U.B(lz,b):U.call(null,lz,b))?new n0(this.Wd,this.style,c,this.wd,this.G,this.F,null):r(U.B?U.B(Ps,b):U.call(null,Ps,b))?new n0(this.Wd,this.style,this.td,c,this.G,this.F,null):new n0(this.Wd,this.style,this.td,this.wd,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(LD,this.Wd,null),new Y(ro,this.style,null),new Y(lz,this.td,null),new Y(Ps,this.wd,null)],null),this.F))};g.ha=function(a,b){return new n0(this.Wd,this.style,this.td,this.wd,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
var o0=new q(null,5,[YC,new n0(jz,Om,!0,!0,null,null,null),Qs,new n0(sx,Qs,!1,!1,null,null,null),Qp,new n0(Gu,Om,!0,!0,null,null,null),pC,new n0(Cv,Om,!0,!0,null,null,null),JA,new n0(Dq,Om,!0,!0,null,null,null)],null);function p0(a){return io.C(eD.C(a))}
function q0(a,b,c,d){d=Zg(d);var e=B.D(d,bx,p0);d=B.D(d,Gy,o0);if(r(a)&&(b=d.C?d.C(b):d.call(null,b),r(b))){var f=Zg(b);b=B.B(f,lz);d=B.B(f,Ps);var h=B.B(f,LD);f=B.B(f,ro);var k=wh.B(r(b)?WQ:Tf,h);c=r(d)?l0(a,c):c;var m=m0(a,f,c);return r(m)?function(n){var p=k(n);n=e.C?e.C(n):e.call(null,n);return m.B?m.B(p,n):m.call(null,p,n)}:null}return null}function r0(a,b){return Sf(function(c,d,e){e=e.C?e.C(b):e.call(null,b);return Q.D(c,d,e)},W,a)}
function s0(a,b,c){var d=function(){return function h(f){return new wg(null,function(){for(var k=f;;)if(k=G(k)){if(Af(k)){var m=Pd(k),n=K(m),p=Cg(n);a:for(var u=0;;)if(u<n){var v=x(m,u),z=N(v,0,null);v=N(v,1,null);r(v)&&(z=new X(null,2,5,Z,[z,q0(a,z,v,c)],null),p.add(z));u+=1}else{m=!0;break a}return m?Eg(Gg(p),h(Qd(k))):Eg(Gg(p),null)}m=H(k);p=N(m,0,null);m=N(m,1,null);if(r(m))return Ze(new X(null,2,5,Z,[p,q0(a,p,m,c)],null),h(ve(k)));k=ve(k)}else return null},null,null)}(b)}();d=null==d?null:ei(ef,
d);d=null==d?null:G(d);return null==d?null:gi.B(W,d)}function t0(a){var b=es.C(a);return r(b)?r0(b,a):null};var u0={},v0,w0,x0,y0,z0,A0;function C0(a,b){if(null!=a&&null!=a.Jg)a=a.Jg(a,b);else{var c=C0[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=C0._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Expand.expand",a);}return a}D.prototype.Jg=function(){return new q(null,1,[ut,this],null)};q.prototype.Jg=function(){return this};Sj.prototype.Jg=function(){return this};C0["function"]=function(a){return new q(null,1,[Lx,a],null)};C0["null"]=function(){return null};
function D0(a,b){if(null!=a&&null!=a.Me)a=a.Me(a,b);else{var c=D0[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=D0._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Router.match-by-path",a);}return a}function E0(a,b,c,d,e,f,h,k){this.rb=a;this.data=b;this.result=c;this.pb=d;this.path=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=E0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "template":return this.rb;case "data":return this.data;case "result":return this.result;case "path-params":return this.pb;case "path":return this.path;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#reitit.core.Match{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Kw,this.rb],null),new X(null,2,5,Z,[Qm,this.data],null),new X(null,2,5,Z,[es,this.result],null),new X(null,2,5,Z,[Dq,this.pb],null),new X(null,2,5,Z,[JA,this.path],null)],null),this.F))};g.qa=function(){return new ej(this,5,new X(null,5,5,Z,[Kw,Qm,es,Dq,JA],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new E0(this.rb,this.data,this.result,this.pb,this.path,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=687105853^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.rb,b.rb)&&E.B(this.data,b.data)&&E.B(this.result,b.result)&&E.B(this.pb,b.pb)&&E.B(this.path,b.path)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,5,[JA,null,Kw,null,es,null,Dq,null,Qm,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new E0(this.rb,this.data,this.result,this.pb,this.path,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "template":case "data":case "result":case "path-params":case "path":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Kw,b):U.call(null,Kw,b))?new E0(c,this.data,this.result,this.pb,this.path,this.G,this.F,null):r(U.B?U.B(Qm,b):U.call(null,Qm,b))?new E0(this.rb,c,this.result,this.pb,this.path,this.G,this.F,null):r(U.B?U.B(es,b):U.call(null,es,b))?new E0(this.rb,this.data,c,this.pb,this.path,this.G,this.F,null):r(U.B?U.B(Dq,b):U.call(null,Dq,b))?new E0(this.rb,this.data,this.result,c,this.path,this.G,this.F,null):r(U.B?U.B(JA,b):U.call(null,JA,b))?new E0(this.rb,this.data,this.result,
this.pb,c,this.G,this.F,null):new E0(this.rb,this.data,this.result,this.pb,this.path,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Kw,this.rb,null),new Y(Qm,this.data,null),new Y(es,this.result,null),new Y(Dq,this.pb,null),new Y(JA,this.path,null)],null),this.F))};g.ha=function(a,b){return new E0(this.rb,this.data,this.result,this.pb,this.path,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function F0(a,b,c,d,e){return new E0(a,b,c,d,e,null,null,null)}function G0(a,b,c,d,e,f,h,k){this.rb=a;this.data=b;this.result=c;this.pb=d;this.required=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=G0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "template":return this.rb;case "data":return this.data;case "result":return this.result;case "path-params":return this.pb;case "required":return this.required;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#reitit.core.PartialMatch{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Kw,this.rb],null),new X(null,2,5,Z,[Qm,this.data],null),new X(null,2,5,Z,[es,this.result],null),new X(null,2,5,Z,[Dq,this.pb],null),new X(null,2,5,Z,[Ut,this.required],null)],null),this.F))};g.qa=function(){return new ej(this,5,new X(null,5,5,Z,[Kw,Qm,es,Dq,Ut],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};
g.pa=function(){return new G0(this.rb,this.data,this.result,this.pb,this.required,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=492095938^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.rb,b.rb)&&E.B(this.data,b.data)&&E.B(this.result,b.result)&&E.B(this.pb,b.pb)&&E.B(this.required,b.required)&&E.B(this.F,b.F)};
g.za=function(a,b){return S(new xk(null,new q(null,5,[Kw,null,es,null,Dq,null,Ut,null,Qm,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new G0(this.rb,this.data,this.result,this.pb,this.required,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "template":case "data":case "result":case "path-params":case "required":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Kw,b):U.call(null,Kw,b))?new G0(c,this.data,this.result,this.pb,this.required,this.G,this.F,null):r(U.B?U.B(Qm,b):U.call(null,Qm,b))?new G0(this.rb,c,this.result,this.pb,this.required,this.G,this.F,null):r(U.B?U.B(es,b):U.call(null,es,b))?new G0(this.rb,this.data,c,this.pb,this.required,this.G,this.F,null):r(U.B?U.B(Dq,b):U.call(null,Dq,b))?new G0(this.rb,this.data,this.result,c,this.required,this.G,this.F,null):r(U.B?U.B(Ut,b):U.call(null,Ut,b))?new G0(this.rb,
this.data,this.result,this.pb,c,this.G,this.F,null):new G0(this.rb,this.data,this.result,this.pb,this.required,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Kw,this.rb,null),new Y(Qm,this.data,null),new Y(es,this.result,null),new Y(Dq,this.pb,null),new Y(Ut,this.required,null)],null),this.F))};g.ha=function(a,b){return new G0(this.rb,this.data,this.result,this.pb,this.required,b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function H0(a,b){var c=Pt.B(b,N_()),d=h0(a),e=w.D(function(p,u){function v(aa){var ea=k0(P,aa);r(ea)?aa=F0(C,I,O,U_(aa),ea):(aa=U_(aa),aa=new G0(C,I,O,aa,T,null,null,null));return aa}var z=N(p,0,null);p=N(p,1,null);var C=N(u,0,null),F=N(u,1,null),I=Zg(F);F=B.B(I,ut);var O=N(u,2,null);u=S_(C,b);var P=Zg(u),T=B.B(P,Dq);return new X(null,2,5,Z,[hf.B(z,Q_(P_(null,C,F0(C,I,O,null,null),b),N_())),r(F)?Q.D(p,F,v):p],null)},new X(null,2,5,Z,[jf,W],null),a),f=N(e,0,null),h=N(e,1,null),k=B_(c,f,!0),m=C_(c,
k),n=j0(a);if("undefined"===typeof e_||"undefined"===typeof u0||"undefined"===typeof v0)v0=function(p,u,v,z,C,F,I,O,P,T,aa,ea){this.vd=p;this.names=u;this.Dd=v;this.Jd=z;this.lookup=C;this.Pf=F;this.Of=I;this.Nl=O;this.Xd=P;this.oh=T;this.yb=aa;this.al=ea;this.O=393216;this.T=0},v0.prototype.ha=function(p,u){return new v0(this.vd,this.names,this.Dd,this.Jd,this.lookup,this.Pf,this.Of,this.Nl,this.Xd,this.oh,this.yb,u)},v0.prototype.ga=function(){return this.al},v0.prototype.Me=function(p,u){p=this.Xd.C?
this.Xd.C(u):this.Xd.call(null,u);return r(p)?Q.D(Q.D(Qm.C(p),Dq,qq.C(p)),JA,u):null},v0.Wa=!0,v0.Sa="reitit.core/t_reitit$core42039",v0.Za=function(p){return yd(p,"reitit.core/t_reitit$core42039")};return new v0(k,d,a,n,h,f,h,e,m,c,b,new q(null,1,[oo,mo],null))}var I0=function I0(a){switch(arguments.length){case 1:return I0.C(arguments[0]);case 2:return I0.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};I0.C=function(a){return I0.B(a,W)};
I0.B=function(a,b){var c=G(ei(T_(b),a));c&&f_(["can't create :lookup-router with wildcard routes: ",t.C(c)].join(""),new q(null,2,[Do,c,Aw,a],null));c=h0(a);var d=w.D(function(k,m){var n=N(k,0,null);k=N(k,1,null);var p=N(m,0,null),u=N(m,1,null),v=Zg(u);u=B.B(v,ut);var z=N(m,2,null);return new X(null,2,5,Z,[Q.D(n,p,F0(p,v,z,W,p)),r(u)?Q.D(k,u,function(C){return F0(p,v,z,C,p)}):k],null)},new X(null,2,5,Z,[W,W],null),a),e=N(d,0,null),f=N(d,1,null),h=j0(a);if("undefined"===typeof e_||"undefined"===typeof u0||
"undefined"===typeof w0)w0=function(k,m,n,p,u,v,z,C,F,I){this.names=k;this.data=m;this.Dd=n;this.Jd=p;this.lookup=u;this.Pf=v;this.Ol=z;this.Of=C;this.yb=F;this.bl=I;this.O=393216;this.T=0},w0.prototype.ha=function(k,m){return new w0(this.names,this.data,this.Dd,this.Jd,this.lookup,this.Pf,this.Ol,this.Of,this.yb,m)},w0.prototype.ga=function(){return this.bl},w0.prototype.Me=function(k,m){k=this.data;return k.C?k.C(m):k.call(null,m)},w0.Wa=!0,w0.Sa="reitit.core/t_reitit$core42077",w0.Za=function(k){return yd(k,
"reitit.core/t_reitit$core42077")};return new w0(c,e,a,h,f,e,d,f,b,new q(null,1,[oo,mo],null))};I0.aa=2;var J0=function J0(a){switch(arguments.length){case 1:return J0.C(arguments[0]);case 2:return J0.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};J0.C=function(a){return J0.B(a,W)};
J0.B=function(a,b){var c=Pt.B(b,N_()),d=h0(a),e=w.D(function(p,u){function v(aa){var ea=k0(P,aa);r(ea)?aa=F0(C,I,O,U_(aa),ea):(aa=U_(aa),aa=new G0(C,I,O,aa,T,null,null,null));return aa}var z=N(p,0,null);p=N(p,1,null);var C=N(u,0,null),F=N(u,1,null),I=Zg(F);F=B.B(I,ut);var O=N(u,2,null);u=S_(C,b);var P=Zg(u),T=B.B(P,Dq);return new X(null,2,5,Z,[P_(z,C,F0(C,I,O,null,null),b),r(F)?Q.D(p,F,v):p],null)},new X(null,2,5,Z,[null,W],null),a),f=N(e,0,null),h=N(e,1,null),k=Q_(f,c),m=r(k)?C_(c,k):null,n=j0(a);
if("undefined"===typeof e_||"undefined"===typeof u0||"undefined"===typeof x0)x0=function(p,u,v,z,C,F,I,O,P,T,aa,ea){this.vd=p;this.names=u;this.Dd=v;this.Jd=z;this.lookup=C;this.Pf=F;this.Of=I;this.Xd=O;this.oh=P;this.Pl=T;this.yb=aa;this.cl=ea;this.O=393216;this.T=0},x0.prototype.ha=function(p,u){return new x0(this.vd,this.names,this.Dd,this.Jd,this.lookup,this.Pf,this.Of,this.Xd,this.oh,this.Pl,this.yb,u)},x0.prototype.ga=function(){return this.cl},x0.prototype.Me=function(p,u){p=this.Xd;p=r(p)?
this.Xd.C?this.Xd.C(u):this.Xd.call(null,u):p;return r(p)?Q.D(Q.D(Qm.C(p),Dq,qq.C(p)),JA,u):null},x0.Wa=!0,x0.Sa="reitit.core/t_reitit$core42107",x0.Za=function(p){return yd(p,"reitit.core/t_reitit$core42107")};return new x0(k,d,a,n,h,f,h,m,c,e,b,new q(null,1,[oo,mo],null))};J0.aa=2;var K0=function K0(a){switch(arguments.length){case 1:return K0.C(arguments[0]);case 2:return K0.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
K0.C=function(a){return K0.B(a,W)};
K0.B=function(a,b){r(function(){var p=ah.B(K(a),1);return p?p:sh(T_(b),a)}())&&f_([":single-static-path-router requires exactly 1 static route: ",t.C(a)].join(""),new q(null,1,[Aw,a],null));var c=h0(a),d=N(c,0,null),e=N(a,0,null),f=N(e,0,null),h=N(e,1,null),k=N(e,2,null),m=F0(f,h,k,W,f),n=j0(a);if("undefined"===typeof e_||"undefined"===typeof u0||"undefined"===typeof y0)y0=function(p,u,v,z,C,F,I,O,P,T,aa,ea,va){this.Ql=p;this.p=u;this.names=v;this.match=z;this.data=C;this.Dd=F;this.Sl=I;this.Jd=O;
this.n=P;this.Rl=T;this.result=aa;this.yb=ea;this.dl=va;this.O=393216;this.T=0},y0.prototype.ha=function(p,u){return new y0(this.Ql,this.p,this.names,this.match,this.data,this.Dd,this.Sl,this.Jd,this.n,this.Rl,this.result,this.yb,u)},y0.prototype.ga=function(){return this.dl},y0.prototype.Me=function(p,u){return E.B(this.p,u)?this.match:null},y0.Wa=!0,y0.Sa="reitit.core/t_reitit$core42134",y0.Za=function(p){return yd(p,"reitit.core/t_reitit$core42134")};return new y0(c,f,c,m,h,a,e,n,d,a,k,b,new q(null,
1,[oo,mo],null))};K0.aa=2;var L0=function L0(a){switch(arguments.length){case 1:return L0.C(arguments[0]);case 2:return L0.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};L0.C=function(a){return L0.B(a,W)};
L0.B=function(a,b){var c=Xl(T_(b),a);c=Zg(c);var d=B.B(c,!0),e=B.B(c,!1),f=E.B(1,K(e))?K0:I0,h=J0.B(d,b),k=f.B?f.B(e,b):f.call(null,e,b),m=h0(a),n=j0(a);if("undefined"===typeof e_||"undefined"===typeof u0||"undefined"===typeof z0)z0=function(p,u,v,z,C,F,I,O,P,T,aa){this.names=p;this.Dd=u;this.Jd=v;this.Rj=z;this.lookup=C;this.Ck=F;this.Tl=I;this.sj=O;this.yb=P;this.wj=T;this.fl=aa;this.O=393216;this.T=0},z0.prototype.ha=function(p,u){return new z0(this.names,this.Dd,this.Jd,this.Rj,this.lookup,this.Ck,
this.Tl,this.sj,this.yb,this.wj,u)},z0.prototype.ga=function(){return this.fl},z0.prototype.Me=function(p,u){p=D0(this.sj,u);return r(p)?p:D0(this.wj,u)},z0.Wa=!0,z0.Sa="reitit.core/t_reitit$core42203",z0.Za=function(p){return yd(p,"reitit.core/t_reitit$core42203")};return new z0(m,a,n,f,e,c,d,k,b,h,new q(null,1,[oo,mo],null))};L0.aa=2;
var M0=function M0(a){switch(arguments.length){case 1:return M0.C(arguments[0]);case 2:return M0.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};M0.C=function(a){return M0.B(a,W)};
M0.B=function(a,b){function c(u){return S(d,H(u))}var d=e0(function(){var u=On.C(b);return r(u)?u:b0(a,b)}()),e=Xl(c,a);e=Zg(e);var f=B.B(e,!0),h=B.B(e,!1),k=H0(f,b),m=L0.B(h,b),n=h0(a),p=j0(a);if("undefined"===typeof e_||"undefined"===typeof u0||"undefined"===typeof A0)A0=function(u,v,z,C,F,I,O,P,T,aa,ea,va){this.pl=u;this.names=v;this.lk=z;this.Dd=C;this.jk=F;this.Jd=I;this.kk=O;this.Dk=P;this.Xi=T;this.Ui=aa;this.yb=ea;this.gl=va;this.O=393216;this.T=0},A0.prototype.ha=function(u,v){return new A0(this.pl,
this.names,this.lk,this.Dd,this.jk,this.Jd,this.kk,this.Dk,this.Xi,this.Ui,this.yb,v)},A0.prototype.ga=function(){return this.gl},A0.prototype.Me=function(u,v){u=D0(this.Xi,v);return r(u)?u:D0(this.Ui,v)},A0.Wa=!0,A0.Sa="reitit.core/t_reitit$core42226",A0.Za=function(u){return yd(u,"reitit.core/t_reitit$core42226")};return new A0(h,n,d,a,f,p,c,e,m,k,b,new q(null,1,[oo,mo],null))};M0.aa=2;function N0(a){var b=a.dd;return gi.B(W,Rh.B(Sk(ug,function(c){c=b.getValues(c);return 2>c.length?c[0]:Li(c)}),b.getKeys()))}function O0(a,b,c){c=Zg(c);var d=B.B(c,rr);b=Kb(b);var e=r(d)?function(k){try{return t0(k)}catch(n){if(n instanceof Error){var m=n;d.B?d.B(k,m):d.call(null,k,m);throw m;}throw n;}}:t0;a=D0(a,b.cd);if(r(a)){var f=N0(b),h=Q.D(a,jz,f);a=function(){var k=e.C?e.C(h):e.call(null,h);return r(k)?k:new q(null,2,[JA,Dq.C(h),YC,f],null)}();return Q.D(h,Uw,a)}return null};function P0(a){if(null!=a&&null!=a.Qh)a=a.Qh(a);else{var b=P0[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=P0._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("History.-init",a);}return a}function Q0(a){if(null!=a&&null!=a.Rh)a=a.Rh(a);else{var b=Q0[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Q0._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("History.-stop",a);}return a}
function R0(a,b){if(null!=a&&null!=a.Sf)a=a.Sf(a,b);else{var c=R0[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=R0._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("History.-on-navigate",a);}return a}function S0(a){if(null!=a&&null!=a.Kg)a=a.Kg(a);else{var b=S0[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=S0._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("History.-get-path",a);}return a}
function T0(a,b,c,d,e,f,h,k){this.Ya=a;this.gb=b;this.Pc=c;this.Mc=d;this.Oc=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=T0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "on-navigate":return this.Ya;case "router":return this.gb;case "popstate-listener":return this.Pc;case "hashchange-listener":return this.Mc;case "last-fragment":return this.Oc;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#reitit.frontend.history.FragmentHistory{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[hD,this.Ya],null),new X(null,2,5,Z,[zw,this.gb],null),new X(null,2,5,Z,[Vy,this.Pc],null),new X(null,2,5,Z,[Mr,this.Mc],null),new X(null,2,5,Z,[CB,this.Oc],null)],null),this.F))};
g.qa=function(){return new ej(this,5,new X(null,5,5,Z,[hD,zw,Vy,Mr,CB],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new T0(this.Ya,this.gb,this.Pc,this.Mc,this.Oc,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=354327177^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Ya,b.Ya)&&E.B(this.gb,b.gb)&&E.B(this.Pc,b.Pc)&&E.B(this.Mc,b.Mc)&&E.B(this.Oc,b.Oc)&&E.B(this.F,b.F)};g.Qh=function(){function a(e){var f=S0(c);return E.B("popstate",e.type)||ah.B(y(b),f)?R0(c,f):null}var b=Fh(null),c=Q.D(this,CB,b),d=Q.I(c,Vy,PM(window,"popstate",a,!1),M([Mr,PM(window,"hashchange",a,!1)]));R0(d,S0(d));return d};g.Rh=function(){YM(this.Pc);YM(this.Mc);return null};
g.Sf=function(a,b){Gh(this.Oc,b);a=O0(this.gb,b,this);return this.Ya.B?this.Ya.B(a,this):this.Ya.call(null,a,this)};g.Kg=function(){var a=lg.B(window.location.hash,1);return E.B("",a)?"/":a};g.za=function(a,b){return S(new xk(null,new q(null,5,[CB,null,zw,null,Vy,null,hD,null,Mr,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new T0(this.Ya,this.gb,this.Pc,this.Mc,this.Oc,this.G,bh(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "on-navigate":case "router":case "popstate-listener":case "hashchange-listener":case "last-fragment":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(hD,b):U.call(null,hD,b))?new T0(c,this.gb,this.Pc,this.Mc,this.Oc,this.G,this.F,null):r(U.B?U.B(zw,b):U.call(null,zw,b))?new T0(this.Ya,c,this.Pc,this.Mc,this.Oc,this.G,this.F,null):r(U.B?U.B(Vy,b):U.call(null,Vy,b))?new T0(this.Ya,this.gb,c,this.Mc,this.Oc,this.G,this.F,null):r(U.B?U.B(Mr,b):U.call(null,Mr,b))?new T0(this.Ya,this.gb,this.Pc,c,this.Oc,this.G,this.F,null):r(U.B?U.B(CB,b):U.call(null,CB,b))?new T0(this.Ya,this.gb,this.Pc,this.Mc,c,this.G,this.F,
null):new T0(this.Ya,this.gb,this.Pc,this.Mc,this.Oc,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(hD,this.Ya,null),new Y(zw,this.gb,null),new Y(Vy,this.Pc,null),new Y(Mr,this.Mc,null),new Y(CB,this.Oc,null)],null),this.F))};g.ha=function(a,b){return new T0(this.Ya,this.gb,this.Pc,this.Mc,this.Oc,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function U0(a,b,c,d){var e="undefined"!==typeof location?Kb(location).pd:null;return(e=kc(!!d.le)&&kc(!!d.pd)||E.B(e,d.pd))?(e=kc(b.altKey))?(e=kc(b.ctrlKey))?(e=kc(b.metaKey))?(e=kc(b.shiftKey))?(e=kc(c.hasAttribute("target"))||S(new xk(null,new q(null,2,["",null,"_self",null],null),null),c.getAttribute("target")))?(b=E.B(0,b.button))?(c=kc(c.isContentEditable))?D0(a,d.cd):c:b:e:e:e:e:e:e}
function V0(a,b,c,d,e,f,h){this.Ya=a;this.gb=b;this.ad=c;this.Vc=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=V0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "on-navigate":return this.Ya;case "router":return this.gb;case "listen-key":return this.ad;case "click-listen-key":return this.Vc;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Zk(b,function(d){return Zk(b,gl,""," ","",c,d)},"#reitit.frontend.history.Html5History{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[hD,this.Ya],null),new X(null,2,5,Z,[zw,this.gb],null),new X(null,2,5,Z,[Ou,this.ad],null),new X(null,2,5,Z,[IC,this.Vc],null)],null),this.F))};
g.qa=function(){return new ej(this,4,new X(null,4,5,Z,[hD,zw,Ou,IC],null),r(this.F)?Yd(this.F):ch())};g.ga=function(){return this.G};g.pa=function(){return new V0(this.Ya,this.gb,this.ad,this.Vc,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1654764186^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Ya,b.Ya)&&E.B(this.gb,b.gb)&&E.B(this.ad,b.ad)&&E.B(this.Vc,b.Vc)&&E.B(this.F,b.F)};
g.Qh=function(){var a=this,b=this,c=function(){var e=zC.C(b);return r(e)?e:U0}(),d=Q.I(b,Ou,PM(window,"popstate",function(){return b.Sf(null,b.Kg(null))},!1),M([IC,PM(document,"click",function(e){var f=e.Ye;a:for(f=null!=f.composedPath?f.composedPath()[0]:e.target;;)if(r(f)){if(E.B("A",f.nodeName))break a;f=f.parentNode}else{f=null;break a}if(r(f)){var h=Kb(f.href);if(r(c.R?c.R(a.gb,e,f,h):c.call(null,a.gb,e,f,h)))return e.preventDefault(),e=[t.C(h.cd),r(""!==h.dd.toString())?["?",t.C(h.getQuery())].join(""):
null,r(!!h.je)?["#",t.C(h.je)].join(""):null].join(""),window.history.pushState(null,"",e),b.Sf(null,e)}return null})]));R0(d,S0(d));return d};g.Sf=function(a,b){a=O0(this.gb,b,this);return this.Ya.B?this.Ya.B(a,this):this.Ya.call(null,a,this)};g.Rh=function(){YM(this.ad);YM(this.Vc);return null};g.Kg=function(){return[t.C(window.location.pathname),t.C(window.location.search)].join("")};
g.za=function(a,b){return S(new xk(null,new q(null,4,[zw,null,Ou,null,IC,null,hD,null],null),null),b)?R.B(jd(gi.B(W,this),this.G),b):new V0(this.Ya,this.gb,this.ad,this.Vc,this.G,bh(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "on-navigate":case "router":case "listen-key":case "click-listen-key":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(hD,b):U.call(null,hD,b))?new V0(c,this.gb,this.ad,this.Vc,this.G,this.F,null):r(U.B?U.B(zw,b):U.call(null,zw,b))?new V0(this.Ya,c,this.ad,this.Vc,this.G,this.F,null):r(U.B?U.B(Ou,b):U.call(null,Ou,b))?new V0(this.Ya,this.gb,c,this.Vc,this.G,this.F,null):r(U.B?U.B(IC,b):U.call(null,IC,b))?new V0(this.Ya,this.gb,this.ad,c,this.G,this.F,null):new V0(this.Ya,this.gb,this.ad,this.Vc,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(hD,this.Ya,null),new Y(zw,this.gb,null),new Y(Ou,this.ad,null),new Y(IC,this.Vc,null)],null),this.F))};g.ha=function(a,b){return new V0(this.Ya,this.gb,this.ad,this.Vc,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function W0(a,b,c){var d=Zg(c);c=B.D(d,it,!0);b=Q.I(R.B(d,it),zw,a,M([hD,b]));a=P0;r(c)?(c=R.I(b,hD,M([zw,Vy,Mr,CB])),c=yf(b)?gi.B(W,c):c,b=new T0(hD.C(b),zw.C(b),Vy.C(b),Mr.C(b),CB.C(b),null,bh(c),null)):(c=R.I(b,hD,M([zw,Ou,IC])),c=yf(b)?gi.B(W,c):c,b=new V0(hD.C(b),zw.C(b),Ou.C(b),IC.C(b),null,bh(c),null));a(b)}function X0(a){return r(a)?Q0(a):null};var Y0=Fh(null);function Z0(a){var b=$0,c=new q(null,1,[it,!1],null);Ih.B(Y0,X0);W0(b,function(d,e){null==y(Y0)&&Gh(Y0,e);return a.B?a.B(d,e):a.call(null,d,e)},c)};var AF,s3=new q(null,3,[Xu,new q(null,1,[Dm,kt],null),us,new q(null,2,[pu,wt,sq,Gs],null),co,new q(null,2,[pu,wt,sq,Fu],null)],null),t3=RS?RS(s3):SS.call(null,s3),u3=Zg(M([bc,new q(null,1,[Mz,Fh(W)],null)])),v3=B.B(u3,bc),w3=B.B(u3,Wp);AF=new Eh(t3,v3,w3);var f1={};var g1={},h1,i1,j1,k1;function l1(a,b){if(null!=a&&null!=a.wf)a=a.wf(a,b);else{var c=l1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=l1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Spec.conform*",a);}return a}function m1(a,b){if(null!=a&&null!=a.xf)a=a.xf(a,b);else{var c=m1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=m1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Spec.with-gen*",a);}return a}var n1=Fh(W);
function o1(a){if(tg(a)){var b=y(n1);a=B.B(b,a);if(tg(a))a:for(;;)if(tg(a))a=B.B(b,a);else{b=a;break a}else b=a;return b}return a}function p1(a){if(tg(a)){var b=o1(a);if(r(b))return b;throw Error(["Unable to resolve spec: ",t.C(a)].join(""));}return a}function q1(a){return null!=a&&l===a.ng?a:null}function r1(a){var b=yx.C(a);return r(b)?a:b}function s1(a,b){return tg(a)?a:r(r1(a))?Q.D(a,Pn,b):null!=a&&(a.O&131072||l===a.qf)?qf(a,Q.D(rf(a),Pn,b)):null}
function t1(a){return tg(a)?a:r(r1(a))?Pn.C(a):null!=a&&(a.O&131072||l===a.qf)?Pn.C(rf(a)):null}function u1(a){var b=function(){var c=(c=tg(a))?o1(a):c;if(r(c))return c;c=q1(a);if(r(c))return c;c=r1(a);return r(c)?c:null}();return r(r1(b))?s1(v1(b,null),t1(b)):b}function w1(a){var b=u1(a);if(r(b))return b;if(tg(a))throw Error(["Unable to resolve spec: ",t.C(a)].join(""));return null}
function x1(a){if(mE(a))return null;a=Rh.B(sm,kE(a,"$"));if(2<=K(a)&&rh(function(c){return!mE(c)},a)){var b=Sk(Dk,gf)(a);a=N(b,0,null);b=N(b,1,null);return oe.C([iE(".",a),"/",t.C(b)].join(""))}return null}
var z1=function(){function a(d,e){var f=y1[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=y1._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw pc("Specize.specize*",d);}function b(d){var e=y1[ha(null==d?null:d)];if(null!=e)return e.C?e.C(d):e.call(null,d);e=y1._;if(null!=e)return e.C?e.C(d):e.call(null,d);throw pc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.C=b;c.B=a;return c}(),y1=function y1(a){switch(arguments.length){case 1:return y1.C(arguments[0]);case 2:return y1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};y1.C=function(a){return null!=a&&null!=a.ee?a.ee(a):z1(a)};y1.B=function(a,b){return null!=a&&null!=a.fe?a.fe(a,b):z1(a,b)};y1.aa=2;D.prototype.ee=function(){return y1(p1(this))};D.prototype.fe=function(){return y1(p1(this))};A.prototype.ee=function(){return y1(p1(this))};
A.prototype.fe=function(){return y1(p1(this))};xk.prototype.ee=function(){return A1(this,this)};xk.prototype.fe=function(a,b){return A1(b,this)};Ak.prototype.ee=function(){return A1(this,this)};Ak.prototype.fe=function(a,b){return A1(b,this)};
y1._=function(){function a(c){var d=(d=of(c))?x1(c.name):d;return r(d)?A1(d,c):A1(Su,c)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return A1(d,c)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return A1(d,c)};return b}();var B1=function B1(a){switch(arguments.length){case 1:return B1.C(arguments[0]);case 2:return B1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
B1.C=function(a){var b=q1(a);return r(b)?b:y1(a)};B1.B=function(a,b){var c=q1(a);return r(c)?c:y1(a,b)};B1.aa=2;function C1(a,b){a=o1(a);return r(r1(a))?Q.D(a,dC,b):m1(B1.C(a),b)}function D1(a,b,c){if(null==c)Ih.D(n1,R,a);else{var d=q1(c);r(d)||(d=r1(c),d=r(d)?d:B.B(y(n1),c));b=r(d)?c:A1(b,c);Ih.R(n1,Q,a,s1(b,a))}}
function E1(a,b,c){if(r(a)){var d=w1(a);if(r(d))return l1(B1.C(d),b);if(Gf(a))return r(null)?a.C?a.C(b):a.call(null,b):r(a.C?a.C(b):a.call(null,b))?b:cq;throw Error([ol.I(M([c]))," is not a fn, expected predicate fn"].join(""));}return b}function F1(a,b){a=B1.C(a);return!U(cq,l1(a,b))}function A1(a,b){return G1(a,b,null,null,null)}
function G1(a,b,c,d,e){if(r(q1(b)))return r(c)?C1(b,c):b;if(r(r1(b)))return v1(b,c);if(tg(b))return a=w1(b),r(c)?C1(a,c):a;if("undefined"===typeof Qb||"undefined"===typeof f1||"undefined"===typeof g1||"undefined"===typeof i1)i1=function(f,h,k,m,n,p){this.form=f;this.pred=h;this.He=k;this.qh=m;this.vj=n;this.il=p;this.O=393216;this.T=0},i1.prototype.ha=function(f,h){return new i1(this.form,this.pred,this.He,this.qh,this.vj,h)},i1.prototype.ga=function(){return this.il},i1.prototype.ee=function(){return this},
i1.prototype.fe=function(){return this},i1.prototype.ng=l,i1.prototype.wf=function(f,h){f=this.pred.C?this.pred.C(h):this.pred.call(null,h);return r(this.qh)?f:r(f)?h:cq},i1.prototype.xf=function(f,h){return G1(this.form,this.pred,h,this.qh,this.vj)},i1.Wa=!0,i1.Sa="cljs.spec.alpha/t_cljs$spec$alpha42608",i1.Za=function(f){return yd(f,"cljs.spec.alpha/t_cljs$spec$alpha42608")};return new i1(a,b,c,d,e,W)}
function H1(a,b,c){var d=G(b);H(d);J(d);d=G(c);H(d);J(d);for(d=c;;){c=a;b=G(b);a=H(b);b=J(b);var e=G(d);d=H(e);e=J(e);var f=d;d=e;if(r(a)){c=E1(a,c,f);if(U(cq,c))return cq;a=c}else return c}}var I1=new q(null,4,[$A,jf,Zx,zk,vs,we,bp,W],null);
function J1(a,b,c,d){function e(va,ua,Ma,pa){return hf.B(va,pa)}var f=Zg(c),h=B.B(f,eE),k=B.B(f,gn),m=B.D(f,Ox,20),n=B.B(f,Fy),p=B.B(f,uw),u=B.B(f,BC),v=B.B(f,Iz),z=B.B(f,VA),C=B.B(f,Zs),F=B.B(f,Er),I=B.B(f,Hq),O=B.B(f,ev),P=B.B(f,ly),T=r(P)?lf(P):B.B(I1,k),aa=new Al(function(){return B1.C(b)}),ea=function(){return r(z)?z:function(va){return va}}();if("undefined"===typeof Qb||"undefined"===typeof f1||"undefined"===typeof g1||"undefined"===typeof j1)j1=function(va,ua,Ma,pa,sa,Da,Ca,Ea,eb,wc,ic,jc,
Cb,Cd,zg,cf,yh,He,Ag,te,df,ae,be,ce,Zj){this.form=va;this.Hk=ua;this.Vj=Ma;this.He=pa;this.uk=sa;this.pred=Da;this.rg=Ca;this.Fk=Ea;this.nk=eb;this.zk=wc;this.Tj=ic;this.eg=jc;this.sk=Cb;this.distinct=Cd;this.spec=zg;this.yk=cf;this.tk=yh;this.count=He;this.ll=Ag;this.yb=te;this.kind=df;this.Gi=ae;this.mk=be;this.zl=ce;this.jl=Zj;this.O=393216;this.T=0},j1.prototype.ha=function(va,ua){return new j1(this.form,this.Hk,this.Vj,this.He,this.uk,this.pred,this.rg,this.Fk,this.nk,this.zk,this.Tj,this.eg,
this.sk,this.distinct,this.spec,this.yk,this.tk,this.count,this.ll,this.yb,this.kind,this.Gi,this.mk,this.zl,ua)},j1.prototype.ga=function(){return this.jl},j1.prototype.ee=function(){return this},j1.prototype.fe=function(){return this},j1.prototype.ng=l,j1.prototype.wf=function(va,ua){va=y(this.spec);if(kc(this.rg.C?this.rg.C(ua):this.rg.call(null,ua)))return cq;if(r(this.Gi)){var Ma=this.eg.C?this.eg.C(ua):this.eg.call(null,ua),pa=N(Ma,0,null),sa=N(Ma,1,null);Ma=N(Ma,2,null);var Da=pa.C?pa.C(ua):
pa.call(null,ua);pa=0;var Ca=G(ua);ua=G(Ca);H(ua);J(ua);for(ua=Da;;){var Ea=Ca;Da=G(Ea);Ca=H(Da);Da=J(Da);if(Ea){Ea=l1(va,Ca);if(U(cq,Ea))return cq;ua=sa.R?sa.R(ua,pa,Ca,Ea):sa.call(null,ua,pa,Ca,Ea);pa+=1;Ca=Da}else return Ma.C?Ma.C(ua):Ma.call(null,ua)}}else if(Re(ua))for(sa=eg(K(ua)/101),sa=1>sa?1:sa,pa=0;;){if(pa>=K(ua))return ua;if(F1(va,Te(ua,pa)))pa+=sa;else return cq}else for(pa=0,sa=G(ua),Ma=G(sa),H(Ma),J(Ma);;){Ca=G(sa);Ma=H(Ca);Da=J(Ca);Ca=Ma;Ea=sa;if(null==Ea||E.B(pa,101))return ua;if(F1(va,
Ca))sa=Da,pa+=1;else return cq}},j1.prototype.xf=function(va,ua){return J1(this.form,this.pred,this.yb,ua)},j1.Wa=!0,j1.Sa="cljs.spec.alpha/t_cljs$spec$alpha42727",j1.Za=function(va){return yd(va,"cljs.spec.alpha/t_cljs$spec$alpha42727")};return new j1(a,h,function(va){return F1(y(aa),va)},d,m,b,n,f,p,k,e,function(va){return zf(va)&&(kc(P)||zf(P))?new X(null,3,5,Z,[Tf,function(ua,Ma,pa,sa){return pa===sa?ua:Q.D(ua,Ma,sa)},Tf],null):r(function(){var ua=xf(va);return ua?(ua=r(I)?kc(P):I,r(ua)?ua:xf(P)):
ua}())?new X(null,3,5,Z,[r(p)?lf:Tf,function(ua,Ma,pa,sa){return pa===sa&&kc(p)?ua:Q.D(ua,Te(r(p)?sa:pa,0),Te(sa,1))},Tf],null):mg(P)||Df(P)||kc(P)&&(mg(va)||Df(va))?new X(null,3,5,Z,[lf,e,og],null):new X(null,3,5,Z,[function(ua){return lf(r(P)?P:ua)},e,Tf],null)},u,v,aa,ea,T,C,F,f,I,O,P,c,W)}function K1(a){return new q(null,2,[yx,Pq,cs,a],null)}function L1(a){a=Zg(a);a=B.B(a,yx);return E.B(Pq,a)}
var M1=function M1(a){var c=Zg(a),d=B.B(c,gw);a=G(d);var e=H(a);a=J(a);var f=B.B(c,Hv),h=G(f),k=H(h);h=J(h);var m=B.B(c,Bp),n=G(m);H(n);n=J(n);var p=B.B(c,cs);c=B.B(c,Zu);return rh(Tf,d)?L1(e)?(d=cs.C(e),d=hf.B(p,r(f)?nf([k,d]):d),a?(a=new q(null,4,[gw,a,Hv,h,Bp,n,cs,d],null),M1.C?M1.C(a):M1.call(null,a)):K1(d)):new q(null,6,[yx,dq,gw,d,cs,p,Hv,f,Bp,m,Zu,c],null):null};
function N1(a,b,c,d,e){return r(a)?(d=new q(null,5,[yx,Nt,pv,b,mt,d,Bp,e,QD,om()],null),L1(a)?Q.I(d,rv,b,M([cs,hf.B(c,cs.C(a))])):Q.I(d,rv,a,M([cs,c]))):null}
function O1(a,b,c,d){return r(r(b)?b:c)?(a=ei(function(e){e=H(e);return d.C?d.C(e):d.call(null,e)},Rh.R(Pi,a,function(){var e=G(b);return e?e:Xh(null)}(),function(){var e=G(c);return e?e:Xh(null)}())),new X(null,3,5,Z,[G(Rh.B(H,a)),r(b)?G(Rh.B(ef,a)):null,r(c)?G(Rh.B(function(e){return Te(e,2)},a)):null],null)):new X(null,3,5,Z,[G(ei(d,a)),b,c],null)}
function P1(a,b,c){var d=O1(a,b,c,Tf);c=N(d,0,null);b=G(c);a=H(b);var e=J(b),f=N(d,1,null);b=N(f,0,null);d=N(d,2,null);return r(c)?(c=new q(null,4,[yx,Zm,gw,c,Hv,f,Bp,d],null),null==e?r(b)&&(L1(a)?(a=cs.C(a),a=K1(new Y(b,a,null))):a=c):a=c,a):null}function Q1(a,b){return r(r(a)?b:a)?P1(M([a,b]),null,null):r(a)?a:b}
var R1=function R1(a){a=p1(a);var c=Zg(a),d=B.B(c,yx),e=B.B(c,gw);a=B.B(c,rv);var f=B.B(c,pv);c=B.B(c,Bp);if(E.B(Pq,d))return!0;if(E.B(null,d))return null;if(E.B(Um,d))return d=R1.C?R1.C(a):R1.call(null,a),r(d)?(a=H1(S1(a),e,J(c)),!U(cq,a)):d;if(E.B(Nt,d))return(e=a===f)?e:R1.C?R1.C(a):R1.call(null,a);if(E.B(dq,d))return rh(R1,e);if(E.B(Zm,d))return sh(R1,e);throw Error(["No matching clause: ",t.C(d)].join(""));},S1=function S1(a){a=p1(a);var c=Zg(a);a=B.B(c,gw);var d=G(a),e=H(d);J(d);var f=B.B(c,
Hv),h=N(f,0,null),k=B.B(c,yx);d=B.B(c,rv);var m=B.B(c,cs);c=B.B(c,Bp);if(E.B(Pq,k))return m;if(E.B(null,k))return null;if(E.B(Um,k))return e=S1.C?S1.C(d):S1.call(null,d),(f=E.B(e,en))?d=f:(d=yx.C(p1(d)),f=new xk(null,new q(null,2,[Nt,null,dq,null],null),null),d=f.C?f.C(d):f.call(null,d),d=r(d)?tf(e):d,d=r(d)?d:null),r(d)?en:H1(e,a,c);if(E.B(Nt,k))return T1(d,m,h);if(E.B(dq,k))return T1(e,m,h);if(E.B(Zm,k))return c=O1(a,f,c,R1),a=N(c,0,null),a=N(a,0,null),c=N(c,1,null),c=N(c,0,null),a=null==a?en:S1.C?
S1.C(a):S1.call(null,a),r(c)?new Y(c,a,null):a;throw Error(["No matching clause: ",t.C(k)].join(""));};function T1(a,b,c){a=p1(a);var d=Zg(a),e=B.B(d,yx);B.B(d,gw);a=B.B(d,mt);if(E.B(null,e))return b;if(E.B(Zm,e)||E.B(Pq,e)||E.B(Um,e))return a=S1(d),E.B(a,en)?b:hf.B(b,r(c)?nf([c,a]):a);if(E.B(Nt,e)||E.B(dq,e))return d=S1(d),tf(d)||(c=r(c)?nf([c,d]):d,a=r(a)?gi:hf,b=a.B?a.B(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.C(e)].join(""));}
var U1=function U1(a,b){a=p1(a);var d=Zg(a),e=B.B(d,Bp),f=B.B(d,pv);a=B.B(d,gw);var h=G(a),k=H(h),m=J(h),n=B.B(d,cs);h=B.B(d,yx);var p=B.B(d,mt),u=B.B(d,Hv),v=G(u),z=H(v),C=J(v);v=B.B(d,Cy);var F=B.B(d,rv);if(r(d)){if(E.B(Pq,h))return null;if(E.B(null,h))return a=E1(d,b,d),U(cq,a)?null:K1(a);if(E.B(Um,h))return d=U1.B?U1.B(F,b):U1.call(null,F,b),r(d)?E.B(Pq,yx.C(d))?(a=H1(S1(d),a,J(e)),U(cq,a)?null:K1(a)):new q(null,5,[yx,Um,rv,d,Cy,v,gw,a,Bp,e],null):null;if(E.B(dq,h))return Q1(M1(new q(null,4,[gw,
Ze(U1.B?U1.B(k,b):U1.call(null,k,b),m),Hv,u,Bp,e,cs,n],null)),r(R1(k))?function(){var I=M1(new q(null,4,[gw,m,Hv,C,Bp,J(e),cs,T1(k,n,z)],null));return U1.B?U1.B(I,b):U1.call(null,I,b)}():null);if(E.B(Zm,h))return P1(Rh.B(function(I){return U1.B?U1.B(I,b):U1.call(null,I,b)},a),u,e);if(E.B(Nt,h))return Q1(N1(U1.B?U1.B(F,b):U1.call(null,F,b),f,n,p,e),r(R1(F))?function(){var I=N1(f,f,T1(F,n,null),p,e);return U1.B?U1.B(I,b):U1.call(null,I,b)}():null);throw Error(["No matching clause: ",t.C(h)].join(""));
}return null};function V1(a,b){for(;;){var c=G(b),d=H(c);c=J(c);if(tf(b))return r(R1(a))?(a=S1(a),E.B(a,en)?null:a):cq;a=U1(a,d);if(r(a))b=c;else return cq}}
var v1=function v1(a,b){if("undefined"===typeof Qb||"undefined"===typeof f1||"undefined"===typeof g1||"undefined"===typeof k1)k1=function(d,e,f){this.re=d;this.He=e;this.kl=f;this.O=393216;this.T=0},k1.prototype.ha=function(d,e){return new k1(this.re,this.He,e)},k1.prototype.ga=function(){return this.kl},k1.prototype.ee=function(){return this},k1.prototype.fe=function(){return this},k1.prototype.ng=l,k1.prototype.wf=function(d,e){return null==e||wf(e)?V1(this.re,G(e)):cq},k1.prototype.xf=function(d,
e){return v1.B?v1.B(this.re,e):v1.call(null,this.re,e)},k1.Wa=!0,k1.Sa="cljs.spec.alpha/t_cljs$spec$alpha42923",k1.Za=function(d){return yd(d,"cljs.spec.alpha/t_cljs$spec$alpha42923")};return new k1(a,b,W)};
D1(Gq,pg(QB,pg(Gv,new X(null,1,5,Z,[UB],null),pg(Bq,pg(It,Lp,UB),pg(It,Jp,UB))),pg(Gv,new X(null,1,5,Z,[sp],null),pg(It,pg(Nv,new X(null,1,5,Z,[new X(null,2,5,Z,[vo,to],null)],null),new q(null,2,[Lp,vo,Jp,to],null)),sp))),G1(pg(QB,pg(Nv,new X(null,1,5,Z,[Rp],null),pg(Bq,pg(It,Lp,Rp),pg(It,Jp,Rp))),pg(Nv,new X(null,1,5,Z,[Rp],null),pg(It,pg(Nv,new X(null,1,5,Z,[new X(null,2,5,Z,[vo,to],null)],null),new q(null,2,[Lp,vo,Jp,to],null)),Rp))),function(a){return Ek(Rh.B(Lp,a),Rh.B(Jp,a))},null,!0,function(a){return Rh.B(function(b){var c=
N(b,0,null);b=N(b,1,null);return new q(null,2,[Lp,c,Jp,b],null)},a)}));D1(Xu,xn,mc);D1(Hp,new xk(null,new q(null,8,[ZD,"null",ux,"null",wr,"null",Sq,"null",GD,"null",Ev,"null",Qx,"null",Sy,"null"],null),null),new xk(null,new q(null,8,[ZD,null,ux,null,wr,null,Sq,null,GD,null,Ev,null,Qx,null,Sy,null],null),null));
D1(Ao,pg(jr,bs,new X(null,2,5,Z,[Xu,Hp],null)),function W1(a){var c=Zg(a),d=B.B(c,MD),e=B.B(c,Ap),f=B.B(c,Gw),h=B.B(c,kA),k=B.B(c,yr),m=B.B(c,dr),n=B.B(c,hu),p=B.B(c,GB),u=B.B(c,bs),v=B.B(c,zD),z=B.B(c,RA),C=B.B(c,bA),F=Ek(V.B(v,n),V.B(p,z)),I=om();if("undefined"===typeof Qb||"undefined"===typeof f1||"undefined"===typeof g1||"undefined"===typeof h1)h1=function(O,P,T,aa,ea,va,ua,Ma,pa,sa,Da,Ca,Ea,eb,wc,ic,jc,Cb,Cd){this.zg=O;this.sl=P;this.Kl=T;this.wl=aa;this.He=ea;this.Al=va;this.Ag=ua;this.ni=Ma;
this.tl=pa;this.Jl=sa;this.Ek=Da;this.req=Ca;this.id=Ea;this.Il=eb;this.ul=wc;this.yl=ic;this.xk=jc;this.Bl=Cb;this.hl=Cd;this.O=393216;this.T=0},h1.prototype.ha=function(O,P){return new h1(this.zg,this.sl,this.Kl,this.wl,this.He,this.Al,this.Ag,this.ni,this.tl,this.Jl,this.Ek,this.req,this.id,this.Il,this.ul,this.yl,this.xk,this.Bl,P)},h1.prototype.ga=function(){return this.hl},h1.prototype.ee=function(){return this},h1.prototype.fe=function(){return this},h1.prototype.ng=l,h1.prototype.wf=function(O,
P){if(r(this.Ag.C?this.Ag.C(P):this.Ag.call(null,P))){O=y(n1);var T=G(P),aa=H(T);J(T);N(aa,0,null);N(aa,1,null);for(aa=T=P;;){P=T;var ea=aa;aa=G(ea);T=H(aa);var va=J(aa);aa=T;T=N(aa,0,null);aa=N(aa,1,null);if(r(ea))if(ea=this.zg.C?this.zg.C(T):this.zg.call(null,T),ea=B.B(O,ea),r(ea)){var ua=aa;ea=l1(B1.C(ea),ua);if(U(cq,ea))return cq;P=ea===aa?P:Q.D(P,T,ea);aa=va;T=P}else aa=va,T=P;else return P}}else return cq},h1.prototype.xf=function(O,P){O=Q.D(this.ni,kA,P);return W1.C?W1.C(O):W1.call(null,O)},
h1.Wa=!0,h1.Sa="cljs.spec.alpha/t_cljs$spec$alpha42538",h1.Za=function(O){return yd(O,"cljs.spec.alpha/t_cljs$spec$alpha42538")};return new h1(function(O){var P=F.C?F.C(O):F.call(null,O);return r(P)?P:O},d,e,f,h,k,m,c,n,p,c,u,I,v,z,a,F,C,W)}(Uj([Ap,Gw,kA,yr,dr,hu,GB,bs,zD,RA,bA,MD],[null,null,null,new X(null,3,5,Z,[function(a){return xf(a)},function(a){return S(a,Xu)},function(a){return S(a,Hp)}],null),function(a){return xf(a)&&S(a,Xu)&&S(a,Hp)},jf,new X(null,2,5,Z,[Xu,Hp],null),new X(null,2,5,Z,
[Xu,Hp],null),new X(null,2,5,Z,[Xu,Hp],null),jf,new X(null,3,5,Z,[pg(Nv,new X(null,1,5,Z,[Rp],null),pg(bp,Rp)),pg(Nv,new X(null,1,5,Z,[Rp],null),pg(tB,Rp,Xu)),pg(Nv,new X(null,1,5,Z,[Rp],null),pg(tB,Rp,Hp))],null),null])));D1(ar,pg(Co,Ao),J1(Ao,Ao,new q(null,4,[ev,!0,gn,null,BC,pg(Co,Ao),Fy,function(a){return uf(a)}],null),null));var X1=eY(13);var Y1=eY(50);var Z1=eY(51);eY(52);eY(57);var $1=eY(64);var a2=eY(77);var b2=eY(124);var c2=eY(147);var module$node_modules$ol$style=eY(226);var d2=eY(244);var e2=eY(248);var f2=eY(386);var g2=eY(426);function h2(a){a=Zg(a);var b=B.B(a,Qq),c=B.B(a,Sn),d=B.B(a,oA),e=B.B(a,Cz),f=B.B(a,Hs),h=Rh.B(function(k){return zf(k)?k:new X(null,2,5,Z,[k,t.C(k)],null)},e);return new X(null,3,5,Z,[Fo,new X(null,2,5,Z,[pw,function(){return function n(m){return new wg(null,function(){for(;;){var p=G(m);if(p){if(Af(p)){var u=Pd(p),v=K(u),z=Cg(v);a:for(var C=0;;)if(C<v){var F=x(u,C);N(F,0,null);F=N(F,1,null);F=qf(new X(null,2,5,Z,[kv,new X(null,2,5,Z,[yC,F],null)],null),new q(null,1,[sD,F],null));z.add(F);C+=1}else{u=
!0;break a}return u?Eg(Gg(z),n(Qd(p))):Eg(Gg(z),null)}z=H(p);N(z,0,null);z=N(z,1,null);return Ze(qf(new X(null,2,5,Z,[kv,new X(null,2,5,Z,[yC,z],null)],null),new q(null,1,[sD,z],null)),n(ve(p)))}return null}},null,null)}(h)}()],null),new X(null,4,5,Z,[tA,$1.FixedSizeList,new q(null,4,[xB,b,ao,c,Pu,d,Ex,K(f)],null),VZ(function(k){k=Zg(k);var m=B.B(k,rC);k=B.B(k,ro);return new X(null,3,5,Z,[St,new q(null,1,[ro,Pl(k)],null),function(){var n=N(f,m,null);return function v(u){return new wg(null,function(){for(;;){var z=
G(u);if(z){if(Af(z)){var C=Pd(z),F=K(C),I=Cg(F);a:for(var O=0;;)if(O<F){var P=x(C,O),T=N(P,0,null);P=N(P,1,null);T=qf(new X(null,2,5,Z,[kv,new X(null,2,5,Z,[Ax,zf(T)?ki(n,T):B.B(n,T)],null)],null),new q(null,1,[sD,P],null));I.add(T);O+=1}else{C=!0;break a}return C?Eg(Gg(I),v(Qd(z))):Eg(Gg(I),null)}C=H(z);I=N(C,0,null);C=N(C,1,null);return Ze(qf(new X(null,2,5,Z,[kv,new X(null,2,5,Z,[Ax,zf(I)?ki(n,I):B.B(n,I)],null)],null),new q(null,1,[sD,C],null)),v(ve(z)))}return null}},null,null)}(h)}()],null)})],
null)],null)}function i2(a){a=Zg(a);var b=B.B(a,AB),c=B.B(a,Jw),d=B.B(a,tr),e=B.B(a,vB),f=B.B(a,Ls);return nZ(new q(null,2,[XA,function(){return new X(null,1,5,Z,[Vn],null)},ju,function(h){h=Z1(WZ.findDOMNode(h),{value:d,mode:e,lineNumbers:f});h.setSize(c,b);return h}],null),UZ)}function j2(a){a=Zg(a);var b=B.B(a,pt);return nZ(new q(null,2,[XA,function(){return new X(null,1,5,Z,[Vn],null)},ju,function(c){return Y1(WZ.findDOMNode(c),Ll(b))}],null),UZ)}
function k2(a){return new X(null,2,5,Z,[$y,new q(null,1,[js,new q(null,1,[DC,X1(CC.C(a))],null)],null)],null)}function l2(a){return new X(null,2,5,Z,[Vn,new q(null,1,[js,new q(null,1,[DC,sC.C(a)],null)],null)],null)}
function m2(a){var b=Zg(a);a=B.B(b,hp);var c=B.B(b,rD),d=B.B(b,lv),e=B.B(b,Tx);return r(a)?(b=sk.I(M([W,r(c)?new q(null,1,["dataProjection",c],null):null,r(d)?new q(null,1,["featureProjection",d],null):null])),a=(new e2.default).readFeature(a,Ll(b)),r(e)&&a.setStyle(new module$node_modules$ol$style.Style(Ll(sk.I(M([W,function(){var f=ki(e,new X(null,2,5,Z,[kx,RB],null));return r(f)?new q(null,1,[Bz,new module$node_modules$ol$style.Fill({color:a2.asString(f)})],null):null}(),function(){var f=ki(e,
new X(null,2,5,Z,[mB,RB],null));return r(f)?new q(null,1,[xs,new module$node_modules$ol$style.Stroke({color:a2.asString(f)})],null):null}()]))))),a):null}
function n2(a){a=Zg(a);var b=B.B(a,hy),c=B.B(a,ky),d=B.B(a,oy),e=B.B(a,EC),f=B.B(a,eq),h=B.B(a,xv),k=B.B(a,$p);return nZ(new q(null,2,[XA,function(){return new X(null,2,5,Z,[Vn,new q(null,1,[ro,new q(null,2,[xB,r(b)?b:"500px",ao,r(c)?c:"1200px"],null)],null)],null)},ju,function(m){var n=null==e?null:Ll(e),p=r(f)?function(){var z=null==n?null:b2.fromLonLat(n);console.log(["Center projection: ",iE(" ",e)," (WGS84) to ",t.C(z)," (EPSG:3857)"].join(""));return z}():n;p=r(p)?p:[0,0];var u=r(d)?new module$node_modules$ol$style.Style(Ll(sk.I(M([W,
function(){var z=ki(d,new X(null,2,5,Z,[Bz,br],null));return r(z)?new q(null,1,[Bz,new module$node_modules$ol$style.Fill({color:a2.asString(z)})],null):null}(),function(){var z=ki(d,new X(null,2,5,Z,[xs,br],null));return r(z)?new q(null,1,[xs,new module$node_modules$ol$style.Stroke({color:a2.asString(z)})],null):null}()])))):null,v=new f2.Vector(Ll(new q(null,1,["features",hi.B(m2,k)],null)));u=new g2.Vector(Ll(sk.I(M([new q(null,1,[Lv,v],null),r(u)?new q(null,1,[ro,u],null):null]))));v=new f2.XYZ({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
attributions:"Tiles \x26copy; Esri \x26mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"});return new d2.default({target:WZ.findDOMNode(m),layers:[new g2.Tile({source:v}),u],view:new c2.default({center:p,zoom:r(h)?h:4})})}],null),UZ)}
function o2(a){return new X(null,2,5,Z,[cB,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Cg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[kv,new q(null,1,[sD,Xu.C(n)],null),new X(null,2,5,Z,[p2,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Eg(Gg(k),d(Qd(e))):Eg(Gg(k),null)}k=H(e);return Ze(new X(null,3,5,Z,[kv,new q(null,1,[sD,Xu.C(k)],null),new X(null,2,5,Z,[p2,k],null)],null),d(ve(e)))}return null}},
null,null)}(co.C(a))}()],null)}
function q2(a){return new X(null,2,5,Z,[pr,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Cg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[kv,new q(null,1,[sD,Xu.C(n)],null),new X(null,2,5,Z,[p2,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Eg(Gg(k),d(Qd(e))):Eg(Gg(k),null)}k=H(e);return Ze(new X(null,3,5,Z,[kv,new q(null,1,[sD,Xu.C(k)],null),new X(null,2,5,Z,[p2,k],null)],null),d(ve(e)))}return null}},
null,null)}(co.C(a))}()],null)}
function p2(a){var b=Zg(a),c=B.B(b,Xu),d=B.B(b,Hp);b=function(){switch(d instanceof D?d.ba:null){case "widget.type/html":return l2;case "widget.type/row":return o2;case "widget.type/column":return q2;case "widget.type/table":return h2;case "widget.type/vega-embed":return j2;case "widget.type/codemirror":return i2;case "widget.type/markdown":return k2;case "widget.type/geoplot":return n2;default:return new X(null,2,5,Z,[Tt,new X(null,3,5,Z,[Ax,"Unknown Widget type ",new X(null,2,5,Z,[xo,t.C(d)],null)],
null)],null)}}();return qf(new X(null,2,5,Z,[b,a],null),new q(null,1,[sD,c],null))};var r2=eY(427);var s2=eY(429);var t2=function(a){return gJ(vg(a),iJ({handlers:Ll(sk.I(M([new q(null,6,["$",function(b){return oe.C(b)},":",function(b){return ug.C(b)},"set",function(b){return gi.B(zk,b)},"list",function(b){return gi.B(we,b.reverse())},"cmap",function(b){for(var c=0,d=Hd(W);;)if(c<b.length){var e=c+2;d=Kd(d,b[c],b[c+1]);c=e}else return Jd(d)},"with-meta",function(b){return qf(b[0],b[1])}],null),R.B(Wm.C(null),lm)]))),defaultHandler:lm.C(Wm.C(null)),mapBuilder:new jJ,arrayBuilder:new kJ,prefersStrings:!1}))}(up),
u2=function(a){var b=new nJ,c=new oJ,d=new pJ,e=new qJ,f=sk.I(M([Uj([Sj,qg,q,Nj,$i,se,D,ng,wg,Si,Zi,Pj,rk,sJ,ij,X,kf,Xe,xk,lk,qk,Qi,Ak,Dg,A,nm,Mk,Xj],[c,b,c,b,b,b,new lJ,b,b,e,b,b,b,new tJ,b,e,b,b,d,c,b,b,d,b,new mJ,new rJ,b,b]),"undefined"!==typeof Qb&&"undefined"!==typeof Rb&&"undefined"!==typeof Hl?nf([Hl,b]):null,"undefined"!==typeof Qb&&"undefined"!==typeof Rb&&"undefined"!==typeof Wh?nf([Wh,b]):null,"undefined"!==typeof Qb&&"undefined"!==typeof Rb&&"undefined"!==typeof Y?nf([Y,e]):null,Wm.C(null)]));
return hJ(vg(a),iJ({objectBuilder:function(h,k,m){return Sf(function(n,p,u){n.push(k.C?k.C(p):k.call(null,p),m.C?m.C(u):m.call(null,u));return n},["^ "],h)},handlers:function(){var h=Bc(f);h.forEach=function(k){for(var m=G(this),n=null,p=0,u=0;;)if(u<p){var v=n.Da(null,u),z=N(v,0,null);v=N(v,1,null);E.B(lm,z)?k.B?k.B(v,"default"):k.call(null,v,"default"):k.B?k.B(v,z):k.call(null,v,z);u+=1}else if(m=G(m))Af(m)?(n=Pd(m),m=Qd(m),z=n,p=K(n),n=z):(n=H(m),z=N(n,0,null),v=N(n,1,null),E.B(lm,z)?k.B?k.B(v,
"default"):k.call(null,v,"default"):k.B?k.B(v,z):k.call(null,v,z),m=J(m),n=null,p=0),u=0;else return null};return h}(),unpack:function(h){return h instanceof q?h.K:!1}}))}(up),v2=PY.C(W),x3=function(a,b,c){var d=N(c,0,null),e=Zg(d),f=B.B(e,VD),h=B.D(e,ps,fP.I(M([op,20]))),k=B.D(e,hq,function(){var pa=Jy.C(e);return r(pa)?pa:eP()}()),m=B.B(e,Lu),n=B.D(e,jt,cr),p=B.B(e,qq),u=B.D(e,oo,Ho),v=B.B(e,Yv),z=B.B(e,Cv),C=B.B(e,Wx);d=B.D(e,cv,MJ(2048));var F=B.D(e,TC,rO),I=B.D(e,WA,!0);null!=N(c,1,null)&&kQ(LC,
1621,new Al(function(){return new X(null,1,5,Z,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),1109665331);S(e,Im)&&kQ(LC,1622,new Al(function(){return new X(null,1,5,Z,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),-272136805);("string"!==typeof b||mE(b))&&kQ(LC,1625,new Al(function(){return new X(null,1,5,Z,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),1761983790);
var O=wQ(n);n=function(){if(r(sO)){var pa=sO.location;var sa=r(pa)?new q(null,7,[lo,pa.href,Lu,pa.protocol,Oz,pa.hostname,Wx,pa.host,px,pa.pathname,Sx,pa.search,iD,pa.hash],null):null}else sa=null;pa=r(a)?a:px.C(sa);var Da=Dt.C(e);if(r(Da))return new X(null,2,5,Z,[Da.D?Da.D(pa,sa,zx):Da.call(null,pa,sa,zx),Da.D?Da.D(pa,sa,PC):Da.call(null,pa,sa,PC)],null);r(m)?Da=m:(Da=Lu.C(sa),Da=r(Da)?Da:$v);sa=r(C)?r(v)?[t.C(C),":",t.C(v)].join(""):C:r(v)?[t.C(Oz.C(sa)),":",t.C(v)].join(""):Wx.C(sa);return new X(null,
2,5,Z,[RQ(Da,sa,pa,zx),RQ(Da,sa,pa,PC)],null)}();c=N(n,0,null);var P=N(n,1,null);n=new q(null,3,[dp,HK(MJ(128),null),lw,HK(MJ(10),null),ay,function(){var pa=MJ(512);return r(I)?GK(pa,Rh.C(function(sa){return new X(null,2,5,Z,[vD,sa],null)})):HK(pa,null)}()],null);h=new q(null,6,[hq,k,zB,n,qq,p,Cv,z,jt,O,ps,h],null);var T=sk.I(M([h,new q(null,2,[Ws,c,TC,F],null)])),aa=sk.I(M([h,new q(null,3,[Ws,P,VD,f,TC,F],null)])),ea=new q(null,2,[Xr,T,aw,aa],null);f=xQ(function(){var pa=u instanceof D?u.ba:null;
switch(pa){case "ws":return MQ(T,b);case "ajax":return PQ(aa,b);case "auto":pa=sk.I(M([new q(null,2,[qC,Fh(new q(null,4,[oo,Ho,Ps,!1,vz,!1,Ey,b],null)),vx,Fh(null)],null),ea]));var sa=R.I(pa,Xr,M([aw,qC,vx]));sa=yf(pa)?gi.B(W,sa):sa;return new QQ(Xr.C(pa),aw.C(pa),qC.C(pa),vx.C(pa),null,bh(sa),null);default:throw Error(["No matching clause: ",t.C(pa)].join(""));}}());if(r(f)){var va=qC.C(f),ua=dp.C(n),Ma=xh.B(AQ,f);d=RK(new X(null,3,5,Z,[dp.C(n),lw.C(n),ay.C(n)],null),d);F=GK(1,Rh.C(function(pa){var sa=
qQ(pa);pa=r(sa)?new X(null,2,5,Z,[HC,pa],null):pa;sa=N(pa,0,null);var Da=N(pa,1,null);return new q(null,6,[To,ua,Gz,Ma,lw,va,hx,pa,QD,sa,Qz,Da],null)}));OK(d,F);return new q(null,4,[xz,f,To,F,Gz,Ma,lw,qC.C(f)],null)}return kQ(LC,1727,new Al(function(){return new X(null,1,5,Z,["Failed to create channel socket"],null)}),-483698066)}("/chsk",null,M([new q(null,1,[oo,Ho],null)])),y3=Zg(x3);B.B(y3,xz);var y2=B.B(y3,To),z2=Fh(function(){return null});function z3(a){a=S2?S2(a):R2.call(null,a);FX(a)}
var B2=function B2(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return B2.I(c)};B2.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[wD,sk.I(M([new q(null,4,[Bz,"none",xs,"currentColor",Dx,"0 0 24 24",ov,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[JA,new q(null,4,[bz,"round",Bt,"round",Mq,"2",gB,"M6 18L18 6M6 6l12 12"],null)],null)],null)};B2.aa=0;B2.fa=function(a){return this.I(G(a))};
var C2=function C2(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return C2.I(c)};
C2.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[ir,sk.I(M([new q(null,4,[Bz,"none",xs,"currentColor",Dx,"0 0 24 24",ov,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[JA,new q(null,4,[bz,"round",Bt,"round",Mq,"2",gB,"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],null)],null)],null)};C2.aa=0;C2.fa=function(a){return this.I(G(a))};
var D2=function D2(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return D2.I(c)};
D2.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[ir,sk.I(M([new q(null,4,[Bz,"none",xs,"currentColor",Dx,"0 0 24 24",ov,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[JA,new q(null,4,[bz,"round",Bt,"round",Mq,"2",gB,"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"],null)],null)],null)};D2.aa=0;D2.fa=function(a){return this.I(G(a))};
function E2(){return new X(null,3,5,Z,[Vn,new q(null,1,[tC,"flex justify-center items-center w-1/2 h-1/3 border-4 border-dashed rounded"],null),new X(null,2,5,Z,[qA,new q(null,2,[oo,"file",zm,function(a){a=H(a.target.files);if(null==a)return null;var b=new FileReader;console.log("Processing...",a);Ih.D(v2,sk,new q(null,1,[Bl,Dv],null));b.onload=function(c){z3(t2.read(c.target.result));return Ih.D(v2,sk,new q(null,1,[Bl,Cl],null))};b.onerror=function(c){console.log(c.target.error);return Ih.D(v2,sk,
new q(null,1,[Bl,ex],null))};return b.readAsText(a)}],null)],null)],null)}
function F2(a){var b=TY(),c=0===b.length||kc(b.hasOwnProperty(0))?b[0]=PY.C(!1):b[0];return new X(null,4,5,Z,[En,new q(null,2,[Ct,function(){return Gh(c,!0)},nz,function(){return Gh(c,!1)}],null),new X(null,2,5,Z,[p2,a],null),new X(null,3,5,Z,[np,new q(null,1,[tC,r(y(c))?"bg-gray-50":null],null),new X(null,3,5,Z,[Cq,new q(null,2,[tC,new X(null,9,5,Z,["h-6 w-6","inline-flex items-center justify-center","bg-gray-200 hover:bg-gray-300","text-gray-600","focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-teal-500",
"transition duration-200 ease-in-out","rounded","cursor-default",r(y(c))?null:"invisible"],null),Vv,function(){return DX(new X(null,1,5,Z,[new X(null,2,5,Z,[eo,kp.C(a)],null)],null))}],null),new X(null,2,5,Z,[B2,new q(null,1,[tC,"w-5 h-5"],null)],null)],null)],null)],null)}
function G2(a){return new X(null,3,5,Z,[Gp,new X(null,2,5,Z,[zt,new X(null,3,5,Z,[Kz,new X(null,4,5,Z,[tA,s2.Tooltip,new q(null,2,[ny,"View database",Am,"small"],null),new X(null,3,5,Z,[Bm,new q(null,3,[sD,"database",tC,"inline-flex items-center px-3 py-2 border text-gray-600 hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out",Vv,function(){return DX(new X(null,
1,5,Z,[new q(null,5,[Xu,t.C(om()),Hp,Ev,vB,"clojure",Ls,!0,tr,function(){var b=new Pb,c=Vb,d=Ub;Vb=!0;Ub=function(e){return b.append(e)};try{zF()}finally{Ub=d,Vb=c}return t.C(b)}()],null)],null))}],null),new X(null,1,5,Z,[D2],null)],null)],null),new X(null,4,5,Z,[tA,s2.Tooltip,new q(null,2,[ny,"Download document",Am,"small"],null),new X(null,3,5,Z,[Bm,new q(null,3,[sD,"download",tC,new X(null,2,5,Z,[tf(a)?"text-gray-300 pointer-events-none":"text-gray-600","inline-flex items-center px-3 py-2 border hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out"],
null),Vv,function(){var b=y(AF);b=Q2?Q2(b):P2.call(null,b);b=u2.write(b);return r2.saveAs(new Blob([b],{type:"application/transit+json"}),"widgets.json")}],null),new X(null,1,5,Z,[C2],null)],null)],null)],null)],null),function(){var b=y(v2);b=Zg(b);b=B.B(b,Bl);b=b instanceof D?b.ba:null;switch(b){case "loading":return new X(null,2,5,Z,[kD,new X(null,2,5,Z,[Ax,"Loading..."],null)],null);case "processing":return new X(null,2,5,Z,[kD,new X(null,2,5,Z,[Ax,"Processing..."],null)],null);case "error":return new X(null,
2,5,Z,[kD,new X(null,2,5,Z,[Ax,"Error"],null)],null);case "ready":return G(a)?new X(null,2,5,Z,[wu,function(){return function e(d){return new wg(null,function(){for(;;){var f=G(d);if(f){if(Af(f)){var h=Pd(f),k=K(h),m=Cg(k);a:for(var n=0;;)if(n<k){var p=x(h,n);p=qf(new X(null,2,5,Z,[F2,p],null),new q(null,1,[sD,kp.C(p)],null));m.add(p);n+=1}else{h=!0;break a}return h?Eg(Gg(m),e(Qd(f))):Eg(Gg(m),null)}m=H(f);return Ze(qf(new X(null,2,5,Z,[F2,m],null),new q(null,1,[sD,kp.C(m)],null)),e(ve(f)))}return null}},
null,null)}(a)}()],null):new X(null,2,5,Z,[kD,new X(null,1,5,Z,[E2],null)],null);default:throw Error(["No matching clause: ",t.C(b)].join(""));}}()],null)}function H2(a){a=Zg(a);var b=B.B(a,Qz),c=N(b,0,null);b=N(b,1,null);console.group("Sente");console.log(uk(a,new X(null,2,5,Z,[QD,Qz],null)));console.groupEnd();return E.B(su,c)?DX(b):null}
function I2(){var a=new X(null,7,5,Z,[cy,new X(null,2,5,Z,[pg(iB,RD,new X(null,2,5,Z,[tp,new q(null,1,[co,new X(null,1,5,Z,[MB],null)],null)],null)),nA],null),LD,Xn,Nn,new X(null,2,5,Z,[RD,Xu],null),new X(null,1,5,Z,[pg($o,Xn,RD,us)],null)],null);var b=y(AF);a=BF.B?BF.B(a,b):BF.call(null,a,b);a=Pf(kp,a);a=new X(null,2,5,Z,[G2,a],null);b=document.getElementById("app");return ZZ(a,b)}var $0;
var o3=new X(null,1,5,Z,["/"],null),A3=sk.I(M([new q(null,1,[Vx,function(a,b){N(a,0,null);a=N(a,1,null);var c=Zg(a);a=B.B(c,Uw);c=B.B(c,qp);return r(r(a)?c:a)?s0(c,a,b):null}],null),W])),B3=sk.I(M([function(){return new q(null,6,[wB,function(a){N(a,0,null);a=N(a,1,null);a=Zg(a);a=B.B(a,ut);return r(a)?Jf([a]):null},ft,C0,DA,function(a){return a},Vx,function(a){N(a,0,null);a=N(a,1,null);a=Zg(a);return B.B(a,Lx)},tw,h_,at,function(a){return f_(Rq,a)}],null)}(),A3])),p3=Zg(B3),C3=B.B(p3,zw),D3=B.B(p3,
at);try{var r3=Z_(),q3=kc(r(C3)?kc(D3):C3)?b0(r3,p3):null,E3=f0(),F3=i0(),G3=Ff(sh(T_(p3),F3)),H3=rh(T_(p3),F3),I3=r(C3)?C3:E.B(1,K(F3))&&!G3?K0:r(q3)?M0:G3?H3?J0:L0:I0,J3=r(D3)?c0():D3;r(J3)&&(D3.C?D3.C(J3):D3.call(null,J3));r(E3)&&f_(lx,E3);var K3=Iq.C(p3);r(K3)&&(K3.B?K3.B(F3,p3):K3.call(null,F3,p3));var L3=Q.D(p3,On,q3);$0=I3.B?I3.B(F3,L3):I3.call(null,F3,L3)}catch(a){if(a instanceof Error){var M3=a,N3=B.D(p3,tw,Tf);throw N3.C?N3.C(M3):N3.call(null,M3);}throw a;}
function X2(){console.log("Welcome to Literate",r(!1)?"(dev build)":"(release build)");Z0(function(a){var b=function(){var c=ki(a,new X(null,2,5,Z,[jz,IH],null));return r(c)?c:ki(a,new X(null,2,5,Z,[jz,HH],null))}();return r(b)?(console.log("Loading...",b),Ih.D(v2,sk,new q(null,1,[Bl,hv],null)),fetch(b).then(function(c){return r(c.ok)?(console.log("Processing "),Ih.D(v2,sk,new q(null,1,[Bl,Dv],null)),c.text().then(function(d){try{var e=t2.read(d);r(ki(a,new X(null,2,5,Z,[jz,IH],null)))?z3(e):r(ki(a,
new X(null,2,5,Z,[jz,HH],null)))&&DX(e);Ih.D(v2,sk,new q(null,1,[Bl,Cl],null));return console.log("Done ")}catch(f){if(f instanceof Error)return console.error(f),Ih.D(v2,sk,new q(null,1,[Bl,ex],null));throw f;}})):Ih.D(v2,sk,new q(null,1,[Bl,ex],null))})):Ih.D(v2,sk,new q(null,1,[Bl,Cl],null))});Gh(z2,TQ(y2,H2));GX(function(){return I2()});return I2()}da("literate.app.init",X2);try{X2()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);